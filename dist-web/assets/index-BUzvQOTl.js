(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var M6=Object.defineProperty,A6=(e,t,n)=>t in e?M6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ON=(e,t,n)=>A6(e,typeof t!="symbol"?t+"":t,n);function E6(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();var ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var q5={exports:{}},Kg={},K5={exports:{}},dn={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var ep=Symbol.for("react.element"),P6=Symbol.for("react.portal"),T6=Symbol.for("react.fragment"),D6=Symbol.for("react.strict_mode"),O6=Symbol.for("react.profiler"),I6=Symbol.for("react.provider"),_6=Symbol.for("react.context"),L6=Symbol.for("react.forward_ref"),F6=Symbol.for("react.suspense"),R6=Symbol.for("react.memo"),$6=Symbol.for("react.lazy"),IN=Symbol.iterator;function B6(e){return e===null||typeof e!="object"?null:(e=IN&&e[IN]||e["@@iterator"],typeof e=="function"?e:null)}var Y5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G5=Object.assign,X5={};function qu(e,t,n){this.props=e,this.context=t,this.refs=X5,this.updater=n||Y5}qu.prototype.isReactComponent={};qu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};qu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Z5(){}Z5.prototype=qu.prototype;function kw(e,t,n){this.props=e,this.context=t,this.refs=X5,this.updater=n||Y5}var Sw=kw.prototype=new Z5;Sw.constructor=kw;G5(Sw,qu.prototype);Sw.isPureReactComponent=!0;var _N=Array.isArray,Q5=Object.prototype.hasOwnProperty,Nw={current:null},J5={key:!0,ref:!0,__self:!0,__source:!0};function eP(e,t,n){var r,a={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Q5.call(t,r)&&!J5.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(s===1)a.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)a[r]===void 0&&(a[r]=s[r]);return{$$typeof:ep,type:e,key:i,ref:o,props:a,_owner:Nw.current}}function z6(e,t){return{$$typeof:ep,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function jw(e){return typeof e=="object"&&e!==null&&e.$$typeof===ep}function V6(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var LN=/\/+/g;function Ey(e,t){return typeof e=="object"&&e!==null&&e.key!=null?V6(""+e.key):t.toString(36)}function zm(e,t,n,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ep:case P6:o=!0}}if(o)return o=e,a=a(o),e=r===""?"."+Ey(o,0):r,_N(a)?(n="",e!=null&&(n=e.replace(LN,"$&/")+"/"),zm(a,t,n,"",function(c){return c})):a!=null&&(jw(a)&&(a=z6(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(LN,"$&/")+"/")+e)),t.push(a)),1;if(o=0,r=r===""?".":r+":",_N(e))for(var s=0;s<e.length;s++){i=e[s];var l=r+Ey(i,s);o+=zm(i,t,n,l,a)}else if(l=B6(e),typeof l=="function")for(e=l.call(e),s=0;!(i=e.next()).done;)i=i.value,l=r+Ey(i,s++),o+=zm(i,t,n,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Zp(e,t,n){if(e==null)return e;var r=[],a=0;return zm(e,r,"","",function(i){return t.call(n,i,a++)}),r}function U6(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Va={current:null},Vm={transition:null},W6={ReactCurrentDispatcher:Va,ReactCurrentBatchConfig:Vm,ReactCurrentOwner:Nw};function tP(){throw Error("act(...) is not supported in production builds of React.")}dn.Children={map:Zp,forEach:function(e,t,n){Zp(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Zp(e,function(){t++}),t},toArray:function(e){return Zp(e,function(t){return t})||[]},only:function(e){if(!jw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};dn.Component=qu;dn.Fragment=T6;dn.Profiler=O6;dn.PureComponent=kw;dn.StrictMode=D6;dn.Suspense=F6;dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W6;dn.act=tP;dn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=G5({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Nw.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)Q5.call(t,l)&&!J5.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:ep,type:e.type,key:a,ref:i,props:r,_owner:o}};dn.createContext=function(e){return e={$$typeof:_6,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:I6,_context:e},e.Consumer=e};dn.createElement=eP;dn.createFactory=function(e){var t=eP.bind(null,e);return t.type=e,t};dn.createRef=function(){return{current:null}};dn.forwardRef=function(e){return{$$typeof:L6,render:e}};dn.isValidElement=jw;dn.lazy=function(e){return{$$typeof:$6,_payload:{_status:-1,_result:e},_init:U6}};dn.memo=function(e,t){return{$$typeof:R6,type:e,compare:t===void 0?null:t}};dn.startTransition=function(e){var t=Vm.transition;Vm.transition={};try{e()}finally{Vm.transition=t}};dn.unstable_act=tP;dn.useCallback=function(e,t){return Va.current.useCallback(e,t)};dn.useContext=function(e){return Va.current.useContext(e)};dn.useDebugValue=function(){};dn.useDeferredValue=function(e){return Va.current.useDeferredValue(e)};dn.useEffect=function(e,t){return Va.current.useEffect(e,t)};dn.useId=function(){return Va.current.useId()};dn.useImperativeHandle=function(e,t,n){return Va.current.useImperativeHandle(e,t,n)};dn.useInsertionEffect=function(e,t){return Va.current.useInsertionEffect(e,t)};dn.useLayoutEffect=function(e,t){return Va.current.useLayoutEffect(e,t)};dn.useMemo=function(e,t){return Va.current.useMemo(e,t)};dn.useReducer=function(e,t,n){return Va.current.useReducer(e,t,n)};dn.useRef=function(e){return Va.current.useRef(e)};dn.useState=function(e){return Va.current.useState(e)};dn.useSyncExternalStore=function(e,t,n){return Va.current.useSyncExternalStore(e,t,n)};dn.useTransition=function(){return Va.current.useTransition()};dn.version="18.3.1";K5.exports=dn;var v=K5.exports;const Yg=bo(v),H6=E6({__proto__:null,default:Yg},[v]);/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var q6=v,K6=Symbol.for("react.element"),Y6=Symbol.for("react.fragment"),G6=Object.prototype.hasOwnProperty,X6=q6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Z6={key:!0,ref:!0,__self:!0,__source:!0};function nP(e,t,n){var r,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)G6.call(t,r)&&!Z6.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:K6,type:e,key:i,ref:o,props:a,_owner:X6.current}}Kg.Fragment=Y6;Kg.jsx=nP;Kg.jsxs=nP;q5.exports=Kg;var u=q5.exports,nb={},rP={exports:{}},Mi={},aP={exports:{}},iP={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(e){function t(B,ie){var k=B.length;B.push(ie);e:for(;0<k;){var I=k-1>>>1,A=B[I];if(0<a(A,ie))B[I]=ie,B[k]=A,k=I;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var ie=B[0],k=B.pop();if(k!==ie){B[0]=k;e:for(var I=0,A=B.length,j=A>>>1;I<j;){var L=2*(I+1)-1,q=B[L],Q=L+1,G=B[Q];if(0>a(q,k))Q<A&&0>a(G,q)?(B[I]=G,B[Q]=k,I=Q):(B[I]=q,B[L]=k,I=L);else if(Q<A&&0>a(G,k))B[I]=G,B[Q]=k,I=Q;else break e}}return ie}function a(B,ie){var k=B.sortIndex-ie.sortIndex;return k!==0?k:B.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],c=[],d=1,f=null,p=3,m=!1,h=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(B){for(var ie=n(c);ie!==null;){if(ie.callback===null)r(c);else if(ie.startTime<=B)r(c),ie.sortIndex=ie.expirationTime,t(l,ie);else break;ie=n(c)}}function S(B){if(y=!1,w(B),!h)if(n(l)!==null)h=!0,de(C);else{var ie=n(c);ie!==null&&z(S,ie.startTime-B)}}function C(B,ie){h=!1,y&&(y=!1,g(T),T=-1),m=!0;var k=p;try{for(w(ie),f=n(l);f!==null&&(!(f.expirationTime>ie)||B&&!P());){var I=f.callback;if(typeof I=="function"){f.callback=null,p=f.priorityLevel;var A=I(f.expirationTime<=ie);ie=e.unstable_now(),typeof A=="function"?f.callback=A:f===n(l)&&r(l),w(ie)}else r(l);f=n(l)}if(f!==null)var j=!0;else{var L=n(c);L!==null&&z(S,L.startTime-ie),j=!1}return j}finally{f=null,p=k,m=!1}}var N=!1,M=null,T=-1,$=5,E=-1;function P(){return!(e.unstable_now()-E<$)}function O(){if(M!==null){var B=e.unstable_now();E=B;var ie=!0;try{ie=M(!0,B)}finally{ie?U():(N=!1,M=null)}}else N=!1}var U;if(typeof b=="function")U=function(){b(O)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,ee=X.port2;X.port1.onmessage=O,U=function(){ee.postMessage(null)}}else U=function(){x(O,0)};function de(B){M=B,N||(N=!0,U())}function z(B,ie){T=x(function(){B(e.unstable_now())},ie)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){h||m||(h=!0,de(C))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(B){switch(p){case 1:case 2:case 3:var ie=3;break;default:ie=p}var k=p;p=ie;try{return B()}finally{p=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,ie){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var k=p;p=B;try{return ie()}finally{p=k}},e.unstable_scheduleCallback=function(B,ie,k){var I=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?I+k:I):k=I,B){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=k+A,B={id:d++,callback:ie,priorityLevel:B,startTime:k,expirationTime:A,sortIndex:-1},k>I?(B.sortIndex=k,t(c,B),n(l)===null&&B===n(c)&&(y?(g(T),T=-1):y=!0,z(S,k-I))):(B.sortIndex=A,t(l,B),h||m||(h=!0,de(C))),B},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(B){var ie=p;return function(){var k=p;p=ie;try{return B.apply(this,arguments)}finally{p=k}}}})(iP);aP.exports=iP;var Q6=aP.exports;/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var J6=v,Ni=Q6;function Ve(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var oP=new Set,cf={};function jc(e,t){ju(e,t),ju(e+"Capture",t)}function ju(e,t){for(cf[e]=t,e=0;e<t.length;e++)oP.add(t[e])}var us=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rb=Object.prototype.hasOwnProperty,e$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,FN={},RN={};function t$(e){return rb.call(RN,e)?!0:rb.call(FN,e)?!1:e$.test(e)?RN[e]=!0:(FN[e]=!0,!1)}function n$(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function r$(e,t,n,r){if(t===null||typeof t>"u"||n$(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ua(e,t,n,r,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var ma={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ma[e]=new Ua(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ma[t]=new Ua(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ma[e]=new Ua(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ma[e]=new Ua(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ma[e]=new Ua(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ma[e]=new Ua(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ma[e]=new Ua(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ma[e]=new Ua(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ma[e]=new Ua(e,5,!1,e.toLowerCase(),null,!1,!1)});var Cw=/[\-:]([a-z])/g;function Mw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Cw,Mw);ma[t]=new Ua(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Cw,Mw);ma[t]=new Ua(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Cw,Mw);ma[t]=new Ua(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ma[e]=new Ua(e,1,!1,e.toLowerCase(),null,!1,!1)});ma.xlinkHref=new Ua("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ma[e]=new Ua(e,1,!1,e.toLowerCase(),null,!0,!0)});function Aw(e,t,n,r){var a=ma.hasOwnProperty(t)?ma[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(r$(t,n,a,r)&&(n=null),r||a===null?t$(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ws=J6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qp=Symbol.for("react.element"),Zc=Symbol.for("react.portal"),Qc=Symbol.for("react.fragment"),Ew=Symbol.for("react.strict_mode"),ab=Symbol.for("react.profiler"),sP=Symbol.for("react.provider"),lP=Symbol.for("react.context"),Pw=Symbol.for("react.forward_ref"),ib=Symbol.for("react.suspense"),ob=Symbol.for("react.suspense_list"),Tw=Symbol.for("react.memo"),Ws=Symbol.for("react.lazy"),cP=Symbol.for("react.offscreen"),$N=Symbol.iterator;function md(e){return e===null||typeof e!="object"?null:(e=$N&&e[$N]||e["@@iterator"],typeof e=="function"?e:null)}var br=Object.assign,Py;function Ld(e){if(Py===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Py=t&&t[1]||""}return`
`+Py+e}var Ty=!1;function Dy(e,t){if(!e||Ty)return"";Ty=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),i=r.stack.split(`
`),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(o!==1||s!==1)do if(o--,s--,0>s||a[o]!==i[s]){var l=`
`+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{Ty=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ld(e):""}function a$(e){switch(e.tag){case 5:return Ld(e.type);case 16:return Ld("Lazy");case 13:return Ld("Suspense");case 19:return Ld("SuspenseList");case 0:case 2:case 15:return e=Dy(e.type,!1),e;case 11:return e=Dy(e.type.render,!1),e;case 1:return e=Dy(e.type,!0),e;default:return""}}function sb(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qc:return"Fragment";case Zc:return"Portal";case ab:return"Profiler";case Ew:return"StrictMode";case ib:return"Suspense";case ob:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case lP:return(e.displayName||"Context")+".Consumer";case sP:return(e._context.displayName||"Context")+".Provider";case Pw:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Tw:return t=e.displayName||null,t!==null?t:sb(e.type)||"Memo";case Ws:t=e._payload,e=e._init;try{return sb(e(t))}catch{}}return null}function i$(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sb(t);case 8:return t===Ew?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function pl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function uP(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function o$(e){var t=uP(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Jp(e){e._valueTracker||(e._valueTracker=o$(e))}function dP(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=uP(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function mh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function lb(e,t){var n=t.checked;return br({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function BN(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=pl(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function fP(e,t){t=t.checked,t!=null&&Aw(e,"checked",t,!1)}function cb(e,t){fP(e,t);var n=pl(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ub(e,t.type,n):t.hasOwnProperty("defaultValue")&&ub(e,t.type,pl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function zN(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ub(e,t,n){(t!=="number"||mh(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Fd=Array.isArray;function hu(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+pl(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function db(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ve(91));return br({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function VN(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ve(92));if(Fd(n)){if(1<n.length)throw Error(Ve(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:pl(n)}}function pP(e,t){var n=pl(t.value),r=pl(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function UN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function mP(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fb(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?mP(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var em,hP=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(em=em||document.createElement("div"),em.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=em.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function uf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Wd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},s$=["Webkit","ms","Moz","O"];Object.keys(Wd).forEach(function(e){s$.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Wd[t]=Wd[e]})});function gP(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Wd.hasOwnProperty(e)&&Wd[e]?(""+t).trim():t+"px"}function yP(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=gP(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var l$=br({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pb(e,t){if(t){if(l$[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ve(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ve(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ve(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ve(62))}}function mb(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hb=null;function Dw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gb=null,gu=null,yu=null;function WN(e){if(e=rp(e)){if(typeof gb!="function")throw Error(Ve(280));var t=e.stateNode;t&&(t=Jg(t),gb(e.stateNode,e.type,t))}}function vP(e){gu?yu?yu.push(e):yu=[e]:gu=e}function bP(){if(gu){var e=gu,t=yu;if(yu=gu=null,WN(e),t)for(e=0;e<t.length;e++)WN(t[e])}}function xP(e,t){return e(t)}function wP(){}var Oy=!1;function kP(e,t,n){if(Oy)return e(t,n);Oy=!0;try{return xP(e,t,n)}finally{Oy=!1,(gu!==null||yu!==null)&&(wP(),bP())}}function df(e,t){var n=e.stateNode;if(n===null)return null;var r=Jg(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ve(231,t,typeof n));return n}var yb=!1;if(us)try{var hd={};Object.defineProperty(hd,"passive",{get:function(){yb=!0}}),window.addEventListener("test",hd,hd),window.removeEventListener("test",hd,hd)}catch{yb=!1}function c$(e,t,n,r,a,i,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Hd=!1,hh=null,gh=!1,vb=null,u$={onError:function(e){Hd=!0,hh=e}};function d$(e,t,n,r,a,i,o,s,l){Hd=!1,hh=null,c$.apply(u$,arguments)}function f$(e,t,n,r,a,i,o,s,l){if(d$.apply(this,arguments),Hd){if(Hd){var c=hh;Hd=!1,hh=null}else throw Error(Ve(198));gh||(gh=!0,vb=c)}}function Cc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function SP(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function HN(e){if(Cc(e)!==e)throw Error(Ve(188))}function p$(e){var t=e.alternate;if(!t){if(t=Cc(e),t===null)throw Error(Ve(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return HN(a),e;if(i===r)return HN(a),t;i=i.sibling}throw Error(Ve(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o){for(s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o)throw Error(Ve(189))}}if(n.alternate!==r)throw Error(Ve(190))}if(n.tag!==3)throw Error(Ve(188));return n.stateNode.current===n?e:t}function NP(e){return e=p$(e),e!==null?jP(e):null}function jP(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=jP(e);if(t!==null)return t;e=e.sibling}return null}var CP=Ni.unstable_scheduleCallback,qN=Ni.unstable_cancelCallback,m$=Ni.unstable_shouldYield,h$=Ni.unstable_requestPaint,Tr=Ni.unstable_now,g$=Ni.unstable_getCurrentPriorityLevel,Ow=Ni.unstable_ImmediatePriority,MP=Ni.unstable_UserBlockingPriority,yh=Ni.unstable_NormalPriority,y$=Ni.unstable_LowPriority,AP=Ni.unstable_IdlePriority,Gg=null,Lo=null;function v$(e){if(Lo&&typeof Lo.onCommitFiberRoot=="function")try{Lo.onCommitFiberRoot(Gg,e,void 0,(e.current.flags&128)===128)}catch{}}var lo=Math.clz32?Math.clz32:w$,b$=Math.log,x$=Math.LN2;function w$(e){return e>>>=0,e===0?32:31-(b$(e)/x$|0)|0}var tm=64,nm=4194304;function Rd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function vh(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~a;s!==0?r=Rd(s):(i&=o,i!==0&&(r=Rd(i)))}else o=n&~a,o!==0?r=Rd(o):i!==0&&(r=Rd(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-lo(t),a=1<<n,r|=e[n],t&=~a;return r}function k$(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function S$(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-lo(i),s=1<<o,l=a[o];l===-1?(!(s&n)||s&r)&&(a[o]=k$(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}function bb(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function EP(){var e=tm;return tm<<=1,!(tm&4194240)&&(tm=64),e}function Iy(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function tp(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-lo(t),e[t]=n}function N$(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-lo(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}function Iw(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-lo(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var _n=0;function PP(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var TP,_w,DP,OP,IP,xb=!1,rm=[],nl=null,rl=null,al=null,ff=new Map,pf=new Map,Gs=[],j$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function KN(e,t){switch(e){case"focusin":case"focusout":nl=null;break;case"dragenter":case"dragleave":rl=null;break;case"mouseover":case"mouseout":al=null;break;case"pointerover":case"pointerout":ff.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pf.delete(t.pointerId)}}function gd(e,t,n,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=rp(t),t!==null&&_w(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function C$(e,t,n,r,a){switch(t){case"focusin":return nl=gd(nl,e,t,n,r,a),!0;case"dragenter":return rl=gd(rl,e,t,n,r,a),!0;case"mouseover":return al=gd(al,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return ff.set(i,gd(ff.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,pf.set(i,gd(pf.get(i)||null,e,t,n,r,a)),!0}return!1}function _P(e){var t=ql(e.target);if(t!==null){var n=Cc(t);if(n!==null){if(t=n.tag,t===13){if(t=SP(n),t!==null){e.blockedOn=t,IP(e.priority,function(){DP(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Um(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=wb(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);hb=r,n.target.dispatchEvent(r),hb=null}else return t=rp(n),t!==null&&_w(t),e.blockedOn=n,!1;t.shift()}return!0}function YN(e,t,n){Um(e)&&n.delete(t)}function M$(){xb=!1,nl!==null&&Um(nl)&&(nl=null),rl!==null&&Um(rl)&&(rl=null),al!==null&&Um(al)&&(al=null),ff.forEach(YN),pf.forEach(YN)}function yd(e,t){e.blockedOn===t&&(e.blockedOn=null,xb||(xb=!0,Ni.unstable_scheduleCallback(Ni.unstable_NormalPriority,M$)))}function mf(e){function t(a){return yd(a,e)}if(0<rm.length){yd(rm[0],e);for(var n=1;n<rm.length;n++){var r=rm[n];r.blockedOn===e&&(r.blockedOn=null)}}for(nl!==null&&yd(nl,e),rl!==null&&yd(rl,e),al!==null&&yd(al,e),ff.forEach(t),pf.forEach(t),n=0;n<Gs.length;n++)r=Gs[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Gs.length&&(n=Gs[0],n.blockedOn===null);)_P(n),n.blockedOn===null&&Gs.shift()}var vu=ws.ReactCurrentBatchConfig,bh=!0;function A$(e,t,n,r){var a=_n,i=vu.transition;vu.transition=null;try{_n=1,Lw(e,t,n,r)}finally{_n=a,vu.transition=i}}function E$(e,t,n,r){var a=_n,i=vu.transition;vu.transition=null;try{_n=4,Lw(e,t,n,r)}finally{_n=a,vu.transition=i}}function Lw(e,t,n,r){if(bh){var a=wb(e,t,n,r);if(a===null)Wy(e,t,r,xh,n),KN(e,r);else if(C$(a,e,t,n,r))r.stopPropagation();else if(KN(e,r),t&4&&-1<j$.indexOf(e)){for(;a!==null;){var i=rp(a);if(i!==null&&TP(i),i=wb(e,t,n,r),i===null&&Wy(e,t,r,xh,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else Wy(e,t,r,null,n)}}var xh=null;function wb(e,t,n,r){if(xh=null,e=Dw(r),e=ql(e),e!==null)if(t=Cc(e),t===null)e=null;else if(n=t.tag,n===13){if(e=SP(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xh=e,null}function LP(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(g$()){case Ow:return 1;case MP:return 4;case yh:case y$:return 16;case AP:return 536870912;default:return 16}default:return 16}}var Qs=null,Fw=null,Wm=null;function FP(){if(Wm)return Wm;var e,t=Fw,n=t.length,r,a="value"in Qs?Qs.value:Qs.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===a[i-r];r++);return Wm=a.slice(e,1<r?1-r:void 0)}function Hm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function am(){return!0}function GN(){return!1}function Ai(e){function t(n,r,a,i,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?am:GN,this.isPropagationStopped=GN,this}return br(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=am)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=am)},persist:function(){},isPersistent:am}),t}var Ku={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rw=Ai(Ku),np=br({},Ku,{view:0,detail:0}),P$=Ai(np),_y,Ly,vd,Xg=br({},np,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$w,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vd&&(vd&&e.type==="mousemove"?(_y=e.screenX-vd.screenX,Ly=e.screenY-vd.screenY):Ly=_y=0,vd=e),_y)},movementY:function(e){return"movementY"in e?e.movementY:Ly}}),XN=Ai(Xg),T$=br({},Xg,{dataTransfer:0}),D$=Ai(T$),O$=br({},np,{relatedTarget:0}),Fy=Ai(O$),I$=br({},Ku,{animationName:0,elapsedTime:0,pseudoElement:0}),_$=Ai(I$),L$=br({},Ku,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),F$=Ai(L$),R$=br({},Ku,{data:0}),ZN=Ai(R$),$$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},B$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function V$(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=z$[e])?!!t[e]:!1}function $w(){return V$}var U$=br({},np,{key:function(e){if(e.key){var t=$$[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?B$[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$w,charCode:function(e){return e.type==="keypress"?Hm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),W$=Ai(U$),H$=br({},Xg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),QN=Ai(H$),q$=br({},np,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$w}),K$=Ai(q$),Y$=br({},Ku,{propertyName:0,elapsedTime:0,pseudoElement:0}),G$=Ai(Y$),X$=br({},Xg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Z$=Ai(X$),Q$=[9,13,27,32],Bw=us&&"CompositionEvent"in window,qd=null;us&&"documentMode"in document&&(qd=document.documentMode);var J$=us&&"TextEvent"in window&&!qd,RP=us&&(!Bw||qd&&8<qd&&11>=qd),JN=" ",e2=!1;function $P(e,t){switch(e){case"keyup":return Q$.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function BP(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jc=!1;function eB(e,t){switch(e){case"compositionend":return BP(t);case"keypress":return t.which!==32?null:(e2=!0,JN);case"textInput":return e=t.data,e===JN&&e2?null:e;default:return null}}function tB(e,t){if(Jc)return e==="compositionend"||!Bw&&$P(e,t)?(e=FP(),Wm=Fw=Qs=null,Jc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return RP&&t.locale!=="ko"?null:t.data;default:return null}}var nB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!nB[e.type]:t==="textarea"}function zP(e,t,n,r){vP(r),t=wh(t,"onChange"),0<t.length&&(n=new Rw("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kd=null,hf=null;function rB(e){QP(e,0)}function Zg(e){var t=nu(e);if(dP(t))return e}function aB(e,t){if(e==="change")return t}var VP=!1;if(us){var Ry;if(us){var $y="oninput"in document;if(!$y){var n2=document.createElement("div");n2.setAttribute("oninput","return;"),$y=typeof n2.oninput=="function"}Ry=$y}else Ry=!1;VP=Ry&&(!document.documentMode||9<document.documentMode)}function r2(){Kd&&(Kd.detachEvent("onpropertychange",UP),hf=Kd=null)}function UP(e){if(e.propertyName==="value"&&Zg(hf)){var t=[];zP(t,hf,e,Dw(e)),kP(rB,t)}}function iB(e,t,n){e==="focusin"?(r2(),Kd=t,hf=n,Kd.attachEvent("onpropertychange",UP)):e==="focusout"&&r2()}function oB(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zg(hf)}function sB(e,t){if(e==="click")return Zg(t)}function lB(e,t){if(e==="input"||e==="change")return Zg(t)}function cB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var po=typeof Object.is=="function"?Object.is:cB;function gf(e,t){if(po(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!rb.call(t,a)||!po(e[a],t[a]))return!1}return!0}function a2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function i2(e,t){var n=a2(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=a2(n)}}function WP(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?WP(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function HP(){for(var e=window,t=mh();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=mh(e.document)}return t}function zw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function uB(e){var t=HP(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&WP(n.ownerDocument.documentElement,n)){if(r!==null&&zw(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=i2(n,i);var o=i2(n,r);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dB=us&&"documentMode"in document&&11>=document.documentMode,eu=null,kb=null,Yd=null,Sb=!1;function o2(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sb||eu==null||eu!==mh(r)||(r=eu,"selectionStart"in r&&zw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Yd&&gf(Yd,r)||(Yd=r,r=wh(kb,"onSelect"),0<r.length&&(t=new Rw("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=eu)))}function im(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var tu={animationend:im("Animation","AnimationEnd"),animationiteration:im("Animation","AnimationIteration"),animationstart:im("Animation","AnimationStart"),transitionend:im("Transition","TransitionEnd")},By={},qP={};us&&(qP=document.createElement("div").style,"AnimationEvent"in window||(delete tu.animationend.animation,delete tu.animationiteration.animation,delete tu.animationstart.animation),"TransitionEvent"in window||delete tu.transitionend.transition);function Qg(e){if(By[e])return By[e];if(!tu[e])return e;var t=tu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in qP)return By[e]=t[n];return e}var KP=Qg("animationend"),YP=Qg("animationiteration"),GP=Qg("animationstart"),XP=Qg("transitionend"),ZP=new Map,s2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bl(e,t){ZP.set(e,t),jc(t,[e])}for(var zy=0;zy<s2.length;zy++){var Vy=s2[zy],fB=Vy.toLowerCase(),pB=Vy[0].toUpperCase()+Vy.slice(1);bl(fB,"on"+pB)}bl(KP,"onAnimationEnd");bl(YP,"onAnimationIteration");bl(GP,"onAnimationStart");bl("dblclick","onDoubleClick");bl("focusin","onFocus");bl("focusout","onBlur");bl(XP,"onTransitionEnd");ju("onMouseEnter",["mouseout","mouseover"]);ju("onMouseLeave",["mouseout","mouseover"]);ju("onPointerEnter",["pointerout","pointerover"]);ju("onPointerLeave",["pointerout","pointerover"]);jc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jc("onBeforeInput",["compositionend","keypress","textInput","paste"]);jc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $d="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mB=new Set("cancel close invalid load scroll toggle".split(" ").concat($d));function l2(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,f$(r,t,void 0,e),e.currentTarget=null}function QP(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;l2(a,s,c),i=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,c=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;l2(a,s,c),i=l}}}if(gh)throw e=vb,gh=!1,vb=null,e}function Zn(e,t){var n=t[Ab];n===void 0&&(n=t[Ab]=new Set);var r=e+"__bubble";n.has(r)||(JP(t,e,2,!1),n.add(r))}function Uy(e,t,n){var r=0;t&&(r|=4),JP(n,e,r,t)}var om="_reactListening"+Math.random().toString(36).slice(2);function yf(e){if(!e[om]){e[om]=!0,oP.forEach(function(n){n!=="selectionchange"&&(mB.has(n)||Uy(n,!1,e),Uy(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[om]||(t[om]=!0,Uy("selectionchange",!1,t))}}function JP(e,t,n,r){switch(LP(t)){case 1:var a=A$;break;case 4:a=E$;break;default:a=Lw}n=a.bind(null,t,n,e),a=void 0,!yb||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Wy(e,t,n,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===a||s.nodeType===8&&s.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;o=o.return}for(;s!==null;){if(o=ql(s),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}s=s.parentNode}}r=r.return}kP(function(){var c=i,d=Dw(n),f=[];e:{var p=ZP.get(e);if(p!==void 0){var m=Rw,h=e;switch(e){case"keypress":if(Hm(n)===0)break e;case"keydown":case"keyup":m=W$;break;case"focusin":h="focus",m=Fy;break;case"focusout":h="blur",m=Fy;break;case"beforeblur":case"afterblur":m=Fy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=XN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=D$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=K$;break;case KP:case YP:case GP:m=_$;break;case XP:m=G$;break;case"scroll":m=P$;break;case"wheel":m=Z$;break;case"copy":case"cut":case"paste":m=F$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=QN}var y=(t&4)!==0,x=!y&&e==="scroll",g=y?p!==null?p+"Capture":null:p;y=[];for(var b=c,w;b!==null;){w=b;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,g!==null&&(S=df(b,g),S!=null&&y.push(vf(b,S,w)))),x)break;b=b.return}0<y.length&&(p=new m(p,h,null,n,d),f.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==hb&&(h=n.relatedTarget||n.fromElement)&&(ql(h)||h[ds]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(h=n.relatedTarget||n.toElement,m=c,h=h?ql(h):null,h!==null&&(x=Cc(h),h!==x||h.tag!==5&&h.tag!==6)&&(h=null)):(m=null,h=c),m!==h)){if(y=XN,S="onMouseLeave",g="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(y=QN,S="onPointerLeave",g="onPointerEnter",b="pointer"),x=m==null?p:nu(m),w=h==null?p:nu(h),p=new y(S,b+"leave",m,n,d),p.target=x,p.relatedTarget=w,S=null,ql(d)===c&&(y=new y(g,b+"enter",h,n,d),y.target=w,y.relatedTarget=x,S=y),x=S,m&&h)t:{for(y=m,g=h,b=0,w=y;w;w=Vc(w))b++;for(w=0,S=g;S;S=Vc(S))w++;for(;0<b-w;)y=Vc(y),b--;for(;0<w-b;)g=Vc(g),w--;for(;b--;){if(y===g||g!==null&&y===g.alternate)break t;y=Vc(y),g=Vc(g)}y=null}else y=null;m!==null&&c2(f,p,m,y,!1),h!==null&&x!==null&&c2(f,x,h,y,!0)}}e:{if(p=c?nu(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var C=aB;else if(t2(p))if(VP)C=lB;else{C=oB;var N=iB}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=sB);if(C&&(C=C(e,c))){zP(f,C,n,d);break e}N&&N(e,p,c),e==="focusout"&&(N=p._wrapperState)&&N.controlled&&p.type==="number"&&ub(p,"number",p.value)}switch(N=c?nu(c):window,e){case"focusin":(t2(N)||N.contentEditable==="true")&&(eu=N,kb=c,Yd=null);break;case"focusout":Yd=kb=eu=null;break;case"mousedown":Sb=!0;break;case"contextmenu":case"mouseup":case"dragend":Sb=!1,o2(f,n,d);break;case"selectionchange":if(dB)break;case"keydown":case"keyup":o2(f,n,d)}var M;if(Bw)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Jc?$P(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(RP&&n.locale!=="ko"&&(Jc||T!=="onCompositionStart"?T==="onCompositionEnd"&&Jc&&(M=FP()):(Qs=d,Fw="value"in Qs?Qs.value:Qs.textContent,Jc=!0)),N=wh(c,T),0<N.length&&(T=new ZN(T,e,null,n,d),f.push({event:T,listeners:N}),M?T.data=M:(M=BP(n),M!==null&&(T.data=M)))),(M=J$?eB(e,n):tB(e,n))&&(c=wh(c,"onBeforeInput"),0<c.length&&(d=new ZN("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=M))}QP(f,t)})}function vf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function wh(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=df(e,n),i!=null&&r.unshift(vf(e,i,a)),i=df(e,t),i!=null&&r.push(vf(e,i,a))),e=e.return}return r}function Vc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function c2(e,t,n,r,a){for(var i=t._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,a?(l=df(n,i),l!=null&&o.unshift(vf(n,l,s))):a||(l=df(n,i),l!=null&&o.push(vf(n,l,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var hB=/\r\n?/g,gB=/\u0000|\uFFFD/g;function u2(e){return(typeof e=="string"?e:""+e).replace(hB,`
`).replace(gB,"")}function sm(e,t,n){if(t=u2(t),u2(e)!==t&&n)throw Error(Ve(425))}function kh(){}var Nb=null,jb=null;function Cb(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Mb=typeof setTimeout=="function"?setTimeout:void 0,yB=typeof clearTimeout=="function"?clearTimeout:void 0,d2=typeof Promise=="function"?Promise:void 0,vB=typeof queueMicrotask=="function"?queueMicrotask:typeof d2<"u"?function(e){return d2.resolve(null).then(e).catch(bB)}:Mb;function bB(e){setTimeout(function(){throw e})}function Hy(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),mf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);mf(t)}function il(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function f2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Yu=Math.random().toString(36).slice(2),Io="__reactFiber$"+Yu,bf="__reactProps$"+Yu,ds="__reactContainer$"+Yu,Ab="__reactEvents$"+Yu,xB="__reactListeners$"+Yu,wB="__reactHandles$"+Yu;function ql(e){var t=e[Io];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ds]||n[Io]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=f2(e);e!==null;){if(n=e[Io])return n;e=f2(e)}return t}e=n,n=e.parentNode}return null}function rp(e){return e=e[Io]||e[ds],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function nu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ve(33))}function Jg(e){return e[bf]||null}var Eb=[],ru=-1;function xl(e){return{current:e}}function er(e){0>ru||(e.current=Eb[ru],Eb[ru]=null,ru--)}function Kn(e,t){ru++,Eb[ru]=e.current,e.current=t}var ml={},Ma=xl(ml),ei=xl(!1),cc=ml;function Cu(e,t){var n=e.type.contextTypes;if(!n)return ml;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ti(e){return e=e.childContextTypes,e!=null}function Sh(){er(ei),er(Ma)}function p2(e,t,n){if(Ma.current!==ml)throw Error(Ve(168));Kn(Ma,t),Kn(ei,n)}function eT(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(Ve(108,i$(e)||"Unknown",a));return br({},n,r)}function Nh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ml,cc=Ma.current,Kn(Ma,e),Kn(ei,ei.current),!0}function m2(e,t,n){var r=e.stateNode;if(!r)throw Error(Ve(169));n?(e=eT(e,t,cc),r.__reactInternalMemoizedMergedChildContext=e,er(ei),er(Ma),Kn(Ma,e)):er(ei),Kn(ei,n)}var Go=null,e0=!1,qy=!1;function tT(e){Go===null?Go=[e]:Go.push(e)}function kB(e){e0=!0,tT(e)}function wl(){if(!qy&&Go!==null){qy=!0;var e=0,t=_n;try{var n=Go;for(_n=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Go=null,e0=!1}catch(a){throw Go!==null&&(Go=Go.slice(e+1)),CP(Ow,wl),a}finally{_n=t,qy=!1}}return null}var au=[],iu=0,jh=null,Ch=0,$i=[],Bi=0,uc=null,es=1,ts="";function Rl(e,t){au[iu++]=Ch,au[iu++]=jh,jh=e,Ch=t}function nT(e,t,n){$i[Bi++]=es,$i[Bi++]=ts,$i[Bi++]=uc,uc=e;var r=es;e=ts;var a=32-lo(r)-1;r&=~(1<<a),n+=1;var i=32-lo(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,es=1<<32-lo(t)+a|n<<a|r,ts=i+e}else es=1<<i|n<<a|r,ts=e}function Vw(e){e.return!==null&&(Rl(e,1),nT(e,1,0))}function Uw(e){for(;e===jh;)jh=au[--iu],au[iu]=null,Ch=au[--iu],au[iu]=null;for(;e===uc;)uc=$i[--Bi],$i[Bi]=null,ts=$i[--Bi],$i[Bi]=null,es=$i[--Bi],$i[Bi]=null}var wi=null,bi=null,cr=!1,ao=null;function rT(e,t){var n=Vi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function h2(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,wi=e,bi=il(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,wi=e,bi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=uc!==null?{id:es,overflow:ts}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Vi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,wi=e,bi=null,!0):!1;default:return!1}}function Pb(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Tb(e){if(cr){var t=bi;if(t){var n=t;if(!h2(e,t)){if(Pb(e))throw Error(Ve(418));t=il(n.nextSibling);var r=wi;t&&h2(e,t)?rT(r,n):(e.flags=e.flags&-4097|2,cr=!1,wi=e)}}else{if(Pb(e))throw Error(Ve(418));e.flags=e.flags&-4097|2,cr=!1,wi=e}}}function g2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wi=e}function lm(e){if(e!==wi)return!1;if(!cr)return g2(e),cr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Cb(e.type,e.memoizedProps)),t&&(t=bi)){if(Pb(e))throw aT(),Error(Ve(418));for(;t;)rT(e,t),t=il(t.nextSibling)}if(g2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ve(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){bi=il(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}bi=null}}else bi=wi?il(e.stateNode.nextSibling):null;return!0}function aT(){for(var e=bi;e;)e=il(e.nextSibling)}function Mu(){bi=wi=null,cr=!1}function Ww(e){ao===null?ao=[e]:ao.push(e)}var SB=ws.ReactCurrentBatchConfig;function bd(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ve(309));var r=n.stateNode}if(!r)throw Error(Ve(147,e));var a=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var s=a.refs;o===null?delete s[i]:s[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Ve(284));if(!n._owner)throw Error(Ve(290,e))}return e}function cm(e,t){throw e=Object.prototype.toString.call(t),Error(Ve(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function y2(e){var t=e._init;return t(e._payload)}function iT(e){function t(g,b){if(e){var w=g.deletions;w===null?(g.deletions=[b],g.flags|=16):w.push(b)}}function n(g,b){if(!e)return null;for(;b!==null;)t(g,b),b=b.sibling;return null}function r(g,b){for(g=new Map;b!==null;)b.key!==null?g.set(b.key,b):g.set(b.index,b),b=b.sibling;return g}function a(g,b){return g=cl(g,b),g.index=0,g.sibling=null,g}function i(g,b,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<b?(g.flags|=2,b):w):(g.flags|=2,b)):(g.flags|=1048576,b)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function s(g,b,w,S){return b===null||b.tag!==6?(b=Jy(w,g.mode,S),b.return=g,b):(b=a(b,w),b.return=g,b)}function l(g,b,w,S){var C=w.type;return C===Qc?d(g,b,w.props.children,S,w.key):b!==null&&(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ws&&y2(C)===b.type)?(S=a(b,w.props),S.ref=bd(g,b,w),S.return=g,S):(S=Qm(w.type,w.key,w.props,null,g.mode,S),S.ref=bd(g,b,w),S.return=g,S)}function c(g,b,w,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=ev(w,g.mode,S),b.return=g,b):(b=a(b,w.children||[]),b.return=g,b)}function d(g,b,w,S,C){return b===null||b.tag!==7?(b=nc(w,g.mode,S,C),b.return=g,b):(b=a(b,w),b.return=g,b)}function f(g,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Jy(""+b,g.mode,w),b.return=g,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Qp:return w=Qm(b.type,b.key,b.props,null,g.mode,w),w.ref=bd(g,null,b),w.return=g,w;case Zc:return b=ev(b,g.mode,w),b.return=g,b;case Ws:var S=b._init;return f(g,S(b._payload),w)}if(Fd(b)||md(b))return b=nc(b,g.mode,w,null),b.return=g,b;cm(g,b)}return null}function p(g,b,w,S){var C=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:s(g,b,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Qp:return w.key===C?l(g,b,w,S):null;case Zc:return w.key===C?c(g,b,w,S):null;case Ws:return C=w._init,p(g,b,C(w._payload),S)}if(Fd(w)||md(w))return C!==null?null:d(g,b,w,S,null);cm(g,w)}return null}function m(g,b,w,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(w)||null,s(b,g,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Qp:return g=g.get(S.key===null?w:S.key)||null,l(b,g,S,C);case Zc:return g=g.get(S.key===null?w:S.key)||null,c(b,g,S,C);case Ws:var N=S._init;return m(g,b,w,N(S._payload),C)}if(Fd(S)||md(S))return g=g.get(w)||null,d(b,g,S,C,null);cm(b,S)}return null}function h(g,b,w,S){for(var C=null,N=null,M=b,T=b=0,$=null;M!==null&&T<w.length;T++){M.index>T?($=M,M=null):$=M.sibling;var E=p(g,M,w[T],S);if(E===null){M===null&&(M=$);break}e&&M&&E.alternate===null&&t(g,M),b=i(E,b,T),N===null?C=E:N.sibling=E,N=E,M=$}if(T===w.length)return n(g,M),cr&&Rl(g,T),C;if(M===null){for(;T<w.length;T++)M=f(g,w[T],S),M!==null&&(b=i(M,b,T),N===null?C=M:N.sibling=M,N=M);return cr&&Rl(g,T),C}for(M=r(g,M);T<w.length;T++)$=m(M,g,T,w[T],S),$!==null&&(e&&$.alternate!==null&&M.delete($.key===null?T:$.key),b=i($,b,T),N===null?C=$:N.sibling=$,N=$);return e&&M.forEach(function(P){return t(g,P)}),cr&&Rl(g,T),C}function y(g,b,w,S){var C=md(w);if(typeof C!="function")throw Error(Ve(150));if(w=C.call(w),w==null)throw Error(Ve(151));for(var N=C=null,M=b,T=b=0,$=null,E=w.next();M!==null&&!E.done;T++,E=w.next()){M.index>T?($=M,M=null):$=M.sibling;var P=p(g,M,E.value,S);if(P===null){M===null&&(M=$);break}e&&M&&P.alternate===null&&t(g,M),b=i(P,b,T),N===null?C=P:N.sibling=P,N=P,M=$}if(E.done)return n(g,M),cr&&Rl(g,T),C;if(M===null){for(;!E.done;T++,E=w.next())E=f(g,E.value,S),E!==null&&(b=i(E,b,T),N===null?C=E:N.sibling=E,N=E);return cr&&Rl(g,T),C}for(M=r(g,M);!E.done;T++,E=w.next())E=m(M,g,T,E.value,S),E!==null&&(e&&E.alternate!==null&&M.delete(E.key===null?T:E.key),b=i(E,b,T),N===null?C=E:N.sibling=E,N=E);return e&&M.forEach(function(O){return t(g,O)}),cr&&Rl(g,T),C}function x(g,b,w,S){if(typeof w=="object"&&w!==null&&w.type===Qc&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Qp:e:{for(var C=w.key,N=b;N!==null;){if(N.key===C){if(C=w.type,C===Qc){if(N.tag===7){n(g,N.sibling),b=a(N,w.props.children),b.return=g,g=b;break e}}else if(N.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ws&&y2(C)===N.type){n(g,N.sibling),b=a(N,w.props),b.ref=bd(g,N,w),b.return=g,g=b;break e}n(g,N);break}else t(g,N);N=N.sibling}w.type===Qc?(b=nc(w.props.children,g.mode,S,w.key),b.return=g,g=b):(S=Qm(w.type,w.key,w.props,null,g.mode,S),S.ref=bd(g,b,w),S.return=g,g=S)}return o(g);case Zc:e:{for(N=w.key;b!==null;){if(b.key===N)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(g,b.sibling),b=a(b,w.children||[]),b.return=g,g=b;break e}else{n(g,b);break}else t(g,b);b=b.sibling}b=ev(w,g.mode,S),b.return=g,g=b}return o(g);case Ws:return N=w._init,x(g,b,N(w._payload),S)}if(Fd(w))return h(g,b,w,S);if(md(w))return y(g,b,w,S);cm(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(g,b.sibling),b=a(b,w),b.return=g,g=b):(n(g,b),b=Jy(w,g.mode,S),b.return=g,g=b),o(g)):n(g,b)}return x}var Au=iT(!0),oT=iT(!1),Mh=xl(null),Ah=null,ou=null,Hw=null;function qw(){Hw=ou=Ah=null}function Kw(e){var t=Mh.current;er(Mh),e._currentValue=t}function Db(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function bu(e,t){Ah=e,Hw=ou=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Qa=!0),e.firstContext=null)}function qi(e){var t=e._currentValue;if(Hw!==e)if(e={context:e,memoizedValue:t,next:null},ou===null){if(Ah===null)throw Error(Ve(308));ou=e,Ah.dependencies={lanes:0,firstContext:e}}else ou=ou.next=e;return t}var Kl=null;function Yw(e){Kl===null?Kl=[e]:Kl.push(e)}function sT(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,Yw(t)):(n.next=a.next,a.next=n),t.interleaved=n,fs(e,r)}function fs(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Hs=!1;function Gw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lT(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function is(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ol(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,wn&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,fs(e,n)}return a=r.interleaved,a===null?(t.next=t,Yw(r)):(t.next=a.next,a.next=t),r.interleaved=t,fs(e,n)}function qm(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Iw(e,n)}}function v2(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Eh(e,t,n,r){var a=e.updateQueue;Hs=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var l=s,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=a.baseState;o=0,d=c=l=null,s=i;do{var p=s.lane,m=s.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,y=s;switch(p=t,m=n,y.tag){case 1:if(h=y.payload,typeof h=="function"){f=h.call(m,f,p);break e}f=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=y.payload,p=typeof h=="function"?h.call(m,f,p):h,p==null)break e;f=br({},f,p);break e;case 2:Hs=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,p=a.effects,p===null?a.effects=[s]:p.push(s))}else m={eventTime:m,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(c=d=m,l=f):d=d.next=m,o|=p;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;p=s,s=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(!0);if(d===null&&(l=f),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);fc|=o,e.lanes=o,e.memoizedState=f}}function b2(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(Ve(191,a));a.call(r)}}}var ap={},Fo=xl(ap),xf=xl(ap),wf=xl(ap);function Yl(e){if(e===ap)throw Error(Ve(174));return e}function Xw(e,t){switch(Kn(wf,t),Kn(xf,e),Kn(Fo,ap),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fb(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=fb(t,e)}er(Fo),Kn(Fo,t)}function Eu(){er(Fo),er(xf),er(wf)}function cT(e){Yl(wf.current);var t=Yl(Fo.current),n=fb(t,e.type);t!==n&&(Kn(xf,e),Kn(Fo,n))}function Zw(e){xf.current===e&&(er(Fo),er(xf))}var hr=xl(0);function Ph(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ky=[];function Qw(){for(var e=0;e<Ky.length;e++)Ky[e]._workInProgressVersionPrimary=null;Ky.length=0}var Km=ws.ReactCurrentDispatcher,Yy=ws.ReactCurrentBatchConfig,dc=0,vr=null,Ur=null,na=null,Th=!1,Gd=!1,kf=0,NB=0;function va(){throw Error(Ve(321))}function Jw(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!po(e[n],t[n]))return!1;return!0}function e1(e,t,n,r,a,i){if(dc=i,vr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Km.current=e===null||e.memoizedState===null?AB:EB,e=n(r,a),Gd){i=0;do{if(Gd=!1,kf=0,25<=i)throw Error(Ve(301));i+=1,na=Ur=null,t.updateQueue=null,Km.current=PB,e=n(r,a)}while(Gd)}if(Km.current=Dh,t=Ur!==null&&Ur.next!==null,dc=0,na=Ur=vr=null,Th=!1,t)throw Error(Ve(300));return e}function t1(){var e=kf!==0;return kf=0,e}function To(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return na===null?vr.memoizedState=na=e:na=na.next=e,na}function Ki(){if(Ur===null){var e=vr.alternate;e=e!==null?e.memoizedState:null}else e=Ur.next;var t=na===null?vr.memoizedState:na.next;if(t!==null)na=t,Ur=e;else{if(e===null)throw Error(Ve(310));Ur=e,e={memoizedState:Ur.memoizedState,baseState:Ur.baseState,baseQueue:Ur.baseQueue,queue:Ur.queue,next:null},na===null?vr.memoizedState=na=e:na=na.next=e}return na}function Sf(e,t){return typeof t=="function"?t(e):t}function Gy(e){var t=Ki(),n=t.queue;if(n===null)throw Error(Ve(311));n.lastRenderedReducer=e;var r=Ur,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var s=o=null,l=null,c=i;do{var d=c.lane;if((dc&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=f,o=r):l=l.next=f,vr.lanes|=d,fc|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=s,po(r,t.memoizedState)||(Qa=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do i=a.lane,vr.lanes|=i,fc|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Xy(e){var t=Ki(),n=t.queue;if(n===null)throw Error(Ve(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);po(i,t.memoizedState)||(Qa=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function uT(){}function dT(e,t){var n=vr,r=Ki(),a=t(),i=!po(r.memoizedState,a);if(i&&(r.memoizedState=a,Qa=!0),r=r.queue,n1(mT.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||na!==null&&na.memoizedState.tag&1){if(n.flags|=2048,Nf(9,pT.bind(null,n,r,a,t),void 0,null),ra===null)throw Error(Ve(349));dc&30||fT(n,t,a)}return a}function fT(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=vr.updateQueue,t===null?(t={lastEffect:null,stores:null},vr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function pT(e,t,n,r){t.value=n,t.getSnapshot=r,hT(t)&&gT(e)}function mT(e,t,n){return n(function(){hT(t)&&gT(e)})}function hT(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!po(e,n)}catch{return!0}}function gT(e){var t=fs(e,1);t!==null&&co(t,e,1,-1)}function x2(e){var t=To();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sf,lastRenderedState:e},t.queue=e,e=e.dispatch=MB.bind(null,vr,e),[t.memoizedState,e]}function Nf(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=vr.updateQueue,t===null?(t={lastEffect:null,stores:null},vr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function yT(){return Ki().memoizedState}function Ym(e,t,n,r){var a=To();vr.flags|=e,a.memoizedState=Nf(1|t,n,void 0,r===void 0?null:r)}function t0(e,t,n,r){var a=Ki();r=r===void 0?null:r;var i=void 0;if(Ur!==null){var o=Ur.memoizedState;if(i=o.destroy,r!==null&&Jw(r,o.deps)){a.memoizedState=Nf(t,n,i,r);return}}vr.flags|=e,a.memoizedState=Nf(1|t,n,i,r)}function w2(e,t){return Ym(8390656,8,e,t)}function n1(e,t){return t0(2048,8,e,t)}function vT(e,t){return t0(4,2,e,t)}function bT(e,t){return t0(4,4,e,t)}function xT(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wT(e,t,n){return n=n!=null?n.concat([e]):null,t0(4,4,xT.bind(null,t,e),n)}function r1(){}function kT(e,t){var n=Ki();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Jw(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ST(e,t){var n=Ki();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Jw(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function NT(e,t,n){return dc&21?(po(n,t)||(n=EP(),vr.lanes|=n,fc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Qa=!0),e.memoizedState=n)}function jB(e,t){var n=_n;_n=n!==0&&4>n?n:4,e(!0);var r=Yy.transition;Yy.transition={};try{e(!1),t()}finally{_n=n,Yy.transition=r}}function jT(){return Ki().memoizedState}function CB(e,t,n){var r=ll(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},CT(e))MT(t,n);else if(n=sT(e,t,n,r),n!==null){var a=$a();co(n,e,r,a),AT(n,t,r)}}function MB(e,t,n){var r=ll(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(CT(e))MT(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,s=i(o,n);if(a.hasEagerState=!0,a.eagerState=s,po(s,o)){var l=t.interleaved;l===null?(a.next=a,Yw(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}n=sT(e,t,a,r),n!==null&&(a=$a(),co(n,e,r,a),AT(n,t,r))}}function CT(e){var t=e.alternate;return e===vr||t!==null&&t===vr}function MT(e,t){Gd=Th=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function AT(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Iw(e,n)}}var Dh={readContext:qi,useCallback:va,useContext:va,useEffect:va,useImperativeHandle:va,useInsertionEffect:va,useLayoutEffect:va,useMemo:va,useReducer:va,useRef:va,useState:va,useDebugValue:va,useDeferredValue:va,useTransition:va,useMutableSource:va,useSyncExternalStore:va,useId:va,unstable_isNewReconciler:!1},AB={readContext:qi,useCallback:function(e,t){return To().memoizedState=[e,t===void 0?null:t],e},useContext:qi,useEffect:w2,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ym(4194308,4,xT.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ym(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ym(4,2,e,t)},useMemo:function(e,t){var n=To();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=To();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=CB.bind(null,vr,e),[r.memoizedState,e]},useRef:function(e){var t=To();return e={current:e},t.memoizedState=e},useState:x2,useDebugValue:r1,useDeferredValue:function(e){return To().memoizedState=e},useTransition:function(){var e=x2(!1),t=e[0];return e=jB.bind(null,e[1]),To().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vr,a=To();if(cr){if(n===void 0)throw Error(Ve(407));n=n()}else{if(n=t(),ra===null)throw Error(Ve(349));dc&30||fT(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,w2(mT.bind(null,r,i,e),[e]),r.flags|=2048,Nf(9,pT.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=To(),t=ra.identifierPrefix;if(cr){var n=ts,r=es;n=(r&~(1<<32-lo(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=kf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=NB++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},EB={readContext:qi,useCallback:kT,useContext:qi,useEffect:n1,useImperativeHandle:wT,useInsertionEffect:vT,useLayoutEffect:bT,useMemo:ST,useReducer:Gy,useRef:yT,useState:function(){return Gy(Sf)},useDebugValue:r1,useDeferredValue:function(e){var t=Ki();return NT(t,Ur.memoizedState,e)},useTransition:function(){var e=Gy(Sf)[0],t=Ki().memoizedState;return[e,t]},useMutableSource:uT,useSyncExternalStore:dT,useId:jT,unstable_isNewReconciler:!1},PB={readContext:qi,useCallback:kT,useContext:qi,useEffect:n1,useImperativeHandle:wT,useInsertionEffect:vT,useLayoutEffect:bT,useMemo:ST,useReducer:Xy,useRef:yT,useState:function(){return Xy(Sf)},useDebugValue:r1,useDeferredValue:function(e){var t=Ki();return Ur===null?t.memoizedState=e:NT(t,Ur.memoizedState,e)},useTransition:function(){var e=Xy(Sf)[0],t=Ki().memoizedState;return[e,t]},useMutableSource:uT,useSyncExternalStore:dT,useId:jT,unstable_isNewReconciler:!1};function no(e,t){if(e&&e.defaultProps){t=br({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ob(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:br({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var n0={isMounted:function(e){return(e=e._reactInternals)?Cc(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$a(),a=ll(e),i=is(r,a);i.payload=t,n!=null&&(i.callback=n),t=ol(e,i,a),t!==null&&(co(t,e,a,r),qm(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$a(),a=ll(e),i=is(r,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=ol(e,i,a),t!==null&&(co(t,e,a,r),qm(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$a(),r=ll(e),a=is(n,r);a.tag=2,t!=null&&(a.callback=t),t=ol(e,a,r),t!==null&&(co(t,e,r,n),qm(t,e,r))}};function k2(e,t,n,r,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!gf(n,r)||!gf(a,i):!0}function ET(e,t,n){var r=!1,a=ml,i=t.contextType;return typeof i=="object"&&i!==null?i=qi(i):(a=ti(t)?cc:Ma.current,r=t.contextTypes,i=(r=r!=null)?Cu(e,a):ml),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=n0,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function S2(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&n0.enqueueReplaceState(t,t.state,null)}function Ib(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Gw(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=qi(i):(i=ti(t)?cc:Ma.current,a.context=Cu(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ob(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&n0.enqueueReplaceState(a,a.state,null),Eh(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Pu(e,t){try{var n="",r=t;do n+=a$(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Zy(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function _b(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var TB=typeof WeakMap=="function"?WeakMap:Map;function PT(e,t,n){n=is(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ih||(Ih=!0,Wb=r),_b(e,t)},n}function TT(e,t,n){n=is(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){_b(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){_b(e,t),typeof r!="function"&&(sl===null?sl=new Set([this]):sl.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function N2(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new TB;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=HB.bind(null,e,t,n),t.then(e,e))}function j2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function C2(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=is(-1,1),t.tag=2,ol(n,t,1))),n.lanes|=1),e)}var DB=ws.ReactCurrentOwner,Qa=!1;function La(e,t,n,r){t.child=e===null?oT(t,null,n,r):Au(t,e.child,n,r)}function M2(e,t,n,r,a){n=n.render;var i=t.ref;return bu(t,a),r=e1(e,t,n,r,i,a),n=t1(),e!==null&&!Qa?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ps(e,t,a)):(cr&&n&&Vw(t),t.flags|=1,La(e,t,r,a),t.child)}function A2(e,t,n,r,a){if(e===null){var i=n.type;return typeof i=="function"&&!d1(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,DT(e,t,i,r,a)):(e=Qm(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:gf,n(o,r)&&e.ref===t.ref)return ps(e,t,a)}return t.flags|=1,e=cl(i,r),e.ref=t.ref,e.return=t,t.child=e}function DT(e,t,n,r,a){if(e!==null){var i=e.memoizedProps;if(gf(i,r)&&e.ref===t.ref)if(Qa=!1,t.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(Qa=!0);else return t.lanes=e.lanes,ps(e,t,a)}return Lb(e,t,n,r,a)}function OT(e,t,n){var r=t.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Kn(lu,gi),gi|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Kn(lu,gi),gi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Kn(lu,gi),gi|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Kn(lu,gi),gi|=r;return La(e,t,a,n),t.child}function IT(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Lb(e,t,n,r,a){var i=ti(n)?cc:Ma.current;return i=Cu(t,i),bu(t,a),n=e1(e,t,n,r,i,a),r=t1(),e!==null&&!Qa?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ps(e,t,a)):(cr&&r&&Vw(t),t.flags|=1,La(e,t,n,a),t.child)}function E2(e,t,n,r,a){if(ti(n)){var i=!0;Nh(t)}else i=!1;if(bu(t,a),t.stateNode===null)Gm(e,t),ET(t,n,r),Ib(t,n,r,a),r=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=qi(c):(c=ti(n)?cc:Ma.current,c=Cu(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==c)&&S2(t,o,r,c),Hs=!1;var p=t.memoizedState;o.state=p,Eh(t,r,o,a),l=t.memoizedState,s!==r||p!==l||ei.current||Hs?(typeof d=="function"&&(Ob(t,n,d,r),l=t.memoizedState),(s=Hs||k2(t,n,s,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,lT(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:no(t.type,s),o.props=c,f=t.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=qi(l):(l=ti(n)?cc:Ma.current,l=Cu(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||p!==l)&&S2(t,o,r,l),Hs=!1,p=t.memoizedState,o.state=p,Eh(t,r,o,a);var h=t.memoizedState;s!==f||p!==h||ei.current||Hs?(typeof m=="function"&&(Ob(t,n,m,r),h=t.memoizedState),(c=Hs||k2(t,n,c,r,p,h,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,h,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,h,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Fb(e,t,n,r,i,a)}function Fb(e,t,n,r,a,i){IT(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return a&&m2(t,n,!1),ps(e,t,i);r=t.stateNode,DB.current=t;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Au(t,e.child,null,i),t.child=Au(t,null,s,i)):La(e,t,s,i),t.memoizedState=r.state,a&&m2(t,n,!0),t.child}function _T(e){var t=e.stateNode;t.pendingContext?p2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&p2(e,t.context,!1),Xw(e,t.containerInfo)}function P2(e,t,n,r,a){return Mu(),Ww(a),t.flags|=256,La(e,t,n,r),t.child}var Rb={dehydrated:null,treeContext:null,retryLane:0};function $b(e){return{baseLanes:e,cachePool:null,transitions:null}}function LT(e,t,n){var r=t.pendingProps,a=hr.current,i=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(a&2)!==0),s?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Kn(hr,a&1),e===null)return Tb(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=i0(o,r,0,null),e=nc(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=$b(n),t.memoizedState=Rb,e):a1(t,o));if(a=e.memoizedState,a!==null&&(s=a.dehydrated,s!==null))return OB(e,t,o,r,s,a,n);if(i){i=r.fallback,o=t.mode,a=e.child,s=a.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=cl(a,l),r.subtreeFlags=a.subtreeFlags&14680064),s!==null?i=cl(s,i):(i=nc(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?$b(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Rb,r}return i=e.child,e=i.sibling,r=cl(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function a1(e,t){return t=i0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function um(e,t,n,r){return r!==null&&Ww(r),Au(t,e.child,null,n),e=a1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function OB(e,t,n,r,a,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Zy(Error(Ve(422))),um(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=i0({mode:"visible",children:r.children},a,0,null),i=nc(i,a,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Au(t,e.child,null,o),t.child.memoizedState=$b(o),t.memoizedState=Rb,i);if(!(t.mode&1))return um(e,t,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var s=r.dgst;return r=s,i=Error(Ve(419)),r=Zy(i,r,void 0),um(e,t,o,r)}if(s=(o&e.childLanes)!==0,Qa||s){if(r=ra,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,fs(e,a),co(r,e,a,-1))}return u1(),r=Zy(Error(Ve(421))),um(e,t,o,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=qB.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,bi=il(a.nextSibling),wi=t,cr=!0,ao=null,e!==null&&($i[Bi++]=es,$i[Bi++]=ts,$i[Bi++]=uc,es=e.id,ts=e.overflow,uc=t),t=a1(t,r.children),t.flags|=4096,t)}function T2(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Db(e.return,t,n)}function Qy(e,t,n,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function FT(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(La(e,t,r.children,n),r=hr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&T2(e,n,t);else if(e.tag===19)T2(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Kn(hr,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Ph(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Qy(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Ph(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Qy(t,!0,n,null,i);break;case"together":Qy(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gm(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ps(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),fc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ve(153));if(t.child!==null){for(e=t.child,n=cl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=cl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function IB(e,t,n){switch(t.tag){case 3:_T(t),Mu();break;case 5:cT(t);break;case 1:ti(t.type)&&Nh(t);break;case 4:Xw(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Kn(Mh,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Kn(hr,hr.current&1),t.flags|=128,null):n&t.child.childLanes?LT(e,t,n):(Kn(hr,hr.current&1),e=ps(e,t,n),e!==null?e.sibling:null);Kn(hr,hr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return FT(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Kn(hr,hr.current),r)break;return null;case 22:case 23:return t.lanes=0,OT(e,t,n)}return ps(e,t,n)}var RT,Bb,$T,BT;RT=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bb=function(){};$T=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Yl(Fo.current);var i=null;switch(n){case"input":a=lb(e,a),r=lb(e,r),i=[];break;case"select":a=br({},a,{value:void 0}),r=br({},r,{value:void 0}),i=[];break;case"textarea":a=db(e,a),r=db(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=kh)}pb(n,r);var o;n=null;for(c in a)if(!r.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var s=a[c];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(cf.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(s=a!=null?a[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(cf.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Zn("scroll",e),i||s===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};BT=function(e,t,n,r){n!==r&&(t.flags|=4)};function xd(e,t){if(!cr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ba(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function _B(e,t,n){var r=t.pendingProps;switch(Uw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ba(t),null;case 1:return ti(t.type)&&Sh(),ba(t),null;case 3:return r=t.stateNode,Eu(),er(ei),er(Ma),Qw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(lm(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ao!==null&&(Kb(ao),ao=null))),Bb(e,t),ba(t),null;case 5:Zw(t);var a=Yl(wf.current);if(n=t.type,e!==null&&t.stateNode!=null)$T(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ve(166));return ba(t),null}if(e=Yl(Fo.current),lm(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Io]=t,r[bf]=i,e=(t.mode&1)!==0,n){case"dialog":Zn("cancel",r),Zn("close",r);break;case"iframe":case"object":case"embed":Zn("load",r);break;case"video":case"audio":for(a=0;a<$d.length;a++)Zn($d[a],r);break;case"source":Zn("error",r);break;case"img":case"image":case"link":Zn("error",r),Zn("load",r);break;case"details":Zn("toggle",r);break;case"input":BN(r,i),Zn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Zn("invalid",r);break;case"textarea":VN(r,i),Zn("invalid",r)}pb(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];o==="children"?typeof s=="string"?r.textContent!==s&&(i.suppressHydrationWarning!==!0&&sm(r.textContent,s,e),a=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(i.suppressHydrationWarning!==!0&&sm(r.textContent,s,e),a=["children",""+s]):cf.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Zn("scroll",r)}switch(n){case"input":Jp(r),zN(r,i,!0);break;case"textarea":Jp(r),UN(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=kh)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=mP(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Io]=t,e[bf]=r,RT(e,t,!1,!1),t.stateNode=e;e:{switch(o=mb(n,r),n){case"dialog":Zn("cancel",e),Zn("close",e),a=r;break;case"iframe":case"object":case"embed":Zn("load",e),a=r;break;case"video":case"audio":for(a=0;a<$d.length;a++)Zn($d[a],e);a=r;break;case"source":Zn("error",e),a=r;break;case"img":case"image":case"link":Zn("error",e),Zn("load",e),a=r;break;case"details":Zn("toggle",e),a=r;break;case"input":BN(e,r),a=lb(e,r),Zn("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=br({},r,{value:void 0}),Zn("invalid",e);break;case"textarea":VN(e,r),a=db(e,r),Zn("invalid",e);break;default:a=r}pb(n,a),s=a;for(i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="style"?yP(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&hP(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&uf(e,l):typeof l=="number"&&uf(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(cf.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Zn("scroll",e):l!=null&&Aw(e,i,l,o))}switch(n){case"input":Jp(e),zN(e,r,!1);break;case"textarea":Jp(e),UN(e);break;case"option":r.value!=null&&e.setAttribute("value",""+pl(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?hu(e,!!r.multiple,i,!1):r.defaultValue!=null&&hu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=kh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ba(t),null;case 6:if(e&&t.stateNode!=null)BT(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ve(166));if(n=Yl(wf.current),Yl(Fo.current),lm(t)){if(r=t.stateNode,n=t.memoizedProps,r[Io]=t,(i=r.nodeValue!==n)&&(e=wi,e!==null))switch(e.tag){case 3:sm(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&sm(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Io]=t,t.stateNode=r}return ba(t),null;case 13:if(er(hr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(cr&&bi!==null&&t.mode&1&&!(t.flags&128))aT(),Mu(),t.flags|=98560,i=!1;else if(i=lm(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(Ve(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ve(317));i[Io]=t}else Mu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ba(t),i=!1}else ao!==null&&(Kb(ao),ao=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||hr.current&1?Hr===0&&(Hr=3):u1())),t.updateQueue!==null&&(t.flags|=4),ba(t),null);case 4:return Eu(),Bb(e,t),e===null&&yf(t.stateNode.containerInfo),ba(t),null;case 10:return Kw(t.type._context),ba(t),null;case 17:return ti(t.type)&&Sh(),ba(t),null;case 19:if(er(hr),i=t.memoizedState,i===null)return ba(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)xd(i,!1);else{if(Hr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ph(e),o!==null){for(t.flags|=128,xd(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Kn(hr,hr.current&1|2),t.child}e=e.sibling}i.tail!==null&&Tr()>Tu&&(t.flags|=128,r=!0,xd(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ph(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),xd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!cr)return ba(t),null}else 2*Tr()-i.renderingStartTime>Tu&&n!==1073741824&&(t.flags|=128,r=!0,xd(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Tr(),t.sibling=null,n=hr.current,Kn(hr,r?n&1|2:n&1),t):(ba(t),null);case 22:case 23:return c1(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?gi&1073741824&&(ba(t),t.subtreeFlags&6&&(t.flags|=8192)):ba(t),null;case 24:return null;case 25:return null}throw Error(Ve(156,t.tag))}function LB(e,t){switch(Uw(t),t.tag){case 1:return ti(t.type)&&Sh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Eu(),er(ei),er(Ma),Qw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Zw(t),null;case 13:if(er(hr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ve(340));Mu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return er(hr),null;case 4:return Eu(),null;case 10:return Kw(t.type._context),null;case 22:case 23:return c1(),null;case 24:return null;default:return null}}var dm=!1,ka=!1,FB=typeof WeakSet=="function"?WeakSet:Set,pt=null;function su(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Nr(e,t,r)}else n.current=null}function zT(e,t,n){try{n()}catch(r){Nr(e,t,r)}}var D2=!1;function RB(e,t){if(Nb=bh,e=HP(),zw(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,c=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(s=o+a),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===n&&++c===a&&(s=o),p===i&&++d===r&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(jb={focusedElem:e,selectionRange:n},bh=!1,pt=t;pt!==null;)if(t=pt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pt=e;else for(;pt!==null;){t=pt;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var y=h.memoizedProps,x=h.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:no(t.type,y),x);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ve(163))}}catch(S){Nr(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,pt=e;break}pt=t.return}return h=D2,D2=!1,h}function Xd(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&zT(t,n,i)}a=a.next}while(a!==r)}}function r0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function zb(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function VT(e){var t=e.alternate;t!==null&&(e.alternate=null,VT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Io],delete t[bf],delete t[Ab],delete t[xB],delete t[wB])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function UT(e){return e.tag===5||e.tag===3||e.tag===4}function O2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||UT(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vb(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=kh));else if(r!==4&&(e=e.child,e!==null))for(Vb(e,t,n),e=e.sibling;e!==null;)Vb(e,t,n),e=e.sibling}function Ub(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ub(e,t,n),e=e.sibling;e!==null;)Ub(e,t,n),e=e.sibling}var ua=null,ro=!1;function Bs(e,t,n){for(n=n.child;n!==null;)WT(e,t,n),n=n.sibling}function WT(e,t,n){if(Lo&&typeof Lo.onCommitFiberUnmount=="function")try{Lo.onCommitFiberUnmount(Gg,n)}catch{}switch(n.tag){case 5:ka||su(n,t);case 6:var r=ua,a=ro;ua=null,Bs(e,t,n),ua=r,ro=a,ua!==null&&(ro?(e=ua,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ua.removeChild(n.stateNode));break;case 18:ua!==null&&(ro?(e=ua,n=n.stateNode,e.nodeType===8?Hy(e.parentNode,n):e.nodeType===1&&Hy(e,n),mf(e)):Hy(ua,n.stateNode));break;case 4:r=ua,a=ro,ua=n.stateNode.containerInfo,ro=!0,Bs(e,t,n),ua=r,ro=a;break;case 0:case 11:case 14:case 15:if(!ka&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&zT(n,t,o),a=a.next}while(a!==r)}Bs(e,t,n);break;case 1:if(!ka&&(su(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Nr(n,t,s)}Bs(e,t,n);break;case 21:Bs(e,t,n);break;case 22:n.mode&1?(ka=(r=ka)||n.memoizedState!==null,Bs(e,t,n),ka=r):Bs(e,t,n);break;default:Bs(e,t,n)}}function I2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new FB),t.forEach(function(r){var a=KB.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function to(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:ua=s.stateNode,ro=!1;break e;case 3:ua=s.stateNode.containerInfo,ro=!0;break e;case 4:ua=s.stateNode.containerInfo,ro=!0;break e}s=s.return}if(ua===null)throw Error(Ve(160));WT(i,o,a),ua=null,ro=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){Nr(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)HT(t,e),t=t.sibling}function HT(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(to(t,e),Mo(e),r&4){try{Xd(3,e,e.return),r0(3,e)}catch(y){Nr(e,e.return,y)}try{Xd(5,e,e.return)}catch(y){Nr(e,e.return,y)}}break;case 1:to(t,e),Mo(e),r&512&&n!==null&&su(n,n.return);break;case 5:if(to(t,e),Mo(e),r&512&&n!==null&&su(n,n.return),e.flags&32){var a=e.stateNode;try{uf(a,"")}catch(y){Nr(e,e.return,y)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&i.type==="radio"&&i.name!=null&&fP(a,i),mb(s,o);var c=mb(s,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?yP(a,f):d==="dangerouslySetInnerHTML"?hP(a,f):d==="children"?uf(a,f):Aw(a,d,f,c)}switch(s){case"input":cb(a,i);break;case"textarea":pP(a,i);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?hu(a,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?hu(a,!!i.multiple,i.defaultValue,!0):hu(a,!!i.multiple,i.multiple?[]:"",!1))}a[bf]=i}catch(y){Nr(e,e.return,y)}}break;case 6:if(to(t,e),Mo(e),r&4){if(e.stateNode===null)throw Error(Ve(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(y){Nr(e,e.return,y)}}break;case 3:if(to(t,e),Mo(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{mf(t.containerInfo)}catch(y){Nr(e,e.return,y)}break;case 4:to(t,e),Mo(e);break;case 13:to(t,e),Mo(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(s1=Tr())),r&4&&I2(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(ka=(c=ka)||d,to(t,e),ka=c):to(t,e),Mo(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(pt=e,d=e.child;d!==null;){for(f=pt=d;pt!==null;){switch(p=pt,m=p.child,p.tag){case 0:case 11:case 14:case 15:Xd(4,p,p.return);break;case 1:su(p,p.return);var h=p.stateNode;if(typeof h.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(y){Nr(r,n,y)}}break;case 5:su(p,p.return);break;case 22:if(p.memoizedState!==null){L2(f);continue}}m!==null?(m.return=p,pt=m):L2(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,c?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=gP("display",o))}catch(y){Nr(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){Nr(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:to(t,e),Mo(e),r&4&&I2(e);break;case 21:break;default:to(t,e),Mo(e)}}function Mo(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(UT(n)){var r=n;break e}n=n.return}throw Error(Ve(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(uf(a,""),r.flags&=-33);var i=O2(e);Ub(e,i,a);break;case 3:case 4:var o=r.stateNode.containerInfo,s=O2(e);Vb(e,s,o);break;default:throw Error(Ve(161))}}catch(l){Nr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $B(e,t,n){pt=e,qT(e)}function qT(e,t,n){for(var r=(e.mode&1)!==0;pt!==null;){var a=pt,i=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||dm;if(!o){var s=a.alternate,l=s!==null&&s.memoizedState!==null||ka;s=dm;var c=ka;if(dm=o,(ka=l)&&!c)for(pt=a;pt!==null;)o=pt,l=o.child,o.tag===22&&o.memoizedState!==null?F2(a):l!==null?(l.return=o,pt=l):F2(a);for(;i!==null;)pt=i,qT(i),i=i.sibling;pt=a,dm=s,ka=c}_2(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,pt=i):_2(e)}}function _2(e){for(;pt!==null;){var t=pt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ka||r0(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ka)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:no(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&b2(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}b2(t,o,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&mf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ve(163))}ka||t.flags&512&&zb(t)}catch(p){Nr(t,t.return,p)}}if(t===e){pt=null;break}if(n=t.sibling,n!==null){n.return=t.return,pt=n;break}pt=t.return}}function L2(e){for(;pt!==null;){var t=pt;if(t===e){pt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,pt=n;break}pt=t.return}}function F2(e){for(;pt!==null;){var t=pt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{r0(4,t)}catch(l){Nr(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(l){Nr(t,a,l)}}var i=t.return;try{zb(t)}catch(l){Nr(t,i,l)}break;case 5:var o=t.return;try{zb(t)}catch(l){Nr(t,o,l)}}}catch(l){Nr(t,t.return,l)}if(t===e){pt=null;break}var s=t.sibling;if(s!==null){s.return=t.return,pt=s;break}pt=t.return}}var BB=Math.ceil,Oh=ws.ReactCurrentDispatcher,i1=ws.ReactCurrentOwner,Wi=ws.ReactCurrentBatchConfig,wn=0,ra=null,Rr=null,pa=0,gi=0,lu=xl(0),Hr=0,jf=null,fc=0,a0=0,o1=0,Zd=null,Za=null,s1=0,Tu=1/0,Yo=null,Ih=!1,Wb=null,sl=null,fm=!1,Js=null,_h=0,Qd=0,Hb=null,Xm=-1,Zm=0;function $a(){return wn&6?Tr():Xm!==-1?Xm:Xm=Tr()}function ll(e){return e.mode&1?wn&2&&pa!==0?pa&-pa:SB.transition!==null?(Zm===0&&(Zm=EP()),Zm):(e=_n,e!==0||(e=window.event,e=e===void 0?16:LP(e.type)),e):1}function co(e,t,n,r){if(50<Qd)throw Qd=0,Hb=null,Error(Ve(185));tp(e,n,r),(!(wn&2)||e!==ra)&&(e===ra&&(!(wn&2)&&(a0|=n),Hr===4&&Xs(e,pa)),ni(e,r),n===1&&wn===0&&!(t.mode&1)&&(Tu=Tr()+500,e0&&wl()))}function ni(e,t){var n=e.callbackNode;S$(e,t);var r=vh(e,e===ra?pa:0);if(r===0)n!==null&&qN(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&qN(n),t===1)e.tag===0?kB(R2.bind(null,e)):tT(R2.bind(null,e)),vB(function(){!(wn&6)&&wl()}),n=null;else{switch(PP(r)){case 1:n=Ow;break;case 4:n=MP;break;case 16:n=yh;break;case 536870912:n=AP;break;default:n=yh}n=eD(n,KT.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function KT(e,t){if(Xm=-1,Zm=0,wn&6)throw Error(Ve(327));var n=e.callbackNode;if(xu()&&e.callbackNode!==n)return null;var r=vh(e,e===ra?pa:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Lh(e,r);else{t=r;var a=wn;wn|=2;var i=GT();(ra!==e||pa!==t)&&(Yo=null,Tu=Tr()+500,tc(e,t));do try{UB();break}catch(s){YT(e,s)}while(!0);qw(),Oh.current=i,wn=a,Rr!==null?t=0:(ra=null,pa=0,t=Hr)}if(t!==0){if(t===2&&(a=bb(e),a!==0&&(r=a,t=qb(e,a))),t===1)throw n=jf,tc(e,0),Xs(e,r),ni(e,Tr()),n;if(t===6)Xs(e,r);else{if(a=e.current.alternate,!(r&30)&&!zB(a)&&(t=Lh(e,r),t===2&&(i=bb(e),i!==0&&(r=i,t=qb(e,i))),t===1))throw n=jf,tc(e,0),Xs(e,r),ni(e,Tr()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(Ve(345));case 2:$l(e,Za,Yo);break;case 3:if(Xs(e,r),(r&130023424)===r&&(t=s1+500-Tr(),10<t)){if(vh(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){$a(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Mb($l.bind(null,e,Za,Yo),t);break}$l(e,Za,Yo);break;case 4:if(Xs(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-lo(r);i=1<<o,o=t[o],o>a&&(a=o),r&=~i}if(r=a,r=Tr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*BB(r/1960))-r,10<r){e.timeoutHandle=Mb($l.bind(null,e,Za,Yo),r);break}$l(e,Za,Yo);break;case 5:$l(e,Za,Yo);break;default:throw Error(Ve(329))}}}return ni(e,Tr()),e.callbackNode===n?KT.bind(null,e):null}function qb(e,t){var n=Zd;return e.current.memoizedState.isDehydrated&&(tc(e,t).flags|=256),e=Lh(e,t),e!==2&&(t=Za,Za=n,t!==null&&Kb(t)),e}function Kb(e){Za===null?Za=e:Za.push.apply(Za,e)}function zB(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!po(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xs(e,t){for(t&=~o1,t&=~a0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-lo(t),r=1<<n;e[n]=-1,t&=~r}}function R2(e){if(wn&6)throw Error(Ve(327));xu();var t=vh(e,0);if(!(t&1))return ni(e,Tr()),null;var n=Lh(e,t);if(e.tag!==0&&n===2){var r=bb(e);r!==0&&(t=r,n=qb(e,r))}if(n===1)throw n=jf,tc(e,0),Xs(e,t),ni(e,Tr()),n;if(n===6)throw Error(Ve(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$l(e,Za,Yo),ni(e,Tr()),null}function l1(e,t){var n=wn;wn|=1;try{return e(t)}finally{wn=n,wn===0&&(Tu=Tr()+500,e0&&wl())}}function pc(e){Js!==null&&Js.tag===0&&!(wn&6)&&xu();var t=wn;wn|=1;var n=Wi.transition,r=_n;try{if(Wi.transition=null,_n=1,e)return e()}finally{_n=r,Wi.transition=n,wn=t,!(wn&6)&&wl()}}function c1(){gi=lu.current,er(lu)}function tc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,yB(n)),Rr!==null)for(n=Rr.return;n!==null;){var r=n;switch(Uw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Sh();break;case 3:Eu(),er(ei),er(Ma),Qw();break;case 5:Zw(r);break;case 4:Eu();break;case 13:er(hr);break;case 19:er(hr);break;case 10:Kw(r.type._context);break;case 22:case 23:c1()}n=n.return}if(ra=e,Rr=e=cl(e.current,null),pa=gi=t,Hr=0,jf=null,o1=a0=fc=0,Za=Zd=null,Kl!==null){for(t=0;t<Kl.length;t++)if(n=Kl[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,r.next=o}n.pending=r}Kl=null}return e}function YT(e,t){do{var n=Rr;try{if(qw(),Km.current=Dh,Th){for(var r=vr.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Th=!1}if(dc=0,na=Ur=vr=null,Gd=!1,kf=0,i1.current=null,n===null||n.return===null){Hr=1,jf=t,Rr=null;break}e:{var i=e,o=n.return,s=n,l=t;if(t=pa,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=j2(o);if(m!==null){m.flags&=-257,C2(m,o,s,i,t),m.mode&1&&N2(i,c,t),t=m,l=c;var h=t.updateQueue;if(h===null){var y=new Set;y.add(l),t.updateQueue=y}else h.add(l);break e}else{if(!(t&1)){N2(i,c,t),u1();break e}l=Error(Ve(426))}}else if(cr&&s.mode&1){var x=j2(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),C2(x,o,s,i,t),Ww(Pu(l,s));break e}}i=l=Pu(l,s),Hr!==4&&(Hr=2),Zd===null?Zd=[i]:Zd.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=PT(i,l,t);v2(i,g);break e;case 1:s=l;var b=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(sl===null||!sl.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=TT(i,s,t);v2(i,S);break e}}i=i.return}while(i!==null)}ZT(n)}catch(C){t=C,Rr===n&&n!==null&&(Rr=n=n.return);continue}break}while(!0)}function GT(){var e=Oh.current;return Oh.current=Dh,e===null?Dh:e}function u1(){(Hr===0||Hr===3||Hr===2)&&(Hr=4),ra===null||!(fc&268435455)&&!(a0&268435455)||Xs(ra,pa)}function Lh(e,t){var n=wn;wn|=2;var r=GT();(ra!==e||pa!==t)&&(Yo=null,tc(e,t));do try{VB();break}catch(a){YT(e,a)}while(!0);if(qw(),wn=n,Oh.current=r,Rr!==null)throw Error(Ve(261));return ra=null,pa=0,Hr}function VB(){for(;Rr!==null;)XT(Rr)}function UB(){for(;Rr!==null&&!m$();)XT(Rr)}function XT(e){var t=JT(e.alternate,e,gi);e.memoizedProps=e.pendingProps,t===null?ZT(e):Rr=t,i1.current=null}function ZT(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=LB(n,t),n!==null){n.flags&=32767,Rr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Hr=6,Rr=null;return}}else if(n=_B(n,t,gi),n!==null){Rr=n;return}if(t=t.sibling,t!==null){Rr=t;return}Rr=t=e}while(t!==null);Hr===0&&(Hr=5)}function $l(e,t,n){var r=_n,a=Wi.transition;try{Wi.transition=null,_n=1,WB(e,t,n,r)}finally{Wi.transition=a,_n=r}return null}function WB(e,t,n,r){do xu();while(Js!==null);if(wn&6)throw Error(Ve(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ve(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(N$(e,i),e===ra&&(Rr=ra=null,pa=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fm||(fm=!0,eD(yh,function(){return xu(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Wi.transition,Wi.transition=null;var o=_n;_n=1;var s=wn;wn|=4,i1.current=null,RB(e,n),HT(n,e),uB(jb),bh=!!Nb,jb=Nb=null,e.current=n,$B(n),h$(),wn=s,_n=o,Wi.transition=i}else e.current=n;if(fm&&(fm=!1,Js=e,_h=a),i=e.pendingLanes,i===0&&(sl=null),v$(n.stateNode),ni(e,Tr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Ih)throw Ih=!1,e=Wb,Wb=null,e;return _h&1&&e.tag!==0&&xu(),i=e.pendingLanes,i&1?e===Hb?Qd++:(Qd=0,Hb=e):Qd=0,wl(),null}function xu(){if(Js!==null){var e=PP(_h),t=Wi.transition,n=_n;try{if(Wi.transition=null,_n=16>e?16:e,Js===null)var r=!1;else{if(e=Js,Js=null,_h=0,wn&6)throw Error(Ve(331));var a=wn;for(wn|=4,pt=e.current;pt!==null;){var i=pt,o=i.child;if(pt.flags&16){var s=i.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(pt=c;pt!==null;){var d=pt;switch(d.tag){case 0:case 11:case 15:Xd(8,d,i)}var f=d.child;if(f!==null)f.return=d,pt=f;else for(;pt!==null;){d=pt;var p=d.sibling,m=d.return;if(VT(d),d===c){pt=null;break}if(p!==null){p.return=m,pt=p;break}pt=m}}}var h=i.alternate;if(h!==null){var y=h.child;if(y!==null){h.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}pt=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,pt=o;else e:for(;pt!==null;){if(i=pt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Xd(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,pt=g;break e}pt=i.return}}var b=e.current;for(pt=b;pt!==null;){o=pt;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,pt=w;else e:for(o=b;pt!==null;){if(s=pt,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:r0(9,s)}}catch(C){Nr(s,s.return,C)}if(s===o){pt=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,pt=S;break e}pt=s.return}}if(wn=a,wl(),Lo&&typeof Lo.onPostCommitFiberRoot=="function")try{Lo.onPostCommitFiberRoot(Gg,e)}catch{}r=!0}return r}finally{_n=n,Wi.transition=t}}return!1}function $2(e,t,n){t=Pu(n,t),t=PT(e,t,1),e=ol(e,t,1),t=$a(),e!==null&&(tp(e,1,t),ni(e,t))}function Nr(e,t,n){if(e.tag===3)$2(e,e,n);else for(;t!==null;){if(t.tag===3){$2(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(sl===null||!sl.has(r))){e=Pu(n,e),e=TT(t,e,1),t=ol(t,e,1),e=$a(),t!==null&&(tp(t,1,e),ni(t,e));break}}t=t.return}}function HB(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=$a(),e.pingedLanes|=e.suspendedLanes&n,ra===e&&(pa&n)===n&&(Hr===4||Hr===3&&(pa&130023424)===pa&&500>Tr()-s1?tc(e,0):o1|=n),ni(e,t)}function QT(e,t){t===0&&(e.mode&1?(t=nm,nm<<=1,!(nm&130023424)&&(nm=4194304)):t=1);var n=$a();e=fs(e,t),e!==null&&(tp(e,t,n),ni(e,n))}function qB(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),QT(e,n)}function KB(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ve(314))}r!==null&&r.delete(t),QT(e,n)}var JT;JT=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ei.current)Qa=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Qa=!1,IB(e,t,n);Qa=!!(e.flags&131072)}else Qa=!1,cr&&t.flags&1048576&&nT(t,Ch,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Gm(e,t),e=t.pendingProps;var a=Cu(t,Ma.current);bu(t,n),a=e1(null,t,r,e,a,n);var i=t1();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ti(r)?(i=!0,Nh(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Gw(t),a.updater=n0,t.stateNode=a,a._reactInternals=t,Ib(t,r,e,n),t=Fb(null,t,r,!0,i,n)):(t.tag=0,cr&&i&&Vw(t),La(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Gm(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=GB(r),e=no(r,e),a){case 0:t=Lb(null,t,r,e,n);break e;case 1:t=E2(null,t,r,e,n);break e;case 11:t=M2(null,t,r,e,n);break e;case 14:t=A2(null,t,r,no(r.type,e),n);break e}throw Error(Ve(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:no(r,a),Lb(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:no(r,a),E2(e,t,r,a,n);case 3:e:{if(_T(t),e===null)throw Error(Ve(387));r=t.pendingProps,i=t.memoizedState,a=i.element,lT(e,t),Eh(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Pu(Error(Ve(423)),t),t=P2(e,t,r,n,a);break e}else if(r!==a){a=Pu(Error(Ve(424)),t),t=P2(e,t,r,n,a);break e}else for(bi=il(t.stateNode.containerInfo.firstChild),wi=t,cr=!0,ao=null,n=oT(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mu(),r===a){t=ps(e,t,n);break e}La(e,t,r,n)}t=t.child}return t;case 5:return cT(t),e===null&&Tb(t),r=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Cb(r,a)?o=null:i!==null&&Cb(r,i)&&(t.flags|=32),IT(e,t),La(e,t,o,n),t.child;case 6:return e===null&&Tb(t),null;case 13:return LT(e,t,n);case 4:return Xw(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Au(t,null,r,n):La(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:no(r,a),M2(e,t,r,a,n);case 7:return La(e,t,t.pendingProps,n),t.child;case 8:return La(e,t,t.pendingProps.children,n),t.child;case 12:return La(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Kn(Mh,r._currentValue),r._currentValue=o,i!==null)if(po(i.value,o)){if(i.children===a.children&&!ei.current){t=ps(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){o=i.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=is(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Db(i.return,n,t),s.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Ve(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Db(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}La(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,bu(t,n),a=qi(a),r=r(a),t.flags|=1,La(e,t,r,n),t.child;case 14:return r=t.type,a=no(r,t.pendingProps),a=no(r.type,a),A2(e,t,r,a,n);case 15:return DT(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:no(r,a),Gm(e,t),t.tag=1,ti(r)?(e=!0,Nh(t)):e=!1,bu(t,n),ET(t,r,a),Ib(t,r,a,n),Fb(null,t,r,!0,e,n);case 19:return FT(e,t,n);case 22:return OT(e,t,n)}throw Error(Ve(156,t.tag))};function eD(e,t){return CP(e,t)}function YB(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vi(e,t,n,r){return new YB(e,t,n,r)}function d1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function GB(e){if(typeof e=="function")return d1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Pw)return 11;if(e===Tw)return 14}return 2}function cl(e,t){var n=e.alternate;return n===null?(n=Vi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Qm(e,t,n,r,a,i){var o=2;if(r=e,typeof e=="function")d1(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Qc:return nc(n.children,a,i,t);case Ew:o=8,a|=8;break;case ab:return e=Vi(12,n,t,a|2),e.elementType=ab,e.lanes=i,e;case ib:return e=Vi(13,n,t,a),e.elementType=ib,e.lanes=i,e;case ob:return e=Vi(19,n,t,a),e.elementType=ob,e.lanes=i,e;case cP:return i0(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case sP:o=10;break e;case lP:o=9;break e;case Pw:o=11;break e;case Tw:o=14;break e;case Ws:o=16,r=null;break e}throw Error(Ve(130,e==null?e:typeof e,""))}return t=Vi(o,n,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function nc(e,t,n,r){return e=Vi(7,e,r,t),e.lanes=n,e}function i0(e,t,n,r){return e=Vi(22,e,r,t),e.elementType=cP,e.lanes=n,e.stateNode={isHidden:!1},e}function Jy(e,t,n){return e=Vi(6,e,null,t),e.lanes=n,e}function ev(e,t,n){return t=Vi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function XB(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Iy(0),this.expirationTimes=Iy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Iy(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function f1(e,t,n,r,a,i,o,s,l){return e=new XB(e,t,n,s,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Vi(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gw(i),e}function ZB(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zc,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function tD(e){if(!e)return ml;e=e._reactInternals;e:{if(Cc(e)!==e||e.tag!==1)throw Error(Ve(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ti(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ve(171))}if(e.tag===1){var n=e.type;if(ti(n))return eT(e,n,t)}return t}function nD(e,t,n,r,a,i,o,s,l){return e=f1(n,r,!0,e,a,i,o,s,l),e.context=tD(null),n=e.current,r=$a(),a=ll(n),i=is(r,a),i.callback=t??null,ol(n,i,a),e.current.lanes=a,tp(e,a,r),ni(e,r),e}function o0(e,t,n,r){var a=t.current,i=$a(),o=ll(a);return n=tD(n),t.context===null?t.context=n:t.pendingContext=n,t=is(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ol(a,t,o),e!==null&&(co(e,a,o,i),qm(e,a,o)),o}function Fh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function B2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function p1(e,t){B2(e,t),(e=e.alternate)&&B2(e,t)}function QB(){return null}var rD=typeof reportError=="function"?reportError:function(e){console.error(e)};function m1(e){this._internalRoot=e}s0.prototype.render=m1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ve(409));o0(e,t,null,null)};s0.prototype.unmount=m1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pc(function(){o0(null,e,null,null)}),t[ds]=null}};function s0(e){this._internalRoot=e}s0.prototype.unstable_scheduleHydration=function(e){if(e){var t=OP();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Gs.length&&t!==0&&t<Gs[n].priority;n++);Gs.splice(n,0,e),n===0&&_P(e)}};function h1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function l0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function z2(){}function JB(e,t,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var c=Fh(o);i.call(c)}}var o=nD(t,r,e,0,null,!1,!1,"",z2);return e._reactRootContainer=o,e[ds]=o.current,yf(e.nodeType===8?e.parentNode:e),pc(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var s=r;r=function(){var c=Fh(l);s.call(c)}}var l=f1(e,0,!1,null,null,!1,!1,"",z2);return e._reactRootContainer=l,e[ds]=l.current,yf(e.nodeType===8?e.parentNode:e),pc(function(){o0(t,l,n,r)}),l}function c0(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var s=a;a=function(){var l=Fh(o);s.call(l)}}o0(t,o,e,a)}else o=JB(n,t,e,a,r);return Fh(o)}TP=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Rd(t.pendingLanes);n!==0&&(Iw(t,n|1),ni(t,Tr()),!(wn&6)&&(Tu=Tr()+500,wl()))}break;case 13:pc(function(){var r=fs(e,1);if(r!==null){var a=$a();co(r,e,1,a)}}),p1(e,1)}};_w=function(e){if(e.tag===13){var t=fs(e,134217728);if(t!==null){var n=$a();co(t,e,134217728,n)}p1(e,134217728)}};DP=function(e){if(e.tag===13){var t=ll(e),n=fs(e,t);if(n!==null){var r=$a();co(n,e,t,r)}p1(e,t)}};OP=function(){return _n};IP=function(e,t){var n=_n;try{return _n=e,t()}finally{_n=n}};gb=function(e,t,n){switch(t){case"input":if(cb(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=Jg(r);if(!a)throw Error(Ve(90));dP(r),cb(r,a)}}}break;case"textarea":pP(e,n);break;case"select":t=n.value,t!=null&&hu(e,!!n.multiple,t,!1)}};xP=l1;wP=pc;var ez={usingClientEntryPoint:!1,Events:[rp,nu,Jg,vP,bP,l1]},wd={findFiberByHostInstance:ql,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tz={bundleType:wd.bundleType,version:wd.version,rendererPackageName:wd.rendererPackageName,rendererConfig:wd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ws.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=NP(e),e===null?null:e.stateNode},findFiberByHostInstance:wd.findFiberByHostInstance||QB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pm.isDisabled&&pm.supportsFiber)try{Gg=pm.inject(tz),Lo=pm}catch{}}Mi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ez;Mi.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h1(t))throw Error(Ve(200));return ZB(e,t,null,n)};Mi.createRoot=function(e,t){if(!h1(e))throw Error(Ve(299));var n=!1,r="",a=rD;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=f1(e,1,!1,null,null,n,!1,r,a),e[ds]=t.current,yf(e.nodeType===8?e.parentNode:e),new m1(t)};Mi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ve(188)):(e=Object.keys(e).join(","),Error(Ve(268,e)));return e=NP(t),e=e===null?null:e.stateNode,e};Mi.flushSync=function(e){return pc(e)};Mi.hydrate=function(e,t,n){if(!l0(t))throw Error(Ve(200));return c0(null,e,t,!0,n)};Mi.hydrateRoot=function(e,t,n){if(!h1(e))throw Error(Ve(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",o=rD;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=nD(t,null,e,1,n??null,a,!1,i,o),e[ds]=t.current,yf(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new s0(t)};Mi.render=function(e,t,n){if(!l0(t))throw Error(Ve(200));return c0(null,e,t,!1,n)};Mi.unmountComponentAtNode=function(e){if(!l0(e))throw Error(Ve(40));return e._reactRootContainer?(pc(function(){c0(null,null,e,!1,function(){e._reactRootContainer=null,e[ds]=null})}),!0):!1};Mi.unstable_batchedUpdates=l1;Mi.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!l0(n))throw Error(Ve(200));if(e==null||e._reactInternals===void 0)throw Error(Ve(38));return c0(e,t,n,!1,r)};Mi.version="18.3.1-next-f1338f8080-20240426";function aD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(aD)}catch(e){console.error(e)}}aD(),rP.exports=Mi;var Gu=rP.exports,V2=Gu;nb.createRoot=V2.createRoot,nb.hydrateRoot=V2.hydrateRoot;const nz=new Set(["Vulnerability","Weakness","Blind","Cripple","Chill","Immobilize","Slow","Fear","Taunt"]),iD=[{id:"damage",label:"Damage",field:"damage",source:"dpsAll"},{id:"directDmg",label:"Direct Damage",field:"directDmg",source:"statsTargets"},{id:"connectedDamageCount",label:"Connected Damage Count",field:"connectedDamageCount",source:"statsTargets"},{id:"connectedDirectDamageCount",label:"Connected Direct Damage Count",field:"connectedDirectDamageCount",source:"statsTargets"},{id:"battleStandardHits",label:"Battle Standard Tracking"},{id:"criticalRate",label:"Critical Rate",field:"criticalRate",isRate:!0,isPercent:!0,denomField:"critableDirectDamageCount",source:"statsTargets"},{id:"criticalDmg",label:"Critical Damage",field:"criticalDmg",source:"statsTargets"},{id:"flankingRate",label:"Flanking Rate",field:"flankingRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"glanceRate",label:"Glance Rate",field:"glanceRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"missed",label:"Missed",field:"missed",source:"statsTargets"},{id:"evaded",label:"Evaded (enemy)",field:"evaded",source:"statsTargets"},{id:"blocked",label:"Blocked (enemy)",field:"blocked",source:"statsTargets"},{id:"interrupts",label:"Interrupts",field:"interrupts",source:"statsTargets"},{id:"invulned",label:"Invulned",field:"invulned",source:"statsTargets"},{id:"killed",label:"Killed",field:"killed",source:"statsTargets"},{id:"downed",label:"Downed",field:"downed",source:"statsTargets"},{id:"downContribution",label:"Down Contribution",field:"downContribution",source:"statsTargets"},{id:"downContributionPercent",label:"Down Contribution %",isRate:!0,isPercent:!0},{id:"againstDownedDamage",label:"Against Downed Damage",field:"againstDownedDamage",source:"statsTargets"},{id:"appliedCrowdControl",label:"Applied CC",field:"appliedCrowdControl",source:"statsTargets"},{id:"appliedCrowdControlDuration",label:"Applied CC Duration",field:"appliedCrowdControlDuration",source:"statsTargets"},{id:"appliedCrowdControlDownContribution",label:"Applied CC Down Contribution",field:"appliedCrowdControlDownContribution",source:"statsTargets"},{id:"appliedCrowdControlDurationDownContribution",label:"Applied CC Duration Down Contribution",field:"appliedCrowdControlDurationDownContribution",source:"statsTargets"},{id:"boonStrips",label:"Boon Strips",field:"boonStrips",source:"support"}],oD=[{id:"damageTaken",label:"Damage Taken",field:"damageTaken"},{id:"minionDamageTaken",label:"Minion Damage Taken"},{id:"damageTakenCount",label:"Damage Taken Count",field:"damageTakenCount"},{id:"conditionDamageTaken",label:"Condition Damage Taken",field:"conditionDamageTaken"},{id:"conditionDamageTakenCount",label:"Condition Damage Taken Count",field:"conditionDamageTakenCount"},{id:"powerDamageTaken",label:"Power Damage Taken",field:"powerDamageTaken"},{id:"powerDamageTakenCount",label:"Power Damage Taken Count",field:"powerDamageTakenCount"},{id:"downedDamageTaken",label:"Downed Damage Taken",field:"downedDamageTaken"},{id:"downedDamageTakenCount",label:"Downed Damage Taken Count",field:"downedDamageTakenCount"},{id:"damageBarrier",label:"Damage Barrier",field:"damageBarrier"},{id:"damageBarrierCount",label:"Damage Barrier Count",field:"damageBarrierCount"},{id:"blockedCount",label:"Blocked Count",field:"blockedCount"},{id:"evadedCount",label:"Evaded Count",field:"evadedCount"},{id:"missedCount",label:"Missed Count",field:"missedCount"},{id:"dodgeCount",label:"Dodge Count",field:"dodgeCount"},{id:"invulnedCount",label:"Invulnerable Count",field:"invulnedCount"},{id:"interruptedCount",label:"Interrupted Count",field:"interruptedCount"},{id:"downCount",label:"Down Count",field:"downCount"},{id:"deadCount",label:"Death Count",field:"deadCount"},{id:"boonStrips",label:"Boon Strips (Incoming)",field:"boonStrips"},{id:"conditionCleanses",label:"Cleanses (Incoming)",field:"conditionCleanses"},{id:"receivedCrowdControl",label:"Crowd Control (Incoming)",field:"receivedCrowdControl"}],rz=[{id:"totalHits",label:"Total Hits"},{id:"evaded",label:"Evaded"},{id:"blocked",label:"Blocked"},{id:"glanced",label:"Glanced"},{id:"missed",label:"Missed"},{id:"invulned",label:"Invulned"},{id:"interrupted",label:"Interrupted"},{id:"totalMitigation",label:"Damage Mitigation"},{id:"minMitigation",label:"Min Damage Mitigation"}],sD=[{id:"condiCleanse",label:"Condition Cleanses",field:"condiCleanse"},{id:"condiCleanseTime",label:"Condition Cleanse Time",field:"condiCleanseTime",isTime:!0},{id:"condiCleanseSelf",label:"Condition Cleanse Self",field:"condiCleanseSelf"},{id:"condiCleanseTimeSelf",label:"Condition Cleanse Time Self",field:"condiCleanseTimeSelf",isTime:!0},{id:"boonStrips",label:"Boon Strips",field:"boonStrips"},{id:"boonStripsTime",label:"Boon Strips Time",field:"boonStripsTime",isTime:!0},{id:"boonStripDownContribution",label:"Boon Strip Down Contribution",field:"boonStripDownContribution"},{id:"boonStripDownContributionTime",label:"Boon Strip Down Contribution Time",field:"boonStripDownContributionTime",isTime:!0},{id:"stunBreak",label:"Stun Breaks",field:"stunBreak"},{id:"removedStunDuration",label:"Removed Stun Duration",field:"removedStunDuration",isTime:!0},{id:"resurrects",label:"Resurrects",field:"resurrects"},{id:"resurrectTime",label:"Resurrect Time",field:"resurrectTime",isTime:!0}],az=[{id:"healing",label:"Healing",baseField:"healing",perSecond:!1,decimals:0},{id:"healingPerSecond",label:"Healing Per Second",baseField:"healing",perSecond:!0,decimals:2},{id:"barrier",label:"Barrier",baseField:"barrier",perSecond:!1,decimals:0},{id:"barrierPerSecond",label:"Barrier Per Second",baseField:"barrier",perSecond:!0,decimals:2},{id:"downedHealing",label:"Downed Healing",baseField:"downedHealing",perSecond:!1,decimals:0},{id:"downedHealingPerSecond",label:"Downed Healing Per Second",baseField:"downedHealing",perSecond:!0,decimals:1},{id:"resUtility",label:"Resurrect Utility",baseField:"resUtility",perSecond:!1,decimals:0}],iz=["battle standard","glyph of renewal","glyph of the stars","illusion of life","spirit of nature","nature spirit","search and rescue","signet of mercy"],oz=new Set([10244]),sz=(e,t)=>{var n;if(oz.has(e))return!0;const r=(t==null?void 0:t[`s${e}`])||(t==null?void 0:t[`${e}`]),a=((n=r==null?void 0:r.name)==null?void 0:n.toLowerCase())||"";return iz.some(i=>a.includes(i))},lz=e=>{const t=e.toLowerCase();return t.includes("autoattack")||t.includes("auto attack")},mm=e=>{if(!e||!Number.isFinite(e))return"--:--";const t=Math.max(0,Math.round(e/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),a=t%60;return n>0?`${n}:${String(r).padStart(2,"0")}:${String(a).padStart(2,"0")}`:`${r}:${String(a).padStart(2,"0")}`},lD=()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia("(max-width: 640px)").matches,cD=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e),n=e<0?"-":"";if(t>=1e6){const r=(t/1e6).toFixed(2).replace(/\.?0+$/,"");return`${n}${r}m`}if(t>=1e4){const r=(t/1e3).toFixed(0);return`${n}${r}k`}return`${e.toLocaleString()}`},hi=(e,t=2)=>Number.isFinite(e)?lD()&&Math.abs(e)>=1e4?cD(e):e.toLocaleString(void 0,{minimumFractionDigits:t,maximumFractionDigits:t}):"--",Vs=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e);return lD()&&t>=1e4?cD(e):t>=1e6?`${(e/1e6).toFixed(2).replace(/\.?0+$/,"")}m`:Math.round(e).toLocaleString()};var cz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const uz=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Gt=(e,t)=>{const n=v.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:s,...l},c)=>v.createElement("svg",{ref:c,...cz,width:a,height:a,stroke:r,strokeWidth:o?Number(i)*24/Number(a):i,className:`lucide lucide-${uz(e)}`,...l},[...t.map(([d,f])=>v.createElement(d,f)),...(Array.isArray(s)?s:[s])||[]]));return n.displayName=`${e}`,n},uD=Gt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),dz=Gt("ArrowBigDown",[["path",{d:"M15 6v6h4l-7 7-7-7h4V6h6z",key:"1thax2"}]]),g1=Gt("ArrowBigUp",[["path",{d:"M9 18v-6H5l7-7 7 7h-4v6H9z",key:"1x06kx"}]]),dD=Gt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),fz=Gt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),pz=Gt("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),fD=Gt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Yb=Gt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),mz=Gt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),mo=Gt("Columns",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"12",x2:"12",y1:"3",y2:"21",key:"1efggb"}]]),hz=Gt("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]),gz=Gt("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),yz=Gt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),vz=Gt("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Cf=Gt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),bz=Gt("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),y1=Gt("GitCompareArrows",[["circle",{cx:"5",cy:"6",r:"3",key:"1qnov2"}],["path",{d:"M12 6h5a2 2 0 0 1 2 2v7",key:"1yj91y"}],["path",{d:"m15 9-3-3 3-3",key:"1lwv8l"}],["circle",{cx:"19",cy:"18",r:"3",key:"1qljk2"}],["path",{d:"M12 18H7a2 2 0 0 1-2-2V9",key:"16sdep"}],["path",{d:"m9 15 3 3-3 3",key:"1m3kbl"}]]),xz=Gt("Hammer",[["path",{d:"m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9",key:"1afvon"}],["path",{d:"M17.64 15 22 10.64",key:"zsji6s"}],["path",{d:"m20.91 11.7-1.25-1.25c-.6-.6-.93-1.4-.93-2.25v-.86L16.01 4.6a5.56 5.56 0 0 0-3.94-1.64H9l.92.82A6.18 6.18 0 0 1 12 8.4v1.56l2 2h2.47l2.26 1.91",key:"lehyy1"}]]),pD=Gt("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]),wz=Gt("HelpingHand",[["path",{d:"m3 15 5.12-5.12A3 3 0 0 1 10.24 9H13a2 2 0 1 1 0 4h-2.5m4-.68 4.17-4.89a1.88 1.88 0 0 1 2.92 2.36l-4.2 5.94A3 3 0 0 1 14.96 17H9.83a2 2 0 0 0-1.42.59L7 19",key:"nitrv7"}],["path",{d:"m2 14 6 6",key:"g6j1uo"}]]),v1=Gt("Keyboard",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",ry:"2",key:"15u882"}],["path",{d:"M6 8h.001",key:"1ej0i3"}],["path",{d:"M10 8h.001",key:"1x2st2"}],["path",{d:"M14 8h.001",key:"1vkmyp"}],["path",{d:"M18 8h.001",key:"kfsenl"}],["path",{d:"M8 12h.001",key:"1sjpby"}],["path",{d:"M12 12h.001",key:"al75ts"}],["path",{d:"M16 12h.001",key:"931bgk"}],["path",{d:"M7 16h10",key:"wp8him"}]]),kz=Gt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),b1=Gt("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]),Sz=Gt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),x1=Gt("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),oi=Gt("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),U2=Gt("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]),Nz=Gt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),jz=Gt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),Cz=Gt("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),mD=Gt("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Du=Gt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),u0=Gt("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]),d0=Gt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Rh=Gt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Mz=Gt("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]),el=Gt("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]),rc=Gt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),Az=Gt("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),Cr=Gt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Ez=Gt("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]),hD=Gt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Wa=Gt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Mf=Gt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),w1=({className:e})=>u.jsx(Nz,{className:e,strokeWidth:3.2}),ip=e=>{if(typeof window<"u"&&(window.location.pathname||"").includes("/web/web/"))return`../${e.replace(/^\/+/,"")}`;const t="./",n=t.endsWith("/")?t:`${t}/`,r=e.replace(/^\/+/,"");return`${n}${r}`},k1=({className:e=""})=>{const t=ip("svg/custom-icons/mouse.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},S1=({className:e=""})=>{const t=ip("svg/custom-icons/gw2_boon.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},N1=({className:e=""})=>{const t=ip("svg/custom-icons/dam_mit.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},j1=({className:e=""})=>{const t=ip("svg/custom-icons/gw2_sigil.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},Pz=[{id:"overview",label:"Overview",icon:rc,sectionIds:["overview","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","squad-composition","timeline","map-distribution"],items:[{id:"overview",label:"Overview",icon:rc},{id:"fight-breakdown",label:"Fight Breakdown",icon:el},{id:"top-players",label:"Top Players",icon:rc},{id:"top-skills-outgoing",label:"Top Skills",icon:g1},{id:"squad-composition",label:"Classes",icon:Cr},{id:"timeline",label:"Squad vs Enemy",icon:Cr},{id:"map-distribution",label:"Map Distribution",icon:x1}]},{id:"roster",label:"Roster Intel",icon:Cf,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance Ledger",icon:Cf},{id:"squad-comp-fight",label:"Squad Comp by Fight",icon:Cr},{id:"fight-comp",label:"Fight Comp",icon:el}]},{id:"offense",label:"Offensive Stats",icon:el,sectionIds:["offense-detailed","player-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:el},{id:"player-breakdown",label:"Player Breakdown",icon:b1},{id:"spike-damage",label:"Spike Damage",icon:Mf},{id:"conditions-outgoing",label:"Conditions",icon:u0}]},{id:"defense",label:"Defensive Stats",icon:Du,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","support-detailed","healing-stats","boon-output"],items:[{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:Cz},{id:"defense-detailed",label:"Defense Detailed",icon:Du},{id:"defense-mitigation",label:"Damage Mitigation",icon:N1},{id:"support-detailed",label:"Support Detailed",icon:w1},{id:"healing-stats",label:"Healing Stats",icon:pD},{id:"boon-output",label:"Boon Output",icon:S1}]},{id:"other",label:"Other Metrics",icon:Rh,sectionIds:["fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"fight-diff-mode",label:"Fight Comparison",icon:y1},{id:"special-buffs",label:"Special Buffs",icon:Rh},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:j1},{id:"skill-usage",label:"Skill Usage",icon:v1},{id:"apm-stats",label:"APM Breakdown",icon:k1}]}],Tz=(e,t=!0)=>{const[n,r]=v.useState(!1),[a,i]=v.useState("overview"),o=v.useRef(null),s=v.useRef(null),l=v.useRef(0),c=v.useMemo(()=>Pz,[]),d=v.useMemo(()=>c.flatMap(m=>m.items),[c]),f=m=>{const h=m==="kdr"?"overview":m,y=o.current,x=document.getElementById(h);if(y&&x){const g=y.getBoundingClientRect(),b=x.getBoundingClientRect().top-g.top+y.scrollTop,w=Math.max(0,y.scrollHeight-y.clientHeight),S=Math.min(Math.max(b-16,0),w);y.scrollTo({top:S,behavior:"smooth"}),i(h)}else x&&(x.scrollIntoView({behavior:"smooth",block:"start"}),i(h));r(!1)};v.useEffect(()=>{if(e)return;const m=h=>{const y=o.current;if(!y)return;const x=h.target;if(!(x instanceof Element&&x.closest("[data-stats-mobile-nav]"))&&!(x instanceof Node&&y.contains(x))&&h.deltaY!==0&&!(y.scrollHeight<=y.clientHeight)){if(l.current+=h.deltaY,s.current===null){const g=()=>{const b=l.current;if(Math.abs(b)<.5){l.current=0,s.current=null;return}const w=b*.2;l.current=b-w,y.scrollBy({top:w,behavior:"auto"}),s.current=requestAnimationFrame(g)};s.current=requestAnimationFrame(g)}h.preventDefault()}};return window.addEventListener("wheel",m,{passive:!1}),()=>{window.removeEventListener("wheel",m),s.current!==null&&(cancelAnimationFrame(s.current),s.current=null),l.current=0}},[e]);const p=m=>{var h;const y=Math.max(0,d.findIndex(b=>b.id===a)),x=Math.min(Math.max(y+m,0),d.length-1),g=(h=d[x])==null?void 0:h.id;g&&f(g)};return v.useEffect(()=>{if(!t)return;const m=o.current;if(!m)return;let h=0;const y=()=>{var g;const b=m.getBoundingClientRect().top;let w=((g=d[0])==null?void 0:g.id)||"overview";d.forEach(S=>{const C=document.getElementById(S.id);C&&C.getBoundingClientRect().top-b<=24&&(w=S.id)}),i(S=>S===w?S:w)},x=()=>{h&&cancelAnimationFrame(h),h=requestAnimationFrame(y)};return y(),m.addEventListener("scroll",x,{passive:!0}),window.addEventListener("resize",x),()=>{h&&cancelAnimationFrame(h),m.removeEventListener("scroll",x),window.removeEventListener("resize",x)}},[d,t]),{mobileNavOpen:n,setMobileNavOpen:r,activeNavId:a,setActiveNavId:i,scrollContainerRef:o,tocGroups:c,tocItems:d,scrollToSection:f,stepSection:p}},W2=["selfBuffs","groupBuffs","squadBuffs"],Ko=(e,t,n=0)=>t?e/t:n,H2=e=>e!=null&&e.classification?e.classification==="Boon":!0,gD=e=>`b${e}`,Dz=(e,t)=>{const n=Array.isArray(e==null?void 0:e.activeTimes)?e.activeTimes:[],r=typeof n[0]=="number"?n[0]:0;return r>0?r:t},yD=(e,t,n,r,a,i,o)=>{const s=e==="selfBuffs"?1:Math.max(e==="groupBuffs"?i-1:o-1,0);return!s||!a?{generationMs:0,wastedMs:0}:t?{generationMs:n*a*s,wastedMs:r*a*s}:{generationMs:n/100*a*s,wastedMs:r/100*a*s}},Oz=(e,t,n)=>{const r=e.activeTimeMs||1,a=e.numFights||1,i=e.groupSupported||1,o=e.squadSupported||1,s=e.categories.selfBuffs,l=e.categories.squadBuffs,c=t==="totalBuffs"?{generationMs:s.generationMs+l.generationMs,wastedMs:s.wastedMs+l.wastedMs}:e.categories[t],d=c.generationMs,f=c.wastedMs;let p=1;t==="groupBuffs"?p=Ko(i-a,a,1):t==="squadBuffs"?p=Ko(o-a,a,1):t==="totalBuffs"&&(p=o);let m=0,h=0;if(t==="selfBuffs")m=n?Ko(d,r):Ko(d,r)*100,h=n?Ko(f,r):Ko(f,r)*100;else{const y=Ko(d,r)/(p||1),x=Ko(f,r)/(p||1);m=n?y:y*100,h=n?x:x*100}return{generationMs:d,wastedMs:f,uptimeRaw:m,wastedRaw:h}},vD=(e,t,n,r)=>{const{generationMs:a,uptimeRaw:i}=Oz(e,t,n),o=e.activeTimeMs||1;return r==="total"?a/1e3:r==="average"?Ko(a,o):i},Iz=(e,t,n,r,a)=>{const i=vD(e,t,n,r),o=r==="uptime"&&!n,s=r==="average",l=a!=null&&a.roundCountStats&&!o&&!s?0:2,c=i.toLocaleString(void 0,{minimumFractionDigits:l,maximumFractionDigits:l});return o?`${c}%`:c},_z=e=>{const t=new Map,n=new Map;return e.forEach(r=>{const a=r.details;if(!a)return;const i=a.durationMS||0,o=a.buffMap||{};Object.entries(o).forEach(([d,f])=>{if(!t.has(d)){t.set(d,f);return}const p=t.get(d)||{},m={name:p.name||f.name,stacking:p.stacking??f.stacking,icon:p.icon||f.icon,classification:p.classification||f.classification};t.set(d,m)});const s=(a.players||[]).filter(d=>!d.notInSquad),l=s.length,c=new Map;s.forEach(d=>{const f=d.group??0;c.set(f,(c.get(f)||0)+1)}),s.forEach(d=>{const f=d.account||d.name||d.character_name||"Unknown",p=d.profession||"Unknown",m=d.group??0,h=c.get(m)||1,y=Dz(d,i);n.has(f)||n.set(f,{account:f,profession:p,professions:new Set,professionTimeMs:{},activeTimeMs:0,numFights:0,groupSupported:0,squadSupported:0,boons:{}});const x=n.get(f);x.profession=p,p!=="Unknown"&&(x.professions.add(p),x.professionTimeMs[p]=(x.professionTimeMs[p]||0)+y),x.activeTimeMs+=y,x.numFights+=1,x.groupSupported+=h,x.squadSupported+=l,W2.forEach(g=>{(d[g]||[]).forEach(b=>{var w,S,C,N;if(typeof(b==null?void 0:b.id)!="number")return;const M=gD(b.id),T=o[M];if(!H2(T))return;const $=(T==null?void 0:T.stacking)??!1,E=((S=(w=b.buffData)==null?void 0:w[0])==null?void 0:S.generation)??0,P=((N=(C=b.buffData)==null?void 0:C[0])==null?void 0:N.wasted)??0,{generationMs:O,wastedMs:U}=yD(g,$,E,P,i,h,l);!O&&!U||(t.has(M)||t.set(M,T||{}),x.boons[M]||(x.boons[M]={selfBuffs:{generationMs:0,wastedMs:0},groupBuffs:{generationMs:0,wastedMs:0},squadBuffs:{generationMs:0,wastedMs:0}}),x.boons[M][g].generationMs+=O,x.boons[M][g].wastedMs+=U)})})})}),{boonTables:Array.from(t.keys()).filter(r=>H2(t.get(r))).map(r=>{const a=t.get(r)||{},i=[];return n.forEach(o=>{var s;const l=o.boons[r];if(!l||!W2.some(f=>l[f].generationMs>0||l[f].wastedMs>0))return;const c=Array.from(o.professions||[]).filter(f=>f&&f!=="Unknown");let d=o.profession;if(c.length>0){d=c[0];let f=((s=o.professionTimeMs)==null?void 0:s[d])||0;c.forEach(p=>{var m;const h=((m=o.professionTimeMs)==null?void 0:m[p])||0;h>f&&(f=h,d=p)})}i.push({account:o.account,profession:d||"Unknown",professionList:c,activeTimeMs:o.activeTimeMs||1,numFights:o.numFights||1,groupSupported:o.groupSupported||1,squadSupported:o.squadSupported||1,categories:{selfBuffs:{...l.selfBuffs},groupBuffs:{...l.groupBuffs},squadBuffs:{...l.squadBuffs}}})}),{id:r,name:a.name||r,icon:a.icon,stacking:a.stacking??!1,rows:i}}).filter(r=>r.rows.length>0)}},q2=(e,t,n,r,a,i,o={})=>{var s,l,c,d;const f=((e==null?void 0:e[t])||[]).find(x=>x.id===n);if(!f)return{generationMs:0,wastedMs:0};const p=o[gD(n)],m=(p==null?void 0:p.stacking)??!1,h=((l=(s=f.buffData)==null?void 0:s[0])==null?void 0:l.generation)??0,y=((d=(c=f.buffData)==null?void 0:c[0])==null?void 0:d.wasted)??0;return yD(t,m,h,y,r,a,i)},Lz={tiered:{tiers:{shortMs:500,mediumMs:1500,weights:{short:.5,medium:1,long:2}}}},Fz={methods:Lz},Rz=Fz,C1="count",$z=e=>(e||0)/1e3,Bz=(e,t)=>{var n;if(!e)return 0;const r=(n=Rz.methods.tiered)==null?void 0:n.tiers;if(!r)return e;const a=t/Math.max(e,1);return a<=r.shortMs?e*r.weights.short:a<=r.mediumMs?e*r.weights.medium:e*r.weights.long},bD=(e,t,n)=>n==="duration"?$z(t):n==="tiered"?Bz(e,t):e;function zz(e,t=C1){var n;const r=(n=e.statsAll)==null?void 0:n[0],a=Number((r==null?void 0:r.appliedCrowdControl)??0),i=Number((r==null?void 0:r.appliedCrowdControlDuration)??0);return bD(a,i,t)}function Vz(e,t){const n=(t==null?void 0:t.durationMS)||0,r=(t==null?void 0:t.buffMap)||{},a=e.filter(s=>!s.notInSquad),i=a.length,o=new Map;a.forEach(s=>{const l=s.group??0;o.set(l,(o.get(l)||0)+1)}),a.forEach(s=>{const l=o.get(s.group??0)||1,c=q2(s,"selfBuffs",1122,n,l,i,r),d=q2(s,"squadBuffs",1122,n,l,i,r);s.stabGeneration=(c.generationMs+d.generationMs)/1e3})}function Uz(e){if(!e.statsTargets)return 0;let t=0;for(const n of e.statsTargets)n&&n.length>0&&(t+=n[0].downContribution||0);return t}function Wz(e){if(!e.extBarrierStats||!e.extBarrierStats.outgoingBarrierAllies)return 0;let t=0;for(const n of e.extBarrierStats.outgoingBarrierAllies)if(n)for(const r of n)r&&(t+=r.barrier||0);return t}function Hz(e){if(!e.extHealingStats||!e.extHealingStats.outgoingHealingAllies)return 0;let t=0;for(const n of e.extHealingStats.outgoingHealingAllies)if(n)for(const r of n)r&&(t+=r.healing||0);return t}const K2=e=>{var t,n,r,a;return(((n=(t=e.support)==null?void 0:t[0])==null?void 0:n.condiCleanse)||0)+(((a=(r=e.support)==null?void 0:r[0])==null?void 0:a.condiCleanseSelf)||0)},Y2=(e,t=C1)=>{var n;const r=(n=e.support)==null?void 0:n[0],a=Number((r==null?void 0:r.boonStrips)??0),i=Number((r==null?void 0:r.boonStripsTime)??0);return bD(a,i,t)},G2=e=>Uz(e),X2=e=>Hz(e),Z2=e=>Wz(e),Q2=(e,t=C1)=>zz(e,t),qz=(e,t)=>Vz(e,t),Kz="count",xD={downContribution:1,healing:1,cleanses:1,strips:1,stability:1,cc:.7,revives:.7,distanceToTag:.7,participation:.7,dodging:.4,dps:.2,damage:.2},Gb={showTopStats:!0,showMvp:!0,roundCountStats:!1,topStatsMode:"total",topSkillDamageSource:"target",topSkillsMetric:"damage"},Yz={uploading:!1,message:null,url:null,buildStatus:"idle"},J2=new Map([["bleeding","Bleeding"],["burning","Burning"],["confusion","Confusion"],["poison","Poison"],["torment","Torment"],["vulnerability","Vulnerability"],["weakness","Weakness"],["weakened","Weakness"],["blind","Blind"],["blinded","Blind"],["blinding","Blind"],["cripple","Cripple"],["crippled","Cripple"],["chill","Chill"],["chilled","Chill"],["immob","Immobilize"],["immobile","Immobilize"],["immobilized","Immobilize"],["slow","Slow"],["slowed","Slow"],["fear","Fear"],["feared","Fear"],["taunt","Taunt"],["taunted","Taunt"]]),wD={Blind:"https://render.guildwars2.com/file/09770136BB76FD0DBE1CC4267DEED54774CB20F6/102837.png",Chill:"https://render.guildwars2.com/file/28C4EC547A3516AF0242E826772DA43A5EAC3DF3/102839.png",Cripple:"https://render.guildwars2.com/file/070325E519C178D502A8160523766070D30C0C19/102838.png",Fear:"https://render.guildwars2.com/file/30307A6E766D74B6EB09EDA12A4A2DE50E4D76F4/102869.png",Immobilize:"https://render.guildwars2.com/file/397A613651BFCA2832B6469CE34735580A2C120E/102844.png",Slow:"https://render.guildwars2.com/file/F60D1EF5271D7B9319610855676D320CD25F01C6/961397.png",Taunt:"https://render.guildwars2.com/file/02EED459AD65FAF7DF32A260E479C625070841B9/1228472.png",Vulnerability:"https://render.guildwars2.com/file/3A394C1A0A3257EB27A44842DDEEF0DF000E1241/102850.png",Weakness:"https://render.guildwars2.com/file/6CB0E64AF9AA292E332A38C1770CE577E2CDE0E8/102853.png"},hm=e=>{if(e)return wD[e]},Af=e=>{if(!e)return null;const t=e.trim().toLowerCase(),n=J2.get(t);if(n)return n;const r=t.split(/[^a-z]+/).filter(Boolean);for(const a of r){const i=J2.get(a);if(i)return i}return null},Yc=e=>Af(e),kD=e=>{const t=new Map;return e&&(Object.values(e).forEach(n=>{if(!(n!=null&&n.icon)||!(n!=null&&n.name))return;const r=Af(n.name);r&&(t.has(r)||t.set(r,n.icon))}),Object.entries(wD).forEach(([n,r])=>{t.has(n)||t.set(n,r)})),t},Jm=(e,t,n)=>{var r;if(t&&n){const a=(r=n[`b${t}`])==null?void 0:r.name,i=Af(a);if(i)return i}return e?Af(e):null},Gz=e=>{const t=(e==null?void 0:e.account)||"Unknown";return t&&t!=="Unknown"?t:(e==null?void 0:e.name)||"Unknown"},Xz=e=>{if(!e||e.length===0)return 0;let t=0,n=null;return e.forEach(r=>{const a=Number(r[1]??0);if(Number.isFinite(a)){if(n===null){n=a;return}a>n&&(t+=a-n),n=a}}),t},Zz=e=>{if(!e||e.length===0)return 0;let t=0;return e.forEach(n=>{const r=Number(n[0]??0),a=Number(n[1]??0);Number.isFinite(a)&&r!==0&&a>0&&(t+=1)}),t},Qz=e=>{const{players:t,targets:n,skillMap:r,buffMap:a}=e,i=e.getPlayerKey||Gz,o=kD(a),s={},l={};t.forEach(m=>{if(m!=null&&m.notInSquad)return;const h=i(m);h&&(s[h]||(s[h]={}),m!=null&&m.totalDamageDist&&m.totalDamageDist.forEach(y=>{y&&y.forEach(x=>{if(!x.id)return;let g=`Skill ${x.id}`,b;r&&(r[`s${x.id}`]?(g=r[`s${x.id}`].name||g,b=r[`s${x.id}`].icon||b):r[`${x.id}`]&&(g=r[`${x.id}`].name||g,b=r[`${x.id}`].icon||b));const w=Jm(g,x.id,a);if(!w)return;const S=a==null?void 0:a[`b${x.id}`],C=S==null?void 0:S.name,N=o.get(w)||(S==null?void 0:S.icon),M=g.startsWith("Skill ")?C||w:g,T=b||(S==null?void 0:S.icon),$=Number(x.connectedHits??0),E=Number(x.hits??0),P=$>0?$:E,O=Number(x.totalDamage??0);if(!Number.isFinite(P)&&!Number.isFinite(O))return;const U=l[w]||{name:w,icon:N,applications:0,damage:0};U.applications+=Number.isFinite(P)?P:0,U.damage+=Number.isFinite(O)?O:0,!U.icon&&N&&(U.icon=N),l[w]=U;const X=s[h][w]||{icon:N,applications:0,damage:0,skills:{}};X.applications+=Number.isFinite(P)?P:0,X.damage+=Number.isFinite(O)?O:0;const ee=X.skills[M]||{name:M,hits:0,damage:0,icon:T};ee.hits+=Number.isFinite(P)?P:0,ee.damage+=Number.isFinite(O)?O:0,!ee.icon&&T&&(ee.icon=T),X.skills[M]=ee,!X.icon&&N&&(X.icon=N),s[h][w]=X})}))});const c=new Map;t.forEach(m=>{if(m!=null&&m.notInSquad)return;const h=i(m);h&&m!=null&&m.name&&c.set(m.name,h)});let d=0,f=0,p=0;return n.forEach(m=>{m!=null&&m.buffs&&m.buffs.forEach(h=>{const y=Number(h==null?void 0:h.id);if(!Number.isFinite(y))return;const x=a==null?void 0:a[`b${y}`],g=Af(x==null?void 0:x.name);if(!g||x!=null&&x.classification&&x.classification!=="Condition")return;const b=g;if(!b)return;const w=h.statesPerSource||{};p+=1,Object.entries(w).forEach(([S,C])=>{var N;const M=c.get(S);if(!M)return;f+=1;const T=Xz(C),$=Zz(C);d+=T;const E=((N=s[M])==null?void 0:N[b])||{applications:0,damage:0,skills:{}};E.applicationsFromBuffs=(E.applicationsFromBuffs||0)+T,E.applicationsFromBuffsActive=(E.applicationsFromBuffsActive||0)+$,s[M]=s[M]||{},s[M][b]=E;const P=l[b]||{name:b,applications:0,damage:0};P.applicationsFromBuffs=(P.applicationsFromBuffs||0)+T,P.applicationsFromBuffsActive=(P.applicationsFromBuffsActive||0)+$,l[b]=P})})}),Object.values(s).forEach(m=>{Object.values(m).forEach(h=>{typeof h.applicationsFromBuffs=="number"&&(h.applications=h.applicationsFromBuffs)})}),Object.values(l).forEach(m=>{typeof m.applicationsFromBuffs=="number"&&(m.applications=m.applicationsFromBuffs)}),{playerConditions:s,summary:l,meta:{buffStateApplicationsTotal:d,targetBuffEntriesSeen:p,buffStateSourcesSeen:f}}},Ef={Guardian:"#72C1D9",Dragonhunter:"#72C1D9",Firebrand:"#72C1D9",Willbender:"#72C1D9",Revenant:"#D16E5A",Herald:"#D16E5A",Renegade:"#D16E5A",Vindicator:"#D16E5A",Warrior:"#FFD166",Berserker:"#FFD166",Spellbreaker:"#FFD166",Bladesworn:"#FFD166",Engineer:"#D09C59",Scrapper:"#D09C59",Holosmith:"#D09C59",Mechanist:"#D09C59",Ranger:"#8CDC82",Druid:"#8CDC82",Soulbeast:"#8CDC82",Untamed:"#8CDC82",Thief:"#C08F95",Daredevil:"#C08F95",Deadeye:"#C08F95",Specter:"#C08F95",Elementalist:"#F68A87",Tempest:"#F68A87",Weaver:"#F68A87",Catalyst:"#F68A87",Mesmer:"#B679D5",Chronomancer:"#B679D5",Mirage:"#B679D5",Virtuoso:"#B679D5",Necromancer:"#52A76F",Reaper:"#52A76F",Scourge:"#52A76F",Harbinger:"#52A76F",Ritualist:"#52A76F",Luminary:"#72C1D9",Conduit:"#D16E5A",Paragon:"#FFD166",Amalgam:"#D09C59",Galeshot:"#8CDC82",Antiquary:"#C08F95",Evoker:"#F68A87",Troubadour:"#B679D5",Unknown:"#64748B"},Jz={Guardian:"Guardian",Dragonhunter:"Guardian",Firebrand:"Guardian",Willbender:"Guardian",Revenant:"Revenant",Herald:"Revenant",Renegade:"Revenant",Vindicator:"Revenant",Warrior:"Warrior",Berserker:"Warrior",Spellbreaker:"Warrior",Bladesworn:"Warrior",Engineer:"Engineer",Scrapper:"Engineer",Holosmith:"Engineer",Mechanist:"Engineer",Ranger:"Ranger",Druid:"Ranger",Soulbeast:"Ranger",Untamed:"Ranger",Thief:"Thief",Daredevil:"Thief",Deadeye:"Thief",Specter:"Thief",Elementalist:"Elementalist",Tempest:"Elementalist",Weaver:"Elementalist",Catalyst:"Elementalist",Mesmer:"Mesmer",Chronomancer:"Mesmer",Mirage:"Mesmer",Virtuoso:"Mesmer",Necromancer:"Necromancer",Reaper:"Necromancer",Scourge:"Necromancer",Harbinger:"Necromancer",Ritualist:"Necromancer",Luminary:"Guardian",Conduit:"Revenant",Paragon:"Warrior",Amalgam:"Engineer",Galeshot:"Ranger",Antiquary:"Thief",Evoker:"Elementalist",Troubadour:"Mesmer",Unknown:"Unknown"};function ac(e){return Ef[e]||Ef.Unknown}function e8(e){return e?Jz[e]||e:"Unknown"}function Gl(e){if(!e)return null;const t=typeof window<"u"&&/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/")?"/svg/class-icons":"./svg/class-icons",n=Ef[e]?e:null;if(n&&n!=="Unknown")return`${t}/${n}.svg`;const r=e8(e);return r&&r!=="Unknown"?`${t}/${r}.svg`:null}const t8=e=>{if(e==null||e==="")return 0;if(typeof e=="number")return!Number.isFinite(e)||e<=0?0:e>1e12?e:e*1e3;if(e instanceof Date){const o=e.getTime();return Number.isFinite(o)&&o>0?o:0}const t=String(e).trim();if(!t)return 0;const n=Number(t);if(Number.isFinite(n)&&n>0)return n>1e12?n:n*1e3;const r=Date.parse(t);if(Number.isFinite(r)&&r>0)return r;const a=t.replace(/([+-]\d{2})$/,"$1:00"),i=Date.parse(a);return Number.isFinite(i)&&i>0?i:0},Ia=(e,t)=>t8((e==null?void 0:e.uploadTime)??(t==null?void 0:t.uploadTime)??(e==null?void 0:e.timeStartStd)??(e==null?void 0:e.timeStart)??(e==null?void 0:e.timeEndStd)??(e==null?void 0:e.timeEnd)??(e==null?void 0:e.timeStartText)??(e==null?void 0:e.timeEndText)),eh=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:a})=>{const i=e.filter(f=>f.details&&f.details.players&&f.details.players.length>0),o=r||Gb,s=n||xD,l=f=>{if(!f||typeof f!="object")return f;const p=Array.isArray(f.fightBreakdown)?f.fightBreakdown:null;if(!p||p.length===0)return f;const m=w=>Array.isArray(w)&&w.some(S=>S&&Number(S.count)>0),h=new Map,y=new Map;e.forEach(w=>{var S;const C=(w==null?void 0:w.filePath)||(w==null?void 0:w.id);C&&h.set(String(C),w);const N=(w==null?void 0:w.permalink)||((S=w==null?void 0:w.details)==null?void 0:S.permalink);typeof N=="string"&&N.trim()&&y.set(N.trim(),w)});const x=p.map(w=>{var S;if(!w||typeof w!="object")return w;const C=w.id?String(w.id):"",N=typeof w.permalink=="string"?w.permalink.trim():"",M=(C?h.get(C):void 0)||(N?y.get(N):void 0);if(!M)return w;let T=w;if(Number(w.timestamp)<=0){const E=Ia(M==null?void 0:M.details,M);E&&(T={...T,timestamp:E})}const $=(S=M==null?void 0:M.details)==null?void 0:S.teamBreakdown;return m($)&&(T={...T,teamBreakdown:$}),T}),g=Array.isArray(f.fightDiffMode)?f.fightDiffMode:[],b=g.some(w=>Array.isArray(w==null?void 0:w.targetFocus)&&w.targetFocus.some(S=>Number((S==null?void 0:S.damage)||0)>0||Number((S==null?void 0:S.hits)||0)>0))?g:x.map((w,S)=>{const C=w&&typeof w.enemyClassCounts=="object"&&w.enemyClassCounts?w.enemyClassCounts:{},N=Object.entries(C).map(([de,z])=>({label:String(de||"Unknown"),count:Number(z||0)})).filter(de=>de.count>0).sort((de,z)=>z.count-de.count||de.label.localeCompare(z.label)),M=N.reduce((de,z)=>de+z.count,0),T=N.map(de=>({label:de.label,damage:de.count,hits:0,share:M>0?de.count/M:0})),$=Number((w==null?void 0:w.enemyDowns)||0),E=Number((w==null?void 0:w.enemyDeaths)||0),P=Number((w==null?void 0:w.alliesDown)||0),O=Number((w==null?void 0:w.alliesDead)||0),U=Number((w==null?void 0:w.totalOutgoingDamage)||0),X=Number((w==null?void 0:w.totalIncomingDamage)||0),ee=[{metricId:"winFlag",metricLabel:"Win (1) / Loss (0)",higherIsBetter:!0,value:w!=null&&w.isWin?1:0},{metricId:"squadCount",metricLabel:"Squad Size",higherIsBetter:!0,value:Number((w==null?void 0:w.squadCount)||0)},{metricId:"enemyCount",metricLabel:"Enemy Count",higherIsBetter:!1,value:Number((w==null?void 0:w.enemyCount)||0)},{metricId:"squadKdr",metricLabel:"Squad KDR",higherIsBetter:!0,value:O>0?E/O:E},{metricId:"enemyDeaths",metricLabel:"Enemy Deaths",higherIsBetter:!0,value:E},{metricId:"enemyDowns",metricLabel:"Enemy Downs",higherIsBetter:!0,value:$},{metricId:"squadDeaths",metricLabel:"Squad Deaths",higherIsBetter:!1,value:O},{metricId:"squadDowns",metricLabel:"Squad Downs",higherIsBetter:!1,value:P},{metricId:"damageDelta",metricLabel:"Damage Delta",higherIsBetter:!0,value:U-X},{metricId:"outgoingDamage",metricLabel:"Outgoing Damage",higherIsBetter:!0,value:U},{metricId:"incomingDamage",metricLabel:"Incoming Damage",higherIsBetter:!1,value:X},{metricId:"barrierIncomingAbsorb",metricLabel:"Barrier Absorption (Incoming)",higherIsBetter:!0,value:Number((w==null?void 0:w.incomingBarrierAbsorbed)||0)},{metricId:"enemyBarrierAbsorb",metricLabel:"Enemy Barrier Absorption",higherIsBetter:!1,value:Number((w==null?void 0:w.outgoingBarrierAbsorbed)||0)},{metricId:"alliesRevived",metricLabel:"Allies Revived (Players)",higherIsBetter:!0,value:Number((w==null?void 0:w.alliesRevived)||0)}];return{id:String((w==null?void 0:w.id)||`fight-${S+1}`),shortLabel:`F${S+1}`,fullLabel:`${String((w==null?void 0:w.mapName)||(w==null?void 0:w.label)||"Unknown Map")}  ${String((w==null?void 0:w.duration)||"--:--")}`,mapName:String((w==null?void 0:w.mapName)||""),timestamp:Number((w==null?void 0:w.timestamp)||0),duration:String((w==null?void 0:w.duration)||"--:--"),isWin:!!(w!=null&&w.isWin),targetFocus:T,squadMetrics:ee}});return{...f,fightBreakdown:x,fightDiffMode:b}},c=(()=>{if(t)return l(t);const f=a||Kz,p=o.topSkillDamageSource||"target",m=o.topSkillsMetric||"damage",h=i.length;let y=0,x=0,g=0,b=0,w=0,S=0,C=0,N=0;const M=D=>{const Y=((D==null?void 0:D.players)||[]).filter(Le=>!Le.notInSquad);let ne=0,we=0,J=0,Oe=0;return Y.forEach(Le=>{var lt;const vt=(lt=Le.defenses)==null?void 0:lt[0];if(!vt)return;const ht=Number(vt.downCount||0),$t=Number(vt.deadCount||0);ne+=ht+$t,J+=$t}),Y.forEach(Le=>{!Le.statsTargets||Le.statsTargets.length===0||Le.statsTargets.forEach(lt=>{const vt=lt==null?void 0:lt[0];if(!vt)return;const ht=Number(vt.downed||0),$t=Number(vt.killed||0);we+=ht+$t,Oe+=$t})}),{squadDownsDeaths:ne,enemyDownsDeaths:we,squadDeaths:J,enemyDeaths:Oe}},T=D=>{const{squadDownsDeaths:Y,enemyDownsDeaths:ne}=M(D);return Y>0||ne>0?ne>Y:typeof(D==null?void 0:D.success)=="boolean"?D.success:!1},$=new Map,E=new Set(["boonStripsTime","condiCleanseTime","condiCleanseTimeSelf"]),P={},O={},U=new Map,X={},ee={},de={},z=new Map,B=new Map,ie=new Set(Object.keys(Ef)),k=Object.keys(Ef).filter(D=>D&&D!=="Unknown").sort((D,Y)=>Y.length-D.length),I=["Guardian","Revenant","Warrior","Engineer","Ranger","Thief","Elementalist","Mesmer","Necromancer"],A=D=>{if(!D)return"Unknown";const Y=String(D).replace(/\s*\([^)]*\)\s*$/,"").replace(/\s*\[[^\]]*\]\s*$/,"").replace(/\s\d+$/,"").trim();if(ie.has(Y))return Y;const ne=Y.toLowerCase();for(const we of k)if(ne.includes(we.toLowerCase()))return we;return I.find(we=>ne.includes(we.toLowerCase()))||Y||"Unknown"},j=D=>D!=null&&D.classification?D.classification==="Boon":!0,L=new Map,q=new Map,Q=()=>({totalHits:0,blocked:0,evaded:0,glanced:0,missed:0,invulned:0,interrupted:0,totalMitigation:0,minMitigation:0}),G=D=>{const Y=Number(D);return Number.isFinite(Y)?Y:0},W=D=>{const Y=String(D).split("|"),ne=Y[0]||"Unknown",we=A(Y[1]||"Unknown"),J=Y[2]||ne||"Unknown";return{name:ne,profession:we,account:J}},_=(D,Y,ne)=>{let we=D.get(Y);return we?ne.profession&&!we.professionList.includes(ne.profession)&&we.professionList.push(ne.profession):(we={account:ne.account,name:ne.name,profession:ne.profession,professionList:ne.profession?[ne.profession]:[],activeMs:0,mitigationTotals:Q()},D.set(Y,we)),we},te=(D,Y,ne)=>{let we=D.get(Y);return we?ne.profession&&!we.professionList.includes(ne.profession)&&we.professionList.push(ne.profession):(we={account:ne.account,name:ne.name,profession:ne.profession,professionList:ne.profession?[ne.profession]:[],activeMs:0,mitigationTotals:Q(),minion:ne.minion},D.set(Y,we)),we},re=(D,Y)=>{D.totalHits+=G((Y==null?void 0:Y.skill_hits)??(Y==null?void 0:Y.skillHits)),D.blocked+=G(Y==null?void 0:Y.blocked),D.evaded+=G(Y==null?void 0:Y.evaded),D.glanced+=G(Y==null?void 0:Y.glanced),D.missed+=G(Y==null?void 0:Y.missed),D.invulned+=G(Y==null?void 0:Y.invulned),D.interrupted+=G(Y==null?void 0:Y.interrupted),D.totalMitigation+=G((Y==null?void 0:Y.avoided_damage)??(Y==null?void 0:Y.avoidedDamage)),D.minMitigation+=G((Y==null?void 0:Y.min_avoided_damage)??(Y==null?void 0:Y.minAvoidedDamage))},F=D=>Object.values(D).some(Y=>Y>0),ae=(D,Y,ne)=>{var we,J,Oe,Le;const lt=`s${D}`;if((we=Y==null?void 0:Y[lt])!=null&&we.name)return Y[lt].name;if((J=Y==null?void 0:Y[String(D)])!=null&&J.name)return Y[String(D)].name;const vt=`b${D}`;return(Oe=ne==null?void 0:ne[vt])!=null&&Oe.name?ne[vt].name:(Le=ne==null?void 0:ne[String(D)])!=null&&Le.name?ne[String(D)].name:`Unknown Skill ${D}`},H=new Map,R=D=>{const Y=H.get(D);if(!Y)return{hasSkill:!1,avg:1,min:1,hits:0};const ne=Y.connectedHits||0,we=ne>0?Y.totalDamage/ne:0,J=Y.minCount>0?Y.minTotal/Y.minCount:0;return{hasSkill:!0,avg:we,min:J,hits:ne}},oe="Ashtonlightstone.9145",be="Illusionary Warden",et=[],ue=[],He=[],Be=[],yt=new Map,Xt=new Map,Mn=(D,Y,ne)=>{const we=D.get(Y)||Q();return we.totalHits+=ne.totalHits,we.blocked+=ne.blocked,we.evaded+=ne.evaded,we.glanced+=ne.glanced,we.missed+=ne.missed,we.invulned+=ne.invulned,we.interrupted+=ne.interrupted,D.set(Y,we),we};i.forEach(D=>{const Y=D.details;Y&&(Y.targets||[]).forEach(ne=>{const we=(ne==null?void 0:ne.totalDamageDist)||[],J=Array.isArray(we)?we[0]:null;J==null||J.forEach(Oe=>{if(!(Oe!=null&&Oe.id))return;const Le=Number(Oe.id),lt=H.get(Le)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};lt.totalDamage+=Number(Oe.totalDamage||0),lt.connectedHits+=Number(Oe.connectedHits||0);const vt=Number.isFinite(Number(Oe.min))?Number(Oe.min):0;lt.minTotal+=vt,lt.minCount+=1,H.set(Le,lt)})})}),i.forEach((D,Y)=>{var ne,we;const J=D.details;if(!J)return;const Oe=J.players,Le=J.targets||[],lt=J.skillMap||{},vt=J.buffMap||{},ht=new Map,$t=new Map;Le.forEach(V=>{const ce=(V==null?void 0:V.totalDamageDist)||[],Ce=Array.isArray(ce)?ce[0]:null;Ce==null||Ce.forEach(Me=>{var ve;if(!(Me!=null&&Me.id))return;const $e=Number(Me.id),Ze=((ve=lt==null?void 0:lt[$e])==null?void 0:ve.name)||Me.name||Me.skillName||String($e),Ke=ht.get($e)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};Ke.totalDamage+=Number(Me.totalDamage||0),Ke.connectedHits+=Number(Me.connectedHits||0);const zt=Number.isFinite(Number(Me.min))?Number(Me.min):0;Ke.minTotal+=zt,Ke.minCount+=1,ht.set($e,Ke);const Yt=$t.get(Ze)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};Yt.totalDamage+=Number(Me.totalDamage||0),Yt.connectedHits+=Number(Me.connectedHits||0);const Wt=Number.isFinite(Number(Me.min))?Number(Me.min):0;Yt.minTotal+=Wt,Yt.minCount+=1,$t.set(Ze,Yt)})});const yn=V=>{const ce=ht.get(V);if(!ce||ce.connectedHits<=0)return{avg:1,min:1};const Ce=ce.connectedHits>0?ce.totalDamage/ce.connectedHits:0,Me=ce.minCount>0?ce.minTotal/ce.minCount:Ce;return{avg:Ce||1,min:Me||1}},fn=V=>{const ce=$t.get(V);if(!ce||ce.connectedHits<=0)return{avg:1,min:1};const Ce=ce.connectedHits>0?ce.totalDamage/ce.connectedHits:0,Me=ce.minCount>0?ce.minTotal/ce.minCount:Ce;return{avg:Ce||1,min:Me||1}},Je=J.combatReplayMetaData||{},qe=(Je==null?void 0:Je.inchToPixel)>0?Je.inchToPixel:1,st=(Je==null?void 0:Je.pollingRate)>0?Je.pollingRate:1,Et=5e3,Ht=V=>Array.isArray(V)?V.map(ce=>Array.isArray(ce)?[Number(ce[0]),Number(ce[1])]:null).filter(ce=>!!ce&&Number.isFinite(ce[0])):[];let pe=[],Ne=J.durationMS||0,ke=!1;const ze=Oe.find(V=>(V==null?void 0:V.hasCommanderTag)&&!(V!=null&&V.notInSquad));(ne=ze==null?void 0:ze.combatReplayData)!=null&&ne.positions&&(pe=ze.combatReplayData.positions,Ht(ze.combatReplayData.dead).forEach(([V])=>{V>0&&(ke=!0,Ne=Math.min(Ne,V))}));const me=V=>{var ce;const Ce=(ce=V.statsAll)==null?void 0:ce[0];if((Ce==null?void 0:Ce.distToCom)!==void 0&&(Ce==null?void 0:Ce.distToCom)!=="Infinity")return Math.round(Number(Ce.distToCom));if((Ce==null?void 0:Ce.stackDist)!==void 0)return Math.round(Number(Ce.stackDist))||0;if(V.hasCommanderTag)return 0;const Me=V.combatReplayData;if(!(Me!=null&&Me.positions)||!pe.length)return 0;const ve=Me.positions,$e=Ht(Me.dead),Ze=Ht(Me.down),Ke=Math.floor((Me.start||0)/st);let zt=0;if($e.length&&Ze.length)for(const[Yt]of $e){if(Yt<0)continue;const Wt=Math.max(0,Math.floor(Yt/st))-Ke;for(const[ct,Zt]of Ze){if(Yt!==Zt)continue;const ft=ke&&ct>Ne?Math.max(1,Math.floor(Ne/st)):Wt,rn=Math.max(0,Math.min(ft,ve.length,pe.length));if(rn<=0)continue;let Lt=0;for(let Mt=0;Mt<rn;Mt++){const[Ee,xe]=ve[Mt],[wt,At]=pe[Mt];Lt+=Math.hypot(Ee-wt,xe-At)}zt=Math.round(Lt/rn/qe)}}return zt},_e=Oe.filter(V=>!V.notInSquad);g+=_e.length,b+=Le.filter(V=>!V.isFake).length,qz(Oe,{durationMS:J.durationMS,buffMap:J.buffMap});const{squadDeaths:je,enemyDeaths:bt}=M(J);w+=je,S+=bt,N+=je,C+=bt,T(J)?y++:x++;const rt=J.skillMap?Number((we=Object.keys(J.skillMap).find(V=>{var ce,Ce;return((Ce=(ce=J.skillMap)==null?void 0:ce[V])==null?void 0:Ce.name)==="Battle Standard"}))==null?void 0:we.replace(/^s/,"")):null;Oe.forEach((V,ce)=>{var Ce,Me,ve,$e,Ze,Ke,zt,Yt,Wt,ct,Zt,ft,rn;if(V.notInSquad)return;const Lt=V.account||"Unknown",Mt=Lt!=="Unknown"?Lt:V.name||"Unknown",Ee=V.name||"Unknown";$.has(Mt)||$.set(Mt,{name:Ee,account:Mt,characterNames:new Set,downContrib:0,cleanses:0,strips:0,stab:0,healing:0,barrier:0,cc:0,logsJoined:0,totalDist:0,distCount:0,dodges:0,downs:0,deaths:0,totalFightMs:0,offenseTotals:{},offenseRateWeights:{},defenseActiveMs:0,defenseTotals:{},defenseMinionDamageTaken:{},supportActiveMs:0,supportTotals:{},healingActiveMs:0,healingTotals:{},profession:V.profession||"Unknown",professions:new Set,professionTimeMs:{},squadActiveMs:0,firstSeenFightTs:0,lastSeenFightTs:0,lastSeenFightDurationMs:0,isCommander:!1,damage:0,dps:0,revives:0,outgoingConditions:{},incomingConditions:{}});const xe=$.get(Mt);if(V.hasCommanderTag&&(xe.isCommander=!0),Ee!=="Unknown"&&xe.characterNames.add(String(Ee)),V.profession&&V.profession!=="Unknown"){xe.profession=V.profession,xe.professions.add(V.profession);const De=Array.isArray(V.activeTimes)&&typeof V.activeTimes[0]=="number"?V.activeTimes[0]:J.durationMS||0;xe.professionTimeMs[V.profession]=(xe.professionTimeMs[V.profession]||0)+De}xe.logsJoined++,xe.downContrib+=G2(V),xe.cleanses+=K2(V),xe.strips+=Y2(V,f),xe.healing+=X2(V),xe.barrier+=Z2(V),xe.cc+=Q2(V,f),xe.stab+=V.stabGeneration||0;const wt=me(V);wt<=Et&&(xe.totalDist+=wt,xe.distCount++),(Ce=V.defenses)!=null&&Ce[0]&&(xe.dodges+=V.defenses[0].dodgeCount||0,xe.downs+=V.defenses[0].downCount||0,xe.deaths+=V.defenses[0].deadCount||0),J.durationMS&&(xe.totalFightMs+=J.durationMS);const At=Array.isArray(V.activeTimes)&&typeof V.activeTimes[0]=="number"?V.activeTimes[0]:J.durationMS||0;xe.squadActiveMs+=At;const qt=Ia(J,D),Sn=Number((J==null?void 0:J.durationMS)||0);if(qt>0&&((xe.firstSeenFightTs<=0||qt<xe.firstSeenFightTs)&&(xe.firstSeenFightTs=qt),xe.lastSeenFightTs<=0||qt>xe.lastSeenFightTs?(xe.lastSeenFightTs=qt,xe.lastSeenFightDurationMs=Sn):qt===xe.lastSeenFightTs&&Sn>xe.lastSeenFightDurationMs&&(xe.lastSeenFightDurationMs=Sn)),xe.defenseActiveMs+=At,xe.supportActiveMs+=At,xe.healingActiveMs+=At,Array.isArray(V.buffUptimes)&&V.buffUptimes.length>0&&V.buffUptimes.forEach(De=>{var Ge,nt,ut,an,An,bn;if(typeof(De==null?void 0:De.id)!="number")return;const ar=`b${De.id}`,hn=((Ge=J.buffMap)==null?void 0:Ge[ar])||((nt=J.buffMap)==null?void 0:nt[String(De.id)]);if(!hn||j(hn))return;const Nn=Number(((an=(ut=De.buffData)==null?void 0:ut[0])==null?void 0:an.uptime)??0),ir=Number(((bn=(An=De.buffData)==null?void 0:An[0])==null?void 0:bn.presence)??0);if((!Number.isFinite(Nn)||Nn<=0)&&(!Number.isFinite(ir)||ir<=0))return;const Ti=(hn==null?void 0:hn.stacking)??!1,Fc=(Ti?Number.isFinite(Nn)?Nn:0:Number.isFinite(Nn)?Nn/100:0)*At,Wp=Ti?ir:Nn,Ka=Math.min(Math.max(Number.isFinite(Wp)?Wp:0,0),100)/100*At,Hp=Number.isFinite(Fc)&&Fc>0,El=Number.isFinite(Ka)&&Ka>0;if(!Hp&&!El)return;const ya=Yc(hn==null?void 0:hn.name);if(ya&&nz.has(ya)&&(!(hn!=null&&hn.classification)||hn.classification==="Condition")){const qo=Fc/1e3,Ya=hn==null?void 0:hn.icon,Pl=X[ya]||{name:ya,icon:Ya,applications:0,damage:0};Pl.applicationsFromUptime=(Pl.applicationsFromUptime||0)+qo,!Pl.icon&&Ya&&(Pl.icon=Ya),X[ya]=Pl;const Tl=xe.outgoingConditions[ya]||{applications:0,damage:0,skills:{},icon:Ya};Tl.applicationsFromUptime=(Tl.applicationsFromUptime||0)+qo,!Tl.icon&&Ya&&(Tl.icon=Ya),xe.outgoingConditions[ya]=Tl;const Ta=ee[ya]||{name:ya,icon:Ya,applications:0,damage:0};Ta.applicationsFromUptime=(Ta.applicationsFromUptime||0)+qo,!Ta.icon&&Ya&&(Ta.icon=Ya),ee[ya]=Ta;const Di=xe.incomingConditions[ya]||{applications:0,damage:0,skills:{},icon:Ya};Di.applicationsFromUptime=(Di.applicationsFromUptime||0)+qo,!Di.icon&&Ya&&(Di.icon=Ya),xe.incomingConditions[ya]=Di}z.has(ar)||z.set(ar,{name:hn==null?void 0:hn.name,stacking:Ti,icon:hn==null?void 0:hn.icon}),B.has(ar)||B.set(ar,new Map);const qp=B.get(ar),ud=xe.account||V.account||V.name||"Unknown";let Er=qp.get(ud);Er||(Er={account:ud,profession:xe.profession||V.profession||"Unknown",professions:new Set,professionTimeMs:{},totalMs:0,uptimeMs:0,durationMs:0},qp.set(ud,Er));const _s=V.profession||xe.profession;_s&&_s!=="Unknown"&&(Er.professions.add(_s),Er.professionTimeMs[_s]=(Er.professionTimeMs[_s]||0)+At,Er.profession=_s),Er.totalMs+=Hp?Fc:0,Er.uptimeMs+=El?Ka:0,Er.durationMs+=At}),(Me=V.defenses)!=null&&Me[0]){const De=nt=>{let ut=String(nt||"Unknown").replace(/^Juvenile\s+/i,"")||"Unknown";return ut.toUpperCase().includes("UNKNOWN")&&(ut="Unknown"),ut},Ge=(()=>{const nt=Array.isArray(V==null?void 0:V.minions)?V.minions:[];if(nt.length===0)return{total:0,byMinion:{}};let ut=0;const an={};return nt.forEach(An=>{const bn=Array.isArray(An==null?void 0:An.totalDamageTakenDist)?An.totalDamageTakenDist:[],ar=Array.isArray(bn[0])?bn[0]:[],hn=De(An==null?void 0:An.name);ar.forEach(Nn=>{const ir=Number((Nn==null?void 0:Nn.totalDamage)??(Nn==null?void 0:Nn.damageTaken)??0);Number.isFinite(ir)&&(ut+=ir,an[hn]=(an[hn]||0)+ir)})}),{total:ut,byMinion:an}})();Ge.byMinion&&typeof Ge.byMinion=="object"&&Object.entries(Ge.byMinion).forEach(([nt,ut])=>{const an=Number(ut||0);!Number.isFinite(an)||an<=0||(xe.defenseMinionDamageTaken[nt]=(xe.defenseMinionDamageTaken[nt]||0)+an)}),oD.forEach(nt=>{const ut=nt.id==="minionDamageTaken"?Ge.total:Number(V.defenses[0][nt.field]??0);Number.isFinite(ut)&&(xe.defenseTotals[nt.id]=(xe.defenseTotals[nt.id]||0)+ut)})}(ve=V.support)!=null&&ve[0]&&sD.forEach(De=>{let Ge=Number(V.support[0][De.field]??0);Number.isFinite(Ge)&&(E.has(De.field)&&Ge>999999&&(Ge=0),xe.supportTotals[De.id]=(xe.supportTotals[De.id]||0)+Ge)});const Vr=(De,Ge)=>{Number.isFinite(Ge)&&(xe.healingTotals[De]=(xe.healingTotals[De]||0)+Ge)},oa=(De,Ge)=>Array.isArray(De)?De.reduce((nt,ut)=>nt+Number((ut==null?void 0:ut[Ge])??0),0):0,Qr=(De,Ge,nt)=>{if(!Number.isFinite(nt)||nt<=0)return;const ut=Oe[Ge],an=Ge===ce,An=ut==null?void 0:ut.notInSquad,bn=!An,ar=bn&&(ut==null?void 0:ut.group)!=null&&ut.group===V.group;Vr(De,nt),bn&&Vr(`squad${De[0].toUpperCase()}${De.slice(1)}`,nt),ar&&Vr(`group${De[0].toUpperCase()}${De.slice(1)}`,nt),an&&Vr(`self${De[0].toUpperCase()}${De.slice(1)}`,nt),An&&Vr(`offSquad${De[0].toUpperCase()}${De.slice(1)}`,nt)};if(Array.isArray(V.rotation)){let De=0;V.rotation.forEach(Ge=>{var nt;if(!(Ge!=null&&Ge.id)||!sz(Ge.id,J.skillMap))return;const ut=((nt=Ge.skills)==null?void 0:nt.length)||0;ut>0&&(De+=ut,Vr(`resUtility_s${Ge.id}`,ut))}),De>0&&Vr("resUtility",De)}const Pi=($e=V.extHealingStats)==null?void 0:$e.outgoingHealingAllies;Array.isArray(Pi)&&Pi.forEach((De,Ge)=>{const nt=oa(De,"healing"),ut=oa(De,"downedHealing");Qr("healing",Ge,nt),Qr("downedHealing",Ge,ut)});const Lc=(Ze=V.extBarrierStats)==null?void 0:Ze.outgoingBarrierAllies;Array.isArray(Lc)&&Lc.forEach((De,Ge)=>{const nt=oa(De,"barrier");Qr("barrier",Ge,nt)});const Ds=(Ke=V.statsAll)==null?void 0:Ke[0],No=(zt=V.dpsAll)==null?void 0:zt[0],Up=(Yt=V.support)==null?void 0:Yt[0];if(iD.forEach(De=>{if(De.id==="downContributionPercent"||!De.field)return;let Ge=0,nt=0;De.source==="dpsAll"&&No?Ge=Number(No[De.field]??0):De.source==="statsAll"&&Ds?(Ge=Number(Ds[De.field]??0),nt=Number(Ds[De.denomField||De.weightField||"connectedDamageCount"]??0)):De.source==="support"&&Up?Ge=Number(Up[De.field]??0):V.statsTargets&&V.statsTargets.forEach(ut=>{ut!=null&&ut[0]&&(Ge+=Number(ut[0][De.field]??0),nt+=Number(ut[0][De.denomField||De.weightField||"connectedDamageCount"]??0))}),Number.isFinite(Ge)&&(xe.offenseTotals[De.id]=(xe.offenseTotals[De.id]||0)+Ge,De.isRate&&nt>0&&(xe.offenseRateWeights[De.id]=(xe.offenseRateWeights[De.id]||0)+nt))}),V.targetDamageDist&&Number.isFinite(rt)){const De=V.targetDamageDist.flatMap(Ge=>Ge||[]).flatMap(Ge=>Ge||[]).reduce((Ge,nt)=>nt!=null&&nt.id&&nt.id===rt?Ge+((nt==null?void 0:nt.connectedHits)||0):Ge,0);xe.offenseTotals.battleStandardHits=(xe.offenseTotals.battleStandardHits||0)+De}xe.revives+=((ct=(Wt=V.support)==null?void 0:Wt[0])==null?void 0:ct.resurrects)||0,No&&(xe.damage+=No.damage||0,xe.dps+=No.dps||0);const jo=De=>{var Ge,nt,ut,an;let An=`Skill ${De.id}`;const bn=((Ge=J.skillMap)==null?void 0:Ge[`s${De.id}`])||((nt=J.skillMap)==null?void 0:nt[`${De.id}`]);let ar=bn==null?void 0:bn.icon;if(bn!=null&&bn.name&&(An=bn.name),An.startsWith("Skill ")){const hn=Jm(An,De.id,J.buffMap);hn&&(An=hn,ar=((an=(ut=J.buffMap)==null?void 0:ut[`b${De.id}`])==null?void 0:an.icon)||ar)}return{name:An,icon:ar}},Os=De=>{if(!(De!=null&&De.id))return;const{name:Ge,icon:nt}=jo(De);P[De.id]||(P[De.id]={name:Ge,icon:nt,damage:0,hits:0,downContribution:0}),P[De.id].name.startsWith("Skill ")&&!Ge.startsWith("Skill ")&&(P[De.id].name=Ge),!P[De.id].icon&&nt&&(P[De.id].icon=nt),P[De.id].damage+=De.totalDamage,P[De.id].hits+=De.connectedHits,P[De.id].downContribution+=Number(De.downContribution||0)},cd=V.account||V.name||"Unknown",Is=V.profession||"Unknown",ui=`${cd}|${Is}`;let di=U.get(ui);di||(di={key:ui,account:cd,displayName:cd,profession:Is,professionList:[Is],totalFightMs:0,skills:new Map},U.set(ui,di)),di.professionList.includes(Is)||di.professionList.push(Is),di.totalFightMs+=J.durationMS||0;const fi=De=>{if(!(De!=null&&De.id))return;const{name:Ge,icon:nt}=jo(De),ut=`s${De.id}`;let an=di.skills.get(ut);an||(an={id:ut,name:Ge,icon:nt,damage:0,downContribution:0},di.skills.set(ut,an)),an.name.startsWith("Skill ")&&!Ge.startsWith("Skill ")&&(an.name=Ge),!an.icon&&nt&&(an.icon=nt),an.damage+=Number(De.totalDamage||0),an.downContribution+=Number(De.downContribution||0)};if(p==="total")(Zt=V.totalDamageDist)==null||Zt.forEach(De=>{De==null||De.forEach(Ge=>{Os(Ge),fi(Ge)})});else{const De=new Map;(ft=V.targetDamageDist)==null||ft.forEach(Ge=>{Ge==null||Ge.forEach(nt=>{nt==null||nt.forEach(ut=>{const an=Number(ut==null?void 0:ut.id);if(Number.isFinite(an)){const An=De.get(an)||{damage:0,hits:0,downContribution:0};An.damage+=Number((ut==null?void 0:ut.totalDamage)||0),An.hits+=Number((ut==null?void 0:ut.connectedHits)||0),An.downContribution+=Number((ut==null?void 0:ut.downContribution)||0),De.set(an,An)}Os(ut),fi(ut)})})}),!(J!=null&&J.detailedWvW)&&((rn=V.totalDamageDist)==null||rn.forEach(Ge=>{Ge==null||Ge.forEach(nt=>{const ut=Number(nt==null?void 0:nt.id);if(!Number.isFinite(ut))return;const an=De.get(ut);if(!an){Os(nt),fi(nt);return}const An=Number((nt==null?void 0:nt.totalDamage)||0),bn=Number((nt==null?void 0:nt.connectedHits)||0),ar=Number((nt==null?void 0:nt.downContribution)||0),hn=An-Number(an.damage||0),Nn=bn-Number(an.hits||0),ir=ar-Number(an.downContribution||0);if(hn<=0&&Nn<=0&&ir<=0)return;const Ti={...nt,totalDamage:Math.max(0,hn),connectedHits:Math.max(0,Nn),downContribution:Math.max(0,ir)};Os(Ti),fi(Ti)})}))}V.totalDamageTaken&&V.totalDamageTaken.forEach(De=>{De==null||De.forEach(Ge=>{var nt,ut,an,An;if(!(Ge!=null&&Ge.id))return;let bn=`Skill ${Ge.id}`;const ar=((nt=J.skillMap)==null?void 0:nt[`s${Ge.id}`])||((ut=J.skillMap)==null?void 0:ut[`${Ge.id}`]);let hn=ar==null?void 0:ar.icon;if(ar!=null&&ar.name&&(bn=ar.name),bn.startsWith("Skill ")){const Nn=Jm(bn,Ge.id,J.buffMap);Nn&&(bn=Nn,hn=((An=(an=J.buffMap)==null?void 0:an[`b${Ge.id}`])==null?void 0:An.icon)||hn)}O[Ge.id]||(O[Ge.id]={name:bn,icon:hn,damage:0,hits:0}),(!O[Ge.id].name.startsWith("Skill ")||bn.startsWith("Skill "))&&(O[Ge.id].name=bn),!O[Ge.id].icon&&hn&&(O[Ge.id].icon=hn),O[Ge.id].damage+=Ge.totalDamage,O[Ge.id].hits+=Ge.hits})})}),Le.forEach(V=>{if(V!=null&&V.isFake)return;const ce=A((V==null?void 0:V.profession)||(V==null?void 0:V.name)||(V==null?void 0:V.id));ce&&(de[ce]=(de[ce]||0)+1)});const at=Qz({players:Oe,targets:Le,skillMap:J.skillMap,buffMap:J.buffMap,getPlayerKey:V=>V.account&&V.account!=="Unknown"?V.account:V.name||null}),Bt=kD(J.buffMap);Object.entries(at.playerConditions).forEach(([V,ce])=>{const Ce=$.get(V);Ce&&Object.entries(ce).forEach(([Me,ve])=>{const $e=Ce.outgoingConditions[Me]||{applications:0,damage:0,skills:{},icon:ve.icon};$e.applications+=Number(ve.applications||0),$e.damage+=Number(ve.damage||0),ve.applicationsFromBuffs&&($e.applicationsFromBuffs=($e.applicationsFromBuffs||0)+ve.applicationsFromBuffs),ve.applicationsFromBuffsActive&&($e.applicationsFromBuffsActive=($e.applicationsFromBuffsActive||0)+ve.applicationsFromBuffsActive),Object.entries(ve.skills||{}).forEach(([Ze,Ke])=>{const zt=$e.skills[Ze]||{name:Ke.name,hits:0,damage:0,icon:Ke.icon};zt.hits+=Number(Ke.hits||0),zt.damage+=Number(Ke.damage||0),!zt.icon&&Ke.icon&&(zt.icon=Ke.icon),$e.skills[Ze]=zt}),!$e.icon&&ve.icon&&($e.icon=ve.icon),Ce.outgoingConditions[Me]=$e})}),Object.entries(at.summary).forEach(([V,ce])=>{const Ce=X[V]||{name:ce.name||V,icon:ce.icon,applications:0,damage:0};Ce.applications+=Number(ce.applications||0),Ce.damage+=Number(ce.damage||0),ce.applicationsFromBuffs&&(Ce.applicationsFromBuffs=(Ce.applicationsFromBuffs||0)+ce.applicationsFromBuffs),ce.applicationsFromBuffsActive&&(Ce.applicationsFromBuffsActive=(Ce.applicationsFromBuffsActive||0)+ce.applicationsFromBuffsActive),!Ce.icon&&ce.icon&&(Ce.icon=ce.icon),X[V]=Ce}),_e.forEach(V=>{const ce=V.account&&V.account!=="Unknown"?V.account:V.name||"Unknown",Ce=$.get(ce);!Ce||!V.totalDamageTaken||V.totalDamageTaken.forEach(Me=>Me==null?void 0:Me.forEach(ve=>{var $e,Ze,Ke,zt,Yt,Wt;if(!(ve!=null&&ve.id))return;let ct=`Skill ${ve.id}`;const Zt=(($e=J.skillMap)==null?void 0:$e[`s${ve.id}`])||((Ze=J.skillMap)==null?void 0:Ze[`${ve.id}`]);Zt!=null&&Zt.name&&(ct=Zt.name);const ft=Jm(ct,ve.id,J.buffMap);if(!ft)return;const rn=(zt=(Ke=J.buffMap)==null?void 0:Ke[`b${ve.id}`])==null?void 0:zt.name,Lt=Bt.get(ft)||((Wt=(Yt=J.buffMap)==null?void 0:Yt[`b${ve.id}`])==null?void 0:Wt.icon),Mt=(Zt==null?void 0:Zt.icon)||Lt;ct.startsWith("Skill ")&&(rn||ft)&&(ct=rn||ft);const Ee=Number(ve.hits??0),xe=Number(ve.totalDamage??0),wt=ee[ft]||{name:ft,icon:Lt,applications:0,damage:0};wt.applications+=Number.isFinite(Ee)?Ee:0,wt.damage+=Number.isFinite(xe)?xe:0,!wt.icon&&Lt&&(wt.icon=Lt),ee[ft]=wt;const At=Ce.incomingConditions[ft]||{applications:0,damage:0,skills:{},icon:Lt};At.applications+=Number.isFinite(Ee)?Ee:0,At.damage+=Number.isFinite(xe)?xe:0;const qt=At.skills[ct]||{name:ct,hits:0,damage:0,icon:Mt};qt.hits+=Number.isFinite(Ee)?Ee:0,qt.damage+=Number.isFinite(xe)?xe:0,!qt.icon&&Mt&&(qt.icon=Mt),At.skills[ct]=qt,!At.icon&&Lt&&(At.icon=Lt),Ce.incomingConditions[ft]=At}))});const kn=J.player_damage_mitigation||J.playerDamageMitigation,Rn=kn&&typeof kn=="object"&&Object.keys(kn).length>0;Rn&&Object.entries(kn).forEach(([V,ce])=>{if(!ce||typeof ce!="object")return;const Ce=W(V),Me=_(L,Ce.account,Ce);Object.values(ce).forEach(ve=>{G((ve==null?void 0:ve.avoided_damage)??(ve==null?void 0:ve.avoidedDamage))<=0||re(Me.mitigationTotals,ve)})});const rr=J.player_minion_damage_mitigation||J.playerMinionDamageMitigation,xt=rr&&typeof rr=="object"&&Object.keys(rr).length>0;xt&&Object.entries(rr).forEach(([V,ce])=>{if(!ce||typeof ce!="object")return;const Ce=W(V);Object.entries(ce).forEach(([Me,ve])=>{if(!ve||typeof ve!="object")return;const $e=`${Ce.account}::${Me}`,Ze=te(q,$e,{...Ce,minion:String(Me||"Unknown")});Object.values(ve).forEach(Ke=>{re(Ze.mitigationTotals,Ke)})})}),(!Rn||!xt)&&(Rn||_e.forEach(V=>{const ce=(V==null?void 0:V.totalDamageTaken)||[];if(!Array.isArray(ce)||ce.length===0)return;const Ce=V.account||V.name||"Unknown",Me={account:Ce,name:V.name||Ce,profession:A(V.profession||"Unknown")};_(L,Ce,Me);const ve=J.skillMap||{},$e=J.buffMap||{},Ze=Array.isArray(ce)?ce[0]:null;if(Ze==null||Ze.forEach(Ke=>{if(!(Ke!=null&&Ke.id))return;const zt=G(Ke.blocked),Yt=G(Ke.evaded),Wt=G(Ke.glance??Ke.glanced),ct=G(Ke.missed),Zt=G(Ke.invulned),ft=G(Ke.interrupted),rn=G(Ke.hits??Ke.connectedHits),Lt=Number(Ke.id),Mt=ae(Lt,ve,$e);if(Mn(yt,`${Ce}::${Lt}`,{totalHits:rn,blocked:zt,evaded:Yt,glanced:Wt,missed:ct,invulned:Zt,interrupted:ft}),Ce===oe){const Ee=H.get(Lt),xe=R(Lt),wt=xe.hasSkill?xe.hits>0?xe.avg:0:1,At=xe.hasSkill?xe.min||0:1,qt=xe.hits>0?Wt*wt/2+(zt+Yt+ct+Zt+ft)*wt:0,Sn=xe.hits>0?Wt*At/2+(zt+Yt+ct+Zt+ft)*At:0;He.push({logId:D.filePath||D.id||Y,skillId:Ke.id,skillName:Mt,blocked:zt,evaded:Yt,glanced:Wt,missed:ct,invulned:Zt,interrupted:ft,totalAvoids:zt+Yt+Wt+ct+Zt+ft,avg:wt,min:At,enemyHits:(Ee==null?void 0:Ee.connectedHits)??0,enemyTotalDmg:(Ee==null?void 0:Ee.totalDamage)??0,avoidDmg:qt,avoidMinDmg:Sn})}}),Ce===oe){const Ke=(zt,Yt)=>{let Wt=0,ct=0,Zt=0;if(!Array.isArray(zt))return{total:Wt,minTotal:ct,hits:Zt};for(const ft of zt){if(!(ft!=null&&ft.id))continue;const rn=G(ft.blocked),Lt=G(ft.evaded),Mt=G(ft.glance??ft.glanced),Ee=G(ft.missed),xe=G(ft.invulned),wt=G(ft.interrupted),At=ae(Number(ft.id),lt,vt),qt=Yt(Number(ft.id),At);(qt.hits??0)>0&&(Wt+=Mt*qt.avg/2+(rn+Lt+Ee+xe+wt)*qt.avg,ct+=Mt*qt.min/2+(rn+Lt+Ee+xe+wt)*qt.min),Zt+=G(ft.hits??ft.connectedHits)}return{total:Wt,minTotal:ct,hits:Zt}};Be.push({logId:D.filePath||D.id||Y,variant:"current_global_name_taken0",...Ke(Ze,(zt,Yt)=>{const Wt=R(zt),ct=Wt.hasSkill?Wt.hits>0?Wt.avg:0:1,Zt=Wt.hasSkill?Wt.min||0:1;return{avg:ct,min:Zt,hits:Wt.hits}})})}}),xt||_e.forEach(V=>{const ce=(V==null?void 0:V.minions)||[];if(!Array.isArray(ce)||ce.length===0)return;const Ce=V.account||V.name||"Unknown",Me={account:Ce,name:V.name||Ce,profession:A(V.profession||"Unknown")},ve=J.skillMap||{},$e=J.buffMap||{};ce.forEach(Ze=>{const Ke=(Ze==null?void 0:Ze.totalDamageTakenDist)||[];if(!Array.isArray(Ke)||Ke.length===0)return;let zt=String((Ze==null?void 0:Ze.name)||"Unknown").replace(/^Juvenile\s+/i,"")||"Unknown";zt.toUpperCase().includes("UNKNOWN")&&(zt="Unknown");const Yt=`${Ce}::${zt}`;te(q,Yt,{...Me,minion:zt});const Wt=Array.isArray(Ke)?Ke[0]:null;if(Wt==null||Wt.forEach(ct=>{if(!(ct!=null&&ct.id))return;const Zt=G(ct.blocked),ft=G(ct.evaded),rn=G(ct.glance??ct.glanced),Lt=G(ct.missed),Mt=G(ct.invulned),Ee=G(ct.interrupted),xe=G(ct.hits??ct.connectedHits),wt=Number(ct.id),At=ae(wt,ve,$e);if(Mn(Xt,`${Yt}::${wt}`,{totalHits:xe,blocked:Zt,evaded:ft,glanced:rn,missed:Lt,invulned:Mt,interrupted:Ee}),Ce===oe&&zt===be){const qt=H.get(wt),Sn=R(wt),Vr=Sn.hasSkill?Sn.hits>0?Sn.avg:0:1,oa=Sn.hasSkill?Sn.min||0:1,Qr=Sn.hits>0?rn*Vr/2+(Zt+ft+Lt+Mt+Ee)*Vr:0,Pi=Sn.hits>0?rn*oa/2+(Zt+ft+Lt+Mt+Ee)*oa:0;et.push({logId:D.filePath||D.id||Y,skillId:ct.id,skillName:At,blocked:Zt,evaded:ft,glanced:rn,missed:Lt,invulned:Mt,interrupted:Ee,totalAvoids:Zt+ft+rn+Lt+Mt+Ee,avg:Vr,min:oa,enemyHits:(qt==null?void 0:qt.connectedHits)??0,enemyTotalDmg:(qt==null?void 0:qt.totalDamage)??0,avoidDmg:Qr,avoidMinDmg:Pi})}}),Ce===oe&&zt===be){const ct=(Lt,Mt)=>{let Ee=0,xe=0,wt=0;if(!Array.isArray(Lt))return{total:Ee,minTotal:xe,hits:wt};for(const At of Lt){if(!(At!=null&&At.id))continue;const qt=G(At.blocked),Sn=G(At.evaded),Vr=G(At.glance??At.glanced),oa=G(At.missed),Qr=G(At.invulned),Pi=G(At.interrupted),Lc=ae(Number(At.id),lt,vt),{avg:Ds,min:No}=Mt(Number(At.id),Lc);G(At.hits??At.connectedHits)>0&&(Ee+=Vr*Ds/2+(qt+Sn+oa+Qr+Pi)*Ds,xe+=Vr*No/2+(qt+Sn+oa+Qr+Pi)*No),wt+=G(At.hits??At.connectedHits)}return{total:Ee,minTotal:xe,hits:wt}},Zt=Array.isArray(Ke)?Ke[0]||[]:[],ft=Array.isArray(Ke)?Ke.flat():[],rn=Array.isArray(Ze==null?void 0:Ze.totalDamageTaken)?Ze.totalDamageTaken[0]||[]:[];ue.push({logId:D.filePath||D.id||Y,variant:"current_global_name_dist0",...ct(Zt,(Lt,Mt)=>{const Ee=R(Lt),xe=Ee.hasSkill?Ee.hits>0?Ee.avg:0:1,wt=Ee.hasSkill&&Ee.min||0;return{avg:xe,min:wt}})}),ue.push({logId:D.filePath||D.id||Y,variant:"local_name_dist0",...ct(Zt,(Lt,Mt)=>fn(Mt))}),ue.push({logId:D.filePath||D.id||Y,variant:"local_id_dist0",...ct(Zt,Lt=>yn(Lt))}),ue.push({logId:D.filePath||D.id||Y,variant:"global_name_alllists",...ct(ft,(Lt,Mt)=>{const Ee=R(Lt),xe=Ee.hasSkill?Ee.hits>0?Ee.avg:0:1,wt=Ee.hasSkill&&Ee.min||0;return{avg:xe,min:wt}})}),ue.push({logId:D.filePath||D.id||Y,variant:"global_name_taken0",...ct(rn,(Lt,Mt)=>{const Ee=R(Lt),xe=Ee.hasSkill?Ee.hits>0?Ee.avg:0:1,wt=Ee.hasSkill&&Ee.min||0;return{avg:xe,min:wt}})})}})}))}),et.length>0&&(console.groupCollapsed("[Mitigation Debug] Ashtonlightstone.9145 / Illusionary Warden"),console.table(et),ue.length>0&&console.table(ue),console.groupEnd()),He.length>0&&(console.groupCollapsed("[Mitigation Debug] Ashtonlightstone.9145 / Player"),console.table(He),Be.length>0&&console.table(Be),console.groupEnd());const On=(D,Y)=>{const ne=new Map,we=J=>{let Oe=ne.get(J);return Oe||(Oe=Q(),ne.set(J,Oe)),Oe};Y.forEach((J,Oe)=>{const Le=Oe.lastIndexOf("::"),lt=Le>-1?Oe.slice(0,Le):Oe,vt=Le>-1?Number(Oe.slice(Le+2)):Number.NaN,ht=Number.isFinite(vt)?R(vt):{hasSkill:!1,avg:0,min:0,hits:0};if(!ht.hasSkill||ht.hits<=0)return;const $t=ht.avg,yn=ht.min,fn=J.glanced*$t/2+(J.blocked+J.evaded+J.missed+J.invulned+J.interrupted)*$t,Je=J.glanced*yn/2+(J.blocked+J.evaded+J.missed+J.invulned+J.interrupted)*yn;if(fn<=0)return;const qe=we(lt);qe.totalHits+=J.totalHits,qe.blocked+=J.blocked,qe.evaded+=J.evaded,qe.glanced+=J.glanced,qe.missed+=J.missed,qe.invulned+=J.invulned,qe.interrupted+=J.interrupted,qe.totalMitigation+=fn,qe.minMitigation+=Je}),D.forEach((J,Oe)=>{const Le=ne.get(Oe)||Q();J.mitigationTotals.totalHits=Le.totalHits,J.mitigationTotals.blocked=Le.blocked,J.mitigationTotals.evaded=Le.evaded,J.mitigationTotals.glanced=Le.glanced,J.mitigationTotals.missed=Le.missed,J.mitigationTotals.invulned=Le.invulned,J.mitigationTotals.interrupted=Le.interrupted,J.mitigationTotals.totalMitigation=Le.totalMitigation,J.mitigationTotals.minMitigation=Le.minMitigation})};On(L,yt),On(q,Xt);const ge=h>0?Math.round(g/h):0,Fe=h>0?Math.round(b/h):0,Dt=w>0?(S/w).toFixed(2):S>0?"":"0.00",_t=C>0?(N/C).toFixed(2):N>0?"":"0.00",pn=(D,Y)=>{const ne=D.filter(Oe=>Number.isFinite(Oe.value)&&(Y?Oe.value>0:Oe.value>=0)).sort((Oe,Le)=>{const lt=Y?Le.value-Oe.value:Oe.value-Le.value;return lt!==0?lt:Oe.account.localeCompare(Le.account)});let we=null,J=0;return ne.map((Oe,Le)=>((we===null||Oe.value!==we)&&(J=Le+1,we=Oe.value),{rank:J,...Oe}))},Tn=Array.from($.values()).map(D=>{const Y=Array.from(D.professions).filter(ne=>ne!=="Unknown");if(D.professionList=Y,Y.length>0){let ne=Y[0],we=D.professionTimeMs[ne]||0;Y.forEach(J=>{const Oe=D.professionTimeMs[J]||0;Oe>we&&(we=Oe,ne=J)}),D.profession=ne}return{key:D.account,stat:D}}),Vn=D=>{const Y=$.get(D.account);if(!Y){const J=D.professionList.length>0?D.professionList:D.profession?[D.profession]:[];return{...D,professionList:J}}const ne=Y.professionList&&Y.professionList.length>0?Y.professionList:Array.from(Y.professions||[]).filter(J=>J&&J!=="Unknown"),we=Y.profession||D.profession;return{...D,profession:we,professionList:ne.length>0?ne:we?[we]:[],activeMs:Y.defenseActiveMs||Y.totalFightMs||D.activeMs}},Ea=Array.from(L.values()).map(Vn).filter(D=>F(D.mitigationTotals)).sort((D,Y)=>D.account.localeCompare(Y.account)),Ei=Array.from(q.values()).map(Vn).filter(D=>D.mitigationTotals.totalMitigation>0).sort((D,Y)=>{const ne=D.account.localeCompare(Y.account);return ne!==0?ne:String(D.minion||"").localeCompare(String(Y.minion||""))}),ha=(D,Y)=>{switch(Y){case"downContrib":return D.downContrib;case"barrier":return D.barrier;case"healing":return D.healing;case"dodges":return D.dodges;case"strips":return D.strips;case"cleanses":return D.cleanses;case"cc":return D.cc;case"stability":return D.stab;case"revives":return D.revives;case"dps":return D.dps;case"damage":return D.damage;case"participation":return D.logsJoined;case"closestToTag":return!D.isCommander&&D.distCount>0?D.totalDist/D.distCount:Number.POSITIVE_INFINITY;default:return 0}},Jt=(D,Y)=>pn(Tn.map(({stat:ne})=>({account:ne.account,profession:ne.profession,professionList:ne.professionList,value:ha(ne,D),count:ne.logsJoined})),Y),on={downContrib:Jt("downContrib",!0),barrier:Jt("barrier",!0),healing:Jt("healing",!0),dodges:Jt("dodges",!0),strips:Jt("strips",!0),cleanses:Jt("cleanses",!0),cc:Jt("cc",!0),stability:Jt("stability",!0),revives:Jt("revives",!0),participation:Jt("participation",!0),dps:Jt("dps",!0),damage:Jt("damage",!0),closestToTag:Jt("closestToTag",!1).filter(D=>Number.isFinite(D.value))},Fn={downContrib:"downContrib",barrier:"barrier",healing:"healing",dodges:"dodges",strips:"strips",cleanses:"cleanses",cc:"cc",stability:"stability",closestToTag:"closestToTag"},sn=D=>{const Y=D==null?void 0:D[0];return{value:(Y==null?void 0:Y.value)??0,player:(Y==null?void 0:Y.account)??"-",count:(Y==null?void 0:Y.count)??0,profession:(Y==null?void 0:Y.profession)??"Unknown",professionList:(Y==null?void 0:Y.professionList)??[]}},ga={maxDownContrib:sn([]),maxBarrier:sn([]),maxHealing:sn([]),maxDodges:sn([]),maxStrips:sn([]),maxCleanses:sn([]),maxCC:sn([]),maxStab:sn([]),closestToTag:sn([])},Zr={},Ps=(D,Y)=>{if(Y==="closestToTag")return ha(D,Y);const ne=Math.max(1,(D.totalFightMs||0)/1e3);return ha(D,Y)/ne};Object.values(Fn).forEach(D=>{const Y=D!=="closestToTag";Zr[D]=pn(Tn.map(({stat:ne})=>({account:ne.account,profession:ne.profession,professionList:ne.professionList,value:Ps(ne,D),count:ne.logsJoined})),Y)}),ga.maxDownContrib=sn(Zr.downContrib),ga.maxBarrier=sn(Zr.barrier),ga.maxHealing=sn(Zr.healing),ga.maxDodges=sn(Zr.dodges),ga.maxStrips=sn(Zr.strips),ga.maxCleanses=sn(Zr.cleanses),ga.maxCC=sn(Zr.cc),ga.maxStab=sn(Zr.stability),ga.closestToTag=sn(Zr.closestToTag);const Ts={maxDownContrib:sn(on.downContrib),maxBarrier:sn(on.barrier),maxHealing:sn(on.healing),maxDodges:sn(on.dodges),maxStrips:sn(on.strips),maxCleanses:sn(on.cleanses),maxCC:sn(on.cc),maxStab:sn(on.stability),closestToTag:sn(on.closestToTag)};let Ha={player:"None",account:"None",score:-1,profession:"Unknown",professionList:[],color:"#64748b",topStats:[]},qa,So,Dc=0;if(o!=null&&o.showMvp){const D={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},Y=Oe=>{const Le=D[Oe];return Le?Number(s[Le]||0)>0:!1},ne=[],we=Oe=>[...Oe||[]].filter(Le=>Y(Le==null?void 0:Le.name)).sort((Le,lt)=>lt.ratio-Le.ratio||Le.rank-lt.rank||Le.name.localeCompare(lt.name)).slice(0,3),J=Oe=>{var Le;if(!Oe)return;const lt=we(Oe.contribs);return{...Oe,player:Oe.name,reason:((Le=lt[0])==null?void 0:Le.name)||"Top Performance",topStats:lt}};Tn.forEach(({stat:Oe})=>{let Le=0;const lt=[],vt=(ht,$t,yn,fn,Je=!0)=>{var qe,st;if(yn<=0)return;const Et=((qe=$t[0])==null?void 0:qe.value)||0;if(Et&&Number.isFinite(ht)&&(Je?ht>0:ht<Number.POSITIVE_INFINITY)){const Ht=Je?ht/Et:Et/ht;Le+=Ht*yn;const pe=((st=$t.find(Ne=>Ne.account===Oe.account))==null?void 0:st.rank)||0;lt.push({name:fn,ratio:Ht,val:ht.toLocaleString(),rank:pe})}};vt(Oe.downContrib,on.downContrib,s.downContribution,"Down Contribution"),vt(Oe.healing,on.healing,s.healing,"Healing"),vt(Oe.cleanses,on.cleanses,s.cleanses,"Cleanses"),vt(Oe.strips,on.strips,s.strips,"Strips"),vt(Oe.stab,on.stability,s.stability,"Stability"),vt(Oe.cc,on.cc,s.cc,"CC"),vt(Oe.revives,on.revives,s.revives,"Revives"),vt(ha(Oe,"closestToTag"),on.closestToTag,s.distanceToTag,"Distance to Tag",!1),vt(Oe.logsJoined,on.participation,s.participation,"Participation"),vt(Oe.dodges,on.dodges,s.dodging,"Dodging"),vt(Oe.dps,on.dps,s.dps,"DPS"),vt(Oe.damage,on.damage,s.damage,"Damage"),ne.push({...Oe,score:Le,contribs:lt.filter(ht=>Y(ht.name))})}),ne.sort((Oe,Le)=>Le.score-Oe.score),ne[0]&&ne[0].score>0&&(Ha=J(ne[0])||Ha),qa=J(ne[1]),So=J(ne[2]),Dc=ne.length>0?ne.reduce((Oe,Le)=>Oe+Le.score,0)/ne.length:0}const Al=Object.values(P).sort((D,Y)=>Y.damage-D.damage||Y.hits-D.hits||String(D.name||"").localeCompare(String(Y.name||""))).slice(0,25),Oc=Object.values(P).sort((D,Y)=>Y.downContribution-D.downContribution||Y.hits-D.hits||String(D.name||"").localeCompare(String(Y.name||""))).slice(0,25),sd=m==="downContribution"?Oc:Al,Ic=Object.values(O).sort((D,Y)=>Y.damage-D.damage).slice(0,25),_c=D=>{const Y=String(D).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),ne=Y.match(/^(Red|Blue|Green)\s+(?:Alpine|Desert)?\s*Borderlands$/i);return ne?`${ne[1]} Borderlands`:Y||"Unknown"},K=(D,Y)=>_c((D==null?void 0:D.zone)||(D==null?void 0:D.mapName)||(D==null?void 0:D.map)||(D==null?void 0:D.location)||(D==null?void 0:D.fightName)||(Y==null?void 0:Y.fightName)||(Y==null?void 0:Y.encounterName)||"Unknown"),he=(D,Y)=>{const ne=(Y==null?void 0:Y.permalink)||(D==null?void 0:D.permalink);if(typeof ne=="string"&&ne.trim().length>0)return ne.trim();const we=D==null?void 0:D.uploadLinks;if(!Array.isArray(we))return"";for(const J of we){if(typeof J=="string"&&J.trim().length>0)return J.trim();if(J&&typeof J=="object"){const Oe=J.permalink||J.link||J.url||J.reportLink;if(typeof Oe=="string"&&Oe.trim().length>0)return Oe.trim()}}return""},Se={};i.forEach(D=>{const Y=K(D==null?void 0:D.details,D);Se[Y]=(Se[Y]||0)+1});const Qe=Object.entries(Se).map(([D,Y])=>{const ne=String(D).trim(),we=/eternal battlegrounds|^ebg$/i.test(ne);let J="#64748b";return we?J="#ffffff":/red/i.test(ne)?J="#ef4444":/blue/i.test(ne)?J="#3b82f6":/green/i.test(ne)&&(J="#22c55e"),{name:D,value:Y,color:J}}).sort((D,Y)=>Y.value-D.value),{boonTables:Rt}=_z(i),Ct=i.map((D,Y)=>{var ne,we;const J=((ne=D.details)==null?void 0:ne.players)||[];return{index:Y+1,label:`Log ${Y+1}`,timestamp:Ia(D.details,D),squadCount:J.filter(Oe=>!Oe.notInSquad).length,friendlyCount:J.length,enemies:((we=D.details)==null?void 0:we.targets).filter(Oe=>!Oe.isFake).length}}).sort((D,Y)=>D.timestamp-Y.timestamp),ot={};Array.from($.values()).forEach(D=>{D.profession&&D.profession!=="Unknown"&&(ot[D.profession]=(ot[D.profession]||0)+1)});const ln=Object.entries(ot).map(([D,Y])=>({name:D,value:Y,color:ac(D)})).sort((D,Y)=>Y.value-D.value),mn={};Object.keys(de).length===0&&i.forEach(D=>{var Y,ne;(ne=(Y=D.details)==null?void 0:Y.targets)==null||ne.forEach(we=>{if(we.isFake)return;const J=we.profession&&we.profession!=="Unknown"?we.profession:we.name||we.id||"Unknown",Oe=A(J);mn[Oe]=(mn[Oe]||0)+1})});const Ar=Object.keys(de).length>0?de:mn,fr=Object.entries(Ar).map(([D,Y])=>({name:D,value:Y,color:ac(D)})).sort((D,Y)=>Y.value-D.value),Re=i.map((D,Y)=>({log:D,originalIndex:Y})).sort((D,Y)=>Ia(D.log.details,D.log)-Ia(Y.log.details,Y.log)),tt=Re.map(({log:D},Y)=>{const ne=D.details;if(!ne)return null;const we=ne.players||[],J=we.filter(me=>!me.notInSquad),Oe=we.filter(me=>me.notInSquad),Le=(ne.targets||[]).filter(me=>!me.isFake),lt=J.reduce((me,_e)=>{var je,bt;return me+(((bt=(je=_e.dpsAll)==null?void 0:je[0])==null?void 0:bt.damage)||0)},0),vt=J.reduce((me,_e)=>{var je,bt;return me+(((bt=(je=_e.defenses)==null?void 0:je[0])==null?void 0:bt.damageTaken)||0)},0),{enemyDeaths:ht,enemyDownsDeaths:$t}=M(ne),yn=T(ne),fn=Ia(ne,D),Je=K(ne,D),qe=me=>{if(!me||typeof me!="object")return;const _e=me.teamID??me.teamId??me.team??me.teamColor??me.team_color;if(_e!=null)return _e;const je=Object.keys(me).find(bt=>/^team/i.test(bt));return je?me[je]:void 0},st=(me,_e)=>{const je={};return me.forEach(bt=>{const rt=_e(bt),at=A(rt);at&&(je[at]=(je[at]||0)+1)}),je},Et=st(J,me=>(me==null?void 0:me.profession)||(me==null?void 0:me.name)),Ht=st(Oe,me=>(me==null?void 0:me.profession)||(me==null?void 0:me.name)),pe=st(Le,me=>(me==null?void 0:me.profession)||(me==null?void 0:me.name)||(me==null?void 0:me.id)),Ne=new Set;J.forEach(me=>{const _e=qe(me);_e!=null&&Ne.add(String(_e))});const ke=new Map;Le.forEach(me=>{if((me==null?void 0:me.enemyPlayer)===!1)return;const _e=qe(me);if(_e==null)return;const je=String(_e);Ne.has(je)||ke.set(je,(ke.get(je)||0)+1)});const ze=Array.from(ke.entries()).sort((me,_e)=>{const je=_e[1]-me[1];return je!==0?je:me[0].localeCompare(_e[0],void 0,{numeric:!0})}).slice(0,3).map(([me,_e])=>({teamId:me,count:_e}));return{id:D.filePath||`fight-${Y}`,label:D.encounterName||`Fight ${Y+1}`,permalink:he(ne,D),timestamp:fn,mapName:Je,duration:mm(ne.durationMS),isWin:yn,squadCount:J.length,allyCount:Oe.length,enemyCount:Le.length,teamBreakdown:ze,alliesDown:J.reduce((me,_e)=>{var je,bt;return me+(((bt=(je=_e.defenses)==null?void 0:je[0])==null?void 0:bt.downCount)||0)},0),alliesDead:J.reduce((me,_e)=>{var je,bt;return me+(((bt=(je=_e.defenses)==null?void 0:je[0])==null?void 0:bt.deadCount)||0)},0),alliesRevived:J.reduce((me,_e)=>{var je,bt;return Number(((bt=(je=_e.statsAll)==null?void 0:je[0])==null?void 0:bt.saved)||0)>0?me+1:me},0),rallies:0,enemyDeaths:ht,enemyDowns:Math.max(0,$t-ht),totalOutgoingDamage:lt,totalIncomingDamage:vt,incomingBarrierAbsorbed:J.reduce((me,_e)=>{var je,bt;return me+(((bt=(je=_e.defenses)==null?void 0:je[0])==null?void 0:bt.damageBarrier)||0)},0),outgoingBarrierAbsorbed:J.reduce((me,_e)=>{var je;const bt=(je=_e.extBarrierStats)==null?void 0:je.outgoingBarrier;if(!Array.isArray(bt))return me;let rt=0;return bt.forEach(at=>{if(Array.isArray(at)){at.forEach(Bt=>{rt+=Number((Bt==null?void 0:Bt.barrier)||0)});return}rt+=Number((at==null?void 0:at.barrier)||0)}),me+rt},0),squadClassCountsFight:Et,allyClassCountsFight:Ht,enemyClassCounts:pe}}).filter(Boolean),Kt=Re.map(({log:D},Y)=>{const ne=D.details;if(!ne)return null;const we=(Array.isArray(ne.players)?ne.players:[]).filter(V=>!V.notInSquad),J=Array.isArray(ne.targets)?ne.targets:[],Oe=Ia(ne,D),Le=K(ne,D),lt=Number(ne.durationMS||0),{squadDownsDeaths:vt,enemyDownsDeaths:ht,squadDeaths:$t,enemyDeaths:yn}=M(ne),fn=new Map,Je=(V,ce,Ce)=>{const Me=fn.get(V)||{label:V,damage:0,hits:0};Me.damage+=ce,Me.hits+=Ce,fn.set(V,Me)};if(we.forEach(V=>{(Array.isArray(V==null?void 0:V.statsTargets)?V.statsTargets:[]).forEach((ce,Ce)=>{const Me=Array.isArray(ce)?ce[0]:ce,ve=Number((Me==null?void 0:Me.damage)??(Me==null?void 0:Me.totalDmg)??(Me==null?void 0:Me.connectedDmg)??0),$e=Number((Me==null?void 0:Me.connectedHits)??(Me==null?void 0:Me.connectedDamageCount)??(Me==null?void 0:Me.hits)??0);if(ve<=0&&$e<=0)return;const Ze=J[Ce];if(Ze!=null&&Ze.isFake)return;const Ke=(Ze==null?void 0:Ze.profession)||(Ze==null?void 0:Ze.name)||(Ze==null?void 0:Ze.id)||`Target ${Ce+1}`,zt=A(Ke);Je(zt||String(Ke),ve,$e)})}),fn.size===0){const V=new Map,ce=Ce=>{if(!Array.isArray(Ce)||Ce.length===0)return[];const Me=Ce[0];if(Array.isArray(Me)&&Array.isArray(Me[0])){if(typeof Me[0][0]=="number")return Me;if(Array.isArray(Me[0])&&typeof Me[0][0]=="number")return Ce.map(ve=>Array.isArray(ve)?ve[0]||[]:[])}return[]};we.forEach(Ce=>{ce(Ce==null?void 0:Ce.targetDamage1S).forEach((Me,ve)=>{if(!Array.isArray(Me)||Me.length===0)return;const $e=Me.map(Ke=>Number(Ke)).filter(Ke=>Number.isFinite(Ke)&&Ke>=0);if($e.length===0)return;const Ze=Math.max(0,$e[$e.length-1]||0);Ze<=0||V.set(ve,(V.get(ve)||0)+Ze)})}),V.forEach((Ce,Me)=>{if(Ce<=0)return;const ve=J[Me];if(ve!=null&&ve.isFake)return;const $e=(ve==null?void 0:ve.profession)||(ve==null?void 0:ve.name)||(ve==null?void 0:ve.id)||`Target ${Me+1}`,Ze=A($e);Je(Ze||String($e),Ce,0)})}if(fn.size===0&&J.forEach((V,ce)=>{if(V!=null&&V.isFake)return;const Ce=Array.isArray(V==null?void 0:V.totalDamageTaken)?V.totalDamageTaken:Array.isArray(V==null?void 0:V.totalDamageDist)?V.totalDamageDist:[];let Me=0,ve=0;if(Ce.forEach(Ke=>{Me+=Number((Ke==null?void 0:Ke.totalDamage)||(Ke==null?void 0:Ke.damage)||0),ve+=Number((Ke==null?void 0:Ke.connectedHits)||(Ke==null?void 0:Ke.hits)||0)}),Me<=0&&Number((V==null?void 0:V.damageTaken)||0)>0&&(Me=Number(V.damageTaken||0)),Me<=0&&ve<=0)return;const $e=(V==null?void 0:V.profession)||(V==null?void 0:V.name)||(V==null?void 0:V.id)||`Target ${ce+1}`,Ze=A($e);Je(Ze||String($e),Me,ve)}),fn.size===0){const V=new Map;J.forEach((ce,Ce)=>{if(ce!=null&&ce.isFake)return;const Me=(ce==null?void 0:ce.profession)||(ce==null?void 0:ce.name)||(ce==null?void 0:ce.id)||`Target ${Ce+1}`,ve=A(Me)||String(Me);V.set(ve,(V.get(ve)||0)+1)}),V.forEach((ce,Ce)=>{ce>0&&Je(Ce,ce,0)})}const qe=Array.from(fn.values()).sort((V,ce)=>ce.damage-V.damage||ce.hits-V.hits||V.label.localeCompare(ce.label)),st=qe.reduce((V,ce)=>V+ce.damage,0),Et=qe.map(V=>({label:V.label,damage:V.damage,hits:V.hits,share:st>0?V.damage/st:0})),Ht=J.filter(V=>!(V!=null&&V.isFake)).length,pe=we.length,Ne=we.reduce((V,ce)=>{var Ce,Me;return V+Number(((Me=(Ce=ce==null?void 0:ce.dpsAll)==null?void 0:Ce[0])==null?void 0:Me.damage)||0)},0),ke=we.reduce((V,ce)=>{var Ce,Me;return V+Number(((Me=(Ce=ce==null?void 0:ce.defenses)==null?void 0:Ce[0])==null?void 0:Me.damageTaken)||0)},0),ze=we.reduce((V,ce)=>{var Ce,Me;return V+Number(((Me=(Ce=ce==null?void 0:ce.defenses)==null?void 0:Ce[0])==null?void 0:Me.damageBarrier)||0)},0),me=we.reduce((V,ce)=>{var Ce;const Me=(Ce=ce==null?void 0:ce.extBarrierStats)==null?void 0:Ce.outgoingBarrier;if(!Array.isArray(Me))return V;let ve=0;return Me.forEach($e=>{Array.isArray($e)?$e.forEach(Ze=>{ve+=Number((Ze==null?void 0:Ze.barrier)||0)}):ve+=Number(($e==null?void 0:$e.barrier)||0)}),V+ve},0),_e=we.reduce((V,ce)=>{var Ce,Me;return Number(((Me=(Ce=ce==null?void 0:ce.statsAll)==null?void 0:Ce[0])==null?void 0:Me.saved)||0)>0?V+1:V},0),je=we.reduce((V,ce)=>V+Number(K2(ce)||0),0),bt=we.reduce((V,ce)=>V+Number(Y2(ce)||0),0),rt=we.reduce((V,ce)=>V+Number((ce==null?void 0:ce.stabGeneration)||0),0),at=we.reduce((V,ce)=>V+Number(X2(ce)||0),0),Bt=we.reduce((V,ce)=>V+Number(Z2(ce)||0),0),kn=we.reduce((V,ce)=>V+Number(Q2(ce)||0),0),Rn=we.reduce((V,ce)=>V+Number(G2(ce)||0),0),rr=$t>0?yn/$t:yn,xt=[{metricId:"winFlag",metricLabel:"Win (1) / Loss (0)",higherIsBetter:!0,value:T(ne)?1:0},{metricId:"squadCount",metricLabel:"Squad Size",higherIsBetter:!0,value:pe},{metricId:"enemyCount",metricLabel:"Enemy Count",higherIsBetter:!1,value:Ht},{metricId:"squadKdr",metricLabel:"Squad KDR",higherIsBetter:!0,value:rr},{metricId:"enemyDeaths",metricLabel:"Enemy Deaths",higherIsBetter:!0,value:yn},{metricId:"enemyDowns",metricLabel:"Enemy Downs",higherIsBetter:!0,value:Math.max(0,ht-yn)},{metricId:"squadDeaths",metricLabel:"Squad Deaths",higherIsBetter:!1,value:$t},{metricId:"squadDowns",metricLabel:"Squad Downs",higherIsBetter:!1,value:Math.max(0,vt-$t)},{metricId:"damageDelta",metricLabel:"Damage Delta",higherIsBetter:!0,value:Ne-ke},{metricId:"outgoingDamage",metricLabel:"Outgoing Damage",higherIsBetter:!0,value:Ne},{metricId:"incomingDamage",metricLabel:"Incoming Damage",higherIsBetter:!1,value:ke},{metricId:"cleanses",metricLabel:"Squad Cleanses",higherIsBetter:!0,value:je},{metricId:"strips",metricLabel:"Squad Strips",higherIsBetter:!0,value:bt},{metricId:"stability",metricLabel:"Squad Stability",higherIsBetter:!0,value:rt},{metricId:"healing",metricLabel:"Squad Healing",higherIsBetter:!0,value:at},{metricId:"barrierOut",metricLabel:"Squad Barrier Out",higherIsBetter:!0,value:Bt},{metricId:"barrierIncomingAbsorb",metricLabel:"Barrier Absorption (Incoming)",higherIsBetter:!0,value:ze},{metricId:"enemyBarrierAbsorb",metricLabel:"Enemy Barrier Absorption",higherIsBetter:!1,value:me},{metricId:"cc",metricLabel:"Squad CC",higherIsBetter:!0,value:kn},{metricId:"downContrib",metricLabel:"Squad Down Contribution",higherIsBetter:!0,value:Rn},{metricId:"alliesRevived",metricLabel:"Allies Revived (Players)",higherIsBetter:!0,value:_e}];return{id:D.filePath||D.id||`fight-${Y+1}`,shortLabel:`F${Y+1}`,fullLabel:`${Le||D.encounterName||"Unknown Map"}  ${mm(lt)}`,mapName:Le,timestamp:Oe,duration:mm(lt),isWin:T(ne),targetFocus:Et,squadMetrics:xt}}).filter(Boolean),en=Array.from($.values()).map(D=>{const Y=Object.entries(D.professionTimeMs||{}).map(([ne,we])=>({profession:ne,timeMs:Number(we||0)})).filter(ne=>ne.profession&&ne.profession!=="Unknown"&&ne.timeMs>0).sort((ne,we)=>{const J=we.timeMs-ne.timeMs;return J!==0?J:ne.profession.localeCompare(we.profession)});return{account:D.account||"Unknown",characterNames:Array.from(D.characterNames||[]).filter(Boolean).sort((ne,we)=>ne.localeCompare(we)),classTimes:Y,combatTimeMs:Number(D.squadActiveMs||D.totalFightMs||0),squadTimeMs:(()=>{const ne=Number(D.firstSeenFightTs||0),we=Number(D.lastSeenFightTs||0),J=Math.max(0,Number(D.lastSeenFightDurationMs||0));return ne>0&&we>0?Math.max(0,we+J-ne):Number(D.squadActiveMs||D.totalFightMs||0)})()}}).filter(D=>D.account&&D.account!=="Unknown").sort((D,Y)=>{const ne=Y.squadTimeMs-D.squadTimeMs;return ne!==0?ne:String(D.account).localeCompare(String(Y.account))}),Un=i.map(D=>D).sort((D,Y)=>Ia(D.details,D)-Ia(Y.details,Y)).map((D,Y)=>{const ne=D==null?void 0:D.details,we=Array.isArray(ne==null?void 0:ne.players)?ne.players.filter(Le=>!(Le!=null&&Le.notInSquad)):[],J=new Map;we.forEach(Le=>{const lt=Number(Le==null?void 0:Le.group),vt=Number.isFinite(lt)&&lt>0?lt:0;J.has(vt)||J.set(vt,{party:vt,players:[],classCounts:{}});const ht=A((Le==null?void 0:Le.profession)||(Le==null?void 0:Le.name)||"Unknown"),$t=String((Le==null?void 0:Le.account)||"Unknown"),yn=String((Le==null?void 0:Le.name)||(Le==null?void 0:Le.character_name)||""),fn=!!(Le!=null&&Le.hasCommanderTag),Je=J.get(vt);Je.players.push({account:$t,characterName:yn,profession:ht,isCommander:fn}),Je.classCounts[ht]=(Je.classCounts[ht]||0)+1});const Oe=Array.from(J.values()).map(Le=>({...Le,players:Le.players.sort((lt,vt)=>{const ht=+!!vt.isCommander-+!!lt.isCommander;if(ht!==0)return ht;const $t=String(lt.profession).localeCompare(String(vt.profession));return $t!==0?$t:String(lt.account).localeCompare(String(vt.account))})})).sort((Le,lt)=>Le.party===0&&lt.party!==0?1:lt.party===0&&Le.party!==0?-1:Le.party-lt.party);return{id:String((D==null?void 0:D.filePath)||(D==null?void 0:D.id)||`fight-${Y+1}`),label:`F${Y+1}`,timestamp:Ia(ne,D),mapName:K(ne,D),duration:mm(Number((ne==null?void 0:ne.durationMS)||0)),parties:Oe}}),Pa=(D,Y)=>{const ne=(Y==null?void 0:Y.skillMap)||{},we=(Y==null?void 0:Y.buffMap)||{};let J=0,Oe="";const Le=ht=>{const $t=Number(ht);if(!Number.isFinite($t))return String(ht||"Unknown Skill");const yn=(ne==null?void 0:ne[`s${$t}`])||(ne==null?void 0:ne[`${$t}`]);if(yn!=null&&yn.name)return String(yn.name);const fn=(we==null?void 0:we[`b${$t}`])||(we==null?void 0:we[`${$t}`]);return fn!=null&&fn.name?String(fn.name):`Skill ${$t}`},lt=ht=>{if(!ht||typeof ht!="object")return;const $t=[Number(ht.max),Number(ht.maxDamage),Number(ht.maxHit)].filter(fn=>Number.isFinite(fn)),yn=$t.length>0?Math.max(...$t):0;yn>J&&(J=yn,Oe=Le(ht.id))};let vt=!1;return Array.isArray(D==null?void 0:D.targetDamageDist)&&D.targetDamageDist.forEach(ht=>{Array.isArray(ht)&&ht.forEach($t=>{Array.isArray($t)&&$t.forEach(yn=>{vt=!0,lt(yn)})})}),(!vt||J<=0)&&Array.isArray(D==null?void 0:D.totalDamageDist)&&D.totalDamageDist.forEach(ht=>{Array.isArray(ht)&&ht.forEach($t=>lt($t))}),{peak:J,skillName:Oe||"Unknown Skill"}},Or=(()=>{const D=Je=>String(Je||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),Y=Je=>D(Je).toLowerCase().split(/[^a-z0-9]+/i).map(qe=>qe.trim()).filter(Boolean).map(qe=>qe.length>3&&qe.endsWith("s")?qe.slice(0,-1):qe),ne=(Je,qe)=>{const st=D(Je),Et=D(qe);if(!Et)return st;if(!st)return Et;const Ht=Y(st),pe=Y(Et),Ne=new Set(Ht),ke=new Set(pe),ze=pe.length>0&&pe.every(_e=>Ne.has(_e)),me=Ht.length>0&&Ht.every(_e=>ke.has(_e));return ze||me?st:`${st} - ${Et}`},we=[],J=new Map,Oe=Je=>{const qe=ke=>{if(!Array.isArray(ke)||ke.length===0)return[];const ze=[];for(let me=0;me<ke.length;me+=1){const _e=Number(ke[me]||0),je=me>0?Number(ke[me-1]||0):0;ze.push(Math.max(0,_e-je))}return ze},st=ke=>{if(!Array.isArray(ke))return[];const ze=ke.reduce((_e,je)=>Math.max(_e,Array.isArray(je)?je.length:0),0);if(ze<=0)return[];const me=new Array(ze).fill(0);return ke.forEach(_e=>{if(Array.isArray(_e))for(let je=0;je<ze;je+=1)me[je]+=Number(_e[je]||0)}),me},Et=ke=>Array.isArray(ke)?ke.map(ze=>Number(ze||0)):null,Ht=(ke=>{if(!Array.isArray(ke)||ke.length===0)return null;const ze=ke[0];if(!Array.isArray(ze))return null;if(Array.isArray(ze[0])&&Array.isArray(ze[0][0]))return st(ze);if(Array.isArray(ze[0])&&!Array.isArray(ze[0][0])){const me=ke.map(_e=>Et(Array.isArray(_e)?_e[0]:null)).filter(_e=>Array.isArray(_e)&&_e.length>0);if(me.length>0)return st(me)}return null})(Je==null?void 0:Je.targetDamage1S),pe=Array.isArray(Je==null?void 0:Je.damage1S)&&Array.isArray(Je.damage1S[0])?Je.damage1S[0]:null,Ne=Ht||(Array.isArray(pe)?pe.map(ke=>Number(ke||0)):[]);return qe(Ne)},Le=(Je,qe)=>{if(!Array.isArray(Je)||Je.length===0||qe<=0)return 0;let st=0,Et=0;for(let Ht=0;Ht<Je.length;Ht+=1)st+=Number(Je[Ht]||0),Ht>=qe&&(st-=Number(Je[Ht-qe]||0)),Ht>=qe-1&&st>Et&&(Et=st);return Math.max(0,Et)},lt=(Je,qe)=>{if(!Array.isArray(Je)||Je.length===0||qe<=0)return[];const st=[];for(let Et=0;Et<Je.length;Et+=qe){const Ht=Math.min(Et+qe,Je.length),pe=Je.slice(Et,Ht).reduce((Ne,ke)=>Ne+Number(ke||0),0);st.push(pe)}return st},vt=(Je,qe)=>{const st=Number(Je);if(!Number.isFinite(st))return{name:String(Je||"Unknown Skill"),icon:void 0};const Et=(qe==null?void 0:qe.skillMap)||{},Ht=(qe==null?void 0:qe.buffMap)||{},pe=(Et==null?void 0:Et[`s${st}`])||(Et==null?void 0:Et[`${st}`]);if(pe!=null&&pe.name)return{name:String(pe.name),icon:pe==null?void 0:pe.icon};const Ne=(Ht==null?void 0:Ht[`b${st}`])||(Ht==null?void 0:Ht[`${st}`]);return Ne!=null&&Ne.name?{name:String(Ne.name),icon:Ne==null?void 0:Ne.icon}:{name:`Skill ${st}`,icon:void 0}},ht=Je=>Array.isArray(Je)?Je.map(qe=>Array.isArray(qe)?[Number(qe[0]),Number(qe[1])]:qe&&typeof qe=="object"?[Number(qe.time),Number(qe.value)]:null).filter(qe=>!!qe&&Number.isFinite(qe[0])&&qe[0]>=0):[],$t=(Je,qe,st,Et,Ht)=>{if(!Je.length||Et<=0)return[];const pe=Math.max(Et*5e3,Ht||0),Ne=at=>at.reduce((Bt,kn)=>kn>=0&&kn<=pe+2e3?Bt+1:Bt,0),ke=Je.map(at=>Number(at||0)).filter(at=>Number.isFinite(at)&&at>=0);if(!ke.length)return[];const ze=[ke],me=ke.reduce((at,Bt)=>Math.max(at,Bt),0),_e=ke.reduce((at,Bt)=>Math.min(at,Bt),Number.POSITIVE_INFINITY);me>pe*20&&ze.push(ke.map(at=>at/1e3)),me<=pe*2&&_e>=0&&me>0&&me<Math.max(120,Et*5+10)&&ze.push(ke.map(at=>at*1e3));let je=ke,bt=0,rt=-1;return ze.forEach(at=>{const Bt=at.reduce((Rn,rr)=>Math.min(Rn,rr),Number.POSITIVE_INFINITY),kn=new Set([0,...qe,...st]);if(Number.isFinite(Bt)&&pe>0&&Bt>pe){const Rn=Math.floor(Bt/pe)*pe;kn.add(Rn),kn.add(Math.max(0,Rn-pe))}kn.forEach(Rn=>{const rr=at.map(V=>V-Rn),xt=Ne(rr);xt>rt&&(rt=xt,bt=Rn,je=at)})}),je.map(at=>at-bt).filter(at=>Number.isFinite(at)&&at>=0)},yn=(Je,qe,st,Et,Ht)=>{const pe=$t(Je,qe,st,Et,Ht);return Array.from(new Set(pe.map(Ne=>Math.floor(Ne/5e3)).filter(Ne=>Number.isFinite(Ne)&&Ne>=0&&Ne<Et)))};i.map(Je=>({log:Je,ts:Ia(Je==null?void 0:Je.details,Je)})).sort((Je,qe)=>Je.ts-qe.ts).forEach(({log:Je},qe)=>{const st=Je==null?void 0:Je.details;if(!st)return;const Et=D(st.fightName||Je.fightName||`Fight ${qe+1}`),Ht=K(st,Je),pe=ne(Et,String(Ht||"")),Ne={},ke=Array.isArray(st.players)?st.players:[],ze=ke.flatMap(rt=>{const at=rt==null?void 0:rt.combatReplayData;return Array.isArray(at)?at.map(Bt=>Number(Bt==null?void 0:Bt.start)):[Number(at==null?void 0:at.start)]}).filter(rt=>Number.isFinite(rt)&&rt>=0);ke.forEach(rt=>{if(rt!=null&&rt.notInSquad)return;const at=String((rt==null?void 0:rt.account)||(rt==null?void 0:rt.name)||"Unknown"),Bt=String((rt==null?void 0:rt.character_name)||(rt==null?void 0:rt.display_name)||(rt==null?void 0:rt.name)||""),kn=String((rt==null?void 0:rt.profession)||"Unknown"),Rn=`${at}|${kn}`,rr=Pa(rt,st),xt=Number(rr.peak||0),V=Oe(rt),ce=Number(Le(V,1)||0),Ce=Number(Le(V,5)||0),Me=Number(Le(V,30)||0),ve=Math.max(0,Math.ceil(Number((st==null?void 0:st.durationMS)||0)/5e3)),$e=Math.max(0,Math.ceil(V.length/5)),Ze=Math.max(ve,$e),Ke=lt(V,5),zt=Array.from({length:Ze},(Ee,xe)=>Number(Ke[xe]||0)),Yt=new Map,Wt=Ee=>{if(!Ee||typeof Ee!="object"||Ee.indirectDamage)return;const xe=Number(Ee.totalDamage||0);if(!Number.isFinite(xe)||xe<=0)return;const wt=Number(Ee.connectedHits||Ee.hits||0),At=vt(Ee.id,st),qt=At.name,Sn=Yt.get(qt)||{skillName:qt,damage:0,hits:0,icon:At.icon};Sn.damage+=xe,Sn.hits+=Number.isFinite(wt)?wt:0,!Sn.icon&&At.icon&&(Sn.icon=At.icon),Yt.set(qt,Sn)},ct=new Map;Array.isArray(rt==null?void 0:rt.targetDamageDist)&&rt.targetDamageDist.forEach(Ee=>{Array.isArray(Ee)&&Ee.forEach(xe=>{Array.isArray(xe)&&xe.forEach(wt=>{const At=Number(wt==null?void 0:wt.id),qt=Number((wt==null?void 0:wt.totalDamage)||0);if(Number.isFinite(At)){const Sn=ct.get(At)||{damage:0,hits:0};Sn.damage+=Number.isFinite(qt)?qt:0,Sn.hits+=Number((wt==null?void 0:wt.connectedHits)||(wt==null?void 0:wt.hits)||0),ct.set(At,Sn)}Wt(wt)})})}),!(st!=null&&st.detailedWvW)&&Array.isArray(rt==null?void 0:rt.totalDamageDist)&&rt.totalDamageDist.forEach(Ee=>{Array.isArray(Ee)&&Ee.forEach(xe=>{const wt=Number(xe==null?void 0:xe.id);if(!Number.isFinite(wt)){Wt(xe);return}const At=ct.get(wt);if(!At){Wt(xe);return}const qt=Number((xe==null?void 0:xe.totalDamage)||0),Sn=Number((xe==null?void 0:xe.connectedHits)||(xe==null?void 0:xe.hits)||0),Vr=qt-Number(At.damage||0),oa=Sn-Number(At.hits||0);Vr<=0&&oa<=0||Wt({...xe,totalDamage:Math.max(0,Vr),connectedHits:Math.max(0,oa),hits:Math.max(0,oa)})})});const Zt=(()=>{const Ee=rt==null?void 0:rt.combatReplayData;return Array.isArray(Ee)?Ee.filter(xe=>xe&&typeof xe=="object"):Ee&&typeof Ee=="object"?[Ee]:[]})(),ft=Zt.map(Ee=>Number(Ee==null?void 0:Ee.start)).filter(Ee=>Number.isFinite(Ee)&&Ee>=0),rn=Zt.flatMap(Ee=>ht(Ee==null?void 0:Ee.down).map(([xe])=>Number(xe||0))),Lt=Zt.flatMap(Ee=>ht(Ee==null?void 0:Ee.dead).map(([xe])=>Number(xe||0)));Ne[Rn]={hit:xt,burst1s:ce,burst5s:Ce,burst30s:Me,skillName:rr.skillName,buckets5s:zt,downIndices5s:yn(rn,ft,ze,Ze,Number((st==null?void 0:st.durationMS)||0)),deathIndices5s:yn(Lt,ft,ze,Ze,Number((st==null?void 0:st.durationMS)||0)),skillRows:Array.from(Yt.values()).sort((Ee,xe)=>xe.damage-Ee.damage).slice(0,50)};const Mt=J.get(Rn)||{key:Rn,account:at,displayName:at,characterName:Bt,profession:kn,professionList:[kn],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Mt.logs+=1,Mt.professionList.includes(kn)||Mt.professionList.push(kn),!Mt.characterName&&Bt&&(Mt.characterName=Bt),xt>Mt.peakHit&&(Mt.peakHit=xt,Mt.peakFightLabel=pe,Mt.peakSkillName=rr.skillName),ce>Mt.peak1s&&(Mt.peak1s=ce),Ce>Mt.peak5s&&(Mt.peak5s=Ce),Me>Mt.peak30s&&(Mt.peak30s=Me),J.set(Rn,Mt)});const me=Object.values(Ne).reduce((rt,at)=>Math.max(rt,Number((at==null?void 0:at.hit)||0)),0),_e=Object.values(Ne).reduce((rt,at)=>Math.max(rt,Number((at==null?void 0:at.burst1s)||0)),0),je=Object.values(Ne).reduce((rt,at)=>Math.max(rt,Number((at==null?void 0:at.burst5s)||0)),0),bt=Object.values(Ne).reduce((rt,at)=>Math.max(rt,Number((at==null?void 0:at.burst30s)||0)),0);we.push({id:Je.filePath||Je.id||`fight-${qe+1}`,shortLabel:`F${qe+1}`,fullLabel:pe,timestamp:Ia(st,Je),values:Ne,maxHit:me,max1s:_e,max5s:je,max30s:bt})});const fn=Array.from(J.values()).sort((Je,qe)=>qe.peakHit!==Je.peakHit?qe.peakHit-Je.peakHit:Je.displayName.localeCompare(qe.displayName));return{fights:we,players:fn}})(),Ho=(()=>{const D=pe=>String(pe||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),Y=pe=>D(pe).toLowerCase().split(/[^a-z0-9]+/i).map(Ne=>Ne.trim()).filter(Boolean).map(Ne=>Ne.length>3&&Ne.endsWith("s")?Ne.slice(0,-1):Ne),ne=(pe,Ne)=>{const ke=D(pe),ze=D(Ne);if(!ze)return ke;if(!ke)return ze;const me=Y(ke),_e=Y(ze),je=new Set(me),bt=new Set(_e),rt=_e.length>0&&_e.every(Bt=>je.has(Bt)),at=me.length>0&&me.every(Bt=>bt.has(Bt));return rt||at?ke:`${ke} - ${ze}`},we=[],J=new Map,Oe=(pe,Ne)=>{const ke=Number(pe);if(!Number.isFinite(ke))return{name:String(pe||"Unknown Skill"),icon:void 0};const ze=(Ne==null?void 0:Ne.skillMap)||{},me=(Ne==null?void 0:Ne.buffMap)||{},_e=(ze==null?void 0:ze[`s${ke}`])||(ze==null?void 0:ze[`${ke}`]);if(_e!=null&&_e.name)return{name:String(_e.name),icon:_e==null?void 0:_e.icon};const je=(me==null?void 0:me[`b${ke}`])||(me==null?void 0:me[`${ke}`]);return je!=null&&je.name?{name:String(je.name),icon:je==null?void 0:je.icon}:{name:`Skill ${ke}`,icon:void 0}},Le=(pe,Ne)=>{let ke=0,ze="";const me=_e=>{if(!_e||typeof _e!="object"||_e.indirectDamage)return;const je=[Number(_e.max),Number(_e.maxDamage),Number(_e.maxHit)].filter(rt=>Number.isFinite(rt)),bt=je.length>0?Math.max(...je):0;bt>ke&&(ke=bt,ze=Oe(_e.id,Ne).name)};return Array.isArray(pe==null?void 0:pe.totalDamageDist)&&pe.totalDamageDist.forEach(_e=>{Array.isArray(_e)&&_e.forEach(je=>me(je))}),Array.isArray(pe==null?void 0:pe.targetDamageDist)&&pe.targetDamageDist.forEach(_e=>{Array.isArray(_e)&&_e.forEach(je=>{Array.isArray(je)&&je.forEach(bt=>me(bt))})}),{peak:ke,skillName:ze||"Unknown Skill"}},lt=pe=>{if(!Array.isArray(pe)||pe.length===0)return[];const Ne=[];for(let ke=0;ke<pe.length;ke+=1){const ze=Number(pe[ke]||0),me=ke>0?Number(pe[ke-1]||0):0;Ne.push(Math.max(0,ze-me))}return Ne},vt=pe=>{if(!Array.isArray(pe)||pe.length===0)return[];const Ne=pe.reduce((ze,me)=>Math.max(ze,Array.isArray(me)?me.length:0),0);if(Ne<=0)return[];const ke=new Array(Ne).fill(0);return pe.forEach(ze=>{if(Array.isArray(ze))for(let me=0;me<Ne;me+=1)ke[me]+=Number(ze[me]||0)}),ke},ht=pe=>{if(!Array.isArray(pe)||pe.length===0)return[];const Ne=pe[0];if(typeof Ne=="number")return pe.map(ke=>Number(ke||0));if(Array.isArray(Ne)&&Ne.length>0){if(typeof Ne[0]=="number")return Ne.map(ke=>Number(ke||0));if(Array.isArray(Ne[0])){const ke=Ne.map(ze=>Array.isArray(ze)?ze.map(me=>Number(me||0)):null).filter(ze=>Array.isArray(ze)&&ze.length>0);if(ke.length>0)return vt(ke)}}return[]},$t=pe=>{const Ne=ht(pe==null?void 0:pe.powerDamage1S),ke=ht(pe==null?void 0:pe.damage1S),ze=Ne.length>0?Ne:ke;return lt(ze)},yn=(pe,Ne)=>{const ke=pe==null?void 0:pe.targetPowerDamage1S;if(!Array.isArray(ke)||!Array.isArray(ke[Ne]))return[];const ze=ke[Ne];if(!Array.isArray(ze)||ze.length===0)return[];if(typeof ze[0]=="number")return ze.map(me=>Number(me||0));if(Array.isArray(ze[0])&&!Array.isArray(ze[0][0]))return ze[0].map(me=>Number(me||0));if(Array.isArray(ze[0])&&Array.isArray(ze[0][0])){const me=ze[0].map(_e=>Array.isArray(_e)?_e.map(je=>Number(je||0)):null).filter(_e=>Array.isArray(_e)&&_e.length>0);return vt(me)}return[]},fn=(pe,Ne)=>{if(!Array.isArray(pe)||pe.length===0||Ne<=0)return 0;let ke=0,ze=0;for(let me=0;me<pe.length;me+=1)ke+=Number(pe[me]||0),me>=Ne&&(ke-=Number(pe[me-Ne]||0)),me>=Ne-1&&ke>ze&&(ze=ke);return Math.max(0,ze)},Je=(pe,Ne)=>{if(!Array.isArray(pe)||pe.length===0||Ne<=0)return[];const ke=[];for(let ze=0;ze<pe.length;ze+=Ne){const me=Math.min(ze+Ne,pe.length),_e=pe.slice(ze,me).reduce((je,bt)=>je+Number(bt||0),0);ke.push(_e)}return ke},qe=pe=>Array.isArray(pe)?pe.map(Ne=>Array.isArray(Ne)?[Number(Ne[0]),Number(Ne[1])]:Ne&&typeof Ne=="object"?[Number(Ne.time),Number(Ne.value)]:null).filter(Ne=>!!Ne&&Number.isFinite(Ne[0])&&Ne[0]>=0):[],st=(pe,Ne,ke,ze,me)=>{if(!pe.length||ze<=0)return[];const _e=Math.max(ze*5e3,me||0),je=xt=>xt.reduce((V,ce)=>ce>=0&&ce<=_e+2e3?V+1:V,0),bt=pe.map(xt=>Number(xt||0)).filter(xt=>Number.isFinite(xt)&&xt>=0);if(!bt.length)return[];const rt=[bt],at=bt.reduce((xt,V)=>Math.max(xt,V),0),Bt=bt.reduce((xt,V)=>Math.min(xt,V),Number.POSITIVE_INFINITY);at>_e*20&&rt.push(bt.map(xt=>xt/1e3)),at<=_e*2&&Bt>=0&&at>0&&at<Math.max(120,ze*5+10)&&rt.push(bt.map(xt=>xt*1e3));let kn=bt,Rn=0,rr=-1;return rt.forEach(xt=>{const V=xt.reduce((Ce,Me)=>Math.min(Ce,Me),Number.POSITIVE_INFINITY),ce=new Set([0,...Ne,...ke]);if(Number.isFinite(V)&&_e>0&&V>_e){const Ce=Math.floor(V/_e)*_e;ce.add(Ce),ce.add(Math.max(0,Ce-_e))}ce.forEach(Ce=>{const Me=xt.map($e=>$e-Ce),ve=je(Me);ve>rr&&(rr=ve,Rn=Ce,kn=xt)})}),kn.map(xt=>xt-Rn).filter(xt=>Number.isFinite(xt)&&xt>=0)},Et=(pe,Ne,ke,ze,me)=>{const _e=st(pe,Ne,ke,ze,me);return Array.from(new Set(_e.map(je=>Math.floor(je/5e3)).filter(je=>Number.isFinite(je)&&je>=0&&je<ze)))};i.map(pe=>({log:pe,ts:Ia(pe==null?void 0:pe.details,pe)})).sort((pe,Ne)=>pe.ts-Ne.ts).forEach(({log:pe},Ne)=>{const ke=pe==null?void 0:pe.details;if(!ke)return;const ze=D(ke.fightName||pe.fightName||`Fight ${Ne+1}`),me=K(ke,pe),_e=ne(ze,String(me||"")),je={},bt=(Array.isArray(ke.players)?ke.players:[]).filter(ve=>!(ve!=null&&ve.notInSquad)),rt=bt.flatMap(ve=>{const $e=ve==null?void 0:ve.combatReplayData;return Array.isArray($e)?$e.map(Ze=>Number(Ze==null?void 0:Ze.start)):[Number($e==null?void 0:$e.start)]}).filter(ve=>Number.isFinite(ve)&&ve>=0),at=bt.flatMap(ve=>{const $e=ve==null?void 0:ve.combatReplayData;return(Array.isArray($e)?$e:$e?[$e]:[]).flatMap(Ze=>qe(Ze==null?void 0:Ze.down).map(([Ke])=>Number(Ke||0)))}),Bt=bt.flatMap(ve=>{const $e=ve==null?void 0:ve.combatReplayData;return(Array.isArray($e)?$e:$e?[$e]:[]).flatMap(Ze=>qe(Ze==null?void 0:Ze.dead).map(([Ke])=>Number(Ke||0)))}),kn=new Map,Rn=new Map,rr=new Map;(Array.isArray(ke.targets)?ke.targets:[]).forEach((ve,$e)=>{if(!ve||ve.isFake||!ve.enemyPlayer)return;const Ze=A((ve==null?void 0:ve.profession)||(ve==null?void 0:ve.name)||(ve==null?void 0:ve.id))||"Unknown";rr.set(Ze,(rr.get(Ze)||0)+1);const Ke=Rn.get(Ze)||new Map;Array.isArray(ve==null?void 0:ve.totalDamageDist)&&ve.totalDamageDist.forEach(ft=>{Array.isArray(ft)&&ft.forEach(rn=>{if(!rn||typeof rn!="object"||rn.indirectDamage)return;const Lt=Number(rn.totalDamage||0);if(!Number.isFinite(Lt)||Lt<=0)return;const Mt=Number(rn.connectedHits||rn.hits||0),Ee=Oe(rn.id,ke),xe=Ee.name,wt=Ke.get(xe)||{skillName:xe,damage:0,hits:0,icon:Ee.icon};wt.damage+=Lt,wt.hits+=Number.isFinite(Mt)?Mt:0,!wt.icon&&Ee.icon&&(wt.icon=Ee.icon),Ke.set(xe,wt)})}),Rn.set(Ze,Ke);const zt=vt(bt.map(ft=>yn(ft,$e))),Yt=zt.length>0?lt(zt):$t(ve),Wt=Le(ve,ke);let ct=kn.get(Ze);ct||(ct={perSecond:[],hit:0,skillName:""},kn.set(Ze,ct)),Yt.length>ct.perSecond.length&&(ct.perSecond.length=Yt.length);for(let ft=0;ft<Yt.length;ft+=1)ct.perSecond[ft]=Number(ct.perSecond[ft]||0)+Number(Yt[ft]||0);const Zt=Number(Wt.peak||0);Zt>ct.hit&&(ct.hit=Zt,ct.skillName=Wt.skillName||"Unknown Skill")});const xt=Array.from(kn.values()).some(ve=>Array.isArray(ve.perSecond)&&ve.perSecond.some($e=>Number($e||0)>0));if(kn.size===0||!xt){const ve=vt(bt.map(Ze=>{const Ke=ht(Ze==null?void 0:Ze.powerDamageTaken1S);return lt(Ke)})),$e=Array.from(rr.values()).reduce((Ze,Ke)=>Ze+Number(Ke||0),0);ve.length>0&&$e>0&&rr.forEach((Ze,Ke)=>{const zt=Number(Ze||0)/$e,Yt=ve.map(ct=>Number(ct||0)*zt),Wt=kn.get(Ke);kn.set(Ke,{perSecond:Yt,hit:Number((Wt==null?void 0:Wt.hit)||0),skillName:String((Wt==null?void 0:Wt.skillName)||"")})})}kn.forEach((ve,$e)=>{var Ze;const Ke=$e,zt=Number(ve.hit||0),Yt=Number(fn(ve.perSecond,1)||0),Wt=Number(fn(ve.perSecond,5)||0),ct=Number(fn(ve.perSecond,30)||0),Zt=Math.max(0,Math.ceil(Number((ke==null?void 0:ke.durationMS)||0)/5e3)),ft=Math.max(0,Math.ceil(ve.perSecond.length/5)),rn=Math.max(Zt,ft),Lt=Je(ve.perSecond,5),Mt=Array.from({length:rn},(xe,wt)=>Number(Lt[wt]||0));je[Ke]={hit:zt,burst1s:Yt,burst5s:Wt,burst30s:ct,skillName:ve.skillName||"Unknown Skill",buckets5s:Mt,downIndices5s:Et(at,[],rt,rn,Number((ke==null?void 0:ke.durationMS)||0)),deathIndices5s:Et(Bt,[],rt,rn,Number((ke==null?void 0:ke.durationMS)||0)),skillRows:Array.from(((Ze=Rn.get($e))==null?void 0:Ze.values())||[]).sort((xe,wt)=>wt.damage-xe.damage).slice(0,50)};const Ee=J.get(Ke)||{key:Ke,account:$e,displayName:$e,characterName:"",profession:$e,professionList:[$e],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Ee.logs+=1,zt>Ee.peakHit&&(Ee.peakHit=zt,Ee.peakFightLabel=_e,Ee.peakSkillName=ve.skillName||"Unknown Skill"),Yt>Ee.peak1s&&(Ee.peak1s=Yt),Wt>Ee.peak5s&&(Ee.peak5s=Wt),ct>Ee.peak30s&&(Ee.peak30s=ct),J.set(Ke,Ee)});const V=Object.values(je).reduce((ve,$e)=>Math.max(ve,Number(($e==null?void 0:$e.hit)||0)),0),ce=Object.values(je).reduce((ve,$e)=>Math.max(ve,Number(($e==null?void 0:$e.burst1s)||0)),0),Ce=Object.values(je).reduce((ve,$e)=>Math.max(ve,Number(($e==null?void 0:$e.burst5s)||0)),0),Me=Object.values(je).reduce((ve,$e)=>Math.max(ve,Number(($e==null?void 0:$e.burst30s)||0)),0);we.push({id:pe.filePath||pe.id||`fight-${Ne+1}`,shortLabel:`F${Ne+1}`,fullLabel:_e,timestamp:Ia(ke,pe),values:je,maxHit:V,max1s:ce,max5s:Ce,max30s:Me})});const Ht=Array.from(J.values()).sort((pe,Ne)=>Ne.peakHit!==pe.peakHit?Ne.peakHit-pe.peakHit:pe.displayName.localeCompare(Ne.displayName));return{fights:we,players:Ht}})(),ld=Array.from(B.entries()).map(([D,Y])=>{const ne=z.get(D)||{},we=Array.from(Y.values()).map(J=>{var Oe,Le;const lt=Array.from(J.professions||[]).filter(qe=>qe&&qe!=="Unknown");let vt=J.profession||"Unknown";if(lt.length>0){vt=lt[0];let qe=((Oe=J.professionTimeMs)==null?void 0:Oe[vt])||0;lt.forEach(st=>{var Et;const Ht=((Et=J.professionTimeMs)==null?void 0:Et[st])||0;Ht>qe&&(qe=Ht,vt=st)})}const ht=J.durationMs||0,$t=J.totalMs/1e3,yn=ht>0?J.totalMs/ht:0,fn=((Le=$.get(J.account))==null?void 0:Le.supportActiveMs)||ht,Je=fn>0?J.uptimeMs/fn:0;return{account:J.account,profession:vt,professionList:lt,total:$t,perSecond:yn,uptimePerSecond:Je,duration:ht/1e3}}).filter(J=>J.total>0||J.perSecond>0);return{id:D,name:ne.name||D,icon:ne.icon,rows:we}}).filter(D=>D.rows.length>0),jy=Array.from(U.values()).map(D=>{const Y=Array.from(D.skills.values()).sort((we,J)=>J.damage-we.damage),ne=Y.reduce((we,J)=>(we[J.id]=J,we),{});return{key:D.key,account:D.account,displayName:D.displayName,profession:D.profession,professionList:D.professionList,totalFightMs:D.totalFightMs,skills:Y,skillMap:ne}}).sort((D,Y)=>D.displayName.localeCompare(Y.displayName));return{total:h,wins:y,losses:x,avgSquadSize:ge,avgEnemies:Fe,squadKDR:Dt,enemyKDR:_t,totalSquadKills:S,totalSquadDeaths:w,totalEnemyKills:N,totalEnemyDeaths:C,leaderboards:on,...Ts,outgoingConditionSummary:Object.values(X).sort((D,Y)=>Y.damage-D.damage),incomingConditionSummary:Object.values(ee).sort((D,Y)=>Y.damage-D.damage),outgoingConditionPlayers:Array.from($.values()).map(D=>({account:D.account,profession:D.profession,professionList:D.professionList,conditions:D.outgoingConditions})),incomingConditionPlayers:Array.from($.values()).map(D=>({account:D.account,profession:D.profession,professionList:D.professionList,conditions:D.incomingConditions})),topSkills:sd,topIncomingSkills:Ic,topSkillsByDamage:Al,topSkillsByDownContribution:Oc,playerSkillBreakdowns:jy,topSkillsMetric:m,mapData:Qe,timelineData:Ct,boonTables:Rt,offensePlayers:Array.from($.values()).map(D=>({account:D.account,profession:D.profession,professionList:D.professionList,offenseTotals:D.offenseTotals,offenseRateWeights:D.offenseRateWeights,totalFightMs:D.totalFightMs})),defensePlayers:Array.from($.values()).map(D=>({account:D.account,profession:D.profession,professionList:D.professionList,defenseTotals:D.defenseTotals,activeMs:D.defenseActiveMs,minionDamageTakenByMinion:D.defenseMinionDamageTaken})),damageMitigationPlayers:Ea,damageMitigationMinions:Ei,supportPlayers:Array.from($.values()).map(D=>({account:D.account,profession:D.profession,professionList:D.professionList,supportTotals:D.supportTotals,activeMs:D.supportActiveMs})),healingPlayers:Array.from($.values()).map(D=>({account:D.account,profession:D.profession,professionList:D.professionList,healingTotals:D.healingTotals,activeMs:D.healingActiveMs})),mvp:Ha,silver:qa,bronze:So,squadClassData:ln,enemyClassData:fr,fightBreakdown:tt,fightDiffMode:Kt,attendanceData:en,squadCompByFight:Un,spikeDamage:Or,incomingStrikeDamage:Ho,specialTables:ld,topStatsPerSecond:ga,topStatsLeaderboardsPerSecond:Zr,avgMvpScore:Dc}})(),d=(()=>{const f=new Map,p=new Map,m=[],h=new Map,y=new Map;i.forEach(g=>{const b=g.details;if(!b)return;const w=b.skillMap||{},S=b.fightName||"Log",C=Ia(b,g)||Date.now(),N={id:g.filePath||g.id||S,label:S,timestamp:C,skillEntries:{},playerActiveSeconds:{},durationSeconds:b.durationMS?b.durationMS/1e3:0};(b.players||[]).forEach(M=>{if(M.notInSquad)return;const T=M.account||M.name||"Unknown",$=M.profession||"Unknown",E=`${T}|${$}`;let P=p.get(E);P||(P={key:E,account:T,displayName:T,profession:$,professionList:[$],logs:0,totalActiveSeconds:0,skillTotals:{}},p.set(E,P)),P.logs++;const O=(Array.isArray(M.activeTimes)?M.activeTimes[0]:0)/1e3;P.totalActiveSeconds=(P.totalActiveSeconds||0)+O,N.playerActiveSeconds[E]=O,(M.rotation||[]).forEach(U=>{var X,ee,de;if(!(U!=null&&U.id))return;const z=((X=U.skills)==null?void 0:X.length)||0;if(z<=0)return;const B=`s${U.id}`,ie=((ee=w[B])==null?void 0:ee.name)||`Skill ${U.id}`,k=(de=w[B])==null?void 0:de.icon;P.skillTotals[B]=(P.skillTotals[B]||0)+z,f.set(B,(f.get(B)||0)+z),h.set(B,ie),k&&!y.has(B)&&y.set(B,k),N.skillEntries[B]||(N.skillEntries[B]={name:ie,icon:k,players:{}}),!N.skillEntries[B].icon&&k&&(N.skillEntries[B].icon=k),N.skillEntries[B].players[E]=(N.skillEntries[B].players[E]||0)+z})}),m.push(N)});const x=Array.from(f.entries()).map(([g,b])=>({id:g,name:h.get(g)||g,total:b,icon:y.get(g)})).sort((g,b)=>b.total-g.total);return{logRecords:m,players:Array.from(p.values()),skillOptions:x,resUtilitySkills:[]}})();return{validLogs:i,stats:c,skillUsageData:d}},n8=({logs:e,stats:t,skillUsageData:n,activeStatsViewSettings:r,uiTheme:a,embedded:i,onWebUpload:o})=>{const[s,l]=v.useState({uploading:!1,message:null,url:null}),[c,d]=v.useState("idle"),f=()=>{const m=new Set;let h=null,y=null;e.forEach(M=>{const T=M.details;if(!T)return;const $=T.timeStartStd||T.timeStart||T.uploadTime||M.uploadTime,E=T.timeEndStd||T.timeEnd||T.uploadTime||M.uploadTime,P=$?new Date($):null,O=E?new Date(E):null;P&&!Number.isNaN(P.getTime())&&(!h||P<h)&&(h=P),O&&!Number.isNaN(O.getTime())&&(!y||O>y)&&(y=O),(T.players||[]).forEach(U=>{if(!(U!=null&&U.notInSquad)&&U!=null&&U.hasCommanderTag){const X=(U==null?void 0:U.name)||(U==null?void 0:U.account)||"Unknown";m.add(X)}})});const x=Array.from(m).sort((M,T)=>M.localeCompare(T)),g=h||new Date,b=y||g,w=g.toISOString(),S=b.toISOString(),C=`${g.toLocaleString()} - ${b.toLocaleString()}`,N=M=>String(M).padStart(2,"0");return{id:`${g.getFullYear()}${N(g.getMonth()+1)}${N(g.getDate())}-${N(g.getHours())}${N(g.getMinutes())}${N(g.getSeconds())}-${Math.random().toString(36).slice(2,6)}`,title:x.length?x.join(", "):"Unknown Commander",commanders:x,dateStart:w,dateEnd:S,dateLabel:C,generatedAt:new Date().toISOString()}},p=()=>{var m;const h={...t,skillUsageData:n,statsViewSettings:r,uiTheme:a};if(Array.isArray(h.fightDiffMode)&&h.fightDiffMode.length>0||!Array.isArray(e)||e.length===0)return h;try{const y=eh({logs:e,statsViewSettings:r}),x=(m=y==null?void 0:y.stats)==null?void 0:m.fightDiffMode;if(Array.isArray(x)&&x.length>0)return{...h,fightDiffMode:x}}catch{}return h};return{devMockUploadState:s,setDevMockUploadState:l,webCopyStatus:c,setWebCopyStatus:d,handleWebUpload:async()=>{if(!i&&o)try{const m=f(),h=p();await o({meta:m,stats:h})}catch(m){console.error("[StatsView] Web upload failed:",m)}},handleDevMockUpload:async()=>{var m;if(!(i||!((m=window.electronAPI)!=null&&m.mockWebReport))){l({uploading:!0,message:"Preparing local report...",url:null});try{const h=f(),y=p(),x=await window.electronAPI.mockWebReport({meta:h,stats:y});x!=null&&x.success?l({uploading:!1,message:"Local report ready.",url:x.url||null}):l({uploading:!1,message:(x==null?void 0:x.error)||"Local report failed.",url:null})}catch(h){l({uploading:!1,message:(h==null?void 0:h.message)||"Local report failed.",url:null})}}}}};function r8(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),a=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(a),t&&(r.href=t),a.href=e,a.href}const a8=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function ul(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}let kd=null;function SD(e={}){return kd||(e.includeStyleProperties?(kd=e.includeStyleProperties,kd):(kd=ul(window.getComputedStyle(document.documentElement)),kd))}function $h(e,t){const n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function i8(e){const t=$h(e,"border-left-width"),n=$h(e,"border-right-width");return e.clientWidth+t+n}function o8(e){const t=$h(e,"border-top-width"),n=$h(e,"border-bottom-width");return e.clientHeight+t+n}function ND(e,t={}){const n=t.width||i8(e),r=t.height||o8(e);return{width:n,height:r}}function s8(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const pi=16384;function l8(e){(e.width>pi||e.height>pi)&&(e.width>pi&&e.height>pi?e.width>e.height?(e.height*=pi/e.width,e.width=pi):(e.width*=pi/e.height,e.height=pi):e.width>pi?(e.height*=pi/e.width,e.width=pi):(e.width*=pi/e.height,e.height=pi))}function Bh(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function c8(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function u8(e,t,n){const r="http://www.w3.org/2000/svg",a=document.createElementNS(r,"svg"),i=document.createElementNS(r,"foreignObject");return a.setAttribute("width",`${t}`),a.setAttribute("height",`${n}`),a.setAttribute("viewBox",`0 0 ${t} ${n}`),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("externalResourcesRequired","true"),a.appendChild(i),i.appendChild(e),c8(a)}const ri=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||ri(n,t)};function d8(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function f8(e,t){return SD(t).map(n=>{const r=e.getPropertyValue(n),a=e.getPropertyPriority(n);return`${n}: ${r}${a?" !important":""};`}).join(" ")}function p8(e,t,n,r){const a=`.${e}:${t}`,i=n.cssText?d8(n):f8(n,r);return document.createTextNode(`${a}{${i}}`)}function ej(e,t,n,r){const a=window.getComputedStyle(e,n),i=a.getPropertyValue("content");if(i===""||i==="none")return;const o=a8();try{t.className=`${t.className} ${o}`}catch{return}const s=document.createElement("style");s.appendChild(p8(o,n,a,r)),t.appendChild(s)}function m8(e,t,n){ej(e,t,":before",n),ej(e,t,":after",n)}const tj="application/font-woff",nj="image/jpeg",h8={woff:tj,woff2:tj,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:nj,jpeg:nj,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function g8(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function M1(e){const t=g8(e).toLowerCase();return h8[t]||""}function y8(e){return e.split(/,/)[1]}function Xb(e){return e.search(/^(data:)/)!==-1}function v8(e,t){return`data:${t};base64,${e}`}async function jD(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const a=await r.blob();return new Promise((i,o)=>{const s=new FileReader;s.onerror=o,s.onloadend=()=>{try{i(n({res:r,result:s.result}))}catch(l){o(l)}},s.readAsDataURL(a)})}const tv={};function b8(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function A1(e,t,n){const r=b8(e,t,n.includeQueryParams);if(tv[r]!=null)return tv[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let a;try{const i=await jD(e,n.fetchRequestInit,({res:o,result:s})=>(t||(t=o.headers.get("Content-Type")||""),y8(s)));a=v8(i,t)}catch(i){a=n.imagePlaceholder||"";let o=`Failed to fetch resource: ${e}`;i&&(o=typeof i=="string"?i:i.message),o&&console.warn(o)}return tv[r]=a,a}async function x8(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Bh(t)}async function w8(e,t){if(e.currentSrc){const i=document.createElement("canvas"),o=i.getContext("2d");i.width=e.clientWidth,i.height=e.clientHeight,o==null||o.drawImage(e,0,0,i.width,i.height);const s=i.toDataURL();return Bh(s)}const n=e.poster,r=M1(n),a=await A1(n,r,t);return Bh(a)}async function k8(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await f0(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function S8(e,t){return ri(e,HTMLCanvasElement)?x8(e):ri(e,HTMLVideoElement)?w8(e,t):ri(e,HTMLIFrameElement)?k8(e,t):e.cloneNode(CD(e))}const N8=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",CD=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function j8(e,t,n){var r,a;if(CD(t))return t;let i=[];return N8(e)&&e.assignedNodes?i=ul(e.assignedNodes()):ri(e,HTMLIFrameElement)&&!((r=e.contentDocument)===null||r===void 0)&&r.body?i=ul(e.contentDocument.body.childNodes):i=ul(((a=e.shadowRoot)!==null&&a!==void 0?a:e).childNodes),i.length===0||ri(e,HTMLVideoElement)||await i.reduce((o,s)=>o.then(()=>f0(s,n)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function C8(e,t,n){const r=t.style;if(!r)return;const a=window.getComputedStyle(e);a.cssText?(r.cssText=a.cssText,r.transformOrigin=a.transformOrigin):SD(n).forEach(i=>{let o=a.getPropertyValue(i);i==="font-size"&&o.endsWith("px")&&(o=`${Math.floor(parseFloat(o.substring(0,o.length-2)))-.1}px`),ri(e,HTMLIFrameElement)&&i==="display"&&o==="inline"&&(o="block"),i==="d"&&t.getAttribute("d")&&(o=`path(${t.getAttribute("d")})`),r.setProperty(i,o,a.getPropertyPriority(i))})}function M8(e,t){ri(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),ri(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function A8(e,t){if(ri(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(a=>e.value===a.getAttribute("value"));r&&r.setAttribute("selected","")}}function E8(e,t,n){return ri(t,Element)&&(C8(e,t,n),m8(e,t,n),M8(e,t),A8(e,t)),t}async function P8(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let i=0;i<n.length;i++){const o=n[i].getAttribute("xlink:href");if(o){const s=e.querySelector(o),l=document.querySelector(o);!s&&l&&!r[o]&&(r[o]=await f0(l,t,!0))}}const a=Object.values(r);if(a.length){const i="http://www.w3.org/1999/xhtml",o=document.createElementNS(i,"svg");o.setAttribute("xmlns",i),o.style.position="absolute",o.style.width="0",o.style.height="0",o.style.overflow="hidden",o.style.display="none";const s=document.createElementNS(i,"defs");o.appendChild(s);for(let l=0;l<a.length;l++)s.appendChild(a[l]);e.appendChild(o)}return e}async function f0(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>S8(r,t)).then(r=>j8(e,r,t)).then(r=>E8(e,r,t)).then(r=>P8(r,t))}const MD=/url\((['"]?)([^'"]+?)\1\)/g,T8=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,D8=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function O8(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function I8(e){const t=[];return e.replace(MD,(n,r,a)=>(t.push(a),n)),t.filter(n=>!Xb(n))}async function _8(e,t,n,r,a){try{const i=n?r8(t,n):t,o=M1(t);let s;return a||(s=await A1(i,o,r)),e.replace(O8(t),`$1${s}$3`)}catch{}return e}function L8(e,{preferredFontFormat:t}){return t?e.replace(D8,n=>{for(;;){const[r,,a]=T8.exec(n)||[];if(!a)return"";if(a===t)return`src: ${r};`}}):e}function AD(e){return e.search(MD)!==-1}async function ED(e,t,n){if(!AD(e))return e;const r=L8(e,n);return I8(r).reduce((a,i)=>a.then(o=>_8(o,i,t,n)),Promise.resolve(r))}async function Uc(e,t,n){var r;const a=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(a){const i=await ED(a,null,n);return t.style.setProperty(e,i,t.style.getPropertyPriority(e)),!0}return!1}async function F8(e,t){await Uc("background",e,t)||await Uc("background-image",e,t),await Uc("mask",e,t)||await Uc("-webkit-mask",e,t)||await Uc("mask-image",e,t)||await Uc("-webkit-mask-image",e,t)}async function R8(e,t){const n=ri(e,HTMLImageElement);if(!(n&&!Xb(e.src))&&!(ri(e,SVGImageElement)&&!Xb(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,a=await A1(r,M1(r),t);await new Promise((i,o)=>{e.onload=i,e.onerror=t.onImageErrorHandler?(...l)=>{try{i(t.onImageErrorHandler(...l))}catch(c){o(c)}}:o;const s=e;s.decode&&(s.decode=i),s.loading==="lazy"&&(s.loading="eager"),n?(e.srcset="",e.src=a):e.href.baseVal=a})}async function $8(e,t){const n=ul(e.childNodes).map(r=>PD(r,t));await Promise.all(n).then(()=>e)}async function PD(e,t){ri(e,Element)&&(await F8(e,t),await R8(e,t),await $8(e,t))}function B8(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(a=>{n[a]=r[a]}),e}const rj={};async function aj(e){let t=rj[e];if(t!=null)return t;const n=await(await fetch(e)).text();return t={url:e,cssText:n},rj[e]=t,t}async function ij(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,a=(n.match(/url\([^)]+\)/g)||[]).map(async i=>{let o=i.replace(r,"$1");return o.startsWith("https://")||(o=new URL(o,e.url).href),jD(o,t.fetchRequestInit,({result:s})=>(n=n.replace(i,`url(${s})`),[i,s]))});return Promise.all(a).then(()=>n)}function oj(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const a=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=a.exec(r);if(l===null)break;t.push(l[0])}r=r.replace(a,"");const i=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,o="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",s=new RegExp(o,"gi");for(;;){let l=i.exec(r);if(l===null){if(l=s.exec(r),l===null)break;i.lastIndex=s.lastIndex}else s.lastIndex=i.lastIndex;t.push(l[0])}return t}async function z8(e,t){const n=[],r=[];return e.forEach(a=>{if("cssRules"in a)try{ul(a.cssRules||[]).forEach((i,o)=>{if(i.type===CSSRule.IMPORT_RULE){let s=o+1;const l=i.href,c=aj(l).then(d=>ij(d,t)).then(d=>oj(d).forEach(f=>{try{a.insertRule(f,f.startsWith("@import")?s+=1:a.cssRules.length)}catch(p){console.error("Error inserting rule from remote css",{rule:f,error:p})}})).catch(d=>{console.error("Error loading remote css",d.toString())});r.push(c)}})}catch(i){const o=e.find(s=>s.href==null)||document.styleSheets[0];a.href!=null&&r.push(aj(a.href).then(s=>ij(s,t)).then(s=>oj(s).forEach(l=>{o.insertRule(l,o.cssRules.length)})).catch(s=>{console.error("Error loading remote stylesheet",s)})),console.error("Error inlining remote css file",i)}}),Promise.all(r).then(()=>(e.forEach(a=>{if("cssRules"in a)try{ul(a.cssRules||[]).forEach(i=>{n.push(i)})}catch(i){console.error(`Error while reading CSS rules from ${a.href}`,i)}}),n))}function V8(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>AD(t.style.getPropertyValue("src")))}async function U8(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=ul(e.ownerDocument.styleSheets),r=await z8(n,t);return V8(r)}function TD(e){return e.trim().replace(/["']/g,"")}function W8(e){const t=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(a=>{t.add(TD(a))}),Array.from(r.children).forEach(a=>{a instanceof HTMLElement&&n(a)})}return n(e),t}async function H8(e,t){const n=await U8(e,t),r=W8(e);return(await Promise.all(n.filter(a=>r.has(TD(a.style.fontFamily))).map(a=>{const i=a.parentStyleSheet?a.parentStyleSheet.href:null;return ED(a.cssText,i,t)}))).join(`
`)}async function q8(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await H8(e,t);if(n){const r=document.createElement("style"),a=document.createTextNode(n);r.appendChild(a),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function K8(e,t={}){const{width:n,height:r}=ND(e,t),a=await f0(e,t,!0);return await q8(a,t),await PD(a,t),B8(a,t),await u8(a,n,r)}async function Y8(e,t={}){const{width:n,height:r}=ND(e,t),a=await K8(e,t),i=await Bh(a),o=document.createElement("canvas"),s=o.getContext("2d"),l=t.pixelRatio||s8(),c=t.canvasWidth||n,d=t.canvasHeight||r;return o.width=c*l,o.height=d*l,t.skipAutoScale||l8(o),o.style.width=`${c}`,o.style.height=`${d}`,t.backgroundColor&&(s.fillStyle=t.backgroundColor,s.fillRect(0,0,o.width,o.height)),s.drawImage(i,0,0,o.width,o.height),o}async function G8(e,t={}){return(await Y8(e,t)).toDataURL()}const X8=e=>{const[t,n]=v.useState(!1),r=async i=>{var o;if(!((o=window.electronAPI)!=null&&o.fetchImageAsDataUrl))return i();const s=window.fetch.bind(window),l=globalThis.fetch.bind(globalThis),c=async(d,f)=>{const p=typeof d=="string"?d:d instanceof URL?d.toString():d.url;if(/^https?:\/\//i.test(p)){const m=await window.electronAPI.fetchImageAsDataUrl(p);if(m!=null&&m.success&&m.dataUrl)return s(m.dataUrl)}return s(d,f)};window.fetch=c,globalThis.fetch=c;try{return await i()}finally{window.fetch=s,globalThis.fetch=l}},a=async i=>{var o;if(!((o=window.electronAPI)!=null&&o.fetchImageAsDataUrl))return()=>{};const s=new Map,l=[],c=async p=>{if(s.has(p))return s.get(p)||null;const m=await window.electronAPI.fetchImageAsDataUrl(p);return m!=null&&m.success&&m.dataUrl?(s.set(p,m.dataUrl),m.dataUrl):(s.set(p,""),null)},d=Array.from(i.querySelectorAll("img"));await Promise.all(d.map(async p=>{var m;const h=p.currentSrc||p.src;if(!h||h.startsWith("data:")||h.startsWith("blob:")||h.startsWith("file:"))return;const y=await c(h);if(!y)return;const x=p.src,g=p.srcset;p.src=y,p.srcset="",l.push(()=>{p.src=x,p.srcset=g});try{await((m=p.decode)==null?void 0:m.call(p))}catch{}}));const f=Array.from(i.querySelectorAll("*"));return await Promise.all(f.map(async p=>{const m=window.getComputedStyle(p).backgroundImage;if(!m||m==="none"||!m.includes("url("))return;const h=Array.from(m.matchAll(/url\(["']?(https?:\/\/[^"')]+)["']?\)/g));if(!h.length)return;let y=m,x=!1;for(const b of h){const w=b[1];if(!w)continue;const S=await c(w);S&&(y=y.replace(b[0],`url("${S}")`),x=!0)}if(!x)return;const g=p.style.backgroundImage;p.style.backgroundImage=y,l.push(()=>{p.style.backgroundImage=g})})),()=>{l.forEach(p=>p())}};return{sharing:t,setSharing:n,handleShare:async()=>{var i;if(e||!((i=window.electronAPI)!=null&&i.sendStatsScreenshot))return;n(!0);const o=document.getElementById("stats-dashboard-container");if(o)try{await new Promise(p=>setTimeout(p,100));const s=Array.from(o.querySelectorAll(".stats-share-exclude"));o.classList.add("stats-share-mode"),s.forEach(p=>{p.dataset.prevDisplay=p.style.display,p.style.display="none"});let l;const c=await a(o);try{const p=o.scrollWidth,m=o.scrollHeight;l=await r(()=>G8(o,{backgroundColor:"#10141b",quality:.95,pixelRatio:2,cacheBust:!0,width:p,height:m,style:{overflow:"visible",maxHeight:"none",height:"auto"}}))}finally{c(),o.classList.remove("stats-share-mode"),s.forEach(p=>{p.style.display=p.dataset.prevDisplay||"",delete p.dataset.prevDisplay})}const d=await(await(await fetch(l)).blob()).arrayBuffer(),f=new Uint8Array(d);window.electronAPI.sendStatsScreenshot(f)}catch(s){console.error("Failed to capture stats:",s)}setTimeout(()=>n(!1),2e3)}}},Z8=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:a})=>{const i=e.length>8,[o,s]=v.useState(()=>eh(typeof Worker<"u"&&i?{logs:[],precomputedStats:void 0,mvpWeights:n,statsViewSettings:r,disruptionMethod:a}:{logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:a})),[l,c]=v.useState(0),[d,f]=v.useState(0),[p,m]=v.useState(0),[h,y]=v.useState(0),[x,g]=v.useState(null),b=v.useRef(0),[w,S]=v.useState(0),C=v.useRef(null),N=v.useRef(null),[M,T]=v.useState(!1),$=v.useRef(null),E=v.useRef(""),P=v.useRef(void 0),O=v.useRef(""),U=v.useMemo(()=>{if(!r){E.current="",P.current=void 0;return}const z={...r};delete z.topSkillsMetric;const B=JSON.stringify(z);return E.current!==B&&(E.current=B,P.current=z),P.current},[r]),X=v.useMemo(()=>({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:U,disruptionMethod:a}),[e,t,n,U,a]);v.useEffect(()=>{if(!(typeof Worker>"u")&&!M&&i)return N.current||(N.current=new Worker(new URL(""+new URL(""+new URL("statsWorker-DQyIirLr-CrUALMgl.js",import.meta.url).href,import.meta.url).href,import.meta.url),{type:"module"}),N.current.onmessage=z=>{var B;((B=z.data)==null?void 0:B.type)==="result"&&(s(z.data.result),typeof z.data.computeId=="number"?c(z.data.computeId):c(ie=>ie+1),typeof z.data.logCount=="number"&&f(z.data.logCount),typeof z.data.token=="number"&&m(z.data.token),typeof z.data.completedAt=="number"&&y(z.data.completedAt),typeof z.data.flushId=="number"&&g(z.data.flushId))},N.current.onerror=z=>{var B;console.warn("[StatsWorker] Worker error. Falling back to main thread.",z),(B=N.current)==null||B.terminate(),N.current=null,T(!0)},N.current.onmessageerror=z=>{var B;console.warn("[StatsWorker] Worker message error. Falling back to main thread.",z),(B=N.current)==null||B.terminate(),N.current=null,T(!0)},C.current!==null&&N.current.postMessage({type:"flush",flushId:C.current})),()=>{var z;(z=N.current)==null||z.terminate(),N.current=null}},[M,i]),v.useEffect(()=>{var z;if(!(!N.current||M||!i))try{b.current+=1,S(b.current),N.current.postMessage({type:"reset",token:b.current}),N.current.postMessage({type:"settings",payload:{precomputedStats:t,mvpWeights:n,statsViewSettings:U,disruptionMethod:a}}),$.current&&(window.clearTimeout($.current),$.current=null);let B=0;const ie=()=>{if(!N.current)return;const k=5;for(let I=0;I<k&&B<e.length;I+=1,B+=1)N.current.postMessage({type:"log",payload:e[B]});B<e.length?$.current=window.setTimeout(ie,0):($.current=null,N.current.postMessage({type:"flush"}))};ie()}catch(B){console.warn("[StatsWorker] Failed to postMessage payload. Falling back to main thread.",B),(z=N.current)==null||z.terminate(),N.current=null,T(!0)}},[X,e,t,n,U,a,i]);const ee=v.useMemo(()=>!M&&typeof Worker<"u"&&i?null:eh({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:U,disruptionMethod:a}),[M,e,t,n,U,a,i]),de=v.useMemo(()=>{if(!M&&typeof Worker<"u"&&i)return"worker";const z=e[0],B=e[e.length-1];return JSON.stringify({logCount:e.length,firstLogPath:(z==null?void 0:z.filePath)||(z==null?void 0:z.name)||"",lastLogPath:(B==null?void 0:B.filePath)||(B==null?void 0:B.name)||"",precomputedTotal:Number((t==null?void 0:t.total)||0),precomputedUpdatedAt:String((t==null?void 0:t.updatedAt)||""),disruptionMethod:a||null,settingsKey:E.current})},[M,i,e,t,a]);return v.useEffect(()=>{!M&&typeof Worker<"u"&&i||O.current!==de&&(O.current=de,c(z=>z+1),f(e.length),m(b.current),y(Date.now()))},[de,M,e.length,i]),{result:M||typeof Worker>"u"||!i?ee??eh({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:U,disruptionMethod:a}):o,computeTick:l,lastComputedLogCount:d,lastComputedToken:p,activeToken:w,lastComputedAt:h,lastComputedFlushId:x,requestFlush:()=>{const z=Date.now();return C.current=z,N.current&&!M&&N.current.postMessage({type:"flush",flushId:z}),z}}},Q8=e=>({apmSpecBuckets:v.useMemo(()=>{const t=new Map,n=new Map((e.skillOptions||[]).map(i=>[i.id,i])),r=new Map,a=(i,o)=>{if(r.has(o))return r.get(o);const s=n.get(o);let l=!1;return s&&typeof s.autoAttack=="boolean"?l=s.autoAttack:l=lz(i),r.set(o,l),l};return(e.players||[]).forEach(i=>{const o=(i==null?void 0:i.profession)||"Unknown";let s=t.get(o);s||(s={profession:o,players:[],playerRows:[],totalActiveSeconds:0,totalCasts:0,totalAutoCasts:0,skills:[],skillMap:new Map},t.set(o,s)),s.players.push(i);const l=Number((i==null?void 0:i.totalActiveSeconds)||0),c=Number.isFinite(l)&&l>0?l:0;s.totalActiveSeconds+=c;let d=0,f=0;const p=i&&typeof i.skillTotals=="object"&&i.skillTotals!==null?i.skillTotals:{};Object.entries(p).forEach(([S,C])=>{const N=Number(C);if(!Number.isFinite(N)||N<=0)return;const M=n.get(S),T=(M==null?void 0:M.name)||S,$=M==null?void 0:M.icon,E=a(T,S);d+=N,E&&(f+=N);let P=s.skillMap.get(S);P||(P={id:S,name:T,icon:$,totalCasts:0,playerCounts:new Map},s.skillMap.set(S,P)),!P.icon&&$&&(P.icon=$),P.totalCasts+=N;const O=(i==null?void 0:i.key)||`${(i==null?void 0:i.account)||"Unknown"}|${o}`;P.playerCounts.set(O,N)}),s.totalCasts+=d,s.totalAutoCasts+=f;const m=c/60,h=m>0?d/m:0,y=Math.max(0,d-f),x=m>0?y/m:0,g=c>0?d/c:0,b=c>0?y/c:0,w={key:(i==null?void 0:i.key)||`${(i==null?void 0:i.account)||"Unknown"}|${o}`,account:(i==null?void 0:i.account)||"Unknown",displayName:(i==null?void 0:i.displayName)||(i==null?void 0:i.account)||"Unknown",profession:o,professionList:Array.isArray(i==null?void 0:i.professionList)?i.professionList:[o],logs:Number((i==null?void 0:i.logs)||0),totalActiveSeconds:c,totalCasts:d,totalAutoCasts:f,apm:h,apmNoAuto:x,aps:g,apsNoAuto:b};s.playerRows.push(w)}),t.forEach(i=>{i.playerRows.sort((c,d)=>d.apm-c.apm);const o=Number(i.totalActiveSeconds||0),s=o>0?o/60:0,l=Math.max(0,Number(i.totalCasts||0)-Number(i.totalAutoCasts||0));i.totalApm=s>0?Number(i.totalCasts||0)/s:0,i.totalApmNoAuto=s>0?l/s:0,i.totalAps=o>0?Number(i.totalCasts||0)/o:0,i.totalApsNoAuto=o>0?l/o:0,i.skills=Array.from(i.skillMap.values()).map(c=>{const d=i.playerRows.map(h=>{var y;const x=Number(((y=c.playerCounts)==null?void 0:y.get(h.key))||0);if(!Number.isFinite(x)||x<=0)return null;const g=Number(h.totalActiveSeconds||0),b=g>0?x/(g/60):0,w=g>0?x/g:0;return{...h,count:x,apm:b,aps:w}}).filter(Boolean).sort((h,y)=>y.apm-h.apm||String(h.displayName||"").localeCompare(String(y.displayName||""))),f=Number(c.totalCasts||0),p=o>0?f/o:0,m=s>0?f/s:0;return{...c,playerRows:d,totalCasts:f,totalCastsPerSecond:p,totalApm:m}}).sort((c,d)=>d.totalCasts-c.totalCasts)}),Array.from(t.values()).sort((i,o)=>i.profession.localeCompare(o.profession))},[e])}),J8=({skillUsageData:e,selectedSkillId:t,selectedPlayers:n,skillUsageView:r})=>{const a=v.useMemo(()=>{const d=new Map;return e.players.forEach(f=>d.set(f.key,f)),d},[e.players]),i=v.useMemo(()=>{const d=new Map;if(!t)return d;const f=r==="perSecond";return e.players.forEach(p=>{const m=p.skillTotals[t]||0;if(m===0)return;let h=m;if(f){const y=p.totalActiveSeconds||1;h=y>0?m/y:0}d.set(p.key,h)}),d},[e.players,t,r]),o=v.useMemo(()=>t?Array.from(i.entries()).map(([d,f])=>{const p=a.get(d);return{key:d,name:(p==null?void 0:p.displayName)||d,profession:(p==null?void 0:p.profession)||"Unknown",value:f}}).sort((d,f)=>f.value-d.value):[],[i,a,t]),{chartData:s,maxY:l}=v.useMemo(()=>{if(!t)return{chartData:[],maxY:0};let d=0;const f=r==="perSecond";return{chartData:e.logRecords.map((p,m)=>{const h=p.skillEntries[t];if(!h)return null;const y={index:m,name:p.label,shortLabel:p.label,fullLabel:p.label,timestamp:p.timestamp};let x=!1,g=!1;if(Object.entries(h.players).forEach(([b,w])=>{var S;if(n.size>0&&!n.has(b))return;let C=w;if(f){const N=((S=p.playerActiveSeconds)==null?void 0:S[b])||0;C=N>0?w/N:0}y[b]=C,C>d&&(d=C),x=!0,g=!0}),n.size>0){if(!g)return null}else if(!x)return null;return n.forEach(b=>{y[b]===void 0&&(y[b]=0)}),y}).filter(p=>p!==null),maxY:d}},[e.logRecords,t,n,r]),c=v.useMemo(()=>{const d={};return e.players.forEach(f=>{const p=f.profession||"Unknown";d[p]||(d[p]=[]),d[p].push(f)}),Object.entries(d).map(([f,p])=>({profession:f,players:p.sort((m,h)=>m.displayName.localeCompare(h.displayName))})).sort((f,p)=>f.profession.localeCompare(p.profession))},[e.players]);return{playerMapByKey:a,playerTotalsForSkill:i,skillBarData:o,skillChartData:s,skillChartMaxY:l,groupedSkillUsagePlayers:c}};function DD(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=DD(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Pn(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=DD(e))&&(r&&(r+=" "),r+=t);return r}var eV=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function E1(e){if(typeof e!="string")return!1;var t=eV;return t.includes(e)}var tV=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],nV=new Set(tV);function OD(e){return typeof e!="string"?!1:nV.has(e)}function ID(e){return typeof e=="string"&&e.startsWith("data-")}function Yi(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(OD(n)||ID(n))&&(t[n]=e[n]);return t}function Ou(e){if(e==null)return null;if(v.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Yi(t)}return typeof e=="object"&&!Array.isArray(e)?Yi(e):null}function Ba(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(OD(n)||ID(n)||E1(n))&&(t[n]=e[n]);return t}function rV(e){return e==null?null:v.isValidElement(e)?Ba(e.props):typeof e=="object"&&!Array.isArray(e)?Ba(e):null}var aV=["children","width","height","viewBox","className","style","title","desc"];function Zb(){return Zb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zb.apply(null,arguments)}function iV(e,t){if(e==null)return{};var n,r,a=oV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function oV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var P1=v.forwardRef((e,t)=>{var{children:n,width:r,height:a,viewBox:i,className:o,style:s,title:l,desc:c}=e,d=iV(e,aV),f=i||{width:r,height:a,x:0,y:0},p=Pn("recharts-surface",o);return v.createElement("svg",Zb({},Ba(d),{className:p,width:r,height:a,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),v.createElement("title",null,l),v.createElement("desc",null,c),n)}),sV=["children","className"];function Qb(){return Qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qb.apply(null,arguments)}function lV(e,t){if(e==null)return{};var n,r,a=cV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function cV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ai=v.forwardRef((e,t)=>{var{children:n,className:r}=e,a=lV(e,sV),i=Pn("recharts-layer",r);return v.createElement("g",Qb({className:i},Ba(a),{ref:t}),n)}),_D=v.createContext(null),uV=()=>v.useContext(_D);function Qn(e){return function(){return e}}const LD=Math.cos,zh=Math.sin,xo=Math.sqrt,Vh=Math.PI,p0=2*Vh,Jb=Math.PI,ex=2*Jb,Bl=1e-6,dV=ex-Bl;function FD(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function fV(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return FD;const n=10**t;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class pV{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?FD:fV(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,i,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,r,a,i){if(t=+t,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,l=r-t,c=a-n,d=o-t,f=s-n,p=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>Bl)if(!(Math.abs(f*l-c*d)>Bl)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-o,h=a-s,y=l*l+c*c,x=m*m+h*h,g=Math.sqrt(y),b=Math.sqrt(p),w=i*Math.tan((Jb-Math.acos((y+p-x)/(2*g*b)))/2),S=w/b,C=w/g;Math.abs(S-1)>Bl&&this._append`L${t+S*d},${n+S*f}`,this._append`A${i},${i},0,0,${+(f*m>d*h)},${this._x1=t+C*l},${this._y1=n+C*c}`}}arc(t,n,r,a,i,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(a),l=r*Math.sin(a),c=t+s,d=n+l,f=1^o,p=o?a-i:i-a;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>Bl||Math.abs(this._y1-d)>Bl)&&this._append`L${c},${d}`,r&&(p<0&&(p=p%ex+ex),p>dV?this._append`A${r},${r},0,1,${f},${t-s},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=d}`:p>Bl&&this._append`A${r},${r},0,${+(p>=Jb)},${f},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function T1(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new pV(t)}function D1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function RD(e){this._context=e}RD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function m0(e){return new RD(e)}function $D(e){return e[0]}function BD(e){return e[1]}function zD(e,t){var n=Qn(!0),r=null,a=m0,i=null,o=T1(s);e=typeof e=="function"?e:e===void 0?$D:Qn(e),t=typeof t=="function"?t:t===void 0?BD:Qn(t);function s(l){var c,d=(l=D1(l)).length,f,p=!1,m;for(r==null&&(i=a(m=o())),c=0;c<=d;++c)!(c<d&&n(f=l[c],c,l))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(f,c,l),+t(f,c,l));if(m)return i=null,m+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Qn(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Qn(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Qn(!!l),s):n},s.curve=function(l){return arguments.length?(a=l,r!=null&&(i=a(r)),s):a},s.context=function(l){return arguments.length?(l==null?r=i=null:i=a(r=l),s):r},s}function gm(e,t,n){var r=null,a=Qn(!0),i=null,o=m0,s=null,l=T1(c);e=typeof e=="function"?e:e===void 0?$D:Qn(+e),t=typeof t=="function"?t:Qn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?BD:Qn(+n);function c(f){var p,m,h,y=(f=D1(f)).length,x,g=!1,b,w=new Array(y),S=new Array(y);for(i==null&&(s=o(b=l())),p=0;p<=y;++p){if(!(p<y&&a(x=f[p],p,f))===g)if(g=!g)m=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=p-1;h>=m;--h)s.point(w[h],S[h]);s.lineEnd(),s.areaEnd()}g&&(w[p]=+e(x,p,f),S[p]=+t(x,p,f),s.point(r?+r(x,p,f):w[p],n?+n(x,p,f):S[p]))}if(b)return s=null,b+""||null}function d(){return zD().defined(a).curve(o).context(i)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Qn(+f),r=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Qn(+f),c):e},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Qn(+f),c):r},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Qn(+f),n=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Qn(+f),c):t},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Qn(+f),c):n},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(n)},c.lineX1=function(){return d().x(r).y(t)},c.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Qn(!!f),c):a},c.curve=function(f){return arguments.length?(o=f,i!=null&&(s=o(i)),c):o},c.context=function(f){return arguments.length?(f==null?i=s=null:s=o(i=f),c):i},c}class VD{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function mV(e){return new VD(e,!0)}function hV(e){return new VD(e,!1)}const O1={draw(e,t){const n=xo(t/Vh);e.moveTo(n,0),e.arc(0,0,n,0,p0)}},gV={draw(e,t){const n=xo(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},UD=xo(1/3),yV=UD*2,vV={draw(e,t){const n=xo(t/yV),r=n*UD;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},bV={draw(e,t){const n=xo(t),r=-n/2;e.rect(r,r,n,n)}},xV=.8908130915292852,WD=zh(Vh/10)/zh(7*Vh/10),wV=zh(p0/10)*WD,kV=-LD(p0/10)*WD,SV={draw(e,t){const n=xo(t*xV),r=wV*n,a=kV*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){const o=p0*i/5,s=LD(o),l=zh(o);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*a,l*r+s*a)}e.closePath()}},nv=xo(3),NV={draw(e,t){const n=-xo(t/(nv*3));e.moveTo(0,n*2),e.lineTo(-nv*n,-n),e.lineTo(nv*n,-n),e.closePath()}},Oi=-.5,Ii=xo(3)/2,tx=1/xo(12),jV=(tx/2+1)*3,CV={draw(e,t){const n=xo(t/jV),r=n/2,a=n*tx,i=r,o=n*tx+n,s=-i,l=o;e.moveTo(r,a),e.lineTo(i,o),e.lineTo(s,l),e.lineTo(Oi*r-Ii*a,Ii*r+Oi*a),e.lineTo(Oi*i-Ii*o,Ii*i+Oi*o),e.lineTo(Oi*s-Ii*l,Ii*s+Oi*l),e.lineTo(Oi*r+Ii*a,Oi*a-Ii*r),e.lineTo(Oi*i+Ii*o,Oi*o-Ii*i),e.lineTo(Oi*s+Ii*l,Oi*l-Ii*s),e.closePath()}};function MV(e,t){let n=null,r=T1(a);e=typeof e=="function"?e:Qn(e||O1),t=typeof t=="function"?t:Qn(t===void 0?64:+t);function a(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Qn(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Qn(+i),a):t},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function Uh(){}function Wh(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function HD(e){this._context=e}HD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Wh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Wh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function AV(e){return new HD(e)}function qD(e){this._context=e}qD.prototype={areaStart:Uh,areaEnd:Uh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Wh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function EV(e){return new qD(e)}function KD(e){this._context=e}KD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Wh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function PV(e){return new KD(e)}function YD(e){this._context=e}YD.prototype={areaStart:Uh,areaEnd:Uh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function TV(e){return new YD(e)}function sj(e){return e<0?-1:1}function lj(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),s=(i*a+o*r)/(r+a);return(sj(i)+sj(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function cj(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function rv(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-r)/3;e._context.bezierCurveTo(r+s,a+s*t,i-s,o-s*n,i,o)}function Hh(e){this._context=e}Hh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:rv(this,this._t0,cj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,rv(this,cj(this,n=lj(this,e,t)),n);break;default:rv(this,this._t0,n=lj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function GD(e){this._context=new XD(e)}(GD.prototype=Object.create(Hh.prototype)).point=function(e,t){Hh.prototype.point.call(this,t,e)};function XD(e){this._context=e}XD.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}};function DV(e){return new Hh(e)}function OV(e){return new GD(e)}function ZD(e){this._context=e}ZD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=uj(e),a=uj(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function uj(e){var t,n=e.length-1,r,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function IV(e){return new ZD(e)}function h0(e,t){this._context=e,this._t=t}h0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function _V(e){return new h0(e,.5)}function LV(e){return new h0(e,0)}function FV(e){return new h0(e,1)}function mc(e,t){if((o=e.length)>1)for(var n=1,r,a,i=e[t[0]],o,s=i.length;n<o;++n)for(a=i,i=e[t[n]],r=0;r<s;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function nx(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function RV(e,t){return e[t]}function $V(e){const t=[];return t.key=e,t}function BV(){var e=Qn([]),t=nx,n=mc,r=RV;function a(i){var o=Array.from(e.apply(this,arguments),$V),s,l=o.length,c=-1,d;for(const f of i)for(s=0,++c;s<l;++s)(o[s][c]=[0,+r(f,o[s].key,c,i)]).data=f;for(s=0,d=D1(t(o));s<l;++s)o[d[s]].index=s;return n(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Qn(Array.from(i)),a):e},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:Qn(+i),a):r},a.order=function(i){return arguments.length?(t=i==null?nx:typeof i=="function"?i:Qn(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(n=i??mc,a):n},a}function zV(e,t){if((r=e.length)>0){for(var n,r,a=0,i=e[0].length,o;a<i;++a){for(o=n=0;n<r;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<r;++n)e[n][a][1]/=o}mc(e,t)}}function VV(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,i=r.length;n<i;++n){for(var o=0,s=0;o<a;++o)s+=e[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}mc(e,t)}}function UV(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,i,o;r<i;++r){for(var s=0,l=0,c=0;s<o;++s){for(var d=e[t[s]],f=d[r][1]||0,p=d[r-1][1]||0,m=(f-p)/2,h=0;h<s;++h){var y=e[t[h]],x=y[r][1]||0,g=y[r-1][1]||0;m+=x-g}l+=f,c+=m*f}a[r-1][1]+=a[r-1][0]=n,l&&(n-=c/l)}a[r-1][1]+=a[r-1][0]=n,mc(e,t)}}var g0={},QD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(QD);var I1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(I1);var y0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(y0);var v0={},JD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(JD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JD,n=y0;function r(a){if(Array.isArray(a))return a.map(n.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],o=a.length;if(o===0)return i;let s=0,l="",c="",d=!1;for(a.charCodeAt(0)===46&&(i.push(""),s++);s<o;){const f=a[s];c?f==="\\"&&s+1<o?(s++,l+=a[s]):f===c?c="":l+=f:d?f==='"'||f==="'"?c=f:f==="]"?(d=!1,i.push(l),l=""):l+=f:f==="["?(d=!0,l&&(i.push(l),l="")):f==="."?l&&(i.push(l),l=""):l+=f,s++}return l&&i.push(l),i}e.toPath=r})(v0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QD,n=I1,r=y0,a=v0;function i(s,l,c){if(s==null)return c;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return c;const d=s[l];return d===void 0?n.isDeepKey(l)?i(s,a.toPath(l),c):c:d}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const d=s[l];return d===void 0?c:d}default:{if(Array.isArray(l))return o(s,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return c;const d=s[l];return d===void 0?c:d}}}function o(s,l,c){if(l.length===0)return c;let d=s;for(let f=0;f<l.length;f++){if(d==null||t.isUnsafeProperty(l[f]))return c;d=d[l[f]]}return d===void 0?c:d}e.get=i})(g0);var WV=g0.get;const hc=bo(WV);var HV=4;function tl(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:HV,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function Sr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((a,i,o)=>{var s=n[o-1];return typeof s=="string"?a+s+i:s!==void 0?a+tl(s)+i:a+i},"")}var ja=e=>e===0?0:e>0?1:-1,Bo=e=>typeof e=="number"&&e!=+e,ms=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,St=e=>(typeof e=="number"||e instanceof Number)&&!Bo(e),zo=e=>St(e)||typeof e=="string",qV=0,Pf=e=>{var t=++qV;return"".concat(e||"").concat(t)},Hi=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!St(e)&&typeof e!="string")return n;var a;if(ms(e)){if(t==null)return n;var i=e.indexOf("%");a=t*parseFloat(e.slice(0,i))/100}else a=+e;return Bo(a)&&(a=n),r&&t!=null&&a>t&&(a=t),a},eO=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function Na(e,t,n){return St(e)&&St(t)?tl(e+n*(t-e)):t}function tO(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):hc(r,t))===n)}var qr=e=>e===null||typeof e>"u",op=e=>qr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function KV(e){return e!=null}function sp(){}var YV=["type","size","sizeType"];function rx(){return rx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rx.apply(null,arguments)}function dj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function fj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dj(Object(n),!0).forEach(function(r){GV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GV(e,t,n){return(t=XV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XV(e){var t=ZV(e,"string");return typeof t=="symbol"?t:t+""}function ZV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QV(e,t){if(e==null)return{};var n,r,a=JV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function JV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var nO={symbolCircle:O1,symbolCross:gV,symbolDiamond:vV,symbolSquare:bV,symbolStar:SV,symbolTriangle:NV,symbolWye:CV},eU=Math.PI/180,tU=e=>{var t="symbol".concat(op(e));return nO[t]||O1},nU=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*eU;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},rU=(e,t)=>{nO["symbol".concat(op(e))]=t},_1=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,a=QV(e,YV),i=fj(fj({},a),{},{type:t,size:n,sizeType:r}),o="circle";typeof t=="string"&&(o=t);var s=()=>{var p=tU(o),m=MV().type(p).size(nU(n,r,o)),h=m();if(h!==null)return h},{className:l,cx:c,cy:d}=i,f=Ba(i);return St(c)&&St(d)&&St(n)?v.createElement("path",rx({},f,{className:Pn("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(d,")"),d:s()})):null};_1.registerSymbol=rU;var rO=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,L1=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{E1(a)&&(r[a]=i=>n[a](n,i))}),r},aU=(e,t,n)=>r=>(e(t,n,r),null),F1=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(a=>{var i=e[a];E1(a)&&typeof i=="function"&&(r||(r={}),r[a]=aU(i,t,n))}),r};function pj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function iU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pj(Object(n),!0).forEach(function(r){oU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oU(e,t,n){return(t=sU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sU(e){var t=lU(e,"string");return typeof t=="symbol"?t:t+""}function lU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kr(e,t){var n=iU({},e),r=t,a=Object.keys(t),i=a.reduce((o,s)=>(o[s]===void 0&&r[s]!==void 0&&(o[s]=r[s]),o),n);return i}function qh(){return qh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qh.apply(null,arguments)}function mj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mj(Object(n),!0).forEach(function(r){uU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uU(e,t,n){return(t=dU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dU(e){var t=fU(e,"string");return typeof t=="symbol"?t:t+""}function fU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fi=32,pU={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function mU(e){var{data:t,iconType:n,inactiveColor:r}=e,a=Fi/2,i=Fi/6,o=Fi/3,s=t.inactive?r:t.color,l=n??t.type;if(l==="none")return null;if(l==="plainline"){var c;return v.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:(c=t.payload)===null||c===void 0?void 0:c.strokeDasharray,x1:0,y1:a,x2:Fi,y2:a,className:"recharts-legend-icon"})}if(l==="line")return v.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(Fi,"M").concat(2*o,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(l==="rect")return v.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(Fi/8,"h").concat(Fi,"v").concat(Fi*3/4,"h").concat(-Fi,"z"),className:"recharts-legend-icon"});if(v.isValidElement(t.legendIcon)){var d=cU({},t);return delete d.legendIcon,v.cloneElement(t.legendIcon,d)}return v.createElement(_1,{fill:s,cx:a,cy:a,size:Fi,sizeType:"diameter",type:l})}function hU(e){var{payload:t,iconSize:n,layout:r,formatter:a,inactiveColor:i,iconType:o}=e,s={x:0,y:0,width:Fi,height:Fi},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var p=d.formatter||a,m=Pn({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var h=d.inactive?i:d.color,y=p?p(d.value,d,f):d.value;return v.createElement("li",qh({className:m,style:l,key:"legend-item-".concat(f)},F1(e,d,f)),v.createElement(P1,{width:n,height:n,viewBox:s,style:c,"aria-label":"".concat(y," legend icon")},v.createElement(mU,{data:d,iconType:o,inactiveColor:i})),v.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},y))})}var gU=e=>{var t=Kr(e,pU),{payload:n,layout:r,align:a}=t;if(!n||!n.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?a:"left"};return v.createElement("ul",{className:"recharts-default-legend",style:i},v.createElement(hU,qh({},t,{payload:n})))},aO={},iO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const a=new Map;for(let i=0;i<n.length;i++){const o=n[i],s=r(o,i,n);a.has(s)||a.set(s,o)}return Array.from(a.values())}e.uniqBy=t})(iO);var oO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...a){return n.apply(this,a.slice(0,r))}}e.ary=t})(oO);var R1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(R1);var sO={},b0={},lO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(lO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lO;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(b0);var cO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(cO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b0,n=cO;function r(a){return n.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=r})(sO);var uO={},dO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g0;function n(r){return function(a){return t.get(a,r)}}e.property=n})(dO);var fO={},$1={},pO={},B1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(B1);var z1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(z1);var V1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(V1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B1,n=z1,r=V1;function a(d,f,p){return typeof p!="function"?a(d,f,()=>{}):i(d,f,function m(h,y,x,g,b,w){const S=p(h,y,x,g,b,w);return S!==void 0?!!S:i(h,y,m,w)},new Map)}function i(d,f,p,m){if(f===d)return!0;switch(typeof f){case"object":return o(d,f,p,m);case"function":return Object.keys(f).length>0?i(d,{...f},p,m):r.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:r.isEqualsSameValueZero(d,f)}}function o(d,f,p,m){if(f==null)return!0;if(Array.isArray(f))return l(d,f,p,m);if(f instanceof Map)return s(d,f,p,m);if(f instanceof Set)return c(d,f,p,m);const h=Object.keys(f);if(d==null||n.isPrimitive(d))return h.length===0;if(h.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let y=0;y<h.length;y++){const x=h[y];if(!n.isPrimitive(d)&&!(x in d)||f[x]===void 0&&d[x]!==void 0||f[x]===null&&d[x]!==null||!p(d[x],f[x],x,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function s(d,f,p,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[h,y]of f.entries()){const x=d.get(h);if(p(x,y,h,d,f,m)===!1)return!1}return!0}function l(d,f,p,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const h=new Set;for(let y=0;y<f.length;y++){const x=f[y];let g=!1;for(let b=0;b<d.length;b++){if(h.has(b))continue;const w=d[b];let S=!1;if(p(w,x,y,d,f,m)&&(S=!0),S){h.add(b),g=!0;break}}if(!g)return!1}return!0}function c(d,f,p,m){return f.size===0?!0:d instanceof Set?l([...d],[...f],p,m):!1}e.isMatchWith=a,e.isSetMatch=c})(pO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pO;function n(r,a){return t.isMatchWith(r,a,()=>{})}e.isMatch=n})($1);var mO={},U1={},hO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(hO);var x0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(x0);var W1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",s="[object Date]",l="[object Map]",c="[object Set]",d="[object Array]",f="[object Function]",p="[object ArrayBuffer]",m="[object Object]",h="[object Error]",y="[object DataView]",x="[object Uint8Array]",g="[object Uint8ClampedArray]",b="[object Uint16Array]",w="[object Uint32Array]",S="[object BigUint64Array]",C="[object Int8Array]",N="[object Int16Array]",M="[object Int32Array]",T="[object BigInt64Array]",$="[object Float32Array]",E="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=p,e.arrayTag=d,e.bigInt64ArrayTag=T,e.bigUint64ArrayTag=S,e.booleanTag=a,e.dataViewTag=y,e.dateTag=s,e.errorTag=h,e.float32ArrayTag=$,e.float64ArrayTag=E,e.functionTag=f,e.int16ArrayTag=N,e.int32ArrayTag=M,e.int8ArrayTag=C,e.mapTag=l,e.numberTag=r,e.objectTag=m,e.regexpTag=t,e.setTag=c,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=b,e.uint32ArrayTag=w,e.uint8ArrayTag=x,e.uint8ClampedArrayTag=g})(W1);var gO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(gO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hO,n=x0,r=W1,a=z1,i=gO;function o(d,f){return s(d,void 0,d,new Map,f)}function s(d,f,p,m=new Map,h=void 0){const y=h==null?void 0:h(d,f,p,m);if(y!==void 0)return y;if(a.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const x=new Array(d.length);m.set(d,x);for(let g=0;g<d.length;g++)x[g]=s(d[g],g,p,m,h);return Object.hasOwn(d,"index")&&(x.index=d.index),Object.hasOwn(d,"input")&&(x.input=d.input),x}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const x=new RegExp(d.source,d.flags);return x.lastIndex=d.lastIndex,x}if(d instanceof Map){const x=new Map;m.set(d,x);for(const[g,b]of d)x.set(g,s(b,g,p,m,h));return x}if(d instanceof Set){const x=new Set;m.set(d,x);for(const g of d)x.add(s(g,void 0,p,m,h));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const x=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,x);for(let g=0;g<d.length;g++)x[g]=s(d[g],g,p,m,h);return x}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const x=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,x),l(x,d,p,m,h),x}if(typeof File<"u"&&d instanceof File){const x=new File([d],d.name,{type:d.type});return m.set(d,x),l(x,d,p,m,h),x}if(typeof Blob<"u"&&d instanceof Blob){const x=new Blob([d],{type:d.type});return m.set(d,x),l(x,d,p,m,h),x}if(d instanceof Error){const x=new d.constructor;return m.set(d,x),x.message=d.message,x.name=d.name,x.stack=d.stack,x.cause=d.cause,l(x,d,p,m,h),x}if(d instanceof Boolean){const x=new Boolean(d.valueOf());return m.set(d,x),l(x,d,p,m,h),x}if(d instanceof Number){const x=new Number(d.valueOf());return m.set(d,x),l(x,d,p,m,h),x}if(d instanceof String){const x=new String(d.valueOf());return m.set(d,x),l(x,d,p,m,h),x}if(typeof d=="object"&&c(d)){const x=Object.create(Object.getPrototypeOf(d));return m.set(d,x),l(x,d,p,m,h),x}return d}function l(d,f,p=d,m,h){const y=[...Object.keys(f),...t.getSymbols(f)];for(let x=0;x<y.length;x++){const g=y[x],b=Object.getOwnPropertyDescriptor(d,g);(b==null||b.writable)&&(d[g]=s(f[g],g,p,m,h))}}function c(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=s,e.copyProperties=l})(U1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=U1;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(mO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$1,n=mO;function r(a){return a=n.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=r})(fO);var yO={},vO={},bO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=U1,n=x0,r=W1;function a(i,o){return t.cloneDeepWith(i,(s,l,c,d)=>{const f=o==null?void 0:o(s,l,c,d);if(f!==void 0)return f;if(typeof i=="object"){if(n.getTag(i)===r.objectTag&&typeof i.constructor!="function"){const p={};return d.set(i,p),t.copyProperties(p,i,c,d),p}switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(p,i),p}case r.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}}})}e.cloneDeepWith=a})(bO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bO;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(vO);var xO={},H1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(H1);var wO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x0;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(wO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I1,n=H1,r=wO,a=v0;function i(o,s){let l;if(Array.isArray(s)?l=s:typeof s=="string"&&t.isDeepKey(s)&&(o==null?void 0:o[s])==null?l=a.toPath(s):l=[s],l.length===0)return!1;let c=o;for(let d=0;d<l.length;d++){const f=l[d];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}e.has=i})(xO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$1,n=y0,r=vO,a=g0,i=xO;function o(s,l){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=n.toKey(s);break}}return l=r.cloneDeep(l),function(c){const d=a.get(c,s);return d===void 0?i.has(c,s):l===void 0?d===void 0:t.isMatch(d,l)}}e.matchesProperty=o})(yO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R1,n=dO,r=fO,a=yO;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=i})(uO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iO,n=oO,r=R1,a=sO,i=uO;function o(s,l=r.identity){return a.isArrayLikeObject(s)?t.uniqBy(Array.from(s),n.ary(i.iteratee(l),1)):[]}e.uniqBy=o})(aO);var yU=aO.uniqBy;const hj=bo(yU);function kO(e,t,n){return t===!0?hj(e,n):typeof t=="function"?hj(e,t):e}var SO={exports:{}},NO={},jO={exports:{}},CO={};/**
* @license React
* use-sync-external-store-shim.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Iu=v;function vU(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bU=typeof Object.is=="function"?Object.is:vU,xU=Iu.useState,wU=Iu.useEffect,kU=Iu.useLayoutEffect,SU=Iu.useDebugValue;function NU(e,t){var n=t(),r=xU({inst:{value:n,getSnapshot:t}}),a=r[0].inst,i=r[1];return kU(function(){a.value=n,a.getSnapshot=t,av(a)&&i({inst:a})},[e,n,t]),wU(function(){return av(a)&&i({inst:a}),e(function(){av(a)&&i({inst:a})})},[e]),SU(n),n}function av(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!bU(e,n)}catch{return!0}}function jU(e,t){return t()}var CU=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?jU:NU;CO.useSyncExternalStore=Iu.useSyncExternalStore!==void 0?Iu.useSyncExternalStore:CU;jO.exports=CO;var MU=jO.exports;/**
* @license React
* use-sync-external-store-shim/with-selector.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var w0=v,AU=MU;function EU(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var PU=typeof Object.is=="function"?Object.is:EU,TU=AU.useSyncExternalStore,DU=w0.useRef,OU=w0.useEffect,IU=w0.useMemo,_U=w0.useDebugValue;NO.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var i=DU(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=IU(function(){function l(m){if(!c){if(c=!0,d=m,m=r(m),a!==void 0&&o.hasValue){var h=o.value;if(a(h,m))return f=h}return f=m}if(h=f,PU(d,m))return h;var y=r(m);return a!==void 0&&a(h,y)?(d=m,h):(d=m,f=y)}var c=!1,d,f,p=n===void 0?null:n;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,n,r,a]);var s=TU(e,i[0],i[1]);return OU(function(){o.hasValue=!0,o.value=s},[s]),_U(s),s};SO.exports=NO;var LU=SO.exports,q1=v.createContext(null),FU=e=>e,Yn=()=>{var e=v.useContext(q1);return e?e.store.dispatch:FU},th=()=>{},RU=()=>th,$U=(e,t)=>e===t;function kt(e){var t=v.useContext(q1);return LU.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:RU,t?t.store.getState:th,t?t.store.getState:th,t?e:th,$U)}function BU(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function zU(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function VU(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var gj=e=>Array.isArray(e)?e:[e];function UU(e){const t=Array.isArray(e[0])?e[0]:e;return VU(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function WU(e,t){const n=[],{length:r}=e;for(let a=0;a<r;a++)n.push(e[a].apply(null,t));return n}var HU=class{constructor(e){this.value=e}deref(){return this.value}},qU=typeof WeakRef<"u"?WeakRef:HU,KU=0,yj=1;function ym(){return{s:KU,v:void 0,o:null,p:null}}function MO(e,t={}){let n=ym();const{resultEqualityCheck:r}=t;let a,i=0;function o(){var s;let l=n;const{length:c}=arguments;for(let p=0,m=c;p<m;p++){const h=arguments[p];if(typeof h=="function"||typeof h=="object"&&h!==null){let y=l.o;y===null&&(l.o=y=new WeakMap);const x=y.get(h);x===void 0?(l=ym(),y.set(h,l)):l=x}else{let y=l.p;y===null&&(l.p=y=new Map);const x=y.get(h);x===void 0?(l=ym(),y.set(h,l)):l=x}}const d=l;let f;if(l.s===yj)f=l.v;else if(f=e.apply(null,arguments),i++,r){const p=((s=a==null?void 0:a.deref)==null?void 0:s.call(a))??a;p!=null&&r(p,f)&&(f=p,i!==0&&i--),a=typeof f=="object"&&f!==null||typeof f=="function"?new qU(f):f}return d.s=yj,d.v=f,f}return o.clearCache=()=>{n=ym(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function YU(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...a)=>{let i=0,o=0,s,l={},c=a.pop();typeof c=="object"&&(l=c,c=a.pop()),BU(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...n,...l},{memoize:f,memoizeOptions:p=[],argsMemoize:m=MO,argsMemoizeOptions:h=[]}=d,y=gj(p),x=gj(h),g=UU(a),b=f(function(){return i++,c.apply(null,arguments)},...y),w=m(function(){o++;const S=WU(g,arguments);return s=b.apply(null,S),s},...x);return Object.assign(w,{resultFunc:c,memoizedResultFunc:b,dependencies:g,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var fe=YU(MO),GU=Object.assign((e,t=fe)=>{zU(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((i,o,s)=>(i[n[s]]=o,i),{}))},{withTypes:()=>GU}),AO={},EO={},PO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,i)=>{if(r!==a){const o=t(r),s=t(a);if(o===s&&o===0){if(r<a)return i==="desc"?1:-1;if(r>a)return i==="desc"?-1:1}return i==="desc"?s-o:o-s}return 0};e.compareValues=n})(PO);var TO={},K1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(K1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K1,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(r.test(i)||!n.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(TO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PO,n=TO,r=v0;function a(i,o,s,l){if(i==null)return[];s=l?void 0:s,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(p=>String(p));const c=(p,m)=>{let h=p;for(let y=0;y<m.length&&h!=null;++y)h=h[m[y]];return h},d=(p,m)=>m==null||p==null?m:typeof p=="object"&&"key"in p?Object.hasOwn(m,p.key)?m[p.key]:c(m,p.path):typeof p=="function"?p(m):Array.isArray(p)?c(m,p):typeof m=="object"?m[p]:m,f=o.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return i.map(p=>({original:p,criteria:f.map(m=>d(m,p))})).slice().sort((p,m)=>{for(let h=0;h<f.length;h++){const y=t.compareValues(p.criteria[h],m.criteria[h],s[h]);if(y!==0)return y}return 0}).map(p=>p.original)}e.orderBy=a})(EO);var DO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const a=[],i=Math.floor(r),o=(s,l)=>{for(let c=0;c<s.length;c++){const d=s[c];Array.isArray(d)&&l<i?o(d,l+1):a.push(d)}};return o(n,0),a}e.flatten=t})(DO);var Y1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H1,n=b0,r=B1,a=V1;function i(o,s,l){return r.isObject(l)&&(typeof s=="number"&&n.isArrayLike(l)&&t.isIndex(s)&&s<l.length||typeof s=="string"&&s in l)?a.isEqualsSameValueZero(l[s],o):!1}e.isIterateeCall=i})(Y1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EO,n=DO,r=Y1;function a(i,...o){const s=o.length;return s>1&&r.isIterateeCall(i,o[0],o[1])?o=[]:s>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,n.flatten(o),["asc"])}e.sortBy=a})(AO);var XU=AO.sortBy;const k0=bo(XU);var OO=e=>e.legend.settings,ZU=e=>e.legend.size,QU=e=>e.legend.payload,JU=fe([QU,OO],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?k0(r,n):r});function e7(){return kt(JU)}var vm=1;function IO(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=v.useState({height:0,left:0,top:0,width:0}),r=v.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>vm||Math.abs(o.left-t.left)>vm||Math.abs(o.top-t.top)>vm||Math.abs(o.width-t.width)>vm)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function ca(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var t7=typeof Symbol=="function"&&Symbol.observable||"@@observable",vj=t7,iv=()=>Math.random().toString(36).substring(7).split("").join("."),n7={INIT:`@@redux/INIT${iv()}`,REPLACE:`@@redux/REPLACE${iv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${iv()}`},Kh=n7;function G1(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function _O(e,t,n){if(typeof e!="function")throw new Error(ca(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ca(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ca(1));return n(_O)(e,t)}let r=e,a=t,i=new Map,o=i,s=0,l=!1;function c(){o===i&&(o=new Map,i.forEach((y,x)=>{o.set(x,y)}))}function d(){if(l)throw new Error(ca(3));return a}function f(y){if(typeof y!="function")throw new Error(ca(4));if(l)throw new Error(ca(5));let x=!0;c();const g=s++;return o.set(g,y),function(){if(x){if(l)throw new Error(ca(6));x=!1,c(),o.delete(g),i=null}}}function p(y){if(!G1(y))throw new Error(ca(7));if(typeof y.type>"u")throw new Error(ca(8));if(typeof y.type!="string")throw new Error(ca(17));if(l)throw new Error(ca(9));try{l=!0,a=r(a,y)}finally{l=!1}return(i=o).forEach(x=>{x()}),y}function m(y){if(typeof y!="function")throw new Error(ca(10));r=y,p({type:Kh.REPLACE})}function h(){const y=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(ca(11));function g(){const b=x;b.next&&b.next(d())}return g(),{unsubscribe:y(g)}},[vj](){return this}}}return p({type:Kh.INIT}),{dispatch:p,subscribe:f,getState:d,replaceReducer:m,[vj]:h}}function r7(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Kh.INIT})>"u")throw new Error(ca(12));if(typeof n(void 0,{type:Kh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ca(13))})}function LO(e){const t=Object.keys(e),n={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let a;try{r7(n)}catch(i){a=i}return function(i={},o){if(a)throw a;let s=!1;const l={};for(let c=0;c<r.length;c++){const d=r[c],f=n[d],p=i[d],m=f(p,o);if(typeof m>"u")throw o&&o.type,new Error(ca(14));l[d]=m,s=s||m!==p}return s=s||r.length!==Object.keys(i).length,s?l:i}}function Yh(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function a7(...e){return t=>(n,r)=>{const a=t(n,r);let i=()=>{throw new Error(ca(15))};const o={getState:a.getState,dispatch:(l,...c)=>i(l,...c)},s=e.map(l=>l(o));return i=Yh(...s)(a.dispatch),{...a,dispatch:i}}}function FO(e){return G1(e)&&"type"in e&&typeof e.type=="string"}var RO=Symbol.for("immer-nothing"),bj=Symbol.for("immer-draftable"),za=Symbol.for("immer-state");function io(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var xi=Object,_u=xi.getPrototypeOf,Gh="constructor",S0="prototype",ax="configurable",Xh="enumerable",nh="writable",Tf="value",hs=e=>!!e&&!!e[za];function ho(e){var t;return e?$O(e)||j0(e)||!!e[bj]||!!((t=e[Gh])!=null&&t[bj])||C0(e)||M0(e):!1}var i7=xi[S0][Gh].toString(),xj=new WeakMap;function $O(e){if(!e||!X1(e))return!1;const t=_u(e);if(t===null||t===xi[S0])return!0;const n=xi.hasOwnProperty.call(t,Gh)&&t[Gh];if(n===Object)return!0;if(!Gc(n))return!1;let r=xj.get(n);return r===void 0&&(r=Function.toString.call(n),xj.set(n,r)),r===i7}function N0(e,t,n=!0){lp(e)===0?(n?Reflect.ownKeys(e):xi.keys(e)).forEach(r=>{t(r,e[r],e)}):e.forEach((r,a)=>t(a,r,e))}function lp(e){const t=e[za];return t?t.type_:j0(e)?1:C0(e)?2:M0(e)?3:0}var wj=(e,t,n=lp(e))=>n===2?e.has(t):xi[S0].hasOwnProperty.call(e,t),ix=(e,t,n=lp(e))=>n===2?e.get(t):e[t],Zh=(e,t,n,r=lp(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function o7(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var j0=Array.isArray,C0=e=>e instanceof Map,M0=e=>e instanceof Set,X1=e=>typeof e=="object",Gc=e=>typeof e=="function",ov=e=>typeof e=="boolean";function s7(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Xo=e=>e.copy_||e.base_,Z1=e=>e.modified_?e.copy_:e.base_;function ox(e,t){if(C0(e))return new Map(e);if(M0(e))return new Set(e);if(j0(e))return Array[S0].slice.call(e);const n=$O(e);if(t===!0||t==="class_only"&&!n){const r=xi.getOwnPropertyDescriptors(e);delete r[za];let a=Reflect.ownKeys(r);for(let i=0;i<a.length;i++){const o=a[i],s=r[o];s[nh]===!1&&(s[nh]=!0,s[ax]=!0),(s.get||s.set)&&(r[o]={[ax]:!0,[nh]:!0,[Xh]:s[Xh],[Tf]:e[o]})}return xi.create(_u(e),r)}else{const r=_u(e);if(r!==null&&n)return{...e};const a=xi.create(r);return xi.assign(a,e)}}function Q1(e,t=!1){return A0(e)||hs(e)||!ho(e)||(lp(e)>1&&xi.defineProperties(e,{set:bm,add:bm,clear:bm,delete:bm}),xi.freeze(e),t&&N0(e,(n,r)=>{Q1(r,!0)},!1)),e}function l7(){io(2)}var bm={[Tf]:l7};function A0(e){return e===null||!X1(e)?!0:xi.isFrozen(e)}var Qh="MapSet",sx="Patches",kj="ArrayMethods",BO={};function gc(e){const t=BO[e];return t||io(0,e),t}var Sj=e=>!!BO[e],Df,zO=()=>Df,c7=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Sj(Qh)?gc(Qh):void 0,arrayMethodsPlugin_:Sj(kj)?gc(kj):void 0});function Nj(e,t){t&&(e.patchPlugin_=gc(sx),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function lx(e){cx(e),e.drafts_.forEach(u7),e.drafts_=null}function cx(e){e===Df&&(Df=e.parent_)}var jj=e=>Df=c7(Df,e);function u7(e){const t=e[za];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Cj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[za].modified_&&(lx(t),io(4)),ho(e)&&(e=Mj(t,e));const{patchPlugin_:r}=t;r&&r.generateReplacementPatches_(n[za].base_,e,t)}else e=Mj(t,n);return d7(t,e,!0),lx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==RO?e:void 0}function Mj(e,t){if(A0(t))return t;const n=t[za];if(!n)return Jh(t,e.handledSet_,e);if(!E0(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);WO(n,e)}return n.copy_}function d7(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Q1(t,n)}function VO(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var E0=(e,t)=>e.scope_===t,f7=[];function UO(e,t,n,r){const a=Xo(e),i=e.type_;if(r!==void 0&&ix(a,r,i)===t){Zh(a,r,n,i);return}if(!e.draftLocations_){const s=e.draftLocations_=new Map;N0(a,(l,c)=>{if(hs(c)){const d=s.get(c)||[];d.push(l),s.set(c,d)}})}const o=e.draftLocations_.get(t)??f7;for(const s of o)Zh(a,s,n,i)}function p7(e,t,n){e.callbacks_.push(function(r){var a;const i=t;if(!i||!E0(i,r))return;(a=r.mapSetPlugin_)==null||a.fixSetContents(i);const o=Z1(i);UO(e,i.draft_??i,o,n),WO(i,r)})}function WO(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:r}=t;if(r){const a=r.getPath(e);a&&r.generatePatches_(e,a,t)}VO(e)}}function m7(e,t,n){const{scope_:r}=e;if(hs(n)){const a=n[za];E0(a,r)&&a.callbacks_.push(function(){rh(e);const i=Z1(a);UO(e,n,i,t)})}else ho(n)&&e.callbacks_.push(function(){const a=Xo(e);e.type_===3?a.has(n)&&Jh(n,r.handledSet_,r):ix(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Jh(ix(e.copy_,t,e.type_),r.handledSet_,r)})}function Jh(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||hs(e)||t.has(e)||!ho(e)||A0(e)||(t.add(e),N0(e,(r,a)=>{if(hs(a)){const i=a[za];if(E0(i,n)){const o=Z1(i);Zh(e,r,o,e.type_),VO(i)}}else ho(a)&&Jh(a,t,n)})),e}function h7(e,t){const n=j0(e),r={type_:n?1:0,scope_:t?t.scope_:zO(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=r,i=eg;n&&(a=[r],i=Of);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return r.draft_=s,r.revoke_=o,[s,r]}var eg={get(e,t){if(t===za)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const a=Xo(e);if(!wj(a,t,e.type_))return g7(e,a,t);const i=a[t];if(e.finalized_||!ho(i)||r&&e.operationMethod&&n!=null&&n.isMutatingArrayMethod(e.operationMethod)&&s7(t))return i;if(i===sv(e.base_,t)){rh(e);const o=e.type_===1?+t:t,s=dx(e.scope_,i,e,o);return e.copy_[o]=s}return i},has(e,t){return t in Xo(e)},ownKeys(e){return Reflect.ownKeys(Xo(e))},set(e,t,n){const r=HO(Xo(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=sv(Xo(e),t),i=a==null?void 0:a[za];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(o7(n,a)&&(n!==void 0||wj(e.base_,t,e.type_)))return!0;rh(e),ux(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),m7(e,t,n)),!0},deleteProperty(e,t){return rh(e),sv(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),ux(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Xo(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[nh]:!0,[ax]:e.type_!==1||t!=="length",[Xh]:r[Xh],[Tf]:n[t]}},defineProperty(){io(11)},getPrototypeOf(e){return _u(e.base_)},setPrototypeOf(){io(12)}},Of={};for(let e in eg){let t=eg[e];Of[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}Of.deleteProperty=function(e,t){return Of.set.call(this,e,t,void 0)};Of.set=function(e,t,n){return eg.set.call(this,e[0],t,n,e[0])};function sv(e,t){const n=e[za];return(n?Xo(n):e)[t]}function g7(e,t,n){var r;const a=HO(t,n);return a?Tf in a?a[Tf]:(r=a.get)==null?void 0:r.call(e.draft_):void 0}function HO(e,t){if(!(t in e))return;let n=_u(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=_u(n)}}function ux(e){e.modified_||(e.modified_=!0,e.parent_&&ux(e.parent_))}function rh(e){e.copy_||(e.assigned_=new Map,e.copy_=ox(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var y7=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,n,r)=>{if(Gc(t)&&!Gc(n)){const i=n;n=t;const o=this;return function(s=i,...l){return o.produce(s,c=>n.call(this,c,...l))}}Gc(n)||io(6),r!==void 0&&!Gc(r)&&io(7);let a;if(ho(t)){const i=jj(this),o=dx(i,t,void 0);let s=!0;try{a=n(o),s=!1}finally{s?lx(i):cx(i)}return Nj(i,r),Cj(a,i)}else if(!t||!X1(t)){if(a=n(t),a===void 0&&(a=t),a===RO&&(a=void 0),this.autoFreeze_&&Q1(a,!0),r){const i=[],o=[];gc(sx).generateReplacementPatches_(t,a,{patches_:i,inversePatches_:o}),r(i,o)}return a}else io(1,t)},this.produceWithPatches=(t,n)=>{if(Gc(t))return(i,...o)=>this.produceWithPatches(i,s=>t(s,...o));let r,a;return[this.produce(t,n,(i,o)=>{r=i,a=o}),r,a]},ov(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),ov(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),ov(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ho(e)||io(8),hs(e)&&(e=uo(e));const t=jj(this),n=dx(t,e,void 0);return n[za].isManual_=!0,cx(t),n}finishDraft(e,t){const n=e&&e[za];(!n||!n.isManual_)&&io(9);const{scope_:r}=n;return Nj(r,t),Cj(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const r=gc(sx).applyPatches_;return hs(e)?r(e,t):this.produce(e,a=>r(a,t))}};function dx(e,t,n,r){const[a,i]=C0(t)?gc(Qh).proxyMap_(t,n):M0(t)?gc(Qh).proxySet_(t,n):h7(t,n);return((n==null?void 0:n.scope_)??zO()).drafts_.push(a),i.callbacks_=(n==null?void 0:n.callbacks_)??[],i.key_=r,n&&r!==void 0?p7(n,i,r):i.callbacks_.push(function(o){var s;(s=o.mapSetPlugin_)==null||s.fixSetContents(i);const{patchPlugin_:l}=o;i.modified_&&l&&l.generatePatches_(i,[],o)}),a}function uo(e){return hs(e)||io(10,e),qO(e)}function qO(e){if(!ho(e)||A0(e))return e;const t=e[za];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=ox(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=ox(e,!0);return N0(n,(a,i)=>{Zh(n,a,qO(i))},r),t&&(t.finalized_=!1),n}var v7=new y7,KO=v7.produce;function YO(e){return({dispatch:t,getState:n})=>r=>a=>typeof a=="function"?a(t,n,e):r(a)}var b7=YO(),x7=YO,w7=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Yh:Yh.apply(null,arguments)};function Gi(e,t){function n(...r){if(t){let a=t(...r);if(!a)throw new Error(ki(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>FO(r)&&r.type===e,n}var GO=class Bd extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Bd.prototype)}static get[Symbol.species](){return Bd}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Bd(...t[0].concat(this)):new Bd(...t.concat(this))}};function Aj(e){return ho(e)?KO(e,()=>{}):e}function xm(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function k7(e){return typeof e=="boolean"}var S7=()=>function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:a=!0}=e??{};let i=new GO;return t&&(k7(t)?i.push(b7):i.push(x7(t.extraArgument))),i},XO="RTK_autoBatch",lr=()=>e=>({payload:e,meta:{[XO]:!0}}),Ej=e=>t=>{setTimeout(t,e)},ZO=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let a=!0,i=!1,o=!1;const s=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Ej(10):e.type==="callback"?e.queueNotification:Ej(e.timeout),c=()=>{o=!1,i&&(i=!1,s.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>a&&d(),p=r.subscribe(f);return s.add(d),()=>{p(),s.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[XO]),i=!a,i&&(o||(o=!0,l(c))),r.dispatch(d)}finally{a=!0}}})},N7=e=>function(t){const{autoBatch:n=!0}=t??{};let r=new GO(e);return n&&r.push(ZO(typeof n=="object"?n:void 0)),r};function j7(e){const t=S7(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let s;if(typeof n=="function")s=n;else if(G1(n))s=LO(n);else throw new Error(ki(1));let l;typeof r=="function"?l=r(t):l=t();let c=Yh;a&&(c=w7({trace:!1,...typeof a=="object"&&a}));const d=a7(...l),f=N7(d);let p=typeof o=="function"?o(f):f();const m=c(...p);return _O(s,i,m)}function QO(e){const t={},n=[];let r;const a={addCase(i,o){const s=typeof i=="string"?i:i.type;if(!s)throw new Error(ki(28));if(s in t)throw new Error(ki(29));return t[s]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return n.push({matcher:i,reducer:o}),a},addDefaultCase(i){return r=i,a}};return e(a),[t,n,r]}function C7(e){return typeof e=="function"}function M7(e,t){let[n,r,a]=QO(t),i;if(C7(e))i=()=>Aj(e());else{const s=Aj(e);i=()=>s}function o(s=i(),l){let c=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[a]),c.reduce((d,f)=>{if(f)if(hs(d)){const p=f(d,l);return p===void 0?d:p}else{if(ho(d))return KO(d,p=>f(p,l));{const p=f(d,l);if(p===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return d},s)}return o.getInitialState=i,o}var A7="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",E7=(e=21)=>{let t="",n=e;for(;n--;)t+=A7[Math.random()*64|0];return t},P7=Symbol.for("rtk-slice-createasyncthunk");function T7(e,t){return`${e}/${t}`}function D7({creators:e}={}){var t;const n=(t=e==null?void 0:e.asyncThunk)==null?void 0:t[P7];return function(r){const{name:a,reducerPath:i=a}=r;if(!a)throw new Error(ki(11));const o=(typeof r.reducers=="function"?r.reducers(I7()):r.reducers)||{},s=Object.keys(o),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(w,S){const C=typeof w=="string"?w:w.type;if(!C)throw new Error(ki(12));if(C in l.sliceCaseReducersByType)throw new Error(ki(13));return l.sliceCaseReducersByType[C]=S,c},addMatcher(w,S){return l.sliceMatchers.push({matcher:w,reducer:S}),c},exposeAction(w,S){return l.actionCreators[w]=S,c},exposeCaseReducer(w,S){return l.sliceCaseReducersByName[w]=S,c}};s.forEach(w=>{const S=o[w],C={reducerName:w,type:T7(a,w),createNotation:typeof r.reducers=="function"};L7(S)?R7(C,S,c,n):_7(C,S,c)});function d(){const[w={},S=[],C=void 0]=typeof r.extraReducers=="function"?QO(r.extraReducers):[r.extraReducers],N={...w,...l.sliceCaseReducersByType};return M7(r.initialState,M=>{for(let T in N)M.addCase(T,N[T]);for(let T of l.sliceMatchers)M.addMatcher(T.matcher,T.reducer);for(let T of S)M.addMatcher(T.matcher,T.reducer);C&&M.addDefaultCase(C)})}const f=w=>w,p=new Map,m=new WeakMap;let h;function y(w,S){return h||(h=d()),h(w,S)}function x(){return h||(h=d()),h.getInitialState()}function g(w,S=!1){function C(M){let T=M[w];return typeof T>"u"&&S&&(T=xm(m,C,x)),T}function N(M=f){const T=xm(p,S,()=>new WeakMap);return xm(T,M,()=>{const $={};for(const[E,P]of Object.entries(r.selectors??{}))$[E]=O7(P,M,()=>xm(m,M,x),S);return $})}return{reducerPath:w,getSelectors:N,get selectors(){return N(C)},selectSlice:C}}const b={name:a,reducer:y,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:x,...g(i),injectInto(w,{reducerPath:S,...C}={}){const N=S??i;return w.inject({reducerPath:N,reducer:y},C),{...b,...g(N,!0)}}};return b}}function O7(e,t,n,r){function a(i,...o){let s=t(i);return typeof s>"u"&&r&&(s=n()),e(s,...o)}return a.unwrapped=e,a}var si=D7();function I7(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function _7({type:e,reducerName:t,createNotation:n},r,a){let i,o;if("reducer"in r){if(n&&!F7(r))throw new Error(ki(17));i=r.reducer,o=r.prepare}else i=r;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?Gi(e,o):Gi(e))}function L7(e){return e._reducerDefinitionType==="asyncThunk"}function F7(e){return e._reducerDefinitionType==="reducerWithPrepare"}function R7({type:e,reducerName:t},n,r,a){if(!a)throw new Error(ki(18));const{payloadCreator:i,fulfilled:o,pending:s,rejected:l,settled:c,options:d}=n,f=a(e,i,d);r.exposeAction(t,f),o&&r.addCase(f.fulfilled,o),s&&r.addCase(f.pending,s),l&&r.addCase(f.rejected,l),c&&r.addMatcher(f.settled,c),r.exposeCaseReducer(t,{fulfilled:o||wm,pending:s||wm,rejected:l||wm,settled:c||wm})}function wm(){}var $7="task",JO="listener",e3="completed",J1="cancelled",B7=`task-${J1}`,z7=`task-${e3}`,fx=`${JO}-${J1}`,V7=`${JO}-${e3}`,P0=class{constructor(e){ON(this,"name","TaskAbortError"),ON(this,"message"),this.code=e,this.message=`${$7} ${J1} (reason: ${e})`}},ek=(e,t)=>{if(typeof e!="function")throw new TypeError(ki(32))},tg=()=>{},t3=(e,t=tg)=>(e.catch(t),e),n3=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ic=e=>{if(e.aborted)throw new P0(e.reason)};function r3(e,t){let n=tg;return new Promise((r,a)=>{const i=()=>a(new P0(e.reason));if(e.aborted){i();return}n=n3(e,i),t.finally(()=>n()).then(r,a)}).finally(()=>{n=tg})}var U7=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof P0?"cancelled":"rejected",error:n}}finally{t==null||t()}},ng=e=>t=>t3(r3(e,t).then(n=>(ic(e),n))),a3=e=>{const t=ng(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:wu}=Object,Pj={},T0="listenerMiddleware",W7=(e,t)=>{const n=r=>n3(e,()=>r.abort(e.reason));return(r,a)=>{ek(r);const i=new AbortController;n(i);const o=U7(async()=>{ic(e),ic(i.signal);const s=await r({pause:ng(i.signal),delay:a3(i.signal),signal:i.signal});return ic(i.signal),s},()=>i.abort(z7));return a!=null&&a.autoJoin&&t.push(o.catch(tg)),{result:ng(e)(o),cancel(){i.abort(B7)}}}},H7=(e,t)=>{const n=async(r,a)=>{ic(t);let i=()=>{};const o=[new Promise((s,l)=>{let c=e({predicate:r,effect:(d,f)=>{f.unsubscribe(),s([d,f.getState(),f.getOriginalState()])}});i=()=>{c(),l()}})];a!=null&&o.push(new Promise(s=>setTimeout(s,a,null)));try{const s=await r3(t,Promise.race(o));return ic(t),s}finally{i()}};return(r,a)=>t3(n(r,a))},i3=e=>{let{type:t,actionCreator:n,matcher:r,predicate:a,effect:i}=e;if(t)a=Gi(t).match;else if(n)t=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(ki(21));return ek(i),{predicate:a,type:t,effect:i}},o3=wu(e=>{const{type:t,predicate:n,effect:r}=i3(e);return{id:E7(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ki(22))}}},{withTypes:()=>o3}),Tj=(e,t)=>{const{type:n,effect:r,predicate:a}=i3(t);return Array.from(e.values()).find(i=>(typeof n=="string"?i.type===n:i.predicate===a)&&i.effect===r)},px=e=>{e.pending.forEach(t=>{t.abort(fx)})},q7=(e,t)=>()=>{for(const n of t.keys())px(n);e.clear()},Dj=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},s3=wu(Gi(`${T0}/add`),{withTypes:()=>s3}),K7=Gi(`${T0}/removeAll`),l3=wu(Gi(`${T0}/remove`),{withTypes:()=>l3}),Y7=(...e)=>{console.error(`${T0}/error`,...e)},cp=(e={})=>{const t=new Map,n=new Map,r=p=>{const m=n.get(p)??0;n.set(p,m+1)},a=p=>{const m=n.get(p)??1;m===1?n.delete(p):n.set(p,m-1)},{extra:i,onError:o=Y7}=e;ek(o);const s=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),m=>{p.unsubscribe(),m!=null&&m.cancelActive&&px(p)}),l=p=>{const m=Tj(t,p)??o3(p);return s(m)};wu(l,{withTypes:()=>l});const c=p=>{const m=Tj(t,p);return m&&(m.unsubscribe(),p.cancelActive&&px(m)),!!m};wu(c,{withTypes:()=>c});const d=async(p,m,h,y)=>{const x=new AbortController,g=H7(l,x.signal),b=[];try{p.pending.add(x),r(p),await Promise.resolve(p.effect(m,wu({},h,{getOriginalState:y,condition:(w,S)=>g(w,S).then(Boolean),take:g,delay:a3(x.signal),pause:ng(x.signal),extra:i,signal:x.signal,fork:W7(x.signal,b),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((w,S,C)=>{w!==x&&(w.abort(fx),C.delete(w))})},cancel:()=>{x.abort(fx),p.pending.delete(x)},throwIfCancelled:()=>{ic(x.signal)}})))}catch(w){w instanceof P0||Dj(o,w,{raisedBy:"effect"})}finally{await Promise.all(b),x.abort(V7),a(p),p.pending.delete(x)}},f=q7(t,n);return{middleware:p=>m=>h=>{if(!FO(h))return m(h);if(s3.match(h))return l(h.payload);if(K7.match(h)){f();return}if(l3.match(h))return c(h.payload);let y=p.getState();const x=()=>{if(y===Pj)throw new Error(ki(23));return y};let g;try{if(g=m(h),t.size>0){const b=p.getState(),w=Array.from(t.values());for(const S of w){let C=!1;try{C=S.predicate(h,b,y)}catch(N){C=!1,Dj(o,N,{raisedBy:"predicate"})}C&&d(S,h,p,x)}}}finally{y=Pj}return g},startListening:l,stopListening:c,clearListeners:f}};function ki(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var G7={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},c3=si({name:"chartLayout",initialState:G7,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,a,i;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:X7,setLayout:Z7,setChartSize:Q7,setScale:J7}=c3.actions,e9=c3.reducer;function u3(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function zr(e){return Number.isFinite(e)}function Vo(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Oj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Oj(Object(n),!0).forEach(function(r){t9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function t9(e,t,n){return(t=n9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n9(e){var t=r9(e,"string");return typeof t=="symbol"?t:t+""}function r9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tr(e,t,n){return qr(e)||qr(t)?n:zo(t)?hc(e,t,n):typeof t=="function"?t(e):n}var a9=(e,t,n)=>{if(t&&n){var{width:r,height:a}=n,{align:i,verticalAlign:o,layout:s}=t;if((s==="vertical"||s==="horizontal"&&o==="middle")&&i!=="center"&&St(e[i]))return cu(cu({},e),{},{[i]:e[i]+(r||0)});if((s==="horizontal"||s==="vertical"&&i==="center")&&o!=="middle"&&St(e[o]))return cu(cu({},e),{},{[o]:e[o]+(a||0)})}return e},kl=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",d3=(e,t,n,r)=>{if(r)return e.map(s=>s.coordinate);var a,i,o=e.map(s=>(s.coordinate===t&&(a=!0),s.coordinate===n&&(i=!0),s.coordinate));return a||o.push(t),i||o.push(n),o},f3=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:a,range:i,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:c,tickCount:d,ticks:f,niceTicks:p,axisType:m}=e;if(!o)return null;var h=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,y=a==="category"&&o.bandwidth?o.bandwidth()/h:0;if(y=m==="angleAxis"&&i&&i.length>=2?ja(i[0]-i[1])*2*y:y,f||p){var x=(f||p||[]).map((g,b)=>{var w=r?r.indexOf(g):g;return{coordinate:o(w)+y,value:g,offset:y,index:b}});return x.filter(g=>!Bo(g.coordinate))}return l&&c?c.map((g,b)=>({coordinate:o(g)+y,value:g,index:b,offset:y})):o.ticks&&d!=null?o.ticks(d).map((g,b)=>({coordinate:o(g)+y,value:g,offset:y,index:b})):o.domain().map((g,b)=>({coordinate:o(g)+y,value:r?r[g]:g,index:b,offset:y}))},Ij=1e-4,i9=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),a=Math.min(r[0],r[1])-Ij,i=Math.max(r[0],r[1])+Ij,o=e(t[0]),s=e(t[n-1]);(o<a||o>i||s<a||s>i)&&e.domain([t[0],t[n-1]])}},o9=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var i=0,o=0,s=0;s<n;++s){var l=e[s],c=l==null?void 0:l[a];if(c!=null){var d=c[1],f=c[0],p=Bo(d)?f:d;p>=0?(c[0]=i,c[1]=i+p,i=d):(c[0]=o,c[1]=o+p,o=d)}}}},s9=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var i=0,o=0;o<n;++o){var s=e[o],l=s==null?void 0:s[a];if(l!=null){var c=Bo(l[1])?l[0]:l[1];c>=0?(l[0]=i,l[1]=i+c,i=l[1]):(l[0]=0,l[1]=0)}}}},l9={sign:o9,expand:zV,none:mc,silhouette:VV,wiggle:UV,positive:s9},c9=(e,t,n)=>{var r,a=(r=l9[n])!==null&&r!==void 0?r:mc,i=BV().keys(t).value((s,l)=>Number(tr(s,l,0))).order(nx).offset(a),o=i(e);return o.forEach((s,l)=>{s.forEach((c,d)=>{var f=tr(e[d],t[l],0);Array.isArray(f)&&f.length===2&&St(f[0])&&St(f[1])&&(c[0]=f[0],c[1]=f[1])})}),o};function _j(e){var{axis:t,ticks:n,bandSize:r,entry:a,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!qr(a[t.dataKey])){var s=tO(n,"value",a[t.dataKey]);if(s)return s.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var l=tr(a,qr(o)?t.dataKey:o);return qr(l)?null:t.scale(l)}var u9=e=>{var t=e.flat(2).filter(St);return[Math.min(...t),Math.max(...t)]},d9=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],f9=(e,t,n)=>{if(e!=null)return d9(Object.keys(e).reduce((r,a)=>{var i=e[a];if(!i)return r;var{stackedData:o}=i,s=o.reduce((l,c)=>{var d=u3(c,t,n),f=u9(d);return!zr(f[0])||!zr(f[1])?l:[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]))},Lj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Fj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mx=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=k0(t,d=>d.coordinate),i=1/0,o=1,s=a.length;o<s;o++){var l=a[o],c=a[o-1];i=Math.min(((l==null?void 0:l.coordinate)||0)-((c==null?void 0:c.coordinate)||0),i)}return i===1/0?0:i}return n?void 0:0};function Rj(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:a,name:i}=e;return cu(cu({},t),{},{dataKey:n,payload:r,value:a,name:i})}function D0(e,t){if(e)return String(e);if(typeof t=="string")return t}var p9=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},m9=(e,t)=>t==="centric"?e.angle:e.radius,ks=e=>e.layout.width,Ss=e=>e.layout.height,h9=e=>e.layout.scale,p3=e=>e.layout.margin,O0=fe(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),I0=fe(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),m3="data-recharts-item-index",h3="data-recharts-item-id",up=60;function $j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function km(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$j(Object(n),!0).forEach(function(r){g9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$j(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function g9(e,t,n){return(t=y9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y9(e){var t=v9(e,"string");return typeof t=="symbol"?t:t+""}function v9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var b9=e=>e.brush.height;function x9(e){var t=I0(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:up;return n+a}return n},0)}function w9(e){var t=I0(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:up;return n+a}return n},0)}function k9(e){var t=O0(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function S9(e){var t=O0(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var aa=fe([ks,Ss,p3,b9,x9,w9,k9,S9,OO,ZU],(e,t,n,r,a,i,o,s,l,c)=>{var d={left:(n.left||0)+a,right:(n.right||0)+i},f={top:(n.top||0)+o,bottom:(n.bottom||0)+s},p=km(km({},f),d),m=p.bottom;p.bottom+=r,p=a9(p,l,c);var h=e-p.left-p.right,y=t-p.top-p.bottom;return km(km({brushBottom:m},p),{},{width:Math.max(h,0),height:Math.max(y,0)})}),N9=fe(aa,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),g3=fe(ks,Ss,(e,t)=>({x:0,y:0,width:e,height:t})),j9=v.createContext(null),li=()=>v.useContext(j9)!=null,_0=e=>e.brush,L0=fe([_0,aa,p3],(e,t,n)=>({height:e.height,x:St(e.x)?e.x:t.left,y:St(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:St(e.width)?e.width:t.width})),y3={},v3={},b3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:a,edges:i}={}){let o,s=null;const l=i!=null&&i.includes("leading"),c=i==null||i.includes("trailing"),d=()=>{s!==null&&(n.apply(o,s),o=void 0,s=null)},f=()=>{c&&d(),y()};let p=null;const m=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,f()},r)},h=()=>{p!==null&&(clearTimeout(p),p=null)},y=()=>{h(),o=void 0,s=null},x=()=>{d()},g=function(...b){if(a!=null&&a.aborted)return;o=this,s=b;const w=p==null;m(),l&&w&&d()};return g.schedule=m,g.cancel=y,g.flush=x,a==null||a.addEventListener("abort",y,{once:!0}),g}e.debounce=t})(b3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b3;function n(r,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:s=!0,maxWait:l}=i,c=Array(2);o&&(c[0]="leading"),s&&(c[1]="trailing");let d,f=null;const p=t.debounce(function(...y){d=r.apply(this,y),f=null},a,{edges:c}),m=function(...y){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(d=r.apply(this,y),f=Date.now(),p.cancel(),p.schedule(),d):(p.apply(this,y),d)},h=()=>(p.flush(),d);return m.cancel=p.cancel,m.flush=h,m}e.debounce=n})(v3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v3;function n(r,a=0,i={}){const{leading:o=!0,trailing:s=!0}=i;return t.debounce(r,a,{leading:o,maxWait:a,trailing:s})}e.throttle=n})(y3);var C9=y3.throttle;const M9=bo(C9);var rg=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(t===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(t===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var i=0;console.warn(t.replace(/%s/g,()=>r[i++]))}},x3=(e,t,n)=>{var{width:r="100%",height:a="100%",aspect:i,maxHeight:o}=n,s=ms(r)?e:Number(r),l=ms(a)?t:Number(a);return i&&i>0&&(s?l=s/i:l&&(s=l*i),o&&l!=null&&l>o&&(l=o)),{calculatedWidth:s,calculatedHeight:l}},A9={width:0,height:0,overflow:"visible"},E9={width:0,overflowX:"visible"},P9={height:0,overflowY:"visible"},T9={},D9=e=>{var{width:t,height:n}=e,r=ms(t),a=ms(n);return r&&a?A9:r?E9:a?P9:T9};function O9(e){var{width:t,height:n,aspect:r}=e,a=t,i=n;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=r&&r>0?void 0:"100%":i===void 0&&(i=r&&r>0?void 0:"100%"),{width:a,height:i}}function hx(){return hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hx.apply(null,arguments)}function Bj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function zj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Bj(Object(n),!0).forEach(function(r){I9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I9(e,t,n){return(t=_9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _9(e){var t=L9(e,"string");return typeof t=="symbol"?t:t+""}function L9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w3=v.createContext({width:-1,height:-1});function F9(e){return Vo(e.width)&&Vo(e.height)}function k3(e){var{children:t,width:n,height:r}=e,a=v.useMemo(()=>({width:n,height:r}),[n,r]);return F9(a)?v.createElement(w3.Provider,{value:a},t):null}var tk=()=>v.useContext(w3),R9=v.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a,height:i,minWidth:o=0,minHeight:s,maxHeight:l,children:c,debounce:d=0,id:f,className:p,onResize:m,style:h={}}=e,y=v.useRef(null),x=v.useRef();x.current=m,v.useImperativeHandle(t,()=>y.current);var[g,b]=v.useState({containerWidth:r.width,containerHeight:r.height}),w=v.useCallback((T,$)=>{b(E=>{var P=Math.round(T),O=Math.round($);return E.containerWidth===P&&E.containerHeight===O?E:{containerWidth:P,containerHeight:O}})},[]);v.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return sp;var T=O=>{var U,{width:X,height:ee}=O[0].contentRect;w(X,ee),(U=x.current)===null||U===void 0||U.call(x,X,ee)};d>0&&(T=M9(T,d,{trailing:!0,leading:!1}));var $=new ResizeObserver(T),{width:E,height:P}=y.current.getBoundingClientRect();return w(E,P),$.observe(y.current),()=>{$.disconnect()}},[w,d]);var{containerWidth:S,containerHeight:C}=g;rg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:N,calculatedHeight:M}=x3(S,C,{width:a,height:i,aspect:n,maxHeight:l});return rg(N!=null&&N>0||M!=null&&M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,M,a,i,o,s,n),v.createElement("div",{id:f?"".concat(f):void 0,className:Pn("recharts-responsive-container",p),style:zj(zj({},h),{},{width:a,height:i,minWidth:o,minHeight:s,maxHeight:l}),ref:y},v.createElement("div",{style:D9({width:a,height:i})},v.createElement(k3,{width:N,height:M},c)))}),yc=v.forwardRef((e,t)=>{var n=tk();if(Vo(n.width)&&Vo(n.height))return e.children;var{width:r,height:a}=O9({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=x3(void 0,void 0,{width:r,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return St(i)&&St(o)?v.createElement(k3,{width:i,height:o},e.children):v.createElement(R9,hx({},e,{width:r,height:a,ref:t}))});function S3(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var F0=()=>{var e,t=li(),n=kt(N9),r=kt(L0),a=(e=kt(_0))===null||e===void 0?void 0:e.padding;return!t||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},$9={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},N3=()=>{var e;return(e=kt(aa))!==null&&e!==void 0?e:$9},nk=()=>kt(ks),rk=()=>kt(Ss),B9=()=>kt(e=>e.layout.margin),Ln=e=>e.layout.layoutType,dp=()=>kt(Ln),z9=()=>{var e=dp();return e!==void 0},R0=e=>{var t=Yn(),n=li(),{width:r,height:a}=e,i=tk(),o=r,s=a;return i&&(o=i.width>0?i.width:r,s=i.height>0?i.height:a),v.useEffect(()=>{!n&&Vo(o)&&Vo(s)&&t(Q7({width:o,height:s}))},[t,n,o,s]),null},j3=Symbol.for("immer-nothing"),Vj=Symbol.for("immer-draftable"),ji=Symbol.for("immer-state");function oo(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var If=Object.getPrototypeOf;function Lu(e){return!!e&&!!e[ji]}function vc(e){var t;return e?C3(e)||Array.isArray(e)||!!e[Vj]||!!((t=e.constructor)!=null&&t[Vj])||fp(e)||B0(e):!1}var V9=Object.prototype.constructor.toString(),Uj=new WeakMap;function C3(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=Uj.get(n);return r===void 0&&(r=Function.toString.call(n),Uj.set(n,r)),r===V9}function ag(e,t,n=!0){$0(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(r=>{t(r,e[r],e)}):e.forEach((r,a)=>t(a,r,e))}function $0(e){const t=e[ji];return t?t.type_:Array.isArray(e)?1:fp(e)?2:B0(e)?3:0}function gx(e,t){return $0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function M3(e,t,n){const r=$0(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function U9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function fp(e){return e instanceof Map}function B0(e){return e instanceof Set}function zl(e){return e.copy_||e.base_}function yx(e,t){if(fp(e))return new Map(e);if(B0(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=C3(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[ji];let a=Reflect.ownKeys(r);for(let i=0;i<a.length;i++){const o=a[i],s=r[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(If(e),r)}else{const r=If(e);if(r!==null&&n)return{...e};const a=Object.create(r);return Object.assign(a,e)}}function ak(e,t=!1){return z0(e)||Lu(e)||!vc(e)||($0(e)>1&&Object.defineProperties(e,{set:Sm,add:Sm,clear:Sm,delete:Sm}),Object.freeze(e),t&&Object.values(e).forEach(n=>ak(n,!0))),e}function W9(){oo(2)}var Sm={value:W9};function z0(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var H9={};function bc(e){const t=H9[e];return t||oo(0,e),t}var _f;function A3(){return _f}function q9(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Wj(e,t){t&&(bc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function vx(e){bx(e),e.drafts_.forEach(K9),e.drafts_=null}function bx(e){e===_f&&(_f=e.parent_)}function Hj(e){return _f=q9(_f,e)}function K9(e){const t=e[ji];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function qj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[ji].modified_&&(vx(t),oo(4)),vc(e)&&(e=ig(t,e),t.parent_||og(t,e)),t.patches_&&bc("Patches").generateReplacementPatches_(n[ji].base_,e,t.patches_,t.inversePatches_)):e=ig(t,n,[]),vx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==j3?e:void 0}function ig(e,t,n){if(z0(t))return t;const r=e.immer_.shouldUseStrictIteration(),a=t[ji];if(!a)return ag(t,(i,o)=>Kj(e,a,t,i,o,n),r),t;if(a.scope_!==e)return t;if(!a.modified_)return og(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let o=i,s=!1;a.type_===3&&(o=new Set(i),i.clear(),s=!0),ag(o,(l,c)=>Kj(e,a,i,l,c,n,s),r),og(e,i,!1),n&&e.patches_&&bc("Patches").generatePatches_(a,n,e.patches_,e.inversePatches_)}return a.copy_}function Kj(e,t,n,r,a,i,o){if(a==null||typeof a!="object"&&!o)return;const s=z0(a);if(!(s&&!o)){if(Lu(a)){const l=i&&t&&t.type_!==3&&!gx(t.assigned_,r)?i.concat(r):void 0,c=ig(e,a,l);if(M3(n,r,c),Lu(c))e.canAutoFreeze_=!1;else return}else o&&n.add(a);if(vc(a)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===a&&s)return;ig(e,a),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(fp(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&og(e,a)}}}function og(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ak(t,n)}function Y9(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:A3(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,i=ik;n&&(a=[r],i=Lf);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return r.draft_=s,r.revoke_=o,s}var ik={get(e,t){if(t===ji)return e;const n=zl(e);if(!gx(n,t))return G9(e,n,t);const r=n[t];return e.finalized_||!vc(r)?r:r===lv(e.base_,t)?(cv(e),e.copy_[t]=wx(r,e)):r},has(e,t){return t in zl(e)},ownKeys(e){return Reflect.ownKeys(zl(e))},set(e,t,n){const r=E3(zl(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=lv(zl(e),t),i=a==null?void 0:a[ji];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(U9(n,a)&&(n!==void 0||gx(e.base_,t)))return!0;cv(e),xx(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return lv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,cv(e),xx(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=zl(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){oo(11)},getPrototypeOf(e){return If(e.base_)},setPrototypeOf(){oo(12)}},Lf={};ag(ik,(e,t)=>{Lf[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Lf.deleteProperty=function(e,t){return Lf.set.call(this,e,t,void 0)};Lf.set=function(e,t,n){return ik.set.call(this,e[0],t,n,e[0])};function lv(e,t){const n=e[ji];return(n?zl(n):e)[t]}function G9(e,t,n){var r;const a=E3(t,n);return a?"value"in a?a.value:(r=a.get)==null?void 0:r.call(e.draft_):void 0}function E3(e,t){if(!(t in e))return;let n=If(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=If(n)}}function xx(e){e.modified_||(e.modified_=!0,e.parent_&&xx(e.parent_))}function cv(e){e.copy_||(e.copy_=yx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var X9=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const o=this;return function(s=i,...l){return o.produce(s,c=>n.call(this,c,...l))}}typeof n!="function"&&oo(6),r!==void 0&&typeof r!="function"&&oo(7);let a;if(vc(t)){const i=Hj(this),o=wx(t,void 0);let s=!0;try{a=n(o),s=!1}finally{s?vx(i):bx(i)}return Wj(i,r),qj(a,i)}else if(!t||typeof t!="object"){if(a=n(t),a===void 0&&(a=t),a===j3&&(a=void 0),this.autoFreeze_&&ak(a,!0),r){const i=[],o=[];bc("Patches").generateReplacementPatches_(t,a,i,o),r(i,o)}return a}else oo(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(i,...o)=>this.produceWithPatches(i,s=>t(s,...o));let r,a;return[this.produce(t,n,(i,o)=>{r=i,a=o}),r,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){vc(e)||oo(8),Lu(e)&&(e=Z9(e));const t=Hj(this),n=wx(e,void 0);return n[ji].isManual_=!0,bx(t),n}finishDraft(e,t){const n=e&&e[ji];(!n||!n.isManual_)&&oo(9);const{scope_:r}=n;return Wj(r,t),qj(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const r=bc("Patches").applyPatches_;return Lu(e)?r(e,t):this.produce(e,a=>r(a,t))}};function wx(e,t){const n=fp(e)?bc("MapSet").proxyMap_(e,t):B0(e)?bc("MapSet").proxySet_(e,t):Y9(e,t);return(t?t.scope_:A3()).drafts_.push(n),n}function Z9(e){return Lu(e)||oo(10,e),P3(e)}function P3(e){if(!vc(e)||z0(e))return e;const t=e[ji];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=yx(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=yx(e,!0);return ag(n,(a,i)=>{M3(n,a,P3(i))},r),t&&(t.finalized_=!1),n}var Q9=new X9;Q9.produce;var J9={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},T3=si({name:"legend",initialState:J9,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:lr()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,a=uo(e).payload.indexOf(n);a>-1&&(e.payload[a]=r)},prepare:lr()},removeLegendPayload:{reducer(e,t){var n=uo(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:lr()}}}),{setLegendSize:Yj,setLegendSettings:eW,addLegendPayload:D3,replaceLegendPayload:O3,removeLegendPayload:I3}=T3.actions,tW=T3.reducer,nW=["contextPayload"];function kx(){return kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kx.apply(null,arguments)}function Gj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Fu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gj(Object(n),!0).forEach(function(r){rW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rW(e,t,n){return(t=aW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aW(e){var t=iW(e,"string");return typeof t=="symbol"?t:t+""}function iW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oW(e,t){if(e==null)return{};var n,r,a=sW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function sW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function lW(e){return e.value}function cW(e){var{contextPayload:t}=e,n=oW(e,nW),r=kO(t,e.payloadUniqBy,lW),a=Fu(Fu({},n),{},{payload:r});return v.isValidElement(e.content)?v.cloneElement(e.content,a):typeof e.content=="function"?v.createElement(e.content,a):v.createElement(gU,a)}function uW(e,t,n,r,a,i){var{layout:o,align:s,verticalAlign:l}=t,c,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(s==="center"&&o==="vertical"?c={left:((r||0)-i.width)/2}:c=s==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?d={top:((a||0)-i.height)/2}:d=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Fu(Fu({},c),d)}function dW(e){var t=Yn();return v.useEffect(()=>{t(eW(e))},[t,e]),null}function fW(e){var t=Yn();return v.useEffect(()=>(t(Yj(e)),()=>{t(Yj({width:0,height:0}))}),[t,e]),null}function pW(e,t,n,r){return e==="vertical"&&St(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var mW={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function _3(e){var t=Kr(e,mW),n=e7(),r=uV(),a=B9(),{width:i,height:o,wrapperStyle:s,portal:l}=t,[c,d]=IO([n]),f=nk(),p=rk();if(f==null||p==null)return null;var m=f-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),h=pW(t.layout,o,i,m),y=l?s:Fu(Fu({position:"absolute",width:(h==null?void 0:h.width)||i||"auto",height:(h==null?void 0:h.height)||o||"auto"},uW(s,t,a,f,p,c)),s),x=l??r;if(x==null||n==null)return null;var g=v.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:d},v.createElement(dW,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&v.createElement(fW,{width:c.width,height:c.height}),v.createElement(cW,kx({},t,h,{margin:a,chartWidth:f,chartHeight:p,contextPayload:n})));return Gu.createPortal(g,x)}_3.displayName="Legend";function Sx(){return Sx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sx.apply(null,arguments)}function Xj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function uv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xj(Object(n),!0).forEach(function(r){hW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hW(e,t,n){return(t=gW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gW(e){var t=yW(e,"string");return typeof t=="symbol"?t:t+""}function yW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vW(e){return Array.isArray(e)&&zo(e[0])&&zo(e[1])?e.join(" ~ "):e}var bW=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:i,formatter:o,itemSorter:s,wrapperClassName:l,labelClassName:c,label:d,labelFormatter:f,accessibilityLayer:p=!1}=e,m=()=>{if(i&&i.length){var C={padding:0,margin:0},N=(s?k0(i,s):i).map((M,T)=>{if(M.type==="none")return null;var $=M.formatter||o||vW,{value:E,name:P}=M,O=E,U=P;if($){var X=$(E,P,M,T,i);if(Array.isArray(X))[O,U]=X;else if(X!=null)O=X;else return null}var ee=uv({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},r);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:ee},zo(U)?v.createElement("span",{className:"recharts-tooltip-item-name"},U):null,zo(U)?v.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,v.createElement("span",{className:"recharts-tooltip-item-value"},O),v.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:C},N)}return null},h=uv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),y=uv({margin:0},a),x=!qr(d),g=x?d:"",b=Pn("recharts-default-tooltip",l),w=Pn("recharts-tooltip-label",c);x&&f&&i!==void 0&&i!==null&&(g=f(d,i));var S=p?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",Sx({className:b,style:h},S),v.createElement("p",{className:w,style:y},v.isValidElement(g)?g:"".concat(g)),m())},Sd="recharts-tooltip-wrapper",xW={visibility:"hidden"};function wW(e){var{coordinate:t,translateX:n,translateY:r}=e;return Pn(Sd,{["".concat(Sd,"-right")]:St(n)&&t&&St(t.x)&&n>=t.x,["".concat(Sd,"-left")]:St(n)&&t&&St(t.x)&&n<t.x,["".concat(Sd,"-bottom")]:St(r)&&t&&St(t.y)&&r>=t.y,["".concat(Sd,"-top")]:St(r)&&t&&St(t.y)&&r<t.y})}function Zj(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:c}=e;if(i&&St(i[r]))return i[r];var d=n[r]-s-(a>0?a:0),f=n[r]+a;if(t[r])return o[r]?d:f;var p=l[r];if(p==null)return 0;if(o[r]){var m=d,h=p;return m<h?Math.max(f,p):Math.max(d,p)}if(c==null)return 0;var y=f+s,x=p+c;return y>x?Math.max(d,p):Math.max(f,p)}function kW(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function SW(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:s,viewBox:l}=e,c,d,f;return o.height>0&&o.width>0&&n?(d=Zj({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=Zj({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=kW({translateX:d,translateY:f,useTranslate3d:s})):c=xW,{cssProperties:c,cssClasses:wW({translateX:d,translateY:f,coordinate:n})}}function Qj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Nm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qj(Object(n),!0).forEach(function(r){Nx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nx(e,t,n){return(t=NW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NW(e){var t=jW(e,"string");return typeof t=="symbol"?t:t+""}function jW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class CW extends v.PureComponent{constructor(){super(...arguments),Nx(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Nx(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:i,coordinate:o,hasPayload:s,isAnimationActive:l,offset:c,position:d,reverseDirection:f,useTranslate3d:p,viewBox:m,wrapperStyle:h,lastBoundingBox:y,innerRef:x,hasPortalFromProps:g}=this.props,{cssClasses:b,cssProperties:w}=SW({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:c,position:d,reverseDirection:f,tooltipBox:{height:y.height,width:y.width},useTranslate3d:p,viewBox:m}),S=g?{}:Nm(Nm({transition:l&&t?"transform ".concat(r,"ms ").concat(a):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),C=Nm(Nm({},S),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},h);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:C,ref:x},i)}}var L3=()=>{var e;return(e=kt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function jx(){return jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jx.apply(null,arguments)}function Jj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function eC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jj(Object(n),!0).forEach(function(r){MW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MW(e,t,n){return(t=AW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AW(e){var t=EW(e,"string");return typeof t=="symbol"?t:t+""}function EW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tC={curveBasisClosed:EV,curveBasisOpen:PV,curveBasis:AV,curveBumpX:mV,curveBumpY:hV,curveLinearClosed:TV,curveLinear:m0,curveMonotoneX:DV,curveMonotoneY:OV,curveNatural:IV,curveStep:_V,curveStepAfter:FV,curveStepBefore:LV},sg=e=>zr(e.x)&&zr(e.y),nC=e=>e.base!=null&&sg(e.base)&&sg(e),Nd=e=>e.x,jd=e=>e.y,PW=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(op(e));return(n==="curveMonotone"||n==="curveBump")&&t?tC["".concat(n).concat(t==="vertical"?"Y":"X")]:tC[n]||m0},TW=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:a,connectNulls:i=!1}=e,o=PW(t,a),s=i?n.filter(sg):n,l;if(Array.isArray(r)){var c=n.map((m,h)=>eC(eC({},m),{},{base:r[h]}));a==="vertical"?l=gm().y(jd).x1(Nd).x0(m=>m.base.x):l=gm().x(Nd).y1(jd).y0(m=>m.base.y);var d=l.defined(nC).curve(o),f=i?c.filter(nC):c;return d(f)}a==="vertical"&&St(r)?l=gm().y(jd).x1(Nd).x0(r):St(r)?l=gm().x(Nd).y1(jd).y0(r):l=zD().x(Nd).y(jd);var p=l.defined(sg).curve(o);return p(s)},ok=e=>{var{className:t,points:n,path:r,pathRef:a}=e,i=dp();if((!n||!n.length)&&!r)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},s=n&&n.length?TW(o):r;return v.createElement("path",jx({},Yi(e),L1(e),{className:Pn("recharts-curve",t),d:s===null?void 0:s,ref:a}))},DW=["x","y","top","left","width","height","className"];function Cx(){return Cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cx.apply(null,arguments)}function rC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function OW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rC(Object(n),!0).forEach(function(r){IW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IW(e,t,n){return(t=_W(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _W(e){var t=LW(e,"string");return typeof t=="symbol"?t:t+""}function LW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FW(e,t){if(e==null)return{};var n,r,a=RW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function RW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $W=(e,t,n,r,a,i)=>"M".concat(e,",").concat(a,"v").concat(r,"M").concat(i,",").concat(t,"h").concat(n),BW=e=>{var{x:t=0,y:n=0,top:r=0,left:a=0,width:i=0,height:o=0,className:s}=e,l=FW(e,DW),c=OW({x:t,y:n,top:r,left:a,width:i,height:o},l);return!St(t)||!St(n)||!St(i)||!St(o)||!St(r)||!St(a)?null:v.createElement("path",Cx({},Ba(c),{className:Pn("recharts-cross",s),d:$W(t,n,i,o,r,a)}))};function zW(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function aC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function iC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aC(Object(n),!0).forEach(function(r){VW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VW(e,t,n){return(t=UW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UW(e){var t=WW(e,"string");return typeof t=="symbol"?t:t+""}function WW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HW=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),F3=(e,t,n)=>e.map(r=>"".concat(HW(r)," ").concat(t,"ms ").concat(n)).join(","),qW=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(a=>r.includes(a))),Ff=(e,t)=>Object.keys(t).reduce((n,r)=>iC(iC({},n),{},{[r]:e(r,t[r])}),{});function oC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Wr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oC(Object(n),!0).forEach(function(r){KW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KW(e,t,n){return(t=YW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YW(e){var t=GW(e,"string");return typeof t=="symbol"?t:t+""}function GW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lg=(e,t,n)=>e+(t-e)*n,Mx=e=>{var{from:t,to:n}=e;return t!==n},R3=(e,t,n)=>{var r=Ff((a,i)=>{if(Mx(i)){var[o,s]=e(i.from,i.to,i.velocity);return Wr(Wr({},i),{},{from:o,velocity:s})}return i},t);return n<1?Ff((a,i)=>Mx(i)&&r[a]!=null?Wr(Wr({},i),{},{velocity:lg(i.velocity,r[a].velocity,n),from:lg(i.from,r[a].from,n)}):i,t):R3(e,r,n-1)};function XW(e,t,n,r,a,i){var o,s=r.reduce((p,m)=>Wr(Wr({},p),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),l=()=>Ff((p,m)=>m.from,s),c=()=>!Object.values(s).filter(Mx).length,d=null,f=p=>{o||(o=p);var m=p-o,h=m/n.dt;s=R3(n,s,h),a(Wr(Wr(Wr({},e),t),l())),o=p,c()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{var p;(p=d)===null||p===void 0||p()})}function ZW(e,t,n,r,a,i,o){var s=null,l=a.reduce((f,p)=>{var m=e[p],h=t[p];return m==null||h==null?f:Wr(Wr({},f),{},{[p]:[m,h]})},{}),c,d=f=>{c||(c=f);var p=(f-c)/r,m=Ff((y,x)=>lg(...x,n(p)),l);if(i(Wr(Wr(Wr({},e),t),m)),p<1)s=o.setTimeout(d);else{var h=Ff((y,x)=>lg(...x,n(1)),l);i(Wr(Wr(Wr({},e),t),h))}};return()=>(s=o.setTimeout(d),()=>{var f;(f=s)===null||f===void 0||f()})}const QW=(e,t,n,r,a,i)=>{var o=qW(e,t);return n==null?()=>(a(Wr(Wr({},e),t)),()=>{}):n.isStepper===!0?XW(e,t,n,o,a,i):ZW(e,t,n,r,o,a,i)};var cg=1e-4,$3=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],B3=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),sC=(e,t)=>n=>{var r=$3(e,t);return B3(r,n)},JW=(e,t)=>n=>{var r=$3(e,t),a=[...r.map((i,o)=>i*o).slice(1),0];return B3(a,n)},eH=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var a=r.map(i=>parseFloat(i));return[a[0],a[1],a[2],a[3]]},tH=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length===1)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var r=eH(t[0]);if(r)return r}}return t.length===4?t:[0,0,1,1]},nH=(e,t,n,r)=>{var a=sC(e,n),i=sC(t,r),o=JW(e,n),s=c=>c>1?1:c<0?0:c,l=c=>{for(var d=c>1?1:c,f=d,p=0;p<8;++p){var m=a(f)-d,h=o(f);if(Math.abs(m-d)<cg||h<cg)return i(f);f=s(f-m/h)}return i(f)};return l.isStepper=!1,l},lC=function(){return nH(...tH(...arguments))},rH=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:t=100,damping:n=8,dt:r=17}=e,a=(i,o,s)=>{var l=-(i-o)*t,c=s*n,d=s+(l-c)*r/1e3,f=s*r/1e3+i;return Math.abs(f-o)<cg&&Math.abs(d)<cg?[o,0]:[f,d]};return a.isStepper=!0,a.dt=r,a},aH=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return lC(e);case"spring":return rH();default:if(e.split("(")[0]==="cubic-bezier")return lC(e)}return typeof e=="function"?e:null};function iH(e){var t,n=()=>null,r=!1,a=null,i=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var s=o,[l,...c]=s;if(typeof l=="number"){a=e.setTimeout(i.bind(null,c),l);return}i(l),a=e.setTimeout(i.bind(null,c));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,a&&(a(),a=null),i(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class oH{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,i=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function sH(){return iH(new oH)}var lH=v.createContext(sH);function cH(e,t){var n=v.useContext(lH);return v.useMemo(()=>t??n(e),[e,t,n])}var uH=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),V0={isSsr:uH()},dH={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},cC={t:0},dv={t:1};function U0(e){var t=Kr(e,dH),{isActive:n,canBegin:r,duration:a,easing:i,begin:o,onAnimationEnd:s,onAnimationStart:l,children:c}=t,d=n==="auto"?!V0.isSsr:n,f=cH(t.animationId,t.animationManager),[p,m]=v.useState(d?cC:dv),h=v.useRef(null);return v.useEffect(()=>{d||m(dv)},[d]),v.useEffect(()=>{if(!d||!r)return sp;var y=QW(cC,dv,aH(i),a,m,f.getTimeoutController()),x=()=>{h.current=y()};return f.start([l,o,x,a,s]),()=>{f.stop(),h.current&&h.current(),s()}},[d,r,a,i,o,l,s,f]),c(p.t)}function W0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=v.useRef(Pf(t)),r=v.useRef(e);return r.current!==e&&(n.current=Pf(t),r.current=e),n.current}var fH=["radius"],pH=["radius"],uC,dC,fC,pC,mC,hC,gC,yC,vC,bC;function xC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function wC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xC(Object(n),!0).forEach(function(r){mH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mH(e,t,n){return(t=hH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hH(e){var t=gH(e,"string");return typeof t=="symbol"?t:t+""}function gH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ug(){return ug=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ug.apply(null,arguments)}function kC(e,t){if(e==null)return{};var n,r,a=yH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function yH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ao(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var SC=(e,t,n,r,a)=>{var i=tl(n),o=tl(r),s=Math.min(Math.abs(i)/2,Math.abs(o)/2),l=o>=0?1:-1,c=i>=0?1:-1,d=o>=0&&i>=0||o<0&&i<0?1:0,f;if(s>0&&a instanceof Array){for(var p=[0,0,0,0],m=0,h=4;m<h;m++)p[m]=a[m]>s?s:a[m];f=Sr(uC||(uC=Ao(["M",",",""])),e,t+l*p[0]),p[0]>0&&(f+=Sr(dC||(dC=Ao(["A ",",",",0,0,",",",",",""])),p[0],p[0],d,e+c*p[0],t)),f+=Sr(fC||(fC=Ao(["L ",",",""])),e+n-c*p[1],t),p[1]>0&&(f+=Sr(pC||(pC=Ao(["A ",",",",0,0,",`,
        `,",",""])),p[1],p[1],d,e+n,t+l*p[1])),f+=Sr(mC||(mC=Ao(["L ",",",""])),e+n,t+r-l*p[2]),p[2]>0&&(f+=Sr(hC||(hC=Ao(["A ",",",",0,0,",`,
        `,",",""])),p[2],p[2],d,e+n-c*p[2],t+r)),f+=Sr(gC||(gC=Ao(["L ",",",""])),e+c*p[3],t+r),p[3]>0&&(f+=Sr(yC||(yC=Ao(["A ",",",",0,0,",`,
        `,",",""])),p[3],p[3],d,e,t+r-l*p[3])),f+="Z"}else if(s>0&&a===+a&&a>0){var y=Math.min(s,a);f=Sr(vC||(vC=Ao(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+l*y,y,y,d,e+c*y,t,e+n-c*y,t,y,y,d,e+n,t+l*y,e+n,t+r-l*y,y,y,d,e+n-c*y,t+r,e+c*y,t+r,y,y,d,e,t+r-l*y)}else f=Sr(bC||(bC=Ao(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return f},NC={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},z3=e=>{var t=Kr(e,NC),n=v.useRef(null),[r,a]=v.useState(-1);v.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var z=n.current.getTotalLength();z&&a(z)}catch{}},[]);var{x:i,y:o,width:s,height:l,radius:c,className:d}=t,{animationEasing:f,animationDuration:p,animationBegin:m,isAnimationActive:h,isUpdateAnimationActive:y}=t,x=v.useRef(s),g=v.useRef(l),b=v.useRef(i),w=v.useRef(o),S=v.useMemo(()=>({x:i,y:o,width:s,height:l,radius:c}),[i,o,s,l,c]),C=W0(S,"rectangle-");if(i!==+i||o!==+o||s!==+s||l!==+l||s===0||l===0)return null;var N=Pn("recharts-rectangle",d);if(!y){var M=Ba(t),{radius:T}=M,$=kC(M,fH);return v.createElement("path",ug({},$,{x:tl(i),y:tl(o),width:tl(s),height:tl(l),radius:typeof c=="number"?c:void 0,className:N,d:SC(i,o,s,l,c)}))}var E=x.current,P=g.current,O=b.current,U=w.current,X="0px ".concat(r===-1?1:r,"px"),ee="".concat(r,"px 0px"),de=F3(["strokeDasharray"],p,typeof f=="string"?f:NC.animationEasing);return v.createElement(U0,{animationId:C,key:C,canBegin:r>0,duration:p,easing:f,isActive:y,begin:m},z=>{var B=Na(E,s,z),ie=Na(P,l,z),k=Na(O,i,z),I=Na(U,o,z);n.current&&(x.current=B,g.current=ie,b.current=k,w.current=I);var A;h?z>0?A={transition:de,strokeDasharray:ee}:A={strokeDasharray:X}:A={strokeDasharray:ee};var j=Ba(t),{radius:L}=j,q=kC(j,pH);return v.createElement("path",ug({},q,{radius:typeof c=="number"?c:void 0,className:N,d:SC(k,I,B,ie,c),ref:n,style:wC(wC({},A),t.style)}))})};function jC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function CC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jC(Object(n),!0).forEach(function(r){vH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vH(e,t,n){return(t=bH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bH(e){var t=xH(e,"string");return typeof t=="symbol"?t:t+""}function xH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dg=Math.PI/180,wH=e=>e*180/Math.PI,$r=(e,t,n,r)=>({x:e+Math.cos(-dg*r)*n,y:t+Math.sin(-dg*r)*n}),V3=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},kH=(e,t)=>{var{x:n,y:r}=e,{x:a,y:i}=t;return Math.sqrt((n-a)**2+(r-i)**2)},SH=(e,t)=>{var{x:n,y:r}=e,{cx:a,cy:i}=t,o=kH({x:n,y:r},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var s=(n-a)/o,l=Math.acos(s);return r>i&&(l=2*Math.PI-l),{radius:o,angle:wH(l),angleInRadian:l}},NH=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),a=Math.floor(n/360),i=Math.min(r,a);return{startAngle:t-i*360,endAngle:n-i*360}},jH=(e,t)=>{var{startAngle:n,endAngle:r}=t,a=Math.floor(n/360),i=Math.floor(r/360),o=Math.min(a,i);return e+o*360},CH=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:a,angle:i}=SH({x:n,y:r},t),{innerRadius:o,outerRadius:s}=t;if(a<o||a>s||a===0)return null;var{startAngle:l,endAngle:c}=NH(t),d=i,f;if(l<=c){for(;d>c;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=c}else{for(;d>l;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=l}return f?CC(CC({},t),{},{radius:a,angle:jH(d,t)}):null};function U3(e){var{cx:t,cy:n,radius:r,startAngle:a,endAngle:i}=e,o=$r(t,n,r,a),s=$r(t,n,r,i);return{points:[o,s],cx:t,cy:n,radius:r,startAngle:a,endAngle:i}}var MC,AC,EC,PC,TC,DC,OC;function Ax(){return Ax=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ax.apply(null,arguments)}function Xl(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var MH=(e,t)=>{var n=ja(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},jm=e=>{var{cx:t,cy:n,radius:r,angle:a,sign:i,isExternal:o,cornerRadius:s,cornerIsExternal:l}=e,c=s*(o?1:-1)+r,d=Math.asin(s/c)/dg,f=l?a:a+i*d,p=$r(t,n,c,f),m=$r(t,n,r,f),h=l?a-i*d:a,y=$r(t,n,c*Math.cos(d*dg),h);return{center:p,circleTangency:m,lineTangency:y,theta:d}},W3=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:i,endAngle:o}=e,s=MH(i,o),l=i+s,c=$r(t,n,a,i),d=$r(t,n,a,l),f=Sr(MC||(MC=Xl(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),c.x,c.y,a,a,+(Math.abs(s)>180),+(i>l),d.x,d.y);if(r>0){var p=$r(t,n,r,i),m=$r(t,n,r,l);f+=Sr(AC||(AC=Xl(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,r,r,+(Math.abs(s)>180),+(i<=l),p.x,p.y)}else f+=Sr(EC||(EC=Xl(["L ",","," Z"])),t,n);return f},AH=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:c}=e,d=ja(c-l),{circleTangency:f,lineTangency:p,theta:m}=jm({cx:t,cy:n,radius:a,angle:l,sign:d,cornerRadius:i,cornerIsExternal:s}),{circleTangency:h,lineTangency:y,theta:x}=jm({cx:t,cy:n,radius:a,angle:c,sign:-d,cornerRadius:i,cornerIsExternal:s}),g=s?Math.abs(l-c):Math.abs(l-c)-m-x;if(g<0)return o?Sr(PC||(PC=Xl(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),p.x,p.y,i,i,i*2,i,i,-i*2):W3({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:l,endAngle:c});var b=Sr(TC||(TC=Xl(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),p.x,p.y,i,i,+(d<0),f.x,f.y,a,a,+(g>180),+(d<0),h.x,h.y,i,i,+(d<0),y.x,y.y);if(r>0){var{circleTangency:w,lineTangency:S,theta:C}=jm({cx:t,cy:n,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),{circleTangency:N,lineTangency:M,theta:T}=jm({cx:t,cy:n,radius:r,angle:c,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),$=s?Math.abs(l-c):Math.abs(l-c)-C-T;if($<0&&i===0)return"".concat(b,"L").concat(t,",").concat(n,"Z");b+=Sr(DC||(DC=Xl(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),M.x,M.y,i,i,+(d<0),N.x,N.y,r,r,+($>180),+(d>0),w.x,w.y,i,i,+(d<0),S.x,S.y)}else b+=Sr(OC||(OC=Xl(["L",",","Z"])),t,n);return b},EH={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},H3=e=>{var t=Kr(e,EH),{cx:n,cy:r,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:d,className:f}=t;if(i<a||c===d)return null;var p=Pn("recharts-sector",f),m=i-a,h=Hi(o,m,0,!0),y;return h>0&&Math.abs(c-d)<360?y=AH({cx:n,cy:r,innerRadius:a,outerRadius:i,cornerRadius:Math.min(h,m/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:d}):y=W3({cx:n,cy:r,innerRadius:a,outerRadius:i,startAngle:c,endAngle:d}),v.createElement("path",Ax({},Ba(t),{className:p,d:y}))};function PH(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(rO(t)){if(e==="centric"){var{cx:r,cy:a,innerRadius:i,outerRadius:o,angle:s}=t,l=$r(r,a,i,s),c=$r(r,a,o,s);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return U3(t)}}var q3={},K3={},Y3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K1;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(Y3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y3;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(K3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y1,n=K3;function r(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=n.toFinite(a),i===void 0?(i=a,a=0):i=n.toFinite(i),o=o===void 0?a<i?1:-1:n.toFinite(o);const s=Math.max(Math.ceil((i-a)/(o||1)),0),l=new Array(s);for(let c=0;c<s;c++)l[c]=a,a+=o;return l}e.range=r})(q3);var TH=q3.range;const G3=bo(TH);function dl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function DH(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function sk(e){let t,n,r;e.length!==2?(t=dl,n=(s,l)=>dl(e(s),l),r=(s,l)=>e(s)-l):(t=e===dl||e===DH?e:OH,n=e,r=e);function a(s,l,c=0,d=s.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;n(s[f],l)<0?c=f+1:d=f}while(c<d)}return c}function i(s,l,c=0,d=s.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;n(s[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function o(s,l,c=0,d=s.length){const f=a(s,l,c,d-1);return f>c&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:a,center:o,right:i}}function OH(){return 0}function X3(e){return e===null?NaN:+e}function*IH(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const _H=sk(dl),pp=_H.right;sk(X3).center;class IC extends Map{constructor(t,n=RH){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(_C(this,t))}has(t){return super.has(_C(this,t))}set(t,n){return super.set(LH(this,t),n)}delete(t){return super.delete(FH(this,t))}}function _C({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function LH({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function FH({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function RH(e){return e!==null&&typeof e=="object"?e.valueOf():e}function $H(e=dl){if(e===dl)return Z3;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Z3(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const BH=Math.sqrt(50),zH=Math.sqrt(10),VH=Math.sqrt(2);function fg(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=BH?10:i>=zH?5:i>=VH?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?fg(e,t,n*2):[s,l,c]}function Ex(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,i,o]=r?fg(t,e,n):fg(e,t,n);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(i-c)/-o;else for(let c=0;c<s;++c)l[c]=(i-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(a+c)/-o;else for(let c=0;c<s;++c)l[c]=(a+c)*o;return l}function Px(e,t,n){return t=+t,e=+e,n=+n,fg(e,t,n)[2]}function Tx(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?Px(t,e,n):Px(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function LC(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function FC(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Q3(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?Z3:$H(a);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),m=Math.max(n,Math.floor(t-c*f/l+p)),h=Math.min(r,Math.floor(t+(l-c)*f/l+p));Q3(e,t,m,h,a)}const i=e[t];let o=n,s=r;for(Cd(e,n,t),a(e[r],i)>0&&Cd(e,n,r);o<s;){for(Cd(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}a(e[n],i)===0?Cd(e,n,s):(++s,Cd(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Cd(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function UH(e,t,n){if(e=Float64Array.from(IH(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return FC(e);if(t>=1)return LC(e);var r,a=(r-1)*t,i=Math.floor(a),o=LC(Q3(e,i).subarray(0,i+1)),s=FC(e.subarray(i+1));return o+(s-o)*(a-i)}}function WH(e,t,n=X3){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),o=+n(e[i],i,e),s=+n(e[i+1],i+1,e);return o+(s-o)*(a-i)}}function HH(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++r<a;)i[r]=e+r*n;return i}function Zi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ns(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Dx=Symbol("implicit");function lk(){var e=new IC,t=[],n=[],r=Dx;function a(i){let o=e.get(i);if(o===void 0){if(r!==Dx)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new IC;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return lk(t,n).unknown(r)},Zi.apply(a,arguments),a}function ck(){var e=lk().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,i,o,s=!1,l=0,c=0,d=.5;delete e.unknown;function f(){var p=t().length,m=a<r,h=m?a:r,y=m?r:a;i=(y-h)/Math.max(1,p-l+c*2),s&&(i=Math.floor(i)),h+=(y-h-i*(p-l))*d,o=i*(1-l),s&&(h=Math.round(h),o=Math.round(o));var x=HH(p).map(function(g){return h+i*g});return n(m?x.reverse():x)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([r,a]=p,r=+r,a=+a,f()):[r,a]},e.rangeRound=function(p){return[r,a]=p,r=+r,a=+a,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(p){return arguments.length?(s=!!p,f()):s},e.padding=function(p){return arguments.length?(l=Math.min(1,c=+p),f()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},e.paddingOuter=function(p){return arguments.length?(c=+p,f()):c},e.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},e.copy=function(){return ck(t(),[r,a]).round(s).paddingInner(l).paddingOuter(c).align(d)},Zi.apply(f(),arguments)}function J3(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return J3(t())},e}function qH(){return J3(ck.apply(null,arguments).paddingInner(1))}function uk(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function e4(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function mp(){}var Rf=.7,pg=1/Rf,ku="\\s*([+-]?\\d+)\\s*",$f="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ro="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",KH=/^#([0-9a-f]{3,8})$/,YH=new RegExp(`^rgb\\(${ku},${ku},${ku}\\)$`),GH=new RegExp(`^rgb\\(${Ro},${Ro},${Ro}\\)$`),XH=new RegExp(`^rgba\\(${ku},${ku},${ku},${$f}\\)$`),ZH=new RegExp(`^rgba\\(${Ro},${Ro},${Ro},${$f}\\)$`),QH=new RegExp(`^hsl\\(${$f},${Ro},${Ro}\\)$`),JH=new RegExp(`^hsla\\(${$f},${Ro},${Ro},${$f}\\)$`),RC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};uk(mp,Bf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:$C,formatHex:$C,formatHex8:eq,formatHsl:tq,formatRgb:BC,toString:BC});function $C(){return this.rgb().formatHex()}function eq(){return this.rgb().formatHex8()}function tq(){return t4(this).formatHsl()}function BC(){return this.rgb().formatRgb()}function Bf(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=KH.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?zC(t):n===3?new Ja(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Cm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Cm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=YH.exec(e))?new Ja(t[1],t[2],t[3],1):(t=GH.exec(e))?new Ja(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=XH.exec(e))?Cm(t[1],t[2],t[3],t[4]):(t=ZH.exec(e))?Cm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=QH.exec(e))?WC(t[1],t[2]/100,t[3]/100,1):(t=JH.exec(e))?WC(t[1],t[2]/100,t[3]/100,t[4]):RC.hasOwnProperty(e)?zC(RC[e]):e==="transparent"?new Ja(NaN,NaN,NaN,0):null}function zC(e){return new Ja(e>>16&255,e>>8&255,e&255,1)}function Cm(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ja(e,t,n,r)}function nq(e){return e instanceof mp||(e=Bf(e)),e?(e=e.rgb(),new Ja(e.r,e.g,e.b,e.opacity)):new Ja}function Ox(e,t,n,r){return arguments.length===1?nq(e):new Ja(e,t,n,r??1)}function Ja(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}uk(Ja,Ox,e4(mp,{brighter(e){return e=e==null?pg:Math.pow(pg,e),new Ja(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Rf:Math.pow(Rf,e),new Ja(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ja(oc(this.r),oc(this.g),oc(this.b),mg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:VC,formatHex:VC,formatHex8:rq,formatRgb:UC,toString:UC}));function VC(){return`#${Zl(this.r)}${Zl(this.g)}${Zl(this.b)}`}function rq(){return`#${Zl(this.r)}${Zl(this.g)}${Zl(this.b)}${Zl((isNaN(this.opacity)?1:this.opacity)*255)}`}function UC(){const e=mg(this.opacity);return`${e===1?"rgb(":"rgba("}${oc(this.r)}, ${oc(this.g)}, ${oc(this.b)}${e===1?")":`, ${e})`}`}function mg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function oc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Zl(e){return e=oc(e),(e<16?"0":"")+e.toString(16)}function WC(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new so(e,t,n,r)}function t4(e){if(e instanceof so)return new so(e.h,e.s,e.l,e.opacity);if(e instanceof mp||(e=Bf(e)),!e)return new so;if(e instanceof so)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,s=i-a,l=(i+a)/2;return s?(t===i?o=(n-r)/s+(n<r)*6:n===i?o=(r-t)/s+2:o=(t-n)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new so(o,s,l,e.opacity)}function aq(e,t,n,r){return arguments.length===1?t4(e):new so(e,t,n,r??1)}function so(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}uk(so,aq,e4(mp,{brighter(e){return e=e==null?pg:Math.pow(pg,e),new so(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Rf:Math.pow(Rf,e),new so(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Ja(fv(e>=240?e-240:e+120,a,r),fv(e,a,r),fv(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new so(HC(this.h),Mm(this.s),Mm(this.l),mg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=mg(this.opacity);return`${e===1?"hsl(":"hsla("}${HC(this.h)}, ${Mm(this.s)*100}%, ${Mm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function HC(e){return e=(e||0)%360,e<0?e+360:e}function Mm(e){return Math.max(0,Math.min(1,e||0))}function fv(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const dk=e=>()=>e;function iq(e,t){return function(n){return e+n*t}}function oq(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function sq(e){return(e=+e)==1?n4:function(t,n){return n-t?oq(t,n,e):dk(isNaN(t)?n:t)}}function n4(e,t){var n=t-e;return n?iq(e,n):dk(isNaN(e)?t:e)}const qC=function e(t){var n=sq(t);function r(a,i){var o=n((a=Ox(a)).r,(i=Ox(i)).r),s=n(a.g,i.g),l=n(a.b,i.b),c=n4(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=s(d),a.b=l(d),a.opacity=c(d),a+""}}return r.gamma=e,r}(1);function lq(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function cq(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function uq(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=Xu(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(s){for(o=0;o<r;++o)i[o]=a[o](s);return i}}function dq(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function hg(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function fq(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=Xu(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var Ix=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pv=new RegExp(Ix.source,"g");function pq(e){return function(){return e}}function mq(e){return function(t){return e(t)+""}}function hq(e,t){var n=Ix.lastIndex=pv.lastIndex=0,r,a,i,o=-1,s=[],l=[];for(e=e+"",t=t+"";(r=Ix.exec(e))&&(a=pv.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),s[o]?s[o]+=i:s[++o]=i),(r=r[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,l.push({i:o,x:hg(r,a)})),n=pv.lastIndex;return n<t.length&&(i=t.slice(n),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?mq(l[0].x):pq(t):(t=l.length,function(c){for(var d=0,f;d<t;++d)s[(f=l[d]).i]=f.x(c);return s.join("")})}function Xu(e,t){var n=typeof t,r;return t==null||n==="boolean"?dk(t):(n==="number"?hg:n==="string"?(r=Bf(t))?(t=r,qC):hq:t instanceof Bf?qC:t instanceof Date?dq:cq(t)?lq:Array.isArray(t)?uq:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?fq:hg)(e,t)}function fk(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function gq(e,t){t===void 0&&(t=e,e=Xu);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[s](o-s)}}function yq(e){return function(){return e}}function gg(e){return+e}var KC=[0,1];function Ra(e){return e}function _x(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:yq(isNaN(t)?NaN:.5)}function vq(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function bq(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=_x(a,r),i=n(o,i)):(r=_x(r,a),i=n(i,o)),function(s){return i(r(s))}}function xq(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=_x(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(s){var l=pp(e,s,1,r)-1;return i[l](a[l](s))}}function hp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function H0(){var e=KC,t=KC,n=Xu,r,a,i,o=Ra,s,l,c;function d(){var p=Math.min(e.length,t.length);return o!==Ra&&(o=vq(e[0],e[p-1])),s=p>2?xq:bq,l=c=null,f}function f(p){return p==null||isNaN(p=+p)?i:(l||(l=s(e.map(r),t,n)))(r(o(p)))}return f.invert=function(p){return o(a((c||(c=s(t,e.map(r),hg)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,gg),d()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),d()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),n=fk,d()},f.clamp=function(p){return arguments.length?(o=p?!0:Ra,d()):o!==Ra},f.interpolate=function(p){return arguments.length?(n=p,d()):n},f.unknown=function(p){return arguments.length?(i=p,f):i},function(p,m){return r=p,a=m,d()}}function pk(){return H0()(Ra,Ra)}function wq(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function yg(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Ru(e){return e=yg(Math.abs(e)),e?e[1]:NaN}function kq(e,t){return function(n,r){for(var a=n.length,i=[],o=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),i.push(n.substring(a-=s,a+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function Sq(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Nq=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function zf(e){if(!(t=Nq.exec(e)))throw new Error("invalid format: "+e);var t;return new mk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}zf.prototype=mk.prototype;function mk(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}mk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function jq(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var vg;function Cq(e,t){var n=yg(e,t);if(!n)return vg=void 0,e.toPrecision(t);var r=n[0],a=n[1],i=a-(vg=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+yg(e,Math.max(0,t+i-1))[0]}function YC(e,t){var n=yg(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const GC={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:wq,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>YC(e*100,t),r:YC,s:Cq,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function XC(e){return e}var ZC=Array.prototype.map,QC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Mq(e){var t=e.grouping===void 0||e.thousands===void 0?XC:kq(ZC.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?XC:Sq(ZC.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f,p){f=zf(f);var m=f.fill,h=f.align,y=f.sign,x=f.symbol,g=f.zero,b=f.width,w=f.comma,S=f.precision,C=f.trim,N=f.type;N==="n"?(w=!0,N="g"):GC[N]||(S===void 0&&(S=12),C=!0,N="g"),(g||m==="0"&&h==="=")&&(g=!0,m="0",h="=");var M=(p&&p.prefix!==void 0?p.prefix:"")+(x==="$"?n:x==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():""),T=(x==="$"?r:/[%p]/.test(N)?o:"")+(p&&p.suffix!==void 0?p.suffix:""),$=GC[N],E=/[defgprs%]/.test(N);S=S===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function P(O){var U=M,X=T,ee,de,z;if(N==="c")X=$(O)+X,O="";else{O=+O;var B=O<0||1/O<0;if(O=isNaN(O)?l:$(Math.abs(O),S),C&&(O=jq(O)),B&&+O==0&&y!=="+"&&(B=!1),U=(B?y==="("?y:s:y==="-"||y==="("?"":y)+U,X=(N==="s"&&!isNaN(O)&&vg!==void 0?QC[8+vg/3]:"")+X+(B&&y==="("?")":""),E){for(ee=-1,de=O.length;++ee<de;)if(z=O.charCodeAt(ee),48>z||z>57){X=(z===46?a+O.slice(ee+1):O.slice(ee))+X,O=O.slice(0,ee);break}}}w&&!g&&(O=t(O,1/0));var ie=U.length+O.length+X.length,k=ie<b?new Array(b-ie+1).join(m):"";switch(w&&g&&(O=t(k+O,k.length?b-X.length:1/0),k=""),h){case"<":O=U+O+X+k;break;case"=":O=U+k+O+X;break;case"^":O=k.slice(0,ie=k.length>>1)+U+O+X+k.slice(ie);break;default:O=k+U+O+X;break}return i(O)}return P.toString=function(){return f+""},P}function d(f,p){var m=Math.max(-8,Math.min(8,Math.floor(Ru(p)/3)))*3,h=Math.pow(10,-m),y=c((f=zf(f),f.type="f",f),{suffix:QC[8+m/3]});return function(x){return y(h*x)}}return{format:c,formatPrefix:d}}var Am,hk,r4;Aq({thousands:",",grouping:[3],currency:["$",""]});function Aq(e){return Am=Mq(e),hk=Am.format,r4=Am.formatPrefix,Am}function Eq(e){return Math.max(0,-Ru(Math.abs(e)))}function Pq(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ru(t)/3)))*3-Ru(Math.abs(e)))}function Tq(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ru(t)-Ru(e))+1}function a4(e,t,n,r){var a=Tx(e,t,n),i;switch(r=zf(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=Pq(a,o))&&(r.precision=i),r4(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=Tq(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=Eq(a))&&(r.precision=i-(r.type==="%")*2);break}}return hk(r)}function Sl(e){var t=e.domain;return e.ticks=function(n){var r=t();return Ex(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return a4(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,o=r[a],s=r[i],l,c,d=10;for(s<o&&(c=o,o=s,s=c,c=a,a=i,i=c);d-- >0;){if(c=Px(o,s,n),c===l)return r[a]=o,r[i]=s,t(r);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function i4(){var e=pk();return e.copy=function(){return hp(e,i4())},Zi.apply(e,arguments),Sl(e)}function o4(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,gg),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return o4(e).unknown(t)},e=arguments.length?Array.from(e,gg):[0,1],Sl(n)}function s4(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],i=e[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),e[n]=t.floor(a),e[r]=t.ceil(i),e}function JC(e){return Math.log(e)}function eM(e){return Math.exp(e)}function Dq(e){return-Math.log(-e)}function Oq(e){return-Math.exp(-e)}function Iq(e){return isFinite(e)?+("1e"+e):e<0?0:e}function _q(e){return e===10?Iq:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Lq(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function tM(e){return(t,n)=>-e(-t,n)}function gk(e){const t=e(JC,eM),n=t.domain;let r=10,a,i;function o(){return a=Lq(r),i=_q(r),n()[0]<0?(a=tM(a),i=tM(i),e(Dq,Oq)):e(JC,eM),t}return t.base=function(s){return arguments.length?(r=+s,o()):r},t.domain=function(s){return arguments.length?(n(s),o()):n()},t.ticks=s=>{const l=n();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let p=a(c),m=a(d),h,y;const x=s==null?10:+s;let g=[];if(!(r%1)&&m-p<x){if(p=Math.floor(p),m=Math.ceil(m),c>0){for(;p<=m;++p)for(h=1;h<r;++h)if(y=p<0?h/i(-p):h*i(p),!(y<c)){if(y>d)break;g.push(y)}}else for(;p<=m;++p)for(h=r-1;h>=1;--h)if(y=p>0?h/i(-p):h*i(p),!(y<c)){if(y>d)break;g.push(y)}g.length*2<x&&(g=Ex(c,d,x))}else g=Ex(p,m,Math.min(m-p,x)).map(i);return f?g.reverse():g},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=zf(l)).precision==null&&(l.trim=!0),l=hk(l)),s===1/0)return l;const c=Math.max(1,r*s/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*r<r-.5&&(f*=r),f<=c?l(d):""}},t.nice=()=>n(s4(n(),{floor:s=>i(Math.floor(a(s))),ceil:s=>i(Math.ceil(a(s)))})),t}function l4(){const e=gk(H0()).domain([1,10]);return e.copy=()=>hp(e,l4()).base(e.base()),Zi.apply(e,arguments),e}function nM(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function rM(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function yk(e){var t=1,n=e(nM(t),rM(t));return n.constant=function(r){return arguments.length?e(nM(t=+r),rM(t)):t},Sl(n)}function c4(){var e=yk(H0());return e.copy=function(){return hp(e,c4()).constant(e.constant())},Zi.apply(e,arguments)}function aM(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Fq(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Rq(e){return e<0?-e*e:e*e}function vk(e){var t=e(Ra,Ra),n=1;function r(){return n===1?e(Ra,Ra):n===.5?e(Fq,Rq):e(aM(n),aM(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},Sl(t)}function bk(){var e=vk(H0());return e.copy=function(){return hp(e,bk()).exponent(e.exponent())},Zi.apply(e,arguments),e}function $q(){return bk.apply(null,arguments).exponent(.5)}function iM(e){return Math.sign(e)*e*e}function Bq(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function u4(){var e=pk(),t=[0,1],n=!1,r;function a(i){var o=Bq(e(i));return isNaN(o)?r:n?Math.round(o):o}return a.invert=function(i){return e.invert(iM(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,gg)).map(iM)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return u4(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Zi.apply(a,arguments),Sl(a)}function d4(){var e=[],t=[],n=[],r;function a(){var o=0,s=Math.max(1,t.length);for(n=new Array(s-1);++o<s;)n[o-1]=WH(e,o/s);return i}function i(o){return o==null||isNaN(o=+o)?r:t[pp(n,o)]}return i.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(dl),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return d4().domain(e).range(t).unknown(r)},Zi.apply(i,arguments)}function f4(){var e=0,t=1,n=1,r=[.5],a=[0,1],i;function o(l){return l!=null&&l<=l?a[pp(r,l,0,n)]:i}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(n=(a=Array.from(l)).length-1,s()):a.slice()},o.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},o.unknown=function(l){return arguments.length&&(i=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return f4().domain([e,t]).range(a).unknown(i)},Zi.apply(Sl(o),arguments)}function p4(){var e=[.5],t=[0,1],n,r=1;function a(i){return i!=null&&i<=i?t[pp(e,i,0,r)]:n}return a.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return p4().domain(e).range(t).unknown(n)},Zi.apply(a,arguments)}const mv=new Date,hv=new Date;function Yr(e,t,n,r){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{const l=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return l;let c;do l.push(c=new Date(+i)),t(i,s),e(i);while(c<i&&i<o);return l},a.filter=i=>Yr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!i(o););else for(;--s>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>(mv.setTime(+i),hv.setTime(+o),e(mv),e(hv),Math.floor(n(mv,hv))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const bg=Yr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);bg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Yr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):bg);bg.range;const ns=1e3,Ui=ns*60,rs=Ui*60,gs=rs*24,xk=gs*7,oM=gs*30,gv=gs*365,Ql=Yr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ns)},(e,t)=>(t-e)/ns,e=>e.getUTCSeconds());Ql.range;const wk=Yr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ns)},(e,t)=>{e.setTime(+e+t*Ui)},(e,t)=>(t-e)/Ui,e=>e.getMinutes());wk.range;const kk=Yr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ui)},(e,t)=>(t-e)/Ui,e=>e.getUTCMinutes());kk.range;const Sk=Yr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ns-e.getMinutes()*Ui)},(e,t)=>{e.setTime(+e+t*rs)},(e,t)=>(t-e)/rs,e=>e.getHours());Sk.range;const Nk=Yr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*rs)},(e,t)=>(t-e)/rs,e=>e.getUTCHours());Nk.range;const gp=Yr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ui)/gs,e=>e.getDate()-1);gp.range;const q0=Yr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/gs,e=>e.getUTCDate()-1);q0.range;const m4=Yr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/gs,e=>Math.floor(e/gs));m4.range;function Mc(e){return Yr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ui)/xk)}const K0=Mc(0),xg=Mc(1),zq=Mc(2),Vq=Mc(3),$u=Mc(4),Uq=Mc(5),Wq=Mc(6);K0.range;xg.range;zq.range;Vq.range;$u.range;Uq.range;Wq.range;function Ac(e){return Yr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/xk)}const Y0=Ac(0),wg=Ac(1),Hq=Ac(2),qq=Ac(3),Bu=Ac(4),Kq=Ac(5),Yq=Ac(6);Y0.range;wg.range;Hq.range;qq.range;Bu.range;Kq.range;Yq.range;const jk=Yr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());jk.range;const Ck=Yr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ck.range;const ys=Yr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ys.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ys.range;const vs=Yr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());vs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});vs.range;function h4(e,t,n,r,a,i){const o=[[Ql,1,ns],[Ql,5,5*ns],[Ql,15,15*ns],[Ql,30,30*ns],[i,1,Ui],[i,5,5*Ui],[i,15,15*Ui],[i,30,30*Ui],[a,1,rs],[a,3,3*rs],[a,6,6*rs],[a,12,12*rs],[r,1,gs],[r,2,2*gs],[n,1,xk],[t,1,oM],[t,3,3*oM],[e,1,gv]];function s(c,d,f){const p=d<c;p&&([c,d]=[d,c]);const m=f&&typeof f.range=="function"?f:l(c,d,f),h=m?m.range(c,+d+1):[];return p?h.reverse():h}function l(c,d,f){const p=Math.abs(d-c)/f,m=sk(([,,x])=>x).right(o,p);if(m===o.length)return e.every(Tx(c/gv,d/gv,f));if(m===0)return bg.every(Math.max(Tx(c,d,f),1));const[h,y]=o[p/o[m-1][2]<o[m][2]/p?m-1:m];return h.every(y)}return[s,l]}const[Gq,Xq]=h4(vs,Ck,Y0,m4,Nk,kk),[Zq,Qq]=h4(ys,jk,K0,gp,Sk,wk);function yv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function vv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Md(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Jq(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=Ad(a),d=Ed(a),f=Ad(i),p=Ed(i),m=Ad(o),h=Ed(o),y=Ad(s),x=Ed(s),g=Ad(l),b=Ed(l),w={a:z,A:B,b:ie,B:k,c:null,d:fM,e:fM,f:kK,g:DK,G:IK,H:bK,I:xK,j:wK,L:g4,m:SK,M:NK,p:I,q:A,Q:hM,s:gM,S:jK,u:CK,U:MK,V:AK,w:EK,W:PK,x:null,X:null,y:TK,Y:OK,Z:_K,"%":mM},S={a:j,A:L,b:q,B:Q,c:null,d:pM,e:pM,f:$K,g:GK,G:ZK,H:LK,I:FK,j:RK,L:v4,m:BK,M:zK,p:G,q:W,Q:hM,s:gM,S:VK,u:UK,U:WK,V:HK,w:qK,W:KK,x:null,X:null,y:YK,Y:XK,Z:QK,"%":mM},C={a:E,A:P,b:O,B:U,c:X,d:uM,e:uM,f:hK,g:cM,G:lM,H:dM,I:dM,j:dK,L:mK,m:uK,M:fK,p:$,q:cK,Q:yK,s:vK,S:pK,u:aK,U:iK,V:oK,w:rK,W:sK,x:ee,X:de,y:cM,Y:lM,Z:lK,"%":gK};w.x=N(n,w),w.X=N(r,w),w.c=N(t,w),S.x=N(n,S),S.X=N(r,S),S.c=N(t,S);function N(_,te){return function(re){var F=[],ae=-1,H=0,R=_.length,oe,be,et;for(re instanceof Date||(re=new Date(+re));++ae<R;)_.charCodeAt(ae)===37&&(F.push(_.slice(H,ae)),(be=sM[oe=_.charAt(++ae)])!=null?oe=_.charAt(++ae):be=oe==="e"?" ":"0",(et=te[oe])&&(oe=et(re,be)),F.push(oe),H=ae+1);return F.push(_.slice(H,ae)),F.join("")}}function M(_,te){return function(re){var F=Md(1900,void 0,1),ae=T(F,_,re+="",0),H,R;if(ae!=re.length)return null;if("Q"in F)return new Date(F.Q);if("s"in F)return new Date(F.s*1e3+("L"in F?F.L:0));if(te&&!("Z"in F)&&(F.Z=0),"p"in F&&(F.H=F.H%12+F.p*12),F.m===void 0&&(F.m="q"in F?F.q:0),"V"in F){if(F.V<1||F.V>53)return null;"w"in F||(F.w=1),"Z"in F?(H=vv(Md(F.y,0,1)),R=H.getUTCDay(),H=R>4||R===0?wg.ceil(H):wg(H),H=q0.offset(H,(F.V-1)*7),F.y=H.getUTCFullYear(),F.m=H.getUTCMonth(),F.d=H.getUTCDate()+(F.w+6)%7):(H=yv(Md(F.y,0,1)),R=H.getDay(),H=R>4||R===0?xg.ceil(H):xg(H),H=gp.offset(H,(F.V-1)*7),F.y=H.getFullYear(),F.m=H.getMonth(),F.d=H.getDate()+(F.w+6)%7)}else("W"in F||"U"in F)&&("w"in F||(F.w="u"in F?F.u%7:"W"in F?1:0),R="Z"in F?vv(Md(F.y,0,1)).getUTCDay():yv(Md(F.y,0,1)).getDay(),F.m=0,F.d="W"in F?(F.w+6)%7+F.W*7-(R+5)%7:F.w+F.U*7-(R+6)%7);return"Z"in F?(F.H+=F.Z/100|0,F.M+=F.Z%100,vv(F)):yv(F)}}function T(_,te,re,F){for(var ae=0,H=te.length,R=re.length,oe,be;ae<H;){if(F>=R)return-1;if(oe=te.charCodeAt(ae++),oe===37){if(oe=te.charAt(ae++),be=C[oe in sM?te.charAt(ae++):oe],!be||(F=be(_,re,F))<0)return-1}else if(oe!=re.charCodeAt(F++))return-1}return F}function $(_,te,re){var F=c.exec(te.slice(re));return F?(_.p=d.get(F[0].toLowerCase()),re+F[0].length):-1}function E(_,te,re){var F=m.exec(te.slice(re));return F?(_.w=h.get(F[0].toLowerCase()),re+F[0].length):-1}function P(_,te,re){var F=f.exec(te.slice(re));return F?(_.w=p.get(F[0].toLowerCase()),re+F[0].length):-1}function O(_,te,re){var F=g.exec(te.slice(re));return F?(_.m=b.get(F[0].toLowerCase()),re+F[0].length):-1}function U(_,te,re){var F=y.exec(te.slice(re));return F?(_.m=x.get(F[0].toLowerCase()),re+F[0].length):-1}function X(_,te,re){return T(_,t,te,re)}function ee(_,te,re){return T(_,n,te,re)}function de(_,te,re){return T(_,r,te,re)}function z(_){return o[_.getDay()]}function B(_){return i[_.getDay()]}function ie(_){return l[_.getMonth()]}function k(_){return s[_.getMonth()]}function I(_){return a[+(_.getHours()>=12)]}function A(_){return 1+~~(_.getMonth()/3)}function j(_){return o[_.getUTCDay()]}function L(_){return i[_.getUTCDay()]}function q(_){return l[_.getUTCMonth()]}function Q(_){return s[_.getUTCMonth()]}function G(_){return a[+(_.getUTCHours()>=12)]}function W(_){return 1+~~(_.getUTCMonth()/3)}return{format:function(_){var te=N(_+="",w);return te.toString=function(){return _},te},parse:function(_){var te=M(_+="",!1);return te.toString=function(){return _},te},utcFormat:function(_){var te=N(_+="",S);return te.toString=function(){return _},te},utcParse:function(_){var te=M(_+="",!0);return te.toString=function(){return _},te}}}var sM={"-":"",_:" ",0:"0"},ia=/^\s*\d+/,eK=/^%/,tK=/[\\^$*+?|[\]().{}]/g;function Cn(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function nK(e){return e.replace(tK,"\\$&")}function Ad(e){return new RegExp("^(?:"+e.map(nK).join("|")+")","i")}function Ed(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function rK(e,t,n){var r=ia.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function aK(e,t,n){var r=ia.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function iK(e,t,n){var r=ia.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function oK(e,t,n){var r=ia.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function sK(e,t,n){var r=ia.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function lM(e,t,n){var r=ia.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function cM(e,t,n){var r=ia.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function lK(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function cK(e,t,n){var r=ia.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function uK(e,t,n){var r=ia.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function uM(e,t,n){var r=ia.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function dK(e,t,n){var r=ia.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function dM(e,t,n){var r=ia.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function fK(e,t,n){var r=ia.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function pK(e,t,n){var r=ia.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function mK(e,t,n){var r=ia.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function hK(e,t,n){var r=ia.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function gK(e,t,n){var r=eK.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function yK(e,t,n){var r=ia.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function vK(e,t,n){var r=ia.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function fM(e,t){return Cn(e.getDate(),t,2)}function bK(e,t){return Cn(e.getHours(),t,2)}function xK(e,t){return Cn(e.getHours()%12||12,t,2)}function wK(e,t){return Cn(1+gp.count(ys(e),e),t,3)}function g4(e,t){return Cn(e.getMilliseconds(),t,3)}function kK(e,t){return g4(e,t)+"000"}function SK(e,t){return Cn(e.getMonth()+1,t,2)}function NK(e,t){return Cn(e.getMinutes(),t,2)}function jK(e,t){return Cn(e.getSeconds(),t,2)}function CK(e){var t=e.getDay();return t===0?7:t}function MK(e,t){return Cn(K0.count(ys(e)-1,e),t,2)}function y4(e){var t=e.getDay();return t>=4||t===0?$u(e):$u.ceil(e)}function AK(e,t){return e=y4(e),Cn($u.count(ys(e),e)+(ys(e).getDay()===4),t,2)}function EK(e){return e.getDay()}function PK(e,t){return Cn(xg.count(ys(e)-1,e),t,2)}function TK(e,t){return Cn(e.getFullYear()%100,t,2)}function DK(e,t){return e=y4(e),Cn(e.getFullYear()%100,t,2)}function OK(e,t){return Cn(e.getFullYear()%1e4,t,4)}function IK(e,t){var n=e.getDay();return e=n>=4||n===0?$u(e):$u.ceil(e),Cn(e.getFullYear()%1e4,t,4)}function _K(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Cn(t/60|0,"0",2)+Cn(t%60,"0",2)}function pM(e,t){return Cn(e.getUTCDate(),t,2)}function LK(e,t){return Cn(e.getUTCHours(),t,2)}function FK(e,t){return Cn(e.getUTCHours()%12||12,t,2)}function RK(e,t){return Cn(1+q0.count(vs(e),e),t,3)}function v4(e,t){return Cn(e.getUTCMilliseconds(),t,3)}function $K(e,t){return v4(e,t)+"000"}function BK(e,t){return Cn(e.getUTCMonth()+1,t,2)}function zK(e,t){return Cn(e.getUTCMinutes(),t,2)}function VK(e,t){return Cn(e.getUTCSeconds(),t,2)}function UK(e){var t=e.getUTCDay();return t===0?7:t}function WK(e,t){return Cn(Y0.count(vs(e)-1,e),t,2)}function b4(e){var t=e.getUTCDay();return t>=4||t===0?Bu(e):Bu.ceil(e)}function HK(e,t){return e=b4(e),Cn(Bu.count(vs(e),e)+(vs(e).getUTCDay()===4),t,2)}function qK(e){return e.getUTCDay()}function KK(e,t){return Cn(wg.count(vs(e)-1,e),t,2)}function YK(e,t){return Cn(e.getUTCFullYear()%100,t,2)}function GK(e,t){return e=b4(e),Cn(e.getUTCFullYear()%100,t,2)}function XK(e,t){return Cn(e.getUTCFullYear()%1e4,t,4)}function ZK(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Bu(e):Bu.ceil(e),Cn(e.getUTCFullYear()%1e4,t,4)}function QK(){return"+0000"}function mM(){return"%"}function hM(e){return+e}function gM(e){return Math.floor(+e/1e3)}var Wc,x4,w4;JK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function JK(e){return Wc=Jq(e),x4=Wc.format,Wc.parse,w4=Wc.utcFormat,Wc.utcParse,Wc}function eY(e){return new Date(e)}function tY(e){return e instanceof Date?+e:+new Date(+e)}function Mk(e,t,n,r,a,i,o,s,l,c){var d=pk(),f=d.invert,p=d.domain,m=c(".%L"),h=c(":%S"),y=c("%I:%M"),x=c("%I %p"),g=c("%a %d"),b=c("%b %d"),w=c("%B"),S=c("%Y");function C(N){return(l(N)<N?m:s(N)<N?h:o(N)<N?y:i(N)<N?x:r(N)<N?a(N)<N?g:b:n(N)<N?w:S)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?p(Array.from(N,tY)):p().map(eY)},d.ticks=function(N){var M=p();return e(M[0],M[M.length-1],N??10)},d.tickFormat=function(N,M){return M==null?C:c(M)},d.nice=function(N){var M=p();return(!N||typeof N.range!="function")&&(N=t(M[0],M[M.length-1],N??10)),N?p(s4(M,N)):d},d.copy=function(){return hp(d,Mk(e,t,n,r,a,i,o,s,l,c))},d}function nY(){return Zi.apply(Mk(Zq,Qq,ys,jk,K0,gp,Sk,wk,Ql,x4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function rY(){return Zi.apply(Mk(Gq,Xq,vs,Ck,Y0,q0,Nk,kk,Ql,w4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function G0(){var e=0,t=1,n,r,a,i,o=Ra,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:o(a===0?.5:(f=(i(f)-n)*a,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,n=i(e=+e),r=i(t=+t),a=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(o=f,c):o};function d(f){return function(p){var m,h;return arguments.length?([m,h]=p,o=f(m,h),c):[o(0),o(1)]}}return c.range=d(Xu),c.rangeRound=d(fk),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return i=f,n=f(e),r=f(t),a=n===r?0:1/(r-n),c}}function Nl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function k4(){var e=Sl(G0()(Ra));return e.copy=function(){return Nl(e,k4())},Ns.apply(e,arguments)}function S4(){var e=gk(G0()).domain([1,10]);return e.copy=function(){return Nl(e,S4()).base(e.base())},Ns.apply(e,arguments)}function N4(){var e=yk(G0());return e.copy=function(){return Nl(e,N4()).constant(e.constant())},Ns.apply(e,arguments)}function Ak(){var e=vk(G0());return e.copy=function(){return Nl(e,Ak()).exponent(e.exponent())},Ns.apply(e,arguments)}function aY(){return Ak.apply(null,arguments).exponent(.5)}function j4(){var e=[],t=Ra;function n(r){if(r!=null&&!isNaN(r=+r))return t((pp(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(dl),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,i)=>UH(e,i/r))},n.copy=function(){return j4(t).domain(e)},Ns.apply(n,arguments)}function X0(){var e=0,t=.5,n=1,r=1,a,i,o,s,l,c=Ra,d,f=!1,p;function m(y){return isNaN(y=+y)?p:(y=.5+((y=+d(y))-i)*(r*y<r*i?s:l),c(f?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([e,t,n]=y,a=d(e=+e),i=d(t=+t),o=d(n=+n),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),r=i<a?-1:1,m):[e,t,n]},m.clamp=function(y){return arguments.length?(f=!!y,m):f},m.interpolator=function(y){return arguments.length?(c=y,m):c};function h(y){return function(x){var g,b,w;return arguments.length?([g,b,w]=x,c=gq(y,[g,b,w]),m):[c(0),c(.5),c(1)]}}return m.range=h(Xu),m.rangeRound=h(fk),m.unknown=function(y){return arguments.length?(p=y,m):p},function(y){return d=y,a=y(e),i=y(t),o=y(n),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),r=i<a?-1:1,m}}function C4(){var e=Sl(X0()(Ra));return e.copy=function(){return Nl(e,C4())},Ns.apply(e,arguments)}function M4(){var e=gk(X0()).domain([.1,1,10]);return e.copy=function(){return Nl(e,M4()).base(e.base())},Ns.apply(e,arguments)}function A4(){var e=yk(X0());return e.copy=function(){return Nl(e,A4()).constant(e.constant())},Ns.apply(e,arguments)}function Ek(){var e=vk(X0());return e.copy=function(){return Nl(e,Ek()).exponent(e.exponent())},Ns.apply(e,arguments)}function iY(){return Ek.apply(null,arguments).exponent(.5)}const zd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ck,scaleDiverging:C4,scaleDivergingLog:M4,scaleDivergingPow:Ek,scaleDivergingSqrt:iY,scaleDivergingSymlog:A4,scaleIdentity:o4,scaleImplicit:Dx,scaleLinear:i4,scaleLog:l4,scaleOrdinal:lk,scalePoint:qH,scalePow:bk,scaleQuantile:d4,scaleQuantize:f4,scaleRadial:u4,scaleSequential:k4,scaleSequentialLog:S4,scaleSequentialPow:Ak,scaleSequentialQuantile:j4,scaleSequentialSqrt:aY,scaleSequentialSymlog:N4,scaleSqrt:$q,scaleSymlog:c4,scaleThreshold:p4,scaleTime:nY,scaleUtc:rY,tickFormat:a4},Symbol.toStringTag,{value:"Module"}));var jl=e=>e.chartData,Pk=fe([jl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Tk=(e,t,n,r)=>r?Pk(e):jl(e);function hl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(zr(t)&&zr(n))return!0}return!1}function yM(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function E4(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,a,i;if(zr(n))a=n;else if(typeof n=="function")return;if(zr(r))i=r;else if(typeof r=="function")return;var o=[a,i];if(hl(o))return o}}function oY(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(hl(r))return yM(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,s;if(a==="auto")t!=null&&(o=Math.min(...t));else if(St(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&Lj.test(a)){var l=Lj.exec(a);if(l==null||l[1]==null||t==null)o=void 0;else{var c=+l[1];o=t[0]-c}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(s=Math.max(...t));else if(St(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&Fj.test(i)){var d=Fj.exec(i);if(d==null||d[1]==null||t==null)s=void 0;else{var f=+d[1];s=t[1]+f}}else s=t==null?void 0:t[1];var p=[o,s];if(hl(p))return t==null?p:yM(p,t,n)}}}var Zu=1e9,sY={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ok,ur=!0,Xi="[DecimalError] ",sc=Xi+"Invalid argument: ",Dk=Xi+"Exponent out of range: ",Qu=Math.floor,Vl=Math.pow,lY=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,vi,ta=1e7,Jn=7,P4=9007199254740991,kg=Qu(P4/Jn),mt={};mt.absoluteValue=mt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};mt.comparedTo=mt.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(r=i.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1};mt.decimalPlaces=mt.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Jn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};mt.dividedBy=mt.div=function(e){return os(this,new this.constructor(e))};mt.dividedToIntegerBy=mt.idiv=function(e){var t=this,n=t.constructor;return $n(os(t,new n(e),0,1),n.precision)};mt.equals=mt.eq=function(e){return!this.cmp(e)};mt.exponent=function(){return Br(this)};mt.greaterThan=mt.gt=function(e){return this.cmp(e)>0};mt.greaterThanOrEqualTo=mt.gte=function(e){return this.cmp(e)>=0};mt.isInteger=mt.isint=function(){return this.e>this.d.length-2};mt.isNegative=mt.isneg=function(){return this.s<0};mt.isPositive=mt.ispos=function(){return this.s>0};mt.isZero=function(){return this.s===0};mt.lessThan=mt.lt=function(e){return this.cmp(e)<0};mt.lessThanOrEqualTo=mt.lte=function(e){return this.cmp(e)<1};mt.logarithm=mt.log=function(e){var t,n=this,r=n.constructor,a=r.precision,i=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(vi))throw Error(Xi+"NaN");if(n.s<1)throw Error(Xi+(n.s?"NaN":"-Infinity"));return n.eq(vi)?new r(0):(ur=!1,t=os(Vf(n,i),Vf(e,i),i),ur=!0,$n(t,a))};mt.minus=mt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?O4(t,e):T4(t,(e.s=-e.s,e))};mt.modulo=mt.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(Xi+"NaN");return n.s?(ur=!1,t=os(n,e,0,1).times(e),ur=!0,n.minus(t)):$n(new r(n),a)};mt.naturalExponential=mt.exp=function(){return D4(this)};mt.naturalLogarithm=mt.ln=function(){return Vf(this)};mt.negated=mt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};mt.plus=mt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?T4(t,e):O4(t,(e.s=-e.s,e))};mt.precision=mt.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(sc+e);if(t=Br(a)+1,r=a.d.length-1,n=r*Jn+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};mt.squareRoot=mt.sqrt=function(){var e,t,n,r,a,i,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Xi+"NaN")}for(e=Br(s),ur=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=_o(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Qu((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(a.toString()),n=l.precision,a=o=n+3;;)if(i=r,r=i.plus(os(s,i,o+2)).times(.5),_o(i.d).slice(0,o)===(t=_o(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if($n(i,n+1,0),i.times(i).eq(s)){r=i;break}}else if(t!="9999")break;o+=4}return ur=!0,$n(r,n)};mt.times=mt.mul=function(e){var t,n,r,a,i,o,s,l,c,d=this,f=d.constructor,p=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,l=p.length,c=m.length,l<c&&(i=p,p=m,m=i,o=l,l=c,c=o),i=[],o=l+c,r=o;r--;)i.push(0);for(r=c;--r>=0;){for(t=0,a=l+r;a>r;)s=i[a]+m[r]*p[a-r-1]+t,i[a--]=s%ta|0,t=s/ta|0;i[a]=(i[a]+t)%ta|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,ur?$n(e,f.precision):e};mt.toDecimalPlaces=mt.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Uo(e,0,Zu),t===void 0?t=r.rounding:Uo(t,0,8),$n(n,e+Br(n)+1,t))};mt.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=xc(r,!0):(Uo(e,0,Zu),t===void 0?t=a.rounding:Uo(t,0,8),r=$n(new a(r),e+1,t),n=xc(r,!0,e+1)),n};mt.toFixed=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?xc(a):(Uo(e,0,Zu),t===void 0?t=i.rounding:Uo(t,0,8),r=$n(new i(a),e+Br(a)+1,t),n=xc(r.abs(),!1,e+Br(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};mt.toInteger=mt.toint=function(){var e=this,t=e.constructor;return $n(new t(e),Br(e)+1,t.rounding)};mt.toNumber=function(){return+this};mt.toPower=mt.pow=function(e){var t,n,r,a,i,o,s=this,l=s.constructor,c=12,d=+(e=new l(e));if(!e.s)return new l(vi);if(s=new l(s),!s.s){if(e.s<1)throw Error(Xi+"Infinity");return s}if(s.eq(vi))return s;if(r=l.precision,e.eq(vi))return $n(s,r);if(t=e.e,n=e.d.length-1,o=t>=n,i=s.s,o){if((n=d<0?-d:d)<=P4){for(a=new l(vi),t=Math.ceil(r/Jn+4),ur=!1;n%2&&(a=a.times(s),bM(a.d,t)),n=Qu(n/2),n!==0;)s=s.times(s),bM(s.d,t);return ur=!0,e.s<0?new l(vi).div(a):$n(a,r)}}else if(i<0)throw Error(Xi+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,ur=!1,a=e.times(Vf(s,r+c)),ur=!0,a=D4(a),a.s=i,a};mt.toPrecision=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?(n=Br(a),r=xc(a,n<=i.toExpNeg||n>=i.toExpPos)):(Uo(e,1,Zu),t===void 0?t=i.rounding:Uo(t,0,8),a=$n(new i(a),e,t),n=Br(a),r=xc(a,e<=n||n<=i.toExpNeg,e)),r};mt.toSignificantDigits=mt.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Uo(e,1,Zu),t===void 0?t=r.rounding:Uo(t,0,8)),$n(new r(n),e,t)};mt.toString=mt.valueOf=mt.val=mt.toJSON=mt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Br(e),n=e.constructor;return xc(e,t<=n.toExpNeg||t>=n.toExpPos)};function T4(e,t){var n,r,a,i,o,s,l,c,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),ur?$n(t,f):t;if(l=e.d,c=t.d,o=e.e,a=t.e,l=l.slice(),i=o-a,i){for(i<0?(r=l,i=-i,s=c.length):(r=c,a=o,s=l.length),o=Math.ceil(f/Jn),s=o>s?o+1:s+1,i>s&&(i=s,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(s=l.length,i=c.length,s-i<0&&(i=s,r=c,c=l,l=r),n=0;i;)n=(l[--i]=l[i]+c[i]+n)/ta|0,l[i]%=ta;for(n&&(l.unshift(n),++a),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=a,ur?$n(t,f):t}function Uo(e,t,n){if(e!==~~e||e<t||e>n)throw Error(sc+e)}function _o(e){var t,n,r,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)r=e[t]+"",n=Jn-r.length,n&&(i+=qs(n)),i+=r;o=e[t],r=o+"",n=Jn-r.length,n&&(i+=qs(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var os=function(){function e(r,a){var i,o=0,s=r.length;for(r=r.slice();s--;)i=r[s]*a+o,r[s]=i%ta|0,o=i/ta|0;return o&&r.unshift(o),r}function t(r,a,i,o){var s,l;if(i!=o)l=i>o?1:-1;else for(s=l=0;s<i;s++)if(r[s]!=a[s]){l=r[s]>a[s]?1:-1;break}return l}function n(r,a,i){for(var o=0;i--;)r[i]-=o,o=r[i]<a[i]?1:0,r[i]=o*ta+r[i]-a[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,i,o){var s,l,c,d,f,p,m,h,y,x,g,b,w,S,C,N,M,T,$=r.constructor,E=r.s==a.s?1:-1,P=r.d,O=a.d;if(!r.s)return new $(r);if(!a.s)throw Error(Xi+"Division by zero");for(l=r.e-a.e,M=O.length,C=P.length,m=new $(E),h=m.d=[],c=0;O[c]==(P[c]||0);)++c;if(O[c]>(P[c]||0)&&--l,i==null?b=i=$.precision:o?b=i+(Br(r)-Br(a))+1:b=i,b<0)return new $(0);if(b=b/Jn+2|0,c=0,M==1)for(d=0,O=O[0],b++;(c<C||d)&&b--;c++)w=d*ta+(P[c]||0),h[c]=w/O|0,d=w%O|0;else{for(d=ta/(O[0]+1)|0,d>1&&(O=e(O,d),P=e(P,d),M=O.length,C=P.length),S=M,y=P.slice(0,M),x=y.length;x<M;)y[x++]=0;T=O.slice(),T.unshift(0),N=O[0],O[1]>=ta/2&&++N;do d=0,s=t(O,y,M,x),s<0?(g=y[0],M!=x&&(g=g*ta+(y[1]||0)),d=g/N|0,d>1?(d>=ta&&(d=ta-1),f=e(O,d),p=f.length,x=y.length,s=t(f,y,p,x),s==1&&(d--,n(f,M<p?T:O,p))):(d==0&&(s=d=1),f=O.slice()),p=f.length,p<x&&f.unshift(0),n(y,f,x),s==-1&&(x=y.length,s=t(O,y,M,x),s<1&&(d++,n(y,M<x?T:O,x))),x=y.length):s===0&&(d++,y=[0]),h[c++]=d,s&&y[0]?y[x++]=P[S]||0:(y=[P[S]],x=1);while((S++<C||y[0]!==void 0)&&b--)}return h[0]||h.shift(),m.e=l,$n(m,o?i+Br(m)+1:i)}}();function D4(e,t){var n,r,a,i,o,s,l=0,c=0,d=e.constructor,f=d.precision;if(Br(e)>16)throw Error(Dk+Br(e));if(!e.s)return new d(vi);for(ur=!1,s=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(r=Math.log(Vl(2,c))/Math.LN10*2+5|0,s+=r,n=a=i=new d(vi),d.precision=s;;){if(a=$n(a.times(e),s),n=n.times(++l),o=i.plus(os(a,n,s)),_o(o.d).slice(0,s)===_o(i.d).slice(0,s)){for(;c--;)i=$n(i.times(i),s);return d.precision=f,t==null?(ur=!0,$n(i,f)):i}i=o}}function Br(e){for(var t=e.e*Jn,n=e.d[0];n>=10;n/=10)t++;return t}function bv(e,t,n){if(t>e.LN10.sd())throw ur=!0,n&&(e.precision=n),Error(Xi+"LN10 precision limit exceeded");return $n(new e(e.LN10),t)}function qs(e){for(var t="";e--;)t+="0";return t}function Vf(e,t){var n,r,a,i,o,s,l,c,d,f=1,p=10,m=e,h=m.d,y=m.constructor,x=y.precision;if(m.s<1)throw Error(Xi+(m.s?"NaN":"-Infinity"));if(m.eq(vi))return new y(0);if(t==null?(ur=!1,c=x):c=t,m.eq(10))return t==null&&(ur=!0),bv(y,c);if(c+=p,y.precision=c,n=_o(h),r=n.charAt(0),i=Br(m),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=_o(m.d),r=n.charAt(0),f++;i=Br(m),r>1?(m=new y("0."+n),i++):m=new y(r+"."+n.slice(1))}else return l=bv(y,c+2,x).times(i+""),m=Vf(new y(r+"."+n.slice(1)),c-p).plus(l),y.precision=x,t==null?(ur=!0,$n(m,x)):m;for(s=o=m=os(m.minus(vi),m.plus(vi),c),d=$n(m.times(m),c),a=3;;){if(o=$n(o.times(d),c),l=s.plus(os(o,new y(a),c)),_o(l.d).slice(0,c)===_o(s.d).slice(0,c))return s=s.times(2),i!==0&&(s=s.plus(bv(y,c+2,x).times(i+""))),s=os(s,new y(f),c),y.precision=x,t==null?(ur=!0,$n(s,x)):s;s=l,a+=2}}function vM(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=Qu(n/Jn),e.d=[],r=(n+1)%Jn,n<0&&(r+=Jn),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=Jn;r<a;)e.d.push(+t.slice(r,r+=Jn));t=t.slice(r),r=Jn-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),ur&&(e.e>kg||e.e<-kg))throw Error(Dk+n)}else e.s=0,e.e=0,e.d=[0];return e}function $n(e,t,n){var r,a,i,o,s,l,c,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(r=t-o,r<0)r+=Jn,a=t,c=f[d=0];else{if(d=Math.ceil((r+1)/Jn),i=f.length,d>=i)return e;for(c=i=f[d],o=1;i>=10;i/=10)o++;r%=Jn,a=r-Jn+o}if(n!==void 0&&(i=Vl(10,o-a-1),s=c/i%10|0,l=t<0||f[d+1]!==void 0||c%i,l=n<4?(s||l)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?a>0?c/Vl(10,o-a):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(i=Br(e),f.length=1,t=t-i-1,f[0]=Vl(10,(Jn-t%Jn)%Jn),e.e=Qu(-t/Jn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,i=1,d--):(f.length=d+1,i=Vl(10,Jn-r),f[d]=a>0?(c/Vl(10,o-a)%Vl(10,a)|0)*i:0),l)for(;;)if(d==0){(f[0]+=i)==ta&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=ta)break;f[d--]=0,i=1}for(r=f.length;f[--r]===0;)f.pop();if(ur&&(e.e>kg||e.e<-kg))throw Error(Dk+Br(e));return e}function O4(e,t){var n,r,a,i,o,s,l,c,d,f,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),ur?$n(t,m):t;if(l=e.d,f=t.d,r=t.e,c=e.e,l=l.slice(),o=c-r,o){for(d=o<0,d?(n=l,o=-o,s=f.length):(n=f,r=c,s=l.length),a=Math.max(Math.ceil(m/Jn),s)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=l.length,s=f.length,d=a<s,d&&(s=a),a=0;a<s;a++)if(l[a]!=f[a]){d=l[a]<f[a];break}o=0}for(d&&(n=l,l=f,f=n,t.s=-t.s),s=l.length,a=f.length-s;a>0;--a)l[s++]=0;for(a=f.length;a>o;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=ta-1;--l[i],l[a]+=ta}l[a]-=f[a]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,ur?$n(t,m):t):new p(0)}function xc(e,t,n){var r,a=Br(e),i=_o(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+qs(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+qs(-a-1)+i,n&&(r=n-o)>0&&(i+=qs(r))):a>=o?(i+=qs(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+qs(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=qs(r))),e.s<0?"-"+i:i}function bM(e,t){if(e.length>t)return e.length=t,!0}function I4(e){var t,n,r;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(sc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return vM(o,i.toString())}else if(typeof i!="string")throw Error(sc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,lY.test(i))vM(o,i);else throw Error(sc+i)}if(a.prototype=mt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=I4,a.config=a.set=cY,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function cY(e){if(!e||typeof e!="object")throw Error(Xi+"Object expected");var t,n,r,a=["precision",1,Zu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(Qu(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(sc+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(sc+n+": "+r);return this}var Ok=I4(sY);vi=new Ok(1);const In=Ok;var uY=e=>e,_4={},L4=e=>e===_4,xM=e=>function t(){return arguments.length===0||arguments.length===1&&L4(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},F4=(e,t)=>e===1?t:xM(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=r.filter(o=>o!==_4).length;return i>=e?t(...r):F4(e-i,xM(function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];var c=r.map(d=>L4(d)?s.shift():d);return t(...c,...s)}))}),dY=e=>F4(e.length,e),Lx=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},fY=dY((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),pY=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return uY;var r=t.reverse(),a=r[0],i=r.slice(1);return function(){return i.reduce((o,s)=>s(o),a(...arguments))}};function R4(e){var t;return e===0?t=1:t=Math.floor(new In(e).abs().log(10).toNumber())+1,t}function $4(e,t,n){for(var r=new In(e),a=0,i=[];r.lt(t)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}var B4=e=>{var[t,n]=e,[r,a]=[t,n];return t>n&&([r,a]=[n,t]),[r,a]},z4=(e,t,n)=>{if(e.lte(0))return new In(0);var r=R4(e.toNumber()),a=new In(10).pow(r),i=e.div(a),o=r!==1?.05:.1,s=new In(Math.ceil(i.div(o).toNumber())).add(n).mul(o),l=s.mul(a);return t?new In(l.toNumber()):new In(Math.ceil(l.toNumber()))},mY=(e,t,n)=>{var r=new In(1),a=new In(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(r=new In(10).pow(R4(e)-1),a=new In(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new In(Math.floor(e)))}else e===0?a=new In(Math.floor((t-1)/2)):n||(a=new In(Math.floor(e)));var o=Math.floor((t-1)/2),s=pY(fY(l=>a.add(new In(l-o).mul(r)).toNumber()),Lx);return s(0,t)},V4=function(e,t,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new In(0),tickMin:new In(0),tickMax:new In(0)};var i=z4(new In(t).sub(e).div(n-1),r,a),o;e<=0&&t>=0?o=new In(0):(o=new In(e).add(t).div(2),o=o.sub(new In(o).mod(i)));var s=Math.ceil(o.sub(e).div(i).toNumber()),l=Math.ceil(new In(t).sub(o).div(i).toNumber()),c=s+l+1;return c>n?V4(e,t,n,r,a+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:i,tickMin:o.sub(new In(s).mul(i)),tickMax:o.add(new In(l).mul(i))})},hY=function(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(r,2),[o,s]=B4([t,n]);if(o===-1/0||s===1/0){var l=s===1/0?[o,...Lx(0,r-1).map(()=>1/0)]:[...Lx(0,r-1).map(()=>-1/0),s];return t>n?l.reverse():l}if(o===s)return mY(o,r,a);var{step:c,tickMin:d,tickMax:f}=V4(o,s,i,a,0),p=$4(d,f.add(new In(.1).mul(c)),c);return t>n?p.reverse():p},gY=function(e,t){var[n,r]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=B4([n,r]);if(i===-1/0||o===1/0)return[n,r];if(i===o)return[i];var s=Math.max(t,2),l=z4(new In(o).sub(i).div(s-1),a,0),c=[...$4(new In(i),new In(o),l),o];return a===!1&&(c=c.map(d=>Math.round(d))),n>r?c.reverse():c},yY=e=>e.rootProps.barCategoryGap,yp=e=>e.rootProps.stackOffset,U4=e=>e.rootProps.reverseStackOrder,Ik=e=>e.options.chartName,_k=e=>e.rootProps.syncId,W4=e=>e.rootProps.syncMethod,Lk=e=>e.options.eventEmitter,fa={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Zo={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},yi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Z0=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},vY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Zo.angleAxisId,includeHidden:!1,name:void 0,reversed:Zo.reversed,scale:Zo.scale,tick:Zo.tick,tickCount:void 0,ticks:void 0,type:Zo.type,unit:void 0},bY={allowDataOverflow:yi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:yi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:yi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:yi.scale,tick:yi.tick,tickCount:yi.tickCount,ticks:void 0,type:yi.type,unit:void 0},xY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Zo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Zo.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Zo.scale,tick:Zo.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},wY={allowDataOverflow:yi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:yi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:yi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:yi.scale,tick:yi.tick,tickCount:yi.tickCount,ticks:void 0,type:"category",unit:void 0},Fk=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?xY:vY,Rk=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?wY:bY,Q0=e=>e.polarOptions,$k=fe([ks,Ss,aa],V3),H4=fe([Q0,$k],(e,t)=>{if(e!=null)return Hi(e.innerRadius,t,0)}),q4=fe([Q0,$k],(e,t)=>{if(e!=null)return Hi(e.outerRadius,t,t*.8)}),kY=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},K4=fe([Q0],kY);fe([Fk,K4],Z0);var Y4=fe([$k,H4,q4],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});fe([Rk,Y4],Z0);var G4=fe([Ln,Q0,H4,q4,ks,Ss],(e,t,n,r,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:s,startAngle:l,endAngle:c}=t;return{cx:Hi(o,a,a/2),cy:Hi(s,i,i/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),dr=(e,t)=>t,vp=(e,t,n)=>n;function X4(e){return e==null?void 0:e.id}function Z4(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=n,o=new Map;return e.forEach(s=>{var l,c=(l=s.data)!==null&&l!==void 0?l:r;if(!(c==null||c.length===0)){var d=X4(s);c.forEach((f,p)=>{var m=i==null||a?p:String(tr(f,i,null)),h=tr(f,s.dataKey,0),y;o.has(m)?y=o.get(m):y={},Object.assign(y,{[d]:h}),o.set(m,y)})}}),Array.from(o.values())}function Bk(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var J0=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function ey(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function SY(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Gr=e=>{var t=Ln(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Ju=e=>e.tooltip.settings.axisId;function wM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Sg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wM(Object(n),!0).forEach(function(r){NY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NY(e,t,n){return(t=jY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jY(e){var t=CY(e,"string");return typeof t=="symbol"?t:t+""}function CY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fx=[0,"auto"],Jr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Q4=(e,t)=>e.cartesianAxis.xAxis[t],js=(e,t)=>{var n=Q4(e,t);return n??Jr},ea={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Fx,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:up},J4=(e,t)=>e.cartesianAxis.yAxis[t],Cs=(e,t)=>{var n=J4(e,t);return n??ea},MY={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},zk=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??MY},xr=(e,t,n)=>{switch(t){case"xAxis":return js(e,n);case"yAxis":return Cs(e,n);case"zAxis":return zk(e,n);case"angleAxis":return Fk(e,n);case"radiusAxis":return Rk(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},AY=(e,t,n)=>{switch(t){case"xAxis":return js(e,n);case"yAxis":return Cs(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},bp=(e,t,n)=>{switch(t){case"xAxis":return js(e,n);case"yAxis":return Cs(e,n);case"angleAxis":return Fk(e,n);case"radiusAxis":return Rk(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},eI=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Vk(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var tI=e=>e.graphicalItems.cartesianItems,EY=fe([dr,vp],Vk),Uk=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),xp=fe([tI,xr,EY],Uk,{memoizeOptions:{resultEqualityCheck:ey}}),nI=fe([xp],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Bk)),rI=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),PY=fe([xp],rI),Wk=e=>e.map(t=>t.data).filter(Boolean).flat(1),TY=fe([xp],Wk,{memoizeOptions:{resultEqualityCheck:ey}}),Hk=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=t;return e.length>0?e:n.slice(r,a+1)},qk=fe([TY,Tk],Hk),Kk=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:tr(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(a=>({value:tr(a,r)}))):e.map(r=>({value:r})),ty=fe([qk,xr,xp],Kk);function aI(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function ah(e){if(zo(e)||e instanceof Date){var t=Number(e);if(zr(t))return t}}function kM(e){if(Array.isArray(e)){var t=[ah(e[0]),ah(e[1])];return hl(t)?t:void 0}var n=ah(e);if(n!=null)return[n,n]}function bs(e){return e.map(ah).filter(KV)}function DY(e,t,n){return!n||typeof t!="number"||Bo(t)?[]:n.length?bs(n.flatMap(r=>{var a=tr(e,r.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!zr(i)||!zr(o)))return[t-i,t+o]})):[]}var Xr=e=>{var t=Gr(e),n=Ju(e);return bp(e,t,n)},wp=fe([Xr],e=>e==null?void 0:e.dataKey),OY=fe([nI,Tk,Xr],Z4),iI=(e,t,n,r)=>{var a={},i=t.reduce((o,s)=>{if(s.stackId==null)return o;var l=o[s.stackId];return l==null&&(l=[]),l.push(s),o[s.stackId]=l,o},a);return Object.fromEntries(Object.entries(i).map(o=>{var[s,l]=o,c=r?[...l].reverse():l,d=c.map(X4);return[s,{stackedData:c9(e,d,n),graphicalItems:c}]}))},IY=fe([OY,nI,yp,U4],iI),oI=(e,t,n,r)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(r==null&&n!=="zAxis"){var o=f9(e,a,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},_Y=fe([xr],e=>e.allowDataOverflow),Yk=e=>{var t;if(e==null||!("domain"in e))return Fx;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=bs(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Fx},Gk=fe([xr],Yk),Xk=fe([Gk,_Y],E4),LY=fe([IY,jl,dr,Xk],oI,{memoizeOptions:{resultEqualityCheck:J0}}),ny=e=>e.errorBars,FY=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>aI(n,r)),Ng=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);if(r.length!==0){var a=r.flat(),i=Math.min(...a),o=Math.max(...a);return[i,o]}},Zk=(e,t,n,r,a)=>{var i,o;if(n.length>0&&e.forEach(s=>{n.forEach(l=>{var c,d,f=(c=r[l.id])===null||c===void 0?void 0:c.filter(g=>aI(a,g)),p=tr(s,(d=t.dataKey)!==null&&d!==void 0?d:l.dataKey),m=DY(s,p,f);if(m.length>=2){var h=Math.min(...m),y=Math.max(...m);(i==null||h<i)&&(i=h),(o==null||y>o)&&(o=y)}var x=kM(p);x!=null&&(i=i==null?x[0]:Math.min(i,x[0]),o=o==null?x[1]:Math.max(o,x[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(s=>{var l=kM(tr(s,t.dataKey));l!=null&&(i=i==null?l[0]:Math.min(i,l[0]),o=o==null?l[1]:Math.max(o,l[1]))}),zr(i)&&zr(o))return[i,o]},RY=fe([qk,xr,PY,ny,dr],Zk,{memoizeOptions:{resultEqualityCheck:J0}});function $Y(e){var{value:t}=e;if(zo(t)||t instanceof Date)return t}var BY=(e,t,n)=>{var r=e.map($Y).filter(a=>a!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&eO(r))?G3(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},sI=e=>e.referenceElements.dots,ed=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),zY=fe([sI,dr,vp],ed),lI=e=>e.referenceElements.areas,VY=fe([lI,dr,vp],ed),cI=e=>e.referenceElements.lines,UY=fe([cI,dr,vp],ed),uI=(e,t)=>{if(e!=null){var n=bs(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},WY=fe(zY,dr,uI),dI=(e,t)=>{if(e!=null){var n=bs(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},HY=fe([VY,dr],dI);function qY(e){var t;if(e.x!=null)return bs([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:bs(n)}function KY(e){var t;if(e.y!=null)return bs([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:bs(n)}var fI=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?qY(r):KY(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},YY=fe([UY,dr],fI),GY=fe(WY,YY,HY,(e,t,n)=>Ng(e,n,t)),Qk=(e,t,n,r,a,i,o,s)=>{if(n!=null)return n;var l=o==="vertical"&&s==="xAxis"||o==="horizontal"&&s==="yAxis",c=l?Ng(r,i,a):Ng(i,a);return oY(t,c,e.allowDataOverflow)},XY=fe([xr,Gk,Xk,LY,RY,GY,Ln,dr],Qk,{memoizeOptions:{resultEqualityCheck:J0}}),ZY=[0,1],Jk=(e,t,n,r,a,i,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:s,type:l}=e,c=kl(t,i);if(c&&s==null){var d;return G3(0,(d=n==null?void 0:n.length)!==null&&d!==void 0?d:0)}return l==="category"?BY(r,e,c):a==="expand"?ZY:o}},eS=fe([xr,Ln,qk,ty,yp,dr,XY],Jk),pI=(e,t,n,r,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var s="scale".concat(op(i));return s in zd?s:"point"}}},td=fe([xr,Ln,eI,Ik,dr],pI);function QY(e){if(e!=null){if(e in zd)return zd[e]();var t="scale".concat(op(e));if(t in zd)return zd[t]()}}function tS(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var a=QY(t);if(a!=null){var i=a.domain(n).range(r);return i9(i),i}}}var nS=(e,t,n)=>{var r=Yk(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&hl(e))return hY(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&hl(e))return gY(e,t.tickCount,t.allowDecimals)}},rS=fe([eS,bp,td],nS),aS=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&hl(t)&&Array.isArray(n)&&n.length>0){var a=t[0],i=n[0],o=t[1],s=n[n.length-1];return[Math.min(a,i),Math.max(o,s)]}return t},JY=fe([xr,eS,rS,dr],aS),eG=fe(ty,xr,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(bs(e.map(f=>f.value))).sort((f,p)=>f-p),a=r[0],i=r[r.length-1];if(a==null||i==null)return 1/0;var o=i-a;if(o===0)return 1/0;for(var s=0;s<r.length-1;s++){var l=r[s],c=r[s+1];if(!(l==null||c==null)){var d=c-l;n=Math.min(n,d)}}return n/o}}),mI=fe(eG,Ln,yY,aa,(e,t,n,r,a)=>a,(e,t,n,r,a)=>{if(!zr(e))return 0;var i=t==="vertical"?r.height:r.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=Hi(n,e*i),s=e*i/2;return s-o-(s-o)/i*o}return 0}),tG=(e,t,n)=>{var r=js(e,t);return r==null||typeof r.padding!="string"?0:mI(e,"xAxis",t,n,r.padding)},nG=(e,t,n)=>{var r=Cs(e,t);return r==null||typeof r.padding!="string"?0:mI(e,"yAxis",t,n,r.padding)},rG=fe(js,tG,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((n=a.left)!==null&&n!==void 0?n:0)+t,right:((r=a.right)!==null&&r!==void 0?r:0)+t}}),aG=fe(Cs,nG,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((n=a.top)!==null&&n!==void 0?n:0)+t,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+t}}),iG=fe([aa,rG,L0,_0,(e,t,n)=>n],(e,t,n,r,a)=>{var{padding:i}=r;return a?[i.left,n.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),oG=fe([aa,Ln,aG,L0,_0,(e,t,n)=>n],(e,t,n,r,a,i)=>{var{padding:o}=a;return i?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),kp=(e,t,n,r)=>{var a;switch(t){case"xAxis":return iG(e,n,r);case"yAxis":return oG(e,n,r);case"zAxis":return(a=zk(e,n))===null||a===void 0?void 0:a.range;case"angleAxis":return K4(e);case"radiusAxis":return Y4(e,n);default:return}},hI=fe([xr,kp],Z0),ry=fe([xr,td,JY,hI],tS);fe([xp,ny,dr],FY);function gI(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var ay=(e,t)=>t,iy=(e,t,n)=>n,sG=fe(O0,ay,iy,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(gI)),lG=fe(I0,ay,iy,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(gI)),yI=(e,t)=>({width:e.width,height:t.height}),cG=(e,t)=>{var n=typeof t.width=="number"?t.width:up;return{width:n,height:e.height}},uG=fe(aa,js,yI),dG=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},fG=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},pG=fe(Ss,aa,sG,ay,iy,(e,t,n,r,a)=>{var i={},o;return n.forEach(s=>{var l=yI(t,s);o==null&&(o=dG(t,r,e));var c=r==="top"&&!a||r==="bottom"&&a;i[s.id]=o-Number(c)*l.height,o+=(c?-1:1)*l.height}),i}),mG=fe(ks,aa,lG,ay,iy,(e,t,n,r,a)=>{var i={},o;return n.forEach(s=>{var l=cG(t,s);o==null&&(o=fG(t,r,e));var c=r==="left"&&!a||r==="right"&&a;i[s.id]=o-Number(c)*l.width,o+=(c?-1:1)*l.width}),i}),hG=(e,t)=>{var n=js(e,t);if(n!=null)return pG(e,n.orientation,n.mirror)},gG=fe([aa,js,hG,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n==null?void 0:n[r];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),yG=(e,t)=>{var n=Cs(e,t);if(n!=null)return mG(e,n.orientation,n.mirror)},vG=fe([aa,Cs,yG,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n==null?void 0:n[r];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),bG=fe(aa,Cs,(e,t)=>{var n=typeof t.width=="number"?t.width:up;return{width:n,height:e.height}}),vI=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=n,s=kl(e,r),l=t.map(c=>c.value);if(o&&s&&i==="category"&&a&&eO(l))return l}},iS=fe([Ln,ty,xr,dr],vI),bI=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:i}=n,o=kl(e,r);if(o&&(a==="number"||i!=="auto"))return t.map(s=>s.value)}},oS=fe([Ln,ty,bp,dr],bI),SM=fe([Ln,AY,td,ry,iS,oS,kp,rS,dr],(e,t,n,r,a,i,o,s,l)=>{if(t!=null){var c=kl(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:i,duplicateDomain:a,isCategorical:c,niceTicks:s,range:o,realScaleType:n,scale:r}}}),xG=(e,t,n,r,a,i,o,s,l)=>{if(!(t==null||r==null)){var c=kl(e,l),{type:d,ticks:f,tickCount:p}=t,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,h=d==="category"&&r.bandwidth?r.bandwidth()/m:0;h=l==="angleAxis"&&i!=null&&i.length>=2?ja(i[0]-i[1])*2*h:h;var y=f||a;if(y){var x=y.map((g,b)=>{var w=o?o.indexOf(g):g;return{index:b,coordinate:r(w)+h,value:g,offset:h}});return x.filter(g=>zr(g.coordinate))}return c&&s?s.map((g,b)=>({coordinate:r(g)+h,value:g,index:b,offset:h})).filter(g=>zr(g.coordinate)):r.ticks?r.ticks(p).map(g=>({coordinate:r(g)+h,value:g,offset:h})):r.domain().map((g,b)=>({coordinate:r(g)+h,value:o?o[g]:g,index:b,offset:h}))}},xI=fe([Ln,bp,td,ry,rS,kp,iS,oS,dr],xG),wG=(e,t,n,r,a,i,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var s=kl(e,o),{tickCount:l}=t,c=0;return c=o==="angleAxis"&&(r==null?void 0:r.length)>=2?ja(r[0]-r[1])*2*c:c,s&&i?i.map((d,f)=>({coordinate:n(d)+c,value:d,index:f,offset:c})):n.ticks?n.ticks(l).map(d=>({coordinate:n(d)+c,value:d,offset:c})):n.domain().map((d,f)=>({coordinate:n(d)+c,value:a?a[d]:d,index:f,offset:c}))}},wI=fe([Ln,bp,ry,kp,iS,oS,dr],wG),kI=fe(xr,ry,(e,t)=>{if(!(e==null||t==null))return Sg(Sg({},e),{},{scale:t})}),kG=fe([xr,td,eS,hI],tS);fe((e,t,n)=>zk(e,n),kG,(e,t)=>{if(!(e==null||t==null))return Sg(Sg({},e),{},{scale:t})});var SG=fe([Ln,O0,I0],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),SI=e=>e.options.defaultTooltipEventType,NI=e=>e.options.validateTooltipEventTypes;function jI(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function sS(e,t){var n=SI(e),r=NI(e);return jI(t,n,r)}function NG(e){return kt(t=>sS(t,e))}var CI=(e,t)=>{var n,r=Number(t);if(!(Bo(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},jG=e=>e.tooltip.settings,Zs={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},CG={itemInteraction:{click:Zs,hover:Zs},axisInteraction:{click:Zs,hover:Zs},keyboardInteraction:Zs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},MI=si({name:"tooltip",initialState:CG,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:lr()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,a=uo(e).tooltipItemPayloads.indexOf(n);a>-1&&(e.tooltipItemPayloads[a]=r)},prepare:lr()},removeTooltipEntrySettings:{reducer(e,t){var n=uo(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:lr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:MG,replaceTooltipEntrySettings:AG,removeTooltipEntrySettings:EG,setTooltipSettingsState:PG,setActiveMouseOverItemIndex:AI,mouseLeaveItem:TG,mouseLeaveChart:EI,setActiveClickItemIndex:DG,setMouseOverAxisIndex:PI,setMouseClickAxisIndex:OG,setSyncInteraction:Rx,setKeyboardInteraction:$x}=MI.actions,IG=MI.reducer;function NM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Em(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NM(Object(n),!0).forEach(function(r){_G(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _G(e,t,n){return(t=LG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LG(e){var t=FG(e,"string");return typeof t=="symbol"?t:t+""}function FG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RG(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function $G(e){return e.index!=null}var TI=(e,t,n,r)=>{if(t==null)return Zs;var a=RG(e,t,n);if(a==null)return Zs;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if($G(a)){if(i)return Em(Em({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Em(Em({},Zs),{},{coordinate:a.coordinate})};function BG(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function zG(e,t){var n=BG(e),r=t[0],a=t[1];if(n===void 0)return!1;var i=Math.min(r,a),o=Math.max(r,a);return n>=i&&n<=o}function VG(e,t,n){if(n==null||t==null)return!0;var r=tr(e,t);return r==null||!hl(n)?!0:zG(r,n)}var lS=(e,t,n,r)=>{var a=e==null?void 0:e.index;if(a==null)return null;var i=Number(a);if(!zr(i))return a;var o=0,s=1/0;t.length>0&&(s=t.length-1);var l=Math.max(o,Math.min(i,s)),c=t[l];return c==null||VG(c,n,r)?String(l):null},DI=(e,t,n,r,a,i,o,s)=>{if(!(i==null||s==null)){var l=o[0],c=l==null?void 0:s(l.positions,i);if(c!=null)return c;var d=a==null?void 0:a[Number(i)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:d.coordinate}}}},OI=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(n==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&r!=null){var i=e.tooltipItemPayloads[0];return i!=null?[i]:[]}return e.tooltipItemPayloads.filter(o=>{var s;return((s=o.settings)===null||s===void 0?void 0:s.graphicalItemId)===a})},Sp=e=>e.options.tooltipPayloadSearcher,nd=e=>e.tooltip;function jM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function CM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jM(Object(n),!0).forEach(function(r){UG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UG(e,t,n){return(t=WG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WG(e){var t=HG(e,"string");return typeof t=="symbol"?t:t+""}function HG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qG(e,t){return e??t}var II=(e,t,n,r,a,i,o)=>{if(!(t==null||i==null)){var{chartData:s,computedData:l,dataStartIndex:c,dataEndIndex:d}=n,f=[];return e.reduce((p,m)=>{var h,{dataDefinedOnItem:y,settings:x}=m,g=qG(y,s),b=Array.isArray(g)?u3(g,c,d):g,w=(h=x==null?void 0:x.dataKey)!==null&&h!==void 0?h:r,S=x==null?void 0:x.nameKey,C;if(r&&Array.isArray(b)&&!Array.isArray(b[0])&&o==="axis"?C=tO(b,r,a):C=i(b,t,l,S),Array.isArray(C))C.forEach(M=>{var T=CM(CM({},x),{},{name:M.name,unit:M.unit,color:void 0,fill:void 0});p.push(Rj({tooltipEntrySettings:T,dataKey:M.dataKey,payload:M.payload,value:tr(M.payload,M.dataKey),name:M.name}))});else{var N;p.push(Rj({tooltipEntrySettings:x,dataKey:w,payload:C,value:tr(C,w),name:(N=tr(C,S))!==null&&N!==void 0?N:x==null?void 0:x.name}))}return p},f)}},cS=fe([Xr,Ln,eI,Ik,Gr],pI),KG=fe([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),YG=fe([Gr,Ju],Vk),rd=fe([KG,Xr,YG],Uk,{memoizeOptions:{resultEqualityCheck:ey}}),GG=fe([rd],e=>e.filter(Bk)),XG=fe([rd],Wk,{memoizeOptions:{resultEqualityCheck:ey}}),ad=fe([XG,jl],Hk),ZG=fe([GG,jl,Xr],Z4),uS=fe([ad,Xr,rd],Kk),_I=fe([Xr],Yk),QG=fe([Xr],e=>e.allowDataOverflow),LI=fe([_I,QG],E4),JG=fe([rd],e=>e.filter(Bk)),eX=fe([ZG,JG,yp,U4],iI),tX=fe([eX,jl,Gr,LI],oI),nX=fe([rd],rI),rX=fe([ad,Xr,nX,ny,Gr],Zk,{memoizeOptions:{resultEqualityCheck:J0}}),aX=fe([sI,Gr,Ju],ed),iX=fe([aX,Gr],uI),oX=fe([lI,Gr,Ju],ed),sX=fe([oX,Gr],dI),lX=fe([cI,Gr,Ju],ed),cX=fe([lX,Gr],fI),uX=fe([iX,cX,sX],Ng),dX=fe([Xr,_I,LI,tX,rX,uX,Ln,Gr],Qk),Np=fe([Xr,Ln,ad,uS,yp,Gr,dX],Jk),fX=fe([Np,Xr,cS],nS),pX=fe([Xr,Np,fX,Gr],aS),FI=e=>{var t=Gr(e),n=Ju(e),r=!1;return kp(e,t,n,r)},RI=fe([Xr,FI],Z0),$I=fe([Xr,cS,pX,RI],tS),mX=fe([Ln,uS,Xr,Gr],vI),hX=fe([Ln,uS,Xr,Gr],bI),gX=(e,t,n,r,a,i,o,s)=>{if(t){var{type:l}=t,c=kl(e,s);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/d:0;return f=s==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?ja(a[0]-a[1])*2*f:f,c&&o?o.map((p,m)=>({coordinate:r(p)+f,value:p,index:m,offset:f})):r.domain().map((p,m)=>({coordinate:r(p)+f,value:i?i[p]:p,index:m,offset:f}))}}},Ms=fe([Ln,Xr,cS,$I,FI,mX,hX,Gr],gX),dS=fe([SI,NI,jG],(e,t,n)=>jI(n.shared,e,t)),BI=e=>e.tooltip.settings.trigger,fS=e=>e.tooltip.settings.defaultIndex,jp=fe([nd,dS,BI,fS],TI),zu=fe([jp,ad,wp,Np],lS),zI=fe([Ms,zu],CI),VI=fe([jp],e=>{if(e)return e.dataKey}),yX=fe([jp],e=>{if(e)return e.graphicalItemId}),UI=fe([nd,dS,BI,fS],OI),vX=fe([ks,Ss,Ln,aa,Ms,fS,UI,Sp],DI),bX=fe([jp,vX],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),xX=fe([jp],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),wX=fe([UI,zu,jl,wp,zI,Sp,dS],II),kX=fe([wX],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function MM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function AM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MM(Object(n),!0).forEach(function(r){SX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SX(e,t,n){return(t=NX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NX(e){var t=jX(e,"string");return typeof t=="symbol"?t:t+""}function jX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CX=()=>kt(Xr),MX=()=>{var e=CX(),t=kt(Ms),n=kt($I);return mx(!e||!n?void 0:AM(AM({},e),{},{scale:n}),t)};function EM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Hc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EM(Object(n),!0).forEach(function(r){AX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AX(e,t,n){return(t=EX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EX(e){var t=PX(e,"string");return typeof t=="symbol"?t:t+""}function PX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TX=(e,t,n,r)=>{var a=t.find(i=>i&&i.index===n);if(a){if(e==="horizontal")return{x:a.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:a.coordinate}}return{x:0,y:0}},DX=(e,t,n,r)=>{var a=t.find(c=>c&&c.index===n);if(a){if(e==="centric"){var i=a.coordinate,{radius:o}=r;return Hc(Hc(Hc({},r),$r(r.cx,r.cy,o,i)),{},{angle:i,radius:o})}var s=a.coordinate,{angle:l}=r;return Hc(Hc(Hc({},r),$r(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function OX(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var WI=(e,t,n,r,a)=>{var i,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var s=0;s<o;s++){var l,c,d,f,p,m=s>0?(l=n[s-1])===null||l===void 0?void 0:l.coordinate:(c=n[o-1])===null||c===void 0?void 0:c.coordinate,h=(d=n[s])===null||d===void 0?void 0:d.coordinate,y=s>=o-1?(f=n[0])===null||f===void 0?void 0:f.coordinate:(p=n[s+1])===null||p===void 0?void 0:p.coordinate,x=void 0;if(!(m==null||h==null||y==null))if(ja(h-m)!==ja(y-h)){var g=[];if(ja(y-h)===ja(a[1]-a[0])){x=y;var b=h+a[1]-a[0];g[0]=Math.min(b,(b+m)/2),g[1]=Math.max(b,(b+m)/2)}else{x=m;var w=y+a[1]-a[0];g[0]=Math.min(h,(w+h)/2),g[1]=Math.max(h,(w+h)/2)}var S=[Math.min(h,(x+h)/2),Math.max(h,(x+h)/2)];if(e>S[0]&&e<=S[1]||e>=g[0]&&e<=g[1]){var C;return(C=n[s])===null||C===void 0?void 0:C.index}}else{var N=Math.min(m,y),M=Math.max(m,y);if(e>(N+h)/2&&e<=(M+h)/2){var T;return(T=n[s])===null||T===void 0?void 0:T.index}}}else if(t)for(var $=0;$<o;$++){var E=t[$];if(E!=null){var P=t[$+1],O=t[$-1];if($===0&&P!=null&&e<=(E.coordinate+P.coordinate)/2||$===o-1&&O!=null&&e>(E.coordinate+O.coordinate)/2||$>0&&$<o-1&&O!=null&&P!=null&&e>(E.coordinate+O.coordinate)/2&&e<=(E.coordinate+P.coordinate)/2)return E.index}}return-1},IX=()=>kt(Ik),pS=(e,t)=>t,HI=(e,t,n)=>n,mS=(e,t,n,r)=>r,_X=fe(Ms,e=>k0(e,t=>t.coordinate)),hS=fe([nd,pS,HI,mS],TI),gS=fe([hS,ad,wp,Np],lS),LX=(e,t,n)=>{if(t!=null){var r=nd(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},qI=fe([nd,pS,HI,mS],OI),jg=fe([ks,Ss,Ln,aa,Ms,mS,qI,Sp],DI),FX=fe([hS,jg],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),KI=fe([Ms,gS],CI),RX=fe([qI,gS,jl,wp,KI,Sp,pS],II),$X=fe([hS,gS],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),BX=(e,t,n,r,a,i,o)=>{if(!(!e||!n||!r||!a)&&OX(e,o)){var s=p9(e,t),l=WI(s,i,a,n,r),c=TX(t,a,l,e);return{activeIndex:String(l),activeCoordinate:c}}},zX=(e,t,n,r,a,i,o)=>{if(!(!e||!r||!a||!i||!n)){var s=CH(e,n);if(s){var l=m9(s,t),c=WI(l,o,i,r,a),d=DX(t,i,c,s);return{activeIndex:String(c),activeCoordinate:d}}}},VX=(e,t,n,r,a,i,o,s)=>{if(!(!e||!t||!r||!a||!i))return t==="horizontal"||t==="vertical"?BX(e,t,r,a,i,o,s):zX(e,t,n,r,a,i,o)},UX=fe(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),WX=fe(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(fa)),n=Array.from(new Set(t));return n.sort((r,a)=>r-a)},{memoizeOptions:{resultEqualityCheck:SY}});function PM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function TM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PM(Object(n),!0).forEach(function(r){HX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HX(e,t,n){return(t=qX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qX(e){var t=KX(e,"string");return typeof t=="symbol"?t:t+""}function KX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YX={},GX={zIndexMap:Object.values(fa).reduce((e,t)=>TM(TM({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),YX)},XX=new Set(Object.values(fa));function ZX(e){return XX.has(e)}var YI=si({name:"zIndex",initialState:GX,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:lr()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!ZX(n)&&delete e.zIndexMap[n])},prepare:lr()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:a}=t.payload;e.zIndexMap[n]?a?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:a?void 0:r,panoramaElement:a?r:void 0}},prepare:lr()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:lr()}}}),{registerZIndexPortal:QX,unregisterZIndexPortal:JX,registerZIndexPortalElement:eZ,unregisterZIndexPortalElement:tZ}=YI.actions,nZ=YI.reducer;function wo(e){var{zIndex:t,children:n}=e,r=z9(),a=r&&t!==void 0&&t!==0,i=li(),o=Yn();v.useLayoutEffect(()=>a?(o(QX({zIndex:t})),()=>{o(JX({zIndex:t}))}):sp,[o,t,a]);var s=kt(l=>UX(l,t,i));return a?s?Gu.createPortal(n,s):null:n}function Bx(){return Bx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bx.apply(null,arguments)}function DM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Pm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DM(Object(n),!0).forEach(function(r){rZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rZ(e,t,n){return(t=aZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aZ(e){var t=iZ(e,"string");return typeof t=="symbol"?t:t+""}function iZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oZ(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return v.isValidElement(t)?v.cloneElement(t,r):v.createElement(n,r)}function sZ(e){var t,{coordinate:n,payload:r,index:a,offset:i,tooltipAxisBandSize:o,layout:s,cursor:l,tooltipEventType:c,chartName:d}=e,f=n,p=r,m=a;if(!l||!f||d!=="ScatterChart"&&c!=="axis")return null;var h,y,x;if(d==="ScatterChart")h=f,y=BW,x=fa.cursorLine;else if(d==="BarChart")h=zW(s,f,i,o),y=z3,x=fa.cursorRectangle;else if(s==="radial"&&rO(f)){var{cx:g,cy:b,radius:w,startAngle:S,endAngle:C}=U3(f);h={cx:g,cy:b,startAngle:S,endAngle:C,innerRadius:w,outerRadius:w},y=H3,x=fa.cursorLine}else h={points:PH(s,f,i)},y=ok,x=fa.cursorLine;var N=typeof l=="object"&&"className"in l?l.className:void 0,M=Pm(Pm(Pm(Pm({stroke:"#ccc",pointerEvents:"none"},i),h),Ou(l)),{},{payload:p,payloadIndex:m,className:Pn("recharts-tooltip-cursor",N)});return v.createElement(wo,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:x},v.createElement(oZ,{cursor:l,cursorComp:y,cursorProps:M}))}function lZ(e){var t=MX(),n=N3(),r=dp(),a=IX();return t==null||n==null||r==null||a==null?null:v.createElement(sZ,Bx({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:a}))}var GI=v.createContext(null),cZ=()=>v.useContext(GI),XI={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function i(l,c,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||l,p),h=n?n+c:c;return l._events[h]?l._events[h].fn?l._events[h]=[l._events[h],m]:l._events[h].push(m):(l._events[h]=m,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],c,d;if(this._eventsCount===0)return l;for(d in c=this._events)t.call(c,d)&&l.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(c)):l},s.prototype.listeners=function(l){var c=n?n+l:l,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,p=d.length,m=new Array(p);f<p;f++)m[f]=d[f].fn;return m},s.prototype.listenerCount=function(l){var c=n?n+l:l,d=this._events[c];return d?d.fn?1:d.length:0},s.prototype.emit=function(l,c,d,f,p,m){var h=n?n+l:l;if(!this._events[h])return!1;var y=this._events[h],x=arguments.length,g,b;if(y.fn){switch(y.once&&this.removeListener(l,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,c),!0;case 3:return y.fn.call(y.context,c,d),!0;case 4:return y.fn.call(y.context,c,d,f),!0;case 5:return y.fn.call(y.context,c,d,f,p),!0;case 6:return y.fn.call(y.context,c,d,f,p,m),!0}for(b=1,g=new Array(x-1);b<x;b++)g[b-1]=arguments[b];y.fn.apply(y.context,g)}else{var w=y.length,S;for(b=0;b<w;b++)switch(y[b].once&&this.removeListener(l,y[b].fn,void 0,!0),x){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,c);break;case 3:y[b].fn.call(y[b].context,c,d);break;case 4:y[b].fn.call(y[b].context,c,d,f);break;default:if(!g)for(S=1,g=new Array(x-1);S<x;S++)g[S-1]=arguments[S];y[b].fn.apply(y[b].context,g)}}return!0},s.prototype.on=function(l,c,d){return i(this,l,c,d,!1)},s.prototype.once=function(l,c,d){return i(this,l,c,d,!0)},s.prototype.removeListener=function(l,c,d,f){var p=n?n+l:l;if(!this._events[p])return this;if(!c)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===c&&(!f||m.once)&&(!d||m.context===d)&&o(this,p);else{for(var h=0,y=[],x=m.length;h<x;h++)(m[h].fn!==c||f&&!m[h].once||d&&m[h].context!==d)&&y.push(m[h]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},s.prototype.removeAllListeners=function(l){var c;return l?(c=n?n+l:l,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(XI);var uZ=XI.exports;const dZ=bo(uZ);var Uf=new dZ,zx="recharts.syncEvent.tooltip",OM="recharts.syncEvent.brush";function ZI(e,t){if(t){var n=Number.parseInt(t,10);if(!Bo(n))return e==null?void 0:e[n]}}var fZ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},QI=si({name:"options",initialState:fZ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),pZ=QI.reducer,{createEventEmitter:mZ}=QI.actions;function hZ(e){return e.tooltip.syncInteraction}var gZ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},JI=si({name:"chartData",initialState:gZ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:IM,setDataStartEndIndexes:yZ,setComputedData:rge}=JI.actions,vZ=JI.reducer,bZ=["x","y"];function _M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function qc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_M(Object(n),!0).forEach(function(r){xZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_M(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xZ(e,t,n){return(t=wZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wZ(e){var t=kZ(e,"string");return typeof t=="symbol"?t:t+""}function kZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SZ(e,t){if(e==null)return{};var n,r,a=NZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function NZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function jZ(){var e=kt(_k),t=kt(Lk),n=Yn(),r=kt(W4),a=kt(Ms),i=dp(),o=F0(),s=kt(l=>l.rootProps.className);v.useEffect(()=>{if(e==null)return sp;var l=(c,d,f)=>{if(t!==f&&e===c){if(r==="index"){var p;if(o&&d!==null&&d!==void 0&&(p=d.payload)!==null&&p!==void 0&&p.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:h,y}=m,x=SZ(m,bZ),{x:g,y:b,width:w,height:S}=d.payload.sourceViewBox,C=qc(qc({},x),{},{x:o.x+(w?(h-g)/w:0)*o.width,y:o.y+(S?(y-b)/S:0)*o.height});n(qc(qc({},d),{},{payload:qc(qc({},d.payload),{},{coordinate:C})}))}else n(d);return}if(a!=null){var N;if(typeof r=="function"){var M={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},T=r(a,M);N=a[T]}else r==="value"&&(N=a.find(de=>String(de.value)===d.payload.label));var{coordinate:$}=d.payload;if(N==null||d.payload.active===!1||$==null||o==null){n(Rx({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:E,y:P}=$,O=Math.min(E,o.x+o.width),U=Math.min(P,o.y+o.height),X={x:i==="horizontal"?N.coordinate:O,y:i==="horizontal"?U:N.coordinate},ee=Rx({active:d.payload.active,coordinate:X,dataKey:d.payload.dataKey,index:String(N.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});n(ee)}}};return Uf.on(zx,l),()=>{Uf.off(zx,l)}},[s,n,t,e,r,a,i,o])}function CZ(){var e=kt(_k),t=kt(Lk),n=Yn();v.useEffect(()=>{if(e==null)return sp;var r=(a,i,o)=>{t!==o&&e===a&&n(yZ(i))};return Uf.on(OM,r),()=>{Uf.off(OM,r)}},[n,t,e])}function MZ(){var e=Yn();v.useEffect(()=>{e(mZ())},[e]),jZ(),CZ()}function AZ(e,t,n,r,a,i){var o=kt(m=>LX(m,e,t)),s=kt(Lk),l=kt(_k),c=kt(W4),d=kt(hZ),f=d==null?void 0:d.active,p=F0();v.useEffect(()=>{if(!f&&l!=null&&s!=null){var m=Rx({active:i,coordinate:n,dataKey:o,index:a,label:typeof r=="number"?String(r):r,sourceViewBox:p,graphicalItemId:void 0});Uf.emit(zx,l,m,s)}},[f,n,o,a,r,s,l,c,i,p])}function LM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function FM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LM(Object(n),!0).forEach(function(r){EZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EZ(e,t,n){return(t=PZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PZ(e){var t=TZ(e,"string");return typeof t=="symbol"?t:t+""}function TZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DZ(e){return e.dataKey}function OZ(e,t){return v.isValidElement(e)?v.cloneElement(e,t):typeof e=="function"?v.createElement(e,t):v.createElement(bW,t)}var RM=[],IZ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function wc(e){var t,n,r=Kr(e,IZ),{active:a,allowEscapeViewBox:i,animationDuration:o,animationEasing:s,content:l,filterNull:c,isAnimationActive:d,offset:f,payloadUniqBy:p,position:m,reverseDirection:h,useTranslate3d:y,wrapperStyle:x,cursor:g,shared:b,trigger:w,defaultIndex:S,portal:C,axisId:N}=r,M=Yn(),T=typeof S=="number"?String(S):S;v.useEffect(()=>{M(PG({shared:b,trigger:w,axisId:N,active:a,defaultIndex:T}))},[M,b,w,N,a,T]);var $=F0(),E=L3(),P=NG(b),{activeIndex:O,isActive:U}=(t=kt(G=>$X(G,P,w,T)))!==null&&t!==void 0?t:{},X=kt(G=>RX(G,P,w,T)),ee=kt(G=>KI(G,P,w,T)),de=kt(G=>FX(G,P,w,T)),z=X,B=cZ(),ie=(n=a??U)!==null&&n!==void 0?n:!1,[k,I]=IO([z,ie]),A=P==="axis"?ee:void 0;AZ(P,w,de,A,O,ie);var j=C??B;if(j==null||$==null||P==null)return null;var L=z??RM;ie||(L=RM),c&&L.length&&(L=kO(L.filter(G=>G.value!=null&&(G.hide!==!0||r.includeHidden)),p,DZ));var q=L.length>0,Q=v.createElement(CW,{allowEscapeViewBox:i,animationDuration:o,animationEasing:s,isAnimationActive:d,active:ie,coordinate:de,hasPayload:q,offset:f,position:m,reverseDirection:h,useTranslate3d:y,viewBox:$,wrapperStyle:x,lastBoundingBox:k,innerRef:I,hasPortalFromProps:!!C},OZ(l,FM(FM({},r),{},{payload:L,label:A,active:ie,activeIndex:O,coordinate:de,accessibilityLayer:E})));return v.createElement(v.Fragment,null,Gu.createPortal(Q,j),ie&&v.createElement(lZ,{cursor:g,tooltipEventType:P,coordinate:de,payload:L,index:O}))}var Vu=e=>null;Vu.displayName="Cell";function _Z(e,t,n){return(t=LZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LZ(e){var t=FZ(e,"string");return typeof t=="symbol"?t:t+""}function FZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class RZ{constructor(t){_Z(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function $M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function $Z(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$M(Object(n),!0).forEach(function(r){BZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$M(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BZ(e,t,n){return(t=zZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zZ(e){var t=VZ(e,"string");return typeof t=="symbol"?t:t+""}function VZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UZ={cacheSize:2e3,enableCache:!0},e_=$Z({},UZ),BM=new RZ(e_.cacheSize),WZ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},zM="recharts_measurement_span";function HZ(e,t){var n=t.fontSize||"",r=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(s)}var VM=(e,t)=>{try{var n=document.getElementById(zM);n||(n=document.createElement("span"),n.setAttribute("id",zM),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,WZ,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Jd=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||V0.isSsr)return{width:0,height:0};if(!e_.enableCache)return VM(e,t);var n=HZ(e,t),r=BM.get(n);if(r)return r;var a=VM(e,t);return BM.set(n,a),a},t_;function qZ(e,t,n){return(t=KZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KZ(e){var t=YZ(e,"string");return typeof t=="symbol"?t:t+""}function YZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,WM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,XZ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ZZ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},QZ=["cm","mm","pt","pc","in","Q","px"];function JZ(e){return QZ.includes(e)}var uu="NaN";function eQ(e,t){return e*ZZ[t]}class da{static parse(t){var n,[,r,a]=(n=XZ.exec(t))!==null&&n!==void 0?n:[];return r==null?da.NaN:new da(parseFloat(r),a??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Bo(t)&&(this.unit=""),n!==""&&!GZ.test(n)&&(this.num=NaN,this.unit=""),JZ(n)&&(this.num=eQ(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new da(NaN,""):new da(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new da(NaN,""):new da(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new da(NaN,""):new da(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new da(NaN,""):new da(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Bo(this.num)}}t_=da;qZ(da,"NaN",new t_(NaN,""));function n_(e){if(e==null||e.includes(uu))return uu;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,a,i]=(n=UM.exec(t))!==null&&n!==void 0?n:[],o=da.parse(r??""),s=da.parse(i??""),l=a==="*"?o.multiply(s):o.divide(s);if(l.isNaN())return uu;t=t.replace(UM,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,d,f,p]=(c=WM.exec(t))!==null&&c!==void 0?c:[],m=da.parse(d??""),h=da.parse(p??""),y=f==="+"?m.add(h):m.subtract(h);if(y.isNaN())return uu;t=t.replace(WM,y.toString())}return t}var HM=/\(([^()]*)\)/;function tQ(e){for(var t=e,n;(n=HM.exec(t))!=null;){var[,r]=n;t=t.replace(HM,n_(r))}return t}function nQ(e){var t=e.replace(/\s+/g,"");return t=tQ(t),t=n_(t),t}function rQ(e){try{return nQ(e)}catch{return uu}}function xv(e){var t=rQ(e.slice(5,-1));return t===uu?"":t}var aQ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],iQ=["dx","dy","angle","className","breakAll"];function Vx(){return Vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vx.apply(null,arguments)}function qM(e,t){if(e==null)return{};var n,r,a=oQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function oQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var r_=/[ \f\n\r\t\v\u2028\u2029]+/,a_=e=>{var{children:t,breakAll:n,style:r}=e;try{var a=[];qr(t)||(n?a=t.toString().split(""):a=t.toString().split(r_));var i=a.map(s=>({word:s,width:Jd(s,r).width})),o=n?0:Jd("",r).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}};function sQ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var i_=(e,t,n,r)=>e.reduce((a,i)=>{var{word:o,width:s}=i,l=a[a.length-1];if(l&&s!=null&&(t==null||r||l.width+s+n<Number(t)))l.words.push(o),l.width+=s+n;else{var c={words:[o],width:s};a.push(c)}return a},[]),o_=e=>e.reduce((t,n)=>t.width>n.width?t:n),lQ="",KM=(e,t,n,r,a,i,o,s)=>{var l=e.slice(0,t),c=a_({breakAll:n,style:r,children:l+lQ});if(!c)return[!1,[]];var d=i_(c.wordsWithComputedWidth,i,o,s),f=d.length>a||o_(d).width>Number(i);return[f,d]},cQ=(e,t,n,r,a)=>{var{maxLines:i,children:o,style:s,breakAll:l}=e,c=St(i),d=String(o),f=i_(t,r,n,a);if(!c||a)return f;var p=f.length>i||o_(f).width>Number(r);if(!p)return f;for(var m=0,h=d.length-1,y=0,x;m<=h&&y<=d.length-1;){var g=Math.floor((m+h)/2),b=g-1,[w,S]=KM(d,b,l,s,i,r,n,a),[C]=KM(d,g,l,s,i,r,n,a);if(!w&&!C&&(m=g+1),w&&C&&(h=g-1),!w&&C){x=S;break}y++}return x||f},YM=e=>{var t=qr(e)?[]:e.toString().split(r_);return[{words:t,width:void 0}]},uQ=e=>{var{width:t,scaleToFit:n,children:r,style:a,breakAll:i,maxLines:o}=e;if((t||n)&&!V0.isSsr){var s,l,c=a_({breakAll:i,children:r,style:a});if(c){var{wordsWithComputedWidth:d,spaceWidth:f}=c;s=d,l=f}else return YM(r);return cQ({breakAll:i,children:r,maxLines:o,style:a},s,l,t,!!n)}return YM(r)},s_="#808080",dQ={angle:0,breakAll:!1,capHeight:"0.71em",fill:s_,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},oy=v.forwardRef((e,t)=>{var n=Kr(e,dQ),{x:r,y:a,lineHeight:i,capHeight:o,fill:s,scaleToFit:l,textAnchor:c,verticalAnchor:d}=n,f=qM(n,aQ),p=v.useMemo(()=>uQ({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:m,dy:h,angle:y,className:x,breakAll:g}=f,b=qM(f,iQ);if(!zo(r)||!zo(a)||p.length===0)return null;var w=Number(r)+(St(m)?m:0),S=Number(a)+(St(h)?h:0);if(!zr(w)||!zr(S))return null;var C;switch(d){case"start":C=xv("calc(".concat(o,")"));break;case"middle":C=xv("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:C=xv("calc(".concat(p.length-1," * -").concat(i,")"));break}var N=[];if(l){var M=p[0].width,{width:T}=f;N.push("scale(".concat(St(T)&&St(M)?T/M:1,")"))}return y&&N.push("rotate(".concat(y,", ").concat(w,", ").concat(S,")")),N.length&&(b.transform=N.join(" ")),v.createElement("text",Vx({},Ba(b),{ref:t,x:w,y:S,className:Pn("recharts-text",x),textAnchor:c,fill:s.includes("url")?s_:s}),p.map(($,E)=>{var P=$.words.join(g?"":" ");return v.createElement("tspan",{x:w,dy:E===0?C:i,key:"".concat(P,"-").concat(E)},P)}))});oy.displayName="Text";var fQ=["labelRef"],pQ=["content"];function GM(e,t){if(e==null)return{};var n,r,a=mQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function mQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function XM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Pr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XM(Object(n),!0).forEach(function(r){hQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hQ(e,t,n){return(t=gQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gQ(e){var t=yQ(e,"string");return typeof t=="symbol"?t:t+""}function yQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qo(){return Qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qo.apply(null,arguments)}var l_=v.createContext(null),vQ=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:a,width:i,height:o,children:s}=e,l=v.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:a,width:i,height:o}),[t,n,r,a,i,o]);return v.createElement(l_.Provider,{value:l},s)},c_=()=>{var e=v.useContext(l_),t=F0();return e||S3(t)},bQ=v.createContext(null),xQ=()=>{var e=v.useContext(bQ),t=kt(G4);return e||t},wQ=e=>{var{value:t,formatter:n}=e,r=qr(e.children)?t:e.children;return typeof n=="function"?n(r):r},yS=e=>e!=null&&typeof e=="function",kQ=(e,t)=>{var n=ja(t-e),r=Math.min(Math.abs(t-e),360);return n*r},SQ=(e,t,n,r,a)=>{var{offset:i,className:o}=e,{cx:s,cy:l,innerRadius:c,outerRadius:d,startAngle:f,endAngle:p,clockWise:m}=a,h=(c+d)/2,y=kQ(f,p),x=y>=0?1:-1,g,b;switch(t){case"insideStart":g=f+x*i,b=m;break;case"insideEnd":g=p-x*i,b=!m;break;case"end":g=p+x*i,b=m;break;default:throw new Error("Unsupported position ".concat(t))}b=y<=0?b:!b;var w=$r(s,l,h,g),S=$r(s,l,h,g+(b?1:-1)*359),C="M".concat(w.x,",").concat(w.y,`
    A`).concat(h,",").concat(h,",0,1,").concat(b?0:1,`,
    `).concat(S.x,",").concat(S.y),N=qr(e.id)?Pf("recharts-radial-line-"):e.id;return v.createElement("text",Qo({},r,{dominantBaseline:"central",className:Pn("recharts-radial-bar-label",o)}),v.createElement("defs",null,v.createElement("path",{id:N,d:C})),v.createElement("textPath",{xlinkHref:"#".concat(N)},n))},NQ=(e,t,n)=>{var{cx:r,cy:a,innerRadius:i,outerRadius:o,startAngle:s,endAngle:l}=e,c=(s+l)/2;if(n==="outside"){var{x:d,y:f}=$r(r,a,o+t,c);return{x:d,y:f,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var p=(i+o)/2,{x:m,y:h}=$r(r,a,p,c);return{x:m,y:h,textAnchor:"middle",verticalAnchor:"middle"}},Ux=e=>"cx"in e&&St(e.cx),jQ=(e,t)=>{var{parentViewBox:n,offset:r,position:a}=e,i;n!=null&&!Ux(n)&&(i=n);var{x:o,y:s,upperWidth:l,lowerWidth:c,height:d}=t,f=o,p=o+(l-c)/2,m=(f+p)/2,h=(l+c)/2,y=f+l/2,x=d>=0?1:-1,g=x*r,b=x>0?"end":"start",w=x>0?"start":"end",S=l>=0?1:-1,C=S*r,N=S>0?"end":"start",M=S>0?"start":"end";if(a==="top"){var T={x:f+l/2,y:s-g,textAnchor:"middle",verticalAnchor:b};return Pr(Pr({},T),i?{height:Math.max(s-i.y,0),width:l}:{})}if(a==="bottom"){var $={x:p+c/2,y:s+d+g,textAnchor:"middle",verticalAnchor:w};return Pr(Pr({},$),i?{height:Math.max(i.y+i.height-(s+d),0),width:c}:{})}if(a==="left"){var E={x:m-C,y:s+d/2,textAnchor:N,verticalAnchor:"middle"};return Pr(Pr({},E),i?{width:Math.max(E.x-i.x,0),height:d}:{})}if(a==="right"){var P={x:m+h+C,y:s+d/2,textAnchor:M,verticalAnchor:"middle"};return Pr(Pr({},P),i?{width:Math.max(i.x+i.width-P.x,0),height:d}:{})}var O=i?{width:h,height:d}:{};return a==="insideLeft"?Pr({x:m+C,y:s+d/2,textAnchor:M,verticalAnchor:"middle"},O):a==="insideRight"?Pr({x:m+h-C,y:s+d/2,textAnchor:N,verticalAnchor:"middle"},O):a==="insideTop"?Pr({x:f+l/2,y:s+g,textAnchor:"middle",verticalAnchor:w},O):a==="insideBottom"?Pr({x:p+c/2,y:s+d-g,textAnchor:"middle",verticalAnchor:b},O):a==="insideTopLeft"?Pr({x:f+C,y:s+g,textAnchor:M,verticalAnchor:w},O):a==="insideTopRight"?Pr({x:f+l-C,y:s+g,textAnchor:N,verticalAnchor:w},O):a==="insideBottomLeft"?Pr({x:p+C,y:s+d-g,textAnchor:M,verticalAnchor:b},O):a==="insideBottomRight"?Pr({x:p+c-C,y:s+d-g,textAnchor:N,verticalAnchor:b},O):a&&typeof a=="object"&&(St(a.x)||ms(a.x))&&(St(a.y)||ms(a.y))?Pr({x:o+Hi(a.x,h),y:s+Hi(a.y,d),textAnchor:"end",verticalAnchor:"end"},O):Pr({x:y,y:s+d/2,textAnchor:"middle",verticalAnchor:"middle"},O)},CQ={angle:0,offset:5,zIndex:fa.label,position:"middle",textBreakAll:!1};function Ks(e){var t=Kr(e,CQ),{viewBox:n,position:r,value:a,children:i,content:o,className:s="",textBreakAll:l,labelRef:c}=t,d=xQ(),f=c_(),p=r==="center"?f:d??f,m,h,y;if(n==null?m=p:Ux(n)?m=n:m=S3(n),!m||qr(a)&&qr(i)&&!v.isValidElement(o)&&typeof o!="function")return null;var x=Pr(Pr({},t),{},{viewBox:m});if(v.isValidElement(o)){var{labelRef:g}=x,b=GM(x,fQ);return v.cloneElement(o,b)}if(typeof o=="function"){var{content:w}=x,S=GM(x,pQ);if(h=v.createElement(o,S),v.isValidElement(h))return h}else h=wQ(t);var C=Ba(t);if(Ux(m)){if(r==="insideStart"||r==="insideEnd"||r==="end")return SQ(t,r,h,C,m);y=NQ(m,t.offset,t.position)}else y=jQ(t,m);return v.createElement(wo,{zIndex:t.zIndex},v.createElement(oy,Qo({ref:c,className:Pn("recharts-label",s)},C,y,{textAnchor:sQ(C.textAnchor)?C.textAnchor:y.textAnchor,breakAll:l}),h))}Ks.displayName="Label";var MQ=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?v.createElement(Ks,Qo({key:"label-implicit"},r)):zo(e)?v.createElement(Ks,Qo({key:"label-implicit",value:e},r)):v.isValidElement(e)?e.type===Ks?v.cloneElement(e,Pr({key:"label-implicit"},r)):v.createElement(Ks,Qo({key:"label-implicit",content:e},r)):yS(e)?v.createElement(Ks,Qo({key:"label-implicit",content:e},r)):e&&typeof e=="object"?v.createElement(Ks,Qo({},e,{key:"label-implicit"},r)):null};function AQ(e){var{label:t,labelRef:n}=e,r=c_();return MQ(t,r,n)||null}var u_={},d_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(d_);var f_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(f_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d_,n=f_,r=b0;function a(i){if(r.isArrayLike(i))return t.last(n.toArray(i))}e.last=a})(u_);var EQ=u_.last;const PQ=bo(EQ);var TQ=["valueAccessor"],DQ=["dataKey","clockWise","id","textBreakAll","zIndex"];function Cg(){return Cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cg.apply(null,arguments)}function ZM(e,t){if(e==null)return{};var n,r,a=OQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function OQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var IQ=e=>Array.isArray(e.value)?PQ(e.value):e.value,p_=v.createContext(void 0),_Q=p_.Provider,m_=v.createContext(void 0),LQ=m_.Provider;function FQ(){return v.useContext(p_)}function RQ(){return v.useContext(m_)}function ih(e){var{valueAccessor:t=IQ}=e,n=ZM(e,TQ),{dataKey:r,clockWise:a,id:i,textBreakAll:o,zIndex:s}=n,l=ZM(n,DQ),c=FQ(),d=RQ(),f=c||d;return!f||!f.length?null:v.createElement(wo,{zIndex:s??fa.label},v.createElement(ai,{className:"recharts-label-list"},f.map((p,m)=>{var h,y=qr(r)?t(p,m):tr(p&&p.payload,r),x=qr(i)?{}:{id:"".concat(i,"-").concat(m)};return v.createElement(Ks,Cg({key:"label-".concat(m)},Ba(p),l,x,{fill:(h=n.fill)!==null&&h!==void 0?h:p.fill,parentViewBox:p.parentViewBox,value:y,textBreakAll:o,viewBox:p.viewBox,index:m,zIndex:0}))})))}ih.displayName="LabelList";function h_(e){var{label:t}=e;return t?t===!0?v.createElement(ih,{key:"labelList-implicit"}):v.isValidElement(t)||yS(t)?v.createElement(ih,{key:"labelList-implicit",content:t}):typeof t=="object"?v.createElement(ih,Cg({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Wx(){return Wx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wx.apply(null,arguments)}var g_=e=>{var{cx:t,cy:n,r,className:a}=e,i=Pn("recharts-dot",a);return St(t)&&St(n)&&St(r)?v.createElement("circle",Wx({},Yi(e),L1(e),{className:i,cx:t,cy:n,r})):null},y_=e=>e.graphicalItems.polarItems,$Q=fe([dr,vp],Vk),sy=fe([y_,xr,$Q],Uk),BQ=fe([sy],Wk),ly=fe([BQ,Pk],Hk),zQ=fe([ly,xr,sy],Kk);fe([ly,xr,sy],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(a=>{var i,o=tr(r,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:tr(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var QM=()=>{},VQ=fe([ly,xr,sy,ny,dr],Zk),UQ=fe([xr,Gk,Xk,QM,VQ,QM,Ln,dr],Qk),v_=fe([xr,Ln,ly,zQ,yp,dr,UQ],Jk),WQ=fe([v_,xr,td],nS);fe([xr,v_,WQ,dr],aS);var HQ={radiusAxis:{},angleAxis:{}},b_=si({name:"polarAxis",initialState:HQ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:age,removeRadiusAxis:ige,addAngleAxis:oge,removeAngleAxis:sge}=b_.actions,qQ=b_.reducer;function JM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function eA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JM(Object(n),!0).forEach(function(r){KQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KQ(e,t,n){return(t=YQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YQ(e){var t=GQ(e,"string");return typeof t=="symbol"?t:t+""}function GQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XQ=(e,t)=>t,vS=fe([y_,XQ],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),ZQ=[],bS=(e,t,n)=>(n==null?void 0:n.length)===0?ZQ:n,x_=fe([Pk,vS,bS],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=r,(!a||!a.length)&&n!=null&&(a=n.map(i=>eA(eA({},t.presentationProps),i.props))),a!=null)return a}}),QQ=fe([x_,vS,bS],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,a)=>{var i,o=tr(r,t.nameKey,t.name),s;return n!=null&&(i=n[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?s=n[a].props.fill:typeof r=="object"&&r!=null&&"fill"in r?s=r.fill:s=t.fill,{value:D0(o,t.dataKey),color:s,payload:r,type:t.legendType}})}),JQ=fe([x_,vS,bS,aa],(e,t,n,r)=>{if(!(t==null||e==null))return fee({offset:r,pieSettings:t,displayedData:e,cells:n})}),w_={exports:{}},zn={};/** @license React v17.0.2
* react-is.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var cy=60103,uy=60106,Cp=60107,Mp=60108,Ap=60114,Ep=60109,Pp=60110,Tp=60112,Dp=60113,xS=60120,Op=60115,Ip=60116,k_=60121,S_=60122,N_=60117,j_=60129,C_=60131;if(typeof Symbol=="function"&&Symbol.for){var la=Symbol.for;cy=la("react.element"),uy=la("react.portal"),Cp=la("react.fragment"),Mp=la("react.strict_mode"),Ap=la("react.profiler"),Ep=la("react.provider"),Pp=la("react.context"),Tp=la("react.forward_ref"),Dp=la("react.suspense"),xS=la("react.suspense_list"),Op=la("react.memo"),Ip=la("react.lazy"),k_=la("react.block"),S_=la("react.server.block"),N_=la("react.fundamental"),j_=la("react.debug_trace_mode"),C_=la("react.legacy_hidden")}function ko(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case cy:switch(e=e.type,e){case Cp:case Ap:case Mp:case Dp:case xS:return e;default:switch(e=e&&e.$$typeof,e){case Pp:case Tp:case Ip:case Op:case Ep:return e;default:return t}}case uy:return t}}}var eJ=Ep,tJ=cy,nJ=Tp,rJ=Cp,aJ=Ip,iJ=Op,oJ=uy,sJ=Ap,lJ=Mp,cJ=Dp;zn.ContextConsumer=Pp;zn.ContextProvider=eJ;zn.Element=tJ;zn.ForwardRef=nJ;zn.Fragment=rJ;zn.Lazy=aJ;zn.Memo=iJ;zn.Portal=oJ;zn.Profiler=sJ;zn.StrictMode=lJ;zn.Suspense=cJ;zn.isAsyncMode=function(){return!1};zn.isConcurrentMode=function(){return!1};zn.isContextConsumer=function(e){return ko(e)===Pp};zn.isContextProvider=function(e){return ko(e)===Ep};zn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===cy};zn.isForwardRef=function(e){return ko(e)===Tp};zn.isFragment=function(e){return ko(e)===Cp};zn.isLazy=function(e){return ko(e)===Ip};zn.isMemo=function(e){return ko(e)===Op};zn.isPortal=function(e){return ko(e)===uy};zn.isProfiler=function(e){return ko(e)===Ap};zn.isStrictMode=function(e){return ko(e)===Mp};zn.isSuspense=function(e){return ko(e)===Dp};zn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Cp||e===Ap||e===j_||e===Mp||e===Dp||e===xS||e===C_||typeof e=="object"&&e!==null&&(e.$$typeof===Ip||e.$$typeof===Op||e.$$typeof===Ep||e.$$typeof===Pp||e.$$typeof===Tp||e.$$typeof===N_||e.$$typeof===k_||e[0]===S_)};zn.typeOf=ko;w_.exports=zn;var uJ=w_.exports,tA=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",nA=null,wv=null,M_=e=>{if(e===nA&&Array.isArray(wv))return wv;var t=[];return v.Children.forEach(e,n=>{qr(n)||(uJ.isFragment(n)?t=t.concat(M_(n.props.children)):t.push(n))}),wv=t,nA=e,t};function A_(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(a=>tA(a)):r=[tA(t)],M_(e).forEach(a=>{var i=hc(a,"type.displayName")||hc(a,"type.name");i&&r.indexOf(i)!==-1&&n.push(a)}),n}var E_=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,P_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!((r=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&r.writable)?!1:n.toString()===`[object ${i}]`}let a=n;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(n)===a}e.isPlainObject=t})(P_);var dJ=P_.isPlainObject;const fJ=bo(dJ);var rA,aA,iA,oA,sA;function lA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lA(Object(n),!0).forEach(function(r){pJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pJ(e,t,n){return(t=mJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mJ(e){var t=hJ(e,"string");return typeof t=="symbol"?t:t+""}function hJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mg(){return Mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mg.apply(null,arguments)}function Pd(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var uA=(e,t,n,r,a)=>{var i=n-r,o;return o=Sr(rA||(rA=Pd(["M ",",",""])),e,t),o+=Sr(aA||(aA=Pd(["L ",",",""])),e+n,t),o+=Sr(iA||(iA=Pd(["L ",",",""])),e+n-i/2,t+a),o+=Sr(oA||(oA=Pd(["L ",",",""])),e+n-i/2-r,t+a),o+=Sr(sA||(sA=Pd(["L ",","," Z"])),e,t),o},gJ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},yJ=e=>{var t=Kr(e,gJ),{x:n,y:r,upperWidth:a,lowerWidth:i,height:o,className:s}=t,{animationEasing:l,animationDuration:c,animationBegin:d,isUpdateAnimationActive:f}=t,p=v.useRef(null),[m,h]=v.useState(-1),y=v.useRef(a),x=v.useRef(i),g=v.useRef(o),b=v.useRef(n),w=v.useRef(r),S=W0(e,"trapezoid-");if(v.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var X=p.current.getTotalLength();X&&h(X)}catch{}},[]),n!==+n||r!==+r||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var C=Pn("recharts-trapezoid",s);if(!f)return v.createElement("g",null,v.createElement("path",Mg({},Ba(t),{className:C,d:uA(n,r,a,i,o)})));var N=y.current,M=x.current,T=g.current,$=b.current,E=w.current,P="0px ".concat(m===-1?1:m,"px"),O="".concat(m,"px 0px"),U=F3(["strokeDasharray"],c,l);return v.createElement(U0,{animationId:S,key:S,canBegin:m>0,duration:c,easing:l,isActive:f,begin:d},X=>{var ee=Na(N,a,X),de=Na(M,i,X),z=Na(T,o,X),B=Na($,n,X),ie=Na(E,r,X);p.current&&(y.current=ee,x.current=de,g.current=z,b.current=B,w.current=ie);var k=X>0?{transition:U,strokeDasharray:O}:{strokeDasharray:P};return v.createElement("path",Mg({},Ba(t),{className:C,d:uA(B,ie,ee,de,z),ref:p,style:cA(cA({},k),t.style)}))})},vJ=["option","shapeType","activeClassName"];function bJ(e,t){if(e==null)return{};var n,r,a=xJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function xJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function dA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ag(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dA(Object(n),!0).forEach(function(r){wJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wJ(e,t,n){return(t=kJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kJ(e){var t=SJ(e,"string");return typeof t=="symbol"?t:t+""}function SJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NJ(e,t){return Ag(Ag({},t),e)}function jJ(e,t){return e==="symbols"}function fA(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return v.createElement(z3,n);case"trapezoid":return v.createElement(yJ,n);case"sector":return v.createElement(H3,n);case"symbols":if(jJ(t))return v.createElement(_1,n);break;case"curve":return v.createElement(ok,n);default:return null}}function CJ(e){return v.isValidElement(e)?e.props:e}function T_(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,a=bJ(e,vJ),i;if(v.isValidElement(t))i=v.cloneElement(t,Ag(Ag({},a),CJ(t)));else if(typeof t=="function")i=t(a,a.index);else if(fJ(t)&&typeof t!="boolean"){var o=NJ(t,a);i=v.createElement(fA,{shapeType:n,elementProps:o})}else{var s=a;i=v.createElement(fA,{shapeType:n,elementProps:s})}return a.isActive?v.createElement(ai,{className:r},i):i}var MJ=(e,t,n)=>{var r=Yn();return(a,i)=>o=>{e==null||e(a,i,o),r(AI({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}},AJ=e=>{var t=Yn();return(n,r)=>a=>{e==null||e(n,r,a),t(TG())}},EJ=(e,t,n)=>{var r=Yn();return(a,i)=>o=>{e==null||e(a,i,o),r(DG({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}};function D_(e){var{tooltipEntrySettings:t}=e,n=Yn(),r=li(),a=v.useRef(null);return v.useLayoutEffect(()=>{r||(a.current===null?n(MG(t)):a.current!==t&&n(AG({prev:a.current,next:t})),a.current=t)},[t,n,r]),v.useLayoutEffect(()=>()=>{a.current&&(n(EG(a.current)),a.current=null)},[n]),null}function PJ(e){var{legendPayload:t}=e,n=Yn(),r=li(),a=v.useRef(null);return v.useLayoutEffect(()=>{r||(a.current===null?n(D3(t)):a.current!==t&&n(O3({prev:a.current,next:t})),a.current=t)},[n,r,t]),v.useLayoutEffect(()=>()=>{a.current&&(n(I3(a.current)),a.current=null)},[n]),null}function TJ(e){var{legendPayload:t}=e,n=Yn(),r=kt(Ln),a=v.useRef(null);return v.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(a.current===null?n(D3(t)):a.current!==t&&n(O3({prev:a.current,next:t})),a.current=t)},[n,r,t]),v.useLayoutEffect(()=>()=>{a.current&&(n(I3(a.current)),a.current=null)},[n]),null}var kv,DJ=()=>{var[e]=v.useState(()=>Pf("uid-"));return e},OJ=(kv=H6.useId)!==null&&kv!==void 0?kv:DJ;function IJ(e,t){var n=OJ();return t||(e?"".concat(e,"-").concat(n):n)}var _J=v.createContext(void 0),O_=e=>{var{id:t,type:n,children:r}=e,a=IJ("recharts-".concat(n),t);return v.createElement(_J.Provider,{value:a},r(a))},LJ={cartesianItems:[],polarItems:[]},I_=si({name:"graphicalItems",initialState:LJ,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:lr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,a=uo(e).cartesianItems.indexOf(n);a>-1&&(e.cartesianItems[a]=r)},prepare:lr()},removeCartesianGraphicalItem:{reducer(e,t){var n=uo(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:lr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:lr()},removePolarGraphicalItem:{reducer(e,t){var n=uo(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:lr()}}}),{addCartesianGraphicalItem:FJ,replaceCartesianGraphicalItem:RJ,removeCartesianGraphicalItem:$J,addPolarGraphicalItem:BJ,removePolarGraphicalItem:zJ}=I_.actions,VJ=I_.reducer,UJ=e=>{var t=Yn(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(FJ(e)):n.current!==e&&t(RJ({prev:n.current,next:e})),n.current=e},[t,e]),v.useLayoutEffect(()=>()=>{n.current&&(t($J(n.current)),n.current=null)},[t]),null},WJ=v.memo(UJ);function HJ(e){var t=Yn();return v.useLayoutEffect(()=>(t(BJ(e)),()=>{t(zJ(e))}),[t,e]),null}var qJ=["key"],KJ=["onMouseEnter","onClick","onMouseLeave"],YJ=["id"],GJ=["id"];function pA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function jr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pA(Object(n),!0).forEach(function(r){XJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XJ(e,t,n){return(t=ZJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZJ(e){var t=QJ(e,"string");return typeof t=="symbol"?t:t+""}function QJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gl(){return gl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gl.apply(null,arguments)}function dy(e,t){if(e==null)return{};var n,r,a=JJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function JJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function eee(e){var t=v.useMemo(()=>A_(e.children,Vu),[e.children]),n=kt(r=>QQ(r,e.id,t));return n==null?null:v.createElement(TJ,{legendPayload:n})}var tee=v.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:a,strokeWidth:i,fill:o,name:s,hide:l,tooltipType:c,id:d}=e,f={dataDefinedOnItem:r.map(p=>p.tooltipPayload),positions:r.map(p=>p.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:o,dataKey:t,nameKey:n,name:D0(s,t),hide:l,type:c,color:o,unit:"",graphicalItemId:d}};return v.createElement(D_,{tooltipEntrySettings:f})}),nee=(e,t)=>e>t?"start":e<t?"end":"middle",ree=(e,t,n)=>Hi(typeof t=="function"?t(e):t,n,n*.8),aee=(e,t,n)=>{var{top:r,left:a,width:i,height:o}=t,s=V3(i,o),l=a+Hi(e.cx,i,i/2),c=r+Hi(e.cy,o,o/2),d=Hi(e.innerRadius,s,0),f=ree(n,e.outerRadius,s),p=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:f,maxRadius:p}},iee=(e,t)=>{var n=ja(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function oee(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var see=(e,t)=>{if(v.isValidElement(e))return v.cloneElement(e,t);if(typeof e=="function")return e(t);var n=Pn("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,a=dy(t,qJ);return v.createElement(ok,gl({},a,{type:"linear",className:n}))},lee=(e,t,n)=>{if(v.isValidElement(e))return v.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),v.isValidElement(r)))return r;var a=Pn("recharts-pie-label-text",oee(e));return v.createElement(oy,gl({},t,{alignmentBaseline:"middle",className:a}),r)};function cee(e){var{sectors:t,props:n,showLabels:r}=e,{label:a,labelLine:i,dataKey:o}=n;if(!r||!a||!t)return null;var s=Yi(n),l=Ou(a),c=Ou(i),d=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,f=t.map((p,m)=>{var h=(p.startAngle+p.endAngle)/2,y=$r(p.cx,p.cy,p.outerRadius+d,h),x=jr(jr(jr(jr({},s),p),{},{stroke:"none"},l),{},{index:m,textAnchor:nee(y.x,p.cx)},y),g=jr(jr(jr(jr({},s),p),{},{fill:"none",stroke:p.fill},c),{},{index:m,points:[$r(p.cx,p.cy,p.outerRadius,h),y],key:"line"});return v.createElement(wo,{zIndex:fa.label,key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(m)},v.createElement(ai,null,i&&see(i,g),lee(a,x,tr(p,o))))});return v.createElement(ai,{className:"recharts-pie-labels"},f)}function uee(e){var{sectors:t,props:n,showLabels:r}=e,{label:a}=n;return typeof a=="object"&&a!=null&&"position"in a?v.createElement(h_,{label:a}):v.createElement(cee,{sectors:t,props:n,showLabels:r})}function dee(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:a,shape:i,id:o}=e,s=kt(zu),l=kt(VI),c=kt(yX),{onMouseEnter:d,onClick:f,onMouseLeave:p}=a,m=dy(a,KJ),h=MJ(d,a.dataKey,o),y=AJ(p),x=EJ(f,a.dataKey,o);return t==null||t.length===0?null:v.createElement(v.Fragment,null,t.map((g,b)=>{if((g==null?void 0:g.startAngle)===0&&(g==null?void 0:g.endAngle)===0&&t.length!==1)return null;var w=c==null||c===o,S=String(b)===s&&(l==null||a.dataKey===l)&&w,C=s?r:null,N=n&&S?n:C,M=jr(jr({},g),{},{stroke:g.stroke,tabIndex:-1,[m3]:b,[h3]:o});return v.createElement(ai,gl({key:"sector-".concat(g==null?void 0:g.startAngle,"-").concat(g==null?void 0:g.endAngle,"-").concat(g.midAngle,"-").concat(b),tabIndex:-1,className:"recharts-pie-sector"},F1(m,g,b),{onMouseEnter:h(g,b),onMouseLeave:y(g,b),onClick:x(g,b)}),v.createElement(T_,gl({option:i??N,index:b,shapeType:"sector",isActive:S},M)))}))}function fee(e){var t,{pieSettings:n,displayedData:r,cells:a,offset:i}=e,{cornerRadius:o,startAngle:s,endAngle:l,dataKey:c,nameKey:d,tooltipType:f}=n,p=Math.abs(n.minAngle),m=iee(s,l),h=Math.abs(m),y=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,x=r.filter(N=>tr(N,c,0)!==0).length,g=(h>=360?x:x-1)*y,b=h-x*p-g,w=r.reduce((N,M)=>{var T=tr(M,c,0);return N+(St(T)?T:0)},0),S;if(w>0){var C;S=r.map((N,M)=>{var T=tr(N,c,0),$=tr(N,d,M),E=aee(n,i,N),P=(St(T)?T:0)/w,O,U=jr(jr({},N),a&&a[M]&&a[M].props);M?O=C.endAngle+ja(m)*y*(T!==0?1:0):O=s;var X=O+ja(m)*((T!==0?p:0)+P*b),ee=(O+X)/2,de=(E.innerRadius+E.outerRadius)/2,z=[{name:$,value:T,payload:U,dataKey:c,type:f,graphicalItemId:n.id}],B=$r(E.cx,E.cy,de,ee);return C=jr(jr(jr(jr({},n.presentationProps),{},{percent:P,cornerRadius:typeof o=="string"?parseFloat(o):o,name:$,tooltipPayload:z,midAngle:ee,middleRadius:de,tooltipPosition:B},U),E),{},{value:T,dataKey:c,startAngle:O,endAngle:X,payload:U,paddingAngle:ja(m)*y}),C})}return S}function pee(e){var{showLabels:t,sectors:n,children:r}=e,a=v.useMemo(()=>!t||!n?[]:n.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[n,t]);return v.createElement(LQ,{value:t?a:void 0},r)}function mee(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:a,isAnimationActive:i,animationBegin:o,animationDuration:s,animationEasing:l,activeShape:c,inactiveShape:d,onAnimationStart:f,onAnimationEnd:p}=t,m=W0(t,"recharts-pie-"),h=n.current,[y,x]=v.useState(!1),g=v.useCallback(()=>{typeof p=="function"&&p(),x(!1)},[p]),b=v.useCallback(()=>{typeof f=="function"&&f(),x(!0)},[f]);return v.createElement(pee,{showLabels:!y,sectors:a},v.createElement(U0,{animationId:m,begin:o,duration:s,isActive:i,easing:l,onAnimationStart:b,onAnimationEnd:g,key:m},w=>{var S=[],C=a&&a[0],N=C==null?void 0:C.startAngle;return a==null||a.forEach((M,T)=>{var $=h&&h[T],E=T>0?hc(M,"paddingAngle",0):0;if($){var P=Na($.endAngle-$.startAngle,M.endAngle-M.startAngle,w),O=jr(jr({},M),{},{startAngle:N+E,endAngle:N+P+E});S.push(O),N=O.endAngle}else{var{endAngle:U,startAngle:X}=M,ee=Na(0,U-X,w),de=jr(jr({},M),{},{startAngle:N+E,endAngle:N+ee+E});S.push(de),N=de.endAngle}}),n.current=S,v.createElement(ai,null,v.createElement(dee,{sectors:S,activeShape:c,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:r}))}),v.createElement(uee,{showLabels:!y,sectors:a,props:t}),t.children)}var hee={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:fa.area};function gee(e){var{id:t}=e,n=dy(e,YJ),{hide:r,className:a,rootTabIndex:i}=e,o=v.useMemo(()=>A_(e.children,Vu),[e.children]),s=kt(d=>JQ(d,t,o)),l=v.useRef(null),c=Pn("recharts-pie",a);return r||s==null?(l.current=null,v.createElement(ai,{tabIndex:i,className:c})):v.createElement(wo,{zIndex:e.zIndex},v.createElement(tee,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:s,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),v.createElement(ai,{tabIndex:i,className:c},v.createElement(mee,{props:jr(jr({},n),{},{sectors:s}),previousSectorsRef:l,id:t})))}function Eg(e){var t=Kr(e,hee),{id:n}=t,r=dy(t,GJ),a=Yi(r);return v.createElement(O_,{id:n,type:"pie"},i=>v.createElement(v.Fragment,null,v.createElement(HJ,{type:"pie",id:i,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),v.createElement(eee,gl({},r,{id:i})),v.createElement(gee,gl({},r,{id:i}))))}Eg.displayName="Pie";var yee=["points"];function mA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Sv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mA(Object(n),!0).forEach(function(r){vee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vee(e,t,n){return(t=bee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bee(e){var t=xee(e,"string");return typeof t=="symbol"?t:t+""}function xee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pg(){return Pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pg.apply(null,arguments)}function wee(e,t){if(e==null)return{};var n,r,a=kee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function kee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function See(e){var{option:t,dotProps:n,className:r}=e;if(v.isValidElement(t))return v.cloneElement(t,n);if(typeof t=="function")return t(n);var a=Pn(r,typeof t!="boolean"?t.className:""),i=n??{},{points:o}=i,s=wee(i,yee);return v.createElement(g_,Pg({},s,{className:a}))}function Nee(e,t){return e==null?!1:t?!0:e.length===1}function jee(e){var{points:t,dot:n,className:r,dotClassName:a,dataKey:i,baseProps:o,needClip:s,clipPathId:l,zIndex:c=fa.scatter}=e;if(!Nee(t,n))return null;var d=E_(n),f=rV(n),p=t.map((h,y)=>{var x,g,b=Sv(Sv(Sv({r:3},o),f),{},{index:y,cx:(x=h.x)!==null&&x!==void 0?x:void 0,cy:(g=h.y)!==null&&g!==void 0?g:void 0,dataKey:i,value:h.value,payload:h.payload,points:t});return v.createElement(See,{key:"dot-".concat(y),option:n,dotProps:b,className:a})}),m={};return s&&l!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(l,")")),v.createElement(wo,{zIndex:c},v.createElement(ai,Pg({className:r},m),p))}function hA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function gA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hA(Object(n),!0).forEach(function(r){Cee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cee(e,t,n){return(t=Mee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mee(e){var t=Aee(e,"string");return typeof t=="symbol"?t:t+""}function Aee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Eee={xAxis:{},yAxis:{},zAxis:{}},__=si({name:"cartesianAxis",initialState:Eee,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:lr()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:lr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:lr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:lr()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:lr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:lr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:lr()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:lr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:lr()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,a=e.yAxis[n];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&r===i[1]&&r!==a.width&&Math.abs(r-i[0])<=1)return;var o=[...i,r].slice(-3);e.yAxis[n]=gA(gA({},e.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:Pee,replaceXAxis:Tee,removeXAxis:Dee,addYAxis:Oee,replaceYAxis:Iee,removeYAxis:_ee,addZAxis:lge,replaceZAxis:cge,removeZAxis:uge,updateYAxisWidth:Lee}=__.actions,Fee=__.reducer,Ree=fe([aa],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),$ee=fe([Ree,ks,Ss],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),wS=()=>kt($ee),Bee=()=>kt(kX);function yA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Nv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yA(Object(n),!0).forEach(function(r){zee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zee(e,t,n){return(t=Vee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vee(e){var t=Uee(e,"string");return typeof t=="symbol"?t:t+""}function Uee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wee=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:a,dataKey:i,clipPath:o}=e;if(a===!1||t.x==null||t.y==null)return null;var s={index:n,dataKey:i,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=Nv(Nv(Nv({},s),Ou(a)),L1(a)),c;return v.isValidElement(a)?c=v.cloneElement(a,l):typeof a=="function"?c=a(l):c=v.createElement(g_,l),v.createElement(ai,{className:"recharts-active-dot",clipPath:o},c)};function Hee(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:a,clipPath:i,zIndex:o=fa.activeDot}=e,s=kt(zu),l=Bee();if(t==null||l==null)return null;var c=t.find(d=>l.includes(d.payload));return qr(c)?null:v.createElement(wo,{zIndex:o},v.createElement(Wee,{point:c,childIndex:Number(s),mainColor:n,dataKey:a,activeDot:r,clipPath:i}))}var L_=e=>{var{chartData:t}=e,n=Yn(),r=li();return v.useEffect(()=>r?()=>{}:(n(IM(t)),()=>{n(IM(void 0))}),[t,n,r]),null},vA={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},F_=si({name:"brush",initialState:vA,reducers:{setBrushSettings(e,t){return t.payload==null?vA:t.payload}}}),{setBrushSettings:dge}=F_.actions,qee=F_.reducer;function Kee(e,t,n){return(t=Yee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yee(e){var t=Gee(e,"string");return typeof t=="symbol"?t:t+""}function Gee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class kS{static create(t){return new kS(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?t>=r&&t<=a:t>=a&&t<=r}}Kee(kS,"EPS",1e-4);function Xee(e){return(e%180+180)%180}var Zee=function(e){var{width:t,height:n}=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Xee(r),i=a*Math.PI/180,o=Math.atan(n/t),s=i>o&&i<Math.PI-o?n/Math.sin(i):t/Math.cos(i);return Math.abs(s)},Qee={dots:[],areas:[],lines:[]},R_=si({name:"referenceElements",initialState:Qee,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=uo(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=uo(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=uo(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:fge,removeDot:pge,addArea:mge,removeArea:hge,addLine:gge,removeLine:yge}=R_.actions,Jee=R_.reducer,ete=v.createContext(void 0),tte=e=>{var{children:t}=e,[n]=v.useState("".concat(Pf("recharts"),"-clip")),r=wS();if(r==null)return null;var{x:a,y:i,width:o,height:s}=r;return v.createElement(ete.Provider,{value:n},v.createElement("defs",null,v.createElement("clipPath",{id:n},v.createElement("rect",{x:a,y:i,height:s,width:o}))),t)};function $_(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var a=e[r];a!==void 0&&n.push(a)}return n}function nte(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Zee(r,n)}function rte(e,t,n){var r=n==="width",{x:a,y:i,width:o,height:s}=e;return t===1?{start:r?a:i,end:r?a+o:i+s}:{start:r?a+o:i+s,end:r?a:i}}function Wf(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-a)<=0}function ate(e,t){return $_(e,t+1)}function ite(e,t,n,r,a){for(var i=(r||[]).slice(),{start:o,end:s}=t,l=0,c=1,d=o,f=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:$_(r,c)};var h=l,y,x=()=>(y===void 0&&(y=n(m,h)),y),g=m.coordinate,b=l===0||Wf(e,g,x,d,s);b||(l=0,d=o,c+=1),b&&(d=g+e*(x()/2+a),l+=c)},p;c<=i.length;)if(p=f(),p)return p.v;return[]}function ote(e,t,n,r,a){var i=(r||[]).slice(),o=i.length;if(o===0)return[];for(var{start:s,end:l}=t,c=1;c<=o;c++){for(var d=(o-1)%c,f=s,p=!0,m=function(){var g=r[h],b=h,w,S=()=>(w===void 0&&(w=n(g,b)),w),C=g.coordinate,N=h===d||Wf(e,C,S,f,l);if(!N)return p=!1,1;N&&(f=C+e*(S()/2+a))},h=d;h<o&&!m();h+=c);if(p){for(var y=[],x=d;x<o;x+=c)y.push(r[x]);return y}}return[]}function bA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function wa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bA(Object(n),!0).forEach(function(r){ste(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ste(e,t,n){return(t=lte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lte(e){var t=cte(e,"string");return typeof t=="symbol"?t:t+""}function cte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ute(e,t,n,r,a){for(var i=(r||[]).slice(),o=i.length,{start:s}=t,{end:l}=t,c=function(f){var p=i[f],m,h=()=>(m===void 0&&(m=n(p,f)),m);if(f===o-1){var y=e*(p.coordinate+e*h()/2-l);i[f]=p=wa(wa({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate})}else i[f]=p=wa(wa({},p),{},{tickCoord:p.coordinate});if(p.tickCoord!=null){var x=Wf(e,p.tickCoord,h,s,l);x&&(l=p.tickCoord-e*(h()/2+a),i[f]=wa(wa({},p),{},{isShow:!0}))}},d=o-1;d>=0;d--)c(d);return i}function dte(e,t,n,r,a,i){var o=(r||[]).slice(),s=o.length,{start:l,end:c}=t;if(i){var d=r[s-1],f=n(d,s-1),p=e*(d.coordinate+e*f/2-c);if(o[s-1]=d=wa(wa({},d),{},{tickCoord:p>0?d.coordinate-p*e:d.coordinate}),d.tickCoord!=null){var m=Wf(e,d.tickCoord,()=>f,l,c);m&&(c=d.tickCoord-e*(f/2+a),o[s-1]=wa(wa({},d),{},{isShow:!0}))}}for(var h=i?s-1:s,y=function(g){var b=o[g],w,S=()=>(w===void 0&&(w=n(b,g)),w);if(g===0){var C=e*(b.coordinate-e*S()/2-l);o[g]=b=wa(wa({},b),{},{tickCoord:C<0?b.coordinate-C*e:b.coordinate})}else o[g]=b=wa(wa({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var N=Wf(e,b.tickCoord,S,l,c);N&&(l=b.tickCoord+e*(S()/2+a),o[g]=wa(wa({},b),{},{isShow:!0}))}},x=0;x<h;x++)y(x);return o}function SS(e,t,n){var{tick:r,ticks:a,viewBox:i,minTickGap:o,orientation:s,interval:l,tickFormatter:c,unit:d,angle:f}=e;if(!a||!a.length||!r)return[];if(St(l)||V0.isSsr){var p;return(p=ate(a,St(l)?l:0))!==null&&p!==void 0?p:[]}var m=[],h=s==="top"||s==="bottom"?"width":"height",y=d&&h==="width"?Jd(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},x=(w,S)=>{var C=typeof c=="function"?c(w.value,S):w.value;return h==="width"?nte(Jd(C,{fontSize:t,letterSpacing:n}),y,f):Jd(C,{fontSize:t,letterSpacing:n})[h]},g=a.length>=2?ja(a[1].coordinate-a[0].coordinate):1,b=rte(i,g,h);return l==="equidistantPreserveStart"?ite(g,b,x,a,o):l==="equidistantPreserveEnd"?ote(g,b,x,a,o):(l==="preserveStart"||l==="preserveStartEnd"?m=dte(g,b,x,a,o,l==="preserveStartEnd"):m=ute(g,b,x,a,o),m.filter(w=>w.isShow))}var fte=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var s=n?n.getBoundingClientRect().width:0,l=a+i,c=o+l+s+(n?r:0);return Math.round(c)}return 0},pte=["axisLine","width","height","className","hide","ticks","axisType"];function mte(e,t){if(e==null)return{};var n,r,a=hte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function hte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function kc(){return kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kc.apply(null,arguments)}function xA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Fr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xA(Object(n),!0).forEach(function(r){gte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gte(e,t,n){return(t=yte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yte(e){var t=vte(e,"string");return typeof t=="symbol"?t:t+""}function vte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ss={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:fa.axis};function bte(e){var{x:t,y:n,width:r,height:a,orientation:i,mirror:o,axisLine:s,otherSvgProps:l}=e;if(!s)return null;var c=Fr(Fr(Fr({},l),Yi(s)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!o||i==="bottom"&&o);c=Fr(Fr({},c),{},{x1:t,y1:n+d*a,x2:t+r,y2:n+d*a})}else{var f=+(i==="left"&&!o||i==="right"&&o);c=Fr(Fr({},c),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+a})}return v.createElement("line",kc({},c,{className:Pn("recharts-cartesian-axis-line",hc(s,"className"))}))}function xte(e,t,n,r,a,i,o,s,l){var c,d,f,p,m,h,y=s?-1:1,x=e.tickSize||o,g=St(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":c=d=e.coordinate,p=n+ +!s*a,f=p-y*x,h=f-y*l,m=g;break;case"left":f=p=e.coordinate,d=t+ +!s*r,c=d-y*x,m=c-y*l,h=g;break;case"right":f=p=e.coordinate,d=t+ +s*r,c=d+y*x,m=c+y*l,h=g;break;default:c=d=e.coordinate,p=n+ +s*a,f=p+y*x,h=f+y*l,m=g;break}return{line:{x1:c,y1:f,x2:d,y2:p},tick:{x:m,y:h}}}function wte(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function kte(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Ste(e){var{option:t,tickProps:n,value:r}=e,a,i=Pn(n.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(t))a=v.cloneElement(t,Fr(Fr({},n),{},{className:i}));else if(typeof t=="function")a=t(Fr(Fr({},n),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Pn(o,t==null?void 0:t.className)),a=v.createElement(oy,kc({},n,{className:o}),r)}return a}var Nte=v.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:a,stroke:i,tickFormatter:o,unit:s,padding:l,tickTextProps:c,orientation:d,mirror:f,x:p,y:m,width:h,height:y,tickSize:x,tickMargin:g,fontSize:b,letterSpacing:w,getTicksConfig:S,events:C,axisType:N}=e,M=SS(Fr(Fr({},S),{},{ticks:n}),b,w),T=wte(d,f),$=kte(d,f),E=Yi(S),P=Ou(r),O={};typeof a=="object"&&(O=a);var U=Fr(Fr({},E),{},{fill:"none"},O),X=M.map(z=>Fr({entry:z},xte(z,p,m,h,y,d,x,f,g))),ee=X.map(z=>{var{entry:B,line:ie}=z;return v.createElement(ai,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(B.value,"-").concat(B.coordinate,"-").concat(B.tickCoord)},a&&v.createElement("line",kc({},U,ie,{className:Pn("recharts-cartesian-axis-tick-line",hc(a,"className"))})))}),de=X.map((z,B)=>{var{entry:ie,tick:k}=z,I=Fr(Fr(Fr(Fr({textAnchor:T,verticalAnchor:$},E),{},{stroke:"none",fill:i},P),k),{},{index:B,payload:ie,visibleTicksCount:M.length,tickFormatter:o,padding:l},c);return v.createElement(ai,kc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ie.value,"-").concat(ie.coordinate,"-").concat(ie.tickCoord)},F1(C,ie,B)),r&&v.createElement(Ste,{option:r,tickProps:I,value:"".concat(typeof o=="function"?o(ie.value,B):ie.value).concat(s||"")}))});return v.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(N,"-ticks")},de.length>0&&v.createElement(wo,{zIndex:fa.label},v.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(N,"-tick-labels"),ref:t},de)),ee.length>0&&v.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(N,"-tick-lines")},ee))}),jte=v.forwardRef((e,t)=>{var{axisLine:n,width:r,height:a,className:i,hide:o,ticks:s,axisType:l}=e,c=mte(e,pte),[d,f]=v.useState(""),[p,m]=v.useState(""),h=v.useRef(null);v.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var x;return fte({ticks:h.current,label:(x=e.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var y=v.useCallback(x=>{if(x){var g=x.getElementsByClassName("recharts-cartesian-axis-tick-value");h.current=g;var b=g[0];if(b){var w=window.getComputedStyle(b),S=w.fontSize,C=w.letterSpacing;(S!==d||C!==p)&&(f(S),m(C))}}},[d,p]);return o||r!=null&&r<=0||a!=null&&a<=0?null:v.createElement(wo,{zIndex:e.zIndex},v.createElement(ai,{className:Pn("recharts-cartesian-axis",i)},v.createElement(bte,{x:e.x,y:e.y,width:r,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Yi(e)}),v.createElement(Nte,{ref:y,axisType:l,events:c,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:p,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:s,unit:e.unit,width:e.width,x:e.x,y:e.y}),v.createElement(vQ,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},v.createElement(AQ,{label:e.label,labelRef:e.labelRef}),e.children)))}),NS=v.forwardRef((e,t)=>{var n=Kr(e,ss);return v.createElement(jte,kc({},n,{ref:t}))});NS.displayName="CartesianAxis";var Cte=["x1","y1","x2","y2","key"],Mte=["offset"],Ate=["xAxisId","yAxisId"],Ete=["xAxisId","yAxisId"];function wA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Sa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wA(Object(n),!0).forEach(function(r){Pte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pte(e,t,n){return(t=Tte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tte(e){var t=Dte(e,"string");return typeof t=="symbol"?t:t+""}function Dte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jl(){return Jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jl.apply(null,arguments)}function Tg(e,t){if(e==null)return{};var n,r,a=Ote(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ote(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ite=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:a,width:i,height:o,ry:s}=e;return v.createElement("rect",{x:r,y:a,ry:s,width:i,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function B_(e){var{option:t,lineItemProps:n}=e,r;if(v.isValidElement(t))r=v.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var a,{x1:i,y1:o,x2:s,y2:l,key:c}=n,d=Tg(n,Cte),f=(a=Yi(d))!==null&&a!==void 0?a:{},{offset:p}=f,m=Tg(f,Mte);r=v.createElement("line",Jl({},m,{x1:i,y1:o,x2:s,y2:l,fill:"none",key:c}))}return r}function _te(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,s=Tg(e,Ate),l=a.map((c,d)=>{var f=Sa(Sa({},s),{},{x1:t,y1:c,x2:t+n,y2:c,key:"line-".concat(d),index:d});return v.createElement(B_,{key:"line-".concat(d),option:r,lineItemProps:f})});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Lte(e){var{y:t,height:n,vertical:r=!0,verticalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,s=Tg(e,Ete),l=a.map((c,d)=>{var f=Sa(Sa({},s),{},{x1:c,y1:t,x2:c,y2:t+n,key:"line-".concat(d),index:d});return v.createElement(B_,{option:r,lineItemProps:f,key:"line-".concat(d)})});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Fte(e){var{horizontalFill:t,fillOpacity:n,x:r,y:a,width:i,height:o,horizontalPoints:s,horizontal:l=!0}=e;if(!l||!t||!t.length||s==null)return null;var c=s.map(f=>Math.round(f+a-a)).sort((f,p)=>f-p);a!==c[0]&&c.unshift(0);var d=c.map((f,p)=>{var m=!c[p+1],h=m?a+o-f:c[p+1]-f;if(h<=0)return null;var y=p%t.length;return v.createElement("rect",{key:"react-".concat(p),y:f,x:r,height:h,width:i,stroke:"none",fill:t[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Rte(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:a,y:i,width:o,height:s,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var c=l.map(f=>Math.round(f+a-a)).sort((f,p)=>f-p);a!==c[0]&&c.unshift(0);var d=c.map((f,p)=>{var m=!c[p+1],h=m?a+o-f:c[p+1]-f;if(h<=0)return null;var y=p%n.length;return v.createElement("rect",{key:"react-".concat(p),x:f,y:i,width:h,height:s,stroke:"none",fill:n[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var $te=(e,t)=>{var{xAxis:n,width:r,height:a,offset:i}=e;return d3(SS(Sa(Sa(Sa({},ss),n),{},{ticks:f3(n),viewBox:{x:0,y:0,width:r,height:a}})),i.left,i.left+i.width,t)},Bte=(e,t)=>{var{yAxis:n,width:r,height:a,offset:i}=e;return d3(SS(Sa(Sa(Sa({},ss),n),{},{ticks:f3(n),viewBox:{x:0,y:0,width:r,height:a}})),i.top,i.top+i.height,t)},zte={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:fa.grid};function Hf(e){var t=nk(),n=rk(),r=N3(),a=Sa(Sa({},Kr(e,zte)),{},{x:St(e.x)?e.x:r.left,y:St(e.y)?e.y:r.top,width:St(e.width)?e.width:r.width,height:St(e.height)?e.height:r.height}),{xAxisId:i,yAxisId:o,x:s,y:l,width:c,height:d,syncWithTicks:f,horizontalValues:p,verticalValues:m}=a,h=li(),y=kt($=>SM($,"xAxis",i,h)),x=kt($=>SM($,"yAxis",o,h));if(!Vo(c)||!Vo(d)||!St(s)||!St(l))return null;var g=a.verticalCoordinatesGenerator||$te,b=a.horizontalCoordinatesGenerator||Bte,{horizontalPoints:w,verticalPoints:S}=a;if((!w||!w.length)&&typeof b=="function"){var C=p&&p.length,N=b({yAxis:x?Sa(Sa({},x),{},{ticks:C?p:x.ticks}):void 0,width:t??c,height:n??d,offset:r},C?!0:f);rg(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(w=N)}if((!S||!S.length)&&typeof g=="function"){var M=m&&m.length,T=g({xAxis:y?Sa(Sa({},y),{},{ticks:M?m:y.ticks}):void 0,width:t??c,height:n??d,offset:r},M?!0:f);rg(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(S=T)}return v.createElement(wo,{zIndex:a.zIndex},v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(Ite,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),v.createElement(Fte,Jl({},a,{horizontalPoints:w})),v.createElement(Rte,Jl({},a,{verticalPoints:S})),v.createElement(_te,Jl({},a,{offset:r,horizontalPoints:w,xAxis:y,yAxis:x})),v.createElement(Lte,Jl({},a,{offset:r,verticalPoints:S,xAxis:y,yAxis:x}))))}Hf.displayName="CartesianGrid";var Vte={},z_=si({name:"errorBars",initialState:Vte,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:a}=t.payload;e[n]&&(e[n]=e[n].map(i=>i.dataKey===r.dataKey&&i.direction===r.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:vge,replaceErrorBar:bge,removeErrorBar:xge}=z_.actions,Ute=z_.reducer,Wte=["children"];function Hte(e,t){if(e==null)return{};var n,r,a=qte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function qte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Kte={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Yte=v.createContext(Kte);function Gte(e){var{children:t}=e,n=Hte(e,Wte);return v.createElement(Yte.Provider,{value:n},t)}function V_(e,t){var n,r,a=kt(c=>js(c,e)),i=kt(c=>Cs(c,t)),o=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Jr.allowDataOverflow,s=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:ea.allowDataOverflow,l=o||s;return{needClip:l,needClipX:o,needClipY:s}}function Xte(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,a=wS(),{needClipX:i,needClipY:o,needClip:s}=V_(t,n);if(!s||!a)return null;var{x:l,y:c,width:d,height:f}=a;return v.createElement("clipPath",{id:"clipPath-".concat(r)},v.createElement("rect",{x:i?l:l-d/2,y:o?c:c-f/2,width:i?d:d*2,height:o?f:f*2}))}var U_=(e,t,n,r)=>kI(e,"xAxis",t,r),W_=(e,t,n,r)=>wI(e,"xAxis",t,r),H_=(e,t,n,r)=>kI(e,"yAxis",n,r),q_=(e,t,n,r)=>wI(e,"yAxis",n,r),Zte=fe([Ln,U_,H_,W_,q_],(e,t,n,r,a)=>kl(e,"xAxis")?mx(t,r,!1):mx(n,a,!1)),Qte=(e,t,n,r,a)=>a;function Jte(e){return e.type==="line"}var ene=fe([tI,Qte],(e,t)=>e.filter(Jte).find(n=>n.id===t)),tne=fe([Ln,U_,H_,W_,q_,ene,Zte,Tk],(e,t,n,r,a,i,o,s)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:d}=s;if(!(i==null||t==null||n==null||r==null||a==null||r.length===0||a.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:p}=i,m;if(p!=null&&p.length>0?m=p:m=l==null?void 0:l.slice(c,d+1),m!=null)return Rne({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataKey:f,bandSize:o,displayedData:m})}});function nne(e){var t=Ou(e),n=3,r=2;if(t!=null){var{r:a,strokeWidth:i}=t,o=Number(a),s=Number(i);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(s)||s<0)&&(s=r),{r:o,strokeWidth:s}}return{r:n,strokeWidth:r}}/**
* @license React
* use-sync-external-store-with-selector.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var _p=v;_p.useSyncExternalStore;_p.useRef;_p.useEffect;_p.useMemo;_p.useDebugValue;function rne(e){e()}function ane(){let e=null,t=null;return{clear(){e=null,t=null},notify(){rne(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!r||e===null||(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var kA={notify(){},get:()=>[]};function ine(e,t){let n,r=kA,a=0,i=!1;function o(y){d();const x=r.subscribe(y);let g=!1;return()=>{g||(g=!0,x(),f())}}function s(){r.notify()}function l(){h.onStateChange&&h.onStateChange()}function c(){return i}function d(){a++,n||(n=e.subscribe(l),r=ane())}function f(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=kA)}function p(){i||(i=!0,d())}function m(){i&&(i=!1,f())}const h={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:c,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>r};return h}var one=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sne=one(),lne=()=>typeof navigator<"u"&&navigator.product==="ReactNative",cne=lne(),une=()=>sne||cne?v.useLayoutEffect:v.useEffect,dne=une();function SA(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function fne(e,t){if(SA(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(t,n[a])||!SA(e[n[a]],t[n[a]]))return!1;return!0}var NA=Symbol.for("react-redux-context"),jA=typeof globalThis<"u"?globalThis:{};function pne(){if(!v.createContext)return{};const e=jA[NA]??(jA[NA]=new Map);let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var mne=pne();function hne(e){const{children:t,context:n,serverState:r,store:a}=e,i=v.useMemo(()=>{const l=ine(a);return{store:a,subscription:l,getServerState:r?()=>r:void 0}},[a,r]),o=v.useMemo(()=>a.getState(),[a]);dne(()=>{const{subscription:l}=i;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==a.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[i,o]);const s=n||mne;return v.createElement(s.Provider,{value:i},t)}var gne=hne,yne=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function vne(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function jS(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(yne.has(r)){if(e[r]==null&&t[r]==null)continue;if(!fne(e[r],t[r]))return!1}else if(!vne(e[r],t[r]))return!1;return!0}var bne=["id"],xne=["type","layout","connectNulls","needClip","shape"],wne=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function qf(){return qf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qf.apply(null,arguments)}function CA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Oo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CA(Object(n),!0).forEach(function(r){kne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kne(e,t,n){return(t=Sne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sne(e){var t=Nne(e,"string");return typeof t=="symbol"?t:t+""}function Nne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CS(e,t){if(e==null)return{};var n,r,a=jne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function jne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Cne=e=>{var{dataKey:t,name:n,stroke:r,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:r,value:D0(n,t),payload:e}]},Mne=v.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:a,fill:i,name:o,hide:s,unit:l,tooltipType:c,id:d}=e,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:D0(o,t),hide:s,type:c,color:r,unit:l,graphicalItemId:d}};return v.createElement(D_,{tooltipEntrySettings:f})}),K_=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Ane(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],a=0;a<t;++a)r=[...r,...n];return r}var Ene=(e,t,n)=>{var r=n.reduce((f,p)=>f+p);if(!r)return K_(t,e);for(var a=Math.floor(e/r),i=e%r,o=t-e,s=[],l=0,c=0;l<n.length;c+=n[l],++l)if(c+n[l]>i){s=[...n.slice(0,l),i-c];break}var d=s.length%2===0?[0,o]:[o];return[...Ane(n,a),...s,...d].map(f=>"".concat(f,"px")).join(", ")};function Pne(e){var{clipPathId:t,points:n,props:r}=e,{dot:a,dataKey:i,needClip:o}=r,{id:s}=r,l=CS(r,bne),c=Yi(l);return v.createElement(jee,{points:n,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:c,needClip:o,clipPathId:t})}function Tne(e){var{showLabels:t,children:n,points:r}=e,a=v.useMemo(()=>r==null?void 0:r.map(i=>{var o,s,l={x:(o=i.x)!==null&&o!==void 0?o:0,y:(s=i.y)!==null&&s!==void 0?s:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Oo(Oo({},l),{},{value:i.value,payload:i.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return v.createElement(_Q,{value:t?a:void 0},n)}function MA(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:a,props:i}=e,{type:o,layout:s,connectNulls:l,needClip:c,shape:d}=i,f=CS(i,xne),p=Oo(Oo({},Ba(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:r,type:o,layout:s,connectNulls:l,strokeDasharray:a??i.strokeDasharray});return v.createElement(v.Fragment,null,(r==null?void 0:r.length)>1&&v.createElement(T_,qf({shapeType:"curve",option:d},p,{pathRef:n})),v.createElement(Pne,{points:r,clipPathId:t,props:i}))}function Dne(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function One(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:s,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:f,animateNewValues:p,width:m,height:h,onAnimationEnd:y,onAnimationStart:x}=n,g=a.current,b=W0(o,"recharts-line-"),w=v.useRef(b),[S,C]=v.useState(!1),N=!S,M=v.useCallback(()=>{typeof y=="function"&&y(),C(!1)},[y]),T=v.useCallback(()=>{typeof x=="function"&&x(),C(!0)},[x]),$=Dne(r.current),E=v.useRef(0);w.current!==b&&(E.current=i.current,w.current=b);var P=E.current;return v.createElement(Tne,{points:o,showLabels:N},n.children,v.createElement(U0,{animationId:b,begin:c,duration:d,isActive:l,easing:f,onAnimationEnd:M,onAnimationStart:T,key:b},O=>{var U=Na(P,$+P,O),X=Math.min(U,$),ee;if(l)if(s){var de="".concat(s).split(/[,\s]+/gim).map(ie=>parseFloat(ie));ee=Ene(X,$,de)}else ee=K_($,X);else ee=s==null?void 0:String(s);if(O>0&&$>0&&(a.current=o,i.current=Math.max(i.current,X)),g){var z=g.length/o.length,B=O===1?o:o.map((ie,k)=>{var I=Math.floor(k*z);if(g[I]){var A=g[I];return Oo(Oo({},ie),{},{x:Na(A.x,ie.x,O),y:Na(A.y,ie.y,O)})}return p?Oo(Oo({},ie),{},{x:Na(m*2,ie.x,O),y:Na(h/2,ie.y,O)}):Oo(Oo({},ie),{},{x:ie.x,y:ie.y})});return a.current=B,v.createElement(MA,{props:n,points:B,clipPathId:t,pathRef:r,strokeDasharray:ee})}return v.createElement(MA,{props:n,points:o,clipPathId:t,pathRef:r,strokeDasharray:ee})}),v.createElement(h_,{label:n.label}))}function Ine(e){var{clipPathId:t,props:n}=e,r=v.useRef(null),a=v.useRef(0),i=v.useRef(null);return v.createElement(One,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:a,pathRef:i})}var _ne=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:tr(e.payload,t)}};class Lne extends v.Component{render(){var{hide:t,dot:n,points:r,className:a,xAxisId:i,yAxisId:o,top:s,left:l,width:c,height:d,id:f,needClip:p,zIndex:m}=this.props;if(t)return null;var h=Pn("recharts-line",a),y=f,{r:x,strokeWidth:g}=nne(n),b=E_(n),w=x*2+g,S=p?"url(#clipPath-".concat(b?"":"dots-").concat(y,")"):void 0;return v.createElement(wo,{zIndex:m},v.createElement(ai,{className:h},p&&v.createElement("defs",null,v.createElement(Xte,{clipPathId:y,xAxisId:i,yAxisId:o}),!b&&v.createElement("clipPath",{id:"clipPath-dots-".concat(y)},v.createElement("rect",{x:l-w/2,y:s-w/2,width:c+w,height:d+w}))),v.createElement(Gte,{xAxisId:i,yAxisId:o,data:r,dataPointFormatter:_ne,errorBarOffset:0},v.createElement(Ine,{props:this.props,clipPathId:y}))),v.createElement(Hee,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:S}))}}var Y_={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:fa.line,type:"linear"};function Fne(e){var t=Kr(e,Y_),{activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:s,dot:l,hide:c,isAnimationActive:d,label:f,legendType:p,xAxisId:m,yAxisId:h,id:y}=t,x=CS(t,wne),{needClip:g}=V_(m,h),b=wS(),w=dp(),S=li(),C=kt(E=>tne(E,m,h,S,y));if(w!=="horizontal"&&w!=="vertical"||C==null||b==null)return null;var{height:N,width:M,x:T,y:$}=b;return v.createElement(Lne,qf({},x,{id:y,connectNulls:s,dot:l,activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:i,animationEasing:o,isAnimationActive:d,hide:c,label:f,legendType:p,xAxisId:m,yAxisId:h,points:C,layout:w,height:N,width:M,left:T,top:$,needClip:g}))}function Rne(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:i,dataKey:o,bandSize:s,displayedData:l}=e;return l.map((c,d)=>{var f=tr(c,o);if(t==="horizontal"){var p=_j({axis:n,ticks:a,bandSize:s,entry:c,index:d}),m=qr(f)?null:r.scale(f);return{x:p,y:m,value:f,payload:c}}var h=qr(f)?null:n.scale(f),y=_j({axis:r,ticks:i,bandSize:s,entry:c,index:d});return h==null||y==null?null:{x:h,y,value:f,payload:c}}).filter(Boolean)}function $ne(e){var t=Kr(e,Y_),n=li();return v.createElement(O_,{id:t.id,type:"line"},r=>v.createElement(v.Fragment,null,v.createElement(PJ,{legendPayload:Cne(t)}),v.createElement(Mne,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),v.createElement(WJ,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),v.createElement(Fne,qf({},t,{id:r}))))}var Jo=v.memo($ne,jS);Jo.displayName="Line";var Bne=["domain","range"],zne=["domain","range"];function AA(e,t){if(e==null)return{};var n,r,a=Vne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Vne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function EA(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function G_(e,t){if(e===t)return!0;var{domain:n,range:r}=e,a=AA(e,Bne),{domain:i,range:o}=t,s=AA(t,zne);return!EA(n,i)||!EA(r,o)?!1:jS(a,s)}var Une=["dangerouslySetInnerHTML","ticks","scale"],Wne=["id","scale"];function Hx(){return Hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hx.apply(null,arguments)}function PA(e,t){if(e==null)return{};var n,r,a=Hne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Hne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function qne(e){var t=Yn(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(Pee(e)):n.current!==e&&t(Tee({prev:n.current,next:e})),n.current=e},[e,t]),v.useLayoutEffect(()=>()=>{n.current&&(t(Dee(n.current)),n.current=null)},[t]),null}var Kne=e=>{var{xAxisId:t,className:n}=e,r=kt(g3),a=li(),i="xAxis",o=kt(g=>xI(g,i,t,a)),s=kt(g=>uG(g,t)),l=kt(g=>gG(g,t)),c=kt(g=>Q4(g,t));if(s==null||l==null||c==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:p}=e,m=PA(e,Une),{id:h,scale:y}=c,x=PA(c,Wne);return v.createElement(NS,Hx({},m,x,{x:l.x,y:l.y,width:s.width,height:s.height,className:Pn("recharts-".concat(i," ").concat(i),n),viewBox:r,ticks:o,axisType:i}))},Yne={allowDataOverflow:Jr.allowDataOverflow,allowDecimals:Jr.allowDecimals,allowDuplicatedCategory:Jr.allowDuplicatedCategory,angle:Jr.angle,axisLine:ss.axisLine,height:Jr.height,hide:!1,includeHidden:Jr.includeHidden,interval:Jr.interval,minTickGap:Jr.minTickGap,mirror:Jr.mirror,orientation:Jr.orientation,padding:Jr.padding,reversed:Jr.reversed,scale:Jr.scale,tick:Jr.tick,tickCount:Jr.tickCount,tickLine:ss.tickLine,tickSize:ss.tickSize,type:Jr.type,xAxisId:0},Gne=e=>{var t=Kr(e,Yne);return v.createElement(v.Fragment,null,v.createElement(qne,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),v.createElement(Kne,t))},Kf=v.memo(Gne,G_);Kf.displayName="XAxis";var Xne=["dangerouslySetInnerHTML","ticks","scale"],Zne=["id","scale"];function qx(){return qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qx.apply(null,arguments)}function TA(e,t){if(e==null)return{};var n,r,a=Qne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Qne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Jne(e){var t=Yn(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(Oee(e)):n.current!==e&&t(Iee({prev:n.current,next:e})),n.current=e},[e,t]),v.useLayoutEffect(()=>()=>{n.current&&(t(_ee(n.current)),n.current=null)},[t]),null}var ere=e=>{var{yAxisId:t,className:n,width:r,label:a}=e,i=v.useRef(null),o=v.useRef(null),s=kt(g3),l=li(),c=Yn(),d="yAxis",f=kt(N=>bG(N,t)),p=kt(N=>vG(N,t)),m=kt(N=>xI(N,d,t,l)),h=kt(N=>J4(N,t));if(v.useLayoutEffect(()=>{if(!(r!=="auto"||!f||yS(a)||v.isValidElement(a)||h==null)){var N=i.current;if(N){var M=N.getCalculatedWidth();Math.round(f.width)!==Math.round(M)&&c(Lee({id:t,width:M}))}}},[m,f,c,a,t,r,h]),f==null||p==null||h==null)return null;var{dangerouslySetInnerHTML:y,ticks:x,scale:g}=e,b=TA(e,Xne),{id:w,scale:S}=h,C=TA(h,Zne);return v.createElement(NS,qx({},b,C,{ref:i,labelRef:o,x:p.x,y:p.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:Pn("recharts-".concat(d," ").concat(d),n),viewBox:s,ticks:m,axisType:d}))},tre={allowDataOverflow:ea.allowDataOverflow,allowDecimals:ea.allowDecimals,allowDuplicatedCategory:ea.allowDuplicatedCategory,angle:ea.angle,axisLine:ss.axisLine,hide:!1,includeHidden:ea.includeHidden,interval:ea.interval,minTickGap:ea.minTickGap,mirror:ea.mirror,orientation:ea.orientation,padding:ea.padding,reversed:ea.reversed,scale:ea.scale,tick:ea.tick,tickCount:ea.tickCount,tickLine:ss.tickLine,tickSize:ss.tickSize,type:ea.type,width:ea.width,yAxisId:0},nre=e=>{var t=Kr(e,tre);return v.createElement(v.Fragment,null,v.createElement(Jne,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),v.createElement(ere,t))},Yf=v.memo(nre,G_);Yf.displayName="YAxis";var rre=(e,t)=>t,MS=fe([rre,Ln,G4,Gr,RI,Ms,_X,aa],VX),AS=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},X_=Gi("mouseClick"),Z_=cp();Z_.startListening({actionCreator:X_,effect:(e,t)=>{var n=e.payload,r=MS(t.getState(),AS(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(OG({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Kx=Gi("mouseMove"),Q_=cp(),Tm=null;Q_.startListening({actionCreator:Kx,effect:(e,t)=>{var n=e.payload;Tm!==null&&cancelAnimationFrame(Tm);var r=AS(n);Tm=requestAnimationFrame(()=>{var a=t.getState(),i=sS(a,a.tooltip.settings.shared);if(i==="axis"){var o=MS(a,r);(o==null?void 0:o.activeIndex)!=null?t.dispatch(PI({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(EI())}Tm=null})}});function are(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var DA={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},J_=si({name:"rootProps",initialState:DA,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:DA.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),ire=J_.reducer,{updateOptions:ore}=J_.actions,eL=si({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:sre}=eL.actions,lre=eL.reducer,tL=Gi("keyDown"),nL=Gi("focus"),ES=cp();ES.startListening({actionCreator:tL,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=lS(a,ad(n),wp(n),Np(n)),s=o==null?-1:Number(o);if(!(!Number.isFinite(s)||s<0)){var l=Ms(n);if(i==="Enter"){var c=jg(n,"axis","hover",String(a.index));t.dispatch($x({active:!a.active,activeIndex:a.index,activeCoordinate:c}));return}var d=SG(n),f=d==="left-to-right"?1:-1,p=i==="ArrowRight"?1:-1,m=s+p*f;if(!(l==null||m>=l.length||m<0)){var h=jg(n,"axis","hover",String(m));t.dispatch($x({active:!0,activeIndex:m.toString(),activeCoordinate:h}))}}}}}});ES.startListening({actionCreator:nL,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var i="0",o=jg(n,"axis","hover",String(i));t.dispatch($x({active:!0,activeIndex:i,activeCoordinate:o}))}}}});var Li=Gi("externalEvent"),rL=cp(),jv=new Map;rL.startListening({actionCreator:Li,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var a=r.type,i=jv.get(a);i!==void 0&&cancelAnimationFrame(i);var o=requestAnimationFrame(()=>{try{var s=t.getState(),l={activeCoordinate:bX(s),activeDataKey:VI(s),activeIndex:zu(s),activeLabel:zI(s),activeTooltipIndex:zu(s),isTooltipActive:xX(s)};n(l,r)}finally{jv.delete(a)}});jv.set(a,o)}}});var cre=fe([nd],e=>e.tooltipItemPayloads),ure=fe([cre,Sp,(e,t)=>t,(e,t,n)=>n],(e,t,n,r)=>{var a=e.find(s=>s.settings.graphicalItemId===r);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,n);return o}}}),aL=Gi("touchMove"),iL=cp();iL.startListening({actionCreator:aL,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),a=sS(r,r.tooltip.settings.shared);if(a==="axis"){var i=n.touches[0];if(i==null)return;var o=MS(r,AS({clientX:i.clientX,clientY:i.clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(PI({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var s,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(m3),f=(s=c.getAttribute(h3))!==null&&s!==void 0?s:void 0,p=rd(r).find(y=>y.id===f);if(d==null||p==null||f==null)return;var{dataKey:m}=p,h=ure(r,d,f);t.dispatch(AI({activeDataKey:m,activeIndex:d,activeCoordinate:h,activeGraphicalItemId:f}))}}}});var dre=LO({brush:qee,cartesianAxis:Fee,chartData:vZ,errorBars:Ute,graphicalItems:VJ,layout:e9,legend:tW,options:pZ,polarAxis:qQ,polarOptions:lre,referenceElements:Jee,rootProps:ire,tooltip:IG,zIndex:nZ}),fre=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return j7({reducer:dre,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([Z_.middleware,Q_.middleware,ES.middleware,rL.middleware,iL.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(ZO({type:"raf"}))},devTools:{serialize:{replacer:are},name:"recharts-".concat(t)}})};function oL(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,a=li(),i=v.useRef(null);if(a)return n;i.current==null&&(i.current=fre(t,r));var o=q1;return v.createElement(gne,{context:o,store:i.current},n)}function pre(e){var{layout:t,margin:n}=e,r=Yn(),a=li();return v.useEffect(()=>{a||(r(Z7(t)),r(X7(n)))},[r,a,t,n]),null}var sL=v.memo(pre,jS);function lL(e){var t=Yn();return v.useEffect(()=>{t(ore(e))},[t,e]),null}function OA(e){var{zIndex:t,isPanorama:n}=e,r=v.useRef(null),a=Yn();return v.useLayoutEffect(()=>(r.current&&a(eZ({zIndex:t,element:r.current,isPanorama:n})),()=>{a(tZ({zIndex:t,isPanorama:n}))}),[a,t,n]),v.createElement("g",{tabIndex:-1,ref:r})}function IA(e){var{children:t,isPanorama:n}=e,r=kt(WX);if(!r||r.length===0)return t;var a=r.filter(o=>o<0),i=r.filter(o=>o>0);return v.createElement(v.Fragment,null,a.map(o=>v.createElement(OA,{key:o,zIndex:o,isPanorama:n})),t,i.map(o=>v.createElement(OA,{key:o,zIndex:o,isPanorama:n})))}var mre=["children"];function hre(e,t){if(e==null)return{};var n,r,a=gre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function gre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Dg(){return Dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dg.apply(null,arguments)}var yre={width:"100%",height:"100%",display:"block"},vre=v.forwardRef((e,t)=>{var n=nk(),r=rk(),a=L3();if(!Vo(n)||!Vo(r))return null;var{children:i,otherAttributes:o,title:s,desc:l}=e,c,d;return o!=null&&(typeof o.tabIndex=="number"?c=o.tabIndex:c=a?0:void 0,typeof o.role=="string"?d=o.role:d=a?"application":void 0),v.createElement(P1,Dg({},o,{title:s,desc:l,role:d,tabIndex:c,width:n,height:r,style:yre,ref:t}),i)}),bre=e=>{var{children:t}=e,n=kt(L0);if(!n)return null;var{width:r,height:a,y:i,x:o}=n;return v.createElement(P1,{width:r,height:a,x:o,y:i},t)},_A=v.forwardRef((e,t)=>{var{children:n}=e,r=hre(e,mre),a=li();return a?v.createElement(bre,null,v.createElement(IA,{isPanorama:!0},n)):v.createElement(vre,Dg({ref:t},r),v.createElement(IA,{isPanorama:!1},n))});function xre(){var e=Yn(),[t,n]=v.useState(null),r=kt(h9);return v.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;zr(i)&&i!==r&&e(J7(i))}},[t,e,r]),n}function LA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function wre(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LA(Object(n),!0).forEach(function(r){kre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kre(e,t,n){return(t=Sre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sre(e){var t=Nre(e,"string");return typeof t=="symbol"?t:t+""}function Nre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sc(){return Sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sc.apply(null,arguments)}var jre=()=>(MZ(),null);function Og(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Cre=v.forwardRef((e,t)=>{var n,r,a=v.useRef(null),[i,o]=v.useState({containerWidth:Og((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Og((r=e.style)===null||r===void 0?void 0:r.height)}),s=v.useCallback((c,d)=>{o(f=>{var p=Math.round(c),m=Math.round(d);return f.containerWidth===p&&f.containerHeight===m?f:{containerWidth:p,containerHeight:m}})},[]),l=v.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=c.getBoundingClientRect();s(d,f);var p=h=>{var{width:y,height:x}=h[0].contentRect;s(y,x)},m=new ResizeObserver(p);m.observe(c),a.current=m}},[t,s]);return v.useEffect(()=>()=>{var c=a.current;c!=null&&c.disconnect()},[s]),v.createElement(v.Fragment,null,v.createElement(R0,{width:i.containerWidth,height:i.containerHeight}),v.createElement("div",Sc({ref:l},e)))}),Mre=v.forwardRef((e,t)=>{var{width:n,height:r}=e,[a,i]=v.useState({containerWidth:Og(n),containerHeight:Og(r)}),o=v.useCallback((l,c)=>{i(d=>{var f=Math.round(l),p=Math.round(c);return d.containerWidth===f&&d.containerHeight===p?d:{containerWidth:f,containerHeight:p}})},[]),s=v.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:c,height:d}=l.getBoundingClientRect();o(c,d)}},[t,o]);return v.createElement(v.Fragment,null,v.createElement(R0,{width:a.containerWidth,height:a.containerHeight}),v.createElement("div",Sc({ref:s},e)))}),Are=v.forwardRef((e,t)=>{var{width:n,height:r}=e;return v.createElement(v.Fragment,null,v.createElement(R0,{width:n,height:r}),v.createElement("div",Sc({ref:t},e)))}),Ere=v.forwardRef((e,t)=>{var{width:n,height:r}=e;return ms(n)||ms(r)?v.createElement(Mre,Sc({},e,{ref:t})):v.createElement(Are,Sc({},e,{ref:t}))});function Pre(e){return e===!0?Cre:Ere}var Tre=v.forwardRef((e,t)=>{var{children:n,className:r,height:a,onClick:i,onContextMenu:o,onDoubleClick:s,onMouseDown:l,onMouseEnter:c,onMouseLeave:d,onMouseMove:f,onMouseUp:p,onTouchEnd:m,onTouchMove:h,onTouchStart:y,style:x,width:g,responsive:b,dispatchTouchEvents:w=!0}=e,S=v.useRef(null),C=Yn(),[N,M]=v.useState(null),[T,$]=v.useState(null),E=xre(),P=tk(),O=(P==null?void 0:P.width)>0?P.width:g,U=(P==null?void 0:P.height)>0?P.height:a,X=v.useCallback(_=>{E(_),typeof t=="function"&&t(_),M(_),$(_),_!=null&&(S.current=_)},[E,t,M,$]),ee=v.useCallback(_=>{C(X_(_)),C(Li({handler:i,reactEvent:_}))},[C,i]),de=v.useCallback(_=>{C(Kx(_)),C(Li({handler:c,reactEvent:_}))},[C,c]),z=v.useCallback(_=>{C(EI()),C(Li({handler:d,reactEvent:_}))},[C,d]),B=v.useCallback(_=>{C(Kx(_)),C(Li({handler:f,reactEvent:_}))},[C,f]),ie=v.useCallback(()=>{C(nL())},[C]),k=v.useCallback(_=>{C(tL(_.key))},[C]),I=v.useCallback(_=>{C(Li({handler:o,reactEvent:_}))},[C,o]),A=v.useCallback(_=>{C(Li({handler:s,reactEvent:_}))},[C,s]),j=v.useCallback(_=>{C(Li({handler:l,reactEvent:_}))},[C,l]),L=v.useCallback(_=>{C(Li({handler:p,reactEvent:_}))},[C,p]),q=v.useCallback(_=>{C(Li({handler:y,reactEvent:_}))},[C,y]),Q=v.useCallback(_=>{w&&C(aL(_)),C(Li({handler:h,reactEvent:_}))},[C,w,h]),G=v.useCallback(_=>{C(Li({handler:m,reactEvent:_}))},[C,m]),W=Pre(b);return v.createElement(GI.Provider,{value:N},v.createElement(_D.Provider,{value:T},v.createElement(W,{width:O??(x==null?void 0:x.width),height:U??(x==null?void 0:x.height),className:Pn("recharts-wrapper",r),style:wre({position:"relative",cursor:"default",width:O,height:U},x),onClick:ee,onContextMenu:I,onDoubleClick:A,onFocus:ie,onKeyDown:k,onMouseDown:j,onMouseEnter:de,onMouseLeave:z,onMouseMove:B,onMouseUp:L,onTouchEnd:G,onTouchMove:Q,onTouchStart:q,ref:X},v.createElement(jre,null),n)))}),Dre=["width","height","responsive","children","className","style","compact","title","desc"];function Ore(e,t){if(e==null)return{};var n,r,a=Ire(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ire(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var cL=v.forwardRef((e,t)=>{var{width:n,height:r,responsive:a,children:i,className:o,style:s,compact:l,title:c,desc:d}=e,f=Ore(e,Dre),p=Yi(f);return l?v.createElement(v.Fragment,null,v.createElement(R0,{width:n,height:r}),v.createElement(_A,{otherAttributes:p,title:c,desc:d},i)):v.createElement(Tre,{className:o,style:s,width:n,height:r,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},v.createElement(_A,{otherAttributes:p,title:c,desc:d,ref:t},v.createElement(tte,null,i)))});function Yx(){return Yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yx.apply(null,arguments)}var _re={top:5,right:5,bottom:5,left:5},Lre={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:_re,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Fre=v.forwardRef(function(e,t){var n,r=Kr(e.categoricalChartProps,Lre),{chartName:a,defaultTooltipEventType:i,validateTooltipEventTypes:o,tooltipPayloadSearcher:s,categoricalChartProps:l}=e,c={chartName:a,defaultTooltipEventType:i,validateTooltipEventTypes:o,tooltipPayloadSearcher:s,eventEmitter:void 0};return v.createElement(oL,{preloadedState:{options:c},reduxStoreName:(n=l.id)!==null&&n!==void 0?n:a},v.createElement(L_,{chartData:l.data}),v.createElement(sL,{layout:r.layout,margin:r.margin}),v.createElement(lL,{baseValue:r.baseValue,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),v.createElement(cL,Yx({},r,{ref:t})))}),Rre=["axis"],Ig=v.forwardRef((e,t)=>v.createElement(Fre,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Rre,tooltipPayloadSearcher:ZI,categoricalChartProps:e,ref:t}));function $re(e){var t=Yn();return v.useEffect(()=>{t(sre(e))},[t,e]),null}var Bre=["layout"];function Gx(){return Gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gx.apply(null,arguments)}function zre(e,t){if(e==null)return{};var n,r,a=Vre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Vre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ure={top:5,right:5,bottom:5,left:5},uL={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Ure,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Wre=v.forwardRef(function(e,t){var n,r=Kr(e.categoricalChartProps,uL),{layout:a}=r,i=zre(r,Bre),{chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:c}=e,d={chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return v.createElement(oL,{preloadedState:{options:d},reduxStoreName:(n=r.id)!==null&&n!==void 0?n:o},v.createElement(L_,{chartData:r.data}),v.createElement(sL,{layout:a,margin:r.margin}),v.createElement(lL,{baseValue:void 0,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),v.createElement($re,{cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius}),v.createElement(cL,Gx({},i,{ref:t})))});function FA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function RA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FA(Object(n),!0).forEach(function(r){Hre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hre(e,t,n){return(t=qre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qre(e){var t=Kre(e,"string");return typeof t=="symbol"?t:t+""}function Kre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yre=["item"],Gre=RA(RA({},uL),{},{layout:"centric",startAngle:0,endAngle:360}),Xx=v.forwardRef((e,t)=>{var n=Kr(e,Gre);return v.createElement(Wre,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Yre,tooltipPayloadSearcher:ZI,categoricalChartProps:n,ref:t})});const En=({value:e,options:t,onChange:n,className:r="",activeClassName:a,inactiveClassName:i})=>u.jsx("div",{className:`pill-toggle-group flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1 text-[10px] uppercase tracking-[0.25em] text-gray-400 ${r}`,children:t.map(o=>u.jsx("button",{type:"button",onClick:()=>n(o.value),className:`pill-toggle-option px-2.5 py-1 rounded-full transition-colors ${e===o.value?`pill-toggle-option--active ${a}`:i}`,children:o.label},o.value))}),$A="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",ef=new Map,Su=new Map,Xre=async e=>{var t;if(!((t=window==null?void 0:window.electronAPI)!=null&&t.fetchImageAsDataUrl))return;const n=Array.from(new Set(e)).filter(r=>/^https?:\/\//i.test(r));await Promise.all(n.map(async r=>{if(ef.has(r)||Su.has(r))return;const a=(async()=>{const i=await window.electronAPI.fetchImageAsDataUrl(r),o=i!=null&&i.success&&i.dataUrl?i.dataUrl:null;return o&&ef.set(r,o),o})();Su.set(r,a);try{await a}finally{Su.delete(r)}}))},Zre=e=>{const[t,n]=v.useState(()=>{var r;return e?!((r=window==null?void 0:window.electronAPI)!=null&&r.fetchImageAsDataUrl)||!/^https?:\/\//i.test(e)?e:ef.get(e)||$A:null});return v.useEffect(()=>{var r;if(!e){n(null);return}if(!((r=window==null?void 0:window.electronAPI)!=null&&r.fetchImageAsDataUrl)){n(e);return}if(!/^https?:\/\//i.test(e)){n(e);return}const a=ef.get(e);if(a){n(a);return}let i=!0;const o=Su.get(e)||(async()=>{const s=await window.electronAPI.fetchImageAsDataUrl(e),l=s!=null&&s.success&&s.dataUrl?s.dataUrl:null;return l&&ef.set(e,l),l})();return Su.set(e,o),o.then(s=>{if(i){if(s){n(s);return}n($A)}}).finally(()=>{Su.delete(e)}),()=>{i=!1}},[e]),t},Qre=(e,t,n,r)=>{const[a,i]=v.useState("bottom"),[o,s]=v.useState(0);return v.useEffect(()=>{if(!e)return;const l=requestAnimationFrame(()=>{const c=n.current,d=r.current;if(!c||!d)return;const f=c.getBoundingClientRect(),p=d.getBoundingClientRect(),m=(M=>{let T=(M==null?void 0:M.parentElement)||null;for(;T;){const $=window.getComputedStyle(T),E=`${$.overflow}${$.overflowY}${$.overflowX}`;if(/(auto|scroll|hidden)/.test(E))return T;T=T.parentElement}return null})(c),h=m?m.getBoundingClientRect():{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth},y=h.bottom-f.bottom,x=f.top-h.top,g=y<p.height+8&&x>y?"top":"bottom";i(g);const b=6,w=f.left+f.width/2,S=h.left+b+p.width/2,C=h.right-b-p.width/2,N=Math.min(Math.max(w,S),C);s(N-w)});return()=>cancelAnimationFrame(l)},[e,...t]),{placement:a,shiftX:o}},Jre=(e,t=5)=>{const n=Object.entries(e).filter(([,a])=>a>0).sort((a,i)=>i[1]-a[1]||a[0].localeCompare(i[0])).map(([a,i])=>({profession:a,count:i})),r=[];for(let a=0;a<n.length;a+=t)r.push(n.slice(a,a+t));return r},dL=(e,t,n,r,a=8)=>{const[i,o]=v.useState({position:"fixed",top:-9999,left:-9999,transform:"translateX(-50%)"});return v.useEffect(()=>{if(!e)return;const s=()=>{const c=n.current,d=r.current;if(!c||!d)return;const f=c.getBoundingClientRect(),p=d.getBoundingClientRect(),m=window.innerHeight-f.bottom,h=f.top,y=m<p.height+a&&h>m?Math.max(a,f.top-p.height-a):Math.min(window.innerHeight-p.height-a,f.bottom+a),x=f.left+f.width/2,g=a+p.width/2,b=window.innerWidth-a-p.width/2,w=Math.min(Math.max(x,g),b);o({position:"fixed",top:y,left:w,transform:"translateX(-50%)"})},l=requestAnimationFrame(s);return window.addEventListener("scroll",s,!0),window.addEventListener("resize",s),()=>{cancelAnimationFrame(l),window.removeEventListener("scroll",s,!0),window.removeEventListener("resize",s)}},[e,a,...t]),i},eae=({profession:e,professionList:t,className:n="w-4 h-4 object-contain"})=>{const r=(t||[]).filter(Boolean),a=e==="Multi"&&r.length>0?r[0]:e,i=Gl(a||"Unknown"),o=r.length>1,[s,l]=v.useState(!1),c=v.useRef(null),d=v.useRef(null),f=`${n} object-contain`,{placement:p,shiftX:m}=Qre(s,[r.length,f],c,d),h=Array.from(new Set(r.map(b=>ac(b||"Unknown")))).slice(0,4),y=h.length>1?`conic-gradient(${h.map((b,w)=>`${b} ${w*360/h.length}deg ${(w+1)*360/h.length}deg`).join(", ")})`:h[0]||"#9ca3af";if(!i)return null;const x=p==="top"?"bottom-full mb-2":"top-full mt-2",g={transform:`translateX(calc(-50% + ${m}px))`};return u.jsxs("span",{ref:c,className:`relative inline-flex shrink-0 ${o?"group":""}`,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[u.jsx("img",{src:i,alt:a||"Unknown",className:`${f} shrink-0`}),o&&u.jsxs(u.Fragment,{children:[u.jsx("span",{"aria-hidden":"true",className:"absolute -top-0.5 -right-0.5 h-2.5 w-2.5 rounded-full ring-1 ring-[#10141b] shadow-[0_0_0_1px_rgba(255,255,255,0.08)]",style:{background:y},children:u.jsx("span",{className:"absolute inset-[0.7px] rounded-full bg-[#0f141c]/55"})}),u.jsxs("div",{ref:d,style:g,className:`profession-multi-tooltip absolute left-1/2 z-50 w-max rounded-md border border-white/10 bg-black/70 px-2 py-1 text-[10px] text-gray-200 shadow-lg pointer-events-none ${x} ${s?"block":"hidden"}`,children:[u.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:"Multi"}),u.jsx("div",{className:"space-y-1",children:r.map(b=>{const w=Gl(b||"Unknown");return u.jsxs("div",{className:"flex items-center gap-1",children:[w?u.jsx("img",{src:w,alt:b||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,u.jsx("span",{className:"text-gray-100",children:b||"Unknown"})]},b)})})]})]})]})},tae=(e,t,n="w-4 h-4 object-contain")=>u.jsx(eae,{profession:e,professionList:t,className:n}),Cv=({count:e,classCounts:t,label:n,className:r})=>{const a=Jre(t||{}),i=e>0,[o,s]=v.useState(!1),l=v.useRef(null),c=v.useRef(null),d=dL(o,[a.length,e],l,c);return u.jsxs("span",{ref:l,className:`relative inline-flex items-center justify-end ${i?"group cursor-help":""}`,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[u.jsx("span",{className:r,children:e}),i&&typeof document<"u"&&Gu.createPortal(u.jsxs("div",{ref:c,style:d,className:`count-class-tooltip z-[9999] w-max rounded-md border border-white/10 bg-black/70 px-2 py-1 text-[10px] text-gray-200 shadow-lg pointer-events-none ${o?"block":"hidden"}`,children:[u.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:n}),a.length>0?u.jsx("div",{className:"grid grid-flow-col auto-cols-fr gap-2",children:a.map((f,p)=>u.jsx("div",{className:"space-y-1",children:f.map(({profession:m,count:h})=>{const y=Gl(m||"Unknown");return u.jsxs("div",{className:"flex items-center gap-1",children:[y?u.jsx("img",{src:y,alt:m||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,u.jsx("span",{className:"text-gray-100",children:m||"Unknown"}),u.jsx("span",{className:"text-gray-400",children:""}),u.jsx("span",{className:"text-gray-200",children:h})]},m)})},`${n}-col-${p}`))}):u.jsx("div",{className:"text-[10px] text-gray-500 italic",children:"No class data available"})]}),document.body)]})},Mr=({name:e,iconUrl:t,className:n="",iconClassName:r="h-4 w-4",textClassName:a="",truncateText:i=!0})=>{const o=Zre(t);return u.jsxs("span",{className:`inline-flex items-center gap-2 min-w-0 ${n}`,children:[o?u.jsx("img",{src:o,alt:e,className:`${r} shrink-0`}):null,u.jsx("span",{className:`${i?"truncate":""} ${a}`,children:e})]})},BA=({value:e,label:t,items:n,className:r})=>{const a=n.length>0,[i,o]=v.useState(!1),s=v.useRef(null),l=v.useRef(null),c=dL(i,[n.length],s,l);return u.jsxs("span",{ref:s,className:`relative inline-flex items-center justify-end ${a?"group cursor-help":""} ${r||""}`,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[u.jsx("span",{children:e}),a&&typeof document<"u"&&Gu.createPortal(u.jsxs("div",{ref:l,style:c,className:`skill-breakdown-tooltip z-[9999] w-64 rounded-md border border-white/10 bg-black/70 px-3 py-2 text-[10px] text-gray-200 shadow-lg pointer-events-none ${i?"block":"hidden"}`,children:[u.jsx("div",{className:"text-[9px] uppercase tracking-wider text-amber-200 mb-1",children:t}),u.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1",children:n.map(d=>u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsx("span",{className:"truncate text-gray-100",children:u.jsx(Mr,{name:d.name,iconUrl:d.iconUrl,iconClassName:"h-6 w-6"})}),u.jsx("span",{className:"text-gray-300 font-mono",children:d.value})]},d.name))})]}),document.body)]})},nae=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,selectedPlayers:s,setSelectedPlayers:l,removeSelectedPlayer:c,playerMapByKey:d,groupedSkillUsagePlayers:f,expandedSkillUsageClass:p,setExpandedSkillUsageClass:m,togglePlayerSelection:h,skillUsagePlayerFilter:y,setSkillUsagePlayerFilter:x,skillUsageView:g,setSkillUsageView:b,skillUsageData:w,skillUsageSkillFilter:S,setSkillUsageSkillFilter:C,selectedSkillId:N,setSelectedSkillId:M,skillBarData:T,selectedSkillName:$,selectedSkillIcon:E,skillUsageReady:P,skillUsageAvailable:O,isSkillUsagePerSecond:U,skillChartData:X,skillChartMaxY:ee,playerTotalsForSkill:de,hoveredSkillPlayer:z,setHoveredSkillPlayer:B,getLineStrokeColor:ie,getLineDashForPlayer:k,formatSkillUsageValue:I,renderProfessionIcon:A})=>u.jsxs("div",{id:"skill-usage","data-section-visible":a("skill-usage"),"data-section-first":i("skill-usage"),className:o("skill-usage",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${e==="skill-usage"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[u.jsxs("div",{className:e==="skill-usage"?"pr-10 md:pr-0":"",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(v1,{className:"w-5 h-5 text-cyan-400"}),"Skill Usage Tracker"]}),u.jsx("p",{className:"text-xs text-gray-400",children:"Compare how often squad members cast a skill and drill into the timeline breakdown."})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(En,{value:g,onChange:b,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[w.logRecords.length," ",w.logRecords.length===1?"log":"logs"]}),u.jsx("button",{type:"button",onClick:()=>e==="skill-usage"?r():n("skill-usage"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="skill-usage"?"absolute top-2 right-2 md:static":""}`,"aria-label":e==="skill-usage"?"Close Skill Usage":"Expand Skill Usage",title:e==="skill-usage"?"Close":"Expand",children:e==="skill-usage"?u.jsx(Wa,{className:"w-4 h-4"}):u.jsx(oi,{className:"w-4 h-4"})})]})]}),s.length>0&&u.jsxs("div",{className:"flex items-center gap-2 pb-2 overflow-x-auto pr-1 -mx-1 px-1",children:[u.jsx("button",{type:"button",onClick:()=>l([]),className:"shrink-0 px-3 py-1 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:"Clear All"}),s.map(j=>{const L=d.get(j);return L?u.jsxs("span",{className:"flex items-center gap-1 rounded-full border border-cyan-400/40 bg-cyan-500/10 px-3 py-1 text-xs text-cyan-200 shrink-0",children:[u.jsx("span",{className:"truncate max-w-[140px]",children:L.displayName}),u.jsxs("span",{className:"text-[10px] text-cyan-200/70",children:[L.logs," ",L.logs===1?"log":"logs"]}),u.jsx("button",{type:"button",onClick:()=>c(L.key),className:"rounded-full p-1 text-cyan-200 hover:bg-white/20",children:u.jsx(hD,{className:"w-3 h-3"})})]},L.key):null})]}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Squad Players"}),u.jsx("input",{type:"search",value:y,onChange:j=>x(j.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),u.jsx("div",{className:"skill-usage-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:f.length===0?u.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No squad players match the filter"}):f.map(j=>{const L=p===j.profession,q=j.players.map(G=>G.key),Q=q.length>0&&q.every(G=>s.includes(G));return u.jsxs("div",{className:"border-b border-white/5 last:border-b-0",children:[u.jsx("button",{type:"button",onClick:()=>{if(L){m(null);return}m(j.profession)},className:`skill-usage-player-list-item w-full px-3 py-2 text-left transition-colors ${L?"bg-white/10":"hover:bg-white/5"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[A(j.profession,void 0,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:j.profession})]}),u.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[u.jsxs("span",{className:"text-[10px]",children:[j.players.length,"p"]}),L?u.jsx(Yb,{className:"w-3.5 h-3.5"}):u.jsx(mz,{className:"w-3.5 h-3.5"})]})]})}),L&&u.jsxs("div",{className:"pb-2",children:[u.jsxs("div",{className:"px-6 pt-1 pb-2 flex items-center justify-between text-[11px] text-gray-400",children:[u.jsxs("span",{children:[j.players.length," ",j.players.length===1?"player":"players"]}),u.jsx("button",{type:"button",onClick:()=>{l(G=>{if(Q)return G.filter(_=>!q.includes(_));const W=new Set(G);return q.forEach(_=>W.add(_)),Array.from(W)})},className:"skill-usage-player-list-item px-2 py-0.5 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:Q?"Clear All":"Select All"})]}),j.players.map(G=>{const W=s.includes(G.key);return u.jsx("button",{type:"button",onClick:()=>h(G.key),className:`skill-usage-player-list-item w-full border-b border-white/5 px-6 py-2 text-left transition-colors last:border-b-0 ${W?"border-cyan-400 bg-cyan-500/10 text-white":"border-transparent hover:border-white/10 hover:bg-white/5"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:G.displayName}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:[G.account,"  ",G.profession,"  ",G.logs," ",G.logs===1?"log":"logs"]})]}),W&&u.jsx(fD,{className:"w-4 h-4 text-cyan-300"})]})},G.key)})]})]},j.profession)})})]}),u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Skill Totals"}),u.jsx("div",{className:"text-[11px] text-gray-500",children:s.length>0?`${s.length} player${s.length===1?"":"s"}  ${U?"casts/sec":"total casts"}`:"Select players"})]}),u.jsx("input",{type:"search",value:S,onChange:j=>C(j.target.value),placeholder:"Filter skill names",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),u.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/20 p-0.5 flex-1 min-h-0",children:s.length===0?u.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"Select squad players to see the skills they cast."}):T.length===0?u.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"No skill casts found for the selected players."}):(()=>{const j=T.reduce((L,q)=>Math.max(L,q.total),0)||1;return u.jsx("div",{className:"space-y-0.5 h-full overflow-y-auto pr-0.5",children:T.map((L,q)=>{const Q=Math.min(100,L.total/j*100),G=N===L.skillId;return u.jsxs("button",{type:"button",onClick:()=>M(L.skillId),className:`w-full space-y-1 rounded-lg border px-2 py-1.5 text-left transition-colors ${G?"border-white/60 bg-white/10":"border-white/10 bg-white/5 hover:border-white/30 hover:bg-white/10"}`,children:[u.jsxs("div",{className:"flex items-center justify-between text-sm text-white min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-400",children:`#${q+1}`}),u.jsx(Mr,{name:L.name,iconUrl:L.icon,iconClassName:"h-6 w-6",className:"min-w-0 flex-1 max-w-[58vw] sm:max-w-none",textClassName:"font-semibold"})]}),u.jsx("span",{className:"text-cyan-200 font-mono text-xs shrink-0",children:I(L.total)})]}),u.jsx("div",{className:"h-1 w-full rounded-full bg-white/10",children:u.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${Q}%`,backgroundColor:L.color}})})]},L.skillId)})})})()})]})]}),u.jsx("div",{className:"space-y-3",children:P?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-4 rounded-2xl bg-black/50 p-4 mt-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:$?u.jsx(Mr,{name:$,iconUrl:E,iconClassName:"h-6 w-6"}):"Selected Skill Usage"}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:["(",U?"casts per second":"casts per log",")"]})]}),u.jsx(yc,{width:"100%",height:250,children:u.jsxs(Ig,{data:X,children:[u.jsx(Hf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Kf,{dataKey:"index",type:"number",tick:{fill:"#e2e8f0",fontSize:10},interval:0,tickFormatter:j=>{const L=X[j],q=String((L==null?void 0:L.shortLabel)??j);return q.length>20?`${q.slice(0,20)}`:q}}),u.jsx(Yf,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,ee)],allowDecimals:!1}),u.jsx(wc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},content:({active:j,payload:L,label:q})=>{var Q;if(!j||!L||L.length===0)return null;const G=[...L].sort((te,re)=>(re.value||0)-(te.value||0)),W=G[0],_=((Q=W==null?void 0:W.payload)==null?void 0:Q.fullLabel)||q;return u.jsxs("div",{className:"rounded-lg bg-slate-900/95 border border-white/10 px-3 py-2 shadow-xl",children:[u.jsx("div",{className:"text-sm text-white mb-1",children:_}),u.jsx("div",{className:"space-y-1",children:G.map(te=>{const re=String(te.name||""),F=d.get(re),ae=(F==null?void 0:F.displayName)||re||"Player",H=I(Number(te.value||0)),R=te.color||"#38bdf8";return u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"truncate",style:{color:R},children:ae}),u.jsx("span",{className:"text-gray-200 font-mono",children:H})]},`${ae}-${H}`)})})]})}}),s.map(j=>{const L=z.includes(j),q=z.length>0,Q=ie(j,L,q),G=k(j),W=z.length>0&&!L;return u.jsx(Jo,{dataKey:j,stroke:Q,strokeWidth:L?4:3,strokeDasharray:G,opacity:W?.6:1,dot:!1,isAnimationActive:s.length<=16,animationDuration:420,animationEasing:"ease-out"},j)})]})})]}),s.length>0&&u.jsxs("div",{className:"rounded-2xl bg-black/40 border border-white/10 p-4 space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.4em] text-gray-400",children:"Selected Players"}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[s.length," ",s.length===1?"player":"players"]})]}),u.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:[...s].sort((j,L)=>(de.get(L)||0)-(de.get(j)||0)).map(j=>{const L=d.get(j),q=de.get(j)??0,Q=z.includes(j),G=z.length>0,W=ie(j,Q,G);return u.jsxs("button",{type:"button",onClick:()=>{B(_=>_.includes(j)?_.filter(te=>te!==j):[..._,j])},className:`w-full rounded-2xl border bg-white/5 p-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-left transition cursor-pointer focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/70 min-w-0 ${Q?"border-white/40 bg-white/10":"border-white/10 hover:border-white/30 hover:bg-white/10"}`,"aria-pressed":Q,children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("svg",{className:"h-2 w-6",viewBox:"0 0 24 4","aria-hidden":"true",children:u.jsx("line",{x1:"0",y1:"2",x2:"24",y2:"2",stroke:W,strokeWidth:"2",strokeDasharray:k(j),strokeLinecap:"round"})}),A(L==null?void 0:L.profession,L==null?void 0:L.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.4em] text-gray-400",children:"Player"}),u.jsx("div",{className:"font-semibold text-white truncate",children:(L==null?void 0:L.displayName)||j}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:[(L==null?void 0:L.logs)??0," ",((L==null?void 0:L.logs)??0)===1?"log":"logs"]})]})]}),u.jsx("div",{className:"text-2xl sm:text-3xl font-black text-white font-mono self-end sm:self-auto shrink-0",children:I(q)})]},j)})})]})]}):u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 mt-2 text-center text-xs text-gray-400",children:O?"Pick one skill and up to two players to visualize their usage over time.":"Upload or highlight logs with rotation data to enable the skill usage tracker."})})]}),rae=({containerRef:e,className:t=""})=>{const n=v.useRef(null),[r,a]=v.useState(0),[i,o]=v.useState(0),s=v.useRef(!1),l=v.useRef(0),c=v.useRef(0);v.useLayoutEffect(()=>{const p=e.current;if(!p)return;let m=0;const h=()=>{const{scrollWidth:w,clientWidth:S,scrollLeft:C}=p,N=w>S,M=n.current,T=(M==null?void 0:M.clientWidth)||0;if(!T){m=window.requestAnimationFrame(h);return}if(!N){a(T),o(0);return}const $=S/w,E=Math.max(20,Math.floor(T*$)),P=w-S,O=Math.max(0,T-E),U=P>0?Math.floor(C/P*O):0;a(E),o(U)};h();const y=()=>h(),x=new ResizeObserver(h);x.observe(p);const g=p.firstElementChild;g instanceof HTMLElement&&x.observe(g),n.current&&x.observe(n.current);const b=new MutationObserver(()=>h());return b.observe(p,{childList:!0,subtree:!0,attributes:!0}),window.addEventListener("resize",h),p.addEventListener("scroll",y),()=>{m&&window.cancelAnimationFrame(m),x.disconnect(),b.disconnect(),window.removeEventListener("resize",h),p.removeEventListener("scroll",y)}},[e]),v.useEffect(()=>{const p=h=>{if(!s.current)return;const y=n.current,x=e.current;if(!y||!x)return;const g=y.getBoundingClientRect(),b=h.clientX-l.current,w=Math.max(0,g.width-r),S=Math.min(w,Math.max(0,c.current+b)),C=x.scrollWidth-x.clientWidth,N=w>0?S/w*C:0;x.scrollLeft=N},m=()=>{s.current=!1};return window.addEventListener("pointermove",p),window.addEventListener("pointerup",m),()=>{window.removeEventListener("pointermove",p),window.removeEventListener("pointerup",m)}},[e,r]);const d=p=>{const m=n.current,h=e.current;if(!m||!h||r<=0)return;const y=m.getBoundingClientRect(),x=p.clientX-y.left,g=Math.max(0,y.width-r),b=Math.min(g,Math.max(0,x-r/2)),w=h.scrollWidth-h.clientWidth;h.scrollLeft=g>0?b/g*w:0},f=p=>{r<=0||(s.current=!0,l.current=p.clientX,c.current=i,p.currentTarget.setPointerCapture(p.pointerId))};return u.jsx("div",{className:`scroll-scrubber ${t}`,children:u.jsx("div",{ref:n,className:"scroll-scrubber__track",onClick:d,children:u.jsx("div",{className:"scroll-scrubber__thumb",style:{width:`${r}px`,transform:`translateX(${i}px)`},onPointerDown:f})})})},go=({title:e,subtitle:t,controls:n,columns:r,rows:a,sortColumnId:i,sortDirection:o="desc",onSortColumn:s,className:l=""})=>{const c=v.useRef(null),d=["minmax(170px, max-content)",...r.map(f=>`minmax(${f.minWidth??60}px, max-content)`)].join(" ");return u.jsxs("div",{className:`dense-table ${l}`,children:[(e||t)&&u.jsxs("div",{className:"dense-table__header",children:[e&&u.jsx("div",{className:"dense-table__title",children:e}),t&&u.jsx("div",{className:"dense-table__subtitle",children:t})]}),n&&u.jsx("div",{className:"dense-table__controls",children:n}),u.jsx("div",{ref:c,className:"dense-table__scroll",children:u.jsxs("div",{className:"dense-table__grid",style:{gridTemplateColumns:d},children:[u.jsx("div",{className:"dense-table__head dense-table__head--sticky dense-table__head--pinned",children:u.jsx("div",{className:"dense-table__head-inner",children:"Player"})}),r.map(f=>{const p=!!s,m=i===f.id?o==="desc"?"":"":null;return u.jsx("div",{className:`dense-table__head ${f.align==="right"?"dense-table__cell--right":""}`,style:f.minWidth?{minWidth:f.minWidth}:void 0,children:p?u.jsxs("button",{type:"button",onClick:()=>s==null?void 0:s(f.id),className:"dense-table__head-inner",children:[u.jsx("span",{className:"truncate",children:f.label}),m&&u.jsx("span",{className:"text-[10px] text-slate-200",children:m})]}):u.jsx("div",{className:"dense-table__head-inner",children:f.label})},f.id)}),a.map(f=>u.jsxs("div",{className:"dense-table__row",children:[u.jsx("div",{className:"dense-table__cell dense-table__cell--label dense-table__cell--pinned",children:f.label}),r.map(p=>u.jsx("div",{className:`dense-table__cell ${p.align==="right"?"dense-table__cell--right":""}`,children:f.values[p.id]??"-"},`${f.id}-${p.id}`))]},f.id))]})}),u.jsx(rae,{containerRef:c})]})},yo=({options:e,selectedIds:t,placeholder:n="Search...",onSelect:r,className:a=""})=>{const[i,o]=v.useState(""),[s,l]=v.useState(!1),[c,d]=v.useState(0),f=v.useRef(null),p=v.useRef(null),m=v.useRef(new Map);v.useEffect(()=>{const g=b=>{f.current&&(f.current.contains(b.target)||l(!1))};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const h=v.useMemo(()=>{const g=i.trim().toLowerCase();return g?e.filter(b=>b.label.toLowerCase().includes(g)).slice(0,50):e.slice(0,50)},[e,i]),y=v.useMemo(()=>{const g=new Map;return h.forEach((b,w)=>{g.set(`${b.type}-${b.id}`,w)}),g},[h]),x=v.useMemo(()=>{const g=h.filter(w=>w.type==="column"),b=h.filter(w=>w.type==="player");return{columns:g,players:b}},[h]);return v.useEffect(()=>{if(s){if(h.length===0){d(0);return}d(g=>Math.min(Math.max(g,0),h.length-1))}},[h,s]),v.useEffect(()=>{if(!s)return;const g=h[c];if(!g)return;const b=`${g.type}-${g.id}`,w=m.current.get(b);w&&p.current&&w.scrollIntoView({block:"nearest"})},[c,h,s]),u.jsxs("div",{ref:f,className:`relative ${a}`,children:[u.jsx("input",{value:i,onChange:g=>{o(g.target.value),l(!0)},onKeyDown:g=>{if(!s&&(g.key==="ArrowDown"||g.key==="ArrowUp")){l(!0);return}if(s)if(g.key==="ArrowDown"){if(g.preventDefault(),h.length===0)return;d(b=>(b+1)%h.length)}else if(g.key==="ArrowUp"){if(g.preventDefault(),h.length===0)return;d(b=>(b-1+h.length)%h.length)}else if(g.key==="Enter"){g.preventDefault();const b=h[c];if(!b)return;r(b),o(""),l(!1)}else g.key==="Escape"&&(g.preventDefault(),l(!1))},onFocus:()=>l(!0),placeholder:n,className:"w-full sm:w-64 bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none"}),s&&u.jsx("div",{className:"absolute z-30 mt-2 w-64 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:h.length===0?u.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No matches"}):u.jsxs("div",{ref:p,className:"max-h-60 overflow-y-auto space-y-2 pr-1",children:[x.columns.length>0&&u.jsxs("div",{children:[u.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Columns"}),x.columns.map(g=>{const b=(t==null?void 0:t.has(`${g.type}:${g.id}`))??!1;return u.jsx("button",{type:"button",ref:w=>{m.current.set(`${g.type}-${g.id}`,w)},onClick:()=>{r(g),o(""),l(!1)},onMouseEnter:()=>{const w=y.get(`${g.type}-${g.id}`);typeof w=="number"&&d(w)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${c===y.get(`${g.type}-${g.id}`)?"bg-white/10 border-white/10":""} ${b?"bg-white/15 border-white/20":""}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[g.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:g.icon}):null,u.jsx("span",{className:"truncate",children:g.label})]})},`${g.type}-${g.id}`)})]}),x.players.length>0&&u.jsxs("div",{children:[u.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Players"}),x.players.map(g=>{const b=(t==null?void 0:t.has(`${g.type}:${g.id}`))??!1;return u.jsx("button",{type:"button",ref:w=>{m.current.set(`${g.type}-${g.id}`,w)},onClick:()=>{r(g),o(""),l(!1)},onMouseEnter:()=>{const w=y.get(`${g.type}-${g.id}`);typeof w=="number"&&d(w)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${c===y.get(`${g.type}-${g.id}`)?"bg-white/10 border-white/10":""} ${b?"bg-white/15 border-white/20":""}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[g.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:g.icon}):null,u.jsx("span",{className:"truncate",children:g.label})]})},`${g.type}-${g.id}`)})]})]})})]})},yr=({options:e,selectedIds:t,onToggle:n,onClear:r,className:a="",buttonLabel:i="Columns",buttonIcon:o})=>{const[s,l]=v.useState(!1),c=v.useRef(null),d=new Set(t);return v.useEffect(()=>{const f=p=>{c.current&&(c.current.contains(p.target)||l(!1))};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]),u.jsxs("div",{ref:c,className:`relative ${a}`,children:[u.jsxs("button",{type:"button",onClick:()=>l(f=>!f),className:"flex items-center gap-2 rounded-lg border border-white/10 bg-white/5 px-3 py-1 text-xs font-semibold text-gray-300 hover:text-white hover:border-white/30 transition-colors",children:[o?u.jsx("span",{className:"h-3.5 w-3.5 text-gray-400",children:o}):null,u.jsx("span",{children:i}),t.length>0&&u.jsx("span",{className:"rounded-full bg-white/10 px-2 py-0.5 text-[10px] text-gray-200",children:t.length})]}),s&&u.jsxs("div",{className:"absolute z-20 mt-2 w-56 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between px-2 pb-2 text-[11px] uppercase tracking-widest text-gray-500",children:[u.jsx("span",{children:"Filter Columns"}),u.jsx("button",{type:"button",onClick:r,className:"text-gray-400 hover:text-white",children:"Clear"})]}),u.jsx("div",{className:"max-h-56 overflow-y-auto space-y-1 pr-1",children:e.length===0?u.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No columns"}):e.map(f=>u.jsx("button",{type:"button",onClick:()=>n(f.id),className:`w-full text-left px-2 py-1.5 rounded-lg border transition-colors ${d.has(f.id)?"bg-white/10 border-white/20 text-white":"border-transparent text-gray-300 hover:bg-white/5 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`h-2.5 w-2.5 rounded-full border ${d.has(f.id)?"bg-emerald-400/80 border-emerald-300":"border-gray-500"}`}),f.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center shrink-0",children:f.icon}):null,u.jsx("span",{className:"truncate max-w-[140px]",children:f.label})]})},f.id))})]})]})},aae=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,sidebarListClass:s,apmSpecAvailable:l,skillUsageAvailable:c,apmSpecTables:d,activeApmSpec:f,setActiveApmSpec:p,expandedApmSpec:m,setExpandedApmSpec:h,activeApmSkillId:y,setActiveApmSkillId:x,ALL_SKILLS_KEY:g,apmSkillSearch:b,setApmSkillSearch:w,activeApmSpecTable:S,activeApmSkill:C,isAllApmSkills:N,apmView:M,setApmView:T,formatApmValue:$,formatCastRateValue:E,formatCastCountValue:P,renderProfessionIcon:O})=>{var U;const[X,ee]=v.useState({key:"apm",dir:"desc"}),de=e==="apm-stats",[z,B]=v.useState({columnId:"",dir:"desc"}),[ie,k]=v.useState([]),[I,A]=v.useState([]),[j,L]=v.useState({}),q=de?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${s} max-h-72 overflow-y-auto`,Q=W=>{ee(_=>({key:W,dir:_.key===W&&_.dir==="desc"?"asc":"desc"}))},G=v.useMemo(()=>{const W=[...(S==null?void 0:S.playerRows)||[]];return W.sort((_,te)=>{const re=X.key==="apm"?Number(M==="perSecond"?_.aps:_.apm):Number(M==="perSecond"?_.apsNoAuto:_.apmNoAuto),F=X.key==="apm"?Number(M==="perSecond"?te.aps:te.apm):Number(M==="perSecond"?te.apsNoAuto:te.apmNoAuto);return(X.dir==="desc"?F-re:re-F)||String(_.displayName||"").localeCompare(String(te.displayName||""))}),W},[S,X,M]);return u.jsxs("div",{id:"apm-stats","data-section-visible":a("apm-stats"),"data-section-first":i("apm-stats"),className:o("apm-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="apm-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(k1,{className:"w-5 h-5 text-emerald-300"}),"APM Breakdown"]}),u.jsxs("div",{className:"flex items-center gap-3 relative",children:[u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[d.length," ",d.length===1?"spec":"specs"]}),u.jsx("button",{type:"button",onClick:()=>e==="apm-stats"?r():n("apm-stats"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="apm-stats"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="apm-stats"?"Close APM Breakdown":"Expand APM Breakdown",title:e==="apm-stats"?"Close":"Expand",children:e==="apm-stats"?u.jsx(Wa,{className:"w-4 h-4"}):u.jsx(oi,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:e==="apm-stats"?"flex-1 min-h-0 flex flex-col":"",children:l?u.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="apm-stats"?"flex-1 min-h-0 h-full":""}`,children:[u.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="apm-stats"?"h-full":""}`,children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Elite Specs"}),u.jsx("div",{className:"mb-2",children:u.jsx("input",{type:"text",value:b,onChange:W=>w(W.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"})}),u.jsx("div",{className:q,children:d.map(W=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const _=f!==W.profession;p(W.profession),h(_?W.profession:m===W.profession?null:W.profession),_&&(x(g),k([]),A([]))},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${f===W.profession?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[O(W.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:W.profession})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:u.jsxs("span",{className:"text-[10px]",children:[W.players.length,"p"]})})]})}),!de&&m===W.profession&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:j[W.profession]||"",onChange:_=>{const te=_.target.value;L(re=>({...re,[W.profession]:te}))},placeholder:"Filter this spec...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"}),u.jsx("button",{type:"button",onClick:()=>{p(W.profession),x(g)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===W.profession&&N?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Skills"}),(W.skills||[]).filter(_=>{const te=(j[W.profession]||"").trim().toLowerCase();return te?String(_.name||"").toLowerCase().includes(te):!0}).map(_=>u.jsx("button",{type:"button",onClick:()=>{p(W.profession),x(_.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===W.profession&&y===_.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:_.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[_.icon?u.jsx("img",{src:_.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate",children:_.name})]})},_.id)),(W.skills||[]).filter(_=>{const te=(j[W.profession]||"").trim().toLowerCase();return te?String(_.name||"").toLowerCase().includes(te):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},W.profession))})]}),u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="apm-stats"?"flex flex-col min-h-0":""}`,children:S?u.jsxs("div",{className:e==="apm-stats"?"flex flex-col min-h-0":"",children:[de&&(()=>{const W=S.skills||[],_=(S.playerRows||[]).map(ae=>({id:ae.key,label:ae.displayName||ae.account||ae.key,icon:O(ae.profession,ae.professionList,"w-3 h-3")})),te=W.map(ae=>({id:ae.id,label:ae.name,icon:ae.icon?u.jsx("img",{src:ae.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),re=[...W.map(ae=>({id:ae.id,label:ae.name,type:"column",icon:ae.icon?u.jsx("img",{src:ae.icon,alt:"",className:"h-4 w-4"}):void 0})),...(S.playerRows||[]).map(ae=>({id:ae.key,label:ae.displayName||ae.account||ae.key,type:"player",icon:O(ae.profession,ae.professionList,"w-3 h-3")}))],F=new Set([...ie.map(ae=>`column:${ae}`),...I.map(ae=>`player:${ae}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"APM"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(yo,{options:re,selectedIds:F,onSelect:ae=>{ae.type==="column"?k(H=>H.includes(ae.id)?H.filter(R=>R!==ae.id):[...H,ae.id]):A(H=>H.includes(ae.id)?H.filter(R=>R!==ae.id):[...H,ae.id])},className:"w-full sm:w-64"}),u.jsx(yr,{options:te,selectedIds:ie,onToggle:ae=>{k(H=>H.includes(ae)?H.filter(R=>R!==ae):[...H,ae])},onClear:()=>k([]),buttonLabel:"Columns",buttonIcon:u.jsx(mo,{className:"h-3.5 w-3.5"})}),u.jsx(yr,{options:_,selectedIds:I,onToggle:ae=>{A(H=>H.includes(ae)?H.filter(R=>R!==ae):[...H,ae])},onClear:()=>A([]),buttonLabel:"Players",buttonIcon:u.jsx(Cr,{className:"h-3.5 w-3.5"})}),u.jsx(En,{value:M,onChange:T,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(ie.length>0||I.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{k([]),A([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),ie.map(ae=>{var H;const R=((H=W.find(oe=>oe.id===ae))==null?void 0:H.name)||ae;return u.jsxs("button",{type:"button",onClick:()=>k(oe=>oe.filter(be=>be!==ae)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:R}),u.jsx("span",{className:"text-gray-400",children:""})]},ae)}),I.map(ae=>{var H;const R=((H=_.find(oe=>oe.id===ae))==null?void 0:H.label)||ae;return u.jsxs("button",{type:"button",onClick:()=>A(oe=>oe.filter(be=>be!==ae)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:R}),u.jsx("span",{className:"text-gray-400",children:""})]},ae)})]})]})})(),de?(()=>{var W,_;const te=S.skills||[],re=ie.length>0?te.filter(R=>ie.includes(R.id)):te,F=I.length>0?(S.playerRows||[]).filter(R=>I.includes(R.key)):S.playerRows||[];if(te.length===0)return u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No skills available for this class."});const ae=((W=re.find(R=>R.id===z.columnId))==null?void 0:W.id)||((_=re[0])==null?void 0:_.id)||"",H=[...F].map(R=>{const oe={},be={};return re.forEach(et=>{var ue;const He=Number(((ue=et.playerCounts)==null?void 0:ue.get(R.key))||0),Be=M==="perSecond"?He/Math.max(1,R.totalActiveSeconds||0):He;be[et.id]=Be,oe[et.id]=M==="perSecond"?E(Be):P(Be)}),{row:R,values:oe,numericValues:be}}).sort((R,oe)=>{const be=R.numericValues[ae]??0,et=oe.numericValues[ae]??0;return(z.dir==="desc"?et-be:be-et)||String(R.row.displayName||"").localeCompare(String(oe.row.displayName||""))});return u.jsx(go,{title:"APM - Dense View",subtitle:"Skills",sortColumnId:ae,sortDirection:z.dir,onSortColumn:R=>{B(oe=>({columnId:R,dir:oe.columnId===R&&oe.dir==="desc"?"asc":"desc"}))},columns:re.map(R=>({id:R.id,label:u.jsx(Mr,{name:R.name,iconUrl:R.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:H.map((R,oe)=>({id:`${S.profession}-${R.row.key}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:oe+1}),O(R.row.profession,R.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:R.row.displayName})]}),values:R.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"min-w-0 text-sm font-semibold text-gray-200",children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[O(S.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:S.profession}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),N||!C?u.jsx("span",{className:"truncate",children:"All Skills"}):u.jsx(Mr,{name:C.name,iconUrl:C.icon,iconClassName:"h-5 w-5"})]})}),u.jsx("div",{className:"text-[11px] text-gray-500",children:N||!C?`${((U=S.playerRows)==null?void 0:U.length)||0} players`:`${(C==null?void 0:C.totalCasts)??0} casts`})]}),N||!C?u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.7fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>Q("apm"),className:`text-right transition-colors ${X.key==="apm"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[M==="perSecond"?"APS":"APM",X.key==="apm"?X.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>Q("apmNoAuto"),className:`text-right transition-colors ${X.key==="apmNoAuto"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[M==="perSecond"?"APS":"APM"," (No Auto)",X.key==="apmNoAuto"?X.dir==="desc"?" ":" ":""]})]}):u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.4fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsx("div",{className:"text-right",children:"Casts"}),u.jsx("div",{className:"text-right",children:M==="perSecond"?"APS":"APM"})]})]}),N||!C?u.jsx(u.Fragment,{children:u.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:G.map((W,_)=>u.jsxs("div",{className:"grid grid-cols-[1.6fr_0.7fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${_+1}`}),O(W.profession,W.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:W.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:$(M==="perSecond"?W.aps:W.apm)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:$(M==="perSecond"?W.apsNoAuto:W.apmNoAuto)})]},`${S.profession}-all-${W.key}`))})}):u.jsx(u.Fragment,{children:u.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:((C==null?void 0:C.playerRows)||[]).length===0?u.jsx("div",{className:"px-4 py-8 text-center text-sm text-gray-500 italic border-t border-white/5",children:"No player rows available for this skill."}):((C==null?void 0:C.playerRows)||[]).map((W,_)=>u.jsxs("div",{className:"grid grid-cols-[1.4fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${_+1}`}),O(W.profession,W.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:W.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:P(Number(W.count||0))}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:$(Number(M==="perSecond"?W.aps||0:W.apm||0))})]},`${S.profession}-${C.id}-${W.key}`))})})]})]}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select an elite spec to view APM details"})})]}):u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:c?"No APM data available for the current selection.":"Upload or highlight logs with rotation data to enable the APM table."})})]})},iae=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,sidebarListClass:s,viewMode:l,setViewMode:c,playerSkillBreakdowns:d,classSkillBreakdowns:f,activePlayerKey:p,setActivePlayerKey:m,expandedPlayerKey:h,setExpandedPlayerKey:y,activePlayerSkillId:x,setActivePlayerSkillId:g,activeClassKey:b,setActiveClassKey:w,expandedClassKey:S,setExpandedClassKey:C,activeClassSkillId:N,setActiveClassSkillId:M,skillSearch:T,setSkillSearch:$,activePlayerBreakdown:E,activePlayerSkill:P,activeClassBreakdown:O,activeClassSkill:U,renderProfessionIcon:X})=>{const ee=d.length,de=((E==null?void 0:E.skills)||[]).reduce((H,R)=>H+(R.damage||0),0),z=(O==null?void 0:O.players)||[],[B,ie]=v.useState({key:"down",dir:"desc"}),k=e==="player-breakdown",[I,A]=v.useState([]),[j,L]=v.useState([]),[q,Q]=v.useState({columnId:"",dir:"desc"}),[G,W]=v.useState({}),[_,te]=v.useState({}),re=k?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${s} max-h-72 overflow-y-auto`,F=v.useMemo(()=>{if(!O||!U)return z;const H=[...z];return H.sort((R,oe)=>{var be,et;const ue=(be=R.skillMap)==null?void 0:be[U.id],He=(et=oe.skillMap)==null?void 0:et[U.id],Be=Number((ue==null?void 0:ue.downContribution)||0),yt=Number((He==null?void 0:He.downContribution)||0),Xt=Number((ue==null?void 0:ue.damage)||0),Mn=Number((He==null?void 0:He.damage)||0),On=R.totalFightMs>0?Xt/(R.totalFightMs/1e3):0,ge=oe.totalFightMs>0?Mn/(oe.totalFightMs/1e3):0;let Fe=0;return B.key==="down"&&(Fe=Be-yt),B.key==="damage"&&(Fe=Xt-Mn),B.key==="dps"&&(Fe=On-ge),B.dir==="asc"?Fe:-Fe}),H},[O,z,U,B]),ae=H=>{ie(R=>R.key!==H?{key:H,dir:"desc"}:{key:H,dir:R.dir==="desc"?"asc":"desc"})};return u.jsxs("div",{id:"player-breakdown","data-section-visible":a("player-breakdown"),"data-section-first":i("player-breakdown"),className:o("player-breakdown",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="player-breakdown"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(b1,{className:"w-5 h-5 text-sky-300"}),"Player Breakdown"]}),u.jsxs("div",{className:"flex items-center gap-3 relative",children:[u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[ee," ",ee===1?"player":"players"]}),u.jsx("button",{type:"button",onClick:()=>e==="player-breakdown"?r():n("player-breakdown"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="player-breakdown"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="player-breakdown"?"Close Player Breakdown":"Expand Player Breakdown",title:e==="player-breakdown"?"Close":"Expand",children:e==="player-breakdown"?u.jsx(Wa,{className:"w-4 h-4"}):u.jsx(oi,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:e==="player-breakdown"?"flex-1 min-h-0 flex flex-col":"",children:d.length===0?u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:"No player skill damage data available for the current selection."}):u.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="player-breakdown"?"flex-1 min-h-0 h-full":""}`,children:[u.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="player-breakdown"?"h-full":""}`,children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:k?"Squad Classes":l==="player"?"Squad Players":"Squad Classes"}),!k&&u.jsx("div",{className:"flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"player",label:"Player"},{id:"class",label:"Class"}].map(H=>{const R=l===H.id;return u.jsx("button",{type:"button",onClick:()=>c(H.id),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${R?"bg-sky-500/30 text-sky-100":"text-gray-400 hover:text-white"}`,children:H.label},H.id)})})]}),u.jsx("div",{className:"mb-2",children:u.jsx("input",{type:"text",value:T,onChange:H=>$(H.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"})}),u.jsx("div",{className:re,children:(k?"class":l)==="player"?d.map(H=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const R=p!==H.key;R&&(g(null),A([]),L([])),m(H.key),y(R?H.key:h===H.key?null:H.key)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${p===H.key?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:H.displayName,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[X(H.profession,H.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate min-w-0",children:H.displayName})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400 shrink-0",children:u.jsxs("span",{className:"text-[10px] whitespace-nowrap",children:[H.skills.length," skills"]})})]})}),!k&&h===H.key&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:G[H.key]||"",onChange:R=>{const oe=R.target.value;W(be=>({...be,[H.key]:oe}))},placeholder:"Filter this player's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),H.skills.filter(R=>{const oe=(G[H.key]||"").trim().toLowerCase();return oe?String(R.name||"").toLowerCase().includes(oe):!0}).map(R=>u.jsx("button",{type:"button",onClick:()=>{m(H.key),g(R.id)},className:`w-full min-h-[30px] text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${p===H.key&&x===R.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:R.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[R.icon?u.jsx("img",{src:R.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",children:R.name})]})},R.id)),H.skills.filter(R=>{const oe=(G[H.key]||"").trim().toLowerCase();return oe?String(R.name||"").toLowerCase().includes(oe):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},H.key)):f.map(H=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const R=b!==H.profession;R&&(M(null),A([]),L([])),w(H.profession),C(R?H.profession:S===H.profession?null:H.profession)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${b===H.profession?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[X(H.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:H.profession})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:u.jsxs("span",{className:"text-[10px]",children:[H.players.length,"p"]})})]})}),!k&&S===H.profession&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:_[H.profession]||"",onChange:R=>{const oe=R.target.value;te(be=>({...be,[H.profession]:oe}))},placeholder:"Filter this class's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),H.skills.filter(R=>{const oe=(_[H.profession]||"").trim().toLowerCase();return oe?String(R.name||"").toLowerCase().includes(oe):!0}).map(R=>u.jsx("button",{type:"button",onClick:()=>{w(H.profession),M(R.id)},className:`w-full min-h-[30px] text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${b===H.profession&&N===R.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:R.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[R.icon?u.jsx("img",{src:R.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",children:R.name})]})},R.id)),H.skills.filter(R=>{const oe=(_[H.profession]||"").trim().toLowerCase();return oe?String(R.name||"").toLowerCase().includes(oe):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},H.profession))})]}),u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="player-breakdown"?"flex flex-col min-h-0":""}`,children:(k?"class":l)==="player"?!E||!k&&!P?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a player and skill to view breakdown details"}):u.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[k&&(()=>{const H=E.skills||[],R=d.map(ue=>({id:ue.key,label:ue.displayName||ue.key,icon:X(ue.profession,ue.professionList,"w-3 h-3")})),oe=H.map(ue=>({id:ue.id,label:ue.name,icon:ue.icon?u.jsx("img",{src:ue.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),be=[...H.map(ue=>({id:ue.id,label:ue.name,type:"column",icon:ue.icon?u.jsx("img",{src:ue.icon,alt:"",className:"h-4 w-4"}):void 0})),...d.map(ue=>({id:ue.key,label:ue.displayName||ue.key,type:"player",icon:X(ue.profession,ue.professionList,"w-3 h-3")}))],et=new Set([...I.map(ue=>`column:${ue}`),...j.map(ue=>`player:${ue}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Player Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(yo,{options:be,selectedIds:et,onSelect:ue=>{ue.type==="column"?A(He=>He.includes(ue.id)?He.filter(Be=>Be!==ue.id):[...He,ue.id]):L(He=>He.includes(ue.id)?He.filter(Be=>Be!==ue.id):[...He,ue.id])},className:"w-full sm:w-64"}),u.jsx(yr,{options:oe,selectedIds:I,onToggle:ue=>{A(He=>He.includes(ue)?He.filter(Be=>Be!==ue):[...He,ue])},onClear:()=>A([]),buttonLabel:"Columns",buttonIcon:u.jsx(mo,{className:"h-3.5 w-3.5"})}),u.jsx(yr,{options:R,selectedIds:j,onToggle:ue=>{L(He=>He.includes(ue)?He.filter(Be=>Be!==ue):[...He,ue])},onClear:()=>L([]),buttonLabel:"Players",buttonIcon:u.jsx(Cr,{className:"h-3.5 w-3.5"})})]}),(I.length>0||j.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{A([]),L([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),I.map(ue=>{var He;const Be=((He=H.find(yt=>yt.id===ue))==null?void 0:He.name)||ue;return u.jsxs("button",{type:"button",onClick:()=>A(yt=>yt.filter(Xt=>Xt!==ue)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Be}),u.jsx("span",{className:"text-gray-400",children:""})]},ue)}),j.map(ue=>{var He;const Be=((He=R.find(yt=>yt.id===ue))==null?void 0:He.label)||ue;return u.jsxs("button",{type:"button",onClick:()=>L(yt=>yt.filter(Xt=>Xt!==ue)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Be}),u.jsx("span",{className:"text-gray-400",children:""})]},ue)})]})]})})(),k?(()=>{var H,R;const oe=E.skills||[],be=I.length>0?oe.filter(Be=>I.includes(Be.id)):oe,et=j.length>0?d.filter(Be=>j.includes(Be.key)):d,ue=((H=be.find(Be=>Be.id===q.columnId))==null?void 0:H.id)||((R=be[0])==null?void 0:R.id)||"",He=et.map(Be=>{const yt={},Xt={};return be.forEach(Mn=>{var On;const ge=(On=Be.skillMap)==null?void 0:On[Mn.id],Fe=Number((ge==null?void 0:ge.damage)||0);Xt[Mn.id]=Fe,yt[Mn.id]=Vs(Fe)}),{player:Be,values:yt,numericValues:Xt}}).sort((Be,yt)=>{const Xt=Be.numericValues[ue]??0,Mn=yt.numericValues[ue]??0;return(q.dir==="desc"?Mn-Xt:Xt-Mn)||String(Be.player.displayName||"").localeCompare(String(yt.player.displayName||""))});return u.jsx(go,{title:"Player Breakdown - Dense View",subtitle:"Damage",sortColumnId:ue,sortDirection:q.dir,onSortColumn:Be=>{Q(yt=>({columnId:Be,dir:yt.columnId===Be&&yt.dir==="desc"?"asc":"desc"}))},columns:be.map(Be=>({id:Be.id,label:u.jsx(Mr,{name:Be.name,iconUrl:Be.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:He.map((Be,yt)=>({id:`${Be.player.key}-${yt}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:yt+1}),X(Be.player.profession,Be.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Be.player.displayName})]}),values:Be.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:u.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-wrap",children:[X(E.profession,E.professionList,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:E.displayName}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),u.jsx("div",{className:"text-sm font-semibold text-gray-200 min-w-0",children:u.jsx(Mr,{name:(P==null?void 0:P.name)||"",iconUrl:P==null?void 0:P.icon,iconClassName:"h-6 w-6",truncateText:!1,textClassName:"whitespace-normal break-words"})})]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[E.skills.length," skills | ",Vs(de)," total damage"]})]})}),u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.2fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Metric"}),u.jsx("div",{className:"text-right",children:"Value"})]})]}),u.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:[{label:"Down Contribution",value:Vs((P==null?void 0:P.downContribution)||0)},{label:"Total Damage",value:Vs((P==null?void 0:P.damage)||0)},{label:"DPS",value:hi(E.totalFightMs>0?((P==null?void 0:P.damage)||0)/(E.totalFightMs/1e3):0,1)}].map(H=>u.jsxs("div",{className:"grid grid-cols-[1.2fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"font-semibold text-white",children:H.label}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:H.value})]},H.label))})]})]}):!O||!k&&!U?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a class and skill to view breakdown details"}):u.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[k&&(()=>{const H=O.skills||[],R=z.map(ue=>({id:ue.key,label:ue.displayName||ue.key,icon:X(ue.profession,ue.professionList,"w-3 h-3")})),oe=H.map(ue=>({id:ue.id,label:ue.name,icon:ue.icon?u.jsx("img",{src:ue.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),be=[...H.map(ue=>({id:ue.id,label:ue.name,type:"column",icon:ue.icon?u.jsx("img",{src:ue.icon,alt:"",className:"h-4 w-4"}):void 0})),...z.map(ue=>({id:ue.key,label:ue.displayName||ue.key,type:"player",icon:X(ue.profession,ue.professionList,"w-3 h-3")}))],et=new Set([...I.map(ue=>`column:${ue}`),...j.map(ue=>`player:${ue}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Class Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(yo,{options:be,selectedIds:et,onSelect:ue=>{ue.type==="column"?A(He=>He.includes(ue.id)?He.filter(Be=>Be!==ue.id):[...He,ue.id]):L(He=>He.includes(ue.id)?He.filter(Be=>Be!==ue.id):[...He,ue.id])},className:"w-full sm:w-64"}),u.jsx(yr,{options:oe,selectedIds:I,onToggle:ue=>{A(He=>He.includes(ue)?He.filter(Be=>Be!==ue):[...He,ue])},onClear:()=>A([]),buttonLabel:"Columns",buttonIcon:u.jsx(mo,{className:"h-3.5 w-3.5"})}),u.jsx(yr,{options:R,selectedIds:j,onToggle:ue=>{L(He=>He.includes(ue)?He.filter(Be=>Be!==ue):[...He,ue])},onClear:()=>L([]),buttonLabel:"Players",buttonIcon:u.jsx(Cr,{className:"h-3.5 w-3.5"})})]}),(I.length>0||j.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{A([]),L([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),I.map(ue=>{var He;const Be=((He=H.find(yt=>yt.id===ue))==null?void 0:He.name)||ue;return u.jsxs("button",{type:"button",onClick:()=>A(yt=>yt.filter(Xt=>Xt!==ue)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Be}),u.jsx("span",{className:"text-gray-400",children:""})]},ue)}),j.map(ue=>{var He;const Be=((He=R.find(yt=>yt.id===ue))==null?void 0:He.label)||ue;return u.jsxs("button",{type:"button",onClick:()=>L(yt=>yt.filter(Xt=>Xt!==ue)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Be}),u.jsx("span",{className:"text-gray-400",children:""})]},ue)})]})]})})(),k?(()=>{var H,R;const oe=O.skills||[],be=I.length>0?oe.filter(Be=>I.includes(Be.id)):oe,et=j.length>0?z.filter(Be=>j.includes(Be.key)):z,ue=((H=be.find(Be=>Be.id===q.columnId))==null?void 0:H.id)||((R=be[0])==null?void 0:R.id)||"",He=et.map(Be=>{const yt={},Xt={};return be.forEach(Mn=>{var On;const ge=(On=Be.skillMap)==null?void 0:On[Mn.id],Fe=Number((ge==null?void 0:ge.damage)||0);Xt[Mn.id]=Fe,yt[Mn.id]=Vs(Fe)}),{player:Be,values:yt,numericValues:Xt}}).sort((Be,yt)=>{const Xt=Be.numericValues[ue]??0,Mn=yt.numericValues[ue]??0;return(q.dir==="desc"?Mn-Xt:Xt-Mn)||String(Be.player.displayName||"").localeCompare(String(yt.player.displayName||""))});return u.jsx(go,{title:"Class Breakdown - Dense View",subtitle:"Damage",sortColumnId:ue,sortDirection:q.dir,onSortColumn:Be=>{Q(yt=>({columnId:Be,dir:yt.columnId===Be&&yt.dir==="desc"?"asc":"desc"}))},columns:be.map(Be=>({id:Be.id,label:u.jsx(Mr,{name:Be.name,iconUrl:Be.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:He.map((Be,yt)=>({id:`${Be.player.key}-${yt}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:yt+1}),X(Be.player.profession,Be.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Be.player.displayName})]}),values:Be.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:u.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-wrap",children:[X(O.profession,void 0,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:O.profession}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),u.jsx("div",{className:"text-sm font-semibold text-gray-200 min-w-0",children:u.jsx(Mr,{name:(U==null?void 0:U.name)||"",iconUrl:U==null?void 0:U.icon,iconClassName:"h-6 w-6",truncateText:!1,textClassName:"whitespace-normal break-words"})})]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[z.length," players | ",O.skills.length," skills"]})]})}),u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>ae("down"),className:`text-right flex items-center justify-end gap-1 transition-colors ${B.key==="down"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Down Contrib",u.jsx("span",{className:"text-[10px]",children:B.key==="down"?B.dir==="desc"?"":"":""})]}),u.jsxs("button",{type:"button",onClick:()=>ae("damage"),className:`text-right flex items-center justify-end gap-1 transition-colors ${B.key==="damage"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage",u.jsx("span",{className:"text-[10px]",children:B.key==="damage"?B.dir==="desc"?"":"":""})]}),u.jsxs("button",{type:"button",onClick:()=>ae("dps"),className:`text-right flex items-center justify-end gap-1 transition-colors ${B.key==="dps"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["DPS",u.jsx("span",{className:"text-[10px]",children:B.key==="dps"?B.dir==="desc"?"":"":""})]})]})]}),u.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:F.map(H=>{var R;const oe=(R=H.skillMap)==null?void 0:R[(U==null?void 0:U.id)||""],be=Number((oe==null?void 0:oe.downContribution)||0),et=Number((oe==null?void 0:oe.damage)||0),ue=H.totalFightMs>0?et/(H.totalFightMs/1e3):0;return u.jsxs("div",{className:"grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[X(H.profession,H.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:H.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:Vs(be)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:Vs(et)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:hi(ue,1)})]},`${O.profession}-${H.key}`)})})]})]})})]})})]})},fL=({className:e})=>u.jsx(Mz,{className:e,style:{transform:"rotate(45deg)"}}),As=({expanded:e,className:t="",sidebarClassName:n="",contentClassName:r="",sidebar:a,content:i})=>u.jsxs("div",{className:`stats-table-layout grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e?"flex-1 min-h-0 h-full":""} ${t}`,children:[u.jsx("div",{className:`stats-table-layout__sidebar ${n}`,children:a}),u.jsx("div",{className:`stats-table-layout__content ${r}`,children:i})]}),vo=({header:e,columns:t,rows:n,expanded:r,maxHeightClass:a="max-h-80"})=>u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"stats-table-shell__header",children:e}),u.jsx("div",{className:"stats-table-shell__columns",children:t})]}),u.jsx("div",{className:`stats-table-shell__rows ${r?"flex-1 min-h-0 overflow-y-auto":`${a} overflow-y-auto`}`,children:n})]}),oae=({stats:e,OFFENSE_METRICS:t,roundCountStats:n,offenseSearch:r,setOffenseSearch:a,activeOffenseStat:i,setActiveOffenseStat:o,offenseViewMode:s,setOffenseViewMode:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:p,openExpandedSection:m,closeExpandedSection:h,isSectionVisible:y,isFirstVisibleSection:x,sectionClass:g,sidebarListClass:b})=>{var w;const[S,C]=v.useState({key:"value",dir:"desc"}),[N,M]=v.useState({columnId:((w=t[0])==null?void 0:w.id)||"value",dir:"desc"}),T=f==="offense-detailed",[$,E]=v.useState([]),[P,O]=v.useState([]),U=t.filter(k=>k.label.toLowerCase().includes(r.trim().toLowerCase())),X=t.map(k=>({id:k.id,label:k.label})),ee=X.filter(k=>k.label.toLowerCase().includes(r.trim().toLowerCase())),de=$.length>0?t.filter(k=>$.includes(k.id)):t,z=Array.from(new Map(e.offensePlayers.map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:d(k.profession,k.professionList,"w-3 h-3")})),B=new Set([...$.map(k=>`column:${k}`),...P.map(k=>`player:${k}`)]),ie=k=>{C(I=>({key:k,dir:I.key===k&&I.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"offense-detailed","data-section-visible":y("offense-detailed"),"data-section-first":x("offense-detailed"),className:g("offense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="offense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(fL,{className:"w-5 h-5 text-rose-300"}),"Offenses - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>f==="offense-detailed"?h():m("offense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="offense-detailed"?"Close Offense Detailed":"Expand Offense Detailed",title:f==="offense-detailed"?"Close":"Expand",children:f==="offense-detailed"?u.jsx(Wa,{className:"w-4 h-4"}):u.jsx(oi,{className:"w-4 h-4"})})]}),e.offensePlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No offensive stats available"}):T?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(yo,{options:[...X.map(k=>({...k,type:"column"})),...z.map(k=>({...k,type:"player"}))],onSelect:k=>{k.type==="column"?E(I=>I.includes(k.id)?I.filter(A=>A!==k.id):[...I,k.id]):O(I=>I.includes(k.id)?I.filter(A=>A!==k.id):[...I,k.id])},selectedIds:B,className:"w-full sm:w-64"}),u.jsx(yr,{options:ee,selectedIds:$,onToggle:k=>{E(I=>I.includes(k)?I.filter(A=>A!==k):[...I,k])},onClear:()=>E([]),buttonIcon:u.jsx(mo,{className:"h-3.5 w-3.5"})}),u.jsx(yr,{options:z,selectedIds:P,onToggle:k=>{O(I=>I.includes(k)?I.filter(A=>A!==k):[...I,k])},onClear:()=>O([]),buttonLabel:"Players",buttonIcon:u.jsx(Cr,{className:"h-3.5 w-3.5"})}),u.jsx(En,{value:s,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),($.length>0||P.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{E([]),O([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),$.map(k=>{var I;const A=((I=X.find(j=>j.id===k))==null?void 0:I.label)||k;return u.jsxs("button",{type:"button",onClick:()=>E(j=>j.filter(L=>L!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:A}),u.jsx("span",{className:"text-gray-400",children:""})]},k)}),P.map(k=>u.jsxs("button",{type:"button",onClick:()=>O(I=>I.filter(A=>A!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:k}),u.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:U.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No offensive stats match this filter"}):(()=>{var k,I;const A=G=>Math.max(1,(G.totalFightMs||0)/1e3),j=(G,W,_)=>{var te,re,F,ae,H;if(W==="downContributionPercent"){const R=((te=G.offenseTotals)==null?void 0:te.downContribution)||0,oe=((re=G.offenseTotals)==null?void 0:re.damage)||0;return oe>0?R/oe*100:0}if(_.isRate){const R=((F=G.offenseRateWeights)==null?void 0:F[W])||0,oe=((ae=G.offenseTotals)==null?void 0:ae[W])||0;return R>0?oe/R*100:0}return((H=G.offenseTotals)==null?void 0:H[W])||0},L=(G,W)=>{const _=n&&!W.isPercent&&s==="total"?0:2,te=c(G,_);return W.isPercent?`${te}%`:te},q=((k=de.find(G=>G.id===N.columnId))==null?void 0:k.id)||((I=de[0])==null?void 0:I.id)||"",Q=[...e.offensePlayers].filter(G=>P.length===0||P.includes(G.account)).map(G=>{const W={},_={};return de.forEach(te=>{const re=j(G,te.id,te),F=s==="total"||te.isPercent||te.isRate?re:s==="per1s"?re/A(G):re*60/A(G);_[te.id]=F,W[te.id]=L(F,te)}),{row:G,values:W,numericValues:_}}).sort((G,W)=>{const _=G.numericValues[q]??0,te=W.numericValues[q]??0;return(N.dir==="desc"?te-_:_-te)||String(G.row.account||"").localeCompare(String(W.row.account||""))});return u.jsx(go,{title:"Offense - Dense View",subtitle:"Offensive",sortColumnId:q,sortDirection:N.dir,onSortColumn:G=>{M(W=>({columnId:G,dir:W.columnId===G&&W.dir==="desc"?"asc":"desc"}))},columns:de.map(G=>({id:G.id,label:G.label,align:"right",minWidth:90})),rows:Q.map((G,W)=>({id:`${G.row.account}-${W}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:W+1}),d(G.row.profession,G.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:G.row.account})]}),values:G.values}))})})()})]}):u.jsx(As,{expanded:f==="offense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="offense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="offense-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),u.jsx("input",{value:r,onChange:k=>a(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${b} ${f==="offense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:U.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No offensive stats match this filter"}):U.map(k=>u.jsx("button",{onClick:()=>o(k.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===k.id?"bg-rose-500/20 text-rose-200 border-rose-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:k.label},k.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const k=t.find(q=>q.id===i)||t[0],I=q=>Math.max(1,(q.totalFightMs||0)/1e3),A=q=>{var Q,G,W,_,te;if(k.id==="downContributionPercent"){const re=((Q=q.offenseTotals)==null?void 0:Q.downContribution)||0,F=((G=q.offenseTotals)==null?void 0:G.damage)||0;return F>0?re/F*100:0}if(k.isRate){const re=((W=q.offenseRateWeights)==null?void 0:W[k.id])||0,F=((_=q.offenseTotals)==null?void 0:_[k.id])||0;return re>0?F/re*100:0}return((te=q.offenseTotals)==null?void 0:te[k.id])||0},j=q=>{const Q=n&&!k.isPercent&&s==="total"?0:2,G=c(q,Q);return k.isPercent?`${G}%`:G},L=[...e.offensePlayers].map(q=>({...q,total:A(q),per1s:k.isPercent||k.isRate?A(q):A(q)/I(q),per60s:k.isPercent||k.isRate?A(q):A(q)*60/I(q)})).sort((q,Q)=>{const G=S.key==="fightTime"?Number(q.totalFightMs||0):Number(s==="total"?q.total:s==="per1s"?q.per1s:q.per60s),W=S.key==="fightTime"?Number(Q.totalFightMs||0):Number(s==="total"?Q.total:s==="per1s"?Q.per1s:Q.per60s);return(S.dir==="desc"?W-G:G-W)||q.account.localeCompare(Q.account)});return u.jsx(vo,{expanded:f==="offense-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:k.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Offensive"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex items-center justify-end gap-2 px-4 py-2 bg-white/5",children:u.jsx(En,{value:s,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>ie("value"),className:`text-right transition-colors ${S.key==="value"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",S.key==="value"?S.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>ie("fightTime"),className:`text-right transition-colors ${S.key==="fightTime"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",S.key==="fightTime"?S.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:L.map((q,Q)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:Q+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(q.profession,q.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:q.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const G=s==="total"?q.total:s==="per1s"?q.per1s:q.per60s;return j(G)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:q.totalFightMs?`${(q.totalFightMs/1e3).toFixed(1)}s`:"-"})]},`${k.id}-${q.account}-${Q}`))})})})()})})]})},sae=({conditionSummary:e,conditionPlayers:t,conditionSearch:n,setConditionSearch:r,activeConditionName:a,setActiveConditionName:i,conditionDirection:o,setConditionDirection:s,conditionGridClass:l,effectiveConditionSort:c,setConditionSort:d,showConditionDamage:f,renderProfessionIcon:p,expandedSection:m,expandedSectionClosing:h,openExpandedSection:y,closeExpandedSection:x,isSectionVisible:g,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:S})=>{var C;const N=m==="conditions-outgoing",[M,T]=v.useState([]),[$,E]=v.useState([]),[P,O]=v.useState({columnId:"all",dir:"desc"}),U=k=>{if(!k)return 0;if(o!=="outgoing"){const L=Number(k.applicationsFromUptime);return Number.isFinite(L)&&L>0?L:Number(k.applications||0)}const I=Number(k.applicationsFromUptime);if(Number.isFinite(I)&&I>0)return I;const A=Number(k.applicationsFromBuffsActive);if(Number.isFinite(A)&&A>0)return A;const j=Number(k.applicationsFromBuffs);return Number.isFinite(j)&&j>0?j:Number(k.applications||0)},X=[...e||[]].sort((k,I)=>(I.damage||0)-(k.damage||0)),ee=X.filter(k=>k.name.toLowerCase().includes(n.trim().toLowerCase())),de=ee.map(k=>({id:k.name,label:k.name,icon:k.icon?u.jsx("img",{src:k.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),z=M.length>0?X.filter(k=>M.includes(k.name)):X,B=Array.from(new Map((t||[]).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:p(k.profession,k.professionList,"w-3 h-3")})),ie=new Set([...M.map(k=>`column:${k}`),...$.map(k=>`player:${k}`)]);return u.jsxs("div",{id:"conditions-outgoing","data-section-visible":g("conditions-outgoing"),"data-section-first":b("conditions-outgoing"),className:w("conditions-outgoing",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="conditions-outgoing"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(u0,{className:"w-5 h-5 text-amber-300"}),"Conditions"]}),u.jsx("button",{type:"button",onClick:()=>m==="conditions-outgoing"?x():y("conditions-outgoing"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="conditions-outgoing"?"Close Outgoing Conditions":"Expand Outgoing Conditions",title:m==="conditions-outgoing"?"Close":"Expand",children:m==="conditions-outgoing"?u.jsx(Wa,{className:"w-4 h-4"}):u.jsx(oi,{className:"w-4 h-4"})})]}),e&&e.length>0?N?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(yo,{options:[...X.map(k=>({id:k.name,label:k.name,type:"column"})),...B.map(k=>({...k,type:"player"}))],onSelect:k=>{k.type==="column"?T(I=>I.includes(k.id)?I.filter(A=>A!==k.id):[...I,k.id]):E(I=>I.includes(k.id)?I.filter(A=>A!==k.id):[...I,k.id])},selectedIds:ie,className:"w-full sm:w-64"}),u.jsx(yr,{options:de,selectedIds:M,onToggle:k=>{T(I=>I.includes(k)?I.filter(A=>A!==k):[...I,k])},onClear:()=>T([]),buttonIcon:u.jsx(mo,{className:"h-3.5 w-3.5"})}),u.jsx(yr,{options:B,selectedIds:$,onToggle:k=>{E(I=>I.includes(k)?I.filter(A=>A!==k):[...I,k])},onClear:()=>E([]),buttonLabel:"Players",buttonIcon:u.jsx(Cr,{className:"h-3.5 w-3.5"})}),u.jsx(En,{value:o,onChange:s,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),f&&u.jsx(En,{value:c.key,onChange:k=>d({key:k,dir:"desc"}),options:[{value:"applications",label:"Applications"},{value:"damage",label:"Damage"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ee.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No conditions match this filter"}):(()=>{const k=c.key,I=[{id:"all",label:"All Conditions",icon:null},...z],A=(t||[]).filter(q=>$.length===0||$.includes(q.account)).map(q=>{const Q=q.conditions||{},G={},W={};return I.forEach(_=>{if(_.id==="all"||_.name==="All Conditions"){const F=Object.values(Q).reduce((H,R)=>{const oe=U(R);return H.applications+=Number(oe||0),H.damage+=Number((R==null?void 0:R.damage)||0),H},{applications:0,damage:0}),ae=k==="applications"?F.applications:F.damage;W.all=ae||0,G.all=Math.round(ae||0).toLocaleString();return}const te=Q[_.name],re=k==="applications"?U(te):Number((te==null?void 0:te.damage)||0);W[_.name]=Number(re||0),G[_.name]=Math.round(re||0).toLocaleString()}),{player:q,values:G,numericValues:W}}).filter(q=>Object.values(q.values).some(Q=>Q!=="0")),j=["all",...z.map(q=>q.name)].includes(P.columnId)?P.columnId:"all",L=[...A].sort((q,Q)=>{const G=q.numericValues[j]??0,W=Q.numericValues[j]??0;return(P.dir==="desc"?W-G:G-W)||String(q.player.account||"").localeCompare(String(Q.player.account||""))});return u.jsx(go,{title:"Conditions - Dense View",subtitle:k==="applications"?"Applications":"Damage",sortColumnId:j,sortDirection:P.dir,onSortColumn:q=>{O(Q=>({columnId:q,dir:Q.columnId===q&&Q.dir==="desc"?"asc":"desc"}))},columns:[{id:"all",label:"All",align:"right",minWidth:90},...z.map(q=>({id:q.name,label:u.jsx(Mr,{name:q.name,iconUrl:q.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90}))],rows:L.map((q,Q)=>({id:`${q.player.account}-${Q}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:Q+1}),p(q.player.profession,q.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:q.player.account})]}),values:q.values}))})})()}),(M.length>0||$.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{T([]),E([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),M.map(k=>u.jsxs("button",{type:"button",onClick:()=>T(I=>I.filter(A=>A!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:k}),u.jsx("span",{className:"text-gray-400",children:""})]},k)),$.map(k=>u.jsxs("button",{type:"button",onClick:()=>E(I=>I.filter(A=>A!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:k}),u.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}):u.jsx(As,{expanded:m==="conditions-outgoing",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="conditions-outgoing"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="conditions-outgoing"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),u.jsx("input",{value:n,onChange:k=>r(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${S} ${m==="conditions-outgoing"?"max-h-none flex-1 min-h-0":""}`,children:ee.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No conditions match this filter"}):u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:()=>i("all"),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a==="all"?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Conditions"}),ee.map(k=>u.jsx("button",{type:"button",onClick:()=>i(k.name),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===k.name?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Mr,{name:k.name,iconUrl:k.icon,iconClassName:"h-5 w-5"})},k.name))]})})]}),content:u.jsx(vo,{expanded:m==="conditions-outgoing",header:u.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:a==="all"?"All Conditions":u.jsx(Mr,{name:a,iconUrl:(C=e.find(k=>k.name===a))==null?void 0:C.icon,iconClassName:"h-5 w-5"})}),u.jsxs("div",{className:"flex flex-col items-end gap-2 text-right ml-auto mt-2",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Squad Totals"}),u.jsx(En,{value:o,onChange:s,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),columns:u.jsxs("div",{className:`grid ${l} text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2`,children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>{d({key:"applications",dir:c.key==="applications"&&c.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${c.key==="applications"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Applications ",c.key==="applications"?c.dir==="desc"?"":"":""]}),f?u.jsxs("button",{type:"button",onClick:()=>{d({key:"damage",dir:c.key==="damage"&&c.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${c.key==="damage"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage ",c.key==="damage"?c.dir==="desc"?"":"":""]}):null]}),rows:u.jsx(u.Fragment,{children:(()=>{const k=(t||[]).map(I=>{const A=I.conditions||{};if(a==="all"){const L=Object.values(A).reduce((q,Q)=>{const G=U(Q);return q.applications+=Number(G||0),q.damage+=Number((Q==null?void 0:Q.damage)||0),q},{applications:0,damage:0});return{...I,applications:L.applications,damage:L.damage}}const j=A[a];return{...I,applications:U(j),damage:Number((j==null?void 0:j.damage)||0)}}).filter(I=>I.applications>0||I.damage>0).sort((I,A)=>{const j=c.key==="applications"?I.applications||0:I.damage||0,L=c.key==="applications"?A.applications||0:A.damage||0,q=c.dir==="desc"?L-j:j-L;if(q!==0)return q;const Q=c.key==="applications"?(A.damage||0)-(I.damage||0):(A.applications||0)-(I.applications||0);return Q!==0?Q:String(I.account||"").localeCompare(String(A.account||""))});return k.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No condition data available"}):k.map((I,A)=>{var j;const L=I.conditions||{};let q={};a==="all"?Object.values(L).forEach(F=>{const ae=(F==null?void 0:F.skills)||{};Object.values(ae).forEach(H=>{const R=(H==null?void 0:H.name)||"Unknown",oe=Number((H==null?void 0:H.hits)||0),be=Number((H==null?void 0:H.damage)||0);if((!Number.isFinite(oe)||oe<=0)&&(!Number.isFinite(be)||be<=0))return;const et=q[R]||{name:R,hits:0,damage:0,icon:H==null?void 0:H.icon};et.hits+=Number.isFinite(oe)?oe:0,et.damage+=Number.isFinite(be)?be:0,!et.icon&&H!=null&&H.icon&&(et.icon=H.icon),q[R]=et})}):q=((j=L[a])==null?void 0:j.skills)||{};const Q=Object.values(q).filter(F=>Number.isFinite(F.hits)&&F.hits>0).sort((F,ae)=>ae.hits-F.hits||F.name.localeCompare(ae.name)),G=Object.values(q).filter(F=>Number.isFinite(F.damage)&&F.damage>0).sort((F,ae)=>ae.damage-F.damage||F.name.localeCompare(ae.name)),W=a==="all"&&Q.length>0,_=a==="all"&&G.length>0,te=Math.round(I.applications||0).toLocaleString(),re=Math.round(I.damage||0).toLocaleString();return u.jsxs("div",{className:`grid ${l} px-4 py-2 text-sm text-gray-200 border-t border-white/5`,children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:A+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[p(I.profession,I.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:I.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:W?u.jsx(BA,{value:te,label:"Condition Sources",items:Q.map(F=>({name:F.name,iconUrl:F.icon,value:Math.round(F.hits).toLocaleString()})),className:"justify-end"}):te}),f?u.jsx("div",{className:"text-right font-mono text-gray-300",children:_?u.jsx(BA,{value:re,label:"Condition Damage Sources",items:G.map(F=>({name:F.name,iconUrl:F.icon,value:Math.round(F.damage).toLocaleString()})),className:"justify-end"}):re}):null]},`${I.account}-${A}`)})})()})})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No condition data available"})]})},lae=({stats:e,activeBoonCategory:t,setActiveBoonCategory:n,activeBoonMetric:r,setActiveBoonMetric:a,activeBoonTab:i,setActiveBoonTab:o,activeBoonTable:s,filteredBoonTables:l,boonSearch:c,setBoonSearch:d,formatBoonMetricDisplay:f,getBoonMetricValue:p,renderProfessionIcon:m,roundCountStats:h,expandedSection:y,expandedSectionClosing:x,openExpandedSection:g,closeExpandedSection:b,isSectionVisible:w,isFirstVisibleSection:S,sectionClass:C,sidebarListClass:N})=>{const[M,T]=v.useState({key:"value",dir:"desc"}),[$,E]=v.useState({columnId:"",dir:"desc"}),P=y==="boon-output",[O,U]=v.useState([]),[X,ee]=v.useState([]),de=e.boonTables||[],z=O.length>0?de.filter(A=>O.includes(A.id)):de,B=l.map(A=>({id:A.id,label:A.name,icon:A.icon?u.jsx("img",{src:A.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),ie=Array.from(new Map((e.boonTables||[]).flatMap(A=>A.rows||[]).filter(A=>A.account).map(A=>[A.account,A])).values()).map(A=>({id:A.account,label:A.account,icon:m(A.profession,A.professionList,"w-3 h-3")})),k=new Set([...O.map(A=>`column:${A}`),...X.map(A=>`player:${A}`)]),I=A=>{T(j=>({key:A,dir:j.key===A&&j.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"boon-output","data-section-visible":w("boon-output"),"data-section-first":S("boon-output"),className:C("boon-output",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${y==="boon-output"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${x?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(S1,{className:"w-5 h-5 text-cyan-400"}),"Boon Output"]}),u.jsx("button",{type:"button",onClick:()=>y==="boon-output"?b():g("boon-output"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":y==="boon-output"?"Close Boon Output":"Expand Boon Output",title:y==="boon-output"?"Close":"Expand",children:y==="boon-output"?u.jsx(Wa,{className:"w-4 h-4"}):u.jsx(oi,{className:"w-4 h-4"})})]}),e.boonTables.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No boon data available"}):P?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(yo,{options:[...de.map(A=>({id:A.id,label:A.name,type:"column"})),...Array.from(new Map((e.boonTables||[]).flatMap(A=>A.rows||[]).filter(A=>A.account).map(A=>[A.account,A])).values()).map(A=>({id:A.account,label:A.account,type:"player",icon:m(A.profession,A.professionList,"w-3 h-3")}))],onSelect:A=>{A.type==="column"?U(j=>j.includes(A.id)?j.filter(L=>L!==A.id):[...j,A.id]):ee(j=>j.includes(A.id)?j.filter(L=>L!==A.id):[...j,A.id])},selectedIds:k,className:"w-full sm:w-64"}),u.jsx(yr,{options:B,selectedIds:O,onToggle:A=>{U(j=>j.includes(A)?j.filter(L=>L!==A):[...j,A])},onClear:()=>U([]),buttonIcon:u.jsx(mo,{className:"h-3.5 w-3.5"})}),u.jsx(yr,{options:ie,selectedIds:X,onToggle:A=>{ee(j=>j.includes(A)?j.filter(L=>L!==A):[...j,A])},onClear:()=>ee([]),buttonLabel:"Players",buttonIcon:u.jsx(Cr,{className:"h-3.5 w-3.5"})}),u.jsx(En,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(En,{value:r,onChange:a,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(O.length>0||X.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{U([]),ee([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),O.map(A=>{var j;const L=((j=de.find(q=>q.id===A))==null?void 0:j.name)||A;return u.jsxs("button",{type:"button",onClick:()=>U(q=>q.filter(Q=>Q!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:L}),u.jsx("span",{className:"text-gray-400",children:""})]},A)}),X.map(A=>u.jsxs("button",{type:"button",onClick:()=>ee(j=>j.filter(L=>L!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:A}),u.jsx("span",{className:"text-gray-400",children:""})]},A))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:de.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No boons match this filter"}):(()=>{var A,j;const L=z,q=((A=L.find(_=>_.id===$.columnId))==null?void 0:A.id)||(i&&L.some(_=>_.id===i)?i:void 0)||((j=L[0])==null?void 0:j.id)||"",Q=new Map,G=new Map;L.forEach(_=>{const te=new Map;_.rows.forEach(re=>{const F=re.account||re.name||re.id;F&&(te.set(F,re),G.has(F)||G.set(F,re))}),Q.set(_.id,te)});const W=Array.from(G.entries()).filter(([_])=>X.length===0||X.includes(String(_))).map(([_,te])=>{const re={};return L.forEach(F=>{var ae;const H=(ae=Q.get(F.id))==null?void 0:ae.get(_);re[F.id]=H?f(H,t,F.stacking,r,{roundCountStats:h}):"-"}),{key:_,row:te,values:re}}).sort((_,te)=>{var re,F;if(!q)return String(_.key).localeCompare(String(te.key));const ae=L.find(et=>et.id===q),H=ae?(re=Q.get(ae.id))==null?void 0:re.get(_.key):null,R=ae?(F=Q.get(ae.id))==null?void 0:F.get(te.key):null,oe=H?p(H,t,ae==null?void 0:ae.stacking,r):0,be=R?p(R,t,ae==null?void 0:ae.stacking,r):0;return($.dir==="desc"?be-oe:oe-be)||String(_.key).localeCompare(String(te.key))});return u.jsx(go,{title:"Boon Output - Dense View",subtitle:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`,sortColumnId:q,sortDirection:$.dir,onSortColumn:_=>{E(te=>({columnId:_,dir:te.columnId===_&&te.dir==="desc"?"asc":"desc"}))},columns:L.map(_=>({id:_.id,label:u.jsx(Mr,{name:_.name,iconUrl:_.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:W.map((_,te)=>({id:`${_.key}-${te}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:te+1}),m(_.row.profession,_.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:_.row.account||_.row.name||_.key})]}),values:_.values}))})})()})]}):u.jsx(As,{expanded:y==="boon-output",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${y==="boon-output"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${y==="boon-output"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),u.jsx("input",{value:c,onChange:A=>d(A.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${N} ${y==="boon-output"?"max-h-none flex-1 min-h-0":""}`,children:l.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No boons match this filter"}):l.map(A=>u.jsx("button",{onClick:()=>o(A.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===A.id?"bg-blue-500/20 text-blue-200 border-blue-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Mr,{name:A.name,iconUrl:A.icon,iconClassName:"h-3.5 w-3.5"})},A.id))})]}),content:s?u.jsx(vo,{expanded:y==="boon-output",maxHeightClass:"max-h-64",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(Mr,{name:s.name,iconUrl:s.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`})]}),columns:u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-start gap-2 px-4 py-2 bg-white/5",children:[u.jsx(En,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(En,{value:r,onChange:a,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],className:"sm:ml-auto",activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>I("value"),className:`text-right transition-colors ${M.key==="value"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:[r==="total"?"Total":r==="average"?"Gen/Sec":"Uptime",M.key==="value"?M.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>I("fightTime"),className:`text-right transition-colors ${M.key==="fightTime"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",M.key==="fightTime"?M.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:[...s.rows].sort((A,j)=>(()=>{const L=M.key==="fightTime"?Number(A.activeTimeMs||0):p(A,t,s.stacking,r),q=M.key==="fightTime"?Number(j.activeTimeMs||0):p(j,t,s.stacking,r);return(M.dir==="desc"?q-L:L-q)||String(A.account||"").localeCompare(String(j.account||""))})()).map((A,j)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:j+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[m(A.profession,A.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:A.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:f(A,t,s.stacking,r,{roundCountStats:h})}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:A.activeTimeMs?`${(A.activeTimeMs/1e3).toFixed(1)}s`:"-"})]},`${s.id}-${A.account}-${j}`))})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a boon to view details"})})]})},cae=({stats:e,DEFENSE_METRICS:t,defenseSearch:n,setDefenseSearch:r,activeDefenseStat:a,setActiveDefenseStat:i,defenseViewMode:o,setDefenseViewMode:s,roundCountStats:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:p,openExpandedSection:m,closeExpandedSection:h,isSectionVisible:y,isFirstVisibleSection:x,sectionClass:g,sidebarListClass:b})=>{var w;const[S,C]=v.useState({key:"value",dir:"desc"}),[N,M]=v.useState("combined"),[T,$]=v.useState({columnId:((w=t[0])==null?void 0:w.id)||"value",dir:"desc"}),E=f==="defense-detailed",[P,O]=v.useState([]),[U,X]=v.useState([]),ee=t.filter(L=>L.label.toLowerCase().includes(n.trim().toLowerCase())),de=t.map(L=>({id:L.id,label:L.label})),z=de.filter(L=>L.label.toLowerCase().includes(n.trim().toLowerCase())),B=P.length>0?t.filter(L=>P.includes(L.id)):t,ie=Array.from(new Map(e.defensePlayers.map(L=>[L.account,L])).values()).map(L=>({id:L.account,label:L.account,icon:d(L.profession,L.professionList,"w-3 h-3")})),k=new Set([...P.map(L=>`column:${L}`),...U.map(L=>`player:${L}`)]),I=L=>{C(q=>({key:L,dir:q.key===L&&q.dir==="desc"?"asc":"desc"}))},A=L=>L==="minionDamageTaken",j=(L,q)=>q==="combined"?L.map(Q=>({...Q,minionList:Object.entries((Q==null?void 0:Q.minionDamageTakenByMinion)||{}).filter(([,G])=>Number(G||0)>0).sort((G,W)=>Number(W[1]||0)-Number(G[1]||0)).map(([G])=>String(G))})):L.flatMap(Q=>{const G=Object.entries((Q==null?void 0:Q.minionDamageTakenByMinion)||{}).filter(([,W])=>Number(W||0)>0).sort((W,_)=>Number(_[1]||0)-Number(W[1]||0));return G.length===0?[]:G.map(([W,_])=>({...Q,minionName:String(W),defenseTotals:{...Q.defenseTotals||{},minionDamageTaken:Number(_||0)}}))});return u.jsxs("div",{id:"defense-detailed","data-section-visible":y("defense-detailed"),"data-section-first":x("defense-detailed"),className:g("defense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="defense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Du,{className:"w-5 h-5 text-sky-300"}),"Defenses - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>f==="defense-detailed"?h():m("defense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="defense-detailed"?"Close Defense Detailed":"Expand Defense Detailed",title:f==="defense-detailed"?"Close":"Expand",children:f==="defense-detailed"?u.jsx(Wa,{className:"w-4 h-4"}):u.jsx(oi,{className:"w-4 h-4"})})]}),e.defensePlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No defensive stats available"}):E?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(yo,{options:[...de.map(L=>({...L,type:"column"})),...ie.map(L=>({...L,type:"player"}))],onSelect:L=>{L.type==="column"?O(q=>q.includes(L.id)?q.filter(Q=>Q!==L.id):[...q,L.id]):X(q=>q.includes(L.id)?q.filter(Q=>Q!==L.id):[...q,L.id])},selectedIds:k,className:"w-full sm:w-64"}),u.jsx(yr,{options:z,selectedIds:P,onToggle:L=>{O(q=>q.includes(L)?q.filter(Q=>Q!==L):[...q,L])},onClear:()=>O([]),buttonIcon:u.jsx(mo,{className:"h-3.5 w-3.5"})}),u.jsx(yr,{options:ie,selectedIds:U,onToggle:L=>{X(q=>q.includes(L)?q.filter(Q=>Q!==L):[...q,L])},onClear:()=>X([]),buttonLabel:"Players",buttonIcon:u.jsx(Cr,{className:"h-3.5 w-3.5"})}),u.jsx(En,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),B.some(L=>A(L.id))&&u.jsx(En,{value:N,onChange:L=>M(L),options:[{value:"combined",label:"Combined"},{value:"separate",label:"Separate"}],activeClassName:"bg-indigo-500/20 text-indigo-200 border border-indigo-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(P.length>0||U.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{O([]),X([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),P.map(L=>{var q;const Q=((q=de.find(G=>G.id===L))==null?void 0:q.label)||L;return u.jsxs("button",{type:"button",onClick:()=>O(G=>G.filter(W=>W!==L)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Q}),u.jsx("span",{className:"text-gray-400",children:""})]},L)}),U.map(L=>u.jsxs("button",{type:"button",onClick:()=>X(q=>q.filter(Q=>Q!==L)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:L}),u.jsx("span",{className:"text-gray-400",children:""})]},L))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ee.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No defensive stats match this filter"}):(()=>{var L,q;const Q=re=>Math.max(1,(re.activeMs||0)/1e3),G=(re,F)=>{const ae=F.isPercent,H=c(re,l&&!ae&&o==="total"?0:2);return ae?`${H}%`:H},W=((L=B.find(re=>re.id===T.columnId))==null?void 0:L.id)||((q=B[0])==null?void 0:q.id)||"",_=[...e.defensePlayers].filter(re=>U.length===0||U.includes(re.account)),te=[...B.some(re=>A(re.id))?j(_,N):_].map(re=>{const F={},ae={};return B.forEach(H=>{var R;const oe=((R=re.defenseTotals)==null?void 0:R[H.id])||0,be=H.isPercent,et=o==="total"||be?oe:o==="per1s"?oe/Q(re):oe*60/Q(re);ae[H.id]=et,F[H.id]=G(et,H)}),{row:re,values:F,numericValues:ae}}).sort((re,F)=>{const ae=re.numericValues[W]??0,H=F.numericValues[W]??0;return(T.dir==="desc"?H-ae:ae-H)||String(re.row.account||"").localeCompare(String(F.row.account||""))});return u.jsx(go,{title:"Defense - Dense View",subtitle:"Defensive",sortColumnId:W,sortDirection:T.dir,onSortColumn:re=>{$(F=>({columnId:re,dir:F.columnId===re&&F.dir==="desc"?"asc":"desc"}))},columns:B.map(re=>({id:re.id,label:re.label,align:"right",minWidth:90})),rows:te.map((re,F)=>({id:`${re.row.account}-${F}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:F+1}),d(re.row.profession,re.row.professionList,"w-4 h-4"),u.jsxs("span",{className:"min-w-0 flex flex-col",children:[u.jsx("span",{className:"truncate",children:re.row.account}),N==="combined"&&Array.isArray(re.row.minionList)&&re.row.minionList.length>0&&u.jsx("span",{className:"truncate text-[10px] text-gray-500",children:re.row.minionList.join(", ")}),N==="separate"&&re.row.minionName&&u.jsx("span",{className:"truncate text-[10px] text-gray-400",children:re.row.minionName})]})]}),values:re.values}))})})()})]}):u.jsx(As,{expanded:f==="defense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="defense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="defense-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),u.jsx("input",{value:n,onChange:L=>r(L.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${b} ${f==="defense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:ee.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No defensive stats match this filter"}):ee.map(L=>u.jsx("button",{onClick:()=>i(L.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===L.id?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:L.label},L.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const L=t.find(W=>W.id===a)||t[0],q=W=>Math.max(1,(W.activeMs||0)/1e3),Q=[...e.defensePlayers],G=[...A(L.id)?j(Q,N):Q].map(W=>{var _,te,re;return{...W,total:((_=W.defenseTotals)==null?void 0:_[L.id])||0,per1s:(((te=W.defenseTotals)==null?void 0:te[L.id])||0)/q(W),per60s:(((re=W.defenseTotals)==null?void 0:re[L.id])||0)*60/q(W)}}).sort((W,_)=>{const te=S.key==="fightTime"?Number(W.activeMs||0):Number(o==="total"?W.total:o==="per1s"?W.per1s:W.per60s),re=S.key==="fightTime"?Number(_.activeMs||0):Number(o==="total"?_.total:o==="per1s"?_.per1s:_.per60s);return(S.dir==="desc"?re-te:te-re)||W.account.localeCompare(_.account)});return u.jsx(vo,{expanded:f==="defense-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:L.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Defensive"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:`flex items-center px-4 py-2 bg-white/5 ${A(L.id)?"justify-between":"justify-end"}`,children:[A(L.id)&&u.jsx(En,{value:N,onChange:W=>M(W),options:[{value:"combined",label:"Combined"},{value:"separate",label:"Separate"}],activeClassName:"bg-indigo-500/20 text-indigo-200 border border-indigo-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx("div",{className:"flex flex-wrap items-center justify-end gap-2",children:u.jsx(En,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})})]}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>I("value"),className:`text-right transition-colors ${S.key==="value"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",S.key==="value"?S.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>I("fightTime"),className:`text-right transition-colors ${S.key==="fightTime"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",S.key==="fightTime"?S.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:G.map((W,_)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:_+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(W.profession,W.professionList,"w-4 h-4"),u.jsxs("span",{className:"min-w-0 flex flex-col",children:[u.jsx("span",{className:"truncate",children:W.account}),A(L.id)&&N==="combined"&&Array.isArray(W.minionList)&&W.minionList.length>0&&u.jsx("span",{className:"truncate text-[10px] text-gray-500",children:W.minionList.join(", ")}),A(L.id)&&N==="separate"&&W.minionName&&u.jsx("span",{className:"truncate text-[10px] text-gray-400",children:W.minionName})]})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const te=o==="total"?W.total:o==="per1s"?W.per1s:W.per60s;return c(te,l&&o==="total"?0:2)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:W.activeMs?`${(W.activeMs/1e3).toFixed(1)}s`:"-"})]},`${L.id}-${W.account}-${_}`))})})})()})})]})},uae=({stats:e,DAMAGE_MITIGATION_METRICS:t,damageMitigationSearch:n,setDamageMitigationSearch:r,activeDamageMitigationStat:a,setActiveDamageMitigationStat:i,damageMitigationViewMode:o,setDamageMitigationViewMode:s,damageMitigationScope:l,setDamageMitigationScope:c,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:p,expandedSection:m,expandedSectionClosing:h,openExpandedSection:y,closeExpandedSection:x,isSectionVisible:g,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:S})=>{var C,N;const M=((C=t.find(F=>F.id==="totalMitigation"))==null?void 0:C.id)||((N=t[0])==null?void 0:N.id)||"totalMitigation",[T,$]=v.useState({key:"value",dir:"desc"}),[E,P]=v.useState({columnId:M,dir:"desc"}),O=m==="defense-mitigation",[U,X]=v.useState([]),[ee,de]=v.useState([]),[z,B]=v.useState([]),ie=e.damageMitigationPlayers||[],k=e.damageMitigationMinions||[],I=l==="minions"?k:ie,A=ie.length>0||k.length>0,j=t.filter(F=>F.label.toLowerCase().includes(n.trim().toLowerCase())),L=t.map(F=>({id:F.id,label:F.label})),q=L.filter(F=>F.label.toLowerCase().includes(n.trim().toLowerCase())),Q=U.length>0?t.filter(F=>U.includes(F.id)):t,G=Array.from(new Map(I.map(F=>[F.account,F])).values()).map(F=>({id:F.account,label:F.account,icon:p(F.profession,F.professionList,"w-3 h-3")})),W=Array.from(new Map(k.map(F=>[F.minion,F])).values()).filter(F=>F==null?void 0:F.minion).map(F=>({id:String(F.minion),label:String(F.minion)})),_=new Set([...U.map(F=>`column:${F}`),...ee.map(F=>`player:${F}`)]),te=F=>{$(ae=>({key:F,dir:ae.key===F&&ae.dir==="desc"?"asc":"desc"}))},re=F=>f(F,d&&o==="total"?0:2);return u.jsxs("div",{id:"defense-mitigation","data-section-visible":g("defense-mitigation"),"data-section-first":b("defense-mitigation"),className:w("defense-mitigation",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="defense-mitigation"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(N1,{className:"w-5 h-5 text-emerald-300"}),"Defenses - Damage Mitigation"]}),u.jsx("button",{type:"button",onClick:()=>m==="defense-mitigation"?x():y("defense-mitigation"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="defense-mitigation"?"Close Damage Mitigation":"Expand Damage Mitigation",title:m==="defense-mitigation"?"Close":"Expand",children:m==="defense-mitigation"?u.jsx(Wa,{className:"w-4 h-4"}):u.jsx(oi,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"text-xs text-amber-200/80 italic mb-3",children:"Damage mitigation is an estimate based on enemy skill damage averages and avoidance events (block/evade/miss/invuln/interrupted). Use it for relative comparison rather than exact prevention totals."}),A?O?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(yo,{options:[...L.map(F=>({...F,type:"column"})),...G.map(F=>({...F,type:"player"}))],onSelect:F=>{F.type==="column"?X(ae=>ae.includes(F.id)?ae.filter(H=>H!==F.id):[...ae,F.id]):de(ae=>ae.includes(F.id)?ae.filter(H=>H!==F.id):[...ae,F.id])},selectedIds:_,className:"w-full sm:w-64"}),u.jsx(yr,{options:q,selectedIds:U,onToggle:F=>{X(ae=>ae.includes(F)?ae.filter(H=>H!==F):[...ae,F])},onClear:()=>X([]),buttonIcon:u.jsx(mo,{className:"h-3.5 w-3.5"})}),u.jsx(yr,{options:G,selectedIds:ee,onToggle:F=>{de(ae=>ae.includes(F)?ae.filter(H=>H!==F):[...ae,F])},onClear:()=>de([]),buttonLabel:"Players",buttonIcon:u.jsx(Cr,{className:"h-3.5 w-3.5"})}),l==="minions"&&u.jsx(yr,{options:W,selectedIds:z,onToggle:F=>{B(ae=>ae.includes(F)?ae.filter(H=>H!==F):[...ae,F])},onClear:()=>B([]),buttonLabel:"Minions"}),u.jsx(En,{value:l,onChange:c,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(En,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(U.length>0||ee.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{X([]),de([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),U.map(F=>{var ae;const H=((ae=L.find(R=>R.id===F))==null?void 0:ae.label)||F;return u.jsxs("button",{type:"button",onClick:()=>X(R=>R.filter(oe=>oe!==F)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:H}),u.jsx("span",{className:"text-gray-400",children:""})]},F)}),ee.map(F=>u.jsxs("button",{type:"button",onClick:()=>de(ae=>ae.filter(H=>H!==F)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:F}),u.jsx("span",{className:"text-gray-400",children:""})]},F))]}),l==="minions"&&z.length>0&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>B([]),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear Minions"}),z.map(F=>u.jsxs("button",{type:"button",onClick:()=>B(ae=>ae.filter(H=>H!==F)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:F}),u.jsx("span",{className:"text-gray-400",children:""})]},F))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:I.length===0?u.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):j.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No mitigation stats match this filter"}):(()=>{var F,ae;const H=be=>Math.max(1,(be.activeMs||0)/1e3),R=((F=Q.find(be=>be.id===E.columnId))==null?void 0:F.id)||((ae=Q[0])==null?void 0:ae.id)||"",oe=[...I].filter(be=>ee.length===0||ee.includes(be.account)).filter(be=>l!=="minions"||!z.length?!0:z.includes(String(be.minion||""))).map(be=>{const et={},ue={};return Q.forEach(He=>{var Be;const yt=((Be=be.mitigationTotals)==null?void 0:Be[He.id])||0,Xt=o==="total"?yt:o==="per1s"?yt/H(be):yt*60/H(be);ue[He.id]=Xt,et[He.id]=re(Xt)}),{row:be,values:et,numericValues:ue}}).sort((be,et)=>{const ue=be.numericValues[R]??0,He=et.numericValues[R]??0;return(E.dir==="desc"?He-ue:ue-He)||String(be.row.account||"").localeCompare(String(et.row.account||""))});return u.jsx(go,{title:"Damage Mitigation - Dense View",subtitle:"Defensive",sortColumnId:R,sortDirection:E.dir,onSortColumn:be=>{P(et=>({columnId:be,dir:et.columnId===be&&et.dir==="desc"?"asc":"desc"}))},columns:Q.map(be=>({id:be.id,label:be.label,align:"right",minWidth:90})),rows:oe.map((be,et)=>({id:`${be.row.account}-${be.row.minion||"player"}-${et}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:et+1}),p(be.row.profession,be.row.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"truncate",children:be.row.account}),be.row.minion&&u.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:be.row.minion})]})]}),values:be.values}))})})()})]}):u.jsx(As,{expanded:m==="defense-mitigation",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="defense-mitigation"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="defense-mitigation"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),u.jsx("input",{value:n,onChange:F=>r(F.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2 mt-2"}),u.jsx("div",{className:`${S} ${m==="defense-mitigation"?"max-h-none flex-1 min-h-0":""}`,children:j.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No mitigation stats match this filter"}):j.map(F=>u.jsx("button",{onClick:()=>i(F.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===F.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:F.label},F.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const F=t.find(R=>R.id===a)||t[0],ae=R=>Math.max(1,(R.activeMs||0)/1e3),H=[...I].map(R=>{var oe,be,et;return{...R,total:((oe=R.mitigationTotals)==null?void 0:oe[F.id])||0,per1s:(((be=R.mitigationTotals)==null?void 0:be[F.id])||0)/ae(R),per60s:(((et=R.mitigationTotals)==null?void 0:et[F.id])||0)*60/ae(R)}}).filter(R=>l!=="minions"||!z.length?!0:z.includes(String(R.minion||""))).sort((R,oe)=>{const be=T.key==="fightTime"?Number(R.activeMs||0):Number(o==="total"?R.total:o==="per1s"?R.per1s:R.per60s),et=T.key==="fightTime"?Number(oe.activeMs||0):Number(o==="total"?oe.total:o==="per1s"?oe.per1s:oe.per60s);return(T.dir==="desc"?et-be:be-et)||R.account.localeCompare(oe.account)});return u.jsx(vo,{expanded:m==="defense-mitigation",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:F.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Mitigation"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"px-4 py-2 bg-white/5",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(En,{value:l,onChange:c,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx("div",{className:"ml-auto",children:u.jsx(En,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})})]})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>te("value"),className:`text-right transition-colors ${T.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",T.key==="value"?T.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>te("fightTime"),className:`text-right transition-colors ${T.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",T.key==="fightTime"?T.dir==="desc"?" ":" ":""]})]})]}),rows:H.length===0?u.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):u.jsx(u.Fragment,{children:H.map((R,oe)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:oe+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[p(R.profession,R.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"truncate",children:R.account}),R.minion&&u.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:R.minion})]})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const be=o==="total"?R.total:o==="per1s"?R.per1s:R.per60s;return re(be)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:R.activeMs?`${(R.activeMs/1e3).toFixed(1)}s`:"-"})]},`${F.id}-${R.account}-${R.minion||"player"}-${oe}`))})})})()})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No damage mitigation stats available"})]})},dae=({stats:e,SUPPORT_METRICS:t,supportSearch:n,setSupportSearch:r,activeSupportStat:a,setActiveSupportStat:i,supportViewMode:o,setSupportViewMode:s,cleanseScope:l,setCleanseScope:c,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:p,expandedSection:m,expandedSectionClosing:h,openExpandedSection:y,closeExpandedSection:x,isSectionVisible:g,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:S})=>{var C;const[N,M]=v.useState({key:"value",dir:"desc"}),[T,$]=v.useState({columnId:((C=t[0])==null?void 0:C.id)||"value",dir:"desc"}),E=m==="support-detailed",[P,O]=v.useState([]),[U,X]=v.useState([]),ee=t.filter(A=>A.label.toLowerCase().includes(n.trim().toLowerCase())),de=t.map(A=>({id:A.id,label:A.label})),z=de.filter(A=>A.label.toLowerCase().includes(n.trim().toLowerCase())),B=P.length>0?t.filter(A=>P.includes(A.id)):t,ie=Array.from(new Map(e.supportPlayers.map(A=>[A.account,A])).values()).map(A=>({id:A.account,label:A.account,icon:p(A.profession,A.professionList,"w-3 h-3")})),k=new Set([...P.map(A=>`column:${A}`),...U.map(A=>`player:${A}`)]),I=A=>{M(j=>({key:A,dir:j.key===A&&j.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"support-detailed","data-section-visible":g("support-detailed"),"data-section-first":b("support-detailed"),className:w("support-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="support-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(w1,{className:"w-5 h-5 text-emerald-300"}),"Support - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>m==="support-detailed"?x():y("support-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="support-detailed"?"Close Support Detailed":"Expand Support Detailed",title:m==="support-detailed"?"Close":"Expand",children:m==="support-detailed"?u.jsx(Wa,{className:"w-4 h-4"}):u.jsx(oi,{className:"w-4 h-4"})})]}),e.supportPlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No support stats available"}):E?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(yo,{options:[...de.map(A=>({...A,type:"column"})),...ie.map(A=>({...A,type:"player"}))],onSelect:A=>{A.type==="column"?O(j=>j.includes(A.id)?j.filter(L=>L!==A.id):[...j,A.id]):X(j=>j.includes(A.id)?j.filter(L=>L!==A.id):[...j,A.id])},selectedIds:k,className:"w-full sm:w-64"}),u.jsx(yr,{options:z,selectedIds:P,onToggle:A=>{O(j=>j.includes(A)?j.filter(L=>L!==A):[...j,A])},onClear:()=>O([]),buttonIcon:u.jsx(mo,{className:"h-3.5 w-3.5"})}),u.jsx(yr,{options:ie,selectedIds:U,onToggle:A=>{X(j=>j.includes(A)?j.filter(L=>L!==A):[...j,A])},onClear:()=>X([]),buttonLabel:"Players",buttonIcon:u.jsx(Cr,{className:"h-3.5 w-3.5"})}),u.jsx(En,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),a==="condiCleanse"&&u.jsx(En,{value:l,onChange:c,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(P.length>0||U.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{O([]),X([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),P.map(A=>{var j;const L=((j=de.find(q=>q.id===A))==null?void 0:j.label)||A;return u.jsxs("button",{type:"button",onClick:()=>O(q=>q.filter(Q=>Q!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:L}),u.jsx("span",{className:"text-gray-400",children:""})]},A)}),U.map(A=>u.jsxs("button",{type:"button",onClick:()=>X(j=>j.filter(L=>L!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:A}),u.jsx("span",{className:"text-gray-400",children:""})]},A))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ee.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No support stats match this filter"}):(()=>{var A,j;const L=(_,te)=>{var re,F,ae;if(te==="condiCleanse"){const H=((re=_.supportTotals)==null?void 0:re.condiCleanse)||0,R=((F=_.supportTotals)==null?void 0:F.condiCleanseSelf)||0;return l==="all"?H+R:H}return((ae=_.supportTotals)==null?void 0:ae[te])||0},q=_=>Math.max(1,(_.activeMs||0)/1e3),Q=(_,te)=>{const re=_.isTime?1:d&&o==="total"?0:2;return f(te,re)},G=((A=B.find(_=>_.id===T.columnId))==null?void 0:A.id)||((j=B[0])==null?void 0:j.id)||"",W=[...e.supportPlayers].filter(_=>U.length===0||U.includes(_.account)).map(_=>{const te={},re={};return B.forEach(F=>{const ae=L(_,F.id),H=o==="total"?ae:o==="per1s"?ae/q(_):ae*60/q(_);re[F.id]=H,te[F.id]=Q(F,H)}),{row:_,values:te,numericValues:re}}).sort((_,te)=>{const re=_.numericValues[G]??0,F=te.numericValues[G]??0;return(T.dir==="desc"?F-re:re-F)||String(_.row.account||"").localeCompare(String(te.row.account||""))});return u.jsx(go,{title:"Support - Dense View",subtitle:"Support",sortColumnId:G,sortDirection:T.dir,onSortColumn:_=>{$(te=>({columnId:_,dir:te.columnId===_&&te.dir==="desc"?"asc":"desc"}))},columns:B.map(_=>({id:_.id,label:_.label,align:"right",minWidth:90})),rows:W.map((_,te)=>({id:`${_.row.account}-${te}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:te+1}),p(_.row.profession,_.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:_.row.account})]}),values:_.values}))})})()})]}):u.jsx(As,{expanded:m==="support-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="support-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="support-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),u.jsx("input",{value:n,onChange:A=>r(A.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${S} ${m==="support-detailed"?"max-h-none flex-1 min-h-0":""}`,children:ee.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No support stats match this filter"}):ee.map(A=>u.jsx("button",{onClick:()=>i(A.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===A.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:A.label},A.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const A=t.find(Q=>Q.id===a)||t[0],j=Q=>{var G,W,_;if(A.id==="condiCleanse"){const te=((G=Q.supportTotals)==null?void 0:G.condiCleanse)||0,re=((W=Q.supportTotals)==null?void 0:W.condiCleanseSelf)||0;return l==="all"?te+re:te}return((_=Q.supportTotals)==null?void 0:_[A.id])||0},L=Q=>Math.max(1,(Q.activeMs||0)/1e3),q=[...e.supportPlayers].map(Q=>({...Q,total:j(Q),per1s:j(Q)/L(Q),per60s:j(Q)*60/L(Q)})).sort((Q,G)=>{const W=N.key==="fightTime"?Number(Q.activeMs||0):Number(o==="total"?Q.total:o==="per1s"?Q.per1s:Q.per60s),_=N.key==="fightTime"?Number(G.activeMs||0):Number(o==="total"?G.total:o==="per1s"?G.per1s:G.per60s);return(N.dir==="desc"?_-W:W-_)||Q.account.localeCompare(G.account)});return u.jsx(vo,{expanded:m==="support-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:A.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Support"})]}),columns:u.jsxs(u.Fragment,{children:[A.id==="condiCleanse"?u.jsxs("div",{className:"flex flex-wrap items-center gap-2 px-4 py-2 bg-white/5",children:[u.jsx(En,{value:l,onChange:c,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(En,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],className:"sm:ml-auto",activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}):u.jsx("div",{className:"flex flex-wrap items-center justify-start sm:justify-end px-4 py-2 bg-white/5",children:u.jsx(En,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>I("value"),className:`text-right transition-colors ${N.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",N.key==="value"?N.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>I("fightTime"),className:`text-right transition-colors ${N.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",N.key==="fightTime"?N.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:q.map((Q,G)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:G+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[p(Q.profession,Q.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Q.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const W=o==="total"?Q.total:o==="per1s"?Q.per1s:Q.per60s,_=A.isTime?1:d&&o==="total"?0:2;return f(W,_)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:Q.activeMs?`${(Q.activeMs/1e3).toFixed(1)}s`:"-"})]},`${A.id}-${Q.account}-${G}`))})})})()})})]})},fae=({stats:e,HEALING_METRICS:t,activeHealingMetric:n,setActiveHealingMetric:r,healingCategory:a,setHealingCategory:i,activeResUtilitySkill:o,setActiveResUtilitySkill:s,skillUsageData:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:p,openExpandedSection:m,closeExpandedSection:h,isSectionVisible:y,isFirstVisibleSection:x,sectionClass:g})=>{var b;const[w,S]=v.useState({key:"value",dir:"desc"}),[C,N]=v.useState({columnId:((b=t[0])==null?void 0:b.id)||"value",dir:"desc"}),M=f==="healing-stats",[T,$]=v.useState([]),[E,P]=v.useState([]),O=Array.from(new Map(e.healingPlayers.map(z=>[z.account,z])).values()).map(z=>({id:z.account,label:z.account,icon:d(z.profession,z.professionList,"w-3 h-3")})),U=new Set([...E.map(z=>`column:${z}`),...T.map(z=>`player:${z}`)]),X=t.map(z=>({id:z.id,label:z.label})),ee=E.length>0?t.filter(z=>E.includes(z.id)):t,de=z=>{S(B=>({key:z,dir:B.key===z&&B.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"healing-stats","data-section-visible":y("healing-stats"),"data-section-first":x("healing-stats"),className:g("healing-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="healing-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(uD,{className:"w-5 h-5 text-lime-300"}),"Healing Stats"]}),u.jsx("button",{type:"button",onClick:()=>f==="healing-stats"?h():m("healing-stats"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="healing-stats"?"Close Healing Stats":"Expand Healing Stats",title:f==="healing-stats"?"Close":"Expand",children:f==="healing-stats"?u.jsx(Wa,{className:"w-4 h-4"}):u.jsx(oi,{className:"w-4 h-4"})})]}),e.healingPlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No healing stats available"}):M?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(yo,{options:[...X.map(z=>({...z,type:"column"})),...O.map(z=>({...z,type:"player"}))],onSelect:z=>{z.type==="column"?P(B=>B.includes(z.id)?B.filter(ie=>ie!==z.id):[...B,z.id]):$(B=>B.includes(z.id)?B.filter(ie=>ie!==z.id):[...B,z.id])},selectedIds:U,className:"w-full sm:w-64"}),u.jsx(En,{value:a,onChange:i,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(yr,{options:X,selectedIds:E,onToggle:z=>{P(B=>B.includes(z)?B.filter(ie=>ie!==z):[...B,z])},onClear:()=>P([]),buttonIcon:u.jsx(mo,{className:"h-3.5 w-3.5"})}),u.jsx(En,{value:o,onChange:s,options:[{value:"all",label:"All Res Utility"},...(l.resUtilitySkills||[]).map(z=>({value:z.id,label:z.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(yr,{options:O,selectedIds:T,onToggle:z=>{$(B=>B.includes(z)?B.filter(ie=>ie!==z):[...B,z])},onClear:()=>$([]),buttonLabel:"Players",buttonIcon:u.jsx(Cr,{className:"h-3.5 w-3.5"})})]}),(E.length>0||T.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{P([]),$([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),E.map(z=>{var B;const ie=((B=X.find(k=>k.id===z))==null?void 0:B.label)||z;return u.jsxs("button",{type:"button",onClick:()=>P(k=>k.filter(I=>I!==z)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:ie}),u.jsx("span",{className:"text-gray-400",children:""})]},z)}),T.map(z=>u.jsxs("button",{type:"button",onClick:()=>$(B=>B.filter(ie=>ie!==z)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:z}),u.jsx("span",{className:"text-gray-400",children:""})]},z))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:(()=>{var z,B;const ie=j=>Math.max(1,(j.activeMs||0)/1e3),k=j=>{const L=j.baseField==="resUtility",q=L||a==="total"?"":a==="offSquad"?"offSquad":a;return L?o==="all"?"resUtility":`resUtility_${o}`:q?`${q}${j.baseField[0].toUpperCase()}${j.baseField.slice(1)}`:j.baseField},I=[...e.healingPlayers].filter(j=>T.length===0||T.includes(j.account)).filter(j=>Object.values(j.healingTotals||{}).some(L=>Number(L)>0)).map(j=>{const L={},q={};return ee.forEach(Q=>{var G;const W=k(Q),_=Number(((G=j.healingTotals)==null?void 0:G[W])??0),te=Q.perSecond?_/ie(j):_;q[Q.id]=te,L[Q.id]=c(te,Q.decimals)}),{row:j,values:L,numericValues:q}}).sort((j,L)=>{var q,Q;const G=((q=ee.find(te=>te.id===C.columnId))==null?void 0:q.id)||((Q=ee[0])==null?void 0:Q.id)||"",W=j.numericValues[G]??0,_=L.numericValues[G]??0;return(C.dir==="desc"?_-W:W-_)||String(j.row.account||"").localeCompare(String(L.row.account||""))}),A=((z=ee.find(j=>j.id===C.columnId))==null?void 0:z.id)||((B=ee[0])==null?void 0:B.id)||"";return u.jsx(go,{title:"Healing - Dense View",subtitle:"Healing",sortColumnId:A,sortDirection:C.dir,onSortColumn:j=>{N(L=>({columnId:j,dir:L.columnId===j&&L.dir==="desc"?"asc":"desc"}))},columns:ee.map(j=>({id:j.id,label:j.label,align:"right",minWidth:90})),rows:I.map((j,L)=>({id:`${j.row.account}-${L}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:L+1}),d(j.row.profession,j.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:j.row.account})]}),values:j.values}))})})()})]}):u.jsx(As,{expanded:f==="healing-stats",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="healing-stats"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="healing-stats"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),u.jsx("div",{className:"flex-1 overflow-y-auto space-y-1 pr-1",children:t.map(z=>u.jsx("button",{onClick:()=>r(z.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${n===z.id?"bg-lime-500/20 text-lime-200 border-lime-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:z.label},z.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const z=t.find(j=>j.id===n)||t[0],B=z.baseField==="resUtility",ie=j=>Math.max(1,(j.activeMs||0)/1e3),k=B||a==="total"?"":a==="offSquad"?"offSquad":a,I=B?o==="all"?"resUtility":`resUtility_${o}`:k?`${k}${z.baseField[0].toUpperCase()}${z.baseField.slice(1)}`:z.baseField,A=[...e.healingPlayers].filter(j=>Object.values(j.healingTotals||{}).some(L=>Number(L)>0)).map(j=>{var L;const q=Number(((L=j.healingTotals)==null?void 0:L[I])??0),Q=z.perSecond?q/ie(j):q;return{...j,value:Q}}).sort((j,L)=>{const q=w.key==="fightTime"?Number(j.activeMs||0):Number(j.value||0),Q=w.key==="fightTime"?Number(L.activeMs||0):Number(L.value||0);return(w.dir==="desc"?Q-q:q-Q)||j.account.localeCompare(L.account)});return u.jsx(vo,{expanded:f==="healing-stats",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:z.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Healing"})]}),columns:u.jsxs(u.Fragment,{children:[B&&u.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5 flex-wrap",children:u.jsx(En,{value:o,onChange:s,options:[{value:"all",label:"All"},...(l.resUtilitySkills||[]).map(j=>({value:j.id,label:j.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),!B&&u.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5",children:u.jsx(En,{value:a,onChange:i,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>de("value"),className:`text-right transition-colors ${w.key==="value"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:[z.label,w.key==="value"?w.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>de("fightTime"),className:`text-right transition-colors ${w.key==="fightTime"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",w.key==="fightTime"?w.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:A.length===0?u.jsx("div",{className:"px-4 py-6 text-sm text-gray-500 italic",children:"No healing data for this view"}):A.map((j,L)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:L+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(j.profession,j.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:j.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:c(j.value,z.decimals)}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:j.activeMs?`${(j.activeMs/1e3).toFixed(1)}s`:"-"})]},`${z.id}-${j.account}-${L}`))})})})()})})]})},pae=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}`:e:"",mae=({stats:e,specialSearch:t,setSpecialSearch:n,filteredSpecialTables:r,activeSpecialTab:a,setActiveSpecialTab:i,activeSpecialTable:o,formatWithCommas:s,renderProfessionIcon:l,expandedSection:c,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:p,isSectionVisible:m,isFirstVisibleSection:h,sectionClass:y,sidebarListClass:x})=>{const[g,b]=v.useState("total"),[w,S]=v.useState("desc"),[C,N]=v.useState({columnId:"",dir:"desc"}),M=c==="special-buffs",[T,$]=v.useState([]),[E,P]=v.useState([]),O=e.specialTables||[],U=T.length>0?O.filter(k=>T.includes(k.id)):O,X=r.map(k=>({id:k.id,label:k.name,icon:k.icon?u.jsx("img",{src:k.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),ee=Array.from(new Map((e.specialTables||[]).flatMap(k=>k.rows||[]).filter(k=>k.account).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:l(k.profession,k.professionList,"w-3 h-3")})),de=new Set([...T.map(k=>`column:${k}`),...E.map(k=>`player:${k}`)]),z=v.useMemo(()=>{if(!(o!=null&&o.rows))return[];const k=[...o.rows];return k.sort((I,A)=>{const j=Number((I==null?void 0:I[g])??0),L=Number((A==null?void 0:A[g])??0),q=w==="desc"?L-j:j-L;return q!==0?q:String((I==null?void 0:I.account)||"").localeCompare(String((A==null?void 0:A.account)||""))}),k},[o,g,w]),B=k=>{if(g===k){S(I=>I==="desc"?"asc":"desc");return}b(k),S("desc")},ie=k=>g!==k?"":w==="desc"?" ":" ";return u.jsxs("div",{id:"special-buffs","data-section-visible":m("special-buffs"),"data-section-first":h("special-buffs"),className:y("special-buffs",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${c==="special-buffs"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(d0,{className:"w-5 h-5 text-purple-300"}),"Special Buffs"]}),u.jsx("button",{type:"button",onClick:()=>c==="special-buffs"?p():f("special-buffs"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":c==="special-buffs"?"Close Special Buffs":"Expand Special Buffs",title:c==="special-buffs"?"Close":"Expand",children:c==="special-buffs"?u.jsx(Wa,{className:"w-4 h-4"}):u.jsx(oi,{className:"w-4 h-4"})})]}),e.specialTables.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No special buff data available"}):M?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(yo,{options:[...O.map(k=>({id:k.id,label:k.name,type:"column"})),...Array.from(new Map((e.specialTables||[]).flatMap(k=>k.rows||[]).filter(k=>k.account).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,type:"player",icon:l(k.profession,k.professionList,"w-3 h-3")}))],onSelect:k=>{k.type==="column"?$(I=>I.includes(k.id)?I.filter(A=>A!==k.id):[...I,k.id]):P(I=>I.includes(k.id)?I.filter(A=>A!==k.id):[...I,k.id])},selectedIds:de,className:"w-full sm:w-64"}),u.jsx(yr,{options:X,selectedIds:T,onToggle:k=>{$(I=>I.includes(k)?I.filter(A=>A!==k):[...I,k])},onClear:()=>$([]),buttonIcon:u.jsx(mo,{className:"h-3.5 w-3.5"})}),u.jsx(yr,{options:ee,selectedIds:E,onToggle:k=>{P(I=>I.includes(k)?I.filter(A=>A!==k):[...I,k])},onClear:()=>P([]),buttonLabel:"Players",buttonIcon:u.jsx(Cr,{className:"h-3.5 w-3.5"})}),u.jsx(En,{value:g,onChange:k=>b(k),options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"},{value:"duration",label:"Fight Time"}],activeClassName:"bg-purple-500/20 text-purple-200 border border-purple-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(T.length>0||E.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{$([]),P([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),T.map(k=>{var I;const A=((I=O.find(j=>j.id===k))==null?void 0:I.name)||k;return u.jsxs("button",{type:"button",onClick:()=>$(j=>j.filter(L=>L!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:A}),u.jsx("span",{className:"text-gray-400",children:""})]},k)}),E.map(k=>u.jsxs("button",{type:"button",onClick:()=>P(I=>I.filter(A=>A!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:k}),u.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:O.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No special buffs match this filter"}):(()=>{var k,I;const A=U,j=new Map,L=new Map;A.forEach(W=>{const _=new Map;W.rows.forEach(te=>{const re=te.account||te.name||te.id;re&&(_.set(re,te),L.has(re)||L.set(re,te))}),j.set(W.id,_)});const q=Array.from(L.entries()).filter(([W])=>E.length===0||E.includes(String(W))).map(([W,_])=>{const te={},re={};return A.forEach(F=>{var ae;const H=(ae=j.get(F.id))==null?void 0:ae.get(W);if(!H){te[F.id]="-",re[F.id]=0;return}if(g==="duration"){te[F.id]=H.duration?`${H.duration.toFixed(1)}s`:"-",re[F.id]=Number(H.duration||0);return}const R=g==="total"?H.total:H.perSecond,oe=g==="total"?0:1;re[F.id]=Number(R||0),te[F.id]=s(R||0,oe)}),{key:W,row:_,values:te,numericValues:re}}),Q=((k=A.find(W=>W.id===C.columnId))==null?void 0:k.id)||(a&&A.some(W=>W.id===a)?a:void 0)||((I=A[0])==null?void 0:I.id)||"",G=[...q].sort((W,_)=>{if(!Q)return String(W.key).localeCompare(String(_.key));const te=W.numericValues[Q]??0,re=_.numericValues[Q]??0;return(C.dir==="desc"?re-te:te-re)||String(W.key).localeCompare(String(_.key))});return u.jsx(go,{title:"Special Buffs - Dense View",subtitle:"Totals",sortColumnId:Q,sortDirection:C.dir,onSortColumn:W=>{N(_=>({columnId:W,dir:_.columnId===W&&_.dir==="desc"?"asc":"desc"}))},columns:A.map(W=>({id:W.id,label:u.jsx(Mr,{name:W.name,iconUrl:W.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:G.map((W,_)=>({id:`${W.key}-${_}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:_+1}),l(W.row.profession,W.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:W.row.account||W.row.name||W.key})]}),values:W.values}))})})()})]}):u.jsx(As,{expanded:c==="special-buffs",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${c==="special-buffs"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${c==="special-buffs"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),u.jsx("input",{value:t,onChange:k=>n(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${x} ${c==="special-buffs"?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No special buffs match this filter"}):r.map(k=>u.jsx("button",{onClick:()=>i(k.id),title:k.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===k.id?"bg-purple-500/20 text-purple-200 border-purple-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Mr,{name:pae(k.name),iconUrl:k.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},k.id))})]}),content:u.jsx(u.Fragment,{children:o?u.jsx(vo,{expanded:c==="special-buffs",maxHeightClass:"max-h-64",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(Mr,{name:o.name,iconUrl:o.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Totals"})]}),columns:u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>B("total"),className:`text-right transition-colors ${g==="total"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Total",ie("total")]}),u.jsxs("button",{type:"button",onClick:()=>B("perSecond"),className:`text-right transition-colors ${g==="perSecond"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Per Sec",ie("perSecond")]}),u.jsxs("button",{type:"button",onClick:()=>B("duration"),className:`text-right transition-colors ${g==="duration"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",ie("duration")]})]}),rows:u.jsx(u.Fragment,{children:z.map((k,I)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:I+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(k.profession,k.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:k.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:Math.round(k.total).toLocaleString()}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:s(k.perSecond,1)}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:k.duration?`${k.duration.toFixed(1)}s`:"-"})]},`${o.id}-${k.account}-${I}`))})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a special buff to view details"})})})]})},hae=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}...`:e:"",gae=({hasSigilRelicTables:e,sigilRelicSearch:t,setSigilRelicSearch:n,filteredSigilRelicTables:r,activeSigilRelicTab:a,setActiveSigilRelicTab:i,activeSigilRelicTable:o,formatWithCommas:s,renderProfessionIcon:l,expandedSection:c,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:p,isSectionVisible:m,isFirstVisibleSection:h,sectionClass:y,sidebarListClass:x})=>{const[g,b]=v.useState("desc"),w=c==="sigil-relic-uptime",S=v.useMemo(()=>{if(!(o!=null&&o.rows))return[];const C=[...o.rows];return C.sort((N,M)=>{const T=Number((N==null?void 0:N.uptimePerSecond)??(N==null?void 0:N.perSecond)??0),$=Number((M==null?void 0:M.uptimePerSecond)??(M==null?void 0:M.perSecond)??0),E=g==="desc"?$-T:T-$;return E!==0?E:String((N==null?void 0:N.account)||"").localeCompare(String((M==null?void 0:M.account)||""))}),C},[o,g]);return u.jsxs("div",{id:"sigil-relic-uptime","data-section-visible":m("sigil-relic-uptime"),"data-section-first":h("sigil-relic-uptime"),className:y("sigil-relic-uptime",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${c==="sigil-relic-uptime"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(j1,{className:"w-5 h-5 text-fuchsia-300"}),"Sigil/Relic Uptime"]}),u.jsx("button",{type:"button",onClick:()=>c==="sigil-relic-uptime"?p():f("sigil-relic-uptime"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":c==="sigil-relic-uptime"?"Close Sigil/Relic Uptime":"Expand Sigil/Relic Uptime",title:c==="sigil-relic-uptime"?"Close":"Expand",children:c==="sigil-relic-uptime"?u.jsx(Wa,{className:"w-4 h-4"}):u.jsx(oi,{className:"w-4 h-4"})})]}),e?u.jsx(As,{expanded:w,sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${w?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${w?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Sigil/Relic"}),u.jsx("input",{value:t,onChange:C=>n(C.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${x} ${w?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No sigil/relic entries match this filter"}):r.map(C=>u.jsx("button",{onClick:()=>i(C.id),title:C.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===C.id?"bg-fuchsia-500/20 text-fuchsia-200 border-fuchsia-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Mr,{name:hae(C.name),iconUrl:C.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},C.id))})]}),content:u.jsx(u.Fragment,{children:o?u.jsx(vo,{expanded:w,maxHeightClass:"max-h-72",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(Mr,{name:o.name,iconUrl:o.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Uptime"})]}),columns:u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>b(C=>C==="desc"?"asc":"desc"),className:"text-right transition-colors text-gray-400 hover:text-gray-200",children:["Uptime ",g==="desc"?"":""]})]}),rows:u.jsx(u.Fragment,{children:S.map((C,N)=>{const M=Number(C.uptimePerSecond??C.perSecond??0)*100;return u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:N+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(C.profession,C.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:C.account})]}),u.jsxs("div",{className:"text-right font-mono text-gray-300",children:[s(M,1),"%"]})]},`${o.id}-${C.account}-${N}`)})})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a sigil/relic to view uptime"})})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No sigil/relic uptime data available"})]})},yae=({stats:e,formatWithCommas:t,expandedSection:n,expandedSectionClosing:r,openExpandedSection:a,closeExpandedSection:i,isSectionVisible:o,isFirstVisibleSection:s,sectionClass:l})=>{const c=Array.isArray(e==null?void 0:e.fightDiffMode)?e.fightDiffMode:[],d=!Array.isArray(e==null?void 0:e.fightDiffMode)&&Array.isArray(e==null?void 0:e.fightBreakdown)&&e.fightBreakdown.length>0,[f,p]=v.useState(""),[m,h]=v.useState(""),[y,x]=v.useState(null);v.useEffect(()=>{var P,O,U;if(c.length===0){p(""),h("");return}const X=String(((P=c[0])==null?void 0:P.id)||""),ee=String(((O=c[1])==null?void 0:O.id)||((U=c[0])==null?void 0:U.id)||"");p(de=>de&&c.some(z=>String(z.id)===de)?de:X),h(de=>de&&c.some(z=>String(z.id)===de)?de:ee)},[c]);const g=v.useMemo(()=>c.find(P=>String(P.id)===String(f))||null,[c,f]),b=v.useMemo(()=>c.find(P=>String(P.id)===String(m))||null,[c,m]),w=v.useMemo(()=>{if(!g||!b)return[];const P=new Map,O=(U,X,ee,de)=>{const z=String(U||"Unknown"),B=P.get(z)||{label:z,aDamage:0,aShare:0,bDamage:0,bShare:0};X==="a"?(B.aDamage=Number(ee||0),B.aShare=Number(de||0)):(B.bDamage=Number(ee||0),B.bShare=Number(de||0)),P.set(z,B)};return(g.targetFocus||[]).forEach(U=>O(U.label,"a",U.damage,U.share)),(b.targetFocus||[]).forEach(U=>O(U.label,"b",U.damage,U.share)),Array.from(P.values()).map(U=>({...U,shareDelta:U.bShare-U.aShare})).sort((U,X)=>Math.abs(X.shareDelta)-Math.abs(U.shareDelta)||X.bDamage+X.aDamage-(U.bDamage+U.aDamage))},[g,b]),S=v.useMemo(()=>{if(!y)return w;const P=y.direction==="asc"?1:-1,O=y.key;return[...w].sort((U,X)=>{const ee=(Number(U[O])-Number(X[O]))*P;return ee!==0?ee:U.label.localeCompare(X.label)})},[w,y]),C=v.useMemo(()=>{if(!g||!b)return[];const P=new Map((g.squadMetrics||[]).map(U=>[U.metricId,U])),O=new Map((b.squadMetrics||[]).map(U=>[U.metricId,U]));return Array.from(new Set([...P.keys(),...O.keys()])).map(U=>{const X=P.get(U),ee=O.get(U),de=!!((X==null?void 0:X.higherIsBetter)??(ee==null?void 0:ee.higherIsBetter)??!0),z=Number((X==null?void 0:X.value)||0),B=Number((ee==null?void 0:ee.value)||0);return{metricId:U,metricLabel:String((X==null?void 0:X.metricLabel)||(ee==null?void 0:ee.metricLabel)||U),higherIsBetter:de,a:X,b:ee,delta:B-z}})},[g,b]),N=P=>`${t((Number(P)||0)*100,1)}%`,M=P=>P==="squadKdr"?2:0,T=P=>{x(O=>!O||O.key!==P?{key:P,direction:"desc"}:{key:P,direction:O.direction==="desc"?"asc":"desc"})},$=P=>(y==null?void 0:y.key)===P?y.direction==="desc"?" ":" ":"",E=P=>`fight-diff-sort-button transition-colors whitespace-nowrap ${(y==null?void 0:y.key)===P?"text-indigo-200":"text-gray-400 hover:text-gray-200"}`;return u.jsxs("div",{id:"fight-diff-mode","data-section-visible":o("fight-diff-mode"),"data-section-first":s("fight-diff-mode"),className:l("fight-diff-mode",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${n==="fight-diff-mode"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${r?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(y1,{className:"w-5 h-5 text-indigo-300"}),"Fight Comparison"]}),u.jsx("button",{type:"button",onClick:()=>n==="fight-diff-mode"?i():a("fight-diff-mode"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":n==="fight-diff-mode"?"Close Fight Comparison":"Expand Fight Comparison",title:n==="fight-diff-mode"?"Close":"Expand",children:n==="fight-diff-mode"?u.jsx(Wa,{className:"w-4 h-4"}):u.jsx(oi,{className:"w-4 h-4"})})]}),d?u.jsxs("div",{className:"text-center text-gray-400 py-8 space-y-1",children:[u.jsx("div",{className:"font-semibold text-gray-200",children:"Fight Comparison data is missing in this dataset."}),u.jsx("div",{className:"text-sm text-gray-500",children:"Regenerate the stats/report with a build that includes Fight Comparison."})]}):c.length<2?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"Need at least two fights to compare."}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[u.jsxs("label",{className:"text-xs uppercase tracking-widest text-gray-400",children:["Fight A",u.jsx("select",{className:"fight-diff-select mt-2 w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-100 focus:outline-none",value:f,onChange:P=>p(P.target.value),children:c.map(P=>u.jsxs("option",{value:P.id,children:[P.shortLabel," - ",P.fullLabel]},`fight-a-${P.id}`))})]}),u.jsxs("label",{className:"text-xs uppercase tracking-widest text-gray-400",children:["Fight B",u.jsx("select",{className:"fight-diff-select mt-2 w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-100 focus:outline-none",value:m,onChange:P=>h(P.target.value),children:c.map(P=>u.jsxs("option",{value:P.id,children:[P.shortLabel," - ",P.fullLabel]},`fight-b-${P.id}`))})]})]}),u.jsxs("div",{className:"bg-indigo-500/10 border border-indigo-300/20 rounded-xl px-4 py-3 text-xs text-indigo-100/90 space-y-1",children:[u.jsx("div",{className:"uppercase tracking-widest text-[10px] text-indigo-200/80",children:"How Target Focus Works"}),u.jsxs("div",{children:["Target focus compares how your squad distributed damage ",u.jsx("span",{className:"font-semibold",children:"to"})," enemy professions between two fights (it is not damage ",u.jsx("span",{className:"font-semibold",children:"from"})," those professions)."]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold",children:"Share"})," is the percent of your squad's total enemy-player damage that landed on that profession in that fight.",u.jsx("span",{className:"font-semibold",children:" Share Delta"})," is ",u.jsx("span",{className:"font-semibold",children:"Fight B - Fight A"}),"."]})]}),u.jsx("div",{className:"stats-table-layout__content bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:u.jsx(vo,{expanded:n==="fight-diff-mode",maxHeightClass:"max-h-96",header:u.jsx("div",{className:"bg-white/5 px-4 py-3 text-xs uppercase tracking-widest text-gray-400",children:"Target Focus Comparison"}),columns:w.length>0?u.jsx("div",{className:"bg-white/5 overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[700px] table-fixed text-xs",children:[u.jsxs("colgroup",{children:[u.jsx("col",{className:"w-[220px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"})]}),u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-left py-2 px-3",children:"Target"}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:E("aDamage"),onClick:()=>T("aDamage"),children:[g==null?void 0:g.shortLabel," Damage",$("aDamage")]})}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:E("aShare"),onClick:()=>T("aShare"),children:[g==null?void 0:g.shortLabel," Share",$("aShare")]})}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:E("bDamage"),onClick:()=>T("bDamage"),children:[b==null?void 0:b.shortLabel," Damage",$("bDamage")]})}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:E("bShare"),onClick:()=>T("bShare"),children:[b==null?void 0:b.shortLabel," Share",$("bShare")]})}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:E("shareDelta"),onClick:()=>T("shareDelta"),children:["Share Delta",$("shareDelta")]})})]})})]})}):null,rows:w.length>0?u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[700px] table-fixed text-xs",children:[u.jsxs("colgroup",{children:[u.jsx("col",{className:"w-[220px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"})]}),u.jsx("tbody",{children:S.map(P=>u.jsxs("tr",{className:"border-t border-white/5",children:[u.jsx("td",{className:"py-2 px-3 text-gray-200",children:P.label}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(P.aDamage,0)}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-300",children:N(P.aShare)}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(P.bDamage,0)}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-300",children:N(P.bShare)}),u.jsxs("td",{className:`py-2 px-3 text-right font-mono ${P.shareDelta>=0?"text-emerald-300":"text-red-300"}`,children:[P.shareDelta>=0?"+":"",N(P.shareDelta)]})]},`focus-${P.label}`))})]})}):u.jsxs("div",{className:"px-4 py-8 text-center text-gray-400 text-sm space-y-1",children:[u.jsx("div",{className:"italic",children:"No target focus data for selected fights."}),u.jsx("div",{className:"text-xs text-gray-500",children:"Usually this means the fights were uploaded without Detailed WvW enemy slices, or the report was generated from an older build."})]})})}),u.jsx("div",{className:"stats-table-layout__content bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:u.jsx(vo,{expanded:n==="fight-diff-mode",maxHeightClass:"max-h-none",header:u.jsx("div",{className:"bg-white/5 px-4 py-3 text-xs uppercase tracking-widest text-gray-400",children:"Squad Metric Comparison"}),columns:C.length>0?u.jsx("div",{className:"bg-white/5 overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[680px] table-fixed text-xs",children:[u.jsxs("colgroup",{children:[u.jsx("col",{className:"w-[320px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"})]}),u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-left py-2 px-3",children:"Metric"}),u.jsxs("th",{className:"text-right py-2 px-3",children:[g==null?void 0:g.shortLabel," Value"]}),u.jsxs("th",{className:"text-right py-2 px-3",children:[b==null?void 0:b.shortLabel," Value"]}),u.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})})]})}):null,rows:C.length>0?u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[680px] table-fixed text-xs",children:[u.jsxs("colgroup",{children:[u.jsx("col",{className:"w-[320px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"})]}),u.jsx("tbody",{children:C.map(P=>{var O,U;const X=P.higherIsBetter?P.delta>=0:P.delta<=0,ee=M(P.metricId);return u.jsxs("tr",{className:"border-t border-white/5",children:[u.jsx("td",{className:"py-2 px-3 text-gray-200",children:P.metricLabel}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(Number(((O=P.a)==null?void 0:O.value)||0),ee)}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(Number(((U=P.b)==null?void 0:U.value)||0),ee)}),u.jsxs("td",{className:`py-2 px-3 text-right font-mono ${X?"text-emerald-300":"text-red-300"}`,children:[P.delta>0?"+":"",t(P.delta,ee)]})]},`performer-${P.metricId}`)})})]})}):u.jsx("div",{className:"px-4 py-8 text-center text-gray-500 italic text-sm",children:"No squad metric data for selected fights."})})})]})]})},vae=({stats:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>u.jsxs(u.Fragment,{children:[u.jsx("div",{id:"kdr",className:"scroll-mt-24"}),u.jsxs("div",{id:"overview","data-section-visible":t("overview"),"data-section-first":n("overview"),className:r("overview","grid grid-cols-1 md:grid-cols-2 gap-4 scroll-mt-24"),children:[u.jsx("div",{className:"overview-card overview-card--green bg-gradient-to-br from-green-500/20 to-emerald-900/20 border border-green-500/30 rounded-2xl px-5 py-4",children:u.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.avgSquadSize}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Avg Squad"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-black text-green-300 leading-none",children:e.wins}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/50 mt-1",children:"Victories"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.squadKDR}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Squad KDR"})]})]})}),u.jsx("div",{className:"overview-card overview-card--red bg-gradient-to-br from-red-500/20 to-rose-900/20 border border-red-500/30 rounded-2xl px-5 py-4",children:u.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.avgEnemies}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Avg Enemies"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-black text-red-300 leading-none",children:e.losses}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/50 mt-1",children:"Defeats"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.enemyKDR}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Enemy KDR"})]})]})})]})]}),bae=({stats:e,fightBreakdownTab:t,setFightBreakdownTab:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>{var o;const s=v.useMemo(()=>{const c=new Map;return(Array.isArray(e==null?void 0:e.fightBreakdown)?e.fightBreakdown:[]).forEach(d=>{(Array.isArray(d==null?void 0:d.teamBreakdown)?d.teamBreakdown:[]).forEach(f=>{const p=String((f==null?void 0:f.teamId)??"").trim(),m=Number((f==null?void 0:f.count)||0);!p||!Number.isFinite(m)||m<=0||c.set(p,(c.get(p)||0)+m)})}),Array.from(c.entries()).sort((d,f)=>{const p=f[1]-d[1];return p!==0?p:d[0].localeCompare(f[0],void 0,{numeric:!0})}).map(([d])=>d)},[e==null?void 0:e.fightBreakdown]),l=c=>{const d=c==null?void 0:c.timestamp;let f=0;if(typeof d=="number")f=d>1e12?d:d*1e3;else if(typeof d=="string"&&d.trim()){const y=Number(d);if(Number.isFinite(y)&&y>0)f=y>1e12?y:y*1e3;else{const x=Date.parse(d);Number.isFinite(x)&&x>0&&(f=x)}}const p=f>0?new Date(f).toLocaleDateString(void 0,{month:"2-digit",day:"2-digit"})+" "+new Date(f).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"}):"--",m=(c==null?void 0:c.mapName)||(c==null?void 0:c.map)||"Unknown Map",h=String(m).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim();return`${p}  ${h}`};return u.jsx("div",{id:"fight-breakdown","data-section-visible":r("fight-breakdown"),"data-section-first":a("fight-breakdown"),className:i("fight-breakdown","mt-6 stats-share-exclude"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:items-center sm:justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-200",children:"Fight Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(En,{value:t,onChange:n,options:[{value:"sizes",label:"Sizes"},{value:"outcomes",label:"Outcome"},{value:"damage",label:"Damage"},{value:"barrier",label:"Barrier"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsxs("span",{className:"text-[10px] uppercase tracking-widest text-gray-500 sm:ml-1 w-full sm:w-auto",children:[((o=e.fightBreakdown)==null?void 0:o.length)||0," Fights"]})]})]}),(e.fightBreakdown||[]).length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight data available"}):u.jsx("div",{className:"overflow-x-auto",children:u.jsx("div",{className:"max-h-[360px] overflow-y-auto",children:u.jsxs("table",{className:"w-full text-xs table-auto min-w-[720px]",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-right py-2 px-2 w-8",children:"#"}),u.jsx("th",{className:"text-left py-2 px-3 w-[240px]",children:"Report"}),u.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Duration"}),u.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Outcome"}),t==="sizes"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Squad"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemies"}),s.length===0?u.jsx("th",{className:"text-right py-2 px-3",children:"Teams"}):s.map(c=>u.jsx("th",{className:"text-right py-2 px-3",children:`Team ${c}`},c))]}),t==="outcomes"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Down"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Dead"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Revived"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Rallies"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Downs"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Deaths"})]}),t==="damage"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Outgoing Dmg"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Incoming Dmg"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]}),t==="barrier"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",title:"Incoming damage mitigated by your squad's barrier",children:"Barrier Absorption"}),u.jsx("th",{className:"text-right py-2 px-3",title:"Outgoing damage mitigated by enemy barrier",children:"Enemy Barrier Absorption"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})]})}),u.jsx("tbody",{children:(e.fightBreakdown||[]).map((c,d)=>u.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[u.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-500 w-8",children:d+1}),u.jsx("td",{className:"py-2 px-3 w-[240px]",children:c.permalink?u.jsx("button",{onClick:()=>{var f;c.permalink&&(f=window.electronAPI)!=null&&f.openExternal?window.electronAPI.openExternal(c.permalink):c.permalink&&window.open(c.permalink,"_blank")},className:"text-cyan-300 hover:text-cyan-200 underline underline-offset-2 block truncate",children:l(c)}):u.jsx("span",{className:"text-gray-500",children:"Pending"})}),u.jsx("td",{className:"py-2 px-3 text-gray-200 w-20",children:c.duration||"--:--"}),u.jsx("td",{className:`py-2 px-3 font-semibold ${c.isWin?"text-emerald-300":"text-red-300"}`,children:c.isWin?"Win":"Loss"}),t==="sizes"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(Cv,{count:c.squadCount??0,classCounts:c.squadClassCountsFight,label:"Squad Classes",className:"text-gray-200"})}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(Cv,{count:c.allyCount??0,classCounts:c.allyClassCountsFight,label:"Ally Classes",className:"text-gray-200"})}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(Cv,{count:c.enemyCount??0,classCounts:c.enemyClassCounts,label:"Enemy Classes",className:"text-gray-200"})}),s.length===0?u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:"0"}):s.map(f=>{const p=(Array.isArray(c.teamBreakdown)?c.teamBreakdown:[]).find(m=>String((m==null?void 0:m.teamId)??"")===f);return u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:Number((p==null?void 0:p.count)||0)},f)})]}),t==="outcomes"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesDown??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesDead??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesRevived??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.rallies??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.enemyDowns??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.enemyDeaths??0})]}),t==="damage"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.totalOutgoingDamage||0).toLocaleString()}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.totalIncomingDamage||0).toLocaleString()}),(()=>{const f=Number((c.totalOutgoingDamage||0)-(c.totalIncomingDamage||0));return u.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-red-300":"text-emerald-300"}`,children:f.toLocaleString()})})()]}),t==="barrier"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.incomingBarrierAbsorbed||0).toLocaleString()}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.outgoingBarrierAbsorbed||0).toLocaleString()}),(()=>{const f=Number((c.outgoingBarrierAbsorbed||0)-(c.incomingBarrierAbsorbed||0));return u.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-emerald-300":"text-red-300"}`,children:f.toLocaleString()})})()]})]},c.id||`${c.label}-${d}`))})]})})})]})})},zA={red:{bg:"bg-red-500/20",text:"text-red-400"},yellow:{bg:"bg-yellow-500/20",text:"text-yellow-400"},green:{bg:"bg-green-500/20",text:"text-green-400"},purple:{bg:"bg-purple-500/20",text:"text-purple-400"},blue:{bg:"bg-blue-500/20",text:"text-blue-400"},pink:{bg:"bg-pink-500/20",text:"text-pink-400"},cyan:{bg:"bg-cyan-500/20",text:"text-cyan-400"},indigo:{bg:"bg-indigo-500/20",text:"text-indigo-400"}},xae=({icon:e,title:t,data:n,color:r,unit:a="",onClick:i,active:o,rows:s,formatValue:l,renderProfessionIcon:c})=>{const d=zA[r]||zA.blue,f=(n==null?void 0:n.value)??0,p=l?l(f):Math.round(f).toLocaleString();return u.jsxs("div",{role:"button",tabIndex:0,onClick:i,onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),i==null||i())},className:`bg-white/5 border border-white/10 rounded-xl p-4 flex flex-col gap-3 group hover:bg-white/10 transition-colors cursor-pointer ${o?"ring-1 ring-white/20":""}`,children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:`p-3 rounded-lg ${d.bg} ${d.text} shrink-0`,children:u.jsx(e,{className:"w-6 h-6"})}),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("div",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider truncate",children:t}),u.jsxs("div",{className:"text-2xl font-bold text-white mt-0.5 break-words",children:[p," ",u.jsx("span",{className:"text-sm font-normal text-gray-500",children:a})]})]})]}),u.jsxs("div",{className:"flex flex-col border-t border-white/5 pt-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c((n==null?void 0:n.profession)||"Unknown",n==null?void 0:n.professionList,"w-4 h-4"),u.jsx("div",{className:"text-sm font-medium text-blue-300 truncate",children:(n==null?void 0:n.player)||"-"})]}),u.jsx("div",{className:"text-xs text-gray-500 truncate",children:n!=null&&n.count?`${n.count} logs`:"-"})]}),o&&u.jsxs("div",{className:"mt-3 stats-share-exclude",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-200 mb-2",children:t}),s!=null&&s.length?u.jsx("div",{className:"max-h-56 overflow-y-auto pr-1 space-y-1",children:s.map(m=>u.jsxs("div",{className:"flex items-center gap-2 min-w-0 text-xs text-gray-300",children:[u.jsx("div",{className:"w-6 shrink-0 text-right text-gray-500",children:m.rank}),u.jsx("div",{className:"shrink-0",children:c(m.profession,m.professionList,"w-4 h-4")}),u.jsx("div",{className:"flex-1 min-w-0 truncate",children:m.account}),u.jsx("div",{className:"shrink-0 text-gray-400 font-mono",children:l?l(m.value):m.value})]},`${t}-${m.rank}-${m.account}`))}):u.jsx("div",{className:"text-xs text-gray-500 italic",children:"No data available"})]})]})},wae=(e,t)=>{const n=(Array.isArray(e)?e:[]).map(i=>({...i,value:Number((i==null?void 0:i.value)??0)})).filter(i=>Number.isFinite(i.value)).sort((i,o)=>{const s=t?o.value-i.value:i.value-o.value;return s!==0?s:String((i==null?void 0:i.account)||"").localeCompare(String((o==null?void 0:o.account)||""))});let r=null,a=0;return n.map((i,o)=>((r===null||i.value!==r)&&(a=o+1,r=i.value),{...i,rank:a}))},VA=(e,t)=>{if(typeof e=="number"&&Number.isFinite(e))return t(e);if(typeof e=="string"){const n=Number(e.replace(/,/g,"").trim());return Number.isFinite(n)?t(n):e}return"--"},kae=({stats:e,showTopStats:t,showMvp:n,topStatsMode:r,expandedLeader:a,setExpandedLeader:i,formatTopStatValue:o,formatWithCommas:s,isMvpStatEnabled:l,renderProfessionIcon:c,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:p})=>t?u.jsxs("div",{id:"top-players","data-section-visible":d("top-players"),"data-section-first":f("top-players"),className:p("top-players","scroll-mt-24"),children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(rc,{className:"w-5 h-5 text-yellow-400"}),"Top Players (Total Accumulated Stats)"]}),n&&u.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[minmax(0,1.6fr)_minmax(0,0.9fr)] gap-3 mb-6",children:[u.jsxs("div",{className:"mvp-card mvp-card--gold border border-yellow-500/30 rounded-2xl p-3 relative overflow-hidden group flex items-center",children:[u.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-yellow-500/10 blur-[80px] rounded-full pointer-events-none group-hover:bg-yellow-500/20 transition-all"}),u.jsxs("div",{className:"flex items-center gap-5 relative z-10 w-full",children:[u.jsx("div",{className:"hidden sm:flex items-center justify-center w-20 h-20 rounded-full bg-yellow-500/20 border border-yellow-500/30 shadow-[0_0_20px_rgba(234,179,8,0.2)]",children:u.jsx(gz,{className:"w-10 h-10 text-yellow-400"})}),u.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(d0,{className:"w-4 h-4 text-yellow-400 animate-pulse"}),u.jsx("span",{className:"text-yellow-400 font-bold uppercase tracking-widest text-xs",children:"Squad MVP"})]}),u.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-white mb-2 flex flex-wrap items-center gap-2 sm:gap-3",children:[u.jsx("span",{className:"min-w-0 max-w-full truncate",children:e.mvp.account}),c(e.mvp.profession,e.mvp.professionList,"w-6 h-6"),u.jsx("span",{className:"text-sm sm:text-lg font-medium text-yellow-200/70 bg-white/5 px-2 py-0.5 rounded border border-yellow-500/20 max-w-full truncate",children:e.mvp.profession})]}),u.jsxs("p",{className:"text-yellow-200/80 italic flex items-center gap-2 mb-2",children:[u.jsx(Rh,{className:"w-4 h-4 text-yellow-400 fill-yellow-500/40"}),'"',e.mvp.reason,'"']}),u.jsx("div",{className:"mt-auto flex flex-wrap gap-2",children:e.mvp.topStats&&e.mvp.topStats.filter(m=>l(m.name)).map((m,h)=>u.jsxs("div",{className:"inline-flex items-baseline gap-2 px-2.5 py-0.5 bg-yellow-500/10 border border-yellow-500/30 rounded-full text-[11px] leading-none",children:[u.jsx("span",{className:"text-yellow-200 font-bold",children:m.name}),u.jsx("span",{className:"text-yellow-50 font-mono tabular-nums",children:VA(m.val,o)})]},h))})]}),u.jsxs("div",{className:"hidden lg:block text-right",children:[u.jsx("div",{className:"text-yellow-500/40 font-mono text-sm uppercase tracking-wider font-bold",children:"Contribution Score"}),u.jsx("div",{className:"text-4xl font-black text-yellow-500/80",children:e.mvp.score>0?e.mvp.score.toFixed(1):"-"}),u.jsxs("div",{className:"text-xs text-yellow-500/30 font-mono mt-1",children:["Avg: ",e.avgMvpScore.toFixed(1)]})]})]})]}),u.jsx("div",{className:"grid grid-cols-2 xl:grid-cols-1 gap-3",children:[{label:"Silver",data:e.silver},{label:"Bronze",data:e.bronze}].map(m=>{var h,y,x,g,b;return u.jsxs("div",{className:`mvp-card mvp-card--${m.label.toLowerCase()} border border-white/10 rounded-2xl p-3 relative overflow-hidden group flex flex-col`,children:[u.jsx("div",{className:`absolute top-0 right-0 w-48 h-48 rounded-full blur-[70px] pointer-events-none transition-all ${m.label==="Silver"?"bg-slate-300/15 group-hover:bg-slate-300/25":"bg-orange-400/15 group-hover:bg-orange-400/25"}`}),u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsxs("div",{className:`text-xs uppercase tracking-widest font-semibold ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:[m.label," MVP"]}),u.jsx("div",{className:"text-xs text-gray-500 font-mono",children:(h=m.data)!=null&&h.score?m.data.score.toFixed(1):"-"})]}),u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.data&&c(m.data.profession,m.data.professionList,"w-6 h-6"),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("div",{className:`text-base font-semibold ${m.label==="Silver"?"text-slate-100":"text-orange-100"} truncate`,children:((y=m.data)==null?void 0:y.account)||""}),u.jsx("div",{className:`text-xs ${m.label==="Silver"?"text-slate-300/70":"text-orange-200/70"} truncate`,children:((x=m.data)==null?void 0:x.profession)||"Unknown"})]})]}),(b=(g=m.data)==null?void 0:g.topStats)!=null&&b.some(w=>l(w.name))?u.jsx("div",{className:`mt-auto flex flex-wrap items-center gap-2 text-[10px] ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:m.data.topStats.filter(w=>l(w.name)).map((w,S)=>u.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full border leading-none ${m.label==="Silver"?"bg-slate-400/10 border-slate-300/30":"bg-orange-500/10 border-orange-400/30"}`,children:[u.jsx("span",{className:"leading-none",children:w.name}),u.jsx("span",{className:"tabular-nums leading-none",children:VA(w.val,o)})]},S))}):null]},m.label)})})]}),(()=>{const m=r==="perSecond",h=m&&e.topStatsPerSecond?e.topStatsPerSecond:e,y=m&&e.topStatsLeaderboardsPerSecond?e.topStatsLeaderboardsPerSecond:e.leaderboards,x=m?"":"Total ",g=m?" /s":"",b=[{icon:wz,title:`Down Contribution${g}`,data:h.maxDownContrib,color:"red",statKey:"downContrib",higherIsBetter:!0},{icon:Du,title:`${x}Barrier${g}`,data:h.maxBarrier,color:"yellow",statKey:"barrier",higherIsBetter:!0},{icon:uD,title:`${x}Healing${g}`,data:h.maxHealing,color:"green",statKey:"healing",higherIsBetter:!0},{icon:Ez,title:`${x}Dodges${g}`,data:h.maxDodges,color:"cyan",statKey:"dodges",higherIsBetter:!0},{icon:Mf,title:`${x}Strips${g}`,data:h.maxStrips,color:"purple",statKey:"strips",higherIsBetter:!0},{icon:bz,title:`${x}Cleanses${g}`,data:h.maxCleanses,color:"blue",statKey:"cleanses",higherIsBetter:!0},{icon:xz,title:`${x}CC${g}`,data:h.maxCC,color:"pink",statKey:"cc",higherIsBetter:!0},{icon:mD,title:`${x}Stab Gen${g}`,data:h.maxStab,color:"cyan",statKey:"stability",higherIsBetter:!0},{icon:hz,title:"Closest to Tag",data:h.closestToTag,color:"indigo",unit:"dist",statKey:"closestToTag",higherIsBetter:!1}],w=S=>!m||!Number.isFinite(S)?o(S):s(S,2);return u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:b.map(S=>{var C,N,M,T;const $=a==="all",E=wae((y==null?void 0:y[S.statKey])||[],S.higherIsBetter),P=E[0],O=P?{...S.data,value:Number(P.value||0),player:P.account||((C=S.data)==null?void 0:C.player)||"-",count:P.count||((N=S.data)==null?void 0:N.count)||0,profession:P.profession||((M=S.data)==null?void 0:M.profession)||"Unknown",professionList:P.professionList||((T=S.data)==null?void 0:T.professionList)||[]}:S.data;return u.jsx(xae,{...S,data:O,active:$,onClick:()=>i(U=>U==="all"?null:"all"),rows:E,formatValue:w,renderProfessionIcon:c},S.statKey)})})})()]}):null,Sae=({stats:e,topSkillsMetric:t,onTopSkillsMetricChange:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>{const o=(t||e.topSkillsMetric)==="downContribution"?"downContribution":"damage",s=o==="downContribution",l=s?"Down Contrib":"Damage",c=o,d=Array.isArray(e.topSkillsByDamage)?e.topSkillsByDamage:null,f=Array.isArray(e.topSkillsByDownContribution)?e.topSkillsByDownContribution:null,p=v.useMemo(()=>s&&f?f:!s&&d?d:[...Array.isArray(e.topSkills)?e.topSkills:[]].sort((y,x)=>{const g=Number((y==null?void 0:y[c])||0);return Number((x==null?void 0:x[c])||0)-g||Number((x==null?void 0:x.hits)||0)-Number((y==null?void 0:y.hits)||0)||String((y==null?void 0:y.name)||"").localeCompare(String((x==null?void 0:x.name)||""))}),[s,d,f,e.topSkills,c]),m=v.useMemo(()=>Math.max(1,...p.map(y=>Number((y==null?void 0:y[c])||0))),[p,c]),h=typeof n=="function";return u.jsxs("div",{"data-section-visible":r("top-skills-outgoing"),"data-section-first":a("top-skills-outgoing"),className:i("top-skills-outgoing","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"),children:[u.jsxs("div",{id:"top-skills-outgoing","data-section-visible":r("top-skills-outgoing"),className:i("top-skills-outgoing","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(g1,{className:"top-skills-outgoing-icon w-5 h-5 text-orange-400"}),"Top Outgoing Skills"]}),u.jsx("div",{className:"text-xs text-gray-500 mt-1",children:l})]}),h&&u.jsx("div",{className:"pill-toggle-group flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"damage",label:"Damage"},{id:"downContribution",label:"Down Contrib"}].map(y=>{const x=(t||e.topSkillsMetric)===y.id;return u.jsx("button",{type:"button",onClick:()=>n==null?void 0:n(y.id),className:`pill-toggle-option px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${x?"pill-toggle-option--active bg-orange-500/30 text-orange-200":"text-gray-400 hover:text-white"}`,children:y.label},y.id)})})]}),u.jsxs("div",{className:"max-h-80 overflow-y-auto overflow-x-hidden space-y-4",children:[p.map((y,x)=>u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",x+1]}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm mb-1 py-0.5 leading-normal",children:[u.jsx("span",{className:"text-white font-bold flex-1 min-w-0 py-[1px]",children:u.jsx(Mr,{name:y.name,iconUrl:y.icon,iconClassName:"h-6 w-6",className:"min-w-0",textClassName:"truncate leading-[1.5] pt-[1px] pb-[2px]"})}),u.jsxs("div",{className:"text-right shrink-0",children:[u.jsx("span",{className:"top-skills-outgoing-value text-orange-400 font-mono font-bold",children:Math.round(y[c]||0).toLocaleString()}),u.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",y.hits.toLocaleString()," hits)"]})]})]}),u.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:u.jsx("div",{className:"top-skills-outgoing-bar h-full bg-orange-500 rounded-full",style:{width:`${Number(y[c]||0)/m*100}%`}})})]})]},`outgoing-${y.name||"unknown"}-${x}`)),p.length===0&&u.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No skill data available"})]})]}),u.jsxs("div",{id:"top-skills-incoming","data-section-visible":r("top-skills-incoming"),className:i("top-skills-incoming","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[u.jsx("div",{className:"flex items-center justify-between mb-6",children:u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(dz,{className:"w-5 h-5 text-red-500"}),"Top Incoming Skills"]}),u.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Damage"})]})}),u.jsxs("div",{className:"max-h-80 overflow-y-auto overflow-x-hidden space-y-4",children:[(e.topIncomingSkills||[]).map((y,x)=>{var g;return u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",x+1]}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm mb-1 py-0.5 leading-normal",children:[u.jsx("span",{className:"text-white font-bold flex-1 min-w-0 py-[1px]",children:u.jsx(Mr,{name:y.name,iconUrl:y.icon,iconClassName:"h-6 w-6",className:"min-w-0",textClassName:"truncate leading-[1.5] pt-[1px] pb-[2px]"})}),u.jsxs("div",{className:"text-right shrink-0",children:[u.jsx("span",{className:"text-red-400 font-mono font-bold",children:Math.round(y.damage).toLocaleString()}),u.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",y.hits.toLocaleString()," hits)"]})]})]}),u.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${y.damage/(((g=e.topIncomingSkills[0])==null?void 0:g.damage)||1)*100}%`}})})]})]},`incoming-${y.name||"unknown"}-${x}`)}),e.topIncomingSkills.length===0&&u.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No incoming damage data available"})]})]})]})},Nae=({sortedSquadClassData:e,sortedEnemyClassData:t,getProfessionIconPath:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>{const o=r("squad-composition");return u.jsxs("div",{id:"squad-composition","data-section-visible":o,"data-section-first":a("squad-composition"),className:i("squad-composition","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8 page-break-avoid"),children:[u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(Cr,{className:"w-5 h-5 text-green-400"}),"Classes"]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[u.jsx("div",{className:"h-[240px] sm:h-full",children:u.jsx(yc,{width:"100%",height:"100%",children:u.jsxs(Xx,{children:[u.jsx(Eg,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:e.map((s,l)=>u.jsx(Vu,{fill:s.color,stroke:"rgba(0,0,0,0.5)"},`cell-${l}`))}),u.jsx(wc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-squad-pie-${o?"visible":"hidden"}`)}),u.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:u.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:e.map(s=>u.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[u.jsx("span",{className:"squad-comp-legend-swatch inline-block w-3 h-3 rounded-sm",style:{backgroundColor:s.color}}),n(s.name)?u.jsx("img",{src:n(s.name),alt:s.name,className:"w-4 h-4 shrink-0 object-contain"}):u.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),u.jsx("span",{className:"min-w-0 truncate",children:s.name}),u.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",s.value,")"]})]},s.name))})})]})]}),u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(u0,{className:"w-5 h-5 text-red-400"}),"Enemy Composition"]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[u.jsx("div",{className:"h-[240px] sm:h-full",children:u.jsx(yc,{width:"100%",height:"100%",children:u.jsxs(Xx,{children:[u.jsx(Eg,{data:t,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:t.map((s,l)=>u.jsx(Vu,{fill:s.color,stroke:"rgba(0,0,0,0.5)"},`cell-${l}`))}),u.jsx(wc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-enemy-pie-${o?"visible":"hidden"}`)}),u.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:u.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:t.map(s=>u.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[u.jsx("span",{className:"squad-comp-legend-swatch inline-block w-3 h-3 rounded-sm",style:{backgroundColor:s.color}}),n(s.name)?u.jsx("img",{src:n(s.name),alt:s.name,className:"w-4 h-4 shrink-0 object-contain"}):u.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),u.jsx("span",{className:"min-w-0 truncate",children:s.name}),u.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",s.value,")"]})]},s.name))})})]})]})]})},jae=({timelineData:e,timelineFriendlyScope:t,setTimelineFriendlyScope:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>u.jsxs("div",{id:"timeline","data-section-visible":r("timeline"),"data-section-first":a("timeline"),className:i("timeline","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Cr,{className:"w-5 h-5 text-green-400"}),"Squad vs Enemy Size"]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-widest text-gray-500",children:[u.jsx("span",{className:"text-gray-400",children:"Friendly Count"}),u.jsx("div",{className:"flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1",children:[{value:"squad",label:"Squad"},{value:"squadAllies",label:"Squad + Allies"}].map(o=>u.jsx("button",{type:"button",onClick:()=>n(o.value),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${t===o.value?"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40":"border border-transparent text-gray-400 hover:text-gray-200"}`,children:o.label},o.value))})]})]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-10",children:"No timeline data available"}):u.jsx("div",{className:"h-[260px] w-full",children:u.jsx(yc,{width:"100%",height:"100%",children:u.jsxs(Ig,{data:e,margin:{top:10,right:24,left:0,bottom:0},children:[u.jsx(Hf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Kf,{dataKey:"index",tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"}}),u.jsx(Yf,{tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"},width:36}),u.jsx(wc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},labelFormatter:(o,s)=>{var l;const c=(l=s==null?void 0:s[0])==null?void 0:l.payload;return c!=null&&c.label?`Log ${c.index}  ${c.label}`:`Log ${o}`},formatter:(o,s)=>[o,s==="friendly"?t==="squad"?"Squad":"Squad + Allies":"Enemies"]}),u.jsx(Jo,{type:"monotone",dataKey:t==="squad"?"squadCount":"friendlyCount",name:"friendly",stroke:"#22c55e",strokeWidth:2,dot:{r:3,fill:"#22c55e"},activeDot:{r:5}}),u.jsx(Jo,{type:"monotone",dataKey:"enemies",stroke:"#ef4444",strokeWidth:2,dot:{r:3,fill:"#ef4444"},activeDot:{r:5}})]})})})]}),Cae=({mapData:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>u.jsxs("div",{id:"map-distribution","data-section-visible":t("map-distribution"),"data-section-first":n("map-distribution"),className:r("map-distribution","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(x1,{className:"w-5 h-5 text-blue-400"}),"Map Distribution"]}),u.jsx("div",{className:"h-[260px] sm:h-[300px] w-full",children:u.jsx(yc,{width:"100%",height:"100%",children:u.jsxs(Xx,{children:[u.jsx(Eg,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:5,dataKey:"value",children:e.map((a,i)=>u.jsx(Vu,{fill:a.color,stroke:"rgba(0,0,0,0.5)"},`cell-${i}`))}),u.jsx(wc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}}),u.jsx(_3,{verticalAlign:"bottom",height:36,payload:e.map(a=>({id:a.name,type:"square",value:a.name,color:a.color,payload:a})),formatter:(a,i)=>u.jsxs("span",{className:"text-gray-300 font-medium ml-1",children:[a," ",u.jsxs("span",{className:"text-gray-500",children:["(",i.payload.value,")"]})]})})]})})})]}),UA=({sectionId:e="spike-damage",title:t="Spike Damage",subtitle:n="Select one player to chart their highest damage burst per fight.",listTitle:r="Squad Players",searchPlaceholder:a="Search player or account",titleIconClassName:i="text-rose-300",expandedSection:o,expandedSectionClosing:s,openExpandedSection:l,closeExpandedSection:c,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:p,spikePlayerFilter:m,setSpikePlayerFilter:h,groupedSpikePlayers:y,spikeMode:x,setSpikeMode:g,selectedSpikePlayerKey:b,setSelectedSpikePlayerKey:w,selectedSpikePlayer:S,spikeChartData:C,spikeChartMaxY:N,selectedSpikeFightIndex:M,setSelectedSpikeFightIndex:T,spikeDrilldownTitle:$,spikeDrilldownData:E,spikeDrilldownDownIndices:P,spikeDrilldownDeathIndices:O,spikeFightSkillRows:U=[],spikeFightSkillTitle:X="Skill Damage (Selected Fight)",formatWithCommas:ee,renderProfessionIcon:de})=>{const[z,B]=v.useState(null),[ie,k]=v.useState(null),I=R=>String(R||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),A=o===e,j=S?ac(S.profession):"#fda4af",L=x==="hit"?"Highest Damage":x==="1s"?"1s Burst":x==="5s"?"5s Burst":"30s Burst",q=R=>x==="hit"?R.peakHit:x==="1s"?R.peak1s:x==="5s"?R.peak5s:R.peak30s,Q=y.flatMap(R=>R.players.map(oe=>({...oe,groupProfession:R.profession}))).sort((R,oe)=>{const be=q(oe)-q(R);return be!==0?be:R.displayName.localeCompare(oe.displayName)}),G=C.reduce((R,oe)=>!R||oe.damage>R.damage?oe:R,null),W=R=>{if(!Number.isFinite(R)||R<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(R))}catch{return""}},_=E.reduce((R,oe)=>Math.max(R,Number(oe.value||0)),0),te=Math.max(1,_),re=new Set(P),F=new Set(O),ae=E.map((R,oe)=>({...R,downMarker:re.has(oe)?Math.max(Number(R.value||0),te*.88):null,deathMarker:F.has(oe)?Math.max(Number(R.value||0),te*.96):null})),H=R=>oe=>{const be=Number(oe==null?void 0:oe.cx),et=Number(oe==null?void 0:oe.cy),ue=Number(oe==null?void 0:oe.index);if(!Number.isFinite(be)||!Number.isFinite(et)||!Number.isFinite(ue))return null;const He=(oe==null?void 0:oe.payload)||{},Be=R==="down"?He==null?void 0:He.downMarker:He==null?void 0:He.deathMarker;if(!Number.isFinite(Number(Be)))return null;const yt=`${R}-${ue}`,Xt=z===yt,Mn=R==="down"?"#facc15":"#ef4444",On=R==="down"?"#fde047":"#f87171";return u.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onMouseEnter:()=>{B(yt),k({x:be,y:et,kind:R,label:String((He==null?void 0:He.label)||"")})},onMouseLeave:()=>{B(ge=>ge===yt?null:ge),k(ge=>(ge==null?void 0:ge.kind)===R&&(ge==null?void 0:ge.label)===String((He==null?void 0:He.label)||"")?null:ge)},children:[u.jsx("circle",{cx:be,cy:et,r:Xt?10:7,fill:On,opacity:Xt?.35:.18}),u.jsx("circle",{cx:be,cy:et,r:Xt?7:5.5,fill:Mn,stroke:"#0f172a",strokeWidth:Xt?2.25:1.75})]})};return u.jsxs("div",{id:e,"data-section-visible":d(e),"data-section-first":f(e),className:p(e,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${A?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${s?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[u.jsxs("div",{className:A?"pr-10 md:pr-0":"",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Mf,{className:`w-5 h-5 ${i}`}),t]}),u.jsx("p",{className:"text-xs text-gray-400",children:n})]}),u.jsxs("div",{className:`flex items-center gap-3 ${A?"pr-10 md:pr-0":""}`,children:[u.jsx(En,{value:x,onChange:R=>g(R),options:[{value:"hit",label:"Highest Damage"},{value:"1s",label:"1s"},{value:"5s",label:"5s"},{value:"30s",label:"30s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx("button",{type:"button",onClick:()=>A?c():l(e),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${A?"absolute top-2 right-2 md:static":""}`,"aria-label":A?`Close ${t}`:`Expand ${t}`,title:A?"Close":"Expand",children:A?u.jsx(Wa,{className:"w-4 h-4"}):u.jsx(oi,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:r}),u.jsx("input",{type:"search",value:m,onChange:R=>h(R.target.value),placeholder:a,className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-rose-400 focus:outline-none"}),u.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:Q.length===0?u.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No players match the filter."}):u.jsx("div",{className:"p-1.5 space-y-1",children:Q.map(R=>{const oe=b===R.key;return u.jsx("button",{type:"button",onClick:()=>w(R.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${oe?"border-rose-300/60 bg-rose-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[de(R.profession,void 0,"w-3.5 h-3.5"),u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:R.displayName}),u.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:R.groupProfession})]}),u.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[R.characterName||R.displayName,"  ",R.logs," ",R.logs===1?"fight":"fights"]})]}),u.jsx("div",{className:"text-xs font-mono text-rose-200 shrink-0",children:ee(q(R)||0,0)})]})},R.key)})})})]}),u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:["Per Fight ",L]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[C.length," ",C.length===1?"fight":"fights"]})]}),u.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!S||C.length===0?u.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view burst damage by fight."}):u.jsx(yc,{width:"100%",height:"100%",children:u.jsxs(Ig,{data:C,onClick:R=>{const oe=Number(R==null?void 0:R.activeTooltipIndex);Number.isFinite(oe)&&T(M===oe?null:oe)},children:[u.jsx(Hf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Kf,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),u.jsx(Yf,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,N)],tickFormatter:R=>ee(R,0)}),u.jsx(wc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(R,oe)=>[ee(Number(R||0),0),String(oe||"")],labelFormatter:(R,oe)=>{var be;const et=(be=oe==null?void 0:oe[0])==null?void 0:be.payload;if(!et)return"";const ue=I(et.fullLabel||"");return x==="hit"&&et.skillName?`${ue}  ${et.skillName}`:ue}}),u.jsx(Jo,{type:"monotone",dataKey:"damage",name:S.displayName,stroke:j,strokeWidth:3,dot:R=>{var oe;const be=Number((oe=R==null?void 0:R.payload)==null?void 0:oe.index);if(!Number.isFinite(be))return null;const et=M===be;return u.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:ue=>{ue.stopPropagation(),T(et?null:be)},children:[u.jsx("circle",{cx:R.cx,cy:R.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),u.jsx("circle",{cx:R.cx,cy:R.cy,r:et?4:3,fill:j,stroke:et?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:et?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),u.jsx(Jo,{type:"monotone",dataKey:"maxDamage",name:"Fight Max",stroke:"rgba(148,163,184,0.8)",strokeWidth:2,strokeDasharray:"6 4",dot:!1,activeDot:!1})]})})})]})]}),S&&u.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Player"}),u.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[de(S.profession,S.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:S.displayName})]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:x==="hit"?"Peak Highest Skill Damage":`Peak ${L}`}),u.jsx("div",{className:"mt-1 text-lg font-black text-rose-200 font-mono",children:ee(q(S)||0,0)})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:x==="hit"?"Peak Skill / Fight":"Peak Fight"}),u.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const R=I((G==null?void 0:G.fullLabel)||S.peakFightLabel||"N/A"),oe=W(Number((G==null?void 0:G.timestamp)||0)),be=oe?`${oe} - ${R}`:R;return x!=="hit"?be:S.peakSkillName?`${S.peakSkillName}  ${be}`:be})()})]})]}),S&&M!==null&&u.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:$}),u.jsx("button",{type:"button",onClick:()=>T(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),u.jsx("div",{className:"h-[220px] relative",children:E.length===0?u.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):u.jsxs(u.Fragment,{children:[u.jsx(yc,{width:"100%",height:"100%",children:u.jsxs(Ig,{data:ae,children:[u.jsx(Hf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Kf,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),u.jsx(Yf,{tick:{fill:"#e2e8f0",fontSize:10},tickFormatter:R=>ee(R,0)}),u.jsx(wc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(R,oe)=>{const be=String(oe||"");return be==="Down"?["Downed","Event"]:be==="Death"?["Dead","Event"]:[ee(Number(R||0),0),"Damage"]},labelFormatter:R=>String(R||"")}),u.jsx(Jo,{type:"monotone",dataKey:"value",name:"Damage",stroke:j,strokeWidth:2.5,dot:x==="hit"?{r:2}:!1,activeDot:{r:4}}),u.jsx(Jo,{type:"linear",dataKey:"downMarker",name:"Down",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:H("down")}),u.jsx(Jo,{type:"linear",dataKey:"deathMarker",name:"Death",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:H("death")})]})}),ie&&u.jsxs("div",{className:"pointer-events-none absolute z-20 rounded-md border border-white/15 bg-[#101722] px-2 py-1 text-xs shadow-xl",style:{left:`${Math.max(8,ie.x)}px`,top:`${Math.max(8,ie.y-38)}px`,transform:"translate(-50%, -100%)"},children:[u.jsx("div",{className:`${ie.kind==="down"?"text-yellow-300":"text-red-300"} font-semibold`,children:ie.kind==="down"?"Down":"Death"}),u.jsx("div",{className:"text-gray-300",children:ie.label})]})]})})]}),S&&M!==null&&u.jsxs("div",{className:`mt-4 transition-all duration-300 ${U.length>0?"opacity-100 translate-y-0":"opacity-90"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:X}),u.jsxs("div",{className:"text-[10px] uppercase tracking-[0.2em] text-gray-500",children:[U.length," ",U.length===1?"skill":"skills"]})]}),U.length===0?u.jsx("div",{className:"text-xs text-gray-500 italic py-4",children:"No skill-level breakdown available for this fight."}):u.jsxs("div",{className:"incoming-skill-table-container rounded-lg border border-white/10 bg-black/35 overflow-hidden",children:[u.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2 text-[10px] uppercase tracking-[0.25em] text-gray-400 border-b border-white/10",children:[u.jsx("div",{children:"Skill"}),u.jsx("div",{className:"text-right",children:"Damage"}),u.jsx("div",{className:"text-right",children:"Hits"})]}),u.jsx("div",{className:"max-h-[260px] overflow-y-auto",children:U.map((R,oe)=>u.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2.5 text-sm text-gray-200 border-b border-white/[0.05] last:border-b-0",children:[u.jsxs("div",{className:"min-w-0 flex items-center gap-2",children:[R.icon?u.jsx("img",{src:R.icon,alt:"",loading:"lazy",className:"w-4 h-4 rounded-sm border border-white/[0.16] bg-black/40 flex-shrink-0"}):u.jsx("div",{className:"w-4 h-4 rounded-sm border border-white/[0.14] bg-white/[0.06] flex-shrink-0"}),u.jsx("div",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",title:R.skillName,children:R.skillName})]}),u.jsx("div",{className:"text-right font-mono text-rose-200",children:ee(Number(R.damage||0),0)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:ee(Number(R.hits||0),0)})]},`${R.skillName}-${oe}`))})]})]})]})},Mae=10,Dm=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),a=t%60;return n>0?`${n}h ${String(r).padStart(2,"0")}m`:r>0?`${r}m ${String(a).padStart(2,"0")}s`:`${a}s`},WA=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3));return String(t)},Aae=e=>{const t=e.replace(/\r?\n/g," ").trim();return/[",\n]/.test(t)?`"${t.replace(/"/g,'""')}"`:t},Eae=({attendanceRows:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:a})=>{const[i,o]=v.useState(""),[s,l]=v.useState("squad"),[c,d]=v.useState("desc"),f=i.trim().toLowerCase(),p=v.useMemo(()=>{const x=e.filter(b=>{if(!f)return!0;const w=String(b.account||"").toLowerCase(),S=(b.characterNames||[]).join(" ").toLowerCase(),C=(b.classTimes||[]).map(N=>String(N.profession||"").toLowerCase()).join(" ");return w.includes(f)||S.includes(f)||C.includes(f)}),g=b=>Number(s==="fight"?b.combatTimeMs??b.squadTimeMs??0:b.squadTimeMs??0);return[...x].sort((b,w)=>{const S=g(w)-g(b);return S!==0?c==="desc"?S:-S:String(b.account||"").localeCompare(String(w.account||""))})},[e,f,c,s]),m=x=>{if(s===x){d(g=>g==="desc"?"asc":"desc");return}l(x),d("desc")},h=p.length>Mae,y=()=>{const x=["Account","Characters","Classes Played","Total Fight Time (seconds)","Total Squad Time (seconds)"],g=p.map(M=>{const T=(M.classTimes||[]).map($=>`${$.profession} (${Dm($.timeMs)})`).join("; ");return[M.account||"",(M.characterNames||[]).join(", "),T,WA(Number(M.combatTimeMs??M.squadTimeMs??0)),WA(M.squadTimeMs)]}),b=[x,...g].map(M=>M.map(T=>Aae(String(T??""))).join(",")).join(`
`),w=new Blob([b],{type:"text/csv;charset=utf-8;"}),S=URL.createObjectURL(w),C=document.createElement("a"),N=new Date().toISOString().slice(0,19).replace(/[:T]/g,"-");C.href=S,C.download=`attendance-ledger-${N}.csv`,document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(S)};return u.jsx("section",{id:"attendance-ledger","data-section-visible":n("attendance-ledger"),"data-section-first":r("attendance-ledger"),className:a("attendance-ledger","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Cf,{className:"w-5 h-5 text-amber-300"}),"Attendance Ledger"]}),u.jsxs("span",{className:"inline-flex items-center rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] uppercase tracking-widest text-gray-300",children:[e.length," Joined"]})]}),u.jsxs("div",{className:"flex w-full sm:w-auto items-center gap-2",children:[u.jsx("input",{value:i,onChange:x=>o(x.target.value),placeholder:"Search account, character, or class...",className:"w-full sm:w-[320px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"}),u.jsxs("button",{type:"button",onClick:y,className:"inline-flex items-center gap-1.5 rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-xs text-gray-200 hover:text-white hover:border-white/30 transition-colors whitespace-nowrap",children:[u.jsx(yz,{className:"w-3.5 h-3.5"}),"Export CSV"]})]})]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No attendance data available."}):u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${h?"max-h-[30rem] overflow-y-auto":""}`,children:u.jsxs("table",{className:"w-full text-xs table-auto min-w-full border-separate border-spacing-0",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Account"}),u.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Character(s)"}),u.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Classes Played"}),u.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:u.jsxs("button",{type:"button",onClick:()=>m("fight"),className:`transition-colors whitespace-nowrap ${s==="fight"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Fight Time",s==="fight"?c==="desc"?" ":" ":""]})}),u.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:u.jsxs("button",{type:"button",onClick:()=>m("squad"),className:`transition-colors whitespace-nowrap ${s==="squad"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Squad Time",s==="squad"?c==="desc"?" ":" ":""]})})]})}),u.jsxs("tbody",{children:[p.map(x=>u.jsxs("tr",{className:"border-t border-white/5 align-top hover:bg-white/5",children:[u.jsx("td",{className:"py-2 px-4 text-gray-100 font-medium whitespace-nowrap",children:x.account}),u.jsx("td",{className:"py-2 px-4 text-gray-300",children:x.characterNames.length>0?x.characterNames.join(", "):"-"}),u.jsx("td",{className:"py-2 px-4",children:u.jsx("div",{className:"flex flex-wrap gap-1.5",children:x.classTimes.length>0?x.classTimes.map(g=>u.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] text-gray-200",children:[t(g.profession)?u.jsx("img",{src:t(g.profession),alt:g.profession,className:"w-3.5 h-3.5 object-contain"}):null,u.jsx("span",{children:g.profession}),u.jsx("span",{className:"text-gray-400",children:Dm(g.timeMs)})]},`${x.account}-${g.profession}`)):u.jsx("span",{className:"text-gray-500",children:"-"})})}),u.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:Dm(Number(x.combatTimeMs??x.squadTimeMs??0))}),u.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:Dm(x.squadTimeMs)})]},x.account)),p.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:5,className:"py-6 text-center text-gray-500 italic",children:"No attendance rows match your search."})})]})]})})]})})},Pae=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},Tae=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:a})=>{const[i,o]=v.useState(null),[s,l]=v.useState(""),c=s.trim().toLowerCase(),d=ip("svg/commander_tag.svg");v.useEffect(()=>{if(e.length===0){i!==null&&o(null);return}(!i||!e.some(m=>m.id===i))&&o(e[0].id)},[e,i]);const f=v.useMemo(()=>e.find(m=>m.id===i)||null,[e,i]),p=m=>{if(!c)return!1;const h=String(m.account||"").toLowerCase(),y=String(m.characterName||"").toLowerCase(),x=String(m.profession||"").toLowerCase();return h.includes(c)||y.includes(c)||x.includes(c)};return u.jsx("section",{id:"squad-comp-fight","data-section-visible":n("squad-comp-fight"),"data-section-first":r("squad-comp-fight"),className:a("squad-comp-fight","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 squad-comp-shell",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(Cr,{className:"w-5 h-5 text-cyan-300"}),"Squad Comp By Fight"]}),u.jsx("div",{className:"mb-4",children:u.jsx("input",{value:s,onChange:m=>l(m.target.value),placeholder:"Search player or class (highlight matches)...",className:"w-full sm:w-[360px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"})}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No squad composition data available."}):u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[u.jsxs("aside",{className:"squad-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),u.jsx("div",{className:"space-y-1 pr-1 max-h-[560px] xl:max-h-[720px] overflow-y-auto",children:e.map(m=>{const h=m.id===i;return u.jsxs("button",{onClick:()=>o(m.id),className:`squad-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${h?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100 squad-comp-fight-nav-item--active":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:m.label}),u.jsx("div",{className:"text-xs font-semibold truncate",children:m.mapName||"Unknown Map"}),u.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[m.duration||"--:--","  ",Pae(m.timestamp)]})]},m.id)})})]}),u.jsx("div",{className:"rounded-xl border border-white/10 bg-gradient-to-b from-slate-950/55 to-slate-900/45 p-3 squad-comp-board",children:f?u.jsx("div",{className:"space-y-2.5",children:f.parties.map(m=>u.jsxs("div",{className:"squad-comp-party-row grid grid-cols-[40px_minmax(0,1fr)] gap-2 rounded-xl border border-white/10 bg-black/25 p-2",children:[u.jsxs("div",{className:"squad-comp-party-badge rounded-lg border border-white/15 bg-slate-900/80 text-center py-2",children:[u.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-500",children:"P"}),u.jsx("div",{className:"text-base font-bold text-gray-100 leading-none",children:m.party>0?m.party:"-"})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-1 min-w-0",children:m.players.map((h,y)=>(()=>{const x=p(h);return u.jsxs("div",{className:`squad-comp-player-tile rounded-md border border-emerald-300/20 bg-gradient-to-b from-emerald-500/30 to-emerald-700/25 px-2 py-1.5 min-w-0 transition-all ${x?"ring-2 ring-cyan-300/70 border-cyan-300/60 shadow-[0_0_20px_rgba(34,211,238,0.25)]":""} ${h.isCommander?"relative overflow-hidden":""}`,children:[h.isCommander?u.jsx("img",{src:d,alt:"","aria-hidden":"true",className:"absolute -right-2 -bottom-2 w-12 h-12 object-contain opacity-20 brightness-75 pointer-events-none"}):null,u.jsxs("div",{className:"grid grid-cols-[18px_minmax(0,1fr)] grid-rows-2 gap-x-2 items-center min-w-0",children:[u.jsx("div",{className:"row-span-2 flex items-center justify-center",children:t(h.profession)?u.jsx("img",{src:t(h.profession),alt:h.profession,className:"squad-comp-player-icon w-5 h-5 object-contain shrink-0 opacity-95"}):u.jsx("span",{className:"squad-comp-player-icon inline-block w-5 h-5 rounded-sm border border-white/15"})}),u.jsx("div",{className:"squad-comp-player-account text-[11px] font-semibold text-emerald-50 truncate min-w-0 flex items-center gap-1",title:h.account,children:u.jsx("span",{className:"truncate min-w-0",children:h.account})}),u.jsx("div",{className:"squad-comp-player-character text-[10px] text-emerald-100/80 truncate min-w-0",title:h.characterName||"Unknown",children:h.characterName||"Unknown"})]})]},`${f.id}-${m.party}-${h.account}-${y}`)})())})]},`${f.id}-party-${m.party}`))}):u.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},Dae=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},Oae=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:a})=>{const[i,o]=v.useState(null);v.useEffect(()=>{if(e.length===0){i!==null&&o(null);return}(!i||!e.some(c=>c.id===i))&&o(e[0].id)},[e,i]);const s=v.useMemo(()=>e.find(c=>c.id===i)||null,[e,i]),l=v.useMemo(()=>s!=null&&s.enemyClassCounts?Object.entries(s.enemyClassCounts).map(([c,d])=>({profession:c,count:Number(d||0)})).filter(c=>c.count>0).sort((c,d)=>d.count-c.count||c.profession.localeCompare(d.profession)):[],[s]);return u.jsx("section",{id:"fight-comp","data-section-visible":n("fight-comp"),"data-section-first":r("fight-comp"),className:a("fight-comp","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"fight-comp-shell bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(el,{className:"w-5 h-5 text-cyan-300"}),"Fight Comp"]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight composition data available."}):u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[u.jsxs("aside",{className:"fight-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 self-start",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),u.jsx("div",{className:"space-y-1 pr-1 max-h-[320px] overflow-y-auto",children:e.map(c=>{const d=c.id===i;return u.jsxs("button",{onClick:()=>o(c.id),className:`fight-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${d?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:c.label}),u.jsx("div",{className:"text-xs font-semibold truncate",children:c.mapName||"Unknown Map"}),u.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[c.duration||"--:--","  ",Dae(c.timestamp)]})]},c.id)})})]}),u.jsx("div",{className:"fight-comp-board rounded-xl border border-white/10 bg-black/30 p-2.5 overflow-hidden",children:s?u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[minmax(0,1fr)_minmax(0,0.78fr)] gap-2.5 min-w-0",children:[u.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[u.jsx("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Squad Parties"}),u.jsx("div",{className:"p-2 rounded-lg border border-white/10 bg-white/[0.03] divide-y divide-white/10",children:s.parties.map(c=>{const d=Array.isArray(c.players)&&c.players.length>0?c.players.map(f=>({profession:String((f==null?void 0:f.profession)||"Unknown"),account:String((f==null?void 0:f.account)||""),characterName:String((f==null?void 0:f.characterName)||"")})).filter(f=>f.profession&&f.profession!=="Unknown").sort((f,p)=>f.profession.localeCompare(p.profession)||f.characterName.localeCompare(p.characterName)||f.account.localeCompare(p.account)):Object.entries(c.classCounts||{}).flatMap(([f,p])=>Array.from({length:Math.max(0,Number(p||0))},()=>({profession:String(f),account:"",characterName:""}))).filter(f=>f.profession&&f.profession!=="Unknown").sort((f,p)=>f.profession.localeCompare(p.profession));return u.jsxs("div",{className:"fight-comp-row grid grid-cols-[36px_minmax(0,1fr)] gap-1.5 items-center px-1.5 py-1 first:pt-0 last:pb-0",children:[u.jsx("div",{className:"fight-comp-party-badge text-[10px] font-semibold uppercase tracking-widest text-gray-300 text-center rounded-md border border-white/10 bg-black/20 py-0.5",children:c.party>0?`P${c.party}`:"Unk"}),u.jsx("div",{className:"flex flex-wrap gap-x-1.5 gap-y-1",children:d.length>0?d.map((f,p)=>u.jsx("span",{title:f.characterName||f.account?`${f.profession}  ${f.characterName||"Unknown"} (${f.account||"Unknown"})`:f.profession,className:"fight-comp-class-icon fight-comp-class-icon--squad inline-flex items-center justify-center",children:t(f.profession)?u.jsx("img",{src:t(f.profession),alt:f.profession,className:"w-3.5 h-3.5 object-contain"}):u.jsx("span",{className:"inline-block w-3.5 h-3.5 rounded-sm border border-white/15"})},`${s.id}-party-${c.party}-${f.profession}-${f.account||f.characterName||p}-${p}`)):u.jsx("span",{className:"text-gray-500 text-[11px]",children:"-"})})]},`${s.id}-party-${c.party}`)})})]}),u.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[u.jsx("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Enemy Classes"}),u.jsx("div",{className:"p-2",children:l.length>0?u.jsx("div",{className:"flex flex-wrap gap-1",children:l.map(c=>u.jsxs("div",{className:"fight-comp-row inline-flex items-center gap-1 rounded-lg border border-white/10 bg-white/[0.03] px-1.5 py-0.5",children:[u.jsx("span",{className:"fight-comp-class-icon inline-flex items-center justify-center rounded-md border border-white/10 bg-black/20 px-1 py-0.5",title:c.profession,children:t(c.profession)?u.jsx("img",{src:t(c.profession),alt:c.profession,className:"w-3 h-3 object-contain"}):u.jsx("span",{className:"inline-block w-3 h-3 rounded-sm border border-white/15"})}),u.jsx("span",{className:"text-[10px] font-mono text-gray-200",children:c.count})]},`${s.id}-enemy-${c.profession}`))}):u.jsx("div",{className:"py-6 text-center text-gray-500 italic text-sm",children:"No enemy class data"})})]})]}):u.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},Iae=({embedded:e,dashboardTitle:t,totalLogs:n,onBack:r,devMockAvailable:a,devMockUploadState:i,onDevMockUpload:o,uploadingWeb:s,onWebUpload:l,sharing:c,canShareDiscord:d,onShare:f})=>{const p=c||!d,m=d?"":"Select a Discord webhook to enable sharing.";return u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-3 shrink-0 px-2",children:[u.jsxs("div",{className:"flex items-start gap-3 sm:items-center sm:gap-4",children:[!e&&u.jsx("button",{onClick:r,className:"p-2 rounded-full bg-white/5 border border-white/10 hover:bg-white/10 transition-colors text-gray-400 hover:text-white",children:u.jsx(dD,{className:"w-6 h-6"})}),u.jsxs("div",{className:"space-y-0",children:[u.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-white flex items-center gap-2",children:[u.jsx(rc,{className:"w-6 h-6 text-yellow-500"}),t||"Statistics Dashboard"]}),u.jsxs("p",{className:"text-gray-400 text-[11px] sm:text-xs",children:["Performance across ",n," uploaded logs"]})]})]}),!e&&u.jsxs("div",{className:"flex items-center gap-3",children:[a&&u.jsxs("button",{onClick:o,disabled:i.uploading,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 bg-amber-500/15 text-amber-200 border border-amber-500/30 hover:bg-amber-500/25",children:[u.jsx(d0,{className:"w-4 h-4"}),i.uploading?"Building...":"Dev Mock Upload"]}),u.jsxs("button",{onClick:l,disabled:s,className:"stats-action-upload flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:[u.jsx(Az,{className:"w-4 h-4"}),s?"Uploading...":"Upload to Web"]}),u.jsxs("div",{className:"relative group",title:m,children:[u.jsxs("button",{onClick:f,disabled:p,"aria-disabled":p,className:"stats-action-discord flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(jz,{className:"w-4 h-4"}),c?"Sharing...":"Share to Discord"]}),!d&&u.jsx("div",{className:"stats-share-tooltip pointer-events-none absolute right-0 top-full mt-2 w-56 rounded-md border border-white/10 bg-black/90 px-2 py-1 text-[11px] text-gray-200 opacity-0 shadow-lg transition-opacity group-hover:opacity-100 z-50",children:"Select a Discord webhook to enable sharing."})]})]})]})},_ae=({embedded:e,webUploadMessage:t,webUploadUrl:n,webUploadBuildStatus:r,webCopyStatus:a,setWebCopyStatus:i})=>{if(e||!t)return null;const o=n||t.replace(/^Uploaded:\s*/i,"").trim(),[s,l]=v.useState("idle"),c=(()=>{if(!o)return null;try{const d=new URL(o),f=d.searchParams.get("report");if(!f||!d.hostname.endsWith("github.io"))return null;const p=d.pathname.match(/^\/([^/]+\.github\.io)(\/|$)/i),m=(p==null?void 0:p[1])||"";return!m||m.toLowerCase()!==d.hostname.toLowerCase()?null:`${d.origin}/?report=${f}`}catch{return null}})();return u.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[u.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[u.jsx("span",{className:"uppercase tracking-widest text-[10px] text-cyan-300/70",children:"Uploaded"}),u.jsx("button",{onClick:()=>{var d;o&&(d=window.electronAPI)!=null&&d.openExternal&&window.electronAPI.openExternal(o)},className:"text-cyan-200 hover:text-cyan-100 underline underline-offset-2",children:o}),r!=="idle"&&u.jsxs("span",{className:`ml-2 text-[10px] px-2 py-0.5 rounded-full border inline-flex items-center gap-1 ${r==="built"?"bg-emerald-500/20 text-emerald-300 border-emerald-500/40":r==="errored"?"bg-red-500/20 text-red-300 border-red-500/40":r==="unknown"?"bg-white/5 text-gray-400 border-white/10":"bg-cyan-500/20 text-cyan-200 border-cyan-500/40"}`,children:[(r==="checking"||r==="building")&&u.jsx(Sz,{className:"w-3 h-3 animate-spin"}),r==="built"&&u.jsx(fD,{className:"w-3 h-3"}),r==="errored"&&u.jsx(hD,{className:"w-3 h-3"}),r==="built"?"Build ready":r==="errored"?"Build failed":r==="unknown"?"Build status unknown":"Building"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>{o&&(navigator.clipboard.writeText(o),i("copied"),setTimeout(()=>i("idle"),1200))},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:a==="copied"?"Copied":"Copy URL"}),c&&u.jsx("button",{onClick:()=>{navigator.clipboard.writeText(c),l("copied"),setTimeout(()=>l("idle"),1200)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:s==="copied"?"Copied":"Copy Short"})]})]})},Lae=({embedded:e,devMockAvailable:t,devMockUploadState:n})=>e||!t||!n.message?null:u.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[u.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[u.jsx("span",{className:"uppercase tracking-widest text-[10px] text-amber-300/70",children:"Dev Mock"}),n.url?u.jsx("button",{onClick:()=>{var r;const a=n.url;a&&(r=window.electronAPI)!=null&&r.openExternal&&window.electronAPI.openExternal(a)},className:"text-amber-200 hover:text-amber-100 underline underline-offset-2",children:n.url}):u.jsx("span",{className:"text-gray-300",children:n.message})]}),n.url&&u.jsx("button",{onClick:()=>{var r;const a=n.url;a&&(r=window.electronAPI)!=null&&r.openExternal&&window.electronAPI.openExternal(a)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:"Open in Browser"})]}),Eo="space-y-1 pr-1 max-h-72 overflow-y-auto",Fae=new Set(["Vulnerability","Weakness","Blind","Chill","Cripple","Slow","Taunt","Fear","Immobilize"]),Rae=["overview","fight-breakdown","top-players","top-skills-outgoing","squad-composition","attendance-ledger","squad-comp-fight","fight-comp","timeline","map-distribution","boon-output","offense-detailed","spike-damage","conditions-outgoing","defense-detailed","incoming-strike-damage","support-detailed","healing-stats","fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"];function $ae({logs:e,onBack:t,mvpWeights:n,statsViewSettings:r,onStatsViewSettingsChange:a,webUploadState:i,onWebUpload:o,disruptionMethod:s,precomputedStats:l,embedded:c=!1,sectionVisibility:d,dashboardTitle:f,uiTheme:p,canShareDiscord:m=!0,aggregationResult:h}){var y,x;const g=n||xD,b=r||Gb,w=i||Yz,S=b.showTopStats,C=b.showMvp,N=b.roundCountStats,M=b.topStatsMode||"total",[T,$]=v.useState(b.topSkillsMetric||"damage"),E=(a?b.topSkillsMetric:T)||"damage",P=w.uploading,O=w.message,U=w.url,X=w.buildStatus,ee=!c&&!1,de=!!h,{result:z}=Z8({logs:de?[]:e,precomputedStats:de?void 0:l,mvpWeights:n,statsViewSettings:r,disruptionMethod:s}),B=h||z,{stats:ie,skillUsageData:k}=B,I=v.useMemo(()=>{var Z,le,ye,Ue,Pe,it;const se=ie&&typeof ie=="object"?ie:{},Ye=Ae=>Array.isArray(Ae)?Ae:[],xn=Ae=>Ae&&typeof Ae=="object"?Ae:{},Xe=(Ae,Nt)=>Ae&&typeof Ae=="object"?Ae:Nt,gt={value:0,player:"-",profession:"Unknown",professionList:[],count:0},Pt={account:"-",profession:"Unknown",professionList:[],reason:"",topStats:[],score:0},cn={...se,total:Number(se.total||0),timelineData:Ye(se.timelineData),mapData:Ye(se.mapData),fightBreakdown:Ye(se.fightBreakdown),topSkills:Ye(se.topSkills),topIncomingSkills:Ye(se.topIncomingSkills),leaderboards:xn(se.leaderboards),topStatsPerSecond:xn(se.topStatsPerSecond),topStatsLeaderboardsPerSecond:xn(se.topStatsLeaderboardsPerSecond),maxDownContrib:Xe(se.maxDownContrib,gt),maxBarrier:Xe(se.maxBarrier,gt),maxHealing:Xe(se.maxHealing,gt),maxDodges:Xe(se.maxDodges,gt),maxStrips:Xe(se.maxStrips,gt),maxCleanses:Xe(se.maxCleanses,gt),maxCC:Xe(se.maxCC,gt),maxStab:Xe(se.maxStab,gt),closestToTag:Xe(se.closestToTag,gt),mvp:{...Pt,...xn(se.mvp),topStats:Ye((Z=se==null?void 0:se.mvp)==null?void 0:Z.topStats)},silver:Xe(se.silver,Pt),bronze:Xe(se.bronze,Pt),avgMvpScore:Number(se.avgMvpScore||0),offensePlayers:Ye(se.offensePlayers),defensePlayers:Ye(se.defensePlayers),damageMitigationPlayers:Ye(se.damageMitigationPlayers),damageMitigationMinions:Ye(se.damageMitigationMinions),supportPlayers:Ye(se.supportPlayers),healingPlayers:Ye(se.healingPlayers),boonTables:Ye(se.boonTables),specialTables:Ye(se.specialTables),outgoingConditionSummary:Ye(se.outgoingConditionSummary),outgoingConditionPlayers:Ye(se.outgoingConditionPlayers),incomingConditionSummary:Ye(se.incomingConditionSummary),incomingConditionPlayers:Ye(se.incomingConditionPlayers),squadClassData:Ye(se.squadClassData),enemyClassData:Ye(se.enemyClassData),attendanceData:Ye(se.attendanceData),squadCompByFight:Ye(se.squadCompByFight),fightDiffMode:Ye(se.fightDiffMode),playerSkillBreakdowns:Ye(se.playerSkillBreakdowns)},Vt=Ye((le=cn.leaderboards)==null?void 0:le.downContrib).map(Ae=>({...Ae,value:Number((Ae==null?void 0:Ae.value)??0)})).filter(Ae=>Number.isFinite(Ae.value)).sort((Ae,Nt)=>Nt.value-Ae.value||String((Ae==null?void 0:Ae.account)||"").localeCompare(String((Nt==null?void 0:Nt.account)||"")))[0];return Vt&&(cn.maxDownContrib={...cn.maxDownContrib||{},value:Number(Vt.value||0),player:String(Vt.account||((ye=cn.maxDownContrib)==null?void 0:ye.player)||"-"),count:Number(Vt.count||((Ue=cn.maxDownContrib)==null?void 0:Ue.count)||0),profession:String(Vt.profession||((Pe=cn.maxDownContrib)==null?void 0:Pe.profession)||"Unknown"),professionList:Array.isArray(Vt.professionList)?Vt.professionList:((it=cn.maxDownContrib)==null?void 0:it.professionList)||[]}),cn},[ie]);v.useEffect(()=>{var Z;if(!((Z=window==null?void 0:window.electronAPI)!=null&&Z.fetchImageAsDataUrl))return;const le=new Set,ye=Ue=>{if(Ue){if(typeof Ue=="string"){/^https?:\/\//i.test(Ue)&&le.add(Ue);return}if(Array.isArray(Ue)){Ue.forEach(ye);return}typeof Ue=="object"&&Object.entries(Ue).forEach(([Pe,it])=>{if((Pe==="icon"||Pe==="iconUrl")&&typeof it=="string"){/^https?:\/\//i.test(it)&&le.add(it);return}ye(it)})}};ye(I),le.size>0&&Xre(Array.from(le))},[I]);const A=v.useMemo(()=>{const Z=(l==null?void 0:l.skillUsageData)??k;return{logRecords:Array.isArray(Z==null?void 0:Z.logRecords)?Z.logRecords:[],players:Array.isArray(Z==null?void 0:Z.players)?Z.players:[],skillOptions:Array.isArray(Z==null?void 0:Z.skillOptions)?Z.skillOptions:[],resUtilitySkills:Array.isArray(Z==null?void 0:Z.resUtilitySkills)?Z.resUtilitySkills:[]}},[k,l==null?void 0:l.skillUsageData]),j=A.players.length>0;v.useEffect(()=>{a||$(b.topSkillsMetric||"damage")},[b.topSkillsMetric,a]);const L=Z=>{if(a){a({...b,topSkillsMetric:Z});return}$(Z)},{scrollContainerRef:q}=Tz(c),{devMockUploadState:Q,webCopyStatus:G,setWebCopyStatus:W,handleWebUpload:_,handleDevMockUpload:te}=n8({logs:e,stats:I,skillUsageData:A,activeStatsViewSettings:r||Gb,uiTheme:p||"classic",embedded:c,onWebUpload:o}),{sharing:re,handleShare:F}=X8(c),ae={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},H=Z=>{const le=ae[Z];return le?g[le]>0:!0},[R,oe]=v.useState(null),[be,et]=v.useState(null),[ue,He]=v.useState("totalBuffs"),[Be,yt]=v.useState("total"),[Xt,Mn]=v.useState(""),[On,ge]=v.useState(null),[Fe,Dt]=v.useState(""),[_t,pn]=v.useState(null),[Tn,Vn]=v.useState(""),[Ea,Ei]=v.useState(""),[ha,Jt]=v.useState(""),[on,Fn]=v.useState(""),[sn,ga]=v.useState(""),[Zr,Ps]=v.useState(""),[Ts,Ha]=v.useState(""),[qa,So]=v.useState("outgoing"),[Dc,Al]=v.useState(""),[Oc,sd]=v.useState("damage"),[Ic,_c]=v.useState("damageTaken"),[K,he]=v.useState("totalMitigation"),[Se,Qe]=v.useState("all"),[Rt,Ct]=v.useState({key:"damage",dir:"desc"}),ot=!(Se!=="all"&&Fae.has(Se)),ln=ot?"grid-cols-[0.4fr_1.6fr_1fr_1fr]":"grid-cols-[0.4fr_1.6fr_1fr]",mn=ot?Rt:{key:"applications",dir:Rt.key==="applications"?Rt.dir:"desc"},[Ar,fr]=v.useState("condiCleanse"),[Re,tt]=v.useState("healing"),[Kt,en]=v.useState("total"),[Un,Pa]=v.useState("all"),[Or,Ho]=v.useState("total"),[ld,jy]=v.useState("total"),[D,Y]=v.useState("total"),[ne,we]=v.useState("total"),[J,Oe]=v.useState("all"),[Le,lt]=v.useState("squad"),[vt,ht]=v.useState("player"),[$t,yn]=v.useState(""),[fn,Je]=v.useState(""),[qe,st]=v.useState(null),[Et,Ht]=v.useState([]),[pe,Ne]=v.useState(null),[ke,ze]=v.useState(null),[me,_e]=v.useState("hit"),[je,bt]=v.useState(null),[rt,at]=v.useState(null),[Bt,kn]=v.useState("hit"),[Rn,rr]=v.useState([]),[xt,V]=v.useState(null),[ce,Ce]=v.useState(!1),Me=v.useRef(null),[ve,$e]=v.useState("sizes"),[Ze,Ke]=v.useState("total"),zt=Ze==="perSecond",[Yt,Wt]=v.useState(null),[ct,Zt]=v.useState("total"),[ft,rn]=v.useState(null),[Lt,Mt]=v.useState(null),[Ee,xe]=v.useState(null),[wt,At]=v.useState(""),[qt,Sn]=v.useState(null),[Vr,oa]=v.useState(null),[Qr,Pi]=v.useState(null),[Lc,Ds]=v.useState(""),[No,Up]=v.useState("player"),[jo,Os]=v.useState(null),[cd,Is]=v.useState(null),[ui,di]=v.useState(null),{apmSpecBuckets:fi}=Q8(A),De=I.playerSkillBreakdowns||[],Ge=v.useMemo(()=>{const Z=new Map;return De.forEach(le=>Z.set(le.key,le)),Z},[De]),nt=v.useMemo(()=>{const Z=new Map;return De.forEach(le=>{const ye=le.profession||"Unknown";Z.has(ye)||Z.set(ye,{profession:ye,players:[],skills:new Map});const Ue=Z.get(ye);Ue.players.push(le),le.skills.forEach(Pe=>{var it;const se=Ue.skills.get(Pe.id)||{...Pe,damage:0,downContribution:0};se.damage+=Number(Pe.damage||0),se.downContribution+=Number(Pe.downContribution||0),!se.icon&&Pe.icon&&(se.icon=Pe.icon),(it=se.name)!=null&&it.startsWith("Skill ")&&!Pe.name.startsWith("Skill ")&&(se.name=Pe.name),Ue.skills.set(Pe.id,se)})}),Array.from(Z.values()).map(le=>{const ye=Array.from(le.skills.values()).sort((Pe,it)=>it.damage-Pe.damage),Ue=ye.reduce((Pe,it)=>(Pe[it.id]=it,Pe),{});return{profession:le.profession,players:le.players,skills:ye,skillMap:Ue}}).sort((le,ye)=>le.profession.localeCompare(ye.profession))},[De]),ut=qt&&Ge.get(qt)||null,an=ut&&Qr&&((y=ut.skillMap)==null?void 0:y[Qr])||null,An=v.useMemo(()=>{const Z=new Map;return nt.forEach(le=>Z.set(le.profession,le)),Z},[nt]),bn=jo&&An.get(jo)||null,ar=bn&&ui&&((x=bn.skillMap)==null?void 0:x[ui])||null,hn=(Z,le)=>{if(!le)return null;const ye=Number(le.index);if(Number.isInteger(ye)&&ye>=0&&ye<Z.length)return Z[ye]||null;const Ue=String(le.fightId||"").trim();return Ue&&Z.find(Pe=>String((Pe==null?void 0:Pe.id)||"").trim()===Ue)||null},Nn=v.useMemo(()=>{const Z=Ae=>String(Ae||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),le=Ae=>Z(Ae).toLowerCase().split(/[^a-z0-9]+/i).map(Nt=>Nt.trim()).filter(Boolean).map(Nt=>Nt.length>3&&Nt.endsWith("s")?Nt.slice(0,-1):Nt),ye=(Ae,Nt)=>{const Ie=Z(Ae),jn=Z(Nt);if(!jn)return Ie;if(!Ie)return jn;const pr=le(Ie),Wn=le(jn),wr=new Set(pr),Dn=new Set(Wn),Ga=Wn.length>0&&Wn.every(Ft=>wr.has(Ft)),Ot=pr.length>0&&pr.every(Ft=>Dn.has(Ft));return Ga||Ot?Ie:`${Ie} - ${jn}`},Ue=Ae=>{if(Ae==null||Ae==="")return 0;if(typeof Ae=="number")return!Number.isFinite(Ae)||Ae<=0?0:Ae>1e12?Ae:Ae*1e3;if(Ae instanceof Date){const wr=Ae.getTime();return Number.isFinite(wr)&&wr>0?wr:0}const Nt=String(Ae).trim();if(!Nt)return 0;const Ie=Number(Nt);if(Number.isFinite(Ie)&&Ie>0)return Ie>1e12?Ie:Ie*1e3;const jn=Date.parse(Nt);if(Number.isFinite(jn)&&jn>0)return jn;const pr=Nt.replace(/([+-]\d{2})$/,"$1:00"),Wn=Date.parse(pr);return Number.isFinite(Wn)&&Wn>0?Wn:0},Pe=(Ae,Nt)=>Ue((Ae==null?void 0:Ae.uploadTime)??(Nt==null?void 0:Nt.uploadTime)??(Ae==null?void 0:Ae.timeStartStd)??(Ae==null?void 0:Ae.timeStart)??(Ae==null?void 0:Ae.timeEndStd)??(Ae==null?void 0:Ae.timeEnd)),it=I==null?void 0:I.spikeDamage,se=Array.isArray(it==null?void 0:it.fights)?it.fights:[],Ye=Array.isArray(it==null?void 0:it.players)?it.players:[],xn=se.some(Ae=>(Ae!=null&&Ae.values&&typeof Ae.values=="object"?Object.values(Ae.values):[]).some(Nt=>Nt&&typeof Nt=="object"&&(Number(Nt.burst1s||0)>0||Number(Nt.burst5s||0)>0||Number(Nt.burst30s||0)>0)))||Ye.some(Ae=>Number((Ae==null?void 0:Ae.peak1s)||0)>0||Number((Ae==null?void 0:Ae.peak5s)||0)>0||Number((Ae==null?void 0:Ae.peak30s)||0)>0);if((se.length>0||Ye.length>0)&&(xn||e.length===0)){const Ae=se.map((Ie,jn)=>{const pr=Ie!=null&&Ie.values&&typeof Ie.values=="object"?Ie.values:{},Wn={};return Object.entries(pr).forEach(([wr,Dn])=>{if(Dn&&typeof Dn=="object"){const Ga=Number(Dn.damage||0);Wn[wr]={hit:Number(Dn.hit??Ga),burst1s:Number(Dn.burst1s||0),burst5s:Number(Dn.burst5s||0),burst30s:Number(Dn.burst30s||0),skillName:String(Dn.skillName||""),buckets5s:Array.isArray(Dn.buckets5s)?Dn.buckets5s.map(Ot=>Number(Ot||0)):void 0,downIndices5s:Array.isArray(Dn.downIndices5s)?Dn.downIndices5s.map(Ot=>Number(Ot)).filter(Ot=>Number.isFinite(Ot)&&Ot>=0):void 0,deathIndices5s:Array.isArray(Dn.deathIndices5s)?Dn.deathIndices5s.map(Ot=>Number(Ot)).filter(Ot=>Number.isFinite(Ot)&&Ot>=0):void 0,skillRows:Array.isArray(Dn.skillRows)?Dn.skillRows.map(Ot=>({skillName:String((Ot==null?void 0:Ot.skillName)||(Ot==null?void 0:Ot.name)||"Unknown Skill"),damage:Number((Ot==null?void 0:Ot.damage)||0),hits:Number((Ot==null?void 0:Ot.hits)||0),icon:typeof(Ot==null?void 0:Ot.icon)=="string"?Ot.icon:void 0})).filter(Ot=>Number.isFinite(Ot.damage)&&Ot.damage>0):void 0};return}Wn[wr]={hit:Number(Dn||0),burst1s:0,burst5s:0,burst30s:0,skillName:""}}),{id:String((Ie==null?void 0:Ie.id)||`fight-${jn+1}`),shortLabel:String((Ie==null?void 0:Ie.shortLabel)||`F${jn+1}`),fullLabel:Z((Ie==null?void 0:Ie.fullLabel)||`Fight ${jn+1}`),timestamp:Number((Ie==null?void 0:Ie.timestamp)||0),values:Wn,maxHit:Number((Ie==null?void 0:Ie.maxHit)??(Ie==null?void 0:Ie.maxDamage)??0),max1s:Number((Ie==null?void 0:Ie.max1s)||0),max5s:Number((Ie==null?void 0:Ie.max5s)||0),max30s:Number((Ie==null?void 0:Ie.max30s)||0)}}),Nt=Ye.map(Ie=>({key:String((Ie==null?void 0:Ie.key)||""),account:String((Ie==null?void 0:Ie.account)||"Unknown"),displayName:String((Ie==null?void 0:Ie.displayName)||(Ie==null?void 0:Ie.account)||"Unknown"),characterName:String((Ie==null?void 0:Ie.characterName)||(Ie==null?void 0:Ie.name)||(Ie==null?void 0:Ie.character_name)||(Ie==null?void 0:Ie.display_name)||""),profession:String((Ie==null?void 0:Ie.profession)||"Unknown"),professionList:Array.isArray(Ie==null?void 0:Ie.professionList)?Ie.professionList.map(jn=>String(jn)):[],logs:Number((Ie==null?void 0:Ie.logs)||0),peakHit:Number((Ie==null?void 0:Ie.peakHit)||0),peak1s:Number((Ie==null?void 0:Ie.peak1s)||0),peak5s:Number((Ie==null?void 0:Ie.peak5s)||0),peak30s:Number((Ie==null?void 0:Ie.peak30s)||0),peakFightLabel:Z((Ie==null?void 0:Ie.peakFightLabel)||""),peakSkillName:String((Ie==null?void 0:Ie.peakSkillName)||"")}));return{fights:Ae,players:Nt}}const Xe=(Ae,Nt)=>{const Ie=(Nt==null?void 0:Nt.skillMap)||{},jn=(Nt==null?void 0:Nt.buffMap)||{};let pr=0,Wn="";const wr=Ot=>{const Ft=Number(Ot);if(!Number.isFinite(Ft))return String(Ot||"Unknown Skill");const jt=(Ie==null?void 0:Ie[`s${Ft}`])||(Ie==null?void 0:Ie[`${Ft}`]);if(jt!=null&&jt.name)return String(jt.name);const tn=(jn==null?void 0:jn[`b${Ft}`])||(jn==null?void 0:jn[`${Ft}`]);return tn!=null&&tn.name?String(tn.name):`Skill ${Ft}`},Dn=Ot=>{if(!Ot||typeof Ot!="object")return;const Ft=[Number(Ot.max),Number(Ot.maxDamage),Number(Ot.maxHit)].filter(tn=>Number.isFinite(tn)),jt=Ft.length>0?Math.max(...Ft):0;jt>pr&&(pr=jt,Wn=wr(Ot.id))};let Ga=!1;return Array.isArray(Ae==null?void 0:Ae.targetDamageDist)&&Ae.targetDamageDist.forEach(Ot=>{Array.isArray(Ot)&&Ot.forEach(Ft=>{Array.isArray(Ft)&&Ft.forEach(jt=>{Ga=!0,Dn(jt)})})}),(!Ga||pr<=0)&&Array.isArray(Ae==null?void 0:Ae.totalDamageDist)&&Ae.totalDamageDist.forEach(Ot=>{Array.isArray(Ot)&&Ot.forEach(Ft=>Dn(Ft))}),{peak:pr,skillName:Wn||"Unknown Skill"}},gt=(Ae,Nt)=>{const Ie=Ft=>{if(!Array.isArray(Ft)||Ft.length===0)return[];const jt=[];for(let tn=0;tn<Ft.length;tn+=1){const kr=Number(Ft[tn]||0),or=tn>0?Number(Ft[tn-1]||0):0;jt.push(Math.max(0,kr-or))}return jt},jn=(Ft,jt)=>{if(!Array.isArray(Ft)||Ft.length===0||jt<=0)return 0;let tn=0,kr=0;for(let or=0;or<Ft.length;or+=1)tn+=Number(Ft[or]||0),or>=jt&&(tn-=Number(Ft[or-jt]||0)),or>=jt-1&&tn>kr&&(kr=tn);return Math.max(0,kr)},pr=Ft=>{if(!Array.isArray(Ft))return[];const jt=Ft.reduce((kr,or)=>Math.max(kr,Array.isArray(or)?or.length:0),0);if(jt<=0)return[];const tn=new Array(jt).fill(0);return Ft.forEach(kr=>{if(Array.isArray(kr))for(let or=0;or<jt;or+=1)tn[or]+=Number(kr[or]||0)}),tn},Wn=Ft=>Array.isArray(Ft)?Ft.map(jt=>Number(jt||0)):null,wr=(Ft=>{if(!Array.isArray(Ft)||Ft.length===0)return null;const jt=Ft[0];if(!Array.isArray(jt))return null;if(Array.isArray(jt[0])&&Array.isArray(jt[0][0]))return pr(jt);if(Array.isArray(jt[0])&&!Array.isArray(jt[0][0])){const tn=Ft.map(kr=>Wn(Array.isArray(kr)?kr[0]:null)).filter(kr=>Array.isArray(kr)&&kr.length>0);if(tn.length>0)return pr(tn)}return null})(Ae==null?void 0:Ae.targetDamage1S),Dn=Array.isArray(Ae==null?void 0:Ae.damage1S)&&Array.isArray(Ae.damage1S[0])?Ae.damage1S[0]:null,Ga=wr||(Array.isArray(Dn)?Dn.map(Ft=>Number(Ft||0)):[]),Ot=Ie(Ga);return jn(Ot,Nt)},Pt=[],cn=new Map;e.forEach(Ae=>{const Nt=Ae==null?void 0:Ae.details;if(!Nt)return;const Ie=Pt.length+1,jn=Z(Nt.fightName||Ae.fightName||`Fight ${Ie}`),pr=Nt.zone||Nt.mapName||Nt.map||Nt.location||"",Wn=ye(jn,String(pr||"")),wr={};(Array.isArray(Nt.players)?Nt.players:[]).forEach(jt=>{if(jt!=null&&jt.notInSquad)return;const tn=String((jt==null?void 0:jt.account)||(jt==null?void 0:jt.name)||"Unknown"),kr=String((jt==null?void 0:jt.character_name)||(jt==null?void 0:jt.display_name)||(jt==null?void 0:jt.name)||""),or=String((jt==null?void 0:jt.profession)||"Unknown"),Dl=`${tn}|${or}`,Fs=Xe(jt,Nt),Rs=Number(Fs.peak||0),Ol=Number(gt(jt,1)||0),Rc=Number(gt(jt,5)||0),$c=Number(gt(jt,30)||0);wr[Dl]={hit:Rs,burst1s:Ol,burst5s:Rc,burst30s:$c,skillName:Fs.skillName};const Ir=cn.get(Dl)||{key:Dl,account:tn,displayName:tn,characterName:kr,profession:or,professionList:[or],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Ir.logs+=1,Ir.professionList.includes(or)||Ir.professionList.push(or),!Ir.characterName&&kr&&(Ir.characterName=kr),Rs>Ir.peakHit&&(Ir.peakHit=Rs,Ir.peakFightLabel=Wn,Ir.peakSkillName=Fs.skillName),Ol>Ir.peak1s&&(Ir.peak1s=Ol),Rc>Ir.peak5s&&(Ir.peak5s=Rc),$c>Ir.peak30s&&(Ir.peak30s=$c),cn.set(Dl,Ir)});const Dn=Object.values(wr).reduce((jt,tn)=>Math.max(jt,Number((tn==null?void 0:tn.hit)||0)),0),Ga=Object.values(wr).reduce((jt,tn)=>Math.max(jt,Number((tn==null?void 0:tn.burst1s)||0)),0),Ot=Object.values(wr).reduce((jt,tn)=>Math.max(jt,Number((tn==null?void 0:tn.burst5s)||0)),0),Ft=Object.values(wr).reduce((jt,tn)=>Math.max(jt,Number((tn==null?void 0:tn.burst30s)||0)),0);Pt.push({id:Ae.filePath||Ae.id||`fight-${Ie}`,shortLabel:`F${Ie}`,fullLabel:Wn,timestamp:Pe(Nt,Ae),values:wr,maxHit:Dn,max1s:Ga,max5s:Ot,max30s:Ft})});const Vt=Array.from(cn.values()).sort((Ae,Nt)=>Nt.peakHit!==Ae.peakHit?Nt.peakHit-Ae.peakHit:Ae.displayName.localeCompare(Nt.displayName));return{fights:Pt,players:Vt}},[e,I]),ir=v.useMemo(()=>{const Z=se=>String(se||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),le=I==null?void 0:I.incomingStrikeDamage,ye=Array.isArray(le==null?void 0:le.fights)?le.fights:[],Ue=Array.isArray(le==null?void 0:le.players)?le.players:[];if(ye.length===0&&Ue.length===0)return{fights:[],players:[]};const Pe=ye.map((se,Ye)=>{const xn=se!=null&&se.values&&typeof se.values=="object"?se.values:{},Xe={};return Object.entries(xn).forEach(([gt,Pt])=>{if(Pt&&typeof Pt=="object"){const cn=Number(Pt.damage||0);Xe[gt]={hit:Number(Pt.hit??cn),burst1s:Number(Pt.burst1s||0),burst5s:Number(Pt.burst5s||0),burst30s:Number(Pt.burst30s||0),skillName:String(Pt.skillName||""),buckets5s:Array.isArray(Pt.buckets5s)?Pt.buckets5s.map(Vt=>Number(Vt||0)):void 0,downIndices5s:Array.isArray(Pt.downIndices5s)?Pt.downIndices5s.map(Vt=>Number(Vt)).filter(Vt=>Number.isFinite(Vt)&&Vt>=0):void 0,deathIndices5s:Array.isArray(Pt.deathIndices5s)?Pt.deathIndices5s.map(Vt=>Number(Vt)).filter(Vt=>Number.isFinite(Vt)&&Vt>=0):void 0,skillRows:Array.isArray(Pt.skillRows)?Pt.skillRows.map(Vt=>({skillName:String((Vt==null?void 0:Vt.skillName)||(Vt==null?void 0:Vt.name)||"Unknown Skill"),damage:Number((Vt==null?void 0:Vt.damage)||0),hits:Number((Vt==null?void 0:Vt.hits)||0),icon:typeof(Vt==null?void 0:Vt.icon)=="string"?Vt.icon:void 0})).filter(Vt=>Number.isFinite(Vt.damage)&&Vt.damage>0):void 0};return}Xe[gt]={hit:Number(Pt||0),burst1s:0,burst5s:0,burst30s:0,skillName:""}}),{id:String((se==null?void 0:se.id)||`fight-${Ye+1}`),shortLabel:String((se==null?void 0:se.shortLabel)||`F${Ye+1}`),fullLabel:Z((se==null?void 0:se.fullLabel)||`Fight ${Ye+1}`),timestamp:Number((se==null?void 0:se.timestamp)||0),values:Xe,maxHit:Number((se==null?void 0:se.maxHit)??(se==null?void 0:se.maxDamage)??0),max1s:Number((se==null?void 0:se.max1s)||0),max5s:Number((se==null?void 0:se.max5s)||0),max30s:Number((se==null?void 0:se.max30s)||0)}}),it=Ue.map(se=>({key:String((se==null?void 0:se.key)||""),account:String((se==null?void 0:se.account)||"Unknown"),displayName:String((se==null?void 0:se.displayName)||(se==null?void 0:se.account)||"Unknown"),characterName:String((se==null?void 0:se.characterName)||(se==null?void 0:se.name)||(se==null?void 0:se.character_name)||(se==null?void 0:se.display_name)||""),profession:String((se==null?void 0:se.profession)||"Unknown"),professionList:Array.isArray(se==null?void 0:se.professionList)?se.professionList.map(Ye=>String(Ye)):[],logs:Number((se==null?void 0:se.logs)||0),peakHit:Number((se==null?void 0:se.peakHit)||0),peak1s:Number((se==null?void 0:se.peak1s)||0),peak5s:Number((se==null?void 0:se.peak5s)||0),peak30s:Number((se==null?void 0:se.peak30s)||0),peakFightLabel:Z((se==null?void 0:se.peakFightLabel)||""),peakSkillName:String((se==null?void 0:se.peakSkillName)||"")}));return{fights:Pe,players:it}},[I]),Ti=v.useMemo(()=>{const Z=new Map;return Nn.players.forEach(le=>Z.set(le.key,le)),Z},[Nn.players]),Fc=v.useMemo(()=>{const Z=Pe=>me==="hit"?Pe.peakHit:me==="1s"?Pe.peak1s:me==="5s"?Pe.peak5s:Pe.peak30s,le=Zr.trim().toLowerCase(),ye=le?Nn.players.filter(Pe=>Pe.displayName.toLowerCase().includes(le)||Pe.account.toLowerCase().includes(le)||Pe.profession.toLowerCase().includes(le)):Nn.players,Ue=new Map;return ye.forEach(Pe=>{const it=Pe.profession||"Unknown",se=Ue.get(it)||[];se.push(Pe),Ue.set(it,se)}),Array.from(Ue.entries()).map(([Pe,it])=>({profession:Pe,players:[...it].sort((se,Ye)=>Z(Ye)-Z(se)||se.displayName.localeCompare(Ye.displayName))})).sort((Pe,it)=>Pe.profession.localeCompare(it.profession))},[Nn.players,Zr,me]),Wp=pe&&Ti.get(pe)||null,Ka=v.useMemo(()=>{if(!pe)return[];const Z=ye=>ye?Number(me==="hit"?ye.hit||0:me==="1s"?ye.burst1s||0:me==="5s"?ye.burst5s||0:ye.burst30s||0):0,le=ye=>Number(me==="hit"?ye.maxHit||0:me==="1s"?ye.max1s||0:me==="5s"?ye.max5s||0:ye.max30s||0);return Nn.fights.map((ye,Ue)=>{var Pe;return{index:Ue,fightId:ye.id,shortLabel:ye.shortLabel,fullLabel:ye.fullLabel,timestamp:Number(ye.timestamp||0),damage:Z(ye.values[pe]),maxDamage:le(ye),skillName:String(((Pe=ye.values[pe])==null?void 0:Pe.skillName)||"")}})},[Nn.fights,pe,me]),Hp=v.useMemo(()=>{const Z=Ka.reduce((ye,Ue)=>Math.max(ye,Number(Ue.damage||0)),0),le=Ka.reduce((ye,Ue)=>Math.max(ye,Number(Ue.maxDamage||0)),0);return Math.max(1,Z,le)},[Ka]),El=v.useMemo(()=>{var Z,le,ye,Ue,Pe,it,se,Ye,xn;const Xe=ke===null?null:Ka.find(Te=>Te.index===ke)||null;if(!Xe||!pe)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const gt=hn(Nn.fights,Xe),[Pt,cn]=pe.split("|"),Vt=e.find(Te=>String((Te==null?void 0:Te.filePath)||(Te==null?void 0:Te.id)||"")===String(Xe.fightId||"")),Ae=Vt==null?void 0:Vt.details,Nt=Te=>Array.isArray(Te)?Te.map(dt=>Array.isArray(dt)?[Number(dt[0]),Number(dt[1])]:dt&&typeof dt=="object"?[Number(dt.time),Number(dt.value)]:null).filter(dt=>!!dt&&Number.isFinite(dt[0])&&dt[0]>=0):[],Ie=Te=>String(Te||"").trim().toLowerCase(),jn=Ie(Pt),pr=Ie(cn),Wn=Ti.get(pe),wr=new Set([Ie(Wn==null?void 0:Wn.displayName),Ie(Wn==null?void 0:Wn.characterName),Ie(Wn==null?void 0:Wn.account)].filter(Boolean)),Dn=Array.isArray(Ae==null?void 0:Ae.players)&&((Z=Ae.players.map(Te=>{const dt=Ie(Te==null?void 0:Te.account),Qt=Ie(Te==null?void 0:Te.name),Hn=Ie(Te==null?void 0:Te.profession),gn=!!dt&&dt===jn,sr=!!Qt&&(Qt===jn||wr.has(Qt)),Ji=!!dt&&wr.has(dt),$s=!pr||Hn===pr;let eo=0;return gn&&(eo+=100),sr&&(eo+=90),Ji&&(eo+=80),$s&&(eo+=20),{player:Te,score:eo}}).filter(Te=>Te.score>0).sort((Te,dt)=>dt.score-Te.score)[0])==null?void 0:Z.player)||null,Ga=(()=>{const Te=Dn==null?void 0:Dn.combatReplayData;return Array.isArray(Te)?Te.filter(dt=>dt&&typeof dt=="object"):Te&&typeof Te=="object"?[Te]:[]})(),Ot=Ga.flatMap(Te=>Nt(Te==null?void 0:Te.down).map(([dt])=>dt)),Ft=Ga.flatMap(Te=>Nt(Te==null?void 0:Te.dead).map(([dt])=>dt)),jt=Ga.map(Te=>Number(Te==null?void 0:Te.start)).filter(Te=>Number.isFinite(Te)&&Te>=0),tn=Array.isArray(Ae==null?void 0:Ae.players)?Ae.players.flatMap(Te=>{const dt=Te==null?void 0:Te.combatReplayData;return Array.isArray(dt)?dt.map(Qt=>Number(Qt==null?void 0:Qt.start)):[Number(dt==null?void 0:dt.start)]}).filter(Te=>Number.isFinite(Te)&&Te>=0).reduce((Te,dt)=>Math.min(Te,dt),Number.POSITIVE_INFINITY):Number.POSITIVE_INFINITY,kr=[0,Number((Ae==null?void 0:Ae.logStartOffset)||0),...jt,Number.isFinite(tn)?tn:0].filter(Te=>Number.isFinite(Te)&&Te>=0),or=Te=>{const dt=Math.max(0,Math.floor(Number(Te||0)/1e3)),Qt=Math.floor(dt/5)*5;return`${Qt}s-${Qt+5}s`},Dl=(Te,dt)=>{if(Te.length===0||dt.length===0)return[];const Qt=dt.length*5e3,Hn=mr=>mr.reduce((Co,zc)=>zc>=0&&zc<=Qt+2e3?Co+1:Co,0),gn=[],sr=Te.map(mr=>Number(mr||0)).filter(mr=>Number.isFinite(mr)&&mr>=0);if(sr.length===0)return[];gn.push(sr);const Ji=sr.reduce((mr,Co)=>Math.max(mr,Co),0),$s=sr.reduce((mr,Co)=>Math.min(mr,Co),Number.POSITIVE_INFINITY);Ji>Qt*20&&gn.push(sr.map(mr=>mr/1e3)),Ji<=Qt*2&&$s>=0&&Ji>0&&Ji<Math.max(120,dt.length*5+10)&&gn.push(sr.map(mr=>mr*1e3));let eo=sr,PN=0,TN=-1;return gn.forEach(mr=>{const Co=new Set(kr),zc=mr.reduce((Il,Ay)=>Math.min(Il,Ay),Number.POSITIVE_INFINITY);if(Number.isFinite(zc)&&Qt>0&&zc>Qt){const Il=Math.floor(zc/Qt)*Qt;Co.add(Il),Co.add(Math.max(0,Il-Qt))}Co.forEach(Il=>{const Ay=mr.map(C6=>C6-Il),DN=Hn(Ay);DN>TN&&(TN=DN,PN=Il,eo=mr)})}),eo.map(mr=>mr-PN).filter(mr=>Number.isFinite(mr)&&mr>=0)},Fs=(Te,dt)=>{if(Te.length===0||dt.length===0)return[];const Qt=Dl(dt,Te),Hn=new Map;Te.forEach(sr=>{const Ji=/^(\d+)s-/.exec(String(sr));if(!Ji)return;const $s=Number(Ji[1]);Number.isFinite($s)&&Hn.set($s,sr)});const gn=[];return Qt.forEach(sr=>{const Ji=Math.max(0,Math.floor(Number(sr||0)/1e3)),$s=Math.floor(Ji/5)*5,eo=Hn.get($s)||or(sr);Te.includes(eo)&&gn.push(eo)}),Array.from(new Set(gn))},Rs=(Te,dt)=>{if(Te<=0||dt.length===0)return[];const Qt=Array.from({length:Te},(gn,sr)=>`${sr*5}s-${(sr+1)*5}s`),Hn=Dl(dt,Qt).map(gn=>Math.floor(Math.max(0,Number(gn||0))/5e3)).filter(gn=>Number.isFinite(gn)&&gn>=0&&gn<Te);return Array.from(new Set(Hn))},Ol=Array.isArray((ye=(le=gt==null?void 0:gt.values)==null?void 0:le[pe])==null?void 0:ye.buckets5s)?((Pe=(Ue=gt==null?void 0:gt.values)==null?void 0:Ue[pe])==null?void 0:Pe.buckets5s)||[]:[],Rc=Array.isArray((se=(it=gt==null?void 0:gt.values)==null?void 0:it[pe])==null?void 0:se.downIndices5s)?gt.values[pe].downIndices5s.map(Te=>Number(Te)).filter(Te=>Number.isFinite(Te)&&Te>=0):[],$c=Array.isArray((xn=(Ye=gt==null?void 0:gt.values)==null?void 0:Ye[pe])==null?void 0:xn.deathIndices5s)?gt.values[pe].deathIndices5s.map(Te=>Number(Te)).filter(Te=>Number.isFinite(Te)&&Te>=0):[];if(Ol.length>0){const Te=Math.max(0,Math.ceil(Number((Ae==null?void 0:Ae.durationMS)||0)/5e3)),dt=Math.max(Ol.length,Te),Qt=Array.from({length:dt},(gn,sr)=>({label:`${sr*5}s-${(sr+1)*5}s`,value:Number(Ol[sr]||0)})),Hn=Qt.map(gn=>gn.label);return{title:`Fight Breakdown - ${Xe.shortLabel||"Fight"} (5s Damage Buckets)`,data:Qt,downLabels:Fs(Hn,Ot),deathLabels:Fs(Hn,Ft),downIndices:Rc.length>0?Rc.filter(gn=>gn<Qt.length):Rs(Qt.length,Ot),deathIndices:$c.length>0?$c.filter(gn=>gn<Qt.length):Rs(Qt.length,Ft)}}const Ir=Xe.shortLabel||"Fight";if(!Ae||!Array.isArray(Ae.players))return{title:`Fight Breakdown - ${Ir}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const CN=Ae.players.find(Te=>String((Te==null?void 0:Te.account)||(Te==null?void 0:Te.name)||"Unknown")===Pt&&String((Te==null?void 0:Te.profession)||"Unknown")===cn);if(!CN)return{title:`Fight Breakdown - ${Ir}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const Bc=CN,b6=Te=>{if(!Array.isArray(Te)||Te.length===0)return[];const dt=[];for(let Qt=0;Qt<Te.length;Qt+=1){const Hn=Number(Te[Qt]||0),gn=Qt>0?Number(Te[Qt-1]||0):0;dt.push(Math.max(0,Hn-gn))}return dt},MN=Te=>{if(!Array.isArray(Te))return[];const dt=Te.reduce((Hn,gn)=>Math.max(Hn,Array.isArray(gn)?gn.length:0),0);if(dt<=0)return[];const Qt=new Array(dt).fill(0);return Te.forEach(Hn=>{if(Array.isArray(Hn))for(let gn=0;gn<dt;gn+=1)Qt[gn]+=Number(Hn[gn]||0)}),Qt},x6=Te=>Array.isArray(Te)?Te.map(dt=>Number(dt||0)):null,w6=(Te=>{if(!Array.isArray(Te)||Te.length===0)return null;const dt=Te[0];if(!Array.isArray(dt))return null;if(Array.isArray(dt[0])&&Array.isArray(dt[0][0]))return MN(dt);if(Array.isArray(dt[0])&&!Array.isArray(dt[0][0])){const Qt=Te.map(Hn=>x6(Array.isArray(Hn)?Hn[0]:null)).filter(Hn=>Array.isArray(Hn)&&Hn.length>0);if(Qt.length>0)return MN(Qt)}return null})(Bc==null?void 0:Bc.targetDamage1S),AN=Array.isArray(Bc==null?void 0:Bc.damage1S)&&Array.isArray(Bc.damage1S[0])?Bc.damage1S[0]:null,k6=w6||(Array.isArray(AN)?AN.map(Te=>Number(Te||0)):[]),My=b6(k6),fd=5,S6=Math.max(0,Math.ceil(Number((Ae==null?void 0:Ae.durationMS)||0)/(fd*1e3))),N6=Math.max(0,Math.ceil(My.length/fd)),j6=Math.max(S6,N6),pd=[];for(let Te=0;Te<j6;Te+=1){const dt=Te*fd,Qt=Math.min(dt+fd,My.length),Hn=My.slice(dt,Qt).reduce((gn,sr)=>gn+Number(sr||0),0);pd.push({label:`${dt}s-${dt+fd}s`,value:Hn})}const EN=pd.map(Te=>Te.label);return{title:`Fight Breakdown - ${Ir} (5s Damage Buckets)`,data:pd,downLabels:Fs(EN,Ot),deathLabels:Fs(EN,Ft),downIndices:Rs(pd.length,Ot),deathIndices:Rs(pd.length,Ft)}},[ke,Ka,pe,e,Nn.fights,Ti]),ya=v.useMemo(()=>{const Z=new Map;return ir.players.forEach(le=>Z.set(le.key,le)),Z},[ir.players]),qp=v.useMemo(()=>{const Z=Pe=>Bt==="hit"?Pe.peakHit:Bt==="1s"?Pe.peak1s:Bt==="5s"?Pe.peak5s:Pe.peak30s,le=Ts.trim().toLowerCase(),ye=le?ir.players.filter(Pe=>Pe.displayName.toLowerCase().includes(le)||Pe.account.toLowerCase().includes(le)||Pe.profession.toLowerCase().includes(le)):ir.players,Ue=new Map;return ye.forEach(Pe=>{const it=Pe.profession||"Unknown",se=Ue.get(it)||[];se.push(Pe),Ue.set(it,se)}),Array.from(Ue.entries()).map(([Pe,it])=>({profession:Pe,players:[...it].sort((se,Ye)=>Z(Ye)-Z(se)||se.displayName.localeCompare(Ye.displayName))})).sort((Pe,it)=>Pe.profession.localeCompare(it.profession))},[ir.players,Ts,Bt]),ud=je&&ya.get(je)||null,Er=v.useMemo(()=>{if(!je)return[];const Z=ye=>ye?Number(Bt==="hit"?ye.hit||0:Bt==="1s"?ye.burst1s||0:Bt==="5s"?ye.burst5s||0:ye.burst30s||0):0,le=ye=>Number(Bt==="hit"?ye.maxHit||0:Bt==="1s"?ye.max1s||0:Bt==="5s"?ye.max5s||0:ye.max30s||0);return ir.fights.map((ye,Ue)=>{var Pe;return{index:Ue,fightId:ye.id,shortLabel:ye.shortLabel,fullLabel:ye.fullLabel,timestamp:Number(ye.timestamp||0),damage:Z(ye.values[je]),maxDamage:le(ye),skillName:String(((Pe=ye.values[je])==null?void 0:Pe.skillName)||"")}})},[ir.fights,je,Bt]),_s=v.useMemo(()=>{const Z=Er.reduce((ye,Ue)=>Math.max(ye,Number(Ue.damage||0)),0),le=Er.reduce((ye,Ue)=>Math.max(ye,Number(Ue.maxDamage||0)),0);return Math.max(1,Z,le)},[Er]),qo=v.useMemo(()=>{var Z,le,ye,Ue,Pe,it,se,Ye,xn;const Xe=rt===null?null:Er.find(Ie=>Ie.index===rt)||null;if(!Xe||!je)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const gt=hn(ir.fights,Xe),Pt=(Z=gt==null?void 0:gt.values)==null?void 0:Z[je],cn=Array.isArray((ye=(le=gt==null?void 0:gt.values)==null?void 0:le[je])==null?void 0:ye.buckets5s)?((Pe=(Ue=gt==null?void 0:gt.values)==null?void 0:Ue[je])==null?void 0:Pe.buckets5s)||[]:[],Vt=Array.isArray((se=(it=gt==null?void 0:gt.values)==null?void 0:it[je])==null?void 0:se.downIndices5s)?gt.values[je].downIndices5s.map(Ie=>Number(Ie)).filter(Ie=>Number.isFinite(Ie)&&Ie>=0):[],Ae=Array.isArray((xn=(Ye=gt==null?void 0:gt.values)==null?void 0:Ye[je])==null?void 0:xn.deathIndices5s)?gt.values[je].deathIndices5s.map(Ie=>Number(Ie)).filter(Ie=>Number.isFinite(Ie)&&Ie>=0):[];if(cn.length>0){const Ie=cn.map((jn,pr)=>({label:`${pr*5}s-${(pr+1)*5}s`,value:Number(jn||0)}));return{title:`Fight Breakdown - ${Xe.shortLabel||"Fight"} (5s Damage Buckets)`,data:Ie,downLabels:[],deathLabels:[],downIndices:Vt.filter(jn=>jn<Ie.length),deathIndices:Ae.filter(jn=>jn<Ie.length)}}const Nt=Pt?Number(Bt==="hit"?Pt.hit||0:Bt==="1s"?Pt.burst1s||0:Bt==="5s"?Pt.burst5s||0:Pt.burst30s||0):0;return Nt>0?{title:`Fight Breakdown - ${Xe.shortLabel||"Fight"} (Estimated)`,data:[{label:"0s-5s",value:Nt}],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]}:{title:`Fight Breakdown - ${Xe.shortLabel||"Fight"}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]}},[rt,Er,je,ir.fights,Bt]),Ya=v.useMemo(()=>{var Z;if(rt===null||!je)return[];const le=Er.find(se=>se.index===rt);if(!le)return[];const ye=hn(ir.fights,le),Ue=(Z=ye==null?void 0:ye.values)==null?void 0:Z[je],Pe=[...(Ue==null?void 0:Ue.skillRows)||[]].filter(se=>Number((se==null?void 0:se.damage)||0)>0).sort((se,Ye)=>Number(Ye.damage||0)-Number(se.damage||0)).slice(0,30);if(Pe.length>0)return Pe;const it=Number((Ue==null?void 0:Ue.hit)||0);return it<=0?Pe:[{skillName:String((Ue==null?void 0:Ue.skillName)||"Unknown Skill"),damage:it,hits:1,icon:void 0}]},[rt,je,Er,ir.fights]),Pl=v.useMemo(()=>{var Z,le;if(ke===null||!pe)return[];const ye=Ka.find(Pe=>Pe.index===ke);if(!ye)return[];const Ue=hn(Nn.fights,ye);return[...((le=(Z=Ue==null?void 0:Ue.values)==null?void 0:Z[pe])==null?void 0:le.skillRows)||[]].filter(Pe=>Number((Pe==null?void 0:Pe.damage)||0)>0).sort((Pe,it)=>Number(it.damage||0)-Number(Pe.damage||0)).slice(0,30)},[ke,pe,Ka,Nn.fights]);v.useEffect(()=>{if(De.length===0){qt!==null&&Sn(null),Qr!==null&&Pi(null);return}if(!qt||!Ge.has(qt)){const Z=De[0].key;Sn(Z),oa(null)}},[De,Ge,qt,Qr]),v.useEffect(()=>{if(!ut||ut.skills.length===0){Qr!==null&&Pi(null);return}const Z=ut.skills.some(le=>le.id===Qr);(!Qr||!Z)&&Pi(ut.skills[0].id)},[ut,Qr]),v.useEffect(()=>{if(nt.length===0){jo!==null&&Os(null),ui!==null&&di(null);return}if(!jo||!An.has(jo)){const Z=nt[0].profession;Os(Z),Is(null)}},[nt,An,jo,ui]),v.useEffect(()=>{if(!bn||bn.skills.length===0){ui!==null&&di(null);return}const Z=bn.skills.some(le=>le.id===ui);(!ui||!Z)&&di(bn.skills[0].id)},[bn,ui]),v.useEffect(()=>{if(Nn.players.length===0){pe!==null&&Ne(null);return}(!pe||!Ti.has(pe))&&pe!==null&&Ne(null)},[Nn.players,Ti,pe]),v.useEffect(()=>{ze(null)},[pe,me]),v.useEffect(()=>{ke!==null&&(Ka.some(Z=>Z.index===ke)||ze(null))},[Ka,ke]),v.useEffect(()=>{if(ir.players.length===0){je!==null&&bt(null);return}(!je||!ya.has(je))&&je!==null&&bt(null)},[ir.players,ya,je]),v.useEffect(()=>{at(null)},[je,Bt]),v.useEffect(()=>{rt!==null&&(Er.some(Z=>Z.index===rt)||at(null))},[Er,rt]);const Tl=v.useMemo(()=>new Set(Et),[Et]),{playerMapByKey:Ta,playerTotalsForSkill:Di,skillChartData:$R,skillChartMaxY:BR,groupedSkillUsagePlayers:zR}=J8({skillUsageData:A,selectedSkillId:qe,selectedPlayers:Tl,skillUsageView:Ze==="perSecond"?"perSecond":"total"}),gN=v.useMemo(()=>{const Z=new Map,le=it=>{it.forEach(se=>{const Ye=Yc(se==null?void 0:se.name)||(se==null?void 0:se.name);Ye&&se!=null&&se.icon&&!Z.has(Ye)&&Z.set(Ye,se.icon)})},ye=it=>{it.forEach(se=>{Object.entries((se==null?void 0:se.conditions)||{}).forEach(([Ye,xn])=>{const Xe=Yc(Ye)||Ye;xn!=null&&xn.icon&&!Z.has(Xe)&&Z.set(Xe,xn.icon)})})},Ue=it=>{const se=new Map;return it.forEach(Ye=>{const xn=Yc(Ye==null?void 0:Ye.name)||(Ye==null?void 0:Ye.name);if(!xn)return;const Xe=se.get(xn)||{name:xn,icon:(Ye==null?void 0:Ye.icon)||Z.get(xn)||hm(xn),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0};Xe.applications+=Number((Ye==null?void 0:Ye.applications)||0),Xe.damage+=Number((Ye==null?void 0:Ye.damage)||0),Ye!=null&&Ye.applicationsFromUptime&&(Xe.applicationsFromUptime+=Number(Ye.applicationsFromUptime||0)),Ye!=null&&Ye.applicationsFromBuffs&&(Xe.applicationsFromBuffs+=Number(Ye.applicationsFromBuffs||0)),Ye!=null&&Ye.applicationsFromBuffsActive&&(Xe.applicationsFromBuffsActive+=Number(Ye.applicationsFromBuffsActive||0)),!Xe.icon&&Ye!=null&&Ye.icon&&(Xe.icon=Ye.icon),Xe.icon||(Xe.icon=hm(xn)),se.set(xn,Xe)}),Array.from(se.values())},Pe=it=>it.map(se=>{const Ye={};return Object.entries((se==null?void 0:se.conditions)||{}).forEach(([xn,Xe])=>{const gt=Yc(xn)||xn;if(!gt)return;const Pt=Ye[gt]||{icon:(Xe==null?void 0:Xe.icon)||Z.get(gt)||hm(gt),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0,skills:{}};Pt.applications+=Number((Xe==null?void 0:Xe.applications)||0),Pt.damage+=Number((Xe==null?void 0:Xe.damage)||0),Xe!=null&&Xe.applicationsFromUptime&&(Pt.applicationsFromUptime+=Number(Xe.applicationsFromUptime||0)),Xe!=null&&Xe.applicationsFromBuffs&&(Pt.applicationsFromBuffs+=Number(Xe.applicationsFromBuffs||0)),Xe!=null&&Xe.applicationsFromBuffsActive&&(Pt.applicationsFromBuffsActive+=Number(Xe.applicationsFromBuffsActive||0)),!Pt.icon&&Xe!=null&&Xe.icon&&(Pt.icon=Xe.icon),Pt.icon||(Pt.icon=hm(gt)),Object.values((Xe==null?void 0:Xe.skills)||{}).forEach(cn=>{const Vt=(cn==null?void 0:cn.name)||"Unknown",Ae=Pt.skills[Vt]||{name:Vt,hits:0,damage:0,icon:cn==null?void 0:cn.icon};Ae.hits+=Number((cn==null?void 0:cn.hits)||0),Ae.damage+=Number((cn==null?void 0:cn.damage)||0),!Ae.icon&&cn!=null&&cn.icon&&(Ae.icon=cn.icon),Pt.skills[Vt]=Ae}),Ye[gt]=Pt}),{...se,conditions:Ye}});return(it,se)=>(le(it),ye(se),{summary:Ue(it),players:Pe(se)})},[]),yN=qa==="outgoing"?I.outgoingConditionSummary:I.incomingConditionSummary,vN=qa==="outgoing"?I.outgoingConditionPlayers:I.incomingConditionPlayers,{summary:Kp,players:VR}=v.useMemo(()=>gN(yN||[],vN||[]),[gN,yN,vN]);v.useEffect(()=>{if(Se==="all"||Kp.some(le=>le.name===Se))return;const Z=Yc(Se);Z&&Kp.some(le=>le.name===Z)?Qe(Z):Qe("all")},[Se,Kp,Qe]);const UR=v.useMemo(()=>{const Z={};return Di.forEach((le,ye)=>{const Ue=Ta.get(ye);if(!Ue)return;const Pe=Ue.profession;(!Z[Pe]||le>Z[Pe])&&(Z[Pe]=le)}),Z},[Di,Ta]),Tt=v.useCallback(Z=>d?d(Z):!0,[d]),Gn=v.useCallback((Z,le)=>{const ye=Tt(Z);return d?`${le} ${ye?"":"hidden"}`:`${le} transition-[opacity,transform] duration-700 ease-in-out ${ye?"opacity-100 translate-y-0 max-h-[99999px]":"opacity-0 -translate-y-2 max-h-0 h-0 min-h-0 overflow-hidden pointer-events-none p-0 !p-0 m-0 !mb-0 !mt-0 border-0 !border-0 border-transparent"}`},[Tt,d]),bN=v.useMemo(()=>Rae.find(Z=>Tt(Z))||null,[Tt]),Xn=v.useCallback(Z=>Z===bN,[bN]),WR=v.useMemo(()=>{const Z=new Map,le=new Map;return Et.forEach(ye=>{const Ue=Ta.get(ye);if(!Ue)return;const Pe=Di.get(ye)??0,it=le.get(Ue.profession)||[];it.push({key:ye,total:Pe}),le.set(Ue.profession,it)}),le.forEach(ye=>{ye.sort((Ue,Pe)=>Pe.total-Ue.total),ye.forEach((Ue,Pe)=>{Z.set(Ue.key,Pe)})}),Z},[Et,Ta,Di]),xN=["0","12 3","8 3","6 3","4 3","2 3"],HR=Z=>{const le=Ta.get(Z),ye=ac((le==null?void 0:le.profession)||""),Ue=Di.get(Z)??0,Pe=le!=null&&le.profession&&UR[le.profession]||1,it=.35+(Pe>0?Ue/Pe:1)*.65;return Yp(ye,it)},qR=Z=>{const le=WR.get(Z)??0;return xN[le%xN.length]},KR=(Z,le,ye)=>{if(!ye)return HR(Z);const Ue=Ta.get(Z),Pe=ac((Ue==null?void 0:Ue.profession)||"");return le?Yp(Pe,1.2):Yp(Pe,.5)},Yp=(Z,le)=>{const ye=Z.replace("#","");if(ye.length!==6)return Z;const Ue=Xe=>Math.max(0,Math.min(255,Xe)),Pe=Xe=>Number.parseInt(ye.slice(Xe,Xe+2),16),it=Xe=>Ue(Math.round(Xe)).toString(16).padStart(2,"0"),se=Pe(0),Ye=Pe(2),xn=Pe(4);return`#${it(se*le)}${it(Ye*le)}${it(xn*le)}`},wN=v.useMemo(()=>{const Z=new Map;return A.skillOptions.forEach(le=>{Z.set(le.id,{name:le.name,icon:le.icon})}),Z},[A.skillOptions]),dd=v.useMemo(()=>{var Z;if(Et.length===0)return[];const le=new Map,ye=new Map;let Ue=0;Et.forEach(Xe=>{const gt=Ta.get(Xe);if(!gt)return;Ue+=gt.totalActiveSeconds||0,Object.entries(gt.skillTotals||{}).forEach(([cn,Vt])=>{le.set(cn,(le.get(cn)||0)+Number(Vt||0))});const Pt=gt.profession||"Unknown";ye.set(Pt,(ye.get(Pt)||0)+(gt.totalActiveSeconds||0))});const Pe=fn.trim().toLowerCase(),it=Ze==="perSecond",se=((Z=Array.from(ye.entries()).sort((Xe,gt)=>gt[1]-Xe[1])[0])==null?void 0:Z[0])||"Unknown",Ye=ac(se),xn="#64748b";return Array.from(le.entries()).map(([Xe,gt])=>{const Pt=wN.get(Xe),cn=(Pt==null?void 0:Pt.name)||Xe,Vt=it&&Ue>0?gt/Ue:gt;return{skillId:Xe,name:cn,icon:Pt==null?void 0:Pt.icon,total:Vt}}).filter(Xe=>Xe.total>0&&(!Pe||Xe.name.toLowerCase().includes(Pe))).sort((Xe,gt)=>gt.total-Xe.total).map((Xe,gt)=>({...Xe,color:gt===0?Ye:Yp(Ye,.85-Math.min(gt*.06,.4))||xn}))},[Et,Ta,fn,Ze,wN]);v.useEffect(()=>{if(dd.length===0){qe!==null&&st(null);return}(!qe||!dd.some(Z=>Z.skillId===qe))&&st(dd[0].skillId)},[dd,qe,st]);const Gp=A.skillOptions.find(Z=>Z.id===qe),YR=(Gp==null?void 0:Gp.name)||"",GR=(Gp==null?void 0:Gp.icon)||null,XR=j&&!!qe&&Et.length>0,Xp="__all__",ZR=j&&fi.length>0,Ls=v.useMemo(()=>fi.find(Z=>Z.profession===ft)??null,[fi,ft]),QR=Ee===Xp,JR=v.useMemo(()=>{var Z;return((Z=Ls==null?void 0:Ls.skills)==null?void 0:Z.find(le=>le.id===Ee))??null},[Ls,Ee]);v.useEffect(()=>{if(fi.length===0){ft!==null&&rn(null),Lt!==null&&Mt(null);return}if(!ft||!fi.some(Z=>Z.profession===ft)){const Z=fi[0].profession;rn(Z),Mt(null)}},[fi,ft,Lt]),v.useEffect(()=>{if(!Ls||Ls.skills.length===0){Ee!==null&&xe(null);return}const Z=Ls.skills.some(le=>le.id===Ee);(!Ee||!Z&&Ee!==Xp)&&xe(Xp)},[Ls,Ee]);const e6=Z=>{Ht(le=>le.includes(Z)?le.filter(ye=>ye!==Z):[...le,Z])},t6=Z=>{Ht(le=>le.filter(ye=>ye!==Z))},n6=v.useMemo(()=>{const Z=Xt.trim().toLowerCase(),le=I.boonTables||[];return Z?le.filter(ye=>ye.name.toLowerCase().includes(Z)):le},[I.boonTables,Xt]),r6=v.useMemo(()=>be?(I.boonTables||[]).find(Z=>Z.id===be)??null:null,[I.boonTables,be]),a6=v.useMemo(()=>{const Z=Fe.trim().toLowerCase(),le=[...I.specialTables||[]].sort((ye,Ue)=>ye.name.localeCompare(Ue.name));return Z?le.filter(ye=>ye.name.toLowerCase().includes(Z)):le},[I.specialTables,Fe]),Qi=v.useMemo(()=>[...I.specialTables||[]].filter(Z=>/\b(sigil|relic)\b/i.test(String((Z==null?void 0:Z.name)||""))).sort((Z,le)=>Z.name.localeCompare(le.name)),[I.specialTables]),i6=v.useMemo(()=>{const Z=Tn.trim().toLowerCase();return Z?Qi.filter(le=>le.name.toLowerCase().includes(Z)):Qi},[Qi,Tn]),o6=v.useMemo(()=>On?(I.specialTables||[]).find(Z=>Z.id===On)??null:null,[I.specialTables,On]),s6=v.useMemo(()=>_t?Qi.find(Z=>Z.id===_t)??null:null,[Qi,_t]);v.useEffect(()=>{!I.boonTables||I.boonTables.length===0||(!be||!I.boonTables.some(Z=>Z.id===be))&&et(I.boonTables[0].id)},[I.boonTables,be]),v.useEffect(()=>{!I.specialTables||I.specialTables.length===0||(!On||!I.specialTables.some(Z=>Z.id===On))&&ge(I.specialTables[0].id)},[I.specialTables,On]),v.useEffect(()=>{if(!Qi||Qi.length===0){_t!==null&&pn(null);return}(!_t||!Qi.some(Z=>Z.id===_t))&&pn(Qi[0].id)},[Qi,_t]),v.useEffect(()=>{const Z=()=>{const ye=window.getSelection();ye&&ye.rangeCount>0&&ye.removeAllRanges()},le=ye=>{var Ue;const Pe=ye.target;(Ue=Pe==null?void 0:Pe.closest)!=null&&Ue.call(Pe,".recharts-wrapper")&&(ye.preventDefault(),Z())};return document.addEventListener("selectstart",le),document.addEventListener("mousedown",le),document.addEventListener("mousemove",le),document.addEventListener("dragstart",le),()=>{document.removeEventListener("selectstart",le),document.removeEventListener("mousedown",le),document.removeEventListener("mousemove",le),document.removeEventListener("dragstart",le)}},[]);const Da=Z=>{Me.current&&(window.clearTimeout(Me.current),Me.current=null),Ce(!1),V(Z)},sa=()=>{xt&&(Me.current&&window.clearTimeout(Me.current),Ce(!0),Me.current=window.setTimeout(()=>{V(null),Ce(!1),Me.current=null},160))};v.useEffect(()=>{if(!xt)return;const Z=Ue=>{Ue.key==="Escape"&&sa()},le=document.body.style.overflow,ye=document.documentElement.style.overflow;return document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",window.addEventListener("keydown",Z),()=>{window.removeEventListener("keydown",Z),document.body.style.overflow=le,document.documentElement.style.overflow=ye}},[xt]);const kN=(Z,le)=>{const ye=((le==null?void 0:le.value)||0)-((Z==null?void 0:Z.value)||0);return ye!==0?ye:String((Z==null?void 0:Z.name)||"").localeCompare(String((le==null?void 0:le.name)||""))},SN=Array.isArray(I==null?void 0:I.squadClassData)?I.squadClassData:[],NN=Array.isArray(I==null?void 0:I.enemyClassData)?I.enemyClassData:[],l6=Array.isArray(I==null?void 0:I.attendanceData)?I.attendanceData:[],Cy=Array.isArray(I==null?void 0:I.squadCompByFight)?I.squadCompByFight:[],jN=Array.isArray(I==null?void 0:I.fightBreakdown)?I.fightBreakdown:[],c6=v.useMemo(()=>{const Z=new Map;return jN.forEach(le=>{const ye=String((le==null?void 0:le.id)||"");ye&&Z.set(ye,le)}),Cy.map(le=>{const ye=Z.get(String((le==null?void 0:le.id)||""))||null;return{...le,enemyClassCounts:(ye==null?void 0:ye.enemyClassCounts)||{}}})},[Cy,jN]),u6=v.useMemo(()=>[...SN].sort(kN),[SN]),d6=v.useMemo(()=>[...NN].sort(kN),[NN]),f6=c?"stats-view min-h-screen flex flex-col p-0 w-full max-w-none":"stats-view h-full flex flex-col p-1 w-full max-w-none overflow-hidden",p6=c?`stats-sections space-y-0 min-h-0 px-3 pb-3 pt-3 sm:px-4 sm:pb-4 sm:pt-4 rounded-xl border border-white/5 ${xt?"":"backdrop-blur-xl"}`:`flex-1 overflow-y-auto pr-2 space-y-6 min-h-0 border border-white/5 p-4 rounded-xl ${xt?"":"backdrop-blur-2xl"}`,m6=c&&p!=="matte"&&p!=="kinetic"?{backgroundColor:"rgba(3, 7, 18, 0.75)",backgroundImage:"linear-gradient(160deg, rgba(var(--accent-rgb), 0.12), rgba(var(--accent-rgb), 0.04) 70%)"}:c&&p==="kinetic"?{backgroundColor:"var(--bg-elevated)",backgroundImage:"none"}:void 0,h6=Z=>Ze==="perSecond"?Z.toFixed(1):Math.round(Z).toLocaleString(),g6=Z=>Z.toFixed(1),y6=Z=>Math.round(Z).toLocaleString(),v6=Z=>typeof Z=="number"&&Number.isFinite(Z)?Z.toFixed(1):"0.0",Oa=tae;return u.jsxs("div",{className:f6,children:[xt&&u.jsx("div",{className:`fixed inset-0 z-40 bg-black/70 backdrop-blur-md modal-backdrop ${ce?"modal-backdrop-exit":"modal-backdrop-enter"}`,onClick:sa}),u.jsx(Iae,{embedded:c,dashboardTitle:f,totalLogs:I.total,onBack:t,devMockAvailable:ee,devMockUploadState:Q,onDevMockUpload:te,uploadingWeb:P,onWebUpload:_,sharing:re,canShareDiscord:m,onShare:F}),u.jsx(_ae,{embedded:c,webUploadMessage:O,webUploadUrl:U,webUploadBuildStatus:X,webCopyStatus:G,setWebCopyStatus:W}),u.jsx(Lae,{embedded:c,devMockAvailable:ee,devMockUploadState:Q}),u.jsx("div",{className:c?"":"flex-1 min-h-0 flex",children:u.jsxs("div",{id:"stats-dashboard-container",ref:q,className:`${p6} ${c?"":"flex-1"}`,style:m6,children:[u.jsxs(u.Fragment,{children:[Tt("overview")&&u.jsx(vae,{stats:I,isSectionVisible:Tt,isFirstVisibleSection:Xn,sectionClass:Gn}),Tt("fight-breakdown")&&u.jsx(bae,{stats:I,fightBreakdownTab:ve,setFightBreakdownTab:$e,isSectionVisible:Tt,isFirstVisibleSection:Xn,sectionClass:Gn}),Tt("top-players")&&u.jsx(kae,{stats:I,showTopStats:S,showMvp:C,topStatsMode:M,expandedLeader:R,setExpandedLeader:oe,formatTopStatValue:Vs,formatWithCommas:hi,isMvpStatEnabled:H,renderProfessionIcon:Oa,isSectionVisible:Tt,isFirstVisibleSection:Xn,sectionClass:Gn}),Tt("top-skills-outgoing")&&u.jsx(Sae,{stats:I,topSkillsMetric:E,onTopSkillsMetricChange:L,isSectionVisible:Tt,isFirstVisibleSection:Xn,sectionClass:Gn}),Tt("squad-composition")&&u.jsx(Nae,{sortedSquadClassData:u6,sortedEnemyClassData:d6,getProfessionIconPath:Gl,isSectionVisible:Tt,isFirstVisibleSection:Xn,sectionClass:Gn}),Tt("attendance-ledger")&&u.jsx(Eae,{attendanceRows:l6,getProfessionIconPath:Gl,isSectionVisible:Tt,isFirstVisibleSection:Xn,sectionClass:Gn}),Tt("squad-comp-fight")&&u.jsx(Tae,{fights:Cy,getProfessionIconPath:Gl,isSectionVisible:Tt,isFirstVisibleSection:Xn,sectionClass:Gn}),Tt("fight-comp")&&u.jsx(Oae,{fights:c6,getProfessionIconPath:Gl,isSectionVisible:Tt,isFirstVisibleSection:Xn,sectionClass:Gn}),Tt("timeline")&&u.jsx(jae,{timelineData:I.timelineData,timelineFriendlyScope:Le,setTimelineFriendlyScope:lt,isSectionVisible:Tt,isFirstVisibleSection:Xn,sectionClass:Gn}),Tt("map-distribution")&&u.jsx(Cae,{mapData:I.mapData,isSectionVisible:Tt,isFirstVisibleSection:Xn,sectionClass:Gn}),Tt("offense-detailed")&&u.jsx(oae,{stats:I,OFFENSE_METRICS:iD,roundCountStats:N,offenseSearch:Ea,setOffenseSearch:Ei,activeOffenseStat:Oc,setActiveOffenseStat:sd,offenseViewMode:Or,setOffenseViewMode:Ho,formatWithCommas:hi,renderProfessionIcon:Oa,expandedSection:xt,expandedSectionClosing:ce,openExpandedSection:Da,closeExpandedSection:sa,isSectionVisible:Tt,isFirstVisibleSection:Xn,sectionClass:Gn,sidebarListClass:Eo}),Tt("player-breakdown")&&u.jsx(iae,{expandedSection:xt,expandedSectionClosing:ce,openExpandedSection:Da,closeExpandedSection:sa,isSectionVisible:Tt,isFirstVisibleSection:Xn,sectionClass:Gn,sidebarListClass:Eo,viewMode:No,setViewMode:Up,playerSkillBreakdowns:De,classSkillBreakdowns:nt,activePlayerKey:qt,setActivePlayerKey:Sn,expandedPlayerKey:Vr,setExpandedPlayerKey:oa,activePlayerSkillId:Qr,setActivePlayerSkillId:Pi,activeClassKey:jo,setActiveClassKey:Os,expandedClassKey:cd,setExpandedClassKey:Is,activeClassSkillId:ui,setActiveClassSkillId:di,skillSearch:Lc,setSkillSearch:Ds,activePlayerBreakdown:ut,activePlayerSkill:an,activeClassBreakdown:bn,activeClassSkill:ar,renderProfessionIcon:Oa}),Tt("spike-damage")&&u.jsx(UA,{expandedSection:xt,expandedSectionClosing:ce,openExpandedSection:Da,closeExpandedSection:sa,isSectionVisible:Tt,isFirstVisibleSection:Xn,sectionClass:Gn,spikePlayerFilter:Zr,setSpikePlayerFilter:Ps,groupedSpikePlayers:Fc,spikeMode:me,setSpikeMode:_e,selectedSpikePlayerKey:pe,setSelectedSpikePlayerKey:Ne,selectedSpikePlayer:Wp,spikeChartData:Ka,spikeChartMaxY:Hp,selectedSpikeFightIndex:ke,setSelectedSpikeFightIndex:ze,spikeDrilldownTitle:El.title,spikeDrilldownData:El.data,spikeDrilldownDownIndices:El.downIndices,spikeDrilldownDeathIndices:El.deathIndices,spikeFightSkillRows:Pl,spikeFightSkillTitle:"Outgoing Skill Damage (Selected Fight)",formatWithCommas:hi,renderProfessionIcon:Oa}),Tt("conditions-outgoing")&&u.jsx(sae,{conditionSummary:Kp,conditionPlayers:VR,conditionSearch:sn,setConditionSearch:ga,activeConditionName:Se,setActiveConditionName:Qe,conditionDirection:qa,setConditionDirection:So,conditionGridClass:ln,effectiveConditionSort:mn,setConditionSort:Ct,showConditionDamage:ot,renderProfessionIcon:Oa,expandedSection:xt,expandedSectionClosing:ce,openExpandedSection:Da,closeExpandedSection:sa,isSectionVisible:Tt,isFirstVisibleSection:Xn,sectionClass:Gn,sidebarListClass:Eo}),Tt("defense-detailed")&&u.jsx(cae,{stats:I,DEFENSE_METRICS:oD,defenseSearch:ha,setDefenseSearch:Jt,activeDefenseStat:Ic,setActiveDefenseStat:_c,defenseViewMode:ld,setDefenseViewMode:jy,roundCountStats:N,formatWithCommas:hi,renderProfessionIcon:Oa,expandedSection:xt,expandedSectionClosing:ce,openExpandedSection:Da,closeExpandedSection:sa,isSectionVisible:Tt,isFirstVisibleSection:Xn,sectionClass:Gn,sidebarListClass:Eo}),Tt("incoming-strike-damage")&&u.jsx(UA,{sectionId:"incoming-strike-damage",title:"Incoming Strike Damage",subtitle:"Select one enemy class to chart incoming strike pressure per fight.",listTitle:"Enemy Classes",searchPlaceholder:"Search enemy class",titleIconClassName:"text-cyan-300",expandedSection:xt,expandedSectionClosing:ce,openExpandedSection:Da,closeExpandedSection:sa,isSectionVisible:Tt,isFirstVisibleSection:Xn,sectionClass:Gn,spikePlayerFilter:Ts,setSpikePlayerFilter:Ha,groupedSpikePlayers:qp,spikeMode:Bt,setSpikeMode:kn,selectedSpikePlayerKey:je,setSelectedSpikePlayerKey:bt,selectedSpikePlayer:ud,spikeChartData:Er,spikeChartMaxY:_s,selectedSpikeFightIndex:rt,setSelectedSpikeFightIndex:at,spikeDrilldownTitle:qo.title,spikeDrilldownData:qo.data,spikeDrilldownDownIndices:qo.downIndices,spikeDrilldownDeathIndices:qo.deathIndices,spikeFightSkillRows:Ya,spikeFightSkillTitle:"Incoming Skill Damage (Selected Fight)",formatWithCommas:hi,renderProfessionIcon:Oa}),Tt("defense-mitigation")&&u.jsx(uae,{stats:I,DAMAGE_MITIGATION_METRICS:rz,damageMitigationSearch:on,setDamageMitigationSearch:Fn,activeDamageMitigationStat:K,setActiveDamageMitigationStat:he,damageMitigationViewMode:D,setDamageMitigationViewMode:Y,damageMitigationScope:vt,setDamageMitigationScope:ht,roundCountStats:N,formatWithCommas:hi,renderProfessionIcon:Oa,expandedSection:xt,expandedSectionClosing:ce,openExpandedSection:Da,closeExpandedSection:sa,isSectionVisible:Tt,isFirstVisibleSection:Xn,sectionClass:Gn,sidebarListClass:Eo}),Tt("boon-output")&&u.jsx(lae,{stats:I,activeBoonCategory:ue,setActiveBoonCategory:Z=>He(Z),activeBoonMetric:Be,setActiveBoonMetric:yt,activeBoonTab:be,setActiveBoonTab:et,activeBoonTable:r6,filteredBoonTables:n6,boonSearch:Xt,setBoonSearch:Mn,formatBoonMetricDisplay:Iz,getBoonMetricValue:vD,renderProfessionIcon:Oa,roundCountStats:N,expandedSection:xt,expandedSectionClosing:ce,openExpandedSection:Da,closeExpandedSection:sa,isSectionVisible:Tt,isFirstVisibleSection:Xn,sectionClass:Gn,sidebarListClass:Eo}),Tt("support-detailed")&&u.jsx(dae,{stats:I,SUPPORT_METRICS:sD,supportSearch:Dc,setSupportSearch:Al,activeSupportStat:Ar,setActiveSupportStat:fr,supportViewMode:ne,setSupportViewMode:we,cleanseScope:J,setCleanseScope:Oe,roundCountStats:N,formatWithCommas:hi,renderProfessionIcon:Oa,expandedSection:xt,expandedSectionClosing:ce,openExpandedSection:Da,closeExpandedSection:sa,isSectionVisible:Tt,isFirstVisibleSection:Xn,sectionClass:Gn,sidebarListClass:Eo}),Tt("healing-stats")&&u.jsx(fae,{stats:I,HEALING_METRICS:az,activeHealingMetric:Re,setActiveHealingMetric:tt,healingCategory:Kt,setHealingCategory:en,activeResUtilitySkill:Un,setActiveResUtilitySkill:Pa,skillUsageData:A,formatWithCommas:hi,renderProfessionIcon:Oa,expandedSection:xt,expandedSectionClosing:ce,openExpandedSection:Da,closeExpandedSection:sa,isSectionVisible:Tt,isFirstVisibleSection:Xn,sectionClass:Gn}),Tt("fight-diff-mode")&&u.jsx(yae,{stats:I,formatWithCommas:hi,expandedSection:xt,expandedSectionClosing:ce,openExpandedSection:Da,closeExpandedSection:sa,isSectionVisible:Tt,isFirstVisibleSection:Xn,sectionClass:Gn}),Tt("special-buffs")&&u.jsx(mae,{stats:I,specialSearch:Fe,setSpecialSearch:Dt,filteredSpecialTables:a6,activeSpecialTab:On,setActiveSpecialTab:ge,activeSpecialTable:o6,formatWithCommas:hi,renderProfessionIcon:Oa,expandedSection:xt,expandedSectionClosing:ce,openExpandedSection:Da,closeExpandedSection:sa,isSectionVisible:Tt,isFirstVisibleSection:Xn,sectionClass:Gn,sidebarListClass:Eo}),Tt("sigil-relic-uptime")&&u.jsx(gae,{hasSigilRelicTables:Qi.length>0,sigilRelicSearch:Tn,setSigilRelicSearch:Vn,filteredSigilRelicTables:i6,activeSigilRelicTab:_t,setActiveSigilRelicTab:pn,activeSigilRelicTable:s6,formatWithCommas:hi,renderProfessionIcon:Oa,expandedSection:xt,expandedSectionClosing:ce,openExpandedSection:Da,closeExpandedSection:sa,isSectionVisible:Tt,isFirstVisibleSection:Xn,sectionClass:Gn,sidebarListClass:Eo}),Tt("skill-usage")&&u.jsx(nae,{expandedSection:xt,expandedSectionClosing:ce,openExpandedSection:Da,closeExpandedSection:sa,isSectionVisible:Tt,isFirstVisibleSection:Xn,sectionClass:Gn,selectedPlayers:Et,setSelectedPlayers:Ht,removeSelectedPlayer:t6,playerMapByKey:Ta,groupedSkillUsagePlayers:zR,expandedSkillUsageClass:Yt,setExpandedSkillUsageClass:Wt,togglePlayerSelection:e6,skillUsagePlayerFilter:$t,setSkillUsagePlayerFilter:yn,skillUsageView:Ze,setSkillUsageView:Ke,skillUsageData:A,skillUsageSkillFilter:fn,setSkillUsageSkillFilter:Je,selectedSkillId:qe,setSelectedSkillId:st,skillBarData:dd,selectedSkillName:YR,selectedSkillIcon:GR,skillUsageReady:XR,skillUsageAvailable:j,isSkillUsagePerSecond:zt,skillChartData:$R,skillChartMaxY:BR,playerTotalsForSkill:Di,hoveredSkillPlayer:Rn,setHoveredSkillPlayer:rr,getLineStrokeColor:KR,getLineDashForPlayer:qR,formatSkillUsageValue:h6,renderProfessionIcon:Oa}),Tt("apm-stats")&&u.jsx(aae,{expandedSection:xt,expandedSectionClosing:ce,openExpandedSection:Da,closeExpandedSection:sa,isSectionVisible:Tt,isFirstVisibleSection:Xn,sectionClass:Gn,sidebarListClass:Eo,apmSpecAvailable:ZR,skillUsageAvailable:j,apmSpecTables:fi,activeApmSpec:ft,setActiveApmSpec:rn,expandedApmSpec:Lt,setExpandedApmSpec:Mt,activeApmSkillId:Ee,setActiveApmSkillId:xe,ALL_SKILLS_KEY:Xp,apmSkillSearch:wt,setApmSkillSearch:At,activeApmSpecTable:Ls,activeApmSkill:JR,isAllApmSkills:QR,apmView:ct,setApmView:Zt,formatApmValue:v6,formatCastRateValue:g6,formatCastCountValue:y6,renderProfessionIcon:Oa})]}),!c&&u.jsx("div",{className:"h-24","aria-hidden":"true"})]})})]})}const Bae="Arcane",zae="CRT",oh="MatteSlate",sh="KineticPaper",Vd="KineticPaperDark",lh={id:Bae,label:"Arcane",rgb:"136, 116, 255",pattern:"radial-gradient(at 0% 0%, hsla(250, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(220, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 65%, 20%, 1) 0, transparent 70%)"},Vae={id:oh,label:"Matte Slate",rgb:"93, 163, 194",pattern:"linear-gradient(to bottom, #222629, #222629)"},Uae={id:sh,label:"Kinetic Paper",rgb:"154, 133, 99",pattern:"linear-gradient(to bottom, #e9e3d8, #e9e3d8)"},Wae={id:Vd,label:"Kinetic Paper (Dark)",rgb:"142, 155, 214",pattern:"linear-gradient(to bottom, #2b3048, #2b3048)"},Hae=[lh,{id:"Amethyst",label:"Amethyst",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(270, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(260, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 60%, 30%, 1) 0, transparent 70%)"},{id:"Aurora",label:"Aurora",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(160, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 75%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 85%, 15%, 1) 0, transparent 70%)"},{id:"Autumn",label:"Autumn",rgb:"180, 130, 70",pattern:"radial-gradient(at 0% 0%, hsla(30, 65%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 60%, 15%, 1) 0, transparent 70%)"},{id:"Berry",label:"Berry",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(300, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 60%, 25%, 1) 0, transparent 70%)"},{id:"Bubblegum",label:"Bubblegum",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 85%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 75%, 20%, 1) 0, transparent 70%)"},{id:"Cherry",label:"Cherry",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(340, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(0, 60%, 25%, 1) 0, transparent 70%)"},{id:"Cobalt",label:"Cobalt",rgb:"59, 130, 246",pattern:"radial-gradient(at 0% 0%, hsla(220, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 15%, 1) 0, transparent 70%)"},{id:"Coffee",label:"Coffee",rgb:"253, 186, 116",pattern:"radial-gradient(at 0% 0%, hsla(25, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(35, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(30, 50%, 22%, 1) 0, transparent 70%)"},{id:"Cyberpunk",label:"Cyberpunk",rgb:"232, 121, 249",pattern:"radial-gradient(at 0% 0%, hsla(290, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 25%, 1) 0, transparent 70%)"},{id:"Dark Pearl",label:"Dark Pearl",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 30%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 40%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 30%, 25%, 1) 0, transparent 70%)"},{id:"Deep Space",label:"Deep Space",rgb:"99, 102, 241",pattern:"radial-gradient(at 0% 0%, hsla(245, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(300, 70%, 18%, 1) 0, transparent 70%)"},{id:"Electric Storm",label:"Electric Storm",rgb:"56, 189, 248",pattern:"radial-gradient(at 0% 0%, hsla(200, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(180, 80%, 20%, 1) 0, transparent 70%)"},{id:"Emerald",label:"Emerald",rgb:"52, 211, 153",pattern:"radial-gradient(at 0% 0%, hsla(150, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 70%, 25%, 1) 0, transparent 70%)"},{id:"Forest",label:"Forest",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(150, 70%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(120, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 80%, 18%, 1) 0, transparent 70%)"},{id:"Glacier",label:"Glacier",rgb:"125, 211, 252",pattern:"radial-gradient(at 0% 0%, hsla(190, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(210, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 30%, 1) 0, transparent 70%)"},{id:"Gold",label:"Gold",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(40, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 70%, 25%, 1) 0, transparent 70%)"},{id:"Jungle",label:"Jungle",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(145, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(175, 70%, 18%, 1) 0, transparent 70%)"},{id:"Lavender",label:"Lavender",rgb:"167, 139, 250",pattern:"radial-gradient(at 0% 0%, hsla(250, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(290, 50%, 30%, 1) 0, transparent 70%)"},{id:"Mermaid",label:"Mermaid",rgb:"45, 212, 191",pattern:"radial-gradient(at 0% 0%, hsla(175, 75%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 20%, 1) 0, transparent 70%)"},{id:"Midnight",label:"Midnight",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(260, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(320, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 60%, 20%, 1) 0, transparent 70%)"},{id:"Mint",label:"Mint",rgb:"110, 231, 183",pattern:"radial-gradient(at 0% 0%, hsla(160, 60%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(170, 50%, 25%, 1) 0, transparent 70%)"},{id:"Nebula",label:"Nebula",rgb:"196, 181, 253",pattern:"radial-gradient(at 0% 0%, hsla(260, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(310, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 60%, 25%, 1) 0, transparent 70%)"},{id:"Neon Nights",label:"Neon Nights",rgb:"236, 72, 153",pattern:"radial-gradient(at 0% 0%, hsla(330, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 95%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 80%, 18%, 1) 0, transparent 70%)"},{id:"Obsidian",label:"Obsidian",rgb:"226, 232, 240",pattern:"radial-gradient(at 0% 0%, hsla(0, 0%, 5%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 10%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 20%, 15%, 1) 0, transparent 70%)"},{id:"Ocean",label:"Ocean",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(210, 70%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 22%, 1) 0, transparent 70%)"},{id:"Royal",label:"Royal",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 60%, 30%, 1) 0, transparent 70%)"},{id:"Ruby",label:"Ruby",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 70%, 25%, 1) 0, transparent 70%)"},{id:"Sapphire",label:"Sapphire",rgb:"96, 165, 250",pattern:"radial-gradient(at 0% 0%, hsla(220, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(230, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 70%, 25%, 1) 0, transparent 70%)"},{id:"Shadow",label:"Shadow",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 20%, 10%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 10%, 20%, 1) 0, transparent 70%)"},{id:"Slate",label:"Slate",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(210, 30%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 40%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 30%, 30%, 1) 0, transparent 70%)"},{id:"Sunrise",label:"Sunrise",rgb:"251, 113, 133",pattern:"radial-gradient(at 0% 0%, hsla(350, 75%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 18%, 1) 0, transparent 70%)"},{id:"Sunset",label:"Sunset",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(10, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(330, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 50%, 25%, 1) 0, transparent 70%)"},{id:"Toxic",label:"Toxic",rgb:"163, 230, 53",pattern:"radial-gradient(at 0% 0%, hsla(100, 90%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(90, 90%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(120, 80%, 18%, 1) 0, transparent 70%)"},{id:"Tropics",label:"Tropics",rgb:"20, 184, 166",pattern:"radial-gradient(at 0% 0%, hsla(170, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(15, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 75%, 20%, 1) 0, transparent 70%)"},{id:"Ultraviolet",label:"Ultraviolet",rgb:"139, 92, 246",pattern:"radial-gradient(at 0% 0%, hsla(265, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 80%, 20%, 1) 0, transparent 70%)"},{id:"Vaporwave",label:"Vaporwave",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(280, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(170, 90%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 30%, 1) 0, transparent 70%)"},{id:"Volcano",label:"Volcano",rgb:"239, 68, 68",pattern:"radial-gradient(at 0% 0%, hsla(0, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(25, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(350, 75%, 15%, 1) 0, transparent 70%)"},{id:"Wildfire",label:"Wildfire",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(25, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 80%, 15%, 1) 0, transparent 70%)"}],qae={id:zae,label:"CRT Hacker",rgb:"87, 255, 154",pattern:"radial-gradient(circle at 12% 10%, rgba(44, 120, 78, 0.42), transparent 60%), radial-gradient(circle at 88% 22%, rgba(22, 86, 52, 0.38), transparent 62%), linear-gradient(180deg, rgba(5, 12, 8, 0.92), rgba(3, 7, 6, 0.98))"},Td=[...Hae,qae,Vae,Uae,Wae];function Kae(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Yae=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Gae=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Xae={};function HA(e,t){return(Xae.jsx?Gae:Yae).test(e)}const Zae=/[ \t\n\f\r]/g;function Qae(e){return typeof e=="object"?e.type==="text"?qA(e.value):!1:qA(e)}function qA(e){return e.replace(Zae,"")===""}class Lp{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Lp.prototype.normal={};Lp.prototype.property={};Lp.prototype.space=void 0;function pL(e,t){const n={},r={};for(const a of e)Object.assign(n,a.property),Object.assign(r,a.normal);return new Lp(n,r,t)}function Zx(e){return e.toLowerCase()}class ci{constructor(t,n){this.attribute=n,this.property=t}}ci.prototype.attribute="";ci.prototype.booleanish=!1;ci.prototype.boolean=!1;ci.prototype.commaOrSpaceSeparated=!1;ci.prototype.commaSeparated=!1;ci.prototype.defined=!1;ci.prototype.mustUseProperty=!1;ci.prototype.number=!1;ci.prototype.overloadedBoolean=!1;ci.prototype.property="";ci.prototype.spaceSeparated=!1;ci.prototype.space=void 0;let Jae=0;const nn=Ec(),Lr=Ec(),Qx=Ec(),We=Ec(),qn=Ec(),Nu=Ec(),mi=Ec();function Ec(){return 2**++Jae}const Jx=Object.freeze(Object.defineProperty({__proto__:null,boolean:nn,booleanish:Lr,commaOrSpaceSeparated:mi,commaSeparated:Nu,number:We,overloadedBoolean:Qx,spaceSeparated:qn},Symbol.toStringTag,{value:"Module"})),Mv=Object.keys(Jx);class PS extends ci{constructor(t,n,r,a){let i=-1;if(super(t,n),KA(this,"space",a),typeof r=="number")for(;++i<Mv.length;){const o=Mv[i];KA(this,Mv[i],(r&Jx[o])===Jx[o])}}}PS.prototype.defined=!0;function KA(e,t,n){n&&(e[t]=n)}function id(e){const t={},n={};for(const[r,a]of Object.entries(e.properties)){const i=new PS(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[Zx(r)]=r,n[Zx(i.attribute)]=r}return new Lp(t,n,e.space)}const mL=id({properties:{ariaActiveDescendant:null,ariaAtomic:Lr,ariaAutoComplete:null,ariaBusy:Lr,ariaChecked:Lr,ariaColCount:We,ariaColIndex:We,ariaColSpan:We,ariaControls:qn,ariaCurrent:null,ariaDescribedBy:qn,ariaDetails:null,ariaDisabled:Lr,ariaDropEffect:qn,ariaErrorMessage:null,ariaExpanded:Lr,ariaFlowTo:qn,ariaGrabbed:Lr,ariaHasPopup:null,ariaHidden:Lr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:qn,ariaLevel:We,ariaLive:null,ariaModal:Lr,ariaMultiLine:Lr,ariaMultiSelectable:Lr,ariaOrientation:null,ariaOwns:qn,ariaPlaceholder:null,ariaPosInSet:We,ariaPressed:Lr,ariaReadOnly:Lr,ariaRelevant:null,ariaRequired:Lr,ariaRoleDescription:qn,ariaRowCount:We,ariaRowIndex:We,ariaRowSpan:We,ariaSelected:Lr,ariaSetSize:We,ariaSort:null,ariaValueMax:We,ariaValueMin:We,ariaValueNow:We,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function hL(e,t){return t in e?e[t]:t}function gL(e,t){return hL(e,t.toLowerCase())}const eie=id({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Nu,acceptCharset:qn,accessKey:qn,action:null,allow:null,allowFullScreen:nn,allowPaymentRequest:nn,allowUserMedia:nn,alt:null,as:null,async:nn,autoCapitalize:null,autoComplete:qn,autoFocus:nn,autoPlay:nn,blocking:qn,capture:null,charSet:null,checked:nn,cite:null,className:qn,cols:We,colSpan:null,content:null,contentEditable:Lr,controls:nn,controlsList:qn,coords:We|Nu,crossOrigin:null,data:null,dateTime:null,decoding:null,default:nn,defer:nn,dir:null,dirName:null,disabled:nn,download:Qx,draggable:Lr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:nn,formTarget:null,headers:qn,height:We,hidden:Qx,high:We,href:null,hrefLang:null,htmlFor:qn,httpEquiv:qn,id:null,imageSizes:null,imageSrcSet:null,inert:nn,inputMode:null,integrity:null,is:null,isMap:nn,itemId:null,itemProp:qn,itemRef:qn,itemScope:nn,itemType:qn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:nn,low:We,manifest:null,max:null,maxLength:We,media:null,method:null,min:null,minLength:We,multiple:nn,muted:nn,name:null,nonce:null,noModule:nn,noValidate:nn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:nn,optimum:We,pattern:null,ping:qn,placeholder:null,playsInline:nn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:nn,referrerPolicy:null,rel:qn,required:nn,reversed:nn,rows:We,rowSpan:We,sandbox:qn,scope:null,scoped:nn,seamless:nn,selected:nn,shadowRootClonable:nn,shadowRootDelegatesFocus:nn,shadowRootMode:null,shape:null,size:We,sizes:null,slot:null,span:We,spellCheck:Lr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:We,step:null,style:null,tabIndex:We,target:null,title:null,translate:null,type:null,typeMustMatch:nn,useMap:null,value:Lr,width:We,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:qn,axis:null,background:null,bgColor:null,border:We,borderColor:null,bottomMargin:We,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:nn,declare:nn,event:null,face:null,frame:null,frameBorder:null,hSpace:We,leftMargin:We,link:null,longDesc:null,lowSrc:null,marginHeight:We,marginWidth:We,noResize:nn,noHref:nn,noShade:nn,noWrap:nn,object:null,profile:null,prompt:null,rev:null,rightMargin:We,rules:null,scheme:null,scrolling:Lr,standby:null,summary:null,text:null,topMargin:We,valueType:null,version:null,vAlign:null,vLink:null,vSpace:We,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:nn,disableRemotePlayback:nn,prefix:null,property:null,results:We,security:null,unselectable:null},space:"html",transform:gL}),tie=id({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:mi,accentHeight:We,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:We,amplitude:We,arabicForm:null,ascent:We,attributeName:null,attributeType:null,azimuth:We,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:We,by:null,calcMode:null,capHeight:We,className:qn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:We,diffuseConstant:We,direction:null,display:null,dur:null,divisor:We,dominantBaseline:null,download:nn,dx:null,dy:null,edgeMode:null,editable:null,elevation:We,enableBackground:null,end:null,event:null,exponent:We,externalResourcesRequired:null,fill:null,fillOpacity:We,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Nu,g2:Nu,glyphName:Nu,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:We,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:We,horizOriginX:We,horizOriginY:We,id:null,ideographic:We,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:We,k:We,k1:We,k2:We,k3:We,k4:We,kernelMatrix:mi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:We,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:We,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:We,overlineThickness:We,paintOrder:null,panose1:null,path:null,pathLength:We,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:qn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:We,pointsAtY:We,pointsAtZ:We,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:mi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:mi,rev:mi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:mi,requiredFeatures:mi,requiredFonts:mi,requiredFormats:mi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:We,specularExponent:We,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:We,strikethroughThickness:We,string:null,stroke:null,strokeDashArray:mi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:We,strokeOpacity:We,strokeWidth:null,style:null,surfaceScale:We,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:mi,tabIndex:We,tableValues:null,target:null,targetX:We,targetY:We,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:mi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:We,underlineThickness:We,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:We,values:null,vAlphabetic:We,vMathematical:We,vectorEffect:null,vHanging:We,vIdeographic:We,version:null,vertAdvY:We,vertOriginX:We,vertOriginY:We,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:We,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:hL}),yL=id({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),vL=id({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:gL}),bL=id({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),nie={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},rie=/[A-Z]/g,YA=/-[a-z]/g,aie=/^data[-\w.:]+$/i;function iie(e,t){const n=Zx(t);let r=t,a=ci;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&aie.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(YA,sie);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!YA.test(i)){let o=i.replace(rie,oie);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}a=PS}return new a(r,t)}function oie(e){return"-"+e.toLowerCase()}function sie(e){return e.charAt(1).toUpperCase()}const lie=pL([mL,eie,yL,vL,bL],"html"),TS=pL([mL,tie,yL,vL,bL],"svg");function cie(e){return e.join(" ").trim()}var DS={},GA=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,uie=/\n/g,die=/^\s*/,fie=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,pie=/^:\s*/,mie=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,hie=/^[;\s]*/,gie=/^\s+|\s+$/g,yie=`
`,XA="/",ZA="*",Hl="",vie="comment",bie="declaration";function xie(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function a(h){var y=h.match(uie);y&&(n+=y.length);var x=h.lastIndexOf(yie);r=~x?h.length-x:r+h.length}function i(){var h={line:n,column:r};return function(y){return y.position=new o(h),c(),y}}function o(h){this.start=h,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function s(h){var y=new Error(t.source+":"+n+":"+r+": "+h);if(y.reason=h,y.filename=t.source,y.line=n,y.column=r,y.source=e,!t.silent)throw y}function l(h){var y=h.exec(e);if(y){var x=y[0];return a(x),e=e.slice(x.length),y}}function c(){l(die)}function d(h){var y;for(h=h||[];y=f();)y!==!1&&h.push(y);return h}function f(){var h=i();if(!(XA!=e.charAt(0)||ZA!=e.charAt(1))){for(var y=2;Hl!=e.charAt(y)&&(ZA!=e.charAt(y)||XA!=e.charAt(y+1));)++y;if(y+=2,Hl===e.charAt(y-1))return s("End of comment missing");var x=e.slice(2,y-2);return r+=2,a(x),e=e.slice(y),r+=2,h({type:vie,comment:x})}}function p(){var h=i(),y=l(fie);if(y){if(f(),!l(pie))return s("property missing ':'");var x=l(mie),g=h({type:bie,property:QA(y[0].replace(GA,Hl)),value:x?QA(x[0].replace(GA,Hl)):Hl});return l(hie),g}}function m(){var h=[];d(h);for(var y;y=p();)y!==!1&&(h.push(y),d(h));return h}return c(),m()}function QA(e){return e?e.replace(gie,Hl):Hl}var wie=xie,kie=ph&&ph.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(DS,"__esModule",{value:!0});DS.default=Nie;const Sie=kie(wie);function Nie(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,Sie.default)(e),a=typeof t=="function";return r.forEach(i=>{if(i.type!=="declaration")return;const{property:o,value:s}=i;a?t(o,s,i):s&&(n=n||{},n[o]=s)}),n}var fy={};Object.defineProperty(fy,"__esModule",{value:!0});fy.camelCase=void 0;var jie=/^--[a-zA-Z0-9_-]+$/,Cie=/-([a-z])/g,Mie=/^[^-]+$/,Aie=/^-(webkit|moz|ms|o|khtml)-/,Eie=/^-(ms)-/,Pie=function(e){return!e||Mie.test(e)||jie.test(e)},Tie=function(e,t){return t.toUpperCase()},JA=function(e,t){return"".concat(t,"-")},Die=function(e,t){return t===void 0&&(t={}),Pie(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Eie,JA):e=e.replace(Aie,JA),e.replace(Cie,Tie))};fy.camelCase=Die;var Oie=ph&&ph.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Iie=Oie(DS),_ie=fy;function ew(e,t){var n={};return!e||typeof e!="string"||(0,Iie.default)(e,function(r,a){r&&a&&(n[(0,_ie.camelCase)(r,t)]=a)}),n}ew.default=ew;var Lie=ew;const Fie=bo(Lie),xL=wL("end"),OS=wL("start");function wL(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Rie(e){const t=OS(e),n=xL(e);if(t&&n)return{start:t,end:n}}function tf(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?eE(e.position):"start"in e||"end"in e?eE(e):"line"in e||"column"in e?tw(e):""}function tw(e){return tE(e&&e.line)+":"+tE(e&&e.column)}function eE(e){return tw(e&&e.start)+"-"+tw(e&&e.end)}function tE(e){return e&&typeof e=="number"?e:1}class Aa extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",i={},o=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof t=="string"?a=t:!i.cause&&t&&(o=!0,a=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?i.ruleId=r:(i.source=r.slice(0,l),i.ruleId=r.slice(l+1))}if(!i.place&&i.ancestors&&i.ancestors){const l=i.ancestors[i.ancestors.length-1];l&&(i.place=l.position)}const s=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=s?s.line:void 0,this.name=tf(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=o&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Aa.prototype.file="";Aa.prototype.name="";Aa.prototype.reason="";Aa.prototype.message="";Aa.prototype.stack="";Aa.prototype.column=void 0;Aa.prototype.line=void 0;Aa.prototype.ancestors=void 0;Aa.prototype.cause=void 0;Aa.prototype.fatal=void 0;Aa.prototype.place=void 0;Aa.prototype.ruleId=void 0;Aa.prototype.source=void 0;const IS={}.hasOwnProperty,$ie=new Map,Bie=/[A-Z]/g,zie=new Set(["table","tbody","thead","tfoot","tr"]),Vie=new Set(["td","th"]),kL="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Uie(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Zie(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Xie(n,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?TS:lie,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=SL(a,e,void 0);return i&&typeof i!="string"?i:a.create(e,a.Fragment,{children:i||void 0},void 0)}function SL(e,t,n){if(t.type==="element")return Wie(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Hie(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Kie(e,t,n);if(t.type==="mdxjsEsm")return qie(e,t);if(t.type==="root")return Yie(e,t,n);if(t.type==="text")return Gie(e,t)}function Wie(e,t,n){const r=e.schema;let a=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=TS,e.schema=a),e.ancestors.push(t);const i=jL(e,t.tagName,!1),o=Qie(e,t);let s=LS(e,t);return zie.has(t.tagName)&&(s=s.filter(function(l){return typeof l=="string"?!Qae(l):!0})),NL(e,o,i,t),_S(o,s),e.ancestors.pop(),e.schema=r,e.create(t,i,o,n)}function Hie(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}Gf(e,t.position)}function qie(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Gf(e,t.position)}function Kie(e,t,n){const r=e.schema;let a=r;t.name==="svg"&&r.space==="html"&&(a=TS,e.schema=a),e.ancestors.push(t);const i=t.name===null?e.Fragment:jL(e,t.name,!0),o=Jie(e,t),s=LS(e,t);return NL(e,o,i,t),_S(o,s),e.ancestors.pop(),e.schema=r,e.create(t,i,o,n)}function Yie(e,t,n){const r={};return _S(r,LS(e,t)),e.create(t,e.Fragment,r,n)}function Gie(e,t){return t.value}function NL(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function _S(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Xie(e,t,n){return r;function r(a,i,o,s){const l=Array.isArray(o.children)?n:t;return s?l(i,o,s):l(i,o)}}function Zie(e,t){return n;function n(r,a,i,o){const s=Array.isArray(i.children),l=OS(r);return t(a,i,o,s,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function Qie(e,t){const n={};let r,a;for(a in t.properties)if(a!=="children"&&IS.call(t.properties,a)){const i=eoe(e,a,t.properties[a]);if(i){const[o,s]=i;e.tableCellAlignToStyle&&o==="align"&&typeof s=="string"&&Vie.has(t.tagName)?r=s:n[o]=s}}if(r){const i=n.style||(n.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Jie(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const i=a.expression;i.type;const o=i.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else Gf(e,t.position);else{const a=r.name;let i;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,i=e.evaluater.evaluateExpression(o.expression)}else Gf(e,t.position);else i=r.value===null?!0:r.value;n[a]=i}return n}function LS(e,t){const n=[];let r=-1;const a=e.passKeys?new Map:$ie;for(;++r<t.children.length;){const i=t.children[r];let o;if(e.passKeys){const l=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(l){const c=a.get(l)||0;o=l+"-"+c,a.set(l,c+1)}}const s=SL(e,i,o);s!==void 0&&n.push(s)}return n}function eoe(e,t,n){const r=iie(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Kae(n):cie(n)),r.property==="style"){let a=typeof n=="object"?n:toe(e,String(n));return e.stylePropertyNameCase==="css"&&(a=noe(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&r.space?nie[r.property]||r.property:r.attribute,n]}}function toe(e,t){try{return Fie(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,a=new Aa("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=kL+"#cannot-parse-style-attribute",a}}function jL(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let i=-1,o;for(;++i<a.length;){const s=HA(a[i])?{type:"Identifier",name:a[i]}:{type:"Literal",value:a[i]};o=o?{type:"MemberExpression",object:o,property:s,computed:!!(i&&s.type==="Literal"),optional:!1}:s}r=o}else r=HA(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const a=r.value;return IS.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(r);Gf(e)}function Gf(e,t){const n=new Aa("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=kL+"#cannot-handle-mdx-estrees-without-createevaluater",n}function noe(e){const t={};let n;for(n in e)IS.call(e,n)&&(t[roe(n)]=e[n]);return t}function roe(e){let t=e.replace(Bie,aoe);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function aoe(e){return"-"+e.toLowerCase()}const Av={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},ioe={};function FS(e,t){const n=ioe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return CL(e,r,a)}function CL(e,t,n){if(ooe(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return nE(e.children,t,n)}return Array.isArray(e)?nE(e,t,n):""}function nE(e,t,n){const r=[];let a=-1;for(;++a<e.length;)r[a]=CL(e[a],t,n);return r.join("")}function ooe(e){return!!(e&&typeof e=="object")}const rE=document.createElement("i");function RS(e){const t="&"+e+";";rE.innerHTML=t;const n=rE.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Si(e,t,n,r){const a=e.length;let i=0,o;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);i<r.length;)o=r.slice(i,i+1e4),o.unshift(t,0),e.splice(...o),i+=1e4,t+=1e4}function zi(e,t){return e.length>0?(Si(e,e.length,0,t),e):t}const aE={}.hasOwnProperty;function ML(e){const t={};let n=-1;for(;++n<e.length;)soe(t,e[n]);return t}function soe(e,t){let n;for(n in t){const r=(aE.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let i;if(a)for(i in a){aE.call(r,i)||(r[i]=[]);const o=a[i];loe(r[i],Array.isArray(o)?o:o?[o]:[])}}}function loe(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Si(e,0,0,r)}function AL(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function fo(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Fa=Cl(/[A-Za-z]/),Ca=Cl(/[\dA-Za-z]/),coe=Cl(/[#-'*+\--9=?A-Z^-~]/);function _g(e){return e!==null&&(e<32||e===127)}const nw=Cl(/\d/),uoe=Cl(/[\dA-Fa-f]/),doe=Cl(/[!-/:-@[-`{-~]/);function It(e){return e!==null&&e<-2}function Bn(e){return e!==null&&(e<0||e===32)}function un(e){return e===-2||e===-1||e===32}const py=Cl(new RegExp("\\p{P}|\\p{S}","u")),Nc=Cl(/\s/);function Cl(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function od(e){const t=[];let n=-1,r=0,a=0;for(;++n<e.length;){const i=e.charCodeAt(n);let o="";if(i===37&&Ca(e.charCodeAt(n+1))&&Ca(e.charCodeAt(n+2)))a=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(o=String.fromCharCode(i));else if(i>55295&&i<57344){const s=e.charCodeAt(n+1);i<56320&&s>56319&&s<57344?(o=String.fromCharCode(i,s),a=1):o=""}else o=String.fromCharCode(i);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+a+1,o=""),a&&(n+=a,a=0)}return t.join("")+e.slice(r)}function vn(e,t,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let i=0;return o;function o(l){return un(l)?(e.enter(n),s(l)):t(l)}function s(l){return un(l)&&i++<a?(e.consume(l),s):(e.exit(n),t(l))}}const foe={tokenize:poe};function poe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,a);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),vn(e,t,"linePrefix")}function a(s){return e.enter("paragraph"),i(s)}function i(s){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(s)}function o(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return It(s)?(e.consume(s),e.exit("chunkText"),i):(e.consume(s),o)}}const moe={tokenize:hoe},iE={tokenize:goe};function hoe(e){const t=this,n=[];let r=0,a,i,o;return s;function s(w){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,l,c)(w)}return c(w)}function l(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&b();const S=t.events.length;let C=S,N;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){N=t.events[C][1].end;break}g(r);let M=S;for(;M<t.events.length;)t.events[M][1].end={...N},M++;return Si(t.events,C+1,0,t.events.slice(S)),t.events.length=M,c(w)}return s(w)}function c(w){if(r===n.length){if(!a)return p(w);if(a.currentConstruct&&a.currentConstruct.concrete)return h(w);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(iE,d,f)(w)}function d(w){return a&&b(),g(r),p(w)}function f(w){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,h(w)}function p(w){return t.containerState={},e.attempt(iE,m,h)(w)}function m(w){return r++,n.push([t.currentConstruct,t.containerState]),p(w)}function h(w){if(w===null){a&&b(),g(0),e.consume(w);return}return a=a||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:i}),y(w)}function y(w){if(w===null){x(e.exit("chunkFlow"),!0),g(0),e.consume(w);return}return It(w)?(e.consume(w),x(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(w),y)}function x(w,S){const C=t.sliceStream(w);if(S&&C.push(null),w.previous=i,i&&(i.next=w),i=w,a.defineSkip(w.start),a.write(C),t.parser.lazy[w.start.line]){let N=a.events.length;for(;N--;)if(a.events[N][1].start.offset<o&&(!a.events[N][1].end||a.events[N][1].end.offset>o))return;const M=t.events.length;let T=M,$,E;for(;T--;)if(t.events[T][0]==="exit"&&t.events[T][1].type==="chunkFlow"){if($){E=t.events[T][1].end;break}$=!0}for(g(r),N=M;N<t.events.length;)t.events[N][1].end={...E},N++;Si(t.events,T+1,0,t.events.slice(M)),t.events.length=N}}function g(w){let S=n.length;for(;S-- >w;){const C=n[S];t.containerState=C[1],C[0].exit.call(t,e)}n.length=w}function b(){a.write([null]),i=void 0,a=void 0,t.containerState._closeFlow=void 0}}function goe(e,t,n){return vn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Uu(e){if(e===null||Bn(e)||Nc(e))return 1;if(py(e))return 2}function my(e,t,n){const r=[];let a=-1;for(;++a<e.length;){const i=e[a].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const rw={name:"attention",resolveAll:yoe,tokenize:voe};function yoe(e,t){let n=-1,r,a,i,o,s,l,c,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},p={...e[n][1].start};oE(f,-l),oE(p,l),o={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},s={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:p},i={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},a={type:l>1?"strong":"emphasis",start:{...o.start},end:{...s.end}},e[r][1].end={...o.start},e[n][1].start={...s.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=zi(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=zi(c,[["enter",a,t],["enter",o,t],["exit",o,t],["enter",i,t]]),c=zi(c,my(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=zi(c,[["exit",i,t],["enter",s,t],["exit",s,t],["exit",a,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,c=zi(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Si(e,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function voe(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=Uu(r);let i;return o;function o(l){return i=l,e.enter("attentionSequence"),s(l)}function s(l){if(l===i)return e.consume(l),s;const c=e.exit("attentionSequence"),d=Uu(l),f=!d||d===2&&a||n.includes(l),p=!a||a===2&&d||n.includes(r);return c._open=!!(i===42?f:f&&(a||!p)),c._close=!!(i===42?p:p&&(d||!f)),t(l)}}function oE(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const boe={name:"autolink",tokenize:xoe};function xoe(e,t,n){let r=0;return a;function a(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(m){return Fa(m)?(e.consume(m),o):m===64?n(m):c(m)}function o(m){return m===43||m===45||m===46||Ca(m)?(r=1,s(m)):c(m)}function s(m){return m===58?(e.consume(m),r=0,l):(m===43||m===45||m===46||Ca(m))&&r++<32?(e.consume(m),s):(r=0,c(m))}function l(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||_g(m)?n(m):(e.consume(m),l)}function c(m){return m===64?(e.consume(m),d):coe(m)?(e.consume(m),c):n(m)}function d(m){return Ca(m)?f(m):n(m)}function f(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):p(m)}function p(m){if((m===45||Ca(m))&&r++<63){const h=m===45?p:f;return e.consume(m),h}return n(m)}}const Fp={partial:!0,tokenize:woe};function woe(e,t,n){return r;function r(i){return un(i)?vn(e,a,"linePrefix")(i):a(i)}function a(i){return i===null||It(i)?t(i):n(i)}}const EL={continuation:{tokenize:Soe},exit:Noe,name:"blockQuote",tokenize:koe};function koe(e,t,n){const r=this;return a;function a(o){if(o===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),i}return n(o)}function i(o){return un(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function Soe(e,t,n){const r=this;return a;function a(o){return un(o)?vn(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):i(o)}function i(o){return e.attempt(EL,t,n)(o)}}function Noe(e){e.exit("blockQuote")}const PL={name:"characterEscape",tokenize:joe};function joe(e,t,n){return r;function r(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),a}function a(i){return doe(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}const TL={name:"characterReference",tokenize:Coe};function Coe(e,t,n){const r=this;let a=0,i,o;return s;function s(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),i=31,o=Ca,d(f))}function c(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,o=uoe,d):(e.enter("characterReferenceValue"),i=7,o=nw,d(f))}function d(f){if(f===59&&a){const p=e.exit("characterReferenceValue");return o===Ca&&!RS(r.sliceSerialize(p))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&a++<i?(e.consume(f),d):n(f)}}const sE={partial:!0,tokenize:Aoe},lE={concrete:!0,name:"codeFenced",tokenize:Moe};function Moe(e,t,n){const r=this,a={partial:!0,tokenize:C};let i=0,o=0,s;return l;function l(N){return c(N)}function c(N){const M=r.events[r.events.length-1];return i=M&&M[1].type==="linePrefix"?M[2].sliceSerialize(M[1],!0).length:0,s=N,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(N)}function d(N){return N===s?(o++,e.consume(N),d):o<3?n(N):(e.exit("codeFencedFenceSequence"),un(N)?vn(e,f,"whitespace")(N):f(N))}function f(N){return N===null||It(N)?(e.exit("codeFencedFence"),r.interrupt?t(N):e.check(sE,y,S)(N)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(N))}function p(N){return N===null||It(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(N)):un(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),vn(e,m,"whitespace")(N)):N===96&&N===s?n(N):(e.consume(N),p)}function m(N){return N===null||It(N)?f(N):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),h(N))}function h(N){return N===null||It(N)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(N)):N===96&&N===s?n(N):(e.consume(N),h)}function y(N){return e.attempt(a,S,x)(N)}function x(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),g}function g(N){return i>0&&un(N)?vn(e,b,"linePrefix",i+1)(N):b(N)}function b(N){return N===null||It(N)?e.check(sE,y,S)(N):(e.enter("codeFlowValue"),w(N))}function w(N){return N===null||It(N)?(e.exit("codeFlowValue"),b(N)):(e.consume(N),w)}function S(N){return e.exit("codeFenced"),t(N)}function C(N,M,T){let $=0;return E;function E(ee){return N.enter("lineEnding"),N.consume(ee),N.exit("lineEnding"),P}function P(ee){return N.enter("codeFencedFence"),un(ee)?vn(N,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ee):O(ee)}function O(ee){return ee===s?(N.enter("codeFencedFenceSequence"),U(ee)):T(ee)}function U(ee){return ee===s?($++,N.consume(ee),U):$>=o?(N.exit("codeFencedFenceSequence"),un(ee)?vn(N,X,"whitespace")(ee):X(ee)):T(ee)}function X(ee){return ee===null||It(ee)?(N.exit("codeFencedFence"),M(ee)):T(ee)}}}function Aoe(e,t,n){const r=this;return a;function a(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i)}function i(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const Ev={name:"codeIndented",tokenize:Poe},Eoe={partial:!0,tokenize:Toe};function Poe(e,t,n){const r=this;return a;function a(c){return e.enter("codeIndented"),vn(e,i,"linePrefix",5)(c)}function i(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):It(c)?e.attempt(Eoe,o,l)(c):(e.enter("codeFlowValue"),s(c))}function s(c){return c===null||It(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),s)}function l(c){return e.exit("codeIndented"),t(c)}}function Toe(e,t,n){const r=this;return a;function a(o){return r.parser.lazy[r.now().line]?n(o):It(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):vn(e,i,"linePrefix",5)(o)}function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):It(o)?a(o):n(o)}}const Doe={name:"codeText",previous:Ioe,resolve:Ooe,tokenize:_oe};function Ooe(e){let t=e.length-4,n=3,r,a;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)a===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(a=r):(r===t||e[r][1].type==="lineEnding")&&(e[a][1].type="codeTextData",r!==a+2&&(e[a][1].end=e[r-1][1].end,e.splice(a+2,r-a-2),t-=r-a-2,r=a+2),a=void 0);return e}function Ioe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function _oe(e,t,n){let r=0,a,i;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),s(f)}function s(f){return f===96?(e.consume(f),r++,s):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(i=e.enter("codeTextSequence"),a=0,d(f)):It(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||It(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),c)}function d(f){return f===96?(e.consume(f),a++,d):a===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(i.type="codeTextData",c(f))}}class Loe{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const a=n||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&Dd(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Dd(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Dd(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Dd(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Dd(this.left,n.reverse())}}}function Dd(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function DL(e){const t={};let n=-1,r,a,i,o,s,l,c;const d=new Loe(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,i=0,i<l.length&&l[i][1].type==="lineEndingBlank"&&(i+=2),i<l.length&&l[i][1].type==="content"))for(;++i<l.length&&l[i][1].type!=="content";)l[i][1].type==="chunkText"&&(l[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Foe(d,n)),n=t[n],c=!0);else if(r[1]._container){for(i=n,a=void 0;i--;)if(o=d.get(i),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(a&&(d.get(a)[1].type="lineEndingBlank"),o[1].type="lineEnding",a=i);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;a&&(r[1].end={...d.get(a)[1].start},s=d.slice(a,n),s.unshift(r),d.splice(a,n-a+1,s))}}return Si(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function Foe(e,t){const n=e.get(t)[1],r=e.get(t)[2];let a=t-1;const i=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const s=o.events,l=[],c={};let d,f,p=-1,m=n,h=0,y=0;const x=[y];for(;m;){for(;e.get(++a)[1]!==m;);i.push(a),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),f&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++p<s.length;)s[p][0]==="exit"&&s[p-1][0]==="enter"&&s[p][1].type===s[p-1][1].type&&s[p][1].start.line!==s[p][1].end.line&&(y=p+1,x.push(y),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):x.pop(),p=x.length;p--;){const g=s.slice(x[p],x[p+1]),b=i.pop();l.push([b,b+g.length-1]),e.splice(b,2,g)}for(l.reverse(),p=-1;++p<l.length;)c[h+l[p][0]]=h+l[p][1],h+=l[p][1]-l[p][0]-1;return c}const Roe={resolve:Boe,tokenize:zoe},$oe={partial:!0,tokenize:Voe};function Boe(e){return DL(e),e}function zoe(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),a(s)}function a(s){return s===null?i(s):It(s)?e.check($oe,o,i)(s):(e.consume(s),a)}function i(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function o(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function Voe(e,t,n){const r=this;return a;function a(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),vn(e,i,"linePrefix")}function i(o){if(o===null||It(o))return n(o);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function OL(e,t,n,r,a,i,o,s,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(g){return g===60?(e.enter(r),e.enter(a),e.enter(i),e.consume(g),e.exit(i),p):g===null||g===32||g===41||_g(g)?n(g):(e.enter(r),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),y(g))}function p(g){return g===62?(e.enter(i),e.consume(g),e.exit(i),e.exit(a),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),m(g))}function m(g){return g===62?(e.exit("chunkString"),e.exit(s),p(g)):g===null||g===60||It(g)?n(g):(e.consume(g),g===92?h:m)}function h(g){return g===60||g===62||g===92?(e.consume(g),m):m(g)}function y(g){return!d&&(g===null||g===41||Bn(g))?(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(r),t(g)):d<c&&g===40?(e.consume(g),d++,y):g===41?(e.consume(g),d--,y):g===null||g===32||g===40||_g(g)?n(g):(e.consume(g),g===92?x:y)}function x(g){return g===40||g===41||g===92?(e.consume(g),y):y(g)}}function IL(e,t,n,r,a,i){const o=this;let s=0,l;return c;function c(m){return e.enter(r),e.enter(a),e.consume(m),e.exit(a),e.enter(i),d}function d(m){return s>999||m===null||m===91||m===93&&!l||m===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?n(m):m===93?(e.exit(i),e.enter(a),e.consume(m),e.exit(a),e.exit(r),t):It(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||It(m)||s++>999?(e.exit("chunkString"),d(m)):(e.consume(m),l||(l=!un(m)),m===92?p:f)}function p(m){return m===91||m===92||m===93?(e.consume(m),s++,f):f(m)}}function _L(e,t,n,r,a,i){let o;return s;function s(p){return p===34||p===39||p===40?(e.enter(r),e.enter(a),e.consume(p),e.exit(a),o=p===40?41:p,l):n(p)}function l(p){return p===o?(e.enter(a),e.consume(p),e.exit(a),e.exit(r),t):(e.enter(i),c(p))}function c(p){return p===o?(e.exit(i),l(o)):p===null?n(p):It(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),vn(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===o||p===null||It(p)?(e.exit("chunkString"),c(p)):(e.consume(p),p===92?f:d)}function f(p){return p===o||p===92?(e.consume(p),d):d(p)}}function nf(e,t){let n;return r;function r(a){return It(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n=!0,r):un(a)?vn(e,r,n?"linePrefix":"lineSuffix")(a):t(a)}}const Uoe={name:"definition",tokenize:Hoe},Woe={partial:!0,tokenize:qoe};function Hoe(e,t,n){const r=this;let a;return i;function i(m){return e.enter("definition"),o(m)}function o(m){return IL.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function s(m){return a=fo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),l):n(m)}function l(m){return Bn(m)?nf(e,c)(m):c(m)}function c(m){return OL(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(Woe,f,f)(m)}function f(m){return un(m)?vn(e,p,"whitespace")(m):p(m)}function p(m){return m===null||It(m)?(e.exit("definition"),r.parser.defined.push(a),t(m)):n(m)}}function qoe(e,t,n){return r;function r(s){return Bn(s)?nf(e,a)(s):n(s)}function a(s){return _L(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function i(s){return un(s)?vn(e,o,"whitespace")(s):o(s)}function o(s){return s===null||It(s)?t(s):n(s)}}const Koe={name:"hardBreakEscape",tokenize:Yoe};function Yoe(e,t,n){return r;function r(i){return e.enter("hardBreakEscape"),e.consume(i),a}function a(i){return It(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}const Goe={name:"headingAtx",resolve:Xoe,tokenize:Zoe};function Xoe(e,t){let n=e.length-2,r=3,a,i;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(a={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},i={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Si(e,r,n-r+1,[["enter",a,t],["enter",i,t],["exit",i,t],["exit",a,t]])),e}function Zoe(e,t,n){let r=0;return a;function a(d){return e.enter("atxHeading"),i(d)}function i(d){return e.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(e.consume(d),o):d===null||Bn(d)?(e.exit("atxHeadingSequence"),s(d)):n(d)}function s(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||It(d)?(e.exit("atxHeading"),t(d)):un(d)?vn(e,s,"whitespace")(d):(e.enter("atxHeadingText"),c(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),s(d))}function c(d){return d===null||d===35||Bn(d)?(e.exit("atxHeadingText"),s(d)):(e.consume(d),c)}}const Qoe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],cE=["pre","script","style","textarea"],Joe={concrete:!0,name:"htmlFlow",resolveTo:nse,tokenize:rse},ese={partial:!0,tokenize:ise},tse={partial:!0,tokenize:ase};function nse(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function rse(e,t,n){const r=this;let a,i,o,s,l;return c;function c(j){return d(j)}function d(j){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(j),f}function f(j){return j===33?(e.consume(j),p):j===47?(e.consume(j),i=!0,y):j===63?(e.consume(j),a=3,r.interrupt?t:k):Fa(j)?(e.consume(j),o=String.fromCharCode(j),x):n(j)}function p(j){return j===45?(e.consume(j),a=2,m):j===91?(e.consume(j),a=5,s=0,h):Fa(j)?(e.consume(j),a=4,r.interrupt?t:k):n(j)}function m(j){return j===45?(e.consume(j),r.interrupt?t:k):n(j)}function h(j){const L="CDATA[";return j===L.charCodeAt(s++)?(e.consume(j),s===L.length?r.interrupt?t:O:h):n(j)}function y(j){return Fa(j)?(e.consume(j),o=String.fromCharCode(j),x):n(j)}function x(j){if(j===null||j===47||j===62||Bn(j)){const L=j===47,q=o.toLowerCase();return!L&&!i&&cE.includes(q)?(a=1,r.interrupt?t(j):O(j)):Qoe.includes(o.toLowerCase())?(a=6,L?(e.consume(j),g):r.interrupt?t(j):O(j)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(j):i?b(j):w(j))}return j===45||Ca(j)?(e.consume(j),o+=String.fromCharCode(j),x):n(j)}function g(j){return j===62?(e.consume(j),r.interrupt?t:O):n(j)}function b(j){return un(j)?(e.consume(j),b):E(j)}function w(j){return j===47?(e.consume(j),E):j===58||j===95||Fa(j)?(e.consume(j),S):un(j)?(e.consume(j),w):E(j)}function S(j){return j===45||j===46||j===58||j===95||Ca(j)?(e.consume(j),S):C(j)}function C(j){return j===61?(e.consume(j),N):un(j)?(e.consume(j),C):w(j)}function N(j){return j===null||j===60||j===61||j===62||j===96?n(j):j===34||j===39?(e.consume(j),l=j,M):un(j)?(e.consume(j),N):T(j)}function M(j){return j===l?(e.consume(j),l=null,$):j===null||It(j)?n(j):(e.consume(j),M)}function T(j){return j===null||j===34||j===39||j===47||j===60||j===61||j===62||j===96||Bn(j)?C(j):(e.consume(j),T)}function $(j){return j===47||j===62||un(j)?w(j):n(j)}function E(j){return j===62?(e.consume(j),P):n(j)}function P(j){return j===null||It(j)?O(j):un(j)?(e.consume(j),P):n(j)}function O(j){return j===45&&a===2?(e.consume(j),de):j===60&&a===1?(e.consume(j),z):j===62&&a===4?(e.consume(j),I):j===63&&a===3?(e.consume(j),k):j===93&&a===5?(e.consume(j),ie):It(j)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(ese,A,U)(j)):j===null||It(j)?(e.exit("htmlFlowData"),U(j)):(e.consume(j),O)}function U(j){return e.check(tse,X,A)(j)}function X(j){return e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),ee}function ee(j){return j===null||It(j)?U(j):(e.enter("htmlFlowData"),O(j))}function de(j){return j===45?(e.consume(j),k):O(j)}function z(j){return j===47?(e.consume(j),o="",B):O(j)}function B(j){if(j===62){const L=o.toLowerCase();return cE.includes(L)?(e.consume(j),I):O(j)}return Fa(j)&&o.length<8?(e.consume(j),o+=String.fromCharCode(j),B):O(j)}function ie(j){return j===93?(e.consume(j),k):O(j)}function k(j){return j===62?(e.consume(j),I):j===45&&a===2?(e.consume(j),k):O(j)}function I(j){return j===null||It(j)?(e.exit("htmlFlowData"),A(j)):(e.consume(j),I)}function A(j){return e.exit("htmlFlow"),t(j)}}function ase(e,t,n){const r=this;return a;function a(o){return It(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):n(o)}function i(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function ise(e,t,n){return r;function r(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(Fp,t,n)}}const ose={name:"htmlText",tokenize:sse};function sse(e,t,n){const r=this;let a,i,o;return s;function s(k){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(k),l}function l(k){return k===33?(e.consume(k),c):k===47?(e.consume(k),C):k===63?(e.consume(k),w):Fa(k)?(e.consume(k),T):n(k)}function c(k){return k===45?(e.consume(k),d):k===91?(e.consume(k),i=0,h):Fa(k)?(e.consume(k),b):n(k)}function d(k){return k===45?(e.consume(k),m):n(k)}function f(k){return k===null?n(k):k===45?(e.consume(k),p):It(k)?(o=f,z(k)):(e.consume(k),f)}function p(k){return k===45?(e.consume(k),m):f(k)}function m(k){return k===62?de(k):k===45?p(k):f(k)}function h(k){const I="CDATA[";return k===I.charCodeAt(i++)?(e.consume(k),i===I.length?y:h):n(k)}function y(k){return k===null?n(k):k===93?(e.consume(k),x):It(k)?(o=y,z(k)):(e.consume(k),y)}function x(k){return k===93?(e.consume(k),g):y(k)}function g(k){return k===62?de(k):k===93?(e.consume(k),g):y(k)}function b(k){return k===null||k===62?de(k):It(k)?(o=b,z(k)):(e.consume(k),b)}function w(k){return k===null?n(k):k===63?(e.consume(k),S):It(k)?(o=w,z(k)):(e.consume(k),w)}function S(k){return k===62?de(k):w(k)}function C(k){return Fa(k)?(e.consume(k),N):n(k)}function N(k){return k===45||Ca(k)?(e.consume(k),N):M(k)}function M(k){return It(k)?(o=M,z(k)):un(k)?(e.consume(k),M):de(k)}function T(k){return k===45||Ca(k)?(e.consume(k),T):k===47||k===62||Bn(k)?$(k):n(k)}function $(k){return k===47?(e.consume(k),de):k===58||k===95||Fa(k)?(e.consume(k),E):It(k)?(o=$,z(k)):un(k)?(e.consume(k),$):de(k)}function E(k){return k===45||k===46||k===58||k===95||Ca(k)?(e.consume(k),E):P(k)}function P(k){return k===61?(e.consume(k),O):It(k)?(o=P,z(k)):un(k)?(e.consume(k),P):$(k)}function O(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),a=k,U):It(k)?(o=O,z(k)):un(k)?(e.consume(k),O):(e.consume(k),X)}function U(k){return k===a?(e.consume(k),a=void 0,ee):k===null?n(k):It(k)?(o=U,z(k)):(e.consume(k),U)}function X(k){return k===null||k===34||k===39||k===60||k===61||k===96?n(k):k===47||k===62||Bn(k)?$(k):(e.consume(k),X)}function ee(k){return k===47||k===62||Bn(k)?$(k):n(k)}function de(k){return k===62?(e.consume(k),e.exit("htmlTextData"),e.exit("htmlText"),t):n(k)}function z(k){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),B}function B(k){return un(k)?vn(e,ie,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):ie(k)}function ie(k){return e.enter("htmlTextData"),o(k)}}const $S={name:"labelEnd",resolveAll:dse,resolveTo:fse,tokenize:pse},lse={tokenize:mse},cse={tokenize:hse},use={tokenize:gse};function dse(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",t+=a}}return e.length!==n.length&&Si(e,0,e.length,n),e}function fse(e,t){let n=e.length,r=0,a,i,o,s;for(;n--;)if(a=e[n][1],i){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(i=n,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(o=n);const l={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[i][1].start},end:{...e[o][1].end}},d={type:"labelText",start:{...e[i+r+2][1].end},end:{...e[o-2][1].start}};return s=[["enter",l,t],["enter",c,t]],s=zi(s,e.slice(i+1,i+r+3)),s=zi(s,[["enter",d,t]]),s=zi(s,my(t.parser.constructs.insideSpan.null,e.slice(i+r+4,o-3),t)),s=zi(s,[["exit",d,t],e[o-2],e[o-1],["exit",c,t]]),s=zi(s,e.slice(o+1)),s=zi(s,[["exit",l,t]]),Si(e,i,e.length,s),e}function pse(e,t,n){const r=this;let a=r.events.length,i,o;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){i=r.events[a][1];break}return s;function s(p){return i?i._inactive?f(p):(o=r.parser.defined.includes(fo(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),l):n(p)}function l(p){return p===40?e.attempt(lse,d,o?d:f)(p):p===91?e.attempt(cse,d,o?c:f)(p):o?d(p):f(p)}function c(p){return e.attempt(use,d,f)(p)}function d(p){return t(p)}function f(p){return i._balanced=!0,n(p)}}function mse(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),a}function a(f){return Bn(f)?nf(e,i)(f):i(f)}function i(f){return f===41?d(f):OL(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return Bn(f)?nf(e,l)(f):d(f)}function s(f){return n(f)}function l(f){return f===34||f===39||f===40?_L(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function c(f){return Bn(f)?nf(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function hse(e,t,n){const r=this;return a;function a(s){return IL.call(r,e,i,o,"reference","referenceMarker","referenceString")(s)}function i(s){return r.parser.defined.includes(fo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function o(s){return n(s)}}function gse(e,t,n){return r;function r(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),a}function a(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}const yse={name:"labelStartImage",resolveAll:$S.resolveAll,tokenize:vse};function vse(e,t,n){const r=this;return a;function a(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),i}function i(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),o):n(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const bse={name:"labelStartLink",resolveAll:$S.resolveAll,tokenize:xse};function xse(e,t,n){const r=this;return a;function a(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),i}function i(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const Pv={name:"lineEnding",tokenize:wse};function wse(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),vn(e,t,"linePrefix")}}const ch={name:"thematicBreak",tokenize:kse};function kse(e,t,n){let r=0,a;return i;function i(c){return e.enter("thematicBreak"),o(c)}function o(c){return a=c,s(c)}function s(c){return c===a?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||It(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===a?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),un(c)?vn(e,s,"whitespace")(c):s(c))}}const Xa={continuation:{tokenize:Cse},exit:Ase,name:"list",tokenize:jse},Sse={partial:!0,tokenize:Ese},Nse={partial:!0,tokenize:Mse};function jse(e,t,n){const r=this,a=r.events[r.events.length-1];let i=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,o=0;return s;function s(m){const h=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(h==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:nw(m)){if(r.containerState.type||(r.containerState.type=h,e.enter(h,{_container:!0})),h==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(ch,n,c)(m):c(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(m)}return n(m)}function l(m){return nw(m)&&++o<10?(e.consume(m),l):(!r.interrupt||o<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),c(m)):n(m)}function c(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(Fp,r.interrupt?n:d,e.attempt(Sse,p,f))}function d(m){return r.containerState.initialBlankLine=!0,i++,p(m)}function f(m){return un(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function Cse(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Fp,a,i);function a(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,vn(e,t,"listItemIndent",r.containerState.size+1)(s)}function i(s){return r.containerState.furtherBlankLines||!un(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Nse,t,o)(s))}function o(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,vn(e,e.attempt(Xa,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function Mse(e,t,n){const r=this;return vn(e,a,"listItemIndent",r.containerState.size+1);function a(i){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(i):n(i)}}function Ase(e){e.exit(this.containerState.type)}function Ese(e,t,n){const r=this;return vn(e,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(i){const o=r.events[r.events.length-1];return!un(i)&&o&&o[1].type==="listItemPrefixWhitespace"?t(i):n(i)}}const uE={name:"setextUnderline",resolveTo:Pse,tokenize:Tse};function Pse(e,t){let n=e.length,r,a,i;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(a=n)}else e[n][1].type==="content"&&e.splice(n,1),!i&&e[n][1].type==="definition"&&(i=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",i?(e.splice(a,0,["enter",o,t]),e.splice(i+1,0,["exit",e[r][1],t]),e[r][1].end={...e[i][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function Tse(e,t,n){const r=this;let a;return i;function i(c){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),a=c,o(c)):n(c)}function o(c){return e.enter("setextHeadingLineSequence"),s(c)}function s(c){return c===a?(e.consume(c),s):(e.exit("setextHeadingLineSequence"),un(c)?vn(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||It(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const Dse={tokenize:Ose};function Ose(e){const t=this,n=e.attempt(Fp,r,e.attempt(this.parser.constructs.flowInitial,a,vn(e,e.attempt(this.parser.constructs.flow,a,e.attempt(Roe,a)),"linePrefix")));return n;function r(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function a(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Ise={resolveAll:FL()},_se=LL("string"),Lse=LL("text");function LL(e){return{resolveAll:FL(e==="text"?Fse:void 0),tokenize:t};function t(n){const r=this,a=this.parser.constructs[e],i=n.attempt(a,o,s);return o;function o(d){return c(d)?i(d):s(d)}function s(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return c(d)?(n.exit("data"),i(d)):(n.consume(d),l)}function c(d){if(d===null)return!0;const f=a[d];let p=-1;if(f)for(;++p<f.length;){const m=f[p];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function FL(e){return t;function t(n,r){let a=-1,i;for(;++a<=n.length;)i===void 0?n[a]&&n[a][1].type==="data"&&(i=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==i+2&&(n[i][1].end=n[a-1][1].end,n.splice(i+2,a-i-2),a=i+2),i=void 0);return e?e(n,r):n}}function Fse(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],a=t.sliceStream(r);let i=a.length,o=-1,s=0,l;for(;i--;){const c=a[i];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(c===-2)l=!0,s++;else if(c!==-1){i++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(s=0),s){const c={type:n===e.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?o:r.start._bufferIndex+o,_index:r.start._index+i,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const Rse={42:Xa,43:Xa,45:Xa,48:Xa,49:Xa,50:Xa,51:Xa,52:Xa,53:Xa,54:Xa,55:Xa,56:Xa,57:Xa,62:EL},$se={91:Uoe},Bse={[-2]:Ev,[-1]:Ev,32:Ev},zse={35:Goe,42:ch,45:[uE,ch],60:Joe,61:uE,95:ch,96:lE,126:lE},Vse={38:TL,92:PL},Use={[-5]:Pv,[-4]:Pv,[-3]:Pv,33:yse,38:TL,42:rw,60:[boe,ose],91:bse,92:[Koe,PL],93:$S,95:rw,96:Doe},Wse={null:[rw,Ise]},Hse={null:[42,95]},qse={null:[]},Kse=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Hse,contentInitial:$se,disable:qse,document:Rse,flow:zse,flowInitial:Bse,insideSpan:Wse,string:Vse,text:Use},Symbol.toStringTag,{value:"Module"}));function Yse(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},i=[];let o=[],s=[];const l={attempt:M(C),check:M(N),consume:b,enter:w,exit:S,interrupt:M(N,{interrupt:!0})},c={code:null,containerState:{},defineSkip:y,events:[],now:h,parser:e,previous:null,sliceSerialize:p,sliceStream:m,write:f};let d=t.tokenize.call(c,l);return t.resolveAll&&i.push(t),c;function f(P){return o=zi(o,P),x(),o[o.length-1]!==null?[]:(T(t,0),c.events=my(i,c.events,c),c.events)}function p(P,O){return Xse(m(P),O)}function m(P){return Gse(o,P)}function h(){const{_bufferIndex:P,_index:O,line:U,column:X,offset:ee}=r;return{_bufferIndex:P,_index:O,line:U,column:X,offset:ee}}function y(P){a[P.line]=P.column,E()}function x(){let P;for(;r._index<o.length;){const O=o[r._index];if(typeof O=="string")for(P=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===P&&r._bufferIndex<O.length;)g(O.charCodeAt(r._bufferIndex));else g(O)}}function g(P){d=d(P)}function b(P){It(P)?(r.line++,r.column=1,r.offset+=P===-3?2:1,E()):P!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=P}function w(P,O){const U=O||{};return U.type=P,U.start=h(),c.events.push(["enter",U,c]),s.push(U),U}function S(P){const O=s.pop();return O.end=h(),c.events.push(["exit",O,c]),O}function C(P,O){T(P,O.from)}function N(P,O){O.restore()}function M(P,O){return U;function U(X,ee,de){let z,B,ie,k;return Array.isArray(X)?A(X):"tokenize"in X?A([X]):I(X);function I(Q){return G;function G(W){const _=W!==null&&Q[W],te=W!==null&&Q.null,re=[...Array.isArray(_)?_:_?[_]:[],...Array.isArray(te)?te:te?[te]:[]];return A(re)(W)}}function A(Q){return z=Q,B=0,Q.length===0?de:j(Q[B])}function j(Q){return G;function G(W){return k=$(),ie=Q,Q.partial||(c.currentConstruct=Q),Q.name&&c.parser.constructs.disable.null.includes(Q.name)?q():Q.tokenize.call(O?Object.assign(Object.create(c),O):c,l,L,q)(W)}}function L(Q){return P(ie,k),ee}function q(Q){return k.restore(),++B<z.length?j(z[B]):de}}}function T(P,O){P.resolveAll&&!i.includes(P)&&i.push(P),P.resolve&&Si(c.events,O,c.events.length-O,P.resolve(c.events.slice(O),c)),P.resolveTo&&(c.events=P.resolveTo(c.events,c))}function $(){const P=h(),O=c.previous,U=c.currentConstruct,X=c.events.length,ee=Array.from(s);return{from:X,restore:de};function de(){r=P,c.previous=O,c.currentConstruct=U,c.events.length=X,s=ee,E()}}function E(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function Gse(e,t){const n=t.start._index,r=t.start._bufferIndex,a=t.end._index,i=t.end._bufferIndex;let o;if(n===a)o=[e[n].slice(r,i)];else{if(o=e.slice(n,a),r>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(r):o.shift()}i>0&&o.push(e[a].slice(0,i))}return o}function Xse(e,t){let n=-1;const r=[];let a;for(;++n<e.length;){const i=e[n];let o;if(typeof i=="string")o=i;else switch(i){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&a)continue;o=" ";break}default:o=String.fromCharCode(i)}a=i===-2,r.push(o)}return r.join("")}function Zse(e){const t={constructs:ML([Kse,...(e||{}).extensions||[]]),content:n(foe),defined:[],document:n(moe),flow:n(Dse),lazy:{},string:n(_se),text:n(Lse)};return t;function n(r){return a;function a(i){return Yse(t,r,i)}}}function Qse(e){for(;!DL(e););return e}const dE=/[\0\t\n\r]/g;function Jse(){let e=1,t="",n=!0,r;return a;function a(i,o,s){const l=[];let c,d,f,p,m;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(o||void 0).decode(i)),f=0,t="",n&&(i.charCodeAt(0)===65279&&f++,n=void 0);f<i.length;){if(dE.lastIndex=f,c=dE.exec(i),p=c&&c.index!==void 0?c.index:i.length,m=i.charCodeAt(p),!c){t=i.slice(f);break}if(m===10&&f===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<p&&(l.push(i.slice(f,p)),e+=p-f),m){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=p+1}return s&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const ele=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function tle(e){return e.replace(ele,nle)}function nle(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const r=n.charCodeAt(1),a=r===120||r===88;return AL(n.slice(a?2:1),a?16:10)}return RS(n)||e}const RL={}.hasOwnProperty;function rle(e,t,n){return typeof t!="string"&&(n=t,t=void 0),ale(n)(Qse(Zse(n).document().write(Jse()(e,t,!0))))}function ale(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(ue),autolinkProtocol:$,autolinkEmail:$,atxHeading:i(R),blockQuote:i(te),characterEscape:$,characterReference:$,codeFenced:i(re),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:i(re,o),codeText:i(F,o),codeTextData:$,data:$,codeFlowValue:$,definition:i(ae),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:i(H),hardBreakEscape:i(oe),hardBreakTrailing:i(oe),htmlFlow:i(be,o),htmlFlowData:$,htmlText:i(be,o),htmlTextData:$,image:i(et),label:o,link:i(ue),listItem:i(Be),listItemValue:p,listOrdered:i(He,f),listUnordered:i(He),paragraph:i(yt),reference:j,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:i(R),strong:i(Xt),thematicBreak:i(On)},exit:{atxHeading:l(),atxHeadingSequence:C,autolink:l(),autolinkEmail:_,autolinkProtocol:W,blockQuote:l(),characterEscapeValue:E,characterReferenceMarkerHexadecimal:q,characterReferenceMarkerNumeric:q,characterReferenceValue:Q,characterReference:G,codeFenced:l(x),codeFencedFence:y,codeFencedFenceInfo:m,codeFencedFenceMeta:h,codeFlowValue:E,codeIndented:l(g),codeText:l(ee),codeTextData:E,data:E,definition:l(),definitionDestinationString:S,definitionLabelString:b,definitionTitleString:w,emphasis:l(),hardBreakEscape:l(O),hardBreakTrailing:l(O),htmlFlow:l(U),htmlFlowData:E,htmlText:l(X),htmlTextData:E,image:l(z),label:ie,labelText:B,lineEnding:P,link:l(de),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:L,resourceDestinationString:k,resourceTitleString:I,resource:A,setextHeading:l(T),setextHeadingLineSequence:M,setextHeadingText:N,strong:l(),thematicBreak:l()}};$L(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ge){let Fe={type:"root",children:[]};const Dt={stack:[Fe],tokenStack:[],config:t,enter:s,exit:c,buffer:o,resume:d,data:n},_t=[];let pn=-1;for(;++pn<ge.length;)if(ge[pn][1].type==="listOrdered"||ge[pn][1].type==="listUnordered")if(ge[pn][0]==="enter")_t.push(pn);else{const Tn=_t.pop();pn=a(ge,Tn,pn)}for(pn=-1;++pn<ge.length;){const Tn=t[ge[pn][0]];RL.call(Tn,ge[pn][1].type)&&Tn[ge[pn][1].type].call(Object.assign({sliceSerialize:ge[pn][2].sliceSerialize},Dt),ge[pn][1])}if(Dt.tokenStack.length>0){const Tn=Dt.tokenStack[Dt.tokenStack.length-1];(Tn[1]||fE).call(Dt,void 0,Tn[0])}for(Fe.position={start:zs(ge.length>0?ge[0][1].start:{line:1,column:1,offset:0}),end:zs(ge.length>0?ge[ge.length-2][1].end:{line:1,column:1,offset:0})},pn=-1;++pn<t.transforms.length;)Fe=t.transforms[pn](Fe)||Fe;return Fe}function a(ge,Fe,Dt){let _t=Fe-1,pn=-1,Tn=!1,Vn,Ea,Ei,ha;for(;++_t<=Dt;){const Jt=ge[_t];switch(Jt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Jt[0]==="enter"?pn++:pn--,ha=void 0;break}case"lineEndingBlank":{Jt[0]==="enter"&&(Vn&&!ha&&!pn&&!Ei&&(Ei=_t),ha=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ha=void 0}if(!pn&&Jt[0]==="enter"&&Jt[1].type==="listItemPrefix"||pn===-1&&Jt[0]==="exit"&&(Jt[1].type==="listUnordered"||Jt[1].type==="listOrdered")){if(Vn){let on=_t;for(Ea=void 0;on--;){const Fn=ge[on];if(Fn[1].type==="lineEnding"||Fn[1].type==="lineEndingBlank"){if(Fn[0]==="exit")continue;Ea&&(ge[Ea][1].type="lineEndingBlank",Tn=!0),Fn[1].type="lineEnding",Ea=on}else if(!(Fn[1].type==="linePrefix"||Fn[1].type==="blockQuotePrefix"||Fn[1].type==="blockQuotePrefixWhitespace"||Fn[1].type==="blockQuoteMarker"||Fn[1].type==="listItemIndent"))break}Ei&&(!Ea||Ei<Ea)&&(Vn._spread=!0),Vn.end=Object.assign({},Ea?ge[Ea][1].start:Jt[1].end),ge.splice(Ea||_t,0,["exit",Vn,Jt[2]]),_t++,Dt++}if(Jt[1].type==="listItemPrefix"){const on={type:"listItem",_spread:!1,start:Object.assign({},Jt[1].start),end:void 0};Vn=on,ge.splice(_t,0,["enter",on,Jt[2]]),_t++,Dt++,Ei=void 0,ha=!0}}}return ge[Fe][1]._spread=Tn,Dt}function i(ge,Fe){return Dt;function Dt(_t){s.call(this,ge(_t),_t),Fe&&Fe.call(this,_t)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(ge,Fe,Dt){this.stack[this.stack.length-1].children.push(ge),this.stack.push(ge),this.tokenStack.push([Fe,Dt||void 0]),ge.position={start:zs(Fe.start),end:void 0}}function l(ge){return Fe;function Fe(Dt){ge&&ge.call(this,Dt),c.call(this,Dt)}}function c(ge,Fe){const Dt=this.stack.pop(),_t=this.tokenStack.pop();if(_t)_t[0].type!==ge.type&&(Fe?Fe.call(this,ge,_t[0]):(_t[1]||fE).call(this,ge,_t[0]));else throw new Error("Cannot close `"+ge.type+"` ("+tf({start:ge.start,end:ge.end})+"): its not open");Dt.position.end=zs(ge.end)}function d(){return FS(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function p(ge){if(this.data.expectingFirstListItemValue){const Fe=this.stack[this.stack.length-2];Fe.start=Number.parseInt(this.sliceSerialize(ge),10),this.data.expectingFirstListItemValue=void 0}}function m(){const ge=this.resume(),Fe=this.stack[this.stack.length-1];Fe.lang=ge}function h(){const ge=this.resume(),Fe=this.stack[this.stack.length-1];Fe.meta=ge}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const ge=this.resume(),Fe=this.stack[this.stack.length-1];Fe.value=ge.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function g(){const ge=this.resume(),Fe=this.stack[this.stack.length-1];Fe.value=ge.replace(/(\r?\n|\r)$/g,"")}function b(ge){const Fe=this.resume(),Dt=this.stack[this.stack.length-1];Dt.label=Fe,Dt.identifier=fo(this.sliceSerialize(ge)).toLowerCase()}function w(){const ge=this.resume(),Fe=this.stack[this.stack.length-1];Fe.title=ge}function S(){const ge=this.resume(),Fe=this.stack[this.stack.length-1];Fe.url=ge}function C(ge){const Fe=this.stack[this.stack.length-1];if(!Fe.depth){const Dt=this.sliceSerialize(ge).length;Fe.depth=Dt}}function N(){this.data.setextHeadingSlurpLineEnding=!0}function M(ge){const Fe=this.stack[this.stack.length-1];Fe.depth=this.sliceSerialize(ge).codePointAt(0)===61?1:2}function T(){this.data.setextHeadingSlurpLineEnding=void 0}function $(ge){const Fe=this.stack[this.stack.length-1].children;let Dt=Fe[Fe.length-1];(!Dt||Dt.type!=="text")&&(Dt=Mn(),Dt.position={start:zs(ge.start),end:void 0},Fe.push(Dt)),this.stack.push(Dt)}function E(ge){const Fe=this.stack.pop();Fe.value+=this.sliceSerialize(ge),Fe.position.end=zs(ge.end)}function P(ge){const Fe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Dt=Fe.children[Fe.children.length-1];Dt.position.end=zs(ge.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Fe.type)&&($.call(this,ge),E.call(this,ge))}function O(){this.data.atHardBreak=!0}function U(){const ge=this.resume(),Fe=this.stack[this.stack.length-1];Fe.value=ge}function X(){const ge=this.resume(),Fe=this.stack[this.stack.length-1];Fe.value=ge}function ee(){const ge=this.resume(),Fe=this.stack[this.stack.length-1];Fe.value=ge}function de(){const ge=this.stack[this.stack.length-1];if(this.data.inReference){const Fe=this.data.referenceType||"shortcut";ge.type+="Reference",ge.referenceType=Fe,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;this.data.referenceType=void 0}function z(){const ge=this.stack[this.stack.length-1];if(this.data.inReference){const Fe=this.data.referenceType||"shortcut";ge.type+="Reference",ge.referenceType=Fe,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;this.data.referenceType=void 0}function B(ge){const Fe=this.sliceSerialize(ge),Dt=this.stack[this.stack.length-2];Dt.label=tle(Fe),Dt.identifier=fo(Fe).toLowerCase()}function ie(){const ge=this.stack[this.stack.length-1],Fe=this.resume(),Dt=this.stack[this.stack.length-1];if(this.data.inReference=!0,Dt.type==="link"){const _t=ge.children;Dt.children=_t}else Dt.alt=Fe}function k(){const ge=this.resume(),Fe=this.stack[this.stack.length-1];Fe.url=ge}function I(){const ge=this.resume(),Fe=this.stack[this.stack.length-1];Fe.title=ge}function A(){this.data.inReference=void 0}function j(){this.data.referenceType="collapsed"}function L(ge){const Fe=this.resume(),Dt=this.stack[this.stack.length-1];Dt.label=Fe,Dt.identifier=fo(this.sliceSerialize(ge)).toLowerCase(),this.data.referenceType="full"}function q(ge){this.data.characterReferenceType=ge.type}function Q(ge){const Fe=this.sliceSerialize(ge),Dt=this.data.characterReferenceType;let _t;Dt?(_t=AL(Fe,Dt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):_t=RS(Fe);const pn=this.stack[this.stack.length-1];pn.value+=_t}function G(ge){const Fe=this.stack.pop();Fe.position.end=zs(ge.end)}function W(ge){E.call(this,ge);const Fe=this.stack[this.stack.length-1];Fe.url=this.sliceSerialize(ge)}function _(ge){E.call(this,ge);const Fe=this.stack[this.stack.length-1];Fe.url="mailto:"+this.sliceSerialize(ge)}function te(){return{type:"blockquote",children:[]}}function re(){return{type:"code",lang:null,meta:null,value:""}}function F(){return{type:"inlineCode",value:""}}function ae(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function H(){return{type:"emphasis",children:[]}}function R(){return{type:"heading",depth:0,children:[]}}function oe(){return{type:"break"}}function be(){return{type:"html",value:""}}function et(){return{type:"image",title:null,url:"",alt:null}}function ue(){return{type:"link",title:null,url:"",children:[]}}function He(ge){return{type:"list",ordered:ge.type==="listOrdered",start:null,spread:ge._spread,children:[]}}function Be(ge){return{type:"listItem",spread:ge._spread,checked:null,children:[]}}function yt(){return{type:"paragraph",children:[]}}function Xt(){return{type:"strong",children:[]}}function Mn(){return{type:"text",value:""}}function On(){return{type:"thematicBreak"}}}function zs(e){return{line:e.line,column:e.column,offset:e.offset}}function $L(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?$L(e,r):ile(e,r)}}function ile(e,t){let n;for(n in t)if(RL.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function fE(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+tf({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+tf({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+tf({start:t.start,end:t.end})+") is still open")}function ole(e){const t=this;t.parser=n;function n(r){return rle(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function sle(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function lle(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function cle(e,t){const n=t.value?t.value+`
`:"",r={},a=t.lang?t.lang.split(/\s+/):[];a.length>0&&(r.className=["language-"+a[0]]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function ule(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function dle(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function fle(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),a=od(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);let o,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=i+1,s+=1,e.footnoteCounts.set(r,s);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function ple(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function mle(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function BL(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const a=e.all(t),i=a[0];i&&i.type==="text"?i.value="["+i.value:a.unshift({type:"text",value:"["});const o=a[a.length-1];return o&&o.type==="text"?o.value+=r:a.push({type:"text",value:r}),a}function hle(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return BL(e,t);const a={src:od(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,i),e.applyData(t,i)}function gle(e,t){const n={src:od(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function yle(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function vle(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return BL(e,t);const a={href:od(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function ble(e,t){const n={href:od(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function xle(e,t,n){const r=e.all(t),a=n?wle(n):zL(t),i={},o=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const d=r[s];(a||s!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!a?o.push(...d.children):o.push(d)}const l=r[r.length-1];l&&(a||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:i,children:o};return e.patch(t,c),e.applyData(t,c)}function wle(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=zL(n[r])}return t}function zL(e){return e.spread??e.children.length>1}function kle(e,t){const n={},r=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++a<r.length;){const o=r[a];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)}function Sle(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Nle(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function jle(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Cle(e,t){const n=e.all(t),r=n.shift(),a=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),a.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=OS(t.children[1]),l=xL(t.children[t.children.length-1]);s&&l&&(o.position={start:s,end:l}),a.push(o)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,i),e.applyData(t,i)}function Mle(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",i=n&&n.type==="table"?n.align:void 0,o=i?i.length:t.children.length;let s=-1;const l=[];for(;++s<o;){const d=t.children[s],f={},p=i?i[s]:void 0;p&&(f.align=p);let m={type:"element",tagName:a,properties:f,children:[]};d&&(m.children=e.all(d),e.patch(d,m),m=e.applyData(d,m)),l.push(m)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,c),e.applyData(t,c)}function Ale(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const pE=9,mE=32;function Ele(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),a=0;const i=[];for(;r;)i.push(hE(t.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(t);return i.push(hE(t.slice(a),a>0,!1)),i.join("")}function hE(e,t,n){let r=0,a=e.length;if(t){let i=e.codePointAt(r);for(;i===pE||i===mE;)r++,i=e.codePointAt(r)}if(n){let i=e.codePointAt(a-1);for(;i===pE||i===mE;)a--,i=e.codePointAt(a-1)}return a>r?e.slice(r,a):""}function Ple(e,t){const n={type:"text",value:Ele(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Tle(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Dle={blockquote:sle,break:lle,code:cle,delete:ule,emphasis:dle,footnoteReference:fle,heading:ple,html:mle,imageReference:hle,image:gle,inlineCode:yle,linkReference:vle,link:ble,listItem:xle,list:kle,paragraph:Sle,root:Nle,strong:jle,table:Cle,tableCell:Ale,tableRow:Mle,text:Ple,thematicBreak:Tle,toml:Om,yaml:Om,definition:Om,footnoteDefinition:Om};function Om(){}const VL=-1,hy=0,rf=1,Lg=2,BS=3,zS=4,VS=5,US=6,UL=7,WL=8,gE=typeof self=="object"?self:globalThis,Ole=(e,t)=>{const n=(a,i)=>(e.set(i,a),a),r=a=>{if(e.has(a))return e.get(a);const[i,o]=t[a];switch(i){case hy:case VL:return n(o,a);case rf:{const s=n([],a);for(const l of o)s.push(r(l));return s}case Lg:{const s=n({},a);for(const[l,c]of o)s[r(l)]=r(c);return s}case BS:return n(new Date(o),a);case zS:{const{source:s,flags:l}=o;return n(new RegExp(s,l),a)}case VS:{const s=n(new Map,a);for(const[l,c]of o)s.set(r(l),r(c));return s}case US:{const s=n(new Set,a);for(const l of o)s.add(r(l));return s}case UL:{const{name:s,message:l}=o;return n(new gE[s](l),a)}case WL:return n(BigInt(o),a);case"BigInt":return n(Object(BigInt(o)),a);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:s}=new Uint8Array(o);return n(new DataView(s),o)}}return n(new gE[i](o),a)};return r},yE=e=>Ole(new Map,e)(0),Kc="",{toString:Ile}={},{keys:_le}=Object,Od=e=>{const t=typeof e;if(t!=="object"||!e)return[hy,t];const n=Ile.call(e).slice(8,-1);switch(n){case"Array":return[rf,Kc];case"Object":return[Lg,Kc];case"Date":return[BS,Kc];case"RegExp":return[zS,Kc];case"Map":return[VS,Kc];case"Set":return[US,Kc];case"DataView":return[rf,n]}return n.includes("Array")?[rf,n]:n.includes("Error")?[UL,n]:[Lg,n]},Im=([e,t])=>e===hy&&(t==="function"||t==="symbol"),Lle=(e,t,n,r)=>{const a=(o,s)=>{const l=r.push(o)-1;return n.set(s,l),l},i=o=>{if(n.has(o))return n.get(o);let[s,l]=Od(o);switch(s){case hy:{let d=o;switch(l){case"bigint":s=WL,d=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return a([VL],o)}return a([s,d],o)}case rf:{if(l){let p=o;return l==="DataView"?p=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(o)),a([l,[...p]],o)}const d=[],f=a([s,d],o);for(const p of o)d.push(i(p));return f}case Lg:{if(l)switch(l){case"BigInt":return a([l,o.toString()],o);case"Boolean":case"Number":case"String":return a([l,o.valueOf()],o)}if(t&&"toJSON"in o)return i(o.toJSON());const d=[],f=a([s,d],o);for(const p of _le(o))(e||!Im(Od(o[p])))&&d.push([i(p),i(o[p])]);return f}case BS:return a([s,o.toISOString()],o);case zS:{const{source:d,flags:f}=o;return a([s,{source:d,flags:f}],o)}case VS:{const d=[],f=a([s,d],o);for(const[p,m]of o)(e||!(Im(Od(p))||Im(Od(m))))&&d.push([i(p),i(m)]);return f}case US:{const d=[],f=a([s,d],o);for(const p of o)(e||!Im(Od(p)))&&d.push(i(p));return f}}const{message:c}=o;return a([s,{name:l,message:c}],o)};return i},vE=(e,{json:t,lossy:n}={})=>{const r=[];return Lle(!(t||n),!!t,new Map,r)(e),r},Fg=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?yE(vE(e,t)):structuredClone(e):(e,t)=>yE(vE(e,t));function Fle(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Rle(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function $le(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Fle,r=e.options.footnoteBackLabel||Rle,a=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const d=e.all(c),f=String(c.identifier).toUpperCase(),p=od(f.toLowerCase());let m=0;const h=[],y=e.footnoteCounts.get(f);for(;y!==void 0&&++m<=y;){h.length>0&&h.push({type:"text",value:" "});let b=typeof n=="string"?n:n(l,m);typeof b=="string"&&(b={type:"text",value:b}),h.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const x=d[d.length-1];if(x&&x.type==="element"&&x.tagName==="p"){const b=x.children[x.children.length-1];b&&b.type==="text"?b.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...h)}else d.push(...h);const g={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(d,!0)};e.patch(c,g),s.push(g)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...Fg(o),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const gy=function(e){if(e==null)return Ule;if(typeof e=="function")return yy(e);if(typeof e=="object")return Array.isArray(e)?Ble(e):zle(e);if(typeof e=="string")return Vle(e);throw new Error("Expected function, string, or object as test")};function Ble(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=gy(e[n]);return yy(r);function r(...a){let i=-1;for(;++i<t.length;)if(t[i].apply(this,a))return!0;return!1}}function zle(e){const t=e;return yy(n);function n(r){const a=r;let i;for(i in e)if(a[i]!==t[i])return!1;return!0}}function Vle(e){return yy(t);function t(n){return n&&n.type===e}}function yy(e){return t;function t(n,r,a){return!!(Wle(n)&&e.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function Ule(){return!0}function Wle(e){return e!==null&&typeof e=="object"&&"type"in e}const HL=[],Hle=!0,aw=!1,qle="skip";function qL(e,t,n,r){let a;typeof t=="function"&&typeof n!="function"?(r=n,n=t):a=t;const i=gy(a),o=r?-1:1;s(e,void 0,[])();function s(l,c,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return p;function p(){let m=HL,h,y,x;if((!t||i(l,c,d[d.length-1]||void 0))&&(m=Kle(n(l,d)),m[0]===aw))return m;if("children"in l&&l.children){const g=l;if(g.children&&m[0]!==qle)for(y=(r?g.children.length:-1)+o,x=d.concat(g);y>-1&&y<g.children.length;){const b=g.children[y];if(h=s(b,y,x)(),h[0]===aw)return h;y=typeof h[1]=="number"?h[1]:y+o}}return m}}}function Kle(e){return Array.isArray(e)?e:typeof e=="number"?[Hle,e]:e==null?HL:[e]}function WS(e,t,n,r){let a,i,o;typeof t=="function"&&typeof n!="function"?(i=void 0,o=t,a=n):(i=t,o=n,a=r),qL(e,i,s,a);function s(l,c){const d=c[c.length-1],f=d?d.children.indexOf(l):void 0;return o(l,f,d)}}const iw={}.hasOwnProperty,Yle={};function Gle(e,t){const n=t||Yle,r=new Map,a=new Map,i=new Map,o={...Dle,...n.handlers},s={all:c,applyData:Zle,definitionById:r,footnoteById:a,footnoteCounts:i,footnoteOrder:[],handlers:o,one:l,options:n,patch:Xle,wrap:Jle};return WS(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:a,p=String(d.identifier).toUpperCase();f.has(p)||f.set(p,d)}}),s;function l(d,f){const p=d.type,m=s.handlers[p];if(iw.call(s.handlers,p)&&m)return m(s,d,f);if(s.options.passThrough&&s.options.passThrough.includes(p)){if("children"in d){const{children:h,...y}=d,x=Fg(y);return x.children=s.all(d),x}return Fg(d)}return(s.options.unknownHandler||Qle)(s,d,f)}function c(d){const f=[];if("children"in d){const p=d.children;let m=-1;for(;++m<p.length;){const h=s.one(p[m],d);if(h){if(m&&p[m-1].type==="break"&&(!Array.isArray(h)&&h.type==="text"&&(h.value=bE(h.value)),!Array.isArray(h)&&h.type==="element")){const y=h.children[0];y&&y.type==="text"&&(y.value=bE(y.value))}Array.isArray(h)?f.push(...h):f.push(h)}}}return f}}function Xle(e,t){e.position&&(t.position=Rie(e))}function Zle(e,t){let n=t;if(e&&e.data){const r=e.data.hName,a=e.data.hChildren,i=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&i&&Object.assign(n.properties,Fg(i)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function Qle(e,t){const n=t.data||{},r="value"in t&&!(iw.call(n,"hProperties")||iw.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Jle(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function bE(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function xE(e,t){const n=Gle(e,t),r=n.one(e,void 0),a=$le(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&i.children.push({type:"text",value:`
`},a),i}function ece(e,t){return e&&"run"in e?async function(n,r){const a=xE(n,{file:r,...t});await e.run(a,r)}:function(n,r){return xE(n,{file:r,...e||t})}}function wE(e){if(e)throw e}var uh=Object.prototype.hasOwnProperty,KL=Object.prototype.toString,kE=Object.defineProperty,SE=Object.getOwnPropertyDescriptor,NE=function(e){return typeof Array.isArray=="function"?Array.isArray(e):KL.call(e)==="[object Array]"},jE=function(e){if(!e||KL.call(e)!=="[object Object]")return!1;var t=uh.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&uh.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!n)return!1;var r;for(r in e);return typeof r>"u"||uh.call(e,r)},CE=function(e,t){kE&&t.name==="__proto__"?kE(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},ME=function(e,t){if(t==="__proto__")if(uh.call(e,t)){if(SE)return SE(e,t).value}else return;return e[t]},tce=function e(){var t,n,r,a,i,o,s=arguments[0],l=1,c=arguments.length,d=!1;for(typeof s=="boolean"&&(d=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<c;++l)if(t=arguments[l],t!=null)for(n in t)r=ME(s,n),a=ME(t,n),s!==a&&(d&&a&&(jE(a)||(i=NE(a)))?(i?(i=!1,o=r&&NE(r)?r:[]):o=r&&jE(r)?r:{},CE(s,{name:n,newValue:e(d,o,a)})):typeof a<"u"&&CE(s,{name:n,newValue:a}));return s};const Tv=bo(tce);function ow(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function nce(){const e=[],t={run:n,use:r};return t;function n(...a){let i=-1;const o=a.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...a);function s(l,...c){const d=e[++i];let f=-1;if(l){o(l);return}for(;++f<a.length;)(c[f]===null||c[f]===void 0)&&(c[f]=a[f]);a=c,d?rce(d,s)(...c):o(null,...c)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function rce(e,t){let n;return r;function r(...o){const s=e.length>o.length;let l;s&&o.push(a);try{l=e.apply(this,o)}catch(c){const d=c;if(s&&n)throw d;return a(d)}s||(l&&l.then&&typeof l.then=="function"?l.then(i,a):l instanceof Error?a(l):i(l))}function a(o,...s){n||(n=!0,t(o,...s))}function i(o){a(null,o)}}const Do={basename:ace,dirname:ice,extname:oce,join:sce,sep:"/"};function ace(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Rp(e);let n=0,r=-1,a=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(i){n=a+1;break}}else r<0&&(i=!0,r=a+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,s=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(i){n=a+1;break}}else o<0&&(i=!0,o=a+1),s>-1&&(e.codePointAt(a)===t.codePointAt(s--)?s<0&&(r=a):(s=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function ice(e){if(Rp(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function oce(e){Rp(e);let t=e.length,n=-1,r=0,a=-1,i=0,o;for(;t--;){const s=e.codePointAt(t);if(s===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),s===46?a<0?a=t:i!==1&&(i=1):a>-1&&(i=-1)}return a<0||n<0||i===0||i===1&&a===n-1&&a===r+1?"":e.slice(a,n)}function sce(...e){let t=-1,n;for(;++t<e.length;)Rp(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":lce(n)}function lce(e){Rp(e);const t=e.codePointAt(0)===47;let n=cce(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function cce(e,t){let n="",r=0,a=-1,i=0,o=-1,s,l;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(a===o-1||i===1))if(a!==o-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),a=o,i=0;continue}}else if(n.length>0){n="",r=0,a=o,i=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(a+1,o):n=e.slice(a+1,o),r=o-a-1;a=o,i=0}else s===46&&i>-1?i++:i=-1}return n}function Rp(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const uce={cwd:dce};function dce(){return"/"}function sw(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function fce(e){if(typeof e=="string")e=new URL(e);else if(!sw(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return pce(e)}function pce(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const Dv=["history","path","basename","stem","extname","dirname"];class YL{constructor(t){let n;t?sw(t)?n={path:t}:typeof t=="string"||mce(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":uce.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Dv.length;){const i=Dv[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let a;for(a in n)Dv.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?Do.basename(this.path):void 0}set basename(t){Iv(t,"basename"),Ov(t,"basename"),this.path=Do.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Do.dirname(this.path):void 0}set dirname(t){AE(this.basename,"dirname"),this.path=Do.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Do.extname(this.path):void 0}set extname(t){if(Ov(t,"extname"),AE(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Do.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){sw(t)&&(t=fce(t)),Iv(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Do.basename(this.path,this.extname):void 0}set stem(t){Iv(t,"stem"),Ov(t,"stem"),this.path=Do.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const a=this.message(t,n,r);throw a.fatal=!0,a}info(t,n,r){const a=this.message(t,n,r);return a.fatal=void 0,a}message(t,n,r){const a=new Aa(t,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Ov(e,t){if(e&&e.includes(Do.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Do.sep+"`")}function Iv(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function AE(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function mce(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const hce=function(e){const t=this.constructor.prototype,n=t[e],r=function(){return n.apply(r,arguments)};return Object.setPrototypeOf(r,t),r},gce={}.hasOwnProperty;class HS extends hce{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=nce()}copy(){const t=new HS;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Tv(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Fv("data",this.frozen),this.namespace[t]=n,this):gce.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Fv("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(t,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=_m(t),r=this.parser||this.Parser;return _v("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),_v("process",this.parser||this.Parser),Lv("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(i,o){const s=_m(t),l=r.parse(s);r.run(l,s,function(d,f,p){if(d||!f||!p)return c(d);const m=f,h=r.stringify(m,p);bce(h)?p.value=h:p.result=h,c(d,p)});function c(d,f){d||!f?o(d):i?i(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),_v("processSync",this.parser||this.Parser),Lv("processSync",this.compiler||this.Compiler),this.process(t,a),PE("processSync","process",n),r;function a(i,o){n=!0,wE(i),r=o}}run(t,n,r){EE(t),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(o,s){const l=_m(n);a.run(t,l,c);function c(d,f,p){const m=f||t;d?s(d):o?o(m):r(void 0,m,p)}}}runSync(t,n){let r=!1,a;return this.run(t,n,i),PE("runSync","run",r),a;function i(o,s){wE(o),a=s,r=!0}}stringify(t,n){this.freeze();const r=_m(n),a=this.compiler||this.Compiler;return Lv("stringify",a),EE(t),a(t,r)}use(t,...n){const r=this.attachers,a=this.namespace;if(Fv("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...f]=c;l(d,f)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(c.plugins),c.settings&&(a.settings=Tv(!0,a.settings,c.settings))}function s(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const f=c[d];i(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,d){let f=-1,p=-1;for(;++f<r.length;)if(r[f][0]===c){p=f;break}if(p===-1)r.push([c,...d]);else if(d.length>0){let[m,...h]=d;const y=r[p][1];ow(y)&&ow(m)&&(m=Tv(!0,y,m)),r[p]=[c,m,...h]}}}}const yce=new HS().freeze();function _v(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Lv(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Fv(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function EE(e){if(!ow(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function PE(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function _m(e){return vce(e)?e:new YL(e)}function vce(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function bce(e){return typeof e=="string"||xce(e)}function xce(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const wce="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",TE=[],DE={allowDangerousHtml:!0},kce=/^(https?|ircs?|mailto|xmpp)$/i,Sce=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Nce(e){const t=jce(e),n=Cce(e);return Mce(t.runSync(t.parse(n),n),e)}function jce(e){const t=e.rehypePlugins||TE,n=e.remarkPlugins||TE,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...DE}:DE;return yce().use(ole).use(n).use(ece,r).use(t)}function Cce(e){const t=e.children||"",n=new YL;return typeof t=="string"&&(n.value=t),n}function Mce(e,t){const n=t.allowedElements,r=t.allowElement,a=t.components,i=t.disallowedElements,o=t.skipHtml,s=t.unwrapDisallowed,l=t.urlTransform||Ace;for(const d of Sce)Object.hasOwn(t,d.from)&&""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+wce+d.id;return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),WS(e,c),Uie(e,{Fragment:u.Fragment,components:a,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function c(d,f,p){if(d.type==="raw"&&p&&typeof f=="number")return o?p.children.splice(f,1):p.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let m;for(m in Av)if(Object.hasOwn(Av,m)&&Object.hasOwn(d.properties,m)){const h=d.properties[m],y=Av[m];(y===null||y.includes(d.tagName))&&(d.properties[m]=l(String(h||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):i?i.includes(d.tagName):!1;if(!m&&r&&typeof f=="number"&&(m=!r(d,f,p)),m&&p&&typeof f=="number")return s&&d.children?p.children.splice(f,1,...d.children):p.children.splice(f,1),f}}}function Ace(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||n!==-1&&t>n||r!==-1&&t>r||kce.test(e.slice(0,t))?e:""}function OE(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,a=n.indexOf(t);for(;a!==-1;)r++,a=n.indexOf(t,a+t.length);return r}function Ece(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Pce(e,t,n){const r=gy((n||{}).ignore||[]),a=Tce(t);let i=-1;for(;++i<a.length;)qL(e,"text",o);function o(l,c){let d=-1,f;for(;++d<c.length;){const p=c[d],m=f?f.children:void 0;if(r(p,m?m.indexOf(p):void 0,f))return;f=p}if(f)return s(l,c)}function s(l,c){const d=c[c.length-1],f=a[i][0],p=a[i][1];let m=0;const h=d.children.indexOf(l);let y=!1,x=[];f.lastIndex=0;let g=f.exec(l.value);for(;g;){const b=g.index,w={index:g.index,input:g.input,stack:[...c,l]};let S=p(...g,w);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?f.lastIndex=b+1:(m!==b&&x.push({type:"text",value:l.value.slice(m,b)}),Array.isArray(S)?x.push(...S):S&&x.push(S),m=b+g[0].length,y=!0),!f.global)break;g=f.exec(l.value)}return y?(m<l.value.length&&x.push({type:"text",value:l.value.slice(m)}),d.children.splice(h,1,...x)):x=[l],h+x.length}}function Tce(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const a=n[r];t.push([Dce(a[0]),Oce(a[1])])}return t}function Dce(e){return typeof e=="string"?new RegExp(Ece(e),"g"):e}function Oce(e){return typeof e=="function"?e:function(){return e}}const Rv="phrasing",$v=["autolink","link","image","label"];function Ice(){return{transforms:[zce],enter:{literalAutolink:Lce,literalAutolinkEmail:Bv,literalAutolinkHttp:Bv,literalAutolinkWww:Bv},exit:{literalAutolink:Bce,literalAutolinkEmail:$ce,literalAutolinkHttp:Fce,literalAutolinkWww:Rce}}}function _ce(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Rv,notInConstruct:$v},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Rv,notInConstruct:$v},{character:":",before:"[ps]",after:"\\/",inConstruct:Rv,notInConstruct:$v}]}}function Lce(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Bv(e){this.config.enter.autolinkProtocol.call(this,e)}function Fce(e){this.config.exit.autolinkProtocol.call(this,e)}function Rce(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function $ce(e){this.config.exit.autolinkEmail.call(this,e)}function Bce(e){this.exit(e)}function zce(e){Pce(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Vce],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Uce]],{ignore:["link","linkReference"]})}function Vce(e,t,n,r,a){let i="";if(!GL(a)||(/^w/i.test(t)&&(n=t+n,t="",i="http://"),!Wce(n)))return!1;const o=Hce(n+r);if(!o[0])return!1;const s={type:"link",title:null,url:i+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[s,{type:"text",value:o[1]}]:s}function Uce(e,t,n,r){return!GL(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function Wce(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function Hce(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const a=OE(e,"(");let i=OE(e,")");for(;r!==-1&&a>i;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),i++;return[e,n]}function GL(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Nc(n)||py(n))&&(!t||n!==47)}XL.peek=eue;function qce(){this.buffer()}function Kce(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Yce(){this.buffer()}function Gce(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Xce(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=fo(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Zce(e){this.exit(e)}function Qce(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=fo(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Jce(e){this.exit(e)}function eue(){return"["}function XL(e,t,n,r){const a=n.createTracker(r);let i=a.move("[^");const o=n.enter("footnoteReference"),s=n.enter("reference");return i+=a.move(n.safe(n.associationId(e),{after:"]",before:i})),s(),o(),i+=a.move("]"),i}function tue(){return{enter:{gfmFootnoteCallString:qce,gfmFootnoteCall:Kce,gfmFootnoteDefinitionLabelString:Yce,gfmFootnoteDefinition:Gce},exit:{gfmFootnoteCallString:Xce,gfmFootnoteCall:Zce,gfmFootnoteDefinitionLabelString:Qce,gfmFootnoteDefinition:Jce}}}function nue(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:XL},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,a,i,o){const s=i.createTracker(o);let l=s.move("[^");const c=i.enter("footnoteDefinition"),d=i.enter("label");return l+=s.move(i.safe(i.associationId(r),{before:l,after:"]"})),d(),l+=s.move("]:"),r.children&&r.children.length>0&&(s.shift(4),l+=s.move((t?`
`:" ")+i.indentLines(i.containerFlow(r,s.current()),t?ZL:rue))),c(),l}}function rue(e,t,n){return t===0?e:ZL(e,t,n)}function ZL(e,t,n){return(n?"":"    ")+e}const aue=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];QL.peek=cue;function iue(){return{canContainEols:["delete"],enter:{strikethrough:sue},exit:{strikethrough:lue}}}function oue(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:aue}],handlers:{delete:QL}}}function sue(e){this.enter({type:"delete",children:[]},e)}function lue(e){this.exit(e)}function QL(e,t,n,r){const a=n.createTracker(r),i=n.enter("strikethrough");let o=a.move("~~");return o+=n.containerPhrasing(e,{...a.current(),before:o,after:"~"}),o+=a.move("~~"),i(),o}function cue(){return"~"}function uue(e){return e.length}function due(e,t){const n=t||{},r=(n.align||[]).concat(),a=n.stringLength||uue,i=[],o=[],s=[],l=[];let c=0,d=-1;for(;++d<e.length;){const y=[],x=[];let g=-1;for(e[d].length>c&&(c=e[d].length);++g<e[d].length;){const b=fue(e[d][g]);if(n.alignDelimiters!==!1){const w=a(b);x[g]=w,(l[g]===void 0||w>l[g])&&(l[g]=w)}y.push(b)}o[d]=y,s[d]=x}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<c;)i[f]=IE(r[f]);else{const y=IE(r);for(;++f<c;)i[f]=y}f=-1;const p=[],m=[];for(;++f<c;){const y=i[f];let x="",g="";y===99?(x=":",g=":"):y===108?x=":":y===114&&(g=":");let b=n.alignDelimiters===!1?1:Math.max(1,l[f]-x.length-g.length);const w=x+"-".repeat(b)+g;n.alignDelimiters!==!1&&(b=x.length+b+g.length,b>l[f]&&(l[f]=b),m[f]=b),p[f]=w}o.splice(1,0,p),s.splice(1,0,m),d=-1;const h=[];for(;++d<o.length;){const y=o[d],x=s[d];f=-1;const g=[];for(;++f<c;){const b=y[f]||"";let w="",S="";if(n.alignDelimiters!==!1){const C=l[f]-(x[f]||0),N=i[f];N===114?w=" ".repeat(C):N===99?C%2?(w=" ".repeat(C/2+.5),S=" ".repeat(C/2-.5)):(w=" ".repeat(C/2),S=w):S=" ".repeat(C)}n.delimiterStart!==!1&&!f&&g.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&b==="")&&(n.delimiterStart!==!1||f)&&g.push(" "),n.alignDelimiters!==!1&&g.push(w),g.push(b),n.alignDelimiters!==!1&&g.push(S),n.padding!==!1&&g.push(" "),(n.delimiterEnd!==!1||f!==c-1)&&g.push("|")}h.push(n.delimiterEnd===!1?g.join("").replace(/ +$/,""):g.join(""))}return h.join(`
`)}function fue(e){return e==null?"":String(e)}function IE(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function pue(e,t,n,r){const a=n.enter("blockquote"),i=n.createTracker(r);i.move("> "),i.shift(2);const o=n.indentLines(n.containerFlow(e,i.current()),mue);return a(),o}function mue(e,t,n){return">"+(n?"":" ")+e}function hue(e,t){return _E(e,t.inConstruct,!0)&&!_E(e,t.notInConstruct,!1)}function _E(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function LE(e,t,n,r){let a=-1;for(;++a<n.unsafe.length;)if(n.unsafe[a].character===`
`&&hue(n.stack,n.unsafe[a]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function gue(e,t){const n=String(e);let r=n.indexOf(t),a=r,i=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===a?++i>o&&(o=i):i=1,a=r+t.length,r=n.indexOf(t,a);return o}function yue(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function vue(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function bue(e,t,n,r){const a=vue(n),i=e.value||"",o=a==="`"?"GraveAccent":"Tilde";if(yue(e,n)){const f=n.enter("codeIndented"),p=n.indentLines(i,xue);return f(),p}const s=n.createTracker(r),l=a.repeat(Math.max(gue(i,a)+1,3)),c=n.enter("codeFenced");let d=s.move(l);if(e.lang){const f=n.enter(`codeFencedLang${o}`);d+=s.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...s.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${o}`);d+=s.move(" "),d+=s.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...s.current()})),f()}return d+=s.move(`
`),i&&(d+=s.move(i+`
`)),d+=s.move(l),c(),d}function xue(e,t,n){return(n?"":"    ")+e}function qS(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function wue(e,t,n,r){const a=qS(n),i=a==='"'?"Quote":"Apostrophe",o=n.enter("definition");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...l.current()}))),s(),e.title&&(s=n.enter(`title${i}`),c+=l.move(" "+a),c+=l.move(n.safe(e.title,{before:c,after:a,...l.current()})),c+=l.move(a),s()),o(),c}function kue(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Xf(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Rg(e,t,n){const r=Uu(e),a=Uu(t);return r===void 0?a===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}JL.peek=Sue;function JL(e,t,n,r){const a=kue(n),i=n.enter("emphasis"),o=n.createTracker(r),s=o.move(a);let l=o.move(n.containerPhrasing(e,{after:a,before:s,...o.current()}));const c=l.charCodeAt(0),d=Rg(r.before.charCodeAt(r.before.length-1),c,a);d.inside&&(l=Xf(c)+l.slice(1));const f=l.charCodeAt(l.length-1),p=Rg(r.after.charCodeAt(0),f,a);p.inside&&(l=l.slice(0,-1)+Xf(f));const m=o.move(a);return i(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},s+l+m}function Sue(e,t,n){return n.options.emphasis||"*"}function Nue(e,t){let n=!1;return WS(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,aw}),!!((!e.depth||e.depth<3)&&FS(e)&&(t.options.setext||n))}function jue(e,t,n,r){const a=Math.max(Math.min(6,e.depth||1),1),i=n.createTracker(r);if(Nue(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),p=n.containerPhrasing(e,{...i.current(),before:`
`,after:`
`});return f(),d(),p+`
`+(a===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const o="#".repeat(a),s=n.enter("headingAtx"),l=n.enter("phrasing");i.move(o+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...i.current()});return/^[\t ]/.test(c)&&(c=Xf(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,n.options.closeAtx&&(c+=" "+o),l(),s(),c}eF.peek=Cue;function eF(e){return e.value||""}function Cue(){return"<"}tF.peek=Mue;function tF(e,t,n,r){const a=qS(n),i=a==='"'?"Quote":"Apostrophe",o=n.enter("image");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),s(),e.title&&(s=n.enter(`title${i}`),c+=l.move(" "+a),c+=l.move(n.safe(e.title,{before:c,after:a,...l.current()})),c+=l.move(a),s()),c+=l.move(")"),o(),c}function Mue(){return"!"}nF.peek=Aue;function nF(e,t,n,r){const a=e.referenceType,i=n.enter("imageReference");let o=n.enter("label");const s=n.createTracker(r);let l=s.move("![");const c=n.safe(e.alt,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return o(),n.stack=d,i(),a==="full"||!c||c!==f?l+=s.move(f+"]"):a==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function Aue(){return"!"}rF.peek=Eue;function rF(e,t,n){let r=e.value||"",a="`",i=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(r);)a+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++i<n.unsafe.length;){const o=n.unsafe[i],s=n.compilePattern(o);let l;if(o.atBreak)for(;l=s.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return a+r+a}function Eue(){return"`"}function aF(e,t){const n=FS(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}iF.peek=Pue;function iF(e,t,n,r){const a=qS(n),i=a==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let s,l;if(aF(e,n)){const d=n.stack;n.stack=[],s=n.enter("autolink");let f=o.move("<");return f+=o.move(n.containerPhrasing(e,{before:f,after:">",...o.current()})),f+=o.move(">"),s(),n.stack=d,f}s=n.enter("link"),l=n.enter("label");let c=o.move("[");return c+=o.move(n.containerPhrasing(e,{before:c,after:"](",...o.current()})),c+=o.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(n.safe(e.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(l=n.enter("destinationRaw"),c+=o.move(n.safe(e.url,{before:c,after:e.title?" ":")",...o.current()}))),l(),e.title&&(l=n.enter(`title${i}`),c+=o.move(" "+a),c+=o.move(n.safe(e.title,{before:c,after:a,...o.current()})),c+=o.move(a),l()),c+=o.move(")"),s(),c}function Pue(e,t,n){return aF(e,n)?"<":"["}oF.peek=Tue;function oF(e,t,n,r){const a=e.referenceType,i=n.enter("linkReference");let o=n.enter("label");const s=n.createTracker(r);let l=s.move("[");const c=n.containerPhrasing(e,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return o(),n.stack=d,i(),a==="full"||!c||c!==f?l+=s.move(f+"]"):a==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function Tue(){return"["}function KS(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Due(e){const t=KS(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Oue(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function sF(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Iue(e,t,n,r){const a=n.enter("list"),i=n.bulletCurrent;let o=e.ordered?Oue(n):KS(n);const s=e.ordered?o==="."?")":".":Due(n);let l=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),sF(n)===o&&d){let f=-1;for(;++f<e.children.length;){const p=e.children[f];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=s),n.bulletCurrent=o;const c=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=i,a(),c}function _ue(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Lue(e,t,n,r){const a=_ue(n);let i=n.bulletCurrent||KS(n);t&&t.type==="list"&&t.ordered&&(i=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+i);let o=i.length+1;(a==="tab"||a==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const s=n.createTracker(r);s.move(i+" ".repeat(o-i.length)),s.shift(o);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,s.current()),d);return l(),c;function d(f,p,m){return p?(m?"":" ".repeat(o))+f:(m?i:i+" ".repeat(o-i.length))+f}}function Fue(e,t,n,r){const a=n.enter("paragraph"),i=n.enter("phrasing"),o=n.containerPhrasing(e,r);return i(),a(),o}const Rue=gy(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function $ue(e,t,n,r){return(e.children.some(function(a){return Rue(a)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function Bue(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}lF.peek=zue;function lF(e,t,n,r){const a=Bue(n),i=n.enter("strong"),o=n.createTracker(r),s=o.move(a+a);let l=o.move(n.containerPhrasing(e,{after:a,before:s,...o.current()}));const c=l.charCodeAt(0),d=Rg(r.before.charCodeAt(r.before.length-1),c,a);d.inside&&(l=Xf(c)+l.slice(1));const f=l.charCodeAt(l.length-1),p=Rg(r.after.charCodeAt(0),f,a);p.inside&&(l=l.slice(0,-1)+Xf(f));const m=o.move(a+a);return i(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},s+l+m}function zue(e,t,n){return n.options.strong||"*"}function Vue(e,t,n,r){return n.safe(e.value,r)}function Uue(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function Wue(e,t,n){const r=(sF(n)+(n.options.ruleSpaces?" ":"")).repeat(Uue(n));return n.options.ruleSpaces?r.slice(0,-1):r}const cF={blockquote:pue,break:LE,code:bue,definition:wue,emphasis:JL,hardBreak:LE,heading:jue,html:eF,image:tF,imageReference:nF,inlineCode:rF,link:iF,linkReference:oF,list:Iue,listItem:Lue,paragraph:Fue,root:$ue,strong:lF,text:Vue,thematicBreak:Wue};function Hue(){return{enter:{table:que,tableData:FE,tableHeader:FE,tableRow:Yue},exit:{codeText:Gue,table:Kue,tableData:zv,tableHeader:zv,tableRow:zv}}}function que(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function Kue(e){this.exit(e),this.data.inTable=void 0}function Yue(e){this.enter({type:"tableRow",children:[]},e)}function zv(e){this.exit(e)}function FE(e){this.enter({type:"tableCell",children:[]},e)}function Gue(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Xue));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function Xue(e,t){return t==="|"?t:e}function Zue(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,a=t.stringLength,i=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:o,tableCell:l,tableRow:s}};function o(m,h,y,x){return c(d(m,y,x),m.align)}function s(m,h,y,x){const g=f(m,y,x),b=c([g]);return b.slice(0,b.indexOf(`
`))}function l(m,h,y,x){const g=y.enter("tableCell"),b=y.enter("phrasing"),w=y.containerPhrasing(m,{...x,before:i,after:i});return b(),g(),w}function c(m,h){return due(m,{align:h,alignDelimiters:r,padding:n,stringLength:a})}function d(m,h,y){const x=m.children;let g=-1;const b=[],w=h.enter("table");for(;++g<x.length;)b[g]=f(x[g],h,y);return w(),b}function f(m,h,y){const x=m.children;let g=-1;const b=[],w=h.enter("tableRow");for(;++g<x.length;)b[g]=l(x[g],m,h,y);return w(),b}function p(m,h,y){let x=cF.inlineCode(m,h,y);return y.stack.includes("tableCell")&&(x=x.replace(/\|/g,"\\$&")),x}}function Que(){return{exit:{taskListCheckValueChecked:RE,taskListCheckValueUnchecked:RE,paragraph:ede}}}function Jue(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:tde}}}function RE(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function ede(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const a=t.children;let i=-1,o;for(;++i<a.length;){const s=a[i];if(s.type==="paragraph"){o=s;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function tde(e,t,n,r){const a=e.children[0],i=typeof e.checked=="boolean"&&a&&a.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",s=n.createTracker(r);i&&s.move(o);let l=cF.listItem(e,t,n,{...r,...s.current()});return i&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(d){return d+o}}function nde(){return[Ice(),tue(),iue(),Hue(),Que()]}function rde(e){return{extensions:[_ce(),nue(e),oue(),Zue(e),Jue()]}}const ade={tokenize:ude,partial:!0},uF={tokenize:dde,partial:!0},dF={tokenize:fde,partial:!0},fF={tokenize:pde,partial:!0},ide={tokenize:mde,partial:!0},pF={name:"wwwAutolink",tokenize:lde,previous:hF},mF={name:"protocolAutolink",tokenize:cde,previous:gF},Es={name:"emailAutolink",tokenize:sde,previous:yF},Wo={};function ode(){return{text:Wo}}let _l=48;for(;_l<123;)Wo[_l]=Es,_l++,_l===58?_l=65:_l===91&&(_l=97);Wo[43]=Es;Wo[45]=Es;Wo[46]=Es;Wo[95]=Es;Wo[72]=[Es,mF];Wo[104]=[Es,mF];Wo[87]=[Es,pF];Wo[119]=[Es,pF];function sde(e,t,n){const r=this;let a,i;return o;function o(f){return!lw(f)||!yF.call(r,r.previous)||YS(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(f))}function s(f){return lw(f)?(e.consume(f),s):f===64?(e.consume(f),l):n(f)}function l(f){return f===46?e.check(ide,d,c)(f):f===45||f===95||Ca(f)?(i=!0,e.consume(f),l):d(f)}function c(f){return e.consume(f),a=!0,l}function d(f){return i&&a&&Fa(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function lde(e,t,n){const r=this;return a;function a(o){return o!==87&&o!==119||!hF.call(r,r.previous)||YS(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(ade,e.attempt(uF,e.attempt(dF,i),n),n)(o))}function i(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function cde(e,t,n){const r=this;let a="",i=!1;return o;function o(f){return(f===72||f===104)&&gF.call(r,r.previous)&&!YS(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),a+=String.fromCodePoint(f),e.consume(f),s):n(f)}function s(f){if(Fa(f)&&a.length<5)return a+=String.fromCodePoint(f),e.consume(f),s;if(f===58){const p=a.toLowerCase();if(p==="http"||p==="https")return e.consume(f),l}return n(f)}function l(f){return f===47?(e.consume(f),i?c:(i=!0,l)):n(f)}function c(f){return f===null||_g(f)||Bn(f)||Nc(f)||py(f)?n(f):e.attempt(uF,e.attempt(dF,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function ude(e,t,n){let r=0;return a;function a(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),a):o===46&&r===3?(e.consume(o),i):n(o)}function i(o){return o===null?n(o):t(o)}}function dde(e,t,n){let r,a,i;return o;function o(c){return c===46||c===95?e.check(fF,l,s)(c):c===null||Bn(c)||Nc(c)||c!==45&&py(c)?l(c):(i=!0,e.consume(c),o)}function s(c){return c===95?r=!0:(a=r,r=void 0),e.consume(c),o}function l(c){return a||r||!i?n(c):t(c)}}function fde(e,t){let n=0,r=0;return a;function a(o){return o===40?(n++,e.consume(o),a):o===41&&r<n?i(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(fF,t,i)(o):o===null||Bn(o)||Nc(o)?t(o):(e.consume(o),a)}function i(o){return o===41&&r++,e.consume(o),a}}function pde(e,t,n){return r;function r(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(e.consume(s),r):s===38?(e.consume(s),i):s===93?(e.consume(s),a):s===60||s===null||Bn(s)||Nc(s)?t(s):n(s)}function a(s){return s===null||s===40||s===91||Bn(s)||Nc(s)?t(s):r(s)}function i(s){return Fa(s)?o(s):n(s)}function o(s){return s===59?(e.consume(s),r):Fa(s)?(e.consume(s),o):n(s)}}function mde(e,t,n){return r;function r(i){return e.consume(i),a}function a(i){return Ca(i)?n(i):t(i)}}function hF(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Bn(e)}function gF(e){return!Fa(e)}function yF(e){return!(e===47||lw(e))}function lw(e){return e===43||e===45||e===46||e===95||Ca(e)}function YS(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const hde={tokenize:Sde,partial:!0};function gde(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:xde,continuation:{tokenize:wde},exit:kde}},text:{91:{name:"gfmFootnoteCall",tokenize:bde},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:yde,resolveTo:vde}}}}function yde(e,t,n){const r=this;let a=r.events.length;const i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;a--;){const l=r.events[a][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return s;function s(l){if(!o||!o._balanced)return n(l);const c=fo(r.sliceSerialize({start:o.end,end:r.now()}));return c.codePointAt(0)!==94||!i.includes(c.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function vde(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},s=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",a,t],["exit",a,t],["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...s),e}function bde(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i=0,o;return s;function s(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(f){if(i>999||f===93&&!o||f===null||f===91||Bn(f))return n(f);if(f===93){e.exit("chunkString");const p=e.exit("gfmFootnoteCallString");return a.includes(fo(r.sliceSerialize(p)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return Bn(f)||(o=!0),i++,e.consume(f),f===92?d:c}function d(f){return f===91||f===92||f===93?(e.consume(f),i++,c):c(f)}}function xde(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i,o=0,s;return l;function l(h){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(h){return h===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(h)}function d(h){if(o>999||h===93&&!s||h===null||h===91||Bn(h))return n(h);if(h===93){e.exit("chunkString");const y=e.exit("gfmFootnoteDefinitionLabelString");return i=fo(r.sliceSerialize(y)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),p}return Bn(h)||(s=!0),o++,e.consume(h),h===92?f:d}function f(h){return h===91||h===92||h===93?(e.consume(h),o++,d):d(h)}function p(h){return h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),a.includes(i)||a.push(i),vn(e,m,"gfmFootnoteDefinitionWhitespace")):n(h)}function m(h){return t(h)}}function wde(e,t,n){return e.check(Fp,t,e.attempt(hde,t,n))}function kde(e){e.exit("gfmFootnoteDefinition")}function Sde(e,t,n){const r=this;return vn(e,a,"gfmFootnoteDefinitionIndent",5);function a(i){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(i):n(i)}}function Nde(e){let t=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:a,resolveAll:r};return t==null&&(t=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function r(i,o){let s=-1;for(;++s<i.length;)if(i[s][0]==="enter"&&i[s][1].type==="strikethroughSequenceTemporary"&&i[s][1]._close){let l=s;for(;l--;)if(i[l][0]==="exit"&&i[l][1].type==="strikethroughSequenceTemporary"&&i[l][1]._open&&i[s][1].end.offset-i[s][1].start.offset===i[l][1].end.offset-i[l][1].start.offset){i[s][1].type="strikethroughSequence",i[l][1].type="strikethroughSequence";const c={type:"strikethrough",start:Object.assign({},i[l][1].start),end:Object.assign({},i[s][1].end)},d={type:"strikethroughText",start:Object.assign({},i[l][1].end),end:Object.assign({},i[s][1].start)},f=[["enter",c,o],["enter",i[l][1],o],["exit",i[l][1],o],["enter",d,o]],p=o.parser.constructs.insideSpan.null;p&&Si(f,f.length,0,my(p,i.slice(l+1,s),o)),Si(f,f.length,0,[["exit",d,o],["enter",i[s][1],o],["exit",i[s][1],o],["exit",c,o]]),Si(i,l-1,s-l+3,f),s=l+f.length-2;break}}for(s=-1;++s<i.length;)i[s][1].type==="strikethroughSequenceTemporary"&&(i[s][1].type="data");return i}function a(i,o,s){const l=this.previous,c=this.events;let d=0;return f;function f(m){return l===126&&c[c.length-1][1].type!=="characterEscape"?s(m):(i.enter("strikethroughSequenceTemporary"),p(m))}function p(m){const h=Uu(l);if(m===126)return d>1?s(m):(i.consume(m),d++,p);if(d<2&&!t)return s(m);const y=i.exit("strikethroughSequenceTemporary"),x=Uu(m);return y._open=!x||x===2&&!!h,y._close=!h||h===2&&!!x,o(m)}}}class jde{constructor(){this.map=[]}add(t,n,r){Cde(this,t,n,r)}consume(t){if(this.map.sort(function(i,o){return i[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let a=r.pop();for(;a;){for(const i of a)t.push(i);a=r.pop()}this.map.length=0}}function Cde(e,t,n,r){let a=0;if(!(n===0&&r.length===0)){for(;a<e.map.length;){if(e.map[a][0]===t){e.map[a][1]+=n,e.map[a][2].push(...r);return}a+=1}e.map.push([t,n,r])}}function Mde(e,t){let n=!1;const r=[];for(;t<e.length;){const a=e[t];if(n){if(a[0]==="enter")a[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const i=r.length-1;r[i]=r[i]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function Ade(){return{flow:{null:{name:"table",tokenize:Ede,resolveAll:Pde}}}}function Ede(e,t,n){const r=this;let a=0,i=0,o;return s;function s(E){let P=r.events.length-1;for(;P>-1;){const X=r.events[P][1].type;if(X==="lineEnding"||X==="linePrefix")P--;else break}const O=P>-1?r.events[P][1].type:null,U=O==="tableHead"||O==="tableRow"?N:l;return U===N&&r.parser.lazy[r.now().line]?n(E):U(E)}function l(E){return e.enter("tableHead"),e.enter("tableRow"),c(E)}function c(E){return E===124||(o=!0,i+=1),d(E)}function d(E){return E===null?n(E):It(E)?i>1?(i=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),m):n(E):un(E)?vn(e,d,"whitespace")(E):(i+=1,o&&(o=!1,a+=1),E===124?(e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),o=!0,d):(e.enter("data"),f(E)))}function f(E){return E===null||E===124||Bn(E)?(e.exit("data"),d(E)):(e.consume(E),E===92?p:f)}function p(E){return E===92||E===124?(e.consume(E),f):f(E)}function m(E){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(E):(e.enter("tableDelimiterRow"),o=!1,un(E)?vn(e,h,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):h(E))}function h(E){return E===45||E===58?x(E):E===124?(o=!0,e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),y):C(E)}function y(E){return un(E)?vn(e,x,"whitespace")(E):x(E)}function x(E){return E===58?(i+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(E),e.exit("tableDelimiterMarker"),g):E===45?(i+=1,g(E)):E===null||It(E)?S(E):C(E)}function g(E){return E===45?(e.enter("tableDelimiterFiller"),b(E)):C(E)}function b(E){return E===45?(e.consume(E),b):E===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(E),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(E))}function w(E){return un(E)?vn(e,S,"whitespace")(E):S(E)}function S(E){return E===124?h(E):E===null||It(E)?!o||a!==i?C(E):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(E)):C(E)}function C(E){return n(E)}function N(E){return e.enter("tableRow"),M(E)}function M(E){return E===124?(e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),M):E===null||It(E)?(e.exit("tableRow"),t(E)):un(E)?vn(e,M,"whitespace")(E):(e.enter("data"),T(E))}function T(E){return E===null||E===124||Bn(E)?(e.exit("data"),M(E)):(e.consume(E),E===92?$:T)}function $(E){return E===92||E===124?(e.consume(E),T):T(E)}}function Pde(e,t){let n=-1,r=!0,a=0,i=[0,0,0,0],o=[0,0,0,0],s=!1,l=0,c,d,f;const p=new jde;for(;++n<e.length;){const m=e[n],h=m[1];m[0]==="enter"?h.type==="tableHead"?(s=!1,l!==0&&($E(p,t,l,c,d),d=void 0,l=0),c={type:"table",start:Object.assign({},h.start),end:Object.assign({},h.end)},p.add(n,0,[["enter",c,t]])):h.type==="tableRow"||h.type==="tableDelimiterRow"?(r=!0,f=void 0,i=[0,0,0,0],o=[0,n+1,0,0],s&&(s=!1,d={type:"tableBody",start:Object.assign({},h.start),end:Object.assign({},h.end)},p.add(n,0,[["enter",d,t]])),a=h.type==="tableDelimiterRow"?2:d?3:1):a&&(h.type==="data"||h.type==="tableDelimiterMarker"||h.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(i[1]!==0&&(o[0]=o[1],f=Lm(p,t,i,a,void 0,f),i=[0,0,0,0]),o[2]=n)):h.type==="tableCellDivider"&&(r?r=!1:(i[1]!==0&&(o[0]=o[1],f=Lm(p,t,i,a,void 0,f)),i=o,o=[i[1],n,0,0])):h.type==="tableHead"?(s=!0,l=n):h.type==="tableRow"||h.type==="tableDelimiterRow"?(l=n,i[1]!==0?(o[0]=o[1],f=Lm(p,t,i,a,n,f)):o[1]!==0&&(f=Lm(p,t,o,a,n,f)),a=0):a&&(h.type==="data"||h.type==="tableDelimiterMarker"||h.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&$E(p,t,l,c,d),p.consume(t.events),n=-1;++n<t.events.length;){const m=t.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=Mde(t.events,n))}return e}function Lm(e,t,n,r,a,i){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",s="tableContent";n[0]!==0&&(i.end=Object.assign({},Xc(t.events,n[0])),e.add(n[0],0,[["exit",i,t]]));const l=Xc(t.events,n[1]);if(i={type:o,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",i,t]]),n[2]!==0){const c=Xc(t.events,n[2]),d=Xc(t.events,n[3]),f={type:s,start:Object.assign({},c),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const p=t.events[n[2]],m=t.events[n[3]];if(p[1].end=Object.assign({},m[1].end),p[1].type="chunkText",p[1].contentType="text",n[3]>n[2]+1){const h=n[2]+1,y=n[3]-n[2]-1;e.add(h,y,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return a!==void 0&&(i.end=Object.assign({},Xc(t.events,a)),e.add(a,0,[["exit",i,t]]),i=void 0),i}function $E(e,t,n,r,a){const i=[],o=Xc(t.events,n);a&&(a.end=Object.assign({},o),i.push(["exit",a,t])),r.end=Object.assign({},o),i.push(["exit",r,t]),e.add(n+1,0,i)}function Xc(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const Tde={name:"tasklistCheck",tokenize:Ode};function Dde(){return{text:{91:Tde}}}function Ode(e,t,n){const r=this;return a;function a(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),i)}function i(l){return Bn(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):n(l)}function s(l){return It(l)?t(l):un(l)?e.check({tokenize:Ide},t,n)(l):n(l)}}function Ide(e,t,n){return vn(e,r,"whitespace");function r(a){return a===null?n(a):t(a)}}function _de(e){return ML([ode(),gde(),Nde(e),Ade(),Dde()])}const Lde={};function Fde(e){const t=this,n=e||Lde,r=t.data(),a=r.micromarkExtensions||(r.micromarkExtensions=[]),i=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);a.push(_de(n)),i.push(nde()),o.push(rde(n))}const Vv='# Combat Metrics Spec\n\nThis document describes the project-defined combat metrics used in the UI,\nDiscord summaries, and aggregate stats. The intent is to define the metrics\nindependently from any third-party implementation while staying consistent\nwith EI JSON inputs. It also records the exact fields and aggregation rules\nso the stats dashboard, Discord, and cards produce identical values.\n\nSpec version: `v5` (see `src/shared/metrics-methods.json`).\n\n## Input Contract (EI JSON)\n\nAll metrics are derived from the EI JSON payload produced by dps.report. The\nminimum fields consumed are:\n\n- `players[*].dpsAll[0].damage`, `players[*].dpsAll[0].dps`, `players[*].dpsAll[0].breakbarDamage`\n- `players[*].defenses[0].damageTaken`, `deadCount`, `downCount`,\n  `missedCount`, `blockedCount`, `evadedCount`, `dodgeCount`,\n  `receivedCrowdControl`, `receivedCrowdControlDuration`,\n  `boonStrips`, `boonStripsTime`\n- `players[*].minions[*].totalDamageTakenDist[0][*].totalDamage` (fallback:\n  `damageTaken`) for minion incoming damage totals\n- `players[*].support[0].condiCleanse`, `condiCleanseSelf`, `boonStrips`,\n  `boonStripsTime`, `resurrects`\n- `players[*].statsAll[0].stackDist`, `players[*].statsAll[0].distToCom`\n- `players[*].statsTargets[*][0].downContribution`, `killed`, `downed`,\n  `againstDownedCount`\n- `players[*].extHealingStats.outgoingHealingAllies`\n- `players[*].extBarrierStats.outgoingBarrierAllies`\n- `players[*].totalDamageDist`, `players[*].targetDamageDist`, `players[*].totalDamageTaken`\n- `players[*].damage1S`, `players[*].targetDamage1S`,\n  `players[*].powerDamageTaken1S`, `players[*].targetPowerDamage1S`\n- `players[*].activeTimes`\n- `players[*].rotation`\n- `players[*].buffUptimes`\n- `players[*].selfBuffs`, `players[*].groupBuffs`, `players[*].squadBuffs`\n- `players[*].selfBuffsActive`, `players[*].groupBuffsActive`, `players[*].squadBuffsActive`\n- `players[*].group`\n- `buffMap`, `skillMap`, and `durationMS` for stability generation, boon output, and skill labeling\n- `targets[*].buffs[*].statesPerSource` when available for condition application counts\n- `details.fightName`, `details.uploadTime` (or `details.timeStartStd` / `details.timeStart` fallback),\n  `details.zone`/`mapName`/`map`/`location`, `details.success`,\n  `details.targets`, `details.durationMS`\n- `targets[*].totalDamageDist`, `targets[*].powerDamage1S`, `targets[*].damage1S`,\n  `targets[*].enemyPlayer`, `targets[*].isFake`, `targets[*].profession`\n\nIf any of these are missing, the metric falls back to `0` as defined below.\n\n## Crowd Control & Strips Methodology\n\nThe app supports three user-selectable methodologies (default: `count`),\nconfigured in `src/shared/metrics-methods.json`:\n\n1. **Count Events** (`count`)  \n   Uses EI summary counts for CC/strips. Best for stable, comparable totals.\n\n2. **Duration (Seconds)** (`duration`)  \n   Uses EI summary durations (converted to seconds). Best for impact-weighted\n   totals, but units are time not event counts.\n\n3. **Tiered Impact** (`tiered`)  \n   Uses average duration per event to apply tiered weights. Best for balancing\n   short vs long control with a simple, configurable heuristic.\n\nThese methodologies apply to:\n- Outgoing CC totals\n- Incoming CC totals\n- Incoming strips totals\n\n## Outgoing Crowd Control\n\nFor each player:\n- `count`: `statsAll[0].appliedCrowdControl`\n- `duration`: `statsAll[0].appliedCrowdControlDuration / 1000`\n- `tiered`: `appliedCrowdControl * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/combatMetrics.ts` (computeOutgoingCrowdControl).\n\n## Incoming Strips and Crowd Control\n\nFor each player:\n- Incoming CC uses `defenses[0].receivedCrowdControl` and\n  `defenses[0].receivedCrowdControlDuration`.\n- Incoming strips use `defenses[0].boonStrips` and `defenses[0].boonStripsTime`.\n\nMethod application is the same as outgoing CC (count/duration/tiered).\n\nImplementation: `src/shared/combatMetrics.ts` (computeIncomingDisruptions).\n\n## Cleanses\n\n`cleanses = support[0].condiCleanse + support[0].condiCleanseSelf`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerCleanses).\n\nUI note: the Support table can display either **All** (condiCleanse + condiCleanseSelf) or **Squad** (condiCleanse only) via the cleanse-scope toggle. Discord and top summaries use **All**.\n\n## Strips\n\n`strips` uses the configured methodology:\n- `count`: `support[0].boonStrips`\n- `duration`: `support[0].boonStripsTime / 1000`\n- `tiered`: `boonStrips * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerStrips).\n\n## Down Contribution\n\nDown contribution is the sum of `statsTargets[*][0].downContribution` across\nall targets for the player.\n\nImplementation: `src/shared/combatMetrics.ts` (computeDownContribution).\n\n## Squad Barrier and Squad Healing\n\nSquad barrier and healing sum all phases of `extBarrierStats.outgoingBarrierAllies`\nand `extHealingStats.outgoingHealingAllies` respectively.\n\nImplementation: `src/shared/combatMetrics.ts` (computeSquadBarrier, computeSquadHealing).\n\n## Stability Generation\n\nStability generation uses the EI buff data via `getPlayerBoonGenerationMs`\nand writes `player.stabGeneration` in seconds.\n\nImplementation: `src/shared/combatMetrics.ts` (applySquadStabilityGeneration).\n\n## Damage and DPS\n\n`damage = dpsAll[0].damage`  \n`dps = dpsAll[0].dps`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamage, getPlayerDps).\n\n## Breakbar Damage\n\n`breakbarDamage = dpsAll[0].breakbarDamage`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerBreakbarDamage).\n\n## Incoming Damage (Taken)\n\n`damageTaken = defenses[0].damageTaken`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamageTaken).\n\nIncoming damage per skill (incoming damage distribution) is derived from\n`players[*].totalDamageTaken[*]` entries and summed across players for the\nsquad view. This total can be large for siege skills because it aggregates\nall hits and all players (and across multiple logs when viewing aggregates).\n\n## Damage Mitigation (Player + Minion)\n\nDamage mitigation is an **estimate** of avoided damage based on enemy skill\ndamage averages and avoidance events (block/evade/miss/invuln/interrupted).\nIt is intended for relative comparisons between players/minions and logs, not\nas a literal damage prevented total.\n\n### Inputs Used\n\nPer-log data sources:\n\n- Enemy damage distribution: `targets[*].totalDamageDist[0]`\n- Player avoided events: `players[*].totalDamageTaken[0]`\n- Minion avoided events: `players[*].minions[*].totalDamageTakenDist[0]`\n- Skill names: `skillMap` / `buffMap` (for UI labels only)\n\n### Enemy Skill Damage Averages\n\nFor each skill id across **all logs in the aggregation**:\n\n1. Gather `totalDamage` and `connectedHits` from every targets\n   `totalDamageDist[0]` entry with the same `id`.\n2. Compute:\n   - `avgDamage = sum(totalDamage) / sum(connectedHits)`\n   - `minDamage = average(entry.min over all occurrences)`\n\nThese averages are computed **once for the aggregation window** and used for\nall player/minion mitigation calculations.\n\n### Avoided Damage Per Skill (Formula)\n\nFor a given skill id `S` with enemy averages `avgDamage` and `minDamage`:\n\n```\navoidCount = blocked + evaded + missed + invulned + interrupted\navoidDamage = (glanced * avgDamage / 2) + (avoidCount * avgDamage)\nminAvoidDamage = (glanced * minDamage / 2) + (avoidCount * minDamage)\n```\n\nNotes:\n- `glanced` is treated as half damage.\n- If `connectedHits` for the enemy skill is `0`, the skill is excluded from\n  mitigation totals (both avoid and min avoid).\n\n### Player Mitigation Aggregation\n\nFor each player (account key):\n\n1. Sum avoidance counts **per skill id** across all logs:\n   - `hits`, `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`.\n2. For each skill id, compute `avoidDamage` / `minAvoidDamage` using the global\n   enemy averages (above).\n3. **Include only skills with `avoidDamage > 0`** in totals.\n4. Totals are the sum of:\n   - `totalHits` (from `hits`)\n   - `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`\n   - `totalMitigation` (sum of avoidDamage)\n   - `minMitigation` (sum of minAvoidDamage)\n\n### Minion Mitigation Aggregation\n\nFor each minion (player account + minion name):\n\n1. Sum avoidance counts **per skill id** across all logs using\n   `minion.totalDamageTakenDist[0]`.\n2. Use the **same enemy averages** (from targets).\n3. Compute totals using the same formula and inclusion rules as player\n   mitigation.\n\nMinion names are normalized by:\n- Removing `"Juvenile "` prefix.\n- Converting names containing `"UNKNOWN"` to `"Unknown"`.\n\n### Field Mapping in UI\n\nThe Damage Mitigation table uses the following totals:\n\n- `Total Hits`  summed `hits` for included skills\n- `Evaded`, `Blocked`, `Glanced`, `Missed`, `Invulned`, `Interrupted`\n- `Damage Mitigation`  `totalMitigation`\n- `Min Damage Mitigation`  `minMitigation`\n\n### Why This Diverges From Some External Tools\n\nSome tools compute mitigation differently (e.g., per-log accumulation with\nrunning averages, name-based skill bucketing, or repeated adding across logs).\nThis spec intentionally computes **one consistent estimate** across all logs\nusing **global enemy averages** and **per-skill cumulative counts**, which\navoids log-count bias.\n\n### Known Limitations\n\n- If a skills `connectedHits` is zero in targets data, mitigation for that\n  skill is excluded.\n- Some skills share names across different ids; we bucket by **skill id** to\n  avoid collisions.\n- Enemy damage averages are computed from `targets[*].totalDamageDist[0]` and\n  can be skewed by target mix, fake targets, or atypical fights.\n\n### How-To: Validate Against Raw EI JSON\n\n1. Choose a player or minion and a specific skill id from:\n   - `players[*].totalDamageTaken[0]` or `minions[*].totalDamageTakenDist[0]`.\n2. Compute counts: `blocked`, `evaded`, `glanced`, `missed`, `invulned`,\n   `interrupted`, `hits`.\n3. Compute enemy averages from all logs `targets[*].totalDamageDist[0]` for\n   the same skill id.\n4. Apply the formula above and verify the per-skill avoided damage.\n5. Sum over skills with `avoidDamage > 0` to confirm table totals.\n\n### How-To: Debug Mismatches\n\n1. Confirm the same log set is being aggregated.\n2. Verify skill ids match (name collisions can hide differences).\n3. Check if the target data includes the skill id with non-zero\n   `connectedHits`.\n4. Validate that minion names are normalized (`Juvenile` prefix removed).\n5. Compare against a single skill id first, then widen to all skills.\n\n## Conditions (Outgoing + Incoming)\n\nOutgoing condition totals are derived from `players[*].totalDamageDist[*]`\nentries whose resolved skill name maps to a condition label (see\n`CONDITION_NAME_MAP`). For each matching entry:\n\n- `applications` uses `connectedHits` when available, otherwise falls back to\n  `hits` (needed for non-damaging conditions like blind/slow/fear).\n- `damage` uses `totalDamage`.\n\nTotals are aggregated per player and across the squad. The UI can filter to a\nsingle condition or show the all-conditions rollup.\n\nIncoming condition totals are derived from `players[*].totalDamageTaken[*]`\nentries whose resolved skill/buff ID maps to a condition. For each matching\nentry:\n\n- `applications` uses `hits`.\n- `damage` uses `totalDamage`.\n\n### Current Condition Labels (Normalization)\n\nCondition detection normalizes skill/buff names to the following labels. Only\nthese are counted as conditions:\n\n- Bleeding\n- Burning\n- Confusion\n- Poison\n- Torment\n- Vulnerability\n- Weakness\n- Blind\n- Cripple\n- Chill\n- Immobilize\n- Slow\n- Fear\n- Taunt\n\nNotes:\n- The matcher lowercases and trims names, then maps variants like `crippled`\n   `Cripple` and `chilled`  `Chill`.\n- If a skill/buff name does not normalize to one of the labels above, it is\n  excluded from condition totals.\n\n### Limitation (Hosted JSON)\n\nAccurate application counts for non-damaging conditions (e.g., vulnerability,\nweakness, blind, slow) require target buff state timelines\n(`targets[*].buffs[*].statesPerSource`). If hosted JSON lacks this data (common\nin older logs or trimmed outputs), the app falls back to damage distribution\n(`totalDamageDist`) hit counts, which can significantly under-count\napplications for those conditions.\n\n### Condition Application Counting (States Per Source)\n\nWhen `targets[*].buffs[*].statesPerSource` is available, the app computes two\nseparate application counts per condition:\n\n- **Stack Delta Applications (`applicationsFromBuffs`)**  \n  Counts the **sum of positive stack increases** across the states timeline.\n  Example timeline: `0  1  3  2  5` contributes `+1 +2 +3 = 6`.  \n  This aligns with the technical definition of applications as **stacks\n  actually added**.\n\n- **Active State Entries (`applicationsFromBuffsActive`)**  \n  Counts **each non-zero state entry** (each time the state updates while the\n  condition is active). This tracks **how often the buff state changed while\n  active**, which often matches external tooling that counts active segments,\n  but can **over-count** true applications for stacking conditions.\n\n**Tradeoffs:**\n- *Stack delta* is closer to how many stacks were applied but can be lower\n  than tools that count refreshes/active entries.\n- *Active entries* better match some log combiner views but can overstate\n  application counts when stacks are refreshed without adding stacks.\n\n## Deaths / Downs (Taken)\n\n`deaths = defenses[0].deadCount`  \n`downsTaken = defenses[0].downCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDeaths, getPlayerDownsTaken).\n\n## Dodges / Misses / Blocks / Evades (Taken)\n\n`dodges = defenses[0].dodgeCount`  \n`missed = defenses[0].missedCount`  \n`blocked = defenses[0].blockedCount`  \n`evaded = defenses[0].evadedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts`\n(getPlayerDodges, getPlayerMissed, getPlayerBlocked, getPlayerEvaded).\n\n## Resurrects\n\n`resurrects = support[0].resurrects`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerResurrects).\n\n## Distance to Tag\n\n`distanceToTag = statsAll[0].distToCom` if present; otherwise use\n`statsAll[0].stackDist`. If both are missing but combat replay positions are\navailable, compute the average distance to the commander tag over the\navailable timeline. Otherwise `0`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDistanceToTag).\n\n## Kills / Downs / Against Downed (Target Stats)\n\nFor each player, aggregate from `statsTargets[*][0]`:\n\n- `killed`\n- `downed`\n- `againstDownedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getTargetStatTotal).\n\n## Skill Usage Tracker (Rotation Casts)\n\nSkill usage is derived from each player\'s `rotation` entries in EI JSON. For\neach rotation skill entry:\n- `castCount = rotationSkill.skills.length`\n- `skillId = s{rotationSkill.id}`\n- Counts are aggregated per player per log and summed across logs for totals.\n\nThe Skill Usage Tracker supports two display modes:\n- **Total**: raw cast counts per player (per log in the timeline).\n- **Per Second**: cast rate using active time, where\n  `activeSeconds = players[*].activeTimes[0] / 1000` when available, otherwise\n  `durationMS / 1000` from the log details.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (skill usage tracker aggregation).\n\n## APM Breakdown\n\nAPM is derived from the Skill Usage Tracker data (rotation casts). For each\nplayer:\n- `totalCasts = sum(rotationSkill.skills.length)`\n- `apm = totalCasts / (activeSeconds / 60)`\n- `aps = totalCasts / activeSeconds`\n- Auto-attack counts are excluded for the "No Auto" variants.\n\nThe APM Breakdown groups players by profession and aggregates per-skill cast\ncounts across the group.\n\nImplementation: `src/renderer/stats/hooks/useApmStats.ts`.\n\n## Player Skill Breakdown (Damage / Down Contribution / DPS)\n\nPer-player skill damage breakdown is built from the same damage distribution\ninputs as Top Skills (see below):\n- Outgoing skill damage uses `targetDamageDist` (default) or `totalDamageDist`\n  based on settings.\n- Each entry contributes `totalDamage` and `downContribution`.\n\nFor each player and skill:\n- `totalDamage = sum(entry.totalDamage)`\n- `downContribution = sum(entry.downContribution)`\n- `dps = totalDamage / (totalFightSeconds)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Top Skills (Outgoing / Incoming)\n\nTop Outgoing Skills are derived from the squad-wide aggregation of\n`targetDamageDist` (default) or `totalDamageDist` entries:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.connectedHits)`\n- `downContribution = sum(entry.downContribution)`\n\nWhen using target-based outgoing aggregation, total-distribution supplementation\nis mode-sensitive:\n- non-detailed logs (`detailedWvW !== true`): missing/under-reported target\n  skill ids may be supplemented from `totalDamageDist` deltas\n- detailed WvW logs (`detailedWvW === true`): supplementation from\n  `totalDamageDist` is disabled to avoid known outlier max/damage artifacts\n  observed in some EI exports\n\nTop Incoming Skills are derived from `totalDamageTaken`:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.hits)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Boon Output\n\nBoon output tables are computed from player boon generation data:\n- `selfBuffs`, `groupBuffs`, `squadBuffs` (and their `Active` variants)\n- `buffMap` for name/icon/stacking metadata\n- `durationMS`, `activeTimes`, and `group` for normalization\n\nImplementation: `src/shared/boonGeneration.ts`.\n\n## Special Buffs\n\nSpecial (non-boon) buff tables are computed from `buffUptimes` using\n`buffMap` classification and icon metadata. Durations are normalized by\n`activeTimes` and `durationMS`.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n### Sigil/Relic Uptime (Other Metrics)\n\nThe `Sigil/Relic Uptime` section is derived from `specialTables` and filtered\nto entries whose buff name matches `sigil` or `relic` (case-insensitive).\n\n#### Data source and eligibility\n\nFor each squad player and each non-boon buff in `players[*].buffUptimes`:\n\n- Buff metadata source:\n  - `details.buffMap[b{id}]` (fallback `details.buffMap[id]`)\n- Include only:\n  - non-boons (`classification !== "Boon"`)\n  - rows with valid positive uptime signal:\n    - `buffData[0].uptime > 0` or `buffData[0].presence > 0`\n\n#### Two parallel measures stored for each row\n\n1. **Stack/Intensity measure** (`total`, `perSecond`)\n   - used by the generic Special Buffs table\n   - formula:\n     - if stacking buff: `uptimeFactor = uptimeRaw`\n     - else: `uptimeFactor = uptimeRaw / 100`\n     - `totalMs += uptimeFactor * activeMs`\n   - output:\n     - `total = totalMs / 1000`\n     - `perSecond = totalMs / durationMs`\n\n2. **True uptime percentage measure** (`uptimePerSecond`)\n   - used by `Sigil/Relic Uptime`\n   - formula:\n     - non-stacking buff:\n       - `uptimePctRaw = uptimeRaw`\n     - stacking buff:\n       - `uptimePctRaw = presenceRaw`\n     - clamp to percentage domain:\n       - `uptimePct = clamp(uptimePctRaw, 0, 100) / 100`\n     - accumulate:\n       - `uptimeMs += uptimePct * activeMs`\n   - final denominator:\n     - `fullPlayerDurationMs = player.supportActiveMs`\n     - `uptimePerSecond = uptimeMs / fullPlayerDurationMs`\n   - rendered as:\n     - `Uptime% = uptimePerSecond * 100`\n\n#### Why this is the accuracy model\n\nThis method intentionally uses the **same activity window in numerator and\ndenominator** (player active time):\n\n- Numerator:\n  - uptime milliseconds accumulated from each fight over player active time\n- Denominator:\n  - total player active time across selected fights\n\nThat produces a direct interpretation:\n\n- "Percent of the time this player was active that this sigil/relic effect was\n  present."\n\nFor stacking gear buffs, `presence` is used for percent uptime because\n`uptime` on stacking buffs represents average stack intensity, not time-up\npercentage. This avoids under/over-reporting caused by treating stack-average\nas uptime%.\n\n### Fight Comparison (Other Metrics)\n\n`Fight Comparison` compares two selected fights using two focused views:\n\n1. `Target Focus Comparison`\n- Aggregates squad outgoing damage into enemy profession buckets using\n  `players[*].statsTargets[targetIndex][0].damage`.\n- Target labels are resolved from `targets[targetIndex]` with profession-first\n  fallback (`profession -> name -> id`).\n- Per fight, each target bucket includes:\n  - `damage`\n  - `hits`\n  - `share = damage / totalTargetDamage`\n- Comparison table uses the union of target buckets and highlights\n  `shareDelta = fightB.share - fightA.share`.\n\n2. `Squad Metric Comparison`\n- Compares squad-level fight aggregates instead of individual player leaders.\n- Includes broad outcome/pressure/support metrics, including:\n  - win flag, squad size, enemy count, squad KDR\n  - enemy deaths/downs, squad deaths/downs\n  - outgoing/incoming damage and damage delta\n  - cleanses, strips, stability, healing, barrier out\n  - incoming barrier absorption, enemy barrier absorption\n  - squad CC, down contribution, revived players\n- Delta shown is `fightB.value - fightA.value`; color semantics account for\n  metric direction (`higherIsBetter`).\n\nImplementation:\n- aggregation payload build: `src/renderer/stats/computeStatsAggregation.ts` (`fightDiffMode`)\n- section rendering: `src/renderer/stats/sections/FightDiffModeSection.tsx`\n\n## Offense / Defense / Support / Healing Tables\n\nDetailed tables aggregate the per-player totals defined in:\n- `src/renderer/stats/statsMetrics.ts` (metric definitions)\n- `src/shared/dashboardMetrics.ts` (per-player metric extraction)\n- `src/renderer/stats/computeStatsAggregation.ts` (aggregation)\n\nDefense Detailed includes a derived metric:\n- `Minion Damage Taken`:\n  sum `players[*].minions[*].totalDamageTakenDist[0][*].totalDamage`, with\n  fallback to `damageTaken` when `totalDamage` is absent.\n\n## Spike Damage\n\nSpike Damage has four modes:\n- `hit`: highest single skill hit in a fight\n- `1s`: highest rolling 1-second damage burst in a fight\n- `5s`: highest rolling 5-second damage burst in a fight\n- `30s`: highest rolling 30-second damage burst in a fight\n\n### Player Identity\n\nPer-fight player keys are resolved as:\n- `key = "${account}|${profession}"`\n- `account = player.account || player.name || "Unknown"`\n- `profession = player.profession || "Unknown"`\n\nThis same key is used to join:\n- player list\n- per-fight values\n- selected-player chart/drilldown\n\n### Highest Single Hit (`hit`)\n\nFor each squad player (`!notInSquad`), the highest single-hit value is scanned\nfrom damage distributions (skill maps used for names).\n\nValue:\n- candidate fields per entry:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- no inferred single-hit estimate is used (for example,\n  `totalDamage / connectedHits` is intentionally excluded)\n\nSource priority:\n- primary: `targetDamageDist`\n- fallback: `totalDamageDist` only when no target entries are present (or no\n  positive peak was found from target entries)\n\nDetailed WvW safeguard:\n- for logs with `detailedWvW === true`, target-side data is treated as the\n  authoritative source for spike-hit computations whenever present, because\n  some logs can contain total-distribution outlier maxima that are inconsistent\n  with target-distribution entries.\n\nSkill label:\n- `skillName` from `skillMap`/`buffMap` by id fallback (`Unknown Skill` if missing)\n\n### Rolling Burst (`1s` / `5s`)\n\nBurst uses per-second **delta** damage:\n1. Build cumulative damage for phase 0:\n   - prefer aggregated target phase 0 from `targetDamage1S` when available\n   - fallback to `damage1S[0]`\n2. Convert cumulative -> per-second deltas:\n   - `delta[i] = max(0, cumulative[i] - cumulative[i-1])` (`i=0` uses prev `0`)\n3. Compute rolling windows:\n- `burst1s = max(sum(delta[i..i]))`\n- `burst5s = max(sum(delta[i..i+4]))`\n- `burst30s = max(sum(delta[i..i+29]))`\n\nImplementation includes support for EI shape variants:\n- Shape A: `[phase][target][time]`\n- Shape B: `[target][phase][time]`\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses the corresponding max series as the dashed reference line.\n\n### Drilldown (5s Buckets)\n\nSelected fight drilldown is always rendered as 5-second buckets.\n\nBucket source:\n- preferred: precomputed `buckets5s`\n- fallback: recompute from selected player per-second delta series\n\nBucket value:\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count:\n- extended to full fight duration (`ceil(durationMS / 5000)`) so trailing\n  down/death events are representable even if damage is zero late-fight.\n\n### Down / Death Markers\n\nMarker events are read from `combatReplayData`:\n- supports both replay object and segmented replay-array forms\n- uses `down` and `dead` arrays\n\nTimestamp normalization:\n- handles mixed encodings (ms/seconds/large scales) and offset baselines\n  using replay starts/global starts/log offsets\n- selects the shift/scale that maximizes in-range alignment with fight buckets\n\nMarker placement:\n- convert normalized time to bucket index:\n  - `index = floor(timeMs / 5000)`\n- constrain to visible drilldown bucket range\n- render:\n  - down marker: yellow\n  - death marker: red\n\nWeb report parity:\n- precomputed spike payload stores marker indices as:\n  - `downIndices5s`\n  - `deathIndices5s`\n- embedded/web mode can render markers without raw `logs` by consuming these fields.\n\nImplementation:\n- Aggregation/precompute: `src/renderer/stats/computeStatsAggregation.ts`\n- Runtime selection/drilldown + fallbacks: `src/renderer/StatsView.tsx`\n- Chart rendering/interaction: `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Incoming Strike Damage\n\nIncoming Strike Damage mirrors Spike Damage interactions (same chart modes,\nselection, drilldown, animations, and fight navigation) but changes the data\nsource and grouping:\n\n- grouped by **enemy class** (`targets[*].profession`) instead of squad player\n- uses **incoming strike timelines** and target damage distributions\n- selected-fight expansion includes a **skill-level incoming strike table**\n\n### Identity and Grouping\n\nPer-fight keys are enemy profession labels:\n\n- `key = resolveProfessionLabel(target.profession || target.name || target.id)`\n- fallback key: `"Unknown"`\n\nAll enemy targets in a fight that resolve to the same profession are merged\ninto one class bucket for that fight.\n\n### Damage Modes (`hit`, `1s`, `5s`, `30s`)\n\nModes are defined the same way as Spike Damage:\n\n- `hit`: highest single incoming strike hit seen in the class bucket\n- `1s`: highest rolling 1-second incoming strike burst\n- `5s`: highest rolling 5-second incoming strike burst\n- `30s`: highest rolling 30-second incoming strike burst\n\n`hit` source:\n\n- scan target strike distributions (`totalDamageDist`) and keep max of:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- ignore `indirectDamage` entries\n\n### Incoming Timeline Construction\n\nFor each enemy target, incoming strike series is built with the following\npriority:\n\n1. Squad-attributed incoming-vs-target cumulative strike:\n   - sum `players[*].targetPowerDamage1S[targetIndex]` across all squad players\n2. Fallback target timeline:\n   - `targets[targetIndex].powerDamage1S`\n3. Final fallback:\n   - `targets[targetIndex].damage1S`\n\nEach chosen cumulative series is converted to per-second deltas:\n\n- `delta[i] = max(0, cumulative[i] - cumulative[i-1])`\n- `delta[0] = max(0, cumulative[0])`\n\nClass series is then:\n\n- sum of target delta series for all targets in that class\n\nBurst windows are computed from class per-second deltas with the same rolling\nwindow logic used by Spike Damage.\n\n### Timeline Fallback When Target Timelines Are Missing\n\nIf enemy target timelines are empty/unusable for a fight:\n\n1. Build squad incoming strike series from `players[*].powerDamageTaken1S`\n   (cumulative -> per-second deltas).\n2. Compute enemy class counts from `targets[*]` (enemy player targets only).\n3. Distribute squad incoming per-second totals across classes proportionally by\n   class count in that fight.\n\nThis preserves non-zero burst/drilldown behavior for logs lacking complete\ntarget timeline detail.\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses its corresponding fight max as the dashed reference\nseries in the chart.\n\n### Fight Drilldown (5s Buckets)\n\nSelected-fight drilldown is 5-second buckets from class per-second deltas:\n\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count extends to at least `ceil(durationMS / 5000)` so late-fight\nmarker events can still be shown even when trailing bucket damage is zero.\n\nDown/death markers use replay event times from squad players and are converted\nto indices with the same normalization/indexing logic as Spike Damage\n(ms/sec scaling, offset hints, then `floor(timeMs / 5000)` clamp).\n\n### Selected Fight Skill Table (Incoming Skill Damage)\n\nThe expanded table for the selected fight/class is generated from enemy target\nstrike distributions:\n\n1. For each target in the selected class:\n   - read `target.totalDamageDist` entries\n   - ignore `indirectDamage`\n2. Resolve each skill id via:\n   - `skillMap[s{id}]`, then `skillMap[id]`\n   - fallback `buffMap[b{id}]`, then `buffMap[id]`\n3. Aggregate per skill name:\n   - `damage += entry.totalDamage`\n   - `hits += entry.connectedHits || entry.hits`\n   - preserve first available icon URL\n4. Sort desc by damage and keep top rows for rendering.\n\n### Why Some Skill Names Can Look Off-Class\n\nSkill names in incoming strike tables are tied to damage event ids in EI\ndamage distributions, not to profession skill catalogs. Because of that,\noff-class-looking names can appear in a class bucket (for example via\nreflected/returned projectiles, transformed skills, or attribution context).\nThis is expected under the current event-id attribution model.\n\n### Implementation\n\n- Aggregation/precompute:\n  - `src/renderer/stats/computeStatsAggregation.ts` (`incomingStrikeDamage`)\n- Runtime selection/drilldown/table rows:\n  - `src/renderer/StatsView.tsx`\n- UI rendering (card, chart, drilldown, skill table):\n  - `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Timeline / Map Distribution / Fight Breakdown\n\nThese sections use log-level metadata:\n- `details.uploadTime`, `details.durationMS`, `details.success`\n- `details.targets` (enemy counts, fake target filtering)\n- `details.zone`/`mapName`/`map`/`location`/`fightName` for map labels\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Squad Composition\n\nSquad composition is derived from each player\'s resolved profession name\nand aggregated across logs.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Attendance Ledger\n\nAttendance is computed from squad-player participation across all valid logs.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, account/name/profession/group)\n- `players[*].activeTimes[0]`\n- `details.durationMS` (fallback when active time is missing)\n\n### Player Inclusion\n\n- Include only squad players: `!player.notInSquad`.\n- Player key for aggregation is:\n  - `player.account` when present and not `"Unknown"`\n  - otherwise `player.name`\n\n### Time Aggregation\n\nPer squad player entry:\n\n- `activeMs = players[*].activeTimes[0]` when numeric, else `details.durationMS || 0`\n- `combatTimeMs[player] += activeMs`\n- if profession is known:\n  - `professionTimeMs[player][profession] += activeMs`\n\nAlso track appearance window per player:\n\n- `firstSeenFightTs`: earliest fight timestamp where player appears in squad\n- `lastSeenFightTs`: latest fight timestamp where player appears in squad\n- `lastSeenFightDurationMs`: duration of that latest fight\n\nFinal elapsed squad time:\n\n- `squadTimeMs = max(0, (lastSeenFightTs + lastSeenFightDurationMs) - firstSeenFightTs)`\n- fallback to `combatTimeMs` when timestamps are unavailable\n\nCharacter names shown in attendance are the unique set of `player.name` values\nseen for that player key.\n\n### Row Shape / Sorting\n\nFor each aggregated player:\n\n- `account`: aggregation key\n- `characterNames`: unique character names, sorted ascending\n- `classTimes`: entries from `professionTimeMs`, filtered to\n  - `profession !== "Unknown"`\n  - `timeMs > 0`\n- `combatTimeMs`: total active combat time\n- `squadTimeMs`: elapsed time between first seen fight start and last seen fight end\n\nRows are sorted by:\n1. `squadTimeMs` descending\n2. `account` ascending\n\nRows with `account` missing/`"Unknown"` are excluded from final output.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`attendanceData`).\n\n## Squad Comp By Fight\n\nThis section provides per-fight party-line roster composition.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, group, account/name/profession)\n- `details.durationMS`\n- fight metadata/time fields used by `resolveFightTimestamp` and `resolveMapName`\n\n### Fight Ordering\n\nFights are sorted by resolved fight timestamp ascending:\n\n- `uploadTime`\n- fallback: `timeStartStd`, `timeStart`, `timeEndStd`, `timeEnd`\n\n### Party Assignment\n\nFor each squad player (`!player.notInSquad`) in a fight:\n\n- `party = Number(player.group)` when finite and `> 0`, else `0` (`Unassigned`)\n- profession label is normalized via `resolveProfessionLabel(...)`\n\nPer party:\n\n- append player row `{ account, characterName, profession }`\n- increment `classCounts[profession] += 1`\n\n### Party / Player Sorting\n\nWithin each party:\n\n- players are sorted by `profession`, then `account` ascending\n\nParty rows are sorted by:\n1. party number ascending for `1..n`\n2. party `0` (`Unassigned`) last\n\n### Output Shape\n\nPer fight:\n\n- `id`: file/log id fallback chain\n- `label`: `F{index+1}` in timestamp-sorted order\n- `timestamp`: resolved fight timestamp\n- `mapName`: resolved map name\n- `duration`: `formatDurationMs(details.durationMS)`\n- `parties`: sorted party rows with class counts and account list\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`squadCompByFight`).\n\n## Top Stats / MVP\n\nTop stats are computed by ranking the leaderboards for key metrics (down\ncontribution, barrier, healing, cleanses, strips, stability, CC, etc).\nMVP scoring uses weighted ratios against these leaderboards and is configured\nvia `statsViewSettings` + `mvpWeights`.\n\nParticipation is computed as `logsJoined` (number of logs where the player\nappears in the squad).\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Known Caveats\n\n- EI JSON versions can add/remove fields; missing fields always fall back to `0`.\n- `distToCom` and `stackDist` are not guaranteed to exist in every log; `distanceToTag` may be `0`.\n- Incoming CC/strips use weighted skill mappings; mismatches can occur if EI changes skill ids or hit accounting.\n- Stability generation depends on buff metadata presence (`buffMap`) and correct `durationMS`.\n- Damage uses `dpsAll[0].damage` (player total) rather than summing per-target totals, which may differ when targets are filtered or merged.\n- Skill usage totals are raw cast counts unless the per-second view is selected; missing `activeTimes` falls back to log duration for rate calculations.\n- Some detailed WvW EI exports may contain outlier values in `totalDamageDist`\n  (notably `max` on specific skill rows). Spike-hit and target-mode outgoing\n  aggregations prefer/anchor to `targetDamageDist` to reduce false outliers.\n\n## Manifest & Field Usage\n\nThe dev dataset manifest is generated by the app when exporting logs. It is\nstored as `dev/datasets/<dataset>/manifest.json` and contains:\n\n- `id`: log id or generated id\n- `filePath`: relative path to the log JSON\n- `fightName`\n- `encounterDuration`\n- `uploadTime`\n- `timeStart`\n- `timeStartStd`\n- `durationMS`\n- `success`\n- `playerCount`\n- `squadCount`\n- `nonSquadCount`\n\nStats calculations **do not** use the manifest fields directly; the manifest\nis used for listing logs and metadata only. All computations are derived from\nthe EI JSON log payload fields listed in the **Input Contract** and the\nsections above.\n',vF=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),vy=v.createContext({}),GS=v.createContext(null),by=typeof document<"u",Rde=by?v.useLayoutEffect:v.useEffect,bF=v.createContext({strict:!1}),XS=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),$de="framerAppearId",xF="data-"+XS($de);function Bde(e,t,n,r){const{visualElement:a}=v.useContext(vy),i=v.useContext(bF),o=v.useContext(GS),s=v.useContext(vF).reducedMotion,l=v.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:a,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:s}));const c=l.current;v.useInsertionEffect(()=>{c&&c.update(n,o)});const d=v.useRef(!!(n[xF]&&!window.HandoffComplete));return Rde(()=>{c&&(c.render(),d.current&&c.animationState&&c.animationState.animateChanges())}),v.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function du(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function zde(e,t,n){return v.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):du(n)&&(n.current=r))},[t])}function Zf(e){return typeof e=="string"||Array.isArray(e)}function xy(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const ZS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],QS=["initial",...ZS];function wy(e){return xy(e.animate)||QS.some(t=>Zf(e[t]))}function wF(e){return!!(wy(e)||e.variants)}function Vde(e,t){if(wy(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Zf(n)?n:void 0,animate:Zf(r)?r:void 0}}return e.inherit!==!1?t:{}}function Ude(e){const{initial:t,animate:n}=Vde(e,v.useContext(vy));return v.useMemo(()=>({initial:t,animate:n}),[BE(t),BE(n)])}function BE(e){return Array.isArray(e)?e.join(" "):e}const zE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Qf={};for(const e in zE)Qf[e]={isEnabled:t=>zE[e].some(n=>!!t[n])};function Wde(e){for(const t in e)Qf[t]={...Qf[t],...e[t]}}const kF=v.createContext({}),SF=v.createContext({}),Hde=Symbol.for("motionComponentSymbol");function qde({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:a}){e&&Wde(e);function i(s,l){let c;const d={...v.useContext(vF),...s,layoutId:Kde(s)},{isStatic:f}=d,p=Ude(s),m=r(s,f);if(!f&&by){p.visualElement=Bde(a,m,d,t);const h=v.useContext(SF),y=v.useContext(bF).strict;p.visualElement&&(c=p.visualElement.loadFeatures(d,y,e,h))}return v.createElement(vy.Provider,{value:p},c&&p.visualElement?v.createElement(c,{visualElement:p.visualElement,...d}):null,n(a,s,zde(m,p.visualElement,l),m,f,p.visualElement))}const o=v.forwardRef(i);return o[Hde]=a,o}function Kde({layoutId:e}){const t=v.useContext(kF).id;return t&&e!==void 0?t+"-"+e:e}function Yde(e){function t(r,a={}){return qde(e(r,a))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,a)=>(n.has(a)||n.set(a,t(a)),n.get(a))})}const Gde=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function JS(e){return typeof e!="string"||e.includes("-")?!1:!!(Gde.indexOf(e)>-1||/[A-Z]/.test(e))}const $g={};function Xde(e){Object.assign($g,e)}const $p=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Pc=new Set($p);function NF(e,{layout:t,layoutId:n}){return Pc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!$g[e]||e==="opacity")}const ii=e=>!!(e&&e.getVelocity),Zde={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Qde=$p.length;function Jde(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,a){let i="";for(let o=0;o<Qde;o++){const s=$p[o];if(e[s]!==void 0){const l=Zde[s]||s;i+=`${l}(${e[s]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),a?i=a(e,r?"":i):n&&r&&(i="none"),i}const jF=e=>t=>typeof t=="string"&&t.startsWith(e),CF=jF("--"),cw=jF("var(--"),efe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,tfe=(e,t)=>t&&typeof e=="number"?t.transform(e):e,yl=(e,t,n)=>Math.min(Math.max(n,e),t),Tc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},af={...Tc,transform:e=>yl(0,1,e)},Fm={...Tc,default:1},of=e=>Math.round(e*1e5)/1e5,ky=/(-)?([\d]*\.?[\d])+/g,MF=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,nfe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Bp(e){return typeof e=="string"}const zp=e=>({test:t=>Bp(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Us=zp("deg"),$o=zp("%"),Ut=zp("px"),rfe=zp("vh"),afe=zp("vw"),VE={...$o,parse:e=>$o.parse(e)/100,transform:e=>$o.transform(e*100)},UE={...Tc,transform:Math.round},AF={borderWidth:Ut,borderTopWidth:Ut,borderRightWidth:Ut,borderBottomWidth:Ut,borderLeftWidth:Ut,borderRadius:Ut,radius:Ut,borderTopLeftRadius:Ut,borderTopRightRadius:Ut,borderBottomRightRadius:Ut,borderBottomLeftRadius:Ut,width:Ut,maxWidth:Ut,height:Ut,maxHeight:Ut,size:Ut,top:Ut,right:Ut,bottom:Ut,left:Ut,padding:Ut,paddingTop:Ut,paddingRight:Ut,paddingBottom:Ut,paddingLeft:Ut,margin:Ut,marginTop:Ut,marginRight:Ut,marginBottom:Ut,marginLeft:Ut,rotate:Us,rotateX:Us,rotateY:Us,rotateZ:Us,scale:Fm,scaleX:Fm,scaleY:Fm,scaleZ:Fm,skew:Us,skewX:Us,skewY:Us,distance:Ut,translateX:Ut,translateY:Ut,translateZ:Ut,x:Ut,y:Ut,z:Ut,perspective:Ut,transformPerspective:Ut,opacity:af,originX:VE,originY:VE,originZ:Ut,zIndex:UE,fillOpacity:af,strokeOpacity:af,numOctaves:UE};function eN(e,t,n,r){const{style:a,vars:i,transform:o,transformOrigin:s}=e;let l=!1,c=!1,d=!0;for(const f in t){const p=t[f];if(CF(f)){i[f]=p;continue}const m=AF[f],h=tfe(p,m);if(Pc.has(f)){if(l=!0,o[f]=h,!d)continue;p!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(c=!0,s[f]=h):a[f]=h}if(t.transform||(l||r?a.transform=Jde(e.transform,n,d,r):a.transform&&(a.transform="none")),c){const{originX:f="50%",originY:p="50%",originZ:m=0}=s;a.transformOrigin=`${f} ${p} ${m}`}}const tN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function EF(e,t,n){for(const r in t)!ii(t[r])&&!NF(r,n)&&(e[r]=t[r])}function ife({transformTemplate:e},t,n){return v.useMemo(()=>{const r=tN();return eN(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function ofe(e,t,n){const r=e.style||{},a={};return EF(a,r,e),Object.assign(a,ife(e,t,n)),e.transformValues?e.transformValues(a):a}function sfe(e,t,n){const r={},a=ofe(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=a,r}const lfe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bg(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||lfe.has(e)}let PF=e=>!Bg(e);function cfe(e){e&&(PF=t=>t.startsWith("on")?!Bg(t):e(t))}try{cfe(require("@emotion/is-prop-valid").default)}catch{}function ufe(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(PF(a)||n===!0&&Bg(a)||!t&&!Bg(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}function WE(e,t,n){return typeof e=="string"?e:Ut.transform(t+n*e)}function dfe(e,t,n){const r=WE(t,e.x,e.width),a=WE(n,e.y,e.height);return`${r} ${a}`}const ffe={offset:"stroke-dashoffset",array:"stroke-dasharray"},pfe={offset:"strokeDashoffset",array:"strokeDasharray"};function mfe(e,t,n=1,r=0,a=!0){e.pathLength=1;const i=a?ffe:pfe;e[i.offset]=Ut.transform(-r);const o=Ut.transform(t),s=Ut.transform(n);e[i.array]=`${o} ${s}`}function nN(e,{attrX:t,attrY:n,attrScale:r,originX:a,originY:i,pathLength:o,pathSpacing:s=1,pathOffset:l=0,...c},d,f,p){if(eN(e,c,d,p),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:h,dimensions:y}=e;m.transform&&(y&&(h.transform=m.transform),delete m.transform),y&&(a!==void 0||i!==void 0||h.transform)&&(h.transformOrigin=dfe(y,a!==void 0?a:.5,i!==void 0?i:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&mfe(m,o,s,l,!1)}const TF=()=>({...tN(),attrs:{}}),rN=e=>typeof e=="string"&&e.toLowerCase()==="svg";function hfe(e,t,n,r){const a=v.useMemo(()=>{const i=TF();return nN(i,t,{enableHardwareAcceleration:!1},rN(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};EF(i,e.style,e),a.style={...i,...a.style}}return a}function gfe(e=!1){return(t,n,r,{latestValues:a},i)=>{const o=(JS(t)?hfe:sfe)(n,a,i,t),s={...ufe(n,typeof t=="string",e),...o,ref:r},{children:l}=n,c=v.useMemo(()=>ii(l)?l.get():l,[l]);return v.createElement(t,{...s,children:c})}}function DF(e,{style:t,vars:n},r,a){Object.assign(e.style,t,a&&a.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const OF=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function IF(e,t,n,r){DF(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(OF.has(a)?a:XS(a),t.attrs[a])}function aN(e,t){const{style:n}=e,r={};for(const a in n)(ii(n[a])||t.style&&ii(t.style[a])||NF(a,e))&&(r[a]=n[a]);return r}function _F(e,t){const n=aN(e,t);for(const r in e)if(ii(e[r])||ii(t[r])){const a=$p.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[a]=e[r]}return n}function iN(e,t,n,r={},a={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,a)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,a)),t}function yfe(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const zg=e=>Array.isArray(e),vfe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),bfe=e=>zg(e)?e[e.length-1]||0:e;function dh(e){const t=ii(e)?e.get():e;return vfe(t)?t.toValue():t}function xfe({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,a,i){const o={latestValues:wfe(r,a,i,e),renderState:t()};return n&&(o.mount=s=>n(r,s,o)),o}const LF=e=>(t,n)=>{const r=v.useContext(vy),a=v.useContext(GS),i=()=>xfe(e,t,r,a);return n?i():yfe(i)};function wfe(e,t,n,r){const a={},i=r(e,{});for(const p in i)a[p]=dh(i[p]);let{initial:o,animate:s}=e;const l=wy(e),c=wF(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),s===void 0&&(s=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?s:o;return f&&typeof f!="boolean"&&!xy(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const m=iN(e,p);if(!m)return;const{transitionEnd:h,transition:y,...x}=m;for(const g in x){let b=x[g];if(Array.isArray(b)){const w=d?b.length-1:0;b=b[w]}b!==null&&(a[g]=b)}for(const g in h)a[g]=h[g]}),a}const Dr=e=>e;class HE{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function kfe(e){let t=new HE,n=new HE,r=0,a=!1,i=!1;const o=new WeakSet,s={schedule:(l,c=!1,d=!1)=>{const f=d&&a,p=f?t:n;return c&&o.add(l),p.add(l)&&f&&a&&(r=t.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(a){i=!0;return}if(a=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let c=0;c<r;c++){const d=t.order[c];d(l),o.has(d)&&(s.schedule(d),e())}a=!1,i&&(i=!1,s.process(l))}};return s}const Rm=["prepare","read","update","preRender","render","postRender"],Sfe=40;function Nfe(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=Rm.reduce((c,d)=>(c[d]=kfe(()=>n=!0),c),{}),o=c=>i[c].process(a),s=()=>{const c=performance.now();n=!1,a.delta=r?1e3/60:Math.max(Math.min(c-a.timestamp,Sfe),1),a.timestamp=c,a.isProcessing=!0,Rm.forEach(o),a.isProcessing=!1,n&&t&&(r=!1,e(s))},l=()=>{n=!0,r=!0,a.isProcessing||e(s)};return{schedule:Rm.reduce((c,d)=>{const f=i[d];return c[d]=(p,m=!1,h=!1)=>(n||l(),f.schedule(p,m,h)),c},{}),cancel:c=>Rm.forEach(d=>i[d].cancel(c)),state:a,steps:i}}const{schedule:nr,cancel:xs,state:xa,steps:Uv}=Nfe(typeof requestAnimationFrame<"u"?requestAnimationFrame:Dr,!0),jfe={useVisualState:LF({scrapeMotionValuesFromProps:_F,createRenderState:TF,onMount:(e,t,{renderState:n,latestValues:r})=>{nr.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),nr.render(()=>{nN(n,r,{enableHardwareAcceleration:!1},rN(t.tagName),e.transformTemplate),IF(t,n)})}})},Cfe={useVisualState:LF({scrapeMotionValuesFromProps:aN,createRenderState:tN})};function Mfe(e,{forwardMotionProps:t=!1},n,r){return{...JS(e)?jfe:Cfe,preloadedFeatures:n,useRender:gfe(t),createVisualElement:r,Component:e}}function as(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const FF=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Sy(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Afe=e=>t=>FF(t)&&e(t,Sy(t));function ls(e,t,n,r){return as(e,t,Afe(n),r)}const Efe=(e,t)=>n=>t(e(n)),fl=(...e)=>e.reduce(Efe);function RF(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const qE=RF("dragHorizontal"),KE=RF("dragVertical");function $F(e){let t=!1;if(e==="y")t=KE();else if(e==="x")t=qE();else{const n=qE(),r=KE();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function BF(){const e=$F(!0);return e?(e(),!1):!0}class Ml{constructor(t){this.isMounted=!1,this.node=t}update(){}}function YE(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),a=(i,o)=>{if(i.pointerType==="touch"||BF())return;const s=e.getProps();e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",t),s[r]&&nr.update(()=>s[r](i,o))};return ls(e.current,n,a,{passive:!e.getProps()[r]})}class Pfe extends Ml{mount(){this.unmount=fl(YE(this.node,!0),YE(this.node,!1))}unmount(){}}class Tfe extends Ml{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=fl(as(this.node.current,"focus",()=>this.onFocus()),as(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const zF=(e,t)=>t?e===t?!0:zF(e,t.parentElement):!1;function Wv(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Sy(n))}class Dfe extends Ml{constructor(){super(...arguments),this.removeStartListeners=Dr,this.removeEndListeners=Dr,this.removeAccessibleListeners=Dr,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=ls(window,"pointerup",(o,s)=>{if(!this.checkPressEnd())return;const{onTap:l,onTapCancel:c,globalTapTarget:d}=this.node.getProps();nr.update(()=>{!d&&!zF(this.node.current,o.target)?c&&c(o,s):l&&l(o,s)})},{passive:!(r.onTap||r.onPointerUp)}),i=ls(window,"pointercancel",(o,s)=>this.cancelPress(o,s),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=fl(a,i),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=s=>{s.key!=="Enter"||!this.checkPressEnd()||Wv("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&nr.update(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=as(this.node.current,"keyup",o),Wv("down",(s,l)=>{this.startPress(s,l)})},n=as(this.node.current,"keydown",t),r=()=>{this.isPressing&&Wv("cancel",(i,o)=>this.cancelPress(i,o))},a=as(this.node.current,"blur",r);this.removeAccessibleListeners=fl(n,a)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&nr.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!BF()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&nr.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=ls(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=as(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=fl(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const uw=new WeakMap,Hv=new WeakMap,Ofe=e=>{const t=uw.get(e.target);t&&t(e)},Ife=e=>{e.forEach(Ofe)};function _fe({root:e,...t}){const n=e||document;Hv.has(n)||Hv.set(n,{});const r=Hv.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(Ife,{root:e,...t})),r[a]}function Lfe(e,t,n){const r=_fe(t);return uw.set(e,n),r.observe(e),()=>{uw.delete(e),r.unobserve(e)}}const Ffe={some:0,all:1};class Rfe extends Ml{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:Ffe[a]},s=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=c?d:f;p&&p(l)};return Lfe(this.node.current,o,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some($fe(t,n))&&this.startObserver()}unmount(){}}function $fe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Bfe={inView:{Feature:Rfe},tap:{Feature:Dfe},focus:{Feature:Tfe},hover:{Feature:Pfe}};function VF(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function zfe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function Vfe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Ny(e,t,n){const r=e.getProps();return iN(r,t,n!==void 0?n:r.custom,zfe(e),Vfe(e))}let oN=Dr;const lc=e=>e*1e3,cs=e=>e/1e3,Ufe={current:!1},UF=e=>Array.isArray(e)&&typeof e[0]=="number";function WF(e){return!!(!e||typeof e=="string"&&HF[e]||UF(e)||Array.isArray(e)&&e.every(WF))}const Ud=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,HF={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ud([0,.65,.55,1]),circOut:Ud([.55,0,1,.45]),backIn:Ud([.31,.01,.66,-.59]),backOut:Ud([.33,1.53,.69,.99])};function qF(e){if(e)return UF(e)?Ud(e):Array.isArray(e)?e.map(qF):HF[e]}function Wfe(e,t,n,{delay:r=0,duration:a,repeat:i=0,repeatType:o="loop",ease:s,times:l}={}){const c={[t]:n};l&&(c.offset=l);const d=qF(s);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:r,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function Hfe(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const KF=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,qfe=1e-7,Kfe=12;function Yfe(e,t,n,r,a){let i,o,s=0;do o=t+(n-t)/2,i=KF(o,r,a)-e,i>0?n=o:t=o;while(Math.abs(i)>qfe&&++s<Kfe);return o}function Vp(e,t,n,r){if(e===t&&n===r)return Dr;const a=i=>Yfe(i,0,1,e,n);return i=>i===0||i===1?i:KF(a(i),t,r)}const Gfe=Vp(.42,0,1,1),Xfe=Vp(0,0,.58,1),YF=Vp(.42,0,.58,1),Zfe=e=>Array.isArray(e)&&typeof e[0]!="number",GF=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,XF=e=>t=>1-e(1-t),sN=e=>1-Math.sin(Math.acos(e)),ZF=XF(sN),Qfe=GF(sN),QF=Vp(.33,1.53,.69,.99),lN=XF(QF),Jfe=GF(lN),epe=e=>(e*=2)<1?.5*lN(e):.5*(2-Math.pow(2,-10*(e-1))),tpe={linear:Dr,easeIn:Gfe,easeInOut:YF,easeOut:Xfe,circIn:sN,circInOut:Qfe,circOut:ZF,backIn:lN,backInOut:Jfe,backOut:QF,anticipate:epe},GE=e=>{if(Array.isArray(e)){oN(e.length===4);const[t,n,r,a]=e;return Vp(t,n,r,a)}else if(typeof e=="string")return tpe[e];return e},cN=(e,t)=>n=>!!(Bp(n)&&nfe.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),JF=(e,t,n)=>r=>{if(!Bp(r))return r;const[a,i,o,s]=r.match(ky);return{[e]:parseFloat(a),[t]:parseFloat(i),[n]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},npe=e=>yl(0,255,e),qv={...Tc,transform:e=>Math.round(npe(e))},ec={test:cN("rgb","red"),parse:JF("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+qv.transform(e)+", "+qv.transform(t)+", "+qv.transform(n)+", "+of(af.transform(r))+")"};function rpe(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const dw={test:cN("#"),parse:rpe,transform:ec.transform},fu={test:cN("hsl","hue"),parse:JF("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+$o.transform(of(t))+", "+$o.transform(of(n))+", "+of(af.transform(r))+")"},_a={test:e=>ec.test(e)||dw.test(e)||fu.test(e),parse:e=>ec.test(e)?ec.parse(e):fu.test(e)?fu.parse(e):dw.parse(e),transform:e=>Bp(e)?e:e.hasOwnProperty("red")?ec.transform(e):fu.transform(e)},gr=(e,t,n)=>-n*e+n*t+e;function Kv(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function ape({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,i=0,o=0;if(!t)a=i=o=n;else{const s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;a=Kv(l,s,e+1/3),i=Kv(l,s,e),o=Kv(l,s,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const Yv=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},ipe=[dw,ec,fu],ope=e=>ipe.find(t=>t.test(e));function XE(e){const t=ope(e);let n=t.parse(e);return t===fu&&(n=ape(n)),n}const eR=(e,t)=>{const n=XE(e),r=XE(t),a={...n};return i=>(a.red=Yv(n.red,r.red,i),a.green=Yv(n.green,r.green,i),a.blue=Yv(n.blue,r.blue,i),a.alpha=gr(n.alpha,r.alpha,i),ec.transform(a))};function spe(e){var t,n;return isNaN(e)&&Bp(e)&&(((t=e.match(ky))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(MF))===null||n===void 0?void 0:n.length)||0)>0}const tR={regex:efe,countKey:"Vars",token:"${v}",parse:Dr},nR={regex:MF,countKey:"Colors",token:"${c}",parse:_a.parse},rR={regex:ky,countKey:"Numbers",token:"${n}",parse:Tc.parse};function Gv(e,{regex:t,countKey:n,token:r,parse:a}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(a)))}function Vg(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Gv(n,tR),Gv(n,nR),Gv(n,rR),n}function aR(e){return Vg(e).values}function iR(e){const{values:t,numColors:n,numVars:r,tokenised:a}=Vg(e),i=t.length;return o=>{let s=a;for(let l=0;l<i;l++)l<r?s=s.replace(tR.token,o[l]):l<r+n?s=s.replace(nR.token,_a.transform(o[l])):s=s.replace(rR.token,of(o[l]));return s}}const lpe=e=>typeof e=="number"?0:e;function cpe(e){const t=aR(e);return iR(e)(t.map(lpe))}const vl={test:spe,parse:aR,createTransformer:iR,getAnimatableNone:cpe},oR=(e,t)=>n=>`${n>0?t:e}`;function sR(e,t){return typeof e=="number"?n=>gr(e,t,n):_a.test(e)?eR(e,t):e.startsWith("var(")?oR(e,t):cR(e,t)}const lR=(e,t)=>{const n=[...e],r=n.length,a=e.map((i,o)=>sR(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=a[o](i);return n}},upe=(e,t)=>{const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=sR(e[a],t[a]));return a=>{for(const i in r)n[i]=r[i](a);return n}},cR=(e,t)=>{const n=vl.createTransformer(t),r=Vg(e),a=Vg(t);return r.numVars===a.numVars&&r.numColors===a.numColors&&r.numNumbers>=a.numNumbers?fl(lR(r.values,a.values),n):oR(e,t)},Jf=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},ZE=(e,t)=>n=>gr(e,t,n);function dpe(e){return typeof e=="number"?ZE:typeof e=="string"?_a.test(e)?eR:cR:Array.isArray(e)?lR:typeof e=="object"?upe:ZE}function fpe(e,t,n){const r=[],a=n||dpe(e[0]),i=e.length-1;for(let o=0;o<i;o++){let s=a(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Dr:t;s=fl(l,s)}r.push(s)}return r}function uR(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const i=e.length;if(oN(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=fpe(t,r,a),s=o.length,l=c=>{let d=0;if(s>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const f=Jf(e[d],e[d+1],c);return o[d](f)};return n?c=>l(yl(e[0],e[i-1],c)):l}function ppe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=Jf(0,t,r);e.push(gr(n,1,a))}}function mpe(e){const t=[0];return ppe(t,e.length-1),t}function hpe(e,t){return e.map(n=>n*t)}function gpe(e,t){return e.map(()=>t||YF).splice(0,e.length-1)}function Ug({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=Zfe(r)?r.map(GE):GE(r),i={done:!1,value:t[0]},o=hpe(n&&n.length===t.length?n:mpe(t),e),s=uR(o,t,{ease:Array.isArray(a)?a:gpe(t,a)});return{calculatedDuration:e,next:l=>(i.value=s(l),i.done=l>=e,i)}}function dR(e,t){return t?e*(1e3/t):0}const ype=5;function fR(e,t,n){const r=Math.max(t-ype,0);return dR(n-e(r),t-r)}const Xv=.001,vpe=.01,bpe=10,xpe=.05,wpe=1;function kpe({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let a,i,o=1-t;o=yl(xpe,wpe,o),e=yl(vpe,bpe,cs(e)),o<1?(a=c=>{const d=c*o,f=d*e,p=d-n,m=fw(c,o),h=Math.exp(-f);return Xv-p/m*h},i=c=>{const d=c*o*e,f=d*n+n,p=Math.pow(o,2)*Math.pow(c,2)*e,m=Math.exp(-d),h=fw(Math.pow(c,2),o);return(-a(c)+Xv>0?-1:1)*((f-p)*m)/h}):(a=c=>{const d=Math.exp(-c*e),f=(c-n)*e+1;return-Xv+d*f},i=c=>{const d=Math.exp(-c*e),f=(n-c)*(e*e);return d*f});const s=5/e,l=Npe(a,i,s);if(e=lc(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:e}}}const Spe=12;function Npe(e,t,n){let r=n;for(let a=1;a<Spe;a++)r=r-e(r)/t(r);return r}function fw(e,t){return e*Math.sqrt(1-t*t)}const jpe=["duration","bounce"],Cpe=["stiffness","damping","mass"];function QE(e,t){return t.some(n=>e[n]!==void 0)}function Mpe(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!QE(e,Cpe)&&QE(e,jpe)){const n=kpe(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function pR({keyframes:e,restDelta:t,restSpeed:n,...r}){const a=e[0],i=e[e.length-1],o={done:!1,value:a},{stiffness:s,damping:l,mass:c,duration:d,velocity:f,isResolvedFromDuration:p}=Mpe({...r,velocity:-cs(r.velocity||0)}),m=f||0,h=l/(2*Math.sqrt(s*c)),y=i-a,x=cs(Math.sqrt(s/c)),g=Math.abs(y)<5;n||(n=g?.01:2),t||(t=g?.005:.5);let b;if(h<1){const w=fw(x,h);b=S=>{const C=Math.exp(-h*x*S);return i-C*((m+h*x*y)/w*Math.sin(w*S)+y*Math.cos(w*S))}}else if(h===1)b=w=>i-Math.exp(-x*w)*(y+(m+x*y)*w);else{const w=x*Math.sqrt(h*h-1);b=S=>{const C=Math.exp(-h*x*S),N=Math.min(w*S,300);return i-C*((m+h*x*y)*Math.sinh(N)+w*y*Math.cosh(N))/w}}return{calculatedDuration:p&&d||null,next:w=>{const S=b(w);if(p)o.done=w>=d;else{let C=m;w!==0&&(h<1?C=fR(b,w,S):C=0);const N=Math.abs(C)<=n,M=Math.abs(i-S)<=t;o.done=N&&M}return o.value=o.done?i:S,o}}}function JE({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:s,max:l,restDelta:c=.5,restSpeed:d}){const f=e[0],p={done:!1,value:f},m=T=>s!==void 0&&T<s||l!==void 0&&T>l,h=T=>s===void 0?l:l===void 0||Math.abs(s-T)<Math.abs(l-T)?s:l;let y=n*t;const x=f+y,g=o===void 0?x:o(x);g!==x&&(y=g-f);const b=T=>-y*Math.exp(-T/r),w=T=>g+b(T),S=T=>{const $=b(T),E=w(T);p.done=Math.abs($)<=c,p.value=p.done?g:E};let C,N;const M=T=>{m(p.value)&&(C=T,N=pR({keyframes:[p.value,h(p.value)],velocity:fR(w,T,p.value),damping:a,stiffness:i,restDelta:c,restSpeed:d}))};return M(0),{calculatedDuration:null,next:T=>{let $=!1;return!N&&C===void 0&&($=!0,S(T),M(T)),C!==void 0&&T>C?N.next(T-C):(!$&&S(T),p)}}}const Ape=e=>{const t=({timestamp:n})=>e(n);return{start:()=>nr.update(t,!0),stop:()=>xs(t),now:()=>xa.isProcessing?xa.timestamp:performance.now()}},e5=2e4;function t5(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<e5;)t+=n,r=e.next(t);return t>=e5?1/0:t}const Epe={decay:JE,inertia:JE,tween:Ug,keyframes:Ug,spring:pR};function Wg({autoplay:e=!0,delay:t=0,driver:n=Ape,keyframes:r,type:a="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop",onPlay:l,onStop:c,onComplete:d,onUpdate:f,...p}){let m=1,h=!1,y,x;const g=()=>{x=new Promise(I=>{y=I})};g();let b;const w=Epe[a]||Ug;let S;w!==Ug&&typeof r[0]!="number"&&(S=uR([0,100],r,{clamp:!1}),r=[0,100]);const C=w({...p,keyframes:r});let N;s==="mirror"&&(N=w({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let M="idle",T=null,$=null,E=null;C.calculatedDuration===null&&i&&(C.calculatedDuration=t5(C));const{calculatedDuration:P}=C;let O=1/0,U=1/0;P!==null&&(O=P+o,U=O*(i+1)-o);let X=0;const ee=I=>{if($===null)return;m>0&&($=Math.min($,I)),m<0&&($=Math.min(I-U/m,$)),T!==null?X=T:X=Math.round(I-$)*m;const A=X-t*(m>=0?1:-1),j=m>=0?A<0:A>U;X=Math.max(A,0),M==="finished"&&T===null&&(X=U);let L=X,q=C;if(i){const _=Math.min(X,U)/O;let te=Math.floor(_),re=_%1;!re&&_>=1&&(re=1),re===1&&te--,te=Math.min(te,i+1),te%2&&(s==="reverse"?(re=1-re,o&&(re-=o/O)):s==="mirror"&&(q=N)),L=yl(0,1,re)*O}const Q=j?{done:!1,value:r[0]}:q.next(L);S&&(Q.value=S(Q.value));let{done:G}=Q;!j&&P!==null&&(G=m>=0?X>=U:X<=0);const W=T===null&&(M==="finished"||M==="running"&&G);return f&&f(Q.value),W&&B(),Q},de=()=>{b&&b.stop(),b=void 0},z=()=>{M="idle",de(),y(),g(),$=E=null},B=()=>{M="finished",d&&d(),de(),y()},ie=()=>{if(h)return;b||(b=n(ee));const I=b.now();l&&l(),T!==null?$=I-T:(!$||M==="finished")&&($=I),M==="finished"&&g(),E=$,T=null,M="running",b.start()};e&&ie();const k={then(I,A){return x.then(I,A)},get time(){return cs(X)},set time(I){I=lc(I),X=I,T!==null||!b||m===0?T=I:$=b.now()-I/m},get duration(){const I=C.calculatedDuration===null?t5(C):C.calculatedDuration;return cs(I)},get speed(){return m},set speed(I){I===m||!b||(m=I,k.time=cs(X))},get state(){return M},play:ie,pause:()=>{M="paused",T=X},stop:()=>{h=!0,M!=="idle"&&(M="idle",c&&c(),z())},cancel:()=>{E!==null&&ee(E),z()},complete:()=>{M="finished"},sample:I=>($=0,ee(I))};return k}function Ppe(e){let t;return()=>(t===void 0&&(t=e()),t)}const Tpe=Ppe(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Dpe=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),$m=10,Ope=2e4,Ipe=(e,t)=>t.type==="spring"||e==="backgroundColor"||!WF(t.ease);function _pe(e,t,{onUpdate:n,onComplete:r,...a}){if(!(Tpe()&&Dpe.has(t)&&!a.repeatDelay&&a.repeatType!=="mirror"&&a.damping!==0&&a.type!=="inertia"))return!1;let i=!1,o,s,l=!1;const c=()=>{s=new Promise(g=>{o=g})};c();let{keyframes:d,duration:f=300,ease:p,times:m}=a;if(Ipe(t,a)){const g=Wg({...a,repeat:0,delay:0});let b={done:!1,value:d[0]};const w=[];let S=0;for(;!b.done&&S<Ope;)b=g.sample(S),w.push(b.value),S+=$m;m=void 0,d=w,f=S-$m,p="linear"}const h=Wfe(e.owner.current,t,d,{...a,duration:f,ease:p,times:m}),y=()=>{l=!1,h.cancel()},x=()=>{l=!0,nr.update(y),o(),c()};return h.onfinish=()=>{l||(e.set(Hfe(d,a)),r&&r(),x())},{then(g,b){return s.then(g,b)},attachTimeline(g){return h.timeline=g,h.onfinish=null,Dr},get time(){return cs(h.currentTime||0)},set time(g){h.currentTime=lc(g)},get speed(){return h.playbackRate},set speed(g){h.playbackRate=g},get duration(){return cs(f)},play:()=>{i||(h.play(),xs(y))},pause:()=>h.pause(),stop:()=>{if(i=!0,h.playState==="idle")return;const{currentTime:g}=h;if(g){const b=Wg({...a,autoplay:!1});e.setWithVelocity(b.sample(g-$m).value,b.sample(g).value,$m)}x()},complete:()=>{l||h.finish()},cancel:x}}function Lpe({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const a=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Dr,pause:Dr,stop:Dr,then:i=>(i(),Promise.resolve()),cancel:Dr,complete:Dr});return t?Wg({keyframes:[0,1],duration:0,delay:t,onComplete:a}):a()}const Fpe={type:"spring",stiffness:500,damping:25,restSpeed:10},Rpe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),$pe={type:"keyframes",duration:.8},Bpe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},zpe=(e,{keyframes:t})=>t.length>2?$pe:Pc.has(e)?e.startsWith("scale")?Rpe(t[1]):Fpe:Bpe,pw=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(vl.test(t)||t==="0")&&!t.startsWith("url(")),Vpe=new Set(["brightness","contrast","saturate","opacity"]);function Upe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(ky)||[];if(!r)return e;const a=n.replace(r,"");let i=Vpe.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+a+")"}const Wpe=/([a-z-]*)\(.*?\)/g,mw={...vl,getAnimatableNone:e=>{const t=e.match(Wpe);return t?t.map(Upe).join(" "):e}},Hpe={...AF,color:_a,backgroundColor:_a,outlineColor:_a,fill:_a,stroke:_a,borderColor:_a,borderTopColor:_a,borderRightColor:_a,borderBottomColor:_a,borderLeftColor:_a,filter:mw,WebkitFilter:mw},uN=e=>Hpe[e];function mR(e,t){let n=uN(e);return n!==mw&&(n=vl),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const hR=e=>/^0[^.\s]+$/.test(e);function qpe(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||hR(e)}function Kpe(e,t,n,r){const a=pw(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:e.get();let s;const l=[];for(let c=0;c<i.length;c++)i[c]===null&&(i[c]=c===0?o:i[c-1]),qpe(i[c])&&l.push(c),typeof i[c]=="string"&&i[c]!=="none"&&i[c]!=="0"&&(s=i[c]);if(a&&l.length&&s)for(let c=0;c<l.length;c++){const d=l[c];i[d]=mR(t,s)}return i}function Ype({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:s,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function dN(e,t){return e[t]||e.default||e}const Gpe={skipAnimations:!1},fN=(e,t,n,r={})=>a=>{const i=dN(r,e)||{},o=i.delay||r.delay||0;let{elapsed:s=0}=r;s=s-lc(o);const l=Kpe(t,e,n,i),c=l[0],d=l[l.length-1],f=pw(e,c),p=pw(e,d);let m={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-s,onUpdate:h=>{t.set(h),i.onUpdate&&i.onUpdate(h)},onComplete:()=>{a(),i.onComplete&&i.onComplete()}};if(Ype(i)||(m={...m,...zpe(e,m)}),m.duration&&(m.duration=lc(m.duration)),m.repeatDelay&&(m.repeatDelay=lc(m.repeatDelay)),!f||!p||Ufe.current||i.type===!1||Gpe.skipAnimations)return Lpe(m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const h=_pe(t,e,m);if(h)return h}return Wg(m)};function Hg(e){return!!(ii(e)&&e.add)}const gR=e=>/^\-?\d*\.?\d+$/.test(e);function pN(e,t){e.indexOf(t)===-1&&e.push(t)}function mN(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class hN{constructor(){this.subscriptions=[]}add(t){return pN(this.subscriptions,t),()=>mN(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Xpe=e=>!isNaN(parseFloat(e));class Zpe{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,a=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=xa;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,nr.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>nr.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=Xpe(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new hN);const r=this.events[t].add(n);return t==="change"?()=>{r(),nr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?dR(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wu(e,t){return new Zpe(e,t)}const yR=e=>t=>t.test(e),Qpe={test:e=>e==="auto",parse:e=>e},vR=[Tc,Ut,$o,Us,afe,rfe,Qpe],Id=e=>vR.find(yR(e)),Jpe=[...vR,_a,vl],eme=e=>Jpe.find(yR(e));function tme(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Wu(n))}function nme(e,t){const n=Ny(e,t);let{transitionEnd:r={},transition:a={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const s=bfe(i[o]);tme(e,o,s)}}function rme(e,t,n){var r,a;const i=Object.keys(t).filter(s=>!e.hasValue(s)),o=i.length;if(o)for(let s=0;s<o;s++){const l=i[s],c=t[l];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(a=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&a!==void 0?a:t[l]),d!=null&&(typeof d=="string"&&(gR(d)||hR(d))?d=parseFloat(d):!eme(d)&&vl.test(c)&&(d=mR(l,c)),e.addValue(l,Wu(d,{owner:e})),n[l]===void 0&&(n[l]=d),d!==null&&e.setBaseTarget(l,d))}}function ame(e,t){return t?(t[e]||t.default||t).from:void 0}function ime(e,t,n){const r={};for(const a in e){const i=ame(a,t);if(i!==void 0)r[a]=i;else{const o=n.getValue(a);o&&(r[a]=o.get())}}return r}function ome({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function sme(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function bR(e,t,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...s}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(i=r);const c=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const f in s){const p=e.getValue(f),m=s[f];if(!p||m===void 0||d&&ome(d,f))continue;const h={delay:n,elapsed:0,...dN(i||{},f)};if(window.HandoffAppearAnimations){const g=e.getProps()[xF];if(g){const b=window.HandoffAppearAnimations(g,f,p,nr);b!==null&&(h.elapsed=b,h.isHandoff=!0)}}let y=!h.isHandoff&&!sme(p,m);if(h.type==="spring"&&(p.getVelocity()||h.velocity)&&(y=!1),p.animation&&(y=!1),y)continue;p.start(fN(f,p,m,e.shouldReduceMotion&&Pc.has(f)?{type:!1}:h));const x=p.animation;Hg(l)&&(l.add(f),x.then(()=>l.remove(f))),c.push(x)}return o&&Promise.all(c).then(()=>{o&&nme(e,o)}),c}function hw(e,t,n={}){const r=Ny(e,t,n.custom);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const i=r?()=>Promise.all(bR(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=a;return lme(e,t,c+l,d,f,n)}:()=>Promise.resolve(),{when:s}=a;if(s){const[l,c]=s==="beforeChildren"?[i,o]:[o,i];return l().then(()=>c())}else return Promise.all([i(),o(n.delay)])}function lme(e,t,n=0,r=0,a=1,i){const o=[],s=(e.variantChildren.size-1)*r,l=a===1?(c=0)=>c*r:(c=0)=>s-c*r;return Array.from(e.variantChildren).sort(cme).forEach((c,d)=>{c.notify("AnimationStart",t),o.push(hw(c,t,{...i,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(o)}function cme(e,t){return e.sortNodePosition(t)}function ume(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(i=>hw(e,i,n));r=Promise.all(a)}else if(typeof t=="string")r=hw(e,t,n);else{const a=typeof t=="function"?Ny(e,t,n.custom):t;r=Promise.all(bR(e,a,n))}return r.then(()=>e.notify("AnimationComplete",t))}const dme=[...ZS].reverse(),fme=ZS.length;function pme(e){return t=>Promise.all(t.map(({animation:n,options:r})=>ume(e,n,r)))}function mme(e){let t=pme(e);const n=gme();let r=!0;const a=(l,c)=>{const d=Ny(e,c);if(d){const{transition:f,transitionEnd:p,...m}=d;l={...l,...m,...p}}return l};function i(l){t=l(e)}function o(l,c){const d=e.getProps(),f=e.getVariantContext(!0)||{},p=[],m=new Set;let h={},y=1/0;for(let g=0;g<fme;g++){const b=dme[g],w=n[b],S=d[b]!==void 0?d[b]:f[b],C=Zf(S),N=b===c?w.isActive:null;N===!1&&(y=g);let M=S===f[b]&&S!==d[b]&&C;if(M&&r&&e.manuallyAnimateOnMount&&(M=!1),w.protectedKeys={...h},!w.isActive&&N===null||!S&&!w.prevProp||xy(S)||typeof S=="boolean")continue;let T=hme(w.prevProp,S)||b===c&&w.isActive&&!M&&C||g>y&&C,$=!1;const E=Array.isArray(S)?S:[S];let P=E.reduce(a,{});N===!1&&(P={});const{prevResolvedValues:O={}}=w,U={...O,...P},X=ee=>{T=!0,m.has(ee)&&($=!0,m.delete(ee)),w.needsAnimating[ee]=!0};for(const ee in U){const de=P[ee],z=O[ee];if(h.hasOwnProperty(ee))continue;let B=!1;zg(de)&&zg(z)?B=!VF(de,z):B=de!==z,B?de!==void 0?X(ee):m.add(ee):de!==void 0&&m.has(ee)?X(ee):w.protectedKeys[ee]=!0}w.prevProp=S,w.prevResolvedValues=P,w.isActive&&(h={...h,...P}),r&&e.blockInitialAnimation&&(T=!1),T&&(!M||$)&&p.push(...E.map(ee=>({animation:ee,options:{type:b,...l}})))}if(m.size){const g={};m.forEach(b=>{const w=e.getBaseTarget(b);w!==void 0&&(g[b]=w)}),p.push({animation:g})}let x=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(x=!1),r=!1,x?t(p):Promise.resolve()}function s(l,c,d){var f;if(n[l].isActive===c)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var h;return(h=m.animationState)===null||h===void 0?void 0:h.setActive(l,c)}),n[l].isActive=c;const p=o(d,l);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:o,setActive:s,setAnimateFunction:i,getState:()=>n}}function hme(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!VF(t,e):!1}function Ll(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function gme(){return{animate:Ll(!0),whileInView:Ll(),whileHover:Ll(),whileTap:Ll(),whileDrag:Ll(),whileFocus:Ll(),exit:Ll()}}class yme extends Ml{constructor(t){super(t),t.animationState||(t.animationState=mme(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),xy(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let vme=0;class bme extends Ml{constructor(){super(...arguments),this.id=vme++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const xme={animation:{Feature:yme},exit:{Feature:bme}},n5=(e,t)=>Math.abs(e-t);function wme(e,t){const n=n5(e.x,t.x),r=n5(e.y,t.y);return Math.sqrt(n**2+r**2)}class xR{constructor(t,n,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Qv(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=wme(f.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:h}=f,{timestamp:y}=xa;this.history.push({...h,timestamp:y});const{onStart:x,onMove:g}=this.handlers;p||(x&&x(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Zv(p,this.transformPagePoint),nr.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:m,onSessionEnd:h,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Qv(f.type==="pointercancel"?this.lastMoveEventInfo:Zv(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,x),h&&h(f,x)},!FF(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=a||window;const o=Sy(t),s=Zv(o,this.transformPagePoint),{point:l}=s,{timestamp:c}=xa;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(t,Qv(s,this.history)),this.removeListeners=fl(ls(this.contextWindow,"pointermove",this.handlePointerMove),ls(this.contextWindow,"pointerup",this.handlePointerUp),ls(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),xs(this.updatePoint)}}function Zv(e,t){return t?{point:t(e.point)}:e}function r5(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Qv({point:e},t){return{point:e,delta:r5(e,wR(t)),offset:r5(e,kme(t)),velocity:Sme(t,.1)}}function kme(e){return e[0]}function wR(e){return e[e.length-1]}function Sme(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=wR(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>lc(t)));)n--;if(!r)return{x:0,y:0};const i=cs(a.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-r.x)/i,y:(a.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ci(e){return e.max-e.min}function gw(e,t=0,n=.01){return Math.abs(e-t)<=n}function a5(e,t,n,r=.5){e.origin=r,e.originPoint=gr(t.min,t.max,e.origin),e.scale=Ci(n)/Ci(t),(gw(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=gr(n.min,n.max,e.origin)-e.originPoint,(gw(e.translate)||isNaN(e.translate))&&(e.translate=0)}function sf(e,t,n,r){a5(e.x,t.x,n.x,r?r.originX:void 0),a5(e.y,t.y,n.y,r?r.originY:void 0)}function i5(e,t,n){e.min=n.min+t.min,e.max=e.min+Ci(t)}function Nme(e,t,n){i5(e.x,t.x,n.x),i5(e.y,t.y,n.y)}function o5(e,t,n){e.min=t.min-n.min,e.max=e.min+Ci(t)}function lf(e,t,n){o5(e.x,t.x,n.x),o5(e.y,t.y,n.y)}function jme(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?gr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?gr(n,e,r.max):Math.min(e,n)),e}function s5(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Cme(e,{top:t,left:n,bottom:r,right:a}){return{x:s5(e.x,n,a),y:s5(e.y,t,r)}}function l5(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Mme(e,t){return{x:l5(e.x,t.x),y:l5(e.y,t.y)}}function Ame(e,t){let n=.5;const r=Ci(e),a=Ci(t);return a>r?n=Jf(t.min,t.max-r,e.min):r>a&&(n=Jf(e.min,e.max-a,t.min)),yl(0,1,n)}function Eme(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const yw=.35;function Pme(e=yw){return e===!1?e=0:e===!0&&(e=yw),{x:c5(e,"left","right"),y:c5(e,"top","bottom")}}function c5(e,t,n){return{min:u5(e,t),max:u5(e,n)}}function u5(e,t){return typeof e=="number"?e:e[t]||0}const d5=()=>({translate:0,scale:1,origin:0,originPoint:0}),pu=()=>({x:d5(),y:d5()}),f5=()=>({min:0,max:0}),_r=()=>({x:f5(),y:f5()});function Ri(e){return[e("x"),e("y")]}function kR({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Tme({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Dme(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Jv(e){return e===void 0||e===1}function vw({scale:e,scaleX:t,scaleY:n}){return!Jv(e)||!Jv(t)||!Jv(n)}function Ul(e){return vw(e)||SR(e)||e.z||e.rotate||e.rotateX||e.rotateY}function SR(e){return p5(e.x)||p5(e.y)}function p5(e){return e&&e!=="0%"}function qg(e,t,n){const r=e-n,a=t*r;return n+a}function m5(e,t,n,r,a){return a!==void 0&&(e=qg(e,a,r)),qg(e,n,r)+t}function bw(e,t=0,n=1,r,a){e.min=m5(e.min,t,n,r,a),e.max=m5(e.max,t,n,r,a)}function NR(e,{x:t,y:n}){bw(e.x,t.translate,t.scale,t.originPoint),bw(e.y,n.translate,n.scale,n.originPoint)}function Ome(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let i,o;for(let s=0;s<a;s++){i=n[s],o=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&mu(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,NR(e,o)),r&&Ul(i.latestValues)&&mu(e,i.latestValues))}t.x=h5(t.x),t.y=h5(t.y)}function h5(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Ys(e,t){e.min=e.min+t,e.max=e.max+t}function g5(e,t,[n,r,a]){const i=t[a]!==void 0?t[a]:.5,o=gr(e.min,e.max,i);bw(e,t[n],t[r],o,t.scale)}const Ime=["x","scaleX","originX"],_me=["y","scaleY","originY"];function mu(e,t){g5(e.x,t,Ime),g5(e.y,t,_me)}function jR(e,t){return kR(Dme(e.getBoundingClientRect(),t))}function Lme(e,t,n){const r=jR(e,n),{scroll:a}=t;return a&&(Ys(r.x,a.offset.x),Ys(r.y,a.offset.y)),r}const CR=({current:e})=>e?e.ownerDocument.defaultView:null,Fme=new WeakMap;class Rme{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=_r(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Sy(d,"page").point)},i=(d,f)=>{const{drag:p,dragPropagation:m,onDragStart:h}=this.getProps();if(p&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=$F(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ri(x=>{let g=this.getAxisMotionValue(x).get()||0;if($o.test(g)){const{projection:b}=this.visualElement;if(b&&b.layout){const w=b.layout.layoutBox[x];w&&(g=Ci(w)*(parseFloat(g)/100))}}this.originPoint[x]=g}),h&&nr.update(()=>h(d,f),!1,!0);const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:h,onDrag:y}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:x}=f;if(m&&this.currentDirection===null){this.currentDirection=$me(x),this.currentDirection!==null&&h&&h(this.currentDirection);return}this.updateAxis("x",f.point,x),this.updateAxis("y",f.point,x),this.visualElement.render(),y&&y(d,f)},s=(d,f)=>this.stop(d,f),l=()=>Ri(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new xR(t,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:s,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:CR(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&nr.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!Bm(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=jme(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&du(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=Cme(a.layoutBox,n):this.constraints=!1,this.elastic=Pme(r),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Ri(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=Eme(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!du(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=Lme(r,a.root,this.visualElement.getTransformPagePoint());let o=Mme(a.layout.layoutBox,i);if(n){const s=n(Tme(o));this.hasMutatedConstraints=!!s,s&&(o=kR(s))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},c=Ri(d=>{if(!Bm(d,n,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const p=a?200:1e6,m=a?40:1e7,h={type:"inertia",velocity:r?t[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,h)});return Promise.all(c).then(s)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(fN(t,r,0,n))}stopAnimation(){Ri(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ri(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps();return r[n]||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ri(n=>{const{drag:r}=this.getProps();if(!Bm(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(n);if(a&&a.layout){const{min:o,max:s}=a.layout.layoutBox[n];i.set(t[n]-gr(o,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!du(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Ri(o=>{const s=this.getAxisMotionValue(o);if(s){const l=s.get();a[o]=Ame({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ri(o=>{if(!Bm(o,t,null))return;const s=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];s.set(gr(l,c,a[o]))})}addListeners(){if(!this.visualElement.current)return;Fme.set(this.visualElement,this);const t=this.visualElement.current,n=ls(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();du(l)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),r();const o=as(window,"resize",()=>this.scalePositionWithinConstraints()),s=a.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Ri(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=yw,dragMomentum:s=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:s}}}function Bm(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function $me(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Bme extends Ml{constructor(t){super(t),this.removeGroupControls=Dr,this.removeListeners=Dr,this.controls=new Rme(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Dr}unmount(){this.removeGroupControls(),this.removeListeners()}}const y5=e=>(t,n)=>{e&&nr.update(()=>e(t,n))};class zme extends Ml{constructor(){super(...arguments),this.removePointerDownListener=Dr}onPointerDown(t){this.session=new xR(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:CR(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:y5(t),onStart:y5(n),onMove:r,onEnd:(i,o)=>{delete this.session,a&&nr.update(()=>a(i,o))}}}mount(){this.removePointerDownListener=ls(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Vme(){const e=v.useContext(GS);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,a=v.useId();return v.useEffect(()=>r(a),[]),!t&&n?[!1,()=>n&&n(a)]:[!0]}const fh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function v5(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const _d={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ut.test(e))e=parseFloat(e);else return e;const n=v5(e,t.target.x),r=v5(e,t.target.y);return`${n}% ${r}%`}},Ume={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=vl.parse(e);if(a.length>5)return r;const i=vl.createTransformer(e),o=typeof a[0]!="number"?1:0,s=n.x.scale*t.x,l=n.y.scale*t.y;a[0+o]/=s,a[1+o]/=l;const c=gr(s,l,.5);return typeof a[2+o]=="number"&&(a[2+o]/=c),typeof a[3+o]=="number"&&(a[3+o]/=c),i(a)}};class Wme extends Yg.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:i}=t;Xde(Hme),i&&(n.group&&n.group.add(i),r&&r.register&&a&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),fh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,a||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||nr.postRender(()=>{const s=o.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function MR(e){const[t,n]=Vme(),r=v.useContext(kF);return Yg.createElement(Wme,{...e,layoutGroup:r,switchLayoutGroup:v.useContext(SF),isPresent:t,safeToRemove:n})}const Hme={borderRadius:{..._d,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_d,borderTopRightRadius:_d,borderBottomLeftRadius:_d,borderBottomRightRadius:_d,boxShadow:Ume},AR=["TopLeft","TopRight","BottomLeft","BottomRight"],qme=AR.length,b5=e=>typeof e=="string"?parseFloat(e):e,x5=e=>typeof e=="number"||Ut.test(e);function Kme(e,t,n,r,a,i){a?(e.opacity=gr(0,n.opacity!==void 0?n.opacity:1,Yme(r)),e.opacityExit=gr(t.opacity!==void 0?t.opacity:1,0,Gme(r))):i&&(e.opacity=gr(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<qme;o++){const s=`border${AR[o]}Radius`;let l=w5(t,s),c=w5(n,s);l===void 0&&c===void 0||(l||(l=0),c||(c=0),l===0||c===0||x5(l)===x5(c)?(e[s]=Math.max(gr(b5(l),b5(c),r),0),($o.test(c)||$o.test(l))&&(e[s]+="%")):e[s]=c)}(t.rotate||n.rotate)&&(e.rotate=gr(t.rotate||0,n.rotate||0,r))}function w5(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Yme=ER(0,.5,ZF),Gme=ER(.5,.95,Dr);function ER(e,t,n){return r=>r<e?0:r>t?1:n(Jf(e,t,r))}function k5(e,t){e.min=t.min,e.max=t.max}function _i(e,t){k5(e.x,t.x),k5(e.y,t.y)}function S5(e,t,n,r,a){return e-=t,e=qg(e,1/n,r),a!==void 0&&(e=qg(e,1/a,r)),e}function Xme(e,t=0,n=1,r=.5,a,i=e,o=e){if($o.test(t)&&(t=parseFloat(t),t=gr(o.min,o.max,t/100)-o.min),typeof t!="number")return;let s=gr(i.min,i.max,r);e===i&&(s-=t),e.min=S5(e.min,t,n,s,a),e.max=S5(e.max,t,n,s,a)}function N5(e,t,[n,r,a],i,o){Xme(e,t[n],t[r],t[a],t.scale,i,o)}const Zme=["x","scaleX","originX"],Qme=["y","scaleY","originY"];function j5(e,t,n,r){N5(e.x,t,Zme,n?n.x:void 0,r?r.x:void 0),N5(e.y,t,Qme,n?n.y:void 0,r?r.y:void 0)}function C5(e){return e.translate===0&&e.scale===1}function PR(e){return C5(e.x)&&C5(e.y)}function Jme(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function TR(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function M5(e){return Ci(e.x)/Ci(e.y)}class ehe{constructor(){this.members=[]}add(t){pN(this.members,t),t.scheduleRender()}remove(t){if(mN(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function A5(e,t,n){let r="";const a=e.x.translate/t.x,i=e.y.translate/t.y;if((a||i)&&(r=`translate3d(${a}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:c,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,s=e.y.scale*t.y;return(o!==1||s!==1)&&(r+=`scale(${o}, ${s})`),r||"none"}const the=(e,t)=>e.depth-t.depth;class nhe{constructor(){this.children=[],this.isDirty=!1}add(t){pN(this.children,t),this.isDirty=!0}remove(t){mN(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(the),this.isDirty=!1,this.children.forEach(t)}}function rhe(e,t){const n=performance.now(),r=({timestamp:a})=>{const i=a-n;i>=t&&(xs(r),e(i-t))};return nr.read(r,!0),()=>xs(r)}function ahe(e){window.MotionDebug&&window.MotionDebug.record(e)}function ihe(e){return e instanceof SVGElement&&e.tagName!=="svg"}function ohe(e,t,n){const r=ii(e)?e:Wu(e);return r.start(fN("",r,t,n)),r.animation}const E5=["","X","Y","Z"],she={visibility:"hidden"},P5=1e3;let lhe=0;const Wl={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function DR({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(i={},o=t==null?void 0:t()){this.id=lhe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Wl.totalNodes=Wl.resolvedTargetDeltas=Wl.recalculatedProjection=0,this.nodes.forEach(dhe),this.nodes.forEach(ghe),this.nodes.forEach(yhe),this.nodes.forEach(fhe),ahe(Wl)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let s=0;s<this.path.length;s++)this.path[s].shouldResetTransform=!0;this.root===this&&(this.nodes=new nhe)}addEventListener(i,o){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new hN),this.eventHandlers.get(i).add(o)}notifyListeners(i,...o){const s=this.eventHandlers.get(i);s&&s.notify(...o)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=ihe(i),this.instance=i;const{layoutId:s,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(l||s)&&(this.isLayoutDirty=!0),e){let d;const f=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=rhe(f,250),fh.hasAnimatedSinceResize&&(fh.hasAnimatedSinceResize=!1,this.nodes.forEach(D5))})}s&&this.root.registerSharedNode(s,this),this.options.animate!==!1&&c&&(s||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const h=this.options.transition||c.getDefaultTransition()||khe,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=c.getProps(),g=!this.targetLayout||!TR(this.targetLayout,m)||p,b=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||f&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,b);const w={...dN(h,"layout"),onPlay:y,onComplete:x};(c.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else f||D5(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,xs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(vhe),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:s}=this.options;if(o===void 0&&!s)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(T5);return}this.isUpdating||this.nodes.forEach(mhe),this.isUpdating=!1,this.nodes.forEach(hhe),this.nodes.forEach(che),this.nodes.forEach(uhe),this.clearAllSnapshots();const i=performance.now();xa.delta=yl(0,1e3/60,i-xa.timestamp),xa.timestamp=i,xa.isProcessing=!0,Uv.update.process(xa),Uv.preRender.process(xa),Uv.render.process(xa),xa.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(phe),this.sharedNodes.forEach(bhe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,nr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){nr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let s=0;s<this.path.length;s++)this.path[s].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=_r(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!a)return;const i=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!PR(this.projectionDelta),s=this.getTransformTemplate(),l=s?s(this.latestValues,""):void 0,c=l!==this.prevTransformTemplateValue;i&&(o||Ul(this.latestValues)||c)&&(a(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const o=this.measurePageBox();let s=this.removeElementScroll(o);return i&&(s=this.removeTransform(s)),She(s),{animationId:this.root.animationId,measuredBox:o,layoutBox:s,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return _r();const o=i.measureViewportBox(),{scroll:s}=this.root;return s&&(Ys(o.x,s.offset.x),Ys(o.y,s.offset.y)),o}removeElementScroll(i){const o=_r();_i(o,i);for(let s=0;s<this.path.length;s++){const l=this.path[s],{scroll:c,options:d}=l;if(l!==this.root&&c&&d.layoutScroll){if(c.isRoot){_i(o,i);const{scroll:f}=this.root;f&&(Ys(o.x,-f.offset.x),Ys(o.y,-f.offset.y))}Ys(o.x,c.offset.x),Ys(o.y,c.offset.y)}}return o}applyTransform(i,o=!1){const s=_r();_i(s,i);for(let l=0;l<this.path.length;l++){const c=this.path[l];!o&&c.options.layoutScroll&&c.scroll&&c!==c.root&&mu(s,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Ul(c.latestValues)&&mu(s,c.latestValues)}return Ul(this.latestValues)&&mu(s,this.latestValues),s}removeTransform(i){const o=_r();_i(o,i);for(let s=0;s<this.path.length;s++){const l=this.path[s];if(!l.instance||!Ul(l.latestValues))continue;vw(l.latestValues)&&l.updateSnapshot();const c=_r(),d=l.measurePageBox();_i(c,d),j5(o,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,c)}return Ul(this.latestValues)&&j5(o,this.latestValues),o}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xa.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var o;const s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==s;if(!(i||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:c,layoutId:d}=this.options;if(!(!this.layout||!(c||d))){if(this.resolvedRelativeTargetAt=xa.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_r(),this.relativeTargetOrigin=_r(),lf(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),_i(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=_r(),this.targetWithTransforms=_r()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Nme(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_i(this.target,this.layout.layoutBox),NR(this.target,this.targetDelta)):_i(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_r(),this.relativeTargetOrigin=_r(),lf(this.relativeTargetOrigin,this.target,f.target),_i(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Wl.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||vw(this.parent.latestValues)||SR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const o=this.getLead(),s=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(l=!1),s&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===xa.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;_i(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;Ome(this.layoutCorrected,this.treeScale,this.path,s),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:m}=o;if(!m){this.projectionTransform&&(this.projectionDelta=pu(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=pu(),this.projectionDeltaWithTransform=pu());const h=this.projectionTransform;sf(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=A5(this.projectionDelta,this.treeScale),(this.projectionTransform!==h||this.treeScale.x!==f||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),Wl.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,o=!1){const s=this.snapshot,l=s?s.latestValues:{},c={...this.latestValues},d=pu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=_r(),p=s?s.source:void 0,m=this.layout?this.layout.source:void 0,h=p!==m,y=this.getStack(),x=!y||y.members.length<=1,g=!!(h&&!x&&this.options.crossfade===!0&&!this.path.some(whe));this.animationProgress=0;let b;this.mixTargetDelta=w=>{const S=w/1e3;O5(d.x,i.x,S),O5(d.y,i.y,S),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(lf(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),xhe(this.relativeTarget,this.relativeTargetOrigin,f,S),b&&Jme(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=_r()),_i(b,this.relativeTarget)),h&&(this.animationValues=c,Kme(c,l,this.latestValues,S,g,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(xs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=nr.update(()=>{fh.hasAnimatedSinceResize=!0,this.currentAnimation=ohe(0,P5,{...i,onUpdate:o=>{this.mixTargetDelta(o),i.onUpdate&&i.onUpdate(o)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(P5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:o,target:s,layout:l,latestValues:c}=i;if(!(!o||!s||!l)){if(this!==i&&this.layout&&l&&OR(this.options.animationType,this.layout.layoutBox,l.layoutBox)){s=this.target||_r();const d=Ci(this.layout.layoutBox.x);s.x.min=i.target.x.min,s.x.max=s.x.min+d;const f=Ci(this.layout.layoutBox.y);s.y.min=i.target.y.min,s.y.max=s.y.min+f}_i(o,s),mu(o,c),sf(this.projectionDeltaWithTransform,this.layoutCorrected,o,c)}}registerSharedNode(i,o){this.sharedNodes.has(i)||this.sharedNodes.set(i,new ehe),this.sharedNodes.get(i).add(o);const s=o.options.initialPromotionConfig;o.promote({transition:s?s.transition:void 0,preserveFollowOpacity:s&&s.shouldPreserveFollowOpacity?s.shouldPreserveFollowOpacity(o):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:o}=this.options;return o?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:o}=this.options;return o?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:o,preserveFollowOpacity:s}={}){const l=this.getStack();l&&l.promote(this,s),i&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetRotation(){const{visualElement:i}=this.options;if(!i)return;let o=!1;const{latestValues:s}=i;if((s.rotate||s.rotateX||s.rotateY||s.rotateZ)&&(o=!0),!o)return;const l={};for(let c=0;c<E5.length;c++){const d="rotate"+E5[c];s[d]&&(l[d]=s[d],i.setStaticValue(d,0))}i.render();for(const c in l)i.setStaticValue(c,l[c]);i.scheduleRender()}getProjectionStyles(i){var o,s;if(!this.instance||this.isSVG)return;if(!this.isVisible)return she;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=dh(i==null?void 0:i.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const h={};return this.options.layoutId&&(h.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,h.pointerEvents=dh(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!Ul(this.latestValues)&&(h.transform=c?c({},""):"none",this.hasProjected=!1),h}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),l.transform=A5(this.projectionDeltaWithTransform,this.treeScale,f),c&&(l.transform=c(f,l.transform));const{x:p,y:m}=this.projectionDelta;l.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,d.animationValues?l.opacity=d===this?(s=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&s!==void 0?s:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:l.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const h in $g){if(f[h]===void 0)continue;const{correct:y,applyTo:x}=$g[h],g=l.transform==="none"?f[h]:y(f[h],d);if(x){const b=x.length;for(let w=0;w<b;w++)l[x[w]]=g}else l[h]=g}return this.options.layoutId&&(l.pointerEvents=d===this?dh(i==null?void 0:i.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var o;return(o=i.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(T5),this.root.sharedNodes.clear()}}}function che(e){e.updateLayout()}function uhe(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?Ri(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=Ci(p);p.min=r[f].min,p.max=p.min+m}):OR(i,n.layoutBox,r)&&Ri(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=Ci(r[f]);p.max=p.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const s=pu();sf(s,r,n.layoutBox);const l=pu();o?sf(l,e.applyTransform(a,!0),n.measuredBox):sf(l,r,n.layoutBox);const c=!PR(s);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const h=_r();lf(h,n.layoutBox,p.layoutBox);const y=_r();lf(y,r,m.layoutBox),TR(h,y)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=h,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:s,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function dhe(e){Wl.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function fhe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function phe(e){e.clearSnapshot()}function T5(e){e.clearMeasurements()}function mhe(e){e.isLayoutDirty=!1}function hhe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function D5(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function ghe(e){e.resolveTargetDelta()}function yhe(e){e.calcProjection()}function vhe(e){e.resetRotation()}function bhe(e){e.removeLeadSnapshot()}function O5(e,t,n){e.translate=gr(t.translate,0,n),e.scale=gr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function I5(e,t,n,r){e.min=gr(t.min,n.min,r),e.max=gr(t.max,n.max,r)}function xhe(e,t,n,r){I5(e.x,t.x,n.x,r),I5(e.y,t.y,n.y,r)}function whe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const khe={duration:.45,ease:[.4,0,.1,1]},_5=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),L5=_5("applewebkit/")&&!_5("chrome/")?Math.round:Dr;function F5(e){e.min=L5(e.min),e.max=L5(e.max)}function She(e){F5(e.x),F5(e.y)}function OR(e,t,n){return e==="position"||e==="preserve-aspect"&&!gw(M5(t),M5(n),.2)}const Nhe=DR({attachResizeListener:(e,t)=>as(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),eb={current:void 0},IR=DR({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!eb.current){const e=new Nhe({});e.mount(window),e.setOptions({layoutScroll:!0}),eb.current=e}return eb.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),jhe={pan:{Feature:zme},drag:{Feature:Bme,ProjectionNode:IR,MeasureLayout:MR}},Che=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Mhe(e){const t=Che.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function xw(e,t,n=1){const[r,a]=Mhe(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return gR(o)?parseFloat(o):o}else return cw(a)?xw(a,t,n+1):a}function Ahe(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(a=>{const i=a.get();if(!cw(i))return;const o=xw(i,r);o&&a.set(o)});for(const a in t){const i=t[a];if(!cw(i))continue;const o=xw(i,r);o&&(t[a]=o,n||(n={}),n[a]===void 0&&(n[a]=i))}return{target:t,transitionEnd:n}}const Ehe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),_R=e=>Ehe.has(e),Phe=e=>Object.keys(e).some(_R),R5=e=>e===Tc||e===Ut,$5=(e,t)=>parseFloat(e.split(", ")[t]),B5=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const a=r.match(/^matrix3d\((.+)\)$/);if(a)return $5(a[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?$5(i[1],e):0}},The=new Set(["x","y","z"]),Dhe=$p.filter(e=>!The.has(e));function Ohe(e){const t=[];return Dhe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Hu={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:B5(4,13),y:B5(5,14)};Hu.translateX=Hu.x;Hu.translateY=Hu.y;const Ihe=(e,t,n)=>{const r=t.measureViewportBox(),a=t.current,i=getComputedStyle(a),{display:o}=i,s={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(c=>{s[c]=Hu[c](r,i)}),t.render();const l=t.measureViewportBox();return n.forEach(c=>{const d=t.getValue(c);d&&d.jump(s[c]),e[c]=Hu[c](l,i)}),e},_he=(e,t,n={},r={})=>{t={...t},r={...r};const a=Object.keys(t).filter(_R);let i=[],o=!1;const s=[];if(a.forEach(l=>{const c=e.getValue(l);if(!e.hasValue(l))return;let d=n[l],f=Id(d);const p=t[l];let m;if(zg(p)){const h=p.length,y=p[0]===null?1:0;d=p[y],f=Id(d);for(let x=y;x<h&&p[x]!==null;x++)m?oN(Id(p[x])===m):m=Id(p[x])}else m=Id(p);if(f!==m)if(R5(f)&&R5(m)){const h=c.get();typeof h=="string"&&c.set(parseFloat(h)),typeof p=="string"?t[l]=parseFloat(p):Array.isArray(p)&&m===Ut&&(t[l]=p.map(parseFloat))}else f!=null&&f.transform&&m!=null&&m.transform&&(d===0||p===0)?d===0?c.set(m.transform(d)):t[l]=f.transform(p):(o||(i=Ohe(e),o=!0),s.push(l),r[l]=r[l]!==void 0?r[l]:t[l],c.jump(p))}),s.length){const l=s.indexOf("height")>=0?window.pageYOffset:null,c=Ihe(t,e,s);return i.length&&i.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),by&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:t,transitionEnd:r}};function Lhe(e,t,n,r){return Phe(t)?_he(e,t,n,r):{target:t,transitionEnd:r}}const Fhe=(e,t,n,r)=>{const a=Ahe(e,t,r);return t=a.target,r=a.transitionEnd,Lhe(e,t,n,r)},ww={current:null},LR={current:!1};function Rhe(){if(LR.current=!0,!!by)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ww.current=e.matches;e.addListener(t),t()}else ww.current=!1}function $he(e,t,n){const{willChange:r}=t;for(const a in t){const i=t[a],o=n[a];if(ii(i))e.addValue(a,i),Hg(r)&&r.add(a);else if(ii(o))e.addValue(a,Wu(i,{owner:e})),Hg(r)&&r.remove(a);else if(o!==i)if(e.hasValue(a)){const s=e.getValue(a);!s.hasAnimated&&s.set(i)}else{const s=e.getStaticValue(a);e.addValue(a,Wu(s!==void 0?s:i,{owner:e}))}}for(const a in n)t[a]===void 0&&e.removeValue(a);return t}const z5=new WeakMap,FR=Object.keys(Qf),Bhe=FR.length,V5=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],zhe=QS.length;class Vhe{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>nr.render(this.render,!1,!0);const{latestValues:s,renderState:l}=i;this.latestValues=s,this.baseTarget={...s},this.initialValues=n.initial?{...s}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.isControllingVariants=wy(n),this.isVariantNode=wF(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const p=d[f];s[f]!==void 0&&ii(p)&&(p.set(s[f],!1),Hg(c)&&c.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,z5.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),LR.current||Rhe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ww.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){z5.delete(this.current),this.projection&&this.projection.unmount(),xs(this.notifyUpdate),xs(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Pc.has(t),a=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&nr.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{a(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,a,i){let o,s;for(let l=0;l<Bhe;l++){const c=FR[l],{isEnabled:d,Feature:f,ProjectionNode:p,MeasureLayout:m}=Qf[c];p&&(o=p),d(n)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),m&&(s=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:d,dragConstraints:f,layoutScroll:p,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!d||f&&du(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:m})}return s}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):_r()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<V5.length;r++){const a=V5[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i=t["on"+a];i&&(this.propEventSubscriptions[a]=this.on(a,i))}this.prevMotionValues=$he(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<zhe;r++){const a=QS[r],i=this.props[a];(Zf(i)||i===!1)&&(n[a]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Wu(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,a=typeof r=="string"||typeof r=="object"?(n=iN(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!ii(i)?i:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new hN),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class RR extends Vhe{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:a},i){let o=ime(r,t||{},this);if(a&&(n&&(n=a(n)),r&&(r=a(r)),o&&(o=a(o))),i){rme(this,r,o);const s=Fhe(this,r,o,n);n=s.transitionEnd,r=s.target}return{transition:t,transitionEnd:n,...r}}}function Uhe(e){return window.getComputedStyle(e)}class Whe extends RR{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Pc.has(n)){const r=uN(n);return r&&r.default||0}else{const r=Uhe(t),a=(CF(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return jR(t,n)}build(t,n,r,a){eN(t,n,r,a.transformTemplate)}scrapeMotionValuesFromProps(t,n){return aN(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ii(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,a){DF(t,n,r,a)}}class Hhe extends RR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Pc.has(n)){const r=uN(n);return r&&r.default||0}return n=OF.has(n)?n:XS(n),t.getAttribute(n)}measureInstanceViewportBox(){return _r()}scrapeMotionValuesFromProps(t,n){return _F(t,n)}build(t,n,r,a){nN(t,n,r,this.isSVGTag,a.transformTemplate)}renderInstance(t,n,r,a){IF(t,n,r,a)}mount(t){this.isSVGTag=rN(t.tagName),super.mount(t)}}const qhe=(e,t)=>JS(e)?new Hhe(t,{enableHardwareAcceleration:!1}):new Whe(t,{enableHardwareAcceleration:!0}),Khe={layout:{ProjectionNode:IR,MeasureLayout:MR}},Yhe={...xme,...Bfe,...jhe,...Khe},Po=Yde((e,t)=>Mfe(e,t,Yhe,qhe));function Ghe({isOpen:e,onClose:t,searchValue:n,searchFocused:r,searchResults:a,onSearchChange:i,onSearchFocus:o,onSearchBlur:s,onSearchEnter:l,onSearchResultMouseDown:c,renderHighlightedMatch:d,searchRef:f,tocItems:p,activeTocId:m,onTocClick:h,contentRef:y,children:x}){return e?u.jsx("div",{className:"app-modal-overlay fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-lg",onClick:g=>g.target===g.currentTarget&&t(),children:u.jsxs("div",{className:"app-modal-card proof-of-work-modal relative w-full max-w-4xl bg-[#10151b]/95 border border-white/10 rounded-xl shadow-[0_20px_60px_rgba(0,0,0,0.55)] p-6 overflow-hidden",children:[u.jsxs("div",{className:"pointer-events-none absolute inset-0 opacity-60",children:[u.jsx("div",{className:"absolute -top-24 -right-24 h-56 w-56 rounded-full bg-cyan-500/8 blur-3xl"}),u.jsx("div",{className:"absolute -bottom-24 -left-16 h-64 w-64 rounded-full bg-slate-500/10 blur-3xl"})]}),u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-cyan-300/70",children:"Proof of Work"}),u.jsx("div",{className:"text-xl font-semibold text-white mt-1",children:"Metrics Specification"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"relative",ref:f,children:[u.jsx("input",{type:"text",value:n,onChange:g=>i(g.target.value),onFocus:o,onBlur:g=>s(g.relatedTarget),onKeyDown:g=>{g.key==="Enter"&&l()},placeholder:"Search spec...",className:"proof-of-work-search w-56 rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/30"}),r&&a.length>0&&n.trim().length>=2&&u.jsx("div",{className:"proof-of-work-search-results absolute right-0 mt-2 w-80 max-h-64 overflow-y-auto rounded-lg border border-white/10 bg-[#0d1218]/95 shadow-2xl z-10",children:a.map((g,b)=>u.jsxs("button",{className:"w-full text-left px-3 py-2 text-xs text-gray-200 hover:bg-white/10 border-b border-white/5 last:border-b-0",onMouseDown:w=>{w.preventDefault(),c(g)},children:[u.jsx("div",{className:"text-[10px] uppercase tracking-wide text-gray-500 mb-1",children:g.section}),u.jsx("div",{className:"truncate",children:d(g.text,n)})]},`${g.hitId}-${b}-${g.text}`))})]}),u.jsx("button",{onClick:t,className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":"Close proof of work",children:u.jsx(Wa,{className:"w-5 h-5"})})]})]}),u.jsx("div",{className:"h-[65vh]",children:u.jsxs("div",{className:"grid grid-cols-[230px_1fr] gap-4 h-full min-h-0",children:[u.jsxs("div",{className:"proof-of-work-sidebar h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-white/5 p-3",children:[u.jsx("div",{className:"proof-of-work-toc-header text-[10px] uppercase tracking-[0.3em] text-gray-400 mb-2",children:"On This Page"}),u.jsxs("div",{className:"space-y-1",children:[p.length===0&&u.jsx("div",{className:"px-2 py-1 text-[11px] text-gray-500",children:"Loading sections"}),p.map((g,b)=>{const w=g.id===m;return u.jsxs("button",{"data-toc-active":w?"true":"false",className:`proof-of-work-toc-item ${g.level===1?"proof-of-work-toc-item--l1":g.level===2?"proof-of-work-toc-item--l2":"proof-of-work-toc-item--l3"} w-full text-left flex items-center gap-2 min-w-0 transition-colors ${w?"proof-of-work-toc-item--active !text-cyan-300 hover:!text-cyan-300":g.level===1?"text-white hover:text-white":"text-gray-400 hover:text-gray-200"}`,onClick:()=>h(g),children:[u.jsx("span",{className:`proof-of-work-toc-dot ${w?"!bg-cyan-300":""}`,"aria-hidden":"true"}),u.jsx("span",{className:"proof-of-work-toc-label text-[13px] font-medium truncate min-w-0",children:g.text})]},`${g.id}-${g.level}-${b}`)})]})]}),u.jsx("div",{className:"proof-of-work-content h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-black/30 p-4",ref:y,id:"metrics-spec-content",children:u.jsx("div",{className:"space-y-4 text-sm text-gray-200",children:x})})]})})]})}):null}const Fl="border border-white/10 rounded-2xl shadow-xl backdrop-blur-md glass-card",tb="arcbridge_web_theme_override",U5="__default__",Xhe=e=>{if(typeof document>"u")return null;const t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=document.cookie.match(new RegExp(`(?:^|; )${t}=([^;]*)`));if(!n)return null;try{return decodeURIComponent(n[1])}catch{return n[1]}},Zhe=(e,t,n=365)=>{if(typeof document>"u")return;const r=Math.max(0,Math.floor(n*24*60*60));document.cookie=`${e}=${encodeURIComponent(t)}; Max-Age=${r}; Path=/; SameSite=Lax`},Qhe=e=>{typeof document>"u"||(document.cookie=`${e}=; Max-Age=0; Path=/; SameSite=Lax`)},W5=(e,t)=>{try{const n=new Date(e),r=new Date(t);return Number.isNaN(n.getTime())||Number.isNaN(r.getTime())?"":`${n.toLocaleString()} - ${r.toLocaleString()}`}catch{return""}},Jhe=e=>{const t=new Date(e);if(Number.isNaN(t.getTime()))return"Raid";const n=`${t.getMonth()+1}/${t.getDate()}/${String(t.getFullYear()).slice(-2)}`,r=t.toLocaleDateString(void 0,{weekday:"long"}),a=t.getHours();let i="Night";return a>=5&&a<12?i="Morning":a>=12&&a<17?i="Afternoon":a>=17&&a<21&&(i="Evening"),`${n} - ${r} ${i} Raid`},H5=e=>e.toLowerCase().trim().replace(/\[(.*?)\]\(.*?\)/g,"$1").replace(/`([^`]+)`/g,"$1").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),ege=({slices:e})=>{const t=2*Math.PI*18,n=e.reduce((a,i)=>a+(i.value||0),0);let r=0;return u.jsxs("svg",{className:"report-mini-donut",width:"48",height:"48",viewBox:"0 0 48 48",children:[u.jsx("circle",{cx:"24",cy:"24",r:18,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),e.map((a,i)=>{const o=a.value||0,s=n>0?o/n*t:0,l=`${s} ${t-s}`,c=t-r;return r+=s,u.jsx("circle",{cx:"24",cy:"24",r:18,stroke:a.color,strokeWidth:"6",fill:"none",strokeLinecap:"butt",strokeDasharray:l,strokeDashoffset:c,transform:"rotate(-90 24 24)"},`${i}-${a.color}`)})]})},tge=({value:e})=>{const t=typeof e=="number"?Math.min(Math.max(e,0),1):null,n=18,r=2*Math.PI*n,a=t===null?r:r-t*r;return u.jsxs("svg",{className:"report-mini-donut",width:"48",height:"48",viewBox:"0 0 48 48",children:[u.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),u.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(16,185,129,0.9)",strokeWidth:"6",fill:"none",strokeLinecap:"round",strokeDasharray:r,strokeDashoffset:a,transform:"rotate(-90 24 24)"}),u.jsx("text",{x:"24",y:"27",textAnchor:"middle",fontSize:"10",fill:"#e2e8f0",children:t===null?"--":`${Math.round(t*100)}%`})]})};function nge(){var e;const[t,n]=v.useState(null),[r,a]=v.useState(null),[i,o]=v.useState(null),[s,l]=v.useState(null),[c,d]=v.useState(""),[f,p]=v.useState(null),[m,h]=v.useState(null),[y,x]=v.useState(!1),[g,b]=v.useState(!1),[w,S]=v.useState("classic"),[C,N]=v.useState("classic"),[M,T]=v.useState(lh.id),[$,E]=v.useState(null),[P,O]=v.useState(!1),[U,X]=v.useState(!1),[ee,de]=v.useState(""),[z,B]=v.useState(""),[ie,k]=v.useState([]),[I,A]=v.useState(!1),[j,L]=v.useState("overview"),[q,Q]=v.useState("kdr"),[G,W]=v.useState({overview:!0,roster:!1,offense:!1,defense:!1,other:!1}),_=v.useRef(null),te=v.useRef(null),re=v.useRef(null),F=v.useRef(null),ae=v.useRef(null),H=v.useRef(new Map),R=v.useRef(null),oe=v.useRef(null),be=v.useMemo(()=>{let K=window.location.pathname||"/";const he=/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host);return K.endsWith("/index.html")&&(K=K.slice(0,-11)),K.includes("/reports/")&&(K=K.replace(/\/reports\/[^/]+\/?$/,"")),he&&(K=K.replace(/^\/web\/web(?=\/|$)/,"/web")),K.endsWith("/")||(K=`${K}/`),K},[]),et=v.useMemo(()=>/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/"),[]),ue=v.useMemo(()=>{const K=[be,"./","/"],he=[];return K.forEach(Se=>{let Qe=Se||"/";Qe!=="./"&&!Qe.endsWith("/")&&(Qe=`${Qe}/`),he.includes(Qe)||he.push(Qe)}),he},[be,et]),[He,Be]=v.useState(ue[0]||"/"),yt=K=>{var he;return typeof K=="string"||typeof K=="number"?String(K):Array.isArray(K)?K.map(yt).join(""):K&&typeof K=="object"&&"props"in K?yt((he=K.props)==null?void 0:he.children):""},Xt=K=>{const he=H5(K||"section")||"section",Se=H.current,Qe=(Se.get(he)??0)+1;return Se.set(he,Qe),Qe===1?he:`${he}-${Qe}`},Mn=v.useMemo(()=>{const K=Vv.split(`
`),he=new Map,Se=[],Qe=Rt=>{const Ct=H5(Rt||"section")||"section",ot=(he.get(Ct)??0)+1;return he.set(Ct,ot),ot===1?Ct:`${Ct}-${ot}`};for(const Rt of K){const Ct=/^(#{1,3})\s+(.*)\s*$/.exec(Rt);if(!Ct)continue;const ot=Ct[1].length,ln=Ct[2].trim();ln&&Se.push({level:ot,text:ln,id:Qe(ln)})}return Se},[Vv]),On=(K,he)=>{const Se=K==="./"?"./":K.endsWith("/")?K:`${K}/`,Qe=String(he||"").replace(/^\/+/,"");return`${Se}${Qe}`};v.useEffect(()=>{const K=Xhe(tb);if(K)try{const he=JSON.parse(K),Se=typeof(he==null?void 0:he.themeId)=="string"?he.themeId:null;Se&&Td.some(Qe=>Qe.id===Se)&&E(Se)}catch{}},[]),v.useEffect(()=>{const K=$||M,he=Td.find(Se=>Se.id===K)||lh;p(he)},[$,M]),v.useEffect(()=>{if(!$){S(C);return}if($===oh){S("matte");return}if($===sh||$===Vd){S("kinetic");return}if($==="CRT"){S("crt");return}S(C)},[$,C]),v.useEffect(()=>{Be(ue[0]||"/");let K=!0;return(async()=>{for(const he of ue)try{if((await fetch(On(he,"ui-theme.json"),{cache:"no-store"})).ok){K&&Be(he);return}}catch{}})(),()=>{K=!1}},[ue]);const ge=(K,he)=>{const Se=he.trim();if(!Se)return K;const Qe=K.toLowerCase(),Rt=Se.toLowerCase(),Ct=Qe.indexOf(Rt);if(Ct===-1)return K;const ot=K.slice(0,Ct),ln=K.slice(Ct,Ct+Se.length),mn=K.slice(Ct+Se.length);return u.jsxs(u.Fragment,{children:[ot,u.jsx("mark",{className:"rounded bg-cyan-500/30 px-1 text-cyan-100",children:ln}),mn]})},Fe=(K,he)=>{const Se=te.current;if(!Se)return;let Qe=Se.querySelector(`[data-search-hit="${K}"]`);if(!Qe&&he){const Rt=he.trim().replace(/\s+/g," "),Ct=Array.from(Se.querySelectorAll("h1, h2, h3, p, li, code"));Qe=Ct.find(ot=>(ot.textContent||"").trim().replace(/\s+/g," ")===Rt)||null,Qe||(Qe=Ct.find(ot=>(ot.textContent||"").toLowerCase().includes(Rt.toLowerCase()))||null)}Qe&&requestAnimationFrame(()=>{const Rt=Se.getBoundingClientRect(),Ct=Qe.getBoundingClientRect(),ot=Math.max(0,Se.scrollTop+(Ct.top-Rt.top)-12);Se.scrollTop=ot,Qe.classList.add("ring-2","ring-cyan-400/70","bg-cyan-500/10"),ae.current&&window.clearTimeout(ae.current),ae.current=window.setTimeout(()=>{Qe.classList.remove("ring-2","ring-cyan-400/70","bg-cyan-500/10")},1600)})},Dt=K=>{const he=te.current,Se=K.trim().toLowerCase();if(!he||Se.length<2){k([]);return}const Qe=Array.from(he.querySelectorAll("h1, h2, h3, p, li, code"));Qe.forEach(ot=>ot.removeAttribute("data-search-hit"));const Rt=[];let Ct=0;Qe.forEach((ot,ln)=>{const mn=(ot.textContent||"").trim();if(mn&&mn.toLowerCase().includes(Se)){let Ar="";for(let fr=ln;fr>=0;fr-=1){const Re=Qe[fr];if(Re&&["H1","H2","H3"].includes(Re.tagName)){Ar=(Re.textContent||"").trim();break}}ot.setAttribute("data-search-hit",String(Ct)),Rt.push({index:ln,text:mn,section:Ar||"Unlabeled Section",hitId:Ct}),Ct+=1}}),k(Rt.slice(0,12))};v.useEffect(()=>{var K;if(!U)return;de(((K=Mn[0])==null?void 0:K.id)||"");const he=Se=>{var Qe;const Rt=Se.target;Rt&&((Qe=re.current)!=null&&Qe.contains(Rt)||(A(!1),k([])))};return window.addEventListener("mousedown",he),()=>{window.removeEventListener("mousedown",he)}},[U,Mn]),v.useEffect(()=>{if(!U){de("");return}const K=te.current;if(!K)return;let he=0;const Se=()=>{var Rt;const Ct=Array.from(K.querySelectorAll("[data-heading-id]"));if(Ct.length===0)return;const ot=K.getBoundingClientRect().top+18,ln=Ct.map((Kt,en)=>({index:en,id:Kt.dataset.headingId||Kt.id||"",top:Kt.getBoundingClientRect().top})).filter(Kt=>!!Kt.id);if(ln.length===0)return;let mn=0,Ar=!1;for(const Kt of ln){if(Kt.top<=ot){mn=Kt.index,Ar=!0;continue}Ar||(mn=Kt.index);break}K.scrollTop+K.clientHeight>=K.scrollHeight-2&&(mn=Math.max(0,ln.length-1));const fr=Mn[mn],Re=((Rt=ln[mn])==null?void 0:Rt.id)||"",tt=(fr==null?void 0:fr.id)||Re;tt&&de(tt)};Se();const Qe=()=>{he&&cancelAnimationFrame(he),he=requestAnimationFrame(Se)};return K.addEventListener("scroll",Qe,{passive:!0}),window.addEventListener("resize",Qe),()=>{he&&cancelAnimationFrame(he),K.removeEventListener("scroll",Qe),window.removeEventListener("resize",Qe)}},[U,Mn]);const _t=v.useMemo(()=>[{id:"overview",label:"Overview",icon:kz,sectionIds:["overview","kdr","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","timeline","map-distribution","squad-composition"],items:[{id:"kdr",label:"KDR",icon:rc},{id:"fight-breakdown",label:"Fight Breakdown",icon:el},{id:"top-players",label:"Top Players",icon:rc},{id:"top-skills-outgoing",label:"Top Skills",icon:g1},{id:"squad-composition",label:"Classes",icon:Cr},{id:"timeline",label:"Squad vs Enemy Size",icon:Cr},{id:"map-distribution",label:"Map Distribution",icon:x1}]},{id:"roster",label:"Roster Intel",icon:Cf,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance",icon:Cf},{id:"squad-comp-fight",label:"Squad Comp",icon:Cr},{id:"fight-comp",label:"Fight Comp",icon:el}]},{id:"offense",label:"Offensive Stats",icon:el,sectionIds:["offense-detailed","player-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:fL},{id:"player-breakdown",label:"Player Breakdown",icon:b1},{id:"spike-damage",label:"Spike Damage",icon:Mf},{id:"conditions-outgoing",label:"Conditions",icon:u0}]},{id:"defense",label:"Defensive Stats",icon:Du,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","boon-output","support-detailed","healing-stats"],items:[{id:"defense-detailed",label:"Defense Detailed",icon:Du},{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:Mf},{id:"defense-mitigation",label:"Damage Mitigation",icon:N1},{id:"boon-output",label:"Boon Output",icon:S1},{id:"support-detailed",label:"Support Detailed",icon:w1},{id:"healing-stats",label:"Healing Stats",icon:pD}]},{id:"other",label:"Other Metrics",icon:d0,sectionIds:["fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"fight-diff-mode",label:"Fight Comparison",icon:y1},{id:"special-buffs",label:"Special Buffs",icon:Rh},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:j1},{id:"skill-usage",label:"Skill Usage",icon:v1},{id:"apm-stats",label:"APM Breakdown",icon:k1}]}],[]),pn=v.useMemo(()=>{const K=new Map;return _t.forEach(he=>{K.set(he.id.toLowerCase(),he.id),(he.sectionIds||[]).forEach(Se=>K.set(String(Se).toLowerCase(),he.id)),(he.items||[]).forEach(Se=>K.set(String(Se.id).toLowerCase(),he.id))}),K.set("report-top","overview"),K.set("overview","overview"),K.set("kdr","overview"),K},[_t]),Tn=v.useMemo(()=>_t.find(K=>K.id===j)||_t[0],[_t,j]),Vn=w==="kinetic",Ea=v.useMemo(()=>{const K=((Tn==null?void 0:Tn.sectionIds)||((Tn==null?void 0:Tn.items)||[]).map(he=>he.id)).map(he=>he==="kdr"?"overview":he);return new Set(K)},[Tn]),Ei=K=>{if(K==="report-top")return window.scrollTo({top:0,behavior:"smooth"}),history.replaceState&&history.replaceState(null,"","#report-top"),!0;const he=K==="kdr"?"overview":K,Se=he==="overview"&&K!=="kdr"?"report-top":he,Qe=document.getElementById(Se);if(!Qe||Qe.getAttribute("data-section-visible")==="false"||!Qe.offsetParent)return!1;const Rt=Qe.getBoundingClientRect();if(Rt.height<=0)return!1;let Ct=0;if(Se==="stats-view-top"){const ln=document.getElementById("report-top");ln&&(Ct=ln.getBoundingClientRect().height+12)}const ot=Rt.top+window.scrollY-12-Ct;return window.scrollTo({top:Math.max(0,ot),behavior:"smooth"}),history.replaceState&&history.replaceState(null,"",`#${Se}`),!0},ha=(K,he=0)=>{Ei(K)||he>=12||window.setTimeout(()=>{requestAnimationFrame(()=>ha(K,he+1))},40)};v.useEffect(()=>{if(!t)return;const K=requestAnimationFrame(()=>{Array.from(document.querySelectorAll("[data-nav-submenu-content]")).forEach(he=>{he.scrollHeight})});return()=>cancelAnimationFrame(K)},[t]),v.useEffect(()=>{const K=R.current;if(!K)return;let he=0;const Se=()=>{if(Ei(K)){R.current=null;return}if(he+=1,he>=20){R.current=null;return}window.setTimeout(()=>requestAnimationFrame(Se),40)};requestAnimationFrame(Se)},[j]),v.useEffect(()=>{const K=()=>{var he,Se;const Qe=(window.location.hash||"").replace(/^#/,"").trim();if(!Qe)return;let Rt=Qe;try{Rt=decodeURIComponent(Qe)}catch{Rt=Qe}const Ct=Rt.toLowerCase(),ot=pn.get(Ct);if(ot){if(L(ot),W(()=>{const ln={};return _t.forEach(mn=>{ln[mn.id]=mn.id===ot}),ln}),Ct==="report-top")Q("kdr");else{const ln=_t.find(mn=>mn.id.toLowerCase()===Ct);Q(((Se=(he=ln==null?void 0:ln.items)==null?void 0:he[0])==null?void 0:Se.id)||Ct)}R.current=Ct==="report-top"?"kdr":Ct}};return K(),window.addEventListener("hashchange",K),()=>{window.removeEventListener("hashchange",K)}},[pn,_t]);const Jt=w==="matte",on=f??lh,Fn=Vn&&on.id===Vd,sn=Vn?Fn?"142, 155, 214":"90, 80, 68":on.rgb,ga=Jt?"#d8e1eb":Vn?Fn?"#f0d8a9":"#24211d":"var(--accent)",Zr={"--accent":`rgb(${sn})`,"--accent-rgb":sn,"--accent-soft":`rgba(${sn}, ${Vn?Fn?"0.22":"0.18":"0.32"})`,"--accent-strong":`rgba(${sn}, ${Vn?Fn?"0.86":"0.78":"0.95"})`,"--accent-border":`rgba(${sn}, ${Vn?Fn?"0.32":"0.22":"0.4"})`,"--accent-glow":`rgba(${sn}, ${Vn?Fn?"0.14":"0.08":"0.18"})`,"--accent-glow-soft":`rgba(${sn}, ${Vn?Fn?"0.08":"0.04":"0.08"})`},Ps=w==="modern"||w==="matte"||w==="kinetic",Ts=on.pattern?Jt||Vn?void 0:Ps?`linear-gradient(180deg, rgba(14, 18, 26, 0.72), rgba(18, 24, 34, 0.78)), ${on.pattern}`:on.pattern:void 0,Ha=Vn?{backgroundImage:"none",backgroundColor:Fn?"rgba(57, 64, 93, 0.9)":"rgba(220, 210, 196, 0.95)",borderColor:Fn?"rgba(164, 177, 228, 0.28)":"rgba(78, 67, 56, 0.18)"}:Jt?{backgroundImage:"none",backgroundColor:"var(--bg-card)"}:{backgroundImage:Ps?"linear-gradient(135deg, rgba(var(--accent-rgb), 0.2), rgba(var(--accent-rgb), 0.06) 70%)":"linear-gradient(135deg, rgba(var(--accent-rgb), 0.26), rgba(var(--accent-rgb), 0.08) 70%)"};v.useEffect(()=>{var K;let he=!0;const Se=new URLSearchParams(window.location.search).get("report")||((K=window.location.pathname.match(/\/reports\/([^/]+)\/?$/))==null?void 0:K[1])||null,Qe=Se?`${be}reports/${Se}/report.json`:`${be}report.json`;Se&&l(Qe);const Rt=ot=>{var ln,mn,Ar;const fr=new Set((((ln=ot==null?void 0:ot.meta)==null?void 0:ln.commanders)||[]).map(tt=>String(tt)));if(fr.size===0)return ot;const Re=ot.stats;return(mn=Re==null?void 0:Re.leaderboards)!=null&&mn.closestToTag&&(Re.leaderboards.closestToTag=Re.leaderboards.closestToTag.map(tt=>fr.has(String(tt==null?void 0:tt.account))?{...tt,value:0}:tt)),(Ar=Re==null?void 0:Re.closestToTag)!=null&&Ar.player&&fr.has(String(Re.closestToTag.player))&&(Re.closestToTag={...Re.closestToTag,value:0}),ot},Ct=ot=>{var ln,mn,Ar,fr,Re;const tt=ot==null?void 0:ot.stats;if(!tt||typeof tt!="object")return ot;const Kt=Array.isArray((ln=tt==null?void 0:tt.leaderboards)==null?void 0:ln.downContrib)?tt.leaderboards.downContrib:[];if(!Kt.length)return ot;const en=Kt.map(Un=>({...Un,value:Number((Un==null?void 0:Un.value)??0)})).filter(Un=>Number.isFinite(Un.value)).sort((Un,Pa)=>Pa.value-Un.value||String((Un==null?void 0:Un.account)||"").localeCompare(String((Pa==null?void 0:Pa.account)||"")))[0];return en&&(tt.maxDownContrib={...tt.maxDownContrib||{},value:Number(en.value||0),player:String(en.account||((mn=tt.maxDownContrib)==null?void 0:mn.player)||"-"),count:Number(en.count||((Ar=tt.maxDownContrib)==null?void 0:Ar.count)||0),profession:String(en.profession||((fr=tt.maxDownContrib)==null?void 0:fr.profession)||"Unknown"),professionList:Array.isArray(en.professionList)?en.professionList:((Re=tt.maxDownContrib)==null?void 0:Re.professionList)||[]}),ot};return fetch(Qe,{cache:"no-store"}).then(ot=>ot.ok?ot.json():Promise.reject()).then(ot=>{var ln,mn,Ar,fr,Re;if(!he)return;const tt=Ct(Rt(ot));n(tt);const Kt=(ln=tt==null?void 0:tt.stats)==null?void 0:ln.uiTheme;Kt==="modern"||Kt==="classic"||Kt==="crt"||Kt==="matte"||Kt==="kinetic"?N(Kt):((mn=tt==null?void 0:tt.stats)==null?void 0:mn.webThemeId)===oh?N("matte"):(((Ar=tt==null?void 0:tt.stats)==null?void 0:Ar.webThemeId)===sh||((fr=tt==null?void 0:tt.stats)==null?void 0:fr.webThemeId)===Vd)&&N("kinetic"),typeof((Re=tt==null?void 0:tt.stats)==null?void 0:Re.webThemeId)=="string"&&tt.stats.webThemeId&&T(tt.stats.webThemeId)}).catch(()=>{if(Se){if(!he)return;o("Report not found yet. It may still be deploying.")}fetch(`${be}reports/index.json`,{cache:"no-store"}).then(ot=>ot.ok?ot.json():Promise.reject()).then(ot=>{he&&a(Array.isArray(ot)?ot:[])}).catch(()=>{he&&o("No report data found.")})}),()=>{he=!1}},[be]),v.useEffect(()=>{if(t){const K=t.meta.dateLabel||W5(t.meta.dateStart,t.meta.dateEnd);document.title=K?`ArcBridge  ${t.meta.title}  ${K}`:`ArcBridge  ${t.meta.title}`;return}document.title="ArcBridge Reports"},[t]),v.useEffect(()=>{var K;const he=(K=t==null?void 0:t.stats)==null?void 0:K.webThemeId;typeof he=="string"&&he&&T(he)},[t]),v.useEffect(()=>{const K=document.body;K.classList.add("web-report"),K.classList.remove("theme-classic","theme-modern","theme-crt","theme-matte","theme-kinetic","theme-kinetic-dark"),Jt?K.classList.add("theme-matte"):w==="modern"?K.classList.add("theme-modern"):w==="crt"?K.classList.add("theme-crt"):w==="kinetic"?(K.classList.add("theme-kinetic"),Fn&&K.classList.add("theme-kinetic-dark")):K.classList.add("theme-classic")},[w,Jt,Fn]),v.useEffect(()=>{var K;if(et&&(K=t==null?void 0:t.stats)!=null&&K.webThemeId)return;let he=!0;return fetch(On(He,"theme.json"),{cache:"no-store"}).then(Se=>Se.ok?Se.json():Promise.reject()).then(Se=>{he&&typeof(Se==null?void 0:Se.id)=="string"&&Se.id&&T(Se.id)}).catch(()=>{}),()=>{he=!1}},[He,et,t]),v.useEffect(()=>{var K,he;const Se=(K=t==null?void 0:t.stats)==null?void 0:K.webThemeId,Qe=(he=t==null?void 0:t.stats)==null?void 0:he.uiTheme;if((Qe==="modern"||Qe==="classic"||Qe==="crt"||Qe==="matte"||Qe==="kinetic")&&!(Se===oh&&Qe!=="matte"||(Se===sh||Se===Vd)&&Qe!=="kinetic"||Se==="CRT"&&Qe!=="crt"))return;let Rt=!0;return fetch(On(He,"ui-theme.json"),{cache:"no-store"}).then(Ct=>Ct.ok?Ct.json():Promise.reject()).then(Ct=>{if(!Rt)return;const ot=Ct==null?void 0:Ct.theme;(ot==="modern"||ot==="classic"||ot==="crt"||ot==="matte"||ot==="kinetic")&&N(ot)}).catch(()=>{}),()=>{Rt=!1}},[He,t]),v.useEffect(()=>{let K=!0;return fetch(On(He,"logo.json"),{cache:"no-store"}).then(he=>he.ok?he.json():Promise.reject()).then(he=>{if(!K)return;const Se="svg/ArcBridge.svg",Qe=he!=null&&he.path?String(he.path):Se,Rt=he!=null&&he.updatedAt?String(he.updatedAt):"",Ct=On(He,Qe),ot=Rt?`${Ct}?v=${encodeURIComponent(Rt)}`:Ct;h(ot),x(!(he!=null&&he.path)||Qe===Se)}).catch(()=>{K&&(h(null),x(!1))}),()=>{K=!1}},[He]);const qa=v.useMemo(()=>r?[...r].sort((K,he)=>{const Se=new Date(K.dateEnd||K.dateStart).getTime();return new Date(he.dateEnd||he.dateStart).getTime()-Se}):[],[r]),So=v.useMemo(()=>{if(!qa.length)return[];const K=c.trim().toLowerCase();return K?qa.filter(he=>{var Se;const Qe=((Se=he.commanders)==null?void 0:Se.join(" "))||"";return`${he.title} ${Qe} ${he.dateLabel}`.toLowerCase().includes(K)}):qa},[qa,c]),Dc=K=>{if(!K){Qhe(tb);return}Zhe(tb,JSON.stringify({themeId:K}))},Al=K=>{const he=K===U5?null:K;he&&!Td.some(Se=>Se.id===he)||(E(he),Dc(he),O(!1))};v.useEffect(()=>{const K=Se=>{F.current&&(F.current.contains(Se.target)||O(!1))},he=Se=>{Se.key==="Escape"&&O(!1)};return window.addEventListener("mousedown",K),window.addEventListener("keydown",he),()=>{window.removeEventListener("mousedown",K),window.removeEventListener("keydown",he)}},[]),v.useEffect(()=>()=>{oe.current!==null&&(cancelAnimationFrame(oe.current),oe.current=null)},[]);const Oc=v.useMemo(()=>{if(!$)return"Default";const K=Td.find(he=>he.id===$);return(K==null?void 0:K.label)||"Default"},[$]),sd=u.jsxs("div",{className:"relative flex items-center gap-2",ref:F,children:[u.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-400 whitespace-nowrap",children:"Theme"}),u.jsxs("button",{type:"button",onClick:()=>O(K=>!K),className:"w-[152px] inline-flex items-center justify-between gap-2 rounded-full border px-3 py-1 text-[9px] uppercase tracking-widest text-white transition-colors focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--accent-border)"},children:[u.jsx("span",{className:"truncate text-left",children:Oc}),u.jsx("span",{className:`transition-transform ${P?"rotate-180":""}`,children:""})]}),P&&u.jsxs("div",{className:"absolute right-0 bottom-[calc(100%+6px)] z-20 w-[240px] overflow-y-auto rounded-xl border shadow-2xl backdrop-blur-xl",style:{maxHeight:"240px",backgroundColor:"color-mix(in srgb, var(--bg-card) 92%, black)",borderColor:"var(--accent-border)"},children:[u.jsx("button",{type:"button",onClick:()=>Al(U5),className:"w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] text-gray-200 hover:bg-white/10 transition-colors",children:"Default"}),Td.map(K=>u.jsx("button",{type:"button",onClick:()=>Al(K.id),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${$===K.id?"text-[color:var(--accent)]":"text-gray-200"}`,children:K.label},K.id))]})]}),Ic=u.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-[11px] text-gray-500",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-2",children:[u.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.35em] text-gray-400",children:"Legal Notice"}),u.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[u.jsx("div",{className:"min-w-[160px]",children:sd}),u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"GitHub"}),u.jsx("a",{href:"https://discord.gg/UjzMXMGXEg",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Discord"}),u.jsx("a",{href:"#proof-of-work",onClick:K=>{K.preventDefault(),X(!0)},className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Proof of Work"})]})]}),u.jsx("p",{children:"ArcBridge is free software by harasho: you can redistribute it and/or modify it under the terms of the GNU General Public License v3.0 only. This program comes with ABSOLUTELY NO WARRANTY."}),u.jsxs("p",{className:"mt-2",children:["Class Icons, artwork, and skill icons are created and owned by Arenanet as detailed in their"," ",u.jsx("a",{href:"https://www.arena.net/en/legal/content-terms-of-use",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"Content Terms of Use"}),". I do not own or profit from this work in any way. Assets were obtained from asset packs distributed by Arenanet. The official statement from the Content Terms of Use:"]}),u.jsx("p",{className:"mt-2",children:" ArenaNet LLC. All rights reserved. NCSOFT, ArenaNet, Guild Wars, Guild Wars 2, GW2, Heart of Thorns, Path of Fire, End of Dragons, Secrets of the Obscure, Janthir Wilds, Visions of Eternity, and all associated logos, designs, and composite marks are trademarks or registered trademarks of NCSOFT Corporation. All other trademarks are the property of their respective owners."}),u.jsxs("p",{className:"mt-2",children:["See the"," ",u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/LICENSE",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"LICENSE"})," ","and"," ",u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/THIRD_PARTY_NOTICES.md",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"THIRD_PARTY_NOTICES.md"})," ","files for full terms and upstream attributions."]})]}),_c=u.jsxs(Ghe,{isOpen:U,onClose:()=>X(!1),searchValue:z,searchFocused:I,searchResults:ie,onSearchChange:K=>{B(K),requestAnimationFrame(()=>Dt(K))},onSearchFocus:()=>{A(!0),requestAnimationFrame(()=>Dt(z))},onSearchBlur:K=>{var he;K&&(he=re.current)!=null&&he.contains(K)||A(!1)},onSearchEnter:()=>{ie.length>0&&Fe(ie[0].hitId,ie[0].text)},onSearchResultMouseDown:K=>{A(!0),Fe(K.hitId,K.text)},renderHighlightedMatch:ge,searchRef:re,tocItems:Mn,activeTocId:ee,onTocClick:K=>{const he=te.current;if(!he)return;let Se=he.querySelector(`[data-heading-id="${K.id}"]`);if(!Se){const Qe=K.text.trim().replace(/\s+/g," ");Se=Array.from(he.querySelectorAll("h1, h2, h3")).find(Rt=>(Rt.textContent||"").trim().replace(/\s+/g," ")===Qe)||null}Se&&(de(K.id),requestAnimationFrame(()=>{const Qe=he.getBoundingClientRect(),Rt=Se.getBoundingClientRect(),Ct=he.scrollTop+(Rt.top-Qe.top)-12;he.scrollTop=Math.max(0,Ct)}))},contentRef:te,children:[(H.current=new Map,null),u.jsx(Nce,{remarkPlugins:[Fde],components:{h1:({children:K})=>{const he=yt(K),Se=Xt(he);return u.jsx("h1",{id:Se,"data-heading-id":Se,className:"text-2xl font-bold text-white scroll-mt-6",children:K})},h2:({children:K})=>{const he=yt(K),Se=Xt(he);return u.jsx("h2",{id:Se,"data-heading-id":Se,className:"text-xl font-semibold text-white scroll-mt-6",children:K})},h3:({children:K})=>{const he=yt(K),Se=Xt(he);return u.jsx("h3",{id:Se,"data-heading-id":Se,className:"text-lg font-semibold text-white scroll-mt-6",children:K})},p:({children:K})=>u.jsx("p",{className:"leading-6 text-gray-200",children:K}),ul:({children:K})=>u.jsx("ul",{className:"list-disc pl-5 space-y-1 text-gray-200",children:K}),ol:({children:K})=>u.jsx("ol",{className:"list-decimal pl-5 space-y-1 text-gray-200",children:K}),li:({children:K})=>u.jsx("li",{className:"leading-6",children:K}),blockquote:({children:K})=>u.jsx("blockquote",{className:"border-l-2 border-blue-400/40 pl-4 text-gray-300 italic",children:K}),a:({href:K,children:he})=>u.jsx("a",{className:"text-blue-300 hover:text-blue-200 underline underline-offset-2",href:K,target:"_blank",rel:"noreferrer",children:he}),table:({children:K})=>u.jsx("div",{className:"overflow-x-auto rounded-xl border border-white/10 bg-black/30",children:u.jsx("table",{className:"w-full border-collapse text-left text-sm",children:K})}),th:({children:K})=>u.jsx("th",{className:"border-b border-white/10 bg-white/5 px-3 py-2 text-xs uppercase tracking-wide text-gray-300",children:K}),td:({children:K})=>u.jsx("td",{className:"border-b border-white/10 px-3 py-2 text-gray-200",children:K}),pre:({children:K})=>u.jsx("pre",{className:"overflow-x-auto rounded-xl bg-black/40 p-4 text-xs text-blue-100",children:K}),code:K=>{const{inline:he,children:Se}=K;return he===!0?u.jsx("code",{className:"rounded bg-black/40 px-1.5 py-0.5 text-[11px] text-blue-200",children:Se}):u.jsx("code",{className:"whitespace-pre-wrap text-blue-100",children:Se})}},children:Vv})]});if(t){const K=On(He,"svg/ArcBridge.svg"),he=()=>{oe.current!==null&&(cancelAnimationFrame(oe.current),oe.current=null);const Re=window.scrollY||window.pageYOffset||0;if(Re<=1){window.scrollTo({top:0,behavior:"auto"});return}const tt=320,Kt=performance.now(),en=Un=>{const Pa=Un-Kt,Or=Math.min(1,Pa/tt),Ho=1-Math.pow(1-Or,3),ld=Math.max(0,Math.round(Re*(1-Ho)));window.scrollTo({top:ld,behavior:"auto"}),Or<1?oe.current=requestAnimationFrame(en):(oe.current=null,window.scrollTo({top:0,behavior:"auto"}))};oe.current=requestAnimationFrame(en)},Se=Re=>{W(()=>{const tt={};return _t.forEach(Kt=>{tt[Kt.id]=Kt.id===Re}),tt})},Qe=Re=>{var tt,Kt;R.current=null,L(Re);const en=_t.find(Un=>Un.id===Re);Q(((Kt=(tt=en==null?void 0:en.items)==null?void 0:tt[0])==null?void 0:Kt.id)||"kdr"),he()},Rt=Re=>{if(!G[Re]){Se(Re),Qe(Re);return}if(Re!==j){Qe(Re);return}W(tt=>({...tt,[Re]:!1}))},Ct=(Re,tt)=>{G[Re]||Se(Re),Q(tt);const Kt=Re===j;Kt||(R.current=tt,L(Re),requestAnimationFrame(()=>ha(tt))),Kt&&requestAnimationFrame(()=>ha(tt))},ot=Re=>{const tt=Re.currentTarget;if(!(tt.scrollHeight>tt.clientHeight)){window.scrollBy({top:Re.deltaY,behavior:"auto"}),Re.preventDefault();return}const Kt=tt.scrollTop<=0,en=tt.scrollTop+tt.clientHeight>=tt.scrollHeight-1;(Kt&&Re.deltaY<0||en&&Re.deltaY>0)&&(window.scrollBy({top:Re.deltaY,behavior:"auto"}),Re.preventDefault())},ln=Re=>{const tt=_.current;if(!tt)return;const Kt=Re.target;if(!Kt||!tt.contains(Kt))return;let en=Kt;for(;en&&en!==tt;){const Un=window.getComputedStyle(en).overflowY;if((Un==="auto"||Un==="scroll")&&en.scrollHeight>en.clientHeight+1){const Pa=en.scrollTop<=0,Or=en.scrollTop+en.clientHeight>=en.scrollHeight-1;(Re.deltaY<0&&Pa||Re.deltaY>0&&Or)&&(window.scrollBy({top:Re.deltaY,behavior:"auto"}),Re.preventDefault());return}en=en.parentElement}},mn=Re=>{const tt=Math.max(0,6-Re);return{accordionDuration:.5+tt*.07,itemDuration:.34+tt*.035,stagger:.05+tt*.01,delayChildren:.06+tt*.015}},Ar=Re=>{const tt=mn(Re);return{open:{transition:{staggerChildren:tt.stagger,delayChildren:tt.delayChildren}},closed:{transition:{staggerChildren:Math.max(.02,tt.stagger*.7),staggerDirection:-1}}}},fr={open:{opacity:1,y:0},closed:{opacity:0,y:-2}};return u.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:Jt?"var(--bg-base)":Vn?Fn?"#2b3048":"#d8d1c5":Ps?"#0f141c":"#0f172a",backgroundImage:Jt?"none":Ts,...Zr},children:[!Jt&&!Vn&&u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),u.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),u.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),u.jsx("div",{className:`fixed inset-0 z-20 bg-black/40 backdrop-blur-sm transition-opacity lg:hidden ${g?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>b(!1)}),u.jsx("aside",{className:`fixed z-30 top-0 bottom-0 w-64 max-w-[80vw] transition-transform duration-300 lg:hidden ${g?"translate-x-0":"-translate-x-full"}`,children:u.jsxs("div",{className:"report-nav-sidebar h-full bg-white/5 border-r border-white/10 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.45)] flex flex-col",children:[u.jsxs("div",{className:"px-5 pt-6 pb-4 flex items-center justify-between",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"Contents"}),u.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-white transition-colors","aria-label":"Close table of contents",children:""})]}),u.jsx("div",{className:"px-5 pb-4",children:u.jsxs("a",{href:"./",className:"report-back-link w-full inline-flex items-center gap-3 px-4 py-2.5 rounded-xl bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[u.jsx("span",{className:"h-8 w-8 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:u.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[u.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),u.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})}),u.jsx("nav",{className:"px-3 pb-6 space-y-3 text-sm overflow-y-auto [overflow-anchor:none]",onWheel:ot,children:_t.map(Re=>{const tt=Re.icon,Kt=Re.id===j,en=!!G[Re.id],Un=mn(Re.items.length),Pa=Ar(Re.items.length);return u.jsxs(Po.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[u.jsxs("button",{onClick:()=>Rt(Re.id),className:`report-nav-group-btn w-full text-left flex items-center gap-3 px-3 py-2 rounded-lg border transition-colors ${Kt?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(tt,{className:"report-nav-group-icon w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"report-nav-group-label text-[11px] uppercase tracking-[0.22em] whitespace-nowrap min-w-0 truncate",children:Re.label}),u.jsx(Po.span,{className:"report-nav-chevron ml-auto inline-flex shrink-0",animate:{rotate:en?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:u.jsx(Yb,{className:"w-4 h-4 text-gray-300"})})]}),u.jsx(Po.div,{initial:!1,animate:en?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:Un.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:u.jsx(Po.div,{variants:Pa,initial:!1,animate:en?"open":"closed",className:"report-nav-submenu space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:Re.items.map(Or=>{const Ho=Or.icon;return u.jsxs(Po.button,{variants:fr,transition:{duration:Un.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>{Ct(Re.id,Or.id),b(!1)},className:`report-nav-item-btn w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-md text-[12px] border transition-colors transform-gpu ${q===Or.id?"text-white border-white/20 bg-white/10":"text-gray-200 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(Ho,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),Or.label]},Or.id)})})},`${Re.id}-submenu-mobile`)]},Re.id)})})]})}),u.jsx("aside",{className:"report-nav-sidebar hidden lg:flex fixed inset-y-0 left-0 w-64 border-r border-white/10 bg-white/5 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.5)] z-20",children:u.jsxs("div",{className:"flex flex-col w-full",children:[u.jsx("div",{className:"px-6 pt-6 pb-5",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"h-10 w-10 rounded-2xl border border-white/20",style:{backgroundColor:ga,maskImage:`url(${K})`,WebkitMaskImage:`url(${K})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"65%",WebkitMaskSize:"65%"},"aria-label":"ArcBridge logo"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"ArcBridge Reports"}),u.jsx("div",{className:"text-sm font-semibold text-white",children:"Navigation"})]})]})}),u.jsx("nav",{className:"px-4 space-y-4 text-sm flex-1 overflow-y-auto [overflow-anchor:none]",onWheel:ot,children:_t.map(Re=>{const tt=Re.icon,Kt=Re.id===j,en=!!G[Re.id],Un=mn(Re.items.length),Pa=Ar(Re.items.length);return u.jsxs(Po.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[u.jsxs("button",{onClick:()=>Rt(Re.id),className:`report-nav-group-btn w-full text-left flex items-center gap-3 px-3 py-2.5 rounded-xl border transition-colors ${Kt?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(tt,{className:"report-nav-group-icon w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"report-nav-group-label text-[11px] uppercase tracking-[0.22em] whitespace-nowrap min-w-0 truncate",children:Re.label}),u.jsx(Po.span,{className:"report-nav-chevron ml-auto inline-flex shrink-0",animate:{rotate:en?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:u.jsx(Yb,{className:"w-4 h-4 text-gray-300"})})]}),u.jsx(Po.div,{initial:!1,animate:en?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:Un.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:u.jsx(Po.div,{variants:Pa,initial:!1,animate:en?"open":"closed",className:"report-nav-submenu space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:Re.items.map(Or=>{const Ho=Or.icon;return u.jsxs(Po.button,{variants:fr,transition:{duration:Un.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>Ct(Re.id,Or.id),className:`report-nav-item-btn w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-lg text-[12px] border transition-colors transform-gpu ${q===Or.id?"text-white border-white/20 bg-white/10":"text-gray-200 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(Ho,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),Or.label]},Or.id)})})},`${Re.id}-submenu-desktop`)]},Re.id)})}),u.jsx("div",{className:"border-t border-white/10",children:u.jsxs("a",{href:"./",className:"report-back-link w-full inline-flex items-center gap-3 px-6 py-4 bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[u.jsx("span",{className:"h-9 w-9 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:u.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[u.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),u.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})})]})}),u.jsxs("div",{className:"max-w-[1600px] mx-1 sm:mx-2 lg:mx-auto px-4 pt-3 pb-5 sm:px-6 sm:pt-4 sm:pb-6 lg:pl-[17rem] lg:pr-10 mobile-bottom-pad",children:[u.jsx("div",{className:`${Fl} p-5 sm:p-6 mb-6 mx-1 sm:mx-1 lg:mx-0`,style:Ha,children:u.jsxs("div",{className:"flex flex-col gap-4 sm:gap-5 lg:flex-row lg:items-center lg:justify-between",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 text-center sm:text-left",children:[m&&(y?u.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:ga,maskImage:`url(${m})`,WebkitMaskImage:`url(${m})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):u.jsx("img",{src:m,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"report-brand-label text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge Log Report"}),u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-1",children:t.meta.title}),u.jsx("div",{className:"text-xs sm:text-sm text-gray-400 mt-2",children:t.meta.dateLabel||W5(t.meta.dateStart,t.meta.dateEnd)})]})]}),u.jsxs("button",{onClick:()=>b(!0),className:"hidden sm:flex lg:hidden px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-xs uppercase tracking-widest text-gray-300 hover:border-white/30 transition-colors items-center gap-2",children:[u.jsx(U2,{className:"w-4 h-4"}),"Contents"]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:flex sm:flex-wrap sm:overflow-visible pr-1 sm:pr-2",children:[u.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 inline-flex items-center gap-2 min-w-0 justify-start",children:[u.jsx(pz,{className:"w-4 h-4 text-[color:var(--accent)]"}),t.meta.dateLabel||"Log Range"]}),u.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[u.jsx(Cr,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"truncate",children:t.meta.commanders.length?t.meta.commanders.join(", "):"No Commanders"})]}),u.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[u.jsx(mD,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Report ",t.meta.appVersion?`v${t.meta.appVersion}`:"build"]})]})]})}),u.jsxs("div",{className:"sm:hidden mb-4",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400 mb-2",children:"Jump to"}),u.jsx("div",{className:"flex gap-2 overflow-x-auto pr-2 pb-1 snap-x snap-mandatory",children:((Tn==null?void 0:Tn.items)||[]).map(Re=>{const tt=Re.icon;return u.jsxs("button",{onClick:()=>Ct((Tn==null?void 0:Tn.id)||"overview",Re.id),className:`group flex items-center gap-2 px-3 py-2 rounded-full text-[10px] uppercase tracking-widest whitespace-nowrap border bg-gradient-to-br shadow-[0_10px_25px_rgba(0,0,0,0.35)] backdrop-blur-xl transition-all duration-200 active:translate-y-0 active:scale-[0.98] snap-start ${q===Re.id?"text-white border-[color:var(--accent-border)] from-[color:var(--accent-glow)] via-white/10 to-transparent":"text-gray-200 border-white/15 from-white/10 via-white/5 to-transparent hover:-translate-y-0.5 hover:border-[color:var(--accent-border)] hover:shadow-[0_18px_35px_rgba(0,0,0,0.45)]"}`,children:[u.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-white/10 border border-white/10 group-hover:border-[color:var(--accent-border)] group-hover:bg-[color:var(--accent-glow)] transition-colors",children:u.jsx(tt,{className:"w-3 h-3 text-[color:var(--accent)]"})}),Re.label]},`chip-${Re.id}`)})})]}),u.jsx("div",{ref:_,onWheelCapture:ln,className:"flex-1 min-w-0",children:u.jsx("div",{id:"stats-view-top",children:u.jsx($ae,{logs:[],onBack:()=>{},mvpWeights:void 0,precomputedStats:t.stats,statsViewSettings:(e=t.stats)==null?void 0:e.statsViewSettings,embedded:!0,uiTheme:w,sectionVisibility:Re=>Ea.has(Re),dashboardTitle:`Statistics Dashboard - ${(Tn==null?void 0:Tn.label)||"Overview"}`})})}),u.jsx("div",{className:"mt-10",children:Ic})]}),u.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-30 sm:hidden mobile-action-bar",children:u.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-2xl bg-slate-950/70 border border-white/15 backdrop-blur-xl px-3 py-2 shadow-[0_20px_50px_rgba(0,0,0,0.45)]",children:[u.jsxs("a",{href:"./",className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(dD,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Back"]}),u.jsxs("button",{onClick:()=>b(!0),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(U2,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Contents"]}),u.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(fz,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Top"]})]})}),_c]})}return u.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:Jt?"var(--bg-base)":Vn?Fn?"#2b3048":"#d8d1c5":Ps?"#0f141c":"#0f172a",backgroundImage:Jt?"none":Ts,...Zr},children:[!Jt&&!Vn&&u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),u.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),u.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),u.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 pt-4 pb-8 sm:px-6 sm:pt-5 sm:pb-10",children:[u.jsxs("div",{id:"report-list-container",className:"rounded-2xl border border-white/5 bg-black/20 p-4 sm:p-6",children:[u.jsxs("div",{id:"report-top",className:`${Fl} p-5 sm:p-6 mb-6 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between`,style:Ha,children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 min-h-[56px] text-center sm:text-left",children:[m&&(y?u.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:ga,maskImage:`url(${m})`,WebkitMaskImage:`url(${m})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):u.jsx("img",{src:m,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge"}),u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-2",children:"Command Reports"}),u.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"Select a report to view the full stats dashboard."})]})]}),u.jsx("div",{className:"flex flex-col sm:flex-row sm:items-end gap-3",children:u.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300",children:[So.length," Reports"]})})]}),u.jsxs("div",{className:`${Fl} px-4 py-3 mb-6 flex flex-col md:flex-row gap-3 md:items-center md:justify-between`,style:Ha,children:[u.jsx("input",{type:"search",value:c,onChange:K=>d(K.target.value),placeholder:"Search reports, commanders, or date...",className:"w-full md:flex-1 bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-sm text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]"}),u.jsxs("div",{className:"text-[11px] sm:text-xs text-gray-400",children:["Showing ",u.jsx("span",{className:"text-[color:var(--accent)]",children:So.length})," of"," ",u.jsx("span",{className:"text-[color:var(--accent)]",children:qa.length})]})]}),i&&u.jsxs("div",{className:"mb-6 rounded-2xl border border-amber-400/40 bg-amber-500/10 px-6 py-5 text-amber-100 shadow-xl backdrop-blur-md",style:Ha,children:[u.jsx("div",{className:"text-sm uppercase tracking-widest text-amber-200/70",children:"Warning"}),u.jsx("div",{className:"mt-2 text-base font-semibold text-white",children:i}),s&&u.jsxs("div",{className:"text-xs text-amber-100/80 mt-2",children:["Looking for: ",u.jsx("span",{className:"text-amber-50",children:s})]})]}),!i&&!r&&u.jsx("div",{className:`${Fl} p-6 text-gray-300`,style:Ha,children:"Loading reports..."}),So.length>0&&u.jsx("div",{className:"flex flex-col gap-3",children:So.map(K=>{var he,Se,Qe,Rt;return u.jsx("a",{href:K.url,className:`${Fl} px-5 py-4 hover:border-[color:var(--accent-border)] transition-colors group`,style:Ha,children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-4",children:[u.jsxs("div",{className:"min-w-0 block text-left",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-widest text-gray-400",children:K.dateLabel}),u.jsx("div",{className:"text-base sm:text-lg font-semibold mt-1 truncate",children:Jhe(K.dateStart)}),u.jsxs("div",{className:"text-xs text-gray-400 mt-1 flex items-center gap-2",children:[u.jsx(Cr,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"truncate",children:K.commanders.length?K.commanders.join(", "):"No Commanders"})]})]}),u.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3 sm:gap-4 sm:mt-0 mt-2 w-full sm:w-auto",children:[u.jsx("div",{className:"flex flex-col items-center gap-1 text-[10px] text-gray-400",children:(he=K.summary)!=null&&he.mapSlices&&K.summary.mapSlices.length>0?u.jsxs(u.Fragment,{children:[u.jsx(ege,{slices:K.summary.mapSlices}),u.jsx("span",{className:"uppercase tracking-widest",children:"Maps"})]}):u.jsxs(u.Fragment,{children:[u.jsx(tge,{value:(Se=K.summary)==null?void 0:Se.borderlandsPct}),u.jsx("span",{className:"uppercase tracking-widest",children:"Borderlands"})]})}),u.jsxs("div",{className:"flex flex-col items-end gap-1",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:"Avg Squad / Enemy"}),u.jsxs("div",{className:"text-sm text-white font-semibold",children:[((Qe=K.summary)==null?void 0:Qe.avgSquadSize)??"--"," / ",((Rt=K.summary)==null?void 0:Rt.avgEnemySize)??"--"]})]}),u.jsx(vz,{className:"w-5 h-5 text-[color:var(--accent)] opacity-60 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity"})]})]})},K.id)})}),!i&&r&&qa.length===0&&u.jsx("div",{className:`${Fl} p-6 text-gray-300`,style:Ha,children:"No reports uploaded yet."}),!i&&r&&qa.length>0&&So.length===0&&u.jsx("div",{className:`${Fl} p-6 text-gray-300`,style:Ha,children:"No reports match your search."})]}),u.jsx("div",{className:"mt-8",children:Ic})]}),_c]})}document.documentElement.classList.add("web-report");document.body.classList.add("web-report");nb.createRoot(document.getElementById("root")).render(u.jsx(Yg.StrictMode,{children:u.jsx(nge,{})}));
