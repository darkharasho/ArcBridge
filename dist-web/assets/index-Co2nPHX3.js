var MR=Object.defineProperty;var OR=(e,t,n)=>t in e?MR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Mx=(e,t,n)=>OR(e,typeof t!="symbol"?t+"":t,n);function IR(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var xp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ys(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var aD={exports:{}},Zg={},sD={exports:{}},hn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var im=Symbol.for("react.element"),_R=Symbol.for("react.portal"),LR=Symbol.for("react.fragment"),$R=Symbol.for("react.strict_mode"),FR=Symbol.for("react.profiler"),RR=Symbol.for("react.provider"),BR=Symbol.for("react.context"),zR=Symbol.for("react.forward_ref"),UR=Symbol.for("react.suspense"),VR=Symbol.for("react.memo"),WR=Symbol.for("react.lazy"),qN=Symbol.iterator;function HR(e){return e===null||typeof e!="object"?null:(e=qN&&e[qN]||e["@@iterator"],typeof e=="function"?e:null)}var oD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lD=Object.assign,cD={};function Qu(e,t,n){this.props=e,this.context=t,this.refs=cD,this.updater=n||oD}Qu.prototype.isReactComponent={};Qu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Qu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function uD(){}uD.prototype=Qu.prototype;function Pw(e,t,n){this.props=e,this.context=t,this.refs=cD,this.updater=n||oD}var Tw=Pw.prototype=new uD;Tw.constructor=Pw;lD(Tw,Qu.prototype);Tw.isPureReactComponent=!0;var KN=Array.isArray,dD=Object.prototype.hasOwnProperty,Ew={current:null},fD={key:!0,ref:!0,__self:!0,__source:!0};function mD(e,t,n){var r,i={},a=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)dD.call(t,r)&&!fD.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:im,type:e,key:a,ref:s,props:i,_owner:Ew.current}}function qR(e,t){return{$$typeof:im,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Dw(e){return typeof e=="object"&&e!==null&&e.$$typeof===im}function KR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var GN=/\/+/g;function Ox(e,t){return typeof e=="object"&&e!==null&&e.key!=null?KR(""+e.key):t.toString(36)}function qh(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case im:case _R:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Ox(s,0):r,KN(i)?(n="",e!=null&&(n=e.replace(GN,"$&/")+"/"),qh(i,t,n,"",function(c){return c})):i!=null&&(Dw(i)&&(i=qR(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(GN,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",KN(e))for(var o=0;o<e.length;o++){a=e[o];var l=r+Ox(a,o);s+=qh(a,t,n,l,i)}else if(l=HR(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=r+Ox(a,o++),s+=qh(a,t,n,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function nh(e,t,n){if(e==null)return e;var r=[],i=0;return qh(e,r,"","",function(a){return t.call(n,a,i++)}),r}function GR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ui={current:null},Kh={transition:null},YR={ReactCurrentDispatcher:Ui,ReactCurrentBatchConfig:Kh,ReactCurrentOwner:Ew};function hD(){throw Error("act(...) is not supported in production builds of React.")}hn.Children={map:nh,forEach:function(e,t,n){nh(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return nh(e,function(){t++}),t},toArray:function(e){return nh(e,function(t){return t})||[]},only:function(e){if(!Dw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};hn.Component=Qu;hn.Fragment=LR;hn.Profiler=FR;hn.PureComponent=Pw;hn.StrictMode=$R;hn.Suspense=UR;hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YR;hn.act=hD;hn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=lD({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=Ew.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)dD.call(t,l)&&!fD.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:im,type:e.type,key:i,ref:a,props:r,_owner:s}};hn.createContext=function(e){return e={$$typeof:BR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:RR,_context:e},e.Consumer=e};hn.createElement=mD;hn.createFactory=function(e){var t=mD.bind(null,e);return t.type=e,t};hn.createRef=function(){return{current:null}};hn.forwardRef=function(e){return{$$typeof:zR,render:e}};hn.isValidElement=Dw;hn.lazy=function(e){return{$$typeof:WR,_payload:{_status:-1,_result:e},_init:GR}};hn.memo=function(e,t){return{$$typeof:VR,type:e,compare:t===void 0?null:t}};hn.startTransition=function(e){var t=Kh.transition;Kh.transition={};try{e()}finally{Kh.transition=t}};hn.unstable_act=hD;hn.useCallback=function(e,t){return Ui.current.useCallback(e,t)};hn.useContext=function(e){return Ui.current.useContext(e)};hn.useDebugValue=function(){};hn.useDeferredValue=function(e){return Ui.current.useDeferredValue(e)};hn.useEffect=function(e,t){return Ui.current.useEffect(e,t)};hn.useId=function(){return Ui.current.useId()};hn.useImperativeHandle=function(e,t,n){return Ui.current.useImperativeHandle(e,t,n)};hn.useInsertionEffect=function(e,t){return Ui.current.useInsertionEffect(e,t)};hn.useLayoutEffect=function(e,t){return Ui.current.useLayoutEffect(e,t)};hn.useMemo=function(e,t){return Ui.current.useMemo(e,t)};hn.useReducer=function(e,t,n){return Ui.current.useReducer(e,t,n)};hn.useRef=function(e){return Ui.current.useRef(e)};hn.useState=function(e){return Ui.current.useState(e)};hn.useSyncExternalStore=function(e,t,n){return Ui.current.useSyncExternalStore(e,t,n)};hn.useTransition=function(){return Ui.current.useTransition()};hn.version="18.3.1";sD.exports=hn;var v=sD.exports;const Jg=ys(v),XR=IR({__proto__:null,default:Jg},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QR=v,ZR=Symbol.for("react.element"),JR=Symbol.for("react.fragment"),eB=Object.prototype.hasOwnProperty,tB=QR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nB={key:!0,ref:!0,__self:!0,__source:!0};function pD(e,t,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)eB.call(t,r)&&!nB.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:ZR,type:e,key:a,ref:s,props:i,_owner:tB.current}}Zg.Fragment=JR;Zg.jsx=pD;Zg.jsxs=pD;aD.exports=Zg;var u=aD.exports,ly={},gD={exports:{}},Aa={},xD={exports:{}},vD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Y,_){var E=Y.length;Y.push(_);e:for(;0<E;){var A=E-1>>>1,te=Y[A];if(0<i(te,_))Y[A]=_,Y[E]=te,E=A;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var _=Y[0],E=Y.pop();if(E!==_){Y[0]=E;e:for(var A=0,te=Y.length,S=te>>>1;A<S;){var U=2*(A+1)-1,q=Y[U],J=U+1,K=Y[J];if(0>i(q,E))J<te&&0>i(K,q)?(Y[A]=K,Y[J]=E,A=J):(Y[A]=q,Y[U]=E,A=U);else if(J<te&&0>i(K,E))Y[A]=K,Y[J]=E,A=J;else break e}}return _}function i(Y,_){var E=Y.sortIndex-_.sortIndex;return E!==0?E:Y.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],d=1,f=null,h=3,m=!1,p=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(Y){for(var _=n(c);_!==null;){if(_.callback===null)r(c);else if(_.startTime<=Y)r(c),_.sortIndex=_.expirationTime,t(l,_);else break;_=n(c)}}function k(Y){if(g=!1,w(Y),!p)if(n(l)!==null)p=!0,de(C);else{var _=n(c);_!==null&&Z(k,_.startTime-Y)}}function C(Y,_){p=!1,g&&(g=!1,x(D),D=-1),m=!0;var E=h;try{for(w(_),f=n(l);f!==null&&(!(f.expirationTime>_)||Y&&!M());){var A=f.callback;if(typeof A=="function"){f.callback=null,h=f.priorityLevel;var te=A(f.expirationTime<=_);_=e.unstable_now(),typeof te=="function"?f.callback=te:f===n(l)&&r(l),w(_)}else r(l);f=n(l)}if(f!==null)var S=!0;else{var U=n(c);U!==null&&Z(k,U.startTime-_),S=!1}return S}finally{f=null,h=E,m=!1}}var N=!1,j=null,D=-1,L=5,T=-1;function M(){return!(e.unstable_now()-T<L)}function O(){if(j!==null){var Y=e.unstable_now();T=Y;var _=!0;try{_=j(!0,Y)}finally{_?Q():(N=!1,j=null)}}else N=!1}var Q;if(typeof b=="function")Q=function(){b(O)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,ae=ee.port2;ee.port1.onmessage=O,Q=function(){ae.postMessage(null)}}else Q=function(){y(O,0)};function de(Y){j=Y,N||(N=!0,Q())}function Z(Y,_){D=y(function(){Y(e.unstable_now())},_)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,de(C))},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(Y){switch(h){case 1:case 2:case 3:var _=3;break;default:_=h}var E=h;h=_;try{return Y()}finally{h=E}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Y,_){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var E=h;h=Y;try{return _()}finally{h=E}},e.unstable_scheduleCallback=function(Y,_,E){var A=e.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?A+E:A):E=A,Y){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=E+te,Y={id:d++,callback:_,priorityLevel:Y,startTime:E,expirationTime:te,sortIndex:-1},E>A?(Y.sortIndex=E,t(c,Y),n(l)===null&&Y===n(c)&&(g?(x(D),D=-1):g=!0,Z(k,E-A))):(Y.sortIndex=te,t(l,Y),p||m||(p=!0,de(C))),Y},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(Y){var _=h;return function(){var E=h;h=_;try{return Y.apply(this,arguments)}finally{h=E}}}})(vD);xD.exports=vD;var rB=xD.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iB=v,Na=rB;function Ye(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yD=new Set,mf={};function Tc(e,t){Eu(e,t),Eu(e+"Capture",t)}function Eu(e,t){for(mf[e]=t,e=0;e<t.length;e++)yD.add(t[e])}var mo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cy=Object.prototype.hasOwnProperty,aB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,YN={},XN={};function sB(e){return cy.call(XN,e)?!0:cy.call(YN,e)?!1:aB.test(e)?XN[e]=!0:(YN[e]=!0,!1)}function oB(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function lB(e,t,n,r){if(t===null||typeof t>"u"||oB(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Vi(e,t,n,r,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var hi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){hi[e]=new Vi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];hi[t]=new Vi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){hi[e]=new Vi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){hi[e]=new Vi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){hi[e]=new Vi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){hi[e]=new Vi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){hi[e]=new Vi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){hi[e]=new Vi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){hi[e]=new Vi(e,5,!1,e.toLowerCase(),null,!1,!1)});var Mw=/[\-:]([a-z])/g;function Ow(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Mw,Ow);hi[t]=new Vi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Mw,Ow);hi[t]=new Vi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Mw,Ow);hi[t]=new Vi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){hi[e]=new Vi(e,1,!1,e.toLowerCase(),null,!1,!1)});hi.xlinkHref=new Vi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){hi[e]=new Vi(e,1,!1,e.toLowerCase(),null,!0,!0)});function Iw(e,t,n,r){var i=hi.hasOwnProperty(t)?hi[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(lB(t,n,i,r)&&(n=null),r||i===null?sB(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var No=iB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rh=Symbol.for("react.element"),nu=Symbol.for("react.portal"),ru=Symbol.for("react.fragment"),_w=Symbol.for("react.strict_mode"),uy=Symbol.for("react.profiler"),bD=Symbol.for("react.provider"),wD=Symbol.for("react.context"),Lw=Symbol.for("react.forward_ref"),dy=Symbol.for("react.suspense"),fy=Symbol.for("react.suspense_list"),$w=Symbol.for("react.memo"),Vo=Symbol.for("react.lazy"),kD=Symbol.for("react.offscreen"),QN=Symbol.iterator;function vd(e){return e===null||typeof e!="object"?null:(e=QN&&e[QN]||e["@@iterator"],typeof e=="function"?e:null)}var xr=Object.assign,Ix;function Rd(e){if(Ix===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ix=t&&t[1]||""}return`
`+Ix+e}var _x=!1;function Lx(e,t){if(!e||_x)return"";_x=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{_x=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Rd(e):""}function cB(e){switch(e.tag){case 5:return Rd(e.type);case 16:return Rd("Lazy");case 13:return Rd("Suspense");case 19:return Rd("SuspenseList");case 0:case 2:case 15:return e=Lx(e.type,!1),e;case 11:return e=Lx(e.type.render,!1),e;case 1:return e=Lx(e.type,!0),e;default:return""}}function my(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ru:return"Fragment";case nu:return"Portal";case uy:return"Profiler";case _w:return"StrictMode";case dy:return"Suspense";case fy:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case wD:return(e.displayName||"Context")+".Consumer";case bD:return(e._context.displayName||"Context")+".Provider";case Lw:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $w:return t=e.displayName||null,t!==null?t:my(e.type)||"Memo";case Vo:t=e._payload,e=e._init;try{return my(e(t))}catch{}}return null}function uB(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return my(t);case 8:return t===_w?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function SD(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dB(e){var t=SD(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ih(e){e._valueTracker||(e._valueTracker=dB(e))}function ND(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=SD(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function vp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function hy(e,t){var n=t.checked;return xr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ZN(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=fl(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function CD(e,t){t=t.checked,t!=null&&Iw(e,"checked",t,!1)}function py(e,t){CD(e,t);var n=fl(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?gy(e,t.type,n):t.hasOwnProperty("defaultValue")&&gy(e,t.type,fl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function JN(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function gy(e,t,n){(t!=="number"||vp(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Bd=Array.isArray;function bu(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+fl(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function xy(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ye(91));return xr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function e2(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ye(92));if(Bd(n)){if(1<n.length)throw Error(Ye(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:fl(n)}}function jD(e,t){var n=fl(t.value),r=fl(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function t2(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function AD(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vy(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?AD(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ah,PD=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ah=ah||document.createElement("div"),ah.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ah.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function hf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Gd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fB=["Webkit","ms","Moz","O"];Object.keys(Gd).forEach(function(e){fB.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Gd[t]=Gd[e]})});function TD(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Gd.hasOwnProperty(e)&&Gd[e]?(""+t).trim():t+"px"}function ED(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=TD(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var mB=xr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yy(e,t){if(t){if(mB[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ye(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ye(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ye(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ye(62))}}function by(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wy=null;function Fw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ky=null,wu=null,ku=null;function n2(e){if(e=om(e)){if(typeof ky!="function")throw Error(Ye(280));var t=e.stateNode;t&&(t=i0(t),ky(e.stateNode,e.type,t))}}function DD(e){wu?ku?ku.push(e):ku=[e]:wu=e}function MD(){if(wu){var e=wu,t=ku;if(ku=wu=null,n2(e),t)for(e=0;e<t.length;e++)n2(t[e])}}function OD(e,t){return e(t)}function ID(){}var $x=!1;function _D(e,t,n){if($x)return e(t,n);$x=!0;try{return OD(e,t,n)}finally{$x=!1,(wu!==null||ku!==null)&&(ID(),MD())}}function pf(e,t){var n=e.stateNode;if(n===null)return null;var r=i0(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ye(231,t,typeof n));return n}var Sy=!1;if(mo)try{var yd={};Object.defineProperty(yd,"passive",{get:function(){Sy=!0}}),window.addEventListener("test",yd,yd),window.removeEventListener("test",yd,yd)}catch{Sy=!1}function hB(e,t,n,r,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Yd=!1,yp=null,bp=!1,Ny=null,pB={onError:function(e){Yd=!0,yp=e}};function gB(e,t,n,r,i,a,s,o,l){Yd=!1,yp=null,hB.apply(pB,arguments)}function xB(e,t,n,r,i,a,s,o,l){if(gB.apply(this,arguments),Yd){if(Yd){var c=yp;Yd=!1,yp=null}else throw Error(Ye(198));bp||(bp=!0,Ny=c)}}function Ec(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function LD(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function r2(e){if(Ec(e)!==e)throw Error(Ye(188))}function vB(e){var t=e.alternate;if(!t){if(t=Ec(e),t===null)throw Error(Ye(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return r2(i),e;if(a===r)return r2(i),t;a=a.sibling}throw Error(Ye(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(Ye(189))}}if(n.alternate!==r)throw Error(Ye(190))}if(n.tag!==3)throw Error(Ye(188));return n.stateNode.current===n?e:t}function $D(e){return e=vB(e),e!==null?FD(e):null}function FD(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=FD(e);if(t!==null)return t;e=e.sibling}return null}var RD=Na.unstable_scheduleCallback,i2=Na.unstable_cancelCallback,yB=Na.unstable_shouldYield,bB=Na.unstable_requestPaint,Er=Na.unstable_now,wB=Na.unstable_getCurrentPriorityLevel,Rw=Na.unstable_ImmediatePriority,BD=Na.unstable_UserBlockingPriority,wp=Na.unstable_NormalPriority,kB=Na.unstable_LowPriority,zD=Na.unstable_IdlePriority,e0=null,Os=null;function SB(e){if(Os&&typeof Os.onCommitFiberRoot=="function")try{Os.onCommitFiberRoot(e0,e,void 0,(e.current.flags&128)===128)}catch{}}var cs=Math.clz32?Math.clz32:jB,NB=Math.log,CB=Math.LN2;function jB(e){return e>>>=0,e===0?32:31-(NB(e)/CB|0)|0}var sh=64,oh=4194304;function zd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function kp(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=zd(o):(a&=s,a!==0&&(r=zd(a)))}else s=n&~i,s!==0?r=zd(s):a!==0&&(r=zd(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-cs(t),i=1<<n,r|=e[n],t&=~i;return r}function AB(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function PB(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-cs(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=AB(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function Cy(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function UD(){var e=sh;return sh<<=1,!(sh&4194240)&&(sh=64),e}function Fx(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function am(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-cs(t),e[t]=n}function TB(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-cs(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function Bw(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-cs(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var $n=0;function VD(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var WD,zw,HD,qD,KD,jy=!1,lh=[],tl=null,nl=null,rl=null,gf=new Map,xf=new Map,Go=[],EB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function a2(e,t){switch(e){case"focusin":case"focusout":tl=null;break;case"dragenter":case"dragleave":nl=null;break;case"mouseover":case"mouseout":rl=null;break;case"pointerover":case"pointerout":gf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xf.delete(t.pointerId)}}function bd(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=om(t),t!==null&&zw(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function DB(e,t,n,r,i){switch(t){case"focusin":return tl=bd(tl,e,t,n,r,i),!0;case"dragenter":return nl=bd(nl,e,t,n,r,i),!0;case"mouseover":return rl=bd(rl,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return gf.set(a,bd(gf.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,xf.set(a,bd(xf.get(a)||null,e,t,n,r,i)),!0}return!1}function GD(e){var t=Xl(e.target);if(t!==null){var n=Ec(t);if(n!==null){if(t=n.tag,t===13){if(t=LD(n),t!==null){e.blockedOn=t,KD(e.priority,function(){HD(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ay(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);wy=r,n.target.dispatchEvent(r),wy=null}else return t=om(n),t!==null&&zw(t),e.blockedOn=n,!1;t.shift()}return!0}function s2(e,t,n){Gh(e)&&n.delete(t)}function MB(){jy=!1,tl!==null&&Gh(tl)&&(tl=null),nl!==null&&Gh(nl)&&(nl=null),rl!==null&&Gh(rl)&&(rl=null),gf.forEach(s2),xf.forEach(s2)}function wd(e,t){e.blockedOn===t&&(e.blockedOn=null,jy||(jy=!0,Na.unstable_scheduleCallback(Na.unstable_NormalPriority,MB)))}function vf(e){function t(i){return wd(i,e)}if(0<lh.length){wd(lh[0],e);for(var n=1;n<lh.length;n++){var r=lh[n];r.blockedOn===e&&(r.blockedOn=null)}}for(tl!==null&&wd(tl,e),nl!==null&&wd(nl,e),rl!==null&&wd(rl,e),gf.forEach(t),xf.forEach(t),n=0;n<Go.length;n++)r=Go[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Go.length&&(n=Go[0],n.blockedOn===null);)GD(n),n.blockedOn===null&&Go.shift()}var Su=No.ReactCurrentBatchConfig,Sp=!0;function OB(e,t,n,r){var i=$n,a=Su.transition;Su.transition=null;try{$n=1,Uw(e,t,n,r)}finally{$n=i,Su.transition=a}}function IB(e,t,n,r){var i=$n,a=Su.transition;Su.transition=null;try{$n=4,Uw(e,t,n,r)}finally{$n=i,Su.transition=a}}function Uw(e,t,n,r){if(Sp){var i=Ay(e,t,n,r);if(i===null)Gx(e,t,r,Np,n),a2(e,r);else if(DB(i,e,t,n,r))r.stopPropagation();else if(a2(e,r),t&4&&-1<EB.indexOf(e)){for(;i!==null;){var a=om(i);if(a!==null&&WD(a),a=Ay(e,t,n,r),a===null&&Gx(e,t,r,Np,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Gx(e,t,r,null,n)}}var Np=null;function Ay(e,t,n,r){if(Np=null,e=Fw(r),e=Xl(e),e!==null)if(t=Ec(e),t===null)e=null;else if(n=t.tag,n===13){if(e=LD(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Np=e,null}function YD(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wB()){case Rw:return 1;case BD:return 4;case wp:case kB:return 16;case zD:return 536870912;default:return 16}default:return 16}}var Qo=null,Vw=null,Yh=null;function XD(){if(Yh)return Yh;var e,t=Vw,n=t.length,r,i="value"in Qo?Qo.value:Qo.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[a-r];r++);return Yh=i.slice(e,1<r?1-r:void 0)}function Xh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ch(){return!0}function o2(){return!1}function Pa(e){function t(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ch:o2,this.isPropagationStopped=o2,this}return xr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ch)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ch)},persist:function(){},isPersistent:ch}),t}var Zu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ww=Pa(Zu),sm=xr({},Zu,{view:0,detail:0}),_B=Pa(sm),Rx,Bx,kd,t0=xr({},sm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==kd&&(kd&&e.type==="mousemove"?(Rx=e.screenX-kd.screenX,Bx=e.screenY-kd.screenY):Bx=Rx=0,kd=e),Rx)},movementY:function(e){return"movementY"in e?e.movementY:Bx}}),l2=Pa(t0),LB=xr({},t0,{dataTransfer:0}),$B=Pa(LB),FB=xr({},sm,{relatedTarget:0}),zx=Pa(FB),RB=xr({},Zu,{animationName:0,elapsedTime:0,pseudoElement:0}),BB=Pa(RB),zB=xr({},Zu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),UB=Pa(zB),VB=xr({},Zu,{data:0}),c2=Pa(VB),WB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},HB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KB(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qB[e])?!!t[e]:!1}function Hw(){return KB}var GB=xr({},sm,{key:function(e){if(e.key){var t=WB[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?HB[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hw,charCode:function(e){return e.type==="keypress"?Xh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),YB=Pa(GB),XB=xr({},t0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),u2=Pa(XB),QB=xr({},sm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hw}),ZB=Pa(QB),JB=xr({},Zu,{propertyName:0,elapsedTime:0,pseudoElement:0}),ez=Pa(JB),tz=xr({},t0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),nz=Pa(tz),rz=[9,13,27,32],qw=mo&&"CompositionEvent"in window,Xd=null;mo&&"documentMode"in document&&(Xd=document.documentMode);var iz=mo&&"TextEvent"in window&&!Xd,QD=mo&&(!qw||Xd&&8<Xd&&11>=Xd),d2=" ",f2=!1;function ZD(e,t){switch(e){case"keyup":return rz.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function JD(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var iu=!1;function az(e,t){switch(e){case"compositionend":return JD(t);case"keypress":return t.which!==32?null:(f2=!0,d2);case"textInput":return e=t.data,e===d2&&f2?null:e;default:return null}}function sz(e,t){if(iu)return e==="compositionend"||!qw&&ZD(e,t)?(e=XD(),Yh=Vw=Qo=null,iu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return QD&&t.locale!=="ko"?null:t.data;default:return null}}var oz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function m2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!oz[e.type]:t==="textarea"}function eM(e,t,n,r){DD(r),t=Cp(t,"onChange"),0<t.length&&(n=new Ww("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qd=null,yf=null;function lz(e){dM(e,0)}function n0(e){var t=ou(e);if(ND(t))return e}function cz(e,t){if(e==="change")return t}var tM=!1;if(mo){var Ux;if(mo){var Vx="oninput"in document;if(!Vx){var h2=document.createElement("div");h2.setAttribute("oninput","return;"),Vx=typeof h2.oninput=="function"}Ux=Vx}else Ux=!1;tM=Ux&&(!document.documentMode||9<document.documentMode)}function p2(){Qd&&(Qd.detachEvent("onpropertychange",nM),yf=Qd=null)}function nM(e){if(e.propertyName==="value"&&n0(yf)){var t=[];eM(t,yf,e,Fw(e)),_D(lz,t)}}function uz(e,t,n){e==="focusin"?(p2(),Qd=t,yf=n,Qd.attachEvent("onpropertychange",nM)):e==="focusout"&&p2()}function dz(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return n0(yf)}function fz(e,t){if(e==="click")return n0(t)}function mz(e,t){if(e==="input"||e==="change")return n0(t)}function hz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ms=typeof Object.is=="function"?Object.is:hz;function bf(e,t){if(ms(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!cy.call(t,i)||!ms(e[i],t[i]))return!1}return!0}function g2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function x2(e,t){var n=g2(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=g2(n)}}function rM(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rM(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function iM(){for(var e=window,t=vp();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=vp(e.document)}return t}function Kw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function pz(e){var t=iM(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&rM(n.ownerDocument.documentElement,n)){if(r!==null&&Kw(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=x2(n,a);var s=x2(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gz=mo&&"documentMode"in document&&11>=document.documentMode,au=null,Py=null,Zd=null,Ty=!1;function v2(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ty||au==null||au!==vp(r)||(r=au,"selectionStart"in r&&Kw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Zd&&bf(Zd,r)||(Zd=r,r=Cp(Py,"onSelect"),0<r.length&&(t=new Ww("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=au)))}function uh(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var su={animationend:uh("Animation","AnimationEnd"),animationiteration:uh("Animation","AnimationIteration"),animationstart:uh("Animation","AnimationStart"),transitionend:uh("Transition","TransitionEnd")},Wx={},aM={};mo&&(aM=document.createElement("div").style,"AnimationEvent"in window||(delete su.animationend.animation,delete su.animationiteration.animation,delete su.animationstart.animation),"TransitionEvent"in window||delete su.transitionend.transition);function r0(e){if(Wx[e])return Wx[e];if(!su[e])return e;var t=su[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in aM)return Wx[e]=t[n];return e}var sM=r0("animationend"),oM=r0("animationiteration"),lM=r0("animationstart"),cM=r0("transitionend"),uM=new Map,y2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vl(e,t){uM.set(e,t),Tc(t,[e])}for(var Hx=0;Hx<y2.length;Hx++){var qx=y2[Hx],xz=qx.toLowerCase(),vz=qx[0].toUpperCase()+qx.slice(1);vl(xz,"on"+vz)}vl(sM,"onAnimationEnd");vl(oM,"onAnimationIteration");vl(lM,"onAnimationStart");vl("dblclick","onDoubleClick");vl("focusin","onFocus");vl("focusout","onBlur");vl(cM,"onTransitionEnd");Eu("onMouseEnter",["mouseout","mouseover"]);Eu("onMouseLeave",["mouseout","mouseover"]);Eu("onPointerEnter",["pointerout","pointerover"]);Eu("onPointerLeave",["pointerout","pointerover"]);Tc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ud="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yz=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ud));function b2(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,xB(r,t,void 0,e),e.currentTarget=null}function dM(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;b2(i,o,c),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;b2(i,o,c),a=l}}}if(bp)throw e=Ny,bp=!1,Ny=null,e}function tr(e,t){var n=t[Iy];n===void 0&&(n=t[Iy]=new Set);var r=e+"__bubble";n.has(r)||(fM(t,e,2,!1),n.add(r))}function Kx(e,t,n){var r=0;t&&(r|=4),fM(n,e,r,t)}var dh="_reactListening"+Math.random().toString(36).slice(2);function wf(e){if(!e[dh]){e[dh]=!0,yD.forEach(function(n){n!=="selectionchange"&&(yz.has(n)||Kx(n,!1,e),Kx(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[dh]||(t[dh]=!0,Kx("selectionchange",!1,t))}}function fM(e,t,n,r){switch(YD(t)){case 1:var i=OB;break;case 4:i=IB;break;default:i=Uw}n=i.bind(null,t,n,e),i=void 0,!Sy||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gx(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Xl(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}_D(function(){var c=a,d=Fw(n),f=[];e:{var h=uM.get(e);if(h!==void 0){var m=Ww,p=e;switch(e){case"keypress":if(Xh(n)===0)break e;case"keydown":case"keyup":m=YB;break;case"focusin":p="focus",m=zx;break;case"focusout":p="blur",m=zx;break;case"beforeblur":case"afterblur":m=zx;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=l2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=$B;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=ZB;break;case sM:case oM:case lM:m=BB;break;case cM:m=ez;break;case"scroll":m=_B;break;case"wheel":m=nz;break;case"copy":case"cut":case"paste":m=UB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=u2}var g=(t&4)!==0,y=!g&&e==="scroll",x=g?h!==null?h+"Capture":null:h;g=[];for(var b=c,w;b!==null;){w=b;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,x!==null&&(k=pf(b,x),k!=null&&g.push(kf(b,k,w)))),y)break;b=b.return}0<g.length&&(h=new m(h,p,null,n,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==wy&&(p=n.relatedTarget||n.fromElement)&&(Xl(p)||p[ho]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=n.relatedTarget||n.toElement,m=c,p=p?Xl(p):null,p!==null&&(y=Ec(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=c),m!==p)){if(g=l2,k="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=u2,k="onPointerLeave",x="onPointerEnter",b="pointer"),y=m==null?h:ou(m),w=p==null?h:ou(p),h=new g(k,b+"leave",m,n,d),h.target=y,h.relatedTarget=w,k=null,Xl(d)===c&&(g=new g(x,b+"enter",p,n,d),g.target=w,g.relatedTarget=y,k=g),y=k,m&&p)t:{for(g=m,x=p,b=0,w=g;w;w=qc(w))b++;for(w=0,k=x;k;k=qc(k))w++;for(;0<b-w;)g=qc(g),b--;for(;0<w-b;)x=qc(x),w--;for(;b--;){if(g===x||x!==null&&g===x.alternate)break t;g=qc(g),x=qc(x)}g=null}else g=null;m!==null&&w2(f,h,m,g,!1),p!==null&&y!==null&&w2(f,y,p,g,!0)}}e:{if(h=c?ou(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var C=cz;else if(m2(h))if(tM)C=mz;else{C=dz;var N=uz}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=fz);if(C&&(C=C(e,c))){eM(f,C,n,d);break e}N&&N(e,h,c),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&gy(h,"number",h.value)}switch(N=c?ou(c):window,e){case"focusin":(m2(N)||N.contentEditable==="true")&&(au=N,Py=c,Zd=null);break;case"focusout":Zd=Py=au=null;break;case"mousedown":Ty=!0;break;case"contextmenu":case"mouseup":case"dragend":Ty=!1,v2(f,n,d);break;case"selectionchange":if(gz)break;case"keydown":case"keyup":v2(f,n,d)}var j;if(qw)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else iu?ZD(e,n)&&(D="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(QD&&n.locale!=="ko"&&(iu||D!=="onCompositionStart"?D==="onCompositionEnd"&&iu&&(j=XD()):(Qo=d,Vw="value"in Qo?Qo.value:Qo.textContent,iu=!0)),N=Cp(c,D),0<N.length&&(D=new c2(D,e,null,n,d),f.push({event:D,listeners:N}),j?D.data=j:(j=JD(n),j!==null&&(D.data=j)))),(j=iz?az(e,n):sz(e,n))&&(c=Cp(c,"onBeforeInput"),0<c.length&&(d=new c2("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=j))}dM(f,t)})}function kf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Cp(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=pf(e,n),a!=null&&r.unshift(kf(e,a,i)),a=pf(e,t),a!=null&&r.push(kf(e,a,i))),e=e.return}return r}function qc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function w2(e,t,n,r,i){for(var a=t._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=pf(n,a),l!=null&&s.unshift(kf(n,l,o))):i||(l=pf(n,a),l!=null&&s.push(kf(n,l,o)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var bz=/\r\n?/g,wz=/\u0000|\uFFFD/g;function k2(e){return(typeof e=="string"?e:""+e).replace(bz,`
`).replace(wz,"")}function fh(e,t,n){if(t=k2(t),k2(e)!==t&&n)throw Error(Ye(425))}function jp(){}var Ey=null,Dy=null;function My(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Oy=typeof setTimeout=="function"?setTimeout:void 0,kz=typeof clearTimeout=="function"?clearTimeout:void 0,S2=typeof Promise=="function"?Promise:void 0,Sz=typeof queueMicrotask=="function"?queueMicrotask:typeof S2<"u"?function(e){return S2.resolve(null).then(e).catch(Nz)}:Oy;function Nz(e){setTimeout(function(){throw e})}function Yx(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),vf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);vf(t)}function il(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function N2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ju=Math.random().toString(36).slice(2),Ds="__reactFiber$"+Ju,Sf="__reactProps$"+Ju,ho="__reactContainer$"+Ju,Iy="__reactEvents$"+Ju,Cz="__reactListeners$"+Ju,jz="__reactHandles$"+Ju;function Xl(e){var t=e[Ds];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ho]||n[Ds]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=N2(e);e!==null;){if(n=e[Ds])return n;e=N2(e)}return t}e=n,n=e.parentNode}return null}function om(e){return e=e[Ds]||e[ho],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ou(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ye(33))}function i0(e){return e[Sf]||null}var _y=[],lu=-1;function yl(e){return{current:e}}function rr(e){0>lu||(e.current=_y[lu],_y[lu]=null,lu--)}function Gn(e,t){lu++,_y[lu]=e.current,e.current=t}var ml={},ji=yl(ml),Zi=yl(!1),mc=ml;function Du(e,t){var n=e.type.contextTypes;if(!n)return ml;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ji(e){return e=e.childContextTypes,e!=null}function Ap(){rr(Zi),rr(ji)}function C2(e,t,n){if(ji.current!==ml)throw Error(Ye(168));Gn(ji,t),Gn(Zi,n)}function mM(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Ye(108,uB(e)||"Unknown",i));return xr({},n,r)}function Pp(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ml,mc=ji.current,Gn(ji,e),Gn(Zi,Zi.current),!0}function j2(e,t,n){var r=e.stateNode;if(!r)throw Error(Ye(169));n?(e=mM(e,t,mc),r.__reactInternalMemoizedMergedChildContext=e,rr(Zi),rr(ji),Gn(ji,e)):rr(Zi),Gn(Zi,n)}var Qs=null,a0=!1,Xx=!1;function hM(e){Qs===null?Qs=[e]:Qs.push(e)}function Az(e){a0=!0,hM(e)}function bl(){if(!Xx&&Qs!==null){Xx=!0;var e=0,t=$n;try{var n=Qs;for($n=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Qs=null,a0=!1}catch(i){throw Qs!==null&&(Qs=Qs.slice(e+1)),RD(Rw,bl),i}finally{$n=t,Xx=!1}}return null}var cu=[],uu=0,Tp=null,Ep=0,Ra=[],Ba=0,hc=null,no=1,ro="";function Ul(e,t){cu[uu++]=Ep,cu[uu++]=Tp,Tp=e,Ep=t}function pM(e,t,n){Ra[Ba++]=no,Ra[Ba++]=ro,Ra[Ba++]=hc,hc=e;var r=no;e=ro;var i=32-cs(r)-1;r&=~(1<<i),n+=1;var a=32-cs(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,no=1<<32-cs(t)+i|n<<i|r,ro=a+e}else no=1<<a|n<<i|r,ro=e}function Gw(e){e.return!==null&&(Ul(e,1),pM(e,1,0))}function Yw(e){for(;e===Tp;)Tp=cu[--uu],cu[uu]=null,Ep=cu[--uu],cu[uu]=null;for(;e===hc;)hc=Ra[--Ba],Ra[Ba]=null,ro=Ra[--Ba],Ra[Ba]=null,no=Ra[--Ba],Ra[Ba]=null}var ba=null,va=null,lr=!1,as=null;function gM(e,t){var n=Ua(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function A2(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ba=e,va=il(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ba=e,va=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=hc!==null?{id:no,overflow:ro}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ua(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ba=e,va=null,!0):!1;default:return!1}}function Ly(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $y(e){if(lr){var t=va;if(t){var n=t;if(!A2(e,t)){if(Ly(e))throw Error(Ye(418));t=il(n.nextSibling);var r=ba;t&&A2(e,t)?gM(r,n):(e.flags=e.flags&-4097|2,lr=!1,ba=e)}}else{if(Ly(e))throw Error(Ye(418));e.flags=e.flags&-4097|2,lr=!1,ba=e}}}function P2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ba=e}function mh(e){if(e!==ba)return!1;if(!lr)return P2(e),lr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!My(e.type,e.memoizedProps)),t&&(t=va)){if(Ly(e))throw xM(),Error(Ye(418));for(;t;)gM(e,t),t=il(t.nextSibling)}if(P2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ye(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){va=il(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}va=null}}else va=ba?il(e.stateNode.nextSibling):null;return!0}function xM(){for(var e=va;e;)e=il(e.nextSibling)}function Mu(){va=ba=null,lr=!1}function Xw(e){as===null?as=[e]:as.push(e)}var Pz=No.ReactCurrentBatchConfig;function Sd(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ye(309));var r=n.stateNode}if(!r)throw Error(Ye(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(Ye(284));if(!n._owner)throw Error(Ye(290,e))}return e}function hh(e,t){throw e=Object.prototype.toString.call(t),Error(Ye(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function T2(e){var t=e._init;return t(e._payload)}function vM(e){function t(x,b){if(e){var w=x.deletions;w===null?(x.deletions=[b],x.flags|=16):w.push(b)}}function n(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function r(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function i(x,b){return x=ll(x,b),x.index=0,x.sibling=null,x}function a(x,b,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<b?(x.flags|=2,b):w):(x.flags|=2,b)):(x.flags|=1048576,b)}function s(x){return e&&x.alternate===null&&(x.flags|=2),x}function o(x,b,w,k){return b===null||b.tag!==6?(b=rv(w,x.mode,k),b.return=x,b):(b=i(b,w),b.return=x,b)}function l(x,b,w,k){var C=w.type;return C===ru?d(x,b,w.props.children,k,w.key):b!==null&&(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Vo&&T2(C)===b.type)?(k=i(b,w.props),k.ref=Sd(x,b,w),k.return=x,k):(k=rp(w.type,w.key,w.props,null,x.mode,k),k.ref=Sd(x,b,w),k.return=x,k)}function c(x,b,w,k){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=iv(w,x.mode,k),b.return=x,b):(b=i(b,w.children||[]),b.return=x,b)}function d(x,b,w,k,C){return b===null||b.tag!==7?(b=sc(w,x.mode,k,C),b.return=x,b):(b=i(b,w),b.return=x,b)}function f(x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=rv(""+b,x.mode,w),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case rh:return w=rp(b.type,b.key,b.props,null,x.mode,w),w.ref=Sd(x,null,b),w.return=x,w;case nu:return b=iv(b,x.mode,w),b.return=x,b;case Vo:var k=b._init;return f(x,k(b._payload),w)}if(Bd(b)||vd(b))return b=sc(b,x.mode,w,null),b.return=x,b;hh(x,b)}return null}function h(x,b,w,k){var C=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:o(x,b,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case rh:return w.key===C?l(x,b,w,k):null;case nu:return w.key===C?c(x,b,w,k):null;case Vo:return C=w._init,h(x,b,C(w._payload),k)}if(Bd(w)||vd(w))return C!==null?null:d(x,b,w,k,null);hh(x,w)}return null}function m(x,b,w,k,C){if(typeof k=="string"&&k!==""||typeof k=="number")return x=x.get(w)||null,o(b,x,""+k,C);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case rh:return x=x.get(k.key===null?w:k.key)||null,l(b,x,k,C);case nu:return x=x.get(k.key===null?w:k.key)||null,c(b,x,k,C);case Vo:var N=k._init;return m(x,b,w,N(k._payload),C)}if(Bd(k)||vd(k))return x=x.get(w)||null,d(b,x,k,C,null);hh(b,k)}return null}function p(x,b,w,k){for(var C=null,N=null,j=b,D=b=0,L=null;j!==null&&D<w.length;D++){j.index>D?(L=j,j=null):L=j.sibling;var T=h(x,j,w[D],k);if(T===null){j===null&&(j=L);break}e&&j&&T.alternate===null&&t(x,j),b=a(T,b,D),N===null?C=T:N.sibling=T,N=T,j=L}if(D===w.length)return n(x,j),lr&&Ul(x,D),C;if(j===null){for(;D<w.length;D++)j=f(x,w[D],k),j!==null&&(b=a(j,b,D),N===null?C=j:N.sibling=j,N=j);return lr&&Ul(x,D),C}for(j=r(x,j);D<w.length;D++)L=m(j,x,D,w[D],k),L!==null&&(e&&L.alternate!==null&&j.delete(L.key===null?D:L.key),b=a(L,b,D),N===null?C=L:N.sibling=L,N=L);return e&&j.forEach(function(M){return t(x,M)}),lr&&Ul(x,D),C}function g(x,b,w,k){var C=vd(w);if(typeof C!="function")throw Error(Ye(150));if(w=C.call(w),w==null)throw Error(Ye(151));for(var N=C=null,j=b,D=b=0,L=null,T=w.next();j!==null&&!T.done;D++,T=w.next()){j.index>D?(L=j,j=null):L=j.sibling;var M=h(x,j,T.value,k);if(M===null){j===null&&(j=L);break}e&&j&&M.alternate===null&&t(x,j),b=a(M,b,D),N===null?C=M:N.sibling=M,N=M,j=L}if(T.done)return n(x,j),lr&&Ul(x,D),C;if(j===null){for(;!T.done;D++,T=w.next())T=f(x,T.value,k),T!==null&&(b=a(T,b,D),N===null?C=T:N.sibling=T,N=T);return lr&&Ul(x,D),C}for(j=r(x,j);!T.done;D++,T=w.next())T=m(j,x,D,T.value,k),T!==null&&(e&&T.alternate!==null&&j.delete(T.key===null?D:T.key),b=a(T,b,D),N===null?C=T:N.sibling=T,N=T);return e&&j.forEach(function(O){return t(x,O)}),lr&&Ul(x,D),C}function y(x,b,w,k){if(typeof w=="object"&&w!==null&&w.type===ru&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case rh:e:{for(var C=w.key,N=b;N!==null;){if(N.key===C){if(C=w.type,C===ru){if(N.tag===7){n(x,N.sibling),b=i(N,w.props.children),b.return=x,x=b;break e}}else if(N.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Vo&&T2(C)===N.type){n(x,N.sibling),b=i(N,w.props),b.ref=Sd(x,N,w),b.return=x,x=b;break e}n(x,N);break}else t(x,N);N=N.sibling}w.type===ru?(b=sc(w.props.children,x.mode,k,w.key),b.return=x,x=b):(k=rp(w.type,w.key,w.props,null,x.mode,k),k.ref=Sd(x,b,w),k.return=x,x=k)}return s(x);case nu:e:{for(N=w.key;b!==null;){if(b.key===N)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(x,b.sibling),b=i(b,w.children||[]),b.return=x,x=b;break e}else{n(x,b);break}else t(x,b);b=b.sibling}b=iv(w,x.mode,k),b.return=x,x=b}return s(x);case Vo:return N=w._init,y(x,b,N(w._payload),k)}if(Bd(w))return p(x,b,w,k);if(vd(w))return g(x,b,w,k);hh(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(x,b.sibling),b=i(b,w),b.return=x,x=b):(n(x,b),b=rv(w,x.mode,k),b.return=x,x=b),s(x)):n(x,b)}return y}var Ou=vM(!0),yM=vM(!1),Dp=yl(null),Mp=null,du=null,Qw=null;function Zw(){Qw=du=Mp=null}function Jw(e){var t=Dp.current;rr(Dp),e._currentValue=t}function Fy(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Nu(e,t){Mp=e,Qw=du=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xi=!0),e.firstContext=null)}function Ha(e){var t=e._currentValue;if(Qw!==e)if(e={context:e,memoizedValue:t,next:null},du===null){if(Mp===null)throw Error(Ye(308));du=e,Mp.dependencies={lanes:0,firstContext:e}}else du=du.next=e;return t}var Ql=null;function e1(e){Ql===null?Ql=[e]:Ql.push(e)}function bM(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,e1(t)):(n.next=i.next,i.next=n),t.interleaved=n,po(e,r)}function po(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Wo=!1;function t1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wM(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function oo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function al(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,wn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,po(e,n)}return i=r.interleaved,i===null?(t.next=t,e1(r)):(t.next=i.next,i.next=t),r.interleaved=t,po(e,n)}function Qh(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Bw(e,n)}}function E2(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Op(e,t,n,r){var i=e.updateQueue;Wo=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,d=c=l=null,o=a;do{var h=o.lane,m=o.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,g=o;switch(h=t,m=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=xr({},f,h);break e;case 2:Wo=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=m,l=f):d=d.next=m,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);gc|=s,e.lanes=s,e.memoizedState=f}}function D2(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ye(191,i));i.call(r)}}}var lm={},Is=yl(lm),Nf=yl(lm),Cf=yl(lm);function Zl(e){if(e===lm)throw Error(Ye(174));return e}function n1(e,t){switch(Gn(Cf,t),Gn(Nf,e),Gn(Is,lm),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:vy(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=vy(t,e)}rr(Is),Gn(Is,t)}function Iu(){rr(Is),rr(Nf),rr(Cf)}function kM(e){Zl(Cf.current);var t=Zl(Is.current),n=vy(t,e.type);t!==n&&(Gn(Nf,e),Gn(Is,n))}function r1(e){Nf.current===e&&(rr(Is),rr(Nf))}var mr=yl(0);function Ip(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Qx=[];function i1(){for(var e=0;e<Qx.length;e++)Qx[e]._workInProgressVersionPrimary=null;Qx.length=0}var Zh=No.ReactCurrentDispatcher,Zx=No.ReactCurrentBatchConfig,pc=0,gr=null,Vr=null,ti=null,_p=!1,Jd=!1,jf=0,Tz=0;function xi(){throw Error(Ye(321))}function a1(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ms(e[n],t[n]))return!1;return!0}function s1(e,t,n,r,i,a){if(pc=a,gr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zh.current=e===null||e.memoizedState===null?Oz:Iz,e=n(r,i),Jd){a=0;do{if(Jd=!1,jf=0,25<=a)throw Error(Ye(301));a+=1,ti=Vr=null,t.updateQueue=null,Zh.current=_z,e=n(r,i)}while(Jd)}if(Zh.current=Lp,t=Vr!==null&&Vr.next!==null,pc=0,ti=Vr=gr=null,_p=!1,t)throw Error(Ye(300));return e}function o1(){var e=jf!==0;return jf=0,e}function Ps(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ti===null?gr.memoizedState=ti=e:ti=ti.next=e,ti}function qa(){if(Vr===null){var e=gr.alternate;e=e!==null?e.memoizedState:null}else e=Vr.next;var t=ti===null?gr.memoizedState:ti.next;if(t!==null)ti=t,Vr=e;else{if(e===null)throw Error(Ye(310));Vr=e,e={memoizedState:Vr.memoizedState,baseState:Vr.baseState,baseQueue:Vr.baseQueue,queue:Vr.queue,next:null},ti===null?gr.memoizedState=ti=e:ti=ti.next=e}return ti}function Af(e,t){return typeof t=="function"?t(e):t}function Jx(e){var t=qa(),n=t.queue;if(n===null)throw Error(Ye(311));n.lastRenderedReducer=e;var r=Vr,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,c=a;do{var d=c.lane;if((pc&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=r):l=l.next=f,gr.lanes|=d,gc|=d}c=c.next}while(c!==null&&c!==a);l===null?s=r:l.next=o,ms(r,t.memoizedState)||(Xi=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,gr.lanes|=a,gc|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ev(e){var t=qa(),n=t.queue;if(n===null)throw Error(Ye(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);ms(a,t.memoizedState)||(Xi=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function SM(){}function NM(e,t){var n=gr,r=qa(),i=t(),a=!ms(r.memoizedState,i);if(a&&(r.memoizedState=i,Xi=!0),r=r.queue,l1(AM.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||ti!==null&&ti.memoizedState.tag&1){if(n.flags|=2048,Pf(9,jM.bind(null,n,r,i,t),void 0,null),ni===null)throw Error(Ye(349));pc&30||CM(n,t,i)}return i}function CM(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=gr.updateQueue,t===null?(t={lastEffect:null,stores:null},gr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function jM(e,t,n,r){t.value=n,t.getSnapshot=r,PM(t)&&TM(e)}function AM(e,t,n){return n(function(){PM(t)&&TM(e)})}function PM(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ms(e,n)}catch{return!0}}function TM(e){var t=po(e,1);t!==null&&us(t,e,1,-1)}function M2(e){var t=Ps();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Af,lastRenderedState:e},t.queue=e,e=e.dispatch=Mz.bind(null,gr,e),[t.memoizedState,e]}function Pf(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=gr.updateQueue,t===null?(t={lastEffect:null,stores:null},gr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function EM(){return qa().memoizedState}function Jh(e,t,n,r){var i=Ps();gr.flags|=e,i.memoizedState=Pf(1|t,n,void 0,r===void 0?null:r)}function s0(e,t,n,r){var i=qa();r=r===void 0?null:r;var a=void 0;if(Vr!==null){var s=Vr.memoizedState;if(a=s.destroy,r!==null&&a1(r,s.deps)){i.memoizedState=Pf(t,n,a,r);return}}gr.flags|=e,i.memoizedState=Pf(1|t,n,a,r)}function O2(e,t){return Jh(8390656,8,e,t)}function l1(e,t){return s0(2048,8,e,t)}function DM(e,t){return s0(4,2,e,t)}function MM(e,t){return s0(4,4,e,t)}function OM(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function IM(e,t,n){return n=n!=null?n.concat([e]):null,s0(4,4,OM.bind(null,t,e),n)}function c1(){}function _M(e,t){var n=qa();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&a1(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function LM(e,t){var n=qa();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&a1(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $M(e,t,n){return pc&21?(ms(n,t)||(n=UD(),gr.lanes|=n,gc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xi=!0),e.memoizedState=n)}function Ez(e,t){var n=$n;$n=n!==0&&4>n?n:4,e(!0);var r=Zx.transition;Zx.transition={};try{e(!1),t()}finally{$n=n,Zx.transition=r}}function FM(){return qa().memoizedState}function Dz(e,t,n){var r=ol(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},RM(e))BM(t,n);else if(n=bM(e,t,n,r),n!==null){var i=Ri();us(n,e,r,i),zM(n,t,r)}}function Mz(e,t,n){var r=ol(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(RM(e))BM(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,ms(o,s)){var l=t.interleaved;l===null?(i.next=i,e1(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=bM(e,t,i,r),n!==null&&(i=Ri(),us(n,e,r,i),zM(n,t,r))}}function RM(e){var t=e.alternate;return e===gr||t!==null&&t===gr}function BM(e,t){Jd=_p=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function zM(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Bw(e,n)}}var Lp={readContext:Ha,useCallback:xi,useContext:xi,useEffect:xi,useImperativeHandle:xi,useInsertionEffect:xi,useLayoutEffect:xi,useMemo:xi,useReducer:xi,useRef:xi,useState:xi,useDebugValue:xi,useDeferredValue:xi,useTransition:xi,useMutableSource:xi,useSyncExternalStore:xi,useId:xi,unstable_isNewReconciler:!1},Oz={readContext:Ha,useCallback:function(e,t){return Ps().memoizedState=[e,t===void 0?null:t],e},useContext:Ha,useEffect:O2,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Jh(4194308,4,OM.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Jh(4194308,4,e,t)},useInsertionEffect:function(e,t){return Jh(4,2,e,t)},useMemo:function(e,t){var n=Ps();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ps();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Dz.bind(null,gr,e),[r.memoizedState,e]},useRef:function(e){var t=Ps();return e={current:e},t.memoizedState=e},useState:M2,useDebugValue:c1,useDeferredValue:function(e){return Ps().memoizedState=e},useTransition:function(){var e=M2(!1),t=e[0];return e=Ez.bind(null,e[1]),Ps().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=gr,i=Ps();if(lr){if(n===void 0)throw Error(Ye(407));n=n()}else{if(n=t(),ni===null)throw Error(Ye(349));pc&30||CM(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,O2(AM.bind(null,r,a,e),[e]),r.flags|=2048,Pf(9,jM.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ps(),t=ni.identifierPrefix;if(lr){var n=ro,r=no;n=(r&~(1<<32-cs(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=jf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Tz++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Iz={readContext:Ha,useCallback:_M,useContext:Ha,useEffect:l1,useImperativeHandle:IM,useInsertionEffect:DM,useLayoutEffect:MM,useMemo:LM,useReducer:Jx,useRef:EM,useState:function(){return Jx(Af)},useDebugValue:c1,useDeferredValue:function(e){var t=qa();return $M(t,Vr.memoizedState,e)},useTransition:function(){var e=Jx(Af)[0],t=qa().memoizedState;return[e,t]},useMutableSource:SM,useSyncExternalStore:NM,useId:FM,unstable_isNewReconciler:!1},_z={readContext:Ha,useCallback:_M,useContext:Ha,useEffect:l1,useImperativeHandle:IM,useInsertionEffect:DM,useLayoutEffect:MM,useMemo:LM,useReducer:ev,useRef:EM,useState:function(){return ev(Af)},useDebugValue:c1,useDeferredValue:function(e){var t=qa();return Vr===null?t.memoizedState=e:$M(t,Vr.memoizedState,e)},useTransition:function(){var e=ev(Af)[0],t=qa().memoizedState;return[e,t]},useMutableSource:SM,useSyncExternalStore:NM,useId:FM,unstable_isNewReconciler:!1};function rs(e,t){if(e&&e.defaultProps){t=xr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ry(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:xr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var o0={isMounted:function(e){return(e=e._reactInternals)?Ec(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ri(),i=ol(e),a=oo(r,i);a.payload=t,n!=null&&(a.callback=n),t=al(e,a,i),t!==null&&(us(t,e,i,r),Qh(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ri(),i=ol(e),a=oo(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=al(e,a,i),t!==null&&(us(t,e,i,r),Qh(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ri(),r=ol(e),i=oo(n,r);i.tag=2,t!=null&&(i.callback=t),t=al(e,i,r),t!==null&&(us(t,e,r,n),Qh(t,e,r))}};function I2(e,t,n,r,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,s):t.prototype&&t.prototype.isPureReactComponent?!bf(n,r)||!bf(i,a):!0}function UM(e,t,n){var r=!1,i=ml,a=t.contextType;return typeof a=="object"&&a!==null?a=Ha(a):(i=Ji(t)?mc:ji.current,r=t.contextTypes,a=(r=r!=null)?Du(e,i):ml),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=o0,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function _2(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&o0.enqueueReplaceState(t,t.state,null)}function By(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},t1(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Ha(a):(a=Ji(t)?mc:ji.current,i.context=Du(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Ry(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&o0.enqueueReplaceState(i,i.state,null),Op(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function _u(e,t){try{var n="",r=t;do n+=cB(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function tv(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function zy(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Lz=typeof WeakMap=="function"?WeakMap:Map;function VM(e,t,n){n=oo(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Fp||(Fp=!0,Qy=r),zy(e,t)},n}function WM(e,t,n){n=oo(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){zy(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){zy(e,t),typeof r!="function"&&(sl===null?sl=new Set([this]):sl.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function L2(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Lz;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Xz.bind(null,e,t,n),t.then(e,e))}function $2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function F2(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=oo(-1,1),t.tag=2,al(n,t,1))),n.lanes|=1),e)}var $z=No.ReactCurrentOwner,Xi=!1;function Li(e,t,n,r){t.child=e===null?yM(t,null,n,r):Ou(t,e.child,n,r)}function R2(e,t,n,r,i){n=n.render;var a=t.ref;return Nu(t,i),r=s1(e,t,n,r,a,i),n=o1(),e!==null&&!Xi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,go(e,t,i)):(lr&&n&&Gw(t),t.flags|=1,Li(e,t,r,i),t.child)}function B2(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!x1(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,HM(e,t,a,r,i)):(e=rp(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:bf,n(s,r)&&e.ref===t.ref)return go(e,t,i)}return t.flags|=1,e=ll(a,r),e.ref=t.ref,e.return=t,t.child=e}function HM(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(bf(a,r)&&e.ref===t.ref)if(Xi=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(Xi=!0);else return t.lanes=e.lanes,go(e,t,i)}return Uy(e,t,n,r,i)}function qM(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gn(mu,pa),pa|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Gn(mu,pa),pa|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Gn(mu,pa),pa|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Gn(mu,pa),pa|=r;return Li(e,t,i,n),t.child}function KM(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Uy(e,t,n,r,i){var a=Ji(n)?mc:ji.current;return a=Du(t,a),Nu(t,i),n=s1(e,t,n,r,a,i),r=o1(),e!==null&&!Xi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,go(e,t,i)):(lr&&r&&Gw(t),t.flags|=1,Li(e,t,n,i),t.child)}function z2(e,t,n,r,i){if(Ji(n)){var a=!0;Pp(t)}else a=!1;if(Nu(t,i),t.stateNode===null)ep(e,t),UM(t,n,r),By(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ha(c):(c=Ji(n)?mc:ji.current,c=Du(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==c)&&_2(t,s,r,c),Wo=!1;var h=t.memoizedState;s.state=h,Op(t,r,s,i),l=t.memoizedState,o!==r||h!==l||Zi.current||Wo?(typeof d=="function"&&(Ry(t,n,d,r),l=t.memoizedState),(o=Wo||I2(t,n,o,r,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,wM(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:rs(t.type,o),s.props=c,f=t.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ha(l):(l=Ji(n)?mc:ji.current,l=Du(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&_2(t,s,r,l),Wo=!1,h=t.memoizedState,s.state=h,Op(t,r,s,i);var p=t.memoizedState;o!==f||h!==p||Zi.current||Wo?(typeof m=="function"&&(Ry(t,n,m,r),p=t.memoizedState),(c=Wo||I2(t,n,c,r,h,p,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Vy(e,t,n,r,a,i)}function Vy(e,t,n,r,i,a){KM(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&j2(t,n,!1),go(e,t,a);r=t.stateNode,$z.current=t;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Ou(t,e.child,null,a),t.child=Ou(t,null,o,a)):Li(e,t,o,a),t.memoizedState=r.state,i&&j2(t,n,!0),t.child}function GM(e){var t=e.stateNode;t.pendingContext?C2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&C2(e,t.context,!1),n1(e,t.containerInfo)}function U2(e,t,n,r,i){return Mu(),Xw(i),t.flags|=256,Li(e,t,n,r),t.child}var Wy={dehydrated:null,treeContext:null,retryLane:0};function Hy(e){return{baseLanes:e,cachePool:null,transitions:null}}function YM(e,t,n){var r=t.pendingProps,i=mr.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Gn(mr,i&1),e===null)return $y(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,a?(r=t.mode,a=t.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=u0(s,r,0,null),e=sc(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Hy(n),t.memoizedState=Wy,e):u1(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return Fz(e,t,s,r,o,i,n);if(a){a=r.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=ll(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=ll(o,a):(a=sc(a,s,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,s=e.child.memoizedState,s=s===null?Hy(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~n,t.memoizedState=Wy,r}return a=e.child,e=a.sibling,r=ll(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function u1(e,t){return t=u0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ph(e,t,n,r){return r!==null&&Xw(r),Ou(t,e.child,null,n),e=u1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Fz(e,t,n,r,i,a,s){if(n)return t.flags&256?(t.flags&=-257,r=tv(Error(Ye(422))),ph(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=u0({mode:"visible",children:r.children},i,0,null),a=sc(a,i,s,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Ou(t,e.child,null,s),t.child.memoizedState=Hy(s),t.memoizedState=Wy,a);if(!(t.mode&1))return ph(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(Ye(419)),r=tv(a,r,void 0),ph(e,t,s,r)}if(o=(s&e.childLanes)!==0,Xi||o){if(r=ni,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,po(e,i),us(r,e,i,-1))}return g1(),r=tv(Error(Ye(421))),ph(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Qz.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,va=il(i.nextSibling),ba=t,lr=!0,as=null,e!==null&&(Ra[Ba++]=no,Ra[Ba++]=ro,Ra[Ba++]=hc,no=e.id,ro=e.overflow,hc=t),t=u1(t,r.children),t.flags|=4096,t)}function V2(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Fy(e.return,t,n)}function nv(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function XM(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Li(e,t,r.children,n),r=mr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&V2(e,n,t);else if(e.tag===19)V2(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Gn(mr,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Ip(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),nv(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ip(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}nv(t,!0,n,null,a);break;case"together":nv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ep(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function go(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),gc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ye(153));if(t.child!==null){for(e=t.child,n=ll(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ll(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Rz(e,t,n){switch(t.tag){case 3:GM(t),Mu();break;case 5:kM(t);break;case 1:Ji(t.type)&&Pp(t);break;case 4:n1(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Gn(Dp,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Gn(mr,mr.current&1),t.flags|=128,null):n&t.child.childLanes?YM(e,t,n):(Gn(mr,mr.current&1),e=go(e,t,n),e!==null?e.sibling:null);Gn(mr,mr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return XM(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Gn(mr,mr.current),r)break;return null;case 22:case 23:return t.lanes=0,qM(e,t,n)}return go(e,t,n)}var QM,qy,ZM,JM;QM=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};qy=function(){};ZM=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Zl(Is.current);var a=null;switch(n){case"input":i=hy(e,i),r=hy(e,r),a=[];break;case"select":i=xr({},i,{value:void 0}),r=xr({},r,{value:void 0}),a=[];break;case"textarea":i=xy(e,i),r=xy(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=jp)}yy(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(mf.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(mf.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&tr("scroll",e),a||o===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};JM=function(e,t,n,r){n!==r&&(t.flags|=4)};function Nd(e,t){if(!lr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function vi(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Bz(e,t,n){var r=t.pendingProps;switch(Yw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vi(t),null;case 1:return Ji(t.type)&&Ap(),vi(t),null;case 3:return r=t.stateNode,Iu(),rr(Zi),rr(ji),i1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(mh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,as!==null&&(eb(as),as=null))),qy(e,t),vi(t),null;case 5:r1(t);var i=Zl(Cf.current);if(n=t.type,e!==null&&t.stateNode!=null)ZM(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ye(166));return vi(t),null}if(e=Zl(Is.current),mh(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Ds]=t,r[Sf]=a,e=(t.mode&1)!==0,n){case"dialog":tr("cancel",r),tr("close",r);break;case"iframe":case"object":case"embed":tr("load",r);break;case"video":case"audio":for(i=0;i<Ud.length;i++)tr(Ud[i],r);break;case"source":tr("error",r);break;case"img":case"image":case"link":tr("error",r),tr("load",r);break;case"details":tr("toggle",r);break;case"input":ZN(r,a),tr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},tr("invalid",r);break;case"textarea":e2(r,a),tr("invalid",r)}yy(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&fh(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&fh(r.textContent,o,e),i=["children",""+o]):mf.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&tr("scroll",r)}switch(n){case"input":ih(r),JN(r,a,!0);break;case"textarea":ih(r),t2(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=jp)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=AD(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Ds]=t,e[Sf]=r,QM(e,t,!1,!1),t.stateNode=e;e:{switch(s=by(n,r),n){case"dialog":tr("cancel",e),tr("close",e),i=r;break;case"iframe":case"object":case"embed":tr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ud.length;i++)tr(Ud[i],e);i=r;break;case"source":tr("error",e),i=r;break;case"img":case"image":case"link":tr("error",e),tr("load",e),i=r;break;case"details":tr("toggle",e),i=r;break;case"input":ZN(e,r),i=hy(e,r),tr("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=xr({},r,{value:void 0}),tr("invalid",e);break;case"textarea":e2(e,r),i=xy(e,r),tr("invalid",e);break;default:i=r}yy(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?ED(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&PD(e,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&hf(e,l):typeof l=="number"&&hf(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(mf.hasOwnProperty(a)?l!=null&&a==="onScroll"&&tr("scroll",e):l!=null&&Iw(e,a,l,s))}switch(n){case"input":ih(e),JN(e,r,!1);break;case"textarea":ih(e),t2(e);break;case"option":r.value!=null&&e.setAttribute("value",""+fl(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?bu(e,!!r.multiple,a,!1):r.defaultValue!=null&&bu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=jp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return vi(t),null;case 6:if(e&&t.stateNode!=null)JM(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ye(166));if(n=Zl(Cf.current),Zl(Is.current),mh(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ds]=t,(a=r.nodeValue!==n)&&(e=ba,e!==null))switch(e.tag){case 3:fh(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fh(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ds]=t,t.stateNode=r}return vi(t),null;case 13:if(rr(mr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(lr&&va!==null&&t.mode&1&&!(t.flags&128))xM(),Mu(),t.flags|=98560,a=!1;else if(a=mh(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(Ye(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Ye(317));a[Ds]=t}else Mu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;vi(t),a=!1}else as!==null&&(eb(as),as=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||mr.current&1?Hr===0&&(Hr=3):g1())),t.updateQueue!==null&&(t.flags|=4),vi(t),null);case 4:return Iu(),qy(e,t),e===null&&wf(t.stateNode.containerInfo),vi(t),null;case 10:return Jw(t.type._context),vi(t),null;case 17:return Ji(t.type)&&Ap(),vi(t),null;case 19:if(rr(mr),a=t.memoizedState,a===null)return vi(t),null;if(r=(t.flags&128)!==0,s=a.rendering,s===null)if(r)Nd(a,!1);else{if(Hr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Ip(e),s!==null){for(t.flags|=128,Nd(a,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Gn(mr,mr.current&1|2),t.child}e=e.sibling}a.tail!==null&&Er()>Lu&&(t.flags|=128,r=!0,Nd(a,!1),t.lanes=4194304)}else{if(!r)if(e=Ip(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Nd(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!lr)return vi(t),null}else 2*Er()-a.renderingStartTime>Lu&&n!==1073741824&&(t.flags|=128,r=!0,Nd(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(n=a.last,n!==null?n.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Er(),t.sibling=null,n=mr.current,Gn(mr,r?n&1|2:n&1),t):(vi(t),null);case 22:case 23:return p1(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?pa&1073741824&&(vi(t),t.subtreeFlags&6&&(t.flags|=8192)):vi(t),null;case 24:return null;case 25:return null}throw Error(Ye(156,t.tag))}function zz(e,t){switch(Yw(t),t.tag){case 1:return Ji(t.type)&&Ap(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Iu(),rr(Zi),rr(ji),i1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return r1(t),null;case 13:if(rr(mr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ye(340));Mu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return rr(mr),null;case 4:return Iu(),null;case 10:return Jw(t.type._context),null;case 22:case 23:return p1(),null;case 24:return null;default:return null}}var gh=!1,wi=!1,Uz=typeof WeakSet=="function"?WeakSet:Set,xt=null;function fu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Nr(e,t,r)}else n.current=null}function Ky(e,t,n){try{n()}catch(r){Nr(e,t,r)}}var W2=!1;function Vz(e,t){if(Ey=Sp,e=iM(),Kw(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(o=s+i),f!==a||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++c===i&&(o=s),h===a&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Dy={focusedElem:e,selectionRange:n},Sp=!1,xt=t;xt!==null;)if(t=xt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,xt=e;else for(;xt!==null;){t=xt;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,y=p.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:rs(t.type,g),y);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ye(163))}}catch(k){Nr(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,xt=e;break}xt=t.return}return p=W2,W2=!1,p}function ef(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Ky(t,n,a)}i=i.next}while(i!==r)}}function l0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Gy(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function eO(e){var t=e.alternate;t!==null&&(e.alternate=null,eO(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ds],delete t[Sf],delete t[Iy],delete t[Cz],delete t[jz])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function tO(e){return e.tag===5||e.tag===3||e.tag===4}function H2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tO(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yy(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=jp));else if(r!==4&&(e=e.child,e!==null))for(Yy(e,t,n),e=e.sibling;e!==null;)Yy(e,t,n),e=e.sibling}function Xy(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Xy(e,t,n),e=e.sibling;e!==null;)Xy(e,t,n),e=e.sibling}var ui=null,is=!1;function Ro(e,t,n){for(n=n.child;n!==null;)nO(e,t,n),n=n.sibling}function nO(e,t,n){if(Os&&typeof Os.onCommitFiberUnmount=="function")try{Os.onCommitFiberUnmount(e0,n)}catch{}switch(n.tag){case 5:wi||fu(n,t);case 6:var r=ui,i=is;ui=null,Ro(e,t,n),ui=r,is=i,ui!==null&&(is?(e=ui,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ui.removeChild(n.stateNode));break;case 18:ui!==null&&(is?(e=ui,n=n.stateNode,e.nodeType===8?Yx(e.parentNode,n):e.nodeType===1&&Yx(e,n),vf(e)):Yx(ui,n.stateNode));break;case 4:r=ui,i=is,ui=n.stateNode.containerInfo,is=!0,Ro(e,t,n),ui=r,is=i;break;case 0:case 11:case 14:case 15:if(!wi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Ky(n,t,s),i=i.next}while(i!==r)}Ro(e,t,n);break;case 1:if(!wi&&(fu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Nr(n,t,o)}Ro(e,t,n);break;case 21:Ro(e,t,n);break;case 22:n.mode&1?(wi=(r=wi)||n.memoizedState!==null,Ro(e,t,n),wi=r):Ro(e,t,n);break;default:Ro(e,t,n)}}function q2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Uz),t.forEach(function(r){var i=Zz.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ns(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:ui=o.stateNode,is=!1;break e;case 3:ui=o.stateNode.containerInfo,is=!0;break e;case 4:ui=o.stateNode.containerInfo,is=!0;break e}o=o.return}if(ui===null)throw Error(Ye(160));nO(a,s,i),ui=null,is=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Nr(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)rO(t,e),t=t.sibling}function rO(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ns(t,e),Ns(e),r&4){try{ef(3,e,e.return),l0(3,e)}catch(g){Nr(e,e.return,g)}try{ef(5,e,e.return)}catch(g){Nr(e,e.return,g)}}break;case 1:ns(t,e),Ns(e),r&512&&n!==null&&fu(n,n.return);break;case 5:if(ns(t,e),Ns(e),r&512&&n!==null&&fu(n,n.return),e.flags&32){var i=e.stateNode;try{hf(i,"")}catch(g){Nr(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=n!==null?n.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&CD(i,a),by(o,s);var c=by(o,a);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?ED(i,f):d==="dangerouslySetInnerHTML"?PD(i,f):d==="children"?hf(i,f):Iw(i,d,f,c)}switch(o){case"input":py(i,a);break;case"textarea":jD(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?bu(i,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?bu(i,!!a.multiple,a.defaultValue,!0):bu(i,!!a.multiple,a.multiple?[]:"",!1))}i[Sf]=a}catch(g){Nr(e,e.return,g)}}break;case 6:if(ns(t,e),Ns(e),r&4){if(e.stateNode===null)throw Error(Ye(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Nr(e,e.return,g)}}break;case 3:if(ns(t,e),Ns(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vf(t.containerInfo)}catch(g){Nr(e,e.return,g)}break;case 4:ns(t,e),Ns(e);break;case 13:ns(t,e),Ns(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(m1=Er())),r&4&&q2(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(wi=(c=wi)||d,ns(t,e),wi=c):ns(t,e),Ns(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(xt=e,d=e.child;d!==null;){for(f=xt=d;xt!==null;){switch(h=xt,m=h.child,h.tag){case 0:case 11:case 14:case 15:ef(4,h,h.return);break;case 1:fu(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Nr(r,n,g)}}break;case 5:fu(h,h.return);break;case 22:if(h.memoizedState!==null){G2(f);continue}}m!==null?(m.return=h,xt=m):G2(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=TD("display",s))}catch(g){Nr(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Nr(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ns(t,e),Ns(e),r&4&&q2(e);break;case 21:break;default:ns(t,e),Ns(e)}}function Ns(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(tO(n)){var r=n;break e}n=n.return}throw Error(Ye(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(hf(i,""),r.flags&=-33);var a=H2(e);Xy(e,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=H2(e);Yy(e,o,s);break;default:throw Error(Ye(161))}}catch(l){Nr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Wz(e,t,n){xt=e,iO(e)}function iO(e,t,n){for(var r=(e.mode&1)!==0;xt!==null;){var i=xt,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||gh;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||wi;o=gh;var c=wi;if(gh=s,(wi=l)&&!c)for(xt=i;xt!==null;)s=xt,l=s.child,s.tag===22&&s.memoizedState!==null?Y2(i):l!==null?(l.return=s,xt=l):Y2(i);for(;a!==null;)xt=a,iO(a),a=a.sibling;xt=i,gh=o,wi=c}K2(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,xt=a):K2(e)}}function K2(e){for(;xt!==null;){var t=xt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:wi||l0(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!wi)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:rs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&D2(t,a,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}D2(t,s,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&vf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ye(163))}wi||t.flags&512&&Gy(t)}catch(h){Nr(t,t.return,h)}}if(t===e){xt=null;break}if(n=t.sibling,n!==null){n.return=t.return,xt=n;break}xt=t.return}}function G2(e){for(;xt!==null;){var t=xt;if(t===e){xt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,xt=n;break}xt=t.return}}function Y2(e){for(;xt!==null;){var t=xt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{l0(4,t)}catch(l){Nr(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Nr(t,i,l)}}var a=t.return;try{Gy(t)}catch(l){Nr(t,a,l)}break;case 5:var s=t.return;try{Gy(t)}catch(l){Nr(t,s,l)}}}catch(l){Nr(t,t.return,l)}if(t===e){xt=null;break}var o=t.sibling;if(o!==null){o.return=t.return,xt=o;break}xt=t.return}}var Hz=Math.ceil,$p=No.ReactCurrentDispatcher,d1=No.ReactCurrentOwner,Wa=No.ReactCurrentBatchConfig,wn=0,ni=null,$r=null,mi=0,pa=0,mu=yl(0),Hr=0,Tf=null,gc=0,c0=0,f1=0,tf=null,Yi=null,m1=0,Lu=1/0,Xs=null,Fp=!1,Qy=null,sl=null,xh=!1,Zo=null,Rp=0,nf=0,Zy=null,tp=-1,np=0;function Ri(){return wn&6?Er():tp!==-1?tp:tp=Er()}function ol(e){return e.mode&1?wn&2&&mi!==0?mi&-mi:Pz.transition!==null?(np===0&&(np=UD()),np):(e=$n,e!==0||(e=window.event,e=e===void 0?16:YD(e.type)),e):1}function us(e,t,n,r){if(50<nf)throw nf=0,Zy=null,Error(Ye(185));am(e,n,r),(!(wn&2)||e!==ni)&&(e===ni&&(!(wn&2)&&(c0|=n),Hr===4&&Yo(e,mi)),ea(e,r),n===1&&wn===0&&!(t.mode&1)&&(Lu=Er()+500,a0&&bl()))}function ea(e,t){var n=e.callbackNode;PB(e,t);var r=kp(e,e===ni?mi:0);if(r===0)n!==null&&i2(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&i2(n),t===1)e.tag===0?Az(X2.bind(null,e)):hM(X2.bind(null,e)),Sz(function(){!(wn&6)&&bl()}),n=null;else{switch(VD(r)){case 1:n=Rw;break;case 4:n=BD;break;case 16:n=wp;break;case 536870912:n=zD;break;default:n=wp}n=fO(n,aO.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function aO(e,t){if(tp=-1,np=0,wn&6)throw Error(Ye(327));var n=e.callbackNode;if(Cu()&&e.callbackNode!==n)return null;var r=kp(e,e===ni?mi:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Bp(e,r);else{t=r;var i=wn;wn|=2;var a=oO();(ni!==e||mi!==t)&&(Xs=null,Lu=Er()+500,ac(e,t));do try{Gz();break}catch(o){sO(e,o)}while(!0);Zw(),$p.current=a,wn=i,$r!==null?t=0:(ni=null,mi=0,t=Hr)}if(t!==0){if(t===2&&(i=Cy(e),i!==0&&(r=i,t=Jy(e,i))),t===1)throw n=Tf,ac(e,0),Yo(e,r),ea(e,Er()),n;if(t===6)Yo(e,r);else{if(i=e.current.alternate,!(r&30)&&!qz(i)&&(t=Bp(e,r),t===2&&(a=Cy(e),a!==0&&(r=a,t=Jy(e,a))),t===1))throw n=Tf,ac(e,0),Yo(e,r),ea(e,Er()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Ye(345));case 2:Vl(e,Yi,Xs);break;case 3:if(Yo(e,r),(r&130023424)===r&&(t=m1+500-Er(),10<t)){if(kp(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ri(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Oy(Vl.bind(null,e,Yi,Xs),t);break}Vl(e,Yi,Xs);break;case 4:if(Yo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-cs(r);a=1<<s,s=t[s],s>i&&(i=s),r&=~a}if(r=i,r=Er()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Hz(r/1960))-r,10<r){e.timeoutHandle=Oy(Vl.bind(null,e,Yi,Xs),r);break}Vl(e,Yi,Xs);break;case 5:Vl(e,Yi,Xs);break;default:throw Error(Ye(329))}}}return ea(e,Er()),e.callbackNode===n?aO.bind(null,e):null}function Jy(e,t){var n=tf;return e.current.memoizedState.isDehydrated&&(ac(e,t).flags|=256),e=Bp(e,t),e!==2&&(t=Yi,Yi=n,t!==null&&eb(t)),e}function eb(e){Yi===null?Yi=e:Yi.push.apply(Yi,e)}function qz(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ms(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yo(e,t){for(t&=~f1,t&=~c0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-cs(t),r=1<<n;e[n]=-1,t&=~r}}function X2(e){if(wn&6)throw Error(Ye(327));Cu();var t=kp(e,0);if(!(t&1))return ea(e,Er()),null;var n=Bp(e,t);if(e.tag!==0&&n===2){var r=Cy(e);r!==0&&(t=r,n=Jy(e,r))}if(n===1)throw n=Tf,ac(e,0),Yo(e,t),ea(e,Er()),n;if(n===6)throw Error(Ye(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Vl(e,Yi,Xs),ea(e,Er()),null}function h1(e,t){var n=wn;wn|=1;try{return e(t)}finally{wn=n,wn===0&&(Lu=Er()+500,a0&&bl())}}function xc(e){Zo!==null&&Zo.tag===0&&!(wn&6)&&Cu();var t=wn;wn|=1;var n=Wa.transition,r=$n;try{if(Wa.transition=null,$n=1,e)return e()}finally{$n=r,Wa.transition=n,wn=t,!(wn&6)&&bl()}}function p1(){pa=mu.current,rr(mu)}function ac(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,kz(n)),$r!==null)for(n=$r.return;n!==null;){var r=n;switch(Yw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ap();break;case 3:Iu(),rr(Zi),rr(ji),i1();break;case 5:r1(r);break;case 4:Iu();break;case 13:rr(mr);break;case 19:rr(mr);break;case 10:Jw(r.type._context);break;case 22:case 23:p1()}n=n.return}if(ni=e,$r=e=ll(e.current,null),mi=pa=t,Hr=0,Tf=null,f1=c0=gc=0,Yi=tf=null,Ql!==null){for(t=0;t<Ql.length;t++)if(n=Ql[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}Ql=null}return e}function sO(e,t){do{var n=$r;try{if(Zw(),Zh.current=Lp,_p){for(var r=gr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}_p=!1}if(pc=0,ti=Vr=gr=null,Jd=!1,jf=0,d1.current=null,n===null||n.return===null){Hr=1,Tf=t,$r=null;break}e:{var a=e,s=n.return,o=n,l=t;if(t=mi,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=$2(s);if(m!==null){m.flags&=-257,F2(m,s,o,a,t),m.mode&1&&L2(a,c,t),t=m,l=c;var p=t.updateQueue;if(p===null){var g=new Set;g.add(l),t.updateQueue=g}else p.add(l);break e}else{if(!(t&1)){L2(a,c,t),g1();break e}l=Error(Ye(426))}}else if(lr&&o.mode&1){var y=$2(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),F2(y,s,o,a,t),Xw(_u(l,o));break e}}a=l=_u(l,o),Hr!==4&&(Hr=2),tf===null?tf=[a]:tf.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=VM(a,l,t);E2(a,x);break e;case 1:o=l;var b=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(sl===null||!sl.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var k=WM(a,o,t);E2(a,k);break e}}a=a.return}while(a!==null)}cO(n)}catch(C){t=C,$r===n&&n!==null&&($r=n=n.return);continue}break}while(!0)}function oO(){var e=$p.current;return $p.current=Lp,e===null?Lp:e}function g1(){(Hr===0||Hr===3||Hr===2)&&(Hr=4),ni===null||!(gc&268435455)&&!(c0&268435455)||Yo(ni,mi)}function Bp(e,t){var n=wn;wn|=2;var r=oO();(ni!==e||mi!==t)&&(Xs=null,ac(e,t));do try{Kz();break}catch(i){sO(e,i)}while(!0);if(Zw(),wn=n,$p.current=r,$r!==null)throw Error(Ye(261));return ni=null,mi=0,Hr}function Kz(){for(;$r!==null;)lO($r)}function Gz(){for(;$r!==null&&!yB();)lO($r)}function lO(e){var t=dO(e.alternate,e,pa);e.memoizedProps=e.pendingProps,t===null?cO(e):$r=t,d1.current=null}function cO(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=zz(n,t),n!==null){n.flags&=32767,$r=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Hr=6,$r=null;return}}else if(n=Bz(n,t,pa),n!==null){$r=n;return}if(t=t.sibling,t!==null){$r=t;return}$r=t=e}while(t!==null);Hr===0&&(Hr=5)}function Vl(e,t,n){var r=$n,i=Wa.transition;try{Wa.transition=null,$n=1,Yz(e,t,n,r)}finally{Wa.transition=i,$n=r}return null}function Yz(e,t,n,r){do Cu();while(Zo!==null);if(wn&6)throw Error(Ye(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ye(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(TB(e,a),e===ni&&($r=ni=null,mi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xh||(xh=!0,fO(wp,function(){return Cu(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Wa.transition,Wa.transition=null;var s=$n;$n=1;var o=wn;wn|=4,d1.current=null,Vz(e,n),rO(n,e),pz(Dy),Sp=!!Ey,Dy=Ey=null,e.current=n,Wz(n),bB(),wn=o,$n=s,Wa.transition=a}else e.current=n;if(xh&&(xh=!1,Zo=e,Rp=i),a=e.pendingLanes,a===0&&(sl=null),SB(n.stateNode),ea(e,Er()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Fp)throw Fp=!1,e=Qy,Qy=null,e;return Rp&1&&e.tag!==0&&Cu(),a=e.pendingLanes,a&1?e===Zy?nf++:(nf=0,Zy=e):nf=0,bl(),null}function Cu(){if(Zo!==null){var e=VD(Rp),t=Wa.transition,n=$n;try{if(Wa.transition=null,$n=16>e?16:e,Zo===null)var r=!1;else{if(e=Zo,Zo=null,Rp=0,wn&6)throw Error(Ye(331));var i=wn;for(wn|=4,xt=e.current;xt!==null;){var a=xt,s=a.child;if(xt.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(xt=c;xt!==null;){var d=xt;switch(d.tag){case 0:case 11:case 15:ef(8,d,a)}var f=d.child;if(f!==null)f.return=d,xt=f;else for(;xt!==null;){d=xt;var h=d.sibling,m=d.return;if(eO(d),d===c){xt=null;break}if(h!==null){h.return=m,xt=h;break}xt=m}}}var p=a.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}xt=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,xt=s;else e:for(;xt!==null;){if(a=xt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ef(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,xt=x;break e}xt=a.return}}var b=e.current;for(xt=b;xt!==null;){s=xt;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,xt=w;else e:for(s=b;xt!==null;){if(o=xt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:l0(9,o)}}catch(C){Nr(o,o.return,C)}if(o===s){xt=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,xt=k;break e}xt=o.return}}if(wn=i,bl(),Os&&typeof Os.onPostCommitFiberRoot=="function")try{Os.onPostCommitFiberRoot(e0,e)}catch{}r=!0}return r}finally{$n=n,Wa.transition=t}}return!1}function Q2(e,t,n){t=_u(n,t),t=VM(e,t,1),e=al(e,t,1),t=Ri(),e!==null&&(am(e,1,t),ea(e,t))}function Nr(e,t,n){if(e.tag===3)Q2(e,e,n);else for(;t!==null;){if(t.tag===3){Q2(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(sl===null||!sl.has(r))){e=_u(n,e),e=WM(t,e,1),t=al(t,e,1),e=Ri(),t!==null&&(am(t,1,e),ea(t,e));break}}t=t.return}}function Xz(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ri(),e.pingedLanes|=e.suspendedLanes&n,ni===e&&(mi&n)===n&&(Hr===4||Hr===3&&(mi&130023424)===mi&&500>Er()-m1?ac(e,0):f1|=n),ea(e,t)}function uO(e,t){t===0&&(e.mode&1?(t=oh,oh<<=1,!(oh&130023424)&&(oh=4194304)):t=1);var n=Ri();e=po(e,t),e!==null&&(am(e,t,n),ea(e,n))}function Qz(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),uO(e,n)}function Zz(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ye(314))}r!==null&&r.delete(t),uO(e,n)}var dO;dO=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Zi.current)Xi=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Xi=!1,Rz(e,t,n);Xi=!!(e.flags&131072)}else Xi=!1,lr&&t.flags&1048576&&pM(t,Ep,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ep(e,t),e=t.pendingProps;var i=Du(t,ji.current);Nu(t,n),i=s1(null,t,r,e,i,n);var a=o1();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ji(r)?(a=!0,Pp(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,t1(t),i.updater=o0,t.stateNode=i,i._reactInternals=t,By(t,r,e,n),t=Vy(null,t,r,!0,a,n)):(t.tag=0,lr&&a&&Gw(t),Li(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ep(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=e6(r),e=rs(r,e),i){case 0:t=Uy(null,t,r,e,n);break e;case 1:t=z2(null,t,r,e,n);break e;case 11:t=R2(null,t,r,e,n);break e;case 14:t=B2(null,t,r,rs(r.type,e),n);break e}throw Error(Ye(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:rs(r,i),Uy(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:rs(r,i),z2(e,t,r,i,n);case 3:e:{if(GM(t),e===null)throw Error(Ye(387));r=t.pendingProps,a=t.memoizedState,i=a.element,wM(e,t),Op(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=_u(Error(Ye(423)),t),t=U2(e,t,r,n,i);break e}else if(r!==i){i=_u(Error(Ye(424)),t),t=U2(e,t,r,n,i);break e}else for(va=il(t.stateNode.containerInfo.firstChild),ba=t,lr=!0,as=null,n=yM(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mu(),r===i){t=go(e,t,n);break e}Li(e,t,r,n)}t=t.child}return t;case 5:return kM(t),e===null&&$y(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,My(r,i)?s=null:a!==null&&My(r,a)&&(t.flags|=32),KM(e,t),Li(e,t,s,n),t.child;case 6:return e===null&&$y(t),null;case 13:return YM(e,t,n);case 4:return n1(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ou(t,null,r,n):Li(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:rs(r,i),R2(e,t,r,i,n);case 7:return Li(e,t,t.pendingProps,n),t.child;case 8:return Li(e,t,t.pendingProps.children,n),t.child;case 12:return Li(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Gn(Dp,r._currentValue),r._currentValue=s,a!==null)if(ms(a.value,s)){if(a.children===i.children&&!Zi.current){t=go(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=oo(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Fy(a.return,n,t),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(Ye(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Fy(s,n,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Li(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Nu(t,n),i=Ha(i),r=r(i),t.flags|=1,Li(e,t,r,n),t.child;case 14:return r=t.type,i=rs(r,t.pendingProps),i=rs(r.type,i),B2(e,t,r,i,n);case 15:return HM(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:rs(r,i),ep(e,t),t.tag=1,Ji(r)?(e=!0,Pp(t)):e=!1,Nu(t,n),UM(t,r,i),By(t,r,i,n),Vy(null,t,r,!0,e,n);case 19:return XM(e,t,n);case 22:return qM(e,t,n)}throw Error(Ye(156,t.tag))};function fO(e,t){return RD(e,t)}function Jz(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ua(e,t,n,r){return new Jz(e,t,n,r)}function x1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function e6(e){if(typeof e=="function")return x1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Lw)return 11;if(e===$w)return 14}return 2}function ll(e,t){var n=e.alternate;return n===null?(n=Ua(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function rp(e,t,n,r,i,a){var s=2;if(r=e,typeof e=="function")x1(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case ru:return sc(n.children,i,a,t);case _w:s=8,i|=8;break;case uy:return e=Ua(12,n,t,i|2),e.elementType=uy,e.lanes=a,e;case dy:return e=Ua(13,n,t,i),e.elementType=dy,e.lanes=a,e;case fy:return e=Ua(19,n,t,i),e.elementType=fy,e.lanes=a,e;case kD:return u0(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case bD:s=10;break e;case wD:s=9;break e;case Lw:s=11;break e;case $w:s=14;break e;case Vo:s=16,r=null;break e}throw Error(Ye(130,e==null?e:typeof e,""))}return t=Ua(s,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function sc(e,t,n,r){return e=Ua(7,e,r,t),e.lanes=n,e}function u0(e,t,n,r){return e=Ua(22,e,r,t),e.elementType=kD,e.lanes=n,e.stateNode={isHidden:!1},e}function rv(e,t,n){return e=Ua(6,e,null,t),e.lanes=n,e}function iv(e,t,n){return t=Ua(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function t6(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fx(0),this.expirationTimes=Fx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fx(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function v1(e,t,n,r,i,a,s,o,l){return e=new t6(e,t,n,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ua(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},t1(a),e}function n6(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:nu,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function mO(e){if(!e)return ml;e=e._reactInternals;e:{if(Ec(e)!==e||e.tag!==1)throw Error(Ye(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ji(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ye(171))}if(e.tag===1){var n=e.type;if(Ji(n))return mM(e,n,t)}return t}function hO(e,t,n,r,i,a,s,o,l){return e=v1(n,r,!0,e,i,a,s,o,l),e.context=mO(null),n=e.current,r=Ri(),i=ol(n),a=oo(r,i),a.callback=t??null,al(n,a,i),e.current.lanes=i,am(e,i,r),ea(e,r),e}function d0(e,t,n,r){var i=t.current,a=Ri(),s=ol(i);return n=mO(n),t.context===null?t.context=n:t.pendingContext=n,t=oo(a,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=al(i,t,s),e!==null&&(us(e,i,s,a),Qh(e,i,s)),s}function zp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Z2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function y1(e,t){Z2(e,t),(e=e.alternate)&&Z2(e,t)}function r6(){return null}var pO=typeof reportError=="function"?reportError:function(e){console.error(e)};function b1(e){this._internalRoot=e}f0.prototype.render=b1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ye(409));d0(e,t,null,null)};f0.prototype.unmount=b1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xc(function(){d0(null,e,null,null)}),t[ho]=null}};function f0(e){this._internalRoot=e}f0.prototype.unstable_scheduleHydration=function(e){if(e){var t=qD();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Go.length&&t!==0&&t<Go[n].priority;n++);Go.splice(n,0,e),n===0&&GD(e)}};function w1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function m0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function J2(){}function i6(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=zp(s);a.call(c)}}var s=hO(t,r,e,0,null,!1,!1,"",J2);return e._reactRootContainer=s,e[ho]=s.current,wf(e.nodeType===8?e.parentNode:e),xc(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=zp(l);o.call(c)}}var l=v1(e,0,!1,null,null,!1,!1,"",J2);return e._reactRootContainer=l,e[ho]=l.current,wf(e.nodeType===8?e.parentNode:e),xc(function(){d0(t,l,n,r)}),l}function h0(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=zp(s);o.call(l)}}d0(t,s,e,i)}else s=i6(n,t,e,i,r);return zp(s)}WD=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=zd(t.pendingLanes);n!==0&&(Bw(t,n|1),ea(t,Er()),!(wn&6)&&(Lu=Er()+500,bl()))}break;case 13:xc(function(){var r=po(e,1);if(r!==null){var i=Ri();us(r,e,1,i)}}),y1(e,1)}};zw=function(e){if(e.tag===13){var t=po(e,134217728);if(t!==null){var n=Ri();us(t,e,134217728,n)}y1(e,134217728)}};HD=function(e){if(e.tag===13){var t=ol(e),n=po(e,t);if(n!==null){var r=Ri();us(n,e,t,r)}y1(e,t)}};qD=function(){return $n};KD=function(e,t){var n=$n;try{return $n=e,t()}finally{$n=n}};ky=function(e,t,n){switch(t){case"input":if(py(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=i0(r);if(!i)throw Error(Ye(90));ND(r),py(r,i)}}}break;case"textarea":jD(e,n);break;case"select":t=n.value,t!=null&&bu(e,!!n.multiple,t,!1)}};OD=h1;ID=xc;var a6={usingClientEntryPoint:!1,Events:[om,ou,i0,DD,MD,h1]},Cd={findFiberByHostInstance:Xl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},s6={bundleType:Cd.bundleType,version:Cd.version,rendererPackageName:Cd.rendererPackageName,rendererConfig:Cd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:No.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$D(e),e===null?null:e.stateNode},findFiberByHostInstance:Cd.findFiberByHostInstance||r6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vh.isDisabled&&vh.supportsFiber)try{e0=vh.inject(s6),Os=vh}catch{}}Aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a6;Aa.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w1(t))throw Error(Ye(200));return n6(e,t,null,n)};Aa.createRoot=function(e,t){if(!w1(e))throw Error(Ye(299));var n=!1,r="",i=pO;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=v1(e,1,!1,null,null,n,!1,r,i),e[ho]=t.current,wf(e.nodeType===8?e.parentNode:e),new b1(t)};Aa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ye(188)):(e=Object.keys(e).join(","),Error(Ye(268,e)));return e=$D(t),e=e===null?null:e.stateNode,e};Aa.flushSync=function(e){return xc(e)};Aa.hydrate=function(e,t,n){if(!m0(t))throw Error(Ye(200));return h0(null,e,t,!0,n)};Aa.hydrateRoot=function(e,t,n){if(!w1(e))throw Error(Ye(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=pO;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=hO(t,null,e,1,n??null,i,!1,a,s),e[ho]=t.current,wf(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new f0(t)};Aa.render=function(e,t,n){if(!m0(t))throw Error(Ye(200));return h0(null,e,t,!1,n)};Aa.unmountComponentAtNode=function(e){if(!m0(e))throw Error(Ye(40));return e._reactRootContainer?(xc(function(){h0(null,null,e,!1,function(){e._reactRootContainer=null,e[ho]=null})}),!0):!1};Aa.unstable_batchedUpdates=h1;Aa.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!m0(n))throw Error(Ye(200));if(e==null||e._reactInternals===void 0)throw Error(Ye(38));return h0(e,t,n,!1,r)};Aa.version="18.3.1-next-f1338f8080-20240426";function gO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gO)}catch(e){console.error(e)}}gO(),gD.exports=Aa;var ed=gD.exports,eC=ed;ly.createRoot=eC.createRoot,ly.hydrateRoot=eC.hydrateRoot;const o6=new Set(["Vulnerability","Weakness","Blind","Cripple","Chill","Immobilize","Slow","Fear","Taunt"]),xO=[{id:"damage",label:"Damage",field:"damage",source:"dpsAll"},{id:"directDmg",label:"Direct Damage",field:"directDmg",source:"statsTargets"},{id:"connectedDamageCount",label:"Connected Damage Count",field:"connectedDamageCount",source:"statsTargets"},{id:"connectedDirectDamageCount",label:"Connected Direct Damage Count",field:"connectedDirectDamageCount",source:"statsTargets"},{id:"battleStandardHits",label:"Battle Standard Tracking"},{id:"criticalRate",label:"Critical Rate",field:"criticalRate",isRate:!0,isPercent:!0,denomField:"critableDirectDamageCount",source:"statsTargets"},{id:"criticalDmg",label:"Critical Damage",field:"criticalDmg",source:"statsTargets"},{id:"flankingRate",label:"Flanking Rate",field:"flankingRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"glanceRate",label:"Glance Rate",field:"glanceRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"missed",label:"Missed",field:"missed",source:"statsTargets"},{id:"evaded",label:"Evaded (enemy)",field:"evaded",source:"statsTargets"},{id:"blocked",label:"Blocked (enemy)",field:"blocked",source:"statsTargets"},{id:"interrupts",label:"Interrupts",field:"interrupts",source:"statsTargets"},{id:"invulned",label:"Invulned",field:"invulned",source:"statsTargets"},{id:"killed",label:"Killed",field:"killed",source:"statsTargets"},{id:"downed",label:"Downed",field:"downed",source:"statsTargets"},{id:"downContribution",label:"Down Contribution",field:"downContribution",source:"statsTargets"},{id:"downContributionPercent",label:"Down Contribution %",isRate:!0,isPercent:!0},{id:"againstDownedDamage",label:"Against Downed Damage",field:"againstDownedDamage",source:"statsTargets"},{id:"appliedCrowdControl",label:"Applied CC",field:"appliedCrowdControl",source:"statsTargets"},{id:"appliedCrowdControlDuration",label:"Applied CC Duration",field:"appliedCrowdControlDuration",source:"statsTargets"},{id:"appliedCrowdControlDownContribution",label:"Applied CC Down Contribution",field:"appliedCrowdControlDownContribution",source:"statsTargets"},{id:"appliedCrowdControlDurationDownContribution",label:"Applied CC Duration Down Contribution",field:"appliedCrowdControlDurationDownContribution",source:"statsTargets"},{id:"boonStrips",label:"Boon Strips",field:"boonStrips",source:"support"}],vO=[{id:"damageTaken",label:"Damage Taken",field:"damageTaken"},{id:"minionDamageTaken",label:"Minion Damage Taken"},{id:"damageTakenCount",label:"Damage Taken Count",field:"damageTakenCount"},{id:"conditionDamageTaken",label:"Condition Damage Taken",field:"conditionDamageTaken"},{id:"conditionDamageTakenCount",label:"Condition Damage Taken Count",field:"conditionDamageTakenCount"},{id:"powerDamageTaken",label:"Power Damage Taken",field:"powerDamageTaken"},{id:"powerDamageTakenCount",label:"Power Damage Taken Count",field:"powerDamageTakenCount"},{id:"downedDamageTaken",label:"Downed Damage Taken",field:"downedDamageTaken"},{id:"downedDamageTakenCount",label:"Downed Damage Taken Count",field:"downedDamageTakenCount"},{id:"damageBarrier",label:"Damage Barrier",field:"damageBarrier"},{id:"damageBarrierCount",label:"Damage Barrier Count",field:"damageBarrierCount"},{id:"blockedCount",label:"Blocked Count",field:"blockedCount"},{id:"evadedCount",label:"Evaded Count",field:"evadedCount"},{id:"missedCount",label:"Missed Count",field:"missedCount"},{id:"dodgeCount",label:"Dodge Count",field:"dodgeCount"},{id:"invulnedCount",label:"Invulnerable Count",field:"invulnedCount"},{id:"interruptedCount",label:"Interrupted Count",field:"interruptedCount"},{id:"downCount",label:"Down Count",field:"downCount"},{id:"deadCount",label:"Death Count",field:"deadCount"},{id:"boonStrips",label:"Boon Strips (Incoming)",field:"boonStrips"},{id:"conditionCleanses",label:"Cleanses (Incoming)",field:"conditionCleanses"},{id:"receivedCrowdControl",label:"Crowd Control (Incoming)",field:"receivedCrowdControl"}],l6=[{id:"totalHits",label:"Total Hits"},{id:"evaded",label:"Evaded"},{id:"blocked",label:"Blocked"},{id:"glanced",label:"Glanced"},{id:"missed",label:"Missed"},{id:"invulned",label:"Invulned"},{id:"interrupted",label:"Interrupted"},{id:"totalMitigation",label:"Damage Mitigation"},{id:"minMitigation",label:"Min Damage Mitigation"}],yO=[{id:"condiCleanse",label:"Condition Cleanses",field:"condiCleanse"},{id:"condiCleanseTime",label:"Condition Cleanse Time",field:"condiCleanseTime",isTime:!0},{id:"condiCleanseSelf",label:"Condition Cleanse Self",field:"condiCleanseSelf"},{id:"condiCleanseTimeSelf",label:"Condition Cleanse Time Self",field:"condiCleanseTimeSelf",isTime:!0},{id:"boonStrips",label:"Boon Strips",field:"boonStrips"},{id:"boonStripsTime",label:"Boon Strips Time",field:"boonStripsTime",isTime:!0},{id:"boonStripDownContribution",label:"Boon Strip Down Contribution",field:"boonStripDownContribution"},{id:"boonStripDownContributionTime",label:"Boon Strip Down Contribution Time",field:"boonStripDownContributionTime",isTime:!0},{id:"stunBreak",label:"Stun Breaks",field:"stunBreak"},{id:"removedStunDuration",label:"Removed Stun Duration",field:"removedStunDuration",isTime:!0},{id:"resurrects",label:"Resurrects",field:"resurrects"},{id:"resurrectTime",label:"Resurrect Time",field:"resurrectTime",isTime:!0}],c6=[{id:"healing",label:"Healing",baseField:"healing",perSecond:!1,decimals:0},{id:"healingPerSecond",label:"Healing Per Second",baseField:"healing",perSecond:!0,decimals:2},{id:"barrier",label:"Barrier",baseField:"barrier",perSecond:!1,decimals:0},{id:"barrierPerSecond",label:"Barrier Per Second",baseField:"barrier",perSecond:!0,decimals:2},{id:"downedHealing",label:"Downed Healing",baseField:"downedHealing",perSecond:!1,decimals:0},{id:"downedHealingPerSecond",label:"Downed Healing Per Second",baseField:"downedHealing",perSecond:!0,decimals:1},{id:"resUtility",label:"Resurrect Utility",baseField:"resUtility",perSecond:!1,decimals:0}],u6=["battle standard","glyph of renewal","glyph of the stars","illusion of life","spirit of nature","nature spirit","search and rescue","signet of mercy"],d6=new Set([10244]),f6=(e,t)=>{var i;if(d6.has(e))return!0;const n=(t==null?void 0:t[`s${e}`])||(t==null?void 0:t[`${e}`]),r=((i=n==null?void 0:n.name)==null?void 0:i.toLowerCase())||"";return u6.some(a=>r.includes(a))},m6=e=>{const t=e.toLowerCase();return t.includes("autoattack")||t.includes("auto attack")},yh=e=>{if(!e||!Number.isFinite(e))return"--:--";const t=Math.max(0,Math.round(e/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),i=t%60;return n>0?`${n}:${String(r).padStart(2,"0")}:${String(i).padStart(2,"0")}`:`${r}:${String(i).padStart(2,"0")}`},bO=()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia("(max-width: 640px)").matches,wO=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e),n=e<0?"-":"";if(t>=1e6){const i=(t/1e6).toFixed(2).replace(/\.?0+$/,"");return`${n}${i}m`}if(t>=1e4){const i=(t/1e3).toFixed(0);return`${n}${i}k`}return`${e.toLocaleString()}`},ha=(e,t=2)=>Number.isFinite(e)?bO()&&Math.abs(e)>=1e4?wO(e):e.toLocaleString(void 0,{minimumFractionDigits:t,maximumFractionDigits:t}):"--",zo=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e);return bO()&&t>=1e4?wO(e):t>=1e6?`${(e/1e6).toFixed(2).replace(/\.?0+$/,"")}m`:Math.round(e).toLocaleString()};var h6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const p6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Jt=(e,t)=>{const n=v.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,children:o,...l},c)=>v.createElement("svg",{ref:c,...h6,width:i,height:i,stroke:r,strokeWidth:s?Number(a)*24/Number(i):a,className:`lucide lucide-${p6(e)}`,...l},[...t.map(([d,f])=>v.createElement(d,f)),...(Array.isArray(o)?o:[o])||[]]));return n.displayName=`${e}`,n},kO=Jt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),g6=Jt("ArrowBigDown",[["path",{d:"M15 6v6h4l-7 7-7-7h4V6h6z",key:"1thax2"}]]),k1=Jt("ArrowBigUp",[["path",{d:"M9 18v-6H5l7-7 7 7h-4v6H9z",key:"1x06kx"}]]),SO=Jt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),x6=Jt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),v6=Jt("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),NO=Jt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),tb=Jt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),y6=Jt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),hs=Jt("Columns",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"12",x2:"12",y1:"3",y2:"21",key:"1efggb"}]]),b6=Jt("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]),w6=Jt("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),k6=Jt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),S6=Jt("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Ef=Jt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),N6=Jt("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),S1=Jt("GitCompareArrows",[["circle",{cx:"5",cy:"6",r:"3",key:"1qnov2"}],["path",{d:"M12 6h5a2 2 0 0 1 2 2v7",key:"1yj91y"}],["path",{d:"m15 9-3-3 3-3",key:"1lwv8l"}],["circle",{cx:"19",cy:"18",r:"3",key:"1qljk2"}],["path",{d:"M12 18H7a2 2 0 0 1-2-2V9",key:"16sdep"}],["path",{d:"m9 15 3 3-3 3",key:"1m3kbl"}]]),C6=Jt("Hammer",[["path",{d:"m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9",key:"1afvon"}],["path",{d:"M17.64 15 22 10.64",key:"zsji6s"}],["path",{d:"m20.91 11.7-1.25-1.25c-.6-.6-.93-1.4-.93-2.25v-.86L16.01 4.6a5.56 5.56 0 0 0-3.94-1.64H9l.92.82A6.18 6.18 0 0 1 12 8.4v1.56l2 2h2.47l2.26 1.91",key:"lehyy1"}]]),CO=Jt("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]),j6=Jt("HelpingHand",[["path",{d:"m3 15 5.12-5.12A3 3 0 0 1 10.24 9H13a2 2 0 1 1 0 4h-2.5m4-.68 4.17-4.89a1.88 1.88 0 0 1 2.92 2.36l-4.2 5.94A3 3 0 0 1 14.96 17H9.83a2 2 0 0 0-1.42.59L7 19",key:"nitrv7"}],["path",{d:"m2 14 6 6",key:"g6j1uo"}]]),N1=Jt("Keyboard",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",ry:"2",key:"15u882"}],["path",{d:"M6 8h.001",key:"1ej0i3"}],["path",{d:"M10 8h.001",key:"1x2st2"}],["path",{d:"M14 8h.001",key:"1vkmyp"}],["path",{d:"M18 8h.001",key:"kfsenl"}],["path",{d:"M8 12h.001",key:"1sjpby"}],["path",{d:"M12 12h.001",key:"al75ts"}],["path",{d:"M16 12h.001",key:"931bgk"}],["path",{d:"M7 16h10",key:"wp8him"}]]),A6=Jt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),C1=Jt("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]),P6=Jt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),j1=Jt("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),ia=Jt("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),tC=Jt("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]),T6=Jt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),E6=Jt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),D6=Jt("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),jO=Jt("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),$u=Jt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),p0=Jt("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]),g0=Jt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Up=Jt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),M6=Jt("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]),Jo=Jt("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]),oc=Jt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),O6=Jt("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),jr=Jt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),I6=Jt("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]),AO=Jt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Wi=Jt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Df=Jt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),A1=({className:e})=>u.jsx(T6,{className:e,strokeWidth:3.2}),cm=e=>{if(typeof window<"u"&&(window.location.pathname||"").includes("/web/web/"))return`../${e.replace(/^\/+/,"")}`;const t="./",n=t.endsWith("/")?t:`${t}/`,r=e.replace(/^\/+/,"");return`${n}${r}`},P1=({className:e=""})=>{const t=cm("svg/custom-icons/mouse.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},T1=({className:e=""})=>{const t=cm("svg/custom-icons/gw2_boon.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},E1=({className:e=""})=>{const t=cm("svg/custom-icons/dam_mit.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},D1=({className:e=""})=>{const t=cm("svg/custom-icons/gw2_sigil.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},_6=[{id:"overview",label:"Overview",icon:oc,sectionIds:["overview","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","squad-composition","timeline","map-distribution"],items:[{id:"overview",label:"Overview",icon:oc},{id:"fight-breakdown",label:"Fight Breakdown",icon:Jo},{id:"top-players",label:"Top Players",icon:oc},{id:"top-skills-outgoing",label:"Top Skills",icon:k1},{id:"squad-composition",label:"Classes",icon:jr},{id:"timeline",label:"Squad vs Enemy",icon:jr},{id:"map-distribution",label:"Map Distribution",icon:j1}]},{id:"roster",label:"Roster Intel",icon:Ef,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance Ledger",icon:Ef},{id:"squad-comp-fight",label:"Squad Comp by Fight",icon:jr},{id:"fight-comp",label:"Fight Comp",icon:Jo}]},{id:"offense",label:"Offensive Stats",icon:Jo,sectionIds:["offense-detailed","player-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:Jo},{id:"player-breakdown",label:"Player Breakdown",icon:C1},{id:"spike-damage",label:"Spike Damage",icon:Df},{id:"conditions-outgoing",label:"Conditions",icon:p0}]},{id:"defense",label:"Defensive Stats",icon:$u,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","support-detailed","healing-stats","boon-output"],items:[{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:D6},{id:"defense-detailed",label:"Defense Detailed",icon:$u},{id:"defense-mitigation",label:"Damage Mitigation",icon:E1},{id:"support-detailed",label:"Support Detailed",icon:A1},{id:"healing-stats",label:"Healing Stats",icon:CO},{id:"boon-output",label:"Boon Output",icon:T1}]},{id:"other",label:"Other Metrics",icon:Up,sectionIds:["fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"fight-diff-mode",label:"Fight Comparison",icon:S1},{id:"special-buffs",label:"Special Buffs",icon:Up},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:D1},{id:"skill-usage",label:"Skill Usage",icon:N1},{id:"apm-stats",label:"APM Breakdown",icon:P1}]}],L6=(e,t=!0)=>{const[n,r]=v.useState(!1),[i,a]=v.useState("overview"),s=v.useRef(null),o=v.useRef(null),l=v.useRef(0),c=v.useMemo(()=>_6,[]),d=v.useMemo(()=>c.flatMap(m=>m.items),[c]),f=m=>{const p=m==="kdr"?"overview":m,g=s.current,y=document.getElementById(p);if(g&&y){const x=g.getBoundingClientRect(),w=y.getBoundingClientRect().top-x.top+g.scrollTop,k=Math.max(0,g.scrollHeight-g.clientHeight),C=Math.min(Math.max(w-16,0),k);g.scrollTo({top:C,behavior:"smooth"}),a(p)}else y&&(y.scrollIntoView({behavior:"smooth",block:"start"}),a(p));r(!1)};v.useEffect(()=>{if(e)return;const m=p=>{const g=s.current;if(!g)return;const y=p.target;if(!(y instanceof Element&&y.closest("[data-stats-mobile-nav]"))&&!(y instanceof Node&&g.contains(y))&&p.deltaY!==0&&!(g.scrollHeight<=g.clientHeight)){if(l.current+=p.deltaY,o.current===null){const x=()=>{const b=l.current;if(Math.abs(b)<.5){l.current=0,o.current=null;return}const w=b*.2;l.current=b-w,g.scrollBy({top:w,behavior:"auto"}),o.current=requestAnimationFrame(x)};o.current=requestAnimationFrame(x)}p.preventDefault()}};return window.addEventListener("wheel",m,{passive:!1}),()=>{window.removeEventListener("wheel",m),o.current!==null&&(cancelAnimationFrame(o.current),o.current=null),l.current=0}},[e]);const h=m=>{var x;const p=Math.max(0,d.findIndex(b=>b.id===i)),g=Math.min(Math.max(p+m,0),d.length-1),y=(x=d[g])==null?void 0:x.id;y&&f(y)};return v.useEffect(()=>{if(!t)return;const m=s.current;if(!m)return;let p=0;const g=()=>{var w;const x=m.getBoundingClientRect().top;let b=((w=d[0])==null?void 0:w.id)||"overview";d.forEach(k=>{const C=document.getElementById(k.id);if(!C)return;C.getBoundingClientRect().top-x<=24&&(b=k.id)}),a(k=>k===b?k:b)},y=()=>{p&&cancelAnimationFrame(p),p=requestAnimationFrame(g)};return g(),m.addEventListener("scroll",y,{passive:!0}),window.addEventListener("resize",y),()=>{p&&cancelAnimationFrame(p),m.removeEventListener("scroll",y),window.removeEventListener("resize",y)}},[d,t]),{mobileNavOpen:n,setMobileNavOpen:r,activeNavId:i,setActiveNavId:a,scrollContainerRef:s,tocGroups:c,tocItems:d,scrollToSection:f,stepSection:h}},nC=["selfBuffs","groupBuffs","squadBuffs"],Ys=(e,t,n=0)=>t?e/t:n,rC=e=>e!=null&&e.classification?e.classification==="Boon":!0,PO=e=>`b${e}`,$6=(e,t)=>{const n=Array.isArray(e==null?void 0:e.activeTimes)?e.activeTimes:[],r=typeof n[0]=="number"?n[0]:0;return r>0?r:t},TO=(e,t,n,r,i,a,s)=>{const o=e==="selfBuffs"?1:Math.max(e==="groupBuffs"?a-1:s-1,0);return!o||!i?{generationMs:0,wastedMs:0}:t?{generationMs:n*i*o,wastedMs:r*i*o}:{generationMs:n/100*i*o,wastedMs:r/100*i*o}},F6=(e,t,n)=>{const r=e.activeTimeMs||1,i=e.numFights||1,a=e.groupSupported||1,s=e.squadSupported||1,o=e.categories.selfBuffs,l=e.categories.squadBuffs,c=t==="totalBuffs"?{generationMs:o.generationMs+l.generationMs,wastedMs:o.wastedMs+l.wastedMs}:e.categories[t],d=c.generationMs,f=c.wastedMs;let h=1;t==="groupBuffs"?h=Ys(a-i,i,1):t==="squadBuffs"?h=Ys(s-i,i,1):t==="totalBuffs"&&(h=s);let m=0,p=0;if(t==="selfBuffs")m=n?Ys(d,r):Ys(d,r)*100,p=n?Ys(f,r):Ys(f,r)*100;else{const g=Ys(d,r)/(h||1),y=Ys(f,r)/(h||1);m=n?g:g*100,p=n?y:y*100}return{generationMs:d,wastedMs:f,uptimeRaw:m,wastedRaw:p}},EO=(e,t,n,r)=>{const{generationMs:i,uptimeRaw:a}=F6(e,t,n),s=e.activeTimeMs||1;return r==="total"?i/1e3:r==="average"?Ys(i,s):a},R6=(e,t,n,r,i)=>{const a=EO(e,t,n,r),s=r==="uptime"&&!n,o=r==="average",l=i!=null&&i.roundCountStats&&!s&&!o?0:2,c=a.toLocaleString(void 0,{minimumFractionDigits:l,maximumFractionDigits:l});return s?`${c}%`:c},B6=e=>{const t=new Map,n=new Map;return e.forEach(a=>{const s=a.details;if(!s)return;const o=s.durationMS||0,l=s.buffMap||{};Object.entries(l).forEach(([m,p])=>{if(!t.has(m)){t.set(m,p);return}const g=t.get(m)||{},y={name:g.name||p.name,stacking:g.stacking??p.stacking,icon:g.icon||p.icon,classification:g.classification||p.classification};t.set(m,y)});const d=(s.players||[]).filter(m=>!m.notInSquad),f=d.length,h=new Map;d.forEach(m=>{const p=m.group??0;h.set(p,(h.get(p)||0)+1)}),d.forEach(m=>{const p=m.account||m.name||m.character_name||"Unknown",g=m.profession||"Unknown",y=m.group??0,x=h.get(y)||1,b=$6(m,o);n.has(p)||n.set(p,{account:p,profession:g,professions:new Set,professionTimeMs:{},activeTimeMs:0,numFights:0,groupSupported:0,squadSupported:0,boons:{}});const w=n.get(p);w.profession=g,g!=="Unknown"&&(w.professions.add(g),w.professionTimeMs[g]=(w.professionTimeMs[g]||0)+b),w.activeTimeMs+=b,w.numFights+=1,w.groupSupported+=x,w.squadSupported+=f,nC.forEach(k=>{(m[k]||[]).forEach(N=>{var ee,ae,de,Z;if(typeof(N==null?void 0:N.id)!="number")return;const j=PO(N.id),D=l[j];if(!rC(D))return;const L=(D==null?void 0:D.stacking)??!1,T=((ae=(ee=N.buffData)==null?void 0:ee[0])==null?void 0:ae.generation)??0,M=((Z=(de=N.buffData)==null?void 0:de[0])==null?void 0:Z.wasted)??0,{generationMs:O,wastedMs:Q}=TO(k,L,T,M,o,x,f);!O&&!Q||(t.has(j)||t.set(j,D||{}),w.boons[j]||(w.boons[j]={selfBuffs:{generationMs:0,wastedMs:0},groupBuffs:{generationMs:0,wastedMs:0},squadBuffs:{generationMs:0,wastedMs:0}}),w.boons[j][k].generationMs+=O,w.boons[j][k].wastedMs+=Q)})})})}),{boonTables:Array.from(t.keys()).filter(a=>rC(t.get(a))).map(a=>{const s=t.get(a)||{},o=[];return n.forEach(l=>{var m;const c=l.boons[a];if(!c||!nC.some(p=>c[p].generationMs>0||c[p].wastedMs>0))return;const f=Array.from(l.professions||[]).filter(p=>p&&p!=="Unknown");let h=l.profession;if(f.length>0){h=f[0];let p=((m=l.professionTimeMs)==null?void 0:m[h])||0;f.forEach(g=>{var x;const y=((x=l.professionTimeMs)==null?void 0:x[g])||0;y>p&&(p=y,h=g)})}o.push({account:l.account,profession:h||"Unknown",professionList:f,activeTimeMs:l.activeTimeMs||1,numFights:l.numFights||1,groupSupported:l.groupSupported||1,squadSupported:l.squadSupported||1,categories:{selfBuffs:{...c.selfBuffs},groupBuffs:{...c.groupBuffs},squadBuffs:{...c.squadBuffs}}})}),{id:a,name:s.name||a,icon:s.icon,stacking:s.stacking??!1,rows:o}}).filter(a=>a.rows.length>0)}},iC=(e,t,n,r,i,a,s={})=>{var m,p,g,y;const l=((e==null?void 0:e[t])||[]).find(x=>x.id===n);if(!l)return{generationMs:0,wastedMs:0};const c=s[PO(n)],d=(c==null?void 0:c.stacking)??!1,f=((p=(m=l.buffData)==null?void 0:m[0])==null?void 0:p.generation)??0,h=((y=(g=l.buffData)==null?void 0:g[0])==null?void 0:y.wasted)??0;return TO(t,d,f,h,r,i,a)},z6={tiered:{tiers:{shortMs:500,mediumMs:1500,weights:{short:.5,medium:1,long:2}}}},U6={methods:z6},V6=U6,M1="count",W6=e=>(e||0)/1e3,H6=(e,t)=>{var i;if(!e)return 0;const n=(i=V6.methods.tiered)==null?void 0:i.tiers;if(!n)return e;const r=t/Math.max(e,1);return r<=n.shortMs?e*n.weights.short:r<=n.mediumMs?e*n.weights.medium:e*n.weights.long},DO=(e,t,n)=>n==="duration"?W6(t):n==="tiered"?H6(e,t):e;function q6(e,t=M1){var a;const n=(a=e.statsAll)==null?void 0:a[0],r=Number((n==null?void 0:n.appliedCrowdControl)??0),i=Number((n==null?void 0:n.appliedCrowdControlDuration)??0);return DO(r,i,t)}function K6(e,t){const n=(t==null?void 0:t.durationMS)||0,r=(t==null?void 0:t.buffMap)||{},i=e.filter(o=>!o.notInSquad),a=i.length,s=new Map;i.forEach(o=>{const l=o.group??0;s.set(l,(s.get(l)||0)+1)}),i.forEach(o=>{const l=s.get(o.group??0)||1,c=iC(o,"selfBuffs",1122,n,l,a,r),d=iC(o,"squadBuffs",1122,n,l,a,r);o.stabGeneration=(c.generationMs+d.generationMs)/1e3})}function G6(e){if(!e.statsTargets)return 0;let t=0;for(const n of e.statsTargets)n&&n.length>0&&(t+=n[0].downContribution||0);return t}function Y6(e){if(!e.extBarrierStats||!e.extBarrierStats.outgoingBarrierAllies)return 0;let t=0;for(const n of e.extBarrierStats.outgoingBarrierAllies)if(n)for(const r of n)r&&(t+=r.barrier||0);return t}function X6(e){if(!e.extHealingStats||!e.extHealingStats.outgoingHealingAllies)return 0;let t=0;for(const n of e.extHealingStats.outgoingHealingAllies)if(n)for(const r of n)r&&(t+=r.healing||0);return t}const aC=e=>{var t,n,r,i;return(((n=(t=e.support)==null?void 0:t[0])==null?void 0:n.condiCleanse)||0)+(((i=(r=e.support)==null?void 0:r[0])==null?void 0:i.condiCleanseSelf)||0)},sC=(e,t=M1)=>{var a;const n=(a=e.support)==null?void 0:a[0],r=Number((n==null?void 0:n.boonStrips)??0),i=Number((n==null?void 0:n.boonStripsTime)??0);return DO(r,i,t)},oC=e=>G6(e),lC=e=>X6(e),cC=e=>Y6(e),uC=(e,t=M1)=>q6(e,t),Q6=(e,t)=>K6(e,t),Z6="count",MO={downContribution:1,healing:1,cleanses:1,strips:1,stability:1,cc:.7,revives:.7,distanceToTag:.7,participation:.7,dodging:.4,dps:.2,damage:.2},nb={showTopStats:!0,showMvp:!0,roundCountStats:!1,topStatsMode:"total",topSkillDamageSource:"target",topSkillsMetric:"damage"},J6={uploading:!1,message:null,url:null,buildStatus:"idle"},dC=new Map([["bleeding","Bleeding"],["burning","Burning"],["confusion","Confusion"],["poison","Poison"],["torment","Torment"],["vulnerability","Vulnerability"],["weakness","Weakness"],["weakened","Weakness"],["blind","Blind"],["blinded","Blind"],["blinding","Blind"],["cripple","Cripple"],["crippled","Cripple"],["chill","Chill"],["chilled","Chill"],["immob","Immobilize"],["immobile","Immobilize"],["immobilized","Immobilize"],["slow","Slow"],["slowed","Slow"],["fear","Fear"],["feared","Fear"],["taunt","Taunt"],["taunted","Taunt"]]),OO={Blind:"https://render.guildwars2.com/file/09770136BB76FD0DBE1CC4267DEED54774CB20F6/102837.png",Chill:"https://render.guildwars2.com/file/28C4EC547A3516AF0242E826772DA43A5EAC3DF3/102839.png",Cripple:"https://render.guildwars2.com/file/070325E519C178D502A8160523766070D30C0C19/102838.png",Fear:"https://render.guildwars2.com/file/30307A6E766D74B6EB09EDA12A4A2DE50E4D76F4/102869.png",Immobilize:"https://render.guildwars2.com/file/397A613651BFCA2832B6469CE34735580A2C120E/102844.png",Slow:"https://render.guildwars2.com/file/F60D1EF5271D7B9319610855676D320CD25F01C6/961397.png",Taunt:"https://render.guildwars2.com/file/02EED459AD65FAF7DF32A260E479C625070841B9/1228472.png",Vulnerability:"https://render.guildwars2.com/file/3A394C1A0A3257EB27A44842DDEEF0DF000E1241/102850.png",Weakness:"https://render.guildwars2.com/file/6CB0E64AF9AA292E332A38C1770CE577E2CDE0E8/102853.png"},bh=e=>{if(e)return OO[e]},Mf=e=>{if(!e)return null;const t=e.trim().toLowerCase(),n=dC.get(t);if(n)return n;const r=t.split(/[^a-z]+/).filter(Boolean);for(const i of r){const a=dC.get(i);if(a)return a}return null},Jc=e=>Mf(e),IO=e=>{const t=new Map;return e&&(Object.values(e).forEach(n=>{if(!(n!=null&&n.icon)||!(n!=null&&n.name))return;const r=Mf(n.name);r&&(t.has(r)||t.set(r,n.icon))}),Object.entries(OO).forEach(([n,r])=>{t.has(n)||t.set(n,r)})),t},ip=(e,t,n)=>{var r;if(t&&n){const i=(r=n[`b${t}`])==null?void 0:r.name,a=Mf(i);if(a)return a}return e?Mf(e):null},eU=e=>{const t=(e==null?void 0:e.account)||"Unknown";return t&&t!=="Unknown"?t:(e==null?void 0:e.name)||"Unknown"||null},tU=e=>{if(!e||e.length===0)return 0;let t=0,n=null;return e.forEach(r=>{const i=Number(r[1]??0);if(Number.isFinite(i)){if(n===null){n=i;return}i>n&&(t+=i-n),n=i}}),t},nU=e=>{if(!e||e.length===0)return 0;let t=0;return e.forEach(n=>{const r=Number(n[0]??0),i=Number(n[1]??0);Number.isFinite(i)&&r!==0&&i>0&&(t+=1)}),t},rU=e=>{const{players:t,targets:n,skillMap:r,buffMap:i}=e,a=e.getPlayerKey||eU,s=IO(i),o={},l={};t.forEach(m=>{if(m!=null&&m.notInSquad)return;const p=a(m);p&&(o[p]||(o[p]={}),m!=null&&m.totalDamageDist&&m.totalDamageDist.forEach(g=>{g&&g.forEach(y=>{if(!y.id)return;let x=`Skill ${y.id}`,b;r&&(r[`s${y.id}`]?(x=r[`s${y.id}`].name||x,b=r[`s${y.id}`].icon||b):r[`${y.id}`]&&(x=r[`${y.id}`].name||x,b=r[`${y.id}`].icon||b));const w=ip(x,y.id,i);if(!w)return;const k=i==null?void 0:i[`b${y.id}`],C=k==null?void 0:k.name,N=s.get(w)||(k==null?void 0:k.icon),j=x.startsWith("Skill ")?C||w:x,D=b||(k==null?void 0:k.icon),L=Number(y.connectedHits??0),T=Number(y.hits??0),M=L>0?L:T,O=Number(y.totalDamage??0);if(!Number.isFinite(M)&&!Number.isFinite(O))return;const Q=l[w]||{name:w,icon:N,applications:0,damage:0};Q.applications+=Number.isFinite(M)?M:0,Q.damage+=Number.isFinite(O)?O:0,!Q.icon&&N&&(Q.icon=N),l[w]=Q;const ee=o[p][w]||{icon:N,applications:0,damage:0,skills:{}};ee.applications+=Number.isFinite(M)?M:0,ee.damage+=Number.isFinite(O)?O:0;const ae=ee.skills[j]||{name:j,hits:0,damage:0,icon:D};ae.hits+=Number.isFinite(M)?M:0,ae.damage+=Number.isFinite(O)?O:0,!ae.icon&&D&&(ae.icon=D),ee.skills[j]=ae,!ee.icon&&N&&(ee.icon=N),o[p][w]=ee})}))});const c=new Map;t.forEach(m=>{if(m!=null&&m.notInSquad)return;const p=a(m);p&&m!=null&&m.name&&c.set(m.name,p)});let d=0,f=0,h=0;return n.forEach(m=>{m!=null&&m.buffs&&m.buffs.forEach(p=>{const g=Number(p==null?void 0:p.id);if(!Number.isFinite(g))return;const y=i==null?void 0:i[`b${g}`],x=Mf(y==null?void 0:y.name);if(!x||y!=null&&y.classification&&y.classification!=="Condition")return;const b=x;if(!b)return;const w=p.statesPerSource||{};h+=1,Object.entries(w).forEach(([k,C])=>{var M;const N=c.get(k);if(!N)return;f+=1;const j=tU(C),D=nU(C);d+=j;const L=((M=o[N])==null?void 0:M[b])||{applications:0,damage:0,skills:{}};L.applicationsFromBuffs=(L.applicationsFromBuffs||0)+j,L.applicationsFromBuffsActive=(L.applicationsFromBuffsActive||0)+D,o[N]=o[N]||{},o[N][b]=L;const T=l[b]||{name:b,applications:0,damage:0};T.applicationsFromBuffs=(T.applicationsFromBuffs||0)+j,T.applicationsFromBuffsActive=(T.applicationsFromBuffsActive||0)+D,l[b]=T})})}),Object.values(o).forEach(m=>{Object.values(m).forEach(p=>{typeof p.applicationsFromBuffs=="number"&&(p.applications=p.applicationsFromBuffs)})}),Object.values(l).forEach(m=>{typeof m.applicationsFromBuffs=="number"&&(m.applications=m.applicationsFromBuffs)}),{playerConditions:o,summary:l,meta:{buffStateApplicationsTotal:d,targetBuffEntriesSeen:h,buffStateSourcesSeen:f}}},Of={Guardian:"#72C1D9",Dragonhunter:"#72C1D9",Firebrand:"#72C1D9",Willbender:"#72C1D9",Revenant:"#D16E5A",Herald:"#D16E5A",Renegade:"#D16E5A",Vindicator:"#D16E5A",Warrior:"#FFD166",Berserker:"#FFD166",Spellbreaker:"#FFD166",Bladesworn:"#FFD166",Engineer:"#D09C59",Scrapper:"#D09C59",Holosmith:"#D09C59",Mechanist:"#D09C59",Ranger:"#8CDC82",Druid:"#8CDC82",Soulbeast:"#8CDC82",Untamed:"#8CDC82",Thief:"#C08F95",Daredevil:"#C08F95",Deadeye:"#C08F95",Specter:"#C08F95",Elementalist:"#F68A87",Tempest:"#F68A87",Weaver:"#F68A87",Catalyst:"#F68A87",Mesmer:"#B679D5",Chronomancer:"#B679D5",Mirage:"#B679D5",Virtuoso:"#B679D5",Necromancer:"#52A76F",Reaper:"#52A76F",Scourge:"#52A76F",Harbinger:"#52A76F",Ritualist:"#52A76F",Luminary:"#72C1D9",Conduit:"#D16E5A",Paragon:"#FFD166",Amalgam:"#D09C59",Galeshot:"#8CDC82",Antiquary:"#C08F95",Evoker:"#F68A87",Troubadour:"#B679D5",Unknown:"#64748B"},iU={Guardian:"Guardian",Dragonhunter:"Guardian",Firebrand:"Guardian",Willbender:"Guardian",Revenant:"Revenant",Herald:"Revenant",Renegade:"Revenant",Vindicator:"Revenant",Warrior:"Warrior",Berserker:"Warrior",Spellbreaker:"Warrior",Bladesworn:"Warrior",Engineer:"Engineer",Scrapper:"Engineer",Holosmith:"Engineer",Mechanist:"Engineer",Ranger:"Ranger",Druid:"Ranger",Soulbeast:"Ranger",Untamed:"Ranger",Thief:"Thief",Daredevil:"Thief",Deadeye:"Thief",Specter:"Thief",Elementalist:"Elementalist",Tempest:"Elementalist",Weaver:"Elementalist",Catalyst:"Elementalist",Mesmer:"Mesmer",Chronomancer:"Mesmer",Mirage:"Mesmer",Virtuoso:"Mesmer",Necromancer:"Necromancer",Reaper:"Necromancer",Scourge:"Necromancer",Harbinger:"Necromancer",Ritualist:"Necromancer",Luminary:"Guardian",Conduit:"Revenant",Paragon:"Warrior",Amalgam:"Engineer",Galeshot:"Ranger",Antiquary:"Thief",Evoker:"Elementalist",Troubadour:"Mesmer",Unknown:"Unknown"};function lc(e){return Of[e]||Of.Unknown}function aU(e){return e?iU[e]||e:"Unknown"}function Jl(e){if(!e)return null;const n=typeof window<"u"&&/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/")?"/svg/class-icons":"./svg/class-icons",r=Of[e]?e:null;if(r&&r!=="Unknown")return`${n}/${r}.svg`;const i=aU(e);return i&&i!=="Unknown"?`${n}/${i}.svg`:null}const sU=e=>{if(e==null||e==="")return 0;if(typeof e=="number")return!Number.isFinite(e)||e<=0?0:e>1e12?e:e*1e3;if(e instanceof Date){const s=e.getTime();return Number.isFinite(s)&&s>0?s:0}const t=String(e).trim();if(!t)return 0;const n=Number(t);if(Number.isFinite(n)&&n>0)return n>1e12?n:n*1e3;const r=Date.parse(t);if(Number.isFinite(r)&&r>0)return r;const i=t.replace(/([+-]\d{2})$/,"$1:00"),a=Date.parse(i);return Number.isFinite(a)&&a>0?a:0},Ii=(e,t)=>sU((e==null?void 0:e.uploadTime)??(t==null?void 0:t.uploadTime)??(e==null?void 0:e.timeStartStd)??(e==null?void 0:e.timeStart)??(e==null?void 0:e.timeEndStd)??(e==null?void 0:e.timeEnd)??(e==null?void 0:e.timeStartText)??(e==null?void 0:e.timeEndText)),Vd=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i})=>{const a=e.filter(h=>h.details&&h.details.players&&h.details.players.length>0),s=r||nb,o=n||MO,l=f=>{if(!f||typeof f!="object")return f;const h=Array.isArray(f.fightBreakdown)?f.fightBreakdown:null;if(!h||h.length===0)return f;const m=k=>Array.isArray(k)&&k.some(C=>C&&Number(C.count)>0),p=new Map,g=new Map;e.forEach(k=>{var j;const C=(k==null?void 0:k.filePath)||(k==null?void 0:k.id);C&&p.set(String(C),k);const N=(k==null?void 0:k.permalink)||((j=k==null?void 0:k.details)==null?void 0:j.permalink);typeof N=="string"&&N.trim()&&g.set(N.trim(),k)});const y=h.map(k=>{var T;if(!k||typeof k!="object")return k;const C=k.id?String(k.id):"",N=typeof k.permalink=="string"?k.permalink.trim():"",j=(C?p.get(C):void 0)||(N?g.get(N):void 0);if(!j)return k;let D=k;if(Number(k.timestamp)<=0){const M=Ii(j==null?void 0:j.details,j);M&&(D={...D,timestamp:M})}const L=(T=j==null?void 0:j.details)==null?void 0:T.teamBreakdown;return m(L)&&(D={...D,teamBreakdown:L}),D}),x=Array.isArray(f.fightDiffMode)?f.fightDiffMode:[],w=x.some(k=>Array.isArray(k==null?void 0:k.targetFocus)&&k.targetFocus.some(C=>Number((C==null?void 0:C.damage)||0)>0||Number((C==null?void 0:C.hits)||0)>0))?x:y.map((k,C)=>{const N=k&&typeof k.enemyClassCounts=="object"&&k.enemyClassCounts?k.enemyClassCounts:{},j=Object.entries(N).map(([Z,Y])=>({label:String(Z||"Unknown"),count:Number(Y||0)})).filter(Z=>Z.count>0).sort((Z,Y)=>Y.count-Z.count||Z.label.localeCompare(Y.label)),D=j.reduce((Z,Y)=>Z+Y.count,0),L=j.map(Z=>({label:Z.label,damage:Z.count,hits:0,share:D>0?Z.count/D:0})),T=Number((k==null?void 0:k.enemyDowns)||0),M=Number((k==null?void 0:k.enemyDeaths)||0),O=Number((k==null?void 0:k.alliesDown)||0),Q=Number((k==null?void 0:k.alliesDead)||0),ee=Number((k==null?void 0:k.totalOutgoingDamage)||0),ae=Number((k==null?void 0:k.totalIncomingDamage)||0),de=[{metricId:"winFlag",metricLabel:"Win (1) / Loss (0)",higherIsBetter:!0,value:k!=null&&k.isWin?1:0},{metricId:"squadCount",metricLabel:"Squad Size",higherIsBetter:!0,value:Number((k==null?void 0:k.squadCount)||0)},{metricId:"enemyCount",metricLabel:"Enemy Count",higherIsBetter:!1,value:Number((k==null?void 0:k.enemyCount)||0)},{metricId:"squadKdr",metricLabel:"Squad KDR",higherIsBetter:!0,value:Q>0?M/Q:M},{metricId:"enemyDeaths",metricLabel:"Enemy Deaths",higherIsBetter:!0,value:M},{metricId:"enemyDowns",metricLabel:"Enemy Downs",higherIsBetter:!0,value:T},{metricId:"squadDeaths",metricLabel:"Squad Deaths",higherIsBetter:!1,value:Q},{metricId:"squadDowns",metricLabel:"Squad Downs",higherIsBetter:!1,value:O},{metricId:"damageDelta",metricLabel:"Damage Delta",higherIsBetter:!0,value:ee-ae},{metricId:"outgoingDamage",metricLabel:"Outgoing Damage",higherIsBetter:!0,value:ee},{metricId:"incomingDamage",metricLabel:"Incoming Damage",higherIsBetter:!1,value:ae},{metricId:"barrierIncomingAbsorb",metricLabel:"Barrier Absorption (Incoming)",higherIsBetter:!0,value:Number((k==null?void 0:k.incomingBarrierAbsorbed)||0)},{metricId:"enemyBarrierAbsorb",metricLabel:"Enemy Barrier Absorption",higherIsBetter:!1,value:Number((k==null?void 0:k.outgoingBarrierAbsorbed)||0)},{metricId:"alliesRevived",metricLabel:"Allies Revived (Players)",higherIsBetter:!0,value:Number((k==null?void 0:k.alliesRevived)||0)}];return{id:String((k==null?void 0:k.id)||`fight-${C+1}`),shortLabel:`F${C+1}`,fullLabel:`${String((k==null?void 0:k.mapName)||(k==null?void 0:k.label)||"Unknown Map")}  ${String((k==null?void 0:k.duration)||"--:--")}`,mapName:String((k==null?void 0:k.mapName)||""),timestamp:Number((k==null?void 0:k.timestamp)||0),duration:String((k==null?void 0:k.duration)||"--:--"),isWin:!!(k!=null&&k.isWin),targetFocus:L,squadMetrics:de}});return{...f,fightBreakdown:y,fightDiffMode:w}},c=(()=>{if(t)return l(t);const f=i||Z6,h=s.topSkillDamageSource||"target",m=s.topSkillsMetric||"damage",p=a.length;let g=0,y=0,x=0,b=0,w=0,k=0,C=0,N=0;const j=P=>{const H=((P==null?void 0:P.players)||[]).filter(ct=>!ct.notInSquad);let ve=0,se=0,Le=0,je=0;return H.forEach(ct=>{var Vt;const ht=(Vt=ct.defenses)==null?void 0:Vt[0];if(!ht)return;const St=Number(ht.downCount||0),Gt=Number(ht.deadCount||0);ve+=St+Gt,Le+=Gt}),H.forEach(ct=>{!ct.statsTargets||ct.statsTargets.length===0||ct.statsTargets.forEach(ht=>{const St=ht==null?void 0:ht[0];if(!St)return;const Gt=Number(St.downed||0),Vt=Number(St.killed||0);se+=Gt+Vt,je+=Vt})}),{squadDownsDeaths:ve,enemyDownsDeaths:se,squadDeaths:Le,enemyDeaths:je}},D=P=>{const{squadDownsDeaths:R,enemyDownsDeaths:H}=j(P);return R>0||H>0?H>R:typeof(P==null?void 0:P.success)=="boolean"?P.success:!1},L=new Map,T=new Set(["boonStripsTime","condiCleanseTime","condiCleanseTimeSelf"]),M={},O={},Q=new Map,ee={},ae={},de={},Z=new Map,Y=new Map,_=new Set(Object.keys(Of)),E=Object.keys(Of).filter(P=>P&&P!=="Unknown").sort((P,R)=>R.length-P.length),A=["Guardian","Revenant","Warrior","Engineer","Ranger","Thief","Elementalist","Mesmer","Necromancer"],te=P=>{if(!P)return"Unknown";const R=String(P).replace(/\s*\([^)]*\)\s*$/,"").replace(/\s*\[[^\]]*\]\s*$/,"").replace(/\s\d+$/,"").trim();if(_.has(R))return R;const H=R.toLowerCase();for(const se of E)if(H.includes(se.toLowerCase()))return se;return A.find(se=>H.includes(se.toLowerCase()))||R||"Unknown"},S=P=>P!=null&&P.classification?P.classification==="Boon":!0,U=new Map,q=new Map,J=()=>({totalHits:0,blocked:0,evaded:0,glanced:0,missed:0,invulned:0,interrupted:0,totalMitigation:0,minMitigation:0}),K=P=>{const R=Number(P);return Number.isFinite(R)?R:0},re=P=>{const R=String(P).split("|"),H=R[0]||"Unknown",ve=te(R[1]||"Unknown"),se=R[2]||H||"Unknown";return{name:H,profession:ve,account:se}},F=(P,R,H)=>{let ve=P.get(R);return ve?H.profession&&!ve.professionList.includes(H.profession)&&ve.professionList.push(H.profession):(ve={account:H.account,name:H.name,profession:H.profession,professionList:H.profession?[H.profession]:[],activeMs:0,mitigationTotals:J()},P.set(R,ve)),ve},W=(P,R,H)=>{let ve=P.get(R);return ve?H.profession&&!ve.professionList.includes(H.profession)&&ve.professionList.push(H.profession):(ve={account:H.account,name:H.name,profession:H.profession,professionList:H.profession?[H.profession]:[],activeMs:0,mitigationTotals:J(),minion:H.minion},P.set(R,ve)),ve},ce=(P,R)=>{P.totalHits+=K((R==null?void 0:R.skill_hits)??(R==null?void 0:R.skillHits)),P.blocked+=K(R==null?void 0:R.blocked),P.evaded+=K(R==null?void 0:R.evaded),P.glanced+=K(R==null?void 0:R.glanced),P.missed+=K(R==null?void 0:R.missed),P.invulned+=K(R==null?void 0:R.invulned),P.interrupted+=K(R==null?void 0:R.interrupted),P.totalMitigation+=K((R==null?void 0:R.avoided_damage)??(R==null?void 0:R.avoidedDamage)),P.minMitigation+=K((R==null?void 0:R.min_avoided_damage)??(R==null?void 0:R.minAvoidedDamage))},ie=P=>Object.values(P).some(R=>R>0),$=(P,R,H)=>{var Le,je,ct,ht;const ve=`s${P}`;if((Le=R==null?void 0:R[ve])!=null&&Le.name)return R[ve].name;if((je=R==null?void 0:R[String(P)])!=null&&je.name)return R[String(P)].name;const se=`b${P}`;return(ct=H==null?void 0:H[se])!=null&&ct.name?H[se].name:(ht=H==null?void 0:H[String(P)])!=null&&ht.name?H[String(P)].name:`Unknown Skill ${P}`},z=new Map,I=P=>{const R=z.get(P);if(!R)return{hasSkill:!1,avg:1,min:1,hits:0};const H=R.connectedHits||0,ve=H>0?R.totalDamage/H:0,se=R.minCount>0?R.minTotal/R.minCount:0;return{hasSkill:!0,avg:ve,min:se,hits:H}},ne="Ashtonlightstone.9145",Se="Illusionary Warden",We=[],le=[],$e=[],Oe=[],wt=new Map,Kt=new Map,dn=(P,R,H)=>{const ve=P.get(R)||J();return ve.totalHits+=H.totalHits,ve.blocked+=H.blocked,ve.evaded+=H.evaded,ve.glanced+=H.glanced,ve.missed+=H.missed,ve.invulned+=H.invulned,ve.interrupted+=H.interrupted,P.set(R,ve),ve};a.forEach(P=>{const R=P.details;if(!R)return;(R.targets||[]).forEach(ve=>{const se=(ve==null?void 0:ve.totalDamageDist)||[],Le=Array.isArray(se)?se[0]:null;Le==null||Le.forEach(je=>{if(!(je!=null&&je.id))return;const ct=Number(je.id),ht=z.get(ct)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};ht.totalDamage+=Number(je.totalDamage||0),ht.connectedHits+=Number(je.connectedHits||0);const St=Number.isFinite(Number(je.min))?Number(je.min):0;ht.minTotal+=St,ht.minCount+=1,z.set(ct,ht)})})}),a.forEach((P,R)=>{var en,on;const H=P.details;if(!H)return;const ve=H.players,se=H.targets||[],Le=H.skillMap||{},je=H.buffMap||{},ct=new Map,ht=new Map;se.forEach(V=>{const ue=(V==null?void 0:V.totalDamageDist)||[],Me=Array.isArray(ue)?ue[0]:null;Me==null||Me.forEach(Ke=>{var Lt;if(!(Ke!=null&&Ke.id))return;const Ee=Number(Ke.id),oe=((Lt=Le==null?void 0:Le[Ee])==null?void 0:Lt.name)||Ke.name||Ke.skillName||String(Ee),Ie=ct.get(Ee)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};Ie.totalDamage+=Number(Ke.totalDamage||0),Ie.connectedHits+=Number(Ke.connectedHits||0);const Ce=Number.isFinite(Number(Ke.min))?Number(Ke.min):0;Ie.minTotal+=Ce,Ie.minCount+=1,ct.set(Ee,Ie);const it=ht.get(oe)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};it.totalDamage+=Number(Ke.totalDamage||0),it.connectedHits+=Number(Ke.connectedHits||0);const Bt=Number.isFinite(Number(Ke.min))?Number(Ke.min):0;it.minTotal+=Bt,it.minCount+=1,ht.set(oe,it)})});const St=V=>{const ue=ct.get(V);if(!ue||ue.connectedHits<=0)return{avg:1,min:1};const Me=ue.connectedHits>0?ue.totalDamage/ue.connectedHits:0,Ke=ue.minCount>0?ue.minTotal/ue.minCount:Me;return{avg:Me||1,min:Ke||1}},Gt=V=>{const ue=ht.get(V);if(!ue||ue.connectedHits<=0)return{avg:1,min:1};const Me=ue.connectedHits>0?ue.totalDamage/ue.connectedHits:0,Ke=ue.minCount>0?ue.minTotal/ue.minCount:Me;return{avg:Me||1,min:Ke||1}},Vt=H.combatReplayMetaData||{},bn=(Vt==null?void 0:Vt.inchToPixel)>0?Vt.inchToPixel:1,qe=(Vt==null?void 0:Vt.pollingRate)>0?Vt.pollingRate:1,Ze=5e3,at=V=>Array.isArray(V)?V.map(ue=>Array.isArray(ue)?[Number(ue[0]),Number(ue[1])]:null).filter(ue=>!!ue&&Number.isFinite(ue[0])):[];let Mt=[],ut=H.durationMS||0,ye=!1;const be=ve.find(V=>(V==null?void 0:V.hasCommanderTag)&&!(V!=null&&V.notInSquad));(en=be==null?void 0:be.combatReplayData)!=null&&en.positions&&(Mt=be.combatReplayData.positions,at(be.combatReplayData.dead).forEach(([ue])=>{ue>0&&(ye=!0,ut=Math.min(ut,ue))}));const ze=V=>{var it;const ue=(it=V.statsAll)==null?void 0:it[0];if((ue==null?void 0:ue.distToCom)!==void 0&&(ue==null?void 0:ue.distToCom)!=="Infinity")return Math.round(Number(ue.distToCom));if((ue==null?void 0:ue.stackDist)!==void 0)return Math.round(Number(ue.stackDist))||0;if(V.hasCommanderTag)return 0;const Me=V.combatReplayData;if(!(Me!=null&&Me.positions)||!Mt.length)return 0;const Ke=Me.positions,Ee=at(Me.dead),oe=at(Me.down),Ie=Math.floor((Me.start||0)/qe);let Ce=0;if(Ee.length&&oe.length)for(const[Bt]of Ee){if(Bt<0)continue;const Lt=Math.max(0,Math.floor(Bt/qe))-Ie;for(const[mt,Dt]of oe){if(Bt!==Dt)continue;const zt=ye&&mt>ut?Math.max(1,Math.floor(ut/qe)):Lt,qt=Math.max(0,Math.min(zt,Ke.length,Mt.length));if(qt<=0)continue;let Nt=0;for(let Tt=0;Tt<qt;Tt++){const[Re,ot]=Ke[Tt],[pt,Ct]=Mt[Tt];Nt+=Math.hypot(Re-pt,ot-Ct)}Ce=Math.round(Nt/qt/bn)}}return Ce},Ae=ve.filter(V=>!V.notInSquad);x+=Ae.length,b+=se.filter(V=>!V.isFake).length,Q6(ve,{durationMS:H.durationMS,buffMap:H.buffMap});const{squadDeaths:rt,enemyDeaths:fe}=j(H);w+=rt,k+=fe,N+=rt,C+=fe,D(H)?g++:y++;const et=H.skillMap?Number((on=Object.keys(H.skillMap).find(V=>{var ue,Me;return((Me=(ue=H.skillMap)==null?void 0:ue[V])==null?void 0:Me.name)==="Battle Standard"}))==null?void 0:on.replace(/^s/,"")):null;ve.forEach((V,ue)=>{var qs,Ks,Fc,Tl,ua,Rc,Km,hd,Da,El,Qa,Za,Bc;if(V.notInSquad)return;const Me=V.account||"Unknown",Ke=Me!=="Unknown"?Me:V.name||"Unknown",Ee=V.name||"Unknown";L.has(Ke)||L.set(Ke,{name:Ee,account:Ke,characterNames:new Set,downContrib:0,cleanses:0,strips:0,stab:0,healing:0,barrier:0,cc:0,logsJoined:0,totalDist:0,distCount:0,dodges:0,downs:0,deaths:0,totalFightMs:0,offenseTotals:{},offenseRateWeights:{},defenseActiveMs:0,defenseTotals:{},defenseMinionDamageTaken:{},supportActiveMs:0,supportTotals:{},healingActiveMs:0,healingTotals:{},profession:V.profession||"Unknown",professions:new Set,professionTimeMs:{},squadActiveMs:0,firstSeenFightTs:0,lastSeenFightTs:0,lastSeenFightDurationMs:0,isCommander:!1,damage:0,dps:0,revives:0,outgoingConditions:{},incomingConditions:{}});const oe=L.get(Ke);if(V.hasCommanderTag&&(oe.isCommander=!0),Ee!=="Unknown"&&oe.characterNames.add(String(Ee)),V.profession&&V.profession!=="Unknown"){oe.profession=V.profession,oe.professions.add(V.profession);const De=Array.isArray(V.activeTimes)&&typeof V.activeTimes[0]=="number"?V.activeTimes[0]:H.durationMS||0;oe.professionTimeMs[V.profession]=(oe.professionTimeMs[V.profession]||0)+De}oe.logsJoined++,oe.downContrib+=oC(V),oe.cleanses+=aC(V),oe.strips+=sC(V,f),oe.healing+=lC(V),oe.barrier+=cC(V),oe.cc+=uC(V,f),oe.stab+=V.stabGeneration||0;const Ie=ze(V);Ie<=Ze&&(oe.totalDist+=Ie,oe.distCount++),(qs=V.defenses)!=null&&qs[0]&&(oe.dodges+=V.defenses[0].dodgeCount||0,oe.downs+=V.defenses[0].downCount||0,oe.deaths+=V.defenses[0].deadCount||0),H.durationMS&&(oe.totalFightMs+=H.durationMS);const Ce=Array.isArray(V.activeTimes)&&typeof V.activeTimes[0]=="number"?V.activeTimes[0]:H.durationMS||0;oe.squadActiveMs+=Ce;const it=Ii(H,P),Bt=Number((H==null?void 0:H.durationMS)||0);if(it>0&&((oe.firstSeenFightTs<=0||it<oe.firstSeenFightTs)&&(oe.firstSeenFightTs=it),oe.lastSeenFightTs<=0||it>oe.lastSeenFightTs?(oe.lastSeenFightTs=it,oe.lastSeenFightDurationMs=Bt):it===oe.lastSeenFightTs&&Bt>oe.lastSeenFightDurationMs&&(oe.lastSeenFightDurationMs=Bt)),oe.defenseActiveMs+=Ce,oe.supportActiveMs+=Ce,oe.healingActiveMs+=Ce,Array.isArray(V.buffUptimes)&&V.buffUptimes.length>0&&V.buffUptimes.forEach(De=>{var da,Gm,Ol,Ym,Xm,Qm;if(typeof(De==null?void 0:De.id)!="number")return;const Ge=`b${De.id}`,Xe=((da=H.buffMap)==null?void 0:da[Ge])||((Gm=H.buffMap)==null?void 0:Gm[String(De.id)]);if(!Xe||S(Xe))return;const tt=Number(((Ym=(Ol=De.buffData)==null?void 0:Ol[0])==null?void 0:Ym.uptime)??0),bt=Number(((Qm=(Xm=De.buffData)==null?void 0:Xm[0])==null?void 0:Qm.presence)??0);if((!Number.isFinite(tt)||tt<=0)&&(!Number.isFinite(bt)||bt<=0))return;const Cn=(Xe==null?void 0:Xe.stacking)??!1,jn=(Cn?Number.isFinite(tt)?tt:0:Number.isFinite(tt)?tt/100:0)*Ce,Hn=Cn?bt:tt,Ei=Math.min(Math.max(Number.isFinite(Hn)?Hn:0,0),100)/100*Ce,Ja=Number.isFinite(jn)&&jn>0,gi=Number.isFinite(Ei)&&Ei>0;if(!Ja&&!gi)return;const Hi=Jc(Xe==null?void 0:Xe.name);if(Hi&&o6.has(Hi)&&(!(Xe!=null&&Xe.classification)||Xe.classification==="Condition")){const qi=jn/1e3,zr=Xe==null?void 0:Xe.icon,Il=ee[Hi]||{name:Hi,icon:zr,applications:0,damage:0};Il.applicationsFromUptime=(Il.applicationsFromUptime||0)+qi,!Il.icon&&zr&&(Il.icon=zr),ee[Hi]=Il;const _l=oe.outgoingConditions[Hi]||{applications:0,damage:0,skills:{},icon:zr};_l.applicationsFromUptime=(_l.applicationsFromUptime||0)+qi,!_l.icon&&zr&&(_l.icon=zr),oe.outgoingConditions[Hi]=_l;const Ll=ae[Hi]||{name:Hi,icon:zr,applications:0,damage:0};Ll.applicationsFromUptime=(Ll.applicationsFromUptime||0)+qi,!Ll.icon&&zr&&(Ll.icon=zr),ae[Hi]=Ll;const $o=oe.incomingConditions[Hi]||{applications:0,damage:0,skills:{},icon:zr};$o.applicationsFromUptime=($o.applicationsFromUptime||0)+qi,!$o.icon&&zr&&($o.icon=zr),oe.incomingConditions[Hi]=$o}Z.has(Ge)||Z.set(Ge,{name:Xe==null?void 0:Xe.name,stacking:Cn,icon:Xe==null?void 0:Xe.icon}),Y.has(Ge)||Y.set(Ge,new Map);const Dl=Y.get(Ge),Ml=oe.account||V.account||V.name||"Unknown";let Ma=Dl.get(Ml);Ma||(Ma={account:Ml,profession:oe.profession||V.profession||"Unknown",professions:new Set,professionTimeMs:{},totalMs:0,uptimeMs:0,durationMs:0},Dl.set(Ml,Ma));const Lo=V.profession||oe.profession;Lo&&Lo!=="Unknown"&&(Ma.professions.add(Lo),Ma.professionTimeMs[Lo]=(Ma.professionTimeMs[Lo]||0)+Ce,Ma.profession=Lo),Ma.totalMs+=Ja?jn:0,Ma.uptimeMs+=gi?Ei:0,Ma.durationMs+=Ce}),(Ks=V.defenses)!=null&&Ks[0]){const De=tt=>{let bt=String(tt||"Unknown").replace(/^Juvenile\s+/i,"")||"Unknown";return bt.toUpperCase().includes("UNKNOWN")&&(bt="Unknown"),bt},Xe=(()=>{const tt=Array.isArray(V==null?void 0:V.minions)?V.minions:[];if(tt.length===0)return{total:0,byMinion:{}};let bt=0;const Cn={};return tt.forEach(_n=>{const jn=Array.isArray(_n==null?void 0:_n.totalDamageTakenDist)?_n.totalDamageTakenDist:[],Hn=Array.isArray(jn[0])?jn[0]:[],Ti=De(_n==null?void 0:_n.name);Hn.forEach(Ei=>{const Ja=Number((Ei==null?void 0:Ei.totalDamage)??(Ei==null?void 0:Ei.damageTaken)??0);Number.isFinite(Ja)&&(bt+=Ja,Cn[Ti]=(Cn[Ti]||0)+Ja)})}),{total:bt,byMinion:Cn}})();Xe.byMinion&&typeof Xe.byMinion=="object"&&Object.entries(Xe.byMinion).forEach(([tt,bt])=>{const Cn=Number(bt||0);!Number.isFinite(Cn)||Cn<=0||(oe.defenseMinionDamageTaken[tt]=(oe.defenseMinionDamageTaken[tt]||0)+Cn)}),vO.forEach(tt=>{const bt=tt.id==="minionDamageTaken"?Xe.total:Number(V.defenses[0][tt.field]??0);Number.isFinite(bt)&&(oe.defenseTotals[tt.id]=(oe.defenseTotals[tt.id]||0)+bt)})}(Fc=V.support)!=null&&Fc[0]&&yO.forEach(De=>{let Ge=Number(V.support[0][De.field]??0);Number.isFinite(Ge)&&(T.has(De.field)&&Ge>999999&&(Ge=0),oe.supportTotals[De.id]=(oe.supportTotals[De.id]||0)+Ge)});const Lt=(De,Ge)=>{Number.isFinite(Ge)&&(oe.healingTotals[De]=(oe.healingTotals[De]||0)+Ge)},mt=(De,Ge)=>Array.isArray(De)?De.reduce((Xe,tt)=>Xe+Number((tt==null?void 0:tt[Ge])??0),0):0,Dt=(De,Ge,Xe)=>{if(!Number.isFinite(Xe)||Xe<=0)return;const tt=ve[Ge],bt=Ge===ue,Cn=tt==null?void 0:tt.notInSquad,_n=!Cn,jn=_n&&(tt==null?void 0:tt.group)!=null&&tt.group===V.group;Lt(De,Xe),_n&&Lt(`squad${De[0].toUpperCase()}${De.slice(1)}`,Xe),jn&&Lt(`group${De[0].toUpperCase()}${De.slice(1)}`,Xe),bt&&Lt(`self${De[0].toUpperCase()}${De.slice(1)}`,Xe),Cn&&Lt(`offSquad${De[0].toUpperCase()}${De.slice(1)}`,Xe)};if(Array.isArray(V.rotation)){let De=0;V.rotation.forEach(Ge=>{var tt;if(!(Ge!=null&&Ge.id)||!f6(Ge.id,H.skillMap))return;const Xe=((tt=Ge.skills)==null?void 0:tt.length)||0;Xe>0&&(De+=Xe,Lt(`resUtility_s${Ge.id}`,Xe))}),De>0&&Lt("resUtility",De)}const zt=(Tl=V.extHealingStats)==null?void 0:Tl.outgoingHealingAllies;Array.isArray(zt)&&zt.forEach((De,Ge)=>{const Xe=mt(De,"healing"),tt=mt(De,"downedHealing");Dt("healing",Ge,Xe),Dt("downedHealing",Ge,tt)});const qt=(ua=V.extBarrierStats)==null?void 0:ua.outgoingBarrierAllies;Array.isArray(qt)&&qt.forEach((De,Ge)=>{const Xe=mt(De,"barrier");Dt("barrier",Ge,Xe)});const Nt=(Rc=V.statsAll)==null?void 0:Rc[0],Tt=(Km=V.dpsAll)==null?void 0:Km[0],Re=(hd=V.support)==null?void 0:hd[0];if(xO.forEach(De=>{if(De.id==="downContributionPercent"||!De.field)return;let Ge=0,Xe=0;De.source==="dpsAll"&&Tt?Ge=Number(Tt[De.field]??0):De.source==="statsAll"&&Nt?(Ge=Number(Nt[De.field]??0),Xe=Number(Nt[De.denomField||De.weightField||"connectedDamageCount"]??0)):De.source==="support"&&Re?Ge=Number(Re[De.field]??0):V.statsTargets&&V.statsTargets.forEach(tt=>{tt!=null&&tt[0]&&(Ge+=Number(tt[0][De.field]??0),Xe+=Number(tt[0][De.denomField||De.weightField||"connectedDamageCount"]??0))}),Number.isFinite(Ge)&&(oe.offenseTotals[De.id]=(oe.offenseTotals[De.id]||0)+Ge,De.isRate&&Xe>0&&(oe.offenseRateWeights[De.id]=(oe.offenseRateWeights[De.id]||0)+Xe))}),V.targetDamageDist&&Number.isFinite(et)){const De=V.targetDamageDist.flatMap(Ge=>Ge||[]).flatMap(Ge=>Ge||[]).reduce((Ge,Xe)=>Xe!=null&&Xe.id&&Xe.id===et?Ge+((Xe==null?void 0:Xe.connectedHits)||0):Ge,0);oe.offenseTotals.battleStandardHits=(oe.offenseTotals.battleStandardHits||0)+De}oe.revives+=((El=(Da=V.support)==null?void 0:Da[0])==null?void 0:El.resurrects)||0,Tt&&(oe.damage+=Tt.damage||0,oe.dps+=Tt.dps||0);const ot=De=>{var bt,Cn,_n,jn;let Ge=`Skill ${De.id}`;const Xe=((bt=H.skillMap)==null?void 0:bt[`s${De.id}`])||((Cn=H.skillMap)==null?void 0:Cn[`${De.id}`]);let tt=Xe==null?void 0:Xe.icon;if(Xe!=null&&Xe.name&&(Ge=Xe.name),Ge.startsWith("Skill ")){const Hn=ip(Ge,De.id,H.buffMap);Hn&&(Ge=Hn,tt=((jn=(_n=H.buffMap)==null?void 0:_n[`b${De.id}`])==null?void 0:jn.icon)||tt)}return{name:Ge,icon:tt}},pt=De=>{if(!(De!=null&&De.id))return;const{name:Ge,icon:Xe}=ot(De);M[De.id]||(M[De.id]={name:Ge,icon:Xe,damage:0,hits:0,downContribution:0}),M[De.id].name.startsWith("Skill ")&&!Ge.startsWith("Skill ")&&(M[De.id].name=Ge),!M[De.id].icon&&Xe&&(M[De.id].icon=Xe),M[De.id].damage+=De.totalDamage,M[De.id].hits+=De.connectedHits,M[De.id].downContribution+=Number(De.downContribution||0)},Ct=V.account||V.name||"Unknown",fn=V.profession||"Unknown",Nn=`${Ct}|${fn}`;let Fn=Q.get(Nn);Fn||(Fn={key:Nn,account:Ct,displayName:Ct,profession:fn,professionList:[fn],totalFightMs:0,skills:new Map},Q.set(Nn,Fn)),Fn.professionList.includes(fn)||Fn.professionList.push(fn),Fn.totalFightMs+=H.durationMS||0;const Or=De=>{if(!(De!=null&&De.id))return;const{name:Ge,icon:Xe}=ot(De),tt=`s${De.id}`;let bt=Fn.skills.get(tt);bt||(bt={id:tt,name:Ge,icon:Xe,damage:0,downContribution:0},Fn.skills.set(tt,bt)),bt.name.startsWith("Skill ")&&!Ge.startsWith("Skill ")&&(bt.name=Ge),!bt.icon&&Xe&&(bt.icon=Xe),bt.damage+=Number(De.totalDamage||0),bt.downContribution+=Number(De.downContribution||0)};if(h==="total")(Qa=V.totalDamageDist)==null||Qa.forEach(De=>{De==null||De.forEach(Ge=>{pt(Ge),Or(Ge)})});else{const De=new Map;(Za=V.targetDamageDist)==null||Za.forEach(Xe=>{Xe==null||Xe.forEach(tt=>{tt==null||tt.forEach(bt=>{const Cn=Number(bt==null?void 0:bt.id);if(Number.isFinite(Cn)){const _n=De.get(Cn)||{damage:0,hits:0,downContribution:0};_n.damage+=Number((bt==null?void 0:bt.totalDamage)||0),_n.hits+=Number((bt==null?void 0:bt.connectedHits)||0),_n.downContribution+=Number((bt==null?void 0:bt.downContribution)||0),De.set(Cn,_n)}pt(bt),Or(bt)})})}),!(H!=null&&H.detailedWvW)&&((Bc=V.totalDamageDist)==null||Bc.forEach(Xe=>{Xe==null||Xe.forEach(tt=>{const bt=Number(tt==null?void 0:tt.id);if(!Number.isFinite(bt))return;const Cn=De.get(bt);if(!Cn){pt(tt),Or(tt);return}const _n=Number((tt==null?void 0:tt.totalDamage)||0),jn=Number((tt==null?void 0:tt.connectedHits)||0),Hn=Number((tt==null?void 0:tt.downContribution)||0),Ti=_n-Number(Cn.damage||0),Ei=jn-Number(Cn.hits||0),Ja=Hn-Number(Cn.downContribution||0);if(Ti<=0&&Ei<=0&&Ja<=0)return;const gi={...tt,totalDamage:Math.max(0,Ti),connectedHits:Math.max(0,Ei),downContribution:Math.max(0,Ja)};pt(gi),Or(gi)})}))}V.totalDamageTaken&&V.totalDamageTaken.forEach(De=>{De==null||De.forEach(Ge=>{var Cn,_n,jn,Hn;if(!(Ge!=null&&Ge.id))return;let Xe=`Skill ${Ge.id}`;const tt=((Cn=H.skillMap)==null?void 0:Cn[`s${Ge.id}`])||((_n=H.skillMap)==null?void 0:_n[`${Ge.id}`]);let bt=tt==null?void 0:tt.icon;if(tt!=null&&tt.name&&(Xe=tt.name),Xe.startsWith("Skill ")){const Ti=ip(Xe,Ge.id,H.buffMap);Ti&&(Xe=Ti,bt=((Hn=(jn=H.buffMap)==null?void 0:jn[`b${Ge.id}`])==null?void 0:Hn.icon)||bt)}O[Ge.id]||(O[Ge.id]={name:Xe,icon:bt,damage:0,hits:0}),(!O[Ge.id].name.startsWith("Skill ")||Xe.startsWith("Skill "))&&(O[Ge.id].name=Xe),!O[Ge.id].icon&&bt&&(O[Ge.id].icon=bt),O[Ge.id].damage+=Ge.totalDamage,O[Ge.id].hits+=Ge.hits})})}),se.forEach(V=>{if(V!=null&&V.isFake)return;const ue=te((V==null?void 0:V.profession)||(V==null?void 0:V.name)||(V==null?void 0:V.id));ue&&(de[ue]=(de[ue]||0)+1)});const Fe=rU({players:ve,targets:se,skillMap:H.skillMap,buffMap:H.buffMap,getPlayerKey:V=>V.account&&V.account!=="Unknown"?V.account:V.name||null}),Je=IO(H.buffMap);Object.entries(Fe.playerConditions).forEach(([V,ue])=>{const Me=L.get(V);Me&&Object.entries(ue).forEach(([Ke,Ee])=>{const oe=Me.outgoingConditions[Ke]||{applications:0,damage:0,skills:{},icon:Ee.icon};oe.applications+=Number(Ee.applications||0),oe.damage+=Number(Ee.damage||0),Ee.applicationsFromBuffs&&(oe.applicationsFromBuffs=(oe.applicationsFromBuffs||0)+Ee.applicationsFromBuffs),Ee.applicationsFromBuffsActive&&(oe.applicationsFromBuffsActive=(oe.applicationsFromBuffsActive||0)+Ee.applicationsFromBuffsActive),Object.entries(Ee.skills||{}).forEach(([Ie,Ce])=>{const it=oe.skills[Ie]||{name:Ce.name,hits:0,damage:0,icon:Ce.icon};it.hits+=Number(Ce.hits||0),it.damage+=Number(Ce.damage||0),!it.icon&&Ce.icon&&(it.icon=Ce.icon),oe.skills[Ie]=it}),!oe.icon&&Ee.icon&&(oe.icon=Ee.icon),Me.outgoingConditions[Ke]=oe})}),Object.entries(Fe.summary).forEach(([V,ue])=>{const Me=ee[V]||{name:ue.name||V,icon:ue.icon,applications:0,damage:0};Me.applications+=Number(ue.applications||0),Me.damage+=Number(ue.damage||0),ue.applicationsFromBuffs&&(Me.applicationsFromBuffs=(Me.applicationsFromBuffs||0)+ue.applicationsFromBuffs),ue.applicationsFromBuffsActive&&(Me.applicationsFromBuffsActive=(Me.applicationsFromBuffsActive||0)+ue.applicationsFromBuffsActive),!Me.icon&&ue.icon&&(Me.icon=ue.icon),ee[V]=Me}),Ae.forEach(V=>{const ue=V.account&&V.account!=="Unknown"?V.account:V.name||"Unknown",Me=L.get(ue);!Me||!V.totalDamageTaken||V.totalDamageTaken.forEach(Ke=>Ke==null?void 0:Ke.forEach(Ee=>{var Tt,Re,ot,pt,Ct,fn;if(!(Ee!=null&&Ee.id))return;let oe=`Skill ${Ee.id}`;const Ie=((Tt=H.skillMap)==null?void 0:Tt[`s${Ee.id}`])||((Re=H.skillMap)==null?void 0:Re[`${Ee.id}`]);Ie!=null&&Ie.name&&(oe=Ie.name);const Ce=ip(oe,Ee.id,H.buffMap);if(!Ce)return;const it=(pt=(ot=H.buffMap)==null?void 0:ot[`b${Ee.id}`])==null?void 0:pt.name,Bt=Je.get(Ce)||((fn=(Ct=H.buffMap)==null?void 0:Ct[`b${Ee.id}`])==null?void 0:fn.icon),Lt=(Ie==null?void 0:Ie.icon)||Bt;oe.startsWith("Skill ")&&(it||Ce)&&(oe=it||Ce);const mt=Number(Ee.hits??0),Dt=Number(Ee.totalDamage??0),zt=ae[Ce]||{name:Ce,icon:Bt,applications:0,damage:0};zt.applications+=Number.isFinite(mt)?mt:0,zt.damage+=Number.isFinite(Dt)?Dt:0,!zt.icon&&Bt&&(zt.icon=Bt),ae[Ce]=zt;const qt=Me.incomingConditions[Ce]||{applications:0,damage:0,skills:{},icon:Bt};qt.applications+=Number.isFinite(mt)?mt:0,qt.damage+=Number.isFinite(Dt)?Dt:0;const Nt=qt.skills[oe]||{name:oe,hits:0,damage:0,icon:Lt};Nt.hits+=Number.isFinite(mt)?mt:0,Nt.damage+=Number.isFinite(Dt)?Dt:0,!Nt.icon&&Lt&&(Nt.icon=Lt),qt.skills[oe]=Nt,!qt.icon&&Bt&&(qt.icon=Bt),Me.incomingConditions[Ce]=qt}))});const Xt=H.player_damage_mitigation||H.playerDamageMitigation,In=Xt&&typeof Xt=="object"&&Object.keys(Xt).length>0;In&&Object.entries(Xt).forEach(([V,ue])=>{if(!ue||typeof ue!="object")return;const Me=re(V),Ke=F(U,Me.account,Me);Object.values(ue).forEach(Ee=>{K((Ee==null?void 0:Ee.avoided_damage)??(Ee==null?void 0:Ee.avoidedDamage))<=0||ce(Ke.mitigationTotals,Ee)})});const kn=H.player_minion_damage_mitigation||H.playerMinionDamageMitigation,nn=kn&&typeof kn=="object"&&Object.keys(kn).length>0;nn&&Object.entries(kn).forEach(([V,ue])=>{if(!ue||typeof ue!="object")return;const Me=re(V);Object.entries(ue).forEach(([Ke,Ee])=>{if(!Ee||typeof Ee!="object")return;const oe=`${Me.account}::${Ke}`,Ie=W(q,oe,{...Me,minion:String(Ke||"Unknown")});Object.values(Ee).forEach(Ce=>{ce(Ie.mitigationTotals,Ce)})})}),(!In||!nn)&&(In||Ae.forEach(V=>{const ue=(V==null?void 0:V.totalDamageTaken)||[];if(!Array.isArray(ue)||ue.length===0)return;const Me=V.account||V.name||"Unknown",Ke={account:Me,name:V.name||Me,profession:te(V.profession||"Unknown")};F(U,Me,Ke);const Ee=H.skillMap||{},oe=H.buffMap||{},Ie=Array.isArray(ue)?ue[0]:null;if(Ie==null||Ie.forEach(Ce=>{if(!(Ce!=null&&Ce.id))return;const it=K(Ce.blocked),Bt=K(Ce.evaded),Lt=K(Ce.glance??Ce.glanced),mt=K(Ce.missed),Dt=K(Ce.invulned),zt=K(Ce.interrupted),qt=K(Ce.hits??Ce.connectedHits),Nt=Number(Ce.id),Tt=$(Nt,Ee,oe);if(dn(wt,`${Me}::${Nt}`,{totalHits:qt,blocked:it,evaded:Bt,glanced:Lt,missed:mt,invulned:Dt,interrupted:zt}),Me===ne){const Re=z.get(Nt),ot=I(Nt),pt=ot.hasSkill?ot.hits>0?ot.avg:0:1,Ct=ot.hasSkill?ot.min||0:1,fn=ot.hits>0?Lt*pt/2+(it+Bt+mt+Dt+zt)*pt:0,Nn=ot.hits>0?Lt*Ct/2+(it+Bt+mt+Dt+zt)*Ct:0;$e.push({logId:P.filePath||P.id||R,skillId:Ce.id,skillName:Tt,blocked:it,evaded:Bt,glanced:Lt,missed:mt,invulned:Dt,interrupted:zt,totalAvoids:it+Bt+Lt+mt+Dt+zt,avg:pt,min:Ct,enemyHits:(Re==null?void 0:Re.connectedHits)??0,enemyTotalDmg:(Re==null?void 0:Re.totalDamage)??0,avoidDmg:fn,avoidMinDmg:Nn})}}),Me===ne){const Ce=(it,Bt)=>{let Lt=0,mt=0,Dt=0;if(!Array.isArray(it))return{total:Lt,minTotal:mt,hits:Dt};for(const zt of it){if(!(zt!=null&&zt.id))continue;const qt=K(zt.blocked),Nt=K(zt.evaded),Tt=K(zt.glance??zt.glanced),Re=K(zt.missed),ot=K(zt.invulned),pt=K(zt.interrupted),Ct=$(Number(zt.id),Le,je),fn=Bt(Number(zt.id),Ct);(fn.hits??0)>0&&(Lt+=Tt*fn.avg/2+(qt+Nt+Re+ot+pt)*fn.avg,mt+=Tt*fn.min/2+(qt+Nt+Re+ot+pt)*fn.min),Dt+=K(zt.hits??zt.connectedHits)}return{total:Lt,minTotal:mt,hits:Dt}};Oe.push({logId:P.filePath||P.id||R,variant:"current_global_name_taken0",...Ce(Ie,(it,Bt)=>{const Lt=I(it),mt=Lt.hasSkill?Lt.hits>0?Lt.avg:0:1,Dt=Lt.hasSkill?Lt.min||0:1;return{avg:mt,min:Dt,hits:Lt.hits}})})}}),nn||Ae.forEach(V=>{const ue=(V==null?void 0:V.minions)||[];if(!Array.isArray(ue)||ue.length===0)return;const Me=V.account||V.name||"Unknown",Ke={account:Me,name:V.name||Me,profession:te(V.profession||"Unknown")},Ee=H.skillMap||{},oe=H.buffMap||{};ue.forEach(Ie=>{const Ce=(Ie==null?void 0:Ie.totalDamageTakenDist)||[];if(!Array.isArray(Ce)||Ce.length===0)return;let it=String((Ie==null?void 0:Ie.name)||"Unknown").replace(/^Juvenile\s+/i,"")||"Unknown";it.toUpperCase().includes("UNKNOWN")&&(it="Unknown");const Bt=`${Me}::${it}`;W(q,Bt,{...Ke,minion:it});const Lt=Array.isArray(Ce)?Ce[0]:null;if(Lt==null||Lt.forEach(mt=>{if(!(mt!=null&&mt.id))return;const Dt=K(mt.blocked),zt=K(mt.evaded),qt=K(mt.glance??mt.glanced),Nt=K(mt.missed),Tt=K(mt.invulned),Re=K(mt.interrupted),ot=K(mt.hits??mt.connectedHits),pt=Number(mt.id),Ct=$(pt,Ee,oe);if(dn(Kt,`${Bt}::${pt}`,{totalHits:ot,blocked:Dt,evaded:zt,glanced:qt,missed:Nt,invulned:Tt,interrupted:Re}),Me===ne&&it===Se){const fn=z.get(pt),Nn=I(pt),Fn=Nn.hasSkill?Nn.hits>0?Nn.avg:0:1,Or=Nn.hasSkill?Nn.min||0:1,qs=Nn.hits>0?qt*Fn/2+(Dt+zt+Nt+Tt+Re)*Fn:0,Ks=Nn.hits>0?qt*Or/2+(Dt+zt+Nt+Tt+Re)*Or:0;We.push({logId:P.filePath||P.id||R,skillId:mt.id,skillName:Ct,blocked:Dt,evaded:zt,glanced:qt,missed:Nt,invulned:Tt,interrupted:Re,totalAvoids:Dt+zt+qt+Nt+Tt+Re,avg:Fn,min:Or,enemyHits:(fn==null?void 0:fn.connectedHits)??0,enemyTotalDmg:(fn==null?void 0:fn.totalDamage)??0,avoidDmg:qs,avoidMinDmg:Ks})}}),Me===ne&&it===Se){const mt=(Nt,Tt)=>{let Re=0,ot=0,pt=0;if(!Array.isArray(Nt))return{total:Re,minTotal:ot,hits:pt};for(const Ct of Nt){if(!(Ct!=null&&Ct.id))continue;const fn=K(Ct.blocked),Nn=K(Ct.evaded),Fn=K(Ct.glance??Ct.glanced),Or=K(Ct.missed),qs=K(Ct.invulned),Ks=K(Ct.interrupted),Fc=$(Number(Ct.id),Le,je),{avg:Tl,min:ua}=Tt(Number(Ct.id),Fc);K(Ct.hits??Ct.connectedHits)>0&&(Re+=Fn*Tl/2+(fn+Nn+Or+qs+Ks)*Tl,ot+=Fn*ua/2+(fn+Nn+Or+qs+Ks)*ua),pt+=K(Ct.hits??Ct.connectedHits)}return{total:Re,minTotal:ot,hits:pt}},Dt=Array.isArray(Ce)?Ce[0]||[]:[],zt=Array.isArray(Ce)?Ce.flat():[],qt=Array.isArray(Ie==null?void 0:Ie.totalDamageTaken)?Ie.totalDamageTaken[0]||[]:[];le.push({logId:P.filePath||P.id||R,variant:"current_global_name_dist0",...mt(Dt,(Nt,Tt)=>{const Re=I(Nt),ot=Re.hasSkill?Re.hits>0?Re.avg:0:1,pt=Re.hasSkill&&Re.min||0;return{avg:ot,min:pt}})}),le.push({logId:P.filePath||P.id||R,variant:"local_name_dist0",...mt(Dt,(Nt,Tt)=>Gt(Tt))}),le.push({logId:P.filePath||P.id||R,variant:"local_id_dist0",...mt(Dt,Nt=>St(Nt))}),le.push({logId:P.filePath||P.id||R,variant:"global_name_alllists",...mt(zt,(Nt,Tt)=>{const Re=I(Nt),ot=Re.hasSkill?Re.hits>0?Re.avg:0:1,pt=Re.hasSkill&&Re.min||0;return{avg:ot,min:pt}})}),le.push({logId:P.filePath||P.id||R,variant:"global_name_taken0",...mt(qt,(Nt,Tt)=>{const Re=I(Nt),ot=Re.hasSkill?Re.hits>0?Re.avg:0:1,pt=Re.hasSkill&&Re.min||0;return{avg:ot,min:pt}})})}})}))}),We.length>0&&(console.groupCollapsed("[Mitigation Debug] Ashtonlightstone.9145 / Illusionary Warden"),console.table(We),le.length>0&&console.table(le),console.groupEnd()),$e.length>0&&(console.groupCollapsed("[Mitigation Debug] Ashtonlightstone.9145 / Player"),console.table($e),Oe.length>0&&console.table(Oe),console.groupEnd());const Mn=(P,R)=>{const H=new Map,ve=se=>{let Le=H.get(se);return Le||(Le=J(),H.set(se,Le)),Le};R.forEach((se,Le)=>{const je=Le.lastIndexOf("::"),ct=je>-1?Le.slice(0,je):Le,ht=je>-1?Number(Le.slice(je+2)):Number.NaN,St=Number.isFinite(ht)?I(ht):{hasSkill:!1,avg:0,min:0,hits:0};if(!St.hasSkill||St.hits<=0)return;const Gt=St.avg,Vt=St.min,bn=se.glanced*Gt/2+(se.blocked+se.evaded+se.missed+se.invulned+se.interrupted)*Gt,qe=se.glanced*Vt/2+(se.blocked+se.evaded+se.missed+se.invulned+se.interrupted)*Vt;if(bn<=0)return;const Ze=ve(ct);Ze.totalHits+=se.totalHits,Ze.blocked+=se.blocked,Ze.evaded+=se.evaded,Ze.glanced+=se.glanced,Ze.missed+=se.missed,Ze.invulned+=se.invulned,Ze.interrupted+=se.interrupted,Ze.totalMitigation+=bn,Ze.minMitigation+=qe}),P.forEach((se,Le)=>{const je=H.get(Le)||J();se.mitigationTotals.totalHits=je.totalHits,se.mitigationTotals.blocked=je.blocked,se.mitigationTotals.evaded=je.evaded,se.mitigationTotals.glanced=je.glanced,se.mitigationTotals.missed=je.missed,se.mitigationTotals.invulned=je.invulned,se.mitigationTotals.interrupted=je.interrupted,se.mitigationTotals.totalMitigation=je.totalMitigation,se.mitigationTotals.minMitigation=je.minMitigation})};Mn(U,wt),Mn(q,Kt);const ge=p>0?Math.round(x/p):0,_e=p>0?Math.round(b/p):0,It=w>0?(k/w).toFixed(2):k>0?"":"0.00",Ht=C>0?(N/C).toFixed(2):N>0?"":"0.00",gn=(P,R)=>{const ve=P.filter(je=>Number.isFinite(je.value)&&(R?je.value>0:je.value>=0)).sort((je,ct)=>{const ht=R?ct.value-je.value:je.value-ct.value;return ht!==0?ht:je.account.localeCompare(ct.account)});let se=null,Le=0;return ve.map((je,ct)=>((se===null||je.value!==se)&&(Le=ct+1,se=je.value),{rank:Le,...je}))},Mr=Array.from(L.values()).map(P=>{const R=Array.from(P.professions).filter(H=>H!=="Unknown");if(P.professionList=R,R.length>0){let H=R[0],ve=P.professionTimeMs[H]||0;R.forEach(se=>{const Le=P.professionTimeMs[se]||0;Le>ve&&(ve=Le,H=se)}),P.profession=H}return{key:P.account,stat:P}}),Pi=P=>{const R=L.get(P.account);if(!R){const se=P.professionList.length>0?P.professionList:P.profession?[P.profession]:[];return{...P,professionList:se}}const H=R.professionList&&R.professionList.length>0?R.professionList:Array.from(R.professions||[]).filter(se=>se&&se!=="Unknown"),ve=R.profession||P.profession;return{...P,profession:ve,professionList:H.length>0?H:ve?[ve]:[],activeMs:R.defenseActiveMs||R.totalFightMs||P.activeMs}},Wn=Array.from(U.values()).map(Pi).filter(P=>ie(P.mitigationTotals)).sort((P,R)=>P.account.localeCompare(R.account)),Ta=Array.from(q.values()).map(Pi).filter(P=>P.mitigationTotals.totalMitigation>0).sort((P,R)=>{const H=P.account.localeCompare(R.account);return H!==0?H:String(P.minion||"").localeCompare(String(R.minion||""))}),On=(P,R)=>{switch(R){case"downContrib":return P.downContrib;case"barrier":return P.barrier;case"healing":return P.healing;case"dodges":return P.dodges;case"strips":return P.strips;case"cleanses":return P.cleanses;case"cc":return P.cc;case"stability":return P.stab;case"revives":return P.revives;case"dps":return P.dps;case"damage":return P.damage;case"participation":return P.logsJoined;case"closestToTag":return!P.isCommander&&P.distCount>0?P.totalDist/P.distCount:Number.POSITIVE_INFINITY;default:return 0}},Yt=(P,R)=>gn(Mr.map(({stat:H})=>({account:H.account,profession:H.profession,professionList:H.professionList,value:On(H,P),count:H.logsJoined})),R),yn={downContrib:Yt("downContrib",!0),barrier:Yt("barrier",!0),healing:Yt("healing",!0),dodges:Yt("dodges",!0),strips:Yt("strips",!0),cleanses:Yt("cleanses",!0),cc:Yt("cc",!0),stability:Yt("stability",!0),revives:Yt("revives",!0),participation:Yt("participation",!0),dps:Yt("dps",!0),damage:Yt("damage",!0),closestToTag:Yt("closestToTag",!1).filter(P=>Number.isFinite(P.value))},pi={downContrib:"downContrib",barrier:"barrier",healing:"healing",dodges:"dodges",strips:"strips",cleanses:"cleanses",cc:"cc",stability:"stability",closestToTag:"closestToTag"},pn=P=>{const R=P==null?void 0:P[0];return{value:(R==null?void 0:R.value)??0,player:(R==null?void 0:R.account)??"-",count:(R==null?void 0:R.count)??0,profession:(R==null?void 0:R.profession)??"Unknown",professionList:(R==null?void 0:R.professionList)??[]}},sr={maxDownContrib:pn([]),maxBarrier:pn([]),maxHealing:pn([]),maxDodges:pn([]),maxStrips:pn([]),maxCleanses:pn([]),maxCC:pn([]),maxStab:pn([]),closestToTag:pn([])},Pr={},ai=(P,R)=>{if(R==="closestToTag")return On(P,R);const H=Math.max(1,(P.totalFightMs||0)/1e3);return On(P,R)/H};Object.values(pi).forEach(P=>{const R=P!=="closestToTag";Pr[P]=gn(Mr.map(({stat:H})=>({account:H.account,profession:H.profession,professionList:H.professionList,value:ai(H,P),count:H.logsJoined})),R)}),sr.maxDownContrib=pn(Pr.downContrib),sr.maxBarrier=pn(Pr.barrier),sr.maxHealing=pn(Pr.healing),sr.maxDodges=pn(Pr.dodges),sr.maxStrips=pn(Pr.strips),sr.maxCleanses=pn(Pr.cleanses),sr.maxCC=pn(Pr.cc),sr.maxStab=pn(Pr.stability),sr.closestToTag=pn(Pr.closestToTag);const la={maxDownContrib:pn(yn.downContrib),maxBarrier:pn(yn.barrier),maxHealing:pn(yn.healing),maxDodges:pn(yn.dodges),maxStrips:pn(yn.strips),maxCleanses:pn(yn.cleanses),maxCC:pn(yn.cc),maxStab:pn(yn.stability),closestToTag:pn(yn.closestToTag)};let Us={player:"None",account:"None",score:-1,profession:"Unknown",professionList:[],color:"#64748b",topStats:[]},Al,Vs,Pl=0;if(s!=null&&s.showMvp){const P={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},R=Le=>{const je=P[Le];return je?Number(o[je]||0)>0:!1},H=[],ve=Le=>[...Le||[]].filter(je=>R(je==null?void 0:je.name)).sort((je,ct)=>ct.ratio-je.ratio||je.rank-ct.rank||je.name.localeCompare(ct.name)).slice(0,3),se=Le=>{var ct;if(!Le)return;const je=ve(Le.contribs);return{...Le,player:Le.name,reason:((ct=je[0])==null?void 0:ct.name)||"Top Performance",topStats:je}};Mr.forEach(({stat:Le})=>{let je=0;const ct=[],ht=(St,Gt,Vt,bn,qe=!0)=>{var at,Mt;if(Vt<=0)return;const Ze=((at=Gt[0])==null?void 0:at.value)||0;if(Ze&&Number.isFinite(St)&&(qe?St>0:St<Number.POSITIVE_INFINITY)){const ut=qe?St/Ze:Ze/St;je+=ut*Vt;const ye=((Mt=Gt.find(be=>be.account===Le.account))==null?void 0:Mt.rank)||0;ct.push({name:bn,ratio:ut,val:St.toLocaleString(),rank:ye})}};ht(Le.downContrib,yn.downContrib,o.downContribution,"Down Contribution"),ht(Le.healing,yn.healing,o.healing,"Healing"),ht(Le.cleanses,yn.cleanses,o.cleanses,"Cleanses"),ht(Le.strips,yn.strips,o.strips,"Strips"),ht(Le.stab,yn.stability,o.stability,"Stability"),ht(Le.cc,yn.cc,o.cc,"CC"),ht(Le.revives,yn.revives,o.revives,"Revives"),ht(On(Le,"closestToTag"),yn.closestToTag,o.distanceToTag,"Distance to Tag",!1),ht(Le.logsJoined,yn.participation,o.participation,"Participation"),ht(Le.dodges,yn.dodges,o.dodging,"Dodging"),ht(Le.dps,yn.dps,o.dps,"DPS"),ht(Le.damage,yn.damage,o.damage,"Damage"),H.push({...Le,score:je,contribs:ct.filter(St=>R(St.name))})}),H.sort((Le,je)=>je.score-Le.score),H[0]&&H[0].score>0&&(Us=se(H[0])||Us),Al=se(H[1]),Vs=se(H[2]),Pl=H.length>0?H.reduce((Le,je)=>Le+je.score,0)/H.length:0}const ca=Object.values(M).sort((P,R)=>R.damage-P.damage||R.hits-P.hits||String(P.name||"").localeCompare(String(R.name||""))).slice(0,25),Ea=Object.values(M).sort((P,R)=>R.downContribution-P.downContribution||R.hits-P.hits||String(P.name||"").localeCompare(String(R.name||""))).slice(0,25),Ws=m==="downContribution"?Ea:ca,fd=Object.values(O).sort((P,R)=>R.damage-P.damage).slice(0,25),Lc=P=>{const R=String(P).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),H=R.match(/^(Red|Blue|Green)\s+(?:Alpine|Desert)?\s*Borderlands$/i);return H?`${H[1]} Borderlands`:R||"Unknown"},si=(P,R)=>Lc((P==null?void 0:P.zone)||(P==null?void 0:P.mapName)||(P==null?void 0:P.map)||(P==null?void 0:P.location)||(P==null?void 0:P.fightName)||(R==null?void 0:R.fightName)||(R==null?void 0:R.encounterName)||"Unknown"),Oo=(P,R)=>{const H=(R==null?void 0:R.permalink)||(P==null?void 0:P.permalink);if(typeof H=="string"&&H.trim().length>0)return H.trim();const ve=P==null?void 0:P.uploadLinks;if(!Array.isArray(ve))return"";for(const se of ve){if(typeof se=="string"&&se.trim().length>0)return se.trim();if(se&&typeof se=="object"){const Le=se.permalink||se.link||se.url||se.reportLink;if(typeof Le=="string"&&Le.trim().length>0)return Le.trim()}}return""},Hs={};a.forEach(P=>{const R=si(P==null?void 0:P.details,P);Hs[R]=(Hs[R]||0)+1});const $c=Object.entries(Hs).map(([P,R])=>{const H=String(P).trim(),ve=/eternal battlegrounds|^ebg$/i.test(H);let se="#64748b";return ve?se="#ffffff":/red/i.test(H)?se="#ef4444":/blue/i.test(H)?se="#3b82f6":/green/i.test(H)&&(se="#22c55e"),{name:P,value:R,color:se}}).sort((P,R)=>R.value-P.value),{boonTables:md}=B6(a),Io=a.map((P,R)=>{var ve,se;const H=((ve=P.details)==null?void 0:ve.players)||[];return{index:R+1,label:`Log ${R+1}`,timestamp:Ii(P.details,P),squadCount:H.filter(Le=>!Le.notInSquad).length,friendlyCount:H.length,enemies:((se=P.details)==null?void 0:se.targets).filter(Le=>!Le.isFake).length}}).sort((P,R)=>P.timestamp-R.timestamp),_o={};Array.from(L.values()).forEach(P=>{P.profession&&P.profession!=="Unknown"&&(_o[P.profession]=(_o[P.profession]||0)+1)});const G=Object.entries(_o).map(([P,R])=>({name:P,value:R,color:lc(P)})).sort((P,R)=>R.value-P.value),xe={};Object.keys(de).length===0&&a.forEach(P=>{var R,H;(H=(R=P.details)==null?void 0:R.targets)==null||H.forEach(ve=>{if(ve.isFake)return;const se=ve.profession&&ve.profession!=="Unknown"?ve.profession:ve.name||ve.id||"Unknown",Le=te(se);xe[Le]=(xe[Le]||0)+1})});const Ne=Object.keys(de).length>0?de:xe,st=Object.entries(Ne).map(([P,R])=>({name:P,value:R,color:lc(P)})).sort((P,R)=>R.value-P.value),Et=a.map((P,R)=>({log:P,originalIndex:R})).sort((P,R)=>Ii(P.log.details,P.log)-Ii(R.log.details,R.log)),Ut=Et.map(({log:P},R)=>{const H=P.details;if(!H)return null;const ve=H.players||[],se=ve.filter(fe=>!fe.notInSquad),Le=ve.filter(fe=>fe.notInSquad),ct=(H.targets||[]).filter(fe=>!fe.isFake),ht=se.reduce((fe,Ue)=>{var et,Fe;return fe+(((Fe=(et=Ue.dpsAll)==null?void 0:et[0])==null?void 0:Fe.damage)||0)},0),St=se.reduce((fe,Ue)=>{var et,Fe;return fe+(((Fe=(et=Ue.defenses)==null?void 0:et[0])==null?void 0:Fe.damageTaken)||0)},0),{enemyDeaths:Gt,enemyDownsDeaths:Vt}=j(H),bn=D(H),qe=Ii(H,P),Ze=si(H,P),at=fe=>{if(!fe||typeof fe!="object")return;const Ue=fe.teamID??fe.teamId??fe.team??fe.teamColor??fe.team_color;if(Ue!=null)return Ue;const et=Object.keys(fe).find(Fe=>/^team/i.test(Fe));return et?fe[et]:void 0},Mt=(fe,Ue)=>{const et={};return fe.forEach(Fe=>{const Je=Ue(Fe),Xt=te(Je);Xt&&(et[Xt]=(et[Xt]||0)+1)}),et},ut=Mt(se,fe=>(fe==null?void 0:fe.profession)||(fe==null?void 0:fe.name)),ye=Mt(Le,fe=>(fe==null?void 0:fe.profession)||(fe==null?void 0:fe.name)),be=Mt(ct,fe=>(fe==null?void 0:fe.profession)||(fe==null?void 0:fe.name)||(fe==null?void 0:fe.id)),ze=new Set;se.forEach(fe=>{const Ue=at(fe);Ue!=null&&ze.add(String(Ue))});const Ae=new Map;ct.forEach(fe=>{if((fe==null?void 0:fe.enemyPlayer)===!1)return;const Ue=at(fe);if(Ue==null)return;const et=String(Ue);ze.has(et)||Ae.set(et,(Ae.get(et)||0)+1)});const rt=Array.from(Ae.entries()).sort((fe,Ue)=>{const et=Ue[1]-fe[1];return et!==0?et:fe[0].localeCompare(Ue[0],void 0,{numeric:!0})}).slice(0,3).map(([fe,Ue])=>({teamId:fe,count:Ue}));return{id:P.filePath||`fight-${R}`,label:P.encounterName||`Fight ${R+1}`,permalink:Oo(H,P),timestamp:qe,mapName:Ze,duration:yh(H.durationMS),isWin:bn,squadCount:se.length,allyCount:Le.length,enemyCount:ct.length,teamBreakdown:rt,alliesDown:se.reduce((fe,Ue)=>{var et,Fe;return fe+(((Fe=(et=Ue.defenses)==null?void 0:et[0])==null?void 0:Fe.downCount)||0)},0),alliesDead:se.reduce((fe,Ue)=>{var et,Fe;return fe+(((Fe=(et=Ue.defenses)==null?void 0:et[0])==null?void 0:Fe.deadCount)||0)},0),alliesRevived:se.reduce((fe,Ue)=>{var et,Fe;return Number(((Fe=(et=Ue.statsAll)==null?void 0:et[0])==null?void 0:Fe.saved)||0)>0?fe+1:fe},0),rallies:0,enemyDeaths:Gt,enemyDowns:Math.max(0,Vt-Gt),totalOutgoingDamage:ht,totalIncomingDamage:St,incomingBarrierAbsorbed:se.reduce((fe,Ue)=>{var et,Fe;return fe+(((Fe=(et=Ue.defenses)==null?void 0:et[0])==null?void 0:Fe.damageBarrier)||0)},0),outgoingBarrierAbsorbed:se.reduce((fe,Ue)=>{var Je;const et=(Je=Ue.extBarrierStats)==null?void 0:Je.outgoingBarrier;if(!Array.isArray(et))return fe;let Fe=0;return et.forEach(Xt=>{if(Array.isArray(Xt)){Xt.forEach(In=>{Fe+=Number((In==null?void 0:In.barrier)||0)});return}Fe+=Number((Xt==null?void 0:Xt.barrier)||0)}),fe+Fe},0),squadClassCountsFight:ut,allyClassCountsFight:ye,enemyClassCounts:be}}).filter(Boolean),sn=Et.map(({log:P},R)=>{const H=P.details;if(!H)return null;const se=(Array.isArray(H.players)?H.players:[]).filter(V=>!V.notInSquad),Le=Array.isArray(H.targets)?H.targets:[],je=Ii(H,P),ct=si(H,P),ht=Number(H.durationMS||0),{squadDownsDeaths:St,enemyDownsDeaths:Gt,squadDeaths:Vt,enemyDeaths:bn}=j(H),qe=new Map,Ze=(V,ue,Me)=>{const Ke=qe.get(V)||{label:V,damage:0,hits:0};Ke.damage+=ue,Ke.hits+=Me,qe.set(V,Ke)};if(se.forEach(V=>{(Array.isArray(V==null?void 0:V.statsTargets)?V.statsTargets:[]).forEach((Me,Ke)=>{const Ee=Array.isArray(Me)?Me[0]:Me,oe=Number((Ee==null?void 0:Ee.damage)??(Ee==null?void 0:Ee.totalDmg)??(Ee==null?void 0:Ee.connectedDmg)??0),Ie=Number((Ee==null?void 0:Ee.connectedHits)??(Ee==null?void 0:Ee.connectedDamageCount)??(Ee==null?void 0:Ee.hits)??0);if(oe<=0&&Ie<=0)return;const Ce=Le[Ke];if(Ce!=null&&Ce.isFake)return;const it=(Ce==null?void 0:Ce.profession)||(Ce==null?void 0:Ce.name)||(Ce==null?void 0:Ce.id)||`Target ${Ke+1}`,Bt=te(it);Ze(Bt||String(it),oe,Ie)})}),qe.size===0){const V=new Map,ue=Me=>{if(!Array.isArray(Me)||Me.length===0)return[];const Ke=Me[0];if(Array.isArray(Ke)&&Array.isArray(Ke[0])){if(typeof Ke[0][0]=="number")return Ke;if(Array.isArray(Ke[0])&&typeof Ke[0][0]=="number")return Me.map(Ee=>Array.isArray(Ee)?Ee[0]||[]:[])}return[]};se.forEach(Me=>{ue(Me==null?void 0:Me.targetDamage1S).forEach((Ee,oe)=>{if(!Array.isArray(Ee)||Ee.length===0)return;const Ie=Ee.map(it=>Number(it)).filter(it=>Number.isFinite(it)&&it>=0);if(Ie.length===0)return;const Ce=Math.max(0,Ie[Ie.length-1]||0);Ce<=0||V.set(oe,(V.get(oe)||0)+Ce)})}),V.forEach((Me,Ke)=>{if(Me<=0)return;const Ee=Le[Ke];if(Ee!=null&&Ee.isFake)return;const oe=(Ee==null?void 0:Ee.profession)||(Ee==null?void 0:Ee.name)||(Ee==null?void 0:Ee.id)||`Target ${Ke+1}`,Ie=te(oe);Ze(Ie||String(oe),Me,0)})}if(qe.size===0&&Le.forEach((V,ue)=>{if(V!=null&&V.isFake)return;const Me=Array.isArray(V==null?void 0:V.totalDamageTaken)?V.totalDamageTaken:Array.isArray(V==null?void 0:V.totalDamageDist)?V.totalDamageDist:[];let Ke=0,Ee=0;if(Me.forEach(Ce=>{Ke+=Number((Ce==null?void 0:Ce.totalDamage)||(Ce==null?void 0:Ce.damage)||0),Ee+=Number((Ce==null?void 0:Ce.connectedHits)||(Ce==null?void 0:Ce.hits)||0)}),Ke<=0&&Number((V==null?void 0:V.damageTaken)||0)>0&&(Ke=Number(V.damageTaken||0)),Ke<=0&&Ee<=0)return;const oe=(V==null?void 0:V.profession)||(V==null?void 0:V.name)||(V==null?void 0:V.id)||`Target ${ue+1}`,Ie=te(oe);Ze(Ie||String(oe),Ke,Ee)}),qe.size===0){const V=new Map;Le.forEach((ue,Me)=>{if(ue!=null&&ue.isFake)return;const Ke=(ue==null?void 0:ue.profession)||(ue==null?void 0:ue.name)||(ue==null?void 0:ue.id)||`Target ${Me+1}`,Ee=te(Ke)||String(Ke);V.set(Ee,(V.get(Ee)||0)+1)}),V.forEach((ue,Me)=>{ue>0&&Ze(Me,ue,0)})}const at=Array.from(qe.values()).sort((V,ue)=>ue.damage-V.damage||ue.hits-V.hits||V.label.localeCompare(ue.label)),Mt=at.reduce((V,ue)=>V+ue.damage,0),ut=at.map(V=>({label:V.label,damage:V.damage,hits:V.hits,share:Mt>0?V.damage/Mt:0})),ye=Le.filter(V=>!(V!=null&&V.isFake)).length,be=se.length,ze=se.reduce((V,ue)=>{var Me,Ke;return V+Number(((Ke=(Me=ue==null?void 0:ue.dpsAll)==null?void 0:Me[0])==null?void 0:Ke.damage)||0)},0),Ae=se.reduce((V,ue)=>{var Me,Ke;return V+Number(((Ke=(Me=ue==null?void 0:ue.defenses)==null?void 0:Me[0])==null?void 0:Ke.damageTaken)||0)},0),rt=se.reduce((V,ue)=>{var Me,Ke;return V+Number(((Ke=(Me=ue==null?void 0:ue.defenses)==null?void 0:Me[0])==null?void 0:Ke.damageBarrier)||0)},0),fe=se.reduce((V,ue)=>{var Ee;const Me=(Ee=ue==null?void 0:ue.extBarrierStats)==null?void 0:Ee.outgoingBarrier;if(!Array.isArray(Me))return V;let Ke=0;return Me.forEach(oe=>{Array.isArray(oe)?oe.forEach(Ie=>{Ke+=Number((Ie==null?void 0:Ie.barrier)||0)}):Ke+=Number((oe==null?void 0:oe.barrier)||0)}),V+Ke},0),Ue=se.reduce((V,ue)=>{var Me,Ke;return Number(((Ke=(Me=ue==null?void 0:ue.statsAll)==null?void 0:Me[0])==null?void 0:Ke.saved)||0)>0?V+1:V},0),et=se.reduce((V,ue)=>V+Number(aC(ue)||0),0),Fe=se.reduce((V,ue)=>V+Number(sC(ue)||0),0),Je=se.reduce((V,ue)=>V+Number((ue==null?void 0:ue.stabGeneration)||0),0),Xt=se.reduce((V,ue)=>V+Number(lC(ue)||0),0),In=se.reduce((V,ue)=>V+Number(cC(ue)||0),0),kn=se.reduce((V,ue)=>V+Number(uC(ue)||0),0),nn=se.reduce((V,ue)=>V+Number(oC(ue)||0),0),en=Vt>0?bn/Vt:bn,on=[{metricId:"winFlag",metricLabel:"Win (1) / Loss (0)",higherIsBetter:!0,value:D(H)?1:0},{metricId:"squadCount",metricLabel:"Squad Size",higherIsBetter:!0,value:be},{metricId:"enemyCount",metricLabel:"Enemy Count",higherIsBetter:!1,value:ye},{metricId:"squadKdr",metricLabel:"Squad KDR",higherIsBetter:!0,value:en},{metricId:"enemyDeaths",metricLabel:"Enemy Deaths",higherIsBetter:!0,value:bn},{metricId:"enemyDowns",metricLabel:"Enemy Downs",higherIsBetter:!0,value:Math.max(0,Gt-bn)},{metricId:"squadDeaths",metricLabel:"Squad Deaths",higherIsBetter:!1,value:Vt},{metricId:"squadDowns",metricLabel:"Squad Downs",higherIsBetter:!1,value:Math.max(0,St-Vt)},{metricId:"damageDelta",metricLabel:"Damage Delta",higherIsBetter:!0,value:ze-Ae},{metricId:"outgoingDamage",metricLabel:"Outgoing Damage",higherIsBetter:!0,value:ze},{metricId:"incomingDamage",metricLabel:"Incoming Damage",higherIsBetter:!1,value:Ae},{metricId:"cleanses",metricLabel:"Squad Cleanses",higherIsBetter:!0,value:et},{metricId:"strips",metricLabel:"Squad Strips",higherIsBetter:!0,value:Fe},{metricId:"stability",metricLabel:"Squad Stability",higherIsBetter:!0,value:Je},{metricId:"healing",metricLabel:"Squad Healing",higherIsBetter:!0,value:Xt},{metricId:"barrierOut",metricLabel:"Squad Barrier Out",higherIsBetter:!0,value:In},{metricId:"barrierIncomingAbsorb",metricLabel:"Barrier Absorption (Incoming)",higherIsBetter:!0,value:rt},{metricId:"enemyBarrierAbsorb",metricLabel:"Enemy Barrier Absorption",higherIsBetter:!1,value:fe},{metricId:"cc",metricLabel:"Squad CC",higherIsBetter:!0,value:kn},{metricId:"downContrib",metricLabel:"Squad Down Contribution",higherIsBetter:!0,value:nn},{metricId:"alliesRevived",metricLabel:"Allies Revived (Players)",higherIsBetter:!0,value:Ue}];return{id:P.filePath||P.id||`fight-${R+1}`,shortLabel:`F${R+1}`,fullLabel:`${ct||P.encounterName||"Unknown Map"}  ${yh(ht)}`,mapName:ct,timestamp:je,duration:yh(ht),isWin:D(H),targetFocus:ut,squadMetrics:on}}).filter(Boolean),kt=Array.from(L.values()).map(P=>{const R=Object.entries(P.professionTimeMs||{}).map(([H,ve])=>({profession:H,timeMs:Number(ve||0)})).filter(H=>H.profession&&H.profession!=="Unknown"&&H.timeMs>0).sort((H,ve)=>{const se=ve.timeMs-H.timeMs;return se!==0?se:H.profession.localeCompare(ve.profession)});return{account:P.account||"Unknown",characterNames:Array.from(P.characterNames||[]).filter(Boolean).sort((H,ve)=>H.localeCompare(ve)),classTimes:R,combatTimeMs:Number(P.squadActiveMs||P.totalFightMs||0),squadTimeMs:(()=>{const H=Number(P.firstSeenFightTs||0),ve=Number(P.lastSeenFightTs||0),se=Math.max(0,Number(P.lastSeenFightDurationMs||0));return H>0&&ve>0?Math.max(0,ve+se-H):Number(P.squadActiveMs||P.totalFightMs||0)})()}}).filter(P=>P.account&&P.account!=="Unknown").sort((P,R)=>{const H=R.squadTimeMs-P.squadTimeMs;return H!==0?H:String(P.account).localeCompare(String(R.account))}),lt=a.map(P=>P).sort((P,R)=>Ii(P.details,P)-Ii(R.details,R)).map((P,R)=>{const H=P==null?void 0:P.details,ve=Array.isArray(H==null?void 0:H.players)?H.players.filter(je=>!(je!=null&&je.notInSquad)):[],se=new Map;ve.forEach(je=>{const ct=Number(je==null?void 0:je.group),ht=Number.isFinite(ct)&&ct>0?ct:0;se.has(ht)||se.set(ht,{party:ht,players:[],classCounts:{}});const St=te((je==null?void 0:je.profession)||(je==null?void 0:je.name)||"Unknown"),Gt=String((je==null?void 0:je.account)||"Unknown"),Vt=String((je==null?void 0:je.name)||(je==null?void 0:je.character_name)||""),bn=!!(je!=null&&je.hasCommanderTag),qe=se.get(ht);qe.players.push({account:Gt,characterName:Vt,profession:St,isCommander:bn}),qe.classCounts[St]=(qe.classCounts[St]||0)+1});const Le=Array.from(se.values()).map(je=>({...je,players:je.players.sort((ct,ht)=>{const St=+!!ht.isCommander-+!!ct.isCommander;if(St!==0)return St;const Gt=String(ct.profession).localeCompare(String(ht.profession));return Gt!==0?Gt:String(ct.account).localeCompare(String(ht.account))})})).sort((je,ct)=>je.party===0&&ct.party!==0?1:ct.party===0&&je.party!==0?-1:je.party-ct.party);return{id:String((P==null?void 0:P.filePath)||(P==null?void 0:P.id)||`fight-${R+1}`),label:`F${R+1}`,timestamp:Ii(H,P),mapName:si(H,P),duration:yh(Number((H==null?void 0:H.durationMS)||0)),parties:Le}}),xn=(P,R)=>{const H=(R==null?void 0:R.skillMap)||{},ve=(R==null?void 0:R.buffMap)||{};let se=0,Le="";const je=St=>{const Gt=Number(St);if(!Number.isFinite(Gt))return String(St||"Unknown Skill");const Vt=(H==null?void 0:H[`s${Gt}`])||(H==null?void 0:H[`${Gt}`]);if(Vt!=null&&Vt.name)return String(Vt.name);const bn=(ve==null?void 0:ve[`b${Gt}`])||(ve==null?void 0:ve[`${Gt}`]);return bn!=null&&bn.name?String(bn.name):`Skill ${Gt}`},ct=St=>{if(!St||typeof St!="object")return;const Gt=[Number(St.max),Number(St.maxDamage),Number(St.maxHit)].filter(bn=>Number.isFinite(bn)),Vt=Gt.length>0?Math.max(...Gt):0;Vt>se&&(se=Vt,Le=je(St.id))};let ht=!1;return Array.isArray(P==null?void 0:P.targetDamageDist)&&P.targetDamageDist.forEach(St=>{Array.isArray(St)&&St.forEach(Gt=>{Array.isArray(Gt)&&Gt.forEach(Vt=>{ht=!0,ct(Vt)})})}),(!ht||se<=0)&&Array.isArray(P==null?void 0:P.totalDamageDist)&&P.totalDamageDist.forEach(St=>{Array.isArray(St)&&St.forEach(Gt=>ct(Gt))}),{peak:se,skillName:Le||"Unknown Skill"}},Qr=(()=>{const P=qe=>String(qe||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),R=qe=>P(qe).toLowerCase().split(/[^a-z0-9]+/i).map(Ze=>Ze.trim()).filter(Boolean).map(Ze=>Ze.length>3&&Ze.endsWith("s")?Ze.slice(0,-1):Ze),H=(qe,Ze)=>{const at=P(qe),Mt=P(Ze);if(!Mt)return at;if(!at)return Mt;const ut=R(at),ye=R(Mt),be=new Set(ut),ze=new Set(ye),Ae=ye.length>0&&ye.every(fe=>be.has(fe)),rt=ut.length>0&&ut.every(fe=>ze.has(fe));return Ae||rt?at:`${at} - ${Mt}`},ve=[],se=new Map,Le=qe=>{const Ze=Ae=>{if(!Array.isArray(Ae)||Ae.length===0)return[];const rt=[];for(let fe=0;fe<Ae.length;fe+=1){const Ue=Number(Ae[fe]||0),et=fe>0?Number(Ae[fe-1]||0):0;rt.push(Math.max(0,Ue-et))}return rt},at=Ae=>{if(!Array.isArray(Ae))return[];const rt=Ae.reduce((Ue,et)=>Math.max(Ue,Array.isArray(et)?et.length:0),0);if(rt<=0)return[];const fe=new Array(rt).fill(0);return Ae.forEach(Ue=>{if(Array.isArray(Ue))for(let et=0;et<rt;et+=1)fe[et]+=Number(Ue[et]||0)}),fe},Mt=Ae=>Array.isArray(Ae)?Ae.map(rt=>Number(rt||0)):null,ye=(Ae=>{if(!Array.isArray(Ae)||Ae.length===0)return null;const rt=Ae[0];if(!Array.isArray(rt))return null;if(Array.isArray(rt[0])&&Array.isArray(rt[0][0]))return at(rt);if(Array.isArray(rt[0])&&!Array.isArray(rt[0][0])){const fe=Ae.map(Ue=>Mt(Array.isArray(Ue)?Ue[0]:null)).filter(Ue=>Array.isArray(Ue)&&Ue.length>0);if(fe.length>0)return at(fe)}return null})(qe==null?void 0:qe.targetDamage1S),be=Array.isArray(qe==null?void 0:qe.damage1S)&&Array.isArray(qe.damage1S[0])?qe.damage1S[0]:null,ze=ye||(Array.isArray(be)?be.map(Ae=>Number(Ae||0)):[]);return Ze(ze)},je=(qe,Ze)=>{if(!Array.isArray(qe)||qe.length===0||Ze<=0)return 0;let at=0,Mt=0;for(let ut=0;ut<qe.length;ut+=1)at+=Number(qe[ut]||0),ut>=Ze&&(at-=Number(qe[ut-Ze]||0)),ut>=Ze-1&&at>Mt&&(Mt=at);return Math.max(0,Mt)},ct=(qe,Ze)=>{if(!Array.isArray(qe)||qe.length===0||Ze<=0)return[];const at=[];for(let Mt=0;Mt<qe.length;Mt+=Ze){const ut=Math.min(Mt+Ze,qe.length),ye=qe.slice(Mt,ut).reduce((be,ze)=>be+Number(ze||0),0);at.push(ye)}return at},ht=(qe,Ze)=>{const at=Number(qe);if(!Number.isFinite(at))return{name:String(qe||"Unknown Skill"),icon:void 0};const Mt=(Ze==null?void 0:Ze.skillMap)||{},ut=(Ze==null?void 0:Ze.buffMap)||{},ye=(Mt==null?void 0:Mt[`s${at}`])||(Mt==null?void 0:Mt[`${at}`]);if(ye!=null&&ye.name)return{name:String(ye.name),icon:ye==null?void 0:ye.icon};const be=(ut==null?void 0:ut[`b${at}`])||(ut==null?void 0:ut[`${at}`]);return be!=null&&be.name?{name:String(be.name),icon:be==null?void 0:be.icon}:{name:`Skill ${at}`,icon:void 0}},St=qe=>Array.isArray(qe)?qe.map(Ze=>Array.isArray(Ze)?[Number(Ze[0]),Number(Ze[1])]:Ze&&typeof Ze=="object"?[Number(Ze.time),Number(Ze.value)]:null).filter(Ze=>!!Ze&&Number.isFinite(Ze[0])&&Ze[0]>=0):[],Gt=(qe,Ze,at,Mt,ut)=>{if(!qe.length||Mt<=0)return[];const ye=Math.max(Mt*5e3,ut||0),be=Je=>Je.reduce((Xt,In)=>In>=0&&In<=ye+2e3?Xt+1:Xt,0),ze=qe.map(Je=>Number(Je||0)).filter(Je=>Number.isFinite(Je)&&Je>=0);if(!ze.length)return[];const Ae=[ze],rt=ze.reduce((Je,Xt)=>Math.max(Je,Xt),0),fe=ze.reduce((Je,Xt)=>Math.min(Je,Xt),Number.POSITIVE_INFINITY);rt>ye*20&&Ae.push(ze.map(Je=>Je/1e3)),rt<=ye*2&&fe>=0&&rt>0&&rt<Math.max(120,Mt*5+10)&&Ae.push(ze.map(Je=>Je*1e3));let Ue=ze,et=0,Fe=-1;return Ae.forEach(Je=>{const Xt=Je.reduce((kn,nn)=>Math.min(kn,nn),Number.POSITIVE_INFINITY),In=new Set([0,...Ze,...at]);if(Number.isFinite(Xt)&&ye>0&&Xt>ye){const kn=Math.floor(Xt/ye)*ye;In.add(kn),In.add(Math.max(0,kn-ye))}In.forEach(kn=>{const nn=Je.map(on=>on-kn),en=be(nn);en>Fe&&(Fe=en,et=kn,Ue=Je)})}),Ue.map(Je=>Je-et).filter(Je=>Number.isFinite(Je)&&Je>=0)},Vt=(qe,Ze,at,Mt,ut)=>{const ye=Gt(qe,Ze,at,Mt,ut);return Array.from(new Set(ye.map(be=>Math.floor(be/5e3)).filter(be=>Number.isFinite(be)&&be>=0&&be<Mt)))};a.map(qe=>({log:qe,ts:Ii(qe==null?void 0:qe.details,qe)})).sort((qe,Ze)=>qe.ts-Ze.ts).forEach(({log:qe},Ze)=>{const at=qe==null?void 0:qe.details;if(!at)return;const Mt=P(at.fightName||qe.fightName||`Fight ${Ze+1}`),ut=si(at,qe),ye=H(Mt,String(ut||"")),be={},ze=Array.isArray(at.players)?at.players:[],Ae=ze.flatMap(Fe=>{const Je=Fe==null?void 0:Fe.combatReplayData;return Array.isArray(Je)?Je.map(Xt=>Number(Xt==null?void 0:Xt.start)):[Number(Je==null?void 0:Je.start)]}).filter(Fe=>Number.isFinite(Fe)&&Fe>=0);ze.forEach(Fe=>{if(Fe!=null&&Fe.notInSquad)return;const Je=String((Fe==null?void 0:Fe.account)||(Fe==null?void 0:Fe.name)||"Unknown"),Xt=String((Fe==null?void 0:Fe.character_name)||(Fe==null?void 0:Fe.display_name)||(Fe==null?void 0:Fe.name)||""),In=String((Fe==null?void 0:Fe.profession)||"Unknown"),kn=`${Je}|${In}`,nn=xn(Fe,at),en=Number(nn.peak||0),on=Le(Fe),V=Number(je(on,1)||0),ue=Number(je(on,5)||0),Me=Number(je(on,30)||0),Ke=Math.max(0,Math.ceil(Number((at==null?void 0:at.durationMS)||0)/5e3)),Ee=Math.max(0,Math.ceil(on.length/5)),oe=Math.max(Ke,Ee),Ie=ct(on,5),Ce=Array.from({length:oe},(Re,ot)=>Number(Ie[ot]||0)),it=new Map,Bt=Re=>{if(!Re||typeof Re!="object"||Re.indirectDamage)return;const ot=Number(Re.totalDamage||0);if(!Number.isFinite(ot)||ot<=0)return;const pt=Number(Re.connectedHits||Re.hits||0),Ct=ht(Re.id,at),fn=Ct.name,Nn=it.get(fn)||{skillName:fn,damage:0,hits:0,icon:Ct.icon};Nn.damage+=ot,Nn.hits+=Number.isFinite(pt)?pt:0,!Nn.icon&&Ct.icon&&(Nn.icon=Ct.icon),it.set(fn,Nn)},Lt=new Map;Array.isArray(Fe==null?void 0:Fe.targetDamageDist)&&Fe.targetDamageDist.forEach(Re=>{Array.isArray(Re)&&Re.forEach(ot=>{Array.isArray(ot)&&ot.forEach(pt=>{const Ct=Number(pt==null?void 0:pt.id),fn=Number((pt==null?void 0:pt.totalDamage)||0);if(Number.isFinite(Ct)){const Nn=Lt.get(Ct)||{damage:0,hits:0};Nn.damage+=Number.isFinite(fn)?fn:0,Nn.hits+=Number((pt==null?void 0:pt.connectedHits)||(pt==null?void 0:pt.hits)||0),Lt.set(Ct,Nn)}Bt(pt)})})}),!(at!=null&&at.detailedWvW)&&Array.isArray(Fe==null?void 0:Fe.totalDamageDist)&&Fe.totalDamageDist.forEach(Re=>{Array.isArray(Re)&&Re.forEach(ot=>{const pt=Number(ot==null?void 0:ot.id);if(!Number.isFinite(pt)){Bt(ot);return}const Ct=Lt.get(pt);if(!Ct){Bt(ot);return}const fn=Number((ot==null?void 0:ot.totalDamage)||0),Nn=Number((ot==null?void 0:ot.connectedHits)||(ot==null?void 0:ot.hits)||0),Fn=fn-Number(Ct.damage||0),Or=Nn-Number(Ct.hits||0);Fn<=0&&Or<=0||Bt({...ot,totalDamage:Math.max(0,Fn),connectedHits:Math.max(0,Or),hits:Math.max(0,Or)})})});const Dt=(()=>{const Re=Fe==null?void 0:Fe.combatReplayData;return Array.isArray(Re)?Re.filter(ot=>ot&&typeof ot=="object"):Re&&typeof Re=="object"?[Re]:[]})(),zt=Dt.map(Re=>Number(Re==null?void 0:Re.start)).filter(Re=>Number.isFinite(Re)&&Re>=0),qt=Dt.flatMap(Re=>St(Re==null?void 0:Re.down).map(([ot])=>Number(ot||0))),Nt=Dt.flatMap(Re=>St(Re==null?void 0:Re.dead).map(([ot])=>Number(ot||0)));be[kn]={hit:en,burst1s:V,burst5s:ue,burst30s:Me,skillName:nn.skillName,buckets5s:Ce,downIndices5s:Vt(qt,zt,Ae,oe,Number((at==null?void 0:at.durationMS)||0)),deathIndices5s:Vt(Nt,zt,Ae,oe,Number((at==null?void 0:at.durationMS)||0)),skillRows:Array.from(it.values()).sort((Re,ot)=>ot.damage-Re.damage).slice(0,50)};const Tt=se.get(kn)||{key:kn,account:Je,displayName:Je,characterName:Xt,profession:In,professionList:[In],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Tt.logs+=1,Tt.professionList.includes(In)||Tt.professionList.push(In),!Tt.characterName&&Xt&&(Tt.characterName=Xt),en>Tt.peakHit&&(Tt.peakHit=en,Tt.peakFightLabel=ye,Tt.peakSkillName=nn.skillName),V>Tt.peak1s&&(Tt.peak1s=V),ue>Tt.peak5s&&(Tt.peak5s=ue),Me>Tt.peak30s&&(Tt.peak30s=Me),se.set(kn,Tt)});const rt=Object.values(be).reduce((Fe,Je)=>Math.max(Fe,Number((Je==null?void 0:Je.hit)||0)),0),fe=Object.values(be).reduce((Fe,Je)=>Math.max(Fe,Number((Je==null?void 0:Je.burst1s)||0)),0),Ue=Object.values(be).reduce((Fe,Je)=>Math.max(Fe,Number((Je==null?void 0:Je.burst5s)||0)),0),et=Object.values(be).reduce((Fe,Je)=>Math.max(Fe,Number((Je==null?void 0:Je.burst30s)||0)),0);ve.push({id:qe.filePath||qe.id||`fight-${Ze+1}`,shortLabel:`F${Ze+1}`,fullLabel:ye,timestamp:Ii(at,qe),values:be,maxHit:rt,max1s:fe,max5s:Ue,max30s:et})});const bn=Array.from(se.values()).sort((qe,Ze)=>Ze.peakHit!==qe.peakHit?Ze.peakHit-qe.peakHit:qe.displayName.localeCompare(Ze.displayName));return{fights:ve,players:bn}})(),He=(()=>{const P=ye=>String(ye||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),R=ye=>P(ye).toLowerCase().split(/[^a-z0-9]+/i).map(be=>be.trim()).filter(Boolean).map(be=>be.length>3&&be.endsWith("s")?be.slice(0,-1):be),H=(ye,be)=>{const ze=P(ye),Ae=P(be);if(!Ae)return ze;if(!ze)return Ae;const rt=R(ze),fe=R(Ae),Ue=new Set(rt),et=new Set(fe),Fe=fe.length>0&&fe.every(Xt=>Ue.has(Xt)),Je=rt.length>0&&rt.every(Xt=>et.has(Xt));return Fe||Je?ze:`${ze} - ${Ae}`},ve=[],se=new Map,Le=(ye,be)=>{const ze=Number(ye);if(!Number.isFinite(ze))return{name:String(ye||"Unknown Skill"),icon:void 0};const Ae=(be==null?void 0:be.skillMap)||{},rt=(be==null?void 0:be.buffMap)||{},fe=(Ae==null?void 0:Ae[`s${ze}`])||(Ae==null?void 0:Ae[`${ze}`]);if(fe!=null&&fe.name)return{name:String(fe.name),icon:fe==null?void 0:fe.icon};const Ue=(rt==null?void 0:rt[`b${ze}`])||(rt==null?void 0:rt[`${ze}`]);return Ue!=null&&Ue.name?{name:String(Ue.name),icon:Ue==null?void 0:Ue.icon}:{name:`Skill ${ze}`,icon:void 0}},je=(ye,be)=>{let ze=0,Ae="";const rt=fe=>{if(!fe||typeof fe!="object"||fe.indirectDamage)return;const Ue=[Number(fe.max),Number(fe.maxDamage),Number(fe.maxHit)].filter(Fe=>Number.isFinite(Fe)),et=Ue.length>0?Math.max(...Ue):0;et>ze&&(ze=et,Ae=Le(fe.id,be).name)};return Array.isArray(ye==null?void 0:ye.totalDamageDist)&&ye.totalDamageDist.forEach(fe=>{Array.isArray(fe)&&fe.forEach(Ue=>rt(Ue))}),Array.isArray(ye==null?void 0:ye.targetDamageDist)&&ye.targetDamageDist.forEach(fe=>{Array.isArray(fe)&&fe.forEach(Ue=>{Array.isArray(Ue)&&Ue.forEach(et=>rt(et))})}),{peak:ze,skillName:Ae||"Unknown Skill"}},ct=ye=>{if(!Array.isArray(ye)||ye.length===0)return[];const be=[];for(let ze=0;ze<ye.length;ze+=1){const Ae=Number(ye[ze]||0),rt=ze>0?Number(ye[ze-1]||0):0;be.push(Math.max(0,Ae-rt))}return be},ht=ye=>{if(!Array.isArray(ye)||ye.length===0)return[];const be=ye.reduce((Ae,rt)=>Math.max(Ae,Array.isArray(rt)?rt.length:0),0);if(be<=0)return[];const ze=new Array(be).fill(0);return ye.forEach(Ae=>{if(Array.isArray(Ae))for(let rt=0;rt<be;rt+=1)ze[rt]+=Number(Ae[rt]||0)}),ze},St=ye=>{if(!Array.isArray(ye)||ye.length===0)return[];const be=ye[0];if(typeof be=="number")return ye.map(ze=>Number(ze||0));if(Array.isArray(be)&&be.length>0){if(typeof be[0]=="number")return be.map(ze=>Number(ze||0));if(Array.isArray(be[0])){const ze=be.map(Ae=>Array.isArray(Ae)?Ae.map(rt=>Number(rt||0)):null).filter(Ae=>Array.isArray(Ae)&&Ae.length>0);if(ze.length>0)return ht(ze)}}return[]},Gt=ye=>{const be=St(ye==null?void 0:ye.powerDamage1S),ze=St(ye==null?void 0:ye.damage1S),Ae=be.length>0?be:ze;return ct(Ae)},Vt=(ye,be)=>{const ze=ye==null?void 0:ye.targetPowerDamage1S;if(!Array.isArray(ze)||!Array.isArray(ze[be]))return[];const Ae=ze[be];if(!Array.isArray(Ae)||Ae.length===0)return[];if(typeof Ae[0]=="number")return Ae.map(rt=>Number(rt||0));if(Array.isArray(Ae[0])&&!Array.isArray(Ae[0][0]))return Ae[0].map(rt=>Number(rt||0));if(Array.isArray(Ae[0])&&Array.isArray(Ae[0][0])){const fe=Ae[0].map(Ue=>Array.isArray(Ue)?Ue.map(et=>Number(et||0)):null).filter(Ue=>Array.isArray(Ue)&&Ue.length>0);return ht(fe)}return[]},bn=(ye,be)=>{if(!Array.isArray(ye)||ye.length===0||be<=0)return 0;let ze=0,Ae=0;for(let rt=0;rt<ye.length;rt+=1)ze+=Number(ye[rt]||0),rt>=be&&(ze-=Number(ye[rt-be]||0)),rt>=be-1&&ze>Ae&&(Ae=ze);return Math.max(0,Ae)},qe=(ye,be)=>{if(!Array.isArray(ye)||ye.length===0||be<=0)return[];const ze=[];for(let Ae=0;Ae<ye.length;Ae+=be){const rt=Math.min(Ae+be,ye.length),fe=ye.slice(Ae,rt).reduce((Ue,et)=>Ue+Number(et||0),0);ze.push(fe)}return ze},Ze=ye=>Array.isArray(ye)?ye.map(be=>Array.isArray(be)?[Number(be[0]),Number(be[1])]:be&&typeof be=="object"?[Number(be.time),Number(be.value)]:null).filter(be=>!!be&&Number.isFinite(be[0])&&be[0]>=0):[],at=(ye,be,ze,Ae,rt)=>{if(!ye.length||Ae<=0)return[];const fe=Math.max(Ae*5e3,rt||0),Ue=en=>en.reduce((on,V)=>V>=0&&V<=fe+2e3?on+1:on,0),et=ye.map(en=>Number(en||0)).filter(en=>Number.isFinite(en)&&en>=0);if(!et.length)return[];const Fe=[et],Je=et.reduce((en,on)=>Math.max(en,on),0),Xt=et.reduce((en,on)=>Math.min(en,on),Number.POSITIVE_INFINITY);Je>fe*20&&Fe.push(et.map(en=>en/1e3)),Je<=fe*2&&Xt>=0&&Je>0&&Je<Math.max(120,Ae*5+10)&&Fe.push(et.map(en=>en*1e3));let In=et,kn=0,nn=-1;return Fe.forEach(en=>{const on=en.reduce((ue,Me)=>Math.min(ue,Me),Number.POSITIVE_INFINITY),V=new Set([0,...be,...ze]);if(Number.isFinite(on)&&fe>0&&on>fe){const ue=Math.floor(on/fe)*fe;V.add(ue),V.add(Math.max(0,ue-fe))}V.forEach(ue=>{const Me=en.map(Ee=>Ee-ue),Ke=Ue(Me);Ke>nn&&(nn=Ke,kn=ue,In=en)})}),In.map(en=>en-kn).filter(en=>Number.isFinite(en)&&en>=0)},Mt=(ye,be,ze,Ae,rt)=>{const fe=at(ye,be,ze,Ae,rt);return Array.from(new Set(fe.map(Ue=>Math.floor(Ue/5e3)).filter(Ue=>Number.isFinite(Ue)&&Ue>=0&&Ue<Ae)))};a.map(ye=>({log:ye,ts:Ii(ye==null?void 0:ye.details,ye)})).sort((ye,be)=>ye.ts-be.ts).forEach(({log:ye},be)=>{const ze=ye==null?void 0:ye.details;if(!ze)return;const Ae=P(ze.fightName||ye.fightName||`Fight ${be+1}`),rt=si(ze,ye),fe=H(Ae,String(rt||"")),Ue={},Fe=(Array.isArray(ze.players)?ze.players:[]).filter(oe=>!(oe!=null&&oe.notInSquad)),Je=Fe.flatMap(oe=>{const Ie=oe==null?void 0:oe.combatReplayData;return Array.isArray(Ie)?Ie.map(Ce=>Number(Ce==null?void 0:Ce.start)):[Number(Ie==null?void 0:Ie.start)]}).filter(oe=>Number.isFinite(oe)&&oe>=0),Xt=Fe.flatMap(oe=>{const Ie=oe==null?void 0:oe.combatReplayData;return(Array.isArray(Ie)?Ie:Ie?[Ie]:[]).flatMap(it=>Ze(it==null?void 0:it.down).map(([Bt])=>Number(Bt||0)))}),In=Fe.flatMap(oe=>{const Ie=oe==null?void 0:oe.combatReplayData;return(Array.isArray(Ie)?Ie:Ie?[Ie]:[]).flatMap(it=>Ze(it==null?void 0:it.dead).map(([Bt])=>Number(Bt||0)))}),kn=new Map,nn=new Map,en=new Map;(Array.isArray(ze.targets)?ze.targets:[]).forEach((oe,Ie)=>{if(!oe||oe.isFake||!oe.enemyPlayer)return;const Ce=te((oe==null?void 0:oe.profession)||(oe==null?void 0:oe.name)||(oe==null?void 0:oe.id))||"Unknown";en.set(Ce,(en.get(Ce)||0)+1);const it=nn.get(Ce)||new Map;Array.isArray(oe==null?void 0:oe.totalDamageDist)&&oe.totalDamageDist.forEach(qt=>{Array.isArray(qt)&&qt.forEach(Nt=>{if(!Nt||typeof Nt!="object"||Nt.indirectDamage)return;const Tt=Number(Nt.totalDamage||0);if(!Number.isFinite(Tt)||Tt<=0)return;const Re=Number(Nt.connectedHits||Nt.hits||0),ot=Le(Nt.id,ze),pt=ot.name,Ct=it.get(pt)||{skillName:pt,damage:0,hits:0,icon:ot.icon};Ct.damage+=Tt,Ct.hits+=Number.isFinite(Re)?Re:0,!Ct.icon&&ot.icon&&(Ct.icon=ot.icon),it.set(pt,Ct)})}),nn.set(Ce,it);const Bt=ht(Fe.map(qt=>Vt(qt,Ie))),Lt=Bt.length>0?ct(Bt):Gt(oe),mt=je(oe,ze);let Dt=kn.get(Ce);Dt||(Dt={perSecond:[],hit:0,skillName:""},kn.set(Ce,Dt)),Lt.length>Dt.perSecond.length&&(Dt.perSecond.length=Lt.length);for(let qt=0;qt<Lt.length;qt+=1)Dt.perSecond[qt]=Number(Dt.perSecond[qt]||0)+Number(Lt[qt]||0);const zt=Number(mt.peak||0);zt>Dt.hit&&(Dt.hit=zt,Dt.skillName=mt.skillName||"Unknown Skill")});const V=Array.from(kn.values()).some(oe=>Array.isArray(oe.perSecond)&&oe.perSecond.some(Ie=>Number(Ie||0)>0));if(kn.size===0||!V){const oe=ht(Fe.map(Ce=>{const it=St(Ce==null?void 0:Ce.powerDamageTaken1S);return ct(it)})),Ie=Array.from(en.values()).reduce((Ce,it)=>Ce+Number(it||0),0);oe.length>0&&Ie>0&&en.forEach((Ce,it)=>{const Bt=Number(Ce||0)/Ie,Lt=oe.map(Dt=>Number(Dt||0)*Bt),mt=kn.get(it);kn.set(it,{perSecond:Lt,hit:Number((mt==null?void 0:mt.hit)||0),skillName:String((mt==null?void 0:mt.skillName)||"")})})}kn.forEach((oe,Ie)=>{var ot;const Ce=Ie,it=Number(oe.hit||0),Bt=Number(bn(oe.perSecond,1)||0),Lt=Number(bn(oe.perSecond,5)||0),mt=Number(bn(oe.perSecond,30)||0),Dt=Math.max(0,Math.ceil(Number((ze==null?void 0:ze.durationMS)||0)/5e3)),zt=Math.max(0,Math.ceil(oe.perSecond.length/5)),qt=Math.max(Dt,zt),Nt=qe(oe.perSecond,5),Tt=Array.from({length:qt},(pt,Ct)=>Number(Nt[Ct]||0));Ue[Ce]={hit:it,burst1s:Bt,burst5s:Lt,burst30s:mt,skillName:oe.skillName||"Unknown Skill",buckets5s:Tt,downIndices5s:Mt(Xt,[],Je,qt,Number((ze==null?void 0:ze.durationMS)||0)),deathIndices5s:Mt(In,[],Je,qt,Number((ze==null?void 0:ze.durationMS)||0)),skillRows:Array.from(((ot=nn.get(Ie))==null?void 0:ot.values())||[]).sort((pt,Ct)=>Ct.damage-pt.damage).slice(0,50)};const Re=se.get(Ce)||{key:Ce,account:Ie,displayName:Ie,characterName:"",profession:Ie,professionList:[Ie],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Re.logs+=1,it>Re.peakHit&&(Re.peakHit=it,Re.peakFightLabel=fe,Re.peakSkillName=oe.skillName||"Unknown Skill"),Bt>Re.peak1s&&(Re.peak1s=Bt),Lt>Re.peak5s&&(Re.peak5s=Lt),mt>Re.peak30s&&(Re.peak30s=mt),se.set(Ce,Re)});const ue=Object.values(Ue).reduce((oe,Ie)=>Math.max(oe,Number((Ie==null?void 0:Ie.hit)||0)),0),Me=Object.values(Ue).reduce((oe,Ie)=>Math.max(oe,Number((Ie==null?void 0:Ie.burst1s)||0)),0),Ke=Object.values(Ue).reduce((oe,Ie)=>Math.max(oe,Number((Ie==null?void 0:Ie.burst5s)||0)),0),Ee=Object.values(Ue).reduce((oe,Ie)=>Math.max(oe,Number((Ie==null?void 0:Ie.burst30s)||0)),0);ve.push({id:ye.filePath||ye.id||`fight-${be+1}`,shortLabel:`F${be+1}`,fullLabel:fe,timestamp:Ii(ze,ye),values:Ue,maxHit:ue,max1s:Me,max5s:Ke,max30s:Ee})});const ut=Array.from(se.values()).sort((ye,be)=>be.peakHit!==ye.peakHit?be.peakHit-ye.peakHit:ye.displayName.localeCompare(be.displayName));return{fights:ve,players:ut}})(),_t=Array.from(Y.entries()).map(([P,R])=>{const H=Z.get(P)||{},ve=Array.from(R.values()).map(se=>{var bn,qe;const Le=Array.from(se.professions||[]).filter(Ze=>Ze&&Ze!=="Unknown");let je=se.profession||"Unknown";if(Le.length>0){je=Le[0];let Ze=((bn=se.professionTimeMs)==null?void 0:bn[je])||0;Le.forEach(at=>{var ut;const Mt=((ut=se.professionTimeMs)==null?void 0:ut[at])||0;Mt>Ze&&(Ze=Mt,je=at)})}const ct=se.durationMs||0,ht=se.totalMs/1e3,St=ct>0?se.totalMs/ct:0,Gt=((qe=L.get(se.account))==null?void 0:qe.supportActiveMs)||ct,Vt=Gt>0?se.uptimeMs/Gt:0;return{account:se.account,profession:je,professionList:Le,total:ht,perSecond:St,uptimePerSecond:Vt,duration:ct/1e3}}).filter(se=>se.total>0||se.perSecond>0);return{id:P,name:H.name||P,icon:H.icon,rows:ve}}).filter(P=>P.rows.length>0),tn=Array.from(Q.values()).map(P=>{const R=Array.from(P.skills.values()).sort((ve,se)=>se.damage-ve.damage),H=R.reduce((ve,se)=>(ve[se.id]=se,ve),{});return{key:P.key,account:P.account,displayName:P.displayName,profession:P.profession,professionList:P.professionList,totalFightMs:P.totalFightMs,skills:R,skillMap:H}}).sort((P,R)=>P.displayName.localeCompare(R.displayName));return{total:p,wins:g,losses:y,avgSquadSize:ge,avgEnemies:_e,squadKDR:It,enemyKDR:Ht,totalSquadKills:k,totalSquadDeaths:w,totalEnemyKills:N,totalEnemyDeaths:C,leaderboards:yn,...la,outgoingConditionSummary:Object.values(ee).sort((P,R)=>R.damage-P.damage),incomingConditionSummary:Object.values(ae).sort((P,R)=>R.damage-P.damage),outgoingConditionPlayers:Array.from(L.values()).map(P=>({account:P.account,profession:P.profession,professionList:P.professionList,conditions:P.outgoingConditions})),incomingConditionPlayers:Array.from(L.values()).map(P=>({account:P.account,profession:P.profession,professionList:P.professionList,conditions:P.incomingConditions})),topSkills:Ws,topIncomingSkills:fd,topSkillsByDamage:ca,topSkillsByDownContribution:Ea,playerSkillBreakdowns:tn,topSkillsMetric:m,mapData:$c,timelineData:Io,boonTables:md,offensePlayers:Array.from(L.values()).map(P=>({account:P.account,profession:P.profession,professionList:P.professionList,offenseTotals:P.offenseTotals,offenseRateWeights:P.offenseRateWeights,totalFightMs:P.totalFightMs})),defensePlayers:Array.from(L.values()).map(P=>({account:P.account,profession:P.profession,professionList:P.professionList,defenseTotals:P.defenseTotals,activeMs:P.defenseActiveMs,minionDamageTakenByMinion:P.defenseMinionDamageTaken})),damageMitigationPlayers:Wn,damageMitigationMinions:Ta,supportPlayers:Array.from(L.values()).map(P=>({account:P.account,profession:P.profession,professionList:P.professionList,supportTotals:P.supportTotals,activeMs:P.supportActiveMs})),healingPlayers:Array.from(L.values()).map(P=>({account:P.account,profession:P.profession,professionList:P.professionList,healingTotals:P.healingTotals,activeMs:P.healingActiveMs})),mvp:Us,silver:Al,bronze:Vs,squadClassData:G,enemyClassData:st,fightBreakdown:Ut,fightDiffMode:sn,attendanceData:kt,squadCompByFight:lt,spikeDamage:Qr,incomingStrikeDamage:He,specialTables:_t,topStatsPerSecond:sr,topStatsLeaderboardsPerSecond:Pr,avgMvpScore:Pl}})(),d=(()=>{const f=new Map,h=new Map,m=[],p=new Map,g=new Map;a.forEach(x=>{const b=x.details;if(!b)return;const w=b.skillMap||{},k=b.fightName||"Log",C=Ii(b,x)||Date.now(),N={id:x.filePath||x.id||k,label:k,timestamp:C,skillEntries:{},playerActiveSeconds:{},durationSeconds:b.durationMS?b.durationMS/1e3:0};(b.players||[]).forEach(D=>{if(D.notInSquad)return;const L=D.account||D.name||"Unknown",T=D.profession||"Unknown",M=`${L}|${T}`;let O=h.get(M);O||(O={key:M,account:L,displayName:L,profession:T,professionList:[T],logs:0,totalActiveSeconds:0,skillTotals:{}},h.set(M,O)),O.logs++;const Q=(Array.isArray(D.activeTimes)?D.activeTimes[0]:0)/1e3;O.totalActiveSeconds=(O.totalActiveSeconds||0)+Q,N.playerActiveSeconds[M]=Q,(D.rotation||[]).forEach(ee=>{var _,E,A;if(!(ee!=null&&ee.id))return;const ae=((_=ee.skills)==null?void 0:_.length)||0;if(ae<=0)return;const de=`s${ee.id}`,Z=((E=w[de])==null?void 0:E.name)||`Skill ${ee.id}`,Y=(A=w[de])==null?void 0:A.icon;O.skillTotals[de]=(O.skillTotals[de]||0)+ae,f.set(de,(f.get(de)||0)+ae),p.set(de,Z),Y&&!g.has(de)&&g.set(de,Y),N.skillEntries[de]||(N.skillEntries[de]={name:Z,icon:Y,players:{}}),!N.skillEntries[de].icon&&Y&&(N.skillEntries[de].icon=Y),N.skillEntries[de].players[M]=(N.skillEntries[de].players[M]||0)+ae})}),m.push(N)});const y=Array.from(f.entries()).map(([x,b])=>({id:x,name:p.get(x)||x,total:b,icon:g.get(x)})).sort((x,b)=>b.total-x.total);return{logRecords:m,players:Array.from(h.values()),skillOptions:y,resUtilitySkills:[]}})();return{validLogs:a,stats:c,skillUsageData:d}},oU=({logs:e,stats:t,skillUsageData:n,activeStatsViewSettings:r,uiTheme:i,embedded:a,onWebUpload:s})=>{const[o,l]=v.useState({uploading:!1,message:null,url:null}),[c,d]=v.useState("idle"),f=()=>{const g=new Set;let y=null,x=null;e.forEach(T=>{const M=T.details;if(!M)return;const O=M.timeStartStd||M.timeStart||M.uploadTime||T.uploadTime,Q=M.timeEndStd||M.timeEnd||M.uploadTime||T.uploadTime,ee=O?new Date(O):null,ae=Q?new Date(Q):null;ee&&!Number.isNaN(ee.getTime())&&(!y||ee<y)&&(y=ee),ae&&!Number.isNaN(ae.getTime())&&(!x||ae>x)&&(x=ae),(M.players||[]).forEach(Z=>{if(!(Z!=null&&Z.notInSquad)&&Z!=null&&Z.hasCommanderTag){const Y=(Z==null?void 0:Z.name)||(Z==null?void 0:Z.account)||"Unknown";g.add(Y)}})});const b=Array.from(g).sort((T,M)=>T.localeCompare(M)),w=y||new Date,k=x||w,C=w.toISOString(),N=k.toISOString(),j=`${w.toLocaleString()} - ${k.toLocaleString()}`,D=T=>String(T).padStart(2,"0");return{id:`${w.getFullYear()}${D(w.getMonth()+1)}${D(w.getDate())}-${D(w.getHours())}${D(w.getMinutes())}${D(w.getSeconds())}-${Math.random().toString(36).slice(2,6)}`,title:b.length?b.join(", "):"Unknown Commander",commanders:b,dateStart:C,dateEnd:N,dateLabel:j,generatedAt:new Date().toISOString()}},h=()=>{var y;const g={...t,skillUsageData:n,statsViewSettings:r,uiTheme:i};if(Array.isArray(g.fightDiffMode)&&g.fightDiffMode.length>0||!Array.isArray(e)||e.length===0)return g;try{const x=Vd({logs:e,statsViewSettings:r}),b=(y=x==null?void 0:x.stats)==null?void 0:y.fightDiffMode;if(Array.isArray(b)&&b.length>0)return{...g,fightDiffMode:b}}catch{}return g};return{devMockUploadState:o,setDevMockUploadState:l,webCopyStatus:c,setWebCopyStatus:d,handleWebUpload:async()=>{if(!a&&s)try{const g=f(),y=h();await s({meta:g,stats:y})}catch(g){console.error("[StatsView] Web upload failed:",g)}},handleDevMockUpload:async()=>{var g;if(!(a||!((g=window.electronAPI)!=null&&g.mockWebReport))){l({uploading:!0,message:"Preparing local report...",url:null});try{const y=f(),x=h(),b=await window.electronAPI.mockWebReport({meta:y,stats:x});b!=null&&b.success?l({uploading:!1,message:"Local report ready.",url:b.url||null}):l({uploading:!1,message:(b==null?void 0:b.error)||"Local report failed.",url:null})}catch(y){l({uploading:!1,message:(y==null?void 0:y.message)||"Local report failed.",url:null})}}}}};function lU(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(i),t&&(r.href=t),i.href=e,i.href}const cU=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function cl(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}let Kc=null;function _O(e={}){return Kc||(e.includeStyleProperties?(Kc=e.includeStyleProperties,Kc):(Kc=cl(window.getComputedStyle(document.documentElement)),Kc))}function Vp(e,t){const r=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return r?parseFloat(r.replace("px","")):0}function uU(e){const t=Vp(e,"border-left-width"),n=Vp(e,"border-right-width");return e.clientWidth+t+n}function dU(e){const t=Vp(e,"border-top-width"),n=Vp(e,"border-bottom-width");return e.clientHeight+t+n}function LO(e,t={}){const n=t.width||uU(e),r=t.height||dU(e);return{width:n,height:r}}function fU(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const fa=16384;function mU(e){(e.width>fa||e.height>fa)&&(e.width>fa&&e.height>fa?e.width>e.height?(e.height*=fa/e.width,e.width=fa):(e.width*=fa/e.height,e.height=fa):e.width>fa?(e.height*=fa/e.width,e.width=fa):(e.width*=fa/e.height,e.height=fa))}function Wp(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function hU(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function pU(e,t,n){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),a=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${t}`),i.setAttribute("height",`${n}`),i.setAttribute("viewBox",`0 0 ${t} ${n}`),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("externalResourcesRequired","true"),i.appendChild(a),a.appendChild(e),hU(i)}const ta=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||ta(n,t)};function gU(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function xU(e,t){return _O(t).map(n=>{const r=e.getPropertyValue(n),i=e.getPropertyPriority(n);return`${n}: ${r}${i?" !important":""};`}).join(" ")}function vU(e,t,n,r){const i=`.${e}:${t}`,a=n.cssText?gU(n):xU(n,r);return document.createTextNode(`${i}{${a}}`)}function fC(e,t,n,r){const i=window.getComputedStyle(e,n),a=i.getPropertyValue("content");if(a===""||a==="none")return;const s=cU();try{t.className=`${t.className} ${s}`}catch{return}const o=document.createElement("style");o.appendChild(vU(s,n,i,r)),t.appendChild(o)}function yU(e,t,n){fC(e,t,":before",n),fC(e,t,":after",n)}const mC="application/font-woff",hC="image/jpeg",bU={woff:mC,woff2:mC,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:hC,jpeg:hC,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function wU(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function O1(e){const t=wU(e).toLowerCase();return bU[t]||""}function kU(e){return e.split(/,/)[1]}function rb(e){return e.search(/^(data:)/)!==-1}function SU(e,t){return`data:${t};base64,${e}`}async function $O(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const i=await r.blob();return new Promise((a,s)=>{const o=new FileReader;o.onerror=s,o.onloadend=()=>{try{a(n({res:r,result:o.result}))}catch(l){s(l)}},o.readAsDataURL(i)})}const av={};function NU(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function I1(e,t,n){const r=NU(e,t,n.includeQueryParams);if(av[r]!=null)return av[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let i;try{const a=await $O(e,n.fetchRequestInit,({res:s,result:o})=>(t||(t=s.headers.get("Content-Type")||""),kU(o)));i=SU(a,t)}catch(a){i=n.imagePlaceholder||"";let s=`Failed to fetch resource: ${e}`;a&&(s=typeof a=="string"?a:a.message),s&&console.warn(s)}return av[r]=i,i}async function CU(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Wp(t)}async function jU(e,t){if(e.currentSrc){const a=document.createElement("canvas"),s=a.getContext("2d");a.width=e.clientWidth,a.height=e.clientHeight,s==null||s.drawImage(e,0,0,a.width,a.height);const o=a.toDataURL();return Wp(o)}const n=e.poster,r=O1(n),i=await I1(n,r,t);return Wp(i)}async function AU(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await x0(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function PU(e,t){return ta(e,HTMLCanvasElement)?CU(e):ta(e,HTMLVideoElement)?jU(e,t):ta(e,HTMLIFrameElement)?AU(e,t):e.cloneNode(FO(e))}const TU=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",FO=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function EU(e,t,n){var r,i;if(FO(t))return t;let a=[];return TU(e)&&e.assignedNodes?a=cl(e.assignedNodes()):ta(e,HTMLIFrameElement)&&(!((r=e.contentDocument)===null||r===void 0)&&r.body)?a=cl(e.contentDocument.body.childNodes):a=cl(((i=e.shadowRoot)!==null&&i!==void 0?i:e).childNodes),a.length===0||ta(e,HTMLVideoElement)||await a.reduce((s,o)=>s.then(()=>x0(o,n)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function DU(e,t,n){const r=t.style;if(!r)return;const i=window.getComputedStyle(e);i.cssText?(r.cssText=i.cssText,r.transformOrigin=i.transformOrigin):_O(n).forEach(a=>{let s=i.getPropertyValue(a);a==="font-size"&&s.endsWith("px")&&(s=`${Math.floor(parseFloat(s.substring(0,s.length-2)))-.1}px`),ta(e,HTMLIFrameElement)&&a==="display"&&s==="inline"&&(s="block"),a==="d"&&t.getAttribute("d")&&(s=`path(${t.getAttribute("d")})`),r.setProperty(a,s,i.getPropertyPriority(a))})}function MU(e,t){ta(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),ta(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function OU(e,t){if(ta(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(i=>e.value===i.getAttribute("value"));r&&r.setAttribute("selected","")}}function IU(e,t,n){return ta(t,Element)&&(DU(e,t,n),yU(e,t,n),MU(e,t),OU(e,t)),t}async function _U(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let a=0;a<n.length;a++){const o=n[a].getAttribute("xlink:href");if(o){const l=e.querySelector(o),c=document.querySelector(o);!l&&c&&!r[o]&&(r[o]=await x0(c,t,!0))}}const i=Object.values(r);if(i.length){const a="http://www.w3.org/1999/xhtml",s=document.createElementNS(a,"svg");s.setAttribute("xmlns",a),s.style.position="absolute",s.style.width="0",s.style.height="0",s.style.overflow="hidden",s.style.display="none";const o=document.createElementNS(a,"defs");s.appendChild(o);for(let l=0;l<i.length;l++)o.appendChild(i[l]);e.appendChild(s)}return e}async function x0(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>PU(r,t)).then(r=>EU(e,r,t)).then(r=>IU(e,r,t)).then(r=>_U(r,t))}const RO=/url\((['"]?)([^'"]+?)\1\)/g,LU=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,$U=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function FU(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function RU(e){const t=[];return e.replace(RO,(n,r,i)=>(t.push(i),n)),t.filter(n=>!rb(n))}async function BU(e,t,n,r,i){try{const a=n?lU(t,n):t,s=O1(t);let o;return i||(o=await I1(a,s,r)),e.replace(FU(t),`$1${o}$3`)}catch{}return e}function zU(e,{preferredFontFormat:t}){return t?e.replace($U,n=>{for(;;){const[r,,i]=LU.exec(n)||[];if(!i)return"";if(i===t)return`src: ${r};`}}):e}function BO(e){return e.search(RO)!==-1}async function zO(e,t,n){if(!BO(e))return e;const r=zU(e,n);return RU(r).reduce((a,s)=>a.then(o=>BU(o,s,t,n)),Promise.resolve(r))}async function Gc(e,t,n){var r;const i=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(i){const a=await zO(i,null,n);return t.style.setProperty(e,a,t.style.getPropertyPriority(e)),!0}return!1}async function UU(e,t){await Gc("background",e,t)||await Gc("background-image",e,t),await Gc("mask",e,t)||await Gc("-webkit-mask",e,t)||await Gc("mask-image",e,t)||await Gc("-webkit-mask-image",e,t)}async function VU(e,t){const n=ta(e,HTMLImageElement);if(!(n&&!rb(e.src))&&!(ta(e,SVGImageElement)&&!rb(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,i=await I1(r,O1(r),t);await new Promise((a,s)=>{e.onload=a,e.onerror=t.onImageErrorHandler?(...l)=>{try{a(t.onImageErrorHandler(...l))}catch(c){s(c)}}:s;const o=e;o.decode&&(o.decode=a),o.loading==="lazy"&&(o.loading="eager"),n?(e.srcset="",e.src=i):e.href.baseVal=i})}async function WU(e,t){const r=cl(e.childNodes).map(i=>UO(i,t));await Promise.all(r).then(()=>e)}async function UO(e,t){ta(e,Element)&&(await UU(e,t),await VU(e,t),await WU(e,t))}function HU(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(i=>{n[i]=r[i]}),e}const pC={};async function gC(e){let t=pC[e];if(t!=null)return t;const r=await(await fetch(e)).text();return t={url:e,cssText:r},pC[e]=t,t}async function xC(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,a=(n.match(/url\([^)]+\)/g)||[]).map(async s=>{let o=s.replace(r,"$1");return o.startsWith("https://")||(o=new URL(o,e.url).href),$O(o,t.fetchRequestInit,({result:l})=>(n=n.replace(s,`url(${l})`),[s,l]))});return Promise.all(a).then(()=>n)}function vC(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=i.exec(r);if(l===null)break;t.push(l[0])}r=r.replace(i,"");const a=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,s="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",o=new RegExp(s,"gi");for(;;){let l=a.exec(r);if(l===null){if(l=o.exec(r),l===null)break;a.lastIndex=o.lastIndex}else o.lastIndex=a.lastIndex;t.push(l[0])}return t}async function qU(e,t){const n=[],r=[];return e.forEach(i=>{if("cssRules"in i)try{cl(i.cssRules||[]).forEach((a,s)=>{if(a.type===CSSRule.IMPORT_RULE){let o=s+1;const l=a.href,c=gC(l).then(d=>xC(d,t)).then(d=>vC(d).forEach(f=>{try{i.insertRule(f,f.startsWith("@import")?o+=1:i.cssRules.length)}catch(h){console.error("Error inserting rule from remote css",{rule:f,error:h})}})).catch(d=>{console.error("Error loading remote css",d.toString())});r.push(c)}})}catch(a){const s=e.find(o=>o.href==null)||document.styleSheets[0];i.href!=null&&r.push(gC(i.href).then(o=>xC(o,t)).then(o=>vC(o).forEach(l=>{s.insertRule(l,s.cssRules.length)})).catch(o=>{console.error("Error loading remote stylesheet",o)})),console.error("Error inlining remote css file",a)}}),Promise.all(r).then(()=>(e.forEach(i=>{if("cssRules"in i)try{cl(i.cssRules||[]).forEach(a=>{n.push(a)})}catch(a){console.error(`Error while reading CSS rules from ${i.href}`,a)}}),n))}function KU(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>BO(t.style.getPropertyValue("src")))}async function GU(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=cl(e.ownerDocument.styleSheets),r=await qU(n,t);return KU(r)}function VO(e){return e.trim().replace(/["']/g,"")}function YU(e){const t=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(a=>{t.add(VO(a))}),Array.from(r.children).forEach(a=>{a instanceof HTMLElement&&n(a)})}return n(e),t}async function XU(e,t){const n=await GU(e,t),r=YU(e);return(await Promise.all(n.filter(a=>r.has(VO(a.style.fontFamily))).map(a=>{const s=a.parentStyleSheet?a.parentStyleSheet.href:null;return zO(a.cssText,s,t)}))).join(`
`)}async function QU(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await XU(e,t);if(n){const r=document.createElement("style"),i=document.createTextNode(n);r.appendChild(i),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function ZU(e,t={}){const{width:n,height:r}=LO(e,t),i=await x0(e,t,!0);return await QU(i,t),await UO(i,t),HU(i,t),await pU(i,n,r)}async function JU(e,t={}){const{width:n,height:r}=LO(e,t),i=await ZU(e,t),a=await Wp(i),s=document.createElement("canvas"),o=s.getContext("2d"),l=t.pixelRatio||fU(),c=t.canvasWidth||n,d=t.canvasHeight||r;return s.width=c*l,s.height=d*l,t.skipAutoScale||mU(s),s.style.width=`${c}`,s.style.height=`${d}`,t.backgroundColor&&(o.fillStyle=t.backgroundColor,o.fillRect(0,0,s.width,s.height)),o.drawImage(a,0,0,s.width,s.height),s}async function e8(e,t={}){return(await JU(e,t)).toDataURL()}const t8=e=>{const[t,n]=v.useState(!1),r=async s=>{var d;if(!((d=window.electronAPI)!=null&&d.fetchImageAsDataUrl))return s();const o=window.fetch.bind(window),l=globalThis.fetch.bind(globalThis),c=async(f,h)=>{const m=typeof f=="string"?f:f instanceof URL?f.toString():f.url;if(/^https?:\/\//i.test(m)){const p=await window.electronAPI.fetchImageAsDataUrl(m);if(p!=null&&p.success&&p.dataUrl)return o(p.dataUrl)}return o(f,h)};window.fetch=c,globalThis.fetch=c;try{return await s()}finally{window.fetch=o,globalThis.fetch=l}},i=async s=>{var h;if(!((h=window.electronAPI)!=null&&h.fetchImageAsDataUrl))return()=>{};const o=new Map,l=[],c=async m=>{if(o.has(m))return o.get(m)||null;const p=await window.electronAPI.fetchImageAsDataUrl(m);return p!=null&&p.success&&p.dataUrl?(o.set(m,p.dataUrl),p.dataUrl):(o.set(m,""),null)},d=Array.from(s.querySelectorAll("img"));await Promise.all(d.map(async m=>{var b;const p=m.currentSrc||m.src;if(!p||p.startsWith("data:")||p.startsWith("blob:")||p.startsWith("file:"))return;const g=await c(p);if(!g)return;const y=m.src,x=m.srcset;m.src=g,m.srcset="",l.push(()=>{m.src=y,m.srcset=x});try{await((b=m.decode)==null?void 0:b.call(m))}catch{}}));const f=Array.from(s.querySelectorAll("*"));return await Promise.all(f.map(async m=>{const g=window.getComputedStyle(m).backgroundImage;if(!g||g==="none"||!g.includes("url("))return;const y=Array.from(g.matchAll(/url\(["']?(https?:\/\/[^"')]+)["']?\)/g));if(!y.length)return;let x=g,b=!1;for(const k of y){const C=k[1];if(!C)continue;const N=await c(C);N&&(x=x.replace(k[0],`url("${N}")`),b=!0)}if(!b)return;const w=m.style.backgroundImage;m.style.backgroundImage=x,l.push(()=>{m.style.backgroundImage=w})})),()=>{l.forEach(m=>m())}};return{sharing:t,setSharing:n,handleShare:async()=>{var o;if(e||!((o=window.electronAPI)!=null&&o.sendStatsScreenshot))return;n(!0);const s=document.getElementById("stats-dashboard-container");if(s)try{await new Promise(g=>setTimeout(g,100));const l=Array.from(s.querySelectorAll(".stats-share-exclude"));s.classList.add("stats-share-mode"),l.forEach(g=>{g.dataset.prevDisplay=g.style.display,g.style.display="none"});let c;const d=await i(s);try{const g=s.scrollWidth,y=s.scrollHeight;c=await r(()=>e8(s,{backgroundColor:"#10141b",quality:.95,pixelRatio:2,cacheBust:!0,width:g,height:y,style:{overflow:"visible",maxHeight:"none",height:"auto"}}))}finally{d(),s.classList.remove("stats-share-mode"),l.forEach(g=>{g.style.display=g.dataset.prevDisplay||"",delete g.dataset.prevDisplay})}const m=await(await(await fetch(c)).blob()).arrayBuffer(),p=new Uint8Array(m);window.electronAPI.sendStatsScreenshot(p)}catch(l){console.error("Failed to capture stats:",l)}setTimeout(()=>n(!1),2e3)}}},n8=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i})=>{const s=e.length>8,[o,l]=v.useState(()=>Vd(typeof Worker<"u"&&s?{logs:[],precomputedStats:void 0,mvpWeights:n,statsViewSettings:r,disruptionMethod:i}:{logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i})),[c,d]=v.useState(0),[f,h]=v.useState(0),[m,p]=v.useState(0),[g,y]=v.useState(0),[x,b]=v.useState(null),w=v.useRef(0),[k,C]=v.useState(0),N=v.useRef(null),j=v.useRef(null),[D,L]=v.useState(!1),T=v.useRef(null),M=v.useRef(""),O=v.useRef(void 0),Q=v.useRef(""),ee=v.useMemo(()=>{if(!r){M.current="",O.current=void 0;return}const _={...r};delete _.topSkillsMetric;const E=JSON.stringify(_);return M.current!==E&&(M.current=E,O.current=_),O.current},[r]),ae=v.useMemo(()=>({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:ee,disruptionMethod:i}),[e,t,n,ee,i]);v.useEffect(()=>{if(!(typeof Worker>"u")&&!D&&s)return j.current||(j.current=new Worker(new URL(""+new URL("statsWorker-DQyIirLr.js",import.meta.url).href,import.meta.url),{type:"module"}),j.current.onmessage=_=>{var E;((E=_.data)==null?void 0:E.type)==="result"&&(l(_.data.result),typeof _.data.computeId=="number"?d(_.data.computeId):d(A=>A+1),typeof _.data.logCount=="number"&&h(_.data.logCount),typeof _.data.token=="number"&&p(_.data.token),typeof _.data.completedAt=="number"&&y(_.data.completedAt),typeof _.data.flushId=="number"&&b(_.data.flushId))},j.current.onerror=_=>{var E;console.warn("[StatsWorker] Worker error. Falling back to main thread.",_),(E=j.current)==null||E.terminate(),j.current=null,L(!0)},j.current.onmessageerror=_=>{var E;console.warn("[StatsWorker] Worker message error. Falling back to main thread.",_),(E=j.current)==null||E.terminate(),j.current=null,L(!0)},N.current!==null&&j.current.postMessage({type:"flush",flushId:N.current})),()=>{var _;(_=j.current)==null||_.terminate(),j.current=null}},[D,s]),v.useEffect(()=>{var _;if(!(!j.current||D||!s))try{w.current+=1,C(w.current),j.current.postMessage({type:"reset",token:w.current}),j.current.postMessage({type:"settings",payload:{precomputedStats:t,mvpWeights:n,statsViewSettings:ee,disruptionMethod:i}}),T.current&&(window.clearTimeout(T.current),T.current=null);let E=0;const A=()=>{if(!j.current)return;const te=5;for(let S=0;S<te&&E<e.length;S+=1,E+=1)j.current.postMessage({type:"log",payload:e[E]});E<e.length?T.current=window.setTimeout(A,0):(T.current=null,j.current.postMessage({type:"flush"}))};A()}catch(E){console.warn("[StatsWorker] Failed to postMessage payload. Falling back to main thread.",E),(_=j.current)==null||_.terminate(),j.current=null,L(!0)}},[ae,e,t,n,ee,i,s]);const de=v.useMemo(()=>!D&&typeof Worker<"u"&&s?null:Vd({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:ee,disruptionMethod:i}),[D,e,t,n,ee,i,s]),Z=v.useMemo(()=>{if(!D&&typeof Worker<"u"&&s)return"worker";const _=e[0],E=e[e.length-1];return JSON.stringify({logCount:e.length,firstLogPath:(_==null?void 0:_.filePath)||(_==null?void 0:_.name)||"",lastLogPath:(E==null?void 0:E.filePath)||(E==null?void 0:E.name)||"",precomputedTotal:Number((t==null?void 0:t.total)||0),precomputedUpdatedAt:String((t==null?void 0:t.updatedAt)||""),disruptionMethod:i||null,settingsKey:M.current})},[D,s,e,t,i]);return v.useEffect(()=>{!D&&typeof Worker<"u"&&s||Q.current!==Z&&(Q.current=Z,d(_=>_+1),h(e.length),p(w.current),y(Date.now()))},[Z,D,e.length,s]),{result:D||typeof Worker>"u"||!s?de??Vd({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:ee,disruptionMethod:i}):o,computeTick:c,lastComputedLogCount:f,lastComputedToken:m,activeToken:k,lastComputedAt:g,lastComputedFlushId:x,requestFlush:()=>{const _=Date.now();return N.current=_,j.current&&!D&&j.current.postMessage({type:"flush",flushId:_}),_}}},r8=e=>({apmSpecBuckets:v.useMemo(()=>{const n=new Map,r=new Map((e.skillOptions||[]).map(s=>[s.id,s])),i=new Map,a=(s,o)=>{if(i.has(o))return i.get(o);const l=r.get(o);let c=!1;return l&&typeof l.autoAttack=="boolean"?c=l.autoAttack:c=m6(s),i.set(o,c),c};return(e.players||[]).forEach(s=>{const o=(s==null?void 0:s.profession)||"Unknown";let l=n.get(o);l||(l={profession:o,players:[],playerRows:[],totalActiveSeconds:0,totalCasts:0,totalAutoCasts:0,skills:[],skillMap:new Map},n.set(o,l)),l.players.push(s);const c=Number((s==null?void 0:s.totalActiveSeconds)||0),d=Number.isFinite(c)&&c>0?c:0;l.totalActiveSeconds+=d;let f=0,h=0;const m=s&&typeof s.skillTotals=="object"&&s.skillTotals!==null?s.skillTotals:{};Object.entries(m).forEach(([C,N])=>{const j=Number(N);if(!Number.isFinite(j)||j<=0)return;const D=r.get(C),L=(D==null?void 0:D.name)||C,T=D==null?void 0:D.icon,M=a(L,C);f+=j,M&&(h+=j);let O=l.skillMap.get(C);O||(O={id:C,name:L,icon:T,totalCasts:0,playerCounts:new Map},l.skillMap.set(C,O)),!O.icon&&T&&(O.icon=T),O.totalCasts+=j;const Q=(s==null?void 0:s.key)||`${(s==null?void 0:s.account)||"Unknown"}|${o}`;O.playerCounts.set(Q,j)}),l.totalCasts+=f,l.totalAutoCasts+=h;const p=d/60,g=p>0?f/p:0,y=Math.max(0,f-h),x=p>0?y/p:0,b=d>0?f/d:0,w=d>0?y/d:0,k={key:(s==null?void 0:s.key)||`${(s==null?void 0:s.account)||"Unknown"}|${o}`,account:(s==null?void 0:s.account)||"Unknown",displayName:(s==null?void 0:s.displayName)||(s==null?void 0:s.account)||"Unknown",profession:o,professionList:Array.isArray(s==null?void 0:s.professionList)?s.professionList:[o],logs:Number((s==null?void 0:s.logs)||0),totalActiveSeconds:d,totalCasts:f,totalAutoCasts:h,apm:g,apmNoAuto:x,aps:b,apsNoAuto:w};l.playerRows.push(k)}),n.forEach(s=>{s.playerRows.sort((d,f)=>f.apm-d.apm);const o=Number(s.totalActiveSeconds||0),l=o>0?o/60:0,c=Math.max(0,Number(s.totalCasts||0)-Number(s.totalAutoCasts||0));s.totalApm=l>0?Number(s.totalCasts||0)/l:0,s.totalApmNoAuto=l>0?c/l:0,s.totalAps=o>0?Number(s.totalCasts||0)/o:0,s.totalApsNoAuto=o>0?c/o:0,s.skills=Array.from(s.skillMap.values()).map(d=>{const f=s.playerRows.map(g=>{var k;const y=Number(((k=d.playerCounts)==null?void 0:k.get(g.key))||0);if(!Number.isFinite(y)||y<=0)return null;const x=Number(g.totalActiveSeconds||0),b=x>0?y/(x/60):0,w=x>0?y/x:0;return{...g,count:y,apm:b,aps:w}}).filter(Boolean).sort((g,y)=>y.apm-g.apm||String(g.displayName||"").localeCompare(String(y.displayName||""))),h=Number(d.totalCasts||0),m=o>0?h/o:0,p=l>0?h/l:0;return{...d,playerRows:f,totalCasts:h,totalCastsPerSecond:m,totalApm:p}}).sort((d,f)=>f.totalCasts-d.totalCasts)}),Array.from(n.values()).sort((s,o)=>s.profession.localeCompare(o.profession))},[e])}),i8=({skillUsageData:e,selectedSkillId:t,selectedPlayers:n,skillUsageView:r})=>{const i=v.useMemo(()=>{const d=new Map;return e.players.forEach(f=>d.set(f.key,f)),d},[e.players]),a=v.useMemo(()=>{const d=new Map;if(!t)return d;const f=r==="perSecond";return e.players.forEach(h=>{const m=h.skillTotals[t]||0;if(m===0)return;let p=m;if(f){const g=h.totalActiveSeconds||1;p=g>0?m/g:0}d.set(h.key,p)}),d},[e.players,t,r]),s=v.useMemo(()=>t?Array.from(a.entries()).map(([d,f])=>{const h=i.get(d);return{key:d,name:(h==null?void 0:h.displayName)||d,profession:(h==null?void 0:h.profession)||"Unknown",value:f}}).sort((d,f)=>f.value-d.value):[],[a,i,t]),{chartData:o,maxY:l}=v.useMemo(()=>{if(!t)return{chartData:[],maxY:0};let d=0;const f=r==="perSecond";return{chartData:e.logRecords.map((m,p)=>{const g=m.skillEntries[t];if(!g)return null;const y={index:p,name:m.label,shortLabel:m.label,fullLabel:m.label,timestamp:m.timestamp};let x=!1,b=!1;if(Object.entries(g.players).forEach(([w,k])=>{var N;if(n.size>0&&!n.has(w))return;let C=k;if(f){const j=((N=m.playerActiveSeconds)==null?void 0:N[w])||0;C=j>0?k/j:0}y[w]=C,C>d&&(d=C),x=!0,b=!0}),n.size>0){if(!b)return null}else if(!x)return null;return n.forEach(w=>{y[w]===void 0&&(y[w]=0)}),y}).filter(m=>m!==null),maxY:d}},[e.logRecords,t,n,r]),c=v.useMemo(()=>{const d={};return e.players.forEach(f=>{const h=f.profession||"Unknown";d[h]||(d[h]=[]),d[h].push(f)}),Object.entries(d).map(([f,h])=>({profession:f,players:h.sort((m,p)=>m.displayName.localeCompare(p.displayName))})).sort((f,h)=>f.profession.localeCompare(h.profession))},[e.players]);return{playerMapByKey:i,playerTotalsForSkill:a,skillBarData:s,skillChartData:o,skillChartMaxY:l,groupedSkillUsagePlayers:c}};function WO(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=WO(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Tn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=WO(e))&&(r&&(r+=" "),r+=t);return r}var a8=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function _1(e){if(typeof e!="string")return!1;var t=a8;return t.includes(e)}var s8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],o8=new Set(s8);function HO(e){return typeof e!="string"?!1:o8.has(e)}function qO(e){return typeof e=="string"&&e.startsWith("data-")}function Ka(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(HO(n)||qO(n))&&(t[n]=e[n]);return t}function Fu(e){if(e==null)return null;if(v.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Ka(t)}return typeof e=="object"&&!Array.isArray(e)?Ka(e):null}function Bi(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(HO(n)||qO(n)||_1(n))&&(t[n]=e[n]);return t}function l8(e){return e==null?null:v.isValidElement(e)?Bi(e.props):typeof e=="object"&&!Array.isArray(e)?Bi(e):null}var c8=["children","width","height","viewBox","className","style","title","desc"];function ib(){return ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ib.apply(null,arguments)}function u8(e,t){if(e==null)return{};var n,r,i=d8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function d8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var L1=v.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:o,title:l,desc:c}=e,d=u8(e,c8),f=a||{width:r,height:i,x:0,y:0},h=Tn("recharts-surface",s);return v.createElement("svg",ib({},Bi(d),{className:h,width:r,height:i,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),v.createElement("title",null,l),v.createElement("desc",null,c),n)}),f8=["children","className"];function ab(){return ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ab.apply(null,arguments)}function m8(e,t){if(e==null)return{};var n,r,i=h8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function h8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var na=v.forwardRef((e,t)=>{var{children:n,className:r}=e,i=m8(e,f8),a=Tn("recharts-layer",r);return v.createElement("g",ab({className:a},Bi(i),{ref:t}),n)}),KO=v.createContext(null),p8=()=>v.useContext(KO);function Kn(e){return function(){return e}}const GO=Math.cos,Hp=Math.sin,bs=Math.sqrt,qp=Math.PI,v0=2*qp,sb=Math.PI,ob=2*sb,Wl=1e-6,g8=ob-Wl;function YO(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function x8(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return YO;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class v8{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?YO:x8(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-t,c=i-n,d=s-t,f=o-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>Wl)if(!(Math.abs(f*l-c*d)>Wl)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-s,p=i-o,g=l*l+c*c,y=m*m+p*p,x=Math.sqrt(g),b=Math.sqrt(h),w=a*Math.tan((sb-Math.acos((g+h-y)/(2*x*b)))/2),k=w/b,C=w/x;Math.abs(k-1)>Wl&&this._append`L${t+k*d},${n+k*f}`,this._append`A${a},${a},0,0,${+(f*m>d*p)},${this._x1=t+C*l},${this._y1=n+C*c}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=t+o,d=n+l,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>Wl||Math.abs(this._y1-d)>Wl)&&this._append`L${c},${d}`,r&&(h<0&&(h=h%ob+ob),h>g8?this._append`A${r},${r},0,1,${f},${t-o},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=d}`:h>Wl&&this._append`A${r},${r},0,${+(h>=sb)},${f},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function $1(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new v8(t)}function F1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function XO(e){this._context=e}XO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function y0(e){return new XO(e)}function QO(e){return e[0]}function ZO(e){return e[1]}function JO(e,t){var n=Kn(!0),r=null,i=y0,a=null,s=$1(o);e=typeof e=="function"?e:e===void 0?QO:Kn(e),t=typeof t=="function"?t:t===void 0?ZO:Kn(t);function o(l){var c,d=(l=F1(l)).length,f,h=!1,m;for(r==null&&(a=i(m=s())),c=0;c<=d;++c)!(c<d&&n(f=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,c,l),+t(f,c,l));if(m)return a=null,m+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:Kn(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Kn(+l),o):t},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Kn(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function wh(e,t,n){var r=null,i=Kn(!0),a=null,s=y0,o=null,l=$1(c);e=typeof e=="function"?e:e===void 0?QO:Kn(+e),t=typeof t=="function"?t:Kn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?ZO:Kn(+n);function c(f){var h,m,p,g=(f=F1(f)).length,y,x=!1,b,w=new Array(g),k=new Array(g);for(a==null&&(o=s(b=l())),h=0;h<=g;++h){if(!(h<g&&i(y=f[h],h,f))===x)if(x=!x)m=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=h-1;p>=m;--p)o.point(w[p],k[p]);o.lineEnd(),o.areaEnd()}x&&(w[h]=+e(y,h,f),k[h]=+t(y,h,f),o.point(r?+r(y,h,f):w[h],n?+n(y,h,f):k[h]))}if(b)return o=null,b+""||null}function d(){return JO().defined(i).curve(s).context(a)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Kn(+f),r=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Kn(+f),c):e},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Kn(+f),c):r},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Kn(+f),n=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Kn(+f),c):t},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Kn(+f),c):n},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(n)},c.lineX1=function(){return d().x(r).y(t)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Kn(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),c):s},c.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),c):a},c}class e5{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function y8(e){return new e5(e,!0)}function b8(e){return new e5(e,!1)}const R1={draw(e,t){const n=bs(t/qp);e.moveTo(n,0),e.arc(0,0,n,0,v0)}},w8={draw(e,t){const n=bs(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},t5=bs(1/3),k8=t5*2,S8={draw(e,t){const n=bs(t/k8),r=n*t5;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},N8={draw(e,t){const n=bs(t),r=-n/2;e.rect(r,r,n,n)}},C8=.8908130915292852,n5=Hp(qp/10)/Hp(7*qp/10),j8=Hp(v0/10)*n5,A8=-GO(v0/10)*n5,P8={draw(e,t){const n=bs(t*C8),r=j8*n,i=A8*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const s=v0*a/5,o=GO(s),l=Hp(s);e.lineTo(l*n,-o*n),e.lineTo(o*r-l*i,l*r+o*i)}e.closePath()}},sv=bs(3),T8={draw(e,t){const n=-bs(t/(sv*3));e.moveTo(0,n*2),e.lineTo(-sv*n,-n),e.lineTo(sv*n,-n),e.closePath()}},Oa=-.5,Ia=bs(3)/2,lb=1/bs(12),E8=(lb/2+1)*3,D8={draw(e,t){const n=bs(t/E8),r=n/2,i=n*lb,a=r,s=n*lb+n,o=-a,l=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(Oa*r-Ia*i,Ia*r+Oa*i),e.lineTo(Oa*a-Ia*s,Ia*a+Oa*s),e.lineTo(Oa*o-Ia*l,Ia*o+Oa*l),e.lineTo(Oa*r+Ia*i,Oa*i-Ia*r),e.lineTo(Oa*a+Ia*s,Oa*s-Ia*a),e.lineTo(Oa*o+Ia*l,Oa*l-Ia*o),e.closePath()}};function M8(e,t){let n=null,r=$1(i);e=typeof e=="function"?e:Kn(e||R1),t=typeof t=="function"?t:Kn(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Kn(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Kn(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Kp(){}function Gp(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function r5(e){this._context=e}r5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Gp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Gp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function O8(e){return new r5(e)}function i5(e){this._context=e}i5.prototype={areaStart:Kp,areaEnd:Kp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Gp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function I8(e){return new i5(e)}function a5(e){this._context=e}a5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Gp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _8(e){return new a5(e)}function s5(e){this._context=e}s5.prototype={areaStart:Kp,areaEnd:Kp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function L8(e){return new s5(e)}function yC(e){return e<0?-1:1}function bC(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(yC(a)+yC(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function wC(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function ov(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-r)/3;e._context.bezierCurveTo(r+o,i+o*t,a-o,s-o*n,a,s)}function Yp(e){this._context=e}Yp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ov(this,this._t0,wC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ov(this,wC(this,n=bC(this,e,t)),n);break;default:ov(this,this._t0,n=bC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function o5(e){this._context=new l5(e)}(o5.prototype=Object.create(Yp.prototype)).point=function(e,t){Yp.prototype.point.call(this,t,e)};function l5(e){this._context=e}l5.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function $8(e){return new Yp(e)}function F8(e){return new o5(e)}function c5(e){this._context=e}c5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=kC(e),i=kC(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function kC(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function R8(e){return new c5(e)}function b0(e,t){this._context=e,this._t=t}b0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function B8(e){return new b0(e,.5)}function z8(e){return new b0(e,0)}function U8(e){return new b0(e,1)}function vc(e,t){if((s=e.length)>1)for(var n=1,r,i,a=e[t[0]],s,o=a.length;n<s;++n)for(i=a,a=e[t[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function cb(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function V8(e,t){return e[t]}function W8(e){const t=[];return t.key=e,t}function H8(){var e=Kn([]),t=cb,n=vc,r=V8;function i(a){var s=Array.from(e.apply(this,arguments),W8),o,l=s.length,c=-1,d;for(const f of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(f,s[o].key,c,a)]).data=f;for(o=0,d=F1(t(s));o<l;++o)s[d[o]].index=o;return n(s,d),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Kn(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Kn(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?cb:typeof a=="function"?a:Kn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??vc,i):n},i}function q8(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}vc(e,t)}}function K8(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=e[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}vc(e,t)}}function G8(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,c=0;o<s;++o){for(var d=e[t[o]],f=d[r][1]||0,h=d[r-1][1]||0,m=(f-h)/2,p=0;p<o;++p){var g=e[t[p]],y=g[r][1]||0,x=g[r-1][1]||0;m+=y-x}l+=f,c+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,vc(e,t)}}var w0={},u5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(u5);var B1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(B1);var k0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(k0);var S0={},d5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(d5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d5,n=k0;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,l="",c="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const f=i[o];c?f==="\\"&&o+1<s?(o++,l+=i[o]):f===c?c="":l+=f:d?f==='"'||f==="'"?c=f:f==="]"?(d=!1,a.push(l),l=""):l+=f:f==="["?(d=!0,l&&(a.push(l),l="")):f==="."?l&&(a.push(l),l=""):l+=f,o++}return l&&a.push(l),a}e.toPath=r})(S0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u5,n=B1,r=k0,i=S0;function a(o,l,c){if(o==null)return c;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return c;const d=o[l];return d===void 0?n.isDeepKey(l)?a(o,i.toPath(l),c):c:d}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const d=o[l];return d===void 0?c:d}default:{if(Array.isArray(l))return s(o,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return c;const d=o[l];return d===void 0?c:d}}}function s(o,l,c){if(l.length===0)return c;let d=o;for(let f=0;f<l.length;f++){if(d==null||t.isUnsafeProperty(l[f]))return c;d=d[l[f]]}return d===void 0?c:d}e.get=a})(w0);var Y8=w0.get;const yc=ys(Y8);var X8=4;function el(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:X8,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function Sr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,a,s)=>{var o=n[s-1];return typeof o=="string"?i+o+a:o!==void 0?i+el(o)+a:i+a},"")}var Ni=e=>e===0?0:e>0?1:-1,$s=e=>typeof e=="number"&&e!=+e,xo=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Pt=e=>(typeof e=="number"||e instanceof Number)&&!$s(e),Fs=e=>Pt(e)||typeof e=="string",Q8=0,If=e=>{var t=++Q8;return"".concat(e||"").concat(t)},wa=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Pt(t)&&typeof t!="string")return r;var a;if(xo(t)){if(n==null)return r;var s=t.indexOf("%");a=n*parseFloat(t.slice(0,s))/100}else a=+t;return $s(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},f5=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function Si(e,t,n){return Pt(e)&&Pt(t)?el(e+n*(t-e)):t}function m5(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):yc(r,t))===n)}var qr=e=>e===null||typeof e>"u",um=e=>qr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Z8(e){return e!=null}function dm(){}var J8=["type","size","sizeType"];function ub(){return ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ub.apply(null,arguments)}function SC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function NC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SC(Object(n),!0).forEach(function(r){eV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eV(e,t,n){return(t=tV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tV(e){var t=nV(e,"string");return typeof t=="symbol"?t:t+""}function nV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rV(e,t){if(e==null)return{};var n,r,i=iV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function iV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var h5={symbolCircle:R1,symbolCross:w8,symbolDiamond:S8,symbolSquare:N8,symbolStar:P8,symbolTriangle:T8,symbolWye:D8},aV=Math.PI/180,sV=e=>{var t="symbol".concat(um(e));return h5[t]||R1},oV=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*aV;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},lV=(e,t)=>{h5["symbol".concat(um(e))]=t},z1=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=rV(e,J8),a=NC(NC({},i),{},{type:t,size:n,sizeType:r}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var h=sV(s),m=M8().type(h).size(oV(n,r,s)),p=m();if(p!==null)return p},{className:l,cx:c,cy:d}=a,f=Bi(a);return Pt(c)&&Pt(d)&&Pt(n)?v.createElement("path",ub({},f,{className:Tn("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(d,")"),d:o()})):null};z1.registerSymbol=lV;var p5=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,U1=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{_1(i)&&(r[i]=a=>n[i](n,a))}),r},cV=(e,t,n)=>r=>(e(t,n,r),null),V1=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];_1(i)&&typeof a=="function"&&(r||(r={}),r[i]=cV(a,t,n))}),r};function CC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CC(Object(n),!0).forEach(function(r){dV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dV(e,t,n){return(t=fV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fV(e){var t=mV(e,"string");return typeof t=="symbol"?t:t+""}function mV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kr(e,t){var n=uV({},e),r=t,i=Object.keys(t),a=i.reduce((s,o)=>(s[o]===void 0&&r[o]!==void 0&&(s[o]=r[o]),s),n);return a}function Xp(){return Xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xp.apply(null,arguments)}function jC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jC(Object(n),!0).forEach(function(r){pV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pV(e,t,n){return(t=gV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gV(e){var t=xV(e,"string");return typeof t=="symbol"?t:t+""}function xV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $a=32,vV={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function yV(e){var{data:t,iconType:n,inactiveColor:r}=e,i=$a/2,a=$a/6,s=$a/3,o=t.inactive?r:t.color,l=n??t.type;if(l==="none")return null;if(l==="plainline"){var c;return v.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(c=t.payload)===null||c===void 0?void 0:c.strokeDasharray,x1:0,y1:i,x2:$a,y2:i,className:"recharts-legend-icon"})}if(l==="line")return v.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat($a,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return v.createElement("path",{stroke:"none",fill:o,d:"M0,".concat($a/8,"h").concat($a,"v").concat($a*3/4,"h").concat(-$a,"z"),className:"recharts-legend-icon"});if(v.isValidElement(t.legendIcon)){var d=hV({},t);return delete d.legendIcon,v.cloneElement(t.legendIcon,d)}return v.createElement(z1,{fill:o,cx:i,cy:i,size:$a,sizeType:"diameter",type:l})}function bV(e){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:s}=e,o={x:0,y:0,width:$a,height:$a},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var h=d.formatter||i,m=Tn({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var p=d.inactive?a:d.color,g=h?h(d.value,d,f):d.value;return v.createElement("li",Xp({className:m,style:l,key:"legend-item-".concat(f)},V1(e,d,f)),v.createElement(L1,{width:n,height:n,viewBox:o,style:c,"aria-label":"".concat(g," legend icon")},v.createElement(yV,{data:d,iconType:s,inactiveColor:a})),v.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},g))})}var wV=e=>{var t=Kr(e,vV),{payload:n,layout:r,align:i}=t;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return v.createElement("ul",{className:"recharts-default-legend",style:a},v.createElement(bV,Xp({},t,{payload:n})))},g5={},x5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],o=r(s,a,n);i.has(o)||i.set(o,s)}return Array.from(i.values())}e.uniqBy=t})(x5);var v5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}e.ary=t})(v5);var W1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(W1);var y5={},N0={},b5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(b5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b5;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(N0);var w5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(w5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N0,n=w5;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(y5);var k5={},S5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w0;function n(r){return function(i){return t.get(i,r)}}e.property=n})(S5);var N5={},H1={},C5={},q1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(q1);var K1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(K1);var G1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(G1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q1,n=K1,r=G1;function i(d,f,h){return typeof h!="function"?i(d,f,()=>{}):a(d,f,function m(p,g,y,x,b,w){const k=h(p,g,y,x,b,w);return k!==void 0?!!k:a(p,g,m,w)},new Map)}function a(d,f,h,m){if(f===d)return!0;switch(typeof f){case"object":return s(d,f,h,m);case"function":return Object.keys(f).length>0?a(d,{...f},h,m):r.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:r.isEqualsSameValueZero(d,f)}}function s(d,f,h,m){if(f==null)return!0;if(Array.isArray(f))return l(d,f,h,m);if(f instanceof Map)return o(d,f,h,m);if(f instanceof Set)return c(d,f,h,m);const p=Object.keys(f);if(d==null||n.isPrimitive(d))return p.length===0;if(p.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let g=0;g<p.length;g++){const y=p[g];if(!n.isPrimitive(d)&&!(y in d)||f[y]===void 0&&d[y]!==void 0||f[y]===null&&d[y]!==null||!h(d[y],f[y],y,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function o(d,f,h,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[p,g]of f.entries()){const y=d.get(p);if(h(y,g,p,d,f,m)===!1)return!1}return!0}function l(d,f,h,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const p=new Set;for(let g=0;g<f.length;g++){const y=f[g];let x=!1;for(let b=0;b<d.length;b++){if(p.has(b))continue;const w=d[b];let k=!1;if(h(w,y,g,d,f,m)&&(k=!0),k){p.add(b),x=!0;break}}if(!x)return!1}return!0}function c(d,f,h,m){return f.size===0?!0:d instanceof Set?l([...d],[...f],h,m):!1}e.isMatchWith=i,e.isSetMatch=c})(C5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C5;function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(H1);var j5={},Y1={},A5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(A5);var C0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(C0);var X1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",c="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",p="[object Error]",g="[object DataView]",y="[object Uint8Array]",x="[object Uint8ClampedArray]",b="[object Uint16Array]",w="[object Uint32Array]",k="[object BigUint64Array]",C="[object Int8Array]",N="[object Int16Array]",j="[object Int32Array]",D="[object BigInt64Array]",L="[object Float32Array]",T="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=D,e.bigUint64ArrayTag=k,e.booleanTag=i,e.dataViewTag=g,e.dateTag=o,e.errorTag=p,e.float32ArrayTag=L,e.float64ArrayTag=T,e.functionTag=f,e.int16ArrayTag=N,e.int32ArrayTag=j,e.int8ArrayTag=C,e.mapTag=l,e.numberTag=r,e.objectTag=m,e.regexpTag=t,e.setTag=c,e.stringTag=n,e.symbolTag=s,e.uint16ArrayTag=b,e.uint32ArrayTag=w,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=x})(X1);var P5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(P5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A5,n=C0,r=X1,i=K1,a=P5;function s(d,f){return o(d,void 0,d,new Map,f)}function o(d,f,h,m=new Map,p=void 0){const g=p==null?void 0:p(d,f,h,m);if(g!==void 0)return g;if(i.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const y=new Array(d.length);m.set(d,y);for(let x=0;x<d.length;x++)y[x]=o(d[x],x,h,m,p);return Object.hasOwn(d,"index")&&(y.index=d.index),Object.hasOwn(d,"input")&&(y.input=d.input),y}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const y=new RegExp(d.source,d.flags);return y.lastIndex=d.lastIndex,y}if(d instanceof Map){const y=new Map;m.set(d,y);for(const[x,b]of d)y.set(x,o(b,x,h,m,p));return y}if(d instanceof Set){const y=new Set;m.set(d,y);for(const x of d)y.add(o(x,void 0,h,m,p));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const y=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,y);for(let x=0;x<d.length;x++)y[x]=o(d[x],x,h,m,p);return y}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const y=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,y),l(y,d,h,m,p),y}if(typeof File<"u"&&d instanceof File){const y=new File([d],d.name,{type:d.type});return m.set(d,y),l(y,d,h,m,p),y}if(typeof Blob<"u"&&d instanceof Blob){const y=new Blob([d],{type:d.type});return m.set(d,y),l(y,d,h,m,p),y}if(d instanceof Error){const y=new d.constructor;return m.set(d,y),y.message=d.message,y.name=d.name,y.stack=d.stack,y.cause=d.cause,l(y,d,h,m,p),y}if(d instanceof Boolean){const y=new Boolean(d.valueOf());return m.set(d,y),l(y,d,h,m,p),y}if(d instanceof Number){const y=new Number(d.valueOf());return m.set(d,y),l(y,d,h,m,p),y}if(d instanceof String){const y=new String(d.valueOf());return m.set(d,y),l(y,d,h,m,p),y}if(typeof d=="object"&&c(d)){const y=Object.create(Object.getPrototypeOf(d));return m.set(d,y),l(y,d,h,m,p),y}return d}function l(d,f,h=d,m,p){const g=[...Object.keys(f),...t.getSymbols(f)];for(let y=0;y<g.length;y++){const x=g[y],b=Object.getOwnPropertyDescriptor(d,x);(b==null||b.writable)&&(d[x]=o(f[x],x,h,m,p))}}function c(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=l})(Y1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y1;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(j5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H1,n=j5;function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(N5);var T5={},E5={},D5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y1,n=C0,r=X1;function i(a,s){return t.cloneDeepWith(a,(o,l,c,d)=>{const f=s==null?void 0:s(o,l,c,d);if(f!==void 0)return f;if(typeof a=="object"){if(n.getTag(a)===r.objectTag&&typeof a.constructor!="function"){const h={};return d.set(a,h),t.copyProperties(h,a,c,d),h}switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const h=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(h,a),h}case r.argumentsTag:{const h={};return t.copyProperties(h,a),h.length=a.length,h[Symbol.iterator]=a[Symbol.iterator],h}default:return}}})}e.cloneDeepWith=i})(D5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D5;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(E5);var M5={},Q1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Q1);var O5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C0;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(O5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B1,n=Q1,r=O5,i=S0;function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let c=s;for(let d=0;d<l.length;d++){const f=l[d];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}e.has=a})(M5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H1,n=k0,r=E5,i=w0,a=M5;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return l=r.cloneDeep(l),function(c){const d=i.get(c,o);return d===void 0?a.has(c,o):l===void 0?d===void 0:t.isMatch(d,l)}}e.matchesProperty=s})(T5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W1,n=S5,r=N5,i=T5;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}e.iteratee=a})(k5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x5,n=v5,r=W1,i=y5,a=k5;function s(o,l=r.identity){return i.isArrayLikeObject(o)?t.uniqBy(Array.from(o),n.ary(a.iteratee(l),1)):[]}e.uniqBy=s})(g5);var kV=g5.uniqBy;const AC=ys(kV);function I5(e,t,n){return t===!0?AC(e,n):typeof t=="function"?AC(e,t):e}var _5={exports:{}},L5={},$5={exports:{}},F5={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ru=v;function SV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var NV=typeof Object.is=="function"?Object.is:SV,CV=Ru.useState,jV=Ru.useEffect,AV=Ru.useLayoutEffect,PV=Ru.useDebugValue;function TV(e,t){var n=t(),r=CV({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return AV(function(){i.value=n,i.getSnapshot=t,lv(i)&&a({inst:i})},[e,n,t]),jV(function(){return lv(i)&&a({inst:i}),e(function(){lv(i)&&a({inst:i})})},[e]),PV(n),n}function lv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!NV(e,n)}catch{return!0}}function EV(e,t){return t()}var DV=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?EV:TV;F5.useSyncExternalStore=Ru.useSyncExternalStore!==void 0?Ru.useSyncExternalStore:DV;$5.exports=F5;var MV=$5.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j0=v,OV=MV;function IV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _V=typeof Object.is=="function"?Object.is:IV,LV=OV.useSyncExternalStore,$V=j0.useRef,FV=j0.useEffect,RV=j0.useMemo,BV=j0.useDebugValue;L5.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=$V(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=RV(function(){function l(m){if(!c){if(c=!0,d=m,m=r(m),i!==void 0&&s.hasValue){var p=s.value;if(i(p,m))return f=p}return f=m}if(p=f,_V(d,m))return p;var g=r(m);return i!==void 0&&i(p,g)?(d=m,p):(d=m,f=g)}var c=!1,d,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var o=LV(e,a[0],a[1]);return FV(function(){s.hasValue=!0,s.value=o},[o]),BV(o),o};_5.exports=L5;var zV=_5.exports,Z1=v.createContext(null),UV=e=>e,Yn=()=>{var e=v.useContext(Z1);return e?e.store.dispatch:UV},ap=()=>{},VV=()=>ap,WV=(e,t)=>e===t;function jt(e){var t=v.useContext(Z1);return zV.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:VV,t?t.store.getState:ap,t?t.store.getState:ap,t?e:ap,WV)}function HV(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function qV(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function KV(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var PC=e=>Array.isArray(e)?e:[e];function GV(e){const t=Array.isArray(e[0])?e[0]:e;return KV(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function YV(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var XV=class{constructor(e){this.value=e}deref(){return this.value}},QV=typeof WeakRef<"u"?WeakRef:XV,ZV=0,TC=1;function kh(){return{s:ZV,v:void 0,o:null,p:null}}function R5(e,t={}){let n=kh();const{resultEqualityCheck:r}=t;let i,a=0;function s(){var f;let o=n;const{length:l}=arguments;for(let h=0,m=l;h<m;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let g=o.o;g===null&&(o.o=g=new WeakMap);const y=g.get(p);y===void 0?(o=kh(),g.set(p,o)):o=y}else{let g=o.p;g===null&&(o.p=g=new Map);const y=g.get(p);y===void 0?(o=kh(),g.set(p,o)):o=y}}const c=o;let d;if(o.s===TC)d=o.v;else if(d=e.apply(null,arguments),a++,r){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&r(h,d)&&(d=h,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new QV(d):d}return c.s=TC,c.v=d,d}return s.clearCache=()=>{n=kh(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function JV(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,s=0,o,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),HV(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...n,...l},{memoize:f,memoizeOptions:h=[],argsMemoize:m=R5,argsMemoizeOptions:p=[]}=d,g=PC(h),y=PC(p),x=GV(i),b=f(function(){return a++,c.apply(null,arguments)},...g),w=m(function(){s++;const C=YV(x,arguments);return o=b.apply(null,C),o},...y);return Object.assign(w,{resultFunc:c,memoizedResultFunc:b,dependencies:x,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var pe=JV(R5),e9=Object.assign((e,t=pe)=>{qV(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((s,o,l)=>(s[n[l]]=o,s),{}))},{withTypes:()=>e9}),B5={},z5={},U5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=t(r),o=t(i);if(s===o&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};e.compareValues=n})(U5);var V5={},J1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(J1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J1,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(V5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=U5,n=V5,r=S0;function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const c=(m,p)=>{let g=m;for(let y=0;y<p.length&&g!=null;++y)g=g[p[y]];return g},d=(m,p)=>p==null||m==null?p:typeof m=="object"&&"key"in m?Object.hasOwn(p,m.key)?p[m.key]:c(p,m.path):typeof m=="function"?m(p):Array.isArray(m)?c(p,m):typeof p=="object"?p[m]:p,f=s.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||n.isKey(m)?m:{key:m,path:r.toPath(m)}));return a.map(m=>({original:m,criteria:f.map(p=>d(p,m))})).slice().sort((m,p)=>{for(let g=0;g<f.length;g++){const y=t.compareValues(m.criteria[g],p.criteria[g],o[g]);if(y!==0)return y}return 0}).map(m=>m.original)}e.orderBy=i})(z5);var W5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),s=(o,l)=>{for(let c=0;c<o.length;c++){const d=o[c];Array.isArray(d)&&l<a?s(d,l+1):i.push(d)}};return s(n,0),i}e.flatten=t})(W5);var ek={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q1,n=N0,r=q1,i=G1;function a(s,o,l){return r.isObject(l)&&(typeof o=="number"&&n.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.isEqualsSameValueZero(l[o],s):!1}e.isIterateeCall=a})(ek);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z5,n=W5,r=ek;function i(a,...s){const o=s.length;return o>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,n.flatten(s),["asc"])}e.sortBy=i})(B5);var t9=B5.sortBy;const A0=ys(t9);var H5=e=>e.legend.settings,n9=e=>e.legend.size,r9=e=>e.legend.payload,i9=pe([r9,H5],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?A0(r,n):r});function a9(){return jt(i9)}var Sh=1;function q5(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=v.useState({height:0,left:0,top:0,width:0}),r=v.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>Sh||Math.abs(s.left-t.left)>Sh||Math.abs(s.top-t.top)>Sh||Math.abs(s.width-t.width)>Sh)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function ci(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var s9=typeof Symbol=="function"&&Symbol.observable||"@@observable",EC=s9,cv=()=>Math.random().toString(36).substring(7).split("").join("."),o9={INIT:`@@redux/INIT${cv()}`,REPLACE:`@@redux/REPLACE${cv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${cv()}`},Qp=o9;function tk(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function K5(e,t,n){if(typeof e!="function")throw new Error(ci(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ci(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ci(1));return n(K5)(e,t)}let r=e,i=t,a=new Map,s=a,o=0,l=!1;function c(){s===a&&(s=new Map,a.forEach((y,x)=>{s.set(x,y)}))}function d(){if(l)throw new Error(ci(3));return i}function f(y){if(typeof y!="function")throw new Error(ci(4));if(l)throw new Error(ci(5));let x=!0;c();const b=o++;return s.set(b,y),function(){if(x){if(l)throw new Error(ci(6));x=!1,c(),s.delete(b),a=null}}}function h(y){if(!tk(y))throw new Error(ci(7));if(typeof y.type>"u")throw new Error(ci(8));if(typeof y.type!="string")throw new Error(ci(17));if(l)throw new Error(ci(9));try{l=!0,i=r(i,y)}finally{l=!1}return(a=s).forEach(b=>{b()}),y}function m(y){if(typeof y!="function")throw new Error(ci(10));r=y,h({type:Qp.REPLACE})}function p(){const y=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(ci(11));function b(){const k=x;k.next&&k.next(d())}return b(),{unsubscribe:y(b)}},[EC](){return this}}}return h({type:Qp.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[EC]:p}}function l9(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Qp.INIT})>"u")throw new Error(ci(12));if(typeof n(void 0,{type:Qp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ci(13))})}function G5(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{l9(n)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const c={};for(let d=0;d<r.length;d++){const f=r[d],h=n[f],m=s[f],p=h(m,o);if(typeof p>"u")throw o&&o.type,new Error(ci(14));c[f]=p,l=l||p!==m}return l=l||r.length!==Object.keys(s).length,l?c:s}}function Zp(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function c9(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(ci(15))};const s={getState:i.getState,dispatch:(l,...c)=>a(l,...c)},o=e.map(l=>l(s));return a=Zp(...o)(i.dispatch),{...i,dispatch:a}}}function Y5(e){return tk(e)&&"type"in e&&typeof e.type=="string"}var X5=Symbol.for("immer-nothing"),DC=Symbol.for("immer-draftable"),zi=Symbol.for("immer-state");function ss(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ya=Object,Bu=ya.getPrototypeOf,Jp="constructor",P0="prototype",db="configurable",eg="enumerable",sp="writable",_f="value",vo=e=>!!e&&!!e[zi];function ps(e){var t;return e?Q5(e)||E0(e)||!!e[DC]||!!((t=e[Jp])!=null&&t[DC])||D0(e)||M0(e):!1}var u9=ya[P0][Jp].toString(),MC=new WeakMap;function Q5(e){if(!e||!nk(e))return!1;const t=Bu(e);if(t===null||t===ya[P0])return!0;const n=ya.hasOwnProperty.call(t,Jp)&&t[Jp];if(n===Object)return!0;if(!eu(n))return!1;let r=MC.get(n);return r===void 0&&(r=Function.toString.call(n),MC.set(n,r)),r===u9}function T0(e,t,n=!0){fm(e)===0?(n?Reflect.ownKeys(e):ya.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function fm(e){const t=e[zi];return t?t.type_:E0(e)?1:D0(e)?2:M0(e)?3:0}var OC=(e,t,n=fm(e))=>n===2?e.has(t):ya[P0].hasOwnProperty.call(e,t),fb=(e,t,n=fm(e))=>n===2?e.get(t):e[t],tg=(e,t,n,r=fm(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function d9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var E0=Array.isArray,D0=e=>e instanceof Map,M0=e=>e instanceof Set,nk=e=>typeof e=="object",eu=e=>typeof e=="function",uv=e=>typeof e=="boolean";function f9(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Zs=e=>e.copy_||e.base_,rk=e=>e.modified_?e.copy_:e.base_;function mb(e,t){if(D0(e))return new Map(e);if(M0(e))return new Set(e);if(E0(e))return Array[P0].slice.call(e);const n=Q5(e);if(t===!0||t==="class_only"&&!n){const r=ya.getOwnPropertyDescriptors(e);delete r[zi];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o[sp]===!1&&(o[sp]=!0,o[db]=!0),(o.get||o.set)&&(r[s]={[db]:!0,[sp]:!0,[eg]:o[eg],[_f]:e[s]})}return ya.create(Bu(e),r)}else{const r=Bu(e);if(r!==null&&n)return{...e};const i=ya.create(r);return ya.assign(i,e)}}function ik(e,t=!1){return O0(e)||vo(e)||!ps(e)||(fm(e)>1&&ya.defineProperties(e,{set:Nh,add:Nh,clear:Nh,delete:Nh}),ya.freeze(e),t&&T0(e,(n,r)=>{ik(r,!0)},!1)),e}function m9(){ss(2)}var Nh={[_f]:m9};function O0(e){return e===null||!nk(e)?!0:ya.isFrozen(e)}var ng="MapSet",hb="Patches",IC="ArrayMethods",Z5={};function bc(e){const t=Z5[e];return t||ss(0,e),t}var _C=e=>!!Z5[e],Lf,J5=()=>Lf,h9=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:_C(ng)?bc(ng):void 0,arrayMethodsPlugin_:_C(IC)?bc(IC):void 0});function LC(e,t){t&&(e.patchPlugin_=bc(hb),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function pb(e){gb(e),e.drafts_.forEach(p9),e.drafts_=null}function gb(e){e===Lf&&(Lf=e.parent_)}var $C=e=>Lf=h9(Lf,e);function p9(e){const t=e[zi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function FC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[zi].modified_&&(pb(t),ss(4)),ps(e)&&(e=RC(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[zi].base_,e,t)}else e=RC(t,n);return g9(t,e,!0),pb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==X5?e:void 0}function RC(e,t){if(O0(t))return t;const n=t[zi];if(!n)return rg(t,e.handledSet_,e);if(!I0(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);nI(n,e)}return n.copy_}function g9(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ik(t,n)}function eI(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var I0=(e,t)=>e.scope_===t,x9=[];function tI(e,t,n,r){const i=Zs(e),a=e.type_;if(r!==void 0&&fb(i,r,a)===t){tg(i,r,n,a);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;T0(i,(l,c)=>{if(vo(c)){const d=o.get(c)||[];d.push(l),o.set(c,d)}})}const s=e.draftLocations_.get(t)??x9;for(const o of s)tg(i,o,n,a)}function v9(e,t,n){e.callbacks_.push(function(i){var o;const a=t;if(!a||!I0(a,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(a);const s=rk(a);tI(e,a.draft_??a,s,n),nI(a,i)})}function nI(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}eI(e)}}function y9(e,t,n){const{scope_:r}=e;if(vo(n)){const i=n[zi];I0(i,r)&&i.callbacks_.push(function(){op(e);const s=rk(i);tI(e,n,s,t)})}else ps(n)&&e.callbacks_.push(function(){const a=Zs(e);e.type_===3?a.has(n)&&rg(n,r.handledSet_,r):fb(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&rg(fb(e.copy_,t,e.type_),r.handledSet_,r)})}function rg(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||vo(e)||t.has(e)||!ps(e)||O0(e)||(t.add(e),T0(e,(r,i)=>{if(vo(i)){const a=i[zi];if(I0(a,n)){const s=rk(a);tg(e,r,s,e.type_),eI(a)}}else ps(i)&&rg(i,t,n)})),e}function b9(e,t){const n=E0(e),r={type_:n?1:0,scope_:t?t.scope_:J5(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=ig;n&&(i=[r],a=$f);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,[o,r]}var ig={get(e,t){if(t===zi)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=Zs(e);if(!OC(i,t,e.type_))return w9(e,i,t);const a=i[t];if(e.finalized_||!ps(a)||r&&e.operationMethod&&(n!=null&&n.isMutatingArrayMethod(e.operationMethod))&&f9(t))return a;if(a===dv(e.base_,t)){op(e);const s=e.type_===1?+t:t,o=vb(e.scope_,a,e,s);return e.copy_[s]=o}return a},has(e,t){return t in Zs(e)},ownKeys(e){return Reflect.ownKeys(Zs(e))},set(e,t,n){const r=rI(Zs(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=dv(Zs(e),t),a=i==null?void 0:i[zi];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(d9(n,i)&&(n!==void 0||OC(e.base_,t,e.type_)))return!0;op(e),xb(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),y9(e,t,n)),!0},deleteProperty(e,t){return op(e),dv(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),xb(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Zs(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[sp]:!0,[db]:e.type_!==1||t!=="length",[eg]:r[eg],[_f]:n[t]}},defineProperty(){ss(11)},getPrototypeOf(e){return Bu(e.base_)},setPrototypeOf(){ss(12)}},$f={};for(let e in ig){let t=ig[e];$f[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}$f.deleteProperty=function(e,t){return $f.set.call(this,e,t,void 0)};$f.set=function(e,t,n){return ig.set.call(this,e[0],t,n,e[0])};function dv(e,t){const n=e[zi];return(n?Zs(n):e)[t]}function w9(e,t,n){var i;const r=rI(t,n);return r?_f in r?r[_f]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function rI(e,t){if(!(t in e))return;let n=Bu(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Bu(n)}}function xb(e){e.modified_||(e.modified_=!0,e.parent_&&xb(e.parent_))}function op(e){e.copy_||(e.assigned_=new Map,e.copy_=mb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var k9=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(eu(n)&&!eu(r)){const s=r;r=n;const o=this;return function(c=s,...d){return o.produce(c,f=>r.call(this,f,...d))}}eu(r)||ss(6),i!==void 0&&!eu(i)&&ss(7);let a;if(ps(n)){const s=$C(this),o=vb(s,n,void 0);let l=!0;try{a=r(o),l=!1}finally{l?pb(s):gb(s)}return LC(s,i),FC(a,s)}else if(!n||!nk(n)){if(a=r(n),a===void 0&&(a=n),a===X5&&(a=void 0),this.autoFreeze_&&ik(a,!0),i){const s=[],o=[];bc(hb).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else ss(1,n)},this.produceWithPatches=(n,r)=>{if(eu(n))return(o,...l)=>this.produceWithPatches(o,c=>n(c,...l));let i,a;return[this.produce(n,r,(o,l)=>{i=o,a=l}),i,a]},uv(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),uv(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),uv(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ps(t)||ss(8),vo(t)&&(t=ds(t));const n=$C(this),r=vb(n,t,void 0);return r[zi].isManual_=!0,gb(n),r}finishDraft(t,n){const r=t&&t[zi];(!r||!r.isManual_)&&ss(9);const{scope_:i}=r;return LC(i,n),FC(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=bc(hb).applyPatches_;return vo(t)?i(t,n):this.produce(t,a=>i(a,n))}};function vb(e,t,n,r){const[i,a]=D0(t)?bc(ng).proxyMap_(t,n):M0(t)?bc(ng).proxySet_(t,n):b9(t,n);return((n==null?void 0:n.scope_)??J5()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?v9(n,a,r):a.callbacks_.push(function(l){var d;(d=l.mapSetPlugin_)==null||d.fixSetContents(a);const{patchPlugin_:c}=l;a.modified_&&c&&c.generatePatches_(a,[],l)}),i}function ds(e){return vo(e)||ss(10,e),iI(e)}function iI(e){if(!ps(e)||O0(e))return e;const t=e[zi];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=mb(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=mb(e,!0);return T0(n,(i,a)=>{tg(n,i,iI(a))},r),t&&(t.finalized_=!1),n}var S9=new k9,aI=S9.produce;function sI(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var N9=sI(),C9=sI,j9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Zp:Zp.apply(null,arguments)};function Ga(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(ka(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>Y5(r)&&r.type===e,n}var oI=class Wd extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Wd.prototype)}static get[Symbol.species](){return Wd}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Wd(...t[0].concat(this)):new Wd(...t.concat(this))}};function BC(e){return ps(e)?aI(e,()=>{}):e}function Ch(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function A9(e){return typeof e=="boolean"}var P9=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new oI;return n&&(A9(n)?s.push(N9):s.push(C9(n.extraArgument))),s},lI="RTK_autoBatch",or=()=>e=>({payload:e,meta:{[lI]:!0}}),zC=e=>t=>{setTimeout(t,e)},cI=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,s=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:zC(10):e.type==="callback"?e.queueNotification:zC(e.timeout),c=()=>{s=!1,a&&(a=!1,o.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>i&&d(),h=r.subscribe(f);return o.add(d),()=>{h(),o.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[lI]),a=!i,a&&(s||(s=!0,l(c))),r.dispatch(d)}finally{i=!0}}})},T9=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new oI(e);return r&&i.push(cI(typeof r=="object"?r:void 0)),i};function E9(e){const t=P9(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let o;if(typeof n=="function")o=n;else if(tk(n))o=G5(n);else throw new Error(ka(1));let l;typeof r=="function"?l=r(t):l=t();let c=Zp;i&&(c=j9({trace:!1,...typeof i=="object"&&i}));const d=c9(...l),f=T9(d);let h=typeof s=="function"?s(f):f();const m=c(...h);return K5(o,a,m)}function uI(e){const t={},n=[];let r;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(ka(28));if(o in t)throw new Error(ka(29));return t[o]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function D9(e){return typeof e=="function"}function M9(e,t){let[n,r,i]=uI(t),a;if(D9(e))a=()=>BC(e());else{const o=BC(e);a=()=>o}function s(o=a(),l){let c=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[i]),c.reduce((d,f)=>{if(f)if(vo(d)){const m=f(d,l);return m===void 0?d:m}else{if(ps(d))return aI(d,h=>f(h,l));{const h=f(d,l);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},o)}return s.getInitialState=a,s}var O9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",I9=(e=21)=>{let t="",n=e;for(;n--;)t+=O9[Math.random()*64|0];return t},_9=Symbol.for("rtk-slice-createasyncthunk");function L9(e,t){return`${e}/${t}`}function $9({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[_9];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(ka(11));const o=(typeof i.reducers=="function"?i.reducers(R9()):i.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(k,C){const N=typeof k=="string"?k:k.type;if(!N)throw new Error(ka(12));if(N in c.sliceCaseReducersByType)throw new Error(ka(13));return c.sliceCaseReducersByType[N]=C,d},addMatcher(k,C){return c.sliceMatchers.push({matcher:k,reducer:C}),d},exposeAction(k,C){return c.actionCreators[k]=C,d},exposeCaseReducer(k,C){return c.sliceCaseReducersByName[k]=C,d}};l.forEach(k=>{const C=o[k],N={reducerName:k,type:L9(a,k),createNotation:typeof i.reducers=="function"};z9(C)?V9(N,C,d,t):B9(N,C,d)});function f(){const[k={},C=[],N=void 0]=typeof i.extraReducers=="function"?uI(i.extraReducers):[i.extraReducers],j={...k,...c.sliceCaseReducersByType};return M9(i.initialState,D=>{for(let L in j)D.addCase(L,j[L]);for(let L of c.sliceMatchers)D.addMatcher(L.matcher,L.reducer);for(let L of C)D.addMatcher(L.matcher,L.reducer);N&&D.addDefaultCase(N)})}const h=k=>k,m=new Map,p=new WeakMap;let g;function y(k,C){return g||(g=f()),g(k,C)}function x(){return g||(g=f()),g.getInitialState()}function b(k,C=!1){function N(D){let L=D[k];return typeof L>"u"&&C&&(L=Ch(p,N,x)),L}function j(D=h){const L=Ch(m,C,()=>new WeakMap);return Ch(L,D,()=>{const T={};for(const[M,O]of Object.entries(i.selectors??{}))T[M]=F9(O,D,()=>Ch(p,D,x),C);return T})}return{reducerPath:k,getSelectors:j,get selectors(){return j(N)},selectSlice:N}}const w={name:a,reducer:y,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:x,...b(s),injectInto(k,{reducerPath:C,...N}={}){const j=C??s;return k.inject({reducerPath:j,reducer:y},N),{...w,...b(j,!0)}}};return w}}function F9(e,t,n,r){function i(a,...s){let o=t(a);return typeof o>"u"&&r&&(o=n()),e(o,...s)}return i.unwrapped=e,i}var aa=$9();function R9(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function B9({type:e,reducerName:t,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!U9(r))throw new Error(ka(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?Ga(e,s):Ga(e))}function z9(e){return e._reducerDefinitionType==="asyncThunk"}function U9(e){return e._reducerDefinitionType==="reducerWithPrepare"}function V9({type:e,reducerName:t},n,r,i){if(!i)throw new Error(ka(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:c,options:d}=n,f=i(e,a,d);r.exposeAction(t,f),s&&r.addCase(f.fulfilled,s),o&&r.addCase(f.pending,o),l&&r.addCase(f.rejected,l),c&&r.addMatcher(f.settled,c),r.exposeCaseReducer(t,{fulfilled:s||jh,pending:o||jh,rejected:l||jh,settled:c||jh})}function jh(){}var W9="task",dI="listener",fI="completed",ak="cancelled",H9=`task-${ak}`,q9=`task-${fI}`,yb=`${dI}-${ak}`,K9=`${dI}-${fI}`,_0=class{constructor(e){Mx(this,"name","TaskAbortError");Mx(this,"message");this.code=e,this.message=`${W9} ${ak} (reason: ${e})`}},sk=(e,t)=>{if(typeof e!="function")throw new TypeError(ka(32))},ag=()=>{},mI=(e,t=ag)=>(e.catch(t),e),hI=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),cc=e=>{if(e.aborted)throw new _0(e.reason)};function pI(e,t){let n=ag;return new Promise((r,i)=>{const a=()=>i(new _0(e.reason));if(e.aborted){a();return}n=hI(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=ag})}var G9=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof _0?"cancelled":"rejected",error:n}}finally{t==null||t()}},sg=e=>t=>mI(pI(e,t).then(n=>(cc(e),n))),gI=e=>{const t=sg(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:ju}=Object,UC={},L0="listenerMiddleware",Y9=(e,t)=>{const n=r=>hI(e,()=>r.abort(e.reason));return(r,i)=>{sk(r);const a=new AbortController;n(a);const s=G9(async()=>{cc(e),cc(a.signal);const o=await r({pause:sg(a.signal),delay:gI(a.signal),signal:a.signal});return cc(a.signal),o},()=>a.abort(q9));return i!=null&&i.autoJoin&&t.push(s.catch(ag)),{result:sg(e)(s),cancel(){a.abort(H9)}}}},X9=(e,t)=>{const n=async(r,i)=>{cc(t);let a=()=>{};const o=[new Promise((l,c)=>{let d=e({predicate:r,effect:(f,h)=>{h.unsubscribe(),l([f,h.getState(),h.getOriginalState()])}});a=()=>{d(),c()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await pI(t,Promise.race(o));return cc(t),l}finally{a()}};return(r,i)=>mI(n(r,i))},xI=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=Ga(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(ka(21));return sk(a),{predicate:i,type:t,effect:a}},vI=ju(e=>{const{type:t,predicate:n,effect:r}=xI(e);return{id:I9(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ka(22))}}},{withTypes:()=>vI}),VC=(e,t)=>{const{type:n,effect:r,predicate:i}=xI(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},bb=e=>{e.pending.forEach(t=>{t.abort(yb)})},Q9=(e,t)=>()=>{for(const n of t.keys())bb(n);e.clear()},WC=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},yI=ju(Ga(`${L0}/add`),{withTypes:()=>yI}),Z9=Ga(`${L0}/removeAll`),bI=ju(Ga(`${L0}/remove`),{withTypes:()=>bI}),J9=(...e)=>{console.error(`${L0}/error`,...e)},mm=(e={})=>{const t=new Map,n=new Map,r=m=>{const p=n.get(m)??0;n.set(m,p+1)},i=m=>{const p=n.get(m)??1;p===1?n.delete(m):n.set(m,p-1)},{extra:a,onError:s=J9}=e;sk(s);const o=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),p=>{m.unsubscribe(),p!=null&&p.cancelActive&&bb(m)}),l=m=>{const p=VC(t,m)??vI(m);return o(p)};ju(l,{withTypes:()=>l});const c=m=>{const p=VC(t,m);return p&&(p.unsubscribe(),m.cancelActive&&bb(p)),!!p};ju(c,{withTypes:()=>c});const d=async(m,p,g,y)=>{const x=new AbortController,b=X9(l,x.signal),w=[];try{m.pending.add(x),r(m),await Promise.resolve(m.effect(p,ju({},g,{getOriginalState:y,condition:(k,C)=>b(k,C).then(Boolean),take:b,delay:gI(x.signal),pause:sg(x.signal),extra:a,signal:x.signal,fork:Y9(x.signal,w),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((k,C,N)=>{k!==x&&(k.abort(yb),N.delete(k))})},cancel:()=>{x.abort(yb),m.pending.delete(x)},throwIfCancelled:()=>{cc(x.signal)}})))}catch(k){k instanceof _0||WC(s,k,{raisedBy:"effect"})}finally{await Promise.all(w),x.abort(K9),i(m),m.pending.delete(x)}},f=Q9(t,n);return{middleware:m=>p=>g=>{if(!Y5(g))return p(g);if(yI.match(g))return l(g.payload);if(Z9.match(g)){f();return}if(bI.match(g))return c(g.payload);let y=m.getState();const x=()=>{if(y===UC)throw new Error(ka(23));return y};let b;try{if(b=p(g),t.size>0){const w=m.getState(),k=Array.from(t.values());for(const C of k){let N=!1;try{N=C.predicate(g,w,y)}catch(j){N=!1,WC(s,j,{raisedBy:"predicate"})}N&&d(C,g,m,x)}}}finally{y=UC}return b},startListening:l,stopListening:c,clearListeners:f}};function ka(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var eW={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},wI=aa({name:"chartLayout",initialState:eW,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:tW,setLayout:nW,setChartSize:rW,setScale:iW}=wI.actions,aW=wI.reducer;function kI(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Br(e){return Number.isFinite(e)}function Rs(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function HC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HC(Object(n),!0).forEach(function(r){sW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sW(e,t,n){return(t=oW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oW(e){var t=lW(e,"string");return typeof t=="symbol"?t:t+""}function lW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ir(e,t,n){return qr(e)||qr(t)?n:Fs(t)?yc(e,t,n):typeof t=="function"?t(e):n}var cW=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&Pt(e[a]))return hu(hu({},e),{},{[a]:e[a]+(r||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&Pt(e[s]))return hu(hu({},e),{},{[s]:e[s]+(i||0)})}return e},wl=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",SI=(e,t,n,r)=>{if(r)return e.map(o=>o.coordinate);var i,a,s=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===n&&(a=!0),o.coordinate));return i||s.push(t),a||s.push(n),s},NI=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!s)return null;var p=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,g=i==="category"&&s.bandwidth?s.bandwidth()/p:0;if(g=m==="angleAxis"&&a&&a.length>=2?Ni(a[0]-a[1])*2*g:g,f||h){var y=(f||h||[]).map((x,b)=>{var w=r?r.indexOf(x):x;return{coordinate:s(w)+g,value:x,offset:g,index:b}});return y.filter(x=>!$s(x.coordinate))}return l&&c?c.map((x,b)=>({coordinate:s(x)+g,value:x,index:b,offset:g})):s.ticks&&d!=null?s.ticks(d).map((x,b)=>({coordinate:s(x)+g,value:x,offset:g,index:b})):s.domain().map((x,b)=>({coordinate:s(x)+g,value:r?r[x]:x,index:b,offset:g}))},qC=1e-4,uW=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-qC,a=Math.max(r[0],r[1])+qC,s=e(t[0]),o=e(t[n-1]);(s<i||s>a||o<i||o>a)&&e.domain([t[0],t[n-1]])}},dW=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0,o=0;o<n;++o){var l=e[o],c=l==null?void 0:l[i];if(c!=null){var d=c[1],f=c[0],h=$s(d)?f:d;h>=0?(c[0]=a,c[1]=a+h,a=d):(c[0]=s,c[1]=s+h,s=d)}}}},fW=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0;s<n;++s){var o=e[s],l=o==null?void 0:o[i];if(l!=null){var c=$s(l[1])?l[0]:l[1];c>=0?(l[0]=a,l[1]=a+c,a=l[1]):(l[0]=0,l[1]=0)}}}},mW={sign:dW,expand:q8,none:vc,silhouette:K8,wiggle:G8,positive:fW},hW=(e,t,n)=>{var r,i=(r=mW[n])!==null&&r!==void 0?r:vc,a=H8().keys(t).value((o,l)=>Number(ir(o,l,0))).order(cb).offset(i),s=a(e);return s.forEach((o,l)=>{o.forEach((c,d)=>{var f=ir(e[d],t[l],0);Array.isArray(f)&&f.length===2&&Pt(f[0])&&Pt(f[1])&&(c[0]=f[0],c[1]=f[1])})}),s};function KC(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!qr(i[t.dataKey])){var o=m5(n,"value",i[t.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=ir(i,qr(s)?t.dataKey:s);return qr(l)?null:t.scale(l)}var pW=e=>{var t=e.flat(2).filter(Pt);return[Math.min(...t),Math.max(...t)]},gW=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],xW=(e,t,n)=>{if(e!=null)return gW(Object.keys(e).reduce((r,i)=>{var a=e[i];if(!a)return r;var{stackedData:s}=a,o=s.reduce((l,c)=>{var d=kI(c,t,n),f=pW(d);return!Br(f[0])||!Br(f[1])?l:[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},GC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,YC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,og=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=A0(t,d=>d.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],c=i[s-1];a=Math.min(((l==null?void 0:l.coordinate)||0)-((c==null?void 0:c.coordinate)||0),a)}return a===1/0?0:a}return n?void 0:0};function XC(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return hu(hu({},t),{},{dataKey:n,payload:r,value:i,name:a})}function $0(e,t){if(e)return String(e);if(typeof t=="string")return t}var vW=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},yW=(e,t)=>t==="centric"?e.angle:e.radius,Co=e=>e.layout.width,jo=e=>e.layout.height,bW=e=>e.layout.scale,CI=e=>e.layout.margin,F0=pe(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),R0=pe(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),jI="data-recharts-item-index",AI="data-recharts-item-id",hm=60;function QC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ah(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QC(Object(n),!0).forEach(function(r){wW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wW(e,t,n){return(t=kW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kW(e){var t=SW(e,"string");return typeof t=="symbol"?t:t+""}function SW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NW=e=>e.brush.height;function CW(e){var t=R0(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:hm;return n+i}return n},0)}function jW(e){var t=R0(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:hm;return n+i}return n},0)}function AW(e){var t=F0(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function PW(e){var t=F0(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var ri=pe([Co,jo,CI,NW,CW,jW,AW,PW,H5,n9],(e,t,n,r,i,a,s,o,l,c)=>{var d={left:(n.left||0)+i,right:(n.right||0)+a},f={top:(n.top||0)+s,bottom:(n.bottom||0)+o},h=Ah(Ah({},f),d),m=h.bottom;h.bottom+=r,h=cW(h,l,c);var p=e-h.left-h.right,g=t-h.top-h.bottom;return Ah(Ah({brushBottom:m},h),{},{width:Math.max(p,0),height:Math.max(g,0)})}),TW=pe(ri,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),PI=pe(Co,jo,(e,t)=>({x:0,y:0,width:e,height:t})),EW=v.createContext(null),sa=()=>v.useContext(EW)!=null,B0=e=>e.brush,z0=pe([B0,ri,CI],(e,t,n)=>({height:e.height,x:Pt(e.x)?e.x:t.left,y:Pt(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:Pt(e.width)?e.width:t.width})),TI={},EI={},DI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),c=a==null||a.includes("trailing"),d=()=>{o!==null&&(n.apply(s,o),s=void 0,o=null)},f=()=>{c&&d(),g()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},r)},p=()=>{h!==null&&(clearTimeout(h),h=null)},g=()=>{p(),s=void 0,o=null},y=()=>{d()},x=function(...b){if(i!=null&&i.aborted)return;s=this,o=b;const w=h==null;m(),l&&w&&d()};return x.schedule=m,x.cancel=g,x.flush=y,i==null||i.addEventListener("abort",g,{once:!0}),x}e.debounce=t})(DI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DI;function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,c=Array(2);s&&(c[0]="leading"),o&&(c[1]="trailing");let d,f=null;const h=t.debounce(function(...g){d=r.apply(this,g),f=null},i,{edges:c}),m=function(...g){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(d=r.apply(this,g),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,g),d)},p=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=p,m}e.debounce=n})(EI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EI;function n(r,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return t.debounce(r,i,{leading:s,maxWait:i,trailing:o})}e.throttle=n})(TI);var DW=TI.throttle;const MW=ys(DW);var lg=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},MI=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,o=xo(r)?e:Number(r),l=xo(i)?t:Number(i);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},OW={width:0,height:0,overflow:"visible"},IW={width:0,overflowX:"visible"},_W={height:0,overflowY:"visible"},LW={},$W=e=>{var{width:t,height:n}=e,r=xo(t),i=xo(n);return r&&i?OW:r?IW:i?_W:LW};function FW(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function wb(){return wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wb.apply(null,arguments)}function ZC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function JC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZC(Object(n),!0).forEach(function(r){RW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RW(e,t,n){return(t=BW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BW(e){var t=zW(e,"string");return typeof t=="symbol"?t:t+""}function zW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OI=v.createContext({width:-1,height:-1});function UW(e){return Rs(e.width)&&Rs(e.height)}function II(e){var{children:t,width:n,height:r}=e,i=v.useMemo(()=>({width:n,height:r}),[n,r]);return UW(i)?v.createElement(OI.Provider,{value:i},t):null}var ok=()=>v.useContext(OI),VW=v.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:o,maxHeight:l,children:c,debounce:d=0,id:f,className:h,onResize:m,style:p={}}=e,g=v.useRef(null),y=v.useRef();y.current=m,v.useImperativeHandle(t,()=>g.current);var[x,b]=v.useState({containerWidth:r.width,containerHeight:r.height}),w=v.useCallback((D,L)=>{b(T=>{var M=Math.round(D),O=Math.round(L);return T.containerWidth===M&&T.containerHeight===O?T:{containerWidth:M,containerHeight:O}})},[]);v.useEffect(()=>{if(g.current==null||typeof ResizeObserver>"u")return dm;var D=O=>{var Q,{width:ee,height:ae}=O[0].contentRect;w(ee,ae),(Q=y.current)===null||Q===void 0||Q.call(y,ee,ae)};d>0&&(D=MW(D,d,{trailing:!0,leading:!1}));var L=new ResizeObserver(D),{width:T,height:M}=g.current.getBoundingClientRect();return w(T,M),L.observe(g.current),()=>{L.disconnect()}},[w,d]);var{containerWidth:k,containerHeight:C}=x;lg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:N,calculatedHeight:j}=MI(k,C,{width:i,height:a,aspect:n,maxHeight:l});return lg(N!=null&&N>0||j!=null&&j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,j,i,a,s,o,n),v.createElement("div",{id:f?"".concat(f):void 0,className:Tn("recharts-responsive-container",h),style:JC(JC({},p),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:g},v.createElement("div",{style:$W({width:i,height:a})},v.createElement(II,{width:N,height:j},c)))}),wc=v.forwardRef((e,t)=>{var n=ok();if(Rs(n.width)&&Rs(n.height))return e.children;var{width:r,height:i}=FW({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=MI(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Pt(a)&&Pt(s)?v.createElement(II,{width:a,height:s},e.children):v.createElement(VW,wb({},e,{width:r,height:i,ref:t}))});function _I(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var U0=()=>{var e,t=sa(),n=jt(TW),r=jt(z0),i=(e=jt(B0))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},WW={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},LI=()=>{var e;return(e=jt(ri))!==null&&e!==void 0?e:WW},lk=()=>jt(Co),ck=()=>jt(jo),HW=()=>jt(e=>e.layout.margin),Bn=e=>e.layout.layoutType,pm=()=>jt(Bn),qW=()=>{var e=pm();return e!==void 0},V0=e=>{var t=Yn(),n=sa(),{width:r,height:i}=e,a=ok(),s=r,o=i;return a&&(s=a.width>0?a.width:r,o=a.height>0?a.height:i),v.useEffect(()=>{!n&&Rs(s)&&Rs(o)&&t(rW({width:s,height:o}))},[t,n,s,o]),null},$I=Symbol.for("immer-nothing"),ej=Symbol.for("immer-draftable"),Ca=Symbol.for("immer-state");function os(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ff=Object.getPrototypeOf;function zu(e){return!!e&&!!e[Ca]}function kc(e){var t;return e?FI(e)||Array.isArray(e)||!!e[ej]||!!((t=e.constructor)!=null&&t[ej])||gm(e)||H0(e):!1}var KW=Object.prototype.constructor.toString(),tj=new WeakMap;function FI(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=tj.get(n);return r===void 0&&(r=Function.toString.call(n),tj.set(n,r)),r===KW}function cg(e,t,n=!0){W0(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function W0(e){const t=e[Ca];return t?t.type_:Array.isArray(e)?1:gm(e)?2:H0(e)?3:0}function kb(e,t){return W0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function RI(e,t,n){const r=W0(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function GW(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function gm(e){return e instanceof Map}function H0(e){return e instanceof Set}function Hl(e){return e.copy_||e.base_}function Sb(e,t){if(gm(e))return new Map(e);if(H0(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=FI(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Ca];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(Ff(e),r)}else{const r=Ff(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function uk(e,t=!1){return q0(e)||zu(e)||!kc(e)||(W0(e)>1&&Object.defineProperties(e,{set:Ph,add:Ph,clear:Ph,delete:Ph}),Object.freeze(e),t&&Object.values(e).forEach(n=>uk(n,!0))),e}function YW(){os(2)}var Ph={value:YW};function q0(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var XW={};function Sc(e){const t=XW[e];return t||os(0,e),t}var Rf;function BI(){return Rf}function QW(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function nj(e,t){t&&(Sc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Nb(e){Cb(e),e.drafts_.forEach(ZW),e.drafts_=null}function Cb(e){e===Rf&&(Rf=e.parent_)}function rj(e){return Rf=QW(Rf,e)}function ZW(e){const t=e[Ca];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function ij(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Ca].modified_&&(Nb(t),os(4)),kc(e)&&(e=ug(t,e),t.parent_||dg(t,e)),t.patches_&&Sc("Patches").generateReplacementPatches_(n[Ca].base_,e,t.patches_,t.inversePatches_)):e=ug(t,n,[]),Nb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==$I?e:void 0}function ug(e,t,n){if(q0(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[Ca];if(!i)return cg(t,(a,s)=>aj(e,i,t,a,s,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return dg(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),cg(s,(l,c)=>aj(e,i,a,l,c,n,o),r),dg(e,a,!1),n&&e.patches_&&Sc("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function aj(e,t,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=q0(i);if(!(o&&!s)){if(zu(i)){const l=a&&t&&t.type_!==3&&!kb(t.assigned_,r)?a.concat(r):void 0,c=ug(e,i,l);if(RI(n,r,c),zu(c))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(kc(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&o)return;ug(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(gm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&dg(e,i)}}}function dg(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&uk(t,n)}function JW(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:BI(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=dk;n&&(i=[r],a=Bf);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}var dk={get(e,t){if(t===Ca)return e;const n=Hl(e);if(!kb(n,t))return eH(e,n,t);const r=n[t];return e.finalized_||!kc(r)?r:r===fv(e.base_,t)?(mv(e),e.copy_[t]=Ab(r,e)):r},has(e,t){return t in Hl(e)},ownKeys(e){return Reflect.ownKeys(Hl(e))},set(e,t,n){const r=zI(Hl(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=fv(Hl(e),t),a=i==null?void 0:i[Ca];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(GW(n,i)&&(n!==void 0||kb(e.base_,t)))return!0;mv(e),jb(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return fv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,mv(e),jb(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Hl(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){os(11)},getPrototypeOf(e){return Ff(e.base_)},setPrototypeOf(){os(12)}},Bf={};cg(dk,(e,t)=>{Bf[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Bf.deleteProperty=function(e,t){return Bf.set.call(this,e,t,void 0)};Bf.set=function(e,t,n){return dk.set.call(this,e[0],t,n,e[0])};function fv(e,t){const n=e[Ca];return(n?Hl(n):e)[t]}function eH(e,t,n){var i;const r=zI(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function zI(e,t){if(!(t in e))return;let n=Ff(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Ff(n)}}function jb(e){e.modified_||(e.modified_=!0,e.parent_&&jb(e.parent_))}function mv(e){e.copy_||(e.copy_=Sb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var tH=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const s=this;return function(l=a,...c){return s.produce(l,d=>n.call(this,d,...c))}}typeof n!="function"&&os(6),r!==void 0&&typeof r!="function"&&os(7);let i;if(kc(t)){const a=rj(this),s=Ab(t,void 0);let o=!0;try{i=n(s),o=!1}finally{o?Nb(a):Cb(a)}return nj(a,r),ij(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===$I&&(i=void 0),this.autoFreeze_&&uk(i,!0),r){const a=[],s=[];Sc("Patches").generateReplacementPatches_(t,i,a,s),r(a,s)}return i}else os(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,l=>t(l,...o));let r,i;return[this.produce(t,n,(s,o)=>{r=s,i=o}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){kc(e)||os(8),zu(e)&&(e=nH(e));const t=rj(this),n=Ab(e,void 0);return n[Ca].isManual_=!0,Cb(t),n}finishDraft(e,t){const n=e&&e[Ca];(!n||!n.isManual_)&&os(9);const{scope_:r}=n;return nj(r,t),ij(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Sc("Patches").applyPatches_;return zu(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Ab(e,t){const n=gm(e)?Sc("MapSet").proxyMap_(e,t):H0(e)?Sc("MapSet").proxySet_(e,t):JW(e,t);return(t?t.scope_:BI()).drafts_.push(n),n}function nH(e){return zu(e)||os(10,e),UI(e)}function UI(e){if(!kc(e)||q0(e))return e;const t=e[Ca];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Sb(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Sb(e,!0);return cg(n,(i,a)=>{RI(n,i,UI(a))},r),t&&(t.finalized_=!1),n}var rH=new tH;rH.produce;var iH={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},VI=aa({name:"legend",initialState:iH,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:or()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=ds(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:or()},removeLegendPayload:{reducer(e,t){var n=ds(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:or()}}}),{setLegendSize:sj,setLegendSettings:aH,addLegendPayload:WI,replaceLegendPayload:HI,removeLegendPayload:qI}=VI.actions,sH=VI.reducer,oH=["contextPayload"];function Pb(){return Pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pb.apply(null,arguments)}function oj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Uu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oj(Object(n),!0).forEach(function(r){lH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lH(e,t,n){return(t=cH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cH(e){var t=uH(e,"string");return typeof t=="symbol"?t:t+""}function uH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dH(e,t){if(e==null)return{};var n,r,i=fH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function mH(e){return e.value}function hH(e){var{contextPayload:t}=e,n=dH(e,oH),r=I5(t,e.payloadUniqBy,mH),i=Uu(Uu({},n),{},{payload:r});return v.isValidElement(e.content)?v.cloneElement(e.content,i):typeof e.content=="function"?v.createElement(e.content,i):v.createElement(wV,i)}function pH(e,t,n,r,i,a){var{layout:s,align:o,verticalAlign:l}=t,c,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?c={left:((r||0)-a.width)/2}:c=o==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?d={top:((i||0)-a.height)/2}:d=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Uu(Uu({},c),d)}function gH(e){var t=Yn();return v.useEffect(()=>{t(aH(e))},[t,e]),null}function xH(e){var t=Yn();return v.useEffect(()=>(t(sj(e)),()=>{t(sj({width:0,height:0}))}),[t,e]),null}function vH(e,t,n,r){return e==="vertical"&&Pt(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var yH={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function KI(e){var t=Kr(e,yH),n=a9(),r=p8(),i=HW(),{width:a,height:s,wrapperStyle:o,portal:l}=t,[c,d]=q5([n]),f=lk(),h=ck();if(f==null||h==null)return null;var m=f-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),p=vH(t.layout,s,a,m),g=l?o:Uu(Uu({position:"absolute",width:(p==null?void 0:p.width)||a||"auto",height:(p==null?void 0:p.height)||s||"auto"},pH(o,t,i,f,h,c)),o),y=l??r;if(y==null||n==null)return null;var x=v.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:d},v.createElement(gH,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&v.createElement(xH,{width:c.width,height:c.height}),v.createElement(hH,Pb({},t,p,{margin:i,chartWidth:f,chartHeight:h,contextPayload:n})));return ed.createPortal(x,y)}KI.displayName="Legend";function Tb(){return Tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tb.apply(null,arguments)}function lj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lj(Object(n),!0).forEach(function(r){bH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bH(e,t,n){return(t=wH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wH(e){var t=kH(e,"string");return typeof t=="symbol"?t:t+""}function kH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SH(e){return Array.isArray(e)&&Fs(e[0])&&Fs(e[1])?e.join(" ~ "):e}var NH=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:c,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(a&&a.length){var C={padding:0,margin:0},N=(o?A0(a,o):a).map((j,D)=>{if(j.type==="none")return null;var L=j.formatter||s||SH,{value:T,name:M}=j,O=T,Q=M;if(L){var ee=L(T,M,j,D,a);if(Array.isArray(ee))[O,Q]=ee;else if(ee!=null)O=ee;else return null}var ae=hv({display:"block",paddingTop:4,paddingBottom:4,color:j.color||"#000"},r);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:ae},Fs(Q)?v.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,Fs(Q)?v.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,v.createElement("span",{className:"recharts-tooltip-item-value"},O),v.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:C},N)}return null},p=hv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),g=hv({margin:0},i),y=!qr(d),x=y?d:"",b=Tn("recharts-default-tooltip",l),w=Tn("recharts-tooltip-label",c);y&&f&&a!==void 0&&a!==null&&(x=f(d,a));var k=h?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",Tb({className:b,style:p},k),v.createElement("p",{className:w,style:g},v.isValidElement(x)?x:"".concat(x)),m())},jd="recharts-tooltip-wrapper",CH={visibility:"hidden"};function jH(e){var{coordinate:t,translateX:n,translateY:r}=e;return Tn(jd,{["".concat(jd,"-right")]:Pt(n)&&t&&Pt(t.x)&&n>=t.x,["".concat(jd,"-left")]:Pt(n)&&t&&Pt(t.x)&&n<t.x,["".concat(jd,"-bottom")]:Pt(r)&&t&&Pt(t.y)&&r>=t.y,["".concat(jd,"-top")]:Pt(r)&&t&&Pt(t.y)&&r<t.y})}function cj(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=e;if(a&&Pt(a[r]))return a[r];var d=n[r]-o-(i>0?i:0),f=n[r]+i;if(t[r])return s[r]?d:f;var h=l[r];if(h==null)return 0;if(s[r]){var m=d,p=h;return m<p?Math.max(f,h):Math.max(d,h)}if(c==null)return 0;var g=f+o,y=h+c;return g>y?Math.max(d,h):Math.max(f,h)}function AH(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function PH(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:l}=e,c,d,f;return s.height>0&&s.width>0&&n?(d=cj({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=cj({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=AH({translateX:d,translateY:f,useTranslate3d:o})):c=CH,{cssProperties:c,cssClasses:jH({translateX:d,translateY:f,coordinate:n})}}function uj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Th(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uj(Object(n),!0).forEach(function(r){Eb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Eb(e,t,n){return(t=TH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TH(e){var t=EH(e,"string");return typeof t=="symbol"?t:t+""}function EH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class DH extends v.PureComponent{constructor(){super(...arguments),Eb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Eb(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:c,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:p,lastBoundingBox:g,innerRef:y,hasPortalFromProps:x}=this.props,{cssClasses:b,cssProperties:w}=PH({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:c,position:d,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:h,viewBox:m}),k=x?{}:Th(Th({transition:l&&t?"transform ".concat(r,"ms ").concat(i):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),C=Th(Th({},k),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},p);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:C,ref:y},a)}}var GI=()=>{var e;return(e=jt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Db(){return Db=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Db.apply(null,arguments)}function dj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dj(Object(n),!0).forEach(function(r){MH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MH(e,t,n){return(t=OH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OH(e){var t=IH(e,"string");return typeof t=="symbol"?t:t+""}function IH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mj={curveBasisClosed:I8,curveBasisOpen:_8,curveBasis:O8,curveBumpX:y8,curveBumpY:b8,curveLinearClosed:L8,curveLinear:y0,curveMonotoneX:$8,curveMonotoneY:F8,curveNatural:R8,curveStep:B8,curveStepAfter:U8,curveStepBefore:z8},fg=e=>Br(e.x)&&Br(e.y),hj=e=>e.base!=null&&fg(e.base)&&fg(e),Ad=e=>e.x,Pd=e=>e.y,_H=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(um(e));return(n==="curveMonotone"||n==="curveBump")&&t?mj["".concat(n).concat(t==="vertical"?"Y":"X")]:mj[n]||y0},LH=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,s=_H(t,i),o=a?n.filter(fg):n,l;if(Array.isArray(r)){var c=n.map((m,p)=>fj(fj({},m),{},{base:r[p]}));i==="vertical"?l=wh().y(Pd).x1(Ad).x0(m=>m.base.x):l=wh().x(Ad).y1(Pd).y0(m=>m.base.y);var d=l.defined(hj).curve(s),f=a?c.filter(hj):c;return d(f)}i==="vertical"&&Pt(r)?l=wh().y(Pd).x1(Ad).x0(r):Pt(r)?l=wh().x(Ad).y1(Pd).y0(r):l=JO().x(Ad).y(Pd);var h=l.defined(fg).curve(s);return h(o)},fk=e=>{var{className:t,points:n,path:r,pathRef:i}=e,a=pm();if((!n||!n.length)&&!r)return null;var s={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},o=n&&n.length?LH(s):r;return v.createElement("path",Db({},Ka(e),U1(e),{className:Tn("recharts-curve",t),d:o===null?void 0:o,ref:i}))},$H=["x","y","top","left","width","height","className"];function Mb(){return Mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mb.apply(null,arguments)}function pj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function FH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pj(Object(n),!0).forEach(function(r){RH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RH(e,t,n){return(t=BH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BH(e){var t=zH(e,"string");return typeof t=="symbol"?t:t+""}function zH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UH(e,t){if(e==null)return{};var n,r,i=VH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function VH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var WH=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),HH=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:o}=e,l=UH(e,$H),c=FH({x:t,y:n,top:r,left:i,width:a,height:s},l);return!Pt(t)||!Pt(n)||!Pt(a)||!Pt(s)||!Pt(r)||!Pt(i)?null:v.createElement("path",Mb({},Bi(c),{className:Tn("recharts-cross",o),d:WH(t,n,a,s,r,i)}))};function qH(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function gj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gj(Object(n),!0).forEach(function(r){KH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KH(e,t,n){return(t=GH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GH(e){var t=YH(e,"string");return typeof t=="symbol"?t:t+""}function YH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XH=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),YI=(e,t,n)=>e.map(r=>"".concat(XH(r)," ").concat(t,"ms ").concat(n)).join(","),QH=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),zf=(e,t)=>Object.keys(t).reduce((n,r)=>xj(xj({},n),{},{[r]:e(r,t[r])}),{});function vj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vj(Object(n),!0).forEach(function(r){ZH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZH(e,t,n){return(t=JH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JH(e){var t=e7(e,"string");return typeof t=="symbol"?t:t+""}function e7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mg=(e,t,n)=>e+(t-e)*n,Ob=e=>{var{from:t,to:n}=e;return t!==n},XI=(e,t,n)=>{var r=zf((i,a)=>{if(Ob(a)){var[s,o]=e(a.from,a.to,a.velocity);return Wr(Wr({},a),{},{from:s,velocity:o})}return a},t);return n<1?zf((i,a)=>Ob(a)&&r[i]!=null?Wr(Wr({},a),{},{velocity:mg(a.velocity,r[i].velocity,n),from:mg(a.from,r[i].from,n)}):a,t):XI(e,r,n-1)};function t7(e,t,n,r,i,a){var s,o=r.reduce((h,m)=>Wr(Wr({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),l=()=>zf((h,m)=>m.from,o),c=()=>!Object.values(o).filter(Ob).length,d=null,f=h=>{s||(s=h);var m=h-s,p=m/n.dt;o=XI(n,o,p),i(Wr(Wr(Wr({},e),t),l())),s=h,c()||(d=a.setTimeout(f))};return()=>(d=a.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function n7(e,t,n,r,i,a,s){var o=null,l=i.reduce((f,h)=>{var m=e[h],p=t[h];return m==null||p==null?f:Wr(Wr({},f),{},{[h]:[m,p]})},{}),c,d=f=>{c||(c=f);var h=(f-c)/r,m=zf((g,y)=>mg(...y,n(h)),l);if(a(Wr(Wr(Wr({},e),t),m)),h<1)o=s.setTimeout(d);else{var p=zf((g,y)=>mg(...y,n(1)),l);a(Wr(Wr(Wr({},e),t),p))}};return()=>(o=s.setTimeout(d),()=>{var f;(f=o)===null||f===void 0||f()})}const r7=(e,t,n,r,i,a)=>{var s=QH(e,t);return n==null?()=>(i(Wr(Wr({},e),t)),()=>{}):n.isStepper===!0?t7(e,t,n,s,i,a):n7(e,t,n,r,s,i,a)};var hg=1e-4,QI=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],ZI=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),yj=(e,t)=>n=>{var r=QI(e,t);return ZI(r,n)},i7=(e,t)=>n=>{var r=QI(e,t),i=[...r.map((a,s)=>a*s).slice(1),0];return ZI(i,n)},a7=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},s7=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=a7(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},o7=(e,t,n,r)=>{var i=yj(e,n),a=yj(t,r),s=i7(e,n),o=c=>c>1?1:c<0?0:c,l=c=>{for(var d=c>1?1:c,f=d,h=0;h<8;++h){var m=i(f)-d,p=s(f);if(Math.abs(m-d)<hg||p<hg)return a(f);f=o(f-m/p)}return a(f)};return l.isStepper=!1,l},bj=function(){return o7(...s7(...arguments))},l7=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(s,o,l)=>{var c=-(s-o)*n,d=l*r,f=l+(c-d)*i/1e3,h=l*i/1e3+s;return Math.abs(h-o)<hg&&Math.abs(f)<hg?[o,0]:[h,f]};return a.isStepper=!0,a.dt=i,a},c7=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return bj(e);case"spring":return l7();default:if(e.split("(")[0]==="cubic-bezier")return bj(e)}return typeof e=="function"?e:null};function u7(e){var t,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...c]=o;if(typeof l=="number"){i=e.setTimeout(a.bind(null,c),l);return}a(l),i=e.setTimeout(a.bind(null,c));return}typeof s=="string"&&(t=s,n(t)),typeof s=="object"&&(t=s,n(t)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>e}}class d7{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function f7(){return u7(new d7)}var m7=v.createContext(f7);function h7(e,t){var n=v.useContext(m7);return v.useMemo(()=>t??n(e),[e,t,n])}var p7=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),K0={isSsr:p7()},g7={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},wj={t:0},pv={t:1};function G0(e){var t=Kr(e,g7),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:c}=t,d=n==="auto"?!K0.isSsr:n,f=h7(t.animationId,t.animationManager),[h,m]=v.useState(d?wj:pv),p=v.useRef(null);return v.useEffect(()=>{d||m(pv)},[d]),v.useEffect(()=>{if(!d||!r)return dm;var g=r7(wj,pv,c7(a),i,m,f.getTimeoutController()),y=()=>{p.current=g()};return f.start([l,s,y,i,o]),()=>{f.stop(),p.current&&p.current(),o()}},[d,r,i,a,s,l,o,f]),c(h.t)}function Y0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=v.useRef(If(t)),r=v.useRef(e);return r.current!==e&&(n.current=If(t),r.current=e),n.current}var x7=["radius"],v7=["radius"],kj,Sj,Nj,Cj,jj,Aj,Pj,Tj,Ej,Dj;function Mj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Oj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mj(Object(n),!0).forEach(function(r){y7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function y7(e,t,n){return(t=b7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b7(e){var t=w7(e,"string");return typeof t=="symbol"?t:t+""}function w7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pg(){return pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pg.apply(null,arguments)}function Ij(e,t){if(e==null)return{};var n,r,i=k7(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function k7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Cs(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var _j=(e,t,n,r,i)=>{var a=el(n),s=el(r),o=Math.min(Math.abs(a)/2,Math.abs(s)/2),l=s>=0?1:-1,c=a>=0?1:-1,d=s>=0&&a>=0||s<0&&a<0?1:0,f;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,p=4;m<p;m++)h[m]=i[m]>o?o:i[m];f=Sr(kj||(kj=Cs(["M",",",""])),e,t+l*h[0]),h[0]>0&&(f+=Sr(Sj||(Sj=Cs(["A ",",",",0,0,",",",",",""])),h[0],h[0],d,e+c*h[0],t)),f+=Sr(Nj||(Nj=Cs(["L ",",",""])),e+n-c*h[1],t),h[1]>0&&(f+=Sr(Cj||(Cj=Cs(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],d,e+n,t+l*h[1])),f+=Sr(jj||(jj=Cs(["L ",",",""])),e+n,t+r-l*h[2]),h[2]>0&&(f+=Sr(Aj||(Aj=Cs(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],d,e+n-c*h[2],t+r)),f+=Sr(Pj||(Pj=Cs(["L ",",",""])),e+c*h[3],t+r),h[3]>0&&(f+=Sr(Tj||(Tj=Cs(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],d,e,t+r-l*h[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);f=Sr(Ej||(Ej=Cs(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+l*g,g,g,d,e+c*g,t,e+n-c*g,t,g,g,d,e+n,t+l*g,e+n,t+r-l*g,g,g,d,e+n-c*g,t+r,e+c*g,t+r,g,g,d,e,t+r-l*g)}else f=Sr(Dj||(Dj=Cs(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return f},Lj={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},JI=e=>{var t=Kr(e,Lj),n=v.useRef(null),[r,i]=v.useState(-1);v.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Z=n.current.getTotalLength();Z&&i(Z)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:c,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:g}=t,y=v.useRef(o),x=v.useRef(l),b=v.useRef(a),w=v.useRef(s),k=v.useMemo(()=>({x:a,y:s,width:o,height:l,radius:c}),[a,s,o,l,c]),C=Y0(k,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var N=Tn("recharts-rectangle",d);if(!g){var j=Bi(t),{radius:D}=j,L=Ij(j,x7);return v.createElement("path",pg({},L,{x:el(a),y:el(s),width:el(o),height:el(l),radius:typeof c=="number"?c:void 0,className:N,d:_j(a,s,o,l,c)}))}var T=y.current,M=x.current,O=b.current,Q=w.current,ee="0px ".concat(r===-1?1:r,"px"),ae="".concat(r,"px 0px"),de=YI(["strokeDasharray"],h,typeof f=="string"?f:Lj.animationEasing);return v.createElement(G0,{animationId:C,key:C,canBegin:r>0,duration:h,easing:f,isActive:g,begin:m},Z=>{var Y=Si(T,o,Z),_=Si(M,l,Z),E=Si(O,a,Z),A=Si(Q,s,Z);n.current&&(y.current=Y,x.current=_,b.current=E,w.current=A);var te;p?Z>0?te={transition:de,strokeDasharray:ae}:te={strokeDasharray:ee}:te={strokeDasharray:ae};var S=Bi(t),{radius:U}=S,q=Ij(S,v7);return v.createElement("path",pg({},q,{radius:typeof c=="number"?c:void 0,className:N,d:_j(E,A,Y,_,c),ref:n,style:Oj(Oj({},te),t.style)}))})};function $j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$j(Object(n),!0).forEach(function(r){S7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$j(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function S7(e,t,n){return(t=N7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N7(e){var t=C7(e,"string");return typeof t=="symbol"?t:t+""}function C7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gg=Math.PI/180,j7=e=>e*180/Math.PI,Fr=(e,t,n,r)=>({x:e+Math.cos(-gg*r)*n,y:t+Math.sin(-gg*r)*n}),e_=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},A7=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},P7=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,s=A7({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(n-i)/s,l=Math.acos(o);return r>a&&(l=2*Math.PI-l),{radius:s,angle:j7(l),angleInRadian:l}},T7=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},E7=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return e+s*360},D7=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=P7({x:n,y:r},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:c}=T7(t),d=a,f;if(l<=c){for(;d>c;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=c}else{for(;d>l;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=l}return f?Fj(Fj({},t),{},{radius:i,angle:E7(d,t)}):null};function t_(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,s=Fr(t,n,r,i),o=Fr(t,n,r,a);return{points:[s,o],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}var Rj,Bj,zj,Uj,Vj,Wj,Hj;function Ib(){return Ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ib.apply(null,arguments)}function ec(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var M7=(e,t)=>{var n=Ni(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Eh=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,c=o*(s?1:-1)+r,d=Math.asin(o/c)/gg,f=l?i:i+a*d,h=Fr(t,n,c,f),m=Fr(t,n,r,f),p=l?i-a*d:i,g=Fr(t,n,c*Math.cos(d*gg),p);return{center:h,circleTangency:m,lineTangency:g,theta:d}},n_=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=e,o=M7(a,s),l=a+o,c=Fr(t,n,i,a),d=Fr(t,n,i,l),f=Sr(Rj||(Rj=ec(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),c.x,c.y,i,i,+(Math.abs(o)>180),+(a>l),d.x,d.y);if(r>0){var h=Fr(t,n,r,a),m=Fr(t,n,r,l);f+=Sr(Bj||(Bj=ec(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,r,r,+(Math.abs(o)>180),+(a<=l),h.x,h.y)}else f+=Sr(zj||(zj=ec(["L ",","," Z"])),t,n);return f},O7=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:c}=e,d=Ni(c-l),{circleTangency:f,lineTangency:h,theta:m}=Eh({cx:t,cy:n,radius:i,angle:l,sign:d,cornerRadius:a,cornerIsExternal:o}),{circleTangency:p,lineTangency:g,theta:y}=Eh({cx:t,cy:n,radius:i,angle:c,sign:-d,cornerRadius:a,cornerIsExternal:o}),x=o?Math.abs(l-c):Math.abs(l-c)-m-y;if(x<0)return s?Sr(Uj||(Uj=ec(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,a,a,a*2,a,a,-a*2):n_({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var b=Sr(Vj||(Vj=ec(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,a,a,+(d<0),f.x,f.y,i,i,+(x>180),+(d<0),p.x,p.y,a,a,+(d<0),g.x,g.y);if(r>0){var{circleTangency:w,lineTangency:k,theta:C}=Eh({cx:t,cy:n,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:N,lineTangency:j,theta:D}=Eh({cx:t,cy:n,radius:r,angle:c,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),L=o?Math.abs(l-c):Math.abs(l-c)-C-D;if(L<0&&a===0)return"".concat(b,"L").concat(t,",").concat(n,"Z");b+=Sr(Wj||(Wj=ec(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),j.x,j.y,a,a,+(d<0),N.x,N.y,r,r,+(L>180),+(d>0),w.x,w.y,a,a,+(d<0),k.x,k.y)}else b+=Sr(Hj||(Hj=ec(["L",",","Z"])),t,n);return b},I7={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},r_=e=>{var t=Kr(e,I7),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d,className:f}=t;if(a<i||c===d)return null;var h=Tn("recharts-sector",f),m=a-i,p=wa(s,m,0,!0),g;return p>0&&Math.abs(c-d)<360?g=O7({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(p,m/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d}):g=n_({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:d}),v.createElement("path",Ib({},Bi(t),{className:h,d:g}))};function _7(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(p5(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:o}=t,l=Fr(r,i,a,o),c=Fr(r,i,s,o);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return t_(t)}}var i_={},a_={},s_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J1;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(s_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s_;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(a_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ek,n=a_;function r(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let c=0;c<o;c++)l[c]=i,i+=s;return l}e.range=r})(i_);var L7=i_.range;const o_=ys(L7);function ul(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function $7(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function mk(e){let t,n,r;e.length!==2?(t=ul,n=(o,l)=>ul(e(o),l),r=(o,l)=>e(o)-l):(t=e===ul||e===$7?e:F7,n=e,r=e);function i(o,l,c=0,d=o.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;n(o[f],l)<0?c=f+1:d=f}while(c<d)}return c}function a(o,l,c=0,d=o.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;n(o[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function s(o,l,c=0,d=o.length){const f=i(o,l,c,d-1);return f>c&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function F7(){return 0}function l_(e){return e===null?NaN:+e}function*R7(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const B7=mk(ul),xm=B7.right;mk(l_).center;class qj extends Map{constructor(t,n=V7){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Kj(this,t))}has(t){return super.has(Kj(this,t))}set(t,n){return super.set(z7(this,t),n)}delete(t){return super.delete(U7(this,t))}}function Kj({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function z7({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function U7({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function V7(e){return e!==null&&typeof e=="object"?e.valueOf():e}function W7(e=ul){if(e===ul)return c_;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function c_(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const H7=Math.sqrt(50),q7=Math.sqrt(10),K7=Math.sqrt(2);function xg(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=H7?10:a>=q7?5:a>=K7?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=n&&n<2?xg(e,t,n*2):[o,l,c]}function _b(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?xg(t,e,n):xg(e,t,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function Lb(e,t,n){return t=+t,e=+e,n=+n,xg(e,t,n)[2]}function $b(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Lb(t,e,n):Lb(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Gj(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Yj(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function u_(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?c_:W7(i);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),m=Math.max(n,Math.floor(t-c*f/l+h)),p=Math.min(r,Math.floor(t+(l-c)*f/l+h));u_(e,t,m,p,i)}const a=e[t];let s=n,o=r;for(Td(e,n,t),i(e[r],a)>0&&Td(e,n,r);s<o;){for(Td(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[n],a)===0?Td(e,n,o):(++o,Td(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function Td(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function G7(e,t,n){if(e=Float64Array.from(R7(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Yj(e);if(t>=1)return Gj(e);var r,i=(r-1)*t,a=Math.floor(i),s=Gj(u_(e,a).subarray(0,a+1)),o=Yj(e.subarray(a+1));return s+(o-s)*(i-a)}}function Y7(e,t,n=l_){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),o=+n(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function X7(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Xa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ao(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Fb=Symbol("implicit");function hk(){var e=new qj,t=[],n=[],r=Fb;function i(a){let s=e.get(a);if(s===void 0){if(r!==Fb)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new qj;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return hk(t,n).unknown(r)},Xa.apply(i,arguments),i}function pk(){var e=hk().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,o=!1,l=0,c=0,d=.5;delete e.unknown;function f(){var h=t().length,m=i<r,p=m?i:r,g=m?r:i;a=(g-p)/Math.max(1,h-l+c*2),o&&(a=Math.floor(a)),p+=(g-p-a*(h-l))*d,s=a*(1-l),o&&(p=Math.round(p),s=Math.round(s));var y=X7(h).map(function(x){return p+a*x});return n(m?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return pk(t(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(d)},Xa.apply(f(),arguments)}function d_(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return d_(t())},e}function Q7(){return d_(pk.apply(null,arguments).paddingInner(1))}function gk(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function f_(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function vm(){}var Uf=.7,vg=1/Uf,Au="\\s*([+-]?\\d+)\\s*",Vf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_s="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Z7=/^#([0-9a-f]{3,8})$/,J7=new RegExp(`^rgb\\(${Au},${Au},${Au}\\)$`),eq=new RegExp(`^rgb\\(${_s},${_s},${_s}\\)$`),tq=new RegExp(`^rgba\\(${Au},${Au},${Au},${Vf}\\)$`),nq=new RegExp(`^rgba\\(${_s},${_s},${_s},${Vf}\\)$`),rq=new RegExp(`^hsl\\(${Vf},${_s},${_s}\\)$`),iq=new RegExp(`^hsla\\(${Vf},${_s},${_s},${Vf}\\)$`),Xj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gk(vm,Wf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Qj,formatHex:Qj,formatHex8:aq,formatHsl:sq,formatRgb:Zj,toString:Zj});function Qj(){return this.rgb().formatHex()}function aq(){return this.rgb().formatHex8()}function sq(){return m_(this).formatHsl()}function Zj(){return this.rgb().formatRgb()}function Wf(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Z7.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Jj(t):n===3?new Qi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Dh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Dh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=J7.exec(e))?new Qi(t[1],t[2],t[3],1):(t=eq.exec(e))?new Qi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=tq.exec(e))?Dh(t[1],t[2],t[3],t[4]):(t=nq.exec(e))?Dh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=rq.exec(e))?nA(t[1],t[2]/100,t[3]/100,1):(t=iq.exec(e))?nA(t[1],t[2]/100,t[3]/100,t[4]):Xj.hasOwnProperty(e)?Jj(Xj[e]):e==="transparent"?new Qi(NaN,NaN,NaN,0):null}function Jj(e){return new Qi(e>>16&255,e>>8&255,e&255,1)}function Dh(e,t,n,r){return r<=0&&(e=t=n=NaN),new Qi(e,t,n,r)}function oq(e){return e instanceof vm||(e=Wf(e)),e?(e=e.rgb(),new Qi(e.r,e.g,e.b,e.opacity)):new Qi}function Rb(e,t,n,r){return arguments.length===1?oq(e):new Qi(e,t,n,r??1)}function Qi(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}gk(Qi,Rb,f_(vm,{brighter(e){return e=e==null?vg:Math.pow(vg,e),new Qi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Uf:Math.pow(Uf,e),new Qi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Qi(uc(this.r),uc(this.g),uc(this.b),yg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:eA,formatHex:eA,formatHex8:lq,formatRgb:tA,toString:tA}));function eA(){return`#${tc(this.r)}${tc(this.g)}${tc(this.b)}`}function lq(){return`#${tc(this.r)}${tc(this.g)}${tc(this.b)}${tc((isNaN(this.opacity)?1:this.opacity)*255)}`}function tA(){const e=yg(this.opacity);return`${e===1?"rgb(":"rgba("}${uc(this.r)}, ${uc(this.g)}, ${uc(this.b)}${e===1?")":`, ${e})`}`}function yg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function uc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function tc(e){return e=uc(e),(e<16?"0":"")+e.toString(16)}function nA(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ls(e,t,n,r)}function m_(e){if(e instanceof ls)return new ls(e.h,e.s,e.l,e.opacity);if(e instanceof vm||(e=Wf(e)),!e)return new ls;if(e instanceof ls)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-t)/o+2:s=(t-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new ls(s,o,l,e.opacity)}function cq(e,t,n,r){return arguments.length===1?m_(e):new ls(e,t,n,r??1)}function ls(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}gk(ls,cq,f_(vm,{brighter(e){return e=e==null?vg:Math.pow(vg,e),new ls(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Uf:Math.pow(Uf,e),new ls(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Qi(gv(e>=240?e-240:e+120,i,r),gv(e,i,r),gv(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new ls(rA(this.h),Mh(this.s),Mh(this.l),yg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=yg(this.opacity);return`${e===1?"hsl(":"hsla("}${rA(this.h)}, ${Mh(this.s)*100}%, ${Mh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function rA(e){return e=(e||0)%360,e<0?e+360:e}function Mh(e){return Math.max(0,Math.min(1,e||0))}function gv(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const xk=e=>()=>e;function uq(e,t){return function(n){return e+n*t}}function dq(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function fq(e){return(e=+e)==1?h_:function(t,n){return n-t?dq(t,n,e):xk(isNaN(t)?n:t)}}function h_(e,t){var n=t-e;return n?uq(e,n):xk(isNaN(e)?t:e)}const iA=function e(t){var n=fq(t);function r(i,a){var s=n((i=Rb(i)).r,(a=Rb(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),c=h_(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=e,r}(1);function mq(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function hq(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function pq(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=td(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function gq(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function bg(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function xq(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=td(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Bb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xv=new RegExp(Bb.source,"g");function vq(e){return function(){return e}}function yq(e){return function(t){return e(t)+""}}function bq(e,t){var n=Bb.lastIndex=xv.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(r=Bb.exec(e))&&(i=xv.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:bg(r,i)})),n=xv.lastIndex;return n<t.length&&(a=t.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?yq(l[0].x):vq(t):(t=l.length,function(c){for(var d=0,f;d<t;++d)o[(f=l[d]).i]=f.x(c);return o.join("")})}function td(e,t){var n=typeof t,r;return t==null||n==="boolean"?xk(t):(n==="number"?bg:n==="string"?(r=Wf(t))?(t=r,iA):bq:t instanceof Wf?iA:t instanceof Date?gq:hq(t)?mq:Array.isArray(t)?pq:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?xq:bg)(e,t)}function vk(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function wq(e,t){t===void 0&&(t=e,e=td);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function kq(e){return function(){return e}}function wg(e){return+e}var aA=[0,1];function Fi(e){return e}function zb(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:kq(isNaN(t)?NaN:.5)}function Sq(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Nq(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=zb(i,r),a=n(s,a)):(r=zb(r,i),a=n(a,s)),function(o){return a(r(o))}}function Cq(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=zb(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(o){var l=xm(e,o,1,r)-1;return a[l](i[l](o))}}function ym(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function X0(){var e=aA,t=aA,n=td,r,i,a,s=Fi,o,l,c;function d(){var h=Math.min(e.length,t.length);return s!==Fi&&(s=Sq(e[0],e[h-1])),o=h>2?Cq:Nq,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=o(e.map(r),t,n)))(r(s(h)))}return f.invert=function(h){return s(i((c||(c=o(t,e.map(r),bg)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,wg),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=vk,d()},f.clamp=function(h){return arguments.length?(s=h?!0:Fi,d()):s!==Fi},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,m){return r=h,i=m,d()}}function yk(){return X0()(Fi,Fi)}function jq(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function kg(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Vu(e){return e=kg(Math.abs(e)),e?e[1]:NaN}function Aq(e,t){return function(n,r){for(var i=n.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function Pq(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Tq=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Hf(e){if(!(t=Tq.exec(e)))throw new Error("invalid format: "+e);var t;return new bk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Hf.prototype=bk.prototype;function bk(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}bk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Eq(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Sg;function Dq(e,t){var n=kg(e,t);if(!n)return Sg=void 0,e.toPrecision(t);var r=n[0],i=n[1],a=i-(Sg=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+kg(e,Math.max(0,t+a-1))[0]}function sA(e,t){var n=kg(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const oA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:jq,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>sA(e*100,t),r:sA,s:Dq,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function lA(e){return e}var cA=Array.prototype.map,uA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Mq(e){var t=e.grouping===void 0||e.thousands===void 0?lA:Aq(cA.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?lA:Pq(cA.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f,h){f=Hf(f);var m=f.fill,p=f.align,g=f.sign,y=f.symbol,x=f.zero,b=f.width,w=f.comma,k=f.precision,C=f.trim,N=f.type;N==="n"?(w=!0,N="g"):oA[N]||(k===void 0&&(k=12),C=!0,N="g"),(x||m==="0"&&p==="=")&&(x=!0,m="0",p="=");var j=(h&&h.prefix!==void 0?h.prefix:"")+(y==="$"?n:y==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():""),D=(y==="$"?r:/[%p]/.test(N)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),L=oA[N],T=/[defgprs%]/.test(N);k=k===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function M(O){var Q=j,ee=D,ae,de,Z;if(N==="c")ee=L(O)+ee,O="";else{O=+O;var Y=O<0||1/O<0;if(O=isNaN(O)?l:L(Math.abs(O),k),C&&(O=Eq(O)),Y&&+O==0&&g!=="+"&&(Y=!1),Q=(Y?g==="("?g:o:g==="-"||g==="("?"":g)+Q,ee=(N==="s"&&!isNaN(O)&&Sg!==void 0?uA[8+Sg/3]:"")+ee+(Y&&g==="("?")":""),T){for(ae=-1,de=O.length;++ae<de;)if(Z=O.charCodeAt(ae),48>Z||Z>57){ee=(Z===46?i+O.slice(ae+1):O.slice(ae))+ee,O=O.slice(0,ae);break}}}w&&!x&&(O=t(O,1/0));var _=Q.length+O.length+ee.length,E=_<b?new Array(b-_+1).join(m):"";switch(w&&x&&(O=t(E+O,E.length?b-ee.length:1/0),E=""),p){case"<":O=Q+O+ee+E;break;case"=":O=Q+E+O+ee;break;case"^":O=E.slice(0,_=E.length>>1)+Q+O+ee+E.slice(_);break;default:O=E+Q+O+ee;break}return a(O)}return M.toString=function(){return f+""},M}function d(f,h){var m=Math.max(-8,Math.min(8,Math.floor(Vu(h)/3)))*3,p=Math.pow(10,-m),g=c((f=Hf(f),f.type="f",f),{suffix:uA[8+m/3]});return function(y){return g(p*y)}}return{format:c,formatPrefix:d}}var Oh,wk,p_;Oq({thousands:",",grouping:[3],currency:["$",""]});function Oq(e){return Oh=Mq(e),wk=Oh.format,p_=Oh.formatPrefix,Oh}function Iq(e){return Math.max(0,-Vu(Math.abs(e)))}function _q(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Vu(t)/3)))*3-Vu(Math.abs(e)))}function Lq(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Vu(t)-Vu(e))+1}function g_(e,t,n,r){var i=$b(e,t,n),a;switch(r=Hf(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=_q(i,s))&&(r.precision=a),p_(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Lq(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Iq(i))&&(r.precision=a-(r.type==="%")*2);break}}return wk(r)}function kl(e){var t=e.domain;return e.ticks=function(n){var r=t();return _b(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return g_(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],o=r[a],l,c,d=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);d-- >0;){if(c=Lb(s,o,n),c===l)return r[i]=s,r[a]=o,t(r);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function x_(){var e=yk();return e.copy=function(){return ym(e,x_())},Xa.apply(e,arguments),kl(e)}function v_(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,wg),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return v_(e).unknown(t)},e=arguments.length?Array.from(e,wg):[0,1],kl(n)}function y_(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function dA(e){return Math.log(e)}function fA(e){return Math.exp(e)}function $q(e){return-Math.log(-e)}function Fq(e){return-Math.exp(-e)}function Rq(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Bq(e){return e===10?Rq:e===Math.E?Math.exp:t=>Math.pow(e,t)}function zq(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function mA(e){return(t,n)=>-e(-t,n)}function kk(e){const t=e(dA,fA),n=t.domain;let r=10,i,a;function s(){return i=zq(r),a=Bq(r),n()[0]<0?(i=mA(i),a=mA(a),e($q,Fq)):e(dA,fA),t}return t.base=function(o){return arguments.length?(r=+o,s()):r},t.domain=function(o){return arguments.length?(n(o),s()):n()},t.ticks=o=>{const l=n();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=i(c),m=i(d),p,g;const y=o==null?10:+o;let x=[];if(!(r%1)&&m-h<y){if(h=Math.floor(h),m=Math.ceil(m),c>0){for(;h<=m;++h)for(p=1;p<r;++p)if(g=h<0?p/a(-h):p*a(h),!(g<c)){if(g>d)break;x.push(g)}}else for(;h<=m;++h)for(p=r-1;p>=1;--p)if(g=h>0?p/a(-h):p*a(h),!(g<c)){if(g>d)break;x.push(g)}x.length*2<y&&(x=_b(c,d,y))}else x=_b(h,m,Math.min(m-h,y)).map(a);return f?x.reverse():x},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Hf(l)).precision==null&&(l.trim=!0),l=wk(l)),o===1/0)return l;const c=Math.max(1,r*o/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=c?l(d):""}},t.nice=()=>n(y_(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function b_(){const e=kk(X0()).domain([1,10]);return e.copy=()=>ym(e,b_()).base(e.base()),Xa.apply(e,arguments),e}function hA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function pA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Sk(e){var t=1,n=e(hA(t),pA(t));return n.constant=function(r){return arguments.length?e(hA(t=+r),pA(t)):t},kl(n)}function w_(){var e=Sk(X0());return e.copy=function(){return ym(e,w_()).constant(e.constant())},Xa.apply(e,arguments)}function gA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Uq(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Vq(e){return e<0?-e*e:e*e}function Nk(e){var t=e(Fi,Fi),n=1;function r(){return n===1?e(Fi,Fi):n===.5?e(Uq,Vq):e(gA(n),gA(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},kl(t)}function Ck(){var e=Nk(X0());return e.copy=function(){return ym(e,Ck()).exponent(e.exponent())},Xa.apply(e,arguments),e}function Wq(){return Ck.apply(null,arguments).exponent(.5)}function xA(e){return Math.sign(e)*e*e}function Hq(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function k_(){var e=yk(),t=[0,1],n=!1,r;function i(a){var s=Hq(e(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return e.invert(xA(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,wg)).map(xA)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return k_(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Xa.apply(i,arguments),kl(i)}function S_(){var e=[],t=[],n=[],r;function i(){var s=0,o=Math.max(1,t.length);for(n=new Array(o-1);++s<o;)n[s-1]=Y7(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:t[xm(n,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:e[0],o<n.length?n[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(ul),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return S_().domain(e).range(t).unknown(r)},Xa.apply(a,arguments)}function N_(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[xm(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return N_().domain([e,t]).range(i).unknown(a)},Xa.apply(kl(s),arguments)}function C_(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[xm(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return C_().domain(e).range(t).unknown(n)},Xa.apply(i,arguments)}const vv=new Date,yv=new Date;function Gr(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),t(a,o),e(a);while(c<a&&a<s);return l},i.filter=a=>Gr(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(vv.setTime(+a),yv.setTime(+s),e(vv),e(yv),Math.floor(n(vv,yv))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Ng=Gr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ng.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Gr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Ng);Ng.range;const io=1e3,Va=io*60,ao=Va*60,yo=ao*24,jk=yo*7,vA=yo*30,bv=yo*365,nc=Gr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*io)},(e,t)=>(t-e)/io,e=>e.getUTCSeconds());nc.range;const Ak=Gr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*io)},(e,t)=>{e.setTime(+e+t*Va)},(e,t)=>(t-e)/Va,e=>e.getMinutes());Ak.range;const Pk=Gr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Va)},(e,t)=>(t-e)/Va,e=>e.getUTCMinutes());Pk.range;const Tk=Gr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*io-e.getMinutes()*Va)},(e,t)=>{e.setTime(+e+t*ao)},(e,t)=>(t-e)/ao,e=>e.getHours());Tk.range;const Ek=Gr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ao)},(e,t)=>(t-e)/ao,e=>e.getUTCHours());Ek.range;const bm=Gr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Va)/yo,e=>e.getDate()-1);bm.range;const Q0=Gr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/yo,e=>e.getUTCDate()-1);Q0.range;const j_=Gr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/yo,e=>Math.floor(e/yo));j_.range;function Dc(e){return Gr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Va)/jk)}const Z0=Dc(0),Cg=Dc(1),qq=Dc(2),Kq=Dc(3),Wu=Dc(4),Gq=Dc(5),Yq=Dc(6);Z0.range;Cg.range;qq.range;Kq.range;Wu.range;Gq.range;Yq.range;function Mc(e){return Gr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/jk)}const J0=Mc(0),jg=Mc(1),Xq=Mc(2),Qq=Mc(3),Hu=Mc(4),Zq=Mc(5),Jq=Mc(6);J0.range;jg.range;Xq.range;Qq.range;Hu.range;Zq.range;Jq.range;const Dk=Gr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Dk.range;const Mk=Gr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Mk.range;const bo=Gr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());bo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Gr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});bo.range;const wo=Gr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());wo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Gr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});wo.range;function A_(e,t,n,r,i,a){const s=[[nc,1,io],[nc,5,5*io],[nc,15,15*io],[nc,30,30*io],[a,1,Va],[a,5,5*Va],[a,15,15*Va],[a,30,30*Va],[i,1,ao],[i,3,3*ao],[i,6,6*ao],[i,12,12*ao],[r,1,yo],[r,2,2*yo],[n,1,jk],[t,1,vA],[t,3,3*vA],[e,1,bv]];function o(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const m=f&&typeof f.range=="function"?f:l(c,d,f),p=m?m.range(c,+d+1):[];return h?p.reverse():p}function l(c,d,f){const h=Math.abs(d-c)/f,m=mk(([,,y])=>y).right(s,h);if(m===s.length)return e.every($b(c/bv,d/bv,f));if(m===0)return Ng.every(Math.max($b(c,d,f),1));const[p,g]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return p.every(g)}return[o,l]}const[eK,tK]=A_(wo,Mk,J0,j_,Ek,Pk),[nK,rK]=A_(bo,Dk,Z0,bm,Tk,Ak);function wv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function kv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ed(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function iK(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=Dd(i),d=Md(i),f=Dd(a),h=Md(a),m=Dd(s),p=Md(s),g=Dd(o),y=Md(o),x=Dd(l),b=Md(l),w={a:Z,A:Y,b:_,B:E,c:null,d:NA,e:NA,f:AK,g:$K,G:RK,H:NK,I:CK,j:jK,L:P_,m:PK,M:TK,p:A,q:te,Q:AA,s:PA,S:EK,u:DK,U:MK,V:OK,w:IK,W:_K,x:null,X:null,y:LK,Y:FK,Z:BK,"%":jA},k={a:S,A:U,b:q,B:J,c:null,d:CA,e:CA,f:WK,g:eG,G:nG,H:zK,I:UK,j:VK,L:E_,m:HK,M:qK,p:K,q:re,Q:AA,s:PA,S:KK,u:GK,U:YK,V:XK,w:QK,W:ZK,x:null,X:null,y:JK,Y:tG,Z:rG,"%":jA},C={a:T,A:M,b:O,B:Q,c:ee,d:kA,e:kA,f:bK,g:wA,G:bA,H:SA,I:SA,j:gK,L:yK,m:pK,M:xK,p:L,q:hK,Q:kK,s:SK,S:vK,u:cK,U:uK,V:dK,w:lK,W:fK,x:ae,X:de,y:wA,Y:bA,Z:mK,"%":wK};w.x=N(n,w),w.X=N(r,w),w.c=N(t,w),k.x=N(n,k),k.X=N(r,k),k.c=N(t,k);function N(F,W){return function(ce){var ie=[],$=-1,z=0,I=F.length,ne,Se,We;for(ce instanceof Date||(ce=new Date(+ce));++$<I;)F.charCodeAt($)===37&&(ie.push(F.slice(z,$)),(Se=yA[ne=F.charAt(++$)])!=null?ne=F.charAt(++$):Se=ne==="e"?" ":"0",(We=W[ne])&&(ne=We(ce,Se)),ie.push(ne),z=$+1);return ie.push(F.slice(z,$)),ie.join("")}}function j(F,W){return function(ce){var ie=Ed(1900,void 0,1),$=D(ie,F,ce+="",0),z,I;if($!=ce.length)return null;if("Q"in ie)return new Date(ie.Q);if("s"in ie)return new Date(ie.s*1e3+("L"in ie?ie.L:0));if(W&&!("Z"in ie)&&(ie.Z=0),"p"in ie&&(ie.H=ie.H%12+ie.p*12),ie.m===void 0&&(ie.m="q"in ie?ie.q:0),"V"in ie){if(ie.V<1||ie.V>53)return null;"w"in ie||(ie.w=1),"Z"in ie?(z=kv(Ed(ie.y,0,1)),I=z.getUTCDay(),z=I>4||I===0?jg.ceil(z):jg(z),z=Q0.offset(z,(ie.V-1)*7),ie.y=z.getUTCFullYear(),ie.m=z.getUTCMonth(),ie.d=z.getUTCDate()+(ie.w+6)%7):(z=wv(Ed(ie.y,0,1)),I=z.getDay(),z=I>4||I===0?Cg.ceil(z):Cg(z),z=bm.offset(z,(ie.V-1)*7),ie.y=z.getFullYear(),ie.m=z.getMonth(),ie.d=z.getDate()+(ie.w+6)%7)}else("W"in ie||"U"in ie)&&("w"in ie||(ie.w="u"in ie?ie.u%7:"W"in ie?1:0),I="Z"in ie?kv(Ed(ie.y,0,1)).getUTCDay():wv(Ed(ie.y,0,1)).getDay(),ie.m=0,ie.d="W"in ie?(ie.w+6)%7+ie.W*7-(I+5)%7:ie.w+ie.U*7-(I+6)%7);return"Z"in ie?(ie.H+=ie.Z/100|0,ie.M+=ie.Z%100,kv(ie)):wv(ie)}}function D(F,W,ce,ie){for(var $=0,z=W.length,I=ce.length,ne,Se;$<z;){if(ie>=I)return-1;if(ne=W.charCodeAt($++),ne===37){if(ne=W.charAt($++),Se=C[ne in yA?W.charAt($++):ne],!Se||(ie=Se(F,ce,ie))<0)return-1}else if(ne!=ce.charCodeAt(ie++))return-1}return ie}function L(F,W,ce){var ie=c.exec(W.slice(ce));return ie?(F.p=d.get(ie[0].toLowerCase()),ce+ie[0].length):-1}function T(F,W,ce){var ie=m.exec(W.slice(ce));return ie?(F.w=p.get(ie[0].toLowerCase()),ce+ie[0].length):-1}function M(F,W,ce){var ie=f.exec(W.slice(ce));return ie?(F.w=h.get(ie[0].toLowerCase()),ce+ie[0].length):-1}function O(F,W,ce){var ie=x.exec(W.slice(ce));return ie?(F.m=b.get(ie[0].toLowerCase()),ce+ie[0].length):-1}function Q(F,W,ce){var ie=g.exec(W.slice(ce));return ie?(F.m=y.get(ie[0].toLowerCase()),ce+ie[0].length):-1}function ee(F,W,ce){return D(F,t,W,ce)}function ae(F,W,ce){return D(F,n,W,ce)}function de(F,W,ce){return D(F,r,W,ce)}function Z(F){return s[F.getDay()]}function Y(F){return a[F.getDay()]}function _(F){return l[F.getMonth()]}function E(F){return o[F.getMonth()]}function A(F){return i[+(F.getHours()>=12)]}function te(F){return 1+~~(F.getMonth()/3)}function S(F){return s[F.getUTCDay()]}function U(F){return a[F.getUTCDay()]}function q(F){return l[F.getUTCMonth()]}function J(F){return o[F.getUTCMonth()]}function K(F){return i[+(F.getUTCHours()>=12)]}function re(F){return 1+~~(F.getUTCMonth()/3)}return{format:function(F){var W=N(F+="",w);return W.toString=function(){return F},W},parse:function(F){var W=j(F+="",!1);return W.toString=function(){return F},W},utcFormat:function(F){var W=N(F+="",k);return W.toString=function(){return F},W},utcParse:function(F){var W=j(F+="",!0);return W.toString=function(){return F},W}}}var yA={"-":"",_:" ",0:"0"},ii=/^\s*\d+/,aK=/^%/,sK=/[\\^$*+?|[\]().{}]/g;function Sn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function oK(e){return e.replace(sK,"\\$&")}function Dd(e){return new RegExp("^(?:"+e.map(oK).join("|")+")","i")}function Md(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function lK(e,t,n){var r=ii.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function cK(e,t,n){var r=ii.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function uK(e,t,n){var r=ii.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function dK(e,t,n){var r=ii.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function fK(e,t,n){var r=ii.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function bA(e,t,n){var r=ii.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function wA(e,t,n){var r=ii.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function mK(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function hK(e,t,n){var r=ii.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function pK(e,t,n){var r=ii.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function kA(e,t,n){var r=ii.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function gK(e,t,n){var r=ii.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function SA(e,t,n){var r=ii.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function xK(e,t,n){var r=ii.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function vK(e,t,n){var r=ii.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function yK(e,t,n){var r=ii.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function bK(e,t,n){var r=ii.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function wK(e,t,n){var r=aK.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function kK(e,t,n){var r=ii.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function SK(e,t,n){var r=ii.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function NA(e,t){return Sn(e.getDate(),t,2)}function NK(e,t){return Sn(e.getHours(),t,2)}function CK(e,t){return Sn(e.getHours()%12||12,t,2)}function jK(e,t){return Sn(1+bm.count(bo(e),e),t,3)}function P_(e,t){return Sn(e.getMilliseconds(),t,3)}function AK(e,t){return P_(e,t)+"000"}function PK(e,t){return Sn(e.getMonth()+1,t,2)}function TK(e,t){return Sn(e.getMinutes(),t,2)}function EK(e,t){return Sn(e.getSeconds(),t,2)}function DK(e){var t=e.getDay();return t===0?7:t}function MK(e,t){return Sn(Z0.count(bo(e)-1,e),t,2)}function T_(e){var t=e.getDay();return t>=4||t===0?Wu(e):Wu.ceil(e)}function OK(e,t){return e=T_(e),Sn(Wu.count(bo(e),e)+(bo(e).getDay()===4),t,2)}function IK(e){return e.getDay()}function _K(e,t){return Sn(Cg.count(bo(e)-1,e),t,2)}function LK(e,t){return Sn(e.getFullYear()%100,t,2)}function $K(e,t){return e=T_(e),Sn(e.getFullYear()%100,t,2)}function FK(e,t){return Sn(e.getFullYear()%1e4,t,4)}function RK(e,t){var n=e.getDay();return e=n>=4||n===0?Wu(e):Wu.ceil(e),Sn(e.getFullYear()%1e4,t,4)}function BK(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Sn(t/60|0,"0",2)+Sn(t%60,"0",2)}function CA(e,t){return Sn(e.getUTCDate(),t,2)}function zK(e,t){return Sn(e.getUTCHours(),t,2)}function UK(e,t){return Sn(e.getUTCHours()%12||12,t,2)}function VK(e,t){return Sn(1+Q0.count(wo(e),e),t,3)}function E_(e,t){return Sn(e.getUTCMilliseconds(),t,3)}function WK(e,t){return E_(e,t)+"000"}function HK(e,t){return Sn(e.getUTCMonth()+1,t,2)}function qK(e,t){return Sn(e.getUTCMinutes(),t,2)}function KK(e,t){return Sn(e.getUTCSeconds(),t,2)}function GK(e){var t=e.getUTCDay();return t===0?7:t}function YK(e,t){return Sn(J0.count(wo(e)-1,e),t,2)}function D_(e){var t=e.getUTCDay();return t>=4||t===0?Hu(e):Hu.ceil(e)}function XK(e,t){return e=D_(e),Sn(Hu.count(wo(e),e)+(wo(e).getUTCDay()===4),t,2)}function QK(e){return e.getUTCDay()}function ZK(e,t){return Sn(jg.count(wo(e)-1,e),t,2)}function JK(e,t){return Sn(e.getUTCFullYear()%100,t,2)}function eG(e,t){return e=D_(e),Sn(e.getUTCFullYear()%100,t,2)}function tG(e,t){return Sn(e.getUTCFullYear()%1e4,t,4)}function nG(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Hu(e):Hu.ceil(e),Sn(e.getUTCFullYear()%1e4,t,4)}function rG(){return"+0000"}function jA(){return"%"}function AA(e){return+e}function PA(e){return Math.floor(+e/1e3)}var Yc,M_,O_;iG({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function iG(e){return Yc=iK(e),M_=Yc.format,Yc.parse,O_=Yc.utcFormat,Yc.utcParse,Yc}function aG(e){return new Date(e)}function sG(e){return e instanceof Date?+e:+new Date(+e)}function Ok(e,t,n,r,i,a,s,o,l,c){var d=yk(),f=d.invert,h=d.domain,m=c(".%L"),p=c(":%S"),g=c("%I:%M"),y=c("%I %p"),x=c("%a %d"),b=c("%b %d"),w=c("%B"),k=c("%Y");function C(N){return(l(N)<N?m:o(N)<N?p:s(N)<N?g:a(N)<N?y:r(N)<N?i(N)<N?x:b:n(N)<N?w:k)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,sG)):h().map(aG)},d.ticks=function(N){var j=h();return e(j[0],j[j.length-1],N??10)},d.tickFormat=function(N,j){return j==null?C:c(j)},d.nice=function(N){var j=h();return(!N||typeof N.range!="function")&&(N=t(j[0],j[j.length-1],N??10)),N?h(y_(j,N)):d},d.copy=function(){return ym(d,Ok(e,t,n,r,i,a,s,o,l,c))},d}function oG(){return Xa.apply(Ok(nK,rK,bo,Dk,Z0,bm,Tk,Ak,nc,M_).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function lG(){return Xa.apply(Ok(eK,tK,wo,Mk,J0,Q0,Ek,Pk,nc,O_).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ex(){var e=0,t=1,n,r,i,a,s=Fi,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,s=f(m,p),c):[s(0),s(1)]}}return c.range=d(td),c.rangeRound=d(vk),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),c}}function Sl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function I_(){var e=kl(ex()(Fi));return e.copy=function(){return Sl(e,I_())},Ao.apply(e,arguments)}function __(){var e=kk(ex()).domain([1,10]);return e.copy=function(){return Sl(e,__()).base(e.base())},Ao.apply(e,arguments)}function L_(){var e=Sk(ex());return e.copy=function(){return Sl(e,L_()).constant(e.constant())},Ao.apply(e,arguments)}function Ik(){var e=Nk(ex());return e.copy=function(){return Sl(e,Ik()).exponent(e.exponent())},Ao.apply(e,arguments)}function cG(){return Ik.apply(null,arguments).exponent(.5)}function $_(){var e=[],t=Fi;function n(r){if(r!=null&&!isNaN(r=+r))return t((xm(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(ul),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>G7(e,a/r))},n.copy=function(){return $_(t).domain(e)},Ao.apply(n,arguments)}function tx(){var e=0,t=.5,n=1,r=1,i,a,s,o,l,c=Fi,d,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-a)*(r*g<r*a?o:l),c(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,n]=g,i=d(e=+e),a=d(t=+t),s=d(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,m):[e,t,n]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(c=g,m):c};function p(g){return function(y){var x,b,w;return arguments.length?([x,b,w]=y,c=wq(g,[x,b,w]),m):[c(0),c(.5),c(1)]}}return m.range=p(td),m.rangeRound=p(vk),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return d=g,i=g(e),a=g(t),s=g(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,m}}function F_(){var e=kl(tx()(Fi));return e.copy=function(){return Sl(e,F_())},Ao.apply(e,arguments)}function R_(){var e=kk(tx()).domain([.1,1,10]);return e.copy=function(){return Sl(e,R_()).base(e.base())},Ao.apply(e,arguments)}function B_(){var e=Sk(tx());return e.copy=function(){return Sl(e,B_()).constant(e.constant())},Ao.apply(e,arguments)}function _k(){var e=Nk(tx());return e.copy=function(){return Sl(e,_k()).exponent(e.exponent())},Ao.apply(e,arguments)}function uG(){return _k.apply(null,arguments).exponent(.5)}const Hd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:pk,scaleDiverging:F_,scaleDivergingLog:R_,scaleDivergingPow:_k,scaleDivergingSqrt:uG,scaleDivergingSymlog:B_,scaleIdentity:v_,scaleImplicit:Fb,scaleLinear:x_,scaleLog:b_,scaleOrdinal:hk,scalePoint:Q7,scalePow:Ck,scaleQuantile:S_,scaleQuantize:N_,scaleRadial:k_,scaleSequential:I_,scaleSequentialLog:__,scaleSequentialPow:Ik,scaleSequentialQuantile:$_,scaleSequentialSqrt:cG,scaleSequentialSymlog:L_,scaleSqrt:Wq,scaleSymlog:w_,scaleThreshold:C_,scaleTime:oG,scaleUtc:lG,tickFormat:g_},Symbol.toStringTag,{value:"Module"}));var Nl=e=>e.chartData,Lk=pe([Nl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),$k=(e,t,n,r)=>r?Lk(e):Nl(e);function hl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Br(t)&&Br(n))return!0}return!1}function TA(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function z_(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(Br(n))i=n;else if(typeof n=="function")return;if(Br(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(hl(s))return s}}function dG(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(hl(r))return TA(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,o;if(i==="auto")t!=null&&(s=Math.min(...t));else if(Pt(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&GC.test(i)){var l=GC.exec(i);if(l==null||l[1]==null||t==null)s=void 0;else{var c=+l[1];s=t[0]-c}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(o=Math.max(...t));else if(Pt(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&YC.test(a)){var d=YC.exec(a);if(d==null||d[1]==null||t==null)o=void 0;else{var f=+d[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[s,o];if(hl(h))return t==null?h:TA(h,t,n)}}}var nd=1e9,fG={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Rk,cr=!0,Ya="[DecimalError] ",dc=Ya+"Invalid argument: ",Fk=Ya+"Exponent out of range: ",rd=Math.floor,ql=Math.pow,mG=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,xa,ei=1e7,nr=7,U_=9007199254740991,Ag=rd(U_/nr),vt={};vt.absoluteValue=vt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};vt.comparedTo=vt.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};vt.decimalPlaces=vt.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*nr;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};vt.dividedBy=vt.div=function(e){return lo(this,new this.constructor(e))};vt.dividedToIntegerBy=vt.idiv=function(e){var t=this,n=t.constructor;return zn(lo(t,new n(e),0,1),n.precision)};vt.equals=vt.eq=function(e){return!this.cmp(e)};vt.exponent=function(){return Rr(this)};vt.greaterThan=vt.gt=function(e){return this.cmp(e)>0};vt.greaterThanOrEqualTo=vt.gte=function(e){return this.cmp(e)>=0};vt.isInteger=vt.isint=function(){return this.e>this.d.length-2};vt.isNegative=vt.isneg=function(){return this.s<0};vt.isPositive=vt.ispos=function(){return this.s>0};vt.isZero=function(){return this.s===0};vt.lessThan=vt.lt=function(e){return this.cmp(e)<0};vt.lessThanOrEqualTo=vt.lte=function(e){return this.cmp(e)<1};vt.logarithm=vt.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(xa))throw Error(Ya+"NaN");if(n.s<1)throw Error(Ya+(n.s?"NaN":"-Infinity"));return n.eq(xa)?new r(0):(cr=!1,t=lo(qf(n,a),qf(e,a),a),cr=!0,zn(t,i))};vt.minus=vt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?H_(t,e):V_(t,(e.s=-e.s,e))};vt.modulo=vt.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Ya+"NaN");return n.s?(cr=!1,t=lo(n,e,0,1).times(e),cr=!0,n.minus(t)):zn(new r(n),i)};vt.naturalExponential=vt.exp=function(){return W_(this)};vt.naturalLogarithm=vt.ln=function(){return qf(this)};vt.negated=vt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};vt.plus=vt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?V_(t,e):H_(t,(e.s=-e.s,e))};vt.precision=vt.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(dc+e);if(t=Rr(i)+1,r=i.d.length-1,n=r*nr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};vt.squareRoot=vt.sqrt=function(){var e,t,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Ya+"NaN")}for(e=Rr(o),cr=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=Ms(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=rd((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(lo(o,a,s+2)).times(.5),Ms(a.d).slice(0,s)===(t=Ms(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(zn(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(t!="9999")break;s+=4}return cr=!0,zn(r,n)};vt.times=vt.mul=function(e){var t,n,r,i,a,s,o,l,c,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,l=h.length,c=m.length,l<c&&(a=h,h=m,m=a,s=l,l=c,c=s),a=[],s=l+c,r=s;r--;)a.push(0);for(r=c;--r>=0;){for(t=0,i=l+r;i>r;)o=a[i]+m[r]*h[i-r-1]+t,a[i--]=o%ei|0,t=o/ei|0;a[i]=(a[i]+t)%ei|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,cr?zn(e,f.precision):e};vt.toDecimalPlaces=vt.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Bs(e,0,nd),t===void 0?t=r.rounding:Bs(t,0,8),zn(n,e+Rr(n)+1,t))};vt.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Nc(r,!0):(Bs(e,0,nd),t===void 0?t=i.rounding:Bs(t,0,8),r=zn(new i(r),e+1,t),n=Nc(r,!0,e+1)),n};vt.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?Nc(i):(Bs(e,0,nd),t===void 0?t=a.rounding:Bs(t,0,8),r=zn(new a(i),e+Rr(i)+1,t),n=Nc(r.abs(),!1,e+Rr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};vt.toInteger=vt.toint=function(){var e=this,t=e.constructor;return zn(new t(e),Rr(e)+1,t.rounding)};vt.toNumber=function(){return+this};vt.toPower=vt.pow=function(e){var t,n,r,i,a,s,o=this,l=o.constructor,c=12,d=+(e=new l(e));if(!e.s)return new l(xa);if(o=new l(o),!o.s){if(e.s<1)throw Error(Ya+"Infinity");return o}if(o.eq(xa))return o;if(r=l.precision,e.eq(xa))return zn(o,r);if(t=e.e,n=e.d.length-1,s=t>=n,a=o.s,s){if((n=d<0?-d:d)<=U_){for(i=new l(xa),t=Math.ceil(r/nr+4),cr=!1;n%2&&(i=i.times(o),DA(i.d,t)),n=rd(n/2),n!==0;)o=o.times(o),DA(o.d,t);return cr=!0,e.s<0?new l(xa).div(i):zn(i,r)}}else if(a<0)throw Error(Ya+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,o.s=1,cr=!1,i=e.times(qf(o,r+c)),cr=!0,i=W_(i),i.s=a,i};vt.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=Rr(i),r=Nc(i,n<=a.toExpNeg||n>=a.toExpPos)):(Bs(e,1,nd),t===void 0?t=a.rounding:Bs(t,0,8),i=zn(new a(i),e,t),n=Rr(i),r=Nc(i,e<=n||n<=a.toExpNeg,e)),r};vt.toSignificantDigits=vt.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Bs(e,1,nd),t===void 0?t=r.rounding:Bs(t,0,8)),zn(new r(n),e,t)};vt.toString=vt.valueOf=vt.val=vt.toJSON=vt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Rr(e),n=e.constructor;return Nc(e,t<=n.toExpNeg||t>=n.toExpPos)};function V_(e,t){var n,r,i,a,s,o,l,c,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),cr?zn(t,f):t;if(l=e.d,c=t.d,s=e.e,i=t.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=c.length):(r=c,i=s,o=l.length),s=Math.ceil(f/nr),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/ei|0,l[a]%=ei;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=i,cr?zn(t,f):t}function Bs(e,t,n){if(e!==~~e||e<t||e>n)throw Error(dc+e)}function Ms(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)r=e[t]+"",n=nr-r.length,n&&(a+=Ho(n)),a+=r;s=e[t],r=s+"",n=nr-r.length,n&&(a+=Ho(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var lo=function(){function e(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%ei|0,s=a/ei|0;return s&&r.unshift(s),r}function t(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*ei+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,c,d,f,h,m,p,g,y,x,b,w,k,C,N,j,D,L=r.constructor,T=r.s==i.s?1:-1,M=r.d,O=i.d;if(!r.s)return new L(r);if(!i.s)throw Error(Ya+"Division by zero");for(l=r.e-i.e,j=O.length,C=M.length,m=new L(T),p=m.d=[],c=0;O[c]==(M[c]||0);)++c;if(O[c]>(M[c]||0)&&--l,a==null?b=a=L.precision:s?b=a+(Rr(r)-Rr(i))+1:b=a,b<0)return new L(0);if(b=b/nr+2|0,c=0,j==1)for(d=0,O=O[0],b++;(c<C||d)&&b--;c++)w=d*ei+(M[c]||0),p[c]=w/O|0,d=w%O|0;else{for(d=ei/(O[0]+1)|0,d>1&&(O=e(O,d),M=e(M,d),j=O.length,C=M.length),k=j,g=M.slice(0,j),y=g.length;y<j;)g[y++]=0;D=O.slice(),D.unshift(0),N=O[0],O[1]>=ei/2&&++N;do d=0,o=t(O,g,j,y),o<0?(x=g[0],j!=y&&(x=x*ei+(g[1]||0)),d=x/N|0,d>1?(d>=ei&&(d=ei-1),f=e(O,d),h=f.length,y=g.length,o=t(f,g,h,y),o==1&&(d--,n(f,j<h?D:O,h))):(d==0&&(o=d=1),f=O.slice()),h=f.length,h<y&&f.unshift(0),n(g,f,y),o==-1&&(y=g.length,o=t(O,g,j,y),o<1&&(d++,n(g,j<y?D:O,y))),y=g.length):o===0&&(d++,g=[0]),p[c++]=d,o&&g[0]?g[y++]=M[k]||0:(g=[M[k]],y=1);while((k++<C||g[0]!==void 0)&&b--)}return p[0]||p.shift(),m.e=l,zn(m,s?a+Rr(m)+1:a)}}();function W_(e,t){var n,r,i,a,s,o,l=0,c=0,d=e.constructor,f=d.precision;if(Rr(e)>16)throw Error(Fk+Rr(e));if(!e.s)return new d(xa);for(cr=!1,o=f,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(r=Math.log(ql(2,c))/Math.LN10*2+5|0,o+=r,n=i=a=new d(xa),d.precision=o;;){if(i=zn(i.times(e),o),n=n.times(++l),s=a.plus(lo(i,n,o)),Ms(s.d).slice(0,o)===Ms(a.d).slice(0,o)){for(;c--;)a=zn(a.times(a),o);return d.precision=f,t==null?(cr=!0,zn(a,f)):a}a=s}}function Rr(e){for(var t=e.e*nr,n=e.d[0];n>=10;n/=10)t++;return t}function Sv(e,t,n){if(t>e.LN10.sd())throw cr=!0,n&&(e.precision=n),Error(Ya+"LN10 precision limit exceeded");return zn(new e(e.LN10),t)}function Ho(e){for(var t="";e--;)t+="0";return t}function qf(e,t){var n,r,i,a,s,o,l,c,d,f=1,h=10,m=e,p=m.d,g=m.constructor,y=g.precision;if(m.s<1)throw Error(Ya+(m.s?"NaN":"-Infinity"));if(m.eq(xa))return new g(0);if(t==null?(cr=!1,c=y):c=t,m.eq(10))return t==null&&(cr=!0),Sv(g,c);if(c+=h,g.precision=c,n=Ms(p),r=n.charAt(0),a=Rr(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=Ms(m.d),r=n.charAt(0),f++;a=Rr(m),r>1?(m=new g("0."+n),a++):m=new g(r+"."+n.slice(1))}else return l=Sv(g,c+2,y).times(a+""),m=qf(new g(r+"."+n.slice(1)),c-h).plus(l),g.precision=y,t==null?(cr=!0,zn(m,y)):m;for(o=s=m=lo(m.minus(xa),m.plus(xa),c),d=zn(m.times(m),c),i=3;;){if(s=zn(s.times(d),c),l=o.plus(lo(s,new g(i),c)),Ms(l.d).slice(0,c)===Ms(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(Sv(g,c+2,y).times(a+""))),o=lo(o,new g(f),c),g.precision=y,t==null?(cr=!0,zn(o,y)):o;o=l,i+=2}}function EA(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=rd(n/nr),e.d=[],r=(n+1)%nr,n<0&&(r+=nr),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=nr;r<i;)e.d.push(+t.slice(r,r+=nr));t=t.slice(r),r=nr-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),cr&&(e.e>Ag||e.e<-Ag))throw Error(Fk+n)}else e.s=0,e.e=0,e.d=[0];return e}function zn(e,t,n){var r,i,a,s,o,l,c,d,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(r=t-s,r<0)r+=nr,i=t,c=f[d=0];else{if(d=Math.ceil((r+1)/nr),a=f.length,d>=a)return e;for(c=a=f[d],s=1;a>=10;a/=10)s++;r%=nr,i=r-nr+s}if(n!==void 0&&(a=ql(10,s-i-1),o=c/a%10|0,l=t<0||f[d+1]!==void 0||c%a,l=n<4?(o||l)&&(n==0||n==(e.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/ql(10,s-i):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(a=Rr(e),f.length=1,t=t-a-1,f[0]=ql(10,(nr-t%nr)%nr),e.e=rd(-t/nr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,a=1,d--):(f.length=d+1,a=ql(10,nr-r),f[d]=i>0?(c/ql(10,s-i)%ql(10,i)|0)*a:0),l)for(;;)if(d==0){(f[0]+=a)==ei&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=ei)break;f[d--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(cr&&(e.e>Ag||e.e<-Ag))throw Error(Fk+Rr(e));return e}function H_(e,t){var n,r,i,a,s,o,l,c,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),cr?zn(t,m):t;if(l=e.d,f=t.d,r=t.e,c=e.e,l=l.slice(),s=c-r,s){for(d=s<0,d?(n=l,s=-s,o=f.length):(n=f,r=c,o=l.length),i=Math.max(Math.ceil(m/nr),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}s=0}for(d&&(n=l,l=f,f=n,t.s=-t.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=ei-1;--l[a],l[i]+=ei}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,cr?zn(t,m):t):new h(0)}function Nc(e,t,n){var r,i=Rr(e),a=Ms(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Ho(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ho(-i-1)+a,n&&(r=n-s)>0&&(a+=Ho(r))):i>=s?(a+=Ho(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Ho(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Ho(r))),e.s<0?"-"+a:a}function DA(e,t){if(e.length>t)return e.length=t,!0}function q_(e){var t,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(dc+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return EA(s,a.toString())}else if(typeof a!="string")throw Error(dc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,mG.test(a))EA(s,a);else throw Error(dc+a)}if(i.prototype=vt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=q_,i.config=i.set=hG,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function hG(e){if(!e||typeof e!="object")throw Error(Ya+"Object expected");var t,n,r,i=["precision",1,nd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(rd(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(dc+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(dc+n+": "+r);return this}var Rk=q_(fG);xa=new Rk(1);const Ln=Rk;var pG=e=>e,K_={},G_=e=>e===K_,MA=e=>function t(){return arguments.length===0||arguments.length===1&&G_(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},Y_=(e,t)=>e===1?t:MA(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==K_).length;return a>=e?t(...r):Y_(e-a,MA(function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var c=r.map(d=>G_(d)?o.shift():d);return t(...c,...o)}))}),gG=e=>Y_(e.length,e),Ub=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},xG=gG((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),vG=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return pG;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,l)=>l(o),a(...arguments))}};function X_(e){var t;return e===0?t=1:t=Math.floor(new Ln(e).abs().log(10).toNumber())+1,t}function Q_(e,t,n){for(var r=new Ln(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var Z_=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},J_=(e,t,n)=>{if(e.lte(0))return new Ln(0);var r=X_(e.toNumber()),i=new Ln(10).pow(r),a=e.div(i),s=r!==1?.05:.1,o=new Ln(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return t?new Ln(l.toNumber()):new Ln(Math.ceil(l.toNumber()))},yG=(e,t,n)=>{var r=new Ln(1),i=new Ln(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Ln(10).pow(X_(e)-1),i=new Ln(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Ln(Math.floor(e)))}else e===0?i=new Ln(Math.floor((t-1)/2)):n||(i=new Ln(Math.floor(e)));var s=Math.floor((t-1)/2),o=vG(xG(l=>i.add(new Ln(l-s).mul(r)).toNumber()),Ub);return o(0,t)},e3=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Ln(0),tickMin:new Ln(0),tickMax:new Ln(0)};var s=J_(new Ln(n).sub(t).div(r-1),i,a),o;t<=0&&n>=0?o=new Ln(0):(o=new Ln(t).add(n).div(2),o=o.sub(new Ln(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new Ln(n).sub(o).div(s).toNumber()),d=l+c+1;return d>r?e3(t,n,r,i,a+1):(d<r&&(c=n>0?c+(r-d):c,l=n>0?l:l+(r-d)),{step:s,tickMin:o.sub(new Ln(l).mul(s)),tickMax:o.add(new Ln(c).mul(s))})},bG=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,l]=Z_([n,r]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...Ub(0,i-1).map(()=>1/0)]:[...Ub(0,i-1).map(()=>-1/0),l];return n>r?c.reverse():c}if(o===l)return yG(o,i,a);var{step:d,tickMin:f,tickMax:h}=e3(o,l,s,a,0),m=Q_(f,h.add(new Ln(.1).mul(d)),d);return n>r?m.reverse():m},wG=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=Z_([r,i]);if(s===-1/0||o===1/0)return[r,i];if(s===o)return[s];var l=Math.max(n,2),c=J_(new Ln(o).sub(s).div(l-1),a,0),d=[...Q_(new Ln(s),new Ln(o),c),o];return a===!1&&(d=d.map(f=>Math.round(f))),r>i?d.reverse():d},kG=e=>e.rootProps.barCategoryGap,wm=e=>e.rootProps.stackOffset,t3=e=>e.rootProps.reverseStackOrder,Bk=e=>e.options.chartName,zk=e=>e.rootProps.syncId,n3=e=>e.rootProps.syncMethod,Uk=e=>e.options.eventEmitter,fi={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Js={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ga={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},nx=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},SG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Js.angleAxisId,includeHidden:!1,name:void 0,reversed:Js.reversed,scale:Js.scale,tick:Js.tick,tickCount:void 0,ticks:void 0,type:Js.type,unit:void 0},NG={allowDataOverflow:ga.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ga.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ga.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ga.scale,tick:ga.tick,tickCount:ga.tickCount,ticks:void 0,type:ga.type,unit:void 0},CG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Js.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Js.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Js.scale,tick:Js.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},jG={allowDataOverflow:ga.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ga.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ga.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ga.scale,tick:ga.tick,tickCount:ga.tickCount,ticks:void 0,type:"category",unit:void 0},Vk=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?CG:SG,Wk=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?jG:NG,rx=e=>e.polarOptions,Hk=pe([Co,jo,ri],e_),r3=pe([rx,Hk],(e,t)=>{if(e!=null)return wa(e.innerRadius,t,0)}),i3=pe([rx,Hk],(e,t)=>{if(e!=null)return wa(e.outerRadius,t,t*.8)}),AG=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},a3=pe([rx],AG);pe([Vk,a3],nx);var s3=pe([Hk,r3,i3],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});pe([Wk,s3],nx);var o3=pe([Bn,rx,r3,i3,Co,jo],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:s,cy:o,startAngle:l,endAngle:c}=t;return{cx:wa(s,i,i/2),cy:wa(o,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),ur=(e,t)=>t,km=(e,t,n)=>n;function l3(e){return e==null?void 0:e.id}function c3(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return e.forEach(o=>{var l,c=(l=o.data)!==null&&l!==void 0?l:r;if(!(c==null||c.length===0)){var d=l3(o);c.forEach((f,h)=>{var m=a==null||i?h:String(ir(f,a,null)),p=ir(f,o.dataKey,0),g;s.has(m)?g=s.get(m):g={},Object.assign(g,{[d]:p}),s.set(m,g)})}}),Array.from(s.values())}function qk(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var ix=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function ax(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function PG(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Yr=e=>{var t=Bn(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},id=e=>e.tooltip.settings.axisId;function OA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OA(Object(n),!0).forEach(function(r){TG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TG(e,t,n){return(t=EG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EG(e){var t=DG(e,"string");return typeof t=="symbol"?t:t+""}function DG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vb=[0,"auto"],Zr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},u3=(e,t)=>e.cartesianAxis.xAxis[t],Po=(e,t)=>{var n=u3(e,t);return n??Zr},Jr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Vb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:hm},d3=(e,t)=>e.cartesianAxis.yAxis[t],To=(e,t)=>{var n=d3(e,t);return n??Jr},MG={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Kk=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??MG},vr=(e,t,n)=>{switch(t){case"xAxis":return Po(e,n);case"yAxis":return To(e,n);case"zAxis":return Kk(e,n);case"angleAxis":return Vk(e,n);case"radiusAxis":return Wk(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},OG=(e,t,n)=>{switch(t){case"xAxis":return Po(e,n);case"yAxis":return To(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Sm=(e,t,n)=>{switch(t){case"xAxis":return Po(e,n);case"yAxis":return To(e,n);case"angleAxis":return Vk(e,n);case"radiusAxis":return Wk(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},f3=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Gk(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var m3=e=>e.graphicalItems.cartesianItems,IG=pe([ur,km],Gk),Yk=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Nm=pe([m3,vr,IG],Yk,{memoizeOptions:{resultEqualityCheck:ax}}),h3=pe([Nm],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(qk)),p3=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),_G=pe([Nm],p3),Xk=e=>e.map(t=>t.data).filter(Boolean).flat(1),LG=pe([Nm],Xk,{memoizeOptions:{resultEqualityCheck:ax}}),Qk=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},Zk=pe([LG,$k],Qk),Jk=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:ir(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:ir(i,r)}))):e.map(r=>({value:r})),sx=pe([Zk,vr,Nm],Jk);function g3(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function lp(e){if(Fs(e)||e instanceof Date){var t=Number(e);if(Br(t))return t}}function IA(e){if(Array.isArray(e)){var t=[lp(e[0]),lp(e[1])];return hl(t)?t:void 0}var n=lp(e);if(n!=null)return[n,n]}function ko(e){return e.map(lp).filter(Z8)}function $G(e,t,n){return!n||typeof t!="number"||$s(t)?[]:n.length?ko(n.flatMap(r=>{var i=ir(e,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!Br(a)||!Br(s)))return[t-a,t+s]})):[]}var Xr=e=>{var t=Yr(e),n=id(e);return Sm(e,t,n)},Cm=pe([Xr],e=>e==null?void 0:e.dataKey),FG=pe([h3,$k,Xr],c3),x3=(e,t,n,r)=>{var i={},a=t.reduce((s,o)=>{if(o.stackId==null)return s;var l=s[o.stackId];return l==null&&(l=[]),l.push(o),s[o.stackId]=l,s},i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,l]=s,c=r?[...l].reverse():l,d=c.map(l3);return[o,{stackedData:hW(e,d,n),graphicalItems:c}]}))},RG=pe([FG,h3,wm,t3],x3),v3=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var s=xW(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},BG=pe([vr],e=>e.allowDataOverflow),eS=e=>{var t;if(e==null||!("domain"in e))return Vb;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=ko(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Vb},tS=pe([vr],eS),nS=pe([tS,BG],z_),zG=pe([RG,Nl,ur,nS],v3,{memoizeOptions:{resultEqualityCheck:ix}}),ox=e=>e.errorBars,UG=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>g3(n,r)),Tg=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},rS=(e,t,n,r,i)=>{var a,s;if(n.length>0&&e.forEach(o=>{n.forEach(l=>{var c,d,f=(c=r[l.id])===null||c===void 0?void 0:c.filter(x=>g3(i,x)),h=ir(o,(d=t.dataKey)!==null&&d!==void 0?d:l.dataKey),m=$G(o,h,f);if(m.length>=2){var p=Math.min(...m),g=Math.max(...m);(a==null||p<a)&&(a=p),(s==null||g>s)&&(s=g)}var y=IA(h);y!=null&&(a=a==null?y[0]:Math.min(a,y[0]),s=s==null?y[1]:Math.max(s,y[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var l=IA(ir(o,t.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),Br(a)&&Br(s))return[a,s]},VG=pe([Zk,vr,_G,ox,ur],rS,{memoizeOptions:{resultEqualityCheck:ix}});function WG(e){var{value:t}=e;if(Fs(t)||t instanceof Date)return t}var HG=(e,t,n)=>{var r=e.map(WG).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&f5(r))?o_(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},y3=e=>e.referenceElements.dots,ad=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),qG=pe([y3,ur,km],ad),b3=e=>e.referenceElements.areas,KG=pe([b3,ur,km],ad),w3=e=>e.referenceElements.lines,GG=pe([w3,ur,km],ad),k3=(e,t)=>{if(e!=null){var n=ko(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},YG=pe(qG,ur,k3),S3=(e,t)=>{if(e!=null){var n=ko(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},XG=pe([KG,ur],S3);function QG(e){var t;if(e.x!=null)return ko([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:ko(n)}function ZG(e){var t;if(e.y!=null)return ko([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:ko(n)}var N3=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?QG(r):ZG(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},JG=pe([GG,ur],N3),eY=pe(YG,JG,XG,(e,t,n)=>Tg(e,n,t)),iS=(e,t,n,r,i,a,s,o)=>{if(n!=null)return n;var l=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",c=l?Tg(r,a,i):Tg(a,i);return dG(t,c,e.allowDataOverflow)},tY=pe([vr,tS,nS,zG,VG,eY,Bn,ur],iS,{memoizeOptions:{resultEqualityCheck:ix}}),nY=[0,1],aS=(e,t,n,r,i,a,s)=>{if(!((e==null||n==null||n.length===0)&&s===void 0)){var{dataKey:o,type:l}=e,c=wl(t,a);if(c&&o==null){var d;return o_(0,(d=n==null?void 0:n.length)!==null&&d!==void 0?d:0)}return l==="category"?HG(r,e,c):i==="expand"?nY:s}},sS=pe([vr,Bn,Zk,sx,wm,ur,tY],aS),C3=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(um(a));return o in Hd?o:"point"}}},sd=pe([vr,Bn,f3,Bk,ur],C3);function rY(e){if(e!=null){if(e in Hd)return Hd[e]();var t="scale".concat(um(e));if(t in Hd)return Hd[t]()}}function oS(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=rY(t);if(i!=null){var a=i.domain(n).range(r);return uW(a),a}}}var lS=(e,t,n)=>{var r=eS(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&hl(e))return bG(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&hl(e))return wG(e,t.tickCount,t.allowDecimals)}},cS=pe([sS,Sm,sd],lS),uS=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&hl(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],s=t[1],o=n[n.length-1];return[Math.min(i,a),Math.max(s,o)]}return t},iY=pe([vr,sS,cS,ur],uS),aY=pe(sx,vr,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(ko(e.map(f=>f.value))).sort((f,h)=>f-h),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var s=a-i;if(s===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o],c=r[o+1];if(!(l==null||c==null)){var d=c-l;n=Math.min(n,d)}}return n/s}}),j3=pe(aY,Bn,kG,ri,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!Br(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=wa(n,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),sY=(e,t,n)=>{var r=Po(e,t);return r==null||typeof r.padding!="string"?0:j3(e,"xAxis",t,n,r.padding)},oY=(e,t,n)=>{var r=To(e,t);return r==null||typeof r.padding!="string"?0:j3(e,"yAxis",t,n,r.padding)},lY=pe(Po,sY,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),cY=pe(To,oY,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),uY=pe([ri,lY,z0,B0,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),dY=pe([ri,Bn,cY,z0,B0,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),jm=(e,t,n,r)=>{var i;switch(t){case"xAxis":return uY(e,n,r);case"yAxis":return dY(e,n,r);case"zAxis":return(i=Kk(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return a3(e);case"radiusAxis":return s3(e,n);default:return}},A3=pe([vr,jm],nx),lx=pe([vr,sd,iY,A3],oS);pe([Nm,ox,ur],UG);function P3(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var cx=(e,t)=>t,ux=(e,t,n)=>n,fY=pe(F0,cx,ux,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(P3)),mY=pe(R0,cx,ux,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(P3)),T3=(e,t)=>({width:e.width,height:t.height}),hY=(e,t)=>{var n=typeof t.width=="number"?t.width:hm;return{width:n,height:e.height}},pY=pe(ri,Po,T3),gY=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},xY=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},vY=pe(jo,ri,fY,cx,ux,(e,t,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=T3(t,o);s==null&&(s=gY(t,r,e));var c=r==="top"&&!i||r==="bottom"&&i;a[o.id]=s-Number(c)*l.height,s+=(c?-1:1)*l.height}),a}),yY=pe(Co,ri,mY,cx,ux,(e,t,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=hY(t,o);s==null&&(s=xY(t,r,e));var c=r==="left"&&!i||r==="right"&&i;a[o.id]=s-Number(c)*l.width,s+=(c?-1:1)*l.width}),a}),bY=(e,t)=>{var n=Po(e,t);if(n!=null)return vY(e,n.orientation,n.mirror)},wY=pe([ri,Po,bY,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),kY=(e,t)=>{var n=To(e,t);if(n!=null)return yY(e,n.orientation,n.mirror)},SY=pe([ri,To,kY,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),NY=pe(ri,To,(e,t)=>{var n=typeof t.width=="number"?t.width:hm;return{width:n,height:e.height}}),E3=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,o=wl(e,r),l=t.map(c=>c.value);if(s&&o&&a==="category"&&i&&f5(l))return l}},dS=pe([Bn,sx,vr,ur],E3),D3=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=wl(e,r);if(s&&(i==="number"||a!=="auto"))return t.map(o=>o.value)}},fS=pe([Bn,sx,Sm,ur],D3),_A=pe([Bn,OG,sd,lx,dS,fS,jm,cS,ur],(e,t,n,r,i,a,s,o,l)=>{if(t!=null){var c=wl(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:o,range:s,realScaleType:n,scale:r}}}),CY=(e,t,n,r,i,a,s,o,l)=>{if(!(t==null||r==null)){var c=wl(e,l),{type:d,ticks:f,tickCount:h}=t,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,p=d==="category"&&r.bandwidth?r.bandwidth()/m:0;p=l==="angleAxis"&&a!=null&&a.length>=2?Ni(a[0]-a[1])*2*p:p;var g=f||i;if(g){var y=g.map((x,b)=>{var w=s?s.indexOf(x):x;return{index:b,coordinate:r(w)+p,value:x,offset:p}});return y.filter(x=>Br(x.coordinate))}return c&&o?o.map((x,b)=>({coordinate:r(x)+p,value:x,index:b,offset:p})).filter(x=>Br(x.coordinate)):r.ticks?r.ticks(h).map(x=>({coordinate:r(x)+p,value:x,offset:p})):r.domain().map((x,b)=>({coordinate:r(x)+p,value:s?s[x]:x,index:b,offset:p}))}},M3=pe([Bn,Sm,sd,lx,cS,jm,dS,fS,ur],CY),jY=(e,t,n,r,i,a,s)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var o=wl(e,s),{tickCount:l}=t,c=0;return c=s==="angleAxis"&&(r==null?void 0:r.length)>=2?Ni(r[0]-r[1])*2*c:c,o&&a?a.map((d,f)=>({coordinate:n(d)+c,value:d,index:f,offset:c})):n.ticks?n.ticks(l).map(d=>({coordinate:n(d)+c,value:d,offset:c})):n.domain().map((d,f)=>({coordinate:n(d)+c,value:i?i[d]:d,index:f,offset:c}))}},O3=pe([Bn,Sm,lx,jm,dS,fS,ur],jY),I3=pe(vr,lx,(e,t)=>{if(!(e==null||t==null))return Pg(Pg({},e),{},{scale:t})}),AY=pe([vr,sd,sS,A3],oS);pe((e,t,n)=>Kk(e,n),AY,(e,t)=>{if(!(e==null||t==null))return Pg(Pg({},e),{},{scale:t})});var PY=pe([Bn,F0,R0],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),_3=e=>e.options.defaultTooltipEventType,L3=e=>e.options.validateTooltipEventTypes;function $3(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function mS(e,t){var n=_3(e),r=L3(e);return $3(t,n,r)}function TY(e){return jt(t=>mS(t,e))}var F3=(e,t)=>{var n,r=Number(t);if(!($s(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},EY=e=>e.tooltip.settings,Xo={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},DY={itemInteraction:{click:Xo,hover:Xo},axisInteraction:{click:Xo,hover:Xo},keyboardInteraction:Xo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},R3=aa({name:"tooltip",initialState:DY,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:or()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=ds(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:or()},removeTooltipEntrySettings:{reducer(e,t){var n=ds(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:or()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:MY,replaceTooltipEntrySettings:OY,removeTooltipEntrySettings:IY,setTooltipSettingsState:_Y,setActiveMouseOverItemIndex:B3,mouseLeaveItem:LY,mouseLeaveChart:z3,setActiveClickItemIndex:$Y,setMouseOverAxisIndex:U3,setMouseClickAxisIndex:FY,setSyncInteraction:Wb,setKeyboardInteraction:Hb}=R3.actions,RY=R3.reducer;function LA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ih(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LA(Object(n),!0).forEach(function(r){BY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BY(e,t,n){return(t=zY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zY(e){var t=UY(e,"string");return typeof t=="symbol"?t:t+""}function UY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VY(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function WY(e){return e.index!=null}var V3=(e,t,n,r)=>{if(t==null)return Xo;var i=VY(e,t,n);if(i==null)return Xo;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(WY(i)){if(a)return Ih(Ih({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Ih(Ih({},Xo),{},{coordinate:i.coordinate})};function HY(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function qY(e,t){var n=HY(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return n>=a&&n<=s}function KY(e,t,n){if(n==null||t==null)return!0;var r=ir(e,t);return r==null||!hl(n)?!0:qY(r,n)}var hS=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!Br(a))return i;var s=0,o=1/0;t.length>0&&(o=t.length-1);var l=Math.max(s,Math.min(a,o)),c=t[l];return c==null||KY(c,n,r)?String(l):null},W3=(e,t,n,r,i,a,s,o)=>{if(!(a==null||o==null)){var l=s[0],c=l==null?void 0:o(l.positions,a);if(c!=null)return c;var d=i==null?void 0:i[Number(a)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:d.coordinate}}}},H3=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},Am=e=>e.options.tooltipPayloadSearcher,od=e=>e.tooltip;function $A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function FA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$A(Object(n),!0).forEach(function(r){GY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$A(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GY(e,t,n){return(t=YY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YY(e){var t=XY(e,"string");return typeof t=="symbol"?t:t+""}function XY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QY(e,t){return e??t}var q3=(e,t,n,r,i,a,s)=>{if(!(t==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:d}=n,f=[];return e.reduce((h,m)=>{var p,{dataDefinedOnItem:g,settings:y}=m,x=QY(g,o),b=Array.isArray(x)?kI(x,c,d):x,w=(p=y==null?void 0:y.dataKey)!==null&&p!==void 0?p:r,k=y==null?void 0:y.nameKey,C;if(r&&Array.isArray(b)&&!Array.isArray(b[0])&&s==="axis"?C=m5(b,r,i):C=a(b,t,l,k),Array.isArray(C))C.forEach(j=>{var D=FA(FA({},y),{},{name:j.name,unit:j.unit,color:void 0,fill:void 0});h.push(XC({tooltipEntrySettings:D,dataKey:j.dataKey,payload:j.payload,value:ir(j.payload,j.dataKey),name:j.name}))});else{var N;h.push(XC({tooltipEntrySettings:y,dataKey:w,payload:C,value:ir(C,w),name:(N=ir(C,k))!==null&&N!==void 0?N:y==null?void 0:y.name}))}return h},f)}},pS=pe([Xr,Bn,f3,Bk,Yr],C3),ZY=pe([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),JY=pe([Yr,id],Gk),ld=pe([ZY,Xr,JY],Yk,{memoizeOptions:{resultEqualityCheck:ax}}),eX=pe([ld],e=>e.filter(qk)),tX=pe([ld],Xk,{memoizeOptions:{resultEqualityCheck:ax}}),cd=pe([tX,Nl],Qk),nX=pe([eX,Nl,Xr],c3),gS=pe([cd,Xr,ld],Jk),K3=pe([Xr],eS),rX=pe([Xr],e=>e.allowDataOverflow),G3=pe([K3,rX],z_),iX=pe([ld],e=>e.filter(qk)),aX=pe([nX,iX,wm,t3],x3),sX=pe([aX,Nl,Yr,G3],v3),oX=pe([ld],p3),lX=pe([cd,Xr,oX,ox,Yr],rS,{memoizeOptions:{resultEqualityCheck:ix}}),cX=pe([y3,Yr,id],ad),uX=pe([cX,Yr],k3),dX=pe([b3,Yr,id],ad),fX=pe([dX,Yr],S3),mX=pe([w3,Yr,id],ad),hX=pe([mX,Yr],N3),pX=pe([uX,hX,fX],Tg),gX=pe([Xr,K3,G3,sX,lX,pX,Bn,Yr],iS),Pm=pe([Xr,Bn,cd,gS,wm,Yr,gX],aS),xX=pe([Pm,Xr,pS],lS),vX=pe([Xr,Pm,xX,Yr],uS),Y3=e=>{var t=Yr(e),n=id(e),r=!1;return jm(e,t,n,r)},X3=pe([Xr,Y3],nx),Q3=pe([Xr,pS,vX,X3],oS),yX=pe([Bn,gS,Xr,Yr],E3),bX=pe([Bn,gS,Xr,Yr],D3),wX=(e,t,n,r,i,a,s,o)=>{if(t){var{type:l}=t,c=wl(e,o);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/d:0;return f=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Ni(i[0]-i[1])*2*f:f,c&&s?s.map((h,m)=>({coordinate:r(h)+f,value:h,index:m,offset:f})):r.domain().map((h,m)=>({coordinate:r(h)+f,value:a?a[h]:h,index:m,offset:f}))}}},Eo=pe([Bn,Xr,pS,Q3,Y3,yX,bX,Yr],wX),xS=pe([_3,L3,EY],(e,t,n)=>$3(n.shared,e,t)),Z3=e=>e.tooltip.settings.trigger,vS=e=>e.tooltip.settings.defaultIndex,Tm=pe([od,xS,Z3,vS],V3),qu=pe([Tm,cd,Cm,Pm],hS),J3=pe([Eo,qu],F3),eL=pe([Tm],e=>{if(e)return e.dataKey}),kX=pe([Tm],e=>{if(e)return e.graphicalItemId}),tL=pe([od,xS,Z3,vS],H3),SX=pe([Co,jo,Bn,ri,Eo,vS,tL,Am],W3),NX=pe([Tm,SX],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),CX=pe([Tm],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),jX=pe([tL,qu,Nl,Cm,J3,Am,xS],q3),AX=pe([jX],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function RA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function BA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RA(Object(n),!0).forEach(function(r){PX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PX(e,t,n){return(t=TX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TX(e){var t=EX(e,"string");return typeof t=="symbol"?t:t+""}function EX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DX=()=>jt(Xr),MX=()=>{var e=DX(),t=jt(Eo),n=jt(Q3);return og(!e||!n?void 0:BA(BA({},e),{},{scale:n}),t)};function zA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zA(Object(n),!0).forEach(function(r){OX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OX(e,t,n){return(t=IX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IX(e){var t=_X(e,"string");return typeof t=="symbol"?t:t+""}function _X(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LX=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},$X=(e,t,n,r)=>{var i=t.find(c=>c&&c.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=r;return Xc(Xc(Xc({},r),Fr(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=r;return Xc(Xc(Xc({},r),Fr(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function FX(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var nL=(e,t,n,r,i)=>{var a,s=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<s;o++){var l,c,d,f,h,m=o>0?(l=n[o-1])===null||l===void 0?void 0:l.coordinate:(c=n[s-1])===null||c===void 0?void 0:c.coordinate,p=(d=n[o])===null||d===void 0?void 0:d.coordinate,g=o>=s-1?(f=n[0])===null||f===void 0?void 0:f.coordinate:(h=n[o+1])===null||h===void 0?void 0:h.coordinate,y=void 0;if(!(m==null||p==null||g==null))if(Ni(p-m)!==Ni(g-p)){var x=[];if(Ni(g-p)===Ni(i[1]-i[0])){y=g;var b=p+i[1]-i[0];x[0]=Math.min(b,(b+m)/2),x[1]=Math.max(b,(b+m)/2)}else{y=m;var w=g+i[1]-i[0];x[0]=Math.min(p,(w+p)/2),x[1]=Math.max(p,(w+p)/2)}var k=[Math.min(p,(y+p)/2),Math.max(p,(y+p)/2)];if(e>k[0]&&e<=k[1]||e>=x[0]&&e<=x[1]){var C;return(C=n[o])===null||C===void 0?void 0:C.index}}else{var N=Math.min(m,g),j=Math.max(m,g);if(e>(N+p)/2&&e<=(j+p)/2){var D;return(D=n[o])===null||D===void 0?void 0:D.index}}}else if(t)for(var L=0;L<s;L++){var T=t[L];if(T!=null){var M=t[L+1],O=t[L-1];if(L===0&&M!=null&&e<=(T.coordinate+M.coordinate)/2||L===s-1&&O!=null&&e>(T.coordinate+O.coordinate)/2||L>0&&L<s-1&&O!=null&&M!=null&&e>(T.coordinate+O.coordinate)/2&&e<=(T.coordinate+M.coordinate)/2)return T.index}}return-1},RX=()=>jt(Bk),yS=(e,t)=>t,rL=(e,t,n)=>n,bS=(e,t,n,r)=>r,BX=pe(Eo,e=>A0(e,t=>t.coordinate)),wS=pe([od,yS,rL,bS],V3),kS=pe([wS,cd,Cm,Pm],hS),zX=(e,t,n)=>{if(t!=null){var r=od(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},iL=pe([od,yS,rL,bS],H3),Eg=pe([Co,jo,Bn,ri,Eo,bS,iL,Am],W3),UX=pe([wS,Eg],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),aL=pe([Eo,kS],F3),VX=pe([iL,kS,Nl,Cm,aL,Am,yS],q3),WX=pe([wS,kS],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),HX=(e,t,n,r,i,a,s)=>{if(!(!e||!n||!r||!i)&&FX(e,s)){var o=vW(e,t),l=nL(o,a,i,n,r),c=LX(t,i,l,e);return{activeIndex:String(l),activeCoordinate:c}}},qX=(e,t,n,r,i,a,s)=>{if(!(!e||!r||!i||!a||!n)){var o=D7(e,n);if(o){var l=yW(o,t),c=nL(l,s,a,r,i),d=$X(t,a,c,o);return{activeIndex:String(c),activeCoordinate:d}}}},KX=(e,t,n,r,i,a,s,o)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?HX(e,t,r,i,a,s,o):qX(e,t,n,r,i,a,s)},GX=pe(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),YX=pe(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(fi)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:PG}});function UA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function VA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UA(Object(n),!0).forEach(function(r){XX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XX(e,t,n){return(t=QX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QX(e){var t=ZX(e,"string");return typeof t=="symbol"?t:t+""}function ZX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JX={},eQ={zIndexMap:Object.values(fi).reduce((e,t)=>VA(VA({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),JX)},tQ=new Set(Object.values(fi));function nQ(e){return tQ.has(e)}var sL=aa({name:"zIndex",initialState:eQ,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:or()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!nQ(n)&&delete e.zIndexMap[n])},prepare:or()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:or()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:or()}}}),{registerZIndexPortal:rQ,unregisterZIndexPortal:iQ,registerZIndexPortalElement:aQ,unregisterZIndexPortalElement:sQ}=sL.actions,oQ=sL.reducer;function ws(e){var{zIndex:t,children:n}=e,r=qW(),i=r&&t!==void 0&&t!==0,a=sa(),s=Yn();v.useLayoutEffect(()=>i?(s(rQ({zIndex:t})),()=>{s(iQ({zIndex:t}))}):dm,[s,t,i]);var o=jt(l=>GX(l,t,a));return i?o?ed.createPortal(n,o):null:n}function qb(){return qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qb.apply(null,arguments)}function WA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _h(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WA(Object(n),!0).forEach(function(r){lQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lQ(e,t,n){return(t=cQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cQ(e){var t=uQ(e,"string");return typeof t=="symbol"?t:t+""}function uQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dQ(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return v.isValidElement(t)?v.cloneElement(t,r):v.createElement(n,r)}function fQ(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:l,tooltipEventType:c,chartName:d}=e,f=n,h=r,m=i;if(!l||!f||d!=="ScatterChart"&&c!=="axis")return null;var p,g,y;if(d==="ScatterChart")p=f,g=HH,y=fi.cursorLine;else if(d==="BarChart")p=qH(o,f,a,s),g=JI,y=fi.cursorRectangle;else if(o==="radial"&&p5(f)){var{cx:x,cy:b,radius:w,startAngle:k,endAngle:C}=t_(f);p={cx:x,cy:b,startAngle:k,endAngle:C,innerRadius:w,outerRadius:w},g=r_,y=fi.cursorLine}else p={points:_7(o,f,a)},g=fk,y=fi.cursorLine;var N=typeof l=="object"&&"className"in l?l.className:void 0,j=_h(_h(_h(_h({stroke:"#ccc",pointerEvents:"none"},a),p),Fu(l)),{},{payload:h,payloadIndex:m,className:Tn("recharts-tooltip-cursor",N)});return v.createElement(ws,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:y},v.createElement(dQ,{cursor:l,cursorComp:g,cursorProps:j}))}function mQ(e){var t=MX(),n=LI(),r=pm(),i=RX();return t==null||n==null||r==null||i==null?null:v.createElement(fQ,qb({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var oL=v.createContext(null),hQ=()=>v.useContext(oL),lL={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function a(l,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||l,h),p=n?n+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],m]:l._events[p].push(m):(l._events[p]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)t.call(d,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},o.prototype.listeners=function(c){var d=n?n+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},o.prototype.listenerCount=function(c){var d=n?n+c:c,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,d,f,h,m,p){var g=n?n+c:c;if(!this._events[g])return!1;var y=this._events[g],x=arguments.length,b,w;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,m),!0;case 6:return y.fn.call(y.context,d,f,h,m,p),!0}for(w=1,b=new Array(x-1);w<x;w++)b[w-1]=arguments[w];y.fn.apply(y.context,b)}else{var k=y.length,C;for(w=0;w<k;w++)switch(y[w].once&&this.removeListener(c,y[w].fn,void 0,!0),x){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,d);break;case 3:y[w].fn.call(y[w].context,d,f);break;case 4:y[w].fn.call(y[w].context,d,f,h);break;default:if(!b)for(C=1,b=new Array(x-1);C<x;C++)b[C-1]=arguments[C];y[w].fn.apply(y[w].context,b)}}return!0},o.prototype.on=function(c,d,f){return a(this,c,d,f,!1)},o.prototype.once=function(c,d,f){return a(this,c,d,f,!0)},o.prototype.removeListener=function(c,d,f,h){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return s(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&s(this,m);else{for(var g=0,y=[],x=p.length;g<x;g++)(p[g].fn!==d||h&&!p[g].once||f&&p[g].context!==f)&&y.push(p[g]);y.length?this._events[m]=y.length===1?y[0]:y:s(this,m)}return this},o.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o})(lL);var pQ=lL.exports;const gQ=ys(pQ);var Kf=new gQ,Kb="recharts.syncEvent.tooltip",HA="recharts.syncEvent.brush";function cL(e,t){if(t){var n=Number.parseInt(t,10);if(!$s(n))return e==null?void 0:e[n]}}var xQ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},uL=aa({name:"options",initialState:xQ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),vQ=uL.reducer,{createEventEmitter:yQ}=uL.actions;function bQ(e){return e.tooltip.syncInteraction}var wQ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},dL=aa({name:"chartData",initialState:wQ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:qA,setDataStartEndIndexes:kQ,setComputedData:gge}=dL.actions,SQ=dL.reducer,NQ=["x","y"];function KA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KA(Object(n),!0).forEach(function(r){CQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CQ(e,t,n){return(t=jQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jQ(e){var t=AQ(e,"string");return typeof t=="symbol"?t:t+""}function AQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PQ(e,t){if(e==null)return{};var n,r,i=TQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function TQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function EQ(){var e=jt(zk),t=jt(Uk),n=Yn(),r=jt(n3),i=jt(Eo),a=pm(),s=U0(),o=jt(l=>l.rootProps.className);v.useEffect(()=>{if(e==null)return dm;var l=(c,d,f)=>{if(t!==f&&e===c){if(r==="index"){var h;if(s&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:p,y:g}=m,y=PQ(m,NQ),{x,y:b,width:w,height:k}=d.payload.sourceViewBox,C=Qc(Qc({},y),{},{x:s.x+(w?(p-x)/w:0)*s.width,y:s.y+(k?(g-b)/k:0)*s.height});n(Qc(Qc({},d),{},{payload:Qc(Qc({},d.payload),{},{coordinate:C})}))}else n(d);return}if(i!=null){var N;if(typeof r=="function"){var j={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},D=r(i,j);N=i[D]}else r==="value"&&(N=i.find(de=>String(de.value)===d.payload.label));var{coordinate:L}=d.payload;if(N==null||d.payload.active===!1||L==null||s==null){n(Wb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:T,y:M}=L,O=Math.min(T,s.x+s.width),Q=Math.min(M,s.y+s.height),ee={x:a==="horizontal"?N.coordinate:O,y:a==="horizontal"?Q:N.coordinate},ae=Wb({active:d.payload.active,coordinate:ee,dataKey:d.payload.dataKey,index:String(N.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});n(ae)}}};return Kf.on(Kb,l),()=>{Kf.off(Kb,l)}},[o,n,t,e,r,i,a,s])}function DQ(){var e=jt(zk),t=jt(Uk),n=Yn();v.useEffect(()=>{if(e==null)return dm;var r=(i,a,s)=>{t!==s&&e===i&&n(kQ(a))};return Kf.on(HA,r),()=>{Kf.off(HA,r)}},[n,t,e])}function MQ(){var e=Yn();v.useEffect(()=>{e(yQ())},[e]),EQ(),DQ()}function OQ(e,t,n,r,i,a){var s=jt(m=>zX(m,e,t)),o=jt(Uk),l=jt(zk),c=jt(n3),d=jt(bQ),f=d==null?void 0:d.active,h=U0();v.useEffect(()=>{if(!f&&l!=null&&o!=null){var m=Wb({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:h,graphicalItemId:void 0});Kf.emit(Kb,l,m,o)}},[f,n,s,i,r,o,l,c,a,h])}function GA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function YA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GA(Object(n),!0).forEach(function(r){IQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IQ(e,t,n){return(t=_Q(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Q(e){var t=LQ(e,"string");return typeof t=="symbol"?t:t+""}function LQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $Q(e){return e.dataKey}function FQ(e,t){return v.isValidElement(e)?v.cloneElement(e,t):typeof e=="function"?v.createElement(e,t):v.createElement(NH,t)}var XA=[],RQ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Cc(e){var t,n,r=Kr(e,RQ),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:l,filterNull:c,isAnimationActive:d,offset:f,payloadUniqBy:h,position:m,reverseDirection:p,useTranslate3d:g,wrapperStyle:y,cursor:x,shared:b,trigger:w,defaultIndex:k,portal:C,axisId:N}=r,j=Yn(),D=typeof k=="number"?String(k):k;v.useEffect(()=>{j(_Y({shared:b,trigger:w,axisId:N,active:i,defaultIndex:D}))},[j,b,w,N,i,D]);var L=U0(),T=GI(),M=TY(b),{activeIndex:O,isActive:Q}=(t=jt(K=>WX(K,M,w,D)))!==null&&t!==void 0?t:{},ee=jt(K=>VX(K,M,w,D)),ae=jt(K=>aL(K,M,w,D)),de=jt(K=>UX(K,M,w,D)),Z=ee,Y=hQ(),_=(n=i??Q)!==null&&n!==void 0?n:!1,[E,A]=q5([Z,_]),te=M==="axis"?ae:void 0;OQ(M,w,de,te,O,_);var S=C??Y;if(S==null||L==null||M==null)return null;var U=Z??XA;_||(U=XA),c&&U.length&&(U=I5(U.filter(K=>K.value!=null&&(K.hide!==!0||r.includeHidden)),h,$Q));var q=U.length>0,J=v.createElement(DH,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:d,active:_,coordinate:de,hasPayload:q,offset:f,position:m,reverseDirection:p,useTranslate3d:g,viewBox:L,wrapperStyle:y,lastBoundingBox:E,innerRef:A,hasPortalFromProps:!!C},FQ(l,YA(YA({},r),{},{payload:U,label:te,active:_,activeIndex:O,coordinate:de,accessibilityLayer:T})));return v.createElement(v.Fragment,null,ed.createPortal(J,S),_&&v.createElement(mQ,{cursor:x,tooltipEventType:M,coordinate:de,payload:U,index:O}))}var Ku=e=>null;Ku.displayName="Cell";function BQ(e,t,n){return(t=zQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zQ(e){var t=UQ(e,"string");return typeof t=="symbol"?t:t+""}function UQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class VQ{constructor(t){BQ(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function QA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function WQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QA(Object(n),!0).forEach(function(r){HQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HQ(e,t,n){return(t=qQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qQ(e){var t=KQ(e,"string");return typeof t=="symbol"?t:t+""}function KQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GQ={cacheSize:2e3,enableCache:!0},fL=WQ({},GQ),ZA=new VQ(fL.cacheSize),YQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},JA="recharts_measurement_span";function XQ(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var eP=(e,t)=>{try{var n=document.getElementById(JA);n||(n=document.createElement("span"),n.setAttribute("id",JA),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,YQ,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},rf=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||K0.isSsr)return{width:0,height:0};if(!fL.enableCache)return eP(t,n);var r=XQ(t,n),i=ZA.get(r);if(i)return i;var a=eP(t,n);return ZA.set(r,a),a},mL;function QQ(e,t,n){return(t=ZQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZQ(e){var t=JQ(e,"string");return typeof t=="symbol"?t:t+""}function JQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,eZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,tZ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,nZ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},rZ=["cm","mm","pt","pc","in","Q","px"];function iZ(e){return rZ.includes(e)}var pu="NaN";function aZ(e,t){return e*nZ[t]}class di{static parse(t){var n,[,r,i]=(n=tZ.exec(t))!==null&&n!==void 0?n:[];return r==null?di.NaN:new di(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,$s(t)&&(this.unit=""),n!==""&&!eZ.test(n)&&(this.num=NaN,this.unit=""),iZ(n)&&(this.num=aZ(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new di(NaN,""):new di(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new di(NaN,""):new di(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new di(NaN,""):new di(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new di(NaN,""):new di(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return $s(this.num)}}mL=di;QQ(di,"NaN",new mL(NaN,""));function hL(e){if(e==null||e.includes(pu))return pu;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=tP.exec(t))!==null&&n!==void 0?n:[],s=di.parse(r??""),o=di.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return pu;t=t.replace(tP,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,d,f,h]=(c=nP.exec(t))!==null&&c!==void 0?c:[],m=di.parse(d??""),p=di.parse(h??""),g=f==="+"?m.add(p):m.subtract(p);if(g.isNaN())return pu;t=t.replace(nP,g.toString())}return t}var rP=/\(([^()]*)\)/;function sZ(e){for(var t=e,n;(n=rP.exec(t))!=null;){var[,r]=n;t=t.replace(rP,hL(r))}return t}function oZ(e){var t=e.replace(/\s+/g,"");return t=sZ(t),t=hL(t),t}function lZ(e){try{return oZ(e)}catch{return pu}}function Nv(e){var t=lZ(e.slice(5,-1));return t===pu?"":t}var cZ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],uZ=["dx","dy","angle","className","breakAll"];function Gb(){return Gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gb.apply(null,arguments)}function iP(e,t){if(e==null)return{};var n,r,i=dZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var pL=/[ \f\n\r\t\v\u2028\u2029]+/,gL=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];qr(t)||(n?i=t.toString().split(""):i=t.toString().split(pL));var a=i.map(o=>({word:o,width:rf(o,r).width})),s=n?0:rf("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function fZ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var xL=(e,t,n,r)=>e.reduce((i,a)=>{var{word:s,width:o}=a,l=i[i.length-1];if(l&&o!=null&&(t==null||r||l.width+o+n<Number(t)))l.words.push(s),l.width+=o+n;else{var c={words:[s],width:o};i.push(c)}return i},[]),vL=e=>e.reduce((t,n)=>t.width>n.width?t:n),mZ="",aP=(e,t,n,r,i,a,s,o)=>{var l=e.slice(0,t),c=gL({breakAll:n,style:r,children:l+mZ});if(!c)return[!1,[]];var d=xL(c.wordsWithComputedWidth,a,s,o),f=d.length>i||vL(d).width>Number(a);return[f,d]},hZ=(e,t,n,r,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=e,c=Pt(a),d=String(s),f=xL(t,r,n,i);if(!c||i)return f;var h=f.length>a||vL(f).width>Number(r);if(!h)return f;for(var m=0,p=d.length-1,g=0,y;m<=p&&g<=d.length-1;){var x=Math.floor((m+p)/2),b=x-1,[w,k]=aP(d,b,l,o,a,r,n,i),[C]=aP(d,x,l,o,a,r,n,i);if(!w&&!C&&(m=x+1),w&&C&&(p=x-1),!w&&C){y=k;break}g++}return y||f},sP=e=>{var t=qr(e)?[]:e.toString().split(pL);return[{words:t,width:void 0}]},pZ=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=e;if((t||n)&&!K0.isSsr){var o,l,c=gL({breakAll:a,children:r,style:i});if(c){var{wordsWithComputedWidth:d,spaceWidth:f}=c;o=d,l=f}else return sP(r);return hZ({breakAll:a,children:r,maxLines:s,style:i},o,l,t,!!n)}return sP(r)},yL="#808080",gZ={angle:0,breakAll:!1,capHeight:"0.71em",fill:yL,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},dx=v.forwardRef((e,t)=>{var n=Kr(e,gZ),{x:r,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:l,textAnchor:c,verticalAnchor:d}=n,f=iP(n,cZ),h=v.useMemo(()=>pZ({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:m,dy:p,angle:g,className:y,breakAll:x}=f,b=iP(f,uZ);if(!Fs(r)||!Fs(i)||h.length===0)return null;var w=Number(r)+(Pt(m)?m:0),k=Number(i)+(Pt(p)?p:0);if(!Br(w)||!Br(k))return null;var C;switch(d){case"start":C=Nv("calc(".concat(s,")"));break;case"middle":C=Nv("calc(".concat((h.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:C=Nv("calc(".concat(h.length-1," * -").concat(a,")"));break}var N=[];if(l){var j=h[0].width,{width:D}=f;N.push("scale(".concat(Pt(D)&&Pt(j)?D/j:1,")"))}return g&&N.push("rotate(".concat(g,", ").concat(w,", ").concat(k,")")),N.length&&(b.transform=N.join(" ")),v.createElement("text",Gb({},Bi(b),{ref:t,x:w,y:k,className:Tn("recharts-text",y),textAnchor:c,fill:o.includes("url")?yL:o}),h.map((L,T)=>{var M=L.words.join(x?"":" ");return v.createElement("tspan",{x:w,dy:T===0?C:a,key:"".concat(M,"-").concat(T)},M)}))});dx.displayName="Text";var xZ=["labelRef"],vZ=["content"];function oP(e,t){if(e==null)return{};var n,r,i=yZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function lP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lP(Object(n),!0).forEach(function(r){bZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bZ(e,t,n){return(t=wZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wZ(e){var t=kZ(e,"string");return typeof t=="symbol"?t:t+""}function kZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eo(){return eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eo.apply(null,arguments)}var bL=v.createContext(null),SZ=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:o}=e,l=v.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[t,n,r,i,a,s]);return v.createElement(bL.Provider,{value:l},o)},wL=()=>{var e=v.useContext(bL),t=U0();return e||_I(t)},NZ=v.createContext(null),CZ=()=>{var e=v.useContext(NZ),t=jt(o3);return e||t},jZ=e=>{var{value:t,formatter:n}=e,r=qr(e.children)?t:e.children;return typeof n=="function"?n(r):r},SS=e=>e!=null&&typeof e=="function",AZ=(e,t)=>{var n=Ni(t-e),r=Math.min(Math.abs(t-e),360);return n*r},PZ=(e,t,n,r,i)=>{var{offset:a,className:s}=e,{cx:o,cy:l,innerRadius:c,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=i,p=(c+d)/2,g=AZ(f,h),y=g>=0?1:-1,x,b;switch(t){case"insideStart":x=f+y*a,b=m;break;case"insideEnd":x=h-y*a,b=!m;break;case"end":x=h+y*a,b=m;break;default:throw new Error("Unsupported position ".concat(t))}b=g<=0?b:!b;var w=Fr(o,l,p,x),k=Fr(o,l,p,x+(b?1:-1)*359),C="M".concat(w.x,",").concat(w.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(b?0:1,`,
    `).concat(k.x,",").concat(k.y),N=qr(e.id)?If("recharts-radial-line-"):e.id;return v.createElement("text",eo({},r,{dominantBaseline:"central",className:Tn("recharts-radial-bar-label",s)}),v.createElement("defs",null,v.createElement("path",{id:N,d:C})),v.createElement("textPath",{xlinkHref:"#".concat(N)},n))},TZ=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=e,c=(o+l)/2;if(n==="outside"){var{x:d,y:f}=Fr(r,i,s+t,c);return{x:d,y:f,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+s)/2,{x:m,y:p}=Fr(r,i,h,c);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}},Yb=e=>"cx"in e&&Pt(e.cx),EZ=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!Yb(n)&&(a=n);var{x:s,y:o,upperWidth:l,lowerWidth:c,height:d}=t,f=s,h=s+(l-c)/2,m=(f+h)/2,p=(l+c)/2,g=f+l/2,y=d>=0?1:-1,x=y*r,b=y>0?"end":"start",w=y>0?"start":"end",k=l>=0?1:-1,C=k*r,N=k>0?"end":"start",j=k>0?"start":"end";if(i==="top"){var D={x:f+l/2,y:o-x,textAnchor:"middle",verticalAnchor:b};return Tr(Tr({},D),a?{height:Math.max(o-a.y,0),width:l}:{})}if(i==="bottom"){var L={x:h+c/2,y:o+d+x,textAnchor:"middle",verticalAnchor:w};return Tr(Tr({},L),a?{height:Math.max(a.y+a.height-(o+d),0),width:c}:{})}if(i==="left"){var T={x:m-C,y:o+d/2,textAnchor:N,verticalAnchor:"middle"};return Tr(Tr({},T),a?{width:Math.max(T.x-a.x,0),height:d}:{})}if(i==="right"){var M={x:m+p+C,y:o+d/2,textAnchor:j,verticalAnchor:"middle"};return Tr(Tr({},M),a?{width:Math.max(a.x+a.width-M.x,0),height:d}:{})}var O=a?{width:p,height:d}:{};return i==="insideLeft"?Tr({x:m+C,y:o+d/2,textAnchor:j,verticalAnchor:"middle"},O):i==="insideRight"?Tr({x:m+p-C,y:o+d/2,textAnchor:N,verticalAnchor:"middle"},O):i==="insideTop"?Tr({x:f+l/2,y:o+x,textAnchor:"middle",verticalAnchor:w},O):i==="insideBottom"?Tr({x:h+c/2,y:o+d-x,textAnchor:"middle",verticalAnchor:b},O):i==="insideTopLeft"?Tr({x:f+C,y:o+x,textAnchor:j,verticalAnchor:w},O):i==="insideTopRight"?Tr({x:f+l-C,y:o+x,textAnchor:N,verticalAnchor:w},O):i==="insideBottomLeft"?Tr({x:h+C,y:o+d-x,textAnchor:j,verticalAnchor:b},O):i==="insideBottomRight"?Tr({x:h+c-C,y:o+d-x,textAnchor:N,verticalAnchor:b},O):i&&typeof i=="object"&&(Pt(i.x)||xo(i.x))&&(Pt(i.y)||xo(i.y))?Tr({x:s+wa(i.x,p),y:o+wa(i.y,d),textAnchor:"end",verticalAnchor:"end"},O):Tr({x:g,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},O)},DZ={angle:0,offset:5,zIndex:fi.label,position:"middle",textBreakAll:!1};function qo(e){var t=Kr(e,DZ),{viewBox:n,position:r,value:i,children:a,content:s,className:o="",textBreakAll:l,labelRef:c}=t,d=CZ(),f=wL(),h=r==="center"?f:d??f,m,p,g;if(n==null?m=h:Yb(n)?m=n:m=_I(n),!m||qr(i)&&qr(a)&&!v.isValidElement(s)&&typeof s!="function")return null;var y=Tr(Tr({},t),{},{viewBox:m});if(v.isValidElement(s)){var{labelRef:x}=y,b=oP(y,xZ);return v.cloneElement(s,b)}if(typeof s=="function"){var{content:w}=y,k=oP(y,vZ);if(p=v.createElement(s,k),v.isValidElement(p))return p}else p=jZ(t);var C=Bi(t);if(Yb(m)){if(r==="insideStart"||r==="insideEnd"||r==="end")return PZ(t,r,p,C,m);g=TZ(m,t.offset,t.position)}else g=EZ(t,m);return v.createElement(ws,{zIndex:t.zIndex},v.createElement(dx,eo({ref:c,className:Tn("recharts-label",o)},C,g,{textAnchor:fZ(C.textAnchor)?C.textAnchor:g.textAnchor,breakAll:l}),p))}qo.displayName="Label";var MZ=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?v.createElement(qo,eo({key:"label-implicit"},r)):Fs(e)?v.createElement(qo,eo({key:"label-implicit",value:e},r)):v.isValidElement(e)?e.type===qo?v.cloneElement(e,Tr({key:"label-implicit"},r)):v.createElement(qo,eo({key:"label-implicit",content:e},r)):SS(e)?v.createElement(qo,eo({key:"label-implicit",content:e},r)):e&&typeof e=="object"?v.createElement(qo,eo({},e,{key:"label-implicit"},r)):null};function OZ(e){var{label:t,labelRef:n}=e,r=wL();return MZ(t,r,n)||null}var kL={},SL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(SL);var NL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(NL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SL,n=NL,r=N0;function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(kL);var IZ=kL.last;const _Z=ys(IZ);var LZ=["valueAccessor"],$Z=["dataKey","clockWise","id","textBreakAll","zIndex"];function Dg(){return Dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dg.apply(null,arguments)}function cP(e,t){if(e==null)return{};var n,r,i=FZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function FZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var RZ=e=>Array.isArray(e.value)?_Z(e.value):e.value,CL=v.createContext(void 0),BZ=CL.Provider,jL=v.createContext(void 0),zZ=jL.Provider;function UZ(){return v.useContext(CL)}function VZ(){return v.useContext(jL)}function cp(e){var{valueAccessor:t=RZ}=e,n=cP(e,LZ),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:o}=n,l=cP(n,$Z),c=UZ(),d=VZ(),f=c||d;return!f||!f.length?null:v.createElement(ws,{zIndex:o??fi.label},v.createElement(na,{className:"recharts-label-list"},f.map((h,m)=>{var p,g=qr(r)?t(h,m):ir(h&&h.payload,r),y=qr(a)?{}:{id:"".concat(a,"-").concat(m)};return v.createElement(qo,Dg({key:"label-".concat(m)},Bi(h),l,y,{fill:(p=n.fill)!==null&&p!==void 0?p:h.fill,parentViewBox:h.parentViewBox,value:g,textBreakAll:s,viewBox:h.viewBox,index:m,zIndex:0}))})))}cp.displayName="LabelList";function AL(e){var{label:t}=e;return t?t===!0?v.createElement(cp,{key:"labelList-implicit"}):v.isValidElement(t)||SS(t)?v.createElement(cp,{key:"labelList-implicit",content:t}):typeof t=="object"?v.createElement(cp,Dg({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Xb(){return Xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xb.apply(null,arguments)}var PL=e=>{var{cx:t,cy:n,r,className:i}=e,a=Tn("recharts-dot",i);return Pt(t)&&Pt(n)&&Pt(r)?v.createElement("circle",Xb({},Ka(e),U1(e),{className:a,cx:t,cy:n,r})):null},TL=e=>e.graphicalItems.polarItems,WZ=pe([ur,km],Gk),fx=pe([TL,vr,WZ],Yk),HZ=pe([fx],Xk),mx=pe([HZ,Lk],Qk),qZ=pe([mx,vr,fx],Jk);pe([mx,vr,fx],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var a,s=ir(r,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:ir(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var uP=()=>{},KZ=pe([mx,vr,fx,ox,ur],rS),GZ=pe([vr,tS,nS,uP,KZ,uP,Bn,ur],iS),EL=pe([vr,Bn,mx,qZ,wm,ur,GZ],aS),YZ=pe([EL,vr,sd],lS);pe([vr,EL,YZ,ur],uS);var XZ={radiusAxis:{},angleAxis:{}},DL=aa({name:"polarAxis",initialState:XZ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:xge,removeRadiusAxis:vge,addAngleAxis:yge,removeAngleAxis:bge}=DL.actions,QZ=DL.reducer;function dP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dP(Object(n),!0).forEach(function(r){ZZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZZ(e,t,n){return(t=JZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JZ(e){var t=eJ(e,"string");return typeof t=="symbol"?t:t+""}function eJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tJ=(e,t)=>t,NS=pe([TL,tJ],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),nJ=[],CS=(e,t,n)=>(n==null?void 0:n.length)===0?nJ:n,ML=pe([Lk,NS,CS],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>fP(fP({},t.presentationProps),a.props))),i!=null)return i}}),rJ=pe([ML,NS,CS],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var a,s=ir(r,t.nameKey,t.name),o;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?o=r.fill:o=t.fill,{value:$0(s,t.dataKey),color:o,payload:r,type:t.legendType}})}),iJ=pe([ML,NS,CS,ri],(e,t,n,r)=>{if(!(t==null||e==null))return xee({offset:r,pieSettings:t,displayedData:e,cells:n})}),OL={exports:{}},Vn={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hx=60103,px=60106,Em=60107,Dm=60108,Mm=60114,Om=60109,Im=60110,_m=60112,Lm=60113,jS=60120,$m=60115,Fm=60116,IL=60121,_L=60122,LL=60117,$L=60129,FL=60131;if(typeof Symbol=="function"&&Symbol.for){var li=Symbol.for;hx=li("react.element"),px=li("react.portal"),Em=li("react.fragment"),Dm=li("react.strict_mode"),Mm=li("react.profiler"),Om=li("react.provider"),Im=li("react.context"),_m=li("react.forward_ref"),Lm=li("react.suspense"),jS=li("react.suspense_list"),$m=li("react.memo"),Fm=li("react.lazy"),IL=li("react.block"),_L=li("react.server.block"),LL=li("react.fundamental"),$L=li("react.debug_trace_mode"),FL=li("react.legacy_hidden")}function ks(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case hx:switch(e=e.type,e){case Em:case Mm:case Dm:case Lm:case jS:return e;default:switch(e=e&&e.$$typeof,e){case Im:case _m:case Fm:case $m:case Om:return e;default:return t}}case px:return t}}}var aJ=Om,sJ=hx,oJ=_m,lJ=Em,cJ=Fm,uJ=$m,dJ=px,fJ=Mm,mJ=Dm,hJ=Lm;Vn.ContextConsumer=Im;Vn.ContextProvider=aJ;Vn.Element=sJ;Vn.ForwardRef=oJ;Vn.Fragment=lJ;Vn.Lazy=cJ;Vn.Memo=uJ;Vn.Portal=dJ;Vn.Profiler=fJ;Vn.StrictMode=mJ;Vn.Suspense=hJ;Vn.isAsyncMode=function(){return!1};Vn.isConcurrentMode=function(){return!1};Vn.isContextConsumer=function(e){return ks(e)===Im};Vn.isContextProvider=function(e){return ks(e)===Om};Vn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===hx};Vn.isForwardRef=function(e){return ks(e)===_m};Vn.isFragment=function(e){return ks(e)===Em};Vn.isLazy=function(e){return ks(e)===Fm};Vn.isMemo=function(e){return ks(e)===$m};Vn.isPortal=function(e){return ks(e)===px};Vn.isProfiler=function(e){return ks(e)===Mm};Vn.isStrictMode=function(e){return ks(e)===Dm};Vn.isSuspense=function(e){return ks(e)===Lm};Vn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Em||e===Mm||e===$L||e===Dm||e===Lm||e===jS||e===FL||typeof e=="object"&&e!==null&&(e.$$typeof===Fm||e.$$typeof===$m||e.$$typeof===Om||e.$$typeof===Im||e.$$typeof===_m||e.$$typeof===LL||e.$$typeof===IL||e[0]===_L)};Vn.typeOf=ks;OL.exports=Vn;var pJ=OL.exports,mP=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",hP=null,Cv=null,RL=e=>{if(e===hP&&Array.isArray(Cv))return Cv;var t=[];return v.Children.forEach(e,n=>{qr(n)||(pJ.isFragment(n)?t=t.concat(RL(n.props.children)):t.push(n))}),Cv=t,hP=e,t};function BL(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>mP(i)):r=[mP(t)],RL(e).forEach(i=>{var a=yc(i,"type.displayName")||yc(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var zL=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,UL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(UL);var gJ=UL.isPlainObject;const xJ=ys(gJ);var pP,gP,xP,vP,yP;function bP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bP(Object(n),!0).forEach(function(r){vJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vJ(e,t,n){return(t=yJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yJ(e){var t=bJ(e,"string");return typeof t=="symbol"?t:t+""}function bJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mg(){return Mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mg.apply(null,arguments)}function Od(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var kP=(e,t,n,r,i)=>{var a=n-r,s;return s=Sr(pP||(pP=Od(["M ",",",""])),e,t),s+=Sr(gP||(gP=Od(["L ",",",""])),e+n,t),s+=Sr(xP||(xP=Od(["L ",",",""])),e+n-a/2,t+i),s+=Sr(vP||(vP=Od(["L ",",",""])),e+n-a/2-r,t+i),s+=Sr(yP||(yP=Od(["L ",","," Z"])),e,t),s},wJ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kJ=e=>{var t=Kr(e,wJ),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:o}=t,{animationEasing:l,animationDuration:c,animationBegin:d,isUpdateAnimationActive:f}=t,h=v.useRef(null),[m,p]=v.useState(-1),g=v.useRef(i),y=v.useRef(a),x=v.useRef(s),b=v.useRef(n),w=v.useRef(r),k=Y0(e,"trapezoid-");if(v.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var ee=h.current.getTotalLength();ee&&p(ee)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var C=Tn("recharts-trapezoid",o);if(!f)return v.createElement("g",null,v.createElement("path",Mg({},Bi(t),{className:C,d:kP(n,r,i,a,s)})));var N=g.current,j=y.current,D=x.current,L=b.current,T=w.current,M="0px ".concat(m===-1?1:m,"px"),O="".concat(m,"px 0px"),Q=YI(["strokeDasharray"],c,l);return v.createElement(G0,{animationId:k,key:k,canBegin:m>0,duration:c,easing:l,isActive:f,begin:d},ee=>{var ae=Si(N,i,ee),de=Si(j,a,ee),Z=Si(D,s,ee),Y=Si(L,n,ee),_=Si(T,r,ee);h.current&&(g.current=ae,y.current=de,x.current=Z,b.current=Y,w.current=_);var E=ee>0?{transition:Q,strokeDasharray:O}:{strokeDasharray:M};return v.createElement("path",Mg({},Bi(t),{className:C,d:kP(Y,_,ae,de,Z),ref:h,style:wP(wP({},E),t.style)}))})},SJ=["option","shapeType","activeClassName"];function NJ(e,t){if(e==null)return{};var n,r,i=CJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function CJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function SP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Og(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SP(Object(n),!0).forEach(function(r){jJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jJ(e,t,n){return(t=AJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AJ(e){var t=PJ(e,"string");return typeof t=="symbol"?t:t+""}function PJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TJ(e,t){return Og(Og({},t),e)}function EJ(e,t){return e==="symbols"}function NP(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return v.createElement(JI,n);case"trapezoid":return v.createElement(kJ,n);case"sector":return v.createElement(r_,n);case"symbols":if(EJ(t))return v.createElement(z1,n);break;case"curve":return v.createElement(fk,n);default:return null}}function DJ(e){return v.isValidElement(e)?e.props:e}function VL(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,i=NJ(e,SJ),a;if(v.isValidElement(t))a=v.cloneElement(t,Og(Og({},i),DJ(t)));else if(typeof t=="function")a=t(i,i.index);else if(xJ(t)&&typeof t!="boolean"){var s=TJ(t,i);a=v.createElement(NP,{shapeType:n,elementProps:s})}else{var o=i;a=v.createElement(NP,{shapeType:n,elementProps:o})}return i.isActive?v.createElement(na,{className:r},a):a}var MJ=(e,t,n)=>{var r=Yn();return(i,a)=>s=>{e==null||e(i,a,s),r(B3({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},OJ=e=>{var t=Yn();return(n,r)=>i=>{e==null||e(n,r,i),t(LY())}},IJ=(e,t,n)=>{var r=Yn();return(i,a)=>s=>{e==null||e(i,a,s),r($Y({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function WL(e){var{tooltipEntrySettings:t}=e,n=Yn(),r=sa(),i=v.useRef(null);return v.useLayoutEffect(()=>{r||(i.current===null?n(MY(t)):i.current!==t&&n(OY({prev:i.current,next:t})),i.current=t)},[t,n,r]),v.useLayoutEffect(()=>()=>{i.current&&(n(IY(i.current)),i.current=null)},[n]),null}function _J(e){var{legendPayload:t}=e,n=Yn(),r=sa(),i=v.useRef(null);return v.useLayoutEffect(()=>{r||(i.current===null?n(WI(t)):i.current!==t&&n(HI({prev:i.current,next:t})),i.current=t)},[n,r,t]),v.useLayoutEffect(()=>()=>{i.current&&(n(qI(i.current)),i.current=null)},[n]),null}function LJ(e){var{legendPayload:t}=e,n=Yn(),r=jt(Bn),i=v.useRef(null);return v.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(WI(t)):i.current!==t&&n(HI({prev:i.current,next:t})),i.current=t)},[n,r,t]),v.useLayoutEffect(()=>()=>{i.current&&(n(qI(i.current)),i.current=null)},[n]),null}var jv,$J=()=>{var[e]=v.useState(()=>If("uid-"));return e},FJ=(jv=XR.useId)!==null&&jv!==void 0?jv:$J;function RJ(e,t){var n=FJ();return t||(e?"".concat(e,"-").concat(n):n)}var BJ=v.createContext(void 0),HL=e=>{var{id:t,type:n,children:r}=e,i=RJ("recharts-".concat(n),t);return v.createElement(BJ.Provider,{value:i},r(i))},zJ={cartesianItems:[],polarItems:[]},qL=aa({name:"graphicalItems",initialState:zJ,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:or()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=ds(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:or()},removeCartesianGraphicalItem:{reducer(e,t){var n=ds(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:or()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:or()},removePolarGraphicalItem:{reducer(e,t){var n=ds(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:or()}}}),{addCartesianGraphicalItem:UJ,replaceCartesianGraphicalItem:VJ,removeCartesianGraphicalItem:WJ,addPolarGraphicalItem:HJ,removePolarGraphicalItem:qJ}=qL.actions,KJ=qL.reducer,GJ=e=>{var t=Yn(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(UJ(e)):n.current!==e&&t(VJ({prev:n.current,next:e})),n.current=e},[t,e]),v.useLayoutEffect(()=>()=>{n.current&&(t(WJ(n.current)),n.current=null)},[t]),null},YJ=v.memo(GJ);function XJ(e){var t=Yn();return v.useLayoutEffect(()=>(t(HJ(e)),()=>{t(qJ(e))}),[t,e]),null}var QJ=["key"],ZJ=["onMouseEnter","onClick","onMouseLeave"],JJ=["id"],eee=["id"];function CP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CP(Object(n),!0).forEach(function(r){tee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tee(e,t,n){return(t=nee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nee(e){var t=ree(e,"string");return typeof t=="symbol"?t:t+""}function ree(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pl(){return pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pl.apply(null,arguments)}function gx(e,t){if(e==null)return{};var n,r,i=iee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function iee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function aee(e){var t=v.useMemo(()=>BL(e.children,Ku),[e.children]),n=jt(r=>rJ(r,e.id,t));return n==null?null:v.createElement(LJ,{legendPayload:n})}var see=v.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:c,id:d}=e,f={dataDefinedOnItem:r.map(h=>h.tooltipPayload),positions:r.map(h=>h.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:n,name:$0(o,t),hide:l,type:c,color:s,unit:"",graphicalItemId:d}};return v.createElement(WL,{tooltipEntrySettings:f})}),oee=(e,t)=>e>t?"start":e<t?"end":"middle",lee=(e,t,n)=>wa(typeof t=="function"?t(e):t,n,n*.8),cee=(e,t,n)=>{var{top:r,left:i,width:a,height:s}=t,o=e_(a,s),l=i+wa(e.cx,a,a/2),c=r+wa(e.cy,s,s/2),d=wa(e.innerRadius,o,0),f=lee(n,e.outerRadius,o),h=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:f,maxRadius:h}},uee=(e,t)=>{var n=Ni(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function dee(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var fee=(e,t)=>{if(v.isValidElement(e))return v.cloneElement(e,t);if(typeof e=="function")return e(t);var n=Tn("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,i=gx(t,QJ);return v.createElement(fk,pl({},i,{type:"linear",className:n}))},mee=(e,t,n)=>{if(v.isValidElement(e))return v.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),v.isValidElement(r)))return r;var i=Tn("recharts-pie-label-text",dee(e));return v.createElement(dx,pl({},t,{alignmentBaseline:"middle",className:i}),r)};function hee(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:a,dataKey:s}=n;if(!r||!i||!t)return null;var o=Ka(n),l=Fu(i),c=Fu(a),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,f=t.map((h,m)=>{var p=(h.startAngle+h.endAngle)/2,g=Fr(h.cx,h.cy,h.outerRadius+d,p),y=Cr(Cr(Cr(Cr({},o),h),{},{stroke:"none"},l),{},{index:m,textAnchor:oee(g.x,h.cx)},g),x=Cr(Cr(Cr(Cr({},o),h),{},{fill:"none",stroke:h.fill},c),{},{index:m,points:[Fr(h.cx,h.cy,h.outerRadius,p),g],key:"line"});return v.createElement(ws,{zIndex:fi.label,key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},v.createElement(na,null,a&&fee(a,x),mee(i,y,ir(h,s))))});return v.createElement(na,{className:"recharts-pie-labels"},f)}function pee(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?v.createElement(AL,{label:i}):v.createElement(hee,{sectors:t,props:n,showLabels:r})}function gee(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:a,id:s}=e,o=jt(qu),l=jt(eL),c=jt(kX),{onMouseEnter:d,onClick:f,onMouseLeave:h}=i,m=gx(i,ZJ),p=MJ(d,i.dataKey,s),g=OJ(h),y=IJ(f,i.dataKey,s);return t==null||t.length===0?null:v.createElement(v.Fragment,null,t.map((x,b)=>{if((x==null?void 0:x.startAngle)===0&&(x==null?void 0:x.endAngle)===0&&t.length!==1)return null;var w=c==null||c===s,k=String(b)===o&&(l==null||i.dataKey===l)&&w,C=o?r:null,N=n&&k?n:C,j=Cr(Cr({},x),{},{stroke:x.stroke,tabIndex:-1,[jI]:b,[AI]:s});return v.createElement(na,pl({key:"sector-".concat(x==null?void 0:x.startAngle,"-").concat(x==null?void 0:x.endAngle,"-").concat(x.midAngle,"-").concat(b),tabIndex:-1,className:"recharts-pie-sector"},V1(m,x,b),{onMouseEnter:p(x,b),onMouseLeave:g(x,b),onClick:y(x,b)}),v.createElement(VL,pl({option:a??N,index:b,shapeType:"sector",isActive:k},j)))}))}function xee(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:a}=e,{cornerRadius:s,startAngle:o,endAngle:l,dataKey:c,nameKey:d,tooltipType:f}=n,h=Math.abs(n.minAngle),m=uee(o,l),p=Math.abs(m),g=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,y=r.filter(N=>ir(N,c,0)!==0).length,x=(p>=360?y:y-1)*g,b=p-y*h-x,w=r.reduce((N,j)=>{var D=ir(j,c,0);return N+(Pt(D)?D:0)},0),k;if(w>0){var C;k=r.map((N,j)=>{var D=ir(N,c,0),L=ir(N,d,j),T=cee(n,a,N),M=(Pt(D)?D:0)/w,O,Q=Cr(Cr({},N),i&&i[j]&&i[j].props);j?O=C.endAngle+Ni(m)*g*(D!==0?1:0):O=o;var ee=O+Ni(m)*((D!==0?h:0)+M*b),ae=(O+ee)/2,de=(T.innerRadius+T.outerRadius)/2,Z=[{name:L,value:D,payload:Q,dataKey:c,type:f,graphicalItemId:n.id}],Y=Fr(T.cx,T.cy,de,ae);return C=Cr(Cr(Cr(Cr({},n.presentationProps),{},{percent:M,cornerRadius:typeof s=="string"?parseFloat(s):s,name:L,tooltipPayload:Z,midAngle:ae,middleRadius:de,tooltipPosition:Y},Q),T),{},{value:D,dataKey:c,startAngle:O,endAngle:ee,payload:Q,paddingAngle:Ni(m)*g}),C})}return k}function vee(e){var{showLabels:t,sectors:n,children:r}=e,i=v.useMemo(()=>!t||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,t]);return v.createElement(zZ,{value:t?i:void 0},r)}function yee(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:d,onAnimationStart:f,onAnimationEnd:h}=t,m=Y0(t,"recharts-pie-"),p=n.current,[g,y]=v.useState(!1),x=v.useCallback(()=>{typeof h=="function"&&h(),y(!1)},[h]),b=v.useCallback(()=>{typeof f=="function"&&f(),y(!0)},[f]);return v.createElement(vee,{showLabels:!g,sectors:i},v.createElement(G0,{animationId:m,begin:s,duration:o,isActive:a,easing:l,onAnimationStart:b,onAnimationEnd:x,key:m},w=>{var k=[],C=i&&i[0],N=C==null?void 0:C.startAngle;return i==null||i.forEach((j,D)=>{var L=p&&p[D],T=D>0?yc(j,"paddingAngle",0):0;if(L){var M=Si(L.endAngle-L.startAngle,j.endAngle-j.startAngle,w),O=Cr(Cr({},j),{},{startAngle:N+T,endAngle:N+M+T});k.push(O),N=O.endAngle}else{var{endAngle:Q,startAngle:ee}=j,ae=Si(0,Q-ee,w),de=Cr(Cr({},j),{},{startAngle:N+T,endAngle:N+ae+T});k.push(de),N=de.endAngle}}),n.current=k,v.createElement(na,null,v.createElement(gee,{sectors:k,activeShape:c,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:r}))}),v.createElement(pee,{showLabels:!g,sectors:i,props:t}),t.children)}var bee={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:fi.area};function wee(e){var{id:t}=e,n=gx(e,JJ),{hide:r,className:i,rootTabIndex:a}=e,s=v.useMemo(()=>BL(e.children,Ku),[e.children]),o=jt(d=>iJ(d,t,s)),l=v.useRef(null),c=Tn("recharts-pie",i);return r||o==null?(l.current=null,v.createElement(na,{tabIndex:a,className:c})):v.createElement(ws,{zIndex:e.zIndex},v.createElement(see,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),v.createElement(na,{tabIndex:a,className:c},v.createElement(yee,{props:Cr(Cr({},n),{},{sectors:o}),previousSectorsRef:l,id:t})))}function Ig(e){var t=Kr(e,bee),{id:n}=t,r=gx(t,eee),i=Ka(r);return v.createElement(HL,{id:n,type:"pie"},a=>v.createElement(v.Fragment,null,v.createElement(XJ,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),v.createElement(aee,pl({},r,{id:a})),v.createElement(wee,pl({},r,{id:a}))))}Ig.displayName="Pie";var kee=["points"];function jP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Av(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jP(Object(n),!0).forEach(function(r){See(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function See(e,t,n){return(t=Nee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nee(e){var t=Cee(e,"string");return typeof t=="symbol"?t:t+""}function Cee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _g(){return _g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_g.apply(null,arguments)}function jee(e,t){if(e==null)return{};var n,r,i=Aee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Aee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Pee(e){var{option:t,dotProps:n,className:r}=e;if(v.isValidElement(t))return v.cloneElement(t,n);if(typeof t=="function")return t(n);var i=Tn(r,typeof t!="boolean"?t.className:""),a=n??{},{points:s}=a,o=jee(a,kee);return v.createElement(PL,_g({},o,{className:i}))}function Tee(e,t){return e==null?!1:t?!0:e.length===1}function Eee(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:l,zIndex:c=fi.scatter}=e;if(!Tee(t,n))return null;var d=zL(n),f=l8(n),h=t.map((p,g)=>{var y,x,b=Av(Av(Av({r:3},s),f),{},{index:g,cx:(y=p.x)!==null&&y!==void 0?y:void 0,cy:(x=p.y)!==null&&x!==void 0?x:void 0,dataKey:a,value:p.value,payload:p.payload,points:t});return v.createElement(Pee,{key:"dot-".concat(g),option:n,dotProps:b,className:i})}),m={};return o&&l!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(l,")")),v.createElement(ws,{zIndex:c},v.createElement(na,_g({className:r},m),h))}function AP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AP(Object(n),!0).forEach(function(r){Dee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dee(e,t,n){return(t=Mee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mee(e){var t=Oee(e,"string");return typeof t=="symbol"?t:t+""}function Oee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Iee={xAxis:{},yAxis:{},zAxis:{}},KL=aa({name:"cartesianAxis",initialState:Iee,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:or()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:or()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:or()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:or()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:or()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:or()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:or()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:or()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:or()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);e.yAxis[n]=PP(PP({},e.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:_ee,replaceXAxis:Lee,removeXAxis:$ee,addYAxis:Fee,replaceYAxis:Ree,removeYAxis:Bee,addZAxis:wge,replaceZAxis:kge,removeZAxis:Sge,updateYAxisWidth:zee}=KL.actions,Uee=KL.reducer,Vee=pe([ri],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Wee=pe([Vee,Co,jo],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),AS=()=>jt(Wee),Hee=()=>jt(AX);function TP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(n),!0).forEach(function(r){qee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qee(e,t,n){return(t=Kee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kee(e){var t=Gee(e,"string");return typeof t=="symbol"?t:t+""}function Gee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yee=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:s}=e;if(i===!1||t.x==null||t.y==null)return null;var o={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=Pv(Pv(Pv({},o),Fu(i)),U1(i)),c;return v.isValidElement(i)?c=v.cloneElement(i,l):typeof i=="function"?c=i(l):c=v.createElement(PL,l),v.createElement(na,{className:"recharts-active-dot",clipPath:s},c)};function Xee(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:s=fi.activeDot}=e,o=jt(qu),l=Hee();if(t==null||l==null)return null;var c=t.find(d=>l.includes(d.payload));return qr(c)?null:v.createElement(ws,{zIndex:s},v.createElement(Yee,{point:c,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var GL=e=>{var{chartData:t}=e,n=Yn(),r=sa();return v.useEffect(()=>r?()=>{}:(n(qA(t)),()=>{n(qA(void 0))}),[t,n,r]),null},EP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},YL=aa({name:"brush",initialState:EP,reducers:{setBrushSettings(e,t){return t.payload==null?EP:t.payload}}}),{setBrushSettings:Nge}=YL.actions,Qee=YL.reducer;function Zee(e,t,n){return(t=Jee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jee(e){var t=ete(e,"string");return typeof t=="symbol"?t:t+""}function ete(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class PS{static create(t){return new PS(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}Zee(PS,"EPS",1e-4);function tte(e){return(e%180+180)%180}var nte=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=tte(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},rte={dots:[],areas:[],lines:[]},XL=aa({name:"referenceElements",initialState:rte,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=ds(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=ds(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=ds(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Cge,removeDot:jge,addArea:Age,removeArea:Pge,addLine:Tge,removeLine:Ege}=XL.actions,ite=XL.reducer,ate=v.createContext(void 0),ste=e=>{var{children:t}=e,[n]=v.useState("".concat(If("recharts"),"-clip")),r=AS();if(r==null)return null;var{x:i,y:a,width:s,height:o}=r;return v.createElement(ate.Provider,{value:n},v.createElement("defs",null,v.createElement("clipPath",{id:n},v.createElement("rect",{x:i,y:a,height:o,width:s}))),t)};function QL(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function ote(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return nte(r,n)}function lte(e,t,n){var r=n==="width",{x:i,y:a,width:s,height:o}=e;return t===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function Gf(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function cte(e,t){return QL(e,t+1)}function ute(e,t,n,r,i){for(var a=(r||[]).slice(),{start:s,end:o}=t,l=0,c=1,d=s,f=function(){var p=r==null?void 0:r[l];if(p===void 0)return{v:QL(r,c)};var g=l,y,x=()=>(y===void 0&&(y=n(p,g)),y),b=p.coordinate,w=l===0||Gf(e,b,x,d,o);w||(l=0,d=s,c+=1),w&&(d=b+e*(x()/2+i),l+=c)},h;c<=a.length;)if(h=f(),h)return h.v;return[]}function dte(e,t,n,r,i){var a=(r||[]).slice(),s=a.length;if(s===0)return[];for(var{start:o,end:l}=t,c=1;c<=s;c++){for(var d=(s-1)%c,f=o,h=!0,m=function(){var b=r[p],w=p,k,C=()=>(k===void 0&&(k=n(b,w)),k),N=b.coordinate,j=p===d||Gf(e,N,C,f,l);if(!j)return h=!1,1;j&&(f=N+e*(C()/2+i))},p=d;p<s&&!m();p+=c);if(h){for(var g=[],y=d;y<s;y+=c)g.push(r[y]);return g}}return[]}function DP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DP(Object(n),!0).forEach(function(r){fte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fte(e,t,n){return(t=mte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mte(e){var t=hte(e,"string");return typeof t=="symbol"?t:t+""}function hte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pte(e,t,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:o}=t,{end:l}=t,c=function(h){var m=a[h],p,g=()=>(p===void 0&&(p=n(m,h)),p);if(h===s-1){var y=e*(m.coordinate+e*g()/2-l);a[h]=m=bi(bi({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate})}else a[h]=m=bi(bi({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var x=Gf(e,m.tickCoord,g,o,l);x&&(l=m.tickCoord-e*(g()/2+i),a[h]=bi(bi({},m),{},{isShow:!0}))}},d=s-1;d>=0;d--)c(d);return a}function gte(e,t,n,r,i,a){var s=(r||[]).slice(),o=s.length,{start:l,end:c}=t;if(a){var d=r[o-1],f=n(d,o-1),h=e*(d.coordinate+e*f/2-c);if(s[o-1]=d=bi(bi({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var m=Gf(e,d.tickCoord,()=>f,l,c);m&&(c=d.tickCoord-e*(f/2+i),s[o-1]=bi(bi({},d),{},{isShow:!0}))}}for(var p=a?o-1:o,g=function(b){var w=s[b],k,C=()=>(k===void 0&&(k=n(w,b)),k);if(b===0){var N=e*(w.coordinate-e*C()/2-l);s[b]=w=bi(bi({},w),{},{tickCoord:N<0?w.coordinate-N*e:w.coordinate})}else s[b]=w=bi(bi({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var j=Gf(e,w.tickCoord,C,l,c);j&&(l=w.tickCoord+e*(C()/2+i),s[b]=bi(bi({},w),{},{isShow:!0}))}},y=0;y<p;y++)g(y);return s}function TS(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:c,unit:d,angle:f}=e;if(!i||!i.length||!r)return[];if(Pt(l)||K0.isSsr){var h;return(h=cte(i,Pt(l)?l:0))!==null&&h!==void 0?h:[]}var m=[],p=o==="top"||o==="bottom"?"width":"height",g=d&&p==="width"?rf(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},y=(w,k)=>{var C=typeof c=="function"?c(w.value,k):w.value;return p==="width"?ote(rf(C,{fontSize:t,letterSpacing:n}),g,f):rf(C,{fontSize:t,letterSpacing:n})[p]},x=i.length>=2?Ni(i[1].coordinate-i[0].coordinate):1,b=lte(a,x,p);return l==="equidistantPreserveStart"?ute(x,b,y,i,s):l==="equidistantPreserveEnd"?dte(x,b,y,i,s):(l==="preserveStart"||l==="preserveStartEnd"?m=gte(x,b,y,i,s,l==="preserveStartEnd"):m=pte(x,b,y,i,s),m.filter(w=>w.isShow))}var xte=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=n?n.getBoundingClientRect().width:0,l=i+a,c=s+l+o+(n?r:0);return Math.round(c)}return 0},vte=["axisLine","width","height","className","hide","ticks","axisType"];function yte(e,t){if(e==null)return{};var n,r,i=bte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function jc(){return jc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jc.apply(null,arguments)}function MP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MP(Object(n),!0).forEach(function(r){wte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wte(e,t,n){return(t=kte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kte(e){var t=Ste(e,"string");return typeof t=="symbol"?t:t+""}function Ste(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var co={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:fi.axis};function Nte(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var c=Lr(Lr(Lr({},l),Ka(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!s||a==="bottom"&&s);c=Lr(Lr({},c),{},{x1:t,y1:n+d*i,x2:t+r,y2:n+d*i})}else{var f=+(a==="left"&&!s||a==="right"&&s);c=Lr(Lr({},c),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+i})}return v.createElement("line",jc({},c,{className:Tn("recharts-cartesian-axis-line",yc(o,"className"))}))}function Cte(e,t,n,r,i,a,s,o,l){var c,d,f,h,m,p,g=o?-1:1,y=e.tickSize||s,x=Pt(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":c=d=e.coordinate,h=n+ +!o*i,f=h-g*y,p=f-g*l,m=x;break;case"left":f=h=e.coordinate,d=t+ +!o*r,c=d-g*y,m=c-g*l,p=x;break;case"right":f=h=e.coordinate,d=t+ +o*r,c=d+g*y,m=c+g*l,p=x;break;default:c=d=e.coordinate,h=n+ +o*i,f=h+g*y,p=f+g*l,m=x;break}return{line:{x1:c,y1:f,x2:d,y2:h},tick:{x:m,y:p}}}function jte(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Ate(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Pte(e){var{option:t,tickProps:n,value:r}=e,i,a=Tn(n.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(t))i=v.cloneElement(t,Lr(Lr({},n),{},{className:a}));else if(typeof t=="function")i=t(Lr(Lr({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Tn(s,t==null?void 0:t.className)),i=v.createElement(dx,jc({},n,{className:s}),r)}return i}var Tte=v.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:l,tickTextProps:c,orientation:d,mirror:f,x:h,y:m,width:p,height:g,tickSize:y,tickMargin:x,fontSize:b,letterSpacing:w,getTicksConfig:k,events:C,axisType:N}=e,j=TS(Lr(Lr({},k),{},{ticks:n}),b,w),D=jte(d,f),L=Ate(d,f),T=Ka(k),M=Fu(r),O={};typeof i=="object"&&(O=i);var Q=Lr(Lr({},T),{},{fill:"none"},O),ee=j.map(Z=>Lr({entry:Z},Cte(Z,h,m,p,g,d,y,f,x))),ae=ee.map(Z=>{var{entry:Y,line:_}=Z;return v.createElement(na,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(Y.value,"-").concat(Y.coordinate,"-").concat(Y.tickCoord)},i&&v.createElement("line",jc({},Q,_,{className:Tn("recharts-cartesian-axis-tick-line",yc(i,"className"))})))}),de=ee.map((Z,Y)=>{var{entry:_,tick:E}=Z,A=Lr(Lr(Lr(Lr({textAnchor:D,verticalAnchor:L},T),{},{stroke:"none",fill:a},M),E),{},{index:Y,payload:_,visibleTicksCount:j.length,tickFormatter:s,padding:l},c);return v.createElement(na,jc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},V1(C,_,Y)),r&&v.createElement(Pte,{option:r,tickProps:A,value:"".concat(typeof s=="function"?s(_.value,Y):_.value).concat(o||"")}))});return v.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(N,"-ticks")},de.length>0&&v.createElement(ws,{zIndex:fi.label},v.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(N,"-tick-labels"),ref:t},de)),ae.length>0&&v.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(N,"-tick-lines")},ae))}),Ete=v.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:o,axisType:l}=e,c=yte(e,vte),[d,f]=v.useState(""),[h,m]=v.useState(""),p=v.useRef(null);v.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var y;return xte({ticks:p.current,label:(y=e.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=v.useCallback(y=>{if(y){var x=y.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=x;var b=x[0];if(b){var w=window.getComputedStyle(b),k=w.fontSize,C=w.letterSpacing;(k!==d||C!==h)&&(f(k),m(C))}}},[d,h]);return s||r!=null&&r<=0||i!=null&&i<=0?null:v.createElement(ws,{zIndex:e.zIndex},v.createElement(na,{className:Tn("recharts-cartesian-axis",a)},v.createElement(Nte,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Ka(e)}),v.createElement(Tte,{ref:g,axisType:l,events:c,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),v.createElement(SZ,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},v.createElement(OZ,{label:e.label,labelRef:e.labelRef}),e.children)))}),ES=v.forwardRef((e,t)=>{var n=Kr(e,co);return v.createElement(Ete,jc({},n,{ref:t}))});ES.displayName="CartesianAxis";var Dte=["x1","y1","x2","y2","key"],Mte=["offset"],Ote=["xAxisId","yAxisId"],Ite=["xAxisId","yAxisId"];function OP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ki(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OP(Object(n),!0).forEach(function(r){_te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _te(e,t,n){return(t=Lte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lte(e){var t=$te(e,"string");return typeof t=="symbol"?t:t+""}function $te(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rc(){return rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rc.apply(null,arguments)}function Lg(e,t){if(e==null)return{};var n,r,i=Fte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Fte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Rte=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:o}=e;return v.createElement("rect",{x:r,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function ZL(e){var{option:t,lineItemProps:n}=e,r;if(v.isValidElement(t))r=v.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:s,x2:o,y2:l,key:c}=n,d=Lg(n,Dte),f=(i=Ka(d))!==null&&i!==void 0?i:{},{offset:h}=f,m=Lg(f,Mte);r=v.createElement("line",rc({},m,{x1:a,y1:s,x2:o,y2:l,fill:"none",key:c}))}return r}function Bte(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=Lg(e,Ote),l=i.map((c,d)=>{var f=ki(ki({},o),{},{x1:t,y1:c,x2:t+n,y2:c,key:"line-".concat(d),index:d});return v.createElement(ZL,{key:"line-".concat(d),option:r,lineItemProps:f})});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function zte(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=Lg(e,Ite),l=i.map((c,d)=>{var f=ki(ki({},o),{},{x1:c,y1:t,x2:c,y2:t+n,key:"line-".concat(d),index:d});return v.createElement(ZL,{option:r,lineItemProps:f,key:"line-".concat(d)})});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Ute(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length||o==null)return null;var c=o.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==c[0]&&c.unshift(0);var d=c.map((f,h)=>{var m=!c[h+1],p=m?i+s-f:c[h+1]-f;if(p<=0)return null;var g=h%t.length;return v.createElement("rect",{key:"react-".concat(h),y:f,x:r,height:p,width:a,stroke:"none",fill:t[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Vte(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:o,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var c=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==c[0]&&c.unshift(0);var d=c.map((f,h)=>{var m=!c[h+1],p=m?i+s-f:c[h+1]-f;if(p<=0)return null;var g=h%n.length;return v.createElement("rect",{key:"react-".concat(h),x:f,y:a,width:p,height:o,stroke:"none",fill:n[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Wte=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return SI(TS(ki(ki(ki({},co),n),{},{ticks:NI(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},Hte=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return SI(TS(ki(ki(ki({},co),n),{},{ticks:NI(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},qte={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:fi.grid};function Yf(e){var t=lk(),n=ck(),r=LI(),i=ki(ki({},Kr(e,qte)),{},{x:Pt(e.x)?e.x:r.left,y:Pt(e.y)?e.y:r.top,width:Pt(e.width)?e.width:r.width,height:Pt(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:c,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=i,p=sa(),g=jt(L=>_A(L,"xAxis",a,p)),y=jt(L=>_A(L,"yAxis",s,p));if(!Rs(c)||!Rs(d)||!Pt(o)||!Pt(l))return null;var x=i.verticalCoordinatesGenerator||Wte,b=i.horizontalCoordinatesGenerator||Hte,{horizontalPoints:w,verticalPoints:k}=i;if((!w||!w.length)&&typeof b=="function"){var C=h&&h.length,N=b({yAxis:y?ki(ki({},y),{},{ticks:C?h:y.ticks}):void 0,width:t??c,height:n??d,offset:r},C?!0:f);lg(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(w=N)}if((!k||!k.length)&&typeof x=="function"){var j=m&&m.length,D=x({xAxis:g?ki(ki({},g),{},{ticks:j?m:g.ticks}):void 0,width:t??c,height:n??d,offset:r},j?!0:f);lg(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(k=D)}return v.createElement(ws,{zIndex:i.zIndex},v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(Rte,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),v.createElement(Ute,rc({},i,{horizontalPoints:w})),v.createElement(Vte,rc({},i,{verticalPoints:k})),v.createElement(Bte,rc({},i,{offset:r,horizontalPoints:w,xAxis:g,yAxis:y})),v.createElement(zte,rc({},i,{offset:r,verticalPoints:k,xAxis:g,yAxis:y}))))}Yf.displayName="CartesianGrid";var Kte={},JL=aa({name:"errorBars",initialState:Kte,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Dge,replaceErrorBar:Mge,removeErrorBar:Oge}=JL.actions,Gte=JL.reducer,Yte=["children"];function Xte(e,t){if(e==null)return{};var n,r,i=Qte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Qte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Zte={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Jte=v.createContext(Zte);function ene(e){var{children:t}=e,n=Xte(e,Yte);return v.createElement(Jte.Provider,{value:n},t)}function e4(e,t){var n,r,i=jt(c=>Po(c,e)),a=jt(c=>To(c,t)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Zr.allowDataOverflow,o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Jr.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function tne(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=AS(),{needClipX:a,needClipY:s,needClip:o}=e4(t,n);if(!o||!i)return null;var{x:l,y:c,width:d,height:f}=i;return v.createElement("clipPath",{id:"clipPath-".concat(r)},v.createElement("rect",{x:a?l:l-d/2,y:s?c:c-f/2,width:a?d:d*2,height:s?f:f*2}))}var t4=(e,t,n,r)=>I3(e,"xAxis",t,r),n4=(e,t,n,r)=>O3(e,"xAxis",t,r),r4=(e,t,n,r)=>I3(e,"yAxis",n,r),i4=(e,t,n,r)=>O3(e,"yAxis",n,r),nne=pe([Bn,t4,r4,n4,i4],(e,t,n,r,i)=>wl(e,"xAxis")?og(t,r,!1):og(n,i,!1)),rne=(e,t,n,r,i)=>i;function ine(e){return e.type==="line"}var ane=pe([m3,rne],(e,t)=>e.filter(ine).find(n=>n.id===t)),sne=pe([Bn,t4,r4,n4,i4,ane,nne,$k],(e,t,n,r,i,a,s,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:d}=o;if(!(a==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||s==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:h}=a,m;if(h!=null&&h.length>0?m=h:m=l==null?void 0:l.slice(c,d+1),m!=null)return Qne({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:f,bandSize:s,displayedData:m})}});function one(e){var t=Fu(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(o)||o<0)&&(o=r),{r:s,strokeWidth:o}}return{r:n,strokeWidth:r}}var lne={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm=v;function cne(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var une=typeof Object.is=="function"?Object.is:cne,dne=Rm.useSyncExternalStore,fne=Rm.useRef,mne=Rm.useEffect,hne=Rm.useMemo,pne=Rm.useDebugValue;lne.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=fne(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=hne(function(){function l(m){if(!c){if(c=!0,d=m,m=r(m),i!==void 0&&s.hasValue){var p=s.value;if(i(p,m))return f=p}return f=m}if(p=f,une(d,m))return p;var g=r(m);return i!==void 0&&i(p,g)?(d=m,p):(d=m,f=g)}var c=!1,d,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var o=dne(e,a[0],a[1]);return mne(function(){s.hasValue=!0,s.value=o},[o]),pne(o),o};function gne(e){e()}function xne(){let e=null,t=null;return{clear(){e=null,t=null},notify(){gne(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var IP={notify(){},get:()=>[]};function vne(e,t){let n,r=IP,i=0,a=!1;function s(g){d();const y=r.subscribe(g);let x=!1;return()=>{x||(x=!0,y(),f())}}function o(){r.notify()}function l(){p.onStateChange&&p.onStateChange()}function c(){return a}function d(){i++,n||(n=e.subscribe(l),r=xne())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=IP)}function h(){a||(a=!0,d())}function m(){a&&(a=!1,f())}const p={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>r};return p}var yne=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bne=yne(),wne=()=>typeof navigator<"u"&&navigator.product==="ReactNative",kne=wne(),Sne=()=>bne||kne?v.useLayoutEffect:v.useEffect,Nne=Sne();function _P(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Cne(e,t){if(_P(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!_P(e[n[i]],t[n[i]]))return!1;return!0}var Tv=Symbol.for("react-redux-context"),Ev=typeof globalThis<"u"?globalThis:{};function jne(){if(!v.createContext)return{};const e=Ev[Tv]??(Ev[Tv]=new Map);let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var Ane=jne();function Pne(e){const{children:t,context:n,serverState:r,store:i}=e,a=v.useMemo(()=>{const l=vne(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=v.useMemo(()=>i.getState(),[i]);Nne(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=n||Ane;return v.createElement(o.Provider,{value:a},t)}var Tne=Pne,Ene=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Dne(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function DS(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(Ene.has(r)){if(e[r]==null&&t[r]==null)continue;if(!Cne(e[r],t[r]))return!1}else if(!Dne(e[r],t[r]))return!1;return!0}var Mne=["id"],One=["type","layout","connectNulls","needClip","shape"],Ine=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Xf(){return Xf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xf.apply(null,arguments)}function LP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Es(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LP(Object(n),!0).forEach(function(r){_ne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _ne(e,t,n){return(t=Lne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lne(e){var t=$ne(e,"string");return typeof t=="symbol"?t:t+""}function $ne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MS(e,t){if(e==null)return{};var n,r,i=Fne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Fne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Rne=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:$0(n,t),payload:e}]},Bne=v.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:l,tooltipType:c,id:d}=e,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:$0(s,t),hide:o,type:c,color:r,unit:l,graphicalItemId:d}};return v.createElement(WL,{tooltipEntrySettings:f})}),a4=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function zne(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var Une=(e,t,n)=>{var r=n.reduce((f,h)=>f+h);if(!r)return a4(t,e);for(var i=Math.floor(e/r),a=e%r,s=t-e,o=[],l=0,c=0;l<n.length;c+=n[l],++l)if(c+n[l]>a){o=[...n.slice(0,l),a-c];break}var d=o.length%2===0?[0,s]:[s];return[...zne(n,i),...o,...d].map(f=>"".concat(f,"px")).join(", ")};function Vne(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:a,needClip:s}=r,{id:o}=r,l=MS(r,Mne),c=Ka(l);return v.createElement(Eee,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:c,needClip:s,clipPathId:t})}function Wne(e){var{showLabels:t,children:n,points:r}=e,i=v.useMemo(()=>r==null?void 0:r.map(a=>{var s,o,l={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Es(Es({},l),{},{value:a.value,payload:a.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return v.createElement(BZ,{value:t?i:void 0},n)}function $P(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:a}=e,{type:s,layout:o,connectNulls:l,needClip:c,shape:d}=a,f=MS(a,One),h=Es(Es({},Bi(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:r,type:s,layout:o,connectNulls:l,strokeDasharray:i??a.strokeDasharray});return v.createElement(v.Fragment,null,(r==null?void 0:r.length)>1&&v.createElement(VL,Xf({shapeType:"curve",option:d},h,{pathRef:n})),v.createElement(Vne,{points:r,clipPathId:t,props:a}))}function Hne(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function qne(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:s,strokeDasharray:o,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:f,animateNewValues:h,width:m,height:p,onAnimationEnd:g,onAnimationStart:y}=n,x=i.current,b=Y0(s,"recharts-line-"),w=v.useRef(b),[k,C]=v.useState(!1),N=!k,j=v.useCallback(()=>{typeof g=="function"&&g(),C(!1)},[g]),D=v.useCallback(()=>{typeof y=="function"&&y(),C(!0)},[y]),L=Hne(r.current),T=v.useRef(0);w.current!==b&&(T.current=a.current,w.current=b);var M=T.current;return v.createElement(Wne,{points:s,showLabels:N},n.children,v.createElement(G0,{animationId:b,begin:c,duration:d,isActive:l,easing:f,onAnimationEnd:j,onAnimationStart:D,key:b},O=>{var Q=Si(M,L+M,O),ee=Math.min(Q,L),ae;if(l)if(o){var de="".concat(o).split(/[,\s]+/gim).map(_=>parseFloat(_));ae=Une(ee,L,de)}else ae=a4(L,ee);else ae=o==null?void 0:String(o);if(O>0&&L>0&&(i.current=s,a.current=Math.max(a.current,ee)),x){var Z=x.length/s.length,Y=O===1?s:s.map((_,E)=>{var A=Math.floor(E*Z);if(x[A]){var te=x[A];return Es(Es({},_),{},{x:Si(te.x,_.x,O),y:Si(te.y,_.y,O)})}return h?Es(Es({},_),{},{x:Si(m*2,_.x,O),y:Si(p/2,_.y,O)}):Es(Es({},_),{},{x:_.x,y:_.y})});return i.current=Y,v.createElement($P,{props:n,points:Y,clipPathId:t,pathRef:r,strokeDasharray:ae})}return v.createElement($P,{props:n,points:s,clipPathId:t,pathRef:r,strokeDasharray:ae})}),v.createElement(AL,{label:n.label}))}function Kne(e){var{clipPathId:t,props:n}=e,r=v.useRef(null),i=v.useRef(0),a=v.useRef(null);return v.createElement(qne,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var Gne=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:ir(e.payload,t)}};class Yne extends v.Component{render(){var{hide:t,dot:n,points:r,className:i,xAxisId:a,yAxisId:s,top:o,left:l,width:c,height:d,id:f,needClip:h,zIndex:m}=this.props;if(t)return null;var p=Tn("recharts-line",i),g=f,{r:y,strokeWidth:x}=one(n),b=zL(n),w=y*2+x,k=h?"url(#clipPath-".concat(b?"":"dots-").concat(g,")"):void 0;return v.createElement(ws,{zIndex:m},v.createElement(na,{className:p},h&&v.createElement("defs",null,v.createElement(tne,{clipPathId:g,xAxisId:a,yAxisId:s}),!b&&v.createElement("clipPath",{id:"clipPath-dots-".concat(g)},v.createElement("rect",{x:l-w/2,y:o-w/2,width:c+w,height:d+w}))),v.createElement(ene,{xAxisId:a,yAxisId:s,data:r,dataPointFormatter:Gne,errorBarOffset:0},v.createElement(Kne,{props:this.props,clipPathId:g}))),v.createElement(Xee,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:k}))}}var s4={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:fi.line,type:"linear"};function Xne(e){var t=Kr(e,s4),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,hide:c,isAnimationActive:d,label:f,legendType:h,xAxisId:m,yAxisId:p,id:g}=t,y=MS(t,Ine),{needClip:x}=e4(m,p),b=AS(),w=pm(),k=sa(),C=jt(T=>sne(T,m,p,k,g));if(w!=="horizontal"&&w!=="vertical"||C==null||b==null)return null;var{height:N,width:j,x:D,y:L}=b;return v.createElement(Yne,Xf({},y,{id:g,connectNulls:o,dot:l,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:d,hide:c,label:f,legendType:h,xAxisId:m,yAxisId:p,points:C,layout:w,height:N,width:j,left:D,top:L,needClip:x}))}function Qne(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:l}=e;return l.map((c,d)=>{var f=ir(c,s);if(t==="horizontal"){var h=KC({axis:n,ticks:i,bandSize:o,entry:c,index:d}),m=qr(f)?null:r.scale(f);return{x:h,y:m,value:f,payload:c}}var p=qr(f)?null:n.scale(f),g=KC({axis:r,ticks:a,bandSize:o,entry:c,index:d});return p==null||g==null?null:{x:p,y:g,value:f,payload:c}}).filter(Boolean)}function Zne(e){var t=Kr(e,s4),n=sa();return v.createElement(HL,{id:t.id,type:"line"},r=>v.createElement(v.Fragment,null,v.createElement(_J,{legendPayload:Rne(t)}),v.createElement(Bne,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),v.createElement(YJ,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),v.createElement(Xne,Xf({},t,{id:r}))))}var to=v.memo(Zne,DS);to.displayName="Line";var Jne=["domain","range"],ere=["domain","range"];function FP(e,t){if(e==null)return{};var n,r,i=tre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function RP(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function o4(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=FP(e,Jne),{domain:a,range:s}=t,o=FP(t,ere);return!RP(n,a)||!RP(r,s)?!1:DS(i,o)}var nre=["dangerouslySetInnerHTML","ticks","scale"],rre=["id","scale"];function Qb(){return Qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qb.apply(null,arguments)}function BP(e,t){if(e==null)return{};var n,r,i=ire(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ire(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function are(e){var t=Yn(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(_ee(e)):n.current!==e&&t(Lee({prev:n.current,next:e})),n.current=e},[e,t]),v.useLayoutEffect(()=>()=>{n.current&&(t($ee(n.current)),n.current=null)},[t]),null}var sre=e=>{var{xAxisId:t,className:n}=e,r=jt(PI),i=sa(),a="xAxis",s=jt(x=>M3(x,a,t,i)),o=jt(x=>pY(x,t)),l=jt(x=>wY(x,t)),c=jt(x=>u3(x,t));if(o==null||l==null||c==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:h}=e,m=BP(e,nre),{id:p,scale:g}=c,y=BP(c,rre);return v.createElement(ES,Qb({},m,y,{x:l.x,y:l.y,width:o.width,height:o.height,className:Tn("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:s,axisType:a}))},ore={allowDataOverflow:Zr.allowDataOverflow,allowDecimals:Zr.allowDecimals,allowDuplicatedCategory:Zr.allowDuplicatedCategory,angle:Zr.angle,axisLine:co.axisLine,height:Zr.height,hide:!1,includeHidden:Zr.includeHidden,interval:Zr.interval,minTickGap:Zr.minTickGap,mirror:Zr.mirror,orientation:Zr.orientation,padding:Zr.padding,reversed:Zr.reversed,scale:Zr.scale,tick:Zr.tick,tickCount:Zr.tickCount,tickLine:co.tickLine,tickSize:co.tickSize,type:Zr.type,xAxisId:0},lre=e=>{var t=Kr(e,ore);return v.createElement(v.Fragment,null,v.createElement(are,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),v.createElement(sre,t))},Qf=v.memo(lre,o4);Qf.displayName="XAxis";var cre=["dangerouslySetInnerHTML","ticks","scale"],ure=["id","scale"];function Zb(){return Zb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zb.apply(null,arguments)}function zP(e,t){if(e==null)return{};var n,r,i=dre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function fre(e){var t=Yn(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(Fee(e)):n.current!==e&&t(Ree({prev:n.current,next:e})),n.current=e},[e,t]),v.useLayoutEffect(()=>()=>{n.current&&(t(Bee(n.current)),n.current=null)},[t]),null}var mre=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=v.useRef(null),s=v.useRef(null),o=jt(PI),l=sa(),c=Yn(),d="yAxis",f=jt(N=>NY(N,t)),h=jt(N=>SY(N,t)),m=jt(N=>M3(N,d,t,l)),p=jt(N=>d3(N,t));if(v.useLayoutEffect(()=>{if(!(r!=="auto"||!f||SS(i)||v.isValidElement(i)||p==null)){var N=a.current;if(N){var j=N.getCalculatedWidth();Math.round(f.width)!==Math.round(j)&&c(zee({id:t,width:j}))}}},[m,f,c,i,t,r,p]),f==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:g,ticks:y,scale:x}=e,b=zP(e,cre),{id:w,scale:k}=p,C=zP(p,ure);return v.createElement(ES,Zb({},b,C,{ref:a,labelRef:s,x:h.x,y:h.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:Tn("recharts-".concat(d," ").concat(d),n),viewBox:o,ticks:m,axisType:d}))},hre={allowDataOverflow:Jr.allowDataOverflow,allowDecimals:Jr.allowDecimals,allowDuplicatedCategory:Jr.allowDuplicatedCategory,angle:Jr.angle,axisLine:co.axisLine,hide:!1,includeHidden:Jr.includeHidden,interval:Jr.interval,minTickGap:Jr.minTickGap,mirror:Jr.mirror,orientation:Jr.orientation,padding:Jr.padding,reversed:Jr.reversed,scale:Jr.scale,tick:Jr.tick,tickCount:Jr.tickCount,tickLine:co.tickLine,tickSize:co.tickSize,type:Jr.type,width:Jr.width,yAxisId:0},pre=e=>{var t=Kr(e,hre);return v.createElement(v.Fragment,null,v.createElement(fre,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),v.createElement(mre,t))},Zf=v.memo(pre,o4);Zf.displayName="YAxis";var gre=(e,t)=>t,OS=pe([gre,Bn,o3,Yr,X3,Eo,BX,ri],KX),IS=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},l4=Ga("mouseClick"),c4=mm();c4.startListening({actionCreator:l4,effect:(e,t)=>{var n=e.payload,r=OS(t.getState(),IS(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(FY({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Jb=Ga("mouseMove"),u4=mm(),Lh=null;u4.startListening({actionCreator:Jb,effect:(e,t)=>{var n=e.payload;Lh!==null&&cancelAnimationFrame(Lh);var r=IS(n);Lh=requestAnimationFrame(()=>{var i=t.getState(),a=mS(i,i.tooltip.settings.shared);if(a==="axis"){var s=OS(i,r);(s==null?void 0:s.activeIndex)!=null?t.dispatch(U3({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(z3())}Lh=null})}});function xre(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var UP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},d4=aa({name:"rootProps",initialState:UP,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:UP.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),vre=d4.reducer,{updateOptions:yre}=d4.actions,f4=aa({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:bre}=f4.actions,wre=f4.reducer,m4=Ga("keyDown"),h4=Ga("focus"),_S=mm();_S.startListening({actionCreator:m4,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=hS(i,cd(n),Cm(n),Pm(n)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var l=Eo(n);if(a==="Enter"){var c=Eg(n,"axis","hover",String(i.index));t.dispatch(Hb({active:!i.active,activeIndex:i.index,activeCoordinate:c}));return}var d=PY(n),f=d==="left-to-right"?1:-1,h=a==="ArrowRight"?1:-1,m=o+h*f;if(!(l==null||m>=l.length||m<0)){var p=Eg(n,"axis","hover",String(m));t.dispatch(Hb({active:!0,activeIndex:m.toString(),activeCoordinate:p}))}}}}}});_S.startListening({actionCreator:h4,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=Eg(n,"axis","hover",String(a));t.dispatch(Hb({active:!0,activeIndex:a,activeCoordinate:s}))}}}});var La=Ga("externalEvent"),p4=mm(),Dv=new Map;p4.startListening({actionCreator:La,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=Dv.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=t.getState(),l={activeCoordinate:NX(o),activeDataKey:eL(o),activeIndex:qu(o),activeLabel:J3(o),activeTooltipIndex:qu(o),isTooltipActive:CX(o)};n(l,r)}finally{Dv.delete(i)}});Dv.set(i,s)}}});var kre=pe([od],e=>e.tooltipItemPayloads),Sre=pe([kre,Am,(e,t)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(o=>o.settings.graphicalItemId===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,n);return s}}}),g4=Ga("touchMove"),x4=mm();x4.startListening({actionCreator:g4,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=mS(r,r.tooltip.settings.shared);if(i==="axis"){var a=n.touches[0];if(a==null)return;var s=OS(r,IS({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(U3({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(jI),f=(o=c.getAttribute(AI))!==null&&o!==void 0?o:void 0,h=ld(r).find(g=>g.id===f);if(d==null||h==null||f==null)return;var{dataKey:m}=h,p=Sre(r,d,f);t.dispatch(B3({activeDataKey:m,activeIndex:d,activeCoordinate:p,activeGraphicalItemId:f}))}}}});var Nre=G5({brush:Qee,cartesianAxis:Uee,chartData:SQ,errorBars:Gte,graphicalItems:KJ,layout:aW,legend:sH,options:vQ,polarAxis:QZ,polarOptions:wre,referenceElements:ite,rootProps:vre,tooltip:RY,zIndex:oQ}),Cre=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return E9({reducer:Nre,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([c4.middleware,u4.middleware,_S.middleware,p4.middleware,x4.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(cI({type:"raf"}))},devTools:{serialize:{replacer:xre},name:"recharts-".concat(n)}})};function v4(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=sa(),a=v.useRef(null);if(i)return n;a.current==null&&(a.current=Cre(t,r));var s=Z1;return v.createElement(Tne,{context:s,store:a.current},n)}function jre(e){var{layout:t,margin:n}=e,r=Yn(),i=sa();return v.useEffect(()=>{i||(r(nW(t)),r(tW(n)))},[r,i,t,n]),null}var y4=v.memo(jre,DS);function b4(e){var t=Yn();return v.useEffect(()=>{t(yre(e))},[t,e]),null}function VP(e){var{zIndex:t,isPanorama:n}=e,r=v.useRef(null),i=Yn();return v.useLayoutEffect(()=>(r.current&&i(aQ({zIndex:t,element:r.current,isPanorama:n})),()=>{i(sQ({zIndex:t,isPanorama:n}))}),[i,t,n]),v.createElement("g",{tabIndex:-1,ref:r})}function WP(e){var{children:t,isPanorama:n}=e,r=jt(YX);if(!r||r.length===0)return t;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return v.createElement(v.Fragment,null,i.map(s=>v.createElement(VP,{key:s,zIndex:s,isPanorama:n})),t,a.map(s=>v.createElement(VP,{key:s,zIndex:s,isPanorama:n})))}var Are=["children"];function Pre(e,t){if(e==null)return{};var n,r,i=Tre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Tre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function $g(){return $g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$g.apply(null,arguments)}var Ere={width:"100%",height:"100%",display:"block"},Dre=v.forwardRef((e,t)=>{var n=lk(),r=ck(),i=GI();if(!Rs(n)||!Rs(r))return null;var{children:a,otherAttributes:s,title:o,desc:l}=e,c,d;return s!=null&&(typeof s.tabIndex=="number"?c=s.tabIndex:c=i?0:void 0,typeof s.role=="string"?d=s.role:d=i?"application":void 0),v.createElement(L1,$g({},s,{title:o,desc:l,role:d,tabIndex:c,width:n,height:r,style:Ere,ref:t}),a)}),Mre=e=>{var{children:t}=e,n=jt(z0);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return v.createElement(L1,{width:r,height:i,x:s,y:a},t)},HP=v.forwardRef((e,t)=>{var{children:n}=e,r=Pre(e,Are),i=sa();return i?v.createElement(Mre,null,v.createElement(WP,{isPanorama:!0},n)):v.createElement(Dre,$g({ref:t},r),v.createElement(WP,{isPanorama:!1},n))});function Ore(){var e=Yn(),[t,n]=v.useState(null),r=jt(bW);return v.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Br(a)&&a!==r&&e(iW(a))}},[t,e,r]),n}function qP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ire(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qP(Object(n),!0).forEach(function(r){_re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _re(e,t,n){return(t=Lre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lre(e){var t=$re(e,"string");return typeof t=="symbol"?t:t+""}function $re(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ac(){return Ac=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ac.apply(null,arguments)}var Fre=()=>(MQ(),null);function Fg(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Rre=v.forwardRef((e,t)=>{var n,r,i=v.useRef(null),[a,s]=v.useState({containerWidth:Fg((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Fg((r=e.style)===null||r===void 0?void 0:r.height)}),o=v.useCallback((c,d)=>{s(f=>{var h=Math.round(c),m=Math.round(d);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),l=v.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=c.getBoundingClientRect();o(d,f);var h=p=>{var{width:g,height:y}=p[0].contentRect;o(g,y)},m=new ResizeObserver(h);m.observe(c),i.current=m}},[t,o]);return v.useEffect(()=>()=>{var c=i.current;c!=null&&c.disconnect()},[o]),v.createElement(v.Fragment,null,v.createElement(V0,{width:a.containerWidth,height:a.containerHeight}),v.createElement("div",Ac({ref:l},e)))}),Bre=v.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=v.useState({containerWidth:Fg(n),containerHeight:Fg(r)}),s=v.useCallback((l,c)=>{a(d=>{var f=Math.round(l),h=Math.round(c);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),o=v.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:c,height:d}=l.getBoundingClientRect();s(c,d)}},[t,s]);return v.createElement(v.Fragment,null,v.createElement(V0,{width:i.containerWidth,height:i.containerHeight}),v.createElement("div",Ac({ref:o},e)))}),zre=v.forwardRef((e,t)=>{var{width:n,height:r}=e;return v.createElement(v.Fragment,null,v.createElement(V0,{width:n,height:r}),v.createElement("div",Ac({ref:t},e)))}),Ure=v.forwardRef((e,t)=>{var{width:n,height:r}=e;return xo(n)||xo(r)?v.createElement(Bre,Ac({},e,{ref:t})):v.createElement(zre,Ac({},e,{ref:t}))});function Vre(e){return e===!0?Rre:Ure}var Wre=v.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:c,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:p,onTouchStart:g,style:y,width:x,responsive:b,dispatchTouchEvents:w=!0}=e,k=v.useRef(null),C=Yn(),[N,j]=v.useState(null),[D,L]=v.useState(null),T=Ore(),M=ok(),O=(M==null?void 0:M.width)>0?M.width:x,Q=(M==null?void 0:M.height)>0?M.height:i,ee=v.useCallback(F=>{T(F),typeof t=="function"&&t(F),j(F),L(F),F!=null&&(k.current=F)},[T,t,j,L]),ae=v.useCallback(F=>{C(l4(F)),C(La({handler:a,reactEvent:F}))},[C,a]),de=v.useCallback(F=>{C(Jb(F)),C(La({handler:c,reactEvent:F}))},[C,c]),Z=v.useCallback(F=>{C(z3()),C(La({handler:d,reactEvent:F}))},[C,d]),Y=v.useCallback(F=>{C(Jb(F)),C(La({handler:f,reactEvent:F}))},[C,f]),_=v.useCallback(()=>{C(h4())},[C]),E=v.useCallback(F=>{C(m4(F.key))},[C]),A=v.useCallback(F=>{C(La({handler:s,reactEvent:F}))},[C,s]),te=v.useCallback(F=>{C(La({handler:o,reactEvent:F}))},[C,o]),S=v.useCallback(F=>{C(La({handler:l,reactEvent:F}))},[C,l]),U=v.useCallback(F=>{C(La({handler:h,reactEvent:F}))},[C,h]),q=v.useCallback(F=>{C(La({handler:g,reactEvent:F}))},[C,g]),J=v.useCallback(F=>{w&&C(g4(F)),C(La({handler:p,reactEvent:F}))},[C,w,p]),K=v.useCallback(F=>{C(La({handler:m,reactEvent:F}))},[C,m]),re=Vre(b);return v.createElement(oL.Provider,{value:N},v.createElement(KO.Provider,{value:D},v.createElement(re,{width:O??(y==null?void 0:y.width),height:Q??(y==null?void 0:y.height),className:Tn("recharts-wrapper",r),style:Ire({position:"relative",cursor:"default",width:O,height:Q},y),onClick:ae,onContextMenu:A,onDoubleClick:te,onFocus:_,onKeyDown:E,onMouseDown:S,onMouseEnter:de,onMouseLeave:Z,onMouseMove:Y,onMouseUp:U,onTouchEnd:K,onTouchMove:J,onTouchStart:q,ref:ee},v.createElement(Fre,null),n)))}),Hre=["width","height","responsive","children","className","style","compact","title","desc"];function qre(e,t){if(e==null)return{};var n,r,i=Kre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Kre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var w4=v.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:o,compact:l,title:c,desc:d}=e,f=qre(e,Hre),h=Ka(f);return l?v.createElement(v.Fragment,null,v.createElement(V0,{width:n,height:r}),v.createElement(HP,{otherAttributes:h,title:c,desc:d},a)):v.createElement(Wre,{className:s,style:o,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},v.createElement(HP,{otherAttributes:h,title:c,desc:d,ref:t},v.createElement(ste,null,a)))});function ew(){return ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ew.apply(null,arguments)}var Gre={top:5,right:5,bottom:5,left:5},Yre={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Gre,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Xre=v.forwardRef(function(t,n){var r,i=Kr(t.categoricalChartProps,Yre),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:c}=t,d={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return v.createElement(v4,{preloadedState:{options:d},reduxStoreName:(r=c.id)!==null&&r!==void 0?r:a},v.createElement(GL,{chartData:c.data}),v.createElement(y4,{layout:i.layout,margin:i.margin}),v.createElement(b4,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),v.createElement(w4,ew({},i,{ref:n})))}),Qre=["axis"],Rg=v.forwardRef((e,t)=>v.createElement(Xre,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Qre,tooltipPayloadSearcher:cL,categoricalChartProps:e,ref:t}));function Zre(e){var t=Yn();return v.useEffect(()=>{t(bre(e))},[t,e]),null}var Jre=["layout"];function tw(){return tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tw.apply(null,arguments)}function eie(e,t){if(e==null)return{};var n,r,i=tie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var nie={top:5,right:5,bottom:5,left:5},k4={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:nie,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},rie=v.forwardRef(function(t,n){var r,i=Kr(t.categoricalChartProps,k4),{layout:a}=i,s=eie(i,Jre),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d}=t,f={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return v.createElement(v4,{preloadedState:{options:f},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:o},v.createElement(GL,{chartData:i.data}),v.createElement(y4,{layout:a,margin:i.margin}),v.createElement(b4,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),v.createElement(Zre,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),v.createElement(w4,tw({},s,{ref:n})))});function KP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function GP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KP(Object(n),!0).forEach(function(r){iie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iie(e,t,n){return(t=aie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aie(e){var t=sie(e,"string");return typeof t=="symbol"?t:t+""}function sie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oie=["item"],lie=GP(GP({},k4),{},{layout:"centric",startAngle:0,endAngle:360}),nw=v.forwardRef((e,t)=>{var n=Kr(e,lie);return v.createElement(rie,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:oie,tooltipPayloadSearcher:cL,categoricalChartProps:n,ref:t})});const Pn=({value:e,options:t,onChange:n,className:r="",activeClassName:i,inactiveClassName:a})=>u.jsx("div",{className:`pill-toggle-group flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1 text-[10px] uppercase tracking-[0.25em] text-gray-400 ${r}`,children:t.map(s=>u.jsx("button",{type:"button",onClick:()=>n(s.value),className:`pill-toggle-option px-2.5 py-1 rounded-full transition-colors ${e===s.value?`pill-toggle-option--active ${i}`:a}`,children:s.label},s.value))}),YP="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",af=new Map,Pu=new Map,cie=async e=>{var n;if(!((n=window==null?void 0:window.electronAPI)!=null&&n.fetchImageAsDataUrl))return;const t=Array.from(new Set(e)).filter(r=>/^https?:\/\//i.test(r));await Promise.all(t.map(async r=>{if(af.has(r)||Pu.has(r))return;const i=(async()=>{const a=await window.electronAPI.fetchImageAsDataUrl(r),s=a!=null&&a.success&&a.dataUrl?a.dataUrl:null;return s&&af.set(r,s),s})();Pu.set(r,i);try{await i}finally{Pu.delete(r)}}))},uie=e=>{const[t,n]=v.useState(()=>{var r;return e?!((r=window==null?void 0:window.electronAPI)!=null&&r.fetchImageAsDataUrl)||!/^https?:\/\//i.test(e)?e:af.get(e)||YP:null});return v.useEffect(()=>{var s;if(!e){n(null);return}if(!((s=window==null?void 0:window.electronAPI)!=null&&s.fetchImageAsDataUrl)){n(e);return}if(!/^https?:\/\//i.test(e)){n(e);return}const r=af.get(e);if(r){n(r);return}let i=!0;const a=Pu.get(e)||(async()=>{const o=await window.electronAPI.fetchImageAsDataUrl(e),l=o!=null&&o.success&&o.dataUrl?o.dataUrl:null;return l&&af.set(e,l),l})();return Pu.set(e,a),a.then(o=>{if(i){if(o){n(o);return}n(YP)}}).finally(()=>{Pu.delete(e)}),()=>{i=!1}},[e]),t},die=(e,t,n,r)=>{const[i,a]=v.useState("bottom"),[s,o]=v.useState(0);return v.useEffect(()=>{if(!e)return;const l=requestAnimationFrame(()=>{const c=n.current,d=r.current;if(!c||!d)return;const f=c.getBoundingClientRect(),h=d.getBoundingClientRect(),p=(D=>{let L=(D==null?void 0:D.parentElement)||null;for(;L;){const T=window.getComputedStyle(L),M=`${T.overflow}${T.overflowY}${T.overflowX}`;if(/(auto|scroll|hidden)/.test(M))return L;L=L.parentElement}return null})(c),g=p?p.getBoundingClientRect():{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth},y=g.bottom-f.bottom,x=f.top-g.top,b=y<h.height+8&&x>y?"top":"bottom";a(b);const w=6,k=f.left+f.width/2,C=g.left+w+h.width/2,N=g.right-w-h.width/2,j=Math.min(Math.max(k,C),N);o(j-k)});return()=>cancelAnimationFrame(l)},[e,...t]),{placement:i,shiftX:s}},fie=(e,t=5)=>{const n=Object.entries(e).filter(([,i])=>i>0).sort((i,a)=>a[1]-i[1]||i[0].localeCompare(a[0])).map(([i,a])=>({profession:i,count:a})),r=[];for(let i=0;i<n.length;i+=t)r.push(n.slice(i,i+t));return r},S4=(e,t,n,r,i=8)=>{const[a,s]=v.useState({position:"fixed",top:-9999,left:-9999,transform:"translateX(-50%)"});return v.useEffect(()=>{if(!e)return;const o=()=>{const c=n.current,d=r.current;if(!c||!d)return;const f=c.getBoundingClientRect(),h=d.getBoundingClientRect(),m=window.innerHeight-f.bottom,p=f.top,g=m<h.height+i&&p>m?Math.max(i,f.top-h.height-i):Math.min(window.innerHeight-h.height-i,f.bottom+i),y=f.left+f.width/2,x=i+h.width/2,b=window.innerWidth-i-h.width/2,w=Math.min(Math.max(y,x),b);s({position:"fixed",top:g,left:w,transform:"translateX(-50%)"})},l=requestAnimationFrame(o);return window.addEventListener("scroll",o,!0),window.addEventListener("resize",o),()=>{cancelAnimationFrame(l),window.removeEventListener("scroll",o,!0),window.removeEventListener("resize",o)}},[e,i,...t]),a},mie=({profession:e,professionList:t,className:n="w-4 h-4 object-contain"})=>{const r=(t||[]).filter(Boolean),i=e==="Multi"&&r.length>0?r[0]:e,a=Jl(i||"Unknown"),s=r.length>1,[o,l]=v.useState(!1),c=v.useRef(null),d=v.useRef(null),f=`${n} object-contain`,{placement:h,shiftX:m}=die(o,[r.length,f],c,d),p=Array.from(new Set(r.map(b=>lc(b||"Unknown")))).slice(0,4),g=p.length>1?`conic-gradient(${p.map((b,w)=>`${b} ${w*360/p.length}deg ${(w+1)*360/p.length}deg`).join(", ")})`:p[0]||"#9ca3af";if(!a)return null;const y=h==="top"?"bottom-full mb-2":"top-full mt-2",x={transform:`translateX(calc(-50% + ${m}px))`};return u.jsxs("span",{ref:c,className:`relative inline-flex shrink-0 ${s?"group":""}`,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[u.jsx("img",{src:a,alt:i||"Unknown",className:`${f} shrink-0`}),s&&u.jsxs(u.Fragment,{children:[u.jsx("span",{"aria-hidden":"true",className:"absolute -top-0.5 -right-0.5 h-2.5 w-2.5 rounded-full ring-1 ring-[#10141b] shadow-[0_0_0_1px_rgba(255,255,255,0.08)]",style:{background:g},children:u.jsx("span",{className:"absolute inset-[0.7px] rounded-full bg-[#0f141c]/55"})}),u.jsxs("div",{ref:d,style:x,className:`profession-multi-tooltip absolute left-1/2 z-50 w-max rounded-md border border-white/10 bg-black/70 px-2 py-1 text-[10px] text-gray-200 shadow-lg pointer-events-none ${y} ${o?"block":"hidden"}`,children:[u.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:"Multi"}),u.jsx("div",{className:"space-y-1",children:r.map(b=>{const w=Jl(b||"Unknown");return u.jsxs("div",{className:"flex items-center gap-1",children:[w?u.jsx("img",{src:w,alt:b||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,u.jsx("span",{className:"text-gray-100",children:b||"Unknown"})]},b)})})]})]})]})},hie=(e,t,n="w-4 h-4 object-contain")=>u.jsx(mie,{profession:e,professionList:t,className:n}),Mv=({count:e,classCounts:t,label:n,className:r})=>{const i=fie(t||{}),a=e>0,[s,o]=v.useState(!1),l=v.useRef(null),c=v.useRef(null),d=S4(s,[i.length,e],l,c);return u.jsxs("span",{ref:l,className:`relative inline-flex items-center justify-end ${a?"group cursor-help":""}`,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[u.jsx("span",{className:r,children:e}),a&&typeof document<"u"&&ed.createPortal(u.jsxs("div",{ref:c,style:d,className:`count-class-tooltip z-[9999] w-max rounded-md border border-white/10 bg-black/70 px-2 py-1 text-[10px] text-gray-200 shadow-lg pointer-events-none ${s?"block":"hidden"}`,children:[u.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:n}),i.length>0?u.jsx("div",{className:"grid grid-flow-col auto-cols-fr gap-2",children:i.map((f,h)=>u.jsx("div",{className:"space-y-1",children:f.map(({profession:m,count:p})=>{const g=Jl(m||"Unknown");return u.jsxs("div",{className:"flex items-center gap-1",children:[g?u.jsx("img",{src:g,alt:m||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,u.jsx("span",{className:"text-gray-100",children:m||"Unknown"}),u.jsx("span",{className:"text-gray-400",children:""}),u.jsx("span",{className:"text-gray-200",children:p})]},m)})},`${n}-col-${h}`))}):u.jsx("div",{className:"text-[10px] text-gray-500 italic",children:"No class data available"})]}),document.body)]})},Ar=({name:e,iconUrl:t,className:n="",iconClassName:r="h-4 w-4",textClassName:i="",truncateText:a=!0})=>{const s=uie(t);return u.jsxs("span",{className:`inline-flex items-center gap-2 min-w-0 ${n}`,children:[s?u.jsx("img",{src:s,alt:e,className:`${r} shrink-0`}):null,u.jsx("span",{className:`${a?"truncate":""} ${i}`,children:e})]})},XP=({value:e,label:t,items:n,className:r})=>{const i=n.length>0,[a,s]=v.useState(!1),o=v.useRef(null),l=v.useRef(null),c=S4(a,[n.length],o,l);return u.jsxs("span",{ref:o,className:`relative inline-flex items-center justify-end ${i?"group cursor-help":""} ${r||""}`,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[u.jsx("span",{children:e}),i&&typeof document<"u"&&ed.createPortal(u.jsxs("div",{ref:l,style:c,className:`skill-breakdown-tooltip z-[9999] w-64 rounded-md border border-white/10 bg-black/70 px-3 py-2 text-[10px] text-gray-200 shadow-lg pointer-events-none ${a?"block":"hidden"}`,children:[u.jsx("div",{className:"text-[9px] uppercase tracking-wider text-amber-200 mb-1",children:t}),u.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1",children:n.map(d=>u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsx("span",{className:"truncate text-gray-100",children:u.jsx(Ar,{name:d.name,iconUrl:d.iconUrl,iconClassName:"h-6 w-6"})}),u.jsx("span",{className:"text-gray-300 font-mono",children:d.value})]},d.name))})]}),document.body)]})},pie=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,selectedPlayers:o,setSelectedPlayers:l,removeSelectedPlayer:c,playerMapByKey:d,groupedSkillUsagePlayers:f,expandedSkillUsageClass:h,setExpandedSkillUsageClass:m,togglePlayerSelection:p,skillUsagePlayerFilter:g,setSkillUsagePlayerFilter:y,skillUsageView:x,setSkillUsageView:b,skillUsageData:w,skillUsageSkillFilter:k,setSkillUsageSkillFilter:C,selectedSkillId:N,setSelectedSkillId:j,skillBarData:D,selectedSkillName:L,selectedSkillIcon:T,skillUsageReady:M,skillUsageAvailable:O,isSkillUsagePerSecond:Q,skillChartData:ee,skillChartMaxY:ae,playerTotalsForSkill:de,hoveredSkillPlayer:Z,setHoveredSkillPlayer:Y,getLineStrokeColor:_,getLineDashForPlayer:E,formatSkillUsageValue:A,renderProfessionIcon:te})=>u.jsxs("div",{id:"skill-usage","data-section-visible":i("skill-usage"),"data-section-first":a("skill-usage"),className:s("skill-usage",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${e==="skill-usage"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[u.jsxs("div",{className:e==="skill-usage"?"pr-10 md:pr-0":"",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(N1,{className:"w-5 h-5 text-cyan-400"}),"Skill Usage Tracker"]}),u.jsx("p",{className:"text-xs text-gray-400",children:"Compare how often squad members cast a skill and drill into the timeline breakdown."})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Pn,{value:x,onChange:b,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[w.logRecords.length," ",w.logRecords.length===1?"log":"logs"]}),u.jsx("button",{type:"button",onClick:()=>e==="skill-usage"?r():n("skill-usage"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="skill-usage"?"absolute top-2 right-2 md:static":""}`,"aria-label":e==="skill-usage"?"Close Skill Usage":"Expand Skill Usage",title:e==="skill-usage"?"Close":"Expand",children:e==="skill-usage"?u.jsx(Wi,{className:"w-4 h-4"}):u.jsx(ia,{className:"w-4 h-4"})})]})]}),o.length>0&&u.jsxs("div",{className:"flex items-center gap-2 pb-2 overflow-x-auto pr-1 -mx-1 px-1",children:[u.jsx("button",{type:"button",onClick:()=>l([]),className:"shrink-0 px-3 py-1 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:"Clear All"}),o.map(S=>{const U=d.get(S);return U?u.jsxs("span",{className:"flex items-center gap-1 rounded-full border border-cyan-400/40 bg-cyan-500/10 px-3 py-1 text-xs text-cyan-200 shrink-0",children:[u.jsx("span",{className:"truncate max-w-[140px]",children:U.displayName}),u.jsxs("span",{className:"text-[10px] text-cyan-200/70",children:[U.logs," ",U.logs===1?"log":"logs"]}),u.jsx("button",{type:"button",onClick:()=>c(U.key),className:"rounded-full p-1 text-cyan-200 hover:bg-white/20",children:u.jsx(AO,{className:"w-3 h-3"})})]},U.key):null})]}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Squad Players"}),u.jsx("input",{type:"search",value:g,onChange:S=>y(S.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),u.jsx("div",{className:"skill-usage-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:f.length===0?u.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No squad players match the filter"}):f.map(S=>{const U=h===S.profession,q=S.players.map(K=>K.key),J=q.length>0&&q.every(K=>o.includes(K));return u.jsxs("div",{className:"border-b border-white/5 last:border-b-0",children:[u.jsx("button",{type:"button",onClick:()=>{if(U){m(null);return}m(S.profession)},className:`skill-usage-player-list-item w-full px-3 py-2 text-left transition-colors ${U?"bg-white/10":"hover:bg-white/5"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[te(S.profession,void 0,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:S.profession})]}),u.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[u.jsxs("span",{className:"text-[10px]",children:[S.players.length,"p"]}),U?u.jsx(tb,{className:"w-3.5 h-3.5"}):u.jsx(y6,{className:"w-3.5 h-3.5"})]})]})}),U&&u.jsxs("div",{className:"pb-2",children:[u.jsxs("div",{className:"px-6 pt-1 pb-2 flex items-center justify-between text-[11px] text-gray-400",children:[u.jsxs("span",{children:[S.players.length," ",S.players.length===1?"player":"players"]}),u.jsx("button",{type:"button",onClick:()=>{l(K=>{if(J)return K.filter(F=>!q.includes(F));const re=new Set(K);return q.forEach(F=>re.add(F)),Array.from(re)})},className:"skill-usage-player-list-item px-2 py-0.5 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:J?"Clear All":"Select All"})]}),S.players.map(K=>{const re=o.includes(K.key);return u.jsx("button",{type:"button",onClick:()=>p(K.key),className:`skill-usage-player-list-item w-full border-b border-white/5 px-6 py-2 text-left transition-colors last:border-b-0 ${re?"border-cyan-400 bg-cyan-500/10 text-white":"border-transparent hover:border-white/10 hover:bg-white/5"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:K.displayName}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:[K.account,"  ",K.profession,"  ",K.logs," ",K.logs===1?"log":"logs"]})]}),re&&u.jsx(NO,{className:"w-4 h-4 text-cyan-300"})]})},K.key)})]})]},S.profession)})})]}),u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Skill Totals"}),u.jsx("div",{className:"text-[11px] text-gray-500",children:o.length>0?`${o.length} player${o.length===1?"":"s"}  ${Q?"casts/sec":"total casts"}`:"Select players"})]}),u.jsx("input",{type:"search",value:k,onChange:S=>C(S.target.value),placeholder:"Filter skill names",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),u.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/20 p-0.5 flex-1 min-h-0",children:o.length===0?u.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"Select squad players to see the skills they cast."}):D.length===0?u.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"No skill casts found for the selected players."}):(()=>{const S=D.reduce((U,q)=>Math.max(U,q.total),0)||1;return u.jsx("div",{className:"space-y-0.5 h-full overflow-y-auto pr-0.5",children:D.map((U,q)=>{const J=Math.min(100,U.total/S*100),K=N===U.skillId;return u.jsxs("button",{type:"button",onClick:()=>j(U.skillId),className:`w-full space-y-1 rounded-lg border px-2 py-1.5 text-left transition-colors ${K?"border-white/60 bg-white/10":"border-white/10 bg-white/5 hover:border-white/30 hover:bg-white/10"}`,children:[u.jsxs("div",{className:"flex items-center justify-between text-sm text-white min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-400",children:`#${q+1}`}),u.jsx(Ar,{name:U.name,iconUrl:U.icon,iconClassName:"h-6 w-6",className:"min-w-0 flex-1 max-w-[58vw] sm:max-w-none",textClassName:"font-semibold"})]}),u.jsx("span",{className:"text-cyan-200 font-mono text-xs shrink-0",children:A(U.total)})]}),u.jsx("div",{className:"h-1 w-full rounded-full bg-white/10",children:u.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${J}%`,backgroundColor:U.color}})})]},U.skillId)})})})()})]})]}),u.jsx("div",{className:"space-y-3",children:M?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-4 rounded-2xl bg-black/50 p-4 mt-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:L?u.jsx(Ar,{name:L,iconUrl:T,iconClassName:"h-6 w-6"}):"Selected Skill Usage"}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:["(",Q?"casts per second":"casts per log",")"]})]}),u.jsx(wc,{width:"100%",height:250,children:u.jsxs(Rg,{data:ee,children:[u.jsx(Yf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Qf,{dataKey:"index",type:"number",tick:{fill:"#e2e8f0",fontSize:10},interval:0,tickFormatter:S=>{const U=ee[S],q=String((U==null?void 0:U.shortLabel)??S);return q.length>20?`${q.slice(0,20)}`:q}}),u.jsx(Zf,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,ae)],allowDecimals:!1}),u.jsx(Cc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},content:({active:S,payload:U,label:q})=>{var F;if(!S||!U||U.length===0)return null;const J=[...U].sort((W,ce)=>(ce.value||0)-(W.value||0)),K=J[0],re=((F=K==null?void 0:K.payload)==null?void 0:F.fullLabel)||q;return u.jsxs("div",{className:"rounded-lg bg-slate-900/95 border border-white/10 px-3 py-2 shadow-xl",children:[u.jsx("div",{className:"text-sm text-white mb-1",children:re}),u.jsx("div",{className:"space-y-1",children:J.map(W=>{const ce=String(W.name||""),ie=d.get(ce),$=(ie==null?void 0:ie.displayName)||ce||"Player",z=A(Number(W.value||0)),I=W.color||"#38bdf8";return u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"truncate",style:{color:I},children:$}),u.jsx("span",{className:"text-gray-200 font-mono",children:z})]},`${$}-${z}`)})})]})}}),o.map(S=>{const U=Z.includes(S),q=Z.length>0,J=_(S,U,q),K=E(S),re=Z.length>0&&!U;return u.jsx(to,{dataKey:S,stroke:J,strokeWidth:U?4:3,strokeDasharray:K,opacity:re?.6:1,dot:!1,isAnimationActive:o.length<=16,animationDuration:420,animationEasing:"ease-out"},S)})]})})]}),o.length>0&&u.jsxs("div",{className:"rounded-2xl bg-black/40 border border-white/10 p-4 space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.4em] text-gray-400",children:"Selected Players"}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[o.length," ",o.length===1?"player":"players"]})]}),u.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:[...o].sort((S,U)=>(de.get(U)||0)-(de.get(S)||0)).map(S=>{const U=d.get(S),q=de.get(S)??0,J=Z.includes(S),K=Z.length>0,re=_(S,J,K);return u.jsxs("button",{type:"button",onClick:()=>{Y(F=>F.includes(S)?F.filter(W=>W!==S):[...F,S])},className:`w-full rounded-2xl border bg-white/5 p-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-left transition cursor-pointer focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/70 min-w-0 ${J?"border-white/40 bg-white/10":"border-white/10 hover:border-white/30 hover:bg-white/10"}`,"aria-pressed":J,children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("svg",{className:"h-2 w-6",viewBox:"0 0 24 4","aria-hidden":"true",children:u.jsx("line",{x1:"0",y1:"2",x2:"24",y2:"2",stroke:re,strokeWidth:"2",strokeDasharray:E(S),strokeLinecap:"round"})}),te(U==null?void 0:U.profession,U==null?void 0:U.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.4em] text-gray-400",children:"Player"}),u.jsx("div",{className:"font-semibold text-white truncate",children:(U==null?void 0:U.displayName)||S}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:[(U==null?void 0:U.logs)??0," ",((U==null?void 0:U.logs)??0)===1?"log":"logs"]})]})]}),u.jsx("div",{className:"text-2xl sm:text-3xl font-black text-white font-mono self-end sm:self-auto shrink-0",children:A(q)})]},S)})})]})]}):u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 mt-2 text-center text-xs text-gray-400",children:O?"Pick one skill and up to two players to visualize their usage over time.":"Upload or highlight logs with rotation data to enable the skill usage tracker."})})]}),gie=({containerRef:e,className:t=""})=>{const n=v.useRef(null),[r,i]=v.useState(0),[a,s]=v.useState(0),o=v.useRef(!1),l=v.useRef(0),c=v.useRef(0);v.useLayoutEffect(()=>{const h=e.current;if(!h)return;let m=0;const p=()=>{const{scrollWidth:w,clientWidth:k,scrollLeft:C}=h,N=w>k,j=n.current,D=(j==null?void 0:j.clientWidth)||0;if(!D){m=window.requestAnimationFrame(p);return}if(!N){i(D),s(0);return}const L=k/w,T=Math.max(20,Math.floor(D*L)),M=w-k,O=Math.max(0,D-T),Q=M>0?Math.floor(C/M*O):0;i(T),s(Q)};p();const g=()=>p(),y=new ResizeObserver(p);y.observe(h);const x=h.firstElementChild;x instanceof HTMLElement&&y.observe(x),n.current&&y.observe(n.current);const b=new MutationObserver(()=>p());return b.observe(h,{childList:!0,subtree:!0,attributes:!0}),window.addEventListener("resize",p),h.addEventListener("scroll",g),()=>{m&&window.cancelAnimationFrame(m),y.disconnect(),b.disconnect(),window.removeEventListener("resize",p),h.removeEventListener("scroll",g)}},[e]),v.useEffect(()=>{const h=p=>{if(!o.current)return;const g=n.current,y=e.current;if(!g||!y)return;const x=g.getBoundingClientRect(),b=p.clientX-l.current,w=Math.max(0,x.width-r),k=Math.min(w,Math.max(0,c.current+b)),C=y.scrollWidth-y.clientWidth,N=w>0?k/w*C:0;y.scrollLeft=N},m=()=>{o.current=!1};return window.addEventListener("pointermove",h),window.addEventListener("pointerup",m),()=>{window.removeEventListener("pointermove",h),window.removeEventListener("pointerup",m)}},[e,r]);const d=h=>{const m=n.current,p=e.current;if(!m||!p||r<=0)return;const g=m.getBoundingClientRect(),y=h.clientX-g.left,x=Math.max(0,g.width-r),b=Math.min(x,Math.max(0,y-r/2)),w=p.scrollWidth-p.clientWidth;p.scrollLeft=x>0?b/x*w:0},f=h=>{r<=0||(o.current=!0,l.current=h.clientX,c.current=a,h.currentTarget.setPointerCapture(h.pointerId))};return u.jsx("div",{className:`scroll-scrubber ${t}`,children:u.jsx("div",{ref:n,className:"scroll-scrubber__track",onClick:d,children:u.jsx("div",{className:"scroll-scrubber__thumb",style:{width:`${r}px`,transform:`translateX(${a}px)`},onPointerDown:f})})})},gs=({title:e,subtitle:t,controls:n,columns:r,rows:i,sortColumnId:a,sortDirection:s="desc",onSortColumn:o,className:l=""})=>{const c=v.useRef(null),d=["minmax(170px, max-content)",...r.map(f=>`minmax(${f.minWidth??60}px, max-content)`)].join(" ");return u.jsxs("div",{className:`dense-table ${l}`,children:[(e||t)&&u.jsxs("div",{className:"dense-table__header",children:[e&&u.jsx("div",{className:"dense-table__title",children:e}),t&&u.jsx("div",{className:"dense-table__subtitle",children:t})]}),n&&u.jsx("div",{className:"dense-table__controls",children:n}),u.jsx("div",{ref:c,className:"dense-table__scroll",children:u.jsxs("div",{className:"dense-table__grid",style:{gridTemplateColumns:d},children:[u.jsx("div",{className:"dense-table__head dense-table__head--sticky dense-table__head--pinned",children:u.jsx("div",{className:"dense-table__head-inner",children:"Player"})}),r.map(f=>{const h=!!o,p=a===f.id?s==="desc"?"":"":null;return u.jsx("div",{className:`dense-table__head ${f.align==="right"?"dense-table__cell--right":""}`,style:f.minWidth?{minWidth:f.minWidth}:void 0,children:h?u.jsxs("button",{type:"button",onClick:()=>o==null?void 0:o(f.id),className:"dense-table__head-inner",children:[u.jsx("span",{className:"truncate",children:f.label}),p&&u.jsx("span",{className:"text-[10px] text-slate-200",children:p})]}):u.jsx("div",{className:"dense-table__head-inner",children:f.label})},f.id)}),i.map(f=>u.jsxs("div",{className:"dense-table__row",children:[u.jsx("div",{className:"dense-table__cell dense-table__cell--label dense-table__cell--pinned",children:f.label}),r.map(h=>u.jsx("div",{className:`dense-table__cell ${h.align==="right"?"dense-table__cell--right":""}`,children:f.values[h.id]??"-"},`${f.id}-${h.id}`))]},f.id))]})}),u.jsx(gie,{containerRef:c})]})},xs=({options:e,selectedIds:t,placeholder:n="Search...",onSelect:r,className:i=""})=>{const[a,s]=v.useState(""),[o,l]=v.useState(!1),[c,d]=v.useState(0),f=v.useRef(null),h=v.useRef(null),m=v.useRef(new Map);v.useEffect(()=>{const x=b=>{f.current&&(f.current.contains(b.target)||l(!1))};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const p=v.useMemo(()=>{const x=a.trim().toLowerCase();return x?e.filter(b=>b.label.toLowerCase().includes(x)).slice(0,50):e.slice(0,50)},[e,a]),g=v.useMemo(()=>{const x=new Map;return p.forEach((b,w)=>{x.set(`${b.type}-${b.id}`,w)}),x},[p]),y=v.useMemo(()=>{const x=p.filter(w=>w.type==="column"),b=p.filter(w=>w.type==="player");return{columns:x,players:b}},[p]);return v.useEffect(()=>{if(o){if(p.length===0){d(0);return}d(x=>Math.min(Math.max(x,0),p.length-1))}},[p,o]),v.useEffect(()=>{if(!o)return;const x=p[c];if(!x)return;const b=`${x.type}-${x.id}`,w=m.current.get(b);w&&h.current&&w.scrollIntoView({block:"nearest"})},[c,p,o]),u.jsxs("div",{ref:f,className:`relative ${i}`,children:[u.jsx("input",{value:a,onChange:x=>{s(x.target.value),l(!0)},onKeyDown:x=>{if(!o&&(x.key==="ArrowDown"||x.key==="ArrowUp")){l(!0);return}if(o)if(x.key==="ArrowDown"){if(x.preventDefault(),p.length===0)return;d(b=>(b+1)%p.length)}else if(x.key==="ArrowUp"){if(x.preventDefault(),p.length===0)return;d(b=>(b-1+p.length)%p.length)}else if(x.key==="Enter"){x.preventDefault();const b=p[c];if(!b)return;r(b),s(""),l(!1)}else x.key==="Escape"&&(x.preventDefault(),l(!1))},onFocus:()=>l(!0),placeholder:n,className:"w-full sm:w-64 bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none"}),o&&u.jsx("div",{className:"absolute z-30 mt-2 w-64 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:p.length===0?u.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No matches"}):u.jsxs("div",{ref:h,className:"max-h-60 overflow-y-auto space-y-2 pr-1",children:[y.columns.length>0&&u.jsxs("div",{children:[u.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Columns"}),y.columns.map(x=>{const b=(t==null?void 0:t.has(`${x.type}:${x.id}`))??!1;return u.jsx("button",{type:"button",ref:w=>{m.current.set(`${x.type}-${x.id}`,w)},onClick:()=>{r(x),s(""),l(!1)},onMouseEnter:()=>{const w=g.get(`${x.type}-${x.id}`);typeof w=="number"&&d(w)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${c===g.get(`${x.type}-${x.id}`)?"bg-white/10 border-white/10":""} ${b?"bg-white/15 border-white/20":""}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[x.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:x.icon}):null,u.jsx("span",{className:"truncate",children:x.label})]})},`${x.type}-${x.id}`)})]}),y.players.length>0&&u.jsxs("div",{children:[u.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Players"}),y.players.map(x=>{const b=(t==null?void 0:t.has(`${x.type}:${x.id}`))??!1;return u.jsx("button",{type:"button",ref:w=>{m.current.set(`${x.type}-${x.id}`,w)},onClick:()=>{r(x),s(""),l(!1)},onMouseEnter:()=>{const w=g.get(`${x.type}-${x.id}`);typeof w=="number"&&d(w)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${c===g.get(`${x.type}-${x.id}`)?"bg-white/10 border-white/10":""} ${b?"bg-white/15 border-white/20":""}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[x.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:x.icon}):null,u.jsx("span",{className:"truncate",children:x.label})]})},`${x.type}-${x.id}`)})]})]})})]})},pr=({options:e,selectedIds:t,onToggle:n,onClear:r,className:i="",buttonLabel:a="Columns",buttonIcon:s})=>{const[o,l]=v.useState(!1),c=v.useRef(null),d=new Set(t);return v.useEffect(()=>{const f=h=>{c.current&&(c.current.contains(h.target)||l(!1))};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]),u.jsxs("div",{ref:c,className:`relative ${i}`,children:[u.jsxs("button",{type:"button",onClick:()=>l(f=>!f),className:"flex items-center gap-2 rounded-lg border border-white/10 bg-white/5 px-3 py-1 text-xs font-semibold text-gray-300 hover:text-white hover:border-white/30 transition-colors",children:[s?u.jsx("span",{className:"h-3.5 w-3.5 text-gray-400",children:s}):null,u.jsx("span",{children:a}),t.length>0&&u.jsx("span",{className:"rounded-full bg-white/10 px-2 py-0.5 text-[10px] text-gray-200",children:t.length})]}),o&&u.jsxs("div",{className:"absolute z-20 mt-2 w-56 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between px-2 pb-2 text-[11px] uppercase tracking-widest text-gray-500",children:[u.jsx("span",{children:"Filter Columns"}),u.jsx("button",{type:"button",onClick:r,className:"text-gray-400 hover:text-white",children:"Clear"})]}),u.jsx("div",{className:"max-h-56 overflow-y-auto space-y-1 pr-1",children:e.length===0?u.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No columns"}):e.map(f=>u.jsx("button",{type:"button",onClick:()=>n(f.id),className:`w-full text-left px-2 py-1.5 rounded-lg border transition-colors ${d.has(f.id)?"bg-white/10 border-white/20 text-white":"border-transparent text-gray-300 hover:bg-white/5 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`h-2.5 w-2.5 rounded-full border ${d.has(f.id)?"bg-emerald-400/80 border-emerald-300":"border-gray-500"}`}),f.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center shrink-0",children:f.icon}):null,u.jsx("span",{className:"truncate max-w-[140px]",children:f.label})]})},f.id))})]})]})},xie=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,sidebarListClass:o,apmSpecAvailable:l,skillUsageAvailable:c,apmSpecTables:d,activeApmSpec:f,setActiveApmSpec:h,expandedApmSpec:m,setExpandedApmSpec:p,activeApmSkillId:g,setActiveApmSkillId:y,ALL_SKILLS_KEY:x,apmSkillSearch:b,setApmSkillSearch:w,activeApmSpecTable:k,activeApmSkill:C,isAllApmSkills:N,apmView:j,setApmView:D,formatApmValue:L,formatCastRateValue:T,formatCastCountValue:M,renderProfessionIcon:O})=>{var K;const[Q,ee]=v.useState({key:"apm",dir:"desc"}),ae=e==="apm-stats",[de,Z]=v.useState({columnId:"",dir:"desc"}),[Y,_]=v.useState([]),[E,A]=v.useState([]),[te,S]=v.useState({}),U=ae?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${o} max-h-72 overflow-y-auto`,q=re=>{ee(F=>({key:re,dir:F.key===re&&F.dir==="desc"?"asc":"desc"}))},J=v.useMemo(()=>{const re=[...(k==null?void 0:k.playerRows)||[]];return re.sort((F,W)=>{const ce=Q.key==="apm"?Number(j==="perSecond"?F.aps:F.apm):Number(j==="perSecond"?F.apsNoAuto:F.apmNoAuto),ie=Q.key==="apm"?Number(j==="perSecond"?W.aps:W.apm):Number(j==="perSecond"?W.apsNoAuto:W.apmNoAuto);return(Q.dir==="desc"?ie-ce:ce-ie)||String(F.displayName||"").localeCompare(String(W.displayName||""))}),re},[k,Q,j]);return u.jsxs("div",{id:"apm-stats","data-section-visible":i("apm-stats"),"data-section-first":a("apm-stats"),className:s("apm-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="apm-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(P1,{className:"w-5 h-5 text-emerald-300"}),"APM Breakdown"]}),u.jsxs("div",{className:"flex items-center gap-3 relative",children:[u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[d.length," ",d.length===1?"spec":"specs"]}),u.jsx("button",{type:"button",onClick:()=>e==="apm-stats"?r():n("apm-stats"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="apm-stats"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="apm-stats"?"Close APM Breakdown":"Expand APM Breakdown",title:e==="apm-stats"?"Close":"Expand",children:e==="apm-stats"?u.jsx(Wi,{className:"w-4 h-4"}):u.jsx(ia,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:e==="apm-stats"?"flex-1 min-h-0 flex flex-col":"",children:l?u.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="apm-stats"?"flex-1 min-h-0 h-full":""}`,children:[u.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="apm-stats"?"h-full":""}`,children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Elite Specs"}),u.jsx("div",{className:"mb-2",children:u.jsx("input",{type:"text",value:b,onChange:re=>w(re.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"})}),u.jsx("div",{className:U,children:d.map(re=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const F=f!==re.profession;h(re.profession),p(F?re.profession:m===re.profession?null:re.profession),F&&(y(x),_([]),A([]))},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${f===re.profession?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[O(re.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:re.profession})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:u.jsxs("span",{className:"text-[10px]",children:[re.players.length,"p"]})})]})}),!ae&&m===re.profession&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:te[re.profession]||"",onChange:F=>{const W=F.target.value;S(ce=>({...ce,[re.profession]:W}))},placeholder:"Filter this spec...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"}),u.jsx("button",{type:"button",onClick:()=>{h(re.profession),y(x)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===re.profession&&N?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Skills"}),(re.skills||[]).filter(F=>{const W=(te[re.profession]||"").trim().toLowerCase();return W?String(F.name||"").toLowerCase().includes(W):!0}).map(F=>u.jsx("button",{type:"button",onClick:()=>{h(re.profession),y(F.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===re.profession&&g===F.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:F.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[F.icon?u.jsx("img",{src:F.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate",children:F.name})]})},F.id)),(re.skills||[]).filter(F=>{const W=(te[re.profession]||"").trim().toLowerCase();return W?String(F.name||"").toLowerCase().includes(W):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},re.profession))})]}),u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="apm-stats"?"flex flex-col min-h-0":""}`,children:k?u.jsxs("div",{className:e==="apm-stats"?"flex flex-col min-h-0":"",children:[ae&&(()=>{const re=k.skills||[],F=(k.playerRows||[]).map($=>({id:$.key,label:$.displayName||$.account||$.key,icon:O($.profession,$.professionList,"w-3 h-3")})),W=re.map($=>({id:$.id,label:$.name,icon:$.icon?u.jsx("img",{src:$.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),ce=[...re.map($=>({id:$.id,label:$.name,type:"column",icon:$.icon?u.jsx("img",{src:$.icon,alt:"",className:"h-4 w-4"}):void 0})),...(k.playerRows||[]).map($=>({id:$.key,label:$.displayName||$.account||$.key,type:"player",icon:O($.profession,$.professionList,"w-3 h-3")}))],ie=new Set([...Y.map($=>`column:${$}`),...E.map($=>`player:${$}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"APM"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(xs,{options:ce,selectedIds:ie,onSelect:$=>{$.type==="column"?_(z=>z.includes($.id)?z.filter(I=>I!==$.id):[...z,$.id]):A(z=>z.includes($.id)?z.filter(I=>I!==$.id):[...z,$.id])},className:"w-full sm:w-64"}),u.jsx(pr,{options:W,selectedIds:Y,onToggle:$=>{_(z=>z.includes($)?z.filter(I=>I!==$):[...z,$])},onClear:()=>_([]),buttonLabel:"Columns",buttonIcon:u.jsx(hs,{className:"h-3.5 w-3.5"})}),u.jsx(pr,{options:F,selectedIds:E,onToggle:$=>{A(z=>z.includes($)?z.filter(I=>I!==$):[...z,$])},onClear:()=>A([]),buttonLabel:"Players",buttonIcon:u.jsx(jr,{className:"h-3.5 w-3.5"})}),u.jsx(Pn,{value:j,onChange:D,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(Y.length>0||E.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{_([]),A([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),Y.map($=>{var I;const z=((I=re.find(ne=>ne.id===$))==null?void 0:I.name)||$;return u.jsxs("button",{type:"button",onClick:()=>_(ne=>ne.filter(Se=>Se!==$)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:z}),u.jsx("span",{className:"text-gray-400",children:""})]},$)}),E.map($=>{var I;const z=((I=F.find(ne=>ne.id===$))==null?void 0:I.label)||$;return u.jsxs("button",{type:"button",onClick:()=>A(ne=>ne.filter(Se=>Se!==$)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:z}),u.jsx("span",{className:"text-gray-400",children:""})]},$)})]})]})})(),ae?(()=>{var $,z;const re=k.skills||[],F=Y.length>0?re.filter(I=>Y.includes(I.id)):re,W=E.length>0?(k.playerRows||[]).filter(I=>E.includes(I.key)):k.playerRows||[];if(re.length===0)return u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No skills available for this class."});const ce=(($=F.find(I=>I.id===de.columnId))==null?void 0:$.id)||((z=F[0])==null?void 0:z.id)||"",ie=[...W].map(I=>{const ne={},Se={};return F.forEach(We=>{var Oe;const le=Number(((Oe=We.playerCounts)==null?void 0:Oe.get(I.key))||0),$e=j==="perSecond"?le/Math.max(1,I.totalActiveSeconds||0):le;Se[We.id]=$e,ne[We.id]=j==="perSecond"?T($e):M($e)}),{row:I,values:ne,numericValues:Se}}).sort((I,ne)=>{const Se=I.numericValues[ce]??0,We=ne.numericValues[ce]??0;return(de.dir==="desc"?We-Se:Se-We)||String(I.row.displayName||"").localeCompare(String(ne.row.displayName||""))});return u.jsx(gs,{title:"APM - Dense View",subtitle:"Skills",sortColumnId:ce,sortDirection:de.dir,onSortColumn:I=>{Z(ne=>({columnId:I,dir:ne.columnId===I&&ne.dir==="desc"?"asc":"desc"}))},columns:F.map(I=>({id:I.id,label:u.jsx(Ar,{name:I.name,iconUrl:I.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:ie.map((I,ne)=>({id:`${k.profession}-${I.row.key}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:ne+1}),O(I.row.profession,I.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:I.row.displayName})]}),values:I.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"min-w-0 text-sm font-semibold text-gray-200",children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[O(k.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:k.profession}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),N||!C?u.jsx("span",{className:"truncate",children:"All Skills"}):u.jsx(Ar,{name:C.name,iconUrl:C.icon,iconClassName:"h-5 w-5"})]})}),u.jsx("div",{className:"text-[11px] text-gray-500",children:N||!C?`${((K=k.playerRows)==null?void 0:K.length)||0} players`:`${(C==null?void 0:C.totalCasts)??0} casts`})]}),N||!C?u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.7fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>q("apm"),className:`text-right transition-colors ${Q.key==="apm"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[j==="perSecond"?"APS":"APM",Q.key==="apm"?Q.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>q("apmNoAuto"),className:`text-right transition-colors ${Q.key==="apmNoAuto"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[j==="perSecond"?"APS":"APM"," (No Auto)",Q.key==="apmNoAuto"?Q.dir==="desc"?" ":" ":""]})]}):u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.4fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsx("div",{className:"text-right",children:"Casts"}),u.jsx("div",{className:"text-right",children:j==="perSecond"?"APS":"APM"})]})]}),N||!C?u.jsx(u.Fragment,{children:u.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:J.map((re,F)=>u.jsxs("div",{className:"grid grid-cols-[1.6fr_0.7fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${F+1}`}),O(re.profession,re.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:re.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:L(j==="perSecond"?re.aps:re.apm)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:L(j==="perSecond"?re.apsNoAuto:re.apmNoAuto)})]},`${k.profession}-all-${re.key}`))})}):u.jsx(u.Fragment,{children:u.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:((C==null?void 0:C.playerRows)||[]).length===0?u.jsx("div",{className:"px-4 py-8 text-center text-sm text-gray-500 italic border-t border-white/5",children:"No player rows available for this skill."}):((C==null?void 0:C.playerRows)||[]).map((re,F)=>u.jsxs("div",{className:"grid grid-cols-[1.4fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${F+1}`}),O(re.profession,re.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:re.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:M(Number(re.count||0))}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:L(Number(j==="perSecond"?re.aps||0:re.apm||0))})]},`${k.profession}-${C.id}-${re.key}`))})})]})]}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select an elite spec to view APM details"})})]}):u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:c?"No APM data available for the current selection.":"Upload or highlight logs with rotation data to enable the APM table."})})]})},vie=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,sidebarListClass:o,viewMode:l,setViewMode:c,playerSkillBreakdowns:d,classSkillBreakdowns:f,activePlayerKey:h,setActivePlayerKey:m,expandedPlayerKey:p,setExpandedPlayerKey:g,activePlayerSkillId:y,setActivePlayerSkillId:x,activeClassKey:b,setActiveClassKey:w,expandedClassKey:k,setExpandedClassKey:C,activeClassSkillId:N,setActiveClassSkillId:j,skillSearch:D,setSkillSearch:L,activePlayerBreakdown:T,activePlayerSkill:M,activeClassBreakdown:O,activeClassSkill:Q,renderProfessionIcon:ee})=>{const ae=d.length,de=((T==null?void 0:T.skills)||[]).reduce((z,I)=>z+(I.damage||0),0),Z=(O==null?void 0:O.players)||[],[Y,_]=v.useState({key:"down",dir:"desc"}),E=e==="player-breakdown",[A,te]=v.useState([]),[S,U]=v.useState([]),[q,J]=v.useState({columnId:"",dir:"desc"}),[K,re]=v.useState({}),[F,W]=v.useState({}),ce=E?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${o} max-h-72 overflow-y-auto`,ie=v.useMemo(()=>{if(!O||!Q)return Z;const z=[...Z];return z.sort((I,ne)=>{var ge,_e;const Se=(ge=I.skillMap)==null?void 0:ge[Q.id],We=(_e=ne.skillMap)==null?void 0:_e[Q.id],le=Number((Se==null?void 0:Se.downContribution)||0),$e=Number((We==null?void 0:We.downContribution)||0),Oe=Number((Se==null?void 0:Se.damage)||0),wt=Number((We==null?void 0:We.damage)||0),Kt=I.totalFightMs>0?Oe/(I.totalFightMs/1e3):0,dn=ne.totalFightMs>0?wt/(ne.totalFightMs/1e3):0;let Mn=0;return Y.key==="down"&&(Mn=le-$e),Y.key==="damage"&&(Mn=Oe-wt),Y.key==="dps"&&(Mn=Kt-dn),Y.dir==="asc"?Mn:-Mn}),z},[O,Z,Q,Y]),$=z=>{_(I=>I.key!==z?{key:z,dir:"desc"}:{key:z,dir:I.dir==="desc"?"asc":"desc"})};return u.jsxs("div",{id:"player-breakdown","data-section-visible":i("player-breakdown"),"data-section-first":a("player-breakdown"),className:s("player-breakdown",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="player-breakdown"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(C1,{className:"w-5 h-5 text-sky-300"}),"Player Breakdown"]}),u.jsxs("div",{className:"flex items-center gap-3 relative",children:[u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[ae," ",ae===1?"player":"players"]}),u.jsx("button",{type:"button",onClick:()=>e==="player-breakdown"?r():n("player-breakdown"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="player-breakdown"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="player-breakdown"?"Close Player Breakdown":"Expand Player Breakdown",title:e==="player-breakdown"?"Close":"Expand",children:e==="player-breakdown"?u.jsx(Wi,{className:"w-4 h-4"}):u.jsx(ia,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:e==="player-breakdown"?"flex-1 min-h-0 flex flex-col":"",children:d.length===0?u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:"No player skill damage data available for the current selection."}):u.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="player-breakdown"?"flex-1 min-h-0 h-full":""}`,children:[u.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="player-breakdown"?"h-full":""}`,children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:E?"Squad Classes":l==="player"?"Squad Players":"Squad Classes"}),!E&&u.jsx("div",{className:"flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"player",label:"Player"},{id:"class",label:"Class"}].map(z=>{const I=l===z.id;return u.jsx("button",{type:"button",onClick:()=>c(z.id),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${I?"bg-sky-500/30 text-sky-100":"text-gray-400 hover:text-white"}`,children:z.label},z.id)})})]}),u.jsx("div",{className:"mb-2",children:u.jsx("input",{type:"text",value:D,onChange:z=>L(z.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"})}),u.jsx("div",{className:ce,children:(E?"class":l)==="player"?d.map(z=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const I=h!==z.key;I&&(x(null),te([]),U([])),m(z.key),g(I?z.key:p===z.key?null:z.key)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${h===z.key?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:z.displayName,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ee(z.profession,z.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate min-w-0",children:z.displayName})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400 shrink-0",children:u.jsxs("span",{className:"text-[10px] whitespace-nowrap",children:[z.skills.length," skills"]})})]})}),!E&&p===z.key&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:K[z.key]||"",onChange:I=>{const ne=I.target.value;re(Se=>({...Se,[z.key]:ne}))},placeholder:"Filter this player's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),z.skills.filter(I=>{const ne=(K[z.key]||"").trim().toLowerCase();return ne?String(I.name||"").toLowerCase().includes(ne):!0}).map(I=>u.jsx("button",{type:"button",onClick:()=>{m(z.key),x(I.id)},className:`w-full min-h-[30px] text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${h===z.key&&y===I.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:I.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[I.icon?u.jsx("img",{src:I.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",children:I.name})]})},I.id)),z.skills.filter(I=>{const ne=(K[z.key]||"").trim().toLowerCase();return ne?String(I.name||"").toLowerCase().includes(ne):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},z.key)):f.map(z=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const I=b!==z.profession;I&&(j(null),te([]),U([])),w(z.profession),C(I?z.profession:k===z.profession?null:z.profession)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${b===z.profession?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ee(z.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:z.profession})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:u.jsxs("span",{className:"text-[10px]",children:[z.players.length,"p"]})})]})}),!E&&k===z.profession&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:F[z.profession]||"",onChange:I=>{const ne=I.target.value;W(Se=>({...Se,[z.profession]:ne}))},placeholder:"Filter this class's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),z.skills.filter(I=>{const ne=(F[z.profession]||"").trim().toLowerCase();return ne?String(I.name||"").toLowerCase().includes(ne):!0}).map(I=>u.jsx("button",{type:"button",onClick:()=>{w(z.profession),j(I.id)},className:`w-full min-h-[30px] text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${b===z.profession&&N===I.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:I.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[I.icon?u.jsx("img",{src:I.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",children:I.name})]})},I.id)),z.skills.filter(I=>{const ne=(F[z.profession]||"").trim().toLowerCase();return ne?String(I.name||"").toLowerCase().includes(ne):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},z.profession))})]}),u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="player-breakdown"?"flex flex-col min-h-0":""}`,children:(E?"class":l)==="player"?!T||!E&&!M?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a player and skill to view breakdown details"}):u.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[E&&(()=>{const z=T.skills||[],I=d.map(le=>({id:le.key,label:le.displayName||le.key,icon:ee(le.profession,le.professionList,"w-3 h-3")})),ne=z.map(le=>({id:le.id,label:le.name,icon:le.icon?u.jsx("img",{src:le.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),Se=[...z.map(le=>({id:le.id,label:le.name,type:"column",icon:le.icon?u.jsx("img",{src:le.icon,alt:"",className:"h-4 w-4"}):void 0})),...d.map(le=>({id:le.key,label:le.displayName||le.key,type:"player",icon:ee(le.profession,le.professionList,"w-3 h-3")}))],We=new Set([...A.map(le=>`column:${le}`),...S.map(le=>`player:${le}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Player Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(xs,{options:Se,selectedIds:We,onSelect:le=>{le.type==="column"?te($e=>$e.includes(le.id)?$e.filter(Oe=>Oe!==le.id):[...$e,le.id]):U($e=>$e.includes(le.id)?$e.filter(Oe=>Oe!==le.id):[...$e,le.id])},className:"w-full sm:w-64"}),u.jsx(pr,{options:ne,selectedIds:A,onToggle:le=>{te($e=>$e.includes(le)?$e.filter(Oe=>Oe!==le):[...$e,le])},onClear:()=>te([]),buttonLabel:"Columns",buttonIcon:u.jsx(hs,{className:"h-3.5 w-3.5"})}),u.jsx(pr,{options:I,selectedIds:S,onToggle:le=>{U($e=>$e.includes(le)?$e.filter(Oe=>Oe!==le):[...$e,le])},onClear:()=>U([]),buttonLabel:"Players",buttonIcon:u.jsx(jr,{className:"h-3.5 w-3.5"})})]}),(A.length>0||S.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{te([]),U([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),A.map(le=>{var Oe;const $e=((Oe=z.find(wt=>wt.id===le))==null?void 0:Oe.name)||le;return u.jsxs("button",{type:"button",onClick:()=>te(wt=>wt.filter(Kt=>Kt!==le)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:$e}),u.jsx("span",{className:"text-gray-400",children:""})]},le)}),S.map(le=>{var Oe;const $e=((Oe=I.find(wt=>wt.id===le))==null?void 0:Oe.label)||le;return u.jsxs("button",{type:"button",onClick:()=>U(wt=>wt.filter(Kt=>Kt!==le)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:$e}),u.jsx("span",{className:"text-gray-400",children:""})]},le)})]})]})})(),E?(()=>{var le,$e;const z=T.skills||[],I=A.length>0?z.filter(Oe=>A.includes(Oe.id)):z,ne=S.length>0?d.filter(Oe=>S.includes(Oe.key)):d,Se=((le=I.find(Oe=>Oe.id===q.columnId))==null?void 0:le.id)||(($e=I[0])==null?void 0:$e.id)||"",We=ne.map(Oe=>{const wt={},Kt={};return I.forEach(dn=>{var _e;const Mn=(_e=Oe.skillMap)==null?void 0:_e[dn.id],ge=Number((Mn==null?void 0:Mn.damage)||0);Kt[dn.id]=ge,wt[dn.id]=zo(ge)}),{player:Oe,values:wt,numericValues:Kt}}).sort((Oe,wt)=>{const Kt=Oe.numericValues[Se]??0,dn=wt.numericValues[Se]??0;return(q.dir==="desc"?dn-Kt:Kt-dn)||String(Oe.player.displayName||"").localeCompare(String(wt.player.displayName||""))});return u.jsx(gs,{title:"Player Breakdown - Dense View",subtitle:"Damage",sortColumnId:Se,sortDirection:q.dir,onSortColumn:Oe=>{J(wt=>({columnId:Oe,dir:wt.columnId===Oe&&wt.dir==="desc"?"asc":"desc"}))},columns:I.map(Oe=>({id:Oe.id,label:u.jsx(Ar,{name:Oe.name,iconUrl:Oe.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:We.map((Oe,wt)=>({id:`${Oe.player.key}-${wt}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:wt+1}),ee(Oe.player.profession,Oe.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Oe.player.displayName})]}),values:Oe.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:u.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-wrap",children:[ee(T.profession,T.professionList,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:T.displayName}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),u.jsx("div",{className:"text-sm font-semibold text-gray-200 min-w-0",children:u.jsx(Ar,{name:(M==null?void 0:M.name)||"",iconUrl:M==null?void 0:M.icon,iconClassName:"h-6 w-6",truncateText:!1,textClassName:"whitespace-normal break-words"})})]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[T.skills.length," skills | ",zo(de)," total damage"]})]})}),u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.2fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Metric"}),u.jsx("div",{className:"text-right",children:"Value"})]})]}),u.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:[{label:"Down Contribution",value:zo((M==null?void 0:M.downContribution)||0)},{label:"Total Damage",value:zo((M==null?void 0:M.damage)||0)},{label:"DPS",value:ha(T.totalFightMs>0?((M==null?void 0:M.damage)||0)/(T.totalFightMs/1e3):0,1)}].map(z=>u.jsxs("div",{className:"grid grid-cols-[1.2fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"font-semibold text-white",children:z.label}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:z.value})]},z.label))})]})]}):!O||!E&&!Q?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a class and skill to view breakdown details"}):u.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[E&&(()=>{const z=O.skills||[],I=Z.map(le=>({id:le.key,label:le.displayName||le.key,icon:ee(le.profession,le.professionList,"w-3 h-3")})),ne=z.map(le=>({id:le.id,label:le.name,icon:le.icon?u.jsx("img",{src:le.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),Se=[...z.map(le=>({id:le.id,label:le.name,type:"column",icon:le.icon?u.jsx("img",{src:le.icon,alt:"",className:"h-4 w-4"}):void 0})),...Z.map(le=>({id:le.key,label:le.displayName||le.key,type:"player",icon:ee(le.profession,le.professionList,"w-3 h-3")}))],We=new Set([...A.map(le=>`column:${le}`),...S.map(le=>`player:${le}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Class Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(xs,{options:Se,selectedIds:We,onSelect:le=>{le.type==="column"?te($e=>$e.includes(le.id)?$e.filter(Oe=>Oe!==le.id):[...$e,le.id]):U($e=>$e.includes(le.id)?$e.filter(Oe=>Oe!==le.id):[...$e,le.id])},className:"w-full sm:w-64"}),u.jsx(pr,{options:ne,selectedIds:A,onToggle:le=>{te($e=>$e.includes(le)?$e.filter(Oe=>Oe!==le):[...$e,le])},onClear:()=>te([]),buttonLabel:"Columns",buttonIcon:u.jsx(hs,{className:"h-3.5 w-3.5"})}),u.jsx(pr,{options:I,selectedIds:S,onToggle:le=>{U($e=>$e.includes(le)?$e.filter(Oe=>Oe!==le):[...$e,le])},onClear:()=>U([]),buttonLabel:"Players",buttonIcon:u.jsx(jr,{className:"h-3.5 w-3.5"})})]}),(A.length>0||S.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{te([]),U([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),A.map(le=>{var Oe;const $e=((Oe=z.find(wt=>wt.id===le))==null?void 0:Oe.name)||le;return u.jsxs("button",{type:"button",onClick:()=>te(wt=>wt.filter(Kt=>Kt!==le)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:$e}),u.jsx("span",{className:"text-gray-400",children:""})]},le)}),S.map(le=>{var Oe;const $e=((Oe=I.find(wt=>wt.id===le))==null?void 0:Oe.label)||le;return u.jsxs("button",{type:"button",onClick:()=>U(wt=>wt.filter(Kt=>Kt!==le)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:$e}),u.jsx("span",{className:"text-gray-400",children:""})]},le)})]})]})})(),E?(()=>{var le,$e;const z=O.skills||[],I=A.length>0?z.filter(Oe=>A.includes(Oe.id)):z,ne=S.length>0?Z.filter(Oe=>S.includes(Oe.key)):Z,Se=((le=I.find(Oe=>Oe.id===q.columnId))==null?void 0:le.id)||(($e=I[0])==null?void 0:$e.id)||"",We=ne.map(Oe=>{const wt={},Kt={};return I.forEach(dn=>{var _e;const Mn=(_e=Oe.skillMap)==null?void 0:_e[dn.id],ge=Number((Mn==null?void 0:Mn.damage)||0);Kt[dn.id]=ge,wt[dn.id]=zo(ge)}),{player:Oe,values:wt,numericValues:Kt}}).sort((Oe,wt)=>{const Kt=Oe.numericValues[Se]??0,dn=wt.numericValues[Se]??0;return(q.dir==="desc"?dn-Kt:Kt-dn)||String(Oe.player.displayName||"").localeCompare(String(wt.player.displayName||""))});return u.jsx(gs,{title:"Class Breakdown - Dense View",subtitle:"Damage",sortColumnId:Se,sortDirection:q.dir,onSortColumn:Oe=>{J(wt=>({columnId:Oe,dir:wt.columnId===Oe&&wt.dir==="desc"?"asc":"desc"}))},columns:I.map(Oe=>({id:Oe.id,label:u.jsx(Ar,{name:Oe.name,iconUrl:Oe.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:We.map((Oe,wt)=>({id:`${Oe.player.key}-${wt}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:wt+1}),ee(Oe.player.profession,Oe.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Oe.player.displayName})]}),values:Oe.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:u.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-wrap",children:[ee(O.profession,void 0,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:O.profession}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),u.jsx("div",{className:"text-sm font-semibold text-gray-200 min-w-0",children:u.jsx(Ar,{name:(Q==null?void 0:Q.name)||"",iconUrl:Q==null?void 0:Q.icon,iconClassName:"h-6 w-6",truncateText:!1,textClassName:"whitespace-normal break-words"})})]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[Z.length," players | ",O.skills.length," skills"]})]})}),u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>$("down"),className:`text-right flex items-center justify-end gap-1 transition-colors ${Y.key==="down"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Down Contrib",u.jsx("span",{className:"text-[10px]",children:Y.key==="down"?Y.dir==="desc"?"":"":""})]}),u.jsxs("button",{type:"button",onClick:()=>$("damage"),className:`text-right flex items-center justify-end gap-1 transition-colors ${Y.key==="damage"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage",u.jsx("span",{className:"text-[10px]",children:Y.key==="damage"?Y.dir==="desc"?"":"":""})]}),u.jsxs("button",{type:"button",onClick:()=>$("dps"),className:`text-right flex items-center justify-end gap-1 transition-colors ${Y.key==="dps"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["DPS",u.jsx("span",{className:"text-[10px]",children:Y.key==="dps"?Y.dir==="desc"?"":"":""})]})]})]}),u.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:ie.map(z=>{var le;const I=(le=z.skillMap)==null?void 0:le[(Q==null?void 0:Q.id)||""],ne=Number((I==null?void 0:I.downContribution)||0),Se=Number((I==null?void 0:I.damage)||0),We=z.totalFightMs>0?Se/(z.totalFightMs/1e3):0;return u.jsxs("div",{className:"grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ee(z.profession,z.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:z.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:zo(ne)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:zo(Se)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:ha(We,1)})]},`${O.profession}-${z.key}`)})})]})]})})]})})]})},N4=({className:e})=>u.jsx(M6,{className:e,style:{transform:"rotate(45deg)"}}),Do=({expanded:e,className:t="",sidebarClassName:n="",contentClassName:r="",sidebar:i,content:a})=>u.jsxs("div",{className:`stats-table-layout grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e?"flex-1 min-h-0 h-full":""} ${t}`,children:[u.jsx("div",{className:`stats-table-layout__sidebar ${n}`,children:i}),u.jsx("div",{className:`stats-table-layout__content ${r}`,children:a})]}),vs=({header:e,columns:t,rows:n,expanded:r,maxHeightClass:i="max-h-80"})=>u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"stats-table-shell__header",children:e}),u.jsx("div",{className:"stats-table-shell__columns",children:t})]}),u.jsx("div",{className:`stats-table-shell__rows ${r?"flex-1 min-h-0 overflow-y-auto":`${i} overflow-y-auto`}`,children:n})]}),yie=({stats:e,OFFENSE_METRICS:t,roundCountStats:n,offenseSearch:r,setOffenseSearch:i,activeOffenseStat:a,setActiveOffenseStat:s,offenseViewMode:o,setOffenseViewMode:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:h,openExpandedSection:m,closeExpandedSection:p,isSectionVisible:g,isFirstVisibleSection:y,sectionClass:x,sidebarListClass:b})=>{var E;const[w,k]=v.useState({key:"value",dir:"desc"}),[C,N]=v.useState({columnId:((E=t[0])==null?void 0:E.id)||"value",dir:"desc"}),j=f==="offense-detailed",[D,L]=v.useState([]),[T,M]=v.useState([]),O=t.filter(A=>A.label.toLowerCase().includes(r.trim().toLowerCase())),Q=t.map(A=>({id:A.id,label:A.label})),ee=Q.filter(A=>A.label.toLowerCase().includes(r.trim().toLowerCase())),de=D.length>0?t.filter(A=>D.includes(A.id)):t,Z=Array.from(new Map(e.offensePlayers.map(A=>[A.account,A])).values()).map(A=>({id:A.account,label:A.account,icon:d(A.profession,A.professionList,"w-3 h-3")})),Y=new Set([...D.map(A=>`column:${A}`),...T.map(A=>`player:${A}`)]),_=A=>{k(te=>({key:A,dir:te.key===A&&te.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"offense-detailed","data-section-visible":g("offense-detailed"),"data-section-first":y("offense-detailed"),className:x("offense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="offense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(N4,{className:"w-5 h-5 text-rose-300"}),"Offenses - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>f==="offense-detailed"?p():m("offense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="offense-detailed"?"Close Offense Detailed":"Expand Offense Detailed",title:f==="offense-detailed"?"Close":"Expand",children:f==="offense-detailed"?u.jsx(Wi,{className:"w-4 h-4"}):u.jsx(ia,{className:"w-4 h-4"})})]}),e.offensePlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No offensive stats available"}):j?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(xs,{options:[...Q.map(A=>({...A,type:"column"})),...Z.map(A=>({...A,type:"player"}))],onSelect:A=>{A.type==="column"?L(te=>te.includes(A.id)?te.filter(S=>S!==A.id):[...te,A.id]):M(te=>te.includes(A.id)?te.filter(S=>S!==A.id):[...te,A.id])},selectedIds:Y,className:"w-full sm:w-64"}),u.jsx(pr,{options:ee,selectedIds:D,onToggle:A=>{L(te=>te.includes(A)?te.filter(S=>S!==A):[...te,A])},onClear:()=>L([]),buttonIcon:u.jsx(hs,{className:"h-3.5 w-3.5"})}),u.jsx(pr,{options:Z,selectedIds:T,onToggle:A=>{M(te=>te.includes(A)?te.filter(S=>S!==A):[...te,A])},onClear:()=>M([]),buttonLabel:"Players",buttonIcon:u.jsx(jr,{className:"h-3.5 w-3.5"})}),u.jsx(Pn,{value:o,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(D.length>0||T.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{L([]),M([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),D.map(A=>{var S;const te=((S=Q.find(U=>U.id===A))==null?void 0:S.label)||A;return u.jsxs("button",{type:"button",onClick:()=>L(U=>U.filter(q=>q!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:te}),u.jsx("span",{className:"text-gray-400",children:""})]},A)}),T.map(A=>u.jsxs("button",{type:"button",onClick:()=>M(te=>te.filter(S=>S!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:A}),u.jsx("span",{className:"text-gray-400",children:""})]},A))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:O.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No offensive stats match this filter"}):(()=>{var J,K;const A=re=>Math.max(1,(re.totalFightMs||0)/1e3),te=(re,F,W)=>{var ce,ie,$,z,I;if(F==="downContributionPercent"){const ne=((ce=re.offenseTotals)==null?void 0:ce.downContribution)||0,Se=((ie=re.offenseTotals)==null?void 0:ie.damage)||0;return Se>0?ne/Se*100:0}if(W.isRate){const ne=(($=re.offenseRateWeights)==null?void 0:$[F])||0,Se=((z=re.offenseTotals)==null?void 0:z[F])||0;return ne>0?Se/ne*100:0}return((I=re.offenseTotals)==null?void 0:I[F])||0},S=(re,F)=>{const W=n&&!F.isPercent&&o==="total"?0:2,ce=c(re,W);return F.isPercent?`${ce}%`:ce},U=((J=de.find(re=>re.id===C.columnId))==null?void 0:J.id)||((K=de[0])==null?void 0:K.id)||"",q=[...e.offensePlayers].filter(re=>T.length===0||T.includes(re.account)).map(re=>{const F={},W={};return de.forEach(ce=>{const ie=te(re,ce.id,ce),$=o==="total"||ce.isPercent||ce.isRate?ie:o==="per1s"?ie/A(re):ie*60/A(re);W[ce.id]=$,F[ce.id]=S($,ce)}),{row:re,values:F,numericValues:W}}).sort((re,F)=>{const W=re.numericValues[U]??0,ce=F.numericValues[U]??0;return(C.dir==="desc"?ce-W:W-ce)||String(re.row.account||"").localeCompare(String(F.row.account||""))});return u.jsx(gs,{title:"Offense - Dense View",subtitle:"Offensive",sortColumnId:U,sortDirection:C.dir,onSortColumn:re=>{N(F=>({columnId:re,dir:F.columnId===re&&F.dir==="desc"?"asc":"desc"}))},columns:de.map(re=>({id:re.id,label:re.label,align:"right",minWidth:90})),rows:q.map((re,F)=>({id:`${re.row.account}-${F}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:F+1}),d(re.row.profession,re.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:re.row.account})]}),values:re.values}))})})()})]}):u.jsx(Do,{expanded:f==="offense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="offense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="offense-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),u.jsx("input",{value:r,onChange:A=>i(A.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${b} ${f==="offense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:O.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No offensive stats match this filter"}):O.map(A=>u.jsx("button",{onClick:()=>s(A.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===A.id?"bg-rose-500/20 text-rose-200 border-rose-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:A.label},A.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const A=t.find(J=>J.id===a)||t[0],te=J=>Math.max(1,(J.totalFightMs||0)/1e3),S=J=>{var K,re,F,W,ce;if(A.id==="downContributionPercent"){const ie=((K=J.offenseTotals)==null?void 0:K.downContribution)||0,$=((re=J.offenseTotals)==null?void 0:re.damage)||0;return $>0?ie/$*100:0}if(A.isRate){const ie=((F=J.offenseRateWeights)==null?void 0:F[A.id])||0,$=((W=J.offenseTotals)==null?void 0:W[A.id])||0;return ie>0?$/ie*100:0}return((ce=J.offenseTotals)==null?void 0:ce[A.id])||0},U=J=>{const K=n&&!A.isPercent&&o==="total"?0:2,re=c(J,K);return A.isPercent?`${re}%`:re},q=[...e.offensePlayers].map(J=>({...J,total:S(J),per1s:A.isPercent||A.isRate?S(J):S(J)/te(J),per60s:A.isPercent||A.isRate?S(J):S(J)*60/te(J)})).sort((J,K)=>{const re=w.key==="fightTime"?Number(J.totalFightMs||0):Number(o==="total"?J.total:o==="per1s"?J.per1s:J.per60s),F=w.key==="fightTime"?Number(K.totalFightMs||0):Number(o==="total"?K.total:o==="per1s"?K.per1s:K.per60s);return(w.dir==="desc"?F-re:re-F)||J.account.localeCompare(K.account)});return u.jsx(vs,{expanded:f==="offense-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:A.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Offensive"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex items-center justify-end gap-2 px-4 py-2 bg-white/5",children:u.jsx(Pn,{value:o,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>_("value"),className:`text-right transition-colors ${w.key==="value"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",w.key==="value"?w.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>_("fightTime"),className:`text-right transition-colors ${w.key==="fightTime"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",w.key==="fightTime"?w.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:q.map((J,K)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:K+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(J.profession,J.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:J.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const re=o==="total"?J.total:o==="per1s"?J.per1s:J.per60s;return U(re)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:J.totalFightMs?`${(J.totalFightMs/1e3).toFixed(1)}s`:"-"})]},`${A.id}-${J.account}-${K}`))})})})()})})]})},bie=({conditionSummary:e,conditionPlayers:t,conditionSearch:n,setConditionSearch:r,activeConditionName:i,setActiveConditionName:a,conditionDirection:s,setConditionDirection:o,conditionGridClass:l,effectiveConditionSort:c,setConditionSort:d,showConditionDamage:f,renderProfessionIcon:h,expandedSection:m,expandedSectionClosing:p,openExpandedSection:g,closeExpandedSection:y,isSectionVisible:x,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:k})=>{var E;const C=m==="conditions-outgoing",[N,j]=v.useState([]),[D,L]=v.useState([]),[T,M]=v.useState({columnId:"all",dir:"desc"}),O=A=>{if(!A)return 0;if(s!=="outgoing"){const q=Number(A.applicationsFromUptime);return Number.isFinite(q)&&q>0?q:Number(A.applications||0)}const te=Number(A.applicationsFromUptime);if(Number.isFinite(te)&&te>0)return te;const S=Number(A.applicationsFromBuffsActive);if(Number.isFinite(S)&&S>0)return S;const U=Number(A.applicationsFromBuffs);return Number.isFinite(U)&&U>0?U:Number(A.applications||0)},Q=[...e||[]].sort((A,te)=>(te.damage||0)-(A.damage||0)),ee=Q.filter(A=>A.name.toLowerCase().includes(n.trim().toLowerCase())),ae=ee.map(A=>({id:A.name,label:A.name,icon:A.icon?u.jsx("img",{src:A.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),Z=N.length>0?Q.filter(A=>N.includes(A.name)):Q,Y=Array.from(new Map((t||[]).map(A=>[A.account,A])).values()).map(A=>({id:A.account,label:A.account,icon:h(A.profession,A.professionList,"w-3 h-3")})),_=new Set([...N.map(A=>`column:${A}`),...D.map(A=>`player:${A}`)]);return u.jsxs("div",{id:"conditions-outgoing","data-section-visible":x("conditions-outgoing"),"data-section-first":b("conditions-outgoing"),className:w("conditions-outgoing",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="conditions-outgoing"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(p0,{className:"w-5 h-5 text-amber-300"}),"Conditions"]}),u.jsx("button",{type:"button",onClick:()=>m==="conditions-outgoing"?y():g("conditions-outgoing"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="conditions-outgoing"?"Close Outgoing Conditions":"Expand Outgoing Conditions",title:m==="conditions-outgoing"?"Close":"Expand",children:m==="conditions-outgoing"?u.jsx(Wi,{className:"w-4 h-4"}):u.jsx(ia,{className:"w-4 h-4"})})]}),e&&e.length>0?C?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(xs,{options:[...Q.map(A=>({id:A.name,label:A.name,type:"column"})),...Y.map(A=>({...A,type:"player"}))],onSelect:A=>{A.type==="column"?j(te=>te.includes(A.id)?te.filter(S=>S!==A.id):[...te,A.id]):L(te=>te.includes(A.id)?te.filter(S=>S!==A.id):[...te,A.id])},selectedIds:_,className:"w-full sm:w-64"}),u.jsx(pr,{options:ae,selectedIds:N,onToggle:A=>{j(te=>te.includes(A)?te.filter(S=>S!==A):[...te,A])},onClear:()=>j([]),buttonIcon:u.jsx(hs,{className:"h-3.5 w-3.5"})}),u.jsx(pr,{options:Y,selectedIds:D,onToggle:A=>{L(te=>te.includes(A)?te.filter(S=>S!==A):[...te,A])},onClear:()=>L([]),buttonLabel:"Players",buttonIcon:u.jsx(jr,{className:"h-3.5 w-3.5"})}),u.jsx(Pn,{value:s,onChange:o,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),f&&u.jsx(Pn,{value:c.key,onChange:A=>d({key:A,dir:"desc"}),options:[{value:"applications",label:"Applications"},{value:"damage",label:"Damage"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ee.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No conditions match this filter"}):(()=>{const A=c.key,te=[{id:"all",label:"All Conditions",icon:null},...Z],S=(t||[]).filter(J=>D.length===0||D.includes(J.account)).map(J=>{const K=J.conditions||{},re={},F={};return te.forEach(W=>{if(W.id==="all"||W.name==="All Conditions"){const $=Object.values(K).reduce((I,ne)=>{const Se=O(ne);return I.applications+=Number(Se||0),I.damage+=Number((ne==null?void 0:ne.damage)||0),I},{applications:0,damage:0}),z=A==="applications"?$.applications:$.damage;F.all=z||0,re.all=Math.round(z||0).toLocaleString();return}const ce=K[W.name],ie=A==="applications"?O(ce):Number((ce==null?void 0:ce.damage)||0);F[W.name]=Number(ie||0),re[W.name]=Math.round(ie||0).toLocaleString()}),{player:J,values:re,numericValues:F}}).filter(J=>Object.values(J.values).some(K=>K!=="0")),U=["all",...Z.map(J=>J.name)].includes(T.columnId)?T.columnId:"all",q=[...S].sort((J,K)=>{const re=J.numericValues[U]??0,F=K.numericValues[U]??0;return(T.dir==="desc"?F-re:re-F)||String(J.player.account||"").localeCompare(String(K.player.account||""))});return u.jsx(gs,{title:"Conditions - Dense View",subtitle:A==="applications"?"Applications":"Damage",sortColumnId:U,sortDirection:T.dir,onSortColumn:J=>{M(K=>({columnId:J,dir:K.columnId===J&&K.dir==="desc"?"asc":"desc"}))},columns:[{id:"all",label:"All",align:"right",minWidth:90},...Z.map(J=>({id:J.name,label:u.jsx(Ar,{name:J.name,iconUrl:J.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90}))],rows:q.map((J,K)=>({id:`${J.player.account}-${K}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:K+1}),h(J.player.profession,J.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:J.player.account})]}),values:J.values}))})})()}),(N.length>0||D.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{j([]),L([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),N.map(A=>u.jsxs("button",{type:"button",onClick:()=>j(te=>te.filter(S=>S!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:A}),u.jsx("span",{className:"text-gray-400",children:""})]},A)),D.map(A=>u.jsxs("button",{type:"button",onClick:()=>L(te=>te.filter(S=>S!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:A}),u.jsx("span",{className:"text-gray-400",children:""})]},A))]})]}):u.jsx(Do,{expanded:m==="conditions-outgoing",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="conditions-outgoing"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="conditions-outgoing"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),u.jsx("input",{value:n,onChange:A=>r(A.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${k} ${m==="conditions-outgoing"?"max-h-none flex-1 min-h-0":""}`,children:ee.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No conditions match this filter"}):u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:()=>a("all"),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i==="all"?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Conditions"}),ee.map(A=>u.jsx("button",{type:"button",onClick:()=>a(A.name),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===A.name?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Ar,{name:A.name,iconUrl:A.icon,iconClassName:"h-5 w-5"})},A.name))]})})]}),content:u.jsx(vs,{expanded:m==="conditions-outgoing",header:u.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:i==="all"?"All Conditions":u.jsx(Ar,{name:i,iconUrl:(E=e.find(A=>A.name===i))==null?void 0:E.icon,iconClassName:"h-5 w-5"})}),u.jsxs("div",{className:"flex flex-col items-end gap-2 text-right ml-auto mt-2",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Squad Totals"}),u.jsx(Pn,{value:s,onChange:o,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),columns:u.jsxs("div",{className:`grid ${l} text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2`,children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>{d({key:"applications",dir:c.key==="applications"&&c.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${c.key==="applications"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Applications ",c.key==="applications"?c.dir==="desc"?"":"":""]}),f?u.jsxs("button",{type:"button",onClick:()=>{d({key:"damage",dir:c.key==="damage"&&c.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${c.key==="damage"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage ",c.key==="damage"?c.dir==="desc"?"":"":""]}):null]}),rows:u.jsx(u.Fragment,{children:(()=>{const te=(t||[]).map(S=>{const U=S.conditions||{};if(i==="all"){const J=Object.values(U).reduce((K,re)=>{const F=O(re);return K.applications+=Number(F||0),K.damage+=Number((re==null?void 0:re.damage)||0),K},{applications:0,damage:0});return{...S,applications:J.applications,damage:J.damage}}const q=U[i];return{...S,applications:O(q),damage:Number((q==null?void 0:q.damage)||0)}}).filter(S=>S.applications>0||S.damage>0).sort((S,U)=>{const q=c.key==="applications"?S.applications||0:S.damage||0,J=c.key==="applications"?U.applications||0:U.damage||0,K=c.dir==="desc"?J-q:q-J;if(K!==0)return K;const re=c.key==="applications"?(U.damage||0)-(S.damage||0):(U.applications||0)-(S.applications||0);return re!==0?re:String(S.account||"").localeCompare(String(U.account||""))});return te.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No condition data available"}):te.map((S,U)=>{var $;const q=S.conditions||{};let J={};i==="all"?Object.values(q).forEach(z=>{const I=(z==null?void 0:z.skills)||{};Object.values(I).forEach(ne=>{const Se=(ne==null?void 0:ne.name)||"Unknown",We=Number((ne==null?void 0:ne.hits)||0),le=Number((ne==null?void 0:ne.damage)||0);if((!Number.isFinite(We)||We<=0)&&(!Number.isFinite(le)||le<=0))return;const $e=J[Se]||{name:Se,hits:0,damage:0,icon:ne==null?void 0:ne.icon};$e.hits+=Number.isFinite(We)?We:0,$e.damage+=Number.isFinite(le)?le:0,!$e.icon&&(ne!=null&&ne.icon)&&($e.icon=ne.icon),J[Se]=$e})}):J=(($=q[i])==null?void 0:$.skills)||{};const K=Object.values(J).filter(z=>Number.isFinite(z.hits)&&z.hits>0).sort((z,I)=>I.hits-z.hits||z.name.localeCompare(I.name)),re=Object.values(J).filter(z=>Number.isFinite(z.damage)&&z.damage>0).sort((z,I)=>I.damage-z.damage||z.name.localeCompare(I.name)),F=i==="all"&&K.length>0,W=i==="all"&&re.length>0,ce=Math.round(S.applications||0).toLocaleString(),ie=Math.round(S.damage||0).toLocaleString();return u.jsxs("div",{className:`grid ${l} px-4 py-2 text-sm text-gray-200 border-t border-white/5`,children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:U+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(S.profession,S.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:S.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:F?u.jsx(XP,{value:ce,label:"Condition Sources",items:K.map(z=>({name:z.name,iconUrl:z.icon,value:Math.round(z.hits).toLocaleString()})),className:"justify-end"}):ce}),f?u.jsx("div",{className:"text-right font-mono text-gray-300",children:W?u.jsx(XP,{value:ie,label:"Condition Damage Sources",items:re.map(z=>({name:z.name,iconUrl:z.icon,value:Math.round(z.damage).toLocaleString()})),className:"justify-end"}):ie}):null]},`${S.account}-${U}`)})})()})})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No condition data available"})]})},wie=({stats:e,activeBoonCategory:t,setActiveBoonCategory:n,activeBoonMetric:r,setActiveBoonMetric:i,activeBoonTab:a,setActiveBoonTab:s,activeBoonTable:o,filteredBoonTables:l,boonSearch:c,setBoonSearch:d,formatBoonMetricDisplay:f,getBoonMetricValue:h,renderProfessionIcon:m,roundCountStats:p,expandedSection:g,expandedSectionClosing:y,openExpandedSection:x,closeExpandedSection:b,isSectionVisible:w,isFirstVisibleSection:k,sectionClass:C,sidebarListClass:N})=>{const[j,D]=v.useState({key:"value",dir:"desc"}),[L,T]=v.useState({columnId:"",dir:"desc"}),M=g==="boon-output",[O,Q]=v.useState([]),[ee,ae]=v.useState([]),de=e.boonTables||[],Y=O.length>0?de.filter(S=>O.includes(S.id)):de,_=l.map(S=>({id:S.id,label:S.name,icon:S.icon?u.jsx("img",{src:S.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),E=Array.from(new Map((e.boonTables||[]).flatMap(S=>S.rows||[]).filter(S=>S.account).map(S=>[S.account,S])).values()).map(S=>({id:S.account,label:S.account,icon:m(S.profession,S.professionList,"w-3 h-3")})),A=new Set([...O.map(S=>`column:${S}`),...ee.map(S=>`player:${S}`)]),te=S=>{D(U=>({key:S,dir:U.key===S&&U.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"boon-output","data-section-visible":w("boon-output"),"data-section-first":k("boon-output"),className:C("boon-output",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${g==="boon-output"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${y?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(T1,{className:"w-5 h-5 text-cyan-400"}),"Boon Output"]}),u.jsx("button",{type:"button",onClick:()=>g==="boon-output"?b():x("boon-output"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":g==="boon-output"?"Close Boon Output":"Expand Boon Output",title:g==="boon-output"?"Close":"Expand",children:g==="boon-output"?u.jsx(Wi,{className:"w-4 h-4"}):u.jsx(ia,{className:"w-4 h-4"})})]}),e.boonTables.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No boon data available"}):M?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(xs,{options:[...de.map(S=>({id:S.id,label:S.name,type:"column"})),...Array.from(new Map((e.boonTables||[]).flatMap(S=>S.rows||[]).filter(S=>S.account).map(S=>[S.account,S])).values()).map(S=>({id:S.account,label:S.account,type:"player",icon:m(S.profession,S.professionList,"w-3 h-3")}))],onSelect:S=>{S.type==="column"?Q(U=>U.includes(S.id)?U.filter(q=>q!==S.id):[...U,S.id]):ae(U=>U.includes(S.id)?U.filter(q=>q!==S.id):[...U,S.id])},selectedIds:A,className:"w-full sm:w-64"}),u.jsx(pr,{options:_,selectedIds:O,onToggle:S=>{Q(U=>U.includes(S)?U.filter(q=>q!==S):[...U,S])},onClear:()=>Q([]),buttonIcon:u.jsx(hs,{className:"h-3.5 w-3.5"})}),u.jsx(pr,{options:E,selectedIds:ee,onToggle:S=>{ae(U=>U.includes(S)?U.filter(q=>q!==S):[...U,S])},onClear:()=>ae([]),buttonLabel:"Players",buttonIcon:u.jsx(jr,{className:"h-3.5 w-3.5"})}),u.jsx(Pn,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(Pn,{value:r,onChange:i,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(O.length>0||ee.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{Q([]),ae([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),O.map(S=>{var q;const U=((q=de.find(J=>J.id===S))==null?void 0:q.name)||S;return u.jsxs("button",{type:"button",onClick:()=>Q(J=>J.filter(K=>K!==S)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:U}),u.jsx("span",{className:"text-gray-400",children:""})]},S)}),ee.map(S=>u.jsxs("button",{type:"button",onClick:()=>ae(U=>U.filter(q=>q!==S)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:S}),u.jsx("span",{className:"text-gray-400",children:""})]},S))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:de.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No boons match this filter"}):(()=>{var re,F;const S=Y,U=((re=S.find(W=>W.id===L.columnId))==null?void 0:re.id)||(a&&S.some(W=>W.id===a)?a:void 0)||((F=S[0])==null?void 0:F.id)||"",q=new Map,J=new Map;S.forEach(W=>{const ce=new Map;W.rows.forEach(ie=>{const $=ie.account||ie.name||ie.id;$&&(ce.set($,ie),J.has($)||J.set($,ie))}),q.set(W.id,ce)});const K=Array.from(J.entries()).filter(([W])=>ee.length===0||ee.includes(String(W))).map(([W,ce])=>{const ie={};return S.forEach($=>{var I;const z=(I=q.get($.id))==null?void 0:I.get(W);ie[$.id]=z?f(z,t,$.stacking,r,{roundCountStats:p}):"-"}),{key:W,row:ce,values:ie}}).sort((W,ce)=>{var We,le;if(!U)return String(W.key).localeCompare(String(ce.key));const ie=S.find($e=>$e.id===U),$=ie?(We=q.get(ie.id))==null?void 0:We.get(W.key):null,z=ie?(le=q.get(ie.id))==null?void 0:le.get(ce.key):null,I=$?h($,t,ie==null?void 0:ie.stacking,r):0,ne=z?h(z,t,ie==null?void 0:ie.stacking,r):0;return(L.dir==="desc"?ne-I:I-ne)||String(W.key).localeCompare(String(ce.key))});return u.jsx(gs,{title:"Boon Output - Dense View",subtitle:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`,sortColumnId:U,sortDirection:L.dir,onSortColumn:W=>{T(ce=>({columnId:W,dir:ce.columnId===W&&ce.dir==="desc"?"asc":"desc"}))},columns:S.map(W=>({id:W.id,label:u.jsx(Ar,{name:W.name,iconUrl:W.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:K.map((W,ce)=>({id:`${W.key}-${ce}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:ce+1}),m(W.row.profession,W.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:W.row.account||W.row.name||W.key})]}),values:W.values}))})})()})]}):u.jsx(Do,{expanded:g==="boon-output",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${g==="boon-output"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${g==="boon-output"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),u.jsx("input",{value:c,onChange:S=>d(S.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${N} ${g==="boon-output"?"max-h-none flex-1 min-h-0":""}`,children:l.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No boons match this filter"}):l.map(S=>u.jsx("button",{onClick:()=>s(S.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===S.id?"bg-blue-500/20 text-blue-200 border-blue-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Ar,{name:S.name,iconUrl:S.icon,iconClassName:"h-3.5 w-3.5"})},S.id))})]}),content:o?u.jsx(vs,{expanded:g==="boon-output",maxHeightClass:"max-h-64",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(Ar,{name:o.name,iconUrl:o.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`})]}),columns:u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-start gap-2 px-4 py-2 bg-white/5",children:[u.jsx(Pn,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(Pn,{value:r,onChange:i,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],className:"sm:ml-auto",activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>te("value"),className:`text-right transition-colors ${j.key==="value"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:[r==="total"?"Total":r==="average"?"Gen/Sec":"Uptime",j.key==="value"?j.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>te("fightTime"),className:`text-right transition-colors ${j.key==="fightTime"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",j.key==="fightTime"?j.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:[...o.rows].sort((S,U)=>(()=>{const q=j.key==="fightTime"?Number(S.activeTimeMs||0):h(S,t,o.stacking,r),J=j.key==="fightTime"?Number(U.activeTimeMs||0):h(U,t,o.stacking,r);return(j.dir==="desc"?J-q:q-J)||String(S.account||"").localeCompare(String(U.account||""))})()).map((S,U)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:U+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[m(S.profession,S.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:S.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:f(S,t,o.stacking,r,{roundCountStats:p})}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:S.activeTimeMs?`${(S.activeTimeMs/1e3).toFixed(1)}s`:"-"})]},`${o.id}-${S.account}-${U}`))})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a boon to view details"})})]})},kie=({stats:e,DEFENSE_METRICS:t,defenseSearch:n,setDefenseSearch:r,activeDefenseStat:i,setActiveDefenseStat:a,defenseViewMode:s,setDefenseViewMode:o,roundCountStats:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:h,openExpandedSection:m,closeExpandedSection:p,isSectionVisible:g,isFirstVisibleSection:y,sectionClass:x,sidebarListClass:b})=>{var U;const[w,k]=v.useState({key:"value",dir:"desc"}),[C,N]=v.useState("combined"),[j,D]=v.useState({columnId:((U=t[0])==null?void 0:U.id)||"value",dir:"desc"}),L=f==="defense-detailed",[T,M]=v.useState([]),[O,Q]=v.useState([]),ee=t.filter(q=>q.label.toLowerCase().includes(n.trim().toLowerCase())),ae=t.map(q=>({id:q.id,label:q.label})),de=ae.filter(q=>q.label.toLowerCase().includes(n.trim().toLowerCase())),Y=T.length>0?t.filter(q=>T.includes(q.id)):t,_=Array.from(new Map(e.defensePlayers.map(q=>[q.account,q])).values()).map(q=>({id:q.account,label:q.account,icon:d(q.profession,q.professionList,"w-3 h-3")})),E=new Set([...T.map(q=>`column:${q}`),...O.map(q=>`player:${q}`)]),A=q=>{k(J=>({key:q,dir:J.key===q&&J.dir==="desc"?"asc":"desc"}))},te=q=>q==="minionDamageTaken",S=(q,J)=>J==="combined"?q.map(K=>({...K,minionList:Object.entries((K==null?void 0:K.minionDamageTakenByMinion)||{}).filter(([,re])=>Number(re||0)>0).sort((re,F)=>Number(F[1]||0)-Number(re[1]||0)).map(([re])=>String(re))})):q.flatMap(K=>{const re=Object.entries((K==null?void 0:K.minionDamageTakenByMinion)||{}).filter(([,F])=>Number(F||0)>0).sort((F,W)=>Number(W[1]||0)-Number(F[1]||0));return re.length===0?[]:re.map(([F,W])=>({...K,minionName:String(F),defenseTotals:{...K.defenseTotals||{},minionDamageTaken:Number(W||0)}}))});return u.jsxs("div",{id:"defense-detailed","data-section-visible":g("defense-detailed"),"data-section-first":y("defense-detailed"),className:x("defense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="defense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx($u,{className:"w-5 h-5 text-sky-300"}),"Defenses - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>f==="defense-detailed"?p():m("defense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="defense-detailed"?"Close Defense Detailed":"Expand Defense Detailed",title:f==="defense-detailed"?"Close":"Expand",children:f==="defense-detailed"?u.jsx(Wi,{className:"w-4 h-4"}):u.jsx(ia,{className:"w-4 h-4"})})]}),e.defensePlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No defensive stats available"}):L?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(xs,{options:[...ae.map(q=>({...q,type:"column"})),..._.map(q=>({...q,type:"player"}))],onSelect:q=>{q.type==="column"?M(J=>J.includes(q.id)?J.filter(K=>K!==q.id):[...J,q.id]):Q(J=>J.includes(q.id)?J.filter(K=>K!==q.id):[...J,q.id])},selectedIds:E,className:"w-full sm:w-64"}),u.jsx(pr,{options:de,selectedIds:T,onToggle:q=>{M(J=>J.includes(q)?J.filter(K=>K!==q):[...J,q])},onClear:()=>M([]),buttonIcon:u.jsx(hs,{className:"h-3.5 w-3.5"})}),u.jsx(pr,{options:_,selectedIds:O,onToggle:q=>{Q(J=>J.includes(q)?J.filter(K=>K!==q):[...J,q])},onClear:()=>Q([]),buttonLabel:"Players",buttonIcon:u.jsx(jr,{className:"h-3.5 w-3.5"})}),u.jsx(Pn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),Y.some(q=>te(q.id))&&u.jsx(Pn,{value:C,onChange:q=>N(q),options:[{value:"combined",label:"Combined"},{value:"separate",label:"Separate"}],activeClassName:"bg-indigo-500/20 text-indigo-200 border border-indigo-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(T.length>0||O.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{M([]),Q([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),T.map(q=>{var K;const J=((K=ae.find(re=>re.id===q))==null?void 0:K.label)||q;return u.jsxs("button",{type:"button",onClick:()=>M(re=>re.filter(F=>F!==q)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:J}),u.jsx("span",{className:"text-gray-400",children:""})]},q)}),O.map(q=>u.jsxs("button",{type:"button",onClick:()=>Q(J=>J.filter(K=>K!==q)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:q}),u.jsx("span",{className:"text-gray-400",children:""})]},q))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ee.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No defensive stats match this filter"}):(()=>{var ce,ie;const q=$=>Math.max(1,($.activeMs||0)/1e3),J=($,z)=>{const I=z.isPercent,Se=c($,l&&!I&&s==="total"?0:2);return I?`${Se}%`:Se},K=((ce=Y.find($=>$.id===j.columnId))==null?void 0:ce.id)||((ie=Y[0])==null?void 0:ie.id)||"",re=[...e.defensePlayers].filter($=>O.length===0||O.includes($.account)),W=[...Y.some($=>te($.id))?S(re,C):re].map($=>{const z={},I={};return Y.forEach(ne=>{var $e;const Se=(($e=$.defenseTotals)==null?void 0:$e[ne.id])||0,We=ne.isPercent,le=s==="total"||We?Se:s==="per1s"?Se/q($):Se*60/q($);I[ne.id]=le,z[ne.id]=J(le,ne)}),{row:$,values:z,numericValues:I}}).sort(($,z)=>{const I=$.numericValues[K]??0,ne=z.numericValues[K]??0;return(j.dir==="desc"?ne-I:I-ne)||String($.row.account||"").localeCompare(String(z.row.account||""))});return u.jsx(gs,{title:"Defense - Dense View",subtitle:"Defensive",sortColumnId:K,sortDirection:j.dir,onSortColumn:$=>{D(z=>({columnId:$,dir:z.columnId===$&&z.dir==="desc"?"asc":"desc"}))},columns:Y.map($=>({id:$.id,label:$.label,align:"right",minWidth:90})),rows:W.map(($,z)=>({id:`${$.row.account}-${z}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:z+1}),d($.row.profession,$.row.professionList,"w-4 h-4"),u.jsxs("span",{className:"min-w-0 flex flex-col",children:[u.jsx("span",{className:"truncate",children:$.row.account}),C==="combined"&&Array.isArray($.row.minionList)&&$.row.minionList.length>0&&u.jsx("span",{className:"truncate text-[10px] text-gray-500",children:$.row.minionList.join(", ")}),C==="separate"&&$.row.minionName&&u.jsx("span",{className:"truncate text-[10px] text-gray-400",children:$.row.minionName})]})]}),values:$.values}))})})()})]}):u.jsx(Do,{expanded:f==="defense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="defense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="defense-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),u.jsx("input",{value:n,onChange:q=>r(q.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${b} ${f==="defense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:ee.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No defensive stats match this filter"}):ee.map(q=>u.jsx("button",{onClick:()=>a(q.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===q.id?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:q.label},q.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const q=t.find(W=>W.id===i)||t[0],J=W=>Math.max(1,(W.activeMs||0)/1e3),K=[...e.defensePlayers],F=[...te(q.id)?S(K,C):K].map(W=>{var ce,ie,$;return{...W,total:((ce=W.defenseTotals)==null?void 0:ce[q.id])||0,per1s:(((ie=W.defenseTotals)==null?void 0:ie[q.id])||0)/J(W),per60s:((($=W.defenseTotals)==null?void 0:$[q.id])||0)*60/J(W)}}).sort((W,ce)=>{const ie=w.key==="fightTime"?Number(W.activeMs||0):Number(s==="total"?W.total:s==="per1s"?W.per1s:W.per60s),$=w.key==="fightTime"?Number(ce.activeMs||0):Number(s==="total"?ce.total:s==="per1s"?ce.per1s:ce.per60s);return(w.dir==="desc"?$-ie:ie-$)||W.account.localeCompare(ce.account)});return u.jsx(vs,{expanded:f==="defense-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:q.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Defensive"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:`flex items-center px-4 py-2 bg-white/5 ${te(q.id)?"justify-between":"justify-end"}`,children:[te(q.id)&&u.jsx(Pn,{value:C,onChange:W=>N(W),options:[{value:"combined",label:"Combined"},{value:"separate",label:"Separate"}],activeClassName:"bg-indigo-500/20 text-indigo-200 border border-indigo-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx("div",{className:"flex flex-wrap items-center justify-end gap-2",children:u.jsx(Pn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})})]}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>A("value"),className:`text-right transition-colors ${w.key==="value"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",w.key==="value"?w.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>A("fightTime"),className:`text-right transition-colors ${w.key==="fightTime"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",w.key==="fightTime"?w.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:F.map((W,ce)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:ce+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(W.profession,W.professionList,"w-4 h-4"),u.jsxs("span",{className:"min-w-0 flex flex-col",children:[u.jsx("span",{className:"truncate",children:W.account}),te(q.id)&&C==="combined"&&Array.isArray(W.minionList)&&W.minionList.length>0&&u.jsx("span",{className:"truncate text-[10px] text-gray-500",children:W.minionList.join(", ")}),te(q.id)&&C==="separate"&&W.minionName&&u.jsx("span",{className:"truncate text-[10px] text-gray-400",children:W.minionName})]})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const ie=s==="total"?W.total:s==="per1s"?W.per1s:W.per60s;return c(ie,l&&s==="total"?0:2)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:W.activeMs?`${(W.activeMs/1e3).toFixed(1)}s`:"-"})]},`${q.id}-${W.account}-${ce}`))})})})()})})]})},Sie=({stats:e,DAMAGE_MITIGATION_METRICS:t,damageMitigationSearch:n,setDamageMitigationSearch:r,activeDamageMitigationStat:i,setActiveDamageMitigationStat:a,damageMitigationViewMode:s,setDamageMitigationViewMode:o,damageMitigationScope:l,setDamageMitigationScope:c,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:h,expandedSection:m,expandedSectionClosing:p,openExpandedSection:g,closeExpandedSection:y,isSectionVisible:x,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:k})=>{var ce,ie;const C=((ce=t.find($=>$.id==="totalMitigation"))==null?void 0:ce.id)||((ie=t[0])==null?void 0:ie.id)||"totalMitigation",[N,j]=v.useState({key:"value",dir:"desc"}),[D,L]=v.useState({columnId:C,dir:"desc"}),T=m==="defense-mitigation",[M,O]=v.useState([]),[Q,ee]=v.useState([]),[ae,de]=v.useState([]),Z=e.damageMitigationPlayers||[],Y=e.damageMitigationMinions||[],_=l==="minions"?Y:Z,E=Z.length>0||Y.length>0,A=t.filter($=>$.label.toLowerCase().includes(n.trim().toLowerCase())),te=t.map($=>({id:$.id,label:$.label})),S=te.filter($=>$.label.toLowerCase().includes(n.trim().toLowerCase())),q=M.length>0?t.filter($=>M.includes($.id)):t,J=Array.from(new Map(_.map($=>[$.account,$])).values()).map($=>({id:$.account,label:$.account,icon:h($.profession,$.professionList,"w-3 h-3")})),K=Array.from(new Map(Y.map($=>[$.minion,$])).values()).filter($=>$==null?void 0:$.minion).map($=>({id:String($.minion),label:String($.minion)})),re=new Set([...M.map($=>`column:${$}`),...Q.map($=>`player:${$}`)]),F=$=>{j(z=>({key:$,dir:z.key===$&&z.dir==="desc"?"asc":"desc"}))},W=$=>f($,d&&s==="total"?0:2);return u.jsxs("div",{id:"defense-mitigation","data-section-visible":x("defense-mitigation"),"data-section-first":b("defense-mitigation"),className:w("defense-mitigation",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="defense-mitigation"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(E1,{className:"w-5 h-5 text-emerald-300"}),"Defenses - Damage Mitigation"]}),u.jsx("button",{type:"button",onClick:()=>m==="defense-mitigation"?y():g("defense-mitigation"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="defense-mitigation"?"Close Damage Mitigation":"Expand Damage Mitigation",title:m==="defense-mitigation"?"Close":"Expand",children:m==="defense-mitigation"?u.jsx(Wi,{className:"w-4 h-4"}):u.jsx(ia,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"text-xs text-amber-200/80 italic mb-3",children:"Damage mitigation is an estimate based on enemy skill damage averages and avoidance events (block/evade/miss/invuln/interrupted). Use it for relative comparison rather than exact prevention totals."}),E?T?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(xs,{options:[...te.map($=>({...$,type:"column"})),...J.map($=>({...$,type:"player"}))],onSelect:$=>{$.type==="column"?O(z=>z.includes($.id)?z.filter(I=>I!==$.id):[...z,$.id]):ee(z=>z.includes($.id)?z.filter(I=>I!==$.id):[...z,$.id])},selectedIds:re,className:"w-full sm:w-64"}),u.jsx(pr,{options:S,selectedIds:M,onToggle:$=>{O(z=>z.includes($)?z.filter(I=>I!==$):[...z,$])},onClear:()=>O([]),buttonIcon:u.jsx(hs,{className:"h-3.5 w-3.5"})}),u.jsx(pr,{options:J,selectedIds:Q,onToggle:$=>{ee(z=>z.includes($)?z.filter(I=>I!==$):[...z,$])},onClear:()=>ee([]),buttonLabel:"Players",buttonIcon:u.jsx(jr,{className:"h-3.5 w-3.5"})}),l==="minions"&&u.jsx(pr,{options:K,selectedIds:ae,onToggle:$=>{de(z=>z.includes($)?z.filter(I=>I!==$):[...z,$])},onClear:()=>de([]),buttonLabel:"Minions"}),u.jsx(Pn,{value:l,onChange:c,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(Pn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(M.length>0||Q.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{O([]),ee([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),M.map($=>{var I;const z=((I=te.find(ne=>ne.id===$))==null?void 0:I.label)||$;return u.jsxs("button",{type:"button",onClick:()=>O(ne=>ne.filter(Se=>Se!==$)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:z}),u.jsx("span",{className:"text-gray-400",children:""})]},$)}),Q.map($=>u.jsxs("button",{type:"button",onClick:()=>ee(z=>z.filter(I=>I!==$)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:$}),u.jsx("span",{className:"text-gray-400",children:""})]},$))]}),l==="minions"&&ae.length>0&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>de([]),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear Minions"}),ae.map($=>u.jsxs("button",{type:"button",onClick:()=>de(z=>z.filter(I=>I!==$)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:$}),u.jsx("span",{className:"text-gray-400",children:""})]},$))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:_.length===0?u.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):A.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No mitigation stats match this filter"}):(()=>{var ne,Se;const $=We=>Math.max(1,(We.activeMs||0)/1e3),z=((ne=q.find(We=>We.id===D.columnId))==null?void 0:ne.id)||((Se=q[0])==null?void 0:Se.id)||"",I=[..._].filter(We=>Q.length===0||Q.includes(We.account)).filter(We=>l!=="minions"||!ae.length?!0:ae.includes(String(We.minion||""))).map(We=>{const le={},$e={};return q.forEach(Oe=>{var dn;const wt=((dn=We.mitigationTotals)==null?void 0:dn[Oe.id])||0,Kt=s==="total"?wt:s==="per1s"?wt/$(We):wt*60/$(We);$e[Oe.id]=Kt,le[Oe.id]=W(Kt)}),{row:We,values:le,numericValues:$e}}).sort((We,le)=>{const $e=We.numericValues[z]??0,Oe=le.numericValues[z]??0;return(D.dir==="desc"?Oe-$e:$e-Oe)||String(We.row.account||"").localeCompare(String(le.row.account||""))});return u.jsx(gs,{title:"Damage Mitigation - Dense View",subtitle:"Defensive",sortColumnId:z,sortDirection:D.dir,onSortColumn:We=>{L(le=>({columnId:We,dir:le.columnId===We&&le.dir==="desc"?"asc":"desc"}))},columns:q.map(We=>({id:We.id,label:We.label,align:"right",minWidth:90})),rows:I.map((We,le)=>({id:`${We.row.account}-${We.row.minion||"player"}-${le}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:le+1}),h(We.row.profession,We.row.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"truncate",children:We.row.account}),We.row.minion&&u.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:We.row.minion})]})]}),values:We.values}))})})()})]}):u.jsx(Do,{expanded:m==="defense-mitigation",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="defense-mitigation"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="defense-mitigation"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),u.jsx("input",{value:n,onChange:$=>r($.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2 mt-2"}),u.jsx("div",{className:`${k} ${m==="defense-mitigation"?"max-h-none flex-1 min-h-0":""}`,children:A.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No mitigation stats match this filter"}):A.map($=>u.jsx("button",{onClick:()=>a($.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===$.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:$.label},$.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const $=t.find(ne=>ne.id===i)||t[0],z=ne=>Math.max(1,(ne.activeMs||0)/1e3),I=[..._].map(ne=>{var Se,We,le;return{...ne,total:((Se=ne.mitigationTotals)==null?void 0:Se[$.id])||0,per1s:(((We=ne.mitigationTotals)==null?void 0:We[$.id])||0)/z(ne),per60s:(((le=ne.mitigationTotals)==null?void 0:le[$.id])||0)*60/z(ne)}}).filter(ne=>l!=="minions"||!ae.length?!0:ae.includes(String(ne.minion||""))).sort((ne,Se)=>{const We=N.key==="fightTime"?Number(ne.activeMs||0):Number(s==="total"?ne.total:s==="per1s"?ne.per1s:ne.per60s),le=N.key==="fightTime"?Number(Se.activeMs||0):Number(s==="total"?Se.total:s==="per1s"?Se.per1s:Se.per60s);return(N.dir==="desc"?le-We:We-le)||ne.account.localeCompare(Se.account)});return u.jsx(vs,{expanded:m==="defense-mitigation",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:$.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Mitigation"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"px-4 py-2 bg-white/5",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Pn,{value:l,onChange:c,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx("div",{className:"ml-auto",children:u.jsx(Pn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})})]})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>F("value"),className:`text-right transition-colors ${N.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",N.key==="value"?N.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>F("fightTime"),className:`text-right transition-colors ${N.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",N.key==="fightTime"?N.dir==="desc"?" ":" ":""]})]})]}),rows:I.length===0?u.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):u.jsx(u.Fragment,{children:I.map((ne,Se)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:Se+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(ne.profession,ne.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"truncate",children:ne.account}),ne.minion&&u.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:ne.minion})]})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const We=s==="total"?ne.total:s==="per1s"?ne.per1s:ne.per60s;return W(We)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:ne.activeMs?`${(ne.activeMs/1e3).toFixed(1)}s`:"-"})]},`${$.id}-${ne.account}-${ne.minion||"player"}-${Se}`))})})})()})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No damage mitigation stats available"})]})},Nie=({stats:e,SUPPORT_METRICS:t,supportSearch:n,setSupportSearch:r,activeSupportStat:i,setActiveSupportStat:a,supportViewMode:s,setSupportViewMode:o,cleanseScope:l,setCleanseScope:c,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:h,expandedSection:m,expandedSectionClosing:p,openExpandedSection:g,closeExpandedSection:y,isSectionVisible:x,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:k})=>{var te;const[C,N]=v.useState({key:"value",dir:"desc"}),[j,D]=v.useState({columnId:((te=t[0])==null?void 0:te.id)||"value",dir:"desc"}),L=m==="support-detailed",[T,M]=v.useState([]),[O,Q]=v.useState([]),ee=t.filter(S=>S.label.toLowerCase().includes(n.trim().toLowerCase())),ae=t.map(S=>({id:S.id,label:S.label})),de=ae.filter(S=>S.label.toLowerCase().includes(n.trim().toLowerCase())),Y=T.length>0?t.filter(S=>T.includes(S.id)):t,_=Array.from(new Map(e.supportPlayers.map(S=>[S.account,S])).values()).map(S=>({id:S.account,label:S.account,icon:h(S.profession,S.professionList,"w-3 h-3")})),E=new Set([...T.map(S=>`column:${S}`),...O.map(S=>`player:${S}`)]),A=S=>{N(U=>({key:S,dir:U.key===S&&U.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"support-detailed","data-section-visible":x("support-detailed"),"data-section-first":b("support-detailed"),className:w("support-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="support-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(A1,{className:"w-5 h-5 text-emerald-300"}),"Support - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>m==="support-detailed"?y():g("support-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="support-detailed"?"Close Support Detailed":"Expand Support Detailed",title:m==="support-detailed"?"Close":"Expand",children:m==="support-detailed"?u.jsx(Wi,{className:"w-4 h-4"}):u.jsx(ia,{className:"w-4 h-4"})})]}),e.supportPlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No support stats available"}):L?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(xs,{options:[...ae.map(S=>({...S,type:"column"})),..._.map(S=>({...S,type:"player"}))],onSelect:S=>{S.type==="column"?M(U=>U.includes(S.id)?U.filter(q=>q!==S.id):[...U,S.id]):Q(U=>U.includes(S.id)?U.filter(q=>q!==S.id):[...U,S.id])},selectedIds:E,className:"w-full sm:w-64"}),u.jsx(pr,{options:de,selectedIds:T,onToggle:S=>{M(U=>U.includes(S)?U.filter(q=>q!==S):[...U,S])},onClear:()=>M([]),buttonIcon:u.jsx(hs,{className:"h-3.5 w-3.5"})}),u.jsx(pr,{options:_,selectedIds:O,onToggle:S=>{Q(U=>U.includes(S)?U.filter(q=>q!==S):[...U,S])},onClear:()=>Q([]),buttonLabel:"Players",buttonIcon:u.jsx(jr,{className:"h-3.5 w-3.5"})}),u.jsx(Pn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),i==="condiCleanse"&&u.jsx(Pn,{value:l,onChange:c,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(T.length>0||O.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{M([]),Q([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),T.map(S=>{var q;const U=((q=ae.find(J=>J.id===S))==null?void 0:q.label)||S;return u.jsxs("button",{type:"button",onClick:()=>M(J=>J.filter(K=>K!==S)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:U}),u.jsx("span",{className:"text-gray-400",children:""})]},S)}),O.map(S=>u.jsxs("button",{type:"button",onClick:()=>Q(U=>U.filter(q=>q!==S)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:S}),u.jsx("span",{className:"text-gray-400",children:""})]},S))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ee.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No support stats match this filter"}):(()=>{var re,F;const S=(W,ce)=>{var ie,$,z;if(ce==="condiCleanse"){const I=((ie=W.supportTotals)==null?void 0:ie.condiCleanse)||0,ne=(($=W.supportTotals)==null?void 0:$.condiCleanseSelf)||0;return l==="all"?I+ne:I}return((z=W.supportTotals)==null?void 0:z[ce])||0},U=W=>Math.max(1,(W.activeMs||0)/1e3),q=(W,ce)=>{const ie=W.isTime?1:d&&s==="total"?0:2;return f(ce,ie)},J=((re=Y.find(W=>W.id===j.columnId))==null?void 0:re.id)||((F=Y[0])==null?void 0:F.id)||"",K=[...e.supportPlayers].filter(W=>O.length===0||O.includes(W.account)).map(W=>{const ce={},ie={};return Y.forEach($=>{const z=S(W,$.id),I=s==="total"?z:s==="per1s"?z/U(W):z*60/U(W);ie[$.id]=I,ce[$.id]=q($,I)}),{row:W,values:ce,numericValues:ie}}).sort((W,ce)=>{const ie=W.numericValues[J]??0,$=ce.numericValues[J]??0;return(j.dir==="desc"?$-ie:ie-$)||String(W.row.account||"").localeCompare(String(ce.row.account||""))});return u.jsx(gs,{title:"Support - Dense View",subtitle:"Support",sortColumnId:J,sortDirection:j.dir,onSortColumn:W=>{D(ce=>({columnId:W,dir:ce.columnId===W&&ce.dir==="desc"?"asc":"desc"}))},columns:Y.map(W=>({id:W.id,label:W.label,align:"right",minWidth:90})),rows:K.map((W,ce)=>({id:`${W.row.account}-${ce}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:ce+1}),h(W.row.profession,W.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:W.row.account})]}),values:W.values}))})})()})]}):u.jsx(Do,{expanded:m==="support-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="support-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="support-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),u.jsx("input",{value:n,onChange:S=>r(S.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${k} ${m==="support-detailed"?"max-h-none flex-1 min-h-0":""}`,children:ee.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No support stats match this filter"}):ee.map(S=>u.jsx("button",{onClick:()=>a(S.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===S.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:S.label},S.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const S=t.find(K=>K.id===i)||t[0],U=K=>{var re,F,W;if(S.id==="condiCleanse"){const ce=((re=K.supportTotals)==null?void 0:re.condiCleanse)||0,ie=((F=K.supportTotals)==null?void 0:F.condiCleanseSelf)||0;return l==="all"?ce+ie:ce}return((W=K.supportTotals)==null?void 0:W[S.id])||0},q=K=>Math.max(1,(K.activeMs||0)/1e3),J=[...e.supportPlayers].map(K=>({...K,total:U(K),per1s:U(K)/q(K),per60s:U(K)*60/q(K)})).sort((K,re)=>{const F=C.key==="fightTime"?Number(K.activeMs||0):Number(s==="total"?K.total:s==="per1s"?K.per1s:K.per60s),W=C.key==="fightTime"?Number(re.activeMs||0):Number(s==="total"?re.total:s==="per1s"?re.per1s:re.per60s);return(C.dir==="desc"?W-F:F-W)||K.account.localeCompare(re.account)});return u.jsx(vs,{expanded:m==="support-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:S.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Support"})]}),columns:u.jsxs(u.Fragment,{children:[S.id==="condiCleanse"?u.jsxs("div",{className:"flex flex-wrap items-center gap-2 px-4 py-2 bg-white/5",children:[u.jsx(Pn,{value:l,onChange:c,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(Pn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],className:"sm:ml-auto",activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}):u.jsx("div",{className:"flex flex-wrap items-center justify-start sm:justify-end px-4 py-2 bg-white/5",children:u.jsx(Pn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>A("value"),className:`text-right transition-colors ${C.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",C.key==="value"?C.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>A("fightTime"),className:`text-right transition-colors ${C.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",C.key==="fightTime"?C.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:J.map((K,re)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:re+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(K.profession,K.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:K.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const F=s==="total"?K.total:s==="per1s"?K.per1s:K.per60s,W=S.isTime?1:d&&s==="total"?0:2;return f(F,W)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:K.activeMs?`${(K.activeMs/1e3).toFixed(1)}s`:"-"})]},`${S.id}-${K.account}-${re}`))})})})()})})]})},Cie=({stats:e,HEALING_METRICS:t,activeHealingMetric:n,setActiveHealingMetric:r,healingCategory:i,setHealingCategory:a,activeResUtilitySkill:s,setActiveResUtilitySkill:o,skillUsageData:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:h,openExpandedSection:m,closeExpandedSection:p,isSectionVisible:g,isFirstVisibleSection:y,sectionClass:x})=>{var de;const[b,w]=v.useState({key:"value",dir:"desc"}),[k,C]=v.useState({columnId:((de=t[0])==null?void 0:de.id)||"value",dir:"desc"}),N=f==="healing-stats",[j,D]=v.useState([]),[L,T]=v.useState([]),M=Array.from(new Map(e.healingPlayers.map(Z=>[Z.account,Z])).values()).map(Z=>({id:Z.account,label:Z.account,icon:d(Z.profession,Z.professionList,"w-3 h-3")})),O=new Set([...L.map(Z=>`column:${Z}`),...j.map(Z=>`player:${Z}`)]),Q=t.map(Z=>({id:Z.id,label:Z.label})),ee=L.length>0?t.filter(Z=>L.includes(Z.id)):t,ae=Z=>{w(Y=>({key:Z,dir:Y.key===Z&&Y.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"healing-stats","data-section-visible":g("healing-stats"),"data-section-first":y("healing-stats"),className:x("healing-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="healing-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(kO,{className:"w-5 h-5 text-lime-300"}),"Healing Stats"]}),u.jsx("button",{type:"button",onClick:()=>f==="healing-stats"?p():m("healing-stats"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="healing-stats"?"Close Healing Stats":"Expand Healing Stats",title:f==="healing-stats"?"Close":"Expand",children:f==="healing-stats"?u.jsx(Wi,{className:"w-4 h-4"}):u.jsx(ia,{className:"w-4 h-4"})})]}),e.healingPlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No healing stats available"}):N?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(xs,{options:[...Q.map(Z=>({...Z,type:"column"})),...M.map(Z=>({...Z,type:"player"}))],onSelect:Z=>{Z.type==="column"?T(Y=>Y.includes(Z.id)?Y.filter(_=>_!==Z.id):[...Y,Z.id]):D(Y=>Y.includes(Z.id)?Y.filter(_=>_!==Z.id):[...Y,Z.id])},selectedIds:O,className:"w-full sm:w-64"}),u.jsx(Pn,{value:i,onChange:a,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(pr,{options:Q,selectedIds:L,onToggle:Z=>{T(Y=>Y.includes(Z)?Y.filter(_=>_!==Z):[...Y,Z])},onClear:()=>T([]),buttonIcon:u.jsx(hs,{className:"h-3.5 w-3.5"})}),u.jsx(Pn,{value:s,onChange:o,options:[{value:"all",label:"All Res Utility"},...(l.resUtilitySkills||[]).map(Z=>({value:Z.id,label:Z.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(pr,{options:M,selectedIds:j,onToggle:Z=>{D(Y=>Y.includes(Z)?Y.filter(_=>_!==Z):[...Y,Z])},onClear:()=>D([]),buttonLabel:"Players",buttonIcon:u.jsx(jr,{className:"h-3.5 w-3.5"})})]}),(L.length>0||j.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{T([]),D([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),L.map(Z=>{var _;const Y=((_=Q.find(E=>E.id===Z))==null?void 0:_.label)||Z;return u.jsxs("button",{type:"button",onClick:()=>T(E=>E.filter(A=>A!==Z)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Y}),u.jsx("span",{className:"text-gray-400",children:""})]},Z)}),j.map(Z=>u.jsxs("button",{type:"button",onClick:()=>D(Y=>Y.filter(_=>_!==Z)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Z}),u.jsx("span",{className:"text-gray-400",children:""})]},Z))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:(()=>{var A,te;const Z=S=>Math.max(1,(S.activeMs||0)/1e3),Y=S=>{const U=S.baseField==="resUtility",q=U||i==="total"?"":i==="offSquad"?"offSquad":i;return U?s==="all"?"resUtility":`resUtility_${s}`:q?`${q}${S.baseField[0].toUpperCase()}${S.baseField.slice(1)}`:S.baseField},_=[...e.healingPlayers].filter(S=>j.length===0||j.includes(S.account)).filter(S=>Object.values(S.healingTotals||{}).some(U=>Number(U)>0)).map(S=>{const U={},q={};return ee.forEach(J=>{var W;const K=Y(J),re=Number(((W=S.healingTotals)==null?void 0:W[K])??0),F=J.perSecond?re/Z(S):re;q[J.id]=F,U[J.id]=c(F,J.decimals)}),{row:S,values:U,numericValues:q}}).sort((S,U)=>{var F,W;const q=((F=ee.find(ce=>ce.id===k.columnId))==null?void 0:F.id)||((W=ee[0])==null?void 0:W.id)||"",J=S.numericValues[q]??0,K=U.numericValues[q]??0;return(k.dir==="desc"?K-J:J-K)||String(S.row.account||"").localeCompare(String(U.row.account||""))}),E=((A=ee.find(S=>S.id===k.columnId))==null?void 0:A.id)||((te=ee[0])==null?void 0:te.id)||"";return u.jsx(gs,{title:"Healing - Dense View",subtitle:"Healing",sortColumnId:E,sortDirection:k.dir,onSortColumn:S=>{C(U=>({columnId:S,dir:U.columnId===S&&U.dir==="desc"?"asc":"desc"}))},columns:ee.map(S=>({id:S.id,label:S.label,align:"right",minWidth:90})),rows:_.map((S,U)=>({id:`${S.row.account}-${U}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:U+1}),d(S.row.profession,S.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:S.row.account})]}),values:S.values}))})})()})]}):u.jsx(Do,{expanded:f==="healing-stats",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="healing-stats"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="healing-stats"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),u.jsx("div",{className:"flex-1 overflow-y-auto space-y-1 pr-1",children:t.map(Z=>u.jsx("button",{onClick:()=>r(Z.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${n===Z.id?"bg-lime-500/20 text-lime-200 border-lime-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:Z.label},Z.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const Z=t.find(S=>S.id===n)||t[0],Y=Z.baseField==="resUtility",_=S=>Math.max(1,(S.activeMs||0)/1e3),E=Y||i==="total"?"":i==="offSquad"?"offSquad":i,A=Y?s==="all"?"resUtility":`resUtility_${s}`:E?`${E}${Z.baseField[0].toUpperCase()}${Z.baseField.slice(1)}`:Z.baseField,te=[...e.healingPlayers].filter(S=>Object.values(S.healingTotals||{}).some(U=>Number(U)>0)).map(S=>{var J;const U=Number(((J=S.healingTotals)==null?void 0:J[A])??0),q=Z.perSecond?U/_(S):U;return{...S,value:q}}).sort((S,U)=>{const q=b.key==="fightTime"?Number(S.activeMs||0):Number(S.value||0),J=b.key==="fightTime"?Number(U.activeMs||0):Number(U.value||0);return(b.dir==="desc"?J-q:q-J)||S.account.localeCompare(U.account)});return u.jsx(vs,{expanded:f==="healing-stats",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:Z.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Healing"})]}),columns:u.jsxs(u.Fragment,{children:[Y&&u.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5 flex-wrap",children:u.jsx(Pn,{value:s,onChange:o,options:[{value:"all",label:"All"},...(l.resUtilitySkills||[]).map(S=>({value:S.id,label:S.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),!Y&&u.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5",children:u.jsx(Pn,{value:i,onChange:a,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>ae("value"),className:`text-right transition-colors ${b.key==="value"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:[Z.label,b.key==="value"?b.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>ae("fightTime"),className:`text-right transition-colors ${b.key==="fightTime"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",b.key==="fightTime"?b.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:te.length===0?u.jsx("div",{className:"px-4 py-6 text-sm text-gray-500 italic",children:"No healing data for this view"}):te.map((S,U)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:U+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(S.profession,S.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:S.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:c(S.value,Z.decimals)}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:S.activeMs?`${(S.activeMs/1e3).toFixed(1)}s`:"-"})]},`${Z.id}-${S.account}-${U}`))})})})()})})]})},jie=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}`:e:"",Aie=({stats:e,specialSearch:t,setSpecialSearch:n,filteredSpecialTables:r,activeSpecialTab:i,setActiveSpecialTab:a,activeSpecialTable:s,formatWithCommas:o,renderProfessionIcon:l,expandedSection:c,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:h,isSectionVisible:m,isFirstVisibleSection:p,sectionClass:g,sidebarListClass:y})=>{const[x,b]=v.useState("total"),[w,k]=v.useState("desc"),[C,N]=v.useState({columnId:"",dir:"desc"}),j=c==="special-buffs",[D,L]=v.useState([]),[T,M]=v.useState([]),O=e.specialTables||[],ee=D.length>0?O.filter(A=>D.includes(A.id)):O,ae=r.map(A=>({id:A.id,label:A.name,icon:A.icon?u.jsx("img",{src:A.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),de=Array.from(new Map((e.specialTables||[]).flatMap(A=>A.rows||[]).filter(A=>A.account).map(A=>[A.account,A])).values()).map(A=>({id:A.account,label:A.account,icon:l(A.profession,A.professionList,"w-3 h-3")})),Z=new Set([...D.map(A=>`column:${A}`),...T.map(A=>`player:${A}`)]),Y=v.useMemo(()=>{if(!(s!=null&&s.rows))return[];const A=[...s.rows];return A.sort((te,S)=>{const U=Number((te==null?void 0:te[x])??0),q=Number((S==null?void 0:S[x])??0),J=w==="desc"?q-U:U-q;return J!==0?J:String((te==null?void 0:te.account)||"").localeCompare(String((S==null?void 0:S.account)||""))}),A},[s,x,w]),_=A=>{if(x===A){k(te=>te==="desc"?"asc":"desc");return}b(A),k("desc")},E=A=>x!==A?"":w==="desc"?" ":" ";return u.jsxs("div",{id:"special-buffs","data-section-visible":m("special-buffs"),"data-section-first":p("special-buffs"),className:g("special-buffs",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${c==="special-buffs"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(g0,{className:"w-5 h-5 text-purple-300"}),"Special Buffs"]}),u.jsx("button",{type:"button",onClick:()=>c==="special-buffs"?h():f("special-buffs"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":c==="special-buffs"?"Close Special Buffs":"Expand Special Buffs",title:c==="special-buffs"?"Close":"Expand",children:c==="special-buffs"?u.jsx(Wi,{className:"w-4 h-4"}):u.jsx(ia,{className:"w-4 h-4"})})]}),e.specialTables.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No special buff data available"}):j?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(xs,{options:[...O.map(A=>({id:A.id,label:A.name,type:"column"})),...Array.from(new Map((e.specialTables||[]).flatMap(A=>A.rows||[]).filter(A=>A.account).map(A=>[A.account,A])).values()).map(A=>({id:A.account,label:A.account,type:"player",icon:l(A.profession,A.professionList,"w-3 h-3")}))],onSelect:A=>{A.type==="column"?L(te=>te.includes(A.id)?te.filter(S=>S!==A.id):[...te,A.id]):M(te=>te.includes(A.id)?te.filter(S=>S!==A.id):[...te,A.id])},selectedIds:Z,className:"w-full sm:w-64"}),u.jsx(pr,{options:ae,selectedIds:D,onToggle:A=>{L(te=>te.includes(A)?te.filter(S=>S!==A):[...te,A])},onClear:()=>L([]),buttonIcon:u.jsx(hs,{className:"h-3.5 w-3.5"})}),u.jsx(pr,{options:de,selectedIds:T,onToggle:A=>{M(te=>te.includes(A)?te.filter(S=>S!==A):[...te,A])},onClear:()=>M([]),buttonLabel:"Players",buttonIcon:u.jsx(jr,{className:"h-3.5 w-3.5"})}),u.jsx(Pn,{value:x,onChange:A=>b(A),options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"},{value:"duration",label:"Fight Time"}],activeClassName:"bg-purple-500/20 text-purple-200 border border-purple-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(D.length>0||T.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{L([]),M([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),D.map(A=>{var S;const te=((S=O.find(U=>U.id===A))==null?void 0:S.name)||A;return u.jsxs("button",{type:"button",onClick:()=>L(U=>U.filter(q=>q!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:te}),u.jsx("span",{className:"text-gray-400",children:""})]},A)}),T.map(A=>u.jsxs("button",{type:"button",onClick:()=>M(te=>te.filter(S=>S!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:A}),u.jsx("span",{className:"text-gray-400",children:""})]},A))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:O.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No special buffs match this filter"}):(()=>{var K,re;const A=ee,te=new Map,S=new Map;A.forEach(F=>{const W=new Map;F.rows.forEach(ce=>{const ie=ce.account||ce.name||ce.id;ie&&(W.set(ie,ce),S.has(ie)||S.set(ie,ce))}),te.set(F.id,W)});const U=Array.from(S.entries()).filter(([F])=>T.length===0||T.includes(String(F))).map(([F,W])=>{const ce={},ie={};return A.forEach($=>{var Se;const z=(Se=te.get($.id))==null?void 0:Se.get(F);if(!z){ce[$.id]="-",ie[$.id]=0;return}if(x==="duration"){ce[$.id]=z.duration?`${z.duration.toFixed(1)}s`:"-",ie[$.id]=Number(z.duration||0);return}const I=x==="total"?z.total:z.perSecond,ne=x==="total"?0:1;ie[$.id]=Number(I||0),ce[$.id]=o(I||0,ne)}),{key:F,row:W,values:ce,numericValues:ie}}),q=((K=A.find(F=>F.id===C.columnId))==null?void 0:K.id)||(i&&A.some(F=>F.id===i)?i:void 0)||((re=A[0])==null?void 0:re.id)||"",J=[...U].sort((F,W)=>{if(!q)return String(F.key).localeCompare(String(W.key));const ce=F.numericValues[q]??0,ie=W.numericValues[q]??0;return(C.dir==="desc"?ie-ce:ce-ie)||String(F.key).localeCompare(String(W.key))});return u.jsx(gs,{title:"Special Buffs - Dense View",subtitle:"Totals",sortColumnId:q,sortDirection:C.dir,onSortColumn:F=>{N(W=>({columnId:F,dir:W.columnId===F&&W.dir==="desc"?"asc":"desc"}))},columns:A.map(F=>({id:F.id,label:u.jsx(Ar,{name:F.name,iconUrl:F.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:J.map((F,W)=>({id:`${F.key}-${W}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:W+1}),l(F.row.profession,F.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:F.row.account||F.row.name||F.key})]}),values:F.values}))})})()})]}):u.jsx(Do,{expanded:c==="special-buffs",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${c==="special-buffs"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${c==="special-buffs"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),u.jsx("input",{value:t,onChange:A=>n(A.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${y} ${c==="special-buffs"?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No special buffs match this filter"}):r.map(A=>u.jsx("button",{onClick:()=>a(A.id),title:A.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===A.id?"bg-purple-500/20 text-purple-200 border-purple-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Ar,{name:jie(A.name),iconUrl:A.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},A.id))})]}),content:u.jsx(u.Fragment,{children:s?u.jsx(vs,{expanded:c==="special-buffs",maxHeightClass:"max-h-64",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(Ar,{name:s.name,iconUrl:s.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Totals"})]}),columns:u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>_("total"),className:`text-right transition-colors ${x==="total"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Total",E("total")]}),u.jsxs("button",{type:"button",onClick:()=>_("perSecond"),className:`text-right transition-colors ${x==="perSecond"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Per Sec",E("perSecond")]}),u.jsxs("button",{type:"button",onClick:()=>_("duration"),className:`text-right transition-colors ${x==="duration"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",E("duration")]})]}),rows:u.jsx(u.Fragment,{children:Y.map((A,te)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:te+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(A.profession,A.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:A.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:Math.round(A.total).toLocaleString()}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:o(A.perSecond,1)}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:A.duration?`${A.duration.toFixed(1)}s`:"-"})]},`${s.id}-${A.account}-${te}`))})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a special buff to view details"})})})]})},Pie=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}...`:e:"",Tie=({hasSigilRelicTables:e,sigilRelicSearch:t,setSigilRelicSearch:n,filteredSigilRelicTables:r,activeSigilRelicTab:i,setActiveSigilRelicTab:a,activeSigilRelicTable:s,formatWithCommas:o,renderProfessionIcon:l,expandedSection:c,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:h,isSectionVisible:m,isFirstVisibleSection:p,sectionClass:g,sidebarListClass:y})=>{const[x,b]=v.useState("desc"),w=c==="sigil-relic-uptime",k=v.useMemo(()=>{if(!(s!=null&&s.rows))return[];const C=[...s.rows];return C.sort((N,j)=>{const D=Number((N==null?void 0:N.uptimePerSecond)??(N==null?void 0:N.perSecond)??0),L=Number((j==null?void 0:j.uptimePerSecond)??(j==null?void 0:j.perSecond)??0),T=x==="desc"?L-D:D-L;return T!==0?T:String((N==null?void 0:N.account)||"").localeCompare(String((j==null?void 0:j.account)||""))}),C},[s,x]);return u.jsxs("div",{id:"sigil-relic-uptime","data-section-visible":m("sigil-relic-uptime"),"data-section-first":p("sigil-relic-uptime"),className:g("sigil-relic-uptime",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${c==="sigil-relic-uptime"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(D1,{className:"w-5 h-5 text-fuchsia-300"}),"Sigil/Relic Uptime"]}),u.jsx("button",{type:"button",onClick:()=>c==="sigil-relic-uptime"?h():f("sigil-relic-uptime"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":c==="sigil-relic-uptime"?"Close Sigil/Relic Uptime":"Expand Sigil/Relic Uptime",title:c==="sigil-relic-uptime"?"Close":"Expand",children:c==="sigil-relic-uptime"?u.jsx(Wi,{className:"w-4 h-4"}):u.jsx(ia,{className:"w-4 h-4"})})]}),e?u.jsx(Do,{expanded:w,sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${w?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${w?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Sigil/Relic"}),u.jsx("input",{value:t,onChange:C=>n(C.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${y} ${w?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No sigil/relic entries match this filter"}):r.map(C=>u.jsx("button",{onClick:()=>a(C.id),title:C.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===C.id?"bg-fuchsia-500/20 text-fuchsia-200 border-fuchsia-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Ar,{name:Pie(C.name),iconUrl:C.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},C.id))})]}),content:u.jsx(u.Fragment,{children:s?u.jsx(vs,{expanded:w,maxHeightClass:"max-h-72",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(Ar,{name:s.name,iconUrl:s.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Uptime"})]}),columns:u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>b(C=>C==="desc"?"asc":"desc"),className:"text-right transition-colors text-gray-400 hover:text-gray-200",children:["Uptime ",x==="desc"?"":""]})]}),rows:u.jsx(u.Fragment,{children:k.map((C,N)=>{const j=Number(C.uptimePerSecond??C.perSecond??0)*100;return u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:N+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(C.profession,C.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:C.account})]}),u.jsxs("div",{className:"text-right font-mono text-gray-300",children:[o(j,1),"%"]})]},`${s.id}-${C.account}-${N}`)})})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a sigil/relic to view uptime"})})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No sigil/relic uptime data available"})]})},Eie=({stats:e,formatWithCommas:t,expandedSection:n,expandedSectionClosing:r,openExpandedSection:i,closeExpandedSection:a,isSectionVisible:s,isFirstVisibleSection:o,sectionClass:l})=>{const c=Array.isArray(e==null?void 0:e.fightDiffMode)?e.fightDiffMode:[],d=!Array.isArray(e==null?void 0:e.fightDiffMode)&&Array.isArray(e==null?void 0:e.fightBreakdown)&&e.fightBreakdown.length>0,[f,h]=v.useState(""),[m,p]=v.useState(""),[g,y]=v.useState(null);v.useEffect(()=>{var Q,ee,ae;if(c.length===0){h(""),p("");return}const M=String(((Q=c[0])==null?void 0:Q.id)||""),O=String(((ee=c[1])==null?void 0:ee.id)||((ae=c[0])==null?void 0:ae.id)||"");h(de=>de&&c.some(Z=>String(Z.id)===de)?de:M),p(de=>de&&c.some(Z=>String(Z.id)===de)?de:O)},[c]);const x=v.useMemo(()=>c.find(M=>String(M.id)===String(f))||null,[c,f]),b=v.useMemo(()=>c.find(M=>String(M.id)===String(m))||null,[c,m]),w=v.useMemo(()=>{if(!x||!b)return[];const M=new Map,O=(Q,ee,ae,de)=>{const Z=String(Q||"Unknown"),Y=M.get(Z)||{label:Z,aDamage:0,aShare:0,bDamage:0,bShare:0};ee==="a"?(Y.aDamage=Number(ae||0),Y.aShare=Number(de||0)):(Y.bDamage=Number(ae||0),Y.bShare=Number(de||0)),M.set(Z,Y)};return(x.targetFocus||[]).forEach(Q=>O(Q.label,"a",Q.damage,Q.share)),(b.targetFocus||[]).forEach(Q=>O(Q.label,"b",Q.damage,Q.share)),Array.from(M.values()).map(Q=>({...Q,shareDelta:Q.bShare-Q.aShare})).sort((Q,ee)=>Math.abs(ee.shareDelta)-Math.abs(Q.shareDelta)||ee.bDamage+ee.aDamage-(Q.bDamage+Q.aDamage))},[x,b]),k=v.useMemo(()=>{if(!g)return w;const M=g.direction==="asc"?1:-1,O=g.key;return[...w].sort((Q,ee)=>{const ae=(Number(Q[O])-Number(ee[O]))*M;return ae!==0?ae:Q.label.localeCompare(ee.label)})},[w,g]),C=v.useMemo(()=>{if(!x||!b)return[];const M=new Map((x.squadMetrics||[]).map(ee=>[ee.metricId,ee])),O=new Map((b.squadMetrics||[]).map(ee=>[ee.metricId,ee]));return Array.from(new Set([...M.keys(),...O.keys()])).map(ee=>{const ae=M.get(ee),de=O.get(ee),Z=!!((ae==null?void 0:ae.higherIsBetter)??(de==null?void 0:de.higherIsBetter)??!0),Y=Number((ae==null?void 0:ae.value)||0),_=Number((de==null?void 0:de.value)||0);return{metricId:ee,metricLabel:String((ae==null?void 0:ae.metricLabel)||(de==null?void 0:de.metricLabel)||ee),higherIsBetter:Z,a:ae,b:de,delta:_-Y}})},[x,b]),N=M=>`${t((Number(M)||0)*100,1)}%`,j=M=>M==="squadKdr"?2:0,D=M=>{y(O=>!O||O.key!==M?{key:M,direction:"desc"}:{key:M,direction:O.direction==="desc"?"asc":"desc"})},L=M=>(g==null?void 0:g.key)===M?g.direction==="desc"?" ":" ":"",T=M=>`fight-diff-sort-button transition-colors whitespace-nowrap ${(g==null?void 0:g.key)===M?"text-indigo-200":"text-gray-400 hover:text-gray-200"}`;return u.jsxs("div",{id:"fight-diff-mode","data-section-visible":s("fight-diff-mode"),"data-section-first":o("fight-diff-mode"),className:l("fight-diff-mode",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${n==="fight-diff-mode"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${r?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(S1,{className:"w-5 h-5 text-indigo-300"}),"Fight Comparison"]}),u.jsx("button",{type:"button",onClick:()=>n==="fight-diff-mode"?a():i("fight-diff-mode"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":n==="fight-diff-mode"?"Close Fight Comparison":"Expand Fight Comparison",title:n==="fight-diff-mode"?"Close":"Expand",children:n==="fight-diff-mode"?u.jsx(Wi,{className:"w-4 h-4"}):u.jsx(ia,{className:"w-4 h-4"})})]}),d?u.jsxs("div",{className:"text-center text-gray-400 py-8 space-y-1",children:[u.jsx("div",{className:"font-semibold text-gray-200",children:"Fight Comparison data is missing in this dataset."}),u.jsx("div",{className:"text-sm text-gray-500",children:"Regenerate the stats/report with a build that includes Fight Comparison."})]}):c.length<2?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"Need at least two fights to compare."}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[u.jsxs("label",{className:"text-xs uppercase tracking-widest text-gray-400",children:["Fight A",u.jsx("select",{className:"fight-diff-select mt-2 w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-100 focus:outline-none",value:f,onChange:M=>h(M.target.value),children:c.map(M=>u.jsxs("option",{value:M.id,children:[M.shortLabel," - ",M.fullLabel]},`fight-a-${M.id}`))})]}),u.jsxs("label",{className:"text-xs uppercase tracking-widest text-gray-400",children:["Fight B",u.jsx("select",{className:"fight-diff-select mt-2 w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-100 focus:outline-none",value:m,onChange:M=>p(M.target.value),children:c.map(M=>u.jsxs("option",{value:M.id,children:[M.shortLabel," - ",M.fullLabel]},`fight-b-${M.id}`))})]})]}),u.jsxs("div",{className:"bg-indigo-500/10 border border-indigo-300/20 rounded-xl px-4 py-3 text-xs text-indigo-100/90 space-y-1",children:[u.jsx("div",{className:"uppercase tracking-widest text-[10px] text-indigo-200/80",children:"How Target Focus Works"}),u.jsxs("div",{children:["Target focus compares how your squad distributed damage ",u.jsx("span",{className:"font-semibold",children:"to"})," enemy professions between two fights (it is not damage ",u.jsx("span",{className:"font-semibold",children:"from"})," those professions)."]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold",children:"Share"})," is the percent of your squad's total enemy-player damage that landed on that profession in that fight.",u.jsx("span",{className:"font-semibold",children:" Share Delta"})," is ",u.jsx("span",{className:"font-semibold",children:"Fight B - Fight A"}),"."]})]}),u.jsx("div",{className:"stats-table-layout__content bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:u.jsx(vs,{expanded:n==="fight-diff-mode",maxHeightClass:"max-h-96",header:u.jsx("div",{className:"bg-white/5 px-4 py-3 text-xs uppercase tracking-widest text-gray-400",children:"Target Focus Comparison"}),columns:w.length>0?u.jsx("div",{className:"bg-white/5 overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[700px] table-fixed text-xs",children:[u.jsxs("colgroup",{children:[u.jsx("col",{className:"w-[220px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"})]}),u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-left py-2 px-3",children:"Target"}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:T("aDamage"),onClick:()=>D("aDamage"),children:[x==null?void 0:x.shortLabel," Damage",L("aDamage")]})}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:T("aShare"),onClick:()=>D("aShare"),children:[x==null?void 0:x.shortLabel," Share",L("aShare")]})}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:T("bDamage"),onClick:()=>D("bDamage"),children:[b==null?void 0:b.shortLabel," Damage",L("bDamage")]})}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:T("bShare"),onClick:()=>D("bShare"),children:[b==null?void 0:b.shortLabel," Share",L("bShare")]})}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:T("shareDelta"),onClick:()=>D("shareDelta"),children:["Share Delta",L("shareDelta")]})})]})})]})}):null,rows:w.length>0?u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[700px] table-fixed text-xs",children:[u.jsxs("colgroup",{children:[u.jsx("col",{className:"w-[220px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"})]}),u.jsx("tbody",{children:k.map(M=>u.jsxs("tr",{className:"border-t border-white/5",children:[u.jsx("td",{className:"py-2 px-3 text-gray-200",children:M.label}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(M.aDamage,0)}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-300",children:N(M.aShare)}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(M.bDamage,0)}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-300",children:N(M.bShare)}),u.jsxs("td",{className:`py-2 px-3 text-right font-mono ${M.shareDelta>=0?"text-emerald-300":"text-red-300"}`,children:[M.shareDelta>=0?"+":"",N(M.shareDelta)]})]},`focus-${M.label}`))})]})}):u.jsxs("div",{className:"px-4 py-8 text-center text-gray-400 text-sm space-y-1",children:[u.jsx("div",{className:"italic",children:"No target focus data for selected fights."}),u.jsx("div",{className:"text-xs text-gray-500",children:"Usually this means the fights were uploaded without Detailed WvW enemy slices, or the report was generated from an older build."})]})})}),u.jsx("div",{className:"stats-table-layout__content bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:u.jsx(vs,{expanded:n==="fight-diff-mode",maxHeightClass:"max-h-none",header:u.jsx("div",{className:"bg-white/5 px-4 py-3 text-xs uppercase tracking-widest text-gray-400",children:"Squad Metric Comparison"}),columns:C.length>0?u.jsx("div",{className:"bg-white/5 overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[680px] table-fixed text-xs",children:[u.jsxs("colgroup",{children:[u.jsx("col",{className:"w-[320px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"})]}),u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-left py-2 px-3",children:"Metric"}),u.jsxs("th",{className:"text-right py-2 px-3",children:[x==null?void 0:x.shortLabel," Value"]}),u.jsxs("th",{className:"text-right py-2 px-3",children:[b==null?void 0:b.shortLabel," Value"]}),u.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})})]})}):null,rows:C.length>0?u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[680px] table-fixed text-xs",children:[u.jsxs("colgroup",{children:[u.jsx("col",{className:"w-[320px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"})]}),u.jsx("tbody",{children:C.map(M=>{var ee,ae;const O=M.higherIsBetter?M.delta>=0:M.delta<=0,Q=j(M.metricId);return u.jsxs("tr",{className:"border-t border-white/5",children:[u.jsx("td",{className:"py-2 px-3 text-gray-200",children:M.metricLabel}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(Number(((ee=M.a)==null?void 0:ee.value)||0),Q)}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(Number(((ae=M.b)==null?void 0:ae.value)||0),Q)}),u.jsxs("td",{className:`py-2 px-3 text-right font-mono ${O?"text-emerald-300":"text-red-300"}`,children:[M.delta>0?"+":"",t(M.delta,Q)]})]},`performer-${M.metricId}`)})})]})}):u.jsx("div",{className:"px-4 py-8 text-center text-gray-500 italic text-sm",children:"No squad metric data for selected fights."})})})]})]})},Die=({stats:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>u.jsxs(u.Fragment,{children:[u.jsx("div",{id:"kdr",className:"scroll-mt-24"}),u.jsxs("div",{id:"overview","data-section-visible":t("overview"),"data-section-first":n("overview"),className:r("overview","grid grid-cols-1 md:grid-cols-2 gap-4 scroll-mt-24"),children:[u.jsx("div",{className:"overview-card overview-card--green bg-gradient-to-br from-green-500/20 to-emerald-900/20 border border-green-500/30 rounded-2xl px-5 py-4",children:u.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.avgSquadSize}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Avg Squad"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-black text-green-300 leading-none",children:e.wins}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/50 mt-1",children:"Victories"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.squadKDR}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Squad KDR"})]})]})}),u.jsx("div",{className:"overview-card overview-card--red bg-gradient-to-br from-red-500/20 to-rose-900/20 border border-red-500/30 rounded-2xl px-5 py-4",children:u.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.avgEnemies}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Avg Enemies"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-black text-red-300 leading-none",children:e.losses}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/50 mt-1",children:"Defeats"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.enemyKDR}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Enemy KDR"})]})]})})]})]}),Mie=({stats:e,fightBreakdownTab:t,setFightBreakdownTab:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>{var l;const s=v.useMemo(()=>{const c=new Map;return(Array.isArray(e==null?void 0:e.fightBreakdown)?e.fightBreakdown:[]).forEach(f=>{(Array.isArray(f==null?void 0:f.teamBreakdown)?f.teamBreakdown:[]).forEach(m=>{const p=String((m==null?void 0:m.teamId)??"").trim(),g=Number((m==null?void 0:m.count)||0);!p||!Number.isFinite(g)||g<=0||c.set(p,(c.get(p)||0)+g)})}),Array.from(c.entries()).sort((f,h)=>{const m=h[1]-f[1];return m!==0?m:f[0].localeCompare(h[0],void 0,{numeric:!0})}).map(([f])=>f)},[e==null?void 0:e.fightBreakdown]),o=c=>{const d=c==null?void 0:c.timestamp;let f=0;if(typeof d=="number")f=d>1e12?d:d*1e3;else if(typeof d=="string"&&d.trim()){const g=Number(d);if(Number.isFinite(g)&&g>0)f=g>1e12?g:g*1e3;else{const y=Date.parse(d);Number.isFinite(y)&&y>0&&(f=y)}}const h=f>0?new Date(f).toLocaleDateString(void 0,{month:"2-digit",day:"2-digit"})+" "+new Date(f).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"}):"--",m=(c==null?void 0:c.mapName)||(c==null?void 0:c.map)||"Unknown Map",p=String(m).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim();return`${h}  ${p}`};return u.jsx("div",{id:"fight-breakdown","data-section-visible":r("fight-breakdown"),"data-section-first":i("fight-breakdown"),className:a("fight-breakdown","mt-6 stats-share-exclude"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:items-center sm:justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-200",children:"Fight Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(Pn,{value:t,onChange:n,options:[{value:"sizes",label:"Sizes"},{value:"outcomes",label:"Outcome"},{value:"damage",label:"Damage"},{value:"barrier",label:"Barrier"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsxs("span",{className:"text-[10px] uppercase tracking-widest text-gray-500 sm:ml-1 w-full sm:w-auto",children:[((l=e.fightBreakdown)==null?void 0:l.length)||0," Fights"]})]})]}),(e.fightBreakdown||[]).length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight data available"}):u.jsx("div",{className:"overflow-x-auto",children:u.jsx("div",{className:"max-h-[360px] overflow-y-auto",children:u.jsxs("table",{className:"w-full text-xs table-auto min-w-[720px]",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-right py-2 px-2 w-8",children:"#"}),u.jsx("th",{className:"text-left py-2 px-3 w-[240px]",children:"Report"}),u.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Duration"}),u.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Outcome"}),t==="sizes"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Squad"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemies"}),s.length===0?u.jsx("th",{className:"text-right py-2 px-3",children:"Teams"}):s.map(c=>u.jsx("th",{className:"text-right py-2 px-3",children:`Team ${c}`},c))]}),t==="outcomes"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Down"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Dead"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Revived"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Rallies"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Downs"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Deaths"})]}),t==="damage"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Outgoing Dmg"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Incoming Dmg"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]}),t==="barrier"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",title:"Incoming damage mitigated by your squad's barrier",children:"Barrier Absorption"}),u.jsx("th",{className:"text-right py-2 px-3",title:"Outgoing damage mitigated by enemy barrier",children:"Enemy Barrier Absorption"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})]})}),u.jsx("tbody",{children:(e.fightBreakdown||[]).map((c,d)=>u.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[u.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-500 w-8",children:d+1}),u.jsx("td",{className:"py-2 px-3 w-[240px]",children:c.permalink?u.jsx("button",{onClick:()=>{var f;c.permalink&&((f=window.electronAPI)!=null&&f.openExternal)?window.electronAPI.openExternal(c.permalink):c.permalink&&window.open(c.permalink,"_blank")},className:"text-cyan-300 hover:text-cyan-200 underline underline-offset-2 block truncate",children:o(c)}):u.jsx("span",{className:"text-gray-500",children:"Pending"})}),u.jsx("td",{className:"py-2 px-3 text-gray-200 w-20",children:c.duration||"--:--"}),u.jsx("td",{className:`py-2 px-3 font-semibold ${c.isWin?"text-emerald-300":"text-red-300"}`,children:c.isWin?"Win":"Loss"}),t==="sizes"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(Mv,{count:c.squadCount??0,classCounts:c.squadClassCountsFight,label:"Squad Classes",className:"text-gray-200"})}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(Mv,{count:c.allyCount??0,classCounts:c.allyClassCountsFight,label:"Ally Classes",className:"text-gray-200"})}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(Mv,{count:c.enemyCount??0,classCounts:c.enemyClassCounts,label:"Enemy Classes",className:"text-gray-200"})}),s.length===0?u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:"0"}):s.map(f=>{const m=(Array.isArray(c.teamBreakdown)?c.teamBreakdown:[]).find(p=>String((p==null?void 0:p.teamId)??"")===f);return u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:Number((m==null?void 0:m.count)||0)},f)})]}),t==="outcomes"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesDown??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesDead??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesRevived??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.rallies??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.enemyDowns??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.enemyDeaths??0})]}),t==="damage"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.totalOutgoingDamage||0).toLocaleString()}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.totalIncomingDamage||0).toLocaleString()}),(()=>{const f=Number((c.totalOutgoingDamage||0)-(c.totalIncomingDamage||0));return u.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-red-300":"text-emerald-300"}`,children:f.toLocaleString()})})()]}),t==="barrier"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.incomingBarrierAbsorbed||0).toLocaleString()}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.outgoingBarrierAbsorbed||0).toLocaleString()}),(()=>{const f=Number((c.outgoingBarrierAbsorbed||0)-(c.incomingBarrierAbsorbed||0));return u.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-emerald-300":"text-red-300"}`,children:f.toLocaleString()})})()]})]},c.id||`${c.label}-${d}`))})]})})})]})})},QP={red:{bg:"bg-red-500/20",text:"text-red-400"},yellow:{bg:"bg-yellow-500/20",text:"text-yellow-400"},green:{bg:"bg-green-500/20",text:"text-green-400"},purple:{bg:"bg-purple-500/20",text:"text-purple-400"},blue:{bg:"bg-blue-500/20",text:"text-blue-400"},pink:{bg:"bg-pink-500/20",text:"text-pink-400"},cyan:{bg:"bg-cyan-500/20",text:"text-cyan-400"},indigo:{bg:"bg-indigo-500/20",text:"text-indigo-400"}},Oie=({icon:e,title:t,data:n,color:r,unit:i="",onClick:a,active:s,rows:o,formatValue:l,renderProfessionIcon:c})=>{const d=QP[r]||QP.blue,f=(n==null?void 0:n.value)??0,h=l?l(f):Math.round(f).toLocaleString();return u.jsxs("div",{role:"button",tabIndex:0,onClick:a,onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),a==null||a())},className:`bg-white/5 border border-white/10 rounded-xl p-4 flex flex-col gap-3 group hover:bg-white/10 transition-colors cursor-pointer ${s?"ring-1 ring-white/20":""}`,children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:`p-3 rounded-lg ${d.bg} ${d.text} shrink-0`,children:u.jsx(e,{className:"w-6 h-6"})}),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("div",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider truncate",children:t}),u.jsxs("div",{className:"text-2xl font-bold text-white mt-0.5 break-words",children:[h," ",u.jsx("span",{className:"text-sm font-normal text-gray-500",children:i})]})]})]}),u.jsxs("div",{className:"flex flex-col border-t border-white/5 pt-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c((n==null?void 0:n.profession)||"Unknown",n==null?void 0:n.professionList,"w-4 h-4"),u.jsx("div",{className:"text-sm font-medium text-blue-300 truncate",children:(n==null?void 0:n.player)||"-"})]}),u.jsx("div",{className:"text-xs text-gray-500 truncate",children:n!=null&&n.count?`${n.count} logs`:"-"})]}),s&&u.jsxs("div",{className:"mt-3 stats-share-exclude",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-200 mb-2",children:t}),o!=null&&o.length?u.jsx("div",{className:"max-h-56 overflow-y-auto pr-1 space-y-1",children:o.map(m=>u.jsxs("div",{className:"flex items-center gap-2 min-w-0 text-xs text-gray-300",children:[u.jsx("div",{className:"w-6 shrink-0 text-right text-gray-500",children:m.rank}),u.jsx("div",{className:"shrink-0",children:c(m.profession,m.professionList,"w-4 h-4")}),u.jsx("div",{className:"flex-1 min-w-0 truncate",children:m.account}),u.jsx("div",{className:"shrink-0 text-gray-400 font-mono",children:l?l(m.value):m.value})]},`${t}-${m.rank}-${m.account}`))}):u.jsx("div",{className:"text-xs text-gray-500 italic",children:"No data available"})]})]})},Iie=(e,t)=>{const n=(Array.isArray(e)?e:[]).map(a=>({...a,value:Number((a==null?void 0:a.value)??0)})).filter(a=>Number.isFinite(a.value)).sort((a,s)=>{const o=t?s.value-a.value:a.value-s.value;return o!==0?o:String((a==null?void 0:a.account)||"").localeCompare(String((s==null?void 0:s.account)||""))});let r=null,i=0;return n.map((a,s)=>((r===null||a.value!==r)&&(i=s+1,r=a.value),{...a,rank:i}))},ZP=(e,t)=>{if(typeof e=="number"&&Number.isFinite(e))return t(e);if(typeof e=="string"){const n=Number(e.replace(/,/g,"").trim());return Number.isFinite(n)?t(n):e}return"--"},_ie=({stats:e,showTopStats:t,showMvp:n,topStatsMode:r,expandedLeader:i,setExpandedLeader:a,formatTopStatValue:s,formatWithCommas:o,isMvpStatEnabled:l,renderProfessionIcon:c,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:h})=>t?u.jsxs("div",{id:"top-players","data-section-visible":d("top-players"),"data-section-first":f("top-players"),className:h("top-players","scroll-mt-24"),children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(oc,{className:"w-5 h-5 text-yellow-400"}),"Top Players (Total Accumulated Stats)"]}),n&&u.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[minmax(0,1.6fr)_minmax(0,0.9fr)] gap-3 mb-6",children:[u.jsxs("div",{className:"mvp-card mvp-card--gold border border-yellow-500/30 rounded-2xl p-3 relative overflow-hidden group flex items-center",children:[u.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-yellow-500/10 blur-[80px] rounded-full pointer-events-none group-hover:bg-yellow-500/20 transition-all"}),u.jsxs("div",{className:"flex items-center gap-5 relative z-10 w-full",children:[u.jsx("div",{className:"hidden sm:flex items-center justify-center w-20 h-20 rounded-full bg-yellow-500/20 border border-yellow-500/30 shadow-[0_0_20px_rgba(234,179,8,0.2)]",children:u.jsx(w6,{className:"w-10 h-10 text-yellow-400"})}),u.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(g0,{className:"w-4 h-4 text-yellow-400 animate-pulse"}),u.jsx("span",{className:"text-yellow-400 font-bold uppercase tracking-widest text-xs",children:"Squad MVP"})]}),u.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-white mb-2 flex flex-wrap items-center gap-2 sm:gap-3",children:[u.jsx("span",{className:"min-w-0 max-w-full truncate",children:e.mvp.account}),c(e.mvp.profession,e.mvp.professionList,"w-6 h-6"),u.jsx("span",{className:"text-sm sm:text-lg font-medium text-yellow-200/70 bg-white/5 px-2 py-0.5 rounded border border-yellow-500/20 max-w-full truncate",children:e.mvp.profession})]}),u.jsxs("p",{className:"text-yellow-200/80 italic flex items-center gap-2 mb-2",children:[u.jsx(Up,{className:"w-4 h-4 text-yellow-400 fill-yellow-500/40"}),'"',e.mvp.reason,'"']}),u.jsx("div",{className:"mt-auto flex flex-wrap gap-2",children:e.mvp.topStats&&e.mvp.topStats.filter(m=>l(m.name)).map((m,p)=>u.jsxs("div",{className:"inline-flex items-baseline gap-2 px-2.5 py-0.5 bg-yellow-500/10 border border-yellow-500/30 rounded-full text-[11px] leading-none",children:[u.jsx("span",{className:"text-yellow-200 font-bold",children:m.name}),u.jsx("span",{className:"text-yellow-50 font-mono tabular-nums",children:ZP(m.val,s)})]},p))})]}),u.jsxs("div",{className:"hidden lg:block text-right",children:[u.jsx("div",{className:"text-yellow-500/40 font-mono text-sm uppercase tracking-wider font-bold",children:"Contribution Score"}),u.jsx("div",{className:"text-4xl font-black text-yellow-500/80",children:e.mvp.score>0?e.mvp.score.toFixed(1):"-"}),u.jsxs("div",{className:"text-xs text-yellow-500/30 font-mono mt-1",children:["Avg: ",e.avgMvpScore.toFixed(1)]})]})]})]}),u.jsx("div",{className:"grid grid-cols-2 xl:grid-cols-1 gap-3",children:[{label:"Silver",data:e.silver},{label:"Bronze",data:e.bronze}].map(m=>{var p,g,y,x,b;return u.jsxs("div",{className:`mvp-card mvp-card--${m.label.toLowerCase()} border border-white/10 rounded-2xl p-3 relative overflow-hidden group flex flex-col`,children:[u.jsx("div",{className:`absolute top-0 right-0 w-48 h-48 rounded-full blur-[70px] pointer-events-none transition-all ${m.label==="Silver"?"bg-slate-300/15 group-hover:bg-slate-300/25":"bg-orange-400/15 group-hover:bg-orange-400/25"}`}),u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsxs("div",{className:`text-xs uppercase tracking-widest font-semibold ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:[m.label," MVP"]}),u.jsx("div",{className:"text-xs text-gray-500 font-mono",children:(p=m.data)!=null&&p.score?m.data.score.toFixed(1):"-"})]}),u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.data&&c(m.data.profession,m.data.professionList,"w-6 h-6"),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("div",{className:`text-base font-semibold ${m.label==="Silver"?"text-slate-100":"text-orange-100"} truncate`,children:((g=m.data)==null?void 0:g.account)||""}),u.jsx("div",{className:`text-xs ${m.label==="Silver"?"text-slate-300/70":"text-orange-200/70"} truncate`,children:((y=m.data)==null?void 0:y.profession)||"Unknown"})]})]}),(b=(x=m.data)==null?void 0:x.topStats)!=null&&b.some(w=>l(w.name))?u.jsx("div",{className:`mt-auto flex flex-wrap items-center gap-2 text-[10px] ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:m.data.topStats.filter(w=>l(w.name)).map((w,k)=>u.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full border leading-none ${m.label==="Silver"?"bg-slate-400/10 border-slate-300/30":"bg-orange-500/10 border-orange-400/30"}`,children:[u.jsx("span",{className:"leading-none",children:w.name}),u.jsx("span",{className:"tabular-nums leading-none",children:ZP(w.val,s)})]},k))}):null]},m.label)})})]}),(()=>{const m=r==="perSecond",p=m&&e.topStatsPerSecond?e.topStatsPerSecond:e,g=m&&e.topStatsLeaderboardsPerSecond?e.topStatsLeaderboardsPerSecond:e.leaderboards,y=m?"":"Total ",x=m?" /s":"",b=[{icon:j6,title:`Down Contribution${x}`,data:p.maxDownContrib,color:"red",statKey:"downContrib",higherIsBetter:!0},{icon:$u,title:`${y}Barrier${x}`,data:p.maxBarrier,color:"yellow",statKey:"barrier",higherIsBetter:!0},{icon:kO,title:`${y}Healing${x}`,data:p.maxHealing,color:"green",statKey:"healing",higherIsBetter:!0},{icon:I6,title:`${y}Dodges${x}`,data:p.maxDodges,color:"cyan",statKey:"dodges",higherIsBetter:!0},{icon:Df,title:`${y}Strips${x}`,data:p.maxStrips,color:"purple",statKey:"strips",higherIsBetter:!0},{icon:N6,title:`${y}Cleanses${x}`,data:p.maxCleanses,color:"blue",statKey:"cleanses",higherIsBetter:!0},{icon:C6,title:`${y}CC${x}`,data:p.maxCC,color:"pink",statKey:"cc",higherIsBetter:!0},{icon:jO,title:`${y}Stab Gen${x}`,data:p.maxStab,color:"cyan",statKey:"stability",higherIsBetter:!0},{icon:b6,title:"Closest to Tag",data:p.closestToTag,color:"indigo",unit:"dist",statKey:"closestToTag",higherIsBetter:!1}],w=k=>!m||!Number.isFinite(k)?s(k):o(k,2);return u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:b.map(k=>{var L,T,M,O;const C=i==="all",N=Iie((g==null?void 0:g[k.statKey])||[],k.higherIsBetter),j=N[0],D=j?{...k.data,value:Number(j.value||0),player:j.account||((L=k.data)==null?void 0:L.player)||"-",count:j.count||((T=k.data)==null?void 0:T.count)||0,profession:j.profession||((M=k.data)==null?void 0:M.profession)||"Unknown",professionList:j.professionList||((O=k.data)==null?void 0:O.professionList)||[]}:k.data;return u.jsx(Oie,{...k,data:D,active:C,onClick:()=>a(Q=>Q==="all"?null:"all"),rows:N,formatValue:w,renderProfessionIcon:c},k.statKey)})})})()]}):null,Lie=({stats:e,topSkillsMetric:t,onTopSkillsMetricChange:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>{const s=(t||e.topSkillsMetric)==="downContribution"?"downContribution":"damage",o=s==="downContribution",l=o?"Down Contrib":"Damage",c=s,d=Array.isArray(e.topSkillsByDamage)?e.topSkillsByDamage:null,f=Array.isArray(e.topSkillsByDownContribution)?e.topSkillsByDownContribution:null,h=v.useMemo(()=>o&&f?f:!o&&d?d:[...Array.isArray(e.topSkills)?e.topSkills:[]].sort((g,y)=>{const x=Number((g==null?void 0:g[c])||0);return Number((y==null?void 0:y[c])||0)-x||Number((y==null?void 0:y.hits)||0)-Number((g==null?void 0:g.hits)||0)||String((g==null?void 0:g.name)||"").localeCompare(String((y==null?void 0:y.name)||""))}),[o,d,f,e.topSkills,c]),m=v.useMemo(()=>Math.max(1,...h.map(g=>Number((g==null?void 0:g[c])||0))),[h,c]),p=typeof n=="function";return u.jsxs("div",{"data-section-visible":r("top-skills-outgoing"),"data-section-first":i("top-skills-outgoing"),className:a("top-skills-outgoing","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"),children:[u.jsxs("div",{id:"top-skills-outgoing","data-section-visible":r("top-skills-outgoing"),className:a("top-skills-outgoing","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(k1,{className:"top-skills-outgoing-icon w-5 h-5 text-orange-400"}),"Top Outgoing Skills"]}),u.jsx("div",{className:"text-xs text-gray-500 mt-1",children:l})]}),p&&u.jsx("div",{className:"pill-toggle-group flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"damage",label:"Damage"},{id:"downContribution",label:"Down Contrib"}].map(g=>{const y=(t||e.topSkillsMetric)===g.id;return u.jsx("button",{type:"button",onClick:()=>n==null?void 0:n(g.id),className:`pill-toggle-option px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${y?"pill-toggle-option--active bg-orange-500/30 text-orange-200":"text-gray-400 hover:text-white"}`,children:g.label},g.id)})})]}),u.jsxs("div",{className:"max-h-80 overflow-y-auto overflow-x-hidden space-y-4",children:[h.map((g,y)=>u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",y+1]}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm mb-1 py-0.5 leading-normal",children:[u.jsx("span",{className:"text-white font-bold flex-1 min-w-0 py-[1px]",children:u.jsx(Ar,{name:g.name,iconUrl:g.icon,iconClassName:"h-6 w-6",className:"min-w-0",textClassName:"truncate leading-[1.5] pt-[1px] pb-[2px]"})}),u.jsxs("div",{className:"text-right shrink-0",children:[u.jsx("span",{className:"top-skills-outgoing-value text-orange-400 font-mono font-bold",children:Math.round(g[c]||0).toLocaleString()}),u.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",g.hits.toLocaleString()," hits)"]})]})]}),u.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:u.jsx("div",{className:"top-skills-outgoing-bar h-full bg-orange-500 rounded-full",style:{width:`${Number(g[c]||0)/m*100}%`}})})]})]},`outgoing-${g.name||"unknown"}-${y}`)),h.length===0&&u.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No skill data available"})]})]}),u.jsxs("div",{id:"top-skills-incoming","data-section-visible":r("top-skills-incoming"),className:a("top-skills-incoming","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[u.jsx("div",{className:"flex items-center justify-between mb-6",children:u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(g6,{className:"w-5 h-5 text-red-500"}),"Top Incoming Skills"]}),u.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Damage"})]})}),u.jsxs("div",{className:"max-h-80 overflow-y-auto overflow-x-hidden space-y-4",children:[(e.topIncomingSkills||[]).map((g,y)=>{var x;return u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",y+1]}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm mb-1 py-0.5 leading-normal",children:[u.jsx("span",{className:"text-white font-bold flex-1 min-w-0 py-[1px]",children:u.jsx(Ar,{name:g.name,iconUrl:g.icon,iconClassName:"h-6 w-6",className:"min-w-0",textClassName:"truncate leading-[1.5] pt-[1px] pb-[2px]"})}),u.jsxs("div",{className:"text-right shrink-0",children:[u.jsx("span",{className:"text-red-400 font-mono font-bold",children:Math.round(g.damage).toLocaleString()}),u.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",g.hits.toLocaleString()," hits)"]})]})]}),u.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${g.damage/(((x=e.topIncomingSkills[0])==null?void 0:x.damage)||1)*100}%`}})})]})]},`incoming-${g.name||"unknown"}-${y}`)}),e.topIncomingSkills.length===0&&u.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No incoming damage data available"})]})]})]})},$ie=({sortedSquadClassData:e,sortedEnemyClassData:t,getProfessionIconPath:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>{const s=r("squad-composition");return u.jsxs("div",{id:"squad-composition","data-section-visible":s,"data-section-first":i("squad-composition"),className:a("squad-composition","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8 page-break-avoid"),children:[u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(jr,{className:"w-5 h-5 text-green-400"}),"Classes"]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[u.jsx("div",{className:"h-[240px] sm:h-full",children:u.jsx(wc,{width:"100%",height:"100%",children:u.jsxs(nw,{children:[u.jsx(Ig,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:e.map((o,l)=>u.jsx(Ku,{fill:o.color,stroke:"rgba(0,0,0,0.5)"},`cell-${l}`))}),u.jsx(Cc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-squad-pie-${s?"visible":"hidden"}`)}),u.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:u.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:e.map(o=>u.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[u.jsx("span",{className:"squad-comp-legend-swatch inline-block w-3 h-3 rounded-sm",style:{backgroundColor:o.color}}),n(o.name)?u.jsx("img",{src:n(o.name),alt:o.name,className:"w-4 h-4 shrink-0 object-contain"}):u.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),u.jsx("span",{className:"min-w-0 truncate",children:o.name}),u.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",o.value,")"]})]},o.name))})})]})]}),u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(p0,{className:"w-5 h-5 text-red-400"}),"Enemy Composition"]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[u.jsx("div",{className:"h-[240px] sm:h-full",children:u.jsx(wc,{width:"100%",height:"100%",children:u.jsxs(nw,{children:[u.jsx(Ig,{data:t,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:t.map((o,l)=>u.jsx(Ku,{fill:o.color,stroke:"rgba(0,0,0,0.5)"},`cell-${l}`))}),u.jsx(Cc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-enemy-pie-${s?"visible":"hidden"}`)}),u.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:u.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:t.map(o=>u.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[u.jsx("span",{className:"squad-comp-legend-swatch inline-block w-3 h-3 rounded-sm",style:{backgroundColor:o.color}}),n(o.name)?u.jsx("img",{src:n(o.name),alt:o.name,className:"w-4 h-4 shrink-0 object-contain"}):u.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),u.jsx("span",{className:"min-w-0 truncate",children:o.name}),u.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",o.value,")"]})]},o.name))})})]})]})]})},Fie=({timelineData:e,timelineFriendlyScope:t,setTimelineFriendlyScope:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>u.jsxs("div",{id:"timeline","data-section-visible":r("timeline"),"data-section-first":i("timeline"),className:a("timeline","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(jr,{className:"w-5 h-5 text-green-400"}),"Squad vs Enemy Size"]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-widest text-gray-500",children:[u.jsx("span",{className:"text-gray-400",children:"Friendly Count"}),u.jsx("div",{className:"flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1",children:[{value:"squad",label:"Squad"},{value:"squadAllies",label:"Squad + Allies"}].map(s=>u.jsx("button",{type:"button",onClick:()=>n(s.value),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${t===s.value?"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40":"border border-transparent text-gray-400 hover:text-gray-200"}`,children:s.label},s.value))})]})]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-10",children:"No timeline data available"}):u.jsx("div",{className:"h-[260px] w-full",children:u.jsx(wc,{width:"100%",height:"100%",children:u.jsxs(Rg,{data:e,margin:{top:10,right:24,left:0,bottom:0},children:[u.jsx(Yf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Qf,{dataKey:"index",tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"}}),u.jsx(Zf,{tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"},width:36}),u.jsx(Cc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},labelFormatter:(s,o)=>{var c;const l=(c=o==null?void 0:o[0])==null?void 0:c.payload;return l!=null&&l.label?`Log ${l.index}  ${l.label}`:`Log ${s}`},formatter:(s,o)=>[s,o==="friendly"?t==="squad"?"Squad":"Squad + Allies":"Enemies"]}),u.jsx(to,{type:"monotone",dataKey:t==="squad"?"squadCount":"friendlyCount",name:"friendly",stroke:"#22c55e",strokeWidth:2,dot:{r:3,fill:"#22c55e"},activeDot:{r:5}}),u.jsx(to,{type:"monotone",dataKey:"enemies",stroke:"#ef4444",strokeWidth:2,dot:{r:3,fill:"#ef4444"},activeDot:{r:5}})]})})})]}),Rie=({mapData:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>u.jsxs("div",{id:"map-distribution","data-section-visible":t("map-distribution"),"data-section-first":n("map-distribution"),className:r("map-distribution","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(j1,{className:"w-5 h-5 text-blue-400"}),"Map Distribution"]}),u.jsx("div",{className:"h-[260px] sm:h-[300px] w-full",children:u.jsx(wc,{width:"100%",height:"100%",children:u.jsxs(nw,{children:[u.jsx(Ig,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:5,dataKey:"value",children:e.map((i,a)=>u.jsx(Ku,{fill:i.color,stroke:"rgba(0,0,0,0.5)"},`cell-${a}`))}),u.jsx(Cc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}}),u.jsx(KI,{verticalAlign:"bottom",height:36,payload:e.map(i=>({id:i.name,type:"square",value:i.name,color:i.color,payload:i})),formatter:(i,a)=>u.jsxs("span",{className:"text-gray-300 font-medium ml-1",children:[i," ",u.jsxs("span",{className:"text-gray-500",children:["(",a.payload.value,")"]})]})})]})})})]}),JP=({sectionId:e="spike-damage",title:t="Spike Damage",subtitle:n="Select one player to chart their highest damage burst per fight.",listTitle:r="Squad Players",searchPlaceholder:i="Search player or account",titleIconClassName:a="text-rose-300",expandedSection:s,expandedSectionClosing:o,openExpandedSection:l,closeExpandedSection:c,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:h,spikePlayerFilter:m,setSpikePlayerFilter:p,groupedSpikePlayers:g,spikeMode:y,setSpikeMode:x,selectedSpikePlayerKey:b,setSelectedSpikePlayerKey:w,selectedSpikePlayer:k,spikeChartData:C,spikeChartMaxY:N,selectedSpikeFightIndex:j,setSelectedSpikeFightIndex:D,spikeDrilldownTitle:L,spikeDrilldownData:T,spikeDrilldownDownIndices:M,spikeDrilldownDeathIndices:O,spikeFightSkillRows:Q=[],spikeFightSkillTitle:ee="Skill Damage (Selected Fight)",formatWithCommas:ae,renderProfessionIcon:de})=>{const[Z,Y]=v.useState(null),[_,E]=v.useState(null),A=I=>String(I||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),te=s===e,S=k?lc(k.profession):"#fda4af",U=y==="hit"?"Highest Damage":y==="1s"?"1s Burst":y==="5s"?"5s Burst":"30s Burst",q=I=>y==="hit"?I.peakHit:y==="1s"?I.peak1s:y==="5s"?I.peak5s:I.peak30s,J=g.flatMap(I=>I.players.map(ne=>({...ne,groupProfession:I.profession}))).sort((I,ne)=>{const Se=q(ne)-q(I);return Se!==0?Se:I.displayName.localeCompare(ne.displayName)}),K=C.reduce((I,ne)=>!I||ne.damage>I.damage?ne:I,null),re=I=>{if(!Number.isFinite(I)||I<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(I))}catch{return""}},F=T.reduce((I,ne)=>Math.max(I,Number(ne.value||0)),0),W=Math.max(1,F),ce=new Set(M),ie=new Set(O),$=T.map((I,ne)=>({...I,downMarker:ce.has(ne)?Math.max(Number(I.value||0),W*.88):null,deathMarker:ie.has(ne)?Math.max(Number(I.value||0),W*.96):null})),z=I=>ne=>{const Se=Number(ne==null?void 0:ne.cx),We=Number(ne==null?void 0:ne.cy),le=Number(ne==null?void 0:ne.index);if(!Number.isFinite(Se)||!Number.isFinite(We)||!Number.isFinite(le))return null;const $e=(ne==null?void 0:ne.payload)||{},Oe=I==="down"?$e==null?void 0:$e.downMarker:$e==null?void 0:$e.deathMarker;if(!Number.isFinite(Number(Oe)))return null;const wt=`${I}-${le}`,Kt=Z===wt,dn=I==="down"?"#facc15":"#ef4444",Mn=I==="down"?"#fde047":"#f87171";return u.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onMouseEnter:()=>{Y(wt),E({x:Se,y:We,kind:I,label:String(($e==null?void 0:$e.label)||"")})},onMouseLeave:()=>{Y(ge=>ge===wt?null:ge),E(ge=>(ge==null?void 0:ge.kind)===I&&(ge==null?void 0:ge.label)===String(($e==null?void 0:$e.label)||"")?null:ge)},children:[u.jsx("circle",{cx:Se,cy:We,r:Kt?10:7,fill:Mn,opacity:Kt?.35:.18}),u.jsx("circle",{cx:Se,cy:We,r:Kt?7:5.5,fill:dn,stroke:"#0f172a",strokeWidth:Kt?2.25:1.75})]})};return u.jsxs("div",{id:e,"data-section-visible":d(e),"data-section-first":f(e),className:h(e,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${te?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${o?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[u.jsxs("div",{className:te?"pr-10 md:pr-0":"",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Df,{className:`w-5 h-5 ${a}`}),t]}),u.jsx("p",{className:"text-xs text-gray-400",children:n})]}),u.jsxs("div",{className:`flex items-center gap-3 ${te?"pr-10 md:pr-0":""}`,children:[u.jsx(Pn,{value:y,onChange:I=>x(I),options:[{value:"hit",label:"Highest Damage"},{value:"1s",label:"1s"},{value:"5s",label:"5s"},{value:"30s",label:"30s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx("button",{type:"button",onClick:()=>te?c():l(e),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${te?"absolute top-2 right-2 md:static":""}`,"aria-label":te?`Close ${t}`:`Expand ${t}`,title:te?"Close":"Expand",children:te?u.jsx(Wi,{className:"w-4 h-4"}):u.jsx(ia,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:r}),u.jsx("input",{type:"search",value:m,onChange:I=>p(I.target.value),placeholder:i,className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-rose-400 focus:outline-none"}),u.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:J.length===0?u.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No players match the filter."}):u.jsx("div",{className:"p-1.5 space-y-1",children:J.map(I=>{const ne=b===I.key;return u.jsx("button",{type:"button",onClick:()=>w(I.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${ne?"border-rose-300/60 bg-rose-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[de(I.profession,void 0,"w-3.5 h-3.5"),u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:I.displayName}),u.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:I.groupProfession})]}),u.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[I.characterName||I.displayName,"  ",I.logs," ",I.logs===1?"fight":"fights"]})]}),u.jsx("div",{className:"text-xs font-mono text-rose-200 shrink-0",children:ae(q(I)||0,0)})]})},I.key)})})})]}),u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:["Per Fight ",U]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[C.length," ",C.length===1?"fight":"fights"]})]}),u.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!k||C.length===0?u.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view burst damage by fight."}):u.jsx(wc,{width:"100%",height:"100%",children:u.jsxs(Rg,{data:C,onClick:I=>{const ne=Number(I==null?void 0:I.activeTooltipIndex);Number.isFinite(ne)&&D(j===ne?null:ne)},children:[u.jsx(Yf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Qf,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),u.jsx(Zf,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,N)],tickFormatter:I=>ae(I,0)}),u.jsx(Cc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(I,ne)=>[ae(Number(I||0),0),String(ne||"")],labelFormatter:(I,ne)=>{var le;const Se=(le=ne==null?void 0:ne[0])==null?void 0:le.payload;if(!Se)return"";const We=A(Se.fullLabel||"");return y==="hit"&&Se.skillName?`${We}  ${Se.skillName}`:We}}),u.jsx(to,{type:"monotone",dataKey:"damage",name:k.displayName,stroke:S,strokeWidth:3,dot:I=>{var We;const ne=Number((We=I==null?void 0:I.payload)==null?void 0:We.index);if(!Number.isFinite(ne))return null;const Se=j===ne;return u.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:le=>{le.stopPropagation(),D(Se?null:ne)},children:[u.jsx("circle",{cx:I.cx,cy:I.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),u.jsx("circle",{cx:I.cx,cy:I.cy,r:Se?4:3,fill:S,stroke:Se?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:Se?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),u.jsx(to,{type:"monotone",dataKey:"maxDamage",name:"Fight Max",stroke:"rgba(148,163,184,0.8)",strokeWidth:2,strokeDasharray:"6 4",dot:!1,activeDot:!1})]})})})]})]}),k&&u.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Player"}),u.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[de(k.profession,k.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:k.displayName})]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:y==="hit"?"Peak Highest Skill Damage":`Peak ${U}`}),u.jsx("div",{className:"mt-1 text-lg font-black text-rose-200 font-mono",children:ae(q(k)||0,0)})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:y==="hit"?"Peak Skill / Fight":"Peak Fight"}),u.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const I=A((K==null?void 0:K.fullLabel)||k.peakFightLabel||"N/A"),ne=re(Number((K==null?void 0:K.timestamp)||0)),Se=ne?`${ne} - ${I}`:I;return y!=="hit"?Se:k.peakSkillName?`${k.peakSkillName}  ${Se}`:Se})()})]})]}),k&&j!==null&&u.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:L}),u.jsx("button",{type:"button",onClick:()=>D(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),u.jsx("div",{className:"h-[220px] relative",children:T.length===0?u.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):u.jsxs(u.Fragment,{children:[u.jsx(wc,{width:"100%",height:"100%",children:u.jsxs(Rg,{data:$,children:[u.jsx(Yf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Qf,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),u.jsx(Zf,{tick:{fill:"#e2e8f0",fontSize:10},tickFormatter:I=>ae(I,0)}),u.jsx(Cc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(I,ne)=>{const Se=String(ne||"");return Se==="Down"?["Downed","Event"]:Se==="Death"?["Dead","Event"]:[ae(Number(I||0),0),"Damage"]},labelFormatter:I=>String(I||"")}),u.jsx(to,{type:"monotone",dataKey:"value",name:"Damage",stroke:S,strokeWidth:2.5,dot:y==="hit"?{r:2}:!1,activeDot:{r:4}}),u.jsx(to,{type:"linear",dataKey:"downMarker",name:"Down",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:z("down")}),u.jsx(to,{type:"linear",dataKey:"deathMarker",name:"Death",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:z("death")})]})}),_&&u.jsxs("div",{className:"pointer-events-none absolute z-20 rounded-md border border-white/15 bg-[#101722] px-2 py-1 text-xs shadow-xl",style:{left:`${Math.max(8,_.x)}px`,top:`${Math.max(8,_.y-38)}px`,transform:"translate(-50%, -100%)"},children:[u.jsx("div",{className:`${_.kind==="down"?"text-yellow-300":"text-red-300"} font-semibold`,children:_.kind==="down"?"Down":"Death"}),u.jsx("div",{className:"text-gray-300",children:_.label})]})]})})]}),k&&j!==null&&u.jsxs("div",{className:`mt-4 transition-all duration-300 ${Q.length>0?"opacity-100 translate-y-0":"opacity-90"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:ee}),u.jsxs("div",{className:"text-[10px] uppercase tracking-[0.2em] text-gray-500",children:[Q.length," ",Q.length===1?"skill":"skills"]})]}),Q.length===0?u.jsx("div",{className:"text-xs text-gray-500 italic py-4",children:"No skill-level breakdown available for this fight."}):u.jsxs("div",{className:"incoming-skill-table-container rounded-lg border border-white/10 bg-black/35 overflow-hidden",children:[u.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2 text-[10px] uppercase tracking-[0.25em] text-gray-400 border-b border-white/10",children:[u.jsx("div",{children:"Skill"}),u.jsx("div",{className:"text-right",children:"Damage"}),u.jsx("div",{className:"text-right",children:"Hits"})]}),u.jsx("div",{className:"max-h-[260px] overflow-y-auto",children:Q.map((I,ne)=>u.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2.5 text-sm text-gray-200 border-b border-white/[0.05] last:border-b-0",children:[u.jsxs("div",{className:"min-w-0 flex items-center gap-2",children:[I.icon?u.jsx("img",{src:I.icon,alt:"",loading:"lazy",className:"w-4 h-4 rounded-sm border border-white/[0.16] bg-black/40 flex-shrink-0"}):u.jsx("div",{className:"w-4 h-4 rounded-sm border border-white/[0.14] bg-white/[0.06] flex-shrink-0"}),u.jsx("div",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",title:I.skillName,children:I.skillName})]}),u.jsx("div",{className:"text-right font-mono text-rose-200",children:ae(Number(I.damage||0),0)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:ae(Number(I.hits||0),0)})]},`${I.skillName}-${ne}`))})]})]})]})},Bie=10,$h=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),i=t%60;return n>0?`${n}h ${String(r).padStart(2,"0")}m`:r>0?`${r}m ${String(i).padStart(2,"0")}s`:`${i}s`},eT=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3));return String(t)},zie=e=>{const t=e.replace(/\r?\n/g," ").trim();return/[",\n]/.test(t)?`"${t.replace(/"/g,'""')}"`:t},Uie=({attendanceRows:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const[a,s]=v.useState(""),[o,l]=v.useState("squad"),[c,d]=v.useState("desc"),f=a.trim().toLowerCase(),h=v.useMemo(()=>{const y=e.filter(b=>{if(!f)return!0;const w=String(b.account||"").toLowerCase(),k=(b.characterNames||[]).join(" ").toLowerCase(),C=(b.classTimes||[]).map(N=>String(N.profession||"").toLowerCase()).join(" ");return w.includes(f)||k.includes(f)||C.includes(f)}),x=b=>Number(o==="fight"?b.combatTimeMs??b.squadTimeMs??0:b.squadTimeMs??0);return[...y].sort((b,w)=>{const k=x(w)-x(b);return k!==0?c==="desc"?k:-k:String(b.account||"").localeCompare(String(w.account||""))})},[e,f,c,o]),m=y=>{if(o===y){d(x=>x==="desc"?"asc":"desc");return}l(y),d("desc")},p=h.length>Bie,g=()=>{const y=["Account","Characters","Classes Played","Total Fight Time (seconds)","Total Squad Time (seconds)"],x=h.map(j=>{const D=(j.classTimes||[]).map(L=>`${L.profession} (${$h(L.timeMs)})`).join("; ");return[j.account||"",(j.characterNames||[]).join(", "),D,eT(Number(j.combatTimeMs??j.squadTimeMs??0)),eT(j.squadTimeMs)]}),b=[y,...x].map(j=>j.map(D=>zie(String(D??""))).join(",")).join(`
`),w=new Blob([b],{type:"text/csv;charset=utf-8;"}),k=URL.createObjectURL(w),C=document.createElement("a"),N=new Date().toISOString().slice(0,19).replace(/[:T]/g,"-");C.href=k,C.download=`attendance-ledger-${N}.csv`,document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(k)};return u.jsx("section",{id:"attendance-ledger","data-section-visible":n("attendance-ledger"),"data-section-first":r("attendance-ledger"),className:i("attendance-ledger","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Ef,{className:"w-5 h-5 text-amber-300"}),"Attendance Ledger"]}),u.jsxs("span",{className:"inline-flex items-center rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] uppercase tracking-widest text-gray-300",children:[e.length," Joined"]})]}),u.jsxs("div",{className:"flex w-full sm:w-auto items-center gap-2",children:[u.jsx("input",{value:a,onChange:y=>s(y.target.value),placeholder:"Search account, character, or class...",className:"w-full sm:w-[320px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"}),u.jsxs("button",{type:"button",onClick:g,className:"inline-flex items-center gap-1.5 rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-xs text-gray-200 hover:text-white hover:border-white/30 transition-colors whitespace-nowrap",children:[u.jsx(k6,{className:"w-3.5 h-3.5"}),"Export CSV"]})]})]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No attendance data available."}):u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${p?"max-h-[30rem] overflow-y-auto":""}`,children:u.jsxs("table",{className:"w-full text-xs table-auto min-w-full border-separate border-spacing-0",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Account"}),u.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Character(s)"}),u.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Classes Played"}),u.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:u.jsxs("button",{type:"button",onClick:()=>m("fight"),className:`transition-colors whitespace-nowrap ${o==="fight"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Fight Time",o==="fight"?c==="desc"?" ":" ":""]})}),u.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:u.jsxs("button",{type:"button",onClick:()=>m("squad"),className:`transition-colors whitespace-nowrap ${o==="squad"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Squad Time",o==="squad"?c==="desc"?" ":" ":""]})})]})}),u.jsxs("tbody",{children:[h.map(y=>u.jsxs("tr",{className:"border-t border-white/5 align-top hover:bg-white/5",children:[u.jsx("td",{className:"py-2 px-4 text-gray-100 font-medium whitespace-nowrap",children:y.account}),u.jsx("td",{className:"py-2 px-4 text-gray-300",children:y.characterNames.length>0?y.characterNames.join(", "):"-"}),u.jsx("td",{className:"py-2 px-4",children:u.jsx("div",{className:"flex flex-wrap gap-1.5",children:y.classTimes.length>0?y.classTimes.map(x=>u.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] text-gray-200",children:[t(x.profession)?u.jsx("img",{src:t(x.profession),alt:x.profession,className:"w-3.5 h-3.5 object-contain"}):null,u.jsx("span",{children:x.profession}),u.jsx("span",{className:"text-gray-400",children:$h(x.timeMs)})]},`${y.account}-${x.profession}`)):u.jsx("span",{className:"text-gray-500",children:"-"})})}),u.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:$h(Number(y.combatTimeMs??y.squadTimeMs??0))}),u.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:$h(y.squadTimeMs)})]},y.account)),h.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:5,className:"py-6 text-center text-gray-500 italic",children:"No attendance rows match your search."})})]})]})})]})})},Vie=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},Wie=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const[a,s]=v.useState(null),[o,l]=v.useState(""),c=o.trim().toLowerCase(),d=cm("svg/commander_tag.svg");v.useEffect(()=>{if(e.length===0){a!==null&&s(null);return}(!a||!e.some(m=>m.id===a))&&s(e[0].id)},[e,a]);const f=v.useMemo(()=>e.find(m=>m.id===a)||null,[e,a]),h=m=>{if(!c)return!1;const p=String(m.account||"").toLowerCase(),g=String(m.characterName||"").toLowerCase(),y=String(m.profession||"").toLowerCase();return p.includes(c)||g.includes(c)||y.includes(c)};return u.jsx("section",{id:"squad-comp-fight","data-section-visible":n("squad-comp-fight"),"data-section-first":r("squad-comp-fight"),className:i("squad-comp-fight","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 squad-comp-shell",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(jr,{className:"w-5 h-5 text-cyan-300"}),"Squad Comp By Fight"]}),u.jsx("div",{className:"mb-4",children:u.jsx("input",{value:o,onChange:m=>l(m.target.value),placeholder:"Search player or class (highlight matches)...",className:"w-full sm:w-[360px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"})}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No squad composition data available."}):u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[u.jsxs("aside",{className:"squad-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),u.jsx("div",{className:"space-y-1 pr-1 max-h-[560px] xl:max-h-[720px] overflow-y-auto",children:e.map(m=>{const p=m.id===a;return u.jsxs("button",{onClick:()=>s(m.id),className:`squad-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${p?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100 squad-comp-fight-nav-item--active":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:m.label}),u.jsx("div",{className:"text-xs font-semibold truncate",children:m.mapName||"Unknown Map"}),u.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[m.duration||"--:--","  ",Vie(m.timestamp)]})]},m.id)})})]}),u.jsx("div",{className:"rounded-xl border border-white/10 bg-gradient-to-b from-slate-950/55 to-slate-900/45 p-3 squad-comp-board",children:f?u.jsx("div",{className:"space-y-2.5",children:f.parties.map(m=>u.jsxs("div",{className:"squad-comp-party-row grid grid-cols-[40px_minmax(0,1fr)] gap-2 rounded-xl border border-white/10 bg-black/25 p-2",children:[u.jsxs("div",{className:"squad-comp-party-badge rounded-lg border border-white/15 bg-slate-900/80 text-center py-2",children:[u.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-500",children:"P"}),u.jsx("div",{className:"text-base font-bold text-gray-100 leading-none",children:m.party>0?m.party:"-"})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-1 min-w-0",children:m.players.map((p,g)=>(()=>{const y=h(p);return u.jsxs("div",{className:`squad-comp-player-tile rounded-md border border-emerald-300/20 bg-gradient-to-b from-emerald-500/30 to-emerald-700/25 px-2 py-1.5 min-w-0 transition-all ${y?"ring-2 ring-cyan-300/70 border-cyan-300/60 shadow-[0_0_20px_rgba(34,211,238,0.25)]":""} ${p.isCommander?"relative overflow-hidden":""}`,children:[p.isCommander?u.jsx("img",{src:d,alt:"","aria-hidden":"true",className:"absolute -right-2 -bottom-2 w-12 h-12 object-contain opacity-20 brightness-75 pointer-events-none"}):null,u.jsxs("div",{className:"grid grid-cols-[18px_minmax(0,1fr)] grid-rows-2 gap-x-2 items-center min-w-0",children:[u.jsx("div",{className:"row-span-2 flex items-center justify-center",children:t(p.profession)?u.jsx("img",{src:t(p.profession),alt:p.profession,className:"squad-comp-player-icon w-5 h-5 object-contain shrink-0 opacity-95"}):u.jsx("span",{className:"squad-comp-player-icon inline-block w-5 h-5 rounded-sm border border-white/15"})}),u.jsx("div",{className:"squad-comp-player-account text-[11px] font-semibold text-emerald-50 truncate min-w-0 flex items-center gap-1",title:p.account,children:u.jsx("span",{className:"truncate min-w-0",children:p.account})}),u.jsx("div",{className:"squad-comp-player-character text-[10px] text-emerald-100/80 truncate min-w-0",title:p.characterName||"Unknown",children:p.characterName||"Unknown"})]})]},`${f.id}-${m.party}-${p.account}-${g}`)})())})]},`${f.id}-party-${m.party}`))}):u.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},Hie=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},qie=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const[a,s]=v.useState(null);v.useEffect(()=>{if(e.length===0){a!==null&&s(null);return}(!a||!e.some(c=>c.id===a))&&s(e[0].id)},[e,a]);const o=v.useMemo(()=>e.find(c=>c.id===a)||null,[e,a]),l=v.useMemo(()=>o!=null&&o.enemyClassCounts?Object.entries(o.enemyClassCounts).map(([c,d])=>({profession:c,count:Number(d||0)})).filter(c=>c.count>0).sort((c,d)=>d.count-c.count||c.profession.localeCompare(d.profession)):[],[o]);return u.jsx("section",{id:"fight-comp","data-section-visible":n("fight-comp"),"data-section-first":r("fight-comp"),className:i("fight-comp","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"fight-comp-shell bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(Jo,{className:"w-5 h-5 text-cyan-300"}),"Fight Comp"]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight composition data available."}):u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[u.jsxs("aside",{className:"fight-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 self-start",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),u.jsx("div",{className:"space-y-1 pr-1 max-h-[320px] overflow-y-auto",children:e.map(c=>{const d=c.id===a;return u.jsxs("button",{onClick:()=>s(c.id),className:`fight-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${d?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:c.label}),u.jsx("div",{className:"text-xs font-semibold truncate",children:c.mapName||"Unknown Map"}),u.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[c.duration||"--:--","  ",Hie(c.timestamp)]})]},c.id)})})]}),u.jsx("div",{className:"fight-comp-board rounded-xl border border-white/10 bg-black/30 p-2.5 overflow-hidden",children:o?u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[minmax(0,1fr)_minmax(0,0.78fr)] gap-2.5 min-w-0",children:[u.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[u.jsx("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Squad Parties"}),u.jsx("div",{className:"p-2 rounded-lg border border-white/10 bg-white/[0.03] divide-y divide-white/10",children:o.parties.map(c=>{const d=Array.isArray(c.players)&&c.players.length>0?c.players.map(f=>({profession:String((f==null?void 0:f.profession)||"Unknown"),account:String((f==null?void 0:f.account)||""),characterName:String((f==null?void 0:f.characterName)||"")})).filter(f=>f.profession&&f.profession!=="Unknown").sort((f,h)=>f.profession.localeCompare(h.profession)||f.characterName.localeCompare(h.characterName)||f.account.localeCompare(h.account)):Object.entries(c.classCounts||{}).flatMap(([f,h])=>Array.from({length:Math.max(0,Number(h||0))},()=>({profession:String(f),account:"",characterName:""}))).filter(f=>f.profession&&f.profession!=="Unknown").sort((f,h)=>f.profession.localeCompare(h.profession));return u.jsxs("div",{className:"fight-comp-row grid grid-cols-[36px_minmax(0,1fr)] gap-1.5 items-center px-1.5 py-1 first:pt-0 last:pb-0",children:[u.jsx("div",{className:"fight-comp-party-badge text-[10px] font-semibold uppercase tracking-widest text-gray-300 text-center rounded-md border border-white/10 bg-black/20 py-0.5",children:c.party>0?`P${c.party}`:"Unk"}),u.jsx("div",{className:"flex flex-wrap gap-x-1.5 gap-y-1",children:d.length>0?d.map((f,h)=>u.jsx("span",{title:f.characterName||f.account?`${f.profession}  ${f.characterName||"Unknown"} (${f.account||"Unknown"})`:f.profession,className:"fight-comp-class-icon fight-comp-class-icon--squad inline-flex items-center justify-center",children:t(f.profession)?u.jsx("img",{src:t(f.profession),alt:f.profession,className:"w-3.5 h-3.5 object-contain"}):u.jsx("span",{className:"inline-block w-3.5 h-3.5 rounded-sm border border-white/15"})},`${o.id}-party-${c.party}-${f.profession}-${f.account||f.characterName||h}-${h}`)):u.jsx("span",{className:"text-gray-500 text-[11px]",children:"-"})})]},`${o.id}-party-${c.party}`)})})]}),u.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[u.jsx("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Enemy Classes"}),u.jsx("div",{className:"p-2",children:l.length>0?u.jsx("div",{className:"flex flex-wrap gap-1",children:l.map(c=>u.jsxs("div",{className:"fight-comp-row inline-flex items-center gap-1 rounded-lg border border-white/10 bg-white/[0.03] px-1.5 py-0.5",children:[u.jsx("span",{className:"fight-comp-class-icon inline-flex items-center justify-center rounded-md border border-white/10 bg-black/20 px-1 py-0.5",title:c.profession,children:t(c.profession)?u.jsx("img",{src:t(c.profession),alt:c.profession,className:"w-3 h-3 object-contain"}):u.jsx("span",{className:"inline-block w-3 h-3 rounded-sm border border-white/15"})}),u.jsx("span",{className:"text-[10px] font-mono text-gray-200",children:c.count})]},`${o.id}-enemy-${c.profession}`))}):u.jsx("div",{className:"py-6 text-center text-gray-500 italic text-sm",children:"No enemy class data"})})]})]}):u.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},Kie=({embedded:e,dashboardTitle:t,totalLogs:n,onBack:r,devMockAvailable:i,devMockUploadState:a,onDevMockUpload:s,uploadingWeb:o,onWebUpload:l,sharing:c,canShareDiscord:d,onShare:f})=>{const h=c||!d,m=d?"":"Select a Discord webhook to enable sharing.";return u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-3 shrink-0 px-2",children:[u.jsxs("div",{className:"flex items-start gap-3 sm:items-center sm:gap-4",children:[!e&&u.jsx("button",{onClick:r,className:"p-2 rounded-full bg-white/5 border border-white/10 hover:bg-white/10 transition-colors text-gray-400 hover:text-white",children:u.jsx(SO,{className:"w-6 h-6"})}),u.jsxs("div",{className:"space-y-0",children:[u.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-white flex items-center gap-2",children:[u.jsx(oc,{className:"w-6 h-6 text-yellow-500"}),t||"Statistics Dashboard"]}),u.jsxs("p",{className:"text-gray-400 text-[11px] sm:text-xs",children:["Performance across ",n," uploaded logs"]})]})]}),!e&&u.jsxs("div",{className:"flex items-center gap-3",children:[i&&u.jsxs("button",{onClick:s,disabled:a.uploading,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 bg-amber-500/15 text-amber-200 border border-amber-500/30 hover:bg-amber-500/25",children:[u.jsx(g0,{className:"w-4 h-4"}),a.uploading?"Building...":"Dev Mock Upload"]}),u.jsxs("button",{onClick:l,disabled:o,className:"stats-action-upload flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:[u.jsx(O6,{className:"w-4 h-4"}),o?"Uploading...":"Upload to Web"]}),u.jsxs("div",{className:"relative group",title:m,children:[u.jsxs("button",{onClick:f,disabled:h,"aria-disabled":h,className:"stats-action-discord flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(E6,{className:"w-4 h-4"}),c?"Sharing...":"Share to Discord"]}),!d&&u.jsx("div",{className:"stats-share-tooltip pointer-events-none absolute right-0 top-full mt-2 w-56 rounded-md border border-white/10 bg-black/90 px-2 py-1 text-[11px] text-gray-200 opacity-0 shadow-lg transition-opacity group-hover:opacity-100 z-50",children:"Select a Discord webhook to enable sharing."})]})]})]})},Gie=({embedded:e,webUploadMessage:t,webUploadUrl:n,webUploadBuildStatus:r,webCopyStatus:i,setWebCopyStatus:a})=>{if(e||!t)return null;const s=n||t.replace(/^Uploaded:\s*/i,"").trim(),[o,l]=v.useState("idle"),c=(()=>{if(!s)return null;try{const d=new URL(s),f=d.searchParams.get("report");if(!f||!d.hostname.endsWith("github.io"))return null;const h=d.pathname.match(/^\/([^/]+\.github\.io)(\/|$)/i),m=(h==null?void 0:h[1])||"";return!m||m.toLowerCase()!==d.hostname.toLowerCase()?null:`${d.origin}/?report=${f}`}catch{return null}})();return u.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[u.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[u.jsx("span",{className:"uppercase tracking-widest text-[10px] text-cyan-300/70",children:"Uploaded"}),u.jsx("button",{onClick:()=>{var d;s&&((d=window.electronAPI)!=null&&d.openExternal)&&window.electronAPI.openExternal(s)},className:"text-cyan-200 hover:text-cyan-100 underline underline-offset-2",children:s}),r!=="idle"&&u.jsxs("span",{className:`ml-2 text-[10px] px-2 py-0.5 rounded-full border inline-flex items-center gap-1 ${r==="built"?"bg-emerald-500/20 text-emerald-300 border-emerald-500/40":r==="errored"?"bg-red-500/20 text-red-300 border-red-500/40":r==="unknown"?"bg-white/5 text-gray-400 border-white/10":"bg-cyan-500/20 text-cyan-200 border-cyan-500/40"}`,children:[(r==="checking"||r==="building")&&u.jsx(P6,{className:"w-3 h-3 animate-spin"}),r==="built"&&u.jsx(NO,{className:"w-3 h-3"}),r==="errored"&&u.jsx(AO,{className:"w-3 h-3"}),r==="built"?"Build ready":r==="errored"?"Build failed":r==="unknown"?"Build status unknown":"Building"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>{s&&(navigator.clipboard.writeText(s),a("copied"),setTimeout(()=>a("idle"),1200))},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:i==="copied"?"Copied":"Copy URL"}),c&&u.jsx("button",{onClick:()=>{navigator.clipboard.writeText(c),l("copied"),setTimeout(()=>l("idle"),1200)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:o==="copied"?"Copied":"Copy Short"})]})]})},Yie=({embedded:e,devMockAvailable:t,devMockUploadState:n})=>e||!t||!n.message?null:u.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[u.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[u.jsx("span",{className:"uppercase tracking-widest text-[10px] text-amber-300/70",children:"Dev Mock"}),n.url?u.jsx("button",{onClick:()=>{var i;const r=n.url;r&&((i=window.electronAPI)!=null&&i.openExternal)&&window.electronAPI.openExternal(r)},className:"text-amber-200 hover:text-amber-100 underline underline-offset-2",children:n.url}):u.jsx("span",{className:"text-gray-300",children:n.message})]}),n.url&&u.jsx("button",{onClick:()=>{var i;const r=n.url;r&&((i=window.electronAPI)!=null&&i.openExternal)&&window.electronAPI.openExternal(r)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:"Open in Browser"})]}),js="space-y-1 pr-1 max-h-72 overflow-y-auto",Xie=new Set(["Vulnerability","Weakness","Blind","Chill","Cripple","Slow","Taunt","Fear","Immobilize"]),Qie=["overview","fight-breakdown","top-players","top-skills-outgoing","squad-composition","attendance-ledger","squad-comp-fight","fight-comp","timeline","map-distribution","boon-output","offense-detailed","spike-damage","conditions-outgoing","defense-detailed","incoming-strike-damage","support-detailed","healing-stats","fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"];function Zie({logs:e,onBack:t,mvpWeights:n,statsViewSettings:r,onStatsViewSettingsChange:i,webUploadState:a,onWebUpload:s,disruptionMethod:o,precomputedStats:l,embedded:c=!1,sectionVisibility:d,dashboardTitle:f,uiTheme:h,canShareDiscord:m=!0,aggregationResult:p}){var DN,MN;const g=n||MO,y=r||nb,x=a||J6,b=y.showTopStats,w=y.showMvp,k=y.roundCountStats,C=y.topStatsMode||"total",[N,j]=v.useState(y.topSkillsMetric||"damage"),D=(i?y.topSkillsMetric:N)||"damage",L=x.uploading,T=x.message,M=x.url,O=x.buildStatus,Q=!c&&!1,ee=!!p,{result:ae}=n8({logs:ee?[]:e,precomputedStats:ee?void 0:l,mvpWeights:n,statsViewSettings:r,disruptionMethod:o}),de=p||ae,{stats:Z,skillUsageData:Y}=de,_=v.useMemo(()=>{var gt,rn,At,an,Ft,yr;const B=Z&&typeof Z=="object"?Z:{},X=Te=>Array.isArray(Te)?Te:[],he=Te=>Te&&typeof Te=="object"?Te:{},Ve=(Te,dt)=>Te&&typeof Te=="object"?Te:dt,Pe={value:0,player:"-",profession:"Unknown",professionList:[],count:0},Be={account:"-",profession:"Unknown",professionList:[],reason:"",topStats:[],score:0},me={...B,total:Number(B.total||0),timelineData:X(B.timelineData),mapData:X(B.mapData),fightBreakdown:X(B.fightBreakdown),topSkills:X(B.topSkills),topIncomingSkills:X(B.topIncomingSkills),leaderboards:he(B.leaderboards),topStatsPerSecond:he(B.topStatsPerSecond),topStatsLeaderboardsPerSecond:he(B.topStatsLeaderboardsPerSecond),maxDownContrib:Ve(B.maxDownContrib,Pe),maxBarrier:Ve(B.maxBarrier,Pe),maxHealing:Ve(B.maxHealing,Pe),maxDodges:Ve(B.maxDodges,Pe),maxStrips:Ve(B.maxStrips,Pe),maxCleanses:Ve(B.maxCleanses,Pe),maxCC:Ve(B.maxCC,Pe),maxStab:Ve(B.maxStab,Pe),closestToTag:Ve(B.closestToTag,Pe),mvp:{...Be,...he(B.mvp),topStats:X((gt=B==null?void 0:B.mvp)==null?void 0:gt.topStats)},silver:Ve(B.silver,Be),bronze:Ve(B.bronze,Be),avgMvpScore:Number(B.avgMvpScore||0),offensePlayers:X(B.offensePlayers),defensePlayers:X(B.defensePlayers),damageMitigationPlayers:X(B.damageMitigationPlayers),damageMitigationMinions:X(B.damageMitigationMinions),supportPlayers:X(B.supportPlayers),healingPlayers:X(B.healingPlayers),boonTables:X(B.boonTables),specialTables:X(B.specialTables),outgoingConditionSummary:X(B.outgoingConditionSummary),outgoingConditionPlayers:X(B.outgoingConditionPlayers),incomingConditionSummary:X(B.incomingConditionSummary),incomingConditionPlayers:X(B.incomingConditionPlayers),squadClassData:X(B.squadClassData),enemyClassData:X(B.enemyClassData),attendanceData:X(B.attendanceData),squadCompByFight:X(B.squadCompByFight),fightDiffMode:X(B.fightDiffMode),playerSkillBreakdowns:X(B.playerSkillBreakdowns)},un=X((rn=me.leaderboards)==null?void 0:rn.downContrib).map(Te=>({...Te,value:Number((Te==null?void 0:Te.value)??0)})).filter(Te=>Number.isFinite(Te.value)).sort((Te,dt)=>dt.value-Te.value||String((Te==null?void 0:Te.account)||"").localeCompare(String((dt==null?void 0:dt.account)||"")))[0];return un&&(me.maxDownContrib={...me.maxDownContrib||{},value:Number(un.value||0),player:String(un.account||((At=me.maxDownContrib)==null?void 0:At.player)||"-"),count:Number(un.count||((an=me.maxDownContrib)==null?void 0:an.count)||0),profession:String(un.profession||((Ft=me.maxDownContrib)==null?void 0:Ft.profession)||"Unknown"),professionList:Array.isArray(un.professionList)?un.professionList:((yr=me.maxDownContrib)==null?void 0:yr.professionList)||[]}),me},[Z]);v.useEffect(()=>{var he;if(!((he=window==null?void 0:window.electronAPI)!=null&&he.fetchImageAsDataUrl))return;const B=new Set,X=Ve=>{if(Ve){if(typeof Ve=="string"){/^https?:\/\//i.test(Ve)&&B.add(Ve);return}if(Array.isArray(Ve)){Ve.forEach(X);return}typeof Ve=="object"&&Object.entries(Ve).forEach(([Pe,Be])=>{if((Pe==="icon"||Pe==="iconUrl")&&typeof Be=="string"){/^https?:\/\//i.test(Be)&&B.add(Be);return}X(Be)})}};X(_),B.size>0&&cie(Array.from(B))},[_]);const E=v.useMemo(()=>{const B=(l==null?void 0:l.skillUsageData)??Y;return{logRecords:Array.isArray(B==null?void 0:B.logRecords)?B.logRecords:[],players:Array.isArray(B==null?void 0:B.players)?B.players:[],skillOptions:Array.isArray(B==null?void 0:B.skillOptions)?B.skillOptions:[],resUtilitySkills:Array.isArray(B==null?void 0:B.resUtilitySkills)?B.resUtilitySkills:[]}},[Y,l==null?void 0:l.skillUsageData]),A=E.players.length>0;v.useEffect(()=>{i||j(y.topSkillsMetric||"damage")},[y.topSkillsMetric,i]);const te=B=>{if(i){i({...y,topSkillsMetric:B});return}j(B)},{scrollContainerRef:S}=L6(c),{devMockUploadState:U,webCopyStatus:q,setWebCopyStatus:J,handleWebUpload:K,handleDevMockUpload:re}=oU({logs:e,stats:_,skillUsageData:E,activeStatsViewSettings:r||nb,uiTheme:h||"classic",embedded:c,onWebUpload:s}),{sharing:F,handleShare:W}=t8(c),ce={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},ie=B=>{const X=ce[B];return X?g[X]>0:!0},[$,z]=v.useState(null),[I,ne]=v.useState(null),[Se,We]=v.useState("totalBuffs"),[le,$e]=v.useState("total"),[Oe,wt]=v.useState(""),[Kt,dn]=v.useState(null),[Mn,ge]=v.useState(""),[_e,It]=v.useState(null),[Ht,gn]=v.useState(""),[Mr,Pi]=v.useState(""),[Wn,Ta]=v.useState(""),[On,Yt]=v.useState(""),[yn,pi]=v.useState(""),[pn,sr]=v.useState(""),[Pr,ai]=v.useState(""),[la,Us]=v.useState("outgoing"),[Al,Vs]=v.useState(""),[Pl,ca]=v.useState("damage"),[Ea,Ws]=v.useState("damageTaken"),[fd,Lc]=v.useState("totalMitigation"),[si,Oo]=v.useState("all"),[Hs,$c]=v.useState({key:"damage",dir:"desc"}),Io=!(si!=="all"&&Xie.has(si)),_o=Io?"grid-cols-[0.4fr_1.6fr_1fr_1fr]":"grid-cols-[0.4fr_1.6fr_1fr]",G=Io?Hs:{key:"applications",dir:Hs.key==="applications"?Hs.dir:"desc"},[xe,Ne]=v.useState("condiCleanse"),[st,Et]=v.useState("healing"),[Ut,sn]=v.useState("total"),[kt,lt]=v.useState("all"),[xn,Qr]=v.useState("total"),[He,_t]=v.useState("total"),[tn,P]=v.useState("total"),[R,H]=v.useState("total"),[ve,se]=v.useState("all"),[Le,je]=v.useState("squad"),[ct,ht]=v.useState("player"),[St,Gt]=v.useState(""),[Vt,bn]=v.useState(""),[qe,Ze]=v.useState(null),[at,Mt]=v.useState([]),[ut,ye]=v.useState(null),[be,ze]=v.useState(null),[Ae,rt]=v.useState("hit"),[fe,Ue]=v.useState(null),[et,Fe]=v.useState(null),[Je,Xt]=v.useState("hit"),[In,kn]=v.useState([]),[nn,en]=v.useState(null),[on,V]=v.useState(!1),ue=v.useRef(null),[Me,Ke]=v.useState("sizes"),[Ee,oe]=v.useState("total"),Ie=Ee==="perSecond",[Ce,it]=v.useState(null),[Bt,Lt]=v.useState("total"),[mt,Dt]=v.useState(null),[zt,qt]=v.useState(null),[Nt,Tt]=v.useState(null),[Re,ot]=v.useState(""),[pt,Ct]=v.useState(null),[fn,Nn]=v.useState(null),[Fn,Or]=v.useState(null),[qs,Ks]=v.useState(""),[Fc,Tl]=v.useState("player"),[ua,Rc]=v.useState(null),[Km,hd]=v.useState(null),[Da,El]=v.useState(null),{apmSpecBuckets:Qa}=r8(E),Za=_.playerSkillBreakdowns||[],Bc=v.useMemo(()=>{const B=new Map;return Za.forEach(X=>B.set(X.key,X)),B},[Za]),De=v.useMemo(()=>{const B=new Map;return Za.forEach(X=>{const he=X.profession||"Unknown";B.has(he)||B.set(he,{profession:he,players:[],skills:new Map});const Ve=B.get(he);Ve.players.push(X),X.skills.forEach(Pe=>{var me;const Be=Ve.skills.get(Pe.id)||{...Pe,damage:0,downContribution:0};Be.damage+=Number(Pe.damage||0),Be.downContribution+=Number(Pe.downContribution||0),!Be.icon&&Pe.icon&&(Be.icon=Pe.icon),(me=Be.name)!=null&&me.startsWith("Skill ")&&!Pe.name.startsWith("Skill ")&&(Be.name=Pe.name),Ve.skills.set(Pe.id,Be)})}),Array.from(B.values()).map(X=>{const he=Array.from(X.skills.values()).sort((Pe,Be)=>Be.damage-Pe.damage),Ve=he.reduce((Pe,Be)=>(Pe[Be.id]=Be,Pe),{});return{profession:X.profession,players:X.players,skills:he,skillMap:Ve}}).sort((X,he)=>X.profession.localeCompare(he.profession))},[Za]),Ge=pt&&Bc.get(pt)||null,Xe=Ge&&Fn&&((DN=Ge.skillMap)==null?void 0:DN[Fn])||null,tt=v.useMemo(()=>{const B=new Map;return De.forEach(X=>B.set(X.profession,X)),B},[De]),bt=ua&&tt.get(ua)||null,Cn=bt&&Da&&((MN=bt.skillMap)==null?void 0:MN[Da])||null,_n=(B,X)=>{if(!X)return null;const he=Number(X.index);if(Number.isInteger(he)&&he>=0&&he<B.length)return B[he]||null;const Ve=String(X.fightId||"").trim();return Ve&&B.find(Pe=>String((Pe==null?void 0:Pe.id)||"").trim()===Ve)||null},jn=v.useMemo(()=>{const B=Te=>String(Te||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),X=Te=>B(Te).toLowerCase().split(/[^a-z0-9]+/i).map(dt=>dt.trim()).filter(Boolean).map(dt=>dt.length>3&&dt.endsWith("s")?dt.slice(0,-1):dt),he=(Te,dt)=>{const we=B(Te),En=B(dt);if(!En)return we;if(!we)return En;const Ur=X(we),br=X(En),dr=new Set(Ur),An=new Set(br),Oi=br.length>0&&br.every(Zn=>dr.has(Zn)),Ot=Ur.length>0&&Ur.every(Zn=>An.has(Zn));return Oi||Ot?we:`${we} - ${En}`},Ve=Te=>{if(Te==null||Te==="")return 0;if(typeof Te=="number")return!Number.isFinite(Te)||Te<=0?0:Te>1e12?Te:Te*1e3;if(Te instanceof Date){const dr=Te.getTime();return Number.isFinite(dr)&&dr>0?dr:0}const dt=String(Te).trim();if(!dt)return 0;const we=Number(dt);if(Number.isFinite(we)&&we>0)return we>1e12?we:we*1e3;const En=Date.parse(dt);if(Number.isFinite(En)&&En>0)return En;const Ur=dt.replace(/([+-]\d{2})$/,"$1:00"),br=Date.parse(Ur);return Number.isFinite(br)&&br>0?br:0},Pe=(Te,dt)=>Ve((Te==null?void 0:Te.uploadTime)??(dt==null?void 0:dt.uploadTime)??(Te==null?void 0:Te.timeStartStd)??(Te==null?void 0:Te.timeStart)??(Te==null?void 0:Te.timeEndStd)??(Te==null?void 0:Te.timeEnd)),Be=_==null?void 0:_.spikeDamage,me=Array.isArray(Be==null?void 0:Be.fights)?Be.fights:[],nt=Array.isArray(Be==null?void 0:Be.players)?Be.players:[],un=me.some(Te=>(Te!=null&&Te.values&&typeof Te.values=="object"?Object.values(Te.values):[]).some(we=>we&&typeof we=="object"&&(Number(we.burst1s||0)>0||Number(we.burst5s||0)>0||Number(we.burst30s||0)>0)))||nt.some(Te=>Number((Te==null?void 0:Te.peak1s)||0)>0||Number((Te==null?void 0:Te.peak5s)||0)>0||Number((Te==null?void 0:Te.peak30s)||0)>0);if((me.length>0||nt.length>0)&&(un||e.length===0)){const Te=me.map((we,En)=>{const Ur=we!=null&&we.values&&typeof we.values=="object"?we.values:{},br={};return Object.entries(Ur).forEach(([dr,An])=>{if(An&&typeof An=="object"){const Oi=Number(An.damage||0);br[dr]={hit:Number(An.hit??Oi),burst1s:Number(An.burst1s||0),burst5s:Number(An.burst5s||0),burst30s:Number(An.burst30s||0),skillName:String(An.skillName||""),buckets5s:Array.isArray(An.buckets5s)?An.buckets5s.map(Ot=>Number(Ot||0)):void 0,downIndices5s:Array.isArray(An.downIndices5s)?An.downIndices5s.map(Ot=>Number(Ot)).filter(Ot=>Number.isFinite(Ot)&&Ot>=0):void 0,deathIndices5s:Array.isArray(An.deathIndices5s)?An.deathIndices5s.map(Ot=>Number(Ot)).filter(Ot=>Number.isFinite(Ot)&&Ot>=0):void 0,skillRows:Array.isArray(An.skillRows)?An.skillRows.map(Ot=>({skillName:String((Ot==null?void 0:Ot.skillName)||(Ot==null?void 0:Ot.name)||"Unknown Skill"),damage:Number((Ot==null?void 0:Ot.damage)||0),hits:Number((Ot==null?void 0:Ot.hits)||0),icon:typeof(Ot==null?void 0:Ot.icon)=="string"?Ot.icon:void 0})).filter(Ot=>Number.isFinite(Ot.damage)&&Ot.damage>0):void 0};return}br[dr]={hit:Number(An||0),burst1s:0,burst5s:0,burst30s:0,skillName:""}}),{id:String((we==null?void 0:we.id)||`fight-${En+1}`),shortLabel:String((we==null?void 0:we.shortLabel)||`F${En+1}`),fullLabel:B((we==null?void 0:we.fullLabel)||`Fight ${En+1}`),timestamp:Number((we==null?void 0:we.timestamp)||0),values:br,maxHit:Number((we==null?void 0:we.maxHit)??(we==null?void 0:we.maxDamage)??0),max1s:Number((we==null?void 0:we.max1s)||0),max5s:Number((we==null?void 0:we.max5s)||0),max30s:Number((we==null?void 0:we.max30s)||0)}}),dt=nt.map(we=>({key:String((we==null?void 0:we.key)||""),account:String((we==null?void 0:we.account)||"Unknown"),displayName:String((we==null?void 0:we.displayName)||(we==null?void 0:we.account)||"Unknown"),characterName:String((we==null?void 0:we.characterName)||(we==null?void 0:we.name)||(we==null?void 0:we.character_name)||(we==null?void 0:we.display_name)||""),profession:String((we==null?void 0:we.profession)||"Unknown"),professionList:Array.isArray(we==null?void 0:we.professionList)?we.professionList.map(En=>String(En)):[],logs:Number((we==null?void 0:we.logs)||0),peakHit:Number((we==null?void 0:we.peakHit)||0),peak1s:Number((we==null?void 0:we.peak1s)||0),peak5s:Number((we==null?void 0:we.peak5s)||0),peak30s:Number((we==null?void 0:we.peak30s)||0),peakFightLabel:B((we==null?void 0:we.peakFightLabel)||""),peakSkillName:String((we==null?void 0:we.peakSkillName)||"")}));return{fights:Te,players:dt}}const rn=(Te,dt)=>{const we=(dt==null?void 0:dt.skillMap)||{},En=(dt==null?void 0:dt.buffMap)||{};let Ur=0,br="";const dr=Ot=>{const Zn=Number(Ot);if(!Number.isFinite(Zn))return String(Ot||"Unknown Skill");const ln=(we==null?void 0:we[`s${Zn}`])||(we==null?void 0:we[`${Zn}`]);if(ln!=null&&ln.name)return String(ln.name);const yt=(En==null?void 0:En[`b${Zn}`])||(En==null?void 0:En[`${Zn}`]);return yt!=null&&yt.name?String(yt.name):`Skill ${Zn}`},An=Ot=>{if(!Ot||typeof Ot!="object")return;const Zn=[Number(Ot.max),Number(Ot.maxDamage),Number(Ot.maxHit)].filter(yt=>Number.isFinite(yt)),ln=Zn.length>0?Math.max(...Zn):0;ln>Ur&&(Ur=ln,br=dr(Ot.id))};let Oi=!1;return Array.isArray(Te==null?void 0:Te.targetDamageDist)&&Te.targetDamageDist.forEach(Ot=>{Array.isArray(Ot)&&Ot.forEach(Zn=>{Array.isArray(Zn)&&Zn.forEach(ln=>{Oi=!0,An(ln)})})}),(!Oi||Ur<=0)&&Array.isArray(Te==null?void 0:Te.totalDamageDist)&&Te.totalDamageDist.forEach(Ot=>{Array.isArray(Ot)&&Ot.forEach(Zn=>An(Zn))}),{peak:Ur,skillName:br||"Unknown Skill"}},At=(Te,dt)=>{const we=ln=>{if(!Array.isArray(ln)||ln.length===0)return[];const yt=[];for(let Qt=0;Qt<ln.length;Qt+=1){const wr=Number(ln[Qt]||0),Jn=Qt>0?Number(ln[Qt-1]||0):0;yt.push(Math.max(0,wr-Jn))}return yt},En=(ln,yt)=>{if(!Array.isArray(ln)||ln.length===0||yt<=0)return 0;let Qt=0,wr=0;for(let Jn=0;Jn<ln.length;Jn+=1)Qt+=Number(ln[Jn]||0),Jn>=yt&&(Qt-=Number(ln[Jn-yt]||0)),Jn>=yt-1&&Qt>wr&&(wr=Qt);return Math.max(0,wr)},Ur=ln=>{if(!Array.isArray(ln))return[];const yt=ln.reduce((wr,Jn)=>Math.max(wr,Array.isArray(Jn)?Jn.length:0),0);if(yt<=0)return[];const Qt=new Array(yt).fill(0);return ln.forEach(wr=>{if(Array.isArray(wr))for(let Jn=0;Jn<yt;Jn+=1)Qt[Jn]+=Number(wr[Jn]||0)}),Qt},br=ln=>Array.isArray(ln)?ln.map(yt=>Number(yt||0)):null,An=(ln=>{if(!Array.isArray(ln)||ln.length===0)return null;const yt=ln[0];if(!Array.isArray(yt))return null;if(Array.isArray(yt[0])&&Array.isArray(yt[0][0]))return Ur(yt);if(Array.isArray(yt[0])&&!Array.isArray(yt[0][0])){const Qt=ln.map(wr=>br(Array.isArray(wr)?wr[0]:null)).filter(wr=>Array.isArray(wr)&&wr.length>0);if(Qt.length>0)return Ur(Qt)}return null})(Te==null?void 0:Te.targetDamage1S),Oi=Array.isArray(Te==null?void 0:Te.damage1S)&&Array.isArray(Te.damage1S[0])?Te.damage1S[0]:null,Ot=An||(Array.isArray(Oi)?Oi.map(ln=>Number(ln||0)):[]),Zn=we(Ot);return En(Zn,dt)},an=[],Ft=new Map;e.forEach(Te=>{const dt=Te==null?void 0:Te.details;if(!dt)return;const we=an.length+1,En=B(dt.fightName||Te.fightName||`Fight ${we}`),Ur=dt.zone||dt.mapName||dt.map||dt.location||"",br=he(En,String(Ur||"")),dr={};(Array.isArray(dt.players)?dt.players:[]).forEach(yt=>{if(yt!=null&&yt.notInSquad)return;const Qt=String((yt==null?void 0:yt.account)||(yt==null?void 0:yt.name)||"Unknown"),wr=String((yt==null?void 0:yt.character_name)||(yt==null?void 0:yt.display_name)||(yt==null?void 0:yt.name)||""),Jn=String((yt==null?void 0:yt.profession)||"Unknown"),Uc=`${Qt}|${Jn}`,th=rn(yt,dt),Vc=Number(th.peak||0),Wc=Number(At(yt,1)||0),gd=Number(At(yt,5)||0),$l=Number(At(yt,30)||0);dr[Uc]={hit:Vc,burst1s:Wc,burst5s:gd,burst30s:$l,skillName:th.skillName};const kr=Ft.get(Uc)||{key:Uc,account:Qt,displayName:Qt,characterName:wr,profession:Jn,professionList:[Jn],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};kr.logs+=1,kr.professionList.includes(Jn)||kr.professionList.push(Jn),!kr.characterName&&wr&&(kr.characterName=wr),Vc>kr.peakHit&&(kr.peakHit=Vc,kr.peakFightLabel=br,kr.peakSkillName=th.skillName),Wc>kr.peak1s&&(kr.peak1s=Wc),gd>kr.peak5s&&(kr.peak5s=gd),$l>kr.peak30s&&(kr.peak30s=$l),Ft.set(Uc,kr)});const Oi=Object.values(dr).reduce((yt,Qt)=>Math.max(yt,Number((Qt==null?void 0:Qt.hit)||0)),0),Ot=Object.values(dr).reduce((yt,Qt)=>Math.max(yt,Number((Qt==null?void 0:Qt.burst1s)||0)),0),Zn=Object.values(dr).reduce((yt,Qt)=>Math.max(yt,Number((Qt==null?void 0:Qt.burst5s)||0)),0),ln=Object.values(dr).reduce((yt,Qt)=>Math.max(yt,Number((Qt==null?void 0:Qt.burst30s)||0)),0);an.push({id:Te.filePath||Te.id||`fight-${we}`,shortLabel:`F${we}`,fullLabel:br,timestamp:Pe(dt,Te),values:dr,maxHit:Oi,max1s:Ot,max5s:Zn,max30s:ln})});const yr=Array.from(Ft.values()).sort((Te,dt)=>dt.peakHit!==Te.peakHit?dt.peakHit-Te.peakHit:Te.displayName.localeCompare(dt.displayName));return{fights:an,players:yr}},[e,_]),Hn=v.useMemo(()=>{const B=me=>String(me||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),X=_==null?void 0:_.incomingStrikeDamage,he=Array.isArray(X==null?void 0:X.fights)?X.fights:[],Ve=Array.isArray(X==null?void 0:X.players)?X.players:[];if(he.length===0&&Ve.length===0)return{fights:[],players:[]};const Pe=he.map((me,nt)=>{const un=me!=null&&me.values&&typeof me.values=="object"?me.values:{},gt={};return Object.entries(un).forEach(([rn,At])=>{if(At&&typeof At=="object"){const an=Number(At.damage||0);gt[rn]={hit:Number(At.hit??an),burst1s:Number(At.burst1s||0),burst5s:Number(At.burst5s||0),burst30s:Number(At.burst30s||0),skillName:String(At.skillName||""),buckets5s:Array.isArray(At.buckets5s)?At.buckets5s.map(Ft=>Number(Ft||0)):void 0,downIndices5s:Array.isArray(At.downIndices5s)?At.downIndices5s.map(Ft=>Number(Ft)).filter(Ft=>Number.isFinite(Ft)&&Ft>=0):void 0,deathIndices5s:Array.isArray(At.deathIndices5s)?At.deathIndices5s.map(Ft=>Number(Ft)).filter(Ft=>Number.isFinite(Ft)&&Ft>=0):void 0,skillRows:Array.isArray(At.skillRows)?At.skillRows.map(Ft=>({skillName:String((Ft==null?void 0:Ft.skillName)||(Ft==null?void 0:Ft.name)||"Unknown Skill"),damage:Number((Ft==null?void 0:Ft.damage)||0),hits:Number((Ft==null?void 0:Ft.hits)||0),icon:typeof(Ft==null?void 0:Ft.icon)=="string"?Ft.icon:void 0})).filter(Ft=>Number.isFinite(Ft.damage)&&Ft.damage>0):void 0};return}gt[rn]={hit:Number(At||0),burst1s:0,burst5s:0,burst30s:0,skillName:""}}),{id:String((me==null?void 0:me.id)||`fight-${nt+1}`),shortLabel:String((me==null?void 0:me.shortLabel)||`F${nt+1}`),fullLabel:B((me==null?void 0:me.fullLabel)||`Fight ${nt+1}`),timestamp:Number((me==null?void 0:me.timestamp)||0),values:gt,maxHit:Number((me==null?void 0:me.maxHit)??(me==null?void 0:me.maxDamage)??0),max1s:Number((me==null?void 0:me.max1s)||0),max5s:Number((me==null?void 0:me.max5s)||0),max30s:Number((me==null?void 0:me.max30s)||0)}}),Be=Ve.map(me=>({key:String((me==null?void 0:me.key)||""),account:String((me==null?void 0:me.account)||"Unknown"),displayName:String((me==null?void 0:me.displayName)||(me==null?void 0:me.account)||"Unknown"),characterName:String((me==null?void 0:me.characterName)||(me==null?void 0:me.name)||(me==null?void 0:me.character_name)||(me==null?void 0:me.display_name)||""),profession:String((me==null?void 0:me.profession)||"Unknown"),professionList:Array.isArray(me==null?void 0:me.professionList)?me.professionList.map(nt=>String(nt)):[],logs:Number((me==null?void 0:me.logs)||0),peakHit:Number((me==null?void 0:me.peakHit)||0),peak1s:Number((me==null?void 0:me.peak1s)||0),peak5s:Number((me==null?void 0:me.peak5s)||0),peak30s:Number((me==null?void 0:me.peak30s)||0),peakFightLabel:B((me==null?void 0:me.peakFightLabel)||""),peakSkillName:String((me==null?void 0:me.peakSkillName)||"")}));return{fights:Pe,players:Be}},[_]),Ti=v.useMemo(()=>{const B=new Map;return jn.players.forEach(X=>B.set(X.key,X)),B},[jn.players]),Ei=v.useMemo(()=>{const B=Pe=>Ae==="hit"?Pe.peakHit:Ae==="1s"?Pe.peak1s:Ae==="5s"?Pe.peak5s:Pe.peak30s,X=pn.trim().toLowerCase(),he=X?jn.players.filter(Pe=>Pe.displayName.toLowerCase().includes(X)||Pe.account.toLowerCase().includes(X)||Pe.profession.toLowerCase().includes(X)):jn.players,Ve=new Map;return he.forEach(Pe=>{const Be=Pe.profession||"Unknown",me=Ve.get(Be)||[];me.push(Pe),Ve.set(Be,me)}),Array.from(Ve.entries()).map(([Pe,Be])=>({profession:Pe,players:[...Be].sort((me,nt)=>B(nt)-B(me)||me.displayName.localeCompare(nt.displayName))})).sort((Pe,Be)=>Pe.profession.localeCompare(Be.profession))},[jn.players,pn,Ae]),Ja=ut&&Ti.get(ut)||null,gi=v.useMemo(()=>{if(!ut)return[];const B=he=>he?Number(Ae==="hit"?he.hit||0:Ae==="1s"?he.burst1s||0:Ae==="5s"?he.burst5s||0:he.burst30s||0):0,X=he=>Number(Ae==="hit"?he.maxHit||0:Ae==="1s"?he.max1s||0:Ae==="5s"?he.max5s||0:he.max30s||0);return jn.fights.map((he,Ve)=>{var Pe;return{index:Ve,fightId:he.id,shortLabel:he.shortLabel,fullLabel:he.fullLabel,timestamp:Number(he.timestamp||0),damage:B(he.values[ut]),maxDamage:X(he),skillName:String(((Pe=he.values[ut])==null?void 0:Pe.skillName)||"")}})},[jn.fights,ut,Ae]),Hi=v.useMemo(()=>{const B=gi.reduce((he,Ve)=>Math.max(he,Number(Ve.damage||0)),0),X=gi.reduce((he,Ve)=>Math.max(he,Number(Ve.maxDamage||0)),0);return Math.max(1,B,X)},[gi]),Dl=v.useMemo(()=>{var IN,_N,LN,$N,FN,RN,BN,zN,UN;const B=be===null?null:gi.find(ke=>ke.index===be)||null;if(!B||!ut)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const X=_n(jn.fights,B),[he,Ve]=ut.split("|"),Pe=e.find(ke=>String((ke==null?void 0:ke.filePath)||(ke==null?void 0:ke.id)||"")===String(B.fightId||"")),Be=Pe==null?void 0:Pe.details,me=ke=>Array.isArray(ke)?ke.map(ft=>Array.isArray(ft)?[Number(ft[0]),Number(ft[1])]:ft&&typeof ft=="object"?[Number(ft.time),Number(ft.value)]:null).filter(ft=>!!ft&&Number.isFinite(ft[0])&&ft[0]>=0):[],nt=ke=>String(ke||"").trim().toLowerCase(),un=nt(he),gt=nt(Ve),rn=Ti.get(ut),At=new Set([nt(rn==null?void 0:rn.displayName),nt(rn==null?void 0:rn.characterName),nt(rn==null?void 0:rn.account)].filter(Boolean)),an=Array.isArray(Be==null?void 0:Be.players)&&((IN=Be.players.map(ke=>{const ft=nt(ke==null?void 0:ke.account),Zt=nt(ke==null?void 0:ke.name),er=nt(ke==null?void 0:ke.profession),Dn=!!ft&&ft===un,Rn=!!Zt&&(Zt===un||At.has(Zt)),Ki=!!ft&&At.has(ft),Fo=!gt||er===gt;let ts=0;return Dn&&(ts+=100),Rn&&(ts+=90),Ki&&(ts+=80),Fo&&(ts+=20),{player:ke,score:ts}}).filter(ke=>ke.score>0).sort((ke,ft)=>ft.score-ke.score)[0])==null?void 0:IN.player)||null,Ft=(()=>{const ke=an==null?void 0:an.combatReplayData;return Array.isArray(ke)?ke.filter(ft=>ft&&typeof ft=="object"):ke&&typeof ke=="object"?[ke]:[]})(),yr=Ft.flatMap(ke=>me(ke==null?void 0:ke.down).map(([ft])=>ft)),Te=Ft.flatMap(ke=>me(ke==null?void 0:ke.dead).map(([ft])=>ft)),dt=Ft.map(ke=>Number(ke==null?void 0:ke.start)).filter(ke=>Number.isFinite(ke)&&ke>=0),we=Array.isArray(Be==null?void 0:Be.players)?Be.players.flatMap(ke=>{const ft=ke==null?void 0:ke.combatReplayData;return Array.isArray(ft)?ft.map(Zt=>Number(Zt==null?void 0:Zt.start)):[Number(ft==null?void 0:ft.start)]}).filter(ke=>Number.isFinite(ke)&&ke>=0).reduce((ke,ft)=>Math.min(ke,ft),Number.POSITIVE_INFINITY):Number.POSITIVE_INFINITY,En=[0,Number((Be==null?void 0:Be.logStartOffset)||0),...dt,Number.isFinite(we)?we:0].filter(ke=>Number.isFinite(ke)&&ke>=0),Ur=ke=>{const ft=Math.max(0,Math.floor(Number(ke||0)/1e3)),Zt=Math.floor(ft/5)*5;return`${Zt}s-${Zt+5}s`},br=(ke,ft)=>{if(ke.length===0||ft.length===0)return[];const Zt=ft.length*5e3,er=fr=>fr.reduce((Ss,Hc)=>Hc>=0&&Hc<=Zt+2e3?Ss+1:Ss,0),Dn=[],Rn=ke.map(fr=>Number(fr||0)).filter(fr=>Number.isFinite(fr)&&fr>=0);if(Rn.length===0)return[];Dn.push(Rn);const Ki=Rn.reduce((fr,Ss)=>Math.max(fr,Ss),0),Fo=Rn.reduce((fr,Ss)=>Math.min(fr,Ss),Number.POSITIVE_INFINITY);Ki>Zt*20&&Dn.push(Rn.map(fr=>fr/1e3)),Ki<=Zt*2&&Fo>=0&&Ki>0&&Ki<Math.max(120,ft.length*5+10)&&Dn.push(Rn.map(fr=>fr*1e3));let ts=Rn,VN=0,WN=-1;return Dn.forEach(fr=>{const Ss=new Set(En),Hc=fr.reduce((Fl,Dx)=>Math.min(Fl,Dx),Number.POSITIVE_INFINITY);if(Number.isFinite(Hc)&&Zt>0&&Hc>Zt){const Fl=Math.floor(Hc/Zt)*Zt;Ss.add(Fl),Ss.add(Math.max(0,Fl-Zt))}Ss.forEach(Fl=>{const Dx=fr.map(DR=>DR-Fl),HN=er(Dx);HN>WN&&(WN=HN,VN=Fl,ts=fr)})}),ts.map(fr=>fr-VN).filter(fr=>Number.isFinite(fr)&&fr>=0)},dr=(ke,ft)=>{if(ke.length===0||ft.length===0)return[];const Zt=br(ft,ke),er=new Map;ke.forEach(Rn=>{const Ki=/^(\d+)s-/.exec(String(Rn));if(!Ki)return;const Fo=Number(Ki[1]);Number.isFinite(Fo)&&er.set(Fo,Rn)});const Dn=[];return Zt.forEach(Rn=>{const Ki=Math.max(0,Math.floor(Number(Rn||0)/1e3)),Fo=Math.floor(Ki/5)*5,ts=er.get(Fo)||Ur(Rn);ke.includes(ts)&&Dn.push(ts)}),Array.from(new Set(Dn))},An=(ke,ft)=>{if(ke<=0||ft.length===0)return[];const Zt=Array.from({length:ke},(Rn,Ki)=>`${Ki*5}s-${(Ki+1)*5}s`),Dn=br(ft,Zt).map(Rn=>Math.floor(Math.max(0,Number(Rn||0))/5e3)).filter(Rn=>Number.isFinite(Rn)&&Rn>=0&&Rn<ke);return Array.from(new Set(Dn))},Oi=Array.isArray((LN=(_N=X==null?void 0:X.values)==null?void 0:_N[ut])==null?void 0:LN.buckets5s)?((FN=($N=X==null?void 0:X.values)==null?void 0:$N[ut])==null?void 0:FN.buckets5s)||[]:[],Ot=Array.isArray((BN=(RN=X==null?void 0:X.values)==null?void 0:RN[ut])==null?void 0:BN.downIndices5s)?X.values[ut].downIndices5s.map(ke=>Number(ke)).filter(ke=>Number.isFinite(ke)&&ke>=0):[],Zn=Array.isArray((UN=(zN=X==null?void 0:X.values)==null?void 0:zN[ut])==null?void 0:UN.deathIndices5s)?X.values[ut].deathIndices5s.map(ke=>Number(ke)).filter(ke=>Number.isFinite(ke)&&ke>=0):[];if(Oi.length>0){const ke=Math.max(0,Math.ceil(Number((Be==null?void 0:Be.durationMS)||0)/5e3)),ft=Math.max(Oi.length,ke),Zt=Array.from({length:ft},(Dn,Rn)=>({label:`${Rn*5}s-${(Rn+1)*5}s`,value:Number(Oi[Rn]||0)})),er=Zt.map(Dn=>Dn.label);return{title:`Fight Breakdown - ${B.shortLabel||"Fight"} (5s Damage Buckets)`,data:Zt,downLabels:dr(er,yr),deathLabels:dr(er,Te),downIndices:Ot.length>0?Ot.filter(Dn=>Dn<Zt.length):An(Zt.length,yr),deathIndices:Zn.length>0?Zn.filter(Dn=>Dn<Zt.length):An(Zt.length,Te)}}const ln=B.shortLabel||"Fight";if(!Be||!Array.isArray(Be.players))return{title:`Fight Breakdown - ${ln}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const yt=Be.players.find(ke=>String((ke==null?void 0:ke.account)||(ke==null?void 0:ke.name)||"Unknown")===he&&String((ke==null?void 0:ke.profession)||"Unknown")===Ve);if(!yt)return{title:`Fight Breakdown - ${ln}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const Qt=yt,wr=ke=>{if(!Array.isArray(ke)||ke.length===0)return[];const ft=[];for(let Zt=0;Zt<ke.length;Zt+=1){const er=Number(ke[Zt]||0),Dn=Zt>0?Number(ke[Zt-1]||0):0;ft.push(Math.max(0,er-Dn))}return ft},Jn=ke=>{if(!Array.isArray(ke))return[];const ft=ke.reduce((er,Dn)=>Math.max(er,Array.isArray(Dn)?Dn.length:0),0);if(ft<=0)return[];const Zt=new Array(ft).fill(0);return ke.forEach(er=>{if(Array.isArray(er))for(let Dn=0;Dn<ft;Dn+=1)Zt[Dn]+=Number(er[Dn]||0)}),Zt},Uc=ke=>Array.isArray(ke)?ke.map(ft=>Number(ft||0)):null,Vc=(ke=>{if(!Array.isArray(ke)||ke.length===0)return null;const ft=ke[0];if(!Array.isArray(ft))return null;if(Array.isArray(ft[0])&&Array.isArray(ft[0][0]))return Jn(ft);if(Array.isArray(ft[0])&&!Array.isArray(ft[0][0])){const Zt=ke.map(er=>Uc(Array.isArray(er)?er[0]:null)).filter(er=>Array.isArray(er)&&er.length>0);if(Zt.length>0)return Jn(Zt)}return null})(Qt==null?void 0:Qt.targetDamage1S),Wc=Array.isArray(Qt==null?void 0:Qt.damage1S)&&Array.isArray(Qt.damage1S[0])?Qt.damage1S[0]:null,gd=Vc||(Array.isArray(Wc)?Wc.map(ke=>Number(ke||0)):[]),$l=wr(gd),kr=5,PR=Math.max(0,Math.ceil(Number((Be==null?void 0:Be.durationMS)||0)/(kr*1e3))),TR=Math.max(0,Math.ceil($l.length/kr)),ER=Math.max(PR,TR),xd=[];for(let ke=0;ke<ER;ke+=1){const ft=ke*kr,Zt=Math.min(ft+kr,$l.length),er=$l.slice(ft,Zt).reduce((Dn,Rn)=>Dn+Number(Rn||0),0);xd.push({label:`${ft}s-${ft+kr}s`,value:er})}const ON=xd.map(ke=>ke.label);return{title:`Fight Breakdown - ${ln} (5s Damage Buckets)`,data:xd,downLabels:dr(ON,yr),deathLabels:dr(ON,Te),downIndices:An(xd.length,yr),deathIndices:An(xd.length,Te)}},[be,gi,ut,e,jn.fights,Ti]),Ml=v.useMemo(()=>{const B=new Map;return Hn.players.forEach(X=>B.set(X.key,X)),B},[Hn.players]),Ma=v.useMemo(()=>{const B=Pe=>Je==="hit"?Pe.peakHit:Je==="1s"?Pe.peak1s:Je==="5s"?Pe.peak5s:Pe.peak30s,X=Pr.trim().toLowerCase(),he=X?Hn.players.filter(Pe=>Pe.displayName.toLowerCase().includes(X)||Pe.account.toLowerCase().includes(X)||Pe.profession.toLowerCase().includes(X)):Hn.players,Ve=new Map;return he.forEach(Pe=>{const Be=Pe.profession||"Unknown",me=Ve.get(Be)||[];me.push(Pe),Ve.set(Be,me)}),Array.from(Ve.entries()).map(([Pe,Be])=>({profession:Pe,players:[...Be].sort((me,nt)=>B(nt)-B(me)||me.displayName.localeCompare(nt.displayName))})).sort((Pe,Be)=>Pe.profession.localeCompare(Be.profession))},[Hn.players,Pr,Je]),Lo=fe&&Ml.get(fe)||null,da=v.useMemo(()=>{if(!fe)return[];const B=he=>he?Number(Je==="hit"?he.hit||0:Je==="1s"?he.burst1s||0:Je==="5s"?he.burst5s||0:he.burst30s||0):0,X=he=>Number(Je==="hit"?he.maxHit||0:Je==="1s"?he.max1s||0:Je==="5s"?he.max5s||0:he.max30s||0);return Hn.fights.map((he,Ve)=>{var Pe;return{index:Ve,fightId:he.id,shortLabel:he.shortLabel,fullLabel:he.fullLabel,timestamp:Number(he.timestamp||0),damage:B(he.values[fe]),maxDamage:X(he),skillName:String(((Pe=he.values[fe])==null?void 0:Pe.skillName)||"")}})},[Hn.fights,fe,Je]),Gm=v.useMemo(()=>{const B=da.reduce((he,Ve)=>Math.max(he,Number(Ve.damage||0)),0),X=da.reduce((he,Ve)=>Math.max(he,Number(Ve.maxDamage||0)),0);return Math.max(1,B,X)},[da]),Ol=v.useMemo(()=>{var nt,un,gt,rn,At,an,Ft,yr,Te;const B=et===null?null:da.find(dt=>dt.index===et)||null;if(!B||!fe)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const X=_n(Hn.fights,B),he=(nt=X==null?void 0:X.values)==null?void 0:nt[fe],Ve=Array.isArray((gt=(un=X==null?void 0:X.values)==null?void 0:un[fe])==null?void 0:gt.buckets5s)?((At=(rn=X==null?void 0:X.values)==null?void 0:rn[fe])==null?void 0:At.buckets5s)||[]:[],Pe=Array.isArray((Ft=(an=X==null?void 0:X.values)==null?void 0:an[fe])==null?void 0:Ft.downIndices5s)?X.values[fe].downIndices5s.map(dt=>Number(dt)).filter(dt=>Number.isFinite(dt)&&dt>=0):[],Be=Array.isArray((Te=(yr=X==null?void 0:X.values)==null?void 0:yr[fe])==null?void 0:Te.deathIndices5s)?X.values[fe].deathIndices5s.map(dt=>Number(dt)).filter(dt=>Number.isFinite(dt)&&dt>=0):[];if(Ve.length>0){const dt=Ve.map((we,En)=>({label:`${En*5}s-${(En+1)*5}s`,value:Number(we||0)}));return{title:`Fight Breakdown - ${B.shortLabel||"Fight"} (5s Damage Buckets)`,data:dt,downLabels:[],deathLabels:[],downIndices:Pe.filter(we=>we<dt.length),deathIndices:Be.filter(we=>we<dt.length)}}const me=he?Number(Je==="hit"?he.hit||0:Je==="1s"?he.burst1s||0:Je==="5s"?he.burst5s||0:he.burst30s||0):0;return me>0?{title:`Fight Breakdown - ${B.shortLabel||"Fight"} (Estimated)`,data:[{label:"0s-5s",value:me}],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]}:{title:`Fight Breakdown - ${B.shortLabel||"Fight"}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]}},[et,da,fe,Hn.fights,Je]),Ym=v.useMemo(()=>{var me;if(et===null||!fe)return[];const B=da.find(nt=>nt.index===et);if(!B)return[];const X=_n(Hn.fights,B),he=(me=X==null?void 0:X.values)==null?void 0:me[fe],Pe=[...(he==null?void 0:he.skillRows)||[]].filter(nt=>Number((nt==null?void 0:nt.damage)||0)>0).sort((nt,un)=>Number(un.damage||0)-Number(nt.damage||0)).slice(0,30);if(Pe.length>0)return Pe;const Be=Number((he==null?void 0:he.hit)||0);return Be<=0?Pe:[{skillName:String((he==null?void 0:he.skillName)||"Unknown Skill"),damage:Be,hits:1,icon:void 0}]},[et,fe,da,Hn.fights]),Xm=v.useMemo(()=>{var Ve,Pe;if(be===null||!ut)return[];const B=gi.find(Be=>Be.index===be);if(!B)return[];const X=_n(jn.fights,B);return[...((Pe=(Ve=X==null?void 0:X.values)==null?void 0:Ve[ut])==null?void 0:Pe.skillRows)||[]].filter(Be=>Number((Be==null?void 0:Be.damage)||0)>0).sort((Be,me)=>Number(me.damage||0)-Number(Be.damage||0)).slice(0,30)},[be,ut,gi,jn.fights]);v.useEffect(()=>{if(Za.length===0){pt!==null&&Ct(null),Fn!==null&&Or(null);return}if(!pt||!Bc.has(pt)){const B=Za[0].key;Ct(B),Nn(null)}},[Za,Bc,pt,Fn]),v.useEffect(()=>{if(!Ge||Ge.skills.length===0){Fn!==null&&Or(null);return}const B=Ge.skills.some(X=>X.id===Fn);(!Fn||!B)&&Or(Ge.skills[0].id)},[Ge,Fn]),v.useEffect(()=>{if(De.length===0){ua!==null&&Rc(null),Da!==null&&El(null);return}if(!ua||!tt.has(ua)){const B=De[0].profession;Rc(B),hd(null)}},[De,tt,ua,Da]),v.useEffect(()=>{if(!bt||bt.skills.length===0){Da!==null&&El(null);return}const B=bt.skills.some(X=>X.id===Da);(!Da||!B)&&El(bt.skills[0].id)},[bt,Da]),v.useEffect(()=>{if(jn.players.length===0){ut!==null&&ye(null);return}(!ut||!Ti.has(ut))&&ut!==null&&ye(null)},[jn.players,Ti,ut]),v.useEffect(()=>{ze(null)},[ut,Ae]),v.useEffect(()=>{if(be===null)return;gi.some(X=>X.index===be)||ze(null)},[gi,be]),v.useEffect(()=>{if(Hn.players.length===0){fe!==null&&Ue(null);return}(!fe||!Ml.has(fe))&&fe!==null&&Ue(null)},[Hn.players,Ml,fe]),v.useEffect(()=>{Fe(null)},[fe,Je]),v.useEffect(()=>{if(et===null)return;da.some(X=>X.index===et)||Fe(null)},[da,et]);const Qm=v.useMemo(()=>new Set(at),[at]),{playerMapByKey:qi,playerTotalsForSkill:zr,skillChartData:Il,skillChartMaxY:_l,groupedSkillUsagePlayers:Ll}=i8({skillUsageData:E,selectedSkillId:qe,selectedPlayers:Qm,skillUsageView:Ee==="perSecond"?"perSecond":"total"}),$o=v.useMemo(()=>{const B=new Map,X=Be=>{Be.forEach(me=>{const nt=Jc(me==null?void 0:me.name)||(me==null?void 0:me.name);nt&&me!=null&&me.icon&&!B.has(nt)&&B.set(nt,me.icon)})},he=Be=>{Be.forEach(me=>{Object.entries((me==null?void 0:me.conditions)||{}).forEach(([nt,un])=>{const gt=Jc(nt)||nt;un!=null&&un.icon&&!B.has(gt)&&B.set(gt,un.icon)})})},Ve=Be=>{const me=new Map;return Be.forEach(nt=>{const un=Jc(nt==null?void 0:nt.name)||(nt==null?void 0:nt.name);if(!un)return;const gt=me.get(un)||{name:un,icon:(nt==null?void 0:nt.icon)||B.get(un)||bh(un),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0};gt.applications+=Number((nt==null?void 0:nt.applications)||0),gt.damage+=Number((nt==null?void 0:nt.damage)||0),nt!=null&&nt.applicationsFromUptime&&(gt.applicationsFromUptime+=Number(nt.applicationsFromUptime||0)),nt!=null&&nt.applicationsFromBuffs&&(gt.applicationsFromBuffs+=Number(nt.applicationsFromBuffs||0)),nt!=null&&nt.applicationsFromBuffsActive&&(gt.applicationsFromBuffsActive+=Number(nt.applicationsFromBuffsActive||0)),!gt.icon&&(nt!=null&&nt.icon)&&(gt.icon=nt.icon),gt.icon||(gt.icon=bh(un)),me.set(un,gt)}),Array.from(me.values())},Pe=Be=>Be.map(me=>{const nt={};return Object.entries((me==null?void 0:me.conditions)||{}).forEach(([un,gt])=>{const rn=Jc(un)||un;if(!rn)return;const At=nt[rn]||{icon:(gt==null?void 0:gt.icon)||B.get(rn)||bh(rn),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0,skills:{}};At.applications+=Number((gt==null?void 0:gt.applications)||0),At.damage+=Number((gt==null?void 0:gt.damage)||0),gt!=null&&gt.applicationsFromUptime&&(At.applicationsFromUptime+=Number(gt.applicationsFromUptime||0)),gt!=null&&gt.applicationsFromBuffs&&(At.applicationsFromBuffs+=Number(gt.applicationsFromBuffs||0)),gt!=null&&gt.applicationsFromBuffsActive&&(At.applicationsFromBuffsActive+=Number(gt.applicationsFromBuffsActive||0)),!At.icon&&(gt!=null&&gt.icon)&&(At.icon=gt.icon),At.icon||(At.icon=bh(rn)),Object.values((gt==null?void 0:gt.skills)||{}).forEach(an=>{const Ft=(an==null?void 0:an.name)||"Unknown",yr=At.skills[Ft]||{name:Ft,hits:0,damage:0,icon:an==null?void 0:an.icon};yr.hits+=Number((an==null?void 0:an.hits)||0),yr.damage+=Number((an==null?void 0:an.damage)||0),!yr.icon&&(an!=null&&an.icon)&&(yr.icon=an.icon),At.skills[Ft]=yr}),nt[rn]=At}),{...me,conditions:nt}});return(Be,me)=>(X(Be),he(me),{summary:Ve(Be),players:Pe(me)})},[]),kN=la==="outgoing"?_.outgoingConditionSummary:_.incomingConditionSummary,SN=la==="outgoing"?_.outgoingConditionPlayers:_.incomingConditionPlayers,{summary:Zm,players:QF}=v.useMemo(()=>$o(kN||[],SN||[]),[$o,kN,SN]);v.useEffect(()=>{if(si==="all"||Zm.some(X=>X.name===si))return;const B=Jc(si);B&&Zm.some(X=>X.name===B)?Oo(B):Oo("all")},[si,Zm,Oo]);const ZF=v.useMemo(()=>{const B={};return zr.forEach((X,he)=>{const Ve=qi.get(he);if(!Ve)return;const Pe=Ve.profession;(!B[Pe]||X>B[Pe])&&(B[Pe]=X)}),B},[zr,qi]),$t=v.useCallback(B=>d?d(B):!0,[d]),Xn=v.useCallback((B,X)=>{const he=$t(B);return d?`${X} ${he?"":"hidden"}`:`${X} transition-[opacity,transform] duration-700 ease-in-out ${he?"opacity-100 translate-y-0 max-h-[99999px]":"opacity-0 -translate-y-2 max-h-0 h-0 min-h-0 overflow-hidden pointer-events-none p-0 !p-0 m-0 !mb-0 !mt-0 border-0 !border-0 border-transparent"}`},[$t,d]),NN=v.useMemo(()=>Qie.find(B=>$t(B))||null,[$t]),Qn=v.useCallback(B=>B===NN,[NN]),JF=v.useMemo(()=>{const B=new Map,X=new Map;return at.forEach(he=>{const Ve=qi.get(he);if(!Ve)return;const Pe=zr.get(he)??0,Be=X.get(Ve.profession)||[];Be.push({key:he,total:Pe}),X.set(Ve.profession,Be)}),X.forEach(he=>{he.sort((Ve,Pe)=>Pe.total-Ve.total),he.forEach((Ve,Pe)=>{B.set(Ve.key,Pe)})}),B},[at,qi,zr]),CN=["0","12 3","8 3","6 3","4 3","2 3"],eR=B=>{const X=qi.get(B),he=lc((X==null?void 0:X.profession)||""),Ve=zr.get(B)??0,Pe=X!=null&&X.profession&&ZF[X.profession]||1,me=.35+(Pe>0?Ve/Pe:1)*.65;return Jm(he,me)},tR=B=>{const X=JF.get(B)??0;return CN[X%CN.length]},nR=(B,X,he)=>{if(!he)return eR(B);const Ve=qi.get(B),Pe=lc((Ve==null?void 0:Ve.profession)||"");return X?Jm(Pe,1.2):Jm(Pe,.5)},Jm=(B,X)=>{const he=B.replace("#","");if(he.length!==6)return B;const Ve=gt=>Math.max(0,Math.min(255,gt)),Pe=gt=>Number.parseInt(he.slice(gt,gt+2),16),Be=gt=>Ve(Math.round(gt)).toString(16).padStart(2,"0"),me=Pe(0),nt=Pe(2),un=Pe(4);return`#${Be(me*X)}${Be(nt*X)}${Be(un*X)}`},jN=v.useMemo(()=>{const B=new Map;return E.skillOptions.forEach(X=>{B.set(X.id,{name:X.name,icon:X.icon})}),B},[E.skillOptions]),pd=v.useMemo(()=>{var gt;if(at.length===0)return[];const B=new Map,X=new Map;let he=0;at.forEach(rn=>{const At=qi.get(rn);if(!At)return;he+=At.totalActiveSeconds||0,Object.entries(At.skillTotals||{}).forEach(([Ft,yr])=>{B.set(Ft,(B.get(Ft)||0)+Number(yr||0))});const an=At.profession||"Unknown";X.set(an,(X.get(an)||0)+(At.totalActiveSeconds||0))});const Ve=Vt.trim().toLowerCase(),Pe=Ee==="perSecond",Be=((gt=Array.from(X.entries()).sort((rn,At)=>At[1]-rn[1])[0])==null?void 0:gt[0])||"Unknown",me=lc(Be),nt="#64748b";return Array.from(B.entries()).map(([rn,At])=>{const an=jN.get(rn),Ft=(an==null?void 0:an.name)||rn,yr=Pe&&he>0?At/he:At;return{skillId:rn,name:Ft,icon:an==null?void 0:an.icon,total:yr}}).filter(rn=>rn.total>0&&(!Ve||rn.name.toLowerCase().includes(Ve))).sort((rn,At)=>At.total-rn.total).map((rn,At)=>({...rn,color:At===0?me:Jm(me,.85-Math.min(At*.06,.4))||nt}))},[at,qi,Vt,Ee,jN]);v.useEffect(()=>{if(pd.length===0){qe!==null&&Ze(null);return}(!qe||!pd.some(B=>B.skillId===qe))&&Ze(pd[0].skillId)},[pd,qe,Ze]);const zc=E.skillOptions.find(B=>B.id===qe),rR=(zc==null?void 0:zc.name)||"",iR=(zc==null?void 0:zc.icon)||null,aR=A&&!!qe&&at.length>0,eh="__all__",sR=A&&Qa.length>0,Gs=v.useMemo(()=>Qa.find(B=>B.profession===mt)??null,[Qa,mt]),oR=Nt===eh,lR=v.useMemo(()=>{var B;return((B=Gs==null?void 0:Gs.skills)==null?void 0:B.find(X=>X.id===Nt))??null},[Gs,Nt]);v.useEffect(()=>{if(Qa.length===0){mt!==null&&Dt(null),zt!==null&&qt(null);return}if(!mt||!Qa.some(B=>B.profession===mt)){const B=Qa[0].profession;Dt(B),qt(null)}},[Qa,mt,zt]),v.useEffect(()=>{if(!Gs||Gs.skills.length===0){Nt!==null&&Tt(null);return}const B=Gs.skills.some(X=>X.id===Nt);(!Nt||!B&&Nt!==eh)&&Tt(eh)},[Gs,Nt]);const cR=B=>{Mt(X=>X.includes(B)?X.filter(he=>he!==B):[...X,B])},uR=B=>{Mt(X=>X.filter(he=>he!==B))},dR=v.useMemo(()=>{const B=Oe.trim().toLowerCase(),X=_.boonTables||[];return B?X.filter(he=>he.name.toLowerCase().includes(B)):X},[_.boonTables,Oe]),fR=v.useMemo(()=>I?(_.boonTables||[]).find(B=>B.id===I)??null:null,[_.boonTables,I]),mR=v.useMemo(()=>{const B=Mn.trim().toLowerCase(),X=[..._.specialTables||[]].sort((he,Ve)=>he.name.localeCompare(Ve.name));return B?X.filter(he=>he.name.toLowerCase().includes(B)):X},[_.specialTables,Mn]),es=v.useMemo(()=>[..._.specialTables||[]].filter(X=>/\b(sigil|relic)\b/i.test(String((X==null?void 0:X.name)||""))).sort((X,he)=>X.name.localeCompare(he.name)),[_.specialTables]),hR=v.useMemo(()=>{const B=Ht.trim().toLowerCase();return B?es.filter(X=>X.name.toLowerCase().includes(B)):es},[es,Ht]),pR=v.useMemo(()=>Kt?(_.specialTables||[]).find(B=>B.id===Kt)??null:null,[_.specialTables,Kt]),gR=v.useMemo(()=>_e?es.find(B=>B.id===_e)??null:null,[es,_e]);v.useEffect(()=>{!_.boonTables||_.boonTables.length===0||(!I||!_.boonTables.some(B=>B.id===I))&&ne(_.boonTables[0].id)},[_.boonTables,I]),v.useEffect(()=>{!_.specialTables||_.specialTables.length===0||(!Kt||!_.specialTables.some(B=>B.id===Kt))&&dn(_.specialTables[0].id)},[_.specialTables,Kt]),v.useEffect(()=>{if(!es||es.length===0){_e!==null&&It(null);return}(!_e||!es.some(B=>B.id===_e))&&It(es[0].id)},[es,_e]),v.useEffect(()=>{const B=()=>{const he=window.getSelection();he&&he.rangeCount>0&&he.removeAllRanges()},X=he=>{var Pe;const Ve=he.target;(Pe=Ve==null?void 0:Ve.closest)!=null&&Pe.call(Ve,".recharts-wrapper")&&(he.preventDefault(),B())};return document.addEventListener("selectstart",X),document.addEventListener("mousedown",X),document.addEventListener("mousemove",X),document.addEventListener("dragstart",X),()=>{document.removeEventListener("selectstart",X),document.removeEventListener("mousedown",X),document.removeEventListener("mousemove",X),document.removeEventListener("dragstart",X)}},[]);const Di=B=>{ue.current&&(window.clearTimeout(ue.current),ue.current=null),V(!1),en(B)},oi=()=>{nn&&(ue.current&&window.clearTimeout(ue.current),V(!0),ue.current=window.setTimeout(()=>{en(null),V(!1),ue.current=null},160))};v.useEffect(()=>{if(!nn)return;const B=Ve=>{Ve.key==="Escape"&&oi()},X=document.body.style.overflow,he=document.documentElement.style.overflow;return document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",window.addEventListener("keydown",B),()=>{window.removeEventListener("keydown",B),document.body.style.overflow=X,document.documentElement.style.overflow=he}},[nn]);const AN=(B,X)=>{const he=((X==null?void 0:X.value)||0)-((B==null?void 0:B.value)||0);return he!==0?he:String((B==null?void 0:B.name)||"").localeCompare(String((X==null?void 0:X.name)||""))},PN=Array.isArray(_==null?void 0:_.squadClassData)?_.squadClassData:[],TN=Array.isArray(_==null?void 0:_.enemyClassData)?_.enemyClassData:[],xR=Array.isArray(_==null?void 0:_.attendanceData)?_.attendanceData:[],Ex=Array.isArray(_==null?void 0:_.squadCompByFight)?_.squadCompByFight:[],EN=Array.isArray(_==null?void 0:_.fightBreakdown)?_.fightBreakdown:[],vR=v.useMemo(()=>{const B=new Map;return EN.forEach(X=>{const he=String((X==null?void 0:X.id)||"");he&&B.set(he,X)}),Ex.map(X=>{const he=B.get(String((X==null?void 0:X.id)||""))||null;return{...X,enemyClassCounts:(he==null?void 0:he.enemyClassCounts)||{}}})},[Ex,EN]),yR=v.useMemo(()=>[...PN].sort(AN),[PN]),bR=v.useMemo(()=>[...TN].sort(AN),[TN]),wR=c?"stats-view min-h-screen flex flex-col p-0 w-full max-w-none":"stats-view h-full flex flex-col p-1 w-full max-w-none overflow-hidden",kR=c?`stats-sections space-y-0 min-h-0 px-3 pb-3 pt-3 sm:px-4 sm:pb-4 sm:pt-4 rounded-xl border border-white/5 ${nn?"":"backdrop-blur-xl"}`:`flex-1 overflow-y-auto pr-2 space-y-6 min-h-0 border border-white/5 p-4 rounded-xl ${nn?"":"backdrop-blur-2xl"}`,SR=c&&h!=="matte"&&h!=="kinetic"?{backgroundColor:"rgba(3, 7, 18, 0.75)",backgroundImage:"linear-gradient(160deg, rgba(var(--accent-rgb), 0.12), rgba(var(--accent-rgb), 0.04) 70%)"}:c&&h==="kinetic"?{backgroundColor:"var(--bg-elevated)",backgroundImage:"none"}:void 0,NR=B=>Ee==="perSecond"?B.toFixed(1):Math.round(B).toLocaleString(),CR=B=>B.toFixed(1),jR=B=>Math.round(B).toLocaleString(),AR=B=>typeof B=="number"&&Number.isFinite(B)?B.toFixed(1):"0.0",Mi=hie;return u.jsxs("div",{className:wR,children:[nn&&u.jsx("div",{className:`fixed inset-0 z-40 bg-black/70 backdrop-blur-md modal-backdrop ${on?"modal-backdrop-exit":"modal-backdrop-enter"}`,onClick:oi}),u.jsx(Kie,{embedded:c,dashboardTitle:f,totalLogs:_.total,onBack:t,devMockAvailable:Q,devMockUploadState:U,onDevMockUpload:re,uploadingWeb:L,onWebUpload:K,sharing:F,canShareDiscord:m,onShare:W}),u.jsx(Gie,{embedded:c,webUploadMessage:T,webUploadUrl:M,webUploadBuildStatus:O,webCopyStatus:q,setWebCopyStatus:J}),u.jsx(Yie,{embedded:c,devMockAvailable:Q,devMockUploadState:U}),u.jsx("div",{className:c?"":"flex-1 min-h-0 flex",children:u.jsxs("div",{id:"stats-dashboard-container",ref:S,className:`${kR} ${c?"":"flex-1"}`,style:SR,children:[u.jsxs(u.Fragment,{children:[$t("overview")&&u.jsx(Die,{stats:_,isSectionVisible:$t,isFirstVisibleSection:Qn,sectionClass:Xn}),$t("fight-breakdown")&&u.jsx(Mie,{stats:_,fightBreakdownTab:Me,setFightBreakdownTab:Ke,isSectionVisible:$t,isFirstVisibleSection:Qn,sectionClass:Xn}),$t("top-players")&&u.jsx(_ie,{stats:_,showTopStats:b,showMvp:w,topStatsMode:C,expandedLeader:$,setExpandedLeader:z,formatTopStatValue:zo,formatWithCommas:ha,isMvpStatEnabled:ie,renderProfessionIcon:Mi,isSectionVisible:$t,isFirstVisibleSection:Qn,sectionClass:Xn}),$t("top-skills-outgoing")&&u.jsx(Lie,{stats:_,topSkillsMetric:D,onTopSkillsMetricChange:te,isSectionVisible:$t,isFirstVisibleSection:Qn,sectionClass:Xn}),$t("squad-composition")&&u.jsx($ie,{sortedSquadClassData:yR,sortedEnemyClassData:bR,getProfessionIconPath:Jl,isSectionVisible:$t,isFirstVisibleSection:Qn,sectionClass:Xn}),$t("attendance-ledger")&&u.jsx(Uie,{attendanceRows:xR,getProfessionIconPath:Jl,isSectionVisible:$t,isFirstVisibleSection:Qn,sectionClass:Xn}),$t("squad-comp-fight")&&u.jsx(Wie,{fights:Ex,getProfessionIconPath:Jl,isSectionVisible:$t,isFirstVisibleSection:Qn,sectionClass:Xn}),$t("fight-comp")&&u.jsx(qie,{fights:vR,getProfessionIconPath:Jl,isSectionVisible:$t,isFirstVisibleSection:Qn,sectionClass:Xn}),$t("timeline")&&u.jsx(Fie,{timelineData:_.timelineData,timelineFriendlyScope:Le,setTimelineFriendlyScope:je,isSectionVisible:$t,isFirstVisibleSection:Qn,sectionClass:Xn}),$t("map-distribution")&&u.jsx(Rie,{mapData:_.mapData,isSectionVisible:$t,isFirstVisibleSection:Qn,sectionClass:Xn}),$t("offense-detailed")&&u.jsx(yie,{stats:_,OFFENSE_METRICS:xO,roundCountStats:k,offenseSearch:Mr,setOffenseSearch:Pi,activeOffenseStat:Pl,setActiveOffenseStat:ca,offenseViewMode:xn,setOffenseViewMode:Qr,formatWithCommas:ha,renderProfessionIcon:Mi,expandedSection:nn,expandedSectionClosing:on,openExpandedSection:Di,closeExpandedSection:oi,isSectionVisible:$t,isFirstVisibleSection:Qn,sectionClass:Xn,sidebarListClass:js}),$t("player-breakdown")&&u.jsx(vie,{expandedSection:nn,expandedSectionClosing:on,openExpandedSection:Di,closeExpandedSection:oi,isSectionVisible:$t,isFirstVisibleSection:Qn,sectionClass:Xn,sidebarListClass:js,viewMode:Fc,setViewMode:Tl,playerSkillBreakdowns:Za,classSkillBreakdowns:De,activePlayerKey:pt,setActivePlayerKey:Ct,expandedPlayerKey:fn,setExpandedPlayerKey:Nn,activePlayerSkillId:Fn,setActivePlayerSkillId:Or,activeClassKey:ua,setActiveClassKey:Rc,expandedClassKey:Km,setExpandedClassKey:hd,activeClassSkillId:Da,setActiveClassSkillId:El,skillSearch:qs,setSkillSearch:Ks,activePlayerBreakdown:Ge,activePlayerSkill:Xe,activeClassBreakdown:bt,activeClassSkill:Cn,renderProfessionIcon:Mi}),$t("spike-damage")&&u.jsx(JP,{expandedSection:nn,expandedSectionClosing:on,openExpandedSection:Di,closeExpandedSection:oi,isSectionVisible:$t,isFirstVisibleSection:Qn,sectionClass:Xn,spikePlayerFilter:pn,setSpikePlayerFilter:sr,groupedSpikePlayers:Ei,spikeMode:Ae,setSpikeMode:rt,selectedSpikePlayerKey:ut,setSelectedSpikePlayerKey:ye,selectedSpikePlayer:Ja,spikeChartData:gi,spikeChartMaxY:Hi,selectedSpikeFightIndex:be,setSelectedSpikeFightIndex:ze,spikeDrilldownTitle:Dl.title,spikeDrilldownData:Dl.data,spikeDrilldownDownIndices:Dl.downIndices,spikeDrilldownDeathIndices:Dl.deathIndices,spikeFightSkillRows:Xm,spikeFightSkillTitle:"Outgoing Skill Damage (Selected Fight)",formatWithCommas:ha,renderProfessionIcon:Mi}),$t("conditions-outgoing")&&u.jsx(bie,{conditionSummary:Zm,conditionPlayers:QF,conditionSearch:yn,setConditionSearch:pi,activeConditionName:si,setActiveConditionName:Oo,conditionDirection:la,setConditionDirection:Us,conditionGridClass:_o,effectiveConditionSort:G,setConditionSort:$c,showConditionDamage:Io,renderProfessionIcon:Mi,expandedSection:nn,expandedSectionClosing:on,openExpandedSection:Di,closeExpandedSection:oi,isSectionVisible:$t,isFirstVisibleSection:Qn,sectionClass:Xn,sidebarListClass:js}),$t("defense-detailed")&&u.jsx(kie,{stats:_,DEFENSE_METRICS:vO,defenseSearch:Wn,setDefenseSearch:Ta,activeDefenseStat:Ea,setActiveDefenseStat:Ws,defenseViewMode:He,setDefenseViewMode:_t,roundCountStats:k,formatWithCommas:ha,renderProfessionIcon:Mi,expandedSection:nn,expandedSectionClosing:on,openExpandedSection:Di,closeExpandedSection:oi,isSectionVisible:$t,isFirstVisibleSection:Qn,sectionClass:Xn,sidebarListClass:js}),$t("incoming-strike-damage")&&u.jsx(JP,{sectionId:"incoming-strike-damage",title:"Incoming Strike Damage",subtitle:"Select one enemy class to chart incoming strike pressure per fight.",listTitle:"Enemy Classes",searchPlaceholder:"Search enemy class",titleIconClassName:"text-cyan-300",expandedSection:nn,expandedSectionClosing:on,openExpandedSection:Di,closeExpandedSection:oi,isSectionVisible:$t,isFirstVisibleSection:Qn,sectionClass:Xn,spikePlayerFilter:Pr,setSpikePlayerFilter:ai,groupedSpikePlayers:Ma,spikeMode:Je,setSpikeMode:Xt,selectedSpikePlayerKey:fe,setSelectedSpikePlayerKey:Ue,selectedSpikePlayer:Lo,spikeChartData:da,spikeChartMaxY:Gm,selectedSpikeFightIndex:et,setSelectedSpikeFightIndex:Fe,spikeDrilldownTitle:Ol.title,spikeDrilldownData:Ol.data,spikeDrilldownDownIndices:Ol.downIndices,spikeDrilldownDeathIndices:Ol.deathIndices,spikeFightSkillRows:Ym,spikeFightSkillTitle:"Incoming Skill Damage (Selected Fight)",formatWithCommas:ha,renderProfessionIcon:Mi}),$t("defense-mitigation")&&u.jsx(Sie,{stats:_,DAMAGE_MITIGATION_METRICS:l6,damageMitigationSearch:On,setDamageMitigationSearch:Yt,activeDamageMitigationStat:fd,setActiveDamageMitigationStat:Lc,damageMitigationViewMode:tn,setDamageMitigationViewMode:P,damageMitigationScope:ct,setDamageMitigationScope:ht,roundCountStats:k,formatWithCommas:ha,renderProfessionIcon:Mi,expandedSection:nn,expandedSectionClosing:on,openExpandedSection:Di,closeExpandedSection:oi,isSectionVisible:$t,isFirstVisibleSection:Qn,sectionClass:Xn,sidebarListClass:js}),$t("boon-output")&&u.jsx(wie,{stats:_,activeBoonCategory:Se,setActiveBoonCategory:B=>We(B),activeBoonMetric:le,setActiveBoonMetric:$e,activeBoonTab:I,setActiveBoonTab:ne,activeBoonTable:fR,filteredBoonTables:dR,boonSearch:Oe,setBoonSearch:wt,formatBoonMetricDisplay:R6,getBoonMetricValue:EO,renderProfessionIcon:Mi,roundCountStats:k,expandedSection:nn,expandedSectionClosing:on,openExpandedSection:Di,closeExpandedSection:oi,isSectionVisible:$t,isFirstVisibleSection:Qn,sectionClass:Xn,sidebarListClass:js}),$t("support-detailed")&&u.jsx(Nie,{stats:_,SUPPORT_METRICS:yO,supportSearch:Al,setSupportSearch:Vs,activeSupportStat:xe,setActiveSupportStat:Ne,supportViewMode:R,setSupportViewMode:H,cleanseScope:ve,setCleanseScope:se,roundCountStats:k,formatWithCommas:ha,renderProfessionIcon:Mi,expandedSection:nn,expandedSectionClosing:on,openExpandedSection:Di,closeExpandedSection:oi,isSectionVisible:$t,isFirstVisibleSection:Qn,sectionClass:Xn,sidebarListClass:js}),$t("healing-stats")&&u.jsx(Cie,{stats:_,HEALING_METRICS:c6,activeHealingMetric:st,setActiveHealingMetric:Et,healingCategory:Ut,setHealingCategory:sn,activeResUtilitySkill:kt,setActiveResUtilitySkill:lt,skillUsageData:E,formatWithCommas:ha,renderProfessionIcon:Mi,expandedSection:nn,expandedSectionClosing:on,openExpandedSection:Di,closeExpandedSection:oi,isSectionVisible:$t,isFirstVisibleSection:Qn,sectionClass:Xn}),$t("fight-diff-mode")&&u.jsx(Eie,{stats:_,formatWithCommas:ha,expandedSection:nn,expandedSectionClosing:on,openExpandedSection:Di,closeExpandedSection:oi,isSectionVisible:$t,isFirstVisibleSection:Qn,sectionClass:Xn}),$t("special-buffs")&&u.jsx(Aie,{stats:_,specialSearch:Mn,setSpecialSearch:ge,filteredSpecialTables:mR,activeSpecialTab:Kt,setActiveSpecialTab:dn,activeSpecialTable:pR,formatWithCommas:ha,renderProfessionIcon:Mi,expandedSection:nn,expandedSectionClosing:on,openExpandedSection:Di,closeExpandedSection:oi,isSectionVisible:$t,isFirstVisibleSection:Qn,sectionClass:Xn,sidebarListClass:js}),$t("sigil-relic-uptime")&&u.jsx(Tie,{hasSigilRelicTables:es.length>0,sigilRelicSearch:Ht,setSigilRelicSearch:gn,filteredSigilRelicTables:hR,activeSigilRelicTab:_e,setActiveSigilRelicTab:It,activeSigilRelicTable:gR,formatWithCommas:ha,renderProfessionIcon:Mi,expandedSection:nn,expandedSectionClosing:on,openExpandedSection:Di,closeExpandedSection:oi,isSectionVisible:$t,isFirstVisibleSection:Qn,sectionClass:Xn,sidebarListClass:js}),$t("skill-usage")&&u.jsx(pie,{expandedSection:nn,expandedSectionClosing:on,openExpandedSection:Di,closeExpandedSection:oi,isSectionVisible:$t,isFirstVisibleSection:Qn,sectionClass:Xn,selectedPlayers:at,setSelectedPlayers:Mt,removeSelectedPlayer:uR,playerMapByKey:qi,groupedSkillUsagePlayers:Ll,expandedSkillUsageClass:Ce,setExpandedSkillUsageClass:it,togglePlayerSelection:cR,skillUsagePlayerFilter:St,setSkillUsagePlayerFilter:Gt,skillUsageView:Ee,setSkillUsageView:oe,skillUsageData:E,skillUsageSkillFilter:Vt,setSkillUsageSkillFilter:bn,selectedSkillId:qe,setSelectedSkillId:Ze,skillBarData:pd,selectedSkillName:rR,selectedSkillIcon:iR,skillUsageReady:aR,skillUsageAvailable:A,isSkillUsagePerSecond:Ie,skillChartData:Il,skillChartMaxY:_l,playerTotalsForSkill:zr,hoveredSkillPlayer:In,setHoveredSkillPlayer:kn,getLineStrokeColor:nR,getLineDashForPlayer:tR,formatSkillUsageValue:NR,renderProfessionIcon:Mi}),$t("apm-stats")&&u.jsx(xie,{expandedSection:nn,expandedSectionClosing:on,openExpandedSection:Di,closeExpandedSection:oi,isSectionVisible:$t,isFirstVisibleSection:Qn,sectionClass:Xn,sidebarListClass:js,apmSpecAvailable:sR,skillUsageAvailable:A,apmSpecTables:Qa,activeApmSpec:mt,setActiveApmSpec:Dt,expandedApmSpec:zt,setExpandedApmSpec:qt,activeApmSkillId:Nt,setActiveApmSkillId:Tt,ALL_SKILLS_KEY:eh,apmSkillSearch:Re,setApmSkillSearch:ot,activeApmSpecTable:Gs,activeApmSkill:lR,isAllApmSkills:oR,apmView:Bt,setApmView:Lt,formatApmValue:AR,formatCastRateValue:CR,formatCastCountValue:jR,renderProfessionIcon:Mi})]}),!c&&u.jsx("div",{className:"h-24","aria-hidden":"true"})]})})]})}const Jie="Arcane",eae="CRT",up="MatteSlate",dp="KineticPaper",qd="KineticPaperDark",fp={id:Jie,label:"Arcane",rgb:"136, 116, 255",pattern:"radial-gradient(at 0% 0%, hsla(250, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(220, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 65%, 20%, 1) 0, transparent 70%)"},tae={id:up,label:"Matte Slate",rgb:"93, 163, 194",pattern:"linear-gradient(to bottom, #222629, #222629)"},nae={id:dp,label:"Kinetic Paper",rgb:"154, 133, 99",pattern:"linear-gradient(to bottom, #e9e3d8, #e9e3d8)"},rae={id:qd,label:"Kinetic Paper (Dark)",rgb:"142, 155, 214",pattern:"linear-gradient(to bottom, #2b3048, #2b3048)"},iae=[fp,{id:"Amethyst",label:"Amethyst",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(270, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(260, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 60%, 30%, 1) 0, transparent 70%)"},{id:"Aurora",label:"Aurora",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(160, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 75%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 85%, 15%, 1) 0, transparent 70%)"},{id:"Autumn",label:"Autumn",rgb:"180, 130, 70",pattern:"radial-gradient(at 0% 0%, hsla(30, 65%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 60%, 15%, 1) 0, transparent 70%)"},{id:"Berry",label:"Berry",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(300, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 60%, 25%, 1) 0, transparent 70%)"},{id:"Bubblegum",label:"Bubblegum",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 85%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 75%, 20%, 1) 0, transparent 70%)"},{id:"Cherry",label:"Cherry",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(340, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(0, 60%, 25%, 1) 0, transparent 70%)"},{id:"Cobalt",label:"Cobalt",rgb:"59, 130, 246",pattern:"radial-gradient(at 0% 0%, hsla(220, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 15%, 1) 0, transparent 70%)"},{id:"Coffee",label:"Coffee",rgb:"253, 186, 116",pattern:"radial-gradient(at 0% 0%, hsla(25, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(35, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(30, 50%, 22%, 1) 0, transparent 70%)"},{id:"Cyberpunk",label:"Cyberpunk",rgb:"232, 121, 249",pattern:"radial-gradient(at 0% 0%, hsla(290, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 25%, 1) 0, transparent 70%)"},{id:"Dark Pearl",label:"Dark Pearl",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 30%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 40%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 30%, 25%, 1) 0, transparent 70%)"},{id:"Deep Space",label:"Deep Space",rgb:"99, 102, 241",pattern:"radial-gradient(at 0% 0%, hsla(245, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(300, 70%, 18%, 1) 0, transparent 70%)"},{id:"Electric Storm",label:"Electric Storm",rgb:"56, 189, 248",pattern:"radial-gradient(at 0% 0%, hsla(200, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(180, 80%, 20%, 1) 0, transparent 70%)"},{id:"Emerald",label:"Emerald",rgb:"52, 211, 153",pattern:"radial-gradient(at 0% 0%, hsla(150, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 70%, 25%, 1) 0, transparent 70%)"},{id:"Forest",label:"Forest",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(150, 70%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(120, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 80%, 18%, 1) 0, transparent 70%)"},{id:"Glacier",label:"Glacier",rgb:"125, 211, 252",pattern:"radial-gradient(at 0% 0%, hsla(190, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(210, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 30%, 1) 0, transparent 70%)"},{id:"Gold",label:"Gold",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(40, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 70%, 25%, 1) 0, transparent 70%)"},{id:"Jungle",label:"Jungle",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(145, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(175, 70%, 18%, 1) 0, transparent 70%)"},{id:"Lavender",label:"Lavender",rgb:"167, 139, 250",pattern:"radial-gradient(at 0% 0%, hsla(250, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(290, 50%, 30%, 1) 0, transparent 70%)"},{id:"Mermaid",label:"Mermaid",rgb:"45, 212, 191",pattern:"radial-gradient(at 0% 0%, hsla(175, 75%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 20%, 1) 0, transparent 70%)"},{id:"Midnight",label:"Midnight",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(260, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(320, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 60%, 20%, 1) 0, transparent 70%)"},{id:"Mint",label:"Mint",rgb:"110, 231, 183",pattern:"radial-gradient(at 0% 0%, hsla(160, 60%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(170, 50%, 25%, 1) 0, transparent 70%)"},{id:"Nebula",label:"Nebula",rgb:"196, 181, 253",pattern:"radial-gradient(at 0% 0%, hsla(260, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(310, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 60%, 25%, 1) 0, transparent 70%)"},{id:"Neon Nights",label:"Neon Nights",rgb:"236, 72, 153",pattern:"radial-gradient(at 0% 0%, hsla(330, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 95%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 80%, 18%, 1) 0, transparent 70%)"},{id:"Obsidian",label:"Obsidian",rgb:"226, 232, 240",pattern:"radial-gradient(at 0% 0%, hsla(0, 0%, 5%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 10%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 20%, 15%, 1) 0, transparent 70%)"},{id:"Ocean",label:"Ocean",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(210, 70%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 22%, 1) 0, transparent 70%)"},{id:"Royal",label:"Royal",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 60%, 30%, 1) 0, transparent 70%)"},{id:"Ruby",label:"Ruby",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 70%, 25%, 1) 0, transparent 70%)"},{id:"Sapphire",label:"Sapphire",rgb:"96, 165, 250",pattern:"radial-gradient(at 0% 0%, hsla(220, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(230, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 70%, 25%, 1) 0, transparent 70%)"},{id:"Shadow",label:"Shadow",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 20%, 10%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 10%, 20%, 1) 0, transparent 70%)"},{id:"Slate",label:"Slate",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(210, 30%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 40%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 30%, 30%, 1) 0, transparent 70%)"},{id:"Sunrise",label:"Sunrise",rgb:"251, 113, 133",pattern:"radial-gradient(at 0% 0%, hsla(350, 75%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 18%, 1) 0, transparent 70%)"},{id:"Sunset",label:"Sunset",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(10, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(330, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 50%, 25%, 1) 0, transparent 70%)"},{id:"Toxic",label:"Toxic",rgb:"163, 230, 53",pattern:"radial-gradient(at 0% 0%, hsla(100, 90%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(90, 90%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(120, 80%, 18%, 1) 0, transparent 70%)"},{id:"Tropics",label:"Tropics",rgb:"20, 184, 166",pattern:"radial-gradient(at 0% 0%, hsla(170, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(15, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 75%, 20%, 1) 0, transparent 70%)"},{id:"Ultraviolet",label:"Ultraviolet",rgb:"139, 92, 246",pattern:"radial-gradient(at 0% 0%, hsla(265, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 80%, 20%, 1) 0, transparent 70%)"},{id:"Vaporwave",label:"Vaporwave",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(280, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(170, 90%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 30%, 1) 0, transparent 70%)"},{id:"Volcano",label:"Volcano",rgb:"239, 68, 68",pattern:"radial-gradient(at 0% 0%, hsla(0, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(25, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(350, 75%, 15%, 1) 0, transparent 70%)"},{id:"Wildfire",label:"Wildfire",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(25, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 80%, 15%, 1) 0, transparent 70%)"}],aae={id:eae,label:"CRT Hacker",rgb:"87, 255, 154",pattern:"radial-gradient(circle at 12% 10%, rgba(44, 120, 78, 0.42), transparent 60%), radial-gradient(circle at 88% 22%, rgba(22, 86, 52, 0.38), transparent 62%), linear-gradient(180deg, rgba(5, 12, 8, 0.92), rgba(3, 7, 6, 0.98))"},Id=[...iae,aae,tae,nae,rae];function sae(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const oae=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,lae=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,cae={};function tT(e,t){return(cae.jsx?lae:oae).test(e)}const uae=/[ \t\n\f\r]/g;function dae(e){return typeof e=="object"?e.type==="text"?nT(e.value):!1:nT(e)}function nT(e){return e.replace(uae,"")===""}class Bm{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Bm.prototype.normal={};Bm.prototype.property={};Bm.prototype.space=void 0;function C4(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Bm(n,r,t)}function rw(e){return e.toLowerCase()}class oa{constructor(t,n){this.attribute=n,this.property=t}}oa.prototype.attribute="";oa.prototype.booleanish=!1;oa.prototype.boolean=!1;oa.prototype.commaOrSpaceSeparated=!1;oa.prototype.commaSeparated=!1;oa.prototype.defined=!1;oa.prototype.mustUseProperty=!1;oa.prototype.number=!1;oa.prototype.overloadedBoolean=!1;oa.prototype.property="";oa.prototype.spaceSeparated=!1;oa.prototype.space=void 0;let fae=0;const cn=Oc(),_r=Oc(),iw=Oc(),Qe=Oc(),qn=Oc(),Tu=Oc(),ma=Oc();function Oc(){return 2**++fae}const aw=Object.freeze(Object.defineProperty({__proto__:null,boolean:cn,booleanish:_r,commaOrSpaceSeparated:ma,commaSeparated:Tu,number:Qe,overloadedBoolean:iw,spaceSeparated:qn},Symbol.toStringTag,{value:"Module"})),Ov=Object.keys(aw);class LS extends oa{constructor(t,n,r,i){let a=-1;if(super(t,n),rT(this,"space",i),typeof r=="number")for(;++a<Ov.length;){const s=Ov[a];rT(this,Ov[a],(r&aw[s])===aw[s])}}}LS.prototype.defined=!0;function rT(e,t,n){n&&(e[t]=n)}function ud(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const a=new LS(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[rw(r)]=r,n[rw(a.attribute)]=r}return new Bm(t,n,e.space)}const j4=ud({properties:{ariaActiveDescendant:null,ariaAtomic:_r,ariaAutoComplete:null,ariaBusy:_r,ariaChecked:_r,ariaColCount:Qe,ariaColIndex:Qe,ariaColSpan:Qe,ariaControls:qn,ariaCurrent:null,ariaDescribedBy:qn,ariaDetails:null,ariaDisabled:_r,ariaDropEffect:qn,ariaErrorMessage:null,ariaExpanded:_r,ariaFlowTo:qn,ariaGrabbed:_r,ariaHasPopup:null,ariaHidden:_r,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:qn,ariaLevel:Qe,ariaLive:null,ariaModal:_r,ariaMultiLine:_r,ariaMultiSelectable:_r,ariaOrientation:null,ariaOwns:qn,ariaPlaceholder:null,ariaPosInSet:Qe,ariaPressed:_r,ariaReadOnly:_r,ariaRelevant:null,ariaRequired:_r,ariaRoleDescription:qn,ariaRowCount:Qe,ariaRowIndex:Qe,ariaRowSpan:Qe,ariaSelected:_r,ariaSetSize:Qe,ariaSort:null,ariaValueMax:Qe,ariaValueMin:Qe,ariaValueNow:Qe,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function A4(e,t){return t in e?e[t]:t}function P4(e,t){return A4(e,t.toLowerCase())}const mae=ud({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Tu,acceptCharset:qn,accessKey:qn,action:null,allow:null,allowFullScreen:cn,allowPaymentRequest:cn,allowUserMedia:cn,alt:null,as:null,async:cn,autoCapitalize:null,autoComplete:qn,autoFocus:cn,autoPlay:cn,blocking:qn,capture:null,charSet:null,checked:cn,cite:null,className:qn,cols:Qe,colSpan:null,content:null,contentEditable:_r,controls:cn,controlsList:qn,coords:Qe|Tu,crossOrigin:null,data:null,dateTime:null,decoding:null,default:cn,defer:cn,dir:null,dirName:null,disabled:cn,download:iw,draggable:_r,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:cn,formTarget:null,headers:qn,height:Qe,hidden:iw,high:Qe,href:null,hrefLang:null,htmlFor:qn,httpEquiv:qn,id:null,imageSizes:null,imageSrcSet:null,inert:cn,inputMode:null,integrity:null,is:null,isMap:cn,itemId:null,itemProp:qn,itemRef:qn,itemScope:cn,itemType:qn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:cn,low:Qe,manifest:null,max:null,maxLength:Qe,media:null,method:null,min:null,minLength:Qe,multiple:cn,muted:cn,name:null,nonce:null,noModule:cn,noValidate:cn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:cn,optimum:Qe,pattern:null,ping:qn,placeholder:null,playsInline:cn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:cn,referrerPolicy:null,rel:qn,required:cn,reversed:cn,rows:Qe,rowSpan:Qe,sandbox:qn,scope:null,scoped:cn,seamless:cn,selected:cn,shadowRootClonable:cn,shadowRootDelegatesFocus:cn,shadowRootMode:null,shape:null,size:Qe,sizes:null,slot:null,span:Qe,spellCheck:_r,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Qe,step:null,style:null,tabIndex:Qe,target:null,title:null,translate:null,type:null,typeMustMatch:cn,useMap:null,value:_r,width:Qe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:qn,axis:null,background:null,bgColor:null,border:Qe,borderColor:null,bottomMargin:Qe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:cn,declare:cn,event:null,face:null,frame:null,frameBorder:null,hSpace:Qe,leftMargin:Qe,link:null,longDesc:null,lowSrc:null,marginHeight:Qe,marginWidth:Qe,noResize:cn,noHref:cn,noShade:cn,noWrap:cn,object:null,profile:null,prompt:null,rev:null,rightMargin:Qe,rules:null,scheme:null,scrolling:_r,standby:null,summary:null,text:null,topMargin:Qe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Qe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:cn,disableRemotePlayback:cn,prefix:null,property:null,results:Qe,security:null,unselectable:null},space:"html",transform:P4}),hae=ud({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ma,accentHeight:Qe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Qe,amplitude:Qe,arabicForm:null,ascent:Qe,attributeName:null,attributeType:null,azimuth:Qe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Qe,by:null,calcMode:null,capHeight:Qe,className:qn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Qe,diffuseConstant:Qe,direction:null,display:null,dur:null,divisor:Qe,dominantBaseline:null,download:cn,dx:null,dy:null,edgeMode:null,editable:null,elevation:Qe,enableBackground:null,end:null,event:null,exponent:Qe,externalResourcesRequired:null,fill:null,fillOpacity:Qe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Tu,g2:Tu,glyphName:Tu,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Qe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Qe,horizOriginX:Qe,horizOriginY:Qe,id:null,ideographic:Qe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Qe,k:Qe,k1:Qe,k2:Qe,k3:Qe,k4:Qe,kernelMatrix:ma,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Qe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Qe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Qe,overlineThickness:Qe,paintOrder:null,panose1:null,path:null,pathLength:Qe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:qn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Qe,pointsAtY:Qe,pointsAtZ:Qe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ma,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ma,rev:ma,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ma,requiredFeatures:ma,requiredFonts:ma,requiredFormats:ma,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Qe,specularExponent:Qe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Qe,strikethroughThickness:Qe,string:null,stroke:null,strokeDashArray:ma,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Qe,strokeOpacity:Qe,strokeWidth:null,style:null,surfaceScale:Qe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ma,tabIndex:Qe,tableValues:null,target:null,targetX:Qe,targetY:Qe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ma,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Qe,underlineThickness:Qe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Qe,values:null,vAlphabetic:Qe,vMathematical:Qe,vectorEffect:null,vHanging:Qe,vIdeographic:Qe,version:null,vertAdvY:Qe,vertOriginX:Qe,vertOriginY:Qe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Qe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:A4}),T4=ud({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),E4=ud({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:P4}),D4=ud({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),pae={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},gae=/[A-Z]/g,iT=/-[a-z]/g,xae=/^data[-\w.:]+$/i;function vae(e,t){const n=rw(t);let r=t,i=oa;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&xae.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(iT,bae);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!iT.test(a)){let s=a.replace(gae,yae);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=LS}return new i(r,t)}function yae(e){return"-"+e.toLowerCase()}function bae(e){return e.charAt(1).toUpperCase()}const wae=C4([j4,mae,T4,E4,D4],"html"),$S=C4([j4,hae,T4,E4,D4],"svg");function kae(e){return e.join(" ").trim()}var FS={},aT=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Sae=/\n/g,Nae=/^\s*/,Cae=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,jae=/^:\s*/,Aae=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Pae=/^[;\s]*/,Tae=/^\s+|\s+$/g,Eae=`
`,sT="/",oT="*",Yl="",Dae="comment",Mae="declaration";function Oae(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var g=p.match(Sae);g&&(n+=g.length);var y=p.lastIndexOf(Eae);r=~y?p.length-y:r+p.length}function a(){var p={line:n,column:r};return function(g){return g.position=new s(p),c(),g}}function s(p){this.start=p,this.end={line:n,column:r},this.source=t.source}s.prototype.content=e;function o(p){var g=new Error(t.source+":"+n+":"+r+": "+p);if(g.reason=p,g.filename=t.source,g.line=n,g.column=r,g.source=e,!t.silent)throw g}function l(p){var g=p.exec(e);if(g){var y=g[0];return i(y),e=e.slice(y.length),g}}function c(){l(Nae)}function d(p){var g;for(p=p||[];g=f();)g!==!1&&p.push(g);return p}function f(){var p=a();if(!(sT!=e.charAt(0)||oT!=e.charAt(1))){for(var g=2;Yl!=e.charAt(g)&&(oT!=e.charAt(g)||sT!=e.charAt(g+1));)++g;if(g+=2,Yl===e.charAt(g-1))return o("End of comment missing");var y=e.slice(2,g-2);return r+=2,i(y),e=e.slice(g),r+=2,p({type:Dae,comment:y})}}function h(){var p=a(),g=l(Cae);if(g){if(f(),!l(jae))return o("property missing ':'");var y=l(Aae),x=p({type:Mae,property:lT(g[0].replace(aT,Yl)),value:y?lT(y[0].replace(aT,Yl)):Yl});return l(Pae),x}}function m(){var p=[];d(p);for(var g;g=h();)g!==!1&&(p.push(g),d(p));return p}return c(),m()}function lT(e){return e?e.replace(Tae,Yl):Yl}var Iae=Oae,_ae=xp&&xp.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(FS,"__esModule",{value:!0});FS.default=$ae;const Lae=_ae(Iae);function $ae(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,Lae.default)(e),i=typeof t=="function";return r.forEach(a=>{if(a.type!=="declaration")return;const{property:s,value:o}=a;i?t(s,o,a):o&&(n=n||{},n[s]=o)}),n}var xx={};Object.defineProperty(xx,"__esModule",{value:!0});xx.camelCase=void 0;var Fae=/^--[a-zA-Z0-9_-]+$/,Rae=/-([a-z])/g,Bae=/^[^-]+$/,zae=/^-(webkit|moz|ms|o|khtml)-/,Uae=/^-(ms)-/,Vae=function(e){return!e||Bae.test(e)||Fae.test(e)},Wae=function(e,t){return t.toUpperCase()},cT=function(e,t){return"".concat(t,"-")},Hae=function(e,t){return t===void 0&&(t={}),Vae(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Uae,cT):e=e.replace(zae,cT),e.replace(Rae,Wae))};xx.camelCase=Hae;var qae=xp&&xp.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Kae=qae(FS),Gae=xx;function sw(e,t){var n={};return!e||typeof e!="string"||(0,Kae.default)(e,function(r,i){r&&i&&(n[(0,Gae.camelCase)(r,t)]=i)}),n}sw.default=sw;var Yae=sw;const Xae=ys(Yae),M4=O4("end"),RS=O4("start");function O4(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Qae(e){const t=RS(e),n=M4(e);if(t&&n)return{start:t,end:n}}function sf(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?uT(e.position):"start"in e||"end"in e?uT(e):"line"in e||"column"in e?ow(e):""}function ow(e){return dT(e&&e.line)+":"+dT(e&&e.column)}function uT(e){return ow(e&&e.start)+"-"+ow(e&&e.end)}function dT(e){return e&&typeof e=="number"?e:1}class Ai extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},s=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?i=t:!a.cause&&t&&(s=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?a.ruleId=r:(a.source=r.slice(0,l),a.ruleId=r.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=sf(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ai.prototype.file="";Ai.prototype.name="";Ai.prototype.reason="";Ai.prototype.message="";Ai.prototype.stack="";Ai.prototype.column=void 0;Ai.prototype.line=void 0;Ai.prototype.ancestors=void 0;Ai.prototype.cause=void 0;Ai.prototype.fatal=void 0;Ai.prototype.place=void 0;Ai.prototype.ruleId=void 0;Ai.prototype.source=void 0;const BS={}.hasOwnProperty,Zae=new Map,Jae=/[A-Z]/g,ese=new Set(["table","tbody","thead","tfoot","tr"]),tse=new Set(["td","th"]),I4="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function nse(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=use(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=cse(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?$S:wae,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=_4(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function _4(e,t,n){if(t.type==="element")return rse(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return ise(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return sse(e,t,n);if(t.type==="mdxjsEsm")return ase(e,t);if(t.type==="root")return ose(e,t,n);if(t.type==="text")return lse(e,t)}function rse(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=$S,e.schema=i),e.ancestors.push(t);const a=$4(e,t.tagName,!1),s=dse(e,t);let o=US(e,t);return ese.has(t.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!dae(l):!0})),L4(e,s,a,t),zS(s,o),e.ancestors.pop(),e.schema=r,e.create(t,a,s,n)}function ise(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Jf(e,t.position)}function ase(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Jf(e,t.position)}function sse(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=$S,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:$4(e,t.name,!0),s=fse(e,t),o=US(e,t);return L4(e,s,a,t),zS(s,o),e.ancestors.pop(),e.schema=r,e.create(t,a,s,n)}function ose(e,t,n){const r={};return zS(r,US(e,t)),e.create(t,e.Fragment,r,n)}function lse(e,t){return t.value}function L4(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function zS(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function cse(e,t,n){return r;function r(i,a,s,o){const c=Array.isArray(s.children)?n:t;return o?c(a,s,o):c(a,s)}}function use(e,t){return n;function n(r,i,a,s){const o=Array.isArray(a.children),l=RS(r);return t(i,a,s,o,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function dse(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&BS.call(t.properties,i)){const a=mse(e,i,t.properties[i]);if(a){const[s,o]=a;e.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&tse.has(t.tagName)?r=o:n[s]=o}}if(r){const a=n.style||(n.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function fse(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const s=a.expression;s.type;const o=s.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else Jf(e,t.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,a=e.evaluater.evaluateExpression(o.expression)}else Jf(e,t.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function US(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:Zae;for(;++r<t.children.length;){const a=t.children[r];let s;if(e.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const c=i.get(l)||0;s=l+"-"+c,i.set(l,c+1)}}const o=_4(e,a,s);o!==void 0&&n.push(o)}return n}function mse(e,t,n){const r=vae(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?sae(n):kae(n)),r.property==="style"){let i=typeof n=="object"?n:hse(e,String(n));return e.stylePropertyNameCase==="css"&&(i=pse(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?pae[r.property]||r.property:r.attribute,n]}}function hse(e,t){try{return Xae(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Ai("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=I4+"#cannot-parse-style-attribute",i}}function $4(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,s;for(;++a<i.length;){const o=tT(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(a&&o.type==="Literal"),optional:!1}:o}r=s}else r=tT(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return BS.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Jf(e)}function Jf(e,t){const n=new Ai("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=I4+"#cannot-handle-mdx-estrees-without-createevaluater",n}function pse(e){const t={};let n;for(n in e)BS.call(e,n)&&(t[gse(n)]=e[n]);return t}function gse(e){let t=e.replace(Jae,xse);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function xse(e){return"-"+e.toLowerCase()}const Iv={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},vse={};function VS(e,t){const n=vse,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return F4(e,r,i)}function F4(e,t,n){if(yse(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return fT(e.children,t,n)}return Array.isArray(e)?fT(e,t,n):""}function fT(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=F4(e[i],t,n);return r.join("")}function yse(e){return!!(e&&typeof e=="object")}const mT=document.createElement("i");function WS(e){const t="&"+e+";";mT.innerHTML=t;const n=mT.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Sa(e,t,n,r){const i=e.length;let a=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(t,0),e.splice(...s),a+=1e4,t+=1e4}function za(e,t){return e.length>0?(Sa(e,e.length,0,t),e):t}const hT={}.hasOwnProperty;function R4(e){const t={};let n=-1;for(;++n<e.length;)bse(t,e[n]);return t}function bse(e,t){let n;for(n in t){const i=(hT.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let s;if(a)for(s in a){hT.call(i,s)||(i[s]=[]);const o=a[s];wse(i[s],Array.isArray(o)?o:o?[o]:[])}}}function wse(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Sa(e,0,0,r)}function B4(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function fs(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const $i=Cl(/[A-Za-z]/),Ci=Cl(/[\dA-Za-z]/),kse=Cl(/[#-'*+\--9=?A-Z^-~]/);function Bg(e){return e!==null&&(e<32||e===127)}const lw=Cl(/\d/),Sse=Cl(/[\dA-Fa-f]/),Nse=Cl(/[!-/:-@[-`{-~]/);function Rt(e){return e!==null&&e<-2}function Un(e){return e!==null&&(e<0||e===32)}function mn(e){return e===-2||e===-1||e===32}const vx=Cl(new RegExp("\\p{P}|\\p{S}","u")),Pc=Cl(/\s/);function Cl(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function dd(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let s="";if(a===37&&Ci(e.charCodeAt(n+1))&&Ci(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=e.charCodeAt(n+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s=""}else s=String.fromCharCode(a);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function vn(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return mn(l)?(e.enter(n),o(l)):t(l)}function o(l){return mn(l)&&a++<i?(e.consume(l),o):(e.exit(n),t(l))}}const Cse={tokenize:jse};function jse(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),vn(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),a(o)}function a(o){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(o)}function s(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return Rt(o)?(e.consume(o),e.exit("chunkText"),a):(e.consume(o),s)}}const Ase={tokenize:Pse},pT={tokenize:Tse};function Pse(e){const t=this,n=[];let r=0,i,a,s;return o;function o(w){if(r<n.length){const k=n[r];return t.containerState=k[1],e.attempt(k[0].continuation,l,c)(w)}return c(w)}function l(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&b();const k=t.events.length;let C=k,N;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){N=t.events[C][1].end;break}x(r);let j=k;for(;j<t.events.length;)t.events[j][1].end={...N},j++;return Sa(t.events,C+1,0,t.events.slice(k)),t.events.length=j,c(w)}return o(w)}function c(w){if(r===n.length){if(!i)return h(w);if(i.currentConstruct&&i.currentConstruct.concrete)return p(w);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(pT,d,f)(w)}function d(w){return i&&b(),x(r),h(w)}function f(w){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,p(w)}function h(w){return t.containerState={},e.attempt(pT,m,p)(w)}function m(w){return r++,n.push([t.currentConstruct,t.containerState]),h(w)}function p(w){if(w===null){i&&b(),x(0),e.consume(w);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),g(w)}function g(w){if(w===null){y(e.exit("chunkFlow"),!0),x(0),e.consume(w);return}return Rt(w)?(e.consume(w),y(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(w),g)}function y(w,k){const C=t.sliceStream(w);if(k&&C.push(null),w.previous=a,a&&(a.next=w),a=w,i.defineSkip(w.start),i.write(C),t.parser.lazy[w.start.line]){let N=i.events.length;for(;N--;)if(i.events[N][1].start.offset<s&&(!i.events[N][1].end||i.events[N][1].end.offset>s))return;const j=t.events.length;let D=j,L,T;for(;D--;)if(t.events[D][0]==="exit"&&t.events[D][1].type==="chunkFlow"){if(L){T=t.events[D][1].end;break}L=!0}for(x(r),N=j;N<t.events.length;)t.events[N][1].end={...T},N++;Sa(t.events,D+1,0,t.events.slice(j)),t.events.length=N}}function x(w){let k=n.length;for(;k-- >w;){const C=n[k];t.containerState=C[1],C[0].exit.call(t,e)}n.length=w}function b(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function Tse(e,t,n){return vn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Gu(e){if(e===null||Un(e)||Pc(e))return 1;if(vx(e))return 2}function yx(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const cw={name:"attention",resolveAll:Ese,tokenize:Dse};function Ese(e,t){let n=-1,r,i,a,s,o,l,c,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},h={...e[n][1].start};gT(f,-l),gT(h,l),s={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},a={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},e[r][1].end={...s.start},e[n][1].start={...o.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=za(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=za(c,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",a,t]]),c=za(c,yx(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=za(c,[["exit",a,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,c=za(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Sa(e,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Dse(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Gu(r);let a;return s;function s(l){return a=l,e.enter("attentionSequence"),o(l)}function o(l){if(l===a)return e.consume(l),o;const c=e.exit("attentionSequence"),d=Gu(l),f=!d||d===2&&i||n.includes(l),h=!i||i===2&&d||n.includes(r);return c._open=!!(a===42?f:f&&(i||!h)),c._close=!!(a===42?h:h&&(d||!f)),t(l)}}function gT(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Mse={name:"autolink",tokenize:Ose};function Ose(e,t,n){let r=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(m){return $i(m)?(e.consume(m),s):m===64?n(m):c(m)}function s(m){return m===43||m===45||m===46||Ci(m)?(r=1,o(m)):c(m)}function o(m){return m===58?(e.consume(m),r=0,l):(m===43||m===45||m===46||Ci(m))&&r++<32?(e.consume(m),o):(r=0,c(m))}function l(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||Bg(m)?n(m):(e.consume(m),l)}function c(m){return m===64?(e.consume(m),d):kse(m)?(e.consume(m),c):n(m)}function d(m){return Ci(m)?f(m):n(m)}function f(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):h(m)}function h(m){if((m===45||Ci(m))&&r++<63){const p=m===45?h:f;return e.consume(m),p}return n(m)}}const zm={partial:!0,tokenize:Ise};function Ise(e,t,n){return r;function r(a){return mn(a)?vn(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||Rt(a)?t(a):n(a)}}const z4={continuation:{tokenize:Lse},exit:$se,name:"blockQuote",tokenize:_se};function _se(e,t,n){const r=this;return i;function i(s){if(s===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),a}return n(s)}function a(s){return mn(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function Lse(e,t,n){const r=this;return i;function i(s){return mn(s)?vn(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return e.attempt(z4,t,n)(s)}}function $se(e){e.exit("blockQuote")}const U4={name:"characterEscape",tokenize:Fse};function Fse(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return Nse(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const V4={name:"characterReference",tokenize:Rse};function Rse(e,t,n){const r=this;let i=0,a,s;return o;function o(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),a=31,s=Ci,d(f))}function c(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,s=Sse,d):(e.enter("characterReferenceValue"),a=7,s=lw,d(f))}function d(f){if(f===59&&i){const h=e.exit("characterReferenceValue");return s===Ci&&!WS(r.sliceSerialize(h))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(f)&&i++<a?(e.consume(f),d):n(f)}}const xT={partial:!0,tokenize:zse},vT={concrete:!0,name:"codeFenced",tokenize:Bse};function Bse(e,t,n){const r=this,i={partial:!0,tokenize:C};let a=0,s=0,o;return l;function l(N){return c(N)}function c(N){const j=r.events[r.events.length-1];return a=j&&j[1].type==="linePrefix"?j[2].sliceSerialize(j[1],!0).length:0,o=N,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(N)}function d(N){return N===o?(s++,e.consume(N),d):s<3?n(N):(e.exit("codeFencedFenceSequence"),mn(N)?vn(e,f,"whitespace")(N):f(N))}function f(N){return N===null||Rt(N)?(e.exit("codeFencedFence"),r.interrupt?t(N):e.check(xT,g,k)(N)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(N))}function h(N){return N===null||Rt(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(N)):mn(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),vn(e,m,"whitespace")(N)):N===96&&N===o?n(N):(e.consume(N),h)}function m(N){return N===null||Rt(N)?f(N):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(N))}function p(N){return N===null||Rt(N)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(N)):N===96&&N===o?n(N):(e.consume(N),p)}function g(N){return e.attempt(i,k,y)(N)}function y(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),x}function x(N){return a>0&&mn(N)?vn(e,b,"linePrefix",a+1)(N):b(N)}function b(N){return N===null||Rt(N)?e.check(xT,g,k)(N):(e.enter("codeFlowValue"),w(N))}function w(N){return N===null||Rt(N)?(e.exit("codeFlowValue"),b(N)):(e.consume(N),w)}function k(N){return e.exit("codeFenced"),t(N)}function C(N,j,D){let L=0;return T;function T(ae){return N.enter("lineEnding"),N.consume(ae),N.exit("lineEnding"),M}function M(ae){return N.enter("codeFencedFence"),mn(ae)?vn(N,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ae):O(ae)}function O(ae){return ae===o?(N.enter("codeFencedFenceSequence"),Q(ae)):D(ae)}function Q(ae){return ae===o?(L++,N.consume(ae),Q):L>=s?(N.exit("codeFencedFenceSequence"),mn(ae)?vn(N,ee,"whitespace")(ae):ee(ae)):D(ae)}function ee(ae){return ae===null||Rt(ae)?(N.exit("codeFencedFence"),j(ae)):D(ae)}}}function zse(e,t,n){const r=this;return i;function i(s){return s===null?n(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}const _v={name:"codeIndented",tokenize:Vse},Use={partial:!0,tokenize:Wse};function Vse(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),vn(e,a,"linePrefix",5)(c)}function a(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?s(c):n(c)}function s(c){return c===null?l(c):Rt(c)?e.attempt(Use,s,l)(c):(e.enter("codeFlowValue"),o(c))}function o(c){return c===null||Rt(c)?(e.exit("codeFlowValue"),s(c)):(e.consume(c),o)}function l(c){return e.exit("codeIndented"),t(c)}}function Wse(e,t,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):Rt(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):vn(e,a,"linePrefix",5)(s)}function a(s){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):Rt(s)?i(s):n(s)}}const Hse={name:"codeText",previous:Kse,resolve:qse,tokenize:Gse};function qse(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function Kse(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Gse(e,t,n){let r=0,i,a;return s;function s(f){return e.enter("codeText"),e.enter("codeTextSequence"),o(f)}function o(f){return f===96?(e.consume(f),r++,o):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(a=e.enter("codeTextSequence"),i=0,d(f)):Rt(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||Rt(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),c)}function d(f){return f===96?(e.consume(f),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(a.type="codeTextData",c(f))}}class Yse{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&_d(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),_d(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),_d(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);_d(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);_d(this.left,n.reverse())}}}function _d(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function W4(e){const t={};let n=-1,r,i,a,s,o,l,c;const d=new Yse(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Xse(d,n)),n=t[n],c=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(s=d.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},o=d.slice(i,n),o.unshift(r),d.splice(i,n-i+1,o))}}return Sa(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function Xse(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const a=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const o=s.events,l=[],c={};let d,f,h=-1,m=n,p=0,g=0;const y=[g];for(;m;){for(;e.get(++i)[1]!==m;);a.push(i),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),f&&s.defineSkip(m.start),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(d),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(g=h+1,y.push(g),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(s.events=[],m?(m._tokenizer=void 0,m.previous=void 0):y.pop(),h=y.length;h--;){const x=o.slice(y[h],y[h+1]),b=a.pop();l.push([b,b+x.length-1]),e.splice(b,2,x)}for(l.reverse(),h=-1;++h<l.length;)c[p+l[h][0]]=p+l[h][1],p+=l[h][1]-l[h][0]-1;return c}const Qse={resolve:Jse,tokenize:eoe},Zse={partial:!0,tokenize:toe};function Jse(e){return W4(e),e}function eoe(e,t){let n;return r;function r(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):Rt(o)?e.check(Zse,s,a)(o):(e.consume(o),i)}function a(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function s(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function toe(e,t,n){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),vn(e,a,"linePrefix")}function a(s){if(s===null||Rt(s))return n(s);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function H4(e,t,n,r,i,a,s,o,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(x){return x===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(x),e.exit(a),h):x===null||x===32||x===41||Bg(x)?n(x):(e.enter(r),e.enter(s),e.enter(o),e.enter("chunkString",{contentType:"string"}),g(x))}function h(x){return x===62?(e.enter(a),e.consume(x),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),m(x))}function m(x){return x===62?(e.exit("chunkString"),e.exit(o),h(x)):x===null||x===60||Rt(x)?n(x):(e.consume(x),x===92?p:m)}function p(x){return x===60||x===62||x===92?(e.consume(x),m):m(x)}function g(x){return!d&&(x===null||x===41||Un(x))?(e.exit("chunkString"),e.exit(o),e.exit(s),e.exit(r),t(x)):d<c&&x===40?(e.consume(x),d++,g):x===41?(e.consume(x),d--,g):x===null||x===32||x===40||Bg(x)?n(x):(e.consume(x),x===92?y:g)}function y(x){return x===40||x===41||x===92?(e.consume(x),g):g(x)}}function q4(e,t,n,r,i,a){const s=this;let o=0,l;return c;function c(m){return e.enter(r),e.enter(i),e.consume(m),e.exit(i),e.enter(a),d}function d(m){return o>999||m===null||m===91||m===93&&!l||m===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?n(m):m===93?(e.exit(a),e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):Rt(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||Rt(m)||o++>999?(e.exit("chunkString"),d(m)):(e.consume(m),l||(l=!mn(m)),m===92?h:f)}function h(m){return m===91||m===92||m===93?(e.consume(m),o++,f):f(m)}}function K4(e,t,n,r,i,a){let s;return o;function o(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),s=h===40?41:h,l):n(h)}function l(h){return h===s?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(a),c(h))}function c(h){return h===s?(e.exit(a),l(s)):h===null?n(h):Rt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),vn(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===s||h===null||Rt(h)?(e.exit("chunkString"),c(h)):(e.consume(h),h===92?f:d)}function f(h){return h===s||h===92?(e.consume(h),d):d(h)}}function of(e,t){let n;return r;function r(i){return Rt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):mn(i)?vn(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const noe={name:"definition",tokenize:ioe},roe={partial:!0,tokenize:aoe};function ioe(e,t,n){const r=this;let i;return a;function a(m){return e.enter("definition"),s(m)}function s(m){return q4.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function o(m){return i=fs(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),l):n(m)}function l(m){return Un(m)?of(e,c)(m):c(m)}function c(m){return H4(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(roe,f,f)(m)}function f(m){return mn(m)?vn(e,h,"whitespace")(m):h(m)}function h(m){return m===null||Rt(m)?(e.exit("definition"),r.parser.defined.push(i),t(m)):n(m)}}function aoe(e,t,n){return r;function r(o){return Un(o)?of(e,i)(o):n(o)}function i(o){return K4(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return mn(o)?vn(e,s,"whitespace")(o):s(o)}function s(o){return o===null||Rt(o)?t(o):n(o)}}const soe={name:"hardBreakEscape",tokenize:ooe};function ooe(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return Rt(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const loe={name:"headingAtx",resolve:coe,tokenize:uoe};function coe(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Sa(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function uoe(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),a(d)}function a(d){return e.enter("atxHeadingSequence"),s(d)}function s(d){return d===35&&r++<6?(e.consume(d),s):d===null||Un(d)?(e.exit("atxHeadingSequence"),o(d)):n(d)}function o(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||Rt(d)?(e.exit("atxHeading"),t(d)):mn(d)?vn(e,o,"whitespace")(d):(e.enter("atxHeadingText"),c(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),o(d))}function c(d){return d===null||d===35||Un(d)?(e.exit("atxHeadingText"),o(d)):(e.consume(d),c)}}const doe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],yT=["pre","script","style","textarea"],foe={concrete:!0,name:"htmlFlow",resolveTo:poe,tokenize:goe},moe={partial:!0,tokenize:voe},hoe={partial:!0,tokenize:xoe};function poe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function goe(e,t,n){const r=this;let i,a,s,o,l;return c;function c(S){return d(S)}function d(S){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(S),f}function f(S){return S===33?(e.consume(S),h):S===47?(e.consume(S),a=!0,g):S===63?(e.consume(S),i=3,r.interrupt?t:E):$i(S)?(e.consume(S),s=String.fromCharCode(S),y):n(S)}function h(S){return S===45?(e.consume(S),i=2,m):S===91?(e.consume(S),i=5,o=0,p):$i(S)?(e.consume(S),i=4,r.interrupt?t:E):n(S)}function m(S){return S===45?(e.consume(S),r.interrupt?t:E):n(S)}function p(S){const U="CDATA[";return S===U.charCodeAt(o++)?(e.consume(S),o===U.length?r.interrupt?t:O:p):n(S)}function g(S){return $i(S)?(e.consume(S),s=String.fromCharCode(S),y):n(S)}function y(S){if(S===null||S===47||S===62||Un(S)){const U=S===47,q=s.toLowerCase();return!U&&!a&&yT.includes(q)?(i=1,r.interrupt?t(S):O(S)):doe.includes(s.toLowerCase())?(i=6,U?(e.consume(S),x):r.interrupt?t(S):O(S)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(S):a?b(S):w(S))}return S===45||Ci(S)?(e.consume(S),s+=String.fromCharCode(S),y):n(S)}function x(S){return S===62?(e.consume(S),r.interrupt?t:O):n(S)}function b(S){return mn(S)?(e.consume(S),b):T(S)}function w(S){return S===47?(e.consume(S),T):S===58||S===95||$i(S)?(e.consume(S),k):mn(S)?(e.consume(S),w):T(S)}function k(S){return S===45||S===46||S===58||S===95||Ci(S)?(e.consume(S),k):C(S)}function C(S){return S===61?(e.consume(S),N):mn(S)?(e.consume(S),C):w(S)}function N(S){return S===null||S===60||S===61||S===62||S===96?n(S):S===34||S===39?(e.consume(S),l=S,j):mn(S)?(e.consume(S),N):D(S)}function j(S){return S===l?(e.consume(S),l=null,L):S===null||Rt(S)?n(S):(e.consume(S),j)}function D(S){return S===null||S===34||S===39||S===47||S===60||S===61||S===62||S===96||Un(S)?C(S):(e.consume(S),D)}function L(S){return S===47||S===62||mn(S)?w(S):n(S)}function T(S){return S===62?(e.consume(S),M):n(S)}function M(S){return S===null||Rt(S)?O(S):mn(S)?(e.consume(S),M):n(S)}function O(S){return S===45&&i===2?(e.consume(S),de):S===60&&i===1?(e.consume(S),Z):S===62&&i===4?(e.consume(S),A):S===63&&i===3?(e.consume(S),E):S===93&&i===5?(e.consume(S),_):Rt(S)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(moe,te,Q)(S)):S===null||Rt(S)?(e.exit("htmlFlowData"),Q(S)):(e.consume(S),O)}function Q(S){return e.check(hoe,ee,te)(S)}function ee(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),ae}function ae(S){return S===null||Rt(S)?Q(S):(e.enter("htmlFlowData"),O(S))}function de(S){return S===45?(e.consume(S),E):O(S)}function Z(S){return S===47?(e.consume(S),s="",Y):O(S)}function Y(S){if(S===62){const U=s.toLowerCase();return yT.includes(U)?(e.consume(S),A):O(S)}return $i(S)&&s.length<8?(e.consume(S),s+=String.fromCharCode(S),Y):O(S)}function _(S){return S===93?(e.consume(S),E):O(S)}function E(S){return S===62?(e.consume(S),A):S===45&&i===2?(e.consume(S),E):O(S)}function A(S){return S===null||Rt(S)?(e.exit("htmlFlowData"),te(S)):(e.consume(S),A)}function te(S){return e.exit("htmlFlow"),t(S)}}function xoe(e,t,n){const r=this;return i;function i(s){return Rt(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a):n(s)}function a(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}function voe(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(zm,t,n)}}const yoe={name:"htmlText",tokenize:boe};function boe(e,t,n){const r=this;let i,a,s;return o;function o(E){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(E),l}function l(E){return E===33?(e.consume(E),c):E===47?(e.consume(E),C):E===63?(e.consume(E),w):$i(E)?(e.consume(E),D):n(E)}function c(E){return E===45?(e.consume(E),d):E===91?(e.consume(E),a=0,p):$i(E)?(e.consume(E),b):n(E)}function d(E){return E===45?(e.consume(E),m):n(E)}function f(E){return E===null?n(E):E===45?(e.consume(E),h):Rt(E)?(s=f,Z(E)):(e.consume(E),f)}function h(E){return E===45?(e.consume(E),m):f(E)}function m(E){return E===62?de(E):E===45?h(E):f(E)}function p(E){const A="CDATA[";return E===A.charCodeAt(a++)?(e.consume(E),a===A.length?g:p):n(E)}function g(E){return E===null?n(E):E===93?(e.consume(E),y):Rt(E)?(s=g,Z(E)):(e.consume(E),g)}function y(E){return E===93?(e.consume(E),x):g(E)}function x(E){return E===62?de(E):E===93?(e.consume(E),x):g(E)}function b(E){return E===null||E===62?de(E):Rt(E)?(s=b,Z(E)):(e.consume(E),b)}function w(E){return E===null?n(E):E===63?(e.consume(E),k):Rt(E)?(s=w,Z(E)):(e.consume(E),w)}function k(E){return E===62?de(E):w(E)}function C(E){return $i(E)?(e.consume(E),N):n(E)}function N(E){return E===45||Ci(E)?(e.consume(E),N):j(E)}function j(E){return Rt(E)?(s=j,Z(E)):mn(E)?(e.consume(E),j):de(E)}function D(E){return E===45||Ci(E)?(e.consume(E),D):E===47||E===62||Un(E)?L(E):n(E)}function L(E){return E===47?(e.consume(E),de):E===58||E===95||$i(E)?(e.consume(E),T):Rt(E)?(s=L,Z(E)):mn(E)?(e.consume(E),L):de(E)}function T(E){return E===45||E===46||E===58||E===95||Ci(E)?(e.consume(E),T):M(E)}function M(E){return E===61?(e.consume(E),O):Rt(E)?(s=M,Z(E)):mn(E)?(e.consume(E),M):L(E)}function O(E){return E===null||E===60||E===61||E===62||E===96?n(E):E===34||E===39?(e.consume(E),i=E,Q):Rt(E)?(s=O,Z(E)):mn(E)?(e.consume(E),O):(e.consume(E),ee)}function Q(E){return E===i?(e.consume(E),i=void 0,ae):E===null?n(E):Rt(E)?(s=Q,Z(E)):(e.consume(E),Q)}function ee(E){return E===null||E===34||E===39||E===60||E===61||E===96?n(E):E===47||E===62||Un(E)?L(E):(e.consume(E),ee)}function ae(E){return E===47||E===62||Un(E)?L(E):n(E)}function de(E){return E===62?(e.consume(E),e.exit("htmlTextData"),e.exit("htmlText"),t):n(E)}function Z(E){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),Y}function Y(E){return mn(E)?vn(e,_,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):_(E)}function _(E){return e.enter("htmlTextData"),s(E)}}const HS={name:"labelEnd",resolveAll:Noe,resolveTo:Coe,tokenize:joe},woe={tokenize:Aoe},koe={tokenize:Poe},Soe={tokenize:Toe};function Noe(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Sa(e,0,e.length,n),e}function Coe(e,t){let n=e.length,r=0,i,a,s,o;for(;n--;)if(i=e[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[a][1].start},end:{...e[s][1].end}},d={type:"labelText",start:{...e[a+r+2][1].end},end:{...e[s-2][1].start}};return o=[["enter",l,t],["enter",c,t]],o=za(o,e.slice(a+1,a+r+3)),o=za(o,[["enter",d,t]]),o=za(o,yx(t.parser.constructs.insideSpan.null,e.slice(a+r+4,s-3),t)),o=za(o,[["exit",d,t],e[s-2],e[s-1],["exit",c,t]]),o=za(o,e.slice(s+1)),o=za(o,[["exit",l,t]]),Sa(e,a,e.length,o),e}function joe(e,t,n){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return o;function o(h){return a?a._inactive?f(h):(s=r.parser.defined.includes(fs(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),l):n(h)}function l(h){return h===40?e.attempt(woe,d,s?d:f)(h):h===91?e.attempt(koe,d,s?c:f)(h):s?d(h):f(h)}function c(h){return e.attempt(Soe,d,f)(h)}function d(h){return t(h)}function f(h){return a._balanced=!0,n(h)}}function Aoe(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return Un(f)?of(e,a)(f):a(f)}function a(f){return f===41?d(f):H4(e,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function s(f){return Un(f)?of(e,l)(f):d(f)}function o(f){return n(f)}function l(f){return f===34||f===39||f===40?K4(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function c(f){return Un(f)?of(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function Poe(e,t,n){const r=this;return i;function i(o){return q4.call(r,e,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return r.parser.defined.includes(fs(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function s(o){return n(o)}}function Toe(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const Eoe={name:"labelStartImage",resolveAll:HS.resolveAll,tokenize:Doe};function Doe(e,t,n){const r=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),a}function a(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),s):n(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const Moe={name:"labelStartLink",resolveAll:HS.resolveAll,tokenize:Ooe};function Ooe(e,t,n){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const Lv={name:"lineEnding",tokenize:Ioe};function Ioe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),vn(e,t,"linePrefix")}}const mp={name:"thematicBreak",tokenize:_oe};function _oe(e,t,n){let r=0,i;return a;function a(c){return e.enter("thematicBreak"),s(c)}function s(c){return i=c,o(c)}function o(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||Rt(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===i?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),mn(c)?vn(e,o,"whitespace")(c):o(c))}}const Gi={continuation:{tokenize:Roe},exit:zoe,name:"list",tokenize:Foe},Loe={partial:!0,tokenize:Uoe},$oe={partial:!0,tokenize:Boe};function Foe(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(m){const p=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:lw(m)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(mp,n,c)(m):c(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(m)}return n(m)}function l(m){return lw(m)&&++s<10?(e.consume(m),l):(!r.interrupt||s<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),c(m)):n(m)}function c(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(zm,r.interrupt?n:d,e.attempt(Loe,h,f))}function d(m){return r.containerState.initialBlankLine=!0,a++,h(m)}function f(m){return mn(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),h):n(m)}function h(m){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function Roe(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(zm,i,a);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,vn(e,t,"listItemIndent",r.containerState.size+1)(o)}function a(o){return r.containerState.furtherBlankLines||!mn(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt($oe,t,s)(o))}function s(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,vn(e,e.attempt(Gi,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function Boe(e,t,n){const r=this;return vn(e,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(a):n(a)}}function zoe(e){e.exit(this.containerState.type)}function Uoe(e,t,n){const r=this;return vn(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!mn(a)&&s&&s[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const bT={name:"setextUnderline",resolveTo:Voe,tokenize:Woe};function Voe(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",s,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=s,e.push(["exit",s,t]),e}function Woe(e,t,n){const r=this;let i;return a;function a(c){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=c,s(c)):n(c)}function s(c){return e.enter("setextHeadingLineSequence"),o(c)}function o(c){return c===i?(e.consume(c),o):(e.exit("setextHeadingLineSequence"),mn(c)?vn(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||Rt(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const Hoe={tokenize:qoe};function qoe(e){const t=this,n=e.attempt(zm,r,e.attempt(this.parser.constructs.flowInitial,i,vn(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Qse,i)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Koe={resolveAll:Y4()},Goe=G4("string"),Yoe=G4("text");function G4(e){return{resolveAll:Y4(e==="text"?Xoe:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],a=n.attempt(i,s,o);return s;function s(d){return c(d)?a(d):o(d)}function o(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return c(d)?(n.exit("data"),a(d)):(n.consume(d),l)}function c(d){if(d===null)return!0;const f=i[d];let h=-1;if(f)for(;++h<f.length;){const m=f[h];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function Y4(e){return t;function t(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(n,r):n}}function Xoe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let a=i.length,s=-1,o=0,l;for(;a--;){const c=i[a];if(typeof c=="string"){for(s=c.length;c.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(c===-2)l=!0,o++;else if(c!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(o=0),o){const c={type:n===e.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:r.start._bufferIndex+s,_index:r.start._index+a,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const Qoe={42:Gi,43:Gi,45:Gi,48:Gi,49:Gi,50:Gi,51:Gi,52:Gi,53:Gi,54:Gi,55:Gi,56:Gi,57:Gi,62:z4},Zoe={91:noe},Joe={[-2]:_v,[-1]:_v,32:_v},ele={35:loe,42:mp,45:[bT,mp],60:foe,61:bT,95:mp,96:vT,126:vT},tle={38:V4,92:U4},nle={[-5]:Lv,[-4]:Lv,[-3]:Lv,33:Eoe,38:V4,42:cw,60:[Mse,yoe],91:Moe,92:[soe,U4],93:HS,95:cw,96:Hse},rle={null:[cw,Koe]},ile={null:[42,95]},ale={null:[]},sle=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:ile,contentInitial:Zoe,disable:ale,document:Qoe,flow:ele,flowInitial:Joe,insideSpan:rle,string:tle,text:nle},Symbol.toStringTag,{value:"Module"}));function ole(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let s=[],o=[];const l={attempt:j(C),check:j(N),consume:b,enter:w,exit:k,interrupt:j(N,{interrupt:!0})},c={code:null,containerState:{},defineSkip:g,events:[],now:p,parser:e,previous:null,sliceSerialize:h,sliceStream:m,write:f};let d=t.tokenize.call(c,l);return t.resolveAll&&a.push(t),c;function f(M){return s=za(s,M),y(),s[s.length-1]!==null?[]:(D(t,0),c.events=yx(a,c.events,c),c.events)}function h(M,O){return cle(m(M),O)}function m(M){return lle(s,M)}function p(){const{_bufferIndex:M,_index:O,line:Q,column:ee,offset:ae}=r;return{_bufferIndex:M,_index:O,line:Q,column:ee,offset:ae}}function g(M){i[M.line]=M.column,T()}function y(){let M;for(;r._index<s.length;){const O=s[r._index];if(typeof O=="string")for(M=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===M&&r._bufferIndex<O.length;)x(O.charCodeAt(r._bufferIndex));else x(O)}}function x(M){d=d(M)}function b(M){Rt(M)?(r.line++,r.column=1,r.offset+=M===-3?2:1,T()):M!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=M}function w(M,O){const Q=O||{};return Q.type=M,Q.start=p(),c.events.push(["enter",Q,c]),o.push(Q),Q}function k(M){const O=o.pop();return O.end=p(),c.events.push(["exit",O,c]),O}function C(M,O){D(M,O.from)}function N(M,O){O.restore()}function j(M,O){return Q;function Q(ee,ae,de){let Z,Y,_,E;return Array.isArray(ee)?te(ee):"tokenize"in ee?te([ee]):A(ee);function A(J){return K;function K(re){const F=re!==null&&J[re],W=re!==null&&J.null,ce=[...Array.isArray(F)?F:F?[F]:[],...Array.isArray(W)?W:W?[W]:[]];return te(ce)(re)}}function te(J){return Z=J,Y=0,J.length===0?de:S(J[Y])}function S(J){return K;function K(re){return E=L(),_=J,J.partial||(c.currentConstruct=J),J.name&&c.parser.constructs.disable.null.includes(J.name)?q():J.tokenize.call(O?Object.assign(Object.create(c),O):c,l,U,q)(re)}}function U(J){return M(_,E),ae}function q(J){return E.restore(),++Y<Z.length?S(Z[Y]):de}}}function D(M,O){M.resolveAll&&!a.includes(M)&&a.push(M),M.resolve&&Sa(c.events,O,c.events.length-O,M.resolve(c.events.slice(O),c)),M.resolveTo&&(c.events=M.resolveTo(c.events,c))}function L(){const M=p(),O=c.previous,Q=c.currentConstruct,ee=c.events.length,ae=Array.from(o);return{from:ee,restore:de};function de(){r=M,c.previous=O,c.currentConstruct=Q,c.events.length=ee,o=ae,T()}}function T(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function lle(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let s;if(n===i)s=[e[n].slice(r,a)];else{if(s=e.slice(n,i),r>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(r):s.shift()}a>0&&s.push(e[i].slice(0,a))}return s}function cle(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}function ule(e){const r={constructs:R4([sle,...(e||{}).extensions||[]]),content:i(Cse),defined:[],document:i(Ase),flow:i(Hoe),lazy:{},string:i(Goe),text:i(Yoe)};return r;function i(a){return s;function s(o){return ole(r,a,o)}}}function dle(e){for(;!W4(e););return e}const wT=/[\0\t\n\r]/g;function fle(){let e=1,t="",n=!0,r;return i;function i(a,s,o){const l=[];let c,d,f,h,m;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),f=0,t="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(wT.lastIndex=f,c=wT.exec(a),h=c&&c.index!==void 0?c.index:a.length,m=a.charCodeAt(h),!c){t=a.slice(f);break}if(m===10&&f===h&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<h&&(l.push(a.slice(f,h)),e+=h-f),m){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=h+1}return o&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const mle=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function hle(e){return e.replace(mle,ple)}function ple(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return B4(n.slice(a?2:1),a?16:10)}return WS(n)||e}const X4={}.hasOwnProperty;function gle(e,t,n){return typeof t!="string"&&(n=t,t=void 0),xle(n)(dle(ule(n).document().write(fle()(e,t,!0))))}function xle(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(le),autolinkProtocol:L,autolinkEmail:L,atxHeading:a(I),blockQuote:a(W),characterEscape:L,characterReference:L,codeFenced:a(ce),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(ce,s),codeText:a(ie,s),codeTextData:L,data:L,codeFlowValue:L,definition:a($),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(z),hardBreakEscape:a(ne),hardBreakTrailing:a(ne),htmlFlow:a(Se,s),htmlFlowData:L,htmlText:a(Se,s),htmlTextData:L,image:a(We),label:s,link:a(le),listItem:a(Oe),listItemValue:h,listOrdered:a($e,f),listUnordered:a($e),paragraph:a(wt),reference:S,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(I),strong:a(Kt),thematicBreak:a(Mn)},exit:{atxHeading:l(),atxHeadingSequence:C,autolink:l(),autolinkEmail:F,autolinkProtocol:re,blockQuote:l(),characterEscapeValue:T,characterReferenceMarkerHexadecimal:q,characterReferenceMarkerNumeric:q,characterReferenceValue:J,characterReference:K,codeFenced:l(y),codeFencedFence:g,codeFencedFenceInfo:m,codeFencedFenceMeta:p,codeFlowValue:T,codeIndented:l(x),codeText:l(ae),codeTextData:T,data:T,definition:l(),definitionDestinationString:k,definitionLabelString:b,definitionTitleString:w,emphasis:l(),hardBreakEscape:l(O),hardBreakTrailing:l(O),htmlFlow:l(Q),htmlFlowData:T,htmlText:l(ee),htmlTextData:T,image:l(Z),label:_,labelText:Y,lineEnding:M,link:l(de),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:U,resourceDestinationString:E,resourceTitleString:A,resource:te,setextHeading:l(D),setextHeadingLineSequence:j,setextHeadingText:N,strong:l(),thematicBreak:l()}};Q4(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ge){let _e={type:"root",children:[]};const It={stack:[_e],tokenStack:[],config:t,enter:o,exit:c,buffer:s,resume:d,data:n},Ht=[];let gn=-1;for(;++gn<ge.length;)if(ge[gn][1].type==="listOrdered"||ge[gn][1].type==="listUnordered")if(ge[gn][0]==="enter")Ht.push(gn);else{const Mr=Ht.pop();gn=i(ge,Mr,gn)}for(gn=-1;++gn<ge.length;){const Mr=t[ge[gn][0]];X4.call(Mr,ge[gn][1].type)&&Mr[ge[gn][1].type].call(Object.assign({sliceSerialize:ge[gn][2].sliceSerialize},It),ge[gn][1])}if(It.tokenStack.length>0){const Mr=It.tokenStack[It.tokenStack.length-1];(Mr[1]||kT).call(It,void 0,Mr[0])}for(_e.position={start:Bo(ge.length>0?ge[0][1].start:{line:1,column:1,offset:0}),end:Bo(ge.length>0?ge[ge.length-2][1].end:{line:1,column:1,offset:0})},gn=-1;++gn<t.transforms.length;)_e=t.transforms[gn](_e)||_e;return _e}function i(ge,_e,It){let Ht=_e-1,gn=-1,Mr=!1,Pi,Wn,Ta,On;for(;++Ht<=It;){const Yt=ge[Ht];switch(Yt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Yt[0]==="enter"?gn++:gn--,On=void 0;break}case"lineEndingBlank":{Yt[0]==="enter"&&(Pi&&!On&&!gn&&!Ta&&(Ta=Ht),On=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:On=void 0}if(!gn&&Yt[0]==="enter"&&Yt[1].type==="listItemPrefix"||gn===-1&&Yt[0]==="exit"&&(Yt[1].type==="listUnordered"||Yt[1].type==="listOrdered")){if(Pi){let yn=Ht;for(Wn=void 0;yn--;){const pi=ge[yn];if(pi[1].type==="lineEnding"||pi[1].type==="lineEndingBlank"){if(pi[0]==="exit")continue;Wn&&(ge[Wn][1].type="lineEndingBlank",Mr=!0),pi[1].type="lineEnding",Wn=yn}else if(!(pi[1].type==="linePrefix"||pi[1].type==="blockQuotePrefix"||pi[1].type==="blockQuotePrefixWhitespace"||pi[1].type==="blockQuoteMarker"||pi[1].type==="listItemIndent"))break}Ta&&(!Wn||Ta<Wn)&&(Pi._spread=!0),Pi.end=Object.assign({},Wn?ge[Wn][1].start:Yt[1].end),ge.splice(Wn||Ht,0,["exit",Pi,Yt[2]]),Ht++,It++}if(Yt[1].type==="listItemPrefix"){const yn={type:"listItem",_spread:!1,start:Object.assign({},Yt[1].start),end:void 0};Pi=yn,ge.splice(Ht,0,["enter",yn,Yt[2]]),Ht++,It++,Ta=void 0,On=!0}}}return ge[_e][1]._spread=Mr,It}function a(ge,_e){return It;function It(Ht){o.call(this,ge(Ht),Ht),_e&&_e.call(this,Ht)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(ge,_e,It){this.stack[this.stack.length-1].children.push(ge),this.stack.push(ge),this.tokenStack.push([_e,It||void 0]),ge.position={start:Bo(_e.start),end:void 0}}function l(ge){return _e;function _e(It){ge&&ge.call(this,It),c.call(this,It)}}function c(ge,_e){const It=this.stack.pop(),Ht=this.tokenStack.pop();if(Ht)Ht[0].type!==ge.type&&(_e?_e.call(this,ge,Ht[0]):(Ht[1]||kT).call(this,ge,Ht[0]));else throw new Error("Cannot close `"+ge.type+"` ("+sf({start:ge.start,end:ge.end})+"): its not open");It.position.end=Bo(ge.end)}function d(){return VS(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function h(ge){if(this.data.expectingFirstListItemValue){const _e=this.stack[this.stack.length-2];_e.start=Number.parseInt(this.sliceSerialize(ge),10),this.data.expectingFirstListItemValue=void 0}}function m(){const ge=this.resume(),_e=this.stack[this.stack.length-1];_e.lang=ge}function p(){const ge=this.resume(),_e=this.stack[this.stack.length-1];_e.meta=ge}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function y(){const ge=this.resume(),_e=this.stack[this.stack.length-1];_e.value=ge.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const ge=this.resume(),_e=this.stack[this.stack.length-1];_e.value=ge.replace(/(\r?\n|\r)$/g,"")}function b(ge){const _e=this.resume(),It=this.stack[this.stack.length-1];It.label=_e,It.identifier=fs(this.sliceSerialize(ge)).toLowerCase()}function w(){const ge=this.resume(),_e=this.stack[this.stack.length-1];_e.title=ge}function k(){const ge=this.resume(),_e=this.stack[this.stack.length-1];_e.url=ge}function C(ge){const _e=this.stack[this.stack.length-1];if(!_e.depth){const It=this.sliceSerialize(ge).length;_e.depth=It}}function N(){this.data.setextHeadingSlurpLineEnding=!0}function j(ge){const _e=this.stack[this.stack.length-1];_e.depth=this.sliceSerialize(ge).codePointAt(0)===61?1:2}function D(){this.data.setextHeadingSlurpLineEnding=void 0}function L(ge){const It=this.stack[this.stack.length-1].children;let Ht=It[It.length-1];(!Ht||Ht.type!=="text")&&(Ht=dn(),Ht.position={start:Bo(ge.start),end:void 0},It.push(Ht)),this.stack.push(Ht)}function T(ge){const _e=this.stack.pop();_e.value+=this.sliceSerialize(ge),_e.position.end=Bo(ge.end)}function M(ge){const _e=this.stack[this.stack.length-1];if(this.data.atHardBreak){const It=_e.children[_e.children.length-1];It.position.end=Bo(ge.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(_e.type)&&(L.call(this,ge),T.call(this,ge))}function O(){this.data.atHardBreak=!0}function Q(){const ge=this.resume(),_e=this.stack[this.stack.length-1];_e.value=ge}function ee(){const ge=this.resume(),_e=this.stack[this.stack.length-1];_e.value=ge}function ae(){const ge=this.resume(),_e=this.stack[this.stack.length-1];_e.value=ge}function de(){const ge=this.stack[this.stack.length-1];if(this.data.inReference){const _e=this.data.referenceType||"shortcut";ge.type+="Reference",ge.referenceType=_e,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;this.data.referenceType=void 0}function Z(){const ge=this.stack[this.stack.length-1];if(this.data.inReference){const _e=this.data.referenceType||"shortcut";ge.type+="Reference",ge.referenceType=_e,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;this.data.referenceType=void 0}function Y(ge){const _e=this.sliceSerialize(ge),It=this.stack[this.stack.length-2];It.label=hle(_e),It.identifier=fs(_e).toLowerCase()}function _(){const ge=this.stack[this.stack.length-1],_e=this.resume(),It=this.stack[this.stack.length-1];if(this.data.inReference=!0,It.type==="link"){const Ht=ge.children;It.children=Ht}else It.alt=_e}function E(){const ge=this.resume(),_e=this.stack[this.stack.length-1];_e.url=ge}function A(){const ge=this.resume(),_e=this.stack[this.stack.length-1];_e.title=ge}function te(){this.data.inReference=void 0}function S(){this.data.referenceType="collapsed"}function U(ge){const _e=this.resume(),It=this.stack[this.stack.length-1];It.label=_e,It.identifier=fs(this.sliceSerialize(ge)).toLowerCase(),this.data.referenceType="full"}function q(ge){this.data.characterReferenceType=ge.type}function J(ge){const _e=this.sliceSerialize(ge),It=this.data.characterReferenceType;let Ht;It?(Ht=B4(_e,It==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ht=WS(_e);const gn=this.stack[this.stack.length-1];gn.value+=Ht}function K(ge){const _e=this.stack.pop();_e.position.end=Bo(ge.end)}function re(ge){T.call(this,ge);const _e=this.stack[this.stack.length-1];_e.url=this.sliceSerialize(ge)}function F(ge){T.call(this,ge);const _e=this.stack[this.stack.length-1];_e.url="mailto:"+this.sliceSerialize(ge)}function W(){return{type:"blockquote",children:[]}}function ce(){return{type:"code",lang:null,meta:null,value:""}}function ie(){return{type:"inlineCode",value:""}}function $(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function z(){return{type:"emphasis",children:[]}}function I(){return{type:"heading",depth:0,children:[]}}function ne(){return{type:"break"}}function Se(){return{type:"html",value:""}}function We(){return{type:"image",title:null,url:"",alt:null}}function le(){return{type:"link",title:null,url:"",children:[]}}function $e(ge){return{type:"list",ordered:ge.type==="listOrdered",start:null,spread:ge._spread,children:[]}}function Oe(ge){return{type:"listItem",spread:ge._spread,checked:null,children:[]}}function wt(){return{type:"paragraph",children:[]}}function Kt(){return{type:"strong",children:[]}}function dn(){return{type:"text",value:""}}function Mn(){return{type:"thematicBreak"}}}function Bo(e){return{line:e.line,column:e.column,offset:e.offset}}function Q4(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Q4(e,r):vle(e,r)}}function vle(e,t){let n;for(n in t)if(X4.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function kT(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+sf({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+sf({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+sf({start:t.start,end:t.end})+") is still open")}function yle(e){const t=this;t.parser=n;function n(r){return gle(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function ble(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function wle(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function kle(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function Sle(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Nle(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Cle(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=dd(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let s,o=e.footnoteCounts.get(r);o===void 0?(o=0,e.footnoteOrder.push(r),s=e.footnoteOrder.length):s=a+1,o+=1,e.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function jle(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Ale(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function Z4(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function Ple(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Z4(e,t);const i={src:dd(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function Tle(e,t){const n={src:dd(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function Ele(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function Dle(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Z4(e,t);const i={href:dd(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function Mle(e,t){const n={href:dd(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Ole(e,t,n){const r=e.all(t),i=n?Ile(n):J4(t),a={},s=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const d=r[o];(i||o!==0||d.type!=="element"||d.tagName!=="p")&&s.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?s.push(...d.children):s.push(d)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:a,children:s};return e.patch(t,c),e.applyData(t,c)}function Ile(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=J4(n[r])}return t}function J4(e){const t=e.spread;return t??e.children.length>1}function _le(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function Lle(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function $le(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Fle(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Rle(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=RS(t.children[1]),l=M4(t.children[t.children.length-1]);o&&l&&(s.position={start:o,end:l}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function Ble(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,o=s?s.length:t.children.length;let l=-1;const c=[];for(;++l<o;){const f=t.children[l],h={},m=s?s[l]:void 0;m&&(h.align=m);let p={type:"element",tagName:a,properties:h,children:[]};f&&(p.children=e.all(f),e.patch(f,p),p=e.applyData(f,p)),c.push(p)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,d),e.applyData(t,d)}function zle(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const ST=9,NT=32;function Ule(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const a=[];for(;r;)a.push(CT(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(CT(t.slice(i),i>0,!1)),a.join("")}function CT(e,t,n){let r=0,i=e.length;if(t){let a=e.codePointAt(r);for(;a===ST||a===NT;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(i-1);for(;a===ST||a===NT;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function Vle(e,t){const n={type:"text",value:Ule(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Wle(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Hle={blockquote:ble,break:wle,code:kle,delete:Sle,emphasis:Nle,footnoteReference:Cle,heading:jle,html:Ale,imageReference:Ple,image:Tle,inlineCode:Ele,linkReference:Dle,link:Mle,listItem:Ole,list:_le,paragraph:Lle,root:$le,strong:Fle,table:Rle,tableCell:zle,tableRow:Ble,text:Vle,thematicBreak:Wle,toml:Fh,yaml:Fh,definition:Fh,footnoteDefinition:Fh};function Fh(){}const e$=-1,bx=0,lf=1,zg=2,qS=3,KS=4,GS=5,YS=6,t$=7,n$=8,jT=typeof self=="object"?self:globalThis,qle=(e,t)=>{const n=(i,a)=>(e.set(a,i),i),r=i=>{if(e.has(i))return e.get(i);const[a,s]=t[i];switch(a){case bx:case e$:return n(s,i);case lf:{const o=n([],i);for(const l of s)o.push(r(l));return o}case zg:{const o=n({},i);for(const[l,c]of s)o[r(l)]=r(c);return o}case qS:return n(new Date(s),i);case KS:{const{source:o,flags:l}=s;return n(new RegExp(o,l),i)}case GS:{const o=n(new Map,i);for(const[l,c]of s)o.set(r(l),r(c));return o}case YS:{const o=n(new Set,i);for(const l of s)o.add(r(l));return o}case t$:{const{name:o,message:l}=s;return n(new jT[o](l),i)}case n$:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return n(new DataView(o),s)}}return n(new jT[a](s),i)};return r},AT=e=>qle(new Map,e)(0),Zc="",{toString:Kle}={},{keys:Gle}=Object,Ld=e=>{const t=typeof e;if(t!=="object"||!e)return[bx,t];const n=Kle.call(e).slice(8,-1);switch(n){case"Array":return[lf,Zc];case"Object":return[zg,Zc];case"Date":return[qS,Zc];case"RegExp":return[KS,Zc];case"Map":return[GS,Zc];case"Set":return[YS,Zc];case"DataView":return[lf,n]}return n.includes("Array")?[lf,n]:n.includes("Error")?[t$,n]:[zg,n]},Rh=([e,t])=>e===bx&&(t==="function"||t==="symbol"),Yle=(e,t,n,r)=>{const i=(s,o)=>{const l=r.push(s)-1;return n.set(o,l),l},a=s=>{if(n.has(s))return n.get(s);let[o,l]=Ld(s);switch(o){case bx:{let d=s;switch(l){case"bigint":o=n$,d=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([e$],s)}return i([o,d],s)}case lf:{if(l){let h=s;return l==="DataView"?h=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(h=new Uint8Array(s)),i([l,[...h]],s)}const d=[],f=i([o,d],s);for(const h of s)d.push(a(h));return f}case zg:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(t&&"toJSON"in s)return a(s.toJSON());const d=[],f=i([o,d],s);for(const h of Gle(s))(e||!Rh(Ld(s[h])))&&d.push([a(h),a(s[h])]);return f}case qS:return i([o,s.toISOString()],s);case KS:{const{source:d,flags:f}=s;return i([o,{source:d,flags:f}],s)}case GS:{const d=[],f=i([o,d],s);for(const[h,m]of s)(e||!(Rh(Ld(h))||Rh(Ld(m))))&&d.push([a(h),a(m)]);return f}case YS:{const d=[],f=i([o,d],s);for(const h of s)(e||!Rh(Ld(h)))&&d.push(a(h));return f}}const{message:c}=s;return i([o,{name:l,message:c}],s)};return a},PT=(e,{json:t,lossy:n}={})=>{const r=[];return Yle(!(t||n),!!t,new Map,r)(e),r},Ug=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?AT(PT(e,t)):structuredClone(e):(e,t)=>AT(PT(e,t));function Xle(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Qle(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Zle(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Xle,r=e.options.footnoteBackLabel||Qle,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const d=e.all(c),f=String(c.identifier).toUpperCase(),h=dd(f.toLowerCase());let m=0;const p=[],g=e.footnoteCounts.get(f);for(;g!==void 0&&++m<=g;){p.length>0&&p.push({type:"text",value:" "});let b=typeof n=="string"?n:n(l,m);typeof b=="string"&&(b={type:"text",value:b}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const y=d[d.length-1];if(y&&y.type==="element"&&y.tagName==="p"){const b=y.children[y.children.length-1];b&&b.type==="text"?b.value+=" ":y.children.push({type:"text",value:" "}),y.children.push(...p)}else d.push(...p);const x={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(d,!0)};e.patch(c,x),o.push(x)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Ug(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const wx=function(e){if(e==null)return nce;if(typeof e=="function")return kx(e);if(typeof e=="object")return Array.isArray(e)?Jle(e):ece(e);if(typeof e=="string")return tce(e);throw new Error("Expected function, string, or object as test")};function Jle(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=wx(e[n]);return kx(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function ece(e){const t=e;return kx(n);function n(r){const i=r;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function tce(e){return kx(t);function t(n){return n&&n.type===e}}function kx(e){return t;function t(n,r,i){return!!(rce(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function nce(){return!0}function rce(e){return e!==null&&typeof e=="object"&&"type"in e}const r$=[],ice=!0,uw=!1,ace="skip";function i$(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const a=wx(i),s=r?-1:1;o(e,void 0,[])();function o(l,c,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return h;function h(){let m=r$,p,g,y;if((!t||a(l,c,d[d.length-1]||void 0))&&(m=sce(n(l,d)),m[0]===uw))return m;if("children"in l&&l.children){const x=l;if(x.children&&m[0]!==ace)for(g=(r?x.children.length:-1)+s,y=d.concat(x);g>-1&&g<x.children.length;){const b=x.children[g];if(p=o(b,g,y)(),p[0]===uw)return p;g=typeof p[1]=="number"?p[1]:g+s}}return m}}}function sce(e){return Array.isArray(e)?e:typeof e=="number"?[ice,e]:e==null?r$:[e]}function XS(e,t,n,r){let i,a,s;typeof t=="function"&&typeof n!="function"?(a=void 0,s=t,i=n):(a=t,s=n,i=r),i$(e,a,o,i);function o(l,c){const d=c[c.length-1],f=d?d.children.indexOf(l):void 0;return s(l,f,d)}}const dw={}.hasOwnProperty,oce={};function lce(e,t){const n=t||oce,r=new Map,i=new Map,a=new Map,s={...Hle,...n.handlers},o={all:c,applyData:uce,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:l,options:n,patch:cce,wrap:fce};return XS(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,h=String(d.identifier).toUpperCase();f.has(h)||f.set(h,d)}}),o;function l(d,f){const h=d.type,m=o.handlers[h];if(dw.call(o.handlers,h)&&m)return m(o,d,f);if(o.options.passThrough&&o.options.passThrough.includes(h)){if("children"in d){const{children:g,...y}=d,x=Ug(y);return x.children=o.all(d),x}return Ug(d)}return(o.options.unknownHandler||dce)(o,d,f)}function c(d){const f=[];if("children"in d){const h=d.children;let m=-1;for(;++m<h.length;){const p=o.one(h[m],d);if(p){if(m&&h[m-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=TT(p.value)),!Array.isArray(p)&&p.type==="element")){const g=p.children[0];g&&g.type==="text"&&(g.value=TT(g.value))}Array.isArray(p)?f.push(...p):f.push(p)}}}return f}}function cce(e,t){e.position&&(t.position=Qae(e))}function uce(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&a&&Object.assign(n.properties,Ug(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function dce(e,t){const n=t.data||{},r="value"in t&&!(dw.call(n,"hProperties")||dw.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function fce(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function TT(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function ET(e,t){const n=lce(e,t),r=n.one(e,void 0),i=Zle(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function mce(e,t){return e&&"run"in e?async function(n,r){const i=ET(n,{file:r,...t});await e.run(i,r)}:function(n,r){return ET(n,{file:r,...e||t})}}function DT(e){if(e)throw e}var hp=Object.prototype.hasOwnProperty,a$=Object.prototype.toString,MT=Object.defineProperty,OT=Object.getOwnPropertyDescriptor,IT=function(t){return typeof Array.isArray=="function"?Array.isArray(t):a$.call(t)==="[object Array]"},_T=function(t){if(!t||a$.call(t)!=="[object Object]")return!1;var n=hp.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&hp.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||hp.call(t,i)},LT=function(t,n){MT&&n.name==="__proto__"?MT(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},$T=function(t,n){if(n==="__proto__")if(hp.call(t,n)){if(OT)return OT(t,n).value}else return;return t[n]},hce=function e(){var t,n,r,i,a,s,o=arguments[0],l=1,c=arguments.length,d=!1;for(typeof o=="boolean"&&(d=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<c;++l)if(t=arguments[l],t!=null)for(n in t)r=$T(o,n),i=$T(t,n),o!==i&&(d&&i&&(_T(i)||(a=IT(i)))?(a?(a=!1,s=r&&IT(r)?r:[]):s=r&&_T(r)?r:{},LT(o,{name:n,newValue:e(d,s,i)})):typeof i<"u"&&LT(o,{name:n,newValue:i}));return o};const $v=ys(hce);function fw(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function pce(){const e=[],t={run:n,use:r};return t;function n(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(l,...c){const d=e[++a];let f=-1;if(l){s(l);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,d?gce(d,o)(...c):s(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function gce(e,t){let n;return r;function r(...s){const o=e.length>s.length;let l;o&&s.push(i);try{l=e.apply(this,s)}catch(c){const d=c;if(o&&n)throw d;return i(d)}o||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(s,...o){n||(n=!0,t(s,...o))}function a(s){i(null,s)}}const Ts={basename:xce,dirname:vce,extname:yce,join:bce,sep:"/"};function xce(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Um(e);let n=0,r=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(r=i):(o=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function vce(e){if(Um(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function yce(e){Um(e);let t=e.length,n=-1,r=0,i=-1,a=0,s;for(;t--;){const o=e.codePointAt(t);if(o===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),o===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function bce(...e){let t=-1,n;for(;++t<e.length;)Um(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":wce(n)}function wce(e){Um(e);const t=e.codePointAt(0)===47;let n=kce(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function kce(e,t){let n="",r=0,i=-1,a=0,s=-1,o,l;for(;++s<=e.length;){if(s<e.length)o=e.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,a=0;continue}}else if(n.length>0){n="",r=0,i=s,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,s):n=e.slice(i+1,s),r=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return n}function Um(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Sce={cwd:Nce};function Nce(){return"/"}function mw(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Cce(e){if(typeof e=="string")e=new URL(e);else if(!mw(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return jce(e)}function jce(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Fv=["history","path","basename","stem","extname","dirname"];class s${constructor(t){let n;t?mw(t)?n={path:t}:typeof t=="string"||Ace(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":Sce.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Fv.length;){const a=Fv[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)Fv.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Ts.basename(this.path):void 0}set basename(t){Bv(t,"basename"),Rv(t,"basename"),this.path=Ts.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Ts.dirname(this.path):void 0}set dirname(t){FT(this.basename,"dirname"),this.path=Ts.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Ts.extname(this.path):void 0}set extname(t){if(Rv(t,"extname"),FT(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ts.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){mw(t)&&(t=Cce(t)),Bv(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Ts.basename(this.path,this.extname):void 0}set stem(t){Bv(t,"stem"),Rv(t,"stem"),this.path=Ts.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Ai(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Rv(e,t){if(e&&e.includes(Ts.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Ts.sep+"`")}function Bv(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function FT(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Ace(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Pce=function(e){const r=this.constructor.prototype,i=r[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},Tce={}.hasOwnProperty;class QS extends Pce{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=pce()}copy(){const t=new QS;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data($v(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Vv("data",this.frozen),this.namespace[t]=n,this):Tce.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Vv("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Bh(t),r=this.parser||this.Parser;return zv("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),zv("process",this.parser||this.Parser),Uv("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,s){const o=Bh(t),l=r.parse(o);r.run(l,o,function(d,f,h){if(d||!f||!h)return c(d);const m=f,p=r.stringify(m,h);Mce(p)?h.value=p:h.result=p,c(d,h)});function c(d,f){d||!f?s(d):a?a(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),zv("processSync",this.parser||this.Parser),Uv("processSync",this.compiler||this.Compiler),this.process(t,i),BT("processSync","process",n),r;function i(a,s){n=!0,DT(a),r=s}}run(t,n,r){RT(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(s,o){const l=Bh(n);i.run(t,l,c);function c(d,f,h){const m=f||t;d?o(d):s?s(m):r(void 0,m,h)}}}runSync(t,n){let r=!1,i;return this.run(t,n,a),BT("runSync","run",r),i;function a(s,o){DT(s),i=o,r=!0}}stringify(t,n){this.freeze();const r=Bh(n),i=this.compiler||this.Compiler;return Uv("stringify",i),RT(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(Vv("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?o(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...f]=c;l(d,f)}else s(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function s(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(c.plugins),c.settings&&(i.settings=$v(!0,i.settings,c.settings))}function o(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const f=c[d];a(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,d){let f=-1,h=-1;for(;++f<r.length;)if(r[f][0]===c){h=f;break}if(h===-1)r.push([c,...d]);else if(d.length>0){let[m,...p]=d;const g=r[h][1];fw(g)&&fw(m)&&(m=$v(!0,g,m)),r[h]=[c,m,...p]}}}}const Ece=new QS().freeze();function zv(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Uv(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Vv(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function RT(e){if(!fw(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function BT(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Bh(e){return Dce(e)?e:new s$(e)}function Dce(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Mce(e){return typeof e=="string"||Oce(e)}function Oce(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Ice="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",zT=[],UT={allowDangerousHtml:!0},_ce=/^(https?|ircs?|mailto|xmpp)$/i,Lce=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function $ce(e){const t=Fce(e),n=Rce(e);return Bce(t.runSync(t.parse(n),n),e)}function Fce(e){const t=e.rehypePlugins||zT,n=e.remarkPlugins||zT,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...UT}:UT;return Ece().use(yle).use(n).use(mce,r).use(t)}function Rce(e){const t=e.children||"",n=new s$;return typeof t=="string"&&(n.value=t),n}function Bce(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,a=t.disallowedElements,s=t.skipHtml,o=t.unwrapDisallowed,l=t.urlTransform||zce;for(const d of Lce)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+Ice+d.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),XS(e,c),nse(e,{Fragment:u.Fragment,components:i,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function c(d,f,h){if(d.type==="raw"&&h&&typeof f=="number")return s?h.children.splice(f,1):h.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let m;for(m in Iv)if(Object.hasOwn(Iv,m)&&Object.hasOwn(d.properties,m)){const p=d.properties[m],g=Iv[m];(g===null||g.includes(d.tagName))&&(d.properties[m]=l(String(p||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):a?a.includes(d.tagName):!1;if(!m&&r&&typeof f=="number"&&(m=!r(d,f,h)),m&&h&&typeof f=="number")return o&&d.children?h.children.splice(f,1,...d.children):h.children.splice(f,1),f}}}function zce(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||_ce.test(e.slice(0,t))?e:""}function VT(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function Uce(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Vce(e,t,n){const i=wx((n||{}).ignore||[]),a=Wce(t);let s=-1;for(;++s<a.length;)i$(e,"text",o);function o(c,d){let f=-1,h;for(;++f<d.length;){const m=d[f],p=h?h.children:void 0;if(i(m,p?p.indexOf(m):void 0,h))return;h=m}if(h)return l(c,d)}function l(c,d){const f=d[d.length-1],h=a[s][0],m=a[s][1];let p=0;const y=f.children.indexOf(c);let x=!1,b=[];h.lastIndex=0;let w=h.exec(c.value);for(;w;){const k=w.index,C={index:w.index,input:w.input,stack:[...d,c]};let N=m(...w,C);if(typeof N=="string"&&(N=N.length>0?{type:"text",value:N}:void 0),N===!1?h.lastIndex=k+1:(p!==k&&b.push({type:"text",value:c.value.slice(p,k)}),Array.isArray(N)?b.push(...N):N&&b.push(N),p=k+w[0].length,x=!0),!h.global)break;w=h.exec(c.value)}return x?(p<c.value.length&&b.push({type:"text",value:c.value.slice(p)}),f.children.splice(y,1,...b)):b=[c],y+b.length}}function Wce(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([Hce(i[0]),qce(i[1])])}return t}function Hce(e){return typeof e=="string"?new RegExp(Uce(e),"g"):e}function qce(e){return typeof e=="function"?e:function(){return e}}const Wv="phrasing",Hv=["autolink","link","image","label"];function Kce(){return{transforms:[eue],enter:{literalAutolink:Yce,literalAutolinkEmail:qv,literalAutolinkHttp:qv,literalAutolinkWww:qv},exit:{literalAutolink:Jce,literalAutolinkEmail:Zce,literalAutolinkHttp:Xce,literalAutolinkWww:Qce}}}function Gce(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Wv,notInConstruct:Hv},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Wv,notInConstruct:Hv},{character:":",before:"[ps]",after:"\\/",inConstruct:Wv,notInConstruct:Hv}]}}function Yce(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function qv(e){this.config.enter.autolinkProtocol.call(this,e)}function Xce(e){this.config.exit.autolinkProtocol.call(this,e)}function Qce(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Zce(e){this.config.exit.autolinkEmail.call(this,e)}function Jce(e){this.exit(e)}function eue(e){Vce(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,tue],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),nue]],{ignore:["link","linkReference"]})}function tue(e,t,n,r,i){let a="";if(!o$(i)||(/^w/i.test(t)&&(n=t+n,t="",a="http://"),!rue(n)))return!1;const s=iue(n+r);if(!s[0])return!1;const o={type:"link",title:null,url:a+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[o,{type:"text",value:s[1]}]:o}function nue(e,t,n,r){return!o$(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function rue(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function iue(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=VT(e,"(");let a=VT(e,")");for(;r!==-1&&i>a;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),a++;return[e,n]}function o$(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Pc(n)||vx(n))&&(!t||n!==47)}l$.peek=mue;function aue(){this.buffer()}function sue(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function oue(){this.buffer()}function lue(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function cue(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=fs(this.sliceSerialize(e)).toLowerCase(),n.label=t}function uue(e){this.exit(e)}function due(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=fs(this.sliceSerialize(e)).toLowerCase(),n.label=t}function fue(e){this.exit(e)}function mue(){return"["}function l$(e,t,n,r){const i=n.createTracker(r);let a=i.move("[^");const s=n.enter("footnoteReference"),o=n.enter("reference");return a+=i.move(n.safe(n.associationId(e),{after:"]",before:a})),o(),s(),a+=i.move("]"),a}function hue(){return{enter:{gfmFootnoteCallString:aue,gfmFootnoteCall:sue,gfmFootnoteDefinitionLabelString:oue,gfmFootnoteDefinition:lue},exit:{gfmFootnoteCallString:cue,gfmFootnoteCall:uue,gfmFootnoteDefinitionLabelString:due,gfmFootnoteDefinition:fue}}}function pue(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:l$},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,a,s){const o=a.createTracker(s);let l=o.move("[^");const c=a.enter("footnoteDefinition"),d=a.enter("label");return l+=o.move(a.safe(a.associationId(r),{before:l,after:"]"})),d(),l+=o.move("]:"),r.children&&r.children.length>0&&(o.shift(4),l+=o.move((t?`
`:" ")+a.indentLines(a.containerFlow(r,o.current()),t?c$:gue))),c(),l}}function gue(e,t,n){return t===0?e:c$(e,t,n)}function c$(e,t,n){return(n?"":"    ")+e}const xue=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];u$.peek=kue;function vue(){return{canContainEols:["delete"],enter:{strikethrough:bue},exit:{strikethrough:wue}}}function yue(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:xue}],handlers:{delete:u$}}}function bue(e){this.enter({type:"delete",children:[]},e)}function wue(e){this.exit(e)}function u$(e,t,n,r){const i=n.createTracker(r),a=n.enter("strikethrough");let s=i.move("~~");return s+=n.containerPhrasing(e,{...i.current(),before:s,after:"~"}),s+=i.move("~~"),a(),s}function kue(){return"~"}function Sue(e){return e.length}function Nue(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||Sue,a=[],s=[],o=[],l=[];let c=0,d=-1;for(;++d<e.length;){const g=[],y=[];let x=-1;for(e[d].length>c&&(c=e[d].length);++x<e[d].length;){const b=Cue(e[d][x]);if(n.alignDelimiters!==!1){const w=i(b);y[x]=w,(l[x]===void 0||w>l[x])&&(l[x]=w)}g.push(b)}s[d]=g,o[d]=y}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<c;)a[f]=WT(r[f]);else{const g=WT(r);for(;++f<c;)a[f]=g}f=-1;const h=[],m=[];for(;++f<c;){const g=a[f];let y="",x="";g===99?(y=":",x=":"):g===108?y=":":g===114&&(x=":");let b=n.alignDelimiters===!1?1:Math.max(1,l[f]-y.length-x.length);const w=y+"-".repeat(b)+x;n.alignDelimiters!==!1&&(b=y.length+b+x.length,b>l[f]&&(l[f]=b),m[f]=b),h[f]=w}s.splice(1,0,h),o.splice(1,0,m),d=-1;const p=[];for(;++d<s.length;){const g=s[d],y=o[d];f=-1;const x=[];for(;++f<c;){const b=g[f]||"";let w="",k="";if(n.alignDelimiters!==!1){const C=l[f]-(y[f]||0),N=a[f];N===114?w=" ".repeat(C):N===99?C%2?(w=" ".repeat(C/2+.5),k=" ".repeat(C/2-.5)):(w=" ".repeat(C/2),k=w):k=" ".repeat(C)}n.delimiterStart!==!1&&!f&&x.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&b==="")&&(n.delimiterStart!==!1||f)&&x.push(" "),n.alignDelimiters!==!1&&x.push(w),x.push(b),n.alignDelimiters!==!1&&x.push(k),n.padding!==!1&&x.push(" "),(n.delimiterEnd!==!1||f!==c-1)&&x.push("|")}p.push(n.delimiterEnd===!1?x.join("").replace(/ +$/,""):x.join(""))}return p.join(`
`)}function Cue(e){return e==null?"":String(e)}function WT(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function jue(e,t,n,r){const i=n.enter("blockquote"),a=n.createTracker(r);a.move("> "),a.shift(2);const s=n.indentLines(n.containerFlow(e,a.current()),Aue);return i(),s}function Aue(e,t,n){return">"+(n?"":" ")+e}function Pue(e,t){return HT(e,t.inConstruct,!0)&&!HT(e,t.notInConstruct,!1)}function HT(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function qT(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&Pue(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function Tue(e,t){const n=String(e);let r=n.indexOf(t),i=r,a=0,s=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++a>s&&(s=a):a=1,i=r+t.length,r=n.indexOf(t,i);return s}function Eue(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function Due(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function Mue(e,t,n,r){const i=Due(n),a=e.value||"",s=i==="`"?"GraveAccent":"Tilde";if(Eue(e,n)){const f=n.enter("codeIndented"),h=n.indentLines(a,Oue);return f(),h}const o=n.createTracker(r),l=i.repeat(Math.max(Tue(a,i)+1,3)),c=n.enter("codeFenced");let d=o.move(l);if(e.lang){const f=n.enter(`codeFencedLang${s}`);d+=o.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...o.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${s}`);d+=o.move(" "),d+=o.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...o.current()})),f()}return d+=o.move(`
`),a&&(d+=o.move(a+`
`)),d+=o.move(l),c(),d}function Oue(e,t,n){return(n?"":"    ")+e}function ZS(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Iue(e,t,n,r){const i=ZS(n),a=i==='"'?"Quote":"Apostrophe",s=n.enter("definition");let o=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...l.current()}))),o(),e.title&&(o=n.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),o()),s(),c}function _ue(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function em(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Vg(e,t,n){const r=Gu(e),i=Gu(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}d$.peek=Lue;function d$(e,t,n,r){const i=_ue(n),a=n.enter("emphasis"),s=n.createTracker(r),o=s.move(i);let l=s.move(n.containerPhrasing(e,{after:i,before:o,...s.current()}));const c=l.charCodeAt(0),d=Vg(r.before.charCodeAt(r.before.length-1),c,i);d.inside&&(l=em(c)+l.slice(1));const f=l.charCodeAt(l.length-1),h=Vg(r.after.charCodeAt(0),f,i);h.inside&&(l=l.slice(0,-1)+em(f));const m=s.move(i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+l+m}function Lue(e,t,n){return n.options.emphasis||"*"}function $ue(e,t){let n=!1;return XS(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,uw}),!!((!e.depth||e.depth<3)&&VS(e)&&(t.options.setext||n))}function Fue(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),a=n.createTracker(r);if($ue(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),h=n.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return f(),d(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const s="#".repeat(i),o=n.enter("headingAtx"),l=n.enter("phrasing");a.move(s+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(c)&&(c=em(c.charCodeAt(0))+c.slice(1)),c=c?s+" "+c:s,n.options.closeAtx&&(c+=" "+s),l(),o(),c}f$.peek=Rue;function f$(e){return e.value||""}function Rue(){return"<"}m$.peek=Bue;function m$(e,t,n,r){const i=ZS(n),a=i==='"'?"Quote":"Apostrophe",s=n.enter("image");let o=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),o(),e.title&&(o=n.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),o()),c+=l.move(")"),s(),c}function Bue(){return"!"}h$.peek=zue;function h$(e,t,n,r){const i=e.referenceType,a=n.enter("imageReference");let s=n.enter("label");const o=n.createTracker(r);let l=o.move("![");const c=n.safe(e.alt,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return s(),n.stack=d,a(),i==="full"||!c||c!==f?l+=o.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function zue(){return"!"}p$.peek=Uue;function p$(e,t,n){let r=e.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){const s=n.unsafe[a],o=n.compilePattern(s);let l;if(s.atBreak)for(;l=o.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function Uue(){return"`"}function g$(e,t){const n=VS(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}x$.peek=Vue;function x$(e,t,n,r){const i=ZS(n),a=i==='"'?"Quote":"Apostrophe",s=n.createTracker(r);let o,l;if(g$(e,n)){const d=n.stack;n.stack=[],o=n.enter("autolink");let f=s.move("<");return f+=s.move(n.containerPhrasing(e,{before:f,after:">",...s.current()})),f+=s.move(">"),o(),n.stack=d,f}o=n.enter("link"),l=n.enter("label");let c=s.move("[");return c+=s.move(n.containerPhrasing(e,{before:c,after:"](",...s.current()})),c+=s.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=s.move("<"),c+=s.move(n.safe(e.url,{before:c,after:">",...s.current()})),c+=s.move(">")):(l=n.enter("destinationRaw"),c+=s.move(n.safe(e.url,{before:c,after:e.title?" ":")",...s.current()}))),l(),e.title&&(l=n.enter(`title${a}`),c+=s.move(" "+i),c+=s.move(n.safe(e.title,{before:c,after:i,...s.current()})),c+=s.move(i),l()),c+=s.move(")"),o(),c}function Vue(e,t,n){return g$(e,n)?"<":"["}v$.peek=Wue;function v$(e,t,n,r){const i=e.referenceType,a=n.enter("linkReference");let s=n.enter("label");const o=n.createTracker(r);let l=o.move("[");const c=n.containerPhrasing(e,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return s(),n.stack=d,a(),i==="full"||!c||c!==f?l+=o.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function Wue(){return"["}function JS(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Hue(e){const t=JS(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function que(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function y$(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Kue(e,t,n,r){const i=n.enter("list"),a=n.bulletCurrent;let s=e.ordered?que(n):JS(n);const o=e.ordered?s==="."?")":".":Hue(n);let l=t&&n.bulletLastUsed?s===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((s==="*"||s==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),y$(n)===s&&d){let f=-1;for(;++f<e.children.length;){const h=e.children[f];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(s=o),n.bulletCurrent=s;const c=n.containerFlow(e,r);return n.bulletLastUsed=s,n.bulletCurrent=a,i(),c}function Gue(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Yue(e,t,n,r){const i=Gue(n);let a=n.bulletCurrent||JS(n);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let s=a.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(s=Math.ceil(s/4)*4);const o=n.createTracker(r);o.move(a+" ".repeat(s-a.length)),o.shift(s);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,o.current()),d);return l(),c;function d(f,h,m){return h?(m?"":" ".repeat(s))+f:(m?a:a+" ".repeat(s-a.length))+f}}function Xue(e,t,n,r){const i=n.enter("paragraph"),a=n.enter("phrasing"),s=n.containerPhrasing(e,r);return a(),i(),s}const Que=wx(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Zue(e,t,n,r){return(e.children.some(function(s){return Que(s)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function Jue(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}b$.peek=ede;function b$(e,t,n,r){const i=Jue(n),a=n.enter("strong"),s=n.createTracker(r),o=s.move(i+i);let l=s.move(n.containerPhrasing(e,{after:i,before:o,...s.current()}));const c=l.charCodeAt(0),d=Vg(r.before.charCodeAt(r.before.length-1),c,i);d.inside&&(l=em(c)+l.slice(1));const f=l.charCodeAt(l.length-1),h=Vg(r.after.charCodeAt(0),f,i);h.inside&&(l=l.slice(0,-1)+em(f));const m=s.move(i+i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+l+m}function ede(e,t,n){return n.options.strong||"*"}function tde(e,t,n,r){return n.safe(e.value,r)}function nde(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function rde(e,t,n){const r=(y$(n)+(n.options.ruleSpaces?" ":"")).repeat(nde(n));return n.options.ruleSpaces?r.slice(0,-1):r}const w$={blockquote:jue,break:qT,code:Mue,definition:Iue,emphasis:d$,hardBreak:qT,heading:Fue,html:f$,image:m$,imageReference:h$,inlineCode:p$,link:x$,linkReference:v$,list:Kue,listItem:Yue,paragraph:Xue,root:Zue,strong:b$,text:tde,thematicBreak:rde};function ide(){return{enter:{table:ade,tableData:KT,tableHeader:KT,tableRow:ode},exit:{codeText:lde,table:sde,tableData:Kv,tableHeader:Kv,tableRow:Kv}}}function ade(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function sde(e){this.exit(e),this.data.inTable=void 0}function ode(e){this.enter({type:"tableRow",children:[]},e)}function Kv(e){this.exit(e)}function KT(e){this.enter({type:"tableCell",children:[]},e)}function lde(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,cde));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function cde(e,t){return t==="|"?t:e}function ude(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:s,tableCell:l,tableRow:o}};function s(m,p,g,y){return c(d(m,g,y),m.align)}function o(m,p,g,y){const x=f(m,g,y),b=c([x]);return b.slice(0,b.indexOf(`
`))}function l(m,p,g,y){const x=g.enter("tableCell"),b=g.enter("phrasing"),w=g.containerPhrasing(m,{...y,before:a,after:a});return b(),x(),w}function c(m,p){return Nue(m,{align:p,alignDelimiters:r,padding:n,stringLength:i})}function d(m,p,g){const y=m.children;let x=-1;const b=[],w=p.enter("table");for(;++x<y.length;)b[x]=f(y[x],p,g);return w(),b}function f(m,p,g){const y=m.children;let x=-1;const b=[],w=p.enter("tableRow");for(;++x<y.length;)b[x]=l(y[x],m,p,g);return w(),b}function h(m,p,g){let y=w$.inlineCode(m,p,g);return g.stack.includes("tableCell")&&(y=y.replace(/\|/g,"\\$&")),y}}function dde(){return{exit:{taskListCheckValueChecked:GT,taskListCheckValueUnchecked:GT,paragraph:mde}}}function fde(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:hde}}}function GT(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function mde(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let a=-1,s;for(;++a<i.length;){const o=i[a];if(o.type==="paragraph"){s=o;break}}s===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function hde(e,t,n,r){const i=e.children[0],a=typeof e.checked=="boolean"&&i&&i.type==="paragraph",s="["+(e.checked?"x":" ")+"] ",o=n.createTracker(r);a&&o.move(s);let l=w$.listItem(e,t,n,{...r,...o.current()});return a&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(d){return d+s}}function pde(){return[Kce(),hue(),vue(),ide(),dde()]}function gde(e){return{extensions:[Gce(),pue(e),yue(),ude(e),fde()]}}const xde={tokenize:Sde,partial:!0},k$={tokenize:Nde,partial:!0},S$={tokenize:Cde,partial:!0},N$={tokenize:jde,partial:!0},vde={tokenize:Ade,partial:!0},C$={name:"wwwAutolink",tokenize:wde,previous:A$},j$={name:"protocolAutolink",tokenize:kde,previous:P$},Mo={name:"emailAutolink",tokenize:bde,previous:T$},zs={};function yde(){return{text:zs}}let Rl=48;for(;Rl<123;)zs[Rl]=Mo,Rl++,Rl===58?Rl=65:Rl===91&&(Rl=97);zs[43]=Mo;zs[45]=Mo;zs[46]=Mo;zs[95]=Mo;zs[72]=[Mo,j$];zs[104]=[Mo,j$];zs[87]=[Mo,C$];zs[119]=[Mo,C$];function bde(e,t,n){const r=this;let i,a;return s;function s(f){return!hw(f)||!T$.call(r,r.previous)||eN(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(f))}function o(f){return hw(f)?(e.consume(f),o):f===64?(e.consume(f),l):n(f)}function l(f){return f===46?e.check(vde,d,c)(f):f===45||f===95||Ci(f)?(a=!0,e.consume(f),l):d(f)}function c(f){return e.consume(f),i=!0,l}function d(f){return a&&i&&$i(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function wde(e,t,n){const r=this;return i;function i(s){return s!==87&&s!==119||!A$.call(r,r.previous)||eN(r.events)?n(s):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(xde,e.attempt(k$,e.attempt(S$,a),n),n)(s))}function a(s){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(s)}}function kde(e,t,n){const r=this;let i="",a=!1;return s;function s(f){return(f===72||f===104)&&P$.call(r,r.previous)&&!eN(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),e.consume(f),o):n(f)}function o(f){if($i(f)&&i.length<5)return i+=String.fromCodePoint(f),e.consume(f),o;if(f===58){const h=i.toLowerCase();if(h==="http"||h==="https")return e.consume(f),l}return n(f)}function l(f){return f===47?(e.consume(f),a?c:(a=!0,l)):n(f)}function c(f){return f===null||Bg(f)||Un(f)||Pc(f)||vx(f)?n(f):e.attempt(k$,e.attempt(S$,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function Sde(e,t,n){let r=0;return i;function i(s){return(s===87||s===119)&&r<3?(r++,e.consume(s),i):s===46&&r===3?(e.consume(s),a):n(s)}function a(s){return s===null?n(s):t(s)}}function Nde(e,t,n){let r,i,a;return s;function s(c){return c===46||c===95?e.check(N$,l,o)(c):c===null||Un(c)||Pc(c)||c!==45&&vx(c)?l(c):(a=!0,e.consume(c),s)}function o(c){return c===95?r=!0:(i=r,r=void 0),e.consume(c),s}function l(c){return i||r||!a?n(c):t(c)}}function Cde(e,t){let n=0,r=0;return i;function i(s){return s===40?(n++,e.consume(s),i):s===41&&r<n?a(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?e.check(N$,t,a)(s):s===null||Un(s)||Pc(s)?t(s):(e.consume(s),i)}function a(s){return s===41&&r++,e.consume(s),i}}function jde(e,t,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),r):o===38?(e.consume(o),a):o===93?(e.consume(o),i):o===60||o===null||Un(o)||Pc(o)?t(o):n(o)}function i(o){return o===null||o===40||o===91||Un(o)||Pc(o)?t(o):r(o)}function a(o){return $i(o)?s(o):n(o)}function s(o){return o===59?(e.consume(o),r):$i(o)?(e.consume(o),s):n(o)}}function Ade(e,t,n){return r;function r(a){return e.consume(a),i}function i(a){return Ci(a)?n(a):t(a)}}function A$(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Un(e)}function P$(e){return!$i(e)}function T$(e){return!(e===47||hw(e))}function hw(e){return e===43||e===45||e===46||e===95||Ci(e)}function eN(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const Pde={tokenize:Lde,partial:!0};function Tde(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Ode,continuation:{tokenize:Ide},exit:_de}},text:{91:{name:"gfmFootnoteCall",tokenize:Mde},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Ede,resolveTo:Dde}}}}function Ede(e,t,n){const r=this;let i=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){s=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return o;function o(l){if(!s||!s._balanced)return n(l);const c=fs(r.sliceSerialize({start:s.end,end:r.now()}));return c.codePointAt(0)!==94||!a.includes(c.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function Dde(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},o=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",s,t],["exit",s,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...o),e}function Mde(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a=0,s;return o;function o(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(f){if(a>999||f===93&&!s||f===null||f===91||Un(f))return n(f);if(f===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return i.includes(fs(r.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return Un(f)||(s=!0),a++,e.consume(f),f===92?d:c}function d(f){return f===91||f===92||f===93?(e.consume(f),a++,c):c(f)}}function Ode(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,s=0,o;return l;function l(p){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(p){return p===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(p)}function d(p){if(s>999||p===93&&!o||p===null||p===91||Un(p))return n(p);if(p===93){e.exit("chunkString");const g=e.exit("gfmFootnoteDefinitionLabelString");return a=fs(r.sliceSerialize(g)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return Un(p)||(o=!0),s++,e.consume(p),p===92?f:d}function f(p){return p===91||p===92||p===93?(e.consume(p),s++,d):d(p)}function h(p){return p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),i.includes(a)||i.push(a),vn(e,m,"gfmFootnoteDefinitionWhitespace")):n(p)}function m(p){return t(p)}}function Ide(e,t,n){return e.check(zm,t,e.attempt(Pde,t,n))}function _de(e){e.exit("gfmFootnoteDefinition")}function Lde(e,t,n){const r=this;return vn(e,i,"gfmFootnoteDefinitionIndent",5);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?t(a):n(a)}}function $de(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:a,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(s,o){let l=-1;for(;++l<s.length;)if(s[l][0]==="enter"&&s[l][1].type==="strikethroughSequenceTemporary"&&s[l][1]._close){let c=l;for(;c--;)if(s[c][0]==="exit"&&s[c][1].type==="strikethroughSequenceTemporary"&&s[c][1]._open&&s[l][1].end.offset-s[l][1].start.offset===s[c][1].end.offset-s[c][1].start.offset){s[l][1].type="strikethroughSequence",s[c][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},s[c][1].start),end:Object.assign({},s[l][1].end)},f={type:"strikethroughText",start:Object.assign({},s[c][1].end),end:Object.assign({},s[l][1].start)},h=[["enter",d,o],["enter",s[c][1],o],["exit",s[c][1],o],["enter",f,o]],m=o.parser.constructs.insideSpan.null;m&&Sa(h,h.length,0,yx(m,s.slice(c+1,l),o)),Sa(h,h.length,0,[["exit",f,o],["enter",s[l][1],o],["exit",s[l][1],o],["exit",d,o]]),Sa(s,c-1,l-c+3,h),l=c+h.length-2;break}}for(l=-1;++l<s.length;)s[l][1].type==="strikethroughSequenceTemporary"&&(s[l][1].type="data");return s}function a(s,o,l){const c=this.previous,d=this.events;let f=0;return h;function h(p){return c===126&&d[d.length-1][1].type!=="characterEscape"?l(p):(s.enter("strikethroughSequenceTemporary"),m(p))}function m(p){const g=Gu(c);if(p===126)return f>1?l(p):(s.consume(p),f++,m);if(f<2&&!n)return l(p);const y=s.exit("strikethroughSequenceTemporary"),x=Gu(p);return y._open=!x||x===2&&!!g,y._close=!g||g===2&&!!x,o(p)}}}class Fde{constructor(){this.map=[]}add(t,n,r){Rde(this,t,n,r)}consume(t){if(this.map.sort(function(a,s){return a[0]-s[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const a of i)t.push(a);i=r.pop()}this.map.length=0}}function Rde(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function Bde(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=r.length-1;r[a]=r[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function zde(){return{flow:{null:{name:"table",tokenize:Ude,resolveAll:Vde}}}}function Ude(e,t,n){const r=this;let i=0,a=0,s;return o;function o(T){let M=r.events.length-1;for(;M>-1;){const ee=r.events[M][1].type;if(ee==="lineEnding"||ee==="linePrefix")M--;else break}const O=M>-1?r.events[M][1].type:null,Q=O==="tableHead"||O==="tableRow"?N:l;return Q===N&&r.parser.lazy[r.now().line]?n(T):Q(T)}function l(T){return e.enter("tableHead"),e.enter("tableRow"),c(T)}function c(T){return T===124||(s=!0,a+=1),d(T)}function d(T){return T===null?n(T):Rt(T)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),m):n(T):mn(T)?vn(e,d,"whitespace")(T):(a+=1,s&&(s=!1,i+=1),T===124?(e.enter("tableCellDivider"),e.consume(T),e.exit("tableCellDivider"),s=!0,d):(e.enter("data"),f(T)))}function f(T){return T===null||T===124||Un(T)?(e.exit("data"),d(T)):(e.consume(T),T===92?h:f)}function h(T){return T===92||T===124?(e.consume(T),f):f(T)}function m(T){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(T):(e.enter("tableDelimiterRow"),s=!1,mn(T)?vn(e,p,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):p(T))}function p(T){return T===45||T===58?y(T):T===124?(s=!0,e.enter("tableCellDivider"),e.consume(T),e.exit("tableCellDivider"),g):C(T)}function g(T){return mn(T)?vn(e,y,"whitespace")(T):y(T)}function y(T){return T===58?(a+=1,s=!0,e.enter("tableDelimiterMarker"),e.consume(T),e.exit("tableDelimiterMarker"),x):T===45?(a+=1,x(T)):T===null||Rt(T)?k(T):C(T)}function x(T){return T===45?(e.enter("tableDelimiterFiller"),b(T)):C(T)}function b(T){return T===45?(e.consume(T),b):T===58?(s=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(T),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(T))}function w(T){return mn(T)?vn(e,k,"whitespace")(T):k(T)}function k(T){return T===124?p(T):T===null||Rt(T)?!s||i!==a?C(T):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(T)):C(T)}function C(T){return n(T)}function N(T){return e.enter("tableRow"),j(T)}function j(T){return T===124?(e.enter("tableCellDivider"),e.consume(T),e.exit("tableCellDivider"),j):T===null||Rt(T)?(e.exit("tableRow"),t(T)):mn(T)?vn(e,j,"whitespace")(T):(e.enter("data"),D(T))}function D(T){return T===null||T===124||Un(T)?(e.exit("data"),j(T)):(e.consume(T),T===92?L:D)}function L(T){return T===92||T===124?(e.consume(T),D):D(T)}}function Vde(e,t){let n=-1,r=!0,i=0,a=[0,0,0,0],s=[0,0,0,0],o=!1,l=0,c,d,f;const h=new Fde;for(;++n<e.length;){const m=e[n],p=m[1];m[0]==="enter"?p.type==="tableHead"?(o=!1,l!==0&&(YT(h,t,l,c,d),d=void 0,l=0),c={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(n,0,[["enter",c,t]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(r=!0,f=void 0,a=[0,0,0,0],s=[0,n+1,0,0],o&&(o=!1,d={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(n,0,[["enter",d,t]])),i=p.type==="tableDelimiterRow"?2:d?3:1):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(r=!1,s[2]===0&&(a[1]!==0&&(s[0]=s[1],f=zh(h,t,a,i,void 0,f),a=[0,0,0,0]),s[2]=n)):p.type==="tableCellDivider"&&(r?r=!1:(a[1]!==0&&(s[0]=s[1],f=zh(h,t,a,i,void 0,f)),a=s,s=[a[1],n,0,0])):p.type==="tableHead"?(o=!0,l=n):p.type==="tableRow"||p.type==="tableDelimiterRow"?(l=n,a[1]!==0?(s[0]=s[1],f=zh(h,t,a,i,n,f)):s[1]!==0&&(f=zh(h,t,s,i,n,f)),i=0):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(s[3]=n)}for(l!==0&&YT(h,t,l,c,d),h.consume(t.events),n=-1;++n<t.events.length;){const m=t.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=Bde(t.events,n))}return e}function zh(e,t,n,r,i,a){const s=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(a.end=Object.assign({},tu(t.events,n[0])),e.add(n[0],0,[["exit",a,t]]));const l=tu(t.events,n[1]);if(a={type:s,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",a,t]]),n[2]!==0){const c=tu(t.events,n[2]),d=tu(t.events,n[3]),f={type:o,start:Object.assign({},c),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const h=t.events[n[2]],m=t.events[n[3]];if(h[1].end=Object.assign({},m[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const p=n[2]+1,g=n[3]-n[2]-1;e.add(p,g,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return i!==void 0&&(a.end=Object.assign({},tu(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function YT(e,t,n,r,i){const a=[],s=tu(t.events,n);i&&(i.end=Object.assign({},s),a.push(["exit",i,t])),r.end=Object.assign({},s),a.push(["exit",r,t]),e.add(n+1,0,a)}function tu(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const Wde={name:"tasklistCheck",tokenize:qde};function Hde(){return{text:{91:Wde}}}function qde(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),a)}function a(l){return Un(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),s):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),s):n(l)}function s(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(l)}function o(l){return Rt(l)?t(l):mn(l)?e.check({tokenize:Kde},t,n)(l):n(l)}}function Kde(e,t,n){return vn(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function Gde(e){return R4([yde(),Tde(),$de(e),zde(),Hde()])}const Yde={};function Xde(e){const t=this,n=e||Yde,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(Gde(n)),a.push(pde()),s.push(gde(n))}const Gv='# Combat Metrics Spec\n\nThis document describes the project-defined combat metrics used in the UI,\nDiscord summaries, and aggregate stats. The intent is to define the metrics\nindependently from any third-party implementation while staying consistent\nwith EI JSON inputs. It also records the exact fields and aggregation rules\nso the stats dashboard, Discord, and cards produce identical values.\n\nSpec version: `v5` (see `src/shared/metrics-methods.json`).\n\n## Input Contract (EI JSON)\n\nAll metrics are derived from the EI JSON payload produced by dps.report. The\nminimum fields consumed are:\n\n- `players[*].dpsAll[0].damage`, `players[*].dpsAll[0].dps`, `players[*].dpsAll[0].breakbarDamage`\n- `players[*].defenses[0].damageTaken`, `deadCount`, `downCount`,\n  `missedCount`, `blockedCount`, `evadedCount`, `dodgeCount`,\n  `receivedCrowdControl`, `receivedCrowdControlDuration`,\n  `boonStrips`, `boonStripsTime`\n- `players[*].minions[*].totalDamageTakenDist[0][*].totalDamage` (fallback:\n  `damageTaken`) for minion incoming damage totals\n- `players[*].support[0].condiCleanse`, `condiCleanseSelf`, `boonStrips`,\n  `boonStripsTime`, `resurrects`\n- `players[*].statsAll[0].stackDist`, `players[*].statsAll[0].distToCom`\n- `players[*].statsTargets[*][0].downContribution`, `killed`, `downed`,\n  `againstDownedCount`\n- `players[*].extHealingStats.outgoingHealingAllies`\n- `players[*].extBarrierStats.outgoingBarrierAllies`\n- `players[*].totalDamageDist`, `players[*].targetDamageDist`, `players[*].totalDamageTaken`\n- `players[*].damage1S`, `players[*].targetDamage1S`,\n  `players[*].powerDamageTaken1S`, `players[*].targetPowerDamage1S`\n- `players[*].activeTimes`\n- `players[*].rotation`\n- `players[*].buffUptimes`\n- `players[*].selfBuffs`, `players[*].groupBuffs`, `players[*].squadBuffs`\n- `players[*].selfBuffsActive`, `players[*].groupBuffsActive`, `players[*].squadBuffsActive`\n- `players[*].group`\n- `buffMap`, `skillMap`, and `durationMS` for stability generation, boon output, and skill labeling\n- `targets[*].buffs[*].statesPerSource` when available for condition application counts\n- `details.fightName`, `details.uploadTime` (or `details.timeStartStd` / `details.timeStart` fallback),\n  `details.zone`/`mapName`/`map`/`location`, `details.success`,\n  `details.targets`, `details.durationMS`\n- `targets[*].totalDamageDist`, `targets[*].powerDamage1S`, `targets[*].damage1S`,\n  `targets[*].enemyPlayer`, `targets[*].isFake`, `targets[*].profession`\n\nIf any of these are missing, the metric falls back to `0` as defined below.\n\n## Crowd Control & Strips Methodology\n\nThe app supports three user-selectable methodologies (default: `count`),\nconfigured in `src/shared/metrics-methods.json`:\n\n1. **Count Events** (`count`)  \n   Uses EI summary counts for CC/strips. Best for stable, comparable totals.\n\n2. **Duration (Seconds)** (`duration`)  \n   Uses EI summary durations (converted to seconds). Best for impact-weighted\n   totals, but units are time not event counts.\n\n3. **Tiered Impact** (`tiered`)  \n   Uses average duration per event to apply tiered weights. Best for balancing\n   short vs long control with a simple, configurable heuristic.\n\nThese methodologies apply to:\n- Outgoing CC totals\n- Incoming CC totals\n- Incoming strips totals\n\n## Outgoing Crowd Control\n\nFor each player:\n- `count`: `statsAll[0].appliedCrowdControl`\n- `duration`: `statsAll[0].appliedCrowdControlDuration / 1000`\n- `tiered`: `appliedCrowdControl * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/combatMetrics.ts` (computeOutgoingCrowdControl).\n\n## Incoming Strips and Crowd Control\n\nFor each player:\n- Incoming CC uses `defenses[0].receivedCrowdControl` and\n  `defenses[0].receivedCrowdControlDuration`.\n- Incoming strips use `defenses[0].boonStrips` and `defenses[0].boonStripsTime`.\n\nMethod application is the same as outgoing CC (count/duration/tiered).\n\nImplementation: `src/shared/combatMetrics.ts` (computeIncomingDisruptions).\n\n## Cleanses\n\n`cleanses = support[0].condiCleanse + support[0].condiCleanseSelf`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerCleanses).\n\nUI note: the Support table can display either **All** (condiCleanse + condiCleanseSelf) or **Squad** (condiCleanse only) via the cleanse-scope toggle. Discord and top summaries use **All**.\n\n## Strips\n\n`strips` uses the configured methodology:\n- `count`: `support[0].boonStrips`\n- `duration`: `support[0].boonStripsTime / 1000`\n- `tiered`: `boonStrips * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerStrips).\n\n## Down Contribution\n\nDown contribution is the sum of `statsTargets[*][0].downContribution` across\nall targets for the player.\n\nImplementation: `src/shared/combatMetrics.ts` (computeDownContribution).\n\n## Squad Barrier and Squad Healing\n\nSquad barrier and healing sum all phases of `extBarrierStats.outgoingBarrierAllies`\nand `extHealingStats.outgoingHealingAllies` respectively.\n\nImplementation: `src/shared/combatMetrics.ts` (computeSquadBarrier, computeSquadHealing).\n\n## Stability Generation\n\nStability generation uses the EI buff data via `getPlayerBoonGenerationMs`\nand writes `player.stabGeneration` in seconds.\n\nImplementation: `src/shared/combatMetrics.ts` (applySquadStabilityGeneration).\n\n## Damage and DPS\n\n`damage = dpsAll[0].damage`  \n`dps = dpsAll[0].dps`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamage, getPlayerDps).\n\n## Breakbar Damage\n\n`breakbarDamage = dpsAll[0].breakbarDamage`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerBreakbarDamage).\n\n## Incoming Damage (Taken)\n\n`damageTaken = defenses[0].damageTaken`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamageTaken).\n\nIncoming damage per skill (incoming damage distribution) is derived from\n`players[*].totalDamageTaken[*]` entries and summed across players for the\nsquad view. This total can be large for siege skills because it aggregates\nall hits and all players (and across multiple logs when viewing aggregates).\n\n## Damage Mitigation (Player + Minion)\n\nDamage mitigation is an **estimate** of avoided damage based on enemy skill\ndamage averages and avoidance events (block/evade/miss/invuln/interrupted).\nIt is intended for relative comparisons between players/minions and logs, not\nas a literal damage prevented total.\n\n### Inputs Used\n\nPer-log data sources:\n\n- Enemy damage distribution: `targets[*].totalDamageDist[0]`\n- Player avoided events: `players[*].totalDamageTaken[0]`\n- Minion avoided events: `players[*].minions[*].totalDamageTakenDist[0]`\n- Skill names: `skillMap` / `buffMap` (for UI labels only)\n\n### Enemy Skill Damage Averages\n\nFor each skill id across **all logs in the aggregation**:\n\n1. Gather `totalDamage` and `connectedHits` from every targets\n   `totalDamageDist[0]` entry with the same `id`.\n2. Compute:\n   - `avgDamage = sum(totalDamage) / sum(connectedHits)`\n   - `minDamage = average(entry.min over all occurrences)`\n\nThese averages are computed **once for the aggregation window** and used for\nall player/minion mitigation calculations.\n\n### Avoided Damage Per Skill (Formula)\n\nFor a given skill id `S` with enemy averages `avgDamage` and `minDamage`:\n\n```\navoidCount = blocked + evaded + missed + invulned + interrupted\navoidDamage = (glanced * avgDamage / 2) + (avoidCount * avgDamage)\nminAvoidDamage = (glanced * minDamage / 2) + (avoidCount * minDamage)\n```\n\nNotes:\n- `glanced` is treated as half damage.\n- If `connectedHits` for the enemy skill is `0`, the skill is excluded from\n  mitigation totals (both avoid and min avoid).\n\n### Player Mitigation Aggregation\n\nFor each player (account key):\n\n1. Sum avoidance counts **per skill id** across all logs:\n   - `hits`, `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`.\n2. For each skill id, compute `avoidDamage` / `minAvoidDamage` using the global\n   enemy averages (above).\n3. **Include only skills with `avoidDamage > 0`** in totals.\n4. Totals are the sum of:\n   - `totalHits` (from `hits`)\n   - `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`\n   - `totalMitigation` (sum of avoidDamage)\n   - `minMitigation` (sum of minAvoidDamage)\n\n### Minion Mitigation Aggregation\n\nFor each minion (player account + minion name):\n\n1. Sum avoidance counts **per skill id** across all logs using\n   `minion.totalDamageTakenDist[0]`.\n2. Use the **same enemy averages** (from targets).\n3. Compute totals using the same formula and inclusion rules as player\n   mitigation.\n\nMinion names are normalized by:\n- Removing `"Juvenile "` prefix.\n- Converting names containing `"UNKNOWN"` to `"Unknown"`.\n\n### Field Mapping in UI\n\nThe Damage Mitigation table uses the following totals:\n\n- `Total Hits`  summed `hits` for included skills\n- `Evaded`, `Blocked`, `Glanced`, `Missed`, `Invulned`, `Interrupted`\n- `Damage Mitigation`  `totalMitigation`\n- `Min Damage Mitigation`  `minMitigation`\n\n### Why This Diverges From Some External Tools\n\nSome tools compute mitigation differently (e.g., per-log accumulation with\nrunning averages, name-based skill bucketing, or repeated adding across logs).\nThis spec intentionally computes **one consistent estimate** across all logs\nusing **global enemy averages** and **per-skill cumulative counts**, which\navoids log-count bias.\n\n### Known Limitations\n\n- If a skills `connectedHits` is zero in targets data, mitigation for that\n  skill is excluded.\n- Some skills share names across different ids; we bucket by **skill id** to\n  avoid collisions.\n- Enemy damage averages are computed from `targets[*].totalDamageDist[0]` and\n  can be skewed by target mix, fake targets, or atypical fights.\n\n### How-To: Validate Against Raw EI JSON\n\n1. Choose a player or minion and a specific skill id from:\n   - `players[*].totalDamageTaken[0]` or `minions[*].totalDamageTakenDist[0]`.\n2. Compute counts: `blocked`, `evaded`, `glanced`, `missed`, `invulned`,\n   `interrupted`, `hits`.\n3. Compute enemy averages from all logs `targets[*].totalDamageDist[0]` for\n   the same skill id.\n4. Apply the formula above and verify the per-skill avoided damage.\n5. Sum over skills with `avoidDamage > 0` to confirm table totals.\n\n### How-To: Debug Mismatches\n\n1. Confirm the same log set is being aggregated.\n2. Verify skill ids match (name collisions can hide differences).\n3. Check if the target data includes the skill id with non-zero\n   `connectedHits`.\n4. Validate that minion names are normalized (`Juvenile` prefix removed).\n5. Compare against a single skill id first, then widen to all skills.\n\n## Conditions (Outgoing + Incoming)\n\nOutgoing condition totals are derived from `players[*].totalDamageDist[*]`\nentries whose resolved skill name maps to a condition label (see\n`CONDITION_NAME_MAP`). For each matching entry:\n\n- `applications` uses `connectedHits` when available, otherwise falls back to\n  `hits` (needed for non-damaging conditions like blind/slow/fear).\n- `damage` uses `totalDamage`.\n\nTotals are aggregated per player and across the squad. The UI can filter to a\nsingle condition or show the all-conditions rollup.\n\nIncoming condition totals are derived from `players[*].totalDamageTaken[*]`\nentries whose resolved skill/buff ID maps to a condition. For each matching\nentry:\n\n- `applications` uses `hits`.\n- `damage` uses `totalDamage`.\n\n### Current Condition Labels (Normalization)\n\nCondition detection normalizes skill/buff names to the following labels. Only\nthese are counted as conditions:\n\n- Bleeding\n- Burning\n- Confusion\n- Poison\n- Torment\n- Vulnerability\n- Weakness\n- Blind\n- Cripple\n- Chill\n- Immobilize\n- Slow\n- Fear\n- Taunt\n\nNotes:\n- The matcher lowercases and trims names, then maps variants like `crippled`\n   `Cripple` and `chilled`  `Chill`.\n- If a skill/buff name does not normalize to one of the labels above, it is\n  excluded from condition totals.\n\n### Limitation (Hosted JSON)\n\nAccurate application counts for non-damaging conditions (e.g., vulnerability,\nweakness, blind, slow) require target buff state timelines\n(`targets[*].buffs[*].statesPerSource`). If hosted JSON lacks this data (common\nin older logs or trimmed outputs), the app falls back to damage distribution\n(`totalDamageDist`) hit counts, which can significantly under-count\napplications for those conditions.\n\n### Condition Application Counting (States Per Source)\n\nWhen `targets[*].buffs[*].statesPerSource` is available, the app computes two\nseparate application counts per condition:\n\n- **Stack Delta Applications (`applicationsFromBuffs`)**  \n  Counts the **sum of positive stack increases** across the states timeline.\n  Example timeline: `0  1  3  2  5` contributes `+1 +2 +3 = 6`.  \n  This aligns with the technical definition of applications as **stacks\n  actually added**.\n\n- **Active State Entries (`applicationsFromBuffsActive`)**  \n  Counts **each non-zero state entry** (each time the state updates while the\n  condition is active). This tracks **how often the buff state changed while\n  active**, which often matches external tooling that counts active segments,\n  but can **over-count** true applications for stacking conditions.\n\n**Tradeoffs:**\n- *Stack delta* is closer to how many stacks were applied but can be lower\n  than tools that count refreshes/active entries.\n- *Active entries* better match some log combiner views but can overstate\n  application counts when stacks are refreshed without adding stacks.\n\n## Deaths / Downs (Taken)\n\n`deaths = defenses[0].deadCount`  \n`downsTaken = defenses[0].downCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDeaths, getPlayerDownsTaken).\n\n## Dodges / Misses / Blocks / Evades (Taken)\n\n`dodges = defenses[0].dodgeCount`  \n`missed = defenses[0].missedCount`  \n`blocked = defenses[0].blockedCount`  \n`evaded = defenses[0].evadedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts`\n(getPlayerDodges, getPlayerMissed, getPlayerBlocked, getPlayerEvaded).\n\n## Resurrects\n\n`resurrects = support[0].resurrects`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerResurrects).\n\n## Distance to Tag\n\n`distanceToTag = statsAll[0].distToCom` if present; otherwise use\n`statsAll[0].stackDist`. If both are missing but combat replay positions are\navailable, compute the average distance to the commander tag over the\navailable timeline. Otherwise `0`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDistanceToTag).\n\n## Kills / Downs / Against Downed (Target Stats)\n\nFor each player, aggregate from `statsTargets[*][0]`:\n\n- `killed`\n- `downed`\n- `againstDownedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getTargetStatTotal).\n\n## Skill Usage Tracker (Rotation Casts)\n\nSkill usage is derived from each player\'s `rotation` entries in EI JSON. For\neach rotation skill entry:\n- `castCount = rotationSkill.skills.length`\n- `skillId = s{rotationSkill.id}`\n- Counts are aggregated per player per log and summed across logs for totals.\n\nThe Skill Usage Tracker supports two display modes:\n- **Total**: raw cast counts per player (per log in the timeline).\n- **Per Second**: cast rate using active time, where\n  `activeSeconds = players[*].activeTimes[0] / 1000` when available, otherwise\n  `durationMS / 1000` from the log details.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (skill usage tracker aggregation).\n\n## APM Breakdown\n\nAPM is derived from the Skill Usage Tracker data (rotation casts). For each\nplayer:\n- `totalCasts = sum(rotationSkill.skills.length)`\n- `apm = totalCasts / (activeSeconds / 60)`\n- `aps = totalCasts / activeSeconds`\n- Auto-attack counts are excluded for the "No Auto" variants.\n\nThe APM Breakdown groups players by profession and aggregates per-skill cast\ncounts across the group.\n\nImplementation: `src/renderer/stats/hooks/useApmStats.ts`.\n\n## Player Skill Breakdown (Damage / Down Contribution / DPS)\n\nPer-player skill damage breakdown is built from the same damage distribution\ninputs as Top Skills (see below):\n- Outgoing skill damage uses `targetDamageDist` (default) or `totalDamageDist`\n  based on settings.\n- Each entry contributes `totalDamage` and `downContribution`.\n\nFor each player and skill:\n- `totalDamage = sum(entry.totalDamage)`\n- `downContribution = sum(entry.downContribution)`\n- `dps = totalDamage / (totalFightSeconds)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Top Skills (Outgoing / Incoming)\n\nTop Outgoing Skills are derived from the squad-wide aggregation of\n`targetDamageDist` (default) or `totalDamageDist` entries:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.connectedHits)`\n- `downContribution = sum(entry.downContribution)`\n\nWhen using target-based outgoing aggregation, total-distribution supplementation\nis mode-sensitive:\n- non-detailed logs (`detailedWvW !== true`): missing/under-reported target\n  skill ids may be supplemented from `totalDamageDist` deltas\n- detailed WvW logs (`detailedWvW === true`): supplementation from\n  `totalDamageDist` is disabled to avoid known outlier max/damage artifacts\n  observed in some EI exports\n\nTop Incoming Skills are derived from `totalDamageTaken`:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.hits)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Boon Output\n\nBoon output tables are computed from player boon generation data:\n- `selfBuffs`, `groupBuffs`, `squadBuffs` (and their `Active` variants)\n- `buffMap` for name/icon/stacking metadata\n- `durationMS`, `activeTimes`, and `group` for normalization\n\nImplementation: `src/shared/boonGeneration.ts`.\n\n## Special Buffs\n\nSpecial (non-boon) buff tables are computed from `buffUptimes` using\n`buffMap` classification and icon metadata. Durations are normalized by\n`activeTimes` and `durationMS`.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n### Sigil/Relic Uptime (Other Metrics)\n\nThe `Sigil/Relic Uptime` section is derived from `specialTables` and filtered\nto entries whose buff name matches `sigil` or `relic` (case-insensitive).\n\n#### Data source and eligibility\n\nFor each squad player and each non-boon buff in `players[*].buffUptimes`:\n\n- Buff metadata source:\n  - `details.buffMap[b{id}]` (fallback `details.buffMap[id]`)\n- Include only:\n  - non-boons (`classification !== "Boon"`)\n  - rows with valid positive uptime signal:\n    - `buffData[0].uptime > 0` or `buffData[0].presence > 0`\n\n#### Two parallel measures stored for each row\n\n1. **Stack/Intensity measure** (`total`, `perSecond`)\n   - used by the generic Special Buffs table\n   - formula:\n     - if stacking buff: `uptimeFactor = uptimeRaw`\n     - else: `uptimeFactor = uptimeRaw / 100`\n     - `totalMs += uptimeFactor * activeMs`\n   - output:\n     - `total = totalMs / 1000`\n     - `perSecond = totalMs / durationMs`\n\n2. **True uptime percentage measure** (`uptimePerSecond`)\n   - used by `Sigil/Relic Uptime`\n   - formula:\n     - non-stacking buff:\n       - `uptimePctRaw = uptimeRaw`\n     - stacking buff:\n       - `uptimePctRaw = presenceRaw`\n     - clamp to percentage domain:\n       - `uptimePct = clamp(uptimePctRaw, 0, 100) / 100`\n     - accumulate:\n       - `uptimeMs += uptimePct * activeMs`\n   - final denominator:\n     - `fullPlayerDurationMs = player.supportActiveMs`\n     - `uptimePerSecond = uptimeMs / fullPlayerDurationMs`\n   - rendered as:\n     - `Uptime% = uptimePerSecond * 100`\n\n#### Why this is the accuracy model\n\nThis method intentionally uses the **same activity window in numerator and\ndenominator** (player active time):\n\n- Numerator:\n  - uptime milliseconds accumulated from each fight over player active time\n- Denominator:\n  - total player active time across selected fights\n\nThat produces a direct interpretation:\n\n- "Percent of the time this player was active that this sigil/relic effect was\n  present."\n\nFor stacking gear buffs, `presence` is used for percent uptime because\n`uptime` on stacking buffs represents average stack intensity, not time-up\npercentage. This avoids under/over-reporting caused by treating stack-average\nas uptime%.\n\n### Fight Comparison (Other Metrics)\n\n`Fight Comparison` compares two selected fights using two focused views:\n\n1. `Target Focus Comparison`\n- Aggregates squad outgoing damage into enemy profession buckets using\n  `players[*].statsTargets[targetIndex][0].damage`.\n- Target labels are resolved from `targets[targetIndex]` with profession-first\n  fallback (`profession -> name -> id`).\n- Per fight, each target bucket includes:\n  - `damage`\n  - `hits`\n  - `share = damage / totalTargetDamage`\n- Comparison table uses the union of target buckets and highlights\n  `shareDelta = fightB.share - fightA.share`.\n\n2. `Squad Metric Comparison`\n- Compares squad-level fight aggregates instead of individual player leaders.\n- Includes broad outcome/pressure/support metrics, including:\n  - win flag, squad size, enemy count, squad KDR\n  - enemy deaths/downs, squad deaths/downs\n  - outgoing/incoming damage and damage delta\n  - cleanses, strips, stability, healing, barrier out\n  - incoming barrier absorption, enemy barrier absorption\n  - squad CC, down contribution, revived players\n- Delta shown is `fightB.value - fightA.value`; color semantics account for\n  metric direction (`higherIsBetter`).\n\nImplementation:\n- aggregation payload build: `src/renderer/stats/computeStatsAggregation.ts` (`fightDiffMode`)\n- section rendering: `src/renderer/stats/sections/FightDiffModeSection.tsx`\n\n## Offense / Defense / Support / Healing Tables\n\nDetailed tables aggregate the per-player totals defined in:\n- `src/renderer/stats/statsMetrics.ts` (metric definitions)\n- `src/shared/dashboardMetrics.ts` (per-player metric extraction)\n- `src/renderer/stats/computeStatsAggregation.ts` (aggregation)\n\nDefense Detailed includes a derived metric:\n- `Minion Damage Taken`:\n  sum `players[*].minions[*].totalDamageTakenDist[0][*].totalDamage`, with\n  fallback to `damageTaken` when `totalDamage` is absent.\n\n## Spike Damage\n\nSpike Damage has four modes:\n- `hit`: highest single skill hit in a fight\n- `1s`: highest rolling 1-second damage burst in a fight\n- `5s`: highest rolling 5-second damage burst in a fight\n- `30s`: highest rolling 30-second damage burst in a fight\n\n### Player Identity\n\nPer-fight player keys are resolved as:\n- `key = "${account}|${profession}"`\n- `account = player.account || player.name || "Unknown"`\n- `profession = player.profession || "Unknown"`\n\nThis same key is used to join:\n- player list\n- per-fight values\n- selected-player chart/drilldown\n\n### Highest Single Hit (`hit`)\n\nFor each squad player (`!notInSquad`), the highest single-hit value is scanned\nfrom damage distributions (skill maps used for names).\n\nValue:\n- candidate fields per entry:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- no inferred single-hit estimate is used (for example,\n  `totalDamage / connectedHits` is intentionally excluded)\n\nSource priority:\n- primary: `targetDamageDist`\n- fallback: `totalDamageDist` only when no target entries are present (or no\n  positive peak was found from target entries)\n\nDetailed WvW safeguard:\n- for logs with `detailedWvW === true`, target-side data is treated as the\n  authoritative source for spike-hit computations whenever present, because\n  some logs can contain total-distribution outlier maxima that are inconsistent\n  with target-distribution entries.\n\nSkill label:\n- `skillName` from `skillMap`/`buffMap` by id fallback (`Unknown Skill` if missing)\n\n### Rolling Burst (`1s` / `5s`)\n\nBurst uses per-second **delta** damage:\n1. Build cumulative damage for phase 0:\n   - prefer aggregated target phase 0 from `targetDamage1S` when available\n   - fallback to `damage1S[0]`\n2. Convert cumulative -> per-second deltas:\n   - `delta[i] = max(0, cumulative[i] - cumulative[i-1])` (`i=0` uses prev `0`)\n3. Compute rolling windows:\n- `burst1s = max(sum(delta[i..i]))`\n- `burst5s = max(sum(delta[i..i+4]))`\n- `burst30s = max(sum(delta[i..i+29]))`\n\nImplementation includes support for EI shape variants:\n- Shape A: `[phase][target][time]`\n- Shape B: `[target][phase][time]`\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses the corresponding max series as the dashed reference line.\n\n### Drilldown (5s Buckets)\n\nSelected fight drilldown is always rendered as 5-second buckets.\n\nBucket source:\n- preferred: precomputed `buckets5s`\n- fallback: recompute from selected player per-second delta series\n\nBucket value:\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count:\n- extended to full fight duration (`ceil(durationMS / 5000)`) so trailing\n  down/death events are representable even if damage is zero late-fight.\n\n### Down / Death Markers\n\nMarker events are read from `combatReplayData`:\n- supports both replay object and segmented replay-array forms\n- uses `down` and `dead` arrays\n\nTimestamp normalization:\n- handles mixed encodings (ms/seconds/large scales) and offset baselines\n  using replay starts/global starts/log offsets\n- selects the shift/scale that maximizes in-range alignment with fight buckets\n\nMarker placement:\n- convert normalized time to bucket index:\n  - `index = floor(timeMs / 5000)`\n- constrain to visible drilldown bucket range\n- render:\n  - down marker: yellow\n  - death marker: red\n\nWeb report parity:\n- precomputed spike payload stores marker indices as:\n  - `downIndices5s`\n  - `deathIndices5s`\n- embedded/web mode can render markers without raw `logs` by consuming these fields.\n\nImplementation:\n- Aggregation/precompute: `src/renderer/stats/computeStatsAggregation.ts`\n- Runtime selection/drilldown + fallbacks: `src/renderer/StatsView.tsx`\n- Chart rendering/interaction: `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Incoming Strike Damage\n\nIncoming Strike Damage mirrors Spike Damage interactions (same chart modes,\nselection, drilldown, animations, and fight navigation) but changes the data\nsource and grouping:\n\n- grouped by **enemy class** (`targets[*].profession`) instead of squad player\n- uses **incoming strike timelines** and target damage distributions\n- selected-fight expansion includes a **skill-level incoming strike table**\n\n### Identity and Grouping\n\nPer-fight keys are enemy profession labels:\n\n- `key = resolveProfessionLabel(target.profession || target.name || target.id)`\n- fallback key: `"Unknown"`\n\nAll enemy targets in a fight that resolve to the same profession are merged\ninto one class bucket for that fight.\n\n### Damage Modes (`hit`, `1s`, `5s`, `30s`)\n\nModes are defined the same way as Spike Damage:\n\n- `hit`: highest single incoming strike hit seen in the class bucket\n- `1s`: highest rolling 1-second incoming strike burst\n- `5s`: highest rolling 5-second incoming strike burst\n- `30s`: highest rolling 30-second incoming strike burst\n\n`hit` source:\n\n- scan target strike distributions (`totalDamageDist`) and keep max of:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- ignore `indirectDamage` entries\n\n### Incoming Timeline Construction\n\nFor each enemy target, incoming strike series is built with the following\npriority:\n\n1. Squad-attributed incoming-vs-target cumulative strike:\n   - sum `players[*].targetPowerDamage1S[targetIndex]` across all squad players\n2. Fallback target timeline:\n   - `targets[targetIndex].powerDamage1S`\n3. Final fallback:\n   - `targets[targetIndex].damage1S`\n\nEach chosen cumulative series is converted to per-second deltas:\n\n- `delta[i] = max(0, cumulative[i] - cumulative[i-1])`\n- `delta[0] = max(0, cumulative[0])`\n\nClass series is then:\n\n- sum of target delta series for all targets in that class\n\nBurst windows are computed from class per-second deltas with the same rolling\nwindow logic used by Spike Damage.\n\n### Timeline Fallback When Target Timelines Are Missing\n\nIf enemy target timelines are empty/unusable for a fight:\n\n1. Build squad incoming strike series from `players[*].powerDamageTaken1S`\n   (cumulative -> per-second deltas).\n2. Compute enemy class counts from `targets[*]` (enemy player targets only).\n3. Distribute squad incoming per-second totals across classes proportionally by\n   class count in that fight.\n\nThis preserves non-zero burst/drilldown behavior for logs lacking complete\ntarget timeline detail.\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses its corresponding fight max as the dashed reference\nseries in the chart.\n\n### Fight Drilldown (5s Buckets)\n\nSelected-fight drilldown is 5-second buckets from class per-second deltas:\n\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count extends to at least `ceil(durationMS / 5000)` so late-fight\nmarker events can still be shown even when trailing bucket damage is zero.\n\nDown/death markers use replay event times from squad players and are converted\nto indices with the same normalization/indexing logic as Spike Damage\n(ms/sec scaling, offset hints, then `floor(timeMs / 5000)` clamp).\n\n### Selected Fight Skill Table (Incoming Skill Damage)\n\nThe expanded table for the selected fight/class is generated from enemy target\nstrike distributions:\n\n1. For each target in the selected class:\n   - read `target.totalDamageDist` entries\n   - ignore `indirectDamage`\n2. Resolve each skill id via:\n   - `skillMap[s{id}]`, then `skillMap[id]`\n   - fallback `buffMap[b{id}]`, then `buffMap[id]`\n3. Aggregate per skill name:\n   - `damage += entry.totalDamage`\n   - `hits += entry.connectedHits || entry.hits`\n   - preserve first available icon URL\n4. Sort desc by damage and keep top rows for rendering.\n\n### Why Some Skill Names Can Look Off-Class\n\nSkill names in incoming strike tables are tied to damage event ids in EI\ndamage distributions, not to profession skill catalogs. Because of that,\noff-class-looking names can appear in a class bucket (for example via\nreflected/returned projectiles, transformed skills, or attribution context).\nThis is expected under the current event-id attribution model.\n\n### Implementation\n\n- Aggregation/precompute:\n  - `src/renderer/stats/computeStatsAggregation.ts` (`incomingStrikeDamage`)\n- Runtime selection/drilldown/table rows:\n  - `src/renderer/StatsView.tsx`\n- UI rendering (card, chart, drilldown, skill table):\n  - `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Timeline / Map Distribution / Fight Breakdown\n\nThese sections use log-level metadata:\n- `details.uploadTime`, `details.durationMS`, `details.success`\n- `details.targets` (enemy counts, fake target filtering)\n- `details.zone`/`mapName`/`map`/`location`/`fightName` for map labels\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Squad Composition\n\nSquad composition is derived from each player\'s resolved profession name\nand aggregated across logs.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Attendance Ledger\n\nAttendance is computed from squad-player participation across all valid logs.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, account/name/profession/group)\n- `players[*].activeTimes[0]`\n- `details.durationMS` (fallback when active time is missing)\n\n### Player Inclusion\n\n- Include only squad players: `!player.notInSquad`.\n- Player key for aggregation is:\n  - `player.account` when present and not `"Unknown"`\n  - otherwise `player.name`\n\n### Time Aggregation\n\nPer squad player entry:\n\n- `activeMs = players[*].activeTimes[0]` when numeric, else `details.durationMS || 0`\n- `combatTimeMs[player] += activeMs`\n- if profession is known:\n  - `professionTimeMs[player][profession] += activeMs`\n\nAlso track appearance window per player:\n\n- `firstSeenFightTs`: earliest fight timestamp where player appears in squad\n- `lastSeenFightTs`: latest fight timestamp where player appears in squad\n- `lastSeenFightDurationMs`: duration of that latest fight\n\nFinal elapsed squad time:\n\n- `squadTimeMs = max(0, (lastSeenFightTs + lastSeenFightDurationMs) - firstSeenFightTs)`\n- fallback to `combatTimeMs` when timestamps are unavailable\n\nCharacter names shown in attendance are the unique set of `player.name` values\nseen for that player key.\n\n### Row Shape / Sorting\n\nFor each aggregated player:\n\n- `account`: aggregation key\n- `characterNames`: unique character names, sorted ascending\n- `classTimes`: entries from `professionTimeMs`, filtered to\n  - `profession !== "Unknown"`\n  - `timeMs > 0`\n- `combatTimeMs`: total active combat time\n- `squadTimeMs`: elapsed time between first seen fight start and last seen fight end\n\nRows are sorted by:\n1. `squadTimeMs` descending\n2. `account` ascending\n\nRows with `account` missing/`"Unknown"` are excluded from final output.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`attendanceData`).\n\n## Squad Comp By Fight\n\nThis section provides per-fight party-line roster composition.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, group, account/name/profession)\n- `details.durationMS`\n- fight metadata/time fields used by `resolveFightTimestamp` and `resolveMapName`\n\n### Fight Ordering\n\nFights are sorted by resolved fight timestamp ascending:\n\n- `uploadTime`\n- fallback: `timeStartStd`, `timeStart`, `timeEndStd`, `timeEnd`\n\n### Party Assignment\n\nFor each squad player (`!player.notInSquad`) in a fight:\n\n- `party = Number(player.group)` when finite and `> 0`, else `0` (`Unassigned`)\n- profession label is normalized via `resolveProfessionLabel(...)`\n\nPer party:\n\n- append player row `{ account, characterName, profession }`\n- increment `classCounts[profession] += 1`\n\n### Party / Player Sorting\n\nWithin each party:\n\n- players are sorted by `profession`, then `account` ascending\n\nParty rows are sorted by:\n1. party number ascending for `1..n`\n2. party `0` (`Unassigned`) last\n\n### Output Shape\n\nPer fight:\n\n- `id`: file/log id fallback chain\n- `label`: `F{index+1}` in timestamp-sorted order\n- `timestamp`: resolved fight timestamp\n- `mapName`: resolved map name\n- `duration`: `formatDurationMs(details.durationMS)`\n- `parties`: sorted party rows with class counts and account list\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`squadCompByFight`).\n\n## Top Stats / MVP\n\nTop stats are computed by ranking the leaderboards for key metrics (down\ncontribution, barrier, healing, cleanses, strips, stability, CC, etc).\nMVP scoring uses weighted ratios against these leaderboards and is configured\nvia `statsViewSettings` + `mvpWeights`.\n\nParticipation is computed as `logsJoined` (number of logs where the player\nappears in the squad).\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Known Caveats\n\n- EI JSON versions can add/remove fields; missing fields always fall back to `0`.\n- `distToCom` and `stackDist` are not guaranteed to exist in every log; `distanceToTag` may be `0`.\n- Incoming CC/strips use weighted skill mappings; mismatches can occur if EI changes skill ids or hit accounting.\n- Stability generation depends on buff metadata presence (`buffMap`) and correct `durationMS`.\n- Damage uses `dpsAll[0].damage` (player total) rather than summing per-target totals, which may differ when targets are filtered or merged.\n- Skill usage totals are raw cast counts unless the per-second view is selected; missing `activeTimes` falls back to log duration for rate calculations.\n- Some detailed WvW EI exports may contain outlier values in `totalDamageDist`\n  (notably `max` on specific skill rows). Spike-hit and target-mode outgoing\n  aggregations prefer/anchor to `targetDamageDist` to reduce false outliers.\n\n## Manifest & Field Usage\n\nThe dev dataset manifest is generated by the app when exporting logs. It is\nstored as `dev/datasets/<dataset>/manifest.json` and contains:\n\n- `id`: log id or generated id\n- `filePath`: relative path to the log JSON\n- `fightName`\n- `encounterDuration`\n- `uploadTime`\n- `timeStart`\n- `timeStartStd`\n- `durationMS`\n- `success`\n- `playerCount`\n- `squadCount`\n- `nonSquadCount`\n\nStats calculations **do not** use the manifest fields directly; the manifest\nis used for listing logs and metadata only. All computations are derived from\nthe EI JSON log payload fields listed in the **Input Contract** and the\nsections above.\n',E$=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Sx=v.createContext({}),tN=v.createContext(null),Nx=typeof document<"u",Qde=Nx?v.useLayoutEffect:v.useEffect,D$=v.createContext({strict:!1}),nN=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Zde="framerAppearId",M$="data-"+nN(Zde);function Jde(e,t,n,r){const{visualElement:i}=v.useContext(Sx),a=v.useContext(D$),s=v.useContext(tN),o=v.useContext(E$).reducedMotion,l=v.useRef();r=r||a.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:i,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:o}));const c=l.current;v.useInsertionEffect(()=>{c&&c.update(n,s)});const d=v.useRef(!!(n[M$]&&!window.HandoffComplete));return Qde(()=>{c&&(c.render(),d.current&&c.animationState&&c.animationState.animateChanges())}),v.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function gu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function efe(e,t,n){return v.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):gu(n)&&(n.current=r))},[t])}function tm(e){return typeof e=="string"||Array.isArray(e)}function Cx(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const rN=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],iN=["initial",...rN];function jx(e){return Cx(e.animate)||iN.some(t=>tm(e[t]))}function O$(e){return!!(jx(e)||e.variants)}function tfe(e,t){if(jx(e)){const{initial:n,animate:r}=e;return{initial:n===!1||tm(n)?n:void 0,animate:tm(r)?r:void 0}}return e.inherit!==!1?t:{}}function nfe(e){const{initial:t,animate:n}=tfe(e,v.useContext(Sx));return v.useMemo(()=>({initial:t,animate:n}),[XT(t),XT(n)])}function XT(e){return Array.isArray(e)?e.join(" "):e}const QT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},nm={};for(const e in QT)nm[e]={isEnabled:t=>QT[e].some(n=>!!t[n])};function rfe(e){for(const t in e)nm[t]={...nm[t],...e[t]}}const I$=v.createContext({}),_$=v.createContext({}),ife=Symbol.for("motionComponentSymbol");function afe({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&rfe(e);function a(o,l){let c;const d={...v.useContext(E$),...o,layoutId:sfe(o)},{isStatic:f}=d,h=nfe(o),m=r(o,f);if(!f&&Nx){h.visualElement=Jde(i,m,d,t);const p=v.useContext(_$),g=v.useContext(D$).strict;h.visualElement&&(c=h.visualElement.loadFeatures(d,g,e,p))}return v.createElement(Sx.Provider,{value:h},c&&h.visualElement?v.createElement(c,{visualElement:h.visualElement,...d}):null,n(i,o,efe(m,h.visualElement,l),m,f,h.visualElement))}const s=v.forwardRef(a);return s[ife]=i,s}function sfe({layoutId:e}){const t=v.useContext(I$).id;return t&&e!==void 0?t+"-"+e:e}function ofe(e){function t(r,i={}){return afe(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const lfe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function aN(e){return typeof e!="string"||e.includes("-")?!1:!!(lfe.indexOf(e)>-1||/[A-Z]/.test(e))}const Wg={};function cfe(e){Object.assign(Wg,e)}const Vm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ic=new Set(Vm);function L$(e,{layout:t,layoutId:n}){return Ic.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Wg[e]||e==="opacity")}const ra=e=>!!(e&&e.getVelocity),ufe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},dfe=Vm.length;function ffe(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let a="";for(let s=0;s<dfe;s++){const o=Vm[s];if(e[o]!==void 0){const l=ufe[o]||o;a+=`${l}(${e[o]}) `}}return t&&!e.z&&(a+="translateZ(0)"),a=a.trim(),i?a=i(e,r?"":a):n&&r&&(a="none"),a}const $$=e=>t=>typeof t=="string"&&t.startsWith(e),F$=$$("--"),pw=$$("var(--"),mfe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,hfe=(e,t)=>t&&typeof e=="number"?t.transform(e):e,gl=(e,t,n)=>Math.min(Math.max(n,e),t),_c={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},cf={..._c,transform:e=>gl(0,1,e)},Uh={..._c,default:1},uf=e=>Math.round(e*1e5)/1e5,Ax=/(-)?([\d]*\.?[\d])+/g,R$=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,pfe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Wm(e){return typeof e=="string"}const Hm=e=>({test:t=>Wm(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Uo=Hm("deg"),Ls=Hm("%"),Wt=Hm("px"),gfe=Hm("vh"),xfe=Hm("vw"),ZT={...Ls,parse:e=>Ls.parse(e)/100,transform:e=>Ls.transform(e*100)},JT={..._c,transform:Math.round},B$={borderWidth:Wt,borderTopWidth:Wt,borderRightWidth:Wt,borderBottomWidth:Wt,borderLeftWidth:Wt,borderRadius:Wt,radius:Wt,borderTopLeftRadius:Wt,borderTopRightRadius:Wt,borderBottomRightRadius:Wt,borderBottomLeftRadius:Wt,width:Wt,maxWidth:Wt,height:Wt,maxHeight:Wt,size:Wt,top:Wt,right:Wt,bottom:Wt,left:Wt,padding:Wt,paddingTop:Wt,paddingRight:Wt,paddingBottom:Wt,paddingLeft:Wt,margin:Wt,marginTop:Wt,marginRight:Wt,marginBottom:Wt,marginLeft:Wt,rotate:Uo,rotateX:Uo,rotateY:Uo,rotateZ:Uo,scale:Uh,scaleX:Uh,scaleY:Uh,scaleZ:Uh,skew:Uo,skewX:Uo,skewY:Uo,distance:Wt,translateX:Wt,translateY:Wt,translateZ:Wt,x:Wt,y:Wt,z:Wt,perspective:Wt,transformPerspective:Wt,opacity:cf,originX:ZT,originY:ZT,originZ:Wt,zIndex:JT,fillOpacity:cf,strokeOpacity:cf,numOctaves:JT};function sN(e,t,n,r){const{style:i,vars:a,transform:s,transformOrigin:o}=e;let l=!1,c=!1,d=!0;for(const f in t){const h=t[f];if(F$(f)){a[f]=h;continue}const m=B$[f],p=hfe(h,m);if(Ic.has(f)){if(l=!0,s[f]=p,!d)continue;h!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(c=!0,o[f]=p):i[f]=p}if(t.transform||(l||r?i.transform=ffe(e.transform,n,d,r):i.transform&&(i.transform="none")),c){const{originX:f="50%",originY:h="50%",originZ:m=0}=o;i.transformOrigin=`${f} ${h} ${m}`}}const oN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function z$(e,t,n){for(const r in t)!ra(t[r])&&!L$(r,n)&&(e[r]=t[r])}function vfe({transformTemplate:e},t,n){return v.useMemo(()=>{const r=oN();return sN(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function yfe(e,t,n){const r=e.style||{},i={};return z$(i,r,e),Object.assign(i,vfe(e,t,n)),e.transformValues?e.transformValues(i):i}function bfe(e,t,n){const r={},i=yfe(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const wfe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Hg(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||wfe.has(e)}let U$=e=>!Hg(e);function kfe(e){e&&(U$=t=>t.startsWith("on")?!Hg(t):e(t))}try{kfe(require("@emotion/is-prop-valid").default)}catch{}function Sfe(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(U$(i)||n===!0&&Hg(i)||!t&&!Hg(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function eE(e,t,n){return typeof e=="string"?e:Wt.transform(t+n*e)}function Nfe(e,t,n){const r=eE(t,e.x,e.width),i=eE(n,e.y,e.height);return`${r} ${i}`}const Cfe={offset:"stroke-dashoffset",array:"stroke-dasharray"},jfe={offset:"strokeDashoffset",array:"strokeDasharray"};function Afe(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?Cfe:jfe;e[a.offset]=Wt.transform(-r);const s=Wt.transform(t),o=Wt.transform(n);e[a.array]=`${s} ${o}`}function lN(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:a,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...c},d,f,h){if(sN(e,c,d,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:p,dimensions:g}=e;m.transform&&(g&&(p.transform=m.transform),delete m.transform),g&&(i!==void 0||a!==void 0||p.transform)&&(p.transformOrigin=Nfe(g,i!==void 0?i:.5,a!==void 0?a:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&Afe(m,s,o,l,!1)}const V$=()=>({...oN(),attrs:{}}),cN=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Pfe(e,t,n,r){const i=v.useMemo(()=>{const a=V$();return lN(a,t,{enableHardwareAcceleration:!1},cN(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};z$(a,e.style,e),i.style={...a,...i.style}}return i}function Tfe(e=!1){return(n,r,i,{latestValues:a},s)=>{const l=(aN(n)?Pfe:bfe)(r,a,s,n),d={...Sfe(r,typeof n=="string",e),...l,ref:i},{children:f}=r,h=v.useMemo(()=>ra(f)?f.get():f,[f]);return v.createElement(n,{...d,children:h})}}function W$(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const a in n)e.style.setProperty(a,n[a])}const H$=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function q$(e,t,n,r){W$(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(H$.has(i)?i:nN(i),t.attrs[i])}function uN(e,t){const{style:n}=e,r={};for(const i in n)(ra(n[i])||t.style&&ra(t.style[i])||L$(i,e))&&(r[i]=n[i]);return r}function K$(e,t){const n=uN(e,t);for(const r in e)if(ra(e[r])||ra(t[r])){const i=Vm.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function dN(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function Efe(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const qg=e=>Array.isArray(e),Dfe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Mfe=e=>qg(e)?e[e.length-1]||0:e;function pp(e){const t=ra(e)?e.get():e;return Dfe(t)?t.toValue():t}function Ofe({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,a){const s={latestValues:Ife(r,i,a,e),renderState:t()};return n&&(s.mount=o=>n(r,o,s)),s}const G$=e=>(t,n)=>{const r=v.useContext(Sx),i=v.useContext(tN),a=()=>Ofe(e,t,r,i);return n?a():Efe(a)};function Ife(e,t,n,r){const i={},a=r(e,{});for(const h in a)i[h]=pp(a[h]);let{initial:s,animate:o}=e;const l=jx(e),c=O$(e);t&&c&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const f=d?o:s;return f&&typeof f!="boolean"&&!Cx(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const p=dN(e,m);if(!p)return;const{transitionEnd:g,transition:y,...x}=p;for(const b in x){let w=x[b];if(Array.isArray(w)){const k=d?w.length-1:0;w=w[k]}w!==null&&(i[b]=w)}for(const b in g)i[b]=g[b]}),i}const Dr=e=>e;class tE{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function _fe(e){let t=new tE,n=new tE,r=0,i=!1,a=!1;const s=new WeakSet,o={schedule:(l,c=!1,d=!1)=>{const f=d&&i,h=f?t:n;return c&&s.add(l),h.add(l)&&f&&i&&(r=t.order.length),l},cancel:l=>{n.remove(l),s.delete(l)},process:l=>{if(i){a=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let c=0;c<r;c++){const d=t.order[c];d(l),s.has(d)&&(o.schedule(d),e())}i=!1,a&&(a=!1,o.process(l))}};return o}const Vh=["prepare","read","update","preRender","render","postRender"],Lfe=40;function $fe(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=Vh.reduce((f,h)=>(f[h]=_fe(()=>n=!0),f),{}),s=f=>a[f].process(i),o=()=>{const f=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,Lfe),1),i.timestamp=f,i.isProcessing=!0,Vh.forEach(s),i.isProcessing=!1,n&&t&&(r=!1,e(o))},l=()=>{n=!0,r=!0,i.isProcessing||e(o)};return{schedule:Vh.reduce((f,h)=>{const m=a[h];return f[h]=(p,g=!1,y=!1)=>(n||l(),m.schedule(p,g,y)),f},{}),cancel:f=>Vh.forEach(h=>a[h].cancel(f)),state:i,steps:a}}const{schedule:ar,cancel:So,state:yi,steps:Yv}=$fe(typeof requestAnimationFrame<"u"?requestAnimationFrame:Dr,!0),Ffe={useVisualState:G$({scrapeMotionValuesFromProps:K$,createRenderState:V$,onMount:(e,t,{renderState:n,latestValues:r})=>{ar.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ar.render(()=>{lN(n,r,{enableHardwareAcceleration:!1},cN(t.tagName),e.transformTemplate),q$(t,n)})}})},Rfe={useVisualState:G$({scrapeMotionValuesFromProps:uN,createRenderState:oN})};function Bfe(e,{forwardMotionProps:t=!1},n,r){return{...aN(e)?Ffe:Rfe,preloadedFeatures:n,useRender:Tfe(t),createVisualElement:r,Component:e}}function so(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Y$=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Px(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const zfe=e=>t=>Y$(t)&&e(t,Px(t));function uo(e,t,n,r){return so(e,t,zfe(n),r)}const Ufe=(e,t)=>n=>t(e(n)),dl=(...e)=>e.reduce(Ufe);function X$(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const nE=X$("dragHorizontal"),rE=X$("dragVertical");function Q$(e){let t=!1;if(e==="y")t=rE();else if(e==="x")t=nE();else{const n=nE(),r=rE();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function Z$(){const e=Q$(!0);return e?(e(),!1):!0}class jl{constructor(t){this.isMounted=!1,this.node=t}update(){}}function iE(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(a,s)=>{if(a.pointerType==="touch"||Z$())return;const o=e.getProps();e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",t),o[r]&&ar.update(()=>o[r](a,s))};return uo(e.current,n,i,{passive:!e.getProps()[r]})}class Vfe extends jl{mount(){this.unmount=dl(iE(this.node,!0),iE(this.node,!1))}unmount(){}}class Wfe extends jl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=dl(so(this.node.current,"focus",()=>this.onFocus()),so(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const J$=(e,t)=>t?e===t?!0:J$(e,t.parentElement):!1;function Xv(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Px(n))}class Hfe extends jl{constructor(){super(...arguments),this.removeStartListeners=Dr,this.removeEndListeners=Dr,this.removeAccessibleListeners=Dr,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=uo(window,"pointerup",(o,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:f}=this.node.getProps();ar.update(()=>{!f&&!J$(this.node.current,o.target)?d&&d(o,l):c&&c(o,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=uo(window,"pointercancel",(o,l)=>this.cancelPress(o,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=dl(a,s),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const s=o=>{o.key!=="Enter"||!this.checkPressEnd()||Xv("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&ar.update(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=so(this.node.current,"keyup",s),Xv("down",(o,l)=>{this.startPress(o,l)})},n=so(this.node.current,"keydown",t),r=()=>{this.isPressing&&Xv("cancel",(a,s)=>this.cancelPress(a,s))},i=so(this.node.current,"blur",r);this.removeAccessibleListeners=dl(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ar.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Z$()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ar.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=uo(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=so(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=dl(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const gw=new WeakMap,Qv=new WeakMap,qfe=e=>{const t=gw.get(e.target);t&&t(e)},Kfe=e=>{e.forEach(qfe)};function Gfe({root:e,...t}){const n=e||document;Qv.has(n)||Qv.set(n,{});const r=Qv.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(Kfe,{root:e,...t})),r[i]}function Yfe(e,t,n){const r=Gfe(t);return gw.set(e,n),r.observe(e),()=>{gw.delete(e),r.unobserve(e)}}const Xfe={some:0,all:1};class Qfe extends jl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Xfe[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,a&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=c?d:f;h&&h(l)};return Yfe(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Zfe(t,n))&&this.startObserver()}unmount(){}}function Zfe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Jfe={inView:{Feature:Qfe},tap:{Feature:Hfe},focus:{Feature:Wfe},hover:{Feature:Vfe}};function eF(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function eme(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function tme(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Tx(e,t,n){const r=e.getProps();return dN(r,t,n!==void 0?n:r.custom,eme(e),tme(e))}let fN=Dr;const fc=e=>e*1e3,fo=e=>e/1e3,nme={current:!1},tF=e=>Array.isArray(e)&&typeof e[0]=="number";function nF(e){return!!(!e||typeof e=="string"&&rF[e]||tF(e)||Array.isArray(e)&&e.every(nF))}const Kd=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,rF={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Kd([0,.65,.55,1]),circOut:Kd([.55,0,1,.45]),backIn:Kd([.31,.01,.66,-.59]),backOut:Kd([.33,1.53,.69,.99])};function iF(e){if(e)return tF(e)?Kd(e):Array.isArray(e)?e.map(iF):rF[e]}function rme(e,t,n,{delay:r=0,duration:i,repeat:a=0,repeatType:s="loop",ease:o,times:l}={}){const c={[t]:n};l&&(c.offset=l);const d=iF(o);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"})}function ime(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const aF=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,ame=1e-7,sme=12;function ome(e,t,n,r,i){let a,s,o=0;do s=t+(n-t)/2,a=aF(s,r,i)-e,a>0?n=s:t=s;while(Math.abs(a)>ame&&++o<sme);return s}function qm(e,t,n,r){if(e===t&&n===r)return Dr;const i=a=>ome(a,0,1,e,n);return a=>a===0||a===1?a:aF(i(a),t,r)}const lme=qm(.42,0,1,1),cme=qm(0,0,.58,1),sF=qm(.42,0,.58,1),ume=e=>Array.isArray(e)&&typeof e[0]!="number",oF=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,lF=e=>t=>1-e(1-t),mN=e=>1-Math.sin(Math.acos(e)),cF=lF(mN),dme=oF(mN),uF=qm(.33,1.53,.69,.99),hN=lF(uF),fme=oF(hN),mme=e=>(e*=2)<1?.5*hN(e):.5*(2-Math.pow(2,-10*(e-1))),hme={linear:Dr,easeIn:lme,easeInOut:sF,easeOut:cme,circIn:mN,circInOut:dme,circOut:cF,backIn:hN,backInOut:fme,backOut:uF,anticipate:mme},aE=e=>{if(Array.isArray(e)){fN(e.length===4);const[t,n,r,i]=e;return qm(t,n,r,i)}else if(typeof e=="string")return hme[e];return e},pN=(e,t)=>n=>!!(Wm(n)&&pfe.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),dF=(e,t,n)=>r=>{if(!Wm(r))return r;const[i,a,s,o]=r.match(Ax);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},pme=e=>gl(0,255,e),Zv={..._c,transform:e=>Math.round(pme(e))},ic={test:pN("rgb","red"),parse:dF("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Zv.transform(e)+", "+Zv.transform(t)+", "+Zv.transform(n)+", "+uf(cf.transform(r))+")"};function gme(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const xw={test:pN("#"),parse:gme,transform:ic.transform},xu={test:pN("hsl","hue"),parse:dF("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Ls.transform(uf(t))+", "+Ls.transform(uf(n))+", "+uf(cf.transform(r))+")"},_i={test:e=>ic.test(e)||xw.test(e)||xu.test(e),parse:e=>ic.test(e)?ic.parse(e):xu.test(e)?xu.parse(e):xw.parse(e),transform:e=>Wm(e)?e:e.hasOwnProperty("red")?ic.transform(e):xu.transform(e)},hr=(e,t,n)=>-n*e+n*t+e;function Jv(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function xme({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,s=0;if(!t)i=a=s=n;else{const o=n<.5?n*(1+t):n+t-n*t,l=2*n-o;i=Jv(l,o,e+1/3),a=Jv(l,o,e),s=Jv(l,o,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}const ey=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},vme=[xw,ic,xu],yme=e=>vme.find(t=>t.test(e));function sE(e){const t=yme(e);let n=t.parse(e);return t===xu&&(n=xme(n)),n}const fF=(e,t)=>{const n=sE(e),r=sE(t),i={...n};return a=>(i.red=ey(n.red,r.red,a),i.green=ey(n.green,r.green,a),i.blue=ey(n.blue,r.blue,a),i.alpha=hr(n.alpha,r.alpha,a),ic.transform(i))};function bme(e){var t,n;return isNaN(e)&&Wm(e)&&(((t=e.match(Ax))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(R$))===null||n===void 0?void 0:n.length)||0)>0}const mF={regex:mfe,countKey:"Vars",token:"${v}",parse:Dr},hF={regex:R$,countKey:"Colors",token:"${c}",parse:_i.parse},pF={regex:Ax,countKey:"Numbers",token:"${n}",parse:_c.parse};function ty(e,{regex:t,countKey:n,token:r,parse:i}){const a=e.tokenised.match(t);a&&(e["num"+n]=a.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...a.map(i)))}function Kg(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&ty(n,mF),ty(n,hF),ty(n,pF),n}function gF(e){return Kg(e).values}function xF(e){const{values:t,numColors:n,numVars:r,tokenised:i}=Kg(e),a=t.length;return s=>{let o=i;for(let l=0;l<a;l++)l<r?o=o.replace(mF.token,s[l]):l<r+n?o=o.replace(hF.token,_i.transform(s[l])):o=o.replace(pF.token,uf(s[l]));return o}}const wme=e=>typeof e=="number"?0:e;function kme(e){const t=gF(e);return xF(e)(t.map(wme))}const xl={test:bme,parse:gF,createTransformer:xF,getAnimatableNone:kme},vF=(e,t)=>n=>`${n>0?t:e}`;function yF(e,t){return typeof e=="number"?n=>hr(e,t,n):_i.test(e)?fF(e,t):e.startsWith("var(")?vF(e,t):wF(e,t)}const bF=(e,t)=>{const n=[...e],r=n.length,i=e.map((a,s)=>yF(a,t[s]));return a=>{for(let s=0;s<r;s++)n[s]=i[s](a);return n}},Sme=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=yF(e[i],t[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}},wF=(e,t)=>{const n=xl.createTransformer(t),r=Kg(e),i=Kg(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?dl(bF(r.values,i.values),n):vF(e,t)},rm=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},oE=(e,t)=>n=>hr(e,t,n);function Nme(e){return typeof e=="number"?oE:typeof e=="string"?_i.test(e)?fF:wF:Array.isArray(e)?bF:typeof e=="object"?Sme:oE}function Cme(e,t,n){const r=[],i=n||Nme(e[0]),a=e.length-1;for(let s=0;s<a;s++){let o=i(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||Dr:t;o=dl(l,o)}r.push(o)}return r}function kF(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;if(fN(a===t.length),a===1)return()=>t[0];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=Cme(t,r,i),o=s.length,l=c=>{let d=0;if(o>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const f=rm(e[d],e[d+1],c);return s[d](f)};return n?c=>l(gl(e[0],e[a-1],c)):l}function jme(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=rm(0,t,r);e.push(hr(n,1,i))}}function Ame(e){const t=[0];return jme(t,e.length-1),t}function Pme(e,t){return e.map(n=>n*t)}function Tme(e,t){return e.map(()=>t||sF).splice(0,e.length-1)}function Gg({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=ume(r)?r.map(aE):aE(r),a={done:!1,value:t[0]},s=Pme(n&&n.length===t.length?n:Ame(t),e),o=kF(s,t,{ease:Array.isArray(i)?i:Tme(t,i)});return{calculatedDuration:e,next:l=>(a.value=o(l),a.done=l>=e,a)}}function SF(e,t){return t?e*(1e3/t):0}const Eme=5;function NF(e,t,n){const r=Math.max(t-Eme,0);return SF(n-e(r),t-r)}const ny=.001,Dme=.01,Mme=10,Ome=.05,Ime=1;function _me({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,a,s=1-t;s=gl(Ome,Ime,s),e=gl(Dme,Mme,fo(e)),s<1?(i=c=>{const d=c*s,f=d*e,h=d-n,m=vw(c,s),p=Math.exp(-f);return ny-h/m*p},a=c=>{const f=c*s*e,h=f*n+n,m=Math.pow(s,2)*Math.pow(c,2)*e,p=Math.exp(-f),g=vw(Math.pow(c,2),s);return(-i(c)+ny>0?-1:1)*((h-m)*p)/g}):(i=c=>{const d=Math.exp(-c*e),f=(c-n)*e+1;return-ny+d*f},a=c=>{const d=Math.exp(-c*e),f=(n-c)*(e*e);return d*f});const o=5/e,l=$me(i,a,o);if(e=fc(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:e}}}const Lme=12;function $me(e,t,n){let r=n;for(let i=1;i<Lme;i++)r=r-e(r)/t(r);return r}function vw(e,t){return e*Math.sqrt(1-t*t)}const Fme=["duration","bounce"],Rme=["stiffness","damping","mass"];function lE(e,t){return t.some(n=>e[n]!==void 0)}function Bme(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!lE(e,Rme)&&lE(e,Fme)){const n=_me(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function CF({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],a=e[e.length-1],s={done:!1,value:i},{stiffness:o,damping:l,mass:c,duration:d,velocity:f,isResolvedFromDuration:h}=Bme({...r,velocity:-fo(r.velocity||0)}),m=f||0,p=l/(2*Math.sqrt(o*c)),g=a-i,y=fo(Math.sqrt(o/c)),x=Math.abs(g)<5;n||(n=x?.01:2),t||(t=x?.005:.5);let b;if(p<1){const w=vw(y,p);b=k=>{const C=Math.exp(-p*y*k);return a-C*((m+p*y*g)/w*Math.sin(w*k)+g*Math.cos(w*k))}}else if(p===1)b=w=>a-Math.exp(-y*w)*(g+(m+y*g)*w);else{const w=y*Math.sqrt(p*p-1);b=k=>{const C=Math.exp(-p*y*k),N=Math.min(w*k,300);return a-C*((m+p*y*g)*Math.sinh(N)+w*g*Math.cosh(N))/w}}return{calculatedDuration:h&&d||null,next:w=>{const k=b(w);if(h)s.done=w>=d;else{let C=m;w!==0&&(p<1?C=NF(b,w,k):C=0);const N=Math.abs(C)<=n,j=Math.abs(a-k)<=t;s.done=N&&j}return s.value=s.done?a:k,s}}}function cE({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:l,restDelta:c=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=D=>o!==void 0&&D<o||l!==void 0&&D>l,p=D=>o===void 0?l:l===void 0||Math.abs(o-D)<Math.abs(l-D)?o:l;let g=n*t;const y=f+g,x=s===void 0?y:s(y);x!==y&&(g=x-f);const b=D=>-g*Math.exp(-D/r),w=D=>x+b(D),k=D=>{const L=b(D),T=w(D);h.done=Math.abs(L)<=c,h.value=h.done?x:T};let C,N;const j=D=>{m(h.value)&&(C=D,N=CF({keyframes:[h.value,p(h.value)],velocity:NF(w,D,h.value),damping:i,stiffness:a,restDelta:c,restSpeed:d}))};return j(0),{calculatedDuration:null,next:D=>{let L=!1;return!N&&C===void 0&&(L=!0,k(D),j(D)),C!==void 0&&D>C?N.next(D-C):(!L&&k(D),h)}}}const zme=e=>{const t=({timestamp:n})=>e(n);return{start:()=>ar.update(t,!0),stop:()=>So(t),now:()=>yi.isProcessing?yi.timestamp:performance.now()}},uE=2e4;function dE(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<uE;)t+=n,r=e.next(t);return t>=uE?1/0:t}const Ume={decay:cE,inertia:cE,tween:Gg,keyframes:Gg,spring:CF};function Yg({autoplay:e=!0,delay:t=0,driver:n=zme,keyframes:r,type:i="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:o="loop",onPlay:l,onStop:c,onComplete:d,onUpdate:f,...h}){let m=1,p=!1,g,y;const x=()=>{y=new Promise(A=>{g=A})};x();let b;const w=Ume[i]||Gg;let k;w!==Gg&&typeof r[0]!="number"&&(k=kF([0,100],r,{clamp:!1}),r=[0,100]);const C=w({...h,keyframes:r});let N;o==="mirror"&&(N=w({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let j="idle",D=null,L=null,T=null;C.calculatedDuration===null&&a&&(C.calculatedDuration=dE(C));const{calculatedDuration:M}=C;let O=1/0,Q=1/0;M!==null&&(O=M+s,Q=O*(a+1)-s);let ee=0;const ae=A=>{if(L===null)return;m>0&&(L=Math.min(L,A)),m<0&&(L=Math.min(A-Q/m,L)),D!==null?ee=D:ee=Math.round(A-L)*m;const te=ee-t*(m>=0?1:-1),S=m>=0?te<0:te>Q;ee=Math.max(te,0),j==="finished"&&D===null&&(ee=Q);let U=ee,q=C;if(a){const F=Math.min(ee,Q)/O;let W=Math.floor(F),ce=F%1;!ce&&F>=1&&(ce=1),ce===1&&W--,W=Math.min(W,a+1),!!(W%2)&&(o==="reverse"?(ce=1-ce,s&&(ce-=s/O)):o==="mirror"&&(q=N)),U=gl(0,1,ce)*O}const J=S?{done:!1,value:r[0]}:q.next(U);k&&(J.value=k(J.value));let{done:K}=J;!S&&M!==null&&(K=m>=0?ee>=Q:ee<=0);const re=D===null&&(j==="finished"||j==="running"&&K);return f&&f(J.value),re&&Y(),J},de=()=>{b&&b.stop(),b=void 0},Z=()=>{j="idle",de(),g(),x(),L=T=null},Y=()=>{j="finished",d&&d(),de(),g()},_=()=>{if(p)return;b||(b=n(ae));const A=b.now();l&&l(),D!==null?L=A-D:(!L||j==="finished")&&(L=A),j==="finished"&&x(),T=L,D=null,j="running",b.start()};e&&_();const E={then(A,te){return y.then(A,te)},get time(){return fo(ee)},set time(A){A=fc(A),ee=A,D!==null||!b||m===0?D=A:L=b.now()-A/m},get duration(){const A=C.calculatedDuration===null?dE(C):C.calculatedDuration;return fo(A)},get speed(){return m},set speed(A){A===m||!b||(m=A,E.time=fo(ee))},get state(){return j},play:_,pause:()=>{j="paused",D=ee},stop:()=>{p=!0,j!=="idle"&&(j="idle",c&&c(),Z())},cancel:()=>{T!==null&&ae(T),Z()},complete:()=>{j="finished"},sample:A=>(L=0,ae(A))};return E}function Vme(e){let t;return()=>(t===void 0&&(t=e()),t)}const Wme=Vme(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Hme=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Wh=10,qme=2e4,Kme=(e,t)=>t.type==="spring"||e==="backgroundColor"||!nF(t.ease);function Gme(e,t,{onUpdate:n,onComplete:r,...i}){if(!(Wme()&&Hme.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let s=!1,o,l,c=!1;const d=()=>{l=new Promise(w=>{o=w})};d();let{keyframes:f,duration:h=300,ease:m,times:p}=i;if(Kme(t,i)){const w=Yg({...i,repeat:0,delay:0});let k={done:!1,value:f[0]};const C=[];let N=0;for(;!k.done&&N<qme;)k=w.sample(N),C.push(k.value),N+=Wh;p=void 0,f=C,h=N-Wh,m="linear"}const g=rme(e.owner.current,t,f,{...i,duration:h,ease:m,times:p}),y=()=>{c=!1,g.cancel()},x=()=>{c=!0,ar.update(y),o(),d()};return g.onfinish=()=>{c||(e.set(ime(f,i)),r&&r(),x())},{then(w,k){return l.then(w,k)},attachTimeline(w){return g.timeline=w,g.onfinish=null,Dr},get time(){return fo(g.currentTime||0)},set time(w){g.currentTime=fc(w)},get speed(){return g.playbackRate},set speed(w){g.playbackRate=w},get duration(){return fo(h)},play:()=>{s||(g.play(),So(y))},pause:()=>g.pause(),stop:()=>{if(s=!0,g.playState==="idle")return;const{currentTime:w}=g;if(w){const k=Yg({...i,autoplay:!1});e.setWithVelocity(k.sample(w-Wh).value,k.sample(w).value,Wh)}x()},complete:()=>{c||g.finish()},cancel:x}}function Yme({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Dr,pause:Dr,stop:Dr,then:a=>(a(),Promise.resolve()),cancel:Dr,complete:Dr});return t?Yg({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const Xme={type:"spring",stiffness:500,damping:25,restSpeed:10},Qme=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Zme={type:"keyframes",duration:.8},Jme={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ehe=(e,{keyframes:t})=>t.length>2?Zme:Ic.has(e)?e.startsWith("scale")?Qme(t[1]):Xme:Jme,yw=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(xl.test(t)||t==="0")&&!t.startsWith("url(")),the=new Set(["brightness","contrast","saturate","opacity"]);function nhe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Ax)||[];if(!r)return e;const i=n.replace(r,"");let a=the.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const rhe=/([a-z-]*)\(.*?\)/g,bw={...xl,getAnimatableNone:e=>{const t=e.match(rhe);return t?t.map(nhe).join(" "):e}},ihe={...B$,color:_i,backgroundColor:_i,outlineColor:_i,fill:_i,stroke:_i,borderColor:_i,borderTopColor:_i,borderRightColor:_i,borderBottomColor:_i,borderLeftColor:_i,filter:bw,WebkitFilter:bw},gN=e=>ihe[e];function jF(e,t){let n=gN(e);return n!==bw&&(n=xl),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const AF=e=>/^0[^.\s]+$/.test(e);function ahe(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||AF(e)}function she(e,t,n,r){const i=yw(t,n);let a;Array.isArray(n)?a=[...n]:a=[null,n];const s=r.from!==void 0?r.from:e.get();let o;const l=[];for(let c=0;c<a.length;c++)a[c]===null&&(a[c]=c===0?s:a[c-1]),ahe(a[c])&&l.push(c),typeof a[c]=="string"&&a[c]!=="none"&&a[c]!=="0"&&(o=a[c]);if(i&&l.length&&o)for(let c=0;c<l.length;c++){const d=l[c];a[d]=jF(t,o)}return a}function ohe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function xN(e,t){return e[t]||e.default||e}const lhe={skipAnimations:!1},vN=(e,t,n,r={})=>i=>{const a=xN(r,e)||{},s=a.delay||r.delay||0;let{elapsed:o=0}=r;o=o-fc(s);const l=she(t,e,n,a),c=l[0],d=l[l.length-1],f=yw(e,c),h=yw(e,d);let m={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...a,delay:-o,onUpdate:p=>{t.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(ohe(a)||(m={...m,...ehe(e,m)}),m.duration&&(m.duration=fc(m.duration)),m.repeatDelay&&(m.repeatDelay=fc(m.repeatDelay)),!f||!h||nme.current||a.type===!1||lhe.skipAnimations)return Yme(m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const p=Gme(t,e,m);if(p)return p}return Yg(m)};function Xg(e){return!!(ra(e)&&e.add)}const PF=e=>/^\-?\d*\.?\d+$/.test(e);function yN(e,t){e.indexOf(t)===-1&&e.push(t)}function bN(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class wN{constructor(){this.subscriptions=[]}add(t){return yN(this.subscriptions,t),()=>bN(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const che=e=>!isNaN(parseFloat(e));class uhe{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:a,timestamp:s}=yi;this.lastUpdated!==s&&(this.timeDelta=a,this.lastUpdated=s,ar.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ar.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=che(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new wN);const r=this.events[t].add(n);return t==="change"?()=>{r(),ar.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?SF(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Yu(e,t){return new uhe(e,t)}const TF=e=>t=>t.test(e),dhe={test:e=>e==="auto",parse:e=>e},EF=[_c,Wt,Ls,Uo,xfe,gfe,dhe],$d=e=>EF.find(TF(e)),fhe=[...EF,_i,xl],mhe=e=>fhe.find(TF(e));function hhe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Yu(n))}function phe(e,t){const n=Tx(e,t);let{transitionEnd:r={},transition:i={},...a}=n?e.makeTargetAnimatable(n,!1):{};a={...a,...r};for(const s in a){const o=Mfe(a[s]);hhe(e,s,o)}}function ghe(e,t,n){var r,i;const a=Object.keys(t).filter(o=>!e.hasValue(o)),s=a.length;if(s)for(let o=0;o<s;o++){const l=a[o],c=t[l];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(i=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&i!==void 0?i:t[l]),d!=null&&(typeof d=="string"&&(PF(d)||AF(d))?d=parseFloat(d):!mhe(d)&&xl.test(c)&&(d=jF(l,c)),e.addValue(l,Yu(d,{owner:e})),n[l]===void 0&&(n[l]=d),d!==null&&e.setBaseTarget(l,d))}}function xhe(e,t){return t?(t[e]||t.default||t).from:void 0}function vhe(e,t,n){const r={};for(const i in e){const a=xhe(i,t);if(a!==void 0)r[i]=a;else{const s=n.getValue(i);s&&(r[i]=s.get())}}return r}function yhe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function bhe(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function DF(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:s,...o}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(a=r);const c=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const f in o){const h=e.getValue(f),m=o[f];if(!h||m===void 0||d&&yhe(d,f))continue;const p={delay:n,elapsed:0,...xN(a||{},f)};if(window.HandoffAppearAnimations){const x=e.getProps()[M$];if(x){const b=window.HandoffAppearAnimations(x,f,h,ar);b!==null&&(p.elapsed=b,p.isHandoff=!0)}}let g=!p.isHandoff&&!bhe(h,m);if(p.type==="spring"&&(h.getVelocity()||p.velocity)&&(g=!1),h.animation&&(g=!1),g)continue;h.start(vN(f,h,m,e.shouldReduceMotion&&Ic.has(f)?{type:!1}:p));const y=h.animation;Xg(l)&&(l.add(f),y.then(()=>l.remove(f))),c.push(y)}return s&&Promise.all(c).then(()=>{s&&phe(e,s)}),c}function ww(e,t,n={}){const r=Tx(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(DF(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=i;return whe(e,t,c+l,d,f,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[l,c]=o==="beforeChildren"?[a,s]:[s,a];return l().then(()=>c())}else return Promise.all([a(),s(n.delay)])}function whe(e,t,n=0,r=0,i=1,a){const s=[],o=(e.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>o-c*r;return Array.from(e.variantChildren).sort(khe).forEach((c,d)=>{c.notify("AnimationStart",t),s.push(ww(c,t,{...a,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(s)}function khe(e,t){return e.sortNodePosition(t)}function She(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>ww(e,a,n));r=Promise.all(i)}else if(typeof t=="string")r=ww(e,t,n);else{const i=typeof t=="function"?Tx(e,t,n.custom):t;r=Promise.all(DF(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const Nhe=[...rN].reverse(),Che=rN.length;function jhe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>She(e,n,r)))}function Ahe(e){let t=jhe(e);const n=The();let r=!0;const i=(l,c)=>{const d=Tx(e,c);if(d){const{transition:f,transitionEnd:h,...m}=d;l={...l,...m,...h}}return l};function a(l){t=l(e)}function s(l,c){const d=e.getProps(),f=e.getVariantContext(!0)||{},h=[],m=new Set;let p={},g=1/0;for(let x=0;x<Che;x++){const b=Nhe[x],w=n[b],k=d[b]!==void 0?d[b]:f[b],C=tm(k),N=b===c?w.isActive:null;N===!1&&(g=x);let j=k===f[b]&&k!==d[b]&&C;if(j&&r&&e.manuallyAnimateOnMount&&(j=!1),w.protectedKeys={...p},!w.isActive&&N===null||!k&&!w.prevProp||Cx(k)||typeof k=="boolean")continue;let L=Phe(w.prevProp,k)||b===c&&w.isActive&&!j&&C||x>g&&C,T=!1;const M=Array.isArray(k)?k:[k];let O=M.reduce(i,{});N===!1&&(O={});const{prevResolvedValues:Q={}}=w,ee={...Q,...O},ae=de=>{L=!0,m.has(de)&&(T=!0,m.delete(de)),w.needsAnimating[de]=!0};for(const de in ee){const Z=O[de],Y=Q[de];if(p.hasOwnProperty(de))continue;let _=!1;qg(Z)&&qg(Y)?_=!eF(Z,Y):_=Z!==Y,_?Z!==void 0?ae(de):m.add(de):Z!==void 0&&m.has(de)?ae(de):w.protectedKeys[de]=!0}w.prevProp=k,w.prevResolvedValues=O,w.isActive&&(p={...p,...O}),r&&e.blockInitialAnimation&&(L=!1),L&&(!j||T)&&h.push(...M.map(de=>({animation:de,options:{type:b,...l}})))}if(m.size){const x={};m.forEach(b=>{const w=e.getBaseTarget(b);w!==void 0&&(x[b]=w)}),h.push({animation:x})}let y=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(h):Promise.resolve()}function o(l,c,d){var f;if(n[l].isActive===c)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var p;return(p=m.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const h=s(d,l);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>n}}function Phe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!eF(t,e):!1}function Bl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function The(){return{animate:Bl(!0),whileInView:Bl(),whileHover:Bl(),whileTap:Bl(),whileDrag:Bl(),whileFocus:Bl(),exit:Bl()}}class Ehe extends jl{constructor(t){super(t),t.animationState||(t.animationState=Ahe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Cx(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Dhe=0;class Mhe extends jl{constructor(){super(...arguments),this.id=Dhe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&a.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Ohe={animation:{Feature:Ehe},exit:{Feature:Mhe}},fE=(e,t)=>Math.abs(e-t);function Ihe(e,t){const n=fE(e.x,t.x),r=fE(e.y,t.y);return Math.sqrt(n**2+r**2)}class MF{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=iy(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=Ihe(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:p}=f,{timestamp:g}=yi;this.history.push({...p,timestamp:g});const{onStart:y,onMove:x}=this.handlers;h||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=ry(h,this.transformPagePoint),ar.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:p,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=iy(f.type==="pointercancel"?this.lastMoveEventInfo:ry(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,y),p&&p(f,y)},!Y$(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=Px(t),o=ry(s,this.transformPagePoint),{point:l}=o,{timestamp:c}=yi;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(t,iy(o,this.history)),this.removeListeners=dl(uo(this.contextWindow,"pointermove",this.handlePointerMove),uo(this.contextWindow,"pointerup",this.handlePointerUp),uo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),So(this.updatePoint)}}function ry(e,t){return t?{point:t(e.point)}:e}function mE(e,t){return{x:e.x-t.x,y:e.y-t.y}}function iy({point:e},t){return{point:e,delta:mE(e,OF(t)),offset:mE(e,_he(t)),velocity:Lhe(t,.1)}}function _he(e){return e[0]}function OF(e){return e[e.length-1]}function Lhe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=OF(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>fc(t)));)n--;if(!r)return{x:0,y:0};const a=fo(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function ja(e){return e.max-e.min}function kw(e,t=0,n=.01){return Math.abs(e-t)<=n}function hE(e,t,n,r=.5){e.origin=r,e.originPoint=hr(t.min,t.max,e.origin),e.scale=ja(n)/ja(t),(kw(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=hr(n.min,n.max,e.origin)-e.originPoint,(kw(e.translate)||isNaN(e.translate))&&(e.translate=0)}function df(e,t,n,r){hE(e.x,t.x,n.x,r?r.originX:void 0),hE(e.y,t.y,n.y,r?r.originY:void 0)}function pE(e,t,n){e.min=n.min+t.min,e.max=e.min+ja(t)}function $he(e,t,n){pE(e.x,t.x,n.x),pE(e.y,t.y,n.y)}function gE(e,t,n){e.min=t.min-n.min,e.max=e.min+ja(t)}function ff(e,t,n){gE(e.x,t.x,n.x),gE(e.y,t.y,n.y)}function Fhe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?hr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?hr(n,e,r.max):Math.min(e,n)),e}function xE(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Rhe(e,{top:t,left:n,bottom:r,right:i}){return{x:xE(e.x,n,i),y:xE(e.y,t,r)}}function vE(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Bhe(e,t){return{x:vE(e.x,t.x),y:vE(e.y,t.y)}}function zhe(e,t){let n=.5;const r=ja(e),i=ja(t);return i>r?n=rm(t.min,t.max-r,e.min):r>i&&(n=rm(e.min,e.max-i,t.min)),gl(0,1,n)}function Uhe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Sw=.35;function Vhe(e=Sw){return e===!1?e=0:e===!0&&(e=Sw),{x:yE(e,"left","right"),y:yE(e,"top","bottom")}}function yE(e,t,n){return{min:bE(e,t),max:bE(e,n)}}function bE(e,t){return typeof e=="number"?e:e[t]||0}const wE=()=>({translate:0,scale:1,origin:0,originPoint:0}),vu=()=>({x:wE(),y:wE()}),kE=()=>({min:0,max:0}),Ir=()=>({x:kE(),y:kE()});function Fa(e){return[e("x"),e("y")]}function IF({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Whe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Hhe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ay(e){return e===void 0||e===1}function Nw({scale:e,scaleX:t,scaleY:n}){return!ay(e)||!ay(t)||!ay(n)}function Kl(e){return Nw(e)||_F(e)||e.z||e.rotate||e.rotateX||e.rotateY}function _F(e){return SE(e.x)||SE(e.y)}function SE(e){return e&&e!=="0%"}function Qg(e,t,n){const r=e-n,i=t*r;return n+i}function NE(e,t,n,r,i){return i!==void 0&&(e=Qg(e,i,r)),Qg(e,n,r)+t}function Cw(e,t=0,n=1,r,i){e.min=NE(e.min,t,n,r,i),e.max=NE(e.max,t,n,r,i)}function LF(e,{x:t,y:n}){Cw(e.x,t.translate,t.scale,t.originPoint),Cw(e.y,n.translate,n.scale,n.originPoint)}function qhe(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,s;for(let o=0;o<i;o++){a=n[o],s=a.projectionDelta;const l=a.instance;l&&l.style&&l.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&yu(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,LF(e,s)),r&&Kl(a.latestValues)&&yu(e,a.latestValues))}t.x=CE(t.x),t.y=CE(t.y)}function CE(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Ko(e,t){e.min=e.min+t,e.max=e.max+t}function jE(e,t,[n,r,i]){const a=t[i]!==void 0?t[i]:.5,s=hr(e.min,e.max,a);Cw(e,t[n],t[r],s,t.scale)}const Khe=["x","scaleX","originX"],Ghe=["y","scaleY","originY"];function yu(e,t){jE(e.x,t,Khe),jE(e.y,t,Ghe)}function $F(e,t){return IF(Hhe(e.getBoundingClientRect(),t))}function Yhe(e,t,n){const r=$F(e,n),{scroll:i}=t;return i&&(Ko(r.x,i.offset.x),Ko(r.y,i.offset.y)),r}const FF=({current:e})=>e?e.ownerDocument.defaultView:null,Xhe=new WeakMap;class Qhe{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ir(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Px(d,"page").point)},a=(d,f)=>{const{drag:h,dragPropagation:m,onDragStart:p}=this.getProps();if(h&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Q$(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fa(y=>{let x=this.getAxisMotionValue(y).get()||0;if(Ls.test(x)){const{projection:b}=this.visualElement;if(b&&b.layout){const w=b.layout.layoutBox[y];w&&(x=ja(w)*(parseFloat(x)/100))}}this.originPoint[y]=x}),p&&ar.update(()=>p(d,f),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},s=(d,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:p,onDrag:g}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:y}=f;if(m&&this.currentDirection===null){this.currentDirection=Zhe(y),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),g&&g(d,f)},o=(d,f)=>this.stop(d,f),l=()=>Fa(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new MF(t,{onSessionStart:i,onStart:a,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:FF(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&ar.update(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Hh(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=Fhe(s,this.constraints[t],this.elastic[t])),a.set(s)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;n&&gu(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Rhe(i.layoutBox,n):this.constraints=!1,this.elastic=Vhe(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Fa(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=Uhe(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!gu(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=Yhe(r,i.root,this.visualElement.getTransformPagePoint());let s=Bhe(i.layout.layoutBox,a);if(n){const o=n(Whe(s));this.hasMutatedConstraints=!!o,o&&(s=IF(o))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Fa(d=>{if(!Hh(d,n,this.currentDirection))return;let f=l&&l[d]||{};s&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,p={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(d,p)});return Promise.all(c).then(o)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(vN(t,r,0,n))}stopAnimation(){Fa(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Fa(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Fa(n=>{const{drag:r}=this.getProps();if(!Hh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:o}=i.layout.layoutBox[n];a.set(t[n]-hr(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!gu(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Fa(s=>{const o=this.getAxisMotionValue(s);if(o){const l=o.get();i[s]=zhe({min:l,max:l},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Fa(s=>{if(!Hh(s,t,null))return;const o=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];o.set(hr(l,c,i[s]))})}addListeners(){if(!this.visualElement.current)return;Xhe.set(this.visualElement,this);const t=this.visualElement.current,n=uo(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();gu(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const s=so(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Fa(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{s(),n(),a(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=Sw,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function Hh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Zhe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Jhe extends jl{constructor(t){super(t),this.removeGroupControls=Dr,this.removeListeners=Dr,this.controls=new Qhe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Dr}unmount(){this.removeGroupControls(),this.removeListeners()}}const AE=e=>(t,n)=>{e&&ar.update(()=>e(t,n))};class epe extends jl{constructor(){super(...arguments),this.removePointerDownListener=Dr}onPointerDown(t){this.session=new MF(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:FF(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:AE(t),onStart:AE(n),onMove:r,onEnd:(a,s)=>{delete this.session,i&&ar.update(()=>i(a,s))}}}mount(){this.removePointerDownListener=uo(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function tpe(){const e=v.useContext(tN);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=v.useId();return v.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const gp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function PE(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Fd={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Wt.test(e))e=parseFloat(e);else return e;const n=PE(e,t.target.x),r=PE(e,t.target.y);return`${n}% ${r}%`}},npe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=xl.parse(e);if(i.length>5)return r;const a=xl.createTransformer(e),s=typeof i[0]!="number"?1:0,o=n.x.scale*t.x,l=n.y.scale*t.y;i[0+s]/=o,i[1+s]/=l;const c=hr(o,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=c),typeof i[3+s]=="number"&&(i[3+s]/=c),a(i)}};class rpe extends Jg.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;cfe(ipe),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),gp.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,s=r.projection;return s&&(s.isPresent=a,i||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?s.promote():s.relegate()||ar.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function RF(e){const[t,n]=tpe(),r=v.useContext(I$);return Jg.createElement(rpe,{...e,layoutGroup:r,switchLayoutGroup:v.useContext(_$),isPresent:t,safeToRemove:n})}const ipe={borderRadius:{...Fd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Fd,borderTopRightRadius:Fd,borderBottomLeftRadius:Fd,borderBottomRightRadius:Fd,boxShadow:npe},BF=["TopLeft","TopRight","BottomLeft","BottomRight"],ape=BF.length,TE=e=>typeof e=="string"?parseFloat(e):e,EE=e=>typeof e=="number"||Wt.test(e);function spe(e,t,n,r,i,a){i?(e.opacity=hr(0,n.opacity!==void 0?n.opacity:1,ope(r)),e.opacityExit=hr(t.opacity!==void 0?t.opacity:1,0,lpe(r))):a&&(e.opacity=hr(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<ape;s++){const o=`border${BF[s]}Radius`;let l=DE(t,o),c=DE(n,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||EE(l)===EE(c)?(e[o]=Math.max(hr(TE(l),TE(c),r),0),(Ls.test(c)||Ls.test(l))&&(e[o]+="%")):e[o]=c}(t.rotate||n.rotate)&&(e.rotate=hr(t.rotate||0,n.rotate||0,r))}function DE(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const ope=zF(0,.5,cF),lpe=zF(.5,.95,Dr);function zF(e,t,n){return r=>r<e?0:r>t?1:n(rm(e,t,r))}function ME(e,t){e.min=t.min,e.max=t.max}function _a(e,t){ME(e.x,t.x),ME(e.y,t.y)}function OE(e,t,n,r,i){return e-=t,e=Qg(e,1/n,r),i!==void 0&&(e=Qg(e,1/i,r)),e}function cpe(e,t=0,n=1,r=.5,i,a=e,s=e){if(Ls.test(t)&&(t=parseFloat(t),t=hr(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=hr(a.min,a.max,r);e===a&&(o-=t),e.min=OE(e.min,t,n,o,i),e.max=OE(e.max,t,n,o,i)}function IE(e,t,[n,r,i],a,s){cpe(e,t[n],t[r],t[i],t.scale,a,s)}const upe=["x","scaleX","originX"],dpe=["y","scaleY","originY"];function _E(e,t,n,r){IE(e.x,t,upe,n?n.x:void 0,r?r.x:void 0),IE(e.y,t,dpe,n?n.y:void 0,r?r.y:void 0)}function LE(e){return e.translate===0&&e.scale===1}function UF(e){return LE(e.x)&&LE(e.y)}function fpe(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function VF(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function $E(e){return ja(e.x)/ja(e.y)}class mpe{constructor(){this.members=[]}add(t){yN(this.members,t),t.scheduleRender()}remove(t){if(bN(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function FE(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y;if((i||a)&&(r=`translate3d(${i}px, ${a}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:c,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),d&&(r+=`rotateY(${d}deg) `)}const s=e.x.scale*t.x,o=e.y.scale*t.y;return(s!==1||o!==1)&&(r+=`scale(${s}, ${o})`),r||"none"}const hpe=(e,t)=>e.depth-t.depth;class ppe{constructor(){this.children=[],this.isDirty=!1}add(t){yN(this.children,t),this.isDirty=!0}remove(t){bN(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(hpe),this.isDirty=!1,this.children.forEach(t)}}function gpe(e,t){const n=performance.now(),r=({timestamp:i})=>{const a=i-n;a>=t&&(So(r),e(a-t))};return ar.read(r,!0),()=>So(r)}function xpe(e){window.MotionDebug&&window.MotionDebug.record(e)}function vpe(e){return e instanceof SVGElement&&e.tagName!=="svg"}function ype(e,t,n){const r=ra(e)?e:Yu(e);return r.start(vN("",r,t,n)),r.animation}const RE=["","X","Y","Z"],bpe={visibility:"hidden"},BE=1e3;let wpe=0;const Gl={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function WF({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},o=t==null?void 0:t()){this.id=wpe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Gl.totalNodes=Gl.resolvedTargetDeltas=Gl.recalculatedProjection=0,this.nodes.forEach(Npe),this.nodes.forEach(Tpe),this.nodes.forEach(Epe),this.nodes.forEach(Cpe),xpe(Gl)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new ppe)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new wN),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=vpe(s),this.instance=s;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||l)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=gpe(h,250),gp.hasAnimatedSinceResize&&(gp.hasAnimatedSinceResize=!1,this.nodes.forEach(UE))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||_pe,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=d.getProps(),b=!this.targetLayout||!VF(this.targetLayout,p)||m,w=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||h&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const k={...xN(g,"layout"),onPlay:y,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else h||UE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,So(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Dpe),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(zE);return}this.isUpdating||this.nodes.forEach(Ape),this.isUpdating=!1,this.nodes.forEach(Ppe),this.nodes.forEach(kpe),this.nodes.forEach(Spe),this.clearAllSnapshots();const o=performance.now();yi.delta=gl(0,1e3/60,o-yi.timestamp),yi.timestamp=o,yi.isProcessing=!0,Yv.update.process(yi),Yv.preRender.process(yi),Yv.render.process(yi),yi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(jpe),this.sharedNodes.forEach(Mpe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ar.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ar.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ir(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!UF(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;s&&(o||Kl(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),Lpe(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Ir();const o=s.measureViewportBox(),{scroll:l}=this.root;return l&&(Ko(o.x,l.offset.x),Ko(o.y,l.offset.y)),o}removeElementScroll(s){const o=Ir();_a(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:f}=c;if(c!==this.root&&d&&f.layoutScroll){if(d.isRoot){_a(o,s);const{scroll:h}=this.root;h&&(Ko(o.x,-h.offset.x),Ko(o.y,-h.offset.y))}Ko(o.x,d.offset.x),Ko(o.y,d.offset.y)}}return o}applyTransform(s,o=!1){const l=Ir();_a(l,s);for(let c=0;c<this.path.length;c++){const d=this.path[c];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&yu(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Kl(d.latestValues)&&yu(l,d.latestValues)}return Kl(this.latestValues)&&yu(l,this.latestValues),l}removeTransform(s){const o=Ir();_a(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Kl(c.latestValues))continue;Nw(c.latestValues)&&c.updateSnapshot();const d=Ir(),f=c.measurePageBox();_a(d,f),_E(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Kl(this.latestValues)&&_E(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=yi.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ir(),this.relativeTargetOrigin=Ir(),ff(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),_a(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ir(),this.targetWithTransforms=Ir()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$he(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_a(this.target,this.layout.layoutBox),LF(this.target,this.targetDelta)):_a(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ir(),this.relativeTargetOrigin=Ir(),ff(this.relativeTargetOrigin,this.target,m.target),_a(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Gl.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Nw(this.parent.latestValues)||_F(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===yi.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;_a(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;qhe(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:p}=o;if(!p){this.projectionTransform&&(this.projectionDelta=vu(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=vu(),this.projectionDeltaWithTransform=vu());const g=this.projectionTransform;df(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=FE(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==h||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Gl.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,o=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=vu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=Ir(),m=l?l.source:void 0,p=this.layout?this.layout.source:void 0,g=m!==p,y=this.getStack(),x=!y||y.members.length<=1,b=!!(g&&!x&&this.options.crossfade===!0&&!this.path.some(Ipe));this.animationProgress=0;let w;this.mixTargetDelta=k=>{const C=k/1e3;VE(f.x,s.x,C),VE(f.y,s.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ff(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Ope(this.relativeTarget,this.relativeTargetOrigin,h,C),w&&fpe(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Ir()),_a(w,this.relativeTarget)),g&&(this.animationValues=d,spe(d,c,this.latestValues,C,b,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(So(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ar.update(()=>{gp.hasAnimatedSinceResize=!0,this.currentAnimation=ype(0,BE,{...s,onUpdate:o=>{this.mixTargetDelta(o),s.onUpdate&&s.onUpdate(o)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(BE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:d}=s;if(!(!o||!l||!c)){if(this!==s&&this.layout&&c&&HF(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ir();const f=ja(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const h=ja(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}_a(o,l),yu(o,d),df(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new mpe),this.sharedNodes.get(s).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:o}=this.options;return o?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:o}=this.options;return o?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(o=!0),!o)return;const c={};for(let d=0;d<RE.length;d++){const f="rotate"+RE[d];l[f]&&(c[f]=l[f],s.setStaticValue(f,0))}s.render();for(const d in c)s.setStaticValue(d,c[d]);s.scheduleRender()}getProjectionStyles(s){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return bpe;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=pp(s==null?void 0:s.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=pp(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Kl(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=FE(this.projectionDeltaWithTransform,this.treeScale,h),d&&(c.transform=d(h,c.transform));const{x:m,y:p}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(o=h.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const g in Wg){if(h[g]===void 0)continue;const{correct:y,applyTo:x}=Wg[g],b=c.transform==="none"?h[g]:y(h[g],f);if(x){const w=x.length;for(let k=0;k<w;k++)c[x[k]]=b}else c[g]=b}return this.options.layoutId&&(c.pointerEvents=f===this?pp(s==null?void 0:s.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(zE),this.root.sharedNodes.clear()}}}function kpe(e){e.updateLayout()}function Spe(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:a}=e.options,s=n.source!==e.layout.source;a==="size"?Fa(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],m=ja(h);h.min=r[f].min,h.max=h.min+m}):HF(a,n.layoutBox,r)&&Fa(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],m=ja(r[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const o=vu();df(o,r,n.layoutBox);const l=vu();s?df(l,e.applyTransform(i,!0),n.measuredBox):df(l,r,n.layoutBox);const c=!UF(o);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const p=Ir();ff(p,n.layoutBox,h.layoutBox);const g=Ir();ff(g,r,m.layoutBox),VF(p,g)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=p,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Npe(e){Gl.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Cpe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function jpe(e){e.clearSnapshot()}function zE(e){e.clearMeasurements()}function Ape(e){e.isLayoutDirty=!1}function Ppe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function UE(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Tpe(e){e.resolveTargetDelta()}function Epe(e){e.calcProjection()}function Dpe(e){e.resetRotation()}function Mpe(e){e.removeLeadSnapshot()}function VE(e,t,n){e.translate=hr(t.translate,0,n),e.scale=hr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function WE(e,t,n,r){e.min=hr(t.min,n.min,r),e.max=hr(t.max,n.max,r)}function Ope(e,t,n,r){WE(e.x,t.x,n.x,r),WE(e.y,t.y,n.y,r)}function Ipe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const _pe={duration:.45,ease:[.4,0,.1,1]},HE=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),qE=HE("applewebkit/")&&!HE("chrome/")?Math.round:Dr;function KE(e){e.min=qE(e.min),e.max=qE(e.max)}function Lpe(e){KE(e.x),KE(e.y)}function HF(e,t,n){return e==="position"||e==="preserve-aspect"&&!kw($E(t),$E(n),.2)}const $pe=WF({attachResizeListener:(e,t)=>so(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),sy={current:void 0},qF=WF({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!sy.current){const e=new $pe({});e.mount(window),e.setOptions({layoutScroll:!0}),sy.current=e}return sy.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Fpe={pan:{Feature:epe},drag:{Feature:Jhe,ProjectionNode:qF,MeasureLayout:RF}},Rpe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Bpe(e){const t=Rpe.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function jw(e,t,n=1){const[r,i]=Bpe(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const s=a.trim();return PF(s)?parseFloat(s):s}else return pw(i)?jw(i,t,n+1):i}function zpe(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const a=i.get();if(!pw(a))return;const s=jw(a,r);s&&i.set(s)});for(const i in t){const a=t[i];if(!pw(a))continue;const s=jw(a,r);s&&(t[i]=s,n||(n={}),n[i]===void 0&&(n[i]=a))}return{target:t,transitionEnd:n}}const Upe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),KF=e=>Upe.has(e),Vpe=e=>Object.keys(e).some(KF),GE=e=>e===_c||e===Wt,YE=(e,t)=>parseFloat(e.split(", ")[t]),XE=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return YE(i[1],t);{const a=r.match(/^matrix\((.+)\)$/);return a?YE(a[1],e):0}},Wpe=new Set(["x","y","z"]),Hpe=Vm.filter(e=>!Wpe.has(e));function qpe(e){const t=[];return Hpe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Xu={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:XE(4,13),y:XE(5,14)};Xu.translateX=Xu.x;Xu.translateY=Xu.y;const Kpe=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,a=getComputedStyle(i),{display:s}=a,o={};s==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(c=>{o[c]=Xu[c](r,a)}),t.render();const l=t.measureViewportBox();return n.forEach(c=>{const d=t.getValue(c);d&&d.jump(o[c]),e[c]=Xu[c](l,a)}),e},Gpe=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(KF);let a=[],s=!1;const o=[];if(i.forEach(l=>{const c=e.getValue(l);if(!e.hasValue(l))return;let d=n[l],f=$d(d);const h=t[l];let m;if(qg(h)){const p=h.length,g=h[0]===null?1:0;d=h[g],f=$d(d);for(let y=g;y<p&&h[y]!==null;y++)m?fN($d(h[y])===m):m=$d(h[y])}else m=$d(h);if(f!==m)if(GE(f)&&GE(m)){const p=c.get();typeof p=="string"&&c.set(parseFloat(p)),typeof h=="string"?t[l]=parseFloat(h):Array.isArray(h)&&m===Wt&&(t[l]=h.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||h===0)?d===0?c.set(m.transform(d)):t[l]=f.transform(h):(s||(a=qpe(e),s=!0),o.push(l),r[l]=r[l]!==void 0?r[l]:t[l],c.jump(h))}),o.length){const l=o.indexOf("height")>=0?window.pageYOffset:null,c=Kpe(t,e,o);return a.length&&a.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),Nx&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:t,transitionEnd:r}};function Ype(e,t,n,r){return Vpe(t)?Gpe(e,t,n,r):{target:t,transitionEnd:r}}const Xpe=(e,t,n,r)=>{const i=zpe(e,t,r);return t=i.target,r=i.transitionEnd,Ype(e,t,n,r)},Aw={current:null},GF={current:!1};function Qpe(){if(GF.current=!0,!!Nx)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Aw.current=e.matches;e.addListener(t),t()}else Aw.current=!1}function Zpe(e,t,n){const{willChange:r}=t;for(const i in t){const a=t[i],s=n[i];if(ra(a))e.addValue(i,a),Xg(r)&&r.add(i);else if(ra(s))e.addValue(i,Yu(a,{owner:e})),Xg(r)&&r.remove(i);else if(s!==a)if(e.hasValue(i)){const o=e.getValue(i);!o.hasAnimated&&o.set(a)}else{const o=e.getStaticValue(i);e.addValue(i,Yu(o!==void 0?o:a,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const QE=new WeakMap,YF=Object.keys(nm),Jpe=YF.length,ZE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],ege=iN.length;class tge{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:a},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ar.render(this.render,!1,!0);const{latestValues:o,renderState:l}=a;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=jx(n),this.isVariantNode=O$(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const h=d[f];o[f]!==void 0&&ra(h)&&(h.set(o[f],!1),Xg(c)&&c.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,QE.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),GF.current||Qpe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Aw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){QE.delete(this.current),this.projection&&this.projection.unmount(),So(this.notifyUpdate),So(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Ic.has(t),i=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&ar.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),a()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,a){let s,o;for(let l=0;l<Jpe;l++){const c=YF[l],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:m}=nm[c];h&&(s=h),d(n)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),m&&(o=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!d||f&&gu(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:a,layoutScroll:h,layoutRoot:m})}return o}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ir()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<ZE.length;r++){const i=ZE[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a=t["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=Zpe(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<ege;r++){const i=iN[r],a=this.props[i];(tm(a)||a===!1)&&(n[i]=a)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Yu(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=dN(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!ra(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new wN),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class XF extends tge{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},a){let s=vhe(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),s&&(s=i(s))),a){ghe(this,r,s);const o=Xpe(this,r,s,n);n=o.transitionEnd,r=o.target}return{transition:t,transitionEnd:n,...r}}}function nge(e){return window.getComputedStyle(e)}class rge extends XF{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Ic.has(n)){const r=gN(n);return r&&r.default||0}else{const r=nge(t),i=(F$(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return $F(t,n)}build(t,n,r,i){sN(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return uN(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ra(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){W$(t,n,r,i)}}class ige extends XF{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ic.has(n)){const r=gN(n);return r&&r.default||0}return n=H$.has(n)?n:nN(n),t.getAttribute(n)}measureInstanceViewportBox(){return Ir()}scrapeMotionValuesFromProps(t,n){return K$(t,n)}build(t,n,r,i){lN(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){q$(t,n,r,i)}mount(t){this.isSVGTag=cN(t.tagName),super.mount(t)}}const age=(e,t)=>aN(e)?new ige(t,{enableHardwareAcceleration:!1}):new rge(t,{enableHardwareAcceleration:!0}),sge={layout:{ProjectionNode:qF,MeasureLayout:RF}},oge={...Ohe,...Jfe,...Fpe,...sge},As=ofe((e,t)=>Bfe(e,t,oge,age));function lge({isOpen:e,onClose:t,searchValue:n,searchFocused:r,searchResults:i,onSearchChange:a,onSearchFocus:s,onSearchBlur:o,onSearchEnter:l,onSearchResultMouseDown:c,renderHighlightedMatch:d,searchRef:f,tocItems:h,activeTocId:m,onTocClick:p,contentRef:g,children:y}){return e?u.jsx("div",{className:"app-modal-overlay fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-lg",onClick:x=>x.target===x.currentTarget&&t(),children:u.jsxs("div",{className:"app-modal-card proof-of-work-modal relative w-full max-w-4xl bg-[#10151b]/95 border border-white/10 rounded-xl shadow-[0_20px_60px_rgba(0,0,0,0.55)] p-6 overflow-hidden",children:[u.jsxs("div",{className:"pointer-events-none absolute inset-0 opacity-60",children:[u.jsx("div",{className:"absolute -top-24 -right-24 h-56 w-56 rounded-full bg-cyan-500/8 blur-3xl"}),u.jsx("div",{className:"absolute -bottom-24 -left-16 h-64 w-64 rounded-full bg-slate-500/10 blur-3xl"})]}),u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-cyan-300/70",children:"Proof of Work"}),u.jsx("div",{className:"text-xl font-semibold text-white mt-1",children:"Metrics Specification"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"relative",ref:f,children:[u.jsx("input",{type:"text",value:n,onChange:x=>a(x.target.value),onFocus:s,onBlur:x=>o(x.relatedTarget),onKeyDown:x=>{x.key==="Enter"&&l()},placeholder:"Search spec...",className:"proof-of-work-search w-56 rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/30"}),r&&i.length>0&&n.trim().length>=2&&u.jsx("div",{className:"proof-of-work-search-results absolute right-0 mt-2 w-80 max-h-64 overflow-y-auto rounded-lg border border-white/10 bg-[#0d1218]/95 shadow-2xl z-10",children:i.map((x,b)=>u.jsxs("button",{className:"w-full text-left px-3 py-2 text-xs text-gray-200 hover:bg-white/10 border-b border-white/5 last:border-b-0",onMouseDown:w=>{w.preventDefault(),c(x)},children:[u.jsx("div",{className:"text-[10px] uppercase tracking-wide text-gray-500 mb-1",children:x.section}),u.jsx("div",{className:"truncate",children:d(x.text,n)})]},`${x.hitId}-${b}-${x.text}`))})]}),u.jsx("button",{onClick:t,className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":"Close proof of work",children:u.jsx(Wi,{className:"w-5 h-5"})})]})]}),u.jsx("div",{className:"h-[65vh]",children:u.jsxs("div",{className:"grid grid-cols-[230px_1fr] gap-4 h-full min-h-0",children:[u.jsxs("div",{className:"proof-of-work-sidebar h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-white/5 p-3",children:[u.jsx("div",{className:"proof-of-work-toc-header text-[10px] uppercase tracking-[0.3em] text-gray-400 mb-2",children:"On This Page"}),u.jsxs("div",{className:"space-y-1",children:[h.length===0&&u.jsx("div",{className:"px-2 py-1 text-[11px] text-gray-500",children:"Loading sections"}),h.map((x,b)=>{const w=x.id===m;return u.jsxs("button",{"data-toc-active":w?"true":"false",className:`proof-of-work-toc-item ${x.level===1?"proof-of-work-toc-item--l1":x.level===2?"proof-of-work-toc-item--l2":"proof-of-work-toc-item--l3"} w-full text-left flex items-center gap-2 min-w-0 transition-colors ${w?"proof-of-work-toc-item--active !text-cyan-300 hover:!text-cyan-300":x.level===1?"text-white hover:text-white":"text-gray-400 hover:text-gray-200"}`,onClick:()=>p(x),children:[u.jsx("span",{className:`proof-of-work-toc-dot ${w?"!bg-cyan-300":""}`,"aria-hidden":"true"}),u.jsx("span",{className:"proof-of-work-toc-label text-[13px] font-medium truncate min-w-0",children:x.text})]},`${x.id}-${x.level}-${b}`)})]})]}),u.jsx("div",{className:"proof-of-work-content h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-black/30 p-4",ref:g,id:"metrics-spec-content",children:u.jsx("div",{className:"space-y-4 text-sm text-gray-200",children:y})})]})})]})}):null}const zl="border border-white/10 rounded-2xl shadow-xl backdrop-blur-md glass-card",oy="arcbridge_web_theme_override",JE="arcbridge_web_kinetic_font_override",eD="__default__",tD=e=>{if(typeof document>"u")return null;const t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=document.cookie.match(new RegExp(`(?:^|; )${t}=([^;]*)`));if(!n)return null;try{return decodeURIComponent(n[1])}catch{return n[1]}},nD=(e,t,n=365)=>{if(typeof document>"u")return;const r=Math.max(0,Math.floor(n*24*60*60));document.cookie=`${e}=${encodeURIComponent(t)}; Max-Age=${r}; Path=/; SameSite=Lax`},cge=e=>{typeof document>"u"||(document.cookie=`${e}=; Max-Age=0; Path=/; SameSite=Lax`)},rD=(e,t)=>{try{const n=new Date(e),r=new Date(t);return Number.isNaN(n.getTime())||Number.isNaN(r.getTime())?"":`${n.toLocaleString()} - ${r.toLocaleString()}`}catch{return""}},uge=e=>{const t=new Date(e);if(Number.isNaN(t.getTime()))return"Raid";const n=`${t.getMonth()+1}/${t.getDate()}/${String(t.getFullYear()).slice(-2)}`,r=t.toLocaleDateString(void 0,{weekday:"long"}),i=t.getHours();let a="Night";return i>=5&&i<12?a="Morning":i>=12&&i<17?a="Afternoon":i>=17&&i<21&&(a="Evening"),`${n} - ${r} ${a} Raid`},iD=e=>e.toLowerCase().trim().replace(/\[(.*?)\]\(.*?\)/g,"$1").replace(/`([^`]+)`/g,"$1").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),dge=({slices:e})=>{const n=2*Math.PI*18,r=e.reduce((a,s)=>a+(s.value||0),0);let i=0;return u.jsxs("svg",{className:"report-mini-donut",width:"48",height:"48",viewBox:"0 0 48 48",children:[u.jsx("circle",{cx:"24",cy:"24",r:18,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),e.map((a,s)=>{const o=a.value||0,l=r>0?o/r*n:0,c=`${l} ${n-l}`,d=n-i;return i+=l,u.jsx("circle",{cx:"24",cy:"24",r:18,stroke:a.color,strokeWidth:"6",fill:"none",strokeLinecap:"butt",strokeDasharray:c,strokeDashoffset:d,transform:"rotate(-90 24 24)"},`${s}-${a.color}`)})]})},fge=({value:e})=>{const t=typeof e=="number"?Math.min(Math.max(e,0),1):null,n=18,r=2*Math.PI*n,i=t===null?r:r-t*r;return u.jsxs("svg",{className:"report-mini-donut",width:"48",height:"48",viewBox:"0 0 48 48",children:[u.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),u.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(16,185,129,0.9)",strokeWidth:"6",fill:"none",strokeLinecap:"round",strokeDasharray:r,strokeDashoffset:i,transform:"rotate(-90 24 24)"}),u.jsx("text",{x:"24",y:"27",textAnchor:"middle",fontSize:"10",fill:"#e2e8f0",children:t===null?"--":`${Math.round(t*100)}%`})]})};function mge(){var _o;const[e,t]=v.useState(null),[n,r]=v.useState(null),[i,a]=v.useState(null),[s,o]=v.useState(null),[l,c]=v.useState(""),[d,f]=v.useState(null),[h,m]=v.useState(null),[p,g]=v.useState(!1),[y,x]=v.useState(!1),[b,w]=v.useState("classic"),[k,C]=v.useState("classic"),[N,j]=v.useState(fp.id),[D,L]=v.useState(null),[T,M]=v.useState("default"),[O,Q]=v.useState(!1),[ee,ae]=v.useState(!1),[de,Z]=v.useState(!1),[Y,_]=v.useState(""),[E,A]=v.useState(""),[te,S]=v.useState([]),[U,q]=v.useState(!1),[J,K]=v.useState("overview"),[re,F]=v.useState("kdr"),[W,ce]=v.useState({overview:!0,roster:!1,offense:!1,defense:!1,other:!1}),ie=v.useRef(null),$=v.useRef(null),z=v.useRef(null),I=v.useRef(null),ne=v.useRef(null),Se=v.useRef(null),We=v.useRef(new Map),le=v.useRef(null),$e=v.useRef(null),Oe=v.useMemo(()=>{let G=window.location.pathname||"/";const xe=/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host);return G.endsWith("/index.html")&&(G=G.slice(0,-11)),G.includes("/reports/")&&(G=G.replace(/\/reports\/[^/]+\/?$/,"")),xe&&(G=G.replace(/^\/web\/web(?=\/|$)/,"/web")),G.endsWith("/")||(G=`${G}/`),G},[]),wt=v.useMemo(()=>/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/"),[]),Kt=v.useMemo(()=>{const xe=[Oe,"./","/"],Ne=[];return xe.forEach(st=>{let Et=st||"/";Et!=="./"&&!Et.endsWith("/")&&(Et=`${Et}/`),Ne.includes(Et)||Ne.push(Et)}),Ne},[Oe,wt]),[dn,Mn]=v.useState(Kt[0]||"/"),ge=G=>{var xe;return typeof G=="string"||typeof G=="number"?String(G):Array.isArray(G)?G.map(ge).join(""):G&&typeof G=="object"&&"props"in G?ge((xe=G.props)==null?void 0:xe.children):""},_e=G=>{const xe=iD(G||"section")||"section",Ne=We.current,st=(Ne.get(xe)??0)+1;return Ne.set(xe,st),st===1?xe:`${xe}-${st}`},It=v.useMemo(()=>{const G=Gv.split(`
`),xe=new Map,Ne=[],st=Et=>{const Ut=iD(Et||"section")||"section",sn=(xe.get(Ut)??0)+1;return xe.set(Ut,sn),sn===1?Ut:`${Ut}-${sn}`};for(const Et of G){const Ut=/^(#{1,3})\s+(.*)\s*$/.exec(Et);if(!Ut)continue;const sn=Ut[1].length,kt=Ut[2].trim();kt&&Ne.push({level:sn,text:kt,id:st(kt)})}return Ne},[Gv]),Ht=(G,xe)=>{const Ne=G==="./"?"./":G.endsWith("/")?G:`${G}/`,st=String(xe||"").replace(/^\/+/,"");return`${Ne}${st}`};v.useEffect(()=>{const G=tD(oy);if(G)try{const xe=JSON.parse(G),Ne=typeof(xe==null?void 0:xe.themeId)=="string"?xe.themeId:null;Ne&&Id.some(st=>st.id===Ne)&&L(Ne)}catch{}},[]),v.useEffect(()=>{const G=tD(JE);(G==="original"||G==="default")&&M(G)},[]),v.useEffect(()=>{const G=D||N,xe=Id.find(Ne=>Ne.id===G)||fp;f(xe)},[D,N]),v.useEffect(()=>{if(!D){w(k);return}if(D===up){w("matte");return}if(D===dp||D===qd){w("kinetic");return}if(D==="CRT"){w("crt");return}w(k==="modern"||k==="classic"?k:"classic")},[D,k]),v.useEffect(()=>{Mn(Kt[0]||"/");let G=!0;return(async()=>{for(const Ne of Kt)try{if((await fetch(Ht(Ne,"ui-theme.json"),{cache:"no-store"})).ok){G&&Mn(Ne);return}}catch{}})(),()=>{G=!1}},[Kt]);const gn=(G,xe)=>{const Ne=xe.trim();if(!Ne)return G;const st=G.toLowerCase(),Et=Ne.toLowerCase(),Ut=st.indexOf(Et);if(Ut===-1)return G;const sn=G.slice(0,Ut),kt=G.slice(Ut,Ut+Ne.length),lt=G.slice(Ut+Ne.length);return u.jsxs(u.Fragment,{children:[sn,u.jsx("mark",{className:"rounded bg-cyan-500/30 px-1 text-cyan-100",children:kt}),lt]})},Mr=(G,xe)=>{const Ne=$.current;if(!Ne)return;let st=Ne.querySelector(`[data-search-hit="${G}"]`);if(!st&&xe){const Et=xe.trim().replace(/\s+/g," "),Ut=Array.from(Ne.querySelectorAll("h1, h2, h3, p, li, code"));st=Ut.find(sn=>(sn.textContent||"").trim().replace(/\s+/g," ")===Et)||null,st||(st=Ut.find(sn=>(sn.textContent||"").toLowerCase().includes(Et.toLowerCase()))||null)}st&&requestAnimationFrame(()=>{const Et=Ne.getBoundingClientRect(),Ut=st.getBoundingClientRect(),sn=Math.max(0,Ne.scrollTop+(Ut.top-Et.top)-12);Ne.scrollTop=sn,st.classList.add("ring-2","ring-cyan-400/70","bg-cyan-500/10"),Se.current&&window.clearTimeout(Se.current),Se.current=window.setTimeout(()=>{st.classList.remove("ring-2","ring-cyan-400/70","bg-cyan-500/10")},1600)})},Pi=G=>{const xe=$.current,Ne=G.trim().toLowerCase();if(!xe||Ne.length<2){S([]);return}const st=Array.from(xe.querySelectorAll("h1, h2, h3, p, li, code"));st.forEach(sn=>sn.removeAttribute("data-search-hit"));const Et=[];let Ut=0;st.forEach((sn,kt)=>{const lt=(sn.textContent||"").trim();if(lt&&lt.toLowerCase().includes(Ne)){let xn="";for(let Qr=kt;Qr>=0;Qr-=1){const He=st[Qr];if(He&&["H1","H2","H3"].includes(He.tagName)){xn=(He.textContent||"").trim();break}}sn.setAttribute("data-search-hit",String(Ut)),Et.push({index:kt,text:lt,section:xn||"Unlabeled Section",hitId:Ut}),Ut+=1}}),S(Et.slice(0,12))};v.useEffect(()=>{var xe;if(!de)return;_(((xe=It[0])==null?void 0:xe.id)||"");const G=Ne=>{var Et;const st=Ne.target;st&&((Et=z.current)!=null&&Et.contains(st)||(q(!1),S([])))};return window.addEventListener("mousedown",G),()=>{window.removeEventListener("mousedown",G)}},[de,It]),v.useEffect(()=>{if(!de){_("");return}const G=$.current;if(!G)return;let xe=0;const Ne=()=>{var P;const Et=Array.from(G.querySelectorAll("[data-heading-id]"));if(Et.length===0)return;const sn=G.getBoundingClientRect().top+18,kt=Et.map((R,H)=>({index:H,id:R.dataset.headingId||R.id||"",top:R.getBoundingClientRect().top})).filter(R=>!!R.id);if(kt.length===0)return;let lt=0,xn=!1;for(const R of kt){if(R.top<=sn){lt=R.index,xn=!0;continue}xn||(lt=R.index);break}G.scrollTop+G.clientHeight>=G.scrollHeight-2&&(lt=Math.max(0,kt.length-1));const He=It[lt],_t=((P=kt[lt])==null?void 0:P.id)||"",tn=(He==null?void 0:He.id)||_t;tn&&_(tn)};Ne();const st=()=>{xe&&cancelAnimationFrame(xe),xe=requestAnimationFrame(Ne)};return G.addEventListener("scroll",st,{passive:!0}),window.addEventListener("resize",st),()=>{xe&&cancelAnimationFrame(xe),G.removeEventListener("scroll",st),window.removeEventListener("resize",st)}},[de,It]);const Wn=v.useMemo(()=>[{id:"overview",label:"Overview",icon:A6,sectionIds:["overview","kdr","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","timeline","map-distribution","squad-composition"],items:[{id:"kdr",label:"KDR",icon:oc},{id:"fight-breakdown",label:"Fight Breakdown",icon:Jo},{id:"top-players",label:"Top Players",icon:oc},{id:"top-skills-outgoing",label:"Top Skills",icon:k1},{id:"squad-composition",label:"Classes",icon:jr},{id:"timeline",label:"Squad vs Enemy Size",icon:jr},{id:"map-distribution",label:"Map Distribution",icon:j1}]},{id:"roster",label:"Roster Intel",icon:Ef,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance",icon:Ef},{id:"squad-comp-fight",label:"Squad Comp",icon:jr},{id:"fight-comp",label:"Fight Comp",icon:Jo}]},{id:"offense",label:"Offensive Stats",icon:Jo,sectionIds:["offense-detailed","player-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:N4},{id:"player-breakdown",label:"Player Breakdown",icon:C1},{id:"spike-damage",label:"Spike Damage",icon:Df},{id:"conditions-outgoing",label:"Conditions",icon:p0}]},{id:"defense",label:"Defensive Stats",icon:$u,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","boon-output","support-detailed","healing-stats"],items:[{id:"defense-detailed",label:"Defense Detailed",icon:$u},{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:Df},{id:"defense-mitigation",label:"Damage Mitigation",icon:E1},{id:"boon-output",label:"Boon Output",icon:T1},{id:"support-detailed",label:"Support Detailed",icon:A1},{id:"healing-stats",label:"Healing Stats",icon:CO}]},{id:"other",label:"Other Metrics",icon:g0,sectionIds:["fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"fight-diff-mode",label:"Fight Comparison",icon:S1},{id:"special-buffs",label:"Special Buffs",icon:Up},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:D1},{id:"skill-usage",label:"Skill Usage",icon:N1},{id:"apm-stats",label:"APM Breakdown",icon:P1}]}],[]),Ta=v.useMemo(()=>{const G=new Map;return Wn.forEach(xe=>{G.set(xe.id.toLowerCase(),xe.id),(xe.sectionIds||[]).forEach(Ne=>G.set(String(Ne).toLowerCase(),xe.id)),(xe.items||[]).forEach(Ne=>G.set(String(Ne.id).toLowerCase(),xe.id))}),G.set("report-top","overview"),G.set("overview","overview"),G.set("kdr","overview"),G},[Wn]),On=v.useMemo(()=>Wn.find(G=>G.id===J)||Wn[0],[Wn,J]),Yt=b==="kinetic",yn=v.useMemo(()=>{const xe=((On==null?void 0:On.sectionIds)||((On==null?void 0:On.items)||[]).map(Ne=>Ne.id)).map(Ne=>Ne==="kdr"?"overview":Ne);return new Set(xe)},[On]),pi=G=>{if(G==="report-top")return window.scrollTo({top:0,behavior:"smooth"}),history.replaceState&&history.replaceState(null,"","#report-top"),!0;const xe=G==="kdr"?"overview":G,Ne=xe==="overview"&&G!=="kdr"?"report-top":xe,st=document.getElementById(Ne);if(!st||!(st.getAttribute("data-section-visible")!=="false")||!st.offsetParent)return!1;const Ut=st.getBoundingClientRect();if(Ut.height<=0)return!1;let sn=0;if(Ne==="stats-view-top"){const lt=document.getElementById("report-top");lt&&(sn=lt.getBoundingClientRect().height+12)}const kt=Ut.top+window.scrollY-12-sn;return window.scrollTo({top:Math.max(0,kt),behavior:"smooth"}),history.replaceState&&history.replaceState(null,"",`#${Ne}`),!0},pn=(G,xe=0)=>{pi(G)||xe>=12||window.setTimeout(()=>{requestAnimationFrame(()=>pn(G,xe+1))},40)};v.useEffect(()=>{if(!e)return;const G=requestAnimationFrame(()=>{Array.from(document.querySelectorAll("[data-nav-submenu-content]")).forEach(Ne=>{Ne.scrollHeight})});return()=>cancelAnimationFrame(G)},[e]),v.useEffect(()=>{const G=le.current;if(!G)return;let xe=0;const Ne=()=>{if(pi(G)){le.current=null;return}if(xe+=1,xe>=20){le.current=null;return}window.setTimeout(()=>requestAnimationFrame(Ne),40)};requestAnimationFrame(Ne)},[J]),v.useEffect(()=>{const G=()=>{var Ut,sn;const xe=(window.location.hash||"").replace(/^#/,"").trim();if(!xe)return;let Ne=xe;try{Ne=decodeURIComponent(xe)}catch{Ne=xe}const st=Ne.toLowerCase(),Et=Ta.get(st);if(Et){if(K(Et),ce(()=>{const kt={};return Wn.forEach(lt=>{kt[lt.id]=lt.id===Et}),kt}),st==="report-top")F("kdr");else{const kt=Wn.find(lt=>lt.id.toLowerCase()===st);F(((sn=(Ut=kt==null?void 0:kt.items)==null?void 0:Ut[0])==null?void 0:sn.id)||st)}le.current=st==="report-top"?"kdr":st}};return G(),window.addEventListener("hashchange",G),()=>{window.removeEventListener("hashchange",G)}},[Ta,Wn]);const sr=b==="matte",Pr=d??fp,ai=Yt&&Pr.id===qd,la=Yt?ai?"142, 155, 214":"90, 80, 68":Pr.rgb,Us=sr?"#d8e1eb":Yt?ai?"#f0d8a9":"#24211d":"var(--accent)",Al={"--accent":`rgb(${la})`,"--accent-rgb":la,"--accent-soft":`rgba(${la}, ${Yt?ai?"0.22":"0.18":"0.32"})`,"--accent-strong":`rgba(${la}, ${Yt?ai?"0.86":"0.78":"0.95"})`,"--accent-border":`rgba(${la}, ${Yt?ai?"0.32":"0.22":"0.4"})`,"--accent-glow":`rgba(${la}, ${Yt?ai?"0.14":"0.08":"0.18"})`,"--accent-glow-soft":`rgba(${la}, ${Yt?ai?"0.08":"0.04":"0.08"})`},Vs=b==="modern"||b==="matte"||b==="kinetic",Pl=Pr.pattern?sr||Yt?void 0:Vs?`linear-gradient(180deg, rgba(14, 18, 26, 0.72), rgba(18, 24, 34, 0.78)), ${Pr.pattern}`:Pr.pattern:void 0,ca=Yt?{backgroundImage:"none",backgroundColor:ai?"rgba(57, 64, 93, 0.9)":"rgba(220, 210, 196, 0.95)",borderColor:ai?"rgba(164, 177, 228, 0.28)":"rgba(78, 67, 56, 0.18)"}:sr?{backgroundImage:"none",backgroundColor:"var(--bg-card)"}:{backgroundImage:Vs?"linear-gradient(135deg, rgba(var(--accent-rgb), 0.2), rgba(var(--accent-rgb), 0.06) 70%)":"linear-gradient(135deg, rgba(var(--accent-rgb), 0.26), rgba(var(--accent-rgb), 0.08) 70%)"};v.useEffect(()=>{var sn;let G=!0;const Ne=new URLSearchParams(window.location.search).get("report")||((sn=window.location.pathname.match(/\/reports\/([^/]+)\/?$/))==null?void 0:sn[1])||null,st=Ne?`${Oe}reports/${Ne}/report.json`:`${Oe}report.json`;Ne&&o(st);const Et=kt=>{var Qr,He,_t;const lt=new Set((((Qr=kt==null?void 0:kt.meta)==null?void 0:Qr.commanders)||[]).map(tn=>String(tn)));if(lt.size===0)return kt;const xn=kt.stats;return(He=xn==null?void 0:xn.leaderboards)!=null&&He.closestToTag&&(xn.leaderboards.closestToTag=xn.leaderboards.closestToTag.map(tn=>lt.has(String(tn==null?void 0:tn.account))?{...tn,value:0}:tn)),(_t=xn==null?void 0:xn.closestToTag)!=null&&_t.player&&lt.has(String(xn.closestToTag.player))&&(xn.closestToTag={...xn.closestToTag,value:0}),kt},Ut=kt=>{var _t,tn,P,R,H;const lt=kt==null?void 0:kt.stats;if(!lt||typeof lt!="object")return kt;const xn=Array.isArray((_t=lt==null?void 0:lt.leaderboards)==null?void 0:_t.downContrib)?lt.leaderboards.downContrib:[];if(!xn.length)return kt;const He=xn.map(ve=>({...ve,value:Number((ve==null?void 0:ve.value)??0)})).filter(ve=>Number.isFinite(ve.value)).sort((ve,se)=>se.value-ve.value||String((ve==null?void 0:ve.account)||"").localeCompare(String((se==null?void 0:se.account)||"")))[0];return He&&(lt.maxDownContrib={...lt.maxDownContrib||{},value:Number(He.value||0),player:String(He.account||((tn=lt.maxDownContrib)==null?void 0:tn.player)||"-"),count:Number(He.count||((P=lt.maxDownContrib)==null?void 0:P.count)||0),profession:String(He.profession||((R=lt.maxDownContrib)==null?void 0:R.profession)||"Unknown"),professionList:Array.isArray(He.professionList)?He.professionList:((H=lt.maxDownContrib)==null?void 0:H.professionList)||[]}),kt};return fetch(st,{cache:"no-store"}).then(kt=>kt.ok?kt.json():Promise.reject()).then(kt=>{var Qr,He,_t,tn,P;if(!G)return;const lt=Ut(Et(kt));t(lt);const xn=(Qr=lt==null?void 0:lt.stats)==null?void 0:Qr.uiTheme;xn==="modern"||xn==="classic"||xn==="crt"||xn==="matte"||xn==="kinetic"?C(xn):((He=lt==null?void 0:lt.stats)==null?void 0:He.webThemeId)===up?C("matte"):(((_t=lt==null?void 0:lt.stats)==null?void 0:_t.webThemeId)===dp||((tn=lt==null?void 0:lt.stats)==null?void 0:tn.webThemeId)===qd)&&C("kinetic"),typeof((P=lt==null?void 0:lt.stats)==null?void 0:P.webThemeId)=="string"&&lt.stats.webThemeId&&j(lt.stats.webThemeId)}).catch(()=>{if(Ne){if(!G)return;a("Report not found yet. It may still be deploying.")}fetch(`${Oe}reports/index.json`,{cache:"no-store"}).then(kt=>kt.ok?kt.json():Promise.reject()).then(kt=>{G&&r(Array.isArray(kt)?kt:[])}).catch(()=>{G&&a("No report data found.")})}),()=>{G=!1}},[Oe]),v.useEffect(()=>{if(e){const G=e.meta.dateLabel||rD(e.meta.dateStart,e.meta.dateEnd);document.title=G?`ArcBridge  ${e.meta.title}  ${G}`:`ArcBridge  ${e.meta.title}`;return}document.title="ArcBridge Reports"},[e]),v.useEffect(()=>{var xe;const G=(xe=e==null?void 0:e.stats)==null?void 0:xe.webThemeId;typeof G=="string"&&G&&j(G)},[e]),v.useEffect(()=>{const G=document.body;G.classList.add("web-report"),G.classList.remove("theme-classic","theme-modern","theme-crt","theme-matte","theme-kinetic","theme-kinetic-dark","theme-kinetic-font-original"),sr?G.classList.add("theme-matte"):b==="modern"?G.classList.add("theme-modern"):b==="crt"?G.classList.add("theme-crt"):b==="kinetic"?(G.classList.add("theme-kinetic"),ai&&G.classList.add("theme-kinetic-dark"),T==="original"&&G.classList.add("theme-kinetic-font-original")):G.classList.add("theme-classic")},[b,sr,ai,T]),v.useEffect(()=>{var xe;if(wt&&((xe=e==null?void 0:e.stats)!=null&&xe.webThemeId))return;let G=!0;return fetch(Ht(dn,"theme.json"),{cache:"no-store"}).then(Ne=>Ne.ok?Ne.json():Promise.reject()).then(Ne=>{G&&typeof(Ne==null?void 0:Ne.id)=="string"&&Ne.id&&j(Ne.id)}).catch(()=>{}),()=>{G=!1}},[dn,wt,e]),v.useEffect(()=>{var Ut,sn;const G=(Ut=e==null?void 0:e.stats)==null?void 0:Ut.webThemeId,xe=(sn=e==null?void 0:e.stats)==null?void 0:sn.uiTheme;if((xe==="modern"||xe==="classic"||xe==="crt"||xe==="matte"||xe==="kinetic")&&!(G===up&&xe!=="matte"||(G===dp||G===qd)&&xe!=="kinetic"||G==="CRT"&&xe!=="crt"))return;let Et=!0;return fetch(Ht(dn,"ui-theme.json"),{cache:"no-store"}).then(kt=>kt.ok?kt.json():Promise.reject()).then(kt=>{if(!Et)return;const lt=kt==null?void 0:kt.theme;(lt==="modern"||lt==="classic"||lt==="crt"||lt==="matte"||lt==="kinetic")&&C(lt)}).catch(()=>{}),()=>{Et=!1}},[dn,e]),v.useEffect(()=>{let G=!0;return fetch(Ht(dn,"logo.json"),{cache:"no-store"}).then(xe=>xe.ok?xe.json():Promise.reject()).then(xe=>{if(!G)return;const Ne="svg/ArcBridge.svg",st=xe!=null&&xe.path?String(xe.path):Ne,Et=xe!=null&&xe.updatedAt?String(xe.updatedAt):"",Ut=Ht(dn,st),sn=Et?`${Ut}?v=${encodeURIComponent(Et)}`:Ut;m(sn),g(!(xe!=null&&xe.path)||st===Ne)}).catch(()=>{G&&(m(null),g(!1))}),()=>{G=!1}},[dn]);const Ea=v.useMemo(()=>n?[...n].sort((G,xe)=>{const Ne=new Date(G.dateEnd||G.dateStart).getTime();return new Date(xe.dateEnd||xe.dateStart).getTime()-Ne}):[],[n]),Ws=v.useMemo(()=>{if(!Ea.length)return[];const G=l.trim().toLowerCase();return G?Ea.filter(xe=>{var Et;const Ne=((Et=xe.commanders)==null?void 0:Et.join(" "))||"";return`${xe.title} ${Ne} ${xe.dateLabel}`.toLowerCase().includes(G)}):Ea},[Ea,l]),fd=G=>{if(!G){cge(oy);return}nD(oy,JSON.stringify({themeId:G}))},Lc=G=>{const xe=G===eD?null:G;xe&&!Id.some(Ne=>Ne.id===xe)||(L(xe),fd(xe),Q(!1))},si=G=>{M(G),nD(JE,G),ae(!1)};v.useEffect(()=>{const G=Ne=>{if(!I.current)return;const st=Ne.target;I.current.contains(st)||ne.current&&ne.current.contains(st)||(Q(!1),ae(!1))},xe=Ne=>{Ne.key==="Escape"&&(Q(!1),ae(!1))};return window.addEventListener("mousedown",G),window.addEventListener("keydown",xe),()=>{window.removeEventListener("mousedown",G),window.removeEventListener("keydown",xe)}},[]),v.useEffect(()=>()=>{$e.current!==null&&(cancelAnimationFrame($e.current),$e.current=null)},[]);const Oo=v.useMemo(()=>{if(!D)return"Default";const G=Id.find(xe=>xe.id===D);return(G==null?void 0:G.label)||"Default"},[D]),Hs=u.jsxs("div",{className:"relative flex items-center gap-2",ref:I,children:[u.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-400 whitespace-nowrap",children:"Theme"}),u.jsxs("button",{type:"button",onClick:()=>Q(G=>!G),className:"w-[152px] inline-flex items-center justify-between gap-2 rounded-full border px-3 py-1 text-[9px] uppercase tracking-widest text-white transition-colors focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--accent-border)"},children:[u.jsx("span",{className:"truncate text-left",children:Oo}),u.jsx("span",{className:`transition-transform ${O?"rotate-180":""}`,children:""})]}),O&&u.jsxs("div",{className:"absolute right-0 bottom-[calc(100%+6px)] z-20 w-[240px] overflow-y-auto rounded-xl border shadow-2xl backdrop-blur-xl",style:{maxHeight:"240px",backgroundColor:"color-mix(in srgb, var(--bg-card) 92%, black)",borderColor:"var(--accent-border)"},children:[u.jsx("button",{type:"button",onClick:()=>Lc(eD),className:"w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] text-gray-200 hover:bg-white/10 transition-colors",children:"Default"}),Id.map(G=>u.jsx("button",{type:"button",onClick:()=>Lc(G.id),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${D===G.id?"text-[color:var(--accent)]":"text-gray-200"}`,children:G.label},G.id))]})]}),$c=Yt?u.jsxs("div",{className:"relative flex items-center gap-2",ref:ne,children:[u.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-400 whitespace-nowrap",children:"Font"}),u.jsxs("button",{type:"button",onClick:()=>ae(G=>!G),className:"w-[152px] inline-flex items-center justify-between gap-2 rounded-full border px-3 py-1 text-[9px] uppercase tracking-widest text-white transition-colors focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--accent-border)"},children:[u.jsx("span",{className:"truncate text-left",children:T==="original"?"Original App":"Kinetic Default"}),u.jsx("span",{className:`transition-transform ${ee?"rotate-180":""}`,children:""})]}),ee&&u.jsxs("div",{className:"absolute right-0 bottom-[calc(100%+6px)] z-20 w-[240px] overflow-y-auto rounded-xl border shadow-2xl backdrop-blur-xl",style:{maxHeight:"180px",backgroundColor:"color-mix(in srgb, var(--bg-card) 92%, black)",borderColor:"var(--accent-border)"},children:[u.jsx("button",{type:"button",onClick:()=>si("default"),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${T==="default"?"text-[color:var(--accent)]":"text-gray-200"}`,children:"Kinetic Default"}),u.jsx("button",{type:"button",onClick:()=>si("original"),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${T==="original"?"text-[color:var(--accent)]":"text-gray-200"}`,children:"Original App"})]})]}):null,md=u.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-[11px] text-gray-500",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-2",children:[u.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.35em] text-gray-400",children:"Legal Notice"}),u.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[u.jsx("div",{className:"min-w-[160px]",children:Hs}),$c&&u.jsx("div",{className:"min-w-[160px]",children:$c}),u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"GitHub"}),u.jsx("a",{href:"https://discord.gg/UjzMXMGXEg",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Discord"}),u.jsx("a",{href:"#proof-of-work",onClick:G=>{G.preventDefault(),Z(!0)},className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Proof of Work"})]})]}),u.jsx("p",{children:"ArcBridge is free software by harasho: you can redistribute it and/or modify it under the terms of the GNU General Public License v3.0 only. This program comes with ABSOLUTELY NO WARRANTY."}),u.jsxs("p",{className:"mt-2",children:["Class Icons, artwork, and skill icons are created and owned by Arenanet as detailed in their"," ",u.jsx("a",{href:"https://www.arena.net/en/legal/content-terms-of-use",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"Content Terms of Use"}),". I do not own or profit from this work in any way. Assets were obtained from asset packs distributed by Arenanet. The official statement from the Content Terms of Use:"]}),u.jsx("p",{className:"mt-2",children:" ArenaNet LLC. All rights reserved. NCSOFT, ArenaNet, Guild Wars, Guild Wars 2, GW2, Heart of Thorns, Path of Fire, End of Dragons, Secrets of the Obscure, Janthir Wilds, Visions of Eternity, and all associated logos, designs, and composite marks are trademarks or registered trademarks of NCSOFT Corporation. All other trademarks are the property of their respective owners."}),u.jsxs("p",{className:"mt-2",children:["See the"," ",u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/LICENSE",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"LICENSE"})," ","and"," ",u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/THIRD_PARTY_NOTICES.md",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"THIRD_PARTY_NOTICES.md"})," ","files for full terms and upstream attributions."]})]}),Io=u.jsxs(lge,{isOpen:de,onClose:()=>Z(!1),searchValue:E,searchFocused:U,searchResults:te,onSearchChange:G=>{A(G),requestAnimationFrame(()=>Pi(G))},onSearchFocus:()=>{q(!0),requestAnimationFrame(()=>Pi(E))},onSearchBlur:G=>{var xe;G&&((xe=z.current)!=null&&xe.contains(G))||q(!1)},onSearchEnter:()=>{te.length>0&&Mr(te[0].hitId,te[0].text)},onSearchResultMouseDown:G=>{q(!0),Mr(G.hitId,G.text)},renderHighlightedMatch:gn,searchRef:z,tocItems:It,activeTocId:Y,onTocClick:G=>{const xe=$.current;if(!xe)return;let Ne=xe.querySelector(`[data-heading-id="${G.id}"]`);if(!Ne){const st=G.text.trim().replace(/\s+/g," ");Ne=Array.from(xe.querySelectorAll("h1, h2, h3")).find(Ut=>(Ut.textContent||"").trim().replace(/\s+/g," ")===st)||null}Ne&&(_(G.id),requestAnimationFrame(()=>{const st=xe.getBoundingClientRect(),Et=Ne.getBoundingClientRect(),Ut=xe.scrollTop+(Et.top-st.top)-12;xe.scrollTop=Math.max(0,Ut)}))},contentRef:$,children:[(We.current=new Map,null),u.jsx($ce,{remarkPlugins:[Xde],components:{h1:({children:G})=>{const xe=ge(G),Ne=_e(xe);return u.jsx("h1",{id:Ne,"data-heading-id":Ne,className:"text-2xl font-bold text-white scroll-mt-6",children:G})},h2:({children:G})=>{const xe=ge(G),Ne=_e(xe);return u.jsx("h2",{id:Ne,"data-heading-id":Ne,className:"text-xl font-semibold text-white scroll-mt-6",children:G})},h3:({children:G})=>{const xe=ge(G),Ne=_e(xe);return u.jsx("h3",{id:Ne,"data-heading-id":Ne,className:"text-lg font-semibold text-white scroll-mt-6",children:G})},p:({children:G})=>u.jsx("p",{className:"leading-6 text-gray-200",children:G}),ul:({children:G})=>u.jsx("ul",{className:"list-disc pl-5 space-y-1 text-gray-200",children:G}),ol:({children:G})=>u.jsx("ol",{className:"list-decimal pl-5 space-y-1 text-gray-200",children:G}),li:({children:G})=>u.jsx("li",{className:"leading-6",children:G}),blockquote:({children:G})=>u.jsx("blockquote",{className:"border-l-2 border-blue-400/40 pl-4 text-gray-300 italic",children:G}),a:({href:G,children:xe})=>u.jsx("a",{className:"text-blue-300 hover:text-blue-200 underline underline-offset-2",href:G,target:"_blank",rel:"noreferrer",children:xe}),table:({children:G})=>u.jsx("div",{className:"overflow-x-auto rounded-xl border border-white/10 bg-black/30",children:u.jsx("table",{className:"w-full border-collapse text-left text-sm",children:G})}),th:({children:G})=>u.jsx("th",{className:"border-b border-white/10 bg-white/5 px-3 py-2 text-xs uppercase tracking-wide text-gray-300",children:G}),td:({children:G})=>u.jsx("td",{className:"border-b border-white/10 px-3 py-2 text-gray-200",children:G}),pre:({children:G})=>u.jsx("pre",{className:"overflow-x-auto rounded-xl bg-black/40 p-4 text-xs text-blue-100",children:G}),code:G=>{const{inline:xe,children:Ne}=G;return xe===!0?u.jsx("code",{className:"rounded bg-black/40 px-1.5 py-0.5 text-[11px] text-blue-200",children:Ne}):u.jsx("code",{className:"whitespace-pre-wrap text-blue-100",children:Ne})}},children:Gv})]});if(e){const G=Ht(dn,"svg/ArcBridge.svg"),xe=()=>{$e.current!==null&&(cancelAnimationFrame($e.current),$e.current=null);const He=window.scrollY||window.pageYOffset||0;if(He<=1){window.scrollTo({top:0,behavior:"auto"});return}const _t=320,tn=performance.now(),P=R=>{const H=R-tn,ve=Math.min(1,H/_t),se=1-Math.pow(1-ve,3),Le=Math.max(0,Math.round(He*(1-se)));window.scrollTo({top:Le,behavior:"auto"}),ve<1?$e.current=requestAnimationFrame(P):($e.current=null,window.scrollTo({top:0,behavior:"auto"}))};$e.current=requestAnimationFrame(P)},Ne=He=>{ce(()=>{const _t={};return Wn.forEach(tn=>{_t[tn.id]=tn.id===He}),_t})},st=He=>{var tn,P;le.current=null,K(He);const _t=Wn.find(R=>R.id===He);F(((P=(tn=_t==null?void 0:_t.items)==null?void 0:tn[0])==null?void 0:P.id)||"kdr"),xe()},Et=He=>{if(!!!W[He]){Ne(He),st(He);return}if(He!==J){st(He);return}ce(tn=>({...tn,[He]:!1}))},Ut=(He,_t)=>{W[He]||Ne(He),F(_t);const tn=He===J;tn||(le.current=_t,K(He),requestAnimationFrame(()=>pn(_t))),tn&&requestAnimationFrame(()=>pn(_t))},sn=He=>{const _t=He.currentTarget;if(!(_t.scrollHeight>_t.clientHeight)){window.scrollBy({top:He.deltaY,behavior:"auto"}),He.preventDefault();return}const P=_t.scrollTop<=0,R=_t.scrollTop+_t.clientHeight>=_t.scrollHeight-1;(P&&He.deltaY<0||R&&He.deltaY>0)&&(window.scrollBy({top:He.deltaY,behavior:"auto"}),He.preventDefault())},kt=He=>{const _t=ie.current;if(!_t)return;const tn=He.target;if(!tn||!_t.contains(tn))return;let P=tn;for(;P&&P!==_t;){const H=window.getComputedStyle(P).overflowY;if((H==="auto"||H==="scroll")&&P.scrollHeight>P.clientHeight+1){const se=P.scrollTop<=0,Le=P.scrollTop+P.clientHeight>=P.scrollHeight-1;(He.deltaY<0&&se||He.deltaY>0&&Le)&&(window.scrollBy({top:He.deltaY,behavior:"auto"}),He.preventDefault());return}P=P.parentElement}},lt=He=>{const _t=Math.max(0,6-He);return{accordionDuration:.5+_t*.07,itemDuration:.34+_t*.035,stagger:.05+_t*.01,delayChildren:.06+_t*.015}},xn=He=>{const _t=lt(He);return{open:{transition:{staggerChildren:_t.stagger,delayChildren:_t.delayChildren}},closed:{transition:{staggerChildren:Math.max(.02,_t.stagger*.7),staggerDirection:-1}}}},Qr={open:{opacity:1,y:0},closed:{opacity:0,y:-2}};return u.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:sr?"var(--bg-base)":Yt?ai?"#2b3048":"#d8d1c5":Vs?"#0f141c":"#0f172a",backgroundImage:sr?"none":Pl,...Al},children:[!sr&&!Yt&&u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),u.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),u.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),u.jsx("div",{className:`fixed inset-0 z-20 bg-black/40 backdrop-blur-sm transition-opacity lg:hidden ${y?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>x(!1)}),u.jsx("aside",{className:`fixed z-30 top-0 bottom-0 w-64 max-w-[80vw] transition-transform duration-300 lg:hidden ${y?"translate-x-0":"-translate-x-full"}`,children:u.jsxs("div",{className:"report-nav-sidebar h-full bg-white/5 border-r border-white/10 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.45)] flex flex-col",children:[u.jsxs("div",{className:"px-5 pt-6 pb-4 flex items-center justify-between",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"Contents"}),u.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-white transition-colors","aria-label":"Close table of contents",children:""})]}),u.jsx("div",{className:"px-5 pb-4",children:u.jsxs("a",{href:"./",className:"report-back-link w-full inline-flex items-center gap-3 px-4 py-2.5 rounded-xl bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[u.jsx("span",{className:"h-8 w-8 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:u.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[u.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),u.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})}),u.jsx("nav",{className:"px-3 pb-6 space-y-3 text-sm overflow-y-auto [overflow-anchor:none]",onWheel:sn,children:Wn.map(He=>{const _t=He.icon,tn=He.id===J,P=!!W[He.id],R=lt(He.items.length),H=xn(He.items.length);return u.jsxs(As.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[u.jsxs("button",{onClick:()=>Et(He.id),className:`report-nav-group-btn w-full text-left flex items-center gap-3 px-3 py-2 rounded-lg border transition-colors ${tn?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(_t,{className:"report-nav-group-icon w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"report-nav-group-label text-[11px] uppercase tracking-[0.22em] whitespace-nowrap min-w-0 truncate",children:He.label}),u.jsx(As.span,{className:"report-nav-chevron ml-auto inline-flex shrink-0",animate:{rotate:P?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:u.jsx(tb,{className:"w-4 h-4 text-gray-300"})})]}),u.jsx(As.div,{initial:!1,animate:P?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:R.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:u.jsx(As.div,{variants:H,initial:!1,animate:P?"open":"closed",className:"report-nav-submenu space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:He.items.map(ve=>{const se=ve.icon;return u.jsxs(As.button,{variants:Qr,transition:{duration:R.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>{Ut(He.id,ve.id),x(!1)},className:`report-nav-item-btn w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-md text-[12px] border transition-colors transform-gpu ${re===ve.id?"text-white border-white/20 bg-white/10":"text-gray-200 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(se,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),ve.label]},ve.id)})})},`${He.id}-submenu-mobile`)]},He.id)})})]})}),u.jsx("aside",{className:"report-nav-sidebar hidden lg:flex fixed inset-y-0 left-0 w-64 border-r border-white/10 bg-white/5 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.5)] z-20",children:u.jsxs("div",{className:"flex flex-col w-full",children:[u.jsx("div",{className:"px-6 pt-6 pb-5",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"h-10 w-10 rounded-2xl border border-white/20",style:{backgroundColor:Us,maskImage:`url(${G})`,WebkitMaskImage:`url(${G})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"65%",WebkitMaskSize:"65%"},"aria-label":"ArcBridge logo"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"ArcBridge Reports"}),u.jsx("div",{className:"text-sm font-semibold text-white",children:"Navigation"})]})]})}),u.jsx("nav",{className:"px-4 space-y-4 text-sm flex-1 overflow-y-auto [overflow-anchor:none]",onWheel:sn,children:Wn.map(He=>{const _t=He.icon,tn=He.id===J,P=!!W[He.id],R=lt(He.items.length),H=xn(He.items.length);return u.jsxs(As.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[u.jsxs("button",{onClick:()=>Et(He.id),className:`report-nav-group-btn w-full text-left flex items-center gap-3 px-3 py-2.5 rounded-xl border transition-colors ${tn?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(_t,{className:"report-nav-group-icon w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"report-nav-group-label text-[11px] uppercase tracking-[0.22em] whitespace-nowrap min-w-0 truncate",children:He.label}),u.jsx(As.span,{className:"report-nav-chevron ml-auto inline-flex shrink-0",animate:{rotate:P?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:u.jsx(tb,{className:"w-4 h-4 text-gray-300"})})]}),u.jsx(As.div,{initial:!1,animate:P?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:R.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:u.jsx(As.div,{variants:H,initial:!1,animate:P?"open":"closed",className:"report-nav-submenu space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:He.items.map(ve=>{const se=ve.icon;return u.jsxs(As.button,{variants:Qr,transition:{duration:R.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>Ut(He.id,ve.id),className:`report-nav-item-btn w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-lg text-[12px] border transition-colors transform-gpu ${re===ve.id?"text-white border-white/20 bg-white/10":"text-gray-200 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(se,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),ve.label]},ve.id)})})},`${He.id}-submenu-desktop`)]},He.id)})}),u.jsx("div",{className:"border-t border-white/10",children:u.jsxs("a",{href:"./",className:"report-back-link w-full inline-flex items-center gap-3 px-6 py-4 bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[u.jsx("span",{className:"h-9 w-9 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:u.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[u.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),u.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})})]})}),u.jsxs("div",{className:"max-w-[1600px] mx-1 sm:mx-2 lg:mx-auto px-4 pt-3 pb-5 sm:px-6 sm:pt-4 sm:pb-6 lg:pl-[17rem] lg:pr-10 mobile-bottom-pad",children:[u.jsx("div",{className:`${zl} p-5 sm:p-6 mb-6 mx-1 sm:mx-1 lg:mx-0`,style:ca,children:u.jsxs("div",{className:"flex flex-col gap-4 sm:gap-5 lg:flex-row lg:items-center lg:justify-between",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 text-center sm:text-left",children:[h&&(p?u.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:Us,maskImage:`url(${h})`,WebkitMaskImage:`url(${h})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):u.jsx("img",{src:h,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"report-brand-label text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge Log Report"}),u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-1",children:e.meta.title}),u.jsx("div",{className:"text-xs sm:text-sm text-gray-400 mt-2",children:e.meta.dateLabel||rD(e.meta.dateStart,e.meta.dateEnd)})]})]}),u.jsxs("button",{onClick:()=>x(!0),className:"hidden sm:flex lg:hidden px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-xs uppercase tracking-widest text-gray-300 hover:border-white/30 transition-colors items-center gap-2",children:[u.jsx(tC,{className:"w-4 h-4"}),"Contents"]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:flex sm:flex-wrap sm:overflow-visible pr-1 sm:pr-2",children:[u.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 inline-flex items-center gap-2 min-w-0 justify-start",children:[u.jsx(v6,{className:"w-4 h-4 text-[color:var(--accent)]"}),e.meta.dateLabel||"Log Range"]}),u.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[u.jsx(jr,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"truncate",children:e.meta.commanders.length?e.meta.commanders.join(", "):"No Commanders"})]}),u.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[u.jsx(jO,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Report ",e.meta.appVersion?`v${e.meta.appVersion}`:"build"]})]})]})}),u.jsxs("div",{className:"sm:hidden mb-4",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400 mb-2",children:"Jump to"}),u.jsx("div",{className:"flex gap-2 overflow-x-auto pr-2 pb-1 snap-x snap-mandatory",children:((On==null?void 0:On.items)||[]).map(He=>{const _t=He.icon;return u.jsxs("button",{onClick:()=>Ut((On==null?void 0:On.id)||"overview",He.id),className:`group flex items-center gap-2 px-3 py-2 rounded-full text-[10px] uppercase tracking-widest whitespace-nowrap border bg-gradient-to-br shadow-[0_10px_25px_rgba(0,0,0,0.35)] backdrop-blur-xl transition-all duration-200 active:translate-y-0 active:scale-[0.98] snap-start ${re===He.id?"text-white border-[color:var(--accent-border)] from-[color:var(--accent-glow)] via-white/10 to-transparent":"text-gray-200 border-white/15 from-white/10 via-white/5 to-transparent hover:-translate-y-0.5 hover:border-[color:var(--accent-border)] hover:shadow-[0_18px_35px_rgba(0,0,0,0.45)]"}`,children:[u.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-white/10 border border-white/10 group-hover:border-[color:var(--accent-border)] group-hover:bg-[color:var(--accent-glow)] transition-colors",children:u.jsx(_t,{className:"w-3 h-3 text-[color:var(--accent)]"})}),He.label]},`chip-${He.id}`)})})]}),u.jsx("div",{ref:ie,onWheelCapture:kt,className:"flex-1 min-w-0",children:u.jsx("div",{id:"stats-view-top",children:u.jsx(Zie,{logs:[],onBack:()=>{},mvpWeights:void 0,precomputedStats:e.stats,statsViewSettings:(_o=e.stats)==null?void 0:_o.statsViewSettings,embedded:!0,uiTheme:b,sectionVisibility:He=>yn.has(He),dashboardTitle:`Statistics Dashboard - ${(On==null?void 0:On.label)||"Overview"}`})})}),u.jsx("div",{className:"mt-10",children:md})]}),u.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-30 sm:hidden mobile-action-bar",children:u.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-2xl bg-slate-950/70 border border-white/15 backdrop-blur-xl px-3 py-2 shadow-[0_20px_50px_rgba(0,0,0,0.45)]",children:[u.jsxs("a",{href:"./",className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(SO,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Back"]}),u.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(tC,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Contents"]}),u.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(x6,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Top"]})]})}),Io]})}return u.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:sr?"var(--bg-base)":Yt?ai?"#2b3048":"#d8d1c5":Vs?"#0f141c":"#0f172a",backgroundImage:sr?"none":Pl,...Al},children:[!sr&&!Yt&&u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),u.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),u.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),u.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 pt-4 pb-8 sm:px-6 sm:pt-5 sm:pb-10",children:[u.jsxs("div",{id:"report-list-container",className:"rounded-2xl border border-white/5 bg-black/20 p-4 sm:p-6",children:[u.jsxs("div",{id:"report-top",className:`${zl} p-5 sm:p-6 mb-6 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between`,style:ca,children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 min-h-[56px] text-center sm:text-left",children:[h&&(p?u.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:Us,maskImage:`url(${h})`,WebkitMaskImage:`url(${h})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):u.jsx("img",{src:h,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge"}),u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-2",children:"Command Reports"}),u.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"Select a report to view the full stats dashboard."})]})]}),u.jsx("div",{className:"flex flex-col sm:flex-row sm:items-end gap-3",children:u.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300",children:[Ws.length," Reports"]})})]}),u.jsxs("div",{className:`${zl} px-4 py-3 mb-6 flex flex-col md:flex-row gap-3 md:items-center md:justify-between`,style:ca,children:[u.jsx("input",{type:"search",value:l,onChange:G=>c(G.target.value),placeholder:"Search reports, commanders, or date...",className:"w-full md:flex-1 bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-sm text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]"}),u.jsxs("div",{className:"text-[11px] sm:text-xs text-gray-400",children:["Showing ",u.jsx("span",{className:"text-[color:var(--accent)]",children:Ws.length})," of"," ",u.jsx("span",{className:"text-[color:var(--accent)]",children:Ea.length})]})]}),i&&u.jsxs("div",{className:"mb-6 rounded-2xl border border-amber-400/40 bg-amber-500/10 px-6 py-5 text-amber-100 shadow-xl backdrop-blur-md",style:ca,children:[u.jsx("div",{className:"text-sm uppercase tracking-widest text-amber-200/70",children:"Warning"}),u.jsx("div",{className:"mt-2 text-base font-semibold text-white",children:i}),s&&u.jsxs("div",{className:"text-xs text-amber-100/80 mt-2",children:["Looking for: ",u.jsx("span",{className:"text-amber-50",children:s})]})]}),!i&&!n&&u.jsx("div",{className:`${zl} p-6 text-gray-300`,style:ca,children:"Loading reports..."}),Ws.length>0&&u.jsx("div",{className:"flex flex-col gap-3",children:Ws.map(G=>{var xe,Ne,st,Et;return u.jsx("a",{href:G.url,className:`${zl} px-5 py-4 hover:border-[color:var(--accent-border)] transition-colors group`,style:ca,children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-4",children:[u.jsxs("div",{className:"min-w-0 block text-left",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-widest text-gray-400",children:G.dateLabel}),u.jsx("div",{className:"text-base sm:text-lg font-semibold mt-1 truncate",children:uge(G.dateStart)}),u.jsxs("div",{className:"text-xs text-gray-400 mt-1 flex items-center gap-2",children:[u.jsx(jr,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"truncate",children:G.commanders.length?G.commanders.join(", "):"No Commanders"})]})]}),u.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3 sm:gap-4 sm:mt-0 mt-2 w-full sm:w-auto",children:[u.jsx("div",{className:"flex flex-col items-center gap-1 text-[10px] text-gray-400",children:(xe=G.summary)!=null&&xe.mapSlices&&G.summary.mapSlices.length>0?u.jsxs(u.Fragment,{children:[u.jsx(dge,{slices:G.summary.mapSlices}),u.jsx("span",{className:"uppercase tracking-widest",children:"Maps"})]}):u.jsxs(u.Fragment,{children:[u.jsx(fge,{value:(Ne=G.summary)==null?void 0:Ne.borderlandsPct}),u.jsx("span",{className:"uppercase tracking-widest",children:"Borderlands"})]})}),u.jsxs("div",{className:"flex flex-col items-end gap-1",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:"Avg Squad / Enemy"}),u.jsxs("div",{className:"text-sm text-white font-semibold",children:[((st=G.summary)==null?void 0:st.avgSquadSize)??"--"," / ",((Et=G.summary)==null?void 0:Et.avgEnemySize)??"--"]})]}),u.jsx(S6,{className:"w-5 h-5 text-[color:var(--accent)] opacity-60 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity"})]})]})},G.id)})}),!i&&n&&Ea.length===0&&u.jsx("div",{className:`${zl} p-6 text-gray-300`,style:ca,children:"No reports uploaded yet."}),!i&&n&&Ea.length>0&&Ws.length===0&&u.jsx("div",{className:`${zl} p-6 text-gray-300`,style:ca,children:"No reports match your search."})]}),u.jsx("div",{className:"mt-8",children:md})]}),Io]})}document.documentElement.classList.add("web-report");document.body.classList.add("web-report");ly.createRoot(document.getElementById("root")).render(u.jsx(Jg.StrictMode,{children:u.jsx(mge,{})}));
