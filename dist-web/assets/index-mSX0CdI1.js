(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var mB=Object.defineProperty,hB=(e,t,n)=>t in e?mB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,L2=(e,t,n)=>hB(e,typeof t!="symbol"?t+"":t,n);function gB(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();var rg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _o(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var aP={exports:{}},$0={},iP={exports:{}},bn={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var $p=Symbol.for("react.element"),yB=Symbol.for("react.portal"),vB=Symbol.for("react.fragment"),bB=Symbol.for("react.strict_mode"),xB=Symbol.for("react.profiler"),wB=Symbol.for("react.provider"),kB=Symbol.for("react.context"),SB=Symbol.for("react.forward_ref"),NB=Symbol.for("react.suspense"),jB=Symbol.for("react.memo"),CB=Symbol.for("react.lazy"),F2=Symbol.iterator;function AB(e){return e===null||typeof e!="object"?null:(e=F2&&e[F2]||e["@@iterator"],typeof e=="function"?e:null)}var oP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sP=Object.assign,lP={};function Pd(e,t,n){this.props=e,this.context=t,this.refs=lP,this.updater=n||oP}Pd.prototype.isReactComponent={};Pd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Pd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function cP(){}cP.prototype=Pd.prototype;function N1(e,t,n){this.props=e,this.context=t,this.refs=lP,this.updater=n||oP}var j1=N1.prototype=new cP;j1.constructor=N1;sP(j1,Pd.prototype);j1.isPureReactComponent=!0;var R2=Array.isArray,uP=Object.prototype.hasOwnProperty,C1={current:null},dP={key:!0,ref:!0,__self:!0,__source:!0};function fP(e,t,n){var r,a={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)uP.call(t,r)&&!dP.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(s===1)a.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];a.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)a[r]===void 0&&(a[r]=s[r]);return{$$typeof:$p,type:e,key:i,ref:o,props:a,_owner:C1.current}}function MB(e,t){return{$$typeof:$p,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function A1(e){return typeof e=="object"&&e!==null&&e.$$typeof===$p}function EB(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var $2=/\/+/g;function Av(e,t){return typeof e=="object"&&e!==null&&e.key!=null?EB(""+e.key):t.toString(36)}function Oh(e,t,n,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case $p:case yB:o=!0}}if(o)return o=e,a=a(o),e=r===""?"."+Av(o,0):r,R2(a)?(n="",e!=null&&(n=e.replace($2,"$&/")+"/"),Oh(a,t,n,"",function(u){return u})):a!=null&&(A1(a)&&(a=MB(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace($2,"$&/")+"/")+e)),t.push(a)),1;if(o=0,r=r===""?".":r+":",R2(e))for(var s=0;s<e.length;s++){i=e[s];var l=r+Av(i,s);o+=Oh(i,t,n,l,a)}else if(l=AB(e),typeof l=="function")for(e=l.call(e),s=0;!(i=e.next()).done;)i=i.value,l=r+Av(i,s++),o+=Oh(i,t,n,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Um(e,t,n){if(e==null)return e;var r=[],a=0;return Oh(e,r,"","",function(i){return t.call(n,i,a++)}),r}function DB(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xa={current:null},Ih={transition:null},PB={ReactCurrentDispatcher:Xa,ReactCurrentBatchConfig:Ih,ReactCurrentOwner:C1};function pP(){throw Error("act(...) is not supported in production builds of React.")}bn.Children={map:Um,forEach:function(e,t,n){Um(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Um(e,function(){t++}),t},toArray:function(e){return Um(e,function(t){return t})||[]},only:function(e){if(!A1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};bn.Component=Pd;bn.Fragment=vB;bn.Profiler=xB;bn.PureComponent=N1;bn.StrictMode=bB;bn.Suspense=NB;bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PB;bn.act=pP;bn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=sP({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=C1.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)uP.call(t,l)&&!dP.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:$p,type:e.type,key:a,ref:i,props:r,_owner:o}};bn.createContext=function(e){return e={$$typeof:kB,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:wB,_context:e},e.Consumer=e};bn.createElement=fP;bn.createFactory=function(e){var t=fP.bind(null,e);return t.type=e,t};bn.createRef=function(){return{current:null}};bn.forwardRef=function(e){return{$$typeof:SB,render:e}};bn.isValidElement=A1;bn.lazy=function(e){return{$$typeof:CB,_payload:{_status:-1,_result:e},_init:DB}};bn.memo=function(e,t){return{$$typeof:jB,type:e,compare:t===void 0?null:t}};bn.startTransition=function(e){var t=Ih.transition;Ih.transition={};try{e()}finally{Ih.transition=t}};bn.unstable_act=pP;bn.useCallback=function(e,t){return Xa.current.useCallback(e,t)};bn.useContext=function(e){return Xa.current.useContext(e)};bn.useDebugValue=function(){};bn.useDeferredValue=function(e){return Xa.current.useDeferredValue(e)};bn.useEffect=function(e,t){return Xa.current.useEffect(e,t)};bn.useId=function(){return Xa.current.useId()};bn.useImperativeHandle=function(e,t,n){return Xa.current.useImperativeHandle(e,t,n)};bn.useInsertionEffect=function(e,t){return Xa.current.useInsertionEffect(e,t)};bn.useLayoutEffect=function(e,t){return Xa.current.useLayoutEffect(e,t)};bn.useMemo=function(e,t){return Xa.current.useMemo(e,t)};bn.useReducer=function(e,t,n){return Xa.current.useReducer(e,t,n)};bn.useRef=function(e){return Xa.current.useRef(e)};bn.useState=function(e){return Xa.current.useState(e)};bn.useSyncExternalStore=function(e,t,n){return Xa.current.useSyncExternalStore(e,t,n)};bn.useTransition=function(){return Xa.current.useTransition()};bn.version="18.3.1";iP.exports=bn;var g=iP.exports;const B0=_o(g),TB=gB({__proto__:null,default:B0},[g]);/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var OB=g,IB=Symbol.for("react.element"),_B=Symbol.for("react.fragment"),LB=Object.prototype.hasOwnProperty,FB=OB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RB={key:!0,ref:!0,__self:!0,__source:!0};function mP(e,t,n){var r,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)LB.call(t,r)&&!RB.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:IB,type:e,key:i,ref:o,props:a,_owner:FB.current}}$0.Fragment=_B;$0.jsx=mP;$0.jsxs=mP;aP.exports=$0;var c=aP.exports,ex={},hP={exports:{}},Ri={},gP={exports:{}},yP={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(e){function t(q,W){var k=q.length;q.push(W);e:for(;0<k;){var $=k-1>>>1,T=q[$];if(0<a(T,W))q[$]=W,q[k]=T,k=$;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var W=q[0],k=q.pop();if(k!==W){q[0]=k;e:for(var $=0,T=q.length,C=T>>>1;$<C;){var R=2*($+1)-1,V=q[R],Q=R+1,ce=q[Q];if(0>a(V,k))Q<T&&0>a(ce,V)?(q[$]=ce,q[Q]=k,$=Q):(q[$]=V,q[R]=k,$=R);else if(Q<T&&0>a(ce,k))q[$]=ce,q[Q]=k,$=Q;else break e}}return W}function a(q,W){var k=q.sortIndex-W.sortIndex;return k!==0?k:q.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],u=[],d=1,f=null,p=3,m=!1,h=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(q){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=q)r(u),W.sortIndex=W.expirationTime,t(l,W);else break;W=n(u)}}function S(q){if(v=!1,w(q),!h)if(n(l)!==null)h=!0,we(j);else{var W=n(u);W!==null&&te(S,W.startTime-q)}}function j(q,W){h=!1,v&&(v=!1,y(P),P=-1),m=!0;var k=p;try{for(w(W),f=n(l);f!==null&&(!(f.expirationTime>W)||q&&!I());){var $=f.callback;if(typeof $=="function"){f.callback=null,p=f.priorityLevel;var T=$(f.expirationTime<=W);W=e.unstable_now(),typeof T=="function"?f.callback=T:f===n(l)&&r(l),w(W)}else r(l);f=n(l)}if(f!==null)var C=!0;else{var R=n(u);R!==null&&te(S,R.startTime-W),C=!1}return C}finally{f=null,p=k,m=!1}}var N=!1,A=null,P=-1,B=5,D=-1;function I(){return!(e.unstable_now()-D<B)}function O(){if(A!==null){var q=e.unstable_now();D=q;var W=!0;try{W=A(!0,q)}finally{W?H():(N=!1,A=null)}}else N=!1}var H;if(typeof x=="function")H=function(){x(O)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,ie=J.port2;J.port1.onmessage=O,H=function(){ie.postMessage(null)}}else H=function(){b(O,0)};function we(q){A=q,N||(N=!0,H())}function te(q,W){P=b(function(){q(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){h||m||(h=!0,we(j))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(q){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var k=p;p=W;try{return q()}finally{p=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,W){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var k=p;p=q;try{return W()}finally{p=k}},e.unstable_scheduleCallback=function(q,W,k){var $=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?$+k:$):k=$,q){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=k+T,q={id:d++,callback:W,priorityLevel:q,startTime:k,expirationTime:T,sortIndex:-1},k>$?(q.sortIndex=k,t(u,q),n(l)===null&&q===n(u)&&(v?(y(P),P=-1):v=!0,te(S,k-$))):(q.sortIndex=T,t(l,q),h||m||(h=!0,we(j))),q},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(q){var W=p;return function(){var k=p;p=W;try{return q.apply(this,arguments)}finally{p=k}}}})(yP);gP.exports=yP;var $B=gP.exports;/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var BB=g,_i=$B;function st(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vP=new Set,Qf={};function cu(e,t){cd(e,t),cd(e+"Capture",t)}function cd(e,t){for(Qf[e]=t,e=0;e<t.length;e++)vP.add(t[e])}var zs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tx=Object.prototype.hasOwnProperty,zB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,B2={},z2={};function UB(e){return tx.call(z2,e)?!0:tx.call(B2,e)?!1:zB.test(e)?z2[e]=!0:(B2[e]=!0,!1)}function VB(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function WB(e,t,n,r){if(t===null||typeof t>"u"||VB(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ei(e,t,n,r,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var ja={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ja[e]=new ei(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ja[t]=new ei(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ja[e]=new ei(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ja[e]=new ei(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ja[e]=new ei(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ja[e]=new ei(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ja[e]=new ei(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ja[e]=new ei(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ja[e]=new ei(e,5,!1,e.toLowerCase(),null,!1,!1)});var M1=/[\-:]([a-z])/g;function E1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(M1,E1);ja[t]=new ei(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(M1,E1);ja[t]=new ei(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(M1,E1);ja[t]=new ei(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ja[e]=new ei(e,1,!1,e.toLowerCase(),null,!1,!1)});ja.xlinkHref=new ei("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ja[e]=new ei(e,1,!1,e.toLowerCase(),null,!0,!0)});function D1(e,t,n,r){var a=ja.hasOwnProperty(t)?ja[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(WB(t,n,a,r)&&(n=null),r||a===null?UB(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var tl=BB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vm=Symbol.for("react.element"),_u=Symbol.for("react.portal"),Lu=Symbol.for("react.fragment"),P1=Symbol.for("react.strict_mode"),nx=Symbol.for("react.profiler"),bP=Symbol.for("react.provider"),xP=Symbol.for("react.context"),T1=Symbol.for("react.forward_ref"),rx=Symbol.for("react.suspense"),ax=Symbol.for("react.suspense_list"),O1=Symbol.for("react.memo"),kl=Symbol.for("react.lazy"),wP=Symbol.for("react.offscreen"),U2=Symbol.iterator;function tf(e){return e===null||typeof e!="object"?null:(e=U2&&e[U2]||e["@@iterator"],typeof e=="function"?e:null)}var Sr=Object.assign,Mv;function Sf(e){if(Mv===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Mv=t&&t[1]||""}return`
`+Mv+e}var Ev=!1;function Dv(e,t){if(!e||Ev)return"";Ev=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=r.stack.split(`
`),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(o!==1||s!==1)do if(o--,s--,0>s||a[o]!==i[s]){var l=`
`+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{Ev=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Sf(e):""}function qB(e){switch(e.tag){case 5:return Sf(e.type);case 16:return Sf("Lazy");case 13:return Sf("Suspense");case 19:return Sf("SuspenseList");case 0:case 2:case 15:return e=Dv(e.type,!1),e;case 11:return e=Dv(e.type.render,!1),e;case 1:return e=Dv(e.type,!0),e;default:return""}}function ix(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Lu:return"Fragment";case _u:return"Portal";case nx:return"Profiler";case P1:return"StrictMode";case rx:return"Suspense";case ax:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case xP:return(e.displayName||"Context")+".Consumer";case bP:return(e._context.displayName||"Context")+".Provider";case T1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O1:return t=e.displayName||null,t!==null?t:ix(e.type)||"Memo";case kl:t=e._payload,e=e._init;try{return ix(e(t))}catch{}}return null}function HB(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ix(t);case 8:return t===P1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ql(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kP(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function KB(e){var t=kP(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wm(e){e._valueTracker||(e._valueTracker=KB(e))}function SP(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=kP(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ag(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ox(e,t){var n=t.checked;return Sr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function V2(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ql(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function NP(e,t){t=t.checked,t!=null&&D1(e,"checked",t,!1)}function sx(e,t){NP(e,t);var n=ql(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?lx(e,t.type,n):t.hasOwnProperty("defaultValue")&&lx(e,t.type,ql(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function W2(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function lx(e,t,n){(t!=="number"||ag(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Nf=Array.isArray;function Xu(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ql(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function cx(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(st(91));return Sr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function q2(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(st(92));if(Nf(n)){if(1<n.length)throw Error(st(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ql(n)}}function jP(e,t){var n=ql(t.value),r=ql(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function H2(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function CP(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ux(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?CP(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qm,AP=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(qm=qm||document.createElement("div"),qm.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qm.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Xf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Tf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GB=["Webkit","ms","Moz","O"];Object.keys(Tf).forEach(function(e){GB.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Tf[t]=Tf[e]})});function MP(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Tf.hasOwnProperty(e)&&Tf[e]?(""+t).trim():t+"px"}function EP(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=MP(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var YB=Sr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dx(e,t){if(t){if(YB[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(st(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(st(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(st(61))}if(t.style!=null&&typeof t.style!="object")throw Error(st(62))}}function fx(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var px=null;function I1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mx=null,ed=null,td=null;function K2(e){if(e=Up(e)){if(typeof mx!="function")throw Error(st(280));var t=e.stateNode;t&&(t=q0(t),mx(e.stateNode,e.type,t))}}function DP(e){ed?td?td.push(e):td=[e]:ed=e}function PP(){if(ed){var e=ed,t=td;if(td=ed=null,K2(e),t)for(e=0;e<t.length;e++)K2(t[e])}}function TP(e,t){return e(t)}function OP(){}var Pv=!1;function IP(e,t,n){if(Pv)return e(t,n);Pv=!0;try{return TP(e,t,n)}finally{Pv=!1,(ed!==null||td!==null)&&(OP(),PP())}}function ep(e,t){var n=e.stateNode;if(n===null)return null;var r=q0(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(st(231,t,typeof n));return n}var hx=!1;if(zs)try{var nf={};Object.defineProperty(nf,"passive",{get:function(){hx=!0}}),window.addEventListener("test",nf,nf),window.removeEventListener("test",nf,nf)}catch{hx=!1}function JB(e,t,n,r,a,i,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Of=!1,ig=null,og=!1,gx=null,ZB={onError:function(e){Of=!0,ig=e}};function QB(e,t,n,r,a,i,o,s,l){Of=!1,ig=null,JB.apply(ZB,arguments)}function XB(e,t,n,r,a,i,o,s,l){if(QB.apply(this,arguments),Of){if(Of){var u=ig;Of=!1,ig=null}else throw Error(st(198));og||(og=!0,gx=u)}}function uu(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function _P(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function G2(e){if(uu(e)!==e)throw Error(st(188))}function ez(e){var t=e.alternate;if(!t){if(t=uu(e),t===null)throw Error(st(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return G2(a),e;if(i===r)return G2(a),t;i=i.sibling}throw Error(st(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o){for(s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o)throw Error(st(189))}}if(n.alternate!==r)throw Error(st(190))}if(n.tag!==3)throw Error(st(188));return n.stateNode.current===n?e:t}function LP(e){return e=ez(e),e!==null?FP(e):null}function FP(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=FP(e);if(t!==null)return t;e=e.sibling}return null}var RP=_i.unstable_scheduleCallback,Y2=_i.unstable_cancelCallback,tz=_i.unstable_shouldYield,nz=_i.unstable_requestPaint,Or=_i.unstable_now,rz=_i.unstable_getCurrentPriorityLevel,_1=_i.unstable_ImmediatePriority,$P=_i.unstable_UserBlockingPriority,sg=_i.unstable_NormalPriority,az=_i.unstable_LowPriority,BP=_i.unstable_IdlePriority,z0=null,ns=null;function iz(e){if(ns&&typeof ns.onCommitFiberRoot=="function")try{ns.onCommitFiberRoot(z0,e,void 0,(e.current.flags&128)===128)}catch{}}var So=Math.clz32?Math.clz32:lz,oz=Math.log,sz=Math.LN2;function lz(e){return e>>>=0,e===0?32:31-(oz(e)/sz|0)|0}var Hm=64,Km=4194304;function jf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function lg(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~a;s!==0?r=jf(s):(i&=o,i!==0&&(r=jf(i)))}else o=n&~a,o!==0?r=jf(o):i!==0&&(r=jf(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-So(t),a=1<<n,r|=e[n],t&=~a;return r}function cz(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uz(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-So(i),s=1<<o,l=a[o];l===-1?(!(s&n)||s&r)&&(a[o]=cz(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}function yx(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function zP(){var e=Hm;return Hm<<=1,!(Hm&4194240)&&(Hm=64),e}function Tv(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bp(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-So(t),e[t]=n}function dz(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-So(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}function L1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-So(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var Bn=0;function UP(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var VP,F1,WP,qP,HP,vx=!1,Gm=[],Il=null,_l=null,Ll=null,tp=new Map,np=new Map,Al=[],fz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function J2(e,t){switch(e){case"focusin":case"focusout":Il=null;break;case"dragenter":case"dragleave":_l=null;break;case"mouseover":case"mouseout":Ll=null;break;case"pointerover":case"pointerout":tp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":np.delete(t.pointerId)}}function rf(e,t,n,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Up(t),t!==null&&F1(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function pz(e,t,n,r,a){switch(t){case"focusin":return Il=rf(Il,e,t,n,r,a),!0;case"dragenter":return _l=rf(_l,e,t,n,r,a),!0;case"mouseover":return Ll=rf(Ll,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return tp.set(i,rf(tp.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,np.set(i,rf(np.get(i)||null,e,t,n,r,a)),!0}return!1}function KP(e){var t=Pc(e.target);if(t!==null){var n=uu(t);if(n!==null){if(t=n.tag,t===13){if(t=_P(n),t!==null){e.blockedOn=t,HP(e.priority,function(){WP(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _h(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=bx(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);px=r,n.target.dispatchEvent(r),px=null}else return t=Up(n),t!==null&&F1(t),e.blockedOn=n,!1;t.shift()}return!0}function Z2(e,t,n){_h(e)&&n.delete(t)}function mz(){vx=!1,Il!==null&&_h(Il)&&(Il=null),_l!==null&&_h(_l)&&(_l=null),Ll!==null&&_h(Ll)&&(Ll=null),tp.forEach(Z2),np.forEach(Z2)}function af(e,t){e.blockedOn===t&&(e.blockedOn=null,vx||(vx=!0,_i.unstable_scheduleCallback(_i.unstable_NormalPriority,mz)))}function rp(e){function t(a){return af(a,e)}if(0<Gm.length){af(Gm[0],e);for(var n=1;n<Gm.length;n++){var r=Gm[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Il!==null&&af(Il,e),_l!==null&&af(_l,e),Ll!==null&&af(Ll,e),tp.forEach(t),np.forEach(t),n=0;n<Al.length;n++)r=Al[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Al.length&&(n=Al[0],n.blockedOn===null);)KP(n),n.blockedOn===null&&Al.shift()}var nd=tl.ReactCurrentBatchConfig,cg=!0;function hz(e,t,n,r){var a=Bn,i=nd.transition;nd.transition=null;try{Bn=1,R1(e,t,n,r)}finally{Bn=a,nd.transition=i}}function gz(e,t,n,r){var a=Bn,i=nd.transition;nd.transition=null;try{Bn=4,R1(e,t,n,r)}finally{Bn=a,nd.transition=i}}function R1(e,t,n,r){if(cg){var a=bx(e,t,n,r);if(a===null)Uv(e,t,r,ug,n),J2(e,r);else if(pz(a,e,t,n,r))r.stopPropagation();else if(J2(e,r),t&4&&-1<fz.indexOf(e)){for(;a!==null;){var i=Up(a);if(i!==null&&VP(i),i=bx(e,t,n,r),i===null&&Uv(e,t,r,ug,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else Uv(e,t,r,null,n)}}var ug=null;function bx(e,t,n,r){if(ug=null,e=I1(r),e=Pc(e),e!==null)if(t=uu(e),t===null)e=null;else if(n=t.tag,n===13){if(e=_P(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ug=e,null}function GP(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rz()){case _1:return 1;case $P:return 4;case sg:case az:return 16;case BP:return 536870912;default:return 16}default:return 16}}var Dl=null,$1=null,Lh=null;function YP(){if(Lh)return Lh;var e,t=$1,n=t.length,r,a="value"in Dl?Dl.value:Dl.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===a[i-r];r++);return Lh=a.slice(e,1<r?1-r:void 0)}function Fh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ym(){return!0}function Q2(){return!1}function $i(e){function t(n,r,a,i,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ym:Q2,this.isPropagationStopped=Q2,this}return Sr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ym)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ym)},persist:function(){},isPersistent:Ym}),t}var Td={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},B1=$i(Td),zp=Sr({},Td,{view:0,detail:0}),yz=$i(zp),Ov,Iv,of,U0=Sr({},zp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:z1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==of&&(of&&e.type==="mousemove"?(Ov=e.screenX-of.screenX,Iv=e.screenY-of.screenY):Iv=Ov=0,of=e),Ov)},movementY:function(e){return"movementY"in e?e.movementY:Iv}}),X2=$i(U0),vz=Sr({},U0,{dataTransfer:0}),bz=$i(vz),xz=Sr({},zp,{relatedTarget:0}),_v=$i(xz),wz=Sr({},Td,{animationName:0,elapsedTime:0,pseudoElement:0}),kz=$i(wz),Sz=Sr({},Td,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Nz=$i(Sz),jz=Sr({},Td,{data:0}),ej=$i(jz),Cz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Az={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ez(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Mz[e])?!!t[e]:!1}function z1(){return Ez}var Dz=Sr({},zp,{key:function(e){if(e.key){var t=Cz[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Az[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:z1,charCode:function(e){return e.type==="keypress"?Fh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Pz=$i(Dz),Tz=Sr({},U0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tj=$i(Tz),Oz=Sr({},zp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:z1}),Iz=$i(Oz),_z=Sr({},Td,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lz=$i(_z),Fz=Sr({},U0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rz=$i(Fz),$z=[9,13,27,32],U1=zs&&"CompositionEvent"in window,If=null;zs&&"documentMode"in document&&(If=document.documentMode);var Bz=zs&&"TextEvent"in window&&!If,JP=zs&&(!U1||If&&8<If&&11>=If),nj=" ",rj=!1;function ZP(e,t){switch(e){case"keyup":return $z.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function QP(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fu=!1;function zz(e,t){switch(e){case"compositionend":return QP(t);case"keypress":return t.which!==32?null:(rj=!0,nj);case"textInput":return e=t.data,e===nj&&rj?null:e;default:return null}}function Uz(e,t){if(Fu)return e==="compositionend"||!U1&&ZP(e,t)?(e=YP(),Lh=$1=Dl=null,Fu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return JP&&t.locale!=="ko"?null:t.data;default:return null}}var Vz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function aj(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Vz[e.type]:t==="textarea"}function XP(e,t,n,r){DP(r),t=dg(t,"onChange"),0<t.length&&(n=new B1("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var _f=null,ap=null;function Wz(e){uT(e,0)}function V0(e){var t=Bu(e);if(SP(t))return e}function qz(e,t){if(e==="change")return t}var eT=!1;if(zs){var Lv;if(zs){var Fv="oninput"in document;if(!Fv){var ij=document.createElement("div");ij.setAttribute("oninput","return;"),Fv=typeof ij.oninput=="function"}Lv=Fv}else Lv=!1;eT=Lv&&(!document.documentMode||9<document.documentMode)}function oj(){_f&&(_f.detachEvent("onpropertychange",tT),ap=_f=null)}function tT(e){if(e.propertyName==="value"&&V0(ap)){var t=[];XP(t,ap,e,I1(e)),IP(Wz,t)}}function Hz(e,t,n){e==="focusin"?(oj(),_f=t,ap=n,_f.attachEvent("onpropertychange",tT)):e==="focusout"&&oj()}function Kz(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return V0(ap)}function Gz(e,t){if(e==="click")return V0(t)}function Yz(e,t){if(e==="input"||e==="change")return V0(t)}function Jz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ao=typeof Object.is=="function"?Object.is:Jz;function ip(e,t){if(Ao(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!tx.call(t,a)||!Ao(e[a],t[a]))return!1}return!0}function sj(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lj(e,t){var n=sj(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sj(n)}}function nT(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?nT(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function rT(){for(var e=window,t=ag();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ag(e.document)}return t}function V1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Zz(e){var t=rT(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&nT(n.ownerDocument.documentElement,n)){if(r!==null&&V1(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=lj(n,i);var o=lj(n,r);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Qz=zs&&"documentMode"in document&&11>=document.documentMode,Ru=null,xx=null,Lf=null,wx=!1;function cj(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wx||Ru==null||Ru!==ag(r)||(r=Ru,"selectionStart"in r&&V1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Lf&&ip(Lf,r)||(Lf=r,r=dg(xx,"onSelect"),0<r.length&&(t=new B1("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ru)))}function Jm(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var $u={animationend:Jm("Animation","AnimationEnd"),animationiteration:Jm("Animation","AnimationIteration"),animationstart:Jm("Animation","AnimationStart"),transitionend:Jm("Transition","TransitionEnd")},Rv={},aT={};zs&&(aT=document.createElement("div").style,"AnimationEvent"in window||(delete $u.animationend.animation,delete $u.animationiteration.animation,delete $u.animationstart.animation),"TransitionEvent"in window||delete $u.transitionend.transition);function W0(e){if(Rv[e])return Rv[e];if(!$u[e])return e;var t=$u[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in aT)return Rv[e]=t[n];return e}var iT=W0("animationend"),oT=W0("animationiteration"),sT=W0("animationstart"),lT=W0("transitionend"),cT=new Map,uj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ql(e,t){cT.set(e,t),cu(t,[e])}for(var $v=0;$v<uj.length;$v++){var Bv=uj[$v],Xz=Bv.toLowerCase(),eU=Bv[0].toUpperCase()+Bv.slice(1);Ql(Xz,"on"+eU)}Ql(iT,"onAnimationEnd");Ql(oT,"onAnimationIteration");Ql(sT,"onAnimationStart");Ql("dblclick","onDoubleClick");Ql("focusin","onFocus");Ql("focusout","onBlur");Ql(lT,"onTransitionEnd");cd("onMouseEnter",["mouseout","mouseover"]);cd("onMouseLeave",["mouseout","mouseover"]);cd("onPointerEnter",["pointerout","pointerover"]);cd("onPointerLeave",["pointerout","pointerover"]);cu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cu("onBeforeInput",["compositionend","keypress","textInput","paste"]);cu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tU=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cf));function dj(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,XB(r,t,void 0,e),e.currentTarget=null}function uT(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;dj(a,s,u),i=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;dj(a,s,u),i=l}}}if(og)throw e=gx,og=!1,gx=null,e}function rr(e,t){var n=t[Cx];n===void 0&&(n=t[Cx]=new Set);var r=e+"__bubble";n.has(r)||(dT(t,e,2,!1),n.add(r))}function zv(e,t,n){var r=0;t&&(r|=4),dT(n,e,r,t)}var Zm="_reactListening"+Math.random().toString(36).slice(2);function op(e){if(!e[Zm]){e[Zm]=!0,vP.forEach(function(n){n!=="selectionchange"&&(tU.has(n)||zv(n,!1,e),zv(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Zm]||(t[Zm]=!0,zv("selectionchange",!1,t))}}function dT(e,t,n,r){switch(GP(t)){case 1:var a=hz;break;case 4:a=gz;break;default:a=R1}n=a.bind(null,t,n,e),a=void 0,!hx||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Uv(e,t,n,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===a||s.nodeType===8&&s.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;o=o.return}for(;s!==null;){if(o=Pc(s),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}s=s.parentNode}}r=r.return}IP(function(){var u=i,d=I1(n),f=[];e:{var p=cT.get(e);if(p!==void 0){var m=B1,h=e;switch(e){case"keypress":if(Fh(n)===0)break e;case"keydown":case"keyup":m=Pz;break;case"focusin":h="focus",m=_v;break;case"focusout":h="blur",m=_v;break;case"beforeblur":case"afterblur":m=_v;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=X2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=bz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Iz;break;case iT:case oT:case sT:m=kz;break;case lT:m=Lz;break;case"scroll":m=yz;break;case"wheel":m=Rz;break;case"copy":case"cut":case"paste":m=Nz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=tj}var v=(t&4)!==0,b=!v&&e==="scroll",y=v?p!==null?p+"Capture":null:p;v=[];for(var x=u,w;x!==null;){w=x;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,y!==null&&(S=ep(x,y),S!=null&&v.push(sp(x,S,w)))),b)break;x=x.return}0<v.length&&(p=new m(p,h,null,n,d),f.push({event:p,listeners:v}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==px&&(h=n.relatedTarget||n.fromElement)&&(Pc(h)||h[Us]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(h=n.relatedTarget||n.toElement,m=u,h=h?Pc(h):null,h!==null&&(b=uu(h),h!==b||h.tag!==5&&h.tag!==6)&&(h=null)):(m=null,h=u),m!==h)){if(v=X2,S="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=tj,S="onPointerLeave",y="onPointerEnter",x="pointer"),b=m==null?p:Bu(m),w=h==null?p:Bu(h),p=new v(S,x+"leave",m,n,d),p.target=b,p.relatedTarget=w,S=null,Pc(d)===u&&(v=new v(y,x+"enter",h,n,d),v.target=w,v.relatedTarget=b,S=v),b=S,m&&h)t:{for(v=m,y=h,x=0,w=v;w;w=Cu(w))x++;for(w=0,S=y;S;S=Cu(S))w++;for(;0<x-w;)v=Cu(v),x--;for(;0<w-x;)y=Cu(y),w--;for(;x--;){if(v===y||y!==null&&v===y.alternate)break t;v=Cu(v),y=Cu(y)}v=null}else v=null;m!==null&&fj(f,p,m,v,!1),h!==null&&b!==null&&fj(f,b,h,v,!0)}}e:{if(p=u?Bu(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var j=qz;else if(aj(p))if(eT)j=Yz;else{j=Kz;var N=Hz}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(j=Gz);if(j&&(j=j(e,u))){XP(f,j,n,d);break e}N&&N(e,p,u),e==="focusout"&&(N=p._wrapperState)&&N.controlled&&p.type==="number"&&lx(p,"number",p.value)}switch(N=u?Bu(u):window,e){case"focusin":(aj(N)||N.contentEditable==="true")&&(Ru=N,xx=u,Lf=null);break;case"focusout":Lf=xx=Ru=null;break;case"mousedown":wx=!0;break;case"contextmenu":case"mouseup":case"dragend":wx=!1,cj(f,n,d);break;case"selectionchange":if(Qz)break;case"keydown":case"keyup":cj(f,n,d)}var A;if(U1)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Fu?ZP(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(JP&&n.locale!=="ko"&&(Fu||P!=="onCompositionStart"?P==="onCompositionEnd"&&Fu&&(A=YP()):(Dl=d,$1="value"in Dl?Dl.value:Dl.textContent,Fu=!0)),N=dg(u,P),0<N.length&&(P=new ej(P,e,null,n,d),f.push({event:P,listeners:N}),A?P.data=A:(A=QP(n),A!==null&&(P.data=A)))),(A=Bz?zz(e,n):Uz(e,n))&&(u=dg(u,"onBeforeInput"),0<u.length&&(d=new ej("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=A))}uT(f,t)})}function sp(e,t,n){return{instance:e,listener:t,currentTarget:n}}function dg(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=ep(e,n),i!=null&&r.unshift(sp(e,i,a)),i=ep(e,t),i!=null&&r.push(sp(e,i,a))),e=e.return}return r}function Cu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function fj(e,t,n,r,a){for(var i=t._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,a?(l=ep(n,i),l!=null&&o.unshift(sp(n,l,s))):a||(l=ep(n,i),l!=null&&o.push(sp(n,l,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var nU=/\r\n?/g,rU=/\u0000|\uFFFD/g;function pj(e){return(typeof e=="string"?e:""+e).replace(nU,`
`).replace(rU,"")}function Qm(e,t,n){if(t=pj(t),pj(e)!==t&&n)throw Error(st(425))}function fg(){}var kx=null,Sx=null;function Nx(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var jx=typeof setTimeout=="function"?setTimeout:void 0,aU=typeof clearTimeout=="function"?clearTimeout:void 0,mj=typeof Promise=="function"?Promise:void 0,iU=typeof queueMicrotask=="function"?queueMicrotask:typeof mj<"u"?function(e){return mj.resolve(null).then(e).catch(oU)}:jx;function oU(e){setTimeout(function(){throw e})}function Vv(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),rp(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);rp(t)}function Fl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function hj(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Od=Math.random().toString(36).slice(2),es="__reactFiber$"+Od,lp="__reactProps$"+Od,Us="__reactContainer$"+Od,Cx="__reactEvents$"+Od,sU="__reactListeners$"+Od,lU="__reactHandles$"+Od;function Pc(e){var t=e[es];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Us]||n[es]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=hj(e);e!==null;){if(n=e[es])return n;e=hj(e)}return t}e=n,n=e.parentNode}return null}function Up(e){return e=e[es]||e[Us],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Bu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(st(33))}function q0(e){return e[lp]||null}var Ax=[],zu=-1;function Xl(e){return{current:e}}function or(e){0>zu||(e.current=Ax[zu],Ax[zu]=null,zu--)}function er(e,t){zu++,Ax[zu]=e.current,e.current=t}var Hl={},za=Xl(Hl),di=Xl(!1),Gc=Hl;function ud(e,t){var n=e.type.contextTypes;if(!n)return Hl;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function fi(e){return e=e.childContextTypes,e!=null}function pg(){or(di),or(za)}function gj(e,t,n){if(za.current!==Hl)throw Error(st(168));er(za,t),er(di,n)}function fT(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(st(108,HB(e)||"Unknown",a));return Sr({},n,r)}function mg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Hl,Gc=za.current,er(za,e),er(di,di.current),!0}function yj(e,t,n){var r=e.stateNode;if(!r)throw Error(st(169));n?(e=fT(e,t,Gc),r.__reactInternalMemoizedMergedChildContext=e,or(di),or(za),er(za,e)):or(di),er(di,n)}var Cs=null,H0=!1,Wv=!1;function pT(e){Cs===null?Cs=[e]:Cs.push(e)}function cU(e){H0=!0,pT(e)}function ec(){if(!Wv&&Cs!==null){Wv=!0;var e=0,t=Bn;try{var n=Cs;for(Bn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Cs=null,H0=!1}catch(a){throw Cs!==null&&(Cs=Cs.slice(e+1)),RP(_1,ec),a}finally{Bn=t,Wv=!1}}return null}var Uu=[],Vu=0,hg=null,gg=0,Yi=[],Ji=0,Yc=null,Ds=1,Ps="";function Sc(e,t){Uu[Vu++]=gg,Uu[Vu++]=hg,hg=e,gg=t}function mT(e,t,n){Yi[Ji++]=Ds,Yi[Ji++]=Ps,Yi[Ji++]=Yc,Yc=e;var r=Ds;e=Ps;var a=32-So(r)-1;r&=~(1<<a),n+=1;var i=32-So(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,Ds=1<<32-So(t)+a|n<<a|r,Ps=i+e}else Ds=1<<i|n<<a|r,Ps=e}function W1(e){e.return!==null&&(Sc(e,1),mT(e,1,0))}function q1(e){for(;e===hg;)hg=Uu[--Vu],Uu[Vu]=null,gg=Uu[--Vu],Uu[Vu]=null;for(;e===Yc;)Yc=Yi[--Ji],Yi[Ji]=null,Ps=Yi[--Ji],Yi[Ji]=null,Ds=Yi[--Ji],Yi[Ji]=null}var Ti=null,Di=null,ur=!1,bo=null;function hT(e,t){var n=Qi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function vj(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ti=e,Di=Fl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ti=e,Di=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Yc!==null?{id:Ds,overflow:Ps}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Qi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ti=e,Di=null,!0):!1;default:return!1}}function Mx(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ex(e){if(ur){var t=Di;if(t){var n=t;if(!vj(e,t)){if(Mx(e))throw Error(st(418));t=Fl(n.nextSibling);var r=Ti;t&&vj(e,t)?hT(r,n):(e.flags=e.flags&-4097|2,ur=!1,Ti=e)}}else{if(Mx(e))throw Error(st(418));e.flags=e.flags&-4097|2,ur=!1,Ti=e}}}function bj(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ti=e}function Xm(e){if(e!==Ti)return!1;if(!ur)return bj(e),ur=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Nx(e.type,e.memoizedProps)),t&&(t=Di)){if(Mx(e))throw gT(),Error(st(418));for(;t;)hT(e,t),t=Fl(t.nextSibling)}if(bj(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(st(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Di=Fl(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Di=null}}else Di=Ti?Fl(e.stateNode.nextSibling):null;return!0}function gT(){for(var e=Di;e;)e=Fl(e.nextSibling)}function dd(){Di=Ti=null,ur=!1}function H1(e){bo===null?bo=[e]:bo.push(e)}var uU=tl.ReactCurrentBatchConfig;function sf(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(st(309));var r=n.stateNode}if(!r)throw Error(st(147,e));var a=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var s=a.refs;o===null?delete s[i]:s[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(st(284));if(!n._owner)throw Error(st(290,e))}return e}function eh(e,t){throw e=Object.prototype.toString.call(t),Error(st(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xj(e){var t=e._init;return t(e._payload)}function yT(e){function t(y,x){if(e){var w=y.deletions;w===null?(y.deletions=[x],y.flags|=16):w.push(x)}}function n(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function r(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function a(y,x){return y=zl(y,x),y.index=0,y.sibling=null,y}function i(y,x,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<x?(y.flags|=2,x):w):(y.flags|=2,x)):(y.flags|=1048576,x)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function s(y,x,w,S){return x===null||x.tag!==6?(x=Zv(w,y.mode,S),x.return=y,x):(x=a(x,w),x.return=y,x)}function l(y,x,w,S){var j=w.type;return j===Lu?d(y,x,w.props.children,S,w.key):x!==null&&(x.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===kl&&xj(j)===x.type)?(S=a(x,w.props),S.ref=sf(y,x,w),S.return=y,S):(S=Wh(w.type,w.key,w.props,null,y.mode,S),S.ref=sf(y,x,w),S.return=y,S)}function u(y,x,w,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=Qv(w,y.mode,S),x.return=y,x):(x=a(x,w.children||[]),x.return=y,x)}function d(y,x,w,S,j){return x===null||x.tag!==7?(x=zc(w,y.mode,S,j),x.return=y,x):(x=a(x,w),x.return=y,x)}function f(y,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Zv(""+x,y.mode,w),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Vm:return w=Wh(x.type,x.key,x.props,null,y.mode,w),w.ref=sf(y,null,x),w.return=y,w;case _u:return x=Qv(x,y.mode,w),x.return=y,x;case kl:var S=x._init;return f(y,S(x._payload),w)}if(Nf(x)||tf(x))return x=zc(x,y.mode,w,null),x.return=y,x;eh(y,x)}return null}function p(y,x,w,S){var j=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:s(y,x,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Vm:return w.key===j?l(y,x,w,S):null;case _u:return w.key===j?u(y,x,w,S):null;case kl:return j=w._init,p(y,x,j(w._payload),S)}if(Nf(w)||tf(w))return j!==null?null:d(y,x,w,S,null);eh(y,w)}return null}function m(y,x,w,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(w)||null,s(x,y,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Vm:return y=y.get(S.key===null?w:S.key)||null,l(x,y,S,j);case _u:return y=y.get(S.key===null?w:S.key)||null,u(x,y,S,j);case kl:var N=S._init;return m(y,x,w,N(S._payload),j)}if(Nf(S)||tf(S))return y=y.get(w)||null,d(x,y,S,j,null);eh(x,S)}return null}function h(y,x,w,S){for(var j=null,N=null,A=x,P=x=0,B=null;A!==null&&P<w.length;P++){A.index>P?(B=A,A=null):B=A.sibling;var D=p(y,A,w[P],S);if(D===null){A===null&&(A=B);break}e&&A&&D.alternate===null&&t(y,A),x=i(D,x,P),N===null?j=D:N.sibling=D,N=D,A=B}if(P===w.length)return n(y,A),ur&&Sc(y,P),j;if(A===null){for(;P<w.length;P++)A=f(y,w[P],S),A!==null&&(x=i(A,x,P),N===null?j=A:N.sibling=A,N=A);return ur&&Sc(y,P),j}for(A=r(y,A);P<w.length;P++)B=m(A,y,P,w[P],S),B!==null&&(e&&B.alternate!==null&&A.delete(B.key===null?P:B.key),x=i(B,x,P),N===null?j=B:N.sibling=B,N=B);return e&&A.forEach(function(I){return t(y,I)}),ur&&Sc(y,P),j}function v(y,x,w,S){var j=tf(w);if(typeof j!="function")throw Error(st(150));if(w=j.call(w),w==null)throw Error(st(151));for(var N=j=null,A=x,P=x=0,B=null,D=w.next();A!==null&&!D.done;P++,D=w.next()){A.index>P?(B=A,A=null):B=A.sibling;var I=p(y,A,D.value,S);if(I===null){A===null&&(A=B);break}e&&A&&I.alternate===null&&t(y,A),x=i(I,x,P),N===null?j=I:N.sibling=I,N=I,A=B}if(D.done)return n(y,A),ur&&Sc(y,P),j;if(A===null){for(;!D.done;P++,D=w.next())D=f(y,D.value,S),D!==null&&(x=i(D,x,P),N===null?j=D:N.sibling=D,N=D);return ur&&Sc(y,P),j}for(A=r(y,A);!D.done;P++,D=w.next())D=m(A,y,P,D.value,S),D!==null&&(e&&D.alternate!==null&&A.delete(D.key===null?P:D.key),x=i(D,x,P),N===null?j=D:N.sibling=D,N=D);return e&&A.forEach(function(O){return t(y,O)}),ur&&Sc(y,P),j}function b(y,x,w,S){if(typeof w=="object"&&w!==null&&w.type===Lu&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Vm:e:{for(var j=w.key,N=x;N!==null;){if(N.key===j){if(j=w.type,j===Lu){if(N.tag===7){n(y,N.sibling),x=a(N,w.props.children),x.return=y,y=x;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===kl&&xj(j)===N.type){n(y,N.sibling),x=a(N,w.props),x.ref=sf(y,N,w),x.return=y,y=x;break e}n(y,N);break}else t(y,N);N=N.sibling}w.type===Lu?(x=zc(w.props.children,y.mode,S,w.key),x.return=y,y=x):(S=Wh(w.type,w.key,w.props,null,y.mode,S),S.ref=sf(y,x,w),S.return=y,y=S)}return o(y);case _u:e:{for(N=w.key;x!==null;){if(x.key===N)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){n(y,x.sibling),x=a(x,w.children||[]),x.return=y,y=x;break e}else{n(y,x);break}else t(y,x);x=x.sibling}x=Qv(w,y.mode,S),x.return=y,y=x}return o(y);case kl:return N=w._init,b(y,x,N(w._payload),S)}if(Nf(w))return h(y,x,w,S);if(tf(w))return v(y,x,w,S);eh(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(n(y,x.sibling),x=a(x,w),x.return=y,y=x):(n(y,x),x=Zv(w,y.mode,S),x.return=y,y=x),o(y)):n(y,x)}return b}var fd=yT(!0),vT=yT(!1),yg=Xl(null),vg=null,Wu=null,K1=null;function G1(){K1=Wu=vg=null}function Y1(e){var t=yg.current;or(yg),e._currentValue=t}function Dx(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function rd(e,t){vg=e,K1=Wu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ci=!0),e.firstContext=null)}function no(e){var t=e._currentValue;if(K1!==e)if(e={context:e,memoizedValue:t,next:null},Wu===null){if(vg===null)throw Error(st(308));Wu=e,vg.dependencies={lanes:0,firstContext:e}}else Wu=Wu.next=e;return t}var Tc=null;function J1(e){Tc===null?Tc=[e]:Tc.push(e)}function bT(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,J1(t)):(n.next=a.next,a.next=n),t.interleaved=n,Vs(e,r)}function Vs(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Sl=!1;function Z1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xT(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _s(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Rl(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Mn&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Vs(e,n)}return a=r.interleaved,a===null?(t.next=t,J1(r)):(t.next=a.next,a.next=t),r.interleaved=t,Vs(e,n)}function Rh(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,L1(e,n)}}function wj(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function bg(e,t,n,r){var a=e.updateQueue;Sl=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=l))}if(i!==null){var f=a.baseState;o=0,d=u=l=null,s=i;do{var p=s.lane,m=s.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,v=s;switch(p=t,m=n,v.tag){case 1:if(h=v.payload,typeof h=="function"){f=h.call(m,f,p);break e}f=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=v.payload,p=typeof h=="function"?h.call(m,f,p):h,p==null)break e;f=Sr({},f,p);break e;case 2:Sl=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,p=a.effects,p===null?a.effects=[s]:p.push(s))}else m={eventTime:m,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=m,l=f):d=d.next=m,o|=p;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;p=s,s=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(!0);if(d===null&&(l=f),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Zc|=o,e.lanes=o,e.memoizedState=f}}function kj(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(st(191,a));a.call(r)}}}var Vp={},rs=Xl(Vp),cp=Xl(Vp),up=Xl(Vp);function Oc(e){if(e===Vp)throw Error(st(174));return e}function Q1(e,t){switch(er(up,t),er(cp,e),er(rs,Vp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ux(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ux(t,e)}or(rs),er(rs,t)}function pd(){or(rs),or(cp),or(up)}function wT(e){Oc(up.current);var t=Oc(rs.current),n=ux(t,e.type);t!==n&&(er(cp,e),er(rs,n))}function X1(e){cp.current===e&&(or(rs),or(cp))}var vr=Xl(0);function xg(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qv=[];function ek(){for(var e=0;e<qv.length;e++)qv[e]._workInProgressVersionPrimary=null;qv.length=0}var $h=tl.ReactCurrentDispatcher,Hv=tl.ReactCurrentBatchConfig,Jc=0,kr=null,Jr=null,da=null,wg=!1,Ff=!1,dp=0,dU=0;function Ta(){throw Error(st(321))}function tk(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ao(e[n],t[n]))return!1;return!0}function nk(e,t,n,r,a,i){if(Jc=i,kr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$h.current=e===null||e.memoizedState===null?hU:gU,e=n(r,a),Ff){i=0;do{if(Ff=!1,dp=0,25<=i)throw Error(st(301));i+=1,da=Jr=null,t.updateQueue=null,$h.current=yU,e=n(r,a)}while(Ff)}if($h.current=kg,t=Jr!==null&&Jr.next!==null,Jc=0,da=Jr=kr=null,wg=!1,t)throw Error(st(300));return e}function rk(){var e=dp!==0;return dp=0,e}function Zo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return da===null?kr.memoizedState=da=e:da=da.next=e,da}function ro(){if(Jr===null){var e=kr.alternate;e=e!==null?e.memoizedState:null}else e=Jr.next;var t=da===null?kr.memoizedState:da.next;if(t!==null)da=t,Jr=e;else{if(e===null)throw Error(st(310));Jr=e,e={memoizedState:Jr.memoizedState,baseState:Jr.baseState,baseQueue:Jr.baseQueue,queue:Jr.queue,next:null},da===null?kr.memoizedState=da=e:da=da.next=e}return da}function fp(e,t){return typeof t=="function"?t(e):t}function Kv(e){var t=ro(),n=t.queue;if(n===null)throw Error(st(311));n.lastRenderedReducer=e;var r=Jr,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var s=o=null,l=null,u=i;do{var d=u.lane;if((Jc&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,o=r):l=l.next=f,kr.lanes|=d,Zc|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=s,Ao(r,t.memoizedState)||(ci=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do i=a.lane,kr.lanes|=i,Zc|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Gv(e){var t=ro(),n=t.queue;if(n===null)throw Error(st(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Ao(i,t.memoizedState)||(ci=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function kT(){}function ST(e,t){var n=kr,r=ro(),a=t(),i=!Ao(r.memoizedState,a);if(i&&(r.memoizedState=a,ci=!0),r=r.queue,ak(CT.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||da!==null&&da.memoizedState.tag&1){if(n.flags|=2048,pp(9,jT.bind(null,n,r,a,t),void 0,null),pa===null)throw Error(st(349));Jc&30||NT(n,t,a)}return a}function NT(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=kr.updateQueue,t===null?(t={lastEffect:null,stores:null},kr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function jT(e,t,n,r){t.value=n,t.getSnapshot=r,AT(t)&&MT(e)}function CT(e,t,n){return n(function(){AT(t)&&MT(e)})}function AT(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ao(e,n)}catch{return!0}}function MT(e){var t=Vs(e,1);t!==null&&No(t,e,1,-1)}function Sj(e){var t=Zo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fp,lastRenderedState:e},t.queue=e,e=e.dispatch=mU.bind(null,kr,e),[t.memoizedState,e]}function pp(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=kr.updateQueue,t===null?(t={lastEffect:null,stores:null},kr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ET(){return ro().memoizedState}function Bh(e,t,n,r){var a=Zo();kr.flags|=e,a.memoizedState=pp(1|t,n,void 0,r===void 0?null:r)}function K0(e,t,n,r){var a=ro();r=r===void 0?null:r;var i=void 0;if(Jr!==null){var o=Jr.memoizedState;if(i=o.destroy,r!==null&&tk(r,o.deps)){a.memoizedState=pp(t,n,i,r);return}}kr.flags|=e,a.memoizedState=pp(1|t,n,i,r)}function Nj(e,t){return Bh(8390656,8,e,t)}function ak(e,t){return K0(2048,8,e,t)}function DT(e,t){return K0(4,2,e,t)}function PT(e,t){return K0(4,4,e,t)}function TT(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function OT(e,t,n){return n=n!=null?n.concat([e]):null,K0(4,4,TT.bind(null,t,e),n)}function ik(){}function IT(e,t){var n=ro();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&tk(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function _T(e,t){var n=ro();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&tk(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function LT(e,t,n){return Jc&21?(Ao(n,t)||(n=zP(),kr.lanes|=n,Zc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ci=!0),e.memoizedState=n)}function fU(e,t){var n=Bn;Bn=n!==0&&4>n?n:4,e(!0);var r=Hv.transition;Hv.transition={};try{e(!1),t()}finally{Bn=n,Hv.transition=r}}function FT(){return ro().memoizedState}function pU(e,t,n){var r=Bl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},RT(e))$T(t,n);else if(n=bT(e,t,n,r),n!==null){var a=Ja();No(n,e,r,a),BT(n,t,r)}}function mU(e,t,n){var r=Bl(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(RT(e))$T(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,s=i(o,n);if(a.hasEagerState=!0,a.eagerState=s,Ao(s,o)){var l=t.interleaved;l===null?(a.next=a,J1(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}n=bT(e,t,a,r),n!==null&&(a=Ja(),No(n,e,r,a),BT(n,t,r))}}function RT(e){var t=e.alternate;return e===kr||t!==null&&t===kr}function $T(e,t){Ff=wg=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function BT(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,L1(e,n)}}var kg={readContext:no,useCallback:Ta,useContext:Ta,useEffect:Ta,useImperativeHandle:Ta,useInsertionEffect:Ta,useLayoutEffect:Ta,useMemo:Ta,useReducer:Ta,useRef:Ta,useState:Ta,useDebugValue:Ta,useDeferredValue:Ta,useTransition:Ta,useMutableSource:Ta,useSyncExternalStore:Ta,useId:Ta,unstable_isNewReconciler:!1},hU={readContext:no,useCallback:function(e,t){return Zo().memoizedState=[e,t===void 0?null:t],e},useContext:no,useEffect:Nj,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Bh(4194308,4,TT.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bh(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bh(4,2,e,t)},useMemo:function(e,t){var n=Zo();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Zo();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=pU.bind(null,kr,e),[r.memoizedState,e]},useRef:function(e){var t=Zo();return e={current:e},t.memoizedState=e},useState:Sj,useDebugValue:ik,useDeferredValue:function(e){return Zo().memoizedState=e},useTransition:function(){var e=Sj(!1),t=e[0];return e=fU.bind(null,e[1]),Zo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=kr,a=Zo();if(ur){if(n===void 0)throw Error(st(407));n=n()}else{if(n=t(),pa===null)throw Error(st(349));Jc&30||NT(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,Nj(CT.bind(null,r,i,e),[e]),r.flags|=2048,pp(9,jT.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Zo(),t=pa.identifierPrefix;if(ur){var n=Ps,r=Ds;n=(r&~(1<<32-So(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=dp++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=dU++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},gU={readContext:no,useCallback:IT,useContext:no,useEffect:ak,useImperativeHandle:OT,useInsertionEffect:DT,useLayoutEffect:PT,useMemo:_T,useReducer:Kv,useRef:ET,useState:function(){return Kv(fp)},useDebugValue:ik,useDeferredValue:function(e){var t=ro();return LT(t,Jr.memoizedState,e)},useTransition:function(){var e=Kv(fp)[0],t=ro().memoizedState;return[e,t]},useMutableSource:kT,useSyncExternalStore:ST,useId:FT,unstable_isNewReconciler:!1},yU={readContext:no,useCallback:IT,useContext:no,useEffect:ak,useImperativeHandle:OT,useInsertionEffect:DT,useLayoutEffect:PT,useMemo:_T,useReducer:Gv,useRef:ET,useState:function(){return Gv(fp)},useDebugValue:ik,useDeferredValue:function(e){var t=ro();return Jr===null?t.memoizedState=e:LT(t,Jr.memoizedState,e)},useTransition:function(){var e=Gv(fp)[0],t=ro().memoizedState;return[e,t]},useMutableSource:kT,useSyncExternalStore:ST,useId:FT,unstable_isNewReconciler:!1};function yo(e,t){if(e&&e.defaultProps){t=Sr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Px(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Sr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var G0={isMounted:function(e){return(e=e._reactInternals)?uu(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ja(),a=Bl(e),i=_s(r,a);i.payload=t,n!=null&&(i.callback=n),t=Rl(e,i,a),t!==null&&(No(t,e,a,r),Rh(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ja(),a=Bl(e),i=_s(r,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Rl(e,i,a),t!==null&&(No(t,e,a,r),Rh(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ja(),r=Bl(e),a=_s(n,r);a.tag=2,t!=null&&(a.callback=t),t=Rl(e,a,r),t!==null&&(No(t,e,r,n),Rh(t,e,r))}};function jj(e,t,n,r,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!ip(n,r)||!ip(a,i):!0}function zT(e,t,n){var r=!1,a=Hl,i=t.contextType;return typeof i=="object"&&i!==null?i=no(i):(a=fi(t)?Gc:za.current,r=t.contextTypes,i=(r=r!=null)?ud(e,a):Hl),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=G0,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Cj(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&G0.enqueueReplaceState(t,t.state,null)}function Tx(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Z1(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=no(i):(i=fi(t)?Gc:za.current,a.context=ud(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Px(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&G0.enqueueReplaceState(a,a.state,null),bg(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function md(e,t){try{var n="",r=t;do n+=qB(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Yv(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ox(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var vU=typeof WeakMap=="function"?WeakMap:Map;function UT(e,t,n){n=_s(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ng||(Ng=!0,Ux=r),Ox(e,t)},n}function VT(e,t,n){n=_s(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){Ox(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ox(e,t),typeof r!="function"&&($l===null?$l=new Set([this]):$l.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Aj(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new vU;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=TU.bind(null,e,t,n),t.then(e,e))}function Mj(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ej(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=_s(-1,1),t.tag=2,Rl(n,t,1))),n.lanes|=1),e)}var bU=tl.ReactCurrentOwner,ci=!1;function Ka(e,t,n,r){t.child=e===null?vT(t,null,n,r):fd(t,e.child,n,r)}function Dj(e,t,n,r,a){n=n.render;var i=t.ref;return rd(t,a),r=nk(e,t,n,r,i,a),n=rk(),e!==null&&!ci?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ws(e,t,a)):(ur&&n&&W1(t),t.flags|=1,Ka(e,t,r,a),t.child)}function Pj(e,t,n,r,a){if(e===null){var i=n.type;return typeof i=="function"&&!pk(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,WT(e,t,i,r,a)):(e=Wh(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ip,n(o,r)&&e.ref===t.ref)return Ws(e,t,a)}return t.flags|=1,e=zl(i,r),e.ref=t.ref,e.return=t,t.child=e}function WT(e,t,n,r,a){if(e!==null){var i=e.memoizedProps;if(ip(i,r)&&e.ref===t.ref)if(ci=!1,t.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(ci=!0);else return t.lanes=e.lanes,Ws(e,t,a)}return Ix(e,t,n,r,a)}function qT(e,t,n){var r=t.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},er(Hu,Ai),Ai|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,er(Hu,Ai),Ai|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,er(Hu,Ai),Ai|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,er(Hu,Ai),Ai|=r;return Ka(e,t,a,n),t.child}function HT(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ix(e,t,n,r,a){var i=fi(n)?Gc:za.current;return i=ud(t,i),rd(t,a),n=nk(e,t,n,r,i,a),r=rk(),e!==null&&!ci?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ws(e,t,a)):(ur&&r&&W1(t),t.flags|=1,Ka(e,t,n,a),t.child)}function Tj(e,t,n,r,a){if(fi(n)){var i=!0;mg(t)}else i=!1;if(rd(t,a),t.stateNode===null)zh(e,t),zT(t,n,r),Tx(t,n,r,a),r=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=no(u):(u=fi(n)?Gc:za.current,u=ud(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==u)&&Cj(t,o,r,u),Sl=!1;var p=t.memoizedState;o.state=p,bg(t,r,o,a),l=t.memoizedState,s!==r||p!==l||di.current||Sl?(typeof d=="function"&&(Px(t,n,d,r),l=t.memoizedState),(s=Sl||jj(t,n,s,r,p,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,xT(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:yo(t.type,s),o.props=u,f=t.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=no(l):(l=fi(n)?Gc:za.current,l=ud(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||p!==l)&&Cj(t,o,r,l),Sl=!1,p=t.memoizedState,o.state=p,bg(t,r,o,a);var h=t.memoizedState;s!==f||p!==h||di.current||Sl?(typeof m=="function"&&(Px(t,n,m,r),h=t.memoizedState),(u=Sl||jj(t,n,u,r,p,h,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,h,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,h,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return _x(e,t,n,r,i,a)}function _x(e,t,n,r,a,i){HT(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return a&&yj(t,n,!1),Ws(e,t,i);r=t.stateNode,bU.current=t;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=fd(t,e.child,null,i),t.child=fd(t,null,s,i)):Ka(e,t,s,i),t.memoizedState=r.state,a&&yj(t,n,!0),t.child}function KT(e){var t=e.stateNode;t.pendingContext?gj(e,t.pendingContext,t.pendingContext!==t.context):t.context&&gj(e,t.context,!1),Q1(e,t.containerInfo)}function Oj(e,t,n,r,a){return dd(),H1(a),t.flags|=256,Ka(e,t,n,r),t.child}var Lx={dehydrated:null,treeContext:null,retryLane:0};function Fx(e){return{baseLanes:e,cachePool:null,transitions:null}}function GT(e,t,n){var r=t.pendingProps,a=vr.current,i=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(a&2)!==0),s?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),er(vr,a&1),e===null)return Ex(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Z0(o,r,0,null),e=zc(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Fx(n),t.memoizedState=Lx,e):ok(t,o));if(a=e.memoizedState,a!==null&&(s=a.dehydrated,s!==null))return xU(e,t,o,r,s,a,n);if(i){i=r.fallback,o=t.mode,a=e.child,s=a.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=zl(a,l),r.subtreeFlags=a.subtreeFlags&14680064),s!==null?i=zl(s,i):(i=zc(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Fx(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Lx,r}return i=e.child,e=i.sibling,r=zl(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ok(e,t){return t=Z0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function th(e,t,n,r){return r!==null&&H1(r),fd(t,e.child,null,n),e=ok(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xU(e,t,n,r,a,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Yv(Error(st(422))),th(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Z0({mode:"visible",children:r.children},a,0,null),i=zc(i,a,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&fd(t,e.child,null,o),t.child.memoizedState=Fx(o),t.memoizedState=Lx,i);if(!(t.mode&1))return th(e,t,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var s=r.dgst;return r=s,i=Error(st(419)),r=Yv(i,r,void 0),th(e,t,o,r)}if(s=(o&e.childLanes)!==0,ci||s){if(r=pa,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Vs(e,a),No(r,e,a,-1))}return fk(),r=Yv(Error(st(421))),th(e,t,o,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=OU.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Di=Fl(a.nextSibling),Ti=t,ur=!0,bo=null,e!==null&&(Yi[Ji++]=Ds,Yi[Ji++]=Ps,Yi[Ji++]=Yc,Ds=e.id,Ps=e.overflow,Yc=t),t=ok(t,r.children),t.flags|=4096,t)}function Ij(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Dx(e.return,t,n)}function Jv(e,t,n,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function YT(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(Ka(e,t,r.children,n),r=vr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ij(e,n,t);else if(e.tag===19)Ij(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(er(vr,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&xg(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Jv(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&xg(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Jv(t,!0,n,null,i);break;case"together":Jv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Zc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(st(153));if(t.child!==null){for(e=t.child,n=zl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=zl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function wU(e,t,n){switch(t.tag){case 3:KT(t),dd();break;case 5:wT(t);break;case 1:fi(t.type)&&mg(t);break;case 4:Q1(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;er(yg,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(er(vr,vr.current&1),t.flags|=128,null):n&t.child.childLanes?GT(e,t,n):(er(vr,vr.current&1),e=Ws(e,t,n),e!==null?e.sibling:null);er(vr,vr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return YT(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),er(vr,vr.current),r)break;return null;case 22:case 23:return t.lanes=0,qT(e,t,n)}return Ws(e,t,n)}var JT,Rx,ZT,QT;JT=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Rx=function(){};ZT=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Oc(rs.current);var i=null;switch(n){case"input":a=ox(e,a),r=ox(e,r),i=[];break;case"select":a=Sr({},a,{value:void 0}),r=Sr({},r,{value:void 0}),i=[];break;case"textarea":a=cx(e,a),r=cx(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=fg)}dx(n,r);var o;n=null;for(u in a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var s=a[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Qf.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(s=a!=null?a[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Qf.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&rr("scroll",e),i||s===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};QT=function(e,t,n,r){n!==r&&(t.flags|=4)};function lf(e,t){if(!ur)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Oa(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function kU(e,t,n){var r=t.pendingProps;switch(q1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oa(t),null;case 1:return fi(t.type)&&pg(),Oa(t),null;case 3:return r=t.stateNode,pd(),or(di),or(za),ek(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Xm(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,bo!==null&&(qx(bo),bo=null))),Rx(e,t),Oa(t),null;case 5:X1(t);var a=Oc(up.current);if(n=t.type,e!==null&&t.stateNode!=null)ZT(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(st(166));return Oa(t),null}if(e=Oc(rs.current),Xm(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[es]=t,r[lp]=i,e=(t.mode&1)!==0,n){case"dialog":rr("cancel",r),rr("close",r);break;case"iframe":case"object":case"embed":rr("load",r);break;case"video":case"audio":for(a=0;a<Cf.length;a++)rr(Cf[a],r);break;case"source":rr("error",r);break;case"img":case"image":case"link":rr("error",r),rr("load",r);break;case"details":rr("toggle",r);break;case"input":V2(r,i),rr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},rr("invalid",r);break;case"textarea":q2(r,i),rr("invalid",r)}dx(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];o==="children"?typeof s=="string"?r.textContent!==s&&(i.suppressHydrationWarning!==!0&&Qm(r.textContent,s,e),a=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(i.suppressHydrationWarning!==!0&&Qm(r.textContent,s,e),a=["children",""+s]):Qf.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&rr("scroll",r)}switch(n){case"input":Wm(r),W2(r,i,!0);break;case"textarea":Wm(r),H2(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=fg)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=CP(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[es]=t,e[lp]=r,JT(e,t,!1,!1),t.stateNode=e;e:{switch(o=fx(n,r),n){case"dialog":rr("cancel",e),rr("close",e),a=r;break;case"iframe":case"object":case"embed":rr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Cf.length;a++)rr(Cf[a],e);a=r;break;case"source":rr("error",e),a=r;break;case"img":case"image":case"link":rr("error",e),rr("load",e),a=r;break;case"details":rr("toggle",e),a=r;break;case"input":V2(e,r),a=ox(e,r),rr("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=Sr({},r,{value:void 0}),rr("invalid",e);break;case"textarea":q2(e,r),a=cx(e,r),rr("invalid",e);break;default:a=r}dx(n,a),s=a;for(i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="style"?EP(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&AP(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Xf(e,l):typeof l=="number"&&Xf(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Qf.hasOwnProperty(i)?l!=null&&i==="onScroll"&&rr("scroll",e):l!=null&&D1(e,i,l,o))}switch(n){case"input":Wm(e),W2(e,r,!1);break;case"textarea":Wm(e),H2(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ql(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Xu(e,!!r.multiple,i,!1):r.defaultValue!=null&&Xu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=fg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Oa(t),null;case 6:if(e&&t.stateNode!=null)QT(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(st(166));if(n=Oc(up.current),Oc(rs.current),Xm(t)){if(r=t.stateNode,n=t.memoizedProps,r[es]=t,(i=r.nodeValue!==n)&&(e=Ti,e!==null))switch(e.tag){case 3:Qm(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Qm(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[es]=t,t.stateNode=r}return Oa(t),null;case 13:if(or(vr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ur&&Di!==null&&t.mode&1&&!(t.flags&128))gT(),dd(),t.flags|=98560,i=!1;else if(i=Xm(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(st(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(st(317));i[es]=t}else dd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oa(t),i=!1}else bo!==null&&(qx(bo),bo=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||vr.current&1?Qr===0&&(Qr=3):fk())),t.updateQueue!==null&&(t.flags|=4),Oa(t),null);case 4:return pd(),Rx(e,t),e===null&&op(t.stateNode.containerInfo),Oa(t),null;case 10:return Y1(t.type._context),Oa(t),null;case 17:return fi(t.type)&&pg(),Oa(t),null;case 19:if(or(vr),i=t.memoizedState,i===null)return Oa(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)lf(i,!1);else{if(Qr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=xg(e),o!==null){for(t.flags|=128,lf(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return er(vr,vr.current&1|2),t.child}e=e.sibling}i.tail!==null&&Or()>hd&&(t.flags|=128,r=!0,lf(i,!1),t.lanes=4194304)}else{if(!r)if(e=xg(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),lf(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ur)return Oa(t),null}else 2*Or()-i.renderingStartTime>hd&&n!==1073741824&&(t.flags|=128,r=!0,lf(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Or(),t.sibling=null,n=vr.current,er(vr,r?n&1|2:n&1),t):(Oa(t),null);case 22:case 23:return dk(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ai&1073741824&&(Oa(t),t.subtreeFlags&6&&(t.flags|=8192)):Oa(t),null;case 24:return null;case 25:return null}throw Error(st(156,t.tag))}function SU(e,t){switch(q1(t),t.tag){case 1:return fi(t.type)&&pg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pd(),or(di),or(za),ek(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return X1(t),null;case 13:if(or(vr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(st(340));dd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return or(vr),null;case 4:return pd(),null;case 10:return Y1(t.type._context),null;case 22:case 23:return dk(),null;case 24:return null;default:return null}}var nh=!1,La=!1,NU=typeof WeakSet=="function"?WeakSet:Set,Ct=null;function qu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ar(e,t,r)}else n.current=null}function XT(e,t,n){try{n()}catch(r){Ar(e,t,r)}}var _j=!1;function jU(e,t){if(kx=cg,e=rT(),V1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(s=o+a),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===n&&++u===a&&(s=o),p===i&&++d===r&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Sx={focusedElem:e,selectionRange:n},cg=!1,Ct=t;Ct!==null;)if(t=Ct,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ct=e;else for(;Ct!==null;){t=Ct;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var v=h.memoizedProps,b=h.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:yo(t.type,v),b);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(st(163))}}catch(S){Ar(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,Ct=e;break}Ct=t.return}return h=_j,_j=!1,h}function Rf(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&XT(t,n,i)}a=a.next}while(a!==r)}}function Y0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function $x(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function eO(e){var t=e.alternate;t!==null&&(e.alternate=null,eO(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[es],delete t[lp],delete t[Cx],delete t[sU],delete t[lU])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function tO(e){return e.tag===5||e.tag===3||e.tag===4}function Lj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tO(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bx(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=fg));else if(r!==4&&(e=e.child,e!==null))for(Bx(e,t,n),e=e.sibling;e!==null;)Bx(e,t,n),e=e.sibling}function zx(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(zx(e,t,n),e=e.sibling;e!==null;)zx(e,t,n),e=e.sibling}var ka=null,vo=!1;function vl(e,t,n){for(n=n.child;n!==null;)nO(e,t,n),n=n.sibling}function nO(e,t,n){if(ns&&typeof ns.onCommitFiberUnmount=="function")try{ns.onCommitFiberUnmount(z0,n)}catch{}switch(n.tag){case 5:La||qu(n,t);case 6:var r=ka,a=vo;ka=null,vl(e,t,n),ka=r,vo=a,ka!==null&&(vo?(e=ka,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ka.removeChild(n.stateNode));break;case 18:ka!==null&&(vo?(e=ka,n=n.stateNode,e.nodeType===8?Vv(e.parentNode,n):e.nodeType===1&&Vv(e,n),rp(e)):Vv(ka,n.stateNode));break;case 4:r=ka,a=vo,ka=n.stateNode.containerInfo,vo=!0,vl(e,t,n),ka=r,vo=a;break;case 0:case 11:case 14:case 15:if(!La&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&XT(n,t,o),a=a.next}while(a!==r)}vl(e,t,n);break;case 1:if(!La&&(qu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ar(n,t,s)}vl(e,t,n);break;case 21:vl(e,t,n);break;case 22:n.mode&1?(La=(r=La)||n.memoizedState!==null,vl(e,t,n),La=r):vl(e,t,n);break;default:vl(e,t,n)}}function Fj(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new NU),t.forEach(function(r){var a=IU.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function go(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:ka=s.stateNode,vo=!1;break e;case 3:ka=s.stateNode.containerInfo,vo=!0;break e;case 4:ka=s.stateNode.containerInfo,vo=!0;break e}s=s.return}if(ka===null)throw Error(st(160));nO(i,o,a),ka=null,vo=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(u){Ar(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)rO(t,e),t=t.sibling}function rO(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(go(t,e),Ko(e),r&4){try{Rf(3,e,e.return),Y0(3,e)}catch(v){Ar(e,e.return,v)}try{Rf(5,e,e.return)}catch(v){Ar(e,e.return,v)}}break;case 1:go(t,e),Ko(e),r&512&&n!==null&&qu(n,n.return);break;case 5:if(go(t,e),Ko(e),r&512&&n!==null&&qu(n,n.return),e.flags&32){var a=e.stateNode;try{Xf(a,"")}catch(v){Ar(e,e.return,v)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&i.type==="radio"&&i.name!=null&&NP(a,i),fx(s,o);var u=fx(s,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?EP(a,f):d==="dangerouslySetInnerHTML"?AP(a,f):d==="children"?Xf(a,f):D1(a,d,f,u)}switch(s){case"input":sx(a,i);break;case"textarea":jP(a,i);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Xu(a,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?Xu(a,!!i.multiple,i.defaultValue,!0):Xu(a,!!i.multiple,i.multiple?[]:"",!1))}a[lp]=i}catch(v){Ar(e,e.return,v)}}break;case 6:if(go(t,e),Ko(e),r&4){if(e.stateNode===null)throw Error(st(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(v){Ar(e,e.return,v)}}break;case 3:if(go(t,e),Ko(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{rp(t.containerInfo)}catch(v){Ar(e,e.return,v)}break;case 4:go(t,e),Ko(e);break;case 13:go(t,e),Ko(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(ck=Or())),r&4&&Fj(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(La=(u=La)||d,go(t,e),La=u):go(t,e),Ko(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ct=e,d=e.child;d!==null;){for(f=Ct=d;Ct!==null;){switch(p=Ct,m=p.child,p.tag){case 0:case 11:case 14:case 15:Rf(4,p,p.return);break;case 1:qu(p,p.return);var h=p.stateNode;if(typeof h.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(v){Ar(r,n,v)}}break;case 5:qu(p,p.return);break;case 22:if(p.memoizedState!==null){$j(f);continue}}m!==null?(m.return=p,Ct=m):$j(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=MP("display",o))}catch(v){Ar(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Ar(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:go(t,e),Ko(e),r&4&&Fj(e);break;case 21:break;default:go(t,e),Ko(e)}}function Ko(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(tO(n)){var r=n;break e}n=n.return}throw Error(st(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(Xf(a,""),r.flags&=-33);var i=Lj(e);zx(e,i,a);break;case 3:case 4:var o=r.stateNode.containerInfo,s=Lj(e);Bx(e,s,o);break;default:throw Error(st(161))}}catch(l){Ar(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function CU(e,t,n){Ct=e,aO(e)}function aO(e,t,n){for(var r=(e.mode&1)!==0;Ct!==null;){var a=Ct,i=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||nh;if(!o){var s=a.alternate,l=s!==null&&s.memoizedState!==null||La;s=nh;var u=La;if(nh=o,(La=l)&&!u)for(Ct=a;Ct!==null;)o=Ct,l=o.child,o.tag===22&&o.memoizedState!==null?Bj(a):l!==null?(l.return=o,Ct=l):Bj(a);for(;i!==null;)Ct=i,aO(i),i=i.sibling;Ct=a,nh=s,La=u}Rj(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ct=i):Rj(e)}}function Rj(e){for(;Ct!==null;){var t=Ct;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:La||Y0(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!La)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:yo(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&kj(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}kj(t,o,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&rp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(st(163))}La||t.flags&512&&$x(t)}catch(p){Ar(t,t.return,p)}}if(t===e){Ct=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ct=n;break}Ct=t.return}}function $j(e){for(;Ct!==null;){var t=Ct;if(t===e){Ct=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ct=n;break}Ct=t.return}}function Bj(e){for(;Ct!==null;){var t=Ct;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Y0(4,t)}catch(l){Ar(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(l){Ar(t,a,l)}}var i=t.return;try{$x(t)}catch(l){Ar(t,i,l)}break;case 5:var o=t.return;try{$x(t)}catch(l){Ar(t,o,l)}}}catch(l){Ar(t,t.return,l)}if(t===e){Ct=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Ct=s;break}Ct=t.return}}var AU=Math.ceil,Sg=tl.ReactCurrentDispatcher,sk=tl.ReactCurrentOwner,eo=tl.ReactCurrentBatchConfig,Mn=0,pa=null,Ur=null,Na=0,Ai=0,Hu=Xl(0),Qr=0,mp=null,Zc=0,J0=0,lk=0,$f=null,si=null,ck=0,hd=1/0,js=null,Ng=!1,Ux=null,$l=null,rh=!1,Pl=null,jg=0,Bf=0,Vx=null,Uh=-1,Vh=0;function Ja(){return Mn&6?Or():Uh!==-1?Uh:Uh=Or()}function Bl(e){return e.mode&1?Mn&2&&Na!==0?Na&-Na:uU.transition!==null?(Vh===0&&(Vh=zP()),Vh):(e=Bn,e!==0||(e=window.event,e=e===void 0?16:GP(e.type)),e):1}function No(e,t,n,r){if(50<Bf)throw Bf=0,Vx=null,Error(st(185));Bp(e,n,r),(!(Mn&2)||e!==pa)&&(e===pa&&(!(Mn&2)&&(J0|=n),Qr===4&&Ml(e,Na)),pi(e,r),n===1&&Mn===0&&!(t.mode&1)&&(hd=Or()+500,H0&&ec()))}function pi(e,t){var n=e.callbackNode;uz(e,t);var r=lg(e,e===pa?Na:0);if(r===0)n!==null&&Y2(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Y2(n),t===1)e.tag===0?cU(zj.bind(null,e)):pT(zj.bind(null,e)),iU(function(){!(Mn&6)&&ec()}),n=null;else{switch(UP(r)){case 1:n=_1;break;case 4:n=$P;break;case 16:n=sg;break;case 536870912:n=BP;break;default:n=sg}n=fO(n,iO.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iO(e,t){if(Uh=-1,Vh=0,Mn&6)throw Error(st(327));var n=e.callbackNode;if(ad()&&e.callbackNode!==n)return null;var r=lg(e,e===pa?Na:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Cg(e,r);else{t=r;var a=Mn;Mn|=2;var i=sO();(pa!==e||Na!==t)&&(js=null,hd=Or()+500,Bc(e,t));do try{DU();break}catch(s){oO(e,s)}while(!0);G1(),Sg.current=i,Mn=a,Ur!==null?t=0:(pa=null,Na=0,t=Qr)}if(t!==0){if(t===2&&(a=yx(e),a!==0&&(r=a,t=Wx(e,a))),t===1)throw n=mp,Bc(e,0),Ml(e,r),pi(e,Or()),n;if(t===6)Ml(e,r);else{if(a=e.current.alternate,!(r&30)&&!MU(a)&&(t=Cg(e,r),t===2&&(i=yx(e),i!==0&&(r=i,t=Wx(e,i))),t===1))throw n=mp,Bc(e,0),Ml(e,r),pi(e,Or()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(st(345));case 2:Nc(e,si,js);break;case 3:if(Ml(e,r),(r&130023424)===r&&(t=ck+500-Or(),10<t)){if(lg(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){Ja(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=jx(Nc.bind(null,e,si,js),t);break}Nc(e,si,js);break;case 4:if(Ml(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-So(r);i=1<<o,o=t[o],o>a&&(a=o),r&=~i}if(r=a,r=Or()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*AU(r/1960))-r,10<r){e.timeoutHandle=jx(Nc.bind(null,e,si,js),r);break}Nc(e,si,js);break;case 5:Nc(e,si,js);break;default:throw Error(st(329))}}}return pi(e,Or()),e.callbackNode===n?iO.bind(null,e):null}function Wx(e,t){var n=$f;return e.current.memoizedState.isDehydrated&&(Bc(e,t).flags|=256),e=Cg(e,t),e!==2&&(t=si,si=n,t!==null&&qx(t)),e}function qx(e){si===null?si=e:si.push.apply(si,e)}function MU(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!Ao(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ml(e,t){for(t&=~lk,t&=~J0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-So(t),r=1<<n;e[n]=-1,t&=~r}}function zj(e){if(Mn&6)throw Error(st(327));ad();var t=lg(e,0);if(!(t&1))return pi(e,Or()),null;var n=Cg(e,t);if(e.tag!==0&&n===2){var r=yx(e);r!==0&&(t=r,n=Wx(e,r))}if(n===1)throw n=mp,Bc(e,0),Ml(e,t),pi(e,Or()),n;if(n===6)throw Error(st(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nc(e,si,js),pi(e,Or()),null}function uk(e,t){var n=Mn;Mn|=1;try{return e(t)}finally{Mn=n,Mn===0&&(hd=Or()+500,H0&&ec())}}function Qc(e){Pl!==null&&Pl.tag===0&&!(Mn&6)&&ad();var t=Mn;Mn|=1;var n=eo.transition,r=Bn;try{if(eo.transition=null,Bn=1,e)return e()}finally{Bn=r,eo.transition=n,Mn=t,!(Mn&6)&&ec()}}function dk(){Ai=Hu.current,or(Hu)}function Bc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,aU(n)),Ur!==null)for(n=Ur.return;n!==null;){var r=n;switch(q1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&pg();break;case 3:pd(),or(di),or(za),ek();break;case 5:X1(r);break;case 4:pd();break;case 13:or(vr);break;case 19:or(vr);break;case 10:Y1(r.type._context);break;case 22:case 23:dk()}n=n.return}if(pa=e,Ur=e=zl(e.current,null),Na=Ai=t,Qr=0,mp=null,lk=J0=Zc=0,si=$f=null,Tc!==null){for(t=0;t<Tc.length;t++)if(n=Tc[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,r.next=o}n.pending=r}Tc=null}return e}function oO(e,t){do{var n=Ur;try{if(G1(),$h.current=kg,wg){for(var r=kr.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}wg=!1}if(Jc=0,da=Jr=kr=null,Ff=!1,dp=0,sk.current=null,n===null||n.return===null){Qr=1,mp=t,Ur=null;break}e:{var i=e,o=n.return,s=n,l=t;if(t=Na,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Mj(o);if(m!==null){m.flags&=-257,Ej(m,o,s,i,t),m.mode&1&&Aj(i,u,t),t=m,l=u;var h=t.updateQueue;if(h===null){var v=new Set;v.add(l),t.updateQueue=v}else h.add(l);break e}else{if(!(t&1)){Aj(i,u,t),fk();break e}l=Error(st(426))}}else if(ur&&s.mode&1){var b=Mj(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Ej(b,o,s,i,t),H1(md(l,s));break e}}i=l=md(l,s),Qr!==4&&(Qr=2),$f===null?$f=[i]:$f.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=UT(i,l,t);wj(i,y);break e;case 1:s=l;var x=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&($l===null||!$l.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=VT(i,s,t);wj(i,S);break e}}i=i.return}while(i!==null)}cO(n)}catch(j){t=j,Ur===n&&n!==null&&(Ur=n=n.return);continue}break}while(!0)}function sO(){var e=Sg.current;return Sg.current=kg,e===null?kg:e}function fk(){(Qr===0||Qr===3||Qr===2)&&(Qr=4),pa===null||!(Zc&268435455)&&!(J0&268435455)||Ml(pa,Na)}function Cg(e,t){var n=Mn;Mn|=2;var r=sO();(pa!==e||Na!==t)&&(js=null,Bc(e,t));do try{EU();break}catch(a){oO(e,a)}while(!0);if(G1(),Mn=n,Sg.current=r,Ur!==null)throw Error(st(261));return pa=null,Na=0,Qr}function EU(){for(;Ur!==null;)lO(Ur)}function DU(){for(;Ur!==null&&!tz();)lO(Ur)}function lO(e){var t=dO(e.alternate,e,Ai);e.memoizedProps=e.pendingProps,t===null?cO(e):Ur=t,sk.current=null}function cO(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=SU(n,t),n!==null){n.flags&=32767,Ur=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qr=6,Ur=null;return}}else if(n=kU(n,t,Ai),n!==null){Ur=n;return}if(t=t.sibling,t!==null){Ur=t;return}Ur=t=e}while(t!==null);Qr===0&&(Qr=5)}function Nc(e,t,n){var r=Bn,a=eo.transition;try{eo.transition=null,Bn=1,PU(e,t,n,r)}finally{eo.transition=a,Bn=r}return null}function PU(e,t,n,r){do ad();while(Pl!==null);if(Mn&6)throw Error(st(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(st(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(dz(e,i),e===pa&&(Ur=pa=null,Na=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||rh||(rh=!0,fO(sg,function(){return ad(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=eo.transition,eo.transition=null;var o=Bn;Bn=1;var s=Mn;Mn|=4,sk.current=null,jU(e,n),rO(n,e),Zz(Sx),cg=!!kx,Sx=kx=null,e.current=n,CU(n),nz(),Mn=s,Bn=o,eo.transition=i}else e.current=n;if(rh&&(rh=!1,Pl=e,jg=a),i=e.pendingLanes,i===0&&($l=null),iz(n.stateNode),pi(e,Or()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Ng)throw Ng=!1,e=Ux,Ux=null,e;return jg&1&&e.tag!==0&&ad(),i=e.pendingLanes,i&1?e===Vx?Bf++:(Bf=0,Vx=e):Bf=0,ec(),null}function ad(){if(Pl!==null){var e=UP(jg),t=eo.transition,n=Bn;try{if(eo.transition=null,Bn=16>e?16:e,Pl===null)var r=!1;else{if(e=Pl,Pl=null,jg=0,Mn&6)throw Error(st(331));var a=Mn;for(Mn|=4,Ct=e.current;Ct!==null;){var i=Ct,o=i.child;if(Ct.flags&16){var s=i.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(Ct=u;Ct!==null;){var d=Ct;switch(d.tag){case 0:case 11:case 15:Rf(8,d,i)}var f=d.child;if(f!==null)f.return=d,Ct=f;else for(;Ct!==null;){d=Ct;var p=d.sibling,m=d.return;if(eO(d),d===u){Ct=null;break}if(p!==null){p.return=m,Ct=p;break}Ct=m}}}var h=i.alternate;if(h!==null){var v=h.child;if(v!==null){h.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}Ct=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ct=o;else e:for(;Ct!==null;){if(i=Ct,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Rf(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Ct=y;break e}Ct=i.return}}var x=e.current;for(Ct=x;Ct!==null;){o=Ct;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Ct=w;else e:for(o=x;Ct!==null;){if(s=Ct,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Y0(9,s)}}catch(j){Ar(s,s.return,j)}if(s===o){Ct=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,Ct=S;break e}Ct=s.return}}if(Mn=a,ec(),ns&&typeof ns.onPostCommitFiberRoot=="function")try{ns.onPostCommitFiberRoot(z0,e)}catch{}r=!0}return r}finally{Bn=n,eo.transition=t}}return!1}function Uj(e,t,n){t=md(n,t),t=UT(e,t,1),e=Rl(e,t,1),t=Ja(),e!==null&&(Bp(e,1,t),pi(e,t))}function Ar(e,t,n){if(e.tag===3)Uj(e,e,n);else for(;t!==null;){if(t.tag===3){Uj(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($l===null||!$l.has(r))){e=md(n,e),e=VT(t,e,1),t=Rl(t,e,1),e=Ja(),t!==null&&(Bp(t,1,e),pi(t,e));break}}t=t.return}}function TU(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ja(),e.pingedLanes|=e.suspendedLanes&n,pa===e&&(Na&n)===n&&(Qr===4||Qr===3&&(Na&130023424)===Na&&500>Or()-ck?Bc(e,0):lk|=n),pi(e,t)}function uO(e,t){t===0&&(e.mode&1?(t=Km,Km<<=1,!(Km&130023424)&&(Km=4194304)):t=1);var n=Ja();e=Vs(e,t),e!==null&&(Bp(e,t,n),pi(e,n))}function OU(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),uO(e,n)}function IU(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(st(314))}r!==null&&r.delete(t),uO(e,n)}var dO;dO=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||di.current)ci=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ci=!1,wU(e,t,n);ci=!!(e.flags&131072)}else ci=!1,ur&&t.flags&1048576&&mT(t,gg,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zh(e,t),e=t.pendingProps;var a=ud(t,za.current);rd(t,n),a=nk(null,t,r,e,a,n);var i=rk();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,fi(r)?(i=!0,mg(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Z1(t),a.updater=G0,t.stateNode=a,a._reactInternals=t,Tx(t,r,e,n),t=_x(null,t,r,!0,i,n)):(t.tag=0,ur&&i&&W1(t),Ka(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zh(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=LU(r),e=yo(r,e),a){case 0:t=Ix(null,t,r,e,n);break e;case 1:t=Tj(null,t,r,e,n);break e;case 11:t=Dj(null,t,r,e,n);break e;case 14:t=Pj(null,t,r,yo(r.type,e),n);break e}throw Error(st(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:yo(r,a),Ix(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:yo(r,a),Tj(e,t,r,a,n);case 3:e:{if(KT(t),e===null)throw Error(st(387));r=t.pendingProps,i=t.memoizedState,a=i.element,xT(e,t),bg(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=md(Error(st(423)),t),t=Oj(e,t,r,n,a);break e}else if(r!==a){a=md(Error(st(424)),t),t=Oj(e,t,r,n,a);break e}else for(Di=Fl(t.stateNode.containerInfo.firstChild),Ti=t,ur=!0,bo=null,n=vT(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(dd(),r===a){t=Ws(e,t,n);break e}Ka(e,t,r,n)}t=t.child}return t;case 5:return wT(t),e===null&&Ex(t),r=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Nx(r,a)?o=null:i!==null&&Nx(r,i)&&(t.flags|=32),HT(e,t),Ka(e,t,o,n),t.child;case 6:return e===null&&Ex(t),null;case 13:return GT(e,t,n);case 4:return Q1(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=fd(t,null,r,n):Ka(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:yo(r,a),Dj(e,t,r,a,n);case 7:return Ka(e,t,t.pendingProps,n),t.child;case 8:return Ka(e,t,t.pendingProps.children,n),t.child;case 12:return Ka(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,er(yg,r._currentValue),r._currentValue=o,i!==null)if(Ao(i.value,o)){if(i.children===a.children&&!di.current){t=Ws(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){o=i.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=_s(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Dx(i.return,n,t),s.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(st(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Dx(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ka(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,rd(t,n),a=no(a),r=r(a),t.flags|=1,Ka(e,t,r,n),t.child;case 14:return r=t.type,a=yo(r,t.pendingProps),a=yo(r.type,a),Pj(e,t,r,a,n);case 15:return WT(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:yo(r,a),zh(e,t),t.tag=1,fi(r)?(e=!0,mg(t)):e=!1,rd(t,n),zT(t,r,a),Tx(t,r,a,n),_x(null,t,r,!0,e,n);case 19:return YT(e,t,n);case 22:return qT(e,t,n)}throw Error(st(156,t.tag))};function fO(e,t){return RP(e,t)}function _U(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qi(e,t,n,r){return new _U(e,t,n,r)}function pk(e){return e=e.prototype,!(!e||!e.isReactComponent)}function LU(e){if(typeof e=="function")return pk(e)?1:0;if(e!=null){if(e=e.$$typeof,e===T1)return 11;if(e===O1)return 14}return 2}function zl(e,t){var n=e.alternate;return n===null?(n=Qi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wh(e,t,n,r,a,i){var o=2;if(r=e,typeof e=="function")pk(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Lu:return zc(n.children,a,i,t);case P1:o=8,a|=8;break;case nx:return e=Qi(12,n,t,a|2),e.elementType=nx,e.lanes=i,e;case rx:return e=Qi(13,n,t,a),e.elementType=rx,e.lanes=i,e;case ax:return e=Qi(19,n,t,a),e.elementType=ax,e.lanes=i,e;case wP:return Z0(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case bP:o=10;break e;case xP:o=9;break e;case T1:o=11;break e;case O1:o=14;break e;case kl:o=16,r=null;break e}throw Error(st(130,e==null?e:typeof e,""))}return t=Qi(o,n,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function zc(e,t,n,r){return e=Qi(7,e,r,t),e.lanes=n,e}function Z0(e,t,n,r){return e=Qi(22,e,r,t),e.elementType=wP,e.lanes=n,e.stateNode={isHidden:!1},e}function Zv(e,t,n){return e=Qi(6,e,null,t),e.lanes=n,e}function Qv(e,t,n){return t=Qi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function FU(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tv(0),this.expirationTimes=Tv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tv(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function mk(e,t,n,r,a,i,o,s,l){return e=new FU(e,t,n,s,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Qi(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Z1(i),e}function RU(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_u,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function pO(e){if(!e)return Hl;e=e._reactInternals;e:{if(uu(e)!==e||e.tag!==1)throw Error(st(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(fi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(st(171))}if(e.tag===1){var n=e.type;if(fi(n))return fT(e,n,t)}return t}function mO(e,t,n,r,a,i,o,s,l){return e=mk(n,r,!0,e,a,i,o,s,l),e.context=pO(null),n=e.current,r=Ja(),a=Bl(n),i=_s(r,a),i.callback=t??null,Rl(n,i,a),e.current.lanes=a,Bp(e,a,r),pi(e,r),e}function Q0(e,t,n,r){var a=t.current,i=Ja(),o=Bl(a);return n=pO(n),t.context===null?t.context=n:t.pendingContext=n,t=_s(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Rl(a,t,o),e!==null&&(No(e,a,o,i),Rh(e,a,o)),o}function Ag(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Vj(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function hk(e,t){Vj(e,t),(e=e.alternate)&&Vj(e,t)}function $U(){return null}var hO=typeof reportError=="function"?reportError:function(e){console.error(e)};function gk(e){this._internalRoot=e}X0.prototype.render=gk.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(st(409));Q0(e,t,null,null)};X0.prototype.unmount=gk.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qc(function(){Q0(null,e,null,null)}),t[Us]=null}};function X0(e){this._internalRoot=e}X0.prototype.unstable_scheduleHydration=function(e){if(e){var t=qP();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Al.length&&t!==0&&t<Al[n].priority;n++);Al.splice(n,0,e),n===0&&KP(e)}};function yk(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ey(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Wj(){}function BU(e,t,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var u=Ag(o);i.call(u)}}var o=mO(t,r,e,0,null,!1,!1,"",Wj);return e._reactRootContainer=o,e[Us]=o.current,op(e.nodeType===8?e.parentNode:e),Qc(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var s=r;r=function(){var u=Ag(l);s.call(u)}}var l=mk(e,0,!1,null,null,!1,!1,"",Wj);return e._reactRootContainer=l,e[Us]=l.current,op(e.nodeType===8?e.parentNode:e),Qc(function(){Q0(t,l,n,r)}),l}function ty(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var s=a;a=function(){var l=Ag(o);s.call(l)}}Q0(t,o,e,a)}else o=BU(n,t,e,a,r);return Ag(o)}VP=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=jf(t.pendingLanes);n!==0&&(L1(t,n|1),pi(t,Or()),!(Mn&6)&&(hd=Or()+500,ec()))}break;case 13:Qc(function(){var r=Vs(e,1);if(r!==null){var a=Ja();No(r,e,1,a)}}),hk(e,1)}};F1=function(e){if(e.tag===13){var t=Vs(e,134217728);if(t!==null){var n=Ja();No(t,e,134217728,n)}hk(e,134217728)}};WP=function(e){if(e.tag===13){var t=Bl(e),n=Vs(e,t);if(n!==null){var r=Ja();No(n,e,t,r)}hk(e,t)}};qP=function(){return Bn};HP=function(e,t){var n=Bn;try{return Bn=e,t()}finally{Bn=n}};mx=function(e,t,n){switch(t){case"input":if(sx(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=q0(r);if(!a)throw Error(st(90));SP(r),sx(r,a)}}}break;case"textarea":jP(e,n);break;case"select":t=n.value,t!=null&&Xu(e,!!n.multiple,t,!1)}};TP=uk;OP=Qc;var zU={usingClientEntryPoint:!1,Events:[Up,Bu,q0,DP,PP,uk]},cf={findFiberByHostInstance:Pc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UU={bundleType:cf.bundleType,version:cf.version,rendererPackageName:cf.rendererPackageName,rendererConfig:cf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=LP(e),e===null?null:e.stateNode},findFiberByHostInstance:cf.findFiberByHostInstance||$U,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ah.isDisabled&&ah.supportsFiber)try{z0=ah.inject(UU),ns=ah}catch{}}Ri.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zU;Ri.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yk(t))throw Error(st(200));return RU(e,t,null,n)};Ri.createRoot=function(e,t){if(!yk(e))throw Error(st(299));var n=!1,r="",a=hO;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=mk(e,1,!1,null,null,n,!1,r,a),e[Us]=t.current,op(e.nodeType===8?e.parentNode:e),new gk(t)};Ri.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(st(188)):(e=Object.keys(e).join(","),Error(st(268,e)));return e=LP(t),e=e===null?null:e.stateNode,e};Ri.flushSync=function(e){return Qc(e)};Ri.hydrate=function(e,t,n){if(!ey(t))throw Error(st(200));return ty(null,e,t,!0,n)};Ri.hydrateRoot=function(e,t,n){if(!yk(e))throw Error(st(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",o=hO;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=mO(t,null,e,1,n??null,a,!1,i,o),e[Us]=t.current,op(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new X0(t)};Ri.render=function(e,t,n){if(!ey(t))throw Error(st(200));return ty(null,e,t,!1,n)};Ri.unmountComponentAtNode=function(e){if(!ey(e))throw Error(st(40));return e._reactRootContainer?(Qc(function(){ty(null,null,e,!1,function(){e._reactRootContainer=null,e[Us]=null})}),!0):!1};Ri.unstable_batchedUpdates=uk;Ri.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ey(n))throw Error(st(200));if(e==null||e._reactInternals===void 0)throw Error(st(38));return ty(e,t,n,!1,r)};Ri.version="18.3.1-next-f1338f8080-20240426";function gO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gO)}catch(e){console.error(e)}}gO(),hP.exports=Ri;var Id=hP.exports,qj=Id;ex.createRoot=qj.createRoot,ex.hydrateRoot=qj.hydrateRoot;const VU=new Set(["Vulnerability","Weakness","Blind","Cripple","Chill","Immobilize","Slow","Fear","Taunt"]),yO=[{id:"damage",label:"Damage",field:"damage",source:"dpsAll"},{id:"directDmg",label:"Direct Damage",field:"directDmg",source:"statsTargets"},{id:"connectedDamageCount",label:"Connected Damage Count",field:"connectedDamageCount",source:"statsTargets"},{id:"connectedDirectDamageCount",label:"Connected Direct Damage Count",field:"connectedDirectDamageCount",source:"statsTargets"},{id:"battleStandardHits",label:"Battle Standard Tracking"},{id:"criticalRate",label:"Critical Rate",field:"criticalRate",isRate:!0,isPercent:!0,denomField:"critableDirectDamageCount",source:"statsTargets"},{id:"criticalDmg",label:"Critical Damage",field:"criticalDmg",source:"statsTargets"},{id:"flankingRate",label:"Flanking Rate",field:"flankingRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"glanceRate",label:"Glance Rate",field:"glanceRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"missed",label:"Missed",field:"missed",source:"statsTargets"},{id:"evaded",label:"Evaded (enemy)",field:"evaded",source:"statsTargets"},{id:"blocked",label:"Blocked (enemy)",field:"blocked",source:"statsTargets"},{id:"interrupts",label:"Interrupts",field:"interrupts",source:"statsTargets"},{id:"invulned",label:"Invulned",field:"invulned",source:"statsTargets"},{id:"killed",label:"Killed",field:"killed",source:"statsTargets"},{id:"downed",label:"Downed",field:"downed",source:"statsTargets"},{id:"downContribution",label:"Down Contribution",field:"downContribution",source:"statsTargets"},{id:"downContributionPercent",label:"Down Contribution %",isRate:!0,isPercent:!0},{id:"againstDownedDamage",label:"Against Downed Damage",field:"againstDownedDamage",source:"statsTargets"},{id:"appliedCrowdControl",label:"Applied CC",field:"appliedCrowdControl",source:"statsTargets"},{id:"appliedCrowdControlDuration",label:"Applied CC Duration",field:"appliedCrowdControlDuration",source:"statsTargets"},{id:"appliedCrowdControlDownContribution",label:"Applied CC Down Contribution",field:"appliedCrowdControlDownContribution",source:"statsTargets"},{id:"appliedCrowdControlDurationDownContribution",label:"Applied CC Duration Down Contribution",field:"appliedCrowdControlDurationDownContribution",source:"statsTargets"},{id:"boonStrips",label:"Boon Strips",field:"boonStrips",source:"support"}],vO=[{id:"damageTaken",label:"Damage Taken",field:"damageTaken"},{id:"minionDamageTaken",label:"Minion Damage Taken"},{id:"damageTakenCount",label:"Damage Taken Count",field:"damageTakenCount"},{id:"conditionDamageTaken",label:"Condition Damage Taken",field:"conditionDamageTaken"},{id:"conditionDamageTakenCount",label:"Condition Damage Taken Count",field:"conditionDamageTakenCount"},{id:"powerDamageTaken",label:"Power Damage Taken",field:"powerDamageTaken"},{id:"powerDamageTakenCount",label:"Power Damage Taken Count",field:"powerDamageTakenCount"},{id:"downedDamageTaken",label:"Downed Damage Taken",field:"downedDamageTaken"},{id:"downedDamageTakenCount",label:"Downed Damage Taken Count",field:"downedDamageTakenCount"},{id:"damageBarrier",label:"Damage Barrier",field:"damageBarrier"},{id:"damageBarrierCount",label:"Damage Barrier Count",field:"damageBarrierCount"},{id:"blockedCount",label:"Blocked Count",field:"blockedCount"},{id:"evadedCount",label:"Evaded Count",field:"evadedCount"},{id:"missedCount",label:"Missed Count",field:"missedCount"},{id:"dodgeCount",label:"Dodge Count",field:"dodgeCount"},{id:"invulnedCount",label:"Invulnerable Count",field:"invulnedCount"},{id:"interruptedCount",label:"Interrupted Count",field:"interruptedCount"},{id:"downCount",label:"Down Count",field:"downCount"},{id:"deadCount",label:"Death Count",field:"deadCount"},{id:"boonStrips",label:"Boon Strips (Incoming)",field:"boonStrips"},{id:"conditionCleanses",label:"Cleanses (Incoming)",field:"conditionCleanses"},{id:"receivedCrowdControl",label:"Crowd Control (Incoming)",field:"receivedCrowdControl"}],WU=[{id:"totalHits",label:"Total Hits"},{id:"evaded",label:"Evaded"},{id:"blocked",label:"Blocked"},{id:"glanced",label:"Glanced"},{id:"missed",label:"Missed"},{id:"invulned",label:"Invulned"},{id:"interrupted",label:"Interrupted"},{id:"totalMitigation",label:"Damage Mitigation"},{id:"minMitigation",label:"Min Damage Mitigation"}],bO=[{id:"condiCleanse",label:"Condition Cleanses",field:"condiCleanse"},{id:"condiCleanseTime",label:"Condition Cleanse Time",field:"condiCleanseTime",isTime:!0},{id:"condiCleanseSelf",label:"Condition Cleanse Self",field:"condiCleanseSelf"},{id:"condiCleanseTimeSelf",label:"Condition Cleanse Time Self",field:"condiCleanseTimeSelf",isTime:!0},{id:"boonStrips",label:"Boon Strips",field:"boonStrips"},{id:"boonStripsTime",label:"Boon Strips Time",field:"boonStripsTime",isTime:!0},{id:"boonStripDownContribution",label:"Boon Strip Down Contribution",field:"boonStripDownContribution"},{id:"boonStripDownContributionTime",label:"Boon Strip Down Contribution Time",field:"boonStripDownContributionTime",isTime:!0},{id:"stunBreak",label:"Stun Breaks",field:"stunBreak"},{id:"removedStunDuration",label:"Removed Stun Duration",field:"removedStunDuration",isTime:!0},{id:"resurrects",label:"Resurrects",field:"resurrects"},{id:"resurrectTime",label:"Resurrect Time",field:"resurrectTime",isTime:!0}],qU=[{id:"healing",label:"Healing",baseField:"healing",perSecond:!1,decimals:0},{id:"healingPerSecond",label:"Healing Per Second",baseField:"healing",perSecond:!0,decimals:2},{id:"barrier",label:"Barrier",baseField:"barrier",perSecond:!1,decimals:0},{id:"barrierPerSecond",label:"Barrier Per Second",baseField:"barrier",perSecond:!0,decimals:2},{id:"downedHealing",label:"Downed Healing",baseField:"downedHealing",perSecond:!1,decimals:0},{id:"downedHealingPerSecond",label:"Downed Healing Per Second",baseField:"downedHealing",perSecond:!0,decimals:1},{id:"resUtility",label:"Resurrect Utility",baseField:"resUtility",perSecond:!1,decimals:0}],HU=["battle standard","glyph of renewal","glyph of the stars","illusion of life","spirit of nature","nature spirit","search and rescue","signet of mercy"],KU=new Set([10244]),GU=(e,t)=>{var n;if(KU.has(e))return!0;const r=(t==null?void 0:t[`s${e}`])||(t==null?void 0:t[`${e}`]),a=((n=r==null?void 0:r.name)==null?void 0:n.toLowerCase())||"";return HU.some(i=>a.includes(i))},YU=e=>{const t=e.toLowerCase();return t.includes("autoattack")||t.includes("auto attack")},ih=e=>{if(!e||!Number.isFinite(e))return"--:--";const t=Math.max(0,Math.round(e/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),a=t%60;return n>0?`${n}:${String(r).padStart(2,"0")}:${String(a).padStart(2,"0")}`:`${r}:${String(a).padStart(2,"0")}`},xO=()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia("(max-width: 640px)").matches,wO=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e),n=e<0?"-":"";if(t>=1e6){const r=(t/1e6).toFixed(2).replace(/\.?0+$/,"");return`${n}${r}m`}if(t>=1e4){const r=(t/1e3).toFixed(0);return`${n}${r}k`}return`${e.toLocaleString()}`},ca=(e,t=2)=>Number.isFinite(e)?xO()&&Math.abs(e)>=1e4?wO(e):e.toLocaleString(void 0,{minimumFractionDigits:t,maximumFractionDigits:t}):"--",xl=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e);return xO()&&t>=1e4?wO(e):t>=1e6?`${(e/1e6).toFixed(2).replace(/\.?0+$/,"")}m`:Math.round(e).toLocaleString()};var JU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ZU=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),en=(e,t)=>{const n=g.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:s,...l},u)=>g.createElement("svg",{ref:u,...JU,width:a,height:a,stroke:r,strokeWidth:o?Number(i)*24/Number(a):i,className:`lucide lucide-${ZU(e)}`,...l},[...t.map(([d,f])=>g.createElement(d,f)),...(Array.isArray(s)?s:[s])||[]]));return n.displayName=`${e}`,n},kO=en("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),QU=en("ArrowBigDown",[["path",{d:"M15 6v6h4l-7 7-7-7h4V6h6z",key:"1thax2"}]]),vk=en("ArrowBigUp",[["path",{d:"M9 18v-6H5l7-7 7 7h-4v6H9z",key:"1x06kx"}]]),SO=en("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),XU=en("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),bk=en("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),e8=en("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),NO=en("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Hx=en("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),t8=en("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Mo=en("Columns",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"12",x2:"12",y1:"3",y2:"21",key:"1efggb"}]]),n8=en("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]),r8=en("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),a8=en("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),i8=en("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),hp=en("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),o8=en("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),xk=en("GitCompareArrows",[["circle",{cx:"5",cy:"6",r:"3",key:"1qnov2"}],["path",{d:"M12 6h5a2 2 0 0 1 2 2v7",key:"1yj91y"}],["path",{d:"m15 9-3-3 3-3",key:"1lwv8l"}],["circle",{cx:"19",cy:"18",r:"3",key:"1qljk2"}],["path",{d:"M12 18H7a2 2 0 0 1-2-2V9",key:"16sdep"}],["path",{d:"m9 15 3 3-3 3",key:"1m3kbl"}]]),s8=en("Hammer",[["path",{d:"m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9",key:"1afvon"}],["path",{d:"M17.64 15 22 10.64",key:"zsji6s"}],["path",{d:"m20.91 11.7-1.25-1.25c-.6-.6-.93-1.4-.93-2.25v-.86L16.01 4.6a5.56 5.56 0 0 0-3.94-1.64H9l.92.82A6.18 6.18 0 0 1 12 8.4v1.56l2 2h2.47l2.26 1.91",key:"lehyy1"}]]),jO=en("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]),l8=en("HelpingHand",[["path",{d:"m3 15 5.12-5.12A3 3 0 0 1 10.24 9H13a2 2 0 1 1 0 4h-2.5m4-.68 4.17-4.89a1.88 1.88 0 0 1 2.92 2.36l-4.2 5.94A3 3 0 0 1 14.96 17H9.83a2 2 0 0 0-1.42.59L7 19",key:"nitrv7"}],["path",{d:"m2 14 6 6",key:"g6j1uo"}]]),wk=en("Keyboard",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",ry:"2",key:"15u882"}],["path",{d:"M6 8h.001",key:"1ej0i3"}],["path",{d:"M10 8h.001",key:"1x2st2"}],["path",{d:"M14 8h.001",key:"1vkmyp"}],["path",{d:"M18 8h.001",key:"kfsenl"}],["path",{d:"M8 12h.001",key:"1sjpby"}],["path",{d:"M12 12h.001",key:"al75ts"}],["path",{d:"M16 12h.001",key:"931bgk"}],["path",{d:"M7 16h10",key:"wp8him"}]]),c8=en("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),kk=en("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]),u8=en("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Sk=en("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),Ca=en("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),Hj=en("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]),d8=en("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),f8=en("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),p8=en("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),CO=en("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),gd=en("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),ny=en("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]),ry=en("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Mg=en("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),m8=en("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]),Tl=en("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]),Uc=en("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),h8=en("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),Er=en("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),g8=en("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]),AO=en("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),ma=en("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),gp=en("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Nk=({className:e})=>c.jsx(d8,{className:e,strokeWidth:3.2}),du=e=>{if(typeof window<"u"&&(window.location.pathname||"").includes("/web/web/"))return`../${e.replace(/^\/+/,"")}`;const t="./",n=t.endsWith("/")?t:`${t}/`,r=e.replace(/^\/+/,"");return`${n}${r}`},jk=({className:e=""})=>{const t=du("svg/custom-icons/mouse.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},Ck=({className:e=""})=>{const t=du("svg/custom-icons/gw2_aegis.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},Vc=({className:e=""})=>{const t=du("svg/custom-icons/gw2_boon.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},Ak=({className:e=""})=>{const t=du("svg/custom-icons/dam_mit.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},zf=({className:e=""})=>{const t=du("svg/custom-icons/gw2_fury.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},Mk=({className:e=""})=>{const t=du("svg/custom-icons/gw2_sigil.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},y8=[{id:"overview",label:"Overview",icon:Uc,sectionIds:["overview","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","squad-composition","timeline","map-distribution"],items:[{id:"overview",label:"Overview",icon:Uc},{id:"fight-breakdown",label:"Fight Breakdown",icon:Tl},{id:"top-players",label:"Top Players",icon:Uc},{id:"top-skills-outgoing",label:"Top Skills",icon:vk},{id:"squad-composition",label:"Classes",icon:Er},{id:"timeline",label:"Squad vs Enemy",icon:Er},{id:"map-distribution",label:"Map Distribution",icon:Sk}]},{id:"roster",label:"Roster Intel",icon:hp,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance Ledger",icon:hp},{id:"squad-comp-fight",label:"Squad Comp by Fight",icon:Er},{id:"fight-comp",label:"Fight Comp",icon:Tl}]},{id:"offense",label:"Offensive Stats",icon:Tl,sectionIds:["offense-detailed","player-breakdown","damage-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:Tl},{id:"player-breakdown",label:"Player Breakdown",icon:kk},{id:"damage-breakdown",label:"Damage Breakdown",icon:bk},{id:"spike-damage",label:"Spike Damage",icon:gp},{id:"conditions-outgoing",label:"Conditions",icon:ny}]},{id:"defense",label:"Defensive Stats",icon:gd,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","boon-output","boon-timeline","boon-uptime","support-detailed","healing-stats"],items:[{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:p8},{id:"defense-detailed",label:"Defense Detailed",icon:gd},{id:"defense-mitigation",label:"Damage Mitigation",icon:Ak},{id:"boon-output",label:"Boon Output",icon:Vc},{id:"boon-timeline",label:"Boon Timeline",icon:Ck},{id:"boon-uptime",label:"Boon Uptime",icon:zf},{id:"support-detailed",label:"Support Detailed",icon:Nk},{id:"healing-stats",label:"Healing Stats",icon:jO}]},{id:"other",label:"Other Metrics",icon:Mg,sectionIds:["fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"fight-diff-mode",label:"Fight Comparison",icon:xk},{id:"special-buffs",label:"Special Buffs",icon:Mg},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:Mk},{id:"skill-usage",label:"Skill Usage",icon:wk},{id:"apm-stats",label:"APM Breakdown",icon:jk}]}],v8=(e,t=!0,n=!1)=>{const[r,a]=g.useState(!1),[i,o]=g.useState("overview"),s=g.useRef(null),l=g.useRef(null),u=g.useRef(0),d=g.useMemo(()=>y8,[]),f=g.useMemo(()=>d.flatMap(h=>h.items),[d]),p=h=>{const v=h==="kdr"?"overview":h,b=s.current,y=document.getElementById(v);if(b&&y){const x=b.getBoundingClientRect(),w=y.getBoundingClientRect().top-x.top+b.scrollTop,S=Math.max(0,b.scrollHeight-b.clientHeight),j=Math.min(Math.max(w-16,0),S);b.scrollTo({top:j,behavior:"smooth"}),o(v)}else y&&(y.scrollIntoView({behavior:"smooth",block:"start"}),o(v));a(!1)};g.useEffect(()=>{if(e||n)return;const h=v=>{if(n)return;const b=s.current;if(!b)return;const y=v.target;if(!(y instanceof Element&&y.closest("[data-stats-mobile-nav]"))&&!(y instanceof Node&&b.contains(y))&&v.deltaY!==0&&!(b.scrollHeight<=b.clientHeight)){if(u.current+=v.deltaY,l.current===null){const x=()=>{const w=u.current;if(Math.abs(w)<.5){u.current=0,l.current=null;return}const S=w*.2;u.current=w-S,b.scrollBy({top:S,behavior:"auto"}),l.current=requestAnimationFrame(x)};l.current=requestAnimationFrame(x)}v.preventDefault()}};return window.addEventListener("wheel",h,{passive:!1}),()=>{window.removeEventListener("wheel",h),l.current!==null&&(cancelAnimationFrame(l.current),l.current=null),u.current=0}},[e,n]);const m=h=>{var v;const b=Math.max(0,f.findIndex(w=>w.id===i)),y=Math.min(Math.max(b+h,0),f.length-1),x=(v=f[y])==null?void 0:v.id;x&&p(x)};return g.useEffect(()=>{if(!t||n)return;const h=s.current;if(!h)return;let v=0;const b=()=>{var x;const w=h.getBoundingClientRect().top;let S=((x=f[0])==null?void 0:x.id)||"overview";f.forEach(j=>{const N=document.getElementById(j.id);N&&N.getBoundingClientRect().top-w<=24&&(S=j.id)}),o(j=>j===S?j:S)},y=()=>{v&&cancelAnimationFrame(v),v=requestAnimationFrame(b)};return b(),h.addEventListener("scroll",y,{passive:!0}),window.addEventListener("resize",y),()=>{v&&cancelAnimationFrame(v),h.removeEventListener("scroll",y),window.removeEventListener("resize",y)}},[f,t,n]),{mobileNavOpen:r,setMobileNavOpen:a,activeNavId:i,setActiveNavId:o,scrollContainerRef:s,tocGroups:d,tocItems:f,scrollToSection:p,stepSection:m}},Kj=["selfBuffs","groupBuffs","squadBuffs"],Ns=(e,t,n=0)=>t?e/t:n,Gj=e=>e!=null&&e.classification?e.classification==="Boon":!0,MO=e=>`b${e}`,b8=(e,t)=>{const n=Array.isArray(e==null?void 0:e.activeTimes)?e.activeTimes:[],r=typeof n[0]=="number"?n[0]:0;return r>0?r:t},EO=(e,t,n,r,a,i,o)=>{const s=e==="selfBuffs"?1:Math.max(e==="groupBuffs"?i-1:o-1,0);return!s||!a?{generationMs:0,wastedMs:0}:t?{generationMs:n*a*s,wastedMs:r*a*s}:{generationMs:n/100*a*s,wastedMs:r/100*a*s}},x8=(e,t,n)=>{const r=e.activeTimeMs||1,a=e.numFights||1,i=e.groupSupported||1,o=e.squadSupported||1,s=e.categories.selfBuffs,l=e.categories.squadBuffs,u=t==="totalBuffs"?{generationMs:s.generationMs+l.generationMs,wastedMs:s.wastedMs+l.wastedMs}:e.categories[t],d=u.generationMs,f=u.wastedMs;let p=1;t==="groupBuffs"?p=Ns(i-a,a,1):t==="squadBuffs"?p=Ns(o-a,a,1):t==="totalBuffs"&&(p=o);let m=0,h=0;if(t==="selfBuffs")m=n?Ns(d,r):Ns(d,r)*100,h=n?Ns(f,r):Ns(f,r)*100;else{const v=Ns(d,r)/(p||1),b=Ns(f,r)/(p||1);m=n?v:v*100,h=n?b:b*100}return{generationMs:d,wastedMs:f,uptimeRaw:m,wastedRaw:h}},DO=(e,t,n,r)=>{const{generationMs:a,uptimeRaw:i}=x8(e,t,n),o=e.activeTimeMs||1;return r==="total"?a/1e3:r==="average"?Ns(a,o):i},w8=(e,t,n,r,a)=>{const i=DO(e,t,n,r),o=r==="uptime"&&!n,s=r==="average",l=a!=null&&a.roundCountStats&&!o&&!s?0:2,u=i.toLocaleString(void 0,{minimumFractionDigits:l,maximumFractionDigits:l});return o?`${u}%`:u},k8=e=>{const t=new Map,n=new Map;return e.forEach(r=>{const a=r.details;if(!a)return;const i=a.durationMS||0,o=a.buffMap||{};Object.entries(o).forEach(([d,f])=>{if(!t.has(d)){t.set(d,f);return}const p=t.get(d)||{},m={name:p.name||f.name,stacking:p.stacking??f.stacking,icon:p.icon||f.icon,classification:p.classification||f.classification};t.set(d,m)});const s=(a.players||[]).filter(d=>!d.notInSquad),l=s.length,u=new Map;s.forEach(d=>{const f=d.group??0;u.set(f,(u.get(f)||0)+1)}),s.forEach(d=>{const f=d.account||d.name||d.character_name||"Unknown",p=d.profession||"Unknown",m=d.group??0,h=u.get(m)||1,v=b8(d,i);n.has(f)||n.set(f,{account:f,profession:p,professions:new Set,professionTimeMs:{},activeTimeMs:0,numFights:0,groupSupported:0,squadSupported:0,boons:{}});const b=n.get(f);b.profession=p,p!=="Unknown"&&(b.professions.add(p),b.professionTimeMs[p]=(b.professionTimeMs[p]||0)+v),b.activeTimeMs+=v,b.numFights+=1,b.groupSupported+=h,b.squadSupported+=l,Kj.forEach(y=>{(d[y]||[]).forEach(x=>{var w,S,j,N;if(typeof(x==null?void 0:x.id)!="number")return;const A=MO(x.id),P=o[A];if(!Gj(P))return;const B=(P==null?void 0:P.stacking)??!1,D=((S=(w=x.buffData)==null?void 0:w[0])==null?void 0:S.generation)??0,I=((N=(j=x.buffData)==null?void 0:j[0])==null?void 0:N.wasted)??0,{generationMs:O,wastedMs:H}=EO(y,B,D,I,i,h,l);!O&&!H||(t.has(A)||t.set(A,P||{}),b.boons[A]||(b.boons[A]={selfBuffs:{generationMs:0,wastedMs:0},groupBuffs:{generationMs:0,wastedMs:0},squadBuffs:{generationMs:0,wastedMs:0}}),b.boons[A][y].generationMs+=O,b.boons[A][y].wastedMs+=H)})})})}),{boonTables:Array.from(t.keys()).filter(r=>Gj(t.get(r))).map(r=>{const a=t.get(r)||{},i=[];return n.forEach(o=>{var s;const l=o.boons[r];if(!l||!Kj.some(f=>l[f].generationMs>0||l[f].wastedMs>0))return;const u=Array.from(o.professions||[]).filter(f=>f&&f!=="Unknown");let d=o.profession;if(u.length>0){d=u[0];let f=((s=o.professionTimeMs)==null?void 0:s[d])||0;u.forEach(p=>{var m;const h=((m=o.professionTimeMs)==null?void 0:m[p])||0;h>f&&(f=h,d=p)})}i.push({account:o.account,profession:d||"Unknown",professionList:u,activeTimeMs:o.activeTimeMs||1,numFights:o.numFights||1,groupSupported:o.groupSupported||1,squadSupported:o.squadSupported||1,categories:{selfBuffs:{...l.selfBuffs},groupBuffs:{...l.groupBuffs},squadBuffs:{...l.squadBuffs}}})}),{id:r,name:a.name||r,icon:a.icon,stacking:a.stacking??!1,rows:i}}).filter(r=>r.rows.length>0)}},Kx=(e,t,n,r,a,i,o={})=>{var s,l,u,d;const f=((e==null?void 0:e[t])||[]).find(b=>b.id===n);if(!f)return{generationMs:0,wastedMs:0};const p=o[MO(n)],m=(p==null?void 0:p.stacking)??!1,h=((l=(s=f.buffData)==null?void 0:s[0])==null?void 0:l.generation)??0,v=((d=(u=f.buffData)==null?void 0:u[0])==null?void 0:d.wasted)??0;return EO(t,m,h,v,r,a,i)},S8={tiered:{tiers:{shortMs:500,mediumMs:1500,weights:{short:.5,medium:1,long:2}}}},N8={methods:S8},j8=N8,Ek="count",C8=e=>(e||0)/1e3,A8=(e,t)=>{var n;if(!e)return 0;const r=(n=j8.methods.tiered)==null?void 0:n.tiers;if(!r)return e;const a=t/Math.max(e,1);return a<=r.shortMs?e*r.weights.short:a<=r.mediumMs?e*r.weights.medium:e*r.weights.long},PO=(e,t,n)=>n==="duration"?C8(t):n==="tiered"?A8(e,t):e;function M8(e,t=Ek){var n;const r=(n=e.statsAll)==null?void 0:n[0],a=Number((r==null?void 0:r.appliedCrowdControl)??0),i=Number((r==null?void 0:r.appliedCrowdControlDuration)??0);return PO(a,i,t)}function E8(e,t){const n=(t==null?void 0:t.durationMS)||0,r=(t==null?void 0:t.buffMap)||{},a=e.filter(s=>!s.notInSquad),i=a.length,o=new Map;a.forEach(s=>{const l=s.group??0;o.set(l,(o.get(l)||0)+1)}),a.forEach(s=>{const l=o.get(s.group??0)||1,u=Kx(s,"selfBuffs",1122,n,l,i,r),d=Kx(s,"squadBuffs",1122,n,l,i,r);s.stabGeneration=(u.generationMs+d.generationMs)/1e3})}function D8(e){if(!e.statsTargets)return 0;let t=0;for(const n of e.statsTargets)n&&n.length>0&&(t+=n[0].downContribution||0);return t}function P8(e){if(!e.extBarrierStats||!e.extBarrierStats.outgoingBarrierAllies)return 0;let t=0;for(const n of e.extBarrierStats.outgoingBarrierAllies)if(n)for(const r of n)r&&(t+=r.barrier||0);return t}function T8(e){if(!e.extHealingStats||!e.extHealingStats.outgoingHealingAllies)return 0;let t=0;for(const n of e.extHealingStats.outgoingHealingAllies)if(n)for(const r of n)r&&(t+=r.healing||0);return t}const Yj=e=>{var t,n,r,a;return(((n=(t=e.support)==null?void 0:t[0])==null?void 0:n.condiCleanse)||0)+(((a=(r=e.support)==null?void 0:r[0])==null?void 0:a.condiCleanseSelf)||0)},Jj=(e,t=Ek)=>{var n;const r=(n=e.support)==null?void 0:n[0],a=Number((r==null?void 0:r.boonStrips)??0),i=Number((r==null?void 0:r.boonStripsTime)??0);return PO(a,i,t)},Zj=e=>D8(e),Qj=e=>T8(e),Xj=e=>P8(e),eC=(e,t=Ek)=>M8(e,t),O8=(e,t)=>E8(e,t),I8="count",TO={downContribution:1,healing:1,cleanses:1,strips:1,stability:1,cc:.7,revives:.7,distanceToTag:.7,participation:.7,dodging:.4,dps:.2,damage:.2},Gx={showTopStats:!0,showMvp:!0,roundCountStats:!1,topStatsMode:"total",topSkillDamageSource:"target",topSkillsMetric:"damage"},_8={uploading:!1,message:null,url:null,buildStatus:"idle"},tC=new Map([["bleeding","Bleeding"],["burning","Burning"],["confusion","Confusion"],["poison","Poison"],["torment","Torment"],["vulnerability","Vulnerability"],["weakness","Weakness"],["weakened","Weakness"],["blind","Blind"],["blinded","Blind"],["blinding","Blind"],["cripple","Cripple"],["crippled","Cripple"],["chill","Chill"],["chilled","Chill"],["immob","Immobilize"],["immobile","Immobilize"],["immobilized","Immobilize"],["slow","Slow"],["slowed","Slow"],["fear","Fear"],["feared","Fear"],["taunt","Taunt"],["taunted","Taunt"]]),OO={Blind:"https://render.guildwars2.com/file/09770136BB76FD0DBE1CC4267DEED54774CB20F6/102837.png",Chill:"https://render.guildwars2.com/file/28C4EC547A3516AF0242E826772DA43A5EAC3DF3/102839.png",Cripple:"https://render.guildwars2.com/file/070325E519C178D502A8160523766070D30C0C19/102838.png",Fear:"https://render.guildwars2.com/file/30307A6E766D74B6EB09EDA12A4A2DE50E4D76F4/102869.png",Immobilize:"https://render.guildwars2.com/file/397A613651BFCA2832B6469CE34735580A2C120E/102844.png",Slow:"https://render.guildwars2.com/file/F60D1EF5271D7B9319610855676D320CD25F01C6/961397.png",Taunt:"https://render.guildwars2.com/file/02EED459AD65FAF7DF32A260E479C625070841B9/1228472.png",Vulnerability:"https://render.guildwars2.com/file/3A394C1A0A3257EB27A44842DDEEF0DF000E1241/102850.png",Weakness:"https://render.guildwars2.com/file/6CB0E64AF9AA292E332A38C1770CE577E2CDE0E8/102853.png"},oh=e=>{if(e)return OO[e]},yp=e=>{if(!e)return null;const t=e.trim().toLowerCase(),n=tC.get(t);if(n)return n;const r=t.split(/[^a-z]+/).filter(Boolean);for(const a of r){const i=tC.get(a);if(i)return i}return null},Tu=e=>yp(e),IO=e=>{const t=new Map;return e&&(Object.values(e).forEach(n=>{if(!(n!=null&&n.icon)||!(n!=null&&n.name))return;const r=yp(n.name);r&&(t.has(r)||t.set(r,n.icon))}),Object.entries(OO).forEach(([n,r])=>{t.has(n)||t.set(n,r)})),t},qh=(e,t,n)=>{var r;if(t&&n){const a=(r=n[`b${t}`])==null?void 0:r.name,i=yp(a);if(i)return i}return e?yp(e):null},L8=e=>{const t=(e==null?void 0:e.account)||"Unknown";return t&&t!=="Unknown"?t:(e==null?void 0:e.name)||"Unknown"},F8=e=>{if(!e||e.length===0)return 0;let t=0,n=null;return e.forEach(r=>{const a=Number(r[1]??0);if(Number.isFinite(a)){if(n===null){n=a;return}a>n&&(t+=a-n),n=a}}),t},R8=e=>{if(!e||e.length===0)return 0;let t=0;return e.forEach(n=>{const r=Number(n[0]??0),a=Number(n[1]??0);Number.isFinite(a)&&r!==0&&a>0&&(t+=1)}),t},$8=e=>{const{players:t,targets:n,skillMap:r,buffMap:a}=e,i=e.getPlayerKey||L8,o=IO(a),s={},l={};t.forEach(m=>{if(m!=null&&m.notInSquad)return;const h=i(m);h&&(s[h]||(s[h]={}),m!=null&&m.totalDamageDist&&m.totalDamageDist.forEach(v=>{v&&v.forEach(b=>{if(!b.id)return;let y=`Skill ${b.id}`,x;r&&(r[`s${b.id}`]?(y=r[`s${b.id}`].name||y,x=r[`s${b.id}`].icon||x):r[`${b.id}`]&&(y=r[`${b.id}`].name||y,x=r[`${b.id}`].icon||x));const w=qh(y,b.id,a);if(!w)return;const S=a==null?void 0:a[`b${b.id}`],j=S==null?void 0:S.name,N=o.get(w)||(S==null?void 0:S.icon),A=y.startsWith("Skill ")?j||w:y,P=x||(S==null?void 0:S.icon),B=Number(b.connectedHits??0),D=Number(b.hits??0),I=B>0?B:D,O=Number(b.totalDamage??0);if(!Number.isFinite(I)&&!Number.isFinite(O))return;const H=l[w]||{name:w,icon:N,applications:0,damage:0};H.applications+=Number.isFinite(I)?I:0,H.damage+=Number.isFinite(O)?O:0,!H.icon&&N&&(H.icon=N),l[w]=H;const J=s[h][w]||{icon:N,applications:0,damage:0,skills:{}};J.applications+=Number.isFinite(I)?I:0,J.damage+=Number.isFinite(O)?O:0;const ie=J.skills[A]||{name:A,hits:0,damage:0,icon:P};ie.hits+=Number.isFinite(I)?I:0,ie.damage+=Number.isFinite(O)?O:0,!ie.icon&&P&&(ie.icon=P),J.skills[A]=ie,!J.icon&&N&&(J.icon=N),s[h][w]=J})}))});const u=new Map;t.forEach(m=>{if(m!=null&&m.notInSquad)return;const h=i(m);h&&m!=null&&m.name&&u.set(m.name,h)});let d=0,f=0,p=0;return n.forEach(m=>{m!=null&&m.buffs&&m.buffs.forEach(h=>{const v=Number(h==null?void 0:h.id);if(!Number.isFinite(v))return;const b=a==null?void 0:a[`b${v}`],y=yp(b==null?void 0:b.name);if(!y||b!=null&&b.classification&&b.classification!=="Condition")return;const x=y;if(!x)return;const w=h.statesPerSource||{};p+=1,Object.entries(w).forEach(([S,j])=>{var N;const A=u.get(S);if(!A)return;f+=1;const P=F8(j),B=R8(j);d+=P;const D=((N=s[A])==null?void 0:N[x])||{applications:0,damage:0,skills:{}};D.applicationsFromBuffs=(D.applicationsFromBuffs||0)+P,D.applicationsFromBuffsActive=(D.applicationsFromBuffsActive||0)+B,s[A]=s[A]||{},s[A][x]=D;const I=l[x]||{name:x,applications:0,damage:0};I.applicationsFromBuffs=(I.applicationsFromBuffs||0)+P,I.applicationsFromBuffsActive=(I.applicationsFromBuffsActive||0)+B,l[x]=I})})}),Object.values(s).forEach(m=>{Object.values(m).forEach(h=>{typeof h.applicationsFromBuffs=="number"&&(h.applications=h.applicationsFromBuffs)})}),Object.values(l).forEach(m=>{typeof m.applicationsFromBuffs=="number"&&(m.applications=m.applicationsFromBuffs)}),{playerConditions:s,summary:l,meta:{buffStateApplicationsTotal:d,targetBuffEntriesSeen:p,buffStateSourcesSeen:f}}},Xc={Guardian:"#72C1D9",Dragonhunter:"#72C1D9",Firebrand:"#72C1D9",Willbender:"#72C1D9",Revenant:"#D16E5A",Herald:"#D16E5A",Renegade:"#D16E5A",Vindicator:"#D16E5A",Warrior:"#FFD166",Berserker:"#FFD166",Spellbreaker:"#FFD166",Bladesworn:"#FFD166",Engineer:"#D09C59",Scrapper:"#D09C59",Holosmith:"#D09C59",Mechanist:"#D09C59",Ranger:"#8CDC82",Druid:"#8CDC82",Soulbeast:"#8CDC82",Untamed:"#8CDC82",Thief:"#C08F95",Daredevil:"#C08F95",Deadeye:"#C08F95",Specter:"#C08F95",Elementalist:"#F68A87",Tempest:"#F68A87",Weaver:"#F68A87",Catalyst:"#F68A87",Mesmer:"#B679D5",Chronomancer:"#B679D5",Mirage:"#B679D5",Virtuoso:"#B679D5",Necromancer:"#52A76F",Reaper:"#52A76F",Scourge:"#52A76F",Harbinger:"#52A76F",Ritualist:"#52A76F",Luminary:"#72C1D9",Conduit:"#D16E5A",Paragon:"#FFD166",Amalgam:"#D09C59",Galeshot:"#8CDC82",Antiquary:"#C08F95",Evoker:"#F68A87",Troubadour:"#B679D5",Unknown:"#64748B"},B8={Guardian:"Guardian",Dragonhunter:"Guardian",Firebrand:"Guardian",Willbender:"Guardian",Revenant:"Revenant",Herald:"Revenant",Renegade:"Revenant",Vindicator:"Revenant",Warrior:"Warrior",Berserker:"Warrior",Spellbreaker:"Warrior",Bladesworn:"Warrior",Engineer:"Engineer",Scrapper:"Engineer",Holosmith:"Engineer",Mechanist:"Engineer",Ranger:"Ranger",Druid:"Ranger",Soulbeast:"Ranger",Untamed:"Ranger",Thief:"Thief",Daredevil:"Thief",Deadeye:"Thief",Specter:"Thief",Elementalist:"Elementalist",Tempest:"Elementalist",Weaver:"Elementalist",Catalyst:"Elementalist",Mesmer:"Mesmer",Chronomancer:"Mesmer",Mirage:"Mesmer",Virtuoso:"Mesmer",Necromancer:"Necromancer",Reaper:"Necromancer",Scourge:"Necromancer",Harbinger:"Necromancer",Ritualist:"Necromancer",Luminary:"Guardian",Conduit:"Revenant",Paragon:"Warrior",Amalgam:"Engineer",Galeshot:"Ranger",Antiquary:"Thief",Evoker:"Elementalist",Troubadour:"Mesmer",Unknown:"Unknown"};function Ls(e){return Xc[e]||Xc.Unknown}function z8(e){return e?B8[e]||e:"Unknown"}function Ic(e){if(!e)return null;const t=typeof window<"u"&&/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/")?"/svg/class-icons":"./svg/class-icons",n=Xc[e]?e:null;if(n&&n!=="Unknown")return`${t}/${n}.svg`;const r=z8(e);return r&&r!=="Unknown"?`${t}/${r}.svg`:null}const U8=e=>{if(e==null||e==="")return 0;if(typeof e=="number")return!Number.isFinite(e)||e<=0?0:e>1e12?e:e*1e3;if(e instanceof Date){const o=e.getTime();return Number.isFinite(o)&&o>0?o:0}const t=String(e).trim();if(!t)return 0;const n=Number(t);if(Number.isFinite(n)&&n>0)return n>1e12?n:n*1e3;const r=Date.parse(t);if(Number.isFinite(r)&&r>0)return r;const a=t.replace(/([+-]\d{2})$/,"$1:00"),i=Date.parse(a);return Number.isFinite(i)&&i>0?i:0},Yr=(e,t)=>U8((e==null?void 0:e.uploadTime)??(t==null?void 0:t.uploadTime)??(e==null?void 0:e.timeStartStd)??(e==null?void 0:e.timeStart)??(e==null?void 0:e.timeEndStd)??(e==null?void 0:e.timeEnd)??(e==null?void 0:e.timeStartText)??(e==null?void 0:e.timeEndText)),Hh=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:a,includePlayerSkillMap:i})=>{const o=m=>{var h;return(Array.isArray((h=m==null?void 0:m.details)==null?void 0:h.players)?m.details.players:[]).length>0},s=e.filter(m=>o(m)),l=r||Gx,u=n||TO,d=m=>{if(!m||typeof m!="object")return m;const h=Array.isArray(m.fightBreakdown)?m.fightBreakdown:null;if(!h||h.length===0)return m;const v=j=>Array.isArray(j)&&j.some(N=>N&&Number(N.count)>0),b=new Map,y=new Map;e.forEach(j=>{var N;const A=(j==null?void 0:j.filePath)||(j==null?void 0:j.id);A&&b.set(String(A),j);const P=(j==null?void 0:j.permalink)||((N=j==null?void 0:j.details)==null?void 0:N.permalink);typeof P=="string"&&P.trim()&&y.set(P.trim(),j)});const x=h.map(j=>{var N;if(!j||typeof j!="object")return j;const A=j.id?String(j.id):"",P=typeof j.permalink=="string"?j.permalink.trim():"",B=(A?b.get(A):void 0)||(P?y.get(P):void 0);if(!B)return j;let D=j;if(Number(j.timestamp)<=0){const O=Yr(B==null?void 0:B.details,B);O&&(D={...D,timestamp:O})}const I=(N=B==null?void 0:B.details)==null?void 0:N.teamBreakdown;return v(I)&&(D={...D,teamBreakdown:I}),D}),w=Array.isArray(m.fightDiffMode)?m.fightDiffMode:[],S=w.some(j=>Array.isArray(j==null?void 0:j.targetFocus)&&j.targetFocus.some(N=>Number((N==null?void 0:N.damage)||0)>0||Number((N==null?void 0:N.hits)||0)>0))?w:x.map((j,N)=>{const A=j&&typeof j.enemyClassCounts=="object"&&j.enemyClassCounts?j.enemyClassCounts:{},P=Object.entries(A).map(([q,W])=>({label:String(q||"Unknown"),count:Number(W||0)})).filter(q=>q.count>0).sort((q,W)=>W.count-q.count||q.label.localeCompare(W.label)),B=P.reduce((q,W)=>q+W.count,0),D=P.map(q=>({label:q.label,damage:q.count,hits:0,share:B>0?q.count/B:0})),I=Number((j==null?void 0:j.enemyDowns)||0),O=Number((j==null?void 0:j.enemyDeaths)||0),H=Number((j==null?void 0:j.alliesDown)||0),J=Number((j==null?void 0:j.alliesDead)||0),ie=Number((j==null?void 0:j.totalOutgoingDamage)||0),we=Number((j==null?void 0:j.totalIncomingDamage)||0),te=[{metricId:"winFlag",metricLabel:"Win (1) / Loss (0)",higherIsBetter:!0,value:j!=null&&j.isWin?1:0},{metricId:"squadCount",metricLabel:"Squad Size",higherIsBetter:!0,value:Number((j==null?void 0:j.squadCount)||0)},{metricId:"enemyCount",metricLabel:"Enemy Count",higherIsBetter:!1,value:Number((j==null?void 0:j.enemyCount)||0)},{metricId:"squadKdr",metricLabel:"Squad KDR",higherIsBetter:!0,value:J>0?O/J:O},{metricId:"enemyDeaths",metricLabel:"Enemy Deaths",higherIsBetter:!0,value:O},{metricId:"enemyDowns",metricLabel:"Enemy Downs",higherIsBetter:!0,value:I},{metricId:"squadDeaths",metricLabel:"Squad Deaths",higherIsBetter:!1,value:J},{metricId:"squadDowns",metricLabel:"Squad Downs",higherIsBetter:!1,value:H},{metricId:"damageDelta",metricLabel:"Damage Delta",higherIsBetter:!0,value:ie-we},{metricId:"outgoingDamage",metricLabel:"Outgoing Damage",higherIsBetter:!0,value:ie},{metricId:"incomingDamage",metricLabel:"Incoming Damage",higherIsBetter:!1,value:we},{metricId:"barrierIncomingAbsorb",metricLabel:"Barrier Absorption (Incoming)",higherIsBetter:!0,value:Number((j==null?void 0:j.incomingBarrierAbsorbed)||0)},{metricId:"enemyBarrierAbsorb",metricLabel:"Enemy Barrier Absorption",higherIsBetter:!1,value:Number((j==null?void 0:j.outgoingBarrierAbsorbed)||0)},{metricId:"alliesRevived",metricLabel:"Allies Revived (Players)",higherIsBetter:!0,value:Number((j==null?void 0:j.alliesRevived)||0)}];return{id:String((j==null?void 0:j.id)||`fight-${N+1}`),shortLabel:`F${N+1}`,fullLabel:`${String((j==null?void 0:j.mapName)||(j==null?void 0:j.label)||"Unknown Map")}  ${String((j==null?void 0:j.duration)||"--:--")}`,mapName:String((j==null?void 0:j.mapName)||""),timestamp:Number((j==null?void 0:j.timestamp)||0),duration:String((j==null?void 0:j.duration)||"--:--"),isWin:!!(j!=null&&j.isWin),targetFocus:D,squadMetrics:te}});return{...m,fightBreakdown:x,fightDiffMode:S}},f=(()=>{if(t)return d(t);const m=a||I8,h=i!==!1,v=l.topSkillDamageSource||"target",b=l.topSkillsMetric||"damage",y=s.length;let x=0,w=0,S=0,j=0,N=0,A=0,P=0,B=0;const D=E=>{const U=((E==null?void 0:E.players)||[]).filter(Ie=>!Ie.notInSquad);let Z=0,ae=0,de=0,_e=0;return U.forEach(Ie=>{var vt;const St=(vt=Ie.defenses)==null?void 0:vt[0];if(!St)return;const Ft=Number(St.downCount||0),Be=Number(St.deadCount||0);Z+=Ft+Be,de+=Be}),U.forEach(Ie=>{!Ie.statsTargets||Ie.statsTargets.length===0||Ie.statsTargets.forEach(vt=>{const St=vt==null?void 0:vt[0];if(!St)return;const Ft=Number(St.downed||0),Be=Number(St.killed||0);ae+=Ft+Be,_e+=Be})}),{squadDownsDeaths:Z,enemyDownsDeaths:ae,squadDeaths:de,enemyDeaths:_e}},I=E=>{const{squadDownsDeaths:U,enemyDownsDeaths:Z}=D(E);return U>0||Z>0?Z>U:typeof(E==null?void 0:E.success)=="boolean"?E.success:!1},O=new Map,H=new Set(["boonStripsTime","condiCleanseTime","condiCleanseTimeSelf"]),J={},ie={},we=new Map,te={},q={},W={},k=new Map,$=new Map,T=new Set(Object.keys(Xc)),C=Object.keys(Xc).filter(E=>E&&E!=="Unknown").sort((E,U)=>U.length-E.length),R=["Guardian","Revenant","Warrior","Engineer","Ranger","Thief","Elementalist","Mesmer","Necromancer"],V=E=>{if(!E)return"Unknown";const U=String(E).replace(/\s*\([^)]*\)\s*$/,"").replace(/\s*\[[^\]]*\]\s*$/,"").replace(/\s\d+$/,"").trim();if(T.has(U))return U;const Z=U.toLowerCase();for(const ae of C)if(Z.includes(ae.toLowerCase()))return ae;return R.find(ae=>Z.includes(ae.toLowerCase()))||U||"Unknown"},Q=E=>E!=null&&E.classification?E.classification==="Boon":!0,ce=new Map,Y=new Map,L=()=>({totalHits:0,blocked:0,evaded:0,glanced:0,missed:0,invulned:0,interrupted:0,totalMitigation:0,minMitigation:0}),z=E=>{const U=Number(E);return Number.isFinite(U)?U:0},re=E=>{const U=String(E).split("|"),Z=U[0]||"Unknown",ae=V(U[1]||"Unknown"),de=U[2]||Z||"Unknown";return{name:Z,profession:ae,account:de}},F=(E,U,Z)=>{let ae=E.get(U);return ae?Z.profession&&!ae.professionList.includes(Z.profession)&&ae.professionList.push(Z.profession):(ae={account:Z.account,name:Z.name,profession:Z.profession,professionList:Z.profession?[Z.profession]:[],activeMs:0,mitigationTotals:L()},E.set(U,ae)),ae},le=(E,U,Z)=>{let ae=E.get(U);return ae?Z.profession&&!ae.professionList.includes(Z.profession)&&ae.professionList.push(Z.profession):(ae={account:Z.account,name:Z.name,profession:Z.profession,professionList:Z.profession?[Z.profession]:[],activeMs:0,mitigationTotals:L(),minion:Z.minion},E.set(U,ae)),ae},ye=(E,U)=>{E.totalHits+=z((U==null?void 0:U.skill_hits)??(U==null?void 0:U.skillHits)),E.blocked+=z(U==null?void 0:U.blocked),E.evaded+=z(U==null?void 0:U.evaded),E.glanced+=z(U==null?void 0:U.glanced),E.missed+=z(U==null?void 0:U.missed),E.invulned+=z(U==null?void 0:U.invulned),E.interrupted+=z(U==null?void 0:U.interrupted),E.totalMitigation+=z((U==null?void 0:U.avoided_damage)??(U==null?void 0:U.avoidedDamage)),E.minMitigation+=z((U==null?void 0:U.min_avoided_damage)??(U==null?void 0:U.minAvoidedDamage))},K=E=>Object.values(E).some(U=>U>0),me=new Map,Te=E=>{const U=me.get(E);if(!U)return{hasSkill:!1,avg:1,min:1,hits:0};const Z=U.connectedHits||0,ae=Z>0?U.totalDamage/Z:0,de=U.minCount>0?U.minTotal/U.minCount:0;return{hasSkill:!0,avg:ae,min:de,hits:Z}},pt=new Map,Oe=new Map,oe=(E,U,Z)=>{const ae=E.get(U)||L();return ae.totalHits+=Z.totalHits,ae.blocked+=Z.blocked,ae.evaded+=Z.evaded,ae.glanced+=Z.glanced,ae.missed+=Z.missed,ae.invulned+=Z.invulned,ae.interrupted+=Z.interrupted,E.set(U,ae),ae};s.forEach(E=>{const U=E.details;U&&(U.targets||[]).forEach(Z=>{const ae=(Z==null?void 0:Z.totalDamageDist)||[],de=Array.isArray(ae)?ae[0]:null;de==null||de.forEach(_e=>{if(!(_e!=null&&_e.id))return;const Ie=Number(_e.id),vt=me.get(Ie)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};vt.totalDamage+=Number(_e.totalDamage||0),vt.connectedHits+=Number(_e.connectedHits||0);const St=Number.isFinite(Number(_e.min))?Number(_e.min):0;vt.minTotal+=St,vt.minCount+=1,me.set(Ie,vt)})})}),s.forEach(E=>{var U,Z;const ae=E.details;if(!ae)return;const de=ae.players,_e=ae.targets||[],Ie=ae.combatReplayMetaData||{},vt=(Ie==null?void 0:Ie.inchToPixel)>0?Ie.inchToPixel:1,St=(Ie==null?void 0:Ie.pollingRate)>0?Ie.pollingRate:1,Ft=5e3,Be=se=>Array.isArray(se)?se.map(Le=>Array.isArray(Le)?[Number(Le[0]),Number(Le[1])]:null).filter(Le=>!!Le&&Number.isFinite(Le[0])):[];let pe=[],he=ae.durationMS||0,Xe=!1;const be=de.find(se=>(se==null?void 0:se.hasCommanderTag)&&!(se!=null&&se.notInSquad));(U=be==null?void 0:be.combatReplayData)!=null&&U.positions&&(pe=be.combatReplayData.positions,Be(be.combatReplayData.dead).forEach(([se])=>{se>0&&(Xe=!0,he=Math.min(he,se))}));const tt=se=>{var Le;const We=(Le=se.statsAll)==null?void 0:Le[0];if((We==null?void 0:We.distToCom)!==void 0&&(We==null?void 0:We.distToCom)!=="Infinity")return Math.round(Number(We.distToCom));if((We==null?void 0:We.stackDist)!==void 0)return Math.round(Number(We.stackDist))||0;if(se.hasCommanderTag)return 0;const mt=se.combatReplayData;if(!(mt!=null&&mt.positions)||!pe.length)return 0;const ht=mt.positions,Ve=Be(mt.dead),at=Be(mt.down),Ce=Math.floor((mt.start||0)/St);let He=0;if(Ve.length&&at.length)for(const[it]of Ve){if(it<0)continue;const lt=Math.max(0,Math.floor(it/St))-Ce;for(const[Pe,ut]of at){if(it!==ut)continue;const bt=Xe&&Pe>he?Math.max(1,Math.floor(he/St)):lt,jt=Math.max(0,Math.min(bt,ht.length,pe.length));if(jt<=0)continue;let mn=0;for(let an=0;an<jt;an++){const[sn,rt]=ht[an],[Hn,fn]=pe[an];mn+=Math.hypot(sn-Hn,rt-fn)}He=Math.round(mn/jt/vt)}}return He},nt=de.filter(se=>!se.notInSquad);S+=nt.length,j+=_e.filter(se=>!se.isFake).length,O8(de,{durationMS:ae.durationMS,buffMap:ae.buffMap});const{squadDeaths:xt,enemyDeaths:je}=D(ae);N+=xt,A+=je,B+=xt,P+=je,I(ae)?x++:w++;const Me=ae.skillMap?Number((Z=Object.keys(ae.skillMap).find(se=>{var Le,We;return((We=(Le=ae.skillMap)==null?void 0:Le[se])==null?void 0:We.name)==="Battle Standard"}))==null?void 0:Z.replace(/^s/,"")):null;de.forEach((se,Le)=>{var We,mt,ht,Ve,at,Ce,He,it,lt,Pe,ut,bt,jt;if(se.notInSquad)return;const mn=se.account||"Unknown",an=mn!=="Unknown"?mn:se.name||"Unknown",sn=se.name||"Unknown";O.has(an)||O.set(an,{name:sn,account:an,characterNames:new Set,downContrib:0,cleanses:0,strips:0,stab:0,healing:0,barrier:0,cc:0,logsJoined:0,totalDist:0,distCount:0,dodges:0,downs:0,deaths:0,totalFightMs:0,offenseTotals:{},offenseRateWeights:{},defenseActiveMs:0,defenseTotals:{},defenseMinionDamageTaken:{},supportActiveMs:0,supportTotals:{},healingActiveMs:0,healingTotals:{},profession:se.profession||"Unknown",professions:new Set,professionTimeMs:{},squadActiveMs:0,firstSeenFightTs:0,lastSeenFightTs:0,lastSeenFightDurationMs:0,isCommander:!1,damage:0,dps:0,revives:0,outgoingConditions:{},incomingConditions:{}});const rt=O.get(an);if(se.hasCommanderTag&&(rt.isCommander=!0),sn!=="Unknown"&&rt.characterNames.add(String(sn)),se.profession&&se.profession!=="Unknown"){rt.profession=se.profession,rt.professions.add(se.profession);const Qe=Array.isArray(se.activeTimes)&&typeof se.activeTimes[0]=="number"?se.activeTimes[0]:ae.durationMS||0;rt.professionTimeMs[se.profession]=(rt.professionTimeMs[se.profession]||0)+Qe}rt.logsJoined++,rt.downContrib+=Zj(se),rt.cleanses+=Yj(se),rt.strips+=Jj(se,m),rt.healing+=Qj(se),rt.barrier+=Xj(se),rt.cc+=eC(se,m),rt.stab+=se.stabGeneration||0;const Hn=tt(se);Hn<=Ft&&(rt.totalDist+=Hn,rt.distCount++),(We=se.defenses)!=null&&We[0]&&(rt.dodges+=se.defenses[0].dodgeCount||0,rt.downs+=se.defenses[0].downCount||0,rt.deaths+=se.defenses[0].deadCount||0),ae.durationMS&&(rt.totalFightMs+=ae.durationMS);const fn=Array.isArray(se.activeTimes)&&typeof se.activeTimes[0]=="number"?se.activeTimes[0]:ae.durationMS||0;rt.squadActiveMs+=fn;const Cn=Yr(ae,E),Lr=Number((ae==null?void 0:ae.durationMS)||0);if(Cn>0&&((rt.firstSeenFightTs<=0||Cn<rt.firstSeenFightTs)&&(rt.firstSeenFightTs=Cn),rt.lastSeenFightTs<=0||Cn>rt.lastSeenFightTs?(rt.lastSeenFightTs=Cn,rt.lastSeenFightDurationMs=Lr):Cn===rt.lastSeenFightTs&&Lr>rt.lastSeenFightDurationMs&&(rt.lastSeenFightDurationMs=Lr)),rt.defenseActiveMs+=fn,rt.supportActiveMs+=fn,rt.healingActiveMs+=fn,Array.isArray(se.buffUptimes)&&se.buffUptimes.length>0&&se.buffUptimes.forEach(Qe=>{var Re,Ke,qe,Dt,Ht,hn;if(typeof(Qe==null?void 0:Qe.id)!="number")return;const Kt=`b${Qe.id}`,Zt=((Re=ae.buffMap)==null?void 0:Re[Kt])||((Ke=ae.buffMap)==null?void 0:Ke[String(Qe.id)]);if(!Zt||Q(Zt))return;const yr=Number(((Dt=(qe=Qe.buffData)==null?void 0:qe[0])==null?void 0:Dt.uptime)??0),qa=Number(((hn=(Ht=Qe.buffData)==null?void 0:Ht[0])==null?void 0:hn.presence)??0);if((!Number.isFinite(yr)||yr<=0)&&(!Number.isFinite(qa)||qa<=0))return;const xn=(Zt==null?void 0:Zt.stacking)??!1,dc=(xn?Number.isFinite(yr)?yr:0:Number.isFinite(yr)?yr/100:0)*fn,jr=xn?qa:yr,fc=Math.min(Math.max(Number.isFinite(jr)?jr:0,0),100)/100*fn,zo=Number.isFinite(dc)&&dc>0,Mm=Number.isFinite(fc)&&fc>0;if(!zo&&!Mm)return;const ai=Tu(Zt==null?void 0:Zt.name);if(ai&&VU.has(ai)&&(!(Zt!=null&&Zt.classification)||Zt.classification==="Condition")){const bu=dc/1e3,ii=Zt==null?void 0:Zt.icon,pc=te[ai]||{name:ai,icon:ii,applications:0,damage:0};pc.applicationsFromUptime=(pc.applicationsFromUptime||0)+bu,!pc.icon&&ii&&(pc.icon=ii),te[ai]=pc;const xi=rt.outgoingConditions[ai]||{applications:0,damage:0,skills:{},icon:ii};xi.applicationsFromUptime=(xi.applicationsFromUptime||0)+bu,!xi.icon&&ii&&(xi.icon=ii),rt.outgoingConditions[ai]=xi;const ms=q[ai]||{name:ai,icon:ii,applications:0,damage:0};ms.applicationsFromUptime=(ms.applicationsFromUptime||0)+bu,!ms.icon&&ii&&(ms.icon=ii),q[ai]=ms;const hs=rt.incomingConditions[ai]||{applications:0,damage:0,skills:{},icon:ii};hs.applicationsFromUptime=(hs.applicationsFromUptime||0)+bu,!hs.icon&&ii&&(hs.icon=ii),rt.incomingConditions[ai]=hs}k.has(Kt)||k.set(Kt,{name:Zt==null?void 0:Zt.name,stacking:xn,icon:Zt==null?void 0:Zt.icon}),$.has(Kt)||$.set(Kt,new Map);const ps=$.get(Kt),Kd=rt.account||se.account||se.name||"Unknown";let Ui=ps.get(Kd);Ui||(Ui={account:Kd,profession:rt.profession||se.profession||"Unknown",professions:new Set,professionTimeMs:{},totalMs:0,uptimeMs:0,durationMs:0},ps.set(Kd,Ui));const dl=se.profession||rt.profession;dl&&dl!=="Unknown"&&(Ui.professions.add(dl),Ui.professionTimeMs[dl]=(Ui.professionTimeMs[dl]||0)+fn,Ui.profession=dl),Ui.totalMs+=zo?dc:0,Ui.uptimeMs+=Mm?fc:0,Ui.durationMs+=fn}),(mt=se.defenses)!=null&&mt[0]){const Qe=Ke=>{let qe=String(Ke||"Unknown").replace(/^Juvenile\s+/i,"")||"Unknown";return qe.toUpperCase().includes("UNKNOWN")&&(qe="Unknown"),qe},Re=(()=>{const Ke=Array.isArray(se==null?void 0:se.minions)?se.minions:[];if(Ke.length===0)return{total:0,byMinion:{}};let qe=0;const Dt={};return Ke.forEach(Ht=>{const hn=Array.isArray(Ht==null?void 0:Ht.totalDamageTakenDist)?Ht.totalDamageTakenDist:[],Kt=Array.isArray(hn[0])?hn[0]:[],Zt=Qe(Ht==null?void 0:Ht.name);Kt.forEach(yr=>{const qa=Number((yr==null?void 0:yr.totalDamage)??(yr==null?void 0:yr.damageTaken)??0);Number.isFinite(qa)&&(qe+=qa,Dt[Zt]=(Dt[Zt]||0)+qa)})}),{total:qe,byMinion:Dt}})();Re.byMinion&&typeof Re.byMinion=="object"&&Object.entries(Re.byMinion).forEach(([Ke,qe])=>{const Dt=Number(qe||0);!Number.isFinite(Dt)||Dt<=0||(rt.defenseMinionDamageTaken[Ke]=(rt.defenseMinionDamageTaken[Ke]||0)+Dt)}),vO.forEach(Ke=>{const qe=Ke.id==="minionDamageTaken"?Re.total:Number(se.defenses[0][Ke.field]??0);Number.isFinite(qe)&&(rt.defenseTotals[Ke.id]=(rt.defenseTotals[Ke.id]||0)+qe)})}(ht=se.support)!=null&&ht[0]&&bO.forEach(Qe=>{let Re=Number(se.support[0][Qe.field]??0);Number.isFinite(Re)&&(H.has(Qe.field)&&Re>999999&&(Re=0),rt.supportTotals[Qe.id]=(rt.supportTotals[Qe.id]||0)+Re)});const Dr=(Qe,Re)=>{Number.isFinite(Re)&&(rt.healingTotals[Qe]=(rt.healingTotals[Qe]||0)+Re)},In=(Qe,Re)=>Array.isArray(Qe)?Qe.reduce((Ke,qe)=>Ke+Number((qe==null?void 0:qe[Re])??0),0):0,Da=(Qe,Re,Ke)=>{if(!Number.isFinite(Ke)||Ke<=0)return;const qe=de[Re],Dt=Re===Le,Ht=qe==null?void 0:qe.notInSquad,hn=!Ht,Kt=hn&&(qe==null?void 0:qe.group)!=null&&qe.group===se.group;Dr(Qe,Ke),hn&&Dr(`squad${Qe[0].toUpperCase()}${Qe.slice(1)}`,Ke),Kt&&Dr(`group${Qe[0].toUpperCase()}${Qe.slice(1)}`,Ke),Dt&&Dr(`self${Qe[0].toUpperCase()}${Qe.slice(1)}`,Ke),Ht&&Dr(`offSquad${Qe[0].toUpperCase()}${Qe.slice(1)}`,Ke)};if(Array.isArray(se.rotation)){let Qe=0;se.rotation.forEach(Re=>{var Ke;if(!(Re!=null&&Re.id)||!GU(Re.id,ae.skillMap))return;const qe=((Ke=Re.skills)==null?void 0:Ke.length)||0;qe>0&&(Qe+=qe,Dr(`resUtility_s${Re.id}`,qe))}),Qe>0&&Dr("resUtility",Qe)}const ra=(Ve=se.extHealingStats)==null?void 0:Ve.outgoingHealingAllies;Array.isArray(ra)&&ra.forEach((Qe,Re)=>{const Ke=In(Qe,"healing"),qe=In(Qe,"downedHealing");Da("healing",Re,Ke),Da("downedHealing",Re,qe)});const ni=(at=se.extBarrierStats)==null?void 0:at.outgoingBarrierAllies;Array.isArray(ni)&&ni.forEach((Qe,Re)=>{const Ke=In(Qe,"barrier");Da("barrier",Re,Ke)});const uc=(Ce=se.statsAll)==null?void 0:Ce[0],Pa=(He=se.dpsAll)==null?void 0:He[0],fs=(it=se.support)==null?void 0:it[0];if(yO.forEach(Qe=>{if(Qe.id==="downContributionPercent"||!Qe.field)return;let Re=0,Ke=0;Qe.source==="dpsAll"&&Pa?Re=Number(Pa[Qe.field]??0):Qe.source==="statsAll"&&uc?(Re=Number(uc[Qe.field]??0),Ke=Number(uc[Qe.denomField||Qe.weightField||"connectedDamageCount"]??0)):Qe.source==="support"&&fs?Re=Number(fs[Qe.field]??0):se.statsTargets&&se.statsTargets.forEach(qe=>{qe!=null&&qe[0]&&(Re+=Number(qe[0][Qe.field]??0),Ke+=Number(qe[0][Qe.denomField||Qe.weightField||"connectedDamageCount"]??0))}),Number.isFinite(Re)&&(rt.offenseTotals[Qe.id]=(rt.offenseTotals[Qe.id]||0)+Re,Qe.isRate&&Ke>0&&(rt.offenseRateWeights[Qe.id]=(rt.offenseRateWeights[Qe.id]||0)+Ke))}),se.targetDamageDist&&Number.isFinite(Me)){const Qe=se.targetDamageDist.flatMap(Re=>Re||[]).flatMap(Re=>Re||[]).reduce((Re,Ke)=>Ke!=null&&Ke.id&&Ke.id===Me?Re+((Ke==null?void 0:Ke.connectedHits)||0):Re,0);rt.offenseTotals.battleStandardHits=(rt.offenseTotals.battleStandardHits||0)+Qe}rt.revives+=((Pe=(lt=se.support)==null?void 0:lt[0])==null?void 0:Pe.resurrects)||0,Pa&&(rt.damage+=Pa.damage||0,rt.dps+=Pa.dps||0);const ri=Qe=>{var Re,Ke,qe,Dt;let Ht=`Skill ${Qe.id}`;const hn=((Re=ae.skillMap)==null?void 0:Re[`s${Qe.id}`])||((Ke=ae.skillMap)==null?void 0:Ke[`${Qe.id}`]);let Kt=hn==null?void 0:hn.icon;if(hn!=null&&hn.name&&(Ht=hn.name),Ht.startsWith("Skill ")){const Zt=qh(Ht,Qe.id,ae.buffMap);Zt&&(Ht=Zt,Kt=((Dt=(qe=ae.buffMap)==null?void 0:qe[`b${Qe.id}`])==null?void 0:Dt.icon)||Kt)}return{name:Ht,icon:Kt}},zi=Qe=>{if(!(Qe!=null&&Qe.id))return;const{name:Re,icon:Ke}=ri(Qe);J[Qe.id]||(J[Qe.id]={name:Re,icon:Ke,damage:0,hits:0,downContribution:0}),J[Qe.id].name.startsWith("Skill ")&&!Re.startsWith("Skill ")&&(J[Qe.id].name=Re),!J[Qe.id].icon&&Ke&&(J[Qe.id].icon=Ke),J[Qe.id].damage+=Qe.totalDamage,J[Qe.id].hits+=Qe.connectedHits,J[Qe.id].downContribution+=Number(Qe.downContribution||0)},Dn=se.account||se.name||"Unknown",bi=se.profession||"Unknown",aa=`${Dn}|${bi}`;let Wa=we.get(aa);Wa||(Wa={key:aa,account:Dn,displayName:Dn,profession:bi,professionList:[bi],totalFightMs:0,skills:new Map},we.set(aa,Wa)),Wa.professionList.includes(bi)||Wa.professionList.push(bi),Wa.totalFightMs+=ae.durationMS||0;const Fn=Qe=>{if(!(Qe!=null&&Qe.id))return;const{name:Re,icon:Ke}=ri(Qe),qe=`s${Qe.id}`;let Dt=Wa.skills.get(qe);Dt||(Dt={id:qe,name:Re,icon:Ke,damage:0,downContribution:0},Wa.skills.set(qe,Dt)),Dt.name.startsWith("Skill ")&&!Re.startsWith("Skill ")&&(Dt.name=Re),!Dt.icon&&Ke&&(Dt.icon=Ke),Dt.damage+=Number(Qe.totalDamage||0),Dt.downContribution+=Number(Qe.downContribution||0)};if(v==="total")(ut=se.totalDamageDist)==null||ut.forEach(Qe=>{Qe==null||Qe.forEach(Re=>{zi(Re),Fn(Re)})});else{const Qe=new Map;(bt=se.targetDamageDist)==null||bt.forEach(Re=>{Re==null||Re.forEach(Ke=>{Ke==null||Ke.forEach(qe=>{const Dt=Number(qe==null?void 0:qe.id);if(Number.isFinite(Dt)){const Ht=Qe.get(Dt)||{damage:0,hits:0,downContribution:0};Ht.damage+=Number((qe==null?void 0:qe.totalDamage)||0),Ht.hits+=Number((qe==null?void 0:qe.connectedHits)||0),Ht.downContribution+=Number((qe==null?void 0:qe.downContribution)||0),Qe.set(Dt,Ht)}zi(qe),Fn(qe)})})}),!(ae!=null&&ae.detailedWvW)&&((jt=se.totalDamageDist)==null||jt.forEach(Re=>{Re==null||Re.forEach(Ke=>{const qe=Number(Ke==null?void 0:Ke.id);if(!Number.isFinite(qe))return;const Dt=Qe.get(qe);if(!Dt){zi(Ke),Fn(Ke);return}const Ht=Number((Ke==null?void 0:Ke.totalDamage)||0),hn=Number((Ke==null?void 0:Ke.connectedHits)||0),Kt=Number((Ke==null?void 0:Ke.downContribution)||0),Zt=Ht-Number(Dt.damage||0),yr=hn-Number(Dt.hits||0),qa=Kt-Number(Dt.downContribution||0);if(Zt<=0&&yr<=0&&qa<=0)return;const xn={...Ke,totalDamage:Math.max(0,Zt),connectedHits:Math.max(0,yr),downContribution:Math.max(0,qa)};zi(xn),Fn(xn)})}))}se.totalDamageTaken&&se.totalDamageTaken.forEach(Qe=>{Qe==null||Qe.forEach(Re=>{var Ke,qe,Dt,Ht;if(!(Re!=null&&Re.id))return;let hn=`Skill ${Re.id}`;const Kt=((Ke=ae.skillMap)==null?void 0:Ke[`s${Re.id}`])||((qe=ae.skillMap)==null?void 0:qe[`${Re.id}`]);let Zt=Kt==null?void 0:Kt.icon;if(Kt!=null&&Kt.name&&(hn=Kt.name),hn.startsWith("Skill ")){const yr=qh(hn,Re.id,ae.buffMap);yr&&(hn=yr,Zt=((Ht=(Dt=ae.buffMap)==null?void 0:Dt[`b${Re.id}`])==null?void 0:Ht.icon)||Zt)}ie[Re.id]||(ie[Re.id]={name:hn,icon:Zt,damage:0,hits:0}),(!ie[Re.id].name.startsWith("Skill ")||hn.startsWith("Skill "))&&(ie[Re.id].name=hn),!ie[Re.id].icon&&Zt&&(ie[Re.id].icon=Zt),ie[Re.id].damage+=Re.totalDamage,ie[Re.id].hits+=Re.hits})})}),_e.forEach(se=>{if(se!=null&&se.isFake)return;const Le=V((se==null?void 0:se.profession)||(se==null?void 0:se.name)||(se==null?void 0:se.id));Le&&(W[Le]=(W[Le]||0)+1)});const ke=$8({players:de,targets:_e,skillMap:ae.skillMap,buffMap:ae.buffMap,getPlayerKey:se=>se.account&&se.account!=="Unknown"?se.account:se.name||null}),De=IO(ae.buffMap);Object.entries(ke.playerConditions).forEach(([se,Le])=>{const We=O.get(se);We&&Object.entries(Le).forEach(([mt,ht])=>{const Ve=We.outgoingConditions[mt]||{applications:0,damage:0,skills:{},icon:ht.icon};Ve.applications+=Number(ht.applications||0),Ve.damage+=Number(ht.damage||0),ht.applicationsFromBuffs&&(Ve.applicationsFromBuffs=(Ve.applicationsFromBuffs||0)+ht.applicationsFromBuffs),ht.applicationsFromBuffsActive&&(Ve.applicationsFromBuffsActive=(Ve.applicationsFromBuffsActive||0)+ht.applicationsFromBuffsActive),Object.entries(ht.skills||{}).forEach(([at,Ce])=>{const He=Ve.skills[at]||{name:Ce.name,hits:0,damage:0,icon:Ce.icon};He.hits+=Number(Ce.hits||0),He.damage+=Number(Ce.damage||0),!He.icon&&Ce.icon&&(He.icon=Ce.icon),Ve.skills[at]=He}),!Ve.icon&&ht.icon&&(Ve.icon=ht.icon),We.outgoingConditions[mt]=Ve})}),Object.entries(ke.summary).forEach(([se,Le])=>{const We=te[se]||{name:Le.name||se,icon:Le.icon,applications:0,damage:0};We.applications+=Number(Le.applications||0),We.damage+=Number(Le.damage||0),Le.applicationsFromBuffs&&(We.applicationsFromBuffs=(We.applicationsFromBuffs||0)+Le.applicationsFromBuffs),Le.applicationsFromBuffsActive&&(We.applicationsFromBuffsActive=(We.applicationsFromBuffsActive||0)+Le.applicationsFromBuffsActive),!We.icon&&Le.icon&&(We.icon=Le.icon),te[se]=We}),nt.forEach(se=>{const Le=se.account&&se.account!=="Unknown"?se.account:se.name||"Unknown",We=O.get(Le);!We||!se.totalDamageTaken||se.totalDamageTaken.forEach(mt=>mt==null?void 0:mt.forEach(ht=>{var Ve,at,Ce,He,it,lt;if(!(ht!=null&&ht.id))return;let Pe=`Skill ${ht.id}`;const ut=((Ve=ae.skillMap)==null?void 0:Ve[`s${ht.id}`])||((at=ae.skillMap)==null?void 0:at[`${ht.id}`]);ut!=null&&ut.name&&(Pe=ut.name);const bt=qh(Pe,ht.id,ae.buffMap);if(!bt)return;const jt=(He=(Ce=ae.buffMap)==null?void 0:Ce[`b${ht.id}`])==null?void 0:He.name,mn=De.get(bt)||((lt=(it=ae.buffMap)==null?void 0:it[`b${ht.id}`])==null?void 0:lt.icon),an=(ut==null?void 0:ut.icon)||mn;Pe.startsWith("Skill ")&&(jt||bt)&&(Pe=jt||bt);const sn=Number(ht.hits??0),rt=Number(ht.totalDamage??0),Hn=q[bt]||{name:bt,icon:mn,applications:0,damage:0};Hn.applications+=Number.isFinite(sn)?sn:0,Hn.damage+=Number.isFinite(rt)?rt:0,!Hn.icon&&mn&&(Hn.icon=mn),q[bt]=Hn;const fn=We.incomingConditions[bt]||{applications:0,damage:0,skills:{},icon:mn};fn.applications+=Number.isFinite(sn)?sn:0,fn.damage+=Number.isFinite(rt)?rt:0;const Cn=fn.skills[Pe]||{name:Pe,hits:0,damage:0,icon:an};Cn.hits+=Number.isFinite(sn)?sn:0,Cn.damage+=Number.isFinite(rt)?rt:0,!Cn.icon&&an&&(Cn.icon=an),fn.skills[Pe]=Cn,!fn.icon&&mn&&(fn.icon=mn),We.incomingConditions[bt]=fn}))});const $e=ae.player_damage_mitigation||ae.playerDamageMitigation,ge=$e&&typeof $e=="object"&&Object.keys($e).length>0;ge&&Object.entries($e).forEach(([se,Le])=>{if(!Le||typeof Le!="object")return;const We=re(se),mt=F(ce,We.account,We);Object.values(Le).forEach(ht=>{z((ht==null?void 0:ht.avoided_damage)??(ht==null?void 0:ht.avoidedDamage))<=0||ye(mt.mitigationTotals,ht)})});const ze=ae.player_minion_damage_mitigation||ae.playerMinionDamageMitigation,Ye=ze&&typeof ze=="object"&&Object.keys(ze).length>0;Ye&&Object.entries(ze).forEach(([se,Le])=>{if(!Le||typeof Le!="object")return;const We=re(se);Object.entries(Le).forEach(([mt,ht])=>{if(!ht||typeof ht!="object")return;const Ve=`${We.account}::${mt}`,at=le(Y,Ve,{...We,minion:String(mt||"Unknown")});Object.values(ht).forEach(Ce=>{ye(at.mitigationTotals,Ce)})})}),(!ge||!Ye)&&(ge||nt.forEach(se=>{const Le=(se==null?void 0:se.totalDamageTaken)||[];if(!Array.isArray(Le)||Le.length===0)return;const We=se.account||se.name||"Unknown",mt={account:We,name:se.name||We,profession:V(se.profession||"Unknown")};F(ce,We,mt);const ht=Array.isArray(Le)?Le[0]:null;ht==null||ht.forEach(Ve=>{if(!(Ve!=null&&Ve.id))return;const at=z(Ve.blocked),Ce=z(Ve.evaded),He=z(Ve.glance??Ve.glanced),it=z(Ve.missed),lt=z(Ve.invulned),Pe=z(Ve.interrupted),ut=z(Ve.hits??Ve.connectedHits),bt=Number(Ve.id);oe(pt,`${We}::${bt}`,{totalHits:ut,blocked:at,evaded:Ce,glanced:He,missed:it,invulned:lt,interrupted:Pe})})}),Ye||nt.forEach(se=>{const Le=(se==null?void 0:se.minions)||[];if(!Array.isArray(Le)||Le.length===0)return;const We=se.account||se.name||"Unknown",mt={account:We,name:se.name||We,profession:V(se.profession||"Unknown")};Le.forEach(ht=>{const Ve=(ht==null?void 0:ht.totalDamageTakenDist)||[];if(!Array.isArray(Ve)||Ve.length===0)return;let at=String((ht==null?void 0:ht.name)||"Unknown").replace(/^Juvenile\s+/i,"")||"Unknown";at.toUpperCase().includes("UNKNOWN")&&(at="Unknown");const Ce=`${We}::${at}`;le(Y,Ce,{...mt,minion:at});const He=Array.isArray(Ve)?Ve[0]:null;He==null||He.forEach(it=>{if(!(it!=null&&it.id))return;const lt=z(it.blocked),Pe=z(it.evaded),ut=z(it.glance??it.glanced),bt=z(it.missed),jt=z(it.invulned),mn=z(it.interrupted),an=z(it.hits??it.connectedHits),sn=Number(it.id);oe(Oe,`${Ce}::${sn}`,{totalHits:an,blocked:lt,evaded:Pe,glanced:ut,missed:bt,invulned:jt,interrupted:mn})})})}))});const Fe=(E,U)=>{const Z=new Map,ae=de=>{let _e=Z.get(de);return _e||(_e=L(),Z.set(de,_e)),_e};U.forEach((de,_e)=>{const Ie=_e.lastIndexOf("::"),vt=Ie>-1?_e.slice(0,Ie):_e,St=Ie>-1?Number(_e.slice(Ie+2)):Number.NaN,Ft=Number.isFinite(St)?Te(St):{hasSkill:!1,avg:0,min:0,hits:0};if(!Ft.hasSkill||Ft.hits<=0)return;const Be=Ft.avg,pe=Ft.min,he=de.glanced*Be/2+(de.blocked+de.evaded+de.missed+de.invulned+de.interrupted)*Be,Xe=de.glanced*pe/2+(de.blocked+de.evaded+de.missed+de.invulned+de.interrupted)*pe;if(he<=0)return;const be=ae(vt);be.totalHits+=de.totalHits,be.blocked+=de.blocked,be.evaded+=de.evaded,be.glanced+=de.glanced,be.missed+=de.missed,be.invulned+=de.invulned,be.interrupted+=de.interrupted,be.totalMitigation+=he,be.minMitigation+=Xe}),E.forEach((de,_e)=>{const Ie=Z.get(_e)||L();de.mitigationTotals.totalHits=Ie.totalHits,de.mitigationTotals.blocked=Ie.blocked,de.mitigationTotals.evaded=Ie.evaded,de.mitigationTotals.glanced=Ie.glanced,de.mitigationTotals.missed=Ie.missed,de.mitigationTotals.invulned=Ie.invulned,de.mitigationTotals.interrupted=Ie.interrupted,de.mitigationTotals.totalMitigation=Ie.totalMitigation,de.mitigationTotals.minMitigation=Ie.minMitigation})};Fe(ce,pt),Fe(Y,Oe);const X=y>0?Math.round(S/y):0,yt=y>0?Math.round(j/y):0,Ot=N>0?(A/N).toFixed(2):A>0?"":"0.00",zn=P>0?(B/P).toFixed(2):B>0?"":"0.00",Se=(E,U)=>{const Z=E.filter(_e=>Number.isFinite(_e.value)&&(U?_e.value>0:_e.value>=0)).sort((_e,Ie)=>{const vt=U?Ie.value-_e.value:_e.value-Ie.value;return vt!==0?vt:_e.account.localeCompare(Ie.account)});let ae=null,de=0;return Z.map((_e,Ie)=>((ae===null||_e.value!==ae)&&(de=Ie+1,ae=_e.value),{rank:de,..._e}))},Ze=Array.from(O.values()).map(E=>{const U=Array.from(E.professions).filter(Z=>Z!=="Unknown");if(E.professionList=U,U.length>0){let Z=U[0],ae=E.professionTimeMs[Z]||0;U.forEach(de=>{const _e=E.professionTimeMs[de]||0;_e>ae&&(ae=_e,Z=de)}),E.profession=Z}return{key:E.account,stat:E}}),It=E=>{const U=O.get(E.account);if(!U){const de=E.professionList.length>0?E.professionList:E.profession?[E.profession]:[];return{...E,professionList:de}}const Z=U.professionList&&U.professionList.length>0?U.professionList:Array.from(U.professions||[]).filter(de=>de&&de!=="Unknown"),ae=U.profession||E.profession;return{...E,profession:ae,professionList:Z.length>0?Z:ae?[ae]:[],activeMs:U.defenseActiveMs||U.totalFightMs||E.activeMs}},rn=Array.from(ce.values()).map(It).filter(E=>K(E.mitigationTotals)).sort((E,U)=>E.account.localeCompare(U.account)),on=Array.from(Y.values()).map(It).filter(E=>E.mitigationTotals.totalMitigation>0).sort((E,U)=>{const Z=E.account.localeCompare(U.account);return Z!==0?Z:String(E.minion||"").localeCompare(String(U.minion||""))}),mr=(E,U)=>{switch(U){case"downContrib":return E.downContrib;case"barrier":return E.barrier;case"healing":return E.healing;case"dodges":return E.dodges;case"strips":return E.strips;case"cleanses":return E.cleanses;case"cc":return E.cc;case"stability":return E.stab;case"revives":return E.revives;case"dps":return E.dps;case"damage":return E.damage;case"participation":return E.logsJoined;case"closestToTag":return!E.isCommander&&E.distCount>0?E.totalDist/E.distCount:Number.POSITIVE_INFINITY;default:return 0}},Zn=(E,U)=>Se(Ze.map(({stat:Z})=>({account:Z.account,profession:Z.profession,professionList:Z.professionList,value:mr(Z,E),count:Z.logsJoined})),U),un={downContrib:Zn("downContrib",!0),barrier:Zn("barrier",!0),healing:Zn("healing",!0),dodges:Zn("dodges",!0),strips:Zn("strips",!0),cleanses:Zn("cleanses",!0),cc:Zn("cc",!0),stability:Zn("stability",!0),revives:Zn("revives",!0),participation:Zn("participation",!0),dps:Zn("dps",!0),damage:Zn("damage",!0),closestToTag:Zn("closestToTag",!1).filter(E=>Number.isFinite(E.value))},Aa={downContrib:"downContrib",barrier:"barrier",healing:"healing",dodges:"dodges",strips:"strips",cleanses:"cleanses",cc:"cc",stability:"stability",closestToTag:"closestToTag"},gn=E=>{const U=E==null?void 0:E[0];return{value:(U==null?void 0:U.value)??0,player:(U==null?void 0:U.account)??"-",count:(U==null?void 0:U.count)??0,profession:(U==null?void 0:U.profession)??"Unknown",professionList:(U==null?void 0:U.professionList)??[]}},Ln={maxDownContrib:gn([]),maxBarrier:gn([]),maxHealing:gn([]),maxDodges:gn([]),maxStrips:gn([]),maxCleanses:gn([]),maxCC:gn([]),maxStab:gn([]),closestToTag:gn([])},hr={},En=(E,U)=>{if(U==="closestToTag")return mr(E,U);const Z=Math.max(1,(E.totalFightMs||0)/1e3);return mr(E,U)/Z};Object.values(Aa).forEach(E=>{const U=E!=="closestToTag";hr[E]=Se(Ze.map(({stat:Z})=>({account:Z.account,profession:Z.profession,professionList:Z.professionList,value:En(Z,E),count:Z.logsJoined})),U)}),Ln.maxDownContrib=gn(hr.downContrib),Ln.maxBarrier=gn(hr.barrier),Ln.maxHealing=gn(hr.healing),Ln.maxDodges=gn(hr.dodges),Ln.maxStrips=gn(hr.strips),Ln.maxCleanses=gn(hr.cleanses),Ln.maxCC=gn(hr.cc),Ln.maxStab=gn(hr.stability),Ln.closestToTag=gn(hr.closestToTag);const sc={maxDownContrib:gn(un.downContrib),maxBarrier:gn(un.barrier),maxHealing:gn(un.healing),maxDodges:gn(un.dodges),maxStrips:gn(un.strips),maxCleanses:gn(un.cleanses),maxCC:gn(un.cc),maxStab:gn(un.stability),closestToTag:gn(un.closestToTag)};let ya={player:"None",account:"None",score:-1,profession:"Unknown",professionList:[],color:"#64748b",topStats:[]},_r,yu,lc=0;if(l!=null&&l.showMvp){const E={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},U=_e=>{const Ie=E[_e];return Ie?Number(u[Ie]||0)>0:!1},Z=[],ae=_e=>[..._e||[]].filter(Ie=>U(Ie==null?void 0:Ie.name)).sort((Ie,vt)=>vt.ratio-Ie.ratio||Ie.rank-vt.rank||Ie.name.localeCompare(vt.name)).slice(0,3),de=_e=>{var Ie;if(!_e)return;const vt=ae(_e.contribs);return{..._e,player:_e.name,reason:((Ie=vt[0])==null?void 0:Ie.name)||"Top Performance",topStats:vt}};Ze.forEach(({stat:_e})=>{let Ie=0;const vt=[],St=(Ft,Be,pe,he,Xe=!0)=>{var be,tt;if(pe<=0)return;const nt=((be=Be[0])==null?void 0:be.value)||0;if(nt&&Number.isFinite(Ft)&&(Xe?Ft>0:Ft<Number.POSITIVE_INFINITY)){const xt=Xe?Ft/nt:nt/Ft;Ie+=xt*pe;const je=((tt=Be.find(Me=>Me.account===_e.account))==null?void 0:tt.rank)||0;vt.push({name:he,ratio:xt,val:Ft.toLocaleString(),rank:je})}};St(_e.downContrib,un.downContrib,u.downContribution,"Down Contribution"),St(_e.healing,un.healing,u.healing,"Healing"),St(_e.cleanses,un.cleanses,u.cleanses,"Cleanses"),St(_e.strips,un.strips,u.strips,"Strips"),St(_e.stab,un.stability,u.stability,"Stability"),St(_e.cc,un.cc,u.cc,"CC"),St(_e.revives,un.revives,u.revives,"Revives"),St(mr(_e,"closestToTag"),un.closestToTag,u.distanceToTag,"Distance to Tag",!1),St(_e.logsJoined,un.participation,u.participation,"Participation"),St(_e.dodges,un.dodges,u.dodging,"Dodging"),St(_e.dps,un.dps,u.dps,"DPS"),St(_e.damage,un.damage,u.damage,"Damage"),Z.push({..._e,score:Ie,contribs:vt.filter(Ft=>U(Ft.name))})}),Z.sort((_e,Ie)=>Ie.score-_e.score),Z[0]&&Z[0].score>0&&(ya=de(Z[0])||ya),_r=de(Z[1]),yu=de(Z[2]),lc=Z.length>0?Z.reduce((_e,Ie)=>_e+Ie.score,0)/Z.length:0}const Ro=Object.values(J).sort((E,U)=>U.damage-E.damage||U.hits-E.hits||String(E.name||"").localeCompare(String(U.name||""))).slice(0,25),Ma=Object.values(J).sort((E,U)=>U.downContribution-E.downContribution||U.hits-E.hits||String(E.name||"").localeCompare(String(U.name||""))).slice(0,25),fo=b==="downContribution"?Ma:Ro,va=Object.values(ie).sort((E,U)=>U.damage-E.damage).slice(0,25),Hr=E=>{const U=String(E).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),Z=U.match(/^(Red|Blue|Green)\s+(?:Alpine|Desert)?\s*Borderlands$/i);return Z?`${Z[1]} Borderlands`:U||"Unknown"},Ea=(E,U)=>Hr((E==null?void 0:E.zone)||(E==null?void 0:E.mapName)||(E==null?void 0:E.map)||(E==null?void 0:E.location)||(E==null?void 0:E.fightName)||(U==null?void 0:U.fightName)||(U==null?void 0:U.encounterName)||"Unknown"),ba=(E,U)=>{const Z=(U==null?void 0:U.permalink)||(E==null?void 0:E.permalink);if(typeof Z=="string"&&Z.trim().length>0)return Z.trim();const ae=E==null?void 0:E.uploadLinks;if(!Array.isArray(ae))return"";for(const de of ae){if(typeof de=="string"&&de.trim().length>0)return de.trim();if(de&&typeof de=="object"){const _e=de.permalink||de.link||de.url||de.reportLink;if(typeof _e=="string"&&_e.trim().length>0)return _e.trim()}}return""},ll=(E,U)=>{const Z=Number((E==null?void 0:E.durationMS)||0);return Z>0?ih(Z):(typeof(U==null?void 0:U.encounterDuration)=="string"?U.encounterDuration.trim():"")||"--:--"},ds=(E,U)=>{if((Array.isArray(E==null?void 0:E.players)?E.players:[]).length>0)return I(E);if(typeof(E==null?void 0:E.success)=="boolean")return E.success;const Z=U==null?void 0:U.dashboardSummary;if(Z&&typeof Z=="object"){if(Z.isWin===!0)return!0;if(Z.isWin===!1)return!1}return null},Bi=(E,U)=>{var Z,ae;const de=Yr((Z=E.log)==null?void 0:Z.details,E.log),_e=Yr((ae=U.log)==null?void 0:ae.details,U.log),Ie=de>0,vt=_e>0;return Ie&&vt&&de!==_e?de-_e:Ie!==vt?Ie?-1:1:E.originalIndex-U.originalIndex},Qn=e.map((E,U)=>({log:E,originalIndex:U})).sort(Bi),po=Qn.filter(({log:E})=>o(E)),$o={};s.forEach(E=>{const U=Ea(E==null?void 0:E.details,E);$o[U]=($o[U]||0)+1});const cc=Object.entries($o).map(([E,U])=>{const Z=String(E).trim(),ae=/eternal battlegrounds|^ebg$/i.test(Z);let de="#64748b";return ae?de="#ffffff":/red/i.test(Z)?de="#ef4444":/blue/i.test(Z)?de="#3b82f6":/green/i.test(Z)&&(de="#22c55e"),{name:E,value:U,color:de}}).sort((E,U)=>U.value-E.value),{boonTables:cl}=k8(s),Hd=(()=>{const E=pe=>String(pe||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),U=pe=>E(pe).toLowerCase().split(/[^a-z0-9]+/i).map(he=>he.trim()).filter(Boolean).map(he=>he.length>3&&he.endsWith("s")?he.slice(0,-1):he),Z=(pe,he)=>{const Xe=E(pe),be=E(he);if(!be)return Xe;if(!Xe)return be;const tt=U(Xe),nt=U(be),xt=new Set(tt),je=new Set(nt),Me=nt.length>0&&nt.every(De=>xt.has(De)),ke=tt.length>0&&tt.every(De=>je.has(De));return Me||ke?Xe:`${Xe} - ${be}`},ae=new Map,de=(pe,he)=>{if(!ae.has(pe))ae.set(pe,{id:pe,name:String((he==null?void 0:he.name)||pe),icon:he==null?void 0:he.icon,stacking:!!(he!=null&&he.stacking),players:new Map,fights:[]});else if(he){const Xe=ae.get(pe);(!Xe.name||Xe.name===pe)&&he!=null&&he.name&&(Xe.name=String(he.name)),!Xe.icon&&he!=null&&he.icon&&(Xe.icon=String(he.icon)),!Xe.stacking&&he!=null&&he.stacking&&(Xe.stacking=!0)}return ae.get(pe)},_e=pe=>Array.isArray(pe)?pe.map(he=>Array.isArray(he)?[Number(he[0]),Number(he[1])]:he&&typeof he=="object"?[Number(he.time),Number(he.value)]:null).filter(he=>!!he&&Number.isFinite(he[0])&&Number.isFinite(he[1])&&he[0]>=0).sort((he,Xe)=>he[0]-Xe[0]):[],Ie=(pe,he,Xe)=>{const be=pe.get(he)||[];be.length<Xe&&(be.length=Xe);for(let tt=0;tt<Xe;tt+=1)Number.isFinite(be[tt])||(be[tt]=0);return pe.set(he,be),be},vt=(pe,he,Xe,be,tt)=>{if(!he||he==="__all__"||be<=0)return;const nt=_e(Xe);if(nt.length===0)return;const xt=Ie(pe,he,be),je=Math.max(1,Number(tt||0),be*5e3),Me=ge=>Math.max(0,Math.min(je,Number(ge||0))),ke=(ge,ze,Ye)=>{if(!Number.isFinite(Ye)||Ye<=0)return;let se=Me(ge);const Le=Me(ze);if(!(Le<=se))for(;se<Le;){const We=Math.max(0,Math.min(be-1,Math.floor(se/5e3))),mt=Math.min(Le,(We+1)*5e3),ht=Math.max(0,mt-se);ht>0&&(xt[We]=Number(xt[We]||0)+ht*Ye),se=mt}};let De=Me(nt[0][0]),$e=Math.max(0,Number(nt[0][1]||0));for(let ge=1;ge<nt.length;ge+=1){const[ze,Ye]=nt[ge],se=Me(ze);ke(De,se,$e),De=se,$e=Math.max(0,Number(Ye||0))}ke(De,je,$e)},St=(pe,he,Xe)=>{const be=Array.from({length:Xe},(xt,je)=>Number((pe==null?void 0:pe[je])||0)),tt=be.reduce((xt,je)=>xt+Number(je||0),0);if(!Number.isFinite(he)||he<=0)return be.map(()=>0);if(!Number.isFinite(tt)||tt<=0){const xt=he/Math.max(1,Xe);return be.map(()=>xt)}const nt=he/tt;return be.map(xt=>Number(xt||0)*nt)},Ft=()=>({selfBuffs:0,groupBuffs:0,squadBuffs:0,totalBuffs:0}),Be=(pe,he,Xe)=>{const be=Math.max(0,Number(Xe||0));be&&(pe[he]=Number(pe[he]||0)+be,(he==="selfBuffs"||he==="squadBuffs")&&(pe.totalBuffs=Number(pe.totalBuffs||0)+be))};return s.map(pe=>({log:pe,ts:Yr(pe==null?void 0:pe.details,pe)})).sort((pe,he)=>pe.ts-he.ts).forEach(({log:pe},he)=>{const Xe=pe==null?void 0:pe.details;if(!Xe)return;const be=(Array.isArray(Xe.players)?Xe.players:[]).filter(Le=>!(Le!=null&&Le.notInSquad)),tt=be.length;if(tt<=0)return;const nt=Math.max(0,Number((Xe==null?void 0:Xe.durationMS)||0)),xt=Math.max(1,Math.ceil(Math.max(1,nt)/5e3)),je=Xe!=null&&Xe.buffMap&&typeof Xe.buffMap=="object"?Xe.buffMap:{},Me=new Map,ke=new Map;be.forEach(Le=>{const We=Number((Le==null?void 0:Le.group)??0);ke.set(We,(ke.get(We)||0)+1);const mt=String((Le==null?void 0:Le.account)||(Le==null?void 0:Le.name)||"Unknown");[Le==null?void 0:Le.name,Le==null?void 0:Le.display_name,Le==null?void 0:Le.character_name,Le==null?void 0:Le.account].map(ht=>String(ht||"").trim()).filter(Boolean).forEach(ht=>Me.set(ht,mt))});const De=E(Xe.fightName||pe.fightName||`Fight ${he+1}`),$e=Ea(Xe,pe),ge=Z(De,String($e||"")),ze=new Map,Ye=new Map,se=new Map;be.forEach(Le=>{const We=String((Le==null?void 0:Le.account)||(Le==null?void 0:Le.name)||"Unknown"),mt=String((Le==null?void 0:Le.profession)||"Unknown"),ht=We,Ve=Number((Le==null?void 0:Le.group)??0),at=Math.max(1,Number(ke.get(Ve)||1));["selfBuffs","groupBuffs","squadBuffs"].forEach(Ce=>{(Array.isArray(Le==null?void 0:Le[Ce])?Le[Ce]:[]).forEach(He=>{var it;const lt=Number(He==null?void 0:He.id);if(!Number.isFinite(lt))return;const Pe=`b${lt}`,ut=je[Pe]||{},bt=String((ut==null?void 0:ut.classification)||"");if(bt&&bt!=="Boon")return;const jt=Number(((it=Kx(Le,Ce,lt,nt,at,tt,je))==null?void 0:it.generationMs)||0);if(!Number.isFinite(jt)||jt<=0)return;const mn=de(Pe,ut),an=mn.players.get(ht)||{key:ht,account:We,displayName:We,profession:mt,professionList:mt&&mt!=="Unknown"?[mt]:[],logs:0,totals:Ft()};mt&&mt!=="Unknown"&&!an.professionList.includes(mt)&&an.professionList.push(mt),(!an.profession||an.profession==="Unknown")&&mt&&mt!=="Unknown"&&(an.profession=mt);const sn=se.get(Pe)||new Set;sn.has(ht)||(sn.add(ht),an.logs+=1,se.set(Pe,sn)),Be(an.totals,Ce,jt),mn.players.set(ht,an);const rt=mn.players.get("__all__")||{key:"__all__",account:"All",displayName:"All",profession:"All",professionList:[],logs:0,totals:Ft()};Be(rt.totals,Ce,jt),mn.players.set("__all__",rt);const Hn=ze.get(Pe)||new Map,fn=Hn.get(ht)||Ft();Be(fn,Ce,jt),Hn.set(ht,fn);const Cn=Hn.get("__all__")||Ft();Be(Cn,Ce,jt),Hn.set("__all__",Cn),ze.set(Pe,Hn);const Lr=Array.isArray(Le==null?void 0:Le.buffUptimes)?Le.buffUptimes.find(In=>Number(In==null?void 0:In.id)===lt):null,Dr=Lr!=null&&Lr.statesPerSource&&typeof Lr.statesPerSource=="object"?Lr.statesPerSource:null;if(Dr){const In=Ye.get(Pe)||new Map;Object.entries(Dr).forEach(([Da,ra])=>{const ni=Me.get(String(Da||"").trim());ni&&vt(In,ni,ra,xt,nt)}),Ye.set(Pe,In)}})})}),ze.forEach((Le,We)=>{const mt=ae.get(We);if(!mt)return;const ht=Ye.get(We)||new Map,Ve={};let at=Array.from({length:xt},()=>0),Ce=0;Le.forEach((Pe,ut)=>{const bt={selfBuffs:Number((Pe==null?void 0:Pe.selfBuffs)||0),groupBuffs:Number((Pe==null?void 0:Pe.groupBuffs)||0),squadBuffs:Number((Pe==null?void 0:Pe.squadBuffs)||0),totalBuffs:Number((Pe==null?void 0:Pe.totalBuffs)||0)},jt=Math.max(0,Number(bt.totalBuffs||0));if(!Number.isFinite(jt)||jt<=0)return;const mn=ht.get(ut)||[],an=St(mn,jt,xt);Ve[ut]={total:jt,totals:bt,bucketWeights5s:Array.from({length:xt},(sn,rt)=>Number(mn[rt]||0)),buckets5s:an},ut!=="__all__"&&(jt>Ce&&(Ce=jt),at=at.map((sn,rt)=>Number(sn||0)+Number(an[rt]||0)))});const He=Le.get("__all__"),it=Number((He==null?void 0:He.totalBuffs)||0);if(it>0&&(Ve.__all__={total:it,totals:{selfBuffs:Number((He==null?void 0:He.selfBuffs)||0),groupBuffs:Number((He==null?void 0:He.groupBuffs)||0),squadBuffs:Number((He==null?void 0:He.squadBuffs)||0),totalBuffs:Number((He==null?void 0:He.totalBuffs)||0)},bucketWeights5s:Array.from({length:xt},(Pe,ut)=>Number((ht.get("__all__")||[])[ut]||0)),buckets5s:at.some(Pe=>Number(Pe||0)>0)?at:St(ht.get("__all__")||[],it,xt)}),Object.keys(Ve).length===0)return;const lt=mt.players.get("__all__");lt&&(lt.logs+=1,mt.players.set("__all__",lt)),mt.fights.push({id:pe.filePath||pe.id||`fight-${he+1}`,shortLabel:`F${he+1}`,fullLabel:ge,timestamp:Yr(Xe,pe),durationMs:nt,values:Ve,maxTotal:Ce})})}),Array.from(ae.values()).map(pe=>({id:pe.id,name:pe.name||pe.id,icon:pe.icon,stacking:pe.stacking,players:Array.from(pe.players.values()).sort((he,Xe)=>{var be,tt;if(he.key==="__all__")return-1;if(Xe.key==="__all__")return 1;const nt=Number(((be=Xe.totals)==null?void 0:be.totalBuffs)||0)-Number(((tt=he.totals)==null?void 0:tt.totalBuffs)||0);return nt!==0?nt:String(he.displayName||"").localeCompare(String(Xe.displayName||""))}),fights:[...pe.fights].sort((he,Xe)=>he.timestamp>0&&Xe.timestamp>0&&he.timestamp!==Xe.timestamp?he.timestamp-Xe.timestamp:he.shortLabel.localeCompare(Xe.shortLabel,void 0,{numeric:!0}))})).filter(pe=>pe.players.length>0&&pe.fights.length>0).sort((pe,he)=>String(pe.name||"").localeCompare(String(he.name||"")))})(),vi=(()=>{const E=Be=>String(Be||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),U=Be=>E(Be).toLowerCase().split(/[^a-z0-9]+/i).map(pe=>pe.trim()).filter(Boolean).map(pe=>pe.length>3&&pe.endsWith("s")?pe.slice(0,-1):pe),Z=(Be,pe)=>{const he=E(Be),Xe=E(pe);if(!Xe)return he;if(!he)return Xe;const be=U(he),tt=U(Xe),nt=new Set(be),xt=new Set(tt),je=tt.length>0&&tt.every(ke=>nt.has(ke)),Me=be.length>0&&be.every(ke=>xt.has(ke));return je||Me?he:`${he} - ${Xe}`},ae=new Map,de=(Be,pe)=>{if(!ae.has(Be))ae.set(Be,{id:Be,name:String((pe==null?void 0:pe.name)||Be),icon:pe==null?void 0:pe.icon,stacking:!!(pe!=null&&pe.stacking),players:new Map,fights:[]});else if(pe){const he=ae.get(Be);(!he.name||he.name===Be)&&pe!=null&&pe.name&&(he.name=String(pe.name)),!he.icon&&pe!=null&&pe.icon&&(he.icon=String(pe.icon)),!he.stacking&&pe!=null&&pe.stacking&&(he.stacking=!0)}return ae.get(Be)},_e=Be=>Array.isArray(Be)?Be.map(pe=>Array.isArray(pe)?[Number(pe[0]),Number(pe[1])]:pe&&typeof pe=="object"?[Number(pe.time),Number(pe.value)]:null).filter(pe=>!!pe&&Number.isFinite(pe[0])&&Number.isFinite(pe[1])&&pe[0]>=0).sort((pe,he)=>pe[0]-he[0]):[],Ie=(Be,pe)=>pe?(String(Be||"").trim().toLowerCase(),25):1,vt=(Be,pe,he)=>{const Xe=Number.isFinite(Be)?Math.max(0,Be):0;return pe?Math.max(0,Math.min(he,Math.round(Xe))):Xe>0?1:0},St=(Be,pe,he,Xe)=>{const be=Array.from({length:pe},()=>0);if(!Be||typeof Be!="object"||pe<=0)return be;Object.values(Be).forEach(nt=>{const xt=_e(nt);if(xt.length===0)return;let je=0,Me=0;for(let ke=0;ke<pe;ke+=1){const De=ke*5e3;for(;je<xt.length&&xt[je][0]<=De;)Me=Math.max(0,Number(xt[je][1]||0)),je+=1;be[ke]+=Math.max(0,Number(Me||0))}});const tt=Ie(Xe,he);return be.map(nt=>vt(nt,he,tt))},Ft=Be=>{const pe=Be.reduce((Xe,be)=>Xe+Math.max(0,Number(be||0)),0),he=Be.reduce((Xe,be)=>Math.max(Xe,Math.max(0,Number(be||0))),0);return{total:pe,peak:he,buckets5s:Be}};return s.map(Be=>({log:Be,ts:Yr(Be==null?void 0:Be.details,Be)})).sort((Be,pe)=>Be.ts-pe.ts).forEach(({log:Be},pe)=>{const he=Be==null?void 0:Be.details;if(!he)return;const Xe=(Array.isArray(he.players)?he.players:[]).filter($e=>!($e!=null&&$e.notInSquad));if(Xe.length<=0)return;const be=Math.max(0,Number((he==null?void 0:he.durationMS)||0)),tt=Math.max(1,Math.ceil(Math.max(1,be)/5e3)),nt=he!=null&&he.buffMap&&typeof he.buffMap=="object"?he.buffMap:{},xt=E(he.fightName||Be.fightName||`Fight ${pe+1}`),je=Ea(he,Be),Me=Z(xt,String(je||"")),ke=new Map,De=new Map;Xe.forEach($e=>{const ge=String(($e==null?void 0:$e.account)||($e==null?void 0:$e.name)||"Unknown"),ze=ge,Ye=String(($e==null?void 0:$e.profession)||"Unknown");(Array.isArray($e==null?void 0:$e.buffUptimes)?$e.buffUptimes:[]).forEach(se=>{const Le=Number(se==null?void 0:se.id);if(!Number.isFinite(Le))return;const We=`b${Le}`,mt=nt[We]||{},ht=String((mt==null?void 0:mt.classification)||"");if(ht&&ht!=="Boon")return;const Ve=se!=null&&se.statesPerSource&&typeof se.statesPerSource=="object"?se.statesPerSource:null;if(!Ve)return;const at=St(Ve,tt,!!(mt!=null&&mt.stacking),String((mt==null?void 0:mt.name)||"")),Ce=Ft(at);if(Ce.total<=0&&Ce.peak<=0)return;const He=de(We,mt),it=He.players.get(ze)||{key:ze,account:ge,displayName:ge,profession:Ye,professionList:Ye&&Ye!=="Unknown"?[Ye]:[],logs:0,total:0,peak:0};Ye&&Ye!=="Unknown"&&!it.professionList.includes(Ye)&&it.professionList.push(Ye),(!it.profession||it.profession==="Unknown")&&Ye&&Ye!=="Unknown"&&(it.profession=Ye);const lt=De.get(We)||new Set;lt.has(ze)||(lt.add(ze),it.logs+=1,De.set(We,lt)),it.total+=Ce.total,it.peak=Math.max(it.peak,Ce.peak),He.players.set(ze,it);const Pe=ke.get(We)||new Map;Pe.set(ze,Ce),ke.set(We,Pe)})}),ke.forEach(($e,ge)=>{const ze=ae.get(ge);if(!ze)return;const Ye={};let se=0;$e.forEach((Le,We)=>{Ye[We]={total:Number(Le.total||0),peak:Number(Le.peak||0),buckets5s:Array.isArray(Le.buckets5s)?Le.buckets5s.map(mt=>Number(mt||0)):[]},se=Math.max(se,Number(Le.peak||0))}),Object.keys(Ye).length!==0&&ze.fights.push({id:Be.filePath||Be.id||`fight-${pe+1}`,shortLabel:`F${pe+1}`,fullLabel:Me,timestamp:Yr(he,Be),durationMs:be,values:Ye,maxTotal:se})})}),Array.from(ae.values()).map(Be=>({id:Be.id,name:Be.name||Be.id,icon:Be.icon,stacking:Be.stacking,players:Array.from(Be.players.values()).sort((pe,he)=>{const Xe=Number(he.peak||0)-Number(pe.peak||0);if(Xe!==0)return Xe;const be=Number(he.total||0)-Number(pe.total||0);return be!==0?be:String(pe.displayName||"").localeCompare(String(he.displayName||""))}),fights:[...Be.fights].sort((pe,he)=>pe.timestamp>0&&he.timestamp>0&&pe.timestamp!==he.timestamp?pe.timestamp-he.timestamp:pe.shortLabel.localeCompare(he.shortLabel,void 0,{numeric:!0}))})).filter(Be=>Be.players.length>0&&Be.fights.length>0).sort((Be,pe)=>String(Be.name||"").localeCompare(String(pe.name||"")))})(),ul=Qn.map(({log:E})=>{const U=E==null?void 0:E.details,Z=Array.isArray(U==null?void 0:U.players)?U.players:[],ae=Array.isArray(U==null?void 0:U.targets)?U.targets:[],de=E!=null&&E.dashboardSummary&&typeof E.dashboardSummary=="object"?E.dashboardSummary:null,_e=Z.filter(he=>!he.notInSquad),Ie=ae.filter(he=>!he.isFake),vt=Math.max(0,Number((de==null?void 0:de.squadCount)||0)),St=Math.max(0,Number((de==null?void 0:de.enemyCount)||0)),Ft=_e.length>0?_e.length:vt,Be=Ie.length>0?Ie.length:St,pe=Z.length>0?Z.length:Ft;return{timestamp:Yr(U,E),squadCount:Ft,friendlyCount:pe,enemies:Be,isWin:ds(U,E)}}).map((E,U)=>({...E,index:U+1,label:`Log ${U+1}`})),Bo={};Array.from(O.values()).forEach(E=>{E.profession&&E.profession!=="Unknown"&&(Bo[E.profession]=(Bo[E.profession]||0)+1)});const vu=Object.entries(Bo).map(([E,U])=>({name:E,value:U,color:Ls(E)})).sort((E,U)=>U.value-E.value),G={};Object.keys(W).length===0&&s.forEach(E=>{var U,Z;(Z=(U=E.details)==null?void 0:U.targets)==null||Z.forEach(ae=>{if(ae.isFake)return;const de=ae.profession&&ae.profession!=="Unknown"?ae.profession:ae.name||ae.id||"Unknown",_e=V(de);G[_e]=(G[_e]||0)+1})});const xe=Object.keys(W).length>0?W:G,Ge=Object.entries(xe).map(([E,U])=>({name:E,value:U,color:Ls(E)})).sort((E,U)=>U.value-E.value),gt=Qn.map(({log:E},U)=>{const Z=E==null?void 0:E.details,ae=Array.isArray(Z==null?void 0:Z.players)?Z.players:[],de=ae.filter(ge=>!ge.notInSquad),_e=ae.filter(ge=>ge.notInSquad),Ie=(Array.isArray(Z==null?void 0:Z.targets)?Z.targets:[]).filter(ge=>!ge.isFake),vt=E!=null&&E.dashboardSummary&&typeof E.dashboardSummary=="object"?E.dashboardSummary:null,St=de.reduce((ge,ze)=>{var Ye,se;return ge+(((se=(Ye=ze.dpsAll)==null?void 0:Ye[0])==null?void 0:se.damage)||0)},0),Ft=de.reduce((ge,ze)=>{var Ye,se;return ge+(((se=(Ye=ze.defenses)==null?void 0:Ye[0])==null?void 0:se.damageTaken)||0)},0),{enemyDeaths:Be,enemyDownsDeaths:pe}=D(Z),he=ds(Z,E),Xe=Yr(Z,E),be=Ea(Z,E),tt=ge=>{if(!ge||typeof ge!="object")return;const ze=ge.teamID??ge.teamId??ge.team??ge.teamColor??ge.team_color;if(ze!=null)return ze;const Ye=Object.keys(ge).find(se=>/^team/i.test(se));return Ye?ge[Ye]:void 0},nt=(ge,ze)=>{const Ye={};return ge.forEach(se=>{const Le=ze(se),We=V(Le);We&&(Ye[We]=(Ye[We]||0)+1)}),Ye},xt=nt(de,ge=>(ge==null?void 0:ge.profession)||(ge==null?void 0:ge.name)),je=nt(_e,ge=>(ge==null?void 0:ge.profession)||(ge==null?void 0:ge.name)),Me=nt(Ie,ge=>(ge==null?void 0:ge.profession)||(ge==null?void 0:ge.name)||(ge==null?void 0:ge.id)),ke=new Set;de.forEach(ge=>{const ze=tt(ge);ze!=null&&ke.add(String(ze))});const De=new Map;Ie.forEach(ge=>{if((ge==null?void 0:ge.enemyPlayer)===!1)return;const ze=tt(ge);if(ze==null)return;const Ye=String(ze);ke.has(Ye)||De.set(Ye,(De.get(Ye)||0)+1)});const $e=Array.from(De.entries()).sort((ge,ze)=>{const Ye=ze[1]-ge[1];return Ye!==0?Ye:ge[0].localeCompare(ze[0],void 0,{numeric:!0})}).slice(0,3).map(([ge,ze])=>({teamId:ge,count:ze}));return{id:E.filePath||`fight-${U}`,label:E.encounterName||`Fight ${U+1}`,permalink:ba(Z,E),timestamp:Xe,mapName:be,duration:ll(Z,E),isWin:he,squadCount:de.length>0?de.length:Math.max(0,Number((vt==null?void 0:vt.squadCount)||0)),allyCount:_e.length,enemyCount:Ie.length>0?Ie.length:Math.max(0,Number((vt==null?void 0:vt.enemyCount)||0)),teamBreakdown:$e,alliesDown:de.reduce((ge,ze)=>{var Ye,se;return ge+(((se=(Ye=ze.defenses)==null?void 0:Ye[0])==null?void 0:se.downCount)||0)},0),alliesDead:de.length>0?de.reduce((ge,ze)=>{var Ye,se;return ge+(((se=(Ye=ze.defenses)==null?void 0:Ye[0])==null?void 0:se.deadCount)||0)},0):Math.max(0,Number((vt==null?void 0:vt.squadDeaths)||0)),alliesRevived:de.reduce((ge,ze)=>{var Ye,se;return Number(((se=(Ye=ze.statsAll)==null?void 0:Ye[0])==null?void 0:se.saved)||0)>0?ge+1:ge},0),rallies:0,enemyDeaths:Ie.length>0||de.length>0?Be:Math.max(0,Number((vt==null?void 0:vt.enemyDeaths)||0)),enemyDowns:Math.max(0,pe-Be),totalOutgoingDamage:St,totalIncomingDamage:Ft,incomingBarrierAbsorbed:de.reduce((ge,ze)=>{var Ye,se;return ge+(((se=(Ye=ze.defenses)==null?void 0:Ye[0])==null?void 0:se.damageBarrier)||0)},0),outgoingBarrierAbsorbed:de.reduce((ge,ze)=>{var Ye;const se=(Ye=ze.extBarrierStats)==null?void 0:Ye.outgoingBarrier;if(!Array.isArray(se))return ge;let Le=0;return se.forEach(We=>{if(Array.isArray(We)){We.forEach(mt=>{Le+=Number((mt==null?void 0:mt.barrier)||0)});return}Le+=Number((We==null?void 0:We.barrier)||0)}),ge+Le},0),squadClassCountsFight:xt,allyClassCountsFight:je,enemyClassCounts:Me}}),Bt=po.map(({log:E},U)=>{const Z=E.details;if(!Z)return null;const ae=(Array.isArray(Z.players)?Z.players:[]).filter(Ce=>!Ce.notInSquad),de=Array.isArray(Z.targets)?Z.targets:[],_e=Yr(Z,E),Ie=Ea(Z,E),vt=Number(Z.durationMS||0),{squadDownsDeaths:St,enemyDownsDeaths:Ft,squadDeaths:Be,enemyDeaths:pe}=D(Z),he=new Map,Xe=(Ce,He,it)=>{const lt=he.get(Ce)||{label:Ce,damage:0,hits:0};lt.damage+=He,lt.hits+=it,he.set(Ce,lt)};if(ae.forEach(Ce=>{(Array.isArray(Ce==null?void 0:Ce.statsTargets)?Ce.statsTargets:[]).forEach((He,it)=>{const lt=Array.isArray(He)?He[0]:He,Pe=Number((lt==null?void 0:lt.damage)??(lt==null?void 0:lt.totalDmg)??(lt==null?void 0:lt.connectedDmg)??0),ut=Number((lt==null?void 0:lt.connectedHits)??(lt==null?void 0:lt.connectedDamageCount)??(lt==null?void 0:lt.hits)??0);if(Pe<=0&&ut<=0)return;const bt=de[it];if(bt!=null&&bt.isFake)return;const jt=(bt==null?void 0:bt.profession)||(bt==null?void 0:bt.name)||(bt==null?void 0:bt.id)||`Target ${it+1}`,mn=V(jt);Xe(mn||String(jt),Pe,ut)})}),he.size===0){const Ce=new Map,He=it=>{if(!Array.isArray(it)||it.length===0)return[];const lt=it[0];if(Array.isArray(lt)&&Array.isArray(lt[0])){if(typeof lt[0][0]=="number")return lt;if(Array.isArray(lt[0])&&typeof lt[0][0]=="number")return it.map(Pe=>Array.isArray(Pe)?Pe[0]||[]:[])}return[]};ae.forEach(it=>{He(it==null?void 0:it.targetDamage1S).forEach((lt,Pe)=>{if(!Array.isArray(lt)||lt.length===0)return;const ut=lt.map(jt=>Number(jt)).filter(jt=>Number.isFinite(jt)&&jt>=0);if(ut.length===0)return;const bt=Math.max(0,ut[ut.length-1]||0);bt<=0||Ce.set(Pe,(Ce.get(Pe)||0)+bt)})}),Ce.forEach((it,lt)=>{if(it<=0)return;const Pe=de[lt];if(Pe!=null&&Pe.isFake)return;const ut=(Pe==null?void 0:Pe.profession)||(Pe==null?void 0:Pe.name)||(Pe==null?void 0:Pe.id)||`Target ${lt+1}`,bt=V(ut);Xe(bt||String(ut),it,0)})}if(he.size===0&&de.forEach((Ce,He)=>{if(Ce!=null&&Ce.isFake)return;const it=Array.isArray(Ce==null?void 0:Ce.totalDamageTaken)?Ce.totalDamageTaken:Array.isArray(Ce==null?void 0:Ce.totalDamageDist)?Ce.totalDamageDist:[];let lt=0,Pe=0;if(it.forEach(jt=>{lt+=Number((jt==null?void 0:jt.totalDamage)||(jt==null?void 0:jt.damage)||0),Pe+=Number((jt==null?void 0:jt.connectedHits)||(jt==null?void 0:jt.hits)||0)}),lt<=0&&Number((Ce==null?void 0:Ce.damageTaken)||0)>0&&(lt=Number(Ce.damageTaken||0)),lt<=0&&Pe<=0)return;const ut=(Ce==null?void 0:Ce.profession)||(Ce==null?void 0:Ce.name)||(Ce==null?void 0:Ce.id)||`Target ${He+1}`,bt=V(ut);Xe(bt||String(ut),lt,Pe)}),he.size===0){const Ce=new Map;de.forEach((He,it)=>{if(He!=null&&He.isFake)return;const lt=(He==null?void 0:He.profession)||(He==null?void 0:He.name)||(He==null?void 0:He.id)||`Target ${it+1}`,Pe=V(lt)||String(lt);Ce.set(Pe,(Ce.get(Pe)||0)+1)}),Ce.forEach((He,it)=>{He>0&&Xe(it,He,0)})}const be=Array.from(he.values()).sort((Ce,He)=>He.damage-Ce.damage||He.hits-Ce.hits||Ce.label.localeCompare(He.label)),tt=be.reduce((Ce,He)=>Ce+He.damage,0),nt=be.map(Ce=>({label:Ce.label,damage:Ce.damage,hits:Ce.hits,share:tt>0?Ce.damage/tt:0})),xt=de.filter(Ce=>!(Ce!=null&&Ce.isFake)).length,je=ae.length,Me=ae.reduce((Ce,He)=>{var it,lt;return Ce+Number(((lt=(it=He==null?void 0:He.dpsAll)==null?void 0:it[0])==null?void 0:lt.damage)||0)},0),ke=ae.reduce((Ce,He)=>{var it,lt;return Ce+Number(((lt=(it=He==null?void 0:He.defenses)==null?void 0:it[0])==null?void 0:lt.damageTaken)||0)},0),De=ae.reduce((Ce,He)=>{var it,lt;return Ce+Number(((lt=(it=He==null?void 0:He.defenses)==null?void 0:it[0])==null?void 0:lt.damageBarrier)||0)},0),$e=ae.reduce((Ce,He)=>{var it;const lt=(it=He==null?void 0:He.extBarrierStats)==null?void 0:it.outgoingBarrier;if(!Array.isArray(lt))return Ce;let Pe=0;return lt.forEach(ut=>{Array.isArray(ut)?ut.forEach(bt=>{Pe+=Number((bt==null?void 0:bt.barrier)||0)}):Pe+=Number((ut==null?void 0:ut.barrier)||0)}),Ce+Pe},0),ge=ae.reduce((Ce,He)=>{var it,lt;return Number(((lt=(it=He==null?void 0:He.statsAll)==null?void 0:it[0])==null?void 0:lt.saved)||0)>0?Ce+1:Ce},0),ze=ae.reduce((Ce,He)=>Ce+Number(Yj(He)||0),0),Ye=ae.reduce((Ce,He)=>Ce+Number(Jj(He)||0),0),se=ae.reduce((Ce,He)=>Ce+Number((He==null?void 0:He.stabGeneration)||0),0),Le=ae.reduce((Ce,He)=>Ce+Number(Qj(He)||0),0),We=ae.reduce((Ce,He)=>Ce+Number(Xj(He)||0),0),mt=ae.reduce((Ce,He)=>Ce+Number(eC(He)||0),0),ht=ae.reduce((Ce,He)=>Ce+Number(Zj(He)||0),0),Ve=Be>0?pe/Be:pe,at=[{metricId:"winFlag",metricLabel:"Win (1) / Loss (0)",higherIsBetter:!0,value:I(Z)?1:0},{metricId:"squadCount",metricLabel:"Squad Size",higherIsBetter:!0,value:je},{metricId:"enemyCount",metricLabel:"Enemy Count",higherIsBetter:!1,value:xt},{metricId:"squadKdr",metricLabel:"Squad KDR",higherIsBetter:!0,value:Ve},{metricId:"enemyDeaths",metricLabel:"Enemy Deaths",higherIsBetter:!0,value:pe},{metricId:"enemyDowns",metricLabel:"Enemy Downs",higherIsBetter:!0,value:Math.max(0,Ft-pe)},{metricId:"squadDeaths",metricLabel:"Squad Deaths",higherIsBetter:!1,value:Be},{metricId:"squadDowns",metricLabel:"Squad Downs",higherIsBetter:!1,value:Math.max(0,St-Be)},{metricId:"damageDelta",metricLabel:"Damage Delta",higherIsBetter:!0,value:Me-ke},{metricId:"outgoingDamage",metricLabel:"Outgoing Damage",higherIsBetter:!0,value:Me},{metricId:"incomingDamage",metricLabel:"Incoming Damage",higherIsBetter:!1,value:ke},{metricId:"cleanses",metricLabel:"Squad Cleanses",higherIsBetter:!0,value:ze},{metricId:"strips",metricLabel:"Squad Strips",higherIsBetter:!0,value:Ye},{metricId:"stability",metricLabel:"Squad Stability",higherIsBetter:!0,value:se},{metricId:"healing",metricLabel:"Squad Healing",higherIsBetter:!0,value:Le},{metricId:"barrierOut",metricLabel:"Squad Barrier Out",higherIsBetter:!0,value:We},{metricId:"barrierIncomingAbsorb",metricLabel:"Barrier Absorption (Incoming)",higherIsBetter:!0,value:De},{metricId:"enemyBarrierAbsorb",metricLabel:"Enemy Barrier Absorption",higherIsBetter:!1,value:$e},{metricId:"cc",metricLabel:"Squad CC",higherIsBetter:!0,value:mt},{metricId:"downContrib",metricLabel:"Squad Down Contribution",higherIsBetter:!0,value:ht},{metricId:"alliesRevived",metricLabel:"Allies Revived (Players)",higherIsBetter:!0,value:ge}];return{id:E.filePath||E.id||`fight-${U+1}`,shortLabel:`F${U+1}`,fullLabel:`${Ie||E.encounterName||"Unknown Map"}  ${ih(vt)}`,mapName:Ie,timestamp:_e,duration:ih(vt),isWin:I(Z),targetFocus:nt,squadMetrics:at}}).filter(Boolean),_t=Array.from(O.values()).map(E=>{const U=Object.entries(E.professionTimeMs||{}).map(([Z,ae])=>({profession:Z,timeMs:Number(ae||0)})).filter(Z=>Z.profession&&Z.profession!=="Unknown"&&Z.timeMs>0).sort((Z,ae)=>{const de=ae.timeMs-Z.timeMs;return de!==0?de:Z.profession.localeCompare(ae.profession)});return{account:E.account||"Unknown",characterNames:Array.from(E.characterNames||[]).filter(Boolean).sort((Z,ae)=>Z.localeCompare(ae)),classTimes:U,combatTimeMs:Number(E.squadActiveMs||E.totalFightMs||0),squadTimeMs:(()=>{const Z=Number(E.firstSeenFightTs||0),ae=Number(E.lastSeenFightTs||0),de=Math.max(0,Number(E.lastSeenFightDurationMs||0));return Z>0&&ae>0?Math.max(0,ae+de-Z):Number(E.squadActiveMs||E.totalFightMs||0)})()}}).filter(E=>E.account&&E.account!=="Unknown").sort((E,U)=>{const Z=U.squadTimeMs-E.squadTimeMs;return Z!==0?Z:String(E.account).localeCompare(String(U.account))}),Nt=s.map(E=>E).sort((E,U)=>Yr(E.details,E)-Yr(U.details,U)).map((E,U)=>{const Z=E==null?void 0:E.details,ae=Array.isArray(Z==null?void 0:Z.players)?Z.players.filter(Ie=>!(Ie!=null&&Ie.notInSquad)):[],de=new Map;ae.forEach(Ie=>{const vt=Number(Ie==null?void 0:Ie.group),St=Number.isFinite(vt)&&vt>0?vt:0;de.has(St)||de.set(St,{party:St,players:[],classCounts:{}});const Ft=V((Ie==null?void 0:Ie.profession)||(Ie==null?void 0:Ie.name)||"Unknown"),Be=String((Ie==null?void 0:Ie.account)||"Unknown"),pe=String((Ie==null?void 0:Ie.name)||(Ie==null?void 0:Ie.character_name)||""),he=!!(Ie!=null&&Ie.hasCommanderTag),Xe=de.get(St);Xe.players.push({account:Be,characterName:pe,profession:Ft,isCommander:he}),Xe.classCounts[Ft]=(Xe.classCounts[Ft]||0)+1});const _e=Array.from(de.values()).map(Ie=>({...Ie,players:Ie.players.sort((vt,St)=>{const Ft=+!!St.isCommander-+!!vt.isCommander;if(Ft!==0)return Ft;const Be=String(vt.profession).localeCompare(String(St.profession));return Be!==0?Be:String(vt.account).localeCompare(String(St.account))})})).sort((Ie,vt)=>Ie.party===0&&vt.party!==0?1:vt.party===0&&Ie.party!==0?-1:Ie.party-vt.party);return{id:String((E==null?void 0:E.filePath)||(E==null?void 0:E.id)||`fight-${U+1}`),label:`F${U+1}`,timestamp:Yr(Z,E),mapName:Ea(Z,E),duration:ih(Number((Z==null?void 0:Z.durationMS)||0)),parties:_e}}),yn=(E,U)=>{const Z=(U==null?void 0:U.skillMap)||{},ae=(U==null?void 0:U.buffMap)||{};let de=0,_e=0,Ie="";const vt=Be=>{const pe=Number(Be);if(!Number.isFinite(pe))return String(Be||"Unknown Skill");const he=(Z==null?void 0:Z[`s${pe}`])||(Z==null?void 0:Z[`${pe}`]);if(he!=null&&he.name)return String(he.name);const Xe=(ae==null?void 0:ae[`b${pe}`])||(ae==null?void 0:ae[`${pe}`]);return Xe!=null&&Xe.name?String(Xe.name):`Skill ${pe}`},St=Be=>{if(!Be||typeof Be!="object")return;const pe=[Number(Be.max),Number(Be.maxDamage),Number(Be.maxHit)].filter(be=>Number.isFinite(be)),he=pe.length>0?Math.max(...pe):0;he>de&&(de=he,Ie=vt(Be.id));const Xe=Number(Be.downContribution||0);Xe>_e&&(_e=Xe)};let Ft=!1;return Array.isArray(E==null?void 0:E.targetDamageDist)&&E.targetDamageDist.forEach(Be=>{Array.isArray(Be)&&Be.forEach(pe=>{Array.isArray(pe)&&pe.forEach(he=>{Ft=!0,St(he)})})}),(!Ft||de<=0)&&Array.isArray(E==null?void 0:E.totalDamageDist)&&E.totalDamageDist.forEach(Be=>{Array.isArray(Be)&&Be.forEach(pe=>St(pe))}),{peak:de,peakDownContribution:_e,skillName:Ie||"Unknown Skill"}},dn=(()=>{const E=be=>String(be||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),U=be=>E(be).toLowerCase().split(/[^a-z0-9]+/i).map(tt=>tt.trim()).filter(Boolean).map(tt=>tt.length>3&&tt.endsWith("s")?tt.slice(0,-1):tt),Z=(be,tt)=>{const nt=E(be),xt=E(tt);if(!xt)return nt;if(!nt)return xt;const je=U(nt),Me=U(xt),ke=new Set(je),De=new Set(Me),$e=Me.length>0&&Me.every(ze=>ke.has(ze)),ge=je.length>0&&je.every(ze=>De.has(ze));return $e||ge?nt:`${nt} - ${xt}`},ae=[],de=new Map,_e=be=>{const tt=De=>{if(!Array.isArray(De)||De.length===0)return[];const $e=[];for(let ge=0;ge<De.length;ge+=1){const ze=Number(De[ge]||0),Ye=ge>0?Number(De[ge-1]||0):0;$e.push(Math.max(0,ze-Ye))}return $e},nt=De=>{if(!Array.isArray(De))return[];const $e=De.reduce((ze,Ye)=>Math.max(ze,Array.isArray(Ye)?Ye.length:0),0);if($e<=0)return[];const ge=new Array($e).fill(0);return De.forEach(ze=>{if(Array.isArray(ze))for(let Ye=0;Ye<$e;Ye+=1)ge[Ye]+=Number(ze[Ye]||0)}),ge},xt=De=>Array.isArray(De)?De.map($e=>Number($e||0)):null,je=(De=>{if(!Array.isArray(De)||De.length===0)return null;const $e=De[0];if(!Array.isArray($e))return null;if(Array.isArray($e[0])&&Array.isArray($e[0][0]))return nt($e);if(Array.isArray($e[0])&&!Array.isArray($e[0][0])){const ge=De.map(ze=>xt(Array.isArray(ze)?ze[0]:null)).filter(ze=>Array.isArray(ze)&&ze.length>0);if(ge.length>0)return nt(ge)}return null})(be==null?void 0:be.targetDamage1S),Me=Array.isArray(be==null?void 0:be.damage1S)&&Array.isArray(be.damage1S[0])?be.damage1S[0]:null,ke=je||(Array.isArray(Me)?Me.map(De=>Number(De||0)):[]);return tt(ke)},Ie=(be,tt)=>{if(!Array.isArray(be)||be.length===0||tt<=0)return 0;let nt=0,xt=0;for(let je=0;je<be.length;je+=1)nt+=Number(be[je]||0),je>=tt&&(nt-=Number(be[je-tt]||0)),je>=tt-1&&nt>xt&&(xt=nt);return Math.max(0,xt)},vt=(be,tt)=>{if(!Array.isArray(be)||be.length===0||tt<=0)return[];const nt=[];for(let xt=0;xt<be.length;xt+=tt){const je=Math.min(xt+tt,be.length),Me=be.slice(xt,je).reduce((ke,De)=>ke+Number(De||0),0);nt.push(Me)}return nt},St=(be,tt)=>{let nt=0,xt=0;const je=new Map,Me=ke=>{if(!ke||typeof ke!="object"||ke.indirectDamage)return;const De=Number(ke.totalDamage||0),$e=Number(ke.downContribution||0);!Number.isFinite(De)&&!Number.isFinite($e)||(nt+=Number.isFinite(De)?De:0,xt+=Number.isFinite($e)?$e:0)};return Array.isArray(be==null?void 0:be.targetDamageDist)&&be.targetDamageDist.forEach(ke=>{Array.isArray(ke)&&ke.forEach(De=>{Array.isArray(De)&&De.forEach($e=>{const ge=Number($e==null?void 0:$e.id);if(Number.isFinite(ge)){const ze=je.get(ge)||{damage:0,downContribution:0};ze.damage+=Number(($e==null?void 0:$e.totalDamage)||0),ze.downContribution+=Number(($e==null?void 0:$e.downContribution)||0),je.set(ge,ze)}Me($e)})})}),!(tt!=null&&tt.detailedWvW)&&Array.isArray(be==null?void 0:be.totalDamageDist)&&be.totalDamageDist.forEach(ke=>{Array.isArray(ke)&&ke.forEach(De=>{const $e=Number(De==null?void 0:De.id);if(!Number.isFinite($e)){Me(De);return}const ge=je.get($e);if(!ge){Me(De);return}const ze=Number((De==null?void 0:De.totalDamage)||0)-Number(ge.damage||0),Ye=Number((De==null?void 0:De.downContribution)||0)-Number(ge.downContribution||0);ze<=0&&Ye<=0||Me({...De,totalDamage:Math.max(0,ze),downContribution:Math.max(0,Ye)})})}),{damageTotal:Math.max(0,nt),downContributionTotal:Math.max(0,xt)}},Ft=(be,tt)=>{const nt=Number(be);if(!Number.isFinite(nt))return{name:String(be||"Unknown Skill"),icon:void 0};const xt=(tt==null?void 0:tt.skillMap)||{},je=(tt==null?void 0:tt.buffMap)||{},Me=(xt==null?void 0:xt[`s${nt}`])||(xt==null?void 0:xt[`${nt}`]);if(Me!=null&&Me.name)return{name:String(Me.name),icon:Me==null?void 0:Me.icon};const ke=(je==null?void 0:je[`b${nt}`])||(je==null?void 0:je[`${nt}`]);return ke!=null&&ke.name?{name:String(ke.name),icon:ke==null?void 0:ke.icon}:{name:`Skill ${nt}`,icon:void 0}},Be=be=>Array.isArray(be)?be.map(tt=>Array.isArray(tt)?[Number(tt[0]),Number(tt[1])]:tt&&typeof tt=="object"?[Number(tt.time),Number(tt.value)]:null).filter(tt=>!!tt&&Number.isFinite(tt[0])&&tt[0]>=0):[],pe=(be,tt,nt,xt,je)=>{if(!be.length||xt<=0)return[];const Me=Math.max(xt*5e3,je||0),ke=We=>We.reduce((mt,ht)=>ht>=0&&ht<=Me+2e3?mt+1:mt,0),De=be.map(We=>Number(We||0)).filter(We=>Number.isFinite(We)&&We>=0);if(!De.length)return[];const $e=[De],ge=De.reduce((We,mt)=>Math.max(We,mt),0),ze=De.reduce((We,mt)=>Math.min(We,mt),Number.POSITIVE_INFINITY);ge>Me*20&&$e.push(De.map(We=>We/1e3)),ge<=Me*2&&ze>=0&&ge>0&&ge<Math.max(120,xt*5+10)&&$e.push(De.map(We=>We*1e3));let Ye=De,se=0,Le=-1;return $e.forEach(We=>{const mt=We.reduce((Ve,at)=>Math.min(Ve,at),Number.POSITIVE_INFINITY),ht=new Set([0,...tt,...nt]);if(Number.isFinite(mt)&&Me>0&&mt>Me){const Ve=Math.floor(mt/Me)*Me;ht.add(Ve),ht.add(Math.max(0,Ve-Me))}ht.forEach(Ve=>{const at=We.map(He=>He-Ve),Ce=ke(at);Ce>Le&&(Le=Ce,se=Ve,Ye=We)})}),Ye.map(We=>We-se).filter(We=>Number.isFinite(We)&&We>=0)},he=(be,tt,nt,xt,je)=>{const Me=pe(be,tt,nt,xt,je);return Array.from(new Set(Me.map(ke=>Math.floor(ke/5e3)).filter(ke=>Number.isFinite(ke)&&ke>=0&&ke<xt)))};s.map(be=>({log:be,ts:Yr(be==null?void 0:be.details,be)})).sort((be,tt)=>be.ts-tt.ts).forEach(({log:be},tt)=>{const nt=be==null?void 0:be.details;if(!nt)return;const xt=E(nt.fightName||be.fightName||`Fight ${tt+1}`),je=Ea(nt,be),Me=Z(xt,String(je||"")),ke={},De=Array.isArray(nt.players)?nt.players:[],$e=De.flatMap(Ve=>{const at=Ve==null?void 0:Ve.combatReplayData;return Array.isArray(at)?at.map(Ce=>Number(Ce==null?void 0:Ce.start)):[Number(at==null?void 0:at.start)]}).filter(Ve=>Number.isFinite(Ve)&&Ve>=0);De.forEach(Ve=>{if(Ve!=null&&Ve.notInSquad)return;const at=String((Ve==null?void 0:Ve.account)||(Ve==null?void 0:Ve.name)||"Unknown"),Ce=String((Ve==null?void 0:Ve.character_name)||(Ve==null?void 0:Ve.display_name)||(Ve==null?void 0:Ve.name)||""),He=String((Ve==null?void 0:Ve.profession)||"Unknown"),it=`${at}|${He}`,lt=yn(Ve,nt),Pe=Number(lt.peak||0),ut=Number(lt.peakDownContribution||0),bt=_e(Ve),{damageTotal:jt,downContributionTotal:mn}=St(Ve,nt),an=jt>0?Math.min(1,Math.max(0,mn/jt)):0,sn=bt.map(Ke=>Number(Ke||0)*an),rt=Number(Ie(bt,1)||0),Hn=Number(Ie(bt,5)||0),fn=Number(Ie(bt,30)||0),Cn=Number(Ie(sn,1)||0),Lr=Number(Ie(sn,5)||0),Dr=Number(Ie(sn,30)||0),In=Math.max(0,Math.ceil(Number((nt==null?void 0:nt.durationMS)||0)/5e3)),Da=Math.max(0,Math.ceil(bt.length/5)),ra=Math.max(0,Math.ceil(sn.length/5)),ni=Math.max(In,Da,ra),uc=vt(bt,5),Pa=vt(sn,5),fs=Array.from({length:ni},(Ke,qe)=>Number(uc[qe]||0)),ri=Array.from({length:ni},(Ke,qe)=>Number(Pa[qe]||0)),zi=new Map,Dn=Ke=>{if(!Ke||typeof Ke!="object"||Ke.indirectDamage)return;const qe=Number(Ke.totalDamage||0),Dt=Number(Ke.downContribution||0);if((!Number.isFinite(qe)||qe<=0)&&(!Number.isFinite(Dt)||Dt<=0))return;const Ht=Number(Ke.connectedHits||Ke.hits||0),hn=Ft(Ke.id,nt),Kt=hn.name,Zt=zi.get(Kt)||{skillName:Kt,damage:0,downContribution:0,hits:0,icon:hn.icon};Zt.damage+=Number.isFinite(qe)?qe:0,Zt.downContribution+=Number.isFinite(Dt)?Dt:0,Zt.hits+=Number.isFinite(Ht)?Ht:0,!Zt.icon&&hn.icon&&(Zt.icon=hn.icon),zi.set(Kt,Zt)},bi=new Map;Array.isArray(Ve==null?void 0:Ve.targetDamageDist)&&Ve.targetDamageDist.forEach(Ke=>{Array.isArray(Ke)&&Ke.forEach(qe=>{Array.isArray(qe)&&qe.forEach(Dt=>{const Ht=Number(Dt==null?void 0:Dt.id),hn=Number((Dt==null?void 0:Dt.totalDamage)||0),Kt=Number((Dt==null?void 0:Dt.downContribution)||0);if(Number.isFinite(Ht)){const Zt=bi.get(Ht)||{damage:0,downContribution:0,hits:0};Zt.damage+=Number.isFinite(hn)?hn:0,Zt.downContribution+=Number.isFinite(Kt)?Kt:0,Zt.hits+=Number((Dt==null?void 0:Dt.connectedHits)||(Dt==null?void 0:Dt.hits)||0),bi.set(Ht,Zt)}Dn(Dt)})})}),!(nt!=null&&nt.detailedWvW)&&Array.isArray(Ve==null?void 0:Ve.totalDamageDist)&&Ve.totalDamageDist.forEach(Ke=>{Array.isArray(Ke)&&Ke.forEach(qe=>{const Dt=Number(qe==null?void 0:qe.id);if(!Number.isFinite(Dt)){Dn(qe);return}const Ht=bi.get(Dt);if(!Ht){Dn(qe);return}const hn=Number((qe==null?void 0:qe.totalDamage)||0),Kt=Number((qe==null?void 0:qe.downContribution)||0),Zt=Number((qe==null?void 0:qe.connectedHits)||(qe==null?void 0:qe.hits)||0),yr=hn-Number(Ht.damage||0),qa=Kt-Number(Ht.downContribution||0),xn=Zt-Number(Ht.hits||0);yr<=0&&qa<=0&&xn<=0||Dn({...qe,totalDamage:Math.max(0,yr),downContribution:Math.max(0,qa),connectedHits:Math.max(0,xn),hits:Math.max(0,xn)})})});const aa=(()=>{const Ke=Ve==null?void 0:Ve.combatReplayData;return Array.isArray(Ke)?Ke.filter(qe=>qe&&typeof qe=="object"):Ke&&typeof Ke=="object"?[Ke]:[]})(),Wa=aa.map(Ke=>Number(Ke==null?void 0:Ke.start)).filter(Ke=>Number.isFinite(Ke)&&Ke>=0),Fn=aa.flatMap(Ke=>Be(Ke==null?void 0:Ke.down).map(([qe])=>Number(qe||0))),Qe=aa.flatMap(Ke=>Be(Ke==null?void 0:Ke.dead).map(([qe])=>Number(qe||0)));ke[it]={hit:Pe,burst1s:rt,burst5s:Hn,burst30s:fn,hitDown:ut,burst1sDown:Cn,burst5sDown:Lr,burst30sDown:Dr,skillName:lt.skillName,buckets5s:fs,buckets5sDown:ri,downIndices5s:he(Fn,Wa,$e,ni,Number((nt==null?void 0:nt.durationMS)||0)),deathIndices5s:he(Qe,Wa,$e,ni,Number((nt==null?void 0:nt.durationMS)||0)),skillRows:Array.from(zi.values()).sort((Ke,qe)=>qe.damage-Ke.damage).slice(0,50)};const Re=de.get(it)||{key:it,account:at,displayName:at,characterName:Ce,profession:He,professionList:[He],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakHitDown:0,peak1sDown:0,peak5sDown:0,peak30sDown:0,peakFightLabel:"",peakSkillName:""};Re.logs+=1,Re.professionList.includes(He)||Re.professionList.push(He),!Re.characterName&&Ce&&(Re.characterName=Ce),Pe>Re.peakHit&&(Re.peakHit=Pe,Re.peakFightLabel=Me,Re.peakSkillName=lt.skillName),rt>Re.peak1s&&(Re.peak1s=rt),Hn>Re.peak5s&&(Re.peak5s=Hn),fn>Re.peak30s&&(Re.peak30s=fn),ut>Re.peakHitDown&&(Re.peakHitDown=ut),Cn>Re.peak1sDown&&(Re.peak1sDown=Cn),Lr>Re.peak5sDown&&(Re.peak5sDown=Lr),Dr>Re.peak30sDown&&(Re.peak30sDown=Dr),de.set(it,Re)});const ge=Object.values(ke).reduce((Ve,at)=>Math.max(Ve,Number((at==null?void 0:at.hit)||0)),0),ze=Object.values(ke).reduce((Ve,at)=>Math.max(Ve,Number((at==null?void 0:at.burst1s)||0)),0),Ye=Object.values(ke).reduce((Ve,at)=>Math.max(Ve,Number((at==null?void 0:at.burst5s)||0)),0),se=Object.values(ke).reduce((Ve,at)=>Math.max(Ve,Number((at==null?void 0:at.burst30s)||0)),0),Le=Object.values(ke).reduce((Ve,at)=>Math.max(Ve,Number((at==null?void 0:at.hitDown)||0)),0),We=Object.values(ke).reduce((Ve,at)=>Math.max(Ve,Number((at==null?void 0:at.burst1sDown)||0)),0),mt=Object.values(ke).reduce((Ve,at)=>Math.max(Ve,Number((at==null?void 0:at.burst5sDown)||0)),0),ht=Object.values(ke).reduce((Ve,at)=>Math.max(Ve,Number((at==null?void 0:at.burst30sDown)||0)),0);ae.push({id:be.filePath||be.id||`fight-${tt+1}`,shortLabel:`F${tt+1}`,fullLabel:Me,timestamp:Yr(nt,be),values:ke,maxHit:ge,max1s:ze,max5s:Ye,max30s:se,maxHitDown:Le,max1sDown:We,max5sDown:mt,max30sDown:ht})});const Xe=Array.from(de.values()).sort((be,tt)=>tt.peakHit!==be.peakHit?tt.peakHit-be.peakHit:be.displayName.localeCompare(tt.displayName));return{fights:ae,players:Xe}})(),gr=(()=>{const E=je=>String(je||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),U=je=>E(je).toLowerCase().split(/[^a-z0-9]+/i).map(Me=>Me.trim()).filter(Boolean).map(Me=>Me.length>3&&Me.endsWith("s")?Me.slice(0,-1):Me),Z=(je,Me)=>{const ke=E(je),De=E(Me);if(!De)return ke;if(!ke)return De;const $e=U(ke),ge=U(De),ze=new Set($e),Ye=new Set(ge),se=ge.length>0&&ge.every(We=>ze.has(We)),Le=$e.length>0&&$e.every(We=>Ye.has(We));return se||Le?ke:`${ke} - ${De}`},ae=[],de=new Map,_e=(je,Me)=>{const ke=Number(je);if(!Number.isFinite(ke))return{name:String(je||"Unknown Skill"),icon:void 0};const De=(Me==null?void 0:Me.skillMap)||{},$e=(Me==null?void 0:Me.buffMap)||{},ge=(De==null?void 0:De[`s${ke}`])||(De==null?void 0:De[`${ke}`]);if(ge!=null&&ge.name)return{name:String(ge.name),icon:ge==null?void 0:ge.icon};const ze=($e==null?void 0:$e[`b${ke}`])||($e==null?void 0:$e[`${ke}`]);return ze!=null&&ze.name?{name:String(ze.name),icon:ze==null?void 0:ze.icon}:{name:`Skill ${ke}`,icon:void 0}},Ie=(je,Me)=>{let ke=0,De="";const $e=ge=>{if(!ge||typeof ge!="object"||ge.indirectDamage)return;const ze=[Number(ge.max),Number(ge.maxDamage),Number(ge.maxHit)].filter(se=>Number.isFinite(se)),Ye=ze.length>0?Math.max(...ze):0;Ye>ke&&(ke=Ye,De=_e(ge.id,Me).name)};return Array.isArray(je==null?void 0:je.totalDamageDist)&&je.totalDamageDist.forEach(ge=>{Array.isArray(ge)&&ge.forEach(ze=>$e(ze))}),Array.isArray(je==null?void 0:je.targetDamageDist)&&je.targetDamageDist.forEach(ge=>{Array.isArray(ge)&&ge.forEach(ze=>{Array.isArray(ze)&&ze.forEach(Ye=>$e(Ye))})}),{peak:ke,skillName:De||"Unknown Skill"}},vt=je=>{if(!Array.isArray(je)||je.length===0)return[];const Me=[];for(let ke=0;ke<je.length;ke+=1){const De=Number(je[ke]||0),$e=ke>0?Number(je[ke-1]||0):0;Me.push(Math.max(0,De-$e))}return Me},St=je=>{if(!Array.isArray(je)||je.length===0)return[];const Me=je.reduce((De,$e)=>Math.max(De,Array.isArray($e)?$e.length:0),0);if(Me<=0)return[];const ke=new Array(Me).fill(0);return je.forEach(De=>{if(Array.isArray(De))for(let $e=0;$e<Me;$e+=1)ke[$e]+=Number(De[$e]||0)}),ke},Ft=je=>{if(!Array.isArray(je)||je.length===0)return[];const Me=je[0];if(typeof Me=="number")return je.map(ke=>Number(ke||0));if(Array.isArray(Me)&&Me.length>0){if(typeof Me[0]=="number")return Me.map(ke=>Number(ke||0));if(Array.isArray(Me[0])){const ke=Me.map(De=>Array.isArray(De)?De.map($e=>Number($e||0)):null).filter(De=>Array.isArray(De)&&De.length>0);if(ke.length>0)return St(ke)}}return[]},Be=je=>{const Me=Ft(je==null?void 0:je.powerDamage1S),ke=Ft(je==null?void 0:je.damage1S),De=Me.length>0?Me:ke;return vt(De)},pe=(je,Me)=>{const ke=je==null?void 0:je.targetPowerDamage1S;if(!Array.isArray(ke)||!Array.isArray(ke[Me]))return[];const De=ke[Me];if(!Array.isArray(De)||De.length===0)return[];if(typeof De[0]=="number")return De.map($e=>Number($e||0));if(Array.isArray(De[0])&&!Array.isArray(De[0][0]))return De[0].map($e=>Number($e||0));if(Array.isArray(De[0])&&Array.isArray(De[0][0])){const $e=De[0].map(ge=>Array.isArray(ge)?ge.map(ze=>Number(ze||0)):null).filter(ge=>Array.isArray(ge)&&ge.length>0);return St($e)}return[]},he=(je,Me)=>{if(!Array.isArray(je)||je.length===0||Me<=0)return 0;let ke=0,De=0;for(let $e=0;$e<je.length;$e+=1)ke+=Number(je[$e]||0),$e>=Me&&(ke-=Number(je[$e-Me]||0)),$e>=Me-1&&ke>De&&(De=ke);return Math.max(0,De)},Xe=(je,Me)=>{if(!Array.isArray(je)||je.length===0||Me<=0)return[];const ke=[];for(let De=0;De<je.length;De+=Me){const $e=Math.min(De+Me,je.length),ge=je.slice(De,$e).reduce((ze,Ye)=>ze+Number(Ye||0),0);ke.push(ge)}return ke},be=je=>Array.isArray(je)?je.map(Me=>Array.isArray(Me)?[Number(Me[0]),Number(Me[1])]:Me&&typeof Me=="object"?[Number(Me.time),Number(Me.value)]:null).filter(Me=>!!Me&&Number.isFinite(Me[0])&&Me[0]>=0):[],tt=(je,Me,ke,De,$e)=>{if(!je.length||De<=0)return[];const ge=Math.max(De*5e3,$e||0),ze=at=>at.reduce((Ce,He)=>He>=0&&He<=ge+2e3?Ce+1:Ce,0),Ye=je.map(at=>Number(at||0)).filter(at=>Number.isFinite(at)&&at>=0);if(!Ye.length)return[];const se=[Ye],Le=Ye.reduce((at,Ce)=>Math.max(at,Ce),0),We=Ye.reduce((at,Ce)=>Math.min(at,Ce),Number.POSITIVE_INFINITY);Le>ge*20&&se.push(Ye.map(at=>at/1e3)),Le<=ge*2&&We>=0&&Le>0&&Le<Math.max(120,De*5+10)&&se.push(Ye.map(at=>at*1e3));let mt=Ye,ht=0,Ve=-1;return se.forEach(at=>{const Ce=at.reduce((it,lt)=>Math.min(it,lt),Number.POSITIVE_INFINITY),He=new Set([0,...Me,...ke]);if(Number.isFinite(Ce)&&ge>0&&Ce>ge){const it=Math.floor(Ce/ge)*ge;He.add(it),He.add(Math.max(0,it-ge))}He.forEach(it=>{const lt=at.map(ut=>ut-it),Pe=ze(lt);Pe>Ve&&(Ve=Pe,ht=it,mt=at)})}),mt.map(at=>at-ht).filter(at=>Number.isFinite(at)&&at>=0)},nt=(je,Me,ke,De,$e)=>{const ge=tt(je,Me,ke,De,$e);return Array.from(new Set(ge.map(ze=>Math.floor(ze/5e3)).filter(ze=>Number.isFinite(ze)&&ze>=0&&ze<De)))};s.map(je=>({log:je,ts:Yr(je==null?void 0:je.details,je)})).sort((je,Me)=>je.ts-Me.ts).forEach(({log:je},Me)=>{const ke=je==null?void 0:je.details;if(!ke)return;const De=E(ke.fightName||je.fightName||`Fight ${Me+1}`),$e=Ea(ke,je),ge=Z(De,String($e||"")),ze={},Ye=(Array.isArray(ke.players)?ke.players:[]).filter(Pe=>!(Pe!=null&&Pe.notInSquad)),se=Ye.flatMap(Pe=>{const ut=Pe==null?void 0:Pe.combatReplayData;return Array.isArray(ut)?ut.map(bt=>Number(bt==null?void 0:bt.start)):[Number(ut==null?void 0:ut.start)]}).filter(Pe=>Number.isFinite(Pe)&&Pe>=0),Le=Ye.flatMap(Pe=>{const ut=Pe==null?void 0:Pe.combatReplayData;return(Array.isArray(ut)?ut:ut?[ut]:[]).flatMap(bt=>be(bt==null?void 0:bt.down).map(([jt])=>Number(jt||0)))}),We=Ye.flatMap(Pe=>{const ut=Pe==null?void 0:Pe.combatReplayData;return(Array.isArray(ut)?ut:ut?[ut]:[]).flatMap(bt=>be(bt==null?void 0:bt.dead).map(([jt])=>Number(jt||0)))}),mt=new Map,ht=new Map,Ve=new Map;(Array.isArray(ke.targets)?ke.targets:[]).forEach((Pe,ut)=>{if(!Pe||Pe.isFake||!Pe.enemyPlayer)return;const bt=V((Pe==null?void 0:Pe.profession)||(Pe==null?void 0:Pe.name)||(Pe==null?void 0:Pe.id))||"Unknown";Ve.set(bt,(Ve.get(bt)||0)+1);const jt=ht.get(bt)||new Map;Array.isArray(Pe==null?void 0:Pe.totalDamageDist)&&Pe.totalDamageDist.forEach(fn=>{Array.isArray(fn)&&fn.forEach(Cn=>{if(!Cn||typeof Cn!="object"||Cn.indirectDamage)return;const Lr=Number(Cn.totalDamage||0);if(!Number.isFinite(Lr)||Lr<=0)return;const Dr=Number(Cn.connectedHits||Cn.hits||0),In=_e(Cn.id,ke),Da=In.name,ra=jt.get(Da)||{skillName:Da,damage:0,hits:0,icon:In.icon};ra.damage+=Lr,ra.hits+=Number.isFinite(Dr)?Dr:0,!ra.icon&&In.icon&&(ra.icon=In.icon),jt.set(Da,ra)})}),ht.set(bt,jt);const mn=St(Ye.map(fn=>pe(fn,ut))),an=mn.length>0?vt(mn):Be(Pe),sn=Ie(Pe,ke);let rt=mt.get(bt);rt||(rt={perSecond:[],hit:0,skillName:""},mt.set(bt,rt)),an.length>rt.perSecond.length&&(rt.perSecond.length=an.length);for(let fn=0;fn<an.length;fn+=1)rt.perSecond[fn]=Number(rt.perSecond[fn]||0)+Number(an[fn]||0);const Hn=Number(sn.peak||0);Hn>rt.hit&&(rt.hit=Hn,rt.skillName=sn.skillName||"Unknown Skill")});const at=Array.from(mt.values()).some(Pe=>Array.isArray(Pe.perSecond)&&Pe.perSecond.some(ut=>Number(ut||0)>0));if(mt.size===0||!at){const Pe=St(Ye.map(bt=>{const jt=Ft(bt==null?void 0:bt.powerDamageTaken1S);return vt(jt)})),ut=Array.from(Ve.values()).reduce((bt,jt)=>bt+Number(jt||0),0);Pe.length>0&&ut>0&&Ve.forEach((bt,jt)=>{const mn=Number(bt||0)/ut,an=Pe.map(rt=>Number(rt||0)*mn),sn=mt.get(jt);mt.set(jt,{perSecond:an,hit:Number((sn==null?void 0:sn.hit)||0),skillName:String((sn==null?void 0:sn.skillName)||"")})})}mt.forEach((Pe,ut)=>{var bt;const jt=ut,mn=Number(Pe.hit||0),an=Number(he(Pe.perSecond,1)||0),sn=Number(he(Pe.perSecond,5)||0),rt=Number(he(Pe.perSecond,30)||0),Hn=Math.max(0,Math.ceil(Number((ke==null?void 0:ke.durationMS)||0)/5e3)),fn=Math.max(0,Math.ceil(Pe.perSecond.length/5)),Cn=Math.max(Hn,fn),Lr=Xe(Pe.perSecond,5),Dr=Array.from({length:Cn},(Da,ra)=>Number(Lr[ra]||0));ze[jt]={hit:mn,burst1s:an,burst5s:sn,burst30s:rt,skillName:Pe.skillName||"Unknown Skill",buckets5s:Dr,downIndices5s:nt(Le,[],se,Cn,Number((ke==null?void 0:ke.durationMS)||0)),deathIndices5s:nt(We,[],se,Cn,Number((ke==null?void 0:ke.durationMS)||0)),skillRows:Array.from(((bt=ht.get(ut))==null?void 0:bt.values())||[]).sort((Da,ra)=>ra.damage-Da.damage).slice(0,50)};const In=de.get(jt)||{key:jt,account:ut,displayName:ut,characterName:"",profession:ut,professionList:[ut],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};In.logs+=1,mn>In.peakHit&&(In.peakHit=mn,In.peakFightLabel=ge,In.peakSkillName=Pe.skillName||"Unknown Skill"),an>In.peak1s&&(In.peak1s=an),sn>In.peak5s&&(In.peak5s=sn),rt>In.peak30s&&(In.peak30s=rt),de.set(jt,In)});const Ce=Object.values(ze).reduce((Pe,ut)=>Math.max(Pe,Number((ut==null?void 0:ut.hit)||0)),0),He=Object.values(ze).reduce((Pe,ut)=>Math.max(Pe,Number((ut==null?void 0:ut.burst1s)||0)),0),it=Object.values(ze).reduce((Pe,ut)=>Math.max(Pe,Number((ut==null?void 0:ut.burst5s)||0)),0),lt=Object.values(ze).reduce((Pe,ut)=>Math.max(Pe,Number((ut==null?void 0:ut.burst30s)||0)),0);ae.push({id:je.filePath||je.id||`fight-${Me+1}`,shortLabel:`F${Me+1}`,fullLabel:ge,timestamp:Yr(ke,je),values:ze,maxHit:Ce,max1s:He,max5s:it,max30s:lt})});const xt=Array.from(de.values()).sort((je,Me)=>Me.peakHit!==je.peakHit?Me.peakHit-je.peakHit:je.displayName.localeCompare(Me.displayName));return{fights:ae,players:xt}})(),tr=Array.from($.entries()).map(([E,U])=>{const Z=k.get(E)||{},ae=Array.from(U.values()).map(de=>{var _e,Ie;const vt=Array.from(de.professions||[]).filter(be=>be&&be!=="Unknown");let St=de.profession||"Unknown";if(vt.length>0){St=vt[0];let be=((_e=de.professionTimeMs)==null?void 0:_e[St])||0;vt.forEach(tt=>{var nt;const xt=((nt=de.professionTimeMs)==null?void 0:nt[tt])||0;xt>be&&(be=xt,St=tt)})}const Ft=de.durationMs||0,Be=de.totalMs/1e3,pe=Ft>0?de.totalMs/Ft:0,he=((Ie=O.get(de.account))==null?void 0:Ie.supportActiveMs)||Ft,Xe=he>0?de.uptimeMs/he:0;return{account:de.account,profession:St,professionList:vt,total:Be,perSecond:pe,uptimePerSecond:Xe,duration:Ft/1e3}}).filter(de=>de.total>0||de.perSecond>0);return{id:E,name:Z.name||E,icon:Z.icon,rows:ae}}).filter(E=>E.rows.length>0),ot=Array.from(we.values()).map(E=>{const U=Array.from(E.skills.values()).sort((ae,de)=>de.damage-ae.damage),Z={key:E.key,account:E.account,displayName:E.displayName,profession:E.profession,professionList:E.professionList,totalFightMs:E.totalFightMs,skills:U};return h&&(Z.skillMap=U.reduce((ae,de)=>(ae[de.id]=de,ae),{})),Z}).sort((E,U)=>E.displayName.localeCompare(U.displayName));return{total:y,wins:x,losses:w,avgSquadSize:X,avgEnemies:yt,squadKDR:Ot,enemyKDR:zn,totalSquadKills:A,totalSquadDeaths:N,totalEnemyKills:B,totalEnemyDeaths:P,leaderboards:un,...sc,outgoingConditionSummary:Object.values(te).sort((E,U)=>U.damage-E.damage),incomingConditionSummary:Object.values(q).sort((E,U)=>U.damage-E.damage),outgoingConditionPlayers:Array.from(O.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,conditions:E.outgoingConditions})),incomingConditionPlayers:Array.from(O.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,conditions:E.incomingConditions})),topSkills:fo,topIncomingSkills:va,topSkillsByDamage:Ro,topSkillsByDownContribution:Ma,playerSkillBreakdowns:ot,topSkillsMetric:b,mapData:cc,timelineData:ul,boonTables:cl,boonTimeline:Hd,boonUptimeTimeline:vi,offensePlayers:Array.from(O.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,offenseTotals:E.offenseTotals,offenseRateWeights:E.offenseRateWeights,totalFightMs:E.totalFightMs})),defensePlayers:Array.from(O.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,defenseTotals:E.defenseTotals,activeMs:E.defenseActiveMs,minionDamageTakenByMinion:E.defenseMinionDamageTaken})),damageMitigationPlayers:rn,damageMitigationMinions:on,supportPlayers:Array.from(O.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,supportTotals:E.supportTotals,activeMs:E.supportActiveMs})),healingPlayers:Array.from(O.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,healingTotals:E.healingTotals,activeMs:E.healingActiveMs})),mvp:ya,silver:_r,bronze:yu,squadClassData:vu,enemyClassData:Ge,fightBreakdown:gt,fightDiffMode:Bt,attendanceData:_t,squadCompByFight:Nt,spikeDamage:dn,incomingStrikeDamage:gr,specialTables:tr,topStatsPerSecond:Ln,topStatsLeaderboardsPerSecond:hr,avgMvpScore:lc}})(),p=(()=>{const m=new Map,h=new Map,v=[],b=new Map,y=new Map;s.forEach(w=>{const S=w.details;if(!S)return;const j=S.skillMap||{},N=S.fightName||"Log",A=Yr(S,w)||Date.now(),P={id:w.filePath||w.id||N,label:N,timestamp:A,skillEntries:{},playerActiveSeconds:{},durationSeconds:S.durationMS?S.durationMS/1e3:0};(S.players||[]).forEach(B=>{if(B.notInSquad)return;const D=B.account||B.name||"Unknown",I=B.profession||"Unknown",O=`${D}|${I}`;let H=h.get(O);H||(H={key:O,account:D,displayName:D,profession:I,professionList:[I],logs:0,totalActiveSeconds:0,skillTotals:{}},h.set(O,H)),H.logs++;const J=(Array.isArray(B.activeTimes)?B.activeTimes[0]:0)/1e3;H.totalActiveSeconds=(H.totalActiveSeconds||0)+J,P.playerActiveSeconds[O]=J,(B.rotation||[]).forEach(ie=>{var we,te,q;if(!(ie!=null&&ie.id))return;const W=((we=ie.skills)==null?void 0:we.length)||0;if(W<=0)return;const k=`s${ie.id}`,$=((te=j[k])==null?void 0:te.name)||`Skill ${ie.id}`,T=(q=j[k])==null?void 0:q.icon;H.skillTotals[k]=(H.skillTotals[k]||0)+W,m.set(k,(m.get(k)||0)+W),b.set(k,$),T&&!y.has(k)&&y.set(k,T),P.skillEntries[k]||(P.skillEntries[k]={name:$,icon:T,players:{}}),!P.skillEntries[k].icon&&T&&(P.skillEntries[k].icon=T),P.skillEntries[k].players[O]=(P.skillEntries[k].players[O]||0)+W})}),v.push(P)});const x=Array.from(m.entries()).map(([w,S])=>({id:w,name:b.get(w)||w,total:S,icon:y.get(w)})).sort((w,S)=>S.total-w.total);return{logRecords:v,players:Array.from(h.values()),skillOptions:x,resUtilitySkills:[]}})();return{validLogs:s,stats:f,skillUsageData:p}},V8=({logs:e,stats:t,skillUsageData:n,activeStatsViewSettings:r,uiTheme:a,embedded:i,onWebUpload:o})=>{const[s,l]=g.useState({uploading:!1,message:null,url:null}),[u,d]=g.useState("idle"),f=()=>{const m=new Set;let h=null,v=null;e.forEach(A=>{const P=A.details;if(!P)return;const B=P.timeStartStd||P.timeStart||P.uploadTime||A.uploadTime,D=P.timeEndStd||P.timeEnd||P.uploadTime||A.uploadTime,I=B?new Date(B):null,O=D?new Date(D):null;I&&!Number.isNaN(I.getTime())&&(!h||I<h)&&(h=I),O&&!Number.isNaN(O.getTime())&&(!v||O>v)&&(v=O),(P.players||[]).forEach(H=>{if(!(H!=null&&H.notInSquad)&&H!=null&&H.hasCommanderTag){const J=(H==null?void 0:H.name)||(H==null?void 0:H.account)||"Unknown";m.add(J)}})});const b=Array.from(m).sort((A,P)=>A.localeCompare(P)),y=h||new Date,x=v||y,w=y.toISOString(),S=x.toISOString(),j=`${y.toLocaleString()} - ${x.toLocaleString()}`,N=A=>String(A).padStart(2,"0");return{id:`${y.getFullYear()}${N(y.getMonth()+1)}${N(y.getDate())}-${N(y.getHours())}${N(y.getMinutes())}${N(y.getSeconds())}-${Math.random().toString(36).slice(2,6)}`,title:b.length?b.join(", "):"Unknown Commander",commanders:b,dateStart:w,dateEnd:S,dateLabel:j,generatedAt:new Date().toISOString()}},p=()=>{var m;const h={...t,skillUsageData:n,statsViewSettings:r,uiTheme:a};if(Array.isArray(h.fightDiffMode)&&h.fightDiffMode.length>0||!Array.isArray(e)||e.length===0)return h;try{const v=Hh({logs:e,statsViewSettings:r}),b=(m=v==null?void 0:v.stats)==null?void 0:m.fightDiffMode;if(Array.isArray(b)&&b.length>0)return{...h,fightDiffMode:b}}catch{}return h};return{devMockUploadState:s,setDevMockUploadState:l,webCopyStatus:u,setWebCopyStatus:d,handleWebUpload:async()=>{if(!i&&o)try{const m=f(),h=p();await o({meta:m,stats:h})}catch(m){console.error("[StatsView] Web upload failed:",m)}},handleDevMockUpload:async()=>{var m;if(!(i||!((m=window.electronAPI)!=null&&m.mockWebReport))){l({uploading:!0,message:"Preparing local report...",url:null});try{const h=f(),v=p(),b=await window.electronAPI.mockWebReport({meta:h,stats:v});b!=null&&b.success?l({uploading:!1,message:"Local report ready.",url:b.url||null}):l({uploading:!1,message:(b==null?void 0:b.error)||"Local report failed.",url:null})}catch(h){l({uploading:!1,message:(h==null?void 0:h.message)||"Local report failed.",url:null})}}}}};function W8(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),a=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(a),t&&(r.href=t),a.href=e,a.href}const q8=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function Ul(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}let uf=null;function _O(e={}){return uf||(e.includeStyleProperties?(uf=e.includeStyleProperties,uf):(uf=Ul(window.getComputedStyle(document.documentElement)),uf))}function Eg(e,t){const n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function H8(e){const t=Eg(e,"border-left-width"),n=Eg(e,"border-right-width");return e.clientWidth+t+n}function K8(e){const t=Eg(e,"border-top-width"),n=Eg(e,"border-bottom-width");return e.clientHeight+t+n}function LO(e,t={}){const n=t.width||H8(e),r=t.height||K8(e);return{width:n,height:r}}function G8(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const ji=16384;function Y8(e){(e.width>ji||e.height>ji)&&(e.width>ji&&e.height>ji?e.width>e.height?(e.height*=ji/e.width,e.width=ji):(e.width*=ji/e.height,e.height=ji):e.width>ji?(e.height*=ji/e.width,e.width=ji):(e.width*=ji/e.height,e.height=ji))}function Dg(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function J8(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function Z8(e,t,n){const r="http://www.w3.org/2000/svg",a=document.createElementNS(r,"svg"),i=document.createElementNS(r,"foreignObject");return a.setAttribute("width",`${t}`),a.setAttribute("height",`${n}`),a.setAttribute("viewBox",`0 0 ${t} ${n}`),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("externalResourcesRequired","true"),a.appendChild(i),i.appendChild(e),J8(a)}const mi=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||mi(n,t)};function Q8(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function X8(e,t){return _O(t).map(n=>{const r=e.getPropertyValue(n),a=e.getPropertyPriority(n);return`${n}: ${r}${a?" !important":""};`}).join(" ")}function eV(e,t,n,r){const a=`.${e}:${t}`,i=n.cssText?Q8(n):X8(n,r);return document.createTextNode(`${a}{${i}}`)}function nC(e,t,n,r){const a=window.getComputedStyle(e,n),i=a.getPropertyValue("content");if(i===""||i==="none")return;const o=q8();try{t.className=`${t.className} ${o}`}catch{return}const s=document.createElement("style");s.appendChild(eV(o,n,a,r)),t.appendChild(s)}function tV(e,t,n){nC(e,t,":before",n),nC(e,t,":after",n)}const rC="application/font-woff",aC="image/jpeg",nV={woff:rC,woff2:rC,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:aC,jpeg:aC,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function rV(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function Dk(e){const t=rV(e).toLowerCase();return nV[t]||""}function aV(e){return e.split(/,/)[1]}function Yx(e){return e.search(/^(data:)/)!==-1}function iV(e,t){return`data:${t};base64,${e}`}async function FO(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const a=await r.blob();return new Promise((i,o)=>{const s=new FileReader;s.onerror=o,s.onloadend=()=>{try{i(n({res:r,result:s.result}))}catch(l){o(l)}},s.readAsDataURL(a)})}const Xv={};function oV(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function Pk(e,t,n){const r=oV(e,t,n.includeQueryParams);if(Xv[r]!=null)return Xv[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let a;try{const i=await FO(e,n.fetchRequestInit,({res:o,result:s})=>(t||(t=o.headers.get("Content-Type")||""),aV(s)));a=iV(i,t)}catch(i){a=n.imagePlaceholder||"";let o=`Failed to fetch resource: ${e}`;i&&(o=typeof i=="string"?i:i.message),o&&console.warn(o)}return Xv[r]=a,a}async function sV(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Dg(t)}async function lV(e,t){if(e.currentSrc){const i=document.createElement("canvas"),o=i.getContext("2d");i.width=e.clientWidth,i.height=e.clientHeight,o==null||o.drawImage(e,0,0,i.width,i.height);const s=i.toDataURL();return Dg(s)}const n=e.poster,r=Dk(n),a=await Pk(n,r,t);return Dg(a)}async function cV(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await ay(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function uV(e,t){return mi(e,HTMLCanvasElement)?sV(e):mi(e,HTMLVideoElement)?lV(e,t):mi(e,HTMLIFrameElement)?cV(e,t):e.cloneNode(RO(e))}const dV=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",RO=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function fV(e,t,n){var r,a;if(RO(t))return t;let i=[];return dV(e)&&e.assignedNodes?i=Ul(e.assignedNodes()):mi(e,HTMLIFrameElement)&&!((r=e.contentDocument)===null||r===void 0)&&r.body?i=Ul(e.contentDocument.body.childNodes):i=Ul(((a=e.shadowRoot)!==null&&a!==void 0?a:e).childNodes),i.length===0||mi(e,HTMLVideoElement)||await i.reduce((o,s)=>o.then(()=>ay(s,n)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function pV(e,t,n){const r=t.style;if(!r)return;const a=window.getComputedStyle(e);a.cssText?(r.cssText=a.cssText,r.transformOrigin=a.transformOrigin):_O(n).forEach(i=>{let o=a.getPropertyValue(i);i==="font-size"&&o.endsWith("px")&&(o=`${Math.floor(parseFloat(o.substring(0,o.length-2)))-.1}px`),mi(e,HTMLIFrameElement)&&i==="display"&&o==="inline"&&(o="block"),i==="d"&&t.getAttribute("d")&&(o=`path(${t.getAttribute("d")})`),r.setProperty(i,o,a.getPropertyPriority(i))})}function mV(e,t){mi(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),mi(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function hV(e,t){if(mi(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(a=>e.value===a.getAttribute("value"));r&&r.setAttribute("selected","")}}function gV(e,t,n){return mi(t,Element)&&(pV(e,t,n),tV(e,t,n),mV(e,t),hV(e,t)),t}async function yV(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let i=0;i<n.length;i++){const o=n[i].getAttribute("xlink:href");if(o){const s=e.querySelector(o),l=document.querySelector(o);!s&&l&&!r[o]&&(r[o]=await ay(l,t,!0))}}const a=Object.values(r);if(a.length){const i="http://www.w3.org/1999/xhtml",o=document.createElementNS(i,"svg");o.setAttribute("xmlns",i),o.style.position="absolute",o.style.width="0",o.style.height="0",o.style.overflow="hidden",o.style.display="none";const s=document.createElementNS(i,"defs");o.appendChild(s);for(let l=0;l<a.length;l++)s.appendChild(a[l]);e.appendChild(o)}return e}async function ay(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>uV(r,t)).then(r=>fV(e,r,t)).then(r=>gV(e,r,t)).then(r=>yV(r,t))}const $O=/url\((['"]?)([^'"]+?)\1\)/g,vV=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,bV=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function xV(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function wV(e){const t=[];return e.replace($O,(n,r,a)=>(t.push(a),n)),t.filter(n=>!Yx(n))}async function kV(e,t,n,r,a){try{const i=n?W8(t,n):t,o=Dk(t);let s;return a||(s=await Pk(i,o,r)),e.replace(xV(t),`$1${s}$3`)}catch{}return e}function SV(e,{preferredFontFormat:t}){return t?e.replace(bV,n=>{for(;;){const[r,,a]=vV.exec(n)||[];if(!a)return"";if(a===t)return`src: ${r};`}}):e}function BO(e){return e.search($O)!==-1}async function zO(e,t,n){if(!BO(e))return e;const r=SV(e,n);return wV(r).reduce((a,i)=>a.then(o=>kV(o,i,t,n)),Promise.resolve(r))}async function Au(e,t,n){var r;const a=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(a){const i=await zO(a,null,n);return t.style.setProperty(e,i,t.style.getPropertyPriority(e)),!0}return!1}async function NV(e,t){await Au("background",e,t)||await Au("background-image",e,t),await Au("mask",e,t)||await Au("-webkit-mask",e,t)||await Au("mask-image",e,t)||await Au("-webkit-mask-image",e,t)}async function jV(e,t){const n=mi(e,HTMLImageElement);if(!(n&&!Yx(e.src))&&!(mi(e,SVGImageElement)&&!Yx(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,a=await Pk(r,Dk(r),t);await new Promise((i,o)=>{e.onload=i,e.onerror=t.onImageErrorHandler?(...l)=>{try{i(t.onImageErrorHandler(...l))}catch(u){o(u)}}:o;const s=e;s.decode&&(s.decode=i),s.loading==="lazy"&&(s.loading="eager"),n?(e.srcset="",e.src=a):e.href.baseVal=a})}async function CV(e,t){const n=Ul(e.childNodes).map(r=>UO(r,t));await Promise.all(n).then(()=>e)}async function UO(e,t){mi(e,Element)&&(await NV(e,t),await jV(e,t),await CV(e,t))}function AV(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(a=>{n[a]=r[a]}),e}const iC={};async function oC(e){let t=iC[e];if(t!=null)return t;const n=await(await fetch(e)).text();return t={url:e,cssText:n},iC[e]=t,t}async function sC(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,a=(n.match(/url\([^)]+\)/g)||[]).map(async i=>{let o=i.replace(r,"$1");return o.startsWith("https://")||(o=new URL(o,e.url).href),FO(o,t.fetchRequestInit,({result:s})=>(n=n.replace(i,`url(${s})`),[i,s]))});return Promise.all(a).then(()=>n)}function lC(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const a=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=a.exec(r);if(l===null)break;t.push(l[0])}r=r.replace(a,"");const i=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,o="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",s=new RegExp(o,"gi");for(;;){let l=i.exec(r);if(l===null){if(l=s.exec(r),l===null)break;i.lastIndex=s.lastIndex}else s.lastIndex=i.lastIndex;t.push(l[0])}return t}async function MV(e,t){const n=[],r=[];return e.forEach(a=>{if("cssRules"in a)try{Ul(a.cssRules||[]).forEach((i,o)=>{if(i.type===CSSRule.IMPORT_RULE){let s=o+1;const l=i.href,u=oC(l).then(d=>sC(d,t)).then(d=>lC(d).forEach(f=>{try{a.insertRule(f,f.startsWith("@import")?s+=1:a.cssRules.length)}catch(p){console.error("Error inserting rule from remote css",{rule:f,error:p})}})).catch(d=>{console.error("Error loading remote css",d.toString())});r.push(u)}})}catch(i){const o=e.find(s=>s.href==null)||document.styleSheets[0];a.href!=null&&r.push(oC(a.href).then(s=>sC(s,t)).then(s=>lC(s).forEach(l=>{o.insertRule(l,o.cssRules.length)})).catch(s=>{console.error("Error loading remote stylesheet",s)})),console.error("Error inlining remote css file",i)}}),Promise.all(r).then(()=>(e.forEach(a=>{if("cssRules"in a)try{Ul(a.cssRules||[]).forEach(i=>{n.push(i)})}catch(i){console.error(`Error while reading CSS rules from ${a.href}`,i)}}),n))}function EV(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>BO(t.style.getPropertyValue("src")))}async function DV(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=Ul(e.ownerDocument.styleSheets),r=await MV(n,t);return EV(r)}function VO(e){return e.trim().replace(/["']/g,"")}function PV(e){const t=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(a=>{t.add(VO(a))}),Array.from(r.children).forEach(a=>{a instanceof HTMLElement&&n(a)})}return n(e),t}async function TV(e,t){const n=await DV(e,t),r=PV(e);return(await Promise.all(n.filter(a=>r.has(VO(a.style.fontFamily))).map(a=>{const i=a.parentStyleSheet?a.parentStyleSheet.href:null;return zO(a.cssText,i,t)}))).join(`
`)}async function OV(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await TV(e,t);if(n){const r=document.createElement("style"),a=document.createTextNode(n);r.appendChild(a),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function IV(e,t={}){const{width:n,height:r}=LO(e,t),a=await ay(e,t,!0);return await OV(a,t),await UO(a,t),AV(a,t),await Z8(a,n,r)}async function _V(e,t={}){const{width:n,height:r}=LO(e,t),a=await IV(e,t),i=await Dg(a),o=document.createElement("canvas"),s=o.getContext("2d"),l=t.pixelRatio||G8(),u=t.canvasWidth||n,d=t.canvasHeight||r;return o.width=u*l,o.height=d*l,t.skipAutoScale||Y8(o),o.style.width=`${u}`,o.style.height=`${d}`,t.backgroundColor&&(s.fillStyle=t.backgroundColor,s.fillRect(0,0,o.width,o.height)),s.drawImage(i,0,0,o.width,o.height),o}async function LV(e,t={}){return(await _V(e,t)).toDataURL()}const FV=e=>{const[t,n]=g.useState(!1),r=async i=>{var o;if(!((o=window.electronAPI)!=null&&o.fetchImageAsDataUrl))return i();const s=window.fetch.bind(window),l=globalThis.fetch.bind(globalThis),u=async(d,f)=>{const p=typeof d=="string"?d:d instanceof URL?d.toString():d.url;if(/^https?:\/\//i.test(p)){const m=await window.electronAPI.fetchImageAsDataUrl(p);if(m!=null&&m.success&&m.dataUrl)return s(m.dataUrl)}return s(d,f)};window.fetch=u,globalThis.fetch=u;try{return await i()}finally{window.fetch=s,globalThis.fetch=l}},a=async i=>{var o;if(!((o=window.electronAPI)!=null&&o.fetchImageAsDataUrl))return()=>{};const s=new Map,l=[],u=async p=>{if(s.has(p))return s.get(p)||null;const m=await window.electronAPI.fetchImageAsDataUrl(p);return m!=null&&m.success&&m.dataUrl?(s.set(p,m.dataUrl),m.dataUrl):(s.set(p,""),null)},d=Array.from(i.querySelectorAll("img"));await Promise.all(d.map(async p=>{var m;const h=p.currentSrc||p.src;if(!h||h.startsWith("data:")||h.startsWith("blob:")||h.startsWith("file:"))return;const v=await u(h);if(!v)return;const b=p.src,y=p.srcset;p.src=v,p.srcset="",l.push(()=>{p.src=b,p.srcset=y});try{await((m=p.decode)==null?void 0:m.call(p))}catch{}}));const f=Array.from(i.querySelectorAll("*"));return await Promise.all(f.map(async p=>{const m=window.getComputedStyle(p).backgroundImage;if(!m||m==="none"||!m.includes("url("))return;const h=Array.from(m.matchAll(/url\(["']?(https?:\/\/[^"')]+)["']?\)/g));if(!h.length)return;let v=m,b=!1;for(const x of h){const w=x[1];if(!w)continue;const S=await u(w);S&&(v=v.replace(x[0],`url("${S}")`),b=!0)}if(!b)return;const y=p.style.backgroundImage;p.style.backgroundImage=v,l.push(()=>{p.style.backgroundImage=y})})),()=>{l.forEach(p=>p())}};return{sharing:t,setSharing:n,handleShare:async()=>{var i;if(e||!((i=window.electronAPI)!=null&&i.sendStatsScreenshot))return;n(!0);const o=document.getElementById("stats-dashboard-container");if(o)try{await new Promise(p=>setTimeout(p,100));const s=Array.from(o.querySelectorAll(".stats-share-exclude"));o.classList.add("stats-share-mode"),s.forEach(p=>{p.dataset.prevDisplay=p.style.display,p.style.display="none"});let l;const u=await a(o);try{const p=o.scrollWidth,m=o.scrollHeight;l=await r(()=>LV(o,{backgroundColor:"#10141b",quality:.95,pixelRatio:2,cacheBust:!0,width:p,height:m,style:{overflow:"visible",maxHeight:"none",height:"auto"}}))}finally{u(),o.classList.remove("stats-share-mode"),s.forEach(p=>{p.style.display=p.dataset.prevDisplay||"",delete p.dataset.prevDisplay})}const d=await(await(await fetch(l)).blob()).arrayBuffer(),f=new Uint8Array(d);window.electronAPI.sendStatsScreenshot(f)}catch(s){console.error("Failed to capture stats:",s)}setTimeout(()=>n(!1),2e3)}}},Af=(e,t)=>{const n={};return t.forEach(r=>{e&&Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}),n},RV=e=>!!(e&&e.__statsPruned===!0),cC=(e,t)=>{if(!e||typeof e!="object")return e;const n={};return Object.entries(e).forEach(([r,a])=>{if(!a||typeof a!="object")return;const i={};typeof a.name=="string"&&(i.name=a.name),typeof a.icon=="string"&&(i.icon=a.icon),t!=null&&t.includeClassification&&typeof a.classification=="string"&&(i.classification=a.classification),t!=null&&t.includeStacking&&(typeof a.stacking=="boolean"?i.stacking=a.stacking:typeof a.stacking=="number"&&(i.stacking=!!a.stacking)),Object.keys(i).length>0&&(n[r]=i)}),n},uC=e=>{var t;const n=(t=e==null?void 0:e.statsAll)==null?void 0:t[0];return!n||typeof n!="object"?!1:n.distToCom!==void 0&&n.distToCom!=="Infinity"||n.stackDist!==void 0},$V=(e,t)=>{const n=r=>{if(!r||typeof r!="object")return null;const a=Af(r,["start","down","dead"]);return t&&Array.isArray(r.positions)&&(a.positions=r.positions),a};return Array.isArray(e)?e.map(r=>n(r)).filter(r=>!!r):e&&typeof e=="object"?n(e):e},dC=e=>{if(!e||typeof e!="object")return e;const t=Af(e,["players","targets","durationMS","uploadTime","timeStart","timeStartStd","timeEnd","timeEndStd","fightName","zone","mapName","map","location","permalink","uploadLinks","success","teamBreakdown","teamCounts","combatReplayMetaData","skillMap","buffMap","encounterDuration","player_damage_mitigation","player_minion_damage_mitigation","playerDamageMitigation","playerMinionDamageMitigation"]);if(t.skillMap=cC(t.skillMap,{includeClassification:!1,includeStacking:!1}),t.buffMap=cC(t.buffMap,{includeClassification:!0,includeStacking:!0}),Array.isArray(t.players)){const n=e.players,r=n.filter(a=>!(a!=null&&a.notInSquad)).some(a=>!(a!=null&&a.hasCommanderTag)&&!uC(a));t.players=n.map(a=>{const i=Af(a,["name","display_name","character_name","profession","elite_spec","group","dpsAll","statsAll","dpsTargets","statsTargets","defenses","support","rotation","extHealingStats","extBarrierStats","squadBuffVolumes","selfBuffs","groupBuffs","squadBuffs","selfBuffsActive","groupBuffsActive","squadBuffsActive","buffUptimes","totalDamageDist","targetDamageDist","damage1S","targetDamage1S","powerDamageTaken1S","targetPowerDamage1S","totalDamageTaken","totalDamageTakenDist","hasCommanderTag","notInSquad","account","activeTimes","teamID","teamId","team","teamColor","team_color"]),o=Array.isArray(a==null?void 0:a.minions)?a.minions:[];i.minions=o.map(l=>Af(l,["name","totalDamageTakenDist"]));const s=r&&((a==null?void 0:a.hasCommanderTag)&&!(a!=null&&a.notInSquad)||!(a!=null&&a.notInSquad)&&!uC(a));return i.combatReplayData=$V(a==null?void 0:a.combatReplayData,s),i})}return Array.isArray(t.targets)&&(t.targets=t.targets.map(n=>Af(n,["id","name","isFake","dpsAll","statsAll","defenses","totalHealth","healthPercentBurned","enemyPlayer","totalDamageDist","totalDamageTaken","totalDamageTakenDist","damageTaken","powerDamage1S","damage1S","profession","teamID","teamId","team","teamColor","team_color"]))),t},BV=e=>{if(!e||typeof e!="object"||RV(e))return e;const t={...e};return e.details?t.details=dC(e.details):t.details=dC(e),t.__statsPruned=!0,t},zV=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:a})=>{const i=e.length>8,[o,s]=g.useState(()=>Hh(typeof Worker<"u"&&i?{logs:[],precomputedStats:void 0,mvpWeights:n,statsViewSettings:r,disruptionMethod:a}:{logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:a})),[l,u]=g.useState(0),[d,f]=g.useState(0),[p,m]=g.useState(0),[h,v]=g.useState(0),[b,y]=g.useState(null),x=g.useRef(0),[w,S]=g.useState(0),j=g.useRef(null),N=g.useRef(null),[A,P]=g.useState(!1),B=g.useRef(null),D=g.useRef(null),I=g.useRef(0),O=g.useRef(0),H=g.useRef(new Map),J=g.useRef(""),ie=g.useRef(void 0),we=g.useRef(""),te=g.useRef(0),[q,W]=g.useState({active:!1,phase:"idle",streamed:0,total:0,startedAt:0,completedAt:0}),[k,$]=g.useState(null),T=g.useRef(0),C=()=>{if(B.current!==null&&(window.clearTimeout(B.current),B.current=null),D.current!==null){const z=window.cancelIdleCallback;typeof z=="function"&&z(D.current),D.current=null}},R=(z,re)=>{const F=String((z==null?void 0:z.filePath)||(z==null?void 0:z.id)||`idx-${re}`),le=z!=null&&z.details&&typeof z.details=="object"?z.details:null,ye=H.current.get(F);if(ye&&(le&&ye.sourceDetails===le||!le&&ye.sourceLog===z))return ye.pruned;const K=BV(z);return H.current.set(F,{sourceLog:z,sourceDetails:le,pruned:K}),K},V=g.useMemo(()=>{if(!r){J.current="",ie.current=void 0;return}const z={...r};delete z.topSkillsMetric;const re=JSON.stringify(z);return J.current!==re&&(J.current=re,ie.current=z),ie.current},[r]);g.useEffect(()=>{if(!(typeof Worker>"u")&&!A&&i)return N.current||(N.current=new Worker(new URL(""+new URL(""+new URL("statsWorker-DVwkyJ-d-BviIzI_Z.js",import.meta.url).href,import.meta.url).href,import.meta.url),{type:"module"}),N.current.onmessage=z=>{var re;if(((re=z.data)==null?void 0:re.type)==="result"){const F=typeof z.data.token=="number"?z.data.token:null;if(F!==null&&F!==x.current)return;g.startTransition(()=>{var le;s(z.data.result),typeof z.data.computeId=="number"?u(z.data.computeId):u(Te=>Te+1),typeof z.data.logCount=="number"&&f(z.data.logCount),typeof z.data.token=="number"&&m(z.data.token),typeof z.data.completedAt=="number"&&v(z.data.completedAt),typeof z.data.flushId=="number"&&y(z.data.flushId);const ye=F===null||F===x.current,K=te.current,me=typeof z.data.logCount=="number"?z.data.logCount:0;if(ye){const Te=typeof z.data.completedAt=="number"?z.data.completedAt:Date.now(),pt=((le=z.data)==null?void 0:le.diagnostics)||{},Oe=Math.max(0,Number(pt.computeMs||0)),oe=T.current>0?T.current:Te,Fe=Math.max(0,Te-oe),X=Math.max(0,Fe-Oe);$({mode:"worker",logsInPayload:Number(pt.logsInPayload||z.data.logCount||0),streamedLogs:Number(z.data.logCount||0),totalLogs:K,startedAt:oe,completedAt:Te,streamMs:X,computeMs:Oe,totalMs:Fe,flushId:typeof z.data.flushId=="number"?z.data.flushId:null,transferStripStats:pt.transferStripStats,counts:pt.counts,expectedLogCount:Number(pt.expectedLogCount||0),droppedLogMessages:Number(pt.droppedLogMessages||0)})}ye&&me>=K&&W(Te=>({...Te,active:K>0,phase:K>0?"settled":"idle",streamed:K,total:K,completedAt:typeof z.data.completedAt=="number"?z.data.completedAt:Date.now()}))})}},N.current.onerror=z=>{var re;console.warn("[StatsWorker] Worker error. Falling back to main thread.",z),(re=N.current)==null||re.terminate(),N.current=null,P(!0)},N.current.onmessageerror=z=>{var re;console.warn("[StatsWorker] Worker message error. Falling back to main thread.",z),(re=N.current)==null||re.terminate(),N.current=null,P(!0)},j.current!==null&&N.current.postMessage({type:"flush",flushId:j.current,token:x.current})),()=>{var z;O.current+=1,C(),(z=N.current)==null||z.terminate(),N.current=null}},[A,i]),g.useEffect(()=>{var z;if(!N.current||A||!i)return;const re=O.current+1;O.current=re;let F=!1;try{te.current=e.length,T.current=Date.now(),$(null),W({active:e.length>0,phase:e.length>0?"streaming":"idle",streamed:0,total:e.length,startedAt:Date.now(),completedAt:0});const le=x.current+1;x.current=le,S(le);const ye=new Set;e.forEach((oe,Fe)=>{ye.add(String((oe==null?void 0:oe.filePath)||(oe==null?void 0:oe.id)||`idx-${Fe}`))}),H.current.forEach((oe,Fe)=>{ye.has(Fe)||H.current.delete(Fe)}),C(),N.current.postMessage({type:"reset",token:le,totalLogs:e.length}),N.current.postMessage({type:"settings",token:le,payload:{precomputedStats:t,mvpWeights:n,statsViewSettings:V,disruptionMethod:a}});let K=0;const me=e.length,Te=(oe,Fe=!1)=>{const X=performance.now();if(!Fe&&X-I.current<120&&K<me)return;I.current=X;const yt=Math.min(K,me);W(Ot=>Ot.active===me>0&&Ot.phase===oe&&Ot.streamed===yt&&Ot.total===me?Ot:{...Ot,active:me>0,phase:oe,streamed:yt,total:me})},pt=()=>{if(F||O.current!==re||!N.current)return;const oe=window.requestIdleCallback;if(typeof oe=="function"){D.current=oe(Fe=>{D.current=null,Oe(Fe)},{timeout:120});return}B.current=window.setTimeout(()=>{B.current=null,Oe()},0)},Oe=oe=>{if(F||O.current!==re||!N.current)return;const Fe=!!(oe&&typeof oe.timeRemaining=="function"),X=Fe?Math.max(0,Number(oe.timeRemaining()||0)):0,yt=Fe?X>12?4:X>7?2:1:1;let Ot=0;for(;Ot<yt&&K<me;)N.current.postMessage({type:"log",token:le,payload:R(e[K],K)}),K+=1,Ot+=1;K<me?(Te("streaming"),pt()):(Te("computing",!0),N.current.postMessage({type:"flush",token:le}))};I.current=0,me<=0?(Te("computing",!0),N.current.postMessage({type:"flush",token:le})):(Te("streaming",!0),pt())}catch(le){console.warn("[StatsWorker] Failed to postMessage payload. Falling back to main thread.",le),C(),(z=N.current)==null||z.terminate(),N.current=null,P(!0),W({active:!1,phase:"idle",streamed:0,total:0,startedAt:0,completedAt:0}),$(null)}return()=>{F=!0,C()}},[e,t,n,V,a,i,A]);const Q=g.useMemo(()=>{if(!A&&typeof Worker<"u"&&i)return null;const z=Date.now(),re=performance.now(),F=Hh({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:V,disruptionMethod:a}),le=Math.max(0,performance.now()-re),ye=Date.now();return{result:F,computeMs:le,startedAt:z,completedAt:ye}},[A,e,t,n,V,a,i]),ce=g.useMemo(()=>{if(!A&&typeof Worker<"u"&&i)return"worker";const z=e[0],re=e[e.length-1];return JSON.stringify({logCount:e.length,firstLogPath:(z==null?void 0:z.filePath)||(z==null?void 0:z.name)||"",lastLogPath:(re==null?void 0:re.filePath)||(re==null?void 0:re.name)||"",precomputedTotal:Number((t==null?void 0:t.total)||0),precomputedUpdatedAt:String((t==null?void 0:t.updatedAt)||""),disruptionMethod:a||null,settingsKey:J.current})},[A,i,e,t,a]);g.useEffect(()=>{if(!A&&typeof Worker<"u"&&i||we.current===ce)return;we.current=ce,u(re=>re+1),f(e.length),m(x.current);const z=Date.now();v(z),$({mode:"fallback",logsInPayload:e.length,streamedLogs:e.length,totalLogs:e.length,startedAt:(Q==null?void 0:Q.startedAt)||z,completedAt:z,streamMs:0,computeMs:Math.max(0,Number((Q==null?void 0:Q.computeMs)||0)),totalMs:Math.max(0,Number((Q==null?void 0:Q.computeMs)||0)),flushId:null})},[ce,Q,A,e.length,i]);const Y=A||typeof Worker>"u"||!i?(Q==null?void 0:Q.result)??Hh({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:V,disruptionMethod:a}):o,L=!A&&typeof Worker<"u"&&i?q:{active:!1,phase:"idle",streamed:e.length,total:e.length,startedAt:0,completedAt:Date.now()};return{result:Y,computeTick:l,lastComputedLogCount:d,lastComputedToken:p,activeToken:w,lastComputedAt:h,lastComputedFlushId:b,aggregationProgress:L,aggregationDiagnostics:k,requestFlush:()=>{const z=Date.now();return j.current=z,N.current&&!A&&N.current.postMessage({type:"flush",flushId:z,token:x.current}),z}}},UV=e=>({apmSpecBuckets:g.useMemo(()=>{const t=new Map,n=new Map((e.skillOptions||[]).map(i=>[i.id,i])),r=new Map,a=(i,o)=>{if(r.has(o))return r.get(o);const s=n.get(o);let l=!1;return s&&typeof s.autoAttack=="boolean"?l=s.autoAttack:l=YU(i),r.set(o,l),l};return(e.players||[]).forEach(i=>{const o=(i==null?void 0:i.profession)||"Unknown";let s=t.get(o);s||(s={profession:o,players:[],playerRows:[],totalActiveSeconds:0,totalCasts:0,totalAutoCasts:0,skills:[],skillMap:new Map},t.set(o,s)),s.players.push(i);const l=Number((i==null?void 0:i.totalActiveSeconds)||0),u=Number.isFinite(l)&&l>0?l:0;s.totalActiveSeconds+=u;let d=0,f=0;const p=i&&typeof i.skillTotals=="object"&&i.skillTotals!==null?i.skillTotals:{};Object.entries(p).forEach(([S,j])=>{const N=Number(j);if(!Number.isFinite(N)||N<=0)return;const A=n.get(S),P=(A==null?void 0:A.name)||S,B=A==null?void 0:A.icon,D=a(P,S);d+=N,D&&(f+=N);let I=s.skillMap.get(S);I||(I={id:S,name:P,icon:B,totalCasts:0,playerCounts:new Map},s.skillMap.set(S,I)),!I.icon&&B&&(I.icon=B),I.totalCasts+=N;const O=(i==null?void 0:i.key)||`${(i==null?void 0:i.account)||"Unknown"}|${o}`;I.playerCounts.set(O,N)}),s.totalCasts+=d,s.totalAutoCasts+=f;const m=u/60,h=m>0?d/m:0,v=Math.max(0,d-f),b=m>0?v/m:0,y=u>0?d/u:0,x=u>0?v/u:0,w={key:(i==null?void 0:i.key)||`${(i==null?void 0:i.account)||"Unknown"}|${o}`,account:(i==null?void 0:i.account)||"Unknown",displayName:(i==null?void 0:i.displayName)||(i==null?void 0:i.account)||"Unknown",profession:o,professionList:Array.isArray(i==null?void 0:i.professionList)?i.professionList:[o],logs:Number((i==null?void 0:i.logs)||0),totalActiveSeconds:u,totalCasts:d,totalAutoCasts:f,apm:h,apmNoAuto:b,aps:y,apsNoAuto:x};s.playerRows.push(w)}),t.forEach(i=>{i.playerRows.sort((u,d)=>d.apm-u.apm);const o=Number(i.totalActiveSeconds||0),s=o>0?o/60:0,l=Math.max(0,Number(i.totalCasts||0)-Number(i.totalAutoCasts||0));i.totalApm=s>0?Number(i.totalCasts||0)/s:0,i.totalApmNoAuto=s>0?l/s:0,i.totalAps=o>0?Number(i.totalCasts||0)/o:0,i.totalApsNoAuto=o>0?l/o:0,i.skills=Array.from(i.skillMap.values()).map(u=>{const d=i.playerRows.map(h=>{var v;const b=Number(((v=u.playerCounts)==null?void 0:v.get(h.key))||0);if(!Number.isFinite(b)||b<=0)return null;const y=Number(h.totalActiveSeconds||0),x=y>0?b/(y/60):0,w=y>0?b/y:0;return{...h,count:b,apm:x,aps:w}}).filter(Boolean).sort((h,v)=>v.apm-h.apm||String(h.displayName||"").localeCompare(String(v.displayName||""))),f=Number(u.totalCasts||0),p=o>0?f/o:0,m=s>0?f/s:0;return{...u,playerRows:d,totalCasts:f,totalCastsPerSecond:p,totalApm:m}}).sort((u,d)=>d.totalCasts-u.totalCasts)}),Array.from(t.values()).sort((i,o)=>i.profession.localeCompare(o.profession))},[e])}),VV=({skillUsageData:e,selectedSkillId:t,selectedPlayers:n,skillUsageView:r})=>{const a=g.useMemo(()=>{const d=new Map;return e.players.forEach(f=>d.set(f.key,f)),d},[e.players]),i=g.useMemo(()=>{const d=new Map;if(!t)return d;const f=r==="perSecond";return e.players.forEach(p=>{const m=p.skillTotals[t]||0;if(m===0)return;let h=m;if(f){const v=p.totalActiveSeconds||1;h=v>0?m/v:0}d.set(p.key,h)}),d},[e.players,t,r]),o=g.useMemo(()=>t?Array.from(i.entries()).map(([d,f])=>{const p=a.get(d);return{key:d,name:(p==null?void 0:p.displayName)||d,profession:(p==null?void 0:p.profession)||"Unknown",value:f}}).sort((d,f)=>f.value-d.value):[],[i,a,t]),{chartData:s,maxY:l}=g.useMemo(()=>{if(!t)return{chartData:[],maxY:0};let d=0;const f=r==="perSecond";return{chartData:e.logRecords.map((p,m)=>{const h=p.skillEntries[t];if(!h)return null;const v={index:m,name:p.label,shortLabel:p.label,fullLabel:p.label,timestamp:p.timestamp};let b=!1,y=!1;if(Object.entries(h.players).forEach(([x,w])=>{var S;if(n.size>0&&!n.has(x))return;let j=w;if(f){const N=((S=p.playerActiveSeconds)==null?void 0:S[x])||0;j=N>0?w/N:0}v[x]=j,j>d&&(d=j),b=!0,y=!0}),n.size>0){if(!y)return null}else if(!b)return null;return n.forEach(x=>{v[x]===void 0&&(v[x]=0)}),v}).filter(p=>p!==null),maxY:d}},[e.logRecords,t,n,r]),u=g.useMemo(()=>{const d={};return e.players.forEach(f=>{const p=f.profession||"Unknown";d[p]||(d[p]=[]),d[p].push(f)}),Object.entries(d).map(([f,p])=>({profession:f,players:p.sort((m,h)=>m.displayName.localeCompare(h.displayName))})).sort((f,p)=>f.profession.localeCompare(p.profession))},[e.players]);return{playerMapByKey:a,playerTotalsForSkill:i,skillBarData:o,skillChartData:s,skillChartMaxY:l,groupedSkillUsagePlayers:u}};function WO(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=WO(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Tn(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=WO(e))&&(r&&(r+=" "),r+=t);return r}var WV=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Tk(e){if(typeof e!="string")return!1;var t=WV;return t.includes(e)}var qV=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],HV=new Set(qV);function qO(e){return typeof e!="string"?!1:HV.has(e)}function HO(e){return typeof e=="string"&&e.startsWith("data-")}function ao(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(qO(n)||HO(n))&&(t[n]=e[n]);return t}function yd(e){if(e==null)return null;if(g.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return ao(t)}return typeof e=="object"&&!Array.isArray(e)?ao(e):null}function Ua(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(qO(n)||HO(n)||Tk(n))&&(t[n]=e[n]);return t}function KV(e){return e==null?null:g.isValidElement(e)?Ua(e.props):typeof e=="object"&&!Array.isArray(e)?Ua(e):null}var GV=["children","width","height","viewBox","className","style","title","desc"];function Jx(){return Jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jx.apply(null,arguments)}function YV(e,t){if(e==null)return{};var n,r,a=JV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function JV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ok=g.forwardRef((e,t)=>{var{children:n,width:r,height:a,viewBox:i,className:o,style:s,title:l,desc:u}=e,d=YV(e,GV),f=i||{width:r,height:a,x:0,y:0},p=Tn("recharts-surface",o);return g.createElement("svg",Jx({},Ua(d),{className:p,width:r,height:a,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),g.createElement("title",null,l),g.createElement("desc",null,u),n)}),ZV=["children","className"];function Zx(){return Zx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zx.apply(null,arguments)}function QV(e,t){if(e==null)return{};var n,r,a=XV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function XV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Za=g.forwardRef((e,t)=>{var{children:n,className:r}=e,a=QV(e,ZV),i=Tn("recharts-layer",r);return g.createElement("g",Zx({className:i},Ua(a),{ref:t}),n)}),KO=g.createContext(null),e7=()=>g.useContext(KO);function ar(e){return function(){return e}}const GO=Math.cos,Pg=Math.sin,Lo=Math.sqrt,Tg=Math.PI,iy=2*Tg,Qx=Math.PI,Xx=2*Qx,jc=1e-6,t7=Xx-jc;function YO(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function n7(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return YO;const n=10**t;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class r7{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?YO:n7(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,i,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,r,a,i){if(t=+t,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,l=r-t,u=a-n,d=o-t,f=s-n,p=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>jc)if(!(Math.abs(f*l-u*d)>jc)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-o,h=a-s,v=l*l+u*u,b=m*m+h*h,y=Math.sqrt(v),x=Math.sqrt(p),w=i*Math.tan((Qx-Math.acos((v+p-b)/(2*y*x)))/2),S=w/x,j=w/y;Math.abs(S-1)>jc&&this._append`L${t+S*d},${n+S*f}`,this._append`A${i},${i},0,0,${+(f*m>d*h)},${this._x1=t+j*l},${this._y1=n+j*u}`}}arc(t,n,r,a,i,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(a),l=r*Math.sin(a),u=t+s,d=n+l,f=1^o,p=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>jc||Math.abs(this._y1-d)>jc)&&this._append`L${u},${d}`,r&&(p<0&&(p=p%Xx+Xx),p>t7?this._append`A${r},${r},0,1,${f},${t-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:p>jc&&this._append`A${r},${r},0,${+(p>=Qx)},${f},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function Ik(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new r7(t)}function _k(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function JO(e){this._context=e}JO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function oy(e){return new JO(e)}function ZO(e){return e[0]}function QO(e){return e[1]}function XO(e,t){var n=ar(!0),r=null,a=oy,i=null,o=Ik(s);e=typeof e=="function"?e:e===void 0?ZO:ar(e),t=typeof t=="function"?t:t===void 0?QO:ar(t);function s(l){var u,d=(l=_k(l)).length,f,p=!1,m;for(r==null&&(i=a(m=o())),u=0;u<=d;++u)!(u<d&&n(f=l[u],u,l))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(f,u,l),+t(f,u,l));if(m)return i=null,m+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:ar(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:ar(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:ar(!!l),s):n},s.curve=function(l){return arguments.length?(a=l,r!=null&&(i=a(r)),s):a},s.context=function(l){return arguments.length?(l==null?r=i=null:i=a(r=l),s):r},s}function sh(e,t,n){var r=null,a=ar(!0),i=null,o=oy,s=null,l=Ik(u);e=typeof e=="function"?e:e===void 0?ZO:ar(+e),t=typeof t=="function"?t:ar(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?QO:ar(+n);function u(f){var p,m,h,v=(f=_k(f)).length,b,y=!1,x,w=new Array(v),S=new Array(v);for(i==null&&(s=o(x=l())),p=0;p<=v;++p){if(!(p<v&&a(b=f[p],p,f))===y)if(y=!y)m=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=p-1;h>=m;--h)s.point(w[h],S[h]);s.lineEnd(),s.areaEnd()}y&&(w[p]=+e(b,p,f),S[p]=+t(b,p,f),s.point(r?+r(b,p,f):w[p],n?+n(b,p,f):S[p]))}if(x)return s=null,x+""||null}function d(){return XO().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:ar(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:ar(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ar(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:ar(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:ar(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ar(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(r).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:ar(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(s=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=s=null:s=o(i=f),u):i},u}class e3{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function a7(e){return new e3(e,!0)}function i7(e){return new e3(e,!1)}const Lk={draw(e,t){const n=Lo(t/Tg);e.moveTo(n,0),e.arc(0,0,n,0,iy)}},o7={draw(e,t){const n=Lo(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},t3=Lo(1/3),s7=t3*2,l7={draw(e,t){const n=Lo(t/s7),r=n*t3;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},c7={draw(e,t){const n=Lo(t),r=-n/2;e.rect(r,r,n,n)}},u7=.8908130915292852,n3=Pg(Tg/10)/Pg(7*Tg/10),d7=Pg(iy/10)*n3,f7=-GO(iy/10)*n3,p7={draw(e,t){const n=Lo(t*u7),r=d7*n,a=f7*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){const o=iy*i/5,s=GO(o),l=Pg(o);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*a,l*r+s*a)}e.closePath()}},eb=Lo(3),m7={draw(e,t){const n=-Lo(t/(eb*3));e.moveTo(0,n*2),e.lineTo(-eb*n,-n),e.lineTo(eb*n,-n),e.closePath()}},Vi=-.5,Wi=Lo(3)/2,ew=1/Lo(12),h7=(ew/2+1)*3,g7={draw(e,t){const n=Lo(t/h7),r=n/2,a=n*ew,i=r,o=n*ew+n,s=-i,l=o;e.moveTo(r,a),e.lineTo(i,o),e.lineTo(s,l),e.lineTo(Vi*r-Wi*a,Wi*r+Vi*a),e.lineTo(Vi*i-Wi*o,Wi*i+Vi*o),e.lineTo(Vi*s-Wi*l,Wi*s+Vi*l),e.lineTo(Vi*r+Wi*a,Vi*a-Wi*r),e.lineTo(Vi*i+Wi*o,Vi*o-Wi*i),e.lineTo(Vi*s+Wi*l,Vi*l-Wi*s),e.closePath()}};function y7(e,t){let n=null,r=Ik(a);e=typeof e=="function"?e:ar(e||Lk),t=typeof t=="function"?t:ar(t===void 0?64:+t);function a(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:ar(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:ar(+i),a):t},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function Og(){}function Ig(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function r3(e){this._context=e}r3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ig(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ig(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function v7(e){return new r3(e)}function a3(e){this._context=e}a3.prototype={areaStart:Og,areaEnd:Og,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ig(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function b7(e){return new a3(e)}function i3(e){this._context=e}i3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ig(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function x7(e){return new i3(e)}function o3(e){this._context=e}o3.prototype={areaStart:Og,areaEnd:Og,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function w7(e){return new o3(e)}function fC(e){return e<0?-1:1}function pC(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),s=(i*a+o*r)/(r+a);return(fC(i)+fC(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function mC(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function tb(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-r)/3;e._context.bezierCurveTo(r+s,a+s*t,i-s,o-s*n,i,o)}function _g(e){this._context=e}_g.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:tb(this,this._t0,mC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,tb(this,mC(this,n=pC(this,e,t)),n);break;default:tb(this,this._t0,n=pC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function s3(e){this._context=new l3(e)}(s3.prototype=Object.create(_g.prototype)).point=function(e,t){_g.prototype.point.call(this,t,e)};function l3(e){this._context=e}l3.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}};function k7(e){return new _g(e)}function S7(e){return new s3(e)}function c3(e){this._context=e}c3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=hC(e),a=hC(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function hC(e){var t,n=e.length-1,r,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function N7(e){return new c3(e)}function sy(e,t){this._context=e,this._t=t}sy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function j7(e){return new sy(e,.5)}function C7(e){return new sy(e,0)}function A7(e){return new sy(e,1)}function eu(e,t){if((o=e.length)>1)for(var n=1,r,a,i=e[t[0]],o,s=i.length;n<o;++n)for(a=i,i=e[t[n]],r=0;r<s;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function tw(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function M7(e,t){return e[t]}function E7(e){const t=[];return t.key=e,t}function D7(){var e=ar([]),t=tw,n=eu,r=M7;function a(i){var o=Array.from(e.apply(this,arguments),E7),s,l=o.length,u=-1,d;for(const f of i)for(s=0,++u;s<l;++s)(o[s][u]=[0,+r(f,o[s].key,u,i)]).data=f;for(s=0,d=_k(t(o));s<l;++s)o[d[s]].index=s;return n(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:ar(Array.from(i)),a):e},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:ar(+i),a):r},a.order=function(i){return arguments.length?(t=i==null?tw:typeof i=="function"?i:ar(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(n=i??eu,a):n},a}function P7(e,t){if((r=e.length)>0){for(var n,r,a=0,i=e[0].length,o;a<i;++a){for(o=n=0;n<r;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<r;++n)e[n][a][1]/=o}eu(e,t)}}function T7(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,i=r.length;n<i;++n){for(var o=0,s=0;o<a;++o)s+=e[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}eu(e,t)}}function O7(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,i,o;r<i;++r){for(var s=0,l=0,u=0;s<o;++s){for(var d=e[t[s]],f=d[r][1]||0,p=d[r-1][1]||0,m=(f-p)/2,h=0;h<s;++h){var v=e[t[h]],b=v[r][1]||0,y=v[r-1][1]||0;m+=b-y}l+=f,u+=m*f}a[r-1][1]+=a[r-1][0]=n,l&&(n-=u/l)}a[r-1][1]+=a[r-1][0]=n,eu(e,t)}}var ly={},u3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(u3);var Fk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Fk);var cy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(cy);var uy={},d3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(d3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d3,n=cy;function r(a){if(Array.isArray(a))return a.map(n.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],o=a.length;if(o===0)return i;let s=0,l="",u="",d=!1;for(a.charCodeAt(0)===46&&(i.push(""),s++);s<o;){const f=a[s];u?f==="\\"&&s+1<o?(s++,l+=a[s]):f===u?u="":l+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,i.push(l),l=""):l+=f:f==="["?(d=!0,l&&(i.push(l),l="")):f==="."?l&&(i.push(l),l=""):l+=f,s++}return l&&i.push(l),i}e.toPath=r})(uy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u3,n=Fk,r=cy,a=uy;function i(s,l,u){if(s==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const d=s[l];return d===void 0?n.isDeepKey(l)?i(s,a.toPath(l),u):u:d}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const d=s[l];return d===void 0?u:d}default:{if(Array.isArray(l))return o(s,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const d=s[l];return d===void 0?u:d}}}function o(s,l,u){if(l.length===0)return u;let d=s;for(let f=0;f<l.length;f++){if(d==null||t.isUnsafeProperty(l[f]))return u;d=d[l[f]]}return d===void 0?u:d}e.get=i})(ly);var I7=ly.get;const tu=_o(I7);var _7=4;function Ol(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_7,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function Cr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((a,i,o)=>{var s=n[o-1];return typeof s=="string"?a+s+i:s!==void 0?a+Ol(s)+i:a+i},"")}var $a=e=>e===0?0:e>0?1:-1,io=e=>typeof e=="number"&&e!=+e,qs=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Tt=e=>(typeof e=="number"||e instanceof Number)&&!io(e),oo=e=>Tt(e)||typeof e=="string",L7=0,vp=e=>{var t=++L7;return"".concat(e||"").concat(t)},to=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Tt(e)&&typeof e!="string")return n;var a;if(qs(e)){if(t==null)return n;var i=e.indexOf("%");a=t*parseFloat(e.slice(0,i))/100}else a=+e;return io(a)&&(a=n),r&&t!=null&&a>t&&(a=t),a},f3=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function Ra(e,t,n){return Tt(e)&&Tt(t)?Ol(e+n*(t-e)):t}function p3(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):tu(r,t))===n)}var Xr=e=>e===null||typeof e>"u",Wp=e=>Xr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function F7(e){return e!=null}function qp(){}var R7=["type","size","sizeType"];function nw(){return nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nw.apply(null,arguments)}function gC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function yC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gC(Object(n),!0).forEach(function(r){$7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $7(e,t,n){return(t=B7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B7(e){var t=z7(e,"string");return typeof t=="symbol"?t:t+""}function z7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function U7(e,t){if(e==null)return{};var n,r,a=V7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function V7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var m3={symbolCircle:Lk,symbolCross:o7,symbolDiamond:l7,symbolSquare:c7,symbolStar:p7,symbolTriangle:m7,symbolWye:g7},W7=Math.PI/180,q7=e=>{var t="symbol".concat(Wp(e));return m3[t]||Lk},H7=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*W7;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},K7=(e,t)=>{m3["symbol".concat(Wp(e))]=t},Rk=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,a=U7(e,R7),i=yC(yC({},a),{},{type:t,size:n,sizeType:r}),o="circle";typeof t=="string"&&(o=t);var s=()=>{var p=q7(o),m=y7().type(p).size(H7(n,r,o)),h=m();if(h!==null)return h},{className:l,cx:u,cy:d}=i,f=Ua(i);return Tt(u)&&Tt(d)&&Tt(n)?g.createElement("path",nw({},f,{className:Tn("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(d,")"),d:s()})):null};Rk.registerSymbol=K7;var h3=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,$k=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(g.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{Tk(a)&&(r[a]=i=>n[a](n,i))}),r},G7=(e,t,n)=>r=>(e(t,n,r),null),Bk=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(a=>{var i=e[a];Tk(a)&&typeof i=="function"&&(r||(r={}),r[a]=G7(i,t,n))}),r};function vC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Y7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vC(Object(n),!0).forEach(function(r){J7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function J7(e,t,n){return(t=Z7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z7(e){var t=Q7(e,"string");return typeof t=="symbol"?t:t+""}function Q7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qr(e,t){var n=Y7({},e),r=t,a=Object.keys(t),i=a.reduce((o,s)=>(o[s]===void 0&&r[s]!==void 0&&(o[s]=r[s]),o),n);return i}function Lg(){return Lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lg.apply(null,arguments)}function bC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function X7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bC(Object(n),!0).forEach(function(r){e9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function e9(e,t,n){return(t=t9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t9(e){var t=n9(e,"string");return typeof t=="symbol"?t:t+""}function n9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ki=32,r9={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function a9(e){var{data:t,iconType:n,inactiveColor:r}=e,a=Ki/2,i=Ki/6,o=Ki/3,s=t.inactive?r:t.color,l=n??t.type;if(l==="none")return null;if(l==="plainline"){var u;return g.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:a,x2:Ki,y2:a,className:"recharts-legend-icon"})}if(l==="line")return g.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(Ki,"M").concat(2*o,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(l==="rect")return g.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(Ki/8,"h").concat(Ki,"v").concat(Ki*3/4,"h").concat(-Ki,"z"),className:"recharts-legend-icon"});if(g.isValidElement(t.legendIcon)){var d=X7({},t);return delete d.legendIcon,g.cloneElement(t.legendIcon,d)}return g.createElement(Rk,{fill:s,cx:a,cy:a,size:Ki,sizeType:"diameter",type:l})}function i9(e){var{payload:t,iconSize:n,layout:r,formatter:a,inactiveColor:i,iconType:o}=e,s={x:0,y:0,width:Ki,height:Ki},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var p=d.formatter||a,m=Tn({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var h=d.inactive?i:d.color,v=p?p(d.value,d,f):d.value;return g.createElement("li",Lg({className:m,style:l,key:"legend-item-".concat(f)},Bk(e,d,f)),g.createElement(Ok,{width:n,height:n,viewBox:s,style:u,"aria-label":"".concat(v," legend icon")},g.createElement(a9,{data:d,iconType:o,inactiveColor:i})),g.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},v))})}var o9=e=>{var t=qr(e,r9),{payload:n,layout:r,align:a}=t;if(!n||!n.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?a:"left"};return g.createElement("ul",{className:"recharts-default-legend",style:i},g.createElement(i9,Lg({},t,{payload:n})))},g3={},y3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const a=new Map;for(let i=0;i<n.length;i++){const o=n[i],s=r(o,i,n);a.has(s)||a.set(s,o)}return Array.from(a.values())}e.uniqBy=t})(y3);var v3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...a){return n.apply(this,a.slice(0,r))}}e.ary=t})(v3);var zk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(zk);var b3={},dy={},x3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(x3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x3;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(dy);var w3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(w3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dy,n=w3;function r(a){return n.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=r})(b3);var k3={},S3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ly;function n(r){return function(a){return t.get(a,r)}}e.property=n})(S3);var N3={},Uk={},j3={},Vk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(Vk);var Wk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(Wk);var qk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(qk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vk,n=Wk,r=qk;function a(d,f,p){return typeof p!="function"?a(d,f,()=>{}):i(d,f,function m(h,v,b,y,x,w){const S=p(h,v,b,y,x,w);return S!==void 0?!!S:i(h,v,m,w)},new Map)}function i(d,f,p,m){if(f===d)return!0;switch(typeof f){case"object":return o(d,f,p,m);case"function":return Object.keys(f).length>0?i(d,{...f},p,m):r.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:r.isEqualsSameValueZero(d,f)}}function o(d,f,p,m){if(f==null)return!0;if(Array.isArray(f))return l(d,f,p,m);if(f instanceof Map)return s(d,f,p,m);if(f instanceof Set)return u(d,f,p,m);const h=Object.keys(f);if(d==null||n.isPrimitive(d))return h.length===0;if(h.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let v=0;v<h.length;v++){const b=h[v];if(!n.isPrimitive(d)&&!(b in d)||f[b]===void 0&&d[b]!==void 0||f[b]===null&&d[b]!==null||!p(d[b],f[b],b,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function s(d,f,p,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[h,v]of f.entries()){const b=d.get(h);if(p(b,v,h,d,f,m)===!1)return!1}return!0}function l(d,f,p,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const h=new Set;for(let v=0;v<f.length;v++){const b=f[v];let y=!1;for(let x=0;x<d.length;x++){if(h.has(x))continue;const w=d[x];let S=!1;if(p(w,b,v,d,f,m)&&(S=!0),S){h.add(x),y=!0;break}}if(!y)return!1}return!0}function u(d,f,p,m){return f.size===0?!0:d instanceof Set?l([...d],[...f],p,m):!1}e.isMatchWith=a,e.isSetMatch=u})(j3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j3;function n(r,a){return t.isMatchWith(r,a,()=>{})}e.isMatch=n})(Uk);var C3={},Hk={},A3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(A3);var fy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(fy);var Kk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",s="[object Date]",l="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",p="[object ArrayBuffer]",m="[object Object]",h="[object Error]",v="[object DataView]",b="[object Uint8Array]",y="[object Uint8ClampedArray]",x="[object Uint16Array]",w="[object Uint32Array]",S="[object BigUint64Array]",j="[object Int8Array]",N="[object Int16Array]",A="[object Int32Array]",P="[object BigInt64Array]",B="[object Float32Array]",D="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=p,e.arrayTag=d,e.bigInt64ArrayTag=P,e.bigUint64ArrayTag=S,e.booleanTag=a,e.dataViewTag=v,e.dateTag=s,e.errorTag=h,e.float32ArrayTag=B,e.float64ArrayTag=D,e.functionTag=f,e.int16ArrayTag=N,e.int32ArrayTag=A,e.int8ArrayTag=j,e.mapTag=l,e.numberTag=r,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=x,e.uint32ArrayTag=w,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=y})(Kk);var M3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(M3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A3,n=fy,r=Kk,a=Wk,i=M3;function o(d,f){return s(d,void 0,d,new Map,f)}function s(d,f,p,m=new Map,h=void 0){const v=h==null?void 0:h(d,f,p,m);if(v!==void 0)return v;if(a.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const b=new Array(d.length);m.set(d,b);for(let y=0;y<d.length;y++)b[y]=s(d[y],y,p,m,h);return Object.hasOwn(d,"index")&&(b.index=d.index),Object.hasOwn(d,"input")&&(b.input=d.input),b}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const b=new RegExp(d.source,d.flags);return b.lastIndex=d.lastIndex,b}if(d instanceof Map){const b=new Map;m.set(d,b);for(const[y,x]of d)b.set(y,s(x,y,p,m,h));return b}if(d instanceof Set){const b=new Set;m.set(d,b);for(const y of d)b.add(s(y,void 0,p,m,h));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const b=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,b);for(let y=0;y<d.length;y++)b[y]=s(d[y],y,p,m,h);return b}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const b=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,b),l(b,d,p,m,h),b}if(typeof File<"u"&&d instanceof File){const b=new File([d],d.name,{type:d.type});return m.set(d,b),l(b,d,p,m,h),b}if(typeof Blob<"u"&&d instanceof Blob){const b=new Blob([d],{type:d.type});return m.set(d,b),l(b,d,p,m,h),b}if(d instanceof Error){const b=new d.constructor;return m.set(d,b),b.message=d.message,b.name=d.name,b.stack=d.stack,b.cause=d.cause,l(b,d,p,m,h),b}if(d instanceof Boolean){const b=new Boolean(d.valueOf());return m.set(d,b),l(b,d,p,m,h),b}if(d instanceof Number){const b=new Number(d.valueOf());return m.set(d,b),l(b,d,p,m,h),b}if(d instanceof String){const b=new String(d.valueOf());return m.set(d,b),l(b,d,p,m,h),b}if(typeof d=="object"&&u(d)){const b=Object.create(Object.getPrototypeOf(d));return m.set(d,b),l(b,d,p,m,h),b}return d}function l(d,f,p=d,m,h){const v=[...Object.keys(f),...t.getSymbols(f)];for(let b=0;b<v.length;b++){const y=v[b],x=Object.getOwnPropertyDescriptor(d,y);(x==null||x.writable)&&(d[y]=s(f[y],y,p,m,h))}}function u(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=s,e.copyProperties=l})(Hk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hk;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(C3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uk,n=C3;function r(a){return a=n.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=r})(N3);var E3={},D3={},P3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hk,n=fy,r=Kk;function a(i,o){return t.cloneDeepWith(i,(s,l,u,d)=>{const f=o==null?void 0:o(s,l,u,d);if(f!==void 0)return f;if(typeof i=="object"){if(n.getTag(i)===r.objectTag&&typeof i.constructor!="function"){const p={};return d.set(i,p),t.copyProperties(p,i,u,d),p}switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(p,i),p}case r.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}}})}e.cloneDeepWith=a})(P3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P3;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(D3);var T3={},Gk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Gk);var O3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fy;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(O3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fk,n=Gk,r=O3,a=uy;function i(o,s){let l;if(Array.isArray(s)?l=s:typeof s=="string"&&t.isDeepKey(s)&&(o==null?void 0:o[s])==null?l=a.toPath(s):l=[s],l.length===0)return!1;let u=o;for(let d=0;d<l.length;d++){const f=l[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=i})(T3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uk,n=cy,r=D3,a=ly,i=T3;function o(s,l){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=n.toKey(s);break}}return l=r.cloneDeep(l),function(u){const d=a.get(u,s);return d===void 0?i.has(u,s):l===void 0?d===void 0:t.isMatch(d,l)}}e.matchesProperty=o})(E3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zk,n=S3,r=N3,a=E3;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=i})(k3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y3,n=v3,r=zk,a=b3,i=k3;function o(s,l=r.identity){return a.isArrayLikeObject(s)?t.uniqBy(Array.from(s),n.ary(i.iteratee(l),1)):[]}e.uniqBy=o})(g3);var s9=g3.uniqBy;const xC=_o(s9);function I3(e,t,n){return t===!0?xC(e,n):typeof t=="function"?xC(e,t):e}var _3={exports:{}},L3={},F3={exports:{}},R3={};/**
* @license React
* use-sync-external-store-shim.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var vd=g;function l9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var c9=typeof Object.is=="function"?Object.is:l9,u9=vd.useState,d9=vd.useEffect,f9=vd.useLayoutEffect,p9=vd.useDebugValue;function m9(e,t){var n=t(),r=u9({inst:{value:n,getSnapshot:t}}),a=r[0].inst,i=r[1];return f9(function(){a.value=n,a.getSnapshot=t,nb(a)&&i({inst:a})},[e,n,t]),d9(function(){return nb(a)&&i({inst:a}),e(function(){nb(a)&&i({inst:a})})},[e]),p9(n),n}function nb(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!c9(e,n)}catch{return!0}}function h9(e,t){return t()}var g9=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h9:m9;R3.useSyncExternalStore=vd.useSyncExternalStore!==void 0?vd.useSyncExternalStore:g9;F3.exports=R3;var y9=F3.exports;/**
* @license React
* use-sync-external-store-shim/with-selector.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var py=g,v9=y9;function b9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var x9=typeof Object.is=="function"?Object.is:b9,w9=v9.useSyncExternalStore,k9=py.useRef,S9=py.useEffect,N9=py.useMemo,j9=py.useDebugValue;L3.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var i=k9(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=N9(function(){function l(m){if(!u){if(u=!0,d=m,m=r(m),a!==void 0&&o.hasValue){var h=o.value;if(a(h,m))return f=h}return f=m}if(h=f,x9(d,m))return h;var v=r(m);return a!==void 0&&a(h,v)?(d=m,h):(d=m,f=v)}var u=!1,d,f,p=n===void 0?null:n;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,n,r,a]);var s=w9(e,i[0],i[1]);return S9(function(){o.hasValue=!0,o.value=s},[s]),j9(s),s};_3.exports=L3;var C9=_3.exports,Yk=g.createContext(null),A9=e=>e,Yn=()=>{var e=g.useContext(Yk);return e?e.store.dispatch:A9},Kh=()=>{},M9=()=>Kh,E9=(e,t)=>e===t;function Mt(e){var t=g.useContext(Yk);return C9.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:M9,t?t.store.getState:Kh,t?t.store.getState:Kh,t?e:Kh,E9)}function D9(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function P9(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function T9(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var wC=e=>Array.isArray(e)?e:[e];function O9(e){const t=Array.isArray(e[0])?e[0]:e;return T9(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function I9(e,t){const n=[],{length:r}=e;for(let a=0;a<r;a++)n.push(e[a].apply(null,t));return n}var _9=class{constructor(e){this.value=e}deref(){return this.value}},L9=typeof WeakRef<"u"?WeakRef:_9,F9=0,kC=1;function lh(){return{s:F9,v:void 0,o:null,p:null}}function $3(e,t={}){let n=lh();const{resultEqualityCheck:r}=t;let a,i=0;function o(){var s;let l=n;const{length:u}=arguments;for(let p=0,m=u;p<m;p++){const h=arguments[p];if(typeof h=="function"||typeof h=="object"&&h!==null){let v=l.o;v===null&&(l.o=v=new WeakMap);const b=v.get(h);b===void 0?(l=lh(),v.set(h,l)):l=b}else{let v=l.p;v===null&&(l.p=v=new Map);const b=v.get(h);b===void 0?(l=lh(),v.set(h,l)):l=b}}const d=l;let f;if(l.s===kC)f=l.v;else if(f=e.apply(null,arguments),i++,r){const p=((s=a==null?void 0:a.deref)==null?void 0:s.call(a))??a;p!=null&&r(p,f)&&(f=p,i!==0&&i--),a=typeof f=="object"&&f!==null||typeof f=="function"?new L9(f):f}return d.s=kC,d.v=f,f}return o.clearCache=()=>{n=lh(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function R9(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...a)=>{let i=0,o=0,s,l={},u=a.pop();typeof u=="object"&&(l=u,u=a.pop()),D9(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...n,...l},{memoize:f,memoizeOptions:p=[],argsMemoize:m=$3,argsMemoizeOptions:h=[]}=d,v=wC(p),b=wC(h),y=O9(a),x=f(function(){return i++,u.apply(null,arguments)},...v),w=m(function(){o++;const S=I9(y,arguments);return s=x.apply(null,S),s},...b);return Object.assign(w,{resultFunc:u,memoizedResultFunc:x,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var ve=R9($3),$9=Object.assign((e,t=ve)=>{P9(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((i,o,s)=>(i[n[s]]=o,i),{}))},{withTypes:()=>$9}),B3={},z3={},U3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,i)=>{if(r!==a){const o=t(r),s=t(a);if(o===s&&o===0){if(r<a)return i==="desc"?1:-1;if(r>a)return i==="desc"?-1:1}return i==="desc"?s-o:o-s}return 0};e.compareValues=n})(U3);var V3={},Jk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Jk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jk,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(r.test(i)||!n.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(V3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=U3,n=V3,r=uy;function a(i,o,s,l){if(i==null)return[];s=l?void 0:s,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(p=>String(p));const u=(p,m)=>{let h=p;for(let v=0;v<m.length&&h!=null;++v)h=h[m[v]];return h},d=(p,m)=>m==null||p==null?m:typeof p=="object"&&"key"in p?Object.hasOwn(m,p.key)?m[p.key]:u(m,p.path):typeof p=="function"?p(m):Array.isArray(p)?u(m,p):typeof m=="object"?m[p]:m,f=o.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return i.map(p=>({original:p,criteria:f.map(m=>d(m,p))})).slice().sort((p,m)=>{for(let h=0;h<f.length;h++){const v=t.compareValues(p.criteria[h],m.criteria[h],s[h]);if(v!==0)return v}return 0}).map(p=>p.original)}e.orderBy=a})(z3);var W3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const a=[],i=Math.floor(r),o=(s,l)=>{for(let u=0;u<s.length;u++){const d=s[u];Array.isArray(d)&&l<i?o(d,l+1):a.push(d)}};return o(n,0),a}e.flatten=t})(W3);var Zk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gk,n=dy,r=Vk,a=qk;function i(o,s,l){return r.isObject(l)&&(typeof s=="number"&&n.isArrayLike(l)&&t.isIndex(s)&&s<l.length||typeof s=="string"&&s in l)?a.isEqualsSameValueZero(l[s],o):!1}e.isIterateeCall=i})(Zk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z3,n=W3,r=Zk;function a(i,...o){const s=o.length;return s>1&&r.isIterateeCall(i,o[0],o[1])?o=[]:s>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,n.flatten(o),["asc"])}e.sortBy=a})(B3);var B9=B3.sortBy;const my=_o(B9);var q3=e=>e.legend.settings,z9=e=>e.legend.size,U9=e=>e.legend.payload,V9=ve([U9,q3],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?my(r,n):r});function W9(){return Mt(V9)}var ch=1;function H3(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=g.useState({height:0,left:0,top:0,width:0}),r=g.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>ch||Math.abs(o.left-t.left)>ch||Math.abs(o.top-t.top)>ch||Math.abs(o.width-t.width)>ch)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function wa(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var q9=typeof Symbol=="function"&&Symbol.observable||"@@observable",SC=q9,rb=()=>Math.random().toString(36).substring(7).split("").join("."),H9={INIT:`@@redux/INIT${rb()}`,REPLACE:`@@redux/REPLACE${rb()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${rb()}`},Fg=H9;function Qk(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function K3(e,t,n){if(typeof e!="function")throw new Error(wa(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(wa(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(wa(1));return n(K3)(e,t)}let r=e,a=t,i=new Map,o=i,s=0,l=!1;function u(){o===i&&(o=new Map,i.forEach((v,b)=>{o.set(b,v)}))}function d(){if(l)throw new Error(wa(3));return a}function f(v){if(typeof v!="function")throw new Error(wa(4));if(l)throw new Error(wa(5));let b=!0;u();const y=s++;return o.set(y,v),function(){if(b){if(l)throw new Error(wa(6));b=!1,u(),o.delete(y),i=null}}}function p(v){if(!Qk(v))throw new Error(wa(7));if(typeof v.type>"u")throw new Error(wa(8));if(typeof v.type!="string")throw new Error(wa(17));if(l)throw new Error(wa(9));try{l=!0,a=r(a,v)}finally{l=!1}return(i=o).forEach(b=>{b()}),v}function m(v){if(typeof v!="function")throw new Error(wa(10));r=v,p({type:Fg.REPLACE})}function h(){const v=f;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(wa(11));function y(){const x=b;x.next&&x.next(d())}return y(),{unsubscribe:v(y)}},[SC](){return this}}}return p({type:Fg.INIT}),{dispatch:p,subscribe:f,getState:d,replaceReducer:m,[SC]:h}}function K9(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Fg.INIT})>"u")throw new Error(wa(12));if(typeof n(void 0,{type:Fg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(wa(13))})}function G3(e){const t=Object.keys(e),n={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let a;try{K9(n)}catch(i){a=i}return function(i={},o){if(a)throw a;let s=!1;const l={};for(let u=0;u<r.length;u++){const d=r[u],f=n[d],p=i[d],m=f(p,o);if(typeof m>"u")throw o&&o.type,new Error(wa(14));l[d]=m,s=s||m!==p}return s=s||r.length!==Object.keys(i).length,s?l:i}}function Rg(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function G9(...e){return t=>(n,r)=>{const a=t(n,r);let i=()=>{throw new Error(wa(15))};const o={getState:a.getState,dispatch:(l,...u)=>i(l,...u)},s=e.map(l=>l(o));return i=Rg(...s)(a.dispatch),{...a,dispatch:i}}}function Y3(e){return Qk(e)&&"type"in e&&typeof e.type=="string"}var J3=Symbol.for("immer-nothing"),NC=Symbol.for("immer-draftable"),Qa=Symbol.for("immer-state");function xo(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Pi=Object,bd=Pi.getPrototypeOf,$g="constructor",hy="prototype",rw="configurable",Bg="enumerable",Gh="writable",bp="value",Hs=e=>!!e&&!!e[Qa];function Eo(e){var t;return e?Z3(e)||yy(e)||!!e[NC]||!!((t=e[$g])!=null&&t[NC])||vy(e)||by(e):!1}var Y9=Pi[hy][$g].toString(),jC=new WeakMap;function Z3(e){if(!e||!Xk(e))return!1;const t=bd(e);if(t===null||t===Pi[hy])return!0;const n=Pi.hasOwnProperty.call(t,$g)&&t[$g];if(n===Object)return!0;if(!Ou(n))return!1;let r=jC.get(n);return r===void 0&&(r=Function.toString.call(n),jC.set(n,r)),r===Y9}function gy(e,t,n=!0){Hp(e)===0?(n?Reflect.ownKeys(e):Pi.keys(e)).forEach(r=>{t(r,e[r],e)}):e.forEach((r,a)=>t(a,r,e))}function Hp(e){const t=e[Qa];return t?t.type_:yy(e)?1:vy(e)?2:by(e)?3:0}var CC=(e,t,n=Hp(e))=>n===2?e.has(t):Pi[hy].hasOwnProperty.call(e,t),aw=(e,t,n=Hp(e))=>n===2?e.get(t):e[t],zg=(e,t,n,r=Hp(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function J9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var yy=Array.isArray,vy=e=>e instanceof Map,by=e=>e instanceof Set,Xk=e=>typeof e=="object",Ou=e=>typeof e=="function",ab=e=>typeof e=="boolean";function Z9(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var As=e=>e.copy_||e.base_,eS=e=>e.modified_?e.copy_:e.base_;function iw(e,t){if(vy(e))return new Map(e);if(by(e))return new Set(e);if(yy(e))return Array[hy].slice.call(e);const n=Z3(e);if(t===!0||t==="class_only"&&!n){const r=Pi.getOwnPropertyDescriptors(e);delete r[Qa];let a=Reflect.ownKeys(r);for(let i=0;i<a.length;i++){const o=a[i],s=r[o];s[Gh]===!1&&(s[Gh]=!0,s[rw]=!0),(s.get||s.set)&&(r[o]={[rw]:!0,[Gh]:!0,[Bg]:s[Bg],[bp]:e[o]})}return Pi.create(bd(e),r)}else{const r=bd(e);if(r!==null&&n)return{...e};const a=Pi.create(r);return Pi.assign(a,e)}}function tS(e,t=!1){return xy(e)||Hs(e)||!Eo(e)||(Hp(e)>1&&Pi.defineProperties(e,{set:uh,add:uh,clear:uh,delete:uh}),Pi.freeze(e),t&&gy(e,(n,r)=>{tS(r,!0)},!1)),e}function Q9(){xo(2)}var uh={[bp]:Q9};function xy(e){return e===null||!Xk(e)?!0:Pi.isFrozen(e)}var Ug="MapSet",ow="Patches",AC="ArrayMethods",Q3={};function nu(e){const t=Q3[e];return t||xo(0,e),t}var MC=e=>!!Q3[e],xp,X3=()=>xp,X9=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:MC(Ug)?nu(Ug):void 0,arrayMethodsPlugin_:MC(AC)?nu(AC):void 0});function EC(e,t){t&&(e.patchPlugin_=nu(ow),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function sw(e){lw(e),e.drafts_.forEach(eW),e.drafts_=null}function lw(e){e===xp&&(xp=e.parent_)}var DC=e=>xp=X9(xp,e);function eW(e){const t=e[Qa];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function PC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Qa].modified_&&(sw(t),xo(4)),Eo(e)&&(e=TC(t,e));const{patchPlugin_:r}=t;r&&r.generateReplacementPatches_(n[Qa].base_,e,t)}else e=TC(t,n);return tW(t,e,!0),sw(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==J3?e:void 0}function TC(e,t){if(xy(t))return t;const n=t[Qa];if(!n)return Vg(t,e.handledSet_,e);if(!wy(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);n4(n,e)}return n.copy_}function tW(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&tS(t,n)}function e4(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var wy=(e,t)=>e.scope_===t,nW=[];function t4(e,t,n,r){const a=As(e),i=e.type_;if(r!==void 0&&aw(a,r,i)===t){zg(a,r,n,i);return}if(!e.draftLocations_){const s=e.draftLocations_=new Map;gy(a,(l,u)=>{if(Hs(u)){const d=s.get(u)||[];d.push(l),s.set(u,d)}})}const o=e.draftLocations_.get(t)??nW;for(const s of o)zg(a,s,n,i)}function rW(e,t,n){e.callbacks_.push(function(r){var a;const i=t;if(!i||!wy(i,r))return;(a=r.mapSetPlugin_)==null||a.fixSetContents(i);const o=eS(i);t4(e,i.draft_??i,o,n),n4(i,r)})}function n4(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:r}=t;if(r){const a=r.getPath(e);a&&r.generatePatches_(e,a,t)}e4(e)}}function aW(e,t,n){const{scope_:r}=e;if(Hs(n)){const a=n[Qa];wy(a,r)&&a.callbacks_.push(function(){Yh(e);const i=eS(a);t4(e,n,i,t)})}else Eo(n)&&e.callbacks_.push(function(){const a=As(e);e.type_===3?a.has(n)&&Vg(n,r.handledSet_,r):aw(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Vg(aw(e.copy_,t,e.type_),r.handledSet_,r)})}function Vg(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Hs(e)||t.has(e)||!Eo(e)||xy(e)||(t.add(e),gy(e,(r,a)=>{if(Hs(a)){const i=a[Qa];if(wy(i,n)){const o=eS(i);zg(e,r,o,e.type_),e4(i)}}else Eo(a)&&Vg(a,t,n)})),e}function iW(e,t){const n=yy(e),r={type_:n?1:0,scope_:t?t.scope_:X3(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=r,i=Wg;n&&(a=[r],i=wp);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return r.draft_=s,r.revoke_=o,[s,r]}var Wg={get(e,t){if(t===Qa)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const a=As(e);if(!CC(a,t,e.type_))return oW(e,a,t);const i=a[t];if(e.finalized_||!Eo(i)||r&&e.operationMethod&&n!=null&&n.isMutatingArrayMethod(e.operationMethod)&&Z9(t))return i;if(i===ib(e.base_,t)){Yh(e);const o=e.type_===1?+t:t,s=uw(e.scope_,i,e,o);return e.copy_[o]=s}return i},has(e,t){return t in As(e)},ownKeys(e){return Reflect.ownKeys(As(e))},set(e,t,n){const r=r4(As(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=ib(As(e),t),i=a==null?void 0:a[Qa];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(J9(n,a)&&(n!==void 0||CC(e.base_,t,e.type_)))return!0;Yh(e),cw(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),aW(e,t,n)),!0},deleteProperty(e,t){return Yh(e),ib(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),cw(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=As(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[Gh]:!0,[rw]:e.type_!==1||t!=="length",[Bg]:r[Bg],[bp]:n[t]}},defineProperty(){xo(11)},getPrototypeOf(e){return bd(e.base_)},setPrototypeOf(){xo(12)}},wp={};for(let e in Wg){let t=Wg[e];wp[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}wp.deleteProperty=function(e,t){return wp.set.call(this,e,t,void 0)};wp.set=function(e,t,n){return Wg.set.call(this,e[0],t,n,e[0])};function ib(e,t){const n=e[Qa];return(n?As(n):e)[t]}function oW(e,t,n){var r;const a=r4(t,n);return a?bp in a?a[bp]:(r=a.get)==null?void 0:r.call(e.draft_):void 0}function r4(e,t){if(!(t in e))return;let n=bd(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=bd(n)}}function cw(e){e.modified_||(e.modified_=!0,e.parent_&&cw(e.parent_))}function Yh(e){e.copy_||(e.assigned_=new Map,e.copy_=iw(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var sW=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,n,r)=>{if(Ou(t)&&!Ou(n)){const i=n;n=t;const o=this;return function(s=i,...l){return o.produce(s,u=>n.call(this,u,...l))}}Ou(n)||xo(6),r!==void 0&&!Ou(r)&&xo(7);let a;if(Eo(t)){const i=DC(this),o=uw(i,t,void 0);let s=!0;try{a=n(o),s=!1}finally{s?sw(i):lw(i)}return EC(i,r),PC(a,i)}else if(!t||!Xk(t)){if(a=n(t),a===void 0&&(a=t),a===J3&&(a=void 0),this.autoFreeze_&&tS(a,!0),r){const i=[],o=[];nu(ow).generateReplacementPatches_(t,a,{patches_:i,inversePatches_:o}),r(i,o)}return a}else xo(1,t)},this.produceWithPatches=(t,n)=>{if(Ou(t))return(i,...o)=>this.produceWithPatches(i,s=>t(s,...o));let r,a;return[this.produce(t,n,(i,o)=>{r=i,a=o}),r,a]},ab(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),ab(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),ab(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Eo(e)||xo(8),Hs(e)&&(e=jo(e));const t=DC(this),n=uw(t,e,void 0);return n[Qa].isManual_=!0,lw(t),n}finishDraft(e,t){const n=e&&e[Qa];(!n||!n.isManual_)&&xo(9);const{scope_:r}=n;return EC(r,t),PC(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const r=nu(ow).applyPatches_;return Hs(e)?r(e,t):this.produce(e,a=>r(a,t))}};function uw(e,t,n,r){const[a,i]=vy(t)?nu(Ug).proxyMap_(t,n):by(t)?nu(Ug).proxySet_(t,n):iW(t,n);return((n==null?void 0:n.scope_)??X3()).drafts_.push(a),i.callbacks_=(n==null?void 0:n.callbacks_)??[],i.key_=r,n&&r!==void 0?rW(n,i,r):i.callbacks_.push(function(o){var s;(s=o.mapSetPlugin_)==null||s.fixSetContents(i);const{patchPlugin_:l}=o;i.modified_&&l&&l.generatePatches_(i,[],o)}),a}function jo(e){return Hs(e)||xo(10,e),a4(e)}function a4(e){if(!Eo(e)||xy(e))return e;const t=e[Qa];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=iw(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=iw(e,!0);return gy(n,(a,i)=>{zg(n,a,a4(i))},r),t&&(t.finalized_=!1),n}var lW=new sW,i4=lW.produce;function o4(e){return({dispatch:t,getState:n})=>r=>a=>typeof a=="function"?a(t,n,e):r(a)}var cW=o4(),uW=o4,dW=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Rg:Rg.apply(null,arguments)};function so(e,t){function n(...r){if(t){let a=t(...r);if(!a)throw new Error(Oi(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>Y3(r)&&r.type===e,n}var s4=class Mf extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Mf.prototype)}static get[Symbol.species](){return Mf}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Mf(...t[0].concat(this)):new Mf(...t.concat(this))}};function OC(e){return Eo(e)?i4(e,()=>{}):e}function dh(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function fW(e){return typeof e=="boolean"}var pW=()=>function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:a=!0}=e??{};let i=new s4;return t&&(fW(t)?i.push(cW):i.push(uW(t.extraArgument))),i},l4="RTK_autoBatch",cr=()=>e=>({payload:e,meta:{[l4]:!0}}),IC=e=>t=>{setTimeout(t,e)},c4=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let a=!0,i=!1,o=!1;const s=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:IC(10):e.type==="callback"?e.queueNotification:IC(e.timeout),u=()=>{o=!1,i&&(i=!1,s.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>a&&d(),p=r.subscribe(f);return s.add(d),()=>{p(),s.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[l4]),i=!a,i&&(o||(o=!0,l(u))),r.dispatch(d)}finally{a=!0}}})},mW=e=>function(t){const{autoBatch:n=!0}=t??{};let r=new s4(e);return n&&r.push(c4(typeof n=="object"?n:void 0)),r};function hW(e){const t=pW(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let s;if(typeof n=="function")s=n;else if(Qk(n))s=G3(n);else throw new Error(Oi(1));let l;typeof r=="function"?l=r(t):l=t();let u=Rg;a&&(u=dW({trace:!1,...typeof a=="object"&&a}));const d=G9(...l),f=mW(d);let p=typeof o=="function"?o(f):f();const m=u(...p);return K3(s,i,m)}function u4(e){const t={},n=[];let r;const a={addCase(i,o){const s=typeof i=="string"?i:i.type;if(!s)throw new Error(Oi(28));if(s in t)throw new Error(Oi(29));return t[s]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return n.push({matcher:i,reducer:o}),a},addDefaultCase(i){return r=i,a}};return e(a),[t,n,r]}function gW(e){return typeof e=="function"}function yW(e,t){let[n,r,a]=u4(t),i;if(gW(e))i=()=>OC(e());else{const s=OC(e);i=()=>s}function o(s=i(),l){let u=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(Hs(d)){const p=f(d,l);return p===void 0?d:p}else{if(Eo(d))return i4(d,p=>f(p,l));{const p=f(d,l);if(p===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return d},s)}return o.getInitialState=i,o}var vW="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",bW=(e=21)=>{let t="",n=e;for(;n--;)t+=vW[Math.random()*64|0];return t},xW=Symbol.for("rtk-slice-createasyncthunk");function wW(e,t){return`${e}/${t}`}function kW({creators:e}={}){var t;const n=(t=e==null?void 0:e.asyncThunk)==null?void 0:t[xW];return function(r){const{name:a,reducerPath:i=a}=r;if(!a)throw new Error(Oi(11));const o=(typeof r.reducers=="function"?r.reducers(NW()):r.reducers)||{},s=Object.keys(o),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(w,S){const j=typeof w=="string"?w:w.type;if(!j)throw new Error(Oi(12));if(j in l.sliceCaseReducersByType)throw new Error(Oi(13));return l.sliceCaseReducersByType[j]=S,u},addMatcher(w,S){return l.sliceMatchers.push({matcher:w,reducer:S}),u},exposeAction(w,S){return l.actionCreators[w]=S,u},exposeCaseReducer(w,S){return l.sliceCaseReducersByName[w]=S,u}};s.forEach(w=>{const S=o[w],j={reducerName:w,type:wW(a,w),createNotation:typeof r.reducers=="function"};CW(S)?MW(j,S,u,n):jW(j,S,u)});function d(){const[w={},S=[],j=void 0]=typeof r.extraReducers=="function"?u4(r.extraReducers):[r.extraReducers],N={...w,...l.sliceCaseReducersByType};return yW(r.initialState,A=>{for(let P in N)A.addCase(P,N[P]);for(let P of l.sliceMatchers)A.addMatcher(P.matcher,P.reducer);for(let P of S)A.addMatcher(P.matcher,P.reducer);j&&A.addDefaultCase(j)})}const f=w=>w,p=new Map,m=new WeakMap;let h;function v(w,S){return h||(h=d()),h(w,S)}function b(){return h||(h=d()),h.getInitialState()}function y(w,S=!1){function j(A){let P=A[w];return typeof P>"u"&&S&&(P=dh(m,j,b)),P}function N(A=f){const P=dh(p,S,()=>new WeakMap);return dh(P,A,()=>{const B={};for(const[D,I]of Object.entries(r.selectors??{}))B[D]=SW(I,A,()=>dh(m,A,b),S);return B})}return{reducerPath:w,getSelectors:N,get selectors(){return N(j)},selectSlice:j}}const x={name:a,reducer:v,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:b,...y(i),injectInto(w,{reducerPath:S,...j}={}){const N=S??i;return w.inject({reducerPath:N,reducer:v},j),{...x,...y(N,!0)}}};return x}}function SW(e,t,n,r){function a(i,...o){let s=t(i);return typeof s>"u"&&r&&(s=n()),e(s,...o)}return a.unwrapped=e,a}var gi=kW();function NW(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function jW({type:e,reducerName:t,createNotation:n},r,a){let i,o;if("reducer"in r){if(n&&!AW(r))throw new Error(Oi(17));i=r.reducer,o=r.prepare}else i=r;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?so(e,o):so(e))}function CW(e){return e._reducerDefinitionType==="asyncThunk"}function AW(e){return e._reducerDefinitionType==="reducerWithPrepare"}function MW({type:e,reducerName:t},n,r,a){if(!a)throw new Error(Oi(18));const{payloadCreator:i,fulfilled:o,pending:s,rejected:l,settled:u,options:d}=n,f=a(e,i,d);r.exposeAction(t,f),o&&r.addCase(f.fulfilled,o),s&&r.addCase(f.pending,s),l&&r.addCase(f.rejected,l),u&&r.addMatcher(f.settled,u),r.exposeCaseReducer(t,{fulfilled:o||fh,pending:s||fh,rejected:l||fh,settled:u||fh})}function fh(){}var EW="task",d4="listener",f4="completed",nS="cancelled",DW=`task-${nS}`,PW=`task-${f4}`,dw=`${d4}-${nS}`,TW=`${d4}-${f4}`,ky=class{constructor(e){L2(this,"name","TaskAbortError"),L2(this,"message"),this.code=e,this.message=`${EW} ${nS} (reason: ${e})`}},rS=(e,t)=>{if(typeof e!="function")throw new TypeError(Oi(32))},qg=()=>{},p4=(e,t=qg)=>(e.catch(t),e),m4=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Wc=e=>{if(e.aborted)throw new ky(e.reason)};function h4(e,t){let n=qg;return new Promise((r,a)=>{const i=()=>a(new ky(e.reason));if(e.aborted){i();return}n=m4(e,i),t.finally(()=>n()).then(r,a)}).finally(()=>{n=qg})}var OW=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof ky?"cancelled":"rejected",error:n}}finally{t==null||t()}},Hg=e=>t=>p4(h4(e,t).then(n=>(Wc(e),n))),g4=e=>{const t=Hg(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:id}=Object,_C={},Sy="listenerMiddleware",IW=(e,t)=>{const n=r=>m4(e,()=>r.abort(e.reason));return(r,a)=>{rS(r);const i=new AbortController;n(i);const o=OW(async()=>{Wc(e),Wc(i.signal);const s=await r({pause:Hg(i.signal),delay:g4(i.signal),signal:i.signal});return Wc(i.signal),s},()=>i.abort(PW));return a!=null&&a.autoJoin&&t.push(o.catch(qg)),{result:Hg(e)(o),cancel(){i.abort(DW)}}}},_W=(e,t)=>{const n=async(r,a)=>{Wc(t);let i=()=>{};const o=[new Promise((s,l)=>{let u=e({predicate:r,effect:(d,f)=>{f.unsubscribe(),s([d,f.getState(),f.getOriginalState()])}});i=()=>{u(),l()}})];a!=null&&o.push(new Promise(s=>setTimeout(s,a,null)));try{const s=await h4(t,Promise.race(o));return Wc(t),s}finally{i()}};return(r,a)=>p4(n(r,a))},y4=e=>{let{type:t,actionCreator:n,matcher:r,predicate:a,effect:i}=e;if(t)a=so(t).match;else if(n)t=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(Oi(21));return rS(i),{predicate:a,type:t,effect:i}},v4=id(e=>{const{type:t,predicate:n,effect:r}=y4(e);return{id:bW(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Oi(22))}}},{withTypes:()=>v4}),LC=(e,t)=>{const{type:n,effect:r,predicate:a}=y4(t);return Array.from(e.values()).find(i=>(typeof n=="string"?i.type===n:i.predicate===a)&&i.effect===r)},fw=e=>{e.pending.forEach(t=>{t.abort(dw)})},LW=(e,t)=>()=>{for(const n of t.keys())fw(n);e.clear()},FC=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},b4=id(so(`${Sy}/add`),{withTypes:()=>b4}),FW=so(`${Sy}/removeAll`),x4=id(so(`${Sy}/remove`),{withTypes:()=>x4}),RW=(...e)=>{console.error(`${Sy}/error`,...e)},Kp=(e={})=>{const t=new Map,n=new Map,r=p=>{const m=n.get(p)??0;n.set(p,m+1)},a=p=>{const m=n.get(p)??1;m===1?n.delete(p):n.set(p,m-1)},{extra:i,onError:o=RW}=e;rS(o);const s=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),m=>{p.unsubscribe(),m!=null&&m.cancelActive&&fw(p)}),l=p=>{const m=LC(t,p)??v4(p);return s(m)};id(l,{withTypes:()=>l});const u=p=>{const m=LC(t,p);return m&&(m.unsubscribe(),p.cancelActive&&fw(m)),!!m};id(u,{withTypes:()=>u});const d=async(p,m,h,v)=>{const b=new AbortController,y=_W(l,b.signal),x=[];try{p.pending.add(b),r(p),await Promise.resolve(p.effect(m,id({},h,{getOriginalState:v,condition:(w,S)=>y(w,S).then(Boolean),take:y,delay:g4(b.signal),pause:Hg(b.signal),extra:i,signal:b.signal,fork:IW(b.signal,x),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((w,S,j)=>{w!==b&&(w.abort(dw),j.delete(w))})},cancel:()=>{b.abort(dw),p.pending.delete(b)},throwIfCancelled:()=>{Wc(b.signal)}})))}catch(w){w instanceof ky||FC(o,w,{raisedBy:"effect"})}finally{await Promise.all(x),b.abort(TW),a(p),p.pending.delete(b)}},f=LW(t,n);return{middleware:p=>m=>h=>{if(!Y3(h))return m(h);if(b4.match(h))return l(h.payload);if(FW.match(h)){f();return}if(x4.match(h))return u(h.payload);let v=p.getState();const b=()=>{if(v===_C)throw new Error(Oi(23));return v};let y;try{if(y=m(h),t.size>0){const x=p.getState(),w=Array.from(t.values());for(const S of w){let j=!1;try{j=S.predicate(h,x,v)}catch(N){j=!1,FC(o,N,{raisedBy:"predicate"})}j&&d(S,h,p,b)}}}finally{v=_C}return y},startListening:l,stopListening:u,clearListeners:f}};function Oi(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var $W={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},w4=gi({name:"chartLayout",initialState:$W,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,a,i;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:BW,setLayout:zW,setChartSize:UW,setScale:VW}=w4.actions,WW=w4.reducer;function k4(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function dr(e){return Number.isFinite(e)}function os(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function RC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ku(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RC(Object(n),!0).forEach(function(r){qW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qW(e,t,n){return(t=HW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HW(e){var t=KW(e,"string");return typeof t=="symbol"?t:t+""}function KW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sr(e,t,n){return Xr(e)||Xr(t)?n:oo(t)?tu(e,t,n):typeof t=="function"?t(e):n}var GW=(e,t,n)=>{if(t&&n){var{width:r,height:a}=n,{align:i,verticalAlign:o,layout:s}=t;if((s==="vertical"||s==="horizontal"&&o==="middle")&&i!=="center"&&Tt(e[i]))return Ku(Ku({},e),{},{[i]:e[i]+(r||0)});if((s==="horizontal"||s==="vertical"&&i==="center")&&o!=="middle"&&Tt(e[o]))return Ku(Ku({},e),{},{[o]:e[o]+(a||0)})}return e},tc=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",S4=(e,t,n,r)=>{if(r)return e.map(s=>s.coordinate);var a,i,o=e.map(s=>(s.coordinate===t&&(a=!0),s.coordinate===n&&(i=!0),s.coordinate));return a||o.push(t),i||o.push(n),o},N4=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:a,range:i,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:p,axisType:m}=e;if(!o)return null;var h=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,v=a==="category"&&o.bandwidth?o.bandwidth()/h:0;if(v=m==="angleAxis"&&i&&i.length>=2?$a(i[0]-i[1])*2*v:v,f||p){var b=(f||p||[]).map((y,x)=>{var w=r?r.indexOf(y):y;return{coordinate:o(w)+v,value:y,offset:v,index:x}});return b.filter(y=>!io(y.coordinate))}return l&&u?u.map((y,x)=>({coordinate:o(y)+v,value:y,index:x,offset:v})):o.ticks&&d!=null?o.ticks(d).map((y,x)=>({coordinate:o(y)+v,value:y,offset:v,index:x})):o.domain().map((y,x)=>({coordinate:o(y)+v,value:r?r[y]:y,index:x,offset:v}))},$C=1e-4,YW=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),a=Math.min(r[0],r[1])-$C,i=Math.max(r[0],r[1])+$C,o=e(t[0]),s=e(t[n-1]);(o<a||o>i||s<a||s>i)&&e.domain([t[0],t[n-1]])}},JW=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var i=0,o=0,s=0;s<n;++s){var l=e[s],u=l==null?void 0:l[a];if(u!=null){var d=u[1],f=u[0],p=io(d)?f:d;p>=0?(u[0]=i,u[1]=i+p,i=d):(u[0]=o,u[1]=o+p,o=d)}}}},ZW=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var i=0,o=0;o<n;++o){var s=e[o],l=s==null?void 0:s[a];if(l!=null){var u=io(l[1])?l[0]:l[1];u>=0?(l[0]=i,l[1]=i+u,i=l[1]):(l[0]=0,l[1]=0)}}}},QW={sign:JW,expand:P7,none:eu,silhouette:T7,wiggle:O7,positive:ZW},XW=(e,t,n)=>{var r,a=(r=QW[n])!==null&&r!==void 0?r:eu,i=D7().keys(t).value((s,l)=>Number(sr(s,l,0))).order(tw).offset(a),o=i(e);return o.forEach((s,l)=>{s.forEach((u,d)=>{var f=sr(e[d],t[l],0);Array.isArray(f)&&f.length===2&&Tt(f[0])&&Tt(f[1])&&(u[0]=f[0],u[1]=f[1])})}),o};function BC(e){var{axis:t,ticks:n,bandSize:r,entry:a,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Xr(a[t.dataKey])){var s=p3(n,"value",a[t.dataKey]);if(s)return s.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var l=sr(a,Xr(o)?t.dataKey:o);return Xr(l)?null:t.scale(l)}var eq=e=>{var t=e.flat(2).filter(Tt);return[Math.min(...t),Math.max(...t)]},tq=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],nq=(e,t,n)=>{if(e!=null)return tq(Object.keys(e).reduce((r,a)=>{var i=e[a];if(!i)return r;var{stackedData:o}=i,s=o.reduce((l,u)=>{var d=k4(u,t,n),f=eq(d);return!dr(f[0])||!dr(f[1])?l:[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]))},zC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,UC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,pw=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=my(t,d=>d.coordinate),i=1/0,o=1,s=a.length;o<s;o++){var l=a[o],u=a[o-1];i=Math.min(((l==null?void 0:l.coordinate)||0)-((u==null?void 0:u.coordinate)||0),i)}return i===1/0?0:i}return n?void 0:0};function VC(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:a,name:i}=e;return Ku(Ku({},t),{},{dataKey:n,payload:r,value:a,name:i})}function Ny(e,t){if(e)return String(e);if(typeof t=="string")return t}var rq=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},aq=(e,t)=>t==="centric"?e.angle:e.radius,nl=e=>e.layout.width,rl=e=>e.layout.height,iq=e=>e.layout.scale,j4=e=>e.layout.margin,jy=ve(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Cy=ve(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),C4="data-recharts-item-index",A4="data-recharts-item-id",Gp=60;function WC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ph(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WC(Object(n),!0).forEach(function(r){oq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oq(e,t,n){return(t=sq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sq(e){var t=lq(e,"string");return typeof t=="symbol"?t:t+""}function lq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cq=e=>e.brush.height;function uq(e){var t=Cy(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:Gp;return n+a}return n},0)}function dq(e){var t=Cy(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:Gp;return n+a}return n},0)}function fq(e){var t=jy(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function pq(e){var t=jy(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var ha=ve([nl,rl,j4,cq,uq,dq,fq,pq,q3,z9],(e,t,n,r,a,i,o,s,l,u)=>{var d={left:(n.left||0)+a,right:(n.right||0)+i},f={top:(n.top||0)+o,bottom:(n.bottom||0)+s},p=ph(ph({},f),d),m=p.bottom;p.bottom+=r,p=GW(p,l,u);var h=e-p.left-p.right,v=t-p.top-p.bottom;return ph(ph({brushBottom:m},p),{},{width:Math.max(h,0),height:Math.max(v,0)})}),mq=ve(ha,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),M4=ve(nl,rl,(e,t)=>({x:0,y:0,width:e,height:t})),hq=g.createContext(null),ti=()=>g.useContext(hq)!=null,Ay=e=>e.brush,My=ve([Ay,ha,j4],(e,t,n)=>({height:e.height,x:Tt(e.x)?e.x:t.left,y:Tt(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:Tt(e.width)?e.width:t.width})),E4={},D4={},P4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:a,edges:i}={}){let o,s=null;const l=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{s!==null&&(n.apply(o,s),o=void 0,s=null)},f=()=>{u&&d(),v()};let p=null;const m=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,f()},r)},h=()=>{p!==null&&(clearTimeout(p),p=null)},v=()=>{h(),o=void 0,s=null},b=()=>{d()},y=function(...x){if(a!=null&&a.aborted)return;o=this,s=x;const w=p==null;m(),l&&w&&d()};return y.schedule=m,y.cancel=v,y.flush=b,a==null||a.addEventListener("abort",v,{once:!0}),y}e.debounce=t})(P4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P4;function n(r,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:s=!0,maxWait:l}=i,u=Array(2);o&&(u[0]="leading"),s&&(u[1]="trailing");let d,f=null;const p=t.debounce(function(...v){d=r.apply(this,v),f=null},a,{edges:u}),m=function(...v){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(d=r.apply(this,v),f=Date.now(),p.cancel(),p.schedule(),d):(p.apply(this,v),d)},h=()=>(p.flush(),d);return m.cancel=p.cancel,m.flush=h,m}e.debounce=n})(D4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D4;function n(r,a=0,i={}){const{leading:o=!0,trailing:s=!0}=i;return t.debounce(r,a,{leading:o,maxWait:a,trailing:s})}e.throttle=n})(E4);var gq=E4.throttle;const yq=_o(gq);var Kg=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(t===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(t===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var i=0;console.warn(t.replace(/%s/g,()=>r[i++]))}},T4=(e,t,n)=>{var{width:r="100%",height:a="100%",aspect:i,maxHeight:o}=n,s=qs(r)?e:Number(r),l=qs(a)?t:Number(a);return i&&i>0&&(s?l=s/i:l&&(s=l*i),o&&l!=null&&l>o&&(l=o)),{calculatedWidth:s,calculatedHeight:l}},vq={width:0,height:0,overflow:"visible"},bq={width:0,overflowX:"visible"},xq={height:0,overflowY:"visible"},wq={},kq=e=>{var{width:t,height:n}=e,r=qs(t),a=qs(n);return r&&a?vq:r?bq:a?xq:wq};function Sq(e){var{width:t,height:n,aspect:r}=e,a=t,i=n;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=r&&r>0?void 0:"100%":i===void 0&&(i=r&&r>0?void 0:"100%"),{width:a,height:i}}function mw(){return mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mw.apply(null,arguments)}function qC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function HC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qC(Object(n),!0).forEach(function(r){Nq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nq(e,t,n){return(t=jq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jq(e){var t=Cq(e,"string");return typeof t=="symbol"?t:t+""}function Cq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var O4=g.createContext({width:-1,height:-1});function Aq(e){return os(e.width)&&os(e.height)}function I4(e){var{children:t,width:n,height:r}=e,a=g.useMemo(()=>({width:n,height:r}),[n,r]);return Aq(a)?g.createElement(O4.Provider,{value:a},t):null}var aS=()=>g.useContext(O4),Mq=g.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a,height:i,minWidth:o=0,minHeight:s,maxHeight:l,children:u,debounce:d=0,id:f,className:p,onResize:m,style:h={}}=e,v=g.useRef(null),b=g.useRef();b.current=m,g.useImperativeHandle(t,()=>v.current);var[y,x]=g.useState({containerWidth:r.width,containerHeight:r.height}),w=g.useCallback((P,B)=>{x(D=>{var I=Math.round(P),O=Math.round(B);return D.containerWidth===I&&D.containerHeight===O?D:{containerWidth:I,containerHeight:O}})},[]);g.useEffect(()=>{if(v.current==null||typeof ResizeObserver>"u")return qp;var P=O=>{var H,{width:J,height:ie}=O[0].contentRect;w(J,ie),(H=b.current)===null||H===void 0||H.call(b,J,ie)};d>0&&(P=yq(P,d,{trailing:!0,leading:!1}));var B=new ResizeObserver(P),{width:D,height:I}=v.current.getBoundingClientRect();return w(D,I),B.observe(v.current),()=>{B.disconnect()}},[w,d]);var{containerWidth:S,containerHeight:j}=y;Kg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:N,calculatedHeight:A}=T4(S,j,{width:a,height:i,aspect:n,maxHeight:l});return Kg(N!=null&&N>0||A!=null&&A>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,A,a,i,o,s,n),g.createElement("div",{id:f?"".concat(f):void 0,className:Tn("recharts-responsive-container",p),style:HC(HC({},h),{},{width:a,height:i,minWidth:o,minHeight:s,maxHeight:l}),ref:v},g.createElement("div",{style:kq({width:a,height:i})},g.createElement(I4,{width:N,height:A},u)))}),Do=g.forwardRef((e,t)=>{var n=aS();if(os(n.width)&&os(n.height))return e.children;var{width:r,height:a}=Sq({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=T4(void 0,void 0,{width:r,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return Tt(i)&&Tt(o)?g.createElement(I4,{width:i,height:o},e.children):g.createElement(Mq,mw({},e,{width:r,height:a,ref:t}))});function _4(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Yp=()=>{var e,t=ti(),n=Mt(mq),r=Mt(My),a=(e=Mt(Ay))===null||e===void 0?void 0:e.padding;return!t||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},Eq={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},L4=()=>{var e;return(e=Mt(ha))!==null&&e!==void 0?e:Eq},iS=()=>Mt(nl),oS=()=>Mt(rl),Dq=()=>Mt(e=>e.layout.margin),qn=e=>e.layout.layoutType,Jp=()=>Mt(qn),Pq=()=>{var e=Jp();return e!==void 0},Ey=e=>{var t=Yn(),n=ti(),{width:r,height:a}=e,i=aS(),o=r,s=a;return i&&(o=i.width>0?i.width:r,s=i.height>0?i.height:a),g.useEffect(()=>{!n&&os(o)&&os(s)&&t(UW({width:o,height:s}))},[t,n,o,s]),null},F4=Symbol.for("immer-nothing"),KC=Symbol.for("immer-draftable"),Li=Symbol.for("immer-state");function wo(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var kp=Object.getPrototypeOf;function xd(e){return!!e&&!!e[Li]}function ru(e){var t;return e?R4(e)||Array.isArray(e)||!!e[KC]||!!((t=e.constructor)!=null&&t[KC])||Zp(e)||Py(e):!1}var Tq=Object.prototype.constructor.toString(),GC=new WeakMap;function R4(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=GC.get(n);return r===void 0&&(r=Function.toString.call(n),GC.set(n,r)),r===Tq}function Gg(e,t,n=!0){Dy(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(r=>{t(r,e[r],e)}):e.forEach((r,a)=>t(a,r,e))}function Dy(e){const t=e[Li];return t?t.type_:Array.isArray(e)?1:Zp(e)?2:Py(e)?3:0}function hw(e,t){return Dy(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function $4(e,t,n){const r=Dy(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Oq(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Zp(e){return e instanceof Map}function Py(e){return e instanceof Set}function Cc(e){return e.copy_||e.base_}function gw(e,t){if(Zp(e))return new Map(e);if(Py(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=R4(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Li];let a=Reflect.ownKeys(r);for(let i=0;i<a.length;i++){const o=a[i],s=r[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(kp(e),r)}else{const r=kp(e);if(r!==null&&n)return{...e};const a=Object.create(r);return Object.assign(a,e)}}function sS(e,t=!1){return Ty(e)||xd(e)||!ru(e)||(Dy(e)>1&&Object.defineProperties(e,{set:mh,add:mh,clear:mh,delete:mh}),Object.freeze(e),t&&Object.values(e).forEach(n=>sS(n,!0))),e}function Iq(){wo(2)}var mh={value:Iq};function Ty(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var _q={};function au(e){const t=_q[e];return t||wo(0,e),t}var Sp;function B4(){return Sp}function Lq(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function YC(e,t){t&&(au("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function yw(e){vw(e),e.drafts_.forEach(Fq),e.drafts_=null}function vw(e){e===Sp&&(Sp=e.parent_)}function JC(e){return Sp=Lq(Sp,e)}function Fq(e){const t=e[Li];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function ZC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Li].modified_&&(yw(t),wo(4)),ru(e)&&(e=Yg(t,e),t.parent_||Jg(t,e)),t.patches_&&au("Patches").generateReplacementPatches_(n[Li].base_,e,t.patches_,t.inversePatches_)):e=Yg(t,n,[]),yw(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==F4?e:void 0}function Yg(e,t,n){if(Ty(t))return t;const r=e.immer_.shouldUseStrictIteration(),a=t[Li];if(!a)return Gg(t,(i,o)=>QC(e,a,t,i,o,n),r),t;if(a.scope_!==e)return t;if(!a.modified_)return Jg(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let o=i,s=!1;a.type_===3&&(o=new Set(i),i.clear(),s=!0),Gg(o,(l,u)=>QC(e,a,i,l,u,n,s),r),Jg(e,i,!1),n&&e.patches_&&au("Patches").generatePatches_(a,n,e.patches_,e.inversePatches_)}return a.copy_}function QC(e,t,n,r,a,i,o){if(a==null||typeof a!="object"&&!o)return;const s=Ty(a);if(!(s&&!o)){if(xd(a)){const l=i&&t&&t.type_!==3&&!hw(t.assigned_,r)?i.concat(r):void 0,u=Yg(e,a,l);if($4(n,r,u),xd(u))e.canAutoFreeze_=!1;else return}else o&&n.add(a);if(ru(a)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===a&&s)return;Yg(e,a),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Zp(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Jg(e,a)}}}function Jg(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&sS(t,n)}function Rq(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:B4(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,i=lS;n&&(a=[r],i=Np);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return r.draft_=s,r.revoke_=o,s}var lS={get(e,t){if(t===Li)return e;const n=Cc(e);if(!hw(n,t))return $q(e,n,t);const r=n[t];return e.finalized_||!ru(r)?r:r===ob(e.base_,t)?(sb(e),e.copy_[t]=xw(r,e)):r},has(e,t){return t in Cc(e)},ownKeys(e){return Reflect.ownKeys(Cc(e))},set(e,t,n){const r=z4(Cc(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=ob(Cc(e),t),i=a==null?void 0:a[Li];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Oq(n,a)&&(n!==void 0||hw(e.base_,t)))return!0;sb(e),bw(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ob(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,sb(e),bw(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Cc(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){wo(11)},getPrototypeOf(e){return kp(e.base_)},setPrototypeOf(){wo(12)}},Np={};Gg(lS,(e,t)=>{Np[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Np.deleteProperty=function(e,t){return Np.set.call(this,e,t,void 0)};Np.set=function(e,t,n){return lS.set.call(this,e[0],t,n,e[0])};function ob(e,t){const n=e[Li];return(n?Cc(n):e)[t]}function $q(e,t,n){var r;const a=z4(t,n);return a?"value"in a?a.value:(r=a.get)==null?void 0:r.call(e.draft_):void 0}function z4(e,t){if(!(t in e))return;let n=kp(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=kp(n)}}function bw(e){e.modified_||(e.modified_=!0,e.parent_&&bw(e.parent_))}function sb(e){e.copy_||(e.copy_=gw(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Bq=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const o=this;return function(s=i,...l){return o.produce(s,u=>n.call(this,u,...l))}}typeof n!="function"&&wo(6),r!==void 0&&typeof r!="function"&&wo(7);let a;if(ru(t)){const i=JC(this),o=xw(t,void 0);let s=!0;try{a=n(o),s=!1}finally{s?yw(i):vw(i)}return YC(i,r),ZC(a,i)}else if(!t||typeof t!="object"){if(a=n(t),a===void 0&&(a=t),a===F4&&(a=void 0),this.autoFreeze_&&sS(a,!0),r){const i=[],o=[];au("Patches").generateReplacementPatches_(t,a,i,o),r(i,o)}return a}else wo(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(i,...o)=>this.produceWithPatches(i,s=>t(s,...o));let r,a;return[this.produce(t,n,(i,o)=>{r=i,a=o}),r,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ru(e)||wo(8),xd(e)&&(e=zq(e));const t=JC(this),n=xw(e,void 0);return n[Li].isManual_=!0,vw(t),n}finishDraft(e,t){const n=e&&e[Li];(!n||!n.isManual_)&&wo(9);const{scope_:r}=n;return YC(r,t),ZC(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const r=au("Patches").applyPatches_;return xd(e)?r(e,t):this.produce(e,a=>r(a,t))}};function xw(e,t){const n=Zp(e)?au("MapSet").proxyMap_(e,t):Py(e)?au("MapSet").proxySet_(e,t):Rq(e,t);return(t?t.scope_:B4()).drafts_.push(n),n}function zq(e){return xd(e)||wo(10,e),U4(e)}function U4(e){if(!ru(e)||Ty(e))return e;const t=e[Li];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=gw(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=gw(e,!0);return Gg(n,(a,i)=>{$4(n,a,U4(i))},r),t&&(t.finalized_=!1),n}var Uq=new Bq;Uq.produce;var Vq={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},V4=gi({name:"legend",initialState:Vq,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:cr()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,a=jo(e).payload.indexOf(n);a>-1&&(e.payload[a]=r)},prepare:cr()},removeLegendPayload:{reducer(e,t){var n=jo(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:cr()}}}),{setLegendSize:XC,setLegendSettings:Wq,addLegendPayload:W4,replaceLegendPayload:q4,removeLegendPayload:H4}=V4.actions,qq=V4.reducer,Hq=["contextPayload"];function ww(){return ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ww.apply(null,arguments)}function eA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function wd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eA(Object(n),!0).forEach(function(r){Kq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kq(e,t,n){return(t=Gq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gq(e){var t=Yq(e,"string");return typeof t=="symbol"?t:t+""}function Yq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jq(e,t){if(e==null)return{};var n,r,a=Zq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Zq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Qq(e){return e.value}function Xq(e){var{contextPayload:t}=e,n=Jq(e,Hq),r=I3(t,e.payloadUniqBy,Qq),a=wd(wd({},n),{},{payload:r});return g.isValidElement(e.content)?g.cloneElement(e.content,a):typeof e.content=="function"?g.createElement(e.content,a):g.createElement(o9,a)}function eH(e,t,n,r,a,i){var{layout:o,align:s,verticalAlign:l}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(s==="center"&&o==="vertical"?u={left:((r||0)-i.width)/2}:u=s==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?d={top:((a||0)-i.height)/2}:d=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),wd(wd({},u),d)}function tH(e){var t=Yn();return g.useEffect(()=>{t(Wq(e))},[t,e]),null}function nH(e){var t=Yn();return g.useEffect(()=>(t(XC(e)),()=>{t(XC({width:0,height:0}))}),[t,e]),null}function rH(e,t,n,r){return e==="vertical"&&Tt(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var aH={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function K4(e){var t=qr(e,aH),n=W9(),r=e7(),a=Dq(),{width:i,height:o,wrapperStyle:s,portal:l}=t,[u,d]=H3([n]),f=iS(),p=oS();if(f==null||p==null)return null;var m=f-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),h=rH(t.layout,o,i,m),v=l?s:wd(wd({position:"absolute",width:(h==null?void 0:h.width)||i||"auto",height:(h==null?void 0:h.height)||o||"auto"},eH(s,t,a,f,p,u)),s),b=l??r;if(b==null||n==null)return null;var y=g.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:d},g.createElement(tH,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&g.createElement(nH,{width:u.width,height:u.height}),g.createElement(Xq,ww({},t,h,{margin:a,chartWidth:f,chartHeight:p,contextPayload:n})));return Id.createPortal(y,b)}K4.displayName="Legend";function kw(){return kw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kw.apply(null,arguments)}function tA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function lb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tA(Object(n),!0).forEach(function(r){iH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iH(e,t,n){return(t=oH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oH(e){var t=sH(e,"string");return typeof t=="symbol"?t:t+""}function sH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lH(e){return Array.isArray(e)&&oo(e[0])&&oo(e[1])?e.join(" ~ "):e}var cH=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:i,formatter:o,itemSorter:s,wrapperClassName:l,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:p=!1}=e,m=()=>{if(i&&i.length){var j={padding:0,margin:0},N=(s?my(i,s):i).map((A,P)=>{if(A.type==="none")return null;var B=A.formatter||o||lH,{value:D,name:I}=A,O=D,H=I;if(B){var J=B(D,I,A,P,i);if(Array.isArray(J))[O,H]=J;else if(J!=null)O=J;else return null}var ie=lb({display:"block",paddingTop:4,paddingBottom:4,color:A.color||"#000"},r);return g.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:ie},oo(H)?g.createElement("span",{className:"recharts-tooltip-item-name"},H):null,oo(H)?g.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,g.createElement("span",{className:"recharts-tooltip-item-value"},O),g.createElement("span",{className:"recharts-tooltip-item-unit"},A.unit||""))});return g.createElement("ul",{className:"recharts-tooltip-item-list",style:j},N)}return null},h=lb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),v=lb({margin:0},a),b=!Xr(d),y=b?d:"",x=Tn("recharts-default-tooltip",l),w=Tn("recharts-tooltip-label",u);b&&f&&i!==void 0&&i!==null&&(y=f(d,i));var S=p?{role:"status","aria-live":"assertive"}:{};return g.createElement("div",kw({className:x,style:h},S),g.createElement("p",{className:w,style:v},g.isValidElement(y)?y:"".concat(y)),m())},df="recharts-tooltip-wrapper",uH={visibility:"hidden"};function dH(e){var{coordinate:t,translateX:n,translateY:r}=e;return Tn(df,{["".concat(df,"-right")]:Tt(n)&&t&&Tt(t.x)&&n>=t.x,["".concat(df,"-left")]:Tt(n)&&t&&Tt(t.x)&&n<t.x,["".concat(df,"-bottom")]:Tt(r)&&t&&Tt(t.y)&&r>=t.y,["".concat(df,"-top")]:Tt(r)&&t&&Tt(t.y)&&r<t.y})}function nA(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:u}=e;if(i&&Tt(i[r]))return i[r];var d=n[r]-s-(a>0?a:0),f=n[r]+a;if(t[r])return o[r]?d:f;var p=l[r];if(p==null)return 0;if(o[r]){var m=d,h=p;return m<h?Math.max(f,p):Math.max(d,p)}if(u==null)return 0;var v=f+s,b=p+u;return v>b?Math.max(d,p):Math.max(f,p)}function fH(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function pH(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:s,viewBox:l}=e,u,d,f;return o.height>0&&o.width>0&&n?(d=nA({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=nA({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=fH({translateX:d,translateY:f,useTranslate3d:s})):u=uH,{cssProperties:u,cssClasses:dH({translateX:d,translateY:f,coordinate:n})}}function rA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function hh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rA(Object(n),!0).forEach(function(r){Sw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sw(e,t,n){return(t=mH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mH(e){var t=hH(e,"string");return typeof t=="symbol"?t:t+""}function hH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class gH extends g.PureComponent{constructor(){super(...arguments),Sw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Sw(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:i,coordinate:o,hasPayload:s,isAnimationActive:l,offset:u,position:d,reverseDirection:f,useTranslate3d:p,viewBox:m,wrapperStyle:h,lastBoundingBox:v,innerRef:b,hasPortalFromProps:y}=this.props,{cssClasses:x,cssProperties:w}=pH({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:v.height,width:v.width},useTranslate3d:p,viewBox:m}),S=y?{}:hh(hh({transition:l&&t?"transform ".concat(r,"ms ").concat(a):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),j=hh(hh({},S),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},h);return g.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:x,style:j,ref:b},i)}}var G4=()=>{var e;return(e=Mt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Nw(){return Nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nw.apply(null,arguments)}function aA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function iA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aA(Object(n),!0).forEach(function(r){yH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yH(e,t,n){return(t=vH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vH(e){var t=bH(e,"string");return typeof t=="symbol"?t:t+""}function bH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oA={curveBasisClosed:b7,curveBasisOpen:x7,curveBasis:v7,curveBumpX:a7,curveBumpY:i7,curveLinearClosed:w7,curveLinear:oy,curveMonotoneX:k7,curveMonotoneY:S7,curveNatural:N7,curveStep:j7,curveStepAfter:A7,curveStepBefore:C7},Zg=e=>dr(e.x)&&dr(e.y),sA=e=>e.base!=null&&Zg(e.base)&&Zg(e),ff=e=>e.x,pf=e=>e.y,xH=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Wp(e));return(n==="curveMonotone"||n==="curveBump")&&t?oA["".concat(n).concat(t==="vertical"?"Y":"X")]:oA[n]||oy},wH=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:a,connectNulls:i=!1}=e,o=xH(t,a),s=i?n.filter(Zg):n,l;if(Array.isArray(r)){var u=n.map((m,h)=>iA(iA({},m),{},{base:r[h]}));a==="vertical"?l=sh().y(pf).x1(ff).x0(m=>m.base.x):l=sh().x(ff).y1(pf).y0(m=>m.base.y);var d=l.defined(sA).curve(o),f=i?u.filter(sA):u;return d(f)}a==="vertical"&&Tt(r)?l=sh().y(pf).x1(ff).x0(r):Tt(r)?l=sh().x(ff).y1(pf).y0(r):l=XO().x(ff).y(pf);var p=l.defined(Zg).curve(o);return p(s)},cS=e=>{var{className:t,points:n,path:r,pathRef:a}=e,i=Jp();if((!n||!n.length)&&!r)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},s=n&&n.length?wH(o):r;return g.createElement("path",Nw({},ao(e),$k(e),{className:Tn("recharts-curve",t),d:s===null?void 0:s,ref:a}))},kH=["x","y","top","left","width","height","className"];function jw(){return jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jw.apply(null,arguments)}function lA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function SH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lA(Object(n),!0).forEach(function(r){NH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NH(e,t,n){return(t=jH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jH(e){var t=CH(e,"string");return typeof t=="symbol"?t:t+""}function CH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AH(e,t){if(e==null)return{};var n,r,a=MH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function MH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var EH=(e,t,n,r,a,i)=>"M".concat(e,",").concat(a,"v").concat(r,"M").concat(i,",").concat(t,"h").concat(n),DH=e=>{var{x:t=0,y:n=0,top:r=0,left:a=0,width:i=0,height:o=0,className:s}=e,l=AH(e,kH),u=SH({x:t,y:n,top:r,left:a,width:i,height:o},l);return!Tt(t)||!Tt(n)||!Tt(i)||!Tt(o)||!Tt(r)||!Tt(a)?null:g.createElement("path",jw({},Ua(u),{className:Tn("recharts-cross",s),d:EH(t,n,i,o,r,a)}))};function PH(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function cA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function uA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cA(Object(n),!0).forEach(function(r){TH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TH(e,t,n){return(t=OH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OH(e){var t=IH(e,"string");return typeof t=="symbol"?t:t+""}function IH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _H=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Y4=(e,t,n)=>e.map(r=>"".concat(_H(r)," ").concat(t,"ms ").concat(n)).join(","),LH=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(a=>r.includes(a))),jp=(e,t)=>Object.keys(t).reduce((n,r)=>uA(uA({},n),{},{[r]:e(r,t[r])}),{});function dA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Zr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dA(Object(n),!0).forEach(function(r){FH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FH(e,t,n){return(t=RH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RH(e){var t=$H(e,"string");return typeof t=="symbol"?t:t+""}function $H(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qg=(e,t,n)=>e+(t-e)*n,Cw=e=>{var{from:t,to:n}=e;return t!==n},J4=(e,t,n)=>{var r=jp((a,i)=>{if(Cw(i)){var[o,s]=e(i.from,i.to,i.velocity);return Zr(Zr({},i),{},{from:o,velocity:s})}return i},t);return n<1?jp((a,i)=>Cw(i)&&r[a]!=null?Zr(Zr({},i),{},{velocity:Qg(i.velocity,r[a].velocity,n),from:Qg(i.from,r[a].from,n)}):i,t):J4(e,r,n-1)};function BH(e,t,n,r,a,i){var o,s=r.reduce((p,m)=>Zr(Zr({},p),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),l=()=>jp((p,m)=>m.from,s),u=()=>!Object.values(s).filter(Cw).length,d=null,f=p=>{o||(o=p);var m=p-o,h=m/n.dt;s=J4(n,s,h),a(Zr(Zr(Zr({},e),t),l())),o=p,u()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{var p;(p=d)===null||p===void 0||p()})}function zH(e,t,n,r,a,i,o){var s=null,l=a.reduce((f,p)=>{var m=e[p],h=t[p];return m==null||h==null?f:Zr(Zr({},f),{},{[p]:[m,h]})},{}),u,d=f=>{u||(u=f);var p=(f-u)/r,m=jp((v,b)=>Qg(...b,n(p)),l);if(i(Zr(Zr(Zr({},e),t),m)),p<1)s=o.setTimeout(d);else{var h=jp((v,b)=>Qg(...b,n(1)),l);i(Zr(Zr(Zr({},e),t),h))}};return()=>(s=o.setTimeout(d),()=>{var f;(f=s)===null||f===void 0||f()})}const UH=(e,t,n,r,a,i)=>{var o=LH(e,t);return n==null?()=>(a(Zr(Zr({},e),t)),()=>{}):n.isStepper===!0?BH(e,t,n,o,a,i):zH(e,t,n,r,o,a,i)};var Xg=1e-4,Z4=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],Q4=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),fA=(e,t)=>n=>{var r=Z4(e,t);return Q4(r,n)},VH=(e,t)=>n=>{var r=Z4(e,t),a=[...r.map((i,o)=>i*o).slice(1),0];return Q4(a,n)},WH=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var a=r.map(i=>parseFloat(i));return[a[0],a[1],a[2],a[3]]},qH=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length===1)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var r=WH(t[0]);if(r)return r}}return t.length===4?t:[0,0,1,1]},HH=(e,t,n,r)=>{var a=fA(e,n),i=fA(t,r),o=VH(e,n),s=u=>u>1?1:u<0?0:u,l=u=>{for(var d=u>1?1:u,f=d,p=0;p<8;++p){var m=a(f)-d,h=o(f);if(Math.abs(m-d)<Xg||h<Xg)return i(f);f=s(f-m/h)}return i(f)};return l.isStepper=!1,l},pA=function(){return HH(...qH(...arguments))},KH=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:t=100,damping:n=8,dt:r=17}=e,a=(i,o,s)=>{var l=-(i-o)*t,u=s*n,d=s+(l-u)*r/1e3,f=s*r/1e3+i;return Math.abs(f-o)<Xg&&Math.abs(d)<Xg?[o,0]:[f,d]};return a.isStepper=!0,a.dt=r,a},GH=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return pA(e);case"spring":return KH();default:if(e.split("(")[0]==="cubic-bezier")return pA(e)}return typeof e=="function"?e:null};function YH(e){var t,n=()=>null,r=!1,a=null,i=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var s=o,[l,...u]=s;if(typeof l=="number"){a=e.setTimeout(i.bind(null,u),l);return}i(l),a=e.setTimeout(i.bind(null,u));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,a&&(a(),a=null),i(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class JH{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,i=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function ZH(){return YH(new JH)}var QH=g.createContext(ZH);function XH(e,t){var n=g.useContext(QH);return g.useMemo(()=>t??n(e),[e,t,n])}var eK=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Oy={isSsr:eK()},tK={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},mA={t:0},cb={t:1};function Iy(e){var t=qr(e,tK),{isActive:n,canBegin:r,duration:a,easing:i,begin:o,onAnimationEnd:s,onAnimationStart:l,children:u}=t,d=n==="auto"?!Oy.isSsr:n,f=XH(t.animationId,t.animationManager),[p,m]=g.useState(d?mA:cb),h=g.useRef(null);return g.useEffect(()=>{d||m(cb)},[d]),g.useEffect(()=>{if(!d||!r)return qp;var v=UH(mA,cb,GH(i),a,m,f.getTimeoutController()),b=()=>{h.current=v()};return f.start([l,o,b,a,s]),()=>{f.stop(),h.current&&h.current(),s()}},[d,r,a,i,o,l,s,f]),u(p.t)}function _y(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=g.useRef(vp(t)),r=g.useRef(e);return r.current!==e&&(n.current=vp(t),r.current=e),n.current}var nK=["radius"],rK=["radius"],hA,gA,yA,vA,bA,xA,wA,kA,SA,NA;function jA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function CA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jA(Object(n),!0).forEach(function(r){aK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aK(e,t,n){return(t=iK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iK(e){var t=oK(e,"string");return typeof t=="symbol"?t:t+""}function oK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e0(){return e0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e0.apply(null,arguments)}function AA(e,t){if(e==null)return{};var n,r,a=sK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function sK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Go(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var MA=(e,t,n,r,a)=>{var i=Ol(n),o=Ol(r),s=Math.min(Math.abs(i)/2,Math.abs(o)/2),l=o>=0?1:-1,u=i>=0?1:-1,d=o>=0&&i>=0||o<0&&i<0?1:0,f;if(s>0&&a instanceof Array){for(var p=[0,0,0,0],m=0,h=4;m<h;m++)p[m]=a[m]>s?s:a[m];f=Cr(hA||(hA=Go(["M",",",""])),e,t+l*p[0]),p[0]>0&&(f+=Cr(gA||(gA=Go(["A ",",",",0,0,",",",",",""])),p[0],p[0],d,e+u*p[0],t)),f+=Cr(yA||(yA=Go(["L ",",",""])),e+n-u*p[1],t),p[1]>0&&(f+=Cr(vA||(vA=Go(["A ",",",",0,0,",`,
        `,",",""])),p[1],p[1],d,e+n,t+l*p[1])),f+=Cr(bA||(bA=Go(["L ",",",""])),e+n,t+r-l*p[2]),p[2]>0&&(f+=Cr(xA||(xA=Go(["A ",",",",0,0,",`,
        `,",",""])),p[2],p[2],d,e+n-u*p[2],t+r)),f+=Cr(wA||(wA=Go(["L ",",",""])),e+u*p[3],t+r),p[3]>0&&(f+=Cr(kA||(kA=Go(["A ",",",",0,0,",`,
        `,",",""])),p[3],p[3],d,e,t+r-l*p[3])),f+="Z"}else if(s>0&&a===+a&&a>0){var v=Math.min(s,a);f=Cr(SA||(SA=Go(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+l*v,v,v,d,e+u*v,t,e+n-u*v,t,v,v,d,e+n,t+l*v,e+n,t+r-l*v,v,v,d,e+n-u*v,t+r,e+u*v,t+r,v,v,d,e,t+r-l*v)}else f=Cr(NA||(NA=Go(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return f},EA={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},X4=e=>{var t=qr(e,EA),n=g.useRef(null),[r,a]=g.useState(-1);g.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var te=n.current.getTotalLength();te&&a(te)}catch{}},[]);var{x:i,y:o,width:s,height:l,radius:u,className:d}=t,{animationEasing:f,animationDuration:p,animationBegin:m,isAnimationActive:h,isUpdateAnimationActive:v}=t,b=g.useRef(s),y=g.useRef(l),x=g.useRef(i),w=g.useRef(o),S=g.useMemo(()=>({x:i,y:o,width:s,height:l,radius:u}),[i,o,s,l,u]),j=_y(S,"rectangle-");if(i!==+i||o!==+o||s!==+s||l!==+l||s===0||l===0)return null;var N=Tn("recharts-rectangle",d);if(!v){var A=Ua(t),{radius:P}=A,B=AA(A,nK);return g.createElement("path",e0({},B,{x:Ol(i),y:Ol(o),width:Ol(s),height:Ol(l),radius:typeof u=="number"?u:void 0,className:N,d:MA(i,o,s,l,u)}))}var D=b.current,I=y.current,O=x.current,H=w.current,J="0px ".concat(r===-1?1:r,"px"),ie="".concat(r,"px 0px"),we=Y4(["strokeDasharray"],p,typeof f=="string"?f:EA.animationEasing);return g.createElement(Iy,{animationId:j,key:j,canBegin:r>0,duration:p,easing:f,isActive:v,begin:m},te=>{var q=Ra(D,s,te),W=Ra(I,l,te),k=Ra(O,i,te),$=Ra(H,o,te);n.current&&(b.current=q,y.current=W,x.current=k,w.current=$);var T;h?te>0?T={transition:we,strokeDasharray:ie}:T={strokeDasharray:J}:T={strokeDasharray:ie};var C=Ua(t),{radius:R}=C,V=AA(C,rK);return g.createElement("path",e0({},V,{radius:typeof u=="number"?u:void 0,className:N,d:MA(k,$,q,W,u),ref:n,style:CA(CA({},T),t.style)}))})};function DA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function PA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DA(Object(n),!0).forEach(function(r){lK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lK(e,t,n){return(t=cK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cK(e){var t=uK(e,"string");return typeof t=="symbol"?t:t+""}function uK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var t0=Math.PI/180,dK=e=>e*180/Math.PI,Vr=(e,t,n,r)=>({x:e+Math.cos(-t0*r)*n,y:t+Math.sin(-t0*r)*n}),eI=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},fK=(e,t)=>{var{x:n,y:r}=e,{x:a,y:i}=t;return Math.sqrt((n-a)**2+(r-i)**2)},pK=(e,t)=>{var{x:n,y:r}=e,{cx:a,cy:i}=t,o=fK({x:n,y:r},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var s=(n-a)/o,l=Math.acos(s);return r>i&&(l=2*Math.PI-l),{radius:o,angle:dK(l),angleInRadian:l}},mK=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),a=Math.floor(n/360),i=Math.min(r,a);return{startAngle:t-i*360,endAngle:n-i*360}},hK=(e,t)=>{var{startAngle:n,endAngle:r}=t,a=Math.floor(n/360),i=Math.floor(r/360),o=Math.min(a,i);return e+o*360},gK=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:a,angle:i}=pK({x:n,y:r},t),{innerRadius:o,outerRadius:s}=t;if(a<o||a>s||a===0)return null;var{startAngle:l,endAngle:u}=mK(t),d=i,f;if(l<=u){for(;d>u;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=u}else{for(;d>l;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=l}return f?PA(PA({},t),{},{radius:a,angle:hK(d,t)}):null};function tI(e){var{cx:t,cy:n,radius:r,startAngle:a,endAngle:i}=e,o=Vr(t,n,r,a),s=Vr(t,n,r,i);return{points:[o,s],cx:t,cy:n,radius:r,startAngle:a,endAngle:i}}var TA,OA,IA,_A,LA,FA,RA;function Aw(){return Aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Aw.apply(null,arguments)}function _c(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var yK=(e,t)=>{var n=$a(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},gh=e=>{var{cx:t,cy:n,radius:r,angle:a,sign:i,isExternal:o,cornerRadius:s,cornerIsExternal:l}=e,u=s*(o?1:-1)+r,d=Math.asin(s/u)/t0,f=l?a:a+i*d,p=Vr(t,n,u,f),m=Vr(t,n,r,f),h=l?a-i*d:a,v=Vr(t,n,u*Math.cos(d*t0),h);return{center:p,circleTangency:m,lineTangency:v,theta:d}},nI=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:i,endAngle:o}=e,s=yK(i,o),l=i+s,u=Vr(t,n,a,i),d=Vr(t,n,a,l),f=Cr(TA||(TA=_c(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,a,a,+(Math.abs(s)>180),+(i>l),d.x,d.y);if(r>0){var p=Vr(t,n,r,i),m=Vr(t,n,r,l);f+=Cr(OA||(OA=_c(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,r,r,+(Math.abs(s)>180),+(i<=l),p.x,p.y)}else f+=Cr(IA||(IA=_c(["L ",","," Z"])),t,n);return f},vK=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:u}=e,d=$a(u-l),{circleTangency:f,lineTangency:p,theta:m}=gh({cx:t,cy:n,radius:a,angle:l,sign:d,cornerRadius:i,cornerIsExternal:s}),{circleTangency:h,lineTangency:v,theta:b}=gh({cx:t,cy:n,radius:a,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:s}),y=s?Math.abs(l-u):Math.abs(l-u)-m-b;if(y<0)return o?Cr(_A||(_A=_c(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),p.x,p.y,i,i,i*2,i,i,-i*2):nI({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:l,endAngle:u});var x=Cr(LA||(LA=_c(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),p.x,p.y,i,i,+(d<0),f.x,f.y,a,a,+(y>180),+(d<0),h.x,h.y,i,i,+(d<0),v.x,v.y);if(r>0){var{circleTangency:w,lineTangency:S,theta:j}=gh({cx:t,cy:n,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),{circleTangency:N,lineTangency:A,theta:P}=gh({cx:t,cy:n,radius:r,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),B=s?Math.abs(l-u):Math.abs(l-u)-j-P;if(B<0&&i===0)return"".concat(x,"L").concat(t,",").concat(n,"Z");x+=Cr(FA||(FA=_c(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),A.x,A.y,i,i,+(d<0),N.x,N.y,r,r,+(B>180),+(d>0),w.x,w.y,i,i,+(d<0),S.x,S.y)}else x+=Cr(RA||(RA=_c(["L",",","Z"])),t,n);return x},bK={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},rI=e=>{var t=qr(e,bK),{cx:n,cy:r,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:d,className:f}=t;if(i<a||u===d)return null;var p=Tn("recharts-sector",f),m=i-a,h=to(o,m,0,!0),v;return h>0&&Math.abs(u-d)<360?v=vK({cx:n,cy:r,innerRadius:a,outerRadius:i,cornerRadius:Math.min(h,m/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:d}):v=nI({cx:n,cy:r,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d}),g.createElement("path",Aw({},Ua(t),{className:p,d:v}))};function xK(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(h3(t)){if(e==="centric"){var{cx:r,cy:a,innerRadius:i,outerRadius:o,angle:s}=t,l=Vr(r,a,i,s),u=Vr(r,a,o,s);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return tI(t)}}var aI={},iI={},oI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jk;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(oI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oI;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(iI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zk,n=iI;function r(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=n.toFinite(a),i===void 0?(i=a,a=0):i=n.toFinite(i),o=o===void 0?a<i?1:-1:n.toFinite(o);const s=Math.max(Math.ceil((i-a)/(o||1)),0),l=new Array(s);for(let u=0;u<s;u++)l[u]=a,a+=o;return l}e.range=r})(aI);var wK=aI.range;const sI=_o(wK);function Vl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function kK(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function uS(e){let t,n,r;e.length!==2?(t=Vl,n=(s,l)=>Vl(e(s),l),r=(s,l)=>e(s)-l):(t=e===Vl||e===kK?e:SK,n=e,r=e);function a(s,l,u=0,d=s.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;n(s[f],l)<0?u=f+1:d=f}while(u<d)}return u}function i(s,l,u=0,d=s.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;n(s[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function o(s,l,u=0,d=s.length){const f=a(s,l,u,d-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:a,center:o,right:i}}function SK(){return 0}function lI(e){return e===null?NaN:+e}function*NK(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const jK=uS(Vl),Qp=jK.right;uS(lI).center;class $A extends Map{constructor(t,n=MK){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(BA(this,t))}has(t){return super.has(BA(this,t))}set(t,n){return super.set(CK(this,t),n)}delete(t){return super.delete(AK(this,t))}}function BA({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function CK({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function AK({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function MK(e){return e!==null&&typeof e=="object"?e.valueOf():e}function EK(e=Vl){if(e===Vl)return cI;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function cI(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const DK=Math.sqrt(50),PK=Math.sqrt(10),TK=Math.sqrt(2);function n0(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=DK?10:i>=PK?5:i>=TK?2:1;let s,l,u;return a<0?(u=Math.pow(10,-a)/o,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,a)*o,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=n&&n<2?n0(e,t,n*2):[s,l,u]}function Mw(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,i,o]=r?n0(t,e,n):n0(e,t,n);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(i-u)/-o;else for(let u=0;u<s;++u)l[u]=(i-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(a+u)/-o;else for(let u=0;u<s;++u)l[u]=(a+u)*o;return l}function Ew(e,t,n){return t=+t,e=+e,n=+n,n0(e,t,n)[2]}function Dw(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?Ew(t,e,n):Ew(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function zA(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function UA(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function uI(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?cI:EK(a);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(t-u*f/l+p)),h=Math.min(r,Math.floor(t+(l-u)*f/l+p));uI(e,t,m,h,a)}const i=e[t];let o=n,s=r;for(mf(e,n,t),a(e[r],i)>0&&mf(e,n,r);o<s;){for(mf(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}a(e[n],i)===0?mf(e,n,s):(++s,mf(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function mf(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function OK(e,t,n){if(e=Float64Array.from(NK(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return UA(e);if(t>=1)return zA(e);var r,a=(r-1)*t,i=Math.floor(a),o=zA(uI(e,i).subarray(0,i+1)),s=UA(e.subarray(i+1));return o+(s-o)*(a-i)}}function IK(e,t,n=lI){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),o=+n(e[i],i,e),s=+n(e[i+1],i+1,e);return o+(s-o)*(a-i)}}function _K(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++r<a;)i[r]=e+r*n;return i}function co(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function al(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Pw=Symbol("implicit");function dS(){var e=new $A,t=[],n=[],r=Pw;function a(i){let o=e.get(i);if(o===void 0){if(r!==Pw)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new $A;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return dS(t,n).unknown(r)},co.apply(a,arguments),a}function fS(){var e=dS().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,i,o,s=!1,l=0,u=0,d=.5;delete e.unknown;function f(){var p=t().length,m=a<r,h=m?a:r,v=m?r:a;i=(v-h)/Math.max(1,p-l+u*2),s&&(i=Math.floor(i)),h+=(v-h-i*(p-l))*d,o=i*(1-l),s&&(h=Math.round(h),o=Math.round(o));var b=_K(p).map(function(y){return h+i*y});return n(m?b.reverse():b)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([r,a]=p,r=+r,a=+a,f()):[r,a]},e.rangeRound=function(p){return[r,a]=p,r=+r,a=+a,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(p){return arguments.length?(s=!!p,f()):s},e.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),f()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},e.paddingOuter=function(p){return arguments.length?(u=+p,f()):u},e.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},e.copy=function(){return fS(t(),[r,a]).round(s).paddingInner(l).paddingOuter(u).align(d)},co.apply(f(),arguments)}function dI(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return dI(t())},e}function LK(){return dI(fS.apply(null,arguments).paddingInner(1))}function pS(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function fI(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Xp(){}var Cp=.7,r0=1/Cp,od="\\s*([+-]?\\d+)\\s*",Ap="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",as="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",FK=/^#([0-9a-f]{3,8})$/,RK=new RegExp(`^rgb\\(${od},${od},${od}\\)$`),$K=new RegExp(`^rgb\\(${as},${as},${as}\\)$`),BK=new RegExp(`^rgba\\(${od},${od},${od},${Ap}\\)$`),zK=new RegExp(`^rgba\\(${as},${as},${as},${Ap}\\)$`),UK=new RegExp(`^hsl\\(${Ap},${as},${as}\\)$`),VK=new RegExp(`^hsla\\(${Ap},${as},${as},${Ap}\\)$`),VA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};pS(Xp,Mp,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:WA,formatHex:WA,formatHex8:WK,formatHsl:qK,formatRgb:qA,toString:qA});function WA(){return this.rgb().formatHex()}function WK(){return this.rgb().formatHex8()}function qK(){return pI(this).formatHsl()}function qA(){return this.rgb().formatRgb()}function Mp(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=FK.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?HA(t):n===3?new ui(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?yh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?yh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=RK.exec(e))?new ui(t[1],t[2],t[3],1):(t=$K.exec(e))?new ui(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=BK.exec(e))?yh(t[1],t[2],t[3],t[4]):(t=zK.exec(e))?yh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=UK.exec(e))?YA(t[1],t[2]/100,t[3]/100,1):(t=VK.exec(e))?YA(t[1],t[2]/100,t[3]/100,t[4]):VA.hasOwnProperty(e)?HA(VA[e]):e==="transparent"?new ui(NaN,NaN,NaN,0):null}function HA(e){return new ui(e>>16&255,e>>8&255,e&255,1)}function yh(e,t,n,r){return r<=0&&(e=t=n=NaN),new ui(e,t,n,r)}function HK(e){return e instanceof Xp||(e=Mp(e)),e?(e=e.rgb(),new ui(e.r,e.g,e.b,e.opacity)):new ui}function Tw(e,t,n,r){return arguments.length===1?HK(e):new ui(e,t,n,r??1)}function ui(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}pS(ui,Tw,fI(Xp,{brighter(e){return e=e==null?r0:Math.pow(r0,e),new ui(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Cp:Math.pow(Cp,e),new ui(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ui(qc(this.r),qc(this.g),qc(this.b),a0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:KA,formatHex:KA,formatHex8:KK,formatRgb:GA,toString:GA}));function KA(){return`#${Lc(this.r)}${Lc(this.g)}${Lc(this.b)}`}function KK(){return`#${Lc(this.r)}${Lc(this.g)}${Lc(this.b)}${Lc((isNaN(this.opacity)?1:this.opacity)*255)}`}function GA(){const e=a0(this.opacity);return`${e===1?"rgb(":"rgba("}${qc(this.r)}, ${qc(this.g)}, ${qc(this.b)}${e===1?")":`, ${e})`}`}function a0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function qc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Lc(e){return e=qc(e),(e<16?"0":"")+e.toString(16)}function YA(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ko(e,t,n,r)}function pI(e){if(e instanceof ko)return new ko(e.h,e.s,e.l,e.opacity);if(e instanceof Xp||(e=Mp(e)),!e)return new ko;if(e instanceof ko)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,s=i-a,l=(i+a)/2;return s?(t===i?o=(n-r)/s+(n<r)*6:n===i?o=(r-t)/s+2:o=(t-n)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new ko(o,s,l,e.opacity)}function GK(e,t,n,r){return arguments.length===1?pI(e):new ko(e,t,n,r??1)}function ko(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}pS(ko,GK,fI(Xp,{brighter(e){return e=e==null?r0:Math.pow(r0,e),new ko(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Cp:Math.pow(Cp,e),new ko(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new ui(ub(e>=240?e-240:e+120,a,r),ub(e,a,r),ub(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new ko(JA(this.h),vh(this.s),vh(this.l),a0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=a0(this.opacity);return`${e===1?"hsl(":"hsla("}${JA(this.h)}, ${vh(this.s)*100}%, ${vh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function JA(e){return e=(e||0)%360,e<0?e+360:e}function vh(e){return Math.max(0,Math.min(1,e||0))}function ub(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const mS=e=>()=>e;function YK(e,t){return function(n){return e+n*t}}function JK(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function ZK(e){return(e=+e)==1?mI:function(t,n){return n-t?JK(t,n,e):mS(isNaN(t)?n:t)}}function mI(e,t){var n=t-e;return n?YK(e,n):mS(isNaN(e)?t:e)}const ZA=function e(t){var n=ZK(t);function r(a,i){var o=n((a=Tw(a)).r,(i=Tw(i)).r),s=n(a.g,i.g),l=n(a.b,i.b),u=mI(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=s(d),a.b=l(d),a.opacity=u(d),a+""}}return r.gamma=e,r}(1);function QK(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function XK(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function eG(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=_d(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(s){for(o=0;o<r;++o)i[o]=a[o](s);return i}}function tG(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function i0(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function nG(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=_d(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var Ow=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,db=new RegExp(Ow.source,"g");function rG(e){return function(){return e}}function aG(e){return function(t){return e(t)+""}}function iG(e,t){var n=Ow.lastIndex=db.lastIndex=0,r,a,i,o=-1,s=[],l=[];for(e=e+"",t=t+"";(r=Ow.exec(e))&&(a=db.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),s[o]?s[o]+=i:s[++o]=i),(r=r[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,l.push({i:o,x:i0(r,a)})),n=db.lastIndex;return n<t.length&&(i=t.slice(n),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?aG(l[0].x):rG(t):(t=l.length,function(u){for(var d=0,f;d<t;++d)s[(f=l[d]).i]=f.x(u);return s.join("")})}function _d(e,t){var n=typeof t,r;return t==null||n==="boolean"?mS(t):(n==="number"?i0:n==="string"?(r=Mp(t))?(t=r,ZA):iG:t instanceof Mp?ZA:t instanceof Date?tG:XK(t)?QK:Array.isArray(t)?eG:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?nG:i0)(e,t)}function hS(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function oG(e,t){t===void 0&&(t=e,e=_d);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[s](o-s)}}function sG(e){return function(){return e}}function o0(e){return+e}var QA=[0,1];function Ya(e){return e}function Iw(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:sG(isNaN(t)?NaN:.5)}function lG(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function cG(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=Iw(a,r),i=n(o,i)):(r=Iw(r,a),i=n(i,o)),function(s){return i(r(s))}}function uG(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=Iw(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(s){var l=Qp(e,s,1,r)-1;return i[l](a[l](s))}}function em(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ly(){var e=QA,t=QA,n=_d,r,a,i,o=Ya,s,l,u;function d(){var p=Math.min(e.length,t.length);return o!==Ya&&(o=lG(e[0],e[p-1])),s=p>2?uG:cG,l=u=null,f}function f(p){return p==null||isNaN(p=+p)?i:(l||(l=s(e.map(r),t,n)))(r(o(p)))}return f.invert=function(p){return o(a((u||(u=s(t,e.map(r),i0)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,o0),d()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),d()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),n=hS,d()},f.clamp=function(p){return arguments.length?(o=p?!0:Ya,d()):o!==Ya},f.interpolate=function(p){return arguments.length?(n=p,d()):n},f.unknown=function(p){return arguments.length?(i=p,f):i},function(p,m){return r=p,a=m,d()}}function gS(){return Ly()(Ya,Ya)}function dG(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function s0(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function kd(e){return e=s0(Math.abs(e)),e?e[1]:NaN}function fG(e,t){return function(n,r){for(var a=n.length,i=[],o=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),i.push(n.substring(a-=s,a+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function pG(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var mG=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ep(e){if(!(t=mG.exec(e)))throw new Error("invalid format: "+e);var t;return new yS({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ep.prototype=yS.prototype;function yS(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}yS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function hG(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var l0;function gG(e,t){var n=s0(e,t);if(!n)return l0=void 0,e.toPrecision(t);var r=n[0],a=n[1],i=a-(l0=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+s0(e,Math.max(0,t+i-1))[0]}function XA(e,t){var n=s0(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const eM={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:dG,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>XA(e*100,t),r:XA,s:gG,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function tM(e){return e}var nM=Array.prototype.map,rM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function yG(e){var t=e.grouping===void 0||e.thousands===void 0?tM:fG(nM.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?tM:pG(nM.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f,p){f=Ep(f);var m=f.fill,h=f.align,v=f.sign,b=f.symbol,y=f.zero,x=f.width,w=f.comma,S=f.precision,j=f.trim,N=f.type;N==="n"?(w=!0,N="g"):eM[N]||(S===void 0&&(S=12),j=!0,N="g"),(y||m==="0"&&h==="=")&&(y=!0,m="0",h="=");var A=(p&&p.prefix!==void 0?p.prefix:"")+(b==="$"?n:b==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():""),P=(b==="$"?r:/[%p]/.test(N)?o:"")+(p&&p.suffix!==void 0?p.suffix:""),B=eM[N],D=/[defgprs%]/.test(N);S=S===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function I(O){var H=A,J=P,ie,we,te;if(N==="c")J=B(O)+J,O="";else{O=+O;var q=O<0||1/O<0;if(O=isNaN(O)?l:B(Math.abs(O),S),j&&(O=hG(O)),q&&+O==0&&v!=="+"&&(q=!1),H=(q?v==="("?v:s:v==="-"||v==="("?"":v)+H,J=(N==="s"&&!isNaN(O)&&l0!==void 0?rM[8+l0/3]:"")+J+(q&&v==="("?")":""),D){for(ie=-1,we=O.length;++ie<we;)if(te=O.charCodeAt(ie),48>te||te>57){J=(te===46?a+O.slice(ie+1):O.slice(ie))+J,O=O.slice(0,ie);break}}}w&&!y&&(O=t(O,1/0));var W=H.length+O.length+J.length,k=W<x?new Array(x-W+1).join(m):"";switch(w&&y&&(O=t(k+O,k.length?x-J.length:1/0),k=""),h){case"<":O=H+O+J+k;break;case"=":O=H+k+O+J;break;case"^":O=k.slice(0,W=k.length>>1)+H+O+J+k.slice(W);break;default:O=k+H+O+J;break}return i(O)}return I.toString=function(){return f+""},I}function d(f,p){var m=Math.max(-8,Math.min(8,Math.floor(kd(p)/3)))*3,h=Math.pow(10,-m),v=u((f=Ep(f),f.type="f",f),{suffix:rM[8+m/3]});return function(b){return v(h*b)}}return{format:u,formatPrefix:d}}var bh,vS,hI;vG({thousands:",",grouping:[3],currency:["$",""]});function vG(e){return bh=yG(e),vS=bh.format,hI=bh.formatPrefix,bh}function bG(e){return Math.max(0,-kd(Math.abs(e)))}function xG(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(kd(t)/3)))*3-kd(Math.abs(e)))}function wG(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,kd(t)-kd(e))+1}function gI(e,t,n,r){var a=Dw(e,t,n),i;switch(r=Ep(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=xG(a,o))&&(r.precision=i),hI(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=wG(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=bG(a))&&(r.precision=i-(r.type==="%")*2);break}}return vS(r)}function nc(e){var t=e.domain;return e.ticks=function(n){var r=t();return Mw(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return gI(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,o=r[a],s=r[i],l,u,d=10;for(s<o&&(u=o,o=s,s=u,u=a,a=i,i=u);d-- >0;){if(u=Ew(o,s,n),u===l)return r[a]=o,r[i]=s,t(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function yI(){var e=gS();return e.copy=function(){return em(e,yI())},co.apply(e,arguments),nc(e)}function vI(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,o0),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return vI(e).unknown(t)},e=arguments.length?Array.from(e,o0):[0,1],nc(n)}function bI(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],i=e[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),e[n]=t.floor(a),e[r]=t.ceil(i),e}function aM(e){return Math.log(e)}function iM(e){return Math.exp(e)}function kG(e){return-Math.log(-e)}function SG(e){return-Math.exp(-e)}function NG(e){return isFinite(e)?+("1e"+e):e<0?0:e}function jG(e){return e===10?NG:e===Math.E?Math.exp:t=>Math.pow(e,t)}function CG(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function oM(e){return(t,n)=>-e(-t,n)}function bS(e){const t=e(aM,iM),n=t.domain;let r=10,a,i;function o(){return a=CG(r),i=jG(r),n()[0]<0?(a=oM(a),i=oM(i),e(kG,SG)):e(aM,iM),t}return t.base=function(s){return arguments.length?(r=+s,o()):r},t.domain=function(s){return arguments.length?(n(s),o()):n()},t.ticks=s=>{const l=n();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let p=a(u),m=a(d),h,v;const b=s==null?10:+s;let y=[];if(!(r%1)&&m-p<b){if(p=Math.floor(p),m=Math.ceil(m),u>0){for(;p<=m;++p)for(h=1;h<r;++h)if(v=p<0?h/i(-p):h*i(p),!(v<u)){if(v>d)break;y.push(v)}}else for(;p<=m;++p)for(h=r-1;h>=1;--h)if(v=p>0?h/i(-p):h*i(p),!(v<u)){if(v>d)break;y.push(v)}y.length*2<b&&(y=Mw(u,d,b))}else y=Mw(p,m,Math.min(m-p,b)).map(i);return f?y.reverse():y},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Ep(l)).precision==null&&(l.trim=!0),l=vS(l)),s===1/0)return l;const u=Math.max(1,r*s/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*r<r-.5&&(f*=r),f<=u?l(d):""}},t.nice=()=>n(bI(n(),{floor:s=>i(Math.floor(a(s))),ceil:s=>i(Math.ceil(a(s)))})),t}function xI(){const e=bS(Ly()).domain([1,10]);return e.copy=()=>em(e,xI()).base(e.base()),co.apply(e,arguments),e}function sM(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function lM(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function xS(e){var t=1,n=e(sM(t),lM(t));return n.constant=function(r){return arguments.length?e(sM(t=+r),lM(t)):t},nc(n)}function wI(){var e=xS(Ly());return e.copy=function(){return em(e,wI()).constant(e.constant())},co.apply(e,arguments)}function cM(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function AG(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function MG(e){return e<0?-e*e:e*e}function wS(e){var t=e(Ya,Ya),n=1;function r(){return n===1?e(Ya,Ya):n===.5?e(AG,MG):e(cM(n),cM(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},nc(t)}function kS(){var e=wS(Ly());return e.copy=function(){return em(e,kS()).exponent(e.exponent())},co.apply(e,arguments),e}function EG(){return kS.apply(null,arguments).exponent(.5)}function uM(e){return Math.sign(e)*e*e}function DG(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function kI(){var e=gS(),t=[0,1],n=!1,r;function a(i){var o=DG(e(i));return isNaN(o)?r:n?Math.round(o):o}return a.invert=function(i){return e.invert(uM(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,o0)).map(uM)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return kI(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},co.apply(a,arguments),nc(a)}function SI(){var e=[],t=[],n=[],r;function a(){var o=0,s=Math.max(1,t.length);for(n=new Array(s-1);++o<s;)n[o-1]=IK(e,o/s);return i}function i(o){return o==null||isNaN(o=+o)?r:t[Qp(n,o)]}return i.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Vl),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return SI().domain(e).range(t).unknown(r)},co.apply(i,arguments)}function NI(){var e=0,t=1,n=1,r=[.5],a=[0,1],i;function o(l){return l!=null&&l<=l?a[Qp(r,l,0,n)]:i}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(n=(a=Array.from(l)).length-1,s()):a.slice()},o.invertExtent=function(l){var u=a.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(i=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return NI().domain([e,t]).range(a).unknown(i)},co.apply(nc(o),arguments)}function jI(){var e=[.5],t=[0,1],n,r=1;function a(i){return i!=null&&i<=i?t[Qp(e,i,0,r)]:n}return a.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return jI().domain(e).range(t).unknown(n)},co.apply(a,arguments)}const fb=new Date,pb=new Date;function ea(e,t,n,r){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{const l=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return l;let u;do l.push(u=new Date(+i)),t(i,s),e(i);while(u<i&&i<o);return l},a.filter=i=>ea(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!i(o););else for(;--s>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>(fb.setTime(+i),pb.setTime(+o),e(fb),e(pb),Math.floor(n(fb,pb))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const c0=ea(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);c0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ea(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):c0);c0.range;const Ts=1e3,Xi=Ts*60,Os=Xi*60,Ks=Os*24,SS=Ks*7,dM=Ks*30,mb=Ks*365,Fc=ea(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ts)},(e,t)=>(t-e)/Ts,e=>e.getUTCSeconds());Fc.range;const NS=ea(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ts)},(e,t)=>{e.setTime(+e+t*Xi)},(e,t)=>(t-e)/Xi,e=>e.getMinutes());NS.range;const jS=ea(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Xi)},(e,t)=>(t-e)/Xi,e=>e.getUTCMinutes());jS.range;const CS=ea(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ts-e.getMinutes()*Xi)},(e,t)=>{e.setTime(+e+t*Os)},(e,t)=>(t-e)/Os,e=>e.getHours());CS.range;const AS=ea(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Os)},(e,t)=>(t-e)/Os,e=>e.getUTCHours());AS.range;const tm=ea(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Xi)/Ks,e=>e.getDate()-1);tm.range;const Fy=ea(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ks,e=>e.getUTCDate()-1);Fy.range;const CI=ea(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ks,e=>Math.floor(e/Ks));CI.range;function fu(e){return ea(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Xi)/SS)}const Ry=fu(0),u0=fu(1),PG=fu(2),TG=fu(3),Sd=fu(4),OG=fu(5),IG=fu(6);Ry.range;u0.range;PG.range;TG.range;Sd.range;OG.range;IG.range;function pu(e){return ea(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/SS)}const $y=pu(0),d0=pu(1),_G=pu(2),LG=pu(3),Nd=pu(4),FG=pu(5),RG=pu(6);$y.range;d0.range;_G.range;LG.range;Nd.range;FG.range;RG.range;const MS=ea(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());MS.range;const ES=ea(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ES.range;const Gs=ea(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Gs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ea(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Gs.range;const Ys=ea(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ys.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ea(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Ys.range;function AI(e,t,n,r,a,i){const o=[[Fc,1,Ts],[Fc,5,5*Ts],[Fc,15,15*Ts],[Fc,30,30*Ts],[i,1,Xi],[i,5,5*Xi],[i,15,15*Xi],[i,30,30*Xi],[a,1,Os],[a,3,3*Os],[a,6,6*Os],[a,12,12*Os],[r,1,Ks],[r,2,2*Ks],[n,1,SS],[t,1,dM],[t,3,3*dM],[e,1,mb]];function s(u,d,f){const p=d<u;p&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:l(u,d,f),h=m?m.range(u,+d+1):[];return p?h.reverse():h}function l(u,d,f){const p=Math.abs(d-u)/f,m=uS(([,,b])=>b).right(o,p);if(m===o.length)return e.every(Dw(u/mb,d/mb,f));if(m===0)return c0.every(Math.max(Dw(u,d,f),1));const[h,v]=o[p/o[m-1][2]<o[m][2]/p?m-1:m];return h.every(v)}return[s,l]}const[$G,BG]=AI(Ys,ES,$y,CI,AS,jS),[zG,UG]=AI(Gs,MS,Ry,tm,CS,NS);function hb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function gb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function hf(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function VG(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,u=gf(a),d=yf(a),f=gf(i),p=yf(i),m=gf(o),h=yf(o),v=gf(s),b=yf(s),y=gf(l),x=yf(l),w={a:te,A:q,b:W,B:k,c:null,d:yM,e:yM,f:fY,g:kY,G:NY,H:cY,I:uY,j:dY,L:MI,m:pY,M:mY,p:$,q:T,Q:xM,s:wM,S:hY,u:gY,U:yY,V:vY,w:bY,W:xY,x:null,X:null,y:wY,Y:SY,Z:jY,"%":bM},S={a:C,A:R,b:V,B:Q,c:null,d:vM,e:vM,f:EY,g:$Y,G:zY,H:CY,I:AY,j:MY,L:DI,m:DY,M:PY,p:ce,q:Y,Q:xM,s:wM,S:TY,u:OY,U:IY,V:_Y,w:LY,W:FY,x:null,X:null,y:RY,Y:BY,Z:UY,"%":bM},j={a:D,A:I,b:O,B:H,c:J,d:hM,e:hM,f:iY,g:mM,G:pM,H:gM,I:gM,j:tY,L:aY,m:eY,M:nY,p:B,q:XG,Q:sY,s:lY,S:rY,u:GG,U:YG,V:JG,w:KG,W:ZG,x:ie,X:we,y:mM,Y:pM,Z:QG,"%":oY};w.x=N(n,w),w.X=N(r,w),w.c=N(t,w),S.x=N(n,S),S.X=N(r,S),S.c=N(t,S);function N(L,z){return function(re){var F=[],le=-1,ye=0,K=L.length,me,Te,pt;for(re instanceof Date||(re=new Date(+re));++le<K;)L.charCodeAt(le)===37&&(F.push(L.slice(ye,le)),(Te=fM[me=L.charAt(++le)])!=null?me=L.charAt(++le):Te=me==="e"?" ":"0",(pt=z[me])&&(me=pt(re,Te)),F.push(me),ye=le+1);return F.push(L.slice(ye,le)),F.join("")}}function A(L,z){return function(re){var F=hf(1900,void 0,1),le=P(F,L,re+="",0),ye,K;if(le!=re.length)return null;if("Q"in F)return new Date(F.Q);if("s"in F)return new Date(F.s*1e3+("L"in F?F.L:0));if(z&&!("Z"in F)&&(F.Z=0),"p"in F&&(F.H=F.H%12+F.p*12),F.m===void 0&&(F.m="q"in F?F.q:0),"V"in F){if(F.V<1||F.V>53)return null;"w"in F||(F.w=1),"Z"in F?(ye=gb(hf(F.y,0,1)),K=ye.getUTCDay(),ye=K>4||K===0?d0.ceil(ye):d0(ye),ye=Fy.offset(ye,(F.V-1)*7),F.y=ye.getUTCFullYear(),F.m=ye.getUTCMonth(),F.d=ye.getUTCDate()+(F.w+6)%7):(ye=hb(hf(F.y,0,1)),K=ye.getDay(),ye=K>4||K===0?u0.ceil(ye):u0(ye),ye=tm.offset(ye,(F.V-1)*7),F.y=ye.getFullYear(),F.m=ye.getMonth(),F.d=ye.getDate()+(F.w+6)%7)}else("W"in F||"U"in F)&&("w"in F||(F.w="u"in F?F.u%7:"W"in F?1:0),K="Z"in F?gb(hf(F.y,0,1)).getUTCDay():hb(hf(F.y,0,1)).getDay(),F.m=0,F.d="W"in F?(F.w+6)%7+F.W*7-(K+5)%7:F.w+F.U*7-(K+6)%7);return"Z"in F?(F.H+=F.Z/100|0,F.M+=F.Z%100,gb(F)):hb(F)}}function P(L,z,re,F){for(var le=0,ye=z.length,K=re.length,me,Te;le<ye;){if(F>=K)return-1;if(me=z.charCodeAt(le++),me===37){if(me=z.charAt(le++),Te=j[me in fM?z.charAt(le++):me],!Te||(F=Te(L,re,F))<0)return-1}else if(me!=re.charCodeAt(F++))return-1}return F}function B(L,z,re){var F=u.exec(z.slice(re));return F?(L.p=d.get(F[0].toLowerCase()),re+F[0].length):-1}function D(L,z,re){var F=m.exec(z.slice(re));return F?(L.w=h.get(F[0].toLowerCase()),re+F[0].length):-1}function I(L,z,re){var F=f.exec(z.slice(re));return F?(L.w=p.get(F[0].toLowerCase()),re+F[0].length):-1}function O(L,z,re){var F=y.exec(z.slice(re));return F?(L.m=x.get(F[0].toLowerCase()),re+F[0].length):-1}function H(L,z,re){var F=v.exec(z.slice(re));return F?(L.m=b.get(F[0].toLowerCase()),re+F[0].length):-1}function J(L,z,re){return P(L,t,z,re)}function ie(L,z,re){return P(L,n,z,re)}function we(L,z,re){return P(L,r,z,re)}function te(L){return o[L.getDay()]}function q(L){return i[L.getDay()]}function W(L){return l[L.getMonth()]}function k(L){return s[L.getMonth()]}function $(L){return a[+(L.getHours()>=12)]}function T(L){return 1+~~(L.getMonth()/3)}function C(L){return o[L.getUTCDay()]}function R(L){return i[L.getUTCDay()]}function V(L){return l[L.getUTCMonth()]}function Q(L){return s[L.getUTCMonth()]}function ce(L){return a[+(L.getUTCHours()>=12)]}function Y(L){return 1+~~(L.getUTCMonth()/3)}return{format:function(L){var z=N(L+="",w);return z.toString=function(){return L},z},parse:function(L){var z=A(L+="",!1);return z.toString=function(){return L},z},utcFormat:function(L){var z=N(L+="",S);return z.toString=function(){return L},z},utcParse:function(L){var z=A(L+="",!0);return z.toString=function(){return L},z}}}var fM={"-":"",_:" ",0:"0"},ga=/^\s*\d+/,WG=/^%/,qG=/[\\^$*+?|[\]().{}]/g;function On(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function HG(e){return e.replace(qG,"\\$&")}function gf(e){return new RegExp("^(?:"+e.map(HG).join("|")+")","i")}function yf(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function KG(e,t,n){var r=ga.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function GG(e,t,n){var r=ga.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function YG(e,t,n){var r=ga.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function JG(e,t,n){var r=ga.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function ZG(e,t,n){var r=ga.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function pM(e,t,n){var r=ga.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function mM(e,t,n){var r=ga.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function QG(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function XG(e,t,n){var r=ga.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function eY(e,t,n){var r=ga.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function hM(e,t,n){var r=ga.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function tY(e,t,n){var r=ga.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function gM(e,t,n){var r=ga.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function nY(e,t,n){var r=ga.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function rY(e,t,n){var r=ga.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function aY(e,t,n){var r=ga.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function iY(e,t,n){var r=ga.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function oY(e,t,n){var r=WG.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function sY(e,t,n){var r=ga.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function lY(e,t,n){var r=ga.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function yM(e,t){return On(e.getDate(),t,2)}function cY(e,t){return On(e.getHours(),t,2)}function uY(e,t){return On(e.getHours()%12||12,t,2)}function dY(e,t){return On(1+tm.count(Gs(e),e),t,3)}function MI(e,t){return On(e.getMilliseconds(),t,3)}function fY(e,t){return MI(e,t)+"000"}function pY(e,t){return On(e.getMonth()+1,t,2)}function mY(e,t){return On(e.getMinutes(),t,2)}function hY(e,t){return On(e.getSeconds(),t,2)}function gY(e){var t=e.getDay();return t===0?7:t}function yY(e,t){return On(Ry.count(Gs(e)-1,e),t,2)}function EI(e){var t=e.getDay();return t>=4||t===0?Sd(e):Sd.ceil(e)}function vY(e,t){return e=EI(e),On(Sd.count(Gs(e),e)+(Gs(e).getDay()===4),t,2)}function bY(e){return e.getDay()}function xY(e,t){return On(u0.count(Gs(e)-1,e),t,2)}function wY(e,t){return On(e.getFullYear()%100,t,2)}function kY(e,t){return e=EI(e),On(e.getFullYear()%100,t,2)}function SY(e,t){return On(e.getFullYear()%1e4,t,4)}function NY(e,t){var n=e.getDay();return e=n>=4||n===0?Sd(e):Sd.ceil(e),On(e.getFullYear()%1e4,t,4)}function jY(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+On(t/60|0,"0",2)+On(t%60,"0",2)}function vM(e,t){return On(e.getUTCDate(),t,2)}function CY(e,t){return On(e.getUTCHours(),t,2)}function AY(e,t){return On(e.getUTCHours()%12||12,t,2)}function MY(e,t){return On(1+Fy.count(Ys(e),e),t,3)}function DI(e,t){return On(e.getUTCMilliseconds(),t,3)}function EY(e,t){return DI(e,t)+"000"}function DY(e,t){return On(e.getUTCMonth()+1,t,2)}function PY(e,t){return On(e.getUTCMinutes(),t,2)}function TY(e,t){return On(e.getUTCSeconds(),t,2)}function OY(e){var t=e.getUTCDay();return t===0?7:t}function IY(e,t){return On($y.count(Ys(e)-1,e),t,2)}function PI(e){var t=e.getUTCDay();return t>=4||t===0?Nd(e):Nd.ceil(e)}function _Y(e,t){return e=PI(e),On(Nd.count(Ys(e),e)+(Ys(e).getUTCDay()===4),t,2)}function LY(e){return e.getUTCDay()}function FY(e,t){return On(d0.count(Ys(e)-1,e),t,2)}function RY(e,t){return On(e.getUTCFullYear()%100,t,2)}function $Y(e,t){return e=PI(e),On(e.getUTCFullYear()%100,t,2)}function BY(e,t){return On(e.getUTCFullYear()%1e4,t,4)}function zY(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Nd(e):Nd.ceil(e),On(e.getUTCFullYear()%1e4,t,4)}function UY(){return"+0000"}function bM(){return"%"}function xM(e){return+e}function wM(e){return Math.floor(+e/1e3)}var Mu,TI,OI;VY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function VY(e){return Mu=VG(e),TI=Mu.format,Mu.parse,OI=Mu.utcFormat,Mu.utcParse,Mu}function WY(e){return new Date(e)}function qY(e){return e instanceof Date?+e:+new Date(+e)}function DS(e,t,n,r,a,i,o,s,l,u){var d=gS(),f=d.invert,p=d.domain,m=u(".%L"),h=u(":%S"),v=u("%I:%M"),b=u("%I %p"),y=u("%a %d"),x=u("%b %d"),w=u("%B"),S=u("%Y");function j(N){return(l(N)<N?m:s(N)<N?h:o(N)<N?v:i(N)<N?b:r(N)<N?a(N)<N?y:x:n(N)<N?w:S)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?p(Array.from(N,qY)):p().map(WY)},d.ticks=function(N){var A=p();return e(A[0],A[A.length-1],N??10)},d.tickFormat=function(N,A){return A==null?j:u(A)},d.nice=function(N){var A=p();return(!N||typeof N.range!="function")&&(N=t(A[0],A[A.length-1],N??10)),N?p(bI(A,N)):d},d.copy=function(){return em(d,DS(e,t,n,r,a,i,o,s,l,u))},d}function HY(){return co.apply(DS(zG,UG,Gs,MS,Ry,tm,CS,NS,Fc,TI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function KY(){return co.apply(DS($G,BG,Ys,ES,$y,Fy,AS,jS,Fc,OI).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function By(){var e=0,t=1,n,r,a,i,o=Ya,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(a===0?.5:(f=(i(f)-n)*a,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=i(e=+e),r=i(t=+t),a=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(p){var m,h;return arguments.length?([m,h]=p,o=f(m,h),u):[o(0),o(1)]}}return u.range=d(_d),u.rangeRound=d(hS),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return i=f,n=f(e),r=f(t),a=n===r?0:1/(r-n),u}}function rc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function II(){var e=nc(By()(Ya));return e.copy=function(){return rc(e,II())},al.apply(e,arguments)}function _I(){var e=bS(By()).domain([1,10]);return e.copy=function(){return rc(e,_I()).base(e.base())},al.apply(e,arguments)}function LI(){var e=xS(By());return e.copy=function(){return rc(e,LI()).constant(e.constant())},al.apply(e,arguments)}function PS(){var e=wS(By());return e.copy=function(){return rc(e,PS()).exponent(e.exponent())},al.apply(e,arguments)}function GY(){return PS.apply(null,arguments).exponent(.5)}function FI(){var e=[],t=Ya;function n(r){if(r!=null&&!isNaN(r=+r))return t((Qp(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Vl),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,i)=>OK(e,i/r))},n.copy=function(){return FI(t).domain(e)},al.apply(n,arguments)}function zy(){var e=0,t=.5,n=1,r=1,a,i,o,s,l,u=Ya,d,f=!1,p;function m(v){return isNaN(v=+v)?p:(v=.5+((v=+d(v))-i)*(r*v<r*i?s:l),u(f?Math.max(0,Math.min(1,v)):v))}m.domain=function(v){return arguments.length?([e,t,n]=v,a=d(e=+e),i=d(t=+t),o=d(n=+n),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),r=i<a?-1:1,m):[e,t,n]},m.clamp=function(v){return arguments.length?(f=!!v,m):f},m.interpolator=function(v){return arguments.length?(u=v,m):u};function h(v){return function(b){var y,x,w;return arguments.length?([y,x,w]=b,u=oG(v,[y,x,w]),m):[u(0),u(.5),u(1)]}}return m.range=h(_d),m.rangeRound=h(hS),m.unknown=function(v){return arguments.length?(p=v,m):p},function(v){return d=v,a=v(e),i=v(t),o=v(n),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),r=i<a?-1:1,m}}function RI(){var e=nc(zy()(Ya));return e.copy=function(){return rc(e,RI())},al.apply(e,arguments)}function $I(){var e=bS(zy()).domain([.1,1,10]);return e.copy=function(){return rc(e,$I()).base(e.base())},al.apply(e,arguments)}function BI(){var e=xS(zy());return e.copy=function(){return rc(e,BI()).constant(e.constant())},al.apply(e,arguments)}function TS(){var e=wS(zy());return e.copy=function(){return rc(e,TS()).exponent(e.exponent())},al.apply(e,arguments)}function YY(){return TS.apply(null,arguments).exponent(.5)}const Ef=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:fS,scaleDiverging:RI,scaleDivergingLog:$I,scaleDivergingPow:TS,scaleDivergingSqrt:YY,scaleDivergingSymlog:BI,scaleIdentity:vI,scaleImplicit:Pw,scaleLinear:yI,scaleLog:xI,scaleOrdinal:dS,scalePoint:LK,scalePow:kS,scaleQuantile:SI,scaleQuantize:NI,scaleRadial:kI,scaleSequential:II,scaleSequentialLog:_I,scaleSequentialPow:PS,scaleSequentialQuantile:FI,scaleSequentialSqrt:GY,scaleSequentialSymlog:LI,scaleSqrt:EG,scaleSymlog:wI,scaleThreshold:jI,scaleTime:HY,scaleUtc:KY,tickFormat:gI},Symbol.toStringTag,{value:"Module"}));var ac=e=>e.chartData,OS=ve([ac],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),IS=(e,t,n,r)=>r?OS(e):ac(e);function Kl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(dr(t)&&dr(n))return!0}return!1}function kM(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function zI(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,a,i;if(dr(n))a=n;else if(typeof n=="function")return;if(dr(r))i=r;else if(typeof r=="function")return;var o=[a,i];if(Kl(o))return o}}function JY(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Kl(r))return kM(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,s;if(a==="auto")t!=null&&(o=Math.min(...t));else if(Tt(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&zC.test(a)){var l=zC.exec(a);if(l==null||l[1]==null||t==null)o=void 0;else{var u=+l[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(s=Math.max(...t));else if(Tt(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&UC.test(i)){var d=UC.exec(i);if(d==null||d[1]==null||t==null)s=void 0;else{var f=+d[1];s=t[1]+f}}else s=t==null?void 0:t[1];var p=[o,s];if(Kl(p))return t==null?p:kM(p,t,n)}}}var Ld=1e9,ZY={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},LS,fr=!0,lo="[DecimalError] ",Hc=lo+"Invalid argument: ",_S=lo+"Exponent out of range: ",Fd=Math.floor,Ac=Math.pow,QY=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ei,ua=1e7,ir=7,UI=9007199254740991,f0=Fd(UI/ir),At={};At.absoluteValue=At.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};At.comparedTo=At.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(r=i.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1};At.decimalPlaces=At.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*ir;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};At.dividedBy=At.div=function(e){return Fs(this,new this.constructor(e))};At.dividedToIntegerBy=At.idiv=function(e){var t=this,n=t.constructor;return Kn(Fs(t,new n(e),0,1),n.precision)};At.equals=At.eq=function(e){return!this.cmp(e)};At.exponent=function(){return Wr(this)};At.greaterThan=At.gt=function(e){return this.cmp(e)>0};At.greaterThanOrEqualTo=At.gte=function(e){return this.cmp(e)>=0};At.isInteger=At.isint=function(){return this.e>this.d.length-2};At.isNegative=At.isneg=function(){return this.s<0};At.isPositive=At.ispos=function(){return this.s>0};At.isZero=function(){return this.s===0};At.lessThan=At.lt=function(e){return this.cmp(e)<0};At.lessThanOrEqualTo=At.lte=function(e){return this.cmp(e)<1};At.logarithm=At.log=function(e){var t,n=this,r=n.constructor,a=r.precision,i=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Ei))throw Error(lo+"NaN");if(n.s<1)throw Error(lo+(n.s?"NaN":"-Infinity"));return n.eq(Ei)?new r(0):(fr=!1,t=Fs(Dp(n,i),Dp(e,i),i),fr=!0,Kn(t,a))};At.minus=At.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?qI(t,e):VI(t,(e.s=-e.s,e))};At.modulo=At.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(lo+"NaN");return n.s?(fr=!1,t=Fs(n,e,0,1).times(e),fr=!0,n.minus(t)):Kn(new r(n),a)};At.naturalExponential=At.exp=function(){return WI(this)};At.naturalLogarithm=At.ln=function(){return Dp(this)};At.negated=At.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};At.plus=At.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?VI(t,e):qI(t,(e.s=-e.s,e))};At.precision=At.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Hc+e);if(t=Wr(a)+1,r=a.d.length-1,n=r*ir+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};At.squareRoot=At.sqrt=function(){var e,t,n,r,a,i,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(lo+"NaN")}for(e=Wr(s),fr=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=ts(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Fd((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(a.toString()),n=l.precision,a=o=n+3;;)if(i=r,r=i.plus(Fs(s,i,o+2)).times(.5),ts(i.d).slice(0,o)===(t=ts(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Kn(i,n+1,0),i.times(i).eq(s)){r=i;break}}else if(t!="9999")break;o+=4}return fr=!0,Kn(r,n)};At.times=At.mul=function(e){var t,n,r,a,i,o,s,l,u,d=this,f=d.constructor,p=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,l=p.length,u=m.length,l<u&&(i=p,p=m,m=i,o=l,l=u,u=o),i=[],o=l+u,r=o;r--;)i.push(0);for(r=u;--r>=0;){for(t=0,a=l+r;a>r;)s=i[a]+m[r]*p[a-r-1]+t,i[a--]=s%ua|0,t=s/ua|0;i[a]=(i[a]+t)%ua|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,fr?Kn(e,f.precision):e};At.toDecimalPlaces=At.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(ss(e,0,Ld),t===void 0?t=r.rounding:ss(t,0,8),Kn(n,e+Wr(n)+1,t))};At.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=iu(r,!0):(ss(e,0,Ld),t===void 0?t=a.rounding:ss(t,0,8),r=Kn(new a(r),e+1,t),n=iu(r,!0,e+1)),n};At.toFixed=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?iu(a):(ss(e,0,Ld),t===void 0?t=i.rounding:ss(t,0,8),r=Kn(new i(a),e+Wr(a)+1,t),n=iu(r.abs(),!1,e+Wr(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};At.toInteger=At.toint=function(){var e=this,t=e.constructor;return Kn(new t(e),Wr(e)+1,t.rounding)};At.toNumber=function(){return+this};At.toPower=At.pow=function(e){var t,n,r,a,i,o,s=this,l=s.constructor,u=12,d=+(e=new l(e));if(!e.s)return new l(Ei);if(s=new l(s),!s.s){if(e.s<1)throw Error(lo+"Infinity");return s}if(s.eq(Ei))return s;if(r=l.precision,e.eq(Ei))return Kn(s,r);if(t=e.e,n=e.d.length-1,o=t>=n,i=s.s,o){if((n=d<0?-d:d)<=UI){for(a=new l(Ei),t=Math.ceil(r/ir+4),fr=!1;n%2&&(a=a.times(s),NM(a.d,t)),n=Fd(n/2),n!==0;)s=s.times(s),NM(s.d,t);return fr=!0,e.s<0?new l(Ei).div(a):Kn(a,r)}}else if(i<0)throw Error(lo+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,fr=!1,a=e.times(Dp(s,r+u)),fr=!0,a=WI(a),a.s=i,a};At.toPrecision=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?(n=Wr(a),r=iu(a,n<=i.toExpNeg||n>=i.toExpPos)):(ss(e,1,Ld),t===void 0?t=i.rounding:ss(t,0,8),a=Kn(new i(a),e,t),n=Wr(a),r=iu(a,e<=n||n<=i.toExpNeg,e)),r};At.toSignificantDigits=At.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ss(e,1,Ld),t===void 0?t=r.rounding:ss(t,0,8)),Kn(new r(n),e,t)};At.toString=At.valueOf=At.val=At.toJSON=At[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Wr(e),n=e.constructor;return iu(e,t<=n.toExpNeg||t>=n.toExpPos)};function VI(e,t){var n,r,a,i,o,s,l,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),fr?Kn(t,f):t;if(l=e.d,u=t.d,o=e.e,a=t.e,l=l.slice(),i=o-a,i){for(i<0?(r=l,i=-i,s=u.length):(r=u,a=o,s=l.length),o=Math.ceil(f/ir),s=o>s?o+1:s+1,i>s&&(i=s,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(s=l.length,i=u.length,s-i<0&&(i=s,r=u,u=l,l=r),n=0;i;)n=(l[--i]=l[i]+u[i]+n)/ua|0,l[i]%=ua;for(n&&(l.unshift(n),++a),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=a,fr?Kn(t,f):t}function ss(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Hc+e)}function ts(e){var t,n,r,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)r=e[t]+"",n=ir-r.length,n&&(i+=Nl(n)),i+=r;o=e[t],r=o+"",n=ir-r.length,n&&(i+=Nl(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Fs=function(){function e(r,a){var i,o=0,s=r.length;for(r=r.slice();s--;)i=r[s]*a+o,r[s]=i%ua|0,o=i/ua|0;return o&&r.unshift(o),r}function t(r,a,i,o){var s,l;if(i!=o)l=i>o?1:-1;else for(s=l=0;s<i;s++)if(r[s]!=a[s]){l=r[s]>a[s]?1:-1;break}return l}function n(r,a,i){for(var o=0;i--;)r[i]-=o,o=r[i]<a[i]?1:0,r[i]=o*ua+r[i]-a[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,i,o){var s,l,u,d,f,p,m,h,v,b,y,x,w,S,j,N,A,P,B=r.constructor,D=r.s==a.s?1:-1,I=r.d,O=a.d;if(!r.s)return new B(r);if(!a.s)throw Error(lo+"Division by zero");for(l=r.e-a.e,A=O.length,j=I.length,m=new B(D),h=m.d=[],u=0;O[u]==(I[u]||0);)++u;if(O[u]>(I[u]||0)&&--l,i==null?x=i=B.precision:o?x=i+(Wr(r)-Wr(a))+1:x=i,x<0)return new B(0);if(x=x/ir+2|0,u=0,A==1)for(d=0,O=O[0],x++;(u<j||d)&&x--;u++)w=d*ua+(I[u]||0),h[u]=w/O|0,d=w%O|0;else{for(d=ua/(O[0]+1)|0,d>1&&(O=e(O,d),I=e(I,d),A=O.length,j=I.length),S=A,v=I.slice(0,A),b=v.length;b<A;)v[b++]=0;P=O.slice(),P.unshift(0),N=O[0],O[1]>=ua/2&&++N;do d=0,s=t(O,v,A,b),s<0?(y=v[0],A!=b&&(y=y*ua+(v[1]||0)),d=y/N|0,d>1?(d>=ua&&(d=ua-1),f=e(O,d),p=f.length,b=v.length,s=t(f,v,p,b),s==1&&(d--,n(f,A<p?P:O,p))):(d==0&&(s=d=1),f=O.slice()),p=f.length,p<b&&f.unshift(0),n(v,f,b),s==-1&&(b=v.length,s=t(O,v,A,b),s<1&&(d++,n(v,A<b?P:O,b))),b=v.length):s===0&&(d++,v=[0]),h[u++]=d,s&&v[0]?v[b++]=I[S]||0:(v=[I[S]],b=1);while((S++<j||v[0]!==void 0)&&x--)}return h[0]||h.shift(),m.e=l,Kn(m,o?i+Wr(m)+1:i)}}();function WI(e,t){var n,r,a,i,o,s,l=0,u=0,d=e.constructor,f=d.precision;if(Wr(e)>16)throw Error(_S+Wr(e));if(!e.s)return new d(Ei);for(fr=!1,s=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(r=Math.log(Ac(2,u))/Math.LN10*2+5|0,s+=r,n=a=i=new d(Ei),d.precision=s;;){if(a=Kn(a.times(e),s),n=n.times(++l),o=i.plus(Fs(a,n,s)),ts(o.d).slice(0,s)===ts(i.d).slice(0,s)){for(;u--;)i=Kn(i.times(i),s);return d.precision=f,t==null?(fr=!0,Kn(i,f)):i}i=o}}function Wr(e){for(var t=e.e*ir,n=e.d[0];n>=10;n/=10)t++;return t}function yb(e,t,n){if(t>e.LN10.sd())throw fr=!0,n&&(e.precision=n),Error(lo+"LN10 precision limit exceeded");return Kn(new e(e.LN10),t)}function Nl(e){for(var t="";e--;)t+="0";return t}function Dp(e,t){var n,r,a,i,o,s,l,u,d,f=1,p=10,m=e,h=m.d,v=m.constructor,b=v.precision;if(m.s<1)throw Error(lo+(m.s?"NaN":"-Infinity"));if(m.eq(Ei))return new v(0);if(t==null?(fr=!1,u=b):u=t,m.eq(10))return t==null&&(fr=!0),yb(v,u);if(u+=p,v.precision=u,n=ts(h),r=n.charAt(0),i=Wr(m),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=ts(m.d),r=n.charAt(0),f++;i=Wr(m),r>1?(m=new v("0."+n),i++):m=new v(r+"."+n.slice(1))}else return l=yb(v,u+2,b).times(i+""),m=Dp(new v(r+"."+n.slice(1)),u-p).plus(l),v.precision=b,t==null?(fr=!0,Kn(m,b)):m;for(s=o=m=Fs(m.minus(Ei),m.plus(Ei),u),d=Kn(m.times(m),u),a=3;;){if(o=Kn(o.times(d),u),l=s.plus(Fs(o,new v(a),u)),ts(l.d).slice(0,u)===ts(s.d).slice(0,u))return s=s.times(2),i!==0&&(s=s.plus(yb(v,u+2,b).times(i+""))),s=Fs(s,new v(f),u),v.precision=b,t==null?(fr=!0,Kn(s,b)):s;s=l,a+=2}}function SM(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=Fd(n/ir),e.d=[],r=(n+1)%ir,n<0&&(r+=ir),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=ir;r<a;)e.d.push(+t.slice(r,r+=ir));t=t.slice(r),r=ir-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),fr&&(e.e>f0||e.e<-f0))throw Error(_S+n)}else e.s=0,e.e=0,e.d=[0];return e}function Kn(e,t,n){var r,a,i,o,s,l,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(r=t-o,r<0)r+=ir,a=t,u=f[d=0];else{if(d=Math.ceil((r+1)/ir),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;r%=ir,a=r-ir+o}if(n!==void 0&&(i=Ac(10,o-a-1),s=u/i%10|0,l=t<0||f[d+1]!==void 0||u%i,l=n<4?(s||l)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?a>0?u/Ac(10,o-a):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(i=Wr(e),f.length=1,t=t-i-1,f[0]=Ac(10,(ir-t%ir)%ir),e.e=Fd(-t/ir)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,i=1,d--):(f.length=d+1,i=Ac(10,ir-r),f[d]=a>0?(u/Ac(10,o-a)%Ac(10,a)|0)*i:0),l)for(;;)if(d==0){(f[0]+=i)==ua&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=ua)break;f[d--]=0,i=1}for(r=f.length;f[--r]===0;)f.pop();if(fr&&(e.e>f0||e.e<-f0))throw Error(_S+Wr(e));return e}function qI(e,t){var n,r,a,i,o,s,l,u,d,f,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),fr?Kn(t,m):t;if(l=e.d,f=t.d,r=t.e,u=e.e,l=l.slice(),o=u-r,o){for(d=o<0,d?(n=l,o=-o,s=f.length):(n=f,r=u,s=l.length),a=Math.max(Math.ceil(m/ir),s)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=l.length,s=f.length,d=a<s,d&&(s=a),a=0;a<s;a++)if(l[a]!=f[a]){d=l[a]<f[a];break}o=0}for(d&&(n=l,l=f,f=n,t.s=-t.s),s=l.length,a=f.length-s;a>0;--a)l[s++]=0;for(a=f.length;a>o;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=ua-1;--l[i],l[a]+=ua}l[a]-=f[a]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,fr?Kn(t,m):t):new p(0)}function iu(e,t,n){var r,a=Wr(e),i=ts(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+Nl(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Nl(-a-1)+i,n&&(r=n-o)>0&&(i+=Nl(r))):a>=o?(i+=Nl(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+Nl(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=Nl(r))),e.s<0?"-"+i:i}function NM(e,t){if(e.length>t)return e.length=t,!0}function HI(e){var t,n,r;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Hc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return SM(o,i.toString())}else if(typeof i!="string")throw Error(Hc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,QY.test(i))SM(o,i);else throw Error(Hc+i)}if(a.prototype=At,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=HI,a.config=a.set=XY,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function XY(e){if(!e||typeof e!="object")throw Error(lo+"Object expected");var t,n,r,a=["precision",1,Ld,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(Fd(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(Hc+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Hc+n+": "+r);return this}var LS=HI(ZY);Ei=new LS(1);const $n=LS;var eJ=e=>e,KI={},GI=e=>e===KI,jM=e=>function t(){return arguments.length===0||arguments.length===1&&GI(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},YI=(e,t)=>e===1?t:jM(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=r.filter(o=>o!==KI).length;return i>=e?t(...r):YI(e-i,jM(function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];var u=r.map(d=>GI(d)?s.shift():d);return t(...u,...s)}))}),tJ=e=>YI(e.length,e),_w=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},nJ=tJ((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),rJ=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return eJ;var r=t.reverse(),a=r[0],i=r.slice(1);return function(){return i.reduce((o,s)=>s(o),a(...arguments))}};function JI(e){var t;return e===0?t=1:t=Math.floor(new $n(e).abs().log(10).toNumber())+1,t}function ZI(e,t,n){for(var r=new $n(e),a=0,i=[];r.lt(t)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}var QI=e=>{var[t,n]=e,[r,a]=[t,n];return t>n&&([r,a]=[n,t]),[r,a]},XI=(e,t,n)=>{if(e.lte(0))return new $n(0);var r=JI(e.toNumber()),a=new $n(10).pow(r),i=e.div(a),o=r!==1?.05:.1,s=new $n(Math.ceil(i.div(o).toNumber())).add(n).mul(o),l=s.mul(a);return t?new $n(l.toNumber()):new $n(Math.ceil(l.toNumber()))},aJ=(e,t,n)=>{var r=new $n(1),a=new $n(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(r=new $n(10).pow(JI(e)-1),a=new $n(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new $n(Math.floor(e)))}else e===0?a=new $n(Math.floor((t-1)/2)):n||(a=new $n(Math.floor(e)));var o=Math.floor((t-1)/2),s=rJ(nJ(l=>a.add(new $n(l-o).mul(r)).toNumber()),_w);return s(0,t)},e_=function(e,t,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new $n(0),tickMin:new $n(0),tickMax:new $n(0)};var i=XI(new $n(t).sub(e).div(n-1),r,a),o;e<=0&&t>=0?o=new $n(0):(o=new $n(e).add(t).div(2),o=o.sub(new $n(o).mod(i)));var s=Math.ceil(o.sub(e).div(i).toNumber()),l=Math.ceil(new $n(t).sub(o).div(i).toNumber()),u=s+l+1;return u>n?e_(e,t,n,r,a+1):(u<n&&(l=t>0?l+(n-u):l,s=t>0?s:s+(n-u)),{step:i,tickMin:o.sub(new $n(s).mul(i)),tickMax:o.add(new $n(l).mul(i))})},iJ=function(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(r,2),[o,s]=QI([t,n]);if(o===-1/0||s===1/0){var l=s===1/0?[o,..._w(0,r-1).map(()=>1/0)]:[..._w(0,r-1).map(()=>-1/0),s];return t>n?l.reverse():l}if(o===s)return aJ(o,r,a);var{step:u,tickMin:d,tickMax:f}=e_(o,s,i,a,0),p=ZI(d,f.add(new $n(.1).mul(u)),u);return t>n?p.reverse():p},oJ=function(e,t){var[n,r]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=QI([n,r]);if(i===-1/0||o===1/0)return[n,r];if(i===o)return[i];var s=Math.max(t,2),l=XI(new $n(o).sub(i).div(s-1),a,0),u=[...ZI(new $n(i),new $n(o),l),o];return a===!1&&(u=u.map(d=>Math.round(d))),n>r?u.reverse():u},sJ=e=>e.rootProps.barCategoryGap,nm=e=>e.rootProps.stackOffset,t_=e=>e.rootProps.reverseStackOrder,FS=e=>e.options.chartName,RS=e=>e.rootProps.syncId,n_=e=>e.rootProps.syncMethod,$S=e=>e.options.eventEmitter,fa={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ms={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Mi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Uy=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},lJ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ms.angleAxisId,includeHidden:!1,name:void 0,reversed:Ms.reversed,scale:Ms.scale,tick:Ms.tick,tickCount:void 0,ticks:void 0,type:Ms.type,unit:void 0},cJ={allowDataOverflow:Mi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Mi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Mi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Mi.scale,tick:Mi.tick,tickCount:Mi.tickCount,ticks:void 0,type:Mi.type,unit:void 0},uJ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ms.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ms.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ms.scale,tick:Ms.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},dJ={allowDataOverflow:Mi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Mi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Mi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Mi.scale,tick:Mi.tick,tickCount:Mi.tickCount,ticks:void 0,type:"category",unit:void 0},BS=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?uJ:lJ,zS=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?dJ:cJ,Vy=e=>e.polarOptions,US=ve([nl,rl,ha],eI),r_=ve([Vy,US],(e,t)=>{if(e!=null)return to(e.innerRadius,t,0)}),a_=ve([Vy,US],(e,t)=>{if(e!=null)return to(e.outerRadius,t,t*.8)}),fJ=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},i_=ve([Vy],fJ);ve([BS,i_],Uy);var o_=ve([US,r_,a_],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});ve([zS,o_],Uy);var s_=ve([qn,Vy,r_,a_,nl,rl],(e,t,n,r,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:s,startAngle:l,endAngle:u}=t;return{cx:to(o,a,a/2),cy:to(s,i,i/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}}),pr=(e,t)=>t,rm=(e,t,n)=>n;function l_(e){return e==null?void 0:e.id}function c_(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=n,o=new Map;return e.forEach(s=>{var l,u=(l=s.data)!==null&&l!==void 0?l:r;if(!(u==null||u.length===0)){var d=l_(s);u.forEach((f,p)=>{var m=i==null||a?p:String(sr(f,i,null)),h=sr(f,s.dataKey,0),v;o.has(m)?v=o.get(m):v={},Object.assign(v,{[d]:h}),o.set(m,v)})}}),Array.from(o.values())}function VS(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Wy=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function qy(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function pJ(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var ta=e=>{var t=qn(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Rd=e=>e.tooltip.settings.axisId;function CM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function p0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CM(Object(n),!0).forEach(function(r){mJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mJ(e,t,n){return(t=hJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hJ(e){var t=gJ(e,"string");return typeof t=="symbol"?t:t+""}function gJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lw=[0,"auto"],sa={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},u_=(e,t)=>e.cartesianAxis.xAxis[t],ls=(e,t)=>{var n=u_(e,t);return n??sa},la={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Lw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Gp},d_=(e,t)=>e.cartesianAxis.yAxis[t],cs=(e,t)=>{var n=d_(e,t);return n??la},yJ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},WS=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??yJ},Nr=(e,t,n)=>{switch(t){case"xAxis":return ls(e,n);case"yAxis":return cs(e,n);case"zAxis":return WS(e,n);case"angleAxis":return BS(e,n);case"radiusAxis":return zS(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},vJ=(e,t,n)=>{switch(t){case"xAxis":return ls(e,n);case"yAxis":return cs(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},am=(e,t,n)=>{switch(t){case"xAxis":return ls(e,n);case"yAxis":return cs(e,n);case"angleAxis":return BS(e,n);case"radiusAxis":return zS(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},f_=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function qS(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var p_=e=>e.graphicalItems.cartesianItems,bJ=ve([pr,rm],qS),HS=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),im=ve([p_,Nr,bJ],HS,{memoizeOptions:{resultEqualityCheck:qy}}),m_=ve([im],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(VS)),h_=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),xJ=ve([im],h_),KS=e=>e.map(t=>t.data).filter(Boolean).flat(1),wJ=ve([im],KS,{memoizeOptions:{resultEqualityCheck:qy}}),GS=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=t;return e.length>0?e:n.slice(r,a+1)},YS=ve([wJ,IS],GS),JS=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:sr(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(a=>({value:sr(a,r)}))):e.map(r=>({value:r})),Hy=ve([YS,Nr,im],JS);function g_(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Jh(e){if(oo(e)||e instanceof Date){var t=Number(e);if(dr(t))return t}}function AM(e){if(Array.isArray(e)){var t=[Jh(e[0]),Jh(e[1])];return Kl(t)?t:void 0}var n=Jh(e);if(n!=null)return[n,n]}function Js(e){return e.map(Jh).filter(F7)}function kJ(e,t,n){return!n||typeof t!="number"||io(t)?[]:n.length?Js(n.flatMap(r=>{var a=sr(e,r.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!dr(i)||!dr(o)))return[t-i,t+o]})):[]}var na=e=>{var t=ta(e),n=Rd(e);return am(e,t,n)},om=ve([na],e=>e==null?void 0:e.dataKey),SJ=ve([m_,IS,na],c_),y_=(e,t,n,r)=>{var a={},i=t.reduce((o,s)=>{if(s.stackId==null)return o;var l=o[s.stackId];return l==null&&(l=[]),l.push(s),o[s.stackId]=l,o},a);return Object.fromEntries(Object.entries(i).map(o=>{var[s,l]=o,u=r?[...l].reverse():l,d=u.map(l_);return[s,{stackedData:XW(e,d,n),graphicalItems:u}]}))},NJ=ve([SJ,m_,nm,t_],y_),v_=(e,t,n,r)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(r==null&&n!=="zAxis"){var o=nq(e,a,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},jJ=ve([Nr],e=>e.allowDataOverflow),ZS=e=>{var t;if(e==null||!("domain"in e))return Lw;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=Js(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Lw},QS=ve([Nr],ZS),XS=ve([QS,jJ],zI),CJ=ve([NJ,ac,pr,XS],v_,{memoizeOptions:{resultEqualityCheck:Wy}}),Ky=e=>e.errorBars,AJ=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>g_(n,r)),m0=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);if(r.length!==0){var a=r.flat(),i=Math.min(...a),o=Math.max(...a);return[i,o]}},eN=(e,t,n,r,a)=>{var i,o;if(n.length>0&&e.forEach(s=>{n.forEach(l=>{var u,d,f=(u=r[l.id])===null||u===void 0?void 0:u.filter(y=>g_(a,y)),p=sr(s,(d=t.dataKey)!==null&&d!==void 0?d:l.dataKey),m=kJ(s,p,f);if(m.length>=2){var h=Math.min(...m),v=Math.max(...m);(i==null||h<i)&&(i=h),(o==null||v>o)&&(o=v)}var b=AM(p);b!=null&&(i=i==null?b[0]:Math.min(i,b[0]),o=o==null?b[1]:Math.max(o,b[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(s=>{var l=AM(sr(s,t.dataKey));l!=null&&(i=i==null?l[0]:Math.min(i,l[0]),o=o==null?l[1]:Math.max(o,l[1]))}),dr(i)&&dr(o))return[i,o]},MJ=ve([YS,Nr,xJ,Ky,pr],eN,{memoizeOptions:{resultEqualityCheck:Wy}});function EJ(e){var{value:t}=e;if(oo(t)||t instanceof Date)return t}var DJ=(e,t,n)=>{var r=e.map(EJ).filter(a=>a!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&f3(r))?sI(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},b_=e=>e.referenceElements.dots,$d=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),PJ=ve([b_,pr,rm],$d),x_=e=>e.referenceElements.areas,TJ=ve([x_,pr,rm],$d),w_=e=>e.referenceElements.lines,OJ=ve([w_,pr,rm],$d),k_=(e,t)=>{if(e!=null){var n=Js(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},IJ=ve(PJ,pr,k_),S_=(e,t)=>{if(e!=null){var n=Js(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},_J=ve([TJ,pr],S_);function LJ(e){var t;if(e.x!=null)return Js([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Js(n)}function FJ(e){var t;if(e.y!=null)return Js([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Js(n)}var N_=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?LJ(r):FJ(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},RJ=ve([OJ,pr],N_),$J=ve(IJ,RJ,_J,(e,t,n)=>m0(e,n,t)),tN=(e,t,n,r,a,i,o,s)=>{if(n!=null)return n;var l=o==="vertical"&&s==="xAxis"||o==="horizontal"&&s==="yAxis",u=l?m0(r,i,a):m0(i,a);return JY(t,u,e.allowDataOverflow)},BJ=ve([Nr,QS,XS,CJ,MJ,$J,qn,pr],tN,{memoizeOptions:{resultEqualityCheck:Wy}}),zJ=[0,1],nN=(e,t,n,r,a,i,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:s,type:l}=e,u=tc(t,i);if(u&&s==null){var d;return sI(0,(d=n==null?void 0:n.length)!==null&&d!==void 0?d:0)}return l==="category"?DJ(r,e,u):a==="expand"?zJ:o}},rN=ve([Nr,qn,YS,Hy,nm,pr,BJ],nN),j_=(e,t,n,r,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var s="scale".concat(Wp(i));return s in Ef?s:"point"}}},Bd=ve([Nr,qn,f_,FS,pr],j_);function UJ(e){if(e!=null){if(e in Ef)return Ef[e]();var t="scale".concat(Wp(e));if(t in Ef)return Ef[t]()}}function aN(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var a=UJ(t);if(a!=null){var i=a.domain(n).range(r);return YW(i),i}}}var iN=(e,t,n)=>{var r=ZS(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Kl(e))return iJ(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Kl(e))return oJ(e,t.tickCount,t.allowDecimals)}},oN=ve([rN,am,Bd],iN),sN=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Kl(t)&&Array.isArray(n)&&n.length>0){var a=t[0],i=n[0],o=t[1],s=n[n.length-1];return[Math.min(a,i),Math.max(o,s)]}return t},VJ=ve([Nr,rN,oN,pr],sN),WJ=ve(Hy,Nr,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Js(e.map(f=>f.value))).sort((f,p)=>f-p),a=r[0],i=r[r.length-1];if(a==null||i==null)return 1/0;var o=i-a;if(o===0)return 1/0;for(var s=0;s<r.length-1;s++){var l=r[s],u=r[s+1];if(!(l==null||u==null)){var d=u-l;n=Math.min(n,d)}}return n/o}}),C_=ve(WJ,qn,sJ,ha,(e,t,n,r,a)=>a,(e,t,n,r,a)=>{if(!dr(e))return 0;var i=t==="vertical"?r.height:r.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=to(n,e*i),s=e*i/2;return s-o-(s-o)/i*o}return 0}),qJ=(e,t,n)=>{var r=ls(e,t);return r==null||typeof r.padding!="string"?0:C_(e,"xAxis",t,n,r.padding)},HJ=(e,t,n)=>{var r=cs(e,t);return r==null||typeof r.padding!="string"?0:C_(e,"yAxis",t,n,r.padding)},KJ=ve(ls,qJ,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((n=a.left)!==null&&n!==void 0?n:0)+t,right:((r=a.right)!==null&&r!==void 0?r:0)+t}}),GJ=ve(cs,HJ,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((n=a.top)!==null&&n!==void 0?n:0)+t,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+t}}),YJ=ve([ha,KJ,My,Ay,(e,t,n)=>n],(e,t,n,r,a)=>{var{padding:i}=r;return a?[i.left,n.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),JJ=ve([ha,qn,GJ,My,Ay,(e,t,n)=>n],(e,t,n,r,a,i)=>{var{padding:o}=a;return i?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),sm=(e,t,n,r)=>{var a;switch(t){case"xAxis":return YJ(e,n,r);case"yAxis":return JJ(e,n,r);case"zAxis":return(a=WS(e,n))===null||a===void 0?void 0:a.range;case"angleAxis":return i_(e);case"radiusAxis":return o_(e,n);default:return}},A_=ve([Nr,sm],Uy),jd=ve([Nr,Bd,VJ,A_],aN);ve([im,Ky,pr],AJ);function M_(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Gy=(e,t)=>t,Yy=(e,t,n)=>n,ZJ=ve(jy,Gy,Yy,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(M_)),QJ=ve(Cy,Gy,Yy,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(M_)),E_=(e,t)=>({width:e.width,height:t.height}),XJ=(e,t)=>{var n=typeof t.width=="number"?t.width:Gp;return{width:n,height:e.height}},eZ=ve(ha,ls,E_),tZ=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},nZ=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},rZ=ve(rl,ha,ZJ,Gy,Yy,(e,t,n,r,a)=>{var i={},o;return n.forEach(s=>{var l=E_(t,s);o==null&&(o=tZ(t,r,e));var u=r==="top"&&!a||r==="bottom"&&a;i[s.id]=o-Number(u)*l.height,o+=(u?-1:1)*l.height}),i}),aZ=ve(nl,ha,QJ,Gy,Yy,(e,t,n,r,a)=>{var i={},o;return n.forEach(s=>{var l=XJ(t,s);o==null&&(o=nZ(t,r,e));var u=r==="left"&&!a||r==="right"&&a;i[s.id]=o-Number(u)*l.width,o+=(u?-1:1)*l.width}),i}),iZ=(e,t)=>{var n=ls(e,t);if(n!=null)return rZ(e,n.orientation,n.mirror)},oZ=ve([ha,ls,iZ,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n==null?void 0:n[r];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),sZ=(e,t)=>{var n=cs(e,t);if(n!=null)return aZ(e,n.orientation,n.mirror)},lZ=ve([ha,cs,sZ,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n==null?void 0:n[r];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),cZ=ve(ha,cs,(e,t)=>{var n=typeof t.width=="number"?t.width:Gp;return{width:n,height:e.height}}),D_=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=n,s=tc(e,r),l=t.map(u=>u.value);if(o&&s&&i==="category"&&a&&f3(l))return l}},lN=ve([qn,Hy,Nr,pr],D_),P_=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:i}=n,o=tc(e,r);if(o&&(a==="number"||i!=="auto"))return t.map(s=>s.value)}},cN=ve([qn,Hy,am,pr],P_),MM=ve([qn,vJ,Bd,jd,lN,cN,sm,oN,pr],(e,t,n,r,a,i,o,s,l)=>{if(t!=null){var u=tc(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:i,duplicateDomain:a,isCategorical:u,niceTicks:s,range:o,realScaleType:n,scale:r}}}),uZ=(e,t,n,r,a,i,o,s,l)=>{if(!(t==null||r==null)){var u=tc(e,l),{type:d,ticks:f,tickCount:p}=t,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,h=d==="category"&&r.bandwidth?r.bandwidth()/m:0;h=l==="angleAxis"&&i!=null&&i.length>=2?$a(i[0]-i[1])*2*h:h;var v=f||a;if(v){var b=v.map((y,x)=>{var w=o?o.indexOf(y):y;return{index:x,coordinate:r(w)+h,value:y,offset:h}});return b.filter(y=>dr(y.coordinate))}return u&&s?s.map((y,x)=>({coordinate:r(y)+h,value:y,index:x,offset:h})).filter(y=>dr(y.coordinate)):r.ticks?r.ticks(p).map(y=>({coordinate:r(y)+h,value:y,offset:h})):r.domain().map((y,x)=>({coordinate:r(y)+h,value:o?o[y]:y,index:x,offset:h}))}},T_=ve([qn,am,Bd,jd,oN,sm,lN,cN,pr],uZ),dZ=(e,t,n,r,a,i,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var s=tc(e,o),{tickCount:l}=t,u=0;return u=o==="angleAxis"&&(r==null?void 0:r.length)>=2?$a(r[0]-r[1])*2*u:u,s&&i?i.map((d,f)=>({coordinate:n(d)+u,value:d,index:f,offset:u})):n.ticks?n.ticks(l).map(d=>({coordinate:n(d)+u,value:d,offset:u})):n.domain().map((d,f)=>({coordinate:n(d)+u,value:a?a[d]:d,index:f,offset:u}))}},O_=ve([qn,am,jd,sm,lN,cN,pr],dZ),I_=ve(Nr,jd,(e,t)=>{if(!(e==null||t==null))return p0(p0({},e),{},{scale:t})}),fZ=ve([Nr,Bd,rN,A_],aN);ve((e,t,n)=>WS(e,n),fZ,(e,t)=>{if(!(e==null||t==null))return p0(p0({},e),{},{scale:t})});var pZ=ve([qn,jy,Cy],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),__=e=>e.options.defaultTooltipEventType,L_=e=>e.options.validateTooltipEventTypes;function F_(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function uN(e,t){var n=__(e),r=L_(e);return F_(t,n,r)}function mZ(e){return Mt(t=>uN(t,e))}var R_=(e,t)=>{var n,r=Number(t);if(!(io(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},hZ=e=>e.tooltip.settings,El={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},gZ={itemInteraction:{click:El,hover:El},axisInteraction:{click:El,hover:El},keyboardInteraction:El,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},$_=gi({name:"tooltip",initialState:gZ,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:cr()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,a=jo(e).tooltipItemPayloads.indexOf(n);a>-1&&(e.tooltipItemPayloads[a]=r)},prepare:cr()},removeTooltipEntrySettings:{reducer(e,t){var n=jo(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:cr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:yZ,replaceTooltipEntrySettings:vZ,removeTooltipEntrySettings:bZ,setTooltipSettingsState:xZ,setActiveMouseOverItemIndex:B_,mouseLeaveItem:wZ,mouseLeaveChart:z_,setActiveClickItemIndex:kZ,setMouseOverAxisIndex:U_,setMouseClickAxisIndex:SZ,setSyncInteraction:Fw,setKeyboardInteraction:Rw}=$_.actions,NZ=$_.reducer;function EM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EM(Object(n),!0).forEach(function(r){jZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jZ(e,t,n){return(t=CZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CZ(e){var t=AZ(e,"string");return typeof t=="symbol"?t:t+""}function AZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MZ(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function EZ(e){return e.index!=null}var V_=(e,t,n,r)=>{if(t==null)return El;var a=MZ(e,t,n);if(a==null)return El;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(EZ(a)){if(i)return xh(xh({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return xh(xh({},El),{},{coordinate:a.coordinate})};function DZ(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function PZ(e,t){var n=DZ(e),r=t[0],a=t[1];if(n===void 0)return!1;var i=Math.min(r,a),o=Math.max(r,a);return n>=i&&n<=o}function TZ(e,t,n){if(n==null||t==null)return!0;var r=sr(e,t);return r==null||!Kl(n)?!0:PZ(r,n)}var dN=(e,t,n,r)=>{var a=e==null?void 0:e.index;if(a==null)return null;var i=Number(a);if(!dr(i))return a;var o=0,s=1/0;t.length>0&&(s=t.length-1);var l=Math.max(o,Math.min(i,s)),u=t[l];return u==null||TZ(u,n,r)?String(l):null},W_=(e,t,n,r,a,i,o,s)=>{if(!(i==null||s==null)){var l=o[0],u=l==null?void 0:s(l.positions,i);if(u!=null)return u;var d=a==null?void 0:a[Number(i)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:d.coordinate}}}},q_=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(n==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&r!=null){var i=e.tooltipItemPayloads[0];return i!=null?[i]:[]}return e.tooltipItemPayloads.filter(o=>{var s;return((s=o.settings)===null||s===void 0?void 0:s.graphicalItemId)===a})},lm=e=>e.options.tooltipPayloadSearcher,zd=e=>e.tooltip;function DM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function PM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DM(Object(n),!0).forEach(function(r){OZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OZ(e,t,n){return(t=IZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IZ(e){var t=_Z(e,"string");return typeof t=="symbol"?t:t+""}function _Z(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LZ(e,t){return e??t}var H_=(e,t,n,r,a,i,o)=>{if(!(t==null||i==null)){var{chartData:s,computedData:l,dataStartIndex:u,dataEndIndex:d}=n,f=[];return e.reduce((p,m)=>{var h,{dataDefinedOnItem:v,settings:b}=m,y=LZ(v,s),x=Array.isArray(y)?k4(y,u,d):y,w=(h=b==null?void 0:b.dataKey)!==null&&h!==void 0?h:r,S=b==null?void 0:b.nameKey,j;if(r&&Array.isArray(x)&&!Array.isArray(x[0])&&o==="axis"?j=p3(x,r,a):j=i(x,t,l,S),Array.isArray(j))j.forEach(A=>{var P=PM(PM({},b),{},{name:A.name,unit:A.unit,color:void 0,fill:void 0});p.push(VC({tooltipEntrySettings:P,dataKey:A.dataKey,payload:A.payload,value:sr(A.payload,A.dataKey),name:A.name}))});else{var N;p.push(VC({tooltipEntrySettings:b,dataKey:w,payload:j,value:sr(j,w),name:(N=sr(j,S))!==null&&N!==void 0?N:b==null?void 0:b.name}))}return p},f)}},fN=ve([na,qn,f_,FS,ta],j_),FZ=ve([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),RZ=ve([ta,Rd],qS),Ud=ve([FZ,na,RZ],HS,{memoizeOptions:{resultEqualityCheck:qy}}),$Z=ve([Ud],e=>e.filter(VS)),BZ=ve([Ud],KS,{memoizeOptions:{resultEqualityCheck:qy}}),Vd=ve([BZ,ac],GS),zZ=ve([$Z,ac,na],c_),pN=ve([Vd,na,Ud],JS),K_=ve([na],ZS),UZ=ve([na],e=>e.allowDataOverflow),G_=ve([K_,UZ],zI),VZ=ve([Ud],e=>e.filter(VS)),WZ=ve([zZ,VZ,nm,t_],y_),qZ=ve([WZ,ac,ta,G_],v_),HZ=ve([Ud],h_),KZ=ve([Vd,na,HZ,Ky,ta],eN,{memoizeOptions:{resultEqualityCheck:Wy}}),GZ=ve([b_,ta,Rd],$d),YZ=ve([GZ,ta],k_),JZ=ve([x_,ta,Rd],$d),ZZ=ve([JZ,ta],S_),QZ=ve([w_,ta,Rd],$d),XZ=ve([QZ,ta],N_),eQ=ve([YZ,XZ,ZZ],m0),tQ=ve([na,K_,G_,qZ,KZ,eQ,qn,ta],tN),cm=ve([na,qn,Vd,pN,nm,ta,tQ],nN),nQ=ve([cm,na,fN],iN),rQ=ve([na,cm,nQ,ta],sN),Y_=e=>{var t=ta(e),n=Rd(e),r=!1;return sm(e,t,n,r)},J_=ve([na,Y_],Uy),Z_=ve([na,fN,rQ,J_],aN),aQ=ve([qn,pN,na,ta],D_),iQ=ve([qn,pN,na,ta],P_),oQ=(e,t,n,r,a,i,o,s)=>{if(t){var{type:l}=t,u=tc(e,s);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/d:0;return f=s==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?$a(a[0]-a[1])*2*f:f,u&&o?o.map((p,m)=>({coordinate:r(p)+f,value:p,index:m,offset:f})):r.domain().map((p,m)=>({coordinate:r(p)+f,value:i?i[p]:p,index:m,offset:f}))}}},il=ve([qn,na,fN,Z_,Y_,aQ,iQ,ta],oQ),mN=ve([__,L_,hZ],(e,t,n)=>F_(n.shared,e,t)),Q_=e=>e.tooltip.settings.trigger,hN=e=>e.tooltip.settings.defaultIndex,um=ve([zd,mN,Q_,hN],V_),Cd=ve([um,Vd,om,cm],dN),X_=ve([il,Cd],R_),eL=ve([um],e=>{if(e)return e.dataKey}),sQ=ve([um],e=>{if(e)return e.graphicalItemId}),tL=ve([zd,mN,Q_,hN],q_),lQ=ve([nl,rl,qn,ha,il,hN,tL,lm],W_),cQ=ve([um,lQ],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),uQ=ve([um],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),dQ=ve([tL,Cd,ac,om,X_,lm,mN],H_),fQ=ve([dQ],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function TM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function OM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TM(Object(n),!0).forEach(function(r){pQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pQ(e,t,n){return(t=mQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mQ(e){var t=hQ(e,"string");return typeof t=="symbol"?t:t+""}function hQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gQ=()=>Mt(na),yQ=()=>{var e=gQ(),t=Mt(il),n=Mt(Z_);return pw(!e||!n?void 0:OM(OM({},e),{},{scale:n}),t)};function IM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Eu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IM(Object(n),!0).forEach(function(r){vQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vQ(e,t,n){return(t=bQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bQ(e){var t=xQ(e,"string");return typeof t=="symbol"?t:t+""}function xQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wQ=(e,t,n,r)=>{var a=t.find(i=>i&&i.index===n);if(a){if(e==="horizontal")return{x:a.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:a.coordinate}}return{x:0,y:0}},kQ=(e,t,n,r)=>{var a=t.find(u=>u&&u.index===n);if(a){if(e==="centric"){var i=a.coordinate,{radius:o}=r;return Eu(Eu(Eu({},r),Vr(r.cx,r.cy,o,i)),{},{angle:i,radius:o})}var s=a.coordinate,{angle:l}=r;return Eu(Eu(Eu({},r),Vr(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function SQ(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var nL=(e,t,n,r,a)=>{var i,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var s=0;s<o;s++){var l,u,d,f,p,m=s>0?(l=n[s-1])===null||l===void 0?void 0:l.coordinate:(u=n[o-1])===null||u===void 0?void 0:u.coordinate,h=(d=n[s])===null||d===void 0?void 0:d.coordinate,v=s>=o-1?(f=n[0])===null||f===void 0?void 0:f.coordinate:(p=n[s+1])===null||p===void 0?void 0:p.coordinate,b=void 0;if(!(m==null||h==null||v==null))if($a(h-m)!==$a(v-h)){var y=[];if($a(v-h)===$a(a[1]-a[0])){b=v;var x=h+a[1]-a[0];y[0]=Math.min(x,(x+m)/2),y[1]=Math.max(x,(x+m)/2)}else{b=m;var w=v+a[1]-a[0];y[0]=Math.min(h,(w+h)/2),y[1]=Math.max(h,(w+h)/2)}var S=[Math.min(h,(b+h)/2),Math.max(h,(b+h)/2)];if(e>S[0]&&e<=S[1]||e>=y[0]&&e<=y[1]){var j;return(j=n[s])===null||j===void 0?void 0:j.index}}else{var N=Math.min(m,v),A=Math.max(m,v);if(e>(N+h)/2&&e<=(A+h)/2){var P;return(P=n[s])===null||P===void 0?void 0:P.index}}}else if(t)for(var B=0;B<o;B++){var D=t[B];if(D!=null){var I=t[B+1],O=t[B-1];if(B===0&&I!=null&&e<=(D.coordinate+I.coordinate)/2||B===o-1&&O!=null&&e>(D.coordinate+O.coordinate)/2||B>0&&B<o-1&&O!=null&&I!=null&&e>(D.coordinate+O.coordinate)/2&&e<=(D.coordinate+I.coordinate)/2)return D.index}}return-1},NQ=()=>Mt(FS),gN=(e,t)=>t,rL=(e,t,n)=>n,yN=(e,t,n,r)=>r,jQ=ve(il,e=>my(e,t=>t.coordinate)),vN=ve([zd,gN,rL,yN],V_),bN=ve([vN,Vd,om,cm],dN),CQ=(e,t,n)=>{if(t!=null){var r=zd(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},aL=ve([zd,gN,rL,yN],q_),h0=ve([nl,rl,qn,ha,il,yN,aL,lm],W_),AQ=ve([vN,h0],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),iL=ve([il,bN],R_),MQ=ve([aL,bN,ac,om,iL,lm,gN],H_),EQ=ve([vN,bN],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),DQ=(e,t,n,r,a,i,o)=>{if(!(!e||!n||!r||!a)&&SQ(e,o)){var s=rq(e,t),l=nL(s,i,a,n,r),u=wQ(t,a,l,e);return{activeIndex:String(l),activeCoordinate:u}}},PQ=(e,t,n,r,a,i,o)=>{if(!(!e||!r||!a||!i||!n)){var s=gK(e,n);if(s){var l=aq(s,t),u=nL(l,o,i,r,a),d=kQ(t,i,u,s);return{activeIndex:String(u),activeCoordinate:d}}}},TQ=(e,t,n,r,a,i,o,s)=>{if(!(!e||!t||!r||!a||!i))return t==="horizontal"||t==="vertical"?DQ(e,t,r,a,i,o,s):PQ(e,t,n,r,a,i,o)},OQ=ve(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),IQ=ve(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(fa)),n=Array.from(new Set(t));return n.sort((r,a)=>r-a)},{memoizeOptions:{resultEqualityCheck:pJ}});function _M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function LM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_M(Object(n),!0).forEach(function(r){_Q(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_M(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _Q(e,t,n){return(t=LQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LQ(e){var t=FQ(e,"string");return typeof t=="symbol"?t:t+""}function FQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RQ={},$Q={zIndexMap:Object.values(fa).reduce((e,t)=>LM(LM({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),RQ)},BQ=new Set(Object.values(fa));function zQ(e){return BQ.has(e)}var oL=gi({name:"zIndex",initialState:$Q,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:cr()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!zQ(n)&&delete e.zIndexMap[n])},prepare:cr()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:a}=t.payload;e.zIndexMap[n]?a?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:a?void 0:r,panoramaElement:a?r:void 0}},prepare:cr()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:cr()}}}),{registerZIndexPortal:UQ,unregisterZIndexPortal:VQ,registerZIndexPortalElement:WQ,unregisterZIndexPortalElement:qQ}=oL.actions,HQ=oL.reducer;function uo(e){var{zIndex:t,children:n}=e,r=Pq(),a=r&&t!==void 0&&t!==0,i=ti(),o=Yn();g.useLayoutEffect(()=>a?(o(UQ({zIndex:t})),()=>{o(VQ({zIndex:t}))}):qp,[o,t,a]);var s=Mt(l=>OQ(l,t,i));return a?s?Id.createPortal(n,s):null:n}function $w(){return $w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$w.apply(null,arguments)}function FM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function wh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FM(Object(n),!0).forEach(function(r){KQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KQ(e,t,n){return(t=GQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GQ(e){var t=YQ(e,"string");return typeof t=="symbol"?t:t+""}function YQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JQ(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return g.isValidElement(t)?g.cloneElement(t,r):g.createElement(n,r)}function ZQ(e){var t,{coordinate:n,payload:r,index:a,offset:i,tooltipAxisBandSize:o,layout:s,cursor:l,tooltipEventType:u,chartName:d}=e,f=n,p=r,m=a;if(!l||!f||d!=="ScatterChart"&&u!=="axis")return null;var h,v,b;if(d==="ScatterChart")h=f,v=DH,b=fa.cursorLine;else if(d==="BarChart")h=PH(s,f,i,o),v=X4,b=fa.cursorRectangle;else if(s==="radial"&&h3(f)){var{cx:y,cy:x,radius:w,startAngle:S,endAngle:j}=tI(f);h={cx:y,cy:x,startAngle:S,endAngle:j,innerRadius:w,outerRadius:w},v=rI,b=fa.cursorLine}else h={points:xK(s,f,i)},v=cS,b=fa.cursorLine;var N=typeof l=="object"&&"className"in l?l.className:void 0,A=wh(wh(wh(wh({stroke:"#ccc",pointerEvents:"none"},i),h),yd(l)),{},{payload:p,payloadIndex:m,className:Tn("recharts-tooltip-cursor",N)});return g.createElement(uo,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:b},g.createElement(JQ,{cursor:l,cursorComp:v,cursorProps:A}))}function QQ(e){var t=yQ(),n=L4(),r=Jp(),a=NQ();return t==null||n==null||r==null||a==null?null:g.createElement(ZQ,$w({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:a}))}var sL=g.createContext(null),XQ=()=>g.useContext(sL),lL={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function i(l,u,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||l,p),h=n?n+u:u;return l._events[h]?l._events[h].fn?l._events[h]=[l._events[h],m]:l._events[h].push(m):(l._events[h]=m,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],u,d;if(this._eventsCount===0)return l;for(d in u=this._events)t.call(u,d)&&l.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},s.prototype.listeners=function(l){var u=n?n+l:l,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,p=d.length,m=new Array(p);f<p;f++)m[f]=d[f].fn;return m},s.prototype.listenerCount=function(l){var u=n?n+l:l,d=this._events[u];return d?d.fn?1:d.length:0},s.prototype.emit=function(l,u,d,f,p,m){var h=n?n+l:l;if(!this._events[h])return!1;var v=this._events[h],b=arguments.length,y,x;if(v.fn){switch(v.once&&this.removeListener(l,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,d),!0;case 4:return v.fn.call(v.context,u,d,f),!0;case 5:return v.fn.call(v.context,u,d,f,p),!0;case 6:return v.fn.call(v.context,u,d,f,p,m),!0}for(x=1,y=new Array(b-1);x<b;x++)y[x-1]=arguments[x];v.fn.apply(v.context,y)}else{var w=v.length,S;for(x=0;x<w;x++)switch(v[x].once&&this.removeListener(l,v[x].fn,void 0,!0),b){case 1:v[x].fn.call(v[x].context);break;case 2:v[x].fn.call(v[x].context,u);break;case 3:v[x].fn.call(v[x].context,u,d);break;case 4:v[x].fn.call(v[x].context,u,d,f);break;default:if(!y)for(S=1,y=new Array(b-1);S<b;S++)y[S-1]=arguments[S];v[x].fn.apply(v[x].context,y)}}return!0},s.prototype.on=function(l,u,d){return i(this,l,u,d,!1)},s.prototype.once=function(l,u,d){return i(this,l,u,d,!0)},s.prototype.removeListener=function(l,u,d,f){var p=n?n+l:l;if(!this._events[p])return this;if(!u)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!f||m.once)&&(!d||m.context===d)&&o(this,p);else{for(var h=0,v=[],b=m.length;h<b;h++)(m[h].fn!==u||f&&!m[h].once||d&&m[h].context!==d)&&v.push(m[h]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},s.prototype.removeAllListeners=function(l){var u;return l?(u=n?n+l:l,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(lL);var eX=lL.exports;const tX=_o(eX);var Pp=new tX,Bw="recharts.syncEvent.tooltip",RM="recharts.syncEvent.brush";function cL(e,t){if(t){var n=Number.parseInt(t,10);if(!io(n))return e==null?void 0:e[n]}}var nX={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},uL=gi({name:"options",initialState:nX,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),rX=uL.reducer,{createEventEmitter:aX}=uL.actions;function iX(e){return e.tooltip.syncInteraction}var oX={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},dL=gi({name:"chartData",initialState:oX,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:$M,setDataStartEndIndexes:sX,setComputedData:cye}=dL.actions,lX=dL.reducer,cX=["x","y"];function BM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Du(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BM(Object(n),!0).forEach(function(r){uX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uX(e,t,n){return(t=dX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dX(e){var t=fX(e,"string");return typeof t=="symbol"?t:t+""}function fX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pX(e,t){if(e==null)return{};var n,r,a=mX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function mX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function hX(){var e=Mt(RS),t=Mt($S),n=Yn(),r=Mt(n_),a=Mt(il),i=Jp(),o=Yp(),s=Mt(l=>l.rootProps.className);g.useEffect(()=>{if(e==null)return qp;var l=(u,d,f)=>{if(t!==f&&e===u){if(r==="index"){var p;if(o&&d!==null&&d!==void 0&&(p=d.payload)!==null&&p!==void 0&&p.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:h,y:v}=m,b=pX(m,cX),{x:y,y:x,width:w,height:S}=d.payload.sourceViewBox,j=Du(Du({},b),{},{x:o.x+(w?(h-y)/w:0)*o.width,y:o.y+(S?(v-x)/S:0)*o.height});n(Du(Du({},d),{},{payload:Du(Du({},d.payload),{},{coordinate:j})}))}else n(d);return}if(a!=null){var N;if(typeof r=="function"){var A={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},P=r(a,A);N=a[P]}else r==="value"&&(N=a.find(we=>String(we.value)===d.payload.label));var{coordinate:B}=d.payload;if(N==null||d.payload.active===!1||B==null||o==null){n(Fw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:D,y:I}=B,O=Math.min(D,o.x+o.width),H=Math.min(I,o.y+o.height),J={x:i==="horizontal"?N.coordinate:O,y:i==="horizontal"?H:N.coordinate},ie=Fw({active:d.payload.active,coordinate:J,dataKey:d.payload.dataKey,index:String(N.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});n(ie)}}};return Pp.on(Bw,l),()=>{Pp.off(Bw,l)}},[s,n,t,e,r,a,i,o])}function gX(){var e=Mt(RS),t=Mt($S),n=Yn();g.useEffect(()=>{if(e==null)return qp;var r=(a,i,o)=>{t!==o&&e===a&&n(sX(i))};return Pp.on(RM,r),()=>{Pp.off(RM,r)}},[n,t,e])}function yX(){var e=Yn();g.useEffect(()=>{e(aX())},[e]),hX(),gX()}function vX(e,t,n,r,a,i){var o=Mt(m=>CQ(m,e,t)),s=Mt($S),l=Mt(RS),u=Mt(n_),d=Mt(iX),f=d==null?void 0:d.active,p=Yp();g.useEffect(()=>{if(!f&&l!=null&&s!=null){var m=Fw({active:i,coordinate:n,dataKey:o,index:a,label:typeof r=="number"?String(r):r,sourceViewBox:p,graphicalItemId:void 0});Pp.emit(Bw,l,m,s)}},[f,n,o,a,r,s,l,u,i,p])}function zM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function UM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zM(Object(n),!0).forEach(function(r){bX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bX(e,t,n){return(t=xX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xX(e){var t=wX(e,"string");return typeof t=="symbol"?t:t+""}function wX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kX(e){return e.dataKey}function SX(e,t){return g.isValidElement(e)?g.cloneElement(e,t):typeof e=="function"?g.createElement(e,t):g.createElement(cH,t)}var VM=[],NX={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Po(e){var t,n,r=qr(e,NX),{active:a,allowEscapeViewBox:i,animationDuration:o,animationEasing:s,content:l,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:p,position:m,reverseDirection:h,useTranslate3d:v,wrapperStyle:b,cursor:y,shared:x,trigger:w,defaultIndex:S,portal:j,axisId:N}=r,A=Yn(),P=typeof S=="number"?String(S):S;g.useEffect(()=>{A(xZ({shared:x,trigger:w,axisId:N,active:a,defaultIndex:P}))},[A,x,w,N,a,P]);var B=Yp(),D=G4(),I=mZ(x),{activeIndex:O,isActive:H}=(t=Mt(ce=>EQ(ce,I,w,P)))!==null&&t!==void 0?t:{},J=Mt(ce=>MQ(ce,I,w,P)),ie=Mt(ce=>iL(ce,I,w,P)),we=Mt(ce=>AQ(ce,I,w,P)),te=J,q=XQ(),W=(n=a??H)!==null&&n!==void 0?n:!1,[k,$]=H3([te,W]),T=I==="axis"?ie:void 0;vX(I,w,we,T,O,W);var C=j??q;if(C==null||B==null||I==null)return null;var R=te??VM;W||(R=VM),u&&R.length&&(R=I3(R.filter(ce=>ce.value!=null&&(ce.hide!==!0||r.includeHidden)),p,kX));var V=R.length>0,Q=g.createElement(gH,{allowEscapeViewBox:i,animationDuration:o,animationEasing:s,isAnimationActive:d,active:W,coordinate:we,hasPayload:V,offset:f,position:m,reverseDirection:h,useTranslate3d:v,viewBox:B,wrapperStyle:b,lastBoundingBox:k,innerRef:$,hasPortalFromProps:!!j},SX(l,UM(UM({},r),{},{payload:R,label:T,active:W,activeIndex:O,coordinate:we,accessibilityLayer:D})));return g.createElement(g.Fragment,null,Id.createPortal(Q,C),W&&g.createElement(QQ,{cursor:y,tooltipEventType:I,coordinate:we,payload:R,index:O}))}var Ad=e=>null;Ad.displayName="Cell";function jX(e,t,n){return(t=CX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CX(e){var t=AX(e,"string");return typeof t=="symbol"?t:t+""}function AX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class MX{constructor(t){jX(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function WM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function EX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WM(Object(n),!0).forEach(function(r){DX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DX(e,t,n){return(t=PX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PX(e){var t=TX(e,"string");return typeof t=="symbol"?t:t+""}function TX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OX={cacheSize:2e3,enableCache:!0},fL=EX({},OX),qM=new MX(fL.cacheSize),IX={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},HM="recharts_measurement_span";function _X(e,t){var n=t.fontSize||"",r=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(s)}var KM=(e,t)=>{try{var n=document.getElementById(HM);n||(n=document.createElement("span"),n.setAttribute("id",HM),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,IX,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Uf=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Oy.isSsr)return{width:0,height:0};if(!fL.enableCache)return KM(e,t);var n=_X(e,t),r=qM.get(n);if(r)return r;var a=KM(e,t);return qM.set(n,a),a},pL;function LX(e,t,n){return(t=FX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FX(e){var t=RX(e,"string");return typeof t=="symbol"?t:t+""}function RX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,YM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$X=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,BX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,zX={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},UX=["cm","mm","pt","pc","in","Q","px"];function VX(e){return UX.includes(e)}var Gu="NaN";function WX(e,t){return e*zX[t]}class Sa{static parse(t){var n,[,r,a]=(n=BX.exec(t))!==null&&n!==void 0?n:[];return r==null?Sa.NaN:new Sa(parseFloat(r),a??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,io(t)&&(this.unit=""),n!==""&&!$X.test(n)&&(this.num=NaN,this.unit=""),VX(n)&&(this.num=WX(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Sa(NaN,""):new Sa(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Sa(NaN,""):new Sa(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Sa(NaN,""):new Sa(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Sa(NaN,""):new Sa(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return io(this.num)}}pL=Sa;LX(Sa,"NaN",new pL(NaN,""));function mL(e){if(e==null||e.includes(Gu))return Gu;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,a,i]=(n=GM.exec(t))!==null&&n!==void 0?n:[],o=Sa.parse(r??""),s=Sa.parse(i??""),l=a==="*"?o.multiply(s):o.divide(s);if(l.isNaN())return Gu;t=t.replace(GM,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,p]=(u=YM.exec(t))!==null&&u!==void 0?u:[],m=Sa.parse(d??""),h=Sa.parse(p??""),v=f==="+"?m.add(h):m.subtract(h);if(v.isNaN())return Gu;t=t.replace(YM,v.toString())}return t}var JM=/\(([^()]*)\)/;function qX(e){for(var t=e,n;(n=JM.exec(t))!=null;){var[,r]=n;t=t.replace(JM,mL(r))}return t}function HX(e){var t=e.replace(/\s+/g,"");return t=qX(t),t=mL(t),t}function KX(e){try{return HX(e)}catch{return Gu}}function vb(e){var t=KX(e.slice(5,-1));return t===Gu?"":t}var GX=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],YX=["dx","dy","angle","className","breakAll"];function zw(){return zw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zw.apply(null,arguments)}function ZM(e,t){if(e==null)return{};var n,r,a=JX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function JX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var hL=/[ \f\n\r\t\v\u2028\u2029]+/,gL=e=>{var{children:t,breakAll:n,style:r}=e;try{var a=[];Xr(t)||(n?a=t.toString().split(""):a=t.toString().split(hL));var i=a.map(s=>({word:s,width:Uf(s,r).width})),o=n?0:Uf("",r).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}};function ZX(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var yL=(e,t,n,r)=>e.reduce((a,i)=>{var{word:o,width:s}=i,l=a[a.length-1];if(l&&s!=null&&(t==null||r||l.width+s+n<Number(t)))l.words.push(o),l.width+=s+n;else{var u={words:[o],width:s};a.push(u)}return a},[]),vL=e=>e.reduce((t,n)=>t.width>n.width?t:n),QX="",QM=(e,t,n,r,a,i,o,s)=>{var l=e.slice(0,t),u=gL({breakAll:n,style:r,children:l+QX});if(!u)return[!1,[]];var d=yL(u.wordsWithComputedWidth,i,o,s),f=d.length>a||vL(d).width>Number(i);return[f,d]},XX=(e,t,n,r,a)=>{var{maxLines:i,children:o,style:s,breakAll:l}=e,u=Tt(i),d=String(o),f=yL(t,r,n,a);if(!u||a)return f;var p=f.length>i||vL(f).width>Number(r);if(!p)return f;for(var m=0,h=d.length-1,v=0,b;m<=h&&v<=d.length-1;){var y=Math.floor((m+h)/2),x=y-1,[w,S]=QM(d,x,l,s,i,r,n,a),[j]=QM(d,y,l,s,i,r,n,a);if(!w&&!j&&(m=y+1),w&&j&&(h=y-1),!w&&j){b=S;break}v++}return b||f},XM=e=>{var t=Xr(e)?[]:e.toString().split(hL);return[{words:t,width:void 0}]},eee=e=>{var{width:t,scaleToFit:n,children:r,style:a,breakAll:i,maxLines:o}=e;if((t||n)&&!Oy.isSsr){var s,l,u=gL({breakAll:i,children:r,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;s=d,l=f}else return XM(r);return XX({breakAll:i,children:r,maxLines:o,style:a},s,l,t,!!n)}return XM(r)},bL="#808080",tee={angle:0,breakAll:!1,capHeight:"0.71em",fill:bL,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Jy=g.forwardRef((e,t)=>{var n=qr(e,tee),{x:r,y:a,lineHeight:i,capHeight:o,fill:s,scaleToFit:l,textAnchor:u,verticalAnchor:d}=n,f=ZM(n,GX),p=g.useMemo(()=>eee({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:m,dy:h,angle:v,className:b,breakAll:y}=f,x=ZM(f,YX);if(!oo(r)||!oo(a)||p.length===0)return null;var w=Number(r)+(Tt(m)?m:0),S=Number(a)+(Tt(h)?h:0);if(!dr(w)||!dr(S))return null;var j;switch(d){case"start":j=vb("calc(".concat(o,")"));break;case"middle":j=vb("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:j=vb("calc(".concat(p.length-1," * -").concat(i,")"));break}var N=[];if(l){var A=p[0].width,{width:P}=f;N.push("scale(".concat(Tt(P)&&Tt(A)?P/A:1,")"))}return v&&N.push("rotate(".concat(v,", ").concat(w,", ").concat(S,")")),N.length&&(x.transform=N.join(" ")),g.createElement("text",zw({},Ua(x),{ref:t,x:w,y:S,className:Tn("recharts-text",b),textAnchor:u,fill:s.includes("url")?bL:s}),p.map((B,D)=>{var I=B.words.join(y?"":" ");return g.createElement("tspan",{x:w,dy:D===0?j:i,key:"".concat(I,"-").concat(D)},I)}))});Jy.displayName="Text";var nee=["labelRef"],ree=["content"];function e5(e,t){if(e==null)return{};var n,r,a=aee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function aee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function t5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Tr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t5(Object(n),!0).forEach(function(r){iee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iee(e,t,n){return(t=oee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oee(e){var t=see(e,"string");return typeof t=="symbol"?t:t+""}function see(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Es(){return Es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Es.apply(null,arguments)}var xL=g.createContext(null),wL=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:a,width:i,height:o,children:s}=e,l=g.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:a,width:i,height:o}),[t,n,r,a,i,o]);return g.createElement(xL.Provider,{value:l},s)},kL=()=>{var e=g.useContext(xL),t=Yp();return e||_4(t)},lee=g.createContext(null),cee=()=>{var e=g.useContext(lee),t=Mt(s_);return e||t},uee=e=>{var{value:t,formatter:n}=e,r=Xr(e.children)?t:e.children;return typeof n=="function"?n(r):r},xN=e=>e!=null&&typeof e=="function",dee=(e,t)=>{var n=$a(t-e),r=Math.min(Math.abs(t-e),360);return n*r},fee=(e,t,n,r,a)=>{var{offset:i,className:o}=e,{cx:s,cy:l,innerRadius:u,outerRadius:d,startAngle:f,endAngle:p,clockWise:m}=a,h=(u+d)/2,v=dee(f,p),b=v>=0?1:-1,y,x;switch(t){case"insideStart":y=f+b*i,x=m;break;case"insideEnd":y=p-b*i,x=!m;break;case"end":y=p+b*i,x=m;break;default:throw new Error("Unsupported position ".concat(t))}x=v<=0?x:!x;var w=Vr(s,l,h,y),S=Vr(s,l,h,y+(x?1:-1)*359),j="M".concat(w.x,",").concat(w.y,`
    A`).concat(h,",").concat(h,",0,1,").concat(x?0:1,`,
    `).concat(S.x,",").concat(S.y),N=Xr(e.id)?vp("recharts-radial-line-"):e.id;return g.createElement("text",Es({},r,{dominantBaseline:"central",className:Tn("recharts-radial-bar-label",o)}),g.createElement("defs",null,g.createElement("path",{id:N,d:j})),g.createElement("textPath",{xlinkHref:"#".concat(N)},n))},pee=(e,t,n)=>{var{cx:r,cy:a,innerRadius:i,outerRadius:o,startAngle:s,endAngle:l}=e,u=(s+l)/2;if(n==="outside"){var{x:d,y:f}=Vr(r,a,o+t,u);return{x:d,y:f,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var p=(i+o)/2,{x:m,y:h}=Vr(r,a,p,u);return{x:m,y:h,textAnchor:"middle",verticalAnchor:"middle"}},Uw=e=>"cx"in e&&Tt(e.cx),mee=(e,t)=>{var{parentViewBox:n,offset:r,position:a}=e,i;n!=null&&!Uw(n)&&(i=n);var{x:o,y:s,upperWidth:l,lowerWidth:u,height:d}=t,f=o,p=o+(l-u)/2,m=(f+p)/2,h=(l+u)/2,v=f+l/2,b=d>=0?1:-1,y=b*r,x=b>0?"end":"start",w=b>0?"start":"end",S=l>=0?1:-1,j=S*r,N=S>0?"end":"start",A=S>0?"start":"end";if(a==="top"){var P={x:f+l/2,y:s-y,textAnchor:"middle",verticalAnchor:x};return Tr(Tr({},P),i?{height:Math.max(s-i.y,0),width:l}:{})}if(a==="bottom"){var B={x:p+u/2,y:s+d+y,textAnchor:"middle",verticalAnchor:w};return Tr(Tr({},B),i?{height:Math.max(i.y+i.height-(s+d),0),width:u}:{})}if(a==="left"){var D={x:m-j,y:s+d/2,textAnchor:N,verticalAnchor:"middle"};return Tr(Tr({},D),i?{width:Math.max(D.x-i.x,0),height:d}:{})}if(a==="right"){var I={x:m+h+j,y:s+d/2,textAnchor:A,verticalAnchor:"middle"};return Tr(Tr({},I),i?{width:Math.max(i.x+i.width-I.x,0),height:d}:{})}var O=i?{width:h,height:d}:{};return a==="insideLeft"?Tr({x:m+j,y:s+d/2,textAnchor:A,verticalAnchor:"middle"},O):a==="insideRight"?Tr({x:m+h-j,y:s+d/2,textAnchor:N,verticalAnchor:"middle"},O):a==="insideTop"?Tr({x:f+l/2,y:s+y,textAnchor:"middle",verticalAnchor:w},O):a==="insideBottom"?Tr({x:p+u/2,y:s+d-y,textAnchor:"middle",verticalAnchor:x},O):a==="insideTopLeft"?Tr({x:f+j,y:s+y,textAnchor:A,verticalAnchor:w},O):a==="insideTopRight"?Tr({x:f+l-j,y:s+y,textAnchor:N,verticalAnchor:w},O):a==="insideBottomLeft"?Tr({x:p+j,y:s+d-y,textAnchor:A,verticalAnchor:x},O):a==="insideBottomRight"?Tr({x:p+u-j,y:s+d-y,textAnchor:N,verticalAnchor:x},O):a&&typeof a=="object"&&(Tt(a.x)||qs(a.x))&&(Tt(a.y)||qs(a.y))?Tr({x:o+to(a.x,h),y:s+to(a.y,d),textAnchor:"end",verticalAnchor:"end"},O):Tr({x:v,y:s+d/2,textAnchor:"middle",verticalAnchor:"middle"},O)},hee={angle:0,offset:5,zIndex:fa.label,position:"middle",textBreakAll:!1};function jl(e){var t=qr(e,hee),{viewBox:n,position:r,value:a,children:i,content:o,className:s="",textBreakAll:l,labelRef:u}=t,d=cee(),f=kL(),p=r==="center"?f:d??f,m,h,v;if(n==null?m=p:Uw(n)?m=n:m=_4(n),!m||Xr(a)&&Xr(i)&&!g.isValidElement(o)&&typeof o!="function")return null;var b=Tr(Tr({},t),{},{viewBox:m});if(g.isValidElement(o)){var{labelRef:y}=b,x=e5(b,nee);return g.cloneElement(o,x)}if(typeof o=="function"){var{content:w}=b,S=e5(b,ree);if(h=g.createElement(o,S),g.isValidElement(h))return h}else h=uee(t);var j=Ua(t);if(Uw(m)){if(r==="insideStart"||r==="insideEnd"||r==="end")return fee(t,r,h,j,m);v=pee(m,t.offset,t.position)}else v=mee(t,m);return g.createElement(uo,{zIndex:t.zIndex},g.createElement(Jy,Es({ref:u,className:Tn("recharts-label",s)},j,v,{textAnchor:ZX(j.textAnchor)?j.textAnchor:v.textAnchor,breakAll:l}),h))}jl.displayName="Label";var gee=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?g.createElement(jl,Es({key:"label-implicit"},r)):oo(e)?g.createElement(jl,Es({key:"label-implicit",value:e},r)):g.isValidElement(e)?e.type===jl?g.cloneElement(e,Tr({key:"label-implicit"},r)):g.createElement(jl,Es({key:"label-implicit",content:e},r)):xN(e)?g.createElement(jl,Es({key:"label-implicit",content:e},r)):e&&typeof e=="object"?g.createElement(jl,Es({},e,{key:"label-implicit"},r)):null};function SL(e){var{label:t,labelRef:n}=e,r=kL();return gee(t,r,n)||null}var NL={},jL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(jL);var CL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(CL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jL,n=CL,r=dy;function a(i){if(r.isArrayLike(i))return t.last(n.toArray(i))}e.last=a})(NL);var yee=NL.last;const vee=_o(yee);var bee=["valueAccessor"],xee=["dataKey","clockWise","id","textBreakAll","zIndex"];function g0(){return g0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g0.apply(null,arguments)}function n5(e,t){if(e==null)return{};var n,r,a=wee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function wee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var kee=e=>Array.isArray(e.value)?vee(e.value):e.value,AL=g.createContext(void 0),See=AL.Provider,ML=g.createContext(void 0),Nee=ML.Provider;function jee(){return g.useContext(AL)}function Cee(){return g.useContext(ML)}function Zh(e){var{valueAccessor:t=kee}=e,n=n5(e,bee),{dataKey:r,clockWise:a,id:i,textBreakAll:o,zIndex:s}=n,l=n5(n,xee),u=jee(),d=Cee(),f=u||d;return!f||!f.length?null:g.createElement(uo,{zIndex:s??fa.label},g.createElement(Za,{className:"recharts-label-list"},f.map((p,m)=>{var h,v=Xr(r)?t(p,m):sr(p&&p.payload,r),b=Xr(i)?{}:{id:"".concat(i,"-").concat(m)};return g.createElement(jl,g0({key:"label-".concat(m)},Ua(p),l,b,{fill:(h=n.fill)!==null&&h!==void 0?h:p.fill,parentViewBox:p.parentViewBox,value:v,textBreakAll:o,viewBox:p.viewBox,index:m,zIndex:0}))})))}Zh.displayName="LabelList";function EL(e){var{label:t}=e;return t?t===!0?g.createElement(Zh,{key:"labelList-implicit"}):g.isValidElement(t)||xN(t)?g.createElement(Zh,{key:"labelList-implicit",content:t}):typeof t=="object"?g.createElement(Zh,g0({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Vw(){return Vw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vw.apply(null,arguments)}var DL=e=>{var{cx:t,cy:n,r,className:a}=e,i=Tn("recharts-dot",a);return Tt(t)&&Tt(n)&&Tt(r)?g.createElement("circle",Vw({},ao(e),$k(e),{className:i,cx:t,cy:n,r})):null},PL=e=>e.graphicalItems.polarItems,Aee=ve([pr,rm],qS),Zy=ve([PL,Nr,Aee],HS),Mee=ve([Zy],KS),Qy=ve([Mee,OS],GS),Eee=ve([Qy,Nr,Zy],JS);ve([Qy,Nr,Zy],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(a=>{var i,o=sr(r,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:sr(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var r5=()=>{},Dee=ve([Qy,Nr,Zy,Ky,pr],eN),Pee=ve([Nr,QS,XS,r5,Dee,r5,qn,pr],tN),TL=ve([Nr,qn,Qy,Eee,nm,pr,Pee],nN),Tee=ve([TL,Nr,Bd],iN);ve([Nr,TL,Tee,pr],sN);var Oee={radiusAxis:{},angleAxis:{}},OL=gi({name:"polarAxis",initialState:Oee,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:uye,removeRadiusAxis:dye,addAngleAxis:fye,removeAngleAxis:pye}=OL.actions,Iee=OL.reducer;function a5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function i5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a5(Object(n),!0).forEach(function(r){_ee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _ee(e,t,n){return(t=Lee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lee(e){var t=Fee(e,"string");return typeof t=="symbol"?t:t+""}function Fee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ree=(e,t)=>t,wN=ve([PL,Ree],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),$ee=[],kN=(e,t,n)=>(n==null?void 0:n.length)===0?$ee:n,IL=ve([OS,wN,kN],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=r,(!a||!a.length)&&n!=null&&(a=n.map(i=>i5(i5({},t.presentationProps),i.props))),a!=null)return a}}),Bee=ve([IL,wN,kN],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,a)=>{var i,o=sr(r,t.nameKey,t.name),s;return n!=null&&(i=n[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?s=n[a].props.fill:typeof r=="object"&&r!=null&&"fill"in r?s=r.fill:s=t.fill,{value:Ny(o,t.dataKey),color:s,payload:r,type:t.legendType}})}),zee=ve([IL,wN,kN,ha],(e,t,n,r)=>{if(!(t==null||e==null))return ene({offset:r,pieSettings:t,displayedData:e,cells:n})}),_L={exports:{}},Jn={};/** @license React v17.0.2
* react-is.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Xy=60103,ev=60106,dm=60107,fm=60108,pm=60114,mm=60109,hm=60110,gm=60112,ym=60113,SN=60120,vm=60115,bm=60116,LL=60121,FL=60122,RL=60117,$L=60129,BL=60131;if(typeof Symbol=="function"&&Symbol.for){var xa=Symbol.for;Xy=xa("react.element"),ev=xa("react.portal"),dm=xa("react.fragment"),fm=xa("react.strict_mode"),pm=xa("react.profiler"),mm=xa("react.provider"),hm=xa("react.context"),gm=xa("react.forward_ref"),ym=xa("react.suspense"),SN=xa("react.suspense_list"),vm=xa("react.memo"),bm=xa("react.lazy"),LL=xa("react.block"),FL=xa("react.server.block"),RL=xa("react.fundamental"),$L=xa("react.debug_trace_mode"),BL=xa("react.legacy_hidden")}function Fo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Xy:switch(e=e.type,e){case dm:case pm:case fm:case ym:case SN:return e;default:switch(e=e&&e.$$typeof,e){case hm:case gm:case bm:case vm:case mm:return e;default:return t}}case ev:return t}}}var Uee=mm,Vee=Xy,Wee=gm,qee=dm,Hee=bm,Kee=vm,Gee=ev,Yee=pm,Jee=fm,Zee=ym;Jn.ContextConsumer=hm;Jn.ContextProvider=Uee;Jn.Element=Vee;Jn.ForwardRef=Wee;Jn.Fragment=qee;Jn.Lazy=Hee;Jn.Memo=Kee;Jn.Portal=Gee;Jn.Profiler=Yee;Jn.StrictMode=Jee;Jn.Suspense=Zee;Jn.isAsyncMode=function(){return!1};Jn.isConcurrentMode=function(){return!1};Jn.isContextConsumer=function(e){return Fo(e)===hm};Jn.isContextProvider=function(e){return Fo(e)===mm};Jn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Xy};Jn.isForwardRef=function(e){return Fo(e)===gm};Jn.isFragment=function(e){return Fo(e)===dm};Jn.isLazy=function(e){return Fo(e)===bm};Jn.isMemo=function(e){return Fo(e)===vm};Jn.isPortal=function(e){return Fo(e)===ev};Jn.isProfiler=function(e){return Fo(e)===pm};Jn.isStrictMode=function(e){return Fo(e)===fm};Jn.isSuspense=function(e){return Fo(e)===ym};Jn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===dm||e===pm||e===$L||e===fm||e===ym||e===SN||e===BL||typeof e=="object"&&e!==null&&(e.$$typeof===bm||e.$$typeof===vm||e.$$typeof===mm||e.$$typeof===hm||e.$$typeof===gm||e.$$typeof===RL||e.$$typeof===LL||e[0]===FL)};Jn.typeOf=Fo;_L.exports=Jn;var Qee=_L.exports,o5=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",s5=null,bb=null,zL=e=>{if(e===s5&&Array.isArray(bb))return bb;var t=[];return g.Children.forEach(e,n=>{Xr(n)||(Qee.isFragment(n)?t=t.concat(zL(n.props.children)):t.push(n))}),bb=t,s5=e,t};function UL(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(a=>o5(a)):r=[o5(t)],zL(e).forEach(a=>{var i=tu(a,"type.displayName")||tu(a,"type.name");i&&r.indexOf(i)!==-1&&n.push(a)}),n}var VL=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,WL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!((r=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&r.writable)?!1:n.toString()===`[object ${i}]`}let a=n;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(n)===a}e.isPlainObject=t})(WL);var Xee=WL.isPlainObject;const ete=_o(Xee);var l5,c5,u5,d5,f5;function p5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function m5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p5(Object(n),!0).forEach(function(r){tte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tte(e,t,n){return(t=nte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nte(e){var t=rte(e,"string");return typeof t=="symbol"?t:t+""}function rte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y0(){return y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y0.apply(null,arguments)}function vf(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var h5=(e,t,n,r,a)=>{var i=n-r,o;return o=Cr(l5||(l5=vf(["M ",",",""])),e,t),o+=Cr(c5||(c5=vf(["L ",",",""])),e+n,t),o+=Cr(u5||(u5=vf(["L ",",",""])),e+n-i/2,t+a),o+=Cr(d5||(d5=vf(["L ",",",""])),e+n-i/2-r,t+a),o+=Cr(f5||(f5=vf(["L ",","," Z"])),e,t),o},ate={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ite=e=>{var t=qr(e,ate),{x:n,y:r,upperWidth:a,lowerWidth:i,height:o,className:s}=t,{animationEasing:l,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,p=g.useRef(null),[m,h]=g.useState(-1),v=g.useRef(a),b=g.useRef(i),y=g.useRef(o),x=g.useRef(n),w=g.useRef(r),S=_y(e,"trapezoid-");if(g.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var J=p.current.getTotalLength();J&&h(J)}catch{}},[]),n!==+n||r!==+r||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var j=Tn("recharts-trapezoid",s);if(!f)return g.createElement("g",null,g.createElement("path",y0({},Ua(t),{className:j,d:h5(n,r,a,i,o)})));var N=v.current,A=b.current,P=y.current,B=x.current,D=w.current,I="0px ".concat(m===-1?1:m,"px"),O="".concat(m,"px 0px"),H=Y4(["strokeDasharray"],u,l);return g.createElement(Iy,{animationId:S,key:S,canBegin:m>0,duration:u,easing:l,isActive:f,begin:d},J=>{var ie=Ra(N,a,J),we=Ra(A,i,J),te=Ra(P,o,J),q=Ra(B,n,J),W=Ra(D,r,J);p.current&&(v.current=ie,b.current=we,y.current=te,x.current=q,w.current=W);var k=J>0?{transition:H,strokeDasharray:O}:{strokeDasharray:I};return g.createElement("path",y0({},Ua(t),{className:j,d:h5(q,W,ie,we,te),ref:p,style:m5(m5({},k),t.style)}))})},ote=["option","shapeType","activeClassName"];function ste(e,t){if(e==null)return{};var n,r,a=lte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function lte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function g5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function v0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g5(Object(n),!0).forEach(function(r){cte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cte(e,t,n){return(t=ute(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ute(e){var t=dte(e,"string");return typeof t=="symbol"?t:t+""}function dte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fte(e,t){return v0(v0({},t),e)}function pte(e,t){return e==="symbols"}function y5(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return g.createElement(X4,n);case"trapezoid":return g.createElement(ite,n);case"sector":return g.createElement(rI,n);case"symbols":if(pte(t))return g.createElement(Rk,n);break;case"curve":return g.createElement(cS,n);default:return null}}function mte(e){return g.isValidElement(e)?e.props:e}function qL(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,a=ste(e,ote),i;if(g.isValidElement(t))i=g.cloneElement(t,v0(v0({},a),mte(t)));else if(typeof t=="function")i=t(a,a.index);else if(ete(t)&&typeof t!="boolean"){var o=fte(t,a);i=g.createElement(y5,{shapeType:n,elementProps:o})}else{var s=a;i=g.createElement(y5,{shapeType:n,elementProps:s})}return a.isActive?g.createElement(Za,{className:r},i):i}var hte=(e,t,n)=>{var r=Yn();return(a,i)=>o=>{e==null||e(a,i,o),r(B_({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}},gte=e=>{var t=Yn();return(n,r)=>a=>{e==null||e(n,r,a),t(wZ())}},yte=(e,t,n)=>{var r=Yn();return(a,i)=>o=>{e==null||e(a,i,o),r(kZ({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}};function HL(e){var{tooltipEntrySettings:t}=e,n=Yn(),r=ti(),a=g.useRef(null);return g.useLayoutEffect(()=>{r||(a.current===null?n(yZ(t)):a.current!==t&&n(vZ({prev:a.current,next:t})),a.current=t)},[t,n,r]),g.useLayoutEffect(()=>()=>{a.current&&(n(bZ(a.current)),a.current=null)},[n]),null}function vte(e){var{legendPayload:t}=e,n=Yn(),r=ti(),a=g.useRef(null);return g.useLayoutEffect(()=>{r||(a.current===null?n(W4(t)):a.current!==t&&n(q4({prev:a.current,next:t})),a.current=t)},[n,r,t]),g.useLayoutEffect(()=>()=>{a.current&&(n(H4(a.current)),a.current=null)},[n]),null}function bte(e){var{legendPayload:t}=e,n=Yn(),r=Mt(qn),a=g.useRef(null);return g.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(a.current===null?n(W4(t)):a.current!==t&&n(q4({prev:a.current,next:t})),a.current=t)},[n,r,t]),g.useLayoutEffect(()=>()=>{a.current&&(n(H4(a.current)),a.current=null)},[n]),null}var xb,xte=()=>{var[e]=g.useState(()=>vp("uid-"));return e},wte=(xb=TB.useId)!==null&&xb!==void 0?xb:xte;function kte(e,t){var n=wte();return t||(e?"".concat(e,"-").concat(n):n)}var Ste=g.createContext(void 0),KL=e=>{var{id:t,type:n,children:r}=e,a=kte("recharts-".concat(n),t);return g.createElement(Ste.Provider,{value:a},r(a))},Nte={cartesianItems:[],polarItems:[]},GL=gi({name:"graphicalItems",initialState:Nte,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:cr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,a=jo(e).cartesianItems.indexOf(n);a>-1&&(e.cartesianItems[a]=r)},prepare:cr()},removeCartesianGraphicalItem:{reducer(e,t){var n=jo(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:cr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:cr()},removePolarGraphicalItem:{reducer(e,t){var n=jo(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:cr()}}}),{addCartesianGraphicalItem:jte,replaceCartesianGraphicalItem:Cte,removeCartesianGraphicalItem:Ate,addPolarGraphicalItem:Mte,removePolarGraphicalItem:Ete}=GL.actions,Dte=GL.reducer,Pte=e=>{var t=Yn(),n=g.useRef(null);return g.useLayoutEffect(()=>{n.current===null?t(jte(e)):n.current!==e&&t(Cte({prev:n.current,next:e})),n.current=e},[t,e]),g.useLayoutEffect(()=>()=>{n.current&&(t(Ate(n.current)),n.current=null)},[t]),null},Tte=g.memo(Pte);function Ote(e){var t=Yn();return g.useLayoutEffect(()=>(t(Mte(e)),()=>{t(Ete(e))}),[t,e]),null}var Ite=["key"],_te=["onMouseEnter","onClick","onMouseLeave"],Lte=["id"],Fte=["id"];function v5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Mr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v5(Object(n),!0).forEach(function(r){Rte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rte(e,t,n){return(t=$te(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $te(e){var t=Bte(e,"string");return typeof t=="symbol"?t:t+""}function Bte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gl(){return Gl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gl.apply(null,arguments)}function tv(e,t){if(e==null)return{};var n,r,a=zte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function zte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ute(e){var t=g.useMemo(()=>UL(e.children,Ad),[e.children]),n=Mt(r=>Bee(r,e.id,t));return n==null?null:g.createElement(bte,{legendPayload:n})}var Vte=g.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:a,strokeWidth:i,fill:o,name:s,hide:l,tooltipType:u,id:d}=e,f={dataDefinedOnItem:r.map(p=>p.tooltipPayload),positions:r.map(p=>p.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:o,dataKey:t,nameKey:n,name:Ny(s,t),hide:l,type:u,color:o,unit:"",graphicalItemId:d}};return g.createElement(HL,{tooltipEntrySettings:f})}),Wte=(e,t)=>e>t?"start":e<t?"end":"middle",qte=(e,t,n)=>to(typeof t=="function"?t(e):t,n,n*.8),Hte=(e,t,n)=>{var{top:r,left:a,width:i,height:o}=t,s=eI(i,o),l=a+to(e.cx,i,i/2),u=r+to(e.cy,o,o/2),d=to(e.innerRadius,s,0),f=qte(n,e.outerRadius,s),p=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:l,cy:u,innerRadius:d,outerRadius:f,maxRadius:p}},Kte=(e,t)=>{var n=$a(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function Gte(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Yte=(e,t)=>{if(g.isValidElement(e))return g.cloneElement(e,t);if(typeof e=="function")return e(t);var n=Tn("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,a=tv(t,Ite);return g.createElement(cS,Gl({},a,{type:"linear",className:n}))},Jte=(e,t,n)=>{if(g.isValidElement(e))return g.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),g.isValidElement(r)))return r;var a=Tn("recharts-pie-label-text",Gte(e));return g.createElement(Jy,Gl({},t,{alignmentBaseline:"middle",className:a}),r)};function Zte(e){var{sectors:t,props:n,showLabels:r}=e,{label:a,labelLine:i,dataKey:o}=n;if(!r||!a||!t)return null;var s=ao(n),l=yd(a),u=yd(i),d=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,f=t.map((p,m)=>{var h=(p.startAngle+p.endAngle)/2,v=Vr(p.cx,p.cy,p.outerRadius+d,h),b=Mr(Mr(Mr(Mr({},s),p),{},{stroke:"none"},l),{},{index:m,textAnchor:Wte(v.x,p.cx)},v),y=Mr(Mr(Mr(Mr({},s),p),{},{fill:"none",stroke:p.fill},u),{},{index:m,points:[Vr(p.cx,p.cy,p.outerRadius,h),v],key:"line"});return g.createElement(uo,{zIndex:fa.label,key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(m)},g.createElement(Za,null,i&&Yte(i,y),Jte(a,b,sr(p,o))))});return g.createElement(Za,{className:"recharts-pie-labels"},f)}function Qte(e){var{sectors:t,props:n,showLabels:r}=e,{label:a}=n;return typeof a=="object"&&a!=null&&"position"in a?g.createElement(EL,{label:a}):g.createElement(Zte,{sectors:t,props:n,showLabels:r})}function Xte(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:a,shape:i,id:o}=e,s=Mt(Cd),l=Mt(eL),u=Mt(sQ),{onMouseEnter:d,onClick:f,onMouseLeave:p}=a,m=tv(a,_te),h=hte(d,a.dataKey,o),v=gte(p),b=yte(f,a.dataKey,o);return t==null||t.length===0?null:g.createElement(g.Fragment,null,t.map((y,x)=>{if((y==null?void 0:y.startAngle)===0&&(y==null?void 0:y.endAngle)===0&&t.length!==1)return null;var w=u==null||u===o,S=String(x)===s&&(l==null||a.dataKey===l)&&w,j=s?r:null,N=n&&S?n:j,A=Mr(Mr({},y),{},{stroke:y.stroke,tabIndex:-1,[C4]:x,[A4]:o});return g.createElement(Za,Gl({key:"sector-".concat(y==null?void 0:y.startAngle,"-").concat(y==null?void 0:y.endAngle,"-").concat(y.midAngle,"-").concat(x),tabIndex:-1,className:"recharts-pie-sector"},Bk(m,y,x),{onMouseEnter:h(y,x),onMouseLeave:v(y,x),onClick:b(y,x)}),g.createElement(qL,Gl({option:i??N,index:x,shapeType:"sector",isActive:S},A)))}))}function ene(e){var t,{pieSettings:n,displayedData:r,cells:a,offset:i}=e,{cornerRadius:o,startAngle:s,endAngle:l,dataKey:u,nameKey:d,tooltipType:f}=n,p=Math.abs(n.minAngle),m=Kte(s,l),h=Math.abs(m),v=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,b=r.filter(N=>sr(N,u,0)!==0).length,y=(h>=360?b:b-1)*v,x=h-b*p-y,w=r.reduce((N,A)=>{var P=sr(A,u,0);return N+(Tt(P)?P:0)},0),S;if(w>0){var j;S=r.map((N,A)=>{var P=sr(N,u,0),B=sr(N,d,A),D=Hte(n,i,N),I=(Tt(P)?P:0)/w,O,H=Mr(Mr({},N),a&&a[A]&&a[A].props);A?O=j.endAngle+$a(m)*v*(P!==0?1:0):O=s;var J=O+$a(m)*((P!==0?p:0)+I*x),ie=(O+J)/2,we=(D.innerRadius+D.outerRadius)/2,te=[{name:B,value:P,payload:H,dataKey:u,type:f,graphicalItemId:n.id}],q=Vr(D.cx,D.cy,we,ie);return j=Mr(Mr(Mr(Mr({},n.presentationProps),{},{percent:I,cornerRadius:typeof o=="string"?parseFloat(o):o,name:B,tooltipPayload:te,midAngle:ie,middleRadius:we,tooltipPosition:q},H),D),{},{value:P,dataKey:u,startAngle:O,endAngle:J,payload:H,paddingAngle:$a(m)*v}),j})}return S}function tne(e){var{showLabels:t,sectors:n,children:r}=e,a=g.useMemo(()=>!t||!n?[]:n.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[n,t]);return g.createElement(Nee,{value:t?a:void 0},r)}function nne(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:a,isAnimationActive:i,animationBegin:o,animationDuration:s,animationEasing:l,activeShape:u,inactiveShape:d,onAnimationStart:f,onAnimationEnd:p}=t,m=_y(t,"recharts-pie-"),h=n.current,[v,b]=g.useState(!1),y=g.useCallback(()=>{typeof p=="function"&&p(),b(!1)},[p]),x=g.useCallback(()=>{typeof f=="function"&&f(),b(!0)},[f]);return g.createElement(tne,{showLabels:!v,sectors:a},g.createElement(Iy,{animationId:m,begin:o,duration:s,isActive:i,easing:l,onAnimationStart:x,onAnimationEnd:y,key:m},w=>{var S=[],j=a&&a[0],N=j==null?void 0:j.startAngle;return a==null||a.forEach((A,P)=>{var B=h&&h[P],D=P>0?tu(A,"paddingAngle",0):0;if(B){var I=Ra(B.endAngle-B.startAngle,A.endAngle-A.startAngle,w),O=Mr(Mr({},A),{},{startAngle:N+D,endAngle:N+I+D});S.push(O),N=O.endAngle}else{var{endAngle:H,startAngle:J}=A,ie=Ra(0,H-J,w),we=Mr(Mr({},A),{},{startAngle:N+D,endAngle:N+ie+D});S.push(we),N=we.endAngle}}),n.current=S,g.createElement(Za,null,g.createElement(Xte,{sectors:S,activeShape:u,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:r}))}),g.createElement(Qte,{showLabels:!v,sectors:a,props:t}),t.children)}var rne={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:fa.area};function ane(e){var{id:t}=e,n=tv(e,Lte),{hide:r,className:a,rootTabIndex:i}=e,o=g.useMemo(()=>UL(e.children,Ad),[e.children]),s=Mt(d=>zee(d,t,o)),l=g.useRef(null),u=Tn("recharts-pie",a);return r||s==null?(l.current=null,g.createElement(Za,{tabIndex:i,className:u})):g.createElement(uo,{zIndex:e.zIndex},g.createElement(Vte,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:s,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),g.createElement(Za,{tabIndex:i,className:u},g.createElement(nne,{props:Mr(Mr({},n),{},{sectors:s}),previousSectorsRef:l,id:t})))}function b0(e){var t=qr(e,rne),{id:n}=t,r=tv(t,Fte),a=ao(r);return g.createElement(KL,{id:n,type:"pie"},i=>g.createElement(g.Fragment,null,g.createElement(Ote,{type:"pie",id:i,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),g.createElement(Ute,Gl({},r,{id:i})),g.createElement(ane,Gl({},r,{id:i}))))}b0.displayName="Pie";var ine=["points"];function b5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function wb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b5(Object(n),!0).forEach(function(r){one(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function one(e,t,n){return(t=sne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sne(e){var t=lne(e,"string");return typeof t=="symbol"?t:t+""}function lne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x0(){return x0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x0.apply(null,arguments)}function cne(e,t){if(e==null)return{};var n,r,a=une(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function une(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function dne(e){var{option:t,dotProps:n,className:r}=e;if(g.isValidElement(t))return g.cloneElement(t,n);if(typeof t=="function")return t(n);var a=Tn(r,typeof t!="boolean"?t.className:""),i=n??{},{points:o}=i,s=cne(i,ine);return g.createElement(DL,x0({},s,{className:a}))}function fne(e,t){return e==null?!1:t?!0:e.length===1}function pne(e){var{points:t,dot:n,className:r,dotClassName:a,dataKey:i,baseProps:o,needClip:s,clipPathId:l,zIndex:u=fa.scatter}=e;if(!fne(t,n))return null;var d=VL(n),f=KV(n),p=t.map((h,v)=>{var b,y,x=wb(wb(wb({r:3},o),f),{},{index:v,cx:(b=h.x)!==null&&b!==void 0?b:void 0,cy:(y=h.y)!==null&&y!==void 0?y:void 0,dataKey:i,value:h.value,payload:h.payload,points:t});return g.createElement(dne,{key:"dot-".concat(v),option:n,dotProps:x,className:a})}),m={};return s&&l!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(l,")")),g.createElement(uo,{zIndex:u},g.createElement(Za,x0({className:r},m),p))}function x5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function w5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x5(Object(n),!0).forEach(function(r){mne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mne(e,t,n){return(t=hne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hne(e){var t=gne(e,"string");return typeof t=="symbol"?t:t+""}function gne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yne={xAxis:{},yAxis:{},zAxis:{}},YL=gi({name:"cartesianAxis",initialState:yne,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:cr()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:cr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:cr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:cr()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:cr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:cr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:cr()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:cr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:cr()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,a=e.yAxis[n];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&r===i[1]&&r!==a.width&&Math.abs(r-i[0])<=1)return;var o=[...i,r].slice(-3);e.yAxis[n]=w5(w5({},e.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:vne,replaceXAxis:bne,removeXAxis:xne,addYAxis:wne,replaceYAxis:kne,removeYAxis:Sne,addZAxis:mye,replaceZAxis:hye,removeZAxis:gye,updateYAxisWidth:Nne}=YL.actions,jne=YL.reducer,Cne=ve([ha],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Ane=ve([Cne,nl,rl],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),NN=()=>Mt(Ane),Mne=()=>Mt(fQ);function k5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function kb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k5(Object(n),!0).forEach(function(r){Ene(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ene(e,t,n){return(t=Dne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dne(e){var t=Pne(e,"string");return typeof t=="symbol"?t:t+""}function Pne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tne=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:a,dataKey:i,clipPath:o}=e;if(a===!1||t.x==null||t.y==null)return null;var s={index:n,dataKey:i,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=kb(kb(kb({},s),yd(a)),$k(a)),u;return g.isValidElement(a)?u=g.cloneElement(a,l):typeof a=="function"?u=a(l):u=g.createElement(DL,l),g.createElement(Za,{className:"recharts-active-dot",clipPath:o},u)};function One(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:a,clipPath:i,zIndex:o=fa.activeDot}=e,s=Mt(Cd),l=Mne();if(t==null||l==null)return null;var u=t.find(d=>l.includes(d.payload));return Xr(u)?null:g.createElement(uo,{zIndex:o},g.createElement(Tne,{point:u,childIndex:Number(s),mainColor:n,dataKey:a,activeDot:r,clipPath:i}))}var JL=e=>{var{chartData:t}=e,n=Yn(),r=ti();return g.useEffect(()=>r?()=>{}:(n($M(t)),()=>{n($M(void 0))}),[t,n,r]),null},S5={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},ZL=gi({name:"brush",initialState:S5,reducers:{setBrushSettings(e,t){return t.payload==null?S5:t.payload}}}),{setBrushSettings:yye}=ZL.actions,Ine=ZL.reducer;function N5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function kh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N5(Object(n),!0).forEach(function(r){QL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QL(e,t,n){return(t=_ne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _ne(e){var t=Lne(e,"string");return typeof t=="symbol"?t:t+""}function Lne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fne=(e,t)=>{var{x:n,y:r}=e,{x:a,y:i}=t;return{x:Math.min(n,a),y:Math.min(r,i),width:Math.abs(a-n),height:Math.abs(i-r)}},Rne=e=>{var{x1:t,y1:n,x2:r,y2:a}=e;return Fne({x:t,y:n},{x:r,y:a})};class nv{static create(t){return new nv(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?t>=r&&t<=a:t>=a&&t<=r}}QL(nv,"EPS",1e-4);var $ne=e=>{var t=Object.keys(e).reduce((n,r)=>kh(kh({},n),{},{[r]:nv.create(e[r])}),{});return kh(kh({},t),{},{apply(n){var{bandAware:r,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(n).map(i=>{var[o,s]=i;return[o,t[o].apply(s,{bandAware:r,position:a})]}))},isInRange(n){return Object.keys(n).every(r=>t[r].isInRange(n[r]))}})};function Bne(e){return(e%180+180)%180}var zne=function(e){var{width:t,height:n}=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Bne(r),i=a*Math.PI/180,o=Math.atan(n/t),s=i>o&&i<Math.PI-o?n/Math.sin(i):t/Math.cos(i);return Math.abs(s)},Une={dots:[],areas:[],lines:[]},XL=gi({name:"referenceElements",initialState:Une,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=jo(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=jo(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=jo(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:vye,removeDot:bye,addArea:xye,removeArea:wye,addLine:Vne,removeLine:Wne}=XL.actions,qne=XL.reducer,eF=g.createContext(void 0),Hne=e=>{var{children:t}=e,[n]=g.useState("".concat(vp("recharts"),"-clip")),r=NN();if(r==null)return null;var{x:a,y:i,width:o,height:s}=r;return g.createElement(eF.Provider,{value:n},g.createElement("defs",null,g.createElement("clipPath",{id:n},g.createElement("rect",{x:a,y:i,height:s,width:o}))),t)},Kne=()=>g.useContext(eF);function j5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function C5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j5(Object(n),!0).forEach(function(r){Gne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gne(e,t,n){return(t=Yne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yne(e){var t=Jne(e,"string");return typeof t=="symbol"?t:t+""}function Jne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w0(){return w0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w0.apply(null,arguments)}var Zne=(e,t)=>{var n;if(g.isValidElement(e))n=g.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{if(!dr(t.x1)||!dr(t.y1)||!dr(t.x2)||!dr(t.y2))return null;n=g.createElement("line",w0({},t,{className:"recharts-reference-line-line"}))}return n},Qne=(e,t,n,r,a,i)=>{var{x:o,width:s}=i,l=a.y.apply(e,{position:n});if(io(l)||t==="discard"&&!a.y.isInRange(l))return null;var u=[{x:o+s,y:l},{x:o,y:l}];return r==="left"?u.reverse():u},Xne=(e,t,n,r,a,i)=>{var{y:o,height:s}=i,l=a.x.apply(e,{position:n});if(io(l)||t==="discard"&&!a.x.isInRange(l))return null;var u=[{x:l,y:o+s},{x:l,y:o}];return r==="top"?u.reverse():u},ere=(e,t,n,r)=>{var a=e.map(i=>r.apply(i,{position:n}));return t==="discard"&&a.some(i=>!r.isInRange(i))?null:a},tre=(e,t,n,r,a,i)=>{var{x:o,y:s,segment:l,ifOverflow:u}=i,d=oo(o),f=oo(s);return f?Qne(s,u,n,a,e,t):d?Xne(o,u,n,r,e,t):l!=null&&l.length===2?ere(l,u,n,e):null};function nre(e){var t=Yn();return g.useEffect(()=>(t(Vne(e)),()=>{t(Wne(e))})),null}function rre(e){var{xAxisId:t,yAxisId:n,shape:r,className:a,ifOverflow:i}=e,o=ti(),s=Kne(),l=Mt(N=>ls(N,t)),u=Mt(N=>cs(N,n)),d=Mt(N=>jd(N,"xAxis",t,o)),f=Mt(N=>jd(N,"yAxis",n,o)),p=Yp();if(!s||!p||l==null||u==null||d==null||f==null)return null;var m=$ne({x:d,y:f}),h=tre(m,p,e.position,l.orientation,u.orientation,e);if(!h)return null;var[{x:v,y:b},{x:y,y:x}]=h,w=i==="hidden"?"url(#".concat(s,")"):void 0,S=C5(C5({clipPath:w},Ua(e)),{},{x1:v,y1:b,x2:y,y2:x}),j=Rne({x1:v,y1:b,x2:y,y2:x});return g.createElement(uo,{zIndex:e.zIndex},g.createElement(Za,{className:Tn("recharts-reference-line",a)},Zne(r,S),g.createElement(wL,w0({},j,{lowerWidth:j.width,upperWidth:j.width}),g.createElement(SL,{label:e.label}),e.children)))}var are={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:fa.line};function Ww(e){var t=qr(e,are);return g.createElement(g.Fragment,null,g.createElement(nre,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),g.createElement(rre,t))}Ww.displayName="ReferenceLine";function tF(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var a=e[r];a!==void 0&&n.push(a)}return n}function ire(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return zne(r,n)}function ore(e,t,n){var r=n==="width",{x:a,y:i,width:o,height:s}=e;return t===1?{start:r?a:i,end:r?a+o:i+s}:{start:r?a+o:i+s,end:r?a:i}}function Tp(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-a)<=0}function sre(e,t){return tF(e,t+1)}function lre(e,t,n,r,a){for(var i=(r||[]).slice(),{start:o,end:s}=t,l=0,u=1,d=o,f=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:tF(r,u)};var h=l,v,b=()=>(v===void 0&&(v=n(m,h)),v),y=m.coordinate,x=l===0||Tp(e,y,b,d,s);x||(l=0,d=o,u+=1),x&&(d=y+e*(b()/2+a),l+=u)},p;u<=i.length;)if(p=f(),p)return p.v;return[]}function cre(e,t,n,r,a){var i=(r||[]).slice(),o=i.length;if(o===0)return[];for(var{start:s,end:l}=t,u=1;u<=o;u++){for(var d=(o-1)%u,f=s,p=!0,m=function(){var y=r[h],x=h,w,S=()=>(w===void 0&&(w=n(y,x)),w),j=y.coordinate,N=h===d||Tp(e,j,S,f,l);if(!N)return p=!1,1;N&&(f=j+e*(S()/2+a))},h=d;h<o&&!m();h+=u);if(p){for(var v=[],b=d;b<o;b+=u)v.push(r[b]);return v}}return[]}function A5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _a(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A5(Object(n),!0).forEach(function(r){ure(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ure(e,t,n){return(t=dre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dre(e){var t=fre(e,"string");return typeof t=="symbol"?t:t+""}function fre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pre(e,t,n,r,a){for(var i=(r||[]).slice(),o=i.length,{start:s}=t,{end:l}=t,u=function(f){var p=i[f],m,h=()=>(m===void 0&&(m=n(p,f)),m);if(f===o-1){var v=e*(p.coordinate+e*h()/2-l);i[f]=p=_a(_a({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else i[f]=p=_a(_a({},p),{},{tickCoord:p.coordinate});if(p.tickCoord!=null){var b=Tp(e,p.tickCoord,h,s,l);b&&(l=p.tickCoord-e*(h()/2+a),i[f]=_a(_a({},p),{},{isShow:!0}))}},d=o-1;d>=0;d--)u(d);return i}function mre(e,t,n,r,a,i){var o=(r||[]).slice(),s=o.length,{start:l,end:u}=t;if(i){var d=r[s-1],f=n(d,s-1),p=e*(d.coordinate+e*f/2-u);if(o[s-1]=d=_a(_a({},d),{},{tickCoord:p>0?d.coordinate-p*e:d.coordinate}),d.tickCoord!=null){var m=Tp(e,d.tickCoord,()=>f,l,u);m&&(u=d.tickCoord-e*(f/2+a),o[s-1]=_a(_a({},d),{},{isShow:!0}))}}for(var h=i?s-1:s,v=function(y){var x=o[y],w,S=()=>(w===void 0&&(w=n(x,y)),w);if(y===0){var j=e*(x.coordinate-e*S()/2-l);o[y]=x=_a(_a({},x),{},{tickCoord:j<0?x.coordinate-j*e:x.coordinate})}else o[y]=x=_a(_a({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var N=Tp(e,x.tickCoord,S,l,u);N&&(l=x.tickCoord+e*(S()/2+a),o[y]=_a(_a({},x),{},{isShow:!0}))}},b=0;b<h;b++)v(b);return o}function jN(e,t,n){var{tick:r,ticks:a,viewBox:i,minTickGap:o,orientation:s,interval:l,tickFormatter:u,unit:d,angle:f}=e;if(!a||!a.length||!r)return[];if(Tt(l)||Oy.isSsr){var p;return(p=sre(a,Tt(l)?l:0))!==null&&p!==void 0?p:[]}var m=[],h=s==="top"||s==="bottom"?"width":"height",v=d&&h==="width"?Uf(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},b=(w,S)=>{var j=typeof u=="function"?u(w.value,S):w.value;return h==="width"?ire(Uf(j,{fontSize:t,letterSpacing:n}),v,f):Uf(j,{fontSize:t,letterSpacing:n})[h]},y=a.length>=2?$a(a[1].coordinate-a[0].coordinate):1,x=ore(i,y,h);return l==="equidistantPreserveStart"?lre(y,x,b,a,o):l==="equidistantPreserveEnd"?cre(y,x,b,a,o):(l==="preserveStart"||l==="preserveStartEnd"?m=mre(y,x,b,a,o,l==="preserveStartEnd"):m=pre(y,x,b,a,o),m.filter(w=>w.isShow))}var hre=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var s=n?n.getBoundingClientRect().width:0,l=a+i,u=o+l+s+(n?r:0);return Math.round(u)}return 0},gre=["axisLine","width","height","className","hide","ticks","axisType"];function yre(e,t){if(e==null)return{};var n,r,a=vre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function vre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ou(){return ou=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ou.apply(null,arguments)}function M5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function zr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M5(Object(n),!0).forEach(function(r){bre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bre(e,t,n){return(t=xre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xre(e){var t=wre(e,"string");return typeof t=="symbol"?t:t+""}function wre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rs={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:fa.axis};function kre(e){var{x:t,y:n,width:r,height:a,orientation:i,mirror:o,axisLine:s,otherSvgProps:l}=e;if(!s)return null;var u=zr(zr(zr({},l),ao(s)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!o||i==="bottom"&&o);u=zr(zr({},u),{},{x1:t,y1:n+d*a,x2:t+r,y2:n+d*a})}else{var f=+(i==="left"&&!o||i==="right"&&o);u=zr(zr({},u),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+a})}return g.createElement("line",ou({},u,{className:Tn("recharts-cartesian-axis-line",tu(s,"className"))}))}function Sre(e,t,n,r,a,i,o,s,l){var u,d,f,p,m,h,v=s?-1:1,b=e.tickSize||o,y=Tt(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":u=d=e.coordinate,p=n+ +!s*a,f=p-v*b,h=f-v*l,m=y;break;case"left":f=p=e.coordinate,d=t+ +!s*r,u=d-v*b,m=u-v*l,h=y;break;case"right":f=p=e.coordinate,d=t+ +s*r,u=d+v*b,m=u+v*l,h=y;break;default:u=d=e.coordinate,p=n+ +s*a,f=p+v*b,h=f+v*l,m=y;break}return{line:{x1:u,y1:f,x2:d,y2:p},tick:{x:m,y:h}}}function Nre(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function jre(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Cre(e){var{option:t,tickProps:n,value:r}=e,a,i=Tn(n.className,"recharts-cartesian-axis-tick-value");if(g.isValidElement(t))a=g.cloneElement(t,zr(zr({},n),{},{className:i}));else if(typeof t=="function")a=t(zr(zr({},n),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Tn(o,t==null?void 0:t.className)),a=g.createElement(Jy,ou({},n,{className:o}),r)}return a}var Are=g.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:a,stroke:i,tickFormatter:o,unit:s,padding:l,tickTextProps:u,orientation:d,mirror:f,x:p,y:m,width:h,height:v,tickSize:b,tickMargin:y,fontSize:x,letterSpacing:w,getTicksConfig:S,events:j,axisType:N}=e,A=jN(zr(zr({},S),{},{ticks:n}),x,w),P=Nre(d,f),B=jre(d,f),D=ao(S),I=yd(r),O={};typeof a=="object"&&(O=a);var H=zr(zr({},D),{},{fill:"none"},O),J=A.map(te=>zr({entry:te},Sre(te,p,m,h,v,d,b,f,y))),ie=J.map(te=>{var{entry:q,line:W}=te;return g.createElement(Za,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(q.value,"-").concat(q.coordinate,"-").concat(q.tickCoord)},a&&g.createElement("line",ou({},H,W,{className:Tn("recharts-cartesian-axis-tick-line",tu(a,"className"))})))}),we=J.map((te,q)=>{var{entry:W,tick:k}=te,$=zr(zr(zr(zr({textAnchor:P,verticalAnchor:B},D),{},{stroke:"none",fill:i},I),k),{},{index:q,payload:W,visibleTicksCount:A.length,tickFormatter:o,padding:l},u);return g.createElement(Za,ou({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(W.value,"-").concat(W.coordinate,"-").concat(W.tickCoord)},Bk(j,W,q)),r&&g.createElement(Cre,{option:r,tickProps:$,value:"".concat(typeof o=="function"?o(W.value,q):W.value).concat(s||"")}))});return g.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(N,"-ticks")},we.length>0&&g.createElement(uo,{zIndex:fa.label},g.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(N,"-tick-labels"),ref:t},we)),ie.length>0&&g.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(N,"-tick-lines")},ie))}),Mre=g.forwardRef((e,t)=>{var{axisLine:n,width:r,height:a,className:i,hide:o,ticks:s,axisType:l}=e,u=yre(e,gre),[d,f]=g.useState(""),[p,m]=g.useState(""),h=g.useRef(null);g.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var b;return hre({ticks:h.current,label:(b=e.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var v=g.useCallback(b=>{if(b){var y=b.getElementsByClassName("recharts-cartesian-axis-tick-value");h.current=y;var x=y[0];if(x){var w=window.getComputedStyle(x),S=w.fontSize,j=w.letterSpacing;(S!==d||j!==p)&&(f(S),m(j))}}},[d,p]);return o||r!=null&&r<=0||a!=null&&a<=0?null:g.createElement(uo,{zIndex:e.zIndex},g.createElement(Za,{className:Tn("recharts-cartesian-axis",i)},g.createElement(kre,{x:e.x,y:e.y,width:r,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:ao(e)}),g.createElement(Are,{ref:v,axisType:l,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:p,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:s,unit:e.unit,width:e.width,x:e.x,y:e.y}),g.createElement(wL,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},g.createElement(SL,{label:e.label,labelRef:e.labelRef}),e.children)))}),CN=g.forwardRef((e,t)=>{var n=qr(e,Rs);return g.createElement(Mre,ou({},n,{ref:t}))});CN.displayName="CartesianAxis";var Ere=["x1","y1","x2","y2","key"],Dre=["offset"],Pre=["xAxisId","yAxisId"],Tre=["xAxisId","yAxisId"];function E5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Fa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E5(Object(n),!0).forEach(function(r){Ore(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ore(e,t,n){return(t=Ire(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ire(e){var t=_re(e,"string");return typeof t=="symbol"?t:t+""}function _re(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rc(){return Rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rc.apply(null,arguments)}function k0(e,t){if(e==null)return{};var n,r,a=Lre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Lre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Fre=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:a,width:i,height:o,ry:s}=e;return g.createElement("rect",{x:r,y:a,ry:s,width:i,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function nF(e){var{option:t,lineItemProps:n}=e,r;if(g.isValidElement(t))r=g.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var a,{x1:i,y1:o,x2:s,y2:l,key:u}=n,d=k0(n,Ere),f=(a=ao(d))!==null&&a!==void 0?a:{},{offset:p}=f,m=k0(f,Dre);r=g.createElement("line",Rc({},m,{x1:i,y1:o,x2:s,y2:l,fill:"none",key:u}))}return r}function Rre(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,s=k0(e,Pre),l=a.map((u,d)=>{var f=Fa(Fa({},s),{},{x1:t,y1:u,x2:t+n,y2:u,key:"line-".concat(d),index:d});return g.createElement(nF,{key:"line-".concat(d),option:r,lineItemProps:f})});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function $re(e){var{y:t,height:n,vertical:r=!0,verticalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,s=k0(e,Tre),l=a.map((u,d)=>{var f=Fa(Fa({},s),{},{x1:u,y1:t,x2:u,y2:t+n,key:"line-".concat(d),index:d});return g.createElement(nF,{option:r,lineItemProps:f,key:"line-".concat(d)})});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Bre(e){var{horizontalFill:t,fillOpacity:n,x:r,y:a,width:i,height:o,horizontalPoints:s,horizontal:l=!0}=e;if(!l||!t||!t.length||s==null)return null;var u=s.map(f=>Math.round(f+a-a)).sort((f,p)=>f-p);a!==u[0]&&u.unshift(0);var d=u.map((f,p)=>{var m=!u[p+1],h=m?a+o-f:u[p+1]-f;if(h<=0)return null;var v=p%t.length;return g.createElement("rect",{key:"react-".concat(p),y:f,x:r,height:h,width:i,stroke:"none",fill:t[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function zre(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:a,y:i,width:o,height:s,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var u=l.map(f=>Math.round(f+a-a)).sort((f,p)=>f-p);a!==u[0]&&u.unshift(0);var d=u.map((f,p)=>{var m=!u[p+1],h=m?a+o-f:u[p+1]-f;if(h<=0)return null;var v=p%n.length;return g.createElement("rect",{key:"react-".concat(p),x:f,y:i,width:h,height:s,stroke:"none",fill:n[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Ure=(e,t)=>{var{xAxis:n,width:r,height:a,offset:i}=e;return S4(jN(Fa(Fa(Fa({},Rs),n),{},{ticks:N4(n),viewBox:{x:0,y:0,width:r,height:a}})),i.left,i.left+i.width,t)},Vre=(e,t)=>{var{yAxis:n,width:r,height:a,offset:i}=e;return S4(jN(Fa(Fa(Fa({},Rs),n),{},{ticks:N4(n),viewBox:{x:0,y:0,width:r,height:a}})),i.top,i.top+i.height,t)},Wre={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:fa.grid};function Zs(e){var t=iS(),n=oS(),r=L4(),a=Fa(Fa({},qr(e,Wre)),{},{x:Tt(e.x)?e.x:r.left,y:Tt(e.y)?e.y:r.top,width:Tt(e.width)?e.width:r.width,height:Tt(e.height)?e.height:r.height}),{xAxisId:i,yAxisId:o,x:s,y:l,width:u,height:d,syncWithTicks:f,horizontalValues:p,verticalValues:m}=a,h=ti(),v=Mt(B=>MM(B,"xAxis",i,h)),b=Mt(B=>MM(B,"yAxis",o,h));if(!os(u)||!os(d)||!Tt(s)||!Tt(l))return null;var y=a.verticalCoordinatesGenerator||Ure,x=a.horizontalCoordinatesGenerator||Vre,{horizontalPoints:w,verticalPoints:S}=a;if((!w||!w.length)&&typeof x=="function"){var j=p&&p.length,N=x({yAxis:b?Fa(Fa({},b),{},{ticks:j?p:b.ticks}):void 0,width:t??u,height:n??d,offset:r},j?!0:f);Kg(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(w=N)}if((!S||!S.length)&&typeof y=="function"){var A=m&&m.length,P=y({xAxis:v?Fa(Fa({},v),{},{ticks:A?m:v.ticks}):void 0,width:t??u,height:n??d,offset:r},A?!0:f);Kg(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(S=P)}return g.createElement(uo,{zIndex:a.zIndex},g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement(Fre,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),g.createElement(Bre,Rc({},a,{horizontalPoints:w})),g.createElement(zre,Rc({},a,{verticalPoints:S})),g.createElement(Rre,Rc({},a,{offset:r,horizontalPoints:w,xAxis:v,yAxis:b})),g.createElement($re,Rc({},a,{offset:r,verticalPoints:S,xAxis:v,yAxis:b}))))}Zs.displayName="CartesianGrid";var qre={},rF=gi({name:"errorBars",initialState:qre,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:a}=t.payload;e[n]&&(e[n]=e[n].map(i=>i.dataKey===r.dataKey&&i.direction===r.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:kye,replaceErrorBar:Sye,removeErrorBar:Nye}=rF.actions,Hre=rF.reducer,Kre=["children"];function Gre(e,t){if(e==null)return{};var n,r,a=Yre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Yre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Jre={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Zre=g.createContext(Jre);function Qre(e){var{children:t}=e,n=Gre(e,Kre);return g.createElement(Zre.Provider,{value:n},t)}function aF(e,t){var n,r,a=Mt(u=>ls(u,e)),i=Mt(u=>cs(u,t)),o=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:sa.allowDataOverflow,s=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:la.allowDataOverflow,l=o||s;return{needClip:l,needClipX:o,needClipY:s}}function Xre(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,a=NN(),{needClipX:i,needClipY:o,needClip:s}=aF(t,n);if(!s||!a)return null;var{x:l,y:u,width:d,height:f}=a;return g.createElement("clipPath",{id:"clipPath-".concat(r)},g.createElement("rect",{x:i?l:l-d/2,y:o?u:u-f/2,width:i?d:d*2,height:o?f:f*2}))}var iF=(e,t,n,r)=>I_(e,"xAxis",t,r),oF=(e,t,n,r)=>O_(e,"xAxis",t,r),sF=(e,t,n,r)=>I_(e,"yAxis",n,r),lF=(e,t,n,r)=>O_(e,"yAxis",n,r),eae=ve([qn,iF,sF,oF,lF],(e,t,n,r,a)=>tc(e,"xAxis")?pw(t,r,!1):pw(n,a,!1)),tae=(e,t,n,r,a)=>a;function nae(e){return e.type==="line"}var rae=ve([p_,tae],(e,t)=>e.filter(nae).find(n=>n.id===t)),aae=ve([qn,iF,sF,oF,lF,rae,eae,IS],(e,t,n,r,a,i,o,s)=>{var{chartData:l,dataStartIndex:u,dataEndIndex:d}=s;if(!(i==null||t==null||n==null||r==null||a==null||r.length===0||a.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:p}=i,m;if(p!=null&&p.length>0?m=p:m=l==null?void 0:l.slice(u,d+1),m!=null)return zae({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataKey:f,bandSize:o,displayedData:m})}});function iae(e){var t=yd(e),n=3,r=2;if(t!=null){var{r:a,strokeWidth:i}=t,o=Number(a),s=Number(i);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(s)||s<0)&&(s=r),{r:o,strokeWidth:s}}return{r:n,strokeWidth:r}}/**
* @license React
* use-sync-external-store-with-selector.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var xm=g;xm.useSyncExternalStore;xm.useRef;xm.useEffect;xm.useMemo;xm.useDebugValue;function oae(e){e()}function sae(){let e=null,t=null;return{clear(){e=null,t=null},notify(){oae(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!r||e===null||(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var D5={notify(){},get:()=>[]};function lae(e,t){let n,r=D5,a=0,i=!1;function o(v){d();const b=r.subscribe(v);let y=!1;return()=>{y||(y=!0,b(),f())}}function s(){r.notify()}function l(){h.onStateChange&&h.onStateChange()}function u(){return i}function d(){a++,n||(n=e.subscribe(l),r=sae())}function f(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=D5)}function p(){i||(i=!0,d())}function m(){i&&(i=!1,f())}const h={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:u,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>r};return h}var cae=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uae=cae(),dae=()=>typeof navigator<"u"&&navigator.product==="ReactNative",fae=dae(),pae=()=>uae||fae?g.useLayoutEffect:g.useEffect,mae=pae();function P5(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function hae(e,t){if(P5(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(t,n[a])||!P5(e[n[a]],t[n[a]]))return!1;return!0}var T5=Symbol.for("react-redux-context"),O5=typeof globalThis<"u"?globalThis:{};function gae(){if(!g.createContext)return{};const e=O5[T5]??(O5[T5]=new Map);let t=e.get(g.createContext);return t||(t=g.createContext(null),e.set(g.createContext,t)),t}var yae=gae();function vae(e){const{children:t,context:n,serverState:r,store:a}=e,i=g.useMemo(()=>{const l=lae(a);return{store:a,subscription:l,getServerState:r?()=>r:void 0}},[a,r]),o=g.useMemo(()=>a.getState(),[a]);mae(()=>{const{subscription:l}=i;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==a.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[i,o]);const s=n||yae;return g.createElement(s.Provider,{value:i},t)}var bae=vae,xae=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function wae(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function AN(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(xae.has(r)){if(e[r]==null&&t[r]==null)continue;if(!hae(e[r],t[r]))return!1}else if(!wae(e[r],t[r]))return!1;return!0}var kae=["id"],Sae=["type","layout","connectNulls","needClip","shape"],Nae=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Op(){return Op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Op.apply(null,arguments)}function I5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Xo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I5(Object(n),!0).forEach(function(r){jae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jae(e,t,n){return(t=Cae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cae(e){var t=Aae(e,"string");return typeof t=="symbol"?t:t+""}function Aae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MN(e,t){if(e==null)return{};var n,r,a=Mae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Mae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Eae=e=>{var{dataKey:t,name:n,stroke:r,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:r,value:Ny(n,t),payload:e}]},Dae=g.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:a,fill:i,name:o,hide:s,unit:l,tooltipType:u,id:d}=e,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:Ny(o,t),hide:s,type:u,color:r,unit:l,graphicalItemId:d}};return g.createElement(HL,{tooltipEntrySettings:f})}),cF=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Pae(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],a=0;a<t;++a)r=[...r,...n];return r}var Tae=(e,t,n)=>{var r=n.reduce((f,p)=>f+p);if(!r)return cF(t,e);for(var a=Math.floor(e/r),i=e%r,o=t-e,s=[],l=0,u=0;l<n.length;u+=n[l],++l)if(u+n[l]>i){s=[...n.slice(0,l),i-u];break}var d=s.length%2===0?[0,o]:[o];return[...Pae(n,a),...s,...d].map(f=>"".concat(f,"px")).join(", ")};function Oae(e){var{clipPathId:t,points:n,props:r}=e,{dot:a,dataKey:i,needClip:o}=r,{id:s}=r,l=MN(r,kae),u=ao(l);return g.createElement(pne,{points:n,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:u,needClip:o,clipPathId:t})}function Iae(e){var{showLabels:t,children:n,points:r}=e,a=g.useMemo(()=>r==null?void 0:r.map(i=>{var o,s,l={x:(o=i.x)!==null&&o!==void 0?o:0,y:(s=i.y)!==null&&s!==void 0?s:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Xo(Xo({},l),{},{value:i.value,payload:i.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return g.createElement(See,{value:t?a:void 0},n)}function _5(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:a,props:i}=e,{type:o,layout:s,connectNulls:l,needClip:u,shape:d}=i,f=MN(i,Sae),p=Xo(Xo({},Ua(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:r,type:o,layout:s,connectNulls:l,strokeDasharray:a??i.strokeDasharray});return g.createElement(g.Fragment,null,(r==null?void 0:r.length)>1&&g.createElement(qL,Op({shapeType:"curve",option:d},p,{pathRef:n})),g.createElement(Oae,{points:r,clipPathId:t,props:i}))}function _ae(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Lae(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:s,isAnimationActive:l,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:p,width:m,height:h,onAnimationEnd:v,onAnimationStart:b}=n,y=a.current,x=_y(o,"recharts-line-"),w=g.useRef(x),[S,j]=g.useState(!1),N=!S,A=g.useCallback(()=>{typeof v=="function"&&v(),j(!1)},[v]),P=g.useCallback(()=>{typeof b=="function"&&b(),j(!0)},[b]),B=_ae(r.current),D=g.useRef(0);w.current!==x&&(D.current=i.current,w.current=x);var I=D.current;return g.createElement(Iae,{points:o,showLabels:N},n.children,g.createElement(Iy,{animationId:x,begin:u,duration:d,isActive:l,easing:f,onAnimationEnd:A,onAnimationStart:P,key:x},O=>{var H=Ra(I,B+I,O),J=Math.min(H,B),ie;if(l)if(s){var we="".concat(s).split(/[,\s]+/gim).map(W=>parseFloat(W));ie=Tae(J,B,we)}else ie=cF(B,J);else ie=s==null?void 0:String(s);if(O>0&&B>0&&(a.current=o,i.current=Math.max(i.current,J)),y){var te=y.length/o.length,q=O===1?o:o.map((W,k)=>{var $=Math.floor(k*te);if(y[$]){var T=y[$];return Xo(Xo({},W),{},{x:Ra(T.x,W.x,O),y:Ra(T.y,W.y,O)})}return p?Xo(Xo({},W),{},{x:Ra(m*2,W.x,O),y:Ra(h/2,W.y,O)}):Xo(Xo({},W),{},{x:W.x,y:W.y})});return a.current=q,g.createElement(_5,{props:n,points:q,clipPathId:t,pathRef:r,strokeDasharray:ie})}return g.createElement(_5,{props:n,points:o,clipPathId:t,pathRef:r,strokeDasharray:ie})}),g.createElement(EL,{label:n.label}))}function Fae(e){var{clipPathId:t,props:n}=e,r=g.useRef(null),a=g.useRef(0),i=g.useRef(null);return g.createElement(Lae,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:a,pathRef:i})}var Rae=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:sr(e.payload,t)}};class $ae extends g.Component{render(){var{hide:t,dot:n,points:r,className:a,xAxisId:i,yAxisId:o,top:s,left:l,width:u,height:d,id:f,needClip:p,zIndex:m}=this.props;if(t)return null;var h=Tn("recharts-line",a),v=f,{r:b,strokeWidth:y}=iae(n),x=VL(n),w=b*2+y,S=p?"url(#clipPath-".concat(x?"":"dots-").concat(v,")"):void 0;return g.createElement(uo,{zIndex:m},g.createElement(Za,{className:h},p&&g.createElement("defs",null,g.createElement(Xre,{clipPathId:v,xAxisId:i,yAxisId:o}),!x&&g.createElement("clipPath",{id:"clipPath-dots-".concat(v)},g.createElement("rect",{x:l-w/2,y:s-w/2,width:u+w,height:d+w}))),g.createElement(Qre,{xAxisId:i,yAxisId:o,data:r,dataPointFormatter:Rae,errorBarOffset:0},g.createElement(Fae,{props:this.props,clipPathId:v}))),g.createElement(One,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:S}))}}var uF={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:fa.line,type:"linear"};function Bae(e){var t=qr(e,uF),{activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:s,dot:l,hide:u,isAnimationActive:d,label:f,legendType:p,xAxisId:m,yAxisId:h,id:v}=t,b=MN(t,Nae),{needClip:y}=aF(m,h),x=NN(),w=Jp(),S=ti(),j=Mt(D=>aae(D,m,h,S,v));if(w!=="horizontal"&&w!=="vertical"||j==null||x==null)return null;var{height:N,width:A,x:P,y:B}=x;return g.createElement($ae,Op({},b,{id:v,connectNulls:s,dot:l,activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:i,animationEasing:o,isAnimationActive:d,hide:u,label:f,legendType:p,xAxisId:m,yAxisId:h,points:j,layout:w,height:N,width:A,left:P,top:B,needClip:y}))}function zae(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:i,dataKey:o,bandSize:s,displayedData:l}=e;return l.map((u,d)=>{var f=sr(u,o);if(t==="horizontal"){var p=BC({axis:n,ticks:a,bandSize:s,entry:u,index:d}),m=Xr(f)?null:r.scale(f);return{x:p,y:m,value:f,payload:u}}var h=Xr(f)?null:n.scale(f),v=BC({axis:r,ticks:i,bandSize:s,entry:u,index:d});return h==null||v==null?null:{x:h,y:v,value:f,payload:u}}).filter(Boolean)}function Uae(e){var t=qr(e,uF),n=ti();return g.createElement(KL,{id:t.id,type:"line"},r=>g.createElement(g.Fragment,null,g.createElement(vte,{legendPayload:Eae(t)}),g.createElement(Dae,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),g.createElement(Tte,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),g.createElement(Bae,Op({},t,{id:r}))))}var li=g.memo(Uae,AN);li.displayName="Line";var Vae=["domain","range"],Wae=["domain","range"];function L5(e,t){if(e==null)return{};var n,r,a=qae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function qae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function F5(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function dF(e,t){if(e===t)return!0;var{domain:n,range:r}=e,a=L5(e,Vae),{domain:i,range:o}=t,s=L5(t,Wae);return!F5(n,i)||!F5(r,o)?!1:AN(a,s)}var Hae=["dangerouslySetInnerHTML","ticks","scale"],Kae=["id","scale"];function qw(){return qw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qw.apply(null,arguments)}function R5(e,t){if(e==null)return{};var n,r,a=Gae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Gae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Yae(e){var t=Yn(),n=g.useRef(null);return g.useLayoutEffect(()=>{n.current===null?t(vne(e)):n.current!==e&&t(bne({prev:n.current,next:e})),n.current=e},[e,t]),g.useLayoutEffect(()=>()=>{n.current&&(t(xne(n.current)),n.current=null)},[t]),null}var Jae=e=>{var{xAxisId:t,className:n}=e,r=Mt(M4),a=ti(),i="xAxis",o=Mt(y=>T_(y,i,t,a)),s=Mt(y=>eZ(y,t)),l=Mt(y=>oZ(y,t)),u=Mt(y=>u_(y,t));if(s==null||l==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:p}=e,m=R5(e,Hae),{id:h,scale:v}=u,b=R5(u,Kae);return g.createElement(CN,qw({},m,b,{x:l.x,y:l.y,width:s.width,height:s.height,className:Tn("recharts-".concat(i," ").concat(i),n),viewBox:r,ticks:o,axisType:i}))},Zae={allowDataOverflow:sa.allowDataOverflow,allowDecimals:sa.allowDecimals,allowDuplicatedCategory:sa.allowDuplicatedCategory,angle:sa.angle,axisLine:Rs.axisLine,height:sa.height,hide:!1,includeHidden:sa.includeHidden,interval:sa.interval,minTickGap:sa.minTickGap,mirror:sa.mirror,orientation:sa.orientation,padding:sa.padding,reversed:sa.reversed,scale:sa.scale,tick:sa.tick,tickCount:sa.tickCount,tickLine:Rs.tickLine,tickSize:Rs.tickSize,type:sa.type,xAxisId:0},Qae=e=>{var t=qr(e,Zae);return g.createElement(g.Fragment,null,g.createElement(Yae,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),g.createElement(Jae,t))},Qs=g.memo(Qae,dF);Qs.displayName="XAxis";var Xae=["dangerouslySetInnerHTML","ticks","scale"],eie=["id","scale"];function Hw(){return Hw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hw.apply(null,arguments)}function $5(e,t){if(e==null)return{};var n,r,a=tie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function tie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function nie(e){var t=Yn(),n=g.useRef(null);return g.useLayoutEffect(()=>{n.current===null?t(wne(e)):n.current!==e&&t(kne({prev:n.current,next:e})),n.current=e},[e,t]),g.useLayoutEffect(()=>()=>{n.current&&(t(Sne(n.current)),n.current=null)},[t]),null}var rie=e=>{var{yAxisId:t,className:n,width:r,label:a}=e,i=g.useRef(null),o=g.useRef(null),s=Mt(M4),l=ti(),u=Yn(),d="yAxis",f=Mt(N=>cZ(N,t)),p=Mt(N=>lZ(N,t)),m=Mt(N=>T_(N,d,t,l)),h=Mt(N=>d_(N,t));if(g.useLayoutEffect(()=>{if(!(r!=="auto"||!f||xN(a)||g.isValidElement(a)||h==null)){var N=i.current;if(N){var A=N.getCalculatedWidth();Math.round(f.width)!==Math.round(A)&&u(Nne({id:t,width:A}))}}},[m,f,u,a,t,r,h]),f==null||p==null||h==null)return null;var{dangerouslySetInnerHTML:v,ticks:b,scale:y}=e,x=$5(e,Xae),{id:w,scale:S}=h,j=$5(h,eie);return g.createElement(CN,Hw({},x,j,{ref:i,labelRef:o,x:p.x,y:p.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:Tn("recharts-".concat(d," ").concat(d),n),viewBox:s,ticks:m,axisType:d}))},aie={allowDataOverflow:la.allowDataOverflow,allowDecimals:la.allowDecimals,allowDuplicatedCategory:la.allowDuplicatedCategory,angle:la.angle,axisLine:Rs.axisLine,hide:!1,includeHidden:la.includeHidden,interval:la.interval,minTickGap:la.minTickGap,mirror:la.mirror,orientation:la.orientation,padding:la.padding,reversed:la.reversed,scale:la.scale,tick:la.tick,tickCount:la.tickCount,tickLine:Rs.tickLine,tickSize:Rs.tickSize,type:la.type,width:la.width,yAxisId:0},iie=e=>{var t=qr(e,aie);return g.createElement(g.Fragment,null,g.createElement(nie,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),g.createElement(rie,t))},Xs=g.memo(iie,dF);Xs.displayName="YAxis";var oie=(e,t)=>t,EN=ve([oie,qn,s_,ta,J_,il,jQ,ha],TQ),DN=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},fF=so("mouseClick"),pF=Kp();pF.startListening({actionCreator:fF,effect:(e,t)=>{var n=e.payload,r=EN(t.getState(),DN(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(SZ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Kw=so("mouseMove"),mF=Kp(),Sh=null;mF.startListening({actionCreator:Kw,effect:(e,t)=>{var n=e.payload;Sh!==null&&cancelAnimationFrame(Sh);var r=DN(n);Sh=requestAnimationFrame(()=>{var a=t.getState(),i=uN(a,a.tooltip.settings.shared);if(i==="axis"){var o=EN(a,r);(o==null?void 0:o.activeIndex)!=null?t.dispatch(U_({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(z_())}Sh=null})}});function sie(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var B5={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},hF=gi({name:"rootProps",initialState:B5,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:B5.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),lie=hF.reducer,{updateOptions:cie}=hF.actions,gF=gi({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:uie}=gF.actions,die=gF.reducer,yF=so("keyDown"),vF=so("focus"),PN=Kp();PN.startListening({actionCreator:yF,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=dN(a,Vd(n),om(n),cm(n)),s=o==null?-1:Number(o);if(!(!Number.isFinite(s)||s<0)){var l=il(n);if(i==="Enter"){var u=h0(n,"axis","hover",String(a.index));t.dispatch(Rw({active:!a.active,activeIndex:a.index,activeCoordinate:u}));return}var d=pZ(n),f=d==="left-to-right"?1:-1,p=i==="ArrowRight"?1:-1,m=s+p*f;if(!(l==null||m>=l.length||m<0)){var h=h0(n,"axis","hover",String(m));t.dispatch(Rw({active:!0,activeIndex:m.toString(),activeCoordinate:h}))}}}}}});PN.startListening({actionCreator:vF,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var i="0",o=h0(n,"axis","hover",String(i));t.dispatch(Rw({active:!0,activeIndex:i,activeCoordinate:o}))}}}});var Hi=so("externalEvent"),bF=Kp(),Sb=new Map;bF.startListening({actionCreator:Hi,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var a=r.type,i=Sb.get(a);i!==void 0&&cancelAnimationFrame(i);var o=requestAnimationFrame(()=>{try{var s=t.getState(),l={activeCoordinate:cQ(s),activeDataKey:eL(s),activeIndex:Cd(s),activeLabel:X_(s),activeTooltipIndex:Cd(s),isTooltipActive:uQ(s)};n(l,r)}finally{Sb.delete(a)}});Sb.set(a,o)}}});var fie=ve([zd],e=>e.tooltipItemPayloads),pie=ve([fie,lm,(e,t)=>t,(e,t,n)=>n],(e,t,n,r)=>{var a=e.find(s=>s.settings.graphicalItemId===r);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,n);return o}}}),xF=so("touchMove"),wF=Kp();wF.startListening({actionCreator:xF,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),a=uN(r,r.tooltip.settings.shared);if(a==="axis"){var i=n.touches[0];if(i==null)return;var o=EN(r,DN({clientX:i.clientX,clientY:i.clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(U_({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var s,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(C4),f=(s=u.getAttribute(A4))!==null&&s!==void 0?s:void 0,p=Ud(r).find(v=>v.id===f);if(d==null||p==null||f==null)return;var{dataKey:m}=p,h=pie(r,d,f);t.dispatch(B_({activeDataKey:m,activeIndex:d,activeCoordinate:h,activeGraphicalItemId:f}))}}}});var mie=G3({brush:Ine,cartesianAxis:jne,chartData:lX,errorBars:Hre,graphicalItems:Dte,layout:WW,legend:qq,options:rX,polarAxis:Iee,polarOptions:die,referenceElements:qne,rootProps:lie,tooltip:NZ,zIndex:HQ}),hie=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return hW({reducer:mie,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([pF.middleware,mF.middleware,PN.middleware,bF.middleware,wF.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(c4({type:"raf"}))},devTools:{serialize:{replacer:sie},name:"recharts-".concat(t)}})};function kF(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,a=ti(),i=g.useRef(null);if(a)return n;i.current==null&&(i.current=hie(t,r));var o=Yk;return g.createElement(bae,{context:o,store:i.current},n)}function gie(e){var{layout:t,margin:n}=e,r=Yn(),a=ti();return g.useEffect(()=>{a||(r(zW(t)),r(BW(n)))},[r,a,t,n]),null}var SF=g.memo(gie,AN);function NF(e){var t=Yn();return g.useEffect(()=>{t(cie(e))},[t,e]),null}function z5(e){var{zIndex:t,isPanorama:n}=e,r=g.useRef(null),a=Yn();return g.useLayoutEffect(()=>(r.current&&a(WQ({zIndex:t,element:r.current,isPanorama:n})),()=>{a(qQ({zIndex:t,isPanorama:n}))}),[a,t,n]),g.createElement("g",{tabIndex:-1,ref:r})}function U5(e){var{children:t,isPanorama:n}=e,r=Mt(IQ);if(!r||r.length===0)return t;var a=r.filter(o=>o<0),i=r.filter(o=>o>0);return g.createElement(g.Fragment,null,a.map(o=>g.createElement(z5,{key:o,zIndex:o,isPanorama:n})),t,i.map(o=>g.createElement(z5,{key:o,zIndex:o,isPanorama:n})))}var yie=["children"];function vie(e,t){if(e==null)return{};var n,r,a=bie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function bie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function S0(){return S0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S0.apply(null,arguments)}var xie={width:"100%",height:"100%",display:"block"},wie=g.forwardRef((e,t)=>{var n=iS(),r=oS(),a=G4();if(!os(n)||!os(r))return null;var{children:i,otherAttributes:o,title:s,desc:l}=e,u,d;return o!=null&&(typeof o.tabIndex=="number"?u=o.tabIndex:u=a?0:void 0,typeof o.role=="string"?d=o.role:d=a?"application":void 0),g.createElement(Ok,S0({},o,{title:s,desc:l,role:d,tabIndex:u,width:n,height:r,style:xie,ref:t}),i)}),kie=e=>{var{children:t}=e,n=Mt(My);if(!n)return null;var{width:r,height:a,y:i,x:o}=n;return g.createElement(Ok,{width:r,height:a,x:o,y:i},t)},V5=g.forwardRef((e,t)=>{var{children:n}=e,r=vie(e,yie),a=ti();return a?g.createElement(kie,null,g.createElement(U5,{isPanorama:!0},n)):g.createElement(wie,S0({ref:t},r),g.createElement(U5,{isPanorama:!1},n))});function Sie(){var e=Yn(),[t,n]=g.useState(null),r=Mt(iq);return g.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;dr(i)&&i!==r&&e(VW(i))}},[t,e,r]),n}function W5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Nie(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W5(Object(n),!0).forEach(function(r){jie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jie(e,t,n){return(t=Cie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cie(e){var t=Aie(e,"string");return typeof t=="symbol"?t:t+""}function Aie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function su(){return su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},su.apply(null,arguments)}var Mie=()=>(yX(),null);function N0(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Eie=g.forwardRef((e,t)=>{var n,r,a=g.useRef(null),[i,o]=g.useState({containerWidth:N0((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:N0((r=e.style)===null||r===void 0?void 0:r.height)}),s=g.useCallback((u,d)=>{o(f=>{var p=Math.round(u),m=Math.round(d);return f.containerWidth===p&&f.containerHeight===m?f:{containerWidth:p,containerHeight:m}})},[]),l=g.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();s(d,f);var p=h=>{var{width:v,height:b}=h[0].contentRect;s(v,b)},m=new ResizeObserver(p);m.observe(u),a.current=m}},[t,s]);return g.useEffect(()=>()=>{var u=a.current;u!=null&&u.disconnect()},[s]),g.createElement(g.Fragment,null,g.createElement(Ey,{width:i.containerWidth,height:i.containerHeight}),g.createElement("div",su({ref:l},e)))}),Die=g.forwardRef((e,t)=>{var{width:n,height:r}=e,[a,i]=g.useState({containerWidth:N0(n),containerHeight:N0(r)}),o=g.useCallback((l,u)=>{i(d=>{var f=Math.round(l),p=Math.round(u);return d.containerWidth===f&&d.containerHeight===p?d:{containerWidth:f,containerHeight:p}})},[]),s=g.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:u,height:d}=l.getBoundingClientRect();o(u,d)}},[t,o]);return g.createElement(g.Fragment,null,g.createElement(Ey,{width:a.containerWidth,height:a.containerHeight}),g.createElement("div",su({ref:s},e)))}),Pie=g.forwardRef((e,t)=>{var{width:n,height:r}=e;return g.createElement(g.Fragment,null,g.createElement(Ey,{width:n,height:r}),g.createElement("div",su({ref:t},e)))}),Tie=g.forwardRef((e,t)=>{var{width:n,height:r}=e;return qs(n)||qs(r)?g.createElement(Die,su({},e,{ref:t})):g.createElement(Pie,su({},e,{ref:t}))});function Oie(e){return e===!0?Eie:Tie}var Iie=g.forwardRef((e,t)=>{var{children:n,className:r,height:a,onClick:i,onContextMenu:o,onDoubleClick:s,onMouseDown:l,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:p,onTouchEnd:m,onTouchMove:h,onTouchStart:v,style:b,width:y,responsive:x,dispatchTouchEvents:w=!0}=e,S=g.useRef(null),j=Yn(),[N,A]=g.useState(null),[P,B]=g.useState(null),D=Sie(),I=aS(),O=(I==null?void 0:I.width)>0?I.width:y,H=(I==null?void 0:I.height)>0?I.height:a,J=g.useCallback(L=>{D(L),typeof t=="function"&&t(L),A(L),B(L),L!=null&&(S.current=L)},[D,t,A,B]),ie=g.useCallback(L=>{j(fF(L)),j(Hi({handler:i,reactEvent:L}))},[j,i]),we=g.useCallback(L=>{j(Kw(L)),j(Hi({handler:u,reactEvent:L}))},[j,u]),te=g.useCallback(L=>{j(z_()),j(Hi({handler:d,reactEvent:L}))},[j,d]),q=g.useCallback(L=>{j(Kw(L)),j(Hi({handler:f,reactEvent:L}))},[j,f]),W=g.useCallback(()=>{j(vF())},[j]),k=g.useCallback(L=>{j(yF(L.key))},[j]),$=g.useCallback(L=>{j(Hi({handler:o,reactEvent:L}))},[j,o]),T=g.useCallback(L=>{j(Hi({handler:s,reactEvent:L}))},[j,s]),C=g.useCallback(L=>{j(Hi({handler:l,reactEvent:L}))},[j,l]),R=g.useCallback(L=>{j(Hi({handler:p,reactEvent:L}))},[j,p]),V=g.useCallback(L=>{j(Hi({handler:v,reactEvent:L}))},[j,v]),Q=g.useCallback(L=>{w&&j(xF(L)),j(Hi({handler:h,reactEvent:L}))},[j,w,h]),ce=g.useCallback(L=>{j(Hi({handler:m,reactEvent:L}))},[j,m]),Y=Oie(x);return g.createElement(sL.Provider,{value:N},g.createElement(KO.Provider,{value:P},g.createElement(Y,{width:O??(b==null?void 0:b.width),height:H??(b==null?void 0:b.height),className:Tn("recharts-wrapper",r),style:Nie({position:"relative",cursor:"default",width:O,height:H},b),onClick:ie,onContextMenu:$,onDoubleClick:T,onFocus:W,onKeyDown:k,onMouseDown:C,onMouseEnter:we,onMouseLeave:te,onMouseMove:q,onMouseUp:R,onTouchEnd:ce,onTouchMove:Q,onTouchStart:V,ref:J},g.createElement(Mie,null),n)))}),_ie=["width","height","responsive","children","className","style","compact","title","desc"];function Lie(e,t){if(e==null)return{};var n,r,a=Fie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Fie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var jF=g.forwardRef((e,t)=>{var{width:n,height:r,responsive:a,children:i,className:o,style:s,compact:l,title:u,desc:d}=e,f=Lie(e,_ie),p=ao(f);return l?g.createElement(g.Fragment,null,g.createElement(Ey,{width:n,height:r}),g.createElement(V5,{otherAttributes:p,title:u,desc:d},i)):g.createElement(Iie,{className:o,style:s,width:n,height:r,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},g.createElement(V5,{otherAttributes:p,title:u,desc:d,ref:t},g.createElement(Hne,null,i)))});function Gw(){return Gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gw.apply(null,arguments)}var Rie={top:5,right:5,bottom:5,left:5},$ie={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Rie,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Bie=g.forwardRef(function(e,t){var n,r=qr(e.categoricalChartProps,$ie),{chartName:a,defaultTooltipEventType:i,validateTooltipEventTypes:o,tooltipPayloadSearcher:s,categoricalChartProps:l}=e,u={chartName:a,defaultTooltipEventType:i,validateTooltipEventTypes:o,tooltipPayloadSearcher:s,eventEmitter:void 0};return g.createElement(kF,{preloadedState:{options:u},reduxStoreName:(n=l.id)!==null&&n!==void 0?n:a},g.createElement(JL,{chartData:l.data}),g.createElement(SF,{layout:r.layout,margin:r.margin}),g.createElement(NF,{baseValue:r.baseValue,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),g.createElement(jF,Gw({},r,{ref:t})))}),zie=["axis"],Yl=g.forwardRef((e,t)=>g.createElement(Bie,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:zie,tooltipPayloadSearcher:cL,categoricalChartProps:e,ref:t}));function Uie(e){var t=Yn();return g.useEffect(()=>{t(uie(e))},[t,e]),null}var Vie=["layout"];function Yw(){return Yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yw.apply(null,arguments)}function Wie(e,t){if(e==null)return{};var n,r,a=qie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function qie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Hie={top:5,right:5,bottom:5,left:5},CF={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Hie,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Kie=g.forwardRef(function(e,t){var n,r=qr(e.categoricalChartProps,CF),{layout:a}=r,i=Wie(r,Vie),{chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:u}=e,d={chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return g.createElement(kF,{preloadedState:{options:d},reduxStoreName:(n=r.id)!==null&&n!==void 0?n:o},g.createElement(JL,{chartData:r.data}),g.createElement(SF,{layout:a,margin:r.margin}),g.createElement(NF,{baseValue:void 0,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),g.createElement(Uie,{cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius}),g.createElement(jF,Yw({},i,{ref:t})))});function q5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function H5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q5(Object(n),!0).forEach(function(r){Gie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gie(e,t,n){return(t=Yie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yie(e){var t=Jie(e,"string");return typeof t=="symbol"?t:t+""}function Jie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zie=["item"],Qie=H5(H5({},CF),{},{layout:"centric",startAngle:0,endAngle:360}),Jw=g.forwardRef((e,t)=>{var n=qr(e,Qie);return g.createElement(Kie,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Zie,tooltipPayloadSearcher:cL,categoricalChartProps:n,ref:t})});const Nn=({value:e,options:t,onChange:n,className:r="",activeClassName:a,inactiveClassName:i})=>c.jsx("div",{className:`pill-toggle-group flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1 text-[10px] uppercase tracking-[0.25em] text-gray-400 ${r}`,children:t.map(o=>c.jsx("button",{type:"button",onClick:()=>n(o.value),className:`pill-toggle-option px-2.5 py-1 rounded-full transition-colors ${e===o.value?`pill-toggle-option--active ${a}`:i}`,children:o.label},o.value))}),K5="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",Vf=new Map,sd=new Map,Xie=async e=>{var t;if(!((t=window==null?void 0:window.electronAPI)!=null&&t.fetchImageAsDataUrl))return;const n=Array.from(new Set(e)).filter(r=>/^https?:\/\//i.test(r));await Promise.all(n.map(async r=>{if(Vf.has(r)||sd.has(r))return;const a=(async()=>{const i=await window.electronAPI.fetchImageAsDataUrl(r),o=i!=null&&i.success&&i.dataUrl?i.dataUrl:null;return o&&Vf.set(r,o),o})();sd.set(r,a);try{await a}finally{sd.delete(r)}}))},eoe=e=>{const[t,n]=g.useState(()=>{var r;return e?!((r=window==null?void 0:window.electronAPI)!=null&&r.fetchImageAsDataUrl)||!/^https?:\/\//i.test(e)?e:Vf.get(e)||K5:null});return g.useEffect(()=>{var r;if(!e){n(null);return}if(!((r=window==null?void 0:window.electronAPI)!=null&&r.fetchImageAsDataUrl)){n(e);return}if(!/^https?:\/\//i.test(e)){n(e);return}const a=Vf.get(e);if(a){n(a);return}let i=!0;const o=sd.get(e)||(async()=>{const s=await window.electronAPI.fetchImageAsDataUrl(e),l=s!=null&&s.success&&s.dataUrl?s.dataUrl:null;return l&&Vf.set(e,l),l})();return sd.set(e,o),o.then(s=>{if(i){if(s){n(s);return}n(K5)}}).finally(()=>{sd.delete(e)}),()=>{i=!1}},[e]),t},toe=(e,t,n,r)=>{const[a,i]=g.useState("bottom"),[o,s]=g.useState(0);return g.useEffect(()=>{if(!e)return;const l=requestAnimationFrame(()=>{const u=n.current,d=r.current;if(!u||!d)return;const f=u.getBoundingClientRect(),p=d.getBoundingClientRect(),m=(A=>{let P=(A==null?void 0:A.parentElement)||null;for(;P;){const B=window.getComputedStyle(P),D=`${B.overflow}${B.overflowY}${B.overflowX}`;if(/(auto|scroll|hidden)/.test(D))return P;P=P.parentElement}return null})(u),h=m?m.getBoundingClientRect():{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth},v=h.bottom-f.bottom,b=f.top-h.top,y=v<p.height+8&&b>v?"top":"bottom";i(y);const x=6,w=f.left+f.width/2,S=h.left+x+p.width/2,j=h.right-x-p.width/2,N=Math.min(Math.max(w,S),j);s(N-w)});return()=>cancelAnimationFrame(l)},[e,...t]),{placement:a,shiftX:o}},noe=(e,t=5)=>{const n=Object.entries(e).filter(([,a])=>a>0).sort((a,i)=>i[1]-a[1]||a[0].localeCompare(i[0])).map(([a,i])=>({profession:a,count:i})),r=[];for(let a=0;a<n.length;a+=t)r.push(n.slice(a,a+t));return r},AF=(e,t,n,r,a=8)=>{const[i,o]=g.useState({position:"fixed",top:-9999,left:-9999,transform:"translateX(-50%)"});return g.useEffect(()=>{if(!e)return;const s=()=>{const u=n.current,d=r.current;if(!u||!d)return;const f=u.getBoundingClientRect(),p=d.getBoundingClientRect(),m=window.innerHeight-f.bottom,h=f.top,v=m<p.height+a&&h>m?Math.max(a,f.top-p.height-a):Math.min(window.innerHeight-p.height-a,f.bottom+a),b=f.left+f.width/2,y=a+p.width/2,x=window.innerWidth-a-p.width/2,w=Math.min(Math.max(b,y),x);o({position:"fixed",top:v,left:w,transform:"translateX(-50%)"})},l=requestAnimationFrame(s);return window.addEventListener("scroll",s,!0),window.addEventListener("resize",s),()=>{cancelAnimationFrame(l),window.removeEventListener("scroll",s,!0),window.removeEventListener("resize",s)}},[e,a,...t]),i},roe=({profession:e,professionList:t,className:n="w-4 h-4 object-contain"})=>{const r=(t||[]).filter(Boolean),a=e==="Multi"&&r.length>0?r[0]:e,i=Ic(a||"Unknown"),o=r.length>1,[s,l]=g.useState(!1),u=g.useRef(null),d=g.useRef(null),f=`${n} object-contain`,{placement:p,shiftX:m}=toe(s,[r.length,f],u,d),h=Array.from(new Set(r.map(x=>Ls(x||"Unknown")))).slice(0,4),v=h.length>1?`conic-gradient(${h.map((x,w)=>`${x} ${w*360/h.length}deg ${(w+1)*360/h.length}deg`).join(", ")})`:h[0]||"#9ca3af";if(!i)return null;const b=p==="top"?"bottom-full mb-2":"top-full mt-2",y={transform:`translateX(calc(-50% + ${m}px))`};return c.jsxs("span",{ref:u,className:`relative inline-flex shrink-0 ${o?"group":""}`,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[c.jsx("img",{src:i,alt:a||"Unknown",className:`${f} shrink-0`}),o&&c.jsxs(c.Fragment,{children:[c.jsx("span",{"aria-hidden":"true",className:"absolute -top-0.5 -right-0.5 h-2.5 w-2.5 rounded-full ring-1 ring-[#10141b] shadow-[0_0_0_1px_rgba(255,255,255,0.08)]",style:{background:v},children:c.jsx("span",{className:"absolute inset-[0.7px] rounded-full bg-[#0f141c]/55"})}),c.jsxs("div",{ref:d,style:y,className:`profession-multi-tooltip absolute left-1/2 z-50 w-max rounded-md border border-white/10 bg-black/70 px-2 py-1 text-[10px] text-gray-200 shadow-lg pointer-events-none ${b} ${s?"block":"hidden"}`,children:[c.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:"Multi"}),c.jsx("div",{className:"space-y-1",children:r.map(x=>{const w=Ic(x||"Unknown");return c.jsxs("div",{className:"flex items-center gap-1",children:[w?c.jsx("img",{src:w,alt:x||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,c.jsx("span",{className:"text-gray-100",children:x||"Unknown"})]},x)})})]})]})]})},aoe=(e,t,n="w-4 h-4 object-contain")=>c.jsx(roe,{profession:e,professionList:t,className:n}),Nb=({count:e,classCounts:t,label:n,className:r})=>{const a=noe(t||{}),i=e>0,[o,s]=g.useState(!1),l=g.useRef(null),u=g.useRef(null),d=AF(o,[a.length,e],l,u);return c.jsxs("span",{ref:l,className:`relative inline-flex items-center justify-end ${i?"group cursor-help":""}`,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[c.jsx("span",{className:r,children:e}),i&&typeof document<"u"&&Id.createPortal(c.jsxs("div",{ref:u,style:d,className:`count-class-tooltip z-[9999] w-max rounded-md border border-white/10 bg-black/70 px-2 py-1 text-[10px] text-gray-200 shadow-lg pointer-events-none ${o?"block":"hidden"}`,children:[c.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:n}),a.length>0?c.jsx("div",{className:"grid grid-flow-col auto-cols-fr gap-2",children:a.map((f,p)=>c.jsx("div",{className:"space-y-1",children:f.map(({profession:m,count:h})=>{const v=Ic(m||"Unknown");return c.jsxs("div",{className:"flex items-center gap-1",children:[v?c.jsx("img",{src:v,alt:m||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,c.jsx("span",{className:"text-gray-100",children:m||"Unknown"}),c.jsx("span",{className:"text-gray-400",children:""}),c.jsx("span",{className:"text-gray-200",children:h})]},m)})},`${n}-col-${p}`))}):c.jsx("div",{className:"text-[10px] text-gray-500 italic",children:"No class data available"})]}),document.body)]})},xr=({name:e,iconUrl:t,className:n="",iconClassName:r="h-4 w-4",textClassName:a="",truncateText:i=!0})=>{const o=eoe(t);return c.jsxs("span",{className:`inline-flex items-center gap-2 min-w-0 ${n}`,children:[o?c.jsx("img",{src:o,alt:e,className:`${r} shrink-0`}):null,c.jsx("span",{className:`${i?"truncate":""} ${a}`,children:e})]})},G5=({value:e,label:t,items:n,className:r})=>{const a=n.length>0,[i,o]=g.useState(!1),s=g.useRef(null),l=g.useRef(null),u=AF(i,[n.length],s,l);return c.jsxs("span",{ref:s,className:`relative inline-flex items-center justify-end ${a?"group cursor-help":""} ${r||""}`,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[c.jsx("span",{children:e}),a&&typeof document<"u"&&Id.createPortal(c.jsxs("div",{ref:l,style:u,className:`skill-breakdown-tooltip z-[9999] w-64 rounded-md border border-white/10 bg-black/70 px-3 py-2 text-[10px] text-gray-200 shadow-lg pointer-events-none ${i?"block":"hidden"}`,children:[c.jsx("div",{className:"text-[9px] uppercase tracking-wider text-amber-200 mb-1",children:t}),c.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1",children:n.map(d=>c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsx("span",{className:"truncate text-gray-100",children:c.jsx(xr,{name:d.name,iconUrl:d.iconUrl,iconClassName:"h-6 w-6"})}),c.jsx("span",{className:"text-gray-300 font-mono",children:d.value})]},d.name))})]}),document.body)]})},ioe=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,selectedPlayers:s,setSelectedPlayers:l,removeSelectedPlayer:u,playerMapByKey:d,groupedSkillUsagePlayers:f,expandedSkillUsageClass:p,setExpandedSkillUsageClass:m,togglePlayerSelection:h,skillUsagePlayerFilter:v,setSkillUsagePlayerFilter:b,skillUsageView:y,setSkillUsageView:x,skillUsageData:w,skillUsageSkillFilter:S,setSkillUsageSkillFilter:j,selectedSkillId:N,setSelectedSkillId:A,skillBarData:P,selectedSkillName:B,selectedSkillIcon:D,skillUsageReady:I,skillUsageAvailable:O,isSkillUsagePerSecond:H,skillChartData:J,skillChartMaxY:ie,playerTotalsForSkill:we,hoveredSkillPlayer:te,setHoveredSkillPlayer:q,getLineStrokeColor:W,getLineDashForPlayer:k,formatSkillUsageValue:$,renderProfessionIcon:T})=>c.jsxs("div",{id:"skill-usage","data-section-visible":a("skill-usage"),"data-section-first":i("skill-usage"),className:o("skill-usage",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${e==="skill-usage"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[c.jsxs("div",{className:e==="skill-usage"?"pr-10 md:pr-0":"",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(wk,{className:"w-5 h-5 text-cyan-400"}),"Skill Usage Tracker"]}),c.jsx("p",{className:"text-xs text-gray-400",children:"Compare how often squad members cast a skill and drill into the timeline breakdown."})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Nn,{value:y,onChange:x,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[w.logRecords.length," ",w.logRecords.length===1?"log":"logs"]}),c.jsx("button",{type:"button",onClick:()=>e==="skill-usage"?r():n("skill-usage"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="skill-usage"?"absolute top-2 right-2 md:static":""}`,"aria-label":e==="skill-usage"?"Close Skill Usage":"Expand Skill Usage",title:e==="skill-usage"?"Close":"Expand",children:e==="skill-usage"?c.jsx(ma,{className:"w-4 h-4"}):c.jsx(Ca,{className:"w-4 h-4"})})]})]}),s.length>0&&c.jsxs("div",{className:"flex items-center gap-2 pb-2 overflow-x-auto pr-1 -mx-1 px-1",children:[c.jsx("button",{type:"button",onClick:()=>l([]),className:"shrink-0 px-3 py-1 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:"Clear All"}),s.map(C=>{const R=d.get(C);return R?c.jsxs("span",{className:"flex items-center gap-1 rounded-full border border-cyan-400/40 bg-cyan-500/10 px-3 py-1 text-xs text-cyan-200 shrink-0",children:[c.jsx("span",{className:"truncate max-w-[140px]",children:R.displayName}),c.jsxs("span",{className:"text-[10px] text-cyan-200/70",children:[R.logs," ",R.logs===1?"log":"logs"]}),c.jsx("button",{type:"button",onClick:()=>u(R.key),className:"rounded-full p-1 text-cyan-200 hover:bg-white/20",children:c.jsx(AO,{className:"w-3 h-3"})})]},R.key):null})]}),c.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Squad Players"}),c.jsx("input",{type:"search",value:v,onChange:C=>b(C.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),c.jsx("div",{className:"skill-usage-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:f.length===0?c.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No squad players match the filter"}):f.map(C=>{const R=p===C.profession,V=C.players.map(ce=>ce.key),Q=V.length>0&&V.every(ce=>s.includes(ce));return c.jsxs("div",{className:"border-b border-white/5 last:border-b-0",children:[c.jsx("button",{type:"button",onClick:()=>{if(R){m(null);return}m(C.profession)},className:`skill-usage-player-list-item w-full px-3 py-2 text-left transition-colors ${R?"bg-white/10":"hover:bg-white/5"}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[T(C.profession,void 0,"w-4 h-4"),c.jsx("div",{className:"text-sm font-semibold truncate text-white",children:C.profession})]}),c.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[c.jsxs("span",{className:"text-[10px]",children:[C.players.length,"p"]}),R?c.jsx(Hx,{className:"w-3.5 h-3.5"}):c.jsx(t8,{className:"w-3.5 h-3.5"})]})]})}),R&&c.jsxs("div",{className:"pb-2",children:[c.jsxs("div",{className:"px-6 pt-1 pb-2 flex items-center justify-between text-[11px] text-gray-400",children:[c.jsxs("span",{children:[C.players.length," ",C.players.length===1?"player":"players"]}),c.jsx("button",{type:"button",onClick:()=>{l(ce=>{if(Q)return ce.filter(L=>!V.includes(L));const Y=new Set(ce);return V.forEach(L=>Y.add(L)),Array.from(Y)})},className:"skill-usage-player-list-item px-2 py-0.5 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:Q?"Clear All":"Select All"})]}),C.players.map(ce=>{const Y=s.includes(ce.key);return c.jsx("button",{type:"button",onClick:()=>h(ce.key),className:`skill-usage-player-list-item w-full border-b border-white/5 px-6 py-2 text-left transition-colors last:border-b-0 ${Y?"border-cyan-400 bg-cyan-500/10 text-white":"border-transparent hover:border-white/10 hover:bg-white/5"}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-semibold truncate text-white",children:ce.displayName}),c.jsxs("div",{className:"text-[11px] text-gray-400",children:[ce.account,"  ",ce.profession,"  ",ce.logs," ",ce.logs===1?"log":"logs"]})]}),Y&&c.jsx(NO,{className:"w-4 h-4 text-cyan-300"})]})},ce.key)})]})]},C.profession)})})]}),c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Skill Totals"}),c.jsx("div",{className:"text-[11px] text-gray-500",children:s.length>0?`${s.length} player${s.length===1?"":"s"}  ${H?"casts/sec":"total casts"}`:"Select players"})]}),c.jsx("input",{type:"search",value:S,onChange:C=>j(C.target.value),placeholder:"Filter skill names",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),c.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/20 p-0.5 flex-1 min-h-0",children:s.length===0?c.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"Select squad players to see the skills they cast."}):P.length===0?c.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"No skill casts found for the selected players."}):(()=>{const C=P.reduce((R,V)=>Math.max(R,V.total),0)||1;return c.jsx("div",{className:"space-y-0.5 h-full overflow-y-auto pr-0.5",children:P.map((R,V)=>{const Q=Math.min(100,R.total/C*100),ce=N===R.skillId;return c.jsxs("button",{type:"button",onClick:()=>A(R.skillId),className:`w-full space-y-1 rounded-lg border px-2 py-1.5 text-left transition-colors ${ce?"border-white/60 bg-white/10":"border-white/10 bg-white/5 hover:border-white/30 hover:bg-white/10"}`,children:[c.jsxs("div",{className:"flex items-center justify-between text-sm text-white min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[c.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-400",children:`#${V+1}`}),c.jsx(xr,{name:R.name,iconUrl:R.icon,iconClassName:"h-6 w-6",className:"min-w-0 flex-1 max-w-[58vw] sm:max-w-none",textClassName:"font-semibold"})]}),c.jsx("span",{className:"text-cyan-200 font-mono text-xs shrink-0",children:$(R.total)})]}),c.jsx("div",{className:"h-1 w-full rounded-full bg-white/10",children:c.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${Q}%`,backgroundColor:R.color}})})]},R.skillId)})})})()})]})]}),c.jsx("div",{className:"space-y-3",children:I?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-4 rounded-2xl bg-black/50 p-4 mt-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:B?c.jsx(xr,{name:B,iconUrl:D,iconClassName:"h-6 w-6"}):"Selected Skill Usage"}),c.jsxs("div",{className:"text-[11px] text-gray-400",children:["(",H?"casts per second":"casts per log",")"]})]}),c.jsx(Do,{width:"100%",height:250,children:c.jsxs(Yl,{data:J,children:[c.jsx(Zs,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Qs,{dataKey:"index",type:"number",tick:{fill:"#e2e8f0",fontSize:10},interval:0,tickFormatter:C=>{const R=J[C],V=String((R==null?void 0:R.shortLabel)??C);return V.length>20?`${V.slice(0,20)}`:V}}),c.jsx(Xs,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,ie)],allowDecimals:!1}),c.jsx(Po,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},content:({active:C,payload:R,label:V})=>{var Q;if(!C||!R||R.length===0)return null;const ce=[...R].sort((z,re)=>(re.value||0)-(z.value||0)),Y=ce[0],L=((Q=Y==null?void 0:Y.payload)==null?void 0:Q.fullLabel)||V;return c.jsxs("div",{className:"rounded-lg bg-slate-900/95 border border-white/10 px-3 py-2 shadow-xl",children:[c.jsx("div",{className:"text-sm text-white mb-1",children:L}),c.jsx("div",{className:"space-y-1",children:ce.map(z=>{const re=String(z.name||""),F=d.get(re),le=(F==null?void 0:F.displayName)||re||"Player",ye=$(Number(z.value||0)),K=z.color||"#38bdf8";return c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"truncate",style:{color:K},children:le}),c.jsx("span",{className:"text-gray-200 font-mono",children:ye})]},`${le}-${ye}`)})})]})}}),s.map(C=>{const R=te.includes(C),V=te.length>0,Q=W(C,R,V),ce=k(C),Y=te.length>0&&!R;return c.jsx(li,{dataKey:C,stroke:Q,strokeWidth:R?4:3,strokeDasharray:ce,opacity:Y?.6:1,dot:!1,isAnimationActive:s.length<=16,animationDuration:420,animationEasing:"ease-out"},C)})]})})]}),s.length>0&&c.jsxs("div",{className:"rounded-2xl bg-black/40 border border-white/10 p-4 space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"text-xs uppercase tracking-[0.4em] text-gray-400",children:"Selected Players"}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[s.length," ",s.length===1?"player":"players"]})]}),c.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:[...s].sort((C,R)=>(we.get(R)||0)-(we.get(C)||0)).map(C=>{const R=d.get(C),V=we.get(C)??0,Q=te.includes(C),ce=te.length>0,Y=W(C,Q,ce);return c.jsxs("button",{type:"button",onClick:()=>{q(L=>L.includes(C)?L.filter(z=>z!==C):[...L,C])},className:`w-full rounded-2xl border bg-white/5 p-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-left transition cursor-pointer focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/70 min-w-0 ${Q?"border-white/40 bg-white/10":"border-white/10 hover:border-white/30 hover:bg-white/10"}`,"aria-pressed":Q,children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("svg",{className:"h-2 w-6",viewBox:"0 0 24 4","aria-hidden":"true",children:c.jsx("line",{x1:"0",y1:"2",x2:"24",y2:"2",stroke:Y,strokeWidth:"2",strokeDasharray:k(C),strokeLinecap:"round"})}),T(R==null?void 0:R.profession,R==null?void 0:R.professionList,"w-4 h-4"),c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.4em] text-gray-400",children:"Player"}),c.jsx("div",{className:"font-semibold text-white truncate",children:(R==null?void 0:R.displayName)||C}),c.jsxs("div",{className:"text-[11px] text-gray-400",children:[(R==null?void 0:R.logs)??0," ",((R==null?void 0:R.logs)??0)===1?"log":"logs"]})]})]}),c.jsx("div",{className:"text-2xl sm:text-3xl font-black text-white font-mono self-end sm:self-auto shrink-0",children:$(V)})]},C)})})]})]}):c.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 mt-2 text-center text-xs text-gray-400",children:O?"Pick one skill and up to two players to visualize their usage over time.":"Upload or highlight logs with rotation data to enable the skill usage tracker."})})]}),ooe=({containerRef:e,className:t=""})=>{const n=g.useRef(null),[r,a]=g.useState(0),[i,o]=g.useState(0),s=g.useRef(!1),l=g.useRef(0),u=g.useRef(0);g.useLayoutEffect(()=>{const p=e.current;if(!p)return;let m=0;const h=()=>{const{scrollWidth:w,clientWidth:S,scrollLeft:j}=p,N=w>S,A=n.current,P=(A==null?void 0:A.clientWidth)||0;if(!P){m=window.requestAnimationFrame(h);return}if(!N){a(P),o(0);return}const B=S/w,D=Math.max(20,Math.floor(P*B)),I=w-S,O=Math.max(0,P-D),H=I>0?Math.floor(j/I*O):0;a(D),o(H)};h();const v=()=>h(),b=new ResizeObserver(h);b.observe(p);const y=p.firstElementChild;y instanceof HTMLElement&&b.observe(y),n.current&&b.observe(n.current);const x=new MutationObserver(()=>h());return x.observe(p,{childList:!0,subtree:!0,attributes:!0}),window.addEventListener("resize",h),p.addEventListener("scroll",v),()=>{m&&window.cancelAnimationFrame(m),b.disconnect(),x.disconnect(),window.removeEventListener("resize",h),p.removeEventListener("scroll",v)}},[e]),g.useEffect(()=>{const p=h=>{if(!s.current)return;const v=n.current,b=e.current;if(!v||!b)return;const y=v.getBoundingClientRect(),x=h.clientX-l.current,w=Math.max(0,y.width-r),S=Math.min(w,Math.max(0,u.current+x)),j=b.scrollWidth-b.clientWidth,N=w>0?S/w*j:0;b.scrollLeft=N},m=()=>{s.current=!1};return window.addEventListener("pointermove",p),window.addEventListener("pointerup",m),()=>{window.removeEventListener("pointermove",p),window.removeEventListener("pointerup",m)}},[e,r]);const d=p=>{const m=n.current,h=e.current;if(!m||!h||r<=0)return;const v=m.getBoundingClientRect(),b=p.clientX-v.left,y=Math.max(0,v.width-r),x=Math.min(y,Math.max(0,b-r/2)),w=h.scrollWidth-h.clientWidth;h.scrollLeft=y>0?x/y*w:0},f=p=>{r<=0||(s.current=!0,l.current=p.clientX,u.current=i,p.currentTarget.setPointerCapture(p.pointerId))};return c.jsx("div",{className:`scroll-scrubber ${t}`,children:c.jsx("div",{ref:n,className:"scroll-scrubber__track",onClick:d,children:c.jsx("div",{className:"scroll-scrubber__thumb",style:{width:`${r}px`,transform:`translateX(${i}px)`},onPointerDown:f})})})},To=({title:e,subtitle:t,controls:n,columns:r,rows:a,sortColumnId:i,sortDirection:o="desc",onSortColumn:s,className:l=""})=>{const u=g.useRef(null),d=["minmax(170px, max-content)",...r.map(f=>`minmax(${f.minWidth??60}px, max-content)`)].join(" ");return c.jsxs("div",{className:`dense-table ${l}`,children:[(e||t)&&c.jsxs("div",{className:"dense-table__header",children:[e&&c.jsx("div",{className:"dense-table__title",children:e}),t&&c.jsx("div",{className:"dense-table__subtitle",children:t})]}),n&&c.jsx("div",{className:"dense-table__controls",children:n}),c.jsx("div",{ref:u,className:"dense-table__scroll",children:c.jsxs("div",{className:"dense-table__grid",style:{gridTemplateColumns:d},children:[c.jsx("div",{className:"dense-table__head dense-table__head--sticky dense-table__head--pinned",children:c.jsx("div",{className:"dense-table__head-inner",children:"Player"})}),r.map(f=>{const p=!!s,m=i===f.id?o==="desc"?"":"":null;return c.jsx("div",{className:`dense-table__head ${f.align==="right"?"dense-table__cell--right":""}`,style:f.minWidth?{minWidth:f.minWidth}:void 0,children:p?c.jsxs("button",{type:"button",onClick:()=>s==null?void 0:s(f.id),className:"dense-table__head-inner",children:[c.jsx("span",{className:"truncate",children:f.label}),m&&c.jsx("span",{className:"text-[10px] text-slate-200",children:m})]}):c.jsx("div",{className:"dense-table__head-inner",children:f.label})},f.id)}),a.map(f=>c.jsxs("div",{className:"dense-table__row",children:[c.jsx("div",{className:"dense-table__cell dense-table__cell--label dense-table__cell--pinned",children:f.label}),r.map(p=>c.jsx("div",{className:`dense-table__cell ${p.align==="right"?"dense-table__cell--right":""}`,children:f.values[p.id]??"-"},`${f.id}-${p.id}`))]},f.id))]})}),c.jsx(ooe,{containerRef:u})]})},Oo=({options:e,selectedIds:t,placeholder:n="Search...",onSelect:r,className:a=""})=>{const[i,o]=g.useState(""),[s,l]=g.useState(!1),[u,d]=g.useState(0),f=g.useRef(null),p=g.useRef(null),m=g.useRef(new Map);g.useEffect(()=>{const y=x=>{f.current&&(f.current.contains(x.target)||l(!1))};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]);const h=g.useMemo(()=>{const y=i.trim().toLowerCase();return y?e.filter(x=>x.label.toLowerCase().includes(y)).slice(0,50):e.slice(0,50)},[e,i]),v=g.useMemo(()=>{const y=new Map;return h.forEach((x,w)=>{y.set(`${x.type}-${x.id}`,w)}),y},[h]),b=g.useMemo(()=>{const y=h.filter(w=>w.type==="column"),x=h.filter(w=>w.type==="player");return{columns:y,players:x}},[h]);return g.useEffect(()=>{if(s){if(h.length===0){d(0);return}d(y=>Math.min(Math.max(y,0),h.length-1))}},[h,s]),g.useEffect(()=>{if(!s)return;const y=h[u];if(!y)return;const x=`${y.type}-${y.id}`,w=m.current.get(x);w&&p.current&&w.scrollIntoView({block:"nearest"})},[u,h,s]),c.jsxs("div",{ref:f,className:`relative ${a}`,children:[c.jsx("input",{value:i,onChange:y=>{o(y.target.value),l(!0)},onKeyDown:y=>{if(!s&&(y.key==="ArrowDown"||y.key==="ArrowUp")){l(!0);return}if(s)if(y.key==="ArrowDown"){if(y.preventDefault(),h.length===0)return;d(x=>(x+1)%h.length)}else if(y.key==="ArrowUp"){if(y.preventDefault(),h.length===0)return;d(x=>(x-1+h.length)%h.length)}else if(y.key==="Enter"){y.preventDefault();const x=h[u];if(!x)return;r(x),o(""),l(!1)}else y.key==="Escape"&&(y.preventDefault(),l(!1))},onFocus:()=>l(!0),placeholder:n,className:"w-full sm:w-64 bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none"}),s&&c.jsx("div",{className:"absolute z-30 mt-2 w-64 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:h.length===0?c.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No matches"}):c.jsxs("div",{ref:p,className:"max-h-60 overflow-y-auto space-y-2 pr-1",children:[b.columns.length>0&&c.jsxs("div",{children:[c.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Columns"}),b.columns.map(y=>{const x=(t==null?void 0:t.has(`${y.type}:${y.id}`))??!1;return c.jsx("button",{type:"button",ref:w=>{m.current.set(`${y.type}-${y.id}`,w)},onClick:()=>{r(y),o(""),l(!1)},onMouseEnter:()=>{const w=v.get(`${y.type}-${y.id}`);typeof w=="number"&&d(w)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${u===v.get(`${y.type}-${y.id}`)?"bg-white/10 border-white/10":""} ${x?"bg-white/15 border-white/20":""}`,children:c.jsxs("div",{className:"flex items-center gap-2",children:[y.icon?c.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:y.icon}):null,c.jsx("span",{className:"truncate",children:y.label})]})},`${y.type}-${y.id}`)})]}),b.players.length>0&&c.jsxs("div",{children:[c.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Players"}),b.players.map(y=>{const x=(t==null?void 0:t.has(`${y.type}:${y.id}`))??!1;return c.jsx("button",{type:"button",ref:w=>{m.current.set(`${y.type}-${y.id}`,w)},onClick:()=>{r(y),o(""),l(!1)},onMouseEnter:()=>{const w=v.get(`${y.type}-${y.id}`);typeof w=="number"&&d(w)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${u===v.get(`${y.type}-${y.id}`)?"bg-white/10 border-white/10":""} ${x?"bg-white/15 border-white/20":""}`,children:c.jsxs("div",{className:"flex items-center gap-2",children:[y.icon?c.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:y.icon}):null,c.jsx("span",{className:"truncate",children:y.label})]})},`${y.type}-${y.id}`)})]})]})})]})},wr=({options:e,selectedIds:t,onToggle:n,onClear:r,className:a="",buttonLabel:i="Columns",buttonIcon:o})=>{const[s,l]=g.useState(!1),u=g.useRef(null),d=new Set(t);return g.useEffect(()=>{const f=p=>{u.current&&(u.current.contains(p.target)||l(!1))};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]),c.jsxs("div",{ref:u,className:`relative ${a}`,children:[c.jsxs("button",{type:"button",onClick:()=>l(f=>!f),className:"flex items-center gap-2 rounded-lg border border-white/10 bg-white/5 px-3 py-1 text-xs font-semibold text-gray-300 hover:text-white hover:border-white/30 transition-colors",children:[o?c.jsx("span",{className:"h-3.5 w-3.5 text-gray-400",children:o}):null,c.jsx("span",{children:i}),t.length>0&&c.jsx("span",{className:"rounded-full bg-white/10 px-2 py-0.5 text-[10px] text-gray-200",children:t.length})]}),s&&c.jsxs("div",{className:"absolute z-20 mt-2 w-56 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:[c.jsxs("div",{className:"flex items-center justify-between px-2 pb-2 text-[11px] uppercase tracking-widest text-gray-500",children:[c.jsx("span",{children:"Filter Columns"}),c.jsx("button",{type:"button",onClick:r,className:"text-gray-400 hover:text-white",children:"Clear"})]}),c.jsx("div",{className:"max-h-56 overflow-y-auto space-y-1 pr-1",children:e.length===0?c.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No columns"}):e.map(f=>c.jsx("button",{type:"button",onClick:()=>n(f.id),className:`w-full text-left px-2 py-1.5 rounded-lg border transition-colors ${d.has(f.id)?"bg-white/10 border-white/20 text-white":"border-transparent text-gray-300 hover:bg-white/5 hover:text-white"}`,children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:`h-2.5 w-2.5 rounded-full border ${d.has(f.id)?"bg-emerald-400/80 border-emerald-300":"border-gray-500"}`}),f.icon?c.jsx("span",{className:"flex h-4 w-4 items-center justify-center shrink-0",children:f.icon}):null,c.jsx("span",{className:"truncate max-w-[140px]",children:f.label})]})},f.id))})]})]})},soe=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,sidebarListClass:s,apmSpecAvailable:l,skillUsageAvailable:u,apmSpecTables:d,activeApmSpec:f,setActiveApmSpec:p,expandedApmSpec:m,setExpandedApmSpec:h,activeApmSkillId:v,setActiveApmSkillId:b,ALL_SKILLS_KEY:y,apmSkillSearch:x,setApmSkillSearch:w,activeApmSpecTable:S,activeApmSkill:j,isAllApmSkills:N,apmView:A,setApmView:P,formatApmValue:B,formatCastRateValue:D,formatCastCountValue:I,renderProfessionIcon:O})=>{var H;const[J,ie]=g.useState({key:"apm",dir:"desc"}),we=e==="apm-stats",[te,q]=g.useState({columnId:"",dir:"desc"}),[W,k]=g.useState([]),[$,T]=g.useState([]),[C,R]=g.useState({}),V=we?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${s} max-h-72 overflow-y-auto`,Q=Y=>{ie(L=>({key:Y,dir:L.key===Y&&L.dir==="desc"?"asc":"desc"}))},ce=g.useMemo(()=>{const Y=[...(S==null?void 0:S.playerRows)||[]];return Y.sort((L,z)=>{const re=J.key==="apm"?Number(A==="perSecond"?L.aps:L.apm):Number(A==="perSecond"?L.apsNoAuto:L.apmNoAuto),F=J.key==="apm"?Number(A==="perSecond"?z.aps:z.apm):Number(A==="perSecond"?z.apsNoAuto:z.apmNoAuto);return(J.dir==="desc"?F-re:re-F)||String(L.displayName||"").localeCompare(String(z.displayName||""))}),Y},[S,J,A]);return c.jsxs("div",{id:"apm-stats","data-section-visible":a("apm-stats"),"data-section-first":i("apm-stats"),className:o("apm-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="apm-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(jk,{className:"w-5 h-5 text-emerald-300"}),"APM Breakdown"]}),c.jsxs("div",{className:"flex items-center gap-3 relative",children:[c.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[d.length," ",d.length===1?"spec":"specs"]}),c.jsx("button",{type:"button",onClick:()=>e==="apm-stats"?r():n("apm-stats"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="apm-stats"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="apm-stats"?"Close APM Breakdown":"Expand APM Breakdown",title:e==="apm-stats"?"Close":"Expand",children:e==="apm-stats"?c.jsx(ma,{className:"w-4 h-4"}):c.jsx(Ca,{className:"w-4 h-4"})})]})]}),c.jsx("div",{className:e==="apm-stats"?"flex-1 min-h-0 flex flex-col":"",children:l?c.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="apm-stats"?"flex-1 min-h-0 h-full":""}`,children:[c.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="apm-stats"?"h-full":""}`,children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Elite Specs"}),c.jsx("div",{className:"mb-2",children:c.jsx("input",{type:"text",value:x,onChange:Y=>w(Y.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"})}),c.jsx("div",{className:V,children:d.map(Y=>c.jsxs("div",{className:"space-y-1",children:[c.jsx("button",{onClick:()=>{const L=f!==Y.profession;p(Y.profession),h(L?Y.profession:m===Y.profession?null:Y.profession),L&&(b(y),k([]),T([]))},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${f===Y.profession?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[O(Y.profession,void 0,"w-4 h-4"),c.jsx("span",{className:"truncate",children:Y.profession})]}),c.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:c.jsxs("span",{className:"text-[10px]",children:[Y.players.length,"p"]})})]})}),!we&&m===Y.profession&&c.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[c.jsx("input",{type:"text",value:C[Y.profession]||"",onChange:L=>{const z=L.target.value;R(re=>({...re,[Y.profession]:z}))},placeholder:"Filter this spec...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"}),c.jsx("button",{type:"button",onClick:()=>{p(Y.profession),b(y)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===Y.profession&&N?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Skills"}),(Y.skills||[]).filter(L=>{const z=(C[Y.profession]||"").trim().toLowerCase();return z?String(L.name||"").toLowerCase().includes(z):!0}).map(L=>c.jsx("button",{type:"button",onClick:()=>{p(Y.profession),b(L.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===Y.profession&&v===L.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:L.name,children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[L.icon?c.jsx("img",{src:L.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,c.jsx("span",{className:"truncate",children:L.name})]})},L.id)),(Y.skills||[]).filter(L=>{const z=(C[Y.profession]||"").trim().toLowerCase();return z?String(L.name||"").toLowerCase().includes(z):!0}).length===0&&c.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},Y.profession))})]}),c.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="apm-stats"?"flex flex-col min-h-0":""}`,children:S?c.jsxs("div",{className:e==="apm-stats"?"flex flex-col min-h-0":"",children:[we&&(()=>{const Y=S.skills||[],L=(S.playerRows||[]).map(le=>({id:le.key,label:le.displayName||le.account||le.key,icon:O(le.profession,le.professionList,"w-3 h-3")})),z=Y.map(le=>({id:le.id,label:le.name,icon:le.icon?c.jsx("img",{src:le.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),re=[...Y.map(le=>({id:le.id,label:le.name,type:"column",icon:le.icon?c.jsx("img",{src:le.icon,alt:"",className:"h-4 w-4"}):void 0})),...(S.playerRows||[]).map(le=>({id:le.key,label:le.displayName||le.account||le.key,type:"player",icon:O(le.profession,le.professionList,"w-3 h-3")}))],F=new Set([...W.map(le=>`column:${le}`),...$.map(le=>`player:${le}`)]);return c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"APM"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Oo,{options:re,selectedIds:F,onSelect:le=>{le.type==="column"?k(ye=>ye.includes(le.id)?ye.filter(K=>K!==le.id):[...ye,le.id]):T(ye=>ye.includes(le.id)?ye.filter(K=>K!==le.id):[...ye,le.id])},className:"w-full sm:w-64"}),c.jsx(wr,{options:z,selectedIds:W,onToggle:le=>{k(ye=>ye.includes(le)?ye.filter(K=>K!==le):[...ye,le])},onClear:()=>k([]),buttonLabel:"Columns",buttonIcon:c.jsx(Mo,{className:"h-3.5 w-3.5"})}),c.jsx(wr,{options:L,selectedIds:$,onToggle:le=>{T(ye=>ye.includes(le)?ye.filter(K=>K!==le):[...ye,le])},onClear:()=>T([]),buttonLabel:"Players",buttonIcon:c.jsx(Er,{className:"h-3.5 w-3.5"})}),c.jsx(Nn,{value:A,onChange:P,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(W.length>0||$.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{k([]),T([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),W.map(le=>{var ye;const K=((ye=Y.find(me=>me.id===le))==null?void 0:ye.name)||le;return c.jsxs("button",{type:"button",onClick:()=>k(me=>me.filter(Te=>Te!==le)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:K}),c.jsx("span",{className:"text-gray-400",children:""})]},le)}),$.map(le=>{var ye;const K=((ye=L.find(me=>me.id===le))==null?void 0:ye.label)||le;return c.jsxs("button",{type:"button",onClick:()=>T(me=>me.filter(Te=>Te!==le)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:K}),c.jsx("span",{className:"text-gray-400",children:""})]},le)})]})]})})(),we?(()=>{var Y,L;const z=S.skills||[],re=W.length>0?z.filter(K=>W.includes(K.id)):z,F=$.length>0?(S.playerRows||[]).filter(K=>$.includes(K.key)):S.playerRows||[];if(z.length===0)return c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No skills available for this class."});const le=((Y=re.find(K=>K.id===te.columnId))==null?void 0:Y.id)||((L=re[0])==null?void 0:L.id)||"",ye=[...F].map(K=>{const me={},Te={};return re.forEach(pt=>{var Oe;const oe=Number(((Oe=pt.playerCounts)==null?void 0:Oe.get(K.key))||0),Fe=A==="perSecond"?oe/Math.max(1,K.totalActiveSeconds||0):oe;Te[pt.id]=Fe,me[pt.id]=A==="perSecond"?D(Fe):I(Fe)}),{row:K,values:me,numericValues:Te}}).sort((K,me)=>{const Te=K.numericValues[le]??0,pt=me.numericValues[le]??0;return(te.dir==="desc"?pt-Te:Te-pt)||String(K.row.displayName||"").localeCompare(String(me.row.displayName||""))});return c.jsx(To,{title:"APM - Dense View",subtitle:"Skills",sortColumnId:le,sortDirection:te.dir,onSortColumn:K=>{q(me=>({columnId:K,dir:me.columnId===K&&me.dir==="desc"?"asc":"desc"}))},columns:re.map(K=>({id:K.id,label:c.jsx(xr,{name:K.name,iconUrl:K.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:ye.map((K,me)=>({id:`${S.profession}-${K.row.key}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:me+1}),O(K.row.profession,K.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:K.row.displayName})]}),values:K.values}))})})():c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"stats-table-shell__head-stack",children:[c.jsxs("div",{className:"flex items-center justify-between gap-2 px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"min-w-0 text-sm font-semibold text-gray-200",children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[O(S.profession,void 0,"w-4 h-4"),c.jsx("span",{className:"truncate",children:S.profession}),c.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),N||!j?c.jsx("span",{className:"truncate",children:"All Skills"}):c.jsx(xr,{name:j.name,iconUrl:j.icon,iconClassName:"h-5 w-5"})]})}),c.jsx("div",{className:"text-[11px] text-gray-500",children:N||!j?`${((H=S.playerRows)==null?void 0:H.length)||0} players`:`${(j==null?void 0:j.totalCasts)??0} casts`})]}),N||!j?c.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.7fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>Q("apm"),className:`text-right transition-colors ${J.key==="apm"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[A==="perSecond"?"APS":"APM",J.key==="apm"?J.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>Q("apmNoAuto"),className:`text-right transition-colors ${J.key==="apmNoAuto"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[A==="perSecond"?"APS":"APM"," (No Auto)",J.key==="apmNoAuto"?J.dir==="desc"?" ":" ":""]})]}):c.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.4fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{children:"Player"}),c.jsx("div",{className:"text-right",children:"Casts"}),c.jsx("div",{className:"text-right",children:A==="perSecond"?"APS":"APM"})]})]}),N||!j?c.jsx(c.Fragment,{children:c.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:ce.map((Y,L)=>c.jsxs("div",{className:"grid grid-cols-[1.6fr_0.7fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${L+1}`}),O(Y.profession,Y.professionList,"w-4 h-4"),c.jsx("div",{className:"min-w-0",children:c.jsx("div",{className:"font-semibold text-white truncate",children:Y.displayName})})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:B(A==="perSecond"?Y.aps:Y.apm)}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:B(A==="perSecond"?Y.apsNoAuto:Y.apmNoAuto)})]},`${S.profession}-all-${Y.key}`))})}):c.jsx(c.Fragment,{children:c.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:((j==null?void 0:j.playerRows)||[]).length===0?c.jsx("div",{className:"px-4 py-8 text-center text-sm text-gray-500 italic border-t border-white/5",children:"No player rows available for this skill."}):((j==null?void 0:j.playerRows)||[]).map((Y,L)=>c.jsxs("div",{className:"grid grid-cols-[1.4fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${L+1}`}),O(Y.profession,Y.professionList,"w-4 h-4"),c.jsx("div",{className:"min-w-0",children:c.jsx("div",{className:"font-semibold text-white truncate",children:Y.displayName})})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:I(Number(Y.count||0))}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:B(Number(A==="perSecond"?Y.aps||0:Y.apm||0))})]},`${S.profession}-${j.id}-${Y.key}`))})})]})]}):c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select an elite spec to view APM details"})})]}):c.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:u?"No APM data available for the current selection.":"Upload or highlight logs with rotation data to enable the APM table."})})]})},loe=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,sidebarListClass:s,viewMode:l,setViewMode:u,playerSkillBreakdowns:d,classSkillBreakdowns:f,activePlayerKey:p,setActivePlayerKey:m,expandedPlayerKey:h,setExpandedPlayerKey:v,activePlayerSkillId:b,setActivePlayerSkillId:y,activeClassKey:x,setActiveClassKey:w,expandedClassKey:S,setExpandedClassKey:j,activeClassSkillId:N,setActiveClassSkillId:A,skillSearch:P,setSkillSearch:B,activePlayerBreakdown:D,activePlayerSkill:I,activeClassBreakdown:O,activeClassSkill:H,renderProfessionIcon:J})=>{const ie=d.length,we=((D==null?void 0:D.skills)||[]).reduce((K,me)=>K+(me.damage||0),0),te=(O==null?void 0:O.players)||[],[q,W]=g.useState({key:"down",dir:"desc"}),k=e==="player-breakdown",[$,T]=g.useState([]),[C,R]=g.useState([]),[V,Q]=g.useState({columnId:"",dir:"desc"}),[ce,Y]=g.useState({}),[L,z]=g.useState({}),re=(K,me)=>{var Te;return me&&(((Te=K.skillMap)==null?void 0:Te[me])||K.skills.find(Oe=>Oe.id===me))||null},F=k?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${s} max-h-72 overflow-y-auto`,le=g.useMemo(()=>{if(!O||!H)return te;const K=[...te];return K.sort((me,Te)=>{const pt=re(me,H.id),Oe=re(Te,H.id),oe=Number((pt==null?void 0:pt.downContribution)||0),Fe=Number((Oe==null?void 0:Oe.downContribution)||0),X=Number((pt==null?void 0:pt.damage)||0),yt=Number((Oe==null?void 0:Oe.damage)||0),Ot=me.totalFightMs>0?X/(me.totalFightMs/1e3):0,zn=Te.totalFightMs>0?yt/(Te.totalFightMs/1e3):0;let Se=0;return q.key==="down"&&(Se=oe-Fe),q.key==="damage"&&(Se=X-yt),q.key==="dps"&&(Se=Ot-zn),q.dir==="asc"?Se:-Se}),K},[O,te,H,q]),ye=K=>{W(me=>me.key!==K?{key:K,dir:"desc"}:{key:K,dir:me.dir==="desc"?"asc":"desc"})};return c.jsxs("div",{id:"player-breakdown","data-section-visible":a("player-breakdown"),"data-section-first":i("player-breakdown"),className:o("player-breakdown",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="player-breakdown"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(kk,{className:"w-5 h-5 text-sky-300"}),"Player Breakdown"]}),c.jsxs("div",{className:"flex items-center gap-3 relative",children:[c.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[ie," ",ie===1?"player":"players"]}),c.jsx("button",{type:"button",onClick:()=>e==="player-breakdown"?r():n("player-breakdown"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="player-breakdown"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="player-breakdown"?"Close Player Breakdown":"Expand Player Breakdown",title:e==="player-breakdown"?"Close":"Expand",children:e==="player-breakdown"?c.jsx(ma,{className:"w-4 h-4"}):c.jsx(Ca,{className:"w-4 h-4"})})]})]}),c.jsx("div",{className:e==="player-breakdown"?"flex-1 min-h-0 flex flex-col":"",children:d.length===0?c.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:"No player skill damage data available for the current selection."}):c.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="player-breakdown"?"flex-1 min-h-0 h-full":""}`,children:[c.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="player-breakdown"?"h-full":""}`,children:[c.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:k?"Squad Classes":l==="player"?"Squad Players":"Squad Classes"}),!k&&c.jsx("div",{className:"flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"player",label:"Player"},{id:"class",label:"Class"}].map(K=>{const me=l===K.id;return c.jsx("button",{type:"button",onClick:()=>u(K.id),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${me?"bg-sky-500/30 text-sky-100":"text-gray-400 hover:text-white"}`,children:K.label},K.id)})})]}),c.jsx("div",{className:"mb-2",children:c.jsx("input",{type:"text",value:P,onChange:K=>B(K.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"})}),c.jsx("div",{className:F,children:(k?"class":l)==="player"?d.map(K=>c.jsxs("div",{className:"space-y-1",children:[c.jsx("button",{onClick:()=>{const me=p!==K.key;me&&(y(null),T([]),R([])),m(K.key),v(me?K.key:h===K.key?null:K.key)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${p===K.key?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:K.displayName,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[J(K.profession,K.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate min-w-0",children:K.displayName})]}),c.jsx("div",{className:"flex items-center gap-2 text-gray-400 shrink-0",children:c.jsxs("span",{className:"text-[10px] whitespace-nowrap",children:[K.skills.length," skills"]})})]})}),!k&&h===K.key&&c.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[c.jsx("input",{type:"text",value:ce[K.key]||"",onChange:me=>{const Te=me.target.value;Y(pt=>({...pt,[K.key]:Te}))},placeholder:"Filter this player's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),K.skills.filter(me=>{const Te=(ce[K.key]||"").trim().toLowerCase();return Te?String(me.name||"").toLowerCase().includes(Te):!0}).map(me=>c.jsx("button",{type:"button",onClick:()=>{m(K.key),y(me.id)},className:`w-full min-h-[30px] text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${p===K.key&&b===me.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:me.name,children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[me.icon?c.jsx("img",{src:me.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,c.jsx("span",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",children:me.name})]})},me.id)),K.skills.filter(me=>{const Te=(ce[K.key]||"").trim().toLowerCase();return Te?String(me.name||"").toLowerCase().includes(Te):!0}).length===0&&c.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},K.key)):f.map(K=>c.jsxs("div",{className:"space-y-1",children:[c.jsx("button",{onClick:()=>{const me=x!==K.profession;me&&(A(null),T([]),R([])),w(K.profession),j(me?K.profession:S===K.profession?null:K.profession)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${x===K.profession?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[J(K.profession,void 0,"w-4 h-4"),c.jsx("span",{className:"truncate",children:K.profession})]}),c.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:c.jsxs("span",{className:"text-[10px]",children:[K.players.length,"p"]})})]})}),!k&&S===K.profession&&c.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[c.jsx("input",{type:"text",value:L[K.profession]||"",onChange:me=>{const Te=me.target.value;z(pt=>({...pt,[K.profession]:Te}))},placeholder:"Filter this class's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),K.skills.filter(me=>{const Te=(L[K.profession]||"").trim().toLowerCase();return Te?String(me.name||"").toLowerCase().includes(Te):!0}).map(me=>c.jsx("button",{type:"button",onClick:()=>{w(K.profession),A(me.id)},className:`w-full min-h-[30px] text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${x===K.profession&&N===me.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:me.name,children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[me.icon?c.jsx("img",{src:me.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,c.jsx("span",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",children:me.name})]})},me.id)),K.skills.filter(me=>{const Te=(L[K.profession]||"").trim().toLowerCase();return Te?String(me.name||"").toLowerCase().includes(Te):!0}).length===0&&c.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},K.profession))})]}),c.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="player-breakdown"?"flex flex-col min-h-0":""}`,children:(k?"class":l)==="player"?!D||!k&&!I?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a player and skill to view breakdown details"}):c.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[k&&(()=>{const K=D.skills||[],me=d.map(oe=>({id:oe.key,label:oe.displayName||oe.key,icon:J(oe.profession,oe.professionList,"w-3 h-3")})),Te=K.map(oe=>({id:oe.id,label:oe.name,icon:oe.icon?c.jsx("img",{src:oe.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),pt=[...K.map(oe=>({id:oe.id,label:oe.name,type:"column",icon:oe.icon?c.jsx("img",{src:oe.icon,alt:"",className:"h-4 w-4"}):void 0})),...d.map(oe=>({id:oe.key,label:oe.displayName||oe.key,type:"player",icon:J(oe.profession,oe.professionList,"w-3 h-3")}))],Oe=new Set([...$.map(oe=>`column:${oe}`),...C.map(oe=>`player:${oe}`)]);return c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Player Breakdown"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Oo,{options:pt,selectedIds:Oe,onSelect:oe=>{oe.type==="column"?T(Fe=>Fe.includes(oe.id)?Fe.filter(X=>X!==oe.id):[...Fe,oe.id]):R(Fe=>Fe.includes(oe.id)?Fe.filter(X=>X!==oe.id):[...Fe,oe.id])},className:"w-full sm:w-64"}),c.jsx(wr,{options:Te,selectedIds:$,onToggle:oe=>{T(Fe=>Fe.includes(oe)?Fe.filter(X=>X!==oe):[...Fe,oe])},onClear:()=>T([]),buttonLabel:"Columns",buttonIcon:c.jsx(Mo,{className:"h-3.5 w-3.5"})}),c.jsx(wr,{options:me,selectedIds:C,onToggle:oe=>{R(Fe=>Fe.includes(oe)?Fe.filter(X=>X!==oe):[...Fe,oe])},onClear:()=>R([]),buttonLabel:"Players",buttonIcon:c.jsx(Er,{className:"h-3.5 w-3.5"})})]}),($.length>0||C.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{T([]),R([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),$.map(oe=>{var Fe;const X=((Fe=K.find(yt=>yt.id===oe))==null?void 0:Fe.name)||oe;return c.jsxs("button",{type:"button",onClick:()=>T(yt=>yt.filter(Ot=>Ot!==oe)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:X}),c.jsx("span",{className:"text-gray-400",children:""})]},oe)}),C.map(oe=>{var Fe;const X=((Fe=me.find(yt=>yt.id===oe))==null?void 0:Fe.label)||oe;return c.jsxs("button",{type:"button",onClick:()=>R(yt=>yt.filter(Ot=>Ot!==oe)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:X}),c.jsx("span",{className:"text-gray-400",children:""})]},oe)})]})]})})(),k?(()=>{var K,me;const Te=D.skills||[],pt=$.length>0?Te.filter(X=>$.includes(X.id)):Te,Oe=C.length>0?d.filter(X=>C.includes(X.key)):d,oe=((K=pt.find(X=>X.id===V.columnId))==null?void 0:K.id)||((me=pt[0])==null?void 0:me.id)||"",Fe=Oe.map(X=>{const yt={},Ot={};return pt.forEach(zn=>{const Se=re(X,zn.id),Ze=Number((Se==null?void 0:Se.damage)||0);Ot[zn.id]=Ze,yt[zn.id]=xl(Ze)}),{player:X,values:yt,numericValues:Ot}}).sort((X,yt)=>{const Ot=X.numericValues[oe]??0,zn=yt.numericValues[oe]??0;return(V.dir==="desc"?zn-Ot:Ot-zn)||String(X.player.displayName||"").localeCompare(String(yt.player.displayName||""))});return c.jsx(To,{title:"Player Breakdown - Dense View",subtitle:"Damage",sortColumnId:oe,sortDirection:V.dir,onSortColumn:X=>{Q(yt=>({columnId:X,dir:yt.columnId===X&&yt.dir==="desc"?"asc":"desc"}))},columns:pt.map(X=>({id:X.id,label:c.jsx(xr,{name:X.name,iconUrl:X.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:Fe.map((X,yt)=>({id:`${X.player.key}-${yt}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:yt+1}),J(X.player.profession,X.player.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:X.player.displayName})]}),values:X.values}))})})():c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"stats-table-shell__head-stack",children:[c.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:c.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-wrap",children:[J(D.profession,D.professionList,"w-4 h-4"),c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:D.displayName}),c.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),c.jsx("div",{className:"text-sm font-semibold text-gray-200 min-w-0",children:c.jsx(xr,{name:(I==null?void 0:I.name)||"",iconUrl:I==null?void 0:I.icon,iconClassName:"h-6 w-6",truncateText:!1,textClassName:"whitespace-normal break-words"})})]}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[D.skills.length," skills | ",xl(we)," total damage"]})]})}),c.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.2fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{children:"Metric"}),c.jsx("div",{className:"text-right",children:"Value"})]})]}),c.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:[{label:"Down Contribution",value:xl((I==null?void 0:I.downContribution)||0)},{label:"Total Damage",value:xl((I==null?void 0:I.damage)||0)},{label:"DPS",value:ca(D.totalFightMs>0?((I==null?void 0:I.damage)||0)/(D.totalFightMs/1e3):0,1)}].map(K=>c.jsxs("div",{className:"grid grid-cols-[1.2fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"font-semibold text-white",children:K.label}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:K.value})]},K.label))})]})]}):!O||!k&&!H?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a class and skill to view breakdown details"}):c.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[k&&(()=>{const K=O.skills||[],me=te.map(oe=>({id:oe.key,label:oe.displayName||oe.key,icon:J(oe.profession,oe.professionList,"w-3 h-3")})),Te=K.map(oe=>({id:oe.id,label:oe.name,icon:oe.icon?c.jsx("img",{src:oe.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),pt=[...K.map(oe=>({id:oe.id,label:oe.name,type:"column",icon:oe.icon?c.jsx("img",{src:oe.icon,alt:"",className:"h-4 w-4"}):void 0})),...te.map(oe=>({id:oe.key,label:oe.displayName||oe.key,type:"player",icon:J(oe.profession,oe.professionList,"w-3 h-3")}))],Oe=new Set([...$.map(oe=>`column:${oe}`),...C.map(oe=>`player:${oe}`)]);return c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Class Breakdown"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Oo,{options:pt,selectedIds:Oe,onSelect:oe=>{oe.type==="column"?T(Fe=>Fe.includes(oe.id)?Fe.filter(X=>X!==oe.id):[...Fe,oe.id]):R(Fe=>Fe.includes(oe.id)?Fe.filter(X=>X!==oe.id):[...Fe,oe.id])},className:"w-full sm:w-64"}),c.jsx(wr,{options:Te,selectedIds:$,onToggle:oe=>{T(Fe=>Fe.includes(oe)?Fe.filter(X=>X!==oe):[...Fe,oe])},onClear:()=>T([]),buttonLabel:"Columns",buttonIcon:c.jsx(Mo,{className:"h-3.5 w-3.5"})}),c.jsx(wr,{options:me,selectedIds:C,onToggle:oe=>{R(Fe=>Fe.includes(oe)?Fe.filter(X=>X!==oe):[...Fe,oe])},onClear:()=>R([]),buttonLabel:"Players",buttonIcon:c.jsx(Er,{className:"h-3.5 w-3.5"})})]}),($.length>0||C.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{T([]),R([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),$.map(oe=>{var Fe;const X=((Fe=K.find(yt=>yt.id===oe))==null?void 0:Fe.name)||oe;return c.jsxs("button",{type:"button",onClick:()=>T(yt=>yt.filter(Ot=>Ot!==oe)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:X}),c.jsx("span",{className:"text-gray-400",children:""})]},oe)}),C.map(oe=>{var Fe;const X=((Fe=me.find(yt=>yt.id===oe))==null?void 0:Fe.label)||oe;return c.jsxs("button",{type:"button",onClick:()=>R(yt=>yt.filter(Ot=>Ot!==oe)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:X}),c.jsx("span",{className:"text-gray-400",children:""})]},oe)})]})]})})(),k?(()=>{var K,me;const Te=O.skills||[],pt=$.length>0?Te.filter(X=>$.includes(X.id)):Te,Oe=C.length>0?te.filter(X=>C.includes(X.key)):te,oe=((K=pt.find(X=>X.id===V.columnId))==null?void 0:K.id)||((me=pt[0])==null?void 0:me.id)||"",Fe=Oe.map(X=>{const yt={},Ot={};return pt.forEach(zn=>{const Se=re(X,zn.id),Ze=Number((Se==null?void 0:Se.damage)||0);Ot[zn.id]=Ze,yt[zn.id]=xl(Ze)}),{player:X,values:yt,numericValues:Ot}}).sort((X,yt)=>{const Ot=X.numericValues[oe]??0,zn=yt.numericValues[oe]??0;return(V.dir==="desc"?zn-Ot:Ot-zn)||String(X.player.displayName||"").localeCompare(String(yt.player.displayName||""))});return c.jsx(To,{title:"Class Breakdown - Dense View",subtitle:"Damage",sortColumnId:oe,sortDirection:V.dir,onSortColumn:X=>{Q(yt=>({columnId:X,dir:yt.columnId===X&&yt.dir==="desc"?"asc":"desc"}))},columns:pt.map(X=>({id:X.id,label:c.jsx(xr,{name:X.name,iconUrl:X.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:Fe.map((X,yt)=>({id:`${X.player.key}-${yt}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:yt+1}),J(X.player.profession,X.player.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:X.player.displayName})]}),values:X.values}))})})():c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"stats-table-shell__head-stack",children:[c.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:c.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-wrap",children:[J(O.profession,void 0,"w-4 h-4"),c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:O.profession}),c.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),c.jsx("div",{className:"text-sm font-semibold text-gray-200 min-w-0",children:c.jsx(xr,{name:(H==null?void 0:H.name)||"",iconUrl:H==null?void 0:H.icon,iconClassName:"h-6 w-6",truncateText:!1,textClassName:"whitespace-normal break-words"})})]}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[te.length," players | ",O.skills.length," skills"]})]})}),c.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>ye("down"),className:`text-right flex items-center justify-end gap-1 transition-colors ${q.key==="down"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Down Contrib",c.jsx("span",{className:"text-[10px]",children:q.key==="down"?q.dir==="desc"?"":"":""})]}),c.jsxs("button",{type:"button",onClick:()=>ye("damage"),className:`text-right flex items-center justify-end gap-1 transition-colors ${q.key==="damage"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage",c.jsx("span",{className:"text-[10px]",children:q.key==="damage"?q.dir==="desc"?"":"":""})]}),c.jsxs("button",{type:"button",onClick:()=>ye("dps"),className:`text-right flex items-center justify-end gap-1 transition-colors ${q.key==="dps"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["DPS",c.jsx("span",{className:"text-[10px]",children:q.key==="dps"?q.dir==="desc"?"":"":""})]})]})]}),c.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:le.map(K=>{const me=re(K,(H==null?void 0:H.id)||""),Te=Number((me==null?void 0:me.downContribution)||0),pt=Number((me==null?void 0:me.damage)||0),Oe=K.totalFightMs>0?pt/(K.totalFightMs/1e3):0;return c.jsxs("div",{className:"grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[J(K.profession,K.professionList,"w-4 h-4"),c.jsx("div",{className:"min-w-0",children:c.jsx("div",{className:"font-semibold text-white truncate",children:K.displayName})})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:xl(Te)}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:xl(pt)}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:ca(Oe,1)})]},`${O.profession}-${K.key}`)})})]})]})})]})})]})},coe=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,playerSkillBreakdowns:s,renderProfessionIcon:l})=>{const u="damage-breakdown",d=e===u,[f,p]=g.useState("damage"),[m,h]=g.useState(""),[v,b]=g.useState(null),y=A=>Number(f==="damage"?A.damage||0:A.downContribution||0),x=A=>(A.skills||[]).reduce((P,B)=>P+y(B),0),w=g.useMemo(()=>{const A=m.trim().toLowerCase();return[...A?s.filter(P=>String(P.displayName||"").toLowerCase().includes(A)||String(P.account||"").toLowerCase().includes(A)||String(P.profession||"").toLowerCase().includes(A)):s].sort((P,B)=>{const D=x(B)-x(P);return D!==0?D:String(P.displayName||"").localeCompare(String(B.displayName||""))})},[s,m,f]),S=g.useMemo(()=>v&&w.find(A=>A.key===v)||null,[w,v]),j=g.useMemo(()=>S?[...S.skills||[]].filter(A=>y(A)>0).sort((A,P)=>y(P)-y(A)).map(A=>({...A,value:y(A)})):[],[S,f]),N=g.useMemo(()=>S?x(S):0,[S,f]);return g.useEffect(()=>{if(w.length===0){v!==null&&b(null);return}v&&!w.some(A=>A.key===v)&&b(null)},[w,v]),c.jsxs("div",{id:u,"data-section-visible":a(u),"data-section-first":i(u),className:o(u,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${d?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[c.jsxs("div",{className:d?"pr-10 md:pr-0":"",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(bk,{className:"w-5 h-5 text-sky-300"}),"Damage Breakdown"]}),c.jsx("p",{className:"text-xs text-gray-400",children:"Select one player to view total skill contribution for the selected metric."})]}),c.jsxs("div",{className:`flex items-center gap-3 ${d?"pr-10 md:pr-0":""}`,children:[c.jsx(Nn,{value:f,onChange:A=>p(A),options:[{value:"damage",label:"Damage"},{value:"downContribution",label:"Down Contrib"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx("button",{type:"button",onClick:()=>d?r():n(u),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${d?"absolute top-2 right-2 md:static":""}`,"aria-label":d?"Close Damage Breakdown":"Expand Damage Breakdown",title:d?"Close":"Expand",children:d?c.jsx(ma,{className:"w-4 h-4"}):c.jsx(Ca,{className:"w-4 h-4"})})]})]}),s.length===0?c.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:"No player skill damage data available for the current selection."}):c.jsxs("div",{className:"grid gap-4 lg:grid-cols-[280px_1fr] items-stretch",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 h-[360px]",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-3",children:"Squad Players"}),c.jsx("div",{className:"mb-2",children:c.jsx("input",{type:"search",value:m,onChange:A=>h(A.target.value),placeholder:"Search player or account",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"})}),c.jsx("div",{className:"space-y-1 pr-1 flex-1 min-h-0 overflow-y-auto",children:w.length===0?c.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No players match the filter."}):w.map(A=>{const P=v===A.key;return c.jsx("button",{type:"button",onClick:()=>b(A.key),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${P?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(A.profession,A.professionList,"w-3.5 h-3.5"),c.jsx("div",{className:"truncate min-w-0",children:A.displayName})]}),c.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[(A.skills||[]).length," ",(A.skills||[]).length===1?"skill":"skills"]})]}),c.jsx("div",{className:"text-xs font-mono text-sky-200 shrink-0",children:ca(x(A),0)})]})},A.key)})})]}),c.jsx("div",{className:"space-y-2 flex flex-col h-[360px]",children:c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table flex-1 min-h-0 flex flex-col",children:S?c.jsxs("div",{className:"h-full flex flex-col",children:[c.jsxs("div",{className:"stats-table-shell__head-stack",children:[c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"min-w-0 text-sm text-gray-200",children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("span",{className:"text-[10px] uppercase tracking-[0.25em] text-gray-400 shrink-0",children:"Skill Totals /"}),l(S.profession,S.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate font-semibold",children:S.displayName})]})}),c.jsxs("div",{className:"text-xs text-gray-400 uppercase tracking-[0.18em]",children:[f==="damage"?"Damage":"Down Contrib"," / ",j.length," ",j.length===1?"skill":"skills"]})]}),c.jsxs("div",{className:"stats-table-column-header grid grid-cols-[2fr_0.8fr_0.7fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{children:"Skill"}),c.jsx("div",{className:"text-right",children:f==="damage"?"Damage":"Down Contrib"}),c.jsx("div",{className:"text-right",children:"% Total"})]})]}),c.jsx("div",{className:"stats-table-shell__rows flex-1 min-h-0 overflow-y-auto",children:j.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No skill totals for this player and metric."}):j.map((A,P)=>c.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.7fr] gap-2 px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"min-w-0",children:c.jsx(xr,{name:A.name,iconUrl:A.icon,iconClassName:"h-4 w-4"})}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:ca(Number(A.value||0),0)}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:N>0?`${ca(Number(A.value||0)/N*100,1)}%`:"0.0%"})]},`${A.id}-${P}`))})]}):c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view skill totals."})})})]})]})},uoe=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,boonSearch:s,setBoonSearch:l,boons:u,activeBoonId:d,setActiveBoonId:f,timelineScope:p,setTimelineScope:m,playerFilter:h,setPlayerFilter:v,players:b,selectedPlayerKey:y,setSelectedPlayerKey:x,selectedPlayer:w,chartData:S,chartMaxY:j,selectedFightIndex:N,setSelectedFightIndex:A,drilldownTitle:P,drilldownData:B,formatWithCommas:D,renderProfessionIcon:I})=>{const O="boon-timeline",H=e===O,J=w!=null&&w.profession&&w.profession!=="All"?Ls(w.profession):"#22d3ee",ie=p==="selfBuffs"?"Self":p==="groupBuffs"?"Group":p==="squadBuffs"?"Squad":"All",we=W=>String(W||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),te=S.reduce((W,k)=>!W||k.total>W.total?k:W,null),q=W=>{if(!Number.isFinite(W)||W<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(W))}catch{return""}};return c.jsxs("div",{id:O,"data-section-visible":a(O),"data-section-first":i(O),className:o(O,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${H?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[c.jsxs("div",{className:H?"pr-10 md:pr-0":"",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Ck,{className:"w-5 h-5 text-cyan-300"}),"Boon Timeline"]}),c.jsx("p",{className:"text-xs text-gray-400",children:"Select a boon, then a player (or All) to chart generation totals by fight and 5-second buckets."})]}),c.jsx("button",{type:"button",onClick:()=>H?r():n(O),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${H?"absolute top-2 right-2 md:static":""}`,"aria-label":H?"Close Boon Timeline":"Expand Boon Timeline",title:H?"Close":"Expand",children:H?c.jsx(ma,{className:"w-4 h-4"}):c.jsx(Ca,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"mb-4 rounded-2xl border border-white/10 bg-black/30 p-3",children:[c.jsxs("div",{className:"flex flex-col gap-2 lg:flex-row lg:items-center lg:justify-between",children:[c.jsx("input",{type:"search",value:s,onChange:W=>l(W.target.value),placeholder:"Search boon",className:"w-full lg:w-72 rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[u.length," ",u.length===1?"boon":"boons"]})]}),c.jsx("div",{className:"mt-2",children:c.jsx(Nn,{value:p,onChange:W=>m(W),options:[{value:"selfBuffs",label:"Self"},{value:"squadBuffs",label:"Squad"},{value:"groupBuffs",label:"Group"},{value:"totalBuffs",label:"All"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),c.jsx("div",{className:"mt-2 max-h-28 overflow-y-auto rounded-xl border border-white/10 bg-black/20 p-1.5",children:u.length===0?c.jsx("div",{className:"px-3 py-2 text-xs text-gray-500 italic",children:"No boons match this filter."}):c.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.map(W=>{const k=d===W.id;return c.jsxs("button",{type:"button",onClick:()=>f(W.id),className:`inline-flex items-center gap-1.5 rounded-full border px-2.5 py-1 text-xs transition-colors ${k?"border-cyan-300/60 bg-cyan-500/15 text-cyan-100":"border-white/10 bg-white/[0.03] text-gray-300 hover:border-white/20 hover:text-white"}`,children:[W.icon?c.jsx("img",{src:W.icon,alt:"",className:"h-3.5 w-3.5 object-contain",loading:"lazy"}):c.jsx(Vc,{className:"h-3.5 w-3.5 text-cyan-300"}),c.jsx("span",{children:W.name})]},W.id)})})})]}),c.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Boon Sources"}),c.jsx("input",{type:"search",value:h,onChange:W=>v(W.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),c.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:b.length===0?c.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"Select a boon to view player generation."}):c.jsx("div",{className:"p-1.5 space-y-1",children:b.map(W=>{const k=y===W.key;return c.jsx("button",{type:"button",onClick:()=>x(W.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${k?"border-cyan-300/60 bg-cyan-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[W.key==="__all__"?c.jsx(Vc,{className:"w-3.5 h-3.5 text-cyan-300"}):I(W.profession,W.professionList,"w-3.5 h-3.5"),c.jsx("div",{className:"text-sm font-semibold truncate text-white",children:W.displayName}),W.profession!=="All"&&c.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:W.profession})]}),c.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[W.logs," ",W.logs===1?"fight":"fights"]})]}),c.jsx("div",{className:"text-xs font-mono text-cyan-200 shrink-0",children:D((W.total||0)/1e3,0)})]})},W.key)})})})]}),c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:["Per Fight ",ie," Generation"]}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[S.length," ",S.length===1?"fight":"fights"]})]}),c.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!w||S.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view boon generation by fight."}):c.jsx(Do,{width:"100%",height:"100%",children:c.jsxs(Yl,{data:S,onClick:W=>{const k=Number(W==null?void 0:W.activeTooltipIndex);Number.isFinite(k)&&A(N===k?null:k)},children:[c.jsx(Zs,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Qs,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(Xs,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,j)],tickFormatter:W=>D(W/1e3,0)}),c.jsx(Po,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(W,k)=>[D(Number(W||0)/1e3,0),String(k||"")],labelFormatter:(W,k)=>{var $;const T=($=k==null?void 0:k[0])==null?void 0:$.payload;return we(String((T==null?void 0:T.fullLabel)||""))}}),c.jsx(li,{type:"monotone",dataKey:"total",name:w.displayName,stroke:J,strokeWidth:3,dot:W=>{var k;const $=Number((k=W==null?void 0:W.payload)==null?void 0:k.index);if(!Number.isFinite($))return null;const T=N===$;return c.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:C=>{C.stopPropagation(),A(T?null:$)},children:[c.jsx("circle",{cx:W.cx,cy:W.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),c.jsx("circle",{cx:W.cx,cy:W.cy,r:T?4:3,fill:J,stroke:T?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:T?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),c.jsx(li,{type:"monotone",dataKey:"maxTotal",name:"Fight Max",stroke:"rgba(148,163,184,0.8)",strokeWidth:2,strokeDasharray:"6 4",dot:!1,activeDot:!1})]})})})]})]}),w&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Source"}),c.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[w.key==="__all__"?c.jsx(Vc,{className:"w-4 h-4 text-cyan-300"}):I(w.profession,w.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:w.displayName})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Peak Fight Generation"}),c.jsx("div",{className:"mt-1 text-lg font-black text-cyan-200 font-mono",children:D(Number((te==null?void 0:te.total)||0)/1e3,0)})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Peak Fight"}),c.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const W=we((te==null?void 0:te.fullLabel)||"N/A"),k=q(Number((te==null?void 0:te.timestamp)||0));return k?`${k} - ${W}`:W})()})]})]}),w&&N!==null&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:P}),c.jsx("button",{type:"button",onClick:()=>A(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),c.jsx("div",{className:"h-[220px] relative",children:B.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):c.jsx(Do,{width:"100%",height:"100%",children:c.jsxs(Yl,{data:B,children:[c.jsx(Zs,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Qs,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(Xs,{tick:{fill:"#e2e8f0",fontSize:10},tickFormatter:W=>D(W/1e3,0)}),c.jsx(Po,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:W=>[D(Number(W||0)/1e3,0),"Generation"],labelFormatter:W=>String(W||"")}),c.jsx(li,{type:"monotone",dataKey:"value",name:"Generation",stroke:J,strokeWidth:2.5,dot:{r:2},activeDot:{r:4}})]})})})]})]})},doe=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,boonSearch:s,setBoonSearch:l,boons:u,activeBoonId:d,setActiveBoonId:f,playerFilter:p,setPlayerFilter:m,players:h,selectedPlayerKey:v,setSelectedPlayerKey:b,selectedPlayer:y,chartData:x,chartMaxY:w,selectedFightIndex:S,setSelectedFightIndex:j,drilldownTitle:N,drilldownData:A,showStackCapLine:P=!1,formatWithCommas:B,renderProfessionIcon:D})=>{const I="boon-uptime",O=e===I,H=y!=null&&y.profession&&y.profession!=="All"?Ls(y.profession):"#f59e0b",J=k=>String(k||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),ie=x.reduce((k,$)=>!k||$.peak>k.peak?$:k,null),we=P?Math.ceil(Math.max(1,w)+3):Math.max(1,w),te=Math.max(1,...A.map(k=>Math.max(0,Number((k==null?void 0:k.value)||0))),...P?[25]:[]),q=P?Math.ceil(Math.max(1,te)+3):Math.max(1,te),W=k=>{if(!Number.isFinite(k)||k<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(k))}catch{return""}};return c.jsxs("div",{id:I,"data-section-visible":a(I),"data-section-first":i(I),className:o(I,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${O?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[c.jsxs("div",{className:O?"pr-10 md:pr-0":"",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(zf,{className:"w-5 h-5 text-amber-300"}),"Boon Uptime"]}),c.jsx("p",{className:"text-xs text-gray-400",children:"Select a boon, then a player to chart per-fight peak stacks and drill into 5-second fight buckets."})]}),c.jsx("button",{type:"button",onClick:()=>O?r():n(I),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${O?"absolute top-2 right-2 md:static":""}`,"aria-label":O?"Close Boon Uptime":"Expand Boon Uptime",title:O?"Close":"Expand",children:O?c.jsx(ma,{className:"w-4 h-4"}):c.jsx(Ca,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"mb-4 rounded-2xl border border-white/10 bg-black/30 p-3",children:[c.jsxs("div",{className:"flex flex-col gap-2 lg:flex-row lg:items-center lg:justify-between",children:[c.jsx("input",{type:"search",value:s,onChange:k=>l(k.target.value),placeholder:"Search boon",className:"w-full lg:w-72 rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-amber-400 focus:outline-none"}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[u.length," ",u.length===1?"boon":"boons"]})]}),c.jsx("div",{className:"mt-2 max-h-28 overflow-y-auto rounded-xl border border-white/10 bg-black/20 p-1.5",children:u.length===0?c.jsx("div",{className:"px-3 py-2 text-xs text-gray-500 italic",children:"No boons match this filter."}):c.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.map(k=>{const $=d===k.id;return c.jsxs("button",{type:"button",onClick:()=>f(k.id),className:`inline-flex items-center gap-1.5 rounded-full border px-2.5 py-1 text-xs transition-colors ${$?"border-amber-300/60 bg-amber-500/15 text-amber-100":"border-white/10 bg-white/[0.03] text-gray-300 hover:border-white/20 hover:text-white"}`,children:[k.icon?c.jsx("img",{src:k.icon,alt:"",className:"h-3.5 w-3.5 object-contain",loading:"lazy"}):c.jsx(Vc,{className:"h-3.5 w-3.5 text-amber-300"}),c.jsx("span",{children:k.name})]},k.id)})})})]}),c.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Players"}),c.jsx("input",{type:"search",value:p,onChange:k=>m(k.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-amber-400 focus:outline-none"}),c.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:h.length===0?c.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"Select a boon to view player uptime."}):c.jsx("div",{className:"p-1.5 space-y-1",children:h.map(k=>{const $=v===k.key;return c.jsx("button",{type:"button",onClick:()=>b(k.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${$?"border-amber-300/60 bg-amber-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[k.key==="__all__"?c.jsx(zf,{className:"w-3.5 h-3.5 text-amber-300"}):D(k.profession,k.professionList,"w-3.5 h-3.5"),c.jsx("div",{className:"text-sm font-semibold truncate text-white",children:k.displayName}),k.profession!=="All"&&c.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:k.profession})]}),c.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[k.logs," ",k.logs===1?"fight":"fights"]})]}),c.jsx("div",{className:"text-xs font-mono text-amber-200 shrink-0",children:B(k.peak||0,0)})]})},k.key)})})})]}),c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Per Fight Peak Stacks"}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[x.length," ",x.length===1?"fight":"fights"]})]}),c.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!y||x.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view boon uptime by fight."}):c.jsx(Do,{width:"100%",height:"100%",children:c.jsxs(Yl,{data:x,onClick:k=>{const $=Number(k==null?void 0:k.activeTooltipIndex);Number.isFinite($)&&j(S===$?null:$)},children:[c.jsx(Zs,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Qs,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(Xs,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,we]}),c.jsx(Po,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(k,$)=>[B(Number(k||0),0),String($||"")],labelFormatter:(k,$)=>{var T;const C=(T=$==null?void 0:$[0])==null?void 0:T.payload;return J(String((C==null?void 0:C.fullLabel)||""))}}),c.jsx(li,{type:"monotone",dataKey:"peak",name:y.displayName,stroke:H,strokeWidth:3,dot:k=>{var $;const T=Number(($=k==null?void 0:k.payload)==null?void 0:$.index);if(!Number.isFinite(T))return null;const C=S===T;return c.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:R=>{R.stopPropagation(),j(C?null:T)},children:[c.jsx("circle",{cx:k.cx,cy:k.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),c.jsx("circle",{cx:k.cx,cy:k.cy,r:C?4:3,fill:H,stroke:C?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:C?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),P&&c.jsx(Ww,{y:25,stroke:"rgba(251,191,36,0.9)",strokeDasharray:"6 4",ifOverflow:"extendDomain",label:{value:"25",position:"right",fill:"#fbbf24",fontSize:10}})]})})})]})]}),y&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Player"}),c.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[y.key==="__all__"?c.jsx(zf,{className:"w-4 h-4 text-amber-300"}):D(y.profession,y.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:y.displayName})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Peak Fight Stacks"}),c.jsx("div",{className:"mt-1 text-lg font-black text-amber-200 font-mono",children:B(Number((ie==null?void 0:ie.peak)||0),0)})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Peak Fight"}),c.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const k=J((ie==null?void 0:ie.fullLabel)||"N/A"),$=W(Number((ie==null?void 0:ie.timestamp)||0));return $?`${$} - ${k}`:k})()})]})]}),y&&S!==null&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:N}),c.jsx("button",{type:"button",onClick:()=>j(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),c.jsx("div",{className:"h-[220px] relative",children:A.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):c.jsx(Do,{width:"100%",height:"100%",children:c.jsxs(Yl,{data:A,children:[c.jsx(Zs,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Qs,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(Xs,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,q]}),c.jsx(Po,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(k,$)=>[B(Number(k||0),0),String($||"")],labelFormatter:k=>String(k||"")}),c.jsx(li,{type:"monotone",dataKey:"value",name:"Selected",stroke:H,strokeWidth:2.5,dot:{r:2},activeDot:{r:4}}),P&&c.jsx(Ww,{y:25,stroke:"rgba(251,191,36,0.9)",strokeDasharray:"6 4",ifOverflow:"extendDomain",label:{value:"25",position:"right",fill:"#fbbf24",fontSize:10}})]})})})]})]})},MF=({className:e})=>c.jsx(m8,{className:e,style:{transform:"rotate(45deg)"}}),ol=({expanded:e,className:t="",sidebarClassName:n="",contentClassName:r="",sidebar:a,content:i})=>c.jsxs("div",{className:`stats-table-layout grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e?"flex-1 min-h-0 h-full":""} ${t}`,children:[c.jsx("div",{className:`stats-table-layout__sidebar ${n}`,children:a}),c.jsx("div",{className:`stats-table-layout__content ${r}`,children:i})]}),Io=({header:e,columns:t,rows:n,expanded:r,maxHeightClass:a="max-h-80"})=>c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"stats-table-shell__head-stack",children:[c.jsx("div",{className:"stats-table-shell__header",children:e}),c.jsx("div",{className:"stats-table-shell__columns",children:t})]}),c.jsx("div",{className:`stats-table-shell__rows ${r?"flex-1 min-h-0 overflow-y-auto":`${a} overflow-y-auto`}`,children:n})]}),foe=({stats:e,OFFENSE_METRICS:t,roundCountStats:n,offenseSearch:r,setOffenseSearch:a,activeOffenseStat:i,setActiveOffenseStat:o,offenseViewMode:s,setOffenseViewMode:l,formatWithCommas:u,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:p,openExpandedSection:m,closeExpandedSection:h,isSectionVisible:v,isFirstVisibleSection:b,sectionClass:y,sidebarListClass:x})=>{var w;const[S,j]=g.useState({key:"value",dir:"desc"}),[N,A]=g.useState({columnId:((w=t[0])==null?void 0:w.id)||"value",dir:"desc"}),P=f==="offense-detailed",[B,D]=g.useState([]),[I,O]=g.useState([]),H=t.filter(k=>k.label.toLowerCase().includes(r.trim().toLowerCase())),J=t.map(k=>({id:k.id,label:k.label})),ie=J.filter(k=>k.label.toLowerCase().includes(r.trim().toLowerCase())),we=B.length>0?t.filter(k=>B.includes(k.id)):t,te=Array.from(new Map(e.offensePlayers.map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:d(k.profession,k.professionList,"w-3 h-3")})),q=new Set([...B.map(k=>`column:${k}`),...I.map(k=>`player:${k}`)]),W=k=>{j($=>({key:k,dir:$.key===k&&$.dir==="desc"?"asc":"desc"}))};return c.jsxs("div",{id:"offense-detailed","data-section-visible":v("offense-detailed"),"data-section-first":b("offense-detailed"),className:y("offense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="offense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(MF,{className:"w-5 h-5 text-rose-300"}),"Offenses - Detailed"]}),c.jsx("button",{type:"button",onClick:()=>f==="offense-detailed"?h():m("offense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="offense-detailed"?"Close Offense Detailed":"Expand Offense Detailed",title:f==="offense-detailed"?"Close":"Expand",children:f==="offense-detailed"?c.jsx(ma,{className:"w-4 h-4"}):c.jsx(Ca,{className:"w-4 h-4"})})]}),e.offensePlayers.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No offensive stats available"}):P?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Oo,{options:[...J.map(k=>({...k,type:"column"})),...te.map(k=>({...k,type:"player"}))],onSelect:k=>{k.type==="column"?D($=>$.includes(k.id)?$.filter(T=>T!==k.id):[...$,k.id]):O($=>$.includes(k.id)?$.filter(T=>T!==k.id):[...$,k.id])},selectedIds:q,className:"w-full sm:w-64"}),c.jsx(wr,{options:ie,selectedIds:B,onToggle:k=>{D($=>$.includes(k)?$.filter(T=>T!==k):[...$,k])},onClear:()=>D([]),buttonIcon:c.jsx(Mo,{className:"h-3.5 w-3.5"})}),c.jsx(wr,{options:te,selectedIds:I,onToggle:k=>{O($=>$.includes(k)?$.filter(T=>T!==k):[...$,k])},onClear:()=>O([]),buttonLabel:"Players",buttonIcon:c.jsx(Er,{className:"h-3.5 w-3.5"})}),c.jsx(Nn,{value:s,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(B.length>0||I.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{D([]),O([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),B.map(k=>{var $;const T=(($=J.find(C=>C.id===k))==null?void 0:$.label)||k;return c.jsxs("button",{type:"button",onClick:()=>D(C=>C.filter(R=>R!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:T}),c.jsx("span",{className:"text-gray-400",children:""})]},k)}),I.map(k=>c.jsxs("button",{type:"button",onClick:()=>O($=>$.filter(T=>T!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:k}),c.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:H.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No offensive stats match this filter"}):(()=>{var k,$;const T=ce=>Math.max(1,(ce.totalFightMs||0)/1e3),C=(ce,Y,L)=>{var z,re,F,le,ye;if(Y==="downContributionPercent"){const K=((z=ce.offenseTotals)==null?void 0:z.downContribution)||0,me=((re=ce.offenseTotals)==null?void 0:re.damage)||0;return me>0?K/me*100:0}if(L.isRate){const K=((F=ce.offenseRateWeights)==null?void 0:F[Y])||0,me=((le=ce.offenseTotals)==null?void 0:le[Y])||0;return K>0?me/K*100:0}return((ye=ce.offenseTotals)==null?void 0:ye[Y])||0},R=(ce,Y)=>{const L=n&&!Y.isPercent&&s==="total"?0:2,z=u(ce,L);return Y.isPercent?`${z}%`:z},V=((k=we.find(ce=>ce.id===N.columnId))==null?void 0:k.id)||(($=we[0])==null?void 0:$.id)||"",Q=[...e.offensePlayers].filter(ce=>I.length===0||I.includes(ce.account)).map(ce=>{const Y={},L={};return we.forEach(z=>{const re=C(ce,z.id,z),F=s==="total"||z.isPercent||z.isRate?re:s==="per1s"?re/T(ce):re*60/T(ce);L[z.id]=F,Y[z.id]=R(F,z)}),{row:ce,values:Y,numericValues:L}}).sort((ce,Y)=>{const L=ce.numericValues[V]??0,z=Y.numericValues[V]??0;return(N.dir==="desc"?z-L:L-z)||String(ce.row.account||"").localeCompare(String(Y.row.account||""))});return c.jsx(To,{title:"Offense - Dense View",subtitle:"Offensive",sortColumnId:V,sortDirection:N.dir,onSortColumn:ce=>{A(Y=>({columnId:ce,dir:Y.columnId===ce&&Y.dir==="desc"?"asc":"desc"}))},columns:we.map(ce=>({id:ce.id,label:ce.label,align:"right",minWidth:90})),rows:Q.map((ce,Y)=>({id:`${ce.row.account}-${Y}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:Y+1}),d(ce.row.profession,ce.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:ce.row.account})]}),values:ce.values}))})})()})]}):c.jsx(ol,{expanded:f==="offense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="offense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="offense-detailed"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),c.jsx("input",{value:r,onChange:k=>a(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${x} ${f==="offense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:H.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No offensive stats match this filter"}):H.map(k=>c.jsx("button",{onClick:()=>o(k.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===k.id?"bg-rose-500/20 text-rose-200 border-rose-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:k.label},k.id))})]}),content:c.jsx(c.Fragment,{children:(()=>{const k=t.find(V=>V.id===i)||t[0],$=V=>Math.max(1,(V.totalFightMs||0)/1e3),T=V=>{var Q,ce,Y,L,z;if(k.id==="downContributionPercent"){const re=((Q=V.offenseTotals)==null?void 0:Q.downContribution)||0,F=((ce=V.offenseTotals)==null?void 0:ce.damage)||0;return F>0?re/F*100:0}if(k.isRate){const re=((Y=V.offenseRateWeights)==null?void 0:Y[k.id])||0,F=((L=V.offenseTotals)==null?void 0:L[k.id])||0;return re>0?F/re*100:0}return((z=V.offenseTotals)==null?void 0:z[k.id])||0},C=V=>{const Q=n&&!k.isPercent&&s==="total"?0:2,ce=u(V,Q);return k.isPercent?`${ce}%`:ce},R=[...e.offensePlayers].map(V=>({...V,total:T(V),per1s:k.isPercent||k.isRate?T(V):T(V)/$(V),per60s:k.isPercent||k.isRate?T(V):T(V)*60/$(V)})).sort((V,Q)=>{const ce=S.key==="fightTime"?Number(V.totalFightMs||0):Number(s==="total"?V.total:s==="per1s"?V.per1s:V.per60s),Y=S.key==="fightTime"?Number(Q.totalFightMs||0):Number(s==="total"?Q.total:s==="per1s"?Q.per1s:Q.per60s);return(S.dir==="desc"?Y-ce:ce-Y)||V.account.localeCompare(Q.account)});return c.jsx(Io,{expanded:f==="offense-detailed",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:k.label}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Offensive"})]}),columns:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"flex items-center justify-end gap-2 px-4 py-2 bg-white/5",children:c.jsx(Nn,{value:s,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>W("value"),className:`text-right transition-colors ${S.key==="value"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",S.key==="value"?S.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>W("fightTime"),className:`text-right transition-colors ${S.key==="fightTime"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",S.key==="fightTime"?S.dir==="desc"?" ":" ":""]})]})]}),rows:c.jsx(c.Fragment,{children:R.map((V,Q)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:Q+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(V.profession,V.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:V.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const ce=s==="total"?V.total:s==="per1s"?V.per1s:V.per60s;return C(ce)})()}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:V.totalFightMs?`${(V.totalFightMs/1e3).toFixed(1)}s`:"-"})]},`${k.id}-${V.account}-${Q}`))})})})()})})]})},poe=({conditionSummary:e,conditionPlayers:t,conditionSearch:n,setConditionSearch:r,activeConditionName:a,setActiveConditionName:i,conditionDirection:o,setConditionDirection:s,conditionGridClass:l,effectiveConditionSort:u,setConditionSort:d,showConditionDamage:f,renderProfessionIcon:p,expandedSection:m,expandedSectionClosing:h,openExpandedSection:v,closeExpandedSection:b,isSectionVisible:y,isFirstVisibleSection:x,sectionClass:w,sidebarListClass:S})=>{var j;const N=m==="conditions-outgoing",[A,P]=g.useState([]),[B,D]=g.useState([]),[I,O]=g.useState({columnId:"all",dir:"desc"}),H=k=>{if(!k)return 0;if(o!=="outgoing"){const R=Number(k.applicationsFromUptime);return Number.isFinite(R)&&R>0?R:Number(k.applications||0)}const $=Number(k.applicationsFromUptime);if(Number.isFinite($)&&$>0)return $;const T=Number(k.applicationsFromBuffsActive);if(Number.isFinite(T)&&T>0)return T;const C=Number(k.applicationsFromBuffs);return Number.isFinite(C)&&C>0?C:Number(k.applications||0)},J=[...e||[]].sort((k,$)=>($.damage||0)-(k.damage||0)),ie=J.filter(k=>k.name.toLowerCase().includes(n.trim().toLowerCase())),we=ie.map(k=>({id:k.name,label:k.name,icon:k.icon?c.jsx("img",{src:k.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),te=A.length>0?J.filter(k=>A.includes(k.name)):J,q=Array.from(new Map((t||[]).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:p(k.profession,k.professionList,"w-3 h-3")})),W=new Set([...A.map(k=>`column:${k}`),...B.map(k=>`player:${k}`)]);return c.jsxs("div",{id:"conditions-outgoing","data-section-visible":y("conditions-outgoing"),"data-section-first":x("conditions-outgoing"),className:w("conditions-outgoing",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="conditions-outgoing"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(ny,{className:"w-5 h-5 text-amber-300"}),"Conditions"]}),c.jsx("button",{type:"button",onClick:()=>m==="conditions-outgoing"?b():v("conditions-outgoing"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="conditions-outgoing"?"Close Outgoing Conditions":"Expand Outgoing Conditions",title:m==="conditions-outgoing"?"Close":"Expand",children:m==="conditions-outgoing"?c.jsx(ma,{className:"w-4 h-4"}):c.jsx(Ca,{className:"w-4 h-4"})})]}),e&&e.length>0?N?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Oo,{options:[...J.map(k=>({id:k.name,label:k.name,type:"column"})),...q.map(k=>({...k,type:"player"}))],onSelect:k=>{k.type==="column"?P($=>$.includes(k.id)?$.filter(T=>T!==k.id):[...$,k.id]):D($=>$.includes(k.id)?$.filter(T=>T!==k.id):[...$,k.id])},selectedIds:W,className:"w-full sm:w-64"}),c.jsx(wr,{options:we,selectedIds:A,onToggle:k=>{P($=>$.includes(k)?$.filter(T=>T!==k):[...$,k])},onClear:()=>P([]),buttonIcon:c.jsx(Mo,{className:"h-3.5 w-3.5"})}),c.jsx(wr,{options:q,selectedIds:B,onToggle:k=>{D($=>$.includes(k)?$.filter(T=>T!==k):[...$,k])},onClear:()=>D([]),buttonLabel:"Players",buttonIcon:c.jsx(Er,{className:"h-3.5 w-3.5"})}),c.jsx(Nn,{value:o,onChange:s,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),f&&c.jsx(Nn,{value:u.key,onChange:k=>d({key:k,dir:"desc"}),options:[{value:"applications",label:"Applications"},{value:"damage",label:"Damage"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ie.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No conditions match this filter"}):(()=>{const k=u.key,$=[{id:"all",label:"All Conditions",icon:null},...te],T=(t||[]).filter(V=>B.length===0||B.includes(V.account)).map(V=>{const Q=V.conditions||{},ce={},Y={};return $.forEach(L=>{if(L.id==="all"||L.name==="All Conditions"){const F=Object.values(Q).reduce((ye,K)=>{const me=H(K);return ye.applications+=Number(me||0),ye.damage+=Number((K==null?void 0:K.damage)||0),ye},{applications:0,damage:0}),le=k==="applications"?F.applications:F.damage;Y.all=le||0,ce.all=Math.round(le||0).toLocaleString();return}const z=Q[L.name],re=k==="applications"?H(z):Number((z==null?void 0:z.damage)||0);Y[L.name]=Number(re||0),ce[L.name]=Math.round(re||0).toLocaleString()}),{player:V,values:ce,numericValues:Y}}).filter(V=>Object.values(V.values).some(Q=>Q!=="0")),C=["all",...te.map(V=>V.name)].includes(I.columnId)?I.columnId:"all",R=[...T].sort((V,Q)=>{const ce=V.numericValues[C]??0,Y=Q.numericValues[C]??0;return(I.dir==="desc"?Y-ce:ce-Y)||String(V.player.account||"").localeCompare(String(Q.player.account||""))});return c.jsx(To,{title:"Conditions - Dense View",subtitle:k==="applications"?"Applications":"Damage",sortColumnId:C,sortDirection:I.dir,onSortColumn:V=>{O(Q=>({columnId:V,dir:Q.columnId===V&&Q.dir==="desc"?"asc":"desc"}))},columns:[{id:"all",label:"All",align:"right",minWidth:90},...te.map(V=>({id:V.name,label:c.jsx(xr,{name:V.name,iconUrl:V.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90}))],rows:R.map((V,Q)=>({id:`${V.player.account}-${Q}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:Q+1}),p(V.player.profession,V.player.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:V.player.account})]}),values:V.values}))})})()}),(A.length>0||B.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{P([]),D([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),A.map(k=>c.jsxs("button",{type:"button",onClick:()=>P($=>$.filter(T=>T!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:k}),c.jsx("span",{className:"text-gray-400",children:""})]},k)),B.map(k=>c.jsxs("button",{type:"button",onClick:()=>D($=>$.filter(T=>T!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:k}),c.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}):c.jsx(ol,{expanded:m==="conditions-outgoing",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="conditions-outgoing"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="conditions-outgoing"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),c.jsx("input",{value:n,onChange:k=>r(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${S} ${m==="conditions-outgoing"?"max-h-none flex-1 min-h-0":""}`,children:ie.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No conditions match this filter"}):c.jsxs(c.Fragment,{children:[c.jsx("button",{type:"button",onClick:()=>i("all"),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a==="all"?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Conditions"}),ie.map(k=>c.jsx("button",{type:"button",onClick:()=>i(k.name),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===k.name?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsx(xr,{name:k.name,iconUrl:k.icon,iconClassName:"h-5 w-5"})},k.name))]})})]}),content:c.jsx(Io,{expanded:m==="conditions-outgoing",header:c.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:a==="all"?"All Conditions":c.jsx(xr,{name:a,iconUrl:(j=e.find(k=>k.name===a))==null?void 0:j.icon,iconClassName:"h-5 w-5"})}),c.jsxs("div",{className:"flex flex-col items-end gap-2 text-right ml-auto mt-2",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Squad Totals"}),c.jsx(Nn,{value:o,onChange:s,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),columns:c.jsxs("div",{className:`grid ${l} text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2`,children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>{d({key:"applications",dir:u.key==="applications"&&u.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${u.key==="applications"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Applications ",u.key==="applications"?u.dir==="desc"?"":"":""]}),f?c.jsxs("button",{type:"button",onClick:()=>{d({key:"damage",dir:u.key==="damage"&&u.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${u.key==="damage"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage ",u.key==="damage"?u.dir==="desc"?"":"":""]}):null]}),rows:c.jsx(c.Fragment,{children:(()=>{const k=(t||[]).map($=>{const T=$.conditions||{};if(a==="all"){const R=Object.values(T).reduce((V,Q)=>{const ce=H(Q);return V.applications+=Number(ce||0),V.damage+=Number((Q==null?void 0:Q.damage)||0),V},{applications:0,damage:0});return{...$,applications:R.applications,damage:R.damage}}const C=T[a];return{...$,applications:H(C),damage:Number((C==null?void 0:C.damage)||0)}}).filter($=>$.applications>0||$.damage>0).sort(($,T)=>{const C=u.key==="applications"?$.applications||0:$.damage||0,R=u.key==="applications"?T.applications||0:T.damage||0,V=u.dir==="desc"?R-C:C-R;if(V!==0)return V;const Q=u.key==="applications"?(T.damage||0)-($.damage||0):(T.applications||0)-($.applications||0);return Q!==0?Q:String($.account||"").localeCompare(String(T.account||""))});return k.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No condition data available"}):k.map(($,T)=>{var C;const R=$.conditions||{};let V={};a==="all"?Object.values(R).forEach(F=>{const le=(F==null?void 0:F.skills)||{};Object.values(le).forEach(ye=>{const K=(ye==null?void 0:ye.name)||"Unknown",me=Number((ye==null?void 0:ye.hits)||0),Te=Number((ye==null?void 0:ye.damage)||0);if((!Number.isFinite(me)||me<=0)&&(!Number.isFinite(Te)||Te<=0))return;const pt=V[K]||{name:K,hits:0,damage:0,icon:ye==null?void 0:ye.icon};pt.hits+=Number.isFinite(me)?me:0,pt.damage+=Number.isFinite(Te)?Te:0,!pt.icon&&ye!=null&&ye.icon&&(pt.icon=ye.icon),V[K]=pt})}):V=((C=R[a])==null?void 0:C.skills)||{};const Q=Object.values(V).filter(F=>Number.isFinite(F.hits)&&F.hits>0).sort((F,le)=>le.hits-F.hits||F.name.localeCompare(le.name)),ce=Object.values(V).filter(F=>Number.isFinite(F.damage)&&F.damage>0).sort((F,le)=>le.damage-F.damage||F.name.localeCompare(le.name)),Y=a==="all"&&Q.length>0,L=a==="all"&&ce.length>0,z=Math.round($.applications||0).toLocaleString(),re=Math.round($.damage||0).toLocaleString();return c.jsxs("div",{className:`grid ${l} px-4 py-2 text-sm text-gray-200 border-t border-white/5`,children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:T+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[p($.profession,$.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:$.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:Y?c.jsx(G5,{value:z,label:"Condition Sources",items:Q.map(F=>({name:F.name,iconUrl:F.icon,value:Math.round(F.hits).toLocaleString()})),className:"justify-end"}):z}),f?c.jsx("div",{className:"text-right font-mono text-gray-300",children:L?c.jsx(G5,{value:re,label:"Condition Damage Sources",items:ce.map(F=>({name:F.name,iconUrl:F.icon,value:Math.round(F.damage).toLocaleString()})),className:"justify-end"}):re}):null]},`${$.account}-${T}`)})})()})})}):c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No condition data available"})]})},moe=({stats:e,activeBoonCategory:t,setActiveBoonCategory:n,activeBoonMetric:r,setActiveBoonMetric:a,activeBoonTab:i,setActiveBoonTab:o,activeBoonTable:s,filteredBoonTables:l,boonSearch:u,setBoonSearch:d,formatBoonMetricDisplay:f,getBoonMetricValue:p,renderProfessionIcon:m,roundCountStats:h,expandedSection:v,expandedSectionClosing:b,openExpandedSection:y,closeExpandedSection:x,isSectionVisible:w,isFirstVisibleSection:S,sectionClass:j,sidebarListClass:N})=>{const[A,P]=g.useState({key:"value",dir:"desc"}),[B,D]=g.useState({columnId:"",dir:"desc"}),I=v==="boon-output",[O,H]=g.useState([]),[J,ie]=g.useState([]),we=e.boonTables||[],te=O.length>0?we.filter(T=>O.includes(T.id)):we,q=l.map(T=>({id:T.id,label:T.name,icon:T.icon?c.jsx("img",{src:T.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),W=Array.from(new Map((e.boonTables||[]).flatMap(T=>T.rows||[]).filter(T=>T.account).map(T=>[T.account,T])).values()).map(T=>({id:T.account,label:T.account,icon:m(T.profession,T.professionList,"w-3 h-3")})),k=new Set([...O.map(T=>`column:${T}`),...J.map(T=>`player:${T}`)]),$=T=>{P(C=>({key:T,dir:C.key===T&&C.dir==="desc"?"asc":"desc"}))};return c.jsxs("div",{id:"boon-output","data-section-visible":w("boon-output"),"data-section-first":S("boon-output"),className:j("boon-output",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${v==="boon-output"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${b?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Vc,{className:"w-5 h-5 text-cyan-400"}),"Boon Output"]}),c.jsx("button",{type:"button",onClick:()=>v==="boon-output"?x():y("boon-output"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":v==="boon-output"?"Close Boon Output":"Expand Boon Output",title:v==="boon-output"?"Close":"Expand",children:v==="boon-output"?c.jsx(ma,{className:"w-4 h-4"}):c.jsx(Ca,{className:"w-4 h-4"})})]}),e.boonTables.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No boon data available"}):I?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Oo,{options:[...we.map(T=>({id:T.id,label:T.name,type:"column"})),...Array.from(new Map((e.boonTables||[]).flatMap(T=>T.rows||[]).filter(T=>T.account).map(T=>[T.account,T])).values()).map(T=>({id:T.account,label:T.account,type:"player",icon:m(T.profession,T.professionList,"w-3 h-3")}))],onSelect:T=>{T.type==="column"?H(C=>C.includes(T.id)?C.filter(R=>R!==T.id):[...C,T.id]):ie(C=>C.includes(T.id)?C.filter(R=>R!==T.id):[...C,T.id])},selectedIds:k,className:"w-full sm:w-64"}),c.jsx(wr,{options:q,selectedIds:O,onToggle:T=>{H(C=>C.includes(T)?C.filter(R=>R!==T):[...C,T])},onClear:()=>H([]),buttonIcon:c.jsx(Mo,{className:"h-3.5 w-3.5"})}),c.jsx(wr,{options:W,selectedIds:J,onToggle:T=>{ie(C=>C.includes(T)?C.filter(R=>R!==T):[...C,T])},onClear:()=>ie([]),buttonLabel:"Players",buttonIcon:c.jsx(Er,{className:"h-3.5 w-3.5"})}),c.jsx(Nn,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(Nn,{value:r,onChange:a,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(O.length>0||J.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{H([]),ie([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),O.map(T=>{var C;const R=((C=we.find(V=>V.id===T))==null?void 0:C.name)||T;return c.jsxs("button",{type:"button",onClick:()=>H(V=>V.filter(Q=>Q!==T)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:R}),c.jsx("span",{className:"text-gray-400",children:""})]},T)}),J.map(T=>c.jsxs("button",{type:"button",onClick:()=>ie(C=>C.filter(R=>R!==T)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:T}),c.jsx("span",{className:"text-gray-400",children:""})]},T))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:we.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No boons match this filter"}):(()=>{var T,C;const R=te,V=((T=R.find(L=>L.id===B.columnId))==null?void 0:T.id)||(i&&R.some(L=>L.id===i)?i:void 0)||((C=R[0])==null?void 0:C.id)||"",Q=new Map,ce=new Map;R.forEach(L=>{const z=new Map;L.rows.forEach(re=>{const F=re.account||re.name||re.id;F&&(z.set(F,re),ce.has(F)||ce.set(F,re))}),Q.set(L.id,z)});const Y=Array.from(ce.entries()).filter(([L])=>J.length===0||J.includes(String(L))).map(([L,z])=>{const re={};return R.forEach(F=>{var le;const ye=(le=Q.get(F.id))==null?void 0:le.get(L);re[F.id]=ye?f(ye,t,F.stacking,r,{roundCountStats:h}):"-"}),{key:L,row:z,values:re}}).sort((L,z)=>{var re,F;if(!V)return String(L.key).localeCompare(String(z.key));const le=R.find(pt=>pt.id===V),ye=le?(re=Q.get(le.id))==null?void 0:re.get(L.key):null,K=le?(F=Q.get(le.id))==null?void 0:F.get(z.key):null,me=ye?p(ye,t,le==null?void 0:le.stacking,r):0,Te=K?p(K,t,le==null?void 0:le.stacking,r):0;return(B.dir==="desc"?Te-me:me-Te)||String(L.key).localeCompare(String(z.key))});return c.jsx(To,{title:"Boon Output - Dense View",subtitle:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`,sortColumnId:V,sortDirection:B.dir,onSortColumn:L=>{D(z=>({columnId:L,dir:z.columnId===L&&z.dir==="desc"?"asc":"desc"}))},columns:R.map(L=>({id:L.id,label:c.jsx(xr,{name:L.name,iconUrl:L.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:Y.map((L,z)=>({id:`${L.key}-${z}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:z+1}),m(L.row.profession,L.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:L.row.account||L.row.name||L.key})]}),values:L.values}))})})()})]}):c.jsx(ol,{expanded:v==="boon-output",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${v==="boon-output"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${v==="boon-output"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),c.jsx("input",{value:u,onChange:T=>d(T.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${N} ${v==="boon-output"?"max-h-none flex-1 min-h-0":""}`,children:l.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No boons match this filter"}):l.map(T=>c.jsx("button",{onClick:()=>o(T.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===T.id?"bg-blue-500/20 text-blue-200 border-blue-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsx(xr,{name:T.name,iconUrl:T.icon,iconClassName:"h-3.5 w-3.5"})},T.id))})]}),content:s?c.jsx(Io,{expanded:v==="boon-output",maxHeightClass:"max-h-64",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:c.jsx(xr,{name:s.name,iconUrl:s.icon,iconClassName:"h-4 w-4"})}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`})]}),columns:c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-start gap-2 px-4 py-2 bg-white/5",children:[c.jsx(Nn,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(Nn,{value:r,onChange:a,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],className:"sm:ml-auto",activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>$("value"),className:`text-right transition-colors ${A.key==="value"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:[r==="total"?"Total":r==="average"?"Gen/Sec":"Uptime",A.key==="value"?A.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>$("fightTime"),className:`text-right transition-colors ${A.key==="fightTime"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",A.key==="fightTime"?A.dir==="desc"?" ":" ":""]})]})]}),rows:c.jsx(c.Fragment,{children:[...s.rows].sort((T,C)=>(()=>{const R=A.key==="fightTime"?Number(T.activeTimeMs||0):p(T,t,s.stacking,r),V=A.key==="fightTime"?Number(C.activeTimeMs||0):p(C,t,s.stacking,r);return(A.dir==="desc"?V-R:R-V)||String(T.account||"").localeCompare(String(C.account||""))})()).map((T,C)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:C+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[m(T.profession,T.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:T.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:f(T,t,s.stacking,r,{roundCountStats:h})}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:T.activeTimeMs?`${(T.activeTimeMs/1e3).toFixed(1)}s`:"-"})]},`${s.id}-${T.account}-${C}`))})}):c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a boon to view details"})})]})},hoe=({stats:e,DEFENSE_METRICS:t,defenseSearch:n,setDefenseSearch:r,activeDefenseStat:a,setActiveDefenseStat:i,defenseViewMode:o,setDefenseViewMode:s,roundCountStats:l,formatWithCommas:u,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:p,openExpandedSection:m,closeExpandedSection:h,isSectionVisible:v,isFirstVisibleSection:b,sectionClass:y,sidebarListClass:x})=>{var w;const[S,j]=g.useState({key:"value",dir:"desc"}),[N,A]=g.useState("combined"),[P,B]=g.useState({columnId:((w=t[0])==null?void 0:w.id)||"value",dir:"desc"}),D=f==="defense-detailed",[I,O]=g.useState([]),[H,J]=g.useState([]),ie=t.filter(R=>R.label.toLowerCase().includes(n.trim().toLowerCase())),we=t.map(R=>({id:R.id,label:R.label})),te=we.filter(R=>R.label.toLowerCase().includes(n.trim().toLowerCase())),q=I.length>0?t.filter(R=>I.includes(R.id)):t,W=Array.from(new Map(e.defensePlayers.map(R=>[R.account,R])).values()).map(R=>({id:R.account,label:R.account,icon:d(R.profession,R.professionList,"w-3 h-3")})),k=new Set([...I.map(R=>`column:${R}`),...H.map(R=>`player:${R}`)]),$=R=>{j(V=>({key:R,dir:V.key===R&&V.dir==="desc"?"asc":"desc"}))},T=R=>R==="minionDamageTaken",C=(R,V)=>V==="combined"?R.map(Q=>({...Q,minionList:Object.entries((Q==null?void 0:Q.minionDamageTakenByMinion)||{}).filter(([,ce])=>Number(ce||0)>0).sort((ce,Y)=>Number(Y[1]||0)-Number(ce[1]||0)).map(([ce])=>String(ce))})):R.flatMap(Q=>{const ce=Object.entries((Q==null?void 0:Q.minionDamageTakenByMinion)||{}).filter(([,Y])=>Number(Y||0)>0).sort((Y,L)=>Number(L[1]||0)-Number(Y[1]||0));return ce.length===0?[]:ce.map(([Y,L])=>({...Q,minionName:String(Y),defenseTotals:{...Q.defenseTotals||{},minionDamageTaken:Number(L||0)}}))});return c.jsxs("div",{id:"defense-detailed","data-section-visible":v("defense-detailed"),"data-section-first":b("defense-detailed"),className:y("defense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="defense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(gd,{className:"w-5 h-5 text-sky-300"}),"Defenses - Detailed"]}),c.jsx("button",{type:"button",onClick:()=>f==="defense-detailed"?h():m("defense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="defense-detailed"?"Close Defense Detailed":"Expand Defense Detailed",title:f==="defense-detailed"?"Close":"Expand",children:f==="defense-detailed"?c.jsx(ma,{className:"w-4 h-4"}):c.jsx(Ca,{className:"w-4 h-4"})})]}),e.defensePlayers.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No defensive stats available"}):D?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Oo,{options:[...we.map(R=>({...R,type:"column"})),...W.map(R=>({...R,type:"player"}))],onSelect:R=>{R.type==="column"?O(V=>V.includes(R.id)?V.filter(Q=>Q!==R.id):[...V,R.id]):J(V=>V.includes(R.id)?V.filter(Q=>Q!==R.id):[...V,R.id])},selectedIds:k,className:"w-full sm:w-64"}),c.jsx(wr,{options:te,selectedIds:I,onToggle:R=>{O(V=>V.includes(R)?V.filter(Q=>Q!==R):[...V,R])},onClear:()=>O([]),buttonIcon:c.jsx(Mo,{className:"h-3.5 w-3.5"})}),c.jsx(wr,{options:W,selectedIds:H,onToggle:R=>{J(V=>V.includes(R)?V.filter(Q=>Q!==R):[...V,R])},onClear:()=>J([]),buttonLabel:"Players",buttonIcon:c.jsx(Er,{className:"h-3.5 w-3.5"})}),c.jsx(Nn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),q.some(R=>T(R.id))&&c.jsx(Nn,{value:N,onChange:R=>A(R),options:[{value:"combined",label:"Combined"},{value:"separate",label:"Separate"}],activeClassName:"bg-indigo-500/20 text-indigo-200 border border-indigo-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(I.length>0||H.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{O([]),J([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),I.map(R=>{var V;const Q=((V=we.find(ce=>ce.id===R))==null?void 0:V.label)||R;return c.jsxs("button",{type:"button",onClick:()=>O(ce=>ce.filter(Y=>Y!==R)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:Q}),c.jsx("span",{className:"text-gray-400",children:""})]},R)}),H.map(R=>c.jsxs("button",{type:"button",onClick:()=>J(V=>V.filter(Q=>Q!==R)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:R}),c.jsx("span",{className:"text-gray-400",children:""})]},R))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ie.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No defensive stats match this filter"}):(()=>{var R,V;const Q=re=>Math.max(1,(re.activeMs||0)/1e3),ce=(re,F)=>{const le=F.isPercent,ye=u(re,l&&!le&&o==="total"?0:2);return le?`${ye}%`:ye},Y=((R=q.find(re=>re.id===P.columnId))==null?void 0:R.id)||((V=q[0])==null?void 0:V.id)||"",L=[...e.defensePlayers].filter(re=>H.length===0||H.includes(re.account)),z=[...q.some(re=>T(re.id))?C(L,N):L].map(re=>{const F={},le={};return q.forEach(ye=>{var K;const me=((K=re.defenseTotals)==null?void 0:K[ye.id])||0,Te=ye.isPercent,pt=o==="total"||Te?me:o==="per1s"?me/Q(re):me*60/Q(re);le[ye.id]=pt,F[ye.id]=ce(pt,ye)}),{row:re,values:F,numericValues:le}}).sort((re,F)=>{const le=re.numericValues[Y]??0,ye=F.numericValues[Y]??0;return(P.dir==="desc"?ye-le:le-ye)||String(re.row.account||"").localeCompare(String(F.row.account||""))});return c.jsx(To,{title:"Defense - Dense View",subtitle:"Defensive",sortColumnId:Y,sortDirection:P.dir,onSortColumn:re=>{B(F=>({columnId:re,dir:F.columnId===re&&F.dir==="desc"?"asc":"desc"}))},columns:q.map(re=>({id:re.id,label:re.label,align:"right",minWidth:90})),rows:z.map((re,F)=>({id:`${re.row.account}-${F}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:F+1}),d(re.row.profession,re.row.professionList,"w-4 h-4"),c.jsxs("span",{className:"min-w-0 flex flex-col",children:[c.jsx("span",{className:"truncate",children:re.row.account}),N==="combined"&&Array.isArray(re.row.minionList)&&re.row.minionList.length>0&&c.jsx("span",{className:"truncate text-[10px] text-gray-500",children:re.row.minionList.join(", ")}),N==="separate"&&re.row.minionName&&c.jsx("span",{className:"truncate text-[10px] text-gray-400",children:re.row.minionName})]})]}),values:re.values}))})})()})]}):c.jsx(ol,{expanded:f==="defense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="defense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="defense-detailed"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),c.jsx("input",{value:n,onChange:R=>r(R.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${x} ${f==="defense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:ie.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No defensive stats match this filter"}):ie.map(R=>c.jsx("button",{onClick:()=>i(R.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===R.id?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:R.label},R.id))})]}),content:c.jsx(c.Fragment,{children:(()=>{const R=t.find(Y=>Y.id===a)||t[0],V=Y=>Math.max(1,(Y.activeMs||0)/1e3),Q=[...e.defensePlayers],ce=[...T(R.id)?C(Q,N):Q].map(Y=>{var L,z,re;return{...Y,total:((L=Y.defenseTotals)==null?void 0:L[R.id])||0,per1s:(((z=Y.defenseTotals)==null?void 0:z[R.id])||0)/V(Y),per60s:(((re=Y.defenseTotals)==null?void 0:re[R.id])||0)*60/V(Y)}}).sort((Y,L)=>{const z=S.key==="fightTime"?Number(Y.activeMs||0):Number(o==="total"?Y.total:o==="per1s"?Y.per1s:Y.per60s),re=S.key==="fightTime"?Number(L.activeMs||0):Number(o==="total"?L.total:o==="per1s"?L.per1s:L.per60s);return(S.dir==="desc"?re-z:z-re)||Y.account.localeCompare(L.account)});return c.jsx(Io,{expanded:f==="defense-detailed",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:R.label}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Defensive"})]}),columns:c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:`flex items-center px-4 py-2 bg-white/5 ${T(R.id)?"justify-between":"justify-end"}`,children:[T(R.id)&&c.jsx(Nn,{value:N,onChange:Y=>A(Y),options:[{value:"combined",label:"Combined"},{value:"separate",label:"Separate"}],activeClassName:"bg-indigo-500/20 text-indigo-200 border border-indigo-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx("div",{className:"flex flex-wrap items-center justify-end gap-2",children:c.jsx(Nn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})})]}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>$("value"),className:`text-right transition-colors ${S.key==="value"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",S.key==="value"?S.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>$("fightTime"),className:`text-right transition-colors ${S.key==="fightTime"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",S.key==="fightTime"?S.dir==="desc"?" ":" ":""]})]})]}),rows:c.jsx(c.Fragment,{children:ce.map((Y,L)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:L+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(Y.profession,Y.professionList,"w-4 h-4"),c.jsxs("span",{className:"min-w-0 flex flex-col",children:[c.jsx("span",{className:"truncate",children:Y.account}),T(R.id)&&N==="combined"&&Array.isArray(Y.minionList)&&Y.minionList.length>0&&c.jsx("span",{className:"truncate text-[10px] text-gray-500",children:Y.minionList.join(", ")}),T(R.id)&&N==="separate"&&Y.minionName&&c.jsx("span",{className:"truncate text-[10px] text-gray-400",children:Y.minionName})]})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const z=o==="total"?Y.total:o==="per1s"?Y.per1s:Y.per60s;return u(z,l&&o==="total"?0:2)})()}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:Y.activeMs?`${(Y.activeMs/1e3).toFixed(1)}s`:"-"})]},`${R.id}-${Y.account}-${L}`))})})})()})})]})},goe=({stats:e,DAMAGE_MITIGATION_METRICS:t,damageMitigationSearch:n,setDamageMitigationSearch:r,activeDamageMitigationStat:a,setActiveDamageMitigationStat:i,damageMitigationViewMode:o,setDamageMitigationViewMode:s,damageMitigationScope:l,setDamageMitigationScope:u,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:p,expandedSection:m,expandedSectionClosing:h,openExpandedSection:v,closeExpandedSection:b,isSectionVisible:y,isFirstVisibleSection:x,sectionClass:w,sidebarListClass:S})=>{var j,N;const A=((j=t.find(F=>F.id==="totalMitigation"))==null?void 0:j.id)||((N=t[0])==null?void 0:N.id)||"totalMitigation",[P,B]=g.useState({key:"value",dir:"desc"}),[D,I]=g.useState({columnId:A,dir:"desc"}),O=m==="defense-mitigation",[H,J]=g.useState([]),[ie,we]=g.useState([]),[te,q]=g.useState([]),W=e.damageMitigationPlayers||[],k=e.damageMitigationMinions||[],$=l==="minions"?k:W,T=W.length>0||k.length>0,C=t.filter(F=>F.label.toLowerCase().includes(n.trim().toLowerCase())),R=t.map(F=>({id:F.id,label:F.label})),V=R.filter(F=>F.label.toLowerCase().includes(n.trim().toLowerCase())),Q=H.length>0?t.filter(F=>H.includes(F.id)):t,ce=Array.from(new Map($.map(F=>[F.account,F])).values()).map(F=>({id:F.account,label:F.account,icon:p(F.profession,F.professionList,"w-3 h-3")})),Y=Array.from(new Map(k.map(F=>[F.minion,F])).values()).filter(F=>F==null?void 0:F.minion).map(F=>({id:String(F.minion),label:String(F.minion)})),L=new Set([...H.map(F=>`column:${F}`),...ie.map(F=>`player:${F}`)]),z=F=>{B(le=>({key:F,dir:le.key===F&&le.dir==="desc"?"asc":"desc"}))},re=F=>f(F,d&&o==="total"?0:2);return c.jsxs("div",{id:"defense-mitigation","data-section-visible":y("defense-mitigation"),"data-section-first":x("defense-mitigation"),className:w("defense-mitigation",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="defense-mitigation"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Ak,{className:"w-5 h-5 text-emerald-300"}),"Defenses - Damage Mitigation"]}),c.jsx("button",{type:"button",onClick:()=>m==="defense-mitigation"?b():v("defense-mitigation"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="defense-mitigation"?"Close Damage Mitigation":"Expand Damage Mitigation",title:m==="defense-mitigation"?"Close":"Expand",children:m==="defense-mitigation"?c.jsx(ma,{className:"w-4 h-4"}):c.jsx(Ca,{className:"w-4 h-4"})})]}),c.jsx("div",{className:"text-xs text-amber-200/80 italic mb-3",children:"Damage mitigation is an estimate based on enemy skill damage averages and avoidance events (block/evade/miss/invuln/interrupted). Use it for relative comparison rather than exact prevention totals."}),T?O?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Oo,{options:[...R.map(F=>({...F,type:"column"})),...ce.map(F=>({...F,type:"player"}))],onSelect:F=>{F.type==="column"?J(le=>le.includes(F.id)?le.filter(ye=>ye!==F.id):[...le,F.id]):we(le=>le.includes(F.id)?le.filter(ye=>ye!==F.id):[...le,F.id])},selectedIds:L,className:"w-full sm:w-64"}),c.jsx(wr,{options:V,selectedIds:H,onToggle:F=>{J(le=>le.includes(F)?le.filter(ye=>ye!==F):[...le,F])},onClear:()=>J([]),buttonIcon:c.jsx(Mo,{className:"h-3.5 w-3.5"})}),c.jsx(wr,{options:ce,selectedIds:ie,onToggle:F=>{we(le=>le.includes(F)?le.filter(ye=>ye!==F):[...le,F])},onClear:()=>we([]),buttonLabel:"Players",buttonIcon:c.jsx(Er,{className:"h-3.5 w-3.5"})}),l==="minions"&&c.jsx(wr,{options:Y,selectedIds:te,onToggle:F=>{q(le=>le.includes(F)?le.filter(ye=>ye!==F):[...le,F])},onClear:()=>q([]),buttonLabel:"Minions"}),c.jsx(Nn,{value:l,onChange:u,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(Nn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(H.length>0||ie.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{J([]),we([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),H.map(F=>{var le;const ye=((le=R.find(K=>K.id===F))==null?void 0:le.label)||F;return c.jsxs("button",{type:"button",onClick:()=>J(K=>K.filter(me=>me!==F)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:ye}),c.jsx("span",{className:"text-gray-400",children:""})]},F)}),ie.map(F=>c.jsxs("button",{type:"button",onClick:()=>we(le=>le.filter(ye=>ye!==F)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:F}),c.jsx("span",{className:"text-gray-400",children:""})]},F))]}),l==="minions"&&te.length>0&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>q([]),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear Minions"}),te.map(F=>c.jsxs("button",{type:"button",onClick:()=>q(le=>le.filter(ye=>ye!==F)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:F}),c.jsx("span",{className:"text-gray-400",children:""})]},F))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:$.length===0?c.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):C.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No mitigation stats match this filter"}):(()=>{var F,le;const ye=Te=>Math.max(1,(Te.activeMs||0)/1e3),K=((F=Q.find(Te=>Te.id===D.columnId))==null?void 0:F.id)||((le=Q[0])==null?void 0:le.id)||"",me=[...$].filter(Te=>ie.length===0||ie.includes(Te.account)).filter(Te=>l!=="minions"||!te.length?!0:te.includes(String(Te.minion||""))).map(Te=>{const pt={},Oe={};return Q.forEach(oe=>{var Fe;const X=((Fe=Te.mitigationTotals)==null?void 0:Fe[oe.id])||0,yt=o==="total"?X:o==="per1s"?X/ye(Te):X*60/ye(Te);Oe[oe.id]=yt,pt[oe.id]=re(yt)}),{row:Te,values:pt,numericValues:Oe}}).sort((Te,pt)=>{const Oe=Te.numericValues[K]??0,oe=pt.numericValues[K]??0;return(D.dir==="desc"?oe-Oe:Oe-oe)||String(Te.row.account||"").localeCompare(String(pt.row.account||""))});return c.jsx(To,{title:"Damage Mitigation - Dense View",subtitle:"Defensive",sortColumnId:K,sortDirection:D.dir,onSortColumn:Te=>{I(pt=>({columnId:Te,dir:pt.columnId===Te&&pt.dir==="desc"?"asc":"desc"}))},columns:Q.map(Te=>({id:Te.id,label:Te.label,align:"right",minWidth:90})),rows:me.map((Te,pt)=>({id:`${Te.row.account}-${Te.row.minion||"player"}-${pt}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:pt+1}),p(Te.row.profession,Te.row.professionList,"w-4 h-4"),c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"truncate",children:Te.row.account}),Te.row.minion&&c.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:Te.row.minion})]})]}),values:Te.values}))})})()})]}):c.jsx(ol,{expanded:m==="defense-mitigation",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="defense-mitigation"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="defense-mitigation"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),c.jsx("input",{value:n,onChange:F=>r(F.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2 mt-2"}),c.jsx("div",{className:`${S} ${m==="defense-mitigation"?"max-h-none flex-1 min-h-0":""}`,children:C.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No mitigation stats match this filter"}):C.map(F=>c.jsx("button",{onClick:()=>i(F.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===F.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:F.label},F.id))})]}),content:c.jsx(c.Fragment,{children:(()=>{const F=t.find(K=>K.id===a)||t[0],le=K=>Math.max(1,(K.activeMs||0)/1e3),ye=[...$].map(K=>{var me,Te,pt;return{...K,total:((me=K.mitigationTotals)==null?void 0:me[F.id])||0,per1s:(((Te=K.mitigationTotals)==null?void 0:Te[F.id])||0)/le(K),per60s:(((pt=K.mitigationTotals)==null?void 0:pt[F.id])||0)*60/le(K)}}).filter(K=>l!=="minions"||!te.length?!0:te.includes(String(K.minion||""))).sort((K,me)=>{const Te=P.key==="fightTime"?Number(K.activeMs||0):Number(o==="total"?K.total:o==="per1s"?K.per1s:K.per60s),pt=P.key==="fightTime"?Number(me.activeMs||0):Number(o==="total"?me.total:o==="per1s"?me.per1s:me.per60s);return(P.dir==="desc"?pt-Te:Te-pt)||K.account.localeCompare(me.account)});return c.jsx(Io,{expanded:m==="defense-mitigation",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:F.label}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Mitigation"})]}),columns:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"px-4 py-2 bg-white/5",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Nn,{value:l,onChange:u,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx("div",{className:"ml-auto",children:c.jsx(Nn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})})]})}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>z("value"),className:`text-right transition-colors ${P.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",P.key==="value"?P.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>z("fightTime"),className:`text-right transition-colors ${P.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",P.key==="fightTime"?P.dir==="desc"?" ":" ":""]})]})]}),rows:ye.length===0?c.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):c.jsx(c.Fragment,{children:ye.map((K,me)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:me+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[p(K.profession,K.professionList,"w-4 h-4"),c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"truncate",children:K.account}),K.minion&&c.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:K.minion})]})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const Te=o==="total"?K.total:o==="per1s"?K.per1s:K.per60s;return re(Te)})()}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:K.activeMs?`${(K.activeMs/1e3).toFixed(1)}s`:"-"})]},`${F.id}-${K.account}-${K.minion||"player"}-${me}`))})})})()})}):c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No damage mitigation stats available"})]})},yoe=({stats:e,SUPPORT_METRICS:t,supportSearch:n,setSupportSearch:r,activeSupportStat:a,setActiveSupportStat:i,supportViewMode:o,setSupportViewMode:s,cleanseScope:l,setCleanseScope:u,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:p,expandedSection:m,expandedSectionClosing:h,openExpandedSection:v,closeExpandedSection:b,isSectionVisible:y,isFirstVisibleSection:x,sectionClass:w,sidebarListClass:S})=>{var j;const[N,A]=g.useState({key:"value",dir:"desc"}),[P,B]=g.useState({columnId:((j=t[0])==null?void 0:j.id)||"value",dir:"desc"}),D=m==="support-detailed",[I,O]=g.useState([]),[H,J]=g.useState([]),ie=t.filter(T=>T.label.toLowerCase().includes(n.trim().toLowerCase())),we=t.map(T=>({id:T.id,label:T.label})),te=we.filter(T=>T.label.toLowerCase().includes(n.trim().toLowerCase())),q=I.length>0?t.filter(T=>I.includes(T.id)):t,W=Array.from(new Map(e.supportPlayers.map(T=>[T.account,T])).values()).map(T=>({id:T.account,label:T.account,icon:p(T.profession,T.professionList,"w-3 h-3")})),k=new Set([...I.map(T=>`column:${T}`),...H.map(T=>`player:${T}`)]),$=T=>{A(C=>({key:T,dir:C.key===T&&C.dir==="desc"?"asc":"desc"}))};return c.jsxs("div",{id:"support-detailed","data-section-visible":y("support-detailed"),"data-section-first":x("support-detailed"),className:w("support-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="support-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Nk,{className:"w-5 h-5 text-emerald-300"}),"Support - Detailed"]}),c.jsx("button",{type:"button",onClick:()=>m==="support-detailed"?b():v("support-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="support-detailed"?"Close Support Detailed":"Expand Support Detailed",title:m==="support-detailed"?"Close":"Expand",children:m==="support-detailed"?c.jsx(ma,{className:"w-4 h-4"}):c.jsx(Ca,{className:"w-4 h-4"})})]}),e.supportPlayers.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No support stats available"}):D?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Oo,{options:[...we.map(T=>({...T,type:"column"})),...W.map(T=>({...T,type:"player"}))],onSelect:T=>{T.type==="column"?O(C=>C.includes(T.id)?C.filter(R=>R!==T.id):[...C,T.id]):J(C=>C.includes(T.id)?C.filter(R=>R!==T.id):[...C,T.id])},selectedIds:k,className:"w-full sm:w-64"}),c.jsx(wr,{options:te,selectedIds:I,onToggle:T=>{O(C=>C.includes(T)?C.filter(R=>R!==T):[...C,T])},onClear:()=>O([]),buttonIcon:c.jsx(Mo,{className:"h-3.5 w-3.5"})}),c.jsx(wr,{options:W,selectedIds:H,onToggle:T=>{J(C=>C.includes(T)?C.filter(R=>R!==T):[...C,T])},onClear:()=>J([]),buttonLabel:"Players",buttonIcon:c.jsx(Er,{className:"h-3.5 w-3.5"})}),c.jsx(Nn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),a==="condiCleanse"&&c.jsx(Nn,{value:l,onChange:u,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(I.length>0||H.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{O([]),J([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),I.map(T=>{var C;const R=((C=we.find(V=>V.id===T))==null?void 0:C.label)||T;return c.jsxs("button",{type:"button",onClick:()=>O(V=>V.filter(Q=>Q!==T)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:R}),c.jsx("span",{className:"text-gray-400",children:""})]},T)}),H.map(T=>c.jsxs("button",{type:"button",onClick:()=>J(C=>C.filter(R=>R!==T)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:T}),c.jsx("span",{className:"text-gray-400",children:""})]},T))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ie.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No support stats match this filter"}):(()=>{var T,C;const R=(L,z)=>{var re,F,le;if(z==="condiCleanse"){const ye=((re=L.supportTotals)==null?void 0:re.condiCleanse)||0,K=((F=L.supportTotals)==null?void 0:F.condiCleanseSelf)||0;return l==="all"?ye+K:ye}return((le=L.supportTotals)==null?void 0:le[z])||0},V=L=>Math.max(1,(L.activeMs||0)/1e3),Q=(L,z)=>{const re=L.isTime?1:d&&o==="total"?0:2;return f(z,re)},ce=((T=q.find(L=>L.id===P.columnId))==null?void 0:T.id)||((C=q[0])==null?void 0:C.id)||"",Y=[...e.supportPlayers].filter(L=>H.length===0||H.includes(L.account)).map(L=>{const z={},re={};return q.forEach(F=>{const le=R(L,F.id),ye=o==="total"?le:o==="per1s"?le/V(L):le*60/V(L);re[F.id]=ye,z[F.id]=Q(F,ye)}),{row:L,values:z,numericValues:re}}).sort((L,z)=>{const re=L.numericValues[ce]??0,F=z.numericValues[ce]??0;return(P.dir==="desc"?F-re:re-F)||String(L.row.account||"").localeCompare(String(z.row.account||""))});return c.jsx(To,{title:"Support - Dense View",subtitle:"Support",sortColumnId:ce,sortDirection:P.dir,onSortColumn:L=>{B(z=>({columnId:L,dir:z.columnId===L&&z.dir==="desc"?"asc":"desc"}))},columns:q.map(L=>({id:L.id,label:L.label,align:"right",minWidth:90})),rows:Y.map((L,z)=>({id:`${L.row.account}-${z}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:z+1}),p(L.row.profession,L.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:L.row.account})]}),values:L.values}))})})()})]}):c.jsx(ol,{expanded:m==="support-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="support-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="support-detailed"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),c.jsx("input",{value:n,onChange:T=>r(T.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${S} ${m==="support-detailed"?"max-h-none flex-1 min-h-0":""}`,children:ie.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No support stats match this filter"}):ie.map(T=>c.jsx("button",{onClick:()=>i(T.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===T.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:T.label},T.id))})]}),content:c.jsx(c.Fragment,{children:(()=>{const T=t.find(Q=>Q.id===a)||t[0],C=Q=>{var ce,Y,L;if(T.id==="condiCleanse"){const z=((ce=Q.supportTotals)==null?void 0:ce.condiCleanse)||0,re=((Y=Q.supportTotals)==null?void 0:Y.condiCleanseSelf)||0;return l==="all"?z+re:z}return((L=Q.supportTotals)==null?void 0:L[T.id])||0},R=Q=>Math.max(1,(Q.activeMs||0)/1e3),V=[...e.supportPlayers].map(Q=>({...Q,total:C(Q),per1s:C(Q)/R(Q),per60s:C(Q)*60/R(Q)})).sort((Q,ce)=>{const Y=N.key==="fightTime"?Number(Q.activeMs||0):Number(o==="total"?Q.total:o==="per1s"?Q.per1s:Q.per60s),L=N.key==="fightTime"?Number(ce.activeMs||0):Number(o==="total"?ce.total:o==="per1s"?ce.per1s:ce.per60s);return(N.dir==="desc"?L-Y:Y-L)||Q.account.localeCompare(ce.account)});return c.jsx(Io,{expanded:m==="support-detailed",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:T.label}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Support"})]}),columns:c.jsxs(c.Fragment,{children:[T.id==="condiCleanse"?c.jsxs("div",{className:"flex flex-wrap items-center gap-2 px-4 py-2 bg-white/5",children:[c.jsx(Nn,{value:l,onChange:u,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(Nn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],className:"sm:ml-auto",activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}):c.jsx("div",{className:"flex flex-wrap items-center justify-start sm:justify-end px-4 py-2 bg-white/5",children:c.jsx(Nn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>$("value"),className:`text-right transition-colors ${N.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",N.key==="value"?N.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>$("fightTime"),className:`text-right transition-colors ${N.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",N.key==="fightTime"?N.dir==="desc"?" ":" ":""]})]})]}),rows:c.jsx(c.Fragment,{children:V.map((Q,ce)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:ce+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[p(Q.profession,Q.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:Q.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const Y=o==="total"?Q.total:o==="per1s"?Q.per1s:Q.per60s,L=T.isTime?1:d&&o==="total"?0:2;return f(Y,L)})()}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:Q.activeMs?`${(Q.activeMs/1e3).toFixed(1)}s`:"-"})]},`${T.id}-${Q.account}-${ce}`))})})})()})})]})},voe=({stats:e,HEALING_METRICS:t,activeHealingMetric:n,setActiveHealingMetric:r,healingCategory:a,setHealingCategory:i,activeResUtilitySkill:o,setActiveResUtilitySkill:s,skillUsageData:l,formatWithCommas:u,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:p,openExpandedSection:m,closeExpandedSection:h,isSectionVisible:v,isFirstVisibleSection:b,sectionClass:y})=>{var x;const[w,S]=g.useState({key:"value",dir:"desc"}),[j,N]=g.useState({columnId:((x=t[0])==null?void 0:x.id)||"value",dir:"desc"}),A=f==="healing-stats",[P,B]=g.useState([]),[D,I]=g.useState([]),O=Array.from(new Map(e.healingPlayers.map(te=>[te.account,te])).values()).map(te=>({id:te.account,label:te.account,icon:d(te.profession,te.professionList,"w-3 h-3")})),H=new Set([...D.map(te=>`column:${te}`),...P.map(te=>`player:${te}`)]),J=t.map(te=>({id:te.id,label:te.label})),ie=D.length>0?t.filter(te=>D.includes(te.id)):t,we=te=>{S(q=>({key:te,dir:q.key===te&&q.dir==="desc"?"asc":"desc"}))};return c.jsxs("div",{id:"healing-stats","data-section-visible":v("healing-stats"),"data-section-first":b("healing-stats"),className:y("healing-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="healing-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(kO,{className:"w-5 h-5 text-lime-300"}),"Healing Stats"]}),c.jsx("button",{type:"button",onClick:()=>f==="healing-stats"?h():m("healing-stats"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="healing-stats"?"Close Healing Stats":"Expand Healing Stats",title:f==="healing-stats"?"Close":"Expand",children:f==="healing-stats"?c.jsx(ma,{className:"w-4 h-4"}):c.jsx(Ca,{className:"w-4 h-4"})})]}),e.healingPlayers.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No healing stats available"}):A?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Oo,{options:[...J.map(te=>({...te,type:"column"})),...O.map(te=>({...te,type:"player"}))],onSelect:te=>{te.type==="column"?I(q=>q.includes(te.id)?q.filter(W=>W!==te.id):[...q,te.id]):B(q=>q.includes(te.id)?q.filter(W=>W!==te.id):[...q,te.id])},selectedIds:H,className:"w-full sm:w-64"}),c.jsx(Nn,{value:a,onChange:i,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(wr,{options:J,selectedIds:D,onToggle:te=>{I(q=>q.includes(te)?q.filter(W=>W!==te):[...q,te])},onClear:()=>I([]),buttonIcon:c.jsx(Mo,{className:"h-3.5 w-3.5"})}),c.jsx(Nn,{value:o,onChange:s,options:[{value:"all",label:"All Res Utility"},...(l.resUtilitySkills||[]).map(te=>({value:te.id,label:te.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(wr,{options:O,selectedIds:P,onToggle:te=>{B(q=>q.includes(te)?q.filter(W=>W!==te):[...q,te])},onClear:()=>B([]),buttonLabel:"Players",buttonIcon:c.jsx(Er,{className:"h-3.5 w-3.5"})})]}),(D.length>0||P.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{I([]),B([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),D.map(te=>{var q;const W=((q=J.find(k=>k.id===te))==null?void 0:q.label)||te;return c.jsxs("button",{type:"button",onClick:()=>I(k=>k.filter($=>$!==te)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:W}),c.jsx("span",{className:"text-gray-400",children:""})]},te)}),P.map(te=>c.jsxs("button",{type:"button",onClick:()=>B(q=>q.filter(W=>W!==te)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:te}),c.jsx("span",{className:"text-gray-400",children:""})]},te))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:(()=>{var te,q;const W=C=>Math.max(1,(C.activeMs||0)/1e3),k=C=>{const R=C.baseField==="resUtility",V=R||a==="total"?"":a==="offSquad"?"offSquad":a;return R?o==="all"?"resUtility":`resUtility_${o}`:V?`${V}${C.baseField[0].toUpperCase()}${C.baseField.slice(1)}`:C.baseField},$=[...e.healingPlayers].filter(C=>P.length===0||P.includes(C.account)).filter(C=>Object.values(C.healingTotals||{}).some(R=>Number(R)>0)).map(C=>{const R={},V={};return ie.forEach(Q=>{var ce;const Y=k(Q),L=Number(((ce=C.healingTotals)==null?void 0:ce[Y])??0),z=Q.perSecond?L/W(C):L;V[Q.id]=z,R[Q.id]=u(z,Q.decimals)}),{row:C,values:R,numericValues:V}}).sort((C,R)=>{var V,Q;const ce=((V=ie.find(z=>z.id===j.columnId))==null?void 0:V.id)||((Q=ie[0])==null?void 0:Q.id)||"",Y=C.numericValues[ce]??0,L=R.numericValues[ce]??0;return(j.dir==="desc"?L-Y:Y-L)||String(C.row.account||"").localeCompare(String(R.row.account||""))}),T=((te=ie.find(C=>C.id===j.columnId))==null?void 0:te.id)||((q=ie[0])==null?void 0:q.id)||"";return c.jsx(To,{title:"Healing - Dense View",subtitle:"Healing",sortColumnId:T,sortDirection:j.dir,onSortColumn:C=>{N(R=>({columnId:C,dir:R.columnId===C&&R.dir==="desc"?"asc":"desc"}))},columns:ie.map(C=>({id:C.id,label:C.label,align:"right",minWidth:90})),rows:$.map((C,R)=>({id:`${C.row.account}-${R}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:R+1}),d(C.row.profession,C.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:C.row.account})]}),values:C.values}))})})()})]}):c.jsx(ol,{expanded:f==="healing-stats",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="healing-stats"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="healing-stats"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),c.jsx("div",{className:"flex-1 overflow-y-auto space-y-1 pr-1",children:t.map(te=>c.jsx("button",{onClick:()=>r(te.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${n===te.id?"bg-lime-500/20 text-lime-200 border-lime-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:te.label},te.id))})]}),content:c.jsx(c.Fragment,{children:(()=>{const te=t.find(C=>C.id===n)||t[0],q=te.baseField==="resUtility",W=C=>Math.max(1,(C.activeMs||0)/1e3),k=q||a==="total"?"":a==="offSquad"?"offSquad":a,$=q?o==="all"?"resUtility":`resUtility_${o}`:k?`${k}${te.baseField[0].toUpperCase()}${te.baseField.slice(1)}`:te.baseField,T=[...e.healingPlayers].filter(C=>Object.values(C.healingTotals||{}).some(R=>Number(R)>0)).map(C=>{var R;const V=Number(((R=C.healingTotals)==null?void 0:R[$])??0),Q=te.perSecond?V/W(C):V;return{...C,value:Q}}).sort((C,R)=>{const V=w.key==="fightTime"?Number(C.activeMs||0):Number(C.value||0),Q=w.key==="fightTime"?Number(R.activeMs||0):Number(R.value||0);return(w.dir==="desc"?Q-V:V-Q)||C.account.localeCompare(R.account)});return c.jsx(Io,{expanded:f==="healing-stats",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:te.label}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Healing"})]}),columns:c.jsxs(c.Fragment,{children:[q&&c.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5 flex-wrap",children:c.jsx(Nn,{value:o,onChange:s,options:[{value:"all",label:"All"},...(l.resUtilitySkills||[]).map(C=>({value:C.id,label:C.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),!q&&c.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5",children:c.jsx(Nn,{value:a,onChange:i,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>we("value"),className:`text-right transition-colors ${w.key==="value"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:[te.label,w.key==="value"?w.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>we("fightTime"),className:`text-right transition-colors ${w.key==="fightTime"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",w.key==="fightTime"?w.dir==="desc"?" ":" ":""]})]})]}),rows:c.jsx(c.Fragment,{children:T.length===0?c.jsx("div",{className:"px-4 py-6 text-sm text-gray-500 italic",children:"No healing data for this view"}):T.map((C,R)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:R+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(C.profession,C.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:C.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:u(C.value,te.decimals)}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:C.activeMs?`${(C.activeMs/1e3).toFixed(1)}s`:"-"})]},`${te.id}-${C.account}-${R}`))})})})()})})]})},boe=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}`:e:"",xoe=({stats:e,specialSearch:t,setSpecialSearch:n,filteredSpecialTables:r,activeSpecialTab:a,setActiveSpecialTab:i,activeSpecialTable:o,formatWithCommas:s,renderProfessionIcon:l,expandedSection:u,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:p,isSectionVisible:m,isFirstVisibleSection:h,sectionClass:v,sidebarListClass:b})=>{const[y,x]=g.useState("total"),[w,S]=g.useState("desc"),[j,N]=g.useState({columnId:"",dir:"desc"}),A=u==="special-buffs",[P,B]=g.useState([]),[D,I]=g.useState([]),O=e.specialTables||[],H=P.length>0?O.filter(k=>P.includes(k.id)):O,J=r.map(k=>({id:k.id,label:k.name,icon:k.icon?c.jsx("img",{src:k.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),ie=Array.from(new Map((e.specialTables||[]).flatMap(k=>k.rows||[]).filter(k=>k.account).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:l(k.profession,k.professionList,"w-3 h-3")})),we=new Set([...P.map(k=>`column:${k}`),...D.map(k=>`player:${k}`)]),te=g.useMemo(()=>{if(!(o!=null&&o.rows))return[];const k=[...o.rows];return k.sort(($,T)=>{const C=Number(($==null?void 0:$[y])??0),R=Number((T==null?void 0:T[y])??0),V=w==="desc"?R-C:C-R;return V!==0?V:String(($==null?void 0:$.account)||"").localeCompare(String((T==null?void 0:T.account)||""))}),k},[o,y,w]),q=k=>{if(y===k){S($=>$==="desc"?"asc":"desc");return}x(k),S("desc")},W=k=>y!==k?"":w==="desc"?" ":" ";return c.jsxs("div",{id:"special-buffs","data-section-visible":m("special-buffs"),"data-section-first":h("special-buffs"),className:v("special-buffs",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${u==="special-buffs"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(ry,{className:"w-5 h-5 text-purple-300"}),"Special Buffs"]}),c.jsx("button",{type:"button",onClick:()=>u==="special-buffs"?p():f("special-buffs"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":u==="special-buffs"?"Close Special Buffs":"Expand Special Buffs",title:u==="special-buffs"?"Close":"Expand",children:u==="special-buffs"?c.jsx(ma,{className:"w-4 h-4"}):c.jsx(Ca,{className:"w-4 h-4"})})]}),e.specialTables.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No special buff data available"}):A?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Oo,{options:[...O.map(k=>({id:k.id,label:k.name,type:"column"})),...Array.from(new Map((e.specialTables||[]).flatMap(k=>k.rows||[]).filter(k=>k.account).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,type:"player",icon:l(k.profession,k.professionList,"w-3 h-3")}))],onSelect:k=>{k.type==="column"?B($=>$.includes(k.id)?$.filter(T=>T!==k.id):[...$,k.id]):I($=>$.includes(k.id)?$.filter(T=>T!==k.id):[...$,k.id])},selectedIds:we,className:"w-full sm:w-64"}),c.jsx(wr,{options:J,selectedIds:P,onToggle:k=>{B($=>$.includes(k)?$.filter(T=>T!==k):[...$,k])},onClear:()=>B([]),buttonIcon:c.jsx(Mo,{className:"h-3.5 w-3.5"})}),c.jsx(wr,{options:ie,selectedIds:D,onToggle:k=>{I($=>$.includes(k)?$.filter(T=>T!==k):[...$,k])},onClear:()=>I([]),buttonLabel:"Players",buttonIcon:c.jsx(Er,{className:"h-3.5 w-3.5"})}),c.jsx(Nn,{value:y,onChange:k=>x(k),options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"},{value:"duration",label:"Fight Time"}],activeClassName:"bg-purple-500/20 text-purple-200 border border-purple-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(P.length>0||D.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{B([]),I([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),P.map(k=>{var $;const T=(($=O.find(C=>C.id===k))==null?void 0:$.name)||k;return c.jsxs("button",{type:"button",onClick:()=>B(C=>C.filter(R=>R!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:T}),c.jsx("span",{className:"text-gray-400",children:""})]},k)}),D.map(k=>c.jsxs("button",{type:"button",onClick:()=>I($=>$.filter(T=>T!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:k}),c.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:O.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No special buffs match this filter"}):(()=>{var k,$;const T=H,C=new Map,R=new Map;T.forEach(Y=>{const L=new Map;Y.rows.forEach(z=>{const re=z.account||z.name||z.id;re&&(L.set(re,z),R.has(re)||R.set(re,z))}),C.set(Y.id,L)});const V=Array.from(R.entries()).filter(([Y])=>D.length===0||D.includes(String(Y))).map(([Y,L])=>{const z={},re={};return T.forEach(F=>{var le;const ye=(le=C.get(F.id))==null?void 0:le.get(Y);if(!ye){z[F.id]="-",re[F.id]=0;return}if(y==="duration"){z[F.id]=ye.duration?`${ye.duration.toFixed(1)}s`:"-",re[F.id]=Number(ye.duration||0);return}const K=y==="total"?ye.total:ye.perSecond,me=y==="total"?0:1;re[F.id]=Number(K||0),z[F.id]=s(K||0,me)}),{key:Y,row:L,values:z,numericValues:re}}),Q=((k=T.find(Y=>Y.id===j.columnId))==null?void 0:k.id)||(a&&T.some(Y=>Y.id===a)?a:void 0)||(($=T[0])==null?void 0:$.id)||"",ce=[...V].sort((Y,L)=>{if(!Q)return String(Y.key).localeCompare(String(L.key));const z=Y.numericValues[Q]??0,re=L.numericValues[Q]??0;return(j.dir==="desc"?re-z:z-re)||String(Y.key).localeCompare(String(L.key))});return c.jsx(To,{title:"Special Buffs - Dense View",subtitle:"Totals",sortColumnId:Q,sortDirection:j.dir,onSortColumn:Y=>{N(L=>({columnId:Y,dir:L.columnId===Y&&L.dir==="desc"?"asc":"desc"}))},columns:T.map(Y=>({id:Y.id,label:c.jsx(xr,{name:Y.name,iconUrl:Y.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:ce.map((Y,L)=>({id:`${Y.key}-${L}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:L+1}),l(Y.row.profession,Y.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:Y.row.account||Y.row.name||Y.key})]}),values:Y.values}))})})()})]}):c.jsx(ol,{expanded:u==="special-buffs",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${u==="special-buffs"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${u==="special-buffs"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),c.jsx("input",{value:t,onChange:k=>n(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${b} ${u==="special-buffs"?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No special buffs match this filter"}):r.map(k=>c.jsx("button",{onClick:()=>i(k.id),title:k.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===k.id?"bg-purple-500/20 text-purple-200 border-purple-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsx(xr,{name:boe(k.name),iconUrl:k.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},k.id))})]}),content:c.jsx(c.Fragment,{children:o?c.jsx(Io,{expanded:u==="special-buffs",maxHeightClass:"max-h-64",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:c.jsx(xr,{name:o.name,iconUrl:o.icon,iconClassName:"h-4 w-4"})}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Totals"})]}),columns:c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>q("total"),className:`text-right transition-colors ${y==="total"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Total",W("total")]}),c.jsxs("button",{type:"button",onClick:()=>q("perSecond"),className:`text-right transition-colors ${y==="perSecond"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Per Sec",W("perSecond")]}),c.jsxs("button",{type:"button",onClick:()=>q("duration"),className:`text-right transition-colors ${y==="duration"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",W("duration")]})]}),rows:c.jsx(c.Fragment,{children:te.map((k,$)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:$+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(k.profession,k.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:k.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:Math.round(k.total).toLocaleString()}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:s(k.perSecond,1)}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:k.duration?`${k.duration.toFixed(1)}s`:"-"})]},`${o.id}-${k.account}-${$}`))})}):c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a special buff to view details"})})})]})},woe=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}...`:e:"",koe=({hasSigilRelicTables:e,sigilRelicSearch:t,setSigilRelicSearch:n,filteredSigilRelicTables:r,activeSigilRelicTab:a,setActiveSigilRelicTab:i,activeSigilRelicTable:o,formatWithCommas:s,renderProfessionIcon:l,expandedSection:u,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:p,isSectionVisible:m,isFirstVisibleSection:h,sectionClass:v,sidebarListClass:b})=>{const[y,x]=g.useState("desc"),w=u==="sigil-relic-uptime",S=g.useMemo(()=>{if(!(o!=null&&o.rows))return[];const j=[...o.rows];return j.sort((N,A)=>{const P=Number((N==null?void 0:N.uptimePerSecond)??(N==null?void 0:N.perSecond)??0),B=Number((A==null?void 0:A.uptimePerSecond)??(A==null?void 0:A.perSecond)??0),D=y==="desc"?B-P:P-B;return D!==0?D:String((N==null?void 0:N.account)||"").localeCompare(String((A==null?void 0:A.account)||""))}),j},[o,y]);return c.jsxs("div",{id:"sigil-relic-uptime","data-section-visible":m("sigil-relic-uptime"),"data-section-first":h("sigil-relic-uptime"),className:v("sigil-relic-uptime",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${u==="sigil-relic-uptime"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Mk,{className:"w-5 h-5 text-fuchsia-300"}),"Sigil/Relic Uptime"]}),c.jsx("button",{type:"button",onClick:()=>u==="sigil-relic-uptime"?p():f("sigil-relic-uptime"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":u==="sigil-relic-uptime"?"Close Sigil/Relic Uptime":"Expand Sigil/Relic Uptime",title:u==="sigil-relic-uptime"?"Close":"Expand",children:u==="sigil-relic-uptime"?c.jsx(ma,{className:"w-4 h-4"}):c.jsx(Ca,{className:"w-4 h-4"})})]}),e?c.jsx(ol,{expanded:w,sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${w?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${w?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Sigil/Relic"}),c.jsx("input",{value:t,onChange:j=>n(j.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${b} ${w?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No sigil/relic entries match this filter"}):r.map(j=>c.jsx("button",{onClick:()=>i(j.id),title:j.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===j.id?"bg-fuchsia-500/20 text-fuchsia-200 border-fuchsia-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsx(xr,{name:woe(j.name),iconUrl:j.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},j.id))})]}),content:c.jsx(c.Fragment,{children:o?c.jsx(Io,{expanded:w,maxHeightClass:"max-h-72",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:c.jsx(xr,{name:o.name,iconUrl:o.icon,iconClassName:"h-4 w-4"})}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Uptime"})]}),columns:c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>x(j=>j==="desc"?"asc":"desc"),className:"text-right transition-colors text-gray-400 hover:text-gray-200",children:["Uptime ",y==="desc"?"":""]})]}),rows:c.jsx(c.Fragment,{children:S.map((j,N)=>{const A=Number(j.uptimePerSecond??j.perSecond??0)*100;return c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:N+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(j.profession,j.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:j.account})]}),c.jsxs("div",{className:"text-right font-mono text-gray-300",children:[s(A,1),"%"]})]},`${o.id}-${j.account}-${N}`)})})}):c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a sigil/relic to view uptime"})})}):c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No sigil/relic uptime data available"})]})},Soe=({stats:e,formatWithCommas:t,expandedSection:n,expandedSectionClosing:r,openExpandedSection:a,closeExpandedSection:i,isSectionVisible:o,isFirstVisibleSection:s,sectionClass:l})=>{const u=Array.isArray(e==null?void 0:e.fightDiffMode)?e.fightDiffMode:[],d=!Array.isArray(e==null?void 0:e.fightDiffMode)&&Array.isArray(e==null?void 0:e.fightBreakdown)&&e.fightBreakdown.length>0,[f,p]=g.useState(""),[m,h]=g.useState(""),[v,b]=g.useState(null);g.useEffect(()=>{var I,O,H;if(u.length===0){p(""),h("");return}const J=String(((I=u[0])==null?void 0:I.id)||""),ie=String(((O=u[1])==null?void 0:O.id)||((H=u[0])==null?void 0:H.id)||"");p(we=>we&&u.some(te=>String(te.id)===we)?we:J),h(we=>we&&u.some(te=>String(te.id)===we)?we:ie)},[u]);const y=g.useMemo(()=>u.find(I=>String(I.id)===String(f))||null,[u,f]),x=g.useMemo(()=>u.find(I=>String(I.id)===String(m))||null,[u,m]),w=g.useMemo(()=>{if(!y||!x)return[];const I=new Map,O=(H,J,ie,we)=>{const te=String(H||"Unknown"),q=I.get(te)||{label:te,aDamage:0,aShare:0,bDamage:0,bShare:0};J==="a"?(q.aDamage=Number(ie||0),q.aShare=Number(we||0)):(q.bDamage=Number(ie||0),q.bShare=Number(we||0)),I.set(te,q)};return(y.targetFocus||[]).forEach(H=>O(H.label,"a",H.damage,H.share)),(x.targetFocus||[]).forEach(H=>O(H.label,"b",H.damage,H.share)),Array.from(I.values()).map(H=>({...H,shareDelta:H.bShare-H.aShare})).sort((H,J)=>Math.abs(J.shareDelta)-Math.abs(H.shareDelta)||J.bDamage+J.aDamage-(H.bDamage+H.aDamage))},[y,x]),S=g.useMemo(()=>{if(!v)return w;const I=v.direction==="asc"?1:-1,O=v.key;return[...w].sort((H,J)=>{const ie=(Number(H[O])-Number(J[O]))*I;return ie!==0?ie:H.label.localeCompare(J.label)})},[w,v]),j=g.useMemo(()=>{if(!y||!x)return[];const I=new Map((y.squadMetrics||[]).map(H=>[H.metricId,H])),O=new Map((x.squadMetrics||[]).map(H=>[H.metricId,H]));return Array.from(new Set([...I.keys(),...O.keys()])).map(H=>{const J=I.get(H),ie=O.get(H),we=!!((J==null?void 0:J.higherIsBetter)??(ie==null?void 0:ie.higherIsBetter)??!0),te=Number((J==null?void 0:J.value)||0),q=Number((ie==null?void 0:ie.value)||0);return{metricId:H,metricLabel:String((J==null?void 0:J.metricLabel)||(ie==null?void 0:ie.metricLabel)||H),higherIsBetter:we,a:J,b:ie,delta:q-te}})},[y,x]),N=I=>`${t((Number(I)||0)*100,1)}%`,A=I=>I==="squadKdr"?2:0,P=I=>{b(O=>!O||O.key!==I?{key:I,direction:"desc"}:{key:I,direction:O.direction==="desc"?"asc":"desc"})},B=I=>(v==null?void 0:v.key)===I?v.direction==="desc"?" ":" ":"",D=I=>`fight-diff-sort-button transition-colors whitespace-nowrap ${(v==null?void 0:v.key)===I?"text-indigo-200":"text-gray-400 hover:text-gray-200"}`;return c.jsxs("div",{id:"fight-diff-mode","data-section-visible":o("fight-diff-mode"),"data-section-first":s("fight-diff-mode"),className:l("fight-diff-mode",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${n==="fight-diff-mode"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${r?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(xk,{className:"w-5 h-5 text-indigo-300"}),"Fight Comparison"]}),c.jsx("button",{type:"button",onClick:()=>n==="fight-diff-mode"?i():a("fight-diff-mode"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":n==="fight-diff-mode"?"Close Fight Comparison":"Expand Fight Comparison",title:n==="fight-diff-mode"?"Close":"Expand",children:n==="fight-diff-mode"?c.jsx(ma,{className:"w-4 h-4"}):c.jsx(Ca,{className:"w-4 h-4"})})]}),d?c.jsxs("div",{className:"text-center text-gray-400 py-8 space-y-1",children:[c.jsx("div",{className:"font-semibold text-gray-200",children:"Fight Comparison data is missing in this dataset."}),c.jsx("div",{className:"text-sm text-gray-500",children:"Regenerate the stats/report with a build that includes Fight Comparison."})]}):u.length<2?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"Need at least two fights to compare."}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[c.jsxs("label",{className:"text-xs uppercase tracking-widest text-gray-400",children:["Fight A",c.jsx("select",{className:"fight-diff-select mt-2 w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-100 focus:outline-none",value:f,onChange:I=>p(I.target.value),children:u.map(I=>c.jsxs("option",{value:I.id,children:[I.shortLabel," - ",I.fullLabel]},`fight-a-${I.id}`))})]}),c.jsxs("label",{className:"text-xs uppercase tracking-widest text-gray-400",children:["Fight B",c.jsx("select",{className:"fight-diff-select mt-2 w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-100 focus:outline-none",value:m,onChange:I=>h(I.target.value),children:u.map(I=>c.jsxs("option",{value:I.id,children:[I.shortLabel," - ",I.fullLabel]},`fight-b-${I.id}`))})]})]}),c.jsxs("div",{className:"bg-indigo-500/10 border border-indigo-300/20 rounded-xl px-4 py-3 text-xs text-indigo-100/90 space-y-1",children:[c.jsx("div",{className:"uppercase tracking-widest text-[10px] text-indigo-200/80",children:"How Target Focus Works"}),c.jsxs("div",{children:["Target focus compares how your squad distributed damage ",c.jsx("span",{className:"font-semibold",children:"to"})," enemy professions between two fights (it is not damage ",c.jsx("span",{className:"font-semibold",children:"from"})," those professions)."]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-semibold",children:"Share"})," is the percent of your squad's total enemy-player damage that landed on that profession in that fight.",c.jsx("span",{className:"font-semibold",children:" Share Delta"})," is ",c.jsx("span",{className:"font-semibold",children:"Fight B - Fight A"}),"."]})]}),c.jsx("div",{className:"stats-table-layout__content bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:c.jsx(Io,{expanded:n==="fight-diff-mode",maxHeightClass:"max-h-96",header:c.jsx("div",{className:"bg-white/5 px-4 py-3 text-xs uppercase tracking-widest text-gray-400",children:"Target Focus Comparison"}),columns:w.length>0?c.jsx("div",{className:"bg-white/5 overflow-x-auto",children:c.jsxs("table",{className:"w-full min-w-[700px] table-fixed text-xs",children:[c.jsxs("colgroup",{children:[c.jsx("col",{className:"w-[220px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"})]}),c.jsx("thead",{children:c.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[c.jsx("th",{className:"text-left py-2 px-3",children:"Target"}),c.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:c.jsxs("button",{type:"button",className:D("aDamage"),onClick:()=>P("aDamage"),children:[y==null?void 0:y.shortLabel," Damage",B("aDamage")]})}),c.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:c.jsxs("button",{type:"button",className:D("aShare"),onClick:()=>P("aShare"),children:[y==null?void 0:y.shortLabel," Share",B("aShare")]})}),c.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:c.jsxs("button",{type:"button",className:D("bDamage"),onClick:()=>P("bDamage"),children:[x==null?void 0:x.shortLabel," Damage",B("bDamage")]})}),c.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:c.jsxs("button",{type:"button",className:D("bShare"),onClick:()=>P("bShare"),children:[x==null?void 0:x.shortLabel," Share",B("bShare")]})}),c.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:c.jsxs("button",{type:"button",className:D("shareDelta"),onClick:()=>P("shareDelta"),children:["Share Delta",B("shareDelta")]})})]})})]})}):null,rows:w.length>0?c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full min-w-[700px] table-fixed text-xs",children:[c.jsxs("colgroup",{children:[c.jsx("col",{className:"w-[220px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"})]}),c.jsx("tbody",{children:S.map(I=>c.jsxs("tr",{className:"border-t border-white/5",children:[c.jsx("td",{className:"py-2 px-3 text-gray-200",children:I.label}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(I.aDamage,0)}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-300",children:N(I.aShare)}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(I.bDamage,0)}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-300",children:N(I.bShare)}),c.jsxs("td",{className:`py-2 px-3 text-right font-mono ${I.shareDelta>=0?"text-emerald-300":"text-red-300"}`,children:[I.shareDelta>=0?"+":"",N(I.shareDelta)]})]},`focus-${I.label}`))})]})}):c.jsxs("div",{className:"px-4 py-8 text-center text-gray-400 text-sm space-y-1",children:[c.jsx("div",{className:"italic",children:"No target focus data for selected fights."}),c.jsx("div",{className:"text-xs text-gray-500",children:"Usually this means the fights were uploaded without Detailed WvW enemy slices, or the report was generated from an older build."})]})})}),c.jsx("div",{className:"stats-table-layout__content bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:c.jsx(Io,{expanded:n==="fight-diff-mode",maxHeightClass:"max-h-none",header:c.jsx("div",{className:"bg-white/5 px-4 py-3 text-xs uppercase tracking-widest text-gray-400",children:"Squad Metric Comparison"}),columns:j.length>0?c.jsx("div",{className:"bg-white/5 overflow-x-auto",children:c.jsxs("table",{className:"w-full min-w-[680px] table-fixed text-xs",children:[c.jsxs("colgroup",{children:[c.jsx("col",{className:"w-[320px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"})]}),c.jsx("thead",{children:c.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[c.jsx("th",{className:"text-left py-2 px-3",children:"Metric"}),c.jsxs("th",{className:"text-right py-2 px-3",children:[y==null?void 0:y.shortLabel," Value"]}),c.jsxs("th",{className:"text-right py-2 px-3",children:[x==null?void 0:x.shortLabel," Value"]}),c.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})})]})}):null,rows:j.length>0?c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full min-w-[680px] table-fixed text-xs",children:[c.jsxs("colgroup",{children:[c.jsx("col",{className:"w-[320px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"})]}),c.jsx("tbody",{children:j.map(I=>{var O,H;const J=I.higherIsBetter?I.delta>=0:I.delta<=0,ie=A(I.metricId);return c.jsxs("tr",{className:"border-t border-white/5",children:[c.jsx("td",{className:"py-2 px-3 text-gray-200",children:I.metricLabel}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(Number(((O=I.a)==null?void 0:O.value)||0),ie)}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(Number(((H=I.b)==null?void 0:H.value)||0),ie)}),c.jsxs("td",{className:`py-2 px-3 text-right font-mono ${J?"text-emerald-300":"text-red-300"}`,children:[I.delta>0?"+":"",t(I.delta,ie)]})]},`performer-${I.metricId}`)})})]})}):c.jsx("div",{className:"px-4 py-8 text-center text-gray-500 italic text-sm",children:"No squad metric data for selected fights."})})})]})]})},Noe=({stats:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>c.jsxs(c.Fragment,{children:[c.jsx("div",{id:"kdr",className:"scroll-mt-24"}),c.jsxs("div",{id:"overview","data-section-visible":t("overview"),"data-section-first":n("overview"),className:r("overview","grid grid-cols-1 md:grid-cols-2 gap-4 scroll-mt-24"),children:[c.jsx("div",{className:"overview-card overview-card--green bg-gradient-to-br from-green-500/20 to-emerald-900/20 border border-green-500/30 rounded-2xl px-5 py-4",children:c.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.avgSquadSize}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Avg Squad"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-3xl font-black text-green-300 leading-none",children:e.wins}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/50 mt-1",children:"Victories"})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.squadKDR}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Squad KDR"})]})]})}),c.jsx("div",{className:"overview-card overview-card--red bg-gradient-to-br from-red-500/20 to-rose-900/20 border border-red-500/30 rounded-2xl px-5 py-4",children:c.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.avgEnemies}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Avg Enemies"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-3xl font-black text-red-300 leading-none",children:e.losses}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/50 mt-1",children:"Defeats"})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.enemyKDR}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Enemy KDR"})]})]})})]})]}),joe=({stats:e,fightBreakdownTab:t,setFightBreakdownTab:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>{var o;const s=g.useMemo(()=>{const u=new Map;return(Array.isArray(e==null?void 0:e.fightBreakdown)?e.fightBreakdown:[]).forEach(d=>{(Array.isArray(d==null?void 0:d.teamBreakdown)?d.teamBreakdown:[]).forEach(f=>{const p=String((f==null?void 0:f.teamId)??"").trim(),m=Number((f==null?void 0:f.count)||0);!p||!Number.isFinite(m)||m<=0||u.set(p,(u.get(p)||0)+m)})}),Array.from(u.entries()).sort((d,f)=>{const p=f[1]-d[1];return p!==0?p:d[0].localeCompare(f[0],void 0,{numeric:!0})}).map(([d])=>d)},[e==null?void 0:e.fightBreakdown]),l=u=>{const d=u==null?void 0:u.timestamp;let f=0;if(typeof d=="number")f=d>1e12?d:d*1e3;else if(typeof d=="string"&&d.trim()){const v=Number(d);if(Number.isFinite(v)&&v>0)f=v>1e12?v:v*1e3;else{const b=Date.parse(d);Number.isFinite(b)&&b>0&&(f=b)}}const p=f>0?new Date(f).toLocaleDateString(void 0,{month:"2-digit",day:"2-digit"})+" "+new Date(f).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"}):"--",m=(u==null?void 0:u.mapName)||(u==null?void 0:u.map)||"Unknown Map",h=String(m).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim();return`${p}  ${h}`};return c.jsx("div",{id:"fight-breakdown","data-section-visible":r("fight-breakdown"),"data-section-first":a("fight-breakdown"),className:i("fight-breakdown","mt-6 stats-share-exclude"),children:c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:items-center sm:justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-200",children:"Fight Breakdown"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Nn,{value:t,onChange:n,options:[{value:"sizes",label:"Sizes"},{value:"outcomes",label:"Outcome"},{value:"damage",label:"Damage"},{value:"barrier",label:"Barrier"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsxs("span",{className:"text-[10px] uppercase tracking-widest text-gray-500 sm:ml-1 w-full sm:w-auto",children:[((o=e.fightBreakdown)==null?void 0:o.length)||0," Fights"]})]})]}),(e.fightBreakdown||[]).length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight data available"}):c.jsx("div",{className:"overflow-x-auto",children:c.jsx("div",{className:"max-h-[360px] overflow-y-auto",children:c.jsxs("table",{className:"w-full text-xs table-auto min-w-[720px]",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[c.jsx("th",{className:"text-right py-2 px-2 w-8",children:"#"}),c.jsx("th",{className:"text-left py-2 px-3 w-[240px]",children:"Report"}),c.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Duration"}),c.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Outcome"}),t==="sizes"&&c.jsxs(c.Fragment,{children:[c.jsx("th",{className:"text-right py-2 px-3",children:"Squad"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Allies"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Enemies"}),s.length===0?c.jsx("th",{className:"text-right py-2 px-3",children:"Teams"}):s.map(u=>c.jsx("th",{className:"text-right py-2 px-3",children:`Team ${u}`},u))]}),t==="outcomes"&&c.jsxs(c.Fragment,{children:[c.jsx("th",{className:"text-right py-2 px-3",children:"Allies Down"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Allies Dead"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Allies Revived"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Rallies"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Downs"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Deaths"})]}),t==="damage"&&c.jsxs(c.Fragment,{children:[c.jsx("th",{className:"text-right py-2 px-3",children:"Outgoing Dmg"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Incoming Dmg"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]}),t==="barrier"&&c.jsxs(c.Fragment,{children:[c.jsx("th",{className:"text-right py-2 px-3",title:"Incoming damage mitigated by your squad's barrier",children:"Barrier Absorption"}),c.jsx("th",{className:"text-right py-2 px-3",title:"Outgoing damage mitigated by enemy barrier",children:"Enemy Barrier Absorption"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})]})}),c.jsx("tbody",{children:(e.fightBreakdown||[]).map((u,d)=>c.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[c.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-500 w-8",children:d+1}),c.jsx("td",{className:"py-2 px-3 w-[240px]",children:u.permalink?c.jsx("button",{onClick:()=>{var f;u.permalink&&(f=window.electronAPI)!=null&&f.openExternal?window.electronAPI.openExternal(u.permalink):u.permalink&&window.open(u.permalink,"_blank")},className:"text-cyan-300 hover:text-cyan-200 underline underline-offset-2 block truncate",children:l(u)}):c.jsx("span",{className:"text-gray-500",children:"Pending"})}),c.jsx("td",{className:"py-2 px-3 text-gray-200 w-20",children:u.duration||"--:--"}),c.jsx("td",{className:`py-2 px-3 font-semibold ${u.isWin===!0?"text-emerald-300":u.isWin===!1?"text-red-300":"text-amber-200"}`,children:u.isWin===!0?"Win":u.isWin===!1?"Loss":"Unknown"}),t==="sizes"&&c.jsxs(c.Fragment,{children:[c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.jsx(Nb,{count:u.squadCount??0,classCounts:u.squadClassCountsFight,label:"Squad Classes",className:"text-gray-200"})}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.jsx(Nb,{count:u.allyCount??0,classCounts:u.allyClassCountsFight,label:"Ally Classes",className:"text-gray-200"})}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.jsx(Nb,{count:u.enemyCount??0,classCounts:u.enemyClassCounts,label:"Enemy Classes",className:"text-gray-200"})}),s.length===0?c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:"0"}):s.map(f=>{const p=(Array.isArray(u.teamBreakdown)?u.teamBreakdown:[]).find(m=>String((m==null?void 0:m.teamId)??"")===f);return c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:Number((p==null?void 0:p.count)||0)},f)})]}),t==="outcomes"&&c.jsxs(c.Fragment,{children:[c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.alliesDown??0}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.alliesDead??0}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.alliesRevived??0}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.rallies??0}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.enemyDowns??0}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.enemyDeaths??0})]}),t==="damage"&&c.jsxs(c.Fragment,{children:[c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(u.totalOutgoingDamage||0).toLocaleString()}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(u.totalIncomingDamage||0).toLocaleString()}),(()=>{const f=Number((u.totalOutgoingDamage||0)-(u.totalIncomingDamage||0));return c.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-red-300":"text-emerald-300"}`,children:f.toLocaleString()})})()]}),t==="barrier"&&c.jsxs(c.Fragment,{children:[c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(u.incomingBarrierAbsorbed||0).toLocaleString()}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(u.outgoingBarrierAbsorbed||0).toLocaleString()}),(()=>{const f=Number((u.outgoingBarrierAbsorbed||0)-(u.incomingBarrierAbsorbed||0));return c.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-emerald-300":"text-red-300"}`,children:f.toLocaleString()})})()]})]},u.id||`${u.label}-${d}`))})]})})})]})})},Y5={red:{bg:"bg-red-500/20",text:"text-red-400"},yellow:{bg:"bg-yellow-500/20",text:"text-yellow-400"},green:{bg:"bg-green-500/20",text:"text-green-400"},purple:{bg:"bg-purple-500/20",text:"text-purple-400"},blue:{bg:"bg-blue-500/20",text:"text-blue-400"},pink:{bg:"bg-pink-500/20",text:"text-pink-400"},cyan:{bg:"bg-cyan-500/20",text:"text-cyan-400"},indigo:{bg:"bg-indigo-500/20",text:"text-indigo-400"}},Coe=({icon:e,title:t,data:n,color:r,unit:a="",onClick:i,active:o,rows:s,formatValue:l,renderProfessionIcon:u})=>{const d=Y5[r]||Y5.blue,f=(n==null?void 0:n.value)??0,p=l?l(f):Math.round(f).toLocaleString();return c.jsxs("div",{role:"button",tabIndex:0,onClick:i,onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),i==null||i())},className:`bg-white/5 border border-white/10 rounded-xl p-4 flex flex-col gap-3 group hover:bg-white/10 transition-colors cursor-pointer ${o?"ring-1 ring-white/20":""}`,children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:`p-3 rounded-lg ${d.bg} ${d.text} shrink-0`,children:c.jsx(e,{className:"w-6 h-6"})}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("div",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider truncate",children:t}),c.jsxs("div",{className:"text-2xl font-bold text-white mt-0.5 break-words",children:[p," ",c.jsx("span",{className:"text-sm font-normal text-gray-500",children:a})]})]})]}),c.jsxs("div",{className:"flex flex-col border-t border-white/5 pt-2",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u((n==null?void 0:n.profession)||"Unknown",n==null?void 0:n.professionList,"w-4 h-4"),c.jsx("div",{className:"text-sm font-medium text-blue-300 truncate",children:(n==null?void 0:n.player)||"-"})]}),c.jsx("div",{className:"text-xs text-gray-500 truncate",children:n!=null&&n.count?`${n.count} logs`:"-"})]}),o&&c.jsxs("div",{className:"mt-3 stats-share-exclude",children:[c.jsx("div",{className:"text-xs font-semibold text-gray-200 mb-2",children:t}),s!=null&&s.length?c.jsx("div",{className:"max-h-56 overflow-y-auto pr-1 space-y-1",children:s.map(m=>c.jsxs("div",{className:"flex items-center gap-2 min-w-0 text-xs text-gray-300",children:[c.jsx("div",{className:"w-6 shrink-0 text-right text-gray-500",children:m.rank}),c.jsx("div",{className:"shrink-0",children:u(m.profession,m.professionList,"w-4 h-4")}),c.jsx("div",{className:"flex-1 min-w-0 truncate",children:m.account}),c.jsx("div",{className:"shrink-0 text-gray-400 font-mono",children:l?l(m.value):m.value})]},`${t}-${m.rank}-${m.account}`))}):c.jsx("div",{className:"text-xs text-gray-500 italic",children:"No data available"})]})]})},Aoe=(e,t)=>{const n=(Array.isArray(e)?e:[]).map(i=>({...i,value:Number((i==null?void 0:i.value)??0)})).filter(i=>Number.isFinite(i.value)).sort((i,o)=>{const s=t?o.value-i.value:i.value-o.value;return s!==0?s:String((i==null?void 0:i.account)||"").localeCompare(String((o==null?void 0:o.account)||""))});let r=null,a=0;return n.map((i,o)=>((r===null||i.value!==r)&&(a=o+1,r=i.value),{...i,rank:a}))},J5=(e,t)=>{if(typeof e=="number"&&Number.isFinite(e))return t(e);if(typeof e=="string"){const n=Number(e.replace(/,/g,"").trim());return Number.isFinite(n)?t(n):e}return"--"},Moe=({stats:e,showTopStats:t,showMvp:n,topStatsMode:r,expandedLeader:a,setExpandedLeader:i,formatTopStatValue:o,formatWithCommas:s,isMvpStatEnabled:l,renderProfessionIcon:u,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:p})=>t?c.jsxs("div",{id:"top-players","data-section-visible":d("top-players"),"data-section-first":f("top-players"),className:p("top-players","scroll-mt-24"),children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[c.jsx(Uc,{className:"w-5 h-5 text-yellow-400"}),"Top Players (Total Accumulated Stats)"]}),n&&c.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[minmax(0,1.6fr)_minmax(0,0.9fr)] gap-3 mb-6",children:[c.jsxs("div",{className:"mvp-card mvp-card--gold border border-yellow-500/30 rounded-2xl p-3 relative overflow-hidden group flex items-center",children:[c.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-yellow-500/10 blur-[80px] rounded-full pointer-events-none group-hover:bg-yellow-500/20 transition-all"}),c.jsxs("div",{className:"flex items-center gap-5 relative z-10 w-full",children:[c.jsx("div",{className:"hidden sm:flex items-center justify-center w-20 h-20 rounded-full bg-yellow-500/20 border border-yellow-500/30 shadow-[0_0_20px_rgba(234,179,8,0.2)]",children:c.jsx(r8,{className:"w-10 h-10 text-yellow-400"})}),c.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(ry,{className:"w-4 h-4 text-yellow-400 animate-pulse"}),c.jsx("span",{className:"text-yellow-400 font-bold uppercase tracking-widest text-xs",children:"Squad MVP"})]}),c.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-white mb-2 flex flex-wrap items-center gap-2 sm:gap-3",children:[c.jsx("span",{className:"min-w-0 max-w-full truncate",children:e.mvp.account}),u(e.mvp.profession,e.mvp.professionList,"w-6 h-6"),c.jsx("span",{className:"text-sm sm:text-lg font-medium text-yellow-200/70 bg-white/5 px-2 py-0.5 rounded border border-yellow-500/20 max-w-full truncate",children:e.mvp.profession})]}),c.jsxs("p",{className:"text-yellow-200/80 italic flex items-center gap-2 mb-2",children:[c.jsx(Mg,{className:"w-4 h-4 text-yellow-400 fill-yellow-500/40"}),'"',e.mvp.reason,'"']}),c.jsx("div",{className:"mt-auto flex flex-wrap gap-2",children:e.mvp.topStats&&e.mvp.topStats.filter(m=>l(m.name)).map((m,h)=>c.jsxs("div",{className:"inline-flex items-baseline gap-2 px-2.5 py-0.5 bg-yellow-500/10 border border-yellow-500/30 rounded-full text-[11px] leading-none",children:[c.jsx("span",{className:"text-yellow-200 font-bold",children:m.name}),c.jsx("span",{className:"text-yellow-50 font-mono tabular-nums",children:J5(m.val,o)})]},h))})]}),c.jsxs("div",{className:"hidden lg:block text-right",children:[c.jsx("div",{className:"text-yellow-500/40 font-mono text-sm uppercase tracking-wider font-bold",children:"Contribution Score"}),c.jsx("div",{className:"text-4xl font-black text-yellow-500/80",children:e.mvp.score>0?e.mvp.score.toFixed(1):"-"}),c.jsxs("div",{className:"text-xs text-yellow-500/30 font-mono mt-1",children:["Avg: ",e.avgMvpScore.toFixed(1)]})]})]})]}),c.jsx("div",{className:"grid grid-cols-2 xl:grid-cols-1 gap-3",children:[{label:"Silver",data:e.silver},{label:"Bronze",data:e.bronze}].map(m=>{var h,v,b,y,x;return c.jsxs("div",{className:`mvp-card mvp-card--${m.label.toLowerCase()} border border-white/10 rounded-2xl p-3 relative overflow-hidden group flex flex-col`,children:[c.jsx("div",{className:`absolute top-0 right-0 w-48 h-48 rounded-full blur-[70px] pointer-events-none transition-all ${m.label==="Silver"?"bg-slate-300/15 group-hover:bg-slate-300/25":"bg-orange-400/15 group-hover:bg-orange-400/25"}`}),c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsxs("div",{className:`text-xs uppercase tracking-widest font-semibold ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:[m.label," MVP"]}),c.jsx("div",{className:"text-xs text-gray-500 font-mono",children:(h=m.data)!=null&&h.score?m.data.score.toFixed(1):"-"})]}),c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.data&&u(m.data.profession,m.data.professionList,"w-6 h-6"),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("div",{className:`text-base font-semibold ${m.label==="Silver"?"text-slate-100":"text-orange-100"} truncate`,children:((v=m.data)==null?void 0:v.account)||""}),c.jsx("div",{className:`text-xs ${m.label==="Silver"?"text-slate-300/70":"text-orange-200/70"} truncate`,children:((b=m.data)==null?void 0:b.profession)||"Unknown"})]})]}),(x=(y=m.data)==null?void 0:y.topStats)!=null&&x.some(w=>l(w.name))?c.jsx("div",{className:`mt-auto flex flex-wrap items-center gap-2 text-[10px] ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:m.data.topStats.filter(w=>l(w.name)).map((w,S)=>c.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full border leading-none ${m.label==="Silver"?"bg-slate-400/10 border-slate-300/30":"bg-orange-500/10 border-orange-400/30"}`,children:[c.jsx("span",{className:"leading-none",children:w.name}),c.jsx("span",{className:"tabular-nums leading-none",children:J5(w.val,o)})]},S))}):null]},m.label)})})]}),(()=>{const m=r==="perSecond",h=m&&e.topStatsPerSecond?e.topStatsPerSecond:e,v=m&&e.topStatsLeaderboardsPerSecond?e.topStatsLeaderboardsPerSecond:e.leaderboards,b=m?"":"Total ",y=m?" /s":"",x=[{icon:l8,title:`Down Contribution${y}`,data:h.maxDownContrib,color:"red",statKey:"downContrib",higherIsBetter:!0},{icon:gd,title:`${b}Barrier${y}`,data:h.maxBarrier,color:"yellow",statKey:"barrier",higherIsBetter:!0},{icon:kO,title:`${b}Healing${y}`,data:h.maxHealing,color:"green",statKey:"healing",higherIsBetter:!0},{icon:g8,title:`${b}Dodges${y}`,data:h.maxDodges,color:"cyan",statKey:"dodges",higherIsBetter:!0},{icon:gp,title:`${b}Strips${y}`,data:h.maxStrips,color:"purple",statKey:"strips",higherIsBetter:!0},{icon:o8,title:`${b}Cleanses${y}`,data:h.maxCleanses,color:"blue",statKey:"cleanses",higherIsBetter:!0},{icon:s8,title:`${b}CC${y}`,data:h.maxCC,color:"pink",statKey:"cc",higherIsBetter:!0},{icon:CO,title:`${b}Stab Gen${y}`,data:h.maxStab,color:"cyan",statKey:"stability",higherIsBetter:!0},{icon:n8,title:"Closest to Tag",data:h.closestToTag,color:"indigo",unit:"dist",statKey:"closestToTag",higherIsBetter:!1}],w=S=>!m||!Number.isFinite(S)?o(S):s(S,2);return c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:x.map(S=>{var j,N,A,P;const B=a==="all",D=Aoe((v==null?void 0:v[S.statKey])||[],S.higherIsBetter),I=D[0],O=I?{...S.data,value:Number(I.value||0),player:I.account||((j=S.data)==null?void 0:j.player)||"-",count:I.count||((N=S.data)==null?void 0:N.count)||0,profession:I.profession||((A=S.data)==null?void 0:A.profession)||"Unknown",professionList:I.professionList||((P=S.data)==null?void 0:P.professionList)||[]}:S.data;return c.jsx(Coe,{...S,data:O,active:B,onClick:()=>i(H=>H==="all"?null:"all"),rows:D,formatValue:w,renderProfessionIcon:u},S.statKey)})})})()]}):null,Eoe=({stats:e,topSkillsMetric:t,onTopSkillsMetricChange:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>{const o=(t||e.topSkillsMetric)==="downContribution"?"downContribution":"damage",s=o==="downContribution",l=s?"Down Contrib":"Damage",u=o,d=Array.isArray(e.topSkillsByDamage)?e.topSkillsByDamage:null,f=Array.isArray(e.topSkillsByDownContribution)?e.topSkillsByDownContribution:null,p=g.useMemo(()=>s&&f?f:!s&&d?d:[...Array.isArray(e.topSkills)?e.topSkills:[]].sort((v,b)=>{const y=Number((v==null?void 0:v[u])||0);return Number((b==null?void 0:b[u])||0)-y||Number((b==null?void 0:b.hits)||0)-Number((v==null?void 0:v.hits)||0)||String((v==null?void 0:v.name)||"").localeCompare(String((b==null?void 0:b.name)||""))}),[s,d,f,e.topSkills,u]),m=g.useMemo(()=>Math.max(1,...p.map(v=>Number((v==null?void 0:v[u])||0))),[p,u]),h=typeof n=="function";return c.jsxs("div",{"data-section-visible":r("top-skills-outgoing"),"data-section-first":a("top-skills-outgoing"),className:i("top-skills-outgoing","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"),children:[c.jsxs("div",{id:"top-skills-outgoing","data-section-visible":r("top-skills-outgoing"),className:i("top-skills-outgoing","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(vk,{className:"top-skills-outgoing-icon w-5 h-5 text-orange-400"}),"Top Outgoing Skills"]}),c.jsx("div",{className:"text-xs text-gray-500 mt-1",children:l})]}),h&&c.jsx("div",{className:"pill-toggle-group flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"damage",label:"Damage"},{id:"downContribution",label:"Down Contrib"}].map(v=>{const b=(t||e.topSkillsMetric)===v.id;return c.jsx("button",{type:"button",onClick:()=>n==null?void 0:n(v.id),className:`pill-toggle-option px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${b?"pill-toggle-option--active bg-orange-500/30 text-orange-200":"text-gray-400 hover:text-white"}`,children:v.label},v.id)})})]}),c.jsxs("div",{className:"max-h-80 overflow-y-auto overflow-x-hidden space-y-4",children:[p.map((v,b)=>c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",b+1]}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm mb-1 py-0.5 leading-normal",children:[c.jsx("span",{className:"text-white font-bold flex-1 min-w-0 py-[1px]",children:c.jsx(xr,{name:v.name,iconUrl:v.icon,iconClassName:"h-6 w-6",className:"min-w-0",textClassName:"truncate leading-[1.5] pt-[1px] pb-[2px]"})}),c.jsxs("div",{className:"text-right shrink-0",children:[c.jsx("span",{className:"top-skills-outgoing-value text-orange-400 font-mono font-bold",children:Math.round(v[u]||0).toLocaleString()}),c.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",v.hits.toLocaleString()," hits)"]})]})]}),c.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:c.jsx("div",{className:"top-skills-outgoing-bar h-full bg-orange-500 rounded-full",style:{width:`${Number(v[u]||0)/m*100}%`}})})]})]},`outgoing-${v.name||"unknown"}-${b}`)),p.length===0&&c.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No skill data available"})]})]}),c.jsxs("div",{id:"top-skills-incoming","data-section-visible":r("top-skills-incoming"),className:i("top-skills-incoming","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[c.jsx("div",{className:"flex items-center justify-between mb-6",children:c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(QU,{className:"w-5 h-5 text-red-500"}),"Top Incoming Skills"]}),c.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Damage"})]})}),c.jsxs("div",{className:"max-h-80 overflow-y-auto overflow-x-hidden space-y-4",children:[(e.topIncomingSkills||[]).map((v,b)=>{var y;return c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",b+1]}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm mb-1 py-0.5 leading-normal",children:[c.jsx("span",{className:"text-white font-bold flex-1 min-w-0 py-[1px]",children:c.jsx(xr,{name:v.name,iconUrl:v.icon,iconClassName:"h-6 w-6",className:"min-w-0",textClassName:"truncate leading-[1.5] pt-[1px] pb-[2px]"})}),c.jsxs("div",{className:"text-right shrink-0",children:[c.jsx("span",{className:"text-red-400 font-mono font-bold",children:Math.round(v.damage).toLocaleString()}),c.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",v.hits.toLocaleString()," hits)"]})]})]}),c.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${v.damage/(((y=e.topIncomingSkills[0])==null?void 0:y.damage)||1)*100}%`}})})]})]},`incoming-${v.name||"unknown"}-${b}`)}),e.topIncomingSkills.length===0&&c.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No incoming damage data available"})]})]})]})},Doe=({sortedSquadClassData:e,sortedEnemyClassData:t,getProfessionIconPath:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>{const o=r("squad-composition");return c.jsxs("div",{id:"squad-composition","data-section-visible":o,"data-section-first":a("squad-composition"),className:i("squad-composition","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8 page-break-avoid"),children:[c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[c.jsx(Er,{className:"w-5 h-5 text-green-400"}),"Classes"]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[c.jsx("div",{className:"h-[240px] sm:h-full",children:c.jsx(Do,{width:"100%",height:"100%",children:c.jsxs(Jw,{children:[c.jsx(b0,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:e.map((s,l)=>c.jsx(Ad,{fill:s.color,stroke:"rgba(0,0,0,0.5)"},`cell-${l}`))}),c.jsx(Po,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-squad-pie-${o?"visible":"hidden"}`)}),c.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:c.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:e.map(s=>c.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[c.jsx("span",{className:"squad-comp-legend-swatch inline-block w-3 h-3 rounded-sm",style:{backgroundColor:s.color}}),n(s.name)?c.jsx("img",{src:n(s.name),alt:s.name,className:"w-4 h-4 shrink-0 object-contain"}):c.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),c.jsx("span",{className:"min-w-0 truncate",children:s.name}),c.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",s.value,")"]})]},s.name))})})]})]}),c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[c.jsx(ny,{className:"w-5 h-5 text-red-400"}),"Enemy Composition"]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[c.jsx("div",{className:"h-[240px] sm:h-full",children:c.jsx(Do,{width:"100%",height:"100%",children:c.jsxs(Jw,{children:[c.jsx(b0,{data:t,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:t.map((s,l)=>c.jsx(Ad,{fill:s.color,stroke:"rgba(0,0,0,0.5)"},`cell-${l}`))}),c.jsx(Po,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-enemy-pie-${o?"visible":"hidden"}`)}),c.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:c.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:t.map(s=>c.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[c.jsx("span",{className:"squad-comp-legend-swatch inline-block w-3 h-3 rounded-sm",style:{backgroundColor:s.color}}),n(s.name)?c.jsx("img",{src:n(s.name),alt:s.name,className:"w-4 h-4 shrink-0 object-contain"}):c.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),c.jsx("span",{className:"min-w-0 truncate",children:s.name}),c.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",s.value,")"]})]},s.name))})})]})]})]})},Poe=({timelineData:e,timelineFriendlyScope:t,setTimelineFriendlyScope:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>c.jsxs("div",{id:"timeline","data-section-visible":r("timeline"),"data-section-first":a("timeline"),className:i("timeline","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Er,{className:"w-5 h-5 text-green-400"}),"Squad vs Enemy Size"]}),c.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-widest text-gray-500",children:[c.jsx("span",{className:"text-gray-400",children:"Friendly Count"}),c.jsx("div",{className:"flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1",children:[{value:"squad",label:"Squad"},{value:"squadAllies",label:"Squad + Allies"}].map(o=>c.jsx("button",{type:"button",onClick:()=>n(o.value),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${t===o.value?"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40":"border border-transparent text-gray-400 hover:text-gray-200"}`,children:o.label},o.value))})]})]}),e.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-10",children:"No timeline data available"}):c.jsx("div",{className:"h-[260px] w-full",children:c.jsx(Do,{width:"100%",height:"100%",children:c.jsxs(Yl,{data:e,margin:{top:10,right:24,left:0,bottom:0},children:[c.jsx(Zs,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Qs,{dataKey:"index",tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"}}),c.jsx(Xs,{tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"},width:36}),c.jsx(Po,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},labelFormatter:(o,s)=>{var l;const u=(l=s==null?void 0:s[0])==null?void 0:l.payload,d=(u==null?void 0:u.isWin)===!0?"Win":(u==null?void 0:u.isWin)===!1?"Loss":"Unknown";return`${typeof(u==null?void 0:u.label)=="string"&&u.label.trim().length>0?u.label:`Log ${o}`}  ${d}`},formatter:(o,s)=>[o,s==="friendly"?t==="squad"?"Squad":"Squad + Allies":"Enemies"]}),c.jsx(li,{type:"monotone",dataKey:t==="squad"?"squadCount":"friendlyCount",name:"friendly",stroke:"#22c55e",strokeWidth:2,dot:{r:3,fill:"#22c55e"},activeDot:{r:5}}),c.jsx(li,{type:"monotone",dataKey:"enemies",stroke:"#ef4444",strokeWidth:2,dot:{r:3,fill:"#ef4444"},activeDot:{r:5}})]})})})]}),Toe=({mapData:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>c.jsxs("div",{id:"map-distribution","data-section-visible":t("map-distribution"),"data-section-first":n("map-distribution"),className:r("map-distribution","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[c.jsx(Sk,{className:"w-5 h-5 text-blue-400"}),"Map Distribution"]}),c.jsx("div",{className:"h-[260px] sm:h-[300px] w-full",children:c.jsx(Do,{width:"100%",height:"100%",children:c.jsxs(Jw,{children:[c.jsx(b0,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:5,dataKey:"value",children:e.map((a,i)=>c.jsx(Ad,{fill:a.color,stroke:"rgba(0,0,0,0.5)"},`cell-${i}`))}),c.jsx(Po,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}}),c.jsx(K4,{verticalAlign:"bottom",height:36,payload:e.map(a=>({id:a.name,type:"square",value:a.name,color:a.color,payload:a})),formatter:(a,i)=>c.jsxs("span",{className:"text-gray-300 font-medium ml-1",children:[a," ",c.jsxs("span",{className:"text-gray-500",children:["(",i.payload.value,")"]})]})})]})})})]}),Z5=({sectionId:e="spike-damage",title:t="Spike Damage",subtitle:n="Select one player to chart their highest damage burst per fight.",listTitle:r="Squad Players",searchPlaceholder:a="Search player or account",titleIconClassName:i="text-rose-300",expandedSection:o,expandedSectionClosing:s,openExpandedSection:l,closeExpandedSection:u,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:p,spikePlayerFilter:m,setSpikePlayerFilter:h,groupedSpikePlayers:v,spikeMode:b,setSpikeMode:y,damageBasis:x="all",setDamageBasis:w,showDamageBasisToggle:S=!1,selectedSpikePlayerKey:j,setSelectedSpikePlayerKey:N,selectedSpikePlayer:A,spikeChartData:P,spikeChartMaxY:B,selectedSpikeFightIndex:D,setSelectedSpikeFightIndex:I,spikeDrilldownTitle:O,spikeDrilldownData:H,spikeDrilldownDownIndices:J,spikeDrilldownDeathIndices:ie,spikeFightSkillRows:we=[],spikeFightSkillTitle:te="Skill Damage (Selected Fight)",formatWithCommas:q,renderProfessionIcon:W})=>{const[k,$]=g.useState(null),[T,C]=g.useState(null),R=Oe=>String(Oe||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),V=o===e,Q=A?Ls(A.profession):"#fda4af",ce=x==="downContribution",Y=b==="hit"?ce?"Highest Down Contribution":"Highest Damage":b==="1s"?"1s Burst":b==="5s"?"5s Burst":"30s Burst",L=Oe=>b==="hit"?ce?Oe.peakHitDown:Oe.peakHit:b==="1s"?ce?Oe.peak1sDown:Oe.peak1s:b==="5s"?ce?Oe.peak5sDown:Oe.peak5s:ce?Oe.peak30sDown:Oe.peak30s,z=v.flatMap(Oe=>Oe.players.map(oe=>({...oe,groupProfession:Oe.profession}))).sort((Oe,oe)=>{const Fe=L(oe)-L(Oe);return Fe!==0?Fe:Oe.displayName.localeCompare(oe.displayName)}),re=P.reduce((Oe,oe)=>!Oe||oe.damage>Oe.damage?oe:Oe,null),F=Oe=>{if(!Number.isFinite(Oe)||Oe<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(Oe))}catch{return""}},le=H.reduce((Oe,oe)=>Math.max(Oe,Number(oe.value||0)),0),ye=Math.max(1,le),K=new Set(J),me=new Set(ie),Te=H.map((Oe,oe)=>({...Oe,downMarker:K.has(oe)?Math.max(Number(Oe.value||0),ye*.88):null,deathMarker:me.has(oe)?Math.max(Number(Oe.value||0),ye*.96):null})),pt=Oe=>oe=>{const Fe=Number(oe==null?void 0:oe.cx),X=Number(oe==null?void 0:oe.cy),yt=Number(oe==null?void 0:oe.index);if(!Number.isFinite(Fe)||!Number.isFinite(X)||!Number.isFinite(yt))return null;const Ot=(oe==null?void 0:oe.payload)||{},zn=Oe==="down"?Ot==null?void 0:Ot.downMarker:Ot==null?void 0:Ot.deathMarker;if(!Number.isFinite(Number(zn)))return null;const Se=`${Oe}-${yt}`,Ze=k===Se,It=Oe==="down"?"#facc15":"#ef4444",rn=Oe==="down"?"#fde047":"#f87171";return c.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onMouseEnter:()=>{$(Se),C({x:Fe,y:X,kind:Oe,label:String((Ot==null?void 0:Ot.label)||"")})},onMouseLeave:()=>{$(on=>on===Se?null:on),C(on=>(on==null?void 0:on.kind)===Oe&&(on==null?void 0:on.label)===String((Ot==null?void 0:Ot.label)||"")?null:on)},children:[c.jsx("circle",{cx:Fe,cy:X,r:Ze?10:7,fill:rn,opacity:Ze?.35:.18}),c.jsx("circle",{cx:Fe,cy:X,r:Ze?7:5.5,fill:It,stroke:"#0f172a",strokeWidth:Ze?2.25:1.75})]})};return c.jsxs("div",{id:e,"data-section-visible":d(e),"data-section-first":f(e),className:p(e,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${V?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${s?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[c.jsxs("div",{className:V?"pr-10 md:pr-0":"",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(gp,{className:`w-5 h-5 ${i}`}),t]}),c.jsx("p",{className:"text-xs text-gray-400",children:n})]}),c.jsxs("div",{className:`flex items-center gap-3 ${V?"pr-10 md:pr-0":""}`,children:[S&&w&&c.jsx(Nn,{value:x,onChange:Oe=>w(Oe),options:[{value:"all",label:"Damage"},{value:"downContribution",label:"Down Contrib"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(Nn,{value:b,onChange:Oe=>y(Oe),options:[{value:"hit",label:"Highest Damage"},{value:"1s",label:"1s"},{value:"5s",label:"5s"},{value:"30s",label:"30s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx("button",{type:"button",onClick:()=>V?u():l(e),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${V?"absolute top-2 right-2 md:static":""}`,"aria-label":V?`Close ${t}`:`Expand ${t}`,title:V?"Close":"Expand",children:V?c.jsx(ma,{className:"w-4 h-4"}):c.jsx(Ca,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:r}),c.jsx("input",{type:"search",value:m,onChange:Oe=>h(Oe.target.value),placeholder:a,className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-rose-400 focus:outline-none"}),c.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:z.length===0?c.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No players match the filter."}):c.jsx("div",{className:"p-1.5 space-y-1",children:z.map(Oe=>{const oe=j===Oe.key;return c.jsx("button",{type:"button",onClick:()=>N(Oe.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${oe?"border-rose-300/60 bg-rose-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[W(Oe.profession,void 0,"w-3.5 h-3.5"),c.jsx("div",{className:"text-sm font-semibold truncate text-white",children:Oe.displayName}),c.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:Oe.groupProfession})]}),c.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[Oe.characterName||Oe.displayName,"  ",Oe.logs," ",Oe.logs===1?"fight":"fights"]})]}),c.jsx("div",{className:"text-xs font-mono text-rose-200 shrink-0",children:q(L(Oe)||0,0)})]})},Oe.key)})})})]}),c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:["Per Fight ",Y]}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[P.length," ",P.length===1?"fight":"fights"]})]}),c.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!A||P.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view burst values by fight."}):c.jsx(Do,{width:"100%",height:"100%",children:c.jsxs(Yl,{data:P,onClick:Oe=>{const oe=Number(Oe==null?void 0:Oe.activeTooltipIndex);Number.isFinite(oe)&&I(D===oe?null:oe)},children:[c.jsx(Zs,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Qs,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(Xs,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,B)],tickFormatter:Oe=>q(Oe,0)}),c.jsx(Po,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(Oe,oe)=>[q(Number(Oe||0),0),String(oe||"")],labelFormatter:(Oe,oe)=>{var Fe;const X=(Fe=oe==null?void 0:oe[0])==null?void 0:Fe.payload;if(!X)return"";const yt=R(X.fullLabel||"");return b==="hit"&&X.skillName?`${yt}  ${X.skillName}`:yt}}),c.jsx(li,{type:"monotone",dataKey:"damage",name:A.displayName,stroke:Q,strokeWidth:3,dot:Oe=>{var oe;const Fe=Number((oe=Oe==null?void 0:Oe.payload)==null?void 0:oe.index);if(!Number.isFinite(Fe))return null;const X=D===Fe;return c.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:yt=>{yt.stopPropagation(),I(X?null:Fe)},children:[c.jsx("circle",{cx:Oe.cx,cy:Oe.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),c.jsx("circle",{cx:Oe.cx,cy:Oe.cy,r:X?4:3,fill:Q,stroke:X?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:X?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),c.jsx(li,{type:"monotone",dataKey:"maxDamage",name:"Fight Max",stroke:"rgba(148,163,184,0.8)",strokeWidth:2,strokeDasharray:"6 4",dot:!1,activeDot:!1})]})})})]})]}),A&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Player"}),c.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[W(A.profession,A.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:A.displayName})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:b==="hit"?ce?"Peak Highest Skill Down Contribution":"Peak Highest Skill Damage":`Peak ${Y}`}),c.jsx("div",{className:"mt-1 text-lg font-black text-rose-200 font-mono",children:q(L(A)||0,0)})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:b==="hit"?"Peak Skill / Fight":"Peak Fight"}),c.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const Oe=R((re==null?void 0:re.fullLabel)||A.peakFightLabel||"N/A"),oe=F(Number((re==null?void 0:re.timestamp)||0)),Fe=oe?`${oe} - ${Oe}`:Oe;return b!=="hit"?Fe:A.peakSkillName?`${A.peakSkillName}  ${Fe}`:Fe})()})]})]}),A&&D!==null&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:O}),c.jsx("button",{type:"button",onClick:()=>I(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),c.jsx("div",{className:"h-[220px] relative",children:H.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):c.jsxs(c.Fragment,{children:[c.jsx(Do,{width:"100%",height:"100%",children:c.jsxs(Yl,{data:Te,children:[c.jsx(Zs,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Qs,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(Xs,{tick:{fill:"#e2e8f0",fontSize:10},tickFormatter:Oe=>q(Oe,0)}),c.jsx(Po,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(Oe,oe)=>{const Fe=String(oe||"");return Fe==="Down"?["Downed","Event"]:Fe==="Death"?["Dead","Event"]:[q(Number(Oe||0),0),"Damage"]},labelFormatter:Oe=>String(Oe||"")}),c.jsx(li,{type:"monotone",dataKey:"value",name:"Damage",stroke:Q,strokeWidth:2.5,dot:b==="hit"?{r:2}:!1,activeDot:{r:4}}),c.jsx(li,{type:"linear",dataKey:"downMarker",name:"Down",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:pt("down")}),c.jsx(li,{type:"linear",dataKey:"deathMarker",name:"Death",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:pt("death")})]})}),T&&c.jsxs("div",{className:"pointer-events-none absolute z-20 rounded-md border border-white/15 bg-[#101722] px-2 py-1 text-xs shadow-xl",style:{left:`${Math.max(8,T.x)}px`,top:`${Math.max(8,T.y-38)}px`,transform:"translate(-50%, -100%)"},children:[c.jsx("div",{className:`${T.kind==="down"?"text-yellow-300":"text-red-300"} font-semibold`,children:T.kind==="down"?"Down":"Death"}),c.jsx("div",{className:"text-gray-300",children:T.label})]})]})})]}),A&&D!==null&&c.jsx("div",{className:`mt-4 transition-all duration-300 ${we.length>0?"opacity-100 translate-y-0":"opacity-90"}`,children:(()=>{const Oe=Fe=>Number(ce?Fe.downContribution||0:Fe.damage||0),oe=[...we].filter(Fe=>Oe(Fe)>0).sort((Fe,X)=>Oe(X)-Oe(Fe)||Number(X.hits||0)-Number(Fe.hits||0)).slice(0,30);return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:te}),c.jsxs("div",{className:"text-[10px] uppercase tracking-[0.2em] text-gray-500",children:[oe.length," ",oe.length===1?"skill":"skills"]})]}),oe.length===0?c.jsx("div",{className:"text-xs text-gray-500 italic py-4",children:"No skill-level breakdown available for this fight."}):c.jsxs("div",{className:"incoming-skill-table-container rounded-lg border border-white/10 bg-black/35 overflow-hidden",children:[c.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2 text-[10px] uppercase tracking-[0.25em] text-gray-400 border-b border-white/10",children:[c.jsx("div",{children:"Skill"}),c.jsx("div",{className:"text-right",children:ce?"Down Contrib":"Damage"}),c.jsx("div",{className:"text-right",children:"Hits"})]}),c.jsx("div",{className:"max-h-[260px] overflow-y-auto",children:oe.map((Fe,X)=>c.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2.5 text-sm text-gray-200 border-b border-white/[0.05] last:border-b-0",children:[c.jsxs("div",{className:"min-w-0 flex items-center gap-2",children:[Fe.icon?c.jsx("img",{src:Fe.icon,alt:"",loading:"lazy",className:"w-4 h-4 rounded-sm border border-white/[0.16] bg-black/40 flex-shrink-0"}):c.jsx("div",{className:"w-4 h-4 rounded-sm border border-white/[0.14] bg-white/[0.06] flex-shrink-0"}),c.jsx("div",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",title:Fe.skillName,children:Fe.skillName})]}),c.jsx("div",{className:"text-right font-mono text-rose-200",children:q(Number(ce?Fe.downContribution||0:Fe.damage||0),0)}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:q(Number(Fe.hits||0),0)})]},`${Fe.skillName}-${X}`))})]})]})})()})]})},Ooe=10,Nh=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),a=t%60;return n>0?`${n}h ${String(r).padStart(2,"0")}m`:r>0?`${r}m ${String(a).padStart(2,"0")}s`:`${a}s`},Q5=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3));return String(t)},Ioe=e=>{const t=e.replace(/\r?\n/g," ").trim();return/[",\n]/.test(t)?`"${t.replace(/"/g,'""')}"`:t},_oe=({attendanceRows:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:a})=>{const[i,o]=g.useState(""),[s,l]=g.useState("squad"),[u,d]=g.useState("desc"),f=i.trim().toLowerCase(),p=g.useMemo(()=>{const b=e.filter(x=>{if(!f)return!0;const w=String(x.account||"").toLowerCase(),S=(x.characterNames||[]).join(" ").toLowerCase(),j=(x.classTimes||[]).map(N=>String(N.profession||"").toLowerCase()).join(" ");return w.includes(f)||S.includes(f)||j.includes(f)}),y=x=>Number(s==="fight"?x.combatTimeMs??x.squadTimeMs??0:x.squadTimeMs??0);return[...b].sort((x,w)=>{const S=y(w)-y(x);return S!==0?u==="desc"?S:-S:String(x.account||"").localeCompare(String(w.account||""))})},[e,f,u,s]),m=b=>{if(s===b){d(y=>y==="desc"?"asc":"desc");return}l(b),d("desc")},h=p.length>Ooe,v=()=>{const b=["Account","Characters","Classes Played","Total Fight Time (seconds)","Total Squad Time (seconds)"],y=p.map(A=>{const P=(A.classTimes||[]).map(B=>`${B.profession} (${Nh(B.timeMs)})`).join("; ");return[A.account||"",(A.characterNames||[]).join(", "),P,Q5(Number(A.combatTimeMs??A.squadTimeMs??0)),Q5(A.squadTimeMs)]}),x=[b,...y].map(A=>A.map(P=>Ioe(String(P??""))).join(",")).join(`
`),w=new Blob([x],{type:"text/csv;charset=utf-8;"}),S=URL.createObjectURL(w),j=document.createElement("a"),N=new Date().toISOString().slice(0,19).replace(/[:T]/g,"-");j.href=S,j.download=`attendance-ledger-${N}.csv`,document.body.appendChild(j),j.click(),document.body.removeChild(j),URL.revokeObjectURL(S)};return c.jsx("section",{id:"attendance-ledger","data-section-visible":n("attendance-ledger"),"data-section-first":r("attendance-ledger"),className:a("attendance-ledger","mb-8 page-break-avoid"),children:c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(hp,{className:"w-5 h-5 text-amber-300"}),"Attendance Ledger"]}),c.jsxs("span",{className:"inline-flex items-center rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] uppercase tracking-widest text-gray-300",children:[e.length," Joined"]})]}),c.jsxs("div",{className:"flex w-full sm:w-auto items-center gap-2",children:[c.jsx("input",{value:i,onChange:b=>o(b.target.value),placeholder:"Search account, character, or class...",className:"w-full sm:w-[320px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"}),c.jsxs("button",{type:"button",onClick:v,className:"inline-flex items-center gap-1.5 rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-xs text-gray-200 hover:text-white hover:border-white/30 transition-colors whitespace-nowrap",children:[c.jsx(a8,{className:"w-3.5 h-3.5"}),"Export CSV"]})]})]}),e.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No attendance data available."}):c.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${h?"max-h-[30rem] overflow-y-auto":""}`,children:c.jsxs("table",{className:"w-full text-xs table-auto min-w-full border-separate border-spacing-0",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[c.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Account"}),c.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Character(s)"}),c.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Classes Played"}),c.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:c.jsxs("button",{type:"button",onClick:()=>m("fight"),className:`transition-colors whitespace-nowrap ${s==="fight"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Fight Time",s==="fight"?u==="desc"?" ":" ":""]})}),c.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:c.jsxs("button",{type:"button",onClick:()=>m("squad"),className:`transition-colors whitespace-nowrap ${s==="squad"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Squad Time",s==="squad"?u==="desc"?" ":" ":""]})})]})}),c.jsxs("tbody",{children:[p.map(b=>c.jsxs("tr",{className:"border-t border-white/5 align-top hover:bg-white/5",children:[c.jsx("td",{className:"py-2 px-4 text-gray-100 font-medium whitespace-nowrap",children:b.account}),c.jsx("td",{className:"py-2 px-4 text-gray-300",children:b.characterNames.length>0?b.characterNames.join(", "):"-"}),c.jsx("td",{className:"py-2 px-4",children:c.jsx("div",{className:"flex flex-wrap gap-1.5",children:b.classTimes.length>0?b.classTimes.map(y=>c.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] text-gray-200",children:[t(y.profession)?c.jsx("img",{src:t(y.profession),alt:y.profession,className:"w-3.5 h-3.5 object-contain"}):null,c.jsx("span",{children:y.profession}),c.jsx("span",{className:"text-gray-400",children:Nh(y.timeMs)})]},`${b.account}-${y.profession}`)):c.jsx("span",{className:"text-gray-500",children:"-"})})}),c.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:Nh(Number(b.combatTimeMs??b.squadTimeMs??0))}),c.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:Nh(b.squadTimeMs)})]},b.account)),p.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"py-6 text-center text-gray-500 italic",children:"No attendance rows match your search."})})]})]})})]})})},Loe=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},Foe=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:a})=>{const[i,o]=g.useState(null),[s,l]=g.useState(""),u=s.trim().toLowerCase(),d=du("svg/commander_tag.svg");g.useEffect(()=>{if(e.length===0){i!==null&&o(null);return}(!i||!e.some(m=>m.id===i))&&o(e[0].id)},[e,i]);const f=g.useMemo(()=>e.find(m=>m.id===i)||null,[e,i]),p=m=>{if(!u)return!1;const h=String(m.account||"").toLowerCase(),v=String(m.characterName||"").toLowerCase(),b=String(m.profession||"").toLowerCase();return h.includes(u)||v.includes(u)||b.includes(u)};return c.jsx("section",{id:"squad-comp-fight","data-section-visible":n("squad-comp-fight"),"data-section-first":r("squad-comp-fight"),className:a("squad-comp-fight","mb-8 page-break-avoid"),children:c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 squad-comp-shell",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[c.jsx(Er,{className:"w-5 h-5 text-cyan-300"}),"Squad Comp By Fight"]}),c.jsx("div",{className:"mb-4",children:c.jsx("input",{value:s,onChange:m=>l(m.target.value),placeholder:"Search player or class (highlight matches)...",className:"w-full sm:w-[360px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"})}),e.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No squad composition data available."}):c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[c.jsxs("aside",{className:"squad-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),c.jsx("div",{className:"space-y-1 pr-1 max-h-[560px] xl:max-h-[720px] overflow-y-auto",children:e.map(m=>{const h=m.id===i;return c.jsxs("button",{onClick:()=>o(m.id),className:`squad-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${h?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100 squad-comp-fight-nav-item--active":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[c.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:m.label}),c.jsx("div",{className:"text-xs font-semibold truncate",children:m.mapName||"Unknown Map"}),c.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[m.duration||"--:--","  ",Loe(m.timestamp)]})]},m.id)})})]}),c.jsx("div",{className:"rounded-xl border border-white/10 bg-gradient-to-b from-slate-950/55 to-slate-900/45 p-3 squad-comp-board",children:f?c.jsx("div",{className:"space-y-2.5",children:f.parties.map(m=>c.jsxs("div",{className:"squad-comp-party-row grid grid-cols-[40px_minmax(0,1fr)] gap-2 rounded-xl border border-white/10 bg-black/25 p-2",children:[c.jsxs("div",{className:"squad-comp-party-badge rounded-lg border border-white/15 bg-slate-900/80 text-center py-2",children:[c.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-500",children:"P"}),c.jsx("div",{className:"text-base font-bold text-gray-100 leading-none",children:m.party>0?m.party:"-"})]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-1 min-w-0",children:m.players.map((h,v)=>(()=>{const b=p(h);return c.jsxs("div",{className:`squad-comp-player-tile rounded-md border border-emerald-300/20 bg-gradient-to-b from-emerald-500/30 to-emerald-700/25 px-2 py-1.5 min-w-0 transition-all ${b?"ring-2 ring-cyan-300/70 border-cyan-300/60 shadow-[0_0_20px_rgba(34,211,238,0.25)]":""} ${h.isCommander?"relative overflow-hidden":""}`,children:[h.isCommander?c.jsx("img",{src:d,alt:"","aria-hidden":"true",className:"absolute -right-2 -bottom-2 w-12 h-12 object-contain opacity-20 brightness-75 pointer-events-none"}):null,c.jsxs("div",{className:"grid grid-cols-[18px_minmax(0,1fr)] grid-rows-2 gap-x-2 items-center min-w-0",children:[c.jsx("div",{className:"row-span-2 flex items-center justify-center",children:t(h.profession)?c.jsx("img",{src:t(h.profession),alt:h.profession,className:"squad-comp-player-icon w-5 h-5 object-contain shrink-0 opacity-95"}):c.jsx("span",{className:"squad-comp-player-icon inline-block w-5 h-5 rounded-sm border border-white/15"})}),c.jsx("div",{className:"squad-comp-player-account text-[11px] font-semibold text-emerald-50 truncate min-w-0 flex items-center gap-1",title:h.account,children:c.jsx("span",{className:"truncate min-w-0",children:h.account})}),c.jsx("div",{className:"squad-comp-player-character text-[10px] text-emerald-100/80 truncate min-w-0",title:h.characterName||"Unknown",children:h.characterName||"Unknown"})]})]},`${f.id}-${m.party}-${h.account}-${v}`)})())})]},`${f.id}-party-${m.party}`))}):c.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},Roe=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},$oe=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:a})=>{const[i,o]=g.useState(null);g.useEffect(()=>{if(e.length===0){i!==null&&o(null);return}(!i||!e.some(u=>u.id===i))&&o(e[0].id)},[e,i]);const s=g.useMemo(()=>e.find(u=>u.id===i)||null,[e,i]),l=g.useMemo(()=>s!=null&&s.enemyClassCounts?Object.entries(s.enemyClassCounts).map(([u,d])=>({profession:u,count:Number(d||0)})).filter(u=>u.count>0).sort((u,d)=>d.count-u.count||u.profession.localeCompare(d.profession)):[],[s]);return c.jsx("section",{id:"fight-comp","data-section-visible":n("fight-comp"),"data-section-first":r("fight-comp"),className:a("fight-comp","mb-8 page-break-avoid"),children:c.jsxs("div",{className:"fight-comp-shell bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[c.jsx(Tl,{className:"w-5 h-5 text-cyan-300"}),"Fight Comp"]}),e.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight composition data available."}):c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[c.jsxs("aside",{className:"fight-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 self-start",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),c.jsx("div",{className:"space-y-1 pr-1 max-h-[320px] overflow-y-auto",children:e.map(u=>{const d=u.id===i;return c.jsxs("button",{onClick:()=>o(u.id),className:`fight-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${d?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[c.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:u.label}),c.jsx("div",{className:"text-xs font-semibold truncate",children:u.mapName||"Unknown Map"}),c.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[u.duration||"--:--","  ",Roe(u.timestamp)]})]},u.id)})})]}),c.jsx("div",{className:"fight-comp-board rounded-xl border border-white/10 bg-black/30 p-2.5 overflow-hidden",children:s?c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[minmax(0,1fr)_minmax(0,0.78fr)] gap-2.5 min-w-0",children:[c.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[c.jsx("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Squad Parties"}),c.jsx("div",{className:"p-2 rounded-lg border border-white/10 bg-white/[0.03] divide-y divide-white/10",children:s.parties.map(u=>{const d=Array.isArray(u.players)&&u.players.length>0?u.players.map(f=>({profession:String((f==null?void 0:f.profession)||"Unknown"),account:String((f==null?void 0:f.account)||""),characterName:String((f==null?void 0:f.characterName)||"")})).filter(f=>f.profession&&f.profession!=="Unknown").sort((f,p)=>f.profession.localeCompare(p.profession)||f.characterName.localeCompare(p.characterName)||f.account.localeCompare(p.account)):Object.entries(u.classCounts||{}).flatMap(([f,p])=>Array.from({length:Math.max(0,Number(p||0))},()=>({profession:String(f),account:"",characterName:""}))).filter(f=>f.profession&&f.profession!=="Unknown").sort((f,p)=>f.profession.localeCompare(p.profession));return c.jsxs("div",{className:"fight-comp-row grid grid-cols-[36px_minmax(0,1fr)] gap-1.5 items-center px-1.5 py-1 first:pt-0 last:pb-0",children:[c.jsx("div",{className:"fight-comp-party-badge text-[10px] font-semibold uppercase tracking-widest text-gray-300 text-center rounded-md border border-white/10 bg-black/20 py-0.5",children:u.party>0?`P${u.party}`:"Unk"}),c.jsx("div",{className:"flex flex-wrap gap-x-1.5 gap-y-1",children:d.length>0?d.map((f,p)=>c.jsx("span",{title:f.characterName||f.account?`${f.profession}  ${f.characterName||"Unknown"} (${f.account||"Unknown"})`:f.profession,className:"fight-comp-class-icon fight-comp-class-icon--squad inline-flex items-center justify-center",children:t(f.profession)?c.jsx("img",{src:t(f.profession),alt:f.profession,className:"w-3.5 h-3.5 object-contain"}):c.jsx("span",{className:"inline-block w-3.5 h-3.5 rounded-sm border border-white/15"})},`${s.id}-party-${u.party}-${f.profession}-${f.account||f.characterName||p}-${p}`)):c.jsx("span",{className:"text-gray-500 text-[11px]",children:"-"})})]},`${s.id}-party-${u.party}`)})})]}),c.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[c.jsx("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Enemy Classes"}),c.jsx("div",{className:"p-2",children:l.length>0?c.jsx("div",{className:"flex flex-wrap gap-1",children:l.map(u=>c.jsxs("div",{className:"fight-comp-row inline-flex items-center gap-1 rounded-lg border border-white/10 bg-white/[0.03] px-1.5 py-0.5",children:[c.jsx("span",{className:"fight-comp-class-icon inline-flex items-center justify-center rounded-md border border-white/10 bg-black/20 px-1 py-0.5",title:u.profession,children:t(u.profession)?c.jsx("img",{src:t(u.profession),alt:u.profession,className:"w-3 h-3 object-contain"}):c.jsx("span",{className:"inline-block w-3 h-3 rounded-sm border border-white/15"})}),c.jsx("span",{className:"text-[10px] font-mono text-gray-200",children:u.count})]},`${s.id}-enemy-${u.profession}`))}):c.jsx("div",{className:"py-6 text-center text-gray-500 italic text-sm",children:"No enemy class data"})})]})]}):c.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},Boe=({embedded:e,dashboardTitle:t,totalLogs:n,onBack:r,devMockAvailable:a,devMockUploadState:i,onDevMockUpload:o,uploadingWeb:s,onWebUpload:l,sharing:u,canShareDiscord:d,onShare:f})=>{const p=u||!d,m=d?"":"Select a Discord webhook to enable sharing.";return c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-3 shrink-0 px-2",children:[c.jsxs("div",{className:"flex items-start gap-3 sm:items-center sm:gap-4",children:[!e&&c.jsx("button",{onClick:r,className:"p-2 rounded-full bg-white/5 border border-white/10 hover:bg-white/10 transition-colors text-gray-400 hover:text-white",children:c.jsx(SO,{className:"w-6 h-6"})}),c.jsxs("div",{className:"space-y-0",children:[c.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-white flex items-center gap-2",children:[c.jsx(Uc,{className:"w-6 h-6 text-yellow-500"}),t||"Statistics Dashboard"]}),c.jsxs("p",{className:"text-gray-400 text-[11px] sm:text-xs",children:["Performance across ",n," uploaded logs"]})]})]}),!e&&c.jsxs("div",{className:"flex items-center gap-3",children:[a&&c.jsxs("button",{onClick:o,disabled:i.uploading,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 bg-amber-500/15 text-amber-200 border border-amber-500/30 hover:bg-amber-500/25",children:[c.jsx(ry,{className:"w-4 h-4"}),i.uploading?"Building...":"Dev Mock Upload"]}),c.jsxs("button",{onClick:l,disabled:s,className:"stats-action-upload flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:[c.jsx(h8,{className:"w-4 h-4"}),s?"Uploading...":"Upload to Web"]}),c.jsxs("div",{className:"relative group",title:m,children:[c.jsxs("button",{onClick:f,disabled:p,"aria-disabled":p,className:"stats-action-discord flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(f8,{className:"w-4 h-4"}),u?"Sharing...":"Share to Discord"]}),!d&&c.jsx("div",{className:"stats-share-tooltip pointer-events-none absolute right-0 top-full mt-2 w-56 rounded-md border border-white/10 bg-black/90 px-2 py-1 text-[11px] text-gray-200 opacity-0 shadow-lg transition-opacity group-hover:opacity-100 z-50",children:"Select a Discord webhook to enable sharing."})]})]})]})},zoe=({embedded:e,webUploadMessage:t,webUploadUrl:n,webUploadBuildStatus:r,webCopyStatus:a,setWebCopyStatus:i})=>{if(e||!t)return null;const o=n||t.replace(/^Uploaded:\s*/i,"").trim(),[s,l]=g.useState("idle"),u=(()=>{if(!o)return null;try{const d=new URL(o),f=d.searchParams.get("report");if(!f||!d.hostname.endsWith("github.io"))return null;const p=d.pathname.match(/^\/([^/]+\.github\.io)(\/|$)/i),m=(p==null?void 0:p[1])||"";return!m||m.toLowerCase()!==d.hostname.toLowerCase()?null:`${d.origin}/?report=${f}`}catch{return null}})();return c.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[c.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[c.jsx("span",{className:"uppercase tracking-widest text-[10px] text-cyan-300/70",children:"Uploaded"}),c.jsx("button",{onClick:()=>{var d;o&&(d=window.electronAPI)!=null&&d.openExternal&&window.electronAPI.openExternal(o)},className:"text-cyan-200 hover:text-cyan-100 underline underline-offset-2",children:o}),r!=="idle"&&c.jsxs("span",{className:`ml-2 text-[10px] px-2 py-0.5 rounded-full border inline-flex items-center gap-1 ${r==="built"?"bg-emerald-500/20 text-emerald-300 border-emerald-500/40":r==="errored"?"bg-red-500/20 text-red-300 border-red-500/40":r==="unknown"?"bg-white/5 text-gray-400 border-white/10":"bg-cyan-500/20 text-cyan-200 border-cyan-500/40"}`,children:[(r==="checking"||r==="building")&&c.jsx(u8,{className:"w-3 h-3 animate-spin"}),r==="built"&&c.jsx(NO,{className:"w-3 h-3"}),r==="errored"&&c.jsx(AO,{className:"w-3 h-3"}),r==="built"?"Build ready":r==="errored"?"Build failed":r==="unknown"?"Build status unknown":"Building"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>{o&&(navigator.clipboard.writeText(o),i("copied"),setTimeout(()=>i("idle"),1200))},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:a==="copied"?"Copied":"Copy URL"}),u&&c.jsx("button",{onClick:()=>{navigator.clipboard.writeText(u),l("copied"),setTimeout(()=>l("idle"),1200)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:s==="copied"?"Copied":"Copy Short"})]})]})},Uoe=({embedded:e,devMockAvailable:t,devMockUploadState:n})=>e||!t||!n.message?null:c.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[c.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[c.jsx("span",{className:"uppercase tracking-widest text-[10px] text-amber-300/70",children:"Dev Mock"}),n.url?c.jsx("button",{onClick:()=>{var r;const a=n.url;a&&(r=window.electronAPI)!=null&&r.openExternal&&window.electronAPI.openExternal(a)},className:"text-amber-200 hover:text-amber-100 underline underline-offset-2",children:n.url}):c.jsx("span",{className:"text-gray-300",children:n.message})]}),n.url&&c.jsx("button",{onClick:()=>{var r;const a=n.url;a&&(r=window.electronAPI)!=null&&r.openExternal&&window.electronAPI.openExternal(a)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:"Open in Browser"})]}),Yo="space-y-1 pr-1 max-h-72 overflow-y-auto",Voe=new Set(["Vulnerability","Weakness","Blind","Chill","Cripple","Slow","Taunt","Fear","Immobilize"]),Woe=["overview","fight-breakdown","top-players","top-skills-outgoing","squad-composition","attendance-ledger","squad-comp-fight","fight-comp","timeline","map-distribution","boon-output","boon-timeline","boon-uptime","offense-detailed","player-breakdown","damage-breakdown","spike-damage","conditions-outgoing","defense-detailed","incoming-strike-damage","support-detailed","healing-stats","fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],X5={logRecords:[],players:[],skillOptions:[],resUtilitySkills:[]},jb=[];function qoe({logs:e,onBack:t,mvpWeights:n,statsViewSettings:r,onStatsViewSettingsChange:a,webUploadState:i,onWebUpload:o,disruptionMethod:s,precomputedStats:l,embedded:u=!1,sectionVisibility:d,dashboardTitle:f,uiTheme:p,canShareDiscord:m=!0,statsDataProgress:h,aggregationResult:v}){var b,y;const x=n||TO,w=r||Gx,S=i||_8,j=w.showTopStats,N=w.showMvp,A=w.roundCountStats,P=w.topStatsMode||"total",[B,D]=g.useState(w.topSkillsMetric||"damage"),I=(a?w.topSkillsMetric:B)||"damage",O=S.uploading,H=S.message,J=S.url,ie=S.buildStatus,we=!u&&!1,[te,q]=g.useState(!0),W=g.useCallback(M=>d?d(M):!0,[d]),k=!!v,{result:$,aggregationProgress:T,aggregationDiagnostics:C}=zV({logs:k?[]:e,precomputedStats:k?void 0:l,mvpWeights:n,statsViewSettings:r,disruptionMethod:s}),R=v||$,V=(v==null?void 0:v.aggregationProgress)||T,Q=(v==null?void 0:v.aggregationDiagnostics)||C,{stats:ce,skillUsageData:Y}=R,L=g.useMemo(()=>{const M=Math.max(0,Number((h==null?void 0:h.total)||e.length||0)),_=Math.min(M,Math.max(0,Number((h==null?void 0:h.pending)||0))),ne=Math.min(M,Math.max(0,Number((h==null?void 0:h.processed)||M-_))),ue=Math.max(0,Number((h==null?void 0:h.unavailable)||0));if(h!=null&&h.active&&M>0&&_>0){const Je=M>0?Math.max(1,Math.min(99,Math.round(ne/M*100))):0,Rt=ue>0?`  ${ue} unavailable`:"";return{active:!0,phaseLabel:"Loading fight details",progressText:`${ne} of ${M} fights prepared${Rt}`,progressPercent:Je}}if(M>0&&ue>=M)return{active:!0,phaseLabel:"Fight details unavailable",progressText:`${ue} of ${M} fights could not be loaded from dps.report`,progressPercent:100};if(M>0&&e.length===0)return{active:!0,phaseLabel:"Preparing fights for stats",progressText:"Syncing uploaded fights into the stats dashboard",progressPercent:5};const fe=Math.max(0,Number((V==null?void 0:V.total)||e.length||0));if(!(V!=null&&V.active&&(V==null?void 0:V.phase)!=="idle"&&(V==null?void 0:V.phase)!=="settled"&&fe>0))return{active:!1,phaseLabel:"",progressText:"",progressPercent:0};const et=Math.min(Math.max(Number((V==null?void 0:V.streamed)||0),0),fe),ee=(V==null?void 0:V.phase)==="streaming"?"Loading fight data":"Finalizing squad stats",Ne=(V==null?void 0:V.phase)==="streaming"?`${et} of ${fe} fights loaded`:"All fights loaded  calculating final totals",ft=(V==null?void 0:V.phase)==="streaming"?Math.max(1,Math.min(99,Math.round(et/fe*100))):99;return{active:!0,phaseLabel:ee,progressText:Ne,progressPercent:ft}},[h,V,e.length]),z=g.useMemo(()=>{if(!Q)return"";const M=ue=>{const fe=Math.max(0,Number(ue||0));return fe>=1e4?`${(fe/1e3).toFixed(1)}s`:fe>=1e3?`${(fe/1e3).toFixed(2)}s`:`${Math.round(fe)}ms`},_=[`Load ${M(Q.streamMs)}`,`Calculate ${M(Q.computeMs)}`,`Total ${M(Q.totalMs)}`],ne=Q.transferStripStats;if(Q.mode==="worker"&&ne){const ue=Number(ne.spikeSkillRowsRemoved||0),fe=Number(ne.incomingSkillRowsRemoved||0),et=Number(ne.playerSkillMapsRemoved||0),ee=ue+fe+et;ee>0&&_.push(`Cleaned up ${ee.toLocaleString()} temporary records`)}return Q.mode==="worker"&&Number(Q.droppedLogMessages||0)>0&&_.push(`Skipped ${Number(Q.droppedLogMessages||0)} outdated updates`),_.join("  ")},[Q]),re=L.active,F=L.phaseLabel,le=L.progressText,ye=re&&L.progressPercent<100;g.useEffect(()=>{if(re){q(!1);return}let M=!1;const _=()=>{M||q(!0)},ne=window.requestIdleCallback;let ue=null;return typeof ne=="function"?ue=ne(()=>_(),{timeout:220}):ue=window.setTimeout(_,60),()=>{if(M=!0,ue!==null)if(typeof ne=="function"){const fe=window.cancelIdleCallback;typeof fe=="function"&&fe(ue)}else window.clearTimeout(ue)}},[re]);const K=te&&!re,me=K&&(W("top-skills-outgoing")||W("player-breakdown")||W("damage-breakdown")),Te=K&&W("skill-usage"),pt=K&&W("apm-stats"),Oe=K&&W("spike-damage"),oe=K&&W("incoming-strike-damage"),Fe=K&&W("conditions-outgoing"),X=g.useMemo(()=>{var M,_,ne,ue,fe,et;const ee=ce&&typeof ce=="object"?ce:{},Ne=Gt=>Array.isArray(Gt)?Gt:[],ft=Gt=>Gt&&typeof Gt=="object"?Gt:{},Je=(Gt,zt)=>Gt&&typeof Gt=="object"?Gt:zt,Rt={value:0,player:"-",profession:"Unknown",professionList:[],count:0},pn={account:"-",profession:"Unknown",professionList:[],reason:"",topStats:[],score:0},wt={...ee,total:Number(ee.total||0),timelineData:Ne(ee.timelineData),mapData:Ne(ee.mapData),fightBreakdown:Ne(ee.fightBreakdown),topSkills:Ne(ee.topSkills),topIncomingSkills:Ne(ee.topIncomingSkills),leaderboards:ft(ee.leaderboards),topStatsPerSecond:ft(ee.topStatsPerSecond),topStatsLeaderboardsPerSecond:ft(ee.topStatsLeaderboardsPerSecond),maxDownContrib:Je(ee.maxDownContrib,Rt),maxBarrier:Je(ee.maxBarrier,Rt),maxHealing:Je(ee.maxHealing,Rt),maxDodges:Je(ee.maxDodges,Rt),maxStrips:Je(ee.maxStrips,Rt),maxCleanses:Je(ee.maxCleanses,Rt),maxCC:Je(ee.maxCC,Rt),maxStab:Je(ee.maxStab,Rt),closestToTag:Je(ee.closestToTag,Rt),mvp:{...pn,...ft(ee.mvp),topStats:Ne((M=ee==null?void 0:ee.mvp)==null?void 0:M.topStats)},silver:Je(ee.silver,pn),bronze:Je(ee.bronze,pn),avgMvpScore:Number(ee.avgMvpScore||0),offensePlayers:Ne(ee.offensePlayers),defensePlayers:Ne(ee.defensePlayers),damageMitigationPlayers:Ne(ee.damageMitigationPlayers),damageMitigationMinions:Ne(ee.damageMitigationMinions),supportPlayers:Ne(ee.supportPlayers),healingPlayers:Ne(ee.healingPlayers),boonTables:Ne(ee.boonTables),boonTimeline:Ne(ee.boonTimeline),boonUptimeTimeline:Ne(ee.boonUptimeTimeline),specialTables:Ne(ee.specialTables),outgoingConditionSummary:Ne(ee.outgoingConditionSummary),outgoingConditionPlayers:Ne(ee.outgoingConditionPlayers),incomingConditionSummary:Ne(ee.incomingConditionSummary),incomingConditionPlayers:Ne(ee.incomingConditionPlayers),squadClassData:Ne(ee.squadClassData),enemyClassData:Ne(ee.enemyClassData),attendanceData:Ne(ee.attendanceData),squadCompByFight:Ne(ee.squadCompByFight),fightDiffMode:Ne(ee.fightDiffMode),playerSkillBreakdowns:Ne(ee.playerSkillBreakdowns)},$t=Ne((_=wt.leaderboards)==null?void 0:_.downContrib).map(Gt=>({...Gt,value:Number((Gt==null?void 0:Gt.value)??0)})).filter(Gt=>Number.isFinite(Gt.value)).sort((Gt,zt)=>zt.value-Gt.value||String((Gt==null?void 0:Gt.account)||"").localeCompare(String((zt==null?void 0:zt.account)||"")))[0];return $t&&(wt.maxDownContrib={...wt.maxDownContrib||{},value:Number($t.value||0),player:String($t.account||((ne=wt.maxDownContrib)==null?void 0:ne.player)||"-"),count:Number($t.count||((ue=wt.maxDownContrib)==null?void 0:ue.count)||0),profession:String($t.profession||((fe=wt.maxDownContrib)==null?void 0:fe.profession)||"Unknown"),professionList:Array.isArray($t.professionList)?$t.professionList:((et=wt.maxDownContrib)==null?void 0:et.professionList)||[]}),wt},[ce]);g.useEffect(()=>{var M;if(!((M=window==null?void 0:window.electronAPI)!=null&&M.fetchImageAsDataUrl)||re)return;let _=!1;const ne=()=>{if(_)return;const et=new Set,ee=ft=>{typeof ft=="string"&&/^https?:\/\//i.test(ft)&&et.add(ft)},Ne=ft=>{ft.forEach(Je=>{ee(Je==null?void 0:Je.icon),ee(Je==null?void 0:Je.iconUrl)})};Ne(Array.isArray(X==null?void 0:X.topSkills)?X.topSkills:[]),Ne(Array.isArray(X==null?void 0:X.topIncomingSkills)?X.topIncomingSkills:[]),Ne(Array.isArray(X==null?void 0:X.topSkillsByDamage)?X.topSkillsByDamage:[]),Ne(Array.isArray(X==null?void 0:X.topSkillsByDownContribution)?X.topSkillsByDownContribution:[]),Ne(Array.isArray(X==null?void 0:X.outgoingConditionSummary)?X.outgoingConditionSummary:[]),Ne(Array.isArray(X==null?void 0:X.incomingConditionSummary)?X.incomingConditionSummary:[]),(Array.isArray(X==null?void 0:X.boonTables)?X.boonTables:[]).forEach(ft=>{ee(ft==null?void 0:ft.icon)}),(Array.isArray(X==null?void 0:X.specialTables)?X.specialTables:[]).forEach(ft=>{ee(ft==null?void 0:ft.icon)}),me&&(Array.isArray(X==null?void 0:X.playerSkillBreakdowns)?X.playerSkillBreakdowns:[]).forEach(ft=>{const Je=Array.isArray(ft==null?void 0:ft.skills)?ft.skills:[];Ne(Je)}),et.size>0&&Xie(Array.from(et))},ue=window.requestIdleCallback;let fe=null;return typeof ue=="function"?fe=ue(()=>ne(),{timeout:500}):fe=window.setTimeout(ne,120),()=>{if(_=!0,fe!==null)if(typeof ue=="function"){const et=window.cancelIdleCallback;typeof et=="function"&&et(fe)}else window.clearTimeout(fe)}},[X,re,me]);const yt=g.useMemo(()=>{const M=(l==null?void 0:l.skillUsageData)??Y;return{logRecords:Array.isArray(M==null?void 0:M.logRecords)?M.logRecords:[],players:Array.isArray(M==null?void 0:M.players)?M.players:[],skillOptions:Array.isArray(M==null?void 0:M.skillOptions)?M.skillOptions:[],resUtilitySkills:Array.isArray(M==null?void 0:M.resUtilitySkills)?M.resUtilitySkills:[]}},[Y,l==null?void 0:l.skillUsageData]),Ot=yt.players.length>0;g.useEffect(()=>{a||D(w.topSkillsMetric||"damage")},[w.topSkillsMetric,a]);const zn=M=>{if(a){a({...w,topSkillsMetric:M});return}D(M)},{scrollContainerRef:Se}=v8(u,!0,ye),{devMockUploadState:Ze,webCopyStatus:It,setWebCopyStatus:rn,handleWebUpload:on,handleDevMockUpload:mr}=V8({logs:e,stats:X,skillUsageData:yt,activeStatsViewSettings:r||Gx,uiTheme:p||"classic",embedded:u,onWebUpload:o}),{sharing:Zn,handleShare:un}=FV(u),Aa={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},gn=M=>{const _=Aa[M];return _?x[_]>0:!0},[Ln,hr]=g.useState(null),[En,sc]=g.useState(null),[ya,_r]=g.useState("totalBuffs"),[yu,lc]=g.useState("total"),[Ro,Ma]=g.useState(""),[fo,va]=g.useState(""),[Hr,Ea]=g.useState(null),[ba,ll]=g.useState("squadBuffs"),[ds,Bi]=g.useState(""),[Qn,po]=g.useState(null),[$o,cc]=g.useState(null),[cl,Hd]=g.useState(""),[vi,ul]=g.useState(null),[Bo,vu]=g.useState(""),[G,xe]=g.useState(null),[Ge,gt]=g.useState(null),[Bt,_t]=g.useState(null),[Nt,yn]=g.useState(""),[dn,gr]=g.useState(null),[tr,ot]=g.useState(""),[E,U]=g.useState(""),[Z,ae]=g.useState(""),[de,_e]=g.useState(""),[Ie,vt]=g.useState(""),[St,Ft]=g.useState(""),[Be,pe]=g.useState(""),[he,Xe]=g.useState("outgoing"),[be,tt]=g.useState(""),[nt,xt]=g.useState("damage"),[je,Me]=g.useState("damageTaken"),[ke,De]=g.useState("totalMitigation"),[$e,ge]=g.useState("all"),[ze,Ye]=g.useState({key:"damage",dir:"desc"}),se=!($e!=="all"&&Voe.has($e)),Le=se?"grid-cols-[0.4fr_1.6fr_1fr_1fr]":"grid-cols-[0.4fr_1.6fr_1fr]",We=se?ze:{key:"applications",dir:ze.key==="applications"?ze.dir:"desc"},[mt,ht]=g.useState("condiCleanse"),[Ve,at]=g.useState("healing"),[Ce,He]=g.useState("total"),[it,lt]=g.useState("all"),[Pe,ut]=g.useState("total"),[bt,jt]=g.useState("total"),[mn,an]=g.useState("total"),[sn,rt]=g.useState("total"),[Hn,fn]=g.useState("all"),[Cn,Lr]=g.useState("squad"),[Dr,In]=g.useState("player"),[Da,ra]=g.useState(""),[ni,uc]=g.useState(""),[Pa,fs]=g.useState(null),[ri,zi]=g.useState([]),[Dn,bi]=g.useState(null),[aa,Wa]=g.useState(null),[Fn,Qe]=g.useState("hit"),[Re,Ke]=g.useState("all"),[qe,Dt]=g.useState(null),[Ht,hn]=g.useState(null),[Kt,Zt]=g.useState("hit"),[yr,qa]=g.useState([]),[xn,dc]=g.useState(null),[jr,fc]=g.useState(!1),zo=g.useRef(null),[Mm,ai]=g.useState("sizes"),[ps,Kd]=g.useState("total"),Ui=ps==="perSecond",[dl,bu]=g.useState(null),[ii,pc]=g.useState("total"),[xi,ms]=g.useState(null),[hs,gv]=g.useState(null),[gs,yv]=g.useState(null),[n6,r6]=g.useState(""),[mc,vv]=g.useState(null),[a6,b2]=g.useState(null),[Uo,Em]=g.useState(null),[i6,o6]=g.useState(""),[s6,l6]=g.useState("player"),[hc,bv]=g.useState(null),[c6,x2]=g.useState(null),[ys,Dm]=g.useState(null),u6=pt?yt:X5,{apmSpecBuckets:fl}=UV(u6),vs=g.useMemo(()=>me?X.playerSkillBreakdowns||[]:jb,[me,X.playerSkillBreakdowns]),xv=g.useMemo(()=>{const M=new Map;return vs.forEach(_=>M.set(_.key,_)),M},[vs]),xu=g.useMemo(()=>{const M=new Map;return vs.forEach(_=>{const ne=_.profession||"Unknown";M.has(ne)||M.set(ne,{profession:ne,players:[],skills:new Map});const ue=M.get(ne);ue.players.push(_),_.skills.forEach(fe=>{var et;const ee=ue.skills.get(fe.id)||{...fe,damage:0,downContribution:0};ee.damage+=Number(fe.damage||0),ee.downContribution+=Number(fe.downContribution||0),!ee.icon&&fe.icon&&(ee.icon=fe.icon),(et=ee.name)!=null&&et.startsWith("Skill ")&&!fe.name.startsWith("Skill ")&&(ee.name=fe.name),ue.skills.set(fe.id,ee)})}),Array.from(M.values()).map(_=>{const ne=Array.from(_.skills.values()).sort((fe,et)=>et.damage-fe.damage),ue=ne.reduce((fe,et)=>(fe[et.id]=et,fe),{});return{profession:_.profession,players:_.players,skills:ne,skillMap:ue}}).sort((_,ne)=>_.profession.localeCompare(ne.profession))},[vs]),bs=mc&&xv.get(mc)||null,d6=bs&&Uo&&(((b=bs.skillMap)==null?void 0:b[Uo])||bs.skills.find(M=>M.id===Uo))||null,wv=g.useMemo(()=>{const M=new Map;return xu.forEach(_=>M.set(_.profession,_)),M},[xu]),pl=hc&&wv.get(hc)||null,f6=pl&&ys&&((y=pl.skillMap)==null?void 0:y[ys])||null,Pm=(M,_)=>{if(!_)return null;const ne=Number(_.index);if(Number.isInteger(ne)&&ne>=0&&ne<M.length)return M[ne]||null;const ue=String(_.fightId||"").trim();return ue&&M.find(fe=>String((fe==null?void 0:fe.id)||"").trim()===ue)||null},ml=M=>{if(M&&typeof M=="object"){const _=Number((M==null?void 0:M.damage)||0),ne=Array.isArray(M==null?void 0:M.skillRows)?M.skillRows:void 0,ue=(ne||[]).reduce((fe,et)=>fe+Number((et==null?void 0:et.downContribution)||0),0);return{hit:Number((M==null?void 0:M.hit)??_),burst1s:Number((M==null?void 0:M.burst1s)||0),burst5s:Number((M==null?void 0:M.burst5s)||0),burst30s:Number((M==null?void 0:M.burst30s)||0),hitDown:Number((M==null?void 0:M.hitDown)||ue||0),burst1sDown:Number((M==null?void 0:M.burst1sDown)||0),burst5sDown:Number((M==null?void 0:M.burst5sDown)||0),burst30sDown:Number((M==null?void 0:M.burst30sDown)||0),skillName:String((M==null?void 0:M.skillName)||""),buckets5s:Array.isArray(M==null?void 0:M.buckets5s)?M.buckets5s:void 0,buckets5sDown:Array.isArray(M==null?void 0:M.buckets5sDown)?M.buckets5sDown:void 0,downIndices5s:Array.isArray(M==null?void 0:M.downIndices5s)?M.downIndices5s:void 0,deathIndices5s:Array.isArray(M==null?void 0:M.deathIndices5s)?M.deathIndices5s:void 0,skillRows:ne}}return{hit:Number(M||0),burst1s:0,burst5s:0,burst30s:0,hitDown:0,burst1sDown:0,burst5sDown:0,burst30sDown:0,skillName:"",buckets5s:void 0,buckets5sDown:void 0,downIndices5s:void 0,deathIndices5s:void 0,skillRows:void 0}},wi=g.useMemo(()=>{if(!Oe)return{fights:[],players:[]};const M=Ae=>String(Ae||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),_=Ae=>M(Ae).toLowerCase().split(/[^a-z0-9]+/i).map(ct=>ct.trim()).filter(Boolean).map(ct=>ct.length>3&&ct.endsWith("s")?ct.slice(0,-1):ct),ne=(Ae,ct)=>{const Ee=M(Ae),Ut=M(ct);if(!Ut)return Ee;if(!Ee)return Ut;const Qt=_(Ee),Pn=_(Ut),tn=new Set(Qt),Et=new Set(Pn),ln=Pn.length>0&&Pn.every(Xt=>tn.has(Xt)),Rn=Qt.length>0&&Qt.every(Xt=>Et.has(Xt));return ln||Rn?Ee:`${Ee} - ${Ut}`},ue=Ae=>{if(Ae==null||Ae==="")return 0;if(typeof Ae=="number")return!Number.isFinite(Ae)||Ae<=0?0:Ae>1e12?Ae:Ae*1e3;if(Ae instanceof Date){const tn=Ae.getTime();return Number.isFinite(tn)&&tn>0?tn:0}const ct=String(Ae).trim();if(!ct)return 0;const Ee=Number(ct);if(Number.isFinite(Ee)&&Ee>0)return Ee>1e12?Ee:Ee*1e3;const Ut=Date.parse(ct);if(Number.isFinite(Ut)&&Ut>0)return Ut;const Qt=ct.replace(/([+-]\d{2})$/,"$1:00"),Pn=Date.parse(Qt);return Number.isFinite(Pn)&&Pn>0?Pn:0},fe=(Ae,ct)=>ue((Ae==null?void 0:Ae.uploadTime)??(ct==null?void 0:ct.uploadTime)??(Ae==null?void 0:Ae.timeStartStd)??(Ae==null?void 0:Ae.timeStart)??(Ae==null?void 0:Ae.timeEndStd)??(Ae==null?void 0:Ae.timeEnd)),et=X==null?void 0:X.spikeDamage,ee=Array.isArray(et==null?void 0:et.fights)?et.fights:[],Ne=Array.isArray(et==null?void 0:et.players)?et.players:[],ft=ee.some(Ae=>(Ae!=null&&Ae.values&&typeof Ae.values=="object"?Object.values(Ae.values):[]).some(ct=>ct&&typeof ct=="object"&&(Number(ct.burst1s||0)>0||Number(ct.burst5s||0)>0||Number(ct.burst30s||0)>0)))||Ne.some(Ae=>Number((Ae==null?void 0:Ae.peak1s)||0)>0||Number((Ae==null?void 0:Ae.peak5s)||0)>0||Number((Ae==null?void 0:Ae.peak30s)||0)>0),Je=ee.some(Ae=>(Ae!=null&&Ae.values&&typeof Ae.values=="object"?Object.values(Ae.values):[]).some(ct=>ct&&typeof ct=="object"&&(Number(ct.hitDown||0)>0||Number(ct.burst1sDown||0)>0||Number(ct.burst5sDown||0)>0||Number(ct.burst30sDown||0)>0)))||Ne.some(Ae=>Number((Ae==null?void 0:Ae.peakHitDown)||0)>0||Number((Ae==null?void 0:Ae.peak1sDown)||0)>0||Number((Ae==null?void 0:Ae.peak5sDown)||0)>0||Number((Ae==null?void 0:Ae.peak30sDown)||0)>0);if((ee.length>0||Ne.length>0)&&(ft||e.length===0)&&(Re!=="downContribution"||Je||e.length===0)){const Ae=ee.map((Ee,Ut)=>{const Qt=Ee!=null&&Ee.values&&typeof Ee.values=="object"?Ee.values:{};return{id:String((Ee==null?void 0:Ee.id)||`fight-${Ut+1}`),shortLabel:String((Ee==null?void 0:Ee.shortLabel)||`F${Ut+1}`),fullLabel:M((Ee==null?void 0:Ee.fullLabel)||`Fight ${Ut+1}`),timestamp:Number((Ee==null?void 0:Ee.timestamp)||0),values:Qt,maxHit:Number((Ee==null?void 0:Ee.maxHit)??(Ee==null?void 0:Ee.maxDamage)??0),max1s:Number((Ee==null?void 0:Ee.max1s)||0),max5s:Number((Ee==null?void 0:Ee.max5s)||0),max30s:Number((Ee==null?void 0:Ee.max30s)||0),maxHitDown:Number((Ee==null?void 0:Ee.maxHitDown)||0),max1sDown:Number((Ee==null?void 0:Ee.max1sDown)||0),max5sDown:Number((Ee==null?void 0:Ee.max5sDown)||0),max30sDown:Number((Ee==null?void 0:Ee.max30sDown)||0)}}),ct=Ne.map(Ee=>({key:String((Ee==null?void 0:Ee.key)||""),account:String((Ee==null?void 0:Ee.account)||"Unknown"),displayName:String((Ee==null?void 0:Ee.displayName)||(Ee==null?void 0:Ee.account)||"Unknown"),characterName:String((Ee==null?void 0:Ee.characterName)||(Ee==null?void 0:Ee.name)||(Ee==null?void 0:Ee.character_name)||(Ee==null?void 0:Ee.display_name)||""),profession:String((Ee==null?void 0:Ee.profession)||"Unknown"),professionList:Array.isArray(Ee==null?void 0:Ee.professionList)?Ee.professionList.map(Ut=>String(Ut)):[],logs:Number((Ee==null?void 0:Ee.logs)||0),peakHit:Number((Ee==null?void 0:Ee.peakHit)||0),peak1s:Number((Ee==null?void 0:Ee.peak1s)||0),peak5s:Number((Ee==null?void 0:Ee.peak5s)||0),peak30s:Number((Ee==null?void 0:Ee.peak30s)||0),peakHitDown:Number((Ee==null?void 0:Ee.peakHitDown)||0),peak1sDown:Number((Ee==null?void 0:Ee.peak1sDown)||0),peak5sDown:Number((Ee==null?void 0:Ee.peak5sDown)||0),peak30sDown:Number((Ee==null?void 0:Ee.peak30sDown)||0),peakFightLabel:M((Ee==null?void 0:Ee.peakFightLabel)||""),peakSkillName:String((Ee==null?void 0:Ee.peakSkillName)||"")}));return{fights:Ae,players:ct}}const Rt=(Ae,ct)=>{const Ee=(ct==null?void 0:ct.skillMap)||{},Ut=(ct==null?void 0:ct.buffMap)||{};let Qt=0,Pn=0,tn="";const Et=Xt=>{const An=Number(Xt);if(!Number.isFinite(An))return String(Xt||"Unknown Skill");const Ni=(Ee==null?void 0:Ee[`s${An}`])||(Ee==null?void 0:Ee[`${An}`]);if(Ni!=null&&Ni.name)return String(Ni.name);const Pr=(Ut==null?void 0:Ut[`b${An}`])||(Ut==null?void 0:Ut[`${An}`]);return Pr!=null&&Pr.name?String(Pr.name):`Skill ${An}`},ln=Xt=>{if(!Xt||typeof Xt!="object")return;const An=[Number(Xt.max),Number(Xt.maxDamage),Number(Xt.maxHit)].filter(Qd=>Number.isFinite(Qd)),Ni=An.length>0?Math.max(...An):0;Ni>Qt&&(Qt=Ni,tn=Et(Xt.id));const Pr=Number(Xt.downContribution||0);Pr>Pn&&(Pn=Pr)};let Rn=!1;return Array.isArray(Ae==null?void 0:Ae.targetDamageDist)&&Ae.targetDamageDist.forEach(Xt=>{Array.isArray(Xt)&&Xt.forEach(An=>{Array.isArray(An)&&An.forEach(Ni=>{Rn=!0,ln(Ni)})})}),(!Rn||Qt<=0)&&Array.isArray(Ae==null?void 0:Ae.totalDamageDist)&&Ae.totalDamageDist.forEach(Xt=>{Array.isArray(Xt)&&Xt.forEach(An=>ln(An))}),{peak:Qt,peakDownContribution:Pn,skillName:tn||"Unknown Skill"}},pn=Ae=>{const ct=Et=>{if(!Array.isArray(Et)||Et.length===0)return[];const ln=[];for(let Rn=0;Rn<Et.length;Rn+=1){const Xt=Number(Et[Rn]||0),An=Rn>0?Number(Et[Rn-1]||0):0;ln.push(Math.max(0,Xt-An))}return ln},Ee=Et=>{if(!Array.isArray(Et))return[];const ln=Et.reduce((Xt,An)=>Math.max(Xt,Array.isArray(An)?An.length:0),0);if(ln<=0)return[];const Rn=new Array(ln).fill(0);return Et.forEach(Xt=>{if(Array.isArray(Xt))for(let An=0;An<ln;An+=1)Rn[An]+=Number(Xt[An]||0)}),Rn},Ut=Et=>Array.isArray(Et)?Et.map(ln=>Number(ln||0)):null,Qt=(Et=>{if(!Array.isArray(Et)||Et.length===0)return null;const ln=Et[0];if(!Array.isArray(ln))return null;if(Array.isArray(ln[0])&&Array.isArray(ln[0][0]))return Ee(ln);if(Array.isArray(ln[0])&&!Array.isArray(ln[0][0])){const Rn=Et.map(Xt=>Ut(Array.isArray(Xt)?Xt[0]:null)).filter(Xt=>Array.isArray(Xt)&&Xt.length>0);if(Rn.length>0)return Ee(Rn)}return null})(Ae==null?void 0:Ae.targetDamage1S),Pn=Array.isArray(Ae==null?void 0:Ae.damage1S)&&Array.isArray(Ae.damage1S[0])?Ae.damage1S[0]:null,tn=Qt||(Array.isArray(Pn)?Pn.map(Et=>Number(Et||0)):[]);return ct(tn)},wt=(Ae,ct)=>{if(!Array.isArray(Ae)||Ae.length===0||ct<=0)return 0;let Ee=0,Ut=0;for(let Qt=0;Qt<Ae.length;Qt+=1)Ee+=Number(Ae[Qt]||0),Qt>=ct&&(Ee-=Number(Ae[Qt-ct]||0)),Qt>=ct-1&&Ee>Ut&&(Ut=Ee);return Math.max(0,Ut)},$t=(Ae,ct)=>{if(!Array.isArray(Ae)||Ae.length===0||ct<=0)return[];const Ee=[];for(let Ut=0;Ut<Ae.length;Ut+=ct){const Qt=Math.min(Ut+ct,Ae.length),Pn=Ae.slice(Ut,Qt).reduce((tn,Et)=>tn+Number(Et||0),0);Ee.push(Pn)}return Ee},Gt=(Ae,ct)=>{let Ee=0,Ut=0;const Qt=new Map,Pn=tn=>{if(!tn||typeof tn!="object"||tn.indirectDamage)return;const Et=Number(tn.totalDamage||0),ln=Number(tn.downContribution||0);!Number.isFinite(Et)&&!Number.isFinite(ln)||(Ee+=Number.isFinite(Et)?Et:0,Ut+=Number.isFinite(ln)?ln:0)};return Array.isArray(Ae==null?void 0:Ae.targetDamageDist)&&Ae.targetDamageDist.forEach(tn=>{Array.isArray(tn)&&tn.forEach(Et=>{Array.isArray(Et)&&Et.forEach(ln=>{const Rn=Number(ln==null?void 0:ln.id);if(Number.isFinite(Rn)){const Xt=Qt.get(Rn)||{damage:0,downContribution:0};Xt.damage+=Number((ln==null?void 0:ln.totalDamage)||0),Xt.downContribution+=Number((ln==null?void 0:ln.downContribution)||0),Qt.set(Rn,Xt)}Pn(ln)})})}),!(ct!=null&&ct.detailedWvW)&&Array.isArray(Ae==null?void 0:Ae.totalDamageDist)&&Ae.totalDamageDist.forEach(tn=>{Array.isArray(tn)&&tn.forEach(Et=>{const ln=Number(Et==null?void 0:Et.id);if(!Number.isFinite(ln)){Pn(Et);return}const Rn=Qt.get(ln);if(!Rn){Pn(Et);return}const Xt=Number((Et==null?void 0:Et.totalDamage)||0)-Number(Rn.damage||0),An=Number((Et==null?void 0:Et.downContribution)||0)-Number(Rn.downContribution||0);Xt<=0&&An<=0||Pn({...Et,totalDamage:Math.max(0,Xt),downContribution:Math.max(0,An)})})}),{damageTotal:Math.max(0,Ee),downContributionTotal:Math.max(0,Ut)}},zt=[],Lt=new Map;e.forEach(Ae=>{const ct=Ae==null?void 0:Ae.details;if(!ct)return;const Ee=zt.length+1,Ut=M(ct.fightName||Ae.fightName||`Fight ${Ee}`),Qt=ct.zone||ct.mapName||ct.map||ct.location||"",Pn=ne(Ut,String(Qt||"")),tn={};(Array.isArray(ct.players)?ct.players:[]).forEach(wn=>{if(wn!=null&&wn.notInSquad)return;const _n=String((wn==null?void 0:wn.account)||(wn==null?void 0:wn.name)||"Unknown"),Xd=String((wn==null?void 0:wn.character_name)||(wn==null?void 0:wn.display_name)||(wn==null?void 0:wn.name)||""),gc=String((wn==null?void 0:wn.profession)||"Unknown"),yc=`${_n}|${gc}`,Su=Rt(wn,ct),Nu=Number(Su.peak||0),ef=Number(Su.peakDownContribution||0),qo=pn(wn),{damageTotal:yl,downContributionTotal:Nv}=Gt(wn,ct),jv=yl>0?Math.min(1,Math.max(0,Nv/yl)):0,vc=qo.map(Ho=>Number(Ho||0)*jv),Ss=Number(wt(qo,1)||0),ju=Number(wt(qo,5)||0),Ue=Number(wt(qo,30)||0),kt=Number(wt(vc,1)||0),qt=Number(wt(vc,5)||0),kn=Number(wt(vc,30)||0),Yt=Math.max(0,Math.ceil(Number((ct==null?void 0:ct.durationMS)||0)/5e3)),nn=Math.max(0,Math.ceil(qo.length/5)),Wn=Math.max(0,Math.ceil(vc.length/5)),Gr=Math.max(Yt,nn,Wn),Rr=$t(qo,5),bc=$t(vc,5),zm=Array.from({length:Gr},(Ho,ho)=>Number(Rr[ho]||0)),nr=Array.from({length:Gr},(Ho,ho)=>Number(bc[ho]||0));tn[yc]={hit:Nu,burst1s:Ss,burst5s:ju,burst30s:Ue,hitDown:ef,burst1sDown:kt,burst5sDown:qt,burst30sDown:kn,skillName:Su.skillName,buckets5s:zm,buckets5sDown:nr};const Sn=Lt.get(yc)||{key:yc,account:_n,displayName:_n,characterName:Xd,profession:gc,professionList:[gc],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakHitDown:0,peak1sDown:0,peak5sDown:0,peak30sDown:0,peakFightLabel:"",peakSkillName:""};Sn.logs+=1,Sn.professionList.includes(gc)||Sn.professionList.push(gc),!Sn.characterName&&Xd&&(Sn.characterName=Xd),Nu>Sn.peakHit&&(Sn.peakHit=Nu,Sn.peakFightLabel=Pn,Sn.peakSkillName=Su.skillName),Ss>Sn.peak1s&&(Sn.peak1s=Ss),ju>Sn.peak5s&&(Sn.peak5s=ju),Ue>Sn.peak30s&&(Sn.peak30s=Ue),ef>Sn.peakHitDown&&(Sn.peakHitDown=ef),kt>Sn.peak1sDown&&(Sn.peak1sDown=kt),qt>Sn.peak5sDown&&(Sn.peak5sDown=qt),kn>Sn.peak30sDown&&(Sn.peak30sDown=kn),Lt.set(yc,Sn)});const Et=Object.values(tn).reduce((wn,_n)=>Math.max(wn,Number((_n==null?void 0:_n.hit)||0)),0),ln=Object.values(tn).reduce((wn,_n)=>Math.max(wn,Number((_n==null?void 0:_n.burst1s)||0)),0),Rn=Object.values(tn).reduce((wn,_n)=>Math.max(wn,Number((_n==null?void 0:_n.burst5s)||0)),0),Xt=Object.values(tn).reduce((wn,_n)=>Math.max(wn,Number((_n==null?void 0:_n.burst30s)||0)),0),An=Object.values(tn).reduce((wn,_n)=>Math.max(wn,Number((_n==null?void 0:_n.hitDown)||0)),0),Ni=Object.values(tn).reduce((wn,_n)=>Math.max(wn,Number((_n==null?void 0:_n.burst1sDown)||0)),0),Pr=Object.values(tn).reduce((wn,_n)=>Math.max(wn,Number((_n==null?void 0:_n.burst5sDown)||0)),0),Qd=Object.values(tn).reduce((wn,_n)=>Math.max(wn,Number((_n==null?void 0:_n.burst30sDown)||0)),0);zt.push({id:Ae.filePath||Ae.id||`fight-${Ee}`,shortLabel:`F${Ee}`,fullLabel:Pn,timestamp:fe(ct,Ae),values:tn,maxHit:Et,max1s:ln,max5s:Rn,max30s:Xt,maxHitDown:An,max1sDown:Ni,max5sDown:Pr,max30sDown:Qd})});const Vt=Array.from(Lt.values()).sort((Ae,ct)=>ct.peakHit!==Ae.peakHit?ct.peakHit-Ae.peakHit:Ae.displayName.localeCompare(ct.displayName));return{fights:zt,players:Vt}},[e,X,Oe,Re]),ki=g.useMemo(()=>{if(!oe)return{fights:[],players:[]};const M=ee=>String(ee||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),_=X==null?void 0:X.incomingStrikeDamage,ne=Array.isArray(_==null?void 0:_.fights)?_.fights:[],ue=Array.isArray(_==null?void 0:_.players)?_.players:[];if(ne.length===0&&ue.length===0)return{fights:[],players:[]};const fe=ne.map((ee,Ne)=>{const ft=ee!=null&&ee.values&&typeof ee.values=="object"?ee.values:{};return{id:String((ee==null?void 0:ee.id)||`fight-${Ne+1}`),shortLabel:String((ee==null?void 0:ee.shortLabel)||`F${Ne+1}`),fullLabel:M((ee==null?void 0:ee.fullLabel)||`Fight ${Ne+1}`),timestamp:Number((ee==null?void 0:ee.timestamp)||0),values:ft,maxHit:Number((ee==null?void 0:ee.maxHit)??(ee==null?void 0:ee.maxDamage)??0),max1s:Number((ee==null?void 0:ee.max1s)||0),max5s:Number((ee==null?void 0:ee.max5s)||0),max30s:Number((ee==null?void 0:ee.max30s)||0),maxHitDown:Number((ee==null?void 0:ee.maxHitDown)||0),max1sDown:Number((ee==null?void 0:ee.max1sDown)||0),max5sDown:Number((ee==null?void 0:ee.max5sDown)||0),max30sDown:Number((ee==null?void 0:ee.max30sDown)||0)}}),et=ue.map(ee=>({key:String((ee==null?void 0:ee.key)||""),account:String((ee==null?void 0:ee.account)||"Unknown"),displayName:String((ee==null?void 0:ee.displayName)||(ee==null?void 0:ee.account)||"Unknown"),characterName:String((ee==null?void 0:ee.characterName)||(ee==null?void 0:ee.name)||(ee==null?void 0:ee.character_name)||(ee==null?void 0:ee.display_name)||""),profession:String((ee==null?void 0:ee.profession)||"Unknown"),professionList:Array.isArray(ee==null?void 0:ee.professionList)?ee.professionList.map(Ne=>String(Ne)):[],logs:Number((ee==null?void 0:ee.logs)||0),peakHit:Number((ee==null?void 0:ee.peakHit)||0),peak1s:Number((ee==null?void 0:ee.peak1s)||0),peak5s:Number((ee==null?void 0:ee.peak5s)||0),peak30s:Number((ee==null?void 0:ee.peak30s)||0),peakHitDown:Number((ee==null?void 0:ee.peakHitDown)||0),peak1sDown:Number((ee==null?void 0:ee.peak1sDown)||0),peak5sDown:Number((ee==null?void 0:ee.peak5sDown)||0),peak30sDown:Number((ee==null?void 0:ee.peak30sDown)||0),peakFightLabel:M((ee==null?void 0:ee.peakFightLabel)||""),peakSkillName:String((ee==null?void 0:ee.peakSkillName)||"")}));return{fights:fe,players:et}},[X,oe]),Gd=g.useMemo(()=>{const M=new Map;return wi.players.forEach(_=>M.set(_.key,_)),M},[wi.players]),p6=g.useMemo(()=>{const M=fe=>Re==="downContribution"?Fn==="hit"?fe.peakHitDown:Fn==="1s"?fe.peak1sDown:Fn==="5s"?fe.peak5sDown:fe.peak30sDown:Fn==="hit"?fe.peakHit:Fn==="1s"?fe.peak1s:Fn==="5s"?fe.peak5s:fe.peak30s,_=St.trim().toLowerCase(),ne=_?wi.players.filter(fe=>fe.displayName.toLowerCase().includes(_)||fe.account.toLowerCase().includes(_)||fe.profession.toLowerCase().includes(_)):wi.players,ue=new Map;return ne.forEach(fe=>{const et=fe.profession||"Unknown",ee=ue.get(et)||[];ee.push(fe),ue.set(et,ee)}),Array.from(ue.entries()).map(([fe,et])=>({profession:fe,players:[...et].sort((ee,Ne)=>M(Ne)-M(ee)||ee.displayName.localeCompare(Ne.displayName))})).sort((fe,et)=>fe.profession.localeCompare(et.profession))},[wi.players,St,Fn,Re]),m6=Dn&&Gd.get(Dn)||null,Vo=g.useMemo(()=>{if(!Dn)return[];const M=ne=>ne?Number(Re==="downContribution"?Fn==="hit"?ne.hitDown||0:Fn==="1s"?ne.burst1sDown||0:Fn==="5s"?ne.burst5sDown||0:ne.burst30sDown||0:Fn==="hit"?ne.hit||0:Fn==="1s"?ne.burst1s||0:Fn==="5s"?ne.burst5s||0:ne.burst30s||0):0,_=ne=>Number(Re==="downContribution"?Fn==="hit"?ne.maxHitDown||0:Fn==="1s"?ne.max1sDown||0:Fn==="5s"?ne.max5sDown||0:ne.max30sDown||0:Fn==="hit"?ne.maxHit||0:Fn==="1s"?ne.max1s||0:Fn==="5s"?ne.max5s||0:ne.max30s||0);return wi.fights.map((ne,ue)=>({index:ue,fightId:ne.id,shortLabel:ne.shortLabel,fullLabel:ne.fullLabel,timestamp:Number(ne.timestamp||0),damage:M(ml(ne.values[Dn])),maxDamage:_(ne),skillName:String(ml(ne.values[Dn]).skillName||"")}))},[wi.fights,Dn,Fn,Re]),h6=g.useMemo(()=>{const M=Vo.reduce((ne,ue)=>Math.max(ne,Number(ue.damage||0)),0),_=Vo.reduce((ne,ue)=>Math.max(ne,Number(ue.maxDamage||0)),0);return Math.max(1,M,_)},[Vo]),Tm=g.useMemo(()=>{var M,_;const ne=aa===null?null:Vo.find(Ue=>Ue.index===aa)||null;if(!ne||!Dn)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const ue=Pm(wi.fights,ne),[fe,et]=Dn.split("|"),ee=e.find(Ue=>String((Ue==null?void 0:Ue.filePath)||(Ue==null?void 0:Ue.id)||"")===String(ne.fightId||"")),Ne=ee==null?void 0:ee.details,ft=Ue=>Array.isArray(Ue)?Ue.map(kt=>Array.isArray(kt)?[Number(kt[0]),Number(kt[1])]:kt&&typeof kt=="object"?[Number(kt.time),Number(kt.value)]:null).filter(kt=>!!kt&&Number.isFinite(kt[0])&&kt[0]>=0):[],Je=Ue=>String(Ue||"").trim().toLowerCase(),Rt=Je(fe),pn=Je(et),wt=Gd.get(Dn),$t=new Set([Je(wt==null?void 0:wt.displayName),Je(wt==null?void 0:wt.characterName),Je(wt==null?void 0:wt.account)].filter(Boolean)),Gt=Array.isArray(Ne==null?void 0:Ne.players)&&((M=Ne.players.map(Ue=>{const kt=Je(Ue==null?void 0:Ue.account),qt=Je(Ue==null?void 0:Ue.name),kn=Je(Ue==null?void 0:Ue.profession),Yt=!!kt&&kt===Rt,nn=!!qt&&(qt===Rt||$t.has(qt)),Wn=!!kt&&$t.has(kt),Gr=!pn||kn===pn;let Rr=0;return Yt&&(Rr+=100),nn&&(Rr+=90),Wn&&(Rr+=80),Gr&&(Rr+=20),{player:Ue,score:Rr}}).filter(Ue=>Ue.score>0).sort((Ue,kt)=>kt.score-Ue.score)[0])==null?void 0:M.player)||null,zt=(()=>{const Ue=Gt==null?void 0:Gt.combatReplayData;return Array.isArray(Ue)?Ue.filter(kt=>kt&&typeof kt=="object"):Ue&&typeof Ue=="object"?[Ue]:[]})(),Lt=zt.flatMap(Ue=>ft(Ue==null?void 0:Ue.down).map(([kt])=>kt)),Vt=zt.flatMap(Ue=>ft(Ue==null?void 0:Ue.dead).map(([kt])=>kt)),Ae=zt.map(Ue=>Number(Ue==null?void 0:Ue.start)).filter(Ue=>Number.isFinite(Ue)&&Ue>=0),ct=Array.isArray(Ne==null?void 0:Ne.players)?Ne.players.flatMap(Ue=>{const kt=Ue==null?void 0:Ue.combatReplayData;return Array.isArray(kt)?kt.map(qt=>Number(qt==null?void 0:qt.start)):[Number(kt==null?void 0:kt.start)]}).filter(Ue=>Number.isFinite(Ue)&&Ue>=0).reduce((Ue,kt)=>Math.min(Ue,kt),Number.POSITIVE_INFINITY):Number.POSITIVE_INFINITY,Ee=[0,Number((Ne==null?void 0:Ne.logStartOffset)||0),...Ae,Number.isFinite(ct)?ct:0].filter(Ue=>Number.isFinite(Ue)&&Ue>=0),Ut=Ue=>{const kt=Math.max(0,Math.floor(Number(Ue||0)/1e3)),qt=Math.floor(kt/5)*5;return`${qt}s-${qt+5}s`},Qt=(Ue,kt)=>{if(Ue.length===0||kt.length===0)return[];const qt=kt.length*5e3,kn=nr=>nr.reduce((Sn,Ho)=>Ho>=0&&Ho<=qt+2e3?Sn+1:Sn,0),Yt=[],nn=Ue.map(nr=>Number(nr||0)).filter(nr=>Number.isFinite(nr)&&nr>=0);if(nn.length===0)return[];Yt.push(nn);const Wn=nn.reduce((nr,Sn)=>Math.max(nr,Sn),0),Gr=nn.reduce((nr,Sn)=>Math.min(nr,Sn),Number.POSITIVE_INFINITY);Wn>qt*20&&Yt.push(nn.map(nr=>nr/1e3)),Wn<=qt*2&&Gr>=0&&Wn>0&&Wn<Math.max(120,kt.length*5+10)&&Yt.push(nn.map(nr=>nr*1e3));let Rr=nn,bc=0,zm=-1;return Yt.forEach(nr=>{const Sn=new Set(Ee),Ho=nr.reduce((ho,Cv)=>Math.min(ho,Cv),Number.POSITIVE_INFINITY);if(Number.isFinite(Ho)&&qt>0&&Ho>qt){const ho=Math.floor(Ho/qt)*qt;Sn.add(ho),Sn.add(Math.max(0,ho-qt))}Sn.forEach(ho=>{const Cv=nr.map(pB=>pB-ho),_2=kn(Cv);_2>zm&&(zm=_2,bc=ho,Rr=nr)})}),Rr.map(nr=>nr-bc).filter(nr=>Number.isFinite(nr)&&nr>=0)},Pn=(Ue,kt)=>{if(Ue.length===0||kt.length===0)return[];const qt=Qt(kt,Ue),kn=new Map;Ue.forEach(nn=>{const Wn=/^(\d+)s-/.exec(String(nn));if(!Wn)return;const Gr=Number(Wn[1]);Number.isFinite(Gr)&&kn.set(Gr,nn)});const Yt=[];return qt.forEach(nn=>{const Wn=Math.max(0,Math.floor(Number(nn||0)/1e3)),Gr=Math.floor(Wn/5)*5,Rr=kn.get(Gr)||Ut(nn);Ue.includes(Rr)&&Yt.push(Rr)}),Array.from(new Set(Yt))},tn=(Ue,kt)=>{if(Ue<=0||kt.length===0)return[];const qt=Array.from({length:Ue},(Yt,nn)=>`${nn*5}s-${(nn+1)*5}s`),kn=Qt(kt,qt).map(Yt=>Math.floor(Math.max(0,Number(Yt||0))/5e3)).filter(Yt=>Number.isFinite(Yt)&&Yt>=0&&Yt<Ue);return Array.from(new Set(kn))},Et=ml((_=ue==null?void 0:ue.values)==null?void 0:_[Dn]),ln=Re==="downContribution"?Array.isArray(Et==null?void 0:Et.buckets5sDown)?(Et==null?void 0:Et.buckets5sDown)||[]:[]:Array.isArray(Et==null?void 0:Et.buckets5s)?(Et==null?void 0:Et.buckets5s)||[]:[],Rn=Array.isArray(Et==null?void 0:Et.downIndices5s)?Et.downIndices5s.map(Ue=>Number(Ue)).filter(Ue=>Number.isFinite(Ue)&&Ue>=0):[],Xt=Array.isArray(Et==null?void 0:Et.deathIndices5s)?Et.deathIndices5s.map(Ue=>Number(Ue)).filter(Ue=>Number.isFinite(Ue)&&Ue>=0):[];if(ln.length>0){const Ue=Math.max(0,Math.ceil(Number((Ne==null?void 0:Ne.durationMS)||0)/5e3)),kt=Math.max(ln.length,Ue),qt=Array.from({length:kt},(Yt,nn)=>({label:`${nn*5}s-${(nn+1)*5}s`,value:Number(ln[nn]||0)})),kn=qt.map(Yt=>Yt.label);return{title:`Fight Breakdown - ${ne.shortLabel||"Fight"} (5s ${Re==="downContribution"?"Down Contribution":"Damage"} Buckets)`,data:qt,downLabels:Pn(kn,Lt),deathLabels:Pn(kn,Vt),downIndices:Rn.length>0?Rn.filter(Yt=>Yt<qt.length):tn(qt.length,Lt),deathIndices:Xt.length>0?Xt.filter(Yt=>Yt<qt.length):tn(qt.length,Vt)}}const An=ne.shortLabel||"Fight";if(!Ne||!Array.isArray(Ne.players))return{title:`Fight Breakdown - ${An}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const Ni=Ne.players.find(Ue=>String((Ue==null?void 0:Ue.account)||(Ue==null?void 0:Ue.name)||"Unknown")===fe&&String((Ue==null?void 0:Ue.profession)||"Unknown")===et);if(!Ni)return{title:`Fight Breakdown - ${An}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const Pr=Ni,Qd=()=>{let Ue=0,kt=0;const qt=new Map,kn=Yt=>{if(!Yt||typeof Yt!="object"||Yt.indirectDamage)return;const nn=Number(Yt.totalDamage||0),Wn=Number(Yt.downContribution||0);!Number.isFinite(nn)&&!Number.isFinite(Wn)||(Ue+=Number.isFinite(nn)?nn:0,kt+=Number.isFinite(Wn)?Wn:0)};return Array.isArray(Pr==null?void 0:Pr.targetDamageDist)&&Pr.targetDamageDist.forEach(Yt=>{Array.isArray(Yt)&&Yt.forEach(nn=>{Array.isArray(nn)&&nn.forEach(Wn=>{const Gr=Number(Wn==null?void 0:Wn.id);if(Number.isFinite(Gr)){const Rr=qt.get(Gr)||{damage:0,downContribution:0};Rr.damage+=Number((Wn==null?void 0:Wn.totalDamage)||0),Rr.downContribution+=Number((Wn==null?void 0:Wn.downContribution)||0),qt.set(Gr,Rr)}kn(Wn)})})}),!(Ne!=null&&Ne.detailedWvW)&&Array.isArray(Pr==null?void 0:Pr.totalDamageDist)&&Pr.totalDamageDist.forEach(Yt=>{Array.isArray(Yt)&&Yt.forEach(nn=>{const Wn=Number(nn==null?void 0:nn.id);if(!Number.isFinite(Wn)){kn(nn);return}const Gr=qt.get(Wn);if(!Gr){kn(nn);return}const Rr=Number((nn==null?void 0:nn.totalDamage)||0)-Number(Gr.damage||0),bc=Number((nn==null?void 0:nn.downContribution)||0)-Number(Gr.downContribution||0);Rr<=0&&bc<=0||kn({...nn,totalDamage:Math.max(0,Rr),downContribution:Math.max(0,bc)})})}),Ue<=0?0:Math.min(1,Math.max(0,kt/Ue))},wn=Ue=>{if(!Array.isArray(Ue)||Ue.length===0)return[];const kt=[];for(let qt=0;qt<Ue.length;qt+=1){const kn=Number(Ue[qt]||0),Yt=qt>0?Number(Ue[qt-1]||0):0;kt.push(Math.max(0,kn-Yt))}return kt},_n=Ue=>{if(!Array.isArray(Ue))return[];const kt=Ue.reduce((kn,Yt)=>Math.max(kn,Array.isArray(Yt)?Yt.length:0),0);if(kt<=0)return[];const qt=new Array(kt).fill(0);return Ue.forEach(kn=>{if(Array.isArray(kn))for(let Yt=0;Yt<kt;Yt+=1)qt[Yt]+=Number(kn[Yt]||0)}),qt},Xd=Ue=>Array.isArray(Ue)?Ue.map(kt=>Number(kt||0)):null,gc=(Ue=>{if(!Array.isArray(Ue)||Ue.length===0)return null;const kt=Ue[0];if(!Array.isArray(kt))return null;if(Array.isArray(kt[0])&&Array.isArray(kt[0][0]))return _n(kt);if(Array.isArray(kt[0])&&!Array.isArray(kt[0][0])){const qt=Ue.map(kn=>Xd(Array.isArray(kn)?kn[0]:null)).filter(kn=>Array.isArray(kn)&&kn.length>0);if(qt.length>0)return _n(qt)}return null})(Pr==null?void 0:Pr.targetDamage1S),yc=Array.isArray(Pr==null?void 0:Pr.damage1S)&&Array.isArray(Pr.damage1S[0])?Pr.damage1S[0]:null,Su=gc||(Array.isArray(yc)?yc.map(Ue=>Number(Ue||0)):[]),Nu=wn(Su),ef=Qd(),qo=Re==="downContribution"?Nu.map(Ue=>Number(Ue||0)*ef):Nu,yl=5,Nv=Math.max(0,Math.ceil(Number((Ne==null?void 0:Ne.durationMS)||0)/(yl*1e3))),jv=Math.max(0,Math.ceil(qo.length/yl)),vc=Math.max(Nv,jv),Ss=[];for(let Ue=0;Ue<vc;Ue+=1){const kt=Ue*yl,qt=Math.min(kt+yl,qo.length),kn=qo.slice(kt,qt).reduce((Yt,nn)=>Yt+Number(nn||0),0);Ss.push({label:`${kt}s-${kt+yl}s`,value:kn})}const ju=Ss.map(Ue=>Ue.label);return{title:`Fight Breakdown - ${An} (5s ${Re==="downContribution"?"Down Contribution":"Damage"} Buckets)`,data:Ss,downLabels:Pn(ju,Lt),deathLabels:Pn(ju,Vt),downIndices:tn(Ss.length,Lt),deathIndices:tn(Ss.length,Vt)}},[aa,Vo,Dn,e,wi.fights,Gd,Re]),kv=g.useMemo(()=>{const M=new Map;return ki.players.forEach(_=>M.set(_.key,_)),M},[ki.players]),g6=g.useMemo(()=>{const M=fe=>Kt==="hit"?fe.peakHit:Kt==="1s"?fe.peak1s:Kt==="5s"?fe.peak5s:fe.peak30s,_=Be.trim().toLowerCase(),ne=_?ki.players.filter(fe=>fe.displayName.toLowerCase().includes(_)||fe.account.toLowerCase().includes(_)||fe.profession.toLowerCase().includes(_)):ki.players,ue=new Map;return ne.forEach(fe=>{const et=fe.profession||"Unknown",ee=ue.get(et)||[];ee.push(fe),ue.set(et,ee)}),Array.from(ue.entries()).map(([fe,et])=>({profession:fe,players:[...et].sort((ee,Ne)=>M(Ne)-M(ee)||ee.displayName.localeCompare(Ne.displayName))})).sort((fe,et)=>fe.profession.localeCompare(et.profession))},[ki.players,Be,Kt]),y6=qe&&kv.get(qe)||null,Wo=g.useMemo(()=>{if(!qe)return[];const M=ne=>ne?Number(Kt==="hit"?ne.hit||0:Kt==="1s"?ne.burst1s||0:Kt==="5s"?ne.burst5s||0:ne.burst30s||0):0,_=ne=>Number(Kt==="hit"?ne.maxHit||0:Kt==="1s"?ne.max1s||0:Kt==="5s"?ne.max5s||0:ne.max30s||0);return ki.fights.map((ne,ue)=>({index:ue,fightId:ne.id,shortLabel:ne.shortLabel,fullLabel:ne.fullLabel,timestamp:Number(ne.timestamp||0),damage:M(ml(ne.values[qe])),maxDamage:_(ne),skillName:String(ml(ne.values[qe]).skillName||"")}))},[ki.fights,qe,Kt]),v6=g.useMemo(()=>{const M=Wo.reduce((ne,ue)=>Math.max(ne,Number(ue.damage||0)),0),_=Wo.reduce((ne,ue)=>Math.max(ne,Number(ue.maxDamage||0)),0);return Math.max(1,M,_)},[Wo]),Om=g.useMemo(()=>{var M;const _=Ht===null?null:Wo.find(ft=>ft.index===Ht)||null;if(!_||!qe)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const ne=Pm(ki.fights,_),ue=ml((M=ne==null?void 0:ne.values)==null?void 0:M[qe]),fe=Array.isArray(ue==null?void 0:ue.buckets5s)?(ue==null?void 0:ue.buckets5s)||[]:[],et=Array.isArray(ue==null?void 0:ue.downIndices5s)?ue.downIndices5s.map(ft=>Number(ft)).filter(ft=>Number.isFinite(ft)&&ft>=0):[],ee=Array.isArray(ue==null?void 0:ue.deathIndices5s)?ue.deathIndices5s.map(ft=>Number(ft)).filter(ft=>Number.isFinite(ft)&&ft>=0):[];if(fe.length>0){const ft=fe.map((Je,Rt)=>({label:`${Rt*5}s-${(Rt+1)*5}s`,value:Number(Je||0)}));return{title:`Fight Breakdown - ${_.shortLabel||"Fight"} (5s Damage Buckets)`,data:ft,downLabels:[],deathLabels:[],downIndices:et.filter(Je=>Je<ft.length),deathIndices:ee.filter(Je=>Je<ft.length)}}const Ne=Number(Kt==="hit"?ue.hit||0:Kt==="1s"?ue.burst1s||0:Kt==="5s"?ue.burst5s||0:ue.burst30s||0);return Ne>0?{title:`Fight Breakdown - ${_.shortLabel||"Fight"} (Estimated)`,data:[{label:"0s-5s",value:Ne}],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]}:{title:`Fight Breakdown - ${_.shortLabel||"Fight"}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]}},[Ht,Wo,qe,ki.fights,Kt]),b6=g.useMemo(()=>{var M;if(Ht===null||!qe)return[];const _=Wo.find(ft=>ft.index===Ht);if(!_)return[];const ne=Pm(ki.fights,_),ue=ml((M=ne==null?void 0:ne.values)==null?void 0:M[qe]),fe=[...(ue==null?void 0:ue.skillRows)||[]].filter(ft=>Number((ft==null?void 0:ft.damage)||0)>0||Number((ft==null?void 0:ft.downContribution)||0)>0).sort((ft,Je)=>Number(Je.damage||0)-Number(ft.damage||0)).slice(0,30);if(fe.length>0)return fe;const et=e.find(ft=>String((ft==null?void 0:ft.filePath)||(ft==null?void 0:ft.id)||"")===String(_.fightId||"")),ee=et==null?void 0:et.details;if(ee&&qe){const ft=new Set(Object.keys(Xc)),Je=Object.keys(Xc).filter(zt=>zt&&zt!=="Unknown").sort((zt,Lt)=>Lt.length-zt.length),Rt=["Guardian","Revenant","Warrior","Engineer","Ranger","Thief","Elementalist","Mesmer","Necromancer"],pn=zt=>{if(!zt)return"Unknown";const Lt=String(zt).replace(/\s*\([^)]*\)\s*$/,"").replace(/\s*\[[^\]]*\]\s*$/,"").replace(/\s\d+$/,"").trim();if(ft.has(Lt))return Lt;const Vt=Lt.toLowerCase();for(const Ae of Je)if(Vt.includes(Ae.toLowerCase()))return Ae;return Rt.find(Ae=>Vt.includes(Ae.toLowerCase()))||Lt||"Unknown"},wt=zt=>{const Lt=Number(zt);if(!Number.isFinite(Lt))return{name:String(zt||"Unknown Skill"),icon:void 0};const Vt=(ee==null?void 0:ee.skillMap)||{},Ae=(ee==null?void 0:ee.buffMap)||{},ct=(Vt==null?void 0:Vt[`s${Lt}`])||(Vt==null?void 0:Vt[`${Lt}`]);if(ct!=null&&ct.name)return{name:String(ct.name),icon:ct==null?void 0:ct.icon};const Ee=(Ae==null?void 0:Ae[`b${Lt}`])||(Ae==null?void 0:Ae[`${Lt}`]);return Ee!=null&&Ee.name?{name:String(Ee.name),icon:Ee==null?void 0:Ee.icon}:{name:`Skill ${Lt}`,icon:void 0}},$t=new Map;(Array.isArray(ee==null?void 0:ee.targets)?ee.targets:[]).forEach(zt=>{!zt||zt.isFake||zt.enemyPlayer===!1||pn((zt==null?void 0:zt.profession)||(zt==null?void 0:zt.name)||(zt==null?void 0:zt.id))!==qe||Array.isArray(zt==null?void 0:zt.totalDamageDist)&&zt.totalDamageDist.forEach(Lt=>{Array.isArray(Lt)&&Lt.forEach(Vt=>{if(!Vt||typeof Vt!="object"||Vt.indirectDamage)return;const Ae=Number(Vt.totalDamage||0);if(!Number.isFinite(Ae)||Ae<=0)return;const ct=Number(Vt.connectedHits||Vt.hits||0),Ee=wt(Vt.id),Ut=Ee.name,Qt=$t.get(Ut)||{skillName:Ut,damage:0,hits:0,icon:Ee.icon};Qt.damage+=Ae,Qt.hits+=Number.isFinite(ct)?ct:0,!Qt.icon&&Ee.icon&&(Qt.icon=Ee.icon),$t.set(Ut,Qt)})})});const Gt=Array.from($t.values()).filter(zt=>Number((zt==null?void 0:zt.damage)||0)>0).sort((zt,Lt)=>Number(Lt.damage||0)-Number(zt.damage||0)).slice(0,30);if(Gt.length>0)return Gt}const Ne=Number((ue==null?void 0:ue.hit)||0);return Ne<=0?fe:[{skillName:String((ue==null?void 0:ue.skillName)||"Unknown Skill"),damage:Ne,hits:1,icon:void 0}]},[Ht,qe,Wo,ki.fights,e]),x6=g.useMemo(()=>{var M;if(aa===null||!Dn)return[];const _=Vo.find(Ne=>Ne.index===aa);if(!_)return[];const ne=Pm(wi.fights,_),ue=ml((M=ne==null?void 0:ne.values)==null?void 0:M[Dn]),fe=[...(ue==null?void 0:ue.skillRows)||[]].filter(Ne=>Number((Ne==null?void 0:Ne.damage)||0)>0||Number((Ne==null?void 0:Ne.downContribution)||0)>0).sort((Ne,ft)=>Number(ft.damage||0)-Number(Ne.damage||0)).slice(0,30);if(fe.length>0)return fe;const et=e.find(Ne=>String((Ne==null?void 0:Ne.filePath)||(Ne==null?void 0:Ne.id)||"")===String(_.fightId||"")),ee=et==null?void 0:et.details;if(ee&&Dn){const[Ne,ft]=Dn.split("|"),Je=wt=>{const $t=Number(wt);if(!Number.isFinite($t))return{name:String(wt||"Unknown Skill"),icon:void 0};const Gt=(ee==null?void 0:ee.skillMap)||{},zt=(ee==null?void 0:ee.buffMap)||{},Lt=(Gt==null?void 0:Gt[`s${$t}`])||(Gt==null?void 0:Gt[`${$t}`]);if(Lt!=null&&Lt.name)return{name:String(Lt.name),icon:Lt==null?void 0:Lt.icon};const Vt=(zt==null?void 0:zt[`b${$t}`])||(zt==null?void 0:zt[`${$t}`]);return Vt!=null&&Vt.name?{name:String(Vt.name),icon:Vt==null?void 0:Vt.icon}:{name:`Skill ${$t}`,icon:void 0}},Rt=new Map,pn=(Array.isArray(ee==null?void 0:ee.players)?ee.players:[]).find(wt=>{if(wt!=null&&wt.notInSquad)return!1;const $t=String((wt==null?void 0:wt.account)||(wt==null?void 0:wt.name)||""),Gt=String((wt==null?void 0:wt.profession)||"Unknown"),zt=$t===String(Ne||""),Lt=Gt===String(ft||"");return zt&&Lt})||null;if(pn){const wt=pn,$t=Lt=>{if(!Lt||typeof Lt!="object"||Lt.indirectDamage)return;const Vt=Number(Lt.totalDamage||0),Ae=Number(Lt.downContribution||0);if((!Number.isFinite(Vt)||Vt<=0)&&(!Number.isFinite(Ae)||Ae<=0))return;const ct=Number(Lt.connectedHits||Lt.hits||0),Ee=Je(Lt.id),Ut=Rt.get(Ee.name)||{skillName:Ee.name,damage:0,downContribution:0,hits:0,icon:Ee.icon};Ut.damage+=Number.isFinite(Vt)?Vt:0,Ut.downContribution+=Number.isFinite(Ae)?Ae:0,Ut.hits+=Number.isFinite(ct)?ct:0,!Ut.icon&&Ee.icon&&(Ut.icon=Ee.icon),Rt.set(Ee.name,Ut)},Gt=new Map;Array.isArray(wt==null?void 0:wt.targetDamageDist)&&wt.targetDamageDist.forEach(Lt=>{Array.isArray(Lt)&&Lt.forEach(Vt=>{Array.isArray(Vt)&&Vt.forEach(Ae=>{const ct=Number(Ae==null?void 0:Ae.id),Ee=Number((Ae==null?void 0:Ae.totalDamage)||0),Ut=Number((Ae==null?void 0:Ae.downContribution)||0);if(Number.isFinite(ct)){const Qt=Gt.get(ct)||{damage:0,downContribution:0,hits:0};Qt.damage+=Number.isFinite(Ee)?Ee:0,Qt.downContribution+=Number.isFinite(Ut)?Ut:0,Qt.hits+=Number((Ae==null?void 0:Ae.connectedHits)||(Ae==null?void 0:Ae.hits)||0),Gt.set(ct,Qt)}$t(Ae)})})}),!(ee!=null&&ee.detailedWvW)&&Array.isArray(wt==null?void 0:wt.totalDamageDist)&&wt.totalDamageDist.forEach(Lt=>{Array.isArray(Lt)&&Lt.forEach(Vt=>{const Ae=Number(Vt==null?void 0:Vt.id);if(!Number.isFinite(Ae)){$t(Vt);return}const ct=Gt.get(Ae);if(!ct){$t(Vt);return}const Ee=Number((Vt==null?void 0:Vt.totalDamage)||0),Ut=Number((Vt==null?void 0:Vt.downContribution)||0),Qt=Number((Vt==null?void 0:Vt.connectedHits)||(Vt==null?void 0:Vt.hits)||0),Pn=Ee-Number(ct.damage||0),tn=Ut-Number(ct.downContribution||0),Et=Qt-Number(ct.hits||0);Pn<=0&&tn<=0&&Et<=0||$t({...Vt,totalDamage:Math.max(0,Pn),downContribution:Math.max(0,tn),connectedHits:Math.max(0,Et),hits:Math.max(0,Et)})})});const zt=Array.from(Rt.values()).filter(Lt=>Number((Lt==null?void 0:Lt.damage)||0)>0||Number((Lt==null?void 0:Lt.downContribution)||0)>0).sort((Lt,Vt)=>Number(Vt.damage||0)-Number(Lt.damage||0)).slice(0,30);if(zt.length>0)return zt}}return fe},[aa,Dn,Vo,wi.fights,e]);g.useEffect(()=>{if(vs.length===0){mc!==null&&vv(null),Uo!==null&&Em(null);return}if(!mc||!xv.has(mc)){const M=vs[0].key;vv(M),b2(null)}},[vs,xv,mc,Uo]),g.useEffect(()=>{if(!bs||bs.skills.length===0){Uo!==null&&Em(null);return}const M=bs.skills.some(_=>_.id===Uo);(!Uo||!M)&&Em(bs.skills[0].id)},[bs,Uo]),g.useEffect(()=>{if(xu.length===0){hc!==null&&bv(null),ys!==null&&Dm(null);return}if(!hc||!wv.has(hc)){const M=xu[0].profession;bv(M),x2(null)}},[xu,wv,hc,ys]),g.useEffect(()=>{if(!pl||pl.skills.length===0){ys!==null&&Dm(null);return}const M=pl.skills.some(_=>_.id===ys);(!ys||!M)&&Dm(pl.skills[0].id)},[pl,ys]),g.useEffect(()=>{if(wi.players.length===0){Dn!==null&&bi(null);return}(!Dn||!Gd.has(Dn))&&Dn!==null&&bi(null)},[wi.players,Gd,Dn]),g.useEffect(()=>{Wa(null)},[Dn,Fn,Re]),g.useEffect(()=>{aa!==null&&(Vo.some(M=>M.index===aa)||Wa(null))},[Vo,aa]),g.useEffect(()=>{if(ki.players.length===0){qe!==null&&Dt(null);return}(!qe||!kv.has(qe))&&qe!==null&&Dt(null)},[ki.players,kv,qe]),g.useEffect(()=>{hn(null)},[qe,Kt]),g.useEffect(()=>{Ht!==null&&(Wo.some(M=>M.index===Ht)||hn(null))},[Wo,Ht]);const w6=g.useMemo(()=>new Set(ri),[ri]),Im=Te?yt:X5,{playerMapByKey:xs,playerTotalsForSkill:wu,skillChartData:k6,skillChartMaxY:S6,groupedSkillUsagePlayers:N6}=VV({skillUsageData:Im,selectedSkillId:Pa,selectedPlayers:w6,skillUsageView:ps==="perSecond"?"perSecond":"total"}),w2=g.useMemo(()=>{const M=new Map,_=et=>{et.forEach(ee=>{const Ne=Tu(ee==null?void 0:ee.name)||(ee==null?void 0:ee.name);Ne&&ee!=null&&ee.icon&&!M.has(Ne)&&M.set(Ne,ee.icon)})},ne=et=>{et.forEach(ee=>{Object.entries((ee==null?void 0:ee.conditions)||{}).forEach(([Ne,ft])=>{const Je=Tu(Ne)||Ne;ft!=null&&ft.icon&&!M.has(Je)&&M.set(Je,ft.icon)})})},ue=et=>{const ee=new Map;return et.forEach(Ne=>{const ft=Tu(Ne==null?void 0:Ne.name)||(Ne==null?void 0:Ne.name);if(!ft)return;const Je=ee.get(ft)||{name:ft,icon:(Ne==null?void 0:Ne.icon)||M.get(ft)||oh(ft),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0};Je.applications+=Number((Ne==null?void 0:Ne.applications)||0),Je.damage+=Number((Ne==null?void 0:Ne.damage)||0),Ne!=null&&Ne.applicationsFromUptime&&(Je.applicationsFromUptime+=Number(Ne.applicationsFromUptime||0)),Ne!=null&&Ne.applicationsFromBuffs&&(Je.applicationsFromBuffs+=Number(Ne.applicationsFromBuffs||0)),Ne!=null&&Ne.applicationsFromBuffsActive&&(Je.applicationsFromBuffsActive+=Number(Ne.applicationsFromBuffsActive||0)),!Je.icon&&Ne!=null&&Ne.icon&&(Je.icon=Ne.icon),Je.icon||(Je.icon=oh(ft)),ee.set(ft,Je)}),Array.from(ee.values())},fe=et=>et.map(ee=>{const Ne={};return Object.entries((ee==null?void 0:ee.conditions)||{}).forEach(([ft,Je])=>{const Rt=Tu(ft)||ft;if(!Rt)return;const pn=Ne[Rt]||{icon:(Je==null?void 0:Je.icon)||M.get(Rt)||oh(Rt),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0,skills:{}};pn.applications+=Number((Je==null?void 0:Je.applications)||0),pn.damage+=Number((Je==null?void 0:Je.damage)||0),Je!=null&&Je.applicationsFromUptime&&(pn.applicationsFromUptime+=Number(Je.applicationsFromUptime||0)),Je!=null&&Je.applicationsFromBuffs&&(pn.applicationsFromBuffs+=Number(Je.applicationsFromBuffs||0)),Je!=null&&Je.applicationsFromBuffsActive&&(pn.applicationsFromBuffsActive+=Number(Je.applicationsFromBuffsActive||0)),!pn.icon&&Je!=null&&Je.icon&&(pn.icon=Je.icon),pn.icon||(pn.icon=oh(Rt)),Object.values((Je==null?void 0:Je.skills)||{}).forEach(wt=>{const $t=(wt==null?void 0:wt.name)||"Unknown",Gt=pn.skills[$t]||{name:$t,hits:0,damage:0,icon:wt==null?void 0:wt.icon};Gt.hits+=Number((wt==null?void 0:wt.hits)||0),Gt.damage+=Number((wt==null?void 0:wt.damage)||0),!Gt.icon&&wt!=null&&wt.icon&&(Gt.icon=wt.icon),pn.skills[$t]=Gt}),Ne[Rt]=pn}),{...ee,conditions:Ne}});return(et,ee)=>(_(et),ne(ee),{summary:ue(et),players:fe(ee)})},[]),k2=Fe?he==="outgoing"?X.outgoingConditionSummary:X.incomingConditionSummary:jb,S2=Fe?he==="outgoing"?X.outgoingConditionPlayers:X.incomingConditionPlayers:jb,{summary:_m,players:j6}=g.useMemo(()=>w2(k2||[],S2||[]),[w2,k2,S2]);g.useEffect(()=>{if(!Fe||$e==="all"||_m.some(_=>_.name===$e))return;const M=Tu($e);M&&_m.some(_=>_.name===M)?ge(M):ge("all")},[$e,_m,ge,Fe]);const C6=g.useMemo(()=>{const M={};return wu.forEach((_,ne)=>{const ue=xs.get(ne);if(!ue)return;const fe=ue.profession;(!M[fe]||_>M[fe])&&(M[fe]=_)}),M},[wu,xs]),Pt=W,Un=g.useCallback((M,_)=>{const ne=Pt(M);return d?`${_} ${ne?"":"hidden"}`:`${_} transition-[opacity,transform] duration-700 ease-in-out ${ne?"opacity-100 translate-y-0 max-h-[99999px]":"opacity-0 -translate-y-2 max-h-0 h-0 min-h-0 overflow-hidden pointer-events-none p-0 !p-0 m-0 !mb-0 !mt-0 border-0 !border-0 border-transparent"}`},[Pt,d]),N2=g.useMemo(()=>Woe.find(M=>Pt(M))||null,[Pt]),Vn=g.useCallback(M=>M===N2,[N2]),A6=g.useMemo(()=>{const M=new Map,_=new Map;return ri.forEach(ne=>{const ue=xs.get(ne);if(!ue)return;const fe=wu.get(ne)??0,et=_.get(ue.profession)||[];et.push({key:ne,total:fe}),_.set(ue.profession,et)}),_.forEach(ne=>{ne.sort((ue,fe)=>fe.total-ue.total),ne.forEach((ue,fe)=>{M.set(ue.key,fe)})}),M},[ri,xs,wu]),j2=["0","12 3","8 3","6 3","4 3","2 3"],M6=M=>{const _=xs.get(M),ne=Ls((_==null?void 0:_.profession)||""),ue=wu.get(M)??0,fe=_!=null&&_.profession&&C6[_.profession]||1,et=.35+(fe>0?ue/fe:1)*.65;return Lm(ne,et)},E6=M=>{const _=A6.get(M)??0;return j2[_%j2.length]},D6=(M,_,ne)=>{if(!ne)return M6(M);const ue=xs.get(M),fe=Ls((ue==null?void 0:ue.profession)||"");return _?Lm(fe,1.2):Lm(fe,.5)},Lm=(M,_)=>{const ne=M.replace("#","");if(ne.length!==6)return M;const ue=Je=>Math.max(0,Math.min(255,Je)),fe=Je=>Number.parseInt(ne.slice(Je,Je+2),16),et=Je=>ue(Math.round(Je)).toString(16).padStart(2,"0"),ee=fe(0),Ne=fe(2),ft=fe(4);return`#${et(ee*_)}${et(Ne*_)}${et(ft*_)}`},C2=g.useMemo(()=>{const M=new Map;return Im.skillOptions.forEach(_=>{M.set(_.id,{name:_.name,icon:_.icon})}),M},[Im.skillOptions]),Yd=g.useMemo(()=>{var M;if(ri.length===0)return[];const _=new Map,ne=new Map;let ue=0;ri.forEach(Je=>{const Rt=xs.get(Je);if(!Rt)return;ue+=Rt.totalActiveSeconds||0,Object.entries(Rt.skillTotals||{}).forEach(([wt,$t])=>{_.set(wt,(_.get(wt)||0)+Number($t||0))});const pn=Rt.profession||"Unknown";ne.set(pn,(ne.get(pn)||0)+(Rt.totalActiveSeconds||0))});const fe=ni.trim().toLowerCase(),et=ps==="perSecond",ee=((M=Array.from(ne.entries()).sort((Je,Rt)=>Rt[1]-Je[1])[0])==null?void 0:M[0])||"Unknown",Ne=Ls(ee),ft="#64748b";return Array.from(_.entries()).map(([Je,Rt])=>{const pn=C2.get(Je),wt=(pn==null?void 0:pn.name)||Je,$t=et&&ue>0?Rt/ue:Rt;return{skillId:Je,name:wt,icon:pn==null?void 0:pn.icon,total:$t}}).filter(Je=>Je.total>0&&(!fe||Je.name.toLowerCase().includes(fe))).sort((Je,Rt)=>Rt.total-Je.total).map((Je,Rt)=>({...Je,color:Rt===0?Ne:Lm(Ne,.85-Math.min(Rt*.06,.4))||ft}))},[ri,xs,ni,ps,C2]);g.useEffect(()=>{if(Te){if(Yd.length===0){Pa!==null&&fs(null);return}(!Pa||!Yd.some(M=>M.skillId===Pa))&&fs(Yd[0].skillId)}},[Yd,Pa,fs,Te]);const Fm=Im.skillOptions.find(M=>M.id===Pa),P6=(Fm==null?void 0:Fm.name)||"",T6=(Fm==null?void 0:Fm.icon)||null,O6=Ot&&!!Pa&&ri.length>0,Rm="__all__",I6=Ot&&fl.length>0,hl=g.useMemo(()=>fl.find(M=>M.profession===xi)??null,[fl,xi]),_6=gs===Rm,L6=g.useMemo(()=>{var M;return((M=hl==null?void 0:hl.skills)==null?void 0:M.find(_=>_.id===gs))??null},[hl,gs]);g.useEffect(()=>{if(fl.length===0){xi!==null&&ms(null),hs!==null&&gv(null);return}if(!xi||!fl.some(M=>M.profession===xi)){const M=fl[0].profession;ms(M),gv(null)}},[fl,xi,hs]),g.useEffect(()=>{if(!hl||hl.skills.length===0){gs!==null&&yv(null);return}const M=hl.skills.some(_=>_.id===gs);(!gs||!M&&gs!==Rm)&&yv(Rm)},[hl,gs]);const F6=M=>{zi(_=>_.includes(M)?_.filter(ne=>ne!==M):[..._,M])},R6=M=>{zi(_=>_.filter(ne=>ne!==M))},$6=g.useMemo(()=>{const M=Ro.trim().toLowerCase(),_=X.boonTables||[];return M?_.filter(ne=>ne.name.toLowerCase().includes(M)):_},[X.boonTables,Ro]),B6=g.useMemo(()=>En?(X.boonTables||[]).find(M=>M.id===En)??null:null,[X.boonTables,En]),$m=M=>{var _,ne,ue,fe;return{selfBuffs:M!=null&&M.totals&&typeof M.totals=="object"?Number(((_=M==null?void 0:M.totals)==null?void 0:_.selfBuffs)||0):0,groupBuffs:M!=null&&M.totals&&typeof M.totals=="object"?Number(((ne=M==null?void 0:M.totals)==null?void 0:ne.groupBuffs)||0):0,squadBuffs:M!=null&&M.totals&&typeof M.totals=="object"?Number(((ue=M==null?void 0:M.totals)==null?void 0:ue.squadBuffs)||0):Number((M==null?void 0:M.total)||0),totalBuffs:M!=null&&M.totals&&typeof M.totals=="object"?Number((((fe=M==null?void 0:M.totals)==null?void 0:fe.totalBuffs)??(M==null?void 0:M.total))||0):Number((M==null?void 0:M.total)||0)}},Jd=(M,_)=>{const ne=$m(M),ue=Number((ne==null?void 0:ne[_])||0);return Number.isFinite(ue)?Math.max(0,ue):0},A2=ba==="selfBuffs"?"Self":ba==="groupBuffs"?"Group":ba==="squadBuffs"?"Squad":"All",ws=g.useMemo(()=>(Array.isArray(X==null?void 0:X.boonTimeline)?X.boonTimeline:[]).map(M=>({id:String((M==null?void 0:M.id)||""),name:String((M==null?void 0:M.name)||(M==null?void 0:M.id)||"Unknown Boon"),icon:typeof(M==null?void 0:M.icon)=="string"?M.icon:void 0,stacking:!!(M!=null&&M.stacking),players:(Array.isArray(M==null?void 0:M.players)?M.players:[]).map(_=>({key:String((_==null?void 0:_.key)||""),account:String((_==null?void 0:_.account)||(_==null?void 0:_.displayName)||"Unknown"),displayName:String((_==null?void 0:_.displayName)||(_==null?void 0:_.account)||"Unknown"),profession:String((_==null?void 0:_.profession)||"Unknown"),professionList:Array.isArray(_==null?void 0:_.professionList)?_.professionList.map(ne=>String(ne||"")):[],logs:Number((_==null?void 0:_.logs)||0),totals:$m(_)})),fights:(Array.isArray(M==null?void 0:M.fights)?M.fights:[]).map((_,ne)=>({id:String((_==null?void 0:_.id)||`fight-${ne+1}`),shortLabel:String((_==null?void 0:_.shortLabel)||`F${ne+1}`),fullLabel:String((_==null?void 0:_.fullLabel)||`Fight ${ne+1}`),timestamp:Number((_==null?void 0:_.timestamp)||0),durationMs:Number((_==null?void 0:_.durationMs)||0),maxTotal:Number((_==null?void 0:_.maxTotal)||0),values:_!=null&&_.values&&typeof _.values=="object"?Object.fromEntries(Object.entries(_.values).map(([ue,fe])=>[String(ue||""),{total:Number((fe==null?void 0:fe.total)||0),totals:$m(fe),bucketWeights5s:Array.isArray(fe==null?void 0:fe.bucketWeights5s)?fe.bucketWeights5s.map(et=>Number(et||0)):[],buckets5s:Array.isArray(fe==null?void 0:fe.buckets5s)?fe.buckets5s.map(et=>Number(et||0)):[]}])):{}}))})).filter(M=>M.id&&M.players.length>0&&M.fights.length>0),[X.boonTimeline]),z6=g.useMemo(()=>{const M=fo.trim().toLowerCase();return M?ws.filter(_=>String((_==null?void 0:_.name)||"").toLowerCase().includes(M)):ws},[ws,fo]),Si=g.useMemo(()=>Hr&&ws.find(M=>M.id===Hr)||null,[ws,Hr]),Bm=g.useMemo(()=>[...Array.isArray(Si==null?void 0:Si.players)?Si.players:[]].map(M=>({...M,total:Jd(M,ba)})).sort((M,_)=>Number(_.total||0)-Number(M.total||0)||String(M.displayName||"").localeCompare(String(_.displayName||""))),[Si,ba]),U6=g.useMemo(()=>{const M=Bm,_=ds.trim().toLowerCase();return _?M.filter(ne=>String((ne==null?void 0:ne.displayName)||"").toLowerCase().includes(_)||String((ne==null?void 0:ne.account)||"").toLowerCase().includes(_)||String((ne==null?void 0:ne.profession)||"").toLowerCase().includes(_)):M},[Bm,ds]),V6=g.useMemo(()=>{const M=new Map;return Bm.forEach(_=>{M.set(String((_==null?void 0:_.key)||""),_)}),M},[Bm]),W6=Qn&&V6.get(Qn)||null,ku=g.useMemo(()=>!Si||!Qn?[]:(Si.fights||[]).map((M,_)=>{var ne;const ue=(ne=M==null?void 0:M.values)==null?void 0:ne[Qn],fe=Object.entries(M!=null&&M.values&&typeof M.values=="object"?M.values:{}).filter(([et])=>String(et||"")!=="__all__").reduce((et,[,ee])=>Math.max(et,Jd(ee,ba)),0);return{index:_,fightId:String((M==null?void 0:M.id)||""),shortLabel:String((M==null?void 0:M.shortLabel)||`F${_+1}`),fullLabel:String((M==null?void 0:M.fullLabel)||`Fight ${_+1}`),timestamp:Number((M==null?void 0:M.timestamp)||0),total:Jd(ue,ba),maxTotal:fe>0?fe:Number((M==null?void 0:M.maxTotal)||0)}}),[Si,Qn,ba]),q6=g.useMemo(()=>{const M=ku.reduce((ne,ue)=>Math.max(ne,Number((ue==null?void 0:ue.total)||0)),0),_=ku.reduce((ne,ue)=>Math.max(ne,Number((ue==null?void 0:ue.maxTotal)||0)),0);return Math.max(1,M,_)},[ku]),M2=g.useMemo(()=>{var M;const _=$o===null?null:ku.find(wt=>wt.index===$o)||null;if(!_||!Si||!Qn)return{title:"Fight Breakdown",data:[]};const ne=Si.fights[_.index],ue=((M=ne==null?void 0:ne.values)==null?void 0:M[Qn])||{total:0,totals:{selfBuffs:0,groupBuffs:0,squadBuffs:0,totalBuffs:0},bucketWeights5s:[],buckets5s:[]},fe=Jd(ue,ba),et=Array.isArray(ue==null?void 0:ue.bucketWeights5s)?ue.bucketWeights5s:[],ee=Array.isArray(ue==null?void 0:ue.buckets5s)?ue.buckets5s:[],Ne=Math.max(et.length,ee.length,Math.ceil(Math.max(0,Number((ne==null?void 0:ne.durationMs)||0))/5e3),1),ft=Array.from({length:Ne},(wt,$t)=>Number(et[$t]||0)),Je=ft.reduce((wt,$t)=>wt+Number($t||0),0);let Rt=[];if(Je>0){const wt=fe>0?fe/Je:0;Rt=ft.map($t=>Number($t||0)*wt)}else if(ee.length>0){const wt=Array.from({length:Ne},($t,Gt)=>Number(ee[Gt]||0));if(ba==="totalBuffs"||!(ue!=null&&ue.totals))Rt=wt;else{const $t=Jd({totals:$m(ue)},"totalBuffs"),Gt=$t>0?fe/$t:0;Rt=wt.map(zt=>Number(zt||0)*Gt)}}else{const wt=fe>0?fe/Math.max(1,Ne):0;Rt=Array.from({length:Ne},()=>wt)}const pn=Array.from({length:Ne},(wt,$t)=>({label:`${$t*5}s-${($t+1)*5}s`,value:Number(Rt[$t]||0)}));return{title:`Fight Breakdown - ${_.shortLabel||"Fight"} (5s ${A2} Generation Buckets)`,data:pn}},[$o,ku,Si,Qn,ba,A2]),ks=g.useMemo(()=>(Array.isArray(X==null?void 0:X.boonUptimeTimeline)?X.boonUptimeTimeline:[]).map(M=>({id:String((M==null?void 0:M.id)||""),name:String((M==null?void 0:M.name)||(M==null?void 0:M.id)||"Unknown Boon"),icon:typeof(M==null?void 0:M.icon)=="string"?M.icon:void 0,stacking:!!(M!=null&&M.stacking),players:(Array.isArray(M==null?void 0:M.players)?M.players:[]).map(_=>({key:String((_==null?void 0:_.key)||""),account:String((_==null?void 0:_.account)||(_==null?void 0:_.displayName)||"Unknown"),displayName:String((_==null?void 0:_.displayName)||(_==null?void 0:_.account)||"Unknown"),profession:String((_==null?void 0:_.profession)||"Unknown"),professionList:Array.isArray(_==null?void 0:_.professionList)?_.professionList.map(ne=>String(ne||"")):[],logs:Number((_==null?void 0:_.logs)||0),total:Math.max(0,Number((_==null?void 0:_.total)||0)),peak:Math.max(0,Number((_==null?void 0:_.peak)||0))})).filter(_=>_.key&&_.key!=="__all__"),fights:(Array.isArray(M==null?void 0:M.fights)?M.fights:[]).map((_,ne)=>({id:String((_==null?void 0:_.id)||`fight-${ne+1}`),shortLabel:String((_==null?void 0:_.shortLabel)||`F${ne+1}`),fullLabel:String((_==null?void 0:_.fullLabel)||`Fight ${ne+1}`),timestamp:Number((_==null?void 0:_.timestamp)||0),durationMs:Number((_==null?void 0:_.durationMs)||0),maxTotal:Math.max(0,Number((_==null?void 0:_.maxTotal)||0)),values:_!=null&&_.values&&typeof _.values=="object"?Object.fromEntries(Object.entries(_.values).map(([ue,fe])=>[String(ue||""),{total:Math.max(0,Number((fe==null?void 0:fe.total)||0)),peak:Math.max(0,Number((fe==null?void 0:fe.peak)||0)),buckets5s:Array.isArray(fe==null?void 0:fe.buckets5s)?fe.buckets5s.map(et=>Math.max(0,Number(et||0))):[]}])):{}}))})).filter(M=>M.id&&M.players.length>0&&M.fights.length>0),[X.boonUptimeTimeline]),H6=g.useMemo(()=>{const M=cl.trim().toLowerCase();return M?ks.filter(_=>String((_==null?void 0:_.name)||"").toLowerCase().includes(M)):ks},[ks,cl]),Kr=g.useMemo(()=>vi&&ks.find(M=>M.id===vi)||null,[ks,vi]),Zd=g.useMemo(()=>[...Array.isArray(Kr==null?void 0:Kr.players)?Kr.players:[]].sort((M,_)=>Number(_.peak||0)-Number(M.peak||0)||Number(_.total||0)-Number(M.total||0)||String(M.displayName||"").localeCompare(String(_.displayName||""))),[Kr]),K6=g.useMemo(()=>{const M=Bo.trim().toLowerCase();return M?Zd.filter(_=>String((_==null?void 0:_.displayName)||"").toLowerCase().includes(M)||String((_==null?void 0:_.account)||"").toLowerCase().includes(M)||String((_==null?void 0:_.profession)||"").toLowerCase().includes(M)):Zd},[Zd,Bo]),G6=g.useMemo(()=>{const M=new Map;return Zd.forEach(_=>{M.set(String((_==null?void 0:_.key)||""),_)}),M},[Zd]),Y6=G&&G6.get(G)||null,gl=g.useMemo(()=>!Kr||!G?[]:(Kr.fights||[]).map((M,_)=>{var ne;const ue=((ne=M==null?void 0:M.values)==null?void 0:ne[G])||{total:0,peak:0},fe=Object.entries(M!=null&&M.values&&typeof M.values=="object"?M.values:{}).filter(([et])=>String(et||"")!=="__all__").reduce((et,[,ee])=>Math.max(et,Math.max(0,Number((ee==null?void 0:ee.peak)||0))),0);return{index:_,fightId:String((M==null?void 0:M.id)||""),shortLabel:String((M==null?void 0:M.shortLabel)||`F${_+1}`),fullLabel:String((M==null?void 0:M.fullLabel)||`Fight ${_+1}`),timestamp:Number((M==null?void 0:M.timestamp)||0),durationMs:Number((M==null?void 0:M.durationMs)||0),total:Math.max(0,Number((ue==null?void 0:ue.total)||0)),peak:Math.max(0,Number((ue==null?void 0:ue.peak)||0)),maxTotal:fe>0?fe:Math.max(0,Number((M==null?void 0:M.maxTotal)||0))}}),[Kr,G]),J6=g.useMemo(()=>{const M=gl.reduce((ue,fe)=>Math.max(ue,Number((fe==null?void 0:fe.peak)||0)),0),_=gl.reduce((ue,fe)=>Math.max(ue,Number((fe==null?void 0:fe.maxTotal)||0)),0),ne=Kr!=null&&Kr.stacking?25:0;return Math.max(1,M,_,ne)},[gl,Kr==null?void 0:Kr.stacking]),E2=g.useMemo(()=>{var M,_;const ne=Ge===null?null:gl.find(ft=>ft.index===Ge)||null;if(!ne||!Kr||!G)return{title:"Fight Breakdown",data:[]};const ue=(M=Kr.fights)==null?void 0:M[ne.index];if(!ue)return{title:"Fight Breakdown",data:[]};const fe=(_=ue==null?void 0:ue.values)==null?void 0:_[G],et=Array.isArray(fe==null?void 0:fe.buckets5s)?fe.buckets5s:[],ee=Math.max(et.length,Math.ceil(Math.max(0,Number((ue==null?void 0:ue.durationMs)||0))/5e3),1),Ne=Array.from({length:ee},(ft,Je)=>{const Rt=Object.entries(ue!=null&&ue.values&&typeof ue.values=="object"?ue.values:{}).filter(([pn])=>String(pn||"")!=="__all__").reduce((pn,[,wt])=>{var $t;return Math.max(pn,Math.max(0,Number((($t=wt==null?void 0:wt.buckets5s)==null?void 0:$t[Je])||0)))},0);return{label:`${Je*5}s-${(Je+1)*5}s`,value:Math.max(0,Number(et[Je]||0)),maxValue:Rt}});return{title:`Fight Breakdown - ${ne.shortLabel||"Fight"} (5s Stack Buckets)`,data:Ne}},[Ge,gl,Kr,G]),Z6=g.useMemo(()=>{const M=Nt.trim().toLowerCase(),_=[...X.specialTables||[]].sort((ne,ue)=>ne.name.localeCompare(ue.name));return M?_.filter(ne=>ne.name.toLowerCase().includes(M)):_},[X.specialTables,Nt]),mo=g.useMemo(()=>[...X.specialTables||[]].filter(M=>/\b(sigil|relic)\b/i.test(String((M==null?void 0:M.name)||""))).sort((M,_)=>M.name.localeCompare(_.name)),[X.specialTables]),Q6=g.useMemo(()=>{const M=tr.trim().toLowerCase();return M?mo.filter(_=>_.name.toLowerCase().includes(M)):mo},[mo,tr]),X6=g.useMemo(()=>Bt?(X.specialTables||[]).find(M=>M.id===Bt)??null:null,[X.specialTables,Bt]),eB=g.useMemo(()=>dn?mo.find(M=>M.id===dn)??null:null,[mo,dn]);g.useEffect(()=>{!X.boonTables||X.boonTables.length===0||(!En||!X.boonTables.some(M=>M.id===En))&&sc(X.boonTables[0].id)},[X.boonTables,En]),g.useEffect(()=>{if(ws.length===0){Hr!==null&&Ea(null);return}(!Hr||!ws.some(M=>M.id===Hr))&&Ea(ws[0].id)},[ws,Hr]),g.useEffect(()=>{var M;const _=(Si==null?void 0:Si.players)||[];if(_.length===0){Qn!==null&&po(null);return}const ne=((M=_.find(ue=>ue.key==="__all__"))==null?void 0:M.key)||_[0].key;(!Qn||!_.some(ue=>ue.key===Qn))&&po(ne)},[Si,Qn]),g.useEffect(()=>{cc(null)},[Hr,Qn]),g.useEffect(()=>{if(ks.length===0){vi!==null&&ul(null);return}(!vi||!ks.some(M=>M.id===vi))&&ul(ks[0].id)},[ks,vi]),g.useEffect(()=>{var M;const _=(Kr==null?void 0:Kr.players)||[];if(_.length===0){G!==null&&xe(null);return}const ne=((M=_.find(ue=>ue.key==="__all__"))==null?void 0:M.key)||_[0].key;(!G||!_.some(ue=>ue.key===G))&&xe(ne)},[Kr,G]),g.useEffect(()=>{Ge!==null&&(Ge<0||Ge>=gl.length)&&gt(null)},[gl,Ge]),g.useEffect(()=>{gt(null)},[vi,G]),g.useEffect(()=>{!X.specialTables||X.specialTables.length===0||(!Bt||!X.specialTables.some(M=>M.id===Bt))&&_t(X.specialTables[0].id)},[X.specialTables,Bt]),g.useEffect(()=>{if(!mo||mo.length===0){dn!==null&&gr(null);return}(!dn||!mo.some(M=>M.id===dn))&&gr(mo[0].id)},[mo,dn]),g.useEffect(()=>{const M=()=>{const ne=window.getSelection();ne&&ne.rangeCount>0&&ne.removeAllRanges()},_=ne=>{var ue;const fe=ne.target;(ue=fe==null?void 0:fe.closest)!=null&&ue.call(fe,".recharts-wrapper")&&(ne.preventDefault(),M())};return document.addEventListener("selectstart",_),document.addEventListener("mousedown",_),document.addEventListener("mousemove",_),document.addEventListener("dragstart",_),()=>{document.removeEventListener("selectstart",_),document.removeEventListener("mousedown",_),document.removeEventListener("mousemove",_),document.removeEventListener("dragstart",_)}},[]);const ia=M=>{zo.current&&(window.clearTimeout(zo.current),zo.current=null),fc(!1),dc(M)},Fr=()=>{xn&&(zo.current&&window.clearTimeout(zo.current),fc(!0),zo.current=window.setTimeout(()=>{dc(null),fc(!1),zo.current=null},160))};g.useEffect(()=>{if(!xn)return;const M=ue=>{ue.key==="Escape"&&Fr()},_=document.body.style.overflow,ne=document.documentElement.style.overflow;return document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",window.addEventListener("keydown",M),()=>{window.removeEventListener("keydown",M),document.body.style.overflow=_,document.documentElement.style.overflow=ne}},[xn]);const D2=(M,_)=>{const ne=((_==null?void 0:_.value)||0)-((M==null?void 0:M.value)||0);return ne!==0?ne:String((M==null?void 0:M.name)||"").localeCompare(String((_==null?void 0:_.name)||""))},P2=Array.isArray(X==null?void 0:X.squadClassData)?X.squadClassData:[],T2=Array.isArray(X==null?void 0:X.enemyClassData)?X.enemyClassData:[],tB=Array.isArray(X==null?void 0:X.attendanceData)?X.attendanceData:[],Sv=Array.isArray(X==null?void 0:X.squadCompByFight)?X.squadCompByFight:[],O2=Array.isArray(X==null?void 0:X.fightBreakdown)?X.fightBreakdown:[],nB=g.useMemo(()=>{const M=new Map;return O2.forEach(_=>{const ne=String((_==null?void 0:_.id)||"");ne&&M.set(ne,_)}),Sv.map(_=>{const ne=M.get(String((_==null?void 0:_.id)||""))||null;return{..._,enemyClassCounts:(ne==null?void 0:ne.enemyClassCounts)||{}}})},[Sv,O2]),rB=g.useMemo(()=>[...P2].sort(D2),[P2]),aB=g.useMemo(()=>[...T2].sort(D2),[T2]),iB=u?"stats-view min-h-screen flex flex-col p-0 w-full max-w-none":"stats-view h-full flex flex-col p-1 w-full max-w-none overflow-hidden",oB=u?`stats-sections space-y-0 min-h-0 px-3 pb-3 pt-3 sm:px-4 sm:pb-4 sm:pt-4 rounded-xl border border-white/5 ${xn?"":"backdrop-blur-xl"}`:`flex-1 overflow-y-auto pr-2 space-y-6 min-h-0 border border-white/5 p-4 rounded-xl ${xn?"":"backdrop-blur-2xl"}`,I2=u&&p!=="matte"&&p!=="kinetic"?{backgroundColor:"rgba(3, 7, 18, 0.75)",backgroundImage:"linear-gradient(160deg, rgba(var(--accent-rgb), 0.12), rgba(var(--accent-rgb), 0.04) 70%)"}:u&&p==="kinetic"?{backgroundColor:"var(--bg-elevated)",backgroundImage:"none"}:void 0,sB=ye?{...I2||{},overflowY:"hidden"}:I2,lB=M=>ps==="perSecond"?M.toFixed(1):Math.round(M).toLocaleString(),cB=M=>M.toFixed(1),uB=M=>Math.round(M).toLocaleString(),dB=M=>typeof M=="number"&&Number.isFinite(M)?M.toFixed(1):"0.0",fB=Math.max(Math.max(0,Number(X.total||0)),Math.max(0,Number(e.length||0)),Math.max(0,Number((h==null?void 0:h.total)||0))),oa=aoe;return c.jsxs("div",{className:iB,children:[xn&&c.jsx("div",{className:`fixed inset-0 z-40 bg-black/70 backdrop-blur-md modal-backdrop ${jr?"modal-backdrop-exit":"modal-backdrop-enter"}`,onClick:Fr}),c.jsx(Boe,{embedded:u,dashboardTitle:f,totalLogs:fB,onBack:t,devMockAvailable:we,devMockUploadState:Ze,onDevMockUpload:mr,uploadingWeb:O,onWebUpload:on,sharing:Zn,canShareDiscord:m,onShare:un}),c.jsx(zoe,{embedded:u,webUploadMessage:H,webUploadUrl:J,webUploadBuildStatus:ie,webCopyStatus:It,setWebCopyStatus:rn}),c.jsx(Uoe,{embedded:u,devMockAvailable:we,devMockUploadState:Ze}),re&&c.jsxs("div",{className:"stats-settling-banner mb-3 rounded-xl border px-4 py-3 text-xs",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3",children:[c.jsx("div",{className:"stats-settling-banner__title font-semibold",children:F}),c.jsx("div",{className:"stats-settling-banner__meta text-[11px]",children:le})]}),L.active&&c.jsx("div",{className:"stats-settling-banner__track mt-2 h-1.5 overflow-hidden rounded-full",children:c.jsx("div",{className:"stats-settling-banner__bar h-full rounded-full transition-all duration-300",style:{width:`${L.progressPercent}%`}})}),z&&c.jsx("div",{className:"stats-settling-banner__meta mt-2 text-[11px] opacity-80",children:z})]}),c.jsxs("div",{className:`${u?"":"flex-1 min-h-0 flex"} relative ${ye?"stats-dashboard-loading-shell":""}`,children:[c.jsxs("div",{id:"stats-dashboard-container",ref:Se,className:`${oB} ${u?"":"flex-1"} ${ye?"stats-dashboard-scroll-lock":""}`,style:sB,children:[c.jsxs(c.Fragment,{children:[Pt("overview")&&c.jsx(Noe,{stats:X,isSectionVisible:Pt,isFirstVisibleSection:Vn,sectionClass:Un}),Pt("fight-breakdown")&&c.jsx(joe,{stats:X,fightBreakdownTab:Mm,setFightBreakdownTab:ai,isSectionVisible:Pt,isFirstVisibleSection:Vn,sectionClass:Un}),Pt("top-players")&&c.jsx(Moe,{stats:X,showTopStats:j,showMvp:N,topStatsMode:P,expandedLeader:Ln,setExpandedLeader:hr,formatTopStatValue:xl,formatWithCommas:ca,isMvpStatEnabled:gn,renderProfessionIcon:oa,isSectionVisible:Pt,isFirstVisibleSection:Vn,sectionClass:Un}),Pt("top-skills-outgoing")&&c.jsx(Eoe,{stats:X,topSkillsMetric:I,onTopSkillsMetricChange:zn,isSectionVisible:Pt,isFirstVisibleSection:Vn,sectionClass:Un}),Pt("squad-composition")&&c.jsx(Doe,{sortedSquadClassData:rB,sortedEnemyClassData:aB,getProfessionIconPath:Ic,isSectionVisible:Pt,isFirstVisibleSection:Vn,sectionClass:Un}),Pt("attendance-ledger")&&c.jsx(_oe,{attendanceRows:tB,getProfessionIconPath:Ic,isSectionVisible:Pt,isFirstVisibleSection:Vn,sectionClass:Un}),Pt("squad-comp-fight")&&c.jsx(Foe,{fights:Sv,getProfessionIconPath:Ic,isSectionVisible:Pt,isFirstVisibleSection:Vn,sectionClass:Un}),Pt("fight-comp")&&c.jsx($oe,{fights:nB,getProfessionIconPath:Ic,isSectionVisible:Pt,isFirstVisibleSection:Vn,sectionClass:Un}),Pt("timeline")&&c.jsx(Poe,{timelineData:X.timelineData,timelineFriendlyScope:Cn,setTimelineFriendlyScope:Lr,isSectionVisible:Pt,isFirstVisibleSection:Vn,sectionClass:Un}),Pt("map-distribution")&&c.jsx(Toe,{mapData:X.mapData,isSectionVisible:Pt,isFirstVisibleSection:Vn,sectionClass:Un}),Pt("offense-detailed")&&c.jsx(foe,{stats:X,OFFENSE_METRICS:yO,roundCountStats:A,offenseSearch:E,setOffenseSearch:U,activeOffenseStat:nt,setActiveOffenseStat:xt,offenseViewMode:Pe,setOffenseViewMode:ut,formatWithCommas:ca,renderProfessionIcon:oa,expandedSection:xn,expandedSectionClosing:jr,openExpandedSection:ia,closeExpandedSection:Fr,isSectionVisible:Pt,isFirstVisibleSection:Vn,sectionClass:Un,sidebarListClass:Yo}),Pt("player-breakdown")&&c.jsx(loe,{expandedSection:xn,expandedSectionClosing:jr,openExpandedSection:ia,closeExpandedSection:Fr,isSectionVisible:Pt,isFirstVisibleSection:Vn,sectionClass:Un,sidebarListClass:Yo,viewMode:s6,setViewMode:l6,playerSkillBreakdowns:vs,classSkillBreakdowns:xu,activePlayerKey:mc,setActivePlayerKey:vv,expandedPlayerKey:a6,setExpandedPlayerKey:b2,activePlayerSkillId:Uo,setActivePlayerSkillId:Em,activeClassKey:hc,setActiveClassKey:bv,expandedClassKey:c6,setExpandedClassKey:x2,activeClassSkillId:ys,setActiveClassSkillId:Dm,skillSearch:i6,setSkillSearch:o6,activePlayerBreakdown:bs,activePlayerSkill:d6,activeClassBreakdown:pl,activeClassSkill:f6,renderProfessionIcon:oa}),Pt("damage-breakdown")&&c.jsx(coe,{expandedSection:xn,expandedSectionClosing:jr,openExpandedSection:ia,closeExpandedSection:Fr,isSectionVisible:Pt,isFirstVisibleSection:Vn,sectionClass:Un,playerSkillBreakdowns:vs,renderProfessionIcon:oa}),Pt("spike-damage")&&c.jsx(Z5,{expandedSection:xn,expandedSectionClosing:jr,openExpandedSection:ia,closeExpandedSection:Fr,isSectionVisible:Pt,isFirstVisibleSection:Vn,sectionClass:Un,spikePlayerFilter:St,setSpikePlayerFilter:Ft,groupedSpikePlayers:p6,spikeMode:Fn,setSpikeMode:Qe,damageBasis:Re,setDamageBasis:Ke,showDamageBasisToggle:!0,selectedSpikePlayerKey:Dn,setSelectedSpikePlayerKey:bi,selectedSpikePlayer:m6,spikeChartData:Vo,spikeChartMaxY:h6,selectedSpikeFightIndex:aa,setSelectedSpikeFightIndex:Wa,spikeDrilldownTitle:Tm.title,spikeDrilldownData:Tm.data,spikeDrilldownDownIndices:Tm.downIndices,spikeDrilldownDeathIndices:Tm.deathIndices,spikeFightSkillRows:x6,spikeFightSkillTitle:"Outgoing Skill Damage (Selected Fight)",formatWithCommas:ca,renderProfessionIcon:oa}),Pt("conditions-outgoing")&&c.jsx(poe,{conditionSummary:_m,conditionPlayers:j6,conditionSearch:Ie,setConditionSearch:vt,activeConditionName:$e,setActiveConditionName:ge,conditionDirection:he,setConditionDirection:Xe,conditionGridClass:Le,effectiveConditionSort:We,setConditionSort:Ye,showConditionDamage:se,renderProfessionIcon:oa,expandedSection:xn,expandedSectionClosing:jr,openExpandedSection:ia,closeExpandedSection:Fr,isSectionVisible:Pt,isFirstVisibleSection:Vn,sectionClass:Un,sidebarListClass:Yo}),Pt("defense-detailed")&&c.jsx(hoe,{stats:X,DEFENSE_METRICS:vO,defenseSearch:Z,setDefenseSearch:ae,activeDefenseStat:je,setActiveDefenseStat:Me,defenseViewMode:bt,setDefenseViewMode:jt,roundCountStats:A,formatWithCommas:ca,renderProfessionIcon:oa,expandedSection:xn,expandedSectionClosing:jr,openExpandedSection:ia,closeExpandedSection:Fr,isSectionVisible:Pt,isFirstVisibleSection:Vn,sectionClass:Un,sidebarListClass:Yo}),Pt("incoming-strike-damage")&&c.jsx(Z5,{sectionId:"incoming-strike-damage",title:"Incoming Strike Damage",subtitle:"Select one enemy class to chart incoming strike pressure per fight.",listTitle:"Enemy Classes",searchPlaceholder:"Search enemy class",titleIconClassName:"text-cyan-300",expandedSection:xn,expandedSectionClosing:jr,openExpandedSection:ia,closeExpandedSection:Fr,isSectionVisible:Pt,isFirstVisibleSection:Vn,sectionClass:Un,spikePlayerFilter:Be,setSpikePlayerFilter:pe,groupedSpikePlayers:g6,spikeMode:Kt,setSpikeMode:Zt,selectedSpikePlayerKey:qe,setSelectedSpikePlayerKey:Dt,selectedSpikePlayer:y6,spikeChartData:Wo,spikeChartMaxY:v6,selectedSpikeFightIndex:Ht,setSelectedSpikeFightIndex:hn,spikeDrilldownTitle:Om.title,spikeDrilldownData:Om.data,spikeDrilldownDownIndices:Om.downIndices,spikeDrilldownDeathIndices:Om.deathIndices,spikeFightSkillRows:b6,spikeFightSkillTitle:"Incoming Skill Damage (Selected Fight)",formatWithCommas:ca,renderProfessionIcon:oa}),Pt("defense-mitigation")&&c.jsx(goe,{stats:X,DAMAGE_MITIGATION_METRICS:WU,damageMitigationSearch:de,setDamageMitigationSearch:_e,activeDamageMitigationStat:ke,setActiveDamageMitigationStat:De,damageMitigationViewMode:mn,setDamageMitigationViewMode:an,damageMitigationScope:Dr,setDamageMitigationScope:In,roundCountStats:A,formatWithCommas:ca,renderProfessionIcon:oa,expandedSection:xn,expandedSectionClosing:jr,openExpandedSection:ia,closeExpandedSection:Fr,isSectionVisible:Pt,isFirstVisibleSection:Vn,sectionClass:Un,sidebarListClass:Yo}),Pt("boon-output")&&c.jsx(moe,{stats:X,activeBoonCategory:ya,setActiveBoonCategory:M=>_r(M),activeBoonMetric:yu,setActiveBoonMetric:lc,activeBoonTab:En,setActiveBoonTab:sc,activeBoonTable:B6,filteredBoonTables:$6,boonSearch:Ro,setBoonSearch:Ma,formatBoonMetricDisplay:w8,getBoonMetricValue:DO,renderProfessionIcon:oa,roundCountStats:A,expandedSection:xn,expandedSectionClosing:jr,openExpandedSection:ia,closeExpandedSection:Fr,isSectionVisible:Pt,isFirstVisibleSection:Vn,sectionClass:Un,sidebarListClass:Yo}),Pt("boon-timeline")&&c.jsx(uoe,{expandedSection:xn,expandedSectionClosing:jr,openExpandedSection:ia,closeExpandedSection:Fr,isSectionVisible:Pt,isFirstVisibleSection:Vn,sectionClass:Un,boonSearch:fo,setBoonSearch:va,boons:z6,activeBoonId:Hr,setActiveBoonId:Ea,timelineScope:ba,setTimelineScope:ll,playerFilter:ds,setPlayerFilter:Bi,players:U6,selectedPlayerKey:Qn,setSelectedPlayerKey:po,selectedPlayer:W6,chartData:ku,chartMaxY:q6,selectedFightIndex:$o,setSelectedFightIndex:cc,drilldownTitle:M2.title,drilldownData:M2.data,formatWithCommas:ca,renderProfessionIcon:oa}),Pt("boon-uptime")&&c.jsx(doe,{expandedSection:xn,expandedSectionClosing:jr,openExpandedSection:ia,closeExpandedSection:Fr,isSectionVisible:Pt,isFirstVisibleSection:Vn,sectionClass:Un,boonSearch:cl,setBoonSearch:Hd,boons:H6,activeBoonId:vi,setActiveBoonId:ul,playerFilter:Bo,setPlayerFilter:vu,players:K6,selectedPlayerKey:G,setSelectedPlayerKey:xe,selectedPlayer:Y6,chartData:gl,chartMaxY:J6,selectedFightIndex:Ge,setSelectedFightIndex:gt,drilldownTitle:E2.title,drilldownData:E2.data,showStackCapLine:!!(Kr!=null&&Kr.stacking),formatWithCommas:ca,renderProfessionIcon:oa}),Pt("support-detailed")&&c.jsx(yoe,{stats:X,SUPPORT_METRICS:bO,supportSearch:be,setSupportSearch:tt,activeSupportStat:mt,setActiveSupportStat:ht,supportViewMode:sn,setSupportViewMode:rt,cleanseScope:Hn,setCleanseScope:fn,roundCountStats:A,formatWithCommas:ca,renderProfessionIcon:oa,expandedSection:xn,expandedSectionClosing:jr,openExpandedSection:ia,closeExpandedSection:Fr,isSectionVisible:Pt,isFirstVisibleSection:Vn,sectionClass:Un,sidebarListClass:Yo}),Pt("healing-stats")&&c.jsx(voe,{stats:X,HEALING_METRICS:qU,activeHealingMetric:Ve,setActiveHealingMetric:at,healingCategory:Ce,setHealingCategory:He,activeResUtilitySkill:it,setActiveResUtilitySkill:lt,skillUsageData:yt,formatWithCommas:ca,renderProfessionIcon:oa,expandedSection:xn,expandedSectionClosing:jr,openExpandedSection:ia,closeExpandedSection:Fr,isSectionVisible:Pt,isFirstVisibleSection:Vn,sectionClass:Un}),Pt("fight-diff-mode")&&c.jsx(Soe,{stats:X,formatWithCommas:ca,expandedSection:xn,expandedSectionClosing:jr,openExpandedSection:ia,closeExpandedSection:Fr,isSectionVisible:Pt,isFirstVisibleSection:Vn,sectionClass:Un}),Pt("special-buffs")&&c.jsx(xoe,{stats:X,specialSearch:Nt,setSpecialSearch:yn,filteredSpecialTables:Z6,activeSpecialTab:Bt,setActiveSpecialTab:_t,activeSpecialTable:X6,formatWithCommas:ca,renderProfessionIcon:oa,expandedSection:xn,expandedSectionClosing:jr,openExpandedSection:ia,closeExpandedSection:Fr,isSectionVisible:Pt,isFirstVisibleSection:Vn,sectionClass:Un,sidebarListClass:Yo}),Pt("sigil-relic-uptime")&&c.jsx(koe,{hasSigilRelicTables:mo.length>0,sigilRelicSearch:tr,setSigilRelicSearch:ot,filteredSigilRelicTables:Q6,activeSigilRelicTab:dn,setActiveSigilRelicTab:gr,activeSigilRelicTable:eB,formatWithCommas:ca,renderProfessionIcon:oa,expandedSection:xn,expandedSectionClosing:jr,openExpandedSection:ia,closeExpandedSection:Fr,isSectionVisible:Pt,isFirstVisibleSection:Vn,sectionClass:Un,sidebarListClass:Yo}),Pt("skill-usage")&&c.jsx(ioe,{expandedSection:xn,expandedSectionClosing:jr,openExpandedSection:ia,closeExpandedSection:Fr,isSectionVisible:Pt,isFirstVisibleSection:Vn,sectionClass:Un,selectedPlayers:ri,setSelectedPlayers:zi,removeSelectedPlayer:R6,playerMapByKey:xs,groupedSkillUsagePlayers:N6,expandedSkillUsageClass:dl,setExpandedSkillUsageClass:bu,togglePlayerSelection:F6,skillUsagePlayerFilter:Da,setSkillUsagePlayerFilter:ra,skillUsageView:ps,setSkillUsageView:Kd,skillUsageData:yt,skillUsageSkillFilter:ni,setSkillUsageSkillFilter:uc,selectedSkillId:Pa,setSelectedSkillId:fs,skillBarData:Yd,selectedSkillName:P6,selectedSkillIcon:T6,skillUsageReady:O6,skillUsageAvailable:Ot,isSkillUsagePerSecond:Ui,skillChartData:k6,skillChartMaxY:S6,playerTotalsForSkill:wu,hoveredSkillPlayer:yr,setHoveredSkillPlayer:qa,getLineStrokeColor:D6,getLineDashForPlayer:E6,formatSkillUsageValue:lB,renderProfessionIcon:oa}),Pt("apm-stats")&&c.jsx(soe,{expandedSection:xn,expandedSectionClosing:jr,openExpandedSection:ia,closeExpandedSection:Fr,isSectionVisible:Pt,isFirstVisibleSection:Vn,sectionClass:Un,sidebarListClass:Yo,apmSpecAvailable:I6,skillUsageAvailable:Ot,apmSpecTables:fl,activeApmSpec:xi,setActiveApmSpec:ms,expandedApmSpec:hs,setExpandedApmSpec:gv,activeApmSkillId:gs,setActiveApmSkillId:yv,ALL_SKILLS_KEY:Rm,apmSkillSearch:n6,setApmSkillSearch:r6,activeApmSpecTable:hl,activeApmSkill:L6,isAllApmSkills:_6,apmView:ii,setApmView:pc,formatApmValue:dB,formatCastRateValue:cB,formatCastCountValue:uB,renderProfessionIcon:oa})]}),!u&&c.jsx("div",{className:"h-24","aria-hidden":"true"})]}),ye&&c.jsx("div",{className:"stats-dashboard-loading-overlay","aria-hidden":"true"})]})]})}const Hoe="Arcane",TN="CRT",j0="MatteSlate",C0="KineticPaper",Wf="KineticPaperDark",Qh={id:Hoe,label:"Arcane",rgb:"136, 116, 255",pattern:"radial-gradient(at 0% 0%, hsla(250, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(220, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 65%, 20%, 1) 0, transparent 70%)"},Koe={id:j0,label:"Matte Slate",rgb:"93, 163, 194",pattern:"linear-gradient(to bottom, #222629, #222629)"},Goe={id:C0,label:"Kinetic Paper",rgb:"154, 133, 99",pattern:"linear-gradient(to bottom, #e9e3d8, #e9e3d8)"},Yoe={id:Wf,label:"Kinetic Paper (Dark)",rgb:"142, 155, 214",pattern:"linear-gradient(to bottom, #2b3048, #2b3048)"},Joe=[Qh,{id:"Amethyst",label:"Amethyst",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(270, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(260, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 60%, 30%, 1) 0, transparent 70%)"},{id:"Aurora",label:"Aurora",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(160, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 75%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 85%, 15%, 1) 0, transparent 70%)"},{id:"Autumn",label:"Autumn",rgb:"180, 130, 70",pattern:"radial-gradient(at 0% 0%, hsla(30, 65%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 60%, 15%, 1) 0, transparent 70%)"},{id:"Berry",label:"Berry",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(300, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 60%, 25%, 1) 0, transparent 70%)"},{id:"Bubblegum",label:"Bubblegum",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 85%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 75%, 20%, 1) 0, transparent 70%)"},{id:"Cherry",label:"Cherry",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(340, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(0, 60%, 25%, 1) 0, transparent 70%)"},{id:"Cobalt",label:"Cobalt",rgb:"59, 130, 246",pattern:"radial-gradient(at 0% 0%, hsla(220, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 15%, 1) 0, transparent 70%)"},{id:"Coffee",label:"Coffee",rgb:"253, 186, 116",pattern:"radial-gradient(at 0% 0%, hsla(25, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(35, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(30, 50%, 22%, 1) 0, transparent 70%)"},{id:"Cyberpunk",label:"Cyberpunk",rgb:"232, 121, 249",pattern:"radial-gradient(at 0% 0%, hsla(290, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 25%, 1) 0, transparent 70%)"},{id:"Dark Pearl",label:"Dark Pearl",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 30%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 40%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 30%, 25%, 1) 0, transparent 70%)"},{id:"Deep Space",label:"Deep Space",rgb:"99, 102, 241",pattern:"radial-gradient(at 0% 0%, hsla(245, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(300, 70%, 18%, 1) 0, transparent 70%)"},{id:"Electric Storm",label:"Electric Storm",rgb:"56, 189, 248",pattern:"radial-gradient(at 0% 0%, hsla(200, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(180, 80%, 20%, 1) 0, transparent 70%)"},{id:"Emerald",label:"Emerald",rgb:"52, 211, 153",pattern:"radial-gradient(at 0% 0%, hsla(150, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 70%, 25%, 1) 0, transparent 70%)"},{id:"Forest",label:"Forest",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(150, 70%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(120, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 80%, 18%, 1) 0, transparent 70%)"},{id:"Glacier",label:"Glacier",rgb:"125, 211, 252",pattern:"radial-gradient(at 0% 0%, hsla(190, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(210, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 30%, 1) 0, transparent 70%)"},{id:"Gold",label:"Gold",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(40, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 70%, 25%, 1) 0, transparent 70%)"},{id:"Jungle",label:"Jungle",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(145, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(175, 70%, 18%, 1) 0, transparent 70%)"},{id:"Lavender",label:"Lavender",rgb:"167, 139, 250",pattern:"radial-gradient(at 0% 0%, hsla(250, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(290, 50%, 30%, 1) 0, transparent 70%)"},{id:"Mermaid",label:"Mermaid",rgb:"45, 212, 191",pattern:"radial-gradient(at 0% 0%, hsla(175, 75%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 20%, 1) 0, transparent 70%)"},{id:"Midnight",label:"Midnight",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(260, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(320, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 60%, 20%, 1) 0, transparent 70%)"},{id:"Mint",label:"Mint",rgb:"110, 231, 183",pattern:"radial-gradient(at 0% 0%, hsla(160, 60%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(170, 50%, 25%, 1) 0, transparent 70%)"},{id:"Nebula",label:"Nebula",rgb:"196, 181, 253",pattern:"radial-gradient(at 0% 0%, hsla(260, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(310, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 60%, 25%, 1) 0, transparent 70%)"},{id:"Neon Nights",label:"Neon Nights",rgb:"236, 72, 153",pattern:"radial-gradient(at 0% 0%, hsla(330, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 95%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 80%, 18%, 1) 0, transparent 70%)"},{id:"Obsidian",label:"Obsidian",rgb:"226, 232, 240",pattern:"radial-gradient(at 0% 0%, hsla(0, 0%, 5%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 10%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 20%, 15%, 1) 0, transparent 70%)"},{id:"Ocean",label:"Ocean",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(210, 70%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 22%, 1) 0, transparent 70%)"},{id:"Royal",label:"Royal",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 60%, 30%, 1) 0, transparent 70%)"},{id:"Ruby",label:"Ruby",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 70%, 25%, 1) 0, transparent 70%)"},{id:"Sapphire",label:"Sapphire",rgb:"96, 165, 250",pattern:"radial-gradient(at 0% 0%, hsla(220, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(230, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 70%, 25%, 1) 0, transparent 70%)"},{id:"Shadow",label:"Shadow",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 20%, 10%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 10%, 20%, 1) 0, transparent 70%)"},{id:"Slate",label:"Slate",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(210, 30%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 40%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 30%, 30%, 1) 0, transparent 70%)"},{id:"Sunrise",label:"Sunrise",rgb:"251, 113, 133",pattern:"radial-gradient(at 0% 0%, hsla(350, 75%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 18%, 1) 0, transparent 70%)"},{id:"Sunset",label:"Sunset",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(10, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(330, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 50%, 25%, 1) 0, transparent 70%)"},{id:"Toxic",label:"Toxic",rgb:"163, 230, 53",pattern:"radial-gradient(at 0% 0%, hsla(100, 90%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(90, 90%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(120, 80%, 18%, 1) 0, transparent 70%)"},{id:"Tropics",label:"Tropics",rgb:"20, 184, 166",pattern:"radial-gradient(at 0% 0%, hsla(170, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(15, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 75%, 20%, 1) 0, transparent 70%)"},{id:"Ultraviolet",label:"Ultraviolet",rgb:"139, 92, 246",pattern:"radial-gradient(at 0% 0%, hsla(265, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 80%, 20%, 1) 0, transparent 70%)"},{id:"Vaporwave",label:"Vaporwave",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(280, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(170, 90%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 30%, 1) 0, transparent 70%)"},{id:"Volcano",label:"Volcano",rgb:"239, 68, 68",pattern:"radial-gradient(at 0% 0%, hsla(0, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(25, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(350, 75%, 15%, 1) 0, transparent 70%)"},{id:"Wildfire",label:"Wildfire",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(25, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 80%, 15%, 1) 0, transparent 70%)"}],Zoe={id:TN,label:"CRT Hacker",rgb:"87, 255, 154",pattern:"radial-gradient(circle at 12% 10%, rgba(44, 120, 78, 0.42), transparent 60%), radial-gradient(circle at 88% 22%, rgba(22, 86, 52, 0.38), transparent 62%), linear-gradient(180deg, rgba(5, 12, 8, 0.92), rgba(3, 7, 6, 0.98))"},Df=[...Joe,Zoe,Koe,Goe,Yoe];function Qoe(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Xoe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,ese=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,tse={};function eE(e,t){return(tse.jsx?ese:Xoe).test(e)}const nse=/[ \t\n\f\r]/g;function rse(e){return typeof e=="object"?e.type==="text"?tE(e.value):!1:tE(e)}function tE(e){return e.replace(nse,"")===""}class wm{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}wm.prototype.normal={};wm.prototype.property={};wm.prototype.space=void 0;function EF(e,t){const n={},r={};for(const a of e)Object.assign(n,a.property),Object.assign(r,a.normal);return new wm(n,r,t)}function Zw(e){return e.toLowerCase()}class yi{constructor(t,n){this.attribute=n,this.property=t}}yi.prototype.attribute="";yi.prototype.booleanish=!1;yi.prototype.boolean=!1;yi.prototype.commaOrSpaceSeparated=!1;yi.prototype.commaSeparated=!1;yi.prototype.defined=!1;yi.prototype.mustUseProperty=!1;yi.prototype.number=!1;yi.prototype.overloadedBoolean=!1;yi.prototype.property="";yi.prototype.spaceSeparated=!1;yi.prototype.space=void 0;let ase=0;const cn=mu(),Br=mu(),Qw=mu(),dt=mu(),Xn=mu(),ld=mu(),Ci=mu();function mu(){return 2**++ase}const Xw=Object.freeze(Object.defineProperty({__proto__:null,boolean:cn,booleanish:Br,commaOrSpaceSeparated:Ci,commaSeparated:ld,number:dt,overloadedBoolean:Qw,spaceSeparated:Xn},Symbol.toStringTag,{value:"Module"})),Cb=Object.keys(Xw);class ON extends yi{constructor(t,n,r,a){let i=-1;if(super(t,n),nE(this,"space",a),typeof r=="number")for(;++i<Cb.length;){const o=Cb[i];nE(this,Cb[i],(r&Xw[o])===Xw[o])}}}ON.prototype.defined=!0;function nE(e,t,n){n&&(e[t]=n)}function Wd(e){const t={},n={};for(const[r,a]of Object.entries(e.properties)){const i=new ON(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[Zw(r)]=r,n[Zw(i.attribute)]=r}return new wm(t,n,e.space)}const DF=Wd({properties:{ariaActiveDescendant:null,ariaAtomic:Br,ariaAutoComplete:null,ariaBusy:Br,ariaChecked:Br,ariaColCount:dt,ariaColIndex:dt,ariaColSpan:dt,ariaControls:Xn,ariaCurrent:null,ariaDescribedBy:Xn,ariaDetails:null,ariaDisabled:Br,ariaDropEffect:Xn,ariaErrorMessage:null,ariaExpanded:Br,ariaFlowTo:Xn,ariaGrabbed:Br,ariaHasPopup:null,ariaHidden:Br,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Xn,ariaLevel:dt,ariaLive:null,ariaModal:Br,ariaMultiLine:Br,ariaMultiSelectable:Br,ariaOrientation:null,ariaOwns:Xn,ariaPlaceholder:null,ariaPosInSet:dt,ariaPressed:Br,ariaReadOnly:Br,ariaRelevant:null,ariaRequired:Br,ariaRoleDescription:Xn,ariaRowCount:dt,ariaRowIndex:dt,ariaRowSpan:dt,ariaSelected:Br,ariaSetSize:dt,ariaSort:null,ariaValueMax:dt,ariaValueMin:dt,ariaValueNow:dt,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function PF(e,t){return t in e?e[t]:t}function TF(e,t){return PF(e,t.toLowerCase())}const ise=Wd({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ld,acceptCharset:Xn,accessKey:Xn,action:null,allow:null,allowFullScreen:cn,allowPaymentRequest:cn,allowUserMedia:cn,alt:null,as:null,async:cn,autoCapitalize:null,autoComplete:Xn,autoFocus:cn,autoPlay:cn,blocking:Xn,capture:null,charSet:null,checked:cn,cite:null,className:Xn,cols:dt,colSpan:null,content:null,contentEditable:Br,controls:cn,controlsList:Xn,coords:dt|ld,crossOrigin:null,data:null,dateTime:null,decoding:null,default:cn,defer:cn,dir:null,dirName:null,disabled:cn,download:Qw,draggable:Br,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:cn,formTarget:null,headers:Xn,height:dt,hidden:Qw,high:dt,href:null,hrefLang:null,htmlFor:Xn,httpEquiv:Xn,id:null,imageSizes:null,imageSrcSet:null,inert:cn,inputMode:null,integrity:null,is:null,isMap:cn,itemId:null,itemProp:Xn,itemRef:Xn,itemScope:cn,itemType:Xn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:cn,low:dt,manifest:null,max:null,maxLength:dt,media:null,method:null,min:null,minLength:dt,multiple:cn,muted:cn,name:null,nonce:null,noModule:cn,noValidate:cn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:cn,optimum:dt,pattern:null,ping:Xn,placeholder:null,playsInline:cn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:cn,referrerPolicy:null,rel:Xn,required:cn,reversed:cn,rows:dt,rowSpan:dt,sandbox:Xn,scope:null,scoped:cn,seamless:cn,selected:cn,shadowRootClonable:cn,shadowRootDelegatesFocus:cn,shadowRootMode:null,shape:null,size:dt,sizes:null,slot:null,span:dt,spellCheck:Br,src:null,srcDoc:null,srcLang:null,srcSet:null,start:dt,step:null,style:null,tabIndex:dt,target:null,title:null,translate:null,type:null,typeMustMatch:cn,useMap:null,value:Br,width:dt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Xn,axis:null,background:null,bgColor:null,border:dt,borderColor:null,bottomMargin:dt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:cn,declare:cn,event:null,face:null,frame:null,frameBorder:null,hSpace:dt,leftMargin:dt,link:null,longDesc:null,lowSrc:null,marginHeight:dt,marginWidth:dt,noResize:cn,noHref:cn,noShade:cn,noWrap:cn,object:null,profile:null,prompt:null,rev:null,rightMargin:dt,rules:null,scheme:null,scrolling:Br,standby:null,summary:null,text:null,topMargin:dt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:dt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:cn,disableRemotePlayback:cn,prefix:null,property:null,results:dt,security:null,unselectable:null},space:"html",transform:TF}),ose=Wd({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Ci,accentHeight:dt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:dt,amplitude:dt,arabicForm:null,ascent:dt,attributeName:null,attributeType:null,azimuth:dt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:dt,by:null,calcMode:null,capHeight:dt,className:Xn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:dt,diffuseConstant:dt,direction:null,display:null,dur:null,divisor:dt,dominantBaseline:null,download:cn,dx:null,dy:null,edgeMode:null,editable:null,elevation:dt,enableBackground:null,end:null,event:null,exponent:dt,externalResourcesRequired:null,fill:null,fillOpacity:dt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ld,g2:ld,glyphName:ld,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:dt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:dt,horizOriginX:dt,horizOriginY:dt,id:null,ideographic:dt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:dt,k:dt,k1:dt,k2:dt,k3:dt,k4:dt,kernelMatrix:Ci,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:dt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:dt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:dt,overlineThickness:dt,paintOrder:null,panose1:null,path:null,pathLength:dt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Xn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:dt,pointsAtY:dt,pointsAtZ:dt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ci,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ci,rev:Ci,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ci,requiredFeatures:Ci,requiredFonts:Ci,requiredFormats:Ci,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:dt,specularExponent:dt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:dt,strikethroughThickness:dt,string:null,stroke:null,strokeDashArray:Ci,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:dt,strokeOpacity:dt,strokeWidth:null,style:null,surfaceScale:dt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ci,tabIndex:dt,tableValues:null,target:null,targetX:dt,targetY:dt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ci,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:dt,underlineThickness:dt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:dt,values:null,vAlphabetic:dt,vMathematical:dt,vectorEffect:null,vHanging:dt,vIdeographic:dt,version:null,vertAdvY:dt,vertOriginX:dt,vertOriginY:dt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:dt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:PF}),OF=Wd({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),IF=Wd({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:TF}),_F=Wd({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),sse={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},lse=/[A-Z]/g,rE=/-[a-z]/g,cse=/^data[-\w.:]+$/i;function use(e,t){const n=Zw(t);let r=t,a=yi;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&cse.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(rE,fse);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!rE.test(i)){let o=i.replace(lse,dse);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}a=ON}return new a(r,t)}function dse(e){return"-"+e.toLowerCase()}function fse(e){return e.charAt(1).toUpperCase()}const pse=EF([DF,ise,OF,IF,_F],"html"),IN=EF([DF,ose,OF,IF,_F],"svg");function mse(e){return e.join(" ").trim()}var _N={},aE=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,hse=/\n/g,gse=/^\s*/,yse=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,vse=/^:\s*/,bse=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,xse=/^[;\s]*/,wse=/^\s+|\s+$/g,kse=`
`,iE="/",oE="*",Dc="",Sse="comment",Nse="declaration";function jse(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function a(h){var v=h.match(hse);v&&(n+=v.length);var b=h.lastIndexOf(kse);r=~b?h.length-b:r+h.length}function i(){var h={line:n,column:r};return function(v){return v.position=new o(h),u(),v}}function o(h){this.start=h,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function s(h){var v=new Error(t.source+":"+n+":"+r+": "+h);if(v.reason=h,v.filename=t.source,v.line=n,v.column=r,v.source=e,!t.silent)throw v}function l(h){var v=h.exec(e);if(v){var b=v[0];return a(b),e=e.slice(b.length),v}}function u(){l(gse)}function d(h){var v;for(h=h||[];v=f();)v!==!1&&h.push(v);return h}function f(){var h=i();if(!(iE!=e.charAt(0)||oE!=e.charAt(1))){for(var v=2;Dc!=e.charAt(v)&&(oE!=e.charAt(v)||iE!=e.charAt(v+1));)++v;if(v+=2,Dc===e.charAt(v-1))return s("End of comment missing");var b=e.slice(2,v-2);return r+=2,a(b),e=e.slice(v),r+=2,h({type:Sse,comment:b})}}function p(){var h=i(),v=l(yse);if(v){if(f(),!l(vse))return s("property missing ':'");var b=l(bse),y=h({type:Nse,property:sE(v[0].replace(aE,Dc)),value:b?sE(b[0].replace(aE,Dc)):Dc});return l(xse),y}}function m(){var h=[];d(h);for(var v;v=p();)v!==!1&&(h.push(v),d(h));return h}return u(),m()}function sE(e){return e?e.replace(wse,Dc):Dc}var Cse=jse,Ase=rg&&rg.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_N,"__esModule",{value:!0});_N.default=Ese;const Mse=Ase(Cse);function Ese(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,Mse.default)(e),a=typeof t=="function";return r.forEach(i=>{if(i.type!=="declaration")return;const{property:o,value:s}=i;a?t(o,s,i):s&&(n=n||{},n[o]=s)}),n}var rv={};Object.defineProperty(rv,"__esModule",{value:!0});rv.camelCase=void 0;var Dse=/^--[a-zA-Z0-9_-]+$/,Pse=/-([a-z])/g,Tse=/^[^-]+$/,Ose=/^-(webkit|moz|ms|o|khtml)-/,Ise=/^-(ms)-/,_se=function(e){return!e||Tse.test(e)||Dse.test(e)},Lse=function(e,t){return t.toUpperCase()},lE=function(e,t){return"".concat(t,"-")},Fse=function(e,t){return t===void 0&&(t={}),_se(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Ise,lE):e=e.replace(Ose,lE),e.replace(Pse,Lse))};rv.camelCase=Fse;var Rse=rg&&rg.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},$se=Rse(_N),Bse=rv;function e1(e,t){var n={};return!e||typeof e!="string"||(0,$se.default)(e,function(r,a){r&&a&&(n[(0,Bse.camelCase)(r,t)]=a)}),n}e1.default=e1;var zse=e1;const Use=_o(zse),LF=FF("end"),LN=FF("start");function FF(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Vse(e){const t=LN(e),n=LF(e);if(t&&n)return{start:t,end:n}}function qf(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?cE(e.position):"start"in e||"end"in e?cE(e):"line"in e||"column"in e?t1(e):""}function t1(e){return uE(e&&e.line)+":"+uE(e&&e.column)}function cE(e){return t1(e&&e.start)+"-"+t1(e&&e.end)}function uE(e){return e&&typeof e=="number"?e:1}class Va extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",i={},o=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof t=="string"?a=t:!i.cause&&t&&(o=!0,a=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?i.ruleId=r:(i.source=r.slice(0,l),i.ruleId=r.slice(l+1))}if(!i.place&&i.ancestors&&i.ancestors){const l=i.ancestors[i.ancestors.length-1];l&&(i.place=l.position)}const s=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=s?s.line:void 0,this.name=qf(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=o&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Va.prototype.file="";Va.prototype.name="";Va.prototype.reason="";Va.prototype.message="";Va.prototype.stack="";Va.prototype.column=void 0;Va.prototype.line=void 0;Va.prototype.ancestors=void 0;Va.prototype.cause=void 0;Va.prototype.fatal=void 0;Va.prototype.place=void 0;Va.prototype.ruleId=void 0;Va.prototype.source=void 0;const FN={}.hasOwnProperty,Wse=new Map,qse=/[A-Z]/g,Hse=new Set(["table","tbody","thead","tfoot","tr"]),Kse=new Set(["td","th"]),RF="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Gse(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=nle(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=tle(n,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?IN:pse,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=$F(a,e,void 0);return i&&typeof i!="string"?i:a.create(e,a.Fragment,{children:i||void 0},void 0)}function $F(e,t,n){if(t.type==="element")return Yse(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Jse(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Qse(e,t,n);if(t.type==="mdxjsEsm")return Zse(e,t);if(t.type==="root")return Xse(e,t,n);if(t.type==="text")return ele(e,t)}function Yse(e,t,n){const r=e.schema;let a=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=IN,e.schema=a),e.ancestors.push(t);const i=zF(e,t.tagName,!1),o=rle(e,t);let s=$N(e,t);return Hse.has(t.tagName)&&(s=s.filter(function(l){return typeof l=="string"?!rse(l):!0})),BF(e,o,i,t),RN(o,s),e.ancestors.pop(),e.schema=r,e.create(t,i,o,n)}function Jse(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}Ip(e,t.position)}function Zse(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Ip(e,t.position)}function Qse(e,t,n){const r=e.schema;let a=r;t.name==="svg"&&r.space==="html"&&(a=IN,e.schema=a),e.ancestors.push(t);const i=t.name===null?e.Fragment:zF(e,t.name,!0),o=ale(e,t),s=$N(e,t);return BF(e,o,i,t),RN(o,s),e.ancestors.pop(),e.schema=r,e.create(t,i,o,n)}function Xse(e,t,n){const r={};return RN(r,$N(e,t)),e.create(t,e.Fragment,r,n)}function ele(e,t){return t.value}function BF(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function RN(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function tle(e,t,n){return r;function r(a,i,o,s){const l=Array.isArray(o.children)?n:t;return s?l(i,o,s):l(i,o)}}function nle(e,t){return n;function n(r,a,i,o){const s=Array.isArray(i.children),l=LN(r);return t(a,i,o,s,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function rle(e,t){const n={};let r,a;for(a in t.properties)if(a!=="children"&&FN.call(t.properties,a)){const i=ile(e,a,t.properties[a]);if(i){const[o,s]=i;e.tableCellAlignToStyle&&o==="align"&&typeof s=="string"&&Kse.has(t.tagName)?r=s:n[o]=s}}if(r){const i=n.style||(n.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function ale(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const i=a.expression;i.type;const o=i.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else Ip(e,t.position);else{const a=r.name;let i;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,i=e.evaluater.evaluateExpression(o.expression)}else Ip(e,t.position);else i=r.value===null?!0:r.value;n[a]=i}return n}function $N(e,t){const n=[];let r=-1;const a=e.passKeys?new Map:Wse;for(;++r<t.children.length;){const i=t.children[r];let o;if(e.passKeys){const l=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(l){const u=a.get(l)||0;o=l+"-"+u,a.set(l,u+1)}}const s=$F(e,i,o);s!==void 0&&n.push(s)}return n}function ile(e,t,n){const r=use(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Qoe(n):mse(n)),r.property==="style"){let a=typeof n=="object"?n:ole(e,String(n));return e.stylePropertyNameCase==="css"&&(a=sle(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&r.space?sse[r.property]||r.property:r.attribute,n]}}function ole(e,t){try{return Use(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,a=new Va("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=RF+"#cannot-parse-style-attribute",a}}function zF(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let i=-1,o;for(;++i<a.length;){const s=eE(a[i])?{type:"Identifier",name:a[i]}:{type:"Literal",value:a[i]};o=o?{type:"MemberExpression",object:o,property:s,computed:!!(i&&s.type==="Literal"),optional:!1}:s}r=o}else r=eE(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const a=r.value;return FN.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(r);Ip(e)}function Ip(e,t){const n=new Va("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=RF+"#cannot-handle-mdx-estrees-without-createevaluater",n}function sle(e){const t={};let n;for(n in e)FN.call(e,n)&&(t[lle(n)]=e[n]);return t}function lle(e){let t=e.replace(qse,cle);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function cle(e){return"-"+e.toLowerCase()}const Ab={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},ule={};function BN(e,t){const n=ule,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return UF(e,r,a)}function UF(e,t,n){if(dle(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return dE(e.children,t,n)}return Array.isArray(e)?dE(e,t,n):""}function dE(e,t,n){const r=[];let a=-1;for(;++a<e.length;)r[a]=UF(e[a],t,n);return r.join("")}function dle(e){return!!(e&&typeof e=="object")}const fE=document.createElement("i");function zN(e){const t="&"+e+";";fE.innerHTML=t;const n=fE.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Ii(e,t,n,r){const a=e.length;let i=0,o;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);i<r.length;)o=r.slice(i,i+1e4),o.unshift(t,0),e.splice(...o),i+=1e4,t+=1e4}function Zi(e,t){return e.length>0?(Ii(e,e.length,0,t),e):t}const pE={}.hasOwnProperty;function VF(e){const t={};let n=-1;for(;++n<e.length;)fle(t,e[n]);return t}function fle(e,t){let n;for(n in t){const r=(pE.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let i;if(a)for(i in a){pE.call(r,i)||(r[i]=[]);const o=a[i];ple(r[i],Array.isArray(o)?o:o?[o]:[])}}}function ple(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Ii(e,0,0,r)}function WF(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Co(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ga=ic(/[A-Za-z]/),Ba=ic(/[\dA-Za-z]/),mle=ic(/[#-'*+\--9=?A-Z^-~]/);function A0(e){return e!==null&&(e<32||e===127)}const n1=ic(/\d/),hle=ic(/[\dA-Fa-f]/),gle=ic(/[!-/:-@[-`{-~]/);function Wt(e){return e!==null&&e<-2}function Gn(e){return e!==null&&(e<0||e===32)}function vn(e){return e===-2||e===-1||e===32}const av=ic(new RegExp("\\p{P}|\\p{S}","u")),lu=ic(/\s/);function ic(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function qd(e){const t=[];let n=-1,r=0,a=0;for(;++n<e.length;){const i=e.charCodeAt(n);let o="";if(i===37&&Ba(e.charCodeAt(n+1))&&Ba(e.charCodeAt(n+2)))a=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(o=String.fromCharCode(i));else if(i>55295&&i<57344){const s=e.charCodeAt(n+1);i<56320&&s>56319&&s<57344?(o=String.fromCharCode(i,s),a=1):o=""}else o=String.fromCharCode(i);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+a+1,o=""),a&&(n+=a,a=0)}return t.join("")+e.slice(r)}function jn(e,t,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let i=0;return o;function o(l){return vn(l)?(e.enter(n),s(l)):t(l)}function s(l){return vn(l)&&i++<a?(e.consume(l),s):(e.exit(n),t(l))}}const yle={tokenize:vle};function vle(e){const t=e.attempt(this.parser.constructs.contentInitial,r,a);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),jn(e,t,"linePrefix")}function a(s){return e.enter("paragraph"),i(s)}function i(s){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(s)}function o(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return Wt(s)?(e.consume(s),e.exit("chunkText"),i):(e.consume(s),o)}}const ble={tokenize:xle},mE={tokenize:wle};function xle(e){const t=this,n=[];let r=0,a,i,o;return s;function s(w){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,l,u)(w)}return u(w)}function l(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&x();const S=t.events.length;let j=S,N;for(;j--;)if(t.events[j][0]==="exit"&&t.events[j][1].type==="chunkFlow"){N=t.events[j][1].end;break}y(r);let A=S;for(;A<t.events.length;)t.events[A][1].end={...N},A++;return Ii(t.events,j+1,0,t.events.slice(S)),t.events.length=A,u(w)}return s(w)}function u(w){if(r===n.length){if(!a)return p(w);if(a.currentConstruct&&a.currentConstruct.concrete)return h(w);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(mE,d,f)(w)}function d(w){return a&&x(),y(r),p(w)}function f(w){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,h(w)}function p(w){return t.containerState={},e.attempt(mE,m,h)(w)}function m(w){return r++,n.push([t.currentConstruct,t.containerState]),p(w)}function h(w){if(w===null){a&&x(),y(0),e.consume(w);return}return a=a||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:i}),v(w)}function v(w){if(w===null){b(e.exit("chunkFlow"),!0),y(0),e.consume(w);return}return Wt(w)?(e.consume(w),b(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(w),v)}function b(w,S){const j=t.sliceStream(w);if(S&&j.push(null),w.previous=i,i&&(i.next=w),i=w,a.defineSkip(w.start),a.write(j),t.parser.lazy[w.start.line]){let N=a.events.length;for(;N--;)if(a.events[N][1].start.offset<o&&(!a.events[N][1].end||a.events[N][1].end.offset>o))return;const A=t.events.length;let P=A,B,D;for(;P--;)if(t.events[P][0]==="exit"&&t.events[P][1].type==="chunkFlow"){if(B){D=t.events[P][1].end;break}B=!0}for(y(r),N=A;N<t.events.length;)t.events[N][1].end={...D},N++;Ii(t.events,P+1,0,t.events.slice(A)),t.events.length=N}}function y(w){let S=n.length;for(;S-- >w;){const j=n[S];t.containerState=j[1],j[0].exit.call(t,e)}n.length=w}function x(){a.write([null]),i=void 0,a=void 0,t.containerState._closeFlow=void 0}}function wle(e,t,n){return jn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Md(e){if(e===null||Gn(e)||lu(e))return 1;if(av(e))return 2}function iv(e,t,n){const r=[];let a=-1;for(;++a<e.length;){const i=e[a].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const r1={name:"attention",resolveAll:kle,tokenize:Sle};function kle(e,t){let n=-1,r,a,i,o,s,l,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},p={...e[n][1].start};hE(f,-l),hE(p,l),o={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},s={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:p},i={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},a={type:l>1?"strong":"emphasis",start:{...o.start},end:{...s.end}},e[r][1].end={...o.start},e[n][1].start={...s.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=Zi(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=Zi(u,[["enter",a,t],["enter",o,t],["exit",o,t],["enter",i,t]]),u=Zi(u,iv(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=Zi(u,[["exit",i,t],["enter",s,t],["exit",s,t],["exit",a,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=Zi(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Ii(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Sle(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=Md(r);let i;return o;function o(l){return i=l,e.enter("attentionSequence"),s(l)}function s(l){if(l===i)return e.consume(l),s;const u=e.exit("attentionSequence"),d=Md(l),f=!d||d===2&&a||n.includes(l),p=!a||a===2&&d||n.includes(r);return u._open=!!(i===42?f:f&&(a||!p)),u._close=!!(i===42?p:p&&(d||!f)),t(l)}}function hE(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Nle={name:"autolink",tokenize:jle};function jle(e,t,n){let r=0;return a;function a(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(m){return Ga(m)?(e.consume(m),o):m===64?n(m):u(m)}function o(m){return m===43||m===45||m===46||Ba(m)?(r=1,s(m)):u(m)}function s(m){return m===58?(e.consume(m),r=0,l):(m===43||m===45||m===46||Ba(m))&&r++<32?(e.consume(m),s):(r=0,u(m))}function l(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||A0(m)?n(m):(e.consume(m),l)}function u(m){return m===64?(e.consume(m),d):mle(m)?(e.consume(m),u):n(m)}function d(m){return Ba(m)?f(m):n(m)}function f(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):p(m)}function p(m){if((m===45||Ba(m))&&r++<63){const h=m===45?p:f;return e.consume(m),h}return n(m)}}const km={partial:!0,tokenize:Cle};function Cle(e,t,n){return r;function r(i){return vn(i)?jn(e,a,"linePrefix")(i):a(i)}function a(i){return i===null||Wt(i)?t(i):n(i)}}const qF={continuation:{tokenize:Mle},exit:Ele,name:"blockQuote",tokenize:Ale};function Ale(e,t,n){const r=this;return a;function a(o){if(o===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),i}return n(o)}function i(o){return vn(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function Mle(e,t,n){const r=this;return a;function a(o){return vn(o)?jn(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):i(o)}function i(o){return e.attempt(qF,t,n)(o)}}function Ele(e){e.exit("blockQuote")}const HF={name:"characterEscape",tokenize:Dle};function Dle(e,t,n){return r;function r(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),a}function a(i){return gle(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}const KF={name:"characterReference",tokenize:Ple};function Ple(e,t,n){const r=this;let a=0,i,o;return s;function s(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),i=31,o=Ba,d(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,o=hle,d):(e.enter("characterReferenceValue"),i=7,o=n1,d(f))}function d(f){if(f===59&&a){const p=e.exit("characterReferenceValue");return o===Ba&&!zN(r.sliceSerialize(p))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&a++<i?(e.consume(f),d):n(f)}}const gE={partial:!0,tokenize:Ole},yE={concrete:!0,name:"codeFenced",tokenize:Tle};function Tle(e,t,n){const r=this,a={partial:!0,tokenize:j};let i=0,o=0,s;return l;function l(N){return u(N)}function u(N){const A=r.events[r.events.length-1];return i=A&&A[1].type==="linePrefix"?A[2].sliceSerialize(A[1],!0).length:0,s=N,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(N)}function d(N){return N===s?(o++,e.consume(N),d):o<3?n(N):(e.exit("codeFencedFenceSequence"),vn(N)?jn(e,f,"whitespace")(N):f(N))}function f(N){return N===null||Wt(N)?(e.exit("codeFencedFence"),r.interrupt?t(N):e.check(gE,v,S)(N)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(N))}function p(N){return N===null||Wt(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(N)):vn(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),jn(e,m,"whitespace")(N)):N===96&&N===s?n(N):(e.consume(N),p)}function m(N){return N===null||Wt(N)?f(N):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),h(N))}function h(N){return N===null||Wt(N)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(N)):N===96&&N===s?n(N):(e.consume(N),h)}function v(N){return e.attempt(a,S,b)(N)}function b(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),y}function y(N){return i>0&&vn(N)?jn(e,x,"linePrefix",i+1)(N):x(N)}function x(N){return N===null||Wt(N)?e.check(gE,v,S)(N):(e.enter("codeFlowValue"),w(N))}function w(N){return N===null||Wt(N)?(e.exit("codeFlowValue"),x(N)):(e.consume(N),w)}function S(N){return e.exit("codeFenced"),t(N)}function j(N,A,P){let B=0;return D;function D(ie){return N.enter("lineEnding"),N.consume(ie),N.exit("lineEnding"),I}function I(ie){return N.enter("codeFencedFence"),vn(ie)?jn(N,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ie):O(ie)}function O(ie){return ie===s?(N.enter("codeFencedFenceSequence"),H(ie)):P(ie)}function H(ie){return ie===s?(B++,N.consume(ie),H):B>=o?(N.exit("codeFencedFenceSequence"),vn(ie)?jn(N,J,"whitespace")(ie):J(ie)):P(ie)}function J(ie){return ie===null||Wt(ie)?(N.exit("codeFencedFence"),A(ie)):P(ie)}}}function Ole(e,t,n){const r=this;return a;function a(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i)}function i(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const Mb={name:"codeIndented",tokenize:_le},Ile={partial:!0,tokenize:Lle};function _le(e,t,n){const r=this;return a;function a(u){return e.enter("codeIndented"),jn(e,i,"linePrefix",5)(u)}function i(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?l(u):Wt(u)?e.attempt(Ile,o,l)(u):(e.enter("codeFlowValue"),s(u))}function s(u){return u===null||Wt(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),s)}function l(u){return e.exit("codeIndented"),t(u)}}function Lle(e,t,n){const r=this;return a;function a(o){return r.parser.lazy[r.now().line]?n(o):Wt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):jn(e,i,"linePrefix",5)(o)}function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):Wt(o)?a(o):n(o)}}const Fle={name:"codeText",previous:$le,resolve:Rle,tokenize:Ble};function Rle(e){let t=e.length-4,n=3,r,a;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)a===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(a=r):(r===t||e[r][1].type==="lineEnding")&&(e[a][1].type="codeTextData",r!==a+2&&(e[a][1].end=e[r-1][1].end,e.splice(a+2,r-a-2),t-=r-a-2,r=a+2),a=void 0);return e}function $le(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Ble(e,t,n){let r=0,a,i;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),s(f)}function s(f){return f===96?(e.consume(f),r++,s):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(i=e.enter("codeTextSequence"),a=0,d(f)):Wt(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||Wt(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),u)}function d(f){return f===96?(e.consume(f),a++,d):a===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(i.type="codeTextData",u(f))}}class zle{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const a=n||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&bf(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),bf(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),bf(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);bf(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);bf(this.left,n.reverse())}}}function bf(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function GF(e){const t={};let n=-1,r,a,i,o,s,l,u;const d=new zle(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,i=0,i<l.length&&l[i][1].type==="lineEndingBlank"&&(i+=2),i<l.length&&l[i][1].type==="content"))for(;++i<l.length&&l[i][1].type!=="content";)l[i][1].type==="chunkText"&&(l[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Ule(d,n)),n=t[n],u=!0);else if(r[1]._container){for(i=n,a=void 0;i--;)if(o=d.get(i),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(a&&(d.get(a)[1].type="lineEndingBlank"),o[1].type="lineEnding",a=i);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;a&&(r[1].end={...d.get(a)[1].start},s=d.slice(a,n),s.unshift(r),d.splice(a,n-a+1,s))}}return Ii(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function Ule(e,t){const n=e.get(t)[1],r=e.get(t)[2];let a=t-1;const i=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const s=o.events,l=[],u={};let d,f,p=-1,m=n,h=0,v=0;const b=[v];for(;m;){for(;e.get(++a)[1]!==m;);i.push(a),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),f&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++p<s.length;)s[p][0]==="exit"&&s[p-1][0]==="enter"&&s[p][1].type===s[p-1][1].type&&s[p][1].start.line!==s[p][1].end.line&&(v=p+1,b.push(v),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):b.pop(),p=b.length;p--;){const y=s.slice(b[p],b[p+1]),x=i.pop();l.push([x,x+y.length-1]),e.splice(x,2,y)}for(l.reverse(),p=-1;++p<l.length;)u[h+l[p][0]]=h+l[p][1],h+=l[p][1]-l[p][0]-1;return u}const Vle={resolve:qle,tokenize:Hle},Wle={partial:!0,tokenize:Kle};function qle(e){return GF(e),e}function Hle(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),a(s)}function a(s){return s===null?i(s):Wt(s)?e.check(Wle,o,i)(s):(e.consume(s),a)}function i(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function o(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function Kle(e,t,n){const r=this;return a;function a(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),jn(e,i,"linePrefix")}function i(o){if(o===null||Wt(o))return n(o);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function YF(e,t,n,r,a,i,o,s,l){const u=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(y){return y===60?(e.enter(r),e.enter(a),e.enter(i),e.consume(y),e.exit(i),p):y===null||y===32||y===41||A0(y)?n(y):(e.enter(r),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),v(y))}function p(y){return y===62?(e.enter(i),e.consume(y),e.exit(i),e.exit(a),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),m(y))}function m(y){return y===62?(e.exit("chunkString"),e.exit(s),p(y)):y===null||y===60||Wt(y)?n(y):(e.consume(y),y===92?h:m)}function h(y){return y===60||y===62||y===92?(e.consume(y),m):m(y)}function v(y){return!d&&(y===null||y===41||Gn(y))?(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(r),t(y)):d<u&&y===40?(e.consume(y),d++,v):y===41?(e.consume(y),d--,v):y===null||y===32||y===40||A0(y)?n(y):(e.consume(y),y===92?b:v)}function b(y){return y===40||y===41||y===92?(e.consume(y),v):v(y)}}function JF(e,t,n,r,a,i){const o=this;let s=0,l;return u;function u(m){return e.enter(r),e.enter(a),e.consume(m),e.exit(a),e.enter(i),d}function d(m){return s>999||m===null||m===91||m===93&&!l||m===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?n(m):m===93?(e.exit(i),e.enter(a),e.consume(m),e.exit(a),e.exit(r),t):Wt(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||Wt(m)||s++>999?(e.exit("chunkString"),d(m)):(e.consume(m),l||(l=!vn(m)),m===92?p:f)}function p(m){return m===91||m===92||m===93?(e.consume(m),s++,f):f(m)}}function ZF(e,t,n,r,a,i){let o;return s;function s(p){return p===34||p===39||p===40?(e.enter(r),e.enter(a),e.consume(p),e.exit(a),o=p===40?41:p,l):n(p)}function l(p){return p===o?(e.enter(a),e.consume(p),e.exit(a),e.exit(r),t):(e.enter(i),u(p))}function u(p){return p===o?(e.exit(i),l(o)):p===null?n(p):Wt(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),jn(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===o||p===null||Wt(p)?(e.exit("chunkString"),u(p)):(e.consume(p),p===92?f:d)}function f(p){return p===o||p===92?(e.consume(p),d):d(p)}}function Hf(e,t){let n;return r;function r(a){return Wt(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n=!0,r):vn(a)?jn(e,r,n?"linePrefix":"lineSuffix")(a):t(a)}}const Gle={name:"definition",tokenize:Jle},Yle={partial:!0,tokenize:Zle};function Jle(e,t,n){const r=this;let a;return i;function i(m){return e.enter("definition"),o(m)}function o(m){return JF.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function s(m){return a=Co(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),l):n(m)}function l(m){return Gn(m)?Hf(e,u)(m):u(m)}function u(m){return YF(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(Yle,f,f)(m)}function f(m){return vn(m)?jn(e,p,"whitespace")(m):p(m)}function p(m){return m===null||Wt(m)?(e.exit("definition"),r.parser.defined.push(a),t(m)):n(m)}}function Zle(e,t,n){return r;function r(s){return Gn(s)?Hf(e,a)(s):n(s)}function a(s){return ZF(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function i(s){return vn(s)?jn(e,o,"whitespace")(s):o(s)}function o(s){return s===null||Wt(s)?t(s):n(s)}}const Qle={name:"hardBreakEscape",tokenize:Xle};function Xle(e,t,n){return r;function r(i){return e.enter("hardBreakEscape"),e.consume(i),a}function a(i){return Wt(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}const ece={name:"headingAtx",resolve:tce,tokenize:nce};function tce(e,t){let n=e.length-2,r=3,a,i;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(a={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},i={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Ii(e,r,n-r+1,[["enter",a,t],["enter",i,t],["exit",i,t],["exit",a,t]])),e}function nce(e,t,n){let r=0;return a;function a(d){return e.enter("atxHeading"),i(d)}function i(d){return e.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(e.consume(d),o):d===null||Gn(d)?(e.exit("atxHeadingSequence"),s(d)):n(d)}function s(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||Wt(d)?(e.exit("atxHeading"),t(d)):vn(d)?jn(e,s,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),s(d))}function u(d){return d===null||d===35||Gn(d)?(e.exit("atxHeadingText"),s(d)):(e.consume(d),u)}}const rce=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],vE=["pre","script","style","textarea"],ace={concrete:!0,name:"htmlFlow",resolveTo:sce,tokenize:lce},ice={partial:!0,tokenize:uce},oce={partial:!0,tokenize:cce};function sce(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function lce(e,t,n){const r=this;let a,i,o,s,l;return u;function u(C){return d(C)}function d(C){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(C),f}function f(C){return C===33?(e.consume(C),p):C===47?(e.consume(C),i=!0,v):C===63?(e.consume(C),a=3,r.interrupt?t:k):Ga(C)?(e.consume(C),o=String.fromCharCode(C),b):n(C)}function p(C){return C===45?(e.consume(C),a=2,m):C===91?(e.consume(C),a=5,s=0,h):Ga(C)?(e.consume(C),a=4,r.interrupt?t:k):n(C)}function m(C){return C===45?(e.consume(C),r.interrupt?t:k):n(C)}function h(C){const R="CDATA[";return C===R.charCodeAt(s++)?(e.consume(C),s===R.length?r.interrupt?t:O:h):n(C)}function v(C){return Ga(C)?(e.consume(C),o=String.fromCharCode(C),b):n(C)}function b(C){if(C===null||C===47||C===62||Gn(C)){const R=C===47,V=o.toLowerCase();return!R&&!i&&vE.includes(V)?(a=1,r.interrupt?t(C):O(C)):rce.includes(o.toLowerCase())?(a=6,R?(e.consume(C),y):r.interrupt?t(C):O(C)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(C):i?x(C):w(C))}return C===45||Ba(C)?(e.consume(C),o+=String.fromCharCode(C),b):n(C)}function y(C){return C===62?(e.consume(C),r.interrupt?t:O):n(C)}function x(C){return vn(C)?(e.consume(C),x):D(C)}function w(C){return C===47?(e.consume(C),D):C===58||C===95||Ga(C)?(e.consume(C),S):vn(C)?(e.consume(C),w):D(C)}function S(C){return C===45||C===46||C===58||C===95||Ba(C)?(e.consume(C),S):j(C)}function j(C){return C===61?(e.consume(C),N):vn(C)?(e.consume(C),j):w(C)}function N(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(e.consume(C),l=C,A):vn(C)?(e.consume(C),N):P(C)}function A(C){return C===l?(e.consume(C),l=null,B):C===null||Wt(C)?n(C):(e.consume(C),A)}function P(C){return C===null||C===34||C===39||C===47||C===60||C===61||C===62||C===96||Gn(C)?j(C):(e.consume(C),P)}function B(C){return C===47||C===62||vn(C)?w(C):n(C)}function D(C){return C===62?(e.consume(C),I):n(C)}function I(C){return C===null||Wt(C)?O(C):vn(C)?(e.consume(C),I):n(C)}function O(C){return C===45&&a===2?(e.consume(C),we):C===60&&a===1?(e.consume(C),te):C===62&&a===4?(e.consume(C),$):C===63&&a===3?(e.consume(C),k):C===93&&a===5?(e.consume(C),W):Wt(C)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(ice,T,H)(C)):C===null||Wt(C)?(e.exit("htmlFlowData"),H(C)):(e.consume(C),O)}function H(C){return e.check(oce,J,T)(C)}function J(C){return e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),ie}function ie(C){return C===null||Wt(C)?H(C):(e.enter("htmlFlowData"),O(C))}function we(C){return C===45?(e.consume(C),k):O(C)}function te(C){return C===47?(e.consume(C),o="",q):O(C)}function q(C){if(C===62){const R=o.toLowerCase();return vE.includes(R)?(e.consume(C),$):O(C)}return Ga(C)&&o.length<8?(e.consume(C),o+=String.fromCharCode(C),q):O(C)}function W(C){return C===93?(e.consume(C),k):O(C)}function k(C){return C===62?(e.consume(C),$):C===45&&a===2?(e.consume(C),k):O(C)}function $(C){return C===null||Wt(C)?(e.exit("htmlFlowData"),T(C)):(e.consume(C),$)}function T(C){return e.exit("htmlFlow"),t(C)}}function cce(e,t,n){const r=this;return a;function a(o){return Wt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):n(o)}function i(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function uce(e,t,n){return r;function r(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(km,t,n)}}const dce={name:"htmlText",tokenize:fce};function fce(e,t,n){const r=this;let a,i,o;return s;function s(k){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(k),l}function l(k){return k===33?(e.consume(k),u):k===47?(e.consume(k),j):k===63?(e.consume(k),w):Ga(k)?(e.consume(k),P):n(k)}function u(k){return k===45?(e.consume(k),d):k===91?(e.consume(k),i=0,h):Ga(k)?(e.consume(k),x):n(k)}function d(k){return k===45?(e.consume(k),m):n(k)}function f(k){return k===null?n(k):k===45?(e.consume(k),p):Wt(k)?(o=f,te(k)):(e.consume(k),f)}function p(k){return k===45?(e.consume(k),m):f(k)}function m(k){return k===62?we(k):k===45?p(k):f(k)}function h(k){const $="CDATA[";return k===$.charCodeAt(i++)?(e.consume(k),i===$.length?v:h):n(k)}function v(k){return k===null?n(k):k===93?(e.consume(k),b):Wt(k)?(o=v,te(k)):(e.consume(k),v)}function b(k){return k===93?(e.consume(k),y):v(k)}function y(k){return k===62?we(k):k===93?(e.consume(k),y):v(k)}function x(k){return k===null||k===62?we(k):Wt(k)?(o=x,te(k)):(e.consume(k),x)}function w(k){return k===null?n(k):k===63?(e.consume(k),S):Wt(k)?(o=w,te(k)):(e.consume(k),w)}function S(k){return k===62?we(k):w(k)}function j(k){return Ga(k)?(e.consume(k),N):n(k)}function N(k){return k===45||Ba(k)?(e.consume(k),N):A(k)}function A(k){return Wt(k)?(o=A,te(k)):vn(k)?(e.consume(k),A):we(k)}function P(k){return k===45||Ba(k)?(e.consume(k),P):k===47||k===62||Gn(k)?B(k):n(k)}function B(k){return k===47?(e.consume(k),we):k===58||k===95||Ga(k)?(e.consume(k),D):Wt(k)?(o=B,te(k)):vn(k)?(e.consume(k),B):we(k)}function D(k){return k===45||k===46||k===58||k===95||Ba(k)?(e.consume(k),D):I(k)}function I(k){return k===61?(e.consume(k),O):Wt(k)?(o=I,te(k)):vn(k)?(e.consume(k),I):B(k)}function O(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),a=k,H):Wt(k)?(o=O,te(k)):vn(k)?(e.consume(k),O):(e.consume(k),J)}function H(k){return k===a?(e.consume(k),a=void 0,ie):k===null?n(k):Wt(k)?(o=H,te(k)):(e.consume(k),H)}function J(k){return k===null||k===34||k===39||k===60||k===61||k===96?n(k):k===47||k===62||Gn(k)?B(k):(e.consume(k),J)}function ie(k){return k===47||k===62||Gn(k)?B(k):n(k)}function we(k){return k===62?(e.consume(k),e.exit("htmlTextData"),e.exit("htmlText"),t):n(k)}function te(k){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),q}function q(k){return vn(k)?jn(e,W,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):W(k)}function W(k){return e.enter("htmlTextData"),o(k)}}const UN={name:"labelEnd",resolveAll:gce,resolveTo:yce,tokenize:vce},pce={tokenize:bce},mce={tokenize:xce},hce={tokenize:wce};function gce(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",t+=a}}return e.length!==n.length&&Ii(e,0,e.length,n),e}function yce(e,t){let n=e.length,r=0,a,i,o,s;for(;n--;)if(a=e[n][1],i){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(i=n,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(o=n);const l={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[i][1].start},end:{...e[o][1].end}},d={type:"labelText",start:{...e[i+r+2][1].end},end:{...e[o-2][1].start}};return s=[["enter",l,t],["enter",u,t]],s=Zi(s,e.slice(i+1,i+r+3)),s=Zi(s,[["enter",d,t]]),s=Zi(s,iv(t.parser.constructs.insideSpan.null,e.slice(i+r+4,o-3),t)),s=Zi(s,[["exit",d,t],e[o-2],e[o-1],["exit",u,t]]),s=Zi(s,e.slice(o+1)),s=Zi(s,[["exit",l,t]]),Ii(e,i,e.length,s),e}function vce(e,t,n){const r=this;let a=r.events.length,i,o;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){i=r.events[a][1];break}return s;function s(p){return i?i._inactive?f(p):(o=r.parser.defined.includes(Co(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),l):n(p)}function l(p){return p===40?e.attempt(pce,d,o?d:f)(p):p===91?e.attempt(mce,d,o?u:f)(p):o?d(p):f(p)}function u(p){return e.attempt(hce,d,f)(p)}function d(p){return t(p)}function f(p){return i._balanced=!0,n(p)}}function bce(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),a}function a(f){return Gn(f)?Hf(e,i)(f):i(f)}function i(f){return f===41?d(f):YF(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return Gn(f)?Hf(e,l)(f):d(f)}function s(f){return n(f)}function l(f){return f===34||f===39||f===40?ZF(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function u(f){return Gn(f)?Hf(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function xce(e,t,n){const r=this;return a;function a(s){return JF.call(r,e,i,o,"reference","referenceMarker","referenceString")(s)}function i(s){return r.parser.defined.includes(Co(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function o(s){return n(s)}}function wce(e,t,n){return r;function r(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),a}function a(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}const kce={name:"labelStartImage",resolveAll:UN.resolveAll,tokenize:Sce};function Sce(e,t,n){const r=this;return a;function a(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),i}function i(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),o):n(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const Nce={name:"labelStartLink",resolveAll:UN.resolveAll,tokenize:jce};function jce(e,t,n){const r=this;return a;function a(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),i}function i(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const Eb={name:"lineEnding",tokenize:Cce};function Cce(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),jn(e,t,"linePrefix")}}const Xh={name:"thematicBreak",tokenize:Ace};function Ace(e,t,n){let r=0,a;return i;function i(u){return e.enter("thematicBreak"),o(u)}function o(u){return a=u,s(u)}function s(u){return u===a?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||Wt(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===a?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),vn(u)?jn(e,s,"whitespace")(u):s(u))}}const oi={continuation:{tokenize:Pce},exit:Oce,name:"list",tokenize:Dce},Mce={partial:!0,tokenize:Ice},Ece={partial:!0,tokenize:Tce};function Dce(e,t,n){const r=this,a=r.events[r.events.length-1];let i=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,o=0;return s;function s(m){const h=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(h==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:n1(m)){if(r.containerState.type||(r.containerState.type=h,e.enter(h,{_container:!0})),h==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(Xh,n,u)(m):u(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(m)}return n(m)}function l(m){return n1(m)&&++o<10?(e.consume(m),l):(!r.interrupt||o<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),u(m)):n(m)}function u(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(km,r.interrupt?n:d,e.attempt(Mce,p,f))}function d(m){return r.containerState.initialBlankLine=!0,i++,p(m)}function f(m){return vn(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function Pce(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(km,a,i);function a(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,jn(e,t,"listItemIndent",r.containerState.size+1)(s)}function i(s){return r.containerState.furtherBlankLines||!vn(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Ece,t,o)(s))}function o(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,jn(e,e.attempt(oi,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function Tce(e,t,n){const r=this;return jn(e,a,"listItemIndent",r.containerState.size+1);function a(i){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(i):n(i)}}function Oce(e){e.exit(this.containerState.type)}function Ice(e,t,n){const r=this;return jn(e,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(i){const o=r.events[r.events.length-1];return!vn(i)&&o&&o[1].type==="listItemPrefixWhitespace"?t(i):n(i)}}const bE={name:"setextUnderline",resolveTo:_ce,tokenize:Lce};function _ce(e,t){let n=e.length,r,a,i;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(a=n)}else e[n][1].type==="content"&&e.splice(n,1),!i&&e[n][1].type==="definition"&&(i=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",i?(e.splice(a,0,["enter",o,t]),e.splice(i+1,0,["exit",e[r][1],t]),e[r][1].end={...e[i][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function Lce(e,t,n){const r=this;let a;return i;function i(u){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),a=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),s(u)}function s(u){return u===a?(e.consume(u),s):(e.exit("setextHeadingLineSequence"),vn(u)?jn(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||Wt(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const Fce={tokenize:Rce};function Rce(e){const t=this,n=e.attempt(km,r,e.attempt(this.parser.constructs.flowInitial,a,jn(e,e.attempt(this.parser.constructs.flow,a,e.attempt(Vle,a)),"linePrefix")));return n;function r(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function a(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const $ce={resolveAll:XF()},Bce=QF("string"),zce=QF("text");function QF(e){return{resolveAll:XF(e==="text"?Uce:void 0),tokenize:t};function t(n){const r=this,a=this.parser.constructs[e],i=n.attempt(a,o,s);return o;function o(d){return u(d)?i(d):s(d)}function s(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return u(d)?(n.exit("data"),i(d)):(n.consume(d),l)}function u(d){if(d===null)return!0;const f=a[d];let p=-1;if(f)for(;++p<f.length;){const m=f[p];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function XF(e){return t;function t(n,r){let a=-1,i;for(;++a<=n.length;)i===void 0?n[a]&&n[a][1].type==="data"&&(i=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==i+2&&(n[i][1].end=n[a-1][1].end,n.splice(i+2,a-i-2),a=i+2),i=void 0);return e?e(n,r):n}}function Uce(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],a=t.sliceStream(r);let i=a.length,o=-1,s=0,l;for(;i--;){const u=a[i];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(u===-2)l=!0,s++;else if(u!==-1){i++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(s=0),s){const u={type:n===e.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?o:r.start._bufferIndex+o,_index:r.start._index+i,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const Vce={42:oi,43:oi,45:oi,48:oi,49:oi,50:oi,51:oi,52:oi,53:oi,54:oi,55:oi,56:oi,57:oi,62:qF},Wce={91:Gle},qce={[-2]:Mb,[-1]:Mb,32:Mb},Hce={35:ece,42:Xh,45:[bE,Xh],60:ace,61:bE,95:Xh,96:yE,126:yE},Kce={38:KF,92:HF},Gce={[-5]:Eb,[-4]:Eb,[-3]:Eb,33:kce,38:KF,42:r1,60:[Nle,dce],91:Nce,92:[Qle,HF],93:UN,95:r1,96:Fle},Yce={null:[r1,$ce]},Jce={null:[42,95]},Zce={null:[]},Qce=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Jce,contentInitial:Wce,disable:Zce,document:Vce,flow:Hce,flowInitial:qce,insideSpan:Yce,string:Kce,text:Gce},Symbol.toStringTag,{value:"Module"}));function Xce(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},i=[];let o=[],s=[];const l={attempt:A(j),check:A(N),consume:x,enter:w,exit:S,interrupt:A(N,{interrupt:!0})},u={code:null,containerState:{},defineSkip:v,events:[],now:h,parser:e,previous:null,sliceSerialize:p,sliceStream:m,write:f};let d=t.tokenize.call(u,l);return t.resolveAll&&i.push(t),u;function f(I){return o=Zi(o,I),b(),o[o.length-1]!==null?[]:(P(t,0),u.events=iv(i,u.events,u),u.events)}function p(I,O){return tue(m(I),O)}function m(I){return eue(o,I)}function h(){const{_bufferIndex:I,_index:O,line:H,column:J,offset:ie}=r;return{_bufferIndex:I,_index:O,line:H,column:J,offset:ie}}function v(I){a[I.line]=I.column,D()}function b(){let I;for(;r._index<o.length;){const O=o[r._index];if(typeof O=="string")for(I=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===I&&r._bufferIndex<O.length;)y(O.charCodeAt(r._bufferIndex));else y(O)}}function y(I){d=d(I)}function x(I){Wt(I)?(r.line++,r.column=1,r.offset+=I===-3?2:1,D()):I!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=I}function w(I,O){const H=O||{};return H.type=I,H.start=h(),u.events.push(["enter",H,u]),s.push(H),H}function S(I){const O=s.pop();return O.end=h(),u.events.push(["exit",O,u]),O}function j(I,O){P(I,O.from)}function N(I,O){O.restore()}function A(I,O){return H;function H(J,ie,we){let te,q,W,k;return Array.isArray(J)?T(J):"tokenize"in J?T([J]):$(J);function $(Q){return ce;function ce(Y){const L=Y!==null&&Q[Y],z=Y!==null&&Q.null,re=[...Array.isArray(L)?L:L?[L]:[],...Array.isArray(z)?z:z?[z]:[]];return T(re)(Y)}}function T(Q){return te=Q,q=0,Q.length===0?we:C(Q[q])}function C(Q){return ce;function ce(Y){return k=B(),W=Q,Q.partial||(u.currentConstruct=Q),Q.name&&u.parser.constructs.disable.null.includes(Q.name)?V():Q.tokenize.call(O?Object.assign(Object.create(u),O):u,l,R,V)(Y)}}function R(Q){return I(W,k),ie}function V(Q){return k.restore(),++q<te.length?C(te[q]):we}}}function P(I,O){I.resolveAll&&!i.includes(I)&&i.push(I),I.resolve&&Ii(u.events,O,u.events.length-O,I.resolve(u.events.slice(O),u)),I.resolveTo&&(u.events=I.resolveTo(u.events,u))}function B(){const I=h(),O=u.previous,H=u.currentConstruct,J=u.events.length,ie=Array.from(s);return{from:J,restore:we};function we(){r=I,u.previous=O,u.currentConstruct=H,u.events.length=J,s=ie,D()}}function D(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function eue(e,t){const n=t.start._index,r=t.start._bufferIndex,a=t.end._index,i=t.end._bufferIndex;let o;if(n===a)o=[e[n].slice(r,i)];else{if(o=e.slice(n,a),r>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(r):o.shift()}i>0&&o.push(e[a].slice(0,i))}return o}function tue(e,t){let n=-1;const r=[];let a;for(;++n<e.length;){const i=e[n];let o;if(typeof i=="string")o=i;else switch(i){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&a)continue;o=" ";break}default:o=String.fromCharCode(i)}a=i===-2,r.push(o)}return r.join("")}function nue(e){const t={constructs:VF([Qce,...(e||{}).extensions||[]]),content:n(yle),defined:[],document:n(ble),flow:n(Fce),lazy:{},string:n(Bce),text:n(zce)};return t;function n(r){return a;function a(i){return Xce(t,r,i)}}}function rue(e){for(;!GF(e););return e}const xE=/[\0\t\n\r]/g;function aue(){let e=1,t="",n=!0,r;return a;function a(i,o,s){const l=[];let u,d,f,p,m;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(o||void 0).decode(i)),f=0,t="",n&&(i.charCodeAt(0)===65279&&f++,n=void 0);f<i.length;){if(xE.lastIndex=f,u=xE.exec(i),p=u&&u.index!==void 0?u.index:i.length,m=i.charCodeAt(p),!u){t=i.slice(f);break}if(m===10&&f===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<p&&(l.push(i.slice(f,p)),e+=p-f),m){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=p+1}return s&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const iue=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function oue(e){return e.replace(iue,sue)}function sue(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const r=n.charCodeAt(1),a=r===120||r===88;return WF(n.slice(a?2:1),a?16:10)}return zN(n)||e}const eR={}.hasOwnProperty;function lue(e,t,n){return typeof t!="string"&&(n=t,t=void 0),cue(n)(rue(nue(n).document().write(aue()(e,t,!0))))}function cue(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(Oe),autolinkProtocol:B,autolinkEmail:B,atxHeading:i(K),blockQuote:i(z),characterEscape:B,characterReference:B,codeFenced:i(re),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:i(re,o),codeText:i(F,o),codeTextData:B,data:B,codeFlowValue:B,definition:i(le),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:i(ye),hardBreakEscape:i(me),hardBreakTrailing:i(me),htmlFlow:i(Te,o),htmlFlowData:B,htmlText:i(Te,o),htmlTextData:B,image:i(pt),label:o,link:i(Oe),listItem:i(Fe),listItemValue:p,listOrdered:i(oe,f),listUnordered:i(oe),paragraph:i(X),reference:C,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:i(K),strong:i(yt),thematicBreak:i(zn)},exit:{atxHeading:l(),atxHeadingSequence:j,autolink:l(),autolinkEmail:L,autolinkProtocol:Y,blockQuote:l(),characterEscapeValue:D,characterReferenceMarkerHexadecimal:V,characterReferenceMarkerNumeric:V,characterReferenceValue:Q,characterReference:ce,codeFenced:l(b),codeFencedFence:v,codeFencedFenceInfo:m,codeFencedFenceMeta:h,codeFlowValue:D,codeIndented:l(y),codeText:l(ie),codeTextData:D,data:D,definition:l(),definitionDestinationString:S,definitionLabelString:x,definitionTitleString:w,emphasis:l(),hardBreakEscape:l(O),hardBreakTrailing:l(O),htmlFlow:l(H),htmlFlowData:D,htmlText:l(J),htmlTextData:D,image:l(te),label:W,labelText:q,lineEnding:I,link:l(we),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:R,resourceDestinationString:k,resourceTitleString:$,resource:T,setextHeading:l(P),setextHeadingLineSequence:A,setextHeadingText:N,strong:l(),thematicBreak:l()}};tR(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Se){let Ze={type:"root",children:[]};const It={stack:[Ze],tokenStack:[],config:t,enter:s,exit:u,buffer:o,resume:d,data:n},rn=[];let on=-1;for(;++on<Se.length;)if(Se[on][1].type==="listOrdered"||Se[on][1].type==="listUnordered")if(Se[on][0]==="enter")rn.push(on);else{const mr=rn.pop();on=a(Se,mr,on)}for(on=-1;++on<Se.length;){const mr=t[Se[on][0]];eR.call(mr,Se[on][1].type)&&mr[Se[on][1].type].call(Object.assign({sliceSerialize:Se[on][2].sliceSerialize},It),Se[on][1])}if(It.tokenStack.length>0){const mr=It.tokenStack[It.tokenStack.length-1];(mr[1]||wE).call(It,void 0,mr[0])}for(Ze.position={start:bl(Se.length>0?Se[0][1].start:{line:1,column:1,offset:0}),end:bl(Se.length>0?Se[Se.length-2][1].end:{line:1,column:1,offset:0})},on=-1;++on<t.transforms.length;)Ze=t.transforms[on](Ze)||Ze;return Ze}function a(Se,Ze,It){let rn=Ze-1,on=-1,mr=!1,Zn,un,Aa,gn;for(;++rn<=It;){const Ln=Se[rn];switch(Ln[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ln[0]==="enter"?on++:on--,gn=void 0;break}case"lineEndingBlank":{Ln[0]==="enter"&&(Zn&&!gn&&!on&&!Aa&&(Aa=rn),gn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:gn=void 0}if(!on&&Ln[0]==="enter"&&Ln[1].type==="listItemPrefix"||on===-1&&Ln[0]==="exit"&&(Ln[1].type==="listUnordered"||Ln[1].type==="listOrdered")){if(Zn){let hr=rn;for(un=void 0;hr--;){const En=Se[hr];if(En[1].type==="lineEnding"||En[1].type==="lineEndingBlank"){if(En[0]==="exit")continue;un&&(Se[un][1].type="lineEndingBlank",mr=!0),En[1].type="lineEnding",un=hr}else if(!(En[1].type==="linePrefix"||En[1].type==="blockQuotePrefix"||En[1].type==="blockQuotePrefixWhitespace"||En[1].type==="blockQuoteMarker"||En[1].type==="listItemIndent"))break}Aa&&(!un||Aa<un)&&(Zn._spread=!0),Zn.end=Object.assign({},un?Se[un][1].start:Ln[1].end),Se.splice(un||rn,0,["exit",Zn,Ln[2]]),rn++,It++}if(Ln[1].type==="listItemPrefix"){const hr={type:"listItem",_spread:!1,start:Object.assign({},Ln[1].start),end:void 0};Zn=hr,Se.splice(rn,0,["enter",hr,Ln[2]]),rn++,It++,Aa=void 0,gn=!0}}}return Se[Ze][1]._spread=mr,It}function i(Se,Ze){return It;function It(rn){s.call(this,Se(rn),rn),Ze&&Ze.call(this,rn)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(Se,Ze,It){this.stack[this.stack.length-1].children.push(Se),this.stack.push(Se),this.tokenStack.push([Ze,It||void 0]),Se.position={start:bl(Ze.start),end:void 0}}function l(Se){return Ze;function Ze(It){Se&&Se.call(this,It),u.call(this,It)}}function u(Se,Ze){const It=this.stack.pop(),rn=this.tokenStack.pop();if(rn)rn[0].type!==Se.type&&(Ze?Ze.call(this,Se,rn[0]):(rn[1]||wE).call(this,Se,rn[0]));else throw new Error("Cannot close `"+Se.type+"` ("+qf({start:Se.start,end:Se.end})+"): its not open");It.position.end=bl(Se.end)}function d(){return BN(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function p(Se){if(this.data.expectingFirstListItemValue){const Ze=this.stack[this.stack.length-2];Ze.start=Number.parseInt(this.sliceSerialize(Se),10),this.data.expectingFirstListItemValue=void 0}}function m(){const Se=this.resume(),Ze=this.stack[this.stack.length-1];Ze.lang=Se}function h(){const Se=this.resume(),Ze=this.stack[this.stack.length-1];Ze.meta=Se}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const Se=this.resume(),Ze=this.stack[this.stack.length-1];Ze.value=Se.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const Se=this.resume(),Ze=this.stack[this.stack.length-1];Ze.value=Se.replace(/(\r?\n|\r)$/g,"")}function x(Se){const Ze=this.resume(),It=this.stack[this.stack.length-1];It.label=Ze,It.identifier=Co(this.sliceSerialize(Se)).toLowerCase()}function w(){const Se=this.resume(),Ze=this.stack[this.stack.length-1];Ze.title=Se}function S(){const Se=this.resume(),Ze=this.stack[this.stack.length-1];Ze.url=Se}function j(Se){const Ze=this.stack[this.stack.length-1];if(!Ze.depth){const It=this.sliceSerialize(Se).length;Ze.depth=It}}function N(){this.data.setextHeadingSlurpLineEnding=!0}function A(Se){const Ze=this.stack[this.stack.length-1];Ze.depth=this.sliceSerialize(Se).codePointAt(0)===61?1:2}function P(){this.data.setextHeadingSlurpLineEnding=void 0}function B(Se){const Ze=this.stack[this.stack.length-1].children;let It=Ze[Ze.length-1];(!It||It.type!=="text")&&(It=Ot(),It.position={start:bl(Se.start),end:void 0},Ze.push(It)),this.stack.push(It)}function D(Se){const Ze=this.stack.pop();Ze.value+=this.sliceSerialize(Se),Ze.position.end=bl(Se.end)}function I(Se){const Ze=this.stack[this.stack.length-1];if(this.data.atHardBreak){const It=Ze.children[Ze.children.length-1];It.position.end=bl(Se.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Ze.type)&&(B.call(this,Se),D.call(this,Se))}function O(){this.data.atHardBreak=!0}function H(){const Se=this.resume(),Ze=this.stack[this.stack.length-1];Ze.value=Se}function J(){const Se=this.resume(),Ze=this.stack[this.stack.length-1];Ze.value=Se}function ie(){const Se=this.resume(),Ze=this.stack[this.stack.length-1];Ze.value=Se}function we(){const Se=this.stack[this.stack.length-1];if(this.data.inReference){const Ze=this.data.referenceType||"shortcut";Se.type+="Reference",Se.referenceType=Ze,delete Se.url,delete Se.title}else delete Se.identifier,delete Se.label;this.data.referenceType=void 0}function te(){const Se=this.stack[this.stack.length-1];if(this.data.inReference){const Ze=this.data.referenceType||"shortcut";Se.type+="Reference",Se.referenceType=Ze,delete Se.url,delete Se.title}else delete Se.identifier,delete Se.label;this.data.referenceType=void 0}function q(Se){const Ze=this.sliceSerialize(Se),It=this.stack[this.stack.length-2];It.label=oue(Ze),It.identifier=Co(Ze).toLowerCase()}function W(){const Se=this.stack[this.stack.length-1],Ze=this.resume(),It=this.stack[this.stack.length-1];if(this.data.inReference=!0,It.type==="link"){const rn=Se.children;It.children=rn}else It.alt=Ze}function k(){const Se=this.resume(),Ze=this.stack[this.stack.length-1];Ze.url=Se}function $(){const Se=this.resume(),Ze=this.stack[this.stack.length-1];Ze.title=Se}function T(){this.data.inReference=void 0}function C(){this.data.referenceType="collapsed"}function R(Se){const Ze=this.resume(),It=this.stack[this.stack.length-1];It.label=Ze,It.identifier=Co(this.sliceSerialize(Se)).toLowerCase(),this.data.referenceType="full"}function V(Se){this.data.characterReferenceType=Se.type}function Q(Se){const Ze=this.sliceSerialize(Se),It=this.data.characterReferenceType;let rn;It?(rn=WF(Ze,It==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):rn=zN(Ze);const on=this.stack[this.stack.length-1];on.value+=rn}function ce(Se){const Ze=this.stack.pop();Ze.position.end=bl(Se.end)}function Y(Se){D.call(this,Se);const Ze=this.stack[this.stack.length-1];Ze.url=this.sliceSerialize(Se)}function L(Se){D.call(this,Se);const Ze=this.stack[this.stack.length-1];Ze.url="mailto:"+this.sliceSerialize(Se)}function z(){return{type:"blockquote",children:[]}}function re(){return{type:"code",lang:null,meta:null,value:""}}function F(){return{type:"inlineCode",value:""}}function le(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ye(){return{type:"emphasis",children:[]}}function K(){return{type:"heading",depth:0,children:[]}}function me(){return{type:"break"}}function Te(){return{type:"html",value:""}}function pt(){return{type:"image",title:null,url:"",alt:null}}function Oe(){return{type:"link",title:null,url:"",children:[]}}function oe(Se){return{type:"list",ordered:Se.type==="listOrdered",start:null,spread:Se._spread,children:[]}}function Fe(Se){return{type:"listItem",spread:Se._spread,checked:null,children:[]}}function X(){return{type:"paragraph",children:[]}}function yt(){return{type:"strong",children:[]}}function Ot(){return{type:"text",value:""}}function zn(){return{type:"thematicBreak"}}}function bl(e){return{line:e.line,column:e.column,offset:e.offset}}function tR(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?tR(e,r):uue(e,r)}}function uue(e,t){let n;for(n in t)if(eR.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function wE(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+qf({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+qf({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+qf({start:t.start,end:t.end})+") is still open")}function due(e){const t=this;t.parser=n;function n(r){return lue(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function fue(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function pue(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function mue(e,t){const n=t.value?t.value+`
`:"",r={},a=t.lang?t.lang.split(/\s+/):[];a.length>0&&(r.className=["language-"+a[0]]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function hue(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function gue(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function yue(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),a=qd(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);let o,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=i+1,s+=1,e.footnoteCounts.set(r,s);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function vue(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function bue(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function nR(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const a=e.all(t),i=a[0];i&&i.type==="text"?i.value="["+i.value:a.unshift({type:"text",value:"["});const o=a[a.length-1];return o&&o.type==="text"?o.value+=r:a.push({type:"text",value:r}),a}function xue(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return nR(e,t);const a={src:qd(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,i),e.applyData(t,i)}function wue(e,t){const n={src:qd(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function kue(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function Sue(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return nR(e,t);const a={href:qd(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function Nue(e,t){const n={href:qd(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function jue(e,t,n){const r=e.all(t),a=n?Cue(n):rR(t),i={},o=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const d=r[s];(a||s!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!a?o.push(...d.children):o.push(d)}const l=r[r.length-1];l&&(a||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:i,children:o};return e.patch(t,u),e.applyData(t,u)}function Cue(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=rR(n[r])}return t}function rR(e){return e.spread??e.children.length>1}function Aue(e,t){const n={},r=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++a<r.length;){const o=r[a];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)}function Mue(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Eue(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Due(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Pue(e,t){const n=e.all(t),r=n.shift(),a=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),a.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=LN(t.children[1]),l=LF(t.children[t.children.length-1]);s&&l&&(o.position={start:s,end:l}),a.push(o)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,i),e.applyData(t,i)}function Tue(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",i=n&&n.type==="table"?n.align:void 0,o=i?i.length:t.children.length;let s=-1;const l=[];for(;++s<o;){const d=t.children[s],f={},p=i?i[s]:void 0;p&&(f.align=p);let m={type:"element",tagName:a,properties:f,children:[]};d&&(m.children=e.all(d),e.patch(d,m),m=e.applyData(d,m)),l.push(m)}const u={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,u),e.applyData(t,u)}function Oue(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const kE=9,SE=32;function Iue(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),a=0;const i=[];for(;r;)i.push(NE(t.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(t);return i.push(NE(t.slice(a),a>0,!1)),i.join("")}function NE(e,t,n){let r=0,a=e.length;if(t){let i=e.codePointAt(r);for(;i===kE||i===SE;)r++,i=e.codePointAt(r)}if(n){let i=e.codePointAt(a-1);for(;i===kE||i===SE;)a--,i=e.codePointAt(a-1)}return a>r?e.slice(r,a):""}function _ue(e,t){const n={type:"text",value:Iue(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Lue(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Fue={blockquote:fue,break:pue,code:mue,delete:hue,emphasis:gue,footnoteReference:yue,heading:vue,html:bue,imageReference:xue,image:wue,inlineCode:kue,linkReference:Sue,link:Nue,listItem:jue,list:Aue,paragraph:Mue,root:Eue,strong:Due,table:Pue,tableCell:Oue,tableRow:Tue,text:_ue,thematicBreak:Lue,toml:jh,yaml:jh,definition:jh,footnoteDefinition:jh};function jh(){}const aR=-1,ov=0,Kf=1,M0=2,VN=3,WN=4,qN=5,HN=6,iR=7,oR=8,jE=typeof self=="object"?self:globalThis,Rue=(e,t)=>{const n=(a,i)=>(e.set(i,a),a),r=a=>{if(e.has(a))return e.get(a);const[i,o]=t[a];switch(i){case ov:case aR:return n(o,a);case Kf:{const s=n([],a);for(const l of o)s.push(r(l));return s}case M0:{const s=n({},a);for(const[l,u]of o)s[r(l)]=r(u);return s}case VN:return n(new Date(o),a);case WN:{const{source:s,flags:l}=o;return n(new RegExp(s,l),a)}case qN:{const s=n(new Map,a);for(const[l,u]of o)s.set(r(l),r(u));return s}case HN:{const s=n(new Set,a);for(const l of o)s.add(r(l));return s}case iR:{const{name:s,message:l}=o;return n(new jE[s](l),a)}case oR:return n(BigInt(o),a);case"BigInt":return n(Object(BigInt(o)),a);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:s}=new Uint8Array(o);return n(new DataView(s),o)}}return n(new jE[i](o),a)};return r},CE=e=>Rue(new Map,e)(0),Pu="",{toString:$ue}={},{keys:Bue}=Object,xf=e=>{const t=typeof e;if(t!=="object"||!e)return[ov,t];const n=$ue.call(e).slice(8,-1);switch(n){case"Array":return[Kf,Pu];case"Object":return[M0,Pu];case"Date":return[VN,Pu];case"RegExp":return[WN,Pu];case"Map":return[qN,Pu];case"Set":return[HN,Pu];case"DataView":return[Kf,n]}return n.includes("Array")?[Kf,n]:n.includes("Error")?[iR,n]:[M0,n]},Ch=([e,t])=>e===ov&&(t==="function"||t==="symbol"),zue=(e,t,n,r)=>{const a=(o,s)=>{const l=r.push(o)-1;return n.set(s,l),l},i=o=>{if(n.has(o))return n.get(o);let[s,l]=xf(o);switch(s){case ov:{let d=o;switch(l){case"bigint":s=oR,d=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return a([aR],o)}return a([s,d],o)}case Kf:{if(l){let p=o;return l==="DataView"?p=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(o)),a([l,[...p]],o)}const d=[],f=a([s,d],o);for(const p of o)d.push(i(p));return f}case M0:{if(l)switch(l){case"BigInt":return a([l,o.toString()],o);case"Boolean":case"Number":case"String":return a([l,o.valueOf()],o)}if(t&&"toJSON"in o)return i(o.toJSON());const d=[],f=a([s,d],o);for(const p of Bue(o))(e||!Ch(xf(o[p])))&&d.push([i(p),i(o[p])]);return f}case VN:return a([s,o.toISOString()],o);case WN:{const{source:d,flags:f}=o;return a([s,{source:d,flags:f}],o)}case qN:{const d=[],f=a([s,d],o);for(const[p,m]of o)(e||!(Ch(xf(p))||Ch(xf(m))))&&d.push([i(p),i(m)]);return f}case HN:{const d=[],f=a([s,d],o);for(const p of o)(e||!Ch(xf(p)))&&d.push(i(p));return f}}const{message:u}=o;return a([s,{name:l,message:u}],o)};return i},AE=(e,{json:t,lossy:n}={})=>{const r=[];return zue(!(t||n),!!t,new Map,r)(e),r},E0=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?CE(AE(e,t)):structuredClone(e):(e,t)=>CE(AE(e,t));function Uue(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Vue(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Wue(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Uue,r=e.options.footnoteBackLabel||Vue,a=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const d=e.all(u),f=String(u.identifier).toUpperCase(),p=qd(f.toLowerCase());let m=0;const h=[],v=e.footnoteCounts.get(f);for(;v!==void 0&&++m<=v;){h.length>0&&h.push({type:"text",value:" "});let x=typeof n=="string"?n:n(l,m);typeof x=="string"&&(x={type:"text",value:x}),h.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const b=d[d.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const x=b.children[b.children.length-1];x&&x.type==="text"?x.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...h)}else d.push(...h);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(d,!0)};e.patch(u,y),s.push(y)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...E0(o),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const sv=function(e){if(e==null)return Gue;if(typeof e=="function")return lv(e);if(typeof e=="object")return Array.isArray(e)?que(e):Hue(e);if(typeof e=="string")return Kue(e);throw new Error("Expected function, string, or object as test")};function que(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=sv(e[n]);return lv(r);function r(...a){let i=-1;for(;++i<t.length;)if(t[i].apply(this,a))return!0;return!1}}function Hue(e){const t=e;return lv(n);function n(r){const a=r;let i;for(i in e)if(a[i]!==t[i])return!1;return!0}}function Kue(e){return lv(t);function t(n){return n&&n.type===e}}function lv(e){return t;function t(n,r,a){return!!(Yue(n)&&e.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function Gue(){return!0}function Yue(e){return e!==null&&typeof e=="object"&&"type"in e}const sR=[],Jue=!0,a1=!1,Zue="skip";function lR(e,t,n,r){let a;typeof t=="function"&&typeof n!="function"?(r=n,n=t):a=t;const i=sv(a),o=r?-1:1;s(e,void 0,[])();function s(l,u,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return p;function p(){let m=sR,h,v,b;if((!t||i(l,u,d[d.length-1]||void 0))&&(m=Que(n(l,d)),m[0]===a1))return m;if("children"in l&&l.children){const y=l;if(y.children&&m[0]!==Zue)for(v=(r?y.children.length:-1)+o,b=d.concat(y);v>-1&&v<y.children.length;){const x=y.children[v];if(h=s(x,v,b)(),h[0]===a1)return h;v=typeof h[1]=="number"?h[1]:v+o}}return m}}}function Que(e){return Array.isArray(e)?e:typeof e=="number"?[Jue,e]:e==null?sR:[e]}function KN(e,t,n,r){let a,i,o;typeof t=="function"&&typeof n!="function"?(i=void 0,o=t,a=n):(i=t,o=n,a=r),lR(e,i,s,a);function s(l,u){const d=u[u.length-1],f=d?d.children.indexOf(l):void 0;return o(l,f,d)}}const i1={}.hasOwnProperty,Xue={};function ede(e,t){const n=t||Xue,r=new Map,a=new Map,i=new Map,o={...Fue,...n.handlers},s={all:u,applyData:nde,definitionById:r,footnoteById:a,footnoteCounts:i,footnoteOrder:[],handlers:o,one:l,options:n,patch:tde,wrap:ade};return KN(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:a,p=String(d.identifier).toUpperCase();f.has(p)||f.set(p,d)}}),s;function l(d,f){const p=d.type,m=s.handlers[p];if(i1.call(s.handlers,p)&&m)return m(s,d,f);if(s.options.passThrough&&s.options.passThrough.includes(p)){if("children"in d){const{children:h,...v}=d,b=E0(v);return b.children=s.all(d),b}return E0(d)}return(s.options.unknownHandler||rde)(s,d,f)}function u(d){const f=[];if("children"in d){const p=d.children;let m=-1;for(;++m<p.length;){const h=s.one(p[m],d);if(h){if(m&&p[m-1].type==="break"&&(!Array.isArray(h)&&h.type==="text"&&(h.value=ME(h.value)),!Array.isArray(h)&&h.type==="element")){const v=h.children[0];v&&v.type==="text"&&(v.value=ME(v.value))}Array.isArray(h)?f.push(...h):f.push(h)}}}return f}}function tde(e,t){e.position&&(t.position=Vse(e))}function nde(e,t){let n=t;if(e&&e.data){const r=e.data.hName,a=e.data.hChildren,i=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&i&&Object.assign(n.properties,E0(i)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function rde(e,t){const n=t.data||{},r="value"in t&&!(i1.call(n,"hProperties")||i1.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function ade(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function ME(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function EE(e,t){const n=ede(e,t),r=n.one(e,void 0),a=Wue(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&i.children.push({type:"text",value:`
`},a),i}function ide(e,t){return e&&"run"in e?async function(n,r){const a=EE(n,{file:r,...t});await e.run(a,r)}:function(n,r){return EE(n,{file:r,...e||t})}}function DE(e){if(e)throw e}var eg=Object.prototype.hasOwnProperty,cR=Object.prototype.toString,PE=Object.defineProperty,TE=Object.getOwnPropertyDescriptor,OE=function(e){return typeof Array.isArray=="function"?Array.isArray(e):cR.call(e)==="[object Array]"},IE=function(e){if(!e||cR.call(e)!=="[object Object]")return!1;var t=eg.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&eg.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!n)return!1;var r;for(r in e);return typeof r>"u"||eg.call(e,r)},_E=function(e,t){PE&&t.name==="__proto__"?PE(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},LE=function(e,t){if(t==="__proto__")if(eg.call(e,t)){if(TE)return TE(e,t).value}else return;return e[t]},ode=function e(){var t,n,r,a,i,o,s=arguments[0],l=1,u=arguments.length,d=!1;for(typeof s=="boolean"&&(d=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)r=LE(s,n),a=LE(t,n),s!==a&&(d&&a&&(IE(a)||(i=OE(a)))?(i?(i=!1,o=r&&OE(r)?r:[]):o=r&&IE(r)?r:{},_E(s,{name:n,newValue:e(d,o,a)})):typeof a<"u"&&_E(s,{name:n,newValue:a}));return s};const Db=_o(ode);function o1(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function sde(){const e=[],t={run:n,use:r};return t;function n(...a){let i=-1;const o=a.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...a);function s(l,...u){const d=e[++i];let f=-1;if(l){o(l);return}for(;++f<a.length;)(u[f]===null||u[f]===void 0)&&(u[f]=a[f]);a=u,d?lde(d,s)(...u):o(null,...u)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function lde(e,t){let n;return r;function r(...o){const s=e.length>o.length;let l;s&&o.push(a);try{l=e.apply(this,o)}catch(u){const d=u;if(s&&n)throw d;return a(d)}s||(l&&l.then&&typeof l.then=="function"?l.then(i,a):l instanceof Error?a(l):i(l))}function a(o,...s){n||(n=!0,t(o,...s))}function i(o){a(null,o)}}const Qo={basename:cde,dirname:ude,extname:dde,join:fde,sep:"/"};function cde(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Sm(e);let n=0,r=-1,a=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(i){n=a+1;break}}else r<0&&(i=!0,r=a+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,s=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(i){n=a+1;break}}else o<0&&(i=!0,o=a+1),s>-1&&(e.codePointAt(a)===t.codePointAt(s--)?s<0&&(r=a):(s=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function ude(e){if(Sm(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function dde(e){Sm(e);let t=e.length,n=-1,r=0,a=-1,i=0,o;for(;t--;){const s=e.codePointAt(t);if(s===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),s===46?a<0?a=t:i!==1&&(i=1):a>-1&&(i=-1)}return a<0||n<0||i===0||i===1&&a===n-1&&a===r+1?"":e.slice(a,n)}function fde(...e){let t=-1,n;for(;++t<e.length;)Sm(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":pde(n)}function pde(e){Sm(e);const t=e.codePointAt(0)===47;let n=mde(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function mde(e,t){let n="",r=0,a=-1,i=0,o=-1,s,l;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(a===o-1||i===1))if(a!==o-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),a=o,i=0;continue}}else if(n.length>0){n="",r=0,a=o,i=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(a+1,o):n=e.slice(a+1,o),r=o-a-1;a=o,i=0}else s===46&&i>-1?i++:i=-1}return n}function Sm(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const hde={cwd:gde};function gde(){return"/"}function s1(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function yde(e){if(typeof e=="string")e=new URL(e);else if(!s1(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return vde(e)}function vde(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const Pb=["history","path","basename","stem","extname","dirname"];class uR{constructor(t){let n;t?s1(t)?n={path:t}:typeof t=="string"||bde(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":hde.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Pb.length;){const i=Pb[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let a;for(a in n)Pb.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?Qo.basename(this.path):void 0}set basename(t){Ob(t,"basename"),Tb(t,"basename"),this.path=Qo.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Qo.dirname(this.path):void 0}set dirname(t){FE(this.basename,"dirname"),this.path=Qo.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Qo.extname(this.path):void 0}set extname(t){if(Tb(t,"extname"),FE(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Qo.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){s1(t)&&(t=yde(t)),Ob(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Qo.basename(this.path,this.extname):void 0}set stem(t){Ob(t,"stem"),Tb(t,"stem"),this.path=Qo.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const a=this.message(t,n,r);throw a.fatal=!0,a}info(t,n,r){const a=this.message(t,n,r);return a.fatal=void 0,a}message(t,n,r){const a=new Va(t,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Tb(e,t){if(e&&e.includes(Qo.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Qo.sep+"`")}function Ob(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function FE(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function bde(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const xde=function(e){const t=this.constructor.prototype,n=t[e],r=function(){return n.apply(r,arguments)};return Object.setPrototypeOf(r,t),r},wde={}.hasOwnProperty;class GN extends xde{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=sde()}copy(){const t=new GN;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Db(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Lb("data",this.frozen),this.namespace[t]=n,this):wde.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Lb("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(t,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Ah(t),r=this.parser||this.Parser;return Ib("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Ib("process",this.parser||this.Parser),_b("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(i,o){const s=Ah(t),l=r.parse(s);r.run(l,s,function(d,f,p){if(d||!f||!p)return u(d);const m=f,h=r.stringify(m,p);Nde(h)?p.value=h:p.result=h,u(d,p)});function u(d,f){d||!f?o(d):i?i(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),Ib("processSync",this.parser||this.Parser),_b("processSync",this.compiler||this.Compiler),this.process(t,a),$E("processSync","process",n),r;function a(i,o){n=!0,DE(i),r=o}}run(t,n,r){RE(t),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(o,s){const l=Ah(n);a.run(t,l,u);function u(d,f,p){const m=f||t;d?s(d):o?o(m):r(void 0,m,p)}}}runSync(t,n){let r=!1,a;return this.run(t,n,i),$E("runSync","run",r),a;function i(o,s){DE(o),a=s,r=!0}}stringify(t,n){this.freeze();const r=Ah(n),a=this.compiler||this.Compiler;return _b("stringify",a),RE(t),a(t,r)}use(t,...n){const r=this.attachers,a=this.namespace;if(Lb("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...f]=u;l(d,f)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(u.plugins),u.settings&&(a.settings=Db(!0,a.settings,u.settings))}function s(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const f=u[d];i(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,d){let f=-1,p=-1;for(;++f<r.length;)if(r[f][0]===u){p=f;break}if(p===-1)r.push([u,...d]);else if(d.length>0){let[m,...h]=d;const v=r[p][1];o1(v)&&o1(m)&&(m=Db(!0,v,m)),r[p]=[u,m,...h]}}}}const kde=new GN().freeze();function Ib(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function _b(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Lb(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function RE(e){if(!o1(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function $E(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Ah(e){return Sde(e)?e:new uR(e)}function Sde(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Nde(e){return typeof e=="string"||jde(e)}function jde(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Cde="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",BE=[],zE={allowDangerousHtml:!0},Ade=/^(https?|ircs?|mailto|xmpp)$/i,Mde=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Ede(e){const t=Dde(e),n=Pde(e);return Tde(t.runSync(t.parse(n),n),e)}function Dde(e){const t=e.rehypePlugins||BE,n=e.remarkPlugins||BE,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...zE}:zE;return kde().use(due).use(n).use(ide,r).use(t)}function Pde(e){const t=e.children||"",n=new uR;return typeof t=="string"&&(n.value=t),n}function Tde(e,t){const n=t.allowedElements,r=t.allowElement,a=t.components,i=t.disallowedElements,o=t.skipHtml,s=t.unwrapDisallowed,l=t.urlTransform||Ode;for(const d of Mde)Object.hasOwn(t,d.from)&&""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+Cde+d.id;return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),KN(e,u),Gse(e,{Fragment:c.Fragment,components:a,ignoreInvalidStyle:!0,jsx:c.jsx,jsxs:c.jsxs,passKeys:!0,passNode:!0});function u(d,f,p){if(d.type==="raw"&&p&&typeof f=="number")return o?p.children.splice(f,1):p.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let m;for(m in Ab)if(Object.hasOwn(Ab,m)&&Object.hasOwn(d.properties,m)){const h=d.properties[m],v=Ab[m];(v===null||v.includes(d.tagName))&&(d.properties[m]=l(String(h||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):i?i.includes(d.tagName):!1;if(!m&&r&&typeof f=="number"&&(m=!r(d,f,p)),m&&p&&typeof f=="number")return s&&d.children?p.children.splice(f,1,...d.children):p.children.splice(f,1),f}}}function Ode(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||n!==-1&&t>n||r!==-1&&t>r||Ade.test(e.slice(0,t))?e:""}function UE(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,a=n.indexOf(t);for(;a!==-1;)r++,a=n.indexOf(t,a+t.length);return r}function Ide(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function _de(e,t,n){const r=sv((n||{}).ignore||[]),a=Lde(t);let i=-1;for(;++i<a.length;)lR(e,"text",o);function o(l,u){let d=-1,f;for(;++d<u.length;){const p=u[d],m=f?f.children:void 0;if(r(p,m?m.indexOf(p):void 0,f))return;f=p}if(f)return s(l,u)}function s(l,u){const d=u[u.length-1],f=a[i][0],p=a[i][1];let m=0;const h=d.children.indexOf(l);let v=!1,b=[];f.lastIndex=0;let y=f.exec(l.value);for(;y;){const x=y.index,w={index:y.index,input:y.input,stack:[...u,l]};let S=p(...y,w);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?f.lastIndex=x+1:(m!==x&&b.push({type:"text",value:l.value.slice(m,x)}),Array.isArray(S)?b.push(...S):S&&b.push(S),m=x+y[0].length,v=!0),!f.global)break;y=f.exec(l.value)}return v?(m<l.value.length&&b.push({type:"text",value:l.value.slice(m)}),d.children.splice(h,1,...b)):b=[l],h+b.length}}function Lde(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const a=n[r];t.push([Fde(a[0]),Rde(a[1])])}return t}function Fde(e){return typeof e=="string"?new RegExp(Ide(e),"g"):e}function Rde(e){return typeof e=="function"?e:function(){return e}}const Fb="phrasing",Rb=["autolink","link","image","label"];function $de(){return{transforms:[Hde],enter:{literalAutolink:zde,literalAutolinkEmail:$b,literalAutolinkHttp:$b,literalAutolinkWww:$b},exit:{literalAutolink:qde,literalAutolinkEmail:Wde,literalAutolinkHttp:Ude,literalAutolinkWww:Vde}}}function Bde(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Fb,notInConstruct:Rb},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Fb,notInConstruct:Rb},{character:":",before:"[ps]",after:"\\/",inConstruct:Fb,notInConstruct:Rb}]}}function zde(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function $b(e){this.config.enter.autolinkProtocol.call(this,e)}function Ude(e){this.config.exit.autolinkProtocol.call(this,e)}function Vde(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Wde(e){this.config.exit.autolinkEmail.call(this,e)}function qde(e){this.exit(e)}function Hde(e){_de(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Kde],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Gde]],{ignore:["link","linkReference"]})}function Kde(e,t,n,r,a){let i="";if(!dR(a)||(/^w/i.test(t)&&(n=t+n,t="",i="http://"),!Yde(n)))return!1;const o=Jde(n+r);if(!o[0])return!1;const s={type:"link",title:null,url:i+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[s,{type:"text",value:o[1]}]:s}function Gde(e,t,n,r){return!dR(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function Yde(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function Jde(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const a=UE(e,"(");let i=UE(e,")");for(;r!==-1&&a>i;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),i++;return[e,n]}function dR(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||lu(n)||av(n))&&(!t||n!==47)}fR.peek=ife;function Zde(){this.buffer()}function Qde(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Xde(){this.buffer()}function efe(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function tfe(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Co(this.sliceSerialize(e)).toLowerCase(),n.label=t}function nfe(e){this.exit(e)}function rfe(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Co(this.sliceSerialize(e)).toLowerCase(),n.label=t}function afe(e){this.exit(e)}function ife(){return"["}function fR(e,t,n,r){const a=n.createTracker(r);let i=a.move("[^");const o=n.enter("footnoteReference"),s=n.enter("reference");return i+=a.move(n.safe(n.associationId(e),{after:"]",before:i})),s(),o(),i+=a.move("]"),i}function ofe(){return{enter:{gfmFootnoteCallString:Zde,gfmFootnoteCall:Qde,gfmFootnoteDefinitionLabelString:Xde,gfmFootnoteDefinition:efe},exit:{gfmFootnoteCallString:tfe,gfmFootnoteCall:nfe,gfmFootnoteDefinitionLabelString:rfe,gfmFootnoteDefinition:afe}}}function sfe(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:fR},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,a,i,o){const s=i.createTracker(o);let l=s.move("[^");const u=i.enter("footnoteDefinition"),d=i.enter("label");return l+=s.move(i.safe(i.associationId(r),{before:l,after:"]"})),d(),l+=s.move("]:"),r.children&&r.children.length>0&&(s.shift(4),l+=s.move((t?`
`:" ")+i.indentLines(i.containerFlow(r,s.current()),t?pR:lfe))),u(),l}}function lfe(e,t,n){return t===0?e:pR(e,t,n)}function pR(e,t,n){return(n?"":"    ")+e}const cfe=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];mR.peek=mfe;function ufe(){return{canContainEols:["delete"],enter:{strikethrough:ffe},exit:{strikethrough:pfe}}}function dfe(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:cfe}],handlers:{delete:mR}}}function ffe(e){this.enter({type:"delete",children:[]},e)}function pfe(e){this.exit(e)}function mR(e,t,n,r){const a=n.createTracker(r),i=n.enter("strikethrough");let o=a.move("~~");return o+=n.containerPhrasing(e,{...a.current(),before:o,after:"~"}),o+=a.move("~~"),i(),o}function mfe(){return"~"}function hfe(e){return e.length}function gfe(e,t){const n=t||{},r=(n.align||[]).concat(),a=n.stringLength||hfe,i=[],o=[],s=[],l=[];let u=0,d=-1;for(;++d<e.length;){const v=[],b=[];let y=-1;for(e[d].length>u&&(u=e[d].length);++y<e[d].length;){const x=yfe(e[d][y]);if(n.alignDelimiters!==!1){const w=a(x);b[y]=w,(l[y]===void 0||w>l[y])&&(l[y]=w)}v.push(x)}o[d]=v,s[d]=b}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<u;)i[f]=VE(r[f]);else{const v=VE(r);for(;++f<u;)i[f]=v}f=-1;const p=[],m=[];for(;++f<u;){const v=i[f];let b="",y="";v===99?(b=":",y=":"):v===108?b=":":v===114&&(y=":");let x=n.alignDelimiters===!1?1:Math.max(1,l[f]-b.length-y.length);const w=b+"-".repeat(x)+y;n.alignDelimiters!==!1&&(x=b.length+x+y.length,x>l[f]&&(l[f]=x),m[f]=x),p[f]=w}o.splice(1,0,p),s.splice(1,0,m),d=-1;const h=[];for(;++d<o.length;){const v=o[d],b=s[d];f=-1;const y=[];for(;++f<u;){const x=v[f]||"";let w="",S="";if(n.alignDelimiters!==!1){const j=l[f]-(b[f]||0),N=i[f];N===114?w=" ".repeat(j):N===99?j%2?(w=" ".repeat(j/2+.5),S=" ".repeat(j/2-.5)):(w=" ".repeat(j/2),S=w):S=" ".repeat(j)}n.delimiterStart!==!1&&!f&&y.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&x==="")&&(n.delimiterStart!==!1||f)&&y.push(" "),n.alignDelimiters!==!1&&y.push(w),y.push(x),n.alignDelimiters!==!1&&y.push(S),n.padding!==!1&&y.push(" "),(n.delimiterEnd!==!1||f!==u-1)&&y.push("|")}h.push(n.delimiterEnd===!1?y.join("").replace(/ +$/,""):y.join(""))}return h.join(`
`)}function yfe(e){return e==null?"":String(e)}function VE(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function vfe(e,t,n,r){const a=n.enter("blockquote"),i=n.createTracker(r);i.move("> "),i.shift(2);const o=n.indentLines(n.containerFlow(e,i.current()),bfe);return a(),o}function bfe(e,t,n){return">"+(n?"":" ")+e}function xfe(e,t){return WE(e,t.inConstruct,!0)&&!WE(e,t.notInConstruct,!1)}function WE(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function qE(e,t,n,r){let a=-1;for(;++a<n.unsafe.length;)if(n.unsafe[a].character===`
`&&xfe(n.stack,n.unsafe[a]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function wfe(e,t){const n=String(e);let r=n.indexOf(t),a=r,i=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===a?++i>o&&(o=i):i=1,a=r+t.length,r=n.indexOf(t,a);return o}function kfe(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function Sfe(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function Nfe(e,t,n,r){const a=Sfe(n),i=e.value||"",o=a==="`"?"GraveAccent":"Tilde";if(kfe(e,n)){const f=n.enter("codeIndented"),p=n.indentLines(i,jfe);return f(),p}const s=n.createTracker(r),l=a.repeat(Math.max(wfe(i,a)+1,3)),u=n.enter("codeFenced");let d=s.move(l);if(e.lang){const f=n.enter(`codeFencedLang${o}`);d+=s.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...s.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${o}`);d+=s.move(" "),d+=s.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...s.current()})),f()}return d+=s.move(`
`),i&&(d+=s.move(i+`
`)),d+=s.move(l),u(),d}function jfe(e,t,n){return(n?"":"    ")+e}function YN(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Cfe(e,t,n,r){const a=YN(n),i=a==='"'?"Quote":"Apostrophe",o=n.enter("definition");let s=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(e),{before:u,after:"]",...l.current()})),u+=l.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(s=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...l.current()}))),s(),e.title&&(s=n.enter(`title${i}`),u+=l.move(" "+a),u+=l.move(n.safe(e.title,{before:u,after:a,...l.current()})),u+=l.move(a),s()),o(),u}function Afe(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function _p(e){return"&#x"+e.toString(16).toUpperCase()+";"}function D0(e,t,n){const r=Md(e),a=Md(t);return r===void 0?a===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}hR.peek=Mfe;function hR(e,t,n,r){const a=Afe(n),i=n.enter("emphasis"),o=n.createTracker(r),s=o.move(a);let l=o.move(n.containerPhrasing(e,{after:a,before:s,...o.current()}));const u=l.charCodeAt(0),d=D0(r.before.charCodeAt(r.before.length-1),u,a);d.inside&&(l=_p(u)+l.slice(1));const f=l.charCodeAt(l.length-1),p=D0(r.after.charCodeAt(0),f,a);p.inside&&(l=l.slice(0,-1)+_p(f));const m=o.move(a);return i(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},s+l+m}function Mfe(e,t,n){return n.options.emphasis||"*"}function Efe(e,t){let n=!1;return KN(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,a1}),!!((!e.depth||e.depth<3)&&BN(e)&&(t.options.setext||n))}function Dfe(e,t,n,r){const a=Math.max(Math.min(6,e.depth||1),1),i=n.createTracker(r);if(Efe(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),p=n.containerPhrasing(e,{...i.current(),before:`
`,after:`
`});return f(),d(),p+`
`+(a===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const o="#".repeat(a),s=n.enter("headingAtx"),l=n.enter("phrasing");i.move(o+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...i.current()});return/^[\t ]/.test(u)&&(u=_p(u.charCodeAt(0))+u.slice(1)),u=u?o+" "+u:o,n.options.closeAtx&&(u+=" "+o),l(),s(),u}gR.peek=Pfe;function gR(e){return e.value||""}function Pfe(){return"<"}yR.peek=Tfe;function yR(e,t,n,r){const a=YN(n),i=a==='"'?"Quote":"Apostrophe",o=n.enter("image");let s=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(e.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(s=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":")",...l.current()}))),s(),e.title&&(s=n.enter(`title${i}`),u+=l.move(" "+a),u+=l.move(n.safe(e.title,{before:u,after:a,...l.current()})),u+=l.move(a),s()),u+=l.move(")"),o(),u}function Tfe(){return"!"}vR.peek=Ofe;function vR(e,t,n,r){const a=e.referenceType,i=n.enter("imageReference");let o=n.enter("label");const s=n.createTracker(r);let l=s.move("![");const u=n.safe(e.alt,{before:l,after:"]",...s.current()});l+=s.move(u+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return o(),n.stack=d,i(),a==="full"||!u||u!==f?l+=s.move(f+"]"):a==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function Ofe(){return"!"}bR.peek=Ife;function bR(e,t,n){let r=e.value||"",a="`",i=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(r);)a+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++i<n.unsafe.length;){const o=n.unsafe[i],s=n.compilePattern(o);let l;if(o.atBreak)for(;l=s.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return a+r+a}function Ife(){return"`"}function xR(e,t){const n=BN(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}wR.peek=_fe;function wR(e,t,n,r){const a=YN(n),i=a==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let s,l;if(xR(e,n)){const d=n.stack;n.stack=[],s=n.enter("autolink");let f=o.move("<");return f+=o.move(n.containerPhrasing(e,{before:f,after:">",...o.current()})),f+=o.move(">"),s(),n.stack=d,f}s=n.enter("link"),l=n.enter("label");let u=o.move("[");return u+=o.move(n.containerPhrasing(e,{before:u,after:"](",...o.current()})),u+=o.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(n.safe(e.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(l=n.enter("destinationRaw"),u+=o.move(n.safe(e.url,{before:u,after:e.title?" ":")",...o.current()}))),l(),e.title&&(l=n.enter(`title${i}`),u+=o.move(" "+a),u+=o.move(n.safe(e.title,{before:u,after:a,...o.current()})),u+=o.move(a),l()),u+=o.move(")"),s(),u}function _fe(e,t,n){return xR(e,n)?"<":"["}kR.peek=Lfe;function kR(e,t,n,r){const a=e.referenceType,i=n.enter("linkReference");let o=n.enter("label");const s=n.createTracker(r);let l=s.move("[");const u=n.containerPhrasing(e,{before:l,after:"]",...s.current()});l+=s.move(u+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return o(),n.stack=d,i(),a==="full"||!u||u!==f?l+=s.move(f+"]"):a==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function Lfe(){return"["}function JN(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Ffe(e){const t=JN(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Rfe(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function SR(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function $fe(e,t,n,r){const a=n.enter("list"),i=n.bulletCurrent;let o=e.ordered?Rfe(n):JN(n);const s=e.ordered?o==="."?")":".":Ffe(n);let l=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),SR(n)===o&&d){let f=-1;for(;++f<e.children.length;){const p=e.children[f];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=s),n.bulletCurrent=o;const u=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=i,a(),u}function Bfe(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function zfe(e,t,n,r){const a=Bfe(n);let i=n.bulletCurrent||JN(n);t&&t.type==="list"&&t.ordered&&(i=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+i);let o=i.length+1;(a==="tab"||a==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const s=n.createTracker(r);s.move(i+" ".repeat(o-i.length)),s.shift(o);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,s.current()),d);return l(),u;function d(f,p,m){return p?(m?"":" ".repeat(o))+f:(m?i:i+" ".repeat(o-i.length))+f}}function Ufe(e,t,n,r){const a=n.enter("paragraph"),i=n.enter("phrasing"),o=n.containerPhrasing(e,r);return i(),a(),o}const Vfe=sv(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Wfe(e,t,n,r){return(e.children.some(function(a){return Vfe(a)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function qfe(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}NR.peek=Hfe;function NR(e,t,n,r){const a=qfe(n),i=n.enter("strong"),o=n.createTracker(r),s=o.move(a+a);let l=o.move(n.containerPhrasing(e,{after:a,before:s,...o.current()}));const u=l.charCodeAt(0),d=D0(r.before.charCodeAt(r.before.length-1),u,a);d.inside&&(l=_p(u)+l.slice(1));const f=l.charCodeAt(l.length-1),p=D0(r.after.charCodeAt(0),f,a);p.inside&&(l=l.slice(0,-1)+_p(f));const m=o.move(a+a);return i(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},s+l+m}function Hfe(e,t,n){return n.options.strong||"*"}function Kfe(e,t,n,r){return n.safe(e.value,r)}function Gfe(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function Yfe(e,t,n){const r=(SR(n)+(n.options.ruleSpaces?" ":"")).repeat(Gfe(n));return n.options.ruleSpaces?r.slice(0,-1):r}const jR={blockquote:vfe,break:qE,code:Nfe,definition:Cfe,emphasis:hR,hardBreak:qE,heading:Dfe,html:gR,image:yR,imageReference:vR,inlineCode:bR,link:wR,linkReference:kR,list:$fe,listItem:zfe,paragraph:Ufe,root:Wfe,strong:NR,text:Kfe,thematicBreak:Yfe};function Jfe(){return{enter:{table:Zfe,tableData:HE,tableHeader:HE,tableRow:Xfe},exit:{codeText:epe,table:Qfe,tableData:Bb,tableHeader:Bb,tableRow:Bb}}}function Zfe(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function Qfe(e){this.exit(e),this.data.inTable=void 0}function Xfe(e){this.enter({type:"tableRow",children:[]},e)}function Bb(e){this.exit(e)}function HE(e){this.enter({type:"tableCell",children:[]},e)}function epe(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,tpe));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function tpe(e,t){return t==="|"?t:e}function npe(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,a=t.stringLength,i=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:o,tableCell:l,tableRow:s}};function o(m,h,v,b){return u(d(m,v,b),m.align)}function s(m,h,v,b){const y=f(m,v,b),x=u([y]);return x.slice(0,x.indexOf(`
`))}function l(m,h,v,b){const y=v.enter("tableCell"),x=v.enter("phrasing"),w=v.containerPhrasing(m,{...b,before:i,after:i});return x(),y(),w}function u(m,h){return gfe(m,{align:h,alignDelimiters:r,padding:n,stringLength:a})}function d(m,h,v){const b=m.children;let y=-1;const x=[],w=h.enter("table");for(;++y<b.length;)x[y]=f(b[y],h,v);return w(),x}function f(m,h,v){const b=m.children;let y=-1;const x=[],w=h.enter("tableRow");for(;++y<b.length;)x[y]=l(b[y],m,h,v);return w(),x}function p(m,h,v){let b=jR.inlineCode(m,h,v);return v.stack.includes("tableCell")&&(b=b.replace(/\|/g,"\\$&")),b}}function rpe(){return{exit:{taskListCheckValueChecked:KE,taskListCheckValueUnchecked:KE,paragraph:ipe}}}function ape(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:ope}}}function KE(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function ipe(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const a=t.children;let i=-1,o;for(;++i<a.length;){const s=a[i];if(s.type==="paragraph"){o=s;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function ope(e,t,n,r){const a=e.children[0],i=typeof e.checked=="boolean"&&a&&a.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",s=n.createTracker(r);i&&s.move(o);let l=jR.listItem(e,t,n,{...r,...s.current()});return i&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(d){return d+o}}function spe(){return[$de(),ofe(),ufe(),Jfe(),rpe()]}function lpe(e){return{extensions:[Bde(),sfe(e),dfe(),npe(e),ape()]}}const cpe={tokenize:hpe,partial:!0},CR={tokenize:gpe,partial:!0},AR={tokenize:ype,partial:!0},MR={tokenize:vpe,partial:!0},upe={tokenize:bpe,partial:!0},ER={name:"wwwAutolink",tokenize:ppe,previous:PR},DR={name:"protocolAutolink",tokenize:mpe,previous:TR},sl={name:"emailAutolink",tokenize:fpe,previous:OR},us={};function dpe(){return{text:us}}let xc=48;for(;xc<123;)us[xc]=sl,xc++,xc===58?xc=65:xc===91&&(xc=97);us[43]=sl;us[45]=sl;us[46]=sl;us[95]=sl;us[72]=[sl,DR];us[104]=[sl,DR];us[87]=[sl,ER];us[119]=[sl,ER];function fpe(e,t,n){const r=this;let a,i;return o;function o(f){return!l1(f)||!OR.call(r,r.previous)||ZN(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(f))}function s(f){return l1(f)?(e.consume(f),s):f===64?(e.consume(f),l):n(f)}function l(f){return f===46?e.check(upe,d,u)(f):f===45||f===95||Ba(f)?(i=!0,e.consume(f),l):d(f)}function u(f){return e.consume(f),a=!0,l}function d(f){return i&&a&&Ga(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function ppe(e,t,n){const r=this;return a;function a(o){return o!==87&&o!==119||!PR.call(r,r.previous)||ZN(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(cpe,e.attempt(CR,e.attempt(AR,i),n),n)(o))}function i(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function mpe(e,t,n){const r=this;let a="",i=!1;return o;function o(f){return(f===72||f===104)&&TR.call(r,r.previous)&&!ZN(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),a+=String.fromCodePoint(f),e.consume(f),s):n(f)}function s(f){if(Ga(f)&&a.length<5)return a+=String.fromCodePoint(f),e.consume(f),s;if(f===58){const p=a.toLowerCase();if(p==="http"||p==="https")return e.consume(f),l}return n(f)}function l(f){return f===47?(e.consume(f),i?u:(i=!0,l)):n(f)}function u(f){return f===null||A0(f)||Gn(f)||lu(f)||av(f)?n(f):e.attempt(CR,e.attempt(AR,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function hpe(e,t,n){let r=0;return a;function a(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),a):o===46&&r===3?(e.consume(o),i):n(o)}function i(o){return o===null?n(o):t(o)}}function gpe(e,t,n){let r,a,i;return o;function o(u){return u===46||u===95?e.check(MR,l,s)(u):u===null||Gn(u)||lu(u)||u!==45&&av(u)?l(u):(i=!0,e.consume(u),o)}function s(u){return u===95?r=!0:(a=r,r=void 0),e.consume(u),o}function l(u){return a||r||!i?n(u):t(u)}}function ype(e,t){let n=0,r=0;return a;function a(o){return o===40?(n++,e.consume(o),a):o===41&&r<n?i(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(MR,t,i)(o):o===null||Gn(o)||lu(o)?t(o):(e.consume(o),a)}function i(o){return o===41&&r++,e.consume(o),a}}function vpe(e,t,n){return r;function r(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(e.consume(s),r):s===38?(e.consume(s),i):s===93?(e.consume(s),a):s===60||s===null||Gn(s)||lu(s)?t(s):n(s)}function a(s){return s===null||s===40||s===91||Gn(s)||lu(s)?t(s):r(s)}function i(s){return Ga(s)?o(s):n(s)}function o(s){return s===59?(e.consume(s),r):Ga(s)?(e.consume(s),o):n(s)}}function bpe(e,t,n){return r;function r(i){return e.consume(i),a}function a(i){return Ba(i)?n(i):t(i)}}function PR(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Gn(e)}function TR(e){return!Ga(e)}function OR(e){return!(e===47||l1(e))}function l1(e){return e===43||e===45||e===46||e===95||Ba(e)}function ZN(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const xpe={tokenize:Mpe,partial:!0};function wpe(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:jpe,continuation:{tokenize:Cpe},exit:Ape}},text:{91:{name:"gfmFootnoteCall",tokenize:Npe},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:kpe,resolveTo:Spe}}}}function kpe(e,t,n){const r=this;let a=r.events.length;const i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;a--;){const l=r.events[a][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return s;function s(l){if(!o||!o._balanced)return n(l);const u=Co(r.sliceSerialize({start:o.end,end:r.now()}));return u.codePointAt(0)!==94||!i.includes(u.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function Spe(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},s=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",a,t],["exit",a,t],["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...s),e}function Npe(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i=0,o;return s;function s(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(f){if(i>999||f===93&&!o||f===null||f===91||Gn(f))return n(f);if(f===93){e.exit("chunkString");const p=e.exit("gfmFootnoteCallString");return a.includes(Co(r.sliceSerialize(p)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return Gn(f)||(o=!0),i++,e.consume(f),f===92?d:u}function d(f){return f===91||f===92||f===93?(e.consume(f),i++,u):u(f)}}function jpe(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i,o=0,s;return l;function l(h){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(h){return h===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(h)}function d(h){if(o>999||h===93&&!s||h===null||h===91||Gn(h))return n(h);if(h===93){e.exit("chunkString");const v=e.exit("gfmFootnoteDefinitionLabelString");return i=Co(r.sliceSerialize(v)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),p}return Gn(h)||(s=!0),o++,e.consume(h),h===92?f:d}function f(h){return h===91||h===92||h===93?(e.consume(h),o++,d):d(h)}function p(h){return h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),a.includes(i)||a.push(i),jn(e,m,"gfmFootnoteDefinitionWhitespace")):n(h)}function m(h){return t(h)}}function Cpe(e,t,n){return e.check(km,t,e.attempt(xpe,t,n))}function Ape(e){e.exit("gfmFootnoteDefinition")}function Mpe(e,t,n){const r=this;return jn(e,a,"gfmFootnoteDefinitionIndent",5);function a(i){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(i):n(i)}}function Epe(e){let t=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:a,resolveAll:r};return t==null&&(t=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function r(i,o){let s=-1;for(;++s<i.length;)if(i[s][0]==="enter"&&i[s][1].type==="strikethroughSequenceTemporary"&&i[s][1]._close){let l=s;for(;l--;)if(i[l][0]==="exit"&&i[l][1].type==="strikethroughSequenceTemporary"&&i[l][1]._open&&i[s][1].end.offset-i[s][1].start.offset===i[l][1].end.offset-i[l][1].start.offset){i[s][1].type="strikethroughSequence",i[l][1].type="strikethroughSequence";const u={type:"strikethrough",start:Object.assign({},i[l][1].start),end:Object.assign({},i[s][1].end)},d={type:"strikethroughText",start:Object.assign({},i[l][1].end),end:Object.assign({},i[s][1].start)},f=[["enter",u,o],["enter",i[l][1],o],["exit",i[l][1],o],["enter",d,o]],p=o.parser.constructs.insideSpan.null;p&&Ii(f,f.length,0,iv(p,i.slice(l+1,s),o)),Ii(f,f.length,0,[["exit",d,o],["enter",i[s][1],o],["exit",i[s][1],o],["exit",u,o]]),Ii(i,l-1,s-l+3,f),s=l+f.length-2;break}}for(s=-1;++s<i.length;)i[s][1].type==="strikethroughSequenceTemporary"&&(i[s][1].type="data");return i}function a(i,o,s){const l=this.previous,u=this.events;let d=0;return f;function f(m){return l===126&&u[u.length-1][1].type!=="characterEscape"?s(m):(i.enter("strikethroughSequenceTemporary"),p(m))}function p(m){const h=Md(l);if(m===126)return d>1?s(m):(i.consume(m),d++,p);if(d<2&&!t)return s(m);const v=i.exit("strikethroughSequenceTemporary"),b=Md(m);return v._open=!b||b===2&&!!h,v._close=!h||h===2&&!!b,o(m)}}}class Dpe{constructor(){this.map=[]}add(t,n,r){Ppe(this,t,n,r)}consume(t){if(this.map.sort(function(i,o){return i[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let a=r.pop();for(;a;){for(const i of a)t.push(i);a=r.pop()}this.map.length=0}}function Ppe(e,t,n,r){let a=0;if(!(n===0&&r.length===0)){for(;a<e.map.length;){if(e.map[a][0]===t){e.map[a][1]+=n,e.map[a][2].push(...r);return}a+=1}e.map.push([t,n,r])}}function Tpe(e,t){let n=!1;const r=[];for(;t<e.length;){const a=e[t];if(n){if(a[0]==="enter")a[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const i=r.length-1;r[i]=r[i]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function Ope(){return{flow:{null:{name:"table",tokenize:Ipe,resolveAll:_pe}}}}function Ipe(e,t,n){const r=this;let a=0,i=0,o;return s;function s(D){let I=r.events.length-1;for(;I>-1;){const J=r.events[I][1].type;if(J==="lineEnding"||J==="linePrefix")I--;else break}const O=I>-1?r.events[I][1].type:null,H=O==="tableHead"||O==="tableRow"?N:l;return H===N&&r.parser.lazy[r.now().line]?n(D):H(D)}function l(D){return e.enter("tableHead"),e.enter("tableRow"),u(D)}function u(D){return D===124||(o=!0,i+=1),d(D)}function d(D){return D===null?n(D):Wt(D)?i>1?(i=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),m):n(D):vn(D)?jn(e,d,"whitespace")(D):(i+=1,o&&(o=!1,a+=1),D===124?(e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),o=!0,d):(e.enter("data"),f(D)))}function f(D){return D===null||D===124||Gn(D)?(e.exit("data"),d(D)):(e.consume(D),D===92?p:f)}function p(D){return D===92||D===124?(e.consume(D),f):f(D)}function m(D){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(D):(e.enter("tableDelimiterRow"),o=!1,vn(D)?jn(e,h,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):h(D))}function h(D){return D===45||D===58?b(D):D===124?(o=!0,e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),v):j(D)}function v(D){return vn(D)?jn(e,b,"whitespace")(D):b(D)}function b(D){return D===58?(i+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(D),e.exit("tableDelimiterMarker"),y):D===45?(i+=1,y(D)):D===null||Wt(D)?S(D):j(D)}function y(D){return D===45?(e.enter("tableDelimiterFiller"),x(D)):j(D)}function x(D){return D===45?(e.consume(D),x):D===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(D),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(D))}function w(D){return vn(D)?jn(e,S,"whitespace")(D):S(D)}function S(D){return D===124?h(D):D===null||Wt(D)?!o||a!==i?j(D):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(D)):j(D)}function j(D){return n(D)}function N(D){return e.enter("tableRow"),A(D)}function A(D){return D===124?(e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),A):D===null||Wt(D)?(e.exit("tableRow"),t(D)):vn(D)?jn(e,A,"whitespace")(D):(e.enter("data"),P(D))}function P(D){return D===null||D===124||Gn(D)?(e.exit("data"),A(D)):(e.consume(D),D===92?B:P)}function B(D){return D===92||D===124?(e.consume(D),P):P(D)}}function _pe(e,t){let n=-1,r=!0,a=0,i=[0,0,0,0],o=[0,0,0,0],s=!1,l=0,u,d,f;const p=new Dpe;for(;++n<e.length;){const m=e[n],h=m[1];m[0]==="enter"?h.type==="tableHead"?(s=!1,l!==0&&(GE(p,t,l,u,d),d=void 0,l=0),u={type:"table",start:Object.assign({},h.start),end:Object.assign({},h.end)},p.add(n,0,[["enter",u,t]])):h.type==="tableRow"||h.type==="tableDelimiterRow"?(r=!0,f=void 0,i=[0,0,0,0],o=[0,n+1,0,0],s&&(s=!1,d={type:"tableBody",start:Object.assign({},h.start),end:Object.assign({},h.end)},p.add(n,0,[["enter",d,t]])),a=h.type==="tableDelimiterRow"?2:d?3:1):a&&(h.type==="data"||h.type==="tableDelimiterMarker"||h.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(i[1]!==0&&(o[0]=o[1],f=Mh(p,t,i,a,void 0,f),i=[0,0,0,0]),o[2]=n)):h.type==="tableCellDivider"&&(r?r=!1:(i[1]!==0&&(o[0]=o[1],f=Mh(p,t,i,a,void 0,f)),i=o,o=[i[1],n,0,0])):h.type==="tableHead"?(s=!0,l=n):h.type==="tableRow"||h.type==="tableDelimiterRow"?(l=n,i[1]!==0?(o[0]=o[1],f=Mh(p,t,i,a,n,f)):o[1]!==0&&(f=Mh(p,t,o,a,n,f)),a=0):a&&(h.type==="data"||h.type==="tableDelimiterMarker"||h.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&GE(p,t,l,u,d),p.consume(t.events),n=-1;++n<t.events.length;){const m=t.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=Tpe(t.events,n))}return e}function Mh(e,t,n,r,a,i){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",s="tableContent";n[0]!==0&&(i.end=Object.assign({},Iu(t.events,n[0])),e.add(n[0],0,[["exit",i,t]]));const l=Iu(t.events,n[1]);if(i={type:o,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",i,t]]),n[2]!==0){const u=Iu(t.events,n[2]),d=Iu(t.events,n[3]),f={type:s,start:Object.assign({},u),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const p=t.events[n[2]],m=t.events[n[3]];if(p[1].end=Object.assign({},m[1].end),p[1].type="chunkText",p[1].contentType="text",n[3]>n[2]+1){const h=n[2]+1,v=n[3]-n[2]-1;e.add(h,v,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return a!==void 0&&(i.end=Object.assign({},Iu(t.events,a)),e.add(a,0,[["exit",i,t]]),i=void 0),i}function GE(e,t,n,r,a){const i=[],o=Iu(t.events,n);a&&(a.end=Object.assign({},o),i.push(["exit",a,t])),r.end=Object.assign({},o),i.push(["exit",r,t]),e.add(n+1,0,i)}function Iu(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const Lpe={name:"tasklistCheck",tokenize:Rpe};function Fpe(){return{text:{91:Lpe}}}function Rpe(e,t,n){const r=this;return a;function a(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),i)}function i(l){return Gn(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):n(l)}function s(l){return Wt(l)?t(l):vn(l)?e.check({tokenize:$pe},t,n)(l):n(l)}}function $pe(e,t,n){return jn(e,r,"whitespace");function r(a){return a===null?n(a):t(a)}}function Bpe(e){return VF([dpe(),wpe(),Epe(e),Ope(),Fpe()])}const zpe={};function Upe(e){const t=this,n=e||zpe,r=t.data(),a=r.micromarkExtensions||(r.micromarkExtensions=[]),i=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);a.push(Bpe(n)),i.push(spe()),o.push(lpe(n))}const zb='# Combat Metrics Spec\n\nThis document describes the project-defined combat metrics used in the UI,\nDiscord summaries, and aggregate stats. The intent is to define the metrics\nindependently from any third-party implementation while staying consistent\nwith EI JSON inputs. It also records the exact fields and aggregation rules\nso the stats dashboard, Discord, and cards produce identical values.\n\nSpec version: `v5` (see `src/shared/metrics-methods.json`).\n\n## Input Contract (EI JSON)\n\nAll metrics are derived from the EI JSON payload produced by dps.report. The\nminimum fields consumed are:\n\n- `players[*].dpsAll[0].damage`, `players[*].dpsAll[0].dps`, `players[*].dpsAll[0].breakbarDamage`\n- `players[*].defenses[0].damageTaken`, `deadCount`, `downCount`,\n  `missedCount`, `blockedCount`, `evadedCount`, `dodgeCount`,\n  `receivedCrowdControl`, `receivedCrowdControlDuration`,\n  `boonStrips`, `boonStripsTime`\n- `players[*].minions[*].totalDamageTakenDist[0][*].totalDamage` (fallback:\n  `damageTaken`) for minion incoming damage totals\n- `players[*].support[0].condiCleanse`, `condiCleanseSelf`, `boonStrips`,\n  `boonStripsTime`, `resurrects`\n- `players[*].statsAll[0].stackDist`, `players[*].statsAll[0].distToCom`\n- `players[*].statsTargets[*][0].downContribution`, `killed`, `downed`,\n  `againstDownedCount`\n- `players[*].extHealingStats.outgoingHealingAllies`\n- `players[*].extBarrierStats.outgoingBarrierAllies`\n- `players[*].totalDamageDist`, `players[*].targetDamageDist`, `players[*].totalDamageTaken`\n- `players[*].damage1S`, `players[*].targetDamage1S`,\n  `players[*].powerDamageTaken1S`, `players[*].targetPowerDamage1S`\n- `players[*].activeTimes`\n- `players[*].rotation`\n- `players[*].buffUptimes`\n- `players[*].selfBuffs`, `players[*].groupBuffs`, `players[*].squadBuffs`\n- `players[*].selfBuffsActive`, `players[*].groupBuffsActive`, `players[*].squadBuffsActive`\n- `players[*].group`\n- `buffMap`, `skillMap`, and `durationMS` for stability generation, boon output, and skill labeling\n- `targets[*].buffs[*].statesPerSource` when available for condition application counts\n- `details.fightName`, `details.uploadTime` (or `details.timeStartStd` / `details.timeStart` fallback),\n  `details.zone`/`mapName`/`map`/`location`, `details.success`,\n  `details.targets`, `details.durationMS`\n- `targets[*].totalDamageDist`, `targets[*].powerDamage1S`, `targets[*].damage1S`,\n  `targets[*].enemyPlayer`, `targets[*].isFake`, `targets[*].profession`\n\nIf any of these are missing, the metric falls back to `0` as defined below.\n\n## Crowd Control & Strips Methodology\n\nThe app supports three user-selectable methodologies (default: `count`),\nconfigured in `src/shared/metrics-methods.json`:\n\n1. **Count Events** (`count`)  \n   Uses EI summary counts for CC/strips. Best for stable, comparable totals.\n\n2. **Duration (Seconds)** (`duration`)  \n   Uses EI summary durations (converted to seconds). Best for impact-weighted\n   totals, but units are time not event counts.\n\n3. **Tiered Impact** (`tiered`)  \n   Uses average duration per event to apply tiered weights. Best for balancing\n   short vs long control with a simple, configurable heuristic.\n\nThese methodologies apply to:\n- Outgoing CC totals\n- Incoming CC totals\n- Incoming strips totals\n\n## Outgoing Crowd Control\n\nFor each player:\n- `count`: `statsAll[0].appliedCrowdControl`\n- `duration`: `statsAll[0].appliedCrowdControlDuration / 1000`\n- `tiered`: `appliedCrowdControl * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/combatMetrics.ts` (computeOutgoingCrowdControl).\n\n## Incoming Strips and Crowd Control\n\nFor each player:\n- Incoming CC uses `defenses[0].receivedCrowdControl` and\n  `defenses[0].receivedCrowdControlDuration`.\n- Incoming strips use `defenses[0].boonStrips` and `defenses[0].boonStripsTime`.\n\nMethod application is the same as outgoing CC (count/duration/tiered).\n\nImplementation: `src/shared/combatMetrics.ts` (computeIncomingDisruptions).\n\n## Cleanses\n\n`cleanses = support[0].condiCleanse + support[0].condiCleanseSelf`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerCleanses).\n\nUI note: the Support table can display either **All** (condiCleanse + condiCleanseSelf) or **Squad** (condiCleanse only) via the cleanse-scope toggle. Discord and top summaries use **All**.\n\n## Strips\n\n`strips` uses the configured methodology:\n- `count`: `support[0].boonStrips`\n- `duration`: `support[0].boonStripsTime / 1000`\n- `tiered`: `boonStrips * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerStrips).\n\n## Down Contribution\n\nDown contribution is the sum of `statsTargets[*][0].downContribution` across\nall targets for the player.\n\nImplementation: `src/shared/combatMetrics.ts` (computeDownContribution).\n\n## Squad Barrier and Squad Healing\n\nSquad barrier and healing sum all phases of `extBarrierStats.outgoingBarrierAllies`\nand `extHealingStats.outgoingHealingAllies` respectively.\n\nImplementation: `src/shared/combatMetrics.ts` (computeSquadBarrier, computeSquadHealing).\n\n## Stability Generation\n\nStability generation uses the EI buff data via `getPlayerBoonGenerationMs`\nand writes `player.stabGeneration` in seconds.\n\nImplementation: `src/shared/combatMetrics.ts` (applySquadStabilityGeneration).\n\n## Damage and DPS\n\n`damage = dpsAll[0].damage`  \n`dps = dpsAll[0].dps`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamage, getPlayerDps).\n\n## Breakbar Damage\n\n`breakbarDamage = dpsAll[0].breakbarDamage`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerBreakbarDamage).\n\n## Incoming Damage (Taken)\n\n`damageTaken = defenses[0].damageTaken`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamageTaken).\n\nIncoming damage per skill (incoming damage distribution) is derived from\n`players[*].totalDamageTaken[*]` entries and summed across players for the\nsquad view. This total can be large for siege skills because it aggregates\nall hits and all players (and across multiple logs when viewing aggregates).\n\n## Damage Mitigation (Player + Minion)\n\nDamage mitigation is an **estimate** of avoided damage based on enemy skill\ndamage averages and avoidance events (block/evade/miss/invuln/interrupted).\nIt is intended for relative comparisons between players/minions and logs, not\nas a literal damage prevented total.\n\n### Inputs Used\n\nPer-log data sources:\n\n- Enemy damage distribution: `targets[*].totalDamageDist[0]`\n- Player avoided events: `players[*].totalDamageTaken[0]`\n- Minion avoided events: `players[*].minions[*].totalDamageTakenDist[0]`\n- Skill names: `skillMap` / `buffMap` (for UI labels only)\n\n### Enemy Skill Damage Averages\n\nFor each skill id across **all logs in the aggregation**:\n\n1. Gather `totalDamage` and `connectedHits` from every targets\n   `totalDamageDist[0]` entry with the same `id`.\n2. Compute:\n   - `avgDamage = sum(totalDamage) / sum(connectedHits)`\n   - `minDamage = average(entry.min over all occurrences)`\n\nThese averages are computed **once for the aggregation window** and used for\nall player/minion mitigation calculations.\n\n### Avoided Damage Per Skill (Formula)\n\nFor a given skill id `S` with enemy averages `avgDamage` and `minDamage`:\n\n```\navoidCount = blocked + evaded + missed + invulned + interrupted\navoidDamage = (glanced * avgDamage / 2) + (avoidCount * avgDamage)\nminAvoidDamage = (glanced * minDamage / 2) + (avoidCount * minDamage)\n```\n\nNotes:\n- `glanced` is treated as half damage.\n- If `connectedHits` for the enemy skill is `0`, the skill is excluded from\n  mitigation totals (both avoid and min avoid).\n\n### Player Mitigation Aggregation\n\nFor each player (account key):\n\n1. Sum avoidance counts **per skill id** across all logs:\n   - `hits`, `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`.\n2. For each skill id, compute `avoidDamage` / `minAvoidDamage` using the global\n   enemy averages (above).\n3. **Include only skills with `avoidDamage > 0`** in totals.\n4. Totals are the sum of:\n   - `totalHits` (from `hits`)\n   - `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`\n   - `totalMitigation` (sum of avoidDamage)\n   - `minMitigation` (sum of minAvoidDamage)\n\n### Minion Mitigation Aggregation\n\nFor each minion (player account + minion name):\n\n1. Sum avoidance counts **per skill id** across all logs using\n   `minion.totalDamageTakenDist[0]`.\n2. Use the **same enemy averages** (from targets).\n3. Compute totals using the same formula and inclusion rules as player\n   mitigation.\n\nMinion names are normalized by:\n- Removing `"Juvenile "` prefix.\n- Converting names containing `"UNKNOWN"` to `"Unknown"`.\n\n### Field Mapping in UI\n\nThe Damage Mitigation table uses the following totals:\n\n- `Total Hits`  summed `hits` for included skills\n- `Evaded`, `Blocked`, `Glanced`, `Missed`, `Invulned`, `Interrupted`\n- `Damage Mitigation`  `totalMitigation`\n- `Min Damage Mitigation`  `minMitigation`\n\n### Why This Diverges From Some External Tools\n\nSome tools compute mitigation differently (e.g., per-log accumulation with\nrunning averages, name-based skill bucketing, or repeated adding across logs).\nThis spec intentionally computes **one consistent estimate** across all logs\nusing **global enemy averages** and **per-skill cumulative counts**, which\navoids log-count bias.\n\n### Known Limitations\n\n- If a skills `connectedHits` is zero in targets data, mitigation for that\n  skill is excluded.\n- Some skills share names across different ids; we bucket by **skill id** to\n  avoid collisions.\n- Enemy damage averages are computed from `targets[*].totalDamageDist[0]` and\n  can be skewed by target mix, fake targets, or atypical fights.\n\n### How-To: Validate Against Raw EI JSON\n\n1. Choose a player or minion and a specific skill id from:\n   - `players[*].totalDamageTaken[0]` or `minions[*].totalDamageTakenDist[0]`.\n2. Compute counts: `blocked`, `evaded`, `glanced`, `missed`, `invulned`,\n   `interrupted`, `hits`.\n3. Compute enemy averages from all logs `targets[*].totalDamageDist[0]` for\n   the same skill id.\n4. Apply the formula above and verify the per-skill avoided damage.\n5. Sum over skills with `avoidDamage > 0` to confirm table totals.\n\n### How-To: Debug Mismatches\n\n1. Confirm the same log set is being aggregated.\n2. Verify skill ids match (name collisions can hide differences).\n3. Check if the target data includes the skill id with non-zero\n   `connectedHits`.\n4. Validate that minion names are normalized (`Juvenile` prefix removed).\n5. Compare against a single skill id first, then widen to all skills.\n\n## Conditions (Outgoing + Incoming)\n\nOutgoing condition totals are derived from `players[*].totalDamageDist[*]`\nentries whose resolved skill name maps to a condition label (see\n`CONDITION_NAME_MAP`). For each matching entry:\n\n- `applications` uses `connectedHits` when available, otherwise falls back to\n  `hits` (needed for non-damaging conditions like blind/slow/fear).\n- `damage` uses `totalDamage`.\n\nTotals are aggregated per player and across the squad. The UI can filter to a\nsingle condition or show the all-conditions rollup.\n\nIncoming condition totals are derived from `players[*].totalDamageTaken[*]`\nentries whose resolved skill/buff ID maps to a condition. For each matching\nentry:\n\n- `applications` uses `hits`.\n- `damage` uses `totalDamage`.\n\n### Current Condition Labels (Normalization)\n\nCondition detection normalizes skill/buff names to the following labels. Only\nthese are counted as conditions:\n\n- Bleeding\n- Burning\n- Confusion\n- Poison\n- Torment\n- Vulnerability\n- Weakness\n- Blind\n- Cripple\n- Chill\n- Immobilize\n- Slow\n- Fear\n- Taunt\n\nNotes:\n- The matcher lowercases and trims names, then maps variants like `crippled`\n   `Cripple` and `chilled`  `Chill`.\n- If a skill/buff name does not normalize to one of the labels above, it is\n  excluded from condition totals.\n\n### Limitation (Hosted JSON)\n\nAccurate application counts for non-damaging conditions (e.g., vulnerability,\nweakness, blind, slow) require target buff state timelines\n(`targets[*].buffs[*].statesPerSource`). If hosted JSON lacks this data (common\nin older logs or trimmed outputs), the app falls back to damage distribution\n(`totalDamageDist`) hit counts, which can significantly under-count\napplications for those conditions.\n\n### Condition Application Counting (States Per Source)\n\nWhen `targets[*].buffs[*].statesPerSource` is available, the app computes two\nseparate application counts per condition:\n\n- **Stack Delta Applications (`applicationsFromBuffs`)**  \n  Counts the **sum of positive stack increases** across the states timeline.\n  Example timeline: `0  1  3  2  5` contributes `+1 +2 +3 = 6`.  \n  This aligns with the technical definition of applications as **stacks\n  actually added**.\n\n- **Active State Entries (`applicationsFromBuffsActive`)**  \n  Counts **each non-zero state entry** (each time the state updates while the\n  condition is active). This tracks **how often the buff state changed while\n  active**, which often matches external tooling that counts active segments,\n  but can **over-count** true applications for stacking conditions.\n\n**Tradeoffs:**\n- *Stack delta* is closer to how many stacks were applied but can be lower\n  than tools that count refreshes/active entries.\n- *Active entries* better match some log combiner views but can overstate\n  application counts when stacks are refreshed without adding stacks.\n\n## Deaths / Downs (Taken)\n\n`deaths = defenses[0].deadCount`  \n`downsTaken = defenses[0].downCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDeaths, getPlayerDownsTaken).\n\n## Dodges / Misses / Blocks / Evades (Taken)\n\n`dodges = defenses[0].dodgeCount`  \n`missed = defenses[0].missedCount`  \n`blocked = defenses[0].blockedCount`  \n`evaded = defenses[0].evadedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts`\n(getPlayerDodges, getPlayerMissed, getPlayerBlocked, getPlayerEvaded).\n\n## Resurrects\n\n`resurrects = support[0].resurrects`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerResurrects).\n\n## Distance to Tag\n\n`distanceToTag = statsAll[0].distToCom` if present; otherwise use\n`statsAll[0].stackDist`. If both are missing but combat replay positions are\navailable, compute the average distance to the commander tag over the\navailable timeline. Otherwise `0`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDistanceToTag).\n\n## Kills / Downs / Against Downed (Target Stats)\n\nFor each player, aggregate from `statsTargets[*][0]`:\n\n- `killed`\n- `downed`\n- `againstDownedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getTargetStatTotal).\n\n## Skill Usage Tracker (Rotation Casts)\n\nSkill usage is derived from each player\'s `rotation` entries in EI JSON. For\neach rotation skill entry:\n- `castCount = rotationSkill.skills.length`\n- `skillId = s{rotationSkill.id}`\n- Counts are aggregated per player per log and summed across logs for totals.\n\nThe Skill Usage Tracker supports two display modes:\n- **Total**: raw cast counts per player (per log in the timeline).\n- **Per Second**: cast rate using active time, where\n  `activeSeconds = players[*].activeTimes[0] / 1000` when available, otherwise\n  `durationMS / 1000` from the log details.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (skill usage tracker aggregation).\n\n## APM Breakdown\n\nAPM is derived from the Skill Usage Tracker data (rotation casts). For each\nplayer:\n- `totalCasts = sum(rotationSkill.skills.length)`\n- `apm = totalCasts / (activeSeconds / 60)`\n- `aps = totalCasts / activeSeconds`\n- Auto-attack counts are excluded for the "No Auto" variants.\n\nThe APM Breakdown groups players by profession and aggregates per-skill cast\ncounts across the group.\n\nImplementation: `src/renderer/stats/hooks/useApmStats.ts`.\n\n## Player Skill Breakdown (Damage / Down Contribution / DPS)\n\nPer-player skill damage breakdown is built from the same damage distribution\ninputs as Top Skills (see below):\n- Outgoing skill damage uses `targetDamageDist` (default) or `totalDamageDist`\n  based on settings.\n- Each entry contributes `totalDamage` and `downContribution`.\n\nFor each player and skill:\n- `totalDamage = sum(entry.totalDamage)`\n- `downContribution = sum(entry.downContribution)`\n- `dps = totalDamage / (totalFightSeconds)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Top Skills (Outgoing / Incoming)\n\nTop Outgoing Skills are derived from the squad-wide aggregation of\n`targetDamageDist` (default) or `totalDamageDist` entries:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.connectedHits)`\n- `downContribution = sum(entry.downContribution)`\n\nWhen using target-based outgoing aggregation, total-distribution supplementation\nis mode-sensitive:\n- non-detailed logs (`detailedWvW !== true`): missing/under-reported target\n  skill ids may be supplemented from `totalDamageDist` deltas\n- detailed WvW logs (`detailedWvW === true`): supplementation from\n  `totalDamageDist` is disabled to avoid known outlier max/damage artifacts\n  observed in some EI exports\n\nTop Incoming Skills are derived from `totalDamageTaken`:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.hits)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Boon Output\n\nBoon output tables are computed from player boon generation data:\n- `selfBuffs`, `groupBuffs`, `squadBuffs` (and their `Active` variants)\n- `buffMap` for name/icon/stacking metadata\n- `durationMS`, `activeTimes`, and `group` for normalization\n\nImplementation: `src/shared/boonGeneration.ts`.\n\n### Boon Timeline (Defense)\n\nThe Boon Timeline section uses the same generation foundation as Boon Output\nwith **Total** semantics:\n\n- Per-player per-boon totals use:\n  - `selfBuffs + squadBuffs`\n  - `groupBuffs` is intentionally excluded to avoid double counting\n    (group is a subset of squad in this model)\n- Scope toggle:\n  - `Self` = `selfBuffs`\n  - `Squad` = `squadBuffs` (default)\n  - `Group` = `groupBuffs`\n  - `All` = `selfBuffs + squadBuffs` (`totalBuffs`)\n\nFor each fight and boon:\n\n1. Compute player total generation milliseconds:\n   - stacking boons:\n     - `generationMs = generation * durationMs * recipientCount`\n   - non-stacking boons:\n     - `generationMs = (generation / 100) * durationMs * recipientCount`\n   - where:\n     - `recipientCount = 1` for self\n     - `recipientCount = squadCount - 1` for squad\n\n2. Build 5-second bucket shape from `buffUptimes[*].statesPerSource`:\n   - integrate source state value over time (time-weighted area) into each 5s bucket\n   - this yields relative bucket weights (not final totals)\n\n3. Scale bucket weights to the player fight total from step 1:\n   - `bucketValue = bucketWeight * (fightTotal / sum(bucketWeights))`\n   - fallback when timeline weights are unavailable: uniform distribution across buckets\n\nUnits shown in the UI are **boon-seconds** (`generationMs / 1000`), aggregated\nacross recipients. Because this is recipient-aggregated generation, 5s bucket\nvalues can exceed `5` and may be large for stacking boons or `All`-player view.\n\nTimeline player identity is account-level (`account`) to match Boon Output row\ngrouping across profession swaps.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`,\n`src/renderer/StatsView.tsx`.\n\n## Special Buffs\n\nSpecial (non-boon) buff tables are computed from `buffUptimes` using\n`buffMap` classification and icon metadata. Durations are normalized by\n`activeTimes` and `durationMS`.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n### Sigil/Relic Uptime (Other Metrics)\n\nThe `Sigil/Relic Uptime` section is derived from `specialTables` and filtered\nto entries whose buff name matches `sigil` or `relic` (case-insensitive).\n\n#### Data source and eligibility\n\nFor each squad player and each non-boon buff in `players[*].buffUptimes`:\n\n- Buff metadata source:\n  - `details.buffMap[b{id}]` (fallback `details.buffMap[id]`)\n- Include only:\n  - non-boons (`classification !== "Boon"`)\n  - rows with valid positive uptime signal:\n    - `buffData[0].uptime > 0` or `buffData[0].presence > 0`\n\n#### Two parallel measures stored for each row\n\n1. **Stack/Intensity measure** (`total`, `perSecond`)\n   - used by the generic Special Buffs table\n   - formula:\n     - if stacking buff: `uptimeFactor = uptimeRaw`\n     - else: `uptimeFactor = uptimeRaw / 100`\n     - `totalMs += uptimeFactor * activeMs`\n   - output:\n     - `total = totalMs / 1000`\n     - `perSecond = totalMs / durationMs`\n\n2. **True uptime percentage measure** (`uptimePerSecond`)\n   - used by `Sigil/Relic Uptime`\n   - formula:\n     - non-stacking buff:\n       - `uptimePctRaw = uptimeRaw`\n     - stacking buff:\n       - `uptimePctRaw = presenceRaw`\n     - clamp to percentage domain:\n       - `uptimePct = clamp(uptimePctRaw, 0, 100) / 100`\n     - accumulate:\n       - `uptimeMs += uptimePct * activeMs`\n   - final denominator:\n     - `fullPlayerDurationMs = player.supportActiveMs`\n     - `uptimePerSecond = uptimeMs / fullPlayerDurationMs`\n   - rendered as:\n     - `Uptime% = uptimePerSecond * 100`\n\n#### Why this is the accuracy model\n\nThis method intentionally uses the **same activity window in numerator and\ndenominator** (player active time):\n\n- Numerator:\n  - uptime milliseconds accumulated from each fight over player active time\n- Denominator:\n  - total player active time across selected fights\n\nThat produces a direct interpretation:\n\n- "Percent of the time this player was active that this sigil/relic effect was\n  present."\n\nFor stacking gear buffs, `presence` is used for percent uptime because\n`uptime` on stacking buffs represents average stack intensity, not time-up\npercentage. This avoids under/over-reporting caused by treating stack-average\nas uptime%.\n\n### Fight Comparison (Other Metrics)\n\n`Fight Comparison` compares two selected fights using two focused views:\n\n1. `Target Focus Comparison`\n- Aggregates squad outgoing damage into enemy profession buckets using\n  `players[*].statsTargets[targetIndex][0].damage`.\n- Target labels are resolved from `targets[targetIndex]` with profession-first\n  fallback (`profession -> name -> id`).\n- Per fight, each target bucket includes:\n  - `damage`\n  - `hits`\n  - `share = damage / totalTargetDamage`\n- Comparison table uses the union of target buckets and highlights\n  `shareDelta = fightB.share - fightA.share`.\n\n2. `Squad Metric Comparison`\n- Compares squad-level fight aggregates instead of individual player leaders.\n- Includes broad outcome/pressure/support metrics, including:\n  - win flag, squad size, enemy count, squad KDR\n  - enemy deaths/downs, squad deaths/downs\n  - outgoing/incoming damage and damage delta\n  - cleanses, strips, stability, healing, barrier out\n  - incoming barrier absorption, enemy barrier absorption\n  - squad CC, down contribution, revived players\n- Delta shown is `fightB.value - fightA.value`; color semantics account for\n  metric direction (`higherIsBetter`).\n\nImplementation:\n- aggregation payload build: `src/renderer/stats/computeStatsAggregation.ts` (`fightDiffMode`)\n- section rendering: `src/renderer/stats/sections/FightDiffModeSection.tsx`\n\n## Offense / Defense / Support / Healing Tables\n\nDetailed tables aggregate the per-player totals defined in:\n- `src/renderer/stats/statsMetrics.ts` (metric definitions)\n- `src/shared/dashboardMetrics.ts` (per-player metric extraction)\n- `src/renderer/stats/computeStatsAggregation.ts` (aggregation)\n\nDefense Detailed includes a derived metric:\n- `Minion Damage Taken`:\n  sum `players[*].minions[*].totalDamageTakenDist[0][*].totalDamage`, with\n  fallback to `damageTaken` when `totalDamage` is absent.\n\n## Spike Damage\n\nSpike Damage has four modes:\n- `hit`: highest single skill hit in a fight\n- `1s`: highest rolling 1-second damage burst in a fight\n- `5s`: highest rolling 5-second damage burst in a fight\n- `30s`: highest rolling 30-second damage burst in a fight\n\n### Player Identity\n\nPer-fight player keys are resolved as:\n- `key = "${account}|${profession}"`\n- `account = player.account || player.name || "Unknown"`\n- `profession = player.profession || "Unknown"`\n\nThis same key is used to join:\n- player list\n- per-fight values\n- selected-player chart/drilldown\n\n### Highest Single Hit (`hit`)\n\nFor each squad player (`!notInSquad`), the highest single-hit value is scanned\nfrom damage distributions (skill maps used for names).\n\nValue:\n- candidate fields per entry:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- no inferred single-hit estimate is used (for example,\n  `totalDamage / connectedHits` is intentionally excluded)\n\nSource priority:\n- primary: `targetDamageDist`\n- fallback: `totalDamageDist` only when no target entries are present (or no\n  positive peak was found from target entries)\n\nDetailed WvW safeguard:\n- for logs with `detailedWvW === true`, target-side data is treated as the\n  authoritative source for spike-hit computations whenever present, because\n  some logs can contain total-distribution outlier maxima that are inconsistent\n  with target-distribution entries.\n\nSkill label:\n- `skillName` from `skillMap`/`buffMap` by id fallback (`Unknown Skill` if missing)\n\n### Rolling Burst (`1s` / `5s`)\n\nBurst uses per-second **delta** damage:\n1. Build cumulative damage for phase 0:\n   - prefer aggregated target phase 0 from `targetDamage1S` when available\n   - fallback to `damage1S[0]`\n2. Convert cumulative -> per-second deltas:\n   - `delta[i] = max(0, cumulative[i] - cumulative[i-1])` (`i=0` uses prev `0`)\n3. Compute rolling windows:\n- `burst1s = max(sum(delta[i..i]))`\n- `burst5s = max(sum(delta[i..i+4]))`\n- `burst30s = max(sum(delta[i..i+29]))`\n\nImplementation includes support for EI shape variants:\n- Shape A: `[phase][target][time]`\n- Shape B: `[target][phase][time]`\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses the corresponding max series as the dashed reference line.\n\n### Drilldown (5s Buckets)\n\nSelected fight drilldown is always rendered as 5-second buckets.\n\nBucket source:\n- preferred: precomputed `buckets5s`\n- fallback: recompute from selected player per-second delta series\n\nBucket value:\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count:\n- extended to full fight duration (`ceil(durationMS / 5000)`) so trailing\n  down/death events are representable even if damage is zero late-fight.\n\n### Down / Death Markers\n\nMarker events are read from `combatReplayData`:\n- supports both replay object and segmented replay-array forms\n- uses `down` and `dead` arrays\n\nTimestamp normalization:\n- handles mixed encodings (ms/seconds/large scales) and offset baselines\n  using replay starts/global starts/log offsets\n- selects the shift/scale that maximizes in-range alignment with fight buckets\n\nMarker placement:\n- convert normalized time to bucket index:\n  - `index = floor(timeMs / 5000)`\n- constrain to visible drilldown bucket range\n- render:\n  - down marker: yellow\n  - death marker: red\n\nWeb report parity:\n- precomputed spike payload stores marker indices as:\n  - `downIndices5s`\n  - `deathIndices5s`\n- embedded/web mode can render markers without raw `logs` by consuming these fields.\n\nImplementation:\n- Aggregation/precompute: `src/renderer/stats/computeStatsAggregation.ts`\n- Runtime selection/drilldown + fallbacks: `src/renderer/StatsView.tsx`\n- Chart rendering/interaction: `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Incoming Strike Damage\n\nIncoming Strike Damage mirrors Spike Damage interactions (same chart modes,\nselection, drilldown, animations, and fight navigation) but changes the data\nsource and grouping:\n\n- grouped by **enemy class** (`targets[*].profession`) instead of squad player\n- uses **incoming strike timelines** and target damage distributions\n- selected-fight expansion includes a **skill-level incoming strike table**\n\n### Identity and Grouping\n\nPer-fight keys are enemy profession labels:\n\n- `key = resolveProfessionLabel(target.profession || target.name || target.id)`\n- fallback key: `"Unknown"`\n\nAll enemy targets in a fight that resolve to the same profession are merged\ninto one class bucket for that fight.\n\n### Damage Modes (`hit`, `1s`, `5s`, `30s`)\n\nModes are defined the same way as Spike Damage:\n\n- `hit`: highest single incoming strike hit seen in the class bucket\n- `1s`: highest rolling 1-second incoming strike burst\n- `5s`: highest rolling 5-second incoming strike burst\n- `30s`: highest rolling 30-second incoming strike burst\n\n`hit` source:\n\n- scan target strike distributions (`totalDamageDist`) and keep max of:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- ignore `indirectDamage` entries\n\n### Incoming Timeline Construction\n\nFor each enemy target, incoming strike series is built with the following\npriority:\n\n1. Squad-attributed incoming-vs-target cumulative strike:\n   - sum `players[*].targetPowerDamage1S[targetIndex]` across all squad players\n2. Fallback target timeline:\n   - `targets[targetIndex].powerDamage1S`\n3. Final fallback:\n   - `targets[targetIndex].damage1S`\n\nEach chosen cumulative series is converted to per-second deltas:\n\n- `delta[i] = max(0, cumulative[i] - cumulative[i-1])`\n- `delta[0] = max(0, cumulative[0])`\n\nClass series is then:\n\n- sum of target delta series for all targets in that class\n\nBurst windows are computed from class per-second deltas with the same rolling\nwindow logic used by Spike Damage.\n\n### Timeline Fallback When Target Timelines Are Missing\n\nIf enemy target timelines are empty/unusable for a fight:\n\n1. Build squad incoming strike series from `players[*].powerDamageTaken1S`\n   (cumulative -> per-second deltas).\n2. Compute enemy class counts from `targets[*]` (enemy player targets only).\n3. Distribute squad incoming per-second totals across classes proportionally by\n   class count in that fight.\n\nThis preserves non-zero burst/drilldown behavior for logs lacking complete\ntarget timeline detail.\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses its corresponding fight max as the dashed reference\nseries in the chart.\n\n### Fight Drilldown (5s Buckets)\n\nSelected-fight drilldown is 5-second buckets from class per-second deltas:\n\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count extends to at least `ceil(durationMS / 5000)` so late-fight\nmarker events can still be shown even when trailing bucket damage is zero.\n\nDown/death markers use replay event times from squad players and are converted\nto indices with the same normalization/indexing logic as Spike Damage\n(ms/sec scaling, offset hints, then `floor(timeMs / 5000)` clamp).\n\n### Selected Fight Skill Table (Incoming Skill Damage)\n\nThe expanded table for the selected fight/class is generated from enemy target\nstrike distributions:\n\n1. For each target in the selected class:\n   - read `target.totalDamageDist` entries\n   - ignore `indirectDamage`\n2. Resolve each skill id via:\n   - `skillMap[s{id}]`, then `skillMap[id]`\n   - fallback `buffMap[b{id}]`, then `buffMap[id]`\n3. Aggregate per skill name:\n   - `damage += entry.totalDamage`\n   - `hits += entry.connectedHits || entry.hits`\n   - preserve first available icon URL\n4. Sort desc by damage and keep top rows for rendering.\n\n### Why Some Skill Names Can Look Off-Class\n\nSkill names in incoming strike tables are tied to damage event ids in EI\ndamage distributions, not to profession skill catalogs. Because of that,\noff-class-looking names can appear in a class bucket (for example via\nreflected/returned projectiles, transformed skills, or attribution context).\nThis is expected under the current event-id attribution model.\n\n### Implementation\n\n- Aggregation/precompute:\n  - `src/renderer/stats/computeStatsAggregation.ts` (`incomingStrikeDamage`)\n- Runtime selection/drilldown/table rows:\n  - `src/renderer/StatsView.tsx`\n- UI rendering (card, chart, drilldown, skill table):\n  - `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Timeline / Map Distribution / Fight Breakdown\n\nThese sections use log-level metadata:\n- `details.uploadTime`, `details.durationMS`, `details.success`\n- `details.targets` (enemy counts, fake target filtering)\n- `details.zone`/`mapName`/`map`/`location`/`fightName` for map labels\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Squad Composition\n\nSquad composition is derived from each player\'s resolved profession name\nand aggregated across logs.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Attendance Ledger\n\nAttendance is computed from squad-player participation across all valid logs.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, account/name/profession/group)\n- `players[*].activeTimes[0]`\n- `details.durationMS` (fallback when active time is missing)\n\n### Player Inclusion\n\n- Include only squad players: `!player.notInSquad`.\n- Player key for aggregation is:\n  - `player.account` when present and not `"Unknown"`\n  - otherwise `player.name`\n\n### Time Aggregation\n\nPer squad player entry:\n\n- `activeMs = players[*].activeTimes[0]` when numeric, else `details.durationMS || 0`\n- `combatTimeMs[player] += activeMs`\n- if profession is known:\n  - `professionTimeMs[player][profession] += activeMs`\n\nAlso track appearance window per player:\n\n- `firstSeenFightTs`: earliest fight timestamp where player appears in squad\n- `lastSeenFightTs`: latest fight timestamp where player appears in squad\n- `lastSeenFightDurationMs`: duration of that latest fight\n\nFinal elapsed squad time:\n\n- `squadTimeMs = max(0, (lastSeenFightTs + lastSeenFightDurationMs) - firstSeenFightTs)`\n- fallback to `combatTimeMs` when timestamps are unavailable\n\nCharacter names shown in attendance are the unique set of `player.name` values\nseen for that player key.\n\n### Row Shape / Sorting\n\nFor each aggregated player:\n\n- `account`: aggregation key\n- `characterNames`: unique character names, sorted ascending\n- `classTimes`: entries from `professionTimeMs`, filtered to\n  - `profession !== "Unknown"`\n  - `timeMs > 0`\n- `combatTimeMs`: total active combat time\n- `squadTimeMs`: elapsed time between first seen fight start and last seen fight end\n\nRows are sorted by:\n1. `squadTimeMs` descending\n2. `account` ascending\n\nRows with `account` missing/`"Unknown"` are excluded from final output.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`attendanceData`).\n\n## Squad Comp By Fight\n\nThis section provides per-fight party-line roster composition.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, group, account/name/profession)\n- `details.durationMS`\n- fight metadata/time fields used by `resolveFightTimestamp` and `resolveMapName`\n\n### Fight Ordering\n\nFights are sorted by resolved fight timestamp ascending:\n\n- `uploadTime`\n- fallback: `timeStartStd`, `timeStart`, `timeEndStd`, `timeEnd`\n\n### Party Assignment\n\nFor each squad player (`!player.notInSquad`) in a fight:\n\n- `party = Number(player.group)` when finite and `> 0`, else `0` (`Unassigned`)\n- profession label is normalized via `resolveProfessionLabel(...)`\n\nPer party:\n\n- append player row `{ account, characterName, profession }`\n- increment `classCounts[profession] += 1`\n\n### Party / Player Sorting\n\nWithin each party:\n\n- players are sorted by `profession`, then `account` ascending\n\nParty rows are sorted by:\n1. party number ascending for `1..n`\n2. party `0` (`Unassigned`) last\n\n### Output Shape\n\nPer fight:\n\n- `id`: file/log id fallback chain\n- `label`: `F{index+1}` in timestamp-sorted order\n- `timestamp`: resolved fight timestamp\n- `mapName`: resolved map name\n- `duration`: `formatDurationMs(details.durationMS)`\n- `parties`: sorted party rows with class counts and account list\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`squadCompByFight`).\n\n## Top Stats / MVP\n\nTop stats are computed by ranking the leaderboards for key metrics (down\ncontribution, barrier, healing, cleanses, strips, stability, CC, etc).\nMVP scoring uses weighted ratios against these leaderboards and is configured\nvia `statsViewSettings` + `mvpWeights`.\n\nParticipation is computed as `logsJoined` (number of logs where the player\nappears in the squad).\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Known Caveats\n\n- EI JSON versions can add/remove fields; missing fields always fall back to `0`.\n- `distToCom` and `stackDist` are not guaranteed to exist in every log; `distanceToTag` may be `0`.\n- Incoming CC/strips use weighted skill mappings; mismatches can occur if EI changes skill ids or hit accounting.\n- Stability generation depends on buff metadata presence (`buffMap`) and correct `durationMS`.\n- Damage uses `dpsAll[0].damage` (player total) rather than summing per-target totals, which may differ when targets are filtered or merged.\n- Skill usage totals are raw cast counts unless the per-second view is selected; missing `activeTimes` falls back to log duration for rate calculations.\n- Some detailed WvW EI exports may contain outlier values in `totalDamageDist`\n  (notably `max` on specific skill rows). Spike-hit and target-mode outgoing\n  aggregations prefer/anchor to `targetDamageDist` to reduce false outliers.\n\n## Manifest & Field Usage\n\nThe dev dataset manifest is generated by the app when exporting logs. It is\nstored as `dev/datasets/<dataset>/manifest.json` and contains:\n\n- `id`: log id or generated id\n- `filePath`: relative path to the log JSON\n- `fightName`\n- `encounterDuration`\n- `uploadTime`\n- `timeStart`\n- `timeStartStd`\n- `durationMS`\n- `success`\n- `playerCount`\n- `squadCount`\n- `nonSquadCount`\n\nStats calculations **do not** use the manifest fields directly; the manifest\nis used for listing logs and metadata only. All computations are derived from\nthe EI JSON log payload fields listed in the **Input Contract** and the\nsections above.\n',IR=g.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),cv=g.createContext({}),QN=g.createContext(null),uv=typeof document<"u",Vpe=uv?g.useLayoutEffect:g.useEffect,_R=g.createContext({strict:!1}),XN=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Wpe="framerAppearId",LR="data-"+XN(Wpe);function qpe(e,t,n,r){const{visualElement:a}=g.useContext(cv),i=g.useContext(_R),o=g.useContext(QN),s=g.useContext(IR).reducedMotion,l=g.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:a,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:s}));const u=l.current;g.useInsertionEffect(()=>{u&&u.update(n,o)});const d=g.useRef(!!(n[LR]&&!window.HandoffComplete));return Vpe(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),g.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Yu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Hpe(e,t,n){return g.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Yu(n)&&(n.current=r))},[t])}function Lp(e){return typeof e=="string"||Array.isArray(e)}function dv(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const e2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],t2=["initial",...e2];function fv(e){return dv(e.animate)||t2.some(t=>Lp(e[t]))}function FR(e){return!!(fv(e)||e.variants)}function Kpe(e,t){if(fv(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Lp(n)?n:void 0,animate:Lp(r)?r:void 0}}return e.inherit!==!1?t:{}}function Gpe(e){const{initial:t,animate:n}=Kpe(e,g.useContext(cv));return g.useMemo(()=>({initial:t,animate:n}),[YE(t),YE(n)])}function YE(e){return Array.isArray(e)?e.join(" "):e}const JE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fp={};for(const e in JE)Fp[e]={isEnabled:t=>JE[e].some(n=>!!t[n])};function Ype(e){for(const t in e)Fp[t]={...Fp[t],...e[t]}}const RR=g.createContext({}),$R=g.createContext({}),Jpe=Symbol.for("motionComponentSymbol");function Zpe({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:a}){e&&Ype(e);function i(s,l){let u;const d={...g.useContext(IR),...s,layoutId:Qpe(s)},{isStatic:f}=d,p=Gpe(s),m=r(s,f);if(!f&&uv){p.visualElement=qpe(a,m,d,t);const h=g.useContext($R),v=g.useContext(_R).strict;p.visualElement&&(u=p.visualElement.loadFeatures(d,v,e,h))}return g.createElement(cv.Provider,{value:p},u&&p.visualElement?g.createElement(u,{visualElement:p.visualElement,...d}):null,n(a,s,Hpe(m,p.visualElement,l),m,f,p.visualElement))}const o=g.forwardRef(i);return o[Jpe]=a,o}function Qpe({layoutId:e}){const t=g.useContext(RR).id;return t&&e!==void 0?t+"-"+e:e}function Xpe(e){function t(r,a={}){return Zpe(e(r,a))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,a)=>(n.has(a)||n.set(a,t(a)),n.get(a))})}const eme=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function n2(e){return typeof e!="string"||e.includes("-")?!1:!!(eme.indexOf(e)>-1||/[A-Z]/.test(e))}const P0={};function tme(e){Object.assign(P0,e)}const Nm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],hu=new Set(Nm);function BR(e,{layout:t,layoutId:n}){return hu.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!P0[e]||e==="opacity")}const hi=e=>!!(e&&e.getVelocity),nme={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},rme=Nm.length;function ame(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,a){let i="";for(let o=0;o<rme;o++){const s=Nm[o];if(e[s]!==void 0){const l=nme[s]||s;i+=`${l}(${e[s]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),a?i=a(e,r?"":i):n&&r&&(i="none"),i}const zR=e=>t=>typeof t=="string"&&t.startsWith(e),UR=zR("--"),c1=zR("var(--"),ime=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,ome=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Jl=(e,t,n)=>Math.min(Math.max(n,e),t),gu={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Gf={...gu,transform:e=>Jl(0,1,e)},Eh={...gu,default:1},Yf=e=>Math.round(e*1e5)/1e5,pv=/(-)?([\d]*\.?[\d])+/g,VR=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,sme=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function jm(e){return typeof e=="string"}const Cm=e=>({test:t=>jm(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),wl=Cm("deg"),is=Cm("%"),Jt=Cm("px"),lme=Cm("vh"),cme=Cm("vw"),ZE={...is,parse:e=>is.parse(e)/100,transform:e=>is.transform(e*100)},QE={...gu,transform:Math.round},WR={borderWidth:Jt,borderTopWidth:Jt,borderRightWidth:Jt,borderBottomWidth:Jt,borderLeftWidth:Jt,borderRadius:Jt,radius:Jt,borderTopLeftRadius:Jt,borderTopRightRadius:Jt,borderBottomRightRadius:Jt,borderBottomLeftRadius:Jt,width:Jt,maxWidth:Jt,height:Jt,maxHeight:Jt,size:Jt,top:Jt,right:Jt,bottom:Jt,left:Jt,padding:Jt,paddingTop:Jt,paddingRight:Jt,paddingBottom:Jt,paddingLeft:Jt,margin:Jt,marginTop:Jt,marginRight:Jt,marginBottom:Jt,marginLeft:Jt,rotate:wl,rotateX:wl,rotateY:wl,rotateZ:wl,scale:Eh,scaleX:Eh,scaleY:Eh,scaleZ:Eh,skew:wl,skewX:wl,skewY:wl,distance:Jt,translateX:Jt,translateY:Jt,translateZ:Jt,x:Jt,y:Jt,z:Jt,perspective:Jt,transformPerspective:Jt,opacity:Gf,originX:ZE,originY:ZE,originZ:Jt,zIndex:QE,fillOpacity:Gf,strokeOpacity:Gf,numOctaves:QE};function r2(e,t,n,r){const{style:a,vars:i,transform:o,transformOrigin:s}=e;let l=!1,u=!1,d=!0;for(const f in t){const p=t[f];if(UR(f)){i[f]=p;continue}const m=WR[f],h=ome(p,m);if(hu.has(f)){if(l=!0,o[f]=h,!d)continue;p!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,s[f]=h):a[f]=h}if(t.transform||(l||r?a.transform=ame(e.transform,n,d,r):a.transform&&(a.transform="none")),u){const{originX:f="50%",originY:p="50%",originZ:m=0}=s;a.transformOrigin=`${f} ${p} ${m}`}}const a2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function qR(e,t,n){for(const r in t)!hi(t[r])&&!BR(r,n)&&(e[r]=t[r])}function ume({transformTemplate:e},t,n){return g.useMemo(()=>{const r=a2();return r2(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function dme(e,t,n){const r=e.style||{},a={};return qR(a,r,e),Object.assign(a,ume(e,t,n)),e.transformValues?e.transformValues(a):a}function fme(e,t,n){const r={},a=dme(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=a,r}const pme=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function T0(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||pme.has(e)}let HR=e=>!T0(e);function mme(e){e&&(HR=t=>t.startsWith("on")?!T0(t):e(t))}try{mme(require("@emotion/is-prop-valid").default)}catch{}function hme(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(HR(a)||n===!0&&T0(a)||!t&&!T0(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}function XE(e,t,n){return typeof e=="string"?e:Jt.transform(t+n*e)}function gme(e,t,n){const r=XE(t,e.x,e.width),a=XE(n,e.y,e.height);return`${r} ${a}`}const yme={offset:"stroke-dashoffset",array:"stroke-dasharray"},vme={offset:"strokeDashoffset",array:"strokeDasharray"};function bme(e,t,n=1,r=0,a=!0){e.pathLength=1;const i=a?yme:vme;e[i.offset]=Jt.transform(-r);const o=Jt.transform(t),s=Jt.transform(n);e[i.array]=`${o} ${s}`}function i2(e,{attrX:t,attrY:n,attrScale:r,originX:a,originY:i,pathLength:o,pathSpacing:s=1,pathOffset:l=0,...u},d,f,p){if(r2(e,u,d,p),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:h,dimensions:v}=e;m.transform&&(v&&(h.transform=m.transform),delete m.transform),v&&(a!==void 0||i!==void 0||h.transform)&&(h.transformOrigin=gme(v,a!==void 0?a:.5,i!==void 0?i:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&bme(m,o,s,l,!1)}const KR=()=>({...a2(),attrs:{}}),o2=e=>typeof e=="string"&&e.toLowerCase()==="svg";function xme(e,t,n,r){const a=g.useMemo(()=>{const i=KR();return i2(i,t,{enableHardwareAcceleration:!1},o2(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};qR(i,e.style,e),a.style={...i,...a.style}}return a}function wme(e=!1){return(t,n,r,{latestValues:a},i)=>{const o=(n2(t)?xme:fme)(n,a,i,t),s={...hme(n,typeof t=="string",e),...o,ref:r},{children:l}=n,u=g.useMemo(()=>hi(l)?l.get():l,[l]);return g.createElement(t,{...s,children:u})}}function GR(e,{style:t,vars:n},r,a){Object.assign(e.style,t,a&&a.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const YR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function JR(e,t,n,r){GR(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(YR.has(a)?a:XN(a),t.attrs[a])}function s2(e,t){const{style:n}=e,r={};for(const a in n)(hi(n[a])||t.style&&hi(t.style[a])||BR(a,e))&&(r[a]=n[a]);return r}function ZR(e,t){const n=s2(e,t);for(const r in e)if(hi(e[r])||hi(t[r])){const a=Nm.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[a]=e[r]}return n}function l2(e,t,n,r={},a={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,a)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,a)),t}function kme(e){const t=g.useRef(null);return t.current===null&&(t.current=e()),t.current}const O0=e=>Array.isArray(e),Sme=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Nme=e=>O0(e)?e[e.length-1]||0:e;function tg(e){const t=hi(e)?e.get():e;return Sme(t)?t.toValue():t}function jme({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,a,i){const o={latestValues:Cme(r,a,i,e),renderState:t()};return n&&(o.mount=s=>n(r,s,o)),o}const QR=e=>(t,n)=>{const r=g.useContext(cv),a=g.useContext(QN),i=()=>jme(e,t,r,a);return n?i():kme(i)};function Cme(e,t,n,r){const a={},i=r(e,{});for(const p in i)a[p]=tg(i[p]);let{initial:o,animate:s}=e;const l=fv(e),u=FR(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),s===void 0&&(s=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?s:o;return f&&typeof f!="boolean"&&!dv(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const m=l2(e,p);if(!m)return;const{transitionEnd:h,transition:v,...b}=m;for(const y in b){let x=b[y];if(Array.isArray(x)){const w=d?x.length-1:0;x=x[w]}x!==null&&(a[y]=x)}for(const y in h)a[y]=h[y]}),a}const Ir=e=>e;class eD{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function Ame(e){let t=new eD,n=new eD,r=0,a=!1,i=!1;const o=new WeakSet,s={schedule:(l,u=!1,d=!1)=>{const f=d&&a,p=f?t:n;return u&&o.add(l),p.add(l)&&f&&a&&(r=t.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(a){i=!0;return}if(a=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(l),o.has(d)&&(s.schedule(d),e())}a=!1,i&&(i=!1,s.process(l))}};return s}const Dh=["prepare","read","update","preRender","render","postRender"],Mme=40;function Eme(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=Dh.reduce((u,d)=>(u[d]=Ame(()=>n=!0),u),{}),o=u=>i[u].process(a),s=()=>{const u=performance.now();n=!1,a.delta=r?1e3/60:Math.max(Math.min(u-a.timestamp,Mme),1),a.timestamp=u,a.isProcessing=!0,Dh.forEach(o),a.isProcessing=!1,n&&t&&(r=!1,e(s))},l=()=>{n=!0,r=!0,a.isProcessing||e(s)};return{schedule:Dh.reduce((u,d)=>{const f=i[d];return u[d]=(p,m=!1,h=!1)=>(n||l(),f.schedule(p,m,h)),u},{}),cancel:u=>Dh.forEach(d=>i[d].cancel(u)),state:a,steps:i}}const{schedule:lr,cancel:el,state:Ia,steps:Ub}=Eme(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ir,!0),Dme={useVisualState:QR({scrapeMotionValuesFromProps:ZR,createRenderState:KR,onMount:(e,t,{renderState:n,latestValues:r})=>{lr.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),lr.render(()=>{i2(n,r,{enableHardwareAcceleration:!1},o2(t.tagName),e.transformTemplate),JR(t,n)})}})},Pme={useVisualState:QR({scrapeMotionValuesFromProps:s2,createRenderState:a2})};function Tme(e,{forwardMotionProps:t=!1},n,r){return{...n2(e)?Dme:Pme,preloadedFeatures:n,useRender:wme(t),createVisualElement:r,Component:e}}function Is(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const XR=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function mv(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Ome=e=>t=>XR(t)&&e(t,mv(t));function $s(e,t,n,r){return Is(e,t,Ome(n),r)}const Ime=(e,t)=>n=>t(e(n)),Wl=(...e)=>e.reduce(Ime);function e$(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const tD=e$("dragHorizontal"),nD=e$("dragVertical");function t$(e){let t=!1;if(e==="y")t=nD();else if(e==="x")t=tD();else{const n=tD(),r=nD();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function n$(){const e=t$(!0);return e?(e(),!1):!0}class oc{constructor(t){this.isMounted=!1,this.node=t}update(){}}function rD(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),a=(i,o)=>{if(i.pointerType==="touch"||n$())return;const s=e.getProps();e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",t),s[r]&&lr.update(()=>s[r](i,o))};return $s(e.current,n,a,{passive:!e.getProps()[r]})}class _me extends oc{mount(){this.unmount=Wl(rD(this.node,!0),rD(this.node,!1))}unmount(){}}class Lme extends oc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Wl(Is(this.node.current,"focus",()=>this.onFocus()),Is(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const r$=(e,t)=>t?e===t?!0:r$(e,t.parentElement):!1;function Vb(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,mv(n))}class Fme extends oc{constructor(){super(...arguments),this.removeStartListeners=Ir,this.removeEndListeners=Ir,this.removeAccessibleListeners=Ir,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=$s(window,"pointerup",(o,s)=>{if(!this.checkPressEnd())return;const{onTap:l,onTapCancel:u,globalTapTarget:d}=this.node.getProps();lr.update(()=>{!d&&!r$(this.node.current,o.target)?u&&u(o,s):l&&l(o,s)})},{passive:!(r.onTap||r.onPointerUp)}),i=$s(window,"pointercancel",(o,s)=>this.cancelPress(o,s),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Wl(a,i),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=s=>{s.key!=="Enter"||!this.checkPressEnd()||Vb("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&lr.update(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=Is(this.node.current,"keyup",o),Vb("down",(s,l)=>{this.startPress(s,l)})},n=Is(this.node.current,"keydown",t),r=()=>{this.isPressing&&Vb("cancel",(i,o)=>this.cancelPress(i,o))},a=Is(this.node.current,"blur",r);this.removeAccessibleListeners=Wl(n,a)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&lr.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!n$()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&lr.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=$s(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Is(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Wl(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const u1=new WeakMap,Wb=new WeakMap,Rme=e=>{const t=u1.get(e.target);t&&t(e)},$me=e=>{e.forEach(Rme)};function Bme({root:e,...t}){const n=e||document;Wb.has(n)||Wb.set(n,{});const r=Wb.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver($me,{root:e,...t})),r[a]}function zme(e,t,n){const r=Bme(t);return u1.set(e,n),r.observe(e),()=>{u1.delete(e),r.unobserve(e)}}const Ume={some:0,all:1};class Vme extends oc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:Ume[a]},s=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=u?d:f;p&&p(l)};return zme(this.node.current,o,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Wme(t,n))&&this.startObserver()}unmount(){}}function Wme({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const qme={inView:{Feature:Vme},tap:{Feature:Fme},focus:{Feature:Lme},hover:{Feature:_me}};function a$(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Hme(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function Kme(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function hv(e,t,n){const r=e.getProps();return l2(r,t,n!==void 0?n:r.custom,Hme(e),Kme(e))}let c2=Ir;const Kc=e=>e*1e3,Bs=e=>e/1e3,Gme={current:!1},i$=e=>Array.isArray(e)&&typeof e[0]=="number";function o$(e){return!!(!e||typeof e=="string"&&s$[e]||i$(e)||Array.isArray(e)&&e.every(o$))}const Pf=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,s$={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Pf([0,.65,.55,1]),circOut:Pf([.55,0,1,.45]),backIn:Pf([.31,.01,.66,-.59]),backOut:Pf([.33,1.53,.69,.99])};function l$(e){if(e)return i$(e)?Pf(e):Array.isArray(e)?e.map(l$):s$[e]}function Yme(e,t,n,{delay:r=0,duration:a,repeat:i=0,repeatType:o="loop",ease:s,times:l}={}){const u={[t]:n};l&&(u.offset=l);const d=l$(s);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function Jme(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const c$=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Zme=1e-7,Qme=12;function Xme(e,t,n,r,a){let i,o,s=0;do o=t+(n-t)/2,i=c$(o,r,a)-e,i>0?n=o:t=o;while(Math.abs(i)>Zme&&++s<Qme);return o}function Am(e,t,n,r){if(e===t&&n===r)return Ir;const a=i=>Xme(i,0,1,e,n);return i=>i===0||i===1?i:c$(a(i),t,r)}const ehe=Am(.42,0,1,1),the=Am(0,0,.58,1),u$=Am(.42,0,.58,1),nhe=e=>Array.isArray(e)&&typeof e[0]!="number",d$=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,f$=e=>t=>1-e(1-t),u2=e=>1-Math.sin(Math.acos(e)),p$=f$(u2),rhe=d$(u2),m$=Am(.33,1.53,.69,.99),d2=f$(m$),ahe=d$(d2),ihe=e=>(e*=2)<1?.5*d2(e):.5*(2-Math.pow(2,-10*(e-1))),ohe={linear:Ir,easeIn:ehe,easeInOut:u$,easeOut:the,circIn:u2,circInOut:rhe,circOut:p$,backIn:d2,backInOut:ahe,backOut:m$,anticipate:ihe},aD=e=>{if(Array.isArray(e)){c2(e.length===4);const[t,n,r,a]=e;return Am(t,n,r,a)}else if(typeof e=="string")return ohe[e];return e},f2=(e,t)=>n=>!!(jm(n)&&sme.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),h$=(e,t,n)=>r=>{if(!jm(r))return r;const[a,i,o,s]=r.match(pv);return{[e]:parseFloat(a),[t]:parseFloat(i),[n]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},she=e=>Jl(0,255,e),qb={...gu,transform:e=>Math.round(she(e))},$c={test:f2("rgb","red"),parse:h$("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+qb.transform(e)+", "+qb.transform(t)+", "+qb.transform(n)+", "+Yf(Gf.transform(r))+")"};function lhe(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const d1={test:f2("#"),parse:lhe,transform:$c.transform},Ju={test:f2("hsl","hue"),parse:h$("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+is.transform(Yf(t))+", "+is.transform(Yf(n))+", "+Yf(Gf.transform(r))+")"},Ha={test:e=>$c.test(e)||d1.test(e)||Ju.test(e),parse:e=>$c.test(e)?$c.parse(e):Ju.test(e)?Ju.parse(e):d1.parse(e),transform:e=>jm(e)?e:e.hasOwnProperty("red")?$c.transform(e):Ju.transform(e)},br=(e,t,n)=>-n*e+n*t+e;function Hb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function che({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,i=0,o=0;if(!t)a=i=o=n;else{const s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;a=Hb(l,s,e+1/3),i=Hb(l,s,e),o=Hb(l,s,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const Kb=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},uhe=[d1,$c,Ju],dhe=e=>uhe.find(t=>t.test(e));function iD(e){const t=dhe(e);let n=t.parse(e);return t===Ju&&(n=che(n)),n}const g$=(e,t)=>{const n=iD(e),r=iD(t),a={...n};return i=>(a.red=Kb(n.red,r.red,i),a.green=Kb(n.green,r.green,i),a.blue=Kb(n.blue,r.blue,i),a.alpha=br(n.alpha,r.alpha,i),$c.transform(a))};function fhe(e){var t,n;return isNaN(e)&&jm(e)&&(((t=e.match(pv))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(VR))===null||n===void 0?void 0:n.length)||0)>0}const y$={regex:ime,countKey:"Vars",token:"${v}",parse:Ir},v$={regex:VR,countKey:"Colors",token:"${c}",parse:Ha.parse},b$={regex:pv,countKey:"Numbers",token:"${n}",parse:gu.parse};function Gb(e,{regex:t,countKey:n,token:r,parse:a}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(a)))}function I0(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Gb(n,y$),Gb(n,v$),Gb(n,b$),n}function x$(e){return I0(e).values}function w$(e){const{values:t,numColors:n,numVars:r,tokenised:a}=I0(e),i=t.length;return o=>{let s=a;for(let l=0;l<i;l++)l<r?s=s.replace(y$.token,o[l]):l<r+n?s=s.replace(v$.token,Ha.transform(o[l])):s=s.replace(b$.token,Yf(o[l]));return s}}const phe=e=>typeof e=="number"?0:e;function mhe(e){const t=x$(e);return w$(e)(t.map(phe))}const Zl={test:fhe,parse:x$,createTransformer:w$,getAnimatableNone:mhe},k$=(e,t)=>n=>`${n>0?t:e}`;function S$(e,t){return typeof e=="number"?n=>br(e,t,n):Ha.test(e)?g$(e,t):e.startsWith("var(")?k$(e,t):j$(e,t)}const N$=(e,t)=>{const n=[...e],r=n.length,a=e.map((i,o)=>S$(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=a[o](i);return n}},hhe=(e,t)=>{const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=S$(e[a],t[a]));return a=>{for(const i in r)n[i]=r[i](a);return n}},j$=(e,t)=>{const n=Zl.createTransformer(t),r=I0(e),a=I0(t);return r.numVars===a.numVars&&r.numColors===a.numColors&&r.numNumbers>=a.numNumbers?Wl(N$(r.values,a.values),n):k$(e,t)},Rp=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},oD=(e,t)=>n=>br(e,t,n);function ghe(e){return typeof e=="number"?oD:typeof e=="string"?Ha.test(e)?g$:j$:Array.isArray(e)?N$:typeof e=="object"?hhe:oD}function yhe(e,t,n){const r=[],a=n||ghe(e[0]),i=e.length-1;for(let o=0;o<i;o++){let s=a(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Ir:t;s=Wl(l,s)}r.push(s)}return r}function C$(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const i=e.length;if(c2(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=yhe(t,r,a),s=o.length,l=u=>{let d=0;if(s>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=Rp(e[d],e[d+1],u);return o[d](f)};return n?u=>l(Jl(e[0],e[i-1],u)):l}function vhe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=Rp(0,t,r);e.push(br(n,1,a))}}function bhe(e){const t=[0];return vhe(t,e.length-1),t}function xhe(e,t){return e.map(n=>n*t)}function whe(e,t){return e.map(()=>t||u$).splice(0,e.length-1)}function _0({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=nhe(r)?r.map(aD):aD(r),i={done:!1,value:t[0]},o=xhe(n&&n.length===t.length?n:bhe(t),e),s=C$(o,t,{ease:Array.isArray(a)?a:whe(t,a)});return{calculatedDuration:e,next:l=>(i.value=s(l),i.done=l>=e,i)}}function A$(e,t){return t?e*(1e3/t):0}const khe=5;function M$(e,t,n){const r=Math.max(t-khe,0);return A$(n-e(r),t-r)}const Yb=.001,She=.01,Nhe=10,jhe=.05,Che=1;function Ahe({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let a,i,o=1-t;o=Jl(jhe,Che,o),e=Jl(She,Nhe,Bs(e)),o<1?(a=u=>{const d=u*o,f=d*e,p=d-n,m=f1(u,o),h=Math.exp(-f);return Yb-p/m*h},i=u=>{const d=u*o*e,f=d*n+n,p=Math.pow(o,2)*Math.pow(u,2)*e,m=Math.exp(-d),h=f1(Math.pow(u,2),o);return(-a(u)+Yb>0?-1:1)*((f-p)*m)/h}):(a=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-Yb+d*f},i=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const s=5/e,l=Ehe(a,i,s);if(e=Kc(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const Mhe=12;function Ehe(e,t,n){let r=n;for(let a=1;a<Mhe;a++)r=r-e(r)/t(r);return r}function f1(e,t){return e*Math.sqrt(1-t*t)}const Dhe=["duration","bounce"],Phe=["stiffness","damping","mass"];function sD(e,t){return t.some(n=>e[n]!==void 0)}function The(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!sD(e,Phe)&&sD(e,Dhe)){const n=Ahe(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function E$({keyframes:e,restDelta:t,restSpeed:n,...r}){const a=e[0],i=e[e.length-1],o={done:!1,value:a},{stiffness:s,damping:l,mass:u,duration:d,velocity:f,isResolvedFromDuration:p}=The({...r,velocity:-Bs(r.velocity||0)}),m=f||0,h=l/(2*Math.sqrt(s*u)),v=i-a,b=Bs(Math.sqrt(s/u)),y=Math.abs(v)<5;n||(n=y?.01:2),t||(t=y?.005:.5);let x;if(h<1){const w=f1(b,h);x=S=>{const j=Math.exp(-h*b*S);return i-j*((m+h*b*v)/w*Math.sin(w*S)+v*Math.cos(w*S))}}else if(h===1)x=w=>i-Math.exp(-b*w)*(v+(m+b*v)*w);else{const w=b*Math.sqrt(h*h-1);x=S=>{const j=Math.exp(-h*b*S),N=Math.min(w*S,300);return i-j*((m+h*b*v)*Math.sinh(N)+w*v*Math.cosh(N))/w}}return{calculatedDuration:p&&d||null,next:w=>{const S=x(w);if(p)o.done=w>=d;else{let j=m;w!==0&&(h<1?j=M$(x,w,S):j=0);const N=Math.abs(j)<=n,A=Math.abs(i-S)<=t;o.done=N&&A}return o.value=o.done?i:S,o}}}function lD({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:s,max:l,restDelta:u=.5,restSpeed:d}){const f=e[0],p={done:!1,value:f},m=P=>s!==void 0&&P<s||l!==void 0&&P>l,h=P=>s===void 0?l:l===void 0||Math.abs(s-P)<Math.abs(l-P)?s:l;let v=n*t;const b=f+v,y=o===void 0?b:o(b);y!==b&&(v=y-f);const x=P=>-v*Math.exp(-P/r),w=P=>y+x(P),S=P=>{const B=x(P),D=w(P);p.done=Math.abs(B)<=u,p.value=p.done?y:D};let j,N;const A=P=>{m(p.value)&&(j=P,N=E$({keyframes:[p.value,h(p.value)],velocity:M$(w,P,p.value),damping:a,stiffness:i,restDelta:u,restSpeed:d}))};return A(0),{calculatedDuration:null,next:P=>{let B=!1;return!N&&j===void 0&&(B=!0,S(P),A(P)),j!==void 0&&P>j?N.next(P-j):(!B&&S(P),p)}}}const Ohe=e=>{const t=({timestamp:n})=>e(n);return{start:()=>lr.update(t,!0),stop:()=>el(t),now:()=>Ia.isProcessing?Ia.timestamp:performance.now()}},cD=2e4;function uD(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<cD;)t+=n,r=e.next(t);return t>=cD?1/0:t}const Ihe={decay:lD,inertia:lD,tween:_0,keyframes:_0,spring:E$};function L0({autoplay:e=!0,delay:t=0,driver:n=Ohe,keyframes:r,type:a="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop",onPlay:l,onStop:u,onComplete:d,onUpdate:f,...p}){let m=1,h=!1,v,b;const y=()=>{b=new Promise($=>{v=$})};y();let x;const w=Ihe[a]||_0;let S;w!==_0&&typeof r[0]!="number"&&(S=C$([0,100],r,{clamp:!1}),r=[0,100]);const j=w({...p,keyframes:r});let N;s==="mirror"&&(N=w({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let A="idle",P=null,B=null,D=null;j.calculatedDuration===null&&i&&(j.calculatedDuration=uD(j));const{calculatedDuration:I}=j;let O=1/0,H=1/0;I!==null&&(O=I+o,H=O*(i+1)-o);let J=0;const ie=$=>{if(B===null)return;m>0&&(B=Math.min(B,$)),m<0&&(B=Math.min($-H/m,B)),P!==null?J=P:J=Math.round($-B)*m;const T=J-t*(m>=0?1:-1),C=m>=0?T<0:T>H;J=Math.max(T,0),A==="finished"&&P===null&&(J=H);let R=J,V=j;if(i){const L=Math.min(J,H)/O;let z=Math.floor(L),re=L%1;!re&&L>=1&&(re=1),re===1&&z--,z=Math.min(z,i+1),z%2&&(s==="reverse"?(re=1-re,o&&(re-=o/O)):s==="mirror"&&(V=N)),R=Jl(0,1,re)*O}const Q=C?{done:!1,value:r[0]}:V.next(R);S&&(Q.value=S(Q.value));let{done:ce}=Q;!C&&I!==null&&(ce=m>=0?J>=H:J<=0);const Y=P===null&&(A==="finished"||A==="running"&&ce);return f&&f(Q.value),Y&&q(),Q},we=()=>{x&&x.stop(),x=void 0},te=()=>{A="idle",we(),v(),y(),B=D=null},q=()=>{A="finished",d&&d(),we(),v()},W=()=>{if(h)return;x||(x=n(ie));const $=x.now();l&&l(),P!==null?B=$-P:(!B||A==="finished")&&(B=$),A==="finished"&&y(),D=B,P=null,A="running",x.start()};e&&W();const k={then($,T){return b.then($,T)},get time(){return Bs(J)},set time($){$=Kc($),J=$,P!==null||!x||m===0?P=$:B=x.now()-$/m},get duration(){const $=j.calculatedDuration===null?uD(j):j.calculatedDuration;return Bs($)},get speed(){return m},set speed($){$===m||!x||(m=$,k.time=Bs(J))},get state(){return A},play:W,pause:()=>{A="paused",P=J},stop:()=>{h=!0,A!=="idle"&&(A="idle",u&&u(),te())},cancel:()=>{D!==null&&ie(D),te()},complete:()=>{A="finished"},sample:$=>(B=0,ie($))};return k}function _he(e){let t;return()=>(t===void 0&&(t=e()),t)}const Lhe=_he(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Fhe=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Ph=10,Rhe=2e4,$he=(e,t)=>t.type==="spring"||e==="backgroundColor"||!o$(t.ease);function Bhe(e,t,{onUpdate:n,onComplete:r,...a}){if(!(Lhe()&&Fhe.has(t)&&!a.repeatDelay&&a.repeatType!=="mirror"&&a.damping!==0&&a.type!=="inertia"))return!1;let i=!1,o,s,l=!1;const u=()=>{s=new Promise(y=>{o=y})};u();let{keyframes:d,duration:f=300,ease:p,times:m}=a;if($he(t,a)){const y=L0({...a,repeat:0,delay:0});let x={done:!1,value:d[0]};const w=[];let S=0;for(;!x.done&&S<Rhe;)x=y.sample(S),w.push(x.value),S+=Ph;m=void 0,d=w,f=S-Ph,p="linear"}const h=Yme(e.owner.current,t,d,{...a,duration:f,ease:p,times:m}),v=()=>{l=!1,h.cancel()},b=()=>{l=!0,lr.update(v),o(),u()};return h.onfinish=()=>{l||(e.set(Jme(d,a)),r&&r(),b())},{then(y,x){return s.then(y,x)},attachTimeline(y){return h.timeline=y,h.onfinish=null,Ir},get time(){return Bs(h.currentTime||0)},set time(y){h.currentTime=Kc(y)},get speed(){return h.playbackRate},set speed(y){h.playbackRate=y},get duration(){return Bs(f)},play:()=>{i||(h.play(),el(v))},pause:()=>h.pause(),stop:()=>{if(i=!0,h.playState==="idle")return;const{currentTime:y}=h;if(y){const x=L0({...a,autoplay:!1});e.setWithVelocity(x.sample(y-Ph).value,x.sample(y).value,Ph)}b()},complete:()=>{l||h.finish()},cancel:b}}function zhe({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const a=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Ir,pause:Ir,stop:Ir,then:i=>(i(),Promise.resolve()),cancel:Ir,complete:Ir});return t?L0({keyframes:[0,1],duration:0,delay:t,onComplete:a}):a()}const Uhe={type:"spring",stiffness:500,damping:25,restSpeed:10},Vhe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Whe={type:"keyframes",duration:.8},qhe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Hhe=(e,{keyframes:t})=>t.length>2?Whe:hu.has(e)?e.startsWith("scale")?Vhe(t[1]):Uhe:qhe,p1=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Zl.test(t)||t==="0")&&!t.startsWith("url(")),Khe=new Set(["brightness","contrast","saturate","opacity"]);function Ghe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(pv)||[];if(!r)return e;const a=n.replace(r,"");let i=Khe.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+a+")"}const Yhe=/([a-z-]*)\(.*?\)/g,m1={...Zl,getAnimatableNone:e=>{const t=e.match(Yhe);return t?t.map(Ghe).join(" "):e}},Jhe={...WR,color:Ha,backgroundColor:Ha,outlineColor:Ha,fill:Ha,stroke:Ha,borderColor:Ha,borderTopColor:Ha,borderRightColor:Ha,borderBottomColor:Ha,borderLeftColor:Ha,filter:m1,WebkitFilter:m1},p2=e=>Jhe[e];function D$(e,t){let n=p2(e);return n!==m1&&(n=Zl),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const P$=e=>/^0[^.\s]+$/.test(e);function Zhe(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||P$(e)}function Qhe(e,t,n,r){const a=p1(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:e.get();let s;const l=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?o:i[u-1]),Zhe(i[u])&&l.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(s=i[u]);if(a&&l.length&&s)for(let u=0;u<l.length;u++){const d=l[u];i[d]=D$(t,s)}return i}function Xhe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:s,from:l,elapsed:u,...d}){return!!Object.keys(d).length}function m2(e,t){return e[t]||e.default||e}const ege={skipAnimations:!1},h2=(e,t,n,r={})=>a=>{const i=m2(r,e)||{},o=i.delay||r.delay||0;let{elapsed:s=0}=r;s=s-Kc(o);const l=Qhe(t,e,n,i),u=l[0],d=l[l.length-1],f=p1(e,u),p=p1(e,d);let m={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-s,onUpdate:h=>{t.set(h),i.onUpdate&&i.onUpdate(h)},onComplete:()=>{a(),i.onComplete&&i.onComplete()}};if(Xhe(i)||(m={...m,...Hhe(e,m)}),m.duration&&(m.duration=Kc(m.duration)),m.repeatDelay&&(m.repeatDelay=Kc(m.repeatDelay)),!f||!p||Gme.current||i.type===!1||ege.skipAnimations)return zhe(m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const h=Bhe(t,e,m);if(h)return h}return L0(m)};function F0(e){return!!(hi(e)&&e.add)}const T$=e=>/^\-?\d*\.?\d+$/.test(e);function g2(e,t){e.indexOf(t)===-1&&e.push(t)}function y2(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class v2{constructor(){this.subscriptions=[]}add(t){return g2(this.subscriptions,t),()=>y2(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const tge=e=>!isNaN(parseFloat(e));class nge{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,a=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=Ia;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,lr.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>lr.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=tge(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new v2);const r=this.events[t].add(n);return t==="change"?()=>{r(),lr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?A$(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ed(e,t){return new nge(e,t)}const O$=e=>t=>t.test(e),rge={test:e=>e==="auto",parse:e=>e},I$=[gu,Jt,is,wl,cme,lme,rge],wf=e=>I$.find(O$(e)),age=[...I$,Ha,Zl],ige=e=>age.find(O$(e));function oge(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ed(n))}function sge(e,t){const n=hv(e,t);let{transitionEnd:r={},transition:a={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const s=Nme(i[o]);oge(e,o,s)}}function lge(e,t,n){var r,a;const i=Object.keys(t).filter(s=>!e.hasValue(s)),o=i.length;if(o)for(let s=0;s<o;s++){const l=i[s],u=t[l];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(a=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&a!==void 0?a:t[l]),d!=null&&(typeof d=="string"&&(T$(d)||P$(d))?d=parseFloat(d):!ige(d)&&Zl.test(u)&&(d=D$(l,u)),e.addValue(l,Ed(d,{owner:e})),n[l]===void 0&&(n[l]=d),d!==null&&e.setBaseTarget(l,d))}}function cge(e,t){return t?(t[e]||t.default||t).from:void 0}function uge(e,t,n){const r={};for(const a in e){const i=cge(a,t);if(i!==void 0)r[a]=i;else{const o=n.getValue(a);o&&(r[a]=o.get())}}return r}function dge({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function fge(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function _$(e,t,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...s}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(i=r);const u=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const f in s){const p=e.getValue(f),m=s[f];if(!p||m===void 0||d&&dge(d,f))continue;const h={delay:n,elapsed:0,...m2(i||{},f)};if(window.HandoffAppearAnimations){const y=e.getProps()[LR];if(y){const x=window.HandoffAppearAnimations(y,f,p,lr);x!==null&&(h.elapsed=x,h.isHandoff=!0)}}let v=!h.isHandoff&&!fge(p,m);if(h.type==="spring"&&(p.getVelocity()||h.velocity)&&(v=!1),p.animation&&(v=!1),v)continue;p.start(h2(f,p,m,e.shouldReduceMotion&&hu.has(f)?{type:!1}:h));const b=p.animation;F0(l)&&(l.add(f),b.then(()=>l.remove(f))),u.push(b)}return o&&Promise.all(u).then(()=>{o&&sge(e,o)}),u}function h1(e,t,n={}){const r=hv(e,t,n.custom);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const i=r?()=>Promise.all(_$(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=a;return pge(e,t,u+l,d,f,n)}:()=>Promise.resolve(),{when:s}=a;if(s){const[l,u]=s==="beforeChildren"?[i,o]:[o,i];return l().then(()=>u())}else return Promise.all([i(),o(n.delay)])}function pge(e,t,n=0,r=0,a=1,i){const o=[],s=(e.variantChildren.size-1)*r,l=a===1?(u=0)=>u*r:(u=0)=>s-u*r;return Array.from(e.variantChildren).sort(mge).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(h1(u,t,{...i,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function mge(e,t){return e.sortNodePosition(t)}function hge(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(i=>h1(e,i,n));r=Promise.all(a)}else if(typeof t=="string")r=h1(e,t,n);else{const a=typeof t=="function"?hv(e,t,n.custom):t;r=Promise.all(_$(e,a,n))}return r.then(()=>e.notify("AnimationComplete",t))}const gge=[...e2].reverse(),yge=e2.length;function vge(e){return t=>Promise.all(t.map(({animation:n,options:r})=>hge(e,n,r)))}function bge(e){let t=vge(e);const n=wge();let r=!0;const a=(l,u)=>{const d=hv(e,u);if(d){const{transition:f,transitionEnd:p,...m}=d;l={...l,...m,...p}}return l};function i(l){t=l(e)}function o(l,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},p=[],m=new Set;let h={},v=1/0;for(let y=0;y<yge;y++){const x=gge[y],w=n[x],S=d[x]!==void 0?d[x]:f[x],j=Lp(S),N=x===u?w.isActive:null;N===!1&&(v=y);let A=S===f[x]&&S!==d[x]&&j;if(A&&r&&e.manuallyAnimateOnMount&&(A=!1),w.protectedKeys={...h},!w.isActive&&N===null||!S&&!w.prevProp||dv(S)||typeof S=="boolean")continue;let P=xge(w.prevProp,S)||x===u&&w.isActive&&!A&&j||y>v&&j,B=!1;const D=Array.isArray(S)?S:[S];let I=D.reduce(a,{});N===!1&&(I={});const{prevResolvedValues:O={}}=w,H={...O,...I},J=ie=>{P=!0,m.has(ie)&&(B=!0,m.delete(ie)),w.needsAnimating[ie]=!0};for(const ie in H){const we=I[ie],te=O[ie];if(h.hasOwnProperty(ie))continue;let q=!1;O0(we)&&O0(te)?q=!a$(we,te):q=we!==te,q?we!==void 0?J(ie):m.add(ie):we!==void 0&&m.has(ie)?J(ie):w.protectedKeys[ie]=!0}w.prevProp=S,w.prevResolvedValues=I,w.isActive&&(h={...h,...I}),r&&e.blockInitialAnimation&&(P=!1),P&&(!A||B)&&p.push(...D.map(ie=>({animation:ie,options:{type:x,...l}})))}if(m.size){const y={};m.forEach(x=>{const w=e.getBaseTarget(x);w!==void 0&&(y[x]=w)}),p.push({animation:y})}let b=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(b=!1),r=!1,b?t(p):Promise.resolve()}function s(l,u,d){var f;if(n[l].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var h;return(h=m.animationState)===null||h===void 0?void 0:h.setActive(l,u)}),n[l].isActive=u;const p=o(d,l);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:o,setActive:s,setAnimateFunction:i,getState:()=>n}}function xge(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!a$(t,e):!1}function wc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function wge(){return{animate:wc(!0),whileInView:wc(),whileHover:wc(),whileTap:wc(),whileDrag:wc(),whileFocus:wc(),exit:wc()}}class kge extends oc{constructor(t){super(t),t.animationState||(t.animationState=bge(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),dv(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Sge=0;class Nge extends oc{constructor(){super(...arguments),this.id=Sge++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const jge={animation:{Feature:kge},exit:{Feature:Nge}},dD=(e,t)=>Math.abs(e-t);function Cge(e,t){const n=dD(e.x,t.x),r=dD(e.y,t.y);return Math.sqrt(n**2+r**2)}class L${constructor(t,n,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Zb(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=Cge(f.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:h}=f,{timestamp:v}=Ia;this.history.push({...h,timestamp:v});const{onStart:b,onMove:y}=this.handlers;p||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Jb(p,this.transformPagePoint),lr.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:m,onSessionEnd:h,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Zb(f.type==="pointercancel"?this.lastMoveEventInfo:Jb(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,b),h&&h(f,b)},!XR(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=a||window;const o=mv(t),s=Jb(o,this.transformPagePoint),{point:l}=s,{timestamp:u}=Ia;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,Zb(s,this.history)),this.removeListeners=Wl($s(this.contextWindow,"pointermove",this.handlePointerMove),$s(this.contextWindow,"pointerup",this.handlePointerUp),$s(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),el(this.updatePoint)}}function Jb(e,t){return t?{point:t(e.point)}:e}function fD(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Zb({point:e},t){return{point:e,delta:fD(e,F$(t)),offset:fD(e,Age(t)),velocity:Mge(t,.1)}}function Age(e){return e[0]}function F$(e){return e[e.length-1]}function Mge(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=F$(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>Kc(t)));)n--;if(!r)return{x:0,y:0};const i=Bs(a.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-r.x)/i,y:(a.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Fi(e){return e.max-e.min}function g1(e,t=0,n=.01){return Math.abs(e-t)<=n}function pD(e,t,n,r=.5){e.origin=r,e.originPoint=br(t.min,t.max,e.origin),e.scale=Fi(n)/Fi(t),(g1(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=br(n.min,n.max,e.origin)-e.originPoint,(g1(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Jf(e,t,n,r){pD(e.x,t.x,n.x,r?r.originX:void 0),pD(e.y,t.y,n.y,r?r.originY:void 0)}function mD(e,t,n){e.min=n.min+t.min,e.max=e.min+Fi(t)}function Ege(e,t,n){mD(e.x,t.x,n.x),mD(e.y,t.y,n.y)}function hD(e,t,n){e.min=t.min-n.min,e.max=e.min+Fi(t)}function Zf(e,t,n){hD(e.x,t.x,n.x),hD(e.y,t.y,n.y)}function Dge(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?br(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?br(n,e,r.max):Math.min(e,n)),e}function gD(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Pge(e,{top:t,left:n,bottom:r,right:a}){return{x:gD(e.x,n,a),y:gD(e.y,t,r)}}function yD(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Tge(e,t){return{x:yD(e.x,t.x),y:yD(e.y,t.y)}}function Oge(e,t){let n=.5;const r=Fi(e),a=Fi(t);return a>r?n=Rp(t.min,t.max-r,e.min):r>a&&(n=Rp(e.min,e.max-a,t.min)),Jl(0,1,n)}function Ige(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const y1=.35;function _ge(e=y1){return e===!1?e=0:e===!0&&(e=y1),{x:vD(e,"left","right"),y:vD(e,"top","bottom")}}function vD(e,t,n){return{min:bD(e,t),max:bD(e,n)}}function bD(e,t){return typeof e=="number"?e:e[t]||0}const xD=()=>({translate:0,scale:1,origin:0,originPoint:0}),Zu=()=>({x:xD(),y:xD()}),wD=()=>({min:0,max:0}),$r=()=>({x:wD(),y:wD()});function Gi(e){return[e("x"),e("y")]}function R$({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Lge({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Fge(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Qb(e){return e===void 0||e===1}function v1({scale:e,scaleX:t,scaleY:n}){return!Qb(e)||!Qb(t)||!Qb(n)}function Mc(e){return v1(e)||$$(e)||e.z||e.rotate||e.rotateX||e.rotateY}function $$(e){return kD(e.x)||kD(e.y)}function kD(e){return e&&e!=="0%"}function R0(e,t,n){const r=e-n,a=t*r;return n+a}function SD(e,t,n,r,a){return a!==void 0&&(e=R0(e,a,r)),R0(e,n,r)+t}function b1(e,t=0,n=1,r,a){e.min=SD(e.min,t,n,r,a),e.max=SD(e.max,t,n,r,a)}function B$(e,{x:t,y:n}){b1(e.x,t.translate,t.scale,t.originPoint),b1(e.y,n.translate,n.scale,n.originPoint)}function Rge(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let i,o;for(let s=0;s<a;s++){i=n[s],o=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Qu(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,B$(e,o)),r&&Mc(i.latestValues)&&Qu(e,i.latestValues))}t.x=ND(t.x),t.y=ND(t.y)}function ND(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Cl(e,t){e.min=e.min+t,e.max=e.max+t}function jD(e,t,[n,r,a]){const i=t[a]!==void 0?t[a]:.5,o=br(e.min,e.max,i);b1(e,t[n],t[r],o,t.scale)}const $ge=["x","scaleX","originX"],Bge=["y","scaleY","originY"];function Qu(e,t){jD(e.x,t,$ge),jD(e.y,t,Bge)}function z$(e,t){return R$(Fge(e.getBoundingClientRect(),t))}function zge(e,t,n){const r=z$(e,n),{scroll:a}=t;return a&&(Cl(r.x,a.offset.x),Cl(r.y,a.offset.y)),r}const U$=({current:e})=>e?e.ownerDocument.defaultView:null,Uge=new WeakMap;class Vge{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$r(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(mv(d,"page").point)},i=(d,f)=>{const{drag:p,dragPropagation:m,onDragStart:h}=this.getProps();if(p&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=t$(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Gi(b=>{let y=this.getAxisMotionValue(b).get()||0;if(is.test(y)){const{projection:x}=this.visualElement;if(x&&x.layout){const w=x.layout.layoutBox[b];w&&(y=Fi(w)*(parseFloat(y)/100))}}this.originPoint[b]=y}),h&&lr.update(()=>h(d,f),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:h,onDrag:v}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:b}=f;if(m&&this.currentDirection===null){this.currentDirection=Wge(b),this.currentDirection!==null&&h&&h(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),v&&v(d,f)},s=(d,f)=>this.stop(d,f),l=()=>Gi(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new L$(t,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:s,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:U$(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&lr.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!Th(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=Dge(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&Yu(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=Pge(a.layoutBox,n):this.constraints=!1,this.elastic=_ge(r),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Gi(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=Ige(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Yu(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=zge(r,a.root,this.visualElement.getTransformPagePoint());let o=Tge(a.layout.layoutBox,i);if(n){const s=n(Lge(o));this.hasMutatedConstraints=!!s,s&&(o=R$(s))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},u=Gi(d=>{if(!Th(d,n,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const p=a?200:1e6,m=a?40:1e7,h={type:"inertia",velocity:r?t[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,h)});return Promise.all(u).then(s)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(h2(t,r,0,n))}stopAnimation(){Gi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Gi(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps();return r[n]||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Gi(n=>{const{drag:r}=this.getProps();if(!Th(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(n);if(a&&a.layout){const{min:o,max:s}=a.layout.layoutBox[n];i.set(t[n]-br(o,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Yu(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Gi(o=>{const s=this.getAxisMotionValue(o);if(s){const l=s.get();a[o]=Oge({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Gi(o=>{if(!Th(o,t,null))return;const s=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];s.set(br(l,u,a[o]))})}addListeners(){if(!this.visualElement.current)return;Uge.set(this.visualElement,this);const t=this.visualElement.current,n=$s(t,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Yu(l)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),r();const o=Is(window,"resize",()=>this.scalePositionWithinConstraints()),s=a.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Gi(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=y1,dragMomentum:s=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:s}}}function Th(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Wge(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class qge extends oc{constructor(t){super(t),this.removeGroupControls=Ir,this.removeListeners=Ir,this.controls=new Vge(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ir}unmount(){this.removeGroupControls(),this.removeListeners()}}const CD=e=>(t,n)=>{e&&lr.update(()=>e(t,n))};class Hge extends oc{constructor(){super(...arguments),this.removePointerDownListener=Ir}onPointerDown(t){this.session=new L$(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:U$(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:CD(t),onStart:CD(n),onMove:r,onEnd:(i,o)=>{delete this.session,a&&lr.update(()=>a(i,o))}}}mount(){this.removePointerDownListener=$s(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Kge(){const e=g.useContext(QN);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,a=g.useId();return g.useEffect(()=>r(a),[]),!t&&n?[!1,()=>n&&n(a)]:[!0]}const ng={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function AD(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const kf={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Jt.test(e))e=parseFloat(e);else return e;const n=AD(e,t.target.x),r=AD(e,t.target.y);return`${n}% ${r}%`}},Gge={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=Zl.parse(e);if(a.length>5)return r;const i=Zl.createTransformer(e),o=typeof a[0]!="number"?1:0,s=n.x.scale*t.x,l=n.y.scale*t.y;a[0+o]/=s,a[1+o]/=l;const u=br(s,l,.5);return typeof a[2+o]=="number"&&(a[2+o]/=u),typeof a[3+o]=="number"&&(a[3+o]/=u),i(a)}};class Yge extends B0.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:i}=t;tme(Jge),i&&(n.group&&n.group.add(i),r&&r.register&&a&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ng.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,a||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||lr.postRender(()=>{const s=o.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function V$(e){const[t,n]=Kge(),r=g.useContext(RR);return B0.createElement(Yge,{...e,layoutGroup:r,switchLayoutGroup:g.useContext($R),isPresent:t,safeToRemove:n})}const Jge={borderRadius:{...kf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:kf,borderTopRightRadius:kf,borderBottomLeftRadius:kf,borderBottomRightRadius:kf,boxShadow:Gge},W$=["TopLeft","TopRight","BottomLeft","BottomRight"],Zge=W$.length,MD=e=>typeof e=="string"?parseFloat(e):e,ED=e=>typeof e=="number"||Jt.test(e);function Qge(e,t,n,r,a,i){a?(e.opacity=br(0,n.opacity!==void 0?n.opacity:1,Xge(r)),e.opacityExit=br(t.opacity!==void 0?t.opacity:1,0,e0e(r))):i&&(e.opacity=br(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Zge;o++){const s=`border${W$[o]}Radius`;let l=DD(t,s),u=DD(n,s);l===void 0&&u===void 0||(l||(l=0),u||(u=0),l===0||u===0||ED(l)===ED(u)?(e[s]=Math.max(br(MD(l),MD(u),r),0),(is.test(u)||is.test(l))&&(e[s]+="%")):e[s]=u)}(t.rotate||n.rotate)&&(e.rotate=br(t.rotate||0,n.rotate||0,r))}function DD(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Xge=q$(0,.5,p$),e0e=q$(.5,.95,Ir);function q$(e,t,n){return r=>r<e?0:r>t?1:n(Rp(e,t,r))}function PD(e,t){e.min=t.min,e.max=t.max}function qi(e,t){PD(e.x,t.x),PD(e.y,t.y)}function TD(e,t,n,r,a){return e-=t,e=R0(e,1/n,r),a!==void 0&&(e=R0(e,1/a,r)),e}function t0e(e,t=0,n=1,r=.5,a,i=e,o=e){if(is.test(t)&&(t=parseFloat(t),t=br(o.min,o.max,t/100)-o.min),typeof t!="number")return;let s=br(i.min,i.max,r);e===i&&(s-=t),e.min=TD(e.min,t,n,s,a),e.max=TD(e.max,t,n,s,a)}function OD(e,t,[n,r,a],i,o){t0e(e,t[n],t[r],t[a],t.scale,i,o)}const n0e=["x","scaleX","originX"],r0e=["y","scaleY","originY"];function ID(e,t,n,r){OD(e.x,t,n0e,n?n.x:void 0,r?r.x:void 0),OD(e.y,t,r0e,n?n.y:void 0,r?r.y:void 0)}function _D(e){return e.translate===0&&e.scale===1}function H$(e){return _D(e.x)&&_D(e.y)}function a0e(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function K$(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function LD(e){return Fi(e.x)/Fi(e.y)}class i0e{constructor(){this.members=[]}add(t){g2(this.members,t),t.scheduleRender()}remove(t){if(y2(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function FD(e,t,n){let r="";const a=e.x.translate/t.x,i=e.y.translate/t.y;if((a||i)&&(r=`translate3d(${a}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:u,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,s=e.y.scale*t.y;return(o!==1||s!==1)&&(r+=`scale(${o}, ${s})`),r||"none"}const o0e=(e,t)=>e.depth-t.depth;class s0e{constructor(){this.children=[],this.isDirty=!1}add(t){g2(this.children,t),this.isDirty=!0}remove(t){y2(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(o0e),this.isDirty=!1,this.children.forEach(t)}}function l0e(e,t){const n=performance.now(),r=({timestamp:a})=>{const i=a-n;i>=t&&(el(r),e(i-t))};return lr.read(r,!0),()=>el(r)}function c0e(e){window.MotionDebug&&window.MotionDebug.record(e)}function u0e(e){return e instanceof SVGElement&&e.tagName!=="svg"}function d0e(e,t,n){const r=hi(e)?e:Ed(e);return r.start(h2("",r,t,n)),r.animation}const RD=["","X","Y","Z"],f0e={visibility:"hidden"},$D=1e3;let p0e=0;const Ec={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function G$({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(i={},o=t==null?void 0:t()){this.id=p0e++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ec.totalNodes=Ec.resolvedTargetDeltas=Ec.recalculatedProjection=0,this.nodes.forEach(g0e),this.nodes.forEach(w0e),this.nodes.forEach(k0e),this.nodes.forEach(y0e),c0e(Ec)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let s=0;s<this.path.length;s++)this.path[s].shouldResetTransform=!0;this.root===this&&(this.nodes=new s0e)}addEventListener(i,o){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new v2),this.eventHandlers.get(i).add(o)}notifyListeners(i,...o){const s=this.eventHandlers.get(i);s&&s.notify(...o)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=u0e(i),this.instance=i;const{layoutId:s,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(l||s)&&(this.isLayoutDirty=!0),e){let d;const f=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=l0e(f,250),ng.hasAnimatedSinceResize&&(ng.hasAnimatedSinceResize=!1,this.nodes.forEach(zD))})}s&&this.root.registerSharedNode(s,this),this.options.animate!==!1&&u&&(s||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const h=this.options.transition||u.getDefaultTransition()||A0e,{onLayoutAnimationStart:v,onLayoutAnimationComplete:b}=u.getProps(),y=!this.targetLayout||!K$(this.targetLayout,m)||p,x=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,x);const w={...m2(h,"layout"),onPlay:v,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else f||zD(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,el(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(S0e),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:s}=this.options;if(o===void 0&&!s)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(BD);return}this.isUpdating||this.nodes.forEach(b0e),this.isUpdating=!1,this.nodes.forEach(x0e),this.nodes.forEach(m0e),this.nodes.forEach(h0e),this.clearAllSnapshots();const i=performance.now();Ia.delta=Jl(0,1e3/60,i-Ia.timestamp),Ia.timestamp=i,Ia.isProcessing=!0,Ub.update.process(Ia),Ub.preRender.process(Ia),Ub.render.process(Ia),Ia.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(v0e),this.sharedNodes.forEach(N0e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,lr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){lr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let s=0;s<this.path.length;s++)this.path[s].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=$r(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!a)return;const i=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!H$(this.projectionDelta),s=this.getTransformTemplate(),l=s?s(this.latestValues,""):void 0,u=l!==this.prevTransformTemplateValue;i&&(o||Mc(this.latestValues)||u)&&(a(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const o=this.measurePageBox();let s=this.removeElementScroll(o);return i&&(s=this.removeTransform(s)),M0e(s),{animationId:this.root.animationId,measuredBox:o,layoutBox:s,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return $r();const o=i.measureViewportBox(),{scroll:s}=this.root;return s&&(Cl(o.x,s.offset.x),Cl(o.y,s.offset.y)),o}removeElementScroll(i){const o=$r();qi(o,i);for(let s=0;s<this.path.length;s++){const l=this.path[s],{scroll:u,options:d}=l;if(l!==this.root&&u&&d.layoutScroll){if(u.isRoot){qi(o,i);const{scroll:f}=this.root;f&&(Cl(o.x,-f.offset.x),Cl(o.y,-f.offset.y))}Cl(o.x,u.offset.x),Cl(o.y,u.offset.y)}}return o}applyTransform(i,o=!1){const s=$r();qi(s,i);for(let l=0;l<this.path.length;l++){const u=this.path[l];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Qu(s,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Mc(u.latestValues)&&Qu(s,u.latestValues)}return Mc(this.latestValues)&&Qu(s,this.latestValues),s}removeTransform(i){const o=$r();qi(o,i);for(let s=0;s<this.path.length;s++){const l=this.path[s];if(!l.instance||!Mc(l.latestValues))continue;v1(l.latestValues)&&l.updateSnapshot();const u=$r(),d=l.measurePageBox();qi(u,d),ID(o,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,u)}return Mc(this.latestValues)&&ID(o,this.latestValues),o}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ia.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var o;const s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==s;if(!(i||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:u,layoutId:d}=this.options;if(!(!this.layout||!(u||d))){if(this.resolvedRelativeTargetAt=Ia.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$r(),this.relativeTargetOrigin=$r(),Zf(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),qi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=$r(),this.targetWithTransforms=$r()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Ege(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):qi(this.target,this.layout.layoutBox),B$(this.target,this.targetDelta)):qi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$r(),this.relativeTargetOrigin=$r(),Zf(this.relativeTargetOrigin,this.target,f.target),qi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ec.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||v1(this.parent.latestValues)||$$(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const o=this.getLead(),s=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(l=!1),s&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ia.timestamp&&(l=!1),l)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;qi(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;Rge(this.layoutCorrected,this.treeScale,this.path,s),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:m}=o;if(!m){this.projectionTransform&&(this.projectionDelta=Zu(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Zu(),this.projectionDeltaWithTransform=Zu());const h=this.projectionTransform;Jf(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=FD(this.projectionDelta,this.treeScale),(this.projectionTransform!==h||this.treeScale.x!==f||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),Ec.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,o=!1){const s=this.snapshot,l=s?s.latestValues:{},u={...this.latestValues},d=Zu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=$r(),p=s?s.source:void 0,m=this.layout?this.layout.source:void 0,h=p!==m,v=this.getStack(),b=!v||v.members.length<=1,y=!!(h&&!b&&this.options.crossfade===!0&&!this.path.some(C0e));this.animationProgress=0;let x;this.mixTargetDelta=w=>{const S=w/1e3;UD(d.x,i.x,S),UD(d.y,i.y,S),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Zf(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),j0e(this.relativeTarget,this.relativeTargetOrigin,f,S),x&&a0e(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=$r()),qi(x,this.relativeTarget)),h&&(this.animationValues=u,Qge(u,l,this.latestValues,S,y,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(el(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=lr.update(()=>{ng.hasAnimatedSinceResize=!0,this.currentAnimation=d0e(0,$D,{...i,onUpdate:o=>{this.mixTargetDelta(o),i.onUpdate&&i.onUpdate(o)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($D),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:o,target:s,layout:l,latestValues:u}=i;if(!(!o||!s||!l)){if(this!==i&&this.layout&&l&&Y$(this.options.animationType,this.layout.layoutBox,l.layoutBox)){s=this.target||$r();const d=Fi(this.layout.layoutBox.x);s.x.min=i.target.x.min,s.x.max=s.x.min+d;const f=Fi(this.layout.layoutBox.y);s.y.min=i.target.y.min,s.y.max=s.y.min+f}qi(o,s),Qu(o,u),Jf(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(i,o){this.sharedNodes.has(i)||this.sharedNodes.set(i,new i0e),this.sharedNodes.get(i).add(o);const s=o.options.initialPromotionConfig;o.promote({transition:s?s.transition:void 0,preserveFollowOpacity:s&&s.shouldPreserveFollowOpacity?s.shouldPreserveFollowOpacity(o):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:o}=this.options;return o?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:o}=this.options;return o?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:o,preserveFollowOpacity:s}={}){const l=this.getStack();l&&l.promote(this,s),i&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetRotation(){const{visualElement:i}=this.options;if(!i)return;let o=!1;const{latestValues:s}=i;if((s.rotate||s.rotateX||s.rotateY||s.rotateZ)&&(o=!0),!o)return;const l={};for(let u=0;u<RD.length;u++){const d="rotate"+RD[u];s[d]&&(l[d]=s[d],i.setStaticValue(d,0))}i.render();for(const u in l)i.setStaticValue(u,l[u]);i.scheduleRender()}getProjectionStyles(i){var o,s;if(!this.instance||this.isSVG)return;if(!this.isVisible)return f0e;const l={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=tg(i==null?void 0:i.pointerEvents)||"",l.transform=u?u(this.latestValues,""):"none",l;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const h={};return this.options.layoutId&&(h.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,h.pointerEvents=tg(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!Mc(this.latestValues)&&(h.transform=u?u({},""):"none",this.hasProjected=!1),h}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),l.transform=FD(this.projectionDeltaWithTransform,this.treeScale,f),u&&(l.transform=u(f,l.transform));const{x:p,y:m}=this.projectionDelta;l.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,d.animationValues?l.opacity=d===this?(s=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&s!==void 0?s:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:l.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const h in P0){if(f[h]===void 0)continue;const{correct:v,applyTo:b}=P0[h],y=l.transform==="none"?f[h]:v(f[h],d);if(b){const x=b.length;for(let w=0;w<x;w++)l[b[w]]=y}else l[h]=y}return this.options.layoutId&&(l.pointerEvents=d===this?tg(i==null?void 0:i.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var o;return(o=i.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(BD),this.root.sharedNodes.clear()}}}function m0e(e){e.updateLayout()}function h0e(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?Gi(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=Fi(p);p.min=r[f].min,p.max=p.min+m}):Y$(i,n.layoutBox,r)&&Gi(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=Fi(r[f]);p.max=p.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const s=Zu();Jf(s,r,n.layoutBox);const l=Zu();o?Jf(l,e.applyTransform(a,!0),n.measuredBox):Jf(l,r,n.layoutBox);const u=!H$(s);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const h=$r();Zf(h,n.layoutBox,p.layoutBox);const v=$r();Zf(v,r,m.layoutBox),K$(h,v)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=h,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:s,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function g0e(e){Ec.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function y0e(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function v0e(e){e.clearSnapshot()}function BD(e){e.clearMeasurements()}function b0e(e){e.isLayoutDirty=!1}function x0e(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function zD(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function w0e(e){e.resolveTargetDelta()}function k0e(e){e.calcProjection()}function S0e(e){e.resetRotation()}function N0e(e){e.removeLeadSnapshot()}function UD(e,t,n){e.translate=br(t.translate,0,n),e.scale=br(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function VD(e,t,n,r){e.min=br(t.min,n.min,r),e.max=br(t.max,n.max,r)}function j0e(e,t,n,r){VD(e.x,t.x,n.x,r),VD(e.y,t.y,n.y,r)}function C0e(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const A0e={duration:.45,ease:[.4,0,.1,1]},WD=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),qD=WD("applewebkit/")&&!WD("chrome/")?Math.round:Ir;function HD(e){e.min=qD(e.min),e.max=qD(e.max)}function M0e(e){HD(e.x),HD(e.y)}function Y$(e,t,n){return e==="position"||e==="preserve-aspect"&&!g1(LD(t),LD(n),.2)}const E0e=G$({attachResizeListener:(e,t)=>Is(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Xb={current:void 0},J$=G$({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Xb.current){const e=new E0e({});e.mount(window),e.setOptions({layoutScroll:!0}),Xb.current=e}return Xb.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),D0e={pan:{Feature:Hge},drag:{Feature:qge,ProjectionNode:J$,MeasureLayout:V$}},P0e=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function T0e(e){const t=P0e.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function x1(e,t,n=1){const[r,a]=T0e(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return T$(o)?parseFloat(o):o}else return c1(a)?x1(a,t,n+1):a}function O0e(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(a=>{const i=a.get();if(!c1(i))return;const o=x1(i,r);o&&a.set(o)});for(const a in t){const i=t[a];if(!c1(i))continue;const o=x1(i,r);o&&(t[a]=o,n||(n={}),n[a]===void 0&&(n[a]=i))}return{target:t,transitionEnd:n}}const I0e=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Z$=e=>I0e.has(e),_0e=e=>Object.keys(e).some(Z$),KD=e=>e===gu||e===Jt,GD=(e,t)=>parseFloat(e.split(", ")[t]),YD=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const a=r.match(/^matrix3d\((.+)\)$/);if(a)return GD(a[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?GD(i[1],e):0}},L0e=new Set(["x","y","z"]),F0e=Nm.filter(e=>!L0e.has(e));function R0e(e){const t=[];return F0e.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Dd={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:YD(4,13),y:YD(5,14)};Dd.translateX=Dd.x;Dd.translateY=Dd.y;const $0e=(e,t,n)=>{const r=t.measureViewportBox(),a=t.current,i=getComputedStyle(a),{display:o}=i,s={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{s[u]=Dd[u](r,i)}),t.render();const l=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(s[u]),e[u]=Dd[u](l,i)}),e},B0e=(e,t,n={},r={})=>{t={...t},r={...r};const a=Object.keys(t).filter(Z$);let i=[],o=!1;const s=[];if(a.forEach(l=>{const u=e.getValue(l);if(!e.hasValue(l))return;let d=n[l],f=wf(d);const p=t[l];let m;if(O0(p)){const h=p.length,v=p[0]===null?1:0;d=p[v],f=wf(d);for(let b=v;b<h&&p[b]!==null;b++)m?c2(wf(p[b])===m):m=wf(p[b])}else m=wf(p);if(f!==m)if(KD(f)&&KD(m)){const h=u.get();typeof h=="string"&&u.set(parseFloat(h)),typeof p=="string"?t[l]=parseFloat(p):Array.isArray(p)&&m===Jt&&(t[l]=p.map(parseFloat))}else f!=null&&f.transform&&m!=null&&m.transform&&(d===0||p===0)?d===0?u.set(m.transform(d)):t[l]=f.transform(p):(o||(i=R0e(e),o=!0),s.push(l),r[l]=r[l]!==void 0?r[l]:t[l],u.jump(p))}),s.length){const l=s.indexOf("height")>=0?window.pageYOffset:null,u=$0e(t,e,s);return i.length&&i.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),uv&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function z0e(e,t,n,r){return _0e(t)?B0e(e,t,n,r):{target:t,transitionEnd:r}}const U0e=(e,t,n,r)=>{const a=O0e(e,t,r);return t=a.target,r=a.transitionEnd,z0e(e,t,n,r)},w1={current:null},Q$={current:!1};function V0e(){if(Q$.current=!0,!!uv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>w1.current=e.matches;e.addListener(t),t()}else w1.current=!1}function W0e(e,t,n){const{willChange:r}=t;for(const a in t){const i=t[a],o=n[a];if(hi(i))e.addValue(a,i),F0(r)&&r.add(a);else if(hi(o))e.addValue(a,Ed(i,{owner:e})),F0(r)&&r.remove(a);else if(o!==i)if(e.hasValue(a)){const s=e.getValue(a);!s.hasAnimated&&s.set(i)}else{const s=e.getStaticValue(a);e.addValue(a,Ed(s!==void 0?s:i,{owner:e}))}}for(const a in n)t[a]===void 0&&e.removeValue(a);return t}const JD=new WeakMap,X$=Object.keys(Fp),q0e=X$.length,ZD=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],H0e=t2.length;class K0e{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>lr.render(this.render,!1,!0);const{latestValues:s,renderState:l}=i;this.latestValues=s,this.baseTarget={...s},this.initialValues=n.initial?{...s}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.isControllingVariants=fv(n),this.isVariantNode=FR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const p=d[f];s[f]!==void 0&&hi(p)&&(p.set(s[f],!1),F0(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,JD.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Q$.current||V0e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:w1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){JD.delete(this.current),this.projection&&this.projection.unmount(),el(this.notifyUpdate),el(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=hu.has(t),a=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&lr.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{a(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,a,i){let o,s;for(let l=0;l<q0e;l++){const u=X$[l],{isEnabled:d,Feature:f,ProjectionNode:p,MeasureLayout:m}=Fp[u];p&&(o=p),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),m&&(s=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:d,dragConstraints:f,layoutScroll:p,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!d||f&&Yu(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:m})}return s}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$r()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<ZD.length;r++){const a=ZD[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i=t["on"+a];i&&(this.propEventSubscriptions[a]=this.on(a,i))}this.prevMotionValues=W0e(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<H0e;r++){const a=t2[r],i=this.props[a];(Lp(i)||i===!1)&&(n[a]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Ed(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,a=typeof r=="string"||typeof r=="object"?(n=l2(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!hi(i)?i:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new v2),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class e6 extends K0e{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:a},i){let o=uge(r,t||{},this);if(a&&(n&&(n=a(n)),r&&(r=a(r)),o&&(o=a(o))),i){lge(this,r,o);const s=U0e(this,r,o,n);n=s.transitionEnd,r=s.target}return{transition:t,transitionEnd:n,...r}}}function G0e(e){return window.getComputedStyle(e)}class Y0e extends e6{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(hu.has(n)){const r=p2(n);return r&&r.default||0}else{const r=G0e(t),a=(UR(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return z$(t,n)}build(t,n,r,a){r2(t,n,r,a.transformTemplate)}scrapeMotionValuesFromProps(t,n){return s2(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;hi(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,a){GR(t,n,r,a)}}class J0e extends e6{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(hu.has(n)){const r=p2(n);return r&&r.default||0}return n=YR.has(n)?n:XN(n),t.getAttribute(n)}measureInstanceViewportBox(){return $r()}scrapeMotionValuesFromProps(t,n){return ZR(t,n)}build(t,n,r,a){i2(t,n,r,this.isSVGTag,a.transformTemplate)}renderInstance(t,n,r,a){JR(t,n,r,a)}mount(t){this.isSVGTag=o2(t.tagName),super.mount(t)}}const Z0e=(e,t)=>n2(e)?new J0e(t,{enableHardwareAcceleration:!1}):new Y0e(t,{enableHardwareAcceleration:!0}),Q0e={layout:{ProjectionNode:J$,MeasureLayout:V$}},X0e={...jge,...qme,...D0e,...Q0e},Jo=Xpe((e,t)=>Tme(e,t,X0e,Z0e));function eye({isOpen:e,onClose:t,searchValue:n,searchFocused:r,searchResults:a,onSearchChange:i,onSearchFocus:o,onSearchBlur:s,onSearchEnter:l,onSearchResultMouseDown:u,renderHighlightedMatch:d,searchRef:f,tocItems:p,activeTocId:m,onTocClick:h,contentRef:v,children:b}){return e?c.jsx("div",{className:"app-modal-overlay fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-lg",onClick:y=>y.target===y.currentTarget&&t(),children:c.jsxs("div",{className:"app-modal-card proof-of-work-modal relative w-full max-w-4xl bg-[#10151b]/95 border border-white/10 rounded-xl shadow-[0_20px_60px_rgba(0,0,0,0.55)] p-6 overflow-hidden",children:[c.jsxs("div",{className:"pointer-events-none absolute inset-0 opacity-60",children:[c.jsx("div",{className:"absolute -top-24 -right-24 h-56 w-56 rounded-full bg-cyan-500/8 blur-3xl"}),c.jsx("div",{className:"absolute -bottom-24 -left-16 h-64 w-64 rounded-full bg-slate-500/10 blur-3xl"})]}),c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-cyan-300/70",children:"Proof of Work"}),c.jsx("div",{className:"text-xl font-semibold text-white mt-1",children:"Metrics Specification"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:"relative",ref:f,children:[c.jsx("input",{type:"text",value:n,onChange:y=>i(y.target.value),onFocus:o,onBlur:y=>s(y.relatedTarget),onKeyDown:y=>{y.key==="Enter"&&l()},placeholder:"Search spec...",className:"proof-of-work-search w-56 rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/30"}),r&&a.length>0&&n.trim().length>=2&&c.jsx("div",{className:"proof-of-work-search-results absolute right-0 mt-2 w-80 max-h-64 overflow-y-auto rounded-lg border border-white/10 bg-[#0d1218]/95 shadow-2xl z-10",children:a.map((y,x)=>c.jsxs("button",{className:"w-full text-left px-3 py-2 text-xs text-gray-200 hover:bg-white/10 border-b border-white/5 last:border-b-0",onMouseDown:w=>{w.preventDefault(),u(y)},children:[c.jsx("div",{className:"text-[10px] uppercase tracking-wide text-gray-500 mb-1",children:y.section}),c.jsx("div",{className:"truncate",children:d(y.text,n)})]},`${y.hitId}-${x}-${y.text}`))})]}),c.jsx("button",{onClick:t,className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":"Close proof of work",children:c.jsx(ma,{className:"w-5 h-5"})})]})]}),c.jsx("div",{className:"h-[65vh]",children:c.jsxs("div",{className:"grid grid-cols-[230px_1fr] gap-4 h-full min-h-0",children:[c.jsxs("div",{className:"proof-of-work-sidebar h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-white/5 p-3",children:[c.jsx("div",{className:"proof-of-work-toc-header text-[10px] uppercase tracking-[0.3em] text-gray-400 mb-2",children:"On This Page"}),c.jsxs("div",{className:"space-y-1",children:[p.length===0&&c.jsx("div",{className:"px-2 py-1 text-[11px] text-gray-500",children:"Loading sections"}),p.map((y,x)=>{const w=y.id===m;return c.jsxs("button",{"data-toc-active":w?"true":"false",className:`proof-of-work-toc-item ${y.level===1?"proof-of-work-toc-item--l1":y.level===2?"proof-of-work-toc-item--l2":"proof-of-work-toc-item--l3"} w-full text-left flex items-center gap-2 min-w-0 transition-colors ${w?"proof-of-work-toc-item--active !text-cyan-300 hover:!text-cyan-300":y.level===1?"text-white hover:text-white":"text-gray-400 hover:text-gray-200"}`,onClick:()=>h(y),children:[c.jsx("span",{className:`proof-of-work-toc-dot ${w?"!bg-cyan-300":""}`,"aria-hidden":"true"}),c.jsx("span",{className:"proof-of-work-toc-label text-[13px] font-medium truncate min-w-0",children:y.text})]},`${y.id}-${y.level}-${x}`)})]})]}),c.jsx("div",{className:"proof-of-work-content h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-black/30 p-4",ref:v,id:"metrics-spec-content",children:c.jsx("div",{className:"space-y-4 text-sm text-gray-200",children:b})})]})})]})}):null}const kc="border border-white/10 rounded-2xl shadow-xl backdrop-blur-md glass-card",k1="arcbridge_web_theme_override",QD="arcbridge_web_kinetic_font_override",XD="__default__",t6=e=>{if(typeof document>"u")return null;const t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=document.cookie.match(new RegExp(`(?:^|; )${t}=([^;]*)`));if(!n)return null;try{return decodeURIComponent(n[1])}catch{return n[1]}},eP=(e,t,n=365)=>{if(typeof document>"u")return;const r=Math.max(0,Math.floor(n*24*60*60));document.cookie=`${e}=${encodeURIComponent(t)}; Max-Age=${r}; Path=/; SameSite=Lax`},tye=e=>{typeof document>"u"||(document.cookie=`${e}=; Max-Age=0; Path=/; SameSite=Lax`)},nye=(e,t)=>{if(!e||!t)return e;try{const n=new URL(e,window.location.origin);return n.searchParams.set("themeId",t),/^https?:\/\//i.test(e)?n.toString():`${n.pathname}${n.search}${n.hash}`}catch{const n=e.includes("?")?"&":"?";return`${e}${n}themeId=${encodeURIComponent(t)}`}},rye=(e,t,n)=>{const r=new URL(e);return r.searchParams.set("report",t||""),n&&r.searchParams.set("themeId",n),r.toString()},S1=e=>e?e===TN?!0:Df.some(t=>t.id===e):!1,aye=()=>{const e=new URLSearchParams(window.location.search),t=e.get("themeId")||e.get("theme");if(t&&S1(t))return t;const n=t6(k1);if(!n)return null;try{const r=JSON.parse(n),a=typeof(r==null?void 0:r.themeId)=="string"?r.themeId:null;return a&&S1(a)?a:null}catch{return null}},tP=(e,t)=>e?e===j0?"matte":e===C0||e===Wf?"kinetic":e===TN?"crt":t==="modern"||t==="classic"?t:"classic":t,nP=(e,t)=>{try{const n=new Date(e),r=new Date(t);return Number.isNaN(n.getTime())||Number.isNaN(r.getTime())?"":`${n.toLocaleString()} - ${r.toLocaleString()}`}catch{return""}},iye=e=>{const t=new Date(e);if(Number.isNaN(t.getTime()))return"Raid";const n=`${t.getMonth()+1}/${t.getDate()}/${String(t.getFullYear()).slice(-2)}`,r=t.toLocaleDateString(void 0,{weekday:"long"}),a=t.getHours();let i="Night";return a>=5&&a<12?i="Morning":a>=12&&a<17?i="Afternoon":a>=17&&a<21&&(i="Evening"),`${n} - ${r} ${i} Raid`},rP=e=>e.toLowerCase().trim().replace(/\[(.*?)\]\(.*?\)/g,"$1").replace(/`([^`]+)`/g,"$1").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),oye=({slices:e})=>{const t=2*Math.PI*18,n=e.reduce((a,i)=>a+(i.value||0),0);let r=0;return c.jsxs("svg",{className:"report-mini-donut",width:"48",height:"48",viewBox:"0 0 48 48",children:[c.jsx("circle",{cx:"24",cy:"24",r:18,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),e.map((a,i)=>{const o=a.value||0,s=n>0?o/n*t:0,l=`${s} ${t-s}`,u=t-r;return r+=s,c.jsx("circle",{cx:"24",cy:"24",r:18,stroke:a.color,strokeWidth:"6",fill:"none",strokeLinecap:"butt",strokeDasharray:l,strokeDashoffset:u,transform:"rotate(-90 24 24)"},`${i}-${a.color}`)})]})},sye=({value:e})=>{const t=typeof e=="number"?Math.min(Math.max(e,0),1):null,n=18,r=2*Math.PI*n,a=t===null?r:r-t*r;return c.jsxs("svg",{className:"report-mini-donut",width:"48",height:"48",viewBox:"0 0 48 48",children:[c.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),c.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(16,185,129,0.9)",strokeWidth:"6",fill:"none",strokeLinecap:"round",strokeDasharray:r,strokeDashoffset:a,transform:"rotate(-90 24 24)"}),c.jsx("text",{x:"24",y:"27",textAnchor:"middle",fontSize:"10",fill:"#e2e8f0",children:t===null?"--":`${Math.round(t*100)}%`})]})};function lye(){var e;const t=aye(),[n,r]=g.useState(null),[a,i]=g.useState(null),[o,s]=g.useState(null),[l,u]=g.useState(null),[d,f]=g.useState(""),[p,m]=g.useState(null),[h,v]=g.useState(null),[b,y]=g.useState(!1),[x,w]=g.useState(!1),[S,j]=g.useState(()=>tP(t,"classic")),[N,A]=g.useState("classic"),[P,B]=g.useState(Qh.id),[D,I]=g.useState(t),O=g.useMemo(()=>{const G=new URLSearchParams(window.location.search),xe=G.get("themeId")||G.get("theme");return xe&&S1(xe)?xe:null},[]),[H,J]=g.useState("default"),[ie,we]=g.useState(!1),[te,q]=g.useState(!1),[W,k]=g.useState(!1),[$,T]=g.useState(""),[C,R]=g.useState(""),[V,Q]=g.useState([]),[ce,Y]=g.useState(!1),[L,z]=g.useState("overview"),[re,F]=g.useState("kdr"),[le,ye]=g.useState({overview:!0,roster:!1,offense:!1,defense:!1,other:!1}),K=g.useRef(null),me=g.useRef(null),Te=g.useRef(null),pt=g.useRef(null),Oe=g.useRef(null),oe=g.useRef(null),Fe=g.useRef(new Map),X=g.useRef(null),yt=g.useRef(null),Ot=g.useMemo(()=>{let G=window.location.pathname||"/";const xe=/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host);return G.endsWith("/index.html")&&(G=G.slice(0,-11)),G.includes("/reports/")&&(G=G.replace(/\/reports\/[^/]+\/?$/,"")),xe&&(G=G.replace(/^\/web\/web(?=\/|$)/,"/web")),G.endsWith("/")||(G=`${G}/`),G},[]),zn=g.useMemo(()=>new URL(Ot,window.location.origin).toString(),[Ot]),Se=g.useMemo(()=>O?nye(zn,O):zn,[O,zn]),Ze=g.useMemo(()=>/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/"),[]),It=g.useMemo(()=>{const G=[Ot,"./","/"],xe=[];return G.forEach(Ge=>{let gt=Ge||"/";gt!=="./"&&!gt.endsWith("/")&&(gt=`${gt}/`),xe.includes(gt)||xe.push(gt)}),xe},[Ot,Ze]),[rn,on]=g.useState(It[0]||"/"),mr=G=>{var xe;return typeof G=="string"||typeof G=="number"?String(G):Array.isArray(G)?G.map(mr).join(""):G&&typeof G=="object"&&"props"in G?mr((xe=G.props)==null?void 0:xe.children):""},Zn=G=>{const xe=rP(G||"section")||"section",Ge=Fe.current,gt=(Ge.get(xe)??0)+1;return Ge.set(xe,gt),gt===1?xe:`${xe}-${gt}`},un=g.useMemo(()=>{const G=zb.split(`
`),xe=new Map,Ge=[],gt=Bt=>{const _t=rP(Bt||"section")||"section",Nt=(xe.get(_t)??0)+1;return xe.set(_t,Nt),Nt===1?_t:`${_t}-${Nt}`};for(const Bt of G){const _t=/^(#{1,3})\s+(.*)\s*$/.exec(Bt);if(!_t)continue;const Nt=_t[1].length,yn=_t[2].trim();yn&&Ge.push({level:Nt,text:yn,id:gt(yn)})}return Ge},[zb]),Aa=(G,xe)=>{const Ge=G==="./"?"./":G.endsWith("/")?G:`${G}/`,gt=String(xe||"").replace(/^\/+/,"");return`${Ge}${gt}`};g.useEffect(()=>{const G=t6(QD);(G==="original"||G==="default")&&J(G)},[]),g.useEffect(()=>{const G=D||P,xe=Df.find(Ge=>Ge.id===G)||Qh;m(xe)},[D,P]),g.useEffect(()=>{if(!D){j(N);return}j(tP(D,N))},[D,N]),g.useEffect(()=>{on(It[0]||"/");let G=!0;return(async()=>{for(const xe of It)try{if((await fetch(Aa(xe,"ui-theme.json"),{cache:"no-store"})).ok){G&&on(xe);return}}catch{}})(),()=>{G=!1}},[It]);const gn=(G,xe)=>{const Ge=xe.trim();if(!Ge)return G;const gt=G.toLowerCase(),Bt=Ge.toLowerCase(),_t=gt.indexOf(Bt);if(_t===-1)return G;const Nt=G.slice(0,_t),yn=G.slice(_t,_t+Ge.length),dn=G.slice(_t+Ge.length);return c.jsxs(c.Fragment,{children:[Nt,c.jsx("mark",{className:"rounded bg-cyan-500/30 px-1 text-cyan-100",children:yn}),dn]})},Ln=(G,xe)=>{const Ge=me.current;if(!Ge)return;let gt=Ge.querySelector(`[data-search-hit="${G}"]`);if(!gt&&xe){const Bt=xe.trim().replace(/\s+/g," "),_t=Array.from(Ge.querySelectorAll("h1, h2, h3, p, li, code"));gt=_t.find(Nt=>(Nt.textContent||"").trim().replace(/\s+/g," ")===Bt)||null,gt||(gt=_t.find(Nt=>(Nt.textContent||"").toLowerCase().includes(Bt.toLowerCase()))||null)}gt&&requestAnimationFrame(()=>{const Bt=Ge.getBoundingClientRect(),_t=gt.getBoundingClientRect(),Nt=Math.max(0,Ge.scrollTop+(_t.top-Bt.top)-12);Ge.scrollTop=Nt,gt.classList.add("ring-2","ring-cyan-400/70","bg-cyan-500/10"),oe.current&&window.clearTimeout(oe.current),oe.current=window.setTimeout(()=>{gt.classList.remove("ring-2","ring-cyan-400/70","bg-cyan-500/10")},1600)})},hr=G=>{const xe=me.current,Ge=G.trim().toLowerCase();if(!xe||Ge.length<2){Q([]);return}const gt=Array.from(xe.querySelectorAll("h1, h2, h3, p, li, code"));gt.forEach(Nt=>Nt.removeAttribute("data-search-hit"));const Bt=[];let _t=0;gt.forEach((Nt,yn)=>{const dn=(Nt.textContent||"").trim();if(dn&&dn.toLowerCase().includes(Ge)){let gr="";for(let tr=yn;tr>=0;tr-=1){const ot=gt[tr];if(ot&&["H1","H2","H3"].includes(ot.tagName)){gr=(ot.textContent||"").trim();break}}Nt.setAttribute("data-search-hit",String(_t)),Bt.push({index:yn,text:dn,section:gr||"Unlabeled Section",hitId:_t}),_t+=1}}),Q(Bt.slice(0,12))};g.useEffect(()=>{var G;if(!W)return;T(((G=un[0])==null?void 0:G.id)||"");const xe=Ge=>{var gt;const Bt=Ge.target;Bt&&((gt=Te.current)!=null&&gt.contains(Bt)||(Y(!1),Q([])))};return window.addEventListener("mousedown",xe),()=>{window.removeEventListener("mousedown",xe)}},[W,un]),g.useEffect(()=>{if(!W){T("");return}const G=me.current;if(!G)return;let xe=0;const Ge=()=>{var Bt;const _t=Array.from(G.querySelectorAll("[data-heading-id]"));if(_t.length===0)return;const Nt=G.getBoundingClientRect().top+18,yn=_t.map((U,Z)=>({index:Z,id:U.dataset.headingId||U.id||"",top:U.getBoundingClientRect().top})).filter(U=>!!U.id);if(yn.length===0)return;let dn=0,gr=!1;for(const U of yn){if(U.top<=Nt){dn=U.index,gr=!0;continue}gr||(dn=U.index);break}G.scrollTop+G.clientHeight>=G.scrollHeight-2&&(dn=Math.max(0,yn.length-1));const tr=un[dn],ot=((Bt=yn[dn])==null?void 0:Bt.id)||"",E=(tr==null?void 0:tr.id)||ot;E&&T(E)};Ge();const gt=()=>{xe&&cancelAnimationFrame(xe),xe=requestAnimationFrame(Ge)};return G.addEventListener("scroll",gt,{passive:!0}),window.addEventListener("resize",gt),()=>{xe&&cancelAnimationFrame(xe),G.removeEventListener("scroll",gt),window.removeEventListener("resize",gt)}},[W,un]);const En=g.useMemo(()=>[{id:"overview",label:"Overview",icon:c8,sectionIds:["overview","kdr","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","timeline","map-distribution","squad-composition"],items:[{id:"kdr",label:"KDR",icon:Uc},{id:"fight-breakdown",label:"Fight Breakdown",icon:Tl},{id:"top-players",label:"Top Players",icon:Uc},{id:"top-skills-outgoing",label:"Top Skills",icon:vk},{id:"squad-composition",label:"Classes",icon:Er},{id:"timeline",label:"Squad vs Enemy Size",icon:Er},{id:"map-distribution",label:"Map Distribution",icon:Sk}]},{id:"roster",label:"Roster Intel",icon:hp,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance",icon:hp},{id:"squad-comp-fight",label:"Squad Comp",icon:Er},{id:"fight-comp",label:"Fight Comp",icon:Tl}]},{id:"offense",label:"Offensive Stats",icon:Tl,sectionIds:["offense-detailed","player-breakdown","damage-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:MF},{id:"player-breakdown",label:"Player Breakdown",icon:kk},{id:"damage-breakdown",label:"Damage Breakdown",icon:bk},{id:"spike-damage",label:"Spike Damage",icon:gp},{id:"conditions-outgoing",label:"Conditions",icon:ny}]},{id:"defense",label:"Defensive Stats",icon:gd,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","boon-output","boon-timeline","boon-uptime","support-detailed","healing-stats"],items:[{id:"defense-detailed",label:"Defense Detailed",icon:gd},{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:gp},{id:"defense-mitigation",label:"Damage Mitigation",icon:Ak},{id:"boon-output",label:"Boon Output",icon:Vc},{id:"boon-timeline",label:"Boon Timeline",icon:Ck},{id:"boon-uptime",label:"Boon Uptime",icon:zf},{id:"support-detailed",label:"Support Detailed",icon:Nk},{id:"healing-stats",label:"Healing Stats",icon:jO}]},{id:"other",label:"Other Metrics",icon:ry,sectionIds:["fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"fight-diff-mode",label:"Fight Comparison",icon:xk},{id:"special-buffs",label:"Special Buffs",icon:Mg},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:Mk},{id:"skill-usage",label:"Skill Usage",icon:wk},{id:"apm-stats",label:"APM Breakdown",icon:jk}]}],[]),sc=g.useMemo(()=>{const G=new Map;return En.forEach(xe=>{G.set(xe.id.toLowerCase(),xe.id),(xe.sectionIds||[]).forEach(Ge=>G.set(String(Ge).toLowerCase(),xe.id)),(xe.items||[]).forEach(Ge=>G.set(String(Ge.id).toLowerCase(),xe.id))}),G.set("report-top","overview"),G.set("overview","overview"),G.set("kdr","overview"),G},[En]),ya=g.useMemo(()=>En.find(G=>G.id===L)||En[0],[En,L]),_r=S==="kinetic",yu=g.useMemo(()=>{const G=((ya==null?void 0:ya.sectionIds)||((ya==null?void 0:ya.items)||[]).map(xe=>xe.id)).map(xe=>xe==="kdr"?"overview":xe);return new Set(G)},[ya]),lc=G=>{if(G==="report-top")return window.scrollTo({top:0,behavior:"smooth"}),history.replaceState&&history.replaceState(null,"","#report-top"),!0;const xe=G==="kdr"?"overview":G,Ge=xe==="overview"&&G!=="kdr"?"report-top":xe,gt=document.getElementById(Ge);if(!gt||gt.getAttribute("data-section-visible")==="false"||!gt.offsetParent)return!1;const Bt=gt.getBoundingClientRect();if(Bt.height<=0)return!1;let _t=0;if(Ge==="stats-view-top"){const yn=document.getElementById("report-top");yn&&(_t=yn.getBoundingClientRect().height+12)}const Nt=Bt.top+window.scrollY-12-_t;return window.scrollTo({top:Math.max(0,Nt),behavior:"smooth"}),history.replaceState&&history.replaceState(null,"",`#${Ge}`),!0},Ro=(G,xe=0)=>{lc(G)||xe>=12||window.setTimeout(()=>{requestAnimationFrame(()=>Ro(G,xe+1))},40)};g.useEffect(()=>{if(!n)return;const G=requestAnimationFrame(()=>{Array.from(document.querySelectorAll("[data-nav-submenu-content]")).forEach(xe=>{xe.scrollHeight})});return()=>cancelAnimationFrame(G)},[n]),g.useEffect(()=>{const G=X.current;if(!G)return;let xe=0;const Ge=()=>{if(lc(G)){X.current=null;return}if(xe+=1,xe>=20){X.current=null;return}window.setTimeout(()=>requestAnimationFrame(Ge),40)};requestAnimationFrame(Ge)},[L]),g.useEffect(()=>{const G=()=>{var xe,Ge;const gt=(window.location.hash||"").replace(/^#/,"").trim();if(!gt)return;let Bt=gt;try{Bt=decodeURIComponent(gt)}catch{Bt=gt}const _t=Bt.toLowerCase(),Nt=sc.get(_t);if(Nt){if(z(Nt),ye(()=>{const yn={};return En.forEach(dn=>{yn[dn.id]=dn.id===Nt}),yn}),_t==="report-top")F("kdr");else{const yn=En.find(dn=>dn.id.toLowerCase()===_t);F(((Ge=(xe=yn==null?void 0:yn.items)==null?void 0:xe[0])==null?void 0:Ge.id)||_t)}X.current=_t==="report-top"?"kdr":_t}};return G(),window.addEventListener("hashchange",G),()=>{window.removeEventListener("hashchange",G)}},[sc,En]);const Ma=S==="matte",fo=p??Qh,va=_r&&fo.id===Wf,Hr=_r?va?"142, 155, 214":"90, 80, 68":fo.rgb,Ea=Ma?"#d8e1eb":_r?va?"#f0d8a9":"#24211d":"var(--accent)",ba={"--accent":`rgb(${Hr})`,"--accent-rgb":Hr,"--accent-soft":`rgba(${Hr}, ${_r?va?"0.22":"0.18":"0.32"})`,"--accent-strong":`rgba(${Hr}, ${_r?va?"0.86":"0.78":"0.95"})`,"--accent-border":`rgba(${Hr}, ${_r?va?"0.32":"0.22":"0.4"})`,"--accent-glow":`rgba(${Hr}, ${_r?va?"0.14":"0.08":"0.18"})`,"--accent-glow-soft":`rgba(${Hr}, ${_r?va?"0.08":"0.04":"0.08"})`},ll=S==="modern"||S==="matte"||S==="kinetic",ds=fo.pattern?Ma||_r?void 0:ll?`linear-gradient(180deg, rgba(14, 18, 26, 0.72), rgba(18, 24, 34, 0.78)), ${fo.pattern}`:fo.pattern:void 0,Bi=_r?{backgroundImage:"none",backgroundColor:va?"rgba(57, 64, 93, 0.9)":"rgba(220, 210, 196, 0.95)",borderColor:va?"rgba(164, 177, 228, 0.28)":"rgba(78, 67, 56, 0.18)"}:Ma?{backgroundImage:"none",backgroundColor:"var(--bg-card)"}:{backgroundImage:ll?"linear-gradient(135deg, rgba(var(--accent-rgb), 0.2), rgba(var(--accent-rgb), 0.06) 70%)":"linear-gradient(135deg, rgba(var(--accent-rgb), 0.26), rgba(var(--accent-rgb), 0.08) 70%)"};g.useEffect(()=>{var G;let xe=!0;const Ge=new URLSearchParams(window.location.search).get("report")||((G=window.location.pathname.match(/\/reports\/([^/]+)\/?$/))==null?void 0:G[1])||null,gt=Ge?`${Ot}reports/${Ge}/report.json`:`${Ot}report.json`;Ge&&u(gt);const Bt=Nt=>{var yn,dn,gr;const tr=new Set((((yn=Nt==null?void 0:Nt.meta)==null?void 0:yn.commanders)||[]).map(E=>String(E)));if(tr.size===0)return Nt;const ot=Nt.stats;return(dn=ot==null?void 0:ot.leaderboards)!=null&&dn.closestToTag&&(ot.leaderboards.closestToTag=ot.leaderboards.closestToTag.map(E=>tr.has(String(E==null?void 0:E.account))?{...E,value:0}:E)),(gr=ot==null?void 0:ot.closestToTag)!=null&&gr.player&&tr.has(String(ot.closestToTag.player))&&(ot.closestToTag={...ot.closestToTag,value:0}),Nt},_t=Nt=>{var yn,dn,gr,tr,ot;const E=Nt==null?void 0:Nt.stats;if(!E||typeof E!="object")return Nt;const U=Array.isArray((yn=E==null?void 0:E.leaderboards)==null?void 0:yn.downContrib)?E.leaderboards.downContrib:[];if(!U.length)return Nt;const Z=U.map(ae=>({...ae,value:Number((ae==null?void 0:ae.value)??0)})).filter(ae=>Number.isFinite(ae.value)).sort((ae,de)=>de.value-ae.value||String((ae==null?void 0:ae.account)||"").localeCompare(String((de==null?void 0:de.account)||"")))[0];return Z&&(E.maxDownContrib={...E.maxDownContrib||{},value:Number(Z.value||0),player:String(Z.account||((dn=E.maxDownContrib)==null?void 0:dn.player)||"-"),count:Number(Z.count||((gr=E.maxDownContrib)==null?void 0:gr.count)||0),profession:String(Z.profession||((tr=E.maxDownContrib)==null?void 0:tr.profession)||"Unknown"),professionList:Array.isArray(Z.professionList)?Z.professionList:((ot=E.maxDownContrib)==null?void 0:ot.professionList)||[]}),Nt};return fetch(gt,{cache:"no-store"}).then(Nt=>Nt.ok?Nt.json():Promise.reject()).then(Nt=>{var yn,dn,gr,tr,ot;if(!xe)return;const E=_t(Bt(Nt));if(r(E),!D){const U=(yn=E==null?void 0:E.stats)==null?void 0:yn.uiTheme;U==="modern"||U==="classic"||U==="crt"||U==="matte"||U==="kinetic"?A(U):((dn=E==null?void 0:E.stats)==null?void 0:dn.webThemeId)===j0?A("matte"):(((gr=E==null?void 0:E.stats)==null?void 0:gr.webThemeId)===C0||((tr=E==null?void 0:E.stats)==null?void 0:tr.webThemeId)===Wf)&&A("kinetic"),typeof((ot=E==null?void 0:E.stats)==null?void 0:ot.webThemeId)=="string"&&E.stats.webThemeId&&B(E.stats.webThemeId)}}).catch(()=>{if(Ge){if(!xe)return;s("Report not found yet. It may still be deploying.")}fetch(`${Ot}reports/index.json`,{cache:"no-store"}).then(Nt=>Nt.ok?Nt.json():Promise.reject()).then(Nt=>{xe&&i(Array.isArray(Nt)?Nt:[])}).catch(()=>{xe&&s("No report data found.")})}),()=>{xe=!1}},[Ot,D]),g.useEffect(()=>{if(n){const G=n.meta.dateLabel||nP(n.meta.dateStart,n.meta.dateEnd);document.title=G?`ArcBridge  ${n.meta.title}  ${G}`:`ArcBridge  ${n.meta.title}`;return}document.title="ArcBridge Reports"},[n]),g.useEffect(()=>{var G;if(D)return;const xe=(G=n==null?void 0:n.stats)==null?void 0:G.webThemeId;typeof xe=="string"&&xe&&B(xe)},[n,D]),g.useEffect(()=>{const G=document.body;G.classList.add("web-report"),G.classList.remove("theme-classic","theme-modern","theme-crt","theme-matte","theme-kinetic","theme-kinetic-dark","theme-kinetic-font-original"),Ma?G.classList.add("theme-matte"):S==="modern"?G.classList.add("theme-modern"):S==="crt"?G.classList.add("theme-crt"):S==="kinetic"?(G.classList.add("theme-kinetic"),va&&G.classList.add("theme-kinetic-dark"),H==="original"&&G.classList.add("theme-kinetic-font-original")):G.classList.add("theme-classic")},[S,Ma,va,H]),g.useEffect(()=>{var G;if(D||Ze&&(G=n==null?void 0:n.stats)!=null&&G.webThemeId)return;let xe=!0;return fetch(Aa(rn,"theme.json"),{cache:"no-store"}).then(Ge=>Ge.ok?Ge.json():Promise.reject()).then(Ge=>{xe&&typeof(Ge==null?void 0:Ge.id)=="string"&&Ge.id&&B(Ge.id)}).catch(()=>{}),()=>{xe=!1}},[rn,Ze,n,D]),g.useEffect(()=>{var G,xe;if(D)return;const Ge=(G=n==null?void 0:n.stats)==null?void 0:G.webThemeId,gt=(xe=n==null?void 0:n.stats)==null?void 0:xe.uiTheme;if((gt==="modern"||gt==="classic"||gt==="crt"||gt==="matte"||gt==="kinetic")&&!(Ge===j0&&gt!=="matte"||(Ge===C0||Ge===Wf)&&gt!=="kinetic"||Ge==="CRT"&&gt!=="crt"))return;let Bt=!0;return fetch(Aa(rn,"ui-theme.json"),{cache:"no-store"}).then(_t=>_t.ok?_t.json():Promise.reject()).then(_t=>{if(!Bt)return;const Nt=_t==null?void 0:_t.theme;(Nt==="modern"||Nt==="classic"||Nt==="crt"||Nt==="matte"||Nt==="kinetic")&&A(Nt)}).catch(()=>{}),()=>{Bt=!1}},[rn,n,D]),g.useEffect(()=>{let G=!0;return fetch(Aa(rn,"logo.json"),{cache:"no-store"}).then(xe=>xe.ok?xe.json():Promise.reject()).then(xe=>{if(!G)return;const Ge="svg/ArcBridge.svg",gt=xe!=null&&xe.path?String(xe.path):Ge,Bt=xe!=null&&xe.updatedAt?String(xe.updatedAt):"",_t=Aa(rn,gt),Nt=Bt?`${_t}?v=${encodeURIComponent(Bt)}`:_t;v(Nt),y(!(xe!=null&&xe.path)||gt===Ge)}).catch(()=>{G&&(v(null),y(!1))}),()=>{G=!1}},[rn]);const Qn=g.useMemo(()=>a?[...a].sort((G,xe)=>{const Ge=new Date(G.dateEnd||G.dateStart).getTime();return new Date(xe.dateEnd||xe.dateStart).getTime()-Ge}):[],[a]),po=g.useMemo(()=>{if(!Qn.length)return[];const G=d.trim().toLowerCase();return G?Qn.filter(xe=>{var Ge;const gt=((Ge=xe.commanders)==null?void 0:Ge.join(" "))||"";return`${xe.title} ${gt} ${xe.dateLabel}`.toLowerCase().includes(G)}):Qn},[Qn,d]),$o=G=>{if(!G){tye(k1);return}eP(k1,JSON.stringify({themeId:G}))},cc=G=>{const xe=G===XD?null:G;xe&&!Df.some(Ge=>Ge.id===xe)||(I(xe),$o(xe),we(!1))},cl=G=>{J(G),eP(QD,G),q(!1)};g.useEffect(()=>{const G=Ge=>{if(!pt.current)return;const gt=Ge.target;pt.current.contains(gt)||Oe.current&&Oe.current.contains(gt)||(we(!1),q(!1))},xe=Ge=>{Ge.key==="Escape"&&(we(!1),q(!1))};return window.addEventListener("mousedown",G),window.addEventListener("keydown",xe),()=>{window.removeEventListener("mousedown",G),window.removeEventListener("keydown",xe)}},[]),g.useEffect(()=>()=>{yt.current!==null&&(cancelAnimationFrame(yt.current),yt.current=null)},[]);const Hd=g.useMemo(()=>{if(!D)return"Default";const G=Df.find(xe=>xe.id===D);return(G==null?void 0:G.label)||"Default"},[D]),vi=c.jsxs("div",{className:"relative flex items-center gap-2",ref:pt,children:[c.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-400 whitespace-nowrap",children:"Theme"}),c.jsxs("button",{type:"button",onClick:()=>we(G=>!G),className:"w-[152px] inline-flex items-center justify-between gap-2 rounded-full border px-3 py-1 text-[9px] uppercase tracking-widest text-white transition-colors focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--accent-border)"},children:[c.jsx("span",{className:"truncate text-left",children:Hd}),c.jsx("span",{className:`transition-transform ${ie?"rotate-180":""}`,children:""})]}),ie&&c.jsxs("div",{className:"absolute right-0 bottom-[calc(100%+6px)] z-20 w-[240px] overflow-y-auto rounded-xl border shadow-2xl backdrop-blur-xl",style:{maxHeight:"240px",backgroundColor:"color-mix(in srgb, var(--bg-card) 92%, black)",borderColor:"var(--accent-border)"},children:[c.jsx("button",{type:"button",onClick:()=>cc(XD),className:"w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] text-gray-200 hover:bg-white/10 transition-colors",children:"Default"}),Df.map(G=>c.jsx("button",{type:"button",onClick:()=>cc(G.id),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${D===G.id?"text-[color:var(--accent)]":"text-gray-200"}`,children:G.label},G.id))]})]}),ul=_r?c.jsxs("div",{className:"relative flex items-center gap-2",ref:Oe,children:[c.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-400 whitespace-nowrap",children:"Font"}),c.jsxs("button",{type:"button",onClick:()=>q(G=>!G),className:"w-[152px] inline-flex items-center justify-between gap-2 rounded-full border px-3 py-1 text-[9px] uppercase tracking-widest text-white transition-colors focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--accent-border)"},children:[c.jsx("span",{className:"truncate text-left",children:H==="original"?"Original App":"Kinetic Default"}),c.jsx("span",{className:`transition-transform ${te?"rotate-180":""}`,children:""})]}),te&&c.jsxs("div",{className:"absolute right-0 bottom-[calc(100%+6px)] z-20 w-[240px] overflow-y-auto rounded-xl border shadow-2xl backdrop-blur-xl",style:{maxHeight:"180px",backgroundColor:"color-mix(in srgb, var(--bg-card) 92%, black)",borderColor:"var(--accent-border)"},children:[c.jsx("button",{type:"button",onClick:()=>cl("default"),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${H==="default"?"text-[color:var(--accent)]":"text-gray-200"}`,children:"Kinetic Default"}),c.jsx("button",{type:"button",onClick:()=>cl("original"),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${H==="original"?"text-[color:var(--accent)]":"text-gray-200"}`,children:"Original App"})]})]}):null,Bo=c.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-[11px] text-gray-500",children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-2",children:[c.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.35em] text-gray-400",children:"Legal Notice"}),c.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[c.jsx("div",{className:"min-w-[160px]",children:vi}),ul&&c.jsx("div",{className:"min-w-[160px]",children:ul}),c.jsx("a",{href:"https://github.com/darkharasho/ArcBridge",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"GitHub"}),c.jsx("a",{href:"https://discord.gg/UjzMXMGXEg",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Discord"}),c.jsx("a",{href:"#proof-of-work",onClick:G=>{G.preventDefault(),k(!0)},className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Proof of Work"})]})]}),c.jsx("p",{children:"ArcBridge is free software by harasho: you can redistribute it and/or modify it under the terms of the GNU General Public License v3.0 only. This program comes with ABSOLUTELY NO WARRANTY."}),c.jsxs("p",{className:"mt-2",children:["Class Icons, artwork, and skill icons are created and owned by Arenanet as detailed in their"," ",c.jsx("a",{href:"https://www.arena.net/en/legal/content-terms-of-use",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"Content Terms of Use"}),". I do not own or profit from this work in any way. Assets were obtained from asset packs distributed by Arenanet. The official statement from the Content Terms of Use:"]}),c.jsx("p",{className:"mt-2",children:" ArenaNet LLC. All rights reserved. NCSOFT, ArenaNet, Guild Wars, Guild Wars 2, GW2, Heart of Thorns, Path of Fire, End of Dragons, Secrets of the Obscure, Janthir Wilds, Visions of Eternity, and all associated logos, designs, and composite marks are trademarks or registered trademarks of NCSOFT Corporation. All other trademarks are the property of their respective owners."}),c.jsxs("p",{className:"mt-2",children:["See the"," ",c.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/LICENSE",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"LICENSE"})," ","and"," ",c.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/THIRD_PARTY_NOTICES.md",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"THIRD_PARTY_NOTICES.md"})," ","files for full terms and upstream attributions."]})]}),vu=c.jsxs(eye,{isOpen:W,onClose:()=>k(!1),searchValue:C,searchFocused:ce,searchResults:V,onSearchChange:G=>{R(G),requestAnimationFrame(()=>hr(G))},onSearchFocus:()=>{Y(!0),requestAnimationFrame(()=>hr(C))},onSearchBlur:G=>{var xe;G&&(xe=Te.current)!=null&&xe.contains(G)||Y(!1)},onSearchEnter:()=>{V.length>0&&Ln(V[0].hitId,V[0].text)},onSearchResultMouseDown:G=>{Y(!0),Ln(G.hitId,G.text)},renderHighlightedMatch:gn,searchRef:Te,tocItems:un,activeTocId:$,onTocClick:G=>{const xe=me.current;if(!xe)return;let Ge=xe.querySelector(`[data-heading-id="${G.id}"]`);if(!Ge){const gt=G.text.trim().replace(/\s+/g," ");Ge=Array.from(xe.querySelectorAll("h1, h2, h3")).find(Bt=>(Bt.textContent||"").trim().replace(/\s+/g," ")===gt)||null}Ge&&(T(G.id),requestAnimationFrame(()=>{const gt=xe.getBoundingClientRect(),Bt=Ge.getBoundingClientRect(),_t=xe.scrollTop+(Bt.top-gt.top)-12;xe.scrollTop=Math.max(0,_t)}))},contentRef:me,children:[(Fe.current=new Map,null),c.jsx(Ede,{remarkPlugins:[Upe],components:{h1:({children:G})=>{const xe=mr(G),Ge=Zn(xe);return c.jsx("h1",{id:Ge,"data-heading-id":Ge,className:"text-2xl font-bold text-white scroll-mt-6",children:G})},h2:({children:G})=>{const xe=mr(G),Ge=Zn(xe);return c.jsx("h2",{id:Ge,"data-heading-id":Ge,className:"text-xl font-semibold text-white scroll-mt-6",children:G})},h3:({children:G})=>{const xe=mr(G),Ge=Zn(xe);return c.jsx("h3",{id:Ge,"data-heading-id":Ge,className:"text-lg font-semibold text-white scroll-mt-6",children:G})},p:({children:G})=>c.jsx("p",{className:"leading-6 text-gray-200",children:G}),ul:({children:G})=>c.jsx("ul",{className:"list-disc pl-5 space-y-1 text-gray-200",children:G}),ol:({children:G})=>c.jsx("ol",{className:"list-decimal pl-5 space-y-1 text-gray-200",children:G}),li:({children:G})=>c.jsx("li",{className:"leading-6",children:G}),blockquote:({children:G})=>c.jsx("blockquote",{className:"border-l-2 border-blue-400/40 pl-4 text-gray-300 italic",children:G}),a:({href:G,children:xe})=>c.jsx("a",{className:"text-blue-300 hover:text-blue-200 underline underline-offset-2",href:G,target:"_blank",rel:"noreferrer",children:xe}),table:({children:G})=>c.jsx("div",{className:"overflow-x-auto rounded-xl border border-white/10 bg-black/30",children:c.jsx("table",{className:"w-full border-collapse text-left text-sm",children:G})}),th:({children:G})=>c.jsx("th",{className:"border-b border-white/10 bg-white/5 px-3 py-2 text-xs uppercase tracking-wide text-gray-300",children:G}),td:({children:G})=>c.jsx("td",{className:"border-b border-white/10 px-3 py-2 text-gray-200",children:G}),pre:({children:G})=>c.jsx("pre",{className:"overflow-x-auto rounded-xl bg-black/40 p-4 text-xs text-blue-100",children:G}),code:G=>{const{inline:xe,children:Ge}=G;return xe===!0?c.jsx("code",{className:"rounded bg-black/40 px-1.5 py-0.5 text-[11px] text-blue-200",children:Ge}):c.jsx("code",{className:"whitespace-pre-wrap text-blue-100",children:Ge})}},children:zb})]});if(n){const G=Aa(rn,"svg/ArcBridge.svg"),xe=()=>{yt.current!==null&&(cancelAnimationFrame(yt.current),yt.current=null);const ot=window.scrollY||window.pageYOffset||0;if(ot<=1){window.scrollTo({top:0,behavior:"auto"});return}const E=320,U=performance.now(),Z=ae=>{const de=ae-U,_e=Math.min(1,de/E),Ie=1-Math.pow(1-_e,3),vt=Math.max(0,Math.round(ot*(1-Ie)));window.scrollTo({top:vt,behavior:"auto"}),_e<1?yt.current=requestAnimationFrame(Z):(yt.current=null,window.scrollTo({top:0,behavior:"auto"}))};yt.current=requestAnimationFrame(Z)},Ge=ot=>{ye(()=>{const E={};return En.forEach(U=>{E[U.id]=U.id===ot}),E})},gt=ot=>{var E,U;X.current=null,z(ot);const Z=En.find(ae=>ae.id===ot);F(((U=(E=Z==null?void 0:Z.items)==null?void 0:E[0])==null?void 0:U.id)||"kdr"),xe()},Bt=ot=>{if(!le[ot]){Ge(ot),gt(ot);return}if(ot!==L){gt(ot);return}ye(E=>({...E,[ot]:!1}))},_t=(ot,E)=>{le[ot]||Ge(ot),F(E);const U=ot===L;U||(X.current=E,z(ot),requestAnimationFrame(()=>Ro(E))),U&&requestAnimationFrame(()=>Ro(E))},Nt=ot=>{const E=ot.currentTarget;if(!(E.scrollHeight>E.clientHeight)){window.scrollBy({top:ot.deltaY,behavior:"auto"}),ot.preventDefault();return}const U=E.scrollTop<=0,Z=E.scrollTop+E.clientHeight>=E.scrollHeight-1;(U&&ot.deltaY<0||Z&&ot.deltaY>0)&&(window.scrollBy({top:ot.deltaY,behavior:"auto"}),ot.preventDefault())},yn=ot=>{const E=K.current;if(!E)return;const U=ot.target;if(!U||!E.contains(U))return;let Z=U;for(;Z&&Z!==E;){const ae=window.getComputedStyle(Z).overflowY;if((ae==="auto"||ae==="scroll")&&Z.scrollHeight>Z.clientHeight+1){const de=Z.scrollTop<=0,_e=Z.scrollTop+Z.clientHeight>=Z.scrollHeight-1;(ot.deltaY<0&&de||ot.deltaY>0&&_e)&&(window.scrollBy({top:ot.deltaY,behavior:"auto"}),ot.preventDefault());return}Z=Z.parentElement}},dn=ot=>{const E=Math.max(0,6-ot);return{accordionDuration:.5+E*.07,itemDuration:.34+E*.035,stagger:.05+E*.01,delayChildren:.06+E*.015}},gr=ot=>{const E=dn(ot);return{open:{transition:{staggerChildren:E.stagger,delayChildren:E.delayChildren}},closed:{transition:{staggerChildren:Math.max(.02,E.stagger*.7),staggerDirection:-1}}}},tr={open:{opacity:1,y:0},closed:{opacity:0,y:-2}};return c.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:Ma?"var(--bg-base)":_r?va?"#2b3048":"#d8d1c5":ll?"#0f141c":"#0f172a",backgroundImage:Ma?"none":ds,...ba},children:[!Ma&&!_r&&c.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[c.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),c.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),c.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),c.jsx("div",{className:`fixed inset-0 z-20 bg-black/40 backdrop-blur-sm transition-opacity lg:hidden ${x?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>w(!1)}),c.jsx("aside",{className:`fixed z-30 top-0 bottom-0 w-64 max-w-[80vw] transition-transform duration-300 lg:hidden ${x?"translate-x-0":"-translate-x-full"}`,children:c.jsxs("div",{className:"report-nav-sidebar h-full bg-white/5 border-r border-white/10 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.45)] flex flex-col",children:[c.jsxs("div",{className:"px-5 pt-6 pb-4 flex items-center justify-between",children:[c.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"Contents"}),c.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-white transition-colors","aria-label":"Close table of contents",children:""})]}),c.jsx("div",{className:"px-5 pb-4",children:c.jsxs("a",{href:Se,className:"report-back-link w-full inline-flex items-center gap-3 px-4 py-2.5 rounded-xl bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[c.jsx("span",{className:"h-8 w-8 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:c.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[c.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),c.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})}),c.jsx("nav",{className:"px-3 pb-6 space-y-3 text-sm overflow-y-auto [overflow-anchor:none]",onWheel:Nt,children:En.map(ot=>{const E=ot.icon,U=ot.id===L,Z=!!le[ot.id],ae=dn(ot.items.length),de=gr(ot.items.length);return c.jsxs(Jo.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[c.jsxs("button",{onClick:()=>Bt(ot.id),className:`report-nav-group-btn w-full text-left flex items-center gap-3 px-3 py-2 rounded-lg border transition-colors ${U?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[c.jsx(E,{className:"report-nav-group-icon w-4 h-4 text-[color:var(--accent)]"}),c.jsx("span",{className:"report-nav-group-label text-[11px] uppercase tracking-[0.22em] whitespace-nowrap min-w-0 truncate",children:ot.label}),c.jsx(Jo.span,{className:"report-nav-chevron ml-auto inline-flex shrink-0",animate:{rotate:Z?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:c.jsx(Hx,{className:"w-4 h-4 text-gray-300"})})]}),c.jsx(Jo.div,{initial:!1,animate:Z?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:ae.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:c.jsx(Jo.div,{variants:de,initial:!1,animate:Z?"open":"closed",className:"report-nav-submenu space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:ot.items.map(_e=>{const Ie=_e.icon;return c.jsxs(Jo.button,{variants:tr,transition:{duration:ae.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>{_t(ot.id,_e.id),w(!1)},className:`report-nav-item-btn w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-md text-[12px] border transition-colors transform-gpu ${re===_e.id?"text-white border-white/20 bg-white/10":"text-gray-200 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[c.jsx(Ie,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),_e.label]},_e.id)})})},`${ot.id}-submenu-mobile`)]},ot.id)})})]})}),c.jsx("aside",{className:"report-nav-sidebar hidden lg:flex fixed inset-y-0 left-0 w-64 border-r border-white/10 bg-white/5 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.5)] z-20",children:c.jsxs("div",{className:"flex flex-col w-full",children:[c.jsx("div",{className:"px-6 pt-6 pb-5",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"h-10 w-10 rounded-2xl border border-white/20",style:{backgroundColor:Ea,maskImage:`url(${G})`,WebkitMaskImage:`url(${G})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"65%",WebkitMaskSize:"65%"},"aria-label":"ArcBridge logo"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"ArcBridge Reports"}),c.jsx("div",{className:"text-sm font-semibold text-white",children:"Navigation"})]})]})}),c.jsx("nav",{className:"px-4 space-y-4 text-sm flex-1 overflow-y-auto [overflow-anchor:none]",onWheel:Nt,children:En.map(ot=>{const E=ot.icon,U=ot.id===L,Z=!!le[ot.id],ae=dn(ot.items.length),de=gr(ot.items.length);return c.jsxs(Jo.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[c.jsxs("button",{onClick:()=>Bt(ot.id),className:`report-nav-group-btn w-full text-left flex items-center gap-3 px-3 py-2.5 rounded-xl border transition-colors ${U?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[c.jsx(E,{className:"report-nav-group-icon w-4 h-4 text-[color:var(--accent)]"}),c.jsx("span",{className:"report-nav-group-label text-[11px] uppercase tracking-[0.22em] whitespace-nowrap min-w-0 truncate",children:ot.label}),c.jsx(Jo.span,{className:"report-nav-chevron ml-auto inline-flex shrink-0",animate:{rotate:Z?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:c.jsx(Hx,{className:"w-4 h-4 text-gray-300"})})]}),c.jsx(Jo.div,{initial:!1,animate:Z?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:ae.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:c.jsx(Jo.div,{variants:de,initial:!1,animate:Z?"open":"closed",className:"report-nav-submenu space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:ot.items.map(_e=>{const Ie=_e.icon;return c.jsxs(Jo.button,{variants:tr,transition:{duration:ae.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>_t(ot.id,_e.id),className:`report-nav-item-btn w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-lg text-[12px] border transition-colors transform-gpu ${re===_e.id?"text-white border-white/20 bg-white/10":"text-gray-200 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[c.jsx(Ie,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),_e.label]},_e.id)})})},`${ot.id}-submenu-desktop`)]},ot.id)})}),c.jsx("div",{className:"border-t border-white/10",children:c.jsxs("a",{href:Se,className:"report-back-link w-full inline-flex items-center gap-3 px-6 py-4 bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[c.jsx("span",{className:"h-9 w-9 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:c.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[c.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),c.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})})]})}),c.jsxs("div",{className:"max-w-[1600px] mx-1 sm:mx-2 lg:mx-auto px-4 pt-3 pb-5 sm:px-6 sm:pt-4 sm:pb-6 lg:pl-[17rem] lg:pr-10 mobile-bottom-pad",children:[c.jsx("div",{className:`${kc} p-5 sm:p-6 mb-6 mx-1 sm:mx-1 lg:mx-0`,style:Bi,children:c.jsxs("div",{className:"flex flex-col gap-4 sm:gap-5 lg:flex-row lg:items-center lg:justify-between",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 text-center sm:text-left",children:[h&&(b?c.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:Ea,maskImage:`url(${h})`,WebkitMaskImage:`url(${h})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):c.jsx("img",{src:h,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"report-brand-label text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge Log Report"}),c.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-1",children:n.meta.title}),c.jsx("div",{className:"text-xs sm:text-sm text-gray-400 mt-2",children:n.meta.dateLabel||nP(n.meta.dateStart,n.meta.dateEnd)})]})]}),c.jsxs("button",{onClick:()=>w(!0),className:"hidden sm:flex lg:hidden px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-xs uppercase tracking-widest text-gray-300 hover:border-white/30 transition-colors items-center gap-2",children:[c.jsx(Hj,{className:"w-4 h-4"}),"Contents"]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:flex sm:flex-wrap sm:overflow-visible pr-1 sm:pr-2",children:[c.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 inline-flex items-center gap-2 min-w-0 justify-start",children:[c.jsx(e8,{className:"w-4 h-4 text-[color:var(--accent)]"}),n.meta.dateLabel||"Log Range"]}),c.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[c.jsx(Er,{className:"w-4 h-4 text-[color:var(--accent)]"}),c.jsx("span",{className:"truncate",children:n.meta.commanders.length?n.meta.commanders.join(", "):"No Commanders"})]}),c.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[c.jsx(CO,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Report ",n.meta.appVersion?`v${n.meta.appVersion}`:"build"]})]})]})}),c.jsxs("div",{className:"sm:hidden mb-4",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400 mb-2",children:"Jump to"}),c.jsx("div",{className:"flex gap-2 overflow-x-auto pr-2 pb-1 snap-x snap-mandatory",children:((ya==null?void 0:ya.items)||[]).map(ot=>{const E=ot.icon;return c.jsxs("button",{onClick:()=>_t((ya==null?void 0:ya.id)||"overview",ot.id),className:`group flex items-center gap-2 px-3 py-2 rounded-full text-[10px] uppercase tracking-widest whitespace-nowrap border bg-gradient-to-br shadow-[0_10px_25px_rgba(0,0,0,0.35)] backdrop-blur-xl transition-all duration-200 active:translate-y-0 active:scale-[0.98] snap-start ${re===ot.id?"text-white border-[color:var(--accent-border)] from-[color:var(--accent-glow)] via-white/10 to-transparent":"text-gray-200 border-white/15 from-white/10 via-white/5 to-transparent hover:-translate-y-0.5 hover:border-[color:var(--accent-border)] hover:shadow-[0_18px_35px_rgba(0,0,0,0.45)]"}`,children:[c.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-white/10 border border-white/10 group-hover:border-[color:var(--accent-border)] group-hover:bg-[color:var(--accent-glow)] transition-colors",children:c.jsx(E,{className:"w-3 h-3 text-[color:var(--accent)]"})}),ot.label]},`chip-${ot.id}`)})})]}),c.jsx("div",{ref:K,onWheelCapture:yn,className:"flex-1 min-w-0",children:c.jsx("div",{id:"stats-view-top",children:c.jsx(qoe,{logs:[],onBack:()=>{},mvpWeights:void 0,precomputedStats:n.stats,statsViewSettings:(e=n.stats)==null?void 0:e.statsViewSettings,embedded:!0,uiTheme:S,sectionVisibility:ot=>yu.has(ot),dashboardTitle:`Statistics Dashboard - ${(ya==null?void 0:ya.label)||"Overview"}`})})}),c.jsx("div",{className:"mt-10",children:Bo})]}),c.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-30 sm:hidden mobile-action-bar",children:c.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-2xl bg-slate-950/70 border border-white/15 backdrop-blur-xl px-3 py-2 shadow-[0_20px_50px_rgba(0,0,0,0.45)]",children:[c.jsxs("a",{href:Se,className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[c.jsx(SO,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Back"]}),c.jsxs("button",{onClick:()=>w(!0),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[c.jsx(Hj,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Contents"]}),c.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[c.jsx(XU,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Top"]})]})}),vu]})}return c.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:Ma?"var(--bg-base)":_r?va?"#2b3048":"#d8d1c5":ll?"#0f141c":"#0f172a",backgroundImage:Ma?"none":ds,...ba},children:[!Ma&&!_r&&c.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[c.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),c.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),c.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),c.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 pt-4 pb-8 sm:px-6 sm:pt-5 sm:pb-10",children:[c.jsxs("div",{id:"report-list-container",className:"rounded-2xl border border-white/5 bg-black/20 p-4 sm:p-6",children:[c.jsxs("div",{id:"report-top",className:`${kc} p-5 sm:p-6 mb-6 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between`,style:Bi,children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 min-h-[56px] text-center sm:text-left",children:[h&&(b?c.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:Ea,maskImage:`url(${h})`,WebkitMaskImage:`url(${h})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):c.jsx("img",{src:h,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge"}),c.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-2",children:"Command Reports"}),c.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"Select a report to view the full stats dashboard."})]})]}),c.jsx("div",{className:"flex flex-col sm:flex-row sm:items-end gap-3",children:c.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300",children:[po.length," Reports"]})})]}),c.jsxs("div",{className:`${kc} px-4 py-3 mb-6 flex flex-col md:flex-row gap-3 md:items-center md:justify-between`,style:Bi,children:[c.jsx("input",{type:"search",value:d,onChange:G=>f(G.target.value),placeholder:"Search reports, commanders, or date...",className:"w-full md:flex-1 bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-sm text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]"}),c.jsxs("div",{className:"text-[11px] sm:text-xs text-gray-400",children:["Showing ",c.jsx("span",{className:"text-[color:var(--accent)]",children:po.length})," of"," ",c.jsx("span",{className:"text-[color:var(--accent)]",children:Qn.length})]})]}),o&&c.jsxs("div",{className:"mb-6 rounded-2xl border border-amber-400/40 bg-amber-500/10 px-6 py-5 text-amber-100 shadow-xl backdrop-blur-md",style:Bi,children:[c.jsx("div",{className:"text-sm uppercase tracking-widest text-amber-200/70",children:"Warning"}),c.jsx("div",{className:"mt-2 text-base font-semibold text-white",children:o}),l&&c.jsxs("div",{className:"text-xs text-amber-100/80 mt-2",children:["Looking for: ",c.jsx("span",{className:"text-amber-50",children:l})]})]}),!o&&!a&&c.jsx("div",{className:`${kc} p-6 text-gray-300`,style:Bi,children:"Loading reports..."}),po.length>0&&c.jsx("div",{className:"flex flex-col gap-3",children:po.map(G=>{var xe,Ge,gt,Bt;return c.jsx("a",{href:rye(zn,G.id,O),className:`${kc} px-5 py-4 hover:border-[color:var(--accent-border)] transition-colors group`,style:Bi,children:c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-4",children:[c.jsxs("div",{className:"min-w-0 block text-left",children:[c.jsx("div",{className:"text-[11px] uppercase tracking-widest text-gray-400",children:G.dateLabel}),c.jsx("div",{className:"text-base sm:text-lg font-semibold mt-1 truncate",children:iye(G.dateStart)}),c.jsxs("div",{className:"text-xs text-gray-400 mt-1 flex items-center gap-2",children:[c.jsx(Er,{className:"w-4 h-4 text-[color:var(--accent)]"}),c.jsx("span",{className:"truncate",children:G.commanders.length?G.commanders.join(", "):"No Commanders"})]})]}),c.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3 sm:gap-4 sm:mt-0 mt-2 w-full sm:w-auto",children:[c.jsx("div",{className:"flex flex-col items-center gap-1 text-[10px] text-gray-400",children:(xe=G.summary)!=null&&xe.mapSlices&&G.summary.mapSlices.length>0?c.jsxs(c.Fragment,{children:[c.jsx(oye,{slices:G.summary.mapSlices}),c.jsx("span",{className:"uppercase tracking-widest",children:"Maps"})]}):c.jsxs(c.Fragment,{children:[c.jsx(sye,{value:(Ge=G.summary)==null?void 0:Ge.borderlandsPct}),c.jsx("span",{className:"uppercase tracking-widest",children:"Borderlands"})]})}),c.jsxs("div",{className:"flex flex-col items-end gap-1",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:"Avg Squad / Enemy"}),c.jsxs("div",{className:"text-sm text-white font-semibold",children:[((gt=G.summary)==null?void 0:gt.avgSquadSize)??"--"," / ",((Bt=G.summary)==null?void 0:Bt.avgEnemySize)??"--"]})]}),c.jsx(i8,{className:"w-5 h-5 text-[color:var(--accent)] opacity-60 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity"})]})]})},G.id)})}),!o&&a&&Qn.length===0&&c.jsx("div",{className:`${kc} p-6 text-gray-300`,style:Bi,children:"No reports uploaded yet."}),!o&&a&&Qn.length>0&&po.length===0&&c.jsx("div",{className:`${kc} p-6 text-gray-300`,style:Bi,children:"No reports match your search."})]}),c.jsx("div",{className:"mt-8",children:Bo})]}),vu]})}document.documentElement.classList.add("web-report");document.body.classList.add("web-report");ex.createRoot(document.getElementById("root")).render(c.jsx(B0.StrictMode,{children:c.jsx(lye,{})}));
