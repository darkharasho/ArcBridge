(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var TR=Object.defineProperty,PR=(e,t,n)=>t in e?TR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ON=(e,t,n)=>PR(e,typeof t!="symbol"?t+"":t,n);function DR(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();var mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var G5={exports:{}},Yg={},Q5={exports:{}},un={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var tp=Symbol.for("react.element"),OR=Symbol.for("react.portal"),IR=Symbol.for("react.fragment"),_R=Symbol.for("react.strict_mode"),LR=Symbol.for("react.profiler"),FR=Symbol.for("react.provider"),RR=Symbol.for("react.context"),$R=Symbol.for("react.forward_ref"),BR=Symbol.for("react.suspense"),zR=Symbol.for("react.memo"),UR=Symbol.for("react.lazy"),IN=Symbol.iterator;function VR(e){return e===null||typeof e!="object"?null:(e=IN&&e[IN]||e["@@iterator"],typeof e=="function"?e:null)}var X5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z5=Object.assign,J5={};function Yu(e,t,n){this.props=e,this.context=t,this.refs=J5,this.updater=n||X5}Yu.prototype.isReactComponent={};Yu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Yu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function eT(){}eT.prototype=Yu.prototype;function kw(e,t,n){this.props=e,this.context=t,this.refs=J5,this.updater=n||X5}var Sw=kw.prototype=new eT;Sw.constructor=kw;Z5(Sw,Yu.prototype);Sw.isPureReactComponent=!0;var _N=Array.isArray,tT=Object.prototype.hasOwnProperty,Nw={current:null},nT={key:!0,ref:!0,__self:!0,__source:!0};function rT(e,t,n){var r,a={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)tT.call(t,r)&&!nT.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(s===1)a.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)a[r]===void 0&&(a[r]=s[r]);return{$$typeof:tp,type:e,key:i,ref:o,props:a,_owner:Nw.current}}function WR(e,t){return{$$typeof:tp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function jw(e){return typeof e=="object"&&e!==null&&e.$$typeof===tp}function HR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var LN=/\/+/g;function Ey(e,t){return typeof e=="object"&&e!==null&&e.key!=null?HR(""+e.key):t.toString(36)}function Um(e,t,n,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case tp:case OR:o=!0}}if(o)return o=e,a=a(o),e=r===""?"."+Ey(o,0):r,_N(a)?(n="",e!=null&&(n=e.replace(LN,"$&/")+"/"),Um(a,t,n,"",function(c){return c})):a!=null&&(jw(a)&&(a=WR(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(LN,"$&/")+"/")+e)),t.push(a)),1;if(o=0,r=r===""?".":r+":",_N(e))for(var s=0;s<e.length;s++){i=e[s];var l=r+Ey(i,s);o+=Um(i,t,n,l,a)}else if(l=VR(e),typeof l=="function")for(e=l.call(e),s=0;!(i=e.next()).done;)i=i.value,l=r+Ey(i,s++),o+=Um(i,t,n,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Zp(e,t,n){if(e==null)return e;var r=[],a=0;return Um(e,r,"","",function(i){return t.call(n,i,a++)}),r}function qR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $a={current:null},Vm={transition:null},KR={ReactCurrentDispatcher:$a,ReactCurrentBatchConfig:Vm,ReactCurrentOwner:Nw};function aT(){throw Error("act(...) is not supported in production builds of React.")}un.Children={map:Zp,forEach:function(e,t,n){Zp(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Zp(e,function(){t++}),t},toArray:function(e){return Zp(e,function(t){return t})||[]},only:function(e){if(!jw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};un.Component=Yu;un.Fragment=IR;un.Profiler=LR;un.PureComponent=kw;un.StrictMode=_R;un.Suspense=BR;un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KR;un.act=aT;un.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Z5({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Nw.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)tT.call(t,l)&&!nT.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:tp,type:e.type,key:a,ref:i,props:r,_owner:o}};un.createContext=function(e){return e={$$typeof:RR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:FR,_context:e},e.Consumer=e};un.createElement=rT;un.createFactory=function(e){var t=rT.bind(null,e);return t.type=e,t};un.createRef=function(){return{current:null}};un.forwardRef=function(e){return{$$typeof:$R,render:e}};un.isValidElement=jw;un.lazy=function(e){return{$$typeof:UR,_payload:{_status:-1,_result:e},_init:qR}};un.memo=function(e,t){return{$$typeof:zR,type:e,compare:t===void 0?null:t}};un.startTransition=function(e){var t=Vm.transition;Vm.transition={};try{e()}finally{Vm.transition=t}};un.unstable_act=aT;un.useCallback=function(e,t){return $a.current.useCallback(e,t)};un.useContext=function(e){return $a.current.useContext(e)};un.useDebugValue=function(){};un.useDeferredValue=function(e){return $a.current.useDeferredValue(e)};un.useEffect=function(e,t){return $a.current.useEffect(e,t)};un.useId=function(){return $a.current.useId()};un.useImperativeHandle=function(e,t,n){return $a.current.useImperativeHandle(e,t,n)};un.useInsertionEffect=function(e,t){return $a.current.useInsertionEffect(e,t)};un.useLayoutEffect=function(e,t){return $a.current.useLayoutEffect(e,t)};un.useMemo=function(e,t){return $a.current.useMemo(e,t)};un.useReducer=function(e,t,n){return $a.current.useReducer(e,t,n)};un.useRef=function(e){return $a.current.useRef(e)};un.useState=function(e){return $a.current.useState(e)};un.useSyncExternalStore=function(e,t,n){return $a.current.useSyncExternalStore(e,t,n)};un.useTransition=function(){return $a.current.useTransition()};un.version="18.3.1";Q5.exports=un;var y=Q5.exports;const Gg=bo(y),YR=DR({__proto__:null,default:Gg},[y]);/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var GR=y,QR=Symbol.for("react.element"),XR=Symbol.for("react.fragment"),ZR=Object.prototype.hasOwnProperty,JR=GR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,e$={key:!0,ref:!0,__self:!0,__source:!0};function iT(e,t,n){var r,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)ZR.call(t,r)&&!e$.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:QR,type:e,key:i,ref:o,props:a,_owner:JR.current}}Yg.Fragment=XR;Yg.jsx=iT;Yg.jsxs=iT;G5.exports=Yg;var u=G5.exports,nb={},oT={exports:{}},Ci={},sT={exports:{}},lT={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(e){function t(B,ie){var k=B.length;B.push(ie);e:for(;0<k;){var I=k-1>>>1,E=B[I];if(0<a(E,ie))B[I]=ie,B[k]=E,k=I;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var ie=B[0],k=B.pop();if(k!==ie){B[0]=k;e:for(var I=0,E=B.length,j=E>>>1;I<j;){var L=2*(I+1)-1,G=B[L],Z=L+1,Y=B[Z];if(0>a(G,k))Z<E&&0>a(Y,G)?(B[I]=Y,B[Z]=k,I=Z):(B[I]=G,B[L]=k,I=L);else if(Z<E&&0>a(Y,k))B[I]=Y,B[Z]=k,I=Z;else break e}}return ie}function a(B,ie){var k=B.sortIndex-ie.sortIndex;return k!==0?k:B.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],c=[],d=1,f=null,p=3,m=!1,h=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(B){for(var ie=n(c);ie!==null;){if(ie.callback===null)r(c);else if(ie.startTime<=B)r(c),ie.sortIndex=ie.expirationTime,t(l,ie);else break;ie=n(c)}}function S(B){if(v=!1,w(B),!h)if(n(l)!==null)h=!0,ue(C);else{var ie=n(c);ie!==null&&z(S,ie.startTime-B)}}function C(B,ie){h=!1,v&&(v=!1,g(D),D=-1),m=!0;var k=p;try{for(w(ie),f=n(l);f!==null&&(!(f.expirationTime>ie)||B&&!P());){var I=f.callback;if(typeof I=="function"){f.callback=null,p=f.priorityLevel;var E=I(f.expirationTime<=ie);ie=e.unstable_now(),typeof E=="function"?f.callback=E:f===n(l)&&r(l),w(ie)}else r(l);f=n(l)}if(f!==null)var j=!0;else{var L=n(c);L!==null&&z(S,L.startTime-ie),j=!1}return j}finally{f=null,p=k,m=!1}}var N=!1,M=null,D=-1,R=5,T=-1;function P(){return!(e.unstable_now()-T<R)}function O(){if(M!==null){var B=e.unstable_now();T=B;var ie=!0;try{ie=M(!0,B)}finally{ie?W():(N=!1,M=null)}}else N=!1}var W;if(typeof b=="function")W=function(){b(O)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ee=Q.port2;Q.port1.onmessage=O,W=function(){ee.postMessage(null)}}else W=function(){x(O,0)};function ue(B){M=B,N||(N=!0,W())}function z(B,ie){D=x(function(){B(e.unstable_now())},ie)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){h||m||(h=!0,ue(C))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(B){switch(p){case 1:case 2:case 3:var ie=3;break;default:ie=p}var k=p;p=ie;try{return B()}finally{p=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,ie){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var k=p;p=B;try{return ie()}finally{p=k}},e.unstable_scheduleCallback=function(B,ie,k){var I=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?I+k:I):k=I,B){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=k+E,B={id:d++,callback:ie,priorityLevel:B,startTime:k,expirationTime:E,sortIndex:-1},k>I?(B.sortIndex=k,t(c,B),n(l)===null&&B===n(c)&&(v?(g(D),D=-1):v=!0,z(S,k-I))):(B.sortIndex=E,t(l,B),h||m||(h=!0,ue(C))),B},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(B){var ie=p;return function(){var k=p;p=ie;try{return B.apply(this,arguments)}finally{p=k}}}})(lT);sT.exports=lT;var t$=sT.exports;/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var n$=y,Si=t$;function Ue(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cT=new Set,uf={};function Ec(e,t){Mu(e,t),Mu(e+"Capture",t)}function Mu(e,t){for(uf[e]=t,e=0;e<t.length;e++)cT.add(t[e])}var ps=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rb=Object.prototype.hasOwnProperty,r$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,FN={},RN={};function a$(e){return rb.call(RN,e)?!0:rb.call(FN,e)?!1:r$.test(e)?RN[e]=!0:(FN[e]=!0,!1)}function i$(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function o$(e,t,n,r){if(t===null||typeof t>"u"||i$(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ba(e,t,n,r,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var da={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){da[e]=new Ba(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];da[t]=new Ba(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){da[e]=new Ba(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){da[e]=new Ba(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){da[e]=new Ba(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){da[e]=new Ba(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){da[e]=new Ba(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){da[e]=new Ba(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){da[e]=new Ba(e,5,!1,e.toLowerCase(),null,!1,!1)});var Cw=/[\-:]([a-z])/g;function Mw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Cw,Mw);da[t]=new Ba(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Cw,Mw);da[t]=new Ba(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Cw,Mw);da[t]=new Ba(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){da[e]=new Ba(e,1,!1,e.toLowerCase(),null,!1,!1)});da.xlinkHref=new Ba("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){da[e]=new Ba(e,1,!1,e.toLowerCase(),null,!0,!0)});function Aw(e,t,n,r){var a=da.hasOwnProperty(t)?da[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(o$(t,n,a,r)&&(n=null),r||a===null?a$(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ns=n$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jp=Symbol.for("react.element"),Jc=Symbol.for("react.portal"),eu=Symbol.for("react.fragment"),Ew=Symbol.for("react.strict_mode"),ab=Symbol.for("react.profiler"),uT=Symbol.for("react.provider"),dT=Symbol.for("react.context"),Tw=Symbol.for("react.forward_ref"),ib=Symbol.for("react.suspense"),ob=Symbol.for("react.suspense_list"),Pw=Symbol.for("react.memo"),Ks=Symbol.for("react.lazy"),fT=Symbol.for("react.offscreen"),$N=Symbol.iterator;function hd(e){return e===null||typeof e!="object"?null:(e=$N&&e[$N]||e["@@iterator"],typeof e=="function"?e:null)}var hr=Object.assign,Ty;function Fd(e){if(Ty===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ty=t&&t[1]||""}return`
`+Ty+e}var Py=!1;function Dy(e,t){if(!e||Py)return"";Py=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),i=r.stack.split(`
`),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(o!==1||s!==1)do if(o--,s--,0>s||a[o]!==i[s]){var l=`
`+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{Py=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Fd(e):""}function s$(e){switch(e.tag){case 5:return Fd(e.type);case 16:return Fd("Lazy");case 13:return Fd("Suspense");case 19:return Fd("SuspenseList");case 0:case 2:case 15:return e=Dy(e.type,!1),e;case 11:return e=Dy(e.type.render,!1),e;case 1:return e=Dy(e.type,!0),e;default:return""}}function sb(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case eu:return"Fragment";case Jc:return"Portal";case ab:return"Profiler";case Ew:return"StrictMode";case ib:return"Suspense";case ob:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case dT:return(e.displayName||"Context")+".Consumer";case uT:return(e._context.displayName||"Context")+".Provider";case Tw:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Pw:return t=e.displayName||null,t!==null?t:sb(e.type)||"Memo";case Ks:t=e._payload,e=e._init;try{return sb(e(t))}catch{}}return null}function l$(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sb(t);case 8:return t===Ew?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function gl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pT(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function c$(e){var t=pT(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function em(e){e._valueTracker||(e._valueTracker=c$(e))}function mT(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=pT(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function hh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function lb(e,t){var n=t.checked;return hr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function BN(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=gl(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hT(e,t){t=t.checked,t!=null&&Aw(e,"checked",t,!1)}function cb(e,t){hT(e,t);var n=gl(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ub(e,t.type,n):t.hasOwnProperty("defaultValue")&&ub(e,t.type,gl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function zN(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ub(e,t,n){(t!=="number"||hh(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Rd=Array.isArray;function yu(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+gl(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function db(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ue(91));return hr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function UN(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ue(92));if(Rd(n)){if(1<n.length)throw Error(Ue(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:gl(n)}}function gT(e,t){var n=gl(t.value),r=gl(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function VN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function yT(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fb(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?yT(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var tm,vT=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(tm=tm||document.createElement("div"),tm.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=tm.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function df(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Hd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},u$=["Webkit","ms","Moz","O"];Object.keys(Hd).forEach(function(e){u$.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Hd[t]=Hd[e]})});function bT(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Hd.hasOwnProperty(e)&&Hd[e]?(""+t).trim():t+"px"}function xT(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=bT(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var d$=hr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pb(e,t){if(t){if(d$[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ue(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ue(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ue(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ue(62))}}function mb(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hb=null;function Dw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gb=null,vu=null,bu=null;function WN(e){if(e=ap(e)){if(typeof gb!="function")throw Error(Ue(280));var t=e.stateNode;t&&(t=e0(t),gb(e.stateNode,e.type,t))}}function wT(e){vu?bu?bu.push(e):bu=[e]:vu=e}function kT(){if(vu){var e=vu,t=bu;if(bu=vu=null,WN(e),t)for(e=0;e<t.length;e++)WN(t[e])}}function ST(e,t){return e(t)}function NT(){}var Oy=!1;function jT(e,t,n){if(Oy)return e(t,n);Oy=!0;try{return ST(e,t,n)}finally{Oy=!1,(vu!==null||bu!==null)&&(NT(),kT())}}function ff(e,t){var n=e.stateNode;if(n===null)return null;var r=e0(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ue(231,t,typeof n));return n}var yb=!1;if(ps)try{var gd={};Object.defineProperty(gd,"passive",{get:function(){yb=!0}}),window.addEventListener("test",gd,gd),window.removeEventListener("test",gd,gd)}catch{yb=!1}function f$(e,t,n,r,a,i,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var qd=!1,gh=null,yh=!1,vb=null,p$={onError:function(e){qd=!0,gh=e}};function m$(e,t,n,r,a,i,o,s,l){qd=!1,gh=null,f$.apply(p$,arguments)}function h$(e,t,n,r,a,i,o,s,l){if(m$.apply(this,arguments),qd){if(qd){var c=gh;qd=!1,gh=null}else throw Error(Ue(198));yh||(yh=!0,vb=c)}}function Tc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function CT(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function HN(e){if(Tc(e)!==e)throw Error(Ue(188))}function g$(e){var t=e.alternate;if(!t){if(t=Tc(e),t===null)throw Error(Ue(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return HN(a),e;if(i===r)return HN(a),t;i=i.sibling}throw Error(Ue(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o){for(s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o)throw Error(Ue(189))}}if(n.alternate!==r)throw Error(Ue(190))}if(n.tag!==3)throw Error(Ue(188));return n.stateNode.current===n?e:t}function MT(e){return e=g$(e),e!==null?AT(e):null}function AT(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=AT(e);if(t!==null)return t;e=e.sibling}return null}var ET=Si.unstable_scheduleCallback,qN=Si.unstable_cancelCallback,y$=Si.unstable_shouldYield,v$=Si.unstable_requestPaint,Ar=Si.unstable_now,b$=Si.unstable_getCurrentPriorityLevel,Ow=Si.unstable_ImmediatePriority,TT=Si.unstable_UserBlockingPriority,vh=Si.unstable_NormalPriority,x$=Si.unstable_LowPriority,PT=Si.unstable_IdlePriority,Qg=null,Fo=null;function w$(e){if(Fo&&typeof Fo.onCommitFiberRoot=="function")try{Fo.onCommitFiberRoot(Qg,e,void 0,(e.current.flags&128)===128)}catch{}}var lo=Math.clz32?Math.clz32:N$,k$=Math.log,S$=Math.LN2;function N$(e){return e>>>=0,e===0?32:31-(k$(e)/S$|0)|0}var nm=64,rm=4194304;function $d(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function bh(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~a;s!==0?r=$d(s):(i&=o,i!==0&&(r=$d(i)))}else o=n&~a,o!==0?r=$d(o):i!==0&&(r=$d(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-lo(t),a=1<<n,r|=e[n],t&=~a;return r}function j$(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function C$(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-lo(i),s=1<<o,l=a[o];l===-1?(!(s&n)||s&r)&&(a[o]=j$(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}function bb(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function DT(){var e=nm;return nm<<=1,!(nm&4194240)&&(nm=64),e}function Iy(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function np(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-lo(t),e[t]=n}function M$(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-lo(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}function Iw(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-lo(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var On=0;function OT(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var IT,_w,_T,LT,FT,xb=!1,am=[],il=null,ol=null,sl=null,pf=new Map,mf=new Map,Zs=[],A$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function KN(e,t){switch(e){case"focusin":case"focusout":il=null;break;case"dragenter":case"dragleave":ol=null;break;case"mouseover":case"mouseout":sl=null;break;case"pointerover":case"pointerout":pf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mf.delete(t.pointerId)}}function yd(e,t,n,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=ap(t),t!==null&&_w(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function E$(e,t,n,r,a){switch(t){case"focusin":return il=yd(il,e,t,n,r,a),!0;case"dragenter":return ol=yd(ol,e,t,n,r,a),!0;case"mouseover":return sl=yd(sl,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return pf.set(i,yd(pf.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,mf.set(i,yd(mf.get(i)||null,e,t,n,r,a)),!0}return!1}function RT(e){var t=Ql(e.target);if(t!==null){var n=Tc(t);if(n!==null){if(t=n.tag,t===13){if(t=CT(n),t!==null){e.blockedOn=t,FT(e.priority,function(){_T(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=wb(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);hb=r,n.target.dispatchEvent(r),hb=null}else return t=ap(n),t!==null&&_w(t),e.blockedOn=n,!1;t.shift()}return!0}function YN(e,t,n){Wm(e)&&n.delete(t)}function T$(){xb=!1,il!==null&&Wm(il)&&(il=null),ol!==null&&Wm(ol)&&(ol=null),sl!==null&&Wm(sl)&&(sl=null),pf.forEach(YN),mf.forEach(YN)}function vd(e,t){e.blockedOn===t&&(e.blockedOn=null,xb||(xb=!0,Si.unstable_scheduleCallback(Si.unstable_NormalPriority,T$)))}function hf(e){function t(a){return vd(a,e)}if(0<am.length){vd(am[0],e);for(var n=1;n<am.length;n++){var r=am[n];r.blockedOn===e&&(r.blockedOn=null)}}for(il!==null&&vd(il,e),ol!==null&&vd(ol,e),sl!==null&&vd(sl,e),pf.forEach(t),mf.forEach(t),n=0;n<Zs.length;n++)r=Zs[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Zs.length&&(n=Zs[0],n.blockedOn===null);)RT(n),n.blockedOn===null&&Zs.shift()}var xu=Ns.ReactCurrentBatchConfig,xh=!0;function P$(e,t,n,r){var a=On,i=xu.transition;xu.transition=null;try{On=1,Lw(e,t,n,r)}finally{On=a,xu.transition=i}}function D$(e,t,n,r){var a=On,i=xu.transition;xu.transition=null;try{On=4,Lw(e,t,n,r)}finally{On=a,xu.transition=i}}function Lw(e,t,n,r){if(xh){var a=wb(e,t,n,r);if(a===null)Wy(e,t,r,wh,n),KN(e,r);else if(E$(a,e,t,n,r))r.stopPropagation();else if(KN(e,r),t&4&&-1<A$.indexOf(e)){for(;a!==null;){var i=ap(a);if(i!==null&&IT(i),i=wb(e,t,n,r),i===null&&Wy(e,t,r,wh,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else Wy(e,t,r,null,n)}}var wh=null;function wb(e,t,n,r){if(wh=null,e=Dw(r),e=Ql(e),e!==null)if(t=Tc(e),t===null)e=null;else if(n=t.tag,n===13){if(e=CT(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return wh=e,null}function $T(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(b$()){case Ow:return 1;case TT:return 4;case vh:case x$:return 16;case PT:return 536870912;default:return 16}default:return 16}}var tl=null,Fw=null,Hm=null;function BT(){if(Hm)return Hm;var e,t=Fw,n=t.length,r,a="value"in tl?tl.value:tl.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===a[i-r];r++);return Hm=a.slice(e,1<r?1-r:void 0)}function qm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function im(){return!0}function GN(){return!1}function Mi(e){function t(n,r,a,i,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?im:GN,this.isPropagationStopped=GN,this}return hr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=im)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=im)},persist:function(){},isPersistent:im}),t}var Gu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rw=Mi(Gu),rp=hr({},Gu,{view:0,detail:0}),O$=Mi(rp),_y,Ly,bd,Xg=hr({},rp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$w,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bd&&(bd&&e.type==="mousemove"?(_y=e.screenX-bd.screenX,Ly=e.screenY-bd.screenY):Ly=_y=0,bd=e),_y)},movementY:function(e){return"movementY"in e?e.movementY:Ly}}),QN=Mi(Xg),I$=hr({},Xg,{dataTransfer:0}),_$=Mi(I$),L$=hr({},rp,{relatedTarget:0}),Fy=Mi(L$),F$=hr({},Gu,{animationName:0,elapsedTime:0,pseudoElement:0}),R$=Mi(F$),$$=hr({},Gu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),B$=Mi($$),z$=hr({},Gu,{data:0}),XN=Mi(z$),U$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},V$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},W$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function H$(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=W$[e])?!!t[e]:!1}function $w(){return H$}var q$=hr({},rp,{key:function(e){if(e.key){var t=U$[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?V$[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$w,charCode:function(e){return e.type==="keypress"?qm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),K$=Mi(q$),Y$=hr({},Xg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ZN=Mi(Y$),G$=hr({},rp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$w}),Q$=Mi(G$),X$=hr({},Gu,{propertyName:0,elapsedTime:0,pseudoElement:0}),Z$=Mi(X$),J$=hr({},Xg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),eB=Mi(J$),tB=[9,13,27,32],Bw=ps&&"CompositionEvent"in window,Kd=null;ps&&"documentMode"in document&&(Kd=document.documentMode);var nB=ps&&"TextEvent"in window&&!Kd,zT=ps&&(!Bw||Kd&&8<Kd&&11>=Kd),JN=" ",e2=!1;function UT(e,t){switch(e){case"keyup":return tB.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function VT(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var tu=!1;function rB(e,t){switch(e){case"compositionend":return VT(t);case"keypress":return t.which!==32?null:(e2=!0,JN);case"textInput":return e=t.data,e===JN&&e2?null:e;default:return null}}function aB(e,t){if(tu)return e==="compositionend"||!Bw&&UT(e,t)?(e=BT(),Hm=Fw=tl=null,tu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zT&&t.locale!=="ko"?null:t.data;default:return null}}var iB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!iB[e.type]:t==="textarea"}function WT(e,t,n,r){wT(r),t=kh(t,"onChange"),0<t.length&&(n=new Rw("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yd=null,gf=null;function oB(e){tP(e,0)}function Zg(e){var t=au(e);if(mT(t))return e}function sB(e,t){if(e==="change")return t}var HT=!1;if(ps){var Ry;if(ps){var $y="oninput"in document;if(!$y){var n2=document.createElement("div");n2.setAttribute("oninput","return;"),$y=typeof n2.oninput=="function"}Ry=$y}else Ry=!1;HT=Ry&&(!document.documentMode||9<document.documentMode)}function r2(){Yd&&(Yd.detachEvent("onpropertychange",qT),gf=Yd=null)}function qT(e){if(e.propertyName==="value"&&Zg(gf)){var t=[];WT(t,gf,e,Dw(e)),jT(oB,t)}}function lB(e,t,n){e==="focusin"?(r2(),Yd=t,gf=n,Yd.attachEvent("onpropertychange",qT)):e==="focusout"&&r2()}function cB(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zg(gf)}function uB(e,t){if(e==="click")return Zg(t)}function dB(e,t){if(e==="input"||e==="change")return Zg(t)}function fB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var po=typeof Object.is=="function"?Object.is:fB;function yf(e,t){if(po(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!rb.call(t,a)||!po(e[a],t[a]))return!1}return!0}function a2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function i2(e,t){var n=a2(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=a2(n)}}function KT(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?KT(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function YT(){for(var e=window,t=hh();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=hh(e.document)}return t}function zw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function pB(e){var t=YT(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&KT(n.ownerDocument.documentElement,n)){if(r!==null&&zw(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=i2(n,i);var o=i2(n,r);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mB=ps&&"documentMode"in document&&11>=document.documentMode,nu=null,kb=null,Gd=null,Sb=!1;function o2(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sb||nu==null||nu!==hh(r)||(r=nu,"selectionStart"in r&&zw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gd&&yf(Gd,r)||(Gd=r,r=kh(kb,"onSelect"),0<r.length&&(t=new Rw("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=nu)))}function om(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ru={animationend:om("Animation","AnimationEnd"),animationiteration:om("Animation","AnimationIteration"),animationstart:om("Animation","AnimationStart"),transitionend:om("Transition","TransitionEnd")},By={},GT={};ps&&(GT=document.createElement("div").style,"AnimationEvent"in window||(delete ru.animationend.animation,delete ru.animationiteration.animation,delete ru.animationstart.animation),"TransitionEvent"in window||delete ru.transitionend.transition);function Jg(e){if(By[e])return By[e];if(!ru[e])return e;var t=ru[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in GT)return By[e]=t[n];return e}var QT=Jg("animationend"),XT=Jg("animationiteration"),ZT=Jg("animationstart"),JT=Jg("transitionend"),eP=new Map,s2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kl(e,t){eP.set(e,t),Ec(t,[e])}for(var zy=0;zy<s2.length;zy++){var Uy=s2[zy],hB=Uy.toLowerCase(),gB=Uy[0].toUpperCase()+Uy.slice(1);kl(hB,"on"+gB)}kl(QT,"onAnimationEnd");kl(XT,"onAnimationIteration");kl(ZT,"onAnimationStart");kl("dblclick","onDoubleClick");kl("focusin","onFocus");kl("focusout","onBlur");kl(JT,"onTransitionEnd");Mu("onMouseEnter",["mouseout","mouseover"]);Mu("onMouseLeave",["mouseout","mouseover"]);Mu("onPointerEnter",["pointerout","pointerover"]);Mu("onPointerLeave",["pointerout","pointerover"]);Ec("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ec("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ec("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ec("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ec("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ec("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yB=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bd));function l2(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,h$(r,t,void 0,e),e.currentTarget=null}function tP(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;l2(a,s,c),i=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,c=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;l2(a,s,c),i=l}}}if(yh)throw e=vb,yh=!1,vb=null,e}function Kn(e,t){var n=t[Ab];n===void 0&&(n=t[Ab]=new Set);var r=e+"__bubble";n.has(r)||(nP(t,e,2,!1),n.add(r))}function Vy(e,t,n){var r=0;t&&(r|=4),nP(n,e,r,t)}var sm="_reactListening"+Math.random().toString(36).slice(2);function vf(e){if(!e[sm]){e[sm]=!0,cT.forEach(function(n){n!=="selectionchange"&&(yB.has(n)||Vy(n,!1,e),Vy(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[sm]||(t[sm]=!0,Vy("selectionchange",!1,t))}}function nP(e,t,n,r){switch($T(t)){case 1:var a=P$;break;case 4:a=D$;break;default:a=Lw}n=a.bind(null,t,n,e),a=void 0,!yb||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Wy(e,t,n,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===a||s.nodeType===8&&s.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;o=o.return}for(;s!==null;){if(o=Ql(s),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}s=s.parentNode}}r=r.return}jT(function(){var c=i,d=Dw(n),f=[];e:{var p=eP.get(e);if(p!==void 0){var m=Rw,h=e;switch(e){case"keypress":if(qm(n)===0)break e;case"keydown":case"keyup":m=K$;break;case"focusin":h="focus",m=Fy;break;case"focusout":h="blur",m=Fy;break;case"beforeblur":case"afterblur":m=Fy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=QN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=_$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Q$;break;case QT:case XT:case ZT:m=R$;break;case JT:m=Z$;break;case"scroll":m=O$;break;case"wheel":m=eB;break;case"copy":case"cut":case"paste":m=B$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=ZN}var v=(t&4)!==0,x=!v&&e==="scroll",g=v?p!==null?p+"Capture":null:p;v=[];for(var b=c,w;b!==null;){w=b;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,g!==null&&(S=ff(b,g),S!=null&&v.push(bf(b,S,w)))),x)break;b=b.return}0<v.length&&(p=new m(p,h,null,n,d),f.push({event:p,listeners:v}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==hb&&(h=n.relatedTarget||n.fromElement)&&(Ql(h)||h[ms]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(h=n.relatedTarget||n.toElement,m=c,h=h?Ql(h):null,h!==null&&(x=Tc(h),h!==x||h.tag!==5&&h.tag!==6)&&(h=null)):(m=null,h=c),m!==h)){if(v=QN,S="onMouseLeave",g="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(v=ZN,S="onPointerLeave",g="onPointerEnter",b="pointer"),x=m==null?p:au(m),w=h==null?p:au(h),p=new v(S,b+"leave",m,n,d),p.target=x,p.relatedTarget=w,S=null,Ql(d)===c&&(v=new v(g,b+"enter",h,n,d),v.target=w,v.relatedTarget=x,S=v),x=S,m&&h)t:{for(v=m,g=h,b=0,w=v;w;w=Wc(w))b++;for(w=0,S=g;S;S=Wc(S))w++;for(;0<b-w;)v=Wc(v),b--;for(;0<w-b;)g=Wc(g),w--;for(;b--;){if(v===g||g!==null&&v===g.alternate)break t;v=Wc(v),g=Wc(g)}v=null}else v=null;m!==null&&c2(f,p,m,v,!1),h!==null&&x!==null&&c2(f,x,h,v,!0)}}e:{if(p=c?au(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var C=sB;else if(t2(p))if(HT)C=dB;else{C=cB;var N=lB}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=uB);if(C&&(C=C(e,c))){WT(f,C,n,d);break e}N&&N(e,p,c),e==="focusout"&&(N=p._wrapperState)&&N.controlled&&p.type==="number"&&ub(p,"number",p.value)}switch(N=c?au(c):window,e){case"focusin":(t2(N)||N.contentEditable==="true")&&(nu=N,kb=c,Gd=null);break;case"focusout":Gd=kb=nu=null;break;case"mousedown":Sb=!0;break;case"contextmenu":case"mouseup":case"dragend":Sb=!1,o2(f,n,d);break;case"selectionchange":if(mB)break;case"keydown":case"keyup":o2(f,n,d)}var M;if(Bw)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else tu?UT(e,n)&&(D="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(zT&&n.locale!=="ko"&&(tu||D!=="onCompositionStart"?D==="onCompositionEnd"&&tu&&(M=BT()):(tl=d,Fw="value"in tl?tl.value:tl.textContent,tu=!0)),N=kh(c,D),0<N.length&&(D=new XN(D,e,null,n,d),f.push({event:D,listeners:N}),M?D.data=M:(M=VT(n),M!==null&&(D.data=M)))),(M=nB?rB(e,n):aB(e,n))&&(c=kh(c,"onBeforeInput"),0<c.length&&(d=new XN("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=M))}tP(f,t)})}function bf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function kh(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=ff(e,n),i!=null&&r.unshift(bf(e,i,a)),i=ff(e,t),i!=null&&r.push(bf(e,i,a))),e=e.return}return r}function Wc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function c2(e,t,n,r,a){for(var i=t._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,a?(l=ff(n,i),l!=null&&o.unshift(bf(n,l,s))):a||(l=ff(n,i),l!=null&&o.push(bf(n,l,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var vB=/\r\n?/g,bB=/\u0000|\uFFFD/g;function u2(e){return(typeof e=="string"?e:""+e).replace(vB,`
`).replace(bB,"")}function lm(e,t,n){if(t=u2(t),u2(e)!==t&&n)throw Error(Ue(425))}function Sh(){}var Nb=null,jb=null;function Cb(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Mb=typeof setTimeout=="function"?setTimeout:void 0,xB=typeof clearTimeout=="function"?clearTimeout:void 0,d2=typeof Promise=="function"?Promise:void 0,wB=typeof queueMicrotask=="function"?queueMicrotask:typeof d2<"u"?function(e){return d2.resolve(null).then(e).catch(kB)}:Mb;function kB(e){setTimeout(function(){throw e})}function Hy(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),hf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);hf(t)}function ll(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function f2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Qu=Math.random().toString(36).slice(2),_o="__reactFiber$"+Qu,xf="__reactProps$"+Qu,ms="__reactContainer$"+Qu,Ab="__reactEvents$"+Qu,SB="__reactListeners$"+Qu,NB="__reactHandles$"+Qu;function Ql(e){var t=e[_o];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ms]||n[_o]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=f2(e);e!==null;){if(n=e[_o])return n;e=f2(e)}return t}e=n,n=e.parentNode}return null}function ap(e){return e=e[_o]||e[ms],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function au(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ue(33))}function e0(e){return e[xf]||null}var Eb=[],iu=-1;function Sl(e){return{current:e}}function Qn(e){0>iu||(e.current=Eb[iu],Eb[iu]=null,iu--)}function Vn(e,t){iu++,Eb[iu]=e.current,e.current=t}var yl={},Na=Sl(yl),Qa=Sl(!1),pc=yl;function Au(e,t){var n=e.type.contextTypes;if(!n)return yl;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Xa(e){return e=e.childContextTypes,e!=null}function Nh(){Qn(Qa),Qn(Na)}function p2(e,t,n){if(Na.current!==yl)throw Error(Ue(168));Vn(Na,t),Vn(Qa,n)}function rP(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(Ue(108,l$(e)||"Unknown",a));return hr({},n,r)}function jh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yl,pc=Na.current,Vn(Na,e),Vn(Qa,Qa.current),!0}function m2(e,t,n){var r=e.stateNode;if(!r)throw Error(Ue(169));n?(e=rP(e,t,pc),r.__reactInternalMemoizedMergedChildContext=e,Qn(Qa),Qn(Na),Vn(Na,e)):Qn(Qa),Vn(Qa,n)}var Zo=null,t0=!1,qy=!1;function aP(e){Zo===null?Zo=[e]:Zo.push(e)}function jB(e){t0=!0,aP(e)}function Nl(){if(!qy&&Zo!==null){qy=!0;var e=0,t=On;try{var n=Zo;for(On=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Zo=null,t0=!1}catch(a){throw Zo!==null&&(Zo=Zo.slice(e+1)),ET(Ow,Nl),a}finally{On=t,qy=!1}}return null}var ou=[],su=0,Ch=null,Mh=0,Fi=[],Ri=0,mc=null,rs=1,as="";function Ul(e,t){ou[su++]=Mh,ou[su++]=Ch,Ch=e,Mh=t}function iP(e,t,n){Fi[Ri++]=rs,Fi[Ri++]=as,Fi[Ri++]=mc,mc=e;var r=rs;e=as;var a=32-lo(r)-1;r&=~(1<<a),n+=1;var i=32-lo(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,rs=1<<32-lo(t)+a|n<<a|r,as=i+e}else rs=1<<i|n<<a|r,as=e}function Uw(e){e.return!==null&&(Ul(e,1),iP(e,1,0))}function Vw(e){for(;e===Ch;)Ch=ou[--su],ou[su]=null,Mh=ou[--su],ou[su]=null;for(;e===mc;)mc=Fi[--Ri],Fi[Ri]=null,as=Fi[--Ri],Fi[Ri]=null,rs=Fi[--Ri],Fi[Ri]=null}var xi=null,vi=null,ir=!1,ao=null;function oP(e,t){var n=Bi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function h2(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xi=e,vi=ll(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xi=e,vi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=mc!==null?{id:rs,overflow:as}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Bi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,xi=e,vi=null,!0):!1;default:return!1}}function Tb(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Pb(e){if(ir){var t=vi;if(t){var n=t;if(!h2(e,t)){if(Tb(e))throw Error(Ue(418));t=ll(n.nextSibling);var r=xi;t&&h2(e,t)?oP(r,n):(e.flags=e.flags&-4097|2,ir=!1,xi=e)}}else{if(Tb(e))throw Error(Ue(418));e.flags=e.flags&-4097|2,ir=!1,xi=e}}}function g2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xi=e}function cm(e){if(e!==xi)return!1;if(!ir)return g2(e),ir=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Cb(e.type,e.memoizedProps)),t&&(t=vi)){if(Tb(e))throw sP(),Error(Ue(418));for(;t;)oP(e,t),t=ll(t.nextSibling)}if(g2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ue(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){vi=ll(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}vi=null}}else vi=xi?ll(e.stateNode.nextSibling):null;return!0}function sP(){for(var e=vi;e;)e=ll(e.nextSibling)}function Eu(){vi=xi=null,ir=!1}function Ww(e){ao===null?ao=[e]:ao.push(e)}var CB=Ns.ReactCurrentBatchConfig;function xd(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ue(309));var r=n.stateNode}if(!r)throw Error(Ue(147,e));var a=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var s=a.refs;o===null?delete s[i]:s[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Ue(284));if(!n._owner)throw Error(Ue(290,e))}return e}function um(e,t){throw e=Object.prototype.toString.call(t),Error(Ue(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function y2(e){var t=e._init;return t(e._payload)}function lP(e){function t(g,b){if(e){var w=g.deletions;w===null?(g.deletions=[b],g.flags|=16):w.push(b)}}function n(g,b){if(!e)return null;for(;b!==null;)t(g,b),b=b.sibling;return null}function r(g,b){for(g=new Map;b!==null;)b.key!==null?g.set(b.key,b):g.set(b.index,b),b=b.sibling;return g}function a(g,b){return g=fl(g,b),g.index=0,g.sibling=null,g}function i(g,b,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<b?(g.flags|=2,b):w):(g.flags|=2,b)):(g.flags|=1048576,b)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function s(g,b,w,S){return b===null||b.tag!==6?(b=Jy(w,g.mode,S),b.return=g,b):(b=a(b,w),b.return=g,b)}function l(g,b,w,S){var C=w.type;return C===eu?d(g,b,w.props.children,S,w.key):b!==null&&(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ks&&y2(C)===b.type)?(S=a(b,w.props),S.ref=xd(g,b,w),S.return=g,S):(S=Jm(w.type,w.key,w.props,null,g.mode,S),S.ref=xd(g,b,w),S.return=g,S)}function c(g,b,w,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=ev(w,g.mode,S),b.return=g,b):(b=a(b,w.children||[]),b.return=g,b)}function d(g,b,w,S,C){return b===null||b.tag!==7?(b=oc(w,g.mode,S,C),b.return=g,b):(b=a(b,w),b.return=g,b)}function f(g,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Jy(""+b,g.mode,w),b.return=g,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Jp:return w=Jm(b.type,b.key,b.props,null,g.mode,w),w.ref=xd(g,null,b),w.return=g,w;case Jc:return b=ev(b,g.mode,w),b.return=g,b;case Ks:var S=b._init;return f(g,S(b._payload),w)}if(Rd(b)||hd(b))return b=oc(b,g.mode,w,null),b.return=g,b;um(g,b)}return null}function p(g,b,w,S){var C=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:s(g,b,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Jp:return w.key===C?l(g,b,w,S):null;case Jc:return w.key===C?c(g,b,w,S):null;case Ks:return C=w._init,p(g,b,C(w._payload),S)}if(Rd(w)||hd(w))return C!==null?null:d(g,b,w,S,null);um(g,w)}return null}function m(g,b,w,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(w)||null,s(b,g,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Jp:return g=g.get(S.key===null?w:S.key)||null,l(b,g,S,C);case Jc:return g=g.get(S.key===null?w:S.key)||null,c(b,g,S,C);case Ks:var N=S._init;return m(g,b,w,N(S._payload),C)}if(Rd(S)||hd(S))return g=g.get(w)||null,d(b,g,S,C,null);um(b,S)}return null}function h(g,b,w,S){for(var C=null,N=null,M=b,D=b=0,R=null;M!==null&&D<w.length;D++){M.index>D?(R=M,M=null):R=M.sibling;var T=p(g,M,w[D],S);if(T===null){M===null&&(M=R);break}e&&M&&T.alternate===null&&t(g,M),b=i(T,b,D),N===null?C=T:N.sibling=T,N=T,M=R}if(D===w.length)return n(g,M),ir&&Ul(g,D),C;if(M===null){for(;D<w.length;D++)M=f(g,w[D],S),M!==null&&(b=i(M,b,D),N===null?C=M:N.sibling=M,N=M);return ir&&Ul(g,D),C}for(M=r(g,M);D<w.length;D++)R=m(M,g,D,w[D],S),R!==null&&(e&&R.alternate!==null&&M.delete(R.key===null?D:R.key),b=i(R,b,D),N===null?C=R:N.sibling=R,N=R);return e&&M.forEach(function(P){return t(g,P)}),ir&&Ul(g,D),C}function v(g,b,w,S){var C=hd(w);if(typeof C!="function")throw Error(Ue(150));if(w=C.call(w),w==null)throw Error(Ue(151));for(var N=C=null,M=b,D=b=0,R=null,T=w.next();M!==null&&!T.done;D++,T=w.next()){M.index>D?(R=M,M=null):R=M.sibling;var P=p(g,M,T.value,S);if(P===null){M===null&&(M=R);break}e&&M&&P.alternate===null&&t(g,M),b=i(P,b,D),N===null?C=P:N.sibling=P,N=P,M=R}if(T.done)return n(g,M),ir&&Ul(g,D),C;if(M===null){for(;!T.done;D++,T=w.next())T=f(g,T.value,S),T!==null&&(b=i(T,b,D),N===null?C=T:N.sibling=T,N=T);return ir&&Ul(g,D),C}for(M=r(g,M);!T.done;D++,T=w.next())T=m(M,g,D,T.value,S),T!==null&&(e&&T.alternate!==null&&M.delete(T.key===null?D:T.key),b=i(T,b,D),N===null?C=T:N.sibling=T,N=T);return e&&M.forEach(function(O){return t(g,O)}),ir&&Ul(g,D),C}function x(g,b,w,S){if(typeof w=="object"&&w!==null&&w.type===eu&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Jp:e:{for(var C=w.key,N=b;N!==null;){if(N.key===C){if(C=w.type,C===eu){if(N.tag===7){n(g,N.sibling),b=a(N,w.props.children),b.return=g,g=b;break e}}else if(N.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ks&&y2(C)===N.type){n(g,N.sibling),b=a(N,w.props),b.ref=xd(g,N,w),b.return=g,g=b;break e}n(g,N);break}else t(g,N);N=N.sibling}w.type===eu?(b=oc(w.props.children,g.mode,S,w.key),b.return=g,g=b):(S=Jm(w.type,w.key,w.props,null,g.mode,S),S.ref=xd(g,b,w),S.return=g,g=S)}return o(g);case Jc:e:{for(N=w.key;b!==null;){if(b.key===N)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(g,b.sibling),b=a(b,w.children||[]),b.return=g,g=b;break e}else{n(g,b);break}else t(g,b);b=b.sibling}b=ev(w,g.mode,S),b.return=g,g=b}return o(g);case Ks:return N=w._init,x(g,b,N(w._payload),S)}if(Rd(w))return h(g,b,w,S);if(hd(w))return v(g,b,w,S);um(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(g,b.sibling),b=a(b,w),b.return=g,g=b):(n(g,b),b=Jy(w,g.mode,S),b.return=g,g=b),o(g)):n(g,b)}return x}var Tu=lP(!0),cP=lP(!1),Ah=Sl(null),Eh=null,lu=null,Hw=null;function qw(){Hw=lu=Eh=null}function Kw(e){var t=Ah.current;Qn(Ah),e._currentValue=t}function Db(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function wu(e,t){Eh=e,Hw=lu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ya=!0),e.firstContext=null)}function Wi(e){var t=e._currentValue;if(Hw!==e)if(e={context:e,memoizedValue:t,next:null},lu===null){if(Eh===null)throw Error(Ue(308));lu=e,Eh.dependencies={lanes:0,firstContext:e}}else lu=lu.next=e;return t}var Xl=null;function Yw(e){Xl===null?Xl=[e]:Xl.push(e)}function uP(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,Yw(t)):(n.next=a.next,a.next=n),t.interleaved=n,hs(e,r)}function hs(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ys=!1;function Gw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dP(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ls(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cl(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,bn&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,hs(e,n)}return a=r.interleaved,a===null?(t.next=t,Yw(r)):(t.next=a.next,a.next=t),r.interleaved=t,hs(e,n)}function Km(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Iw(e,n)}}function v2(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Th(e,t,n,r){var a=e.updateQueue;Ys=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var l=s,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=a.baseState;o=0,d=c=l=null,s=i;do{var p=s.lane,m=s.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,v=s;switch(p=t,m=n,v.tag){case 1:if(h=v.payload,typeof h=="function"){f=h.call(m,f,p);break e}f=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=v.payload,p=typeof h=="function"?h.call(m,f,p):h,p==null)break e;f=hr({},f,p);break e;case 2:Ys=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,p=a.effects,p===null?a.effects=[s]:p.push(s))}else m={eventTime:m,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(c=d=m,l=f):d=d.next=m,o|=p;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;p=s,s=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(!0);if(d===null&&(l=f),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);gc|=o,e.lanes=o,e.memoizedState=f}}function b2(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(Ue(191,a));a.call(r)}}}var ip={},Ro=Sl(ip),wf=Sl(ip),kf=Sl(ip);function Zl(e){if(e===ip)throw Error(Ue(174));return e}function Qw(e,t){switch(Vn(kf,t),Vn(wf,e),Vn(Ro,ip),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fb(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=fb(t,e)}Qn(Ro),Vn(Ro,t)}function Pu(){Qn(Ro),Qn(wf),Qn(kf)}function fP(e){Zl(kf.current);var t=Zl(Ro.current),n=fb(t,e.type);t!==n&&(Vn(wf,e),Vn(Ro,n))}function Xw(e){wf.current===e&&(Qn(Ro),Qn(wf))}var dr=Sl(0);function Ph(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ky=[];function Zw(){for(var e=0;e<Ky.length;e++)Ky[e]._workInProgressVersionPrimary=null;Ky.length=0}var Ym=Ns.ReactCurrentDispatcher,Yy=Ns.ReactCurrentBatchConfig,hc=0,mr=null,zr=null,Jr=null,Dh=!1,Qd=!1,Sf=0,MB=0;function ha(){throw Error(Ue(321))}function Jw(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!po(e[n],t[n]))return!1;return!0}function e1(e,t,n,r,a,i){if(hc=i,mr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ym.current=e===null||e.memoizedState===null?PB:DB,e=n(r,a),Qd){i=0;do{if(Qd=!1,Sf=0,25<=i)throw Error(Ue(301));i+=1,Jr=zr=null,t.updateQueue=null,Ym.current=OB,e=n(r,a)}while(Qd)}if(Ym.current=Oh,t=zr!==null&&zr.next!==null,hc=0,Jr=zr=mr=null,Dh=!1,t)throw Error(Ue(300));return e}function t1(){var e=Sf!==0;return Sf=0,e}function Do(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jr===null?mr.memoizedState=Jr=e:Jr=Jr.next=e,Jr}function Hi(){if(zr===null){var e=mr.alternate;e=e!==null?e.memoizedState:null}else e=zr.next;var t=Jr===null?mr.memoizedState:Jr.next;if(t!==null)Jr=t,zr=e;else{if(e===null)throw Error(Ue(310));zr=e,e={memoizedState:zr.memoizedState,baseState:zr.baseState,baseQueue:zr.baseQueue,queue:zr.queue,next:null},Jr===null?mr.memoizedState=Jr=e:Jr=Jr.next=e}return Jr}function Nf(e,t){return typeof t=="function"?t(e):t}function Gy(e){var t=Hi(),n=t.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=e;var r=zr,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var s=o=null,l=null,c=i;do{var d=c.lane;if((hc&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=f,o=r):l=l.next=f,mr.lanes|=d,gc|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=s,po(r,t.memoizedState)||(Ya=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do i=a.lane,mr.lanes|=i,gc|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Qy(e){var t=Hi(),n=t.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);po(i,t.memoizedState)||(Ya=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function pP(){}function mP(e,t){var n=mr,r=Hi(),a=t(),i=!po(r.memoizedState,a);if(i&&(r.memoizedState=a,Ya=!0),r=r.queue,n1(yP.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Jr!==null&&Jr.memoizedState.tag&1){if(n.flags|=2048,jf(9,gP.bind(null,n,r,a,t),void 0,null),ea===null)throw Error(Ue(349));hc&30||hP(n,t,a)}return a}function hP(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=mr.updateQueue,t===null?(t={lastEffect:null,stores:null},mr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function gP(e,t,n,r){t.value=n,t.getSnapshot=r,vP(t)&&bP(e)}function yP(e,t,n){return n(function(){vP(t)&&bP(e)})}function vP(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!po(e,n)}catch{return!0}}function bP(e){var t=hs(e,1);t!==null&&co(t,e,1,-1)}function x2(e){var t=Do();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nf,lastRenderedState:e},t.queue=e,e=e.dispatch=TB.bind(null,mr,e),[t.memoizedState,e]}function jf(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=mr.updateQueue,t===null?(t={lastEffect:null,stores:null},mr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function xP(){return Hi().memoizedState}function Gm(e,t,n,r){var a=Do();mr.flags|=e,a.memoizedState=jf(1|t,n,void 0,r===void 0?null:r)}function n0(e,t,n,r){var a=Hi();r=r===void 0?null:r;var i=void 0;if(zr!==null){var o=zr.memoizedState;if(i=o.destroy,r!==null&&Jw(r,o.deps)){a.memoizedState=jf(t,n,i,r);return}}mr.flags|=e,a.memoizedState=jf(1|t,n,i,r)}function w2(e,t){return Gm(8390656,8,e,t)}function n1(e,t){return n0(2048,8,e,t)}function wP(e,t){return n0(4,2,e,t)}function kP(e,t){return n0(4,4,e,t)}function SP(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function NP(e,t,n){return n=n!=null?n.concat([e]):null,n0(4,4,SP.bind(null,t,e),n)}function r1(){}function jP(e,t){var n=Hi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Jw(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function CP(e,t){var n=Hi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Jw(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function MP(e,t,n){return hc&21?(po(n,t)||(n=DT(),mr.lanes|=n,gc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ya=!0),e.memoizedState=n)}function AB(e,t){var n=On;On=n!==0&&4>n?n:4,e(!0);var r=Yy.transition;Yy.transition={};try{e(!1),t()}finally{On=n,Yy.transition=r}}function AP(){return Hi().memoizedState}function EB(e,t,n){var r=dl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},EP(e))TP(t,n);else if(n=uP(e,t,n,r),n!==null){var a=La();co(n,e,r,a),PP(n,t,r)}}function TB(e,t,n){var r=dl(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(EP(e))TP(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,s=i(o,n);if(a.hasEagerState=!0,a.eagerState=s,po(s,o)){var l=t.interleaved;l===null?(a.next=a,Yw(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}n=uP(e,t,a,r),n!==null&&(a=La(),co(n,e,r,a),PP(n,t,r))}}function EP(e){var t=e.alternate;return e===mr||t!==null&&t===mr}function TP(e,t){Qd=Dh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function PP(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Iw(e,n)}}var Oh={readContext:Wi,useCallback:ha,useContext:ha,useEffect:ha,useImperativeHandle:ha,useInsertionEffect:ha,useLayoutEffect:ha,useMemo:ha,useReducer:ha,useRef:ha,useState:ha,useDebugValue:ha,useDeferredValue:ha,useTransition:ha,useMutableSource:ha,useSyncExternalStore:ha,useId:ha,unstable_isNewReconciler:!1},PB={readContext:Wi,useCallback:function(e,t){return Do().memoizedState=[e,t===void 0?null:t],e},useContext:Wi,useEffect:w2,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Gm(4194308,4,SP.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Gm(4194308,4,e,t)},useInsertionEffect:function(e,t){return Gm(4,2,e,t)},useMemo:function(e,t){var n=Do();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Do();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=EB.bind(null,mr,e),[r.memoizedState,e]},useRef:function(e){var t=Do();return e={current:e},t.memoizedState=e},useState:x2,useDebugValue:r1,useDeferredValue:function(e){return Do().memoizedState=e},useTransition:function(){var e=x2(!1),t=e[0];return e=AB.bind(null,e[1]),Do().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mr,a=Do();if(ir){if(n===void 0)throw Error(Ue(407));n=n()}else{if(n=t(),ea===null)throw Error(Ue(349));hc&30||hP(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,w2(yP.bind(null,r,i,e),[e]),r.flags|=2048,jf(9,gP.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Do(),t=ea.identifierPrefix;if(ir){var n=as,r=rs;n=(r&~(1<<32-lo(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Sf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=MB++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},DB={readContext:Wi,useCallback:jP,useContext:Wi,useEffect:n1,useImperativeHandle:NP,useInsertionEffect:wP,useLayoutEffect:kP,useMemo:CP,useReducer:Gy,useRef:xP,useState:function(){return Gy(Nf)},useDebugValue:r1,useDeferredValue:function(e){var t=Hi();return MP(t,zr.memoizedState,e)},useTransition:function(){var e=Gy(Nf)[0],t=Hi().memoizedState;return[e,t]},useMutableSource:pP,useSyncExternalStore:mP,useId:AP,unstable_isNewReconciler:!1},OB={readContext:Wi,useCallback:jP,useContext:Wi,useEffect:n1,useImperativeHandle:NP,useInsertionEffect:wP,useLayoutEffect:kP,useMemo:CP,useReducer:Qy,useRef:xP,useState:function(){return Qy(Nf)},useDebugValue:r1,useDeferredValue:function(e){var t=Hi();return zr===null?t.memoizedState=e:MP(t,zr.memoizedState,e)},useTransition:function(){var e=Qy(Nf)[0],t=Hi().memoizedState;return[e,t]},useMutableSource:pP,useSyncExternalStore:mP,useId:AP,unstable_isNewReconciler:!1};function no(e,t){if(e&&e.defaultProps){t=hr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ob(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:hr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var r0={isMounted:function(e){return(e=e._reactInternals)?Tc(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=La(),a=dl(e),i=ls(r,a);i.payload=t,n!=null&&(i.callback=n),t=cl(e,i,a),t!==null&&(co(t,e,a,r),Km(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=La(),a=dl(e),i=ls(r,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=cl(e,i,a),t!==null&&(co(t,e,a,r),Km(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=La(),r=dl(e),a=ls(n,r);a.tag=2,t!=null&&(a.callback=t),t=cl(e,a,r),t!==null&&(co(t,e,r,n),Km(t,e,r))}};function k2(e,t,n,r,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!yf(n,r)||!yf(a,i):!0}function DP(e,t,n){var r=!1,a=yl,i=t.contextType;return typeof i=="object"&&i!==null?i=Wi(i):(a=Xa(t)?pc:Na.current,r=t.contextTypes,i=(r=r!=null)?Au(e,a):yl),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=r0,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function S2(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&r0.enqueueReplaceState(t,t.state,null)}function Ib(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Gw(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Wi(i):(i=Xa(t)?pc:Na.current,a.context=Au(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ob(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&r0.enqueueReplaceState(a,a.state,null),Th(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Du(e,t){try{var n="",r=t;do n+=s$(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Xy(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function _b(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var IB=typeof WeakMap=="function"?WeakMap:Map;function OP(e,t,n){n=ls(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){_h||(_h=!0,Wb=r),_b(e,t)},n}function IP(e,t,n){n=ls(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){_b(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){_b(e,t),typeof r!="function"&&(ul===null?ul=new Set([this]):ul.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function N2(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new IB;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=YB.bind(null,e,t,n),t.then(e,e))}function j2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function C2(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ls(-1,1),t.tag=2,cl(n,t,1))),n.lanes|=1),e)}var _B=Ns.ReactCurrentOwner,Ya=!1;function Oa(e,t,n,r){t.child=e===null?cP(t,null,n,r):Tu(t,e.child,n,r)}function M2(e,t,n,r,a){n=n.render;var i=t.ref;return wu(t,a),r=e1(e,t,n,r,i,a),n=t1(),e!==null&&!Ya?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,gs(e,t,a)):(ir&&n&&Uw(t),t.flags|=1,Oa(e,t,r,a),t.child)}function A2(e,t,n,r,a){if(e===null){var i=n.type;return typeof i=="function"&&!d1(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,_P(e,t,i,r,a)):(e=Jm(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:yf,n(o,r)&&e.ref===t.ref)return gs(e,t,a)}return t.flags|=1,e=fl(i,r),e.ref=t.ref,e.return=t,t.child=e}function _P(e,t,n,r,a){if(e!==null){var i=e.memoizedProps;if(yf(i,r)&&e.ref===t.ref)if(Ya=!1,t.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(Ya=!0);else return t.lanes=e.lanes,gs(e,t,a)}return Lb(e,t,n,r,a)}function LP(e,t,n){var r=t.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vn(uu,hi),hi|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Vn(uu,hi),hi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Vn(uu,hi),hi|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Vn(uu,hi),hi|=r;return Oa(e,t,a,n),t.child}function FP(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Lb(e,t,n,r,a){var i=Xa(n)?pc:Na.current;return i=Au(t,i),wu(t,a),n=e1(e,t,n,r,i,a),r=t1(),e!==null&&!Ya?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,gs(e,t,a)):(ir&&r&&Uw(t),t.flags|=1,Oa(e,t,n,a),t.child)}function E2(e,t,n,r,a){if(Xa(n)){var i=!0;jh(t)}else i=!1;if(wu(t,a),t.stateNode===null)Qm(e,t),DP(t,n,r),Ib(t,n,r,a),r=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Wi(c):(c=Xa(n)?pc:Na.current,c=Au(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==c)&&S2(t,o,r,c),Ys=!1;var p=t.memoizedState;o.state=p,Th(t,r,o,a),l=t.memoizedState,s!==r||p!==l||Qa.current||Ys?(typeof d=="function"&&(Ob(t,n,d,r),l=t.memoizedState),(s=Ys||k2(t,n,s,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,dP(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:no(t.type,s),o.props=c,f=t.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Wi(l):(l=Xa(n)?pc:Na.current,l=Au(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||p!==l)&&S2(t,o,r,l),Ys=!1,p=t.memoizedState,o.state=p,Th(t,r,o,a);var h=t.memoizedState;s!==f||p!==h||Qa.current||Ys?(typeof m=="function"&&(Ob(t,n,m,r),h=t.memoizedState),(c=Ys||k2(t,n,c,r,p,h,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,h,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,h,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Fb(e,t,n,r,i,a)}function Fb(e,t,n,r,a,i){FP(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return a&&m2(t,n,!1),gs(e,t,i);r=t.stateNode,_B.current=t;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Tu(t,e.child,null,i),t.child=Tu(t,null,s,i)):Oa(e,t,s,i),t.memoizedState=r.state,a&&m2(t,n,!0),t.child}function RP(e){var t=e.stateNode;t.pendingContext?p2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&p2(e,t.context,!1),Qw(e,t.containerInfo)}function T2(e,t,n,r,a){return Eu(),Ww(a),t.flags|=256,Oa(e,t,n,r),t.child}var Rb={dehydrated:null,treeContext:null,retryLane:0};function $b(e){return{baseLanes:e,cachePool:null,transitions:null}}function $P(e,t,n){var r=t.pendingProps,a=dr.current,i=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(a&2)!==0),s?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Vn(dr,a&1),e===null)return Pb(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=o0(o,r,0,null),e=oc(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=$b(n),t.memoizedState=Rb,e):a1(t,o));if(a=e.memoizedState,a!==null&&(s=a.dehydrated,s!==null))return LB(e,t,o,r,s,a,n);if(i){i=r.fallback,o=t.mode,a=e.child,s=a.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=fl(a,l),r.subtreeFlags=a.subtreeFlags&14680064),s!==null?i=fl(s,i):(i=oc(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?$b(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Rb,r}return i=e.child,e=i.sibling,r=fl(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function a1(e,t){return t=o0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function dm(e,t,n,r){return r!==null&&Ww(r),Tu(t,e.child,null,n),e=a1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function LB(e,t,n,r,a,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Xy(Error(Ue(422))),dm(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=o0({mode:"visible",children:r.children},a,0,null),i=oc(i,a,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Tu(t,e.child,null,o),t.child.memoizedState=$b(o),t.memoizedState=Rb,i);if(!(t.mode&1))return dm(e,t,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var s=r.dgst;return r=s,i=Error(Ue(419)),r=Xy(i,r,void 0),dm(e,t,o,r)}if(s=(o&e.childLanes)!==0,Ya||s){if(r=ea,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,hs(e,a),co(r,e,a,-1))}return u1(),r=Xy(Error(Ue(421))),dm(e,t,o,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=GB.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,vi=ll(a.nextSibling),xi=t,ir=!0,ao=null,e!==null&&(Fi[Ri++]=rs,Fi[Ri++]=as,Fi[Ri++]=mc,rs=e.id,as=e.overflow,mc=t),t=a1(t,r.children),t.flags|=4096,t)}function P2(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Db(e.return,t,n)}function Zy(e,t,n,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function BP(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(Oa(e,t,r.children,n),r=dr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&P2(e,n,t);else if(e.tag===19)P2(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Vn(dr,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Ph(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Zy(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Ph(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Zy(t,!0,n,null,i);break;case"together":Zy(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qm(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function gs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),gc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ue(153));if(t.child!==null){for(e=t.child,n=fl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=fl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function FB(e,t,n){switch(t.tag){case 3:RP(t),Eu();break;case 5:fP(t);break;case 1:Xa(t.type)&&jh(t);break;case 4:Qw(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Vn(Ah,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Vn(dr,dr.current&1),t.flags|=128,null):n&t.child.childLanes?$P(e,t,n):(Vn(dr,dr.current&1),e=gs(e,t,n),e!==null?e.sibling:null);Vn(dr,dr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return BP(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Vn(dr,dr.current),r)break;return null;case 22:case 23:return t.lanes=0,LP(e,t,n)}return gs(e,t,n)}var zP,Bb,UP,VP;zP=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bb=function(){};UP=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Zl(Ro.current);var i=null;switch(n){case"input":a=lb(e,a),r=lb(e,r),i=[];break;case"select":a=hr({},a,{value:void 0}),r=hr({},r,{value:void 0}),i=[];break;case"textarea":a=db(e,a),r=db(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Sh)}pb(n,r);var o;n=null;for(c in a)if(!r.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var s=a[c];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(uf.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(s=a!=null?a[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(uf.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Kn("scroll",e),i||s===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};VP=function(e,t,n,r){n!==r&&(t.flags|=4)};function wd(e,t){if(!ir)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ga(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function RB(e,t,n){var r=t.pendingProps;switch(Vw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ga(t),null;case 1:return Xa(t.type)&&Nh(),ga(t),null;case 3:return r=t.stateNode,Pu(),Qn(Qa),Qn(Na),Zw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(cm(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ao!==null&&(Kb(ao),ao=null))),Bb(e,t),ga(t),null;case 5:Xw(t);var a=Zl(kf.current);if(n=t.type,e!==null&&t.stateNode!=null)UP(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ue(166));return ga(t),null}if(e=Zl(Ro.current),cm(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[_o]=t,r[xf]=i,e=(t.mode&1)!==0,n){case"dialog":Kn("cancel",r),Kn("close",r);break;case"iframe":case"object":case"embed":Kn("load",r);break;case"video":case"audio":for(a=0;a<Bd.length;a++)Kn(Bd[a],r);break;case"source":Kn("error",r);break;case"img":case"image":case"link":Kn("error",r),Kn("load",r);break;case"details":Kn("toggle",r);break;case"input":BN(r,i),Kn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Kn("invalid",r);break;case"textarea":UN(r,i),Kn("invalid",r)}pb(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];o==="children"?typeof s=="string"?r.textContent!==s&&(i.suppressHydrationWarning!==!0&&lm(r.textContent,s,e),a=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(i.suppressHydrationWarning!==!0&&lm(r.textContent,s,e),a=["children",""+s]):uf.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Kn("scroll",r)}switch(n){case"input":em(r),zN(r,i,!0);break;case"textarea":em(r),VN(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Sh)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=yT(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[_o]=t,e[xf]=r,zP(e,t,!1,!1),t.stateNode=e;e:{switch(o=mb(n,r),n){case"dialog":Kn("cancel",e),Kn("close",e),a=r;break;case"iframe":case"object":case"embed":Kn("load",e),a=r;break;case"video":case"audio":for(a=0;a<Bd.length;a++)Kn(Bd[a],e);a=r;break;case"source":Kn("error",e),a=r;break;case"img":case"image":case"link":Kn("error",e),Kn("load",e),a=r;break;case"details":Kn("toggle",e),a=r;break;case"input":BN(e,r),a=lb(e,r),Kn("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=hr({},r,{value:void 0}),Kn("invalid",e);break;case"textarea":UN(e,r),a=db(e,r),Kn("invalid",e);break;default:a=r}pb(n,a),s=a;for(i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="style"?xT(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&vT(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&df(e,l):typeof l=="number"&&df(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(uf.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Kn("scroll",e):l!=null&&Aw(e,i,l,o))}switch(n){case"input":em(e),zN(e,r,!1);break;case"textarea":em(e),VN(e);break;case"option":r.value!=null&&e.setAttribute("value",""+gl(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?yu(e,!!r.multiple,i,!1):r.defaultValue!=null&&yu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Sh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ga(t),null;case 6:if(e&&t.stateNode!=null)VP(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ue(166));if(n=Zl(kf.current),Zl(Ro.current),cm(t)){if(r=t.stateNode,n=t.memoizedProps,r[_o]=t,(i=r.nodeValue!==n)&&(e=xi,e!==null))switch(e.tag){case 3:lm(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&lm(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_o]=t,t.stateNode=r}return ga(t),null;case 13:if(Qn(dr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ir&&vi!==null&&t.mode&1&&!(t.flags&128))sP(),Eu(),t.flags|=98560,i=!1;else if(i=cm(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(Ue(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ue(317));i[_o]=t}else Eu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ga(t),i=!1}else ao!==null&&(Kb(ao),ao=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||dr.current&1?Vr===0&&(Vr=3):u1())),t.updateQueue!==null&&(t.flags|=4),ga(t),null);case 4:return Pu(),Bb(e,t),e===null&&vf(t.stateNode.containerInfo),ga(t),null;case 10:return Kw(t.type._context),ga(t),null;case 17:return Xa(t.type)&&Nh(),ga(t),null;case 19:if(Qn(dr),i=t.memoizedState,i===null)return ga(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)wd(i,!1);else{if(Vr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ph(e),o!==null){for(t.flags|=128,wd(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Vn(dr,dr.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ar()>Ou&&(t.flags|=128,r=!0,wd(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ph(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),wd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ir)return ga(t),null}else 2*Ar()-i.renderingStartTime>Ou&&n!==1073741824&&(t.flags|=128,r=!0,wd(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ar(),t.sibling=null,n=dr.current,Vn(dr,r?n&1|2:n&1),t):(ga(t),null);case 22:case 23:return c1(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?hi&1073741824&&(ga(t),t.subtreeFlags&6&&(t.flags|=8192)):ga(t),null;case 24:return null;case 25:return null}throw Error(Ue(156,t.tag))}function $B(e,t){switch(Vw(t),t.tag){case 1:return Xa(t.type)&&Nh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Pu(),Qn(Qa),Qn(Na),Zw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Xw(t),null;case 13:if(Qn(dr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ue(340));Eu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Qn(dr),null;case 4:return Pu(),null;case 10:return Kw(t.type._context),null;case 22:case 23:return c1(),null;case 24:return null;default:return null}}var fm=!1,ba=!1,BB=typeof WeakSet=="function"?WeakSet:Set,ft=null;function cu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){wr(e,t,r)}else n.current=null}function WP(e,t,n){try{n()}catch(r){wr(e,t,r)}}var D2=!1;function zB(e,t){if(Nb=xh,e=YT(),zw(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,c=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(s=o+a),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===n&&++c===a&&(s=o),p===i&&++d===r&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(jb={focusedElem:e,selectionRange:n},xh=!1,ft=t;ft!==null;)if(t=ft,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ft=e;else for(;ft!==null;){t=ft;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var v=h.memoizedProps,x=h.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:no(t.type,v),x);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ue(163))}}catch(S){wr(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,ft=e;break}ft=t.return}return h=D2,D2=!1,h}function Xd(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&WP(t,n,i)}a=a.next}while(a!==r)}}function a0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function zb(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function HP(e){var t=e.alternate;t!==null&&(e.alternate=null,HP(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[_o],delete t[xf],delete t[Ab],delete t[SB],delete t[NB])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function qP(e){return e.tag===5||e.tag===3||e.tag===4}function O2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qP(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ub(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Sh));else if(r!==4&&(e=e.child,e!==null))for(Ub(e,t,n),e=e.sibling;e!==null;)Ub(e,t,n),e=e.sibling}function Vb(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Vb(e,t,n),e=e.sibling;e!==null;)Vb(e,t,n),e=e.sibling}var sa=null,ro=!1;function Vs(e,t,n){for(n=n.child;n!==null;)KP(e,t,n),n=n.sibling}function KP(e,t,n){if(Fo&&typeof Fo.onCommitFiberUnmount=="function")try{Fo.onCommitFiberUnmount(Qg,n)}catch{}switch(n.tag){case 5:ba||cu(n,t);case 6:var r=sa,a=ro;sa=null,Vs(e,t,n),sa=r,ro=a,sa!==null&&(ro?(e=sa,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):sa.removeChild(n.stateNode));break;case 18:sa!==null&&(ro?(e=sa,n=n.stateNode,e.nodeType===8?Hy(e.parentNode,n):e.nodeType===1&&Hy(e,n),hf(e)):Hy(sa,n.stateNode));break;case 4:r=sa,a=ro,sa=n.stateNode.containerInfo,ro=!0,Vs(e,t,n),sa=r,ro=a;break;case 0:case 11:case 14:case 15:if(!ba&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&WP(n,t,o),a=a.next}while(a!==r)}Vs(e,t,n);break;case 1:if(!ba&&(cu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){wr(n,t,s)}Vs(e,t,n);break;case 21:Vs(e,t,n);break;case 22:n.mode&1?(ba=(r=ba)||n.memoizedState!==null,Vs(e,t,n),ba=r):Vs(e,t,n);break;default:Vs(e,t,n)}}function I2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new BB),t.forEach(function(r){var a=QB.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function to(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:sa=s.stateNode,ro=!1;break e;case 3:sa=s.stateNode.containerInfo,ro=!0;break e;case 4:sa=s.stateNode.containerInfo,ro=!0;break e}s=s.return}if(sa===null)throw Error(Ue(160));KP(i,o,a),sa=null,ro=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){wr(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)YP(t,e),t=t.sibling}function YP(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(to(t,e),Ao(e),r&4){try{Xd(3,e,e.return),a0(3,e)}catch(v){wr(e,e.return,v)}try{Xd(5,e,e.return)}catch(v){wr(e,e.return,v)}}break;case 1:to(t,e),Ao(e),r&512&&n!==null&&cu(n,n.return);break;case 5:if(to(t,e),Ao(e),r&512&&n!==null&&cu(n,n.return),e.flags&32){var a=e.stateNode;try{df(a,"")}catch(v){wr(e,e.return,v)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&i.type==="radio"&&i.name!=null&&hT(a,i),mb(s,o);var c=mb(s,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?xT(a,f):d==="dangerouslySetInnerHTML"?vT(a,f):d==="children"?df(a,f):Aw(a,d,f,c)}switch(s){case"input":cb(a,i);break;case"textarea":gT(a,i);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?yu(a,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?yu(a,!!i.multiple,i.defaultValue,!0):yu(a,!!i.multiple,i.multiple?[]:"",!1))}a[xf]=i}catch(v){wr(e,e.return,v)}}break;case 6:if(to(t,e),Ao(e),r&4){if(e.stateNode===null)throw Error(Ue(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(v){wr(e,e.return,v)}}break;case 3:if(to(t,e),Ao(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{hf(t.containerInfo)}catch(v){wr(e,e.return,v)}break;case 4:to(t,e),Ao(e);break;case 13:to(t,e),Ao(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(s1=Ar())),r&4&&I2(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(ba=(c=ba)||d,to(t,e),ba=c):to(t,e),Ao(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(ft=e,d=e.child;d!==null;){for(f=ft=d;ft!==null;){switch(p=ft,m=p.child,p.tag){case 0:case 11:case 14:case 15:Xd(4,p,p.return);break;case 1:cu(p,p.return);var h=p.stateNode;if(typeof h.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(v){wr(r,n,v)}}break;case 5:cu(p,p.return);break;case 22:if(p.memoizedState!==null){L2(f);continue}}m!==null?(m.return=p,ft=m):L2(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,c?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=bT("display",o))}catch(v){wr(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){wr(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:to(t,e),Ao(e),r&4&&I2(e);break;case 21:break;default:to(t,e),Ao(e)}}function Ao(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(qP(n)){var r=n;break e}n=n.return}throw Error(Ue(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(df(a,""),r.flags&=-33);var i=O2(e);Vb(e,i,a);break;case 3:case 4:var o=r.stateNode.containerInfo,s=O2(e);Ub(e,s,o);break;default:throw Error(Ue(161))}}catch(l){wr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function UB(e,t,n){ft=e,GP(e)}function GP(e,t,n){for(var r=(e.mode&1)!==0;ft!==null;){var a=ft,i=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||fm;if(!o){var s=a.alternate,l=s!==null&&s.memoizedState!==null||ba;s=fm;var c=ba;if(fm=o,(ba=l)&&!c)for(ft=a;ft!==null;)o=ft,l=o.child,o.tag===22&&o.memoizedState!==null?F2(a):l!==null?(l.return=o,ft=l):F2(a);for(;i!==null;)ft=i,GP(i),i=i.sibling;ft=a,fm=s,ba=c}_2(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,ft=i):_2(e)}}function _2(e){for(;ft!==null;){var t=ft;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ba||a0(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ba)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:no(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&b2(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}b2(t,o,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&hf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ue(163))}ba||t.flags&512&&zb(t)}catch(p){wr(t,t.return,p)}}if(t===e){ft=null;break}if(n=t.sibling,n!==null){n.return=t.return,ft=n;break}ft=t.return}}function L2(e){for(;ft!==null;){var t=ft;if(t===e){ft=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ft=n;break}ft=t.return}}function F2(e){for(;ft!==null;){var t=ft;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{a0(4,t)}catch(l){wr(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(l){wr(t,a,l)}}var i=t.return;try{zb(t)}catch(l){wr(t,i,l)}break;case 5:var o=t.return;try{zb(t)}catch(l){wr(t,o,l)}}}catch(l){wr(t,t.return,l)}if(t===e){ft=null;break}var s=t.sibling;if(s!==null){s.return=t.return,ft=s;break}ft=t.return}}var VB=Math.ceil,Ih=Ns.ReactCurrentDispatcher,i1=Ns.ReactCurrentOwner,Ui=Ns.ReactCurrentBatchConfig,bn=0,ea=null,_r=null,ua=0,hi=0,uu=Sl(0),Vr=0,Cf=null,gc=0,i0=0,o1=0,Zd=null,Ka=null,s1=0,Ou=1/0,Xo=null,_h=!1,Wb=null,ul=null,pm=!1,nl=null,Lh=0,Jd=0,Hb=null,Xm=-1,Zm=0;function La(){return bn&6?Ar():Xm!==-1?Xm:Xm=Ar()}function dl(e){return e.mode&1?bn&2&&ua!==0?ua&-ua:CB.transition!==null?(Zm===0&&(Zm=DT()),Zm):(e=On,e!==0||(e=window.event,e=e===void 0?16:$T(e.type)),e):1}function co(e,t,n,r){if(50<Jd)throw Jd=0,Hb=null,Error(Ue(185));np(e,n,r),(!(bn&2)||e!==ea)&&(e===ea&&(!(bn&2)&&(i0|=n),Vr===4&&Js(e,ua)),Za(e,r),n===1&&bn===0&&!(t.mode&1)&&(Ou=Ar()+500,t0&&Nl()))}function Za(e,t){var n=e.callbackNode;C$(e,t);var r=bh(e,e===ea?ua:0);if(r===0)n!==null&&qN(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&qN(n),t===1)e.tag===0?jB(R2.bind(null,e)):aP(R2.bind(null,e)),wB(function(){!(bn&6)&&Nl()}),n=null;else{switch(OT(r)){case 1:n=Ow;break;case 4:n=TT;break;case 16:n=vh;break;case 536870912:n=PT;break;default:n=vh}n=rD(n,QP.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function QP(e,t){if(Xm=-1,Zm=0,bn&6)throw Error(Ue(327));var n=e.callbackNode;if(ku()&&e.callbackNode!==n)return null;var r=bh(e,e===ea?ua:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Fh(e,r);else{t=r;var a=bn;bn|=2;var i=ZP();(ea!==e||ua!==t)&&(Xo=null,Ou=Ar()+500,ic(e,t));do try{qB();break}catch(s){XP(e,s)}while(!0);qw(),Ih.current=i,bn=a,_r!==null?t=0:(ea=null,ua=0,t=Vr)}if(t!==0){if(t===2&&(a=bb(e),a!==0&&(r=a,t=qb(e,a))),t===1)throw n=Cf,ic(e,0),Js(e,r),Za(e,Ar()),n;if(t===6)Js(e,r);else{if(a=e.current.alternate,!(r&30)&&!WB(a)&&(t=Fh(e,r),t===2&&(i=bb(e),i!==0&&(r=i,t=qb(e,i))),t===1))throw n=Cf,ic(e,0),Js(e,r),Za(e,Ar()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(Ue(345));case 2:Vl(e,Ka,Xo);break;case 3:if(Js(e,r),(r&130023424)===r&&(t=s1+500-Ar(),10<t)){if(bh(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){La(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Mb(Vl.bind(null,e,Ka,Xo),t);break}Vl(e,Ka,Xo);break;case 4:if(Js(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-lo(r);i=1<<o,o=t[o],o>a&&(a=o),r&=~i}if(r=a,r=Ar()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*VB(r/1960))-r,10<r){e.timeoutHandle=Mb(Vl.bind(null,e,Ka,Xo),r);break}Vl(e,Ka,Xo);break;case 5:Vl(e,Ka,Xo);break;default:throw Error(Ue(329))}}}return Za(e,Ar()),e.callbackNode===n?QP.bind(null,e):null}function qb(e,t){var n=Zd;return e.current.memoizedState.isDehydrated&&(ic(e,t).flags|=256),e=Fh(e,t),e!==2&&(t=Ka,Ka=n,t!==null&&Kb(t)),e}function Kb(e){Ka===null?Ka=e:Ka.push.apply(Ka,e)}function WB(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!po(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Js(e,t){for(t&=~o1,t&=~i0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-lo(t),r=1<<n;e[n]=-1,t&=~r}}function R2(e){if(bn&6)throw Error(Ue(327));ku();var t=bh(e,0);if(!(t&1))return Za(e,Ar()),null;var n=Fh(e,t);if(e.tag!==0&&n===2){var r=bb(e);r!==0&&(t=r,n=qb(e,r))}if(n===1)throw n=Cf,ic(e,0),Js(e,t),Za(e,Ar()),n;if(n===6)throw Error(Ue(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Vl(e,Ka,Xo),Za(e,Ar()),null}function l1(e,t){var n=bn;bn|=1;try{return e(t)}finally{bn=n,bn===0&&(Ou=Ar()+500,t0&&Nl())}}function yc(e){nl!==null&&nl.tag===0&&!(bn&6)&&ku();var t=bn;bn|=1;var n=Ui.transition,r=On;try{if(Ui.transition=null,On=1,e)return e()}finally{On=r,Ui.transition=n,bn=t,!(bn&6)&&Nl()}}function c1(){hi=uu.current,Qn(uu)}function ic(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,xB(n)),_r!==null)for(n=_r.return;n!==null;){var r=n;switch(Vw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Nh();break;case 3:Pu(),Qn(Qa),Qn(Na),Zw();break;case 5:Xw(r);break;case 4:Pu();break;case 13:Qn(dr);break;case 19:Qn(dr);break;case 10:Kw(r.type._context);break;case 22:case 23:c1()}n=n.return}if(ea=e,_r=e=fl(e.current,null),ua=hi=t,Vr=0,Cf=null,o1=i0=gc=0,Ka=Zd=null,Xl!==null){for(t=0;t<Xl.length;t++)if(n=Xl[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,r.next=o}n.pending=r}Xl=null}return e}function XP(e,t){do{var n=_r;try{if(qw(),Ym.current=Oh,Dh){for(var r=mr.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Dh=!1}if(hc=0,Jr=zr=mr=null,Qd=!1,Sf=0,i1.current=null,n===null||n.return===null){Vr=1,Cf=t,_r=null;break}e:{var i=e,o=n.return,s=n,l=t;if(t=ua,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=j2(o);if(m!==null){m.flags&=-257,C2(m,o,s,i,t),m.mode&1&&N2(i,c,t),t=m,l=c;var h=t.updateQueue;if(h===null){var v=new Set;v.add(l),t.updateQueue=v}else h.add(l);break e}else{if(!(t&1)){N2(i,c,t),u1();break e}l=Error(Ue(426))}}else if(ir&&s.mode&1){var x=j2(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),C2(x,o,s,i,t),Ww(Du(l,s));break e}}i=l=Du(l,s),Vr!==4&&(Vr=2),Zd===null?Zd=[i]:Zd.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=OP(i,l,t);v2(i,g);break e;case 1:s=l;var b=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ul===null||!ul.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=IP(i,s,t);v2(i,S);break e}}i=i.return}while(i!==null)}eD(n)}catch(C){t=C,_r===n&&n!==null&&(_r=n=n.return);continue}break}while(!0)}function ZP(){var e=Ih.current;return Ih.current=Oh,e===null?Oh:e}function u1(){(Vr===0||Vr===3||Vr===2)&&(Vr=4),ea===null||!(gc&268435455)&&!(i0&268435455)||Js(ea,ua)}function Fh(e,t){var n=bn;bn|=2;var r=ZP();(ea!==e||ua!==t)&&(Xo=null,ic(e,t));do try{HB();break}catch(a){XP(e,a)}while(!0);if(qw(),bn=n,Ih.current=r,_r!==null)throw Error(Ue(261));return ea=null,ua=0,Vr}function HB(){for(;_r!==null;)JP(_r)}function qB(){for(;_r!==null&&!y$();)JP(_r)}function JP(e){var t=nD(e.alternate,e,hi);e.memoizedProps=e.pendingProps,t===null?eD(e):_r=t,i1.current=null}function eD(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=$B(n,t),n!==null){n.flags&=32767,_r=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Vr=6,_r=null;return}}else if(n=RB(n,t,hi),n!==null){_r=n;return}if(t=t.sibling,t!==null){_r=t;return}_r=t=e}while(t!==null);Vr===0&&(Vr=5)}function Vl(e,t,n){var r=On,a=Ui.transition;try{Ui.transition=null,On=1,KB(e,t,n,r)}finally{Ui.transition=a,On=r}return null}function KB(e,t,n,r){do ku();while(nl!==null);if(bn&6)throw Error(Ue(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ue(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(M$(e,i),e===ea&&(_r=ea=null,ua=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pm||(pm=!0,rD(vh,function(){return ku(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ui.transition,Ui.transition=null;var o=On;On=1;var s=bn;bn|=4,i1.current=null,zB(e,n),YP(n,e),pB(jb),xh=!!Nb,jb=Nb=null,e.current=n,UB(n),v$(),bn=s,On=o,Ui.transition=i}else e.current=n;if(pm&&(pm=!1,nl=e,Lh=a),i=e.pendingLanes,i===0&&(ul=null),w$(n.stateNode),Za(e,Ar()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(_h)throw _h=!1,e=Wb,Wb=null,e;return Lh&1&&e.tag!==0&&ku(),i=e.pendingLanes,i&1?e===Hb?Jd++:(Jd=0,Hb=e):Jd=0,Nl(),null}function ku(){if(nl!==null){var e=OT(Lh),t=Ui.transition,n=On;try{if(Ui.transition=null,On=16>e?16:e,nl===null)var r=!1;else{if(e=nl,nl=null,Lh=0,bn&6)throw Error(Ue(331));var a=bn;for(bn|=4,ft=e.current;ft!==null;){var i=ft,o=i.child;if(ft.flags&16){var s=i.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(ft=c;ft!==null;){var d=ft;switch(d.tag){case 0:case 11:case 15:Xd(8,d,i)}var f=d.child;if(f!==null)f.return=d,ft=f;else for(;ft!==null;){d=ft;var p=d.sibling,m=d.return;if(HP(d),d===c){ft=null;break}if(p!==null){p.return=m,ft=p;break}ft=m}}}var h=i.alternate;if(h!==null){var v=h.child;if(v!==null){h.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}ft=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ft=o;else e:for(;ft!==null;){if(i=ft,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Xd(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,ft=g;break e}ft=i.return}}var b=e.current;for(ft=b;ft!==null;){o=ft;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ft=w;else e:for(o=b;ft!==null;){if(s=ft,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:a0(9,s)}}catch(C){wr(s,s.return,C)}if(s===o){ft=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,ft=S;break e}ft=s.return}}if(bn=a,Nl(),Fo&&typeof Fo.onPostCommitFiberRoot=="function")try{Fo.onPostCommitFiberRoot(Qg,e)}catch{}r=!0}return r}finally{On=n,Ui.transition=t}}return!1}function $2(e,t,n){t=Du(n,t),t=OP(e,t,1),e=cl(e,t,1),t=La(),e!==null&&(np(e,1,t),Za(e,t))}function wr(e,t,n){if(e.tag===3)$2(e,e,n);else for(;t!==null;){if(t.tag===3){$2(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ul===null||!ul.has(r))){e=Du(n,e),e=IP(t,e,1),t=cl(t,e,1),e=La(),t!==null&&(np(t,1,e),Za(t,e));break}}t=t.return}}function YB(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=La(),e.pingedLanes|=e.suspendedLanes&n,ea===e&&(ua&n)===n&&(Vr===4||Vr===3&&(ua&130023424)===ua&&500>Ar()-s1?ic(e,0):o1|=n),Za(e,t)}function tD(e,t){t===0&&(e.mode&1?(t=rm,rm<<=1,!(rm&130023424)&&(rm=4194304)):t=1);var n=La();e=hs(e,t),e!==null&&(np(e,t,n),Za(e,n))}function GB(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),tD(e,n)}function QB(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ue(314))}r!==null&&r.delete(t),tD(e,n)}var nD;nD=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qa.current)Ya=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ya=!1,FB(e,t,n);Ya=!!(e.flags&131072)}else Ya=!1,ir&&t.flags&1048576&&iP(t,Mh,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Qm(e,t),e=t.pendingProps;var a=Au(t,Na.current);wu(t,n),a=e1(null,t,r,e,a,n);var i=t1();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xa(r)?(i=!0,jh(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Gw(t),a.updater=r0,t.stateNode=a,a._reactInternals=t,Ib(t,r,e,n),t=Fb(null,t,r,!0,i,n)):(t.tag=0,ir&&i&&Uw(t),Oa(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Qm(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=ZB(r),e=no(r,e),a){case 0:t=Lb(null,t,r,e,n);break e;case 1:t=E2(null,t,r,e,n);break e;case 11:t=M2(null,t,r,e,n);break e;case 14:t=A2(null,t,r,no(r.type,e),n);break e}throw Error(Ue(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:no(r,a),Lb(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:no(r,a),E2(e,t,r,a,n);case 3:e:{if(RP(t),e===null)throw Error(Ue(387));r=t.pendingProps,i=t.memoizedState,a=i.element,dP(e,t),Th(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Du(Error(Ue(423)),t),t=T2(e,t,r,n,a);break e}else if(r!==a){a=Du(Error(Ue(424)),t),t=T2(e,t,r,n,a);break e}else for(vi=ll(t.stateNode.containerInfo.firstChild),xi=t,ir=!0,ao=null,n=cP(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Eu(),r===a){t=gs(e,t,n);break e}Oa(e,t,r,n)}t=t.child}return t;case 5:return fP(t),e===null&&Pb(t),r=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Cb(r,a)?o=null:i!==null&&Cb(r,i)&&(t.flags|=32),FP(e,t),Oa(e,t,o,n),t.child;case 6:return e===null&&Pb(t),null;case 13:return $P(e,t,n);case 4:return Qw(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Tu(t,null,r,n):Oa(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:no(r,a),M2(e,t,r,a,n);case 7:return Oa(e,t,t.pendingProps,n),t.child;case 8:return Oa(e,t,t.pendingProps.children,n),t.child;case 12:return Oa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Vn(Ah,r._currentValue),r._currentValue=o,i!==null)if(po(i.value,o)){if(i.children===a.children&&!Qa.current){t=gs(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){o=i.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=ls(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Db(i.return,n,t),s.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Ue(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Db(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Oa(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,wu(t,n),a=Wi(a),r=r(a),t.flags|=1,Oa(e,t,r,n),t.child;case 14:return r=t.type,a=no(r,t.pendingProps),a=no(r.type,a),A2(e,t,r,a,n);case 15:return _P(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:no(r,a),Qm(e,t),t.tag=1,Xa(r)?(e=!0,jh(t)):e=!1,wu(t,n),DP(t,r,a),Ib(t,r,a,n),Fb(null,t,r,!0,e,n);case 19:return BP(e,t,n);case 22:return LP(e,t,n)}throw Error(Ue(156,t.tag))};function rD(e,t){return ET(e,t)}function XB(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bi(e,t,n,r){return new XB(e,t,n,r)}function d1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ZB(e){if(typeof e=="function")return d1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Tw)return 11;if(e===Pw)return 14}return 2}function fl(e,t){var n=e.alternate;return n===null?(n=Bi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Jm(e,t,n,r,a,i){var o=2;if(r=e,typeof e=="function")d1(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case eu:return oc(n.children,a,i,t);case Ew:o=8,a|=8;break;case ab:return e=Bi(12,n,t,a|2),e.elementType=ab,e.lanes=i,e;case ib:return e=Bi(13,n,t,a),e.elementType=ib,e.lanes=i,e;case ob:return e=Bi(19,n,t,a),e.elementType=ob,e.lanes=i,e;case fT:return o0(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case uT:o=10;break e;case dT:o=9;break e;case Tw:o=11;break e;case Pw:o=14;break e;case Ks:o=16,r=null;break e}throw Error(Ue(130,e==null?e:typeof e,""))}return t=Bi(o,n,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function oc(e,t,n,r){return e=Bi(7,e,r,t),e.lanes=n,e}function o0(e,t,n,r){return e=Bi(22,e,r,t),e.elementType=fT,e.lanes=n,e.stateNode={isHidden:!1},e}function Jy(e,t,n){return e=Bi(6,e,null,t),e.lanes=n,e}function ev(e,t,n){return t=Bi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function JB(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Iy(0),this.expirationTimes=Iy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Iy(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function f1(e,t,n,r,a,i,o,s,l){return e=new JB(e,t,n,s,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Bi(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gw(i),e}function ez(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jc,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function aD(e){if(!e)return yl;e=e._reactInternals;e:{if(Tc(e)!==e||e.tag!==1)throw Error(Ue(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ue(171))}if(e.tag===1){var n=e.type;if(Xa(n))return rP(e,n,t)}return t}function iD(e,t,n,r,a,i,o,s,l){return e=f1(n,r,!0,e,a,i,o,s,l),e.context=aD(null),n=e.current,r=La(),a=dl(n),i=ls(r,a),i.callback=t??null,cl(n,i,a),e.current.lanes=a,np(e,a,r),Za(e,r),e}function s0(e,t,n,r){var a=t.current,i=La(),o=dl(a);return n=aD(n),t.context===null?t.context=n:t.pendingContext=n,t=ls(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=cl(a,t,o),e!==null&&(co(e,a,o,i),Km(e,a,o)),o}function Rh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function B2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function p1(e,t){B2(e,t),(e=e.alternate)&&B2(e,t)}function tz(){return null}var oD=typeof reportError=="function"?reportError:function(e){console.error(e)};function m1(e){this._internalRoot=e}l0.prototype.render=m1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ue(409));s0(e,t,null,null)};l0.prototype.unmount=m1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yc(function(){s0(null,e,null,null)}),t[ms]=null}};function l0(e){this._internalRoot=e}l0.prototype.unstable_scheduleHydration=function(e){if(e){var t=LT();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Zs.length&&t!==0&&t<Zs[n].priority;n++);Zs.splice(n,0,e),n===0&&RT(e)}};function h1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function z2(){}function nz(e,t,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var c=Rh(o);i.call(c)}}var o=iD(t,r,e,0,null,!1,!1,"",z2);return e._reactRootContainer=o,e[ms]=o.current,vf(e.nodeType===8?e.parentNode:e),yc(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var s=r;r=function(){var c=Rh(l);s.call(c)}}var l=f1(e,0,!1,null,null,!1,!1,"",z2);return e._reactRootContainer=l,e[ms]=l.current,vf(e.nodeType===8?e.parentNode:e),yc(function(){s0(t,l,n,r)}),l}function u0(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var s=a;a=function(){var l=Rh(o);s.call(l)}}s0(t,o,e,a)}else o=nz(n,t,e,a,r);return Rh(o)}IT=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=$d(t.pendingLanes);n!==0&&(Iw(t,n|1),Za(t,Ar()),!(bn&6)&&(Ou=Ar()+500,Nl()))}break;case 13:yc(function(){var r=hs(e,1);if(r!==null){var a=La();co(r,e,1,a)}}),p1(e,1)}};_w=function(e){if(e.tag===13){var t=hs(e,134217728);if(t!==null){var n=La();co(t,e,134217728,n)}p1(e,134217728)}};_T=function(e){if(e.tag===13){var t=dl(e),n=hs(e,t);if(n!==null){var r=La();co(n,e,t,r)}p1(e,t)}};LT=function(){return On};FT=function(e,t){var n=On;try{return On=e,t()}finally{On=n}};gb=function(e,t,n){switch(t){case"input":if(cb(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=e0(r);if(!a)throw Error(Ue(90));mT(r),cb(r,a)}}}break;case"textarea":gT(e,n);break;case"select":t=n.value,t!=null&&yu(e,!!n.multiple,t,!1)}};ST=l1;NT=yc;var rz={usingClientEntryPoint:!1,Events:[ap,au,e0,wT,kT,l1]},kd={findFiberByHostInstance:Ql,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},az={bundleType:kd.bundleType,version:kd.version,rendererPackageName:kd.rendererPackageName,rendererConfig:kd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ns.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=MT(e),e===null?null:e.stateNode},findFiberByHostInstance:kd.findFiberByHostInstance||tz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mm.isDisabled&&mm.supportsFiber)try{Qg=mm.inject(az),Fo=mm}catch{}}Ci.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rz;Ci.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h1(t))throw Error(Ue(200));return ez(e,t,null,n)};Ci.createRoot=function(e,t){if(!h1(e))throw Error(Ue(299));var n=!1,r="",a=oD;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=f1(e,1,!1,null,null,n,!1,r,a),e[ms]=t.current,vf(e.nodeType===8?e.parentNode:e),new m1(t)};Ci.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ue(188)):(e=Object.keys(e).join(","),Error(Ue(268,e)));return e=MT(t),e=e===null?null:e.stateNode,e};Ci.flushSync=function(e){return yc(e)};Ci.hydrate=function(e,t,n){if(!c0(t))throw Error(Ue(200));return u0(null,e,t,!0,n)};Ci.hydrateRoot=function(e,t,n){if(!h1(e))throw Error(Ue(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",o=oD;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=iD(t,null,e,1,n??null,a,!1,i,o),e[ms]=t.current,vf(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new l0(t)};Ci.render=function(e,t,n){if(!c0(t))throw Error(Ue(200));return u0(null,e,t,!1,n)};Ci.unmountComponentAtNode=function(e){if(!c0(e))throw Error(Ue(40));return e._reactRootContainer?(yc(function(){u0(null,null,e,!1,function(){e._reactRootContainer=null,e[ms]=null})}),!0):!1};Ci.unstable_batchedUpdates=l1;Ci.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!c0(n))throw Error(Ue(200));if(e==null||e._reactInternals===void 0)throw Error(Ue(38));return u0(e,t,n,!1,r)};Ci.version="18.3.1-next-f1338f8080-20240426";function sD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sD)}catch(e){console.error(e)}}sD(),oT.exports=Ci;var Xu=oT.exports,U2=Xu;nb.createRoot=U2.createRoot,nb.hydrateRoot=U2.hydrateRoot;const iz=new Set(["Vulnerability","Weakness","Blind","Cripple","Chill","Immobilize","Slow","Fear","Taunt"]),lD=[{id:"damage",label:"Damage",field:"damage",source:"dpsAll"},{id:"directDmg",label:"Direct Damage",field:"directDmg",source:"statsTargets"},{id:"connectedDamageCount",label:"Connected Damage Count",field:"connectedDamageCount",source:"statsTargets"},{id:"connectedDirectDamageCount",label:"Connected Direct Damage Count",field:"connectedDirectDamageCount",source:"statsTargets"},{id:"battleStandardHits",label:"Battle Standard Tracking"},{id:"criticalRate",label:"Critical Rate",field:"criticalRate",isRate:!0,isPercent:!0,denomField:"critableDirectDamageCount",source:"statsTargets"},{id:"criticalDmg",label:"Critical Damage",field:"criticalDmg",source:"statsTargets"},{id:"flankingRate",label:"Flanking Rate",field:"flankingRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"glanceRate",label:"Glance Rate",field:"glanceRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"missed",label:"Missed",field:"missed",source:"statsTargets"},{id:"evaded",label:"Evaded (enemy)",field:"evaded",source:"statsTargets"},{id:"blocked",label:"Blocked (enemy)",field:"blocked",source:"statsTargets"},{id:"interrupts",label:"Interrupts",field:"interrupts",source:"statsTargets"},{id:"invulned",label:"Invulned",field:"invulned",source:"statsTargets"},{id:"killed",label:"Killed",field:"killed",source:"statsTargets"},{id:"downed",label:"Downed",field:"downed",source:"statsTargets"},{id:"downContribution",label:"Down Contribution",field:"downContribution",source:"statsTargets"},{id:"downContributionPercent",label:"Down Contribution %",isRate:!0,isPercent:!0},{id:"againstDownedDamage",label:"Against Downed Damage",field:"againstDownedDamage",source:"statsTargets"},{id:"appliedCrowdControl",label:"Applied CC",field:"appliedCrowdControl",source:"statsTargets"},{id:"appliedCrowdControlDuration",label:"Applied CC Duration",field:"appliedCrowdControlDuration",source:"statsTargets"},{id:"appliedCrowdControlDownContribution",label:"Applied CC Down Contribution",field:"appliedCrowdControlDownContribution",source:"statsTargets"},{id:"appliedCrowdControlDurationDownContribution",label:"Applied CC Duration Down Contribution",field:"appliedCrowdControlDurationDownContribution",source:"statsTargets"},{id:"boonStrips",label:"Boon Strips",field:"boonStrips",source:"support"}],cD=[{id:"damageTaken",label:"Damage Taken",field:"damageTaken"},{id:"minionDamageTaken",label:"Minion Damage Taken"},{id:"damageTakenCount",label:"Damage Taken Count",field:"damageTakenCount"},{id:"conditionDamageTaken",label:"Condition Damage Taken",field:"conditionDamageTaken"},{id:"conditionDamageTakenCount",label:"Condition Damage Taken Count",field:"conditionDamageTakenCount"},{id:"powerDamageTaken",label:"Power Damage Taken",field:"powerDamageTaken"},{id:"powerDamageTakenCount",label:"Power Damage Taken Count",field:"powerDamageTakenCount"},{id:"downedDamageTaken",label:"Downed Damage Taken",field:"downedDamageTaken"},{id:"downedDamageTakenCount",label:"Downed Damage Taken Count",field:"downedDamageTakenCount"},{id:"damageBarrier",label:"Damage Barrier",field:"damageBarrier"},{id:"damageBarrierCount",label:"Damage Barrier Count",field:"damageBarrierCount"},{id:"blockedCount",label:"Blocked Count",field:"blockedCount"},{id:"evadedCount",label:"Evaded Count",field:"evadedCount"},{id:"missedCount",label:"Missed Count",field:"missedCount"},{id:"dodgeCount",label:"Dodge Count",field:"dodgeCount"},{id:"invulnedCount",label:"Invulnerable Count",field:"invulnedCount"},{id:"interruptedCount",label:"Interrupted Count",field:"interruptedCount"},{id:"downCount",label:"Down Count",field:"downCount"},{id:"deadCount",label:"Death Count",field:"deadCount"},{id:"boonStrips",label:"Boon Strips (Incoming)",field:"boonStrips"},{id:"conditionCleanses",label:"Cleanses (Incoming)",field:"conditionCleanses"},{id:"receivedCrowdControl",label:"Crowd Control (Incoming)",field:"receivedCrowdControl"}],oz=[{id:"totalHits",label:"Total Hits"},{id:"evaded",label:"Evaded"},{id:"blocked",label:"Blocked"},{id:"glanced",label:"Glanced"},{id:"missed",label:"Missed"},{id:"invulned",label:"Invulned"},{id:"interrupted",label:"Interrupted"},{id:"totalMitigation",label:"Damage Mitigation"},{id:"minMitigation",label:"Min Damage Mitigation"}],uD=[{id:"condiCleanse",label:"Condition Cleanses",field:"condiCleanse"},{id:"condiCleanseTime",label:"Condition Cleanse Time",field:"condiCleanseTime",isTime:!0},{id:"condiCleanseSelf",label:"Condition Cleanse Self",field:"condiCleanseSelf"},{id:"condiCleanseTimeSelf",label:"Condition Cleanse Time Self",field:"condiCleanseTimeSelf",isTime:!0},{id:"boonStrips",label:"Boon Strips",field:"boonStrips"},{id:"boonStripsTime",label:"Boon Strips Time",field:"boonStripsTime",isTime:!0},{id:"boonStripDownContribution",label:"Boon Strip Down Contribution",field:"boonStripDownContribution"},{id:"boonStripDownContributionTime",label:"Boon Strip Down Contribution Time",field:"boonStripDownContributionTime",isTime:!0},{id:"stunBreak",label:"Stun Breaks",field:"stunBreak"},{id:"removedStunDuration",label:"Removed Stun Duration",field:"removedStunDuration",isTime:!0},{id:"resurrects",label:"Resurrects",field:"resurrects"},{id:"resurrectTime",label:"Resurrect Time",field:"resurrectTime",isTime:!0}],sz=[{id:"healing",label:"Healing",baseField:"healing",perSecond:!1,decimals:0},{id:"healingPerSecond",label:"Healing Per Second",baseField:"healing",perSecond:!0,decimals:2},{id:"barrier",label:"Barrier",baseField:"barrier",perSecond:!1,decimals:0},{id:"barrierPerSecond",label:"Barrier Per Second",baseField:"barrier",perSecond:!0,decimals:2},{id:"downedHealing",label:"Downed Healing",baseField:"downedHealing",perSecond:!1,decimals:0},{id:"downedHealingPerSecond",label:"Downed Healing Per Second",baseField:"downedHealing",perSecond:!0,decimals:1},{id:"resUtility",label:"Resurrect Utility",baseField:"resUtility",perSecond:!1,decimals:0}],lz=["battle standard","glyph of renewal","glyph of the stars","illusion of life","spirit of nature","nature spirit","search and rescue","signet of mercy"],cz=new Set([10244]),uz=(e,t)=>{var n;if(cz.has(e))return!0;const r=(t==null?void 0:t[`s${e}`])||(t==null?void 0:t[`${e}`]),a=((n=r==null?void 0:r.name)==null?void 0:n.toLowerCase())||"";return lz.some(i=>a.includes(i))},dz=e=>{const t=e.toLowerCase();return t.includes("autoattack")||t.includes("auto attack")},hm=e=>{if(!e||!Number.isFinite(e))return"--:--";const t=Math.max(0,Math.round(e/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),a=t%60;return n>0?`${n}:${String(r).padStart(2,"0")}:${String(a).padStart(2,"0")}`:`${r}:${String(a).padStart(2,"0")}`},dD=()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia("(max-width: 640px)").matches,fD=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e),n=e<0?"-":"";if(t>=1e6){const r=(t/1e6).toFixed(2).replace(/\.?0+$/,"");return`${n}${r}m`}if(t>=1e4){const r=(t/1e3).toFixed(0);return`${n}${r}k`}return`${e.toLocaleString()}`},mi=(e,t=2)=>Number.isFinite(e)?dD()&&Math.abs(e)>=1e4?fD(e):e.toLocaleString(void 0,{minimumFractionDigits:t,maximumFractionDigits:t}):"--",Hs=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e);return dD()&&t>=1e4?fD(e):t>=1e6?`${(e/1e6).toFixed(2).replace(/\.?0+$/,"")}m`:Math.round(e).toLocaleString()};var fz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const pz=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Qt=(e,t)=>{const n=y.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:s,...l},c)=>y.createElement("svg",{ref:c,...fz,width:a,height:a,stroke:r,strokeWidth:o?Number(i)*24/Number(a):i,className:`lucide lucide-${pz(e)}`,...l},[...t.map(([d,f])=>y.createElement(d,f)),...(Array.isArray(s)?s:[s])||[]]));return n.displayName=`${e}`,n},pD=Qt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),mz=Qt("ArrowBigDown",[["path",{d:"M15 6v6h4l-7 7-7-7h4V6h6z",key:"1thax2"}]]),g1=Qt("ArrowBigUp",[["path",{d:"M9 18v-6H5l7-7 7 7h-4v6H9z",key:"1x06kx"}]]),mD=Qt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),hz=Qt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),gz=Qt("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),hD=Qt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Yb=Qt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),yz=Qt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),mo=Qt("Columns",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"12",x2:"12",y1:"3",y2:"21",key:"1efggb"}]]),vz=Qt("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]),bz=Qt("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),xz=Qt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),wz=Qt("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Mf=Qt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),kz=Qt("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),y1=Qt("GitCompareArrows",[["circle",{cx:"5",cy:"6",r:"3",key:"1qnov2"}],["path",{d:"M12 6h5a2 2 0 0 1 2 2v7",key:"1yj91y"}],["path",{d:"m15 9-3-3 3-3",key:"1lwv8l"}],["circle",{cx:"19",cy:"18",r:"3",key:"1qljk2"}],["path",{d:"M12 18H7a2 2 0 0 1-2-2V9",key:"16sdep"}],["path",{d:"m9 15 3 3-3 3",key:"1m3kbl"}]]),Sz=Qt("Hammer",[["path",{d:"m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9",key:"1afvon"}],["path",{d:"M17.64 15 22 10.64",key:"zsji6s"}],["path",{d:"m20.91 11.7-1.25-1.25c-.6-.6-.93-1.4-.93-2.25v-.86L16.01 4.6a5.56 5.56 0 0 0-3.94-1.64H9l.92.82A6.18 6.18 0 0 1 12 8.4v1.56l2 2h2.47l2.26 1.91",key:"lehyy1"}]]),gD=Qt("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]),Nz=Qt("HelpingHand",[["path",{d:"m3 15 5.12-5.12A3 3 0 0 1 10.24 9H13a2 2 0 1 1 0 4h-2.5m4-.68 4.17-4.89a1.88 1.88 0 0 1 2.92 2.36l-4.2 5.94A3 3 0 0 1 14.96 17H9.83a2 2 0 0 0-1.42.59L7 19",key:"nitrv7"}],["path",{d:"m2 14 6 6",key:"g6j1uo"}]]),v1=Qt("Keyboard",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",ry:"2",key:"15u882"}],["path",{d:"M6 8h.001",key:"1ej0i3"}],["path",{d:"M10 8h.001",key:"1x2st2"}],["path",{d:"M14 8h.001",key:"1vkmyp"}],["path",{d:"M18 8h.001",key:"kfsenl"}],["path",{d:"M8 12h.001",key:"1sjpby"}],["path",{d:"M12 12h.001",key:"al75ts"}],["path",{d:"M16 12h.001",key:"931bgk"}],["path",{d:"M7 16h10",key:"wp8him"}]]),jz=Qt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),b1=Qt("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]),Cz=Qt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),x1=Qt("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),ni=Qt("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),V2=Qt("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]),Mz=Qt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Az=Qt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),Ez=Qt("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),yD=Qt("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Iu=Qt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),d0=Qt("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]),f0=Qt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),$h=Qt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Tz=Qt("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]),rl=Qt("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]),sc=Qt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),Pz=Qt("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),Sr=Qt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Dz=Qt("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]),vD=Qt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),za=Qt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Af=Qt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),w1=({className:e})=>u.jsx(Mz,{className:e,strokeWidth:3.2}),op=e=>{if(typeof window<"u"&&(window.location.pathname||"").includes("/web/web/"))return`../${e.replace(/^\/+/,"")}`;const t="./",n=t.endsWith("/")?t:`${t}/`,r=e.replace(/^\/+/,"");return`${n}${r}`},k1=({className:e=""})=>{const t=op("svg/custom-icons/mouse.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},S1=({className:e=""})=>{const t=op("svg/custom-icons/gw2_boon.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},N1=({className:e=""})=>{const t=op("svg/custom-icons/dam_mit.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},j1=({className:e=""})=>{const t=op("svg/custom-icons/gw2_sigil.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},Oz=[{id:"overview",label:"Overview",icon:sc,sectionIds:["overview","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","squad-composition","timeline","map-distribution"],items:[{id:"overview",label:"Overview",icon:sc},{id:"fight-breakdown",label:"Fight Breakdown",icon:rl},{id:"top-players",label:"Top Players",icon:sc},{id:"top-skills-outgoing",label:"Top Skills",icon:g1},{id:"squad-composition",label:"Classes",icon:Sr},{id:"timeline",label:"Squad vs Enemy",icon:Sr},{id:"map-distribution",label:"Map Distribution",icon:x1}]},{id:"roster",label:"Roster Intel",icon:Mf,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance Ledger",icon:Mf},{id:"squad-comp-fight",label:"Squad Comp by Fight",icon:Sr},{id:"fight-comp",label:"Fight Comp",icon:rl}]},{id:"offense",label:"Offensive Stats",icon:rl,sectionIds:["offense-detailed","player-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:rl},{id:"player-breakdown",label:"Player Breakdown",icon:b1},{id:"spike-damage",label:"Spike Damage",icon:Af},{id:"conditions-outgoing",label:"Conditions",icon:d0}]},{id:"defense",label:"Defensive Stats",icon:Iu,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","support-detailed","healing-stats","boon-output"],items:[{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:Ez},{id:"defense-detailed",label:"Defense Detailed",icon:Iu},{id:"defense-mitigation",label:"Damage Mitigation",icon:N1},{id:"support-detailed",label:"Support Detailed",icon:w1},{id:"healing-stats",label:"Healing Stats",icon:gD},{id:"boon-output",label:"Boon Output",icon:S1}]},{id:"other",label:"Other Metrics",icon:$h,sectionIds:["fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"fight-diff-mode",label:"Fight Comparison",icon:y1},{id:"special-buffs",label:"Special Buffs",icon:$h},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:j1},{id:"skill-usage",label:"Skill Usage",icon:v1},{id:"apm-stats",label:"APM Breakdown",icon:k1}]}],Iz=(e,t=!0)=>{const[n,r]=y.useState(!1),[a,i]=y.useState("overview"),o=y.useRef(null),s=y.useRef(null),l=y.useRef(0),c=y.useMemo(()=>Oz,[]),d=y.useMemo(()=>c.flatMap(m=>m.items),[c]),f=m=>{const h=m==="kdr"?"overview":m,v=o.current,x=document.getElementById(h);if(v&&x){const g=v.getBoundingClientRect(),b=x.getBoundingClientRect().top-g.top+v.scrollTop,w=Math.max(0,v.scrollHeight-v.clientHeight),S=Math.min(Math.max(b-16,0),w);v.scrollTo({top:S,behavior:"smooth"}),i(h)}else x&&(x.scrollIntoView({behavior:"smooth",block:"start"}),i(h));r(!1)};y.useEffect(()=>{if(e)return;const m=h=>{const v=o.current;if(!v)return;const x=h.target;if(!(x instanceof Element&&x.closest("[data-stats-mobile-nav]"))&&!(x instanceof Node&&v.contains(x))&&h.deltaY!==0&&!(v.scrollHeight<=v.clientHeight)){if(l.current+=h.deltaY,s.current===null){const g=()=>{const b=l.current;if(Math.abs(b)<.5){l.current=0,s.current=null;return}const w=b*.2;l.current=b-w,v.scrollBy({top:w,behavior:"auto"}),s.current=requestAnimationFrame(g)};s.current=requestAnimationFrame(g)}h.preventDefault()}};return window.addEventListener("wheel",m,{passive:!1}),()=>{window.removeEventListener("wheel",m),s.current!==null&&(cancelAnimationFrame(s.current),s.current=null),l.current=0}},[e]);const p=m=>{var h;const v=Math.max(0,d.findIndex(b=>b.id===a)),x=Math.min(Math.max(v+m,0),d.length-1),g=(h=d[x])==null?void 0:h.id;g&&f(g)};return y.useEffect(()=>{if(!t)return;const m=o.current;if(!m)return;let h=0;const v=()=>{var g;const b=m.getBoundingClientRect().top;let w=((g=d[0])==null?void 0:g.id)||"overview";d.forEach(S=>{const C=document.getElementById(S.id);C&&C.getBoundingClientRect().top-b<=24&&(w=S.id)}),i(S=>S===w?S:w)},x=()=>{h&&cancelAnimationFrame(h),h=requestAnimationFrame(v)};return v(),m.addEventListener("scroll",x,{passive:!0}),window.addEventListener("resize",x),()=>{h&&cancelAnimationFrame(h),m.removeEventListener("scroll",x),window.removeEventListener("resize",x)}},[d,t]),{mobileNavOpen:n,setMobileNavOpen:r,activeNavId:a,setActiveNavId:i,scrollContainerRef:o,tocGroups:c,tocItems:d,scrollToSection:f,stepSection:p}},W2=["selfBuffs","groupBuffs","squadBuffs"],Qo=(e,t,n=0)=>t?e/t:n,H2=e=>e!=null&&e.classification?e.classification==="Boon":!0,bD=e=>`b${e}`,_z=(e,t)=>{const n=Array.isArray(e==null?void 0:e.activeTimes)?e.activeTimes:[],r=typeof n[0]=="number"?n[0]:0;return r>0?r:t},xD=(e,t,n,r,a,i,o)=>{const s=e==="selfBuffs"?1:Math.max(e==="groupBuffs"?i-1:o-1,0);return!s||!a?{generationMs:0,wastedMs:0}:t?{generationMs:n*a*s,wastedMs:r*a*s}:{generationMs:n/100*a*s,wastedMs:r/100*a*s}},Lz=(e,t,n)=>{const r=e.activeTimeMs||1,a=e.numFights||1,i=e.groupSupported||1,o=e.squadSupported||1,s=e.categories.selfBuffs,l=e.categories.squadBuffs,c=t==="totalBuffs"?{generationMs:s.generationMs+l.generationMs,wastedMs:s.wastedMs+l.wastedMs}:e.categories[t],d=c.generationMs,f=c.wastedMs;let p=1;t==="groupBuffs"?p=Qo(i-a,a,1):t==="squadBuffs"?p=Qo(o-a,a,1):t==="totalBuffs"&&(p=o);let m=0,h=0;if(t==="selfBuffs")m=n?Qo(d,r):Qo(d,r)*100,h=n?Qo(f,r):Qo(f,r)*100;else{const v=Qo(d,r)/(p||1),x=Qo(f,r)/(p||1);m=n?v:v*100,h=n?x:x*100}return{generationMs:d,wastedMs:f,uptimeRaw:m,wastedRaw:h}},wD=(e,t,n,r)=>{const{generationMs:a,uptimeRaw:i}=Lz(e,t,n),o=e.activeTimeMs||1;return r==="total"?a/1e3:r==="average"?Qo(a,o):i},Fz=(e,t,n,r,a)=>{const i=wD(e,t,n,r),o=r==="uptime"&&!n,s=r==="average",l=a!=null&&a.roundCountStats&&!o&&!s?0:2,c=i.toLocaleString(void 0,{minimumFractionDigits:l,maximumFractionDigits:l});return o?`${c}%`:c},Rz=e=>{const t=new Map,n=new Map;return e.forEach(r=>{const a=r.details;if(!a)return;const i=a.durationMS||0,o=a.buffMap||{};Object.entries(o).forEach(([d,f])=>{if(!t.has(d)){t.set(d,f);return}const p=t.get(d)||{},m={name:p.name||f.name,stacking:p.stacking??f.stacking,icon:p.icon||f.icon,classification:p.classification||f.classification};t.set(d,m)});const s=(a.players||[]).filter(d=>!d.notInSquad),l=s.length,c=new Map;s.forEach(d=>{const f=d.group??0;c.set(f,(c.get(f)||0)+1)}),s.forEach(d=>{const f=d.account||d.name||d.character_name||"Unknown",p=d.profession||"Unknown",m=d.group??0,h=c.get(m)||1,v=_z(d,i);n.has(f)||n.set(f,{account:f,profession:p,professions:new Set,professionTimeMs:{},activeTimeMs:0,numFights:0,groupSupported:0,squadSupported:0,boons:{}});const x=n.get(f);x.profession=p,p!=="Unknown"&&(x.professions.add(p),x.professionTimeMs[p]=(x.professionTimeMs[p]||0)+v),x.activeTimeMs+=v,x.numFights+=1,x.groupSupported+=h,x.squadSupported+=l,W2.forEach(g=>{(d[g]||[]).forEach(b=>{var w,S,C,N;if(typeof(b==null?void 0:b.id)!="number")return;const M=bD(b.id),D=o[M];if(!H2(D))return;const R=(D==null?void 0:D.stacking)??!1,T=((S=(w=b.buffData)==null?void 0:w[0])==null?void 0:S.generation)??0,P=((N=(C=b.buffData)==null?void 0:C[0])==null?void 0:N.wasted)??0,{generationMs:O,wastedMs:W}=xD(g,R,T,P,i,h,l);!O&&!W||(t.has(M)||t.set(M,D||{}),x.boons[M]||(x.boons[M]={selfBuffs:{generationMs:0,wastedMs:0},groupBuffs:{generationMs:0,wastedMs:0},squadBuffs:{generationMs:0,wastedMs:0}}),x.boons[M][g].generationMs+=O,x.boons[M][g].wastedMs+=W)})})})}),{boonTables:Array.from(t.keys()).filter(r=>H2(t.get(r))).map(r=>{const a=t.get(r)||{},i=[];return n.forEach(o=>{var s;const l=o.boons[r];if(!l||!W2.some(f=>l[f].generationMs>0||l[f].wastedMs>0))return;const c=Array.from(o.professions||[]).filter(f=>f&&f!=="Unknown");let d=o.profession;if(c.length>0){d=c[0];let f=((s=o.professionTimeMs)==null?void 0:s[d])||0;c.forEach(p=>{var m;const h=((m=o.professionTimeMs)==null?void 0:m[p])||0;h>f&&(f=h,d=p)})}i.push({account:o.account,profession:d||"Unknown",professionList:c,activeTimeMs:o.activeTimeMs||1,numFights:o.numFights||1,groupSupported:o.groupSupported||1,squadSupported:o.squadSupported||1,categories:{selfBuffs:{...l.selfBuffs},groupBuffs:{...l.groupBuffs},squadBuffs:{...l.squadBuffs}}})}),{id:r,name:a.name||r,icon:a.icon,stacking:a.stacking??!1,rows:i}}).filter(r=>r.rows.length>0)}},q2=(e,t,n,r,a,i,o={})=>{var s,l,c,d;const f=((e==null?void 0:e[t])||[]).find(x=>x.id===n);if(!f)return{generationMs:0,wastedMs:0};const p=o[bD(n)],m=(p==null?void 0:p.stacking)??!1,h=((l=(s=f.buffData)==null?void 0:s[0])==null?void 0:l.generation)??0,v=((d=(c=f.buffData)==null?void 0:c[0])==null?void 0:d.wasted)??0;return xD(t,m,h,v,r,a,i)},$z={tiered:{tiers:{shortMs:500,mediumMs:1500,weights:{short:.5,medium:1,long:2}}}},Bz={methods:$z},zz=Bz,C1="count",Uz=e=>(e||0)/1e3,Vz=(e,t)=>{var n;if(!e)return 0;const r=(n=zz.methods.tiered)==null?void 0:n.tiers;if(!r)return e;const a=t/Math.max(e,1);return a<=r.shortMs?e*r.weights.short:a<=r.mediumMs?e*r.weights.medium:e*r.weights.long},kD=(e,t,n)=>n==="duration"?Uz(t):n==="tiered"?Vz(e,t):e;function Wz(e,t=C1){var n;const r=(n=e.statsAll)==null?void 0:n[0],a=Number((r==null?void 0:r.appliedCrowdControl)??0),i=Number((r==null?void 0:r.appliedCrowdControlDuration)??0);return kD(a,i,t)}function Hz(e,t){const n=(t==null?void 0:t.durationMS)||0,r=(t==null?void 0:t.buffMap)||{},a=e.filter(s=>!s.notInSquad),i=a.length,o=new Map;a.forEach(s=>{const l=s.group??0;o.set(l,(o.get(l)||0)+1)}),a.forEach(s=>{const l=o.get(s.group??0)||1,c=q2(s,"selfBuffs",1122,n,l,i,r),d=q2(s,"squadBuffs",1122,n,l,i,r);s.stabGeneration=(c.generationMs+d.generationMs)/1e3})}function qz(e){if(!e.statsTargets)return 0;let t=0;for(const n of e.statsTargets)n&&n.length>0&&(t+=n[0].downContribution||0);return t}function Kz(e){if(!e.extBarrierStats||!e.extBarrierStats.outgoingBarrierAllies)return 0;let t=0;for(const n of e.extBarrierStats.outgoingBarrierAllies)if(n)for(const r of n)r&&(t+=r.barrier||0);return t}function Yz(e){if(!e.extHealingStats||!e.extHealingStats.outgoingHealingAllies)return 0;let t=0;for(const n of e.extHealingStats.outgoingHealingAllies)if(n)for(const r of n)r&&(t+=r.healing||0);return t}const K2=e=>{var t,n,r,a;return(((n=(t=e.support)==null?void 0:t[0])==null?void 0:n.condiCleanse)||0)+(((a=(r=e.support)==null?void 0:r[0])==null?void 0:a.condiCleanseSelf)||0)},Y2=(e,t=C1)=>{var n;const r=(n=e.support)==null?void 0:n[0],a=Number((r==null?void 0:r.boonStrips)??0),i=Number((r==null?void 0:r.boonStripsTime)??0);return kD(a,i,t)},G2=e=>qz(e),Q2=e=>Yz(e),X2=e=>Kz(e),Z2=(e,t=C1)=>Wz(e,t),Gz=(e,t)=>Hz(e,t),Qz="count",SD={downContribution:1,healing:1,cleanses:1,strips:1,stability:1,cc:.7,revives:.7,distanceToTag:.7,participation:.7,dodging:.4,dps:.2,damage:.2},Gb={showTopStats:!0,showMvp:!0,roundCountStats:!1,topStatsMode:"total",topSkillDamageSource:"target",topSkillsMetric:"damage"},Xz={uploading:!1,message:null,url:null,buildStatus:"idle"},J2=new Map([["bleeding","Bleeding"],["burning","Burning"],["confusion","Confusion"],["poison","Poison"],["torment","Torment"],["vulnerability","Vulnerability"],["weakness","Weakness"],["weakened","Weakness"],["blind","Blind"],["blinded","Blind"],["blinding","Blind"],["cripple","Cripple"],["crippled","Cripple"],["chill","Chill"],["chilled","Chill"],["immob","Immobilize"],["immobile","Immobilize"],["immobilized","Immobilize"],["slow","Slow"],["slowed","Slow"],["fear","Fear"],["feared","Fear"],["taunt","Taunt"],["taunted","Taunt"]]),ND={Blind:"https://render.guildwars2.com/file/09770136BB76FD0DBE1CC4267DEED54774CB20F6/102837.png",Chill:"https://render.guildwars2.com/file/28C4EC547A3516AF0242E826772DA43A5EAC3DF3/102839.png",Cripple:"https://render.guildwars2.com/file/070325E519C178D502A8160523766070D30C0C19/102838.png",Fear:"https://render.guildwars2.com/file/30307A6E766D74B6EB09EDA12A4A2DE50E4D76F4/102869.png",Immobilize:"https://render.guildwars2.com/file/397A613651BFCA2832B6469CE34735580A2C120E/102844.png",Slow:"https://render.guildwars2.com/file/F60D1EF5271D7B9319610855676D320CD25F01C6/961397.png",Taunt:"https://render.guildwars2.com/file/02EED459AD65FAF7DF32A260E479C625070841B9/1228472.png",Vulnerability:"https://render.guildwars2.com/file/3A394C1A0A3257EB27A44842DDEEF0DF000E1241/102850.png",Weakness:"https://render.guildwars2.com/file/6CB0E64AF9AA292E332A38C1770CE577E2CDE0E8/102853.png"},gm=e=>{if(e)return ND[e]},Ef=e=>{if(!e)return null;const t=e.trim().toLowerCase(),n=J2.get(t);if(n)return n;const r=t.split(/[^a-z]+/).filter(Boolean);for(const a of r){const i=J2.get(a);if(i)return i}return null},Qc=e=>Ef(e),jD=e=>{const t=new Map;return e&&(Object.values(e).forEach(n=>{if(!(n!=null&&n.icon)||!(n!=null&&n.name))return;const r=Ef(n.name);r&&(t.has(r)||t.set(r,n.icon))}),Object.entries(ND).forEach(([n,r])=>{t.has(n)||t.set(n,r)})),t},eh=(e,t,n)=>{var r;if(t&&n){const a=(r=n[`b${t}`])==null?void 0:r.name,i=Ef(a);if(i)return i}return e?Ef(e):null},Zz=e=>{const t=(e==null?void 0:e.account)||"Unknown";return t&&t!=="Unknown"?t:(e==null?void 0:e.name)||"Unknown"},Jz=e=>{if(!e||e.length===0)return 0;let t=0,n=null;return e.forEach(r=>{const a=Number(r[1]??0);if(Number.isFinite(a)){if(n===null){n=a;return}a>n&&(t+=a-n),n=a}}),t},eU=e=>{if(!e||e.length===0)return 0;let t=0;return e.forEach(n=>{const r=Number(n[0]??0),a=Number(n[1]??0);Number.isFinite(a)&&r!==0&&a>0&&(t+=1)}),t},tU=e=>{const{players:t,targets:n,skillMap:r,buffMap:a}=e,i=e.getPlayerKey||Zz,o=jD(a),s={},l={};t.forEach(m=>{if(m!=null&&m.notInSquad)return;const h=i(m);h&&(s[h]||(s[h]={}),m!=null&&m.totalDamageDist&&m.totalDamageDist.forEach(v=>{v&&v.forEach(x=>{if(!x.id)return;let g=`Skill ${x.id}`,b;r&&(r[`s${x.id}`]?(g=r[`s${x.id}`].name||g,b=r[`s${x.id}`].icon||b):r[`${x.id}`]&&(g=r[`${x.id}`].name||g,b=r[`${x.id}`].icon||b));const w=eh(g,x.id,a);if(!w)return;const S=a==null?void 0:a[`b${x.id}`],C=S==null?void 0:S.name,N=o.get(w)||(S==null?void 0:S.icon),M=g.startsWith("Skill ")?C||w:g,D=b||(S==null?void 0:S.icon),R=Number(x.connectedHits??0),T=Number(x.hits??0),P=R>0?R:T,O=Number(x.totalDamage??0);if(!Number.isFinite(P)&&!Number.isFinite(O))return;const W=l[w]||{name:w,icon:N,applications:0,damage:0};W.applications+=Number.isFinite(P)?P:0,W.damage+=Number.isFinite(O)?O:0,!W.icon&&N&&(W.icon=N),l[w]=W;const Q=s[h][w]||{icon:N,applications:0,damage:0,skills:{}};Q.applications+=Number.isFinite(P)?P:0,Q.damage+=Number.isFinite(O)?O:0;const ee=Q.skills[M]||{name:M,hits:0,damage:0,icon:D};ee.hits+=Number.isFinite(P)?P:0,ee.damage+=Number.isFinite(O)?O:0,!ee.icon&&D&&(ee.icon=D),Q.skills[M]=ee,!Q.icon&&N&&(Q.icon=N),s[h][w]=Q})}))});const c=new Map;t.forEach(m=>{if(m!=null&&m.notInSquad)return;const h=i(m);h&&m!=null&&m.name&&c.set(m.name,h)});let d=0,f=0,p=0;return n.forEach(m=>{m!=null&&m.buffs&&m.buffs.forEach(h=>{const v=Number(h==null?void 0:h.id);if(!Number.isFinite(v))return;const x=a==null?void 0:a[`b${v}`],g=Ef(x==null?void 0:x.name);if(!g||x!=null&&x.classification&&x.classification!=="Condition")return;const b=g;if(!b)return;const w=h.statesPerSource||{};p+=1,Object.entries(w).forEach(([S,C])=>{var N;const M=c.get(S);if(!M)return;f+=1;const D=Jz(C),R=eU(C);d+=D;const T=((N=s[M])==null?void 0:N[b])||{applications:0,damage:0,skills:{}};T.applicationsFromBuffs=(T.applicationsFromBuffs||0)+D,T.applicationsFromBuffsActive=(T.applicationsFromBuffsActive||0)+R,s[M]=s[M]||{},s[M][b]=T;const P=l[b]||{name:b,applications:0,damage:0};P.applicationsFromBuffs=(P.applicationsFromBuffs||0)+D,P.applicationsFromBuffsActive=(P.applicationsFromBuffsActive||0)+R,l[b]=P})})}),Object.values(s).forEach(m=>{Object.values(m).forEach(h=>{typeof h.applicationsFromBuffs=="number"&&(h.applications=h.applicationsFromBuffs)})}),Object.values(l).forEach(m=>{typeof m.applicationsFromBuffs=="number"&&(m.applications=m.applicationsFromBuffs)}),{playerConditions:s,summary:l,meta:{buffStateApplicationsTotal:d,targetBuffEntriesSeen:p,buffStateSourcesSeen:f}}},Tf={Guardian:"#72C1D9",Dragonhunter:"#72C1D9",Firebrand:"#72C1D9",Willbender:"#72C1D9",Revenant:"#D16E5A",Herald:"#D16E5A",Renegade:"#D16E5A",Vindicator:"#D16E5A",Warrior:"#FFD166",Berserker:"#FFD166",Spellbreaker:"#FFD166",Bladesworn:"#FFD166",Engineer:"#D09C59",Scrapper:"#D09C59",Holosmith:"#D09C59",Mechanist:"#D09C59",Ranger:"#8CDC82",Druid:"#8CDC82",Soulbeast:"#8CDC82",Untamed:"#8CDC82",Thief:"#C08F95",Daredevil:"#C08F95",Deadeye:"#C08F95",Specter:"#C08F95",Elementalist:"#F68A87",Tempest:"#F68A87",Weaver:"#F68A87",Catalyst:"#F68A87",Mesmer:"#B679D5",Chronomancer:"#B679D5",Mirage:"#B679D5",Virtuoso:"#B679D5",Necromancer:"#52A76F",Reaper:"#52A76F",Scourge:"#52A76F",Harbinger:"#52A76F",Ritualist:"#52A76F",Luminary:"#72C1D9",Conduit:"#D16E5A",Paragon:"#FFD166",Amalgam:"#D09C59",Galeshot:"#8CDC82",Antiquary:"#C08F95",Evoker:"#F68A87",Troubadour:"#B679D5",Unknown:"#64748B"},nU={Guardian:"Guardian",Dragonhunter:"Guardian",Firebrand:"Guardian",Willbender:"Guardian",Revenant:"Revenant",Herald:"Revenant",Renegade:"Revenant",Vindicator:"Revenant",Warrior:"Warrior",Berserker:"Warrior",Spellbreaker:"Warrior",Bladesworn:"Warrior",Engineer:"Engineer",Scrapper:"Engineer",Holosmith:"Engineer",Mechanist:"Engineer",Ranger:"Ranger",Druid:"Ranger",Soulbeast:"Ranger",Untamed:"Ranger",Thief:"Thief",Daredevil:"Thief",Deadeye:"Thief",Specter:"Thief",Elementalist:"Elementalist",Tempest:"Elementalist",Weaver:"Elementalist",Catalyst:"Elementalist",Mesmer:"Mesmer",Chronomancer:"Mesmer",Mirage:"Mesmer",Virtuoso:"Mesmer",Necromancer:"Necromancer",Reaper:"Necromancer",Scourge:"Necromancer",Harbinger:"Necromancer",Ritualist:"Necromancer",Luminary:"Guardian",Conduit:"Revenant",Paragon:"Warrior",Amalgam:"Engineer",Galeshot:"Ranger",Antiquary:"Thief",Evoker:"Elementalist",Troubadour:"Mesmer",Unknown:"Unknown"};function lc(e){return Tf[e]||Tf.Unknown}function rU(e){return e?nU[e]||e:"Unknown"}function Jl(e){if(!e)return null;const t=typeof window<"u"&&/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/")?"/svg/class-icons":"./svg/class-icons",n=Tf[e]?e:null;if(n&&n!=="Unknown")return`${t}/${n}.svg`;const r=rU(e);return r&&r!=="Unknown"?`${t}/${r}.svg`:null}const aU=e=>{if(e==null||e==="")return 0;if(typeof e=="number")return!Number.isFinite(e)||e<=0?0:e>1e12?e:e*1e3;if(e instanceof Date){const o=e.getTime();return Number.isFinite(o)&&o>0?o:0}const t=String(e).trim();if(!t)return 0;const n=Number(t);if(Number.isFinite(n)&&n>0)return n>1e12?n:n*1e3;const r=Date.parse(t);if(Number.isFinite(r)&&r>0)return r;const a=t.replace(/([+-]\d{2})$/,"$1:00"),i=Date.parse(a);return Number.isFinite(i)&&i>0?i:0},Pa=(e,t)=>aU((e==null?void 0:e.uploadTime)??(t==null?void 0:t.uploadTime)??(e==null?void 0:e.timeStartStd)??(e==null?void 0:e.timeStart)??(e==null?void 0:e.timeEndStd)??(e==null?void 0:e.timeEnd)??(e==null?void 0:e.timeStartText)??(e==null?void 0:e.timeEndText)),th=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:a})=>{const i=e.filter(f=>f.details&&f.details.players&&f.details.players.length>0),o=r||Gb,s=n||SD,l=f=>{if(!f||typeof f!="object")return f;const p=Array.isArray(f.fightBreakdown)?f.fightBreakdown:null;if(!p||p.length===0)return f;const m=w=>Array.isArray(w)&&w.some(S=>S&&Number(S.count)>0),h=new Map,v=new Map;e.forEach(w=>{var S;const C=(w==null?void 0:w.filePath)||(w==null?void 0:w.id);C&&h.set(String(C),w);const N=(w==null?void 0:w.permalink)||((S=w==null?void 0:w.details)==null?void 0:S.permalink);typeof N=="string"&&N.trim()&&v.set(N.trim(),w)});const x=p.map(w=>{var S;if(!w||typeof w!="object")return w;const C=w.id?String(w.id):"",N=typeof w.permalink=="string"?w.permalink.trim():"",M=(C?h.get(C):void 0)||(N?v.get(N):void 0);if(!M)return w;let D=w;if(Number(w.timestamp)<=0){const T=Pa(M==null?void 0:M.details,M);T&&(D={...D,timestamp:T})}const R=(S=M==null?void 0:M.details)==null?void 0:S.teamBreakdown;return m(R)&&(D={...D,teamBreakdown:R}),D}),g=Array.isArray(f.fightDiffMode)?f.fightDiffMode:[],b=g.some(w=>Array.isArray(w==null?void 0:w.targetFocus)&&w.targetFocus.some(S=>Number((S==null?void 0:S.damage)||0)>0||Number((S==null?void 0:S.hits)||0)>0))?g:x.map((w,S)=>{const C=w&&typeof w.enemyClassCounts=="object"&&w.enemyClassCounts?w.enemyClassCounts:{},N=Object.entries(C).map(([ue,z])=>({label:String(ue||"Unknown"),count:Number(z||0)})).filter(ue=>ue.count>0).sort((ue,z)=>z.count-ue.count||ue.label.localeCompare(z.label)),M=N.reduce((ue,z)=>ue+z.count,0),D=N.map(ue=>({label:ue.label,damage:ue.count,hits:0,share:M>0?ue.count/M:0})),R=Number((w==null?void 0:w.enemyDowns)||0),T=Number((w==null?void 0:w.enemyDeaths)||0),P=Number((w==null?void 0:w.alliesDown)||0),O=Number((w==null?void 0:w.alliesDead)||0),W=Number((w==null?void 0:w.totalOutgoingDamage)||0),Q=Number((w==null?void 0:w.totalIncomingDamage)||0),ee=[{metricId:"winFlag",metricLabel:"Win (1) / Loss (0)",higherIsBetter:!0,value:w!=null&&w.isWin?1:0},{metricId:"squadCount",metricLabel:"Squad Size",higherIsBetter:!0,value:Number((w==null?void 0:w.squadCount)||0)},{metricId:"enemyCount",metricLabel:"Enemy Count",higherIsBetter:!1,value:Number((w==null?void 0:w.enemyCount)||0)},{metricId:"squadKdr",metricLabel:"Squad KDR",higherIsBetter:!0,value:O>0?T/O:T},{metricId:"enemyDeaths",metricLabel:"Enemy Deaths",higherIsBetter:!0,value:T},{metricId:"enemyDowns",metricLabel:"Enemy Downs",higherIsBetter:!0,value:R},{metricId:"squadDeaths",metricLabel:"Squad Deaths",higherIsBetter:!1,value:O},{metricId:"squadDowns",metricLabel:"Squad Downs",higherIsBetter:!1,value:P},{metricId:"damageDelta",metricLabel:"Damage Delta",higherIsBetter:!0,value:W-Q},{metricId:"outgoingDamage",metricLabel:"Outgoing Damage",higherIsBetter:!0,value:W},{metricId:"incomingDamage",metricLabel:"Incoming Damage",higherIsBetter:!1,value:Q},{metricId:"barrierIncomingAbsorb",metricLabel:"Barrier Absorption (Incoming)",higherIsBetter:!0,value:Number((w==null?void 0:w.incomingBarrierAbsorbed)||0)},{metricId:"enemyBarrierAbsorb",metricLabel:"Enemy Barrier Absorption",higherIsBetter:!1,value:Number((w==null?void 0:w.outgoingBarrierAbsorbed)||0)},{metricId:"alliesRevived",metricLabel:"Allies Revived (Players)",higherIsBetter:!0,value:Number((w==null?void 0:w.alliesRevived)||0)}];return{id:String((w==null?void 0:w.id)||`fight-${S+1}`),shortLabel:`F${S+1}`,fullLabel:`${String((w==null?void 0:w.mapName)||(w==null?void 0:w.label)||"Unknown Map")}  ${String((w==null?void 0:w.duration)||"--:--")}`,mapName:String((w==null?void 0:w.mapName)||""),timestamp:Number((w==null?void 0:w.timestamp)||0),duration:String((w==null?void 0:w.duration)||"--:--"),isWin:!!(w!=null&&w.isWin),targetFocus:D,squadMetrics:ee}});return{...f,fightBreakdown:x,fightDiffMode:b}},c=(()=>{if(t)return l(t);const f=a||Qz,p=o.topSkillDamageSource||"target",m=o.topSkillsMetric||"damage",h=i.length;let v=0,x=0,g=0,b=0,w=0,S=0,C=0,N=0;const M=A=>{const U=((A==null?void 0:A.players)||[]).filter(Fe=>!Fe.notInSquad);let te=0,ye=0,J=0,Oe=0;return U.forEach(Fe=>{var st;const vt=(st=Fe.defenses)==null?void 0:st[0];if(!vt)return;const gt=Number(vt.downCount||0),Ft=Number(vt.deadCount||0);te+=gt+Ft,J+=Ft}),U.forEach(Fe=>{!Fe.statsTargets||Fe.statsTargets.length===0||Fe.statsTargets.forEach(st=>{const vt=st==null?void 0:st[0];if(!vt)return;const gt=Number(vt.downed||0),Ft=Number(vt.killed||0);ye+=gt+Ft,Oe+=Ft})}),{squadDownsDeaths:te,enemyDownsDeaths:ye,squadDeaths:J,enemyDeaths:Oe}},D=A=>{const{squadDownsDeaths:U,enemyDownsDeaths:te}=M(A);return U>0||te>0?te>U:typeof(A==null?void 0:A.success)=="boolean"?A.success:!1},R=new Map,T=new Set(["boonStripsTime","condiCleanseTime","condiCleanseTimeSelf"]),P={},O={},W=new Map,Q={},ee={},ue={},z=new Map,B=new Map,ie=new Set(Object.keys(Tf)),k=Object.keys(Tf).filter(A=>A&&A!=="Unknown").sort((A,U)=>U.length-A.length),I=["Guardian","Revenant","Warrior","Engineer","Ranger","Thief","Elementalist","Mesmer","Necromancer"],E=A=>{if(!A)return"Unknown";const U=String(A).replace(/\s*\([^)]*\)\s*$/,"").replace(/\s*\[[^\]]*\]\s*$/,"").replace(/\s\d+$/,"").trim();if(ie.has(U))return U;const te=U.toLowerCase();for(const ye of k)if(te.includes(ye.toLowerCase()))return ye;return I.find(ye=>te.includes(ye.toLowerCase()))||U||"Unknown"},j=A=>A!=null&&A.classification?A.classification==="Boon":!0,L=new Map,G=new Map,Z=()=>({totalHits:0,blocked:0,evaded:0,glanced:0,missed:0,invulned:0,interrupted:0,totalMitigation:0,minMitigation:0}),Y=A=>{const U=Number(A);return Number.isFinite(U)?U:0},q=A=>{const U=String(A).split("|"),te=U[0]||"Unknown",ye=E(U[1]||"Unknown"),J=U[2]||te||"Unknown";return{name:te,profession:ye,account:J}},_=(A,U,te)=>{let ye=A.get(U);return ye?te.profession&&!ye.professionList.includes(te.profession)&&ye.professionList.push(te.profession):(ye={account:te.account,name:te.name,profession:te.profession,professionList:te.profession?[te.profession]:[],activeMs:0,mitigationTotals:Z()},A.set(U,ye)),ye},ne=(A,U,te)=>{let ye=A.get(U);return ye?te.profession&&!ye.professionList.includes(te.profession)&&ye.professionList.push(te.profession):(ye={account:te.account,name:te.name,profession:te.profession,professionList:te.profession?[te.profession]:[],activeMs:0,mitigationTotals:Z(),minion:te.minion},A.set(U,ye)),ye},re=(A,U)=>{A.totalHits+=Y((U==null?void 0:U.skill_hits)??(U==null?void 0:U.skillHits)),A.blocked+=Y(U==null?void 0:U.blocked),A.evaded+=Y(U==null?void 0:U.evaded),A.glanced+=Y(U==null?void 0:U.glanced),A.missed+=Y(U==null?void 0:U.missed),A.invulned+=Y(U==null?void 0:U.invulned),A.interrupted+=Y(U==null?void 0:U.interrupted),A.totalMitigation+=Y((U==null?void 0:U.avoided_damage)??(U==null?void 0:U.avoidedDamage)),A.minMitigation+=Y((U==null?void 0:U.min_avoided_damage)??(U==null?void 0:U.minAvoidedDamage))},F=A=>Object.values(A).some(U=>U>0),ae=(A,U,te)=>{var ye,J,Oe,Fe;const st=`s${A}`;if((ye=U==null?void 0:U[st])!=null&&ye.name)return U[st].name;if((J=U==null?void 0:U[String(A)])!=null&&J.name)return U[String(A)].name;const vt=`b${A}`;return(Oe=te==null?void 0:te[vt])!=null&&Oe.name?te[vt].name:(Fe=te==null?void 0:te[String(A)])!=null&&Fe.name?te[String(A)].name:`Unknown Skill ${A}`},H=new Map,$=A=>{const U=H.get(A);if(!U)return{hasSkill:!1,avg:1,min:1,hits:0};const te=U.connectedHits||0,ye=te>0?U.totalDamage/te:0,J=U.minCount>0?U.minTotal/U.minCount:0;return{hasSkill:!0,avg:ye,min:J,hits:te}},le="Ashtonlightstone.9145",we="Illusionary Warden",et=[],de=[],Ye=[],Re=[],ht=new Map,Xt=new Map,Tn=(A,U,te)=>{const ye=A.get(U)||Z();return ye.totalHits+=te.totalHits,ye.blocked+=te.blocked,ye.evaded+=te.evaded,ye.glanced+=te.glanced,ye.missed+=te.missed,ye.invulned+=te.invulned,ye.interrupted+=te.interrupted,A.set(U,ye),ye};i.forEach(A=>{const U=A.details;U&&(U.targets||[]).forEach(te=>{const ye=(te==null?void 0:te.totalDamageDist)||[],J=Array.isArray(ye)?ye[0]:null;J==null||J.forEach(Oe=>{if(!(Oe!=null&&Oe.id))return;const Fe=Number(Oe.id),st=H.get(Fe)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};st.totalDamage+=Number(Oe.totalDamage||0),st.connectedHits+=Number(Oe.connectedHits||0);const vt=Number.isFinite(Number(Oe.min))?Number(Oe.min):0;st.minTotal+=vt,st.minCount+=1,H.set(Fe,st)})})}),i.forEach((A,U)=>{var te,ye;const J=A.details;if(!J)return;const Oe=J.players,Fe=J.targets||[],st=J.skillMap||{},vt=J.buffMap||{},gt=new Map,Ft=new Map;Fe.forEach(V=>{const ce=(V==null?void 0:V.totalDamageDist)||[],je=Array.isArray(ce)?ce[0]:null;je==null||je.forEach(Ce=>{var be;if(!(Ce!=null&&Ce.id))return;const $e=Number(Ce.id),Xe=((be=st==null?void 0:st[$e])==null?void 0:be.name)||Ce.name||Ce.skillName||String($e),qe=gt.get($e)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};qe.totalDamage+=Number(Ce.totalDamage||0),qe.connectedHits+=Number(Ce.connectedHits||0);const Bt=Number.isFinite(Number(Ce.min))?Number(Ce.min):0;qe.minTotal+=Bt,qe.minCount+=1,gt.set($e,qe);const Gt=Ft.get(Xe)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};Gt.totalDamage+=Number(Ce.totalDamage||0),Gt.connectedHits+=Number(Ce.connectedHits||0);const Vt=Number.isFinite(Number(Ce.min))?Number(Ce.min):0;Gt.minTotal+=Vt,Gt.minCount+=1,Ft.set(Xe,Gt)})});const mn=V=>{const ce=gt.get(V);if(!ce||ce.connectedHits<=0)return{avg:1,min:1};const je=ce.connectedHits>0?ce.totalDamage/ce.connectedHits:0,Ce=ce.minCount>0?ce.minTotal/ce.minCount:je;return{avg:je||1,min:Ce||1}},dn=V=>{const ce=Ft.get(V);if(!ce||ce.connectedHits<=0)return{avg:1,min:1};const je=ce.connectedHits>0?ce.totalDamage/ce.connectedHits:0,Ce=ce.minCount>0?ce.minTotal/ce.minCount:je;return{avg:je||1,min:Ce||1}},Je=J.combatReplayMetaData||{},He=(Je==null?void 0:Je.inchToPixel)>0?Je.inchToPixel:1,ot=(Je==null?void 0:Je.pollingRate)>0?Je.pollingRate:1,Et=5e3,Ht=V=>Array.isArray(V)?V.map(ce=>Array.isArray(ce)?[Number(ce[0]),Number(ce[1])]:null).filter(ce=>!!ce&&Number.isFinite(ce[0])):[];let me=[],Se=J.durationMS||0,ke=!1;const ze=Oe.find(V=>(V==null?void 0:V.hasCommanderTag)&&!(V!=null&&V.notInSquad));(te=ze==null?void 0:ze.combatReplayData)!=null&&te.positions&&(me=ze.combatReplayData.positions,Ht(ze.combatReplayData.dead).forEach(([V])=>{V>0&&(ke=!0,Se=Math.min(Se,V))}));const he=V=>{var ce;const je=(ce=V.statsAll)==null?void 0:ce[0];if((je==null?void 0:je.distToCom)!==void 0&&(je==null?void 0:je.distToCom)!=="Infinity")return Math.round(Number(je.distToCom));if((je==null?void 0:je.stackDist)!==void 0)return Math.round(Number(je.stackDist))||0;if(V.hasCommanderTag)return 0;const Ce=V.combatReplayData;if(!(Ce!=null&&Ce.positions)||!me.length)return 0;const be=Ce.positions,$e=Ht(Ce.dead),Xe=Ht(Ce.down),qe=Math.floor((Ce.start||0)/ot);let Bt=0;if($e.length&&Xe.length)for(const[Gt]of $e){if(Gt<0)continue;const Vt=Math.max(0,Math.floor(Gt/ot))-qe;for(const[lt,Zt]of Xe){if(Gt!==Zt)continue;const dt=ke&&lt>Se?Math.max(1,Math.floor(Se/ot)):Vt,rn=Math.max(0,Math.min(dt,be.length,me.length));if(rn<=0)continue;let _t=0;for(let Mt=0;Mt<rn;Mt++){const[Ae,xe]=be[Mt],[wt,At]=me[Mt];_t+=Math.hypot(Ae-wt,xe-At)}Bt=Math.round(_t/rn/He)}}return Bt},Le=Oe.filter(V=>!V.notInSquad);g+=Le.length,b+=Fe.filter(V=>!V.isFake).length,Gz(Oe,{durationMS:J.durationMS,buffMap:J.buffMap});const{squadDeaths:Ne,enemyDeaths:bt}=M(J);w+=Ne,S+=bt,N+=Ne,C+=bt,D(J)?v++:x++;const rt=J.skillMap?Number((ye=Object.keys(J.skillMap).find(V=>{var ce,je;return((je=(ce=J.skillMap)==null?void 0:ce[V])==null?void 0:je.name)==="Battle Standard"}))==null?void 0:ye.replace(/^s/,"")):null;Oe.forEach((V,ce)=>{var je,Ce,be,$e,Xe,qe,Bt,Gt,Vt,lt,Zt,dt,rn;if(V.notInSquad)return;const _t=V.account||"Unknown",Mt=_t!=="Unknown"?_t:V.name||"Unknown",Ae=V.name||"Unknown";R.has(Mt)||R.set(Mt,{name:Ae,account:Mt,characterNames:new Set,downContrib:0,cleanses:0,strips:0,stab:0,healing:0,barrier:0,cc:0,logsJoined:0,totalDist:0,distCount:0,dodges:0,downs:0,deaths:0,totalFightMs:0,offenseTotals:{},offenseRateWeights:{},defenseActiveMs:0,defenseTotals:{},defenseMinionDamageTaken:{},supportActiveMs:0,supportTotals:{},healingActiveMs:0,healingTotals:{},profession:V.profession||"Unknown",professions:new Set,professionTimeMs:{},squadActiveMs:0,firstSeenFightTs:0,lastSeenFightTs:0,lastSeenFightDurationMs:0,isCommander:!1,damage:0,dps:0,revives:0,outgoingConditions:{},incomingConditions:{}});const xe=R.get(Mt);if(V.hasCommanderTag&&(xe.isCommander=!0),Ae!=="Unknown"&&xe.characterNames.add(String(Ae)),V.profession&&V.profession!=="Unknown"){xe.profession=V.profession,xe.professions.add(V.profession);const Pe=Array.isArray(V.activeTimes)&&typeof V.activeTimes[0]=="number"?V.activeTimes[0]:J.durationMS||0;xe.professionTimeMs[V.profession]=(xe.professionTimeMs[V.profession]||0)+Pe}xe.logsJoined++,xe.downContrib+=G2(V),xe.cleanses+=K2(V),xe.strips+=Y2(V,f),xe.healing+=Q2(V),xe.barrier+=X2(V),xe.cc+=Z2(V,f),xe.stab+=V.stabGeneration||0;const wt=he(V);wt<=Et&&(xe.totalDist+=wt,xe.distCount++),(je=V.defenses)!=null&&je[0]&&(xe.dodges+=V.defenses[0].dodgeCount||0,xe.downs+=V.defenses[0].downCount||0,xe.deaths+=V.defenses[0].deadCount||0),J.durationMS&&(xe.totalFightMs+=J.durationMS);const At=Array.isArray(V.activeTimes)&&typeof V.activeTimes[0]=="number"?V.activeTimes[0]:J.durationMS||0;xe.squadActiveMs+=At;const qt=Pa(J,A),kn=Number((J==null?void 0:J.durationMS)||0);if(qt>0&&((xe.firstSeenFightTs<=0||qt<xe.firstSeenFightTs)&&(xe.firstSeenFightTs=qt),xe.lastSeenFightTs<=0||qt>xe.lastSeenFightTs?(xe.lastSeenFightTs=qt,xe.lastSeenFightDurationMs=kn):qt===xe.lastSeenFightTs&&kn>xe.lastSeenFightDurationMs&&(xe.lastSeenFightDurationMs=kn)),xe.defenseActiveMs+=At,xe.supportActiveMs+=At,xe.healingActiveMs+=At,Array.isArray(V.buffUptimes)&&V.buffUptimes.length>0&&V.buffUptimes.forEach(Pe=>{var Ge,nt,ct,on,Mn,yn;if(typeof(Pe==null?void 0:Pe.id)!="number")return;const er=`b${Pe.id}`,fn=((Ge=J.buffMap)==null?void 0:Ge[er])||((nt=J.buffMap)==null?void 0:nt[String(Pe.id)]);if(!fn||j(fn))return;const Sn=Number(((on=(ct=Pe.buffData)==null?void 0:ct[0])==null?void 0:on.uptime)??0),tr=Number(((yn=(Mn=Pe.buffData)==null?void 0:Mn[0])==null?void 0:yn.presence)??0);if((!Number.isFinite(Sn)||Sn<=0)&&(!Number.isFinite(tr)||tr<=0))return;const Ei=(fn==null?void 0:fn.stacking)??!1,$c=(Ei?Number.isFinite(Sn)?Sn:0:Number.isFinite(Sn)?Sn/100:0)*At,Hp=Ei?tr:Sn,Va=Math.min(Math.max(Number.isFinite(Hp)?Hp:0,0),100)/100*At,qp=Number.isFinite($c)&&$c>0,Ol=Number.isFinite(Va)&&Va>0;if(!qp&&!Ol)return;const ma=Qc(fn==null?void 0:fn.name);if(ma&&iz.has(ma)&&(!(fn!=null&&fn.classification)||fn.classification==="Condition")){const Go=$c/1e3,Wa=fn==null?void 0:fn.icon,Il=Q[ma]||{name:ma,icon:Wa,applications:0,damage:0};Il.applicationsFromUptime=(Il.applicationsFromUptime||0)+Go,!Il.icon&&Wa&&(Il.icon=Wa),Q[ma]=Il;const _l=xe.outgoingConditions[ma]||{applications:0,damage:0,skills:{},icon:Wa};_l.applicationsFromUptime=(_l.applicationsFromUptime||0)+Go,!_l.icon&&Wa&&(_l.icon=Wa),xe.outgoingConditions[ma]=_l;const Aa=ee[ma]||{name:ma,icon:Wa,applications:0,damage:0};Aa.applicationsFromUptime=(Aa.applicationsFromUptime||0)+Go,!Aa.icon&&Wa&&(Aa.icon=Wa),ee[ma]=Aa;const Ti=xe.incomingConditions[ma]||{applications:0,damage:0,skills:{},icon:Wa};Ti.applicationsFromUptime=(Ti.applicationsFromUptime||0)+Go,!Ti.icon&&Wa&&(Ti.icon=Wa),xe.incomingConditions[ma]=Ti}z.has(er)||z.set(er,{name:fn==null?void 0:fn.name,stacking:Ei,icon:fn==null?void 0:fn.icon}),B.has(er)||B.set(er,new Map);const Kp=B.get(er),dd=xe.account||V.account||V.name||"Unknown";let Cr=Kp.get(dd);Cr||(Cr={account:dd,profession:xe.profession||V.profession||"Unknown",professions:new Set,professionTimeMs:{},totalMs:0,uptimeMs:0,durationMs:0},Kp.set(dd,Cr));const Rs=V.profession||xe.profession;Rs&&Rs!=="Unknown"&&(Cr.professions.add(Rs),Cr.professionTimeMs[Rs]=(Cr.professionTimeMs[Rs]||0)+At,Cr.profession=Rs),Cr.totalMs+=qp?$c:0,Cr.uptimeMs+=Ol?Va:0,Cr.durationMs+=At}),(Ce=V.defenses)!=null&&Ce[0]){const Pe=nt=>{let ct=String(nt||"Unknown").replace(/^Juvenile\s+/i,"")||"Unknown";return ct.toUpperCase().includes("UNKNOWN")&&(ct="Unknown"),ct},Ge=(()=>{const nt=Array.isArray(V==null?void 0:V.minions)?V.minions:[];if(nt.length===0)return{total:0,byMinion:{}};let ct=0;const on={};return nt.forEach(Mn=>{const yn=Array.isArray(Mn==null?void 0:Mn.totalDamageTakenDist)?Mn.totalDamageTakenDist:[],er=Array.isArray(yn[0])?yn[0]:[],fn=Pe(Mn==null?void 0:Mn.name);er.forEach(Sn=>{const tr=Number((Sn==null?void 0:Sn.totalDamage)??(Sn==null?void 0:Sn.damageTaken)??0);Number.isFinite(tr)&&(ct+=tr,on[fn]=(on[fn]||0)+tr)})}),{total:ct,byMinion:on}})();Ge.byMinion&&typeof Ge.byMinion=="object"&&Object.entries(Ge.byMinion).forEach(([nt,ct])=>{const on=Number(ct||0);!Number.isFinite(on)||on<=0||(xe.defenseMinionDamageTaken[nt]=(xe.defenseMinionDamageTaken[nt]||0)+on)}),cD.forEach(nt=>{const ct=nt.id==="minionDamageTaken"?Ge.total:Number(V.defenses[0][nt.field]??0);Number.isFinite(ct)&&(xe.defenseTotals[nt.id]=(xe.defenseTotals[nt.id]||0)+ct)})}(be=V.support)!=null&&be[0]&&uD.forEach(Pe=>{let Ge=Number(V.support[0][Pe.field]??0);Number.isFinite(Ge)&&(T.has(Pe.field)&&Ge>999999&&(Ge=0),xe.supportTotals[Pe.id]=(xe.supportTotals[Pe.id]||0)+Ge)});const Br=(Pe,Ge)=>{Number.isFinite(Ge)&&(xe.healingTotals[Pe]=(xe.healingTotals[Pe]||0)+Ge)},ra=(Pe,Ge)=>Array.isArray(Pe)?Pe.reduce((nt,ct)=>nt+Number((ct==null?void 0:ct[Ge])??0),0):0,Gr=(Pe,Ge,nt)=>{if(!Number.isFinite(nt)||nt<=0)return;const ct=Oe[Ge],on=Ge===ce,Mn=ct==null?void 0:ct.notInSquad,yn=!Mn,er=yn&&(ct==null?void 0:ct.group)!=null&&ct.group===V.group;Br(Pe,nt),yn&&Br(`squad${Pe[0].toUpperCase()}${Pe.slice(1)}`,nt),er&&Br(`group${Pe[0].toUpperCase()}${Pe.slice(1)}`,nt),on&&Br(`self${Pe[0].toUpperCase()}${Pe.slice(1)}`,nt),Mn&&Br(`offSquad${Pe[0].toUpperCase()}${Pe.slice(1)}`,nt)};if(Array.isArray(V.rotation)){let Pe=0;V.rotation.forEach(Ge=>{var nt;if(!(Ge!=null&&Ge.id)||!uz(Ge.id,J.skillMap))return;const ct=((nt=Ge.skills)==null?void 0:nt.length)||0;ct>0&&(Pe+=ct,Br(`resUtility_s${Ge.id}`,ct))}),Pe>0&&Br("resUtility",Pe)}const Ai=($e=V.extHealingStats)==null?void 0:$e.outgoingHealingAllies;Array.isArray(Ai)&&Ai.forEach((Pe,Ge)=>{const nt=ra(Pe,"healing"),ct=ra(Pe,"downedHealing");Gr("healing",Ge,nt),Gr("downedHealing",Ge,ct)});const Rc=(Xe=V.extBarrierStats)==null?void 0:Xe.outgoingBarrierAllies;Array.isArray(Rc)&&Rc.forEach((Pe,Ge)=>{const nt=ra(Pe,"barrier");Gr("barrier",Ge,nt)});const _s=(qe=V.statsAll)==null?void 0:qe[0],jo=(Bt=V.dpsAll)==null?void 0:Bt[0],Wp=(Gt=V.support)==null?void 0:Gt[0];if(lD.forEach(Pe=>{if(Pe.id==="downContributionPercent"||!Pe.field)return;let Ge=0,nt=0;Pe.source==="dpsAll"&&jo?Ge=Number(jo[Pe.field]??0):Pe.source==="statsAll"&&_s?(Ge=Number(_s[Pe.field]??0),nt=Number(_s[Pe.denomField||Pe.weightField||"connectedDamageCount"]??0)):Pe.source==="support"&&Wp?Ge=Number(Wp[Pe.field]??0):V.statsTargets&&V.statsTargets.forEach(ct=>{ct!=null&&ct[0]&&(Ge+=Number(ct[0][Pe.field]??0),nt+=Number(ct[0][Pe.denomField||Pe.weightField||"connectedDamageCount"]??0))}),Number.isFinite(Ge)&&(xe.offenseTotals[Pe.id]=(xe.offenseTotals[Pe.id]||0)+Ge,Pe.isRate&&nt>0&&(xe.offenseRateWeights[Pe.id]=(xe.offenseRateWeights[Pe.id]||0)+nt))}),V.targetDamageDist&&Number.isFinite(rt)){const Pe=V.targetDamageDist.flatMap(Ge=>Ge||[]).flatMap(Ge=>Ge||[]).reduce((Ge,nt)=>nt!=null&&nt.id&&nt.id===rt?Ge+((nt==null?void 0:nt.connectedHits)||0):Ge,0);xe.offenseTotals.battleStandardHits=(xe.offenseTotals.battleStandardHits||0)+Pe}xe.revives+=((lt=(Vt=V.support)==null?void 0:Vt[0])==null?void 0:lt.resurrects)||0,jo&&(xe.damage+=jo.damage||0,xe.dps+=jo.dps||0);const Co=Pe=>{var Ge,nt,ct,on;let Mn=`Skill ${Pe.id}`;const yn=((Ge=J.skillMap)==null?void 0:Ge[`s${Pe.id}`])||((nt=J.skillMap)==null?void 0:nt[`${Pe.id}`]);let er=yn==null?void 0:yn.icon;if(yn!=null&&yn.name&&(Mn=yn.name),Mn.startsWith("Skill ")){const fn=eh(Mn,Pe.id,J.buffMap);fn&&(Mn=fn,er=((on=(ct=J.buffMap)==null?void 0:ct[`b${Pe.id}`])==null?void 0:on.icon)||er)}return{name:Mn,icon:er}},Ls=Pe=>{if(!(Pe!=null&&Pe.id))return;const{name:Ge,icon:nt}=Co(Pe);P[Pe.id]||(P[Pe.id]={name:Ge,icon:nt,damage:0,hits:0,downContribution:0}),P[Pe.id].name.startsWith("Skill ")&&!Ge.startsWith("Skill ")&&(P[Pe.id].name=Ge),!P[Pe.id].icon&&nt&&(P[Pe.id].icon=nt),P[Pe.id].damage+=Pe.totalDamage,P[Pe.id].hits+=Pe.connectedHits,P[Pe.id].downContribution+=Number(Pe.downContribution||0)},ud=V.account||V.name||"Unknown",Fs=V.profession||"Unknown",ci=`${ud}|${Fs}`;let ui=W.get(ci);ui||(ui={key:ci,account:ud,displayName:ud,profession:Fs,professionList:[Fs],totalFightMs:0,skills:new Map},W.set(ci,ui)),ui.professionList.includes(Fs)||ui.professionList.push(Fs),ui.totalFightMs+=J.durationMS||0;const di=Pe=>{if(!(Pe!=null&&Pe.id))return;const{name:Ge,icon:nt}=Co(Pe),ct=`s${Pe.id}`;let on=ui.skills.get(ct);on||(on={id:ct,name:Ge,icon:nt,damage:0,downContribution:0},ui.skills.set(ct,on)),on.name.startsWith("Skill ")&&!Ge.startsWith("Skill ")&&(on.name=Ge),!on.icon&&nt&&(on.icon=nt),on.damage+=Number(Pe.totalDamage||0),on.downContribution+=Number(Pe.downContribution||0)};if(p==="total")(Zt=V.totalDamageDist)==null||Zt.forEach(Pe=>{Pe==null||Pe.forEach(Ge=>{Ls(Ge),di(Ge)})});else{const Pe=new Map;(dt=V.targetDamageDist)==null||dt.forEach(Ge=>{Ge==null||Ge.forEach(nt=>{nt==null||nt.forEach(ct=>{const on=Number(ct==null?void 0:ct.id);if(Number.isFinite(on)){const Mn=Pe.get(on)||{damage:0,hits:0,downContribution:0};Mn.damage+=Number((ct==null?void 0:ct.totalDamage)||0),Mn.hits+=Number((ct==null?void 0:ct.connectedHits)||0),Mn.downContribution+=Number((ct==null?void 0:ct.downContribution)||0),Pe.set(on,Mn)}Ls(ct),di(ct)})})}),!(J!=null&&J.detailedWvW)&&((rn=V.totalDamageDist)==null||rn.forEach(Ge=>{Ge==null||Ge.forEach(nt=>{const ct=Number(nt==null?void 0:nt.id);if(!Number.isFinite(ct))return;const on=Pe.get(ct);if(!on){Ls(nt),di(nt);return}const Mn=Number((nt==null?void 0:nt.totalDamage)||0),yn=Number((nt==null?void 0:nt.connectedHits)||0),er=Number((nt==null?void 0:nt.downContribution)||0),fn=Mn-Number(on.damage||0),Sn=yn-Number(on.hits||0),tr=er-Number(on.downContribution||0);if(fn<=0&&Sn<=0&&tr<=0)return;const Ei={...nt,totalDamage:Math.max(0,fn),connectedHits:Math.max(0,Sn),downContribution:Math.max(0,tr)};Ls(Ei),di(Ei)})}))}V.totalDamageTaken&&V.totalDamageTaken.forEach(Pe=>{Pe==null||Pe.forEach(Ge=>{var nt,ct,on,Mn;if(!(Ge!=null&&Ge.id))return;let yn=`Skill ${Ge.id}`;const er=((nt=J.skillMap)==null?void 0:nt[`s${Ge.id}`])||((ct=J.skillMap)==null?void 0:ct[`${Ge.id}`]);let fn=er==null?void 0:er.icon;if(er!=null&&er.name&&(yn=er.name),yn.startsWith("Skill ")){const Sn=eh(yn,Ge.id,J.buffMap);Sn&&(yn=Sn,fn=((Mn=(on=J.buffMap)==null?void 0:on[`b${Ge.id}`])==null?void 0:Mn.icon)||fn)}O[Ge.id]||(O[Ge.id]={name:yn,icon:fn,damage:0,hits:0}),(!O[Ge.id].name.startsWith("Skill ")||yn.startsWith("Skill "))&&(O[Ge.id].name=yn),!O[Ge.id].icon&&fn&&(O[Ge.id].icon=fn),O[Ge.id].damage+=Ge.totalDamage,O[Ge.id].hits+=Ge.hits})})}),Fe.forEach(V=>{if(V!=null&&V.isFake)return;const ce=E((V==null?void 0:V.profession)||(V==null?void 0:V.name)||(V==null?void 0:V.id));ce&&(ue[ce]=(ue[ce]||0)+1)});const at=tU({players:Oe,targets:Fe,skillMap:J.skillMap,buffMap:J.buffMap,getPlayerKey:V=>V.account&&V.account!=="Unknown"?V.account:V.name||null}),Rt=jD(J.buffMap);Object.entries(at.playerConditions).forEach(([V,ce])=>{const je=R.get(V);je&&Object.entries(ce).forEach(([Ce,be])=>{const $e=je.outgoingConditions[Ce]||{applications:0,damage:0,skills:{},icon:be.icon};$e.applications+=Number(be.applications||0),$e.damage+=Number(be.damage||0),be.applicationsFromBuffs&&($e.applicationsFromBuffs=($e.applicationsFromBuffs||0)+be.applicationsFromBuffs),be.applicationsFromBuffsActive&&($e.applicationsFromBuffsActive=($e.applicationsFromBuffsActive||0)+be.applicationsFromBuffsActive),Object.entries(be.skills||{}).forEach(([Xe,qe])=>{const Bt=$e.skills[Xe]||{name:qe.name,hits:0,damage:0,icon:qe.icon};Bt.hits+=Number(qe.hits||0),Bt.damage+=Number(qe.damage||0),!Bt.icon&&qe.icon&&(Bt.icon=qe.icon),$e.skills[Xe]=Bt}),!$e.icon&&be.icon&&($e.icon=be.icon),je.outgoingConditions[Ce]=$e})}),Object.entries(at.summary).forEach(([V,ce])=>{const je=Q[V]||{name:ce.name||V,icon:ce.icon,applications:0,damage:0};je.applications+=Number(ce.applications||0),je.damage+=Number(ce.damage||0),ce.applicationsFromBuffs&&(je.applicationsFromBuffs=(je.applicationsFromBuffs||0)+ce.applicationsFromBuffs),ce.applicationsFromBuffsActive&&(je.applicationsFromBuffsActive=(je.applicationsFromBuffsActive||0)+ce.applicationsFromBuffsActive),!je.icon&&ce.icon&&(je.icon=ce.icon),Q[V]=je}),Le.forEach(V=>{const ce=V.account&&V.account!=="Unknown"?V.account:V.name||"Unknown",je=R.get(ce);!je||!V.totalDamageTaken||V.totalDamageTaken.forEach(Ce=>Ce==null?void 0:Ce.forEach(be=>{var $e,Xe,qe,Bt,Gt,Vt;if(!(be!=null&&be.id))return;let lt=`Skill ${be.id}`;const Zt=(($e=J.skillMap)==null?void 0:$e[`s${be.id}`])||((Xe=J.skillMap)==null?void 0:Xe[`${be.id}`]);Zt!=null&&Zt.name&&(lt=Zt.name);const dt=eh(lt,be.id,J.buffMap);if(!dt)return;const rn=(Bt=(qe=J.buffMap)==null?void 0:qe[`b${be.id}`])==null?void 0:Bt.name,_t=Rt.get(dt)||((Vt=(Gt=J.buffMap)==null?void 0:Gt[`b${be.id}`])==null?void 0:Vt.icon),Mt=(Zt==null?void 0:Zt.icon)||_t;lt.startsWith("Skill ")&&(rn||dt)&&(lt=rn||dt);const Ae=Number(be.hits??0),xe=Number(be.totalDamage??0),wt=ee[dt]||{name:dt,icon:_t,applications:0,damage:0};wt.applications+=Number.isFinite(Ae)?Ae:0,wt.damage+=Number.isFinite(xe)?xe:0,!wt.icon&&_t&&(wt.icon=_t),ee[dt]=wt;const At=je.incomingConditions[dt]||{applications:0,damage:0,skills:{},icon:_t};At.applications+=Number.isFinite(Ae)?Ae:0,At.damage+=Number.isFinite(xe)?xe:0;const qt=At.skills[lt]||{name:lt,hits:0,damage:0,icon:Mt};qt.hits+=Number.isFinite(Ae)?Ae:0,qt.damage+=Number.isFinite(xe)?xe:0,!qt.icon&&Mt&&(qt.icon=Mt),At.skills[lt]=qt,!At.icon&&_t&&(At.icon=_t),je.incomingConditions[dt]=At}))});const wn=J.player_damage_mitigation||J.playerDamageMitigation,Ln=wn&&typeof wn=="object"&&Object.keys(wn).length>0;Ln&&Object.entries(wn).forEach(([V,ce])=>{if(!ce||typeof ce!="object")return;const je=q(V),Ce=_(L,je.account,je);Object.values(ce).forEach(be=>{Y((be==null?void 0:be.avoided_damage)??(be==null?void 0:be.avoidedDamage))<=0||re(Ce.mitigationTotals,be)})});const Jn=J.player_minion_damage_mitigation||J.playerMinionDamageMitigation,xt=Jn&&typeof Jn=="object"&&Object.keys(Jn).length>0;xt&&Object.entries(Jn).forEach(([V,ce])=>{if(!ce||typeof ce!="object")return;const je=q(V);Object.entries(ce).forEach(([Ce,be])=>{if(!be||typeof be!="object")return;const $e=`${je.account}::${Ce}`,Xe=ne(G,$e,{...je,minion:String(Ce||"Unknown")});Object.values(be).forEach(qe=>{re(Xe.mitigationTotals,qe)})})}),(!Ln||!xt)&&(Ln||Le.forEach(V=>{const ce=(V==null?void 0:V.totalDamageTaken)||[];if(!Array.isArray(ce)||ce.length===0)return;const je=V.account||V.name||"Unknown",Ce={account:je,name:V.name||je,profession:E(V.profession||"Unknown")};_(L,je,Ce);const be=J.skillMap||{},$e=J.buffMap||{},Xe=Array.isArray(ce)?ce[0]:null;if(Xe==null||Xe.forEach(qe=>{if(!(qe!=null&&qe.id))return;const Bt=Y(qe.blocked),Gt=Y(qe.evaded),Vt=Y(qe.glance??qe.glanced),lt=Y(qe.missed),Zt=Y(qe.invulned),dt=Y(qe.interrupted),rn=Y(qe.hits??qe.connectedHits),_t=Number(qe.id),Mt=ae(_t,be,$e);if(Tn(ht,`${je}::${_t}`,{totalHits:rn,blocked:Bt,evaded:Gt,glanced:Vt,missed:lt,invulned:Zt,interrupted:dt}),je===le){const Ae=H.get(_t),xe=$(_t),wt=xe.hasSkill?xe.hits>0?xe.avg:0:1,At=xe.hasSkill?xe.min||0:1,qt=xe.hits>0?Vt*wt/2+(Bt+Gt+lt+Zt+dt)*wt:0,kn=xe.hits>0?Vt*At/2+(Bt+Gt+lt+Zt+dt)*At:0;Ye.push({logId:A.filePath||A.id||U,skillId:qe.id,skillName:Mt,blocked:Bt,evaded:Gt,glanced:Vt,missed:lt,invulned:Zt,interrupted:dt,totalAvoids:Bt+Gt+Vt+lt+Zt+dt,avg:wt,min:At,enemyHits:(Ae==null?void 0:Ae.connectedHits)??0,enemyTotalDmg:(Ae==null?void 0:Ae.totalDamage)??0,avoidDmg:qt,avoidMinDmg:kn})}}),je===le){const qe=(Bt,Gt)=>{let Vt=0,lt=0,Zt=0;if(!Array.isArray(Bt))return{total:Vt,minTotal:lt,hits:Zt};for(const dt of Bt){if(!(dt!=null&&dt.id))continue;const rn=Y(dt.blocked),_t=Y(dt.evaded),Mt=Y(dt.glance??dt.glanced),Ae=Y(dt.missed),xe=Y(dt.invulned),wt=Y(dt.interrupted),At=ae(Number(dt.id),st,vt),qt=Gt(Number(dt.id),At);(qt.hits??0)>0&&(Vt+=Mt*qt.avg/2+(rn+_t+Ae+xe+wt)*qt.avg,lt+=Mt*qt.min/2+(rn+_t+Ae+xe+wt)*qt.min),Zt+=Y(dt.hits??dt.connectedHits)}return{total:Vt,minTotal:lt,hits:Zt}};Re.push({logId:A.filePath||A.id||U,variant:"current_global_name_taken0",...qe(Xe,(Bt,Gt)=>{const Vt=$(Bt),lt=Vt.hasSkill?Vt.hits>0?Vt.avg:0:1,Zt=Vt.hasSkill?Vt.min||0:1;return{avg:lt,min:Zt,hits:Vt.hits}})})}}),xt||Le.forEach(V=>{const ce=(V==null?void 0:V.minions)||[];if(!Array.isArray(ce)||ce.length===0)return;const je=V.account||V.name||"Unknown",Ce={account:je,name:V.name||je,profession:E(V.profession||"Unknown")},be=J.skillMap||{},$e=J.buffMap||{};ce.forEach(Xe=>{const qe=(Xe==null?void 0:Xe.totalDamageTakenDist)||[];if(!Array.isArray(qe)||qe.length===0)return;let Bt=String((Xe==null?void 0:Xe.name)||"Unknown").replace(/^Juvenile\s+/i,"")||"Unknown";Bt.toUpperCase().includes("UNKNOWN")&&(Bt="Unknown");const Gt=`${je}::${Bt}`;ne(G,Gt,{...Ce,minion:Bt});const Vt=Array.isArray(qe)?qe[0]:null;if(Vt==null||Vt.forEach(lt=>{if(!(lt!=null&&lt.id))return;const Zt=Y(lt.blocked),dt=Y(lt.evaded),rn=Y(lt.glance??lt.glanced),_t=Y(lt.missed),Mt=Y(lt.invulned),Ae=Y(lt.interrupted),xe=Y(lt.hits??lt.connectedHits),wt=Number(lt.id),At=ae(wt,be,$e);if(Tn(Xt,`${Gt}::${wt}`,{totalHits:xe,blocked:Zt,evaded:dt,glanced:rn,missed:_t,invulned:Mt,interrupted:Ae}),je===le&&Bt===we){const qt=H.get(wt),kn=$(wt),Br=kn.hasSkill?kn.hits>0?kn.avg:0:1,ra=kn.hasSkill?kn.min||0:1,Gr=kn.hits>0?rn*Br/2+(Zt+dt+_t+Mt+Ae)*Br:0,Ai=kn.hits>0?rn*ra/2+(Zt+dt+_t+Mt+Ae)*ra:0;et.push({logId:A.filePath||A.id||U,skillId:lt.id,skillName:At,blocked:Zt,evaded:dt,glanced:rn,missed:_t,invulned:Mt,interrupted:Ae,totalAvoids:Zt+dt+rn+_t+Mt+Ae,avg:Br,min:ra,enemyHits:(qt==null?void 0:qt.connectedHits)??0,enemyTotalDmg:(qt==null?void 0:qt.totalDamage)??0,avoidDmg:Gr,avoidMinDmg:Ai})}}),je===le&&Bt===we){const lt=(_t,Mt)=>{let Ae=0,xe=0,wt=0;if(!Array.isArray(_t))return{total:Ae,minTotal:xe,hits:wt};for(const At of _t){if(!(At!=null&&At.id))continue;const qt=Y(At.blocked),kn=Y(At.evaded),Br=Y(At.glance??At.glanced),ra=Y(At.missed),Gr=Y(At.invulned),Ai=Y(At.interrupted),Rc=ae(Number(At.id),st,vt),{avg:_s,min:jo}=Mt(Number(At.id),Rc);Y(At.hits??At.connectedHits)>0&&(Ae+=Br*_s/2+(qt+kn+ra+Gr+Ai)*_s,xe+=Br*jo/2+(qt+kn+ra+Gr+Ai)*jo),wt+=Y(At.hits??At.connectedHits)}return{total:Ae,minTotal:xe,hits:wt}},Zt=Array.isArray(qe)?qe[0]||[]:[],dt=Array.isArray(qe)?qe.flat():[],rn=Array.isArray(Xe==null?void 0:Xe.totalDamageTaken)?Xe.totalDamageTaken[0]||[]:[];de.push({logId:A.filePath||A.id||U,variant:"current_global_name_dist0",...lt(Zt,(_t,Mt)=>{const Ae=$(_t),xe=Ae.hasSkill?Ae.hits>0?Ae.avg:0:1,wt=Ae.hasSkill&&Ae.min||0;return{avg:xe,min:wt}})}),de.push({logId:A.filePath||A.id||U,variant:"local_name_dist0",...lt(Zt,(_t,Mt)=>dn(Mt))}),de.push({logId:A.filePath||A.id||U,variant:"local_id_dist0",...lt(Zt,_t=>mn(_t))}),de.push({logId:A.filePath||A.id||U,variant:"global_name_alllists",...lt(dt,(_t,Mt)=>{const Ae=$(_t),xe=Ae.hasSkill?Ae.hits>0?Ae.avg:0:1,wt=Ae.hasSkill&&Ae.min||0;return{avg:xe,min:wt}})}),de.push({logId:A.filePath||A.id||U,variant:"global_name_taken0",...lt(rn,(_t,Mt)=>{const Ae=$(_t),xe=Ae.hasSkill?Ae.hits>0?Ae.avg:0:1,wt=Ae.hasSkill&&Ae.min||0;return{avg:xe,min:wt}})})}})}))}),et.length>0&&(console.groupCollapsed("[Mitigation Debug] Ashtonlightstone.9145 / Illusionary Warden"),console.table(et),de.length>0&&console.table(de),console.groupEnd()),Ye.length>0&&(console.groupCollapsed("[Mitigation Debug] Ashtonlightstone.9145 / Player"),console.table(Ye),Re.length>0&&console.table(Re),console.groupEnd());const Cn=(A,U)=>{const te=new Map,ye=J=>{let Oe=te.get(J);return Oe||(Oe=Z(),te.set(J,Oe)),Oe};U.forEach((J,Oe)=>{const Fe=Oe.lastIndexOf("::"),st=Fe>-1?Oe.slice(0,Fe):Oe,vt=Fe>-1?Number(Oe.slice(Fe+2)):Number.NaN,gt=Number.isFinite(vt)?$(vt):{hasSkill:!1,avg:0,min:0,hits:0};if(!gt.hasSkill||gt.hits<=0)return;const Ft=gt.avg,mn=gt.min,dn=J.glanced*Ft/2+(J.blocked+J.evaded+J.missed+J.invulned+J.interrupted)*Ft,Je=J.glanced*mn/2+(J.blocked+J.evaded+J.missed+J.invulned+J.interrupted)*mn;if(dn<=0)return;const He=ye(st);He.totalHits+=J.totalHits,He.blocked+=J.blocked,He.evaded+=J.evaded,He.glanced+=J.glanced,He.missed+=J.missed,He.invulned+=J.invulned,He.interrupted+=J.interrupted,He.totalMitigation+=dn,He.minMitigation+=Je}),A.forEach((J,Oe)=>{const Fe=te.get(Oe)||Z();J.mitigationTotals.totalHits=Fe.totalHits,J.mitigationTotals.blocked=Fe.blocked,J.mitigationTotals.evaded=Fe.evaded,J.mitigationTotals.glanced=Fe.glanced,J.mitigationTotals.missed=Fe.missed,J.mitigationTotals.invulned=Fe.invulned,J.mitigationTotals.interrupted=Fe.interrupted,J.mitigationTotals.totalMitigation=Fe.totalMitigation,J.mitigationTotals.minMitigation=Fe.minMitigation})};Cn(L,ht),Cn(G,Xt);const ge=h>0?Math.round(g/h):0,Ie=h>0?Math.round(b/h):0,Pt=w>0?(S/w).toFixed(2):S>0?"":"0.00",Kt=C>0?(N/C).toFixed(2):N>0?"":"0.00",an=(A,U)=>{const te=A.filter(Oe=>Number.isFinite(Oe.value)&&(U?Oe.value>0:Oe.value>=0)).sort((Oe,Fe)=>{const st=U?Fe.value-Oe.value:Oe.value-Fe.value;return st!==0?st:Oe.account.localeCompare(Fe.account)});let ye=null,J=0;return te.map((Oe,Fe)=>((ye===null||Oe.value!==ye)&&(J=Fe+1,ye=Oe.value),{rank:J,...Oe}))},Tr=Array.from(R.values()).map(A=>{const U=Array.from(A.professions).filter(te=>te!=="Unknown");if(A.professionList=U,U.length>0){let te=U[0],ye=A.professionTimeMs[te]||0;U.forEach(J=>{const Oe=A.professionTimeMs[J]||0;Oe>ye&&(ye=Oe,te=J)}),A.profession=te}return{key:A.account,stat:A}}),Ua=A=>{const U=R.get(A.account);if(!U){const J=A.professionList.length>0?A.professionList:A.profession?[A.profession]:[];return{...A,professionList:J}}const te=U.professionList&&U.professionList.length>0?U.professionList:Array.from(U.professions||[]).filter(J=>J&&J!=="Unknown"),ye=U.profession||A.profession;return{...A,profession:ye,professionList:te.length>0?te:ye?[ye]:[],activeMs:U.defenseActiveMs||U.totalFightMs||A.activeMs}},fa=Array.from(L.values()).map(Ua).filter(A=>F(A.mitigationTotals)).sort((A,U)=>A.account.localeCompare(U.account)),yr=Array.from(G.values()).map(Ua).filter(A=>A.mitigationTotals.totalMitigation>0).sort((A,U)=>{const te=A.account.localeCompare(U.account);return te!==0?te:String(A.minion||"").localeCompare(String(U.minion||""))}),Ca=(A,U)=>{switch(U){case"downContrib":return A.downContrib;case"barrier":return A.barrier;case"healing":return A.healing;case"dodges":return A.dodges;case"strips":return A.strips;case"cleanses":return A.cleanses;case"cc":return A.cc;case"stability":return A.stab;case"revives":return A.revives;case"dps":return A.dps;case"damage":return A.damage;case"participation":return A.logsJoined;case"closestToTag":return!A.isCommander&&A.distCount>0?A.totalDist/A.distCount:Number.POSITIVE_INFINITY;default:return 0}},en=(A,U)=>an(Tr.map(({stat:te})=>({account:te.account,profession:te.profession,professionList:te.professionList,value:Ca(te,A),count:te.logsJoined})),U),Wt={downContrib:en("downContrib",!0),barrier:en("barrier",!0),healing:en("healing",!0),dodges:en("dodges",!0),strips:en("strips",!0),cleanses:en("cleanses",!0),cc:en("cc",!0),stability:en("stability",!0),revives:en("revives",!0),participation:en("participation",!0),dps:en("dps",!0),damage:en("damage",!0),closestToTag:en("closestToTag",!1).filter(A=>Number.isFinite(A.value))},Ma={downContrib:"downContrib",barrier:"barrier",healing:"healing",dodges:"dodges",strips:"strips",cleanses:"cleanses",cc:"cc",stability:"stability",closestToTag:"closestToTag"},xn=A=>{const U=A==null?void 0:A[0];return{value:(U==null?void 0:U.value)??0,player:(U==null?void 0:U.account)??"-",count:(U==null?void 0:U.count)??0,profession:(U==null?void 0:U.profession)??"Unknown",professionList:(U==null?void 0:U.professionList)??[]}},pa={maxDownContrib:xn([]),maxBarrier:xn([]),maxHealing:xn([]),maxDodges:xn([]),maxStrips:xn([]),maxCleanses:xn([]),maxCC:xn([]),maxStab:xn([]),closestToTag:xn([])},_n={},qo=(A,U)=>{if(U==="closestToTag")return Ca(A,U);const te=Math.max(1,(A.totalFightMs||0)/1e3);return Ca(A,U)/te};Object.values(Ma).forEach(A=>{const U=A!=="closestToTag";_n[A]=an(Tr.map(({stat:te})=>({account:te.account,profession:te.profession,professionList:te.professionList,value:qo(te,A),count:te.logsJoined})),U)}),pa.maxDownContrib=xn(_n.downContrib),pa.maxBarrier=xn(_n.barrier),pa.maxHealing=xn(_n.healing),pa.maxDodges=xn(_n.dodges),pa.maxStrips=xn(_n.strips),pa.maxCleanses=xn(_n.cleanses),pa.maxCC=xn(_n.cc),pa.maxStab=xn(_n.stability),pa.closestToTag=xn(_n.closestToTag);const $r={maxDownContrib:xn(Wt.downContrib),maxBarrier:xn(Wt.barrier),maxHealing:xn(Wt.healing),maxDodges:xn(Wt.dodges),maxStrips:xn(Wt.strips),maxCleanses:xn(Wt.cleanses),maxCC:xn(Wt.cc),maxStab:xn(Wt.stability),closestToTag:xn(Wt.closestToTag)};let oi={player:"None",account:"None",score:-1,profession:"Unknown",professionList:[],color:"#64748b",topStats:[]},So,Pl,Ko=0;if(o!=null&&o.showMvp){const A={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},U=Oe=>{const Fe=A[Oe];return Fe?Number(s[Fe]||0)>0:!1},te=[],ye=Oe=>[...Oe||[]].filter(Fe=>U(Fe==null?void 0:Fe.name)).sort((Fe,st)=>st.ratio-Fe.ratio||Fe.rank-st.rank||Fe.name.localeCompare(st.name)).slice(0,3),J=Oe=>{var Fe;if(!Oe)return;const st=ye(Oe.contribs);return{...Oe,player:Oe.name,reason:((Fe=st[0])==null?void 0:Fe.name)||"Top Performance",topStats:st}};Tr.forEach(({stat:Oe})=>{let Fe=0;const st=[],vt=(gt,Ft,mn,dn,Je=!0)=>{var He,ot;if(mn<=0)return;const Et=((He=Ft[0])==null?void 0:He.value)||0;if(Et&&Number.isFinite(gt)&&(Je?gt>0:gt<Number.POSITIVE_INFINITY)){const Ht=Je?gt/Et:Et/gt;Fe+=Ht*mn;const me=((ot=Ft.find(Se=>Se.account===Oe.account))==null?void 0:ot.rank)||0;st.push({name:dn,ratio:Ht,val:gt.toLocaleString(),rank:me})}};vt(Oe.downContrib,Wt.downContrib,s.downContribution,"Down Contribution"),vt(Oe.healing,Wt.healing,s.healing,"Healing"),vt(Oe.cleanses,Wt.cleanses,s.cleanses,"Cleanses"),vt(Oe.strips,Wt.strips,s.strips,"Strips"),vt(Oe.stab,Wt.stability,s.stability,"Stability"),vt(Oe.cc,Wt.cc,s.cc,"CC"),vt(Oe.revives,Wt.revives,s.revives,"Revives"),vt(Ca(Oe,"closestToTag"),Wt.closestToTag,s.distanceToTag,"Distance to Tag",!1),vt(Oe.logsJoined,Wt.participation,s.participation,"Participation"),vt(Oe.dodges,Wt.dodges,s.dodging,"Dodging"),vt(Oe.dps,Wt.dps,s.dps,"DPS"),vt(Oe.damage,Wt.damage,s.damage,"Damage"),te.push({...Oe,score:Fe,contribs:st.filter(gt=>U(gt.name))})}),te.sort((Oe,Fe)=>Fe.score-Oe.score),te[0]&&te[0].score>0&&(oi=J(te[0])||oi),So=J(te[1]),Pl=J(te[2]),Ko=te.length>0?te.reduce((Oe,Fe)=>Oe+Fe.score,0)/te.length:0}const Dl=Object.values(P).sort((A,U)=>U.damage-A.damage||U.hits-A.hits||String(A.name||"").localeCompare(String(U.name||""))).slice(0,25),si=Object.values(P).sort((A,U)=>U.downContribution-A.downContribution||U.hits-A.hits||String(A.name||"").localeCompare(String(U.name||""))).slice(0,25),Qi=m==="downContribution"?si:Dl,Yo=Object.values(O).sort((A,U)=>U.damage-A.damage).slice(0,25),cd=A=>{const U=String(A).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),te=U.match(/^(Red|Blue|Green)\s+(?:Alpine|Desert)?\s*Borderlands$/i);return te?`${te[1]} Borderlands`:U||"Unknown"},Xi=(A,U)=>cd((A==null?void 0:A.zone)||(A==null?void 0:A.mapName)||(A==null?void 0:A.map)||(A==null?void 0:A.location)||(A==null?void 0:A.fightName)||(U==null?void 0:U.fightName)||(U==null?void 0:U.encounterName)||"Unknown"),Lc=(A,U)=>{const te=(U==null?void 0:U.permalink)||(A==null?void 0:A.permalink);if(typeof te=="string"&&te.trim().length>0)return te.trim();const ye=A==null?void 0:A.uploadLinks;if(!Array.isArray(ye))return"";for(const J of ye){if(typeof J=="string"&&J.trim().length>0)return J.trim();if(J&&typeof J=="object"){const Oe=J.permalink||J.link||J.url||J.reportLink;if(typeof Oe=="string"&&Oe.trim().length>0)return Oe.trim()}}return""},li={};i.forEach(A=>{const U=Xi(A==null?void 0:A.details,A);li[U]=(li[U]||0)+1});const Os=Object.entries(li).map(([A,U])=>{const te=String(A).trim(),ye=/eternal battlegrounds|^ebg$/i.test(te);let J="#64748b";return ye?J="#ffffff":/red/i.test(te)?J="#ef4444":/blue/i.test(te)?J="#3b82f6":/green/i.test(te)&&(J="#22c55e"),{name:A,value:U,color:J}}).sort((A,U)=>U.value-A.value),{boonTables:Is}=Rz(i),Fc=i.map((A,U)=>{var te,ye;const J=((te=A.details)==null?void 0:te.players)||[];return{index:U+1,label:`Log ${U+1}`,timestamp:Pa(A.details,A),squadCount:J.filter(Oe=>!Oe.notInSquad).length,friendlyCount:J.length,enemies:((ye=A.details)==null?void 0:ye.targets).filter(Oe=>!Oe.isFake).length}}).sort((A,U)=>A.timestamp-U.timestamp),No={};Array.from(R.values()).forEach(A=>{A.profession&&A.profession!=="Unknown"&&(No[A.profession]=(No[A.profession]||0)+1)});const K=Object.entries(No).map(([A,U])=>({name:A,value:U,color:lc(A)})).sort((A,U)=>U.value-A.value),pe={};Object.keys(ue).length===0&&i.forEach(A=>{var U,te;(te=(U=A.details)==null?void 0:U.targets)==null||te.forEach(ye=>{if(ye.isFake)return;const J=ye.profession&&ye.profession!=="Unknown"?ye.profession:ye.name||ye.id||"Unknown",Oe=E(J);pe[Oe]=(pe[Oe]||0)+1})});const De=Object.keys(ue).length>0?ue:pe,Ze=Object.entries(De).map(([A,U])=>({name:A,value:U,color:lc(A)})).sort((A,U)=>U.value-A.value),$t=i.map((A,U)=>({log:A,originalIndex:U})).sort((A,U)=>Pa(A.log.details,A.log)-Pa(U.log.details,U.log)),Ct=$t.map(({log:A},U)=>{const te=A.details;if(!te)return null;const ye=te.players||[],J=ye.filter(he=>!he.notInSquad),Oe=ye.filter(he=>he.notInSquad),Fe=(te.targets||[]).filter(he=>!he.isFake),st=J.reduce((he,Le)=>{var Ne,bt;return he+(((bt=(Ne=Le.dpsAll)==null?void 0:Ne[0])==null?void 0:bt.damage)||0)},0),vt=J.reduce((he,Le)=>{var Ne,bt;return he+(((bt=(Ne=Le.defenses)==null?void 0:Ne[0])==null?void 0:bt.damageTaken)||0)},0),{enemyDeaths:gt,enemyDownsDeaths:Ft}=M(te),mn=D(te),dn=Pa(te,A),Je=Xi(te,A),He=he=>{if(!he||typeof he!="object")return;const Le=he.teamID??he.teamId??he.team??he.teamColor??he.team_color;if(Le!=null)return Le;const Ne=Object.keys(he).find(bt=>/^team/i.test(bt));return Ne?he[Ne]:void 0},ot=(he,Le)=>{const Ne={};return he.forEach(bt=>{const rt=Le(bt),at=E(rt);at&&(Ne[at]=(Ne[at]||0)+1)}),Ne},Et=ot(J,he=>(he==null?void 0:he.profession)||(he==null?void 0:he.name)),Ht=ot(Oe,he=>(he==null?void 0:he.profession)||(he==null?void 0:he.name)),me=ot(Fe,he=>(he==null?void 0:he.profession)||(he==null?void 0:he.name)||(he==null?void 0:he.id)),Se=new Set;J.forEach(he=>{const Le=He(he);Le!=null&&Se.add(String(Le))});const ke=new Map;Fe.forEach(he=>{if((he==null?void 0:he.enemyPlayer)===!1)return;const Le=He(he);if(Le==null)return;const Ne=String(Le);Se.has(Ne)||ke.set(Ne,(ke.get(Ne)||0)+1)});const ze=Array.from(ke.entries()).sort((he,Le)=>{const Ne=Le[1]-he[1];return Ne!==0?Ne:he[0].localeCompare(Le[0],void 0,{numeric:!0})}).slice(0,3).map(([he,Le])=>({teamId:he,count:Le}));return{id:A.filePath||`fight-${U}`,label:A.encounterName||`Fight ${U+1}`,permalink:Lc(te,A),timestamp:dn,mapName:Je,duration:hm(te.durationMS),isWin:mn,squadCount:J.length,allyCount:Oe.length,enemyCount:Fe.length,teamBreakdown:ze,alliesDown:J.reduce((he,Le)=>{var Ne,bt;return he+(((bt=(Ne=Le.defenses)==null?void 0:Ne[0])==null?void 0:bt.downCount)||0)},0),alliesDead:J.reduce((he,Le)=>{var Ne,bt;return he+(((bt=(Ne=Le.defenses)==null?void 0:Ne[0])==null?void 0:bt.deadCount)||0)},0),alliesRevived:J.reduce((he,Le)=>{var Ne,bt;return Number(((bt=(Ne=Le.statsAll)==null?void 0:Ne[0])==null?void 0:bt.saved)||0)>0?he+1:he},0),rallies:0,enemyDeaths:gt,enemyDowns:Math.max(0,Ft-gt),totalOutgoingDamage:st,totalIncomingDamage:vt,incomingBarrierAbsorbed:J.reduce((he,Le)=>{var Ne,bt;return he+(((bt=(Ne=Le.defenses)==null?void 0:Ne[0])==null?void 0:bt.damageBarrier)||0)},0),outgoingBarrierAbsorbed:J.reduce((he,Le)=>{var Ne;const bt=(Ne=Le.extBarrierStats)==null?void 0:Ne.outgoingBarrier;if(!Array.isArray(bt))return he;let rt=0;return bt.forEach(at=>{if(Array.isArray(at)){at.forEach(Rt=>{rt+=Number((Rt==null?void 0:Rt.barrier)||0)});return}rt+=Number((at==null?void 0:at.barrier)||0)}),he+rt},0),squadClassCountsFight:Et,allyClassCountsFight:Ht,enemyClassCounts:me}}).filter(Boolean),mt=$t.map(({log:A},U)=>{const te=A.details;if(!te)return null;const ye=(Array.isArray(te.players)?te.players:[]).filter(V=>!V.notInSquad),J=Array.isArray(te.targets)?te.targets:[],Oe=Pa(te,A),Fe=Xi(te,A),st=Number(te.durationMS||0),{squadDownsDeaths:vt,enemyDownsDeaths:gt,squadDeaths:Ft,enemyDeaths:mn}=M(te),dn=new Map,Je=(V,ce,je)=>{const Ce=dn.get(V)||{label:V,damage:0,hits:0};Ce.damage+=ce,Ce.hits+=je,dn.set(V,Ce)};if(ye.forEach(V=>{(Array.isArray(V==null?void 0:V.statsTargets)?V.statsTargets:[]).forEach((ce,je)=>{const Ce=Array.isArray(ce)?ce[0]:ce,be=Number((Ce==null?void 0:Ce.damage)??(Ce==null?void 0:Ce.totalDmg)??(Ce==null?void 0:Ce.connectedDmg)??0),$e=Number((Ce==null?void 0:Ce.connectedHits)??(Ce==null?void 0:Ce.connectedDamageCount)??(Ce==null?void 0:Ce.hits)??0);if(be<=0&&$e<=0)return;const Xe=J[je];if(Xe!=null&&Xe.isFake)return;const qe=(Xe==null?void 0:Xe.profession)||(Xe==null?void 0:Xe.name)||(Xe==null?void 0:Xe.id)||`Target ${je+1}`,Bt=E(qe);Je(Bt||String(qe),be,$e)})}),dn.size===0){const V=new Map,ce=je=>{if(!Array.isArray(je)||je.length===0)return[];const Ce=je[0];if(Array.isArray(Ce)&&Array.isArray(Ce[0])){if(typeof Ce[0][0]=="number")return Ce;if(Array.isArray(Ce[0])&&typeof Ce[0][0]=="number")return je.map(be=>Array.isArray(be)?be[0]||[]:[])}return[]};ye.forEach(je=>{ce(je==null?void 0:je.targetDamage1S).forEach((Ce,be)=>{if(!Array.isArray(Ce)||Ce.length===0)return;const $e=Ce.map(qe=>Number(qe)).filter(qe=>Number.isFinite(qe)&&qe>=0);if($e.length===0)return;const Xe=Math.max(0,$e[$e.length-1]||0);Xe<=0||V.set(be,(V.get(be)||0)+Xe)})}),V.forEach((je,Ce)=>{if(je<=0)return;const be=J[Ce];if(be!=null&&be.isFake)return;const $e=(be==null?void 0:be.profession)||(be==null?void 0:be.name)||(be==null?void 0:be.id)||`Target ${Ce+1}`,Xe=E($e);Je(Xe||String($e),je,0)})}if(dn.size===0&&J.forEach((V,ce)=>{if(V!=null&&V.isFake)return;const je=Array.isArray(V==null?void 0:V.totalDamageTaken)?V.totalDamageTaken:Array.isArray(V==null?void 0:V.totalDamageDist)?V.totalDamageDist:[];let Ce=0,be=0;if(je.forEach(qe=>{Ce+=Number((qe==null?void 0:qe.totalDamage)||(qe==null?void 0:qe.damage)||0),be+=Number((qe==null?void 0:qe.connectedHits)||(qe==null?void 0:qe.hits)||0)}),Ce<=0&&Number((V==null?void 0:V.damageTaken)||0)>0&&(Ce=Number(V.damageTaken||0)),Ce<=0&&be<=0)return;const $e=(V==null?void 0:V.profession)||(V==null?void 0:V.name)||(V==null?void 0:V.id)||`Target ${ce+1}`,Xe=E($e);Je(Xe||String($e),Ce,be)}),dn.size===0){const V=new Map;J.forEach((ce,je)=>{if(ce!=null&&ce.isFake)return;const Ce=(ce==null?void 0:ce.profession)||(ce==null?void 0:ce.name)||(ce==null?void 0:ce.id)||`Target ${je+1}`,be=E(Ce)||String(Ce);V.set(be,(V.get(be)||0)+1)}),V.forEach((ce,je)=>{ce>0&&Je(je,ce,0)})}const He=Array.from(dn.values()).sort((V,ce)=>ce.damage-V.damage||ce.hits-V.hits||V.label.localeCompare(ce.label)),ot=He.reduce((V,ce)=>V+ce.damage,0),Et=He.map(V=>({label:V.label,damage:V.damage,hits:V.hits,share:ot>0?V.damage/ot:0})),Ht=J.filter(V=>!(V!=null&&V.isFake)).length,me=ye.length,Se=ye.reduce((V,ce)=>{var je,Ce;return V+Number(((Ce=(je=ce==null?void 0:ce.dpsAll)==null?void 0:je[0])==null?void 0:Ce.damage)||0)},0),ke=ye.reduce((V,ce)=>{var je,Ce;return V+Number(((Ce=(je=ce==null?void 0:ce.defenses)==null?void 0:je[0])==null?void 0:Ce.damageTaken)||0)},0),ze=ye.reduce((V,ce)=>{var je,Ce;return V+Number(((Ce=(je=ce==null?void 0:ce.defenses)==null?void 0:je[0])==null?void 0:Ce.damageBarrier)||0)},0),he=ye.reduce((V,ce)=>{var je;const Ce=(je=ce==null?void 0:ce.extBarrierStats)==null?void 0:je.outgoingBarrier;if(!Array.isArray(Ce))return V;let be=0;return Ce.forEach($e=>{Array.isArray($e)?$e.forEach(Xe=>{be+=Number((Xe==null?void 0:Xe.barrier)||0)}):be+=Number(($e==null?void 0:$e.barrier)||0)}),V+be},0),Le=ye.reduce((V,ce)=>{var je,Ce;return Number(((Ce=(je=ce==null?void 0:ce.statsAll)==null?void 0:je[0])==null?void 0:Ce.saved)||0)>0?V+1:V},0),Ne=ye.reduce((V,ce)=>V+Number(K2(ce)||0),0),bt=ye.reduce((V,ce)=>V+Number(Y2(ce)||0),0),rt=ye.reduce((V,ce)=>V+Number((ce==null?void 0:ce.stabGeneration)||0),0),at=ye.reduce((V,ce)=>V+Number(Q2(ce)||0),0),Rt=ye.reduce((V,ce)=>V+Number(X2(ce)||0),0),wn=ye.reduce((V,ce)=>V+Number(Z2(ce)||0),0),Ln=ye.reduce((V,ce)=>V+Number(G2(ce)||0),0),Jn=Ft>0?mn/Ft:mn,xt=[{metricId:"winFlag",metricLabel:"Win (1) / Loss (0)",higherIsBetter:!0,value:D(te)?1:0},{metricId:"squadCount",metricLabel:"Squad Size",higherIsBetter:!0,value:me},{metricId:"enemyCount",metricLabel:"Enemy Count",higherIsBetter:!1,value:Ht},{metricId:"squadKdr",metricLabel:"Squad KDR",higherIsBetter:!0,value:Jn},{metricId:"enemyDeaths",metricLabel:"Enemy Deaths",higherIsBetter:!0,value:mn},{metricId:"enemyDowns",metricLabel:"Enemy Downs",higherIsBetter:!0,value:Math.max(0,gt-mn)},{metricId:"squadDeaths",metricLabel:"Squad Deaths",higherIsBetter:!1,value:Ft},{metricId:"squadDowns",metricLabel:"Squad Downs",higherIsBetter:!1,value:Math.max(0,vt-Ft)},{metricId:"damageDelta",metricLabel:"Damage Delta",higherIsBetter:!0,value:Se-ke},{metricId:"outgoingDamage",metricLabel:"Outgoing Damage",higherIsBetter:!0,value:Se},{metricId:"incomingDamage",metricLabel:"Incoming Damage",higherIsBetter:!1,value:ke},{metricId:"cleanses",metricLabel:"Squad Cleanses",higherIsBetter:!0,value:Ne},{metricId:"strips",metricLabel:"Squad Strips",higherIsBetter:!0,value:bt},{metricId:"stability",metricLabel:"Squad Stability",higherIsBetter:!0,value:rt},{metricId:"healing",metricLabel:"Squad Healing",higherIsBetter:!0,value:at},{metricId:"barrierOut",metricLabel:"Squad Barrier Out",higherIsBetter:!0,value:Rt},{metricId:"barrierIncomingAbsorb",metricLabel:"Barrier Absorption (Incoming)",higherIsBetter:!0,value:ze},{metricId:"enemyBarrierAbsorb",metricLabel:"Enemy Barrier Absorption",higherIsBetter:!1,value:he},{metricId:"cc",metricLabel:"Squad CC",higherIsBetter:!0,value:wn},{metricId:"downContrib",metricLabel:"Squad Down Contribution",higherIsBetter:!0,value:Ln},{metricId:"alliesRevived",metricLabel:"Allies Revived (Players)",higherIsBetter:!0,value:Le}];return{id:A.filePath||A.id||`fight-${U+1}`,shortLabel:`F${U+1}`,fullLabel:`${Fe||A.encounterName||"Unknown Map"}  ${hm(st)}`,mapName:Fe,timestamp:Oe,duration:hm(st),isWin:D(te),targetFocus:Et,squadMetrics:xt}}).filter(Boolean),sn=Array.from(R.values()).map(A=>{const U=Object.entries(A.professionTimeMs||{}).map(([te,ye])=>({profession:te,timeMs:Number(ye||0)})).filter(te=>te.profession&&te.profession!=="Unknown"&&te.timeMs>0).sort((te,ye)=>{const J=ye.timeMs-te.timeMs;return J!==0?J:te.profession.localeCompare(ye.profession)});return{account:A.account||"Unknown",characterNames:Array.from(A.characterNames||[]).filter(Boolean).sort((te,ye)=>te.localeCompare(ye)),classTimes:U,combatTimeMs:Number(A.squadActiveMs||A.totalFightMs||0),squadTimeMs:(()=>{const te=Number(A.firstSeenFightTs||0),ye=Number(A.lastSeenFightTs||0),J=Math.max(0,Number(A.lastSeenFightDurationMs||0));return te>0&&ye>0?Math.max(0,ye+J-te):Number(A.squadActiveMs||A.totalFightMs||0)})()}}).filter(A=>A.account&&A.account!=="Unknown").sort((A,U)=>{const te=U.squadTimeMs-A.squadTimeMs;return te!==0?te:String(A.account).localeCompare(String(U.account))}),gn=i.map(A=>A).sort((A,U)=>Pa(A.details,A)-Pa(U.details,U)).map((A,U)=>{const te=A==null?void 0:A.details,ye=Array.isArray(te==null?void 0:te.players)?te.players.filter(Fe=>!(Fe!=null&&Fe.notInSquad)):[],J=new Map;ye.forEach(Fe=>{const st=Number(Fe==null?void 0:Fe.group),vt=Number.isFinite(st)&&st>0?st:0;J.has(vt)||J.set(vt,{party:vt,players:[],classCounts:{}});const gt=E((Fe==null?void 0:Fe.profession)||(Fe==null?void 0:Fe.name)||"Unknown"),Ft=String((Fe==null?void 0:Fe.account)||"Unknown"),mn=String((Fe==null?void 0:Fe.name)||(Fe==null?void 0:Fe.character_name)||""),dn=!!(Fe!=null&&Fe.hasCommanderTag),Je=J.get(vt);Je.players.push({account:Ft,characterName:mn,profession:gt,isCommander:dn}),Je.classCounts[gt]=(Je.classCounts[gt]||0)+1});const Oe=Array.from(J.values()).map(Fe=>({...Fe,players:Fe.players.sort((st,vt)=>{const gt=+!!vt.isCommander-+!!st.isCommander;if(gt!==0)return gt;const Ft=String(st.profession).localeCompare(String(vt.profession));return Ft!==0?Ft:String(st.account).localeCompare(String(vt.account))})})).sort((Fe,st)=>Fe.party===0&&st.party!==0?1:st.party===0&&Fe.party!==0?-1:Fe.party-st.party);return{id:String((A==null?void 0:A.filePath)||(A==null?void 0:A.id)||`fight-${U+1}`),label:`F${U+1}`,timestamp:Pa(te,A),mapName:Xi(te,A),duration:hm(Number((te==null?void 0:te.durationMS)||0)),parties:Oe}}),jr=(A,U)=>{const te=(U==null?void 0:U.skillMap)||{},ye=(U==null?void 0:U.buffMap)||{};let J=0,Oe="";const Fe=gt=>{const Ft=Number(gt);if(!Number.isFinite(Ft))return String(gt||"Unknown Skill");const mn=(te==null?void 0:te[`s${Ft}`])||(te==null?void 0:te[`${Ft}`]);if(mn!=null&&mn.name)return String(mn.name);const dn=(ye==null?void 0:ye[`b${Ft}`])||(ye==null?void 0:ye[`${Ft}`]);return dn!=null&&dn.name?String(dn.name):`Skill ${Ft}`},st=gt=>{if(!gt||typeof gt!="object")return;const Ft=[Number(gt.max),Number(gt.maxDamage),Number(gt.maxHit)].filter(dn=>Number.isFinite(dn)),mn=Ft.length>0?Math.max(...Ft):0;mn>J&&(J=mn,Oe=Fe(gt.id))};let vt=!1;return Array.isArray(A==null?void 0:A.targetDamageDist)&&A.targetDamageDist.forEach(gt=>{Array.isArray(gt)&&gt.forEach(Ft=>{Array.isArray(Ft)&&Ft.forEach(mn=>{vt=!0,st(mn)})})}),(!vt||J<=0)&&Array.isArray(A==null?void 0:A.totalDamageDist)&&A.totalDamageDist.forEach(gt=>{Array.isArray(gt)&&gt.forEach(Ft=>st(Ft))}),{peak:J,skillName:Oe||"Unknown Skill"}},lr=(()=>{const A=Je=>String(Je||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),U=Je=>A(Je).toLowerCase().split(/[^a-z0-9]+/i).map(He=>He.trim()).filter(Boolean).map(He=>He.length>3&&He.endsWith("s")?He.slice(0,-1):He),te=(Je,He)=>{const ot=A(Je),Et=A(He);if(!Et)return ot;if(!ot)return Et;const Ht=U(ot),me=U(Et),Se=new Set(Ht),ke=new Set(me),ze=me.length>0&&me.every(Le=>Se.has(Le)),he=Ht.length>0&&Ht.every(Le=>ke.has(Le));return ze||he?ot:`${ot} - ${Et}`},ye=[],J=new Map,Oe=Je=>{const He=ke=>{if(!Array.isArray(ke)||ke.length===0)return[];const ze=[];for(let he=0;he<ke.length;he+=1){const Le=Number(ke[he]||0),Ne=he>0?Number(ke[he-1]||0):0;ze.push(Math.max(0,Le-Ne))}return ze},ot=ke=>{if(!Array.isArray(ke))return[];const ze=ke.reduce((Le,Ne)=>Math.max(Le,Array.isArray(Ne)?Ne.length:0),0);if(ze<=0)return[];const he=new Array(ze).fill(0);return ke.forEach(Le=>{if(Array.isArray(Le))for(let Ne=0;Ne<ze;Ne+=1)he[Ne]+=Number(Le[Ne]||0)}),he},Et=ke=>Array.isArray(ke)?ke.map(ze=>Number(ze||0)):null,Ht=(ke=>{if(!Array.isArray(ke)||ke.length===0)return null;const ze=ke[0];if(!Array.isArray(ze))return null;if(Array.isArray(ze[0])&&Array.isArray(ze[0][0]))return ot(ze);if(Array.isArray(ze[0])&&!Array.isArray(ze[0][0])){const he=ke.map(Le=>Et(Array.isArray(Le)?Le[0]:null)).filter(Le=>Array.isArray(Le)&&Le.length>0);if(he.length>0)return ot(he)}return null})(Je==null?void 0:Je.targetDamage1S),me=Array.isArray(Je==null?void 0:Je.damage1S)&&Array.isArray(Je.damage1S[0])?Je.damage1S[0]:null,Se=Ht||(Array.isArray(me)?me.map(ke=>Number(ke||0)):[]);return He(Se)},Fe=(Je,He)=>{if(!Array.isArray(Je)||Je.length===0||He<=0)return 0;let ot=0,Et=0;for(let Ht=0;Ht<Je.length;Ht+=1)ot+=Number(Je[Ht]||0),Ht>=He&&(ot-=Number(Je[Ht-He]||0)),Ht>=He-1&&ot>Et&&(Et=ot);return Math.max(0,Et)},st=(Je,He)=>{if(!Array.isArray(Je)||Je.length===0||He<=0)return[];const ot=[];for(let Et=0;Et<Je.length;Et+=He){const Ht=Math.min(Et+He,Je.length),me=Je.slice(Et,Ht).reduce((Se,ke)=>Se+Number(ke||0),0);ot.push(me)}return ot},vt=(Je,He)=>{const ot=Number(Je);if(!Number.isFinite(ot))return{name:String(Je||"Unknown Skill"),icon:void 0};const Et=(He==null?void 0:He.skillMap)||{},Ht=(He==null?void 0:He.buffMap)||{},me=(Et==null?void 0:Et[`s${ot}`])||(Et==null?void 0:Et[`${ot}`]);if(me!=null&&me.name)return{name:String(me.name),icon:me==null?void 0:me.icon};const Se=(Ht==null?void 0:Ht[`b${ot}`])||(Ht==null?void 0:Ht[`${ot}`]);return Se!=null&&Se.name?{name:String(Se.name),icon:Se==null?void 0:Se.icon}:{name:`Skill ${ot}`,icon:void 0}},gt=Je=>Array.isArray(Je)?Je.map(He=>Array.isArray(He)?[Number(He[0]),Number(He[1])]:He&&typeof He=="object"?[Number(He.time),Number(He.value)]:null).filter(He=>!!He&&Number.isFinite(He[0])&&He[0]>=0):[],Ft=(Je,He,ot,Et,Ht)=>{if(!Je.length||Et<=0)return[];const me=Math.max(Et*5e3,Ht||0),Se=at=>at.reduce((Rt,wn)=>wn>=0&&wn<=me+2e3?Rt+1:Rt,0),ke=Je.map(at=>Number(at||0)).filter(at=>Number.isFinite(at)&&at>=0);if(!ke.length)return[];const ze=[ke],he=ke.reduce((at,Rt)=>Math.max(at,Rt),0),Le=ke.reduce((at,Rt)=>Math.min(at,Rt),Number.POSITIVE_INFINITY);he>me*20&&ze.push(ke.map(at=>at/1e3)),he<=me*2&&Le>=0&&he>0&&he<Math.max(120,Et*5+10)&&ze.push(ke.map(at=>at*1e3));let Ne=ke,bt=0,rt=-1;return ze.forEach(at=>{const Rt=at.reduce((Ln,Jn)=>Math.min(Ln,Jn),Number.POSITIVE_INFINITY),wn=new Set([0,...He,...ot]);if(Number.isFinite(Rt)&&me>0&&Rt>me){const Ln=Math.floor(Rt/me)*me;wn.add(Ln),wn.add(Math.max(0,Ln-me))}wn.forEach(Ln=>{const Jn=at.map(V=>V-Ln),xt=Se(Jn);xt>rt&&(rt=xt,bt=Ln,Ne=at)})}),Ne.map(at=>at-bt).filter(at=>Number.isFinite(at)&&at>=0)},mn=(Je,He,ot,Et,Ht)=>{const me=Ft(Je,He,ot,Et,Ht);return Array.from(new Set(me.map(Se=>Math.floor(Se/5e3)).filter(Se=>Number.isFinite(Se)&&Se>=0&&Se<Et)))};i.map(Je=>({log:Je,ts:Pa(Je==null?void 0:Je.details,Je)})).sort((Je,He)=>Je.ts-He.ts).forEach(({log:Je},He)=>{const ot=Je==null?void 0:Je.details;if(!ot)return;const Et=A(ot.fightName||Je.fightName||`Fight ${He+1}`),Ht=Xi(ot,Je),me=te(Et,String(Ht||"")),Se={},ke=Array.isArray(ot.players)?ot.players:[],ze=ke.flatMap(rt=>{const at=rt==null?void 0:rt.combatReplayData;return Array.isArray(at)?at.map(Rt=>Number(Rt==null?void 0:Rt.start)):[Number(at==null?void 0:at.start)]}).filter(rt=>Number.isFinite(rt)&&rt>=0);ke.forEach(rt=>{if(rt!=null&&rt.notInSquad)return;const at=String((rt==null?void 0:rt.account)||(rt==null?void 0:rt.name)||"Unknown"),Rt=String((rt==null?void 0:rt.character_name)||(rt==null?void 0:rt.display_name)||(rt==null?void 0:rt.name)||""),wn=String((rt==null?void 0:rt.profession)||"Unknown"),Ln=`${at}|${wn}`,Jn=jr(rt,ot),xt=Number(Jn.peak||0),V=Oe(rt),ce=Number(Fe(V,1)||0),je=Number(Fe(V,5)||0),Ce=Number(Fe(V,30)||0),be=Math.max(0,Math.ceil(Number((ot==null?void 0:ot.durationMS)||0)/5e3)),$e=Math.max(0,Math.ceil(V.length/5)),Xe=Math.max(be,$e),qe=st(V,5),Bt=Array.from({length:Xe},(Ae,xe)=>Number(qe[xe]||0)),Gt=new Map,Vt=Ae=>{if(!Ae||typeof Ae!="object"||Ae.indirectDamage)return;const xe=Number(Ae.totalDamage||0);if(!Number.isFinite(xe)||xe<=0)return;const wt=Number(Ae.connectedHits||Ae.hits||0),At=vt(Ae.id,ot),qt=At.name,kn=Gt.get(qt)||{skillName:qt,damage:0,hits:0,icon:At.icon};kn.damage+=xe,kn.hits+=Number.isFinite(wt)?wt:0,!kn.icon&&At.icon&&(kn.icon=At.icon),Gt.set(qt,kn)},lt=new Map;Array.isArray(rt==null?void 0:rt.targetDamageDist)&&rt.targetDamageDist.forEach(Ae=>{Array.isArray(Ae)&&Ae.forEach(xe=>{Array.isArray(xe)&&xe.forEach(wt=>{const At=Number(wt==null?void 0:wt.id),qt=Number((wt==null?void 0:wt.totalDamage)||0);if(Number.isFinite(At)){const kn=lt.get(At)||{damage:0,hits:0};kn.damage+=Number.isFinite(qt)?qt:0,kn.hits+=Number((wt==null?void 0:wt.connectedHits)||(wt==null?void 0:wt.hits)||0),lt.set(At,kn)}Vt(wt)})})}),!(ot!=null&&ot.detailedWvW)&&Array.isArray(rt==null?void 0:rt.totalDamageDist)&&rt.totalDamageDist.forEach(Ae=>{Array.isArray(Ae)&&Ae.forEach(xe=>{const wt=Number(xe==null?void 0:xe.id);if(!Number.isFinite(wt)){Vt(xe);return}const At=lt.get(wt);if(!At){Vt(xe);return}const qt=Number((xe==null?void 0:xe.totalDamage)||0),kn=Number((xe==null?void 0:xe.connectedHits)||(xe==null?void 0:xe.hits)||0),Br=qt-Number(At.damage||0),ra=kn-Number(At.hits||0);Br<=0&&ra<=0||Vt({...xe,totalDamage:Math.max(0,Br),connectedHits:Math.max(0,ra),hits:Math.max(0,ra)})})});const Zt=(()=>{const Ae=rt==null?void 0:rt.combatReplayData;return Array.isArray(Ae)?Ae.filter(xe=>xe&&typeof xe=="object"):Ae&&typeof Ae=="object"?[Ae]:[]})(),dt=Zt.map(Ae=>Number(Ae==null?void 0:Ae.start)).filter(Ae=>Number.isFinite(Ae)&&Ae>=0),rn=Zt.flatMap(Ae=>gt(Ae==null?void 0:Ae.down).map(([xe])=>Number(xe||0))),_t=Zt.flatMap(Ae=>gt(Ae==null?void 0:Ae.dead).map(([xe])=>Number(xe||0)));Se[Ln]={hit:xt,burst1s:ce,burst5s:je,burst30s:Ce,skillName:Jn.skillName,buckets5s:Bt,downIndices5s:mn(rn,dt,ze,Xe,Number((ot==null?void 0:ot.durationMS)||0)),deathIndices5s:mn(_t,dt,ze,Xe,Number((ot==null?void 0:ot.durationMS)||0)),skillRows:Array.from(Gt.values()).sort((Ae,xe)=>xe.damage-Ae.damage).slice(0,50)};const Mt=J.get(Ln)||{key:Ln,account:at,displayName:at,characterName:Rt,profession:wn,professionList:[wn],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Mt.logs+=1,Mt.professionList.includes(wn)||Mt.professionList.push(wn),!Mt.characterName&&Rt&&(Mt.characterName=Rt),xt>Mt.peakHit&&(Mt.peakHit=xt,Mt.peakFightLabel=me,Mt.peakSkillName=Jn.skillName),ce>Mt.peak1s&&(Mt.peak1s=ce),je>Mt.peak5s&&(Mt.peak5s=je),Ce>Mt.peak30s&&(Mt.peak30s=Ce),J.set(Ln,Mt)});const he=Object.values(Se).reduce((rt,at)=>Math.max(rt,Number((at==null?void 0:at.hit)||0)),0),Le=Object.values(Se).reduce((rt,at)=>Math.max(rt,Number((at==null?void 0:at.burst1s)||0)),0),Ne=Object.values(Se).reduce((rt,at)=>Math.max(rt,Number((at==null?void 0:at.burst5s)||0)),0),bt=Object.values(Se).reduce((rt,at)=>Math.max(rt,Number((at==null?void 0:at.burst30s)||0)),0);ye.push({id:Je.filePath||Je.id||`fight-${He+1}`,shortLabel:`F${He+1}`,fullLabel:me,timestamp:Pa(ot,Je),values:Se,maxHit:he,max1s:Le,max5s:Ne,max30s:bt})});const dn=Array.from(J.values()).sort((Je,He)=>He.peakHit!==Je.peakHit?He.peakHit-Je.peakHit:Je.displayName.localeCompare(He.displayName));return{fights:ye,players:dn}})(),Be=(()=>{const A=me=>String(me||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),U=me=>A(me).toLowerCase().split(/[^a-z0-9]+/i).map(Se=>Se.trim()).filter(Boolean).map(Se=>Se.length>3&&Se.endsWith("s")?Se.slice(0,-1):Se),te=(me,Se)=>{const ke=A(me),ze=A(Se);if(!ze)return ke;if(!ke)return ze;const he=U(ke),Le=U(ze),Ne=new Set(he),bt=new Set(Le),rt=Le.length>0&&Le.every(Rt=>Ne.has(Rt)),at=he.length>0&&he.every(Rt=>bt.has(Rt));return rt||at?ke:`${ke} - ${ze}`},ye=[],J=new Map,Oe=(me,Se)=>{const ke=Number(me);if(!Number.isFinite(ke))return{name:String(me||"Unknown Skill"),icon:void 0};const ze=(Se==null?void 0:Se.skillMap)||{},he=(Se==null?void 0:Se.buffMap)||{},Le=(ze==null?void 0:ze[`s${ke}`])||(ze==null?void 0:ze[`${ke}`]);if(Le!=null&&Le.name)return{name:String(Le.name),icon:Le==null?void 0:Le.icon};const Ne=(he==null?void 0:he[`b${ke}`])||(he==null?void 0:he[`${ke}`]);return Ne!=null&&Ne.name?{name:String(Ne.name),icon:Ne==null?void 0:Ne.icon}:{name:`Skill ${ke}`,icon:void 0}},Fe=(me,Se)=>{let ke=0,ze="";const he=Le=>{if(!Le||typeof Le!="object"||Le.indirectDamage)return;const Ne=[Number(Le.max),Number(Le.maxDamage),Number(Le.maxHit)].filter(rt=>Number.isFinite(rt)),bt=Ne.length>0?Math.max(...Ne):0;bt>ke&&(ke=bt,ze=Oe(Le.id,Se).name)};return Array.isArray(me==null?void 0:me.totalDamageDist)&&me.totalDamageDist.forEach(Le=>{Array.isArray(Le)&&Le.forEach(Ne=>he(Ne))}),Array.isArray(me==null?void 0:me.targetDamageDist)&&me.targetDamageDist.forEach(Le=>{Array.isArray(Le)&&Le.forEach(Ne=>{Array.isArray(Ne)&&Ne.forEach(bt=>he(bt))})}),{peak:ke,skillName:ze||"Unknown Skill"}},st=me=>{if(!Array.isArray(me)||me.length===0)return[];const Se=[];for(let ke=0;ke<me.length;ke+=1){const ze=Number(me[ke]||0),he=ke>0?Number(me[ke-1]||0):0;Se.push(Math.max(0,ze-he))}return Se},vt=me=>{if(!Array.isArray(me)||me.length===0)return[];const Se=me.reduce((ze,he)=>Math.max(ze,Array.isArray(he)?he.length:0),0);if(Se<=0)return[];const ke=new Array(Se).fill(0);return me.forEach(ze=>{if(Array.isArray(ze))for(let he=0;he<Se;he+=1)ke[he]+=Number(ze[he]||0)}),ke},gt=me=>{if(!Array.isArray(me)||me.length===0)return[];const Se=me[0];if(typeof Se=="number")return me.map(ke=>Number(ke||0));if(Array.isArray(Se)&&Se.length>0){if(typeof Se[0]=="number")return Se.map(ke=>Number(ke||0));if(Array.isArray(Se[0])){const ke=Se.map(ze=>Array.isArray(ze)?ze.map(he=>Number(he||0)):null).filter(ze=>Array.isArray(ze)&&ze.length>0);if(ke.length>0)return vt(ke)}}return[]},Ft=me=>{const Se=gt(me==null?void 0:me.powerDamage1S),ke=gt(me==null?void 0:me.damage1S),ze=Se.length>0?Se:ke;return st(ze)},mn=(me,Se)=>{const ke=me==null?void 0:me.targetPowerDamage1S;if(!Array.isArray(ke)||!Array.isArray(ke[Se]))return[];const ze=ke[Se];if(!Array.isArray(ze)||ze.length===0)return[];if(typeof ze[0]=="number")return ze.map(he=>Number(he||0));if(Array.isArray(ze[0])&&!Array.isArray(ze[0][0]))return ze[0].map(he=>Number(he||0));if(Array.isArray(ze[0])&&Array.isArray(ze[0][0])){const he=ze[0].map(Le=>Array.isArray(Le)?Le.map(Ne=>Number(Ne||0)):null).filter(Le=>Array.isArray(Le)&&Le.length>0);return vt(he)}return[]},dn=(me,Se)=>{if(!Array.isArray(me)||me.length===0||Se<=0)return 0;let ke=0,ze=0;for(let he=0;he<me.length;he+=1)ke+=Number(me[he]||0),he>=Se&&(ke-=Number(me[he-Se]||0)),he>=Se-1&&ke>ze&&(ze=ke);return Math.max(0,ze)},Je=(me,Se)=>{if(!Array.isArray(me)||me.length===0||Se<=0)return[];const ke=[];for(let ze=0;ze<me.length;ze+=Se){const he=Math.min(ze+Se,me.length),Le=me.slice(ze,he).reduce((Ne,bt)=>Ne+Number(bt||0),0);ke.push(Le)}return ke},He=me=>Array.isArray(me)?me.map(Se=>Array.isArray(Se)?[Number(Se[0]),Number(Se[1])]:Se&&typeof Se=="object"?[Number(Se.time),Number(Se.value)]:null).filter(Se=>!!Se&&Number.isFinite(Se[0])&&Se[0]>=0):[],ot=(me,Se,ke,ze,he)=>{if(!me.length||ze<=0)return[];const Le=Math.max(ze*5e3,he||0),Ne=xt=>xt.reduce((V,ce)=>ce>=0&&ce<=Le+2e3?V+1:V,0),bt=me.map(xt=>Number(xt||0)).filter(xt=>Number.isFinite(xt)&&xt>=0);if(!bt.length)return[];const rt=[bt],at=bt.reduce((xt,V)=>Math.max(xt,V),0),Rt=bt.reduce((xt,V)=>Math.min(xt,V),Number.POSITIVE_INFINITY);at>Le*20&&rt.push(bt.map(xt=>xt/1e3)),at<=Le*2&&Rt>=0&&at>0&&at<Math.max(120,ze*5+10)&&rt.push(bt.map(xt=>xt*1e3));let wn=bt,Ln=0,Jn=-1;return rt.forEach(xt=>{const V=xt.reduce((je,Ce)=>Math.min(je,Ce),Number.POSITIVE_INFINITY),ce=new Set([0,...Se,...ke]);if(Number.isFinite(V)&&Le>0&&V>Le){const je=Math.floor(V/Le)*Le;ce.add(je),ce.add(Math.max(0,je-Le))}ce.forEach(je=>{const Ce=xt.map($e=>$e-je),be=Ne(Ce);be>Jn&&(Jn=be,Ln=je,wn=xt)})}),wn.map(xt=>xt-Ln).filter(xt=>Number.isFinite(xt)&&xt>=0)},Et=(me,Se,ke,ze,he)=>{const Le=ot(me,Se,ke,ze,he);return Array.from(new Set(Le.map(Ne=>Math.floor(Ne/5e3)).filter(Ne=>Number.isFinite(Ne)&&Ne>=0&&Ne<ze)))};i.map(me=>({log:me,ts:Pa(me==null?void 0:me.details,me)})).sort((me,Se)=>me.ts-Se.ts).forEach(({log:me},Se)=>{const ke=me==null?void 0:me.details;if(!ke)return;const ze=A(ke.fightName||me.fightName||`Fight ${Se+1}`),he=Xi(ke,me),Le=te(ze,String(he||"")),Ne={},bt=(Array.isArray(ke.players)?ke.players:[]).filter(be=>!(be!=null&&be.notInSquad)),rt=bt.flatMap(be=>{const $e=be==null?void 0:be.combatReplayData;return Array.isArray($e)?$e.map(Xe=>Number(Xe==null?void 0:Xe.start)):[Number($e==null?void 0:$e.start)]}).filter(be=>Number.isFinite(be)&&be>=0),at=bt.flatMap(be=>{const $e=be==null?void 0:be.combatReplayData;return(Array.isArray($e)?$e:$e?[$e]:[]).flatMap(Xe=>He(Xe==null?void 0:Xe.down).map(([qe])=>Number(qe||0)))}),Rt=bt.flatMap(be=>{const $e=be==null?void 0:be.combatReplayData;return(Array.isArray($e)?$e:$e?[$e]:[]).flatMap(Xe=>He(Xe==null?void 0:Xe.dead).map(([qe])=>Number(qe||0)))}),wn=new Map,Ln=new Map,Jn=new Map;(Array.isArray(ke.targets)?ke.targets:[]).forEach((be,$e)=>{if(!be||be.isFake||!be.enemyPlayer)return;const Xe=E((be==null?void 0:be.profession)||(be==null?void 0:be.name)||(be==null?void 0:be.id))||"Unknown";Jn.set(Xe,(Jn.get(Xe)||0)+1);const qe=Ln.get(Xe)||new Map;Array.isArray(be==null?void 0:be.totalDamageDist)&&be.totalDamageDist.forEach(dt=>{Array.isArray(dt)&&dt.forEach(rn=>{if(!rn||typeof rn!="object"||rn.indirectDamage)return;const _t=Number(rn.totalDamage||0);if(!Number.isFinite(_t)||_t<=0)return;const Mt=Number(rn.connectedHits||rn.hits||0),Ae=Oe(rn.id,ke),xe=Ae.name,wt=qe.get(xe)||{skillName:xe,damage:0,hits:0,icon:Ae.icon};wt.damage+=_t,wt.hits+=Number.isFinite(Mt)?Mt:0,!wt.icon&&Ae.icon&&(wt.icon=Ae.icon),qe.set(xe,wt)})}),Ln.set(Xe,qe);const Bt=vt(bt.map(dt=>mn(dt,$e))),Gt=Bt.length>0?st(Bt):Ft(be),Vt=Fe(be,ke);let lt=wn.get(Xe);lt||(lt={perSecond:[],hit:0,skillName:""},wn.set(Xe,lt)),Gt.length>lt.perSecond.length&&(lt.perSecond.length=Gt.length);for(let dt=0;dt<Gt.length;dt+=1)lt.perSecond[dt]=Number(lt.perSecond[dt]||0)+Number(Gt[dt]||0);const Zt=Number(Vt.peak||0);Zt>lt.hit&&(lt.hit=Zt,lt.skillName=Vt.skillName||"Unknown Skill")});const xt=Array.from(wn.values()).some(be=>Array.isArray(be.perSecond)&&be.perSecond.some($e=>Number($e||0)>0));if(wn.size===0||!xt){const be=vt(bt.map(Xe=>{const qe=gt(Xe==null?void 0:Xe.powerDamageTaken1S);return st(qe)})),$e=Array.from(Jn.values()).reduce((Xe,qe)=>Xe+Number(qe||0),0);be.length>0&&$e>0&&Jn.forEach((Xe,qe)=>{const Bt=Number(Xe||0)/$e,Gt=be.map(lt=>Number(lt||0)*Bt),Vt=wn.get(qe);wn.set(qe,{perSecond:Gt,hit:Number((Vt==null?void 0:Vt.hit)||0),skillName:String((Vt==null?void 0:Vt.skillName)||"")})})}wn.forEach((be,$e)=>{var Xe;const qe=$e,Bt=Number(be.hit||0),Gt=Number(dn(be.perSecond,1)||0),Vt=Number(dn(be.perSecond,5)||0),lt=Number(dn(be.perSecond,30)||0),Zt=Math.max(0,Math.ceil(Number((ke==null?void 0:ke.durationMS)||0)/5e3)),dt=Math.max(0,Math.ceil(be.perSecond.length/5)),rn=Math.max(Zt,dt),_t=Je(be.perSecond,5),Mt=Array.from({length:rn},(xe,wt)=>Number(_t[wt]||0));Ne[qe]={hit:Bt,burst1s:Gt,burst5s:Vt,burst30s:lt,skillName:be.skillName||"Unknown Skill",buckets5s:Mt,downIndices5s:Et(at,[],rt,rn,Number((ke==null?void 0:ke.durationMS)||0)),deathIndices5s:Et(Rt,[],rt,rn,Number((ke==null?void 0:ke.durationMS)||0)),skillRows:Array.from(((Xe=Ln.get($e))==null?void 0:Xe.values())||[]).sort((xe,wt)=>wt.damage-xe.damage).slice(0,50)};const Ae=J.get(qe)||{key:qe,account:$e,displayName:$e,characterName:"",profession:$e,professionList:[$e],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Ae.logs+=1,Bt>Ae.peakHit&&(Ae.peakHit=Bt,Ae.peakFightLabel=Le,Ae.peakSkillName=be.skillName||"Unknown Skill"),Gt>Ae.peak1s&&(Ae.peak1s=Gt),Vt>Ae.peak5s&&(Ae.peak5s=Vt),lt>Ae.peak30s&&(Ae.peak30s=lt),J.set(qe,Ae)});const V=Object.values(Ne).reduce((be,$e)=>Math.max(be,Number(($e==null?void 0:$e.hit)||0)),0),ce=Object.values(Ne).reduce((be,$e)=>Math.max(be,Number(($e==null?void 0:$e.burst1s)||0)),0),je=Object.values(Ne).reduce((be,$e)=>Math.max(be,Number(($e==null?void 0:$e.burst5s)||0)),0),Ce=Object.values(Ne).reduce((be,$e)=>Math.max(be,Number(($e==null?void 0:$e.burst30s)||0)),0);ye.push({id:me.filePath||me.id||`fight-${Se+1}`,shortLabel:`F${Se+1}`,fullLabel:Le,timestamp:Pa(ke,me),values:Ne,maxHit:V,max1s:ce,max5s:je,max30s:Ce})});const Ht=Array.from(J.values()).sort((me,Se)=>Se.peakHit!==me.peakHit?Se.peakHit-me.peakHit:me.displayName.localeCompare(Se.displayName));return{fights:ye,players:Ht}})(),tt=Array.from(B.entries()).map(([A,U])=>{const te=z.get(A)||{},ye=Array.from(U.values()).map(J=>{var Oe,Fe;const st=Array.from(J.professions||[]).filter(He=>He&&He!=="Unknown");let vt=J.profession||"Unknown";if(st.length>0){vt=st[0];let He=((Oe=J.professionTimeMs)==null?void 0:Oe[vt])||0;st.forEach(ot=>{var Et;const Ht=((Et=J.professionTimeMs)==null?void 0:Et[ot])||0;Ht>He&&(He=Ht,vt=ot)})}const gt=J.durationMs||0,Ft=J.totalMs/1e3,mn=gt>0?J.totalMs/gt:0,dn=((Fe=R.get(J.account))==null?void 0:Fe.supportActiveMs)||gt,Je=dn>0?J.uptimeMs/dn:0;return{account:J.account,profession:vt,professionList:st,total:Ft,perSecond:mn,uptimePerSecond:Je,duration:gt/1e3}}).filter(J=>J.total>0||J.perSecond>0);return{id:A,name:te.name||A,icon:te.icon,rows:ye}}).filter(A=>A.rows.length>0),Yt=Array.from(W.values()).map(A=>{const U=Array.from(A.skills.values()).sort((ye,J)=>J.damage-ye.damage),te=U.reduce((ye,J)=>(ye[J.id]=J,ye),{});return{key:A.key,account:A.account,displayName:A.displayName,profession:A.profession,professionList:A.professionList,totalFightMs:A.totalFightMs,skills:U,skillMap:te}}).sort((A,U)=>A.displayName.localeCompare(U.displayName));return{total:h,wins:v,losses:x,avgSquadSize:ge,avgEnemies:Ie,squadKDR:Pt,enemyKDR:Kt,totalSquadKills:S,totalSquadDeaths:w,totalEnemyKills:N,totalEnemyDeaths:C,leaderboards:Wt,...$r,outgoingConditionSummary:Object.values(Q).sort((A,U)=>U.damage-A.damage),incomingConditionSummary:Object.values(ee).sort((A,U)=>U.damage-A.damage),outgoingConditionPlayers:Array.from(R.values()).map(A=>({account:A.account,profession:A.profession,professionList:A.professionList,conditions:A.outgoingConditions})),incomingConditionPlayers:Array.from(R.values()).map(A=>({account:A.account,profession:A.profession,professionList:A.professionList,conditions:A.incomingConditions})),topSkills:Qi,topIncomingSkills:Yo,topSkillsByDamage:Dl,topSkillsByDownContribution:si,playerSkillBreakdowns:Yt,topSkillsMetric:m,mapData:Os,timelineData:Fc,boonTables:Is,offensePlayers:Array.from(R.values()).map(A=>({account:A.account,profession:A.profession,professionList:A.professionList,offenseTotals:A.offenseTotals,offenseRateWeights:A.offenseRateWeights,totalFightMs:A.totalFightMs})),defensePlayers:Array.from(R.values()).map(A=>({account:A.account,profession:A.profession,professionList:A.professionList,defenseTotals:A.defenseTotals,activeMs:A.defenseActiveMs,minionDamageTakenByMinion:A.defenseMinionDamageTaken})),damageMitigationPlayers:fa,damageMitigationMinions:yr,supportPlayers:Array.from(R.values()).map(A=>({account:A.account,profession:A.profession,professionList:A.professionList,supportTotals:A.supportTotals,activeMs:A.supportActiveMs})),healingPlayers:Array.from(R.values()).map(A=>({account:A.account,profession:A.profession,professionList:A.professionList,healingTotals:A.healingTotals,activeMs:A.healingActiveMs})),mvp:oi,silver:So,bronze:Pl,squadClassData:K,enemyClassData:Ze,fightBreakdown:Ct,fightDiffMode:mt,attendanceData:sn,squadCompByFight:gn,spikeDamage:lr,incomingStrikeDamage:Be,specialTables:tt,topStatsPerSecond:pa,topStatsLeaderboardsPerSecond:_n,avgMvpScore:Ko}})(),d=(()=>{const f=new Map,p=new Map,m=[],h=new Map,v=new Map;i.forEach(g=>{const b=g.details;if(!b)return;const w=b.skillMap||{},S=b.fightName||"Log",C=Pa(b,g)||Date.now(),N={id:g.filePath||g.id||S,label:S,timestamp:C,skillEntries:{},playerActiveSeconds:{},durationSeconds:b.durationMS?b.durationMS/1e3:0};(b.players||[]).forEach(M=>{if(M.notInSquad)return;const D=M.account||M.name||"Unknown",R=M.profession||"Unknown",T=`${D}|${R}`;let P=p.get(T);P||(P={key:T,account:D,displayName:D,profession:R,professionList:[R],logs:0,totalActiveSeconds:0,skillTotals:{}},p.set(T,P)),P.logs++;const O=(Array.isArray(M.activeTimes)?M.activeTimes[0]:0)/1e3;P.totalActiveSeconds=(P.totalActiveSeconds||0)+O,N.playerActiveSeconds[T]=O,(M.rotation||[]).forEach(W=>{var Q,ee,ue;if(!(W!=null&&W.id))return;const z=((Q=W.skills)==null?void 0:Q.length)||0;if(z<=0)return;const B=`s${W.id}`,ie=((ee=w[B])==null?void 0:ee.name)||`Skill ${W.id}`,k=(ue=w[B])==null?void 0:ue.icon;P.skillTotals[B]=(P.skillTotals[B]||0)+z,f.set(B,(f.get(B)||0)+z),h.set(B,ie),k&&!v.has(B)&&v.set(B,k),N.skillEntries[B]||(N.skillEntries[B]={name:ie,icon:k,players:{}}),!N.skillEntries[B].icon&&k&&(N.skillEntries[B].icon=k),N.skillEntries[B].players[T]=(N.skillEntries[B].players[T]||0)+z})}),m.push(N)});const x=Array.from(f.entries()).map(([g,b])=>({id:g,name:h.get(g)||g,total:b,icon:v.get(g)})).sort((g,b)=>b.total-g.total);return{logRecords:m,players:Array.from(p.values()),skillOptions:x,resUtilitySkills:[]}})();return{validLogs:i,stats:c,skillUsageData:d}},iU=({logs:e,stats:t,skillUsageData:n,activeStatsViewSettings:r,uiTheme:a,embedded:i,onWebUpload:o})=>{const[s,l]=y.useState({uploading:!1,message:null,url:null}),[c,d]=y.useState("idle"),f=()=>{const m=new Set;let h=null,v=null;e.forEach(M=>{const D=M.details;if(!D)return;const R=D.timeStartStd||D.timeStart||D.uploadTime||M.uploadTime,T=D.timeEndStd||D.timeEnd||D.uploadTime||M.uploadTime,P=R?new Date(R):null,O=T?new Date(T):null;P&&!Number.isNaN(P.getTime())&&(!h||P<h)&&(h=P),O&&!Number.isNaN(O.getTime())&&(!v||O>v)&&(v=O),(D.players||[]).forEach(W=>{if(!(W!=null&&W.notInSquad)&&W!=null&&W.hasCommanderTag){const Q=(W==null?void 0:W.name)||(W==null?void 0:W.account)||"Unknown";m.add(Q)}})});const x=Array.from(m).sort((M,D)=>M.localeCompare(D)),g=h||new Date,b=v||g,w=g.toISOString(),S=b.toISOString(),C=`${g.toLocaleString()} - ${b.toLocaleString()}`,N=M=>String(M).padStart(2,"0");return{id:`${g.getFullYear()}${N(g.getMonth()+1)}${N(g.getDate())}-${N(g.getHours())}${N(g.getMinutes())}${N(g.getSeconds())}-${Math.random().toString(36).slice(2,6)}`,title:x.length?x.join(", "):"Unknown Commander",commanders:x,dateStart:w,dateEnd:S,dateLabel:C,generatedAt:new Date().toISOString()}},p=()=>{var m;const h={...t,skillUsageData:n,statsViewSettings:r,uiTheme:a};if(Array.isArray(h.fightDiffMode)&&h.fightDiffMode.length>0||!Array.isArray(e)||e.length===0)return h;try{const v=th({logs:e,statsViewSettings:r}),x=(m=v==null?void 0:v.stats)==null?void 0:m.fightDiffMode;if(Array.isArray(x)&&x.length>0)return{...h,fightDiffMode:x}}catch{}return h};return{devMockUploadState:s,setDevMockUploadState:l,webCopyStatus:c,setWebCopyStatus:d,handleWebUpload:async()=>{if(!i&&o)try{const m=f(),h=p();await o({meta:m,stats:h})}catch(m){console.error("[StatsView] Web upload failed:",m)}},handleDevMockUpload:async()=>{var m;if(!(i||!((m=window.electronAPI)!=null&&m.mockWebReport))){l({uploading:!0,message:"Preparing local report...",url:null});try{const h=f(),v=p(),x=await window.electronAPI.mockWebReport({meta:h,stats:v});x!=null&&x.success?l({uploading:!1,message:"Local report ready.",url:x.url||null}):l({uploading:!1,message:(x==null?void 0:x.error)||"Local report failed.",url:null})}catch(h){l({uploading:!1,message:(h==null?void 0:h.message)||"Local report failed.",url:null})}}}}};function oU(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),a=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(a),t&&(r.href=t),a.href=e,a.href}const sU=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function pl(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}let Sd=null;function CD(e={}){return Sd||(e.includeStyleProperties?(Sd=e.includeStyleProperties,Sd):(Sd=pl(window.getComputedStyle(document.documentElement)),Sd))}function Bh(e,t){const n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function lU(e){const t=Bh(e,"border-left-width"),n=Bh(e,"border-right-width");return e.clientWidth+t+n}function cU(e){const t=Bh(e,"border-top-width"),n=Bh(e,"border-bottom-width");return e.clientHeight+t+n}function MD(e,t={}){const n=t.width||lU(e),r=t.height||cU(e);return{width:n,height:r}}function uU(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const fi=16384;function dU(e){(e.width>fi||e.height>fi)&&(e.width>fi&&e.height>fi?e.width>e.height?(e.height*=fi/e.width,e.width=fi):(e.width*=fi/e.height,e.height=fi):e.width>fi?(e.height*=fi/e.width,e.width=fi):(e.width*=fi/e.height,e.height=fi))}function zh(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function fU(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function pU(e,t,n){const r="http://www.w3.org/2000/svg",a=document.createElementNS(r,"svg"),i=document.createElementNS(r,"foreignObject");return a.setAttribute("width",`${t}`),a.setAttribute("height",`${n}`),a.setAttribute("viewBox",`0 0 ${t} ${n}`),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("externalResourcesRequired","true"),a.appendChild(i),i.appendChild(e),fU(a)}const Ja=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||Ja(n,t)};function mU(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function hU(e,t){return CD(t).map(n=>{const r=e.getPropertyValue(n),a=e.getPropertyPriority(n);return`${n}: ${r}${a?" !important":""};`}).join(" ")}function gU(e,t,n,r){const a=`.${e}:${t}`,i=n.cssText?mU(n):hU(n,r);return document.createTextNode(`${a}{${i}}`)}function ej(e,t,n,r){const a=window.getComputedStyle(e,n),i=a.getPropertyValue("content");if(i===""||i==="none")return;const o=sU();try{t.className=`${t.className} ${o}`}catch{return}const s=document.createElement("style");s.appendChild(gU(o,n,a,r)),t.appendChild(s)}function yU(e,t,n){ej(e,t,":before",n),ej(e,t,":after",n)}const tj="application/font-woff",nj="image/jpeg",vU={woff:tj,woff2:tj,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:nj,jpeg:nj,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function bU(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function M1(e){const t=bU(e).toLowerCase();return vU[t]||""}function xU(e){return e.split(/,/)[1]}function Qb(e){return e.search(/^(data:)/)!==-1}function wU(e,t){return`data:${t};base64,${e}`}async function AD(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const a=await r.blob();return new Promise((i,o)=>{const s=new FileReader;s.onerror=o,s.onloadend=()=>{try{i(n({res:r,result:s.result}))}catch(l){o(l)}},s.readAsDataURL(a)})}const tv={};function kU(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function A1(e,t,n){const r=kU(e,t,n.includeQueryParams);if(tv[r]!=null)return tv[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let a;try{const i=await AD(e,n.fetchRequestInit,({res:o,result:s})=>(t||(t=o.headers.get("Content-Type")||""),xU(s)));a=wU(i,t)}catch(i){a=n.imagePlaceholder||"";let o=`Failed to fetch resource: ${e}`;i&&(o=typeof i=="string"?i:i.message),o&&console.warn(o)}return tv[r]=a,a}async function SU(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):zh(t)}async function NU(e,t){if(e.currentSrc){const i=document.createElement("canvas"),o=i.getContext("2d");i.width=e.clientWidth,i.height=e.clientHeight,o==null||o.drawImage(e,0,0,i.width,i.height);const s=i.toDataURL();return zh(s)}const n=e.poster,r=M1(n),a=await A1(n,r,t);return zh(a)}async function jU(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await p0(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function CU(e,t){return Ja(e,HTMLCanvasElement)?SU(e):Ja(e,HTMLVideoElement)?NU(e,t):Ja(e,HTMLIFrameElement)?jU(e,t):e.cloneNode(ED(e))}const MU=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",ED=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function AU(e,t,n){var r,a;if(ED(t))return t;let i=[];return MU(e)&&e.assignedNodes?i=pl(e.assignedNodes()):Ja(e,HTMLIFrameElement)&&!((r=e.contentDocument)===null||r===void 0)&&r.body?i=pl(e.contentDocument.body.childNodes):i=pl(((a=e.shadowRoot)!==null&&a!==void 0?a:e).childNodes),i.length===0||Ja(e,HTMLVideoElement)||await i.reduce((o,s)=>o.then(()=>p0(s,n)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function EU(e,t,n){const r=t.style;if(!r)return;const a=window.getComputedStyle(e);a.cssText?(r.cssText=a.cssText,r.transformOrigin=a.transformOrigin):CD(n).forEach(i=>{let o=a.getPropertyValue(i);i==="font-size"&&o.endsWith("px")&&(o=`${Math.floor(parseFloat(o.substring(0,o.length-2)))-.1}px`),Ja(e,HTMLIFrameElement)&&i==="display"&&o==="inline"&&(o="block"),i==="d"&&t.getAttribute("d")&&(o=`path(${t.getAttribute("d")})`),r.setProperty(i,o,a.getPropertyPriority(i))})}function TU(e,t){Ja(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),Ja(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function PU(e,t){if(Ja(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(a=>e.value===a.getAttribute("value"));r&&r.setAttribute("selected","")}}function DU(e,t,n){return Ja(t,Element)&&(EU(e,t,n),yU(e,t,n),TU(e,t),PU(e,t)),t}async function OU(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let i=0;i<n.length;i++){const o=n[i].getAttribute("xlink:href");if(o){const s=e.querySelector(o),l=document.querySelector(o);!s&&l&&!r[o]&&(r[o]=await p0(l,t,!0))}}const a=Object.values(r);if(a.length){const i="http://www.w3.org/1999/xhtml",o=document.createElementNS(i,"svg");o.setAttribute("xmlns",i),o.style.position="absolute",o.style.width="0",o.style.height="0",o.style.overflow="hidden",o.style.display="none";const s=document.createElementNS(i,"defs");o.appendChild(s);for(let l=0;l<a.length;l++)s.appendChild(a[l]);e.appendChild(o)}return e}async function p0(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>CU(r,t)).then(r=>AU(e,r,t)).then(r=>DU(e,r,t)).then(r=>OU(r,t))}const TD=/url\((['"]?)([^'"]+?)\1\)/g,IU=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,_U=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function LU(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function FU(e){const t=[];return e.replace(TD,(n,r,a)=>(t.push(a),n)),t.filter(n=>!Qb(n))}async function RU(e,t,n,r,a){try{const i=n?oU(t,n):t,o=M1(t);let s;return a||(s=await A1(i,o,r)),e.replace(LU(t),`$1${s}$3`)}catch{}return e}function $U(e,{preferredFontFormat:t}){return t?e.replace(_U,n=>{for(;;){const[r,,a]=IU.exec(n)||[];if(!a)return"";if(a===t)return`src: ${r};`}}):e}function PD(e){return e.search(TD)!==-1}async function DD(e,t,n){if(!PD(e))return e;const r=$U(e,n);return FU(r).reduce((a,i)=>a.then(o=>RU(o,i,t,n)),Promise.resolve(r))}async function Hc(e,t,n){var r;const a=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(a){const i=await DD(a,null,n);return t.style.setProperty(e,i,t.style.getPropertyPriority(e)),!0}return!1}async function BU(e,t){await Hc("background",e,t)||await Hc("background-image",e,t),await Hc("mask",e,t)||await Hc("-webkit-mask",e,t)||await Hc("mask-image",e,t)||await Hc("-webkit-mask-image",e,t)}async function zU(e,t){const n=Ja(e,HTMLImageElement);if(!(n&&!Qb(e.src))&&!(Ja(e,SVGImageElement)&&!Qb(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,a=await A1(r,M1(r),t);await new Promise((i,o)=>{e.onload=i,e.onerror=t.onImageErrorHandler?(...l)=>{try{i(t.onImageErrorHandler(...l))}catch(c){o(c)}}:o;const s=e;s.decode&&(s.decode=i),s.loading==="lazy"&&(s.loading="eager"),n?(e.srcset="",e.src=a):e.href.baseVal=a})}async function UU(e,t){const n=pl(e.childNodes).map(r=>OD(r,t));await Promise.all(n).then(()=>e)}async function OD(e,t){Ja(e,Element)&&(await BU(e,t),await zU(e,t),await UU(e,t))}function VU(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(a=>{n[a]=r[a]}),e}const rj={};async function aj(e){let t=rj[e];if(t!=null)return t;const n=await(await fetch(e)).text();return t={url:e,cssText:n},rj[e]=t,t}async function ij(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,a=(n.match(/url\([^)]+\)/g)||[]).map(async i=>{let o=i.replace(r,"$1");return o.startsWith("https://")||(o=new URL(o,e.url).href),AD(o,t.fetchRequestInit,({result:s})=>(n=n.replace(i,`url(${s})`),[i,s]))});return Promise.all(a).then(()=>n)}function oj(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const a=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=a.exec(r);if(l===null)break;t.push(l[0])}r=r.replace(a,"");const i=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,o="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",s=new RegExp(o,"gi");for(;;){let l=i.exec(r);if(l===null){if(l=s.exec(r),l===null)break;i.lastIndex=s.lastIndex}else s.lastIndex=i.lastIndex;t.push(l[0])}return t}async function WU(e,t){const n=[],r=[];return e.forEach(a=>{if("cssRules"in a)try{pl(a.cssRules||[]).forEach((i,o)=>{if(i.type===CSSRule.IMPORT_RULE){let s=o+1;const l=i.href,c=aj(l).then(d=>ij(d,t)).then(d=>oj(d).forEach(f=>{try{a.insertRule(f,f.startsWith("@import")?s+=1:a.cssRules.length)}catch(p){console.error("Error inserting rule from remote css",{rule:f,error:p})}})).catch(d=>{console.error("Error loading remote css",d.toString())});r.push(c)}})}catch(i){const o=e.find(s=>s.href==null)||document.styleSheets[0];a.href!=null&&r.push(aj(a.href).then(s=>ij(s,t)).then(s=>oj(s).forEach(l=>{o.insertRule(l,o.cssRules.length)})).catch(s=>{console.error("Error loading remote stylesheet",s)})),console.error("Error inlining remote css file",i)}}),Promise.all(r).then(()=>(e.forEach(a=>{if("cssRules"in a)try{pl(a.cssRules||[]).forEach(i=>{n.push(i)})}catch(i){console.error(`Error while reading CSS rules from ${a.href}`,i)}}),n))}function HU(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>PD(t.style.getPropertyValue("src")))}async function qU(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=pl(e.ownerDocument.styleSheets),r=await WU(n,t);return HU(r)}function ID(e){return e.trim().replace(/["']/g,"")}function KU(e){const t=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(a=>{t.add(ID(a))}),Array.from(r.children).forEach(a=>{a instanceof HTMLElement&&n(a)})}return n(e),t}async function YU(e,t){const n=await qU(e,t),r=KU(e);return(await Promise.all(n.filter(a=>r.has(ID(a.style.fontFamily))).map(a=>{const i=a.parentStyleSheet?a.parentStyleSheet.href:null;return DD(a.cssText,i,t)}))).join(`
`)}async function GU(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await YU(e,t);if(n){const r=document.createElement("style"),a=document.createTextNode(n);r.appendChild(a),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function QU(e,t={}){const{width:n,height:r}=MD(e,t),a=await p0(e,t,!0);return await GU(a,t),await OD(a,t),VU(a,t),await pU(a,n,r)}async function XU(e,t={}){const{width:n,height:r}=MD(e,t),a=await QU(e,t),i=await zh(a),o=document.createElement("canvas"),s=o.getContext("2d"),l=t.pixelRatio||uU(),c=t.canvasWidth||n,d=t.canvasHeight||r;return o.width=c*l,o.height=d*l,t.skipAutoScale||dU(o),o.style.width=`${c}`,o.style.height=`${d}`,t.backgroundColor&&(s.fillStyle=t.backgroundColor,s.fillRect(0,0,o.width,o.height)),s.drawImage(i,0,0,o.width,o.height),o}async function ZU(e,t={}){return(await XU(e,t)).toDataURL()}const JU=e=>{const[t,n]=y.useState(!1),r=async i=>{var o;if(!((o=window.electronAPI)!=null&&o.fetchImageAsDataUrl))return i();const s=window.fetch.bind(window),l=globalThis.fetch.bind(globalThis),c=async(d,f)=>{const p=typeof d=="string"?d:d instanceof URL?d.toString():d.url;if(/^https?:\/\//i.test(p)){const m=await window.electronAPI.fetchImageAsDataUrl(p);if(m!=null&&m.success&&m.dataUrl)return s(m.dataUrl)}return s(d,f)};window.fetch=c,globalThis.fetch=c;try{return await i()}finally{window.fetch=s,globalThis.fetch=l}},a=async i=>{var o;if(!((o=window.electronAPI)!=null&&o.fetchImageAsDataUrl))return()=>{};const s=new Map,l=[],c=async p=>{if(s.has(p))return s.get(p)||null;const m=await window.electronAPI.fetchImageAsDataUrl(p);return m!=null&&m.success&&m.dataUrl?(s.set(p,m.dataUrl),m.dataUrl):(s.set(p,""),null)},d=Array.from(i.querySelectorAll("img"));await Promise.all(d.map(async p=>{var m;const h=p.currentSrc||p.src;if(!h||h.startsWith("data:")||h.startsWith("blob:")||h.startsWith("file:"))return;const v=await c(h);if(!v)return;const x=p.src,g=p.srcset;p.src=v,p.srcset="",l.push(()=>{p.src=x,p.srcset=g});try{await((m=p.decode)==null?void 0:m.call(p))}catch{}}));const f=Array.from(i.querySelectorAll("*"));return await Promise.all(f.map(async p=>{const m=window.getComputedStyle(p).backgroundImage;if(!m||m==="none"||!m.includes("url("))return;const h=Array.from(m.matchAll(/url\(["']?(https?:\/\/[^"')]+)["']?\)/g));if(!h.length)return;let v=m,x=!1;for(const b of h){const w=b[1];if(!w)continue;const S=await c(w);S&&(v=v.replace(b[0],`url("${S}")`),x=!0)}if(!x)return;const g=p.style.backgroundImage;p.style.backgroundImage=v,l.push(()=>{p.style.backgroundImage=g})})),()=>{l.forEach(p=>p())}};return{sharing:t,setSharing:n,handleShare:async()=>{var i;if(e||!((i=window.electronAPI)!=null&&i.sendStatsScreenshot))return;n(!0);const o=document.getElementById("stats-dashboard-container");if(o)try{await new Promise(p=>setTimeout(p,100));const s=Array.from(o.querySelectorAll(".stats-share-exclude"));o.classList.add("stats-share-mode"),s.forEach(p=>{p.dataset.prevDisplay=p.style.display,p.style.display="none"});let l;const c=await a(o);try{const p=o.scrollWidth,m=o.scrollHeight;l=await r(()=>ZU(o,{backgroundColor:"#10141b",quality:.95,pixelRatio:2,cacheBust:!0,width:p,height:m,style:{overflow:"visible",maxHeight:"none",height:"auto"}}))}finally{c(),o.classList.remove("stats-share-mode"),s.forEach(p=>{p.style.display=p.dataset.prevDisplay||"",delete p.dataset.prevDisplay})}const d=await(await(await fetch(l)).blob()).arrayBuffer(),f=new Uint8Array(d);window.electronAPI.sendStatsScreenshot(f)}catch(s){console.error("Failed to capture stats:",s)}setTimeout(()=>n(!1),2e3)}}},e8=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:a})=>{const i=e.length>8,[o,s]=y.useState(()=>th(typeof Worker<"u"&&i?{logs:[],precomputedStats:void 0,mvpWeights:n,statsViewSettings:r,disruptionMethod:a}:{logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:a})),[l,c]=y.useState(0),[d,f]=y.useState(0),[p,m]=y.useState(0),[h,v]=y.useState(0),[x,g]=y.useState(null),b=y.useRef(0),[w,S]=y.useState(0),C=y.useRef(null),N=y.useRef(null),[M,D]=y.useState(!1),R=y.useRef(null),T=y.useRef(""),P=y.useRef(void 0),O=y.useRef(""),W=y.useMemo(()=>{if(!r){T.current="",P.current=void 0;return}const z={...r};delete z.topSkillsMetric;const B=JSON.stringify(z);return T.current!==B&&(T.current=B,P.current=z),P.current},[r]),Q=y.useMemo(()=>({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:W,disruptionMethod:a}),[e,t,n,W,a]);y.useEffect(()=>{if(!(typeof Worker>"u")&&!M&&i)return N.current||(N.current=new Worker(new URL(""+new URL(""+new URL("statsWorker-DQyIirLr-CrUALMgl.js",import.meta.url).href,import.meta.url).href,import.meta.url),{type:"module"}),N.current.onmessage=z=>{var B;((B=z.data)==null?void 0:B.type)==="result"&&(s(z.data.result),typeof z.data.computeId=="number"?c(z.data.computeId):c(ie=>ie+1),typeof z.data.logCount=="number"&&f(z.data.logCount),typeof z.data.token=="number"&&m(z.data.token),typeof z.data.completedAt=="number"&&v(z.data.completedAt),typeof z.data.flushId=="number"&&g(z.data.flushId))},N.current.onerror=z=>{var B;console.warn("[StatsWorker] Worker error. Falling back to main thread.",z),(B=N.current)==null||B.terminate(),N.current=null,D(!0)},N.current.onmessageerror=z=>{var B;console.warn("[StatsWorker] Worker message error. Falling back to main thread.",z),(B=N.current)==null||B.terminate(),N.current=null,D(!0)},C.current!==null&&N.current.postMessage({type:"flush",flushId:C.current})),()=>{var z;(z=N.current)==null||z.terminate(),N.current=null}},[M,i]),y.useEffect(()=>{var z;if(!(!N.current||M||!i))try{b.current+=1,S(b.current),N.current.postMessage({type:"reset",token:b.current}),N.current.postMessage({type:"settings",payload:{precomputedStats:t,mvpWeights:n,statsViewSettings:W,disruptionMethod:a}}),R.current&&(window.clearTimeout(R.current),R.current=null);let B=0;const ie=()=>{if(!N.current)return;const k=5;for(let I=0;I<k&&B<e.length;I+=1,B+=1)N.current.postMessage({type:"log",payload:e[B]});B<e.length?R.current=window.setTimeout(ie,0):(R.current=null,N.current.postMessage({type:"flush"}))};ie()}catch(B){console.warn("[StatsWorker] Failed to postMessage payload. Falling back to main thread.",B),(z=N.current)==null||z.terminate(),N.current=null,D(!0)}},[Q,e,t,n,W,a,i]);const ee=y.useMemo(()=>!M&&typeof Worker<"u"&&i?null:th({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:W,disruptionMethod:a}),[M,e,t,n,W,a,i]),ue=y.useMemo(()=>{if(!M&&typeof Worker<"u"&&i)return"worker";const z=e[0],B=e[e.length-1];return JSON.stringify({logCount:e.length,firstLogPath:(z==null?void 0:z.filePath)||(z==null?void 0:z.name)||"",lastLogPath:(B==null?void 0:B.filePath)||(B==null?void 0:B.name)||"",precomputedTotal:Number((t==null?void 0:t.total)||0),precomputedUpdatedAt:String((t==null?void 0:t.updatedAt)||""),disruptionMethod:a||null,settingsKey:T.current})},[M,i,e,t,a]);return y.useEffect(()=>{!M&&typeof Worker<"u"&&i||O.current!==ue&&(O.current=ue,c(z=>z+1),f(e.length),m(b.current),v(Date.now()))},[ue,M,e.length,i]),{result:M||typeof Worker>"u"||!i?ee??th({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:W,disruptionMethod:a}):o,computeTick:l,lastComputedLogCount:d,lastComputedToken:p,activeToken:w,lastComputedAt:h,lastComputedFlushId:x,requestFlush:()=>{const z=Date.now();return C.current=z,N.current&&!M&&N.current.postMessage({type:"flush",flushId:z}),z}}},t8=e=>({apmSpecBuckets:y.useMemo(()=>{const t=new Map,n=new Map((e.skillOptions||[]).map(i=>[i.id,i])),r=new Map,a=(i,o)=>{if(r.has(o))return r.get(o);const s=n.get(o);let l=!1;return s&&typeof s.autoAttack=="boolean"?l=s.autoAttack:l=dz(i),r.set(o,l),l};return(e.players||[]).forEach(i=>{const o=(i==null?void 0:i.profession)||"Unknown";let s=t.get(o);s||(s={profession:o,players:[],playerRows:[],totalActiveSeconds:0,totalCasts:0,totalAutoCasts:0,skills:[],skillMap:new Map},t.set(o,s)),s.players.push(i);const l=Number((i==null?void 0:i.totalActiveSeconds)||0),c=Number.isFinite(l)&&l>0?l:0;s.totalActiveSeconds+=c;let d=0,f=0;const p=i&&typeof i.skillTotals=="object"&&i.skillTotals!==null?i.skillTotals:{};Object.entries(p).forEach(([S,C])=>{const N=Number(C);if(!Number.isFinite(N)||N<=0)return;const M=n.get(S),D=(M==null?void 0:M.name)||S,R=M==null?void 0:M.icon,T=a(D,S);d+=N,T&&(f+=N);let P=s.skillMap.get(S);P||(P={id:S,name:D,icon:R,totalCasts:0,playerCounts:new Map},s.skillMap.set(S,P)),!P.icon&&R&&(P.icon=R),P.totalCasts+=N;const O=(i==null?void 0:i.key)||`${(i==null?void 0:i.account)||"Unknown"}|${o}`;P.playerCounts.set(O,N)}),s.totalCasts+=d,s.totalAutoCasts+=f;const m=c/60,h=m>0?d/m:0,v=Math.max(0,d-f),x=m>0?v/m:0,g=c>0?d/c:0,b=c>0?v/c:0,w={key:(i==null?void 0:i.key)||`${(i==null?void 0:i.account)||"Unknown"}|${o}`,account:(i==null?void 0:i.account)||"Unknown",displayName:(i==null?void 0:i.displayName)||(i==null?void 0:i.account)||"Unknown",profession:o,professionList:Array.isArray(i==null?void 0:i.professionList)?i.professionList:[o],logs:Number((i==null?void 0:i.logs)||0),totalActiveSeconds:c,totalCasts:d,totalAutoCasts:f,apm:h,apmNoAuto:x,aps:g,apsNoAuto:b};s.playerRows.push(w)}),t.forEach(i=>{i.playerRows.sort((c,d)=>d.apm-c.apm);const o=Number(i.totalActiveSeconds||0),s=o>0?o/60:0,l=Math.max(0,Number(i.totalCasts||0)-Number(i.totalAutoCasts||0));i.totalApm=s>0?Number(i.totalCasts||0)/s:0,i.totalApmNoAuto=s>0?l/s:0,i.totalAps=o>0?Number(i.totalCasts||0)/o:0,i.totalApsNoAuto=o>0?l/o:0,i.skills=Array.from(i.skillMap.values()).map(c=>{const d=i.playerRows.map(h=>{var v;const x=Number(((v=c.playerCounts)==null?void 0:v.get(h.key))||0);if(!Number.isFinite(x)||x<=0)return null;const g=Number(h.totalActiveSeconds||0),b=g>0?x/(g/60):0,w=g>0?x/g:0;return{...h,count:x,apm:b,aps:w}}).filter(Boolean).sort((h,v)=>v.apm-h.apm||String(h.displayName||"").localeCompare(String(v.displayName||""))),f=Number(c.totalCasts||0),p=o>0?f/o:0,m=s>0?f/s:0;return{...c,playerRows:d,totalCasts:f,totalCastsPerSecond:p,totalApm:m}}).sort((c,d)=>d.totalCasts-c.totalCasts)}),Array.from(t.values()).sort((i,o)=>i.profession.localeCompare(o.profession))},[e])}),n8=({skillUsageData:e,selectedSkillId:t,selectedPlayers:n,skillUsageView:r})=>{const a=y.useMemo(()=>{const d=new Map;return e.players.forEach(f=>d.set(f.key,f)),d},[e.players]),i=y.useMemo(()=>{const d=new Map;if(!t)return d;const f=r==="perSecond";return e.players.forEach(p=>{const m=p.skillTotals[t]||0;if(m===0)return;let h=m;if(f){const v=p.totalActiveSeconds||1;h=v>0?m/v:0}d.set(p.key,h)}),d},[e.players,t,r]),o=y.useMemo(()=>t?Array.from(i.entries()).map(([d,f])=>{const p=a.get(d);return{key:d,name:(p==null?void 0:p.displayName)||d,profession:(p==null?void 0:p.profession)||"Unknown",value:f}}).sort((d,f)=>f.value-d.value):[],[i,a,t]),{chartData:s,maxY:l}=y.useMemo(()=>{if(!t)return{chartData:[],maxY:0};let d=0;const f=r==="perSecond";return{chartData:e.logRecords.map((p,m)=>{const h=p.skillEntries[t];if(!h)return null;const v={index:m,name:p.label,shortLabel:p.label,fullLabel:p.label,timestamp:p.timestamp};let x=!1,g=!1;if(Object.entries(h.players).forEach(([b,w])=>{var S;if(n.size>0&&!n.has(b))return;let C=w;if(f){const N=((S=p.playerActiveSeconds)==null?void 0:S[b])||0;C=N>0?w/N:0}v[b]=C,C>d&&(d=C),x=!0,g=!0}),n.size>0){if(!g)return null}else if(!x)return null;return n.forEach(b=>{v[b]===void 0&&(v[b]=0)}),v}).filter(p=>p!==null),maxY:d}},[e.logRecords,t,n,r]),c=y.useMemo(()=>{const d={};return e.players.forEach(f=>{const p=f.profession||"Unknown";d[p]||(d[p]=[]),d[p].push(f)}),Object.entries(d).map(([f,p])=>({profession:f,players:p.sort((m,h)=>m.displayName.localeCompare(h.displayName))})).sort((f,p)=>f.profession.localeCompare(p.profession))},[e.players]);return{playerMapByKey:a,playerTotalsForSkill:i,skillBarData:o,skillChartData:s,skillChartMaxY:l,groupedSkillUsagePlayers:c}};function _D(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=_D(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function En(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=_D(e))&&(r&&(r+=" "),r+=t);return r}var r8=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function E1(e){if(typeof e!="string")return!1;var t=r8;return t.includes(e)}var a8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],i8=new Set(a8);function LD(e){return typeof e!="string"?!1:i8.has(e)}function FD(e){return typeof e=="string"&&e.startsWith("data-")}function qi(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(LD(n)||FD(n))&&(t[n]=e[n]);return t}function _u(e){if(e==null)return null;if(y.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return qi(t)}return typeof e=="object"&&!Array.isArray(e)?qi(e):null}function Fa(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(LD(n)||FD(n)||E1(n))&&(t[n]=e[n]);return t}function o8(e){return e==null?null:y.isValidElement(e)?Fa(e.props):typeof e=="object"&&!Array.isArray(e)?Fa(e):null}var s8=["children","width","height","viewBox","className","style","title","desc"];function Xb(){return Xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xb.apply(null,arguments)}function l8(e,t){if(e==null)return{};var n,r,a=c8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function c8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var T1=y.forwardRef((e,t)=>{var{children:n,width:r,height:a,viewBox:i,className:o,style:s,title:l,desc:c}=e,d=l8(e,s8),f=i||{width:r,height:a,x:0,y:0},p=En("recharts-surface",o);return y.createElement("svg",Xb({},Fa(d),{className:p,width:r,height:a,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),y.createElement("title",null,l),y.createElement("desc",null,c),n)}),u8=["children","className"];function Zb(){return Zb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zb.apply(null,arguments)}function d8(e,t){if(e==null)return{};var n,r,a=f8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function f8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ei=y.forwardRef((e,t)=>{var{children:n,className:r}=e,a=d8(e,u8),i=En("recharts-layer",r);return y.createElement("g",Zb({className:i},Fa(a),{ref:t}),n)}),RD=y.createContext(null),p8=()=>y.useContext(RD);function Yn(e){return function(){return e}}const $D=Math.cos,Uh=Math.sin,xo=Math.sqrt,Vh=Math.PI,m0=2*Vh,Jb=Math.PI,ex=2*Jb,Wl=1e-6,m8=ex-Wl;function BD(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function h8(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return BD;const n=10**t;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class g8{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?BD:h8(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,i,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,r,a,i){if(t=+t,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,l=r-t,c=a-n,d=o-t,f=s-n,p=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>Wl)if(!(Math.abs(f*l-c*d)>Wl)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-o,h=a-s,v=l*l+c*c,x=m*m+h*h,g=Math.sqrt(v),b=Math.sqrt(p),w=i*Math.tan((Jb-Math.acos((v+p-x)/(2*g*b)))/2),S=w/b,C=w/g;Math.abs(S-1)>Wl&&this._append`L${t+S*d},${n+S*f}`,this._append`A${i},${i},0,0,${+(f*m>d*h)},${this._x1=t+C*l},${this._y1=n+C*c}`}}arc(t,n,r,a,i,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(a),l=r*Math.sin(a),c=t+s,d=n+l,f=1^o,p=o?a-i:i-a;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>Wl||Math.abs(this._y1-d)>Wl)&&this._append`L${c},${d}`,r&&(p<0&&(p=p%ex+ex),p>m8?this._append`A${r},${r},0,1,${f},${t-s},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=d}`:p>Wl&&this._append`A${r},${r},0,${+(p>=Jb)},${f},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function P1(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new g8(t)}function D1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function zD(e){this._context=e}zD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function h0(e){return new zD(e)}function UD(e){return e[0]}function VD(e){return e[1]}function WD(e,t){var n=Yn(!0),r=null,a=h0,i=null,o=P1(s);e=typeof e=="function"?e:e===void 0?UD:Yn(e),t=typeof t=="function"?t:t===void 0?VD:Yn(t);function s(l){var c,d=(l=D1(l)).length,f,p=!1,m;for(r==null&&(i=a(m=o())),c=0;c<=d;++c)!(c<d&&n(f=l[c],c,l))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(f,c,l),+t(f,c,l));if(m)return i=null,m+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Yn(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Yn(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Yn(!!l),s):n},s.curve=function(l){return arguments.length?(a=l,r!=null&&(i=a(r)),s):a},s.context=function(l){return arguments.length?(l==null?r=i=null:i=a(r=l),s):r},s}function ym(e,t,n){var r=null,a=Yn(!0),i=null,o=h0,s=null,l=P1(c);e=typeof e=="function"?e:e===void 0?UD:Yn(+e),t=typeof t=="function"?t:Yn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?VD:Yn(+n);function c(f){var p,m,h,v=(f=D1(f)).length,x,g=!1,b,w=new Array(v),S=new Array(v);for(i==null&&(s=o(b=l())),p=0;p<=v;++p){if(!(p<v&&a(x=f[p],p,f))===g)if(g=!g)m=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=p-1;h>=m;--h)s.point(w[h],S[h]);s.lineEnd(),s.areaEnd()}g&&(w[p]=+e(x,p,f),S[p]=+t(x,p,f),s.point(r?+r(x,p,f):w[p],n?+n(x,p,f):S[p]))}if(b)return s=null,b+""||null}function d(){return WD().defined(a).curve(o).context(i)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Yn(+f),r=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Yn(+f),c):e},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Yn(+f),c):r},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Yn(+f),n=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Yn(+f),c):t},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Yn(+f),c):n},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(n)},c.lineX1=function(){return d().x(r).y(t)},c.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Yn(!!f),c):a},c.curve=function(f){return arguments.length?(o=f,i!=null&&(s=o(i)),c):o},c.context=function(f){return arguments.length?(f==null?i=s=null:s=o(i=f),c):i},c}class HD{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function y8(e){return new HD(e,!0)}function v8(e){return new HD(e,!1)}const O1={draw(e,t){const n=xo(t/Vh);e.moveTo(n,0),e.arc(0,0,n,0,m0)}},b8={draw(e,t){const n=xo(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},qD=xo(1/3),x8=qD*2,w8={draw(e,t){const n=xo(t/x8),r=n*qD;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},k8={draw(e,t){const n=xo(t),r=-n/2;e.rect(r,r,n,n)}},S8=.8908130915292852,KD=Uh(Vh/10)/Uh(7*Vh/10),N8=Uh(m0/10)*KD,j8=-$D(m0/10)*KD,C8={draw(e,t){const n=xo(t*S8),r=N8*n,a=j8*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){const o=m0*i/5,s=$D(o),l=Uh(o);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*a,l*r+s*a)}e.closePath()}},nv=xo(3),M8={draw(e,t){const n=-xo(t/(nv*3));e.moveTo(0,n*2),e.lineTo(-nv*n,-n),e.lineTo(nv*n,-n),e.closePath()}},Pi=-.5,Di=xo(3)/2,tx=1/xo(12),A8=(tx/2+1)*3,E8={draw(e,t){const n=xo(t/A8),r=n/2,a=n*tx,i=r,o=n*tx+n,s=-i,l=o;e.moveTo(r,a),e.lineTo(i,o),e.lineTo(s,l),e.lineTo(Pi*r-Di*a,Di*r+Pi*a),e.lineTo(Pi*i-Di*o,Di*i+Pi*o),e.lineTo(Pi*s-Di*l,Di*s+Pi*l),e.lineTo(Pi*r+Di*a,Pi*a-Di*r),e.lineTo(Pi*i+Di*o,Pi*o-Di*i),e.lineTo(Pi*s+Di*l,Pi*l-Di*s),e.closePath()}};function T8(e,t){let n=null,r=P1(a);e=typeof e=="function"?e:Yn(e||O1),t=typeof t=="function"?t:Yn(t===void 0?64:+t);function a(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Yn(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Yn(+i),a):t},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function Wh(){}function Hh(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function YD(e){this._context=e}YD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Hh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Hh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function P8(e){return new YD(e)}function GD(e){this._context=e}GD.prototype={areaStart:Wh,areaEnd:Wh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Hh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function D8(e){return new GD(e)}function QD(e){this._context=e}QD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Hh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function O8(e){return new QD(e)}function XD(e){this._context=e}XD.prototype={areaStart:Wh,areaEnd:Wh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function I8(e){return new XD(e)}function sj(e){return e<0?-1:1}function lj(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),s=(i*a+o*r)/(r+a);return(sj(i)+sj(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function cj(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function rv(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-r)/3;e._context.bezierCurveTo(r+s,a+s*t,i-s,o-s*n,i,o)}function qh(e){this._context=e}qh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:rv(this,this._t0,cj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,rv(this,cj(this,n=lj(this,e,t)),n);break;default:rv(this,this._t0,n=lj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function ZD(e){this._context=new JD(e)}(ZD.prototype=Object.create(qh.prototype)).point=function(e,t){qh.prototype.point.call(this,t,e)};function JD(e){this._context=e}JD.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}};function _8(e){return new qh(e)}function L8(e){return new ZD(e)}function eO(e){this._context=e}eO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=uj(e),a=uj(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function uj(e){var t,n=e.length-1,r,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function F8(e){return new eO(e)}function g0(e,t){this._context=e,this._t=t}g0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function R8(e){return new g0(e,.5)}function $8(e){return new g0(e,0)}function B8(e){return new g0(e,1)}function vc(e,t){if((o=e.length)>1)for(var n=1,r,a,i=e[t[0]],o,s=i.length;n<o;++n)for(a=i,i=e[t[n]],r=0;r<s;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function nx(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function z8(e,t){return e[t]}function U8(e){const t=[];return t.key=e,t}function V8(){var e=Yn([]),t=nx,n=vc,r=z8;function a(i){var o=Array.from(e.apply(this,arguments),U8),s,l=o.length,c=-1,d;for(const f of i)for(s=0,++c;s<l;++s)(o[s][c]=[0,+r(f,o[s].key,c,i)]).data=f;for(s=0,d=D1(t(o));s<l;++s)o[d[s]].index=s;return n(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Yn(Array.from(i)),a):e},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:Yn(+i),a):r},a.order=function(i){return arguments.length?(t=i==null?nx:typeof i=="function"?i:Yn(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(n=i??vc,a):n},a}function W8(e,t){if((r=e.length)>0){for(var n,r,a=0,i=e[0].length,o;a<i;++a){for(o=n=0;n<r;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<r;++n)e[n][a][1]/=o}vc(e,t)}}function H8(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,i=r.length;n<i;++n){for(var o=0,s=0;o<a;++o)s+=e[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}vc(e,t)}}function q8(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,i,o;r<i;++r){for(var s=0,l=0,c=0;s<o;++s){for(var d=e[t[s]],f=d[r][1]||0,p=d[r-1][1]||0,m=(f-p)/2,h=0;h<s;++h){var v=e[t[h]],x=v[r][1]||0,g=v[r-1][1]||0;m+=x-g}l+=f,c+=m*f}a[r-1][1]+=a[r-1][0]=n,l&&(n-=c/l)}a[r-1][1]+=a[r-1][0]=n,vc(e,t)}}var y0={},tO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(tO);var I1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(I1);var v0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(v0);var b0={},nO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(nO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nO,n=v0;function r(a){if(Array.isArray(a))return a.map(n.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],o=a.length;if(o===0)return i;let s=0,l="",c="",d=!1;for(a.charCodeAt(0)===46&&(i.push(""),s++);s<o;){const f=a[s];c?f==="\\"&&s+1<o?(s++,l+=a[s]):f===c?c="":l+=f:d?f==='"'||f==="'"?c=f:f==="]"?(d=!1,i.push(l),l=""):l+=f:f==="["?(d=!0,l&&(i.push(l),l="")):f==="."?l&&(i.push(l),l=""):l+=f,s++}return l&&i.push(l),i}e.toPath=r})(b0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tO,n=I1,r=v0,a=b0;function i(s,l,c){if(s==null)return c;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return c;const d=s[l];return d===void 0?n.isDeepKey(l)?i(s,a.toPath(l),c):c:d}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const d=s[l];return d===void 0?c:d}default:{if(Array.isArray(l))return o(s,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return c;const d=s[l];return d===void 0?c:d}}}function o(s,l,c){if(l.length===0)return c;let d=s;for(let f=0;f<l.length;f++){if(d==null||t.isUnsafeProperty(l[f]))return c;d=d[l[f]]}return d===void 0?c:d}e.get=i})(y0);var K8=y0.get;const bc=bo(K8);var Y8=4;function al(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Y8,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function xr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((a,i,o)=>{var s=n[o-1];return typeof s=="string"?a+s+i:s!==void 0?a+al(s)+i:a+i},"")}var ka=e=>e===0?0:e>0?1:-1,zo=e=>typeof e=="number"&&e!=+e,ys=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,St=e=>(typeof e=="number"||e instanceof Number)&&!zo(e),Uo=e=>St(e)||typeof e=="string",G8=0,Pf=e=>{var t=++G8;return"".concat(e||"").concat(t)},Vi=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!St(e)&&typeof e!="string")return n;var a;if(ys(e)){if(t==null)return n;var i=e.indexOf("%");a=t*parseFloat(e.slice(0,i))/100}else a=+e;return zo(a)&&(a=n),r&&t!=null&&a>t&&(a=t),a},rO=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function wa(e,t,n){return St(e)&&St(t)?al(e+n*(t-e)):t}function aO(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):bc(r,t))===n)}var Wr=e=>e===null||typeof e>"u",sp=e=>Wr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Q8(e){return e!=null}function lp(){}var X8=["type","size","sizeType"];function rx(){return rx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rx.apply(null,arguments)}function dj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function fj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dj(Object(n),!0).forEach(function(r){Z8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Z8(e,t,n){return(t=J8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J8(e){var t=e7(e,"string");return typeof t=="symbol"?t:t+""}function e7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function t7(e,t){if(e==null)return{};var n,r,a=n7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function n7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var iO={symbolCircle:O1,symbolCross:b8,symbolDiamond:w8,symbolSquare:k8,symbolStar:C8,symbolTriangle:M8,symbolWye:E8},r7=Math.PI/180,a7=e=>{var t="symbol".concat(sp(e));return iO[t]||O1},i7=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*r7;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},o7=(e,t)=>{iO["symbol".concat(sp(e))]=t},_1=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,a=t7(e,X8),i=fj(fj({},a),{},{type:t,size:n,sizeType:r}),o="circle";typeof t=="string"&&(o=t);var s=()=>{var p=a7(o),m=T8().type(p).size(i7(n,r,o)),h=m();if(h!==null)return h},{className:l,cx:c,cy:d}=i,f=Fa(i);return St(c)&&St(d)&&St(n)?y.createElement("path",rx({},f,{className:En("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(d,")"),d:s()})):null};_1.registerSymbol=o7;var oO=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,L1=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(y.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{E1(a)&&(r[a]=i=>n[a](n,i))}),r},s7=(e,t,n)=>r=>(e(t,n,r),null),F1=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(a=>{var i=e[a];E1(a)&&typeof i=="function"&&(r||(r={}),r[a]=s7(i,t,n))}),r};function pj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function l7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pj(Object(n),!0).forEach(function(r){c7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function c7(e,t,n){return(t=u7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u7(e){var t=d7(e,"string");return typeof t=="symbol"?t:t+""}function d7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hr(e,t){var n=l7({},e),r=t,a=Object.keys(t),i=a.reduce((o,s)=>(o[s]===void 0&&r[s]!==void 0&&(o[s]=r[s]),o),n);return i}function Kh(){return Kh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kh.apply(null,arguments)}function mj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function f7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mj(Object(n),!0).forEach(function(r){p7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function p7(e,t,n){return(t=m7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m7(e){var t=h7(e,"string");return typeof t=="symbol"?t:t+""}function h7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _i=32,g7={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function y7(e){var{data:t,iconType:n,inactiveColor:r}=e,a=_i/2,i=_i/6,o=_i/3,s=t.inactive?r:t.color,l=n??t.type;if(l==="none")return null;if(l==="plainline"){var c;return y.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:(c=t.payload)===null||c===void 0?void 0:c.strokeDasharray,x1:0,y1:a,x2:_i,y2:a,className:"recharts-legend-icon"})}if(l==="line")return y.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(_i,"M").concat(2*o,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(l==="rect")return y.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(_i/8,"h").concat(_i,"v").concat(_i*3/4,"h").concat(-_i,"z"),className:"recharts-legend-icon"});if(y.isValidElement(t.legendIcon)){var d=f7({},t);return delete d.legendIcon,y.cloneElement(t.legendIcon,d)}return y.createElement(_1,{fill:s,cx:a,cy:a,size:_i,sizeType:"diameter",type:l})}function v7(e){var{payload:t,iconSize:n,layout:r,formatter:a,inactiveColor:i,iconType:o}=e,s={x:0,y:0,width:_i,height:_i},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var p=d.formatter||a,m=En({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var h=d.inactive?i:d.color,v=p?p(d.value,d,f):d.value;return y.createElement("li",Kh({className:m,style:l,key:"legend-item-".concat(f)},F1(e,d,f)),y.createElement(T1,{width:n,height:n,viewBox:s,style:c,"aria-label":"".concat(v," legend icon")},y.createElement(y7,{data:d,iconType:o,inactiveColor:i})),y.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},v))})}var b7=e=>{var t=Hr(e,g7),{payload:n,layout:r,align:a}=t;if(!n||!n.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?a:"left"};return y.createElement("ul",{className:"recharts-default-legend",style:i},y.createElement(v7,Kh({},t,{payload:n})))},sO={},lO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const a=new Map;for(let i=0;i<n.length;i++){const o=n[i],s=r(o,i,n);a.has(s)||a.set(s,o)}return Array.from(a.values())}e.uniqBy=t})(lO);var cO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...a){return n.apply(this,a.slice(0,r))}}e.ary=t})(cO);var R1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(R1);var uO={},x0={},dO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(dO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dO;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(x0);var fO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(fO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x0,n=fO;function r(a){return n.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=r})(uO);var pO={},mO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y0;function n(r){return function(a){return t.get(a,r)}}e.property=n})(mO);var hO={},$1={},gO={},B1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(B1);var z1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(z1);var U1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(U1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B1,n=z1,r=U1;function a(d,f,p){return typeof p!="function"?a(d,f,()=>{}):i(d,f,function m(h,v,x,g,b,w){const S=p(h,v,x,g,b,w);return S!==void 0?!!S:i(h,v,m,w)},new Map)}function i(d,f,p,m){if(f===d)return!0;switch(typeof f){case"object":return o(d,f,p,m);case"function":return Object.keys(f).length>0?i(d,{...f},p,m):r.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:r.isEqualsSameValueZero(d,f)}}function o(d,f,p,m){if(f==null)return!0;if(Array.isArray(f))return l(d,f,p,m);if(f instanceof Map)return s(d,f,p,m);if(f instanceof Set)return c(d,f,p,m);const h=Object.keys(f);if(d==null||n.isPrimitive(d))return h.length===0;if(h.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let v=0;v<h.length;v++){const x=h[v];if(!n.isPrimitive(d)&&!(x in d)||f[x]===void 0&&d[x]!==void 0||f[x]===null&&d[x]!==null||!p(d[x],f[x],x,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function s(d,f,p,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[h,v]of f.entries()){const x=d.get(h);if(p(x,v,h,d,f,m)===!1)return!1}return!0}function l(d,f,p,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const h=new Set;for(let v=0;v<f.length;v++){const x=f[v];let g=!1;for(let b=0;b<d.length;b++){if(h.has(b))continue;const w=d[b];let S=!1;if(p(w,x,v,d,f,m)&&(S=!0),S){h.add(b),g=!0;break}}if(!g)return!1}return!0}function c(d,f,p,m){return f.size===0?!0:d instanceof Set?l([...d],[...f],p,m):!1}e.isMatchWith=a,e.isSetMatch=c})(gO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gO;function n(r,a){return t.isMatchWith(r,a,()=>{})}e.isMatch=n})($1);var yO={},V1={},vO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(vO);var w0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(w0);var W1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",s="[object Date]",l="[object Map]",c="[object Set]",d="[object Array]",f="[object Function]",p="[object ArrayBuffer]",m="[object Object]",h="[object Error]",v="[object DataView]",x="[object Uint8Array]",g="[object Uint8ClampedArray]",b="[object Uint16Array]",w="[object Uint32Array]",S="[object BigUint64Array]",C="[object Int8Array]",N="[object Int16Array]",M="[object Int32Array]",D="[object BigInt64Array]",R="[object Float32Array]",T="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=p,e.arrayTag=d,e.bigInt64ArrayTag=D,e.bigUint64ArrayTag=S,e.booleanTag=a,e.dataViewTag=v,e.dateTag=s,e.errorTag=h,e.float32ArrayTag=R,e.float64ArrayTag=T,e.functionTag=f,e.int16ArrayTag=N,e.int32ArrayTag=M,e.int8ArrayTag=C,e.mapTag=l,e.numberTag=r,e.objectTag=m,e.regexpTag=t,e.setTag=c,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=b,e.uint32ArrayTag=w,e.uint8ArrayTag=x,e.uint8ClampedArrayTag=g})(W1);var bO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(bO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vO,n=w0,r=W1,a=z1,i=bO;function o(d,f){return s(d,void 0,d,new Map,f)}function s(d,f,p,m=new Map,h=void 0){const v=h==null?void 0:h(d,f,p,m);if(v!==void 0)return v;if(a.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const x=new Array(d.length);m.set(d,x);for(let g=0;g<d.length;g++)x[g]=s(d[g],g,p,m,h);return Object.hasOwn(d,"index")&&(x.index=d.index),Object.hasOwn(d,"input")&&(x.input=d.input),x}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const x=new RegExp(d.source,d.flags);return x.lastIndex=d.lastIndex,x}if(d instanceof Map){const x=new Map;m.set(d,x);for(const[g,b]of d)x.set(g,s(b,g,p,m,h));return x}if(d instanceof Set){const x=new Set;m.set(d,x);for(const g of d)x.add(s(g,void 0,p,m,h));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const x=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,x);for(let g=0;g<d.length;g++)x[g]=s(d[g],g,p,m,h);return x}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const x=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,x),l(x,d,p,m,h),x}if(typeof File<"u"&&d instanceof File){const x=new File([d],d.name,{type:d.type});return m.set(d,x),l(x,d,p,m,h),x}if(typeof Blob<"u"&&d instanceof Blob){const x=new Blob([d],{type:d.type});return m.set(d,x),l(x,d,p,m,h),x}if(d instanceof Error){const x=new d.constructor;return m.set(d,x),x.message=d.message,x.name=d.name,x.stack=d.stack,x.cause=d.cause,l(x,d,p,m,h),x}if(d instanceof Boolean){const x=new Boolean(d.valueOf());return m.set(d,x),l(x,d,p,m,h),x}if(d instanceof Number){const x=new Number(d.valueOf());return m.set(d,x),l(x,d,p,m,h),x}if(d instanceof String){const x=new String(d.valueOf());return m.set(d,x),l(x,d,p,m,h),x}if(typeof d=="object"&&c(d)){const x=Object.create(Object.getPrototypeOf(d));return m.set(d,x),l(x,d,p,m,h),x}return d}function l(d,f,p=d,m,h){const v=[...Object.keys(f),...t.getSymbols(f)];for(let x=0;x<v.length;x++){const g=v[x],b=Object.getOwnPropertyDescriptor(d,g);(b==null||b.writable)&&(d[g]=s(f[g],g,p,m,h))}}function c(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=s,e.copyProperties=l})(V1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V1;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(yO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$1,n=yO;function r(a){return a=n.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=r})(hO);var xO={},wO={},kO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V1,n=w0,r=W1;function a(i,o){return t.cloneDeepWith(i,(s,l,c,d)=>{const f=o==null?void 0:o(s,l,c,d);if(f!==void 0)return f;if(typeof i=="object"){if(n.getTag(i)===r.objectTag&&typeof i.constructor!="function"){const p={};return d.set(i,p),t.copyProperties(p,i,c,d),p}switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(p,i),p}case r.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}}})}e.cloneDeepWith=a})(kO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kO;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(wO);var SO={},H1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(H1);var NO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w0;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(NO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I1,n=H1,r=NO,a=b0;function i(o,s){let l;if(Array.isArray(s)?l=s:typeof s=="string"&&t.isDeepKey(s)&&(o==null?void 0:o[s])==null?l=a.toPath(s):l=[s],l.length===0)return!1;let c=o;for(let d=0;d<l.length;d++){const f=l[d];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}e.has=i})(SO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$1,n=v0,r=wO,a=y0,i=SO;function o(s,l){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=n.toKey(s);break}}return l=r.cloneDeep(l),function(c){const d=a.get(c,s);return d===void 0?i.has(c,s):l===void 0?d===void 0:t.isMatch(d,l)}}e.matchesProperty=o})(xO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R1,n=mO,r=hO,a=xO;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=i})(pO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lO,n=cO,r=R1,a=uO,i=pO;function o(s,l=r.identity){return a.isArrayLikeObject(s)?t.uniqBy(Array.from(s),n.ary(i.iteratee(l),1)):[]}e.uniqBy=o})(sO);var x7=sO.uniqBy;const hj=bo(x7);function jO(e,t,n){return t===!0?hj(e,n):typeof t=="function"?hj(e,t):e}var CO={exports:{}},MO={},AO={exports:{}},EO={};/**
* @license React
* use-sync-external-store-shim.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Lu=y;function w7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var k7=typeof Object.is=="function"?Object.is:w7,S7=Lu.useState,N7=Lu.useEffect,j7=Lu.useLayoutEffect,C7=Lu.useDebugValue;function M7(e,t){var n=t(),r=S7({inst:{value:n,getSnapshot:t}}),a=r[0].inst,i=r[1];return j7(function(){a.value=n,a.getSnapshot=t,av(a)&&i({inst:a})},[e,n,t]),N7(function(){return av(a)&&i({inst:a}),e(function(){av(a)&&i({inst:a})})},[e]),C7(n),n}function av(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!k7(e,n)}catch{return!0}}function A7(e,t){return t()}var E7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?A7:M7;EO.useSyncExternalStore=Lu.useSyncExternalStore!==void 0?Lu.useSyncExternalStore:E7;AO.exports=EO;var T7=AO.exports;/**
* @license React
* use-sync-external-store-shim/with-selector.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var k0=y,P7=T7;function D7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var O7=typeof Object.is=="function"?Object.is:D7,I7=P7.useSyncExternalStore,_7=k0.useRef,L7=k0.useEffect,F7=k0.useMemo,R7=k0.useDebugValue;MO.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var i=_7(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=F7(function(){function l(m){if(!c){if(c=!0,d=m,m=r(m),a!==void 0&&o.hasValue){var h=o.value;if(a(h,m))return f=h}return f=m}if(h=f,O7(d,m))return h;var v=r(m);return a!==void 0&&a(h,v)?(d=m,h):(d=m,f=v)}var c=!1,d,f,p=n===void 0?null:n;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,n,r,a]);var s=I7(e,i[0],i[1]);return L7(function(){o.hasValue=!0,o.value=s},[s]),R7(s),s};CO.exports=MO;var $7=CO.exports,q1=y.createContext(null),B7=e=>e,Wn=()=>{var e=y.useContext(q1);return e?e.store.dispatch:B7},nh=()=>{},z7=()=>nh,U7=(e,t)=>e===t;function kt(e){var t=y.useContext(q1);return $7.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:z7,t?t.store.getState:nh,t?t.store.getState:nh,t?e:nh,U7)}function V7(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function W7(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function H7(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var gj=e=>Array.isArray(e)?e:[e];function q7(e){const t=Array.isArray(e[0])?e[0]:e;return H7(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function K7(e,t){const n=[],{length:r}=e;for(let a=0;a<r;a++)n.push(e[a].apply(null,t));return n}var Y7=class{constructor(e){this.value=e}deref(){return this.value}},G7=typeof WeakRef<"u"?WeakRef:Y7,Q7=0,yj=1;function vm(){return{s:Q7,v:void 0,o:null,p:null}}function TO(e,t={}){let n=vm();const{resultEqualityCheck:r}=t;let a,i=0;function o(){var s;let l=n;const{length:c}=arguments;for(let p=0,m=c;p<m;p++){const h=arguments[p];if(typeof h=="function"||typeof h=="object"&&h!==null){let v=l.o;v===null&&(l.o=v=new WeakMap);const x=v.get(h);x===void 0?(l=vm(),v.set(h,l)):l=x}else{let v=l.p;v===null&&(l.p=v=new Map);const x=v.get(h);x===void 0?(l=vm(),v.set(h,l)):l=x}}const d=l;let f;if(l.s===yj)f=l.v;else if(f=e.apply(null,arguments),i++,r){const p=((s=a==null?void 0:a.deref)==null?void 0:s.call(a))??a;p!=null&&r(p,f)&&(f=p,i!==0&&i--),a=typeof f=="object"&&f!==null||typeof f=="function"?new G7(f):f}return d.s=yj,d.v=f,f}return o.clearCache=()=>{n=vm(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function X7(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...a)=>{let i=0,o=0,s,l={},c=a.pop();typeof c=="object"&&(l=c,c=a.pop()),V7(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...n,...l},{memoize:f,memoizeOptions:p=[],argsMemoize:m=TO,argsMemoizeOptions:h=[]}=d,v=gj(p),x=gj(h),g=q7(a),b=f(function(){return i++,c.apply(null,arguments)},...v),w=m(function(){o++;const S=K7(g,arguments);return s=b.apply(null,S),s},...x);return Object.assign(w,{resultFunc:c,memoizedResultFunc:b,dependencies:g,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var fe=X7(TO),Z7=Object.assign((e,t=fe)=>{W7(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((i,o,s)=>(i[n[s]]=o,i),{}))},{withTypes:()=>Z7}),PO={},DO={},OO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,i)=>{if(r!==a){const o=t(r),s=t(a);if(o===s&&o===0){if(r<a)return i==="desc"?1:-1;if(r>a)return i==="desc"?-1:1}return i==="desc"?s-o:o-s}return 0};e.compareValues=n})(OO);var IO={},K1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(K1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K1,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(r.test(i)||!n.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(IO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OO,n=IO,r=b0;function a(i,o,s,l){if(i==null)return[];s=l?void 0:s,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(p=>String(p));const c=(p,m)=>{let h=p;for(let v=0;v<m.length&&h!=null;++v)h=h[m[v]];return h},d=(p,m)=>m==null||p==null?m:typeof p=="object"&&"key"in p?Object.hasOwn(m,p.key)?m[p.key]:c(m,p.path):typeof p=="function"?p(m):Array.isArray(p)?c(m,p):typeof m=="object"?m[p]:m,f=o.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return i.map(p=>({original:p,criteria:f.map(m=>d(m,p))})).slice().sort((p,m)=>{for(let h=0;h<f.length;h++){const v=t.compareValues(p.criteria[h],m.criteria[h],s[h]);if(v!==0)return v}return 0}).map(p=>p.original)}e.orderBy=a})(DO);var _O={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const a=[],i=Math.floor(r),o=(s,l)=>{for(let c=0;c<s.length;c++){const d=s[c];Array.isArray(d)&&l<i?o(d,l+1):a.push(d)}};return o(n,0),a}e.flatten=t})(_O);var Y1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H1,n=x0,r=B1,a=U1;function i(o,s,l){return r.isObject(l)&&(typeof s=="number"&&n.isArrayLike(l)&&t.isIndex(s)&&s<l.length||typeof s=="string"&&s in l)?a.isEqualsSameValueZero(l[s],o):!1}e.isIterateeCall=i})(Y1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DO,n=_O,r=Y1;function a(i,...o){const s=o.length;return s>1&&r.isIterateeCall(i,o[0],o[1])?o=[]:s>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,n.flatten(o),["asc"])}e.sortBy=a})(PO);var J7=PO.sortBy;const S0=bo(J7);var LO=e=>e.legend.settings,e9=e=>e.legend.size,t9=e=>e.legend.payload,n9=fe([t9,LO],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?S0(r,n):r});function r9(){return kt(n9)}var bm=1;function FO(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=y.useState({height:0,left:0,top:0,width:0}),r=y.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>bm||Math.abs(o.left-t.left)>bm||Math.abs(o.top-t.top)>bm||Math.abs(o.width-t.width)>bm)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function oa(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var a9=typeof Symbol=="function"&&Symbol.observable||"@@observable",vj=a9,iv=()=>Math.random().toString(36).substring(7).split("").join("."),i9={INIT:`@@redux/INIT${iv()}`,REPLACE:`@@redux/REPLACE${iv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${iv()}`},Yh=i9;function G1(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function RO(e,t,n){if(typeof e!="function")throw new Error(oa(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(oa(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(oa(1));return n(RO)(e,t)}let r=e,a=t,i=new Map,o=i,s=0,l=!1;function c(){o===i&&(o=new Map,i.forEach((v,x)=>{o.set(x,v)}))}function d(){if(l)throw new Error(oa(3));return a}function f(v){if(typeof v!="function")throw new Error(oa(4));if(l)throw new Error(oa(5));let x=!0;c();const g=s++;return o.set(g,v),function(){if(x){if(l)throw new Error(oa(6));x=!1,c(),o.delete(g),i=null}}}function p(v){if(!G1(v))throw new Error(oa(7));if(typeof v.type>"u")throw new Error(oa(8));if(typeof v.type!="string")throw new Error(oa(17));if(l)throw new Error(oa(9));try{l=!0,a=r(a,v)}finally{l=!1}return(i=o).forEach(x=>{x()}),v}function m(v){if(typeof v!="function")throw new Error(oa(10));r=v,p({type:Yh.REPLACE})}function h(){const v=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(oa(11));function g(){const b=x;b.next&&b.next(d())}return g(),{unsubscribe:v(g)}},[vj](){return this}}}return p({type:Yh.INIT}),{dispatch:p,subscribe:f,getState:d,replaceReducer:m,[vj]:h}}function o9(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Yh.INIT})>"u")throw new Error(oa(12));if(typeof n(void 0,{type:Yh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(oa(13))})}function $O(e){const t=Object.keys(e),n={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let a;try{o9(n)}catch(i){a=i}return function(i={},o){if(a)throw a;let s=!1;const l={};for(let c=0;c<r.length;c++){const d=r[c],f=n[d],p=i[d],m=f(p,o);if(typeof m>"u")throw o&&o.type,new Error(oa(14));l[d]=m,s=s||m!==p}return s=s||r.length!==Object.keys(i).length,s?l:i}}function Gh(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function s9(...e){return t=>(n,r)=>{const a=t(n,r);let i=()=>{throw new Error(oa(15))};const o={getState:a.getState,dispatch:(l,...c)=>i(l,...c)},s=e.map(l=>l(o));return i=Gh(...s)(a.dispatch),{...a,dispatch:i}}}function BO(e){return G1(e)&&"type"in e&&typeof e.type=="string"}var zO=Symbol.for("immer-nothing"),bj=Symbol.for("immer-draftable"),Ra=Symbol.for("immer-state");function io(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var bi=Object,Fu=bi.getPrototypeOf,Qh="constructor",N0="prototype",ax="configurable",Xh="enumerable",rh="writable",Df="value",vs=e=>!!e&&!!e[Ra];function ho(e){var t;return e?UO(e)||C0(e)||!!e[bj]||!!((t=e[Qh])!=null&&t[bj])||M0(e)||A0(e):!1}var l9=bi[N0][Qh].toString(),xj=new WeakMap;function UO(e){if(!e||!Q1(e))return!1;const t=Fu(e);if(t===null||t===bi[N0])return!0;const n=bi.hasOwnProperty.call(t,Qh)&&t[Qh];if(n===Object)return!0;if(!Xc(n))return!1;let r=xj.get(n);return r===void 0&&(r=Function.toString.call(n),xj.set(n,r)),r===l9}function j0(e,t,n=!0){cp(e)===0?(n?Reflect.ownKeys(e):bi.keys(e)).forEach(r=>{t(r,e[r],e)}):e.forEach((r,a)=>t(a,r,e))}function cp(e){const t=e[Ra];return t?t.type_:C0(e)?1:M0(e)?2:A0(e)?3:0}var wj=(e,t,n=cp(e))=>n===2?e.has(t):bi[N0].hasOwnProperty.call(e,t),ix=(e,t,n=cp(e))=>n===2?e.get(t):e[t],Zh=(e,t,n,r=cp(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function c9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var C0=Array.isArray,M0=e=>e instanceof Map,A0=e=>e instanceof Set,Q1=e=>typeof e=="object",Xc=e=>typeof e=="function",ov=e=>typeof e=="boolean";function u9(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Jo=e=>e.copy_||e.base_,X1=e=>e.modified_?e.copy_:e.base_;function ox(e,t){if(M0(e))return new Map(e);if(A0(e))return new Set(e);if(C0(e))return Array[N0].slice.call(e);const n=UO(e);if(t===!0||t==="class_only"&&!n){const r=bi.getOwnPropertyDescriptors(e);delete r[Ra];let a=Reflect.ownKeys(r);for(let i=0;i<a.length;i++){const o=a[i],s=r[o];s[rh]===!1&&(s[rh]=!0,s[ax]=!0),(s.get||s.set)&&(r[o]={[ax]:!0,[rh]:!0,[Xh]:s[Xh],[Df]:e[o]})}return bi.create(Fu(e),r)}else{const r=Fu(e);if(r!==null&&n)return{...e};const a=bi.create(r);return bi.assign(a,e)}}function Z1(e,t=!1){return E0(e)||vs(e)||!ho(e)||(cp(e)>1&&bi.defineProperties(e,{set:xm,add:xm,clear:xm,delete:xm}),bi.freeze(e),t&&j0(e,(n,r)=>{Z1(r,!0)},!1)),e}function d9(){io(2)}var xm={[Df]:d9};function E0(e){return e===null||!Q1(e)?!0:bi.isFrozen(e)}var Jh="MapSet",sx="Patches",kj="ArrayMethods",VO={};function xc(e){const t=VO[e];return t||io(0,e),t}var Sj=e=>!!VO[e],Of,WO=()=>Of,f9=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Sj(Jh)?xc(Jh):void 0,arrayMethodsPlugin_:Sj(kj)?xc(kj):void 0});function Nj(e,t){t&&(e.patchPlugin_=xc(sx),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function lx(e){cx(e),e.drafts_.forEach(p9),e.drafts_=null}function cx(e){e===Of&&(Of=e.parent_)}var jj=e=>Of=f9(Of,e);function p9(e){const t=e[Ra];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Cj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Ra].modified_&&(lx(t),io(4)),ho(e)&&(e=Mj(t,e));const{patchPlugin_:r}=t;r&&r.generateReplacementPatches_(n[Ra].base_,e,t)}else e=Mj(t,n);return m9(t,e,!0),lx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==zO?e:void 0}function Mj(e,t){if(E0(t))return t;const n=t[Ra];if(!n)return eg(t,e.handledSet_,e);if(!T0(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);KO(n,e)}return n.copy_}function m9(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Z1(t,n)}function HO(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var T0=(e,t)=>e.scope_===t,h9=[];function qO(e,t,n,r){const a=Jo(e),i=e.type_;if(r!==void 0&&ix(a,r,i)===t){Zh(a,r,n,i);return}if(!e.draftLocations_){const s=e.draftLocations_=new Map;j0(a,(l,c)=>{if(vs(c)){const d=s.get(c)||[];d.push(l),s.set(c,d)}})}const o=e.draftLocations_.get(t)??h9;for(const s of o)Zh(a,s,n,i)}function g9(e,t,n){e.callbacks_.push(function(r){var a;const i=t;if(!i||!T0(i,r))return;(a=r.mapSetPlugin_)==null||a.fixSetContents(i);const o=X1(i);qO(e,i.draft_??i,o,n),KO(i,r)})}function KO(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:r}=t;if(r){const a=r.getPath(e);a&&r.generatePatches_(e,a,t)}HO(e)}}function y9(e,t,n){const{scope_:r}=e;if(vs(n)){const a=n[Ra];T0(a,r)&&a.callbacks_.push(function(){ah(e);const i=X1(a);qO(e,n,i,t)})}else ho(n)&&e.callbacks_.push(function(){const a=Jo(e);e.type_===3?a.has(n)&&eg(n,r.handledSet_,r):ix(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&eg(ix(e.copy_,t,e.type_),r.handledSet_,r)})}function eg(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||vs(e)||t.has(e)||!ho(e)||E0(e)||(t.add(e),j0(e,(r,a)=>{if(vs(a)){const i=a[Ra];if(T0(i,n)){const o=X1(i);Zh(e,r,o,e.type_),HO(i)}}else ho(a)&&eg(a,t,n)})),e}function v9(e,t){const n=C0(e),r={type_:n?1:0,scope_:t?t.scope_:WO(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=r,i=tg;n&&(a=[r],i=If);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return r.draft_=s,r.revoke_=o,[s,r]}var tg={get(e,t){if(t===Ra)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const a=Jo(e);if(!wj(a,t,e.type_))return b9(e,a,t);const i=a[t];if(e.finalized_||!ho(i)||r&&e.operationMethod&&n!=null&&n.isMutatingArrayMethod(e.operationMethod)&&u9(t))return i;if(i===sv(e.base_,t)){ah(e);const o=e.type_===1?+t:t,s=dx(e.scope_,i,e,o);return e.copy_[o]=s}return i},has(e,t){return t in Jo(e)},ownKeys(e){return Reflect.ownKeys(Jo(e))},set(e,t,n){const r=YO(Jo(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=sv(Jo(e),t),i=a==null?void 0:a[Ra];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(c9(n,a)&&(n!==void 0||wj(e.base_,t,e.type_)))return!0;ah(e),ux(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),y9(e,t,n)),!0},deleteProperty(e,t){return ah(e),sv(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),ux(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Jo(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[rh]:!0,[ax]:e.type_!==1||t!=="length",[Xh]:r[Xh],[Df]:n[t]}},defineProperty(){io(11)},getPrototypeOf(e){return Fu(e.base_)},setPrototypeOf(){io(12)}},If={};for(let e in tg){let t=tg[e];If[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}If.deleteProperty=function(e,t){return If.set.call(this,e,t,void 0)};If.set=function(e,t,n){return tg.set.call(this,e[0],t,n,e[0])};function sv(e,t){const n=e[Ra];return(n?Jo(n):e)[t]}function b9(e,t,n){var r;const a=YO(t,n);return a?Df in a?a[Df]:(r=a.get)==null?void 0:r.call(e.draft_):void 0}function YO(e,t){if(!(t in e))return;let n=Fu(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Fu(n)}}function ux(e){e.modified_||(e.modified_=!0,e.parent_&&ux(e.parent_))}function ah(e){e.copy_||(e.assigned_=new Map,e.copy_=ox(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var x9=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,n,r)=>{if(Xc(t)&&!Xc(n)){const i=n;n=t;const o=this;return function(s=i,...l){return o.produce(s,c=>n.call(this,c,...l))}}Xc(n)||io(6),r!==void 0&&!Xc(r)&&io(7);let a;if(ho(t)){const i=jj(this),o=dx(i,t,void 0);let s=!0;try{a=n(o),s=!1}finally{s?lx(i):cx(i)}return Nj(i,r),Cj(a,i)}else if(!t||!Q1(t)){if(a=n(t),a===void 0&&(a=t),a===zO&&(a=void 0),this.autoFreeze_&&Z1(a,!0),r){const i=[],o=[];xc(sx).generateReplacementPatches_(t,a,{patches_:i,inversePatches_:o}),r(i,o)}return a}else io(1,t)},this.produceWithPatches=(t,n)=>{if(Xc(t))return(i,...o)=>this.produceWithPatches(i,s=>t(s,...o));let r,a;return[this.produce(t,n,(i,o)=>{r=i,a=o}),r,a]},ov(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),ov(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),ov(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ho(e)||io(8),vs(e)&&(e=uo(e));const t=jj(this),n=dx(t,e,void 0);return n[Ra].isManual_=!0,cx(t),n}finishDraft(e,t){const n=e&&e[Ra];(!n||!n.isManual_)&&io(9);const{scope_:r}=n;return Nj(r,t),Cj(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const r=xc(sx).applyPatches_;return vs(e)?r(e,t):this.produce(e,a=>r(a,t))}};function dx(e,t,n,r){const[a,i]=M0(t)?xc(Jh).proxyMap_(t,n):A0(t)?xc(Jh).proxySet_(t,n):v9(t,n);return((n==null?void 0:n.scope_)??WO()).drafts_.push(a),i.callbacks_=(n==null?void 0:n.callbacks_)??[],i.key_=r,n&&r!==void 0?g9(n,i,r):i.callbacks_.push(function(o){var s;(s=o.mapSetPlugin_)==null||s.fixSetContents(i);const{patchPlugin_:l}=o;i.modified_&&l&&l.generatePatches_(i,[],o)}),a}function uo(e){return vs(e)||io(10,e),GO(e)}function GO(e){if(!ho(e)||E0(e))return e;const t=e[Ra];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=ox(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=ox(e,!0);return j0(n,(a,i)=>{Zh(n,a,GO(i))},r),t&&(t.finalized_=!1),n}var w9=new x9,QO=w9.produce;function XO(e){return({dispatch:t,getState:n})=>r=>a=>typeof a=="function"?a(t,n,e):r(a)}var k9=XO(),S9=XO,N9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Gh:Gh.apply(null,arguments)};function Ki(e,t){function n(...r){if(t){let a=t(...r);if(!a)throw new Error(wi(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>BO(r)&&r.type===e,n}var ZO=class zd extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,zd.prototype)}static get[Symbol.species](){return zd}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new zd(...t[0].concat(this)):new zd(...t.concat(this))}};function Aj(e){return ho(e)?QO(e,()=>{}):e}function wm(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function j9(e){return typeof e=="boolean"}var C9=()=>function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:a=!0}=e??{};let i=new ZO;return t&&(j9(t)?i.push(k9):i.push(S9(t.extraArgument))),i},JO="RTK_autoBatch",ar=()=>e=>({payload:e,meta:{[JO]:!0}}),Ej=e=>t=>{setTimeout(t,e)},e3=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let a=!0,i=!1,o=!1;const s=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Ej(10):e.type==="callback"?e.queueNotification:Ej(e.timeout),c=()=>{o=!1,i&&(i=!1,s.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>a&&d(),p=r.subscribe(f);return s.add(d),()=>{p(),s.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[JO]),i=!a,i&&(o||(o=!0,l(c))),r.dispatch(d)}finally{a=!0}}})},M9=e=>function(t){const{autoBatch:n=!0}=t??{};let r=new ZO(e);return n&&r.push(e3(typeof n=="object"?n:void 0)),r};function A9(e){const t=C9(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let s;if(typeof n=="function")s=n;else if(G1(n))s=$O(n);else throw new Error(wi(1));let l;typeof r=="function"?l=r(t):l=t();let c=Gh;a&&(c=N9({trace:!1,...typeof a=="object"&&a}));const d=s9(...l),f=M9(d);let p=typeof o=="function"?o(f):f();const m=c(...p);return RO(s,i,m)}function t3(e){const t={},n=[];let r;const a={addCase(i,o){const s=typeof i=="string"?i:i.type;if(!s)throw new Error(wi(28));if(s in t)throw new Error(wi(29));return t[s]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return n.push({matcher:i,reducer:o}),a},addDefaultCase(i){return r=i,a}};return e(a),[t,n,r]}function E9(e){return typeof e=="function"}function T9(e,t){let[n,r,a]=t3(t),i;if(E9(e))i=()=>Aj(e());else{const s=Aj(e);i=()=>s}function o(s=i(),l){let c=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[a]),c.reduce((d,f)=>{if(f)if(vs(d)){const p=f(d,l);return p===void 0?d:p}else{if(ho(d))return QO(d,p=>f(p,l));{const p=f(d,l);if(p===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return d},s)}return o.getInitialState=i,o}var P9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",D9=(e=21)=>{let t="",n=e;for(;n--;)t+=P9[Math.random()*64|0];return t},O9=Symbol.for("rtk-slice-createasyncthunk");function I9(e,t){return`${e}/${t}`}function _9({creators:e}={}){var t;const n=(t=e==null?void 0:e.asyncThunk)==null?void 0:t[O9];return function(r){const{name:a,reducerPath:i=a}=r;if(!a)throw new Error(wi(11));const o=(typeof r.reducers=="function"?r.reducers(F9()):r.reducers)||{},s=Object.keys(o),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(w,S){const C=typeof w=="string"?w:w.type;if(!C)throw new Error(wi(12));if(C in l.sliceCaseReducersByType)throw new Error(wi(13));return l.sliceCaseReducersByType[C]=S,c},addMatcher(w,S){return l.sliceMatchers.push({matcher:w,reducer:S}),c},exposeAction(w,S){return l.actionCreators[w]=S,c},exposeCaseReducer(w,S){return l.sliceCaseReducersByName[w]=S,c}};s.forEach(w=>{const S=o[w],C={reducerName:w,type:I9(a,w),createNotation:typeof r.reducers=="function"};$9(S)?z9(C,S,c,n):R9(C,S,c)});function d(){const[w={},S=[],C=void 0]=typeof r.extraReducers=="function"?t3(r.extraReducers):[r.extraReducers],N={...w,...l.sliceCaseReducersByType};return T9(r.initialState,M=>{for(let D in N)M.addCase(D,N[D]);for(let D of l.sliceMatchers)M.addMatcher(D.matcher,D.reducer);for(let D of S)M.addMatcher(D.matcher,D.reducer);C&&M.addDefaultCase(C)})}const f=w=>w,p=new Map,m=new WeakMap;let h;function v(w,S){return h||(h=d()),h(w,S)}function x(){return h||(h=d()),h.getInitialState()}function g(w,S=!1){function C(M){let D=M[w];return typeof D>"u"&&S&&(D=wm(m,C,x)),D}function N(M=f){const D=wm(p,S,()=>new WeakMap);return wm(D,M,()=>{const R={};for(const[T,P]of Object.entries(r.selectors??{}))R[T]=L9(P,M,()=>wm(m,M,x),S);return R})}return{reducerPath:w,getSelectors:N,get selectors(){return N(C)},selectSlice:C}}const b={name:a,reducer:v,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:x,...g(i),injectInto(w,{reducerPath:S,...C}={}){const N=S??i;return w.inject({reducerPath:N,reducer:v},C),{...b,...g(N,!0)}}};return b}}function L9(e,t,n,r){function a(i,...o){let s=t(i);return typeof s>"u"&&r&&(s=n()),e(s,...o)}return a.unwrapped=e,a}var ri=_9();function F9(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function R9({type:e,reducerName:t,createNotation:n},r,a){let i,o;if("reducer"in r){if(n&&!B9(r))throw new Error(wi(17));i=r.reducer,o=r.prepare}else i=r;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?Ki(e,o):Ki(e))}function $9(e){return e._reducerDefinitionType==="asyncThunk"}function B9(e){return e._reducerDefinitionType==="reducerWithPrepare"}function z9({type:e,reducerName:t},n,r,a){if(!a)throw new Error(wi(18));const{payloadCreator:i,fulfilled:o,pending:s,rejected:l,settled:c,options:d}=n,f=a(e,i,d);r.exposeAction(t,f),o&&r.addCase(f.fulfilled,o),s&&r.addCase(f.pending,s),l&&r.addCase(f.rejected,l),c&&r.addMatcher(f.settled,c),r.exposeCaseReducer(t,{fulfilled:o||km,pending:s||km,rejected:l||km,settled:c||km})}function km(){}var U9="task",n3="listener",r3="completed",J1="cancelled",V9=`task-${J1}`,W9=`task-${r3}`,fx=`${n3}-${J1}`,H9=`${n3}-${r3}`,P0=class{constructor(e){ON(this,"name","TaskAbortError"),ON(this,"message"),this.code=e,this.message=`${U9} ${J1} (reason: ${e})`}},ek=(e,t)=>{if(typeof e!="function")throw new TypeError(wi(32))},ng=()=>{},a3=(e,t=ng)=>(e.catch(t),e),i3=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),cc=e=>{if(e.aborted)throw new P0(e.reason)};function o3(e,t){let n=ng;return new Promise((r,a)=>{const i=()=>a(new P0(e.reason));if(e.aborted){i();return}n=i3(e,i),t.finally(()=>n()).then(r,a)}).finally(()=>{n=ng})}var q9=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof P0?"cancelled":"rejected",error:n}}finally{t==null||t()}},rg=e=>t=>a3(o3(e,t).then(n=>(cc(e),n))),s3=e=>{const t=rg(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Su}=Object,Tj={},D0="listenerMiddleware",K9=(e,t)=>{const n=r=>i3(e,()=>r.abort(e.reason));return(r,a)=>{ek(r);const i=new AbortController;n(i);const o=q9(async()=>{cc(e),cc(i.signal);const s=await r({pause:rg(i.signal),delay:s3(i.signal),signal:i.signal});return cc(i.signal),s},()=>i.abort(W9));return a!=null&&a.autoJoin&&t.push(o.catch(ng)),{result:rg(e)(o),cancel(){i.abort(V9)}}}},Y9=(e,t)=>{const n=async(r,a)=>{cc(t);let i=()=>{};const o=[new Promise((s,l)=>{let c=e({predicate:r,effect:(d,f)=>{f.unsubscribe(),s([d,f.getState(),f.getOriginalState()])}});i=()=>{c(),l()}})];a!=null&&o.push(new Promise(s=>setTimeout(s,a,null)));try{const s=await o3(t,Promise.race(o));return cc(t),s}finally{i()}};return(r,a)=>a3(n(r,a))},l3=e=>{let{type:t,actionCreator:n,matcher:r,predicate:a,effect:i}=e;if(t)a=Ki(t).match;else if(n)t=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(wi(21));return ek(i),{predicate:a,type:t,effect:i}},c3=Su(e=>{const{type:t,predicate:n,effect:r}=l3(e);return{id:D9(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(wi(22))}}},{withTypes:()=>c3}),Pj=(e,t)=>{const{type:n,effect:r,predicate:a}=l3(t);return Array.from(e.values()).find(i=>(typeof n=="string"?i.type===n:i.predicate===a)&&i.effect===r)},px=e=>{e.pending.forEach(t=>{t.abort(fx)})},G9=(e,t)=>()=>{for(const n of t.keys())px(n);e.clear()},Dj=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},u3=Su(Ki(`${D0}/add`),{withTypes:()=>u3}),Q9=Ki(`${D0}/removeAll`),d3=Su(Ki(`${D0}/remove`),{withTypes:()=>d3}),X9=(...e)=>{console.error(`${D0}/error`,...e)},up=(e={})=>{const t=new Map,n=new Map,r=p=>{const m=n.get(p)??0;n.set(p,m+1)},a=p=>{const m=n.get(p)??1;m===1?n.delete(p):n.set(p,m-1)},{extra:i,onError:o=X9}=e;ek(o);const s=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),m=>{p.unsubscribe(),m!=null&&m.cancelActive&&px(p)}),l=p=>{const m=Pj(t,p)??c3(p);return s(m)};Su(l,{withTypes:()=>l});const c=p=>{const m=Pj(t,p);return m&&(m.unsubscribe(),p.cancelActive&&px(m)),!!m};Su(c,{withTypes:()=>c});const d=async(p,m,h,v)=>{const x=new AbortController,g=Y9(l,x.signal),b=[];try{p.pending.add(x),r(p),await Promise.resolve(p.effect(m,Su({},h,{getOriginalState:v,condition:(w,S)=>g(w,S).then(Boolean),take:g,delay:s3(x.signal),pause:rg(x.signal),extra:i,signal:x.signal,fork:K9(x.signal,b),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((w,S,C)=>{w!==x&&(w.abort(fx),C.delete(w))})},cancel:()=>{x.abort(fx),p.pending.delete(x)},throwIfCancelled:()=>{cc(x.signal)}})))}catch(w){w instanceof P0||Dj(o,w,{raisedBy:"effect"})}finally{await Promise.all(b),x.abort(H9),a(p),p.pending.delete(x)}},f=G9(t,n);return{middleware:p=>m=>h=>{if(!BO(h))return m(h);if(u3.match(h))return l(h.payload);if(Q9.match(h)){f();return}if(d3.match(h))return c(h.payload);let v=p.getState();const x=()=>{if(v===Tj)throw new Error(wi(23));return v};let g;try{if(g=m(h),t.size>0){const b=p.getState(),w=Array.from(t.values());for(const S of w){let C=!1;try{C=S.predicate(h,b,v)}catch(N){C=!1,Dj(o,N,{raisedBy:"predicate"})}C&&d(S,h,p,x)}}}finally{v=Tj}return g},startListening:l,stopListening:c,clearListeners:f}};function wi(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Z9={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},f3=ri({name:"chartLayout",initialState:Z9,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,a,i;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:J9,setLayout:eV,setChartSize:tV,setScale:nV}=f3.actions,rV=f3.reducer;function p3(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Rr(e){return Number.isFinite(e)}function Vo(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Oj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function du(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Oj(Object(n),!0).forEach(function(r){aV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aV(e,t,n){return(t=iV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iV(e){var t=oV(e,"string");return typeof t=="symbol"?t:t+""}function oV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xn(e,t,n){return Wr(e)||Wr(t)?n:Uo(t)?bc(e,t,n):typeof t=="function"?t(e):n}var sV=(e,t,n)=>{if(t&&n){var{width:r,height:a}=n,{align:i,verticalAlign:o,layout:s}=t;if((s==="vertical"||s==="horizontal"&&o==="middle")&&i!=="center"&&St(e[i]))return du(du({},e),{},{[i]:e[i]+(r||0)});if((s==="horizontal"||s==="vertical"&&i==="center")&&o!=="middle"&&St(e[o]))return du(du({},e),{},{[o]:e[o]+(a||0)})}return e},jl=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",m3=(e,t,n,r)=>{if(r)return e.map(s=>s.coordinate);var a,i,o=e.map(s=>(s.coordinate===t&&(a=!0),s.coordinate===n&&(i=!0),s.coordinate));return a||o.push(t),i||o.push(n),o},h3=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:a,range:i,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:c,tickCount:d,ticks:f,niceTicks:p,axisType:m}=e;if(!o)return null;var h=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,v=a==="category"&&o.bandwidth?o.bandwidth()/h:0;if(v=m==="angleAxis"&&i&&i.length>=2?ka(i[0]-i[1])*2*v:v,f||p){var x=(f||p||[]).map((g,b)=>{var w=r?r.indexOf(g):g;return{coordinate:o(w)+v,value:g,offset:v,index:b}});return x.filter(g=>!zo(g.coordinate))}return l&&c?c.map((g,b)=>({coordinate:o(g)+v,value:g,index:b,offset:v})):o.ticks&&d!=null?o.ticks(d).map((g,b)=>({coordinate:o(g)+v,value:g,offset:v,index:b})):o.domain().map((g,b)=>({coordinate:o(g)+v,value:r?r[g]:g,index:b,offset:v}))},Ij=1e-4,lV=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),a=Math.min(r[0],r[1])-Ij,i=Math.max(r[0],r[1])+Ij,o=e(t[0]),s=e(t[n-1]);(o<a||o>i||s<a||s>i)&&e.domain([t[0],t[n-1]])}},cV=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var i=0,o=0,s=0;s<n;++s){var l=e[s],c=l==null?void 0:l[a];if(c!=null){var d=c[1],f=c[0],p=zo(d)?f:d;p>=0?(c[0]=i,c[1]=i+p,i=d):(c[0]=o,c[1]=o+p,o=d)}}}},uV=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var i=0,o=0;o<n;++o){var s=e[o],l=s==null?void 0:s[a];if(l!=null){var c=zo(l[1])?l[0]:l[1];c>=0?(l[0]=i,l[1]=i+c,i=l[1]):(l[0]=0,l[1]=0)}}}},dV={sign:cV,expand:W8,none:vc,silhouette:H8,wiggle:q8,positive:uV},fV=(e,t,n)=>{var r,a=(r=dV[n])!==null&&r!==void 0?r:vc,i=V8().keys(t).value((s,l)=>Number(Xn(s,l,0))).order(nx).offset(a),o=i(e);return o.forEach((s,l)=>{s.forEach((c,d)=>{var f=Xn(e[d],t[l],0);Array.isArray(f)&&f.length===2&&St(f[0])&&St(f[1])&&(c[0]=f[0],c[1]=f[1])})}),o};function _j(e){var{axis:t,ticks:n,bandSize:r,entry:a,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Wr(a[t.dataKey])){var s=aO(n,"value",a[t.dataKey]);if(s)return s.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var l=Xn(a,Wr(o)?t.dataKey:o);return Wr(l)?null:t.scale(l)}var pV=e=>{var t=e.flat(2).filter(St);return[Math.min(...t),Math.max(...t)]},mV=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],hV=(e,t,n)=>{if(e!=null)return mV(Object.keys(e).reduce((r,a)=>{var i=e[a];if(!i)return r;var{stackedData:o}=i,s=o.reduce((l,c)=>{var d=p3(c,t,n),f=pV(d);return!Rr(f[0])||!Rr(f[1])?l:[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]))},Lj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Fj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mx=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=S0(t,d=>d.coordinate),i=1/0,o=1,s=a.length;o<s;o++){var l=a[o],c=a[o-1];i=Math.min(((l==null?void 0:l.coordinate)||0)-((c==null?void 0:c.coordinate)||0),i)}return i===1/0?0:i}return n?void 0:0};function Rj(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:a,name:i}=e;return du(du({},t),{},{dataKey:n,payload:r,value:a,name:i})}function O0(e,t){if(e)return String(e);if(typeof t=="string")return t}var gV=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},yV=(e,t)=>t==="centric"?e.angle:e.radius,js=e=>e.layout.width,Cs=e=>e.layout.height,vV=e=>e.layout.scale,g3=e=>e.layout.margin,I0=fe(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),_0=fe(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),y3="data-recharts-item-index",v3="data-recharts-item-id",dp=60;function $j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Sm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$j(Object(n),!0).forEach(function(r){bV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$j(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bV(e,t,n){return(t=xV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xV(e){var t=wV(e,"string");return typeof t=="symbol"?t:t+""}function wV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kV=e=>e.brush.height;function SV(e){var t=_0(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:dp;return n+a}return n},0)}function NV(e){var t=_0(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:dp;return n+a}return n},0)}function jV(e){var t=I0(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function CV(e){var t=I0(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var ta=fe([js,Cs,g3,kV,SV,NV,jV,CV,LO,e9],(e,t,n,r,a,i,o,s,l,c)=>{var d={left:(n.left||0)+a,right:(n.right||0)+i},f={top:(n.top||0)+o,bottom:(n.bottom||0)+s},p=Sm(Sm({},f),d),m=p.bottom;p.bottom+=r,p=sV(p,l,c);var h=e-p.left-p.right,v=t-p.top-p.bottom;return Sm(Sm({brushBottom:m},p),{},{width:Math.max(h,0),height:Math.max(v,0)})}),MV=fe(ta,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),b3=fe(js,Cs,(e,t)=>({x:0,y:0,width:e,height:t})),AV=y.createContext(null),ai=()=>y.useContext(AV)!=null,L0=e=>e.brush,F0=fe([L0,ta,g3],(e,t,n)=>({height:e.height,x:St(e.x)?e.x:t.left,y:St(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:St(e.width)?e.width:t.width})),x3={},w3={},k3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:a,edges:i}={}){let o,s=null;const l=i!=null&&i.includes("leading"),c=i==null||i.includes("trailing"),d=()=>{s!==null&&(n.apply(o,s),o=void 0,s=null)},f=()=>{c&&d(),v()};let p=null;const m=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,f()},r)},h=()=>{p!==null&&(clearTimeout(p),p=null)},v=()=>{h(),o=void 0,s=null},x=()=>{d()},g=function(...b){if(a!=null&&a.aborted)return;o=this,s=b;const w=p==null;m(),l&&w&&d()};return g.schedule=m,g.cancel=v,g.flush=x,a==null||a.addEventListener("abort",v,{once:!0}),g}e.debounce=t})(k3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k3;function n(r,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:s=!0,maxWait:l}=i,c=Array(2);o&&(c[0]="leading"),s&&(c[1]="trailing");let d,f=null;const p=t.debounce(function(...v){d=r.apply(this,v),f=null},a,{edges:c}),m=function(...v){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(d=r.apply(this,v),f=Date.now(),p.cancel(),p.schedule(),d):(p.apply(this,v),d)},h=()=>(p.flush(),d);return m.cancel=p.cancel,m.flush=h,m}e.debounce=n})(w3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w3;function n(r,a=0,i={}){const{leading:o=!0,trailing:s=!0}=i;return t.debounce(r,a,{leading:o,maxWait:a,trailing:s})}e.throttle=n})(x3);var EV=x3.throttle;const TV=bo(EV);var ag=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(t===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(t===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var i=0;console.warn(t.replace(/%s/g,()=>r[i++]))}},S3=(e,t,n)=>{var{width:r="100%",height:a="100%",aspect:i,maxHeight:o}=n,s=ys(r)?e:Number(r),l=ys(a)?t:Number(a);return i&&i>0&&(s?l=s/i:l&&(s=l*i),o&&l!=null&&l>o&&(l=o)),{calculatedWidth:s,calculatedHeight:l}},PV={width:0,height:0,overflow:"visible"},DV={width:0,overflowX:"visible"},OV={height:0,overflowY:"visible"},IV={},_V=e=>{var{width:t,height:n}=e,r=ys(t),a=ys(n);return r&&a?PV:r?DV:a?OV:IV};function LV(e){var{width:t,height:n,aspect:r}=e,a=t,i=n;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=r&&r>0?void 0:"100%":i===void 0&&(i=r&&r>0?void 0:"100%"),{width:a,height:i}}function hx(){return hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hx.apply(null,arguments)}function Bj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function zj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Bj(Object(n),!0).forEach(function(r){FV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FV(e,t,n){return(t=RV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RV(e){var t=$V(e,"string");return typeof t=="symbol"?t:t+""}function $V(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N3=y.createContext({width:-1,height:-1});function BV(e){return Vo(e.width)&&Vo(e.height)}function j3(e){var{children:t,width:n,height:r}=e,a=y.useMemo(()=>({width:n,height:r}),[n,r]);return BV(a)?y.createElement(N3.Provider,{value:a},t):null}var tk=()=>y.useContext(N3),zV=y.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a,height:i,minWidth:o=0,minHeight:s,maxHeight:l,children:c,debounce:d=0,id:f,className:p,onResize:m,style:h={}}=e,v=y.useRef(null),x=y.useRef();x.current=m,y.useImperativeHandle(t,()=>v.current);var[g,b]=y.useState({containerWidth:r.width,containerHeight:r.height}),w=y.useCallback((D,R)=>{b(T=>{var P=Math.round(D),O=Math.round(R);return T.containerWidth===P&&T.containerHeight===O?T:{containerWidth:P,containerHeight:O}})},[]);y.useEffect(()=>{if(v.current==null||typeof ResizeObserver>"u")return lp;var D=O=>{var W,{width:Q,height:ee}=O[0].contentRect;w(Q,ee),(W=x.current)===null||W===void 0||W.call(x,Q,ee)};d>0&&(D=TV(D,d,{trailing:!0,leading:!1}));var R=new ResizeObserver(D),{width:T,height:P}=v.current.getBoundingClientRect();return w(T,P),R.observe(v.current),()=>{R.disconnect()}},[w,d]);var{containerWidth:S,containerHeight:C}=g;ag(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:N,calculatedHeight:M}=S3(S,C,{width:a,height:i,aspect:n,maxHeight:l});return ag(N!=null&&N>0||M!=null&&M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,M,a,i,o,s,n),y.createElement("div",{id:f?"".concat(f):void 0,className:En("recharts-responsive-container",p),style:zj(zj({},h),{},{width:a,height:i,minWidth:o,minHeight:s,maxHeight:l}),ref:v},y.createElement("div",{style:_V({width:a,height:i})},y.createElement(j3,{width:N,height:M},c)))}),wc=y.forwardRef((e,t)=>{var n=tk();if(Vo(n.width)&&Vo(n.height))return e.children;var{width:r,height:a}=LV({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=S3(void 0,void 0,{width:r,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return St(i)&&St(o)?y.createElement(j3,{width:i,height:o},e.children):y.createElement(zV,hx({},e,{width:r,height:a,ref:t}))});function C3(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var R0=()=>{var e,t=ai(),n=kt(MV),r=kt(F0),a=(e=kt(L0))===null||e===void 0?void 0:e.padding;return!t||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},UV={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},M3=()=>{var e;return(e=kt(ta))!==null&&e!==void 0?e:UV},nk=()=>kt(js),rk=()=>kt(Cs),VV=()=>kt(e=>e.layout.margin),In=e=>e.layout.layoutType,fp=()=>kt(In),WV=()=>{var e=fp();return e!==void 0},$0=e=>{var t=Wn(),n=ai(),{width:r,height:a}=e,i=tk(),o=r,s=a;return i&&(o=i.width>0?i.width:r,s=i.height>0?i.height:a),y.useEffect(()=>{!n&&Vo(o)&&Vo(s)&&t(tV({width:o,height:s}))},[t,n,o,s]),null},A3=Symbol.for("immer-nothing"),Uj=Symbol.for("immer-draftable"),Ni=Symbol.for("immer-state");function oo(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var _f=Object.getPrototypeOf;function Ru(e){return!!e&&!!e[Ni]}function kc(e){var t;return e?E3(e)||Array.isArray(e)||!!e[Uj]||!!((t=e.constructor)!=null&&t[Uj])||pp(e)||z0(e):!1}var HV=Object.prototype.constructor.toString(),Vj=new WeakMap;function E3(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=Vj.get(n);return r===void 0&&(r=Function.toString.call(n),Vj.set(n,r)),r===HV}function ig(e,t,n=!0){B0(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(r=>{t(r,e[r],e)}):e.forEach((r,a)=>t(a,r,e))}function B0(e){const t=e[Ni];return t?t.type_:Array.isArray(e)?1:pp(e)?2:z0(e)?3:0}function gx(e,t){return B0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function T3(e,t,n){const r=B0(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function qV(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function pp(e){return e instanceof Map}function z0(e){return e instanceof Set}function Hl(e){return e.copy_||e.base_}function yx(e,t){if(pp(e))return new Map(e);if(z0(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=E3(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Ni];let a=Reflect.ownKeys(r);for(let i=0;i<a.length;i++){const o=a[i],s=r[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(_f(e),r)}else{const r=_f(e);if(r!==null&&n)return{...e};const a=Object.create(r);return Object.assign(a,e)}}function ak(e,t=!1){return U0(e)||Ru(e)||!kc(e)||(B0(e)>1&&Object.defineProperties(e,{set:Nm,add:Nm,clear:Nm,delete:Nm}),Object.freeze(e),t&&Object.values(e).forEach(n=>ak(n,!0))),e}function KV(){oo(2)}var Nm={value:KV};function U0(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var YV={};function Sc(e){const t=YV[e];return t||oo(0,e),t}var Lf;function P3(){return Lf}function GV(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Wj(e,t){t&&(Sc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function vx(e){bx(e),e.drafts_.forEach(QV),e.drafts_=null}function bx(e){e===Lf&&(Lf=e.parent_)}function Hj(e){return Lf=GV(Lf,e)}function QV(e){const t=e[Ni];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function qj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Ni].modified_&&(vx(t),oo(4)),kc(e)&&(e=og(t,e),t.parent_||sg(t,e)),t.patches_&&Sc("Patches").generateReplacementPatches_(n[Ni].base_,e,t.patches_,t.inversePatches_)):e=og(t,n,[]),vx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==A3?e:void 0}function og(e,t,n){if(U0(t))return t;const r=e.immer_.shouldUseStrictIteration(),a=t[Ni];if(!a)return ig(t,(i,o)=>Kj(e,a,t,i,o,n),r),t;if(a.scope_!==e)return t;if(!a.modified_)return sg(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let o=i,s=!1;a.type_===3&&(o=new Set(i),i.clear(),s=!0),ig(o,(l,c)=>Kj(e,a,i,l,c,n,s),r),sg(e,i,!1),n&&e.patches_&&Sc("Patches").generatePatches_(a,n,e.patches_,e.inversePatches_)}return a.copy_}function Kj(e,t,n,r,a,i,o){if(a==null||typeof a!="object"&&!o)return;const s=U0(a);if(!(s&&!o)){if(Ru(a)){const l=i&&t&&t.type_!==3&&!gx(t.assigned_,r)?i.concat(r):void 0,c=og(e,a,l);if(T3(n,r,c),Ru(c))e.canAutoFreeze_=!1;else return}else o&&n.add(a);if(kc(a)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===a&&s)return;og(e,a),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(pp(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&sg(e,a)}}}function sg(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ak(t,n)}function XV(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:P3(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,i=ik;n&&(a=[r],i=Ff);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return r.draft_=s,r.revoke_=o,s}var ik={get(e,t){if(t===Ni)return e;const n=Hl(e);if(!gx(n,t))return ZV(e,n,t);const r=n[t];return e.finalized_||!kc(r)?r:r===lv(e.base_,t)?(cv(e),e.copy_[t]=wx(r,e)):r},has(e,t){return t in Hl(e)},ownKeys(e){return Reflect.ownKeys(Hl(e))},set(e,t,n){const r=D3(Hl(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=lv(Hl(e),t),i=a==null?void 0:a[Ni];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(qV(n,a)&&(n!==void 0||gx(e.base_,t)))return!0;cv(e),xx(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return lv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,cv(e),xx(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Hl(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){oo(11)},getPrototypeOf(e){return _f(e.base_)},setPrototypeOf(){oo(12)}},Ff={};ig(ik,(e,t)=>{Ff[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Ff.deleteProperty=function(e,t){return Ff.set.call(this,e,t,void 0)};Ff.set=function(e,t,n){return ik.set.call(this,e[0],t,n,e[0])};function lv(e,t){const n=e[Ni];return(n?Hl(n):e)[t]}function ZV(e,t,n){var r;const a=D3(t,n);return a?"value"in a?a.value:(r=a.get)==null?void 0:r.call(e.draft_):void 0}function D3(e,t){if(!(t in e))return;let n=_f(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=_f(n)}}function xx(e){e.modified_||(e.modified_=!0,e.parent_&&xx(e.parent_))}function cv(e){e.copy_||(e.copy_=yx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var JV=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const o=this;return function(s=i,...l){return o.produce(s,c=>n.call(this,c,...l))}}typeof n!="function"&&oo(6),r!==void 0&&typeof r!="function"&&oo(7);let a;if(kc(t)){const i=Hj(this),o=wx(t,void 0);let s=!0;try{a=n(o),s=!1}finally{s?vx(i):bx(i)}return Wj(i,r),qj(a,i)}else if(!t||typeof t!="object"){if(a=n(t),a===void 0&&(a=t),a===A3&&(a=void 0),this.autoFreeze_&&ak(a,!0),r){const i=[],o=[];Sc("Patches").generateReplacementPatches_(t,a,i,o),r(i,o)}return a}else oo(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(i,...o)=>this.produceWithPatches(i,s=>t(s,...o));let r,a;return[this.produce(t,n,(i,o)=>{r=i,a=o}),r,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){kc(e)||oo(8),Ru(e)&&(e=eW(e));const t=Hj(this),n=wx(e,void 0);return n[Ni].isManual_=!0,bx(t),n}finishDraft(e,t){const n=e&&e[Ni];(!n||!n.isManual_)&&oo(9);const{scope_:r}=n;return Wj(r,t),qj(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const r=Sc("Patches").applyPatches_;return Ru(e)?r(e,t):this.produce(e,a=>r(a,t))}};function wx(e,t){const n=pp(e)?Sc("MapSet").proxyMap_(e,t):z0(e)?Sc("MapSet").proxySet_(e,t):XV(e,t);return(t?t.scope_:P3()).drafts_.push(n),n}function eW(e){return Ru(e)||oo(10,e),O3(e)}function O3(e){if(!kc(e)||U0(e))return e;const t=e[Ni];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=yx(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=yx(e,!0);return ig(n,(a,i)=>{T3(n,a,O3(i))},r),t&&(t.finalized_=!1),n}var tW=new JV;tW.produce;var nW={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},I3=ri({name:"legend",initialState:nW,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:ar()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,a=uo(e).payload.indexOf(n);a>-1&&(e.payload[a]=r)},prepare:ar()},removeLegendPayload:{reducer(e,t){var n=uo(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:ar()}}}),{setLegendSize:Yj,setLegendSettings:rW,addLegendPayload:_3,replaceLegendPayload:L3,removeLegendPayload:F3}=I3.actions,aW=I3.reducer,iW=["contextPayload"];function kx(){return kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kx.apply(null,arguments)}function Gj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function $u(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gj(Object(n),!0).forEach(function(r){oW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oW(e,t,n){return(t=sW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sW(e){var t=lW(e,"string");return typeof t=="symbol"?t:t+""}function lW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cW(e,t){if(e==null)return{};var n,r,a=uW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function uW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function dW(e){return e.value}function fW(e){var{contextPayload:t}=e,n=cW(e,iW),r=jO(t,e.payloadUniqBy,dW),a=$u($u({},n),{},{payload:r});return y.isValidElement(e.content)?y.cloneElement(e.content,a):typeof e.content=="function"?y.createElement(e.content,a):y.createElement(b7,a)}function pW(e,t,n,r,a,i){var{layout:o,align:s,verticalAlign:l}=t,c,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(s==="center"&&o==="vertical"?c={left:((r||0)-i.width)/2}:c=s==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?d={top:((a||0)-i.height)/2}:d=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),$u($u({},c),d)}function mW(e){var t=Wn();return y.useEffect(()=>{t(rW(e))},[t,e]),null}function hW(e){var t=Wn();return y.useEffect(()=>(t(Yj(e)),()=>{t(Yj({width:0,height:0}))}),[t,e]),null}function gW(e,t,n,r){return e==="vertical"&&St(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var yW={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function R3(e){var t=Hr(e,yW),n=r9(),r=p8(),a=VV(),{width:i,height:o,wrapperStyle:s,portal:l}=t,[c,d]=FO([n]),f=nk(),p=rk();if(f==null||p==null)return null;var m=f-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),h=gW(t.layout,o,i,m),v=l?s:$u($u({position:"absolute",width:(h==null?void 0:h.width)||i||"auto",height:(h==null?void 0:h.height)||o||"auto"},pW(s,t,a,f,p,c)),s),x=l??r;if(x==null||n==null)return null;var g=y.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:d},y.createElement(mW,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&y.createElement(hW,{width:c.width,height:c.height}),y.createElement(fW,kx({},t,h,{margin:a,chartWidth:f,chartHeight:p,contextPayload:n})));return Xu.createPortal(g,x)}R3.displayName="Legend";function Sx(){return Sx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sx.apply(null,arguments)}function Qj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function uv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qj(Object(n),!0).forEach(function(r){vW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vW(e,t,n){return(t=bW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bW(e){var t=xW(e,"string");return typeof t=="symbol"?t:t+""}function xW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wW(e){return Array.isArray(e)&&Uo(e[0])&&Uo(e[1])?e.join(" ~ "):e}var kW=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:i,formatter:o,itemSorter:s,wrapperClassName:l,labelClassName:c,label:d,labelFormatter:f,accessibilityLayer:p=!1}=e,m=()=>{if(i&&i.length){var C={padding:0,margin:0},N=(s?S0(i,s):i).map((M,D)=>{if(M.type==="none")return null;var R=M.formatter||o||wW,{value:T,name:P}=M,O=T,W=P;if(R){var Q=R(T,P,M,D,i);if(Array.isArray(Q))[O,W]=Q;else if(Q!=null)O=Q;else return null}var ee=uv({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},r);return y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:ee},Uo(W)?y.createElement("span",{className:"recharts-tooltip-item-name"},W):null,Uo(W)?y.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,y.createElement("span",{className:"recharts-tooltip-item-value"},O),y.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return y.createElement("ul",{className:"recharts-tooltip-item-list",style:C},N)}return null},h=uv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),v=uv({margin:0},a),x=!Wr(d),g=x?d:"",b=En("recharts-default-tooltip",l),w=En("recharts-tooltip-label",c);x&&f&&i!==void 0&&i!==null&&(g=f(d,i));var S=p?{role:"status","aria-live":"assertive"}:{};return y.createElement("div",Sx({className:b,style:h},S),y.createElement("p",{className:w,style:v},y.isValidElement(g)?g:"".concat(g)),m())},Nd="recharts-tooltip-wrapper",SW={visibility:"hidden"};function NW(e){var{coordinate:t,translateX:n,translateY:r}=e;return En(Nd,{["".concat(Nd,"-right")]:St(n)&&t&&St(t.x)&&n>=t.x,["".concat(Nd,"-left")]:St(n)&&t&&St(t.x)&&n<t.x,["".concat(Nd,"-bottom")]:St(r)&&t&&St(t.y)&&r>=t.y,["".concat(Nd,"-top")]:St(r)&&t&&St(t.y)&&r<t.y})}function Xj(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:c}=e;if(i&&St(i[r]))return i[r];var d=n[r]-s-(a>0?a:0),f=n[r]+a;if(t[r])return o[r]?d:f;var p=l[r];if(p==null)return 0;if(o[r]){var m=d,h=p;return m<h?Math.max(f,p):Math.max(d,p)}if(c==null)return 0;var v=f+s,x=p+c;return v>x?Math.max(d,p):Math.max(f,p)}function jW(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function CW(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:s,viewBox:l}=e,c,d,f;return o.height>0&&o.width>0&&n?(d=Xj({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=Xj({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=jW({translateX:d,translateY:f,useTranslate3d:s})):c=SW,{cssProperties:c,cssClasses:NW({translateX:d,translateY:f,coordinate:n})}}function Zj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function jm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zj(Object(n),!0).forEach(function(r){Nx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nx(e,t,n){return(t=MW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MW(e){var t=AW(e,"string");return typeof t=="symbol"?t:t+""}function AW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class EW extends y.PureComponent{constructor(){super(...arguments),Nx(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Nx(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:i,coordinate:o,hasPayload:s,isAnimationActive:l,offset:c,position:d,reverseDirection:f,useTranslate3d:p,viewBox:m,wrapperStyle:h,lastBoundingBox:v,innerRef:x,hasPortalFromProps:g}=this.props,{cssClasses:b,cssProperties:w}=CW({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:c,position:d,reverseDirection:f,tooltipBox:{height:v.height,width:v.width},useTranslate3d:p,viewBox:m}),S=g?{}:jm(jm({transition:l&&t?"transform ".concat(r,"ms ").concat(a):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),C=jm(jm({},S),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},h);return y.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:C,ref:x},i)}}var $3=()=>{var e;return(e=kt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function jx(){return jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jx.apply(null,arguments)}function Jj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function eC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jj(Object(n),!0).forEach(function(r){TW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TW(e,t,n){return(t=PW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PW(e){var t=DW(e,"string");return typeof t=="symbol"?t:t+""}function DW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tC={curveBasisClosed:D8,curveBasisOpen:O8,curveBasis:P8,curveBumpX:y8,curveBumpY:v8,curveLinearClosed:I8,curveLinear:h0,curveMonotoneX:_8,curveMonotoneY:L8,curveNatural:F8,curveStep:R8,curveStepAfter:B8,curveStepBefore:$8},lg=e=>Rr(e.x)&&Rr(e.y),nC=e=>e.base!=null&&lg(e.base)&&lg(e),jd=e=>e.x,Cd=e=>e.y,OW=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(sp(e));return(n==="curveMonotone"||n==="curveBump")&&t?tC["".concat(n).concat(t==="vertical"?"Y":"X")]:tC[n]||h0},IW=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:a,connectNulls:i=!1}=e,o=OW(t,a),s=i?n.filter(lg):n,l;if(Array.isArray(r)){var c=n.map((m,h)=>eC(eC({},m),{},{base:r[h]}));a==="vertical"?l=ym().y(Cd).x1(jd).x0(m=>m.base.x):l=ym().x(jd).y1(Cd).y0(m=>m.base.y);var d=l.defined(nC).curve(o),f=i?c.filter(nC):c;return d(f)}a==="vertical"&&St(r)?l=ym().y(Cd).x1(jd).x0(r):St(r)?l=ym().x(jd).y1(Cd).y0(r):l=WD().x(jd).y(Cd);var p=l.defined(lg).curve(o);return p(s)},ok=e=>{var{className:t,points:n,path:r,pathRef:a}=e,i=fp();if((!n||!n.length)&&!r)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},s=n&&n.length?IW(o):r;return y.createElement("path",jx({},qi(e),L1(e),{className:En("recharts-curve",t),d:s===null?void 0:s,ref:a}))},_W=["x","y","top","left","width","height","className"];function Cx(){return Cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cx.apply(null,arguments)}function rC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function LW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rC(Object(n),!0).forEach(function(r){FW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FW(e,t,n){return(t=RW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RW(e){var t=$W(e,"string");return typeof t=="symbol"?t:t+""}function $W(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BW(e,t){if(e==null)return{};var n,r,a=zW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function zW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var UW=(e,t,n,r,a,i)=>"M".concat(e,",").concat(a,"v").concat(r,"M").concat(i,",").concat(t,"h").concat(n),VW=e=>{var{x:t=0,y:n=0,top:r=0,left:a=0,width:i=0,height:o=0,className:s}=e,l=BW(e,_W),c=LW({x:t,y:n,top:r,left:a,width:i,height:o},l);return!St(t)||!St(n)||!St(i)||!St(o)||!St(r)||!St(a)?null:y.createElement("path",Cx({},Fa(c),{className:En("recharts-cross",s),d:UW(t,n,i,o,r,a)}))};function WW(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function aC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function iC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aC(Object(n),!0).forEach(function(r){HW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HW(e,t,n){return(t=qW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qW(e){var t=KW(e,"string");return typeof t=="symbol"?t:t+""}function KW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YW=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),B3=(e,t,n)=>e.map(r=>"".concat(YW(r)," ").concat(t,"ms ").concat(n)).join(","),GW=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(a=>r.includes(a))),Rf=(e,t)=>Object.keys(t).reduce((n,r)=>iC(iC({},n),{},{[r]:e(r,t[r])}),{});function oC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ur(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oC(Object(n),!0).forEach(function(r){QW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QW(e,t,n){return(t=XW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XW(e){var t=ZW(e,"string");return typeof t=="symbol"?t:t+""}function ZW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cg=(e,t,n)=>e+(t-e)*n,Mx=e=>{var{from:t,to:n}=e;return t!==n},z3=(e,t,n)=>{var r=Rf((a,i)=>{if(Mx(i)){var[o,s]=e(i.from,i.to,i.velocity);return Ur(Ur({},i),{},{from:o,velocity:s})}return i},t);return n<1?Rf((a,i)=>Mx(i)&&r[a]!=null?Ur(Ur({},i),{},{velocity:cg(i.velocity,r[a].velocity,n),from:cg(i.from,r[a].from,n)}):i,t):z3(e,r,n-1)};function JW(e,t,n,r,a,i){var o,s=r.reduce((p,m)=>Ur(Ur({},p),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),l=()=>Rf((p,m)=>m.from,s),c=()=>!Object.values(s).filter(Mx).length,d=null,f=p=>{o||(o=p);var m=p-o,h=m/n.dt;s=z3(n,s,h),a(Ur(Ur(Ur({},e),t),l())),o=p,c()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{var p;(p=d)===null||p===void 0||p()})}function eH(e,t,n,r,a,i,o){var s=null,l=a.reduce((f,p)=>{var m=e[p],h=t[p];return m==null||h==null?f:Ur(Ur({},f),{},{[p]:[m,h]})},{}),c,d=f=>{c||(c=f);var p=(f-c)/r,m=Rf((v,x)=>cg(...x,n(p)),l);if(i(Ur(Ur(Ur({},e),t),m)),p<1)s=o.setTimeout(d);else{var h=Rf((v,x)=>cg(...x,n(1)),l);i(Ur(Ur(Ur({},e),t),h))}};return()=>(s=o.setTimeout(d),()=>{var f;(f=s)===null||f===void 0||f()})}const tH=(e,t,n,r,a,i)=>{var o=GW(e,t);return n==null?()=>(a(Ur(Ur({},e),t)),()=>{}):n.isStepper===!0?JW(e,t,n,o,a,i):eH(e,t,n,r,o,a,i)};var ug=1e-4,U3=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],V3=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),sC=(e,t)=>n=>{var r=U3(e,t);return V3(r,n)},nH=(e,t)=>n=>{var r=U3(e,t),a=[...r.map((i,o)=>i*o).slice(1),0];return V3(a,n)},rH=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var a=r.map(i=>parseFloat(i));return[a[0],a[1],a[2],a[3]]},aH=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length===1)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var r=rH(t[0]);if(r)return r}}return t.length===4?t:[0,0,1,1]},iH=(e,t,n,r)=>{var a=sC(e,n),i=sC(t,r),o=nH(e,n),s=c=>c>1?1:c<0?0:c,l=c=>{for(var d=c>1?1:c,f=d,p=0;p<8;++p){var m=a(f)-d,h=o(f);if(Math.abs(m-d)<ug||h<ug)return i(f);f=s(f-m/h)}return i(f)};return l.isStepper=!1,l},lC=function(){return iH(...aH(...arguments))},oH=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:t=100,damping:n=8,dt:r=17}=e,a=(i,o,s)=>{var l=-(i-o)*t,c=s*n,d=s+(l-c)*r/1e3,f=s*r/1e3+i;return Math.abs(f-o)<ug&&Math.abs(d)<ug?[o,0]:[f,d]};return a.isStepper=!0,a.dt=r,a},sH=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return lC(e);case"spring":return oH();default:if(e.split("(")[0]==="cubic-bezier")return lC(e)}return typeof e=="function"?e:null};function lH(e){var t,n=()=>null,r=!1,a=null,i=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var s=o,[l,...c]=s;if(typeof l=="number"){a=e.setTimeout(i.bind(null,c),l);return}i(l),a=e.setTimeout(i.bind(null,c));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,a&&(a(),a=null),i(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class cH{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,i=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function uH(){return lH(new cH)}var dH=y.createContext(uH);function fH(e,t){var n=y.useContext(dH);return y.useMemo(()=>t??n(e),[e,t,n])}var pH=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),V0={isSsr:pH()},mH={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},cC={t:0},dv={t:1};function W0(e){var t=Hr(e,mH),{isActive:n,canBegin:r,duration:a,easing:i,begin:o,onAnimationEnd:s,onAnimationStart:l,children:c}=t,d=n==="auto"?!V0.isSsr:n,f=fH(t.animationId,t.animationManager),[p,m]=y.useState(d?cC:dv),h=y.useRef(null);return y.useEffect(()=>{d||m(dv)},[d]),y.useEffect(()=>{if(!d||!r)return lp;var v=tH(cC,dv,sH(i),a,m,f.getTimeoutController()),x=()=>{h.current=v()};return f.start([l,o,x,a,s]),()=>{f.stop(),h.current&&h.current(),s()}},[d,r,a,i,o,l,s,f]),c(p.t)}function H0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=y.useRef(Pf(t)),r=y.useRef(e);return r.current!==e&&(n.current=Pf(t),r.current=e),n.current}var hH=["radius"],gH=["radius"],uC,dC,fC,pC,mC,hC,gC,yC,vC,bC;function xC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function wC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xC(Object(n),!0).forEach(function(r){yH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yH(e,t,n){return(t=vH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vH(e){var t=bH(e,"string");return typeof t=="symbol"?t:t+""}function bH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dg(){return dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dg.apply(null,arguments)}function kC(e,t){if(e==null)return{};var n,r,a=xH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function xH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Eo(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var SC=(e,t,n,r,a)=>{var i=al(n),o=al(r),s=Math.min(Math.abs(i)/2,Math.abs(o)/2),l=o>=0?1:-1,c=i>=0?1:-1,d=o>=0&&i>=0||o<0&&i<0?1:0,f;if(s>0&&a instanceof Array){for(var p=[0,0,0,0],m=0,h=4;m<h;m++)p[m]=a[m]>s?s:a[m];f=xr(uC||(uC=Eo(["M",",",""])),e,t+l*p[0]),p[0]>0&&(f+=xr(dC||(dC=Eo(["A ",",",",0,0,",",",",",""])),p[0],p[0],d,e+c*p[0],t)),f+=xr(fC||(fC=Eo(["L ",",",""])),e+n-c*p[1],t),p[1]>0&&(f+=xr(pC||(pC=Eo(["A ",",",",0,0,",`,
        `,",",""])),p[1],p[1],d,e+n,t+l*p[1])),f+=xr(mC||(mC=Eo(["L ",",",""])),e+n,t+r-l*p[2]),p[2]>0&&(f+=xr(hC||(hC=Eo(["A ",",",",0,0,",`,
        `,",",""])),p[2],p[2],d,e+n-c*p[2],t+r)),f+=xr(gC||(gC=Eo(["L ",",",""])),e+c*p[3],t+r),p[3]>0&&(f+=xr(yC||(yC=Eo(["A ",",",",0,0,",`,
        `,",",""])),p[3],p[3],d,e,t+r-l*p[3])),f+="Z"}else if(s>0&&a===+a&&a>0){var v=Math.min(s,a);f=xr(vC||(vC=Eo(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+l*v,v,v,d,e+c*v,t,e+n-c*v,t,v,v,d,e+n,t+l*v,e+n,t+r-l*v,v,v,d,e+n-c*v,t+r,e+c*v,t+r,v,v,d,e,t+r-l*v)}else f=xr(bC||(bC=Eo(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return f},NC={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},W3=e=>{var t=Hr(e,NC),n=y.useRef(null),[r,a]=y.useState(-1);y.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var z=n.current.getTotalLength();z&&a(z)}catch{}},[]);var{x:i,y:o,width:s,height:l,radius:c,className:d}=t,{animationEasing:f,animationDuration:p,animationBegin:m,isAnimationActive:h,isUpdateAnimationActive:v}=t,x=y.useRef(s),g=y.useRef(l),b=y.useRef(i),w=y.useRef(o),S=y.useMemo(()=>({x:i,y:o,width:s,height:l,radius:c}),[i,o,s,l,c]),C=H0(S,"rectangle-");if(i!==+i||o!==+o||s!==+s||l!==+l||s===0||l===0)return null;var N=En("recharts-rectangle",d);if(!v){var M=Fa(t),{radius:D}=M,R=kC(M,hH);return y.createElement("path",dg({},R,{x:al(i),y:al(o),width:al(s),height:al(l),radius:typeof c=="number"?c:void 0,className:N,d:SC(i,o,s,l,c)}))}var T=x.current,P=g.current,O=b.current,W=w.current,Q="0px ".concat(r===-1?1:r,"px"),ee="".concat(r,"px 0px"),ue=B3(["strokeDasharray"],p,typeof f=="string"?f:NC.animationEasing);return y.createElement(W0,{animationId:C,key:C,canBegin:r>0,duration:p,easing:f,isActive:v,begin:m},z=>{var B=wa(T,s,z),ie=wa(P,l,z),k=wa(O,i,z),I=wa(W,o,z);n.current&&(x.current=B,g.current=ie,b.current=k,w.current=I);var E;h?z>0?E={transition:ue,strokeDasharray:ee}:E={strokeDasharray:Q}:E={strokeDasharray:ee};var j=Fa(t),{radius:L}=j,G=kC(j,gH);return y.createElement("path",dg({},G,{radius:typeof c=="number"?c:void 0,className:N,d:SC(k,I,B,ie,c),ref:n,style:wC(wC({},E),t.style)}))})};function jC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function CC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jC(Object(n),!0).forEach(function(r){wH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wH(e,t,n){return(t=kH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kH(e){var t=SH(e,"string");return typeof t=="symbol"?t:t+""}function SH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fg=Math.PI/180,NH=e=>e*180/Math.PI,Lr=(e,t,n,r)=>({x:e+Math.cos(-fg*r)*n,y:t+Math.sin(-fg*r)*n}),H3=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},jH=(e,t)=>{var{x:n,y:r}=e,{x:a,y:i}=t;return Math.sqrt((n-a)**2+(r-i)**2)},CH=(e,t)=>{var{x:n,y:r}=e,{cx:a,cy:i}=t,o=jH({x:n,y:r},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var s=(n-a)/o,l=Math.acos(s);return r>i&&(l=2*Math.PI-l),{radius:o,angle:NH(l),angleInRadian:l}},MH=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),a=Math.floor(n/360),i=Math.min(r,a);return{startAngle:t-i*360,endAngle:n-i*360}},AH=(e,t)=>{var{startAngle:n,endAngle:r}=t,a=Math.floor(n/360),i=Math.floor(r/360),o=Math.min(a,i);return e+o*360},EH=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:a,angle:i}=CH({x:n,y:r},t),{innerRadius:o,outerRadius:s}=t;if(a<o||a>s||a===0)return null;var{startAngle:l,endAngle:c}=MH(t),d=i,f;if(l<=c){for(;d>c;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=c}else{for(;d>l;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=l}return f?CC(CC({},t),{},{radius:a,angle:AH(d,t)}):null};function q3(e){var{cx:t,cy:n,radius:r,startAngle:a,endAngle:i}=e,o=Lr(t,n,r,a),s=Lr(t,n,r,i);return{points:[o,s],cx:t,cy:n,radius:r,startAngle:a,endAngle:i}}var MC,AC,EC,TC,PC,DC,OC;function Ax(){return Ax=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ax.apply(null,arguments)}function ec(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var TH=(e,t)=>{var n=ka(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Cm=e=>{var{cx:t,cy:n,radius:r,angle:a,sign:i,isExternal:o,cornerRadius:s,cornerIsExternal:l}=e,c=s*(o?1:-1)+r,d=Math.asin(s/c)/fg,f=l?a:a+i*d,p=Lr(t,n,c,f),m=Lr(t,n,r,f),h=l?a-i*d:a,v=Lr(t,n,c*Math.cos(d*fg),h);return{center:p,circleTangency:m,lineTangency:v,theta:d}},K3=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:i,endAngle:o}=e,s=TH(i,o),l=i+s,c=Lr(t,n,a,i),d=Lr(t,n,a,l),f=xr(MC||(MC=ec(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),c.x,c.y,a,a,+(Math.abs(s)>180),+(i>l),d.x,d.y);if(r>0){var p=Lr(t,n,r,i),m=Lr(t,n,r,l);f+=xr(AC||(AC=ec(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,r,r,+(Math.abs(s)>180),+(i<=l),p.x,p.y)}else f+=xr(EC||(EC=ec(["L ",","," Z"])),t,n);return f},PH=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:c}=e,d=ka(c-l),{circleTangency:f,lineTangency:p,theta:m}=Cm({cx:t,cy:n,radius:a,angle:l,sign:d,cornerRadius:i,cornerIsExternal:s}),{circleTangency:h,lineTangency:v,theta:x}=Cm({cx:t,cy:n,radius:a,angle:c,sign:-d,cornerRadius:i,cornerIsExternal:s}),g=s?Math.abs(l-c):Math.abs(l-c)-m-x;if(g<0)return o?xr(TC||(TC=ec(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),p.x,p.y,i,i,i*2,i,i,-i*2):K3({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:l,endAngle:c});var b=xr(PC||(PC=ec(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),p.x,p.y,i,i,+(d<0),f.x,f.y,a,a,+(g>180),+(d<0),h.x,h.y,i,i,+(d<0),v.x,v.y);if(r>0){var{circleTangency:w,lineTangency:S,theta:C}=Cm({cx:t,cy:n,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),{circleTangency:N,lineTangency:M,theta:D}=Cm({cx:t,cy:n,radius:r,angle:c,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),R=s?Math.abs(l-c):Math.abs(l-c)-C-D;if(R<0&&i===0)return"".concat(b,"L").concat(t,",").concat(n,"Z");b+=xr(DC||(DC=ec(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),M.x,M.y,i,i,+(d<0),N.x,N.y,r,r,+(R>180),+(d>0),w.x,w.y,i,i,+(d<0),S.x,S.y)}else b+=xr(OC||(OC=ec(["L",",","Z"])),t,n);return b},DH={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Y3=e=>{var t=Hr(e,DH),{cx:n,cy:r,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:d,className:f}=t;if(i<a||c===d)return null;var p=En("recharts-sector",f),m=i-a,h=Vi(o,m,0,!0),v;return h>0&&Math.abs(c-d)<360?v=PH({cx:n,cy:r,innerRadius:a,outerRadius:i,cornerRadius:Math.min(h,m/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:d}):v=K3({cx:n,cy:r,innerRadius:a,outerRadius:i,startAngle:c,endAngle:d}),y.createElement("path",Ax({},Fa(t),{className:p,d:v}))};function OH(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(oO(t)){if(e==="centric"){var{cx:r,cy:a,innerRadius:i,outerRadius:o,angle:s}=t,l=Lr(r,a,i,s),c=Lr(r,a,o,s);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return q3(t)}}var G3={},Q3={},X3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K1;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(X3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X3;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(Q3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y1,n=Q3;function r(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=n.toFinite(a),i===void 0?(i=a,a=0):i=n.toFinite(i),o=o===void 0?a<i?1:-1:n.toFinite(o);const s=Math.max(Math.ceil((i-a)/(o||1)),0),l=new Array(s);for(let c=0;c<s;c++)l[c]=a,a+=o;return l}e.range=r})(G3);var IH=G3.range;const Z3=bo(IH);function ml(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function _H(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function sk(e){let t,n,r;e.length!==2?(t=ml,n=(s,l)=>ml(e(s),l),r=(s,l)=>e(s)-l):(t=e===ml||e===_H?e:LH,n=e,r=e);function a(s,l,c=0,d=s.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;n(s[f],l)<0?c=f+1:d=f}while(c<d)}return c}function i(s,l,c=0,d=s.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;n(s[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function o(s,l,c=0,d=s.length){const f=a(s,l,c,d-1);return f>c&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:a,center:o,right:i}}function LH(){return 0}function J3(e){return e===null?NaN:+e}function*FH(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const RH=sk(ml),mp=RH.right;sk(J3).center;class IC extends Map{constructor(t,n=zH){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(_C(this,t))}has(t){return super.has(_C(this,t))}set(t,n){return super.set($H(this,t),n)}delete(t){return super.delete(BH(this,t))}}function _C({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function $H({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function BH({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function zH(e){return e!==null&&typeof e=="object"?e.valueOf():e}function UH(e=ml){if(e===ml)return e4;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function e4(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const VH=Math.sqrt(50),WH=Math.sqrt(10),HH=Math.sqrt(2);function pg(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=VH?10:i>=WH?5:i>=HH?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?pg(e,t,n*2):[s,l,c]}function Ex(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,i,o]=r?pg(t,e,n):pg(e,t,n);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(i-c)/-o;else for(let c=0;c<s;++c)l[c]=(i-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(a+c)/-o;else for(let c=0;c<s;++c)l[c]=(a+c)*o;return l}function Tx(e,t,n){return t=+t,e=+e,n=+n,pg(e,t,n)[2]}function Px(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?Tx(t,e,n):Tx(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function LC(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function FC(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function t4(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?e4:UH(a);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),m=Math.max(n,Math.floor(t-c*f/l+p)),h=Math.min(r,Math.floor(t+(l-c)*f/l+p));t4(e,t,m,h,a)}const i=e[t];let o=n,s=r;for(Md(e,n,t),a(e[r],i)>0&&Md(e,n,r);o<s;){for(Md(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}a(e[n],i)===0?Md(e,n,s):(++s,Md(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Md(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function qH(e,t,n){if(e=Float64Array.from(FH(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return FC(e);if(t>=1)return LC(e);var r,a=(r-1)*t,i=Math.floor(a),o=LC(t4(e,i).subarray(0,i+1)),s=FC(e.subarray(i+1));return o+(s-o)*(a-i)}}function KH(e,t,n=J3){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),o=+n(e[i],i,e),s=+n(e[i+1],i+1,e);return o+(s-o)*(a-i)}}function YH(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++r<a;)i[r]=e+r*n;return i}function Gi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ms(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Dx=Symbol("implicit");function lk(){var e=new IC,t=[],n=[],r=Dx;function a(i){let o=e.get(i);if(o===void 0){if(r!==Dx)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new IC;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return lk(t,n).unknown(r)},Gi.apply(a,arguments),a}function ck(){var e=lk().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,i,o,s=!1,l=0,c=0,d=.5;delete e.unknown;function f(){var p=t().length,m=a<r,h=m?a:r,v=m?r:a;i=(v-h)/Math.max(1,p-l+c*2),s&&(i=Math.floor(i)),h+=(v-h-i*(p-l))*d,o=i*(1-l),s&&(h=Math.round(h),o=Math.round(o));var x=YH(p).map(function(g){return h+i*g});return n(m?x.reverse():x)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([r,a]=p,r=+r,a=+a,f()):[r,a]},e.rangeRound=function(p){return[r,a]=p,r=+r,a=+a,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(p){return arguments.length?(s=!!p,f()):s},e.padding=function(p){return arguments.length?(l=Math.min(1,c=+p),f()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},e.paddingOuter=function(p){return arguments.length?(c=+p,f()):c},e.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},e.copy=function(){return ck(t(),[r,a]).round(s).paddingInner(l).paddingOuter(c).align(d)},Gi.apply(f(),arguments)}function n4(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return n4(t())},e}function GH(){return n4(ck.apply(null,arguments).paddingInner(1))}function uk(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function r4(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function hp(){}var $f=.7,mg=1/$f,Nu="\\s*([+-]?\\d+)\\s*",Bf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$o="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",QH=/^#([0-9a-f]{3,8})$/,XH=new RegExp(`^rgb\\(${Nu},${Nu},${Nu}\\)$`),ZH=new RegExp(`^rgb\\(${$o},${$o},${$o}\\)$`),JH=new RegExp(`^rgba\\(${Nu},${Nu},${Nu},${Bf}\\)$`),eq=new RegExp(`^rgba\\(${$o},${$o},${$o},${Bf}\\)$`),tq=new RegExp(`^hsl\\(${Bf},${$o},${$o}\\)$`),nq=new RegExp(`^hsla\\(${Bf},${$o},${$o},${Bf}\\)$`),RC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};uk(hp,zf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:$C,formatHex:$C,formatHex8:rq,formatHsl:aq,formatRgb:BC,toString:BC});function $C(){return this.rgb().formatHex()}function rq(){return this.rgb().formatHex8()}function aq(){return a4(this).formatHsl()}function BC(){return this.rgb().formatRgb()}function zf(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=QH.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?zC(t):n===3?new Ga(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Mm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Mm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=XH.exec(e))?new Ga(t[1],t[2],t[3],1):(t=ZH.exec(e))?new Ga(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=JH.exec(e))?Mm(t[1],t[2],t[3],t[4]):(t=eq.exec(e))?Mm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=tq.exec(e))?WC(t[1],t[2]/100,t[3]/100,1):(t=nq.exec(e))?WC(t[1],t[2]/100,t[3]/100,t[4]):RC.hasOwnProperty(e)?zC(RC[e]):e==="transparent"?new Ga(NaN,NaN,NaN,0):null}function zC(e){return new Ga(e>>16&255,e>>8&255,e&255,1)}function Mm(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ga(e,t,n,r)}function iq(e){return e instanceof hp||(e=zf(e)),e?(e=e.rgb(),new Ga(e.r,e.g,e.b,e.opacity)):new Ga}function Ox(e,t,n,r){return arguments.length===1?iq(e):new Ga(e,t,n,r??1)}function Ga(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}uk(Ga,Ox,r4(hp,{brighter(e){return e=e==null?mg:Math.pow(mg,e),new Ga(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?$f:Math.pow($f,e),new Ga(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ga(uc(this.r),uc(this.g),uc(this.b),hg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:UC,formatHex:UC,formatHex8:oq,formatRgb:VC,toString:VC}));function UC(){return`#${tc(this.r)}${tc(this.g)}${tc(this.b)}`}function oq(){return`#${tc(this.r)}${tc(this.g)}${tc(this.b)}${tc((isNaN(this.opacity)?1:this.opacity)*255)}`}function VC(){const e=hg(this.opacity);return`${e===1?"rgb(":"rgba("}${uc(this.r)}, ${uc(this.g)}, ${uc(this.b)}${e===1?")":`, ${e})`}`}function hg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function uc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function tc(e){return e=uc(e),(e<16?"0":"")+e.toString(16)}function WC(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new so(e,t,n,r)}function a4(e){if(e instanceof so)return new so(e.h,e.s,e.l,e.opacity);if(e instanceof hp||(e=zf(e)),!e)return new so;if(e instanceof so)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,s=i-a,l=(i+a)/2;return s?(t===i?o=(n-r)/s+(n<r)*6:n===i?o=(r-t)/s+2:o=(t-n)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new so(o,s,l,e.opacity)}function sq(e,t,n,r){return arguments.length===1?a4(e):new so(e,t,n,r??1)}function so(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}uk(so,sq,r4(hp,{brighter(e){return e=e==null?mg:Math.pow(mg,e),new so(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?$f:Math.pow($f,e),new so(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Ga(fv(e>=240?e-240:e+120,a,r),fv(e,a,r),fv(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new so(HC(this.h),Am(this.s),Am(this.l),hg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=hg(this.opacity);return`${e===1?"hsl(":"hsla("}${HC(this.h)}, ${Am(this.s)*100}%, ${Am(this.l)*100}%${e===1?")":`, ${e})`}`}}));function HC(e){return e=(e||0)%360,e<0?e+360:e}function Am(e){return Math.max(0,Math.min(1,e||0))}function fv(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const dk=e=>()=>e;function lq(e,t){return function(n){return e+n*t}}function cq(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function uq(e){return(e=+e)==1?i4:function(t,n){return n-t?cq(t,n,e):dk(isNaN(t)?n:t)}}function i4(e,t){var n=t-e;return n?lq(e,n):dk(isNaN(e)?t:e)}const qC=function e(t){var n=uq(t);function r(a,i){var o=n((a=Ox(a)).r,(i=Ox(i)).r),s=n(a.g,i.g),l=n(a.b,i.b),c=i4(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=s(d),a.b=l(d),a.opacity=c(d),a+""}}return r.gamma=e,r}(1);function dq(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function fq(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function pq(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=Zu(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(s){for(o=0;o<r;++o)i[o]=a[o](s);return i}}function mq(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function gg(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function hq(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=Zu(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var Ix=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pv=new RegExp(Ix.source,"g");function gq(e){return function(){return e}}function yq(e){return function(t){return e(t)+""}}function vq(e,t){var n=Ix.lastIndex=pv.lastIndex=0,r,a,i,o=-1,s=[],l=[];for(e=e+"",t=t+"";(r=Ix.exec(e))&&(a=pv.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),s[o]?s[o]+=i:s[++o]=i),(r=r[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,l.push({i:o,x:gg(r,a)})),n=pv.lastIndex;return n<t.length&&(i=t.slice(n),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?yq(l[0].x):gq(t):(t=l.length,function(c){for(var d=0,f;d<t;++d)s[(f=l[d]).i]=f.x(c);return s.join("")})}function Zu(e,t){var n=typeof t,r;return t==null||n==="boolean"?dk(t):(n==="number"?gg:n==="string"?(r=zf(t))?(t=r,qC):vq:t instanceof zf?qC:t instanceof Date?mq:fq(t)?dq:Array.isArray(t)?pq:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?hq:gg)(e,t)}function fk(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function bq(e,t){t===void 0&&(t=e,e=Zu);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[s](o-s)}}function xq(e){return function(){return e}}function yg(e){return+e}var KC=[0,1];function _a(e){return e}function _x(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:xq(isNaN(t)?NaN:.5)}function wq(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function kq(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=_x(a,r),i=n(o,i)):(r=_x(r,a),i=n(i,o)),function(s){return i(r(s))}}function Sq(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=_x(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(s){var l=mp(e,s,1,r)-1;return i[l](a[l](s))}}function gp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function q0(){var e=KC,t=KC,n=Zu,r,a,i,o=_a,s,l,c;function d(){var p=Math.min(e.length,t.length);return o!==_a&&(o=wq(e[0],e[p-1])),s=p>2?Sq:kq,l=c=null,f}function f(p){return p==null||isNaN(p=+p)?i:(l||(l=s(e.map(r),t,n)))(r(o(p)))}return f.invert=function(p){return o(a((c||(c=s(t,e.map(r),gg)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,yg),d()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),d()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),n=fk,d()},f.clamp=function(p){return arguments.length?(o=p?!0:_a,d()):o!==_a},f.interpolate=function(p){return arguments.length?(n=p,d()):n},f.unknown=function(p){return arguments.length?(i=p,f):i},function(p,m){return r=p,a=m,d()}}function pk(){return q0()(_a,_a)}function Nq(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function vg(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Bu(e){return e=vg(Math.abs(e)),e?e[1]:NaN}function jq(e,t){return function(n,r){for(var a=n.length,i=[],o=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),i.push(n.substring(a-=s,a+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function Cq(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Mq=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Uf(e){if(!(t=Mq.exec(e)))throw new Error("invalid format: "+e);var t;return new mk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Uf.prototype=mk.prototype;function mk(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}mk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Aq(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var bg;function Eq(e,t){var n=vg(e,t);if(!n)return bg=void 0,e.toPrecision(t);var r=n[0],a=n[1],i=a-(bg=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+vg(e,Math.max(0,t+i-1))[0]}function YC(e,t){var n=vg(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const GC={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Nq,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>YC(e*100,t),r:YC,s:Eq,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function QC(e){return e}var XC=Array.prototype.map,ZC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Tq(e){var t=e.grouping===void 0||e.thousands===void 0?QC:jq(XC.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?QC:Cq(XC.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f,p){f=Uf(f);var m=f.fill,h=f.align,v=f.sign,x=f.symbol,g=f.zero,b=f.width,w=f.comma,S=f.precision,C=f.trim,N=f.type;N==="n"?(w=!0,N="g"):GC[N]||(S===void 0&&(S=12),C=!0,N="g"),(g||m==="0"&&h==="=")&&(g=!0,m="0",h="=");var M=(p&&p.prefix!==void 0?p.prefix:"")+(x==="$"?n:x==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():""),D=(x==="$"?r:/[%p]/.test(N)?o:"")+(p&&p.suffix!==void 0?p.suffix:""),R=GC[N],T=/[defgprs%]/.test(N);S=S===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function P(O){var W=M,Q=D,ee,ue,z;if(N==="c")Q=R(O)+Q,O="";else{O=+O;var B=O<0||1/O<0;if(O=isNaN(O)?l:R(Math.abs(O),S),C&&(O=Aq(O)),B&&+O==0&&v!=="+"&&(B=!1),W=(B?v==="("?v:s:v==="-"||v==="("?"":v)+W,Q=(N==="s"&&!isNaN(O)&&bg!==void 0?ZC[8+bg/3]:"")+Q+(B&&v==="("?")":""),T){for(ee=-1,ue=O.length;++ee<ue;)if(z=O.charCodeAt(ee),48>z||z>57){Q=(z===46?a+O.slice(ee+1):O.slice(ee))+Q,O=O.slice(0,ee);break}}}w&&!g&&(O=t(O,1/0));var ie=W.length+O.length+Q.length,k=ie<b?new Array(b-ie+1).join(m):"";switch(w&&g&&(O=t(k+O,k.length?b-Q.length:1/0),k=""),h){case"<":O=W+O+Q+k;break;case"=":O=W+k+O+Q;break;case"^":O=k.slice(0,ie=k.length>>1)+W+O+Q+k.slice(ie);break;default:O=k+W+O+Q;break}return i(O)}return P.toString=function(){return f+""},P}function d(f,p){var m=Math.max(-8,Math.min(8,Math.floor(Bu(p)/3)))*3,h=Math.pow(10,-m),v=c((f=Uf(f),f.type="f",f),{suffix:ZC[8+m/3]});return function(x){return v(h*x)}}return{format:c,formatPrefix:d}}var Em,hk,o4;Pq({thousands:",",grouping:[3],currency:["$",""]});function Pq(e){return Em=Tq(e),hk=Em.format,o4=Em.formatPrefix,Em}function Dq(e){return Math.max(0,-Bu(Math.abs(e)))}function Oq(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Bu(t)/3)))*3-Bu(Math.abs(e)))}function Iq(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Bu(t)-Bu(e))+1}function s4(e,t,n,r){var a=Px(e,t,n),i;switch(r=Uf(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=Oq(a,o))&&(r.precision=i),o4(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=Iq(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=Dq(a))&&(r.precision=i-(r.type==="%")*2);break}}return hk(r)}function Cl(e){var t=e.domain;return e.ticks=function(n){var r=t();return Ex(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return s4(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,o=r[a],s=r[i],l,c,d=10;for(s<o&&(c=o,o=s,s=c,c=a,a=i,i=c);d-- >0;){if(c=Tx(o,s,n),c===l)return r[a]=o,r[i]=s,t(r);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function l4(){var e=pk();return e.copy=function(){return gp(e,l4())},Gi.apply(e,arguments),Cl(e)}function c4(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,yg),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return c4(e).unknown(t)},e=arguments.length?Array.from(e,yg):[0,1],Cl(n)}function u4(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],i=e[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),e[n]=t.floor(a),e[r]=t.ceil(i),e}function JC(e){return Math.log(e)}function eM(e){return Math.exp(e)}function _q(e){return-Math.log(-e)}function Lq(e){return-Math.exp(-e)}function Fq(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Rq(e){return e===10?Fq:e===Math.E?Math.exp:t=>Math.pow(e,t)}function $q(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function tM(e){return(t,n)=>-e(-t,n)}function gk(e){const t=e(JC,eM),n=t.domain;let r=10,a,i;function o(){return a=$q(r),i=Rq(r),n()[0]<0?(a=tM(a),i=tM(i),e(_q,Lq)):e(JC,eM),t}return t.base=function(s){return arguments.length?(r=+s,o()):r},t.domain=function(s){return arguments.length?(n(s),o()):n()},t.ticks=s=>{const l=n();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let p=a(c),m=a(d),h,v;const x=s==null?10:+s;let g=[];if(!(r%1)&&m-p<x){if(p=Math.floor(p),m=Math.ceil(m),c>0){for(;p<=m;++p)for(h=1;h<r;++h)if(v=p<0?h/i(-p):h*i(p),!(v<c)){if(v>d)break;g.push(v)}}else for(;p<=m;++p)for(h=r-1;h>=1;--h)if(v=p>0?h/i(-p):h*i(p),!(v<c)){if(v>d)break;g.push(v)}g.length*2<x&&(g=Ex(c,d,x))}else g=Ex(p,m,Math.min(m-p,x)).map(i);return f?g.reverse():g},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Uf(l)).precision==null&&(l.trim=!0),l=hk(l)),s===1/0)return l;const c=Math.max(1,r*s/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*r<r-.5&&(f*=r),f<=c?l(d):""}},t.nice=()=>n(u4(n(),{floor:s=>i(Math.floor(a(s))),ceil:s=>i(Math.ceil(a(s)))})),t}function d4(){const e=gk(q0()).domain([1,10]);return e.copy=()=>gp(e,d4()).base(e.base()),Gi.apply(e,arguments),e}function nM(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function rM(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function yk(e){var t=1,n=e(nM(t),rM(t));return n.constant=function(r){return arguments.length?e(nM(t=+r),rM(t)):t},Cl(n)}function f4(){var e=yk(q0());return e.copy=function(){return gp(e,f4()).constant(e.constant())},Gi.apply(e,arguments)}function aM(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Bq(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function zq(e){return e<0?-e*e:e*e}function vk(e){var t=e(_a,_a),n=1;function r(){return n===1?e(_a,_a):n===.5?e(Bq,zq):e(aM(n),aM(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},Cl(t)}function bk(){var e=vk(q0());return e.copy=function(){return gp(e,bk()).exponent(e.exponent())},Gi.apply(e,arguments),e}function Uq(){return bk.apply(null,arguments).exponent(.5)}function iM(e){return Math.sign(e)*e*e}function Vq(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function p4(){var e=pk(),t=[0,1],n=!1,r;function a(i){var o=Vq(e(i));return isNaN(o)?r:n?Math.round(o):o}return a.invert=function(i){return e.invert(iM(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,yg)).map(iM)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return p4(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Gi.apply(a,arguments),Cl(a)}function m4(){var e=[],t=[],n=[],r;function a(){var o=0,s=Math.max(1,t.length);for(n=new Array(s-1);++o<s;)n[o-1]=KH(e,o/s);return i}function i(o){return o==null||isNaN(o=+o)?r:t[mp(n,o)]}return i.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(ml),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return m4().domain(e).range(t).unknown(r)},Gi.apply(i,arguments)}function h4(){var e=0,t=1,n=1,r=[.5],a=[0,1],i;function o(l){return l!=null&&l<=l?a[mp(r,l,0,n)]:i}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(n=(a=Array.from(l)).length-1,s()):a.slice()},o.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},o.unknown=function(l){return arguments.length&&(i=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return h4().domain([e,t]).range(a).unknown(i)},Gi.apply(Cl(o),arguments)}function g4(){var e=[.5],t=[0,1],n,r=1;function a(i){return i!=null&&i<=i?t[mp(e,i,0,r)]:n}return a.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return g4().domain(e).range(t).unknown(n)},Gi.apply(a,arguments)}const mv=new Date,hv=new Date;function qr(e,t,n,r){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{const l=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return l;let c;do l.push(c=new Date(+i)),t(i,s),e(i);while(c<i&&i<o);return l},a.filter=i=>qr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!i(o););else for(;--s>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>(mv.setTime(+i),hv.setTime(+o),e(mv),e(hv),Math.floor(n(mv,hv))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const xg=qr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);xg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?qr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):xg);xg.range;const is=1e3,zi=is*60,os=zi*60,bs=os*24,xk=bs*7,oM=bs*30,gv=bs*365,nc=qr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*is)},(e,t)=>(t-e)/is,e=>e.getUTCSeconds());nc.range;const wk=qr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*is)},(e,t)=>{e.setTime(+e+t*zi)},(e,t)=>(t-e)/zi,e=>e.getMinutes());wk.range;const kk=qr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*zi)},(e,t)=>(t-e)/zi,e=>e.getUTCMinutes());kk.range;const Sk=qr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*is-e.getMinutes()*zi)},(e,t)=>{e.setTime(+e+t*os)},(e,t)=>(t-e)/os,e=>e.getHours());Sk.range;const Nk=qr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*os)},(e,t)=>(t-e)/os,e=>e.getUTCHours());Nk.range;const yp=qr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*zi)/bs,e=>e.getDate()-1);yp.range;const K0=qr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/bs,e=>e.getUTCDate()-1);K0.range;const y4=qr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/bs,e=>Math.floor(e/bs));y4.range;function Pc(e){return qr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*zi)/xk)}const Y0=Pc(0),wg=Pc(1),Wq=Pc(2),Hq=Pc(3),zu=Pc(4),qq=Pc(5),Kq=Pc(6);Y0.range;wg.range;Wq.range;Hq.range;zu.range;qq.range;Kq.range;function Dc(e){return qr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/xk)}const G0=Dc(0),kg=Dc(1),Yq=Dc(2),Gq=Dc(3),Uu=Dc(4),Qq=Dc(5),Xq=Dc(6);G0.range;kg.range;Yq.range;Gq.range;Uu.range;Qq.range;Xq.range;const jk=qr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());jk.range;const Ck=qr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ck.range;const xs=qr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());xs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});xs.range;const ws=qr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ws.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ws.range;function v4(e,t,n,r,a,i){const o=[[nc,1,is],[nc,5,5*is],[nc,15,15*is],[nc,30,30*is],[i,1,zi],[i,5,5*zi],[i,15,15*zi],[i,30,30*zi],[a,1,os],[a,3,3*os],[a,6,6*os],[a,12,12*os],[r,1,bs],[r,2,2*bs],[n,1,xk],[t,1,oM],[t,3,3*oM],[e,1,gv]];function s(c,d,f){const p=d<c;p&&([c,d]=[d,c]);const m=f&&typeof f.range=="function"?f:l(c,d,f),h=m?m.range(c,+d+1):[];return p?h.reverse():h}function l(c,d,f){const p=Math.abs(d-c)/f,m=sk(([,,x])=>x).right(o,p);if(m===o.length)return e.every(Px(c/gv,d/gv,f));if(m===0)return xg.every(Math.max(Px(c,d,f),1));const[h,v]=o[p/o[m-1][2]<o[m][2]/p?m-1:m];return h.every(v)}return[s,l]}const[Zq,Jq]=v4(ws,Ck,G0,y4,Nk,kk),[eK,tK]=v4(xs,jk,Y0,yp,Sk,wk);function yv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function vv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ad(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function nK(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=Ed(a),d=Td(a),f=Ed(i),p=Td(i),m=Ed(o),h=Td(o),v=Ed(s),x=Td(s),g=Ed(l),b=Td(l),w={a:z,A:B,b:ie,B:k,c:null,d:fM,e:fM,f:jK,g:_K,G:FK,H:kK,I:SK,j:NK,L:b4,m:CK,M:MK,p:I,q:E,Q:hM,s:gM,S:AK,u:EK,U:TK,V:PK,w:DK,W:OK,x:null,X:null,y:IK,Y:LK,Z:RK,"%":mM},S={a:j,A:L,b:G,B:Z,c:null,d:pM,e:pM,f:UK,g:ZK,G:eY,H:$K,I:BK,j:zK,L:w4,m:VK,M:WK,p:Y,q,Q:hM,s:gM,S:HK,u:qK,U:KK,V:YK,w:GK,W:QK,x:null,X:null,y:XK,Y:JK,Z:tY,"%":mM},C={a:T,A:P,b:O,B:W,c:Q,d:uM,e:uM,f:vK,g:cM,G:lM,H:dM,I:dM,j:mK,L:yK,m:pK,M:hK,p:R,q:fK,Q:xK,s:wK,S:gK,u:sK,U:lK,V:cK,w:oK,W:uK,x:ee,X:ue,y:cM,Y:lM,Z:dK,"%":bK};w.x=N(n,w),w.X=N(r,w),w.c=N(t,w),S.x=N(n,S),S.X=N(r,S),S.c=N(t,S);function N(_,ne){return function(re){var F=[],ae=-1,H=0,$=_.length,le,we,et;for(re instanceof Date||(re=new Date(+re));++ae<$;)_.charCodeAt(ae)===37&&(F.push(_.slice(H,ae)),(we=sM[le=_.charAt(++ae)])!=null?le=_.charAt(++ae):we=le==="e"?" ":"0",(et=ne[le])&&(le=et(re,we)),F.push(le),H=ae+1);return F.push(_.slice(H,ae)),F.join("")}}function M(_,ne){return function(re){var F=Ad(1900,void 0,1),ae=D(F,_,re+="",0),H,$;if(ae!=re.length)return null;if("Q"in F)return new Date(F.Q);if("s"in F)return new Date(F.s*1e3+("L"in F?F.L:0));if(ne&&!("Z"in F)&&(F.Z=0),"p"in F&&(F.H=F.H%12+F.p*12),F.m===void 0&&(F.m="q"in F?F.q:0),"V"in F){if(F.V<1||F.V>53)return null;"w"in F||(F.w=1),"Z"in F?(H=vv(Ad(F.y,0,1)),$=H.getUTCDay(),H=$>4||$===0?kg.ceil(H):kg(H),H=K0.offset(H,(F.V-1)*7),F.y=H.getUTCFullYear(),F.m=H.getUTCMonth(),F.d=H.getUTCDate()+(F.w+6)%7):(H=yv(Ad(F.y,0,1)),$=H.getDay(),H=$>4||$===0?wg.ceil(H):wg(H),H=yp.offset(H,(F.V-1)*7),F.y=H.getFullYear(),F.m=H.getMonth(),F.d=H.getDate()+(F.w+6)%7)}else("W"in F||"U"in F)&&("w"in F||(F.w="u"in F?F.u%7:"W"in F?1:0),$="Z"in F?vv(Ad(F.y,0,1)).getUTCDay():yv(Ad(F.y,0,1)).getDay(),F.m=0,F.d="W"in F?(F.w+6)%7+F.W*7-($+5)%7:F.w+F.U*7-($+6)%7);return"Z"in F?(F.H+=F.Z/100|0,F.M+=F.Z%100,vv(F)):yv(F)}}function D(_,ne,re,F){for(var ae=0,H=ne.length,$=re.length,le,we;ae<H;){if(F>=$)return-1;if(le=ne.charCodeAt(ae++),le===37){if(le=ne.charAt(ae++),we=C[le in sM?ne.charAt(ae++):le],!we||(F=we(_,re,F))<0)return-1}else if(le!=re.charCodeAt(F++))return-1}return F}function R(_,ne,re){var F=c.exec(ne.slice(re));return F?(_.p=d.get(F[0].toLowerCase()),re+F[0].length):-1}function T(_,ne,re){var F=m.exec(ne.slice(re));return F?(_.w=h.get(F[0].toLowerCase()),re+F[0].length):-1}function P(_,ne,re){var F=f.exec(ne.slice(re));return F?(_.w=p.get(F[0].toLowerCase()),re+F[0].length):-1}function O(_,ne,re){var F=g.exec(ne.slice(re));return F?(_.m=b.get(F[0].toLowerCase()),re+F[0].length):-1}function W(_,ne,re){var F=v.exec(ne.slice(re));return F?(_.m=x.get(F[0].toLowerCase()),re+F[0].length):-1}function Q(_,ne,re){return D(_,t,ne,re)}function ee(_,ne,re){return D(_,n,ne,re)}function ue(_,ne,re){return D(_,r,ne,re)}function z(_){return o[_.getDay()]}function B(_){return i[_.getDay()]}function ie(_){return l[_.getMonth()]}function k(_){return s[_.getMonth()]}function I(_){return a[+(_.getHours()>=12)]}function E(_){return 1+~~(_.getMonth()/3)}function j(_){return o[_.getUTCDay()]}function L(_){return i[_.getUTCDay()]}function G(_){return l[_.getUTCMonth()]}function Z(_){return s[_.getUTCMonth()]}function Y(_){return a[+(_.getUTCHours()>=12)]}function q(_){return 1+~~(_.getUTCMonth()/3)}return{format:function(_){var ne=N(_+="",w);return ne.toString=function(){return _},ne},parse:function(_){var ne=M(_+="",!1);return ne.toString=function(){return _},ne},utcFormat:function(_){var ne=N(_+="",S);return ne.toString=function(){return _},ne},utcParse:function(_){var ne=M(_+="",!0);return ne.toString=function(){return _},ne}}}var sM={"-":"",_:" ",0:"0"},na=/^\s*\d+/,rK=/^%/,aK=/[\\^$*+?|[\]().{}]/g;function jn(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function iK(e){return e.replace(aK,"\\$&")}function Ed(e){return new RegExp("^(?:"+e.map(iK).join("|")+")","i")}function Td(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function oK(e,t,n){var r=na.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function sK(e,t,n){var r=na.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function lK(e,t,n){var r=na.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function cK(e,t,n){var r=na.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function uK(e,t,n){var r=na.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function lM(e,t,n){var r=na.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function cM(e,t,n){var r=na.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function dK(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function fK(e,t,n){var r=na.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function pK(e,t,n){var r=na.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function uM(e,t,n){var r=na.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function mK(e,t,n){var r=na.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function dM(e,t,n){var r=na.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function hK(e,t,n){var r=na.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function gK(e,t,n){var r=na.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function yK(e,t,n){var r=na.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function vK(e,t,n){var r=na.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function bK(e,t,n){var r=rK.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function xK(e,t,n){var r=na.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function wK(e,t,n){var r=na.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function fM(e,t){return jn(e.getDate(),t,2)}function kK(e,t){return jn(e.getHours(),t,2)}function SK(e,t){return jn(e.getHours()%12||12,t,2)}function NK(e,t){return jn(1+yp.count(xs(e),e),t,3)}function b4(e,t){return jn(e.getMilliseconds(),t,3)}function jK(e,t){return b4(e,t)+"000"}function CK(e,t){return jn(e.getMonth()+1,t,2)}function MK(e,t){return jn(e.getMinutes(),t,2)}function AK(e,t){return jn(e.getSeconds(),t,2)}function EK(e){var t=e.getDay();return t===0?7:t}function TK(e,t){return jn(Y0.count(xs(e)-1,e),t,2)}function x4(e){var t=e.getDay();return t>=4||t===0?zu(e):zu.ceil(e)}function PK(e,t){return e=x4(e),jn(zu.count(xs(e),e)+(xs(e).getDay()===4),t,2)}function DK(e){return e.getDay()}function OK(e,t){return jn(wg.count(xs(e)-1,e),t,2)}function IK(e,t){return jn(e.getFullYear()%100,t,2)}function _K(e,t){return e=x4(e),jn(e.getFullYear()%100,t,2)}function LK(e,t){return jn(e.getFullYear()%1e4,t,4)}function FK(e,t){var n=e.getDay();return e=n>=4||n===0?zu(e):zu.ceil(e),jn(e.getFullYear()%1e4,t,4)}function RK(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+jn(t/60|0,"0",2)+jn(t%60,"0",2)}function pM(e,t){return jn(e.getUTCDate(),t,2)}function $K(e,t){return jn(e.getUTCHours(),t,2)}function BK(e,t){return jn(e.getUTCHours()%12||12,t,2)}function zK(e,t){return jn(1+K0.count(ws(e),e),t,3)}function w4(e,t){return jn(e.getUTCMilliseconds(),t,3)}function UK(e,t){return w4(e,t)+"000"}function VK(e,t){return jn(e.getUTCMonth()+1,t,2)}function WK(e,t){return jn(e.getUTCMinutes(),t,2)}function HK(e,t){return jn(e.getUTCSeconds(),t,2)}function qK(e){var t=e.getUTCDay();return t===0?7:t}function KK(e,t){return jn(G0.count(ws(e)-1,e),t,2)}function k4(e){var t=e.getUTCDay();return t>=4||t===0?Uu(e):Uu.ceil(e)}function YK(e,t){return e=k4(e),jn(Uu.count(ws(e),e)+(ws(e).getUTCDay()===4),t,2)}function GK(e){return e.getUTCDay()}function QK(e,t){return jn(kg.count(ws(e)-1,e),t,2)}function XK(e,t){return jn(e.getUTCFullYear()%100,t,2)}function ZK(e,t){return e=k4(e),jn(e.getUTCFullYear()%100,t,2)}function JK(e,t){return jn(e.getUTCFullYear()%1e4,t,4)}function eY(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Uu(e):Uu.ceil(e),jn(e.getUTCFullYear()%1e4,t,4)}function tY(){return"+0000"}function mM(){return"%"}function hM(e){return+e}function gM(e){return Math.floor(+e/1e3)}var qc,S4,N4;nY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function nY(e){return qc=nK(e),S4=qc.format,qc.parse,N4=qc.utcFormat,qc.utcParse,qc}function rY(e){return new Date(e)}function aY(e){return e instanceof Date?+e:+new Date(+e)}function Mk(e,t,n,r,a,i,o,s,l,c){var d=pk(),f=d.invert,p=d.domain,m=c(".%L"),h=c(":%S"),v=c("%I:%M"),x=c("%I %p"),g=c("%a %d"),b=c("%b %d"),w=c("%B"),S=c("%Y");function C(N){return(l(N)<N?m:s(N)<N?h:o(N)<N?v:i(N)<N?x:r(N)<N?a(N)<N?g:b:n(N)<N?w:S)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?p(Array.from(N,aY)):p().map(rY)},d.ticks=function(N){var M=p();return e(M[0],M[M.length-1],N??10)},d.tickFormat=function(N,M){return M==null?C:c(M)},d.nice=function(N){var M=p();return(!N||typeof N.range!="function")&&(N=t(M[0],M[M.length-1],N??10)),N?p(u4(M,N)):d},d.copy=function(){return gp(d,Mk(e,t,n,r,a,i,o,s,l,c))},d}function iY(){return Gi.apply(Mk(eK,tK,xs,jk,Y0,yp,Sk,wk,nc,S4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function oY(){return Gi.apply(Mk(Zq,Jq,ws,Ck,G0,K0,Nk,kk,nc,N4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Q0(){var e=0,t=1,n,r,a,i,o=_a,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:o(a===0?.5:(f=(i(f)-n)*a,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,n=i(e=+e),r=i(t=+t),a=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(o=f,c):o};function d(f){return function(p){var m,h;return arguments.length?([m,h]=p,o=f(m,h),c):[o(0),o(1)]}}return c.range=d(Zu),c.rangeRound=d(fk),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return i=f,n=f(e),r=f(t),a=n===r?0:1/(r-n),c}}function Ml(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function j4(){var e=Cl(Q0()(_a));return e.copy=function(){return Ml(e,j4())},Ms.apply(e,arguments)}function C4(){var e=gk(Q0()).domain([1,10]);return e.copy=function(){return Ml(e,C4()).base(e.base())},Ms.apply(e,arguments)}function M4(){var e=yk(Q0());return e.copy=function(){return Ml(e,M4()).constant(e.constant())},Ms.apply(e,arguments)}function Ak(){var e=vk(Q0());return e.copy=function(){return Ml(e,Ak()).exponent(e.exponent())},Ms.apply(e,arguments)}function sY(){return Ak.apply(null,arguments).exponent(.5)}function A4(){var e=[],t=_a;function n(r){if(r!=null&&!isNaN(r=+r))return t((mp(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(ml),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,i)=>qH(e,i/r))},n.copy=function(){return A4(t).domain(e)},Ms.apply(n,arguments)}function X0(){var e=0,t=.5,n=1,r=1,a,i,o,s,l,c=_a,d,f=!1,p;function m(v){return isNaN(v=+v)?p:(v=.5+((v=+d(v))-i)*(r*v<r*i?s:l),c(f?Math.max(0,Math.min(1,v)):v))}m.domain=function(v){return arguments.length?([e,t,n]=v,a=d(e=+e),i=d(t=+t),o=d(n=+n),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),r=i<a?-1:1,m):[e,t,n]},m.clamp=function(v){return arguments.length?(f=!!v,m):f},m.interpolator=function(v){return arguments.length?(c=v,m):c};function h(v){return function(x){var g,b,w;return arguments.length?([g,b,w]=x,c=bq(v,[g,b,w]),m):[c(0),c(.5),c(1)]}}return m.range=h(Zu),m.rangeRound=h(fk),m.unknown=function(v){return arguments.length?(p=v,m):p},function(v){return d=v,a=v(e),i=v(t),o=v(n),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),r=i<a?-1:1,m}}function E4(){var e=Cl(X0()(_a));return e.copy=function(){return Ml(e,E4())},Ms.apply(e,arguments)}function T4(){var e=gk(X0()).domain([.1,1,10]);return e.copy=function(){return Ml(e,T4()).base(e.base())},Ms.apply(e,arguments)}function P4(){var e=yk(X0());return e.copy=function(){return Ml(e,P4()).constant(e.constant())},Ms.apply(e,arguments)}function Ek(){var e=vk(X0());return e.copy=function(){return Ml(e,Ek()).exponent(e.exponent())},Ms.apply(e,arguments)}function lY(){return Ek.apply(null,arguments).exponent(.5)}const Ud=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ck,scaleDiverging:E4,scaleDivergingLog:T4,scaleDivergingPow:Ek,scaleDivergingSqrt:lY,scaleDivergingSymlog:P4,scaleIdentity:c4,scaleImplicit:Dx,scaleLinear:l4,scaleLog:d4,scaleOrdinal:lk,scalePoint:GH,scalePow:bk,scaleQuantile:m4,scaleQuantize:h4,scaleRadial:p4,scaleSequential:j4,scaleSequentialLog:C4,scaleSequentialPow:Ak,scaleSequentialQuantile:A4,scaleSequentialSqrt:sY,scaleSequentialSymlog:M4,scaleSqrt:Uq,scaleSymlog:f4,scaleThreshold:g4,scaleTime:iY,scaleUtc:oY,tickFormat:s4},Symbol.toStringTag,{value:"Module"}));var Al=e=>e.chartData,Tk=fe([Al],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Pk=(e,t,n,r)=>r?Tk(e):Al(e);function vl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Rr(t)&&Rr(n))return!0}return!1}function yM(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function D4(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,a,i;if(Rr(n))a=n;else if(typeof n=="function")return;if(Rr(r))i=r;else if(typeof r=="function")return;var o=[a,i];if(vl(o))return o}}function cY(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(vl(r))return yM(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,s;if(a==="auto")t!=null&&(o=Math.min(...t));else if(St(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&Lj.test(a)){var l=Lj.exec(a);if(l==null||l[1]==null||t==null)o=void 0;else{var c=+l[1];o=t[0]-c}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(s=Math.max(...t));else if(St(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&Fj.test(i)){var d=Fj.exec(i);if(d==null||d[1]==null||t==null)s=void 0;else{var f=+d[1];s=t[1]+f}}else s=t==null?void 0:t[1];var p=[o,s];if(vl(p))return t==null?p:yM(p,t,n)}}}var Ju=1e9,uY={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ok,or=!0,Yi="[DecimalError] ",dc=Yi+"Invalid argument: ",Dk=Yi+"Exponent out of range: ",ed=Math.floor,ql=Math.pow,dY=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,yi,Zr=1e7,Gn=7,O4=9007199254740991,Sg=ed(O4/Gn),pt={};pt.absoluteValue=pt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};pt.comparedTo=pt.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(r=i.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1};pt.decimalPlaces=pt.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Gn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};pt.dividedBy=pt.div=function(e){return cs(this,new this.constructor(e))};pt.dividedToIntegerBy=pt.idiv=function(e){var t=this,n=t.constructor;return Fn(cs(t,new n(e),0,1),n.precision)};pt.equals=pt.eq=function(e){return!this.cmp(e)};pt.exponent=function(){return Fr(this)};pt.greaterThan=pt.gt=function(e){return this.cmp(e)>0};pt.greaterThanOrEqualTo=pt.gte=function(e){return this.cmp(e)>=0};pt.isInteger=pt.isint=function(){return this.e>this.d.length-2};pt.isNegative=pt.isneg=function(){return this.s<0};pt.isPositive=pt.ispos=function(){return this.s>0};pt.isZero=function(){return this.s===0};pt.lessThan=pt.lt=function(e){return this.cmp(e)<0};pt.lessThanOrEqualTo=pt.lte=function(e){return this.cmp(e)<1};pt.logarithm=pt.log=function(e){var t,n=this,r=n.constructor,a=r.precision,i=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(yi))throw Error(Yi+"NaN");if(n.s<1)throw Error(Yi+(n.s?"NaN":"-Infinity"));return n.eq(yi)?new r(0):(or=!1,t=cs(Vf(n,i),Vf(e,i),i),or=!0,Fn(t,a))};pt.minus=pt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?L4(t,e):I4(t,(e.s=-e.s,e))};pt.modulo=pt.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(Yi+"NaN");return n.s?(or=!1,t=cs(n,e,0,1).times(e),or=!0,n.minus(t)):Fn(new r(n),a)};pt.naturalExponential=pt.exp=function(){return _4(this)};pt.naturalLogarithm=pt.ln=function(){return Vf(this)};pt.negated=pt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};pt.plus=pt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?I4(t,e):L4(t,(e.s=-e.s,e))};pt.precision=pt.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(dc+e);if(t=Fr(a)+1,r=a.d.length-1,n=r*Gn+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};pt.squareRoot=pt.sqrt=function(){var e,t,n,r,a,i,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Yi+"NaN")}for(e=Fr(s),or=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=Lo(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=ed((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(a.toString()),n=l.precision,a=o=n+3;;)if(i=r,r=i.plus(cs(s,i,o+2)).times(.5),Lo(i.d).slice(0,o)===(t=Lo(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Fn(i,n+1,0),i.times(i).eq(s)){r=i;break}}else if(t!="9999")break;o+=4}return or=!0,Fn(r,n)};pt.times=pt.mul=function(e){var t,n,r,a,i,o,s,l,c,d=this,f=d.constructor,p=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,l=p.length,c=m.length,l<c&&(i=p,p=m,m=i,o=l,l=c,c=o),i=[],o=l+c,r=o;r--;)i.push(0);for(r=c;--r>=0;){for(t=0,a=l+r;a>r;)s=i[a]+m[r]*p[a-r-1]+t,i[a--]=s%Zr|0,t=s/Zr|0;i[a]=(i[a]+t)%Zr|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,or?Fn(e,f.precision):e};pt.toDecimalPlaces=pt.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Wo(e,0,Ju),t===void 0?t=r.rounding:Wo(t,0,8),Fn(n,e+Fr(n)+1,t))};pt.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=Nc(r,!0):(Wo(e,0,Ju),t===void 0?t=a.rounding:Wo(t,0,8),r=Fn(new a(r),e+1,t),n=Nc(r,!0,e+1)),n};pt.toFixed=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?Nc(a):(Wo(e,0,Ju),t===void 0?t=i.rounding:Wo(t,0,8),r=Fn(new i(a),e+Fr(a)+1,t),n=Nc(r.abs(),!1,e+Fr(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};pt.toInteger=pt.toint=function(){var e=this,t=e.constructor;return Fn(new t(e),Fr(e)+1,t.rounding)};pt.toNumber=function(){return+this};pt.toPower=pt.pow=function(e){var t,n,r,a,i,o,s=this,l=s.constructor,c=12,d=+(e=new l(e));if(!e.s)return new l(yi);if(s=new l(s),!s.s){if(e.s<1)throw Error(Yi+"Infinity");return s}if(s.eq(yi))return s;if(r=l.precision,e.eq(yi))return Fn(s,r);if(t=e.e,n=e.d.length-1,o=t>=n,i=s.s,o){if((n=d<0?-d:d)<=O4){for(a=new l(yi),t=Math.ceil(r/Gn+4),or=!1;n%2&&(a=a.times(s),bM(a.d,t)),n=ed(n/2),n!==0;)s=s.times(s),bM(s.d,t);return or=!0,e.s<0?new l(yi).div(a):Fn(a,r)}}else if(i<0)throw Error(Yi+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,or=!1,a=e.times(Vf(s,r+c)),or=!0,a=_4(a),a.s=i,a};pt.toPrecision=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?(n=Fr(a),r=Nc(a,n<=i.toExpNeg||n>=i.toExpPos)):(Wo(e,1,Ju),t===void 0?t=i.rounding:Wo(t,0,8),a=Fn(new i(a),e,t),n=Fr(a),r=Nc(a,e<=n||n<=i.toExpNeg,e)),r};pt.toSignificantDigits=pt.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Wo(e,1,Ju),t===void 0?t=r.rounding:Wo(t,0,8)),Fn(new r(n),e,t)};pt.toString=pt.valueOf=pt.val=pt.toJSON=pt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Fr(e),n=e.constructor;return Nc(e,t<=n.toExpNeg||t>=n.toExpPos)};function I4(e,t){var n,r,a,i,o,s,l,c,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),or?Fn(t,f):t;if(l=e.d,c=t.d,o=e.e,a=t.e,l=l.slice(),i=o-a,i){for(i<0?(r=l,i=-i,s=c.length):(r=c,a=o,s=l.length),o=Math.ceil(f/Gn),s=o>s?o+1:s+1,i>s&&(i=s,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(s=l.length,i=c.length,s-i<0&&(i=s,r=c,c=l,l=r),n=0;i;)n=(l[--i]=l[i]+c[i]+n)/Zr|0,l[i]%=Zr;for(n&&(l.unshift(n),++a),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=a,or?Fn(t,f):t}function Wo(e,t,n){if(e!==~~e||e<t||e>n)throw Error(dc+e)}function Lo(e){var t,n,r,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)r=e[t]+"",n=Gn-r.length,n&&(i+=Gs(n)),i+=r;o=e[t],r=o+"",n=Gn-r.length,n&&(i+=Gs(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var cs=function(){function e(r,a){var i,o=0,s=r.length;for(r=r.slice();s--;)i=r[s]*a+o,r[s]=i%Zr|0,o=i/Zr|0;return o&&r.unshift(o),r}function t(r,a,i,o){var s,l;if(i!=o)l=i>o?1:-1;else for(s=l=0;s<i;s++)if(r[s]!=a[s]){l=r[s]>a[s]?1:-1;break}return l}function n(r,a,i){for(var o=0;i--;)r[i]-=o,o=r[i]<a[i]?1:0,r[i]=o*Zr+r[i]-a[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,i,o){var s,l,c,d,f,p,m,h,v,x,g,b,w,S,C,N,M,D,R=r.constructor,T=r.s==a.s?1:-1,P=r.d,O=a.d;if(!r.s)return new R(r);if(!a.s)throw Error(Yi+"Division by zero");for(l=r.e-a.e,M=O.length,C=P.length,m=new R(T),h=m.d=[],c=0;O[c]==(P[c]||0);)++c;if(O[c]>(P[c]||0)&&--l,i==null?b=i=R.precision:o?b=i+(Fr(r)-Fr(a))+1:b=i,b<0)return new R(0);if(b=b/Gn+2|0,c=0,M==1)for(d=0,O=O[0],b++;(c<C||d)&&b--;c++)w=d*Zr+(P[c]||0),h[c]=w/O|0,d=w%O|0;else{for(d=Zr/(O[0]+1)|0,d>1&&(O=e(O,d),P=e(P,d),M=O.length,C=P.length),S=M,v=P.slice(0,M),x=v.length;x<M;)v[x++]=0;D=O.slice(),D.unshift(0),N=O[0],O[1]>=Zr/2&&++N;do d=0,s=t(O,v,M,x),s<0?(g=v[0],M!=x&&(g=g*Zr+(v[1]||0)),d=g/N|0,d>1?(d>=Zr&&(d=Zr-1),f=e(O,d),p=f.length,x=v.length,s=t(f,v,p,x),s==1&&(d--,n(f,M<p?D:O,p))):(d==0&&(s=d=1),f=O.slice()),p=f.length,p<x&&f.unshift(0),n(v,f,x),s==-1&&(x=v.length,s=t(O,v,M,x),s<1&&(d++,n(v,M<x?D:O,x))),x=v.length):s===0&&(d++,v=[0]),h[c++]=d,s&&v[0]?v[x++]=P[S]||0:(v=[P[S]],x=1);while((S++<C||v[0]!==void 0)&&b--)}return h[0]||h.shift(),m.e=l,Fn(m,o?i+Fr(m)+1:i)}}();function _4(e,t){var n,r,a,i,o,s,l=0,c=0,d=e.constructor,f=d.precision;if(Fr(e)>16)throw Error(Dk+Fr(e));if(!e.s)return new d(yi);for(or=!1,s=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(r=Math.log(ql(2,c))/Math.LN10*2+5|0,s+=r,n=a=i=new d(yi),d.precision=s;;){if(a=Fn(a.times(e),s),n=n.times(++l),o=i.plus(cs(a,n,s)),Lo(o.d).slice(0,s)===Lo(i.d).slice(0,s)){for(;c--;)i=Fn(i.times(i),s);return d.precision=f,t==null?(or=!0,Fn(i,f)):i}i=o}}function Fr(e){for(var t=e.e*Gn,n=e.d[0];n>=10;n/=10)t++;return t}function bv(e,t,n){if(t>e.LN10.sd())throw or=!0,n&&(e.precision=n),Error(Yi+"LN10 precision limit exceeded");return Fn(new e(e.LN10),t)}function Gs(e){for(var t="";e--;)t+="0";return t}function Vf(e,t){var n,r,a,i,o,s,l,c,d,f=1,p=10,m=e,h=m.d,v=m.constructor,x=v.precision;if(m.s<1)throw Error(Yi+(m.s?"NaN":"-Infinity"));if(m.eq(yi))return new v(0);if(t==null?(or=!1,c=x):c=t,m.eq(10))return t==null&&(or=!0),bv(v,c);if(c+=p,v.precision=c,n=Lo(h),r=n.charAt(0),i=Fr(m),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=Lo(m.d),r=n.charAt(0),f++;i=Fr(m),r>1?(m=new v("0."+n),i++):m=new v(r+"."+n.slice(1))}else return l=bv(v,c+2,x).times(i+""),m=Vf(new v(r+"."+n.slice(1)),c-p).plus(l),v.precision=x,t==null?(or=!0,Fn(m,x)):m;for(s=o=m=cs(m.minus(yi),m.plus(yi),c),d=Fn(m.times(m),c),a=3;;){if(o=Fn(o.times(d),c),l=s.plus(cs(o,new v(a),c)),Lo(l.d).slice(0,c)===Lo(s.d).slice(0,c))return s=s.times(2),i!==0&&(s=s.plus(bv(v,c+2,x).times(i+""))),s=cs(s,new v(f),c),v.precision=x,t==null?(or=!0,Fn(s,x)):s;s=l,a+=2}}function vM(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=ed(n/Gn),e.d=[],r=(n+1)%Gn,n<0&&(r+=Gn),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=Gn;r<a;)e.d.push(+t.slice(r,r+=Gn));t=t.slice(r),r=Gn-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),or&&(e.e>Sg||e.e<-Sg))throw Error(Dk+n)}else e.s=0,e.e=0,e.d=[0];return e}function Fn(e,t,n){var r,a,i,o,s,l,c,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(r=t-o,r<0)r+=Gn,a=t,c=f[d=0];else{if(d=Math.ceil((r+1)/Gn),i=f.length,d>=i)return e;for(c=i=f[d],o=1;i>=10;i/=10)o++;r%=Gn,a=r-Gn+o}if(n!==void 0&&(i=ql(10,o-a-1),s=c/i%10|0,l=t<0||f[d+1]!==void 0||c%i,l=n<4?(s||l)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?a>0?c/ql(10,o-a):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(i=Fr(e),f.length=1,t=t-i-1,f[0]=ql(10,(Gn-t%Gn)%Gn),e.e=ed(-t/Gn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,i=1,d--):(f.length=d+1,i=ql(10,Gn-r),f[d]=a>0?(c/ql(10,o-a)%ql(10,a)|0)*i:0),l)for(;;)if(d==0){(f[0]+=i)==Zr&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Zr)break;f[d--]=0,i=1}for(r=f.length;f[--r]===0;)f.pop();if(or&&(e.e>Sg||e.e<-Sg))throw Error(Dk+Fr(e));return e}function L4(e,t){var n,r,a,i,o,s,l,c,d,f,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),or?Fn(t,m):t;if(l=e.d,f=t.d,r=t.e,c=e.e,l=l.slice(),o=c-r,o){for(d=o<0,d?(n=l,o=-o,s=f.length):(n=f,r=c,s=l.length),a=Math.max(Math.ceil(m/Gn),s)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=l.length,s=f.length,d=a<s,d&&(s=a),a=0;a<s;a++)if(l[a]!=f[a]){d=l[a]<f[a];break}o=0}for(d&&(n=l,l=f,f=n,t.s=-t.s),s=l.length,a=f.length-s;a>0;--a)l[s++]=0;for(a=f.length;a>o;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=Zr-1;--l[i],l[a]+=Zr}l[a]-=f[a]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,or?Fn(t,m):t):new p(0)}function Nc(e,t,n){var r,a=Fr(e),i=Lo(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+Gs(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Gs(-a-1)+i,n&&(r=n-o)>0&&(i+=Gs(r))):a>=o?(i+=Gs(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+Gs(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=Gs(r))),e.s<0?"-"+i:i}function bM(e,t){if(e.length>t)return e.length=t,!0}function F4(e){var t,n,r;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(dc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return vM(o,i.toString())}else if(typeof i!="string")throw Error(dc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,dY.test(i))vM(o,i);else throw Error(dc+i)}if(a.prototype=pt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=F4,a.config=a.set=fY,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function fY(e){if(!e||typeof e!="object")throw Error(Yi+"Object expected");var t,n,r,a=["precision",1,Ju,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(ed(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(dc+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(dc+n+": "+r);return this}var Ok=F4(uY);yi=new Ok(1);const Dn=Ok;var pY=e=>e,R4={},$4=e=>e===R4,xM=e=>function t(){return arguments.length===0||arguments.length===1&&$4(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},B4=(e,t)=>e===1?t:xM(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=r.filter(o=>o!==R4).length;return i>=e?t(...r):B4(e-i,xM(function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];var c=r.map(d=>$4(d)?s.shift():d);return t(...c,...s)}))}),mY=e=>B4(e.length,e),Lx=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},hY=mY((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),gY=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return pY;var r=t.reverse(),a=r[0],i=r.slice(1);return function(){return i.reduce((o,s)=>s(o),a(...arguments))}};function z4(e){var t;return e===0?t=1:t=Math.floor(new Dn(e).abs().log(10).toNumber())+1,t}function U4(e,t,n){for(var r=new Dn(e),a=0,i=[];r.lt(t)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}var V4=e=>{var[t,n]=e,[r,a]=[t,n];return t>n&&([r,a]=[n,t]),[r,a]},W4=(e,t,n)=>{if(e.lte(0))return new Dn(0);var r=z4(e.toNumber()),a=new Dn(10).pow(r),i=e.div(a),o=r!==1?.05:.1,s=new Dn(Math.ceil(i.div(o).toNumber())).add(n).mul(o),l=s.mul(a);return t?new Dn(l.toNumber()):new Dn(Math.ceil(l.toNumber()))},yY=(e,t,n)=>{var r=new Dn(1),a=new Dn(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(r=new Dn(10).pow(z4(e)-1),a=new Dn(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new Dn(Math.floor(e)))}else e===0?a=new Dn(Math.floor((t-1)/2)):n||(a=new Dn(Math.floor(e)));var o=Math.floor((t-1)/2),s=gY(hY(l=>a.add(new Dn(l-o).mul(r)).toNumber()),Lx);return s(0,t)},H4=function(e,t,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Dn(0),tickMin:new Dn(0),tickMax:new Dn(0)};var i=W4(new Dn(t).sub(e).div(n-1),r,a),o;e<=0&&t>=0?o=new Dn(0):(o=new Dn(e).add(t).div(2),o=o.sub(new Dn(o).mod(i)));var s=Math.ceil(o.sub(e).div(i).toNumber()),l=Math.ceil(new Dn(t).sub(o).div(i).toNumber()),c=s+l+1;return c>n?H4(e,t,n,r,a+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:i,tickMin:o.sub(new Dn(s).mul(i)),tickMax:o.add(new Dn(l).mul(i))})},vY=function(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(r,2),[o,s]=V4([t,n]);if(o===-1/0||s===1/0){var l=s===1/0?[o,...Lx(0,r-1).map(()=>1/0)]:[...Lx(0,r-1).map(()=>-1/0),s];return t>n?l.reverse():l}if(o===s)return yY(o,r,a);var{step:c,tickMin:d,tickMax:f}=H4(o,s,i,a,0),p=U4(d,f.add(new Dn(.1).mul(c)),c);return t>n?p.reverse():p},bY=function(e,t){var[n,r]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=V4([n,r]);if(i===-1/0||o===1/0)return[n,r];if(i===o)return[i];var s=Math.max(t,2),l=W4(new Dn(o).sub(i).div(s-1),a,0),c=[...U4(new Dn(i),new Dn(o),l),o];return a===!1&&(c=c.map(d=>Math.round(d))),n>r?c.reverse():c},xY=e=>e.rootProps.barCategoryGap,vp=e=>e.rootProps.stackOffset,q4=e=>e.rootProps.reverseStackOrder,Ik=e=>e.options.chartName,_k=e=>e.rootProps.syncId,K4=e=>e.rootProps.syncMethod,Lk=e=>e.options.eventEmitter,ca={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},es={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},gi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Z0=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},wY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:es.angleAxisId,includeHidden:!1,name:void 0,reversed:es.reversed,scale:es.scale,tick:es.tick,tickCount:void 0,ticks:void 0,type:es.type,unit:void 0},kY={allowDataOverflow:gi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:gi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:gi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:gi.scale,tick:gi.tick,tickCount:gi.tickCount,ticks:void 0,type:gi.type,unit:void 0},SY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:es.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:es.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:es.scale,tick:es.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},NY={allowDataOverflow:gi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:gi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:gi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:gi.scale,tick:gi.tick,tickCount:gi.tickCount,ticks:void 0,type:"category",unit:void 0},Fk=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?SY:wY,Rk=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?NY:kY,J0=e=>e.polarOptions,$k=fe([js,Cs,ta],H3),Y4=fe([J0,$k],(e,t)=>{if(e!=null)return Vi(e.innerRadius,t,0)}),G4=fe([J0,$k],(e,t)=>{if(e!=null)return Vi(e.outerRadius,t,t*.8)}),jY=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},Q4=fe([J0],jY);fe([Fk,Q4],Z0);var X4=fe([$k,Y4,G4],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});fe([Rk,X4],Z0);var Z4=fe([In,J0,Y4,G4,js,Cs],(e,t,n,r,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:s,startAngle:l,endAngle:c}=t;return{cx:Vi(o,a,a/2),cy:Vi(s,i,i/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),sr=(e,t)=>t,bp=(e,t,n)=>n;function J4(e){return e==null?void 0:e.id}function eI(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=n,o=new Map;return e.forEach(s=>{var l,c=(l=s.data)!==null&&l!==void 0?l:r;if(!(c==null||c.length===0)){var d=J4(s);c.forEach((f,p)=>{var m=i==null||a?p:String(Xn(f,i,null)),h=Xn(f,s.dataKey,0),v;o.has(m)?v=o.get(m):v={},Object.assign(v,{[d]:h}),o.set(m,v)})}}),Array.from(o.values())}function Bk(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var ey=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function ty(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function CY(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Kr=e=>{var t=In(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},td=e=>e.tooltip.settings.axisId;function wM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ng(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wM(Object(n),!0).forEach(function(r){MY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MY(e,t,n){return(t=AY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AY(e){var t=EY(e,"string");return typeof t=="symbol"?t:t+""}function EY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fx=[0,"auto"],Qr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},tI=(e,t)=>e.cartesianAxis.xAxis[t],As=(e,t)=>{var n=tI(e,t);return n??Qr},Xr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Fx,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:dp},nI=(e,t)=>e.cartesianAxis.yAxis[t],Es=(e,t)=>{var n=nI(e,t);return n??Xr},TY={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},zk=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??TY},gr=(e,t,n)=>{switch(t){case"xAxis":return As(e,n);case"yAxis":return Es(e,n);case"zAxis":return zk(e,n);case"angleAxis":return Fk(e,n);case"radiusAxis":return Rk(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},PY=(e,t,n)=>{switch(t){case"xAxis":return As(e,n);case"yAxis":return Es(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},xp=(e,t,n)=>{switch(t){case"xAxis":return As(e,n);case"yAxis":return Es(e,n);case"angleAxis":return Fk(e,n);case"radiusAxis":return Rk(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},rI=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Uk(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var aI=e=>e.graphicalItems.cartesianItems,DY=fe([sr,bp],Uk),Vk=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),wp=fe([aI,gr,DY],Vk,{memoizeOptions:{resultEqualityCheck:ty}}),iI=fe([wp],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Bk)),oI=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),OY=fe([wp],oI),Wk=e=>e.map(t=>t.data).filter(Boolean).flat(1),IY=fe([wp],Wk,{memoizeOptions:{resultEqualityCheck:ty}}),Hk=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=t;return e.length>0?e:n.slice(r,a+1)},qk=fe([IY,Pk],Hk),Kk=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Xn(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(a=>({value:Xn(a,r)}))):e.map(r=>({value:r})),ny=fe([qk,gr,wp],Kk);function sI(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function ih(e){if(Uo(e)||e instanceof Date){var t=Number(e);if(Rr(t))return t}}function kM(e){if(Array.isArray(e)){var t=[ih(e[0]),ih(e[1])];return vl(t)?t:void 0}var n=ih(e);if(n!=null)return[n,n]}function ks(e){return e.map(ih).filter(Q8)}function _Y(e,t,n){return!n||typeof t!="number"||zo(t)?[]:n.length?ks(n.flatMap(r=>{var a=Xn(e,r.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!Rr(i)||!Rr(o)))return[t-i,t+o]})):[]}var Yr=e=>{var t=Kr(e),n=td(e);return xp(e,t,n)},kp=fe([Yr],e=>e==null?void 0:e.dataKey),LY=fe([iI,Pk,Yr],eI),lI=(e,t,n,r)=>{var a={},i=t.reduce((o,s)=>{if(s.stackId==null)return o;var l=o[s.stackId];return l==null&&(l=[]),l.push(s),o[s.stackId]=l,o},a);return Object.fromEntries(Object.entries(i).map(o=>{var[s,l]=o,c=r?[...l].reverse():l,d=c.map(J4);return[s,{stackedData:fV(e,d,n),graphicalItems:c}]}))},FY=fe([LY,iI,vp,q4],lI),cI=(e,t,n,r)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(r==null&&n!=="zAxis"){var o=hV(e,a,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},RY=fe([gr],e=>e.allowDataOverflow),Yk=e=>{var t;if(e==null||!("domain"in e))return Fx;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=ks(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Fx},Gk=fe([gr],Yk),Qk=fe([Gk,RY],D4),$Y=fe([FY,Al,sr,Qk],cI,{memoizeOptions:{resultEqualityCheck:ey}}),ry=e=>e.errorBars,BY=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>sI(n,r)),jg=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);if(r.length!==0){var a=r.flat(),i=Math.min(...a),o=Math.max(...a);return[i,o]}},Xk=(e,t,n,r,a)=>{var i,o;if(n.length>0&&e.forEach(s=>{n.forEach(l=>{var c,d,f=(c=r[l.id])===null||c===void 0?void 0:c.filter(g=>sI(a,g)),p=Xn(s,(d=t.dataKey)!==null&&d!==void 0?d:l.dataKey),m=_Y(s,p,f);if(m.length>=2){var h=Math.min(...m),v=Math.max(...m);(i==null||h<i)&&(i=h),(o==null||v>o)&&(o=v)}var x=kM(p);x!=null&&(i=i==null?x[0]:Math.min(i,x[0]),o=o==null?x[1]:Math.max(o,x[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(s=>{var l=kM(Xn(s,t.dataKey));l!=null&&(i=i==null?l[0]:Math.min(i,l[0]),o=o==null?l[1]:Math.max(o,l[1]))}),Rr(i)&&Rr(o))return[i,o]},zY=fe([qk,gr,OY,ry,sr],Xk,{memoizeOptions:{resultEqualityCheck:ey}});function UY(e){var{value:t}=e;if(Uo(t)||t instanceof Date)return t}var VY=(e,t,n)=>{var r=e.map(UY).filter(a=>a!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&rO(r))?Z3(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},uI=e=>e.referenceElements.dots,nd=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),WY=fe([uI,sr,bp],nd),dI=e=>e.referenceElements.areas,HY=fe([dI,sr,bp],nd),fI=e=>e.referenceElements.lines,qY=fe([fI,sr,bp],nd),pI=(e,t)=>{if(e!=null){var n=ks(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},KY=fe(WY,sr,pI),mI=(e,t)=>{if(e!=null){var n=ks(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},YY=fe([HY,sr],mI);function GY(e){var t;if(e.x!=null)return ks([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:ks(n)}function QY(e){var t;if(e.y!=null)return ks([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:ks(n)}var hI=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?GY(r):QY(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},XY=fe([qY,sr],hI),ZY=fe(KY,XY,YY,(e,t,n)=>jg(e,n,t)),Zk=(e,t,n,r,a,i,o,s)=>{if(n!=null)return n;var l=o==="vertical"&&s==="xAxis"||o==="horizontal"&&s==="yAxis",c=l?jg(r,i,a):jg(i,a);return cY(t,c,e.allowDataOverflow)},JY=fe([gr,Gk,Qk,$Y,zY,ZY,In,sr],Zk,{memoizeOptions:{resultEqualityCheck:ey}}),eG=[0,1],Jk=(e,t,n,r,a,i,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:s,type:l}=e,c=jl(t,i);if(c&&s==null){var d;return Z3(0,(d=n==null?void 0:n.length)!==null&&d!==void 0?d:0)}return l==="category"?VY(r,e,c):a==="expand"?eG:o}},eS=fe([gr,In,qk,ny,vp,sr,JY],Jk),gI=(e,t,n,r,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var s="scale".concat(sp(i));return s in Ud?s:"point"}}},rd=fe([gr,In,rI,Ik,sr],gI);function tG(e){if(e!=null){if(e in Ud)return Ud[e]();var t="scale".concat(sp(e));if(t in Ud)return Ud[t]()}}function tS(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var a=tG(t);if(a!=null){var i=a.domain(n).range(r);return lV(i),i}}}var nS=(e,t,n)=>{var r=Yk(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&vl(e))return vY(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&vl(e))return bY(e,t.tickCount,t.allowDecimals)}},rS=fe([eS,xp,rd],nS),aS=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&vl(t)&&Array.isArray(n)&&n.length>0){var a=t[0],i=n[0],o=t[1],s=n[n.length-1];return[Math.min(a,i),Math.max(o,s)]}return t},nG=fe([gr,eS,rS,sr],aS),rG=fe(ny,gr,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(ks(e.map(f=>f.value))).sort((f,p)=>f-p),a=r[0],i=r[r.length-1];if(a==null||i==null)return 1/0;var o=i-a;if(o===0)return 1/0;for(var s=0;s<r.length-1;s++){var l=r[s],c=r[s+1];if(!(l==null||c==null)){var d=c-l;n=Math.min(n,d)}}return n/o}}),yI=fe(rG,In,xY,ta,(e,t,n,r,a)=>a,(e,t,n,r,a)=>{if(!Rr(e))return 0;var i=t==="vertical"?r.height:r.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=Vi(n,e*i),s=e*i/2;return s-o-(s-o)/i*o}return 0}),aG=(e,t,n)=>{var r=As(e,t);return r==null||typeof r.padding!="string"?0:yI(e,"xAxis",t,n,r.padding)},iG=(e,t,n)=>{var r=Es(e,t);return r==null||typeof r.padding!="string"?0:yI(e,"yAxis",t,n,r.padding)},oG=fe(As,aG,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((n=a.left)!==null&&n!==void 0?n:0)+t,right:((r=a.right)!==null&&r!==void 0?r:0)+t}}),sG=fe(Es,iG,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((n=a.top)!==null&&n!==void 0?n:0)+t,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+t}}),lG=fe([ta,oG,F0,L0,(e,t,n)=>n],(e,t,n,r,a)=>{var{padding:i}=r;return a?[i.left,n.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),cG=fe([ta,In,sG,F0,L0,(e,t,n)=>n],(e,t,n,r,a,i)=>{var{padding:o}=a;return i?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Sp=(e,t,n,r)=>{var a;switch(t){case"xAxis":return lG(e,n,r);case"yAxis":return cG(e,n,r);case"zAxis":return(a=zk(e,n))===null||a===void 0?void 0:a.range;case"angleAxis":return Q4(e);case"radiusAxis":return X4(e,n);default:return}},vI=fe([gr,Sp],Z0),ay=fe([gr,rd,nG,vI],tS);fe([wp,ry,sr],BY);function bI(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var iy=(e,t)=>t,oy=(e,t,n)=>n,uG=fe(I0,iy,oy,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(bI)),dG=fe(_0,iy,oy,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(bI)),xI=(e,t)=>({width:e.width,height:t.height}),fG=(e,t)=>{var n=typeof t.width=="number"?t.width:dp;return{width:n,height:e.height}},pG=fe(ta,As,xI),mG=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},hG=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},gG=fe(Cs,ta,uG,iy,oy,(e,t,n,r,a)=>{var i={},o;return n.forEach(s=>{var l=xI(t,s);o==null&&(o=mG(t,r,e));var c=r==="top"&&!a||r==="bottom"&&a;i[s.id]=o-Number(c)*l.height,o+=(c?-1:1)*l.height}),i}),yG=fe(js,ta,dG,iy,oy,(e,t,n,r,a)=>{var i={},o;return n.forEach(s=>{var l=fG(t,s);o==null&&(o=hG(t,r,e));var c=r==="left"&&!a||r==="right"&&a;i[s.id]=o-Number(c)*l.width,o+=(c?-1:1)*l.width}),i}),vG=(e,t)=>{var n=As(e,t);if(n!=null)return gG(e,n.orientation,n.mirror)},bG=fe([ta,As,vG,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n==null?void 0:n[r];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),xG=(e,t)=>{var n=Es(e,t);if(n!=null)return yG(e,n.orientation,n.mirror)},wG=fe([ta,Es,xG,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n==null?void 0:n[r];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),kG=fe(ta,Es,(e,t)=>{var n=typeof t.width=="number"?t.width:dp;return{width:n,height:e.height}}),wI=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=n,s=jl(e,r),l=t.map(c=>c.value);if(o&&s&&i==="category"&&a&&rO(l))return l}},iS=fe([In,ny,gr,sr],wI),kI=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:i}=n,o=jl(e,r);if(o&&(a==="number"||i!=="auto"))return t.map(s=>s.value)}},oS=fe([In,ny,xp,sr],kI),SM=fe([In,PY,rd,ay,iS,oS,Sp,rS,sr],(e,t,n,r,a,i,o,s,l)=>{if(t!=null){var c=jl(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:i,duplicateDomain:a,isCategorical:c,niceTicks:s,range:o,realScaleType:n,scale:r}}}),SG=(e,t,n,r,a,i,o,s,l)=>{if(!(t==null||r==null)){var c=jl(e,l),{type:d,ticks:f,tickCount:p}=t,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,h=d==="category"&&r.bandwidth?r.bandwidth()/m:0;h=l==="angleAxis"&&i!=null&&i.length>=2?ka(i[0]-i[1])*2*h:h;var v=f||a;if(v){var x=v.map((g,b)=>{var w=o?o.indexOf(g):g;return{index:b,coordinate:r(w)+h,value:g,offset:h}});return x.filter(g=>Rr(g.coordinate))}return c&&s?s.map((g,b)=>({coordinate:r(g)+h,value:g,index:b,offset:h})).filter(g=>Rr(g.coordinate)):r.ticks?r.ticks(p).map(g=>({coordinate:r(g)+h,value:g,offset:h})):r.domain().map((g,b)=>({coordinate:r(g)+h,value:o?o[g]:g,index:b,offset:h}))}},SI=fe([In,xp,rd,ay,rS,Sp,iS,oS,sr],SG),NG=(e,t,n,r,a,i,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var s=jl(e,o),{tickCount:l}=t,c=0;return c=o==="angleAxis"&&(r==null?void 0:r.length)>=2?ka(r[0]-r[1])*2*c:c,s&&i?i.map((d,f)=>({coordinate:n(d)+c,value:d,index:f,offset:c})):n.ticks?n.ticks(l).map(d=>({coordinate:n(d)+c,value:d,offset:c})):n.domain().map((d,f)=>({coordinate:n(d)+c,value:a?a[d]:d,index:f,offset:c}))}},NI=fe([In,xp,ay,Sp,iS,oS,sr],NG),jI=fe(gr,ay,(e,t)=>{if(!(e==null||t==null))return Ng(Ng({},e),{},{scale:t})}),jG=fe([gr,rd,eS,vI],tS);fe((e,t,n)=>zk(e,n),jG,(e,t)=>{if(!(e==null||t==null))return Ng(Ng({},e),{},{scale:t})});var CG=fe([In,I0,_0],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),CI=e=>e.options.defaultTooltipEventType,MI=e=>e.options.validateTooltipEventTypes;function AI(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function sS(e,t){var n=CI(e),r=MI(e);return AI(t,n,r)}function MG(e){return kt(t=>sS(t,e))}var EI=(e,t)=>{var n,r=Number(t);if(!(zo(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},AG=e=>e.tooltip.settings,el={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},EG={itemInteraction:{click:el,hover:el},axisInteraction:{click:el,hover:el},keyboardInteraction:el,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},TI=ri({name:"tooltip",initialState:EG,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:ar()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,a=uo(e).tooltipItemPayloads.indexOf(n);a>-1&&(e.tooltipItemPayloads[a]=r)},prepare:ar()},removeTooltipEntrySettings:{reducer(e,t){var n=uo(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:ar()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:TG,replaceTooltipEntrySettings:PG,removeTooltipEntrySettings:DG,setTooltipSettingsState:OG,setActiveMouseOverItemIndex:PI,mouseLeaveItem:IG,mouseLeaveChart:DI,setActiveClickItemIndex:_G,setMouseOverAxisIndex:OI,setMouseClickAxisIndex:LG,setSyncInteraction:Rx,setKeyboardInteraction:$x}=TI.actions,FG=TI.reducer;function NM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Tm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NM(Object(n),!0).forEach(function(r){RG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RG(e,t,n){return(t=$G(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $G(e){var t=BG(e,"string");return typeof t=="symbol"?t:t+""}function BG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zG(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function UG(e){return e.index!=null}var II=(e,t,n,r)=>{if(t==null)return el;var a=zG(e,t,n);if(a==null)return el;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(UG(a)){if(i)return Tm(Tm({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Tm(Tm({},el),{},{coordinate:a.coordinate})};function VG(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function WG(e,t){var n=VG(e),r=t[0],a=t[1];if(n===void 0)return!1;var i=Math.min(r,a),o=Math.max(r,a);return n>=i&&n<=o}function HG(e,t,n){if(n==null||t==null)return!0;var r=Xn(e,t);return r==null||!vl(n)?!0:WG(r,n)}var lS=(e,t,n,r)=>{var a=e==null?void 0:e.index;if(a==null)return null;var i=Number(a);if(!Rr(i))return a;var o=0,s=1/0;t.length>0&&(s=t.length-1);var l=Math.max(o,Math.min(i,s)),c=t[l];return c==null||HG(c,n,r)?String(l):null},_I=(e,t,n,r,a,i,o,s)=>{if(!(i==null||s==null)){var l=o[0],c=l==null?void 0:s(l.positions,i);if(c!=null)return c;var d=a==null?void 0:a[Number(i)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:d.coordinate}}}},LI=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(n==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&r!=null){var i=e.tooltipItemPayloads[0];return i!=null?[i]:[]}return e.tooltipItemPayloads.filter(o=>{var s;return((s=o.settings)===null||s===void 0?void 0:s.graphicalItemId)===a})},Np=e=>e.options.tooltipPayloadSearcher,ad=e=>e.tooltip;function jM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function CM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jM(Object(n),!0).forEach(function(r){qG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qG(e,t,n){return(t=KG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KG(e){var t=YG(e,"string");return typeof t=="symbol"?t:t+""}function YG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GG(e,t){return e??t}var FI=(e,t,n,r,a,i,o)=>{if(!(t==null||i==null)){var{chartData:s,computedData:l,dataStartIndex:c,dataEndIndex:d}=n,f=[];return e.reduce((p,m)=>{var h,{dataDefinedOnItem:v,settings:x}=m,g=GG(v,s),b=Array.isArray(g)?p3(g,c,d):g,w=(h=x==null?void 0:x.dataKey)!==null&&h!==void 0?h:r,S=x==null?void 0:x.nameKey,C;if(r&&Array.isArray(b)&&!Array.isArray(b[0])&&o==="axis"?C=aO(b,r,a):C=i(b,t,l,S),Array.isArray(C))C.forEach(M=>{var D=CM(CM({},x),{},{name:M.name,unit:M.unit,color:void 0,fill:void 0});p.push(Rj({tooltipEntrySettings:D,dataKey:M.dataKey,payload:M.payload,value:Xn(M.payload,M.dataKey),name:M.name}))});else{var N;p.push(Rj({tooltipEntrySettings:x,dataKey:w,payload:C,value:Xn(C,w),name:(N=Xn(C,S))!==null&&N!==void 0?N:x==null?void 0:x.name}))}return p},f)}},cS=fe([Yr,In,rI,Ik,Kr],gI),QG=fe([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),XG=fe([Kr,td],Uk),id=fe([QG,Yr,XG],Vk,{memoizeOptions:{resultEqualityCheck:ty}}),ZG=fe([id],e=>e.filter(Bk)),JG=fe([id],Wk,{memoizeOptions:{resultEqualityCheck:ty}}),od=fe([JG,Al],Hk),eQ=fe([ZG,Al,Yr],eI),uS=fe([od,Yr,id],Kk),RI=fe([Yr],Yk),tQ=fe([Yr],e=>e.allowDataOverflow),$I=fe([RI,tQ],D4),nQ=fe([id],e=>e.filter(Bk)),rQ=fe([eQ,nQ,vp,q4],lI),aQ=fe([rQ,Al,Kr,$I],cI),iQ=fe([id],oI),oQ=fe([od,Yr,iQ,ry,Kr],Xk,{memoizeOptions:{resultEqualityCheck:ey}}),sQ=fe([uI,Kr,td],nd),lQ=fe([sQ,Kr],pI),cQ=fe([dI,Kr,td],nd),uQ=fe([cQ,Kr],mI),dQ=fe([fI,Kr,td],nd),fQ=fe([dQ,Kr],hI),pQ=fe([lQ,fQ,uQ],jg),mQ=fe([Yr,RI,$I,aQ,oQ,pQ,In,Kr],Zk),jp=fe([Yr,In,od,uS,vp,Kr,mQ],Jk),hQ=fe([jp,Yr,cS],nS),gQ=fe([Yr,jp,hQ,Kr],aS),BI=e=>{var t=Kr(e),n=td(e),r=!1;return Sp(e,t,n,r)},zI=fe([Yr,BI],Z0),UI=fe([Yr,cS,gQ,zI],tS),yQ=fe([In,uS,Yr,Kr],wI),vQ=fe([In,uS,Yr,Kr],kI),bQ=(e,t,n,r,a,i,o,s)=>{if(t){var{type:l}=t,c=jl(e,s);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/d:0;return f=s==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?ka(a[0]-a[1])*2*f:f,c&&o?o.map((p,m)=>({coordinate:r(p)+f,value:p,index:m,offset:f})):r.domain().map((p,m)=>({coordinate:r(p)+f,value:i?i[p]:p,index:m,offset:f}))}}},Ts=fe([In,Yr,cS,UI,BI,yQ,vQ,Kr],bQ),dS=fe([CI,MI,AG],(e,t,n)=>AI(n.shared,e,t)),VI=e=>e.tooltip.settings.trigger,fS=e=>e.tooltip.settings.defaultIndex,Cp=fe([ad,dS,VI,fS],II),Vu=fe([Cp,od,kp,jp],lS),WI=fe([Ts,Vu],EI),HI=fe([Cp],e=>{if(e)return e.dataKey}),xQ=fe([Cp],e=>{if(e)return e.graphicalItemId}),qI=fe([ad,dS,VI,fS],LI),wQ=fe([js,Cs,In,ta,Ts,fS,qI,Np],_I),kQ=fe([Cp,wQ],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),SQ=fe([Cp],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),NQ=fe([qI,Vu,Al,kp,WI,Np,dS],FI),jQ=fe([NQ],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function MM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function AM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MM(Object(n),!0).forEach(function(r){CQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CQ(e,t,n){return(t=MQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MQ(e){var t=AQ(e,"string");return typeof t=="symbol"?t:t+""}function AQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EQ=()=>kt(Yr),TQ=()=>{var e=EQ(),t=kt(Ts),n=kt(UI);return mx(!e||!n?void 0:AM(AM({},e),{},{scale:n}),t)};function EM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Kc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EM(Object(n),!0).forEach(function(r){PQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PQ(e,t,n){return(t=DQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DQ(e){var t=OQ(e,"string");return typeof t=="symbol"?t:t+""}function OQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IQ=(e,t,n,r)=>{var a=t.find(i=>i&&i.index===n);if(a){if(e==="horizontal")return{x:a.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:a.coordinate}}return{x:0,y:0}},_Q=(e,t,n,r)=>{var a=t.find(c=>c&&c.index===n);if(a){if(e==="centric"){var i=a.coordinate,{radius:o}=r;return Kc(Kc(Kc({},r),Lr(r.cx,r.cy,o,i)),{},{angle:i,radius:o})}var s=a.coordinate,{angle:l}=r;return Kc(Kc(Kc({},r),Lr(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function LQ(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var KI=(e,t,n,r,a)=>{var i,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var s=0;s<o;s++){var l,c,d,f,p,m=s>0?(l=n[s-1])===null||l===void 0?void 0:l.coordinate:(c=n[o-1])===null||c===void 0?void 0:c.coordinate,h=(d=n[s])===null||d===void 0?void 0:d.coordinate,v=s>=o-1?(f=n[0])===null||f===void 0?void 0:f.coordinate:(p=n[s+1])===null||p===void 0?void 0:p.coordinate,x=void 0;if(!(m==null||h==null||v==null))if(ka(h-m)!==ka(v-h)){var g=[];if(ka(v-h)===ka(a[1]-a[0])){x=v;var b=h+a[1]-a[0];g[0]=Math.min(b,(b+m)/2),g[1]=Math.max(b,(b+m)/2)}else{x=m;var w=v+a[1]-a[0];g[0]=Math.min(h,(w+h)/2),g[1]=Math.max(h,(w+h)/2)}var S=[Math.min(h,(x+h)/2),Math.max(h,(x+h)/2)];if(e>S[0]&&e<=S[1]||e>=g[0]&&e<=g[1]){var C;return(C=n[s])===null||C===void 0?void 0:C.index}}else{var N=Math.min(m,v),M=Math.max(m,v);if(e>(N+h)/2&&e<=(M+h)/2){var D;return(D=n[s])===null||D===void 0?void 0:D.index}}}else if(t)for(var R=0;R<o;R++){var T=t[R];if(T!=null){var P=t[R+1],O=t[R-1];if(R===0&&P!=null&&e<=(T.coordinate+P.coordinate)/2||R===o-1&&O!=null&&e>(T.coordinate+O.coordinate)/2||R>0&&R<o-1&&O!=null&&P!=null&&e>(T.coordinate+O.coordinate)/2&&e<=(T.coordinate+P.coordinate)/2)return T.index}}return-1},FQ=()=>kt(Ik),pS=(e,t)=>t,YI=(e,t,n)=>n,mS=(e,t,n,r)=>r,RQ=fe(Ts,e=>S0(e,t=>t.coordinate)),hS=fe([ad,pS,YI,mS],II),gS=fe([hS,od,kp,jp],lS),$Q=(e,t,n)=>{if(t!=null){var r=ad(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},GI=fe([ad,pS,YI,mS],LI),Cg=fe([js,Cs,In,ta,Ts,mS,GI,Np],_I),BQ=fe([hS,Cg],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),QI=fe([Ts,gS],EI),zQ=fe([GI,gS,Al,kp,QI,Np,pS],FI),UQ=fe([hS,gS],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),VQ=(e,t,n,r,a,i,o)=>{if(!(!e||!n||!r||!a)&&LQ(e,o)){var s=gV(e,t),l=KI(s,i,a,n,r),c=IQ(t,a,l,e);return{activeIndex:String(l),activeCoordinate:c}}},WQ=(e,t,n,r,a,i,o)=>{if(!(!e||!r||!a||!i||!n)){var s=EH(e,n);if(s){var l=yV(s,t),c=KI(l,o,i,r,a),d=_Q(t,i,c,s);return{activeIndex:String(c),activeCoordinate:d}}}},HQ=(e,t,n,r,a,i,o,s)=>{if(!(!e||!t||!r||!a||!i))return t==="horizontal"||t==="vertical"?VQ(e,t,r,a,i,o,s):WQ(e,t,n,r,a,i,o)},qQ=fe(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),KQ=fe(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(ca)),n=Array.from(new Set(t));return n.sort((r,a)=>r-a)},{memoizeOptions:{resultEqualityCheck:CY}});function TM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function PM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TM(Object(n),!0).forEach(function(r){YQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YQ(e,t,n){return(t=GQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GQ(e){var t=QQ(e,"string");return typeof t=="symbol"?t:t+""}function QQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XQ={},ZQ={zIndexMap:Object.values(ca).reduce((e,t)=>PM(PM({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),XQ)},JQ=new Set(Object.values(ca));function eX(e){return JQ.has(e)}var XI=ri({name:"zIndex",initialState:ZQ,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:ar()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!eX(n)&&delete e.zIndexMap[n])},prepare:ar()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:a}=t.payload;e.zIndexMap[n]?a?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:a?void 0:r,panoramaElement:a?r:void 0}},prepare:ar()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:ar()}}}),{registerZIndexPortal:tX,unregisterZIndexPortal:nX,registerZIndexPortalElement:rX,unregisterZIndexPortalElement:aX}=XI.actions,iX=XI.reducer;function wo(e){var{zIndex:t,children:n}=e,r=WV(),a=r&&t!==void 0&&t!==0,i=ai(),o=Wn();y.useLayoutEffect(()=>a?(o(tX({zIndex:t})),()=>{o(nX({zIndex:t}))}):lp,[o,t,a]);var s=kt(l=>qQ(l,t,i));return a?s?Xu.createPortal(n,s):null:n}function Bx(){return Bx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bx.apply(null,arguments)}function DM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Pm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DM(Object(n),!0).forEach(function(r){oX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oX(e,t,n){return(t=sX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sX(e){var t=lX(e,"string");return typeof t=="symbol"?t:t+""}function lX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cX(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return y.isValidElement(t)?y.cloneElement(t,r):y.createElement(n,r)}function uX(e){var t,{coordinate:n,payload:r,index:a,offset:i,tooltipAxisBandSize:o,layout:s,cursor:l,tooltipEventType:c,chartName:d}=e,f=n,p=r,m=a;if(!l||!f||d!=="ScatterChart"&&c!=="axis")return null;var h,v,x;if(d==="ScatterChart")h=f,v=VW,x=ca.cursorLine;else if(d==="BarChart")h=WW(s,f,i,o),v=W3,x=ca.cursorRectangle;else if(s==="radial"&&oO(f)){var{cx:g,cy:b,radius:w,startAngle:S,endAngle:C}=q3(f);h={cx:g,cy:b,startAngle:S,endAngle:C,innerRadius:w,outerRadius:w},v=Y3,x=ca.cursorLine}else h={points:OH(s,f,i)},v=ok,x=ca.cursorLine;var N=typeof l=="object"&&"className"in l?l.className:void 0,M=Pm(Pm(Pm(Pm({stroke:"#ccc",pointerEvents:"none"},i),h),_u(l)),{},{payload:p,payloadIndex:m,className:En("recharts-tooltip-cursor",N)});return y.createElement(wo,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:x},y.createElement(cX,{cursor:l,cursorComp:v,cursorProps:M}))}function dX(e){var t=TQ(),n=M3(),r=fp(),a=FQ();return t==null||n==null||r==null||a==null?null:y.createElement(uX,Bx({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:a}))}var ZI=y.createContext(null),fX=()=>y.useContext(ZI),JI={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function i(l,c,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||l,p),h=n?n+c:c;return l._events[h]?l._events[h].fn?l._events[h]=[l._events[h],m]:l._events[h].push(m):(l._events[h]=m,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],c,d;if(this._eventsCount===0)return l;for(d in c=this._events)t.call(c,d)&&l.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(c)):l},s.prototype.listeners=function(l){var c=n?n+l:l,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,p=d.length,m=new Array(p);f<p;f++)m[f]=d[f].fn;return m},s.prototype.listenerCount=function(l){var c=n?n+l:l,d=this._events[c];return d?d.fn?1:d.length:0},s.prototype.emit=function(l,c,d,f,p,m){var h=n?n+l:l;if(!this._events[h])return!1;var v=this._events[h],x=arguments.length,g,b;if(v.fn){switch(v.once&&this.removeListener(l,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,d),!0;case 4:return v.fn.call(v.context,c,d,f),!0;case 5:return v.fn.call(v.context,c,d,f,p),!0;case 6:return v.fn.call(v.context,c,d,f,p,m),!0}for(b=1,g=new Array(x-1);b<x;b++)g[b-1]=arguments[b];v.fn.apply(v.context,g)}else{var w=v.length,S;for(b=0;b<w;b++)switch(v[b].once&&this.removeListener(l,v[b].fn,void 0,!0),x){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,c);break;case 3:v[b].fn.call(v[b].context,c,d);break;case 4:v[b].fn.call(v[b].context,c,d,f);break;default:if(!g)for(S=1,g=new Array(x-1);S<x;S++)g[S-1]=arguments[S];v[b].fn.apply(v[b].context,g)}}return!0},s.prototype.on=function(l,c,d){return i(this,l,c,d,!1)},s.prototype.once=function(l,c,d){return i(this,l,c,d,!0)},s.prototype.removeListener=function(l,c,d,f){var p=n?n+l:l;if(!this._events[p])return this;if(!c)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===c&&(!f||m.once)&&(!d||m.context===d)&&o(this,p);else{for(var h=0,v=[],x=m.length;h<x;h++)(m[h].fn!==c||f&&!m[h].once||d&&m[h].context!==d)&&v.push(m[h]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},s.prototype.removeAllListeners=function(l){var c;return l?(c=n?n+l:l,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(JI);var pX=JI.exports;const mX=bo(pX);var Wf=new mX,zx="recharts.syncEvent.tooltip",OM="recharts.syncEvent.brush";function e_(e,t){if(t){var n=Number.parseInt(t,10);if(!zo(n))return e==null?void 0:e[n]}}var hX={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},t_=ri({name:"options",initialState:hX,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),gX=t_.reducer,{createEventEmitter:yX}=t_.actions;function vX(e){return e.tooltip.syncInteraction}var bX={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},n_=ri({name:"chartData",initialState:bX,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:IM,setDataStartEndIndexes:xX,setComputedData:age}=n_.actions,wX=n_.reducer,kX=["x","y"];function _M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Yc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_M(Object(n),!0).forEach(function(r){SX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_M(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SX(e,t,n){return(t=NX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NX(e){var t=jX(e,"string");return typeof t=="symbol"?t:t+""}function jX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CX(e,t){if(e==null)return{};var n,r,a=MX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function MX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function AX(){var e=kt(_k),t=kt(Lk),n=Wn(),r=kt(K4),a=kt(Ts),i=fp(),o=R0(),s=kt(l=>l.rootProps.className);y.useEffect(()=>{if(e==null)return lp;var l=(c,d,f)=>{if(t!==f&&e===c){if(r==="index"){var p;if(o&&d!==null&&d!==void 0&&(p=d.payload)!==null&&p!==void 0&&p.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:h,y:v}=m,x=CX(m,kX),{x:g,y:b,width:w,height:S}=d.payload.sourceViewBox,C=Yc(Yc({},x),{},{x:o.x+(w?(h-g)/w:0)*o.width,y:o.y+(S?(v-b)/S:0)*o.height});n(Yc(Yc({},d),{},{payload:Yc(Yc({},d.payload),{},{coordinate:C})}))}else n(d);return}if(a!=null){var N;if(typeof r=="function"){var M={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},D=r(a,M);N=a[D]}else r==="value"&&(N=a.find(ue=>String(ue.value)===d.payload.label));var{coordinate:R}=d.payload;if(N==null||d.payload.active===!1||R==null||o==null){n(Rx({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:T,y:P}=R,O=Math.min(T,o.x+o.width),W=Math.min(P,o.y+o.height),Q={x:i==="horizontal"?N.coordinate:O,y:i==="horizontal"?W:N.coordinate},ee=Rx({active:d.payload.active,coordinate:Q,dataKey:d.payload.dataKey,index:String(N.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});n(ee)}}};return Wf.on(zx,l),()=>{Wf.off(zx,l)}},[s,n,t,e,r,a,i,o])}function EX(){var e=kt(_k),t=kt(Lk),n=Wn();y.useEffect(()=>{if(e==null)return lp;var r=(a,i,o)=>{t!==o&&e===a&&n(xX(i))};return Wf.on(OM,r),()=>{Wf.off(OM,r)}},[n,t,e])}function TX(){var e=Wn();y.useEffect(()=>{e(yX())},[e]),AX(),EX()}function PX(e,t,n,r,a,i){var o=kt(m=>$Q(m,e,t)),s=kt(Lk),l=kt(_k),c=kt(K4),d=kt(vX),f=d==null?void 0:d.active,p=R0();y.useEffect(()=>{if(!f&&l!=null&&s!=null){var m=Rx({active:i,coordinate:n,dataKey:o,index:a,label:typeof r=="number"?String(r):r,sourceViewBox:p,graphicalItemId:void 0});Wf.emit(zx,l,m,s)}},[f,n,o,a,r,s,l,c,i,p])}function LM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function FM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LM(Object(n),!0).forEach(function(r){DX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DX(e,t,n){return(t=OX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OX(e){var t=IX(e,"string");return typeof t=="symbol"?t:t+""}function IX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _X(e){return e.dataKey}function LX(e,t){return y.isValidElement(e)?y.cloneElement(e,t):typeof e=="function"?y.createElement(e,t):y.createElement(kW,t)}var RM=[],FX={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function jc(e){var t,n,r=Hr(e,FX),{active:a,allowEscapeViewBox:i,animationDuration:o,animationEasing:s,content:l,filterNull:c,isAnimationActive:d,offset:f,payloadUniqBy:p,position:m,reverseDirection:h,useTranslate3d:v,wrapperStyle:x,cursor:g,shared:b,trigger:w,defaultIndex:S,portal:C,axisId:N}=r,M=Wn(),D=typeof S=="number"?String(S):S;y.useEffect(()=>{M(OG({shared:b,trigger:w,axisId:N,active:a,defaultIndex:D}))},[M,b,w,N,a,D]);var R=R0(),T=$3(),P=MG(b),{activeIndex:O,isActive:W}=(t=kt(Y=>UQ(Y,P,w,D)))!==null&&t!==void 0?t:{},Q=kt(Y=>zQ(Y,P,w,D)),ee=kt(Y=>QI(Y,P,w,D)),ue=kt(Y=>BQ(Y,P,w,D)),z=Q,B=fX(),ie=(n=a??W)!==null&&n!==void 0?n:!1,[k,I]=FO([z,ie]),E=P==="axis"?ee:void 0;PX(P,w,ue,E,O,ie);var j=C??B;if(j==null||R==null||P==null)return null;var L=z??RM;ie||(L=RM),c&&L.length&&(L=jO(L.filter(Y=>Y.value!=null&&(Y.hide!==!0||r.includeHidden)),p,_X));var G=L.length>0,Z=y.createElement(EW,{allowEscapeViewBox:i,animationDuration:o,animationEasing:s,isAnimationActive:d,active:ie,coordinate:ue,hasPayload:G,offset:f,position:m,reverseDirection:h,useTranslate3d:v,viewBox:R,wrapperStyle:x,lastBoundingBox:k,innerRef:I,hasPortalFromProps:!!C},LX(l,FM(FM({},r),{},{payload:L,label:E,active:ie,activeIndex:O,coordinate:ue,accessibilityLayer:T})));return y.createElement(y.Fragment,null,Xu.createPortal(Z,j),ie&&y.createElement(dX,{cursor:g,tooltipEventType:P,coordinate:ue,payload:L,index:O}))}var Wu=e=>null;Wu.displayName="Cell";function RX(e,t,n){return(t=$X(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $X(e){var t=BX(e,"string");return typeof t=="symbol"?t:t+""}function BX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class zX{constructor(t){RX(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function $M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function UX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$M(Object(n),!0).forEach(function(r){VX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$M(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VX(e,t,n){return(t=WX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WX(e){var t=HX(e,"string");return typeof t=="symbol"?t:t+""}function HX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qX={cacheSize:2e3,enableCache:!0},r_=UX({},qX),BM=new zX(r_.cacheSize),KX={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},zM="recharts_measurement_span";function YX(e,t){var n=t.fontSize||"",r=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(s)}var UM=(e,t)=>{try{var n=document.getElementById(zM);n||(n=document.createElement("span"),n.setAttribute("id",zM),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,KX,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},ef=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||V0.isSsr)return{width:0,height:0};if(!r_.enableCache)return UM(e,t);var n=YX(e,t),r=BM.get(n);if(r)return r;var a=UM(e,t);return BM.set(n,a),a},a_;function GX(e,t,n){return(t=QX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QX(e){var t=XX(e,"string");return typeof t=="symbol"?t:t+""}function XX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,WM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ZX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,JX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,eZ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},tZ=["cm","mm","pt","pc","in","Q","px"];function nZ(e){return tZ.includes(e)}var fu="NaN";function rZ(e,t){return e*eZ[t]}class la{static parse(t){var n,[,r,a]=(n=JX.exec(t))!==null&&n!==void 0?n:[];return r==null?la.NaN:new la(parseFloat(r),a??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,zo(t)&&(this.unit=""),n!==""&&!ZX.test(n)&&(this.num=NaN,this.unit=""),nZ(n)&&(this.num=rZ(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new la(NaN,""):new la(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new la(NaN,""):new la(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new la(NaN,""):new la(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new la(NaN,""):new la(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return zo(this.num)}}a_=la;GX(la,"NaN",new a_(NaN,""));function i_(e){if(e==null||e.includes(fu))return fu;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,a,i]=(n=VM.exec(t))!==null&&n!==void 0?n:[],o=la.parse(r??""),s=la.parse(i??""),l=a==="*"?o.multiply(s):o.divide(s);if(l.isNaN())return fu;t=t.replace(VM,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,d,f,p]=(c=WM.exec(t))!==null&&c!==void 0?c:[],m=la.parse(d??""),h=la.parse(p??""),v=f==="+"?m.add(h):m.subtract(h);if(v.isNaN())return fu;t=t.replace(WM,v.toString())}return t}var HM=/\(([^()]*)\)/;function aZ(e){for(var t=e,n;(n=HM.exec(t))!=null;){var[,r]=n;t=t.replace(HM,i_(r))}return t}function iZ(e){var t=e.replace(/\s+/g,"");return t=aZ(t),t=i_(t),t}function oZ(e){try{return iZ(e)}catch{return fu}}function xv(e){var t=oZ(e.slice(5,-1));return t===fu?"":t}var sZ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],lZ=["dx","dy","angle","className","breakAll"];function Ux(){return Ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ux.apply(null,arguments)}function qM(e,t){if(e==null)return{};var n,r,a=cZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function cZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var o_=/[ \f\n\r\t\v\u2028\u2029]+/,s_=e=>{var{children:t,breakAll:n,style:r}=e;try{var a=[];Wr(t)||(n?a=t.toString().split(""):a=t.toString().split(o_));var i=a.map(s=>({word:s,width:ef(s,r).width})),o=n?0:ef("",r).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}};function uZ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var l_=(e,t,n,r)=>e.reduce((a,i)=>{var{word:o,width:s}=i,l=a[a.length-1];if(l&&s!=null&&(t==null||r||l.width+s+n<Number(t)))l.words.push(o),l.width+=s+n;else{var c={words:[o],width:s};a.push(c)}return a},[]),c_=e=>e.reduce((t,n)=>t.width>n.width?t:n),dZ="",KM=(e,t,n,r,a,i,o,s)=>{var l=e.slice(0,t),c=s_({breakAll:n,style:r,children:l+dZ});if(!c)return[!1,[]];var d=l_(c.wordsWithComputedWidth,i,o,s),f=d.length>a||c_(d).width>Number(i);return[f,d]},fZ=(e,t,n,r,a)=>{var{maxLines:i,children:o,style:s,breakAll:l}=e,c=St(i),d=String(o),f=l_(t,r,n,a);if(!c||a)return f;var p=f.length>i||c_(f).width>Number(r);if(!p)return f;for(var m=0,h=d.length-1,v=0,x;m<=h&&v<=d.length-1;){var g=Math.floor((m+h)/2),b=g-1,[w,S]=KM(d,b,l,s,i,r,n,a),[C]=KM(d,g,l,s,i,r,n,a);if(!w&&!C&&(m=g+1),w&&C&&(h=g-1),!w&&C){x=S;break}v++}return x||f},YM=e=>{var t=Wr(e)?[]:e.toString().split(o_);return[{words:t,width:void 0}]},pZ=e=>{var{width:t,scaleToFit:n,children:r,style:a,breakAll:i,maxLines:o}=e;if((t||n)&&!V0.isSsr){var s,l,c=s_({breakAll:i,children:r,style:a});if(c){var{wordsWithComputedWidth:d,spaceWidth:f}=c;s=d,l=f}else return YM(r);return fZ({breakAll:i,children:r,maxLines:o,style:a},s,l,t,!!n)}return YM(r)},u_="#808080",mZ={angle:0,breakAll:!1,capHeight:"0.71em",fill:u_,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},sy=y.forwardRef((e,t)=>{var n=Hr(e,mZ),{x:r,y:a,lineHeight:i,capHeight:o,fill:s,scaleToFit:l,textAnchor:c,verticalAnchor:d}=n,f=qM(n,sZ),p=y.useMemo(()=>pZ({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:m,dy:h,angle:v,className:x,breakAll:g}=f,b=qM(f,lZ);if(!Uo(r)||!Uo(a)||p.length===0)return null;var w=Number(r)+(St(m)?m:0),S=Number(a)+(St(h)?h:0);if(!Rr(w)||!Rr(S))return null;var C;switch(d){case"start":C=xv("calc(".concat(o,")"));break;case"middle":C=xv("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:C=xv("calc(".concat(p.length-1," * -").concat(i,")"));break}var N=[];if(l){var M=p[0].width,{width:D}=f;N.push("scale(".concat(St(D)&&St(M)?D/M:1,")"))}return v&&N.push("rotate(".concat(v,", ").concat(w,", ").concat(S,")")),N.length&&(b.transform=N.join(" ")),y.createElement("text",Ux({},Fa(b),{ref:t,x:w,y:S,className:En("recharts-text",x),textAnchor:c,fill:s.includes("url")?u_:s}),p.map((R,T)=>{var P=R.words.join(g?"":" ");return y.createElement("tspan",{x:w,dy:T===0?C:i,key:"".concat(P,"-").concat(T)},P)}))});sy.displayName="Text";var hZ=["labelRef"],gZ=["content"];function GM(e,t){if(e==null)return{};var n,r,a=yZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function yZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function QM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Mr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QM(Object(n),!0).forEach(function(r){vZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vZ(e,t,n){return(t=bZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bZ(e){var t=xZ(e,"string");return typeof t=="symbol"?t:t+""}function xZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ts(){return ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ts.apply(null,arguments)}var d_=y.createContext(null),wZ=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:a,width:i,height:o,children:s}=e,l=y.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:a,width:i,height:o}),[t,n,r,a,i,o]);return y.createElement(d_.Provider,{value:l},s)},f_=()=>{var e=y.useContext(d_),t=R0();return e||C3(t)},kZ=y.createContext(null),SZ=()=>{var e=y.useContext(kZ),t=kt(Z4);return e||t},NZ=e=>{var{value:t,formatter:n}=e,r=Wr(e.children)?t:e.children;return typeof n=="function"?n(r):r},yS=e=>e!=null&&typeof e=="function",jZ=(e,t)=>{var n=ka(t-e),r=Math.min(Math.abs(t-e),360);return n*r},CZ=(e,t,n,r,a)=>{var{offset:i,className:o}=e,{cx:s,cy:l,innerRadius:c,outerRadius:d,startAngle:f,endAngle:p,clockWise:m}=a,h=(c+d)/2,v=jZ(f,p),x=v>=0?1:-1,g,b;switch(t){case"insideStart":g=f+x*i,b=m;break;case"insideEnd":g=p-x*i,b=!m;break;case"end":g=p+x*i,b=m;break;default:throw new Error("Unsupported position ".concat(t))}b=v<=0?b:!b;var w=Lr(s,l,h,g),S=Lr(s,l,h,g+(b?1:-1)*359),C="M".concat(w.x,",").concat(w.y,`
    A`).concat(h,",").concat(h,",0,1,").concat(b?0:1,`,
    `).concat(S.x,",").concat(S.y),N=Wr(e.id)?Pf("recharts-radial-line-"):e.id;return y.createElement("text",ts({},r,{dominantBaseline:"central",className:En("recharts-radial-bar-label",o)}),y.createElement("defs",null,y.createElement("path",{id:N,d:C})),y.createElement("textPath",{xlinkHref:"#".concat(N)},n))},MZ=(e,t,n)=>{var{cx:r,cy:a,innerRadius:i,outerRadius:o,startAngle:s,endAngle:l}=e,c=(s+l)/2;if(n==="outside"){var{x:d,y:f}=Lr(r,a,o+t,c);return{x:d,y:f,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var p=(i+o)/2,{x:m,y:h}=Lr(r,a,p,c);return{x:m,y:h,textAnchor:"middle",verticalAnchor:"middle"}},Vx=e=>"cx"in e&&St(e.cx),AZ=(e,t)=>{var{parentViewBox:n,offset:r,position:a}=e,i;n!=null&&!Vx(n)&&(i=n);var{x:o,y:s,upperWidth:l,lowerWidth:c,height:d}=t,f=o,p=o+(l-c)/2,m=(f+p)/2,h=(l+c)/2,v=f+l/2,x=d>=0?1:-1,g=x*r,b=x>0?"end":"start",w=x>0?"start":"end",S=l>=0?1:-1,C=S*r,N=S>0?"end":"start",M=S>0?"start":"end";if(a==="top"){var D={x:f+l/2,y:s-g,textAnchor:"middle",verticalAnchor:b};return Mr(Mr({},D),i?{height:Math.max(s-i.y,0),width:l}:{})}if(a==="bottom"){var R={x:p+c/2,y:s+d+g,textAnchor:"middle",verticalAnchor:w};return Mr(Mr({},R),i?{height:Math.max(i.y+i.height-(s+d),0),width:c}:{})}if(a==="left"){var T={x:m-C,y:s+d/2,textAnchor:N,verticalAnchor:"middle"};return Mr(Mr({},T),i?{width:Math.max(T.x-i.x,0),height:d}:{})}if(a==="right"){var P={x:m+h+C,y:s+d/2,textAnchor:M,verticalAnchor:"middle"};return Mr(Mr({},P),i?{width:Math.max(i.x+i.width-P.x,0),height:d}:{})}var O=i?{width:h,height:d}:{};return a==="insideLeft"?Mr({x:m+C,y:s+d/2,textAnchor:M,verticalAnchor:"middle"},O):a==="insideRight"?Mr({x:m+h-C,y:s+d/2,textAnchor:N,verticalAnchor:"middle"},O):a==="insideTop"?Mr({x:f+l/2,y:s+g,textAnchor:"middle",verticalAnchor:w},O):a==="insideBottom"?Mr({x:p+c/2,y:s+d-g,textAnchor:"middle",verticalAnchor:b},O):a==="insideTopLeft"?Mr({x:f+C,y:s+g,textAnchor:M,verticalAnchor:w},O):a==="insideTopRight"?Mr({x:f+l-C,y:s+g,textAnchor:N,verticalAnchor:w},O):a==="insideBottomLeft"?Mr({x:p+C,y:s+d-g,textAnchor:M,verticalAnchor:b},O):a==="insideBottomRight"?Mr({x:p+c-C,y:s+d-g,textAnchor:N,verticalAnchor:b},O):a&&typeof a=="object"&&(St(a.x)||ys(a.x))&&(St(a.y)||ys(a.y))?Mr({x:o+Vi(a.x,h),y:s+Vi(a.y,d),textAnchor:"end",verticalAnchor:"end"},O):Mr({x:v,y:s+d/2,textAnchor:"middle",verticalAnchor:"middle"},O)},EZ={angle:0,offset:5,zIndex:ca.label,position:"middle",textBreakAll:!1};function Qs(e){var t=Hr(e,EZ),{viewBox:n,position:r,value:a,children:i,content:o,className:s="",textBreakAll:l,labelRef:c}=t,d=SZ(),f=f_(),p=r==="center"?f:d??f,m,h,v;if(n==null?m=p:Vx(n)?m=n:m=C3(n),!m||Wr(a)&&Wr(i)&&!y.isValidElement(o)&&typeof o!="function")return null;var x=Mr(Mr({},t),{},{viewBox:m});if(y.isValidElement(o)){var{labelRef:g}=x,b=GM(x,hZ);return y.cloneElement(o,b)}if(typeof o=="function"){var{content:w}=x,S=GM(x,gZ);if(h=y.createElement(o,S),y.isValidElement(h))return h}else h=NZ(t);var C=Fa(t);if(Vx(m)){if(r==="insideStart"||r==="insideEnd"||r==="end")return CZ(t,r,h,C,m);v=MZ(m,t.offset,t.position)}else v=AZ(t,m);return y.createElement(wo,{zIndex:t.zIndex},y.createElement(sy,ts({ref:c,className:En("recharts-label",s)},C,v,{textAnchor:uZ(C.textAnchor)?C.textAnchor:v.textAnchor,breakAll:l}),h))}Qs.displayName="Label";var TZ=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?y.createElement(Qs,ts({key:"label-implicit"},r)):Uo(e)?y.createElement(Qs,ts({key:"label-implicit",value:e},r)):y.isValidElement(e)?e.type===Qs?y.cloneElement(e,Mr({key:"label-implicit"},r)):y.createElement(Qs,ts({key:"label-implicit",content:e},r)):yS(e)?y.createElement(Qs,ts({key:"label-implicit",content:e},r)):e&&typeof e=="object"?y.createElement(Qs,ts({},e,{key:"label-implicit"},r)):null};function PZ(e){var{label:t,labelRef:n}=e,r=f_();return TZ(t,r,n)||null}var p_={},m_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(m_);var h_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(h_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m_,n=h_,r=x0;function a(i){if(r.isArrayLike(i))return t.last(n.toArray(i))}e.last=a})(p_);var DZ=p_.last;const OZ=bo(DZ);var IZ=["valueAccessor"],_Z=["dataKey","clockWise","id","textBreakAll","zIndex"];function Mg(){return Mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mg.apply(null,arguments)}function XM(e,t){if(e==null)return{};var n,r,a=LZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function LZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var FZ=e=>Array.isArray(e.value)?OZ(e.value):e.value,g_=y.createContext(void 0),RZ=g_.Provider,y_=y.createContext(void 0),$Z=y_.Provider;function BZ(){return y.useContext(g_)}function zZ(){return y.useContext(y_)}function oh(e){var{valueAccessor:t=FZ}=e,n=XM(e,IZ),{dataKey:r,clockWise:a,id:i,textBreakAll:o,zIndex:s}=n,l=XM(n,_Z),c=BZ(),d=zZ(),f=c||d;return!f||!f.length?null:y.createElement(wo,{zIndex:s??ca.label},y.createElement(ei,{className:"recharts-label-list"},f.map((p,m)=>{var h,v=Wr(r)?t(p,m):Xn(p&&p.payload,r),x=Wr(i)?{}:{id:"".concat(i,"-").concat(m)};return y.createElement(Qs,Mg({key:"label-".concat(m)},Fa(p),l,x,{fill:(h=n.fill)!==null&&h!==void 0?h:p.fill,parentViewBox:p.parentViewBox,value:v,textBreakAll:o,viewBox:p.viewBox,index:m,zIndex:0}))})))}oh.displayName="LabelList";function v_(e){var{label:t}=e;return t?t===!0?y.createElement(oh,{key:"labelList-implicit"}):y.isValidElement(t)||yS(t)?y.createElement(oh,{key:"labelList-implicit",content:t}):typeof t=="object"?y.createElement(oh,Mg({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Wx(){return Wx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wx.apply(null,arguments)}var b_=e=>{var{cx:t,cy:n,r,className:a}=e,i=En("recharts-dot",a);return St(t)&&St(n)&&St(r)?y.createElement("circle",Wx({},qi(e),L1(e),{className:i,cx:t,cy:n,r})):null},x_=e=>e.graphicalItems.polarItems,UZ=fe([sr,bp],Uk),ly=fe([x_,gr,UZ],Vk),VZ=fe([ly],Wk),cy=fe([VZ,Tk],Hk),WZ=fe([cy,gr,ly],Kk);fe([cy,gr,ly],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(a=>{var i,o=Xn(r,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Xn(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var ZM=()=>{},HZ=fe([cy,gr,ly,ry,sr],Xk),qZ=fe([gr,Gk,Qk,ZM,HZ,ZM,In,sr],Zk),w_=fe([gr,In,cy,WZ,vp,sr,qZ],Jk),KZ=fe([w_,gr,rd],nS);fe([gr,w_,KZ,sr],aS);var YZ={radiusAxis:{},angleAxis:{}},k_=ri({name:"polarAxis",initialState:YZ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:ige,removeRadiusAxis:oge,addAngleAxis:sge,removeAngleAxis:lge}=k_.actions,GZ=k_.reducer;function JM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function eA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JM(Object(n),!0).forEach(function(r){QZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QZ(e,t,n){return(t=XZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XZ(e){var t=ZZ(e,"string");return typeof t=="symbol"?t:t+""}function ZZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JZ=(e,t)=>t,vS=fe([x_,JZ],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),eJ=[],bS=(e,t,n)=>(n==null?void 0:n.length)===0?eJ:n,S_=fe([Tk,vS,bS],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=r,(!a||!a.length)&&n!=null&&(a=n.map(i=>eA(eA({},t.presentationProps),i.props))),a!=null)return a}}),tJ=fe([S_,vS,bS],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,a)=>{var i,o=Xn(r,t.nameKey,t.name),s;return n!=null&&(i=n[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?s=n[a].props.fill:typeof r=="object"&&r!=null&&"fill"in r?s=r.fill:s=t.fill,{value:O0(o,t.dataKey),color:s,payload:r,type:t.legendType}})}),nJ=fe([S_,vS,bS,ta],(e,t,n,r)=>{if(!(t==null||e==null))return hee({offset:r,pieSettings:t,displayedData:e,cells:n})}),N_={exports:{}},$n={};/** @license React v17.0.2
* react-is.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var uy=60103,dy=60106,Mp=60107,Ap=60108,Ep=60114,Tp=60109,Pp=60110,Dp=60112,Op=60113,xS=60120,Ip=60115,_p=60116,j_=60121,C_=60122,M_=60117,A_=60129,E_=60131;if(typeof Symbol=="function"&&Symbol.for){var ia=Symbol.for;uy=ia("react.element"),dy=ia("react.portal"),Mp=ia("react.fragment"),Ap=ia("react.strict_mode"),Ep=ia("react.profiler"),Tp=ia("react.provider"),Pp=ia("react.context"),Dp=ia("react.forward_ref"),Op=ia("react.suspense"),xS=ia("react.suspense_list"),Ip=ia("react.memo"),_p=ia("react.lazy"),j_=ia("react.block"),C_=ia("react.server.block"),M_=ia("react.fundamental"),A_=ia("react.debug_trace_mode"),E_=ia("react.legacy_hidden")}function ko(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case uy:switch(e=e.type,e){case Mp:case Ep:case Ap:case Op:case xS:return e;default:switch(e=e&&e.$$typeof,e){case Pp:case Dp:case _p:case Ip:case Tp:return e;default:return t}}case dy:return t}}}var rJ=Tp,aJ=uy,iJ=Dp,oJ=Mp,sJ=_p,lJ=Ip,cJ=dy,uJ=Ep,dJ=Ap,fJ=Op;$n.ContextConsumer=Pp;$n.ContextProvider=rJ;$n.Element=aJ;$n.ForwardRef=iJ;$n.Fragment=oJ;$n.Lazy=sJ;$n.Memo=lJ;$n.Portal=cJ;$n.Profiler=uJ;$n.StrictMode=dJ;$n.Suspense=fJ;$n.isAsyncMode=function(){return!1};$n.isConcurrentMode=function(){return!1};$n.isContextConsumer=function(e){return ko(e)===Pp};$n.isContextProvider=function(e){return ko(e)===Tp};$n.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===uy};$n.isForwardRef=function(e){return ko(e)===Dp};$n.isFragment=function(e){return ko(e)===Mp};$n.isLazy=function(e){return ko(e)===_p};$n.isMemo=function(e){return ko(e)===Ip};$n.isPortal=function(e){return ko(e)===dy};$n.isProfiler=function(e){return ko(e)===Ep};$n.isStrictMode=function(e){return ko(e)===Ap};$n.isSuspense=function(e){return ko(e)===Op};$n.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Mp||e===Ep||e===A_||e===Ap||e===Op||e===xS||e===E_||typeof e=="object"&&e!==null&&(e.$$typeof===_p||e.$$typeof===Ip||e.$$typeof===Tp||e.$$typeof===Pp||e.$$typeof===Dp||e.$$typeof===M_||e.$$typeof===j_||e[0]===C_)};$n.typeOf=ko;N_.exports=$n;var pJ=N_.exports,tA=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",nA=null,wv=null,T_=e=>{if(e===nA&&Array.isArray(wv))return wv;var t=[];return y.Children.forEach(e,n=>{Wr(n)||(pJ.isFragment(n)?t=t.concat(T_(n.props.children)):t.push(n))}),wv=t,nA=e,t};function P_(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(a=>tA(a)):r=[tA(t)],T_(e).forEach(a=>{var i=bc(a,"type.displayName")||bc(a,"type.name");i&&r.indexOf(i)!==-1&&n.push(a)}),n}var D_=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,O_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!((r=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&r.writable)?!1:n.toString()===`[object ${i}]`}let a=n;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(n)===a}e.isPlainObject=t})(O_);var mJ=O_.isPlainObject;const hJ=bo(mJ);var rA,aA,iA,oA,sA;function lA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lA(Object(n),!0).forEach(function(r){gJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gJ(e,t,n){return(t=yJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yJ(e){var t=vJ(e,"string");return typeof t=="symbol"?t:t+""}function vJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ag(){return Ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ag.apply(null,arguments)}function Pd(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var uA=(e,t,n,r,a)=>{var i=n-r,o;return o=xr(rA||(rA=Pd(["M ",",",""])),e,t),o+=xr(aA||(aA=Pd(["L ",",",""])),e+n,t),o+=xr(iA||(iA=Pd(["L ",",",""])),e+n-i/2,t+a),o+=xr(oA||(oA=Pd(["L ",",",""])),e+n-i/2-r,t+a),o+=xr(sA||(sA=Pd(["L ",","," Z"])),e,t),o},bJ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xJ=e=>{var t=Hr(e,bJ),{x:n,y:r,upperWidth:a,lowerWidth:i,height:o,className:s}=t,{animationEasing:l,animationDuration:c,animationBegin:d,isUpdateAnimationActive:f}=t,p=y.useRef(null),[m,h]=y.useState(-1),v=y.useRef(a),x=y.useRef(i),g=y.useRef(o),b=y.useRef(n),w=y.useRef(r),S=H0(e,"trapezoid-");if(y.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var Q=p.current.getTotalLength();Q&&h(Q)}catch{}},[]),n!==+n||r!==+r||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var C=En("recharts-trapezoid",s);if(!f)return y.createElement("g",null,y.createElement("path",Ag({},Fa(t),{className:C,d:uA(n,r,a,i,o)})));var N=v.current,M=x.current,D=g.current,R=b.current,T=w.current,P="0px ".concat(m===-1?1:m,"px"),O="".concat(m,"px 0px"),W=B3(["strokeDasharray"],c,l);return y.createElement(W0,{animationId:S,key:S,canBegin:m>0,duration:c,easing:l,isActive:f,begin:d},Q=>{var ee=wa(N,a,Q),ue=wa(M,i,Q),z=wa(D,o,Q),B=wa(R,n,Q),ie=wa(T,r,Q);p.current&&(v.current=ee,x.current=ue,g.current=z,b.current=B,w.current=ie);var k=Q>0?{transition:W,strokeDasharray:O}:{strokeDasharray:P};return y.createElement("path",Ag({},Fa(t),{className:C,d:uA(B,ie,ee,ue,z),ref:p,style:cA(cA({},k),t.style)}))})},wJ=["option","shapeType","activeClassName"];function kJ(e,t){if(e==null)return{};var n,r,a=SJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function SJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function dA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Eg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dA(Object(n),!0).forEach(function(r){NJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NJ(e,t,n){return(t=jJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jJ(e){var t=CJ(e,"string");return typeof t=="symbol"?t:t+""}function CJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MJ(e,t){return Eg(Eg({},t),e)}function AJ(e,t){return e==="symbols"}function fA(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return y.createElement(W3,n);case"trapezoid":return y.createElement(xJ,n);case"sector":return y.createElement(Y3,n);case"symbols":if(AJ(t))return y.createElement(_1,n);break;case"curve":return y.createElement(ok,n);default:return null}}function EJ(e){return y.isValidElement(e)?e.props:e}function I_(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,a=kJ(e,wJ),i;if(y.isValidElement(t))i=y.cloneElement(t,Eg(Eg({},a),EJ(t)));else if(typeof t=="function")i=t(a,a.index);else if(hJ(t)&&typeof t!="boolean"){var o=MJ(t,a);i=y.createElement(fA,{shapeType:n,elementProps:o})}else{var s=a;i=y.createElement(fA,{shapeType:n,elementProps:s})}return a.isActive?y.createElement(ei,{className:r},i):i}var TJ=(e,t,n)=>{var r=Wn();return(a,i)=>o=>{e==null||e(a,i,o),r(PI({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}},PJ=e=>{var t=Wn();return(n,r)=>a=>{e==null||e(n,r,a),t(IG())}},DJ=(e,t,n)=>{var r=Wn();return(a,i)=>o=>{e==null||e(a,i,o),r(_G({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}};function __(e){var{tooltipEntrySettings:t}=e,n=Wn(),r=ai(),a=y.useRef(null);return y.useLayoutEffect(()=>{r||(a.current===null?n(TG(t)):a.current!==t&&n(PG({prev:a.current,next:t})),a.current=t)},[t,n,r]),y.useLayoutEffect(()=>()=>{a.current&&(n(DG(a.current)),a.current=null)},[n]),null}function OJ(e){var{legendPayload:t}=e,n=Wn(),r=ai(),a=y.useRef(null);return y.useLayoutEffect(()=>{r||(a.current===null?n(_3(t)):a.current!==t&&n(L3({prev:a.current,next:t})),a.current=t)},[n,r,t]),y.useLayoutEffect(()=>()=>{a.current&&(n(F3(a.current)),a.current=null)},[n]),null}function IJ(e){var{legendPayload:t}=e,n=Wn(),r=kt(In),a=y.useRef(null);return y.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(a.current===null?n(_3(t)):a.current!==t&&n(L3({prev:a.current,next:t})),a.current=t)},[n,r,t]),y.useLayoutEffect(()=>()=>{a.current&&(n(F3(a.current)),a.current=null)},[n]),null}var kv,_J=()=>{var[e]=y.useState(()=>Pf("uid-"));return e},LJ=(kv=YR.useId)!==null&&kv!==void 0?kv:_J;function FJ(e,t){var n=LJ();return t||(e?"".concat(e,"-").concat(n):n)}var RJ=y.createContext(void 0),L_=e=>{var{id:t,type:n,children:r}=e,a=FJ("recharts-".concat(n),t);return y.createElement(RJ.Provider,{value:a},r(a))},$J={cartesianItems:[],polarItems:[]},F_=ri({name:"graphicalItems",initialState:$J,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:ar()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,a=uo(e).cartesianItems.indexOf(n);a>-1&&(e.cartesianItems[a]=r)},prepare:ar()},removeCartesianGraphicalItem:{reducer(e,t){var n=uo(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:ar()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:ar()},removePolarGraphicalItem:{reducer(e,t){var n=uo(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:ar()}}}),{addCartesianGraphicalItem:BJ,replaceCartesianGraphicalItem:zJ,removeCartesianGraphicalItem:UJ,addPolarGraphicalItem:VJ,removePolarGraphicalItem:WJ}=F_.actions,HJ=F_.reducer,qJ=e=>{var t=Wn(),n=y.useRef(null);return y.useLayoutEffect(()=>{n.current===null?t(BJ(e)):n.current!==e&&t(zJ({prev:n.current,next:e})),n.current=e},[t,e]),y.useLayoutEffect(()=>()=>{n.current&&(t(UJ(n.current)),n.current=null)},[t]),null},KJ=y.memo(qJ);function YJ(e){var t=Wn();return y.useLayoutEffect(()=>(t(VJ(e)),()=>{t(WJ(e))}),[t,e]),null}var GJ=["key"],QJ=["onMouseEnter","onClick","onMouseLeave"],XJ=["id"],ZJ=["id"];function pA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function kr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pA(Object(n),!0).forEach(function(r){JJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JJ(e,t,n){return(t=eee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eee(e){var t=tee(e,"string");return typeof t=="symbol"?t:t+""}function tee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bl(){return bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bl.apply(null,arguments)}function fy(e,t){if(e==null)return{};var n,r,a=nee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function nee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ree(e){var t=y.useMemo(()=>P_(e.children,Wu),[e.children]),n=kt(r=>tJ(r,e.id,t));return n==null?null:y.createElement(IJ,{legendPayload:n})}var aee=y.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:a,strokeWidth:i,fill:o,name:s,hide:l,tooltipType:c,id:d}=e,f={dataDefinedOnItem:r.map(p=>p.tooltipPayload),positions:r.map(p=>p.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:o,dataKey:t,nameKey:n,name:O0(s,t),hide:l,type:c,color:o,unit:"",graphicalItemId:d}};return y.createElement(__,{tooltipEntrySettings:f})}),iee=(e,t)=>e>t?"start":e<t?"end":"middle",oee=(e,t,n)=>Vi(typeof t=="function"?t(e):t,n,n*.8),see=(e,t,n)=>{var{top:r,left:a,width:i,height:o}=t,s=H3(i,o),l=a+Vi(e.cx,i,i/2),c=r+Vi(e.cy,o,o/2),d=Vi(e.innerRadius,s,0),f=oee(n,e.outerRadius,s),p=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:f,maxRadius:p}},lee=(e,t)=>{var n=ka(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function cee(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var uee=(e,t)=>{if(y.isValidElement(e))return y.cloneElement(e,t);if(typeof e=="function")return e(t);var n=En("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,a=fy(t,GJ);return y.createElement(ok,bl({},a,{type:"linear",className:n}))},dee=(e,t,n)=>{if(y.isValidElement(e))return y.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),y.isValidElement(r)))return r;var a=En("recharts-pie-label-text",cee(e));return y.createElement(sy,bl({},t,{alignmentBaseline:"middle",className:a}),r)};function fee(e){var{sectors:t,props:n,showLabels:r}=e,{label:a,labelLine:i,dataKey:o}=n;if(!r||!a||!t)return null;var s=qi(n),l=_u(a),c=_u(i),d=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,f=t.map((p,m)=>{var h=(p.startAngle+p.endAngle)/2,v=Lr(p.cx,p.cy,p.outerRadius+d,h),x=kr(kr(kr(kr({},s),p),{},{stroke:"none"},l),{},{index:m,textAnchor:iee(v.x,p.cx)},v),g=kr(kr(kr(kr({},s),p),{},{fill:"none",stroke:p.fill},c),{},{index:m,points:[Lr(p.cx,p.cy,p.outerRadius,h),v],key:"line"});return y.createElement(wo,{zIndex:ca.label,key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(m)},y.createElement(ei,null,i&&uee(i,g),dee(a,x,Xn(p,o))))});return y.createElement(ei,{className:"recharts-pie-labels"},f)}function pee(e){var{sectors:t,props:n,showLabels:r}=e,{label:a}=n;return typeof a=="object"&&a!=null&&"position"in a?y.createElement(v_,{label:a}):y.createElement(fee,{sectors:t,props:n,showLabels:r})}function mee(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:a,shape:i,id:o}=e,s=kt(Vu),l=kt(HI),c=kt(xQ),{onMouseEnter:d,onClick:f,onMouseLeave:p}=a,m=fy(a,QJ),h=TJ(d,a.dataKey,o),v=PJ(p),x=DJ(f,a.dataKey,o);return t==null||t.length===0?null:y.createElement(y.Fragment,null,t.map((g,b)=>{if((g==null?void 0:g.startAngle)===0&&(g==null?void 0:g.endAngle)===0&&t.length!==1)return null;var w=c==null||c===o,S=String(b)===s&&(l==null||a.dataKey===l)&&w,C=s?r:null,N=n&&S?n:C,M=kr(kr({},g),{},{stroke:g.stroke,tabIndex:-1,[y3]:b,[v3]:o});return y.createElement(ei,bl({key:"sector-".concat(g==null?void 0:g.startAngle,"-").concat(g==null?void 0:g.endAngle,"-").concat(g.midAngle,"-").concat(b),tabIndex:-1,className:"recharts-pie-sector"},F1(m,g,b),{onMouseEnter:h(g,b),onMouseLeave:v(g,b),onClick:x(g,b)}),y.createElement(I_,bl({option:i??N,index:b,shapeType:"sector",isActive:S},M)))}))}function hee(e){var t,{pieSettings:n,displayedData:r,cells:a,offset:i}=e,{cornerRadius:o,startAngle:s,endAngle:l,dataKey:c,nameKey:d,tooltipType:f}=n,p=Math.abs(n.minAngle),m=lee(s,l),h=Math.abs(m),v=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,x=r.filter(N=>Xn(N,c,0)!==0).length,g=(h>=360?x:x-1)*v,b=h-x*p-g,w=r.reduce((N,M)=>{var D=Xn(M,c,0);return N+(St(D)?D:0)},0),S;if(w>0){var C;S=r.map((N,M)=>{var D=Xn(N,c,0),R=Xn(N,d,M),T=see(n,i,N),P=(St(D)?D:0)/w,O,W=kr(kr({},N),a&&a[M]&&a[M].props);M?O=C.endAngle+ka(m)*v*(D!==0?1:0):O=s;var Q=O+ka(m)*((D!==0?p:0)+P*b),ee=(O+Q)/2,ue=(T.innerRadius+T.outerRadius)/2,z=[{name:R,value:D,payload:W,dataKey:c,type:f,graphicalItemId:n.id}],B=Lr(T.cx,T.cy,ue,ee);return C=kr(kr(kr(kr({},n.presentationProps),{},{percent:P,cornerRadius:typeof o=="string"?parseFloat(o):o,name:R,tooltipPayload:z,midAngle:ee,middleRadius:ue,tooltipPosition:B},W),T),{},{value:D,dataKey:c,startAngle:O,endAngle:Q,payload:W,paddingAngle:ka(m)*v}),C})}return S}function gee(e){var{showLabels:t,sectors:n,children:r}=e,a=y.useMemo(()=>!t||!n?[]:n.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[n,t]);return y.createElement($Z,{value:t?a:void 0},r)}function yee(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:a,isAnimationActive:i,animationBegin:o,animationDuration:s,animationEasing:l,activeShape:c,inactiveShape:d,onAnimationStart:f,onAnimationEnd:p}=t,m=H0(t,"recharts-pie-"),h=n.current,[v,x]=y.useState(!1),g=y.useCallback(()=>{typeof p=="function"&&p(),x(!1)},[p]),b=y.useCallback(()=>{typeof f=="function"&&f(),x(!0)},[f]);return y.createElement(gee,{showLabels:!v,sectors:a},y.createElement(W0,{animationId:m,begin:o,duration:s,isActive:i,easing:l,onAnimationStart:b,onAnimationEnd:g,key:m},w=>{var S=[],C=a&&a[0],N=C==null?void 0:C.startAngle;return a==null||a.forEach((M,D)=>{var R=h&&h[D],T=D>0?bc(M,"paddingAngle",0):0;if(R){var P=wa(R.endAngle-R.startAngle,M.endAngle-M.startAngle,w),O=kr(kr({},M),{},{startAngle:N+T,endAngle:N+P+T});S.push(O),N=O.endAngle}else{var{endAngle:W,startAngle:Q}=M,ee=wa(0,W-Q,w),ue=kr(kr({},M),{},{startAngle:N+T,endAngle:N+ee+T});S.push(ue),N=ue.endAngle}}),n.current=S,y.createElement(ei,null,y.createElement(mee,{sectors:S,activeShape:c,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:r}))}),y.createElement(pee,{showLabels:!v,sectors:a,props:t}),t.children)}var vee={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:ca.area};function bee(e){var{id:t}=e,n=fy(e,XJ),{hide:r,className:a,rootTabIndex:i}=e,o=y.useMemo(()=>P_(e.children,Wu),[e.children]),s=kt(d=>nJ(d,t,o)),l=y.useRef(null),c=En("recharts-pie",a);return r||s==null?(l.current=null,y.createElement(ei,{tabIndex:i,className:c})):y.createElement(wo,{zIndex:e.zIndex},y.createElement(aee,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:s,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),y.createElement(ei,{tabIndex:i,className:c},y.createElement(yee,{props:kr(kr({},n),{},{sectors:s}),previousSectorsRef:l,id:t})))}function Tg(e){var t=Hr(e,vee),{id:n}=t,r=fy(t,ZJ),a=qi(r);return y.createElement(L_,{id:n,type:"pie"},i=>y.createElement(y.Fragment,null,y.createElement(YJ,{type:"pie",id:i,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),y.createElement(ree,bl({},r,{id:i})),y.createElement(bee,bl({},r,{id:i}))))}Tg.displayName="Pie";var xee=["points"];function mA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Sv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mA(Object(n),!0).forEach(function(r){wee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wee(e,t,n){return(t=kee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kee(e){var t=See(e,"string");return typeof t=="symbol"?t:t+""}function See(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pg(){return Pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pg.apply(null,arguments)}function Nee(e,t){if(e==null)return{};var n,r,a=jee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function jee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Cee(e){var{option:t,dotProps:n,className:r}=e;if(y.isValidElement(t))return y.cloneElement(t,n);if(typeof t=="function")return t(n);var a=En(r,typeof t!="boolean"?t.className:""),i=n??{},{points:o}=i,s=Nee(i,xee);return y.createElement(b_,Pg({},s,{className:a}))}function Mee(e,t){return e==null?!1:t?!0:e.length===1}function Aee(e){var{points:t,dot:n,className:r,dotClassName:a,dataKey:i,baseProps:o,needClip:s,clipPathId:l,zIndex:c=ca.scatter}=e;if(!Mee(t,n))return null;var d=D_(n),f=o8(n),p=t.map((h,v)=>{var x,g,b=Sv(Sv(Sv({r:3},o),f),{},{index:v,cx:(x=h.x)!==null&&x!==void 0?x:void 0,cy:(g=h.y)!==null&&g!==void 0?g:void 0,dataKey:i,value:h.value,payload:h.payload,points:t});return y.createElement(Cee,{key:"dot-".concat(v),option:n,dotProps:b,className:a})}),m={};return s&&l!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(l,")")),y.createElement(wo,{zIndex:c},y.createElement(ei,Pg({className:r},m),p))}function hA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function gA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hA(Object(n),!0).forEach(function(r){Eee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Eee(e,t,n){return(t=Tee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tee(e){var t=Pee(e,"string");return typeof t=="symbol"?t:t+""}function Pee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dee={xAxis:{},yAxis:{},zAxis:{}},R_=ri({name:"cartesianAxis",initialState:Dee,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:ar()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:ar()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:ar()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:ar()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:ar()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:ar()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:ar()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:ar()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:ar()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,a=e.yAxis[n];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&r===i[1]&&r!==a.width&&Math.abs(r-i[0])<=1)return;var o=[...i,r].slice(-3);e.yAxis[n]=gA(gA({},e.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:Oee,replaceXAxis:Iee,removeXAxis:_ee,addYAxis:Lee,replaceYAxis:Fee,removeYAxis:Ree,addZAxis:cge,replaceZAxis:uge,removeZAxis:dge,updateYAxisWidth:$ee}=R_.actions,Bee=R_.reducer,zee=fe([ta],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Uee=fe([zee,js,Cs],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),wS=()=>kt(Uee),Vee=()=>kt(jQ);function yA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Nv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yA(Object(n),!0).forEach(function(r){Wee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wee(e,t,n){return(t=Hee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hee(e){var t=qee(e,"string");return typeof t=="symbol"?t:t+""}function qee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kee=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:a,dataKey:i,clipPath:o}=e;if(a===!1||t.x==null||t.y==null)return null;var s={index:n,dataKey:i,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=Nv(Nv(Nv({},s),_u(a)),L1(a)),c;return y.isValidElement(a)?c=y.cloneElement(a,l):typeof a=="function"?c=a(l):c=y.createElement(b_,l),y.createElement(ei,{className:"recharts-active-dot",clipPath:o},c)};function Yee(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:a,clipPath:i,zIndex:o=ca.activeDot}=e,s=kt(Vu),l=Vee();if(t==null||l==null)return null;var c=t.find(d=>l.includes(d.payload));return Wr(c)?null:y.createElement(wo,{zIndex:o},y.createElement(Kee,{point:c,childIndex:Number(s),mainColor:n,dataKey:a,activeDot:r,clipPath:i}))}var $_=e=>{var{chartData:t}=e,n=Wn(),r=ai();return y.useEffect(()=>r?()=>{}:(n(IM(t)),()=>{n(IM(void 0))}),[t,n,r]),null},vA={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},B_=ri({name:"brush",initialState:vA,reducers:{setBrushSettings(e,t){return t.payload==null?vA:t.payload}}}),{setBrushSettings:fge}=B_.actions,Gee=B_.reducer;function Qee(e,t,n){return(t=Xee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xee(e){var t=Zee(e,"string");return typeof t=="symbol"?t:t+""}function Zee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class kS{static create(t){return new kS(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?t>=r&&t<=a:t>=a&&t<=r}}Qee(kS,"EPS",1e-4);function Jee(e){return(e%180+180)%180}var ete=function(e){var{width:t,height:n}=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Jee(r),i=a*Math.PI/180,o=Math.atan(n/t),s=i>o&&i<Math.PI-o?n/Math.sin(i):t/Math.cos(i);return Math.abs(s)},tte={dots:[],areas:[],lines:[]},z_=ri({name:"referenceElements",initialState:tte,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=uo(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=uo(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=uo(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:pge,removeDot:mge,addArea:hge,removeArea:gge,addLine:yge,removeLine:vge}=z_.actions,nte=z_.reducer,rte=y.createContext(void 0),ate=e=>{var{children:t}=e,[n]=y.useState("".concat(Pf("recharts"),"-clip")),r=wS();if(r==null)return null;var{x:a,y:i,width:o,height:s}=r;return y.createElement(rte.Provider,{value:n},y.createElement("defs",null,y.createElement("clipPath",{id:n},y.createElement("rect",{x:a,y:i,height:s,width:o}))),t)};function U_(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var a=e[r];a!==void 0&&n.push(a)}return n}function ite(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return ete(r,n)}function ote(e,t,n){var r=n==="width",{x:a,y:i,width:o,height:s}=e;return t===1?{start:r?a:i,end:r?a+o:i+s}:{start:r?a+o:i+s,end:r?a:i}}function Hf(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-a)<=0}function ste(e,t){return U_(e,t+1)}function lte(e,t,n,r,a){for(var i=(r||[]).slice(),{start:o,end:s}=t,l=0,c=1,d=o,f=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:U_(r,c)};var h=l,v,x=()=>(v===void 0&&(v=n(m,h)),v),g=m.coordinate,b=l===0||Hf(e,g,x,d,s);b||(l=0,d=o,c+=1),b&&(d=g+e*(x()/2+a),l+=c)},p;c<=i.length;)if(p=f(),p)return p.v;return[]}function cte(e,t,n,r,a){var i=(r||[]).slice(),o=i.length;if(o===0)return[];for(var{start:s,end:l}=t,c=1;c<=o;c++){for(var d=(o-1)%c,f=s,p=!0,m=function(){var g=r[h],b=h,w,S=()=>(w===void 0&&(w=n(g,b)),w),C=g.coordinate,N=h===d||Hf(e,C,S,f,l);if(!N)return p=!1,1;N&&(f=C+e*(S()/2+a))},h=d;h<o&&!m();h+=c);if(p){for(var v=[],x=d;x<o;x+=c)v.push(r[x]);return v}}return[]}function bA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function va(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bA(Object(n),!0).forEach(function(r){ute(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ute(e,t,n){return(t=dte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dte(e){var t=fte(e,"string");return typeof t=="symbol"?t:t+""}function fte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pte(e,t,n,r,a){for(var i=(r||[]).slice(),o=i.length,{start:s}=t,{end:l}=t,c=function(f){var p=i[f],m,h=()=>(m===void 0&&(m=n(p,f)),m);if(f===o-1){var v=e*(p.coordinate+e*h()/2-l);i[f]=p=va(va({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else i[f]=p=va(va({},p),{},{tickCoord:p.coordinate});if(p.tickCoord!=null){var x=Hf(e,p.tickCoord,h,s,l);x&&(l=p.tickCoord-e*(h()/2+a),i[f]=va(va({},p),{},{isShow:!0}))}},d=o-1;d>=0;d--)c(d);return i}function mte(e,t,n,r,a,i){var o=(r||[]).slice(),s=o.length,{start:l,end:c}=t;if(i){var d=r[s-1],f=n(d,s-1),p=e*(d.coordinate+e*f/2-c);if(o[s-1]=d=va(va({},d),{},{tickCoord:p>0?d.coordinate-p*e:d.coordinate}),d.tickCoord!=null){var m=Hf(e,d.tickCoord,()=>f,l,c);m&&(c=d.tickCoord-e*(f/2+a),o[s-1]=va(va({},d),{},{isShow:!0}))}}for(var h=i?s-1:s,v=function(g){var b=o[g],w,S=()=>(w===void 0&&(w=n(b,g)),w);if(g===0){var C=e*(b.coordinate-e*S()/2-l);o[g]=b=va(va({},b),{},{tickCoord:C<0?b.coordinate-C*e:b.coordinate})}else o[g]=b=va(va({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var N=Hf(e,b.tickCoord,S,l,c);N&&(l=b.tickCoord+e*(S()/2+a),o[g]=va(va({},b),{},{isShow:!0}))}},x=0;x<h;x++)v(x);return o}function SS(e,t,n){var{tick:r,ticks:a,viewBox:i,minTickGap:o,orientation:s,interval:l,tickFormatter:c,unit:d,angle:f}=e;if(!a||!a.length||!r)return[];if(St(l)||V0.isSsr){var p;return(p=ste(a,St(l)?l:0))!==null&&p!==void 0?p:[]}var m=[],h=s==="top"||s==="bottom"?"width":"height",v=d&&h==="width"?ef(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},x=(w,S)=>{var C=typeof c=="function"?c(w.value,S):w.value;return h==="width"?ite(ef(C,{fontSize:t,letterSpacing:n}),v,f):ef(C,{fontSize:t,letterSpacing:n})[h]},g=a.length>=2?ka(a[1].coordinate-a[0].coordinate):1,b=ote(i,g,h);return l==="equidistantPreserveStart"?lte(g,b,x,a,o):l==="equidistantPreserveEnd"?cte(g,b,x,a,o):(l==="preserveStart"||l==="preserveStartEnd"?m=mte(g,b,x,a,o,l==="preserveStartEnd"):m=pte(g,b,x,a,o),m.filter(w=>w.isShow))}var hte=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var s=n?n.getBoundingClientRect().width:0,l=a+i,c=o+l+s+(n?r:0);return Math.round(c)}return 0},gte=["axisLine","width","height","className","hide","ticks","axisType"];function yte(e,t){if(e==null)return{};var n,r,a=vte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function vte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Cc(){return Cc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cc.apply(null,arguments)}function xA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ir(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xA(Object(n),!0).forEach(function(r){bte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bte(e,t,n){return(t=xte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xte(e){var t=wte(e,"string");return typeof t=="symbol"?t:t+""}function wte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var us={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:ca.axis};function kte(e){var{x:t,y:n,width:r,height:a,orientation:i,mirror:o,axisLine:s,otherSvgProps:l}=e;if(!s)return null;var c=Ir(Ir(Ir({},l),qi(s)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!o||i==="bottom"&&o);c=Ir(Ir({},c),{},{x1:t,y1:n+d*a,x2:t+r,y2:n+d*a})}else{var f=+(i==="left"&&!o||i==="right"&&o);c=Ir(Ir({},c),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+a})}return y.createElement("line",Cc({},c,{className:En("recharts-cartesian-axis-line",bc(s,"className"))}))}function Ste(e,t,n,r,a,i,o,s,l){var c,d,f,p,m,h,v=s?-1:1,x=e.tickSize||o,g=St(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":c=d=e.coordinate,p=n+ +!s*a,f=p-v*x,h=f-v*l,m=g;break;case"left":f=p=e.coordinate,d=t+ +!s*r,c=d-v*x,m=c-v*l,h=g;break;case"right":f=p=e.coordinate,d=t+ +s*r,c=d+v*x,m=c+v*l,h=g;break;default:c=d=e.coordinate,p=n+ +s*a,f=p+v*x,h=f+v*l,m=g;break}return{line:{x1:c,y1:f,x2:d,y2:p},tick:{x:m,y:h}}}function Nte(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function jte(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Cte(e){var{option:t,tickProps:n,value:r}=e,a,i=En(n.className,"recharts-cartesian-axis-tick-value");if(y.isValidElement(t))a=y.cloneElement(t,Ir(Ir({},n),{},{className:i}));else if(typeof t=="function")a=t(Ir(Ir({},n),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=En(o,t==null?void 0:t.className)),a=y.createElement(sy,Cc({},n,{className:o}),r)}return a}var Mte=y.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:a,stroke:i,tickFormatter:o,unit:s,padding:l,tickTextProps:c,orientation:d,mirror:f,x:p,y:m,width:h,height:v,tickSize:x,tickMargin:g,fontSize:b,letterSpacing:w,getTicksConfig:S,events:C,axisType:N}=e,M=SS(Ir(Ir({},S),{},{ticks:n}),b,w),D=Nte(d,f),R=jte(d,f),T=qi(S),P=_u(r),O={};typeof a=="object"&&(O=a);var W=Ir(Ir({},T),{},{fill:"none"},O),Q=M.map(z=>Ir({entry:z},Ste(z,p,m,h,v,d,x,f,g))),ee=Q.map(z=>{var{entry:B,line:ie}=z;return y.createElement(ei,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(B.value,"-").concat(B.coordinate,"-").concat(B.tickCoord)},a&&y.createElement("line",Cc({},W,ie,{className:En("recharts-cartesian-axis-tick-line",bc(a,"className"))})))}),ue=Q.map((z,B)=>{var{entry:ie,tick:k}=z,I=Ir(Ir(Ir(Ir({textAnchor:D,verticalAnchor:R},T),{},{stroke:"none",fill:i},P),k),{},{index:B,payload:ie,visibleTicksCount:M.length,tickFormatter:o,padding:l},c);return y.createElement(ei,Cc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ie.value,"-").concat(ie.coordinate,"-").concat(ie.tickCoord)},F1(C,ie,B)),r&&y.createElement(Cte,{option:r,tickProps:I,value:"".concat(typeof o=="function"?o(ie.value,B):ie.value).concat(s||"")}))});return y.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(N,"-ticks")},ue.length>0&&y.createElement(wo,{zIndex:ca.label},y.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(N,"-tick-labels"),ref:t},ue)),ee.length>0&&y.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(N,"-tick-lines")},ee))}),Ate=y.forwardRef((e,t)=>{var{axisLine:n,width:r,height:a,className:i,hide:o,ticks:s,axisType:l}=e,c=yte(e,gte),[d,f]=y.useState(""),[p,m]=y.useState(""),h=y.useRef(null);y.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var x;return hte({ticks:h.current,label:(x=e.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var v=y.useCallback(x=>{if(x){var g=x.getElementsByClassName("recharts-cartesian-axis-tick-value");h.current=g;var b=g[0];if(b){var w=window.getComputedStyle(b),S=w.fontSize,C=w.letterSpacing;(S!==d||C!==p)&&(f(S),m(C))}}},[d,p]);return o||r!=null&&r<=0||a!=null&&a<=0?null:y.createElement(wo,{zIndex:e.zIndex},y.createElement(ei,{className:En("recharts-cartesian-axis",i)},y.createElement(kte,{x:e.x,y:e.y,width:r,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:qi(e)}),y.createElement(Mte,{ref:v,axisType:l,events:c,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:p,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:s,unit:e.unit,width:e.width,x:e.x,y:e.y}),y.createElement(wZ,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},y.createElement(PZ,{label:e.label,labelRef:e.labelRef}),e.children)))}),NS=y.forwardRef((e,t)=>{var n=Hr(e,us);return y.createElement(Ate,Cc({},n,{ref:t}))});NS.displayName="CartesianAxis";var Ete=["x1","y1","x2","y2","key"],Tte=["offset"],Pte=["xAxisId","yAxisId"],Dte=["xAxisId","yAxisId"];function wA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wA(Object(n),!0).forEach(function(r){Ote(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ote(e,t,n){return(t=Ite(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ite(e){var t=_te(e,"string");return typeof t=="symbol"?t:t+""}function _te(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rc(){return rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rc.apply(null,arguments)}function Dg(e,t){if(e==null)return{};var n,r,a=Lte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Lte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Fte=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:a,width:i,height:o,ry:s}=e;return y.createElement("rect",{x:r,y:a,ry:s,width:i,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function V_(e){var{option:t,lineItemProps:n}=e,r;if(y.isValidElement(t))r=y.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var a,{x1:i,y1:o,x2:s,y2:l,key:c}=n,d=Dg(n,Ete),f=(a=qi(d))!==null&&a!==void 0?a:{},{offset:p}=f,m=Dg(f,Tte);r=y.createElement("line",rc({},m,{x1:i,y1:o,x2:s,y2:l,fill:"none",key:c}))}return r}function Rte(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,s=Dg(e,Pte),l=a.map((c,d)=>{var f=xa(xa({},s),{},{x1:t,y1:c,x2:t+n,y2:c,key:"line-".concat(d),index:d});return y.createElement(V_,{key:"line-".concat(d),option:r,lineItemProps:f})});return y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function $te(e){var{y:t,height:n,vertical:r=!0,verticalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,s=Dg(e,Dte),l=a.map((c,d)=>{var f=xa(xa({},s),{},{x1:c,y1:t,x2:c,y2:t+n,key:"line-".concat(d),index:d});return y.createElement(V_,{option:r,lineItemProps:f,key:"line-".concat(d)})});return y.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Bte(e){var{horizontalFill:t,fillOpacity:n,x:r,y:a,width:i,height:o,horizontalPoints:s,horizontal:l=!0}=e;if(!l||!t||!t.length||s==null)return null;var c=s.map(f=>Math.round(f+a-a)).sort((f,p)=>f-p);a!==c[0]&&c.unshift(0);var d=c.map((f,p)=>{var m=!c[p+1],h=m?a+o-f:c[p+1]-f;if(h<=0)return null;var v=p%t.length;return y.createElement("rect",{key:"react-".concat(p),y:f,x:r,height:h,width:i,stroke:"none",fill:t[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function zte(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:a,y:i,width:o,height:s,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var c=l.map(f=>Math.round(f+a-a)).sort((f,p)=>f-p);a!==c[0]&&c.unshift(0);var d=c.map((f,p)=>{var m=!c[p+1],h=m?a+o-f:c[p+1]-f;if(h<=0)return null;var v=p%n.length;return y.createElement("rect",{key:"react-".concat(p),x:f,y:i,width:h,height:s,stroke:"none",fill:n[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Ute=(e,t)=>{var{xAxis:n,width:r,height:a,offset:i}=e;return m3(SS(xa(xa(xa({},us),n),{},{ticks:h3(n),viewBox:{x:0,y:0,width:r,height:a}})),i.left,i.left+i.width,t)},Vte=(e,t)=>{var{yAxis:n,width:r,height:a,offset:i}=e;return m3(SS(xa(xa(xa({},us),n),{},{ticks:h3(n),viewBox:{x:0,y:0,width:r,height:a}})),i.top,i.top+i.height,t)},Wte={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:ca.grid};function qf(e){var t=nk(),n=rk(),r=M3(),a=xa(xa({},Hr(e,Wte)),{},{x:St(e.x)?e.x:r.left,y:St(e.y)?e.y:r.top,width:St(e.width)?e.width:r.width,height:St(e.height)?e.height:r.height}),{xAxisId:i,yAxisId:o,x:s,y:l,width:c,height:d,syncWithTicks:f,horizontalValues:p,verticalValues:m}=a,h=ai(),v=kt(R=>SM(R,"xAxis",i,h)),x=kt(R=>SM(R,"yAxis",o,h));if(!Vo(c)||!Vo(d)||!St(s)||!St(l))return null;var g=a.verticalCoordinatesGenerator||Ute,b=a.horizontalCoordinatesGenerator||Vte,{horizontalPoints:w,verticalPoints:S}=a;if((!w||!w.length)&&typeof b=="function"){var C=p&&p.length,N=b({yAxis:x?xa(xa({},x),{},{ticks:C?p:x.ticks}):void 0,width:t??c,height:n??d,offset:r},C?!0:f);ag(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(w=N)}if((!S||!S.length)&&typeof g=="function"){var M=m&&m.length,D=g({xAxis:v?xa(xa({},v),{},{ticks:M?m:v.ticks}):void 0,width:t??c,height:n??d,offset:r},M?!0:f);ag(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(S=D)}return y.createElement(wo,{zIndex:a.zIndex},y.createElement("g",{className:"recharts-cartesian-grid"},y.createElement(Fte,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),y.createElement(Bte,rc({},a,{horizontalPoints:w})),y.createElement(zte,rc({},a,{verticalPoints:S})),y.createElement(Rte,rc({},a,{offset:r,horizontalPoints:w,xAxis:v,yAxis:x})),y.createElement($te,rc({},a,{offset:r,verticalPoints:S,xAxis:v,yAxis:x}))))}qf.displayName="CartesianGrid";var Hte={},W_=ri({name:"errorBars",initialState:Hte,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:a}=t.payload;e[n]&&(e[n]=e[n].map(i=>i.dataKey===r.dataKey&&i.direction===r.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:bge,replaceErrorBar:xge,removeErrorBar:wge}=W_.actions,qte=W_.reducer,Kte=["children"];function Yte(e,t){if(e==null)return{};var n,r,a=Gte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Gte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Qte={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Xte=y.createContext(Qte);function Zte(e){var{children:t}=e,n=Yte(e,Kte);return y.createElement(Xte.Provider,{value:n},t)}function H_(e,t){var n,r,a=kt(c=>As(c,e)),i=kt(c=>Es(c,t)),o=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Qr.allowDataOverflow,s=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:Xr.allowDataOverflow,l=o||s;return{needClip:l,needClipX:o,needClipY:s}}function Jte(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,a=wS(),{needClipX:i,needClipY:o,needClip:s}=H_(t,n);if(!s||!a)return null;var{x:l,y:c,width:d,height:f}=a;return y.createElement("clipPath",{id:"clipPath-".concat(r)},y.createElement("rect",{x:i?l:l-d/2,y:o?c:c-f/2,width:i?d:d*2,height:o?f:f*2}))}var q_=(e,t,n,r)=>jI(e,"xAxis",t,r),K_=(e,t,n,r)=>NI(e,"xAxis",t,r),Y_=(e,t,n,r)=>jI(e,"yAxis",n,r),G_=(e,t,n,r)=>NI(e,"yAxis",n,r),ene=fe([In,q_,Y_,K_,G_],(e,t,n,r,a)=>jl(e,"xAxis")?mx(t,r,!1):mx(n,a,!1)),tne=(e,t,n,r,a)=>a;function nne(e){return e.type==="line"}var rne=fe([aI,tne],(e,t)=>e.filter(nne).find(n=>n.id===t)),ane=fe([In,q_,Y_,K_,G_,rne,ene,Pk],(e,t,n,r,a,i,o,s)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:d}=s;if(!(i==null||t==null||n==null||r==null||a==null||r.length===0||a.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:p}=i,m;if(p!=null&&p.length>0?m=p:m=l==null?void 0:l.slice(c,d+1),m!=null)return zne({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataKey:f,bandSize:o,displayedData:m})}});function ine(e){var t=_u(e),n=3,r=2;if(t!=null){var{r:a,strokeWidth:i}=t,o=Number(a),s=Number(i);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(s)||s<0)&&(s=r),{r:o,strokeWidth:s}}return{r:n,strokeWidth:r}}/**
* @license React
* use-sync-external-store-with-selector.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Lp=y;Lp.useSyncExternalStore;Lp.useRef;Lp.useEffect;Lp.useMemo;Lp.useDebugValue;function one(e){e()}function sne(){let e=null,t=null;return{clear(){e=null,t=null},notify(){one(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!r||e===null||(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var kA={notify(){},get:()=>[]};function lne(e,t){let n,r=kA,a=0,i=!1;function o(v){d();const x=r.subscribe(v);let g=!1;return()=>{g||(g=!0,x(),f())}}function s(){r.notify()}function l(){h.onStateChange&&h.onStateChange()}function c(){return i}function d(){a++,n||(n=e.subscribe(l),r=sne())}function f(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=kA)}function p(){i||(i=!0,d())}function m(){i&&(i=!1,f())}const h={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:c,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>r};return h}var cne=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",une=cne(),dne=()=>typeof navigator<"u"&&navigator.product==="ReactNative",fne=dne(),pne=()=>une||fne?y.useLayoutEffect:y.useEffect,mne=pne();function SA(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function hne(e,t){if(SA(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(t,n[a])||!SA(e[n[a]],t[n[a]]))return!1;return!0}var NA=Symbol.for("react-redux-context"),jA=typeof globalThis<"u"?globalThis:{};function gne(){if(!y.createContext)return{};const e=jA[NA]??(jA[NA]=new Map);let t=e.get(y.createContext);return t||(t=y.createContext(null),e.set(y.createContext,t)),t}var yne=gne();function vne(e){const{children:t,context:n,serverState:r,store:a}=e,i=y.useMemo(()=>{const l=lne(a);return{store:a,subscription:l,getServerState:r?()=>r:void 0}},[a,r]),o=y.useMemo(()=>a.getState(),[a]);mne(()=>{const{subscription:l}=i;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==a.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[i,o]);const s=n||yne;return y.createElement(s.Provider,{value:i},t)}var bne=vne,xne=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function wne(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function jS(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(xne.has(r)){if(e[r]==null&&t[r]==null)continue;if(!hne(e[r],t[r]))return!1}else if(!wne(e[r],t[r]))return!1;return!0}var kne=["id"],Sne=["type","layout","connectNulls","needClip","shape"],Nne=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Kf(){return Kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kf.apply(null,arguments)}function CA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Io(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CA(Object(n),!0).forEach(function(r){jne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jne(e,t,n){return(t=Cne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cne(e){var t=Mne(e,"string");return typeof t=="symbol"?t:t+""}function Mne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CS(e,t){if(e==null)return{};var n,r,a=Ane(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ane(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ene=e=>{var{dataKey:t,name:n,stroke:r,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:r,value:O0(n,t),payload:e}]},Tne=y.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:a,fill:i,name:o,hide:s,unit:l,tooltipType:c,id:d}=e,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:O0(o,t),hide:s,type:c,color:r,unit:l,graphicalItemId:d}};return y.createElement(__,{tooltipEntrySettings:f})}),Q_=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Pne(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],a=0;a<t;++a)r=[...r,...n];return r}var Dne=(e,t,n)=>{var r=n.reduce((f,p)=>f+p);if(!r)return Q_(t,e);for(var a=Math.floor(e/r),i=e%r,o=t-e,s=[],l=0,c=0;l<n.length;c+=n[l],++l)if(c+n[l]>i){s=[...n.slice(0,l),i-c];break}var d=s.length%2===0?[0,o]:[o];return[...Pne(n,a),...s,...d].map(f=>"".concat(f,"px")).join(", ")};function One(e){var{clipPathId:t,points:n,props:r}=e,{dot:a,dataKey:i,needClip:o}=r,{id:s}=r,l=CS(r,kne),c=qi(l);return y.createElement(Aee,{points:n,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:c,needClip:o,clipPathId:t})}function Ine(e){var{showLabels:t,children:n,points:r}=e,a=y.useMemo(()=>r==null?void 0:r.map(i=>{var o,s,l={x:(o=i.x)!==null&&o!==void 0?o:0,y:(s=i.y)!==null&&s!==void 0?s:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Io(Io({},l),{},{value:i.value,payload:i.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return y.createElement(RZ,{value:t?a:void 0},n)}function MA(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:a,props:i}=e,{type:o,layout:s,connectNulls:l,needClip:c,shape:d}=i,f=CS(i,Sne),p=Io(Io({},Fa(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:r,type:o,layout:s,connectNulls:l,strokeDasharray:a??i.strokeDasharray});return y.createElement(y.Fragment,null,(r==null?void 0:r.length)>1&&y.createElement(I_,Kf({shapeType:"curve",option:d},p,{pathRef:n})),y.createElement(One,{points:r,clipPathId:t,props:i}))}function _ne(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Lne(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:s,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:f,animateNewValues:p,width:m,height:h,onAnimationEnd:v,onAnimationStart:x}=n,g=a.current,b=H0(o,"recharts-line-"),w=y.useRef(b),[S,C]=y.useState(!1),N=!S,M=y.useCallback(()=>{typeof v=="function"&&v(),C(!1)},[v]),D=y.useCallback(()=>{typeof x=="function"&&x(),C(!0)},[x]),R=_ne(r.current),T=y.useRef(0);w.current!==b&&(T.current=i.current,w.current=b);var P=T.current;return y.createElement(Ine,{points:o,showLabels:N},n.children,y.createElement(W0,{animationId:b,begin:c,duration:d,isActive:l,easing:f,onAnimationEnd:M,onAnimationStart:D,key:b},O=>{var W=wa(P,R+P,O),Q=Math.min(W,R),ee;if(l)if(s){var ue="".concat(s).split(/[,\s]+/gim).map(ie=>parseFloat(ie));ee=Dne(Q,R,ue)}else ee=Q_(R,Q);else ee=s==null?void 0:String(s);if(O>0&&R>0&&(a.current=o,i.current=Math.max(i.current,Q)),g){var z=g.length/o.length,B=O===1?o:o.map((ie,k)=>{var I=Math.floor(k*z);if(g[I]){var E=g[I];return Io(Io({},ie),{},{x:wa(E.x,ie.x,O),y:wa(E.y,ie.y,O)})}return p?Io(Io({},ie),{},{x:wa(m*2,ie.x,O),y:wa(h/2,ie.y,O)}):Io(Io({},ie),{},{x:ie.x,y:ie.y})});return a.current=B,y.createElement(MA,{props:n,points:B,clipPathId:t,pathRef:r,strokeDasharray:ee})}return y.createElement(MA,{props:n,points:o,clipPathId:t,pathRef:r,strokeDasharray:ee})}),y.createElement(v_,{label:n.label}))}function Fne(e){var{clipPathId:t,props:n}=e,r=y.useRef(null),a=y.useRef(0),i=y.useRef(null);return y.createElement(Lne,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:a,pathRef:i})}var Rne=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:Xn(e.payload,t)}};class $ne extends y.Component{render(){var{hide:t,dot:n,points:r,className:a,xAxisId:i,yAxisId:o,top:s,left:l,width:c,height:d,id:f,needClip:p,zIndex:m}=this.props;if(t)return null;var h=En("recharts-line",a),v=f,{r:x,strokeWidth:g}=ine(n),b=D_(n),w=x*2+g,S=p?"url(#clipPath-".concat(b?"":"dots-").concat(v,")"):void 0;return y.createElement(wo,{zIndex:m},y.createElement(ei,{className:h},p&&y.createElement("defs",null,y.createElement(Jte,{clipPathId:v,xAxisId:i,yAxisId:o}),!b&&y.createElement("clipPath",{id:"clipPath-dots-".concat(v)},y.createElement("rect",{x:l-w/2,y:s-w/2,width:c+w,height:d+w}))),y.createElement(Zte,{xAxisId:i,yAxisId:o,data:r,dataPointFormatter:Rne,errorBarOffset:0},y.createElement(Fne,{props:this.props,clipPathId:v}))),y.createElement(Yee,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:S}))}}var X_={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:ca.line,type:"linear"};function Bne(e){var t=Hr(e,X_),{activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:s,dot:l,hide:c,isAnimationActive:d,label:f,legendType:p,xAxisId:m,yAxisId:h,id:v}=t,x=CS(t,Nne),{needClip:g}=H_(m,h),b=wS(),w=fp(),S=ai(),C=kt(T=>ane(T,m,h,S,v));if(w!=="horizontal"&&w!=="vertical"||C==null||b==null)return null;var{height:N,width:M,x:D,y:R}=b;return y.createElement($ne,Kf({},x,{id:v,connectNulls:s,dot:l,activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:i,animationEasing:o,isAnimationActive:d,hide:c,label:f,legendType:p,xAxisId:m,yAxisId:h,points:C,layout:w,height:N,width:M,left:D,top:R,needClip:g}))}function zne(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:i,dataKey:o,bandSize:s,displayedData:l}=e;return l.map((c,d)=>{var f=Xn(c,o);if(t==="horizontal"){var p=_j({axis:n,ticks:a,bandSize:s,entry:c,index:d}),m=Wr(f)?null:r.scale(f);return{x:p,y:m,value:f,payload:c}}var h=Wr(f)?null:n.scale(f),v=_j({axis:r,ticks:i,bandSize:s,entry:c,index:d});return h==null||v==null?null:{x:h,y:v,value:f,payload:c}}).filter(Boolean)}function Une(e){var t=Hr(e,X_),n=ai();return y.createElement(L_,{id:t.id,type:"line"},r=>y.createElement(y.Fragment,null,y.createElement(OJ,{legendPayload:Ene(t)}),y.createElement(Tne,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),y.createElement(KJ,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),y.createElement(Bne,Kf({},t,{id:r}))))}var ns=y.memo(Une,jS);ns.displayName="Line";var Vne=["domain","range"],Wne=["domain","range"];function AA(e,t){if(e==null)return{};var n,r,a=Hne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Hne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function EA(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function Z_(e,t){if(e===t)return!0;var{domain:n,range:r}=e,a=AA(e,Vne),{domain:i,range:o}=t,s=AA(t,Wne);return!EA(n,i)||!EA(r,o)?!1:jS(a,s)}var qne=["dangerouslySetInnerHTML","ticks","scale"],Kne=["id","scale"];function Hx(){return Hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hx.apply(null,arguments)}function TA(e,t){if(e==null)return{};var n,r,a=Yne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Yne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Gne(e){var t=Wn(),n=y.useRef(null);return y.useLayoutEffect(()=>{n.current===null?t(Oee(e)):n.current!==e&&t(Iee({prev:n.current,next:e})),n.current=e},[e,t]),y.useLayoutEffect(()=>()=>{n.current&&(t(_ee(n.current)),n.current=null)},[t]),null}var Qne=e=>{var{xAxisId:t,className:n}=e,r=kt(b3),a=ai(),i="xAxis",o=kt(g=>SI(g,i,t,a)),s=kt(g=>pG(g,t)),l=kt(g=>bG(g,t)),c=kt(g=>tI(g,t));if(s==null||l==null||c==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:p}=e,m=TA(e,qne),{id:h,scale:v}=c,x=TA(c,Kne);return y.createElement(NS,Hx({},m,x,{x:l.x,y:l.y,width:s.width,height:s.height,className:En("recharts-".concat(i," ").concat(i),n),viewBox:r,ticks:o,axisType:i}))},Xne={allowDataOverflow:Qr.allowDataOverflow,allowDecimals:Qr.allowDecimals,allowDuplicatedCategory:Qr.allowDuplicatedCategory,angle:Qr.angle,axisLine:us.axisLine,height:Qr.height,hide:!1,includeHidden:Qr.includeHidden,interval:Qr.interval,minTickGap:Qr.minTickGap,mirror:Qr.mirror,orientation:Qr.orientation,padding:Qr.padding,reversed:Qr.reversed,scale:Qr.scale,tick:Qr.tick,tickCount:Qr.tickCount,tickLine:us.tickLine,tickSize:us.tickSize,type:Qr.type,xAxisId:0},Zne=e=>{var t=Hr(e,Xne);return y.createElement(y.Fragment,null,y.createElement(Gne,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),y.createElement(Qne,t))},Yf=y.memo(Zne,Z_);Yf.displayName="XAxis";var Jne=["dangerouslySetInnerHTML","ticks","scale"],ere=["id","scale"];function qx(){return qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qx.apply(null,arguments)}function PA(e,t){if(e==null)return{};var n,r,a=tre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function tre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function nre(e){var t=Wn(),n=y.useRef(null);return y.useLayoutEffect(()=>{n.current===null?t(Lee(e)):n.current!==e&&t(Fee({prev:n.current,next:e})),n.current=e},[e,t]),y.useLayoutEffect(()=>()=>{n.current&&(t(Ree(n.current)),n.current=null)},[t]),null}var rre=e=>{var{yAxisId:t,className:n,width:r,label:a}=e,i=y.useRef(null),o=y.useRef(null),s=kt(b3),l=ai(),c=Wn(),d="yAxis",f=kt(N=>kG(N,t)),p=kt(N=>wG(N,t)),m=kt(N=>SI(N,d,t,l)),h=kt(N=>nI(N,t));if(y.useLayoutEffect(()=>{if(!(r!=="auto"||!f||yS(a)||y.isValidElement(a)||h==null)){var N=i.current;if(N){var M=N.getCalculatedWidth();Math.round(f.width)!==Math.round(M)&&c($ee({id:t,width:M}))}}},[m,f,c,a,t,r,h]),f==null||p==null||h==null)return null;var{dangerouslySetInnerHTML:v,ticks:x,scale:g}=e,b=PA(e,Jne),{id:w,scale:S}=h,C=PA(h,ere);return y.createElement(NS,qx({},b,C,{ref:i,labelRef:o,x:p.x,y:p.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:En("recharts-".concat(d," ").concat(d),n),viewBox:s,ticks:m,axisType:d}))},are={allowDataOverflow:Xr.allowDataOverflow,allowDecimals:Xr.allowDecimals,allowDuplicatedCategory:Xr.allowDuplicatedCategory,angle:Xr.angle,axisLine:us.axisLine,hide:!1,includeHidden:Xr.includeHidden,interval:Xr.interval,minTickGap:Xr.minTickGap,mirror:Xr.mirror,orientation:Xr.orientation,padding:Xr.padding,reversed:Xr.reversed,scale:Xr.scale,tick:Xr.tick,tickCount:Xr.tickCount,tickLine:us.tickLine,tickSize:us.tickSize,type:Xr.type,width:Xr.width,yAxisId:0},ire=e=>{var t=Hr(e,are);return y.createElement(y.Fragment,null,y.createElement(nre,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),y.createElement(rre,t))},Gf=y.memo(ire,Z_);Gf.displayName="YAxis";var ore=(e,t)=>t,MS=fe([ore,In,Z4,Kr,zI,Ts,RQ,ta],HQ),AS=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},J_=Ki("mouseClick"),eL=up();eL.startListening({actionCreator:J_,effect:(e,t)=>{var n=e.payload,r=MS(t.getState(),AS(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(LG({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Kx=Ki("mouseMove"),tL=up(),Dm=null;tL.startListening({actionCreator:Kx,effect:(e,t)=>{var n=e.payload;Dm!==null&&cancelAnimationFrame(Dm);var r=AS(n);Dm=requestAnimationFrame(()=>{var a=t.getState(),i=sS(a,a.tooltip.settings.shared);if(i==="axis"){var o=MS(a,r);(o==null?void 0:o.activeIndex)!=null?t.dispatch(OI({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(DI())}Dm=null})}});function sre(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var DA={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},nL=ri({name:"rootProps",initialState:DA,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:DA.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),lre=nL.reducer,{updateOptions:cre}=nL.actions,rL=ri({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:ure}=rL.actions,dre=rL.reducer,aL=Ki("keyDown"),iL=Ki("focus"),ES=up();ES.startListening({actionCreator:aL,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=lS(a,od(n),kp(n),jp(n)),s=o==null?-1:Number(o);if(!(!Number.isFinite(s)||s<0)){var l=Ts(n);if(i==="Enter"){var c=Cg(n,"axis","hover",String(a.index));t.dispatch($x({active:!a.active,activeIndex:a.index,activeCoordinate:c}));return}var d=CG(n),f=d==="left-to-right"?1:-1,p=i==="ArrowRight"?1:-1,m=s+p*f;if(!(l==null||m>=l.length||m<0)){var h=Cg(n,"axis","hover",String(m));t.dispatch($x({active:!0,activeIndex:m.toString(),activeCoordinate:h}))}}}}}});ES.startListening({actionCreator:iL,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var i="0",o=Cg(n,"axis","hover",String(i));t.dispatch($x({active:!0,activeIndex:i,activeCoordinate:o}))}}}});var Ii=Ki("externalEvent"),oL=up(),jv=new Map;oL.startListening({actionCreator:Ii,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var a=r.type,i=jv.get(a);i!==void 0&&cancelAnimationFrame(i);var o=requestAnimationFrame(()=>{try{var s=t.getState(),l={activeCoordinate:kQ(s),activeDataKey:HI(s),activeIndex:Vu(s),activeLabel:WI(s),activeTooltipIndex:Vu(s),isTooltipActive:SQ(s)};n(l,r)}finally{jv.delete(a)}});jv.set(a,o)}}});var fre=fe([ad],e=>e.tooltipItemPayloads),pre=fe([fre,Np,(e,t)=>t,(e,t,n)=>n],(e,t,n,r)=>{var a=e.find(s=>s.settings.graphicalItemId===r);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,n);return o}}}),sL=Ki("touchMove"),lL=up();lL.startListening({actionCreator:sL,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),a=sS(r,r.tooltip.settings.shared);if(a==="axis"){var i=n.touches[0];if(i==null)return;var o=MS(r,AS({clientX:i.clientX,clientY:i.clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(OI({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var s,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(y3),f=(s=c.getAttribute(v3))!==null&&s!==void 0?s:void 0,p=id(r).find(v=>v.id===f);if(d==null||p==null||f==null)return;var{dataKey:m}=p,h=pre(r,d,f);t.dispatch(PI({activeDataKey:m,activeIndex:d,activeCoordinate:h,activeGraphicalItemId:f}))}}}});var mre=$O({brush:Gee,cartesianAxis:Bee,chartData:wX,errorBars:qte,graphicalItems:HJ,layout:rV,legend:aW,options:gX,polarAxis:GZ,polarOptions:dre,referenceElements:nte,rootProps:lre,tooltip:FG,zIndex:iX}),hre=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return A9({reducer:mre,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([eL.middleware,tL.middleware,ES.middleware,oL.middleware,lL.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(e3({type:"raf"}))},devTools:{serialize:{replacer:sre},name:"recharts-".concat(t)}})};function cL(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,a=ai(),i=y.useRef(null);if(a)return n;i.current==null&&(i.current=hre(t,r));var o=q1;return y.createElement(bne,{context:o,store:i.current},n)}function gre(e){var{layout:t,margin:n}=e,r=Wn(),a=ai();return y.useEffect(()=>{a||(r(eV(t)),r(J9(n)))},[r,a,t,n]),null}var uL=y.memo(gre,jS);function dL(e){var t=Wn();return y.useEffect(()=>{t(cre(e))},[t,e]),null}function OA(e){var{zIndex:t,isPanorama:n}=e,r=y.useRef(null),a=Wn();return y.useLayoutEffect(()=>(r.current&&a(rX({zIndex:t,element:r.current,isPanorama:n})),()=>{a(aX({zIndex:t,isPanorama:n}))}),[a,t,n]),y.createElement("g",{tabIndex:-1,ref:r})}function IA(e){var{children:t,isPanorama:n}=e,r=kt(KQ);if(!r||r.length===0)return t;var a=r.filter(o=>o<0),i=r.filter(o=>o>0);return y.createElement(y.Fragment,null,a.map(o=>y.createElement(OA,{key:o,zIndex:o,isPanorama:n})),t,i.map(o=>y.createElement(OA,{key:o,zIndex:o,isPanorama:n})))}var yre=["children"];function vre(e,t){if(e==null)return{};var n,r,a=bre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function bre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Og(){return Og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Og.apply(null,arguments)}var xre={width:"100%",height:"100%",display:"block"},wre=y.forwardRef((e,t)=>{var n=nk(),r=rk(),a=$3();if(!Vo(n)||!Vo(r))return null;var{children:i,otherAttributes:o,title:s,desc:l}=e,c,d;return o!=null&&(typeof o.tabIndex=="number"?c=o.tabIndex:c=a?0:void 0,typeof o.role=="string"?d=o.role:d=a?"application":void 0),y.createElement(T1,Og({},o,{title:s,desc:l,role:d,tabIndex:c,width:n,height:r,style:xre,ref:t}),i)}),kre=e=>{var{children:t}=e,n=kt(F0);if(!n)return null;var{width:r,height:a,y:i,x:o}=n;return y.createElement(T1,{width:r,height:a,x:o,y:i},t)},_A=y.forwardRef((e,t)=>{var{children:n}=e,r=vre(e,yre),a=ai();return a?y.createElement(kre,null,y.createElement(IA,{isPanorama:!0},n)):y.createElement(wre,Og({ref:t},r),y.createElement(IA,{isPanorama:!1},n))});function Sre(){var e=Wn(),[t,n]=y.useState(null),r=kt(vV);return y.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;Rr(i)&&i!==r&&e(nV(i))}},[t,e,r]),n}function LA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Nre(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LA(Object(n),!0).forEach(function(r){jre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jre(e,t,n){return(t=Cre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cre(e){var t=Mre(e,"string");return typeof t=="symbol"?t:t+""}function Mre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mc(){return Mc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mc.apply(null,arguments)}var Are=()=>(TX(),null);function Ig(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Ere=y.forwardRef((e,t)=>{var n,r,a=y.useRef(null),[i,o]=y.useState({containerWidth:Ig((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Ig((r=e.style)===null||r===void 0?void 0:r.height)}),s=y.useCallback((c,d)=>{o(f=>{var p=Math.round(c),m=Math.round(d);return f.containerWidth===p&&f.containerHeight===m?f:{containerWidth:p,containerHeight:m}})},[]),l=y.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=c.getBoundingClientRect();s(d,f);var p=h=>{var{width:v,height:x}=h[0].contentRect;s(v,x)},m=new ResizeObserver(p);m.observe(c),a.current=m}},[t,s]);return y.useEffect(()=>()=>{var c=a.current;c!=null&&c.disconnect()},[s]),y.createElement(y.Fragment,null,y.createElement($0,{width:i.containerWidth,height:i.containerHeight}),y.createElement("div",Mc({ref:l},e)))}),Tre=y.forwardRef((e,t)=>{var{width:n,height:r}=e,[a,i]=y.useState({containerWidth:Ig(n),containerHeight:Ig(r)}),o=y.useCallback((l,c)=>{i(d=>{var f=Math.round(l),p=Math.round(c);return d.containerWidth===f&&d.containerHeight===p?d:{containerWidth:f,containerHeight:p}})},[]),s=y.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:c,height:d}=l.getBoundingClientRect();o(c,d)}},[t,o]);return y.createElement(y.Fragment,null,y.createElement($0,{width:a.containerWidth,height:a.containerHeight}),y.createElement("div",Mc({ref:s},e)))}),Pre=y.forwardRef((e,t)=>{var{width:n,height:r}=e;return y.createElement(y.Fragment,null,y.createElement($0,{width:n,height:r}),y.createElement("div",Mc({ref:t},e)))}),Dre=y.forwardRef((e,t)=>{var{width:n,height:r}=e;return ys(n)||ys(r)?y.createElement(Tre,Mc({},e,{ref:t})):y.createElement(Pre,Mc({},e,{ref:t}))});function Ore(e){return e===!0?Ere:Dre}var Ire=y.forwardRef((e,t)=>{var{children:n,className:r,height:a,onClick:i,onContextMenu:o,onDoubleClick:s,onMouseDown:l,onMouseEnter:c,onMouseLeave:d,onMouseMove:f,onMouseUp:p,onTouchEnd:m,onTouchMove:h,onTouchStart:v,style:x,width:g,responsive:b,dispatchTouchEvents:w=!0}=e,S=y.useRef(null),C=Wn(),[N,M]=y.useState(null),[D,R]=y.useState(null),T=Sre(),P=tk(),O=(P==null?void 0:P.width)>0?P.width:g,W=(P==null?void 0:P.height)>0?P.height:a,Q=y.useCallback(_=>{T(_),typeof t=="function"&&t(_),M(_),R(_),_!=null&&(S.current=_)},[T,t,M,R]),ee=y.useCallback(_=>{C(J_(_)),C(Ii({handler:i,reactEvent:_}))},[C,i]),ue=y.useCallback(_=>{C(Kx(_)),C(Ii({handler:c,reactEvent:_}))},[C,c]),z=y.useCallback(_=>{C(DI()),C(Ii({handler:d,reactEvent:_}))},[C,d]),B=y.useCallback(_=>{C(Kx(_)),C(Ii({handler:f,reactEvent:_}))},[C,f]),ie=y.useCallback(()=>{C(iL())},[C]),k=y.useCallback(_=>{C(aL(_.key))},[C]),I=y.useCallback(_=>{C(Ii({handler:o,reactEvent:_}))},[C,o]),E=y.useCallback(_=>{C(Ii({handler:s,reactEvent:_}))},[C,s]),j=y.useCallback(_=>{C(Ii({handler:l,reactEvent:_}))},[C,l]),L=y.useCallback(_=>{C(Ii({handler:p,reactEvent:_}))},[C,p]),G=y.useCallback(_=>{C(Ii({handler:v,reactEvent:_}))},[C,v]),Z=y.useCallback(_=>{w&&C(sL(_)),C(Ii({handler:h,reactEvent:_}))},[C,w,h]),Y=y.useCallback(_=>{C(Ii({handler:m,reactEvent:_}))},[C,m]),q=Ore(b);return y.createElement(ZI.Provider,{value:N},y.createElement(RD.Provider,{value:D},y.createElement(q,{width:O??(x==null?void 0:x.width),height:W??(x==null?void 0:x.height),className:En("recharts-wrapper",r),style:Nre({position:"relative",cursor:"default",width:O,height:W},x),onClick:ee,onContextMenu:I,onDoubleClick:E,onFocus:ie,onKeyDown:k,onMouseDown:j,onMouseEnter:ue,onMouseLeave:z,onMouseMove:B,onMouseUp:L,onTouchEnd:Y,onTouchMove:Z,onTouchStart:G,ref:Q},y.createElement(Are,null),n)))}),_re=["width","height","responsive","children","className","style","compact","title","desc"];function Lre(e,t){if(e==null)return{};var n,r,a=Fre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Fre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var fL=y.forwardRef((e,t)=>{var{width:n,height:r,responsive:a,children:i,className:o,style:s,compact:l,title:c,desc:d}=e,f=Lre(e,_re),p=qi(f);return l?y.createElement(y.Fragment,null,y.createElement($0,{width:n,height:r}),y.createElement(_A,{otherAttributes:p,title:c,desc:d},i)):y.createElement(Ire,{className:o,style:s,width:n,height:r,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},y.createElement(_A,{otherAttributes:p,title:c,desc:d,ref:t},y.createElement(ate,null,i)))});function Yx(){return Yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yx.apply(null,arguments)}var Rre={top:5,right:5,bottom:5,left:5},$re={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Rre,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Bre=y.forwardRef(function(e,t){var n,r=Hr(e.categoricalChartProps,$re),{chartName:a,defaultTooltipEventType:i,validateTooltipEventTypes:o,tooltipPayloadSearcher:s,categoricalChartProps:l}=e,c={chartName:a,defaultTooltipEventType:i,validateTooltipEventTypes:o,tooltipPayloadSearcher:s,eventEmitter:void 0};return y.createElement(cL,{preloadedState:{options:c},reduxStoreName:(n=l.id)!==null&&n!==void 0?n:a},y.createElement($_,{chartData:l.data}),y.createElement(uL,{layout:r.layout,margin:r.margin}),y.createElement(dL,{baseValue:r.baseValue,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),y.createElement(fL,Yx({},r,{ref:t})))}),zre=["axis"],_g=y.forwardRef((e,t)=>y.createElement(Bre,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:zre,tooltipPayloadSearcher:e_,categoricalChartProps:e,ref:t}));function Ure(e){var t=Wn();return y.useEffect(()=>{t(ure(e))},[t,e]),null}var Vre=["layout"];function Gx(){return Gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gx.apply(null,arguments)}function Wre(e,t){if(e==null)return{};var n,r,a=Hre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Hre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var qre={top:5,right:5,bottom:5,left:5},pL={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:qre,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Kre=y.forwardRef(function(e,t){var n,r=Hr(e.categoricalChartProps,pL),{layout:a}=r,i=Wre(r,Vre),{chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:c}=e,d={chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return y.createElement(cL,{preloadedState:{options:d},reduxStoreName:(n=r.id)!==null&&n!==void 0?n:o},y.createElement($_,{chartData:r.data}),y.createElement(uL,{layout:a,margin:r.margin}),y.createElement(dL,{baseValue:void 0,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),y.createElement(Ure,{cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius}),y.createElement(fL,Gx({},i,{ref:t})))});function FA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function RA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FA(Object(n),!0).forEach(function(r){Yre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yre(e,t,n){return(t=Gre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gre(e){var t=Qre(e,"string");return typeof t=="symbol"?t:t+""}function Qre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xre=["item"],Zre=RA(RA({},pL),{},{layout:"centric",startAngle:0,endAngle:360}),Qx=y.forwardRef((e,t)=>{var n=Hr(e,Zre);return y.createElement(Kre,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Xre,tooltipPayloadSearcher:e_,categoricalChartProps:n,ref:t})});const An=({value:e,options:t,onChange:n,className:r="",activeClassName:a,inactiveClassName:i})=>u.jsx("div",{className:`pill-toggle-group flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1 text-[10px] uppercase tracking-[0.25em] text-gray-400 ${r}`,children:t.map(o=>u.jsx("button",{type:"button",onClick:()=>n(o.value),className:`pill-toggle-option px-2.5 py-1 rounded-full transition-colors ${e===o.value?`pill-toggle-option--active ${a}`:i}`,children:o.label},o.value))}),$A="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",tf=new Map,ju=new Map,Jre=async e=>{var t;if(!((t=window==null?void 0:window.electronAPI)!=null&&t.fetchImageAsDataUrl))return;const n=Array.from(new Set(e)).filter(r=>/^https?:\/\//i.test(r));await Promise.all(n.map(async r=>{if(tf.has(r)||ju.has(r))return;const a=(async()=>{const i=await window.electronAPI.fetchImageAsDataUrl(r),o=i!=null&&i.success&&i.dataUrl?i.dataUrl:null;return o&&tf.set(r,o),o})();ju.set(r,a);try{await a}finally{ju.delete(r)}}))},eae=e=>{const[t,n]=y.useState(()=>{var r;return e?!((r=window==null?void 0:window.electronAPI)!=null&&r.fetchImageAsDataUrl)||!/^https?:\/\//i.test(e)?e:tf.get(e)||$A:null});return y.useEffect(()=>{var r;if(!e){n(null);return}if(!((r=window==null?void 0:window.electronAPI)!=null&&r.fetchImageAsDataUrl)){n(e);return}if(!/^https?:\/\//i.test(e)){n(e);return}const a=tf.get(e);if(a){n(a);return}let i=!0;const o=ju.get(e)||(async()=>{const s=await window.electronAPI.fetchImageAsDataUrl(e),l=s!=null&&s.success&&s.dataUrl?s.dataUrl:null;return l&&tf.set(e,l),l})();return ju.set(e,o),o.then(s=>{if(i){if(s){n(s);return}n($A)}}).finally(()=>{ju.delete(e)}),()=>{i=!1}},[e]),t},tae=(e,t,n,r)=>{const[a,i]=y.useState("bottom"),[o,s]=y.useState(0);return y.useEffect(()=>{if(!e)return;const l=requestAnimationFrame(()=>{const c=n.current,d=r.current;if(!c||!d)return;const f=c.getBoundingClientRect(),p=d.getBoundingClientRect(),m=(M=>{let D=(M==null?void 0:M.parentElement)||null;for(;D;){const R=window.getComputedStyle(D),T=`${R.overflow}${R.overflowY}${R.overflowX}`;if(/(auto|scroll|hidden)/.test(T))return D;D=D.parentElement}return null})(c),h=m?m.getBoundingClientRect():{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth},v=h.bottom-f.bottom,x=f.top-h.top,g=v<p.height+8&&x>v?"top":"bottom";i(g);const b=6,w=f.left+f.width/2,S=h.left+b+p.width/2,C=h.right-b-p.width/2,N=Math.min(Math.max(w,S),C);s(N-w)});return()=>cancelAnimationFrame(l)},[e,...t]),{placement:a,shiftX:o}},nae=(e,t=5)=>{const n=Object.entries(e).filter(([,a])=>a>0).sort((a,i)=>i[1]-a[1]||a[0].localeCompare(i[0])).map(([a,i])=>({profession:a,count:i})),r=[];for(let a=0;a<n.length;a+=t)r.push(n.slice(a,a+t));return r},mL=(e,t,n,r,a=8)=>{const[i,o]=y.useState({position:"fixed",top:-9999,left:-9999,transform:"translateX(-50%)"});return y.useEffect(()=>{if(!e)return;const s=()=>{const c=n.current,d=r.current;if(!c||!d)return;const f=c.getBoundingClientRect(),p=d.getBoundingClientRect(),m=window.innerHeight-f.bottom,h=f.top,v=m<p.height+a&&h>m?Math.max(a,f.top-p.height-a):Math.min(window.innerHeight-p.height-a,f.bottom+a),x=f.left+f.width/2,g=a+p.width/2,b=window.innerWidth-a-p.width/2,w=Math.min(Math.max(x,g),b);o({position:"fixed",top:v,left:w,transform:"translateX(-50%)"})},l=requestAnimationFrame(s);return window.addEventListener("scroll",s,!0),window.addEventListener("resize",s),()=>{cancelAnimationFrame(l),window.removeEventListener("scroll",s,!0),window.removeEventListener("resize",s)}},[e,a,...t]),i},rae=({profession:e,professionList:t,className:n="w-4 h-4 object-contain"})=>{const r=(t||[]).filter(Boolean),a=e==="Multi"&&r.length>0?r[0]:e,i=Jl(a||"Unknown"),o=r.length>1,[s,l]=y.useState(!1),c=y.useRef(null),d=y.useRef(null),f=`${n} object-contain`,{placement:p,shiftX:m}=tae(s,[r.length,f],c,d),h=Array.from(new Set(r.map(b=>lc(b||"Unknown")))).slice(0,4),v=h.length>1?`conic-gradient(${h.map((b,w)=>`${b} ${w*360/h.length}deg ${(w+1)*360/h.length}deg`).join(", ")})`:h[0]||"#9ca3af";if(!i)return null;const x=p==="top"?"bottom-full mb-2":"top-full mt-2",g={transform:`translateX(calc(-50% + ${m}px))`};return u.jsxs("span",{ref:c,className:`relative inline-flex shrink-0 ${o?"group":""}`,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[u.jsx("img",{src:i,alt:a||"Unknown",className:`${f} shrink-0`}),o&&u.jsxs(u.Fragment,{children:[u.jsx("span",{"aria-hidden":"true",className:"absolute -top-0.5 -right-0.5 h-2.5 w-2.5 rounded-full ring-1 ring-[#10141b] shadow-[0_0_0_1px_rgba(255,255,255,0.08)]",style:{background:v},children:u.jsx("span",{className:"absolute inset-[0.7px] rounded-full bg-[#0f141c]/55"})}),u.jsxs("div",{ref:d,style:g,className:`profession-multi-tooltip absolute left-1/2 z-50 w-max rounded-md border border-white/10 bg-black/70 px-2 py-1 text-[10px] text-gray-200 shadow-lg pointer-events-none ${x} ${s?"block":"hidden"}`,children:[u.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:"Multi"}),u.jsx("div",{className:"space-y-1",children:r.map(b=>{const w=Jl(b||"Unknown");return u.jsxs("div",{className:"flex items-center gap-1",children:[w?u.jsx("img",{src:w,alt:b||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,u.jsx("span",{className:"text-gray-100",children:b||"Unknown"})]},b)})})]})]})]})},aae=(e,t,n="w-4 h-4 object-contain")=>u.jsx(rae,{profession:e,professionList:t,className:n}),Cv=({count:e,classCounts:t,label:n,className:r})=>{const a=nae(t||{}),i=e>0,[o,s]=y.useState(!1),l=y.useRef(null),c=y.useRef(null),d=mL(o,[a.length,e],l,c);return u.jsxs("span",{ref:l,className:`relative inline-flex items-center justify-end ${i?"group cursor-help":""}`,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[u.jsx("span",{className:r,children:e}),i&&typeof document<"u"&&Xu.createPortal(u.jsxs("div",{ref:c,style:d,className:`count-class-tooltip z-[9999] w-max rounded-md border border-white/10 bg-black/70 px-2 py-1 text-[10px] text-gray-200 shadow-lg pointer-events-none ${o?"block":"hidden"}`,children:[u.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:n}),a.length>0?u.jsx("div",{className:"grid grid-flow-col auto-cols-fr gap-2",children:a.map((f,p)=>u.jsx("div",{className:"space-y-1",children:f.map(({profession:m,count:h})=>{const v=Jl(m||"Unknown");return u.jsxs("div",{className:"flex items-center gap-1",children:[v?u.jsx("img",{src:v,alt:m||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,u.jsx("span",{className:"text-gray-100",children:m||"Unknown"}),u.jsx("span",{className:"text-gray-400",children:""}),u.jsx("span",{className:"text-gray-200",children:h})]},m)})},`${n}-col-${p}`))}):u.jsx("div",{className:"text-[10px] text-gray-500 italic",children:"No class data available"})]}),document.body)]})},Nr=({name:e,iconUrl:t,className:n="",iconClassName:r="h-4 w-4",textClassName:a="",truncateText:i=!0})=>{const o=eae(t);return u.jsxs("span",{className:`inline-flex items-center gap-2 min-w-0 ${n}`,children:[o?u.jsx("img",{src:o,alt:e,className:`${r} shrink-0`}):null,u.jsx("span",{className:`${i?"truncate":""} ${a}`,children:e})]})},BA=({value:e,label:t,items:n,className:r})=>{const a=n.length>0,[i,o]=y.useState(!1),s=y.useRef(null),l=y.useRef(null),c=mL(i,[n.length],s,l);return u.jsxs("span",{ref:s,className:`relative inline-flex items-center justify-end ${a?"group cursor-help":""} ${r||""}`,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[u.jsx("span",{children:e}),a&&typeof document<"u"&&Xu.createPortal(u.jsxs("div",{ref:l,style:c,className:`skill-breakdown-tooltip z-[9999] w-64 rounded-md border border-white/10 bg-black/70 px-3 py-2 text-[10px] text-gray-200 shadow-lg pointer-events-none ${i?"block":"hidden"}`,children:[u.jsx("div",{className:"text-[9px] uppercase tracking-wider text-amber-200 mb-1",children:t}),u.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1",children:n.map(d=>u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsx("span",{className:"truncate text-gray-100",children:u.jsx(Nr,{name:d.name,iconUrl:d.iconUrl,iconClassName:"h-6 w-6"})}),u.jsx("span",{className:"text-gray-300 font-mono",children:d.value})]},d.name))})]}),document.body)]})},iae=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,selectedPlayers:s,setSelectedPlayers:l,removeSelectedPlayer:c,playerMapByKey:d,groupedSkillUsagePlayers:f,expandedSkillUsageClass:p,setExpandedSkillUsageClass:m,togglePlayerSelection:h,skillUsagePlayerFilter:v,setSkillUsagePlayerFilter:x,skillUsageView:g,setSkillUsageView:b,skillUsageData:w,skillUsageSkillFilter:S,setSkillUsageSkillFilter:C,selectedSkillId:N,setSelectedSkillId:M,skillBarData:D,selectedSkillName:R,selectedSkillIcon:T,skillUsageReady:P,skillUsageAvailable:O,isSkillUsagePerSecond:W,skillChartData:Q,skillChartMaxY:ee,playerTotalsForSkill:ue,hoveredSkillPlayer:z,setHoveredSkillPlayer:B,getLineStrokeColor:ie,getLineDashForPlayer:k,formatSkillUsageValue:I,renderProfessionIcon:E})=>u.jsxs("div",{id:"skill-usage","data-section-visible":a("skill-usage"),"data-section-first":i("skill-usage"),className:o("skill-usage",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${e==="skill-usage"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[u.jsxs("div",{className:e==="skill-usage"?"pr-10 md:pr-0":"",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(v1,{className:"w-5 h-5 text-cyan-400"}),"Skill Usage Tracker"]}),u.jsx("p",{className:"text-xs text-gray-400",children:"Compare how often squad members cast a skill and drill into the timeline breakdown."})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(An,{value:g,onChange:b,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[w.logRecords.length," ",w.logRecords.length===1?"log":"logs"]}),u.jsx("button",{type:"button",onClick:()=>e==="skill-usage"?r():n("skill-usage"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="skill-usage"?"absolute top-2 right-2 md:static":""}`,"aria-label":e==="skill-usage"?"Close Skill Usage":"Expand Skill Usage",title:e==="skill-usage"?"Close":"Expand",children:e==="skill-usage"?u.jsx(za,{className:"w-4 h-4"}):u.jsx(ni,{className:"w-4 h-4"})})]})]}),s.length>0&&u.jsxs("div",{className:"flex items-center gap-2 pb-2 overflow-x-auto pr-1 -mx-1 px-1",children:[u.jsx("button",{type:"button",onClick:()=>l([]),className:"shrink-0 px-3 py-1 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:"Clear All"}),s.map(j=>{const L=d.get(j);return L?u.jsxs("span",{className:"flex items-center gap-1 rounded-full border border-cyan-400/40 bg-cyan-500/10 px-3 py-1 text-xs text-cyan-200 shrink-0",children:[u.jsx("span",{className:"truncate max-w-[140px]",children:L.displayName}),u.jsxs("span",{className:"text-[10px] text-cyan-200/70",children:[L.logs," ",L.logs===1?"log":"logs"]}),u.jsx("button",{type:"button",onClick:()=>c(L.key),className:"rounded-full p-1 text-cyan-200 hover:bg-white/20",children:u.jsx(vD,{className:"w-3 h-3"})})]},L.key):null})]}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Squad Players"}),u.jsx("input",{type:"search",value:v,onChange:j=>x(j.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),u.jsx("div",{className:"skill-usage-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:f.length===0?u.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No squad players match the filter"}):f.map(j=>{const L=p===j.profession,G=j.players.map(Y=>Y.key),Z=G.length>0&&G.every(Y=>s.includes(Y));return u.jsxs("div",{className:"border-b border-white/5 last:border-b-0",children:[u.jsx("button",{type:"button",onClick:()=>{if(L){m(null);return}m(j.profession)},className:`skill-usage-player-list-item w-full px-3 py-2 text-left transition-colors ${L?"bg-white/10":"hover:bg-white/5"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[E(j.profession,void 0,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:j.profession})]}),u.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[u.jsxs("span",{className:"text-[10px]",children:[j.players.length,"p"]}),L?u.jsx(Yb,{className:"w-3.5 h-3.5"}):u.jsx(yz,{className:"w-3.5 h-3.5"})]})]})}),L&&u.jsxs("div",{className:"pb-2",children:[u.jsxs("div",{className:"px-6 pt-1 pb-2 flex items-center justify-between text-[11px] text-gray-400",children:[u.jsxs("span",{children:[j.players.length," ",j.players.length===1?"player":"players"]}),u.jsx("button",{type:"button",onClick:()=>{l(Y=>{if(Z)return Y.filter(_=>!G.includes(_));const q=new Set(Y);return G.forEach(_=>q.add(_)),Array.from(q)})},className:"skill-usage-player-list-item px-2 py-0.5 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:Z?"Clear All":"Select All"})]}),j.players.map(Y=>{const q=s.includes(Y.key);return u.jsx("button",{type:"button",onClick:()=>h(Y.key),className:`skill-usage-player-list-item w-full border-b border-white/5 px-6 py-2 text-left transition-colors last:border-b-0 ${q?"border-cyan-400 bg-cyan-500/10 text-white":"border-transparent hover:border-white/10 hover:bg-white/5"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:Y.displayName}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:[Y.account,"  ",Y.profession,"  ",Y.logs," ",Y.logs===1?"log":"logs"]})]}),q&&u.jsx(hD,{className:"w-4 h-4 text-cyan-300"})]})},Y.key)})]})]},j.profession)})})]}),u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Skill Totals"}),u.jsx("div",{className:"text-[11px] text-gray-500",children:s.length>0?`${s.length} player${s.length===1?"":"s"}  ${W?"casts/sec":"total casts"}`:"Select players"})]}),u.jsx("input",{type:"search",value:S,onChange:j=>C(j.target.value),placeholder:"Filter skill names",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),u.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/20 p-0.5 flex-1 min-h-0",children:s.length===0?u.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"Select squad players to see the skills they cast."}):D.length===0?u.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"No skill casts found for the selected players."}):(()=>{const j=D.reduce((L,G)=>Math.max(L,G.total),0)||1;return u.jsx("div",{className:"space-y-0.5 h-full overflow-y-auto pr-0.5",children:D.map((L,G)=>{const Z=Math.min(100,L.total/j*100),Y=N===L.skillId;return u.jsxs("button",{type:"button",onClick:()=>M(L.skillId),className:`w-full space-y-1 rounded-lg border px-2 py-1.5 text-left transition-colors ${Y?"border-white/60 bg-white/10":"border-white/10 bg-white/5 hover:border-white/30 hover:bg-white/10"}`,children:[u.jsxs("div",{className:"flex items-center justify-between text-sm text-white min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-400",children:`#${G+1}`}),u.jsx(Nr,{name:L.name,iconUrl:L.icon,iconClassName:"h-6 w-6",className:"min-w-0 flex-1 max-w-[58vw] sm:max-w-none",textClassName:"font-semibold"})]}),u.jsx("span",{className:"text-cyan-200 font-mono text-xs shrink-0",children:I(L.total)})]}),u.jsx("div",{className:"h-1 w-full rounded-full bg-white/10",children:u.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${Z}%`,backgroundColor:L.color}})})]},L.skillId)})})})()})]})]}),u.jsx("div",{className:"space-y-3",children:P?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-4 rounded-2xl bg-black/50 p-4 mt-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:R?u.jsx(Nr,{name:R,iconUrl:T,iconClassName:"h-6 w-6"}):"Selected Skill Usage"}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:["(",W?"casts per second":"casts per log",")"]})]}),u.jsx(wc,{width:"100%",height:250,children:u.jsxs(_g,{data:Q,children:[u.jsx(qf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Yf,{dataKey:"index",type:"number",tick:{fill:"#e2e8f0",fontSize:10},interval:0,tickFormatter:j=>{const L=Q[j],G=String((L==null?void 0:L.shortLabel)??j);return G.length>20?`${G.slice(0,20)}`:G}}),u.jsx(Gf,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,ee)],allowDecimals:!1}),u.jsx(jc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},content:({active:j,payload:L,label:G})=>{var Z;if(!j||!L||L.length===0)return null;const Y=[...L].sort((ne,re)=>(re.value||0)-(ne.value||0)),q=Y[0],_=((Z=q==null?void 0:q.payload)==null?void 0:Z.fullLabel)||G;return u.jsxs("div",{className:"rounded-lg bg-slate-900/95 border border-white/10 px-3 py-2 shadow-xl",children:[u.jsx("div",{className:"text-sm text-white mb-1",children:_}),u.jsx("div",{className:"space-y-1",children:Y.map(ne=>{const re=String(ne.name||""),F=d.get(re),ae=(F==null?void 0:F.displayName)||re||"Player",H=I(Number(ne.value||0)),$=ne.color||"#38bdf8";return u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"truncate",style:{color:$},children:ae}),u.jsx("span",{className:"text-gray-200 font-mono",children:H})]},`${ae}-${H}`)})})]})}}),s.map(j=>{const L=z.includes(j),G=z.length>0,Z=ie(j,L,G),Y=k(j),q=z.length>0&&!L;return u.jsx(ns,{dataKey:j,stroke:Z,strokeWidth:L?4:3,strokeDasharray:Y,opacity:q?.6:1,dot:!1,isAnimationActive:s.length<=16,animationDuration:420,animationEasing:"ease-out"},j)})]})})]}),s.length>0&&u.jsxs("div",{className:"rounded-2xl bg-black/40 border border-white/10 p-4 space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.4em] text-gray-400",children:"Selected Players"}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[s.length," ",s.length===1?"player":"players"]})]}),u.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:[...s].sort((j,L)=>(ue.get(L)||0)-(ue.get(j)||0)).map(j=>{const L=d.get(j),G=ue.get(j)??0,Z=z.includes(j),Y=z.length>0,q=ie(j,Z,Y);return u.jsxs("button",{type:"button",onClick:()=>{B(_=>_.includes(j)?_.filter(ne=>ne!==j):[..._,j])},className:`w-full rounded-2xl border bg-white/5 p-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-left transition cursor-pointer focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/70 min-w-0 ${Z?"border-white/40 bg-white/10":"border-white/10 hover:border-white/30 hover:bg-white/10"}`,"aria-pressed":Z,children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("svg",{className:"h-2 w-6",viewBox:"0 0 24 4","aria-hidden":"true",children:u.jsx("line",{x1:"0",y1:"2",x2:"24",y2:"2",stroke:q,strokeWidth:"2",strokeDasharray:k(j),strokeLinecap:"round"})}),E(L==null?void 0:L.profession,L==null?void 0:L.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.4em] text-gray-400",children:"Player"}),u.jsx("div",{className:"font-semibold text-white truncate",children:(L==null?void 0:L.displayName)||j}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:[(L==null?void 0:L.logs)??0," ",((L==null?void 0:L.logs)??0)===1?"log":"logs"]})]})]}),u.jsx("div",{className:"text-2xl sm:text-3xl font-black text-white font-mono self-end sm:self-auto shrink-0",children:I(G)})]},j)})})]})]}):u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 mt-2 text-center text-xs text-gray-400",children:O?"Pick one skill and up to two players to visualize their usage over time.":"Upload or highlight logs with rotation data to enable the skill usage tracker."})})]}),oae=({containerRef:e,className:t=""})=>{const n=y.useRef(null),[r,a]=y.useState(0),[i,o]=y.useState(0),s=y.useRef(!1),l=y.useRef(0),c=y.useRef(0);y.useLayoutEffect(()=>{const p=e.current;if(!p)return;let m=0;const h=()=>{const{scrollWidth:w,clientWidth:S,scrollLeft:C}=p,N=w>S,M=n.current,D=(M==null?void 0:M.clientWidth)||0;if(!D){m=window.requestAnimationFrame(h);return}if(!N){a(D),o(0);return}const R=S/w,T=Math.max(20,Math.floor(D*R)),P=w-S,O=Math.max(0,D-T),W=P>0?Math.floor(C/P*O):0;a(T),o(W)};h();const v=()=>h(),x=new ResizeObserver(h);x.observe(p);const g=p.firstElementChild;g instanceof HTMLElement&&x.observe(g),n.current&&x.observe(n.current);const b=new MutationObserver(()=>h());return b.observe(p,{childList:!0,subtree:!0,attributes:!0}),window.addEventListener("resize",h),p.addEventListener("scroll",v),()=>{m&&window.cancelAnimationFrame(m),x.disconnect(),b.disconnect(),window.removeEventListener("resize",h),p.removeEventListener("scroll",v)}},[e]),y.useEffect(()=>{const p=h=>{if(!s.current)return;const v=n.current,x=e.current;if(!v||!x)return;const g=v.getBoundingClientRect(),b=h.clientX-l.current,w=Math.max(0,g.width-r),S=Math.min(w,Math.max(0,c.current+b)),C=x.scrollWidth-x.clientWidth,N=w>0?S/w*C:0;x.scrollLeft=N},m=()=>{s.current=!1};return window.addEventListener("pointermove",p),window.addEventListener("pointerup",m),()=>{window.removeEventListener("pointermove",p),window.removeEventListener("pointerup",m)}},[e,r]);const d=p=>{const m=n.current,h=e.current;if(!m||!h||r<=0)return;const v=m.getBoundingClientRect(),x=p.clientX-v.left,g=Math.max(0,v.width-r),b=Math.min(g,Math.max(0,x-r/2)),w=h.scrollWidth-h.clientWidth;h.scrollLeft=g>0?b/g*w:0},f=p=>{r<=0||(s.current=!0,l.current=p.clientX,c.current=i,p.currentTarget.setPointerCapture(p.pointerId))};return u.jsx("div",{className:`scroll-scrubber ${t}`,children:u.jsx("div",{ref:n,className:"scroll-scrubber__track",onClick:d,children:u.jsx("div",{className:"scroll-scrubber__thumb",style:{width:`${r}px`,transform:`translateX(${i}px)`},onPointerDown:f})})})},go=({title:e,subtitle:t,controls:n,columns:r,rows:a,sortColumnId:i,sortDirection:o="desc",onSortColumn:s,className:l=""})=>{const c=y.useRef(null),d=["minmax(170px, max-content)",...r.map(f=>`minmax(${f.minWidth??60}px, max-content)`)].join(" ");return u.jsxs("div",{className:`dense-table ${l}`,children:[(e||t)&&u.jsxs("div",{className:"dense-table__header",children:[e&&u.jsx("div",{className:"dense-table__title",children:e}),t&&u.jsx("div",{className:"dense-table__subtitle",children:t})]}),n&&u.jsx("div",{className:"dense-table__controls",children:n}),u.jsx("div",{ref:c,className:"dense-table__scroll",children:u.jsxs("div",{className:"dense-table__grid",style:{gridTemplateColumns:d},children:[u.jsx("div",{className:"dense-table__head dense-table__head--sticky dense-table__head--pinned",children:u.jsx("div",{className:"dense-table__head-inner",children:"Player"})}),r.map(f=>{const p=!!s,m=i===f.id?o==="desc"?"":"":null;return u.jsx("div",{className:`dense-table__head ${f.align==="right"?"dense-table__cell--right":""}`,style:f.minWidth?{minWidth:f.minWidth}:void 0,children:p?u.jsxs("button",{type:"button",onClick:()=>s==null?void 0:s(f.id),className:"dense-table__head-inner",children:[u.jsx("span",{className:"truncate",children:f.label}),m&&u.jsx("span",{className:"text-[10px] text-slate-200",children:m})]}):u.jsx("div",{className:"dense-table__head-inner",children:f.label})},f.id)}),a.map(f=>u.jsxs("div",{className:"dense-table__row",children:[u.jsx("div",{className:"dense-table__cell dense-table__cell--label dense-table__cell--pinned",children:f.label}),r.map(p=>u.jsx("div",{className:`dense-table__cell ${p.align==="right"?"dense-table__cell--right":""}`,children:f.values[p.id]??"-"},`${f.id}-${p.id}`))]},f.id))]})}),u.jsx(oae,{containerRef:c})]})},yo=({options:e,selectedIds:t,placeholder:n="Search...",onSelect:r,className:a=""})=>{const[i,o]=y.useState(""),[s,l]=y.useState(!1),[c,d]=y.useState(0),f=y.useRef(null),p=y.useRef(null),m=y.useRef(new Map);y.useEffect(()=>{const g=b=>{f.current&&(f.current.contains(b.target)||l(!1))};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const h=y.useMemo(()=>{const g=i.trim().toLowerCase();return g?e.filter(b=>b.label.toLowerCase().includes(g)).slice(0,50):e.slice(0,50)},[e,i]),v=y.useMemo(()=>{const g=new Map;return h.forEach((b,w)=>{g.set(`${b.type}-${b.id}`,w)}),g},[h]),x=y.useMemo(()=>{const g=h.filter(w=>w.type==="column"),b=h.filter(w=>w.type==="player");return{columns:g,players:b}},[h]);return y.useEffect(()=>{if(s){if(h.length===0){d(0);return}d(g=>Math.min(Math.max(g,0),h.length-1))}},[h,s]),y.useEffect(()=>{if(!s)return;const g=h[c];if(!g)return;const b=`${g.type}-${g.id}`,w=m.current.get(b);w&&p.current&&w.scrollIntoView({block:"nearest"})},[c,h,s]),u.jsxs("div",{ref:f,className:`relative ${a}`,children:[u.jsx("input",{value:i,onChange:g=>{o(g.target.value),l(!0)},onKeyDown:g=>{if(!s&&(g.key==="ArrowDown"||g.key==="ArrowUp")){l(!0);return}if(s)if(g.key==="ArrowDown"){if(g.preventDefault(),h.length===0)return;d(b=>(b+1)%h.length)}else if(g.key==="ArrowUp"){if(g.preventDefault(),h.length===0)return;d(b=>(b-1+h.length)%h.length)}else if(g.key==="Enter"){g.preventDefault();const b=h[c];if(!b)return;r(b),o(""),l(!1)}else g.key==="Escape"&&(g.preventDefault(),l(!1))},onFocus:()=>l(!0),placeholder:n,className:"w-full sm:w-64 bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none"}),s&&u.jsx("div",{className:"absolute z-30 mt-2 w-64 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:h.length===0?u.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No matches"}):u.jsxs("div",{ref:p,className:"max-h-60 overflow-y-auto space-y-2 pr-1",children:[x.columns.length>0&&u.jsxs("div",{children:[u.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Columns"}),x.columns.map(g=>{const b=(t==null?void 0:t.has(`${g.type}:${g.id}`))??!1;return u.jsx("button",{type:"button",ref:w=>{m.current.set(`${g.type}-${g.id}`,w)},onClick:()=>{r(g),o(""),l(!1)},onMouseEnter:()=>{const w=v.get(`${g.type}-${g.id}`);typeof w=="number"&&d(w)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${c===v.get(`${g.type}-${g.id}`)?"bg-white/10 border-white/10":""} ${b?"bg-white/15 border-white/20":""}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[g.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:g.icon}):null,u.jsx("span",{className:"truncate",children:g.label})]})},`${g.type}-${g.id}`)})]}),x.players.length>0&&u.jsxs("div",{children:[u.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Players"}),x.players.map(g=>{const b=(t==null?void 0:t.has(`${g.type}:${g.id}`))??!1;return u.jsx("button",{type:"button",ref:w=>{m.current.set(`${g.type}-${g.id}`,w)},onClick:()=>{r(g),o(""),l(!1)},onMouseEnter:()=>{const w=v.get(`${g.type}-${g.id}`);typeof w=="number"&&d(w)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${c===v.get(`${g.type}-${g.id}`)?"bg-white/10 border-white/10":""} ${b?"bg-white/15 border-white/20":""}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[g.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:g.icon}):null,u.jsx("span",{className:"truncate",children:g.label})]})},`${g.type}-${g.id}`)})]})]})})]})},pr=({options:e,selectedIds:t,onToggle:n,onClear:r,className:a="",buttonLabel:i="Columns",buttonIcon:o})=>{const[s,l]=y.useState(!1),c=y.useRef(null),d=new Set(t);return y.useEffect(()=>{const f=p=>{c.current&&(c.current.contains(p.target)||l(!1))};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]),u.jsxs("div",{ref:c,className:`relative ${a}`,children:[u.jsxs("button",{type:"button",onClick:()=>l(f=>!f),className:"flex items-center gap-2 rounded-lg border border-white/10 bg-white/5 px-3 py-1 text-xs font-semibold text-gray-300 hover:text-white hover:border-white/30 transition-colors",children:[o?u.jsx("span",{className:"h-3.5 w-3.5 text-gray-400",children:o}):null,u.jsx("span",{children:i}),t.length>0&&u.jsx("span",{className:"rounded-full bg-white/10 px-2 py-0.5 text-[10px] text-gray-200",children:t.length})]}),s&&u.jsxs("div",{className:"absolute z-20 mt-2 w-56 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between px-2 pb-2 text-[11px] uppercase tracking-widest text-gray-500",children:[u.jsx("span",{children:"Filter Columns"}),u.jsx("button",{type:"button",onClick:r,className:"text-gray-400 hover:text-white",children:"Clear"})]}),u.jsx("div",{className:"max-h-56 overflow-y-auto space-y-1 pr-1",children:e.length===0?u.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No columns"}):e.map(f=>u.jsx("button",{type:"button",onClick:()=>n(f.id),className:`w-full text-left px-2 py-1.5 rounded-lg border transition-colors ${d.has(f.id)?"bg-white/10 border-white/20 text-white":"border-transparent text-gray-300 hover:bg-white/5 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`h-2.5 w-2.5 rounded-full border ${d.has(f.id)?"bg-emerald-400/80 border-emerald-300":"border-gray-500"}`}),f.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center shrink-0",children:f.icon}):null,u.jsx("span",{className:"truncate max-w-[140px]",children:f.label})]})},f.id))})]})]})},sae=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,sidebarListClass:s,apmSpecAvailable:l,skillUsageAvailable:c,apmSpecTables:d,activeApmSpec:f,setActiveApmSpec:p,expandedApmSpec:m,setExpandedApmSpec:h,activeApmSkillId:v,setActiveApmSkillId:x,ALL_SKILLS_KEY:g,apmSkillSearch:b,setApmSkillSearch:w,activeApmSpecTable:S,activeApmSkill:C,isAllApmSkills:N,apmView:M,setApmView:D,formatApmValue:R,formatCastRateValue:T,formatCastCountValue:P,renderProfessionIcon:O})=>{var W;const[Q,ee]=y.useState({key:"apm",dir:"desc"}),ue=e==="apm-stats",[z,B]=y.useState({columnId:"",dir:"desc"}),[ie,k]=y.useState([]),[I,E]=y.useState([]),[j,L]=y.useState({}),G=ue?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${s} max-h-72 overflow-y-auto`,Z=q=>{ee(_=>({key:q,dir:_.key===q&&_.dir==="desc"?"asc":"desc"}))},Y=y.useMemo(()=>{const q=[...(S==null?void 0:S.playerRows)||[]];return q.sort((_,ne)=>{const re=Q.key==="apm"?Number(M==="perSecond"?_.aps:_.apm):Number(M==="perSecond"?_.apsNoAuto:_.apmNoAuto),F=Q.key==="apm"?Number(M==="perSecond"?ne.aps:ne.apm):Number(M==="perSecond"?ne.apsNoAuto:ne.apmNoAuto);return(Q.dir==="desc"?F-re:re-F)||String(_.displayName||"").localeCompare(String(ne.displayName||""))}),q},[S,Q,M]);return u.jsxs("div",{id:"apm-stats","data-section-visible":a("apm-stats"),"data-section-first":i("apm-stats"),className:o("apm-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="apm-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(k1,{className:"w-5 h-5 text-emerald-300"}),"APM Breakdown"]}),u.jsxs("div",{className:"flex items-center gap-3 relative",children:[u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[d.length," ",d.length===1?"spec":"specs"]}),u.jsx("button",{type:"button",onClick:()=>e==="apm-stats"?r():n("apm-stats"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="apm-stats"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="apm-stats"?"Close APM Breakdown":"Expand APM Breakdown",title:e==="apm-stats"?"Close":"Expand",children:e==="apm-stats"?u.jsx(za,{className:"w-4 h-4"}):u.jsx(ni,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:e==="apm-stats"?"flex-1 min-h-0 flex flex-col":"",children:l?u.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="apm-stats"?"flex-1 min-h-0 h-full":""}`,children:[u.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="apm-stats"?"h-full":""}`,children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Elite Specs"}),u.jsx("div",{className:"mb-2",children:u.jsx("input",{type:"text",value:b,onChange:q=>w(q.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"})}),u.jsx("div",{className:G,children:d.map(q=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const _=f!==q.profession;p(q.profession),h(_?q.profession:m===q.profession?null:q.profession),_&&(x(g),k([]),E([]))},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${f===q.profession?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[O(q.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:q.profession})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:u.jsxs("span",{className:"text-[10px]",children:[q.players.length,"p"]})})]})}),!ue&&m===q.profession&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:j[q.profession]||"",onChange:_=>{const ne=_.target.value;L(re=>({...re,[q.profession]:ne}))},placeholder:"Filter this spec...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"}),u.jsx("button",{type:"button",onClick:()=>{p(q.profession),x(g)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===q.profession&&N?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Skills"}),(q.skills||[]).filter(_=>{const ne=(j[q.profession]||"").trim().toLowerCase();return ne?String(_.name||"").toLowerCase().includes(ne):!0}).map(_=>u.jsx("button",{type:"button",onClick:()=>{p(q.profession),x(_.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===q.profession&&v===_.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:_.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[_.icon?u.jsx("img",{src:_.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate",children:_.name})]})},_.id)),(q.skills||[]).filter(_=>{const ne=(j[q.profession]||"").trim().toLowerCase();return ne?String(_.name||"").toLowerCase().includes(ne):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},q.profession))})]}),u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="apm-stats"?"flex flex-col min-h-0":""}`,children:S?u.jsxs("div",{className:e==="apm-stats"?"flex flex-col min-h-0":"",children:[ue&&(()=>{const q=S.skills||[],_=(S.playerRows||[]).map(ae=>({id:ae.key,label:ae.displayName||ae.account||ae.key,icon:O(ae.profession,ae.professionList,"w-3 h-3")})),ne=q.map(ae=>({id:ae.id,label:ae.name,icon:ae.icon?u.jsx("img",{src:ae.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),re=[...q.map(ae=>({id:ae.id,label:ae.name,type:"column",icon:ae.icon?u.jsx("img",{src:ae.icon,alt:"",className:"h-4 w-4"}):void 0})),...(S.playerRows||[]).map(ae=>({id:ae.key,label:ae.displayName||ae.account||ae.key,type:"player",icon:O(ae.profession,ae.professionList,"w-3 h-3")}))],F=new Set([...ie.map(ae=>`column:${ae}`),...I.map(ae=>`player:${ae}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"APM"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(yo,{options:re,selectedIds:F,onSelect:ae=>{ae.type==="column"?k(H=>H.includes(ae.id)?H.filter($=>$!==ae.id):[...H,ae.id]):E(H=>H.includes(ae.id)?H.filter($=>$!==ae.id):[...H,ae.id])},className:"w-full sm:w-64"}),u.jsx(pr,{options:ne,selectedIds:ie,onToggle:ae=>{k(H=>H.includes(ae)?H.filter($=>$!==ae):[...H,ae])},onClear:()=>k([]),buttonLabel:"Columns",buttonIcon:u.jsx(mo,{className:"h-3.5 w-3.5"})}),u.jsx(pr,{options:_,selectedIds:I,onToggle:ae=>{E(H=>H.includes(ae)?H.filter($=>$!==ae):[...H,ae])},onClear:()=>E([]),buttonLabel:"Players",buttonIcon:u.jsx(Sr,{className:"h-3.5 w-3.5"})}),u.jsx(An,{value:M,onChange:D,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(ie.length>0||I.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{k([]),E([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),ie.map(ae=>{var H;const $=((H=q.find(le=>le.id===ae))==null?void 0:H.name)||ae;return u.jsxs("button",{type:"button",onClick:()=>k(le=>le.filter(we=>we!==ae)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:$}),u.jsx("span",{className:"text-gray-400",children:""})]},ae)}),I.map(ae=>{var H;const $=((H=_.find(le=>le.id===ae))==null?void 0:H.label)||ae;return u.jsxs("button",{type:"button",onClick:()=>E(le=>le.filter(we=>we!==ae)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:$}),u.jsx("span",{className:"text-gray-400",children:""})]},ae)})]})]})})(),ue?(()=>{var q,_;const ne=S.skills||[],re=ie.length>0?ne.filter($=>ie.includes($.id)):ne,F=I.length>0?(S.playerRows||[]).filter($=>I.includes($.key)):S.playerRows||[];if(ne.length===0)return u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No skills available for this class."});const ae=((q=re.find($=>$.id===z.columnId))==null?void 0:q.id)||((_=re[0])==null?void 0:_.id)||"",H=[...F].map($=>{const le={},we={};return re.forEach(et=>{var de;const Ye=Number(((de=et.playerCounts)==null?void 0:de.get($.key))||0),Re=M==="perSecond"?Ye/Math.max(1,$.totalActiveSeconds||0):Ye;we[et.id]=Re,le[et.id]=M==="perSecond"?T(Re):P(Re)}),{row:$,values:le,numericValues:we}}).sort(($,le)=>{const we=$.numericValues[ae]??0,et=le.numericValues[ae]??0;return(z.dir==="desc"?et-we:we-et)||String($.row.displayName||"").localeCompare(String(le.row.displayName||""))});return u.jsx(go,{title:"APM - Dense View",subtitle:"Skills",sortColumnId:ae,sortDirection:z.dir,onSortColumn:$=>{B(le=>({columnId:$,dir:le.columnId===$&&le.dir==="desc"?"asc":"desc"}))},columns:re.map($=>({id:$.id,label:u.jsx(Nr,{name:$.name,iconUrl:$.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:H.map(($,le)=>({id:`${S.profession}-${$.row.key}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:le+1}),O($.row.profession,$.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:$.row.displayName})]}),values:$.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"min-w-0 text-sm font-semibold text-gray-200",children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[O(S.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:S.profession}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),N||!C?u.jsx("span",{className:"truncate",children:"All Skills"}):u.jsx(Nr,{name:C.name,iconUrl:C.icon,iconClassName:"h-5 w-5"})]})}),u.jsx("div",{className:"text-[11px] text-gray-500",children:N||!C?`${((W=S.playerRows)==null?void 0:W.length)||0} players`:`${(C==null?void 0:C.totalCasts)??0} casts`})]}),N||!C?u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.7fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>Z("apm"),className:`text-right transition-colors ${Q.key==="apm"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[M==="perSecond"?"APS":"APM",Q.key==="apm"?Q.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>Z("apmNoAuto"),className:`text-right transition-colors ${Q.key==="apmNoAuto"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[M==="perSecond"?"APS":"APM"," (No Auto)",Q.key==="apmNoAuto"?Q.dir==="desc"?" ":" ":""]})]}):u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.4fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsx("div",{className:"text-right",children:"Casts"}),u.jsx("div",{className:"text-right",children:M==="perSecond"?"APS":"APM"})]})]}),N||!C?u.jsx(u.Fragment,{children:u.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:Y.map((q,_)=>u.jsxs("div",{className:"grid grid-cols-[1.6fr_0.7fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${_+1}`}),O(q.profession,q.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:q.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:R(M==="perSecond"?q.aps:q.apm)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:R(M==="perSecond"?q.apsNoAuto:q.apmNoAuto)})]},`${S.profession}-all-${q.key}`))})}):u.jsx(u.Fragment,{children:u.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:((C==null?void 0:C.playerRows)||[]).length===0?u.jsx("div",{className:"px-4 py-8 text-center text-sm text-gray-500 italic border-t border-white/5",children:"No player rows available for this skill."}):((C==null?void 0:C.playerRows)||[]).map((q,_)=>u.jsxs("div",{className:"grid grid-cols-[1.4fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${_+1}`}),O(q.profession,q.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:q.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:P(Number(q.count||0))}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:R(Number(M==="perSecond"?q.aps||0:q.apm||0))})]},`${S.profession}-${C.id}-${q.key}`))})})]})]}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select an elite spec to view APM details"})})]}):u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:c?"No APM data available for the current selection.":"Upload or highlight logs with rotation data to enable the APM table."})})]})},lae=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,sidebarListClass:s,viewMode:l,setViewMode:c,playerSkillBreakdowns:d,classSkillBreakdowns:f,activePlayerKey:p,setActivePlayerKey:m,expandedPlayerKey:h,setExpandedPlayerKey:v,activePlayerSkillId:x,setActivePlayerSkillId:g,activeClassKey:b,setActiveClassKey:w,expandedClassKey:S,setExpandedClassKey:C,activeClassSkillId:N,setActiveClassSkillId:M,skillSearch:D,setSkillSearch:R,activePlayerBreakdown:T,activePlayerSkill:P,activeClassBreakdown:O,activeClassSkill:W,renderProfessionIcon:Q})=>{const ee=d.length,ue=((T==null?void 0:T.skills)||[]).reduce((H,$)=>H+($.damage||0),0),z=(O==null?void 0:O.players)||[],[B,ie]=y.useState({key:"down",dir:"desc"}),k=e==="player-breakdown",[I,E]=y.useState([]),[j,L]=y.useState([]),[G,Z]=y.useState({columnId:"",dir:"desc"}),[Y,q]=y.useState({}),[_,ne]=y.useState({}),re=k?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${s} max-h-72 overflow-y-auto`,F=y.useMemo(()=>{if(!O||!W)return z;const H=[...z];return H.sort(($,le)=>{var we,et;const de=(we=$.skillMap)==null?void 0:we[W.id],Ye=(et=le.skillMap)==null?void 0:et[W.id],Re=Number((de==null?void 0:de.downContribution)||0),ht=Number((Ye==null?void 0:Ye.downContribution)||0),Xt=Number((de==null?void 0:de.damage)||0),Tn=Number((Ye==null?void 0:Ye.damage)||0),Cn=$.totalFightMs>0?Xt/($.totalFightMs/1e3):0,ge=le.totalFightMs>0?Tn/(le.totalFightMs/1e3):0;let Ie=0;return B.key==="down"&&(Ie=Re-ht),B.key==="damage"&&(Ie=Xt-Tn),B.key==="dps"&&(Ie=Cn-ge),B.dir==="asc"?Ie:-Ie}),H},[O,z,W,B]),ae=H=>{ie($=>$.key!==H?{key:H,dir:"desc"}:{key:H,dir:$.dir==="desc"?"asc":"desc"})};return u.jsxs("div",{id:"player-breakdown","data-section-visible":a("player-breakdown"),"data-section-first":i("player-breakdown"),className:o("player-breakdown",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="player-breakdown"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(b1,{className:"w-5 h-5 text-sky-300"}),"Player Breakdown"]}),u.jsxs("div",{className:"flex items-center gap-3 relative",children:[u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[ee," ",ee===1?"player":"players"]}),u.jsx("button",{type:"button",onClick:()=>e==="player-breakdown"?r():n("player-breakdown"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="player-breakdown"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="player-breakdown"?"Close Player Breakdown":"Expand Player Breakdown",title:e==="player-breakdown"?"Close":"Expand",children:e==="player-breakdown"?u.jsx(za,{className:"w-4 h-4"}):u.jsx(ni,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:e==="player-breakdown"?"flex-1 min-h-0 flex flex-col":"",children:d.length===0?u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:"No player skill damage data available for the current selection."}):u.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="player-breakdown"?"flex-1 min-h-0 h-full":""}`,children:[u.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="player-breakdown"?"h-full":""}`,children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:k?"Squad Classes":l==="player"?"Squad Players":"Squad Classes"}),!k&&u.jsx("div",{className:"flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"player",label:"Player"},{id:"class",label:"Class"}].map(H=>{const $=l===H.id;return u.jsx("button",{type:"button",onClick:()=>c(H.id),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${$?"bg-sky-500/30 text-sky-100":"text-gray-400 hover:text-white"}`,children:H.label},H.id)})})]}),u.jsx("div",{className:"mb-2",children:u.jsx("input",{type:"text",value:D,onChange:H=>R(H.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"})}),u.jsx("div",{className:re,children:(k?"class":l)==="player"?d.map(H=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const $=p!==H.key;$&&(g(null),E([]),L([])),m(H.key),v($?H.key:h===H.key?null:H.key)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${p===H.key?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:H.displayName,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Q(H.profession,H.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate min-w-0",children:H.displayName})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400 shrink-0",children:u.jsxs("span",{className:"text-[10px] whitespace-nowrap",children:[H.skills.length," skills"]})})]})}),!k&&h===H.key&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:Y[H.key]||"",onChange:$=>{const le=$.target.value;q(we=>({...we,[H.key]:le}))},placeholder:"Filter this player's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),H.skills.filter($=>{const le=(Y[H.key]||"").trim().toLowerCase();return le?String($.name||"").toLowerCase().includes(le):!0}).map($=>u.jsx("button",{type:"button",onClick:()=>{m(H.key),g($.id)},className:`w-full min-h-[30px] text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${p===H.key&&x===$.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:$.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[$.icon?u.jsx("img",{src:$.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",children:$.name})]})},$.id)),H.skills.filter($=>{const le=(Y[H.key]||"").trim().toLowerCase();return le?String($.name||"").toLowerCase().includes(le):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},H.key)):f.map(H=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const $=b!==H.profession;$&&(M(null),E([]),L([])),w(H.profession),C($?H.profession:S===H.profession?null:H.profession)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${b===H.profession?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Q(H.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:H.profession})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:u.jsxs("span",{className:"text-[10px]",children:[H.players.length,"p"]})})]})}),!k&&S===H.profession&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:_[H.profession]||"",onChange:$=>{const le=$.target.value;ne(we=>({...we,[H.profession]:le}))},placeholder:"Filter this class's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),H.skills.filter($=>{const le=(_[H.profession]||"").trim().toLowerCase();return le?String($.name||"").toLowerCase().includes(le):!0}).map($=>u.jsx("button",{type:"button",onClick:()=>{w(H.profession),M($.id)},className:`w-full min-h-[30px] text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${b===H.profession&&N===$.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:$.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[$.icon?u.jsx("img",{src:$.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",children:$.name})]})},$.id)),H.skills.filter($=>{const le=(_[H.profession]||"").trim().toLowerCase();return le?String($.name||"").toLowerCase().includes(le):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},H.profession))})]}),u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="player-breakdown"?"flex flex-col min-h-0":""}`,children:(k?"class":l)==="player"?!T||!k&&!P?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a player and skill to view breakdown details"}):u.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[k&&(()=>{const H=T.skills||[],$=d.map(de=>({id:de.key,label:de.displayName||de.key,icon:Q(de.profession,de.professionList,"w-3 h-3")})),le=H.map(de=>({id:de.id,label:de.name,icon:de.icon?u.jsx("img",{src:de.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),we=[...H.map(de=>({id:de.id,label:de.name,type:"column",icon:de.icon?u.jsx("img",{src:de.icon,alt:"",className:"h-4 w-4"}):void 0})),...d.map(de=>({id:de.key,label:de.displayName||de.key,type:"player",icon:Q(de.profession,de.professionList,"w-3 h-3")}))],et=new Set([...I.map(de=>`column:${de}`),...j.map(de=>`player:${de}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Player Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(yo,{options:we,selectedIds:et,onSelect:de=>{de.type==="column"?E(Ye=>Ye.includes(de.id)?Ye.filter(Re=>Re!==de.id):[...Ye,de.id]):L(Ye=>Ye.includes(de.id)?Ye.filter(Re=>Re!==de.id):[...Ye,de.id])},className:"w-full sm:w-64"}),u.jsx(pr,{options:le,selectedIds:I,onToggle:de=>{E(Ye=>Ye.includes(de)?Ye.filter(Re=>Re!==de):[...Ye,de])},onClear:()=>E([]),buttonLabel:"Columns",buttonIcon:u.jsx(mo,{className:"h-3.5 w-3.5"})}),u.jsx(pr,{options:$,selectedIds:j,onToggle:de=>{L(Ye=>Ye.includes(de)?Ye.filter(Re=>Re!==de):[...Ye,de])},onClear:()=>L([]),buttonLabel:"Players",buttonIcon:u.jsx(Sr,{className:"h-3.5 w-3.5"})})]}),(I.length>0||j.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{E([]),L([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),I.map(de=>{var Ye;const Re=((Ye=H.find(ht=>ht.id===de))==null?void 0:Ye.name)||de;return u.jsxs("button",{type:"button",onClick:()=>E(ht=>ht.filter(Xt=>Xt!==de)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Re}),u.jsx("span",{className:"text-gray-400",children:""})]},de)}),j.map(de=>{var Ye;const Re=((Ye=$.find(ht=>ht.id===de))==null?void 0:Ye.label)||de;return u.jsxs("button",{type:"button",onClick:()=>L(ht=>ht.filter(Xt=>Xt!==de)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Re}),u.jsx("span",{className:"text-gray-400",children:""})]},de)})]})]})})(),k?(()=>{var H,$;const le=T.skills||[],we=I.length>0?le.filter(Re=>I.includes(Re.id)):le,et=j.length>0?d.filter(Re=>j.includes(Re.key)):d,de=((H=we.find(Re=>Re.id===G.columnId))==null?void 0:H.id)||(($=we[0])==null?void 0:$.id)||"",Ye=et.map(Re=>{const ht={},Xt={};return we.forEach(Tn=>{var Cn;const ge=(Cn=Re.skillMap)==null?void 0:Cn[Tn.id],Ie=Number((ge==null?void 0:ge.damage)||0);Xt[Tn.id]=Ie,ht[Tn.id]=Hs(Ie)}),{player:Re,values:ht,numericValues:Xt}}).sort((Re,ht)=>{const Xt=Re.numericValues[de]??0,Tn=ht.numericValues[de]??0;return(G.dir==="desc"?Tn-Xt:Xt-Tn)||String(Re.player.displayName||"").localeCompare(String(ht.player.displayName||""))});return u.jsx(go,{title:"Player Breakdown - Dense View",subtitle:"Damage",sortColumnId:de,sortDirection:G.dir,onSortColumn:Re=>{Z(ht=>({columnId:Re,dir:ht.columnId===Re&&ht.dir==="desc"?"asc":"desc"}))},columns:we.map(Re=>({id:Re.id,label:u.jsx(Nr,{name:Re.name,iconUrl:Re.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:Ye.map((Re,ht)=>({id:`${Re.player.key}-${ht}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:ht+1}),Q(Re.player.profession,Re.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Re.player.displayName})]}),values:Re.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:u.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-wrap",children:[Q(T.profession,T.professionList,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:T.displayName}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),u.jsx("div",{className:"text-sm font-semibold text-gray-200 min-w-0",children:u.jsx(Nr,{name:(P==null?void 0:P.name)||"",iconUrl:P==null?void 0:P.icon,iconClassName:"h-6 w-6",truncateText:!1,textClassName:"whitespace-normal break-words"})})]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[T.skills.length," skills | ",Hs(ue)," total damage"]})]})}),u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.2fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Metric"}),u.jsx("div",{className:"text-right",children:"Value"})]})]}),u.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:[{label:"Down Contribution",value:Hs((P==null?void 0:P.downContribution)||0)},{label:"Total Damage",value:Hs((P==null?void 0:P.damage)||0)},{label:"DPS",value:mi(T.totalFightMs>0?((P==null?void 0:P.damage)||0)/(T.totalFightMs/1e3):0,1)}].map(H=>u.jsxs("div",{className:"grid grid-cols-[1.2fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"font-semibold text-white",children:H.label}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:H.value})]},H.label))})]})]}):!O||!k&&!W?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a class and skill to view breakdown details"}):u.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[k&&(()=>{const H=O.skills||[],$=z.map(de=>({id:de.key,label:de.displayName||de.key,icon:Q(de.profession,de.professionList,"w-3 h-3")})),le=H.map(de=>({id:de.id,label:de.name,icon:de.icon?u.jsx("img",{src:de.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),we=[...H.map(de=>({id:de.id,label:de.name,type:"column",icon:de.icon?u.jsx("img",{src:de.icon,alt:"",className:"h-4 w-4"}):void 0})),...z.map(de=>({id:de.key,label:de.displayName||de.key,type:"player",icon:Q(de.profession,de.professionList,"w-3 h-3")}))],et=new Set([...I.map(de=>`column:${de}`),...j.map(de=>`player:${de}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Class Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(yo,{options:we,selectedIds:et,onSelect:de=>{de.type==="column"?E(Ye=>Ye.includes(de.id)?Ye.filter(Re=>Re!==de.id):[...Ye,de.id]):L(Ye=>Ye.includes(de.id)?Ye.filter(Re=>Re!==de.id):[...Ye,de.id])},className:"w-full sm:w-64"}),u.jsx(pr,{options:le,selectedIds:I,onToggle:de=>{E(Ye=>Ye.includes(de)?Ye.filter(Re=>Re!==de):[...Ye,de])},onClear:()=>E([]),buttonLabel:"Columns",buttonIcon:u.jsx(mo,{className:"h-3.5 w-3.5"})}),u.jsx(pr,{options:$,selectedIds:j,onToggle:de=>{L(Ye=>Ye.includes(de)?Ye.filter(Re=>Re!==de):[...Ye,de])},onClear:()=>L([]),buttonLabel:"Players",buttonIcon:u.jsx(Sr,{className:"h-3.5 w-3.5"})})]}),(I.length>0||j.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{E([]),L([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),I.map(de=>{var Ye;const Re=((Ye=H.find(ht=>ht.id===de))==null?void 0:Ye.name)||de;return u.jsxs("button",{type:"button",onClick:()=>E(ht=>ht.filter(Xt=>Xt!==de)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Re}),u.jsx("span",{className:"text-gray-400",children:""})]},de)}),j.map(de=>{var Ye;const Re=((Ye=$.find(ht=>ht.id===de))==null?void 0:Ye.label)||de;return u.jsxs("button",{type:"button",onClick:()=>L(ht=>ht.filter(Xt=>Xt!==de)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Re}),u.jsx("span",{className:"text-gray-400",children:""})]},de)})]})]})})(),k?(()=>{var H,$;const le=O.skills||[],we=I.length>0?le.filter(Re=>I.includes(Re.id)):le,et=j.length>0?z.filter(Re=>j.includes(Re.key)):z,de=((H=we.find(Re=>Re.id===G.columnId))==null?void 0:H.id)||(($=we[0])==null?void 0:$.id)||"",Ye=et.map(Re=>{const ht={},Xt={};return we.forEach(Tn=>{var Cn;const ge=(Cn=Re.skillMap)==null?void 0:Cn[Tn.id],Ie=Number((ge==null?void 0:ge.damage)||0);Xt[Tn.id]=Ie,ht[Tn.id]=Hs(Ie)}),{player:Re,values:ht,numericValues:Xt}}).sort((Re,ht)=>{const Xt=Re.numericValues[de]??0,Tn=ht.numericValues[de]??0;return(G.dir==="desc"?Tn-Xt:Xt-Tn)||String(Re.player.displayName||"").localeCompare(String(ht.player.displayName||""))});return u.jsx(go,{title:"Class Breakdown - Dense View",subtitle:"Damage",sortColumnId:de,sortDirection:G.dir,onSortColumn:Re=>{Z(ht=>({columnId:Re,dir:ht.columnId===Re&&ht.dir==="desc"?"asc":"desc"}))},columns:we.map(Re=>({id:Re.id,label:u.jsx(Nr,{name:Re.name,iconUrl:Re.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:Ye.map((Re,ht)=>({id:`${Re.player.key}-${ht}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:ht+1}),Q(Re.player.profession,Re.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Re.player.displayName})]}),values:Re.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:u.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-wrap",children:[Q(O.profession,void 0,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:O.profession}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),u.jsx("div",{className:"text-sm font-semibold text-gray-200 min-w-0",children:u.jsx(Nr,{name:(W==null?void 0:W.name)||"",iconUrl:W==null?void 0:W.icon,iconClassName:"h-6 w-6",truncateText:!1,textClassName:"whitespace-normal break-words"})})]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[z.length," players | ",O.skills.length," skills"]})]})}),u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>ae("down"),className:`text-right flex items-center justify-end gap-1 transition-colors ${B.key==="down"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Down Contrib",u.jsx("span",{className:"text-[10px]",children:B.key==="down"?B.dir==="desc"?"":"":""})]}),u.jsxs("button",{type:"button",onClick:()=>ae("damage"),className:`text-right flex items-center justify-end gap-1 transition-colors ${B.key==="damage"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage",u.jsx("span",{className:"text-[10px]",children:B.key==="damage"?B.dir==="desc"?"":"":""})]}),u.jsxs("button",{type:"button",onClick:()=>ae("dps"),className:`text-right flex items-center justify-end gap-1 transition-colors ${B.key==="dps"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["DPS",u.jsx("span",{className:"text-[10px]",children:B.key==="dps"?B.dir==="desc"?"":"":""})]})]})]}),u.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:F.map(H=>{var $;const le=($=H.skillMap)==null?void 0:$[(W==null?void 0:W.id)||""],we=Number((le==null?void 0:le.downContribution)||0),et=Number((le==null?void 0:le.damage)||0),de=H.totalFightMs>0?et/(H.totalFightMs/1e3):0;return u.jsxs("div",{className:"grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Q(H.profession,H.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:H.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:Hs(we)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:Hs(et)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:mi(de,1)})]},`${O.profession}-${H.key}`)})})]})]})})]})})]})},hL=({className:e})=>u.jsx(Tz,{className:e,style:{transform:"rotate(45deg)"}}),Ps=({expanded:e,className:t="",sidebarClassName:n="",contentClassName:r="",sidebar:a,content:i})=>u.jsxs("div",{className:`stats-table-layout grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e?"flex-1 min-h-0 h-full":""} ${t}`,children:[u.jsx("div",{className:`stats-table-layout__sidebar ${n}`,children:a}),u.jsx("div",{className:`stats-table-layout__content ${r}`,children:i})]}),vo=({header:e,columns:t,rows:n,expanded:r,maxHeightClass:a="max-h-80"})=>u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"stats-table-shell__header",children:e}),u.jsx("div",{className:"stats-table-shell__columns",children:t})]}),u.jsx("div",{className:`stats-table-shell__rows ${r?"flex-1 min-h-0 overflow-y-auto":`${a} overflow-y-auto`}`,children:n})]}),cae=({stats:e,OFFENSE_METRICS:t,roundCountStats:n,offenseSearch:r,setOffenseSearch:a,activeOffenseStat:i,setActiveOffenseStat:o,offenseViewMode:s,setOffenseViewMode:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:p,openExpandedSection:m,closeExpandedSection:h,isSectionVisible:v,isFirstVisibleSection:x,sectionClass:g,sidebarListClass:b})=>{var w;const[S,C]=y.useState({key:"value",dir:"desc"}),[N,M]=y.useState({columnId:((w=t[0])==null?void 0:w.id)||"value",dir:"desc"}),D=f==="offense-detailed",[R,T]=y.useState([]),[P,O]=y.useState([]),W=t.filter(k=>k.label.toLowerCase().includes(r.trim().toLowerCase())),Q=t.map(k=>({id:k.id,label:k.label})),ee=Q.filter(k=>k.label.toLowerCase().includes(r.trim().toLowerCase())),ue=R.length>0?t.filter(k=>R.includes(k.id)):t,z=Array.from(new Map(e.offensePlayers.map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:d(k.profession,k.professionList,"w-3 h-3")})),B=new Set([...R.map(k=>`column:${k}`),...P.map(k=>`player:${k}`)]),ie=k=>{C(I=>({key:k,dir:I.key===k&&I.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"offense-detailed","data-section-visible":v("offense-detailed"),"data-section-first":x("offense-detailed"),className:g("offense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="offense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(hL,{className:"w-5 h-5 text-rose-300"}),"Offenses - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>f==="offense-detailed"?h():m("offense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="offense-detailed"?"Close Offense Detailed":"Expand Offense Detailed",title:f==="offense-detailed"?"Close":"Expand",children:f==="offense-detailed"?u.jsx(za,{className:"w-4 h-4"}):u.jsx(ni,{className:"w-4 h-4"})})]}),e.offensePlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No offensive stats available"}):D?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(yo,{options:[...Q.map(k=>({...k,type:"column"})),...z.map(k=>({...k,type:"player"}))],onSelect:k=>{k.type==="column"?T(I=>I.includes(k.id)?I.filter(E=>E!==k.id):[...I,k.id]):O(I=>I.includes(k.id)?I.filter(E=>E!==k.id):[...I,k.id])},selectedIds:B,className:"w-full sm:w-64"}),u.jsx(pr,{options:ee,selectedIds:R,onToggle:k=>{T(I=>I.includes(k)?I.filter(E=>E!==k):[...I,k])},onClear:()=>T([]),buttonIcon:u.jsx(mo,{className:"h-3.5 w-3.5"})}),u.jsx(pr,{options:z,selectedIds:P,onToggle:k=>{O(I=>I.includes(k)?I.filter(E=>E!==k):[...I,k])},onClear:()=>O([]),buttonLabel:"Players",buttonIcon:u.jsx(Sr,{className:"h-3.5 w-3.5"})}),u.jsx(An,{value:s,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(R.length>0||P.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{T([]),O([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),R.map(k=>{var I;const E=((I=Q.find(j=>j.id===k))==null?void 0:I.label)||k;return u.jsxs("button",{type:"button",onClick:()=>T(j=>j.filter(L=>L!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:E}),u.jsx("span",{className:"text-gray-400",children:""})]},k)}),P.map(k=>u.jsxs("button",{type:"button",onClick:()=>O(I=>I.filter(E=>E!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:k}),u.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:W.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No offensive stats match this filter"}):(()=>{var k,I;const E=Y=>Math.max(1,(Y.totalFightMs||0)/1e3),j=(Y,q,_)=>{var ne,re,F,ae,H;if(q==="downContributionPercent"){const $=((ne=Y.offenseTotals)==null?void 0:ne.downContribution)||0,le=((re=Y.offenseTotals)==null?void 0:re.damage)||0;return le>0?$/le*100:0}if(_.isRate){const $=((F=Y.offenseRateWeights)==null?void 0:F[q])||0,le=((ae=Y.offenseTotals)==null?void 0:ae[q])||0;return $>0?le/$*100:0}return((H=Y.offenseTotals)==null?void 0:H[q])||0},L=(Y,q)=>{const _=n&&!q.isPercent&&s==="total"?0:2,ne=c(Y,_);return q.isPercent?`${ne}%`:ne},G=((k=ue.find(Y=>Y.id===N.columnId))==null?void 0:k.id)||((I=ue[0])==null?void 0:I.id)||"",Z=[...e.offensePlayers].filter(Y=>P.length===0||P.includes(Y.account)).map(Y=>{const q={},_={};return ue.forEach(ne=>{const re=j(Y,ne.id,ne),F=s==="total"||ne.isPercent||ne.isRate?re:s==="per1s"?re/E(Y):re*60/E(Y);_[ne.id]=F,q[ne.id]=L(F,ne)}),{row:Y,values:q,numericValues:_}}).sort((Y,q)=>{const _=Y.numericValues[G]??0,ne=q.numericValues[G]??0;return(N.dir==="desc"?ne-_:_-ne)||String(Y.row.account||"").localeCompare(String(q.row.account||""))});return u.jsx(go,{title:"Offense - Dense View",subtitle:"Offensive",sortColumnId:G,sortDirection:N.dir,onSortColumn:Y=>{M(q=>({columnId:Y,dir:q.columnId===Y&&q.dir==="desc"?"asc":"desc"}))},columns:ue.map(Y=>({id:Y.id,label:Y.label,align:"right",minWidth:90})),rows:Z.map((Y,q)=>({id:`${Y.row.account}-${q}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:q+1}),d(Y.row.profession,Y.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Y.row.account})]}),values:Y.values}))})})()})]}):u.jsx(Ps,{expanded:f==="offense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="offense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="offense-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),u.jsx("input",{value:r,onChange:k=>a(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${b} ${f==="offense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:W.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No offensive stats match this filter"}):W.map(k=>u.jsx("button",{onClick:()=>o(k.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===k.id?"bg-rose-500/20 text-rose-200 border-rose-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:k.label},k.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const k=t.find(G=>G.id===i)||t[0],I=G=>Math.max(1,(G.totalFightMs||0)/1e3),E=G=>{var Z,Y,q,_,ne;if(k.id==="downContributionPercent"){const re=((Z=G.offenseTotals)==null?void 0:Z.downContribution)||0,F=((Y=G.offenseTotals)==null?void 0:Y.damage)||0;return F>0?re/F*100:0}if(k.isRate){const re=((q=G.offenseRateWeights)==null?void 0:q[k.id])||0,F=((_=G.offenseTotals)==null?void 0:_[k.id])||0;return re>0?F/re*100:0}return((ne=G.offenseTotals)==null?void 0:ne[k.id])||0},j=G=>{const Z=n&&!k.isPercent&&s==="total"?0:2,Y=c(G,Z);return k.isPercent?`${Y}%`:Y},L=[...e.offensePlayers].map(G=>({...G,total:E(G),per1s:k.isPercent||k.isRate?E(G):E(G)/I(G),per60s:k.isPercent||k.isRate?E(G):E(G)*60/I(G)})).sort((G,Z)=>{const Y=S.key==="fightTime"?Number(G.totalFightMs||0):Number(s==="total"?G.total:s==="per1s"?G.per1s:G.per60s),q=S.key==="fightTime"?Number(Z.totalFightMs||0):Number(s==="total"?Z.total:s==="per1s"?Z.per1s:Z.per60s);return(S.dir==="desc"?q-Y:Y-q)||G.account.localeCompare(Z.account)});return u.jsx(vo,{expanded:f==="offense-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:k.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Offensive"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex items-center justify-end gap-2 px-4 py-2 bg-white/5",children:u.jsx(An,{value:s,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>ie("value"),className:`text-right transition-colors ${S.key==="value"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",S.key==="value"?S.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>ie("fightTime"),className:`text-right transition-colors ${S.key==="fightTime"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",S.key==="fightTime"?S.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:L.map((G,Z)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:Z+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(G.profession,G.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:G.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const Y=s==="total"?G.total:s==="per1s"?G.per1s:G.per60s;return j(Y)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:G.totalFightMs?`${(G.totalFightMs/1e3).toFixed(1)}s`:"-"})]},`${k.id}-${G.account}-${Z}`))})})})()})})]})},uae=({conditionSummary:e,conditionPlayers:t,conditionSearch:n,setConditionSearch:r,activeConditionName:a,setActiveConditionName:i,conditionDirection:o,setConditionDirection:s,conditionGridClass:l,effectiveConditionSort:c,setConditionSort:d,showConditionDamage:f,renderProfessionIcon:p,expandedSection:m,expandedSectionClosing:h,openExpandedSection:v,closeExpandedSection:x,isSectionVisible:g,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:S})=>{var C;const N=m==="conditions-outgoing",[M,D]=y.useState([]),[R,T]=y.useState([]),[P,O]=y.useState({columnId:"all",dir:"desc"}),W=k=>{if(!k)return 0;if(o!=="outgoing"){const L=Number(k.applicationsFromUptime);return Number.isFinite(L)&&L>0?L:Number(k.applications||0)}const I=Number(k.applicationsFromUptime);if(Number.isFinite(I)&&I>0)return I;const E=Number(k.applicationsFromBuffsActive);if(Number.isFinite(E)&&E>0)return E;const j=Number(k.applicationsFromBuffs);return Number.isFinite(j)&&j>0?j:Number(k.applications||0)},Q=[...e||[]].sort((k,I)=>(I.damage||0)-(k.damage||0)),ee=Q.filter(k=>k.name.toLowerCase().includes(n.trim().toLowerCase())),ue=ee.map(k=>({id:k.name,label:k.name,icon:k.icon?u.jsx("img",{src:k.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),z=M.length>0?Q.filter(k=>M.includes(k.name)):Q,B=Array.from(new Map((t||[]).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:p(k.profession,k.professionList,"w-3 h-3")})),ie=new Set([...M.map(k=>`column:${k}`),...R.map(k=>`player:${k}`)]);return u.jsxs("div",{id:"conditions-outgoing","data-section-visible":g("conditions-outgoing"),"data-section-first":b("conditions-outgoing"),className:w("conditions-outgoing",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="conditions-outgoing"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(d0,{className:"w-5 h-5 text-amber-300"}),"Conditions"]}),u.jsx("button",{type:"button",onClick:()=>m==="conditions-outgoing"?x():v("conditions-outgoing"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="conditions-outgoing"?"Close Outgoing Conditions":"Expand Outgoing Conditions",title:m==="conditions-outgoing"?"Close":"Expand",children:m==="conditions-outgoing"?u.jsx(za,{className:"w-4 h-4"}):u.jsx(ni,{className:"w-4 h-4"})})]}),e&&e.length>0?N?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(yo,{options:[...Q.map(k=>({id:k.name,label:k.name,type:"column"})),...B.map(k=>({...k,type:"player"}))],onSelect:k=>{k.type==="column"?D(I=>I.includes(k.id)?I.filter(E=>E!==k.id):[...I,k.id]):T(I=>I.includes(k.id)?I.filter(E=>E!==k.id):[...I,k.id])},selectedIds:ie,className:"w-full sm:w-64"}),u.jsx(pr,{options:ue,selectedIds:M,onToggle:k=>{D(I=>I.includes(k)?I.filter(E=>E!==k):[...I,k])},onClear:()=>D([]),buttonIcon:u.jsx(mo,{className:"h-3.5 w-3.5"})}),u.jsx(pr,{options:B,selectedIds:R,onToggle:k=>{T(I=>I.includes(k)?I.filter(E=>E!==k):[...I,k])},onClear:()=>T([]),buttonLabel:"Players",buttonIcon:u.jsx(Sr,{className:"h-3.5 w-3.5"})}),u.jsx(An,{value:o,onChange:s,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),f&&u.jsx(An,{value:c.key,onChange:k=>d({key:k,dir:"desc"}),options:[{value:"applications",label:"Applications"},{value:"damage",label:"Damage"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ee.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No conditions match this filter"}):(()=>{const k=c.key,I=[{id:"all",label:"All Conditions",icon:null},...z],E=(t||[]).filter(G=>R.length===0||R.includes(G.account)).map(G=>{const Z=G.conditions||{},Y={},q={};return I.forEach(_=>{if(_.id==="all"||_.name==="All Conditions"){const F=Object.values(Z).reduce((H,$)=>{const le=W($);return H.applications+=Number(le||0),H.damage+=Number(($==null?void 0:$.damage)||0),H},{applications:0,damage:0}),ae=k==="applications"?F.applications:F.damage;q.all=ae||0,Y.all=Math.round(ae||0).toLocaleString();return}const ne=Z[_.name],re=k==="applications"?W(ne):Number((ne==null?void 0:ne.damage)||0);q[_.name]=Number(re||0),Y[_.name]=Math.round(re||0).toLocaleString()}),{player:G,values:Y,numericValues:q}}).filter(G=>Object.values(G.values).some(Z=>Z!=="0")),j=["all",...z.map(G=>G.name)].includes(P.columnId)?P.columnId:"all",L=[...E].sort((G,Z)=>{const Y=G.numericValues[j]??0,q=Z.numericValues[j]??0;return(P.dir==="desc"?q-Y:Y-q)||String(G.player.account||"").localeCompare(String(Z.player.account||""))});return u.jsx(go,{title:"Conditions - Dense View",subtitle:k==="applications"?"Applications":"Damage",sortColumnId:j,sortDirection:P.dir,onSortColumn:G=>{O(Z=>({columnId:G,dir:Z.columnId===G&&Z.dir==="desc"?"asc":"desc"}))},columns:[{id:"all",label:"All",align:"right",minWidth:90},...z.map(G=>({id:G.name,label:u.jsx(Nr,{name:G.name,iconUrl:G.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90}))],rows:L.map((G,Z)=>({id:`${G.player.account}-${Z}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:Z+1}),p(G.player.profession,G.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:G.player.account})]}),values:G.values}))})})()}),(M.length>0||R.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{D([]),T([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),M.map(k=>u.jsxs("button",{type:"button",onClick:()=>D(I=>I.filter(E=>E!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:k}),u.jsx("span",{className:"text-gray-400",children:""})]},k)),R.map(k=>u.jsxs("button",{type:"button",onClick:()=>T(I=>I.filter(E=>E!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:k}),u.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}):u.jsx(Ps,{expanded:m==="conditions-outgoing",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="conditions-outgoing"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="conditions-outgoing"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),u.jsx("input",{value:n,onChange:k=>r(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${S} ${m==="conditions-outgoing"?"max-h-none flex-1 min-h-0":""}`,children:ee.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No conditions match this filter"}):u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:()=>i("all"),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a==="all"?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Conditions"}),ee.map(k=>u.jsx("button",{type:"button",onClick:()=>i(k.name),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===k.name?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Nr,{name:k.name,iconUrl:k.icon,iconClassName:"h-5 w-5"})},k.name))]})})]}),content:u.jsx(vo,{expanded:m==="conditions-outgoing",header:u.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:a==="all"?"All Conditions":u.jsx(Nr,{name:a,iconUrl:(C=e.find(k=>k.name===a))==null?void 0:C.icon,iconClassName:"h-5 w-5"})}),u.jsxs("div",{className:"flex flex-col items-end gap-2 text-right ml-auto mt-2",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Squad Totals"}),u.jsx(An,{value:o,onChange:s,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),columns:u.jsxs("div",{className:`grid ${l} text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2`,children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>{d({key:"applications",dir:c.key==="applications"&&c.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${c.key==="applications"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Applications ",c.key==="applications"?c.dir==="desc"?"":"":""]}),f?u.jsxs("button",{type:"button",onClick:()=>{d({key:"damage",dir:c.key==="damage"&&c.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${c.key==="damage"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage ",c.key==="damage"?c.dir==="desc"?"":"":""]}):null]}),rows:u.jsx(u.Fragment,{children:(()=>{const k=(t||[]).map(I=>{const E=I.conditions||{};if(a==="all"){const L=Object.values(E).reduce((G,Z)=>{const Y=W(Z);return G.applications+=Number(Y||0),G.damage+=Number((Z==null?void 0:Z.damage)||0),G},{applications:0,damage:0});return{...I,applications:L.applications,damage:L.damage}}const j=E[a];return{...I,applications:W(j),damage:Number((j==null?void 0:j.damage)||0)}}).filter(I=>I.applications>0||I.damage>0).sort((I,E)=>{const j=c.key==="applications"?I.applications||0:I.damage||0,L=c.key==="applications"?E.applications||0:E.damage||0,G=c.dir==="desc"?L-j:j-L;if(G!==0)return G;const Z=c.key==="applications"?(E.damage||0)-(I.damage||0):(E.applications||0)-(I.applications||0);return Z!==0?Z:String(I.account||"").localeCompare(String(E.account||""))});return k.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No condition data available"}):k.map((I,E)=>{var j;const L=I.conditions||{};let G={};a==="all"?Object.values(L).forEach(F=>{const ae=(F==null?void 0:F.skills)||{};Object.values(ae).forEach(H=>{const $=(H==null?void 0:H.name)||"Unknown",le=Number((H==null?void 0:H.hits)||0),we=Number((H==null?void 0:H.damage)||0);if((!Number.isFinite(le)||le<=0)&&(!Number.isFinite(we)||we<=0))return;const et=G[$]||{name:$,hits:0,damage:0,icon:H==null?void 0:H.icon};et.hits+=Number.isFinite(le)?le:0,et.damage+=Number.isFinite(we)?we:0,!et.icon&&H!=null&&H.icon&&(et.icon=H.icon),G[$]=et})}):G=((j=L[a])==null?void 0:j.skills)||{};const Z=Object.values(G).filter(F=>Number.isFinite(F.hits)&&F.hits>0).sort((F,ae)=>ae.hits-F.hits||F.name.localeCompare(ae.name)),Y=Object.values(G).filter(F=>Number.isFinite(F.damage)&&F.damage>0).sort((F,ae)=>ae.damage-F.damage||F.name.localeCompare(ae.name)),q=a==="all"&&Z.length>0,_=a==="all"&&Y.length>0,ne=Math.round(I.applications||0).toLocaleString(),re=Math.round(I.damage||0).toLocaleString();return u.jsxs("div",{className:`grid ${l} px-4 py-2 text-sm text-gray-200 border-t border-white/5`,children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:E+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[p(I.profession,I.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:I.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:q?u.jsx(BA,{value:ne,label:"Condition Sources",items:Z.map(F=>({name:F.name,iconUrl:F.icon,value:Math.round(F.hits).toLocaleString()})),className:"justify-end"}):ne}),f?u.jsx("div",{className:"text-right font-mono text-gray-300",children:_?u.jsx(BA,{value:re,label:"Condition Damage Sources",items:Y.map(F=>({name:F.name,iconUrl:F.icon,value:Math.round(F.damage).toLocaleString()})),className:"justify-end"}):re}):null]},`${I.account}-${E}`)})})()})})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No condition data available"})]})},dae=({stats:e,activeBoonCategory:t,setActiveBoonCategory:n,activeBoonMetric:r,setActiveBoonMetric:a,activeBoonTab:i,setActiveBoonTab:o,activeBoonTable:s,filteredBoonTables:l,boonSearch:c,setBoonSearch:d,formatBoonMetricDisplay:f,getBoonMetricValue:p,renderProfessionIcon:m,roundCountStats:h,expandedSection:v,expandedSectionClosing:x,openExpandedSection:g,closeExpandedSection:b,isSectionVisible:w,isFirstVisibleSection:S,sectionClass:C,sidebarListClass:N})=>{const[M,D]=y.useState({key:"value",dir:"desc"}),[R,T]=y.useState({columnId:"",dir:"desc"}),P=v==="boon-output",[O,W]=y.useState([]),[Q,ee]=y.useState([]),ue=e.boonTables||[],z=O.length>0?ue.filter(E=>O.includes(E.id)):ue,B=l.map(E=>({id:E.id,label:E.name,icon:E.icon?u.jsx("img",{src:E.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),ie=Array.from(new Map((e.boonTables||[]).flatMap(E=>E.rows||[]).filter(E=>E.account).map(E=>[E.account,E])).values()).map(E=>({id:E.account,label:E.account,icon:m(E.profession,E.professionList,"w-3 h-3")})),k=new Set([...O.map(E=>`column:${E}`),...Q.map(E=>`player:${E}`)]),I=E=>{D(j=>({key:E,dir:j.key===E&&j.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"boon-output","data-section-visible":w("boon-output"),"data-section-first":S("boon-output"),className:C("boon-output",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${v==="boon-output"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${x?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(S1,{className:"w-5 h-5 text-cyan-400"}),"Boon Output"]}),u.jsx("button",{type:"button",onClick:()=>v==="boon-output"?b():g("boon-output"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":v==="boon-output"?"Close Boon Output":"Expand Boon Output",title:v==="boon-output"?"Close":"Expand",children:v==="boon-output"?u.jsx(za,{className:"w-4 h-4"}):u.jsx(ni,{className:"w-4 h-4"})})]}),e.boonTables.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No boon data available"}):P?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(yo,{options:[...ue.map(E=>({id:E.id,label:E.name,type:"column"})),...Array.from(new Map((e.boonTables||[]).flatMap(E=>E.rows||[]).filter(E=>E.account).map(E=>[E.account,E])).values()).map(E=>({id:E.account,label:E.account,type:"player",icon:m(E.profession,E.professionList,"w-3 h-3")}))],onSelect:E=>{E.type==="column"?W(j=>j.includes(E.id)?j.filter(L=>L!==E.id):[...j,E.id]):ee(j=>j.includes(E.id)?j.filter(L=>L!==E.id):[...j,E.id])},selectedIds:k,className:"w-full sm:w-64"}),u.jsx(pr,{options:B,selectedIds:O,onToggle:E=>{W(j=>j.includes(E)?j.filter(L=>L!==E):[...j,E])},onClear:()=>W([]),buttonIcon:u.jsx(mo,{className:"h-3.5 w-3.5"})}),u.jsx(pr,{options:ie,selectedIds:Q,onToggle:E=>{ee(j=>j.includes(E)?j.filter(L=>L!==E):[...j,E])},onClear:()=>ee([]),buttonLabel:"Players",buttonIcon:u.jsx(Sr,{className:"h-3.5 w-3.5"})}),u.jsx(An,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(An,{value:r,onChange:a,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(O.length>0||Q.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{W([]),ee([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),O.map(E=>{var j;const L=((j=ue.find(G=>G.id===E))==null?void 0:j.name)||E;return u.jsxs("button",{type:"button",onClick:()=>W(G=>G.filter(Z=>Z!==E)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:L}),u.jsx("span",{className:"text-gray-400",children:""})]},E)}),Q.map(E=>u.jsxs("button",{type:"button",onClick:()=>ee(j=>j.filter(L=>L!==E)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:E}),u.jsx("span",{className:"text-gray-400",children:""})]},E))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ue.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No boons match this filter"}):(()=>{var E,j;const L=z,G=((E=L.find(_=>_.id===R.columnId))==null?void 0:E.id)||(i&&L.some(_=>_.id===i)?i:void 0)||((j=L[0])==null?void 0:j.id)||"",Z=new Map,Y=new Map;L.forEach(_=>{const ne=new Map;_.rows.forEach(re=>{const F=re.account||re.name||re.id;F&&(ne.set(F,re),Y.has(F)||Y.set(F,re))}),Z.set(_.id,ne)});const q=Array.from(Y.entries()).filter(([_])=>Q.length===0||Q.includes(String(_))).map(([_,ne])=>{const re={};return L.forEach(F=>{var ae;const H=(ae=Z.get(F.id))==null?void 0:ae.get(_);re[F.id]=H?f(H,t,F.stacking,r,{roundCountStats:h}):"-"}),{key:_,row:ne,values:re}}).sort((_,ne)=>{var re,F;if(!G)return String(_.key).localeCompare(String(ne.key));const ae=L.find(et=>et.id===G),H=ae?(re=Z.get(ae.id))==null?void 0:re.get(_.key):null,$=ae?(F=Z.get(ae.id))==null?void 0:F.get(ne.key):null,le=H?p(H,t,ae==null?void 0:ae.stacking,r):0,we=$?p($,t,ae==null?void 0:ae.stacking,r):0;return(R.dir==="desc"?we-le:le-we)||String(_.key).localeCompare(String(ne.key))});return u.jsx(go,{title:"Boon Output - Dense View",subtitle:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`,sortColumnId:G,sortDirection:R.dir,onSortColumn:_=>{T(ne=>({columnId:_,dir:ne.columnId===_&&ne.dir==="desc"?"asc":"desc"}))},columns:L.map(_=>({id:_.id,label:u.jsx(Nr,{name:_.name,iconUrl:_.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:q.map((_,ne)=>({id:`${_.key}-${ne}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:ne+1}),m(_.row.profession,_.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:_.row.account||_.row.name||_.key})]}),values:_.values}))})})()})]}):u.jsx(Ps,{expanded:v==="boon-output",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${v==="boon-output"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${v==="boon-output"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),u.jsx("input",{value:c,onChange:E=>d(E.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${N} ${v==="boon-output"?"max-h-none flex-1 min-h-0":""}`,children:l.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No boons match this filter"}):l.map(E=>u.jsx("button",{onClick:()=>o(E.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===E.id?"bg-blue-500/20 text-blue-200 border-blue-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Nr,{name:E.name,iconUrl:E.icon,iconClassName:"h-3.5 w-3.5"})},E.id))})]}),content:s?u.jsx(vo,{expanded:v==="boon-output",maxHeightClass:"max-h-64",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(Nr,{name:s.name,iconUrl:s.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`})]}),columns:u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-start gap-2 px-4 py-2 bg-white/5",children:[u.jsx(An,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(An,{value:r,onChange:a,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],className:"sm:ml-auto",activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>I("value"),className:`text-right transition-colors ${M.key==="value"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:[r==="total"?"Total":r==="average"?"Gen/Sec":"Uptime",M.key==="value"?M.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>I("fightTime"),className:`text-right transition-colors ${M.key==="fightTime"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",M.key==="fightTime"?M.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:[...s.rows].sort((E,j)=>(()=>{const L=M.key==="fightTime"?Number(E.activeTimeMs||0):p(E,t,s.stacking,r),G=M.key==="fightTime"?Number(j.activeTimeMs||0):p(j,t,s.stacking,r);return(M.dir==="desc"?G-L:L-G)||String(E.account||"").localeCompare(String(j.account||""))})()).map((E,j)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:j+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[m(E.profession,E.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:E.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:f(E,t,s.stacking,r,{roundCountStats:h})}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:E.activeTimeMs?`${(E.activeTimeMs/1e3).toFixed(1)}s`:"-"})]},`${s.id}-${E.account}-${j}`))})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a boon to view details"})})]})},fae=({stats:e,DEFENSE_METRICS:t,defenseSearch:n,setDefenseSearch:r,activeDefenseStat:a,setActiveDefenseStat:i,defenseViewMode:o,setDefenseViewMode:s,roundCountStats:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:p,openExpandedSection:m,closeExpandedSection:h,isSectionVisible:v,isFirstVisibleSection:x,sectionClass:g,sidebarListClass:b})=>{var w;const[S,C]=y.useState({key:"value",dir:"desc"}),[N,M]=y.useState("combined"),[D,R]=y.useState({columnId:((w=t[0])==null?void 0:w.id)||"value",dir:"desc"}),T=f==="defense-detailed",[P,O]=y.useState([]),[W,Q]=y.useState([]),ee=t.filter(L=>L.label.toLowerCase().includes(n.trim().toLowerCase())),ue=t.map(L=>({id:L.id,label:L.label})),z=ue.filter(L=>L.label.toLowerCase().includes(n.trim().toLowerCase())),B=P.length>0?t.filter(L=>P.includes(L.id)):t,ie=Array.from(new Map(e.defensePlayers.map(L=>[L.account,L])).values()).map(L=>({id:L.account,label:L.account,icon:d(L.profession,L.professionList,"w-3 h-3")})),k=new Set([...P.map(L=>`column:${L}`),...W.map(L=>`player:${L}`)]),I=L=>{C(G=>({key:L,dir:G.key===L&&G.dir==="desc"?"asc":"desc"}))},E=L=>L==="minionDamageTaken",j=(L,G)=>G==="combined"?L.map(Z=>({...Z,minionList:Object.entries((Z==null?void 0:Z.minionDamageTakenByMinion)||{}).filter(([,Y])=>Number(Y||0)>0).sort((Y,q)=>Number(q[1]||0)-Number(Y[1]||0)).map(([Y])=>String(Y))})):L.flatMap(Z=>{const Y=Object.entries((Z==null?void 0:Z.minionDamageTakenByMinion)||{}).filter(([,q])=>Number(q||0)>0).sort((q,_)=>Number(_[1]||0)-Number(q[1]||0));return Y.length===0?[]:Y.map(([q,_])=>({...Z,minionName:String(q),defenseTotals:{...Z.defenseTotals||{},minionDamageTaken:Number(_||0)}}))});return u.jsxs("div",{id:"defense-detailed","data-section-visible":v("defense-detailed"),"data-section-first":x("defense-detailed"),className:g("defense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="defense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Iu,{className:"w-5 h-5 text-sky-300"}),"Defenses - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>f==="defense-detailed"?h():m("defense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="defense-detailed"?"Close Defense Detailed":"Expand Defense Detailed",title:f==="defense-detailed"?"Close":"Expand",children:f==="defense-detailed"?u.jsx(za,{className:"w-4 h-4"}):u.jsx(ni,{className:"w-4 h-4"})})]}),e.defensePlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No defensive stats available"}):T?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(yo,{options:[...ue.map(L=>({...L,type:"column"})),...ie.map(L=>({...L,type:"player"}))],onSelect:L=>{L.type==="column"?O(G=>G.includes(L.id)?G.filter(Z=>Z!==L.id):[...G,L.id]):Q(G=>G.includes(L.id)?G.filter(Z=>Z!==L.id):[...G,L.id])},selectedIds:k,className:"w-full sm:w-64"}),u.jsx(pr,{options:z,selectedIds:P,onToggle:L=>{O(G=>G.includes(L)?G.filter(Z=>Z!==L):[...G,L])},onClear:()=>O([]),buttonIcon:u.jsx(mo,{className:"h-3.5 w-3.5"})}),u.jsx(pr,{options:ie,selectedIds:W,onToggle:L=>{Q(G=>G.includes(L)?G.filter(Z=>Z!==L):[...G,L])},onClear:()=>Q([]),buttonLabel:"Players",buttonIcon:u.jsx(Sr,{className:"h-3.5 w-3.5"})}),u.jsx(An,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),B.some(L=>E(L.id))&&u.jsx(An,{value:N,onChange:L=>M(L),options:[{value:"combined",label:"Combined"},{value:"separate",label:"Separate"}],activeClassName:"bg-indigo-500/20 text-indigo-200 border border-indigo-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(P.length>0||W.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{O([]),Q([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),P.map(L=>{var G;const Z=((G=ue.find(Y=>Y.id===L))==null?void 0:G.label)||L;return u.jsxs("button",{type:"button",onClick:()=>O(Y=>Y.filter(q=>q!==L)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Z}),u.jsx("span",{className:"text-gray-400",children:""})]},L)}),W.map(L=>u.jsxs("button",{type:"button",onClick:()=>Q(G=>G.filter(Z=>Z!==L)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:L}),u.jsx("span",{className:"text-gray-400",children:""})]},L))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ee.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No defensive stats match this filter"}):(()=>{var L,G;const Z=re=>Math.max(1,(re.activeMs||0)/1e3),Y=(re,F)=>{const ae=F.isPercent,H=c(re,l&&!ae&&o==="total"?0:2);return ae?`${H}%`:H},q=((L=B.find(re=>re.id===D.columnId))==null?void 0:L.id)||((G=B[0])==null?void 0:G.id)||"",_=[...e.defensePlayers].filter(re=>W.length===0||W.includes(re.account)),ne=[...B.some(re=>E(re.id))?j(_,N):_].map(re=>{const F={},ae={};return B.forEach(H=>{var $;const le=(($=re.defenseTotals)==null?void 0:$[H.id])||0,we=H.isPercent,et=o==="total"||we?le:o==="per1s"?le/Z(re):le*60/Z(re);ae[H.id]=et,F[H.id]=Y(et,H)}),{row:re,values:F,numericValues:ae}}).sort((re,F)=>{const ae=re.numericValues[q]??0,H=F.numericValues[q]??0;return(D.dir==="desc"?H-ae:ae-H)||String(re.row.account||"").localeCompare(String(F.row.account||""))});return u.jsx(go,{title:"Defense - Dense View",subtitle:"Defensive",sortColumnId:q,sortDirection:D.dir,onSortColumn:re=>{R(F=>({columnId:re,dir:F.columnId===re&&F.dir==="desc"?"asc":"desc"}))},columns:B.map(re=>({id:re.id,label:re.label,align:"right",minWidth:90})),rows:ne.map((re,F)=>({id:`${re.row.account}-${F}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:F+1}),d(re.row.profession,re.row.professionList,"w-4 h-4"),u.jsxs("span",{className:"min-w-0 flex flex-col",children:[u.jsx("span",{className:"truncate",children:re.row.account}),N==="combined"&&Array.isArray(re.row.minionList)&&re.row.minionList.length>0&&u.jsx("span",{className:"truncate text-[10px] text-gray-500",children:re.row.minionList.join(", ")}),N==="separate"&&re.row.minionName&&u.jsx("span",{className:"truncate text-[10px] text-gray-400",children:re.row.minionName})]})]}),values:re.values}))})})()})]}):u.jsx(Ps,{expanded:f==="defense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="defense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="defense-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),u.jsx("input",{value:n,onChange:L=>r(L.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${b} ${f==="defense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:ee.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No defensive stats match this filter"}):ee.map(L=>u.jsx("button",{onClick:()=>i(L.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===L.id?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:L.label},L.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const L=t.find(q=>q.id===a)||t[0],G=q=>Math.max(1,(q.activeMs||0)/1e3),Z=[...e.defensePlayers],Y=[...E(L.id)?j(Z,N):Z].map(q=>{var _,ne,re;return{...q,total:((_=q.defenseTotals)==null?void 0:_[L.id])||0,per1s:(((ne=q.defenseTotals)==null?void 0:ne[L.id])||0)/G(q),per60s:(((re=q.defenseTotals)==null?void 0:re[L.id])||0)*60/G(q)}}).sort((q,_)=>{const ne=S.key==="fightTime"?Number(q.activeMs||0):Number(o==="total"?q.total:o==="per1s"?q.per1s:q.per60s),re=S.key==="fightTime"?Number(_.activeMs||0):Number(o==="total"?_.total:o==="per1s"?_.per1s:_.per60s);return(S.dir==="desc"?re-ne:ne-re)||q.account.localeCompare(_.account)});return u.jsx(vo,{expanded:f==="defense-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:L.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Defensive"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:`flex items-center px-4 py-2 bg-white/5 ${E(L.id)?"justify-between":"justify-end"}`,children:[E(L.id)&&u.jsx(An,{value:N,onChange:q=>M(q),options:[{value:"combined",label:"Combined"},{value:"separate",label:"Separate"}],activeClassName:"bg-indigo-500/20 text-indigo-200 border border-indigo-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx("div",{className:"flex flex-wrap items-center justify-end gap-2",children:u.jsx(An,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})})]}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>I("value"),className:`text-right transition-colors ${S.key==="value"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",S.key==="value"?S.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>I("fightTime"),className:`text-right transition-colors ${S.key==="fightTime"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",S.key==="fightTime"?S.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:Y.map((q,_)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:_+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(q.profession,q.professionList,"w-4 h-4"),u.jsxs("span",{className:"min-w-0 flex flex-col",children:[u.jsx("span",{className:"truncate",children:q.account}),E(L.id)&&N==="combined"&&Array.isArray(q.minionList)&&q.minionList.length>0&&u.jsx("span",{className:"truncate text-[10px] text-gray-500",children:q.minionList.join(", ")}),E(L.id)&&N==="separate"&&q.minionName&&u.jsx("span",{className:"truncate text-[10px] text-gray-400",children:q.minionName})]})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const ne=o==="total"?q.total:o==="per1s"?q.per1s:q.per60s;return c(ne,l&&o==="total"?0:2)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:q.activeMs?`${(q.activeMs/1e3).toFixed(1)}s`:"-"})]},`${L.id}-${q.account}-${_}`))})})})()})})]})},pae=({stats:e,DAMAGE_MITIGATION_METRICS:t,damageMitigationSearch:n,setDamageMitigationSearch:r,activeDamageMitigationStat:a,setActiveDamageMitigationStat:i,damageMitigationViewMode:o,setDamageMitigationViewMode:s,damageMitigationScope:l,setDamageMitigationScope:c,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:p,expandedSection:m,expandedSectionClosing:h,openExpandedSection:v,closeExpandedSection:x,isSectionVisible:g,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:S})=>{var C,N;const M=((C=t.find(F=>F.id==="totalMitigation"))==null?void 0:C.id)||((N=t[0])==null?void 0:N.id)||"totalMitigation",[D,R]=y.useState({key:"value",dir:"desc"}),[T,P]=y.useState({columnId:M,dir:"desc"}),O=m==="defense-mitigation",[W,Q]=y.useState([]),[ee,ue]=y.useState([]),[z,B]=y.useState([]),ie=e.damageMitigationPlayers||[],k=e.damageMitigationMinions||[],I=l==="minions"?k:ie,E=ie.length>0||k.length>0,j=t.filter(F=>F.label.toLowerCase().includes(n.trim().toLowerCase())),L=t.map(F=>({id:F.id,label:F.label})),G=L.filter(F=>F.label.toLowerCase().includes(n.trim().toLowerCase())),Z=W.length>0?t.filter(F=>W.includes(F.id)):t,Y=Array.from(new Map(I.map(F=>[F.account,F])).values()).map(F=>({id:F.account,label:F.account,icon:p(F.profession,F.professionList,"w-3 h-3")})),q=Array.from(new Map(k.map(F=>[F.minion,F])).values()).filter(F=>F==null?void 0:F.minion).map(F=>({id:String(F.minion),label:String(F.minion)})),_=new Set([...W.map(F=>`column:${F}`),...ee.map(F=>`player:${F}`)]),ne=F=>{R(ae=>({key:F,dir:ae.key===F&&ae.dir==="desc"?"asc":"desc"}))},re=F=>f(F,d&&o==="total"?0:2);return u.jsxs("div",{id:"defense-mitigation","data-section-visible":g("defense-mitigation"),"data-section-first":b("defense-mitigation"),className:w("defense-mitigation",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="defense-mitigation"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(N1,{className:"w-5 h-5 text-emerald-300"}),"Defenses - Damage Mitigation"]}),u.jsx("button",{type:"button",onClick:()=>m==="defense-mitigation"?x():v("defense-mitigation"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="defense-mitigation"?"Close Damage Mitigation":"Expand Damage Mitigation",title:m==="defense-mitigation"?"Close":"Expand",children:m==="defense-mitigation"?u.jsx(za,{className:"w-4 h-4"}):u.jsx(ni,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"text-xs text-amber-200/80 italic mb-3",children:"Damage mitigation is an estimate based on enemy skill damage averages and avoidance events (block/evade/miss/invuln/interrupted). Use it for relative comparison rather than exact prevention totals."}),E?O?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(yo,{options:[...L.map(F=>({...F,type:"column"})),...Y.map(F=>({...F,type:"player"}))],onSelect:F=>{F.type==="column"?Q(ae=>ae.includes(F.id)?ae.filter(H=>H!==F.id):[...ae,F.id]):ue(ae=>ae.includes(F.id)?ae.filter(H=>H!==F.id):[...ae,F.id])},selectedIds:_,className:"w-full sm:w-64"}),u.jsx(pr,{options:G,selectedIds:W,onToggle:F=>{Q(ae=>ae.includes(F)?ae.filter(H=>H!==F):[...ae,F])},onClear:()=>Q([]),buttonIcon:u.jsx(mo,{className:"h-3.5 w-3.5"})}),u.jsx(pr,{options:Y,selectedIds:ee,onToggle:F=>{ue(ae=>ae.includes(F)?ae.filter(H=>H!==F):[...ae,F])},onClear:()=>ue([]),buttonLabel:"Players",buttonIcon:u.jsx(Sr,{className:"h-3.5 w-3.5"})}),l==="minions"&&u.jsx(pr,{options:q,selectedIds:z,onToggle:F=>{B(ae=>ae.includes(F)?ae.filter(H=>H!==F):[...ae,F])},onClear:()=>B([]),buttonLabel:"Minions"}),u.jsx(An,{value:l,onChange:c,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(An,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(W.length>0||ee.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{Q([]),ue([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),W.map(F=>{var ae;const H=((ae=L.find($=>$.id===F))==null?void 0:ae.label)||F;return u.jsxs("button",{type:"button",onClick:()=>Q($=>$.filter(le=>le!==F)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:H}),u.jsx("span",{className:"text-gray-400",children:""})]},F)}),ee.map(F=>u.jsxs("button",{type:"button",onClick:()=>ue(ae=>ae.filter(H=>H!==F)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:F}),u.jsx("span",{className:"text-gray-400",children:""})]},F))]}),l==="minions"&&z.length>0&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>B([]),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear Minions"}),z.map(F=>u.jsxs("button",{type:"button",onClick:()=>B(ae=>ae.filter(H=>H!==F)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:F}),u.jsx("span",{className:"text-gray-400",children:""})]},F))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:I.length===0?u.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):j.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No mitigation stats match this filter"}):(()=>{var F,ae;const H=we=>Math.max(1,(we.activeMs||0)/1e3),$=((F=Z.find(we=>we.id===T.columnId))==null?void 0:F.id)||((ae=Z[0])==null?void 0:ae.id)||"",le=[...I].filter(we=>ee.length===0||ee.includes(we.account)).filter(we=>l!=="minions"||!z.length?!0:z.includes(String(we.minion||""))).map(we=>{const et={},de={};return Z.forEach(Ye=>{var Re;const ht=((Re=we.mitigationTotals)==null?void 0:Re[Ye.id])||0,Xt=o==="total"?ht:o==="per1s"?ht/H(we):ht*60/H(we);de[Ye.id]=Xt,et[Ye.id]=re(Xt)}),{row:we,values:et,numericValues:de}}).sort((we,et)=>{const de=we.numericValues[$]??0,Ye=et.numericValues[$]??0;return(T.dir==="desc"?Ye-de:de-Ye)||String(we.row.account||"").localeCompare(String(et.row.account||""))});return u.jsx(go,{title:"Damage Mitigation - Dense View",subtitle:"Defensive",sortColumnId:$,sortDirection:T.dir,onSortColumn:we=>{P(et=>({columnId:we,dir:et.columnId===we&&et.dir==="desc"?"asc":"desc"}))},columns:Z.map(we=>({id:we.id,label:we.label,align:"right",minWidth:90})),rows:le.map((we,et)=>({id:`${we.row.account}-${we.row.minion||"player"}-${et}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:et+1}),p(we.row.profession,we.row.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"truncate",children:we.row.account}),we.row.minion&&u.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:we.row.minion})]})]}),values:we.values}))})})()})]}):u.jsx(Ps,{expanded:m==="defense-mitigation",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="defense-mitigation"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="defense-mitigation"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),u.jsx("input",{value:n,onChange:F=>r(F.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2 mt-2"}),u.jsx("div",{className:`${S} ${m==="defense-mitigation"?"max-h-none flex-1 min-h-0":""}`,children:j.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No mitigation stats match this filter"}):j.map(F=>u.jsx("button",{onClick:()=>i(F.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===F.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:F.label},F.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const F=t.find($=>$.id===a)||t[0],ae=$=>Math.max(1,($.activeMs||0)/1e3),H=[...I].map($=>{var le,we,et;return{...$,total:((le=$.mitigationTotals)==null?void 0:le[F.id])||0,per1s:(((we=$.mitigationTotals)==null?void 0:we[F.id])||0)/ae($),per60s:(((et=$.mitigationTotals)==null?void 0:et[F.id])||0)*60/ae($)}}).filter($=>l!=="minions"||!z.length?!0:z.includes(String($.minion||""))).sort(($,le)=>{const we=D.key==="fightTime"?Number($.activeMs||0):Number(o==="total"?$.total:o==="per1s"?$.per1s:$.per60s),et=D.key==="fightTime"?Number(le.activeMs||0):Number(o==="total"?le.total:o==="per1s"?le.per1s:le.per60s);return(D.dir==="desc"?et-we:we-et)||$.account.localeCompare(le.account)});return u.jsx(vo,{expanded:m==="defense-mitigation",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:F.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Mitigation"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"px-4 py-2 bg-white/5",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(An,{value:l,onChange:c,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx("div",{className:"ml-auto",children:u.jsx(An,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})})]})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>ne("value"),className:`text-right transition-colors ${D.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",D.key==="value"?D.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>ne("fightTime"),className:`text-right transition-colors ${D.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",D.key==="fightTime"?D.dir==="desc"?" ":" ":""]})]})]}),rows:H.length===0?u.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):u.jsx(u.Fragment,{children:H.map(($,le)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:le+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[p($.profession,$.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"truncate",children:$.account}),$.minion&&u.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:$.minion})]})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const we=o==="total"?$.total:o==="per1s"?$.per1s:$.per60s;return re(we)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:$.activeMs?`${($.activeMs/1e3).toFixed(1)}s`:"-"})]},`${F.id}-${$.account}-${$.minion||"player"}-${le}`))})})})()})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No damage mitigation stats available"})]})},mae=({stats:e,SUPPORT_METRICS:t,supportSearch:n,setSupportSearch:r,activeSupportStat:a,setActiveSupportStat:i,supportViewMode:o,setSupportViewMode:s,cleanseScope:l,setCleanseScope:c,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:p,expandedSection:m,expandedSectionClosing:h,openExpandedSection:v,closeExpandedSection:x,isSectionVisible:g,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:S})=>{var C;const[N,M]=y.useState({key:"value",dir:"desc"}),[D,R]=y.useState({columnId:((C=t[0])==null?void 0:C.id)||"value",dir:"desc"}),T=m==="support-detailed",[P,O]=y.useState([]),[W,Q]=y.useState([]),ee=t.filter(E=>E.label.toLowerCase().includes(n.trim().toLowerCase())),ue=t.map(E=>({id:E.id,label:E.label})),z=ue.filter(E=>E.label.toLowerCase().includes(n.trim().toLowerCase())),B=P.length>0?t.filter(E=>P.includes(E.id)):t,ie=Array.from(new Map(e.supportPlayers.map(E=>[E.account,E])).values()).map(E=>({id:E.account,label:E.account,icon:p(E.profession,E.professionList,"w-3 h-3")})),k=new Set([...P.map(E=>`column:${E}`),...W.map(E=>`player:${E}`)]),I=E=>{M(j=>({key:E,dir:j.key===E&&j.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"support-detailed","data-section-visible":g("support-detailed"),"data-section-first":b("support-detailed"),className:w("support-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="support-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(w1,{className:"w-5 h-5 text-emerald-300"}),"Support - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>m==="support-detailed"?x():v("support-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="support-detailed"?"Close Support Detailed":"Expand Support Detailed",title:m==="support-detailed"?"Close":"Expand",children:m==="support-detailed"?u.jsx(za,{className:"w-4 h-4"}):u.jsx(ni,{className:"w-4 h-4"})})]}),e.supportPlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No support stats available"}):T?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(yo,{options:[...ue.map(E=>({...E,type:"column"})),...ie.map(E=>({...E,type:"player"}))],onSelect:E=>{E.type==="column"?O(j=>j.includes(E.id)?j.filter(L=>L!==E.id):[...j,E.id]):Q(j=>j.includes(E.id)?j.filter(L=>L!==E.id):[...j,E.id])},selectedIds:k,className:"w-full sm:w-64"}),u.jsx(pr,{options:z,selectedIds:P,onToggle:E=>{O(j=>j.includes(E)?j.filter(L=>L!==E):[...j,E])},onClear:()=>O([]),buttonIcon:u.jsx(mo,{className:"h-3.5 w-3.5"})}),u.jsx(pr,{options:ie,selectedIds:W,onToggle:E=>{Q(j=>j.includes(E)?j.filter(L=>L!==E):[...j,E])},onClear:()=>Q([]),buttonLabel:"Players",buttonIcon:u.jsx(Sr,{className:"h-3.5 w-3.5"})}),u.jsx(An,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),a==="condiCleanse"&&u.jsx(An,{value:l,onChange:c,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(P.length>0||W.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{O([]),Q([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),P.map(E=>{var j;const L=((j=ue.find(G=>G.id===E))==null?void 0:j.label)||E;return u.jsxs("button",{type:"button",onClick:()=>O(G=>G.filter(Z=>Z!==E)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:L}),u.jsx("span",{className:"text-gray-400",children:""})]},E)}),W.map(E=>u.jsxs("button",{type:"button",onClick:()=>Q(j=>j.filter(L=>L!==E)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:E}),u.jsx("span",{className:"text-gray-400",children:""})]},E))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ee.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No support stats match this filter"}):(()=>{var E,j;const L=(_,ne)=>{var re,F,ae;if(ne==="condiCleanse"){const H=((re=_.supportTotals)==null?void 0:re.condiCleanse)||0,$=((F=_.supportTotals)==null?void 0:F.condiCleanseSelf)||0;return l==="all"?H+$:H}return((ae=_.supportTotals)==null?void 0:ae[ne])||0},G=_=>Math.max(1,(_.activeMs||0)/1e3),Z=(_,ne)=>{const re=_.isTime?1:d&&o==="total"?0:2;return f(ne,re)},Y=((E=B.find(_=>_.id===D.columnId))==null?void 0:E.id)||((j=B[0])==null?void 0:j.id)||"",q=[...e.supportPlayers].filter(_=>W.length===0||W.includes(_.account)).map(_=>{const ne={},re={};return B.forEach(F=>{const ae=L(_,F.id),H=o==="total"?ae:o==="per1s"?ae/G(_):ae*60/G(_);re[F.id]=H,ne[F.id]=Z(F,H)}),{row:_,values:ne,numericValues:re}}).sort((_,ne)=>{const re=_.numericValues[Y]??0,F=ne.numericValues[Y]??0;return(D.dir==="desc"?F-re:re-F)||String(_.row.account||"").localeCompare(String(ne.row.account||""))});return u.jsx(go,{title:"Support - Dense View",subtitle:"Support",sortColumnId:Y,sortDirection:D.dir,onSortColumn:_=>{R(ne=>({columnId:_,dir:ne.columnId===_&&ne.dir==="desc"?"asc":"desc"}))},columns:B.map(_=>({id:_.id,label:_.label,align:"right",minWidth:90})),rows:q.map((_,ne)=>({id:`${_.row.account}-${ne}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:ne+1}),p(_.row.profession,_.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:_.row.account})]}),values:_.values}))})})()})]}):u.jsx(Ps,{expanded:m==="support-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="support-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="support-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),u.jsx("input",{value:n,onChange:E=>r(E.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${S} ${m==="support-detailed"?"max-h-none flex-1 min-h-0":""}`,children:ee.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No support stats match this filter"}):ee.map(E=>u.jsx("button",{onClick:()=>i(E.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===E.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:E.label},E.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const E=t.find(Z=>Z.id===a)||t[0],j=Z=>{var Y,q,_;if(E.id==="condiCleanse"){const ne=((Y=Z.supportTotals)==null?void 0:Y.condiCleanse)||0,re=((q=Z.supportTotals)==null?void 0:q.condiCleanseSelf)||0;return l==="all"?ne+re:ne}return((_=Z.supportTotals)==null?void 0:_[E.id])||0},L=Z=>Math.max(1,(Z.activeMs||0)/1e3),G=[...e.supportPlayers].map(Z=>({...Z,total:j(Z),per1s:j(Z)/L(Z),per60s:j(Z)*60/L(Z)})).sort((Z,Y)=>{const q=N.key==="fightTime"?Number(Z.activeMs||0):Number(o==="total"?Z.total:o==="per1s"?Z.per1s:Z.per60s),_=N.key==="fightTime"?Number(Y.activeMs||0):Number(o==="total"?Y.total:o==="per1s"?Y.per1s:Y.per60s);return(N.dir==="desc"?_-q:q-_)||Z.account.localeCompare(Y.account)});return u.jsx(vo,{expanded:m==="support-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:E.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Support"})]}),columns:u.jsxs(u.Fragment,{children:[E.id==="condiCleanse"?u.jsxs("div",{className:"flex flex-wrap items-center gap-2 px-4 py-2 bg-white/5",children:[u.jsx(An,{value:l,onChange:c,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(An,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],className:"sm:ml-auto",activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}):u.jsx("div",{className:"flex flex-wrap items-center justify-start sm:justify-end px-4 py-2 bg-white/5",children:u.jsx(An,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>I("value"),className:`text-right transition-colors ${N.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",N.key==="value"?N.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>I("fightTime"),className:`text-right transition-colors ${N.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",N.key==="fightTime"?N.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:G.map((Z,Y)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:Y+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[p(Z.profession,Z.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Z.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const q=o==="total"?Z.total:o==="per1s"?Z.per1s:Z.per60s,_=E.isTime?1:d&&o==="total"?0:2;return f(q,_)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:Z.activeMs?`${(Z.activeMs/1e3).toFixed(1)}s`:"-"})]},`${E.id}-${Z.account}-${Y}`))})})})()})})]})},hae=({stats:e,HEALING_METRICS:t,activeHealingMetric:n,setActiveHealingMetric:r,healingCategory:a,setHealingCategory:i,activeResUtilitySkill:o,setActiveResUtilitySkill:s,skillUsageData:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:p,openExpandedSection:m,closeExpandedSection:h,isSectionVisible:v,isFirstVisibleSection:x,sectionClass:g})=>{var b;const[w,S]=y.useState({key:"value",dir:"desc"}),[C,N]=y.useState({columnId:((b=t[0])==null?void 0:b.id)||"value",dir:"desc"}),M=f==="healing-stats",[D,R]=y.useState([]),[T,P]=y.useState([]),O=Array.from(new Map(e.healingPlayers.map(z=>[z.account,z])).values()).map(z=>({id:z.account,label:z.account,icon:d(z.profession,z.professionList,"w-3 h-3")})),W=new Set([...T.map(z=>`column:${z}`),...D.map(z=>`player:${z}`)]),Q=t.map(z=>({id:z.id,label:z.label})),ee=T.length>0?t.filter(z=>T.includes(z.id)):t,ue=z=>{S(B=>({key:z,dir:B.key===z&&B.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"healing-stats","data-section-visible":v("healing-stats"),"data-section-first":x("healing-stats"),className:g("healing-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="healing-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(pD,{className:"w-5 h-5 text-lime-300"}),"Healing Stats"]}),u.jsx("button",{type:"button",onClick:()=>f==="healing-stats"?h():m("healing-stats"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="healing-stats"?"Close Healing Stats":"Expand Healing Stats",title:f==="healing-stats"?"Close":"Expand",children:f==="healing-stats"?u.jsx(za,{className:"w-4 h-4"}):u.jsx(ni,{className:"w-4 h-4"})})]}),e.healingPlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No healing stats available"}):M?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(yo,{options:[...Q.map(z=>({...z,type:"column"})),...O.map(z=>({...z,type:"player"}))],onSelect:z=>{z.type==="column"?P(B=>B.includes(z.id)?B.filter(ie=>ie!==z.id):[...B,z.id]):R(B=>B.includes(z.id)?B.filter(ie=>ie!==z.id):[...B,z.id])},selectedIds:W,className:"w-full sm:w-64"}),u.jsx(An,{value:a,onChange:i,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(pr,{options:Q,selectedIds:T,onToggle:z=>{P(B=>B.includes(z)?B.filter(ie=>ie!==z):[...B,z])},onClear:()=>P([]),buttonIcon:u.jsx(mo,{className:"h-3.5 w-3.5"})}),u.jsx(An,{value:o,onChange:s,options:[{value:"all",label:"All Res Utility"},...(l.resUtilitySkills||[]).map(z=>({value:z.id,label:z.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(pr,{options:O,selectedIds:D,onToggle:z=>{R(B=>B.includes(z)?B.filter(ie=>ie!==z):[...B,z])},onClear:()=>R([]),buttonLabel:"Players",buttonIcon:u.jsx(Sr,{className:"h-3.5 w-3.5"})})]}),(T.length>0||D.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{P([]),R([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),T.map(z=>{var B;const ie=((B=Q.find(k=>k.id===z))==null?void 0:B.label)||z;return u.jsxs("button",{type:"button",onClick:()=>P(k=>k.filter(I=>I!==z)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:ie}),u.jsx("span",{className:"text-gray-400",children:""})]},z)}),D.map(z=>u.jsxs("button",{type:"button",onClick:()=>R(B=>B.filter(ie=>ie!==z)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:z}),u.jsx("span",{className:"text-gray-400",children:""})]},z))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:(()=>{var z,B;const ie=j=>Math.max(1,(j.activeMs||0)/1e3),k=j=>{const L=j.baseField==="resUtility",G=L||a==="total"?"":a==="offSquad"?"offSquad":a;return L?o==="all"?"resUtility":`resUtility_${o}`:G?`${G}${j.baseField[0].toUpperCase()}${j.baseField.slice(1)}`:j.baseField},I=[...e.healingPlayers].filter(j=>D.length===0||D.includes(j.account)).filter(j=>Object.values(j.healingTotals||{}).some(L=>Number(L)>0)).map(j=>{const L={},G={};return ee.forEach(Z=>{var Y;const q=k(Z),_=Number(((Y=j.healingTotals)==null?void 0:Y[q])??0),ne=Z.perSecond?_/ie(j):_;G[Z.id]=ne,L[Z.id]=c(ne,Z.decimals)}),{row:j,values:L,numericValues:G}}).sort((j,L)=>{var G,Z;const Y=((G=ee.find(ne=>ne.id===C.columnId))==null?void 0:G.id)||((Z=ee[0])==null?void 0:Z.id)||"",q=j.numericValues[Y]??0,_=L.numericValues[Y]??0;return(C.dir==="desc"?_-q:q-_)||String(j.row.account||"").localeCompare(String(L.row.account||""))}),E=((z=ee.find(j=>j.id===C.columnId))==null?void 0:z.id)||((B=ee[0])==null?void 0:B.id)||"";return u.jsx(go,{title:"Healing - Dense View",subtitle:"Healing",sortColumnId:E,sortDirection:C.dir,onSortColumn:j=>{N(L=>({columnId:j,dir:L.columnId===j&&L.dir==="desc"?"asc":"desc"}))},columns:ee.map(j=>({id:j.id,label:j.label,align:"right",minWidth:90})),rows:I.map((j,L)=>({id:`${j.row.account}-${L}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:L+1}),d(j.row.profession,j.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:j.row.account})]}),values:j.values}))})})()})]}):u.jsx(Ps,{expanded:f==="healing-stats",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="healing-stats"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="healing-stats"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),u.jsx("div",{className:"flex-1 overflow-y-auto space-y-1 pr-1",children:t.map(z=>u.jsx("button",{onClick:()=>r(z.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${n===z.id?"bg-lime-500/20 text-lime-200 border-lime-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:z.label},z.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const z=t.find(j=>j.id===n)||t[0],B=z.baseField==="resUtility",ie=j=>Math.max(1,(j.activeMs||0)/1e3),k=B||a==="total"?"":a==="offSquad"?"offSquad":a,I=B?o==="all"?"resUtility":`resUtility_${o}`:k?`${k}${z.baseField[0].toUpperCase()}${z.baseField.slice(1)}`:z.baseField,E=[...e.healingPlayers].filter(j=>Object.values(j.healingTotals||{}).some(L=>Number(L)>0)).map(j=>{var L;const G=Number(((L=j.healingTotals)==null?void 0:L[I])??0),Z=z.perSecond?G/ie(j):G;return{...j,value:Z}}).sort((j,L)=>{const G=w.key==="fightTime"?Number(j.activeMs||0):Number(j.value||0),Z=w.key==="fightTime"?Number(L.activeMs||0):Number(L.value||0);return(w.dir==="desc"?Z-G:G-Z)||j.account.localeCompare(L.account)});return u.jsx(vo,{expanded:f==="healing-stats",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:z.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Healing"})]}),columns:u.jsxs(u.Fragment,{children:[B&&u.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5 flex-wrap",children:u.jsx(An,{value:o,onChange:s,options:[{value:"all",label:"All"},...(l.resUtilitySkills||[]).map(j=>({value:j.id,label:j.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),!B&&u.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5",children:u.jsx(An,{value:a,onChange:i,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>ue("value"),className:`text-right transition-colors ${w.key==="value"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:[z.label,w.key==="value"?w.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>ue("fightTime"),className:`text-right transition-colors ${w.key==="fightTime"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",w.key==="fightTime"?w.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:E.length===0?u.jsx("div",{className:"px-4 py-6 text-sm text-gray-500 italic",children:"No healing data for this view"}):E.map((j,L)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:L+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(j.profession,j.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:j.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:c(j.value,z.decimals)}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:j.activeMs?`${(j.activeMs/1e3).toFixed(1)}s`:"-"})]},`${z.id}-${j.account}-${L}`))})})})()})})]})},gae=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}`:e:"",yae=({stats:e,specialSearch:t,setSpecialSearch:n,filteredSpecialTables:r,activeSpecialTab:a,setActiveSpecialTab:i,activeSpecialTable:o,formatWithCommas:s,renderProfessionIcon:l,expandedSection:c,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:p,isSectionVisible:m,isFirstVisibleSection:h,sectionClass:v,sidebarListClass:x})=>{const[g,b]=y.useState("total"),[w,S]=y.useState("desc"),[C,N]=y.useState({columnId:"",dir:"desc"}),M=c==="special-buffs",[D,R]=y.useState([]),[T,P]=y.useState([]),O=e.specialTables||[],W=D.length>0?O.filter(k=>D.includes(k.id)):O,Q=r.map(k=>({id:k.id,label:k.name,icon:k.icon?u.jsx("img",{src:k.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),ee=Array.from(new Map((e.specialTables||[]).flatMap(k=>k.rows||[]).filter(k=>k.account).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:l(k.profession,k.professionList,"w-3 h-3")})),ue=new Set([...D.map(k=>`column:${k}`),...T.map(k=>`player:${k}`)]),z=y.useMemo(()=>{if(!(o!=null&&o.rows))return[];const k=[...o.rows];return k.sort((I,E)=>{const j=Number((I==null?void 0:I[g])??0),L=Number((E==null?void 0:E[g])??0),G=w==="desc"?L-j:j-L;return G!==0?G:String((I==null?void 0:I.account)||"").localeCompare(String((E==null?void 0:E.account)||""))}),k},[o,g,w]),B=k=>{if(g===k){S(I=>I==="desc"?"asc":"desc");return}b(k),S("desc")},ie=k=>g!==k?"":w==="desc"?" ":" ";return u.jsxs("div",{id:"special-buffs","data-section-visible":m("special-buffs"),"data-section-first":h("special-buffs"),className:v("special-buffs",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${c==="special-buffs"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(f0,{className:"w-5 h-5 text-purple-300"}),"Special Buffs"]}),u.jsx("button",{type:"button",onClick:()=>c==="special-buffs"?p():f("special-buffs"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":c==="special-buffs"?"Close Special Buffs":"Expand Special Buffs",title:c==="special-buffs"?"Close":"Expand",children:c==="special-buffs"?u.jsx(za,{className:"w-4 h-4"}):u.jsx(ni,{className:"w-4 h-4"})})]}),e.specialTables.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No special buff data available"}):M?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(yo,{options:[...O.map(k=>({id:k.id,label:k.name,type:"column"})),...Array.from(new Map((e.specialTables||[]).flatMap(k=>k.rows||[]).filter(k=>k.account).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,type:"player",icon:l(k.profession,k.professionList,"w-3 h-3")}))],onSelect:k=>{k.type==="column"?R(I=>I.includes(k.id)?I.filter(E=>E!==k.id):[...I,k.id]):P(I=>I.includes(k.id)?I.filter(E=>E!==k.id):[...I,k.id])},selectedIds:ue,className:"w-full sm:w-64"}),u.jsx(pr,{options:Q,selectedIds:D,onToggle:k=>{R(I=>I.includes(k)?I.filter(E=>E!==k):[...I,k])},onClear:()=>R([]),buttonIcon:u.jsx(mo,{className:"h-3.5 w-3.5"})}),u.jsx(pr,{options:ee,selectedIds:T,onToggle:k=>{P(I=>I.includes(k)?I.filter(E=>E!==k):[...I,k])},onClear:()=>P([]),buttonLabel:"Players",buttonIcon:u.jsx(Sr,{className:"h-3.5 w-3.5"})}),u.jsx(An,{value:g,onChange:k=>b(k),options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"},{value:"duration",label:"Fight Time"}],activeClassName:"bg-purple-500/20 text-purple-200 border border-purple-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(D.length>0||T.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{R([]),P([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),D.map(k=>{var I;const E=((I=O.find(j=>j.id===k))==null?void 0:I.name)||k;return u.jsxs("button",{type:"button",onClick:()=>R(j=>j.filter(L=>L!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:E}),u.jsx("span",{className:"text-gray-400",children:""})]},k)}),T.map(k=>u.jsxs("button",{type:"button",onClick:()=>P(I=>I.filter(E=>E!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:k}),u.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:O.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No special buffs match this filter"}):(()=>{var k,I;const E=W,j=new Map,L=new Map;E.forEach(q=>{const _=new Map;q.rows.forEach(ne=>{const re=ne.account||ne.name||ne.id;re&&(_.set(re,ne),L.has(re)||L.set(re,ne))}),j.set(q.id,_)});const G=Array.from(L.entries()).filter(([q])=>T.length===0||T.includes(String(q))).map(([q,_])=>{const ne={},re={};return E.forEach(F=>{var ae;const H=(ae=j.get(F.id))==null?void 0:ae.get(q);if(!H){ne[F.id]="-",re[F.id]=0;return}if(g==="duration"){ne[F.id]=H.duration?`${H.duration.toFixed(1)}s`:"-",re[F.id]=Number(H.duration||0);return}const $=g==="total"?H.total:H.perSecond,le=g==="total"?0:1;re[F.id]=Number($||0),ne[F.id]=s($||0,le)}),{key:q,row:_,values:ne,numericValues:re}}),Z=((k=E.find(q=>q.id===C.columnId))==null?void 0:k.id)||(a&&E.some(q=>q.id===a)?a:void 0)||((I=E[0])==null?void 0:I.id)||"",Y=[...G].sort((q,_)=>{if(!Z)return String(q.key).localeCompare(String(_.key));const ne=q.numericValues[Z]??0,re=_.numericValues[Z]??0;return(C.dir==="desc"?re-ne:ne-re)||String(q.key).localeCompare(String(_.key))});return u.jsx(go,{title:"Special Buffs - Dense View",subtitle:"Totals",sortColumnId:Z,sortDirection:C.dir,onSortColumn:q=>{N(_=>({columnId:q,dir:_.columnId===q&&_.dir==="desc"?"asc":"desc"}))},columns:E.map(q=>({id:q.id,label:u.jsx(Nr,{name:q.name,iconUrl:q.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:Y.map((q,_)=>({id:`${q.key}-${_}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:_+1}),l(q.row.profession,q.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:q.row.account||q.row.name||q.key})]}),values:q.values}))})})()})]}):u.jsx(Ps,{expanded:c==="special-buffs",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${c==="special-buffs"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${c==="special-buffs"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),u.jsx("input",{value:t,onChange:k=>n(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${x} ${c==="special-buffs"?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No special buffs match this filter"}):r.map(k=>u.jsx("button",{onClick:()=>i(k.id),title:k.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===k.id?"bg-purple-500/20 text-purple-200 border-purple-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Nr,{name:gae(k.name),iconUrl:k.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},k.id))})]}),content:u.jsx(u.Fragment,{children:o?u.jsx(vo,{expanded:c==="special-buffs",maxHeightClass:"max-h-64",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(Nr,{name:o.name,iconUrl:o.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Totals"})]}),columns:u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>B("total"),className:`text-right transition-colors ${g==="total"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Total",ie("total")]}),u.jsxs("button",{type:"button",onClick:()=>B("perSecond"),className:`text-right transition-colors ${g==="perSecond"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Per Sec",ie("perSecond")]}),u.jsxs("button",{type:"button",onClick:()=>B("duration"),className:`text-right transition-colors ${g==="duration"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",ie("duration")]})]}),rows:u.jsx(u.Fragment,{children:z.map((k,I)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:I+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(k.profession,k.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:k.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:Math.round(k.total).toLocaleString()}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:s(k.perSecond,1)}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:k.duration?`${k.duration.toFixed(1)}s`:"-"})]},`${o.id}-${k.account}-${I}`))})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a special buff to view details"})})})]})},vae=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}...`:e:"",bae=({hasSigilRelicTables:e,sigilRelicSearch:t,setSigilRelicSearch:n,filteredSigilRelicTables:r,activeSigilRelicTab:a,setActiveSigilRelicTab:i,activeSigilRelicTable:o,formatWithCommas:s,renderProfessionIcon:l,expandedSection:c,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:p,isSectionVisible:m,isFirstVisibleSection:h,sectionClass:v,sidebarListClass:x})=>{const[g,b]=y.useState("desc"),w=c==="sigil-relic-uptime",S=y.useMemo(()=>{if(!(o!=null&&o.rows))return[];const C=[...o.rows];return C.sort((N,M)=>{const D=Number((N==null?void 0:N.uptimePerSecond)??(N==null?void 0:N.perSecond)??0),R=Number((M==null?void 0:M.uptimePerSecond)??(M==null?void 0:M.perSecond)??0),T=g==="desc"?R-D:D-R;return T!==0?T:String((N==null?void 0:N.account)||"").localeCompare(String((M==null?void 0:M.account)||""))}),C},[o,g]);return u.jsxs("div",{id:"sigil-relic-uptime","data-section-visible":m("sigil-relic-uptime"),"data-section-first":h("sigil-relic-uptime"),className:v("sigil-relic-uptime",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${c==="sigil-relic-uptime"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(j1,{className:"w-5 h-5 text-fuchsia-300"}),"Sigil/Relic Uptime"]}),u.jsx("button",{type:"button",onClick:()=>c==="sigil-relic-uptime"?p():f("sigil-relic-uptime"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":c==="sigil-relic-uptime"?"Close Sigil/Relic Uptime":"Expand Sigil/Relic Uptime",title:c==="sigil-relic-uptime"?"Close":"Expand",children:c==="sigil-relic-uptime"?u.jsx(za,{className:"w-4 h-4"}):u.jsx(ni,{className:"w-4 h-4"})})]}),e?u.jsx(Ps,{expanded:w,sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${w?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${w?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Sigil/Relic"}),u.jsx("input",{value:t,onChange:C=>n(C.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${x} ${w?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No sigil/relic entries match this filter"}):r.map(C=>u.jsx("button",{onClick:()=>i(C.id),title:C.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===C.id?"bg-fuchsia-500/20 text-fuchsia-200 border-fuchsia-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Nr,{name:vae(C.name),iconUrl:C.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},C.id))})]}),content:u.jsx(u.Fragment,{children:o?u.jsx(vo,{expanded:w,maxHeightClass:"max-h-72",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(Nr,{name:o.name,iconUrl:o.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Uptime"})]}),columns:u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>b(C=>C==="desc"?"asc":"desc"),className:"text-right transition-colors text-gray-400 hover:text-gray-200",children:["Uptime ",g==="desc"?"":""]})]}),rows:u.jsx(u.Fragment,{children:S.map((C,N)=>{const M=Number(C.uptimePerSecond??C.perSecond??0)*100;return u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:N+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(C.profession,C.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:C.account})]}),u.jsxs("div",{className:"text-right font-mono text-gray-300",children:[s(M,1),"%"]})]},`${o.id}-${C.account}-${N}`)})})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a sigil/relic to view uptime"})})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No sigil/relic uptime data available"})]})},xae=({stats:e,formatWithCommas:t,expandedSection:n,expandedSectionClosing:r,openExpandedSection:a,closeExpandedSection:i,isSectionVisible:o,isFirstVisibleSection:s,sectionClass:l})=>{const c=Array.isArray(e==null?void 0:e.fightDiffMode)?e.fightDiffMode:[],d=!Array.isArray(e==null?void 0:e.fightDiffMode)&&Array.isArray(e==null?void 0:e.fightBreakdown)&&e.fightBreakdown.length>0,[f,p]=y.useState(""),[m,h]=y.useState(""),[v,x]=y.useState(null);y.useEffect(()=>{var P,O,W;if(c.length===0){p(""),h("");return}const Q=String(((P=c[0])==null?void 0:P.id)||""),ee=String(((O=c[1])==null?void 0:O.id)||((W=c[0])==null?void 0:W.id)||"");p(ue=>ue&&c.some(z=>String(z.id)===ue)?ue:Q),h(ue=>ue&&c.some(z=>String(z.id)===ue)?ue:ee)},[c]);const g=y.useMemo(()=>c.find(P=>String(P.id)===String(f))||null,[c,f]),b=y.useMemo(()=>c.find(P=>String(P.id)===String(m))||null,[c,m]),w=y.useMemo(()=>{if(!g||!b)return[];const P=new Map,O=(W,Q,ee,ue)=>{const z=String(W||"Unknown"),B=P.get(z)||{label:z,aDamage:0,aShare:0,bDamage:0,bShare:0};Q==="a"?(B.aDamage=Number(ee||0),B.aShare=Number(ue||0)):(B.bDamage=Number(ee||0),B.bShare=Number(ue||0)),P.set(z,B)};return(g.targetFocus||[]).forEach(W=>O(W.label,"a",W.damage,W.share)),(b.targetFocus||[]).forEach(W=>O(W.label,"b",W.damage,W.share)),Array.from(P.values()).map(W=>({...W,shareDelta:W.bShare-W.aShare})).sort((W,Q)=>Math.abs(Q.shareDelta)-Math.abs(W.shareDelta)||Q.bDamage+Q.aDamage-(W.bDamage+W.aDamage))},[g,b]),S=y.useMemo(()=>{if(!v)return w;const P=v.direction==="asc"?1:-1,O=v.key;return[...w].sort((W,Q)=>{const ee=(Number(W[O])-Number(Q[O]))*P;return ee!==0?ee:W.label.localeCompare(Q.label)})},[w,v]),C=y.useMemo(()=>{if(!g||!b)return[];const P=new Map((g.squadMetrics||[]).map(W=>[W.metricId,W])),O=new Map((b.squadMetrics||[]).map(W=>[W.metricId,W]));return Array.from(new Set([...P.keys(),...O.keys()])).map(W=>{const Q=P.get(W),ee=O.get(W),ue=!!((Q==null?void 0:Q.higherIsBetter)??(ee==null?void 0:ee.higherIsBetter)??!0),z=Number((Q==null?void 0:Q.value)||0),B=Number((ee==null?void 0:ee.value)||0);return{metricId:W,metricLabel:String((Q==null?void 0:Q.metricLabel)||(ee==null?void 0:ee.metricLabel)||W),higherIsBetter:ue,a:Q,b:ee,delta:B-z}})},[g,b]),N=P=>`${t((Number(P)||0)*100,1)}%`,M=P=>P==="squadKdr"?2:0,D=P=>{x(O=>!O||O.key!==P?{key:P,direction:"desc"}:{key:P,direction:O.direction==="desc"?"asc":"desc"})},R=P=>(v==null?void 0:v.key)===P?v.direction==="desc"?" ":" ":"",T=P=>`fight-diff-sort-button transition-colors whitespace-nowrap ${(v==null?void 0:v.key)===P?"text-indigo-200":"text-gray-400 hover:text-gray-200"}`;return u.jsxs("div",{id:"fight-diff-mode","data-section-visible":o("fight-diff-mode"),"data-section-first":s("fight-diff-mode"),className:l("fight-diff-mode",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${n==="fight-diff-mode"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${r?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(y1,{className:"w-5 h-5 text-indigo-300"}),"Fight Comparison"]}),u.jsx("button",{type:"button",onClick:()=>n==="fight-diff-mode"?i():a("fight-diff-mode"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":n==="fight-diff-mode"?"Close Fight Comparison":"Expand Fight Comparison",title:n==="fight-diff-mode"?"Close":"Expand",children:n==="fight-diff-mode"?u.jsx(za,{className:"w-4 h-4"}):u.jsx(ni,{className:"w-4 h-4"})})]}),d?u.jsxs("div",{className:"text-center text-gray-400 py-8 space-y-1",children:[u.jsx("div",{className:"font-semibold text-gray-200",children:"Fight Comparison data is missing in this dataset."}),u.jsx("div",{className:"text-sm text-gray-500",children:"Regenerate the stats/report with a build that includes Fight Comparison."})]}):c.length<2?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"Need at least two fights to compare."}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[u.jsxs("label",{className:"text-xs uppercase tracking-widest text-gray-400",children:["Fight A",u.jsx("select",{className:"fight-diff-select mt-2 w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-100 focus:outline-none",value:f,onChange:P=>p(P.target.value),children:c.map(P=>u.jsxs("option",{value:P.id,children:[P.shortLabel," - ",P.fullLabel]},`fight-a-${P.id}`))})]}),u.jsxs("label",{className:"text-xs uppercase tracking-widest text-gray-400",children:["Fight B",u.jsx("select",{className:"fight-diff-select mt-2 w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-100 focus:outline-none",value:m,onChange:P=>h(P.target.value),children:c.map(P=>u.jsxs("option",{value:P.id,children:[P.shortLabel," - ",P.fullLabel]},`fight-b-${P.id}`))})]})]}),u.jsxs("div",{className:"bg-indigo-500/10 border border-indigo-300/20 rounded-xl px-4 py-3 text-xs text-indigo-100/90 space-y-1",children:[u.jsx("div",{className:"uppercase tracking-widest text-[10px] text-indigo-200/80",children:"How Target Focus Works"}),u.jsxs("div",{children:["Target focus compares how your squad distributed damage ",u.jsx("span",{className:"font-semibold",children:"to"})," enemy professions between two fights (it is not damage ",u.jsx("span",{className:"font-semibold",children:"from"})," those professions)."]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold",children:"Share"})," is the percent of your squad's total enemy-player damage that landed on that profession in that fight.",u.jsx("span",{className:"font-semibold",children:" Share Delta"})," is ",u.jsx("span",{className:"font-semibold",children:"Fight B - Fight A"}),"."]})]}),u.jsx("div",{className:"stats-table-layout__content bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:u.jsx(vo,{expanded:n==="fight-diff-mode",maxHeightClass:"max-h-96",header:u.jsx("div",{className:"bg-white/5 px-4 py-3 text-xs uppercase tracking-widest text-gray-400",children:"Target Focus Comparison"}),columns:w.length>0?u.jsx("div",{className:"bg-white/5 overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[700px] table-fixed text-xs",children:[u.jsxs("colgroup",{children:[u.jsx("col",{className:"w-[220px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"})]}),u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-left py-2 px-3",children:"Target"}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:T("aDamage"),onClick:()=>D("aDamage"),children:[g==null?void 0:g.shortLabel," Damage",R("aDamage")]})}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:T("aShare"),onClick:()=>D("aShare"),children:[g==null?void 0:g.shortLabel," Share",R("aShare")]})}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:T("bDamage"),onClick:()=>D("bDamage"),children:[b==null?void 0:b.shortLabel," Damage",R("bDamage")]})}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:T("bShare"),onClick:()=>D("bShare"),children:[b==null?void 0:b.shortLabel," Share",R("bShare")]})}),u.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:u.jsxs("button",{type:"button",className:T("shareDelta"),onClick:()=>D("shareDelta"),children:["Share Delta",R("shareDelta")]})})]})})]})}):null,rows:w.length>0?u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[700px] table-fixed text-xs",children:[u.jsxs("colgroup",{children:[u.jsx("col",{className:"w-[220px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"})]}),u.jsx("tbody",{children:S.map(P=>u.jsxs("tr",{className:"border-t border-white/5",children:[u.jsx("td",{className:"py-2 px-3 text-gray-200",children:P.label}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(P.aDamage,0)}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-300",children:N(P.aShare)}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(P.bDamage,0)}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-300",children:N(P.bShare)}),u.jsxs("td",{className:`py-2 px-3 text-right font-mono ${P.shareDelta>=0?"text-emerald-300":"text-red-300"}`,children:[P.shareDelta>=0?"+":"",N(P.shareDelta)]})]},`focus-${P.label}`))})]})}):u.jsxs("div",{className:"px-4 py-8 text-center text-gray-400 text-sm space-y-1",children:[u.jsx("div",{className:"italic",children:"No target focus data for selected fights."}),u.jsx("div",{className:"text-xs text-gray-500",children:"Usually this means the fights were uploaded without Detailed WvW enemy slices, or the report was generated from an older build."})]})})}),u.jsx("div",{className:"stats-table-layout__content bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:u.jsx(vo,{expanded:n==="fight-diff-mode",maxHeightClass:"max-h-none",header:u.jsx("div",{className:"bg-white/5 px-4 py-3 text-xs uppercase tracking-widest text-gray-400",children:"Squad Metric Comparison"}),columns:C.length>0?u.jsx("div",{className:"bg-white/5 overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[680px] table-fixed text-xs",children:[u.jsxs("colgroup",{children:[u.jsx("col",{className:"w-[320px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"})]}),u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-left py-2 px-3",children:"Metric"}),u.jsxs("th",{className:"text-right py-2 px-3",children:[g==null?void 0:g.shortLabel," Value"]}),u.jsxs("th",{className:"text-right py-2 px-3",children:[b==null?void 0:b.shortLabel," Value"]}),u.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})})]})}):null,rows:C.length>0?u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full min-w-[680px] table-fixed text-xs",children:[u.jsxs("colgroup",{children:[u.jsx("col",{className:"w-[320px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"}),u.jsx("col",{className:"w-[120px]"})]}),u.jsx("tbody",{children:C.map(P=>{var O,W;const Q=P.higherIsBetter?P.delta>=0:P.delta<=0,ee=M(P.metricId);return u.jsxs("tr",{className:"border-t border-white/5",children:[u.jsx("td",{className:"py-2 px-3 text-gray-200",children:P.metricLabel}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(Number(((O=P.a)==null?void 0:O.value)||0),ee)}),u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(Number(((W=P.b)==null?void 0:W.value)||0),ee)}),u.jsxs("td",{className:`py-2 px-3 text-right font-mono ${Q?"text-emerald-300":"text-red-300"}`,children:[P.delta>0?"+":"",t(P.delta,ee)]})]},`performer-${P.metricId}`)})})]})}):u.jsx("div",{className:"px-4 py-8 text-center text-gray-500 italic text-sm",children:"No squad metric data for selected fights."})})})]})]})},wae=({stats:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>u.jsxs(u.Fragment,{children:[u.jsx("div",{id:"kdr",className:"scroll-mt-24"}),u.jsxs("div",{id:"overview","data-section-visible":t("overview"),"data-section-first":n("overview"),className:r("overview","grid grid-cols-1 md:grid-cols-2 gap-4 scroll-mt-24"),children:[u.jsx("div",{className:"overview-card overview-card--green bg-gradient-to-br from-green-500/20 to-emerald-900/20 border border-green-500/30 rounded-2xl px-5 py-4",children:u.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.avgSquadSize}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Avg Squad"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-black text-green-300 leading-none",children:e.wins}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/50 mt-1",children:"Victories"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.squadKDR}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Squad KDR"})]})]})}),u.jsx("div",{className:"overview-card overview-card--red bg-gradient-to-br from-red-500/20 to-rose-900/20 border border-red-500/30 rounded-2xl px-5 py-4",children:u.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.avgEnemies}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Avg Enemies"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-black text-red-300 leading-none",children:e.losses}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/50 mt-1",children:"Defeats"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.enemyKDR}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Enemy KDR"})]})]})})]})]}),kae=({stats:e,fightBreakdownTab:t,setFightBreakdownTab:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>{var o;const s=y.useMemo(()=>{const c=new Map;return(Array.isArray(e==null?void 0:e.fightBreakdown)?e.fightBreakdown:[]).forEach(d=>{(Array.isArray(d==null?void 0:d.teamBreakdown)?d.teamBreakdown:[]).forEach(f=>{const p=String((f==null?void 0:f.teamId)??"").trim(),m=Number((f==null?void 0:f.count)||0);!p||!Number.isFinite(m)||m<=0||c.set(p,(c.get(p)||0)+m)})}),Array.from(c.entries()).sort((d,f)=>{const p=f[1]-d[1];return p!==0?p:d[0].localeCompare(f[0],void 0,{numeric:!0})}).map(([d])=>d)},[e==null?void 0:e.fightBreakdown]),l=c=>{const d=c==null?void 0:c.timestamp;let f=0;if(typeof d=="number")f=d>1e12?d:d*1e3;else if(typeof d=="string"&&d.trim()){const v=Number(d);if(Number.isFinite(v)&&v>0)f=v>1e12?v:v*1e3;else{const x=Date.parse(d);Number.isFinite(x)&&x>0&&(f=x)}}const p=f>0?new Date(f).toLocaleDateString(void 0,{month:"2-digit",day:"2-digit"})+" "+new Date(f).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"}):"--",m=(c==null?void 0:c.mapName)||(c==null?void 0:c.map)||"Unknown Map",h=String(m).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim();return`${p}  ${h}`};return u.jsx("div",{id:"fight-breakdown","data-section-visible":r("fight-breakdown"),"data-section-first":a("fight-breakdown"),className:i("fight-breakdown","mt-6 stats-share-exclude"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:items-center sm:justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-200",children:"Fight Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(An,{value:t,onChange:n,options:[{value:"sizes",label:"Sizes"},{value:"outcomes",label:"Outcome"},{value:"damage",label:"Damage"},{value:"barrier",label:"Barrier"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsxs("span",{className:"text-[10px] uppercase tracking-widest text-gray-500 sm:ml-1 w-full sm:w-auto",children:[((o=e.fightBreakdown)==null?void 0:o.length)||0," Fights"]})]})]}),(e.fightBreakdown||[]).length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight data available"}):u.jsx("div",{className:"overflow-x-auto",children:u.jsx("div",{className:"max-h-[360px] overflow-y-auto",children:u.jsxs("table",{className:"w-full text-xs table-auto min-w-[720px]",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-right py-2 px-2 w-8",children:"#"}),u.jsx("th",{className:"text-left py-2 px-3 w-[240px]",children:"Report"}),u.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Duration"}),u.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Outcome"}),t==="sizes"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Squad"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemies"}),s.length===0?u.jsx("th",{className:"text-right py-2 px-3",children:"Teams"}):s.map(c=>u.jsx("th",{className:"text-right py-2 px-3",children:`Team ${c}`},c))]}),t==="outcomes"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Down"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Dead"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Revived"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Rallies"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Downs"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Deaths"})]}),t==="damage"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Outgoing Dmg"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Incoming Dmg"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]}),t==="barrier"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",title:"Incoming damage mitigated by your squad's barrier",children:"Barrier Absorption"}),u.jsx("th",{className:"text-right py-2 px-3",title:"Outgoing damage mitigated by enemy barrier",children:"Enemy Barrier Absorption"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})]})}),u.jsx("tbody",{children:(e.fightBreakdown||[]).map((c,d)=>u.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[u.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-500 w-8",children:d+1}),u.jsx("td",{className:"py-2 px-3 w-[240px]",children:c.permalink?u.jsx("button",{onClick:()=>{var f;c.permalink&&(f=window.electronAPI)!=null&&f.openExternal?window.electronAPI.openExternal(c.permalink):c.permalink&&window.open(c.permalink,"_blank")},className:"text-cyan-300 hover:text-cyan-200 underline underline-offset-2 block truncate",children:l(c)}):u.jsx("span",{className:"text-gray-500",children:"Pending"})}),u.jsx("td",{className:"py-2 px-3 text-gray-200 w-20",children:c.duration||"--:--"}),u.jsx("td",{className:`py-2 px-3 font-semibold ${c.isWin?"text-emerald-300":"text-red-300"}`,children:c.isWin?"Win":"Loss"}),t==="sizes"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(Cv,{count:c.squadCount??0,classCounts:c.squadClassCountsFight,label:"Squad Classes",className:"text-gray-200"})}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(Cv,{count:c.allyCount??0,classCounts:c.allyClassCountsFight,label:"Ally Classes",className:"text-gray-200"})}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(Cv,{count:c.enemyCount??0,classCounts:c.enemyClassCounts,label:"Enemy Classes",className:"text-gray-200"})}),s.length===0?u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:"0"}):s.map(f=>{const p=(Array.isArray(c.teamBreakdown)?c.teamBreakdown:[]).find(m=>String((m==null?void 0:m.teamId)??"")===f);return u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:Number((p==null?void 0:p.count)||0)},f)})]}),t==="outcomes"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesDown??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesDead??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesRevived??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.rallies??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.enemyDowns??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.enemyDeaths??0})]}),t==="damage"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.totalOutgoingDamage||0).toLocaleString()}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.totalIncomingDamage||0).toLocaleString()}),(()=>{const f=Number((c.totalOutgoingDamage||0)-(c.totalIncomingDamage||0));return u.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-red-300":"text-emerald-300"}`,children:f.toLocaleString()})})()]}),t==="barrier"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.incomingBarrierAbsorbed||0).toLocaleString()}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.outgoingBarrierAbsorbed||0).toLocaleString()}),(()=>{const f=Number((c.outgoingBarrierAbsorbed||0)-(c.incomingBarrierAbsorbed||0));return u.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-emerald-300":"text-red-300"}`,children:f.toLocaleString()})})()]})]},c.id||`${c.label}-${d}`))})]})})})]})})},zA={red:{bg:"bg-red-500/20",text:"text-red-400"},yellow:{bg:"bg-yellow-500/20",text:"text-yellow-400"},green:{bg:"bg-green-500/20",text:"text-green-400"},purple:{bg:"bg-purple-500/20",text:"text-purple-400"},blue:{bg:"bg-blue-500/20",text:"text-blue-400"},pink:{bg:"bg-pink-500/20",text:"text-pink-400"},cyan:{bg:"bg-cyan-500/20",text:"text-cyan-400"},indigo:{bg:"bg-indigo-500/20",text:"text-indigo-400"}},Sae=({icon:e,title:t,data:n,color:r,unit:a="",onClick:i,active:o,rows:s,formatValue:l,renderProfessionIcon:c})=>{const d=zA[r]||zA.blue,f=(n==null?void 0:n.value)??0,p=l?l(f):Math.round(f).toLocaleString();return u.jsxs("div",{role:"button",tabIndex:0,onClick:i,onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),i==null||i())},className:`bg-white/5 border border-white/10 rounded-xl p-4 flex flex-col gap-3 group hover:bg-white/10 transition-colors cursor-pointer ${o?"ring-1 ring-white/20":""}`,children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:`p-3 rounded-lg ${d.bg} ${d.text} shrink-0`,children:u.jsx(e,{className:"w-6 h-6"})}),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("div",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider truncate",children:t}),u.jsxs("div",{className:"text-2xl font-bold text-white mt-0.5 break-words",children:[p," ",u.jsx("span",{className:"text-sm font-normal text-gray-500",children:a})]})]})]}),u.jsxs("div",{className:"flex flex-col border-t border-white/5 pt-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c((n==null?void 0:n.profession)||"Unknown",n==null?void 0:n.professionList,"w-4 h-4"),u.jsx("div",{className:"text-sm font-medium text-blue-300 truncate",children:(n==null?void 0:n.player)||"-"})]}),u.jsx("div",{className:"text-xs text-gray-500 truncate",children:n!=null&&n.count?`${n.count} logs`:"-"})]}),o&&u.jsxs("div",{className:"mt-3 stats-share-exclude",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-200 mb-2",children:t}),s!=null&&s.length?u.jsx("div",{className:"max-h-56 overflow-y-auto pr-1 space-y-1",children:s.map(m=>u.jsxs("div",{className:"flex items-center gap-2 min-w-0 text-xs text-gray-300",children:[u.jsx("div",{className:"w-6 shrink-0 text-right text-gray-500",children:m.rank}),u.jsx("div",{className:"shrink-0",children:c(m.profession,m.professionList,"w-4 h-4")}),u.jsx("div",{className:"flex-1 min-w-0 truncate",children:m.account}),u.jsx("div",{className:"shrink-0 text-gray-400 font-mono",children:l?l(m.value):m.value})]},`${t}-${m.rank}-${m.account}`))}):u.jsx("div",{className:"text-xs text-gray-500 italic",children:"No data available"})]})]})},Nae=(e,t)=>{const n=(Array.isArray(e)?e:[]).map(i=>({...i,value:Number((i==null?void 0:i.value)??0)})).filter(i=>Number.isFinite(i.value)).sort((i,o)=>{const s=t?o.value-i.value:i.value-o.value;return s!==0?s:String((i==null?void 0:i.account)||"").localeCompare(String((o==null?void 0:o.account)||""))});let r=null,a=0;return n.map((i,o)=>((r===null||i.value!==r)&&(a=o+1,r=i.value),{...i,rank:a}))},UA=(e,t)=>{if(typeof e=="number"&&Number.isFinite(e))return t(e);if(typeof e=="string"){const n=Number(e.replace(/,/g,"").trim());return Number.isFinite(n)?t(n):e}return"--"},jae=({stats:e,showTopStats:t,showMvp:n,topStatsMode:r,expandedLeader:a,setExpandedLeader:i,formatTopStatValue:o,formatWithCommas:s,isMvpStatEnabled:l,renderProfessionIcon:c,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:p})=>t?u.jsxs("div",{id:"top-players","data-section-visible":d("top-players"),"data-section-first":f("top-players"),className:p("top-players","scroll-mt-24"),children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(sc,{className:"w-5 h-5 text-yellow-400"}),"Top Players (Total Accumulated Stats)"]}),n&&u.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[minmax(0,1.6fr)_minmax(0,0.9fr)] gap-3 mb-6",children:[u.jsxs("div",{className:"mvp-card mvp-card--gold border border-yellow-500/30 rounded-2xl p-3 relative overflow-hidden group flex items-center",children:[u.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-yellow-500/10 blur-[80px] rounded-full pointer-events-none group-hover:bg-yellow-500/20 transition-all"}),u.jsxs("div",{className:"flex items-center gap-5 relative z-10 w-full",children:[u.jsx("div",{className:"hidden sm:flex items-center justify-center w-20 h-20 rounded-full bg-yellow-500/20 border border-yellow-500/30 shadow-[0_0_20px_rgba(234,179,8,0.2)]",children:u.jsx(bz,{className:"w-10 h-10 text-yellow-400"})}),u.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(f0,{className:"w-4 h-4 text-yellow-400 animate-pulse"}),u.jsx("span",{className:"text-yellow-400 font-bold uppercase tracking-widest text-xs",children:"Squad MVP"})]}),u.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-white mb-2 flex flex-wrap items-center gap-2 sm:gap-3",children:[u.jsx("span",{className:"min-w-0 max-w-full truncate",children:e.mvp.account}),c(e.mvp.profession,e.mvp.professionList,"w-6 h-6"),u.jsx("span",{className:"text-sm sm:text-lg font-medium text-yellow-200/70 bg-white/5 px-2 py-0.5 rounded border border-yellow-500/20 max-w-full truncate",children:e.mvp.profession})]}),u.jsxs("p",{className:"text-yellow-200/80 italic flex items-center gap-2 mb-2",children:[u.jsx($h,{className:"w-4 h-4 text-yellow-400 fill-yellow-500/40"}),'"',e.mvp.reason,'"']}),u.jsx("div",{className:"mt-auto flex flex-wrap gap-2",children:e.mvp.topStats&&e.mvp.topStats.filter(m=>l(m.name)).map((m,h)=>u.jsxs("div",{className:"inline-flex items-baseline gap-2 px-2.5 py-0.5 bg-yellow-500/10 border border-yellow-500/30 rounded-full text-[11px] leading-none",children:[u.jsx("span",{className:"text-yellow-200 font-bold",children:m.name}),u.jsx("span",{className:"text-yellow-50 font-mono tabular-nums",children:UA(m.val,o)})]},h))})]}),u.jsxs("div",{className:"hidden lg:block text-right",children:[u.jsx("div",{className:"text-yellow-500/40 font-mono text-sm uppercase tracking-wider font-bold",children:"Contribution Score"}),u.jsx("div",{className:"text-4xl font-black text-yellow-500/80",children:e.mvp.score>0?e.mvp.score.toFixed(1):"-"}),u.jsxs("div",{className:"text-xs text-yellow-500/30 font-mono mt-1",children:["Avg: ",e.avgMvpScore.toFixed(1)]})]})]})]}),u.jsx("div",{className:"grid grid-cols-2 xl:grid-cols-1 gap-3",children:[{label:"Silver",data:e.silver},{label:"Bronze",data:e.bronze}].map(m=>{var h,v,x,g,b;return u.jsxs("div",{className:`mvp-card mvp-card--${m.label.toLowerCase()} border border-white/10 rounded-2xl p-3 relative overflow-hidden group flex flex-col`,children:[u.jsx("div",{className:`absolute top-0 right-0 w-48 h-48 rounded-full blur-[70px] pointer-events-none transition-all ${m.label==="Silver"?"bg-slate-300/15 group-hover:bg-slate-300/25":"bg-orange-400/15 group-hover:bg-orange-400/25"}`}),u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsxs("div",{className:`text-xs uppercase tracking-widest font-semibold ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:[m.label," MVP"]}),u.jsx("div",{className:"text-xs text-gray-500 font-mono",children:(h=m.data)!=null&&h.score?m.data.score.toFixed(1):"-"})]}),u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.data&&c(m.data.profession,m.data.professionList,"w-6 h-6"),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("div",{className:`text-base font-semibold ${m.label==="Silver"?"text-slate-100":"text-orange-100"} truncate`,children:((v=m.data)==null?void 0:v.account)||""}),u.jsx("div",{className:`text-xs ${m.label==="Silver"?"text-slate-300/70":"text-orange-200/70"} truncate`,children:((x=m.data)==null?void 0:x.profession)||"Unknown"})]})]}),(b=(g=m.data)==null?void 0:g.topStats)!=null&&b.some(w=>l(w.name))?u.jsx("div",{className:`mt-auto flex flex-wrap items-center gap-2 text-[10px] ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:m.data.topStats.filter(w=>l(w.name)).map((w,S)=>u.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full border leading-none ${m.label==="Silver"?"bg-slate-400/10 border-slate-300/30":"bg-orange-500/10 border-orange-400/30"}`,children:[u.jsx("span",{className:"leading-none",children:w.name}),u.jsx("span",{className:"tabular-nums leading-none",children:UA(w.val,o)})]},S))}):null]},m.label)})})]}),(()=>{const m=r==="perSecond",h=m&&e.topStatsPerSecond?e.topStatsPerSecond:e,v=m&&e.topStatsLeaderboardsPerSecond?e.topStatsLeaderboardsPerSecond:e.leaderboards,x=m?"":"Total ",g=m?" /s":"",b=[{icon:Nz,title:`Down Contribution${g}`,data:h.maxDownContrib,color:"red",statKey:"downContrib",higherIsBetter:!0},{icon:Iu,title:`${x}Barrier${g}`,data:h.maxBarrier,color:"yellow",statKey:"barrier",higherIsBetter:!0},{icon:pD,title:`${x}Healing${g}`,data:h.maxHealing,color:"green",statKey:"healing",higherIsBetter:!0},{icon:Dz,title:`${x}Dodges${g}`,data:h.maxDodges,color:"cyan",statKey:"dodges",higherIsBetter:!0},{icon:Af,title:`${x}Strips${g}`,data:h.maxStrips,color:"purple",statKey:"strips",higherIsBetter:!0},{icon:kz,title:`${x}Cleanses${g}`,data:h.maxCleanses,color:"blue",statKey:"cleanses",higherIsBetter:!0},{icon:Sz,title:`${x}CC${g}`,data:h.maxCC,color:"pink",statKey:"cc",higherIsBetter:!0},{icon:yD,title:`${x}Stab Gen${g}`,data:h.maxStab,color:"cyan",statKey:"stability",higherIsBetter:!0},{icon:vz,title:"Closest to Tag",data:h.closestToTag,color:"indigo",unit:"dist",statKey:"closestToTag",higherIsBetter:!1}],w=S=>!m||!Number.isFinite(S)?o(S):s(S,2);return u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:b.map(S=>{var C,N,M,D;const R=a==="all",T=Nae((v==null?void 0:v[S.statKey])||[],S.higherIsBetter),P=T[0],O=P?{...S.data,value:Number(P.value||0),player:P.account||((C=S.data)==null?void 0:C.player)||"-",count:P.count||((N=S.data)==null?void 0:N.count)||0,profession:P.profession||((M=S.data)==null?void 0:M.profession)||"Unknown",professionList:P.professionList||((D=S.data)==null?void 0:D.professionList)||[]}:S.data;return u.jsx(Sae,{...S,data:O,active:R,onClick:()=>i(W=>W==="all"?null:"all"),rows:T,formatValue:w,renderProfessionIcon:c},S.statKey)})})})()]}):null,Cae=({stats:e,topSkillsMetric:t,onTopSkillsMetricChange:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>{const o=(t||e.topSkillsMetric)==="downContribution"?"downContribution":"damage",s=o==="downContribution",l=s?"Down Contrib":"Damage",c=o,d=Array.isArray(e.topSkillsByDamage)?e.topSkillsByDamage:null,f=Array.isArray(e.topSkillsByDownContribution)?e.topSkillsByDownContribution:null,p=y.useMemo(()=>s&&f?f:!s&&d?d:[...Array.isArray(e.topSkills)?e.topSkills:[]].sort((v,x)=>{const g=Number((v==null?void 0:v[c])||0);return Number((x==null?void 0:x[c])||0)-g||Number((x==null?void 0:x.hits)||0)-Number((v==null?void 0:v.hits)||0)||String((v==null?void 0:v.name)||"").localeCompare(String((x==null?void 0:x.name)||""))}),[s,d,f,e.topSkills,c]),m=y.useMemo(()=>Math.max(1,...p.map(v=>Number((v==null?void 0:v[c])||0))),[p,c]),h=typeof n=="function";return u.jsxs("div",{"data-section-visible":r("top-skills-outgoing"),"data-section-first":a("top-skills-outgoing"),className:i("top-skills-outgoing","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"),children:[u.jsxs("div",{id:"top-skills-outgoing","data-section-visible":r("top-skills-outgoing"),className:i("top-skills-outgoing","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(g1,{className:"top-skills-outgoing-icon w-5 h-5 text-orange-400"}),"Top Outgoing Skills"]}),u.jsx("div",{className:"text-xs text-gray-500 mt-1",children:l})]}),h&&u.jsx("div",{className:"pill-toggle-group flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"damage",label:"Damage"},{id:"downContribution",label:"Down Contrib"}].map(v=>{const x=(t||e.topSkillsMetric)===v.id;return u.jsx("button",{type:"button",onClick:()=>n==null?void 0:n(v.id),className:`pill-toggle-option px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${x?"pill-toggle-option--active bg-orange-500/30 text-orange-200":"text-gray-400 hover:text-white"}`,children:v.label},v.id)})})]}),u.jsxs("div",{className:"max-h-80 overflow-y-auto overflow-x-hidden space-y-4",children:[p.map((v,x)=>u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",x+1]}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm mb-1 py-0.5 leading-normal",children:[u.jsx("span",{className:"text-white font-bold flex-1 min-w-0 py-[1px]",children:u.jsx(Nr,{name:v.name,iconUrl:v.icon,iconClassName:"h-6 w-6",className:"min-w-0",textClassName:"truncate leading-[1.5] pt-[1px] pb-[2px]"})}),u.jsxs("div",{className:"text-right shrink-0",children:[u.jsx("span",{className:"top-skills-outgoing-value text-orange-400 font-mono font-bold",children:Math.round(v[c]||0).toLocaleString()}),u.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",v.hits.toLocaleString()," hits)"]})]})]}),u.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:u.jsx("div",{className:"top-skills-outgoing-bar h-full bg-orange-500 rounded-full",style:{width:`${Number(v[c]||0)/m*100}%`}})})]})]},`outgoing-${v.name||"unknown"}-${x}`)),p.length===0&&u.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No skill data available"})]})]}),u.jsxs("div",{id:"top-skills-incoming","data-section-visible":r("top-skills-incoming"),className:i("top-skills-incoming","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[u.jsx("div",{className:"flex items-center justify-between mb-6",children:u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(mz,{className:"w-5 h-5 text-red-500"}),"Top Incoming Skills"]}),u.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Damage"})]})}),u.jsxs("div",{className:"max-h-80 overflow-y-auto overflow-x-hidden space-y-4",children:[(e.topIncomingSkills||[]).map((v,x)=>{var g;return u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",x+1]}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm mb-1 py-0.5 leading-normal",children:[u.jsx("span",{className:"text-white font-bold flex-1 min-w-0 py-[1px]",children:u.jsx(Nr,{name:v.name,iconUrl:v.icon,iconClassName:"h-6 w-6",className:"min-w-0",textClassName:"truncate leading-[1.5] pt-[1px] pb-[2px]"})}),u.jsxs("div",{className:"text-right shrink-0",children:[u.jsx("span",{className:"text-red-400 font-mono font-bold",children:Math.round(v.damage).toLocaleString()}),u.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",v.hits.toLocaleString()," hits)"]})]})]}),u.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${v.damage/(((g=e.topIncomingSkills[0])==null?void 0:g.damage)||1)*100}%`}})})]})]},`incoming-${v.name||"unknown"}-${x}`)}),e.topIncomingSkills.length===0&&u.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No incoming damage data available"})]})]})]})},Mae=({sortedSquadClassData:e,sortedEnemyClassData:t,getProfessionIconPath:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>{const o=r("squad-composition");return u.jsxs("div",{id:"squad-composition","data-section-visible":o,"data-section-first":a("squad-composition"),className:i("squad-composition","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8 page-break-avoid"),children:[u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(Sr,{className:"w-5 h-5 text-green-400"}),"Classes"]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[u.jsx("div",{className:"h-[240px] sm:h-full",children:u.jsx(wc,{width:"100%",height:"100%",children:u.jsxs(Qx,{children:[u.jsx(Tg,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:e.map((s,l)=>u.jsx(Wu,{fill:s.color,stroke:"rgba(0,0,0,0.5)"},`cell-${l}`))}),u.jsx(jc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-squad-pie-${o?"visible":"hidden"}`)}),u.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:u.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:e.map(s=>u.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[u.jsx("span",{className:"squad-comp-legend-swatch inline-block w-3 h-3 rounded-sm",style:{backgroundColor:s.color}}),n(s.name)?u.jsx("img",{src:n(s.name),alt:s.name,className:"w-4 h-4 shrink-0 object-contain"}):u.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),u.jsx("span",{className:"min-w-0 truncate",children:s.name}),u.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",s.value,")"]})]},s.name))})})]})]}),u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(d0,{className:"w-5 h-5 text-red-400"}),"Enemy Composition"]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[u.jsx("div",{className:"h-[240px] sm:h-full",children:u.jsx(wc,{width:"100%",height:"100%",children:u.jsxs(Qx,{children:[u.jsx(Tg,{data:t,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:t.map((s,l)=>u.jsx(Wu,{fill:s.color,stroke:"rgba(0,0,0,0.5)"},`cell-${l}`))}),u.jsx(jc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-enemy-pie-${o?"visible":"hidden"}`)}),u.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:u.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:t.map(s=>u.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[u.jsx("span",{className:"squad-comp-legend-swatch inline-block w-3 h-3 rounded-sm",style:{backgroundColor:s.color}}),n(s.name)?u.jsx("img",{src:n(s.name),alt:s.name,className:"w-4 h-4 shrink-0 object-contain"}):u.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),u.jsx("span",{className:"min-w-0 truncate",children:s.name}),u.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",s.value,")"]})]},s.name))})})]})]})]})},Aae=({timelineData:e,timelineFriendlyScope:t,setTimelineFriendlyScope:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>u.jsxs("div",{id:"timeline","data-section-visible":r("timeline"),"data-section-first":a("timeline"),className:i("timeline","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Sr,{className:"w-5 h-5 text-green-400"}),"Squad vs Enemy Size"]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-widest text-gray-500",children:[u.jsx("span",{className:"text-gray-400",children:"Friendly Count"}),u.jsx("div",{className:"flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1",children:[{value:"squad",label:"Squad"},{value:"squadAllies",label:"Squad + Allies"}].map(o=>u.jsx("button",{type:"button",onClick:()=>n(o.value),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${t===o.value?"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40":"border border-transparent text-gray-400 hover:text-gray-200"}`,children:o.label},o.value))})]})]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-10",children:"No timeline data available"}):u.jsx("div",{className:"h-[260px] w-full",children:u.jsx(wc,{width:"100%",height:"100%",children:u.jsxs(_g,{data:e,margin:{top:10,right:24,left:0,bottom:0},children:[u.jsx(qf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Yf,{dataKey:"index",tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"}}),u.jsx(Gf,{tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"},width:36}),u.jsx(jc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},labelFormatter:(o,s)=>{var l;const c=(l=s==null?void 0:s[0])==null?void 0:l.payload;return c!=null&&c.label?`Log ${c.index}  ${c.label}`:`Log ${o}`},formatter:(o,s)=>[o,s==="friendly"?t==="squad"?"Squad":"Squad + Allies":"Enemies"]}),u.jsx(ns,{type:"monotone",dataKey:t==="squad"?"squadCount":"friendlyCount",name:"friendly",stroke:"#22c55e",strokeWidth:2,dot:{r:3,fill:"#22c55e"},activeDot:{r:5}}),u.jsx(ns,{type:"monotone",dataKey:"enemies",stroke:"#ef4444",strokeWidth:2,dot:{r:3,fill:"#ef4444"},activeDot:{r:5}})]})})})]}),Eae=({mapData:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>u.jsxs("div",{id:"map-distribution","data-section-visible":t("map-distribution"),"data-section-first":n("map-distribution"),className:r("map-distribution","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(x1,{className:"w-5 h-5 text-blue-400"}),"Map Distribution"]}),u.jsx("div",{className:"h-[260px] sm:h-[300px] w-full",children:u.jsx(wc,{width:"100%",height:"100%",children:u.jsxs(Qx,{children:[u.jsx(Tg,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:5,dataKey:"value",children:e.map((a,i)=>u.jsx(Wu,{fill:a.color,stroke:"rgba(0,0,0,0.5)"},`cell-${i}`))}),u.jsx(jc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}}),u.jsx(R3,{verticalAlign:"bottom",height:36,payload:e.map(a=>({id:a.name,type:"square",value:a.name,color:a.color,payload:a})),formatter:(a,i)=>u.jsxs("span",{className:"text-gray-300 font-medium ml-1",children:[a," ",u.jsxs("span",{className:"text-gray-500",children:["(",i.payload.value,")"]})]})})]})})})]}),VA=({sectionId:e="spike-damage",title:t="Spike Damage",subtitle:n="Select one player to chart their highest damage burst per fight.",listTitle:r="Squad Players",searchPlaceholder:a="Search player or account",titleIconClassName:i="text-rose-300",expandedSection:o,expandedSectionClosing:s,openExpandedSection:l,closeExpandedSection:c,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:p,spikePlayerFilter:m,setSpikePlayerFilter:h,groupedSpikePlayers:v,spikeMode:x,setSpikeMode:g,selectedSpikePlayerKey:b,setSelectedSpikePlayerKey:w,selectedSpikePlayer:S,spikeChartData:C,spikeChartMaxY:N,selectedSpikeFightIndex:M,setSelectedSpikeFightIndex:D,spikeDrilldownTitle:R,spikeDrilldownData:T,spikeDrilldownDownIndices:P,spikeDrilldownDeathIndices:O,spikeFightSkillRows:W=[],spikeFightSkillTitle:Q="Skill Damage (Selected Fight)",formatWithCommas:ee,renderProfessionIcon:ue})=>{const[z,B]=y.useState(null),[ie,k]=y.useState(null),I=$=>String($||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),E=o===e,j=S?lc(S.profession):"#fda4af",L=x==="hit"?"Highest Damage":x==="1s"?"1s Burst":x==="5s"?"5s Burst":"30s Burst",G=$=>x==="hit"?$.peakHit:x==="1s"?$.peak1s:x==="5s"?$.peak5s:$.peak30s,Z=v.flatMap($=>$.players.map(le=>({...le,groupProfession:$.profession}))).sort(($,le)=>{const we=G(le)-G($);return we!==0?we:$.displayName.localeCompare(le.displayName)}),Y=C.reduce(($,le)=>!$||le.damage>$.damage?le:$,null),q=$=>{if(!Number.isFinite($)||$<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date($))}catch{return""}},_=T.reduce(($,le)=>Math.max($,Number(le.value||0)),0),ne=Math.max(1,_),re=new Set(P),F=new Set(O),ae=T.map(($,le)=>({...$,downMarker:re.has(le)?Math.max(Number($.value||0),ne*.88):null,deathMarker:F.has(le)?Math.max(Number($.value||0),ne*.96):null})),H=$=>le=>{const we=Number(le==null?void 0:le.cx),et=Number(le==null?void 0:le.cy),de=Number(le==null?void 0:le.index);if(!Number.isFinite(we)||!Number.isFinite(et)||!Number.isFinite(de))return null;const Ye=(le==null?void 0:le.payload)||{},Re=$==="down"?Ye==null?void 0:Ye.downMarker:Ye==null?void 0:Ye.deathMarker;if(!Number.isFinite(Number(Re)))return null;const ht=`${$}-${de}`,Xt=z===ht,Tn=$==="down"?"#facc15":"#ef4444",Cn=$==="down"?"#fde047":"#f87171";return u.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onMouseEnter:()=>{B(ht),k({x:we,y:et,kind:$,label:String((Ye==null?void 0:Ye.label)||"")})},onMouseLeave:()=>{B(ge=>ge===ht?null:ge),k(ge=>(ge==null?void 0:ge.kind)===$&&(ge==null?void 0:ge.label)===String((Ye==null?void 0:Ye.label)||"")?null:ge)},children:[u.jsx("circle",{cx:we,cy:et,r:Xt?10:7,fill:Cn,opacity:Xt?.35:.18}),u.jsx("circle",{cx:we,cy:et,r:Xt?7:5.5,fill:Tn,stroke:"#0f172a",strokeWidth:Xt?2.25:1.75})]})};return u.jsxs("div",{id:e,"data-section-visible":d(e),"data-section-first":f(e),className:p(e,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${E?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${s?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[u.jsxs("div",{className:E?"pr-10 md:pr-0":"",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Af,{className:`w-5 h-5 ${i}`}),t]}),u.jsx("p",{className:"text-xs text-gray-400",children:n})]}),u.jsxs("div",{className:`flex items-center gap-3 ${E?"pr-10 md:pr-0":""}`,children:[u.jsx(An,{value:x,onChange:$=>g($),options:[{value:"hit",label:"Highest Damage"},{value:"1s",label:"1s"},{value:"5s",label:"5s"},{value:"30s",label:"30s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx("button",{type:"button",onClick:()=>E?c():l(e),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${E?"absolute top-2 right-2 md:static":""}`,"aria-label":E?`Close ${t}`:`Expand ${t}`,title:E?"Close":"Expand",children:E?u.jsx(za,{className:"w-4 h-4"}):u.jsx(ni,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:r}),u.jsx("input",{type:"search",value:m,onChange:$=>h($.target.value),placeholder:a,className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-rose-400 focus:outline-none"}),u.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:Z.length===0?u.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No players match the filter."}):u.jsx("div",{className:"p-1.5 space-y-1",children:Z.map($=>{const le=b===$.key;return u.jsx("button",{type:"button",onClick:()=>w($.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${le?"border-rose-300/60 bg-rose-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ue($.profession,void 0,"w-3.5 h-3.5"),u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:$.displayName}),u.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:$.groupProfession})]}),u.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[$.characterName||$.displayName,"  ",$.logs," ",$.logs===1?"fight":"fights"]})]}),u.jsx("div",{className:"text-xs font-mono text-rose-200 shrink-0",children:ee(G($)||0,0)})]})},$.key)})})})]}),u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:["Per Fight ",L]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[C.length," ",C.length===1?"fight":"fights"]})]}),u.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!S||C.length===0?u.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view burst damage by fight."}):u.jsx(wc,{width:"100%",height:"100%",children:u.jsxs(_g,{data:C,onClick:$=>{const le=Number($==null?void 0:$.activeTooltipIndex);Number.isFinite(le)&&D(M===le?null:le)},children:[u.jsx(qf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Yf,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),u.jsx(Gf,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,N)],tickFormatter:$=>ee($,0)}),u.jsx(jc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:($,le)=>[ee(Number($||0),0),String(le||"")],labelFormatter:($,le)=>{var we;const et=(we=le==null?void 0:le[0])==null?void 0:we.payload;if(!et)return"";const de=I(et.fullLabel||"");return x==="hit"&&et.skillName?`${de}  ${et.skillName}`:de}}),u.jsx(ns,{type:"monotone",dataKey:"damage",name:S.displayName,stroke:j,strokeWidth:3,dot:$=>{var le;const we=Number((le=$==null?void 0:$.payload)==null?void 0:le.index);if(!Number.isFinite(we))return null;const et=M===we;return u.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:de=>{de.stopPropagation(),D(et?null:we)},children:[u.jsx("circle",{cx:$.cx,cy:$.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),u.jsx("circle",{cx:$.cx,cy:$.cy,r:et?4:3,fill:j,stroke:et?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:et?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),u.jsx(ns,{type:"monotone",dataKey:"maxDamage",name:"Fight Max",stroke:"rgba(148,163,184,0.8)",strokeWidth:2,strokeDasharray:"6 4",dot:!1,activeDot:!1})]})})})]})]}),S&&u.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Player"}),u.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[ue(S.profession,S.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:S.displayName})]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:x==="hit"?"Peak Highest Skill Damage":`Peak ${L}`}),u.jsx("div",{className:"mt-1 text-lg font-black text-rose-200 font-mono",children:ee(G(S)||0,0)})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:x==="hit"?"Peak Skill / Fight":"Peak Fight"}),u.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const $=I((Y==null?void 0:Y.fullLabel)||S.peakFightLabel||"N/A"),le=q(Number((Y==null?void 0:Y.timestamp)||0)),we=le?`${le} - ${$}`:$;return x!=="hit"?we:S.peakSkillName?`${S.peakSkillName}  ${we}`:we})()})]})]}),S&&M!==null&&u.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:R}),u.jsx("button",{type:"button",onClick:()=>D(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),u.jsx("div",{className:"h-[220px] relative",children:T.length===0?u.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):u.jsxs(u.Fragment,{children:[u.jsx(wc,{width:"100%",height:"100%",children:u.jsxs(_g,{data:ae,children:[u.jsx(qf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Yf,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),u.jsx(Gf,{tick:{fill:"#e2e8f0",fontSize:10},tickFormatter:$=>ee($,0)}),u.jsx(jc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:($,le)=>{const we=String(le||"");return we==="Down"?["Downed","Event"]:we==="Death"?["Dead","Event"]:[ee(Number($||0),0),"Damage"]},labelFormatter:$=>String($||"")}),u.jsx(ns,{type:"monotone",dataKey:"value",name:"Damage",stroke:j,strokeWidth:2.5,dot:x==="hit"?{r:2}:!1,activeDot:{r:4}}),u.jsx(ns,{type:"linear",dataKey:"downMarker",name:"Down",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:H("down")}),u.jsx(ns,{type:"linear",dataKey:"deathMarker",name:"Death",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:H("death")})]})}),ie&&u.jsxs("div",{className:"pointer-events-none absolute z-20 rounded-md border border-white/15 bg-[#101722] px-2 py-1 text-xs shadow-xl",style:{left:`${Math.max(8,ie.x)}px`,top:`${Math.max(8,ie.y-38)}px`,transform:"translate(-50%, -100%)"},children:[u.jsx("div",{className:`${ie.kind==="down"?"text-yellow-300":"text-red-300"} font-semibold`,children:ie.kind==="down"?"Down":"Death"}),u.jsx("div",{className:"text-gray-300",children:ie.label})]})]})})]}),S&&M!==null&&u.jsxs("div",{className:`mt-4 transition-all duration-300 ${W.length>0?"opacity-100 translate-y-0":"opacity-90"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:Q}),u.jsxs("div",{className:"text-[10px] uppercase tracking-[0.2em] text-gray-500",children:[W.length," ",W.length===1?"skill":"skills"]})]}),W.length===0?u.jsx("div",{className:"text-xs text-gray-500 italic py-4",children:"No skill-level breakdown available for this fight."}):u.jsxs("div",{className:"incoming-skill-table-container rounded-lg border border-white/10 bg-black/35 overflow-hidden",children:[u.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2 text-[10px] uppercase tracking-[0.25em] text-gray-400 border-b border-white/10",children:[u.jsx("div",{children:"Skill"}),u.jsx("div",{className:"text-right",children:"Damage"}),u.jsx("div",{className:"text-right",children:"Hits"})]}),u.jsx("div",{className:"max-h-[260px] overflow-y-auto",children:W.map(($,le)=>u.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2.5 text-sm text-gray-200 border-b border-white/[0.05] last:border-b-0",children:[u.jsxs("div",{className:"min-w-0 flex items-center gap-2",children:[$.icon?u.jsx("img",{src:$.icon,alt:"",loading:"lazy",className:"w-4 h-4 rounded-sm border border-white/[0.16] bg-black/40 flex-shrink-0"}):u.jsx("div",{className:"w-4 h-4 rounded-sm border border-white/[0.14] bg-white/[0.06] flex-shrink-0"}),u.jsx("div",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",title:$.skillName,children:$.skillName})]}),u.jsx("div",{className:"text-right font-mono text-rose-200",children:ee(Number($.damage||0),0)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:ee(Number($.hits||0),0)})]},`${$.skillName}-${le}`))})]})]})]})},Tae=10,Om=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),a=t%60;return n>0?`${n}h ${String(r).padStart(2,"0")}m`:r>0?`${r}m ${String(a).padStart(2,"0")}s`:`${a}s`},WA=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3));return String(t)},Pae=e=>{const t=e.replace(/\r?\n/g," ").trim();return/[",\n]/.test(t)?`"${t.replace(/"/g,'""')}"`:t},Dae=({attendanceRows:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:a})=>{const[i,o]=y.useState(""),[s,l]=y.useState("squad"),[c,d]=y.useState("desc"),f=i.trim().toLowerCase(),p=y.useMemo(()=>{const x=e.filter(b=>{if(!f)return!0;const w=String(b.account||"").toLowerCase(),S=(b.characterNames||[]).join(" ").toLowerCase(),C=(b.classTimes||[]).map(N=>String(N.profession||"").toLowerCase()).join(" ");return w.includes(f)||S.includes(f)||C.includes(f)}),g=b=>Number(s==="fight"?b.combatTimeMs??b.squadTimeMs??0:b.squadTimeMs??0);return[...x].sort((b,w)=>{const S=g(w)-g(b);return S!==0?c==="desc"?S:-S:String(b.account||"").localeCompare(String(w.account||""))})},[e,f,c,s]),m=x=>{if(s===x){d(g=>g==="desc"?"asc":"desc");return}l(x),d("desc")},h=p.length>Tae,v=()=>{const x=["Account","Characters","Classes Played","Total Fight Time (seconds)","Total Squad Time (seconds)"],g=p.map(M=>{const D=(M.classTimes||[]).map(R=>`${R.profession} (${Om(R.timeMs)})`).join("; ");return[M.account||"",(M.characterNames||[]).join(", "),D,WA(Number(M.combatTimeMs??M.squadTimeMs??0)),WA(M.squadTimeMs)]}),b=[x,...g].map(M=>M.map(D=>Pae(String(D??""))).join(",")).join(`
`),w=new Blob([b],{type:"text/csv;charset=utf-8;"}),S=URL.createObjectURL(w),C=document.createElement("a"),N=new Date().toISOString().slice(0,19).replace(/[:T]/g,"-");C.href=S,C.download=`attendance-ledger-${N}.csv`,document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(S)};return u.jsx("section",{id:"attendance-ledger","data-section-visible":n("attendance-ledger"),"data-section-first":r("attendance-ledger"),className:a("attendance-ledger","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Mf,{className:"w-5 h-5 text-amber-300"}),"Attendance Ledger"]}),u.jsxs("span",{className:"inline-flex items-center rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] uppercase tracking-widest text-gray-300",children:[e.length," Joined"]})]}),u.jsxs("div",{className:"flex w-full sm:w-auto items-center gap-2",children:[u.jsx("input",{value:i,onChange:x=>o(x.target.value),placeholder:"Search account, character, or class...",className:"w-full sm:w-[320px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"}),u.jsxs("button",{type:"button",onClick:v,className:"inline-flex items-center gap-1.5 rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-xs text-gray-200 hover:text-white hover:border-white/30 transition-colors whitespace-nowrap",children:[u.jsx(xz,{className:"w-3.5 h-3.5"}),"Export CSV"]})]})]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No attendance data available."}):u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${h?"max-h-[30rem] overflow-y-auto":""}`,children:u.jsxs("table",{className:"w-full text-xs table-auto min-w-full border-separate border-spacing-0",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Account"}),u.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Character(s)"}),u.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Classes Played"}),u.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:u.jsxs("button",{type:"button",onClick:()=>m("fight"),className:`transition-colors whitespace-nowrap ${s==="fight"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Fight Time",s==="fight"?c==="desc"?" ":" ":""]})}),u.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:u.jsxs("button",{type:"button",onClick:()=>m("squad"),className:`transition-colors whitespace-nowrap ${s==="squad"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Squad Time",s==="squad"?c==="desc"?" ":" ":""]})})]})}),u.jsxs("tbody",{children:[p.map(x=>u.jsxs("tr",{className:"border-t border-white/5 align-top hover:bg-white/5",children:[u.jsx("td",{className:"py-2 px-4 text-gray-100 font-medium whitespace-nowrap",children:x.account}),u.jsx("td",{className:"py-2 px-4 text-gray-300",children:x.characterNames.length>0?x.characterNames.join(", "):"-"}),u.jsx("td",{className:"py-2 px-4",children:u.jsx("div",{className:"flex flex-wrap gap-1.5",children:x.classTimes.length>0?x.classTimes.map(g=>u.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] text-gray-200",children:[t(g.profession)?u.jsx("img",{src:t(g.profession),alt:g.profession,className:"w-3.5 h-3.5 object-contain"}):null,u.jsx("span",{children:g.profession}),u.jsx("span",{className:"text-gray-400",children:Om(g.timeMs)})]},`${x.account}-${g.profession}`)):u.jsx("span",{className:"text-gray-500",children:"-"})})}),u.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:Om(Number(x.combatTimeMs??x.squadTimeMs??0))}),u.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:Om(x.squadTimeMs)})]},x.account)),p.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:5,className:"py-6 text-center text-gray-500 italic",children:"No attendance rows match your search."})})]})]})})]})})},Oae=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},Iae=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:a})=>{const[i,o]=y.useState(null),[s,l]=y.useState(""),c=s.trim().toLowerCase(),d=op("svg/commander_tag.svg");y.useEffect(()=>{if(e.length===0){i!==null&&o(null);return}(!i||!e.some(m=>m.id===i))&&o(e[0].id)},[e,i]);const f=y.useMemo(()=>e.find(m=>m.id===i)||null,[e,i]),p=m=>{if(!c)return!1;const h=String(m.account||"").toLowerCase(),v=String(m.characterName||"").toLowerCase(),x=String(m.profession||"").toLowerCase();return h.includes(c)||v.includes(c)||x.includes(c)};return u.jsx("section",{id:"squad-comp-fight","data-section-visible":n("squad-comp-fight"),"data-section-first":r("squad-comp-fight"),className:a("squad-comp-fight","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 squad-comp-shell",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(Sr,{className:"w-5 h-5 text-cyan-300"}),"Squad Comp By Fight"]}),u.jsx("div",{className:"mb-4",children:u.jsx("input",{value:s,onChange:m=>l(m.target.value),placeholder:"Search player or class (highlight matches)...",className:"w-full sm:w-[360px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"})}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No squad composition data available."}):u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[u.jsxs("aside",{className:"squad-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),u.jsx("div",{className:"space-y-1 pr-1 max-h-[560px] xl:max-h-[720px] overflow-y-auto",children:e.map(m=>{const h=m.id===i;return u.jsxs("button",{onClick:()=>o(m.id),className:`squad-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${h?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100 squad-comp-fight-nav-item--active":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:m.label}),u.jsx("div",{className:"text-xs font-semibold truncate",children:m.mapName||"Unknown Map"}),u.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[m.duration||"--:--","  ",Oae(m.timestamp)]})]},m.id)})})]}),u.jsx("div",{className:"rounded-xl border border-white/10 bg-gradient-to-b from-slate-950/55 to-slate-900/45 p-3 squad-comp-board",children:f?u.jsx("div",{className:"space-y-2.5",children:f.parties.map(m=>u.jsxs("div",{className:"squad-comp-party-row grid grid-cols-[40px_minmax(0,1fr)] gap-2 rounded-xl border border-white/10 bg-black/25 p-2",children:[u.jsxs("div",{className:"squad-comp-party-badge rounded-lg border border-white/15 bg-slate-900/80 text-center py-2",children:[u.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-500",children:"P"}),u.jsx("div",{className:"text-base font-bold text-gray-100 leading-none",children:m.party>0?m.party:"-"})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-1 min-w-0",children:m.players.map((h,v)=>(()=>{const x=p(h);return u.jsxs("div",{className:`squad-comp-player-tile rounded-md border border-emerald-300/20 bg-gradient-to-b from-emerald-500/30 to-emerald-700/25 px-2 py-1.5 min-w-0 transition-all ${x?"ring-2 ring-cyan-300/70 border-cyan-300/60 shadow-[0_0_20px_rgba(34,211,238,0.25)]":""} ${h.isCommander?"relative overflow-hidden":""}`,children:[h.isCommander?u.jsx("img",{src:d,alt:"","aria-hidden":"true",className:"absolute -right-2 -bottom-2 w-12 h-12 object-contain opacity-20 brightness-75 pointer-events-none"}):null,u.jsxs("div",{className:"grid grid-cols-[18px_minmax(0,1fr)] grid-rows-2 gap-x-2 items-center min-w-0",children:[u.jsx("div",{className:"row-span-2 flex items-center justify-center",children:t(h.profession)?u.jsx("img",{src:t(h.profession),alt:h.profession,className:"squad-comp-player-icon w-5 h-5 object-contain shrink-0 opacity-95"}):u.jsx("span",{className:"squad-comp-player-icon inline-block w-5 h-5 rounded-sm border border-white/15"})}),u.jsx("div",{className:"squad-comp-player-account text-[11px] font-semibold text-emerald-50 truncate min-w-0 flex items-center gap-1",title:h.account,children:u.jsx("span",{className:"truncate min-w-0",children:h.account})}),u.jsx("div",{className:"squad-comp-player-character text-[10px] text-emerald-100/80 truncate min-w-0",title:h.characterName||"Unknown",children:h.characterName||"Unknown"})]})]},`${f.id}-${m.party}-${h.account}-${v}`)})())})]},`${f.id}-party-${m.party}`))}):u.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},_ae=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},Lae=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:a})=>{const[i,o]=y.useState(null);y.useEffect(()=>{if(e.length===0){i!==null&&o(null);return}(!i||!e.some(c=>c.id===i))&&o(e[0].id)},[e,i]);const s=y.useMemo(()=>e.find(c=>c.id===i)||null,[e,i]),l=y.useMemo(()=>s!=null&&s.enemyClassCounts?Object.entries(s.enemyClassCounts).map(([c,d])=>({profession:c,count:Number(d||0)})).filter(c=>c.count>0).sort((c,d)=>d.count-c.count||c.profession.localeCompare(d.profession)):[],[s]);return u.jsx("section",{id:"fight-comp","data-section-visible":n("fight-comp"),"data-section-first":r("fight-comp"),className:a("fight-comp","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"fight-comp-shell bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(rl,{className:"w-5 h-5 text-cyan-300"}),"Fight Comp"]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight composition data available."}):u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[u.jsxs("aside",{className:"fight-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 self-start",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),u.jsx("div",{className:"space-y-1 pr-1 max-h-[320px] overflow-y-auto",children:e.map(c=>{const d=c.id===i;return u.jsxs("button",{onClick:()=>o(c.id),className:`fight-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${d?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:c.label}),u.jsx("div",{className:"text-xs font-semibold truncate",children:c.mapName||"Unknown Map"}),u.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[c.duration||"--:--","  ",_ae(c.timestamp)]})]},c.id)})})]}),u.jsx("div",{className:"fight-comp-board rounded-xl border border-white/10 bg-black/30 p-2.5 overflow-hidden",children:s?u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[minmax(0,1fr)_minmax(0,0.78fr)] gap-2.5 min-w-0",children:[u.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[u.jsx("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Squad Parties"}),u.jsx("div",{className:"p-2 rounded-lg border border-white/10 bg-white/[0.03] divide-y divide-white/10",children:s.parties.map(c=>{const d=Array.isArray(c.players)&&c.players.length>0?c.players.map(f=>({profession:String((f==null?void 0:f.profession)||"Unknown"),account:String((f==null?void 0:f.account)||""),characterName:String((f==null?void 0:f.characterName)||"")})).filter(f=>f.profession&&f.profession!=="Unknown").sort((f,p)=>f.profession.localeCompare(p.profession)||f.characterName.localeCompare(p.characterName)||f.account.localeCompare(p.account)):Object.entries(c.classCounts||{}).flatMap(([f,p])=>Array.from({length:Math.max(0,Number(p||0))},()=>({profession:String(f),account:"",characterName:""}))).filter(f=>f.profession&&f.profession!=="Unknown").sort((f,p)=>f.profession.localeCompare(p.profession));return u.jsxs("div",{className:"fight-comp-row grid grid-cols-[36px_minmax(0,1fr)] gap-1.5 items-center px-1.5 py-1 first:pt-0 last:pb-0",children:[u.jsx("div",{className:"fight-comp-party-badge text-[10px] font-semibold uppercase tracking-widest text-gray-300 text-center rounded-md border border-white/10 bg-black/20 py-0.5",children:c.party>0?`P${c.party}`:"Unk"}),u.jsx("div",{className:"flex flex-wrap gap-x-1.5 gap-y-1",children:d.length>0?d.map((f,p)=>u.jsx("span",{title:f.characterName||f.account?`${f.profession}  ${f.characterName||"Unknown"} (${f.account||"Unknown"})`:f.profession,className:"fight-comp-class-icon fight-comp-class-icon--squad inline-flex items-center justify-center",children:t(f.profession)?u.jsx("img",{src:t(f.profession),alt:f.profession,className:"w-3.5 h-3.5 object-contain"}):u.jsx("span",{className:"inline-block w-3.5 h-3.5 rounded-sm border border-white/15"})},`${s.id}-party-${c.party}-${f.profession}-${f.account||f.characterName||p}-${p}`)):u.jsx("span",{className:"text-gray-500 text-[11px]",children:"-"})})]},`${s.id}-party-${c.party}`)})})]}),u.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[u.jsx("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Enemy Classes"}),u.jsx("div",{className:"p-2",children:l.length>0?u.jsx("div",{className:"flex flex-wrap gap-1",children:l.map(c=>u.jsxs("div",{className:"fight-comp-row inline-flex items-center gap-1 rounded-lg border border-white/10 bg-white/[0.03] px-1.5 py-0.5",children:[u.jsx("span",{className:"fight-comp-class-icon inline-flex items-center justify-center rounded-md border border-white/10 bg-black/20 px-1 py-0.5",title:c.profession,children:t(c.profession)?u.jsx("img",{src:t(c.profession),alt:c.profession,className:"w-3 h-3 object-contain"}):u.jsx("span",{className:"inline-block w-3 h-3 rounded-sm border border-white/15"})}),u.jsx("span",{className:"text-[10px] font-mono text-gray-200",children:c.count})]},`${s.id}-enemy-${c.profession}`))}):u.jsx("div",{className:"py-6 text-center text-gray-500 italic text-sm",children:"No enemy class data"})})]})]}):u.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},Fae=({embedded:e,dashboardTitle:t,totalLogs:n,onBack:r,devMockAvailable:a,devMockUploadState:i,onDevMockUpload:o,uploadingWeb:s,onWebUpload:l,sharing:c,canShareDiscord:d,onShare:f})=>{const p=c||!d,m=d?"":"Select a Discord webhook to enable sharing.";return u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-3 shrink-0 px-2",children:[u.jsxs("div",{className:"flex items-start gap-3 sm:items-center sm:gap-4",children:[!e&&u.jsx("button",{onClick:r,className:"p-2 rounded-full bg-white/5 border border-white/10 hover:bg-white/10 transition-colors text-gray-400 hover:text-white",children:u.jsx(mD,{className:"w-6 h-6"})}),u.jsxs("div",{className:"space-y-0",children:[u.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-white flex items-center gap-2",children:[u.jsx(sc,{className:"w-6 h-6 text-yellow-500"}),t||"Statistics Dashboard"]}),u.jsxs("p",{className:"text-gray-400 text-[11px] sm:text-xs",children:["Performance across ",n," uploaded logs"]})]})]}),!e&&u.jsxs("div",{className:"flex items-center gap-3",children:[a&&u.jsxs("button",{onClick:o,disabled:i.uploading,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 bg-amber-500/15 text-amber-200 border border-amber-500/30 hover:bg-amber-500/25",children:[u.jsx(f0,{className:"w-4 h-4"}),i.uploading?"Building...":"Dev Mock Upload"]}),u.jsxs("button",{onClick:l,disabled:s,className:"stats-action-upload flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:[u.jsx(Pz,{className:"w-4 h-4"}),s?"Uploading...":"Upload to Web"]}),u.jsxs("div",{className:"relative group",title:m,children:[u.jsxs("button",{onClick:f,disabled:p,"aria-disabled":p,className:"stats-action-discord flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(Az,{className:"w-4 h-4"}),c?"Sharing...":"Share to Discord"]}),!d&&u.jsx("div",{className:"stats-share-tooltip pointer-events-none absolute right-0 top-full mt-2 w-56 rounded-md border border-white/10 bg-black/90 px-2 py-1 text-[11px] text-gray-200 opacity-0 shadow-lg transition-opacity group-hover:opacity-100 z-50",children:"Select a Discord webhook to enable sharing."})]})]})]})},Rae=({embedded:e,webUploadMessage:t,webUploadUrl:n,webUploadBuildStatus:r,webCopyStatus:a,setWebCopyStatus:i})=>{if(e||!t)return null;const o=n||t.replace(/^Uploaded:\s*/i,"").trim(),[s,l]=y.useState("idle"),c=(()=>{if(!o)return null;try{const d=new URL(o),f=d.searchParams.get("report");if(!f||!d.hostname.endsWith("github.io"))return null;const p=d.pathname.match(/^\/([^/]+\.github\.io)(\/|$)/i),m=(p==null?void 0:p[1])||"";return!m||m.toLowerCase()!==d.hostname.toLowerCase()?null:`${d.origin}/?report=${f}`}catch{return null}})();return u.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[u.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[u.jsx("span",{className:"uppercase tracking-widest text-[10px] text-cyan-300/70",children:"Uploaded"}),u.jsx("button",{onClick:()=>{var d;o&&(d=window.electronAPI)!=null&&d.openExternal&&window.electronAPI.openExternal(o)},className:"text-cyan-200 hover:text-cyan-100 underline underline-offset-2",children:o}),r!=="idle"&&u.jsxs("span",{className:`ml-2 text-[10px] px-2 py-0.5 rounded-full border inline-flex items-center gap-1 ${r==="built"?"bg-emerald-500/20 text-emerald-300 border-emerald-500/40":r==="errored"?"bg-red-500/20 text-red-300 border-red-500/40":r==="unknown"?"bg-white/5 text-gray-400 border-white/10":"bg-cyan-500/20 text-cyan-200 border-cyan-500/40"}`,children:[(r==="checking"||r==="building")&&u.jsx(Cz,{className:"w-3 h-3 animate-spin"}),r==="built"&&u.jsx(hD,{className:"w-3 h-3"}),r==="errored"&&u.jsx(vD,{className:"w-3 h-3"}),r==="built"?"Build ready":r==="errored"?"Build failed":r==="unknown"?"Build status unknown":"Building"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>{o&&(navigator.clipboard.writeText(o),i("copied"),setTimeout(()=>i("idle"),1200))},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:a==="copied"?"Copied":"Copy URL"}),c&&u.jsx("button",{onClick:()=>{navigator.clipboard.writeText(c),l("copied"),setTimeout(()=>l("idle"),1200)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:s==="copied"?"Copied":"Copy Short"})]})]})},$ae=({embedded:e,devMockAvailable:t,devMockUploadState:n})=>e||!t||!n.message?null:u.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[u.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[u.jsx("span",{className:"uppercase tracking-widest text-[10px] text-amber-300/70",children:"Dev Mock"}),n.url?u.jsx("button",{onClick:()=>{var r;const a=n.url;a&&(r=window.electronAPI)!=null&&r.openExternal&&window.electronAPI.openExternal(a)},className:"text-amber-200 hover:text-amber-100 underline underline-offset-2",children:n.url}):u.jsx("span",{className:"text-gray-300",children:n.message})]}),n.url&&u.jsx("button",{onClick:()=>{var r;const a=n.url;a&&(r=window.electronAPI)!=null&&r.openExternal&&window.electronAPI.openExternal(a)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:"Open in Browser"})]}),To="space-y-1 pr-1 max-h-72 overflow-y-auto",Bae=new Set(["Vulnerability","Weakness","Blind","Chill","Cripple","Slow","Taunt","Fear","Immobilize"]),zae=["overview","fight-breakdown","top-players","top-skills-outgoing","squad-composition","attendance-ledger","squad-comp-fight","fight-comp","timeline","map-distribution","boon-output","offense-detailed","spike-damage","conditions-outgoing","defense-detailed","incoming-strike-damage","support-detailed","healing-stats","fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"];function Uae({logs:e,onBack:t,mvpWeights:n,statsViewSettings:r,onStatsViewSettingsChange:a,webUploadState:i,onWebUpload:o,disruptionMethod:s,precomputedStats:l,embedded:c=!1,sectionVisibility:d,dashboardTitle:f,uiTheme:p,canShareDiscord:m=!0,aggregationResult:h}){var v,x;const g=n||SD,b=r||Gb,w=i||Xz,S=b.showTopStats,C=b.showMvp,N=b.roundCountStats,M=b.topStatsMode||"total",[D,R]=y.useState(b.topSkillsMetric||"damage"),T=(a?b.topSkillsMetric:D)||"damage",P=w.uploading,O=w.message,W=w.url,Q=w.buildStatus,ee=!c&&!1,ue=!!h,{result:z}=e8({logs:ue?[]:e,precomputedStats:ue?void 0:l,mvpWeights:n,statsViewSettings:r,disruptionMethod:s}),B=h||z,{stats:ie,skillUsageData:k}=B,I=y.useMemo(()=>{var X,se,ve,Ve,Ee,it;const oe=ie&&typeof ie=="object"?ie:{},Ke=Me=>Array.isArray(Me)?Me:[],vn=Me=>Me&&typeof Me=="object"?Me:{},Qe=(Me,Nt)=>Me&&typeof Me=="object"?Me:Nt,yt={value:0,player:"-",profession:"Unknown",professionList:[],count:0},Tt={account:"-",profession:"Unknown",professionList:[],reason:"",topStats:[],score:0},ln={...oe,total:Number(oe.total||0),timelineData:Ke(oe.timelineData),mapData:Ke(oe.mapData),fightBreakdown:Ke(oe.fightBreakdown),topSkills:Ke(oe.topSkills),topIncomingSkills:Ke(oe.topIncomingSkills),leaderboards:vn(oe.leaderboards),topStatsPerSecond:vn(oe.topStatsPerSecond),topStatsLeaderboardsPerSecond:vn(oe.topStatsLeaderboardsPerSecond),maxDownContrib:Qe(oe.maxDownContrib,yt),maxBarrier:Qe(oe.maxBarrier,yt),maxHealing:Qe(oe.maxHealing,yt),maxDodges:Qe(oe.maxDodges,yt),maxStrips:Qe(oe.maxStrips,yt),maxCleanses:Qe(oe.maxCleanses,yt),maxCC:Qe(oe.maxCC,yt),maxStab:Qe(oe.maxStab,yt),closestToTag:Qe(oe.closestToTag,yt),mvp:{...Tt,...vn(oe.mvp),topStats:Ke((X=oe==null?void 0:oe.mvp)==null?void 0:X.topStats)},silver:Qe(oe.silver,Tt),bronze:Qe(oe.bronze,Tt),avgMvpScore:Number(oe.avgMvpScore||0),offensePlayers:Ke(oe.offensePlayers),defensePlayers:Ke(oe.defensePlayers),damageMitigationPlayers:Ke(oe.damageMitigationPlayers),damageMitigationMinions:Ke(oe.damageMitigationMinions),supportPlayers:Ke(oe.supportPlayers),healingPlayers:Ke(oe.healingPlayers),boonTables:Ke(oe.boonTables),specialTables:Ke(oe.specialTables),outgoingConditionSummary:Ke(oe.outgoingConditionSummary),outgoingConditionPlayers:Ke(oe.outgoingConditionPlayers),incomingConditionSummary:Ke(oe.incomingConditionSummary),incomingConditionPlayers:Ke(oe.incomingConditionPlayers),squadClassData:Ke(oe.squadClassData),enemyClassData:Ke(oe.enemyClassData),attendanceData:Ke(oe.attendanceData),squadCompByFight:Ke(oe.squadCompByFight),fightDiffMode:Ke(oe.fightDiffMode),playerSkillBreakdowns:Ke(oe.playerSkillBreakdowns)},zt=Ke((se=ln.leaderboards)==null?void 0:se.downContrib).map(Me=>({...Me,value:Number((Me==null?void 0:Me.value)??0)})).filter(Me=>Number.isFinite(Me.value)).sort((Me,Nt)=>Nt.value-Me.value||String((Me==null?void 0:Me.account)||"").localeCompare(String((Nt==null?void 0:Nt.account)||"")))[0];return zt&&(ln.maxDownContrib={...ln.maxDownContrib||{},value:Number(zt.value||0),player:String(zt.account||((ve=ln.maxDownContrib)==null?void 0:ve.player)||"-"),count:Number(zt.count||((Ve=ln.maxDownContrib)==null?void 0:Ve.count)||0),profession:String(zt.profession||((Ee=ln.maxDownContrib)==null?void 0:Ee.profession)||"Unknown"),professionList:Array.isArray(zt.professionList)?zt.professionList:((it=ln.maxDownContrib)==null?void 0:it.professionList)||[]}),ln},[ie]);y.useEffect(()=>{var X;if(!((X=window==null?void 0:window.electronAPI)!=null&&X.fetchImageAsDataUrl))return;const se=new Set,ve=Ve=>{if(Ve){if(typeof Ve=="string"){/^https?:\/\//i.test(Ve)&&se.add(Ve);return}if(Array.isArray(Ve)){Ve.forEach(ve);return}typeof Ve=="object"&&Object.entries(Ve).forEach(([Ee,it])=>{if((Ee==="icon"||Ee==="iconUrl")&&typeof it=="string"){/^https?:\/\//i.test(it)&&se.add(it);return}ve(it)})}};ve(I),se.size>0&&Jre(Array.from(se))},[I]);const E=y.useMemo(()=>{const X=(l==null?void 0:l.skillUsageData)??k;return{logRecords:Array.isArray(X==null?void 0:X.logRecords)?X.logRecords:[],players:Array.isArray(X==null?void 0:X.players)?X.players:[],skillOptions:Array.isArray(X==null?void 0:X.skillOptions)?X.skillOptions:[],resUtilitySkills:Array.isArray(X==null?void 0:X.resUtilitySkills)?X.resUtilitySkills:[]}},[k,l==null?void 0:l.skillUsageData]),j=E.players.length>0;y.useEffect(()=>{a||R(b.topSkillsMetric||"damage")},[b.topSkillsMetric,a]);const L=X=>{if(a){a({...b,topSkillsMetric:X});return}R(X)},{scrollContainerRef:G}=Iz(c),{devMockUploadState:Z,webCopyStatus:Y,setWebCopyStatus:q,handleWebUpload:_,handleDevMockUpload:ne}=iU({logs:e,stats:I,skillUsageData:E,activeStatsViewSettings:r||Gb,uiTheme:p||"classic",embedded:c,onWebUpload:o}),{sharing:re,handleShare:F}=JU(c),ae={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},H=X=>{const se=ae[X];return se?g[se]>0:!0},[$,le]=y.useState(null),[we,et]=y.useState(null),[de,Ye]=y.useState("totalBuffs"),[Re,ht]=y.useState("total"),[Xt,Tn]=y.useState(""),[Cn,ge]=y.useState(null),[Ie,Pt]=y.useState(""),[Kt,an]=y.useState(null),[Tr,Ua]=y.useState(""),[fa,yr]=y.useState(""),[Ca,en]=y.useState(""),[Wt,Ma]=y.useState(""),[xn,pa]=y.useState(""),[_n,qo]=y.useState(""),[$r,oi]=y.useState(""),[So,Pl]=y.useState("outgoing"),[Ko,Dl]=y.useState(""),[si,Qi]=y.useState("damage"),[Yo,cd]=y.useState("damageTaken"),[Xi,Lc]=y.useState("totalMitigation"),[li,Os]=y.useState("all"),[Is,Fc]=y.useState({key:"damage",dir:"desc"}),No=!(li!=="all"&&Bae.has(li)),K=No?"grid-cols-[0.4fr_1.6fr_1fr_1fr]":"grid-cols-[0.4fr_1.6fr_1fr]",pe=No?Is:{key:"applications",dir:Is.key==="applications"?Is.dir:"desc"},[De,Ze]=y.useState("condiCleanse"),[$t,Ct]=y.useState("healing"),[mt,sn]=y.useState("total"),[gn,jr]=y.useState("all"),[lr,Be]=y.useState("total"),[tt,Yt]=y.useState("total"),[A,U]=y.useState("total"),[te,ye]=y.useState("total"),[J,Oe]=y.useState("all"),[Fe,st]=y.useState("squad"),[vt,gt]=y.useState("player"),[Ft,mn]=y.useState(""),[dn,Je]=y.useState(""),[He,ot]=y.useState(null),[Et,Ht]=y.useState([]),[me,Se]=y.useState(null),[ke,ze]=y.useState(null),[he,Le]=y.useState("hit"),[Ne,bt]=y.useState(null),[rt,at]=y.useState(null),[Rt,wn]=y.useState("hit"),[Ln,Jn]=y.useState([]),[xt,V]=y.useState(null),[ce,je]=y.useState(!1),Ce=y.useRef(null),[be,$e]=y.useState("sizes"),[Xe,qe]=y.useState("total"),Bt=Xe==="perSecond",[Gt,Vt]=y.useState(null),[lt,Zt]=y.useState("total"),[dt,rn]=y.useState(null),[_t,Mt]=y.useState(null),[Ae,xe]=y.useState(null),[wt,At]=y.useState(""),[qt,kn]=y.useState(null),[Br,ra]=y.useState(null),[Gr,Ai]=y.useState(null),[Rc,_s]=y.useState(""),[jo,Wp]=y.useState("player"),[Co,Ls]=y.useState(null),[ud,Fs]=y.useState(null),[ci,ui]=y.useState(null),{apmSpecBuckets:di}=t8(E),Pe=I.playerSkillBreakdowns||[],Ge=y.useMemo(()=>{const X=new Map;return Pe.forEach(se=>X.set(se.key,se)),X},[Pe]),nt=y.useMemo(()=>{const X=new Map;return Pe.forEach(se=>{const ve=se.profession||"Unknown";X.has(ve)||X.set(ve,{profession:ve,players:[],skills:new Map});const Ve=X.get(ve);Ve.players.push(se),se.skills.forEach(Ee=>{var it;const oe=Ve.skills.get(Ee.id)||{...Ee,damage:0,downContribution:0};oe.damage+=Number(Ee.damage||0),oe.downContribution+=Number(Ee.downContribution||0),!oe.icon&&Ee.icon&&(oe.icon=Ee.icon),(it=oe.name)!=null&&it.startsWith("Skill ")&&!Ee.name.startsWith("Skill ")&&(oe.name=Ee.name),Ve.skills.set(Ee.id,oe)})}),Array.from(X.values()).map(se=>{const ve=Array.from(se.skills.values()).sort((Ee,it)=>it.damage-Ee.damage),Ve=ve.reduce((Ee,it)=>(Ee[it.id]=it,Ee),{});return{profession:se.profession,players:se.players,skills:ve,skillMap:Ve}}).sort((se,ve)=>se.profession.localeCompare(ve.profession))},[Pe]),ct=qt&&Ge.get(qt)||null,on=ct&&Gr&&((v=ct.skillMap)==null?void 0:v[Gr])||null,Mn=y.useMemo(()=>{const X=new Map;return nt.forEach(se=>X.set(se.profession,se)),X},[nt]),yn=Co&&Mn.get(Co)||null,er=yn&&ci&&((x=yn.skillMap)==null?void 0:x[ci])||null,fn=(X,se)=>{if(!se)return null;const ve=Number(se.index);if(Number.isInteger(ve)&&ve>=0&&ve<X.length)return X[ve]||null;const Ve=String(se.fightId||"").trim();return Ve&&X.find(Ee=>String((Ee==null?void 0:Ee.id)||"").trim()===Ve)||null},Sn=y.useMemo(()=>{const X=Me=>String(Me||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),se=Me=>X(Me).toLowerCase().split(/[^a-z0-9]+/i).map(Nt=>Nt.trim()).filter(Boolean).map(Nt=>Nt.length>3&&Nt.endsWith("s")?Nt.slice(0,-1):Nt),ve=(Me,Nt)=>{const _e=X(Me),Nn=X(Nt);if(!Nn)return _e;if(!_e)return Nn;const cr=se(_e),Bn=se(Nn),vr=new Set(cr),Pn=new Set(Bn),Ha=Bn.length>0&&Bn.every(Lt=>vr.has(Lt)),Ot=cr.length>0&&cr.every(Lt=>Pn.has(Lt));return Ha||Ot?_e:`${_e} - ${Nn}`},Ve=Me=>{if(Me==null||Me==="")return 0;if(typeof Me=="number")return!Number.isFinite(Me)||Me<=0?0:Me>1e12?Me:Me*1e3;if(Me instanceof Date){const vr=Me.getTime();return Number.isFinite(vr)&&vr>0?vr:0}const Nt=String(Me).trim();if(!Nt)return 0;const _e=Number(Nt);if(Number.isFinite(_e)&&_e>0)return _e>1e12?_e:_e*1e3;const Nn=Date.parse(Nt);if(Number.isFinite(Nn)&&Nn>0)return Nn;const cr=Nt.replace(/([+-]\d{2})$/,"$1:00"),Bn=Date.parse(cr);return Number.isFinite(Bn)&&Bn>0?Bn:0},Ee=(Me,Nt)=>Ve((Me==null?void 0:Me.uploadTime)??(Nt==null?void 0:Nt.uploadTime)??(Me==null?void 0:Me.timeStartStd)??(Me==null?void 0:Me.timeStart)??(Me==null?void 0:Me.timeEndStd)??(Me==null?void 0:Me.timeEnd)),it=I==null?void 0:I.spikeDamage,oe=Array.isArray(it==null?void 0:it.fights)?it.fights:[],Ke=Array.isArray(it==null?void 0:it.players)?it.players:[],vn=oe.some(Me=>(Me!=null&&Me.values&&typeof Me.values=="object"?Object.values(Me.values):[]).some(Nt=>Nt&&typeof Nt=="object"&&(Number(Nt.burst1s||0)>0||Number(Nt.burst5s||0)>0||Number(Nt.burst30s||0)>0)))||Ke.some(Me=>Number((Me==null?void 0:Me.peak1s)||0)>0||Number((Me==null?void 0:Me.peak5s)||0)>0||Number((Me==null?void 0:Me.peak30s)||0)>0);if((oe.length>0||Ke.length>0)&&(vn||e.length===0)){const Me=oe.map((_e,Nn)=>{const cr=_e!=null&&_e.values&&typeof _e.values=="object"?_e.values:{},Bn={};return Object.entries(cr).forEach(([vr,Pn])=>{if(Pn&&typeof Pn=="object"){const Ha=Number(Pn.damage||0);Bn[vr]={hit:Number(Pn.hit??Ha),burst1s:Number(Pn.burst1s||0),burst5s:Number(Pn.burst5s||0),burst30s:Number(Pn.burst30s||0),skillName:String(Pn.skillName||""),buckets5s:Array.isArray(Pn.buckets5s)?Pn.buckets5s.map(Ot=>Number(Ot||0)):void 0,downIndices5s:Array.isArray(Pn.downIndices5s)?Pn.downIndices5s.map(Ot=>Number(Ot)).filter(Ot=>Number.isFinite(Ot)&&Ot>=0):void 0,deathIndices5s:Array.isArray(Pn.deathIndices5s)?Pn.deathIndices5s.map(Ot=>Number(Ot)).filter(Ot=>Number.isFinite(Ot)&&Ot>=0):void 0,skillRows:Array.isArray(Pn.skillRows)?Pn.skillRows.map(Ot=>({skillName:String((Ot==null?void 0:Ot.skillName)||(Ot==null?void 0:Ot.name)||"Unknown Skill"),damage:Number((Ot==null?void 0:Ot.damage)||0),hits:Number((Ot==null?void 0:Ot.hits)||0),icon:typeof(Ot==null?void 0:Ot.icon)=="string"?Ot.icon:void 0})).filter(Ot=>Number.isFinite(Ot.damage)&&Ot.damage>0):void 0};return}Bn[vr]={hit:Number(Pn||0),burst1s:0,burst5s:0,burst30s:0,skillName:""}}),{id:String((_e==null?void 0:_e.id)||`fight-${Nn+1}`),shortLabel:String((_e==null?void 0:_e.shortLabel)||`F${Nn+1}`),fullLabel:X((_e==null?void 0:_e.fullLabel)||`Fight ${Nn+1}`),timestamp:Number((_e==null?void 0:_e.timestamp)||0),values:Bn,maxHit:Number((_e==null?void 0:_e.maxHit)??(_e==null?void 0:_e.maxDamage)??0),max1s:Number((_e==null?void 0:_e.max1s)||0),max5s:Number((_e==null?void 0:_e.max5s)||0),max30s:Number((_e==null?void 0:_e.max30s)||0)}}),Nt=Ke.map(_e=>({key:String((_e==null?void 0:_e.key)||""),account:String((_e==null?void 0:_e.account)||"Unknown"),displayName:String((_e==null?void 0:_e.displayName)||(_e==null?void 0:_e.account)||"Unknown"),characterName:String((_e==null?void 0:_e.characterName)||(_e==null?void 0:_e.name)||(_e==null?void 0:_e.character_name)||(_e==null?void 0:_e.display_name)||""),profession:String((_e==null?void 0:_e.profession)||"Unknown"),professionList:Array.isArray(_e==null?void 0:_e.professionList)?_e.professionList.map(Nn=>String(Nn)):[],logs:Number((_e==null?void 0:_e.logs)||0),peakHit:Number((_e==null?void 0:_e.peakHit)||0),peak1s:Number((_e==null?void 0:_e.peak1s)||0),peak5s:Number((_e==null?void 0:_e.peak5s)||0),peak30s:Number((_e==null?void 0:_e.peak30s)||0),peakFightLabel:X((_e==null?void 0:_e.peakFightLabel)||""),peakSkillName:String((_e==null?void 0:_e.peakSkillName)||"")}));return{fights:Me,players:Nt}}const Qe=(Me,Nt)=>{const _e=(Nt==null?void 0:Nt.skillMap)||{},Nn=(Nt==null?void 0:Nt.buffMap)||{};let cr=0,Bn="";const vr=Ot=>{const Lt=Number(Ot);if(!Number.isFinite(Lt))return String(Ot||"Unknown Skill");const jt=(_e==null?void 0:_e[`s${Lt}`])||(_e==null?void 0:_e[`${Lt}`]);if(jt!=null&&jt.name)return String(jt.name);const tn=(Nn==null?void 0:Nn[`b${Lt}`])||(Nn==null?void 0:Nn[`${Lt}`]);return tn!=null&&tn.name?String(tn.name):`Skill ${Lt}`},Pn=Ot=>{if(!Ot||typeof Ot!="object")return;const Lt=[Number(Ot.max),Number(Ot.maxDamage),Number(Ot.maxHit)].filter(tn=>Number.isFinite(tn)),jt=Lt.length>0?Math.max(...Lt):0;jt>cr&&(cr=jt,Bn=vr(Ot.id))};let Ha=!1;return Array.isArray(Me==null?void 0:Me.targetDamageDist)&&Me.targetDamageDist.forEach(Ot=>{Array.isArray(Ot)&&Ot.forEach(Lt=>{Array.isArray(Lt)&&Lt.forEach(jt=>{Ha=!0,Pn(jt)})})}),(!Ha||cr<=0)&&Array.isArray(Me==null?void 0:Me.totalDamageDist)&&Me.totalDamageDist.forEach(Ot=>{Array.isArray(Ot)&&Ot.forEach(Lt=>Pn(Lt))}),{peak:cr,skillName:Bn||"Unknown Skill"}},yt=(Me,Nt)=>{const _e=Lt=>{if(!Array.isArray(Lt)||Lt.length===0)return[];const jt=[];for(let tn=0;tn<Lt.length;tn+=1){const br=Number(Lt[tn]||0),nr=tn>0?Number(Lt[tn-1]||0):0;jt.push(Math.max(0,br-nr))}return jt},Nn=(Lt,jt)=>{if(!Array.isArray(Lt)||Lt.length===0||jt<=0)return 0;let tn=0,br=0;for(let nr=0;nr<Lt.length;nr+=1)tn+=Number(Lt[nr]||0),nr>=jt&&(tn-=Number(Lt[nr-jt]||0)),nr>=jt-1&&tn>br&&(br=tn);return Math.max(0,br)},cr=Lt=>{if(!Array.isArray(Lt))return[];const jt=Lt.reduce((br,nr)=>Math.max(br,Array.isArray(nr)?nr.length:0),0);if(jt<=0)return[];const tn=new Array(jt).fill(0);return Lt.forEach(br=>{if(Array.isArray(br))for(let nr=0;nr<jt;nr+=1)tn[nr]+=Number(br[nr]||0)}),tn},Bn=Lt=>Array.isArray(Lt)?Lt.map(jt=>Number(jt||0)):null,vr=(Lt=>{if(!Array.isArray(Lt)||Lt.length===0)return null;const jt=Lt[0];if(!Array.isArray(jt))return null;if(Array.isArray(jt[0])&&Array.isArray(jt[0][0]))return cr(jt);if(Array.isArray(jt[0])&&!Array.isArray(jt[0][0])){const tn=Lt.map(br=>Bn(Array.isArray(br)?br[0]:null)).filter(br=>Array.isArray(br)&&br.length>0);if(tn.length>0)return cr(tn)}return null})(Me==null?void 0:Me.targetDamage1S),Pn=Array.isArray(Me==null?void 0:Me.damage1S)&&Array.isArray(Me.damage1S[0])?Me.damage1S[0]:null,Ha=vr||(Array.isArray(Pn)?Pn.map(Lt=>Number(Lt||0)):[]),Ot=_e(Ha);return Nn(Ot,Nt)},Tt=[],ln=new Map;e.forEach(Me=>{const Nt=Me==null?void 0:Me.details;if(!Nt)return;const _e=Tt.length+1,Nn=X(Nt.fightName||Me.fightName||`Fight ${_e}`),cr=Nt.zone||Nt.mapName||Nt.map||Nt.location||"",Bn=ve(Nn,String(cr||"")),vr={};(Array.isArray(Nt.players)?Nt.players:[]).forEach(jt=>{if(jt!=null&&jt.notInSquad)return;const tn=String((jt==null?void 0:jt.account)||(jt==null?void 0:jt.name)||"Unknown"),br=String((jt==null?void 0:jt.character_name)||(jt==null?void 0:jt.display_name)||(jt==null?void 0:jt.name)||""),nr=String((jt==null?void 0:jt.profession)||"Unknown"),Ll=`${tn}|${nr}`,Bs=Qe(jt,Nt),zs=Number(Bs.peak||0),Fl=Number(yt(jt,1)||0),Bc=Number(yt(jt,5)||0),zc=Number(yt(jt,30)||0);vr[Ll]={hit:zs,burst1s:Fl,burst5s:Bc,burst30s:zc,skillName:Bs.skillName};const Pr=ln.get(Ll)||{key:Ll,account:tn,displayName:tn,characterName:br,profession:nr,professionList:[nr],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Pr.logs+=1,Pr.professionList.includes(nr)||Pr.professionList.push(nr),!Pr.characterName&&br&&(Pr.characterName=br),zs>Pr.peakHit&&(Pr.peakHit=zs,Pr.peakFightLabel=Bn,Pr.peakSkillName=Bs.skillName),Fl>Pr.peak1s&&(Pr.peak1s=Fl),Bc>Pr.peak5s&&(Pr.peak5s=Bc),zc>Pr.peak30s&&(Pr.peak30s=zc),ln.set(Ll,Pr)});const Pn=Object.values(vr).reduce((jt,tn)=>Math.max(jt,Number((tn==null?void 0:tn.hit)||0)),0),Ha=Object.values(vr).reduce((jt,tn)=>Math.max(jt,Number((tn==null?void 0:tn.burst1s)||0)),0),Ot=Object.values(vr).reduce((jt,tn)=>Math.max(jt,Number((tn==null?void 0:tn.burst5s)||0)),0),Lt=Object.values(vr).reduce((jt,tn)=>Math.max(jt,Number((tn==null?void 0:tn.burst30s)||0)),0);Tt.push({id:Me.filePath||Me.id||`fight-${_e}`,shortLabel:`F${_e}`,fullLabel:Bn,timestamp:Ee(Nt,Me),values:vr,maxHit:Pn,max1s:Ha,max5s:Ot,max30s:Lt})});const zt=Array.from(ln.values()).sort((Me,Nt)=>Nt.peakHit!==Me.peakHit?Nt.peakHit-Me.peakHit:Me.displayName.localeCompare(Nt.displayName));return{fights:Tt,players:zt}},[e,I]),tr=y.useMemo(()=>{const X=oe=>String(oe||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),se=I==null?void 0:I.incomingStrikeDamage,ve=Array.isArray(se==null?void 0:se.fights)?se.fights:[],Ve=Array.isArray(se==null?void 0:se.players)?se.players:[];if(ve.length===0&&Ve.length===0)return{fights:[],players:[]};const Ee=ve.map((oe,Ke)=>{const vn=oe!=null&&oe.values&&typeof oe.values=="object"?oe.values:{},Qe={};return Object.entries(vn).forEach(([yt,Tt])=>{if(Tt&&typeof Tt=="object"){const ln=Number(Tt.damage||0);Qe[yt]={hit:Number(Tt.hit??ln),burst1s:Number(Tt.burst1s||0),burst5s:Number(Tt.burst5s||0),burst30s:Number(Tt.burst30s||0),skillName:String(Tt.skillName||""),buckets5s:Array.isArray(Tt.buckets5s)?Tt.buckets5s.map(zt=>Number(zt||0)):void 0,downIndices5s:Array.isArray(Tt.downIndices5s)?Tt.downIndices5s.map(zt=>Number(zt)).filter(zt=>Number.isFinite(zt)&&zt>=0):void 0,deathIndices5s:Array.isArray(Tt.deathIndices5s)?Tt.deathIndices5s.map(zt=>Number(zt)).filter(zt=>Number.isFinite(zt)&&zt>=0):void 0,skillRows:Array.isArray(Tt.skillRows)?Tt.skillRows.map(zt=>({skillName:String((zt==null?void 0:zt.skillName)||(zt==null?void 0:zt.name)||"Unknown Skill"),damage:Number((zt==null?void 0:zt.damage)||0),hits:Number((zt==null?void 0:zt.hits)||0),icon:typeof(zt==null?void 0:zt.icon)=="string"?zt.icon:void 0})).filter(zt=>Number.isFinite(zt.damage)&&zt.damage>0):void 0};return}Qe[yt]={hit:Number(Tt||0),burst1s:0,burst5s:0,burst30s:0,skillName:""}}),{id:String((oe==null?void 0:oe.id)||`fight-${Ke+1}`),shortLabel:String((oe==null?void 0:oe.shortLabel)||`F${Ke+1}`),fullLabel:X((oe==null?void 0:oe.fullLabel)||`Fight ${Ke+1}`),timestamp:Number((oe==null?void 0:oe.timestamp)||0),values:Qe,maxHit:Number((oe==null?void 0:oe.maxHit)??(oe==null?void 0:oe.maxDamage)??0),max1s:Number((oe==null?void 0:oe.max1s)||0),max5s:Number((oe==null?void 0:oe.max5s)||0),max30s:Number((oe==null?void 0:oe.max30s)||0)}}),it=Ve.map(oe=>({key:String((oe==null?void 0:oe.key)||""),account:String((oe==null?void 0:oe.account)||"Unknown"),displayName:String((oe==null?void 0:oe.displayName)||(oe==null?void 0:oe.account)||"Unknown"),characterName:String((oe==null?void 0:oe.characterName)||(oe==null?void 0:oe.name)||(oe==null?void 0:oe.character_name)||(oe==null?void 0:oe.display_name)||""),profession:String((oe==null?void 0:oe.profession)||"Unknown"),professionList:Array.isArray(oe==null?void 0:oe.professionList)?oe.professionList.map(Ke=>String(Ke)):[],logs:Number((oe==null?void 0:oe.logs)||0),peakHit:Number((oe==null?void 0:oe.peakHit)||0),peak1s:Number((oe==null?void 0:oe.peak1s)||0),peak5s:Number((oe==null?void 0:oe.peak5s)||0),peak30s:Number((oe==null?void 0:oe.peak30s)||0),peakFightLabel:X((oe==null?void 0:oe.peakFightLabel)||""),peakSkillName:String((oe==null?void 0:oe.peakSkillName)||"")}));return{fights:Ee,players:it}},[I]),Ei=y.useMemo(()=>{const X=new Map;return Sn.players.forEach(se=>X.set(se.key,se)),X},[Sn.players]),$c=y.useMemo(()=>{const X=Ee=>he==="hit"?Ee.peakHit:he==="1s"?Ee.peak1s:he==="5s"?Ee.peak5s:Ee.peak30s,se=_n.trim().toLowerCase(),ve=se?Sn.players.filter(Ee=>Ee.displayName.toLowerCase().includes(se)||Ee.account.toLowerCase().includes(se)||Ee.profession.toLowerCase().includes(se)):Sn.players,Ve=new Map;return ve.forEach(Ee=>{const it=Ee.profession||"Unknown",oe=Ve.get(it)||[];oe.push(Ee),Ve.set(it,oe)}),Array.from(Ve.entries()).map(([Ee,it])=>({profession:Ee,players:[...it].sort((oe,Ke)=>X(Ke)-X(oe)||oe.displayName.localeCompare(Ke.displayName))})).sort((Ee,it)=>Ee.profession.localeCompare(it.profession))},[Sn.players,_n,he]),Hp=me&&Ei.get(me)||null,Va=y.useMemo(()=>{if(!me)return[];const X=ve=>ve?Number(he==="hit"?ve.hit||0:he==="1s"?ve.burst1s||0:he==="5s"?ve.burst5s||0:ve.burst30s||0):0,se=ve=>Number(he==="hit"?ve.maxHit||0:he==="1s"?ve.max1s||0:he==="5s"?ve.max5s||0:ve.max30s||0);return Sn.fights.map((ve,Ve)=>{var Ee;return{index:Ve,fightId:ve.id,shortLabel:ve.shortLabel,fullLabel:ve.fullLabel,timestamp:Number(ve.timestamp||0),damage:X(ve.values[me]),maxDamage:se(ve),skillName:String(((Ee=ve.values[me])==null?void 0:Ee.skillName)||"")}})},[Sn.fights,me,he]),qp=y.useMemo(()=>{const X=Va.reduce((ve,Ve)=>Math.max(ve,Number(Ve.damage||0)),0),se=Va.reduce((ve,Ve)=>Math.max(ve,Number(Ve.maxDamage||0)),0);return Math.max(1,X,se)},[Va]),Ol=y.useMemo(()=>{var X,se,ve,Ve,Ee,it,oe,Ke,vn;const Qe=ke===null?null:Va.find(Te=>Te.index===ke)||null;if(!Qe||!me)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const yt=fn(Sn.fights,Qe),[Tt,ln]=me.split("|"),zt=e.find(Te=>String((Te==null?void 0:Te.filePath)||(Te==null?void 0:Te.id)||"")===String(Qe.fightId||"")),Me=zt==null?void 0:zt.details,Nt=Te=>Array.isArray(Te)?Te.map(ut=>Array.isArray(ut)?[Number(ut[0]),Number(ut[1])]:ut&&typeof ut=="object"?[Number(ut.time),Number(ut.value)]:null).filter(ut=>!!ut&&Number.isFinite(ut[0])&&ut[0]>=0):[],_e=Te=>String(Te||"").trim().toLowerCase(),Nn=_e(Tt),cr=_e(ln),Bn=Ei.get(me),vr=new Set([_e(Bn==null?void 0:Bn.displayName),_e(Bn==null?void 0:Bn.characterName),_e(Bn==null?void 0:Bn.account)].filter(Boolean)),Pn=Array.isArray(Me==null?void 0:Me.players)&&((X=Me.players.map(Te=>{const ut=_e(Te==null?void 0:Te.account),Jt=_e(Te==null?void 0:Te.name),zn=_e(Te==null?void 0:Te.profession),pn=!!ut&&ut===Nn,rr=!!Jt&&(Jt===Nn||vr.has(Jt)),Ji=!!ut&&vr.has(ut),Us=!cr||zn===cr;let eo=0;return pn&&(eo+=100),rr&&(eo+=90),Ji&&(eo+=80),Us&&(eo+=20),{player:Te,score:eo}}).filter(Te=>Te.score>0).sort((Te,ut)=>ut.score-Te.score)[0])==null?void 0:X.player)||null,Ha=(()=>{const Te=Pn==null?void 0:Pn.combatReplayData;return Array.isArray(Te)?Te.filter(ut=>ut&&typeof ut=="object"):Te&&typeof Te=="object"?[Te]:[]})(),Ot=Ha.flatMap(Te=>Nt(Te==null?void 0:Te.down).map(([ut])=>ut)),Lt=Ha.flatMap(Te=>Nt(Te==null?void 0:Te.dead).map(([ut])=>ut)),jt=Ha.map(Te=>Number(Te==null?void 0:Te.start)).filter(Te=>Number.isFinite(Te)&&Te>=0),tn=Array.isArray(Me==null?void 0:Me.players)?Me.players.flatMap(Te=>{const ut=Te==null?void 0:Te.combatReplayData;return Array.isArray(ut)?ut.map(Jt=>Number(Jt==null?void 0:Jt.start)):[Number(ut==null?void 0:ut.start)]}).filter(Te=>Number.isFinite(Te)&&Te>=0).reduce((Te,ut)=>Math.min(Te,ut),Number.POSITIVE_INFINITY):Number.POSITIVE_INFINITY,br=[0,Number((Me==null?void 0:Me.logStartOffset)||0),...jt,Number.isFinite(tn)?tn:0].filter(Te=>Number.isFinite(Te)&&Te>=0),nr=Te=>{const ut=Math.max(0,Math.floor(Number(Te||0)/1e3)),Jt=Math.floor(ut/5)*5;return`${Jt}s-${Jt+5}s`},Ll=(Te,ut)=>{if(Te.length===0||ut.length===0)return[];const Jt=ut.length*5e3,zn=ur=>ur.reduce((Mo,Vc)=>Vc>=0&&Vc<=Jt+2e3?Mo+1:Mo,0),pn=[],rr=Te.map(ur=>Number(ur||0)).filter(ur=>Number.isFinite(ur)&&ur>=0);if(rr.length===0)return[];pn.push(rr);const Ji=rr.reduce((ur,Mo)=>Math.max(ur,Mo),0),Us=rr.reduce((ur,Mo)=>Math.min(ur,Mo),Number.POSITIVE_INFINITY);Ji>Jt*20&&pn.push(rr.map(ur=>ur/1e3)),Ji<=Jt*2&&Us>=0&&Ji>0&&Ji<Math.max(120,ut.length*5+10)&&pn.push(rr.map(ur=>ur*1e3));let eo=rr,TN=0,PN=-1;return pn.forEach(ur=>{const Mo=new Set(br),Vc=ur.reduce((Rl,Ay)=>Math.min(Rl,Ay),Number.POSITIVE_INFINITY);if(Number.isFinite(Vc)&&Jt>0&&Vc>Jt){const Rl=Math.floor(Vc/Jt)*Jt;Mo.add(Rl),Mo.add(Math.max(0,Rl-Jt))}Mo.forEach(Rl=>{const Ay=ur.map(ER=>ER-Rl),DN=zn(Ay);DN>PN&&(PN=DN,TN=Rl,eo=ur)})}),eo.map(ur=>ur-TN).filter(ur=>Number.isFinite(ur)&&ur>=0)},Bs=(Te,ut)=>{if(Te.length===0||ut.length===0)return[];const Jt=Ll(ut,Te),zn=new Map;Te.forEach(rr=>{const Ji=/^(\d+)s-/.exec(String(rr));if(!Ji)return;const Us=Number(Ji[1]);Number.isFinite(Us)&&zn.set(Us,rr)});const pn=[];return Jt.forEach(rr=>{const Ji=Math.max(0,Math.floor(Number(rr||0)/1e3)),Us=Math.floor(Ji/5)*5,eo=zn.get(Us)||nr(rr);Te.includes(eo)&&pn.push(eo)}),Array.from(new Set(pn))},zs=(Te,ut)=>{if(Te<=0||ut.length===0)return[];const Jt=Array.from({length:Te},(pn,rr)=>`${rr*5}s-${(rr+1)*5}s`),zn=Ll(ut,Jt).map(pn=>Math.floor(Math.max(0,Number(pn||0))/5e3)).filter(pn=>Number.isFinite(pn)&&pn>=0&&pn<Te);return Array.from(new Set(zn))},Fl=Array.isArray((ve=(se=yt==null?void 0:yt.values)==null?void 0:se[me])==null?void 0:ve.buckets5s)?((Ee=(Ve=yt==null?void 0:yt.values)==null?void 0:Ve[me])==null?void 0:Ee.buckets5s)||[]:[],Bc=Array.isArray((oe=(it=yt==null?void 0:yt.values)==null?void 0:it[me])==null?void 0:oe.downIndices5s)?yt.values[me].downIndices5s.map(Te=>Number(Te)).filter(Te=>Number.isFinite(Te)&&Te>=0):[],zc=Array.isArray((vn=(Ke=yt==null?void 0:yt.values)==null?void 0:Ke[me])==null?void 0:vn.deathIndices5s)?yt.values[me].deathIndices5s.map(Te=>Number(Te)).filter(Te=>Number.isFinite(Te)&&Te>=0):[];if(Fl.length>0){const Te=Math.max(0,Math.ceil(Number((Me==null?void 0:Me.durationMS)||0)/5e3)),ut=Math.max(Fl.length,Te),Jt=Array.from({length:ut},(pn,rr)=>({label:`${rr*5}s-${(rr+1)*5}s`,value:Number(Fl[rr]||0)})),zn=Jt.map(pn=>pn.label);return{title:`Fight Breakdown - ${Qe.shortLabel||"Fight"} (5s Damage Buckets)`,data:Jt,downLabels:Bs(zn,Ot),deathLabels:Bs(zn,Lt),downIndices:Bc.length>0?Bc.filter(pn=>pn<Jt.length):zs(Jt.length,Ot),deathIndices:zc.length>0?zc.filter(pn=>pn<Jt.length):zs(Jt.length,Lt)}}const Pr=Qe.shortLabel||"Fight";if(!Me||!Array.isArray(Me.players))return{title:`Fight Breakdown - ${Pr}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const CN=Me.players.find(Te=>String((Te==null?void 0:Te.account)||(Te==null?void 0:Te.name)||"Unknown")===Tt&&String((Te==null?void 0:Te.profession)||"Unknown")===ln);if(!CN)return{title:`Fight Breakdown - ${Pr}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const Uc=CN,kR=Te=>{if(!Array.isArray(Te)||Te.length===0)return[];const ut=[];for(let Jt=0;Jt<Te.length;Jt+=1){const zn=Number(Te[Jt]||0),pn=Jt>0?Number(Te[Jt-1]||0):0;ut.push(Math.max(0,zn-pn))}return ut},MN=Te=>{if(!Array.isArray(Te))return[];const ut=Te.reduce((zn,pn)=>Math.max(zn,Array.isArray(pn)?pn.length:0),0);if(ut<=0)return[];const Jt=new Array(ut).fill(0);return Te.forEach(zn=>{if(Array.isArray(zn))for(let pn=0;pn<ut;pn+=1)Jt[pn]+=Number(zn[pn]||0)}),Jt},SR=Te=>Array.isArray(Te)?Te.map(ut=>Number(ut||0)):null,NR=(Te=>{if(!Array.isArray(Te)||Te.length===0)return null;const ut=Te[0];if(!Array.isArray(ut))return null;if(Array.isArray(ut[0])&&Array.isArray(ut[0][0]))return MN(ut);if(Array.isArray(ut[0])&&!Array.isArray(ut[0][0])){const Jt=Te.map(zn=>SR(Array.isArray(zn)?zn[0]:null)).filter(zn=>Array.isArray(zn)&&zn.length>0);if(Jt.length>0)return MN(Jt)}return null})(Uc==null?void 0:Uc.targetDamage1S),AN=Array.isArray(Uc==null?void 0:Uc.damage1S)&&Array.isArray(Uc.damage1S[0])?Uc.damage1S[0]:null,jR=NR||(Array.isArray(AN)?AN.map(Te=>Number(Te||0)):[]),My=kR(jR),pd=5,CR=Math.max(0,Math.ceil(Number((Me==null?void 0:Me.durationMS)||0)/(pd*1e3))),MR=Math.max(0,Math.ceil(My.length/pd)),AR=Math.max(CR,MR),md=[];for(let Te=0;Te<AR;Te+=1){const ut=Te*pd,Jt=Math.min(ut+pd,My.length),zn=My.slice(ut,Jt).reduce((pn,rr)=>pn+Number(rr||0),0);md.push({label:`${ut}s-${ut+pd}s`,value:zn})}const EN=md.map(Te=>Te.label);return{title:`Fight Breakdown - ${Pr} (5s Damage Buckets)`,data:md,downLabels:Bs(EN,Ot),deathLabels:Bs(EN,Lt),downIndices:zs(md.length,Ot),deathIndices:zs(md.length,Lt)}},[ke,Va,me,e,Sn.fights,Ei]),ma=y.useMemo(()=>{const X=new Map;return tr.players.forEach(se=>X.set(se.key,se)),X},[tr.players]),Kp=y.useMemo(()=>{const X=Ee=>Rt==="hit"?Ee.peakHit:Rt==="1s"?Ee.peak1s:Rt==="5s"?Ee.peak5s:Ee.peak30s,se=$r.trim().toLowerCase(),ve=se?tr.players.filter(Ee=>Ee.displayName.toLowerCase().includes(se)||Ee.account.toLowerCase().includes(se)||Ee.profession.toLowerCase().includes(se)):tr.players,Ve=new Map;return ve.forEach(Ee=>{const it=Ee.profession||"Unknown",oe=Ve.get(it)||[];oe.push(Ee),Ve.set(it,oe)}),Array.from(Ve.entries()).map(([Ee,it])=>({profession:Ee,players:[...it].sort((oe,Ke)=>X(Ke)-X(oe)||oe.displayName.localeCompare(Ke.displayName))})).sort((Ee,it)=>Ee.profession.localeCompare(it.profession))},[tr.players,$r,Rt]),dd=Ne&&ma.get(Ne)||null,Cr=y.useMemo(()=>{if(!Ne)return[];const X=ve=>ve?Number(Rt==="hit"?ve.hit||0:Rt==="1s"?ve.burst1s||0:Rt==="5s"?ve.burst5s||0:ve.burst30s||0):0,se=ve=>Number(Rt==="hit"?ve.maxHit||0:Rt==="1s"?ve.max1s||0:Rt==="5s"?ve.max5s||0:ve.max30s||0);return tr.fights.map((ve,Ve)=>{var Ee;return{index:Ve,fightId:ve.id,shortLabel:ve.shortLabel,fullLabel:ve.fullLabel,timestamp:Number(ve.timestamp||0),damage:X(ve.values[Ne]),maxDamage:se(ve),skillName:String(((Ee=ve.values[Ne])==null?void 0:Ee.skillName)||"")}})},[tr.fights,Ne,Rt]),Rs=y.useMemo(()=>{const X=Cr.reduce((ve,Ve)=>Math.max(ve,Number(Ve.damage||0)),0),se=Cr.reduce((ve,Ve)=>Math.max(ve,Number(Ve.maxDamage||0)),0);return Math.max(1,X,se)},[Cr]),Go=y.useMemo(()=>{var X,se,ve,Ve,Ee,it,oe,Ke,vn;const Qe=rt===null?null:Cr.find(_e=>_e.index===rt)||null;if(!Qe||!Ne)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const yt=fn(tr.fights,Qe),Tt=(X=yt==null?void 0:yt.values)==null?void 0:X[Ne],ln=Array.isArray((ve=(se=yt==null?void 0:yt.values)==null?void 0:se[Ne])==null?void 0:ve.buckets5s)?((Ee=(Ve=yt==null?void 0:yt.values)==null?void 0:Ve[Ne])==null?void 0:Ee.buckets5s)||[]:[],zt=Array.isArray((oe=(it=yt==null?void 0:yt.values)==null?void 0:it[Ne])==null?void 0:oe.downIndices5s)?yt.values[Ne].downIndices5s.map(_e=>Number(_e)).filter(_e=>Number.isFinite(_e)&&_e>=0):[],Me=Array.isArray((vn=(Ke=yt==null?void 0:yt.values)==null?void 0:Ke[Ne])==null?void 0:vn.deathIndices5s)?yt.values[Ne].deathIndices5s.map(_e=>Number(_e)).filter(_e=>Number.isFinite(_e)&&_e>=0):[];if(ln.length>0){const _e=ln.map((Nn,cr)=>({label:`${cr*5}s-${(cr+1)*5}s`,value:Number(Nn||0)}));return{title:`Fight Breakdown - ${Qe.shortLabel||"Fight"} (5s Damage Buckets)`,data:_e,downLabels:[],deathLabels:[],downIndices:zt.filter(Nn=>Nn<_e.length),deathIndices:Me.filter(Nn=>Nn<_e.length)}}const Nt=Tt?Number(Rt==="hit"?Tt.hit||0:Rt==="1s"?Tt.burst1s||0:Rt==="5s"?Tt.burst5s||0:Tt.burst30s||0):0;return Nt>0?{title:`Fight Breakdown - ${Qe.shortLabel||"Fight"} (Estimated)`,data:[{label:"0s-5s",value:Nt}],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]}:{title:`Fight Breakdown - ${Qe.shortLabel||"Fight"}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]}},[rt,Cr,Ne,tr.fights,Rt]),Wa=y.useMemo(()=>{var X;if(rt===null||!Ne)return[];const se=Cr.find(oe=>oe.index===rt);if(!se)return[];const ve=fn(tr.fights,se),Ve=(X=ve==null?void 0:ve.values)==null?void 0:X[Ne],Ee=[...(Ve==null?void 0:Ve.skillRows)||[]].filter(oe=>Number((oe==null?void 0:oe.damage)||0)>0).sort((oe,Ke)=>Number(Ke.damage||0)-Number(oe.damage||0)).slice(0,30);if(Ee.length>0)return Ee;const it=Number((Ve==null?void 0:Ve.hit)||0);return it<=0?Ee:[{skillName:String((Ve==null?void 0:Ve.skillName)||"Unknown Skill"),damage:it,hits:1,icon:void 0}]},[rt,Ne,Cr,tr.fights]),Il=y.useMemo(()=>{var X,se;if(ke===null||!me)return[];const ve=Va.find(Ee=>Ee.index===ke);if(!ve)return[];const Ve=fn(Sn.fights,ve);return[...((se=(X=Ve==null?void 0:Ve.values)==null?void 0:X[me])==null?void 0:se.skillRows)||[]].filter(Ee=>Number((Ee==null?void 0:Ee.damage)||0)>0).sort((Ee,it)=>Number(it.damage||0)-Number(Ee.damage||0)).slice(0,30)},[ke,me,Va,Sn.fights]);y.useEffect(()=>{if(Pe.length===0){qt!==null&&kn(null),Gr!==null&&Ai(null);return}if(!qt||!Ge.has(qt)){const X=Pe[0].key;kn(X),ra(null)}},[Pe,Ge,qt,Gr]),y.useEffect(()=>{if(!ct||ct.skills.length===0){Gr!==null&&Ai(null);return}const X=ct.skills.some(se=>se.id===Gr);(!Gr||!X)&&Ai(ct.skills[0].id)},[ct,Gr]),y.useEffect(()=>{if(nt.length===0){Co!==null&&Ls(null),ci!==null&&ui(null);return}if(!Co||!Mn.has(Co)){const X=nt[0].profession;Ls(X),Fs(null)}},[nt,Mn,Co,ci]),y.useEffect(()=>{if(!yn||yn.skills.length===0){ci!==null&&ui(null);return}const X=yn.skills.some(se=>se.id===ci);(!ci||!X)&&ui(yn.skills[0].id)},[yn,ci]),y.useEffect(()=>{if(Sn.players.length===0){me!==null&&Se(null);return}(!me||!Ei.has(me))&&me!==null&&Se(null)},[Sn.players,Ei,me]),y.useEffect(()=>{ze(null)},[me,he]),y.useEffect(()=>{ke!==null&&(Va.some(X=>X.index===ke)||ze(null))},[Va,ke]),y.useEffect(()=>{if(tr.players.length===0){Ne!==null&&bt(null);return}(!Ne||!ma.has(Ne))&&Ne!==null&&bt(null)},[tr.players,ma,Ne]),y.useEffect(()=>{at(null)},[Ne,Rt]),y.useEffect(()=>{rt!==null&&(Cr.some(X=>X.index===rt)||at(null))},[Cr,rt]);const _l=y.useMemo(()=>new Set(Et),[Et]),{playerMapByKey:Aa,playerTotalsForSkill:Ti,skillChartData:U6,skillChartMaxY:V6,groupedSkillUsagePlayers:W6}=n8({skillUsageData:E,selectedSkillId:He,selectedPlayers:_l,skillUsageView:Xe==="perSecond"?"perSecond":"total"}),gN=y.useMemo(()=>{const X=new Map,se=it=>{it.forEach(oe=>{const Ke=Qc(oe==null?void 0:oe.name)||(oe==null?void 0:oe.name);Ke&&oe!=null&&oe.icon&&!X.has(Ke)&&X.set(Ke,oe.icon)})},ve=it=>{it.forEach(oe=>{Object.entries((oe==null?void 0:oe.conditions)||{}).forEach(([Ke,vn])=>{const Qe=Qc(Ke)||Ke;vn!=null&&vn.icon&&!X.has(Qe)&&X.set(Qe,vn.icon)})})},Ve=it=>{const oe=new Map;return it.forEach(Ke=>{const vn=Qc(Ke==null?void 0:Ke.name)||(Ke==null?void 0:Ke.name);if(!vn)return;const Qe=oe.get(vn)||{name:vn,icon:(Ke==null?void 0:Ke.icon)||X.get(vn)||gm(vn),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0};Qe.applications+=Number((Ke==null?void 0:Ke.applications)||0),Qe.damage+=Number((Ke==null?void 0:Ke.damage)||0),Ke!=null&&Ke.applicationsFromUptime&&(Qe.applicationsFromUptime+=Number(Ke.applicationsFromUptime||0)),Ke!=null&&Ke.applicationsFromBuffs&&(Qe.applicationsFromBuffs+=Number(Ke.applicationsFromBuffs||0)),Ke!=null&&Ke.applicationsFromBuffsActive&&(Qe.applicationsFromBuffsActive+=Number(Ke.applicationsFromBuffsActive||0)),!Qe.icon&&Ke!=null&&Ke.icon&&(Qe.icon=Ke.icon),Qe.icon||(Qe.icon=gm(vn)),oe.set(vn,Qe)}),Array.from(oe.values())},Ee=it=>it.map(oe=>{const Ke={};return Object.entries((oe==null?void 0:oe.conditions)||{}).forEach(([vn,Qe])=>{const yt=Qc(vn)||vn;if(!yt)return;const Tt=Ke[yt]||{icon:(Qe==null?void 0:Qe.icon)||X.get(yt)||gm(yt),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0,skills:{}};Tt.applications+=Number((Qe==null?void 0:Qe.applications)||0),Tt.damage+=Number((Qe==null?void 0:Qe.damage)||0),Qe!=null&&Qe.applicationsFromUptime&&(Tt.applicationsFromUptime+=Number(Qe.applicationsFromUptime||0)),Qe!=null&&Qe.applicationsFromBuffs&&(Tt.applicationsFromBuffs+=Number(Qe.applicationsFromBuffs||0)),Qe!=null&&Qe.applicationsFromBuffsActive&&(Tt.applicationsFromBuffsActive+=Number(Qe.applicationsFromBuffsActive||0)),!Tt.icon&&Qe!=null&&Qe.icon&&(Tt.icon=Qe.icon),Tt.icon||(Tt.icon=gm(yt)),Object.values((Qe==null?void 0:Qe.skills)||{}).forEach(ln=>{const zt=(ln==null?void 0:ln.name)||"Unknown",Me=Tt.skills[zt]||{name:zt,hits:0,damage:0,icon:ln==null?void 0:ln.icon};Me.hits+=Number((ln==null?void 0:ln.hits)||0),Me.damage+=Number((ln==null?void 0:ln.damage)||0),!Me.icon&&ln!=null&&ln.icon&&(Me.icon=ln.icon),Tt.skills[zt]=Me}),Ke[yt]=Tt}),{...oe,conditions:Ke}});return(it,oe)=>(se(it),ve(oe),{summary:Ve(it),players:Ee(oe)})},[]),yN=So==="outgoing"?I.outgoingConditionSummary:I.incomingConditionSummary,vN=So==="outgoing"?I.outgoingConditionPlayers:I.incomingConditionPlayers,{summary:Yp,players:H6}=y.useMemo(()=>gN(yN||[],vN||[]),[gN,yN,vN]);y.useEffect(()=>{if(li==="all"||Yp.some(se=>se.name===li))return;const X=Qc(li);X&&Yp.some(se=>se.name===X)?Os(X):Os("all")},[li,Yp,Os]);const q6=y.useMemo(()=>{const X={};return Ti.forEach((se,ve)=>{const Ve=Aa.get(ve);if(!Ve)return;const Ee=Ve.profession;(!X[Ee]||se>X[Ee])&&(X[Ee]=se)}),X},[Ti,Aa]),Dt=y.useCallback(X=>d?d(X):!0,[d]),Hn=y.useCallback((X,se)=>{const ve=Dt(X);return d?`${se} ${ve?"":"hidden"}`:`${se} transition-[opacity,transform] duration-700 ease-in-out ${ve?"opacity-100 translate-y-0 max-h-[99999px]":"opacity-0 -translate-y-2 max-h-0 h-0 min-h-0 overflow-hidden pointer-events-none p-0 !p-0 m-0 !mb-0 !mt-0 border-0 !border-0 border-transparent"}`},[Dt,d]),bN=y.useMemo(()=>zae.find(X=>Dt(X))||null,[Dt]),qn=y.useCallback(X=>X===bN,[bN]),K6=y.useMemo(()=>{const X=new Map,se=new Map;return Et.forEach(ve=>{const Ve=Aa.get(ve);if(!Ve)return;const Ee=Ti.get(ve)??0,it=se.get(Ve.profession)||[];it.push({key:ve,total:Ee}),se.set(Ve.profession,it)}),se.forEach(ve=>{ve.sort((Ve,Ee)=>Ee.total-Ve.total),ve.forEach((Ve,Ee)=>{X.set(Ve.key,Ee)})}),X},[Et,Aa,Ti]),xN=["0","12 3","8 3","6 3","4 3","2 3"],Y6=X=>{const se=Aa.get(X),ve=lc((se==null?void 0:se.profession)||""),Ve=Ti.get(X)??0,Ee=se!=null&&se.profession&&q6[se.profession]||1,it=.35+(Ee>0?Ve/Ee:1)*.65;return Gp(ve,it)},G6=X=>{const se=K6.get(X)??0;return xN[se%xN.length]},Q6=(X,se,ve)=>{if(!ve)return Y6(X);const Ve=Aa.get(X),Ee=lc((Ve==null?void 0:Ve.profession)||"");return se?Gp(Ee,1.2):Gp(Ee,.5)},Gp=(X,se)=>{const ve=X.replace("#","");if(ve.length!==6)return X;const Ve=Qe=>Math.max(0,Math.min(255,Qe)),Ee=Qe=>Number.parseInt(ve.slice(Qe,Qe+2),16),it=Qe=>Ve(Math.round(Qe)).toString(16).padStart(2,"0"),oe=Ee(0),Ke=Ee(2),vn=Ee(4);return`#${it(oe*se)}${it(Ke*se)}${it(vn*se)}`},wN=y.useMemo(()=>{const X=new Map;return E.skillOptions.forEach(se=>{X.set(se.id,{name:se.name,icon:se.icon})}),X},[E.skillOptions]),fd=y.useMemo(()=>{var X;if(Et.length===0)return[];const se=new Map,ve=new Map;let Ve=0;Et.forEach(Qe=>{const yt=Aa.get(Qe);if(!yt)return;Ve+=yt.totalActiveSeconds||0,Object.entries(yt.skillTotals||{}).forEach(([ln,zt])=>{se.set(ln,(se.get(ln)||0)+Number(zt||0))});const Tt=yt.profession||"Unknown";ve.set(Tt,(ve.get(Tt)||0)+(yt.totalActiveSeconds||0))});const Ee=dn.trim().toLowerCase(),it=Xe==="perSecond",oe=((X=Array.from(ve.entries()).sort((Qe,yt)=>yt[1]-Qe[1])[0])==null?void 0:X[0])||"Unknown",Ke=lc(oe),vn="#64748b";return Array.from(se.entries()).map(([Qe,yt])=>{const Tt=wN.get(Qe),ln=(Tt==null?void 0:Tt.name)||Qe,zt=it&&Ve>0?yt/Ve:yt;return{skillId:Qe,name:ln,icon:Tt==null?void 0:Tt.icon,total:zt}}).filter(Qe=>Qe.total>0&&(!Ee||Qe.name.toLowerCase().includes(Ee))).sort((Qe,yt)=>yt.total-Qe.total).map((Qe,yt)=>({...Qe,color:yt===0?Ke:Gp(Ke,.85-Math.min(yt*.06,.4))||vn}))},[Et,Aa,dn,Xe,wN]);y.useEffect(()=>{if(fd.length===0){He!==null&&ot(null);return}(!He||!fd.some(X=>X.skillId===He))&&ot(fd[0].skillId)},[fd,He,ot]);const Qp=E.skillOptions.find(X=>X.id===He),X6=(Qp==null?void 0:Qp.name)||"",Z6=(Qp==null?void 0:Qp.icon)||null,J6=j&&!!He&&Et.length>0,Xp="__all__",eR=j&&di.length>0,$s=y.useMemo(()=>di.find(X=>X.profession===dt)??null,[di,dt]),tR=Ae===Xp,nR=y.useMemo(()=>{var X;return((X=$s==null?void 0:$s.skills)==null?void 0:X.find(se=>se.id===Ae))??null},[$s,Ae]);y.useEffect(()=>{if(di.length===0){dt!==null&&rn(null),_t!==null&&Mt(null);return}if(!dt||!di.some(X=>X.profession===dt)){const X=di[0].profession;rn(X),Mt(null)}},[di,dt,_t]),y.useEffect(()=>{if(!$s||$s.skills.length===0){Ae!==null&&xe(null);return}const X=$s.skills.some(se=>se.id===Ae);(!Ae||!X&&Ae!==Xp)&&xe(Xp)},[$s,Ae]);const rR=X=>{Ht(se=>se.includes(X)?se.filter(ve=>ve!==X):[...se,X])},aR=X=>{Ht(se=>se.filter(ve=>ve!==X))},iR=y.useMemo(()=>{const X=Xt.trim().toLowerCase(),se=I.boonTables||[];return X?se.filter(ve=>ve.name.toLowerCase().includes(X)):se},[I.boonTables,Xt]),oR=y.useMemo(()=>we?(I.boonTables||[]).find(X=>X.id===we)??null:null,[I.boonTables,we]),sR=y.useMemo(()=>{const X=Ie.trim().toLowerCase(),se=[...I.specialTables||[]].sort((ve,Ve)=>ve.name.localeCompare(Ve.name));return X?se.filter(ve=>ve.name.toLowerCase().includes(X)):se},[I.specialTables,Ie]),Zi=y.useMemo(()=>[...I.specialTables||[]].filter(X=>/\b(sigil|relic)\b/i.test(String((X==null?void 0:X.name)||""))).sort((X,se)=>X.name.localeCompare(se.name)),[I.specialTables]),lR=y.useMemo(()=>{const X=Tr.trim().toLowerCase();return X?Zi.filter(se=>se.name.toLowerCase().includes(X)):Zi},[Zi,Tr]),cR=y.useMemo(()=>Cn?(I.specialTables||[]).find(X=>X.id===Cn)??null:null,[I.specialTables,Cn]),uR=y.useMemo(()=>Kt?Zi.find(X=>X.id===Kt)??null:null,[Zi,Kt]);y.useEffect(()=>{!I.boonTables||I.boonTables.length===0||(!we||!I.boonTables.some(X=>X.id===we))&&et(I.boonTables[0].id)},[I.boonTables,we]),y.useEffect(()=>{!I.specialTables||I.specialTables.length===0||(!Cn||!I.specialTables.some(X=>X.id===Cn))&&ge(I.specialTables[0].id)},[I.specialTables,Cn]),y.useEffect(()=>{if(!Zi||Zi.length===0){Kt!==null&&an(null);return}(!Kt||!Zi.some(X=>X.id===Kt))&&an(Zi[0].id)},[Zi,Kt]),y.useEffect(()=>{const X=()=>{const ve=window.getSelection();ve&&ve.rangeCount>0&&ve.removeAllRanges()},se=ve=>{var Ve;const Ee=ve.target;(Ve=Ee==null?void 0:Ee.closest)!=null&&Ve.call(Ee,".recharts-wrapper")&&(ve.preventDefault(),X())};return document.addEventListener("selectstart",se),document.addEventListener("mousedown",se),document.addEventListener("mousemove",se),document.addEventListener("dragstart",se),()=>{document.removeEventListener("selectstart",se),document.removeEventListener("mousedown",se),document.removeEventListener("mousemove",se),document.removeEventListener("dragstart",se)}},[]);const Ea=X=>{Ce.current&&(window.clearTimeout(Ce.current),Ce.current=null),je(!1),V(X)},aa=()=>{xt&&(Ce.current&&window.clearTimeout(Ce.current),je(!0),Ce.current=window.setTimeout(()=>{V(null),je(!1),Ce.current=null},160))};y.useEffect(()=>{if(!xt)return;const X=Ve=>{Ve.key==="Escape"&&aa()},se=document.body.style.overflow,ve=document.documentElement.style.overflow;return document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",window.addEventListener("keydown",X),()=>{window.removeEventListener("keydown",X),document.body.style.overflow=se,document.documentElement.style.overflow=ve}},[xt]);const kN=(X,se)=>{const ve=((se==null?void 0:se.value)||0)-((X==null?void 0:X.value)||0);return ve!==0?ve:String((X==null?void 0:X.name)||"").localeCompare(String((se==null?void 0:se.name)||""))},SN=Array.isArray(I==null?void 0:I.squadClassData)?I.squadClassData:[],NN=Array.isArray(I==null?void 0:I.enemyClassData)?I.enemyClassData:[],dR=Array.isArray(I==null?void 0:I.attendanceData)?I.attendanceData:[],Cy=Array.isArray(I==null?void 0:I.squadCompByFight)?I.squadCompByFight:[],jN=Array.isArray(I==null?void 0:I.fightBreakdown)?I.fightBreakdown:[],fR=y.useMemo(()=>{const X=new Map;return jN.forEach(se=>{const ve=String((se==null?void 0:se.id)||"");ve&&X.set(ve,se)}),Cy.map(se=>{const ve=X.get(String((se==null?void 0:se.id)||""))||null;return{...se,enemyClassCounts:(ve==null?void 0:ve.enemyClassCounts)||{}}})},[Cy,jN]),pR=y.useMemo(()=>[...SN].sort(kN),[SN]),mR=y.useMemo(()=>[...NN].sort(kN),[NN]),hR=c?"stats-view min-h-screen flex flex-col p-0 w-full max-w-none":"stats-view h-full flex flex-col p-1 w-full max-w-none overflow-hidden",gR=c?`stats-sections space-y-0 min-h-0 px-3 pb-3 pt-3 sm:px-4 sm:pb-4 sm:pt-4 rounded-xl border border-white/5 ${xt?"":"backdrop-blur-xl"}`:`flex-1 overflow-y-auto pr-2 space-y-6 min-h-0 border border-white/5 p-4 rounded-xl ${xt?"":"backdrop-blur-2xl"}`,yR=c&&p!=="matte"&&p!=="kinetic"?{backgroundColor:"rgba(3, 7, 18, 0.75)",backgroundImage:"linear-gradient(160deg, rgba(var(--accent-rgb), 0.12), rgba(var(--accent-rgb), 0.04) 70%)"}:c&&p==="kinetic"?{backgroundColor:"var(--bg-elevated)",backgroundImage:"none"}:void 0,vR=X=>Xe==="perSecond"?X.toFixed(1):Math.round(X).toLocaleString(),bR=X=>X.toFixed(1),xR=X=>Math.round(X).toLocaleString(),wR=X=>typeof X=="number"&&Number.isFinite(X)?X.toFixed(1):"0.0",Ta=aae;return u.jsxs("div",{className:hR,children:[xt&&u.jsx("div",{className:`fixed inset-0 z-40 bg-black/70 backdrop-blur-md modal-backdrop ${ce?"modal-backdrop-exit":"modal-backdrop-enter"}`,onClick:aa}),u.jsx(Fae,{embedded:c,dashboardTitle:f,totalLogs:I.total,onBack:t,devMockAvailable:ee,devMockUploadState:Z,onDevMockUpload:ne,uploadingWeb:P,onWebUpload:_,sharing:re,canShareDiscord:m,onShare:F}),u.jsx(Rae,{embedded:c,webUploadMessage:O,webUploadUrl:W,webUploadBuildStatus:Q,webCopyStatus:Y,setWebCopyStatus:q}),u.jsx($ae,{embedded:c,devMockAvailable:ee,devMockUploadState:Z}),u.jsx("div",{className:c?"":"flex-1 min-h-0 flex",children:u.jsxs("div",{id:"stats-dashboard-container",ref:G,className:`${gR} ${c?"":"flex-1"}`,style:yR,children:[u.jsxs(u.Fragment,{children:[Dt("overview")&&u.jsx(wae,{stats:I,isSectionVisible:Dt,isFirstVisibleSection:qn,sectionClass:Hn}),Dt("fight-breakdown")&&u.jsx(kae,{stats:I,fightBreakdownTab:be,setFightBreakdownTab:$e,isSectionVisible:Dt,isFirstVisibleSection:qn,sectionClass:Hn}),Dt("top-players")&&u.jsx(jae,{stats:I,showTopStats:S,showMvp:C,topStatsMode:M,expandedLeader:$,setExpandedLeader:le,formatTopStatValue:Hs,formatWithCommas:mi,isMvpStatEnabled:H,renderProfessionIcon:Ta,isSectionVisible:Dt,isFirstVisibleSection:qn,sectionClass:Hn}),Dt("top-skills-outgoing")&&u.jsx(Cae,{stats:I,topSkillsMetric:T,onTopSkillsMetricChange:L,isSectionVisible:Dt,isFirstVisibleSection:qn,sectionClass:Hn}),Dt("squad-composition")&&u.jsx(Mae,{sortedSquadClassData:pR,sortedEnemyClassData:mR,getProfessionIconPath:Jl,isSectionVisible:Dt,isFirstVisibleSection:qn,sectionClass:Hn}),Dt("attendance-ledger")&&u.jsx(Dae,{attendanceRows:dR,getProfessionIconPath:Jl,isSectionVisible:Dt,isFirstVisibleSection:qn,sectionClass:Hn}),Dt("squad-comp-fight")&&u.jsx(Iae,{fights:Cy,getProfessionIconPath:Jl,isSectionVisible:Dt,isFirstVisibleSection:qn,sectionClass:Hn}),Dt("fight-comp")&&u.jsx(Lae,{fights:fR,getProfessionIconPath:Jl,isSectionVisible:Dt,isFirstVisibleSection:qn,sectionClass:Hn}),Dt("timeline")&&u.jsx(Aae,{timelineData:I.timelineData,timelineFriendlyScope:Fe,setTimelineFriendlyScope:st,isSectionVisible:Dt,isFirstVisibleSection:qn,sectionClass:Hn}),Dt("map-distribution")&&u.jsx(Eae,{mapData:I.mapData,isSectionVisible:Dt,isFirstVisibleSection:qn,sectionClass:Hn}),Dt("offense-detailed")&&u.jsx(cae,{stats:I,OFFENSE_METRICS:lD,roundCountStats:N,offenseSearch:fa,setOffenseSearch:yr,activeOffenseStat:si,setActiveOffenseStat:Qi,offenseViewMode:lr,setOffenseViewMode:Be,formatWithCommas:mi,renderProfessionIcon:Ta,expandedSection:xt,expandedSectionClosing:ce,openExpandedSection:Ea,closeExpandedSection:aa,isSectionVisible:Dt,isFirstVisibleSection:qn,sectionClass:Hn,sidebarListClass:To}),Dt("player-breakdown")&&u.jsx(lae,{expandedSection:xt,expandedSectionClosing:ce,openExpandedSection:Ea,closeExpandedSection:aa,isSectionVisible:Dt,isFirstVisibleSection:qn,sectionClass:Hn,sidebarListClass:To,viewMode:jo,setViewMode:Wp,playerSkillBreakdowns:Pe,classSkillBreakdowns:nt,activePlayerKey:qt,setActivePlayerKey:kn,expandedPlayerKey:Br,setExpandedPlayerKey:ra,activePlayerSkillId:Gr,setActivePlayerSkillId:Ai,activeClassKey:Co,setActiveClassKey:Ls,expandedClassKey:ud,setExpandedClassKey:Fs,activeClassSkillId:ci,setActiveClassSkillId:ui,skillSearch:Rc,setSkillSearch:_s,activePlayerBreakdown:ct,activePlayerSkill:on,activeClassBreakdown:yn,activeClassSkill:er,renderProfessionIcon:Ta}),Dt("spike-damage")&&u.jsx(VA,{expandedSection:xt,expandedSectionClosing:ce,openExpandedSection:Ea,closeExpandedSection:aa,isSectionVisible:Dt,isFirstVisibleSection:qn,sectionClass:Hn,spikePlayerFilter:_n,setSpikePlayerFilter:qo,groupedSpikePlayers:$c,spikeMode:he,setSpikeMode:Le,selectedSpikePlayerKey:me,setSelectedSpikePlayerKey:Se,selectedSpikePlayer:Hp,spikeChartData:Va,spikeChartMaxY:qp,selectedSpikeFightIndex:ke,setSelectedSpikeFightIndex:ze,spikeDrilldownTitle:Ol.title,spikeDrilldownData:Ol.data,spikeDrilldownDownIndices:Ol.downIndices,spikeDrilldownDeathIndices:Ol.deathIndices,spikeFightSkillRows:Il,spikeFightSkillTitle:"Outgoing Skill Damage (Selected Fight)",formatWithCommas:mi,renderProfessionIcon:Ta}),Dt("conditions-outgoing")&&u.jsx(uae,{conditionSummary:Yp,conditionPlayers:H6,conditionSearch:xn,setConditionSearch:pa,activeConditionName:li,setActiveConditionName:Os,conditionDirection:So,setConditionDirection:Pl,conditionGridClass:K,effectiveConditionSort:pe,setConditionSort:Fc,showConditionDamage:No,renderProfessionIcon:Ta,expandedSection:xt,expandedSectionClosing:ce,openExpandedSection:Ea,closeExpandedSection:aa,isSectionVisible:Dt,isFirstVisibleSection:qn,sectionClass:Hn,sidebarListClass:To}),Dt("defense-detailed")&&u.jsx(fae,{stats:I,DEFENSE_METRICS:cD,defenseSearch:Ca,setDefenseSearch:en,activeDefenseStat:Yo,setActiveDefenseStat:cd,defenseViewMode:tt,setDefenseViewMode:Yt,roundCountStats:N,formatWithCommas:mi,renderProfessionIcon:Ta,expandedSection:xt,expandedSectionClosing:ce,openExpandedSection:Ea,closeExpandedSection:aa,isSectionVisible:Dt,isFirstVisibleSection:qn,sectionClass:Hn,sidebarListClass:To}),Dt("incoming-strike-damage")&&u.jsx(VA,{sectionId:"incoming-strike-damage",title:"Incoming Strike Damage",subtitle:"Select one enemy class to chart incoming strike pressure per fight.",listTitle:"Enemy Classes",searchPlaceholder:"Search enemy class",titleIconClassName:"text-cyan-300",expandedSection:xt,expandedSectionClosing:ce,openExpandedSection:Ea,closeExpandedSection:aa,isSectionVisible:Dt,isFirstVisibleSection:qn,sectionClass:Hn,spikePlayerFilter:$r,setSpikePlayerFilter:oi,groupedSpikePlayers:Kp,spikeMode:Rt,setSpikeMode:wn,selectedSpikePlayerKey:Ne,setSelectedSpikePlayerKey:bt,selectedSpikePlayer:dd,spikeChartData:Cr,spikeChartMaxY:Rs,selectedSpikeFightIndex:rt,setSelectedSpikeFightIndex:at,spikeDrilldownTitle:Go.title,spikeDrilldownData:Go.data,spikeDrilldownDownIndices:Go.downIndices,spikeDrilldownDeathIndices:Go.deathIndices,spikeFightSkillRows:Wa,spikeFightSkillTitle:"Incoming Skill Damage (Selected Fight)",formatWithCommas:mi,renderProfessionIcon:Ta}),Dt("defense-mitigation")&&u.jsx(pae,{stats:I,DAMAGE_MITIGATION_METRICS:oz,damageMitigationSearch:Wt,setDamageMitigationSearch:Ma,activeDamageMitigationStat:Xi,setActiveDamageMitigationStat:Lc,damageMitigationViewMode:A,setDamageMitigationViewMode:U,damageMitigationScope:vt,setDamageMitigationScope:gt,roundCountStats:N,formatWithCommas:mi,renderProfessionIcon:Ta,expandedSection:xt,expandedSectionClosing:ce,openExpandedSection:Ea,closeExpandedSection:aa,isSectionVisible:Dt,isFirstVisibleSection:qn,sectionClass:Hn,sidebarListClass:To}),Dt("boon-output")&&u.jsx(dae,{stats:I,activeBoonCategory:de,setActiveBoonCategory:X=>Ye(X),activeBoonMetric:Re,setActiveBoonMetric:ht,activeBoonTab:we,setActiveBoonTab:et,activeBoonTable:oR,filteredBoonTables:iR,boonSearch:Xt,setBoonSearch:Tn,formatBoonMetricDisplay:Fz,getBoonMetricValue:wD,renderProfessionIcon:Ta,roundCountStats:N,expandedSection:xt,expandedSectionClosing:ce,openExpandedSection:Ea,closeExpandedSection:aa,isSectionVisible:Dt,isFirstVisibleSection:qn,sectionClass:Hn,sidebarListClass:To}),Dt("support-detailed")&&u.jsx(mae,{stats:I,SUPPORT_METRICS:uD,supportSearch:Ko,setSupportSearch:Dl,activeSupportStat:De,setActiveSupportStat:Ze,supportViewMode:te,setSupportViewMode:ye,cleanseScope:J,setCleanseScope:Oe,roundCountStats:N,formatWithCommas:mi,renderProfessionIcon:Ta,expandedSection:xt,expandedSectionClosing:ce,openExpandedSection:Ea,closeExpandedSection:aa,isSectionVisible:Dt,isFirstVisibleSection:qn,sectionClass:Hn,sidebarListClass:To}),Dt("healing-stats")&&u.jsx(hae,{stats:I,HEALING_METRICS:sz,activeHealingMetric:$t,setActiveHealingMetric:Ct,healingCategory:mt,setHealingCategory:sn,activeResUtilitySkill:gn,setActiveResUtilitySkill:jr,skillUsageData:E,formatWithCommas:mi,renderProfessionIcon:Ta,expandedSection:xt,expandedSectionClosing:ce,openExpandedSection:Ea,closeExpandedSection:aa,isSectionVisible:Dt,isFirstVisibleSection:qn,sectionClass:Hn}),Dt("fight-diff-mode")&&u.jsx(xae,{stats:I,formatWithCommas:mi,expandedSection:xt,expandedSectionClosing:ce,openExpandedSection:Ea,closeExpandedSection:aa,isSectionVisible:Dt,isFirstVisibleSection:qn,sectionClass:Hn}),Dt("special-buffs")&&u.jsx(yae,{stats:I,specialSearch:Ie,setSpecialSearch:Pt,filteredSpecialTables:sR,activeSpecialTab:Cn,setActiveSpecialTab:ge,activeSpecialTable:cR,formatWithCommas:mi,renderProfessionIcon:Ta,expandedSection:xt,expandedSectionClosing:ce,openExpandedSection:Ea,closeExpandedSection:aa,isSectionVisible:Dt,isFirstVisibleSection:qn,sectionClass:Hn,sidebarListClass:To}),Dt("sigil-relic-uptime")&&u.jsx(bae,{hasSigilRelicTables:Zi.length>0,sigilRelicSearch:Tr,setSigilRelicSearch:Ua,filteredSigilRelicTables:lR,activeSigilRelicTab:Kt,setActiveSigilRelicTab:an,activeSigilRelicTable:uR,formatWithCommas:mi,renderProfessionIcon:Ta,expandedSection:xt,expandedSectionClosing:ce,openExpandedSection:Ea,closeExpandedSection:aa,isSectionVisible:Dt,isFirstVisibleSection:qn,sectionClass:Hn,sidebarListClass:To}),Dt("skill-usage")&&u.jsx(iae,{expandedSection:xt,expandedSectionClosing:ce,openExpandedSection:Ea,closeExpandedSection:aa,isSectionVisible:Dt,isFirstVisibleSection:qn,sectionClass:Hn,selectedPlayers:Et,setSelectedPlayers:Ht,removeSelectedPlayer:aR,playerMapByKey:Aa,groupedSkillUsagePlayers:W6,expandedSkillUsageClass:Gt,setExpandedSkillUsageClass:Vt,togglePlayerSelection:rR,skillUsagePlayerFilter:Ft,setSkillUsagePlayerFilter:mn,skillUsageView:Xe,setSkillUsageView:qe,skillUsageData:E,skillUsageSkillFilter:dn,setSkillUsageSkillFilter:Je,selectedSkillId:He,setSelectedSkillId:ot,skillBarData:fd,selectedSkillName:X6,selectedSkillIcon:Z6,skillUsageReady:J6,skillUsageAvailable:j,isSkillUsagePerSecond:Bt,skillChartData:U6,skillChartMaxY:V6,playerTotalsForSkill:Ti,hoveredSkillPlayer:Ln,setHoveredSkillPlayer:Jn,getLineStrokeColor:Q6,getLineDashForPlayer:G6,formatSkillUsageValue:vR,renderProfessionIcon:Ta}),Dt("apm-stats")&&u.jsx(sae,{expandedSection:xt,expandedSectionClosing:ce,openExpandedSection:Ea,closeExpandedSection:aa,isSectionVisible:Dt,isFirstVisibleSection:qn,sectionClass:Hn,sidebarListClass:To,apmSpecAvailable:eR,skillUsageAvailable:j,apmSpecTables:di,activeApmSpec:dt,setActiveApmSpec:rn,expandedApmSpec:_t,setExpandedApmSpec:Mt,activeApmSkillId:Ae,setActiveApmSkillId:xe,ALL_SKILLS_KEY:Xp,apmSkillSearch:wt,setApmSkillSearch:At,activeApmSpecTable:$s,activeApmSkill:nR,isAllApmSkills:tR,apmView:lt,setApmView:Zt,formatApmValue:wR,formatCastRateValue:bR,formatCastCountValue:xR,renderProfessionIcon:Ta})]}),!c&&u.jsx("div",{className:"h-24","aria-hidden":"true"})]})})]})}const Vae="Arcane",Wae="CRT",sh="MatteSlate",lh="KineticPaper",Vd="KineticPaperDark",ch={id:Vae,label:"Arcane",rgb:"136, 116, 255",pattern:"radial-gradient(at 0% 0%, hsla(250, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(220, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 65%, 20%, 1) 0, transparent 70%)"},Hae={id:sh,label:"Matte Slate",rgb:"93, 163, 194",pattern:"linear-gradient(to bottom, #222629, #222629)"},qae={id:lh,label:"Kinetic Paper",rgb:"154, 133, 99",pattern:"linear-gradient(to bottom, #e9e3d8, #e9e3d8)"},Kae={id:Vd,label:"Kinetic Paper (Dark)",rgb:"142, 155, 214",pattern:"linear-gradient(to bottom, #2b3048, #2b3048)"},Yae=[ch,{id:"Amethyst",label:"Amethyst",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(270, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(260, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 60%, 30%, 1) 0, transparent 70%)"},{id:"Aurora",label:"Aurora",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(160, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 75%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 85%, 15%, 1) 0, transparent 70%)"},{id:"Autumn",label:"Autumn",rgb:"180, 130, 70",pattern:"radial-gradient(at 0% 0%, hsla(30, 65%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 60%, 15%, 1) 0, transparent 70%)"},{id:"Berry",label:"Berry",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(300, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 60%, 25%, 1) 0, transparent 70%)"},{id:"Bubblegum",label:"Bubblegum",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 85%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 75%, 20%, 1) 0, transparent 70%)"},{id:"Cherry",label:"Cherry",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(340, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(0, 60%, 25%, 1) 0, transparent 70%)"},{id:"Cobalt",label:"Cobalt",rgb:"59, 130, 246",pattern:"radial-gradient(at 0% 0%, hsla(220, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 15%, 1) 0, transparent 70%)"},{id:"Coffee",label:"Coffee",rgb:"253, 186, 116",pattern:"radial-gradient(at 0% 0%, hsla(25, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(35, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(30, 50%, 22%, 1) 0, transparent 70%)"},{id:"Cyberpunk",label:"Cyberpunk",rgb:"232, 121, 249",pattern:"radial-gradient(at 0% 0%, hsla(290, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 25%, 1) 0, transparent 70%)"},{id:"Dark Pearl",label:"Dark Pearl",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 30%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 40%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 30%, 25%, 1) 0, transparent 70%)"},{id:"Deep Space",label:"Deep Space",rgb:"99, 102, 241",pattern:"radial-gradient(at 0% 0%, hsla(245, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(300, 70%, 18%, 1) 0, transparent 70%)"},{id:"Electric Storm",label:"Electric Storm",rgb:"56, 189, 248",pattern:"radial-gradient(at 0% 0%, hsla(200, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(180, 80%, 20%, 1) 0, transparent 70%)"},{id:"Emerald",label:"Emerald",rgb:"52, 211, 153",pattern:"radial-gradient(at 0% 0%, hsla(150, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 70%, 25%, 1) 0, transparent 70%)"},{id:"Forest",label:"Forest",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(150, 70%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(120, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 80%, 18%, 1) 0, transparent 70%)"},{id:"Glacier",label:"Glacier",rgb:"125, 211, 252",pattern:"radial-gradient(at 0% 0%, hsla(190, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(210, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 30%, 1) 0, transparent 70%)"},{id:"Gold",label:"Gold",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(40, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 70%, 25%, 1) 0, transparent 70%)"},{id:"Jungle",label:"Jungle",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(145, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(175, 70%, 18%, 1) 0, transparent 70%)"},{id:"Lavender",label:"Lavender",rgb:"167, 139, 250",pattern:"radial-gradient(at 0% 0%, hsla(250, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(290, 50%, 30%, 1) 0, transparent 70%)"},{id:"Mermaid",label:"Mermaid",rgb:"45, 212, 191",pattern:"radial-gradient(at 0% 0%, hsla(175, 75%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 20%, 1) 0, transparent 70%)"},{id:"Midnight",label:"Midnight",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(260, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(320, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 60%, 20%, 1) 0, transparent 70%)"},{id:"Mint",label:"Mint",rgb:"110, 231, 183",pattern:"radial-gradient(at 0% 0%, hsla(160, 60%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(170, 50%, 25%, 1) 0, transparent 70%)"},{id:"Nebula",label:"Nebula",rgb:"196, 181, 253",pattern:"radial-gradient(at 0% 0%, hsla(260, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(310, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 60%, 25%, 1) 0, transparent 70%)"},{id:"Neon Nights",label:"Neon Nights",rgb:"236, 72, 153",pattern:"radial-gradient(at 0% 0%, hsla(330, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 95%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 80%, 18%, 1) 0, transparent 70%)"},{id:"Obsidian",label:"Obsidian",rgb:"226, 232, 240",pattern:"radial-gradient(at 0% 0%, hsla(0, 0%, 5%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 10%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 20%, 15%, 1) 0, transparent 70%)"},{id:"Ocean",label:"Ocean",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(210, 70%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 22%, 1) 0, transparent 70%)"},{id:"Royal",label:"Royal",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 60%, 30%, 1) 0, transparent 70%)"},{id:"Ruby",label:"Ruby",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 70%, 25%, 1) 0, transparent 70%)"},{id:"Sapphire",label:"Sapphire",rgb:"96, 165, 250",pattern:"radial-gradient(at 0% 0%, hsla(220, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(230, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 70%, 25%, 1) 0, transparent 70%)"},{id:"Shadow",label:"Shadow",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 20%, 10%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 10%, 20%, 1) 0, transparent 70%)"},{id:"Slate",label:"Slate",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(210, 30%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 40%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 30%, 30%, 1) 0, transparent 70%)"},{id:"Sunrise",label:"Sunrise",rgb:"251, 113, 133",pattern:"radial-gradient(at 0% 0%, hsla(350, 75%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 18%, 1) 0, transparent 70%)"},{id:"Sunset",label:"Sunset",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(10, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(330, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 50%, 25%, 1) 0, transparent 70%)"},{id:"Toxic",label:"Toxic",rgb:"163, 230, 53",pattern:"radial-gradient(at 0% 0%, hsla(100, 90%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(90, 90%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(120, 80%, 18%, 1) 0, transparent 70%)"},{id:"Tropics",label:"Tropics",rgb:"20, 184, 166",pattern:"radial-gradient(at 0% 0%, hsla(170, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(15, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 75%, 20%, 1) 0, transparent 70%)"},{id:"Ultraviolet",label:"Ultraviolet",rgb:"139, 92, 246",pattern:"radial-gradient(at 0% 0%, hsla(265, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 80%, 20%, 1) 0, transparent 70%)"},{id:"Vaporwave",label:"Vaporwave",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(280, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(170, 90%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 30%, 1) 0, transparent 70%)"},{id:"Volcano",label:"Volcano",rgb:"239, 68, 68",pattern:"radial-gradient(at 0% 0%, hsla(0, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(25, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(350, 75%, 15%, 1) 0, transparent 70%)"},{id:"Wildfire",label:"Wildfire",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(25, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 80%, 15%, 1) 0, transparent 70%)"}],Gae={id:Wae,label:"CRT Hacker",rgb:"87, 255, 154",pattern:"radial-gradient(circle at 12% 10%, rgba(44, 120, 78, 0.42), transparent 60%), radial-gradient(circle at 88% 22%, rgba(22, 86, 52, 0.38), transparent 62%), linear-gradient(180deg, rgba(5, 12, 8, 0.92), rgba(3, 7, 6, 0.98))"},Dd=[...Yae,Gae,Hae,qae,Kae];function Qae(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Xae=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Zae=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Jae={};function HA(e,t){return(Jae.jsx?Zae:Xae).test(e)}const eie=/[ \t\n\f\r]/g;function tie(e){return typeof e=="object"?e.type==="text"?qA(e.value):!1:qA(e)}function qA(e){return e.replace(eie,"")===""}class Fp{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Fp.prototype.normal={};Fp.prototype.property={};Fp.prototype.space=void 0;function gL(e,t){const n={},r={};for(const a of e)Object.assign(n,a.property),Object.assign(r,a.normal);return new Fp(n,r,t)}function Xx(e){return e.toLowerCase()}class ii{constructor(t,n){this.attribute=n,this.property=t}}ii.prototype.attribute="";ii.prototype.booleanish=!1;ii.prototype.boolean=!1;ii.prototype.commaOrSpaceSeparated=!1;ii.prototype.commaSeparated=!1;ii.prototype.defined=!1;ii.prototype.mustUseProperty=!1;ii.prototype.number=!1;ii.prototype.overloadedBoolean=!1;ii.prototype.property="";ii.prototype.spaceSeparated=!1;ii.prototype.space=void 0;let nie=0;const nn=Oc(),Or=Oc(),Zx=Oc(),We=Oc(),Un=Oc(),Cu=Oc(),pi=Oc();function Oc(){return 2**++nie}const Jx=Object.freeze(Object.defineProperty({__proto__:null,boolean:nn,booleanish:Or,commaOrSpaceSeparated:pi,commaSeparated:Cu,number:We,overloadedBoolean:Zx,spaceSeparated:Un},Symbol.toStringTag,{value:"Module"})),Mv=Object.keys(Jx);class TS extends ii{constructor(t,n,r,a){let i=-1;if(super(t,n),KA(this,"space",a),typeof r=="number")for(;++i<Mv.length;){const o=Mv[i];KA(this,Mv[i],(r&Jx[o])===Jx[o])}}}TS.prototype.defined=!0;function KA(e,t,n){n&&(e[t]=n)}function sd(e){const t={},n={};for(const[r,a]of Object.entries(e.properties)){const i=new TS(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[Xx(r)]=r,n[Xx(i.attribute)]=r}return new Fp(t,n,e.space)}const yL=sd({properties:{ariaActiveDescendant:null,ariaAtomic:Or,ariaAutoComplete:null,ariaBusy:Or,ariaChecked:Or,ariaColCount:We,ariaColIndex:We,ariaColSpan:We,ariaControls:Un,ariaCurrent:null,ariaDescribedBy:Un,ariaDetails:null,ariaDisabled:Or,ariaDropEffect:Un,ariaErrorMessage:null,ariaExpanded:Or,ariaFlowTo:Un,ariaGrabbed:Or,ariaHasPopup:null,ariaHidden:Or,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Un,ariaLevel:We,ariaLive:null,ariaModal:Or,ariaMultiLine:Or,ariaMultiSelectable:Or,ariaOrientation:null,ariaOwns:Un,ariaPlaceholder:null,ariaPosInSet:We,ariaPressed:Or,ariaReadOnly:Or,ariaRelevant:null,ariaRequired:Or,ariaRoleDescription:Un,ariaRowCount:We,ariaRowIndex:We,ariaRowSpan:We,ariaSelected:Or,ariaSetSize:We,ariaSort:null,ariaValueMax:We,ariaValueMin:We,ariaValueNow:We,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function vL(e,t){return t in e?e[t]:t}function bL(e,t){return vL(e,t.toLowerCase())}const rie=sd({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Cu,acceptCharset:Un,accessKey:Un,action:null,allow:null,allowFullScreen:nn,allowPaymentRequest:nn,allowUserMedia:nn,alt:null,as:null,async:nn,autoCapitalize:null,autoComplete:Un,autoFocus:nn,autoPlay:nn,blocking:Un,capture:null,charSet:null,checked:nn,cite:null,className:Un,cols:We,colSpan:null,content:null,contentEditable:Or,controls:nn,controlsList:Un,coords:We|Cu,crossOrigin:null,data:null,dateTime:null,decoding:null,default:nn,defer:nn,dir:null,dirName:null,disabled:nn,download:Zx,draggable:Or,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:nn,formTarget:null,headers:Un,height:We,hidden:Zx,high:We,href:null,hrefLang:null,htmlFor:Un,httpEquiv:Un,id:null,imageSizes:null,imageSrcSet:null,inert:nn,inputMode:null,integrity:null,is:null,isMap:nn,itemId:null,itemProp:Un,itemRef:Un,itemScope:nn,itemType:Un,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:nn,low:We,manifest:null,max:null,maxLength:We,media:null,method:null,min:null,minLength:We,multiple:nn,muted:nn,name:null,nonce:null,noModule:nn,noValidate:nn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:nn,optimum:We,pattern:null,ping:Un,placeholder:null,playsInline:nn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:nn,referrerPolicy:null,rel:Un,required:nn,reversed:nn,rows:We,rowSpan:We,sandbox:Un,scope:null,scoped:nn,seamless:nn,selected:nn,shadowRootClonable:nn,shadowRootDelegatesFocus:nn,shadowRootMode:null,shape:null,size:We,sizes:null,slot:null,span:We,spellCheck:Or,src:null,srcDoc:null,srcLang:null,srcSet:null,start:We,step:null,style:null,tabIndex:We,target:null,title:null,translate:null,type:null,typeMustMatch:nn,useMap:null,value:Or,width:We,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Un,axis:null,background:null,bgColor:null,border:We,borderColor:null,bottomMargin:We,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:nn,declare:nn,event:null,face:null,frame:null,frameBorder:null,hSpace:We,leftMargin:We,link:null,longDesc:null,lowSrc:null,marginHeight:We,marginWidth:We,noResize:nn,noHref:nn,noShade:nn,noWrap:nn,object:null,profile:null,prompt:null,rev:null,rightMargin:We,rules:null,scheme:null,scrolling:Or,standby:null,summary:null,text:null,topMargin:We,valueType:null,version:null,vAlign:null,vLink:null,vSpace:We,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:nn,disableRemotePlayback:nn,prefix:null,property:null,results:We,security:null,unselectable:null},space:"html",transform:bL}),aie=sd({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:pi,accentHeight:We,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:We,amplitude:We,arabicForm:null,ascent:We,attributeName:null,attributeType:null,azimuth:We,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:We,by:null,calcMode:null,capHeight:We,className:Un,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:We,diffuseConstant:We,direction:null,display:null,dur:null,divisor:We,dominantBaseline:null,download:nn,dx:null,dy:null,edgeMode:null,editable:null,elevation:We,enableBackground:null,end:null,event:null,exponent:We,externalResourcesRequired:null,fill:null,fillOpacity:We,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Cu,g2:Cu,glyphName:Cu,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:We,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:We,horizOriginX:We,horizOriginY:We,id:null,ideographic:We,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:We,k:We,k1:We,k2:We,k3:We,k4:We,kernelMatrix:pi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:We,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:We,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:We,overlineThickness:We,paintOrder:null,panose1:null,path:null,pathLength:We,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Un,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:We,pointsAtY:We,pointsAtZ:We,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:pi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:pi,rev:pi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:pi,requiredFeatures:pi,requiredFonts:pi,requiredFormats:pi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:We,specularExponent:We,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:We,strikethroughThickness:We,string:null,stroke:null,strokeDashArray:pi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:We,strokeOpacity:We,strokeWidth:null,style:null,surfaceScale:We,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:pi,tabIndex:We,tableValues:null,target:null,targetX:We,targetY:We,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:pi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:We,underlineThickness:We,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:We,values:null,vAlphabetic:We,vMathematical:We,vectorEffect:null,vHanging:We,vIdeographic:We,version:null,vertAdvY:We,vertOriginX:We,vertOriginY:We,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:We,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:vL}),xL=sd({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),wL=sd({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:bL}),kL=sd({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),iie={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},oie=/[A-Z]/g,YA=/-[a-z]/g,sie=/^data[-\w.:]+$/i;function lie(e,t){const n=Xx(t);let r=t,a=ii;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&sie.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(YA,uie);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!YA.test(i)){let o=i.replace(oie,cie);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}a=TS}return new a(r,t)}function cie(e){return"-"+e.toLowerCase()}function uie(e){return e.charAt(1).toUpperCase()}const die=gL([yL,rie,xL,wL,kL],"html"),PS=gL([yL,aie,xL,wL,kL],"svg");function fie(e){return e.join(" ").trim()}var DS={},GA=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,pie=/\n/g,mie=/^\s*/,hie=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,gie=/^:\s*/,yie=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,vie=/^[;\s]*/,bie=/^\s+|\s+$/g,xie=`
`,QA="/",XA="*",Gl="",wie="comment",kie="declaration";function Sie(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function a(h){var v=h.match(pie);v&&(n+=v.length);var x=h.lastIndexOf(xie);r=~x?h.length-x:r+h.length}function i(){var h={line:n,column:r};return function(v){return v.position=new o(h),c(),v}}function o(h){this.start=h,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function s(h){var v=new Error(t.source+":"+n+":"+r+": "+h);if(v.reason=h,v.filename=t.source,v.line=n,v.column=r,v.source=e,!t.silent)throw v}function l(h){var v=h.exec(e);if(v){var x=v[0];return a(x),e=e.slice(x.length),v}}function c(){l(mie)}function d(h){var v;for(h=h||[];v=f();)v!==!1&&h.push(v);return h}function f(){var h=i();if(!(QA!=e.charAt(0)||XA!=e.charAt(1))){for(var v=2;Gl!=e.charAt(v)&&(XA!=e.charAt(v)||QA!=e.charAt(v+1));)++v;if(v+=2,Gl===e.charAt(v-1))return s("End of comment missing");var x=e.slice(2,v-2);return r+=2,a(x),e=e.slice(v),r+=2,h({type:wie,comment:x})}}function p(){var h=i(),v=l(hie);if(v){if(f(),!l(gie))return s("property missing ':'");var x=l(yie),g=h({type:kie,property:ZA(v[0].replace(GA,Gl)),value:x?ZA(x[0].replace(GA,Gl)):Gl});return l(vie),g}}function m(){var h=[];d(h);for(var v;v=p();)v!==!1&&(h.push(v),d(h));return h}return c(),m()}function ZA(e){return e?e.replace(bie,Gl):Gl}var Nie=Sie,jie=mh&&mh.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(DS,"__esModule",{value:!0});DS.default=Mie;const Cie=jie(Nie);function Mie(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,Cie.default)(e),a=typeof t=="function";return r.forEach(i=>{if(i.type!=="declaration")return;const{property:o,value:s}=i;a?t(o,s,i):s&&(n=n||{},n[o]=s)}),n}var py={};Object.defineProperty(py,"__esModule",{value:!0});py.camelCase=void 0;var Aie=/^--[a-zA-Z0-9_-]+$/,Eie=/-([a-z])/g,Tie=/^[^-]+$/,Pie=/^-(webkit|moz|ms|o|khtml)-/,Die=/^-(ms)-/,Oie=function(e){return!e||Tie.test(e)||Aie.test(e)},Iie=function(e,t){return t.toUpperCase()},JA=function(e,t){return"".concat(t,"-")},_ie=function(e,t){return t===void 0&&(t={}),Oie(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Die,JA):e=e.replace(Pie,JA),e.replace(Eie,Iie))};py.camelCase=_ie;var Lie=mh&&mh.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Fie=Lie(DS),Rie=py;function ew(e,t){var n={};return!e||typeof e!="string"||(0,Fie.default)(e,function(r,a){r&&a&&(n[(0,Rie.camelCase)(r,t)]=a)}),n}ew.default=ew;var $ie=ew;const Bie=bo($ie),SL=NL("end"),OS=NL("start");function NL(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function zie(e){const t=OS(e),n=SL(e);if(t&&n)return{start:t,end:n}}function nf(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?eE(e.position):"start"in e||"end"in e?eE(e):"line"in e||"column"in e?tw(e):""}function tw(e){return tE(e&&e.line)+":"+tE(e&&e.column)}function eE(e){return tw(e&&e.start)+"-"+tw(e&&e.end)}function tE(e){return e&&typeof e=="number"?e:1}class ja extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",i={},o=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof t=="string"?a=t:!i.cause&&t&&(o=!0,a=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?i.ruleId=r:(i.source=r.slice(0,l),i.ruleId=r.slice(l+1))}if(!i.place&&i.ancestors&&i.ancestors){const l=i.ancestors[i.ancestors.length-1];l&&(i.place=l.position)}const s=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=s?s.line:void 0,this.name=nf(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=o&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}ja.prototype.file="";ja.prototype.name="";ja.prototype.reason="";ja.prototype.message="";ja.prototype.stack="";ja.prototype.column=void 0;ja.prototype.line=void 0;ja.prototype.ancestors=void 0;ja.prototype.cause=void 0;ja.prototype.fatal=void 0;ja.prototype.place=void 0;ja.prototype.ruleId=void 0;ja.prototype.source=void 0;const IS={}.hasOwnProperty,Uie=new Map,Vie=/[A-Z]/g,Wie=new Set(["table","tbody","thead","tfoot","tr"]),Hie=new Set(["td","th"]),jL="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function qie(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=eoe(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Jie(n,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?PS:die,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=CL(a,e,void 0);return i&&typeof i!="string"?i:a.create(e,a.Fragment,{children:i||void 0},void 0)}function CL(e,t,n){if(t.type==="element")return Kie(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Yie(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Qie(e,t,n);if(t.type==="mdxjsEsm")return Gie(e,t);if(t.type==="root")return Xie(e,t,n);if(t.type==="text")return Zie(e,t)}function Kie(e,t,n){const r=e.schema;let a=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=PS,e.schema=a),e.ancestors.push(t);const i=AL(e,t.tagName,!1),o=toe(e,t);let s=LS(e,t);return Wie.has(t.tagName)&&(s=s.filter(function(l){return typeof l=="string"?!tie(l):!0})),ML(e,o,i,t),_S(o,s),e.ancestors.pop(),e.schema=r,e.create(t,i,o,n)}function Yie(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}Qf(e,t.position)}function Gie(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Qf(e,t.position)}function Qie(e,t,n){const r=e.schema;let a=r;t.name==="svg"&&r.space==="html"&&(a=PS,e.schema=a),e.ancestors.push(t);const i=t.name===null?e.Fragment:AL(e,t.name,!0),o=noe(e,t),s=LS(e,t);return ML(e,o,i,t),_S(o,s),e.ancestors.pop(),e.schema=r,e.create(t,i,o,n)}function Xie(e,t,n){const r={};return _S(r,LS(e,t)),e.create(t,e.Fragment,r,n)}function Zie(e,t){return t.value}function ML(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function _S(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Jie(e,t,n){return r;function r(a,i,o,s){const l=Array.isArray(o.children)?n:t;return s?l(i,o,s):l(i,o)}}function eoe(e,t){return n;function n(r,a,i,o){const s=Array.isArray(i.children),l=OS(r);return t(a,i,o,s,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function toe(e,t){const n={};let r,a;for(a in t.properties)if(a!=="children"&&IS.call(t.properties,a)){const i=roe(e,a,t.properties[a]);if(i){const[o,s]=i;e.tableCellAlignToStyle&&o==="align"&&typeof s=="string"&&Hie.has(t.tagName)?r=s:n[o]=s}}if(r){const i=n.style||(n.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function noe(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const i=a.expression;i.type;const o=i.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else Qf(e,t.position);else{const a=r.name;let i;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,i=e.evaluater.evaluateExpression(o.expression)}else Qf(e,t.position);else i=r.value===null?!0:r.value;n[a]=i}return n}function LS(e,t){const n=[];let r=-1;const a=e.passKeys?new Map:Uie;for(;++r<t.children.length;){const i=t.children[r];let o;if(e.passKeys){const l=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(l){const c=a.get(l)||0;o=l+"-"+c,a.set(l,c+1)}}const s=CL(e,i,o);s!==void 0&&n.push(s)}return n}function roe(e,t,n){const r=lie(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Qae(n):fie(n)),r.property==="style"){let a=typeof n=="object"?n:aoe(e,String(n));return e.stylePropertyNameCase==="css"&&(a=ioe(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&r.space?iie[r.property]||r.property:r.attribute,n]}}function aoe(e,t){try{return Bie(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,a=new ja("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=jL+"#cannot-parse-style-attribute",a}}function AL(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let i=-1,o;for(;++i<a.length;){const s=HA(a[i])?{type:"Identifier",name:a[i]}:{type:"Literal",value:a[i]};o=o?{type:"MemberExpression",object:o,property:s,computed:!!(i&&s.type==="Literal"),optional:!1}:s}r=o}else r=HA(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const a=r.value;return IS.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(r);Qf(e)}function Qf(e,t){const n=new ja("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=jL+"#cannot-handle-mdx-estrees-without-createevaluater",n}function ioe(e){const t={};let n;for(n in e)IS.call(e,n)&&(t[ooe(n)]=e[n]);return t}function ooe(e){let t=e.replace(Vie,soe);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function soe(e){return"-"+e.toLowerCase()}const Av={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},loe={};function FS(e,t){const n=loe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return EL(e,r,a)}function EL(e,t,n){if(coe(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return nE(e.children,t,n)}return Array.isArray(e)?nE(e,t,n):""}function nE(e,t,n){const r=[];let a=-1;for(;++a<e.length;)r[a]=EL(e[a],t,n);return r.join("")}function coe(e){return!!(e&&typeof e=="object")}const rE=document.createElement("i");function RS(e){const t="&"+e+";";rE.innerHTML=t;const n=rE.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function ki(e,t,n,r){const a=e.length;let i=0,o;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);i<r.length;)o=r.slice(i,i+1e4),o.unshift(t,0),e.splice(...o),i+=1e4,t+=1e4}function $i(e,t){return e.length>0?(ki(e,e.length,0,t),e):t}const aE={}.hasOwnProperty;function TL(e){const t={};let n=-1;for(;++n<e.length;)uoe(t,e[n]);return t}function uoe(e,t){let n;for(n in t){const r=(aE.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let i;if(a)for(i in a){aE.call(r,i)||(r[i]=[]);const o=a[i];doe(r[i],Array.isArray(o)?o:o?[o]:[])}}}function doe(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);ki(e,0,0,r)}function PL(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function fo(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ia=El(/[A-Za-z]/),Sa=El(/[\dA-Za-z]/),foe=El(/[#-'*+\--9=?A-Z^-~]/);function Lg(e){return e!==null&&(e<32||e===127)}const nw=El(/\d/),poe=El(/[\dA-Fa-f]/),moe=El(/[!-/:-@[-`{-~]/);function It(e){return e!==null&&e<-2}function Rn(e){return e!==null&&(e<0||e===32)}function cn(e){return e===-2||e===-1||e===32}const my=El(new RegExp("\\p{P}|\\p{S}","u")),Ac=El(/\s/);function El(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function ld(e){const t=[];let n=-1,r=0,a=0;for(;++n<e.length;){const i=e.charCodeAt(n);let o="";if(i===37&&Sa(e.charCodeAt(n+1))&&Sa(e.charCodeAt(n+2)))a=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(o=String.fromCharCode(i));else if(i>55295&&i<57344){const s=e.charCodeAt(n+1);i<56320&&s>56319&&s<57344?(o=String.fromCharCode(i,s),a=1):o=""}else o=String.fromCharCode(i);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+a+1,o=""),a&&(n+=a,a=0)}return t.join("")+e.slice(r)}function hn(e,t,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let i=0;return o;function o(l){return cn(l)?(e.enter(n),s(l)):t(l)}function s(l){return cn(l)&&i++<a?(e.consume(l),s):(e.exit(n),t(l))}}const hoe={tokenize:goe};function goe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,a);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),hn(e,t,"linePrefix")}function a(s){return e.enter("paragraph"),i(s)}function i(s){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(s)}function o(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return It(s)?(e.consume(s),e.exit("chunkText"),i):(e.consume(s),o)}}const yoe={tokenize:voe},iE={tokenize:boe};function voe(e){const t=this,n=[];let r=0,a,i,o;return s;function s(w){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,l,c)(w)}return c(w)}function l(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&b();const S=t.events.length;let C=S,N;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){N=t.events[C][1].end;break}g(r);let M=S;for(;M<t.events.length;)t.events[M][1].end={...N},M++;return ki(t.events,C+1,0,t.events.slice(S)),t.events.length=M,c(w)}return s(w)}function c(w){if(r===n.length){if(!a)return p(w);if(a.currentConstruct&&a.currentConstruct.concrete)return h(w);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(iE,d,f)(w)}function d(w){return a&&b(),g(r),p(w)}function f(w){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,h(w)}function p(w){return t.containerState={},e.attempt(iE,m,h)(w)}function m(w){return r++,n.push([t.currentConstruct,t.containerState]),p(w)}function h(w){if(w===null){a&&b(),g(0),e.consume(w);return}return a=a||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:i}),v(w)}function v(w){if(w===null){x(e.exit("chunkFlow"),!0),g(0),e.consume(w);return}return It(w)?(e.consume(w),x(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(w),v)}function x(w,S){const C=t.sliceStream(w);if(S&&C.push(null),w.previous=i,i&&(i.next=w),i=w,a.defineSkip(w.start),a.write(C),t.parser.lazy[w.start.line]){let N=a.events.length;for(;N--;)if(a.events[N][1].start.offset<o&&(!a.events[N][1].end||a.events[N][1].end.offset>o))return;const M=t.events.length;let D=M,R,T;for(;D--;)if(t.events[D][0]==="exit"&&t.events[D][1].type==="chunkFlow"){if(R){T=t.events[D][1].end;break}R=!0}for(g(r),N=M;N<t.events.length;)t.events[N][1].end={...T},N++;ki(t.events,D+1,0,t.events.slice(M)),t.events.length=N}}function g(w){let S=n.length;for(;S-- >w;){const C=n[S];t.containerState=C[1],C[0].exit.call(t,e)}n.length=w}function b(){a.write([null]),i=void 0,a=void 0,t.containerState._closeFlow=void 0}}function boe(e,t,n){return hn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Hu(e){if(e===null||Rn(e)||Ac(e))return 1;if(my(e))return 2}function hy(e,t,n){const r=[];let a=-1;for(;++a<e.length;){const i=e[a].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const rw={name:"attention",resolveAll:xoe,tokenize:woe};function xoe(e,t){let n=-1,r,a,i,o,s,l,c,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},p={...e[n][1].start};oE(f,-l),oE(p,l),o={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},s={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:p},i={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},a={type:l>1?"strong":"emphasis",start:{...o.start},end:{...s.end}},e[r][1].end={...o.start},e[n][1].start={...s.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=$i(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=$i(c,[["enter",a,t],["enter",o,t],["exit",o,t],["enter",i,t]]),c=$i(c,hy(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=$i(c,[["exit",i,t],["enter",s,t],["exit",s,t],["exit",a,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,c=$i(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,ki(e,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function woe(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=Hu(r);let i;return o;function o(l){return i=l,e.enter("attentionSequence"),s(l)}function s(l){if(l===i)return e.consume(l),s;const c=e.exit("attentionSequence"),d=Hu(l),f=!d||d===2&&a||n.includes(l),p=!a||a===2&&d||n.includes(r);return c._open=!!(i===42?f:f&&(a||!p)),c._close=!!(i===42?p:p&&(d||!f)),t(l)}}function oE(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const koe={name:"autolink",tokenize:Soe};function Soe(e,t,n){let r=0;return a;function a(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(m){return Ia(m)?(e.consume(m),o):m===64?n(m):c(m)}function o(m){return m===43||m===45||m===46||Sa(m)?(r=1,s(m)):c(m)}function s(m){return m===58?(e.consume(m),r=0,l):(m===43||m===45||m===46||Sa(m))&&r++<32?(e.consume(m),s):(r=0,c(m))}function l(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||Lg(m)?n(m):(e.consume(m),l)}function c(m){return m===64?(e.consume(m),d):foe(m)?(e.consume(m),c):n(m)}function d(m){return Sa(m)?f(m):n(m)}function f(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):p(m)}function p(m){if((m===45||Sa(m))&&r++<63){const h=m===45?p:f;return e.consume(m),h}return n(m)}}const Rp={partial:!0,tokenize:Noe};function Noe(e,t,n){return r;function r(i){return cn(i)?hn(e,a,"linePrefix")(i):a(i)}function a(i){return i===null||It(i)?t(i):n(i)}}const DL={continuation:{tokenize:Coe},exit:Moe,name:"blockQuote",tokenize:joe};function joe(e,t,n){const r=this;return a;function a(o){if(o===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),i}return n(o)}function i(o){return cn(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function Coe(e,t,n){const r=this;return a;function a(o){return cn(o)?hn(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):i(o)}function i(o){return e.attempt(DL,t,n)(o)}}function Moe(e){e.exit("blockQuote")}const OL={name:"characterEscape",tokenize:Aoe};function Aoe(e,t,n){return r;function r(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),a}function a(i){return moe(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}const IL={name:"characterReference",tokenize:Eoe};function Eoe(e,t,n){const r=this;let a=0,i,o;return s;function s(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),i=31,o=Sa,d(f))}function c(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,o=poe,d):(e.enter("characterReferenceValue"),i=7,o=nw,d(f))}function d(f){if(f===59&&a){const p=e.exit("characterReferenceValue");return o===Sa&&!RS(r.sliceSerialize(p))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&a++<i?(e.consume(f),d):n(f)}}const sE={partial:!0,tokenize:Poe},lE={concrete:!0,name:"codeFenced",tokenize:Toe};function Toe(e,t,n){const r=this,a={partial:!0,tokenize:C};let i=0,o=0,s;return l;function l(N){return c(N)}function c(N){const M=r.events[r.events.length-1];return i=M&&M[1].type==="linePrefix"?M[2].sliceSerialize(M[1],!0).length:0,s=N,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(N)}function d(N){return N===s?(o++,e.consume(N),d):o<3?n(N):(e.exit("codeFencedFenceSequence"),cn(N)?hn(e,f,"whitespace")(N):f(N))}function f(N){return N===null||It(N)?(e.exit("codeFencedFence"),r.interrupt?t(N):e.check(sE,v,S)(N)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(N))}function p(N){return N===null||It(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(N)):cn(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),hn(e,m,"whitespace")(N)):N===96&&N===s?n(N):(e.consume(N),p)}function m(N){return N===null||It(N)?f(N):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),h(N))}function h(N){return N===null||It(N)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(N)):N===96&&N===s?n(N):(e.consume(N),h)}function v(N){return e.attempt(a,S,x)(N)}function x(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),g}function g(N){return i>0&&cn(N)?hn(e,b,"linePrefix",i+1)(N):b(N)}function b(N){return N===null||It(N)?e.check(sE,v,S)(N):(e.enter("codeFlowValue"),w(N))}function w(N){return N===null||It(N)?(e.exit("codeFlowValue"),b(N)):(e.consume(N),w)}function S(N){return e.exit("codeFenced"),t(N)}function C(N,M,D){let R=0;return T;function T(ee){return N.enter("lineEnding"),N.consume(ee),N.exit("lineEnding"),P}function P(ee){return N.enter("codeFencedFence"),cn(ee)?hn(N,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ee):O(ee)}function O(ee){return ee===s?(N.enter("codeFencedFenceSequence"),W(ee)):D(ee)}function W(ee){return ee===s?(R++,N.consume(ee),W):R>=o?(N.exit("codeFencedFenceSequence"),cn(ee)?hn(N,Q,"whitespace")(ee):Q(ee)):D(ee)}function Q(ee){return ee===null||It(ee)?(N.exit("codeFencedFence"),M(ee)):D(ee)}}}function Poe(e,t,n){const r=this;return a;function a(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i)}function i(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const Ev={name:"codeIndented",tokenize:Ooe},Doe={partial:!0,tokenize:Ioe};function Ooe(e,t,n){const r=this;return a;function a(c){return e.enter("codeIndented"),hn(e,i,"linePrefix",5)(c)}function i(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):It(c)?e.attempt(Doe,o,l)(c):(e.enter("codeFlowValue"),s(c))}function s(c){return c===null||It(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),s)}function l(c){return e.exit("codeIndented"),t(c)}}function Ioe(e,t,n){const r=this;return a;function a(o){return r.parser.lazy[r.now().line]?n(o):It(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):hn(e,i,"linePrefix",5)(o)}function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):It(o)?a(o):n(o)}}const _oe={name:"codeText",previous:Foe,resolve:Loe,tokenize:Roe};function Loe(e){let t=e.length-4,n=3,r,a;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)a===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(a=r):(r===t||e[r][1].type==="lineEnding")&&(e[a][1].type="codeTextData",r!==a+2&&(e[a][1].end=e[r-1][1].end,e.splice(a+2,r-a-2),t-=r-a-2,r=a+2),a=void 0);return e}function Foe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Roe(e,t,n){let r=0,a,i;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),s(f)}function s(f){return f===96?(e.consume(f),r++,s):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(i=e.enter("codeTextSequence"),a=0,d(f)):It(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||It(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),c)}function d(f){return f===96?(e.consume(f),a++,d):a===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(i.type="codeTextData",c(f))}}class $oe{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const a=n||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&Od(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Od(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Od(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Od(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Od(this.left,n.reverse())}}}function Od(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function _L(e){const t={};let n=-1,r,a,i,o,s,l,c;const d=new $oe(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,i=0,i<l.length&&l[i][1].type==="lineEndingBlank"&&(i+=2),i<l.length&&l[i][1].type==="content"))for(;++i<l.length&&l[i][1].type!=="content";)l[i][1].type==="chunkText"&&(l[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Boe(d,n)),n=t[n],c=!0);else if(r[1]._container){for(i=n,a=void 0;i--;)if(o=d.get(i),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(a&&(d.get(a)[1].type="lineEndingBlank"),o[1].type="lineEnding",a=i);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;a&&(r[1].end={...d.get(a)[1].start},s=d.slice(a,n),s.unshift(r),d.splice(a,n-a+1,s))}}return ki(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function Boe(e,t){const n=e.get(t)[1],r=e.get(t)[2];let a=t-1;const i=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const s=o.events,l=[],c={};let d,f,p=-1,m=n,h=0,v=0;const x=[v];for(;m;){for(;e.get(++a)[1]!==m;);i.push(a),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),f&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++p<s.length;)s[p][0]==="exit"&&s[p-1][0]==="enter"&&s[p][1].type===s[p-1][1].type&&s[p][1].start.line!==s[p][1].end.line&&(v=p+1,x.push(v),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):x.pop(),p=x.length;p--;){const g=s.slice(x[p],x[p+1]),b=i.pop();l.push([b,b+g.length-1]),e.splice(b,2,g)}for(l.reverse(),p=-1;++p<l.length;)c[h+l[p][0]]=h+l[p][1],h+=l[p][1]-l[p][0]-1;return c}const zoe={resolve:Voe,tokenize:Woe},Uoe={partial:!0,tokenize:Hoe};function Voe(e){return _L(e),e}function Woe(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),a(s)}function a(s){return s===null?i(s):It(s)?e.check(Uoe,o,i)(s):(e.consume(s),a)}function i(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function o(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function Hoe(e,t,n){const r=this;return a;function a(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),hn(e,i,"linePrefix")}function i(o){if(o===null||It(o))return n(o);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function LL(e,t,n,r,a,i,o,s,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(g){return g===60?(e.enter(r),e.enter(a),e.enter(i),e.consume(g),e.exit(i),p):g===null||g===32||g===41||Lg(g)?n(g):(e.enter(r),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),v(g))}function p(g){return g===62?(e.enter(i),e.consume(g),e.exit(i),e.exit(a),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),m(g))}function m(g){return g===62?(e.exit("chunkString"),e.exit(s),p(g)):g===null||g===60||It(g)?n(g):(e.consume(g),g===92?h:m)}function h(g){return g===60||g===62||g===92?(e.consume(g),m):m(g)}function v(g){return!d&&(g===null||g===41||Rn(g))?(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(r),t(g)):d<c&&g===40?(e.consume(g),d++,v):g===41?(e.consume(g),d--,v):g===null||g===32||g===40||Lg(g)?n(g):(e.consume(g),g===92?x:v)}function x(g){return g===40||g===41||g===92?(e.consume(g),v):v(g)}}function FL(e,t,n,r,a,i){const o=this;let s=0,l;return c;function c(m){return e.enter(r),e.enter(a),e.consume(m),e.exit(a),e.enter(i),d}function d(m){return s>999||m===null||m===91||m===93&&!l||m===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?n(m):m===93?(e.exit(i),e.enter(a),e.consume(m),e.exit(a),e.exit(r),t):It(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||It(m)||s++>999?(e.exit("chunkString"),d(m)):(e.consume(m),l||(l=!cn(m)),m===92?p:f)}function p(m){return m===91||m===92||m===93?(e.consume(m),s++,f):f(m)}}function RL(e,t,n,r,a,i){let o;return s;function s(p){return p===34||p===39||p===40?(e.enter(r),e.enter(a),e.consume(p),e.exit(a),o=p===40?41:p,l):n(p)}function l(p){return p===o?(e.enter(a),e.consume(p),e.exit(a),e.exit(r),t):(e.enter(i),c(p))}function c(p){return p===o?(e.exit(i),l(o)):p===null?n(p):It(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),hn(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===o||p===null||It(p)?(e.exit("chunkString"),c(p)):(e.consume(p),p===92?f:d)}function f(p){return p===o||p===92?(e.consume(p),d):d(p)}}function rf(e,t){let n;return r;function r(a){return It(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n=!0,r):cn(a)?hn(e,r,n?"linePrefix":"lineSuffix")(a):t(a)}}const qoe={name:"definition",tokenize:Yoe},Koe={partial:!0,tokenize:Goe};function Yoe(e,t,n){const r=this;let a;return i;function i(m){return e.enter("definition"),o(m)}function o(m){return FL.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function s(m){return a=fo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),l):n(m)}function l(m){return Rn(m)?rf(e,c)(m):c(m)}function c(m){return LL(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(Koe,f,f)(m)}function f(m){return cn(m)?hn(e,p,"whitespace")(m):p(m)}function p(m){return m===null||It(m)?(e.exit("definition"),r.parser.defined.push(a),t(m)):n(m)}}function Goe(e,t,n){return r;function r(s){return Rn(s)?rf(e,a)(s):n(s)}function a(s){return RL(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function i(s){return cn(s)?hn(e,o,"whitespace")(s):o(s)}function o(s){return s===null||It(s)?t(s):n(s)}}const Qoe={name:"hardBreakEscape",tokenize:Xoe};function Xoe(e,t,n){return r;function r(i){return e.enter("hardBreakEscape"),e.consume(i),a}function a(i){return It(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}const Zoe={name:"headingAtx",resolve:Joe,tokenize:ese};function Joe(e,t){let n=e.length-2,r=3,a,i;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(a={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},i={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},ki(e,r,n-r+1,[["enter",a,t],["enter",i,t],["exit",i,t],["exit",a,t]])),e}function ese(e,t,n){let r=0;return a;function a(d){return e.enter("atxHeading"),i(d)}function i(d){return e.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(e.consume(d),o):d===null||Rn(d)?(e.exit("atxHeadingSequence"),s(d)):n(d)}function s(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||It(d)?(e.exit("atxHeading"),t(d)):cn(d)?hn(e,s,"whitespace")(d):(e.enter("atxHeadingText"),c(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),s(d))}function c(d){return d===null||d===35||Rn(d)?(e.exit("atxHeadingText"),s(d)):(e.consume(d),c)}}const tse=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],cE=["pre","script","style","textarea"],nse={concrete:!0,name:"htmlFlow",resolveTo:ise,tokenize:ose},rse={partial:!0,tokenize:lse},ase={partial:!0,tokenize:sse};function ise(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function ose(e,t,n){const r=this;let a,i,o,s,l;return c;function c(j){return d(j)}function d(j){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(j),f}function f(j){return j===33?(e.consume(j),p):j===47?(e.consume(j),i=!0,v):j===63?(e.consume(j),a=3,r.interrupt?t:k):Ia(j)?(e.consume(j),o=String.fromCharCode(j),x):n(j)}function p(j){return j===45?(e.consume(j),a=2,m):j===91?(e.consume(j),a=5,s=0,h):Ia(j)?(e.consume(j),a=4,r.interrupt?t:k):n(j)}function m(j){return j===45?(e.consume(j),r.interrupt?t:k):n(j)}function h(j){const L="CDATA[";return j===L.charCodeAt(s++)?(e.consume(j),s===L.length?r.interrupt?t:O:h):n(j)}function v(j){return Ia(j)?(e.consume(j),o=String.fromCharCode(j),x):n(j)}function x(j){if(j===null||j===47||j===62||Rn(j)){const L=j===47,G=o.toLowerCase();return!L&&!i&&cE.includes(G)?(a=1,r.interrupt?t(j):O(j)):tse.includes(o.toLowerCase())?(a=6,L?(e.consume(j),g):r.interrupt?t(j):O(j)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(j):i?b(j):w(j))}return j===45||Sa(j)?(e.consume(j),o+=String.fromCharCode(j),x):n(j)}function g(j){return j===62?(e.consume(j),r.interrupt?t:O):n(j)}function b(j){return cn(j)?(e.consume(j),b):T(j)}function w(j){return j===47?(e.consume(j),T):j===58||j===95||Ia(j)?(e.consume(j),S):cn(j)?(e.consume(j),w):T(j)}function S(j){return j===45||j===46||j===58||j===95||Sa(j)?(e.consume(j),S):C(j)}function C(j){return j===61?(e.consume(j),N):cn(j)?(e.consume(j),C):w(j)}function N(j){return j===null||j===60||j===61||j===62||j===96?n(j):j===34||j===39?(e.consume(j),l=j,M):cn(j)?(e.consume(j),N):D(j)}function M(j){return j===l?(e.consume(j),l=null,R):j===null||It(j)?n(j):(e.consume(j),M)}function D(j){return j===null||j===34||j===39||j===47||j===60||j===61||j===62||j===96||Rn(j)?C(j):(e.consume(j),D)}function R(j){return j===47||j===62||cn(j)?w(j):n(j)}function T(j){return j===62?(e.consume(j),P):n(j)}function P(j){return j===null||It(j)?O(j):cn(j)?(e.consume(j),P):n(j)}function O(j){return j===45&&a===2?(e.consume(j),ue):j===60&&a===1?(e.consume(j),z):j===62&&a===4?(e.consume(j),I):j===63&&a===3?(e.consume(j),k):j===93&&a===5?(e.consume(j),ie):It(j)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(rse,E,W)(j)):j===null||It(j)?(e.exit("htmlFlowData"),W(j)):(e.consume(j),O)}function W(j){return e.check(ase,Q,E)(j)}function Q(j){return e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),ee}function ee(j){return j===null||It(j)?W(j):(e.enter("htmlFlowData"),O(j))}function ue(j){return j===45?(e.consume(j),k):O(j)}function z(j){return j===47?(e.consume(j),o="",B):O(j)}function B(j){if(j===62){const L=o.toLowerCase();return cE.includes(L)?(e.consume(j),I):O(j)}return Ia(j)&&o.length<8?(e.consume(j),o+=String.fromCharCode(j),B):O(j)}function ie(j){return j===93?(e.consume(j),k):O(j)}function k(j){return j===62?(e.consume(j),I):j===45&&a===2?(e.consume(j),k):O(j)}function I(j){return j===null||It(j)?(e.exit("htmlFlowData"),E(j)):(e.consume(j),I)}function E(j){return e.exit("htmlFlow"),t(j)}}function sse(e,t,n){const r=this;return a;function a(o){return It(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):n(o)}function i(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function lse(e,t,n){return r;function r(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(Rp,t,n)}}const cse={name:"htmlText",tokenize:use};function use(e,t,n){const r=this;let a,i,o;return s;function s(k){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(k),l}function l(k){return k===33?(e.consume(k),c):k===47?(e.consume(k),C):k===63?(e.consume(k),w):Ia(k)?(e.consume(k),D):n(k)}function c(k){return k===45?(e.consume(k),d):k===91?(e.consume(k),i=0,h):Ia(k)?(e.consume(k),b):n(k)}function d(k){return k===45?(e.consume(k),m):n(k)}function f(k){return k===null?n(k):k===45?(e.consume(k),p):It(k)?(o=f,z(k)):(e.consume(k),f)}function p(k){return k===45?(e.consume(k),m):f(k)}function m(k){return k===62?ue(k):k===45?p(k):f(k)}function h(k){const I="CDATA[";return k===I.charCodeAt(i++)?(e.consume(k),i===I.length?v:h):n(k)}function v(k){return k===null?n(k):k===93?(e.consume(k),x):It(k)?(o=v,z(k)):(e.consume(k),v)}function x(k){return k===93?(e.consume(k),g):v(k)}function g(k){return k===62?ue(k):k===93?(e.consume(k),g):v(k)}function b(k){return k===null||k===62?ue(k):It(k)?(o=b,z(k)):(e.consume(k),b)}function w(k){return k===null?n(k):k===63?(e.consume(k),S):It(k)?(o=w,z(k)):(e.consume(k),w)}function S(k){return k===62?ue(k):w(k)}function C(k){return Ia(k)?(e.consume(k),N):n(k)}function N(k){return k===45||Sa(k)?(e.consume(k),N):M(k)}function M(k){return It(k)?(o=M,z(k)):cn(k)?(e.consume(k),M):ue(k)}function D(k){return k===45||Sa(k)?(e.consume(k),D):k===47||k===62||Rn(k)?R(k):n(k)}function R(k){return k===47?(e.consume(k),ue):k===58||k===95||Ia(k)?(e.consume(k),T):It(k)?(o=R,z(k)):cn(k)?(e.consume(k),R):ue(k)}function T(k){return k===45||k===46||k===58||k===95||Sa(k)?(e.consume(k),T):P(k)}function P(k){return k===61?(e.consume(k),O):It(k)?(o=P,z(k)):cn(k)?(e.consume(k),P):R(k)}function O(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),a=k,W):It(k)?(o=O,z(k)):cn(k)?(e.consume(k),O):(e.consume(k),Q)}function W(k){return k===a?(e.consume(k),a=void 0,ee):k===null?n(k):It(k)?(o=W,z(k)):(e.consume(k),W)}function Q(k){return k===null||k===34||k===39||k===60||k===61||k===96?n(k):k===47||k===62||Rn(k)?R(k):(e.consume(k),Q)}function ee(k){return k===47||k===62||Rn(k)?R(k):n(k)}function ue(k){return k===62?(e.consume(k),e.exit("htmlTextData"),e.exit("htmlText"),t):n(k)}function z(k){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),B}function B(k){return cn(k)?hn(e,ie,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):ie(k)}function ie(k){return e.enter("htmlTextData"),o(k)}}const $S={name:"labelEnd",resolveAll:mse,resolveTo:hse,tokenize:gse},dse={tokenize:yse},fse={tokenize:vse},pse={tokenize:bse};function mse(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",t+=a}}return e.length!==n.length&&ki(e,0,e.length,n),e}function hse(e,t){let n=e.length,r=0,a,i,o,s;for(;n--;)if(a=e[n][1],i){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(i=n,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(o=n);const l={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[i][1].start},end:{...e[o][1].end}},d={type:"labelText",start:{...e[i+r+2][1].end},end:{...e[o-2][1].start}};return s=[["enter",l,t],["enter",c,t]],s=$i(s,e.slice(i+1,i+r+3)),s=$i(s,[["enter",d,t]]),s=$i(s,hy(t.parser.constructs.insideSpan.null,e.slice(i+r+4,o-3),t)),s=$i(s,[["exit",d,t],e[o-2],e[o-1],["exit",c,t]]),s=$i(s,e.slice(o+1)),s=$i(s,[["exit",l,t]]),ki(e,i,e.length,s),e}function gse(e,t,n){const r=this;let a=r.events.length,i,o;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){i=r.events[a][1];break}return s;function s(p){return i?i._inactive?f(p):(o=r.parser.defined.includes(fo(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),l):n(p)}function l(p){return p===40?e.attempt(dse,d,o?d:f)(p):p===91?e.attempt(fse,d,o?c:f)(p):o?d(p):f(p)}function c(p){return e.attempt(pse,d,f)(p)}function d(p){return t(p)}function f(p){return i._balanced=!0,n(p)}}function yse(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),a}function a(f){return Rn(f)?rf(e,i)(f):i(f)}function i(f){return f===41?d(f):LL(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return Rn(f)?rf(e,l)(f):d(f)}function s(f){return n(f)}function l(f){return f===34||f===39||f===40?RL(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function c(f){return Rn(f)?rf(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function vse(e,t,n){const r=this;return a;function a(s){return FL.call(r,e,i,o,"reference","referenceMarker","referenceString")(s)}function i(s){return r.parser.defined.includes(fo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function o(s){return n(s)}}function bse(e,t,n){return r;function r(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),a}function a(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}const xse={name:"labelStartImage",resolveAll:$S.resolveAll,tokenize:wse};function wse(e,t,n){const r=this;return a;function a(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),i}function i(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),o):n(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const kse={name:"labelStartLink",resolveAll:$S.resolveAll,tokenize:Sse};function Sse(e,t,n){const r=this;return a;function a(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),i}function i(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const Tv={name:"lineEnding",tokenize:Nse};function Nse(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),hn(e,t,"linePrefix")}}const uh={name:"thematicBreak",tokenize:jse};function jse(e,t,n){let r=0,a;return i;function i(c){return e.enter("thematicBreak"),o(c)}function o(c){return a=c,s(c)}function s(c){return c===a?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||It(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===a?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),cn(c)?hn(e,s,"whitespace")(c):s(c))}}const qa={continuation:{tokenize:Ese},exit:Pse,name:"list",tokenize:Ase},Cse={partial:!0,tokenize:Dse},Mse={partial:!0,tokenize:Tse};function Ase(e,t,n){const r=this,a=r.events[r.events.length-1];let i=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,o=0;return s;function s(m){const h=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(h==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:nw(m)){if(r.containerState.type||(r.containerState.type=h,e.enter(h,{_container:!0})),h==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(uh,n,c)(m):c(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(m)}return n(m)}function l(m){return nw(m)&&++o<10?(e.consume(m),l):(!r.interrupt||o<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),c(m)):n(m)}function c(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(Rp,r.interrupt?n:d,e.attempt(Cse,p,f))}function d(m){return r.containerState.initialBlankLine=!0,i++,p(m)}function f(m){return cn(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function Ese(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Rp,a,i);function a(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,hn(e,t,"listItemIndent",r.containerState.size+1)(s)}function i(s){return r.containerState.furtherBlankLines||!cn(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Mse,t,o)(s))}function o(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,hn(e,e.attempt(qa,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function Tse(e,t,n){const r=this;return hn(e,a,"listItemIndent",r.containerState.size+1);function a(i){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(i):n(i)}}function Pse(e){e.exit(this.containerState.type)}function Dse(e,t,n){const r=this;return hn(e,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(i){const o=r.events[r.events.length-1];return!cn(i)&&o&&o[1].type==="listItemPrefixWhitespace"?t(i):n(i)}}const uE={name:"setextUnderline",resolveTo:Ose,tokenize:Ise};function Ose(e,t){let n=e.length,r,a,i;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(a=n)}else e[n][1].type==="content"&&e.splice(n,1),!i&&e[n][1].type==="definition"&&(i=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",i?(e.splice(a,0,["enter",o,t]),e.splice(i+1,0,["exit",e[r][1],t]),e[r][1].end={...e[i][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function Ise(e,t,n){const r=this;let a;return i;function i(c){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),a=c,o(c)):n(c)}function o(c){return e.enter("setextHeadingLineSequence"),s(c)}function s(c){return c===a?(e.consume(c),s):(e.exit("setextHeadingLineSequence"),cn(c)?hn(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||It(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const _se={tokenize:Lse};function Lse(e){const t=this,n=e.attempt(Rp,r,e.attempt(this.parser.constructs.flowInitial,a,hn(e,e.attempt(this.parser.constructs.flow,a,e.attempt(zoe,a)),"linePrefix")));return n;function r(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function a(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Fse={resolveAll:BL()},Rse=$L("string"),$se=$L("text");function $L(e){return{resolveAll:BL(e==="text"?Bse:void 0),tokenize:t};function t(n){const r=this,a=this.parser.constructs[e],i=n.attempt(a,o,s);return o;function o(d){return c(d)?i(d):s(d)}function s(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return c(d)?(n.exit("data"),i(d)):(n.consume(d),l)}function c(d){if(d===null)return!0;const f=a[d];let p=-1;if(f)for(;++p<f.length;){const m=f[p];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function BL(e){return t;function t(n,r){let a=-1,i;for(;++a<=n.length;)i===void 0?n[a]&&n[a][1].type==="data"&&(i=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==i+2&&(n[i][1].end=n[a-1][1].end,n.splice(i+2,a-i-2),a=i+2),i=void 0);return e?e(n,r):n}}function Bse(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],a=t.sliceStream(r);let i=a.length,o=-1,s=0,l;for(;i--;){const c=a[i];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(c===-2)l=!0,s++;else if(c!==-1){i++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(s=0),s){const c={type:n===e.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?o:r.start._bufferIndex+o,_index:r.start._index+i,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const zse={42:qa,43:qa,45:qa,48:qa,49:qa,50:qa,51:qa,52:qa,53:qa,54:qa,55:qa,56:qa,57:qa,62:DL},Use={91:qoe},Vse={[-2]:Ev,[-1]:Ev,32:Ev},Wse={35:Zoe,42:uh,45:[uE,uh],60:nse,61:uE,95:uh,96:lE,126:lE},Hse={38:IL,92:OL},qse={[-5]:Tv,[-4]:Tv,[-3]:Tv,33:xse,38:IL,42:rw,60:[koe,cse],91:kse,92:[Qoe,OL],93:$S,95:rw,96:_oe},Kse={null:[rw,Fse]},Yse={null:[42,95]},Gse={null:[]},Qse=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Yse,contentInitial:Use,disable:Gse,document:zse,flow:Wse,flowInitial:Vse,insideSpan:Kse,string:Hse,text:qse},Symbol.toStringTag,{value:"Module"}));function Xse(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},i=[];let o=[],s=[];const l={attempt:M(C),check:M(N),consume:b,enter:w,exit:S,interrupt:M(N,{interrupt:!0})},c={code:null,containerState:{},defineSkip:v,events:[],now:h,parser:e,previous:null,sliceSerialize:p,sliceStream:m,write:f};let d=t.tokenize.call(c,l);return t.resolveAll&&i.push(t),c;function f(P){return o=$i(o,P),x(),o[o.length-1]!==null?[]:(D(t,0),c.events=hy(i,c.events,c),c.events)}function p(P,O){return Jse(m(P),O)}function m(P){return Zse(o,P)}function h(){const{_bufferIndex:P,_index:O,line:W,column:Q,offset:ee}=r;return{_bufferIndex:P,_index:O,line:W,column:Q,offset:ee}}function v(P){a[P.line]=P.column,T()}function x(){let P;for(;r._index<o.length;){const O=o[r._index];if(typeof O=="string")for(P=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===P&&r._bufferIndex<O.length;)g(O.charCodeAt(r._bufferIndex));else g(O)}}function g(P){d=d(P)}function b(P){It(P)?(r.line++,r.column=1,r.offset+=P===-3?2:1,T()):P!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=P}function w(P,O){const W=O||{};return W.type=P,W.start=h(),c.events.push(["enter",W,c]),s.push(W),W}function S(P){const O=s.pop();return O.end=h(),c.events.push(["exit",O,c]),O}function C(P,O){D(P,O.from)}function N(P,O){O.restore()}function M(P,O){return W;function W(Q,ee,ue){let z,B,ie,k;return Array.isArray(Q)?E(Q):"tokenize"in Q?E([Q]):I(Q);function I(Z){return Y;function Y(q){const _=q!==null&&Z[q],ne=q!==null&&Z.null,re=[...Array.isArray(_)?_:_?[_]:[],...Array.isArray(ne)?ne:ne?[ne]:[]];return E(re)(q)}}function E(Z){return z=Z,B=0,Z.length===0?ue:j(Z[B])}function j(Z){return Y;function Y(q){return k=R(),ie=Z,Z.partial||(c.currentConstruct=Z),Z.name&&c.parser.constructs.disable.null.includes(Z.name)?G():Z.tokenize.call(O?Object.assign(Object.create(c),O):c,l,L,G)(q)}}function L(Z){return P(ie,k),ee}function G(Z){return k.restore(),++B<z.length?j(z[B]):ue}}}function D(P,O){P.resolveAll&&!i.includes(P)&&i.push(P),P.resolve&&ki(c.events,O,c.events.length-O,P.resolve(c.events.slice(O),c)),P.resolveTo&&(c.events=P.resolveTo(c.events,c))}function R(){const P=h(),O=c.previous,W=c.currentConstruct,Q=c.events.length,ee=Array.from(s);return{from:Q,restore:ue};function ue(){r=P,c.previous=O,c.currentConstruct=W,c.events.length=Q,s=ee,T()}}function T(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function Zse(e,t){const n=t.start._index,r=t.start._bufferIndex,a=t.end._index,i=t.end._bufferIndex;let o;if(n===a)o=[e[n].slice(r,i)];else{if(o=e.slice(n,a),r>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(r):o.shift()}i>0&&o.push(e[a].slice(0,i))}return o}function Jse(e,t){let n=-1;const r=[];let a;for(;++n<e.length;){const i=e[n];let o;if(typeof i=="string")o=i;else switch(i){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&a)continue;o=" ";break}default:o=String.fromCharCode(i)}a=i===-2,r.push(o)}return r.join("")}function ele(e){const t={constructs:TL([Qse,...(e||{}).extensions||[]]),content:n(hoe),defined:[],document:n(yoe),flow:n(_se),lazy:{},string:n(Rse),text:n($se)};return t;function n(r){return a;function a(i){return Xse(t,r,i)}}}function tle(e){for(;!_L(e););return e}const dE=/[\0\t\n\r]/g;function nle(){let e=1,t="",n=!0,r;return a;function a(i,o,s){const l=[];let c,d,f,p,m;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(o||void 0).decode(i)),f=0,t="",n&&(i.charCodeAt(0)===65279&&f++,n=void 0);f<i.length;){if(dE.lastIndex=f,c=dE.exec(i),p=c&&c.index!==void 0?c.index:i.length,m=i.charCodeAt(p),!c){t=i.slice(f);break}if(m===10&&f===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<p&&(l.push(i.slice(f,p)),e+=p-f),m){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=p+1}return s&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const rle=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function ale(e){return e.replace(rle,ile)}function ile(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const r=n.charCodeAt(1),a=r===120||r===88;return PL(n.slice(a?2:1),a?16:10)}return RS(n)||e}const zL={}.hasOwnProperty;function ole(e,t,n){return typeof t!="string"&&(n=t,t=void 0),sle(n)(tle(ele(n).document().write(nle()(e,t,!0))))}function sle(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(de),autolinkProtocol:R,autolinkEmail:R,atxHeading:i($),blockQuote:i(ne),characterEscape:R,characterReference:R,codeFenced:i(re),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:i(re,o),codeText:i(F,o),codeTextData:R,data:R,codeFlowValue:R,definition:i(ae),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:i(H),hardBreakEscape:i(le),hardBreakTrailing:i(le),htmlFlow:i(we,o),htmlFlowData:R,htmlText:i(we,o),htmlTextData:R,image:i(et),label:o,link:i(de),listItem:i(Re),listItemValue:p,listOrdered:i(Ye,f),listUnordered:i(Ye),paragraph:i(ht),reference:j,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:i($),strong:i(Xt),thematicBreak:i(Cn)},exit:{atxHeading:l(),atxHeadingSequence:C,autolink:l(),autolinkEmail:_,autolinkProtocol:q,blockQuote:l(),characterEscapeValue:T,characterReferenceMarkerHexadecimal:G,characterReferenceMarkerNumeric:G,characterReferenceValue:Z,characterReference:Y,codeFenced:l(x),codeFencedFence:v,codeFencedFenceInfo:m,codeFencedFenceMeta:h,codeFlowValue:T,codeIndented:l(g),codeText:l(ee),codeTextData:T,data:T,definition:l(),definitionDestinationString:S,definitionLabelString:b,definitionTitleString:w,emphasis:l(),hardBreakEscape:l(O),hardBreakTrailing:l(O),htmlFlow:l(W),htmlFlowData:T,htmlText:l(Q),htmlTextData:T,image:l(z),label:ie,labelText:B,lineEnding:P,link:l(ue),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:L,resourceDestinationString:k,resourceTitleString:I,resource:E,setextHeading:l(D),setextHeadingLineSequence:M,setextHeadingText:N,strong:l(),thematicBreak:l()}};UL(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ge){let Ie={type:"root",children:[]};const Pt={stack:[Ie],tokenStack:[],config:t,enter:s,exit:c,buffer:o,resume:d,data:n},Kt=[];let an=-1;for(;++an<ge.length;)if(ge[an][1].type==="listOrdered"||ge[an][1].type==="listUnordered")if(ge[an][0]==="enter")Kt.push(an);else{const Tr=Kt.pop();an=a(ge,Tr,an)}for(an=-1;++an<ge.length;){const Tr=t[ge[an][0]];zL.call(Tr,ge[an][1].type)&&Tr[ge[an][1].type].call(Object.assign({sliceSerialize:ge[an][2].sliceSerialize},Pt),ge[an][1])}if(Pt.tokenStack.length>0){const Tr=Pt.tokenStack[Pt.tokenStack.length-1];(Tr[1]||fE).call(Pt,void 0,Tr[0])}for(Ie.position={start:Ws(ge.length>0?ge[0][1].start:{line:1,column:1,offset:0}),end:Ws(ge.length>0?ge[ge.length-2][1].end:{line:1,column:1,offset:0})},an=-1;++an<t.transforms.length;)Ie=t.transforms[an](Ie)||Ie;return Ie}function a(ge,Ie,Pt){let Kt=Ie-1,an=-1,Tr=!1,Ua,fa,yr,Ca;for(;++Kt<=Pt;){const en=ge[Kt];switch(en[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{en[0]==="enter"?an++:an--,Ca=void 0;break}case"lineEndingBlank":{en[0]==="enter"&&(Ua&&!Ca&&!an&&!yr&&(yr=Kt),Ca=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ca=void 0}if(!an&&en[0]==="enter"&&en[1].type==="listItemPrefix"||an===-1&&en[0]==="exit"&&(en[1].type==="listUnordered"||en[1].type==="listOrdered")){if(Ua){let Wt=Kt;for(fa=void 0;Wt--;){const Ma=ge[Wt];if(Ma[1].type==="lineEnding"||Ma[1].type==="lineEndingBlank"){if(Ma[0]==="exit")continue;fa&&(ge[fa][1].type="lineEndingBlank",Tr=!0),Ma[1].type="lineEnding",fa=Wt}else if(!(Ma[1].type==="linePrefix"||Ma[1].type==="blockQuotePrefix"||Ma[1].type==="blockQuotePrefixWhitespace"||Ma[1].type==="blockQuoteMarker"||Ma[1].type==="listItemIndent"))break}yr&&(!fa||yr<fa)&&(Ua._spread=!0),Ua.end=Object.assign({},fa?ge[fa][1].start:en[1].end),ge.splice(fa||Kt,0,["exit",Ua,en[2]]),Kt++,Pt++}if(en[1].type==="listItemPrefix"){const Wt={type:"listItem",_spread:!1,start:Object.assign({},en[1].start),end:void 0};Ua=Wt,ge.splice(Kt,0,["enter",Wt,en[2]]),Kt++,Pt++,yr=void 0,Ca=!0}}}return ge[Ie][1]._spread=Tr,Pt}function i(ge,Ie){return Pt;function Pt(Kt){s.call(this,ge(Kt),Kt),Ie&&Ie.call(this,Kt)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(ge,Ie,Pt){this.stack[this.stack.length-1].children.push(ge),this.stack.push(ge),this.tokenStack.push([Ie,Pt||void 0]),ge.position={start:Ws(Ie.start),end:void 0}}function l(ge){return Ie;function Ie(Pt){ge&&ge.call(this,Pt),c.call(this,Pt)}}function c(ge,Ie){const Pt=this.stack.pop(),Kt=this.tokenStack.pop();if(Kt)Kt[0].type!==ge.type&&(Ie?Ie.call(this,ge,Kt[0]):(Kt[1]||fE).call(this,ge,Kt[0]));else throw new Error("Cannot close `"+ge.type+"` ("+nf({start:ge.start,end:ge.end})+"): its not open");Pt.position.end=Ws(ge.end)}function d(){return FS(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function p(ge){if(this.data.expectingFirstListItemValue){const Ie=this.stack[this.stack.length-2];Ie.start=Number.parseInt(this.sliceSerialize(ge),10),this.data.expectingFirstListItemValue=void 0}}function m(){const ge=this.resume(),Ie=this.stack[this.stack.length-1];Ie.lang=ge}function h(){const ge=this.resume(),Ie=this.stack[this.stack.length-1];Ie.meta=ge}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const ge=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=ge.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function g(){const ge=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=ge.replace(/(\r?\n|\r)$/g,"")}function b(ge){const Ie=this.resume(),Pt=this.stack[this.stack.length-1];Pt.label=Ie,Pt.identifier=fo(this.sliceSerialize(ge)).toLowerCase()}function w(){const ge=this.resume(),Ie=this.stack[this.stack.length-1];Ie.title=ge}function S(){const ge=this.resume(),Ie=this.stack[this.stack.length-1];Ie.url=ge}function C(ge){const Ie=this.stack[this.stack.length-1];if(!Ie.depth){const Pt=this.sliceSerialize(ge).length;Ie.depth=Pt}}function N(){this.data.setextHeadingSlurpLineEnding=!0}function M(ge){const Ie=this.stack[this.stack.length-1];Ie.depth=this.sliceSerialize(ge).codePointAt(0)===61?1:2}function D(){this.data.setextHeadingSlurpLineEnding=void 0}function R(ge){const Ie=this.stack[this.stack.length-1].children;let Pt=Ie[Ie.length-1];(!Pt||Pt.type!=="text")&&(Pt=Tn(),Pt.position={start:Ws(ge.start),end:void 0},Ie.push(Pt)),this.stack.push(Pt)}function T(ge){const Ie=this.stack.pop();Ie.value+=this.sliceSerialize(ge),Ie.position.end=Ws(ge.end)}function P(ge){const Ie=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Pt=Ie.children[Ie.children.length-1];Pt.position.end=Ws(ge.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Ie.type)&&(R.call(this,ge),T.call(this,ge))}function O(){this.data.atHardBreak=!0}function W(){const ge=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=ge}function Q(){const ge=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=ge}function ee(){const ge=this.resume(),Ie=this.stack[this.stack.length-1];Ie.value=ge}function ue(){const ge=this.stack[this.stack.length-1];if(this.data.inReference){const Ie=this.data.referenceType||"shortcut";ge.type+="Reference",ge.referenceType=Ie,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;this.data.referenceType=void 0}function z(){const ge=this.stack[this.stack.length-1];if(this.data.inReference){const Ie=this.data.referenceType||"shortcut";ge.type+="Reference",ge.referenceType=Ie,delete ge.url,delete ge.title}else delete ge.identifier,delete ge.label;this.data.referenceType=void 0}function B(ge){const Ie=this.sliceSerialize(ge),Pt=this.stack[this.stack.length-2];Pt.label=ale(Ie),Pt.identifier=fo(Ie).toLowerCase()}function ie(){const ge=this.stack[this.stack.length-1],Ie=this.resume(),Pt=this.stack[this.stack.length-1];if(this.data.inReference=!0,Pt.type==="link"){const Kt=ge.children;Pt.children=Kt}else Pt.alt=Ie}function k(){const ge=this.resume(),Ie=this.stack[this.stack.length-1];Ie.url=ge}function I(){const ge=this.resume(),Ie=this.stack[this.stack.length-1];Ie.title=ge}function E(){this.data.inReference=void 0}function j(){this.data.referenceType="collapsed"}function L(ge){const Ie=this.resume(),Pt=this.stack[this.stack.length-1];Pt.label=Ie,Pt.identifier=fo(this.sliceSerialize(ge)).toLowerCase(),this.data.referenceType="full"}function G(ge){this.data.characterReferenceType=ge.type}function Z(ge){const Ie=this.sliceSerialize(ge),Pt=this.data.characterReferenceType;let Kt;Pt?(Kt=PL(Ie,Pt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Kt=RS(Ie);const an=this.stack[this.stack.length-1];an.value+=Kt}function Y(ge){const Ie=this.stack.pop();Ie.position.end=Ws(ge.end)}function q(ge){T.call(this,ge);const Ie=this.stack[this.stack.length-1];Ie.url=this.sliceSerialize(ge)}function _(ge){T.call(this,ge);const Ie=this.stack[this.stack.length-1];Ie.url="mailto:"+this.sliceSerialize(ge)}function ne(){return{type:"blockquote",children:[]}}function re(){return{type:"code",lang:null,meta:null,value:""}}function F(){return{type:"inlineCode",value:""}}function ae(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function H(){return{type:"emphasis",children:[]}}function $(){return{type:"heading",depth:0,children:[]}}function le(){return{type:"break"}}function we(){return{type:"html",value:""}}function et(){return{type:"image",title:null,url:"",alt:null}}function de(){return{type:"link",title:null,url:"",children:[]}}function Ye(ge){return{type:"list",ordered:ge.type==="listOrdered",start:null,spread:ge._spread,children:[]}}function Re(ge){return{type:"listItem",spread:ge._spread,checked:null,children:[]}}function ht(){return{type:"paragraph",children:[]}}function Xt(){return{type:"strong",children:[]}}function Tn(){return{type:"text",value:""}}function Cn(){return{type:"thematicBreak"}}}function Ws(e){return{line:e.line,column:e.column,offset:e.offset}}function UL(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?UL(e,r):lle(e,r)}}function lle(e,t){let n;for(n in t)if(zL.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function fE(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+nf({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+nf({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+nf({start:t.start,end:t.end})+") is still open")}function cle(e){const t=this;t.parser=n;function n(r){return ole(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function ule(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function dle(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function fle(e,t){const n=t.value?t.value+`
`:"",r={},a=t.lang?t.lang.split(/\s+/):[];a.length>0&&(r.className=["language-"+a[0]]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function ple(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function mle(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function hle(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),a=ld(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);let o,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=i+1,s+=1,e.footnoteCounts.set(r,s);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function gle(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function yle(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function VL(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const a=e.all(t),i=a[0];i&&i.type==="text"?i.value="["+i.value:a.unshift({type:"text",value:"["});const o=a[a.length-1];return o&&o.type==="text"?o.value+=r:a.push({type:"text",value:r}),a}function vle(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return VL(e,t);const a={src:ld(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,i),e.applyData(t,i)}function ble(e,t){const n={src:ld(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function xle(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function wle(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return VL(e,t);const a={href:ld(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function kle(e,t){const n={href:ld(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Sle(e,t,n){const r=e.all(t),a=n?Nle(n):WL(t),i={},o=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const d=r[s];(a||s!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!a?o.push(...d.children):o.push(d)}const l=r[r.length-1];l&&(a||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:i,children:o};return e.patch(t,c),e.applyData(t,c)}function Nle(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=WL(n[r])}return t}function WL(e){return e.spread??e.children.length>1}function jle(e,t){const n={},r=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++a<r.length;){const o=r[a];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)}function Cle(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Mle(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Ale(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Ele(e,t){const n=e.all(t),r=n.shift(),a=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),a.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=OS(t.children[1]),l=SL(t.children[t.children.length-1]);s&&l&&(o.position={start:s,end:l}),a.push(o)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,i),e.applyData(t,i)}function Tle(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",i=n&&n.type==="table"?n.align:void 0,o=i?i.length:t.children.length;let s=-1;const l=[];for(;++s<o;){const d=t.children[s],f={},p=i?i[s]:void 0;p&&(f.align=p);let m={type:"element",tagName:a,properties:f,children:[]};d&&(m.children=e.all(d),e.patch(d,m),m=e.applyData(d,m)),l.push(m)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,c),e.applyData(t,c)}function Ple(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const pE=9,mE=32;function Dle(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),a=0;const i=[];for(;r;)i.push(hE(t.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(t);return i.push(hE(t.slice(a),a>0,!1)),i.join("")}function hE(e,t,n){let r=0,a=e.length;if(t){let i=e.codePointAt(r);for(;i===pE||i===mE;)r++,i=e.codePointAt(r)}if(n){let i=e.codePointAt(a-1);for(;i===pE||i===mE;)a--,i=e.codePointAt(a-1)}return a>r?e.slice(r,a):""}function Ole(e,t){const n={type:"text",value:Dle(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Ile(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const _le={blockquote:ule,break:dle,code:fle,delete:ple,emphasis:mle,footnoteReference:hle,heading:gle,html:yle,imageReference:vle,image:ble,inlineCode:xle,linkReference:wle,link:kle,listItem:Sle,list:jle,paragraph:Cle,root:Mle,strong:Ale,table:Ele,tableCell:Ple,tableRow:Tle,text:Ole,thematicBreak:Ile,toml:Im,yaml:Im,definition:Im,footnoteDefinition:Im};function Im(){}const HL=-1,gy=0,af=1,Fg=2,BS=3,zS=4,US=5,VS=6,qL=7,KL=8,gE=typeof self=="object"?self:globalThis,Lle=(e,t)=>{const n=(a,i)=>(e.set(i,a),a),r=a=>{if(e.has(a))return e.get(a);const[i,o]=t[a];switch(i){case gy:case HL:return n(o,a);case af:{const s=n([],a);for(const l of o)s.push(r(l));return s}case Fg:{const s=n({},a);for(const[l,c]of o)s[r(l)]=r(c);return s}case BS:return n(new Date(o),a);case zS:{const{source:s,flags:l}=o;return n(new RegExp(s,l),a)}case US:{const s=n(new Map,a);for(const[l,c]of o)s.set(r(l),r(c));return s}case VS:{const s=n(new Set,a);for(const l of o)s.add(r(l));return s}case qL:{const{name:s,message:l}=o;return n(new gE[s](l),a)}case KL:return n(BigInt(o),a);case"BigInt":return n(Object(BigInt(o)),a);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:s}=new Uint8Array(o);return n(new DataView(s),o)}}return n(new gE[i](o),a)};return r},yE=e=>Lle(new Map,e)(0),Gc="",{toString:Fle}={},{keys:Rle}=Object,Id=e=>{const t=typeof e;if(t!=="object"||!e)return[gy,t];const n=Fle.call(e).slice(8,-1);switch(n){case"Array":return[af,Gc];case"Object":return[Fg,Gc];case"Date":return[BS,Gc];case"RegExp":return[zS,Gc];case"Map":return[US,Gc];case"Set":return[VS,Gc];case"DataView":return[af,n]}return n.includes("Array")?[af,n]:n.includes("Error")?[qL,n]:[Fg,n]},_m=([e,t])=>e===gy&&(t==="function"||t==="symbol"),$le=(e,t,n,r)=>{const a=(o,s)=>{const l=r.push(o)-1;return n.set(s,l),l},i=o=>{if(n.has(o))return n.get(o);let[s,l]=Id(o);switch(s){case gy:{let d=o;switch(l){case"bigint":s=KL,d=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return a([HL],o)}return a([s,d],o)}case af:{if(l){let p=o;return l==="DataView"?p=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(o)),a([l,[...p]],o)}const d=[],f=a([s,d],o);for(const p of o)d.push(i(p));return f}case Fg:{if(l)switch(l){case"BigInt":return a([l,o.toString()],o);case"Boolean":case"Number":case"String":return a([l,o.valueOf()],o)}if(t&&"toJSON"in o)return i(o.toJSON());const d=[],f=a([s,d],o);for(const p of Rle(o))(e||!_m(Id(o[p])))&&d.push([i(p),i(o[p])]);return f}case BS:return a([s,o.toISOString()],o);case zS:{const{source:d,flags:f}=o;return a([s,{source:d,flags:f}],o)}case US:{const d=[],f=a([s,d],o);for(const[p,m]of o)(e||!(_m(Id(p))||_m(Id(m))))&&d.push([i(p),i(m)]);return f}case VS:{const d=[],f=a([s,d],o);for(const p of o)(e||!_m(Id(p)))&&d.push(i(p));return f}}const{message:c}=o;return a([s,{name:l,message:c}],o)};return i},vE=(e,{json:t,lossy:n}={})=>{const r=[];return $le(!(t||n),!!t,new Map,r)(e),r},Rg=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?yE(vE(e,t)):structuredClone(e):(e,t)=>yE(vE(e,t));function Ble(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function zle(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Ule(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Ble,r=e.options.footnoteBackLabel||zle,a=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const d=e.all(c),f=String(c.identifier).toUpperCase(),p=ld(f.toLowerCase());let m=0;const h=[],v=e.footnoteCounts.get(f);for(;v!==void 0&&++m<=v;){h.length>0&&h.push({type:"text",value:" "});let b=typeof n=="string"?n:n(l,m);typeof b=="string"&&(b={type:"text",value:b}),h.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const x=d[d.length-1];if(x&&x.type==="element"&&x.tagName==="p"){const b=x.children[x.children.length-1];b&&b.type==="text"?b.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...h)}else d.push(...h);const g={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(d,!0)};e.patch(c,g),s.push(g)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...Rg(o),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const yy=function(e){if(e==null)return qle;if(typeof e=="function")return vy(e);if(typeof e=="object")return Array.isArray(e)?Vle(e):Wle(e);if(typeof e=="string")return Hle(e);throw new Error("Expected function, string, or object as test")};function Vle(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=yy(e[n]);return vy(r);function r(...a){let i=-1;for(;++i<t.length;)if(t[i].apply(this,a))return!0;return!1}}function Wle(e){const t=e;return vy(n);function n(r){const a=r;let i;for(i in e)if(a[i]!==t[i])return!1;return!0}}function Hle(e){return vy(t);function t(n){return n&&n.type===e}}function vy(e){return t;function t(n,r,a){return!!(Kle(n)&&e.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function qle(){return!0}function Kle(e){return e!==null&&typeof e=="object"&&"type"in e}const YL=[],Yle=!0,aw=!1,Gle="skip";function GL(e,t,n,r){let a;typeof t=="function"&&typeof n!="function"?(r=n,n=t):a=t;const i=yy(a),o=r?-1:1;s(e,void 0,[])();function s(l,c,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return p;function p(){let m=YL,h,v,x;if((!t||i(l,c,d[d.length-1]||void 0))&&(m=Qle(n(l,d)),m[0]===aw))return m;if("children"in l&&l.children){const g=l;if(g.children&&m[0]!==Gle)for(v=(r?g.children.length:-1)+o,x=d.concat(g);v>-1&&v<g.children.length;){const b=g.children[v];if(h=s(b,v,x)(),h[0]===aw)return h;v=typeof h[1]=="number"?h[1]:v+o}}return m}}}function Qle(e){return Array.isArray(e)?e:typeof e=="number"?[Yle,e]:e==null?YL:[e]}function WS(e,t,n,r){let a,i,o;typeof t=="function"&&typeof n!="function"?(i=void 0,o=t,a=n):(i=t,o=n,a=r),GL(e,i,s,a);function s(l,c){const d=c[c.length-1],f=d?d.children.indexOf(l):void 0;return o(l,f,d)}}const iw={}.hasOwnProperty,Xle={};function Zle(e,t){const n=t||Xle,r=new Map,a=new Map,i=new Map,o={..._le,...n.handlers},s={all:c,applyData:ece,definitionById:r,footnoteById:a,footnoteCounts:i,footnoteOrder:[],handlers:o,one:l,options:n,patch:Jle,wrap:nce};return WS(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:a,p=String(d.identifier).toUpperCase();f.has(p)||f.set(p,d)}}),s;function l(d,f){const p=d.type,m=s.handlers[p];if(iw.call(s.handlers,p)&&m)return m(s,d,f);if(s.options.passThrough&&s.options.passThrough.includes(p)){if("children"in d){const{children:h,...v}=d,x=Rg(v);return x.children=s.all(d),x}return Rg(d)}return(s.options.unknownHandler||tce)(s,d,f)}function c(d){const f=[];if("children"in d){const p=d.children;let m=-1;for(;++m<p.length;){const h=s.one(p[m],d);if(h){if(m&&p[m-1].type==="break"&&(!Array.isArray(h)&&h.type==="text"&&(h.value=bE(h.value)),!Array.isArray(h)&&h.type==="element")){const v=h.children[0];v&&v.type==="text"&&(v.value=bE(v.value))}Array.isArray(h)?f.push(...h):f.push(h)}}}return f}}function Jle(e,t){e.position&&(t.position=zie(e))}function ece(e,t){let n=t;if(e&&e.data){const r=e.data.hName,a=e.data.hChildren,i=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&i&&Object.assign(n.properties,Rg(i)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function tce(e,t){const n=t.data||{},r="value"in t&&!(iw.call(n,"hProperties")||iw.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function nce(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function bE(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function xE(e,t){const n=Zle(e,t),r=n.one(e,void 0),a=Ule(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&i.children.push({type:"text",value:`
`},a),i}function rce(e,t){return e&&"run"in e?async function(n,r){const a=xE(n,{file:r,...t});await e.run(a,r)}:function(n,r){return xE(n,{file:r,...e||t})}}function wE(e){if(e)throw e}var dh=Object.prototype.hasOwnProperty,QL=Object.prototype.toString,kE=Object.defineProperty,SE=Object.getOwnPropertyDescriptor,NE=function(e){return typeof Array.isArray=="function"?Array.isArray(e):QL.call(e)==="[object Array]"},jE=function(e){if(!e||QL.call(e)!=="[object Object]")return!1;var t=dh.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&dh.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!n)return!1;var r;for(r in e);return typeof r>"u"||dh.call(e,r)},CE=function(e,t){kE&&t.name==="__proto__"?kE(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},ME=function(e,t){if(t==="__proto__")if(dh.call(e,t)){if(SE)return SE(e,t).value}else return;return e[t]},ace=function e(){var t,n,r,a,i,o,s=arguments[0],l=1,c=arguments.length,d=!1;for(typeof s=="boolean"&&(d=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<c;++l)if(t=arguments[l],t!=null)for(n in t)r=ME(s,n),a=ME(t,n),s!==a&&(d&&a&&(jE(a)||(i=NE(a)))?(i?(i=!1,o=r&&NE(r)?r:[]):o=r&&jE(r)?r:{},CE(s,{name:n,newValue:e(d,o,a)})):typeof a<"u"&&CE(s,{name:n,newValue:a}));return s};const Pv=bo(ace);function ow(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function ice(){const e=[],t={run:n,use:r};return t;function n(...a){let i=-1;const o=a.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...a);function s(l,...c){const d=e[++i];let f=-1;if(l){o(l);return}for(;++f<a.length;)(c[f]===null||c[f]===void 0)&&(c[f]=a[f]);a=c,d?oce(d,s)(...c):o(null,...c)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function oce(e,t){let n;return r;function r(...o){const s=e.length>o.length;let l;s&&o.push(a);try{l=e.apply(this,o)}catch(c){const d=c;if(s&&n)throw d;return a(d)}s||(l&&l.then&&typeof l.then=="function"?l.then(i,a):l instanceof Error?a(l):i(l))}function a(o,...s){n||(n=!0,t(o,...s))}function i(o){a(null,o)}}const Oo={basename:sce,dirname:lce,extname:cce,join:uce,sep:"/"};function sce(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');$p(e);let n=0,r=-1,a=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(i){n=a+1;break}}else r<0&&(i=!0,r=a+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,s=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(i){n=a+1;break}}else o<0&&(i=!0,o=a+1),s>-1&&(e.codePointAt(a)===t.codePointAt(s--)?s<0&&(r=a):(s=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function lce(e){if($p(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function cce(e){$p(e);let t=e.length,n=-1,r=0,a=-1,i=0,o;for(;t--;){const s=e.codePointAt(t);if(s===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),s===46?a<0?a=t:i!==1&&(i=1):a>-1&&(i=-1)}return a<0||n<0||i===0||i===1&&a===n-1&&a===r+1?"":e.slice(a,n)}function uce(...e){let t=-1,n;for(;++t<e.length;)$p(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":dce(n)}function dce(e){$p(e);const t=e.codePointAt(0)===47;let n=fce(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function fce(e,t){let n="",r=0,a=-1,i=0,o=-1,s,l;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(a===o-1||i===1))if(a!==o-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),a=o,i=0;continue}}else if(n.length>0){n="",r=0,a=o,i=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(a+1,o):n=e.slice(a+1,o),r=o-a-1;a=o,i=0}else s===46&&i>-1?i++:i=-1}return n}function $p(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const pce={cwd:mce};function mce(){return"/"}function sw(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function hce(e){if(typeof e=="string")e=new URL(e);else if(!sw(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return gce(e)}function gce(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const Dv=["history","path","basename","stem","extname","dirname"];class XL{constructor(t){let n;t?sw(t)?n={path:t}:typeof t=="string"||yce(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":pce.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Dv.length;){const i=Dv[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let a;for(a in n)Dv.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?Oo.basename(this.path):void 0}set basename(t){Iv(t,"basename"),Ov(t,"basename"),this.path=Oo.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Oo.dirname(this.path):void 0}set dirname(t){AE(this.basename,"dirname"),this.path=Oo.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Oo.extname(this.path):void 0}set extname(t){if(Ov(t,"extname"),AE(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Oo.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){sw(t)&&(t=hce(t)),Iv(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Oo.basename(this.path,this.extname):void 0}set stem(t){Iv(t,"stem"),Ov(t,"stem"),this.path=Oo.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const a=this.message(t,n,r);throw a.fatal=!0,a}info(t,n,r){const a=this.message(t,n,r);return a.fatal=void 0,a}message(t,n,r){const a=new ja(t,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Ov(e,t){if(e&&e.includes(Oo.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Oo.sep+"`")}function Iv(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function AE(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function yce(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const vce=function(e){const t=this.constructor.prototype,n=t[e],r=function(){return n.apply(r,arguments)};return Object.setPrototypeOf(r,t),r},bce={}.hasOwnProperty;class HS extends vce{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=ice()}copy(){const t=new HS;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Pv(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Fv("data",this.frozen),this.namespace[t]=n,this):bce.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Fv("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(t,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Lm(t),r=this.parser||this.Parser;return _v("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),_v("process",this.parser||this.Parser),Lv("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(i,o){const s=Lm(t),l=r.parse(s);r.run(l,s,function(d,f,p){if(d||!f||!p)return c(d);const m=f,h=r.stringify(m,p);kce(h)?p.value=h:p.result=h,c(d,p)});function c(d,f){d||!f?o(d):i?i(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),_v("processSync",this.parser||this.Parser),Lv("processSync",this.compiler||this.Compiler),this.process(t,a),TE("processSync","process",n),r;function a(i,o){n=!0,wE(i),r=o}}run(t,n,r){EE(t),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(o,s){const l=Lm(n);a.run(t,l,c);function c(d,f,p){const m=f||t;d?s(d):o?o(m):r(void 0,m,p)}}}runSync(t,n){let r=!1,a;return this.run(t,n,i),TE("runSync","run",r),a;function i(o,s){wE(o),a=s,r=!0}}stringify(t,n){this.freeze();const r=Lm(n),a=this.compiler||this.Compiler;return Lv("stringify",a),EE(t),a(t,r)}use(t,...n){const r=this.attachers,a=this.namespace;if(Fv("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...f]=c;l(d,f)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(c.plugins),c.settings&&(a.settings=Pv(!0,a.settings,c.settings))}function s(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const f=c[d];i(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,d){let f=-1,p=-1;for(;++f<r.length;)if(r[f][0]===c){p=f;break}if(p===-1)r.push([c,...d]);else if(d.length>0){let[m,...h]=d;const v=r[p][1];ow(v)&&ow(m)&&(m=Pv(!0,v,m)),r[p]=[c,m,...h]}}}}const xce=new HS().freeze();function _v(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Lv(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Fv(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function EE(e){if(!ow(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function TE(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Lm(e){return wce(e)?e:new XL(e)}function wce(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function kce(e){return typeof e=="string"||Sce(e)}function Sce(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Nce="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",PE=[],DE={allowDangerousHtml:!0},jce=/^(https?|ircs?|mailto|xmpp)$/i,Cce=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Mce(e){const t=Ace(e),n=Ece(e);return Tce(t.runSync(t.parse(n),n),e)}function Ace(e){const t=e.rehypePlugins||PE,n=e.remarkPlugins||PE,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...DE}:DE;return xce().use(cle).use(n).use(rce,r).use(t)}function Ece(e){const t=e.children||"",n=new XL;return typeof t=="string"&&(n.value=t),n}function Tce(e,t){const n=t.allowedElements,r=t.allowElement,a=t.components,i=t.disallowedElements,o=t.skipHtml,s=t.unwrapDisallowed,l=t.urlTransform||Pce;for(const d of Cce)Object.hasOwn(t,d.from)&&""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+Nce+d.id;return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),WS(e,c),qie(e,{Fragment:u.Fragment,components:a,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function c(d,f,p){if(d.type==="raw"&&p&&typeof f=="number")return o?p.children.splice(f,1):p.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let m;for(m in Av)if(Object.hasOwn(Av,m)&&Object.hasOwn(d.properties,m)){const h=d.properties[m],v=Av[m];(v===null||v.includes(d.tagName))&&(d.properties[m]=l(String(h||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):i?i.includes(d.tagName):!1;if(!m&&r&&typeof f=="number"&&(m=!r(d,f,p)),m&&p&&typeof f=="number")return s&&d.children?p.children.splice(f,1,...d.children):p.children.splice(f,1),f}}}function Pce(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||n!==-1&&t>n||r!==-1&&t>r||jce.test(e.slice(0,t))?e:""}function OE(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,a=n.indexOf(t);for(;a!==-1;)r++,a=n.indexOf(t,a+t.length);return r}function Dce(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Oce(e,t,n){const r=yy((n||{}).ignore||[]),a=Ice(t);let i=-1;for(;++i<a.length;)GL(e,"text",o);function o(l,c){let d=-1,f;for(;++d<c.length;){const p=c[d],m=f?f.children:void 0;if(r(p,m?m.indexOf(p):void 0,f))return;f=p}if(f)return s(l,c)}function s(l,c){const d=c[c.length-1],f=a[i][0],p=a[i][1];let m=0;const h=d.children.indexOf(l);let v=!1,x=[];f.lastIndex=0;let g=f.exec(l.value);for(;g;){const b=g.index,w={index:g.index,input:g.input,stack:[...c,l]};let S=p(...g,w);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?f.lastIndex=b+1:(m!==b&&x.push({type:"text",value:l.value.slice(m,b)}),Array.isArray(S)?x.push(...S):S&&x.push(S),m=b+g[0].length,v=!0),!f.global)break;g=f.exec(l.value)}return v?(m<l.value.length&&x.push({type:"text",value:l.value.slice(m)}),d.children.splice(h,1,...x)):x=[l],h+x.length}}function Ice(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const a=n[r];t.push([_ce(a[0]),Lce(a[1])])}return t}function _ce(e){return typeof e=="string"?new RegExp(Dce(e),"g"):e}function Lce(e){return typeof e=="function"?e:function(){return e}}const Rv="phrasing",$v=["autolink","link","image","label"];function Fce(){return{transforms:[Wce],enter:{literalAutolink:$ce,literalAutolinkEmail:Bv,literalAutolinkHttp:Bv,literalAutolinkWww:Bv},exit:{literalAutolink:Vce,literalAutolinkEmail:Uce,literalAutolinkHttp:Bce,literalAutolinkWww:zce}}}function Rce(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Rv,notInConstruct:$v},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Rv,notInConstruct:$v},{character:":",before:"[ps]",after:"\\/",inConstruct:Rv,notInConstruct:$v}]}}function $ce(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Bv(e){this.config.enter.autolinkProtocol.call(this,e)}function Bce(e){this.config.exit.autolinkProtocol.call(this,e)}function zce(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Uce(e){this.config.exit.autolinkEmail.call(this,e)}function Vce(e){this.exit(e)}function Wce(e){Oce(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Hce],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),qce]],{ignore:["link","linkReference"]})}function Hce(e,t,n,r,a){let i="";if(!ZL(a)||(/^w/i.test(t)&&(n=t+n,t="",i="http://"),!Kce(n)))return!1;const o=Yce(n+r);if(!o[0])return!1;const s={type:"link",title:null,url:i+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[s,{type:"text",value:o[1]}]:s}function qce(e,t,n,r){return!ZL(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function Kce(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function Yce(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const a=OE(e,"(");let i=OE(e,")");for(;r!==-1&&a>i;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),i++;return[e,n]}function ZL(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Ac(n)||my(n))&&(!t||n!==47)}JL.peek=rue;function Gce(){this.buffer()}function Qce(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Xce(){this.buffer()}function Zce(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Jce(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=fo(this.sliceSerialize(e)).toLowerCase(),n.label=t}function eue(e){this.exit(e)}function tue(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=fo(this.sliceSerialize(e)).toLowerCase(),n.label=t}function nue(e){this.exit(e)}function rue(){return"["}function JL(e,t,n,r){const a=n.createTracker(r);let i=a.move("[^");const o=n.enter("footnoteReference"),s=n.enter("reference");return i+=a.move(n.safe(n.associationId(e),{after:"]",before:i})),s(),o(),i+=a.move("]"),i}function aue(){return{enter:{gfmFootnoteCallString:Gce,gfmFootnoteCall:Qce,gfmFootnoteDefinitionLabelString:Xce,gfmFootnoteDefinition:Zce},exit:{gfmFootnoteCallString:Jce,gfmFootnoteCall:eue,gfmFootnoteDefinitionLabelString:tue,gfmFootnoteDefinition:nue}}}function iue(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:JL},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,a,i,o){const s=i.createTracker(o);let l=s.move("[^");const c=i.enter("footnoteDefinition"),d=i.enter("label");return l+=s.move(i.safe(i.associationId(r),{before:l,after:"]"})),d(),l+=s.move("]:"),r.children&&r.children.length>0&&(s.shift(4),l+=s.move((t?`
`:" ")+i.indentLines(i.containerFlow(r,s.current()),t?eF:oue))),c(),l}}function oue(e,t,n){return t===0?e:eF(e,t,n)}function eF(e,t,n){return(n?"":"    ")+e}const sue=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];tF.peek=fue;function lue(){return{canContainEols:["delete"],enter:{strikethrough:uue},exit:{strikethrough:due}}}function cue(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:sue}],handlers:{delete:tF}}}function uue(e){this.enter({type:"delete",children:[]},e)}function due(e){this.exit(e)}function tF(e,t,n,r){const a=n.createTracker(r),i=n.enter("strikethrough");let o=a.move("~~");return o+=n.containerPhrasing(e,{...a.current(),before:o,after:"~"}),o+=a.move("~~"),i(),o}function fue(){return"~"}function pue(e){return e.length}function mue(e,t){const n=t||{},r=(n.align||[]).concat(),a=n.stringLength||pue,i=[],o=[],s=[],l=[];let c=0,d=-1;for(;++d<e.length;){const v=[],x=[];let g=-1;for(e[d].length>c&&(c=e[d].length);++g<e[d].length;){const b=hue(e[d][g]);if(n.alignDelimiters!==!1){const w=a(b);x[g]=w,(l[g]===void 0||w>l[g])&&(l[g]=w)}v.push(b)}o[d]=v,s[d]=x}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<c;)i[f]=IE(r[f]);else{const v=IE(r);for(;++f<c;)i[f]=v}f=-1;const p=[],m=[];for(;++f<c;){const v=i[f];let x="",g="";v===99?(x=":",g=":"):v===108?x=":":v===114&&(g=":");let b=n.alignDelimiters===!1?1:Math.max(1,l[f]-x.length-g.length);const w=x+"-".repeat(b)+g;n.alignDelimiters!==!1&&(b=x.length+b+g.length,b>l[f]&&(l[f]=b),m[f]=b),p[f]=w}o.splice(1,0,p),s.splice(1,0,m),d=-1;const h=[];for(;++d<o.length;){const v=o[d],x=s[d];f=-1;const g=[];for(;++f<c;){const b=v[f]||"";let w="",S="";if(n.alignDelimiters!==!1){const C=l[f]-(x[f]||0),N=i[f];N===114?w=" ".repeat(C):N===99?C%2?(w=" ".repeat(C/2+.5),S=" ".repeat(C/2-.5)):(w=" ".repeat(C/2),S=w):S=" ".repeat(C)}n.delimiterStart!==!1&&!f&&g.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&b==="")&&(n.delimiterStart!==!1||f)&&g.push(" "),n.alignDelimiters!==!1&&g.push(w),g.push(b),n.alignDelimiters!==!1&&g.push(S),n.padding!==!1&&g.push(" "),(n.delimiterEnd!==!1||f!==c-1)&&g.push("|")}h.push(n.delimiterEnd===!1?g.join("").replace(/ +$/,""):g.join(""))}return h.join(`
`)}function hue(e){return e==null?"":String(e)}function IE(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function gue(e,t,n,r){const a=n.enter("blockquote"),i=n.createTracker(r);i.move("> "),i.shift(2);const o=n.indentLines(n.containerFlow(e,i.current()),yue);return a(),o}function yue(e,t,n){return">"+(n?"":" ")+e}function vue(e,t){return _E(e,t.inConstruct,!0)&&!_E(e,t.notInConstruct,!1)}function _E(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function LE(e,t,n,r){let a=-1;for(;++a<n.unsafe.length;)if(n.unsafe[a].character===`
`&&vue(n.stack,n.unsafe[a]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function bue(e,t){const n=String(e);let r=n.indexOf(t),a=r,i=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===a?++i>o&&(o=i):i=1,a=r+t.length,r=n.indexOf(t,a);return o}function xue(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function wue(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function kue(e,t,n,r){const a=wue(n),i=e.value||"",o=a==="`"?"GraveAccent":"Tilde";if(xue(e,n)){const f=n.enter("codeIndented"),p=n.indentLines(i,Sue);return f(),p}const s=n.createTracker(r),l=a.repeat(Math.max(bue(i,a)+1,3)),c=n.enter("codeFenced");let d=s.move(l);if(e.lang){const f=n.enter(`codeFencedLang${o}`);d+=s.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...s.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${o}`);d+=s.move(" "),d+=s.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...s.current()})),f()}return d+=s.move(`
`),i&&(d+=s.move(i+`
`)),d+=s.move(l),c(),d}function Sue(e,t,n){return(n?"":"    ")+e}function qS(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Nue(e,t,n,r){const a=qS(n),i=a==='"'?"Quote":"Apostrophe",o=n.enter("definition");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...l.current()}))),s(),e.title&&(s=n.enter(`title${i}`),c+=l.move(" "+a),c+=l.move(n.safe(e.title,{before:c,after:a,...l.current()})),c+=l.move(a),s()),o(),c}function jue(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Xf(e){return"&#x"+e.toString(16).toUpperCase()+";"}function $g(e,t,n){const r=Hu(e),a=Hu(t);return r===void 0?a===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}nF.peek=Cue;function nF(e,t,n,r){const a=jue(n),i=n.enter("emphasis"),o=n.createTracker(r),s=o.move(a);let l=o.move(n.containerPhrasing(e,{after:a,before:s,...o.current()}));const c=l.charCodeAt(0),d=$g(r.before.charCodeAt(r.before.length-1),c,a);d.inside&&(l=Xf(c)+l.slice(1));const f=l.charCodeAt(l.length-1),p=$g(r.after.charCodeAt(0),f,a);p.inside&&(l=l.slice(0,-1)+Xf(f));const m=o.move(a);return i(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},s+l+m}function Cue(e,t,n){return n.options.emphasis||"*"}function Mue(e,t){let n=!1;return WS(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,aw}),!!((!e.depth||e.depth<3)&&FS(e)&&(t.options.setext||n))}function Aue(e,t,n,r){const a=Math.max(Math.min(6,e.depth||1),1),i=n.createTracker(r);if(Mue(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),p=n.containerPhrasing(e,{...i.current(),before:`
`,after:`
`});return f(),d(),p+`
`+(a===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const o="#".repeat(a),s=n.enter("headingAtx"),l=n.enter("phrasing");i.move(o+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...i.current()});return/^[\t ]/.test(c)&&(c=Xf(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,n.options.closeAtx&&(c+=" "+o),l(),s(),c}rF.peek=Eue;function rF(e){return e.value||""}function Eue(){return"<"}aF.peek=Tue;function aF(e,t,n,r){const a=qS(n),i=a==='"'?"Quote":"Apostrophe",o=n.enter("image");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),s(),e.title&&(s=n.enter(`title${i}`),c+=l.move(" "+a),c+=l.move(n.safe(e.title,{before:c,after:a,...l.current()})),c+=l.move(a),s()),c+=l.move(")"),o(),c}function Tue(){return"!"}iF.peek=Pue;function iF(e,t,n,r){const a=e.referenceType,i=n.enter("imageReference");let o=n.enter("label");const s=n.createTracker(r);let l=s.move("![");const c=n.safe(e.alt,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return o(),n.stack=d,i(),a==="full"||!c||c!==f?l+=s.move(f+"]"):a==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function Pue(){return"!"}oF.peek=Due;function oF(e,t,n){let r=e.value||"",a="`",i=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(r);)a+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++i<n.unsafe.length;){const o=n.unsafe[i],s=n.compilePattern(o);let l;if(o.atBreak)for(;l=s.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return a+r+a}function Due(){return"`"}function sF(e,t){const n=FS(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}lF.peek=Oue;function lF(e,t,n,r){const a=qS(n),i=a==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let s,l;if(sF(e,n)){const d=n.stack;n.stack=[],s=n.enter("autolink");let f=o.move("<");return f+=o.move(n.containerPhrasing(e,{before:f,after:">",...o.current()})),f+=o.move(">"),s(),n.stack=d,f}s=n.enter("link"),l=n.enter("label");let c=o.move("[");return c+=o.move(n.containerPhrasing(e,{before:c,after:"](",...o.current()})),c+=o.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(n.safe(e.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(l=n.enter("destinationRaw"),c+=o.move(n.safe(e.url,{before:c,after:e.title?" ":")",...o.current()}))),l(),e.title&&(l=n.enter(`title${i}`),c+=o.move(" "+a),c+=o.move(n.safe(e.title,{before:c,after:a,...o.current()})),c+=o.move(a),l()),c+=o.move(")"),s(),c}function Oue(e,t,n){return sF(e,n)?"<":"["}cF.peek=Iue;function cF(e,t,n,r){const a=e.referenceType,i=n.enter("linkReference");let o=n.enter("label");const s=n.createTracker(r);let l=s.move("[");const c=n.containerPhrasing(e,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return o(),n.stack=d,i(),a==="full"||!c||c!==f?l+=s.move(f+"]"):a==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function Iue(){return"["}function KS(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function _ue(e){const t=KS(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Lue(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function uF(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Fue(e,t,n,r){const a=n.enter("list"),i=n.bulletCurrent;let o=e.ordered?Lue(n):KS(n);const s=e.ordered?o==="."?")":".":_ue(n);let l=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),uF(n)===o&&d){let f=-1;for(;++f<e.children.length;){const p=e.children[f];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=s),n.bulletCurrent=o;const c=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=i,a(),c}function Rue(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function $ue(e,t,n,r){const a=Rue(n);let i=n.bulletCurrent||KS(n);t&&t.type==="list"&&t.ordered&&(i=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+i);let o=i.length+1;(a==="tab"||a==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const s=n.createTracker(r);s.move(i+" ".repeat(o-i.length)),s.shift(o);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,s.current()),d);return l(),c;function d(f,p,m){return p?(m?"":" ".repeat(o))+f:(m?i:i+" ".repeat(o-i.length))+f}}function Bue(e,t,n,r){const a=n.enter("paragraph"),i=n.enter("phrasing"),o=n.containerPhrasing(e,r);return i(),a(),o}const zue=yy(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Uue(e,t,n,r){return(e.children.some(function(a){return zue(a)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function Vue(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}dF.peek=Wue;function dF(e,t,n,r){const a=Vue(n),i=n.enter("strong"),o=n.createTracker(r),s=o.move(a+a);let l=o.move(n.containerPhrasing(e,{after:a,before:s,...o.current()}));const c=l.charCodeAt(0),d=$g(r.before.charCodeAt(r.before.length-1),c,a);d.inside&&(l=Xf(c)+l.slice(1));const f=l.charCodeAt(l.length-1),p=$g(r.after.charCodeAt(0),f,a);p.inside&&(l=l.slice(0,-1)+Xf(f));const m=o.move(a+a);return i(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},s+l+m}function Wue(e,t,n){return n.options.strong||"*"}function Hue(e,t,n,r){return n.safe(e.value,r)}function que(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function Kue(e,t,n){const r=(uF(n)+(n.options.ruleSpaces?" ":"")).repeat(que(n));return n.options.ruleSpaces?r.slice(0,-1):r}const fF={blockquote:gue,break:LE,code:kue,definition:Nue,emphasis:nF,hardBreak:LE,heading:Aue,html:rF,image:aF,imageReference:iF,inlineCode:oF,link:lF,linkReference:cF,list:Fue,listItem:$ue,paragraph:Bue,root:Uue,strong:dF,text:Hue,thematicBreak:Kue};function Yue(){return{enter:{table:Gue,tableData:FE,tableHeader:FE,tableRow:Xue},exit:{codeText:Zue,table:Que,tableData:zv,tableHeader:zv,tableRow:zv}}}function Gue(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function Que(e){this.exit(e),this.data.inTable=void 0}function Xue(e){this.enter({type:"tableRow",children:[]},e)}function zv(e){this.exit(e)}function FE(e){this.enter({type:"tableCell",children:[]},e)}function Zue(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Jue));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function Jue(e,t){return t==="|"?t:e}function ede(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,a=t.stringLength,i=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:o,tableCell:l,tableRow:s}};function o(m,h,v,x){return c(d(m,v,x),m.align)}function s(m,h,v,x){const g=f(m,v,x),b=c([g]);return b.slice(0,b.indexOf(`
`))}function l(m,h,v,x){const g=v.enter("tableCell"),b=v.enter("phrasing"),w=v.containerPhrasing(m,{...x,before:i,after:i});return b(),g(),w}function c(m,h){return mue(m,{align:h,alignDelimiters:r,padding:n,stringLength:a})}function d(m,h,v){const x=m.children;let g=-1;const b=[],w=h.enter("table");for(;++g<x.length;)b[g]=f(x[g],h,v);return w(),b}function f(m,h,v){const x=m.children;let g=-1;const b=[],w=h.enter("tableRow");for(;++g<x.length;)b[g]=l(x[g],m,h,v);return w(),b}function p(m,h,v){let x=fF.inlineCode(m,h,v);return v.stack.includes("tableCell")&&(x=x.replace(/\|/g,"\\$&")),x}}function tde(){return{exit:{taskListCheckValueChecked:RE,taskListCheckValueUnchecked:RE,paragraph:rde}}}function nde(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:ade}}}function RE(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function rde(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const a=t.children;let i=-1,o;for(;++i<a.length;){const s=a[i];if(s.type==="paragraph"){o=s;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function ade(e,t,n,r){const a=e.children[0],i=typeof e.checked=="boolean"&&a&&a.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",s=n.createTracker(r);i&&s.move(o);let l=fF.listItem(e,t,n,{...r,...s.current()});return i&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(d){return d+o}}function ide(){return[Fce(),aue(),lue(),Yue(),tde()]}function ode(e){return{extensions:[Rce(),iue(e),cue(),ede(e),nde()]}}const sde={tokenize:pde,partial:!0},pF={tokenize:mde,partial:!0},mF={tokenize:hde,partial:!0},hF={tokenize:gde,partial:!0},lde={tokenize:yde,partial:!0},gF={name:"wwwAutolink",tokenize:dde,previous:vF},yF={name:"protocolAutolink",tokenize:fde,previous:bF},Ds={name:"emailAutolink",tokenize:ude,previous:xF},Ho={};function cde(){return{text:Ho}}let $l=48;for(;$l<123;)Ho[$l]=Ds,$l++,$l===58?$l=65:$l===91&&($l=97);Ho[43]=Ds;Ho[45]=Ds;Ho[46]=Ds;Ho[95]=Ds;Ho[72]=[Ds,yF];Ho[104]=[Ds,yF];Ho[87]=[Ds,gF];Ho[119]=[Ds,gF];function ude(e,t,n){const r=this;let a,i;return o;function o(f){return!lw(f)||!xF.call(r,r.previous)||YS(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(f))}function s(f){return lw(f)?(e.consume(f),s):f===64?(e.consume(f),l):n(f)}function l(f){return f===46?e.check(lde,d,c)(f):f===45||f===95||Sa(f)?(i=!0,e.consume(f),l):d(f)}function c(f){return e.consume(f),a=!0,l}function d(f){return i&&a&&Ia(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function dde(e,t,n){const r=this;return a;function a(o){return o!==87&&o!==119||!vF.call(r,r.previous)||YS(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(sde,e.attempt(pF,e.attempt(mF,i),n),n)(o))}function i(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function fde(e,t,n){const r=this;let a="",i=!1;return o;function o(f){return(f===72||f===104)&&bF.call(r,r.previous)&&!YS(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),a+=String.fromCodePoint(f),e.consume(f),s):n(f)}function s(f){if(Ia(f)&&a.length<5)return a+=String.fromCodePoint(f),e.consume(f),s;if(f===58){const p=a.toLowerCase();if(p==="http"||p==="https")return e.consume(f),l}return n(f)}function l(f){return f===47?(e.consume(f),i?c:(i=!0,l)):n(f)}function c(f){return f===null||Lg(f)||Rn(f)||Ac(f)||my(f)?n(f):e.attempt(pF,e.attempt(mF,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function pde(e,t,n){let r=0;return a;function a(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),a):o===46&&r===3?(e.consume(o),i):n(o)}function i(o){return o===null?n(o):t(o)}}function mde(e,t,n){let r,a,i;return o;function o(c){return c===46||c===95?e.check(hF,l,s)(c):c===null||Rn(c)||Ac(c)||c!==45&&my(c)?l(c):(i=!0,e.consume(c),o)}function s(c){return c===95?r=!0:(a=r,r=void 0),e.consume(c),o}function l(c){return a||r||!i?n(c):t(c)}}function hde(e,t){let n=0,r=0;return a;function a(o){return o===40?(n++,e.consume(o),a):o===41&&r<n?i(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(hF,t,i)(o):o===null||Rn(o)||Ac(o)?t(o):(e.consume(o),a)}function i(o){return o===41&&r++,e.consume(o),a}}function gde(e,t,n){return r;function r(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(e.consume(s),r):s===38?(e.consume(s),i):s===93?(e.consume(s),a):s===60||s===null||Rn(s)||Ac(s)?t(s):n(s)}function a(s){return s===null||s===40||s===91||Rn(s)||Ac(s)?t(s):r(s)}function i(s){return Ia(s)?o(s):n(s)}function o(s){return s===59?(e.consume(s),r):Ia(s)?(e.consume(s),o):n(s)}}function yde(e,t,n){return r;function r(i){return e.consume(i),a}function a(i){return Sa(i)?n(i):t(i)}}function vF(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Rn(e)}function bF(e){return!Ia(e)}function xF(e){return!(e===47||lw(e))}function lw(e){return e===43||e===45||e===46||e===95||Sa(e)}function YS(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const vde={tokenize:Cde,partial:!0};function bde(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Sde,continuation:{tokenize:Nde},exit:jde}},text:{91:{name:"gfmFootnoteCall",tokenize:kde},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:xde,resolveTo:wde}}}}function xde(e,t,n){const r=this;let a=r.events.length;const i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;a--;){const l=r.events[a][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return s;function s(l){if(!o||!o._balanced)return n(l);const c=fo(r.sliceSerialize({start:o.end,end:r.now()}));return c.codePointAt(0)!==94||!i.includes(c.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function wde(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},s=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",a,t],["exit",a,t],["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...s),e}function kde(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i=0,o;return s;function s(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(f){if(i>999||f===93&&!o||f===null||f===91||Rn(f))return n(f);if(f===93){e.exit("chunkString");const p=e.exit("gfmFootnoteCallString");return a.includes(fo(r.sliceSerialize(p)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return Rn(f)||(o=!0),i++,e.consume(f),f===92?d:c}function d(f){return f===91||f===92||f===93?(e.consume(f),i++,c):c(f)}}function Sde(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i,o=0,s;return l;function l(h){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(h){return h===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(h)}function d(h){if(o>999||h===93&&!s||h===null||h===91||Rn(h))return n(h);if(h===93){e.exit("chunkString");const v=e.exit("gfmFootnoteDefinitionLabelString");return i=fo(r.sliceSerialize(v)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),p}return Rn(h)||(s=!0),o++,e.consume(h),h===92?f:d}function f(h){return h===91||h===92||h===93?(e.consume(h),o++,d):d(h)}function p(h){return h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),a.includes(i)||a.push(i),hn(e,m,"gfmFootnoteDefinitionWhitespace")):n(h)}function m(h){return t(h)}}function Nde(e,t,n){return e.check(Rp,t,e.attempt(vde,t,n))}function jde(e){e.exit("gfmFootnoteDefinition")}function Cde(e,t,n){const r=this;return hn(e,a,"gfmFootnoteDefinitionIndent",5);function a(i){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(i):n(i)}}function Mde(e){let t=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:a,resolveAll:r};return t==null&&(t=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function r(i,o){let s=-1;for(;++s<i.length;)if(i[s][0]==="enter"&&i[s][1].type==="strikethroughSequenceTemporary"&&i[s][1]._close){let l=s;for(;l--;)if(i[l][0]==="exit"&&i[l][1].type==="strikethroughSequenceTemporary"&&i[l][1]._open&&i[s][1].end.offset-i[s][1].start.offset===i[l][1].end.offset-i[l][1].start.offset){i[s][1].type="strikethroughSequence",i[l][1].type="strikethroughSequence";const c={type:"strikethrough",start:Object.assign({},i[l][1].start),end:Object.assign({},i[s][1].end)},d={type:"strikethroughText",start:Object.assign({},i[l][1].end),end:Object.assign({},i[s][1].start)},f=[["enter",c,o],["enter",i[l][1],o],["exit",i[l][1],o],["enter",d,o]],p=o.parser.constructs.insideSpan.null;p&&ki(f,f.length,0,hy(p,i.slice(l+1,s),o)),ki(f,f.length,0,[["exit",d,o],["enter",i[s][1],o],["exit",i[s][1],o],["exit",c,o]]),ki(i,l-1,s-l+3,f),s=l+f.length-2;break}}for(s=-1;++s<i.length;)i[s][1].type==="strikethroughSequenceTemporary"&&(i[s][1].type="data");return i}function a(i,o,s){const l=this.previous,c=this.events;let d=0;return f;function f(m){return l===126&&c[c.length-1][1].type!=="characterEscape"?s(m):(i.enter("strikethroughSequenceTemporary"),p(m))}function p(m){const h=Hu(l);if(m===126)return d>1?s(m):(i.consume(m),d++,p);if(d<2&&!t)return s(m);const v=i.exit("strikethroughSequenceTemporary"),x=Hu(m);return v._open=!x||x===2&&!!h,v._close=!h||h===2&&!!x,o(m)}}}class Ade{constructor(){this.map=[]}add(t,n,r){Ede(this,t,n,r)}consume(t){if(this.map.sort(function(i,o){return i[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let a=r.pop();for(;a;){for(const i of a)t.push(i);a=r.pop()}this.map.length=0}}function Ede(e,t,n,r){let a=0;if(!(n===0&&r.length===0)){for(;a<e.map.length;){if(e.map[a][0]===t){e.map[a][1]+=n,e.map[a][2].push(...r);return}a+=1}e.map.push([t,n,r])}}function Tde(e,t){let n=!1;const r=[];for(;t<e.length;){const a=e[t];if(n){if(a[0]==="enter")a[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const i=r.length-1;r[i]=r[i]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function Pde(){return{flow:{null:{name:"table",tokenize:Dde,resolveAll:Ode}}}}function Dde(e,t,n){const r=this;let a=0,i=0,o;return s;function s(T){let P=r.events.length-1;for(;P>-1;){const Q=r.events[P][1].type;if(Q==="lineEnding"||Q==="linePrefix")P--;else break}const O=P>-1?r.events[P][1].type:null,W=O==="tableHead"||O==="tableRow"?N:l;return W===N&&r.parser.lazy[r.now().line]?n(T):W(T)}function l(T){return e.enter("tableHead"),e.enter("tableRow"),c(T)}function c(T){return T===124||(o=!0,i+=1),d(T)}function d(T){return T===null?n(T):It(T)?i>1?(i=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),m):n(T):cn(T)?hn(e,d,"whitespace")(T):(i+=1,o&&(o=!1,a+=1),T===124?(e.enter("tableCellDivider"),e.consume(T),e.exit("tableCellDivider"),o=!0,d):(e.enter("data"),f(T)))}function f(T){return T===null||T===124||Rn(T)?(e.exit("data"),d(T)):(e.consume(T),T===92?p:f)}function p(T){return T===92||T===124?(e.consume(T),f):f(T)}function m(T){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(T):(e.enter("tableDelimiterRow"),o=!1,cn(T)?hn(e,h,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):h(T))}function h(T){return T===45||T===58?x(T):T===124?(o=!0,e.enter("tableCellDivider"),e.consume(T),e.exit("tableCellDivider"),v):C(T)}function v(T){return cn(T)?hn(e,x,"whitespace")(T):x(T)}function x(T){return T===58?(i+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(T),e.exit("tableDelimiterMarker"),g):T===45?(i+=1,g(T)):T===null||It(T)?S(T):C(T)}function g(T){return T===45?(e.enter("tableDelimiterFiller"),b(T)):C(T)}function b(T){return T===45?(e.consume(T),b):T===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(T),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(T))}function w(T){return cn(T)?hn(e,S,"whitespace")(T):S(T)}function S(T){return T===124?h(T):T===null||It(T)?!o||a!==i?C(T):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(T)):C(T)}function C(T){return n(T)}function N(T){return e.enter("tableRow"),M(T)}function M(T){return T===124?(e.enter("tableCellDivider"),e.consume(T),e.exit("tableCellDivider"),M):T===null||It(T)?(e.exit("tableRow"),t(T)):cn(T)?hn(e,M,"whitespace")(T):(e.enter("data"),D(T))}function D(T){return T===null||T===124||Rn(T)?(e.exit("data"),M(T)):(e.consume(T),T===92?R:D)}function R(T){return T===92||T===124?(e.consume(T),D):D(T)}}function Ode(e,t){let n=-1,r=!0,a=0,i=[0,0,0,0],o=[0,0,0,0],s=!1,l=0,c,d,f;const p=new Ade;for(;++n<e.length;){const m=e[n],h=m[1];m[0]==="enter"?h.type==="tableHead"?(s=!1,l!==0&&($E(p,t,l,c,d),d=void 0,l=0),c={type:"table",start:Object.assign({},h.start),end:Object.assign({},h.end)},p.add(n,0,[["enter",c,t]])):h.type==="tableRow"||h.type==="tableDelimiterRow"?(r=!0,f=void 0,i=[0,0,0,0],o=[0,n+1,0,0],s&&(s=!1,d={type:"tableBody",start:Object.assign({},h.start),end:Object.assign({},h.end)},p.add(n,0,[["enter",d,t]])),a=h.type==="tableDelimiterRow"?2:d?3:1):a&&(h.type==="data"||h.type==="tableDelimiterMarker"||h.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(i[1]!==0&&(o[0]=o[1],f=Fm(p,t,i,a,void 0,f),i=[0,0,0,0]),o[2]=n)):h.type==="tableCellDivider"&&(r?r=!1:(i[1]!==0&&(o[0]=o[1],f=Fm(p,t,i,a,void 0,f)),i=o,o=[i[1],n,0,0])):h.type==="tableHead"?(s=!0,l=n):h.type==="tableRow"||h.type==="tableDelimiterRow"?(l=n,i[1]!==0?(o[0]=o[1],f=Fm(p,t,i,a,n,f)):o[1]!==0&&(f=Fm(p,t,o,a,n,f)),a=0):a&&(h.type==="data"||h.type==="tableDelimiterMarker"||h.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&$E(p,t,l,c,d),p.consume(t.events),n=-1;++n<t.events.length;){const m=t.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=Tde(t.events,n))}return e}function Fm(e,t,n,r,a,i){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",s="tableContent";n[0]!==0&&(i.end=Object.assign({},Zc(t.events,n[0])),e.add(n[0],0,[["exit",i,t]]));const l=Zc(t.events,n[1]);if(i={type:o,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",i,t]]),n[2]!==0){const c=Zc(t.events,n[2]),d=Zc(t.events,n[3]),f={type:s,start:Object.assign({},c),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const p=t.events[n[2]],m=t.events[n[3]];if(p[1].end=Object.assign({},m[1].end),p[1].type="chunkText",p[1].contentType="text",n[3]>n[2]+1){const h=n[2]+1,v=n[3]-n[2]-1;e.add(h,v,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return a!==void 0&&(i.end=Object.assign({},Zc(t.events,a)),e.add(a,0,[["exit",i,t]]),i=void 0),i}function $E(e,t,n,r,a){const i=[],o=Zc(t.events,n);a&&(a.end=Object.assign({},o),i.push(["exit",a,t])),r.end=Object.assign({},o),i.push(["exit",r,t]),e.add(n+1,0,i)}function Zc(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const Ide={name:"tasklistCheck",tokenize:Lde};function _de(){return{text:{91:Ide}}}function Lde(e,t,n){const r=this;return a;function a(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),i)}function i(l){return Rn(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):n(l)}function s(l){return It(l)?t(l):cn(l)?e.check({tokenize:Fde},t,n)(l):n(l)}}function Fde(e,t,n){return hn(e,r,"whitespace");function r(a){return a===null?n(a):t(a)}}function Rde(e){return TL([cde(),bde(),Mde(e),Pde(),_de()])}const $de={};function Bde(e){const t=this,n=e||$de,r=t.data(),a=r.micromarkExtensions||(r.micromarkExtensions=[]),i=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);a.push(Rde(n)),i.push(ide()),o.push(ode(n))}const Uv='# Combat Metrics Spec\n\nThis document describes the project-defined combat metrics used in the UI,\nDiscord summaries, and aggregate stats. The intent is to define the metrics\nindependently from any third-party implementation while staying consistent\nwith EI JSON inputs. It also records the exact fields and aggregation rules\nso the stats dashboard, Discord, and cards produce identical values.\n\nSpec version: `v5` (see `src/shared/metrics-methods.json`).\n\n## Input Contract (EI JSON)\n\nAll metrics are derived from the EI JSON payload produced by dps.report. The\nminimum fields consumed are:\n\n- `players[*].dpsAll[0].damage`, `players[*].dpsAll[0].dps`, `players[*].dpsAll[0].breakbarDamage`\n- `players[*].defenses[0].damageTaken`, `deadCount`, `downCount`,\n  `missedCount`, `blockedCount`, `evadedCount`, `dodgeCount`,\n  `receivedCrowdControl`, `receivedCrowdControlDuration`,\n  `boonStrips`, `boonStripsTime`\n- `players[*].minions[*].totalDamageTakenDist[0][*].totalDamage` (fallback:\n  `damageTaken`) for minion incoming damage totals\n- `players[*].support[0].condiCleanse`, `condiCleanseSelf`, `boonStrips`,\n  `boonStripsTime`, `resurrects`\n- `players[*].statsAll[0].stackDist`, `players[*].statsAll[0].distToCom`\n- `players[*].statsTargets[*][0].downContribution`, `killed`, `downed`,\n  `againstDownedCount`\n- `players[*].extHealingStats.outgoingHealingAllies`\n- `players[*].extBarrierStats.outgoingBarrierAllies`\n- `players[*].totalDamageDist`, `players[*].targetDamageDist`, `players[*].totalDamageTaken`\n- `players[*].damage1S`, `players[*].targetDamage1S`,\n  `players[*].powerDamageTaken1S`, `players[*].targetPowerDamage1S`\n- `players[*].activeTimes`\n- `players[*].rotation`\n- `players[*].buffUptimes`\n- `players[*].selfBuffs`, `players[*].groupBuffs`, `players[*].squadBuffs`\n- `players[*].selfBuffsActive`, `players[*].groupBuffsActive`, `players[*].squadBuffsActive`\n- `players[*].group`\n- `buffMap`, `skillMap`, and `durationMS` for stability generation, boon output, and skill labeling\n- `targets[*].buffs[*].statesPerSource` when available for condition application counts\n- `details.fightName`, `details.uploadTime` (or `details.timeStartStd` / `details.timeStart` fallback),\n  `details.zone`/`mapName`/`map`/`location`, `details.success`,\n  `details.targets`, `details.durationMS`\n- `targets[*].totalDamageDist`, `targets[*].powerDamage1S`, `targets[*].damage1S`,\n  `targets[*].enemyPlayer`, `targets[*].isFake`, `targets[*].profession`\n\nIf any of these are missing, the metric falls back to `0` as defined below.\n\n## Crowd Control & Strips Methodology\n\nThe app supports three user-selectable methodologies (default: `count`),\nconfigured in `src/shared/metrics-methods.json`:\n\n1. **Count Events** (`count`)  \n   Uses EI summary counts for CC/strips. Best for stable, comparable totals.\n\n2. **Duration (Seconds)** (`duration`)  \n   Uses EI summary durations (converted to seconds). Best for impact-weighted\n   totals, but units are time not event counts.\n\n3. **Tiered Impact** (`tiered`)  \n   Uses average duration per event to apply tiered weights. Best for balancing\n   short vs long control with a simple, configurable heuristic.\n\nThese methodologies apply to:\n- Outgoing CC totals\n- Incoming CC totals\n- Incoming strips totals\n\n## Outgoing Crowd Control\n\nFor each player:\n- `count`: `statsAll[0].appliedCrowdControl`\n- `duration`: `statsAll[0].appliedCrowdControlDuration / 1000`\n- `tiered`: `appliedCrowdControl * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/combatMetrics.ts` (computeOutgoingCrowdControl).\n\n## Incoming Strips and Crowd Control\n\nFor each player:\n- Incoming CC uses `defenses[0].receivedCrowdControl` and\n  `defenses[0].receivedCrowdControlDuration`.\n- Incoming strips use `defenses[0].boonStrips` and `defenses[0].boonStripsTime`.\n\nMethod application is the same as outgoing CC (count/duration/tiered).\n\nImplementation: `src/shared/combatMetrics.ts` (computeIncomingDisruptions).\n\n## Cleanses\n\n`cleanses = support[0].condiCleanse + support[0].condiCleanseSelf`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerCleanses).\n\nUI note: the Support table can display either **All** (condiCleanse + condiCleanseSelf) or **Squad** (condiCleanse only) via the cleanse-scope toggle. Discord and top summaries use **All**.\n\n## Strips\n\n`strips` uses the configured methodology:\n- `count`: `support[0].boonStrips`\n- `duration`: `support[0].boonStripsTime / 1000`\n- `tiered`: `boonStrips * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerStrips).\n\n## Down Contribution\n\nDown contribution is the sum of `statsTargets[*][0].downContribution` across\nall targets for the player.\n\nImplementation: `src/shared/combatMetrics.ts` (computeDownContribution).\n\n## Squad Barrier and Squad Healing\n\nSquad barrier and healing sum all phases of `extBarrierStats.outgoingBarrierAllies`\nand `extHealingStats.outgoingHealingAllies` respectively.\n\nImplementation: `src/shared/combatMetrics.ts` (computeSquadBarrier, computeSquadHealing).\n\n## Stability Generation\n\nStability generation uses the EI buff data via `getPlayerBoonGenerationMs`\nand writes `player.stabGeneration` in seconds.\n\nImplementation: `src/shared/combatMetrics.ts` (applySquadStabilityGeneration).\n\n## Damage and DPS\n\n`damage = dpsAll[0].damage`  \n`dps = dpsAll[0].dps`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamage, getPlayerDps).\n\n## Breakbar Damage\n\n`breakbarDamage = dpsAll[0].breakbarDamage`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerBreakbarDamage).\n\n## Incoming Damage (Taken)\n\n`damageTaken = defenses[0].damageTaken`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamageTaken).\n\nIncoming damage per skill (incoming damage distribution) is derived from\n`players[*].totalDamageTaken[*]` entries and summed across players for the\nsquad view. This total can be large for siege skills because it aggregates\nall hits and all players (and across multiple logs when viewing aggregates).\n\n## Damage Mitigation (Player + Minion)\n\nDamage mitigation is an **estimate** of avoided damage based on enemy skill\ndamage averages and avoidance events (block/evade/miss/invuln/interrupted).\nIt is intended for relative comparisons between players/minions and logs, not\nas a literal damage prevented total.\n\n### Inputs Used\n\nPer-log data sources:\n\n- Enemy damage distribution: `targets[*].totalDamageDist[0]`\n- Player avoided events: `players[*].totalDamageTaken[0]`\n- Minion avoided events: `players[*].minions[*].totalDamageTakenDist[0]`\n- Skill names: `skillMap` / `buffMap` (for UI labels only)\n\n### Enemy Skill Damage Averages\n\nFor each skill id across **all logs in the aggregation**:\n\n1. Gather `totalDamage` and `connectedHits` from every targets\n   `totalDamageDist[0]` entry with the same `id`.\n2. Compute:\n   - `avgDamage = sum(totalDamage) / sum(connectedHits)`\n   - `minDamage = average(entry.min over all occurrences)`\n\nThese averages are computed **once for the aggregation window** and used for\nall player/minion mitigation calculations.\n\n### Avoided Damage Per Skill (Formula)\n\nFor a given skill id `S` with enemy averages `avgDamage` and `minDamage`:\n\n```\navoidCount = blocked + evaded + missed + invulned + interrupted\navoidDamage = (glanced * avgDamage / 2) + (avoidCount * avgDamage)\nminAvoidDamage = (glanced * minDamage / 2) + (avoidCount * minDamage)\n```\n\nNotes:\n- `glanced` is treated as half damage.\n- If `connectedHits` for the enemy skill is `0`, the skill is excluded from\n  mitigation totals (both avoid and min avoid).\n\n### Player Mitigation Aggregation\n\nFor each player (account key):\n\n1. Sum avoidance counts **per skill id** across all logs:\n   - `hits`, `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`.\n2. For each skill id, compute `avoidDamage` / `minAvoidDamage` using the global\n   enemy averages (above).\n3. **Include only skills with `avoidDamage > 0`** in totals.\n4. Totals are the sum of:\n   - `totalHits` (from `hits`)\n   - `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`\n   - `totalMitigation` (sum of avoidDamage)\n   - `minMitigation` (sum of minAvoidDamage)\n\n### Minion Mitigation Aggregation\n\nFor each minion (player account + minion name):\n\n1. Sum avoidance counts **per skill id** across all logs using\n   `minion.totalDamageTakenDist[0]`.\n2. Use the **same enemy averages** (from targets).\n3. Compute totals using the same formula and inclusion rules as player\n   mitigation.\n\nMinion names are normalized by:\n- Removing `"Juvenile "` prefix.\n- Converting names containing `"UNKNOWN"` to `"Unknown"`.\n\n### Field Mapping in UI\n\nThe Damage Mitigation table uses the following totals:\n\n- `Total Hits`  summed `hits` for included skills\n- `Evaded`, `Blocked`, `Glanced`, `Missed`, `Invulned`, `Interrupted`\n- `Damage Mitigation`  `totalMitigation`\n- `Min Damage Mitigation`  `minMitigation`\n\n### Why This Diverges From Some External Tools\n\nSome tools compute mitigation differently (e.g., per-log accumulation with\nrunning averages, name-based skill bucketing, or repeated adding across logs).\nThis spec intentionally computes **one consistent estimate** across all logs\nusing **global enemy averages** and **per-skill cumulative counts**, which\navoids log-count bias.\n\n### Known Limitations\n\n- If a skills `connectedHits` is zero in targets data, mitigation for that\n  skill is excluded.\n- Some skills share names across different ids; we bucket by **skill id** to\n  avoid collisions.\n- Enemy damage averages are computed from `targets[*].totalDamageDist[0]` and\n  can be skewed by target mix, fake targets, or atypical fights.\n\n### How-To: Validate Against Raw EI JSON\n\n1. Choose a player or minion and a specific skill id from:\n   - `players[*].totalDamageTaken[0]` or `minions[*].totalDamageTakenDist[0]`.\n2. Compute counts: `blocked`, `evaded`, `glanced`, `missed`, `invulned`,\n   `interrupted`, `hits`.\n3. Compute enemy averages from all logs `targets[*].totalDamageDist[0]` for\n   the same skill id.\n4. Apply the formula above and verify the per-skill avoided damage.\n5. Sum over skills with `avoidDamage > 0` to confirm table totals.\n\n### How-To: Debug Mismatches\n\n1. Confirm the same log set is being aggregated.\n2. Verify skill ids match (name collisions can hide differences).\n3. Check if the target data includes the skill id with non-zero\n   `connectedHits`.\n4. Validate that minion names are normalized (`Juvenile` prefix removed).\n5. Compare against a single skill id first, then widen to all skills.\n\n## Conditions (Outgoing + Incoming)\n\nOutgoing condition totals are derived from `players[*].totalDamageDist[*]`\nentries whose resolved skill name maps to a condition label (see\n`CONDITION_NAME_MAP`). For each matching entry:\n\n- `applications` uses `connectedHits` when available, otherwise falls back to\n  `hits` (needed for non-damaging conditions like blind/slow/fear).\n- `damage` uses `totalDamage`.\n\nTotals are aggregated per player and across the squad. The UI can filter to a\nsingle condition or show the all-conditions rollup.\n\nIncoming condition totals are derived from `players[*].totalDamageTaken[*]`\nentries whose resolved skill/buff ID maps to a condition. For each matching\nentry:\n\n- `applications` uses `hits`.\n- `damage` uses `totalDamage`.\n\n### Current Condition Labels (Normalization)\n\nCondition detection normalizes skill/buff names to the following labels. Only\nthese are counted as conditions:\n\n- Bleeding\n- Burning\n- Confusion\n- Poison\n- Torment\n- Vulnerability\n- Weakness\n- Blind\n- Cripple\n- Chill\n- Immobilize\n- Slow\n- Fear\n- Taunt\n\nNotes:\n- The matcher lowercases and trims names, then maps variants like `crippled`\n   `Cripple` and `chilled`  `Chill`.\n- If a skill/buff name does not normalize to one of the labels above, it is\n  excluded from condition totals.\n\n### Limitation (Hosted JSON)\n\nAccurate application counts for non-damaging conditions (e.g., vulnerability,\nweakness, blind, slow) require target buff state timelines\n(`targets[*].buffs[*].statesPerSource`). If hosted JSON lacks this data (common\nin older logs or trimmed outputs), the app falls back to damage distribution\n(`totalDamageDist`) hit counts, which can significantly under-count\napplications for those conditions.\n\n### Condition Application Counting (States Per Source)\n\nWhen `targets[*].buffs[*].statesPerSource` is available, the app computes two\nseparate application counts per condition:\n\n- **Stack Delta Applications (`applicationsFromBuffs`)**  \n  Counts the **sum of positive stack increases** across the states timeline.\n  Example timeline: `0  1  3  2  5` contributes `+1 +2 +3 = 6`.  \n  This aligns with the technical definition of applications as **stacks\n  actually added**.\n\n- **Active State Entries (`applicationsFromBuffsActive`)**  \n  Counts **each non-zero state entry** (each time the state updates while the\n  condition is active). This tracks **how often the buff state changed while\n  active**, which often matches external tooling that counts active segments,\n  but can **over-count** true applications for stacking conditions.\n\n**Tradeoffs:**\n- *Stack delta* is closer to how many stacks were applied but can be lower\n  than tools that count refreshes/active entries.\n- *Active entries* better match some log combiner views but can overstate\n  application counts when stacks are refreshed without adding stacks.\n\n## Deaths / Downs (Taken)\n\n`deaths = defenses[0].deadCount`  \n`downsTaken = defenses[0].downCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDeaths, getPlayerDownsTaken).\n\n## Dodges / Misses / Blocks / Evades (Taken)\n\n`dodges = defenses[0].dodgeCount`  \n`missed = defenses[0].missedCount`  \n`blocked = defenses[0].blockedCount`  \n`evaded = defenses[0].evadedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts`\n(getPlayerDodges, getPlayerMissed, getPlayerBlocked, getPlayerEvaded).\n\n## Resurrects\n\n`resurrects = support[0].resurrects`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerResurrects).\n\n## Distance to Tag\n\n`distanceToTag = statsAll[0].distToCom` if present; otherwise use\n`statsAll[0].stackDist`. If both are missing but combat replay positions are\navailable, compute the average distance to the commander tag over the\navailable timeline. Otherwise `0`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDistanceToTag).\n\n## Kills / Downs / Against Downed (Target Stats)\n\nFor each player, aggregate from `statsTargets[*][0]`:\n\n- `killed`\n- `downed`\n- `againstDownedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getTargetStatTotal).\n\n## Skill Usage Tracker (Rotation Casts)\n\nSkill usage is derived from each player\'s `rotation` entries in EI JSON. For\neach rotation skill entry:\n- `castCount = rotationSkill.skills.length`\n- `skillId = s{rotationSkill.id}`\n- Counts are aggregated per player per log and summed across logs for totals.\n\nThe Skill Usage Tracker supports two display modes:\n- **Total**: raw cast counts per player (per log in the timeline).\n- **Per Second**: cast rate using active time, where\n  `activeSeconds = players[*].activeTimes[0] / 1000` when available, otherwise\n  `durationMS / 1000` from the log details.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (skill usage tracker aggregation).\n\n## APM Breakdown\n\nAPM is derived from the Skill Usage Tracker data (rotation casts). For each\nplayer:\n- `totalCasts = sum(rotationSkill.skills.length)`\n- `apm = totalCasts / (activeSeconds / 60)`\n- `aps = totalCasts / activeSeconds`\n- Auto-attack counts are excluded for the "No Auto" variants.\n\nThe APM Breakdown groups players by profession and aggregates per-skill cast\ncounts across the group.\n\nImplementation: `src/renderer/stats/hooks/useApmStats.ts`.\n\n## Player Skill Breakdown (Damage / Down Contribution / DPS)\n\nPer-player skill damage breakdown is built from the same damage distribution\ninputs as Top Skills (see below):\n- Outgoing skill damage uses `targetDamageDist` (default) or `totalDamageDist`\n  based on settings.\n- Each entry contributes `totalDamage` and `downContribution`.\n\nFor each player and skill:\n- `totalDamage = sum(entry.totalDamage)`\n- `downContribution = sum(entry.downContribution)`\n- `dps = totalDamage / (totalFightSeconds)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Top Skills (Outgoing / Incoming)\n\nTop Outgoing Skills are derived from the squad-wide aggregation of\n`targetDamageDist` (default) or `totalDamageDist` entries:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.connectedHits)`\n- `downContribution = sum(entry.downContribution)`\n\nWhen using target-based outgoing aggregation, total-distribution supplementation\nis mode-sensitive:\n- non-detailed logs (`detailedWvW !== true`): missing/under-reported target\n  skill ids may be supplemented from `totalDamageDist` deltas\n- detailed WvW logs (`detailedWvW === true`): supplementation from\n  `totalDamageDist` is disabled to avoid known outlier max/damage artifacts\n  observed in some EI exports\n\nTop Incoming Skills are derived from `totalDamageTaken`:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.hits)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Boon Output\n\nBoon output tables are computed from player boon generation data:\n- `selfBuffs`, `groupBuffs`, `squadBuffs` (and their `Active` variants)\n- `buffMap` for name/icon/stacking metadata\n- `durationMS`, `activeTimes`, and `group` for normalization\n\nImplementation: `src/shared/boonGeneration.ts`.\n\n## Special Buffs\n\nSpecial (non-boon) buff tables are computed from `buffUptimes` using\n`buffMap` classification and icon metadata. Durations are normalized by\n`activeTimes` and `durationMS`.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n### Sigil/Relic Uptime (Other Metrics)\n\nThe `Sigil/Relic Uptime` section is derived from `specialTables` and filtered\nto entries whose buff name matches `sigil` or `relic` (case-insensitive).\n\n#### Data source and eligibility\n\nFor each squad player and each non-boon buff in `players[*].buffUptimes`:\n\n- Buff metadata source:\n  - `details.buffMap[b{id}]` (fallback `details.buffMap[id]`)\n- Include only:\n  - non-boons (`classification !== "Boon"`)\n  - rows with valid positive uptime signal:\n    - `buffData[0].uptime > 0` or `buffData[0].presence > 0`\n\n#### Two parallel measures stored for each row\n\n1. **Stack/Intensity measure** (`total`, `perSecond`)\n   - used by the generic Special Buffs table\n   - formula:\n     - if stacking buff: `uptimeFactor = uptimeRaw`\n     - else: `uptimeFactor = uptimeRaw / 100`\n     - `totalMs += uptimeFactor * activeMs`\n   - output:\n     - `total = totalMs / 1000`\n     - `perSecond = totalMs / durationMs`\n\n2. **True uptime percentage measure** (`uptimePerSecond`)\n   - used by `Sigil/Relic Uptime`\n   - formula:\n     - non-stacking buff:\n       - `uptimePctRaw = uptimeRaw`\n     - stacking buff:\n       - `uptimePctRaw = presenceRaw`\n     - clamp to percentage domain:\n       - `uptimePct = clamp(uptimePctRaw, 0, 100) / 100`\n     - accumulate:\n       - `uptimeMs += uptimePct * activeMs`\n   - final denominator:\n     - `fullPlayerDurationMs = player.supportActiveMs`\n     - `uptimePerSecond = uptimeMs / fullPlayerDurationMs`\n   - rendered as:\n     - `Uptime% = uptimePerSecond * 100`\n\n#### Why this is the accuracy model\n\nThis method intentionally uses the **same activity window in numerator and\ndenominator** (player active time):\n\n- Numerator:\n  - uptime milliseconds accumulated from each fight over player active time\n- Denominator:\n  - total player active time across selected fights\n\nThat produces a direct interpretation:\n\n- "Percent of the time this player was active that this sigil/relic effect was\n  present."\n\nFor stacking gear buffs, `presence` is used for percent uptime because\n`uptime` on stacking buffs represents average stack intensity, not time-up\npercentage. This avoids under/over-reporting caused by treating stack-average\nas uptime%.\n\n### Fight Comparison (Other Metrics)\n\n`Fight Comparison` compares two selected fights using two focused views:\n\n1. `Target Focus Comparison`\n- Aggregates squad outgoing damage into enemy profession buckets using\n  `players[*].statsTargets[targetIndex][0].damage`.\n- Target labels are resolved from `targets[targetIndex]` with profession-first\n  fallback (`profession -> name -> id`).\n- Per fight, each target bucket includes:\n  - `damage`\n  - `hits`\n  - `share = damage / totalTargetDamage`\n- Comparison table uses the union of target buckets and highlights\n  `shareDelta = fightB.share - fightA.share`.\n\n2. `Squad Metric Comparison`\n- Compares squad-level fight aggregates instead of individual player leaders.\n- Includes broad outcome/pressure/support metrics, including:\n  - win flag, squad size, enemy count, squad KDR\n  - enemy deaths/downs, squad deaths/downs\n  - outgoing/incoming damage and damage delta\n  - cleanses, strips, stability, healing, barrier out\n  - incoming barrier absorption, enemy barrier absorption\n  - squad CC, down contribution, revived players\n- Delta shown is `fightB.value - fightA.value`; color semantics account for\n  metric direction (`higherIsBetter`).\n\nImplementation:\n- aggregation payload build: `src/renderer/stats/computeStatsAggregation.ts` (`fightDiffMode`)\n- section rendering: `src/renderer/stats/sections/FightDiffModeSection.tsx`\n\n## Offense / Defense / Support / Healing Tables\n\nDetailed tables aggregate the per-player totals defined in:\n- `src/renderer/stats/statsMetrics.ts` (metric definitions)\n- `src/shared/dashboardMetrics.ts` (per-player metric extraction)\n- `src/renderer/stats/computeStatsAggregation.ts` (aggregation)\n\nDefense Detailed includes a derived metric:\n- `Minion Damage Taken`:\n  sum `players[*].minions[*].totalDamageTakenDist[0][*].totalDamage`, with\n  fallback to `damageTaken` when `totalDamage` is absent.\n\n## Spike Damage\n\nSpike Damage has four modes:\n- `hit`: highest single skill hit in a fight\n- `1s`: highest rolling 1-second damage burst in a fight\n- `5s`: highest rolling 5-second damage burst in a fight\n- `30s`: highest rolling 30-second damage burst in a fight\n\n### Player Identity\n\nPer-fight player keys are resolved as:\n- `key = "${account}|${profession}"`\n- `account = player.account || player.name || "Unknown"`\n- `profession = player.profession || "Unknown"`\n\nThis same key is used to join:\n- player list\n- per-fight values\n- selected-player chart/drilldown\n\n### Highest Single Hit (`hit`)\n\nFor each squad player (`!notInSquad`), the highest single-hit value is scanned\nfrom damage distributions (skill maps used for names).\n\nValue:\n- candidate fields per entry:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- no inferred single-hit estimate is used (for example,\n  `totalDamage / connectedHits` is intentionally excluded)\n\nSource priority:\n- primary: `targetDamageDist`\n- fallback: `totalDamageDist` only when no target entries are present (or no\n  positive peak was found from target entries)\n\nDetailed WvW safeguard:\n- for logs with `detailedWvW === true`, target-side data is treated as the\n  authoritative source for spike-hit computations whenever present, because\n  some logs can contain total-distribution outlier maxima that are inconsistent\n  with target-distribution entries.\n\nSkill label:\n- `skillName` from `skillMap`/`buffMap` by id fallback (`Unknown Skill` if missing)\n\n### Rolling Burst (`1s` / `5s`)\n\nBurst uses per-second **delta** damage:\n1. Build cumulative damage for phase 0:\n   - prefer aggregated target phase 0 from `targetDamage1S` when available\n   - fallback to `damage1S[0]`\n2. Convert cumulative -> per-second deltas:\n   - `delta[i] = max(0, cumulative[i] - cumulative[i-1])` (`i=0` uses prev `0`)\n3. Compute rolling windows:\n- `burst1s = max(sum(delta[i..i]))`\n- `burst5s = max(sum(delta[i..i+4]))`\n- `burst30s = max(sum(delta[i..i+29]))`\n\nImplementation includes support for EI shape variants:\n- Shape A: `[phase][target][time]`\n- Shape B: `[target][phase][time]`\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses the corresponding max series as the dashed reference line.\n\n### Drilldown (5s Buckets)\n\nSelected fight drilldown is always rendered as 5-second buckets.\n\nBucket source:\n- preferred: precomputed `buckets5s`\n- fallback: recompute from selected player per-second delta series\n\nBucket value:\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count:\n- extended to full fight duration (`ceil(durationMS / 5000)`) so trailing\n  down/death events are representable even if damage is zero late-fight.\n\n### Down / Death Markers\n\nMarker events are read from `combatReplayData`:\n- supports both replay object and segmented replay-array forms\n- uses `down` and `dead` arrays\n\nTimestamp normalization:\n- handles mixed encodings (ms/seconds/large scales) and offset baselines\n  using replay starts/global starts/log offsets\n- selects the shift/scale that maximizes in-range alignment with fight buckets\n\nMarker placement:\n- convert normalized time to bucket index:\n  - `index = floor(timeMs / 5000)`\n- constrain to visible drilldown bucket range\n- render:\n  - down marker: yellow\n  - death marker: red\n\nWeb report parity:\n- precomputed spike payload stores marker indices as:\n  - `downIndices5s`\n  - `deathIndices5s`\n- embedded/web mode can render markers without raw `logs` by consuming these fields.\n\nImplementation:\n- Aggregation/precompute: `src/renderer/stats/computeStatsAggregation.ts`\n- Runtime selection/drilldown + fallbacks: `src/renderer/StatsView.tsx`\n- Chart rendering/interaction: `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Incoming Strike Damage\n\nIncoming Strike Damage mirrors Spike Damage interactions (same chart modes,\nselection, drilldown, animations, and fight navigation) but changes the data\nsource and grouping:\n\n- grouped by **enemy class** (`targets[*].profession`) instead of squad player\n- uses **incoming strike timelines** and target damage distributions\n- selected-fight expansion includes a **skill-level incoming strike table**\n\n### Identity and Grouping\n\nPer-fight keys are enemy profession labels:\n\n- `key = resolveProfessionLabel(target.profession || target.name || target.id)`\n- fallback key: `"Unknown"`\n\nAll enemy targets in a fight that resolve to the same profession are merged\ninto one class bucket for that fight.\n\n### Damage Modes (`hit`, `1s`, `5s`, `30s`)\n\nModes are defined the same way as Spike Damage:\n\n- `hit`: highest single incoming strike hit seen in the class bucket\n- `1s`: highest rolling 1-second incoming strike burst\n- `5s`: highest rolling 5-second incoming strike burst\n- `30s`: highest rolling 30-second incoming strike burst\n\n`hit` source:\n\n- scan target strike distributions (`totalDamageDist`) and keep max of:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- ignore `indirectDamage` entries\n\n### Incoming Timeline Construction\n\nFor each enemy target, incoming strike series is built with the following\npriority:\n\n1. Squad-attributed incoming-vs-target cumulative strike:\n   - sum `players[*].targetPowerDamage1S[targetIndex]` across all squad players\n2. Fallback target timeline:\n   - `targets[targetIndex].powerDamage1S`\n3. Final fallback:\n   - `targets[targetIndex].damage1S`\n\nEach chosen cumulative series is converted to per-second deltas:\n\n- `delta[i] = max(0, cumulative[i] - cumulative[i-1])`\n- `delta[0] = max(0, cumulative[0])`\n\nClass series is then:\n\n- sum of target delta series for all targets in that class\n\nBurst windows are computed from class per-second deltas with the same rolling\nwindow logic used by Spike Damage.\n\n### Timeline Fallback When Target Timelines Are Missing\n\nIf enemy target timelines are empty/unusable for a fight:\n\n1. Build squad incoming strike series from `players[*].powerDamageTaken1S`\n   (cumulative -> per-second deltas).\n2. Compute enemy class counts from `targets[*]` (enemy player targets only).\n3. Distribute squad incoming per-second totals across classes proportionally by\n   class count in that fight.\n\nThis preserves non-zero burst/drilldown behavior for logs lacking complete\ntarget timeline detail.\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses its corresponding fight max as the dashed reference\nseries in the chart.\n\n### Fight Drilldown (5s Buckets)\n\nSelected-fight drilldown is 5-second buckets from class per-second deltas:\n\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count extends to at least `ceil(durationMS / 5000)` so late-fight\nmarker events can still be shown even when trailing bucket damage is zero.\n\nDown/death markers use replay event times from squad players and are converted\nto indices with the same normalization/indexing logic as Spike Damage\n(ms/sec scaling, offset hints, then `floor(timeMs / 5000)` clamp).\n\n### Selected Fight Skill Table (Incoming Skill Damage)\n\nThe expanded table for the selected fight/class is generated from enemy target\nstrike distributions:\n\n1. For each target in the selected class:\n   - read `target.totalDamageDist` entries\n   - ignore `indirectDamage`\n2. Resolve each skill id via:\n   - `skillMap[s{id}]`, then `skillMap[id]`\n   - fallback `buffMap[b{id}]`, then `buffMap[id]`\n3. Aggregate per skill name:\n   - `damage += entry.totalDamage`\n   - `hits += entry.connectedHits || entry.hits`\n   - preserve first available icon URL\n4. Sort desc by damage and keep top rows for rendering.\n\n### Why Some Skill Names Can Look Off-Class\n\nSkill names in incoming strike tables are tied to damage event ids in EI\ndamage distributions, not to profession skill catalogs. Because of that,\noff-class-looking names can appear in a class bucket (for example via\nreflected/returned projectiles, transformed skills, or attribution context).\nThis is expected under the current event-id attribution model.\n\n### Implementation\n\n- Aggregation/precompute:\n  - `src/renderer/stats/computeStatsAggregation.ts` (`incomingStrikeDamage`)\n- Runtime selection/drilldown/table rows:\n  - `src/renderer/StatsView.tsx`\n- UI rendering (card, chart, drilldown, skill table):\n  - `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Timeline / Map Distribution / Fight Breakdown\n\nThese sections use log-level metadata:\n- `details.uploadTime`, `details.durationMS`, `details.success`\n- `details.targets` (enemy counts, fake target filtering)\n- `details.zone`/`mapName`/`map`/`location`/`fightName` for map labels\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Squad Composition\n\nSquad composition is derived from each player\'s resolved profession name\nand aggregated across logs.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Attendance Ledger\n\nAttendance is computed from squad-player participation across all valid logs.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, account/name/profession/group)\n- `players[*].activeTimes[0]`\n- `details.durationMS` (fallback when active time is missing)\n\n### Player Inclusion\n\n- Include only squad players: `!player.notInSquad`.\n- Player key for aggregation is:\n  - `player.account` when present and not `"Unknown"`\n  - otherwise `player.name`\n\n### Time Aggregation\n\nPer squad player entry:\n\n- `activeMs = players[*].activeTimes[0]` when numeric, else `details.durationMS || 0`\n- `combatTimeMs[player] += activeMs`\n- if profession is known:\n  - `professionTimeMs[player][profession] += activeMs`\n\nAlso track appearance window per player:\n\n- `firstSeenFightTs`: earliest fight timestamp where player appears in squad\n- `lastSeenFightTs`: latest fight timestamp where player appears in squad\n- `lastSeenFightDurationMs`: duration of that latest fight\n\nFinal elapsed squad time:\n\n- `squadTimeMs = max(0, (lastSeenFightTs + lastSeenFightDurationMs) - firstSeenFightTs)`\n- fallback to `combatTimeMs` when timestamps are unavailable\n\nCharacter names shown in attendance are the unique set of `player.name` values\nseen for that player key.\n\n### Row Shape / Sorting\n\nFor each aggregated player:\n\n- `account`: aggregation key\n- `characterNames`: unique character names, sorted ascending\n- `classTimes`: entries from `professionTimeMs`, filtered to\n  - `profession !== "Unknown"`\n  - `timeMs > 0`\n- `combatTimeMs`: total active combat time\n- `squadTimeMs`: elapsed time between first seen fight start and last seen fight end\n\nRows are sorted by:\n1. `squadTimeMs` descending\n2. `account` ascending\n\nRows with `account` missing/`"Unknown"` are excluded from final output.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`attendanceData`).\n\n## Squad Comp By Fight\n\nThis section provides per-fight party-line roster composition.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, group, account/name/profession)\n- `details.durationMS`\n- fight metadata/time fields used by `resolveFightTimestamp` and `resolveMapName`\n\n### Fight Ordering\n\nFights are sorted by resolved fight timestamp ascending:\n\n- `uploadTime`\n- fallback: `timeStartStd`, `timeStart`, `timeEndStd`, `timeEnd`\n\n### Party Assignment\n\nFor each squad player (`!player.notInSquad`) in a fight:\n\n- `party = Number(player.group)` when finite and `> 0`, else `0` (`Unassigned`)\n- profession label is normalized via `resolveProfessionLabel(...)`\n\nPer party:\n\n- append player row `{ account, characterName, profession }`\n- increment `classCounts[profession] += 1`\n\n### Party / Player Sorting\n\nWithin each party:\n\n- players are sorted by `profession`, then `account` ascending\n\nParty rows are sorted by:\n1. party number ascending for `1..n`\n2. party `0` (`Unassigned`) last\n\n### Output Shape\n\nPer fight:\n\n- `id`: file/log id fallback chain\n- `label`: `F{index+1}` in timestamp-sorted order\n- `timestamp`: resolved fight timestamp\n- `mapName`: resolved map name\n- `duration`: `formatDurationMs(details.durationMS)`\n- `parties`: sorted party rows with class counts and account list\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`squadCompByFight`).\n\n## Top Stats / MVP\n\nTop stats are computed by ranking the leaderboards for key metrics (down\ncontribution, barrier, healing, cleanses, strips, stability, CC, etc).\nMVP scoring uses weighted ratios against these leaderboards and is configured\nvia `statsViewSettings` + `mvpWeights`.\n\nParticipation is computed as `logsJoined` (number of logs where the player\nappears in the squad).\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Known Caveats\n\n- EI JSON versions can add/remove fields; missing fields always fall back to `0`.\n- `distToCom` and `stackDist` are not guaranteed to exist in every log; `distanceToTag` may be `0`.\n- Incoming CC/strips use weighted skill mappings; mismatches can occur if EI changes skill ids or hit accounting.\n- Stability generation depends on buff metadata presence (`buffMap`) and correct `durationMS`.\n- Damage uses `dpsAll[0].damage` (player total) rather than summing per-target totals, which may differ when targets are filtered or merged.\n- Skill usage totals are raw cast counts unless the per-second view is selected; missing `activeTimes` falls back to log duration for rate calculations.\n- Some detailed WvW EI exports may contain outlier values in `totalDamageDist`\n  (notably `max` on specific skill rows). Spike-hit and target-mode outgoing\n  aggregations prefer/anchor to `targetDamageDist` to reduce false outliers.\n\n## Manifest & Field Usage\n\nThe dev dataset manifest is generated by the app when exporting logs. It is\nstored as `dev/datasets/<dataset>/manifest.json` and contains:\n\n- `id`: log id or generated id\n- `filePath`: relative path to the log JSON\n- `fightName`\n- `encounterDuration`\n- `uploadTime`\n- `timeStart`\n- `timeStartStd`\n- `durationMS`\n- `success`\n- `playerCount`\n- `squadCount`\n- `nonSquadCount`\n\nStats calculations **do not** use the manifest fields directly; the manifest\nis used for listing logs and metadata only. All computations are derived from\nthe EI JSON log payload fields listed in the **Input Contract** and the\nsections above.\n',wF=y.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),by=y.createContext({}),GS=y.createContext(null),xy=typeof document<"u",zde=xy?y.useLayoutEffect:y.useEffect,kF=y.createContext({strict:!1}),QS=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Ude="framerAppearId",SF="data-"+QS(Ude);function Vde(e,t,n,r){const{visualElement:a}=y.useContext(by),i=y.useContext(kF),o=y.useContext(GS),s=y.useContext(wF).reducedMotion,l=y.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:a,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:s}));const c=l.current;y.useInsertionEffect(()=>{c&&c.update(n,o)});const d=y.useRef(!!(n[SF]&&!window.HandoffComplete));return zde(()=>{c&&(c.render(),d.current&&c.animationState&&c.animationState.animateChanges())}),y.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function pu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Wde(e,t,n){return y.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):pu(n)&&(n.current=r))},[t])}function Zf(e){return typeof e=="string"||Array.isArray(e)}function wy(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const XS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ZS=["initial",...XS];function ky(e){return wy(e.animate)||ZS.some(t=>Zf(e[t]))}function NF(e){return!!(ky(e)||e.variants)}function Hde(e,t){if(ky(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Zf(n)?n:void 0,animate:Zf(r)?r:void 0}}return e.inherit!==!1?t:{}}function qde(e){const{initial:t,animate:n}=Hde(e,y.useContext(by));return y.useMemo(()=>({initial:t,animate:n}),[BE(t),BE(n)])}function BE(e){return Array.isArray(e)?e.join(" "):e}const zE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Jf={};for(const e in zE)Jf[e]={isEnabled:t=>zE[e].some(n=>!!t[n])};function Kde(e){for(const t in e)Jf[t]={...Jf[t],...e[t]}}const jF=y.createContext({}),CF=y.createContext({}),Yde=Symbol.for("motionComponentSymbol");function Gde({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:a}){e&&Kde(e);function i(s,l){let c;const d={...y.useContext(wF),...s,layoutId:Qde(s)},{isStatic:f}=d,p=qde(s),m=r(s,f);if(!f&&xy){p.visualElement=Vde(a,m,d,t);const h=y.useContext(CF),v=y.useContext(kF).strict;p.visualElement&&(c=p.visualElement.loadFeatures(d,v,e,h))}return y.createElement(by.Provider,{value:p},c&&p.visualElement?y.createElement(c,{visualElement:p.visualElement,...d}):null,n(a,s,Wde(m,p.visualElement,l),m,f,p.visualElement))}const o=y.forwardRef(i);return o[Yde]=a,o}function Qde({layoutId:e}){const t=y.useContext(jF).id;return t&&e!==void 0?t+"-"+e:e}function Xde(e){function t(r,a={}){return Gde(e(r,a))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,a)=>(n.has(a)||n.set(a,t(a)),n.get(a))})}const Zde=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function JS(e){return typeof e!="string"||e.includes("-")?!1:!!(Zde.indexOf(e)>-1||/[A-Z]/.test(e))}const Bg={};function Jde(e){Object.assign(Bg,e)}const Bp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ic=new Set(Bp);function MF(e,{layout:t,layoutId:n}){return Ic.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Bg[e]||e==="opacity")}const ti=e=>!!(e&&e.getVelocity),efe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tfe=Bp.length;function nfe(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,a){let i="";for(let o=0;o<tfe;o++){const s=Bp[o];if(e[s]!==void 0){const l=efe[s]||s;i+=`${l}(${e[s]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),a?i=a(e,r?"":i):n&&r&&(i="none"),i}const AF=e=>t=>typeof t=="string"&&t.startsWith(e),EF=AF("--"),cw=AF("var(--"),rfe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,afe=(e,t)=>t&&typeof e=="number"?t.transform(e):e,xl=(e,t,n)=>Math.min(Math.max(n,e),t),_c={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},of={..._c,transform:e=>xl(0,1,e)},Rm={..._c,default:1},sf=e=>Math.round(e*1e5)/1e5,Sy=/(-)?([\d]*\.?[\d])+/g,TF=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,ife=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function zp(e){return typeof e=="string"}const Up=e=>({test:t=>zp(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),qs=Up("deg"),Bo=Up("%"),Ut=Up("px"),ofe=Up("vh"),sfe=Up("vw"),UE={...Bo,parse:e=>Bo.parse(e)/100,transform:e=>Bo.transform(e*100)},VE={..._c,transform:Math.round},PF={borderWidth:Ut,borderTopWidth:Ut,borderRightWidth:Ut,borderBottomWidth:Ut,borderLeftWidth:Ut,borderRadius:Ut,radius:Ut,borderTopLeftRadius:Ut,borderTopRightRadius:Ut,borderBottomRightRadius:Ut,borderBottomLeftRadius:Ut,width:Ut,maxWidth:Ut,height:Ut,maxHeight:Ut,size:Ut,top:Ut,right:Ut,bottom:Ut,left:Ut,padding:Ut,paddingTop:Ut,paddingRight:Ut,paddingBottom:Ut,paddingLeft:Ut,margin:Ut,marginTop:Ut,marginRight:Ut,marginBottom:Ut,marginLeft:Ut,rotate:qs,rotateX:qs,rotateY:qs,rotateZ:qs,scale:Rm,scaleX:Rm,scaleY:Rm,scaleZ:Rm,skew:qs,skewX:qs,skewY:qs,distance:Ut,translateX:Ut,translateY:Ut,translateZ:Ut,x:Ut,y:Ut,z:Ut,perspective:Ut,transformPerspective:Ut,opacity:of,originX:UE,originY:UE,originZ:Ut,zIndex:VE,fillOpacity:of,strokeOpacity:of,numOctaves:VE};function eN(e,t,n,r){const{style:a,vars:i,transform:o,transformOrigin:s}=e;let l=!1,c=!1,d=!0;for(const f in t){const p=t[f];if(EF(f)){i[f]=p;continue}const m=PF[f],h=afe(p,m);if(Ic.has(f)){if(l=!0,o[f]=h,!d)continue;p!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(c=!0,s[f]=h):a[f]=h}if(t.transform||(l||r?a.transform=nfe(e.transform,n,d,r):a.transform&&(a.transform="none")),c){const{originX:f="50%",originY:p="50%",originZ:m=0}=s;a.transformOrigin=`${f} ${p} ${m}`}}const tN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function DF(e,t,n){for(const r in t)!ti(t[r])&&!MF(r,n)&&(e[r]=t[r])}function lfe({transformTemplate:e},t,n){return y.useMemo(()=>{const r=tN();return eN(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function cfe(e,t,n){const r=e.style||{},a={};return DF(a,r,e),Object.assign(a,lfe(e,t,n)),e.transformValues?e.transformValues(a):a}function ufe(e,t,n){const r={},a=cfe(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=a,r}const dfe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function zg(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||dfe.has(e)}let OF=e=>!zg(e);function ffe(e){e&&(OF=t=>t.startsWith("on")?!zg(t):e(t))}try{ffe(require("@emotion/is-prop-valid").default)}catch{}function pfe(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(OF(a)||n===!0&&zg(a)||!t&&!zg(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}function WE(e,t,n){return typeof e=="string"?e:Ut.transform(t+n*e)}function mfe(e,t,n){const r=WE(t,e.x,e.width),a=WE(n,e.y,e.height);return`${r} ${a}`}const hfe={offset:"stroke-dashoffset",array:"stroke-dasharray"},gfe={offset:"strokeDashoffset",array:"strokeDasharray"};function yfe(e,t,n=1,r=0,a=!0){e.pathLength=1;const i=a?hfe:gfe;e[i.offset]=Ut.transform(-r);const o=Ut.transform(t),s=Ut.transform(n);e[i.array]=`${o} ${s}`}function nN(e,{attrX:t,attrY:n,attrScale:r,originX:a,originY:i,pathLength:o,pathSpacing:s=1,pathOffset:l=0,...c},d,f,p){if(eN(e,c,d,p),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:h,dimensions:v}=e;m.transform&&(v&&(h.transform=m.transform),delete m.transform),v&&(a!==void 0||i!==void 0||h.transform)&&(h.transformOrigin=mfe(v,a!==void 0?a:.5,i!==void 0?i:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&yfe(m,o,s,l,!1)}const IF=()=>({...tN(),attrs:{}}),rN=e=>typeof e=="string"&&e.toLowerCase()==="svg";function vfe(e,t,n,r){const a=y.useMemo(()=>{const i=IF();return nN(i,t,{enableHardwareAcceleration:!1},rN(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};DF(i,e.style,e),a.style={...i,...a.style}}return a}function bfe(e=!1){return(t,n,r,{latestValues:a},i)=>{const o=(JS(t)?vfe:ufe)(n,a,i,t),s={...pfe(n,typeof t=="string",e),...o,ref:r},{children:l}=n,c=y.useMemo(()=>ti(l)?l.get():l,[l]);return y.createElement(t,{...s,children:c})}}function _F(e,{style:t,vars:n},r,a){Object.assign(e.style,t,a&&a.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const LF=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function FF(e,t,n,r){_F(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(LF.has(a)?a:QS(a),t.attrs[a])}function aN(e,t){const{style:n}=e,r={};for(const a in n)(ti(n[a])||t.style&&ti(t.style[a])||MF(a,e))&&(r[a]=n[a]);return r}function RF(e,t){const n=aN(e,t);for(const r in e)if(ti(e[r])||ti(t[r])){const a=Bp.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[a]=e[r]}return n}function iN(e,t,n,r={},a={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,a)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,a)),t}function xfe(e){const t=y.useRef(null);return t.current===null&&(t.current=e()),t.current}const Ug=e=>Array.isArray(e),wfe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),kfe=e=>Ug(e)?e[e.length-1]||0:e;function fh(e){const t=ti(e)?e.get():e;return wfe(t)?t.toValue():t}function Sfe({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,a,i){const o={latestValues:Nfe(r,a,i,e),renderState:t()};return n&&(o.mount=s=>n(r,s,o)),o}const $F=e=>(t,n)=>{const r=y.useContext(by),a=y.useContext(GS),i=()=>Sfe(e,t,r,a);return n?i():xfe(i)};function Nfe(e,t,n,r){const a={},i=r(e,{});for(const p in i)a[p]=fh(i[p]);let{initial:o,animate:s}=e;const l=ky(e),c=NF(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),s===void 0&&(s=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?s:o;return f&&typeof f!="boolean"&&!wy(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const m=iN(e,p);if(!m)return;const{transitionEnd:h,transition:v,...x}=m;for(const g in x){let b=x[g];if(Array.isArray(b)){const w=d?b.length-1:0;b=b[w]}b!==null&&(a[g]=b)}for(const g in h)a[g]=h[g]}),a}const Er=e=>e;class HE{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function jfe(e){let t=new HE,n=new HE,r=0,a=!1,i=!1;const o=new WeakSet,s={schedule:(l,c=!1,d=!1)=>{const f=d&&a,p=f?t:n;return c&&o.add(l),p.add(l)&&f&&a&&(r=t.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(a){i=!0;return}if(a=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let c=0;c<r;c++){const d=t.order[c];d(l),o.has(d)&&(s.schedule(d),e())}a=!1,i&&(i=!1,s.process(l))}};return s}const $m=["prepare","read","update","preRender","render","postRender"],Cfe=40;function Mfe(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=$m.reduce((c,d)=>(c[d]=jfe(()=>n=!0),c),{}),o=c=>i[c].process(a),s=()=>{const c=performance.now();n=!1,a.delta=r?1e3/60:Math.max(Math.min(c-a.timestamp,Cfe),1),a.timestamp=c,a.isProcessing=!0,$m.forEach(o),a.isProcessing=!1,n&&t&&(r=!1,e(s))},l=()=>{n=!0,r=!0,a.isProcessing||e(s)};return{schedule:$m.reduce((c,d)=>{const f=i[d];return c[d]=(p,m=!1,h=!1)=>(n||l(),f.schedule(p,m,h)),c},{}),cancel:c=>$m.forEach(d=>i[d].cancel(c)),state:a,steps:i}}const{schedule:Zn,cancel:Ss,state:ya,steps:Vv}=Mfe(typeof requestAnimationFrame<"u"?requestAnimationFrame:Er,!0),Afe={useVisualState:$F({scrapeMotionValuesFromProps:RF,createRenderState:IF,onMount:(e,t,{renderState:n,latestValues:r})=>{Zn.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Zn.render(()=>{nN(n,r,{enableHardwareAcceleration:!1},rN(t.tagName),e.transformTemplate),FF(t,n)})}})},Efe={useVisualState:$F({scrapeMotionValuesFromProps:aN,createRenderState:tN})};function Tfe(e,{forwardMotionProps:t=!1},n,r){return{...JS(e)?Afe:Efe,preloadedFeatures:n,useRender:bfe(t),createVisualElement:r,Component:e}}function ss(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const BF=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Ny(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Pfe=e=>t=>BF(t)&&e(t,Ny(t));function ds(e,t,n,r){return ss(e,t,Pfe(n),r)}const Dfe=(e,t)=>n=>t(e(n)),hl=(...e)=>e.reduce(Dfe);function zF(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const qE=zF("dragHorizontal"),KE=zF("dragVertical");function UF(e){let t=!1;if(e==="y")t=KE();else if(e==="x")t=qE();else{const n=qE(),r=KE();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function VF(){const e=UF(!0);return e?(e(),!1):!0}class Tl{constructor(t){this.isMounted=!1,this.node=t}update(){}}function YE(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),a=(i,o)=>{if(i.pointerType==="touch"||VF())return;const s=e.getProps();e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",t),s[r]&&Zn.update(()=>s[r](i,o))};return ds(e.current,n,a,{passive:!e.getProps()[r]})}class Ofe extends Tl{mount(){this.unmount=hl(YE(this.node,!0),YE(this.node,!1))}unmount(){}}class Ife extends Tl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=hl(ss(this.node.current,"focus",()=>this.onFocus()),ss(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const WF=(e,t)=>t?e===t?!0:WF(e,t.parentElement):!1;function Wv(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Ny(n))}class _fe extends Tl{constructor(){super(...arguments),this.removeStartListeners=Er,this.removeEndListeners=Er,this.removeAccessibleListeners=Er,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=ds(window,"pointerup",(o,s)=>{if(!this.checkPressEnd())return;const{onTap:l,onTapCancel:c,globalTapTarget:d}=this.node.getProps();Zn.update(()=>{!d&&!WF(this.node.current,o.target)?c&&c(o,s):l&&l(o,s)})},{passive:!(r.onTap||r.onPointerUp)}),i=ds(window,"pointercancel",(o,s)=>this.cancelPress(o,s),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=hl(a,i),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=s=>{s.key!=="Enter"||!this.checkPressEnd()||Wv("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&Zn.update(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=ss(this.node.current,"keyup",o),Wv("down",(s,l)=>{this.startPress(s,l)})},n=ss(this.node.current,"keydown",t),r=()=>{this.isPressing&&Wv("cancel",(i,o)=>this.cancelPress(i,o))},a=ss(this.node.current,"blur",r);this.removeAccessibleListeners=hl(n,a)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Zn.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!VF()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Zn.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=ds(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=ss(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=hl(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const uw=new WeakMap,Hv=new WeakMap,Lfe=e=>{const t=uw.get(e.target);t&&t(e)},Ffe=e=>{e.forEach(Lfe)};function Rfe({root:e,...t}){const n=e||document;Hv.has(n)||Hv.set(n,{});const r=Hv.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(Ffe,{root:e,...t})),r[a]}function $fe(e,t,n){const r=Rfe(t);return uw.set(e,n),r.observe(e),()=>{uw.delete(e),r.unobserve(e)}}const Bfe={some:0,all:1};class zfe extends Tl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:Bfe[a]},s=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=c?d:f;p&&p(l)};return $fe(this.node.current,o,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Ufe(t,n))&&this.startObserver()}unmount(){}}function Ufe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Vfe={inView:{Feature:zfe},tap:{Feature:_fe},focus:{Feature:Ife},hover:{Feature:Ofe}};function HF(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Wfe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function Hfe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function jy(e,t,n){const r=e.getProps();return iN(r,t,n!==void 0?n:r.custom,Wfe(e),Hfe(e))}let oN=Er;const fc=e=>e*1e3,fs=e=>e/1e3,qfe={current:!1},qF=e=>Array.isArray(e)&&typeof e[0]=="number";function KF(e){return!!(!e||typeof e=="string"&&YF[e]||qF(e)||Array.isArray(e)&&e.every(KF))}const Wd=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,YF={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wd([0,.65,.55,1]),circOut:Wd([.55,0,1,.45]),backIn:Wd([.31,.01,.66,-.59]),backOut:Wd([.33,1.53,.69,.99])};function GF(e){if(e)return qF(e)?Wd(e):Array.isArray(e)?e.map(GF):YF[e]}function Kfe(e,t,n,{delay:r=0,duration:a,repeat:i=0,repeatType:o="loop",ease:s,times:l}={}){const c={[t]:n};l&&(c.offset=l);const d=GF(s);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:r,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function Yfe(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const QF=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Gfe=1e-7,Qfe=12;function Xfe(e,t,n,r,a){let i,o,s=0;do o=t+(n-t)/2,i=QF(o,r,a)-e,i>0?n=o:t=o;while(Math.abs(i)>Gfe&&++s<Qfe);return o}function Vp(e,t,n,r){if(e===t&&n===r)return Er;const a=i=>Xfe(i,0,1,e,n);return i=>i===0||i===1?i:QF(a(i),t,r)}const Zfe=Vp(.42,0,1,1),Jfe=Vp(0,0,.58,1),XF=Vp(.42,0,.58,1),epe=e=>Array.isArray(e)&&typeof e[0]!="number",ZF=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,JF=e=>t=>1-e(1-t),sN=e=>1-Math.sin(Math.acos(e)),e6=JF(sN),tpe=ZF(sN),t6=Vp(.33,1.53,.69,.99),lN=JF(t6),npe=ZF(lN),rpe=e=>(e*=2)<1?.5*lN(e):.5*(2-Math.pow(2,-10*(e-1))),ape={linear:Er,easeIn:Zfe,easeInOut:XF,easeOut:Jfe,circIn:sN,circInOut:tpe,circOut:e6,backIn:lN,backInOut:npe,backOut:t6,anticipate:rpe},GE=e=>{if(Array.isArray(e)){oN(e.length===4);const[t,n,r,a]=e;return Vp(t,n,r,a)}else if(typeof e=="string")return ape[e];return e},cN=(e,t)=>n=>!!(zp(n)&&ife.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),n6=(e,t,n)=>r=>{if(!zp(r))return r;const[a,i,o,s]=r.match(Sy);return{[e]:parseFloat(a),[t]:parseFloat(i),[n]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},ipe=e=>xl(0,255,e),qv={..._c,transform:e=>Math.round(ipe(e))},ac={test:cN("rgb","red"),parse:n6("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+qv.transform(e)+", "+qv.transform(t)+", "+qv.transform(n)+", "+sf(of.transform(r))+")"};function ope(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const dw={test:cN("#"),parse:ope,transform:ac.transform},mu={test:cN("hsl","hue"),parse:n6("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Bo.transform(sf(t))+", "+Bo.transform(sf(n))+", "+sf(of.transform(r))+")"},Da={test:e=>ac.test(e)||dw.test(e)||mu.test(e),parse:e=>ac.test(e)?ac.parse(e):mu.test(e)?mu.parse(e):dw.parse(e),transform:e=>zp(e)?e:e.hasOwnProperty("red")?ac.transform(e):mu.transform(e)},fr=(e,t,n)=>-n*e+n*t+e;function Kv(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function spe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,i=0,o=0;if(!t)a=i=o=n;else{const s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;a=Kv(l,s,e+1/3),i=Kv(l,s,e),o=Kv(l,s,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const Yv=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},lpe=[dw,ac,mu],cpe=e=>lpe.find(t=>t.test(e));function QE(e){const t=cpe(e);let n=t.parse(e);return t===mu&&(n=spe(n)),n}const r6=(e,t)=>{const n=QE(e),r=QE(t),a={...n};return i=>(a.red=Yv(n.red,r.red,i),a.green=Yv(n.green,r.green,i),a.blue=Yv(n.blue,r.blue,i),a.alpha=fr(n.alpha,r.alpha,i),ac.transform(a))};function upe(e){var t,n;return isNaN(e)&&zp(e)&&(((t=e.match(Sy))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(TF))===null||n===void 0?void 0:n.length)||0)>0}const a6={regex:rfe,countKey:"Vars",token:"${v}",parse:Er},i6={regex:TF,countKey:"Colors",token:"${c}",parse:Da.parse},o6={regex:Sy,countKey:"Numbers",token:"${n}",parse:_c.parse};function Gv(e,{regex:t,countKey:n,token:r,parse:a}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(a)))}function Vg(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Gv(n,a6),Gv(n,i6),Gv(n,o6),n}function s6(e){return Vg(e).values}function l6(e){const{values:t,numColors:n,numVars:r,tokenised:a}=Vg(e),i=t.length;return o=>{let s=a;for(let l=0;l<i;l++)l<r?s=s.replace(a6.token,o[l]):l<r+n?s=s.replace(i6.token,Da.transform(o[l])):s=s.replace(o6.token,sf(o[l]));return s}}const dpe=e=>typeof e=="number"?0:e;function fpe(e){const t=s6(e);return l6(e)(t.map(dpe))}const wl={test:upe,parse:s6,createTransformer:l6,getAnimatableNone:fpe},c6=(e,t)=>n=>`${n>0?t:e}`;function u6(e,t){return typeof e=="number"?n=>fr(e,t,n):Da.test(e)?r6(e,t):e.startsWith("var(")?c6(e,t):f6(e,t)}const d6=(e,t)=>{const n=[...e],r=n.length,a=e.map((i,o)=>u6(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=a[o](i);return n}},ppe=(e,t)=>{const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=u6(e[a],t[a]));return a=>{for(const i in r)n[i]=r[i](a);return n}},f6=(e,t)=>{const n=wl.createTransformer(t),r=Vg(e),a=Vg(t);return r.numVars===a.numVars&&r.numColors===a.numColors&&r.numNumbers>=a.numNumbers?hl(d6(r.values,a.values),n):c6(e,t)},ep=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},XE=(e,t)=>n=>fr(e,t,n);function mpe(e){return typeof e=="number"?XE:typeof e=="string"?Da.test(e)?r6:f6:Array.isArray(e)?d6:typeof e=="object"?ppe:XE}function hpe(e,t,n){const r=[],a=n||mpe(e[0]),i=e.length-1;for(let o=0;o<i;o++){let s=a(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Er:t;s=hl(l,s)}r.push(s)}return r}function p6(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const i=e.length;if(oN(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=hpe(t,r,a),s=o.length,l=c=>{let d=0;if(s>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const f=ep(e[d],e[d+1],c);return o[d](f)};return n?c=>l(xl(e[0],e[i-1],c)):l}function gpe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=ep(0,t,r);e.push(fr(n,1,a))}}function ype(e){const t=[0];return gpe(t,e.length-1),t}function vpe(e,t){return e.map(n=>n*t)}function bpe(e,t){return e.map(()=>t||XF).splice(0,e.length-1)}function Wg({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=epe(r)?r.map(GE):GE(r),i={done:!1,value:t[0]},o=vpe(n&&n.length===t.length?n:ype(t),e),s=p6(o,t,{ease:Array.isArray(a)?a:bpe(t,a)});return{calculatedDuration:e,next:l=>(i.value=s(l),i.done=l>=e,i)}}function m6(e,t){return t?e*(1e3/t):0}const xpe=5;function h6(e,t,n){const r=Math.max(t-xpe,0);return m6(n-e(r),t-r)}const Qv=.001,wpe=.01,kpe=10,Spe=.05,Npe=1;function jpe({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let a,i,o=1-t;o=xl(Spe,Npe,o),e=xl(wpe,kpe,fs(e)),o<1?(a=c=>{const d=c*o,f=d*e,p=d-n,m=fw(c,o),h=Math.exp(-f);return Qv-p/m*h},i=c=>{const d=c*o*e,f=d*n+n,p=Math.pow(o,2)*Math.pow(c,2)*e,m=Math.exp(-d),h=fw(Math.pow(c,2),o);return(-a(c)+Qv>0?-1:1)*((f-p)*m)/h}):(a=c=>{const d=Math.exp(-c*e),f=(c-n)*e+1;return-Qv+d*f},i=c=>{const d=Math.exp(-c*e),f=(n-c)*(e*e);return d*f});const s=5/e,l=Mpe(a,i,s);if(e=fc(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:e}}}const Cpe=12;function Mpe(e,t,n){let r=n;for(let a=1;a<Cpe;a++)r=r-e(r)/t(r);return r}function fw(e,t){return e*Math.sqrt(1-t*t)}const Ape=["duration","bounce"],Epe=["stiffness","damping","mass"];function ZE(e,t){return t.some(n=>e[n]!==void 0)}function Tpe(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!ZE(e,Epe)&&ZE(e,Ape)){const n=jpe(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function g6({keyframes:e,restDelta:t,restSpeed:n,...r}){const a=e[0],i=e[e.length-1],o={done:!1,value:a},{stiffness:s,damping:l,mass:c,duration:d,velocity:f,isResolvedFromDuration:p}=Tpe({...r,velocity:-fs(r.velocity||0)}),m=f||0,h=l/(2*Math.sqrt(s*c)),v=i-a,x=fs(Math.sqrt(s/c)),g=Math.abs(v)<5;n||(n=g?.01:2),t||(t=g?.005:.5);let b;if(h<1){const w=fw(x,h);b=S=>{const C=Math.exp(-h*x*S);return i-C*((m+h*x*v)/w*Math.sin(w*S)+v*Math.cos(w*S))}}else if(h===1)b=w=>i-Math.exp(-x*w)*(v+(m+x*v)*w);else{const w=x*Math.sqrt(h*h-1);b=S=>{const C=Math.exp(-h*x*S),N=Math.min(w*S,300);return i-C*((m+h*x*v)*Math.sinh(N)+w*v*Math.cosh(N))/w}}return{calculatedDuration:p&&d||null,next:w=>{const S=b(w);if(p)o.done=w>=d;else{let C=m;w!==0&&(h<1?C=h6(b,w,S):C=0);const N=Math.abs(C)<=n,M=Math.abs(i-S)<=t;o.done=N&&M}return o.value=o.done?i:S,o}}}function JE({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:s,max:l,restDelta:c=.5,restSpeed:d}){const f=e[0],p={done:!1,value:f},m=D=>s!==void 0&&D<s||l!==void 0&&D>l,h=D=>s===void 0?l:l===void 0||Math.abs(s-D)<Math.abs(l-D)?s:l;let v=n*t;const x=f+v,g=o===void 0?x:o(x);g!==x&&(v=g-f);const b=D=>-v*Math.exp(-D/r),w=D=>g+b(D),S=D=>{const R=b(D),T=w(D);p.done=Math.abs(R)<=c,p.value=p.done?g:T};let C,N;const M=D=>{m(p.value)&&(C=D,N=g6({keyframes:[p.value,h(p.value)],velocity:h6(w,D,p.value),damping:a,stiffness:i,restDelta:c,restSpeed:d}))};return M(0),{calculatedDuration:null,next:D=>{let R=!1;return!N&&C===void 0&&(R=!0,S(D),M(D)),C!==void 0&&D>C?N.next(D-C):(!R&&S(D),p)}}}const Ppe=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Zn.update(t,!0),stop:()=>Ss(t),now:()=>ya.isProcessing?ya.timestamp:performance.now()}},e5=2e4;function t5(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<e5;)t+=n,r=e.next(t);return t>=e5?1/0:t}const Dpe={decay:JE,inertia:JE,tween:Wg,keyframes:Wg,spring:g6};function Hg({autoplay:e=!0,delay:t=0,driver:n=Ppe,keyframes:r,type:a="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop",onPlay:l,onStop:c,onComplete:d,onUpdate:f,...p}){let m=1,h=!1,v,x;const g=()=>{x=new Promise(I=>{v=I})};g();let b;const w=Dpe[a]||Wg;let S;w!==Wg&&typeof r[0]!="number"&&(S=p6([0,100],r,{clamp:!1}),r=[0,100]);const C=w({...p,keyframes:r});let N;s==="mirror"&&(N=w({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let M="idle",D=null,R=null,T=null;C.calculatedDuration===null&&i&&(C.calculatedDuration=t5(C));const{calculatedDuration:P}=C;let O=1/0,W=1/0;P!==null&&(O=P+o,W=O*(i+1)-o);let Q=0;const ee=I=>{if(R===null)return;m>0&&(R=Math.min(R,I)),m<0&&(R=Math.min(I-W/m,R)),D!==null?Q=D:Q=Math.round(I-R)*m;const E=Q-t*(m>=0?1:-1),j=m>=0?E<0:E>W;Q=Math.max(E,0),M==="finished"&&D===null&&(Q=W);let L=Q,G=C;if(i){const _=Math.min(Q,W)/O;let ne=Math.floor(_),re=_%1;!re&&_>=1&&(re=1),re===1&&ne--,ne=Math.min(ne,i+1),ne%2&&(s==="reverse"?(re=1-re,o&&(re-=o/O)):s==="mirror"&&(G=N)),L=xl(0,1,re)*O}const Z=j?{done:!1,value:r[0]}:G.next(L);S&&(Z.value=S(Z.value));let{done:Y}=Z;!j&&P!==null&&(Y=m>=0?Q>=W:Q<=0);const q=D===null&&(M==="finished"||M==="running"&&Y);return f&&f(Z.value),q&&B(),Z},ue=()=>{b&&b.stop(),b=void 0},z=()=>{M="idle",ue(),v(),g(),R=T=null},B=()=>{M="finished",d&&d(),ue(),v()},ie=()=>{if(h)return;b||(b=n(ee));const I=b.now();l&&l(),D!==null?R=I-D:(!R||M==="finished")&&(R=I),M==="finished"&&g(),T=R,D=null,M="running",b.start()};e&&ie();const k={then(I,E){return x.then(I,E)},get time(){return fs(Q)},set time(I){I=fc(I),Q=I,D!==null||!b||m===0?D=I:R=b.now()-I/m},get duration(){const I=C.calculatedDuration===null?t5(C):C.calculatedDuration;return fs(I)},get speed(){return m},set speed(I){I===m||!b||(m=I,k.time=fs(Q))},get state(){return M},play:ie,pause:()=>{M="paused",D=Q},stop:()=>{h=!0,M!=="idle"&&(M="idle",c&&c(),z())},cancel:()=>{T!==null&&ee(T),z()},complete:()=>{M="finished"},sample:I=>(R=0,ee(I))};return k}function Ope(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ipe=Ope(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),_pe=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Bm=10,Lpe=2e4,Fpe=(e,t)=>t.type==="spring"||e==="backgroundColor"||!KF(t.ease);function Rpe(e,t,{onUpdate:n,onComplete:r,...a}){if(!(Ipe()&&_pe.has(t)&&!a.repeatDelay&&a.repeatType!=="mirror"&&a.damping!==0&&a.type!=="inertia"))return!1;let i=!1,o,s,l=!1;const c=()=>{s=new Promise(g=>{o=g})};c();let{keyframes:d,duration:f=300,ease:p,times:m}=a;if(Fpe(t,a)){const g=Hg({...a,repeat:0,delay:0});let b={done:!1,value:d[0]};const w=[];let S=0;for(;!b.done&&S<Lpe;)b=g.sample(S),w.push(b.value),S+=Bm;m=void 0,d=w,f=S-Bm,p="linear"}const h=Kfe(e.owner.current,t,d,{...a,duration:f,ease:p,times:m}),v=()=>{l=!1,h.cancel()},x=()=>{l=!0,Zn.update(v),o(),c()};return h.onfinish=()=>{l||(e.set(Yfe(d,a)),r&&r(),x())},{then(g,b){return s.then(g,b)},attachTimeline(g){return h.timeline=g,h.onfinish=null,Er},get time(){return fs(h.currentTime||0)},set time(g){h.currentTime=fc(g)},get speed(){return h.playbackRate},set speed(g){h.playbackRate=g},get duration(){return fs(f)},play:()=>{i||(h.play(),Ss(v))},pause:()=>h.pause(),stop:()=>{if(i=!0,h.playState==="idle")return;const{currentTime:g}=h;if(g){const b=Hg({...a,autoplay:!1});e.setWithVelocity(b.sample(g-Bm).value,b.sample(g).value,Bm)}x()},complete:()=>{l||h.finish()},cancel:x}}function $pe({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const a=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Er,pause:Er,stop:Er,then:i=>(i(),Promise.resolve()),cancel:Er,complete:Er});return t?Hg({keyframes:[0,1],duration:0,delay:t,onComplete:a}):a()}const Bpe={type:"spring",stiffness:500,damping:25,restSpeed:10},zpe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Upe={type:"keyframes",duration:.8},Vpe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Wpe=(e,{keyframes:t})=>t.length>2?Upe:Ic.has(e)?e.startsWith("scale")?zpe(t[1]):Bpe:Vpe,pw=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(wl.test(t)||t==="0")&&!t.startsWith("url(")),Hpe=new Set(["brightness","contrast","saturate","opacity"]);function qpe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Sy)||[];if(!r)return e;const a=n.replace(r,"");let i=Hpe.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+a+")"}const Kpe=/([a-z-]*)\(.*?\)/g,mw={...wl,getAnimatableNone:e=>{const t=e.match(Kpe);return t?t.map(qpe).join(" "):e}},Ype={...PF,color:Da,backgroundColor:Da,outlineColor:Da,fill:Da,stroke:Da,borderColor:Da,borderTopColor:Da,borderRightColor:Da,borderBottomColor:Da,borderLeftColor:Da,filter:mw,WebkitFilter:mw},uN=e=>Ype[e];function y6(e,t){let n=uN(e);return n!==mw&&(n=wl),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const v6=e=>/^0[^.\s]+$/.test(e);function Gpe(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||v6(e)}function Qpe(e,t,n,r){const a=pw(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:e.get();let s;const l=[];for(let c=0;c<i.length;c++)i[c]===null&&(i[c]=c===0?o:i[c-1]),Gpe(i[c])&&l.push(c),typeof i[c]=="string"&&i[c]!=="none"&&i[c]!=="0"&&(s=i[c]);if(a&&l.length&&s)for(let c=0;c<l.length;c++){const d=l[c];i[d]=y6(t,s)}return i}function Xpe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:s,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function dN(e,t){return e[t]||e.default||e}const Zpe={skipAnimations:!1},fN=(e,t,n,r={})=>a=>{const i=dN(r,e)||{},o=i.delay||r.delay||0;let{elapsed:s=0}=r;s=s-fc(o);const l=Qpe(t,e,n,i),c=l[0],d=l[l.length-1],f=pw(e,c),p=pw(e,d);let m={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-s,onUpdate:h=>{t.set(h),i.onUpdate&&i.onUpdate(h)},onComplete:()=>{a(),i.onComplete&&i.onComplete()}};if(Xpe(i)||(m={...m,...Wpe(e,m)}),m.duration&&(m.duration=fc(m.duration)),m.repeatDelay&&(m.repeatDelay=fc(m.repeatDelay)),!f||!p||qfe.current||i.type===!1||Zpe.skipAnimations)return $pe(m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const h=Rpe(t,e,m);if(h)return h}return Hg(m)};function qg(e){return!!(ti(e)&&e.add)}const b6=e=>/^\-?\d*\.?\d+$/.test(e);function pN(e,t){e.indexOf(t)===-1&&e.push(t)}function mN(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class hN{constructor(){this.subscriptions=[]}add(t){return pN(this.subscriptions,t),()=>mN(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Jpe=e=>!isNaN(parseFloat(e));class eme{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,a=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=ya;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,Zn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Zn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=Jpe(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new hN);const r=this.events[t].add(n);return t==="change"?()=>{r(),Zn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?m6(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qu(e,t){return new eme(e,t)}const x6=e=>t=>t.test(e),tme={test:e=>e==="auto",parse:e=>e},w6=[_c,Ut,Bo,qs,sfe,ofe,tme],_d=e=>w6.find(x6(e)),nme=[...w6,Da,wl],rme=e=>nme.find(x6(e));function ame(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,qu(n))}function ime(e,t){const n=jy(e,t);let{transitionEnd:r={},transition:a={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const s=kfe(i[o]);ame(e,o,s)}}function ome(e,t,n){var r,a;const i=Object.keys(t).filter(s=>!e.hasValue(s)),o=i.length;if(o)for(let s=0;s<o;s++){const l=i[s],c=t[l];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(a=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&a!==void 0?a:t[l]),d!=null&&(typeof d=="string"&&(b6(d)||v6(d))?d=parseFloat(d):!rme(d)&&wl.test(c)&&(d=y6(l,c)),e.addValue(l,qu(d,{owner:e})),n[l]===void 0&&(n[l]=d),d!==null&&e.setBaseTarget(l,d))}}function sme(e,t){return t?(t[e]||t.default||t).from:void 0}function lme(e,t,n){const r={};for(const a in e){const i=sme(a,t);if(i!==void 0)r[a]=i;else{const o=n.getValue(a);o&&(r[a]=o.get())}}return r}function cme({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function ume(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function k6(e,t,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...s}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(i=r);const c=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const f in s){const p=e.getValue(f),m=s[f];if(!p||m===void 0||d&&cme(d,f))continue;const h={delay:n,elapsed:0,...dN(i||{},f)};if(window.HandoffAppearAnimations){const g=e.getProps()[SF];if(g){const b=window.HandoffAppearAnimations(g,f,p,Zn);b!==null&&(h.elapsed=b,h.isHandoff=!0)}}let v=!h.isHandoff&&!ume(p,m);if(h.type==="spring"&&(p.getVelocity()||h.velocity)&&(v=!1),p.animation&&(v=!1),v)continue;p.start(fN(f,p,m,e.shouldReduceMotion&&Ic.has(f)?{type:!1}:h));const x=p.animation;qg(l)&&(l.add(f),x.then(()=>l.remove(f))),c.push(x)}return o&&Promise.all(c).then(()=>{o&&ime(e,o)}),c}function hw(e,t,n={}){const r=jy(e,t,n.custom);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const i=r?()=>Promise.all(k6(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=a;return dme(e,t,c+l,d,f,n)}:()=>Promise.resolve(),{when:s}=a;if(s){const[l,c]=s==="beforeChildren"?[i,o]:[o,i];return l().then(()=>c())}else return Promise.all([i(),o(n.delay)])}function dme(e,t,n=0,r=0,a=1,i){const o=[],s=(e.variantChildren.size-1)*r,l=a===1?(c=0)=>c*r:(c=0)=>s-c*r;return Array.from(e.variantChildren).sort(fme).forEach((c,d)=>{c.notify("AnimationStart",t),o.push(hw(c,t,{...i,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(o)}function fme(e,t){return e.sortNodePosition(t)}function pme(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(i=>hw(e,i,n));r=Promise.all(a)}else if(typeof t=="string")r=hw(e,t,n);else{const a=typeof t=="function"?jy(e,t,n.custom):t;r=Promise.all(k6(e,a,n))}return r.then(()=>e.notify("AnimationComplete",t))}const mme=[...XS].reverse(),hme=XS.length;function gme(e){return t=>Promise.all(t.map(({animation:n,options:r})=>pme(e,n,r)))}function yme(e){let t=gme(e);const n=bme();let r=!0;const a=(l,c)=>{const d=jy(e,c);if(d){const{transition:f,transitionEnd:p,...m}=d;l={...l,...m,...p}}return l};function i(l){t=l(e)}function o(l,c){const d=e.getProps(),f=e.getVariantContext(!0)||{},p=[],m=new Set;let h={},v=1/0;for(let g=0;g<hme;g++){const b=mme[g],w=n[b],S=d[b]!==void 0?d[b]:f[b],C=Zf(S),N=b===c?w.isActive:null;N===!1&&(v=g);let M=S===f[b]&&S!==d[b]&&C;if(M&&r&&e.manuallyAnimateOnMount&&(M=!1),w.protectedKeys={...h},!w.isActive&&N===null||!S&&!w.prevProp||wy(S)||typeof S=="boolean")continue;let D=vme(w.prevProp,S)||b===c&&w.isActive&&!M&&C||g>v&&C,R=!1;const T=Array.isArray(S)?S:[S];let P=T.reduce(a,{});N===!1&&(P={});const{prevResolvedValues:O={}}=w,W={...O,...P},Q=ee=>{D=!0,m.has(ee)&&(R=!0,m.delete(ee)),w.needsAnimating[ee]=!0};for(const ee in W){const ue=P[ee],z=O[ee];if(h.hasOwnProperty(ee))continue;let B=!1;Ug(ue)&&Ug(z)?B=!HF(ue,z):B=ue!==z,B?ue!==void 0?Q(ee):m.add(ee):ue!==void 0&&m.has(ee)?Q(ee):w.protectedKeys[ee]=!0}w.prevProp=S,w.prevResolvedValues=P,w.isActive&&(h={...h,...P}),r&&e.blockInitialAnimation&&(D=!1),D&&(!M||R)&&p.push(...T.map(ee=>({animation:ee,options:{type:b,...l}})))}if(m.size){const g={};m.forEach(b=>{const w=e.getBaseTarget(b);w!==void 0&&(g[b]=w)}),p.push({animation:g})}let x=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(x=!1),r=!1,x?t(p):Promise.resolve()}function s(l,c,d){var f;if(n[l].isActive===c)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var h;return(h=m.animationState)===null||h===void 0?void 0:h.setActive(l,c)}),n[l].isActive=c;const p=o(d,l);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:o,setActive:s,setAnimateFunction:i,getState:()=>n}}function vme(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!HF(t,e):!1}function Bl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bme(){return{animate:Bl(!0),whileInView:Bl(),whileHover:Bl(),whileTap:Bl(),whileDrag:Bl(),whileFocus:Bl(),exit:Bl()}}class xme extends Tl{constructor(t){super(t),t.animationState||(t.animationState=yme(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),wy(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let wme=0;class kme extends Tl{constructor(){super(...arguments),this.id=wme++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Sme={animation:{Feature:xme},exit:{Feature:kme}},n5=(e,t)=>Math.abs(e-t);function Nme(e,t){const n=n5(e.x,t.x),r=n5(e.y,t.y);return Math.sqrt(n**2+r**2)}class S6{constructor(t,n,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Zv(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=Nme(f.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:h}=f,{timestamp:v}=ya;this.history.push({...h,timestamp:v});const{onStart:x,onMove:g}=this.handlers;p||(x&&x(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Xv(p,this.transformPagePoint),Zn.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:m,onSessionEnd:h,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Zv(f.type==="pointercancel"?this.lastMoveEventInfo:Xv(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,x),h&&h(f,x)},!BF(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=a||window;const o=Ny(t),s=Xv(o,this.transformPagePoint),{point:l}=s,{timestamp:c}=ya;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(t,Zv(s,this.history)),this.removeListeners=hl(ds(this.contextWindow,"pointermove",this.handlePointerMove),ds(this.contextWindow,"pointerup",this.handlePointerUp),ds(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ss(this.updatePoint)}}function Xv(e,t){return t?{point:t(e.point)}:e}function r5(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Zv({point:e},t){return{point:e,delta:r5(e,N6(t)),offset:r5(e,jme(t)),velocity:Cme(t,.1)}}function jme(e){return e[0]}function N6(e){return e[e.length-1]}function Cme(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=N6(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>fc(t)));)n--;if(!r)return{x:0,y:0};const i=fs(a.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-r.x)/i,y:(a.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ji(e){return e.max-e.min}function gw(e,t=0,n=.01){return Math.abs(e-t)<=n}function a5(e,t,n,r=.5){e.origin=r,e.originPoint=fr(t.min,t.max,e.origin),e.scale=ji(n)/ji(t),(gw(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=fr(n.min,n.max,e.origin)-e.originPoint,(gw(e.translate)||isNaN(e.translate))&&(e.translate=0)}function lf(e,t,n,r){a5(e.x,t.x,n.x,r?r.originX:void 0),a5(e.y,t.y,n.y,r?r.originY:void 0)}function i5(e,t,n){e.min=n.min+t.min,e.max=e.min+ji(t)}function Mme(e,t,n){i5(e.x,t.x,n.x),i5(e.y,t.y,n.y)}function o5(e,t,n){e.min=t.min-n.min,e.max=e.min+ji(t)}function cf(e,t,n){o5(e.x,t.x,n.x),o5(e.y,t.y,n.y)}function Ame(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?fr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?fr(n,e,r.max):Math.min(e,n)),e}function s5(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Eme(e,{top:t,left:n,bottom:r,right:a}){return{x:s5(e.x,n,a),y:s5(e.y,t,r)}}function l5(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Tme(e,t){return{x:l5(e.x,t.x),y:l5(e.y,t.y)}}function Pme(e,t){let n=.5;const r=ji(e),a=ji(t);return a>r?n=ep(t.min,t.max-r,e.min):r>a&&(n=ep(e.min,e.max-a,t.min)),xl(0,1,n)}function Dme(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const yw=.35;function Ome(e=yw){return e===!1?e=0:e===!0&&(e=yw),{x:c5(e,"left","right"),y:c5(e,"top","bottom")}}function c5(e,t,n){return{min:u5(e,t),max:u5(e,n)}}function u5(e,t){return typeof e=="number"?e:e[t]||0}const d5=()=>({translate:0,scale:1,origin:0,originPoint:0}),hu=()=>({x:d5(),y:d5()}),f5=()=>({min:0,max:0}),Dr=()=>({x:f5(),y:f5()});function Li(e){return[e("x"),e("y")]}function j6({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Ime({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function _me(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Jv(e){return e===void 0||e===1}function vw({scale:e,scaleX:t,scaleY:n}){return!Jv(e)||!Jv(t)||!Jv(n)}function Kl(e){return vw(e)||C6(e)||e.z||e.rotate||e.rotateX||e.rotateY}function C6(e){return p5(e.x)||p5(e.y)}function p5(e){return e&&e!=="0%"}function Kg(e,t,n){const r=e-n,a=t*r;return n+a}function m5(e,t,n,r,a){return a!==void 0&&(e=Kg(e,a,r)),Kg(e,n,r)+t}function bw(e,t=0,n=1,r,a){e.min=m5(e.min,t,n,r,a),e.max=m5(e.max,t,n,r,a)}function M6(e,{x:t,y:n}){bw(e.x,t.translate,t.scale,t.originPoint),bw(e.y,n.translate,n.scale,n.originPoint)}function Lme(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let i,o;for(let s=0;s<a;s++){i=n[s],o=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&gu(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,M6(e,o)),r&&Kl(i.latestValues)&&gu(e,i.latestValues))}t.x=h5(t.x),t.y=h5(t.y)}function h5(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Xs(e,t){e.min=e.min+t,e.max=e.max+t}function g5(e,t,[n,r,a]){const i=t[a]!==void 0?t[a]:.5,o=fr(e.min,e.max,i);bw(e,t[n],t[r],o,t.scale)}const Fme=["x","scaleX","originX"],Rme=["y","scaleY","originY"];function gu(e,t){g5(e.x,t,Fme),g5(e.y,t,Rme)}function A6(e,t){return j6(_me(e.getBoundingClientRect(),t))}function $me(e,t,n){const r=A6(e,n),{scroll:a}=t;return a&&(Xs(r.x,a.offset.x),Xs(r.y,a.offset.y)),r}const E6=({current:e})=>e?e.ownerDocument.defaultView:null,Bme=new WeakMap;class zme{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Dr(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ny(d,"page").point)},i=(d,f)=>{const{drag:p,dragPropagation:m,onDragStart:h}=this.getProps();if(p&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=UF(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Li(x=>{let g=this.getAxisMotionValue(x).get()||0;if(Bo.test(g)){const{projection:b}=this.visualElement;if(b&&b.layout){const w=b.layout.layoutBox[x];w&&(g=ji(w)*(parseFloat(g)/100))}}this.originPoint[x]=g}),h&&Zn.update(()=>h(d,f),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:h,onDrag:v}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:x}=f;if(m&&this.currentDirection===null){this.currentDirection=Ume(x),this.currentDirection!==null&&h&&h(this.currentDirection);return}this.updateAxis("x",f.point,x),this.updateAxis("y",f.point,x),this.visualElement.render(),v&&v(d,f)},s=(d,f)=>this.stop(d,f),l=()=>Li(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new S6(t,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:s,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:E6(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&Zn.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!zm(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=Ame(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&pu(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=Eme(a.layoutBox,n):this.constraints=!1,this.elastic=Ome(r),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Li(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=Dme(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!pu(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=$me(r,a.root,this.visualElement.getTransformPagePoint());let o=Tme(a.layout.layoutBox,i);if(n){const s=n(Ime(o));this.hasMutatedConstraints=!!s,s&&(o=j6(s))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},c=Li(d=>{if(!zm(d,n,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const p=a?200:1e6,m=a?40:1e7,h={type:"inertia",velocity:r?t[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,h)});return Promise.all(c).then(s)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(fN(t,r,0,n))}stopAnimation(){Li(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Li(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps();return r[n]||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Li(n=>{const{drag:r}=this.getProps();if(!zm(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(n);if(a&&a.layout){const{min:o,max:s}=a.layout.layoutBox[n];i.set(t[n]-fr(o,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!pu(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Li(o=>{const s=this.getAxisMotionValue(o);if(s){const l=s.get();a[o]=Pme({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Li(o=>{if(!zm(o,t,null))return;const s=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];s.set(fr(l,c,a[o]))})}addListeners(){if(!this.visualElement.current)return;Bme.set(this.visualElement,this);const t=this.visualElement.current,n=ds(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();pu(l)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),r();const o=ss(window,"resize",()=>this.scalePositionWithinConstraints()),s=a.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Li(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=yw,dragMomentum:s=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:s}}}function zm(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Ume(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Vme extends Tl{constructor(t){super(t),this.removeGroupControls=Er,this.removeListeners=Er,this.controls=new zme(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Er}unmount(){this.removeGroupControls(),this.removeListeners()}}const y5=e=>(t,n)=>{e&&Zn.update(()=>e(t,n))};class Wme extends Tl{constructor(){super(...arguments),this.removePointerDownListener=Er}onPointerDown(t){this.session=new S6(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:E6(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:y5(t),onStart:y5(n),onMove:r,onEnd:(i,o)=>{delete this.session,a&&Zn.update(()=>a(i,o))}}}mount(){this.removePointerDownListener=ds(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Hme(){const e=y.useContext(GS);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,a=y.useId();return y.useEffect(()=>r(a),[]),!t&&n?[!1,()=>n&&n(a)]:[!0]}const ph={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function v5(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ld={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ut.test(e))e=parseFloat(e);else return e;const n=v5(e,t.target.x),r=v5(e,t.target.y);return`${n}% ${r}%`}},qme={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=wl.parse(e);if(a.length>5)return r;const i=wl.createTransformer(e),o=typeof a[0]!="number"?1:0,s=n.x.scale*t.x,l=n.y.scale*t.y;a[0+o]/=s,a[1+o]/=l;const c=fr(s,l,.5);return typeof a[2+o]=="number"&&(a[2+o]/=c),typeof a[3+o]=="number"&&(a[3+o]/=c),i(a)}};class Kme extends Gg.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:i}=t;Jde(Yme),i&&(n.group&&n.group.add(i),r&&r.register&&a&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ph.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,a||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Zn.postRender(()=>{const s=o.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function T6(e){const[t,n]=Hme(),r=y.useContext(jF);return Gg.createElement(Kme,{...e,layoutGroup:r,switchLayoutGroup:y.useContext(CF),isPresent:t,safeToRemove:n})}const Yme={borderRadius:{...Ld,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ld,borderTopRightRadius:Ld,borderBottomLeftRadius:Ld,borderBottomRightRadius:Ld,boxShadow:qme},P6=["TopLeft","TopRight","BottomLeft","BottomRight"],Gme=P6.length,b5=e=>typeof e=="string"?parseFloat(e):e,x5=e=>typeof e=="number"||Ut.test(e);function Qme(e,t,n,r,a,i){a?(e.opacity=fr(0,n.opacity!==void 0?n.opacity:1,Xme(r)),e.opacityExit=fr(t.opacity!==void 0?t.opacity:1,0,Zme(r))):i&&(e.opacity=fr(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Gme;o++){const s=`border${P6[o]}Radius`;let l=w5(t,s),c=w5(n,s);l===void 0&&c===void 0||(l||(l=0),c||(c=0),l===0||c===0||x5(l)===x5(c)?(e[s]=Math.max(fr(b5(l),b5(c),r),0),(Bo.test(c)||Bo.test(l))&&(e[s]+="%")):e[s]=c)}(t.rotate||n.rotate)&&(e.rotate=fr(t.rotate||0,n.rotate||0,r))}function w5(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Xme=D6(0,.5,e6),Zme=D6(.5,.95,Er);function D6(e,t,n){return r=>r<e?0:r>t?1:n(ep(e,t,r))}function k5(e,t){e.min=t.min,e.max=t.max}function Oi(e,t){k5(e.x,t.x),k5(e.y,t.y)}function S5(e,t,n,r,a){return e-=t,e=Kg(e,1/n,r),a!==void 0&&(e=Kg(e,1/a,r)),e}function Jme(e,t=0,n=1,r=.5,a,i=e,o=e){if(Bo.test(t)&&(t=parseFloat(t),t=fr(o.min,o.max,t/100)-o.min),typeof t!="number")return;let s=fr(i.min,i.max,r);e===i&&(s-=t),e.min=S5(e.min,t,n,s,a),e.max=S5(e.max,t,n,s,a)}function N5(e,t,[n,r,a],i,o){Jme(e,t[n],t[r],t[a],t.scale,i,o)}const ehe=["x","scaleX","originX"],the=["y","scaleY","originY"];function j5(e,t,n,r){N5(e.x,t,ehe,n?n.x:void 0,r?r.x:void 0),N5(e.y,t,the,n?n.y:void 0,r?r.y:void 0)}function C5(e){return e.translate===0&&e.scale===1}function O6(e){return C5(e.x)&&C5(e.y)}function nhe(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function I6(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function M5(e){return ji(e.x)/ji(e.y)}class rhe{constructor(){this.members=[]}add(t){pN(this.members,t),t.scheduleRender()}remove(t){if(mN(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function A5(e,t,n){let r="";const a=e.x.translate/t.x,i=e.y.translate/t.y;if((a||i)&&(r=`translate3d(${a}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:c,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,s=e.y.scale*t.y;return(o!==1||s!==1)&&(r+=`scale(${o}, ${s})`),r||"none"}const ahe=(e,t)=>e.depth-t.depth;class ihe{constructor(){this.children=[],this.isDirty=!1}add(t){pN(this.children,t),this.isDirty=!0}remove(t){mN(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(ahe),this.isDirty=!1,this.children.forEach(t)}}function ohe(e,t){const n=performance.now(),r=({timestamp:a})=>{const i=a-n;i>=t&&(Ss(r),e(i-t))};return Zn.read(r,!0),()=>Ss(r)}function she(e){window.MotionDebug&&window.MotionDebug.record(e)}function lhe(e){return e instanceof SVGElement&&e.tagName!=="svg"}function che(e,t,n){const r=ti(e)?e:qu(e);return r.start(fN("",r,t,n)),r.animation}const E5=["","X","Y","Z"],uhe={visibility:"hidden"},T5=1e3;let dhe=0;const Yl={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function _6({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(i={},o=t==null?void 0:t()){this.id=dhe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Yl.totalNodes=Yl.resolvedTargetDeltas=Yl.recalculatedProjection=0,this.nodes.forEach(mhe),this.nodes.forEach(bhe),this.nodes.forEach(xhe),this.nodes.forEach(hhe),she(Yl)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let s=0;s<this.path.length;s++)this.path[s].shouldResetTransform=!0;this.root===this&&(this.nodes=new ihe)}addEventListener(i,o){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new hN),this.eventHandlers.get(i).add(o)}notifyListeners(i,...o){const s=this.eventHandlers.get(i);s&&s.notify(...o)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=lhe(i),this.instance=i;const{layoutId:s,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(l||s)&&(this.isLayoutDirty=!0),e){let d;const f=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=ohe(f,250),ph.hasAnimatedSinceResize&&(ph.hasAnimatedSinceResize=!1,this.nodes.forEach(D5))})}s&&this.root.registerSharedNode(s,this),this.options.animate!==!1&&c&&(s||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const h=this.options.transition||c.getDefaultTransition()||jhe,{onLayoutAnimationStart:v,onLayoutAnimationComplete:x}=c.getProps(),g=!this.targetLayout||!I6(this.targetLayout,m)||p,b=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||f&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,b);const w={...dN(h,"layout"),onPlay:v,onComplete:x};(c.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else f||D5(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ss(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(whe),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:s}=this.options;if(o===void 0&&!s)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(P5);return}this.isUpdating||this.nodes.forEach(yhe),this.isUpdating=!1,this.nodes.forEach(vhe),this.nodes.forEach(fhe),this.nodes.forEach(phe),this.clearAllSnapshots();const i=performance.now();ya.delta=xl(0,1e3/60,i-ya.timestamp),ya.timestamp=i,ya.isProcessing=!0,Vv.update.process(ya),Vv.preRender.process(ya),Vv.render.process(ya),ya.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(ghe),this.sharedNodes.forEach(khe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Zn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Zn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let s=0;s<this.path.length;s++)this.path[s].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Dr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!a)return;const i=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!O6(this.projectionDelta),s=this.getTransformTemplate(),l=s?s(this.latestValues,""):void 0,c=l!==this.prevTransformTemplateValue;i&&(o||Kl(this.latestValues)||c)&&(a(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const o=this.measurePageBox();let s=this.removeElementScroll(o);return i&&(s=this.removeTransform(s)),Che(s),{animationId:this.root.animationId,measuredBox:o,layoutBox:s,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return Dr();const o=i.measureViewportBox(),{scroll:s}=this.root;return s&&(Xs(o.x,s.offset.x),Xs(o.y,s.offset.y)),o}removeElementScroll(i){const o=Dr();Oi(o,i);for(let s=0;s<this.path.length;s++){const l=this.path[s],{scroll:c,options:d}=l;if(l!==this.root&&c&&d.layoutScroll){if(c.isRoot){Oi(o,i);const{scroll:f}=this.root;f&&(Xs(o.x,-f.offset.x),Xs(o.y,-f.offset.y))}Xs(o.x,c.offset.x),Xs(o.y,c.offset.y)}}return o}applyTransform(i,o=!1){const s=Dr();Oi(s,i);for(let l=0;l<this.path.length;l++){const c=this.path[l];!o&&c.options.layoutScroll&&c.scroll&&c!==c.root&&gu(s,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Kl(c.latestValues)&&gu(s,c.latestValues)}return Kl(this.latestValues)&&gu(s,this.latestValues),s}removeTransform(i){const o=Dr();Oi(o,i);for(let s=0;s<this.path.length;s++){const l=this.path[s];if(!l.instance||!Kl(l.latestValues))continue;vw(l.latestValues)&&l.updateSnapshot();const c=Dr(),d=l.measurePageBox();Oi(c,d),j5(o,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,c)}return Kl(this.latestValues)&&j5(o,this.latestValues),o}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ya.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var o;const s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==s;if(!(i||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:c,layoutId:d}=this.options;if(!(!this.layout||!(c||d))){if(this.resolvedRelativeTargetAt=ya.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dr(),this.relativeTargetOrigin=Dr(),cf(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Oi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Dr(),this.targetWithTransforms=Dr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Mme(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Oi(this.target,this.layout.layoutBox),M6(this.target,this.targetDelta)):Oi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dr(),this.relativeTargetOrigin=Dr(),cf(this.relativeTargetOrigin,this.target,f.target),Oi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Yl.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||vw(this.parent.latestValues)||C6(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const o=this.getLead(),s=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(l=!1),s&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===ya.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;Oi(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;Lme(this.layoutCorrected,this.treeScale,this.path,s),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:m}=o;if(!m){this.projectionTransform&&(this.projectionDelta=hu(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=hu(),this.projectionDeltaWithTransform=hu());const h=this.projectionTransform;lf(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=A5(this.projectionDelta,this.treeScale),(this.projectionTransform!==h||this.treeScale.x!==f||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),Yl.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,o=!1){const s=this.snapshot,l=s?s.latestValues:{},c={...this.latestValues},d=hu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=Dr(),p=s?s.source:void 0,m=this.layout?this.layout.source:void 0,h=p!==m,v=this.getStack(),x=!v||v.members.length<=1,g=!!(h&&!x&&this.options.crossfade===!0&&!this.path.some(Nhe));this.animationProgress=0;let b;this.mixTargetDelta=w=>{const S=w/1e3;O5(d.x,i.x,S),O5(d.y,i.y,S),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(cf(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),She(this.relativeTarget,this.relativeTargetOrigin,f,S),b&&nhe(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Dr()),Oi(b,this.relativeTarget)),h&&(this.animationValues=c,Qme(c,l,this.latestValues,S,g,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ss(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Zn.update(()=>{ph.hasAnimatedSinceResize=!0,this.currentAnimation=che(0,T5,{...i,onUpdate:o=>{this.mixTargetDelta(o),i.onUpdate&&i.onUpdate(o)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(T5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:o,target:s,layout:l,latestValues:c}=i;if(!(!o||!s||!l)){if(this!==i&&this.layout&&l&&L6(this.options.animationType,this.layout.layoutBox,l.layoutBox)){s=this.target||Dr();const d=ji(this.layout.layoutBox.x);s.x.min=i.target.x.min,s.x.max=s.x.min+d;const f=ji(this.layout.layoutBox.y);s.y.min=i.target.y.min,s.y.max=s.y.min+f}Oi(o,s),gu(o,c),lf(this.projectionDeltaWithTransform,this.layoutCorrected,o,c)}}registerSharedNode(i,o){this.sharedNodes.has(i)||this.sharedNodes.set(i,new rhe),this.sharedNodes.get(i).add(o);const s=o.options.initialPromotionConfig;o.promote({transition:s?s.transition:void 0,preserveFollowOpacity:s&&s.shouldPreserveFollowOpacity?s.shouldPreserveFollowOpacity(o):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:o}=this.options;return o?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:o}=this.options;return o?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:o,preserveFollowOpacity:s}={}){const l=this.getStack();l&&l.promote(this,s),i&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetRotation(){const{visualElement:i}=this.options;if(!i)return;let o=!1;const{latestValues:s}=i;if((s.rotate||s.rotateX||s.rotateY||s.rotateZ)&&(o=!0),!o)return;const l={};for(let c=0;c<E5.length;c++){const d="rotate"+E5[c];s[d]&&(l[d]=s[d],i.setStaticValue(d,0))}i.render();for(const c in l)i.setStaticValue(c,l[c]);i.scheduleRender()}getProjectionStyles(i){var o,s;if(!this.instance||this.isSVG)return;if(!this.isVisible)return uhe;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=fh(i==null?void 0:i.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const h={};return this.options.layoutId&&(h.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,h.pointerEvents=fh(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!Kl(this.latestValues)&&(h.transform=c?c({},""):"none",this.hasProjected=!1),h}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),l.transform=A5(this.projectionDeltaWithTransform,this.treeScale,f),c&&(l.transform=c(f,l.transform));const{x:p,y:m}=this.projectionDelta;l.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,d.animationValues?l.opacity=d===this?(s=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&s!==void 0?s:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:l.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const h in Bg){if(f[h]===void 0)continue;const{correct:v,applyTo:x}=Bg[h],g=l.transform==="none"?f[h]:v(f[h],d);if(x){const b=x.length;for(let w=0;w<b;w++)l[x[w]]=g}else l[h]=g}return this.options.layoutId&&(l.pointerEvents=d===this?fh(i==null?void 0:i.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var o;return(o=i.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(P5),this.root.sharedNodes.clear()}}}function fhe(e){e.updateLayout()}function phe(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?Li(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=ji(p);p.min=r[f].min,p.max=p.min+m}):L6(i,n.layoutBox,r)&&Li(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=ji(r[f]);p.max=p.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const s=hu();lf(s,r,n.layoutBox);const l=hu();o?lf(l,e.applyTransform(a,!0),n.measuredBox):lf(l,r,n.layoutBox);const c=!O6(s);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const h=Dr();cf(h,n.layoutBox,p.layoutBox);const v=Dr();cf(v,r,m.layoutBox),I6(h,v)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=h,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:s,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function mhe(e){Yl.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function hhe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function ghe(e){e.clearSnapshot()}function P5(e){e.clearMeasurements()}function yhe(e){e.isLayoutDirty=!1}function vhe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function D5(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function bhe(e){e.resolveTargetDelta()}function xhe(e){e.calcProjection()}function whe(e){e.resetRotation()}function khe(e){e.removeLeadSnapshot()}function O5(e,t,n){e.translate=fr(t.translate,0,n),e.scale=fr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function I5(e,t,n,r){e.min=fr(t.min,n.min,r),e.max=fr(t.max,n.max,r)}function She(e,t,n,r){I5(e.x,t.x,n.x,r),I5(e.y,t.y,n.y,r)}function Nhe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const jhe={duration:.45,ease:[.4,0,.1,1]},_5=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),L5=_5("applewebkit/")&&!_5("chrome/")?Math.round:Er;function F5(e){e.min=L5(e.min),e.max=L5(e.max)}function Che(e){F5(e.x),F5(e.y)}function L6(e,t,n){return e==="position"||e==="preserve-aspect"&&!gw(M5(t),M5(n),.2)}const Mhe=_6({attachResizeListener:(e,t)=>ss(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),eb={current:void 0},F6=_6({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!eb.current){const e=new Mhe({});e.mount(window),e.setOptions({layoutScroll:!0}),eb.current=e}return eb.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Ahe={pan:{Feature:Wme},drag:{Feature:Vme,ProjectionNode:F6,MeasureLayout:T6}},Ehe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function The(e){const t=Ehe.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function xw(e,t,n=1){const[r,a]=The(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return b6(o)?parseFloat(o):o}else return cw(a)?xw(a,t,n+1):a}function Phe(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(a=>{const i=a.get();if(!cw(i))return;const o=xw(i,r);o&&a.set(o)});for(const a in t){const i=t[a];if(!cw(i))continue;const o=xw(i,r);o&&(t[a]=o,n||(n={}),n[a]===void 0&&(n[a]=i))}return{target:t,transitionEnd:n}}const Dhe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),R6=e=>Dhe.has(e),Ohe=e=>Object.keys(e).some(R6),R5=e=>e===_c||e===Ut,$5=(e,t)=>parseFloat(e.split(", ")[t]),B5=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const a=r.match(/^matrix3d\((.+)\)$/);if(a)return $5(a[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?$5(i[1],e):0}},Ihe=new Set(["x","y","z"]),_he=Bp.filter(e=>!Ihe.has(e));function Lhe(e){const t=[];return _he.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Ku={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:B5(4,13),y:B5(5,14)};Ku.translateX=Ku.x;Ku.translateY=Ku.y;const Fhe=(e,t,n)=>{const r=t.measureViewportBox(),a=t.current,i=getComputedStyle(a),{display:o}=i,s={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(c=>{s[c]=Ku[c](r,i)}),t.render();const l=t.measureViewportBox();return n.forEach(c=>{const d=t.getValue(c);d&&d.jump(s[c]),e[c]=Ku[c](l,i)}),e},Rhe=(e,t,n={},r={})=>{t={...t},r={...r};const a=Object.keys(t).filter(R6);let i=[],o=!1;const s=[];if(a.forEach(l=>{const c=e.getValue(l);if(!e.hasValue(l))return;let d=n[l],f=_d(d);const p=t[l];let m;if(Ug(p)){const h=p.length,v=p[0]===null?1:0;d=p[v],f=_d(d);for(let x=v;x<h&&p[x]!==null;x++)m?oN(_d(p[x])===m):m=_d(p[x])}else m=_d(p);if(f!==m)if(R5(f)&&R5(m)){const h=c.get();typeof h=="string"&&c.set(parseFloat(h)),typeof p=="string"?t[l]=parseFloat(p):Array.isArray(p)&&m===Ut&&(t[l]=p.map(parseFloat))}else f!=null&&f.transform&&m!=null&&m.transform&&(d===0||p===0)?d===0?c.set(m.transform(d)):t[l]=f.transform(p):(o||(i=Lhe(e),o=!0),s.push(l),r[l]=r[l]!==void 0?r[l]:t[l],c.jump(p))}),s.length){const l=s.indexOf("height")>=0?window.pageYOffset:null,c=Fhe(t,e,s);return i.length&&i.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),xy&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:t,transitionEnd:r}};function $he(e,t,n,r){return Ohe(t)?Rhe(e,t,n,r):{target:t,transitionEnd:r}}const Bhe=(e,t,n,r)=>{const a=Phe(e,t,r);return t=a.target,r=a.transitionEnd,$he(e,t,n,r)},ww={current:null},$6={current:!1};function zhe(){if($6.current=!0,!!xy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ww.current=e.matches;e.addListener(t),t()}else ww.current=!1}function Uhe(e,t,n){const{willChange:r}=t;for(const a in t){const i=t[a],o=n[a];if(ti(i))e.addValue(a,i),qg(r)&&r.add(a);else if(ti(o))e.addValue(a,qu(i,{owner:e})),qg(r)&&r.remove(a);else if(o!==i)if(e.hasValue(a)){const s=e.getValue(a);!s.hasAnimated&&s.set(i)}else{const s=e.getStaticValue(a);e.addValue(a,qu(s!==void 0?s:i,{owner:e}))}}for(const a in n)t[a]===void 0&&e.removeValue(a);return t}const z5=new WeakMap,B6=Object.keys(Jf),Vhe=B6.length,U5=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Whe=ZS.length;class Hhe{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Zn.render(this.render,!1,!0);const{latestValues:s,renderState:l}=i;this.latestValues=s,this.baseTarget={...s},this.initialValues=n.initial?{...s}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.isControllingVariants=ky(n),this.isVariantNode=NF(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const p=d[f];s[f]!==void 0&&ti(p)&&(p.set(s[f],!1),qg(c)&&c.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,z5.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),$6.current||zhe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ww.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){z5.delete(this.current),this.projection&&this.projection.unmount(),Ss(this.notifyUpdate),Ss(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Ic.has(t),a=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Zn.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{a(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,a,i){let o,s;for(let l=0;l<Vhe;l++){const c=B6[l],{isEnabled:d,Feature:f,ProjectionNode:p,MeasureLayout:m}=Jf[c];p&&(o=p),d(n)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),m&&(s=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:d,dragConstraints:f,layoutScroll:p,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!d||f&&pu(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:m})}return s}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Dr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<U5.length;r++){const a=U5[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i=t["on"+a];i&&(this.propEventSubscriptions[a]=this.on(a,i))}this.prevMotionValues=Uhe(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Whe;r++){const a=ZS[r],i=this.props[a];(Zf(i)||i===!1)&&(n[a]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=qu(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,a=typeof r=="string"||typeof r=="object"?(n=iN(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!ti(i)?i:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new hN),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class z6 extends Hhe{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:a},i){let o=lme(r,t||{},this);if(a&&(n&&(n=a(n)),r&&(r=a(r)),o&&(o=a(o))),i){ome(this,r,o);const s=Bhe(this,r,o,n);n=s.transitionEnd,r=s.target}return{transition:t,transitionEnd:n,...r}}}function qhe(e){return window.getComputedStyle(e)}class Khe extends z6{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Ic.has(n)){const r=uN(n);return r&&r.default||0}else{const r=qhe(t),a=(EF(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return A6(t,n)}build(t,n,r,a){eN(t,n,r,a.transformTemplate)}scrapeMotionValuesFromProps(t,n){return aN(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ti(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,a){_F(t,n,r,a)}}class Yhe extends z6{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ic.has(n)){const r=uN(n);return r&&r.default||0}return n=LF.has(n)?n:QS(n),t.getAttribute(n)}measureInstanceViewportBox(){return Dr()}scrapeMotionValuesFromProps(t,n){return RF(t,n)}build(t,n,r,a){nN(t,n,r,this.isSVGTag,a.transformTemplate)}renderInstance(t,n,r,a){FF(t,n,r,a)}mount(t){this.isSVGTag=rN(t.tagName),super.mount(t)}}const Ghe=(e,t)=>JS(e)?new Yhe(t,{enableHardwareAcceleration:!1}):new Khe(t,{enableHardwareAcceleration:!0}),Qhe={layout:{ProjectionNode:F6,MeasureLayout:T6}},Xhe={...Sme,...Vfe,...Ahe,...Qhe},Po=Xde((e,t)=>Tfe(e,t,Xhe,Ghe));function Zhe({isOpen:e,onClose:t,searchValue:n,searchFocused:r,searchResults:a,onSearchChange:i,onSearchFocus:o,onSearchBlur:s,onSearchEnter:l,onSearchResultMouseDown:c,renderHighlightedMatch:d,searchRef:f,tocItems:p,activeTocId:m,onTocClick:h,contentRef:v,children:x}){return e?u.jsx("div",{className:"app-modal-overlay fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-lg",onClick:g=>g.target===g.currentTarget&&t(),children:u.jsxs("div",{className:"app-modal-card proof-of-work-modal relative w-full max-w-4xl bg-[#10151b]/95 border border-white/10 rounded-xl shadow-[0_20px_60px_rgba(0,0,0,0.55)] p-6 overflow-hidden",children:[u.jsxs("div",{className:"pointer-events-none absolute inset-0 opacity-60",children:[u.jsx("div",{className:"absolute -top-24 -right-24 h-56 w-56 rounded-full bg-cyan-500/8 blur-3xl"}),u.jsx("div",{className:"absolute -bottom-24 -left-16 h-64 w-64 rounded-full bg-slate-500/10 blur-3xl"})]}),u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-cyan-300/70",children:"Proof of Work"}),u.jsx("div",{className:"text-xl font-semibold text-white mt-1",children:"Metrics Specification"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"relative",ref:f,children:[u.jsx("input",{type:"text",value:n,onChange:g=>i(g.target.value),onFocus:o,onBlur:g=>s(g.relatedTarget),onKeyDown:g=>{g.key==="Enter"&&l()},placeholder:"Search spec...",className:"proof-of-work-search w-56 rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/30"}),r&&a.length>0&&n.trim().length>=2&&u.jsx("div",{className:"proof-of-work-search-results absolute right-0 mt-2 w-80 max-h-64 overflow-y-auto rounded-lg border border-white/10 bg-[#0d1218]/95 shadow-2xl z-10",children:a.map((g,b)=>u.jsxs("button",{className:"w-full text-left px-3 py-2 text-xs text-gray-200 hover:bg-white/10 border-b border-white/5 last:border-b-0",onMouseDown:w=>{w.preventDefault(),c(g)},children:[u.jsx("div",{className:"text-[10px] uppercase tracking-wide text-gray-500 mb-1",children:g.section}),u.jsx("div",{className:"truncate",children:d(g.text,n)})]},`${g.hitId}-${b}-${g.text}`))})]}),u.jsx("button",{onClick:t,className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":"Close proof of work",children:u.jsx(za,{className:"w-5 h-5"})})]})]}),u.jsx("div",{className:"h-[65vh]",children:u.jsxs("div",{className:"grid grid-cols-[230px_1fr] gap-4 h-full min-h-0",children:[u.jsxs("div",{className:"proof-of-work-sidebar h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-white/5 p-3",children:[u.jsx("div",{className:"proof-of-work-toc-header text-[10px] uppercase tracking-[0.3em] text-gray-400 mb-2",children:"On This Page"}),u.jsxs("div",{className:"space-y-1",children:[p.length===0&&u.jsx("div",{className:"px-2 py-1 text-[11px] text-gray-500",children:"Loading sections"}),p.map((g,b)=>{const w=g.id===m;return u.jsxs("button",{"data-toc-active":w?"true":"false",className:`proof-of-work-toc-item ${g.level===1?"proof-of-work-toc-item--l1":g.level===2?"proof-of-work-toc-item--l2":"proof-of-work-toc-item--l3"} w-full text-left flex items-center gap-2 min-w-0 transition-colors ${w?"proof-of-work-toc-item--active !text-cyan-300 hover:!text-cyan-300":g.level===1?"text-white hover:text-white":"text-gray-400 hover:text-gray-200"}`,onClick:()=>h(g),children:[u.jsx("span",{className:`proof-of-work-toc-dot ${w?"!bg-cyan-300":""}`,"aria-hidden":"true"}),u.jsx("span",{className:"proof-of-work-toc-label text-[13px] font-medium truncate min-w-0",children:g.text})]},`${g.id}-${g.level}-${b}`)})]})]}),u.jsx("div",{className:"proof-of-work-content h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-black/30 p-4",ref:v,id:"metrics-spec-content",children:u.jsx("div",{className:"space-y-4 text-sm text-gray-200",children:x})})]})})]})}):null}const zl="border border-white/10 rounded-2xl shadow-xl backdrop-blur-md glass-card",tb="arcbridge_web_theme_override",V5="arcbridge_web_kinetic_font_override",W5="__default__",H5=e=>{if(typeof document>"u")return null;const t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=document.cookie.match(new RegExp(`(?:^|; )${t}=([^;]*)`));if(!n)return null;try{return decodeURIComponent(n[1])}catch{return n[1]}},q5=(e,t,n=365)=>{if(typeof document>"u")return;const r=Math.max(0,Math.floor(n*24*60*60));document.cookie=`${e}=${encodeURIComponent(t)}; Max-Age=${r}; Path=/; SameSite=Lax`},Jhe=e=>{typeof document>"u"||(document.cookie=`${e}=; Max-Age=0; Path=/; SameSite=Lax`)},K5=(e,t)=>{try{const n=new Date(e),r=new Date(t);return Number.isNaN(n.getTime())||Number.isNaN(r.getTime())?"":`${n.toLocaleString()} - ${r.toLocaleString()}`}catch{return""}},ege=e=>{const t=new Date(e);if(Number.isNaN(t.getTime()))return"Raid";const n=`${t.getMonth()+1}/${t.getDate()}/${String(t.getFullYear()).slice(-2)}`,r=t.toLocaleDateString(void 0,{weekday:"long"}),a=t.getHours();let i="Night";return a>=5&&a<12?i="Morning":a>=12&&a<17?i="Afternoon":a>=17&&a<21&&(i="Evening"),`${n} - ${r} ${i} Raid`},Y5=e=>e.toLowerCase().trim().replace(/\[(.*?)\]\(.*?\)/g,"$1").replace(/`([^`]+)`/g,"$1").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),tge=({slices:e})=>{const t=2*Math.PI*18,n=e.reduce((a,i)=>a+(i.value||0),0);let r=0;return u.jsxs("svg",{className:"report-mini-donut",width:"48",height:"48",viewBox:"0 0 48 48",children:[u.jsx("circle",{cx:"24",cy:"24",r:18,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),e.map((a,i)=>{const o=a.value||0,s=n>0?o/n*t:0,l=`${s} ${t-s}`,c=t-r;return r+=s,u.jsx("circle",{cx:"24",cy:"24",r:18,stroke:a.color,strokeWidth:"6",fill:"none",strokeLinecap:"butt",strokeDasharray:l,strokeDashoffset:c,transform:"rotate(-90 24 24)"},`${i}-${a.color}`)})]})},nge=({value:e})=>{const t=typeof e=="number"?Math.min(Math.max(e,0),1):null,n=18,r=2*Math.PI*n,a=t===null?r:r-t*r;return u.jsxs("svg",{className:"report-mini-donut",width:"48",height:"48",viewBox:"0 0 48 48",children:[u.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),u.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(16,185,129,0.9)",strokeWidth:"6",fill:"none",strokeLinecap:"round",strokeDasharray:r,strokeDashoffset:a,transform:"rotate(-90 24 24)"}),u.jsx("text",{x:"24",y:"27",textAnchor:"middle",fontSize:"10",fill:"#e2e8f0",children:t===null?"--":`${Math.round(t*100)}%`})]})};function rge(){var e;const[t,n]=y.useState(null),[r,a]=y.useState(null),[i,o]=y.useState(null),[s,l]=y.useState(null),[c,d]=y.useState(""),[f,p]=y.useState(null),[m,h]=y.useState(null),[v,x]=y.useState(!1),[g,b]=y.useState(!1),[w,S]=y.useState("classic"),[C,N]=y.useState("classic"),[M,D]=y.useState(ch.id),[R,T]=y.useState(null),[P,O]=y.useState("default"),[W,Q]=y.useState(!1),[ee,ue]=y.useState(!1),[z,B]=y.useState(!1),[ie,k]=y.useState(""),[I,E]=y.useState(""),[j,L]=y.useState([]),[G,Z]=y.useState(!1),[Y,q]=y.useState("overview"),[_,ne]=y.useState("kdr"),[re,F]=y.useState({overview:!0,roster:!1,offense:!1,defense:!1,other:!1}),ae=y.useRef(null),H=y.useRef(null),$=y.useRef(null),le=y.useRef(null),we=y.useRef(null),et=y.useRef(null),de=y.useRef(new Map),Ye=y.useRef(null),Re=y.useRef(null),ht=y.useMemo(()=>{let K=window.location.pathname||"/";const pe=/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host);return K.endsWith("/index.html")&&(K=K.slice(0,-11)),K.includes("/reports/")&&(K=K.replace(/\/reports\/[^/]+\/?$/,"")),pe&&(K=K.replace(/^\/web\/web(?=\/|$)/,"/web")),K.endsWith("/")||(K=`${K}/`),K},[]),Xt=y.useMemo(()=>/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/"),[]),Tn=y.useMemo(()=>{const K=[ht,"./","/"],pe=[];return K.forEach(De=>{let Ze=De||"/";Ze!=="./"&&!Ze.endsWith("/")&&(Ze=`${Ze}/`),pe.includes(Ze)||pe.push(Ze)}),pe},[ht,Xt]),[Cn,ge]=y.useState(Tn[0]||"/"),Ie=K=>{var pe;return typeof K=="string"||typeof K=="number"?String(K):Array.isArray(K)?K.map(Ie).join(""):K&&typeof K=="object"&&"props"in K?Ie((pe=K.props)==null?void 0:pe.children):""},Pt=K=>{const pe=Y5(K||"section")||"section",De=de.current,Ze=(De.get(pe)??0)+1;return De.set(pe,Ze),Ze===1?pe:`${pe}-${Ze}`},Kt=y.useMemo(()=>{const K=Uv.split(`
`),pe=new Map,De=[],Ze=$t=>{const Ct=Y5($t||"section")||"section",mt=(pe.get(Ct)??0)+1;return pe.set(Ct,mt),mt===1?Ct:`${Ct}-${mt}`};for(const $t of K){const Ct=/^(#{1,3})\s+(.*)\s*$/.exec($t);if(!Ct)continue;const mt=Ct[1].length,sn=Ct[2].trim();sn&&De.push({level:mt,text:sn,id:Ze(sn)})}return De},[Uv]),an=(K,pe)=>{const De=K==="./"?"./":K.endsWith("/")?K:`${K}/`,Ze=String(pe||"").replace(/^\/+/,"");return`${De}${Ze}`};y.useEffect(()=>{const K=H5(tb);if(K)try{const pe=JSON.parse(K),De=typeof(pe==null?void 0:pe.themeId)=="string"?pe.themeId:null;De&&Dd.some(Ze=>Ze.id===De)&&T(De)}catch{}},[]),y.useEffect(()=>{const K=H5(V5);(K==="original"||K==="default")&&O(K)},[]),y.useEffect(()=>{const K=R||M,pe=Dd.find(De=>De.id===K)||ch;p(pe)},[R,M]),y.useEffect(()=>{if(!R){S(C);return}if(R===sh){S("matte");return}if(R===lh||R===Vd){S("kinetic");return}if(R==="CRT"){S("crt");return}S(C==="modern"||C==="classic"?C:"classic")},[R,C]),y.useEffect(()=>{ge(Tn[0]||"/");let K=!0;return(async()=>{for(const pe of Tn)try{if((await fetch(an(pe,"ui-theme.json"),{cache:"no-store"})).ok){K&&ge(pe);return}}catch{}})(),()=>{K=!1}},[Tn]);const Tr=(K,pe)=>{const De=pe.trim();if(!De)return K;const Ze=K.toLowerCase(),$t=De.toLowerCase(),Ct=Ze.indexOf($t);if(Ct===-1)return K;const mt=K.slice(0,Ct),sn=K.slice(Ct,Ct+De.length),gn=K.slice(Ct+De.length);return u.jsxs(u.Fragment,{children:[mt,u.jsx("mark",{className:"rounded bg-cyan-500/30 px-1 text-cyan-100",children:sn}),gn]})},Ua=(K,pe)=>{const De=H.current;if(!De)return;let Ze=De.querySelector(`[data-search-hit="${K}"]`);if(!Ze&&pe){const $t=pe.trim().replace(/\s+/g," "),Ct=Array.from(De.querySelectorAll("h1, h2, h3, p, li, code"));Ze=Ct.find(mt=>(mt.textContent||"").trim().replace(/\s+/g," ")===$t)||null,Ze||(Ze=Ct.find(mt=>(mt.textContent||"").toLowerCase().includes($t.toLowerCase()))||null)}Ze&&requestAnimationFrame(()=>{const $t=De.getBoundingClientRect(),Ct=Ze.getBoundingClientRect(),mt=Math.max(0,De.scrollTop+(Ct.top-$t.top)-12);De.scrollTop=mt,Ze.classList.add("ring-2","ring-cyan-400/70","bg-cyan-500/10"),et.current&&window.clearTimeout(et.current),et.current=window.setTimeout(()=>{Ze.classList.remove("ring-2","ring-cyan-400/70","bg-cyan-500/10")},1600)})},fa=K=>{const pe=H.current,De=K.trim().toLowerCase();if(!pe||De.length<2){L([]);return}const Ze=Array.from(pe.querySelectorAll("h1, h2, h3, p, li, code"));Ze.forEach(mt=>mt.removeAttribute("data-search-hit"));const $t=[];let Ct=0;Ze.forEach((mt,sn)=>{const gn=(mt.textContent||"").trim();if(gn&&gn.toLowerCase().includes(De)){let jr="";for(let lr=sn;lr>=0;lr-=1){const Be=Ze[lr];if(Be&&["H1","H2","H3"].includes(Be.tagName)){jr=(Be.textContent||"").trim();break}}mt.setAttribute("data-search-hit",String(Ct)),$t.push({index:sn,text:gn,section:jr||"Unlabeled Section",hitId:Ct}),Ct+=1}}),L($t.slice(0,12))};y.useEffect(()=>{var K;if(!z)return;k(((K=Kt[0])==null?void 0:K.id)||"");const pe=De=>{var Ze;const $t=De.target;$t&&((Ze=$.current)!=null&&Ze.contains($t)||(Z(!1),L([])))};return window.addEventListener("mousedown",pe),()=>{window.removeEventListener("mousedown",pe)}},[z,Kt]),y.useEffect(()=>{if(!z){k("");return}const K=H.current;if(!K)return;let pe=0;const De=()=>{var $t;const Ct=Array.from(K.querySelectorAll("[data-heading-id]"));if(Ct.length===0)return;const mt=K.getBoundingClientRect().top+18,sn=Ct.map((Yt,A)=>({index:A,id:Yt.dataset.headingId||Yt.id||"",top:Yt.getBoundingClientRect().top})).filter(Yt=>!!Yt.id);if(sn.length===0)return;let gn=0,jr=!1;for(const Yt of sn){if(Yt.top<=mt){gn=Yt.index,jr=!0;continue}jr||(gn=Yt.index);break}K.scrollTop+K.clientHeight>=K.scrollHeight-2&&(gn=Math.max(0,sn.length-1));const lr=Kt[gn],Be=(($t=sn[gn])==null?void 0:$t.id)||"",tt=(lr==null?void 0:lr.id)||Be;tt&&k(tt)};De();const Ze=()=>{pe&&cancelAnimationFrame(pe),pe=requestAnimationFrame(De)};return K.addEventListener("scroll",Ze,{passive:!0}),window.addEventListener("resize",Ze),()=>{pe&&cancelAnimationFrame(pe),K.removeEventListener("scroll",Ze),window.removeEventListener("resize",Ze)}},[z,Kt]);const yr=y.useMemo(()=>[{id:"overview",label:"Overview",icon:jz,sectionIds:["overview","kdr","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","timeline","map-distribution","squad-composition"],items:[{id:"kdr",label:"KDR",icon:sc},{id:"fight-breakdown",label:"Fight Breakdown",icon:rl},{id:"top-players",label:"Top Players",icon:sc},{id:"top-skills-outgoing",label:"Top Skills",icon:g1},{id:"squad-composition",label:"Classes",icon:Sr},{id:"timeline",label:"Squad vs Enemy Size",icon:Sr},{id:"map-distribution",label:"Map Distribution",icon:x1}]},{id:"roster",label:"Roster Intel",icon:Mf,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance",icon:Mf},{id:"squad-comp-fight",label:"Squad Comp",icon:Sr},{id:"fight-comp",label:"Fight Comp",icon:rl}]},{id:"offense",label:"Offensive Stats",icon:rl,sectionIds:["offense-detailed","player-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:hL},{id:"player-breakdown",label:"Player Breakdown",icon:b1},{id:"spike-damage",label:"Spike Damage",icon:Af},{id:"conditions-outgoing",label:"Conditions",icon:d0}]},{id:"defense",label:"Defensive Stats",icon:Iu,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","boon-output","support-detailed","healing-stats"],items:[{id:"defense-detailed",label:"Defense Detailed",icon:Iu},{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:Af},{id:"defense-mitigation",label:"Damage Mitigation",icon:N1},{id:"boon-output",label:"Boon Output",icon:S1},{id:"support-detailed",label:"Support Detailed",icon:w1},{id:"healing-stats",label:"Healing Stats",icon:gD}]},{id:"other",label:"Other Metrics",icon:f0,sectionIds:["fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"fight-diff-mode",label:"Fight Comparison",icon:y1},{id:"special-buffs",label:"Special Buffs",icon:$h},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:j1},{id:"skill-usage",label:"Skill Usage",icon:v1},{id:"apm-stats",label:"APM Breakdown",icon:k1}]}],[]),Ca=y.useMemo(()=>{const K=new Map;return yr.forEach(pe=>{K.set(pe.id.toLowerCase(),pe.id),(pe.sectionIds||[]).forEach(De=>K.set(String(De).toLowerCase(),pe.id)),(pe.items||[]).forEach(De=>K.set(String(De.id).toLowerCase(),pe.id))}),K.set("report-top","overview"),K.set("overview","overview"),K.set("kdr","overview"),K},[yr]),en=y.useMemo(()=>yr.find(K=>K.id===Y)||yr[0],[yr,Y]),Wt=w==="kinetic",Ma=y.useMemo(()=>{const K=((en==null?void 0:en.sectionIds)||((en==null?void 0:en.items)||[]).map(pe=>pe.id)).map(pe=>pe==="kdr"?"overview":pe);return new Set(K)},[en]),xn=K=>{if(K==="report-top")return window.scrollTo({top:0,behavior:"smooth"}),history.replaceState&&history.replaceState(null,"","#report-top"),!0;const pe=K==="kdr"?"overview":K,De=pe==="overview"&&K!=="kdr"?"report-top":pe,Ze=document.getElementById(De);if(!Ze||Ze.getAttribute("data-section-visible")==="false"||!Ze.offsetParent)return!1;const $t=Ze.getBoundingClientRect();if($t.height<=0)return!1;let Ct=0;if(De==="stats-view-top"){const sn=document.getElementById("report-top");sn&&(Ct=sn.getBoundingClientRect().height+12)}const mt=$t.top+window.scrollY-12-Ct;return window.scrollTo({top:Math.max(0,mt),behavior:"smooth"}),history.replaceState&&history.replaceState(null,"",`#${De}`),!0},pa=(K,pe=0)=>{xn(K)||pe>=12||window.setTimeout(()=>{requestAnimationFrame(()=>pa(K,pe+1))},40)};y.useEffect(()=>{if(!t)return;const K=requestAnimationFrame(()=>{Array.from(document.querySelectorAll("[data-nav-submenu-content]")).forEach(pe=>{pe.scrollHeight})});return()=>cancelAnimationFrame(K)},[t]),y.useEffect(()=>{const K=Ye.current;if(!K)return;let pe=0;const De=()=>{if(xn(K)){Ye.current=null;return}if(pe+=1,pe>=20){Ye.current=null;return}window.setTimeout(()=>requestAnimationFrame(De),40)};requestAnimationFrame(De)},[Y]),y.useEffect(()=>{const K=()=>{var pe,De;const Ze=(window.location.hash||"").replace(/^#/,"").trim();if(!Ze)return;let $t=Ze;try{$t=decodeURIComponent(Ze)}catch{$t=Ze}const Ct=$t.toLowerCase(),mt=Ca.get(Ct);if(mt){if(q(mt),F(()=>{const sn={};return yr.forEach(gn=>{sn[gn.id]=gn.id===mt}),sn}),Ct==="report-top")ne("kdr");else{const sn=yr.find(gn=>gn.id.toLowerCase()===Ct);ne(((De=(pe=sn==null?void 0:sn.items)==null?void 0:pe[0])==null?void 0:De.id)||Ct)}Ye.current=Ct==="report-top"?"kdr":Ct}};return K(),window.addEventListener("hashchange",K),()=>{window.removeEventListener("hashchange",K)}},[Ca,yr]);const _n=w==="matte",qo=f??ch,$r=Wt&&qo.id===Vd,oi=Wt?$r?"142, 155, 214":"90, 80, 68":qo.rgb,So=_n?"#d8e1eb":Wt?$r?"#f0d8a9":"#24211d":"var(--accent)",Pl={"--accent":`rgb(${oi})`,"--accent-rgb":oi,"--accent-soft":`rgba(${oi}, ${Wt?$r?"0.22":"0.18":"0.32"})`,"--accent-strong":`rgba(${oi}, ${Wt?$r?"0.86":"0.78":"0.95"})`,"--accent-border":`rgba(${oi}, ${Wt?$r?"0.32":"0.22":"0.4"})`,"--accent-glow":`rgba(${oi}, ${Wt?$r?"0.14":"0.08":"0.18"})`,"--accent-glow-soft":`rgba(${oi}, ${Wt?$r?"0.08":"0.04":"0.08"})`},Ko=w==="modern"||w==="matte"||w==="kinetic",Dl=qo.pattern?_n||Wt?void 0:Ko?`linear-gradient(180deg, rgba(14, 18, 26, 0.72), rgba(18, 24, 34, 0.78)), ${qo.pattern}`:qo.pattern:void 0,si=Wt?{backgroundImage:"none",backgroundColor:$r?"rgba(57, 64, 93, 0.9)":"rgba(220, 210, 196, 0.95)",borderColor:$r?"rgba(164, 177, 228, 0.28)":"rgba(78, 67, 56, 0.18)"}:_n?{backgroundImage:"none",backgroundColor:"var(--bg-card)"}:{backgroundImage:Ko?"linear-gradient(135deg, rgba(var(--accent-rgb), 0.2), rgba(var(--accent-rgb), 0.06) 70%)":"linear-gradient(135deg, rgba(var(--accent-rgb), 0.26), rgba(var(--accent-rgb), 0.08) 70%)"};y.useEffect(()=>{var K;let pe=!0;const De=new URLSearchParams(window.location.search).get("report")||((K=window.location.pathname.match(/\/reports\/([^/]+)\/?$/))==null?void 0:K[1])||null,Ze=De?`${ht}reports/${De}/report.json`:`${ht}report.json`;De&&l(Ze);const $t=mt=>{var sn,gn,jr;const lr=new Set((((sn=mt==null?void 0:mt.meta)==null?void 0:sn.commanders)||[]).map(tt=>String(tt)));if(lr.size===0)return mt;const Be=mt.stats;return(gn=Be==null?void 0:Be.leaderboards)!=null&&gn.closestToTag&&(Be.leaderboards.closestToTag=Be.leaderboards.closestToTag.map(tt=>lr.has(String(tt==null?void 0:tt.account))?{...tt,value:0}:tt)),(jr=Be==null?void 0:Be.closestToTag)!=null&&jr.player&&lr.has(String(Be.closestToTag.player))&&(Be.closestToTag={...Be.closestToTag,value:0}),mt},Ct=mt=>{var sn,gn,jr,lr,Be;const tt=mt==null?void 0:mt.stats;if(!tt||typeof tt!="object")return mt;const Yt=Array.isArray((sn=tt==null?void 0:tt.leaderboards)==null?void 0:sn.downContrib)?tt.leaderboards.downContrib:[];if(!Yt.length)return mt;const A=Yt.map(U=>({...U,value:Number((U==null?void 0:U.value)??0)})).filter(U=>Number.isFinite(U.value)).sort((U,te)=>te.value-U.value||String((U==null?void 0:U.account)||"").localeCompare(String((te==null?void 0:te.account)||"")))[0];return A&&(tt.maxDownContrib={...tt.maxDownContrib||{},value:Number(A.value||0),player:String(A.account||((gn=tt.maxDownContrib)==null?void 0:gn.player)||"-"),count:Number(A.count||((jr=tt.maxDownContrib)==null?void 0:jr.count)||0),profession:String(A.profession||((lr=tt.maxDownContrib)==null?void 0:lr.profession)||"Unknown"),professionList:Array.isArray(A.professionList)?A.professionList:((Be=tt.maxDownContrib)==null?void 0:Be.professionList)||[]}),mt};return fetch(Ze,{cache:"no-store"}).then(mt=>mt.ok?mt.json():Promise.reject()).then(mt=>{var sn,gn,jr,lr,Be;if(!pe)return;const tt=Ct($t(mt));n(tt);const Yt=(sn=tt==null?void 0:tt.stats)==null?void 0:sn.uiTheme;Yt==="modern"||Yt==="classic"||Yt==="crt"||Yt==="matte"||Yt==="kinetic"?N(Yt):((gn=tt==null?void 0:tt.stats)==null?void 0:gn.webThemeId)===sh?N("matte"):(((jr=tt==null?void 0:tt.stats)==null?void 0:jr.webThemeId)===lh||((lr=tt==null?void 0:tt.stats)==null?void 0:lr.webThemeId)===Vd)&&N("kinetic"),typeof((Be=tt==null?void 0:tt.stats)==null?void 0:Be.webThemeId)=="string"&&tt.stats.webThemeId&&D(tt.stats.webThemeId)}).catch(()=>{if(De){if(!pe)return;o("Report not found yet. It may still be deploying.")}fetch(`${ht}reports/index.json`,{cache:"no-store"}).then(mt=>mt.ok?mt.json():Promise.reject()).then(mt=>{pe&&a(Array.isArray(mt)?mt:[])}).catch(()=>{pe&&o("No report data found.")})}),()=>{pe=!1}},[ht]),y.useEffect(()=>{if(t){const K=t.meta.dateLabel||K5(t.meta.dateStart,t.meta.dateEnd);document.title=K?`ArcBridge  ${t.meta.title}  ${K}`:`ArcBridge  ${t.meta.title}`;return}document.title="ArcBridge Reports"},[t]),y.useEffect(()=>{var K;const pe=(K=t==null?void 0:t.stats)==null?void 0:K.webThemeId;typeof pe=="string"&&pe&&D(pe)},[t]),y.useEffect(()=>{const K=document.body;K.classList.add("web-report"),K.classList.remove("theme-classic","theme-modern","theme-crt","theme-matte","theme-kinetic","theme-kinetic-dark","theme-kinetic-font-original"),_n?K.classList.add("theme-matte"):w==="modern"?K.classList.add("theme-modern"):w==="crt"?K.classList.add("theme-crt"):w==="kinetic"?(K.classList.add("theme-kinetic"),$r&&K.classList.add("theme-kinetic-dark"),P==="original"&&K.classList.add("theme-kinetic-font-original")):K.classList.add("theme-classic")},[w,_n,$r,P]),y.useEffect(()=>{var K;if(Xt&&(K=t==null?void 0:t.stats)!=null&&K.webThemeId)return;let pe=!0;return fetch(an(Cn,"theme.json"),{cache:"no-store"}).then(De=>De.ok?De.json():Promise.reject()).then(De=>{pe&&typeof(De==null?void 0:De.id)=="string"&&De.id&&D(De.id)}).catch(()=>{}),()=>{pe=!1}},[Cn,Xt,t]),y.useEffect(()=>{var K,pe;const De=(K=t==null?void 0:t.stats)==null?void 0:K.webThemeId,Ze=(pe=t==null?void 0:t.stats)==null?void 0:pe.uiTheme;if((Ze==="modern"||Ze==="classic"||Ze==="crt"||Ze==="matte"||Ze==="kinetic")&&!(De===sh&&Ze!=="matte"||(De===lh||De===Vd)&&Ze!=="kinetic"||De==="CRT"&&Ze!=="crt"))return;let $t=!0;return fetch(an(Cn,"ui-theme.json"),{cache:"no-store"}).then(Ct=>Ct.ok?Ct.json():Promise.reject()).then(Ct=>{if(!$t)return;const mt=Ct==null?void 0:Ct.theme;(mt==="modern"||mt==="classic"||mt==="crt"||mt==="matte"||mt==="kinetic")&&N(mt)}).catch(()=>{}),()=>{$t=!1}},[Cn,t]),y.useEffect(()=>{let K=!0;return fetch(an(Cn,"logo.json"),{cache:"no-store"}).then(pe=>pe.ok?pe.json():Promise.reject()).then(pe=>{if(!K)return;const De="svg/ArcBridge.svg",Ze=pe!=null&&pe.path?String(pe.path):De,$t=pe!=null&&pe.updatedAt?String(pe.updatedAt):"",Ct=an(Cn,Ze),mt=$t?`${Ct}?v=${encodeURIComponent($t)}`:Ct;h(mt),x(!(pe!=null&&pe.path)||Ze===De)}).catch(()=>{K&&(h(null),x(!1))}),()=>{K=!1}},[Cn]);const Qi=y.useMemo(()=>r?[...r].sort((K,pe)=>{const De=new Date(K.dateEnd||K.dateStart).getTime();return new Date(pe.dateEnd||pe.dateStart).getTime()-De}):[],[r]),Yo=y.useMemo(()=>{if(!Qi.length)return[];const K=c.trim().toLowerCase();return K?Qi.filter(pe=>{var De;const Ze=((De=pe.commanders)==null?void 0:De.join(" "))||"";return`${pe.title} ${Ze} ${pe.dateLabel}`.toLowerCase().includes(K)}):Qi},[Qi,c]),cd=K=>{if(!K){Jhe(tb);return}q5(tb,JSON.stringify({themeId:K}))},Xi=K=>{const pe=K===W5?null:K;pe&&!Dd.some(De=>De.id===pe)||(T(pe),cd(pe),Q(!1))},Lc=K=>{O(K),q5(V5,K),ue(!1)};y.useEffect(()=>{const K=De=>{if(!le.current)return;const Ze=De.target;le.current.contains(Ze)||we.current&&we.current.contains(Ze)||(Q(!1),ue(!1))},pe=De=>{De.key==="Escape"&&(Q(!1),ue(!1))};return window.addEventListener("mousedown",K),window.addEventListener("keydown",pe),()=>{window.removeEventListener("mousedown",K),window.removeEventListener("keydown",pe)}},[]),y.useEffect(()=>()=>{Re.current!==null&&(cancelAnimationFrame(Re.current),Re.current=null)},[]);const li=y.useMemo(()=>{if(!R)return"Default";const K=Dd.find(pe=>pe.id===R);return(K==null?void 0:K.label)||"Default"},[R]),Os=u.jsxs("div",{className:"relative flex items-center gap-2",ref:le,children:[u.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-400 whitespace-nowrap",children:"Theme"}),u.jsxs("button",{type:"button",onClick:()=>Q(K=>!K),className:"w-[152px] inline-flex items-center justify-between gap-2 rounded-full border px-3 py-1 text-[9px] uppercase tracking-widest text-white transition-colors focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--accent-border)"},children:[u.jsx("span",{className:"truncate text-left",children:li}),u.jsx("span",{className:`transition-transform ${W?"rotate-180":""}`,children:""})]}),W&&u.jsxs("div",{className:"absolute right-0 bottom-[calc(100%+6px)] z-20 w-[240px] overflow-y-auto rounded-xl border shadow-2xl backdrop-blur-xl",style:{maxHeight:"240px",backgroundColor:"color-mix(in srgb, var(--bg-card) 92%, black)",borderColor:"var(--accent-border)"},children:[u.jsx("button",{type:"button",onClick:()=>Xi(W5),className:"w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] text-gray-200 hover:bg-white/10 transition-colors",children:"Default"}),Dd.map(K=>u.jsx("button",{type:"button",onClick:()=>Xi(K.id),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${R===K.id?"text-[color:var(--accent)]":"text-gray-200"}`,children:K.label},K.id))]})]}),Is=Wt?u.jsxs("div",{className:"relative flex items-center gap-2",ref:we,children:[u.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-400 whitespace-nowrap",children:"Font"}),u.jsxs("button",{type:"button",onClick:()=>ue(K=>!K),className:"w-[152px] inline-flex items-center justify-between gap-2 rounded-full border px-3 py-1 text-[9px] uppercase tracking-widest text-white transition-colors focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--accent-border)"},children:[u.jsx("span",{className:"truncate text-left",children:P==="original"?"Original App":"Kinetic Default"}),u.jsx("span",{className:`transition-transform ${ee?"rotate-180":""}`,children:""})]}),ee&&u.jsxs("div",{className:"absolute right-0 bottom-[calc(100%+6px)] z-20 w-[240px] overflow-y-auto rounded-xl border shadow-2xl backdrop-blur-xl",style:{maxHeight:"180px",backgroundColor:"color-mix(in srgb, var(--bg-card) 92%, black)",borderColor:"var(--accent-border)"},children:[u.jsx("button",{type:"button",onClick:()=>Lc("default"),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${P==="default"?"text-[color:var(--accent)]":"text-gray-200"}`,children:"Kinetic Default"}),u.jsx("button",{type:"button",onClick:()=>Lc("original"),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${P==="original"?"text-[color:var(--accent)]":"text-gray-200"}`,children:"Original App"})]})]}):null,Fc=u.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-[11px] text-gray-500",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-2",children:[u.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.35em] text-gray-400",children:"Legal Notice"}),u.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[u.jsx("div",{className:"min-w-[160px]",children:Os}),Is&&u.jsx("div",{className:"min-w-[160px]",children:Is}),u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"GitHub"}),u.jsx("a",{href:"https://discord.gg/UjzMXMGXEg",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Discord"}),u.jsx("a",{href:"#proof-of-work",onClick:K=>{K.preventDefault(),B(!0)},className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Proof of Work"})]})]}),u.jsx("p",{children:"ArcBridge is free software by harasho: you can redistribute it and/or modify it under the terms of the GNU General Public License v3.0 only. This program comes with ABSOLUTELY NO WARRANTY."}),u.jsxs("p",{className:"mt-2",children:["Class Icons, artwork, and skill icons are created and owned by Arenanet as detailed in their"," ",u.jsx("a",{href:"https://www.arena.net/en/legal/content-terms-of-use",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"Content Terms of Use"}),". I do not own or profit from this work in any way. Assets were obtained from asset packs distributed by Arenanet. The official statement from the Content Terms of Use:"]}),u.jsx("p",{className:"mt-2",children:" ArenaNet LLC. All rights reserved. NCSOFT, ArenaNet, Guild Wars, Guild Wars 2, GW2, Heart of Thorns, Path of Fire, End of Dragons, Secrets of the Obscure, Janthir Wilds, Visions of Eternity, and all associated logos, designs, and composite marks are trademarks or registered trademarks of NCSOFT Corporation. All other trademarks are the property of their respective owners."}),u.jsxs("p",{className:"mt-2",children:["See the"," ",u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/LICENSE",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"LICENSE"})," ","and"," ",u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/THIRD_PARTY_NOTICES.md",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"THIRD_PARTY_NOTICES.md"})," ","files for full terms and upstream attributions."]})]}),No=u.jsxs(Zhe,{isOpen:z,onClose:()=>B(!1),searchValue:I,searchFocused:G,searchResults:j,onSearchChange:K=>{E(K),requestAnimationFrame(()=>fa(K))},onSearchFocus:()=>{Z(!0),requestAnimationFrame(()=>fa(I))},onSearchBlur:K=>{var pe;K&&(pe=$.current)!=null&&pe.contains(K)||Z(!1)},onSearchEnter:()=>{j.length>0&&Ua(j[0].hitId,j[0].text)},onSearchResultMouseDown:K=>{Z(!0),Ua(K.hitId,K.text)},renderHighlightedMatch:Tr,searchRef:$,tocItems:Kt,activeTocId:ie,onTocClick:K=>{const pe=H.current;if(!pe)return;let De=pe.querySelector(`[data-heading-id="${K.id}"]`);if(!De){const Ze=K.text.trim().replace(/\s+/g," ");De=Array.from(pe.querySelectorAll("h1, h2, h3")).find($t=>($t.textContent||"").trim().replace(/\s+/g," ")===Ze)||null}De&&(k(K.id),requestAnimationFrame(()=>{const Ze=pe.getBoundingClientRect(),$t=De.getBoundingClientRect(),Ct=pe.scrollTop+($t.top-Ze.top)-12;pe.scrollTop=Math.max(0,Ct)}))},contentRef:H,children:[(de.current=new Map,null),u.jsx(Mce,{remarkPlugins:[Bde],components:{h1:({children:K})=>{const pe=Ie(K),De=Pt(pe);return u.jsx("h1",{id:De,"data-heading-id":De,className:"text-2xl font-bold text-white scroll-mt-6",children:K})},h2:({children:K})=>{const pe=Ie(K),De=Pt(pe);return u.jsx("h2",{id:De,"data-heading-id":De,className:"text-xl font-semibold text-white scroll-mt-6",children:K})},h3:({children:K})=>{const pe=Ie(K),De=Pt(pe);return u.jsx("h3",{id:De,"data-heading-id":De,className:"text-lg font-semibold text-white scroll-mt-6",children:K})},p:({children:K})=>u.jsx("p",{className:"leading-6 text-gray-200",children:K}),ul:({children:K})=>u.jsx("ul",{className:"list-disc pl-5 space-y-1 text-gray-200",children:K}),ol:({children:K})=>u.jsx("ol",{className:"list-decimal pl-5 space-y-1 text-gray-200",children:K}),li:({children:K})=>u.jsx("li",{className:"leading-6",children:K}),blockquote:({children:K})=>u.jsx("blockquote",{className:"border-l-2 border-blue-400/40 pl-4 text-gray-300 italic",children:K}),a:({href:K,children:pe})=>u.jsx("a",{className:"text-blue-300 hover:text-blue-200 underline underline-offset-2",href:K,target:"_blank",rel:"noreferrer",children:pe}),table:({children:K})=>u.jsx("div",{className:"overflow-x-auto rounded-xl border border-white/10 bg-black/30",children:u.jsx("table",{className:"w-full border-collapse text-left text-sm",children:K})}),th:({children:K})=>u.jsx("th",{className:"border-b border-white/10 bg-white/5 px-3 py-2 text-xs uppercase tracking-wide text-gray-300",children:K}),td:({children:K})=>u.jsx("td",{className:"border-b border-white/10 px-3 py-2 text-gray-200",children:K}),pre:({children:K})=>u.jsx("pre",{className:"overflow-x-auto rounded-xl bg-black/40 p-4 text-xs text-blue-100",children:K}),code:K=>{const{inline:pe,children:De}=K;return pe===!0?u.jsx("code",{className:"rounded bg-black/40 px-1.5 py-0.5 text-[11px] text-blue-200",children:De}):u.jsx("code",{className:"whitespace-pre-wrap text-blue-100",children:De})}},children:Uv})]});if(t){const K=an(Cn,"svg/ArcBridge.svg"),pe=()=>{Re.current!==null&&(cancelAnimationFrame(Re.current),Re.current=null);const Be=window.scrollY||window.pageYOffset||0;if(Be<=1){window.scrollTo({top:0,behavior:"auto"});return}const tt=320,Yt=performance.now(),A=U=>{const te=U-Yt,ye=Math.min(1,te/tt),J=1-Math.pow(1-ye,3),Oe=Math.max(0,Math.round(Be*(1-J)));window.scrollTo({top:Oe,behavior:"auto"}),ye<1?Re.current=requestAnimationFrame(A):(Re.current=null,window.scrollTo({top:0,behavior:"auto"}))};Re.current=requestAnimationFrame(A)},De=Be=>{F(()=>{const tt={};return yr.forEach(Yt=>{tt[Yt.id]=Yt.id===Be}),tt})},Ze=Be=>{var tt,Yt;Ye.current=null,q(Be);const A=yr.find(U=>U.id===Be);ne(((Yt=(tt=A==null?void 0:A.items)==null?void 0:tt[0])==null?void 0:Yt.id)||"kdr"),pe()},$t=Be=>{if(!re[Be]){De(Be),Ze(Be);return}if(Be!==Y){Ze(Be);return}F(tt=>({...tt,[Be]:!1}))},Ct=(Be,tt)=>{re[Be]||De(Be),ne(tt);const Yt=Be===Y;Yt||(Ye.current=tt,q(Be),requestAnimationFrame(()=>pa(tt))),Yt&&requestAnimationFrame(()=>pa(tt))},mt=Be=>{const tt=Be.currentTarget;if(!(tt.scrollHeight>tt.clientHeight)){window.scrollBy({top:Be.deltaY,behavior:"auto"}),Be.preventDefault();return}const Yt=tt.scrollTop<=0,A=tt.scrollTop+tt.clientHeight>=tt.scrollHeight-1;(Yt&&Be.deltaY<0||A&&Be.deltaY>0)&&(window.scrollBy({top:Be.deltaY,behavior:"auto"}),Be.preventDefault())},sn=Be=>{const tt=ae.current;if(!tt)return;const Yt=Be.target;if(!Yt||!tt.contains(Yt))return;let A=Yt;for(;A&&A!==tt;){const U=window.getComputedStyle(A).overflowY;if((U==="auto"||U==="scroll")&&A.scrollHeight>A.clientHeight+1){const te=A.scrollTop<=0,ye=A.scrollTop+A.clientHeight>=A.scrollHeight-1;(Be.deltaY<0&&te||Be.deltaY>0&&ye)&&(window.scrollBy({top:Be.deltaY,behavior:"auto"}),Be.preventDefault());return}A=A.parentElement}},gn=Be=>{const tt=Math.max(0,6-Be);return{accordionDuration:.5+tt*.07,itemDuration:.34+tt*.035,stagger:.05+tt*.01,delayChildren:.06+tt*.015}},jr=Be=>{const tt=gn(Be);return{open:{transition:{staggerChildren:tt.stagger,delayChildren:tt.delayChildren}},closed:{transition:{staggerChildren:Math.max(.02,tt.stagger*.7),staggerDirection:-1}}}},lr={open:{opacity:1,y:0},closed:{opacity:0,y:-2}};return u.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:_n?"var(--bg-base)":Wt?$r?"#2b3048":"#d8d1c5":Ko?"#0f141c":"#0f172a",backgroundImage:_n?"none":Dl,...Pl},children:[!_n&&!Wt&&u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),u.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),u.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),u.jsx("div",{className:`fixed inset-0 z-20 bg-black/40 backdrop-blur-sm transition-opacity lg:hidden ${g?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>b(!1)}),u.jsx("aside",{className:`fixed z-30 top-0 bottom-0 w-64 max-w-[80vw] transition-transform duration-300 lg:hidden ${g?"translate-x-0":"-translate-x-full"}`,children:u.jsxs("div",{className:"report-nav-sidebar h-full bg-white/5 border-r border-white/10 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.45)] flex flex-col",children:[u.jsxs("div",{className:"px-5 pt-6 pb-4 flex items-center justify-between",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"Contents"}),u.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-white transition-colors","aria-label":"Close table of contents",children:""})]}),u.jsx("div",{className:"px-5 pb-4",children:u.jsxs("a",{href:"./",className:"report-back-link w-full inline-flex items-center gap-3 px-4 py-2.5 rounded-xl bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[u.jsx("span",{className:"h-8 w-8 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:u.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[u.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),u.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})}),u.jsx("nav",{className:"px-3 pb-6 space-y-3 text-sm overflow-y-auto [overflow-anchor:none]",onWheel:mt,children:yr.map(Be=>{const tt=Be.icon,Yt=Be.id===Y,A=!!re[Be.id],U=gn(Be.items.length),te=jr(Be.items.length);return u.jsxs(Po.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[u.jsxs("button",{onClick:()=>$t(Be.id),className:`report-nav-group-btn w-full text-left flex items-center gap-3 px-3 py-2 rounded-lg border transition-colors ${Yt?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(tt,{className:"report-nav-group-icon w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"report-nav-group-label text-[11px] uppercase tracking-[0.22em] whitespace-nowrap min-w-0 truncate",children:Be.label}),u.jsx(Po.span,{className:"report-nav-chevron ml-auto inline-flex shrink-0",animate:{rotate:A?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:u.jsx(Yb,{className:"w-4 h-4 text-gray-300"})})]}),u.jsx(Po.div,{initial:!1,animate:A?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:U.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:u.jsx(Po.div,{variants:te,initial:!1,animate:A?"open":"closed",className:"report-nav-submenu space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:Be.items.map(ye=>{const J=ye.icon;return u.jsxs(Po.button,{variants:lr,transition:{duration:U.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>{Ct(Be.id,ye.id),b(!1)},className:`report-nav-item-btn w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-md text-[12px] border transition-colors transform-gpu ${_===ye.id?"text-white border-white/20 bg-white/10":"text-gray-200 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(J,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),ye.label]},ye.id)})})},`${Be.id}-submenu-mobile`)]},Be.id)})})]})}),u.jsx("aside",{className:"report-nav-sidebar hidden lg:flex fixed inset-y-0 left-0 w-64 border-r border-white/10 bg-white/5 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.5)] z-20",children:u.jsxs("div",{className:"flex flex-col w-full",children:[u.jsx("div",{className:"px-6 pt-6 pb-5",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"h-10 w-10 rounded-2xl border border-white/20",style:{backgroundColor:So,maskImage:`url(${K})`,WebkitMaskImage:`url(${K})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"65%",WebkitMaskSize:"65%"},"aria-label":"ArcBridge logo"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"ArcBridge Reports"}),u.jsx("div",{className:"text-sm font-semibold text-white",children:"Navigation"})]})]})}),u.jsx("nav",{className:"px-4 space-y-4 text-sm flex-1 overflow-y-auto [overflow-anchor:none]",onWheel:mt,children:yr.map(Be=>{const tt=Be.icon,Yt=Be.id===Y,A=!!re[Be.id],U=gn(Be.items.length),te=jr(Be.items.length);return u.jsxs(Po.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[u.jsxs("button",{onClick:()=>$t(Be.id),className:`report-nav-group-btn w-full text-left flex items-center gap-3 px-3 py-2.5 rounded-xl border transition-colors ${Yt?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(tt,{className:"report-nav-group-icon w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"report-nav-group-label text-[11px] uppercase tracking-[0.22em] whitespace-nowrap min-w-0 truncate",children:Be.label}),u.jsx(Po.span,{className:"report-nav-chevron ml-auto inline-flex shrink-0",animate:{rotate:A?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:u.jsx(Yb,{className:"w-4 h-4 text-gray-300"})})]}),u.jsx(Po.div,{initial:!1,animate:A?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:U.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:u.jsx(Po.div,{variants:te,initial:!1,animate:A?"open":"closed",className:"report-nav-submenu space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:Be.items.map(ye=>{const J=ye.icon;return u.jsxs(Po.button,{variants:lr,transition:{duration:U.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>Ct(Be.id,ye.id),className:`report-nav-item-btn w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-lg text-[12px] border transition-colors transform-gpu ${_===ye.id?"text-white border-white/20 bg-white/10":"text-gray-200 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(J,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),ye.label]},ye.id)})})},`${Be.id}-submenu-desktop`)]},Be.id)})}),u.jsx("div",{className:"border-t border-white/10",children:u.jsxs("a",{href:"./",className:"report-back-link w-full inline-flex items-center gap-3 px-6 py-4 bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[u.jsx("span",{className:"h-9 w-9 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:u.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[u.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),u.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})})]})}),u.jsxs("div",{className:"max-w-[1600px] mx-1 sm:mx-2 lg:mx-auto px-4 pt-3 pb-5 sm:px-6 sm:pt-4 sm:pb-6 lg:pl-[17rem] lg:pr-10 mobile-bottom-pad",children:[u.jsx("div",{className:`${zl} p-5 sm:p-6 mb-6 mx-1 sm:mx-1 lg:mx-0`,style:si,children:u.jsxs("div",{className:"flex flex-col gap-4 sm:gap-5 lg:flex-row lg:items-center lg:justify-between",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 text-center sm:text-left",children:[m&&(v?u.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:So,maskImage:`url(${m})`,WebkitMaskImage:`url(${m})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):u.jsx("img",{src:m,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"report-brand-label text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge Log Report"}),u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-1",children:t.meta.title}),u.jsx("div",{className:"text-xs sm:text-sm text-gray-400 mt-2",children:t.meta.dateLabel||K5(t.meta.dateStart,t.meta.dateEnd)})]})]}),u.jsxs("button",{onClick:()=>b(!0),className:"hidden sm:flex lg:hidden px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-xs uppercase tracking-widest text-gray-300 hover:border-white/30 transition-colors items-center gap-2",children:[u.jsx(V2,{className:"w-4 h-4"}),"Contents"]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:flex sm:flex-wrap sm:overflow-visible pr-1 sm:pr-2",children:[u.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 inline-flex items-center gap-2 min-w-0 justify-start",children:[u.jsx(gz,{className:"w-4 h-4 text-[color:var(--accent)]"}),t.meta.dateLabel||"Log Range"]}),u.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[u.jsx(Sr,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"truncate",children:t.meta.commanders.length?t.meta.commanders.join(", "):"No Commanders"})]}),u.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[u.jsx(yD,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Report ",t.meta.appVersion?`v${t.meta.appVersion}`:"build"]})]})]})}),u.jsxs("div",{className:"sm:hidden mb-4",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400 mb-2",children:"Jump to"}),u.jsx("div",{className:"flex gap-2 overflow-x-auto pr-2 pb-1 snap-x snap-mandatory",children:((en==null?void 0:en.items)||[]).map(Be=>{const tt=Be.icon;return u.jsxs("button",{onClick:()=>Ct((en==null?void 0:en.id)||"overview",Be.id),className:`group flex items-center gap-2 px-3 py-2 rounded-full text-[10px] uppercase tracking-widest whitespace-nowrap border bg-gradient-to-br shadow-[0_10px_25px_rgba(0,0,0,0.35)] backdrop-blur-xl transition-all duration-200 active:translate-y-0 active:scale-[0.98] snap-start ${_===Be.id?"text-white border-[color:var(--accent-border)] from-[color:var(--accent-glow)] via-white/10 to-transparent":"text-gray-200 border-white/15 from-white/10 via-white/5 to-transparent hover:-translate-y-0.5 hover:border-[color:var(--accent-border)] hover:shadow-[0_18px_35px_rgba(0,0,0,0.45)]"}`,children:[u.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-white/10 border border-white/10 group-hover:border-[color:var(--accent-border)] group-hover:bg-[color:var(--accent-glow)] transition-colors",children:u.jsx(tt,{className:"w-3 h-3 text-[color:var(--accent)]"})}),Be.label]},`chip-${Be.id}`)})})]}),u.jsx("div",{ref:ae,onWheelCapture:sn,className:"flex-1 min-w-0",children:u.jsx("div",{id:"stats-view-top",children:u.jsx(Uae,{logs:[],onBack:()=>{},mvpWeights:void 0,precomputedStats:t.stats,statsViewSettings:(e=t.stats)==null?void 0:e.statsViewSettings,embedded:!0,uiTheme:w,sectionVisibility:Be=>Ma.has(Be),dashboardTitle:`Statistics Dashboard - ${(en==null?void 0:en.label)||"Overview"}`})})}),u.jsx("div",{className:"mt-10",children:Fc})]}),u.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-30 sm:hidden mobile-action-bar",children:u.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-2xl bg-slate-950/70 border border-white/15 backdrop-blur-xl px-3 py-2 shadow-[0_20px_50px_rgba(0,0,0,0.45)]",children:[u.jsxs("a",{href:"./",className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(mD,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Back"]}),u.jsxs("button",{onClick:()=>b(!0),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(V2,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Contents"]}),u.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(hz,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Top"]})]})}),No]})}return u.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:_n?"var(--bg-base)":Wt?$r?"#2b3048":"#d8d1c5":Ko?"#0f141c":"#0f172a",backgroundImage:_n?"none":Dl,...Pl},children:[!_n&&!Wt&&u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),u.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),u.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),u.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 pt-4 pb-8 sm:px-6 sm:pt-5 sm:pb-10",children:[u.jsxs("div",{id:"report-list-container",className:"rounded-2xl border border-white/5 bg-black/20 p-4 sm:p-6",children:[u.jsxs("div",{id:"report-top",className:`${zl} p-5 sm:p-6 mb-6 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between`,style:si,children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 min-h-[56px] text-center sm:text-left",children:[m&&(v?u.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:So,maskImage:`url(${m})`,WebkitMaskImage:`url(${m})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):u.jsx("img",{src:m,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge"}),u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-2",children:"Command Reports"}),u.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"Select a report to view the full stats dashboard."})]})]}),u.jsx("div",{className:"flex flex-col sm:flex-row sm:items-end gap-3",children:u.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300",children:[Yo.length," Reports"]})})]}),u.jsxs("div",{className:`${zl} px-4 py-3 mb-6 flex flex-col md:flex-row gap-3 md:items-center md:justify-between`,style:si,children:[u.jsx("input",{type:"search",value:c,onChange:K=>d(K.target.value),placeholder:"Search reports, commanders, or date...",className:"w-full md:flex-1 bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-sm text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]"}),u.jsxs("div",{className:"text-[11px] sm:text-xs text-gray-400",children:["Showing ",u.jsx("span",{className:"text-[color:var(--accent)]",children:Yo.length})," of"," ",u.jsx("span",{className:"text-[color:var(--accent)]",children:Qi.length})]})]}),i&&u.jsxs("div",{className:"mb-6 rounded-2xl border border-amber-400/40 bg-amber-500/10 px-6 py-5 text-amber-100 shadow-xl backdrop-blur-md",style:si,children:[u.jsx("div",{className:"text-sm uppercase tracking-widest text-amber-200/70",children:"Warning"}),u.jsx("div",{className:"mt-2 text-base font-semibold text-white",children:i}),s&&u.jsxs("div",{className:"text-xs text-amber-100/80 mt-2",children:["Looking for: ",u.jsx("span",{className:"text-amber-50",children:s})]})]}),!i&&!r&&u.jsx("div",{className:`${zl} p-6 text-gray-300`,style:si,children:"Loading reports..."}),Yo.length>0&&u.jsx("div",{className:"flex flex-col gap-3",children:Yo.map(K=>{var pe,De,Ze,$t;return u.jsx("a",{href:K.url,className:`${zl} px-5 py-4 hover:border-[color:var(--accent-border)] transition-colors group`,style:si,children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-4",children:[u.jsxs("div",{className:"min-w-0 block text-left",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-widest text-gray-400",children:K.dateLabel}),u.jsx("div",{className:"text-base sm:text-lg font-semibold mt-1 truncate",children:ege(K.dateStart)}),u.jsxs("div",{className:"text-xs text-gray-400 mt-1 flex items-center gap-2",children:[u.jsx(Sr,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"truncate",children:K.commanders.length?K.commanders.join(", "):"No Commanders"})]})]}),u.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3 sm:gap-4 sm:mt-0 mt-2 w-full sm:w-auto",children:[u.jsx("div",{className:"flex flex-col items-center gap-1 text-[10px] text-gray-400",children:(pe=K.summary)!=null&&pe.mapSlices&&K.summary.mapSlices.length>0?u.jsxs(u.Fragment,{children:[u.jsx(tge,{slices:K.summary.mapSlices}),u.jsx("span",{className:"uppercase tracking-widest",children:"Maps"})]}):u.jsxs(u.Fragment,{children:[u.jsx(nge,{value:(De=K.summary)==null?void 0:De.borderlandsPct}),u.jsx("span",{className:"uppercase tracking-widest",children:"Borderlands"})]})}),u.jsxs("div",{className:"flex flex-col items-end gap-1",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:"Avg Squad / Enemy"}),u.jsxs("div",{className:"text-sm text-white font-semibold",children:[((Ze=K.summary)==null?void 0:Ze.avgSquadSize)??"--"," / ",(($t=K.summary)==null?void 0:$t.avgEnemySize)??"--"]})]}),u.jsx(wz,{className:"w-5 h-5 text-[color:var(--accent)] opacity-60 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity"})]})]})},K.id)})}),!i&&r&&Qi.length===0&&u.jsx("div",{className:`${zl} p-6 text-gray-300`,style:si,children:"No reports uploaded yet."}),!i&&r&&Qi.length>0&&Yo.length===0&&u.jsx("div",{className:`${zl} p-6 text-gray-300`,style:si,children:"No reports match your search."})]}),u.jsx("div",{className:"mt-8",children:Fc})]}),No]})}document.documentElement.classList.add("web-report");document.body.classList.add("web-report");nb.createRoot(document.getElementById("root")).render(u.jsx(Gg.StrictMode,{children:u.jsx(rge,{})}));
