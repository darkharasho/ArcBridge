(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var S6=Object.defineProperty,N6=(e,t,n)=>t in e?S6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,T2=(e,t,n)=>N6(e,typeof t!="symbol"?t+"":t,n);function j6(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();var ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var RE={exports:{}},Vg={},$E={exports:{}},on={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var tp=Symbol.for("react.element"),C6=Symbol.for("react.portal"),M6=Symbol.for("react.fragment"),A6=Symbol.for("react.strict_mode"),P6=Symbol.for("react.profiler"),E6=Symbol.for("react.provider"),T6=Symbol.for("react.context"),O6=Symbol.for("react.forward_ref"),D6=Symbol.for("react.suspense"),I6=Symbol.for("react.memo"),_6=Symbol.for("react.lazy"),O2=Symbol.iterator;function F6(e){return e===null||typeof e!="object"?null:(e=O2&&e[O2]||e["@@iterator"],typeof e=="function"?e:null)}var zE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},BE=Object.assign,UE={};function Xu(e,t,n){this.props=e,this.context=t,this.refs=UE,this.updater=n||zE}Xu.prototype.isReactComponent={};Xu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function VE(){}VE.prototype=Xu.prototype;function ww(e,t,n){this.props=e,this.context=t,this.refs=UE,this.updater=n||zE}var kw=ww.prototype=new VE;kw.constructor=ww;BE(kw,Xu.prototype);kw.isPureReactComponent=!0;var D2=Array.isArray,HE=Object.prototype.hasOwnProperty,Sw={current:null},WE={key:!0,ref:!0,__self:!0,__source:!0};function qE(e,t,n){var r,a={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)HE.call(t,r)&&!WE.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(s===1)a.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)a[r]===void 0&&(a[r]=s[r]);return{$$typeof:tp,type:e,key:i,ref:o,props:a,_owner:Sw.current}}function L6(e,t){return{$$typeof:tp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Nw(e){return typeof e=="object"&&e!==null&&e.$$typeof===tp}function R6(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var I2=/\/+/g;function My(e,t){return typeof e=="object"&&e!==null&&e.key!=null?R6(""+e.key):t.toString(36)}function $m(e,t,n,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case tp:case C6:o=!0}}if(o)return o=e,a=a(o),e=r===""?"."+My(o,0):r,D2(a)?(n="",e!=null&&(n=e.replace(I2,"$&/")+"/"),$m(a,t,n,"",function(c){return c})):a!=null&&(Nw(a)&&(a=L6(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(I2,"$&/")+"/")+e)),t.push(a)),1;if(o=0,r=r===""?".":r+":",D2(e))for(var s=0;s<e.length;s++){i=e[s];var l=r+My(i,s);o+=$m(i,t,n,l,a)}else if(l=F6(e),typeof l=="function")for(e=l.call(e),s=0;!(i=e.next()).done;)i=i.value,l=r+My(i,s++),o+=$m(i,t,n,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Jp(e,t,n){if(e==null)return e;var r=[],a=0;return $m(e,r,"","",function(i){return t.call(n,i,a++)}),r}function $6(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ba={current:null},zm={transition:null},z6={ReactCurrentDispatcher:Ba,ReactCurrentBatchConfig:zm,ReactCurrentOwner:Sw};function KE(){throw Error("act(...) is not supported in production builds of React.")}on.Children={map:Jp,forEach:function(e,t,n){Jp(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Jp(e,function(){t++}),t},toArray:function(e){return Jp(e,function(t){return t})||[]},only:function(e){if(!Nw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};on.Component=Xu;on.Fragment=M6;on.Profiler=P6;on.PureComponent=ww;on.StrictMode=A6;on.Suspense=D6;on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z6;on.act=KE;on.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=BE({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Sw.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)HE.call(t,l)&&!WE.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:tp,type:e.type,key:a,ref:i,props:r,_owner:o}};on.createContext=function(e){return e={$$typeof:T6,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:E6,_context:e},e.Consumer=e};on.createElement=qE;on.createFactory=function(e){var t=qE.bind(null,e);return t.type=e,t};on.createRef=function(){return{current:null}};on.forwardRef=function(e){return{$$typeof:O6,render:e}};on.isValidElement=Nw;on.lazy=function(e){return{$$typeof:_6,_payload:{_status:-1,_result:e},_init:$6}};on.memo=function(e,t){return{$$typeof:I6,type:e,compare:t===void 0?null:t}};on.startTransition=function(e){var t=zm.transition;zm.transition={};try{e()}finally{zm.transition=t}};on.unstable_act=KE;on.useCallback=function(e,t){return Ba.current.useCallback(e,t)};on.useContext=function(e){return Ba.current.useContext(e)};on.useDebugValue=function(){};on.useDeferredValue=function(e){return Ba.current.useDeferredValue(e)};on.useEffect=function(e,t){return Ba.current.useEffect(e,t)};on.useId=function(){return Ba.current.useId()};on.useImperativeHandle=function(e,t,n){return Ba.current.useImperativeHandle(e,t,n)};on.useInsertionEffect=function(e,t){return Ba.current.useInsertionEffect(e,t)};on.useLayoutEffect=function(e,t){return Ba.current.useLayoutEffect(e,t)};on.useMemo=function(e,t){return Ba.current.useMemo(e,t)};on.useReducer=function(e,t,n){return Ba.current.useReducer(e,t,n)};on.useRef=function(e){return Ba.current.useRef(e)};on.useState=function(e){return Ba.current.useState(e)};on.useSyncExternalStore=function(e,t,n){return Ba.current.useSyncExternalStore(e,t,n)};on.useTransition=function(){return Ba.current.useTransition()};on.version="18.3.1";$E.exports=on;var v=$E.exports;const Hg=mo(v),B6=j6({__proto__:null,default:Hg},[v]);/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var U6=v,V6=Symbol.for("react.element"),H6=Symbol.for("react.fragment"),W6=Object.prototype.hasOwnProperty,q6=U6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,K6={key:!0,ref:!0,__self:!0,__source:!0};function YE(e,t,n){var r,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)W6.call(t,r)&&!K6.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:V6,type:e,key:i,ref:o,props:a,_owner:q6.current}}Vg.Fragment=H6;Vg.jsx=YE;Vg.jsxs=YE;RE.exports=Vg;var u=RE.exports,nb={},GE={exports:{}},ki={},XE={exports:{}},JE={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(e){function t($,te){var k=$.length;$.push(te);e:for(;0<k;){var E=k-1>>>1,A=$[E];if(0<a(A,te))$[E]=te,$[k]=A,k=E;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var te=$[0],k=$.pop();if(k!==te){$[0]=k;e:for(var E=0,A=$.length,j=A>>>1;E<j;){var z=2*(E+1)-1,Y=$[z],W=z+1,q=$[W];if(0>a(Y,k))W<A&&0>a(q,Y)?($[E]=q,$[W]=k,E=W):($[E]=Y,$[z]=k,E=z);else if(W<A&&0>a(q,k))$[E]=q,$[W]=k,E=W;else break e}}return te}function a($,te){var k=$.sortIndex-te.sortIndex;return k!==0?k:$.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],c=[],d=1,f=null,p=3,m=!1,h=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w($){for(var te=n(c);te!==null;){if(te.callback===null)r(c);else if(te.startTime<=$)r(c),te.sortIndex=te.expirationTime,t(l,te);else break;te=n(c)}}function S($){if(y=!1,w($),!h)if(n(l)!==null)h=!0,he(C);else{var te=n(c);te!==null&&B(S,te.startTime-$)}}function C($,te){h=!1,y&&(y=!1,g(O),O=-1),m=!0;var k=p;try{for(w(te),f=n(l);f!==null&&(!(f.expirationTime>te)||$&&!_());){var E=f.callback;if(typeof E=="function"){f.callback=null,p=f.priorityLevel;var A=E(f.expirationTime<=te);te=e.unstable_now(),typeof A=="function"?f.callback=A:f===n(l)&&r(l),w(te)}else r(l);f=n(l)}if(f!==null)var j=!0;else{var z=n(c);z!==null&&B(S,z.startTime-te),j=!1}return j}finally{f=null,p=k,m=!1}}var N=!1,M=null,O=-1,R=5,P=-1;function _(){return!(e.unstable_now()-P<R)}function I(){if(M!==null){var $=e.unstable_now();P=$;var te=!0;try{te=M(!0,$)}finally{te?Q():(N=!1,M=null)}}else N=!1}var Q;if(typeof b=="function")Q=function(){b(I)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,re=J.port2;J.port1.onmessage=I,Q=function(){re.postMessage(null)}}else Q=function(){x(I,0)};function he($){M=$,N||(N=!0,Q())}function B($,te){O=x(function(){$(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){h||m||(h=!0,he(C))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function($){switch(p){case 1:case 2:case 3:var te=3;break;default:te=p}var k=p;p=te;try{return $()}finally{p=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,te){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var k=p;p=$;try{return te()}finally{p=k}},e.unstable_scheduleCallback=function($,te,k){var E=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?E+k:E):k=E,$){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=k+A,$={id:d++,callback:te,priorityLevel:$,startTime:k,expirationTime:A,sortIndex:-1},k>E?($.sortIndex=k,t(c,$),n(l)===null&&$===n(c)&&(y?(g(O),O=-1):y=!0,B(S,k-E))):($.sortIndex=A,t(l,$),h||m||(h=!0,he(C))),$},e.unstable_shouldYield=_,e.unstable_wrapCallback=function($){var te=p;return function(){var k=p;p=te;try{return $.apply(this,arguments)}finally{p=k}}}})(JE);XE.exports=JE;var Y6=XE.exports;/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var G6=v,bi=Y6;function _e(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var QE=new Set,uf={};function Ac(e,t){Pu(e,t),Pu(e+"Capture",t)}function Pu(e,t){for(uf[e]=t,e=0;e<t.length;e++)QE.add(t[e])}var fs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rb=Object.prototype.hasOwnProperty,X6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_2={},F2={};function J6(e){return rb.call(F2,e)?!0:rb.call(_2,e)?!1:X6.test(e)?F2[e]=!0:(_2[e]=!0,!1)}function Q6(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Z6(e,t,n,r){if(t===null||typeof t>"u"||Q6(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ua(e,t,n,r,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var ha={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ha[e]=new Ua(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ha[t]=new Ua(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ha[e]=new Ua(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ha[e]=new Ua(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ha[e]=new Ua(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ha[e]=new Ua(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ha[e]=new Ua(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ha[e]=new Ua(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ha[e]=new Ua(e,5,!1,e.toLowerCase(),null,!1,!1)});var jw=/[\-:]([a-z])/g;function Cw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(jw,Cw);ha[t]=new Ua(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(jw,Cw);ha[t]=new Ua(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(jw,Cw);ha[t]=new Ua(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ha[e]=new Ua(e,1,!1,e.toLowerCase(),null,!1,!1)});ha.xlinkHref=new Ua("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ha[e]=new Ua(e,1,!1,e.toLowerCase(),null,!0,!0)});function Mw(e,t,n,r){var a=ha.hasOwnProperty(t)?ha[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Z6(t,n,a,r)&&(n=null),r||a===null?J6(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ss=G6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qp=Symbol.for("react.element"),tu=Symbol.for("react.portal"),nu=Symbol.for("react.fragment"),Aw=Symbol.for("react.strict_mode"),ab=Symbol.for("react.profiler"),ZE=Symbol.for("react.provider"),e5=Symbol.for("react.context"),Pw=Symbol.for("react.forward_ref"),ib=Symbol.for("react.suspense"),ob=Symbol.for("react.suspense_list"),Ew=Symbol.for("react.memo"),qs=Symbol.for("react.lazy"),t5=Symbol.for("react.offscreen"),L2=Symbol.iterator;function gd(e){return e===null||typeof e!="object"?null:(e=L2&&e[L2]||e["@@iterator"],typeof e=="function"?e:null)}var mr=Object.assign,Ay;function Rd(e){if(Ay===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ay=t&&t[1]||""}return`
`+Ay+e}var Py=!1;function Ey(e,t){if(!e||Py)return"";Py=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),i=r.stack.split(`
`),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(o!==1||s!==1)do if(o--,s--,0>s||a[o]!==i[s]){var l=`
`+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{Py=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Rd(e):""}function e$(e){switch(e.tag){case 5:return Rd(e.type);case 16:return Rd("Lazy");case 13:return Rd("Suspense");case 19:return Rd("SuspenseList");case 0:case 2:case 15:return e=Ey(e.type,!1),e;case 11:return e=Ey(e.type.render,!1),e;case 1:return e=Ey(e.type,!0),e;default:return""}}function sb(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nu:return"Fragment";case tu:return"Portal";case ab:return"Profiler";case Aw:return"StrictMode";case ib:return"Suspense";case ob:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case e5:return(e.displayName||"Context")+".Consumer";case ZE:return(e._context.displayName||"Context")+".Provider";case Pw:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ew:return t=e.displayName||null,t!==null?t:sb(e.type)||"Memo";case qs:t=e._payload,e=e._init;try{return sb(e(t))}catch{}}return null}function t$(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sb(t);case 8:return t===Aw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function hl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function n5(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function n$(e){var t=n5(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zp(e){e._valueTracker||(e._valueTracker=n$(e))}function r5(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=n5(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function uh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function lb(e,t){var n=t.checked;return mr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function R2(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=hl(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function a5(e,t){t=t.checked,t!=null&&Mw(e,"checked",t,!1)}function cb(e,t){a5(e,t);var n=hl(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ub(e,t.type,n):t.hasOwnProperty("defaultValue")&&ub(e,t.type,hl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function $2(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ub(e,t,n){(t!=="number"||uh(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var $d=Array.isArray;function bu(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+hl(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function db(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_e(91));return mr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function z2(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(_e(92));if($d(n)){if(1<n.length)throw Error(_e(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:hl(n)}}function i5(e,t){var n=hl(t.value),r=hl(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function B2(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function o5(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fb(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?o5(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var em,s5=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(em=em||document.createElement("div"),em.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=em.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function df(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Wd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},r$=["Webkit","ms","Moz","O"];Object.keys(Wd).forEach(function(e){r$.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Wd[t]=Wd[e]})});function l5(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Wd.hasOwnProperty(e)&&Wd[e]?(""+t).trim():t+"px"}function c5(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=l5(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var a$=mr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pb(e,t){if(t){if(a$[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_e(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_e(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_e(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_e(62))}}function mb(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hb=null;function Tw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gb=null,xu=null,wu=null;function U2(e){if(e=ap(e)){if(typeof gb!="function")throw Error(_e(280));var t=e.stateNode;t&&(t=Gg(t),gb(e.stateNode,e.type,t))}}function u5(e){xu?wu?wu.push(e):wu=[e]:xu=e}function d5(){if(xu){var e=xu,t=wu;if(wu=xu=null,U2(e),t)for(e=0;e<t.length;e++)U2(t[e])}}function f5(e,t){return e(t)}function p5(){}var Ty=!1;function m5(e,t,n){if(Ty)return e(t,n);Ty=!0;try{return f5(e,t,n)}finally{Ty=!1,(xu!==null||wu!==null)&&(p5(),d5())}}function ff(e,t){var n=e.stateNode;if(n===null)return null;var r=Gg(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(_e(231,t,typeof n));return n}var yb=!1;if(fs)try{var yd={};Object.defineProperty(yd,"passive",{get:function(){yb=!0}}),window.addEventListener("test",yd,yd),window.removeEventListener("test",yd,yd)}catch{yb=!1}function i$(e,t,n,r,a,i,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var qd=!1,dh=null,fh=!1,vb=null,o$={onError:function(e){qd=!0,dh=e}};function s$(e,t,n,r,a,i,o,s,l){qd=!1,dh=null,i$.apply(o$,arguments)}function l$(e,t,n,r,a,i,o,s,l){if(s$.apply(this,arguments),qd){if(qd){var c=dh;qd=!1,dh=null}else throw Error(_e(198));fh||(fh=!0,vb=c)}}function Pc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function h5(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function V2(e){if(Pc(e)!==e)throw Error(_e(188))}function c$(e){var t=e.alternate;if(!t){if(t=Pc(e),t===null)throw Error(_e(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return V2(a),e;if(i===r)return V2(a),t;i=i.sibling}throw Error(_e(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o){for(s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o)throw Error(_e(189))}}if(n.alternate!==r)throw Error(_e(190))}if(n.tag!==3)throw Error(_e(188));return n.stateNode.current===n?e:t}function g5(e){return e=c$(e),e!==null?y5(e):null}function y5(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=y5(e);if(t!==null)return t;e=e.sibling}return null}var v5=bi.unstable_scheduleCallback,H2=bi.unstable_cancelCallback,u$=bi.unstable_shouldYield,d$=bi.unstable_requestPaint,Er=bi.unstable_now,f$=bi.unstable_getCurrentPriorityLevel,Ow=bi.unstable_ImmediatePriority,b5=bi.unstable_UserBlockingPriority,ph=bi.unstable_NormalPriority,p$=bi.unstable_LowPriority,x5=bi.unstable_IdlePriority,Wg=null,Io=null;function m$(e){if(Io&&typeof Io.onCommitFiberRoot=="function")try{Io.onCommitFiberRoot(Wg,e,void 0,(e.current.flags&128)===128)}catch{}}var ao=Math.clz32?Math.clz32:y$,h$=Math.log,g$=Math.LN2;function y$(e){return e>>>=0,e===0?32:31-(h$(e)/g$|0)|0}var tm=64,nm=4194304;function zd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mh(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~a;s!==0?r=zd(s):(i&=o,i!==0&&(r=zd(i)))}else o=n&~a,o!==0?r=zd(o):i!==0&&(r=zd(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ao(t),a=1<<n,r|=e[n],t&=~a;return r}function v$(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function b$(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ao(i),s=1<<o,l=a[o];l===-1?(!(s&n)||s&r)&&(a[o]=v$(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}function bb(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function w5(){var e=tm;return tm<<=1,!(tm&4194240)&&(tm=64),e}function Oy(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function np(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ao(t),e[t]=n}function x$(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-ao(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}function Dw(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ao(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var En=0;function k5(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var S5,Iw,N5,j5,C5,xb=!1,rm=[],al=null,il=null,ol=null,pf=new Map,mf=new Map,Js=[],w$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function W2(e,t){switch(e){case"focusin":case"focusout":al=null;break;case"dragenter":case"dragleave":il=null;break;case"mouseover":case"mouseout":ol=null;break;case"pointerover":case"pointerout":pf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mf.delete(t.pointerId)}}function vd(e,t,n,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=ap(t),t!==null&&Iw(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function k$(e,t,n,r,a){switch(t){case"focusin":return al=vd(al,e,t,n,r,a),!0;case"dragenter":return il=vd(il,e,t,n,r,a),!0;case"mouseover":return ol=vd(ol,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return pf.set(i,vd(pf.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,mf.set(i,vd(mf.get(i)||null,e,t,n,r,a)),!0}return!1}function M5(e){var t=Yl(e.target);if(t!==null){var n=Pc(t);if(n!==null){if(t=n.tag,t===13){if(t=h5(n),t!==null){e.blockedOn=t,C5(e.priority,function(){N5(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=wb(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);hb=r,n.target.dispatchEvent(r),hb=null}else return t=ap(n),t!==null&&Iw(t),e.blockedOn=n,!1;t.shift()}return!0}function q2(e,t,n){Bm(e)&&n.delete(t)}function S$(){xb=!1,al!==null&&Bm(al)&&(al=null),il!==null&&Bm(il)&&(il=null),ol!==null&&Bm(ol)&&(ol=null),pf.forEach(q2),mf.forEach(q2)}function bd(e,t){e.blockedOn===t&&(e.blockedOn=null,xb||(xb=!0,bi.unstable_scheduleCallback(bi.unstable_NormalPriority,S$)))}function hf(e){function t(a){return bd(a,e)}if(0<rm.length){bd(rm[0],e);for(var n=1;n<rm.length;n++){var r=rm[n];r.blockedOn===e&&(r.blockedOn=null)}}for(al!==null&&bd(al,e),il!==null&&bd(il,e),ol!==null&&bd(ol,e),pf.forEach(t),mf.forEach(t),n=0;n<Js.length;n++)r=Js[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Js.length&&(n=Js[0],n.blockedOn===null);)M5(n),n.blockedOn===null&&Js.shift()}var ku=Ss.ReactCurrentBatchConfig,hh=!0;function N$(e,t,n,r){var a=En,i=ku.transition;ku.transition=null;try{En=1,_w(e,t,n,r)}finally{En=a,ku.transition=i}}function j$(e,t,n,r){var a=En,i=ku.transition;ku.transition=null;try{En=4,_w(e,t,n,r)}finally{En=a,ku.transition=i}}function _w(e,t,n,r){if(hh){var a=wb(e,t,n,r);if(a===null)Uy(e,t,r,gh,n),W2(e,r);else if(k$(a,e,t,n,r))r.stopPropagation();else if(W2(e,r),t&4&&-1<w$.indexOf(e)){for(;a!==null;){var i=ap(a);if(i!==null&&S5(i),i=wb(e,t,n,r),i===null&&Uy(e,t,r,gh,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else Uy(e,t,r,null,n)}}var gh=null;function wb(e,t,n,r){if(gh=null,e=Tw(r),e=Yl(e),e!==null)if(t=Pc(e),t===null)e=null;else if(n=t.tag,n===13){if(e=h5(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return gh=e,null}function A5(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(f$()){case Ow:return 1;case b5:return 4;case ph:case p$:return 16;case x5:return 536870912;default:return 16}default:return 16}}var el=null,Fw=null,Um=null;function P5(){if(Um)return Um;var e,t=Fw,n=t.length,r,a="value"in el?el.value:el.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===a[i-r];r++);return Um=a.slice(e,1<r?1-r:void 0)}function Vm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function am(){return!0}function K2(){return!1}function Si(e){function t(n,r,a,i,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?am:K2,this.isPropagationStopped=K2,this}return mr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=am)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=am)},persist:function(){},isPersistent:am}),t}var Ju={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lw=Si(Ju),rp=mr({},Ju,{view:0,detail:0}),C$=Si(rp),Dy,Iy,xd,qg=mr({},rp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xd&&(xd&&e.type==="mousemove"?(Dy=e.screenX-xd.screenX,Iy=e.screenY-xd.screenY):Iy=Dy=0,xd=e),Dy)},movementY:function(e){return"movementY"in e?e.movementY:Iy}}),Y2=Si(qg),M$=mr({},qg,{dataTransfer:0}),A$=Si(M$),P$=mr({},rp,{relatedTarget:0}),_y=Si(P$),E$=mr({},Ju,{animationName:0,elapsedTime:0,pseudoElement:0}),T$=Si(E$),O$=mr({},Ju,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),D$=Si(O$),I$=mr({},Ju,{data:0}),G2=Si(I$),_$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},F$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},L$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function R$(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=L$[e])?!!t[e]:!1}function Rw(){return R$}var $$=mr({},rp,{key:function(e){if(e.key){var t=_$[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?F$[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rw,charCode:function(e){return e.type==="keypress"?Vm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),z$=Si($$),B$=mr({},qg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),X2=Si(B$),U$=mr({},rp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rw}),V$=Si(U$),H$=mr({},Ju,{propertyName:0,elapsedTime:0,pseudoElement:0}),W$=Si(H$),q$=mr({},qg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),K$=Si(q$),Y$=[9,13,27,32],$w=fs&&"CompositionEvent"in window,Kd=null;fs&&"documentMode"in document&&(Kd=document.documentMode);var G$=fs&&"TextEvent"in window&&!Kd,E5=fs&&(!$w||Kd&&8<Kd&&11>=Kd),J2=" ",Q2=!1;function T5(e,t){switch(e){case"keyup":return Y$.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function O5(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ru=!1;function X$(e,t){switch(e){case"compositionend":return O5(t);case"keypress":return t.which!==32?null:(Q2=!0,J2);case"textInput":return e=t.data,e===J2&&Q2?null:e;default:return null}}function J$(e,t){if(ru)return e==="compositionend"||!$w&&T5(e,t)?(e=P5(),Um=Fw=el=null,ru=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return E5&&t.locale!=="ko"?null:t.data;default:return null}}var Q$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Z2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Q$[e.type]:t==="textarea"}function D5(e,t,n,r){u5(r),t=yh(t,"onChange"),0<t.length&&(n=new Lw("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yd=null,gf=null;function Z$(e){H5(e,0)}function Kg(e){var t=ou(e);if(r5(t))return e}function ez(e,t){if(e==="change")return t}var I5=!1;if(fs){var Fy;if(fs){var Ly="oninput"in document;if(!Ly){var eN=document.createElement("div");eN.setAttribute("oninput","return;"),Ly=typeof eN.oninput=="function"}Fy=Ly}else Fy=!1;I5=Fy&&(!document.documentMode||9<document.documentMode)}function tN(){Yd&&(Yd.detachEvent("onpropertychange",_5),gf=Yd=null)}function _5(e){if(e.propertyName==="value"&&Kg(gf)){var t=[];D5(t,gf,e,Tw(e)),m5(Z$,t)}}function tz(e,t,n){e==="focusin"?(tN(),Yd=t,gf=n,Yd.attachEvent("onpropertychange",_5)):e==="focusout"&&tN()}function nz(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Kg(gf)}function rz(e,t){if(e==="click")return Kg(t)}function az(e,t){if(e==="input"||e==="change")return Kg(t)}function iz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lo=typeof Object.is=="function"?Object.is:iz;function yf(e,t){if(lo(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!rb.call(t,a)||!lo(e[a],t[a]))return!1}return!0}function nN(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rN(e,t){var n=nN(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nN(n)}}function F5(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?F5(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function L5(){for(var e=window,t=uh();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=uh(e.document)}return t}function zw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function oz(e){var t=L5(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&F5(n.ownerDocument.documentElement,n)){if(r!==null&&zw(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=rN(n,i);var o=rN(n,r);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sz=fs&&"documentMode"in document&&11>=document.documentMode,au=null,kb=null,Gd=null,Sb=!1;function aN(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sb||au==null||au!==uh(r)||(r=au,"selectionStart"in r&&zw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gd&&yf(Gd,r)||(Gd=r,r=yh(kb,"onSelect"),0<r.length&&(t=new Lw("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=au)))}function im(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var iu={animationend:im("Animation","AnimationEnd"),animationiteration:im("Animation","AnimationIteration"),animationstart:im("Animation","AnimationStart"),transitionend:im("Transition","TransitionEnd")},Ry={},R5={};fs&&(R5=document.createElement("div").style,"AnimationEvent"in window||(delete iu.animationend.animation,delete iu.animationiteration.animation,delete iu.animationstart.animation),"TransitionEvent"in window||delete iu.transitionend.transition);function Yg(e){if(Ry[e])return Ry[e];if(!iu[e])return e;var t=iu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in R5)return Ry[e]=t[n];return e}var $5=Yg("animationend"),z5=Yg("animationiteration"),B5=Yg("animationstart"),U5=Yg("transitionend"),V5=new Map,iN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wl(e,t){V5.set(e,t),Ac(t,[e])}for(var $y=0;$y<iN.length;$y++){var zy=iN[$y],lz=zy.toLowerCase(),cz=zy[0].toUpperCase()+zy.slice(1);wl(lz,"on"+cz)}wl($5,"onAnimationEnd");wl(z5,"onAnimationIteration");wl(B5,"onAnimationStart");wl("dblclick","onDoubleClick");wl("focusin","onFocus");wl("focusout","onBlur");wl(U5,"onTransitionEnd");Pu("onMouseEnter",["mouseout","mouseover"]);Pu("onMouseLeave",["mouseout","mouseover"]);Pu("onPointerEnter",["pointerout","pointerover"]);Pu("onPointerLeave",["pointerout","pointerover"]);Ac("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ac("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ac("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ac("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ac("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ac("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uz=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bd));function oN(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,l$(r,t,void 0,e),e.currentTarget=null}function H5(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;oN(a,s,c),i=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,c=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;oN(a,s,c),i=l}}}if(fh)throw e=vb,fh=!1,vb=null,e}function Yn(e,t){var n=t[Ab];n===void 0&&(n=t[Ab]=new Set);var r=e+"__bubble";n.has(r)||(W5(t,e,2,!1),n.add(r))}function By(e,t,n){var r=0;t&&(r|=4),W5(n,e,r,t)}var om="_reactListening"+Math.random().toString(36).slice(2);function vf(e){if(!e[om]){e[om]=!0,QE.forEach(function(n){n!=="selectionchange"&&(uz.has(n)||By(n,!1,e),By(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[om]||(t[om]=!0,By("selectionchange",!1,t))}}function W5(e,t,n,r){switch(A5(t)){case 1:var a=N$;break;case 4:a=j$;break;default:a=_w}n=a.bind(null,t,n,e),a=void 0,!yb||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Uy(e,t,n,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===a||s.nodeType===8&&s.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;o=o.return}for(;s!==null;){if(o=Yl(s),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}s=s.parentNode}}r=r.return}m5(function(){var c=i,d=Tw(n),f=[];e:{var p=V5.get(e);if(p!==void 0){var m=Lw,h=e;switch(e){case"keypress":if(Vm(n)===0)break e;case"keydown":case"keyup":m=z$;break;case"focusin":h="focus",m=_y;break;case"focusout":h="blur",m=_y;break;case"beforeblur":case"afterblur":m=_y;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Y2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=A$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=V$;break;case $5:case z5:case B5:m=T$;break;case U5:m=W$;break;case"scroll":m=C$;break;case"wheel":m=K$;break;case"copy":case"cut":case"paste":m=D$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=X2}var y=(t&4)!==0,x=!y&&e==="scroll",g=y?p!==null?p+"Capture":null:p;y=[];for(var b=c,w;b!==null;){w=b;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,g!==null&&(S=ff(b,g),S!=null&&y.push(bf(b,S,w)))),x)break;b=b.return}0<y.length&&(p=new m(p,h,null,n,d),f.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==hb&&(h=n.relatedTarget||n.fromElement)&&(Yl(h)||h[ps]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(h=n.relatedTarget||n.toElement,m=c,h=h?Yl(h):null,h!==null&&(x=Pc(h),h!==x||h.tag!==5&&h.tag!==6)&&(h=null)):(m=null,h=c),m!==h)){if(y=Y2,S="onMouseLeave",g="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(y=X2,S="onPointerLeave",g="onPointerEnter",b="pointer"),x=m==null?p:ou(m),w=h==null?p:ou(h),p=new y(S,b+"leave",m,n,d),p.target=x,p.relatedTarget=w,S=null,Yl(d)===c&&(y=new y(g,b+"enter",h,n,d),y.target=w,y.relatedTarget=x,S=y),x=S,m&&h)t:{for(y=m,g=h,b=0,w=y;w;w=qc(w))b++;for(w=0,S=g;S;S=qc(S))w++;for(;0<b-w;)y=qc(y),b--;for(;0<w-b;)g=qc(g),w--;for(;b--;){if(y===g||g!==null&&y===g.alternate)break t;y=qc(y),g=qc(g)}y=null}else y=null;m!==null&&sN(f,p,m,y,!1),h!==null&&x!==null&&sN(f,x,h,y,!0)}}e:{if(p=c?ou(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var C=ez;else if(Z2(p))if(I5)C=az;else{C=nz;var N=tz}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=rz);if(C&&(C=C(e,c))){D5(f,C,n,d);break e}N&&N(e,p,c),e==="focusout"&&(N=p._wrapperState)&&N.controlled&&p.type==="number"&&ub(p,"number",p.value)}switch(N=c?ou(c):window,e){case"focusin":(Z2(N)||N.contentEditable==="true")&&(au=N,kb=c,Gd=null);break;case"focusout":Gd=kb=au=null;break;case"mousedown":Sb=!0;break;case"contextmenu":case"mouseup":case"dragend":Sb=!1,aN(f,n,d);break;case"selectionchange":if(sz)break;case"keydown":case"keyup":aN(f,n,d)}var M;if($w)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else ru?T5(e,n)&&(O="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(E5&&n.locale!=="ko"&&(ru||O!=="onCompositionStart"?O==="onCompositionEnd"&&ru&&(M=P5()):(el=d,Fw="value"in el?el.value:el.textContent,ru=!0)),N=yh(c,O),0<N.length&&(O=new G2(O,e,null,n,d),f.push({event:O,listeners:N}),M?O.data=M:(M=O5(n),M!==null&&(O.data=M)))),(M=G$?X$(e,n):J$(e,n))&&(c=yh(c,"onBeforeInput"),0<c.length&&(d=new G2("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=M))}H5(f,t)})}function bf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function yh(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=ff(e,n),i!=null&&r.unshift(bf(e,i,a)),i=ff(e,t),i!=null&&r.push(bf(e,i,a))),e=e.return}return r}function qc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function sN(e,t,n,r,a){for(var i=t._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,a?(l=ff(n,i),l!=null&&o.unshift(bf(n,l,s))):a||(l=ff(n,i),l!=null&&o.push(bf(n,l,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var dz=/\r\n?/g,fz=/\u0000|\uFFFD/g;function lN(e){return(typeof e=="string"?e:""+e).replace(dz,`
`).replace(fz,"")}function sm(e,t,n){if(t=lN(t),lN(e)!==t&&n)throw Error(_e(425))}function vh(){}var Nb=null,jb=null;function Cb(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Mb=typeof setTimeout=="function"?setTimeout:void 0,pz=typeof clearTimeout=="function"?clearTimeout:void 0,cN=typeof Promise=="function"?Promise:void 0,mz=typeof queueMicrotask=="function"?queueMicrotask:typeof cN<"u"?function(e){return cN.resolve(null).then(e).catch(hz)}:Mb;function hz(e){setTimeout(function(){throw e})}function Vy(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),hf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);hf(t)}function sl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function uN(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Qu=Math.random().toString(36).slice(2),Oo="__reactFiber$"+Qu,xf="__reactProps$"+Qu,ps="__reactContainer$"+Qu,Ab="__reactEvents$"+Qu,gz="__reactListeners$"+Qu,yz="__reactHandles$"+Qu;function Yl(e){var t=e[Oo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ps]||n[Oo]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=uN(e);e!==null;){if(n=e[Oo])return n;e=uN(e)}return t}e=n,n=e.parentNode}return null}function ap(e){return e=e[Oo]||e[ps],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ou(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_e(33))}function Gg(e){return e[xf]||null}var Pb=[],su=-1;function kl(e){return{current:e}}function Jn(e){0>su||(e.current=Pb[su],Pb[su]=null,su--)}function Wn(e,t){su++,Pb[su]=e.current,e.current=t}var gl={},Aa=kl(gl),Qa=kl(!1),fc=gl;function Eu(e,t){var n=e.type.contextTypes;if(!n)return gl;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Za(e){return e=e.childContextTypes,e!=null}function bh(){Jn(Qa),Jn(Aa)}function dN(e,t,n){if(Aa.current!==gl)throw Error(_e(168));Wn(Aa,t),Wn(Qa,n)}function q5(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(_e(108,t$(e)||"Unknown",a));return mr({},n,r)}function xh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gl,fc=Aa.current,Wn(Aa,e),Wn(Qa,Qa.current),!0}function fN(e,t,n){var r=e.stateNode;if(!r)throw Error(_e(169));n?(e=q5(e,t,fc),r.__reactInternalMemoizedMergedChildContext=e,Jn(Qa),Jn(Aa),Wn(Aa,e)):Jn(Qa),Wn(Qa,n)}var Jo=null,Xg=!1,Hy=!1;function K5(e){Jo===null?Jo=[e]:Jo.push(e)}function vz(e){Xg=!0,K5(e)}function Sl(){if(!Hy&&Jo!==null){Hy=!0;var e=0,t=En;try{var n=Jo;for(En=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Jo=null,Xg=!1}catch(a){throw Jo!==null&&(Jo=Jo.slice(e+1)),v5(Ow,Sl),a}finally{En=t,Hy=!1}}return null}var lu=[],cu=0,wh=null,kh=0,Ii=[],_i=0,pc=null,ns=1,rs="";function zl(e,t){lu[cu++]=kh,lu[cu++]=wh,wh=e,kh=t}function Y5(e,t,n){Ii[_i++]=ns,Ii[_i++]=rs,Ii[_i++]=pc,pc=e;var r=ns;e=rs;var a=32-ao(r)-1;r&=~(1<<a),n+=1;var i=32-ao(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,ns=1<<32-ao(t)+a|n<<a|r,rs=i+e}else ns=1<<i|n<<a|r,rs=e}function Bw(e){e.return!==null&&(zl(e,1),Y5(e,1,0))}function Uw(e){for(;e===wh;)wh=lu[--cu],lu[cu]=null,kh=lu[--cu],lu[cu]=null;for(;e===pc;)pc=Ii[--_i],Ii[_i]=null,rs=Ii[--_i],Ii[_i]=null,ns=Ii[--_i],Ii[_i]=null}var gi=null,mi=null,or=!1,eo=null;function G5(e,t){var n=Li(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function pN(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,gi=e,mi=sl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,gi=e,mi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=pc!==null?{id:ns,overflow:rs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Li(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,gi=e,mi=null,!0):!1;default:return!1}}function Eb(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Tb(e){if(or){var t=mi;if(t){var n=t;if(!pN(e,t)){if(Eb(e))throw Error(_e(418));t=sl(n.nextSibling);var r=gi;t&&pN(e,t)?G5(r,n):(e.flags=e.flags&-4097|2,or=!1,gi=e)}}else{if(Eb(e))throw Error(_e(418));e.flags=e.flags&-4097|2,or=!1,gi=e}}}function mN(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gi=e}function lm(e){if(e!==gi)return!1;if(!or)return mN(e),or=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Cb(e.type,e.memoizedProps)),t&&(t=mi)){if(Eb(e))throw X5(),Error(_e(418));for(;t;)G5(e,t),t=sl(t.nextSibling)}if(mN(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_e(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){mi=sl(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}mi=null}}else mi=gi?sl(e.stateNode.nextSibling):null;return!0}function X5(){for(var e=mi;e;)e=sl(e.nextSibling)}function Tu(){mi=gi=null,or=!1}function Vw(e){eo===null?eo=[e]:eo.push(e)}var bz=Ss.ReactCurrentBatchConfig;function wd(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_e(309));var r=n.stateNode}if(!r)throw Error(_e(147,e));var a=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var s=a.refs;o===null?delete s[i]:s[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(_e(284));if(!n._owner)throw Error(_e(290,e))}return e}function cm(e,t){throw e=Object.prototype.toString.call(t),Error(_e(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function hN(e){var t=e._init;return t(e._payload)}function J5(e){function t(g,b){if(e){var w=g.deletions;w===null?(g.deletions=[b],g.flags|=16):w.push(b)}}function n(g,b){if(!e)return null;for(;b!==null;)t(g,b),b=b.sibling;return null}function r(g,b){for(g=new Map;b!==null;)b.key!==null?g.set(b.key,b):g.set(b.index,b),b=b.sibling;return g}function a(g,b){return g=dl(g,b),g.index=0,g.sibling=null,g}function i(g,b,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<b?(g.flags|=2,b):w):(g.flags|=2,b)):(g.flags|=1048576,b)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function s(g,b,w,S){return b===null||b.tag!==6?(b=Jy(w,g.mode,S),b.return=g,b):(b=a(b,w),b.return=g,b)}function l(g,b,w,S){var C=w.type;return C===nu?d(g,b,w.props.children,S,w.key):b!==null&&(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===qs&&hN(C)===b.type)?(S=a(b,w.props),S.ref=wd(g,b,w),S.return=g,S):(S=Xm(w.type,w.key,w.props,null,g.mode,S),S.ref=wd(g,b,w),S.return=g,S)}function c(g,b,w,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=Qy(w,g.mode,S),b.return=g,b):(b=a(b,w.children||[]),b.return=g,b)}function d(g,b,w,S,C){return b===null||b.tag!==7?(b=ic(w,g.mode,S,C),b.return=g,b):(b=a(b,w),b.return=g,b)}function f(g,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Jy(""+b,g.mode,w),b.return=g,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Qp:return w=Xm(b.type,b.key,b.props,null,g.mode,w),w.ref=wd(g,null,b),w.return=g,w;case tu:return b=Qy(b,g.mode,w),b.return=g,b;case qs:var S=b._init;return f(g,S(b._payload),w)}if($d(b)||gd(b))return b=ic(b,g.mode,w,null),b.return=g,b;cm(g,b)}return null}function p(g,b,w,S){var C=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:s(g,b,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Qp:return w.key===C?l(g,b,w,S):null;case tu:return w.key===C?c(g,b,w,S):null;case qs:return C=w._init,p(g,b,C(w._payload),S)}if($d(w)||gd(w))return C!==null?null:d(g,b,w,S,null);cm(g,w)}return null}function m(g,b,w,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(w)||null,s(b,g,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Qp:return g=g.get(S.key===null?w:S.key)||null,l(b,g,S,C);case tu:return g=g.get(S.key===null?w:S.key)||null,c(b,g,S,C);case qs:var N=S._init;return m(g,b,w,N(S._payload),C)}if($d(S)||gd(S))return g=g.get(w)||null,d(b,g,S,C,null);cm(b,S)}return null}function h(g,b,w,S){for(var C=null,N=null,M=b,O=b=0,R=null;M!==null&&O<w.length;O++){M.index>O?(R=M,M=null):R=M.sibling;var P=p(g,M,w[O],S);if(P===null){M===null&&(M=R);break}e&&M&&P.alternate===null&&t(g,M),b=i(P,b,O),N===null?C=P:N.sibling=P,N=P,M=R}if(O===w.length)return n(g,M),or&&zl(g,O),C;if(M===null){for(;O<w.length;O++)M=f(g,w[O],S),M!==null&&(b=i(M,b,O),N===null?C=M:N.sibling=M,N=M);return or&&zl(g,O),C}for(M=r(g,M);O<w.length;O++)R=m(M,g,O,w[O],S),R!==null&&(e&&R.alternate!==null&&M.delete(R.key===null?O:R.key),b=i(R,b,O),N===null?C=R:N.sibling=R,N=R);return e&&M.forEach(function(_){return t(g,_)}),or&&zl(g,O),C}function y(g,b,w,S){var C=gd(w);if(typeof C!="function")throw Error(_e(150));if(w=C.call(w),w==null)throw Error(_e(151));for(var N=C=null,M=b,O=b=0,R=null,P=w.next();M!==null&&!P.done;O++,P=w.next()){M.index>O?(R=M,M=null):R=M.sibling;var _=p(g,M,P.value,S);if(_===null){M===null&&(M=R);break}e&&M&&_.alternate===null&&t(g,M),b=i(_,b,O),N===null?C=_:N.sibling=_,N=_,M=R}if(P.done)return n(g,M),or&&zl(g,O),C;if(M===null){for(;!P.done;O++,P=w.next())P=f(g,P.value,S),P!==null&&(b=i(P,b,O),N===null?C=P:N.sibling=P,N=P);return or&&zl(g,O),C}for(M=r(g,M);!P.done;O++,P=w.next())P=m(M,g,O,P.value,S),P!==null&&(e&&P.alternate!==null&&M.delete(P.key===null?O:P.key),b=i(P,b,O),N===null?C=P:N.sibling=P,N=P);return e&&M.forEach(function(I){return t(g,I)}),or&&zl(g,O),C}function x(g,b,w,S){if(typeof w=="object"&&w!==null&&w.type===nu&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Qp:e:{for(var C=w.key,N=b;N!==null;){if(N.key===C){if(C=w.type,C===nu){if(N.tag===7){n(g,N.sibling),b=a(N,w.props.children),b.return=g,g=b;break e}}else if(N.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===qs&&hN(C)===N.type){n(g,N.sibling),b=a(N,w.props),b.ref=wd(g,N,w),b.return=g,g=b;break e}n(g,N);break}else t(g,N);N=N.sibling}w.type===nu?(b=ic(w.props.children,g.mode,S,w.key),b.return=g,g=b):(S=Xm(w.type,w.key,w.props,null,g.mode,S),S.ref=wd(g,b,w),S.return=g,g=S)}return o(g);case tu:e:{for(N=w.key;b!==null;){if(b.key===N)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(g,b.sibling),b=a(b,w.children||[]),b.return=g,g=b;break e}else{n(g,b);break}else t(g,b);b=b.sibling}b=Qy(w,g.mode,S),b.return=g,g=b}return o(g);case qs:return N=w._init,x(g,b,N(w._payload),S)}if($d(w))return h(g,b,w,S);if(gd(w))return y(g,b,w,S);cm(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(g,b.sibling),b=a(b,w),b.return=g,g=b):(n(g,b),b=Jy(w,g.mode,S),b.return=g,g=b),o(g)):n(g,b)}return x}var Ou=J5(!0),Q5=J5(!1),Sh=kl(null),Nh=null,uu=null,Hw=null;function Ww(){Hw=uu=Nh=null}function qw(e){var t=Sh.current;Jn(Sh),e._currentValue=t}function Ob(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Su(e,t){Nh=e,Hw=uu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xa=!0),e.firstContext=null)}function Bi(e){var t=e._currentValue;if(Hw!==e)if(e={context:e,memoizedValue:t,next:null},uu===null){if(Nh===null)throw Error(_e(308));uu=e,Nh.dependencies={lanes:0,firstContext:e}}else uu=uu.next=e;return t}var Gl=null;function Kw(e){Gl===null?Gl=[e]:Gl.push(e)}function Z5(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,Kw(t)):(n.next=a.next,a.next=n),t.interleaved=n,ms(e,r)}function ms(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ks=!1;function Yw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eT(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ss(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ll(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,vn&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,ms(e,n)}return a=r.interleaved,a===null?(t.next=t,Kw(r)):(t.next=a.next,a.next=t),r.interleaved=t,ms(e,n)}function Hm(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Dw(e,n)}}function gN(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function jh(e,t,n,r){var a=e.updateQueue;Ks=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var l=s,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=a.baseState;o=0,d=c=l=null,s=i;do{var p=s.lane,m=s.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,y=s;switch(p=t,m=n,y.tag){case 1:if(h=y.payload,typeof h=="function"){f=h.call(m,f,p);break e}f=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=y.payload,p=typeof h=="function"?h.call(m,f,p):h,p==null)break e;f=mr({},f,p);break e;case 2:Ks=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,p=a.effects,p===null?a.effects=[s]:p.push(s))}else m={eventTime:m,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(c=d=m,l=f):d=d.next=m,o|=p;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;p=s,s=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(!0);if(d===null&&(l=f),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);hc|=o,e.lanes=o,e.memoizedState=f}}function yN(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(_e(191,a));a.call(r)}}}var ip={},_o=kl(ip),wf=kl(ip),kf=kl(ip);function Xl(e){if(e===ip)throw Error(_e(174));return e}function Gw(e,t){switch(Wn(kf,t),Wn(wf,e),Wn(_o,ip),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fb(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=fb(t,e)}Jn(_o),Wn(_o,t)}function Du(){Jn(_o),Jn(wf),Jn(kf)}function tT(e){Xl(kf.current);var t=Xl(_o.current),n=fb(t,e.type);t!==n&&(Wn(wf,e),Wn(_o,n))}function Xw(e){wf.current===e&&(Jn(_o),Jn(wf))}var ur=kl(0);function Ch(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wy=[];function Jw(){for(var e=0;e<Wy.length;e++)Wy[e]._workInProgressVersionPrimary=null;Wy.length=0}var Wm=Ss.ReactCurrentDispatcher,qy=Ss.ReactCurrentBatchConfig,mc=0,pr=null,qr=null,aa=null,Mh=!1,Xd=!1,Sf=0,xz=0;function ba(){throw Error(_e(321))}function Qw(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lo(e[n],t[n]))return!1;return!0}function Zw(e,t,n,r,a,i){if(mc=i,pr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Wm.current=e===null||e.memoizedState===null?Nz:jz,e=n(r,a),Xd){i=0;do{if(Xd=!1,Sf=0,25<=i)throw Error(_e(301));i+=1,aa=qr=null,t.updateQueue=null,Wm.current=Cz,e=n(r,a)}while(Xd)}if(Wm.current=Ah,t=qr!==null&&qr.next!==null,mc=0,aa=qr=pr=null,Mh=!1,t)throw Error(_e(300));return e}function e1(){var e=Sf!==0;return Sf=0,e}function Po(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return aa===null?pr.memoizedState=aa=e:aa=aa.next=e,aa}function Ui(){if(qr===null){var e=pr.alternate;e=e!==null?e.memoizedState:null}else e=qr.next;var t=aa===null?pr.memoizedState:aa.next;if(t!==null)aa=t,qr=e;else{if(e===null)throw Error(_e(310));qr=e,e={memoizedState:qr.memoizedState,baseState:qr.baseState,baseQueue:qr.baseQueue,queue:qr.queue,next:null},aa===null?pr.memoizedState=aa=e:aa=aa.next=e}return aa}function Nf(e,t){return typeof t=="function"?t(e):t}function Ky(e){var t=Ui(),n=t.queue;if(n===null)throw Error(_e(311));n.lastRenderedReducer=e;var r=qr,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var s=o=null,l=null,c=i;do{var d=c.lane;if((mc&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=f,o=r):l=l.next=f,pr.lanes|=d,hc|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=s,lo(r,t.memoizedState)||(Xa=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do i=a.lane,pr.lanes|=i,hc|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Yy(e){var t=Ui(),n=t.queue;if(n===null)throw Error(_e(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);lo(i,t.memoizedState)||(Xa=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function nT(){}function rT(e,t){var n=pr,r=Ui(),a=t(),i=!lo(r.memoizedState,a);if(i&&(r.memoizedState=a,Xa=!0),r=r.queue,t1(oT.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||aa!==null&&aa.memoizedState.tag&1){if(n.flags|=2048,jf(9,iT.bind(null,n,r,a,t),void 0,null),ia===null)throw Error(_e(349));mc&30||aT(n,t,a)}return a}function aT(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=pr.updateQueue,t===null?(t={lastEffect:null,stores:null},pr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function iT(e,t,n,r){t.value=n,t.getSnapshot=r,sT(t)&&lT(e)}function oT(e,t,n){return n(function(){sT(t)&&lT(e)})}function sT(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lo(e,n)}catch{return!0}}function lT(e){var t=ms(e,1);t!==null&&io(t,e,1,-1)}function vN(e){var t=Po();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nf,lastRenderedState:e},t.queue=e,e=e.dispatch=Sz.bind(null,pr,e),[t.memoizedState,e]}function jf(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=pr.updateQueue,t===null?(t={lastEffect:null,stores:null},pr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function cT(){return Ui().memoizedState}function qm(e,t,n,r){var a=Po();pr.flags|=e,a.memoizedState=jf(1|t,n,void 0,r===void 0?null:r)}function Jg(e,t,n,r){var a=Ui();r=r===void 0?null:r;var i=void 0;if(qr!==null){var o=qr.memoizedState;if(i=o.destroy,r!==null&&Qw(r,o.deps)){a.memoizedState=jf(t,n,i,r);return}}pr.flags|=e,a.memoizedState=jf(1|t,n,i,r)}function bN(e,t){return qm(8390656,8,e,t)}function t1(e,t){return Jg(2048,8,e,t)}function uT(e,t){return Jg(4,2,e,t)}function dT(e,t){return Jg(4,4,e,t)}function fT(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pT(e,t,n){return n=n!=null?n.concat([e]):null,Jg(4,4,fT.bind(null,t,e),n)}function n1(){}function mT(e,t){var n=Ui();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Qw(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function hT(e,t){var n=Ui();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Qw(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function gT(e,t,n){return mc&21?(lo(n,t)||(n=w5(),pr.lanes|=n,hc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xa=!0),e.memoizedState=n)}function wz(e,t){var n=En;En=n!==0&&4>n?n:4,e(!0);var r=qy.transition;qy.transition={};try{e(!1),t()}finally{En=n,qy.transition=r}}function yT(){return Ui().memoizedState}function kz(e,t,n){var r=ul(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},vT(e))bT(t,n);else if(n=Z5(e,t,n,r),n!==null){var a=Ra();io(n,e,r,a),xT(n,t,r)}}function Sz(e,t,n){var r=ul(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(vT(e))bT(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,s=i(o,n);if(a.hasEagerState=!0,a.eagerState=s,lo(s,o)){var l=t.interleaved;l===null?(a.next=a,Kw(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}n=Z5(e,t,a,r),n!==null&&(a=Ra(),io(n,e,r,a),xT(n,t,r))}}function vT(e){var t=e.alternate;return e===pr||t!==null&&t===pr}function bT(e,t){Xd=Mh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function xT(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Dw(e,n)}}var Ah={readContext:Bi,useCallback:ba,useContext:ba,useEffect:ba,useImperativeHandle:ba,useInsertionEffect:ba,useLayoutEffect:ba,useMemo:ba,useReducer:ba,useRef:ba,useState:ba,useDebugValue:ba,useDeferredValue:ba,useTransition:ba,useMutableSource:ba,useSyncExternalStore:ba,useId:ba,unstable_isNewReconciler:!1},Nz={readContext:Bi,useCallback:function(e,t){return Po().memoizedState=[e,t===void 0?null:t],e},useContext:Bi,useEffect:bN,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,qm(4194308,4,fT.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qm(4194308,4,e,t)},useInsertionEffect:function(e,t){return qm(4,2,e,t)},useMemo:function(e,t){var n=Po();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Po();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=kz.bind(null,pr,e),[r.memoizedState,e]},useRef:function(e){var t=Po();return e={current:e},t.memoizedState=e},useState:vN,useDebugValue:n1,useDeferredValue:function(e){return Po().memoizedState=e},useTransition:function(){var e=vN(!1),t=e[0];return e=wz.bind(null,e[1]),Po().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=pr,a=Po();if(or){if(n===void 0)throw Error(_e(407));n=n()}else{if(n=t(),ia===null)throw Error(_e(349));mc&30||aT(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,bN(oT.bind(null,r,i,e),[e]),r.flags|=2048,jf(9,iT.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Po(),t=ia.identifierPrefix;if(or){var n=rs,r=ns;n=(r&~(1<<32-ao(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Sf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=xz++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},jz={readContext:Bi,useCallback:mT,useContext:Bi,useEffect:t1,useImperativeHandle:pT,useInsertionEffect:uT,useLayoutEffect:dT,useMemo:hT,useReducer:Ky,useRef:cT,useState:function(){return Ky(Nf)},useDebugValue:n1,useDeferredValue:function(e){var t=Ui();return gT(t,qr.memoizedState,e)},useTransition:function(){var e=Ky(Nf)[0],t=Ui().memoizedState;return[e,t]},useMutableSource:nT,useSyncExternalStore:rT,useId:yT,unstable_isNewReconciler:!1},Cz={readContext:Bi,useCallback:mT,useContext:Bi,useEffect:t1,useImperativeHandle:pT,useInsertionEffect:uT,useLayoutEffect:dT,useMemo:hT,useReducer:Yy,useRef:cT,useState:function(){return Yy(Nf)},useDebugValue:n1,useDeferredValue:function(e){var t=Ui();return qr===null?t.memoizedState=e:gT(t,qr.memoizedState,e)},useTransition:function(){var e=Yy(Nf)[0],t=Ui().memoizedState;return[e,t]},useMutableSource:nT,useSyncExternalStore:rT,useId:yT,unstable_isNewReconciler:!1};function Qi(e,t){if(e&&e.defaultProps){t=mr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Db(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:mr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Qg={isMounted:function(e){return(e=e._reactInternals)?Pc(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ra(),a=ul(e),i=ss(r,a);i.payload=t,n!=null&&(i.callback=n),t=ll(e,i,a),t!==null&&(io(t,e,a,r),Hm(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ra(),a=ul(e),i=ss(r,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=ll(e,i,a),t!==null&&(io(t,e,a,r),Hm(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ra(),r=ul(e),a=ss(n,r);a.tag=2,t!=null&&(a.callback=t),t=ll(e,a,r),t!==null&&(io(t,e,r,n),Hm(t,e,r))}};function xN(e,t,n,r,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!yf(n,r)||!yf(a,i):!0}function wT(e,t,n){var r=!1,a=gl,i=t.contextType;return typeof i=="object"&&i!==null?i=Bi(i):(a=Za(t)?fc:Aa.current,r=t.contextTypes,i=(r=r!=null)?Eu(e,a):gl),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Qg,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function wN(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Qg.enqueueReplaceState(t,t.state,null)}function Ib(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Yw(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Bi(i):(i=Za(t)?fc:Aa.current,a.context=Eu(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Db(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Qg.enqueueReplaceState(a,a.state,null),jh(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Iu(e,t){try{var n="",r=t;do n+=e$(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Gy(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function _b(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Mz=typeof WeakMap=="function"?WeakMap:Map;function kT(e,t,n){n=ss(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Eh||(Eh=!0,Hb=r),_b(e,t)},n}function ST(e,t,n){n=ss(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){_b(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){_b(e,t),typeof r!="function"&&(cl===null?cl=new Set([this]):cl.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function kN(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Mz;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Bz.bind(null,e,t,n),t.then(e,e))}function SN(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function NN(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ss(-1,1),t.tag=2,ll(n,t,1))),n.lanes|=1),e)}var Az=Ss.ReactCurrentOwner,Xa=!1;function _a(e,t,n,r){t.child=e===null?Q5(t,null,n,r):Ou(t,e.child,n,r)}function jN(e,t,n,r,a){n=n.render;var i=t.ref;return Su(t,a),r=Zw(e,t,n,r,i,a),n=e1(),e!==null&&!Xa?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,hs(e,t,a)):(or&&n&&Bw(t),t.flags|=1,_a(e,t,r,a),t.child)}function CN(e,t,n,r,a){if(e===null){var i=n.type;return typeof i=="function"&&!u1(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,NT(e,t,i,r,a)):(e=Xm(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:yf,n(o,r)&&e.ref===t.ref)return hs(e,t,a)}return t.flags|=1,e=dl(i,r),e.ref=t.ref,e.return=t,t.child=e}function NT(e,t,n,r,a){if(e!==null){var i=e.memoizedProps;if(yf(i,r)&&e.ref===t.ref)if(Xa=!1,t.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(Xa=!0);else return t.lanes=e.lanes,hs(e,t,a)}return Fb(e,t,n,r,a)}function jT(e,t,n){var r=t.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wn(fu,di),di|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Wn(fu,di),di|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Wn(fu,di),di|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Wn(fu,di),di|=r;return _a(e,t,a,n),t.child}function CT(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Fb(e,t,n,r,a){var i=Za(n)?fc:Aa.current;return i=Eu(t,i),Su(t,a),n=Zw(e,t,n,r,i,a),r=e1(),e!==null&&!Xa?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,hs(e,t,a)):(or&&r&&Bw(t),t.flags|=1,_a(e,t,n,a),t.child)}function MN(e,t,n,r,a){if(Za(n)){var i=!0;xh(t)}else i=!1;if(Su(t,a),t.stateNode===null)Km(e,t),wT(t,n,r),Ib(t,n,r,a),r=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Bi(c):(c=Za(n)?fc:Aa.current,c=Eu(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==c)&&wN(t,o,r,c),Ks=!1;var p=t.memoizedState;o.state=p,jh(t,r,o,a),l=t.memoizedState,s!==r||p!==l||Qa.current||Ks?(typeof d=="function"&&(Db(t,n,d,r),l=t.memoizedState),(s=Ks||xN(t,n,s,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,eT(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Qi(t.type,s),o.props=c,f=t.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Bi(l):(l=Za(n)?fc:Aa.current,l=Eu(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||p!==l)&&wN(t,o,r,l),Ks=!1,p=t.memoizedState,o.state=p,jh(t,r,o,a);var h=t.memoizedState;s!==f||p!==h||Qa.current||Ks?(typeof m=="function"&&(Db(t,n,m,r),h=t.memoizedState),(c=Ks||xN(t,n,c,r,p,h,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,h,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,h,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Lb(e,t,n,r,i,a)}function Lb(e,t,n,r,a,i){CT(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return a&&fN(t,n,!1),hs(e,t,i);r=t.stateNode,Az.current=t;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ou(t,e.child,null,i),t.child=Ou(t,null,s,i)):_a(e,t,s,i),t.memoizedState=r.state,a&&fN(t,n,!0),t.child}function MT(e){var t=e.stateNode;t.pendingContext?dN(e,t.pendingContext,t.pendingContext!==t.context):t.context&&dN(e,t.context,!1),Gw(e,t.containerInfo)}function AN(e,t,n,r,a){return Tu(),Vw(a),t.flags|=256,_a(e,t,n,r),t.child}var Rb={dehydrated:null,treeContext:null,retryLane:0};function $b(e){return{baseLanes:e,cachePool:null,transitions:null}}function AT(e,t,n){var r=t.pendingProps,a=ur.current,i=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(a&2)!==0),s?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Wn(ur,a&1),e===null)return Tb(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=t0(o,r,0,null),e=ic(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=$b(n),t.memoizedState=Rb,e):r1(t,o));if(a=e.memoizedState,a!==null&&(s=a.dehydrated,s!==null))return Pz(e,t,o,r,s,a,n);if(i){i=r.fallback,o=t.mode,a=e.child,s=a.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=dl(a,l),r.subtreeFlags=a.subtreeFlags&14680064),s!==null?i=dl(s,i):(i=ic(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?$b(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Rb,r}return i=e.child,e=i.sibling,r=dl(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function r1(e,t){return t=t0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function um(e,t,n,r){return r!==null&&Vw(r),Ou(t,e.child,null,n),e=r1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Pz(e,t,n,r,a,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Gy(Error(_e(422))),um(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=t0({mode:"visible",children:r.children},a,0,null),i=ic(i,a,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Ou(t,e.child,null,o),t.child.memoizedState=$b(o),t.memoizedState=Rb,i);if(!(t.mode&1))return um(e,t,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var s=r.dgst;return r=s,i=Error(_e(419)),r=Gy(i,r,void 0),um(e,t,o,r)}if(s=(o&e.childLanes)!==0,Xa||s){if(r=ia,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,ms(e,a),io(r,e,a,-1))}return c1(),r=Gy(Error(_e(421))),um(e,t,o,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Uz.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,mi=sl(a.nextSibling),gi=t,or=!0,eo=null,e!==null&&(Ii[_i++]=ns,Ii[_i++]=rs,Ii[_i++]=pc,ns=e.id,rs=e.overflow,pc=t),t=r1(t,r.children),t.flags|=4096,t)}function PN(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ob(e.return,t,n)}function Xy(e,t,n,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function PT(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(_a(e,t,r.children,n),r=ur.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&PN(e,n,t);else if(e.tag===19)PN(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Wn(ur,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Ch(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Xy(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Ch(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Xy(t,!0,n,null,i);break;case"together":Xy(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Km(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function hs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),hc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_e(153));if(t.child!==null){for(e=t.child,n=dl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=dl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ez(e,t,n){switch(t.tag){case 3:MT(t),Tu();break;case 5:tT(t);break;case 1:Za(t.type)&&xh(t);break;case 4:Gw(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Wn(Sh,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Wn(ur,ur.current&1),t.flags|=128,null):n&t.child.childLanes?AT(e,t,n):(Wn(ur,ur.current&1),e=hs(e,t,n),e!==null?e.sibling:null);Wn(ur,ur.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return PT(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Wn(ur,ur.current),r)break;return null;case 22:case 23:return t.lanes=0,jT(e,t,n)}return hs(e,t,n)}var ET,zb,TT,OT;ET=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};zb=function(){};TT=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Xl(_o.current);var i=null;switch(n){case"input":a=lb(e,a),r=lb(e,r),i=[];break;case"select":a=mr({},a,{value:void 0}),r=mr({},r,{value:void 0}),i=[];break;case"textarea":a=db(e,a),r=db(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=vh)}pb(n,r);var o;n=null;for(c in a)if(!r.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var s=a[c];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(uf.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(s=a!=null?a[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(uf.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Yn("scroll",e),i||s===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};OT=function(e,t,n,r){n!==r&&(t.flags|=4)};function kd(e,t){if(!or)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function xa(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Tz(e,t,n){var r=t.pendingProps;switch(Uw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xa(t),null;case 1:return Za(t.type)&&bh(),xa(t),null;case 3:return r=t.stateNode,Du(),Jn(Qa),Jn(Aa),Jw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(lm(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,eo!==null&&(Kb(eo),eo=null))),zb(e,t),xa(t),null;case 5:Xw(t);var a=Xl(kf.current);if(n=t.type,e!==null&&t.stateNode!=null)TT(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(_e(166));return xa(t),null}if(e=Xl(_o.current),lm(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Oo]=t,r[xf]=i,e=(t.mode&1)!==0,n){case"dialog":Yn("cancel",r),Yn("close",r);break;case"iframe":case"object":case"embed":Yn("load",r);break;case"video":case"audio":for(a=0;a<Bd.length;a++)Yn(Bd[a],r);break;case"source":Yn("error",r);break;case"img":case"image":case"link":Yn("error",r),Yn("load",r);break;case"details":Yn("toggle",r);break;case"input":R2(r,i),Yn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Yn("invalid",r);break;case"textarea":z2(r,i),Yn("invalid",r)}pb(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];o==="children"?typeof s=="string"?r.textContent!==s&&(i.suppressHydrationWarning!==!0&&sm(r.textContent,s,e),a=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(i.suppressHydrationWarning!==!0&&sm(r.textContent,s,e),a=["children",""+s]):uf.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Yn("scroll",r)}switch(n){case"input":Zp(r),$2(r,i,!0);break;case"textarea":Zp(r),B2(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=vh)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=o5(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Oo]=t,e[xf]=r,ET(e,t,!1,!1),t.stateNode=e;e:{switch(o=mb(n,r),n){case"dialog":Yn("cancel",e),Yn("close",e),a=r;break;case"iframe":case"object":case"embed":Yn("load",e),a=r;break;case"video":case"audio":for(a=0;a<Bd.length;a++)Yn(Bd[a],e);a=r;break;case"source":Yn("error",e),a=r;break;case"img":case"image":case"link":Yn("error",e),Yn("load",e),a=r;break;case"details":Yn("toggle",e),a=r;break;case"input":R2(e,r),a=lb(e,r),Yn("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=mr({},r,{value:void 0}),Yn("invalid",e);break;case"textarea":z2(e,r),a=db(e,r),Yn("invalid",e);break;default:a=r}pb(n,a),s=a;for(i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="style"?c5(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&s5(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&df(e,l):typeof l=="number"&&df(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(uf.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Yn("scroll",e):l!=null&&Mw(e,i,l,o))}switch(n){case"input":Zp(e),$2(e,r,!1);break;case"textarea":Zp(e),B2(e);break;case"option":r.value!=null&&e.setAttribute("value",""+hl(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?bu(e,!!r.multiple,i,!1):r.defaultValue!=null&&bu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=vh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return xa(t),null;case 6:if(e&&t.stateNode!=null)OT(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(_e(166));if(n=Xl(kf.current),Xl(_o.current),lm(t)){if(r=t.stateNode,n=t.memoizedProps,r[Oo]=t,(i=r.nodeValue!==n)&&(e=gi,e!==null))switch(e.tag){case 3:sm(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&sm(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Oo]=t,t.stateNode=r}return xa(t),null;case 13:if(Jn(ur),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(or&&mi!==null&&t.mode&1&&!(t.flags&128))X5(),Tu(),t.flags|=98560,i=!1;else if(i=lm(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(_e(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(_e(317));i[Oo]=t}else Tu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xa(t),i=!1}else eo!==null&&(Kb(eo),eo=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ur.current&1?Yr===0&&(Yr=3):c1())),t.updateQueue!==null&&(t.flags|=4),xa(t),null);case 4:return Du(),zb(e,t),e===null&&vf(t.stateNode.containerInfo),xa(t),null;case 10:return qw(t.type._context),xa(t),null;case 17:return Za(t.type)&&bh(),xa(t),null;case 19:if(Jn(ur),i=t.memoizedState,i===null)return xa(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)kd(i,!1);else{if(Yr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ch(e),o!==null){for(t.flags|=128,kd(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Wn(ur,ur.current&1|2),t.child}e=e.sibling}i.tail!==null&&Er()>_u&&(t.flags|=128,r=!0,kd(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ch(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),kd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!or)return xa(t),null}else 2*Er()-i.renderingStartTime>_u&&n!==1073741824&&(t.flags|=128,r=!0,kd(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Er(),t.sibling=null,n=ur.current,Wn(ur,r?n&1|2:n&1),t):(xa(t),null);case 22:case 23:return l1(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?di&1073741824&&(xa(t),t.subtreeFlags&6&&(t.flags|=8192)):xa(t),null;case 24:return null;case 25:return null}throw Error(_e(156,t.tag))}function Oz(e,t){switch(Uw(t),t.tag){case 1:return Za(t.type)&&bh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Du(),Jn(Qa),Jn(Aa),Jw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Xw(t),null;case 13:if(Jn(ur),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_e(340));Tu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Jn(ur),null;case 4:return Du(),null;case 10:return qw(t.type._context),null;case 22:case 23:return l1(),null;case 24:return null;default:return null}}var dm=!1,Sa=!1,Dz=typeof WeakSet=="function"?WeakSet:Set,it=null;function du(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xr(e,t,r)}else n.current=null}function DT(e,t,n){try{n()}catch(r){xr(e,t,r)}}var EN=!1;function Iz(e,t){if(Nb=hh,e=L5(),zw(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,c=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(s=o+a),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===n&&++c===a&&(s=o),p===i&&++d===r&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(jb={focusedElem:e,selectionRange:n},hh=!1,it=t;it!==null;)if(t=it,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,it=e;else for(;it!==null;){t=it;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var y=h.memoizedProps,x=h.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:Qi(t.type,y),x);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_e(163))}}catch(S){xr(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,it=e;break}it=t.return}return h=EN,EN=!1,h}function Jd(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&DT(t,n,i)}a=a.next}while(a!==r)}}function Zg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Bb(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function IT(e){var t=e.alternate;t!==null&&(e.alternate=null,IT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Oo],delete t[xf],delete t[Ab],delete t[gz],delete t[yz])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _T(e){return e.tag===5||e.tag===3||e.tag===4}function TN(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_T(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ub(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=vh));else if(r!==4&&(e=e.child,e!==null))for(Ub(e,t,n),e=e.sibling;e!==null;)Ub(e,t,n),e=e.sibling}function Vb(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Vb(e,t,n),e=e.sibling;e!==null;)Vb(e,t,n),e=e.sibling}var da=null,Zi=!1;function Us(e,t,n){for(n=n.child;n!==null;)FT(e,t,n),n=n.sibling}function FT(e,t,n){if(Io&&typeof Io.onCommitFiberUnmount=="function")try{Io.onCommitFiberUnmount(Wg,n)}catch{}switch(n.tag){case 5:Sa||du(n,t);case 6:var r=da,a=Zi;da=null,Us(e,t,n),da=r,Zi=a,da!==null&&(Zi?(e=da,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):da.removeChild(n.stateNode));break;case 18:da!==null&&(Zi?(e=da,n=n.stateNode,e.nodeType===8?Vy(e.parentNode,n):e.nodeType===1&&Vy(e,n),hf(e)):Vy(da,n.stateNode));break;case 4:r=da,a=Zi,da=n.stateNode.containerInfo,Zi=!0,Us(e,t,n),da=r,Zi=a;break;case 0:case 11:case 14:case 15:if(!Sa&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&DT(n,t,o),a=a.next}while(a!==r)}Us(e,t,n);break;case 1:if(!Sa&&(du(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){xr(n,t,s)}Us(e,t,n);break;case 21:Us(e,t,n);break;case 22:n.mode&1?(Sa=(r=Sa)||n.memoizedState!==null,Us(e,t,n),Sa=r):Us(e,t,n);break;default:Us(e,t,n)}}function ON(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Dz),t.forEach(function(r){var a=Vz.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function Ji(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:da=s.stateNode,Zi=!1;break e;case 3:da=s.stateNode.containerInfo,Zi=!0;break e;case 4:da=s.stateNode.containerInfo,Zi=!0;break e}s=s.return}if(da===null)throw Error(_e(160));FT(i,o,a),da=null,Zi=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){xr(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)LT(t,e),t=t.sibling}function LT(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ji(t,e),jo(e),r&4){try{Jd(3,e,e.return),Zg(3,e)}catch(y){xr(e,e.return,y)}try{Jd(5,e,e.return)}catch(y){xr(e,e.return,y)}}break;case 1:Ji(t,e),jo(e),r&512&&n!==null&&du(n,n.return);break;case 5:if(Ji(t,e),jo(e),r&512&&n!==null&&du(n,n.return),e.flags&32){var a=e.stateNode;try{df(a,"")}catch(y){xr(e,e.return,y)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&i.type==="radio"&&i.name!=null&&a5(a,i),mb(s,o);var c=mb(s,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?c5(a,f):d==="dangerouslySetInnerHTML"?s5(a,f):d==="children"?df(a,f):Mw(a,d,f,c)}switch(s){case"input":cb(a,i);break;case"textarea":i5(a,i);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?bu(a,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?bu(a,!!i.multiple,i.defaultValue,!0):bu(a,!!i.multiple,i.multiple?[]:"",!1))}a[xf]=i}catch(y){xr(e,e.return,y)}}break;case 6:if(Ji(t,e),jo(e),r&4){if(e.stateNode===null)throw Error(_e(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(y){xr(e,e.return,y)}}break;case 3:if(Ji(t,e),jo(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{hf(t.containerInfo)}catch(y){xr(e,e.return,y)}break;case 4:Ji(t,e),jo(e);break;case 13:Ji(t,e),jo(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(o1=Er())),r&4&&ON(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Sa=(c=Sa)||d,Ji(t,e),Sa=c):Ji(t,e),jo(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(it=e,d=e.child;d!==null;){for(f=it=d;it!==null;){switch(p=it,m=p.child,p.tag){case 0:case 11:case 14:case 15:Jd(4,p,p.return);break;case 1:du(p,p.return);var h=p.stateNode;if(typeof h.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(y){xr(r,n,y)}}break;case 5:du(p,p.return);break;case 22:if(p.memoizedState!==null){IN(f);continue}}m!==null?(m.return=p,it=m):IN(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,c?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=l5("display",o))}catch(y){xr(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){xr(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ji(t,e),jo(e),r&4&&ON(e);break;case 21:break;default:Ji(t,e),jo(e)}}function jo(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(_T(n)){var r=n;break e}n=n.return}throw Error(_e(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(df(a,""),r.flags&=-33);var i=TN(e);Vb(e,i,a);break;case 3:case 4:var o=r.stateNode.containerInfo,s=TN(e);Ub(e,s,o);break;default:throw Error(_e(161))}}catch(l){xr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _z(e,t,n){it=e,RT(e)}function RT(e,t,n){for(var r=(e.mode&1)!==0;it!==null;){var a=it,i=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||dm;if(!o){var s=a.alternate,l=s!==null&&s.memoizedState!==null||Sa;s=dm;var c=Sa;if(dm=o,(Sa=l)&&!c)for(it=a;it!==null;)o=it,l=o.child,o.tag===22&&o.memoizedState!==null?_N(a):l!==null?(l.return=o,it=l):_N(a);for(;i!==null;)it=i,RT(i),i=i.sibling;it=a,dm=s,Sa=c}DN(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,it=i):DN(e)}}function DN(e){for(;it!==null;){var t=it;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Sa||Zg(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Sa)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:Qi(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&yN(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}yN(t,o,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&hf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_e(163))}Sa||t.flags&512&&Bb(t)}catch(p){xr(t,t.return,p)}}if(t===e){it=null;break}if(n=t.sibling,n!==null){n.return=t.return,it=n;break}it=t.return}}function IN(e){for(;it!==null;){var t=it;if(t===e){it=null;break}var n=t.sibling;if(n!==null){n.return=t.return,it=n;break}it=t.return}}function _N(e){for(;it!==null;){var t=it;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Zg(4,t)}catch(l){xr(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(l){xr(t,a,l)}}var i=t.return;try{Bb(t)}catch(l){xr(t,i,l)}break;case 5:var o=t.return;try{Bb(t)}catch(l){xr(t,o,l)}}}catch(l){xr(t,t.return,l)}if(t===e){it=null;break}var s=t.sibling;if(s!==null){s.return=t.return,it=s;break}it=t.return}}var Fz=Math.ceil,Ph=Ss.ReactCurrentDispatcher,a1=Ss.ReactCurrentOwner,$i=Ss.ReactCurrentBatchConfig,vn=0,ia=null,Br=null,ma=0,di=0,fu=kl(0),Yr=0,Cf=null,hc=0,e0=0,i1=0,Qd=null,Ga=null,o1=0,_u=1/0,Xo=null,Eh=!1,Hb=null,cl=null,fm=!1,tl=null,Th=0,Zd=0,Wb=null,Ym=-1,Gm=0;function Ra(){return vn&6?Er():Ym!==-1?Ym:Ym=Er()}function ul(e){return e.mode&1?vn&2&&ma!==0?ma&-ma:bz.transition!==null?(Gm===0&&(Gm=w5()),Gm):(e=En,e!==0||(e=window.event,e=e===void 0?16:A5(e.type)),e):1}function io(e,t,n,r){if(50<Zd)throw Zd=0,Wb=null,Error(_e(185));np(e,n,r),(!(vn&2)||e!==ia)&&(e===ia&&(!(vn&2)&&(e0|=n),Yr===4&&Qs(e,ma)),ei(e,r),n===1&&vn===0&&!(t.mode&1)&&(_u=Er()+500,Xg&&Sl()))}function ei(e,t){var n=e.callbackNode;b$(e,t);var r=mh(e,e===ia?ma:0);if(r===0)n!==null&&H2(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&H2(n),t===1)e.tag===0?vz(FN.bind(null,e)):K5(FN.bind(null,e)),mz(function(){!(vn&6)&&Sl()}),n=null;else{switch(k5(r)){case 1:n=Ow;break;case 4:n=b5;break;case 16:n=ph;break;case 536870912:n=x5;break;default:n=ph}n=qT(n,$T.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function $T(e,t){if(Ym=-1,Gm=0,vn&6)throw Error(_e(327));var n=e.callbackNode;if(Nu()&&e.callbackNode!==n)return null;var r=mh(e,e===ia?ma:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Oh(e,r);else{t=r;var a=vn;vn|=2;var i=BT();(ia!==e||ma!==t)&&(Xo=null,_u=Er()+500,ac(e,t));do try{$z();break}catch(s){zT(e,s)}while(!0);Ww(),Ph.current=i,vn=a,Br!==null?t=0:(ia=null,ma=0,t=Yr)}if(t!==0){if(t===2&&(a=bb(e),a!==0&&(r=a,t=qb(e,a))),t===1)throw n=Cf,ac(e,0),Qs(e,r),ei(e,Er()),n;if(t===6)Qs(e,r);else{if(a=e.current.alternate,!(r&30)&&!Lz(a)&&(t=Oh(e,r),t===2&&(i=bb(e),i!==0&&(r=i,t=qb(e,i))),t===1))throw n=Cf,ac(e,0),Qs(e,r),ei(e,Er()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(_e(345));case 2:Bl(e,Ga,Xo);break;case 3:if(Qs(e,r),(r&130023424)===r&&(t=o1+500-Er(),10<t)){if(mh(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){Ra(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Mb(Bl.bind(null,e,Ga,Xo),t);break}Bl(e,Ga,Xo);break;case 4:if(Qs(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-ao(r);i=1<<o,o=t[o],o>a&&(a=o),r&=~i}if(r=a,r=Er()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Fz(r/1960))-r,10<r){e.timeoutHandle=Mb(Bl.bind(null,e,Ga,Xo),r);break}Bl(e,Ga,Xo);break;case 5:Bl(e,Ga,Xo);break;default:throw Error(_e(329))}}}return ei(e,Er()),e.callbackNode===n?$T.bind(null,e):null}function qb(e,t){var n=Qd;return e.current.memoizedState.isDehydrated&&(ac(e,t).flags|=256),e=Oh(e,t),e!==2&&(t=Ga,Ga=n,t!==null&&Kb(t)),e}function Kb(e){Ga===null?Ga=e:Ga.push.apply(Ga,e)}function Lz(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!lo(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qs(e,t){for(t&=~i1,t&=~e0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ao(t),r=1<<n;e[n]=-1,t&=~r}}function FN(e){if(vn&6)throw Error(_e(327));Nu();var t=mh(e,0);if(!(t&1))return ei(e,Er()),null;var n=Oh(e,t);if(e.tag!==0&&n===2){var r=bb(e);r!==0&&(t=r,n=qb(e,r))}if(n===1)throw n=Cf,ac(e,0),Qs(e,t),ei(e,Er()),n;if(n===6)throw Error(_e(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Bl(e,Ga,Xo),ei(e,Er()),null}function s1(e,t){var n=vn;vn|=1;try{return e(t)}finally{vn=n,vn===0&&(_u=Er()+500,Xg&&Sl())}}function gc(e){tl!==null&&tl.tag===0&&!(vn&6)&&Nu();var t=vn;vn|=1;var n=$i.transition,r=En;try{if($i.transition=null,En=1,e)return e()}finally{En=r,$i.transition=n,vn=t,!(vn&6)&&Sl()}}function l1(){di=fu.current,Jn(fu)}function ac(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,pz(n)),Br!==null)for(n=Br.return;n!==null;){var r=n;switch(Uw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bh();break;case 3:Du(),Jn(Qa),Jn(Aa),Jw();break;case 5:Xw(r);break;case 4:Du();break;case 13:Jn(ur);break;case 19:Jn(ur);break;case 10:qw(r.type._context);break;case 22:case 23:l1()}n=n.return}if(ia=e,Br=e=dl(e.current,null),ma=di=t,Yr=0,Cf=null,i1=e0=hc=0,Ga=Qd=null,Gl!==null){for(t=0;t<Gl.length;t++)if(n=Gl[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,r.next=o}n.pending=r}Gl=null}return e}function zT(e,t){do{var n=Br;try{if(Ww(),Wm.current=Ah,Mh){for(var r=pr.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Mh=!1}if(mc=0,aa=qr=pr=null,Xd=!1,Sf=0,a1.current=null,n===null||n.return===null){Yr=1,Cf=t,Br=null;break}e:{var i=e,o=n.return,s=n,l=t;if(t=ma,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=SN(o);if(m!==null){m.flags&=-257,NN(m,o,s,i,t),m.mode&1&&kN(i,c,t),t=m,l=c;var h=t.updateQueue;if(h===null){var y=new Set;y.add(l),t.updateQueue=y}else h.add(l);break e}else{if(!(t&1)){kN(i,c,t),c1();break e}l=Error(_e(426))}}else if(or&&s.mode&1){var x=SN(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),NN(x,o,s,i,t),Vw(Iu(l,s));break e}}i=l=Iu(l,s),Yr!==4&&(Yr=2),Qd===null?Qd=[i]:Qd.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=kT(i,l,t);gN(i,g);break e;case 1:s=l;var b=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(cl===null||!cl.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=ST(i,s,t);gN(i,S);break e}}i=i.return}while(i!==null)}VT(n)}catch(C){t=C,Br===n&&n!==null&&(Br=n=n.return);continue}break}while(!0)}function BT(){var e=Ph.current;return Ph.current=Ah,e===null?Ah:e}function c1(){(Yr===0||Yr===3||Yr===2)&&(Yr=4),ia===null||!(hc&268435455)&&!(e0&268435455)||Qs(ia,ma)}function Oh(e,t){var n=vn;vn|=2;var r=BT();(ia!==e||ma!==t)&&(Xo=null,ac(e,t));do try{Rz();break}catch(a){zT(e,a)}while(!0);if(Ww(),vn=n,Ph.current=r,Br!==null)throw Error(_e(261));return ia=null,ma=0,Yr}function Rz(){for(;Br!==null;)UT(Br)}function $z(){for(;Br!==null&&!u$();)UT(Br)}function UT(e){var t=WT(e.alternate,e,di);e.memoizedProps=e.pendingProps,t===null?VT(e):Br=t,a1.current=null}function VT(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Oz(n,t),n!==null){n.flags&=32767,Br=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Yr=6,Br=null;return}}else if(n=Tz(n,t,di),n!==null){Br=n;return}if(t=t.sibling,t!==null){Br=t;return}Br=t=e}while(t!==null);Yr===0&&(Yr=5)}function Bl(e,t,n){var r=En,a=$i.transition;try{$i.transition=null,En=1,zz(e,t,n,r)}finally{$i.transition=a,En=r}return null}function zz(e,t,n,r){do Nu();while(tl!==null);if(vn&6)throw Error(_e(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(_e(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(x$(e,i),e===ia&&(Br=ia=null,ma=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fm||(fm=!0,qT(ph,function(){return Nu(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=$i.transition,$i.transition=null;var o=En;En=1;var s=vn;vn|=4,a1.current=null,Iz(e,n),LT(n,e),oz(jb),hh=!!Nb,jb=Nb=null,e.current=n,_z(n),d$(),vn=s,En=o,$i.transition=i}else e.current=n;if(fm&&(fm=!1,tl=e,Th=a),i=e.pendingLanes,i===0&&(cl=null),m$(n.stateNode),ei(e,Er()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Eh)throw Eh=!1,e=Hb,Hb=null,e;return Th&1&&e.tag!==0&&Nu(),i=e.pendingLanes,i&1?e===Wb?Zd++:(Zd=0,Wb=e):Zd=0,Sl(),null}function Nu(){if(tl!==null){var e=k5(Th),t=$i.transition,n=En;try{if($i.transition=null,En=16>e?16:e,tl===null)var r=!1;else{if(e=tl,tl=null,Th=0,vn&6)throw Error(_e(331));var a=vn;for(vn|=4,it=e.current;it!==null;){var i=it,o=i.child;if(it.flags&16){var s=i.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(it=c;it!==null;){var d=it;switch(d.tag){case 0:case 11:case 15:Jd(8,d,i)}var f=d.child;if(f!==null)f.return=d,it=f;else for(;it!==null;){d=it;var p=d.sibling,m=d.return;if(IT(d),d===c){it=null;break}if(p!==null){p.return=m,it=p;break}it=m}}}var h=i.alternate;if(h!==null){var y=h.child;if(y!==null){h.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}it=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,it=o;else e:for(;it!==null;){if(i=it,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Jd(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,it=g;break e}it=i.return}}var b=e.current;for(it=b;it!==null;){o=it;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,it=w;else e:for(o=b;it!==null;){if(s=it,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Zg(9,s)}}catch(C){xr(s,s.return,C)}if(s===o){it=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,it=S;break e}it=s.return}}if(vn=a,Sl(),Io&&typeof Io.onPostCommitFiberRoot=="function")try{Io.onPostCommitFiberRoot(Wg,e)}catch{}r=!0}return r}finally{En=n,$i.transition=t}}return!1}function LN(e,t,n){t=Iu(n,t),t=kT(e,t,1),e=ll(e,t,1),t=Ra(),e!==null&&(np(e,1,t),ei(e,t))}function xr(e,t,n){if(e.tag===3)LN(e,e,n);else for(;t!==null;){if(t.tag===3){LN(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(cl===null||!cl.has(r))){e=Iu(n,e),e=ST(t,e,1),t=ll(t,e,1),e=Ra(),t!==null&&(np(t,1,e),ei(t,e));break}}t=t.return}}function Bz(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ra(),e.pingedLanes|=e.suspendedLanes&n,ia===e&&(ma&n)===n&&(Yr===4||Yr===3&&(ma&130023424)===ma&&500>Er()-o1?ac(e,0):i1|=n),ei(e,t)}function HT(e,t){t===0&&(e.mode&1?(t=nm,nm<<=1,!(nm&130023424)&&(nm=4194304)):t=1);var n=Ra();e=ms(e,t),e!==null&&(np(e,t,n),ei(e,n))}function Uz(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),HT(e,n)}function Vz(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(_e(314))}r!==null&&r.delete(t),HT(e,n)}var WT;WT=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qa.current)Xa=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Xa=!1,Ez(e,t,n);Xa=!!(e.flags&131072)}else Xa=!1,or&&t.flags&1048576&&Y5(t,kh,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Km(e,t),e=t.pendingProps;var a=Eu(t,Aa.current);Su(t,n),a=Zw(null,t,r,e,a,n);var i=e1();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Za(r)?(i=!0,xh(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Yw(t),a.updater=Qg,t.stateNode=a,a._reactInternals=t,Ib(t,r,e,n),t=Lb(null,t,r,!0,i,n)):(t.tag=0,or&&i&&Bw(t),_a(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Km(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=Wz(r),e=Qi(r,e),a){case 0:t=Fb(null,t,r,e,n);break e;case 1:t=MN(null,t,r,e,n);break e;case 11:t=jN(null,t,r,e,n);break e;case 14:t=CN(null,t,r,Qi(r.type,e),n);break e}throw Error(_e(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Qi(r,a),Fb(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Qi(r,a),MN(e,t,r,a,n);case 3:e:{if(MT(t),e===null)throw Error(_e(387));r=t.pendingProps,i=t.memoizedState,a=i.element,eT(e,t),jh(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Iu(Error(_e(423)),t),t=AN(e,t,r,n,a);break e}else if(r!==a){a=Iu(Error(_e(424)),t),t=AN(e,t,r,n,a);break e}else for(mi=sl(t.stateNode.containerInfo.firstChild),gi=t,or=!0,eo=null,n=Q5(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Tu(),r===a){t=hs(e,t,n);break e}_a(e,t,r,n)}t=t.child}return t;case 5:return tT(t),e===null&&Tb(t),r=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Cb(r,a)?o=null:i!==null&&Cb(r,i)&&(t.flags|=32),CT(e,t),_a(e,t,o,n),t.child;case 6:return e===null&&Tb(t),null;case 13:return AT(e,t,n);case 4:return Gw(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ou(t,null,r,n):_a(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Qi(r,a),jN(e,t,r,a,n);case 7:return _a(e,t,t.pendingProps,n),t.child;case 8:return _a(e,t,t.pendingProps.children,n),t.child;case 12:return _a(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Wn(Sh,r._currentValue),r._currentValue=o,i!==null)if(lo(i.value,o)){if(i.children===a.children&&!Qa.current){t=hs(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){o=i.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=ss(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Ob(i.return,n,t),s.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(_e(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Ob(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}_a(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Su(t,n),a=Bi(a),r=r(a),t.flags|=1,_a(e,t,r,n),t.child;case 14:return r=t.type,a=Qi(r,t.pendingProps),a=Qi(r.type,a),CN(e,t,r,a,n);case 15:return NT(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Qi(r,a),Km(e,t),t.tag=1,Za(r)?(e=!0,xh(t)):e=!1,Su(t,n),wT(t,r,a),Ib(t,r,a,n),Lb(null,t,r,!0,e,n);case 19:return PT(e,t,n);case 22:return jT(e,t,n)}throw Error(_e(156,t.tag))};function qT(e,t){return v5(e,t)}function Hz(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Li(e,t,n,r){return new Hz(e,t,n,r)}function u1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wz(e){if(typeof e=="function")return u1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Pw)return 11;if(e===Ew)return 14}return 2}function dl(e,t){var n=e.alternate;return n===null?(n=Li(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Xm(e,t,n,r,a,i){var o=2;if(r=e,typeof e=="function")u1(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case nu:return ic(n.children,a,i,t);case Aw:o=8,a|=8;break;case ab:return e=Li(12,n,t,a|2),e.elementType=ab,e.lanes=i,e;case ib:return e=Li(13,n,t,a),e.elementType=ib,e.lanes=i,e;case ob:return e=Li(19,n,t,a),e.elementType=ob,e.lanes=i,e;case t5:return t0(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ZE:o=10;break e;case e5:o=9;break e;case Pw:o=11;break e;case Ew:o=14;break e;case qs:o=16,r=null;break e}throw Error(_e(130,e==null?e:typeof e,""))}return t=Li(o,n,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function ic(e,t,n,r){return e=Li(7,e,r,t),e.lanes=n,e}function t0(e,t,n,r){return e=Li(22,e,r,t),e.elementType=t5,e.lanes=n,e.stateNode={isHidden:!1},e}function Jy(e,t,n){return e=Li(6,e,null,t),e.lanes=n,e}function Qy(e,t,n){return t=Li(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qz(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oy(0),this.expirationTimes=Oy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oy(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function d1(e,t,n,r,a,i,o,s,l){return e=new qz(e,t,n,s,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Li(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yw(i),e}function Kz(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tu,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function KT(e){if(!e)return gl;e=e._reactInternals;e:{if(Pc(e)!==e||e.tag!==1)throw Error(_e(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Za(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_e(171))}if(e.tag===1){var n=e.type;if(Za(n))return q5(e,n,t)}return t}function YT(e,t,n,r,a,i,o,s,l){return e=d1(n,r,!0,e,a,i,o,s,l),e.context=KT(null),n=e.current,r=Ra(),a=ul(n),i=ss(r,a),i.callback=t??null,ll(n,i,a),e.current.lanes=a,np(e,a,r),ei(e,r),e}function n0(e,t,n,r){var a=t.current,i=Ra(),o=ul(a);return n=KT(n),t.context===null?t.context=n:t.pendingContext=n,t=ss(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ll(a,t,o),e!==null&&(io(e,a,o,i),Hm(e,a,o)),o}function Dh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function RN(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function f1(e,t){RN(e,t),(e=e.alternate)&&RN(e,t)}function Yz(){return null}var GT=typeof reportError=="function"?reportError:function(e){console.error(e)};function p1(e){this._internalRoot=e}r0.prototype.render=p1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_e(409));n0(e,t,null,null)};r0.prototype.unmount=p1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gc(function(){n0(null,e,null,null)}),t[ps]=null}};function r0(e){this._internalRoot=e}r0.prototype.unstable_scheduleHydration=function(e){if(e){var t=j5();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Js.length&&t!==0&&t<Js[n].priority;n++);Js.splice(n,0,e),n===0&&M5(e)}};function m1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function a0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $N(){}function Gz(e,t,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var c=Dh(o);i.call(c)}}var o=YT(t,r,e,0,null,!1,!1,"",$N);return e._reactRootContainer=o,e[ps]=o.current,vf(e.nodeType===8?e.parentNode:e),gc(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var s=r;r=function(){var c=Dh(l);s.call(c)}}var l=d1(e,0,!1,null,null,!1,!1,"",$N);return e._reactRootContainer=l,e[ps]=l.current,vf(e.nodeType===8?e.parentNode:e),gc(function(){n0(t,l,n,r)}),l}function i0(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var s=a;a=function(){var l=Dh(o);s.call(l)}}n0(t,o,e,a)}else o=Gz(n,t,e,a,r);return Dh(o)}S5=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=zd(t.pendingLanes);n!==0&&(Dw(t,n|1),ei(t,Er()),!(vn&6)&&(_u=Er()+500,Sl()))}break;case 13:gc(function(){var r=ms(e,1);if(r!==null){var a=Ra();io(r,e,1,a)}}),f1(e,1)}};Iw=function(e){if(e.tag===13){var t=ms(e,134217728);if(t!==null){var n=Ra();io(t,e,134217728,n)}f1(e,134217728)}};N5=function(e){if(e.tag===13){var t=ul(e),n=ms(e,t);if(n!==null){var r=Ra();io(n,e,t,r)}f1(e,t)}};j5=function(){return En};C5=function(e,t){var n=En;try{return En=e,t()}finally{En=n}};gb=function(e,t,n){switch(t){case"input":if(cb(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=Gg(r);if(!a)throw Error(_e(90));r5(r),cb(r,a)}}}break;case"textarea":i5(e,n);break;case"select":t=n.value,t!=null&&bu(e,!!n.multiple,t,!1)}};f5=s1;p5=gc;var Xz={usingClientEntryPoint:!1,Events:[ap,ou,Gg,u5,d5,s1]},Sd={findFiberByHostInstance:Yl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Jz={bundleType:Sd.bundleType,version:Sd.version,rendererPackageName:Sd.rendererPackageName,rendererConfig:Sd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ss.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=g5(e),e===null?null:e.stateNode},findFiberByHostInstance:Sd.findFiberByHostInstance||Yz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pm.isDisabled&&pm.supportsFiber)try{Wg=pm.inject(Jz),Io=pm}catch{}}ki.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xz;ki.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m1(t))throw Error(_e(200));return Kz(e,t,null,n)};ki.createRoot=function(e,t){if(!m1(e))throw Error(_e(299));var n=!1,r="",a=GT;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=d1(e,1,!1,null,null,n,!1,r,a),e[ps]=t.current,vf(e.nodeType===8?e.parentNode:e),new p1(t)};ki.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_e(188)):(e=Object.keys(e).join(","),Error(_e(268,e)));return e=g5(t),e=e===null?null:e.stateNode,e};ki.flushSync=function(e){return gc(e)};ki.hydrate=function(e,t,n){if(!a0(t))throw Error(_e(200));return i0(null,e,t,!0,n)};ki.hydrateRoot=function(e,t,n){if(!m1(e))throw Error(_e(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",o=GT;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=YT(t,null,e,1,n??null,a,!1,i,o),e[ps]=t.current,vf(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new r0(t)};ki.render=function(e,t,n){if(!a0(t))throw Error(_e(200));return i0(null,e,t,!1,n)};ki.unmountComponentAtNode=function(e){if(!a0(e))throw Error(_e(40));return e._reactRootContainer?(gc(function(){i0(null,null,e,!1,function(){e._reactRootContainer=null,e[ps]=null})}),!0):!1};ki.unstable_batchedUpdates=s1;ki.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!a0(n))throw Error(_e(200));if(e==null||e._reactInternals===void 0)throw Error(_e(38));return i0(e,t,n,!1,r)};ki.version="18.3.1-next-f1338f8080-20240426";function XT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(XT)}catch(e){console.error(e)}}XT(),GE.exports=ki;var Zu=GE.exports,zN=Zu;nb.createRoot=zN.createRoot,nb.hydrateRoot=zN.hydrateRoot;const Qz=new Set(["Vulnerability","Weakness","Blind","Cripple","Chill","Immobilize","Slow","Fear","Taunt"]),JT=[{id:"damage",label:"Damage",field:"damage",source:"dpsAll"},{id:"directDmg",label:"Direct Damage",field:"directDmg",source:"statsTargets"},{id:"connectedDamageCount",label:"Connected Damage Count",field:"connectedDamageCount",source:"statsTargets"},{id:"connectedDirectDamageCount",label:"Connected Direct Damage Count",field:"connectedDirectDamageCount",source:"statsTargets"},{id:"battleStandardHits",label:"Battle Standard Tracking"},{id:"criticalRate",label:"Critical Rate",field:"criticalRate",isRate:!0,isPercent:!0,denomField:"critableDirectDamageCount",source:"statsTargets"},{id:"criticalDmg",label:"Critical Damage",field:"criticalDmg",source:"statsTargets"},{id:"flankingRate",label:"Flanking Rate",field:"flankingRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"glanceRate",label:"Glance Rate",field:"glanceRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"missed",label:"Missed",field:"missed",source:"statsTargets"},{id:"evaded",label:"Evaded (enemy)",field:"evaded",source:"statsTargets"},{id:"blocked",label:"Blocked (enemy)",field:"blocked",source:"statsTargets"},{id:"interrupts",label:"Interrupts",field:"interrupts",source:"statsTargets"},{id:"invulned",label:"Invulned",field:"invulned",source:"statsTargets"},{id:"killed",label:"Killed",field:"killed",source:"statsTargets"},{id:"downed",label:"Downed",field:"downed",source:"statsTargets"},{id:"downContribution",label:"Down Contribution",field:"downContribution",source:"statsTargets"},{id:"downContributionPercent",label:"Down Contribution %",isRate:!0,isPercent:!0},{id:"againstDownedDamage",label:"Against Downed Damage",field:"againstDownedDamage",source:"statsTargets"},{id:"appliedCrowdControl",label:"Applied CC",field:"appliedCrowdControl",source:"statsTargets"},{id:"appliedCrowdControlDuration",label:"Applied CC Duration",field:"appliedCrowdControlDuration",source:"statsTargets"},{id:"appliedCrowdControlDownContribution",label:"Applied CC Down Contribution",field:"appliedCrowdControlDownContribution",source:"statsTargets"},{id:"appliedCrowdControlDurationDownContribution",label:"Applied CC Duration Down Contribution",field:"appliedCrowdControlDurationDownContribution",source:"statsTargets"},{id:"boonStrips",label:"Boon Strips",field:"boonStrips",source:"support"}],QT=[{id:"damageTaken",label:"Damage Taken",field:"damageTaken"},{id:"damageTakenCount",label:"Damage Taken Count",field:"damageTakenCount"},{id:"conditionDamageTaken",label:"Condition Damage Taken",field:"conditionDamageTaken"},{id:"conditionDamageTakenCount",label:"Condition Damage Taken Count",field:"conditionDamageTakenCount"},{id:"powerDamageTaken",label:"Power Damage Taken",field:"powerDamageTaken"},{id:"powerDamageTakenCount",label:"Power Damage Taken Count",field:"powerDamageTakenCount"},{id:"downedDamageTaken",label:"Downed Damage Taken",field:"downedDamageTaken"},{id:"downedDamageTakenCount",label:"Downed Damage Taken Count",field:"downedDamageTakenCount"},{id:"damageBarrier",label:"Damage Barrier",field:"damageBarrier"},{id:"damageBarrierCount",label:"Damage Barrier Count",field:"damageBarrierCount"},{id:"blockedCount",label:"Blocked Count",field:"blockedCount"},{id:"evadedCount",label:"Evaded Count",field:"evadedCount"},{id:"missedCount",label:"Missed Count",field:"missedCount"},{id:"dodgeCount",label:"Dodge Count",field:"dodgeCount"},{id:"invulnedCount",label:"Invulnerable Count",field:"invulnedCount"},{id:"interruptedCount",label:"Interrupted Count",field:"interruptedCount"},{id:"downCount",label:"Down Count",field:"downCount"},{id:"deadCount",label:"Death Count",field:"deadCount"},{id:"boonStrips",label:"Boon Strips (Incoming)",field:"boonStrips"},{id:"conditionCleanses",label:"Cleanses (Incoming)",field:"conditionCleanses"},{id:"receivedCrowdControl",label:"Crowd Control (Incoming)",field:"receivedCrowdControl"}],Zz=[{id:"totalHits",label:"Total Hits"},{id:"evaded",label:"Evaded"},{id:"blocked",label:"Blocked"},{id:"glanced",label:"Glanced"},{id:"missed",label:"Missed"},{id:"invulned",label:"Invulned"},{id:"interrupted",label:"Interrupted"},{id:"totalMitigation",label:"Damage Mitigation"},{id:"minMitigation",label:"Min Damage Mitigation"}],ZT=[{id:"condiCleanse",label:"Condition Cleanses",field:"condiCleanse"},{id:"condiCleanseTime",label:"Condition Cleanse Time",field:"condiCleanseTime",isTime:!0},{id:"condiCleanseSelf",label:"Condition Cleanse Self",field:"condiCleanseSelf"},{id:"condiCleanseTimeSelf",label:"Condition Cleanse Time Self",field:"condiCleanseTimeSelf",isTime:!0},{id:"boonStrips",label:"Boon Strips",field:"boonStrips"},{id:"boonStripsTime",label:"Boon Strips Time",field:"boonStripsTime",isTime:!0},{id:"boonStripDownContribution",label:"Boon Strip Down Contribution",field:"boonStripDownContribution"},{id:"boonStripDownContributionTime",label:"Boon Strip Down Contribution Time",field:"boonStripDownContributionTime",isTime:!0},{id:"stunBreak",label:"Stun Breaks",field:"stunBreak"},{id:"removedStunDuration",label:"Removed Stun Duration",field:"removedStunDuration",isTime:!0},{id:"resurrects",label:"Resurrects",field:"resurrects"},{id:"resurrectTime",label:"Resurrect Time",field:"resurrectTime",isTime:!0}],eB=[{id:"healing",label:"Healing",baseField:"healing",perSecond:!1,decimals:0},{id:"healingPerSecond",label:"Healing Per Second",baseField:"healing",perSecond:!0,decimals:2},{id:"barrier",label:"Barrier",baseField:"barrier",perSecond:!1,decimals:0},{id:"barrierPerSecond",label:"Barrier Per Second",baseField:"barrier",perSecond:!0,decimals:2},{id:"downedHealing",label:"Downed Healing",baseField:"downedHealing",perSecond:!1,decimals:0},{id:"downedHealingPerSecond",label:"Downed Healing Per Second",baseField:"downedHealing",perSecond:!0,decimals:1},{id:"resUtility",label:"Resurrect Utility",baseField:"resUtility",perSecond:!1,decimals:0}],tB=["battle standard","glyph of renewal","glyph of the stars","illusion of life","spirit of nature","nature spirit","search and rescue","signet of mercy"],nB=new Set([10244]),rB=(e,t)=>{var n;if(nB.has(e))return!0;const r=(t==null?void 0:t[`s${e}`])||(t==null?void 0:t[`${e}`]),a=((n=r==null?void 0:r.name)==null?void 0:n.toLowerCase())||"";return tB.some(i=>a.includes(i))},aB=e=>{const t=e.toLowerCase();return t.includes("autoattack")||t.includes("auto attack")},BN=e=>{if(!e||!Number.isFinite(e))return"--:--";const t=Math.max(0,Math.round(e/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),a=t%60;return n>0?`${n}:${String(r).padStart(2,"0")}:${String(a).padStart(2,"0")}`:`${r}:${String(a).padStart(2,"0")}`},eO=()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia("(max-width: 640px)").matches,tO=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e),n=e<0?"-":"";if(t>=1e6){const r=(t/1e6).toFixed(2).replace(/\.?0+$/,"");return`${n}${r}m`}if(t>=1e4){const r=(t/1e3).toFixed(0);return`${n}${r}k`}return`${e.toLocaleString()}`},Ti=(e,t=2)=>Number.isFinite(e)?eO()&&Math.abs(e)>=1e4?tO(e):e.toLocaleString(void 0,{minimumFractionDigits:t,maximumFractionDigits:t}):"--",Hs=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e);return eO()&&t>=1e4?tO(e):t>=1e6?`${(e/1e6).toFixed(2).replace(/\.?0+$/,"")}m`:Math.round(e).toLocaleString()};var iB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const oB=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Kt=(e,t)=>{const n=v.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:s,...l},c)=>v.createElement("svg",{ref:c,...iB,width:a,height:a,stroke:r,strokeWidth:o?Number(i)*24/Number(a):i,className:`lucide lucide-${oB(e)}`,...l},[...t.map(([d,f])=>v.createElement(d,f)),...(Array.isArray(s)?s:[s])||[]]));return n.displayName=`${e}`,n},nO=Kt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),sB=Kt("ArrowBigDown",[["path",{d:"M15 6v6h4l-7 7-7-7h4V6h6z",key:"1thax2"}]]),h1=Kt("ArrowBigUp",[["path",{d:"M9 18v-6H5l7-7 7 7h-4v6H9z",key:"1x06kx"}]]),rO=Kt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),lB=Kt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),cB=Kt("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),aO=Kt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Jl=Kt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),uB=Kt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),co=Kt("Columns",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"12",x2:"12",y1:"3",y2:"21",key:"1efggb"}]]),dB=Kt("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]),fB=Kt("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),pB=Kt("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Mf=Kt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),mB=Kt("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),hB=Kt("Hammer",[["path",{d:"m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9",key:"1afvon"}],["path",{d:"M17.64 15 22 10.64",key:"zsji6s"}],["path",{d:"m20.91 11.7-1.25-1.25c-.6-.6-.93-1.4-.93-2.25v-.86L16.01 4.6a5.56 5.56 0 0 0-3.94-1.64H9l.92.82A6.18 6.18 0 0 1 12 8.4v1.56l2 2h2.47l2.26 1.91",key:"lehyy1"}]]),iO=Kt("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]),gB=Kt("HelpingHand",[["path",{d:"m3 15 5.12-5.12A3 3 0 0 1 10.24 9H13a2 2 0 1 1 0 4h-2.5m4-.68 4.17-4.89a1.88 1.88 0 0 1 2.92 2.36l-4.2 5.94A3 3 0 0 1 14.96 17H9.83a2 2 0 0 0-1.42.59L7 19",key:"nitrv7"}],["path",{d:"m2 14 6 6",key:"g6j1uo"}]]),g1=Kt("Keyboard",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",ry:"2",key:"15u882"}],["path",{d:"M6 8h.001",key:"1ej0i3"}],["path",{d:"M10 8h.001",key:"1x2st2"}],["path",{d:"M14 8h.001",key:"1vkmyp"}],["path",{d:"M18 8h.001",key:"kfsenl"}],["path",{d:"M8 12h.001",key:"1sjpby"}],["path",{d:"M12 12h.001",key:"al75ts"}],["path",{d:"M16 12h.001",key:"931bgk"}],["path",{d:"M7 16h10",key:"wp8him"}]]),yB=Kt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),y1=Kt("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]),vB=Kt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),v1=Kt("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),Ni=Kt("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),UN=Kt("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]),bB=Kt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),xB=Kt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),wB=Kt("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),oO=Kt("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Fu=Kt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),o0=Kt("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]),s0=Kt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Ih=Kt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),kB=Kt("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]),nl=Kt("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]),oc=Kt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),SB=Kt("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),kr=Kt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),NB=Kt("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]),sO=Kt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Va=Kt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Af=Kt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),b1=({className:e})=>u.jsx(bB,{className:e,strokeWidth:3.2}),op=e=>{if(typeof window<"u"&&(window.location.pathname||"").includes("/web/web/"))return`../${e.replace(/^\/+/,"")}`;const t="./",n=t.endsWith("/")?t:`${t}/`,r=e.replace(/^\/+/,"");return`${n}${r}`},x1=({className:e=""})=>{const t=op("svg/custom-icons/mouse.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},w1=({className:e=""})=>{const t=op("svg/custom-icons/gw2_boon.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},k1=({className:e=""})=>{const t=op("svg/custom-icons/dam_mit.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},S1=({className:e=""})=>{const t=op("svg/custom-icons/gw2_sigil.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},jB=[{id:"overview",label:"Overview",icon:oc,sectionIds:["overview","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","squad-composition","timeline","map-distribution"],items:[{id:"overview",label:"Overview",icon:oc},{id:"fight-breakdown",label:"Fight Breakdown",icon:nl},{id:"top-players",label:"Top Players",icon:oc},{id:"top-skills-outgoing",label:"Top Skills",icon:h1},{id:"squad-composition",label:"Classes",icon:kr},{id:"timeline",label:"Squad vs Enemy",icon:kr},{id:"map-distribution",label:"Map Distribution",icon:v1}]},{id:"roster",label:"Roster Intel",icon:Mf,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance Ledger",icon:Mf},{id:"squad-comp-fight",label:"Squad Comp by Fight",icon:kr},{id:"fight-comp",label:"Fight Comp",icon:nl}]},{id:"offense",label:"Offensive Stats",icon:nl,sectionIds:["offense-detailed","player-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:nl},{id:"player-breakdown",label:"Player Breakdown",icon:y1},{id:"spike-damage",label:"Spike Damage",icon:Af},{id:"conditions-outgoing",label:"Conditions",icon:o0}]},{id:"defense",label:"Defensive Stats",icon:Fu,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","support-detailed","healing-stats","boon-output"],items:[{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:wB},{id:"defense-detailed",label:"Defense Detailed",icon:Fu},{id:"defense-mitigation",label:"Damage Mitigation",icon:k1},{id:"support-detailed",label:"Support Detailed",icon:b1},{id:"healing-stats",label:"Healing Stats",icon:iO},{id:"boon-output",label:"Boon Output",icon:w1}]},{id:"other",label:"Other Metrics",icon:Ih,sectionIds:["special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"special-buffs",label:"Special Buffs",icon:Ih},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:S1},{id:"skill-usage",label:"Skill Usage",icon:g1},{id:"apm-stats",label:"APM Breakdown",icon:x1}]}],CB=(e,t=!0)=>{const[n,r]=v.useState(!1),[a,i]=v.useState("overview"),o=v.useRef(null),s=v.useRef(null),l=v.useRef(0),c=v.useMemo(()=>jB,[]),d=v.useMemo(()=>c.flatMap(m=>m.items),[c]),f=m=>{const h=m==="kdr"?"overview":m,y=o.current,x=document.getElementById(h);if(y&&x){const g=y.getBoundingClientRect(),b=x.getBoundingClientRect().top-g.top+y.scrollTop,w=Math.max(0,y.scrollHeight-y.clientHeight),S=Math.min(Math.max(b-16,0),w);y.scrollTo({top:S,behavior:"smooth"}),i(h)}else x&&(x.scrollIntoView({behavior:"smooth",block:"start"}),i(h));r(!1)};v.useEffect(()=>{if(e)return;const m=h=>{const y=o.current;if(!y)return;const x=h.target;if(!(x instanceof Element&&x.closest("[data-stats-mobile-nav]"))&&!(x instanceof Node&&y.contains(x))&&h.deltaY!==0&&!(y.scrollHeight<=y.clientHeight)){if(l.current+=h.deltaY,s.current===null){const g=()=>{const b=l.current;if(Math.abs(b)<.5){l.current=0,s.current=null;return}const w=b*.2;l.current=b-w,y.scrollBy({top:w,behavior:"auto"}),s.current=requestAnimationFrame(g)};s.current=requestAnimationFrame(g)}h.preventDefault()}};return window.addEventListener("wheel",m,{passive:!1}),()=>{window.removeEventListener("wheel",m),s.current!==null&&(cancelAnimationFrame(s.current),s.current=null),l.current=0}},[e]);const p=m=>{var h;const y=Math.max(0,d.findIndex(b=>b.id===a)),x=Math.min(Math.max(y+m,0),d.length-1),g=(h=d[x])==null?void 0:h.id;g&&f(g)};return v.useEffect(()=>{if(!t)return;const m=o.current;if(!m)return;let h=0;const y=()=>{var g;const b=m.getBoundingClientRect().top;let w=((g=d[0])==null?void 0:g.id)||"overview";d.forEach(S=>{const C=document.getElementById(S.id);C&&C.getBoundingClientRect().top-b<=24&&(w=S.id)}),i(S=>S===w?S:w)},x=()=>{h&&cancelAnimationFrame(h),h=requestAnimationFrame(y)};return y(),m.addEventListener("scroll",x,{passive:!0}),window.addEventListener("resize",x),()=>{h&&cancelAnimationFrame(h),m.removeEventListener("scroll",x),window.removeEventListener("resize",x)}},[d,t]),{mobileNavOpen:n,setMobileNavOpen:r,activeNavId:a,setActiveNavId:i,scrollContainerRef:o,tocGroups:c,tocItems:d,scrollToSection:f,stepSection:p}},MB=({logs:e,stats:t,skillUsageData:n,activeStatsViewSettings:r,uiTheme:a,embedded:i,onWebUpload:o})=>{const[s,l]=v.useState({uploading:!1,message:null,url:null}),[c,d]=v.useState("idle"),f=()=>{const p=new Set;let m=null,h=null;e.forEach(N=>{const M=N.details;if(!M)return;const O=M.timeStartStd||M.timeStart||M.uploadTime||N.uploadTime,R=M.timeEndStd||M.timeEnd||M.uploadTime||N.uploadTime,P=O?new Date(O):null,_=R?new Date(R):null;P&&!Number.isNaN(P.getTime())&&(!m||P<m)&&(m=P),_&&!Number.isNaN(_.getTime())&&(!h||_>h)&&(h=_),(M.players||[]).forEach(I=>{if(!(I!=null&&I.notInSquad)&&I!=null&&I.hasCommanderTag){const Q=(I==null?void 0:I.name)||(I==null?void 0:I.account)||"Unknown";p.add(Q)}})});const y=Array.from(p).sort((N,M)=>N.localeCompare(M)),x=m||new Date,g=h||x,b=x.toISOString(),w=g.toISOString(),S=`${x.toLocaleString()} - ${g.toLocaleString()}`,C=N=>String(N).padStart(2,"0");return{id:`${x.getFullYear()}${C(x.getMonth()+1)}${C(x.getDate())}-${C(x.getHours())}${C(x.getMinutes())}${C(x.getSeconds())}-${Math.random().toString(36).slice(2,6)}`,title:y.length?y.join(", "):"Unknown Commander",commanders:y,dateStart:b,dateEnd:w,dateLabel:S,generatedAt:new Date().toISOString()}};return{devMockUploadState:s,setDevMockUploadState:l,webCopyStatus:c,setWebCopyStatus:d,handleWebUpload:async()=>{if(!i&&o)try{const p=f();await o({meta:p,stats:{...t,skillUsageData:n,statsViewSettings:r,uiTheme:a||"classic"}})}catch(p){console.error("[StatsView] Web upload failed:",p)}},handleDevMockUpload:async()=>{var p;if(!(i||!((p=window.electronAPI)!=null&&p.mockWebReport))){l({uploading:!0,message:"Preparing local report...",url:null});try{const m=f(),h=await window.electronAPI.mockWebReport({meta:m,stats:{...t,skillUsageData:n,statsViewSettings:r,uiTheme:a||"classic"}});h!=null&&h.success?l({uploading:!1,message:"Local report ready.",url:h.url||null}):l({uploading:!1,message:(h==null?void 0:h.error)||"Local report failed.",url:null})}catch(m){l({uploading:!1,message:(m==null?void 0:m.message)||"Local report failed.",url:null})}}}}};function AB(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),a=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(a),t&&(r.href=t),a.href=e,a.href}const PB=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function fl(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}let Nd=null;function lO(e={}){return Nd||(e.includeStyleProperties?(Nd=e.includeStyleProperties,Nd):(Nd=fl(window.getComputedStyle(document.documentElement)),Nd))}function _h(e,t){const n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function EB(e){const t=_h(e,"border-left-width"),n=_h(e,"border-right-width");return e.clientWidth+t+n}function TB(e){const t=_h(e,"border-top-width"),n=_h(e,"border-bottom-width");return e.clientHeight+t+n}function cO(e,t={}){const n=t.width||EB(e),r=t.height||TB(e);return{width:n,height:r}}function OB(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const ci=16384;function DB(e){(e.width>ci||e.height>ci)&&(e.width>ci&&e.height>ci?e.width>e.height?(e.height*=ci/e.width,e.width=ci):(e.width*=ci/e.height,e.height=ci):e.width>ci?(e.height*=ci/e.width,e.width=ci):(e.width*=ci/e.height,e.height=ci))}function Fh(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function IB(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function _B(e,t,n){const r="http://www.w3.org/2000/svg",a=document.createElementNS(r,"svg"),i=document.createElementNS(r,"foreignObject");return a.setAttribute("width",`${t}`),a.setAttribute("height",`${n}`),a.setAttribute("viewBox",`0 0 ${t} ${n}`),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("externalResourcesRequired","true"),a.appendChild(i),i.appendChild(e),IB(a)}const ti=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||ti(n,t)};function FB(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function LB(e,t){return lO(t).map(n=>{const r=e.getPropertyValue(n),a=e.getPropertyPriority(n);return`${n}: ${r}${a?" !important":""};`}).join(" ")}function RB(e,t,n,r){const a=`.${e}:${t}`,i=n.cssText?FB(n):LB(n,r);return document.createTextNode(`${a}{${i}}`)}function VN(e,t,n,r){const a=window.getComputedStyle(e,n),i=a.getPropertyValue("content");if(i===""||i==="none")return;const o=PB();try{t.className=`${t.className} ${o}`}catch{return}const s=document.createElement("style");s.appendChild(RB(o,n,a,r)),t.appendChild(s)}function $B(e,t,n){VN(e,t,":before",n),VN(e,t,":after",n)}const HN="application/font-woff",WN="image/jpeg",zB={woff:HN,woff2:HN,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:WN,jpeg:WN,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function BB(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function N1(e){const t=BB(e).toLowerCase();return zB[t]||""}function UB(e){return e.split(/,/)[1]}function Yb(e){return e.search(/^(data:)/)!==-1}function VB(e,t){return`data:${t};base64,${e}`}async function uO(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const a=await r.blob();return new Promise((i,o)=>{const s=new FileReader;s.onerror=o,s.onloadend=()=>{try{i(n({res:r,result:s.result}))}catch(l){o(l)}},s.readAsDataURL(a)})}const Zy={};function HB(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function j1(e,t,n){const r=HB(e,t,n.includeQueryParams);if(Zy[r]!=null)return Zy[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let a;try{const i=await uO(e,n.fetchRequestInit,({res:o,result:s})=>(t||(t=o.headers.get("Content-Type")||""),UB(s)));a=VB(i,t)}catch(i){a=n.imagePlaceholder||"";let o=`Failed to fetch resource: ${e}`;i&&(o=typeof i=="string"?i:i.message),o&&console.warn(o)}return Zy[r]=a,a}async function WB(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Fh(t)}async function qB(e,t){if(e.currentSrc){const i=document.createElement("canvas"),o=i.getContext("2d");i.width=e.clientWidth,i.height=e.clientHeight,o==null||o.drawImage(e,0,0,i.width,i.height);const s=i.toDataURL();return Fh(s)}const n=e.poster,r=N1(n),a=await j1(n,r,t);return Fh(a)}async function KB(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await l0(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function YB(e,t){return ti(e,HTMLCanvasElement)?WB(e):ti(e,HTMLVideoElement)?qB(e,t):ti(e,HTMLIFrameElement)?KB(e,t):e.cloneNode(dO(e))}const GB=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",dO=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function XB(e,t,n){var r,a;if(dO(t))return t;let i=[];return GB(e)&&e.assignedNodes?i=fl(e.assignedNodes()):ti(e,HTMLIFrameElement)&&!((r=e.contentDocument)===null||r===void 0)&&r.body?i=fl(e.contentDocument.body.childNodes):i=fl(((a=e.shadowRoot)!==null&&a!==void 0?a:e).childNodes),i.length===0||ti(e,HTMLVideoElement)||await i.reduce((o,s)=>o.then(()=>l0(s,n)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function JB(e,t,n){const r=t.style;if(!r)return;const a=window.getComputedStyle(e);a.cssText?(r.cssText=a.cssText,r.transformOrigin=a.transformOrigin):lO(n).forEach(i=>{let o=a.getPropertyValue(i);i==="font-size"&&o.endsWith("px")&&(o=`${Math.floor(parseFloat(o.substring(0,o.length-2)))-.1}px`),ti(e,HTMLIFrameElement)&&i==="display"&&o==="inline"&&(o="block"),i==="d"&&t.getAttribute("d")&&(o=`path(${t.getAttribute("d")})`),r.setProperty(i,o,a.getPropertyPriority(i))})}function QB(e,t){ti(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),ti(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function ZB(e,t){if(ti(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(a=>e.value===a.getAttribute("value"));r&&r.setAttribute("selected","")}}function e8(e,t,n){return ti(t,Element)&&(JB(e,t,n),$B(e,t,n),QB(e,t),ZB(e,t)),t}async function t8(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let i=0;i<n.length;i++){const o=n[i].getAttribute("xlink:href");if(o){const s=e.querySelector(o),l=document.querySelector(o);!s&&l&&!r[o]&&(r[o]=await l0(l,t,!0))}}const a=Object.values(r);if(a.length){const i="http://www.w3.org/1999/xhtml",o=document.createElementNS(i,"svg");o.setAttribute("xmlns",i),o.style.position="absolute",o.style.width="0",o.style.height="0",o.style.overflow="hidden",o.style.display="none";const s=document.createElementNS(i,"defs");o.appendChild(s);for(let l=0;l<a.length;l++)s.appendChild(a[l]);e.appendChild(o)}return e}async function l0(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>YB(r,t)).then(r=>XB(e,r,t)).then(r=>e8(e,r,t)).then(r=>t8(r,t))}const fO=/url\((['"]?)([^'"]+?)\1\)/g,n8=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,r8=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function a8(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function i8(e){const t=[];return e.replace(fO,(n,r,a)=>(t.push(a),n)),t.filter(n=>!Yb(n))}async function o8(e,t,n,r,a){try{const i=n?AB(t,n):t,o=N1(t);let s;return a||(s=await j1(i,o,r)),e.replace(a8(t),`$1${s}$3`)}catch{}return e}function s8(e,{preferredFontFormat:t}){return t?e.replace(r8,n=>{for(;;){const[r,,a]=n8.exec(n)||[];if(!a)return"";if(a===t)return`src: ${r};`}}):e}function pO(e){return e.search(fO)!==-1}async function mO(e,t,n){if(!pO(e))return e;const r=s8(e,n);return i8(r).reduce((a,i)=>a.then(o=>o8(o,i,t,n)),Promise.resolve(r))}async function Kc(e,t,n){var r;const a=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(a){const i=await mO(a,null,n);return t.style.setProperty(e,i,t.style.getPropertyPriority(e)),!0}return!1}async function l8(e,t){await Kc("background",e,t)||await Kc("background-image",e,t),await Kc("mask",e,t)||await Kc("-webkit-mask",e,t)||await Kc("mask-image",e,t)||await Kc("-webkit-mask-image",e,t)}async function c8(e,t){const n=ti(e,HTMLImageElement);if(!(n&&!Yb(e.src))&&!(ti(e,SVGImageElement)&&!Yb(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,a=await j1(r,N1(r),t);await new Promise((i,o)=>{e.onload=i,e.onerror=t.onImageErrorHandler?(...l)=>{try{i(t.onImageErrorHandler(...l))}catch(c){o(c)}}:o;const s=e;s.decode&&(s.decode=i),s.loading==="lazy"&&(s.loading="eager"),n?(e.srcset="",e.src=a):e.href.baseVal=a})}async function u8(e,t){const n=fl(e.childNodes).map(r=>hO(r,t));await Promise.all(n).then(()=>e)}async function hO(e,t){ti(e,Element)&&(await l8(e,t),await c8(e,t),await u8(e,t))}function d8(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(a=>{n[a]=r[a]}),e}const qN={};async function KN(e){let t=qN[e];if(t!=null)return t;const n=await(await fetch(e)).text();return t={url:e,cssText:n},qN[e]=t,t}async function YN(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,a=(n.match(/url\([^)]+\)/g)||[]).map(async i=>{let o=i.replace(r,"$1");return o.startsWith("https://")||(o=new URL(o,e.url).href),uO(o,t.fetchRequestInit,({result:s})=>(n=n.replace(i,`url(${s})`),[i,s]))});return Promise.all(a).then(()=>n)}function GN(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const a=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=a.exec(r);if(l===null)break;t.push(l[0])}r=r.replace(a,"");const i=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,o="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",s=new RegExp(o,"gi");for(;;){let l=i.exec(r);if(l===null){if(l=s.exec(r),l===null)break;i.lastIndex=s.lastIndex}else s.lastIndex=i.lastIndex;t.push(l[0])}return t}async function f8(e,t){const n=[],r=[];return e.forEach(a=>{if("cssRules"in a)try{fl(a.cssRules||[]).forEach((i,o)=>{if(i.type===CSSRule.IMPORT_RULE){let s=o+1;const l=i.href,c=KN(l).then(d=>YN(d,t)).then(d=>GN(d).forEach(f=>{try{a.insertRule(f,f.startsWith("@import")?s+=1:a.cssRules.length)}catch(p){console.error("Error inserting rule from remote css",{rule:f,error:p})}})).catch(d=>{console.error("Error loading remote css",d.toString())});r.push(c)}})}catch(i){const o=e.find(s=>s.href==null)||document.styleSheets[0];a.href!=null&&r.push(KN(a.href).then(s=>YN(s,t)).then(s=>GN(s).forEach(l=>{o.insertRule(l,o.cssRules.length)})).catch(s=>{console.error("Error loading remote stylesheet",s)})),console.error("Error inlining remote css file",i)}}),Promise.all(r).then(()=>(e.forEach(a=>{if("cssRules"in a)try{fl(a.cssRules||[]).forEach(i=>{n.push(i)})}catch(i){console.error(`Error while reading CSS rules from ${a.href}`,i)}}),n))}function p8(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>pO(t.style.getPropertyValue("src")))}async function m8(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=fl(e.ownerDocument.styleSheets),r=await f8(n,t);return p8(r)}function gO(e){return e.trim().replace(/["']/g,"")}function h8(e){const t=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(a=>{t.add(gO(a))}),Array.from(r.children).forEach(a=>{a instanceof HTMLElement&&n(a)})}return n(e),t}async function g8(e,t){const n=await m8(e,t),r=h8(e);return(await Promise.all(n.filter(a=>r.has(gO(a.style.fontFamily))).map(a=>{const i=a.parentStyleSheet?a.parentStyleSheet.href:null;return mO(a.cssText,i,t)}))).join(`
`)}async function y8(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await g8(e,t);if(n){const r=document.createElement("style"),a=document.createTextNode(n);r.appendChild(a),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function v8(e,t={}){const{width:n,height:r}=cO(e,t),a=await l0(e,t,!0);return await y8(a,t),await hO(a,t),d8(a,t),await _B(a,n,r)}async function b8(e,t={}){const{width:n,height:r}=cO(e,t),a=await v8(e,t),i=await Fh(a),o=document.createElement("canvas"),s=o.getContext("2d"),l=t.pixelRatio||OB(),c=t.canvasWidth||n,d=t.canvasHeight||r;return o.width=c*l,o.height=d*l,t.skipAutoScale||DB(o),o.style.width=`${c}`,o.style.height=`${d}`,t.backgroundColor&&(s.fillStyle=t.backgroundColor,s.fillRect(0,0,o.width,o.height)),s.drawImage(i,0,0,o.width,o.height),o}async function x8(e,t={}){return(await b8(e,t)).toDataURL()}const w8=e=>{const[t,n]=v.useState(!1),r=async i=>{var o;if(!((o=window.electronAPI)!=null&&o.fetchImageAsDataUrl))return i();const s=window.fetch.bind(window),l=globalThis.fetch.bind(globalThis),c=async(d,f)=>{const p=typeof d=="string"?d:d instanceof URL?d.toString():d.url;if(/^https?:\/\//i.test(p)){const m=await window.electronAPI.fetchImageAsDataUrl(p);if(m!=null&&m.success&&m.dataUrl)return s(m.dataUrl)}return s(d,f)};window.fetch=c,globalThis.fetch=c;try{return await i()}finally{window.fetch=s,globalThis.fetch=l}},a=async i=>{var o;if(!((o=window.electronAPI)!=null&&o.fetchImageAsDataUrl))return()=>{};const s=new Map,l=[],c=async p=>{if(s.has(p))return s.get(p)||null;const m=await window.electronAPI.fetchImageAsDataUrl(p);return m!=null&&m.success&&m.dataUrl?(s.set(p,m.dataUrl),m.dataUrl):(s.set(p,""),null)},d=Array.from(i.querySelectorAll("img"));await Promise.all(d.map(async p=>{var m;const h=p.currentSrc||p.src;if(!h||h.startsWith("data:")||h.startsWith("blob:")||h.startsWith("file:"))return;const y=await c(h);if(!y)return;const x=p.src,g=p.srcset;p.src=y,p.srcset="",l.push(()=>{p.src=x,p.srcset=g});try{await((m=p.decode)==null?void 0:m.call(p))}catch{}}));const f=Array.from(i.querySelectorAll("*"));return await Promise.all(f.map(async p=>{const m=window.getComputedStyle(p).backgroundImage;if(!m||m==="none"||!m.includes("url("))return;const h=Array.from(m.matchAll(/url\(["']?(https?:\/\/[^"')]+)["']?\)/g));if(!h.length)return;let y=m,x=!1;for(const b of h){const w=b[1];if(!w)continue;const S=await c(w);S&&(y=y.replace(b[0],`url("${S}")`),x=!0)}if(!x)return;const g=p.style.backgroundImage;p.style.backgroundImage=y,l.push(()=>{p.style.backgroundImage=g})})),()=>{l.forEach(p=>p())}};return{sharing:t,setSharing:n,handleShare:async()=>{var i;if(e||!((i=window.electronAPI)!=null&&i.sendStatsScreenshot))return;n(!0);const o=document.getElementById("stats-dashboard-container");if(o)try{await new Promise(p=>setTimeout(p,100));const s=Array.from(o.querySelectorAll(".stats-share-exclude"));o.classList.add("stats-share-mode"),s.forEach(p=>{p.dataset.prevDisplay=p.style.display,p.style.display="none"});let l;const c=await a(o);try{const p=o.scrollWidth,m=o.scrollHeight;l=await r(()=>x8(o,{backgroundColor:"#10141b",quality:.95,pixelRatio:2,cacheBust:!0,width:p,height:m,style:{overflow:"visible",maxHeight:"none",height:"auto"}}))}finally{c(),o.classList.remove("stats-share-mode"),s.forEach(p=>{p.style.display=p.dataset.prevDisplay||"",delete p.dataset.prevDisplay})}const d=await(await(await fetch(l)).blob()).arrayBuffer(),f=new Uint8Array(d);window.electronAPI.sendStatsScreenshot(f)}catch(s){console.error("Failed to capture stats:",s)}setTimeout(()=>n(!1),2e3)}}},XN=["selfBuffs","groupBuffs","squadBuffs"],Go=(e,t,n=0)=>t?e/t:n,JN=e=>e!=null&&e.classification?e.classification==="Boon":!0,yO=e=>`b${e}`,k8=(e,t)=>{const n=Array.isArray(e==null?void 0:e.activeTimes)?e.activeTimes:[],r=typeof n[0]=="number"?n[0]:0;return r>0?r:t},vO=(e,t,n,r,a,i,o)=>{const s=e==="selfBuffs"?1:Math.max(e==="groupBuffs"?i-1:o-1,0);return!s||!a?{generationMs:0,wastedMs:0}:t?{generationMs:n*a*s,wastedMs:r*a*s}:{generationMs:n/100*a*s,wastedMs:r/100*a*s}},S8=(e,t,n)=>{const r=e.activeTimeMs||1,a=e.numFights||1,i=e.groupSupported||1,o=e.squadSupported||1,s=e.categories.selfBuffs,l=e.categories.squadBuffs,c=t==="totalBuffs"?{generationMs:s.generationMs+l.generationMs,wastedMs:s.wastedMs+l.wastedMs}:e.categories[t],d=c.generationMs,f=c.wastedMs;let p=1;t==="groupBuffs"?p=Go(i-a,a,1):t==="squadBuffs"?p=Go(o-a,a,1):t==="totalBuffs"&&(p=o);let m=0,h=0;if(t==="selfBuffs")m=n?Go(d,r):Go(d,r)*100,h=n?Go(f,r):Go(f,r)*100;else{const y=Go(d,r)/(p||1),x=Go(f,r)/(p||1);m=n?y:y*100,h=n?x:x*100}return{generationMs:d,wastedMs:f,uptimeRaw:m,wastedRaw:h}},bO=(e,t,n,r)=>{const{generationMs:a,uptimeRaw:i}=S8(e,t,n),o=e.activeTimeMs||1;return r==="total"?a/1e3:r==="average"?Go(a,o):i},N8=(e,t,n,r,a)=>{const i=bO(e,t,n,r),o=r==="uptime"&&!n,s=r==="average",l=a!=null&&a.roundCountStats&&!o&&!s?0:2,c=i.toLocaleString(void 0,{minimumFractionDigits:l,maximumFractionDigits:l});return o?`${c}%`:c},j8=e=>{const t=new Map,n=new Map;return e.forEach(r=>{const a=r.details;if(!a)return;const i=a.durationMS||0,o=a.buffMap||{};Object.entries(o).forEach(([d,f])=>{if(!t.has(d)){t.set(d,f);return}const p=t.get(d)||{},m={name:p.name||f.name,stacking:p.stacking??f.stacking,icon:p.icon||f.icon,classification:p.classification||f.classification};t.set(d,m)});const s=(a.players||[]).filter(d=>!d.notInSquad),l=s.length,c=new Map;s.forEach(d=>{const f=d.group??0;c.set(f,(c.get(f)||0)+1)}),s.forEach(d=>{const f=d.account||d.name||d.character_name||"Unknown",p=d.profession||"Unknown",m=d.group??0,h=c.get(m)||1,y=k8(d,i);n.has(f)||n.set(f,{account:f,profession:p,professions:new Set,professionTimeMs:{},activeTimeMs:0,numFights:0,groupSupported:0,squadSupported:0,boons:{}});const x=n.get(f);x.profession=p,p!=="Unknown"&&(x.professions.add(p),x.professionTimeMs[p]=(x.professionTimeMs[p]||0)+y),x.activeTimeMs+=y,x.numFights+=1,x.groupSupported+=h,x.squadSupported+=l,XN.forEach(g=>{(d[g]||[]).forEach(b=>{var w,S,C,N;if(typeof(b==null?void 0:b.id)!="number")return;const M=yO(b.id),O=o[M];if(!JN(O))return;const R=(O==null?void 0:O.stacking)??!1,P=((S=(w=b.buffData)==null?void 0:w[0])==null?void 0:S.generation)??0,_=((N=(C=b.buffData)==null?void 0:C[0])==null?void 0:N.wasted)??0,{generationMs:I,wastedMs:Q}=vO(g,R,P,_,i,h,l);!I&&!Q||(t.has(M)||t.set(M,O||{}),x.boons[M]||(x.boons[M]={selfBuffs:{generationMs:0,wastedMs:0},groupBuffs:{generationMs:0,wastedMs:0},squadBuffs:{generationMs:0,wastedMs:0}}),x.boons[M][g].generationMs+=I,x.boons[M][g].wastedMs+=Q)})})})}),{boonTables:Array.from(t.keys()).filter(r=>JN(t.get(r))).map(r=>{const a=t.get(r)||{},i=[];return n.forEach(o=>{var s;const l=o.boons[r];if(!l||!XN.some(f=>l[f].generationMs>0||l[f].wastedMs>0))return;const c=Array.from(o.professions||[]).filter(f=>f&&f!=="Unknown");let d=o.profession;if(c.length>0){d=c[0];let f=((s=o.professionTimeMs)==null?void 0:s[d])||0;c.forEach(p=>{var m;const h=((m=o.professionTimeMs)==null?void 0:m[p])||0;h>f&&(f=h,d=p)})}i.push({account:o.account,profession:d||"Unknown",professionList:c,activeTimeMs:o.activeTimeMs||1,numFights:o.numFights||1,groupSupported:o.groupSupported||1,squadSupported:o.squadSupported||1,categories:{selfBuffs:{...l.selfBuffs},groupBuffs:{...l.groupBuffs},squadBuffs:{...l.squadBuffs}}})}),{id:r,name:a.name||r,icon:a.icon,stacking:a.stacking??!1,rows:i}}).filter(r=>r.rows.length>0)}},QN=(e,t,n,r,a,i,o={})=>{var s,l,c,d;const f=((e==null?void 0:e[t])||[]).find(x=>x.id===n);if(!f)return{generationMs:0,wastedMs:0};const p=o[yO(n)],m=(p==null?void 0:p.stacking)??!1,h=((l=(s=f.buffData)==null?void 0:s[0])==null?void 0:l.generation)??0,y=((d=(c=f.buffData)==null?void 0:c[0])==null?void 0:d.wasted)??0;return vO(t,m,h,y,r,a,i)},C8={tiered:{tiers:{shortMs:500,mediumMs:1500,weights:{short:.5,medium:1,long:2}}}},M8={methods:C8},A8=M8,C1="count",P8=e=>(e||0)/1e3,E8=(e,t)=>{var n;if(!e)return 0;const r=(n=A8.methods.tiered)==null?void 0:n.tiers;if(!r)return e;const a=t/Math.max(e,1);return a<=r.shortMs?e*r.weights.short:a<=r.mediumMs?e*r.weights.medium:e*r.weights.long},xO=(e,t,n)=>n==="duration"?P8(t):n==="tiered"?E8(e,t):e;function T8(e,t=C1){var n;const r=(n=e.statsAll)==null?void 0:n[0],a=Number((r==null?void 0:r.appliedCrowdControl)??0),i=Number((r==null?void 0:r.appliedCrowdControlDuration)??0);return xO(a,i,t)}function O8(e,t){const n=(t==null?void 0:t.durationMS)||0,r=(t==null?void 0:t.buffMap)||{},a=e.filter(s=>!s.notInSquad),i=a.length,o=new Map;a.forEach(s=>{const l=s.group??0;o.set(l,(o.get(l)||0)+1)}),a.forEach(s=>{const l=o.get(s.group??0)||1,c=QN(s,"selfBuffs",1122,n,l,i,r),d=QN(s,"squadBuffs",1122,n,l,i,r);s.stabGeneration=(c.generationMs+d.generationMs)/1e3})}function D8(e){if(!e.statsTargets)return 0;let t=0;for(const n of e.statsTargets)n&&n.length>0&&(t+=n[0].downContribution||0);return t}function I8(e){if(!e.extBarrierStats||!e.extBarrierStats.outgoingBarrierAllies)return 0;let t=0;for(const n of e.extBarrierStats.outgoingBarrierAllies)if(n)for(const r of n)r&&(t+=r.barrier||0);return t}function _8(e){if(!e.extHealingStats||!e.extHealingStats.outgoingHealingAllies)return 0;let t=0;for(const n of e.extHealingStats.outgoingHealingAllies)if(n)for(const r of n)r&&(t+=r.healing||0);return t}const F8=e=>{var t,n,r,a;return(((n=(t=e.support)==null?void 0:t[0])==null?void 0:n.condiCleanse)||0)+(((a=(r=e.support)==null?void 0:r[0])==null?void 0:a.condiCleanseSelf)||0)},L8=(e,t=C1)=>{var n;const r=(n=e.support)==null?void 0:n[0],a=Number((r==null?void 0:r.boonStrips)??0),i=Number((r==null?void 0:r.boonStripsTime)??0);return xO(a,i,t)},R8=e=>D8(e),$8=e=>_8(e),z8=e=>I8(e),B8=(e,t=C1)=>T8(e,t),U8=(e,t)=>O8(e,t),V8="count",wO={downContribution:1,healing:1,cleanses:1,strips:1,stability:1,cc:.7,revives:.7,distanceToTag:.7,participation:.7,dodging:.4,dps:.2,damage:.2},Gb={showTopStats:!0,showMvp:!0,roundCountStats:!1,topStatsMode:"total",topSkillDamageSource:"target",topSkillsMetric:"damage"},H8={uploading:!1,message:null,url:null,buildStatus:"idle"},ZN=new Map([["bleeding","Bleeding"],["burning","Burning"],["confusion","Confusion"],["poison","Poison"],["torment","Torment"],["vulnerability","Vulnerability"],["weakness","Weakness"],["weakened","Weakness"],["blind","Blind"],["blinded","Blind"],["blinding","Blind"],["cripple","Cripple"],["crippled","Cripple"],["chill","Chill"],["chilled","Chill"],["immob","Immobilize"],["immobile","Immobilize"],["immobilized","Immobilize"],["slow","Slow"],["slowed","Slow"],["fear","Fear"],["feared","Fear"],["taunt","Taunt"],["taunted","Taunt"]]),kO={Blind:"https://render.guildwars2.com/file/09770136BB76FD0DBE1CC4267DEED54774CB20F6/102837.png",Chill:"https://render.guildwars2.com/file/28C4EC547A3516AF0242E826772DA43A5EAC3DF3/102839.png",Cripple:"https://render.guildwars2.com/file/070325E519C178D502A8160523766070D30C0C19/102838.png",Fear:"https://render.guildwars2.com/file/30307A6E766D74B6EB09EDA12A4A2DE50E4D76F4/102869.png",Immobilize:"https://render.guildwars2.com/file/397A613651BFCA2832B6469CE34735580A2C120E/102844.png",Slow:"https://render.guildwars2.com/file/F60D1EF5271D7B9319610855676D320CD25F01C6/961397.png",Taunt:"https://render.guildwars2.com/file/02EED459AD65FAF7DF32A260E479C625070841B9/1228472.png",Vulnerability:"https://render.guildwars2.com/file/3A394C1A0A3257EB27A44842DDEEF0DF000E1241/102850.png",Weakness:"https://render.guildwars2.com/file/6CB0E64AF9AA292E332A38C1770CE577E2CDE0E8/102853.png"},mm=e=>{if(e)return kO[e]},Pf=e=>{if(!e)return null;const t=e.trim().toLowerCase(),n=ZN.get(t);if(n)return n;const r=t.split(/[^a-z]+/).filter(Boolean);for(const a of r){const i=ZN.get(a);if(i)return i}return null},Qc=e=>Pf(e),SO=e=>{const t=new Map;return e&&(Object.values(e).forEach(n=>{if(!(n!=null&&n.icon)||!(n!=null&&n.name))return;const r=Pf(n.name);r&&(t.has(r)||t.set(r,n.icon))}),Object.entries(kO).forEach(([n,r])=>{t.has(n)||t.set(n,r)})),t},Jm=(e,t,n)=>{var r;if(t&&n){const a=(r=n[`b${t}`])==null?void 0:r.name,i=Pf(a);if(i)return i}return e?Pf(e):null},W8=e=>{const t=(e==null?void 0:e.account)||"Unknown";return t&&t!=="Unknown"?t:(e==null?void 0:e.name)||"Unknown"},q8=e=>{if(!e||e.length===0)return 0;let t=0,n=null;return e.forEach(r=>{const a=Number(r[1]??0);if(Number.isFinite(a)){if(n===null){n=a;return}a>n&&(t+=a-n),n=a}}),t},K8=e=>{if(!e||e.length===0)return 0;let t=0;return e.forEach(n=>{const r=Number(n[0]??0),a=Number(n[1]??0);Number.isFinite(a)&&r!==0&&a>0&&(t+=1)}),t},Y8=e=>{const{players:t,targets:n,skillMap:r,buffMap:a}=e,i=e.getPlayerKey||W8,o=SO(a),s={},l={};t.forEach(m=>{if(m!=null&&m.notInSquad)return;const h=i(m);h&&(s[h]||(s[h]={}),m!=null&&m.totalDamageDist&&m.totalDamageDist.forEach(y=>{y&&y.forEach(x=>{if(!x.id)return;let g=`Skill ${x.id}`,b;r&&(r[`s${x.id}`]?(g=r[`s${x.id}`].name||g,b=r[`s${x.id}`].icon||b):r[`${x.id}`]&&(g=r[`${x.id}`].name||g,b=r[`${x.id}`].icon||b));const w=Jm(g,x.id,a);if(!w)return;const S=a==null?void 0:a[`b${x.id}`],C=S==null?void 0:S.name,N=o.get(w)||(S==null?void 0:S.icon),M=g.startsWith("Skill ")?C||w:g,O=b||(S==null?void 0:S.icon),R=Number(x.connectedHits??0),P=Number(x.hits??0),_=R>0?R:P,I=Number(x.totalDamage??0);if(!Number.isFinite(_)&&!Number.isFinite(I))return;const Q=l[w]||{name:w,icon:N,applications:0,damage:0};Q.applications+=Number.isFinite(_)?_:0,Q.damage+=Number.isFinite(I)?I:0,!Q.icon&&N&&(Q.icon=N),l[w]=Q;const J=s[h][w]||{icon:N,applications:0,damage:0,skills:{}};J.applications+=Number.isFinite(_)?_:0,J.damage+=Number.isFinite(I)?I:0;const re=J.skills[M]||{name:M,hits:0,damage:0,icon:O};re.hits+=Number.isFinite(_)?_:0,re.damage+=Number.isFinite(I)?I:0,!re.icon&&O&&(re.icon=O),J.skills[M]=re,!J.icon&&N&&(J.icon=N),s[h][w]=J})}))});const c=new Map;t.forEach(m=>{if(m!=null&&m.notInSquad)return;const h=i(m);h&&m!=null&&m.name&&c.set(m.name,h)});let d=0,f=0,p=0;return n.forEach(m=>{m!=null&&m.buffs&&m.buffs.forEach(h=>{const y=Number(h==null?void 0:h.id);if(!Number.isFinite(y))return;const x=a==null?void 0:a[`b${y}`],g=Pf(x==null?void 0:x.name);if(!g||x!=null&&x.classification&&x.classification!=="Condition")return;const b=g;if(!b)return;const w=h.statesPerSource||{};p+=1,Object.entries(w).forEach(([S,C])=>{var N;const M=c.get(S);if(!M)return;f+=1;const O=q8(C),R=K8(C);d+=O;const P=((N=s[M])==null?void 0:N[b])||{applications:0,damage:0,skills:{}};P.applicationsFromBuffs=(P.applicationsFromBuffs||0)+O,P.applicationsFromBuffsActive=(P.applicationsFromBuffsActive||0)+R,s[M]=s[M]||{},s[M][b]=P;const _=l[b]||{name:b,applications:0,damage:0};_.applicationsFromBuffs=(_.applicationsFromBuffs||0)+O,_.applicationsFromBuffsActive=(_.applicationsFromBuffsActive||0)+R,l[b]=_})})}),Object.values(s).forEach(m=>{Object.values(m).forEach(h=>{typeof h.applicationsFromBuffs=="number"&&(h.applications=h.applicationsFromBuffs)})}),Object.values(l).forEach(m=>{typeof m.applicationsFromBuffs=="number"&&(m.applications=m.applicationsFromBuffs)}),{playerConditions:s,summary:l,meta:{buffStateApplicationsTotal:d,targetBuffEntriesSeen:p,buffStateSourcesSeen:f}}},Ef={Guardian:"#72C1D9",Dragonhunter:"#72C1D9",Firebrand:"#72C1D9",Willbender:"#72C1D9",Revenant:"#D16E5A",Herald:"#D16E5A",Renegade:"#D16E5A",Vindicator:"#D16E5A",Warrior:"#FFD166",Berserker:"#FFD166",Spellbreaker:"#FFD166",Bladesworn:"#FFD166",Engineer:"#D09C59",Scrapper:"#D09C59",Holosmith:"#D09C59",Mechanist:"#D09C59",Ranger:"#8CDC82",Druid:"#8CDC82",Soulbeast:"#8CDC82",Untamed:"#8CDC82",Thief:"#C08F95",Daredevil:"#C08F95",Deadeye:"#C08F95",Specter:"#C08F95",Elementalist:"#F68A87",Tempest:"#F68A87",Weaver:"#F68A87",Catalyst:"#F68A87",Mesmer:"#B679D5",Chronomancer:"#B679D5",Mirage:"#B679D5",Virtuoso:"#B679D5",Necromancer:"#52A76F",Reaper:"#52A76F",Scourge:"#52A76F",Harbinger:"#52A76F",Ritualist:"#52A76F",Luminary:"#72C1D9",Conduit:"#D16E5A",Paragon:"#FFD166",Amalgam:"#D09C59",Galeshot:"#8CDC82",Antiquary:"#C08F95",Evoker:"#F68A87",Troubadour:"#B679D5",Unknown:"#64748B"},G8={Guardian:"Guardian",Dragonhunter:"Guardian",Firebrand:"Guardian",Willbender:"Guardian",Revenant:"Revenant",Herald:"Revenant",Renegade:"Revenant",Vindicator:"Revenant",Warrior:"Warrior",Berserker:"Warrior",Spellbreaker:"Warrior",Bladesworn:"Warrior",Engineer:"Engineer",Scrapper:"Engineer",Holosmith:"Engineer",Mechanist:"Engineer",Ranger:"Ranger",Druid:"Ranger",Soulbeast:"Ranger",Untamed:"Ranger",Thief:"Thief",Daredevil:"Thief",Deadeye:"Thief",Specter:"Thief",Elementalist:"Elementalist",Tempest:"Elementalist",Weaver:"Elementalist",Catalyst:"Elementalist",Mesmer:"Mesmer",Chronomancer:"Mesmer",Mirage:"Mesmer",Virtuoso:"Mesmer",Necromancer:"Necromancer",Reaper:"Necromancer",Scourge:"Necromancer",Harbinger:"Necromancer",Ritualist:"Necromancer",Luminary:"Guardian",Conduit:"Revenant",Paragon:"Warrior",Amalgam:"Engineer",Galeshot:"Ranger",Antiquary:"Thief",Evoker:"Elementalist",Troubadour:"Mesmer",Unknown:"Unknown"};function sc(e){return Ef[e]||Ef.Unknown}function X8(e){return e?G8[e]||e:"Unknown"}function Ql(e){if(!e)return null;const t=typeof window<"u"&&/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/")?"/svg/class-icons":"./svg/class-icons",n=Ef[e]?e:null;if(n&&n!=="Unknown")return`${t}/${n}.svg`;const r=X8(e);return r&&r!=="Unknown"?`${t}/${r}.svg`:null}const J8=e=>{if(e==null||e==="")return 0;if(typeof e=="number")return!Number.isFinite(e)||e<=0?0:e>1e12?e:e*1e3;if(e instanceof Date){const o=e.getTime();return Number.isFinite(o)&&o>0?o:0}const t=String(e).trim();if(!t)return 0;const n=Number(t);if(Number.isFinite(n)&&n>0)return n>1e12?n:n*1e3;const r=Date.parse(t);if(Number.isFinite(r)&&r>0)return r;const a=t.replace(/([+-]\d{2})$/,"$1:00"),i=Date.parse(a);return Number.isFinite(i)&&i>0?i:0},Ka=(e,t)=>J8((e==null?void 0:e.uploadTime)??(t==null?void 0:t.uploadTime)??(e==null?void 0:e.timeStartStd)??(e==null?void 0:e.timeStart)??(e==null?void 0:e.timeEndStd)??(e==null?void 0:e.timeEnd)??(e==null?void 0:e.timeStartText)??(e==null?void 0:e.timeEndText)),ev=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:a})=>{const i=e.filter(f=>f.details&&f.details.players&&f.details.players.length>0),o=r||Gb,s=n||wO,l=f=>{if(!f||typeof f!="object")return f;const p=Array.isArray(f.fightBreakdown)?f.fightBreakdown:null;if(!p||p.length===0)return f;const m=g=>Array.isArray(g)&&g.some(b=>b&&Number(b.count)>0),h=new Map,y=new Map;e.forEach(g=>{var b;const w=(g==null?void 0:g.filePath)||(g==null?void 0:g.id);w&&h.set(String(w),g);const S=(g==null?void 0:g.permalink)||((b=g==null?void 0:g.details)==null?void 0:b.permalink);typeof S=="string"&&S.trim()&&y.set(S.trim(),g)});const x=p.map(g=>{var b;if(!g||typeof g!="object")return g;const w=g.id?String(g.id):"",S=typeof g.permalink=="string"?g.permalink.trim():"",C=(w?h.get(w):void 0)||(S?y.get(S):void 0);if(!C)return g;let N=g;if(Number(g.timestamp)<=0){const O=Ka(C==null?void 0:C.details,C);O&&(N={...N,timestamp:O})}const M=(b=C==null?void 0:C.details)==null?void 0:b.teamBreakdown;return m(M)&&(N={...N,teamBreakdown:M}),N});return{...f,fightBreakdown:x}},c=(()=>{if(t)return l(t);const f=a||V8,p=o.topSkillDamageSource||"target",m=o.topSkillsMetric||"damage",h=i.length;let y=0,x=0,g=0,b=0,w=0,S=0,C=0,N=0;const M=T=>{const V=((T==null?void 0:T.players)||[]).filter(Oe=>!Oe.notInSquad);let ae=0,Me=0,X=0,Pe=0;return V.forEach(Oe=>{var ft;const wt=(ft=Oe.defenses)==null?void 0:ft[0];if(!wt)return;const gt=Number(wt.downCount||0),Bt=Number(wt.deadCount||0);ae+=gt+Bt,X+=Bt}),V.forEach(Oe=>{!Oe.statsTargets||Oe.statsTargets.length===0||Oe.statsTargets.forEach(ft=>{const wt=ft==null?void 0:ft[0];if(!wt)return;const gt=Number(wt.downed||0),Bt=Number(wt.killed||0);Me+=gt+Bt,Pe+=Bt})}),{squadDownsDeaths:ae,enemyDownsDeaths:Me,squadDeaths:X,enemyDeaths:Pe}},O=T=>{const{squadDownsDeaths:V,enemyDownsDeaths:ae}=M(T);return V>0||ae>0?ae>V:typeof(T==null?void 0:T.success)=="boolean"?T.success:!1},R=new Map,P=new Set(["boonStripsTime","condiCleanseTime","condiCleanseTimeSelf"]),_={},I={},Q=new Map,J={},re={},he={},B=new Map,$=new Map,te=new Set(Object.keys(Ef)),k=Object.keys(Ef).filter(T=>T&&T!=="Unknown").sort((T,V)=>V.length-T.length),E=["Guardian","Revenant","Warrior","Engineer","Ranger","Thief","Elementalist","Mesmer","Necromancer"],A=T=>{if(!T)return"Unknown";const V=String(T).replace(/\s*\([^)]*\)\s*$/,"").replace(/\s*\[[^\]]*\]\s*$/,"").replace(/\s\d+$/,"").trim();if(te.has(V))return V;const ae=V.toLowerCase();for(const Me of k)if(ae.includes(Me.toLowerCase()))return Me;return E.find(Me=>ae.includes(Me.toLowerCase()))||V||"Unknown"},j=T=>T!=null&&T.classification?T.classification==="Boon":!0,z=new Map,Y=new Map,W=()=>({totalHits:0,blocked:0,evaded:0,glanced:0,missed:0,invulned:0,interrupted:0,totalMitigation:0,minMitigation:0}),q=T=>{const V=Number(T);return Number.isFinite(V)?V:0},G=T=>{const V=String(T).split("|"),ae=V[0]||"Unknown",Me=A(V[1]||"Unknown"),X=V[2]||ae||"Unknown";return{name:ae,profession:Me,account:X}},D=(T,V,ae)=>{let Me=T.get(V);return Me?ae.profession&&!Me.professionList.includes(ae.profession)&&Me.professionList.push(ae.profession):(Me={account:ae.account,name:ae.name,profession:ae.profession,professionList:ae.profession?[ae.profession]:[],activeMs:0,mitigationTotals:W()},T.set(V,Me)),Me},ee=(T,V,ae)=>{let Me=T.get(V);return Me?ae.profession&&!Me.professionList.includes(ae.profession)&&Me.professionList.push(ae.profession):(Me={account:ae.account,name:ae.name,profession:ae.profession,professionList:ae.profession?[ae.profession]:[],activeMs:0,mitigationTotals:W(),minion:ae.minion},T.set(V,Me)),Me},fe=(T,V)=>{T.totalHits+=q((V==null?void 0:V.skill_hits)??(V==null?void 0:V.skillHits)),T.blocked+=q(V==null?void 0:V.blocked),T.evaded+=q(V==null?void 0:V.evaded),T.glanced+=q(V==null?void 0:V.glanced),T.missed+=q(V==null?void 0:V.missed),T.invulned+=q(V==null?void 0:V.invulned),T.interrupted+=q(V==null?void 0:V.interrupted),T.totalMitigation+=q((V==null?void 0:V.avoided_damage)??(V==null?void 0:V.avoidedDamage)),T.minMitigation+=q((V==null?void 0:V.min_avoided_damage)??(V==null?void 0:V.minAvoidedDamage))},L=T=>Object.values(T).some(V=>V>0),ne=(T,V,ae)=>{var Me,X,Pe,Oe;const ft=`s${T}`;if((Me=V==null?void 0:V[ft])!=null&&Me.name)return V[ft].name;if((X=V==null?void 0:V[String(T)])!=null&&X.name)return V[String(T)].name;const wt=`b${T}`;return(Pe=ae==null?void 0:ae[wt])!=null&&Pe.name?ae[wt].name:(Oe=ae==null?void 0:ae[String(T)])!=null&&Oe.name?ae[String(T)].name:`Unknown Skill ${T}`},U=new Map,F=T=>{const V=U.get(T);if(!V)return{hasSkill:!1,avg:1,min:1,hits:0};const ae=V.connectedHits||0,Me=ae>0?V.totalDamage/ae:0,X=V.minCount>0?V.minTotal/V.minCount:0;return{hasSkill:!0,avg:Me,min:X,hits:ae}},se="Ashtonlightstone.9145",ye="Illusionary Warden",Ye=[],le=[],Ve=[],De=[],pt=new Map,Ht=new Map,yn=(T,V,ae)=>{const Me=T.get(V)||W();return Me.totalHits+=ae.totalHits,Me.blocked+=ae.blocked,Me.evaded+=ae.evaded,Me.glanced+=ae.glanced,Me.missed+=ae.missed,Me.invulned+=ae.invulned,Me.interrupted+=ae.interrupted,T.set(V,Me),Me};i.forEach(T=>{const V=T.details;V&&(V.targets||[]).forEach(ae=>{const Me=(ae==null?void 0:ae.totalDamageDist)||[],X=Array.isArray(Me)?Me[0]:null;X==null||X.forEach(Pe=>{if(!(Pe!=null&&Pe.id))return;const Oe=Number(Pe.id),ft=U.get(Oe)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};ft.totalDamage+=Number(Pe.totalDamage||0),ft.connectedHits+=Number(Pe.connectedHits||0);const wt=Number.isFinite(Number(Pe.min))?Number(Pe.min):0;ft.minTotal+=wt,ft.minCount+=1,U.set(Oe,ft)})})}),i.forEach((T,V)=>{var ae,Me;const X=T.details;if(!X)return;const Pe=X.players,Oe=X.targets||[],ft=X.skillMap||{},wt=X.buffMap||{},gt=new Map,Bt=new Map;Oe.forEach(Z=>{const Ue=(Z==null?void 0:Z.totalDamageDist)||[],He=Array.isArray(Ue)?Ue[0]:null;He==null||He.forEach(Ct=>{var xe;if(!(Ct!=null&&Ct.id))return;const Qe=Number(Ct.id),yt=((xe=ft==null?void 0:ft[Qe])==null?void 0:xe.name)||Ct.name||Ct.skillName||String(Qe),et=gt.get(Qe)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};et.totalDamage+=Number(Ct.totalDamage||0),et.connectedHits+=Number(Ct.connectedHits||0);const at=Number.isFinite(Number(Ct.min))?Number(Ct.min):0;et.minTotal+=at,et.minCount+=1,gt.set(Qe,et);const Vt=Bt.get(yt)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};Vt.totalDamage+=Number(Ct.totalDamage||0),Vt.connectedHits+=Number(Ct.connectedHits||0);const ht=Number.isFinite(Number(Ct.min))?Number(Ct.min):0;Vt.minTotal+=ht,Vt.minCount+=1,Bt.set(yt,Vt)})});const Mn=Z=>{const Ue=gt.get(Z);if(!Ue||Ue.connectedHits<=0)return{avg:1,min:1};const He=Ue.connectedHits>0?Ue.totalDamage/Ue.connectedHits:0,Ct=Ue.minCount>0?Ue.minTotal/Ue.minCount:He;return{avg:He||1,min:Ct||1}},Dn=Z=>{const Ue=Bt.get(Z);if(!Ue||Ue.connectedHits<=0)return{avg:1,min:1};const He=Ue.connectedHits>0?Ue.totalDamage/Ue.connectedHits:0,Ct=Ue.minCount>0?Ue.minTotal/Ue.minCount:He;return{avg:He||1,min:Ct||1}},Je=X.combatReplayMetaData||{},Xe=(Je==null?void 0:Je.inchToPixel)>0?Je.inchToPixel:1,mt=(Je==null?void 0:Je.pollingRate)>0?Je.pollingRate:1,Ut=5e3,Gt=Z=>Array.isArray(Z)?Z.map(Ue=>Array.isArray(Ue)?[Number(Ue[0]),Number(Ue[1])]:null).filter(Ue=>!!Ue&&Number.isFinite(Ue[0])):[];let ve=[],Ne=X.durationMS||0,Se=!1;const Fe=Pe.find(Z=>(Z==null?void 0:Z.hasCommanderTag)&&!(Z!=null&&Z.notInSquad));(ae=Fe==null?void 0:Fe.combatReplayData)!=null&&ae.positions&&(ve=Fe.combatReplayData.positions,Gt(Fe.combatReplayData.dead).forEach(([Z])=>{Z>0&&(Se=!0,Ne=Math.min(Ne,Z))}));const me=Z=>{var Ue;const He=(Ue=Z.statsAll)==null?void 0:Ue[0];if((He==null?void 0:He.distToCom)!==void 0&&(He==null?void 0:He.distToCom)!=="Infinity")return Math.round(Number(He.distToCom));if((He==null?void 0:He.stackDist)!==void 0)return Math.round(Number(He.stackDist))||0;if(Z.hasCommanderTag)return 0;const Ct=Z.combatReplayData;if(!(Ct!=null&&Ct.positions)||!ve.length)return 0;const xe=Ct.positions,Qe=Gt(Ct.dead),yt=Gt(Ct.down),et=Math.floor((Ct.start||0)/mt);let at=0;if(Qe.length&&yt.length)for(const[Vt]of Qe){if(Vt<0)continue;const ht=Math.max(0,Math.floor(Vt/mt))-et;for(const[tt,$t]of yt){if(Vt!==$t)continue;const vt=Se&&tt>Ne?Math.max(1,Math.floor(Ne/mt)):ht,rn=Math.max(0,Math.min(vt,xe.length,ve.length));if(rn<=0)continue;let At=0;for(let Mt=0;Mt<rn;Mt++){const[Te,ge]=xe[Mt],[bt,jt]=ve[Mt];At+=Math.hypot(Te-bt,ge-jt)}at=Math.round(At/rn/Xe)}}return at},je=Pe.filter(Z=>!Z.notInSquad);g+=je.length,b+=Oe.filter(Z=>!Z.isFake).length,U8(Pe,{durationMS:X.durationMS,buffMap:X.buffMap});const{squadDeaths:Le,enemyDeaths:lt}=M(X);w+=Le,S+=lt,N+=Le,C+=lt,O(X)?y++:x++;const ct=X.skillMap?Number((Me=Object.keys(X.skillMap).find(Z=>{var Ue,He;return((He=(Ue=X.skillMap)==null?void 0:Ue[Z])==null?void 0:He.name)==="Battle Standard"}))==null?void 0:Me.replace(/^s/,"")):null;Pe.forEach((Z,Ue)=>{var He,Ct,xe,Qe,yt,et,at,Vt,ht,tt,$t,vt,rn;if(Z.notInSquad)return;const At=Z.account||"Unknown",Mt=At!=="Unknown"?At:Z.name||"Unknown",Te=Z.name||"Unknown";R.has(Mt)||R.set(Mt,{name:Te,account:Mt,characterNames:new Set,downContrib:0,cleanses:0,strips:0,stab:0,healing:0,barrier:0,cc:0,logsJoined:0,totalDist:0,distCount:0,dodges:0,downs:0,deaths:0,totalFightMs:0,offenseTotals:{},offenseRateWeights:{},defenseActiveMs:0,defenseTotals:{},supportActiveMs:0,supportTotals:{},healingActiveMs:0,healingTotals:{},profession:Z.profession||"Unknown",professions:new Set,professionTimeMs:{},squadActiveMs:0,firstSeenFightTs:0,lastSeenFightTs:0,lastSeenFightDurationMs:0,isCommander:!1,damage:0,dps:0,revives:0,outgoingConditions:{},incomingConditions:{}});const ge=R.get(Mt);if(Z.hasCommanderTag&&(ge.isCommander=!0),Te!=="Unknown"&&ge.characterNames.add(String(Te)),Z.profession&&Z.profession!=="Unknown"){ge.profession=Z.profession,ge.professions.add(Z.profession);const Ee=Array.isArray(Z.activeTimes)&&typeof Z.activeTimes[0]=="number"?Z.activeTimes[0]:X.durationMS||0;ge.professionTimeMs[Z.profession]=(ge.professionTimeMs[Z.profession]||0)+Ee}ge.logsJoined++,ge.downContrib+=R8(Z),ge.cleanses+=F8(Z),ge.strips+=L8(Z,f),ge.healing+=$8(Z),ge.barrier+=z8(Z),ge.cc+=B8(Z,f),ge.stab+=Z.stabGeneration||0;const bt=me(Z);bt<=Ut&&(ge.totalDist+=bt,ge.distCount++),(He=Z.defenses)!=null&&He[0]&&(ge.dodges+=Z.defenses[0].dodgeCount||0,ge.downs+=Z.defenses[0].downCount||0,ge.deaths+=Z.defenses[0].deadCount||0),X.durationMS&&(ge.totalFightMs+=X.durationMS);const jt=Array.isArray(Z.activeTimes)&&typeof Z.activeTimes[0]=="number"?Z.activeTimes[0]:X.durationMS||0;ge.squadActiveMs+=jt;const tn=Ka(X,T),ln=Number((X==null?void 0:X.durationMS)||0);tn>0&&((ge.firstSeenFightTs<=0||tn<ge.firstSeenFightTs)&&(ge.firstSeenFightTs=tn),ge.lastSeenFightTs<=0||tn>ge.lastSeenFightTs?(ge.lastSeenFightTs=tn,ge.lastSeenFightDurationMs=ln):tn===ge.lastSeenFightTs&&ln>ge.lastSeenFightDurationMs&&(ge.lastSeenFightDurationMs=ln)),ge.defenseActiveMs+=jt,ge.supportActiveMs+=jt,ge.healingActiveMs+=jt,Array.isArray(Z.buffUptimes)&&Z.buffUptimes.length>0&&Z.buffUptimes.forEach(Ee=>{var Ke,rt,Rt,Sn,er,Nn;if(typeof(Ee==null?void 0:Ee.id)!="number")return;const Kn=`b${Ee.id}`,cn=((Ke=X.buffMap)==null?void 0:Ke[Kn])||((rt=X.buffMap)==null?void 0:rt[String(Ee.id)]);if(!cn||j(cn))return;const gr=Number(((Sn=(Rt=Ee.buffData)==null?void 0:Rt[0])==null?void 0:Sn.uptime)??0),wo=Number(((Nn=(er=Ee.buffData)==null?void 0:er[0])==null?void 0:Nn.presence)??0);if((!Number.isFinite(gr)||gr<=0)&&(!Number.isFinite(wo)||wo<=0))return;const si=(cn==null?void 0:cn.stacking)??!1,li=(si?Number.isFinite(gr)?gr:0:Number.isFinite(gr)?gr/100:0)*jt,Hp=si?wo:gr,Tl=Math.min(Math.max(Number.isFinite(Hp)?Hp:0,0),100)/100*jt,Ki=Number.isFinite(li)&&li>0,Wp=Number.isFinite(Tl)&&Tl>0;if(!Ki&&!Wp)return;const zn=Qc(cn==null?void 0:cn.name);if(zn&&Qz.has(zn)&&(!(cn!=null&&cn.classification)||cn.classification==="Condition")){const Oa=li/1e3,Ha=cn==null?void 0:cn.icon,ko=J[zn]||{name:zn,icon:Ha,applications:0,damage:0};ko.applicationsFromUptime=(ko.applicationsFromUptime||0)+Oa,!ko.icon&&Ha&&(ko.icon=Ha),J[zn]=ko;const Ko=ge.outgoingConditions[zn]||{applications:0,damage:0,skills:{},icon:Ha};Ko.applicationsFromUptime=(Ko.applicationsFromUptime||0)+Oa,!Ko.icon&&Ha&&(Ko.icon=Ha),ge.outgoingConditions[zn]=Ko;const Ol=re[zn]||{name:zn,icon:Ha,applications:0,damage:0};Ol.applicationsFromUptime=(Ol.applicationsFromUptime||0)+Oa,!Ol.icon&&Ha&&(Ol.icon=Ha),re[zn]=Ol;const Dl=ge.incomingConditions[zn]||{applications:0,damage:0,skills:{},icon:Ha};Dl.applicationsFromUptime=(Dl.applicationsFromUptime||0)+Oa,!Dl.icon&&Ha&&(Dl.icon=Ha),ge.incomingConditions[zn]=Dl}B.has(Kn)||B.set(Kn,{name:cn==null?void 0:cn.name,stacking:si,icon:cn==null?void 0:cn.icon}),$.has(Kn)||$.set(Kn,new Map);const ya=$.get(Kn),qo=ge.account||Z.account||Z.name||"Unknown";let Ci=ya.get(qo);Ci||(Ci={account:qo,profession:ge.profession||Z.profession||"Unknown",professions:new Set,professionTimeMs:{},totalMs:0,uptimeMs:0,durationMs:0},ya.set(qo,Ci));const Ls=Z.profession||ge.profession;Ls&&Ls!=="Unknown"&&(Ci.professions.add(Ls),Ci.professionTimeMs[Ls]=(Ci.professionTimeMs[Ls]||0)+jt,Ci.profession=Ls),Ci.totalMs+=Ki?li:0,Ci.uptimeMs+=Wp?Tl:0,Ci.durationMs+=jt}),(Ct=Z.defenses)!=null&&Ct[0]&&QT.forEach(Ee=>{const Ke=Number(Z.defenses[0][Ee.field]??0);Number.isFinite(Ke)&&(ge.defenseTotals[Ee.id]=(ge.defenseTotals[Ee.id]||0)+Ke)}),(xe=Z.support)!=null&&xe[0]&&ZT.forEach(Ee=>{let Ke=Number(Z.support[0][Ee.field]??0);Number.isFinite(Ke)&&(P.has(Ee.field)&&Ke>999999&&(Ke=0),ge.supportTotals[Ee.id]=(ge.supportTotals[Ee.id]||0)+Ke)});const Ar=(Ee,Ke)=>{Number.isFinite(Ke)&&(ge.healingTotals[Ee]=(ge.healingTotals[Ee]||0)+Ke)},ea=(Ee,Ke)=>Array.isArray(Ee)?Ee.reduce((rt,Rt)=>rt+Number((Rt==null?void 0:Rt[Ke])??0),0):0,ji=(Ee,Ke,rt)=>{if(!Number.isFinite(rt)||rt<=0)return;const Rt=Pe[Ke],Sn=Ke===Ue,er=Rt==null?void 0:Rt.notInSquad,Nn=!er,Kn=Nn&&(Rt==null?void 0:Rt.group)!=null&&Rt.group===Z.group;Ar(Ee,rt),Nn&&Ar(`squad${Ee[0].toUpperCase()}${Ee.slice(1)}`,rt),Kn&&Ar(`group${Ee[0].toUpperCase()}${Ee.slice(1)}`,rt),Sn&&Ar(`self${Ee[0].toUpperCase()}${Ee.slice(1)}`,rt),er&&Ar(`offSquad${Ee[0].toUpperCase()}${Ee.slice(1)}`,rt)};if(Array.isArray(Z.rotation)){let Ee=0;Z.rotation.forEach(Ke=>{var rt;if(!(Ke!=null&&Ke.id)||!rB(Ke.id,X.skillMap))return;const Rt=((rt=Ke.skills)==null?void 0:rt.length)||0;Rt>0&&(Ee+=Rt,Ar(`resUtility_s${Ke.id}`,Rt))}),Ee>0&&Ar("resUtility",Ee)}const la=(Qe=Z.extHealingStats)==null?void 0:Qe.outgoingHealingAllies;Array.isArray(la)&&la.forEach((Ee,Ke)=>{const rt=ea(Ee,"healing"),Rt=ea(Ee,"downedHealing");ji("healing",Ke,rt),ji("downedHealing",Ke,Rt)});const Is=(yt=Z.extBarrierStats)==null?void 0:yt.outgoingBarrierAllies;Array.isArray(Is)&&Is.forEach((Ee,Ke)=>{const rt=ea(Ee,"barrier");ji("barrier",Ke,rt)});const _s=(et=Z.statsAll)==null?void 0:et[0],vo=(at=Z.dpsAll)==null?void 0:at[0],bo=(Vt=Z.support)==null?void 0:Vt[0];if(JT.forEach(Ee=>{if(Ee.id==="downContributionPercent"||!Ee.field)return;let Ke=0,rt=0;Ee.source==="dpsAll"&&vo?Ke=Number(vo[Ee.field]??0):Ee.source==="statsAll"&&_s?(Ke=Number(_s[Ee.field]??0),rt=Number(_s[Ee.denomField||Ee.weightField||"connectedDamageCount"]??0)):Ee.source==="support"&&bo?Ke=Number(bo[Ee.field]??0):Z.statsTargets&&Z.statsTargets.forEach(Rt=>{Rt!=null&&Rt[0]&&(Ke+=Number(Rt[0][Ee.field]??0),rt+=Number(Rt[0][Ee.denomField||Ee.weightField||"connectedDamageCount"]??0))}),Number.isFinite(Ke)&&(ge.offenseTotals[Ee.id]=(ge.offenseTotals[Ee.id]||0)+Ke,Ee.isRate&&rt>0&&(ge.offenseRateWeights[Ee.id]=(ge.offenseRateWeights[Ee.id]||0)+rt))}),Z.targetDamageDist&&Number.isFinite(ct)){const Ee=Z.targetDamageDist.flatMap(Ke=>Ke||[]).flatMap(Ke=>Ke||[]).reduce((Ke,rt)=>rt!=null&&rt.id&&rt.id===ct?Ke+((rt==null?void 0:rt.connectedHits)||0):Ke,0);ge.offenseTotals.battleStandardHits=(ge.offenseTotals.battleStandardHits||0)+Ee}ge.revives+=((tt=(ht=Z.support)==null?void 0:ht[0])==null?void 0:tt.resurrects)||0,vo&&(ge.damage+=vo.damage||0,ge.dps+=vo.dps||0);const Lc=Ee=>{var Ke,rt,Rt,Sn;let er=`Skill ${Ee.id}`;const Nn=((Ke=X.skillMap)==null?void 0:Ke[`s${Ee.id}`])||((rt=X.skillMap)==null?void 0:rt[`${Ee.id}`]);let Kn=Nn==null?void 0:Nn.icon;if(Nn!=null&&Nn.name&&(er=Nn.name),er.startsWith("Skill ")){const cn=Jm(er,Ee.id,X.buffMap);cn&&(er=cn,Kn=((Sn=(Rt=X.buffMap)==null?void 0:Rt[`b${Ee.id}`])==null?void 0:Sn.icon)||Kn)}return{name:er,icon:Kn}},Rc=Ee=>{if(!(Ee!=null&&Ee.id))return;const{name:Ke,icon:rt}=Lc(Ee);_[Ee.id]||(_[Ee.id]={name:Ke,icon:rt,damage:0,hits:0,downContribution:0}),_[Ee.id].name.startsWith("Skill ")&&!Ke.startsWith("Skill ")&&(_[Ee.id].name=Ke),!_[Ee.id].icon&&rt&&(_[Ee.id].icon=rt),_[Ee.id].damage+=Ee.totalDamage,_[Ee.id].hits+=Ee.connectedHits,_[Ee.id].downContribution+=Number(Ee.downContribution||0)},$c=Z.account||Z.name||"Unknown",Ta=Z.profession||"Unknown",Fs=`${$c}|${Ta}`;let xo=Q.get(Fs);xo||(xo={key:Fs,account:$c,displayName:$c,profession:Ta,professionList:[Ta],totalFightMs:0,skills:new Map},Q.set(Fs,xo)),xo.professionList.includes(Ta)||xo.professionList.push(Ta),xo.totalFightMs+=X.durationMS||0;const zc=Ee=>{if(!(Ee!=null&&Ee.id))return;const{name:Ke,icon:rt}=Lc(Ee),Rt=`s${Ee.id}`;let Sn=xo.skills.get(Rt);Sn||(Sn={id:Rt,name:Ke,icon:rt,damage:0,downContribution:0},xo.skills.set(Rt,Sn)),Sn.name.startsWith("Skill ")&&!Ke.startsWith("Skill ")&&(Sn.name=Ke),!Sn.icon&&rt&&(Sn.icon=rt),Sn.damage+=Number(Ee.totalDamage||0),Sn.downContribution+=Number(Ee.downContribution||0)};if(p==="total")($t=Z.totalDamageDist)==null||$t.forEach(Ee=>{Ee==null||Ee.forEach(Ke=>{Rc(Ke),zc(Ke)})});else{const Ee=new Map;(vt=Z.targetDamageDist)==null||vt.forEach(Ke=>{Ke==null||Ke.forEach(rt=>{rt==null||rt.forEach(Rt=>{const Sn=Number(Rt==null?void 0:Rt.id);if(Number.isFinite(Sn)){const er=Ee.get(Sn)||{damage:0,hits:0,downContribution:0};er.damage+=Number((Rt==null?void 0:Rt.totalDamage)||0),er.hits+=Number((Rt==null?void 0:Rt.connectedHits)||0),er.downContribution+=Number((Rt==null?void 0:Rt.downContribution)||0),Ee.set(Sn,er)}Rc(Rt),zc(Rt)})})}),!(X!=null&&X.detailedWvW)&&((rn=Z.totalDamageDist)==null||rn.forEach(Ke=>{Ke==null||Ke.forEach(rt=>{const Rt=Number(rt==null?void 0:rt.id);if(!Number.isFinite(Rt))return;const Sn=Ee.get(Rt);if(!Sn){Rc(rt),zc(rt);return}const er=Number((rt==null?void 0:rt.totalDamage)||0),Nn=Number((rt==null?void 0:rt.connectedHits)||0),Kn=Number((rt==null?void 0:rt.downContribution)||0),cn=er-Number(Sn.damage||0),gr=Nn-Number(Sn.hits||0),wo=Kn-Number(Sn.downContribution||0);if(cn<=0&&gr<=0&&wo<=0)return;const si={...rt,totalDamage:Math.max(0,cn),connectedHits:Math.max(0,gr),downContribution:Math.max(0,wo)};Rc(si),zc(si)})}))}Z.totalDamageTaken&&Z.totalDamageTaken.forEach(Ee=>{Ee==null||Ee.forEach(Ke=>{var rt,Rt,Sn,er;if(!(Ke!=null&&Ke.id))return;let Nn=`Skill ${Ke.id}`;const Kn=((rt=X.skillMap)==null?void 0:rt[`s${Ke.id}`])||((Rt=X.skillMap)==null?void 0:Rt[`${Ke.id}`]);let cn=Kn==null?void 0:Kn.icon;if(Kn!=null&&Kn.name&&(Nn=Kn.name),Nn.startsWith("Skill ")){const gr=Jm(Nn,Ke.id,X.buffMap);gr&&(Nn=gr,cn=((er=(Sn=X.buffMap)==null?void 0:Sn[`b${Ke.id}`])==null?void 0:er.icon)||cn)}I[Ke.id]||(I[Ke.id]={name:Nn,icon:cn,damage:0,hits:0}),(!I[Ke.id].name.startsWith("Skill ")||Nn.startsWith("Skill "))&&(I[Ke.id].name=Nn),!I[Ke.id].icon&&cn&&(I[Ke.id].icon=cn),I[Ke.id].damage+=Ke.totalDamage,I[Ke.id].hits+=Ke.hits})})}),Oe.forEach(Z=>{if(Z!=null&&Z.isFake)return;const Ue=A((Z==null?void 0:Z.profession)||(Z==null?void 0:Z.name)||(Z==null?void 0:Z.id));Ue&&(he[Ue]=(he[Ue]||0)+1)});const Re=Y8({players:Pe,targets:Oe,skillMap:X.skillMap,buffMap:X.buffMap,getPlayerKey:Z=>Z.account&&Z.account!=="Unknown"?Z.account:Z.name||null}),mn=SO(X.buffMap);Object.entries(Re.playerConditions).forEach(([Z,Ue])=>{const He=R.get(Z);He&&Object.entries(Ue).forEach(([Ct,xe])=>{const Qe=He.outgoingConditions[Ct]||{applications:0,damage:0,skills:{},icon:xe.icon};Qe.applications+=Number(xe.applications||0),Qe.damage+=Number(xe.damage||0),xe.applicationsFromBuffs&&(Qe.applicationsFromBuffs=(Qe.applicationsFromBuffs||0)+xe.applicationsFromBuffs),xe.applicationsFromBuffsActive&&(Qe.applicationsFromBuffsActive=(Qe.applicationsFromBuffsActive||0)+xe.applicationsFromBuffsActive),Object.entries(xe.skills||{}).forEach(([yt,et])=>{const at=Qe.skills[yt]||{name:et.name,hits:0,damage:0,icon:et.icon};at.hits+=Number(et.hits||0),at.damage+=Number(et.damage||0),!at.icon&&et.icon&&(at.icon=et.icon),Qe.skills[yt]=at}),!Qe.icon&&xe.icon&&(Qe.icon=xe.icon),He.outgoingConditions[Ct]=Qe})}),Object.entries(Re.summary).forEach(([Z,Ue])=>{const He=J[Z]||{name:Ue.name||Z,icon:Ue.icon,applications:0,damage:0};He.applications+=Number(Ue.applications||0),He.damage+=Number(Ue.damage||0),Ue.applicationsFromBuffs&&(He.applicationsFromBuffs=(He.applicationsFromBuffs||0)+Ue.applicationsFromBuffs),Ue.applicationsFromBuffsActive&&(He.applicationsFromBuffsActive=(He.applicationsFromBuffsActive||0)+Ue.applicationsFromBuffsActive),!He.icon&&Ue.icon&&(He.icon=Ue.icon),J[Z]=He}),je.forEach(Z=>{const Ue=Z.account&&Z.account!=="Unknown"?Z.account:Z.name||"Unknown",He=R.get(Ue);!He||!Z.totalDamageTaken||Z.totalDamageTaken.forEach(Ct=>Ct==null?void 0:Ct.forEach(xe=>{var Qe,yt,et,at,Vt,ht;if(!(xe!=null&&xe.id))return;let tt=`Skill ${xe.id}`;const $t=((Qe=X.skillMap)==null?void 0:Qe[`s${xe.id}`])||((yt=X.skillMap)==null?void 0:yt[`${xe.id}`]);$t!=null&&$t.name&&(tt=$t.name);const vt=Jm(tt,xe.id,X.buffMap);if(!vt)return;const rn=(at=(et=X.buffMap)==null?void 0:et[`b${xe.id}`])==null?void 0:at.name,At=mn.get(vt)||((ht=(Vt=X.buffMap)==null?void 0:Vt[`b${xe.id}`])==null?void 0:ht.icon),Mt=($t==null?void 0:$t.icon)||At;tt.startsWith("Skill ")&&(rn||vt)&&(tt=rn||vt);const Te=Number(xe.hits??0),ge=Number(xe.totalDamage??0),bt=re[vt]||{name:vt,icon:At,applications:0,damage:0};bt.applications+=Number.isFinite(Te)?Te:0,bt.damage+=Number.isFinite(ge)?ge:0,!bt.icon&&At&&(bt.icon=At),re[vt]=bt;const jt=He.incomingConditions[vt]||{applications:0,damage:0,skills:{},icon:At};jt.applications+=Number.isFinite(Te)?Te:0,jt.damage+=Number.isFinite(ge)?ge:0;const tn=jt.skills[tt]||{name:tt,hits:0,damage:0,icon:Mt};tn.hits+=Number.isFinite(Te)?Te:0,tn.damage+=Number.isFinite(ge)?ge:0,!tn.icon&&Mt&&(tn.icon=Mt),jt.skills[tt]=tn,!jt.icon&&At&&(jt.icon=At),He.incomingConditions[vt]=jt}))});const en=X.player_damage_mitigation||X.playerDamageMitigation,In=en&&typeof en=="object"&&Object.keys(en).length>0;In&&Object.entries(en).forEach(([Z,Ue])=>{if(!Ue||typeof Ue!="object")return;const He=G(Z),Ct=D(z,He.account,He);Object.values(Ue).forEach(xe=>{q((xe==null?void 0:xe.avoided_damage)??(xe==null?void 0:xe.avoidedDamage))<=0||fe(Ct.mitigationTotals,xe)})});const hn=X.player_minion_damage_mitigation||X.playerMinionDamageMitigation,nn=hn&&typeof hn=="object"&&Object.keys(hn).length>0;nn&&Object.entries(hn).forEach(([Z,Ue])=>{if(!Ue||typeof Ue!="object")return;const He=G(Z);Object.entries(Ue).forEach(([Ct,xe])=>{if(!xe||typeof xe!="object")return;const Qe=`${He.account}::${Ct}`,yt=ee(Y,Qe,{...He,minion:String(Ct||"Unknown")});Object.values(xe).forEach(et=>{fe(yt.mitigationTotals,et)})})}),(!In||!nn)&&(In||je.forEach(Z=>{const Ue=(Z==null?void 0:Z.totalDamageTaken)||[];if(!Array.isArray(Ue)||Ue.length===0)return;const He=Z.account||Z.name||"Unknown",Ct={account:He,name:Z.name||He,profession:A(Z.profession||"Unknown")};D(z,He,Ct);const xe=X.skillMap||{},Qe=X.buffMap||{},yt=Array.isArray(Ue)?Ue[0]:null;if(yt==null||yt.forEach(et=>{if(!(et!=null&&et.id))return;const at=q(et.blocked),Vt=q(et.evaded),ht=q(et.glance??et.glanced),tt=q(et.missed),$t=q(et.invulned),vt=q(et.interrupted),rn=q(et.hits??et.connectedHits),At=Number(et.id),Mt=ne(At,xe,Qe);if(yn(pt,`${He}::${At}`,{totalHits:rn,blocked:at,evaded:Vt,glanced:ht,missed:tt,invulned:$t,interrupted:vt}),He===se){const Te=U.get(At),ge=F(At),bt=ge.hasSkill?ge.hits>0?ge.avg:0:1,jt=ge.hasSkill?ge.min||0:1,tn=ge.hits>0?ht*bt/2+(at+Vt+tt+$t+vt)*bt:0,ln=ge.hits>0?ht*jt/2+(at+Vt+tt+$t+vt)*jt:0;Ve.push({logId:T.filePath||T.id||V,skillId:et.id,skillName:Mt,blocked:at,evaded:Vt,glanced:ht,missed:tt,invulned:$t,interrupted:vt,totalAvoids:at+Vt+ht+tt+$t+vt,avg:bt,min:jt,enemyHits:(Te==null?void 0:Te.connectedHits)??0,enemyTotalDmg:(Te==null?void 0:Te.totalDamage)??0,avoidDmg:tn,avoidMinDmg:ln})}}),He===se){const et=(at,Vt)=>{let ht=0,tt=0,$t=0;if(!Array.isArray(at))return{total:ht,minTotal:tt,hits:$t};for(const vt of at){if(!(vt!=null&&vt.id))continue;const rn=q(vt.blocked),At=q(vt.evaded),Mt=q(vt.glance??vt.glanced),Te=q(vt.missed),ge=q(vt.invulned),bt=q(vt.interrupted),jt=ne(Number(vt.id),ft,wt),tn=Vt(Number(vt.id),jt);(tn.hits??0)>0&&(ht+=Mt*tn.avg/2+(rn+At+Te+ge+bt)*tn.avg,tt+=Mt*tn.min/2+(rn+At+Te+ge+bt)*tn.min),$t+=q(vt.hits??vt.connectedHits)}return{total:ht,minTotal:tt,hits:$t}};De.push({logId:T.filePath||T.id||V,variant:"current_global_name_taken0",...et(yt,(at,Vt)=>{const ht=F(at),tt=ht.hasSkill?ht.hits>0?ht.avg:0:1,$t=ht.hasSkill?ht.min||0:1;return{avg:tt,min:$t,hits:ht.hits}})})}}),nn||je.forEach(Z=>{const Ue=(Z==null?void 0:Z.minions)||[];if(!Array.isArray(Ue)||Ue.length===0)return;const He=Z.account||Z.name||"Unknown",Ct={account:He,name:Z.name||He,profession:A(Z.profession||"Unknown")},xe=X.skillMap||{},Qe=X.buffMap||{};Ue.forEach(yt=>{const et=(yt==null?void 0:yt.totalDamageTakenDist)||[];if(!Array.isArray(et)||et.length===0)return;let at=String((yt==null?void 0:yt.name)||"Unknown").replace(/^Juvenile\s+/i,"")||"Unknown";at.toUpperCase().includes("UNKNOWN")&&(at="Unknown");const Vt=`${He}::${at}`;ee(Y,Vt,{...Ct,minion:at});const ht=Array.isArray(et)?et[0]:null;if(ht==null||ht.forEach(tt=>{if(!(tt!=null&&tt.id))return;const $t=q(tt.blocked),vt=q(tt.evaded),rn=q(tt.glance??tt.glanced),At=q(tt.missed),Mt=q(tt.invulned),Te=q(tt.interrupted),ge=q(tt.hits??tt.connectedHits),bt=Number(tt.id),jt=ne(bt,xe,Qe);if(yn(Ht,`${Vt}::${bt}`,{totalHits:ge,blocked:$t,evaded:vt,glanced:rn,missed:At,invulned:Mt,interrupted:Te}),He===se&&at===ye){const tn=U.get(bt),ln=F(bt),Ar=ln.hasSkill?ln.hits>0?ln.avg:0:1,ea=ln.hasSkill?ln.min||0:1,ji=ln.hits>0?rn*Ar/2+($t+vt+At+Mt+Te)*Ar:0,la=ln.hits>0?rn*ea/2+($t+vt+At+Mt+Te)*ea:0;Ye.push({logId:T.filePath||T.id||V,skillId:tt.id,skillName:jt,blocked:$t,evaded:vt,glanced:rn,missed:At,invulned:Mt,interrupted:Te,totalAvoids:$t+vt+rn+At+Mt+Te,avg:Ar,min:ea,enemyHits:(tn==null?void 0:tn.connectedHits)??0,enemyTotalDmg:(tn==null?void 0:tn.totalDamage)??0,avoidDmg:ji,avoidMinDmg:la})}}),He===se&&at===ye){const tt=(At,Mt)=>{let Te=0,ge=0,bt=0;if(!Array.isArray(At))return{total:Te,minTotal:ge,hits:bt};for(const jt of At){if(!(jt!=null&&jt.id))continue;const tn=q(jt.blocked),ln=q(jt.evaded),Ar=q(jt.glance??jt.glanced),ea=q(jt.missed),ji=q(jt.invulned),la=q(jt.interrupted),Is=ne(Number(jt.id),ft,wt),{avg:_s,min:vo}=Mt(Number(jt.id),Is);q(jt.hits??jt.connectedHits)>0&&(Te+=Ar*_s/2+(tn+ln+ea+ji+la)*_s,ge+=Ar*vo/2+(tn+ln+ea+ji+la)*vo),bt+=q(jt.hits??jt.connectedHits)}return{total:Te,minTotal:ge,hits:bt}},$t=Array.isArray(et)?et[0]||[]:[],vt=Array.isArray(et)?et.flat():[],rn=Array.isArray(yt==null?void 0:yt.totalDamageTaken)?yt.totalDamageTaken[0]||[]:[];le.push({logId:T.filePath||T.id||V,variant:"current_global_name_dist0",...tt($t,(At,Mt)=>{const Te=F(At),ge=Te.hasSkill?Te.hits>0?Te.avg:0:1,bt=Te.hasSkill&&Te.min||0;return{avg:ge,min:bt}})}),le.push({logId:T.filePath||T.id||V,variant:"local_name_dist0",...tt($t,(At,Mt)=>Dn(Mt))}),le.push({logId:T.filePath||T.id||V,variant:"local_id_dist0",...tt($t,At=>Mn(At))}),le.push({logId:T.filePath||T.id||V,variant:"global_name_alllists",...tt(vt,(At,Mt)=>{const Te=F(At),ge=Te.hasSkill?Te.hits>0?Te.avg:0:1,bt=Te.hasSkill&&Te.min||0;return{avg:ge,min:bt}})}),le.push({logId:T.filePath||T.id||V,variant:"global_name_taken0",...tt(rn,(At,Mt)=>{const Te=F(At),ge=Te.hasSkill?Te.hits>0?Te.avg:0:1,bt=Te.hasSkill&&Te.min||0;return{avg:ge,min:bt}})})}})}))}),Ye.length>0&&(console.groupCollapsed("[Mitigation Debug] Ashtonlightstone.9145 / Illusionary Warden"),console.table(Ye),le.length>0&&console.table(le),console.groupEnd()),Ve.length>0&&(console.groupCollapsed("[Mitigation Debug] Ashtonlightstone.9145 / Player"),console.table(Ve),De.length>0&&console.table(De),console.groupEnd());const Or=(T,V)=>{const ae=new Map,Me=X=>{let Pe=ae.get(X);return Pe||(Pe=W(),ae.set(X,Pe)),Pe};V.forEach((X,Pe)=>{const Oe=Pe.lastIndexOf("::"),ft=Oe>-1?Pe.slice(0,Oe):Pe,wt=Oe>-1?Number(Pe.slice(Oe+2)):Number.NaN,gt=Number.isFinite(wt)?F(wt):{hasSkill:!1,avg:0,min:0,hits:0};if(!gt.hasSkill||gt.hits<=0)return;const Bt=gt.avg,Mn=gt.min,Dn=X.glanced*Bt/2+(X.blocked+X.evaded+X.missed+X.invulned+X.interrupted)*Bt,Je=X.glanced*Mn/2+(X.blocked+X.evaded+X.missed+X.invulned+X.interrupted)*Mn;if(Dn<=0)return;const Xe=Me(ft);Xe.totalHits+=X.totalHits,Xe.blocked+=X.blocked,Xe.evaded+=X.evaded,Xe.glanced+=X.glanced,Xe.missed+=X.missed,Xe.invulned+=X.invulned,Xe.interrupted+=X.interrupted,Xe.totalMitigation+=Dn,Xe.minMitigation+=Je}),T.forEach((X,Pe)=>{const Oe=ae.get(Pe)||W();X.mitigationTotals.totalHits=Oe.totalHits,X.mitigationTotals.blocked=Oe.blocked,X.mitigationTotals.evaded=Oe.evaded,X.mitigationTotals.glanced=Oe.glanced,X.mitigationTotals.missed=Oe.missed,X.mitigationTotals.invulned=Oe.invulned,X.mitigationTotals.interrupted=Oe.interrupted,X.mitigationTotals.totalMitigation=Oe.totalMitigation,X.mitigationTotals.minMitigation=Oe.minMitigation})};Or(z,pt),Or(Y,Ht);const de=h>0?Math.round(g/h):0,Ce=h>0?Math.round(b/h):0,Pt=w>0?(S/w).toFixed(2):S>0?"":"0.00",Wt=C>0?(N/C).toFixed(2):N>0?"":"0.00",pn=(T,V)=>{const ae=T.filter(Pe=>Number.isFinite(Pe.value)&&(V?Pe.value>0:Pe.value>=0)).sort((Pe,Oe)=>{const ft=V?Oe.value-Pe.value:Pe.value-Oe.value;return ft!==0?ft:Pe.account.localeCompare(Oe.account)});let Me=null,X=0;return ae.map((Pe,Oe)=>((Me===null||Pe.value!==Me)&&(X=Oe+1,Me=Pe.value),{rank:X,...Pe}))},Wr=Array.from(R.values()).map(T=>{const V=Array.from(T.professions).filter(ae=>ae!=="Unknown");if(T.professionList=V,V.length>0){let ae=V[0],Me=T.professionTimeMs[ae]||0;V.forEach(X=>{const Pe=T.professionTimeMs[X]||0;Pe>Me&&(Me=Pe,ae=X)}),T.profession=ae}return{key:T.account,stat:T}}),Nr=T=>{const V=R.get(T.account);if(!V){const X=T.professionList.length>0?T.professionList:T.profession?[T.profession]:[];return{...T,professionList:X}}const ae=V.professionList&&V.professionList.length>0?V.professionList:Array.from(V.professions||[]).filter(X=>X&&X!=="Unknown"),Me=V.profession||T.profession;return{...T,profession:Me,professionList:ae.length>0?ae:Me?[Me]:[],activeMs:V.defenseActiveMs||V.totalFightMs||T.activeMs}},Rn=Array.from(z.values()).map(Nr).filter(T=>L(T.mitigationTotals)).sort((T,V)=>T.account.localeCompare(V.account)),ga=Array.from(Y.values()).map(Nr).filter(T=>T.mitigationTotals.totalMitigation>0).sort((T,V)=>{const ae=T.account.localeCompare(V.account);return ae!==0?ae:String(T.minion||"").localeCompare(String(V.minion||""))}),Dr=(T,V)=>{switch(V){case"downContrib":return T.downContrib;case"barrier":return T.barrier;case"healing":return T.healing;case"dodges":return T.dodges;case"strips":return T.strips;case"cleanses":return T.cleanses;case"cc":return T.cc;case"stability":return T.stab;case"revives":return T.revives;case"dps":return T.dps;case"damage":return T.damage;case"participation":return T.logsJoined;case"closestToTag":return!T.isCommander&&T.distCount>0?T.totalDist/T.distCount:Number.POSITIVE_INFINITY;default:return 0}},Qt=(T,V)=>pn(Wr.map(({stat:ae})=>({account:ae.account,profession:ae.profession,professionList:ae.professionList,value:Dr(ae,T),count:ae.logsJoined})),V),sn={downContrib:Qt("downContrib",!0),barrier:Qt("barrier",!0),healing:Qt("healing",!0),dodges:Qt("dodges",!0),strips:Qt("strips",!0),cleanses:Qt("cleanses",!0),cc:Qt("cc",!0),stability:Qt("stability",!0),revives:Qt("revives",!0),participation:Qt("participation",!0),dps:Qt("dps",!0),damage:Qt("damage",!0),closestToTag:Qt("closestToTag",!1).filter(T=>Number.isFinite(T.value))},Ir={downContrib:"downContrib",barrier:"barrier",healing:"healing",dodges:"dodges",strips:"strips",cleanses:"cleanses",cc:"cc",stability:"stability",closestToTag:"closestToTag"},bn=T=>{const V=T==null?void 0:T[0];return{value:(V==null?void 0:V.value)??0,player:(V==null?void 0:V.account)??"-",count:(V==null?void 0:V.count)??0,profession:(V==null?void 0:V.profession)??"Unknown",professionList:(V==null?void 0:V.professionList)??[]}},jr={maxDownContrib:bn([]),maxBarrier:bn([]),maxHealing:bn([]),maxDodges:bn([]),maxStrips:bn([]),maxCleanses:bn([]),maxCC:bn([]),maxStab:bn([]),closestToTag:bn([])},Cr={},Vo=(T,V)=>{if(V==="closestToTag")return Dr(T,V);const ae=Math.max(1,(T.totalFightMs||0)/1e3);return Dr(T,V)/ae};Object.values(Ir).forEach(T=>{const V=T!=="closestToTag";Cr[T]=pn(Wr.map(({stat:ae})=>({account:ae.account,profession:ae.profession,professionList:ae.professionList,value:Vo(ae,T),count:ae.logsJoined})),V)}),jr.maxDownContrib=bn(Cr.downContrib),jr.maxBarrier=bn(Cr.barrier),jr.maxHealing=bn(Cr.healing),jr.maxDodges=bn(Cr.dodges),jr.maxStrips=bn(Cr.strips),jr.maxCleanses=bn(Cr.cleanses),jr.maxCC=bn(Cr.cc),jr.maxStab=bn(Cr.stability),jr.closestToTag=bn(Cr.closestToTag);const dd={maxDownContrib:bn(sn.downContrib),maxBarrier:bn(sn.barrier),maxHealing:bn(sn.healing),maxDodges:bn(sn.dodges),maxStrips:bn(sn.strips),maxCleanses:bn(sn.cleanses),maxCC:bn(sn.cc),maxStab:bn(sn.stability),closestToTag:bn(sn.closestToTag)};let Ds={player:"None",account:"None",score:-1,profession:"Unknown",professionList:[],color:"#64748b",topStats:[]},_c,Fc,El=0;if(o!=null&&o.showMvp){const T={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},V=Pe=>{const Oe=T[Pe];return Oe?Number(s[Oe]||0)>0:!1},ae=[],Me=Pe=>[...Pe||[]].filter(Oe=>V(Oe==null?void 0:Oe.name)).sort((Oe,ft)=>ft.ratio-Oe.ratio||Oe.rank-ft.rank||Oe.name.localeCompare(ft.name)).slice(0,3),X=Pe=>{var Oe;if(!Pe)return;const ft=Me(Pe.contribs);return{...Pe,player:Pe.name,reason:((Oe=ft[0])==null?void 0:Oe.name)||"Top Performance",topStats:ft}};Wr.forEach(({stat:Pe})=>{let Oe=0;const ft=[],wt=(gt,Bt,Mn,Dn,Je=!0)=>{var Xe,mt;if(Mn<=0)return;const Ut=((Xe=Bt[0])==null?void 0:Xe.value)||0;if(Ut&&Number.isFinite(gt)&&(Je?gt>0:gt<Number.POSITIVE_INFINITY)){const Gt=Je?gt/Ut:Ut/gt;Oe+=Gt*Mn;const ve=((mt=Bt.find(Ne=>Ne.account===Pe.account))==null?void 0:mt.rank)||0;ft.push({name:Dn,ratio:Gt,val:gt.toLocaleString(),rank:ve})}};wt(Pe.downContrib,sn.downContrib,s.downContribution,"Down Contribution"),wt(Pe.healing,sn.healing,s.healing,"Healing"),wt(Pe.cleanses,sn.cleanses,s.cleanses,"Cleanses"),wt(Pe.strips,sn.strips,s.strips,"Strips"),wt(Pe.stab,sn.stability,s.stability,"Stability"),wt(Pe.cc,sn.cc,s.cc,"CC"),wt(Pe.revives,sn.revives,s.revives,"Revives"),wt(Dr(Pe,"closestToTag"),sn.closestToTag,s.distanceToTag,"Distance to Tag",!1),wt(Pe.logsJoined,sn.participation,s.participation,"Participation"),wt(Pe.dodges,sn.dodges,s.dodging,"Dodging"),wt(Pe.dps,sn.dps,s.dps,"DPS"),wt(Pe.damage,sn.damage,s.damage,"Damage"),ae.push({...Pe,score:Oe,contribs:ft.filter(gt=>V(gt.name))})}),ae.sort((Pe,Oe)=>Oe.score-Pe.score),ae[0]&&ae[0].score>0&&(Ds=X(ae[0])||Ds),_c=X(ae[1]),Fc=X(ae[2]),El=ae.length>0?ae.reduce((Pe,Oe)=>Pe+Oe.score,0)/ae.length:0}const Ho=Object.values(_).sort((T,V)=>V.damage-T.damage||V.hits-T.hits||String(T.name||"").localeCompare(String(V.name||""))).slice(0,25),H=Object.values(_).sort((T,V)=>V.downContribution-T.downContribution||V.hits-T.hits||String(T.name||"").localeCompare(String(V.name||""))).slice(0,25),ue=m==="downContribution"?H:Ho,Ae=Object.values(I).sort((T,V)=>V.damage-T.damage).slice(0,25),Ge=T=>{const V=String(T).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),ae=V.match(/^(Red|Blue|Green)\s+(?:Alpine|Desert)?\s*Borderlands$/i);return ae?`${ae[1]} Borderlands`:V||"Unknown"},Dt=(T,V)=>Ge((T==null?void 0:T.zone)||(T==null?void 0:T.mapName)||(T==null?void 0:T.map)||(T==null?void 0:T.location)||(T==null?void 0:T.fightName)||(V==null?void 0:V.fightName)||(V==null?void 0:V.encounterName)||"Unknown"),Et=(T,V)=>{const ae=(V==null?void 0:V.permalink)||(T==null?void 0:T.permalink);if(typeof ae=="string"&&ae.trim().length>0)return ae.trim();const Me=T==null?void 0:T.uploadLinks;if(!Array.isArray(Me))return"";for(const X of Me){if(typeof X=="string"&&X.trim().length>0)return X.trim();if(X&&typeof X=="object"){const Pe=X.permalink||X.link||X.url||X.reportLink;if(typeof Pe=="string"&&Pe.trim().length>0)return Pe.trim()}}return""},st={};i.forEach(T=>{const V=Dt(T==null?void 0:T.details,T);st[V]=(st[V]||0)+1});const kn=Object.entries(st).map(([T,V])=>{const ae=String(T).trim(),Me=/eternal battlegrounds|^ebg$/i.test(ae);let X="#64748b";return Me?X="#ffffff":/red/i.test(ae)?X="#ef4444":/blue/i.test(ae)?X="#3b82f6":/green/i.test(ae)&&(X="#22c55e"),{name:T,value:V,color:X}}).sort((T,V)=>V.value-T.value),{boonTables:Tn}=j8(i),Mr=i.map((T,V)=>{var ae,Me;const X=((ae=T.details)==null?void 0:ae.players)||[];return{index:V+1,label:`Log ${V+1}`,timestamp:Ka(T.details,T),squadCount:X.filter(Pe=>!Pe.notInSquad).length,friendlyCount:X.length,enemies:((Me=T.details)==null?void 0:Me.targets).filter(Pe=>!Pe.isFake).length}}).sort((T,V)=>T.timestamp-V.timestamp),xn={};Array.from(R.values()).forEach(T=>{T.profession&&T.profession!=="Unknown"&&(xn[T.profession]=(xn[T.profession]||0)+1)});const Ie=Object.entries(xn).map(([T,V])=>({name:T,value:V,color:sc(T)})).sort((T,V)=>V.value-T.value),dt={};Object.keys(he).length===0&&i.forEach(T=>{var V,ae;(ae=(V=T.details)==null?void 0:V.targets)==null||ae.forEach(Me=>{if(Me.isFake)return;const X=Me.profession&&Me.profession!=="Unknown"?Me.profession:Me.name||Me.id||"Unknown",Pe=A(X);dt[Pe]=(dt[Pe]||0)+1})});const Zt=Object.keys(he).length>0?he:dt,Yt=Object.entries(Zt).map(([T,V])=>({name:T,value:V,color:sc(T)})).sort((T,V)=>V.value-T.value),$n=i.map((T,V)=>({log:T,originalIndex:V})).sort((T,V)=>Ka(T.log.details,T.log)-Ka(V.log.details,V.log)).map(({log:T},V)=>{const ae=T.details;if(!ae)return null;const Me=ae.players||[],X=Me.filter(me=>!me.notInSquad),Pe=Me.filter(me=>me.notInSquad),Oe=(ae.targets||[]).filter(me=>!me.isFake),ft=X.reduce((me,je)=>{var Le,lt;return me+(((lt=(Le=je.dpsAll)==null?void 0:Le[0])==null?void 0:lt.damage)||0)},0),wt=X.reduce((me,je)=>{var Le,lt;return me+(((lt=(Le=je.defenses)==null?void 0:Le[0])==null?void 0:lt.damageTaken)||0)},0),{enemyDeaths:gt,enemyDownsDeaths:Bt}=M(ae),Mn=O(ae),Dn=Ka(ae,T),Je=Dt(ae,T),Xe=me=>{if(!me||typeof me!="object")return;const je=me.teamID??me.teamId??me.team??me.teamColor??me.team_color;if(je!=null)return je;const Le=Object.keys(me).find(lt=>/^team/i.test(lt));return Le?me[Le]:void 0},mt=(me,je)=>{const Le={};return me.forEach(lt=>{const ct=je(lt),Re=A(ct);Re&&(Le[Re]=(Le[Re]||0)+1)}),Le},Ut=mt(X,me=>(me==null?void 0:me.profession)||(me==null?void 0:me.name)),Gt=mt(Pe,me=>(me==null?void 0:me.profession)||(me==null?void 0:me.name)),ve=mt(Oe,me=>(me==null?void 0:me.profession)||(me==null?void 0:me.name)||(me==null?void 0:me.id)),Ne=new Set;X.forEach(me=>{const je=Xe(me);je!=null&&Ne.add(String(je))});const Se=new Map;Oe.forEach(me=>{if((me==null?void 0:me.enemyPlayer)===!1)return;const je=Xe(me);if(je==null)return;const Le=String(je);Ne.has(Le)||Se.set(Le,(Se.get(Le)||0)+1)});const Fe=Array.from(Se.entries()).sort((me,je)=>{const Le=je[1]-me[1];return Le!==0?Le:me[0].localeCompare(je[0],void 0,{numeric:!0})}).slice(0,3).map(([me,je])=>({teamId:me,count:je}));return{id:T.filePath||`fight-${V}`,label:T.encounterName||`Fight ${V+1}`,permalink:Et(ae,T),timestamp:Dn,mapName:Je,duration:BN(ae.durationMS),isWin:Mn,squadCount:X.length,allyCount:Pe.length,enemyCount:Oe.length,teamBreakdown:Fe,alliesDown:X.reduce((me,je)=>{var Le,lt;return me+(((lt=(Le=je.defenses)==null?void 0:Le[0])==null?void 0:lt.downCount)||0)},0),alliesDead:X.reduce((me,je)=>{var Le,lt;return me+(((lt=(Le=je.defenses)==null?void 0:Le[0])==null?void 0:lt.deadCount)||0)},0),alliesRevived:X.reduce((me,je)=>{var Le,lt;return Number(((lt=(Le=je.statsAll)==null?void 0:Le[0])==null?void 0:lt.saved)||0)>0?me+1:me},0),rallies:0,enemyDeaths:gt,enemyDowns:Math.max(0,Bt-gt),totalOutgoingDamage:ft,totalIncomingDamage:wt,incomingBarrierAbsorbed:X.reduce((me,je)=>{var Le,lt;return me+(((lt=(Le=je.defenses)==null?void 0:Le[0])==null?void 0:lt.damageBarrier)||0)},0),outgoingBarrierAbsorbed:X.reduce((me,je)=>{var Le;const lt=(Le=je.extBarrierStats)==null?void 0:Le.outgoingBarrier;if(!Array.isArray(lt))return me;let ct=0;return lt.forEach(Re=>{if(Array.isArray(Re)){Re.forEach(mn=>{ct+=Number((mn==null?void 0:mn.barrier)||0)});return}ct+=Number((Re==null?void 0:Re.barrier)||0)}),me+ct},0),squadClassCountsFight:Ut,allyClassCountsFight:Gt,enemyClassCounts:ve}}).filter(Boolean),Ea=Array.from(R.values()).map(T=>{const V=Object.entries(T.professionTimeMs||{}).map(([ae,Me])=>({profession:ae,timeMs:Number(Me||0)})).filter(ae=>ae.profession&&ae.profession!=="Unknown"&&ae.timeMs>0).sort((ae,Me)=>{const X=Me.timeMs-ae.timeMs;return X!==0?X:ae.profession.localeCompare(Me.profession)});return{account:T.account||"Unknown",characterNames:Array.from(T.characterNames||[]).filter(Boolean).sort((ae,Me)=>ae.localeCompare(Me)),classTimes:V,combatTimeMs:Number(T.squadActiveMs||T.totalFightMs||0),squadTimeMs:(()=>{const ae=Number(T.firstSeenFightTs||0),Me=Number(T.lastSeenFightTs||0),X=Math.max(0,Number(T.lastSeenFightDurationMs||0));return ae>0&&Me>0?Math.max(0,Me+X-ae):Number(T.squadActiveMs||T.totalFightMs||0)})()}}).filter(T=>T.account&&T.account!=="Unknown").sort((T,V)=>{const ae=V.squadTimeMs-T.squadTimeMs;return ae!==0?ae:String(T.account).localeCompare(String(V.account))}),_r=i.map(T=>T).sort((T,V)=>Ka(T.details,T)-Ka(V.details,V)).map((T,V)=>{const ae=T==null?void 0:T.details,Me=Array.isArray(ae==null?void 0:ae.players)?ae.players.filter(Oe=>!(Oe!=null&&Oe.notInSquad)):[],X=new Map;Me.forEach(Oe=>{const ft=Number(Oe==null?void 0:Oe.group),wt=Number.isFinite(ft)&&ft>0?ft:0;X.has(wt)||X.set(wt,{party:wt,players:[],classCounts:{}});const gt=A((Oe==null?void 0:Oe.profession)||(Oe==null?void 0:Oe.name)||"Unknown"),Bt=String((Oe==null?void 0:Oe.account)||"Unknown"),Mn=String((Oe==null?void 0:Oe.name)||(Oe==null?void 0:Oe.character_name)||""),Dn=!!(Oe!=null&&Oe.hasCommanderTag),Je=X.get(wt);Je.players.push({account:Bt,characterName:Mn,profession:gt,isCommander:Dn}),Je.classCounts[gt]=(Je.classCounts[gt]||0)+1});const Pe=Array.from(X.values()).map(Oe=>({...Oe,players:Oe.players.sort((ft,wt)=>{const gt=+!!wt.isCommander-+!!ft.isCommander;if(gt!==0)return gt;const Bt=String(ft.profession).localeCompare(String(wt.profession));return Bt!==0?Bt:String(ft.account).localeCompare(String(wt.account))})})).sort((Oe,ft)=>Oe.party===0&&ft.party!==0?1:ft.party===0&&Oe.party!==0?-1:Oe.party-ft.party);return{id:String((T==null?void 0:T.filePath)||(T==null?void 0:T.id)||`fight-${V+1}`),label:`F${V+1}`,timestamp:Ka(ae,T),mapName:Dt(ae,T),duration:BN(Number((ae==null?void 0:ae.durationMS)||0)),parties:Pe}}),Wo=(T,V)=>{const ae=(V==null?void 0:V.skillMap)||{},Me=(V==null?void 0:V.buffMap)||{};let X=0,Pe="";const Oe=gt=>{const Bt=Number(gt);if(!Number.isFinite(Bt))return String(gt||"Unknown Skill");const Mn=(ae==null?void 0:ae[`s${Bt}`])||(ae==null?void 0:ae[`${Bt}`]);if(Mn!=null&&Mn.name)return String(Mn.name);const Dn=(Me==null?void 0:Me[`b${Bt}`])||(Me==null?void 0:Me[`${Bt}`]);return Dn!=null&&Dn.name?String(Dn.name):`Skill ${Bt}`},ft=gt=>{if(!gt||typeof gt!="object")return;const Bt=[Number(gt.max),Number(gt.maxDamage),Number(gt.maxHit)].filter(Dn=>Number.isFinite(Dn)),Mn=Bt.length>0?Math.max(...Bt):0;Mn>X&&(X=Mn,Pe=Oe(gt.id))};let wt=!1;return Array.isArray(T==null?void 0:T.targetDamageDist)&&T.targetDamageDist.forEach(gt=>{Array.isArray(gt)&&gt.forEach(Bt=>{Array.isArray(Bt)&&Bt.forEach(Mn=>{wt=!0,ft(Mn)})})}),(!wt||X<=0)&&Array.isArray(T==null?void 0:T.totalDamageDist)&&T.totalDamageDist.forEach(gt=>{Array.isArray(gt)&&gt.forEach(Bt=>ft(Bt))}),{peak:X,skillName:Pe||"Unknown Skill"}},fd=(()=>{const T=Je=>String(Je||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),V=Je=>T(Je).toLowerCase().split(/[^a-z0-9]+/i).map(Xe=>Xe.trim()).filter(Boolean).map(Xe=>Xe.length>3&&Xe.endsWith("s")?Xe.slice(0,-1):Xe),ae=(Je,Xe)=>{const mt=T(Je),Ut=T(Xe);if(!Ut)return mt;if(!mt)return Ut;const Gt=V(mt),ve=V(Ut),Ne=new Set(Gt),Se=new Set(ve),Fe=ve.length>0&&ve.every(je=>Ne.has(je)),me=Gt.length>0&&Gt.every(je=>Se.has(je));return Fe||me?mt:`${mt} - ${Ut}`},Me=[],X=new Map,Pe=Je=>{const Xe=Se=>{if(!Array.isArray(Se)||Se.length===0)return[];const Fe=[];for(let me=0;me<Se.length;me+=1){const je=Number(Se[me]||0),Le=me>0?Number(Se[me-1]||0):0;Fe.push(Math.max(0,je-Le))}return Fe},mt=Se=>{if(!Array.isArray(Se))return[];const Fe=Se.reduce((je,Le)=>Math.max(je,Array.isArray(Le)?Le.length:0),0);if(Fe<=0)return[];const me=new Array(Fe).fill(0);return Se.forEach(je=>{if(Array.isArray(je))for(let Le=0;Le<Fe;Le+=1)me[Le]+=Number(je[Le]||0)}),me},Ut=Se=>Array.isArray(Se)?Se.map(Fe=>Number(Fe||0)):null,Gt=(Se=>{if(!Array.isArray(Se)||Se.length===0)return null;const Fe=Se[0];if(!Array.isArray(Fe))return null;if(Array.isArray(Fe[0])&&Array.isArray(Fe[0][0]))return mt(Fe);if(Array.isArray(Fe[0])&&!Array.isArray(Fe[0][0])){const me=Se.map(je=>Ut(Array.isArray(je)?je[0]:null)).filter(je=>Array.isArray(je)&&je.length>0);if(me.length>0)return mt(me)}return null})(Je==null?void 0:Je.targetDamage1S),ve=Array.isArray(Je==null?void 0:Je.damage1S)&&Array.isArray(Je.damage1S[0])?Je.damage1S[0]:null,Ne=Gt||(Array.isArray(ve)?ve.map(Se=>Number(Se||0)):[]);return Xe(Ne)},Oe=(Je,Xe)=>{if(!Array.isArray(Je)||Je.length===0||Xe<=0)return 0;let mt=0,Ut=0;for(let Gt=0;Gt<Je.length;Gt+=1)mt+=Number(Je[Gt]||0),Gt>=Xe&&(mt-=Number(Je[Gt-Xe]||0)),Gt>=Xe-1&&mt>Ut&&(Ut=mt);return Math.max(0,Ut)},ft=(Je,Xe)=>{if(!Array.isArray(Je)||Je.length===0||Xe<=0)return[];const mt=[];for(let Ut=0;Ut<Je.length;Ut+=Xe){const Gt=Math.min(Ut+Xe,Je.length),ve=Je.slice(Ut,Gt).reduce((Ne,Se)=>Ne+Number(Se||0),0);mt.push(ve)}return mt},wt=(Je,Xe)=>{const mt=Number(Je);if(!Number.isFinite(mt))return{name:String(Je||"Unknown Skill"),icon:void 0};const Ut=(Xe==null?void 0:Xe.skillMap)||{},Gt=(Xe==null?void 0:Xe.buffMap)||{},ve=(Ut==null?void 0:Ut[`s${mt}`])||(Ut==null?void 0:Ut[`${mt}`]);if(ve!=null&&ve.name)return{name:String(ve.name),icon:ve==null?void 0:ve.icon};const Ne=(Gt==null?void 0:Gt[`b${mt}`])||(Gt==null?void 0:Gt[`${mt}`]);return Ne!=null&&Ne.name?{name:String(Ne.name),icon:Ne==null?void 0:Ne.icon}:{name:`Skill ${mt}`,icon:void 0}},gt=Je=>Array.isArray(Je)?Je.map(Xe=>Array.isArray(Xe)?[Number(Xe[0]),Number(Xe[1])]:Xe&&typeof Xe=="object"?[Number(Xe.time),Number(Xe.value)]:null).filter(Xe=>!!Xe&&Number.isFinite(Xe[0])&&Xe[0]>=0):[],Bt=(Je,Xe,mt,Ut,Gt)=>{if(!Je.length||Ut<=0)return[];const ve=Math.max(Ut*5e3,Gt||0),Ne=Re=>Re.reduce((mn,en)=>en>=0&&en<=ve+2e3?mn+1:mn,0),Se=Je.map(Re=>Number(Re||0)).filter(Re=>Number.isFinite(Re)&&Re>=0);if(!Se.length)return[];const Fe=[Se],me=Se.reduce((Re,mn)=>Math.max(Re,mn),0),je=Se.reduce((Re,mn)=>Math.min(Re,mn),Number.POSITIVE_INFINITY);me>ve*20&&Fe.push(Se.map(Re=>Re/1e3)),me<=ve*2&&je>=0&&me>0&&me<Math.max(120,Ut*5+10)&&Fe.push(Se.map(Re=>Re*1e3));let Le=Se,lt=0,ct=-1;return Fe.forEach(Re=>{const mn=Re.reduce((In,hn)=>Math.min(In,hn),Number.POSITIVE_INFINITY),en=new Set([0,...Xe,...mt]);if(Number.isFinite(mn)&&ve>0&&mn>ve){const In=Math.floor(mn/ve)*ve;en.add(In),en.add(Math.max(0,In-ve))}en.forEach(In=>{const hn=Re.map(Z=>Z-In),nn=Ne(hn);nn>ct&&(ct=nn,lt=In,Le=Re)})}),Le.map(Re=>Re-lt).filter(Re=>Number.isFinite(Re)&&Re>=0)},Mn=(Je,Xe,mt,Ut,Gt)=>{const ve=Bt(Je,Xe,mt,Ut,Gt);return Array.from(new Set(ve.map(Ne=>Math.floor(Ne/5e3)).filter(Ne=>Number.isFinite(Ne)&&Ne>=0&&Ne<Ut)))};i.map(Je=>({log:Je,ts:Ka(Je==null?void 0:Je.details,Je)})).sort((Je,Xe)=>Je.ts-Xe.ts).forEach(({log:Je},Xe)=>{const mt=Je==null?void 0:Je.details;if(!mt)return;const Ut=T(mt.fightName||Je.fightName||`Fight ${Xe+1}`),Gt=Dt(mt,Je),ve=ae(Ut,String(Gt||"")),Ne={},Se=Array.isArray(mt.players)?mt.players:[],Fe=Se.flatMap(ct=>{const Re=ct==null?void 0:ct.combatReplayData;return Array.isArray(Re)?Re.map(mn=>Number(mn==null?void 0:mn.start)):[Number(Re==null?void 0:Re.start)]}).filter(ct=>Number.isFinite(ct)&&ct>=0);Se.forEach(ct=>{if(ct!=null&&ct.notInSquad)return;const Re=String((ct==null?void 0:ct.account)||(ct==null?void 0:ct.name)||"Unknown"),mn=String((ct==null?void 0:ct.character_name)||(ct==null?void 0:ct.display_name)||(ct==null?void 0:ct.name)||""),en=String((ct==null?void 0:ct.profession)||"Unknown"),In=`${Re}|${en}`,hn=Wo(ct,mt),nn=Number(hn.peak||0),Z=Pe(ct),Ue=Number(Oe(Z,1)||0),He=Number(Oe(Z,5)||0),Ct=Number(Oe(Z,30)||0),xe=Math.max(0,Math.ceil(Number((mt==null?void 0:mt.durationMS)||0)/5e3)),Qe=Math.max(0,Math.ceil(Z.length/5)),yt=Math.max(xe,Qe),et=ft(Z,5),at=Array.from({length:yt},(Te,ge)=>Number(et[ge]||0)),Vt=new Map,ht=Te=>{if(!Te||typeof Te!="object"||Te.indirectDamage)return;const ge=Number(Te.totalDamage||0);if(!Number.isFinite(ge)||ge<=0)return;const bt=Number(Te.connectedHits||Te.hits||0),jt=wt(Te.id,mt),tn=jt.name,ln=Vt.get(tn)||{skillName:tn,damage:0,hits:0,icon:jt.icon};ln.damage+=ge,ln.hits+=Number.isFinite(bt)?bt:0,!ln.icon&&jt.icon&&(ln.icon=jt.icon),Vt.set(tn,ln)},tt=new Map;Array.isArray(ct==null?void 0:ct.targetDamageDist)&&ct.targetDamageDist.forEach(Te=>{Array.isArray(Te)&&Te.forEach(ge=>{Array.isArray(ge)&&ge.forEach(bt=>{const jt=Number(bt==null?void 0:bt.id),tn=Number((bt==null?void 0:bt.totalDamage)||0);if(Number.isFinite(jt)){const ln=tt.get(jt)||{damage:0,hits:0};ln.damage+=Number.isFinite(tn)?tn:0,ln.hits+=Number((bt==null?void 0:bt.connectedHits)||(bt==null?void 0:bt.hits)||0),tt.set(jt,ln)}ht(bt)})})}),!(mt!=null&&mt.detailedWvW)&&Array.isArray(ct==null?void 0:ct.totalDamageDist)&&ct.totalDamageDist.forEach(Te=>{Array.isArray(Te)&&Te.forEach(ge=>{const bt=Number(ge==null?void 0:ge.id);if(!Number.isFinite(bt)){ht(ge);return}const jt=tt.get(bt);if(!jt){ht(ge);return}const tn=Number((ge==null?void 0:ge.totalDamage)||0),ln=Number((ge==null?void 0:ge.connectedHits)||(ge==null?void 0:ge.hits)||0),Ar=tn-Number(jt.damage||0),ea=ln-Number(jt.hits||0);Ar<=0&&ea<=0||ht({...ge,totalDamage:Math.max(0,Ar),connectedHits:Math.max(0,ea),hits:Math.max(0,ea)})})});const $t=(()=>{const Te=ct==null?void 0:ct.combatReplayData;return Array.isArray(Te)?Te.filter(ge=>ge&&typeof ge=="object"):Te&&typeof Te=="object"?[Te]:[]})(),vt=$t.map(Te=>Number(Te==null?void 0:Te.start)).filter(Te=>Number.isFinite(Te)&&Te>=0),rn=$t.flatMap(Te=>gt(Te==null?void 0:Te.down).map(([ge])=>Number(ge||0))),At=$t.flatMap(Te=>gt(Te==null?void 0:Te.dead).map(([ge])=>Number(ge||0)));Ne[In]={hit:nn,burst1s:Ue,burst5s:He,burst30s:Ct,skillName:hn.skillName,buckets5s:at,downIndices5s:Mn(rn,vt,Fe,yt,Number((mt==null?void 0:mt.durationMS)||0)),deathIndices5s:Mn(At,vt,Fe,yt,Number((mt==null?void 0:mt.durationMS)||0)),skillRows:Array.from(Vt.values()).sort((Te,ge)=>ge.damage-Te.damage).slice(0,50)};const Mt=X.get(In)||{key:In,account:Re,displayName:Re,characterName:mn,profession:en,professionList:[en],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Mt.logs+=1,Mt.professionList.includes(en)||Mt.professionList.push(en),!Mt.characterName&&mn&&(Mt.characterName=mn),nn>Mt.peakHit&&(Mt.peakHit=nn,Mt.peakFightLabel=ve,Mt.peakSkillName=hn.skillName),Ue>Mt.peak1s&&(Mt.peak1s=Ue),He>Mt.peak5s&&(Mt.peak5s=He),Ct>Mt.peak30s&&(Mt.peak30s=Ct),X.set(In,Mt)});const me=Object.values(Ne).reduce((ct,Re)=>Math.max(ct,Number((Re==null?void 0:Re.hit)||0)),0),je=Object.values(Ne).reduce((ct,Re)=>Math.max(ct,Number((Re==null?void 0:Re.burst1s)||0)),0),Le=Object.values(Ne).reduce((ct,Re)=>Math.max(ct,Number((Re==null?void 0:Re.burst5s)||0)),0),lt=Object.values(Ne).reduce((ct,Re)=>Math.max(ct,Number((Re==null?void 0:Re.burst30s)||0)),0);Me.push({id:Je.filePath||Je.id||`fight-${Xe+1}`,shortLabel:`F${Xe+1}`,fullLabel:ve,timestamp:Ka(mt,Je),values:Ne,maxHit:me,max1s:je,max5s:Le,max30s:lt})});const Dn=Array.from(X.values()).sort((Je,Xe)=>Xe.peakHit!==Je.peakHit?Xe.peakHit-Je.peakHit:Je.displayName.localeCompare(Xe.displayName));return{fights:Me,players:Dn}})(),wy=(()=>{const T=ve=>String(ve||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),V=ve=>T(ve).toLowerCase().split(/[^a-z0-9]+/i).map(Ne=>Ne.trim()).filter(Boolean).map(Ne=>Ne.length>3&&Ne.endsWith("s")?Ne.slice(0,-1):Ne),ae=(ve,Ne)=>{const Se=T(ve),Fe=T(Ne);if(!Fe)return Se;if(!Se)return Fe;const me=V(Se),je=V(Fe),Le=new Set(me),lt=new Set(je),ct=je.length>0&&je.every(mn=>Le.has(mn)),Re=me.length>0&&me.every(mn=>lt.has(mn));return ct||Re?Se:`${Se} - ${Fe}`},Me=[],X=new Map,Pe=(ve,Ne)=>{const Se=Number(ve);if(!Number.isFinite(Se))return{name:String(ve||"Unknown Skill"),icon:void 0};const Fe=(Ne==null?void 0:Ne.skillMap)||{},me=(Ne==null?void 0:Ne.buffMap)||{},je=(Fe==null?void 0:Fe[`s${Se}`])||(Fe==null?void 0:Fe[`${Se}`]);if(je!=null&&je.name)return{name:String(je.name),icon:je==null?void 0:je.icon};const Le=(me==null?void 0:me[`b${Se}`])||(me==null?void 0:me[`${Se}`]);return Le!=null&&Le.name?{name:String(Le.name),icon:Le==null?void 0:Le.icon}:{name:`Skill ${Se}`,icon:void 0}},Oe=(ve,Ne)=>{let Se=0,Fe="";const me=je=>{if(!je||typeof je!="object"||je.indirectDamage)return;const Le=[Number(je.max),Number(je.maxDamage),Number(je.maxHit)].filter(ct=>Number.isFinite(ct)),lt=Le.length>0?Math.max(...Le):0;lt>Se&&(Se=lt,Fe=Pe(je.id,Ne).name)};return Array.isArray(ve==null?void 0:ve.totalDamageDist)&&ve.totalDamageDist.forEach(je=>{Array.isArray(je)&&je.forEach(Le=>me(Le))}),Array.isArray(ve==null?void 0:ve.targetDamageDist)&&ve.targetDamageDist.forEach(je=>{Array.isArray(je)&&je.forEach(Le=>{Array.isArray(Le)&&Le.forEach(lt=>me(lt))})}),{peak:Se,skillName:Fe||"Unknown Skill"}},ft=ve=>{if(!Array.isArray(ve)||ve.length===0)return[];const Ne=[];for(let Se=0;Se<ve.length;Se+=1){const Fe=Number(ve[Se]||0),me=Se>0?Number(ve[Se-1]||0):0;Ne.push(Math.max(0,Fe-me))}return Ne},wt=ve=>{if(!Array.isArray(ve)||ve.length===0)return[];const Ne=ve.reduce((Fe,me)=>Math.max(Fe,Array.isArray(me)?me.length:0),0);if(Ne<=0)return[];const Se=new Array(Ne).fill(0);return ve.forEach(Fe=>{if(Array.isArray(Fe))for(let me=0;me<Ne;me+=1)Se[me]+=Number(Fe[me]||0)}),Se},gt=ve=>{if(!Array.isArray(ve)||ve.length===0)return[];const Ne=ve[0];if(typeof Ne=="number")return ve.map(Se=>Number(Se||0));if(Array.isArray(Ne)&&Ne.length>0){if(typeof Ne[0]=="number")return Ne.map(Se=>Number(Se||0));if(Array.isArray(Ne[0])){const Se=Ne.map(Fe=>Array.isArray(Fe)?Fe.map(me=>Number(me||0)):null).filter(Fe=>Array.isArray(Fe)&&Fe.length>0);if(Se.length>0)return wt(Se)}}return[]},Bt=ve=>{const Ne=gt(ve==null?void 0:ve.powerDamage1S),Se=gt(ve==null?void 0:ve.damage1S),Fe=Ne.length>0?Ne:Se;return ft(Fe)},Mn=(ve,Ne)=>{const Se=ve==null?void 0:ve.targetPowerDamage1S;if(!Array.isArray(Se)||!Array.isArray(Se[Ne]))return[];const Fe=Se[Ne];if(!Array.isArray(Fe)||Fe.length===0)return[];if(typeof Fe[0]=="number")return Fe.map(me=>Number(me||0));if(Array.isArray(Fe[0])&&!Array.isArray(Fe[0][0]))return Fe[0].map(me=>Number(me||0));if(Array.isArray(Fe[0])&&Array.isArray(Fe[0][0])){const me=Fe[0].map(je=>Array.isArray(je)?je.map(Le=>Number(Le||0)):null).filter(je=>Array.isArray(je)&&je.length>0);return wt(me)}return[]},Dn=(ve,Ne)=>{if(!Array.isArray(ve)||ve.length===0||Ne<=0)return 0;let Se=0,Fe=0;for(let me=0;me<ve.length;me+=1)Se+=Number(ve[me]||0),me>=Ne&&(Se-=Number(ve[me-Ne]||0)),me>=Ne-1&&Se>Fe&&(Fe=Se);return Math.max(0,Fe)},Je=(ve,Ne)=>{if(!Array.isArray(ve)||ve.length===0||Ne<=0)return[];const Se=[];for(let Fe=0;Fe<ve.length;Fe+=Ne){const me=Math.min(Fe+Ne,ve.length),je=ve.slice(Fe,me).reduce((Le,lt)=>Le+Number(lt||0),0);Se.push(je)}return Se},Xe=ve=>Array.isArray(ve)?ve.map(Ne=>Array.isArray(Ne)?[Number(Ne[0]),Number(Ne[1])]:Ne&&typeof Ne=="object"?[Number(Ne.time),Number(Ne.value)]:null).filter(Ne=>!!Ne&&Number.isFinite(Ne[0])&&Ne[0]>=0):[],mt=(ve,Ne,Se,Fe,me)=>{if(!ve.length||Fe<=0)return[];const je=Math.max(Fe*5e3,me||0),Le=nn=>nn.reduce((Z,Ue)=>Ue>=0&&Ue<=je+2e3?Z+1:Z,0),lt=ve.map(nn=>Number(nn||0)).filter(nn=>Number.isFinite(nn)&&nn>=0);if(!lt.length)return[];const ct=[lt],Re=lt.reduce((nn,Z)=>Math.max(nn,Z),0),mn=lt.reduce((nn,Z)=>Math.min(nn,Z),Number.POSITIVE_INFINITY);Re>je*20&&ct.push(lt.map(nn=>nn/1e3)),Re<=je*2&&mn>=0&&Re>0&&Re<Math.max(120,Fe*5+10)&&ct.push(lt.map(nn=>nn*1e3));let en=lt,In=0,hn=-1;return ct.forEach(nn=>{const Z=nn.reduce((He,Ct)=>Math.min(He,Ct),Number.POSITIVE_INFINITY),Ue=new Set([0,...Ne,...Se]);if(Number.isFinite(Z)&&je>0&&Z>je){const He=Math.floor(Z/je)*je;Ue.add(He),Ue.add(Math.max(0,He-je))}Ue.forEach(He=>{const Ct=nn.map(Qe=>Qe-He),xe=Le(Ct);xe>hn&&(hn=xe,In=He,en=nn)})}),en.map(nn=>nn-In).filter(nn=>Number.isFinite(nn)&&nn>=0)},Ut=(ve,Ne,Se,Fe,me)=>{const je=mt(ve,Ne,Se,Fe,me);return Array.from(new Set(je.map(Le=>Math.floor(Le/5e3)).filter(Le=>Number.isFinite(Le)&&Le>=0&&Le<Fe)))};i.map(ve=>({log:ve,ts:Ka(ve==null?void 0:ve.details,ve)})).sort((ve,Ne)=>ve.ts-Ne.ts).forEach(({log:ve},Ne)=>{const Se=ve==null?void 0:ve.details;if(!Se)return;const Fe=T(Se.fightName||ve.fightName||`Fight ${Ne+1}`),me=Dt(Se,ve),je=ae(Fe,String(me||"")),Le={},lt=(Array.isArray(Se.players)?Se.players:[]).filter(xe=>!(xe!=null&&xe.notInSquad)),ct=lt.flatMap(xe=>{const Qe=xe==null?void 0:xe.combatReplayData;return Array.isArray(Qe)?Qe.map(yt=>Number(yt==null?void 0:yt.start)):[Number(Qe==null?void 0:Qe.start)]}).filter(xe=>Number.isFinite(xe)&&xe>=0),Re=lt.flatMap(xe=>{const Qe=xe==null?void 0:xe.combatReplayData;return(Array.isArray(Qe)?Qe:Qe?[Qe]:[]).flatMap(yt=>Xe(yt==null?void 0:yt.down).map(([et])=>Number(et||0)))}),mn=lt.flatMap(xe=>{const Qe=xe==null?void 0:xe.combatReplayData;return(Array.isArray(Qe)?Qe:Qe?[Qe]:[]).flatMap(yt=>Xe(yt==null?void 0:yt.dead).map(([et])=>Number(et||0)))}),en=new Map,In=new Map,hn=new Map;(Array.isArray(Se.targets)?Se.targets:[]).forEach((xe,Qe)=>{if(!xe||xe.isFake||!xe.enemyPlayer)return;const yt=A((xe==null?void 0:xe.profession)||(xe==null?void 0:xe.name)||(xe==null?void 0:xe.id))||"Unknown";hn.set(yt,(hn.get(yt)||0)+1);const et=In.get(yt)||new Map;Array.isArray(xe==null?void 0:xe.totalDamageDist)&&xe.totalDamageDist.forEach(vt=>{Array.isArray(vt)&&vt.forEach(rn=>{if(!rn||typeof rn!="object"||rn.indirectDamage)return;const At=Number(rn.totalDamage||0);if(!Number.isFinite(At)||At<=0)return;const Mt=Number(rn.connectedHits||rn.hits||0),Te=Pe(rn.id,Se),ge=Te.name,bt=et.get(ge)||{skillName:ge,damage:0,hits:0,icon:Te.icon};bt.damage+=At,bt.hits+=Number.isFinite(Mt)?Mt:0,!bt.icon&&Te.icon&&(bt.icon=Te.icon),et.set(ge,bt)})}),In.set(yt,et);const at=wt(lt.map(vt=>Mn(vt,Qe))),Vt=at.length>0?ft(at):Bt(xe),ht=Oe(xe,Se);let tt=en.get(yt);tt||(tt={perSecond:[],hit:0,skillName:""},en.set(yt,tt)),Vt.length>tt.perSecond.length&&(tt.perSecond.length=Vt.length);for(let vt=0;vt<Vt.length;vt+=1)tt.perSecond[vt]=Number(tt.perSecond[vt]||0)+Number(Vt[vt]||0);const $t=Number(ht.peak||0);$t>tt.hit&&(tt.hit=$t,tt.skillName=ht.skillName||"Unknown Skill")});const nn=Array.from(en.values()).some(xe=>Array.isArray(xe.perSecond)&&xe.perSecond.some(Qe=>Number(Qe||0)>0));if(en.size===0||!nn){const xe=wt(lt.map(yt=>{const et=gt(yt==null?void 0:yt.powerDamageTaken1S);return ft(et)})),Qe=Array.from(hn.values()).reduce((yt,et)=>yt+Number(et||0),0);xe.length>0&&Qe>0&&hn.forEach((yt,et)=>{const at=Number(yt||0)/Qe,Vt=xe.map(tt=>Number(tt||0)*at),ht=en.get(et);en.set(et,{perSecond:Vt,hit:Number((ht==null?void 0:ht.hit)||0),skillName:String((ht==null?void 0:ht.skillName)||"")})})}en.forEach((xe,Qe)=>{var yt;const et=Qe,at=Number(xe.hit||0),Vt=Number(Dn(xe.perSecond,1)||0),ht=Number(Dn(xe.perSecond,5)||0),tt=Number(Dn(xe.perSecond,30)||0),$t=Math.max(0,Math.ceil(Number((Se==null?void 0:Se.durationMS)||0)/5e3)),vt=Math.max(0,Math.ceil(xe.perSecond.length/5)),rn=Math.max($t,vt),At=Je(xe.perSecond,5),Mt=Array.from({length:rn},(ge,bt)=>Number(At[bt]||0));Le[et]={hit:at,burst1s:Vt,burst5s:ht,burst30s:tt,skillName:xe.skillName||"Unknown Skill",buckets5s:Mt,downIndices5s:Ut(Re,[],ct,rn,Number((Se==null?void 0:Se.durationMS)||0)),deathIndices5s:Ut(mn,[],ct,rn,Number((Se==null?void 0:Se.durationMS)||0)),skillRows:Array.from(((yt=In.get(Qe))==null?void 0:yt.values())||[]).sort((ge,bt)=>bt.damage-ge.damage).slice(0,50)};const Te=X.get(et)||{key:et,account:Qe,displayName:Qe,characterName:"",profession:Qe,professionList:[Qe],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Te.logs+=1,at>Te.peakHit&&(Te.peakHit=at,Te.peakFightLabel=je,Te.peakSkillName=xe.skillName||"Unknown Skill"),Vt>Te.peak1s&&(Te.peak1s=Vt),ht>Te.peak5s&&(Te.peak5s=ht),tt>Te.peak30s&&(Te.peak30s=tt),X.set(et,Te)});const Z=Object.values(Le).reduce((xe,Qe)=>Math.max(xe,Number((Qe==null?void 0:Qe.hit)||0)),0),Ue=Object.values(Le).reduce((xe,Qe)=>Math.max(xe,Number((Qe==null?void 0:Qe.burst1s)||0)),0),He=Object.values(Le).reduce((xe,Qe)=>Math.max(xe,Number((Qe==null?void 0:Qe.burst5s)||0)),0),Ct=Object.values(Le).reduce((xe,Qe)=>Math.max(xe,Number((Qe==null?void 0:Qe.burst30s)||0)),0);Me.push({id:ve.filePath||ve.id||`fight-${Ne+1}`,shortLabel:`F${Ne+1}`,fullLabel:je,timestamp:Ka(Se,ve),values:Le,maxHit:Z,max1s:Ue,max5s:He,max30s:Ct})});const Gt=Array.from(X.values()).sort((ve,Ne)=>Ne.peakHit!==ve.peakHit?Ne.peakHit-ve.peakHit:ve.displayName.localeCompare(Ne.displayName));return{fights:Me,players:Gt}})(),ky=Array.from($.entries()).map(([T,V])=>{const ae=B.get(T)||{},Me=Array.from(V.values()).map(X=>{var Pe,Oe;const ft=Array.from(X.professions||[]).filter(Xe=>Xe&&Xe!=="Unknown");let wt=X.profession||"Unknown";if(ft.length>0){wt=ft[0];let Xe=((Pe=X.professionTimeMs)==null?void 0:Pe[wt])||0;ft.forEach(mt=>{var Ut;const Gt=((Ut=X.professionTimeMs)==null?void 0:Ut[mt])||0;Gt>Xe&&(Xe=Gt,wt=mt)})}const gt=X.durationMs||0,Bt=X.totalMs/1e3,Mn=gt>0?X.totalMs/gt:0,Dn=((Oe=R.get(X.account))==null?void 0:Oe.supportActiveMs)||gt,Je=Dn>0?X.uptimeMs/Dn:0;return{account:X.account,profession:wt,professionList:ft,total:Bt,perSecond:Mn,uptimePerSecond:Je,duration:gt/1e3}}).filter(X=>X.total>0||X.perSecond>0);return{id:T,name:ae.name||T,icon:ae.icon,rows:Me}}).filter(T=>T.rows.length>0),Sy=Array.from(Q.values()).map(T=>{const V=Array.from(T.skills.values()).sort((Me,X)=>X.damage-Me.damage),ae=V.reduce((Me,X)=>(Me[X.id]=X,Me),{});return{key:T.key,account:T.account,displayName:T.displayName,profession:T.profession,professionList:T.professionList,totalFightMs:T.totalFightMs,skills:V,skillMap:ae}}).sort((T,V)=>T.displayName.localeCompare(V.displayName));return{total:h,wins:y,losses:x,avgSquadSize:de,avgEnemies:Ce,squadKDR:Pt,enemyKDR:Wt,totalSquadKills:S,totalSquadDeaths:w,totalEnemyKills:N,totalEnemyDeaths:C,leaderboards:sn,...dd,outgoingConditionSummary:Object.values(J).sort((T,V)=>V.damage-T.damage),incomingConditionSummary:Object.values(re).sort((T,V)=>V.damage-T.damage),outgoingConditionPlayers:Array.from(R.values()).map(T=>({account:T.account,profession:T.profession,professionList:T.professionList,conditions:T.outgoingConditions})),incomingConditionPlayers:Array.from(R.values()).map(T=>({account:T.account,profession:T.profession,professionList:T.professionList,conditions:T.incomingConditions})),topSkills:ue,topIncomingSkills:Ae,topSkillsByDamage:Ho,topSkillsByDownContribution:H,playerSkillBreakdowns:Sy,topSkillsMetric:m,mapData:kn,timelineData:Mr,boonTables:Tn,offensePlayers:Array.from(R.values()).map(T=>({account:T.account,profession:T.profession,professionList:T.professionList,offenseTotals:T.offenseTotals,offenseRateWeights:T.offenseRateWeights,totalFightMs:T.totalFightMs})),defensePlayers:Array.from(R.values()).map(T=>({account:T.account,profession:T.profession,professionList:T.professionList,defenseTotals:T.defenseTotals,activeMs:T.defenseActiveMs})),damageMitigationPlayers:Rn,damageMitigationMinions:ga,supportPlayers:Array.from(R.values()).map(T=>({account:T.account,profession:T.profession,professionList:T.professionList,supportTotals:T.supportTotals,activeMs:T.supportActiveMs})),healingPlayers:Array.from(R.values()).map(T=>({account:T.account,profession:T.profession,professionList:T.professionList,healingTotals:T.healingTotals,activeMs:T.healingActiveMs})),mvp:Ds,silver:_c,bronze:Fc,squadClassData:Ie,enemyClassData:Yt,fightBreakdown:$n,attendanceData:Ea,squadCompByFight:_r,spikeDamage:fd,incomingStrikeDamage:wy,specialTables:ky,topStatsPerSecond:jr,topStatsLeaderboardsPerSecond:Cr,avgMvpScore:El}})(),d=(()=>{const f=new Map,p=new Map,m=[],h=new Map,y=new Map;i.forEach(g=>{const b=g.details;if(!b)return;const w=b.skillMap||{},S=b.fightName||"Log",C=Ka(b,g)||Date.now(),N={id:g.filePath||g.id||S,label:S,timestamp:C,skillEntries:{},playerActiveSeconds:{},durationSeconds:b.durationMS?b.durationMS/1e3:0};(b.players||[]).forEach(M=>{if(M.notInSquad)return;const O=M.account||M.name||"Unknown",R=M.profession||"Unknown",P=`${O}|${R}`;let _=p.get(P);_||(_={key:P,account:O,displayName:O,profession:R,professionList:[R],logs:0,totalActiveSeconds:0,skillTotals:{}},p.set(P,_)),_.logs++;const I=(Array.isArray(M.activeTimes)?M.activeTimes[0]:0)/1e3;_.totalActiveSeconds=(_.totalActiveSeconds||0)+I,N.playerActiveSeconds[P]=I,(M.rotation||[]).forEach(Q=>{var J,re,he;if(!(Q!=null&&Q.id))return;const B=((J=Q.skills)==null?void 0:J.length)||0;if(B<=0)return;const $=`s${Q.id}`,te=((re=w[$])==null?void 0:re.name)||`Skill ${Q.id}`,k=(he=w[$])==null?void 0:he.icon;_.skillTotals[$]=(_.skillTotals[$]||0)+B,f.set($,(f.get($)||0)+B),h.set($,te),k&&!y.has($)&&y.set($,k),N.skillEntries[$]||(N.skillEntries[$]={name:te,icon:k,players:{}}),!N.skillEntries[$].icon&&k&&(N.skillEntries[$].icon=k),N.skillEntries[$].players[P]=(N.skillEntries[$].players[P]||0)+B})}),m.push(N)});const x=Array.from(f.entries()).map(([g,b])=>({id:g,name:h.get(g)||g,total:b,icon:y.get(g)})).sort((g,b)=>b.total-g.total);return{logRecords:m,players:Array.from(p.values()),skillOptions:x,resUtilitySkills:[]}})();return{validLogs:i,stats:c,skillUsageData:d}},Q8=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:a})=>{const i=e.length>8,[o,s]=v.useState(()=>ev(typeof Worker<"u"&&i?{logs:[],precomputedStats:void 0,mvpWeights:n,statsViewSettings:r,disruptionMethod:a}:{logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:a})),[l,c]=v.useState(0),[d,f]=v.useState(0),[p,m]=v.useState(0),[h,y]=v.useState(0),[x,g]=v.useState(null),b=v.useRef(0),[w,S]=v.useState(0),C=v.useRef(null),N=v.useRef(null),[M,O]=v.useState(!1),R=v.useRef(null),P=v.useRef(""),_=v.useRef(void 0),I=v.useRef(""),Q=v.useMemo(()=>{if(!r){P.current="",_.current=void 0;return}const B={...r};delete B.topSkillsMetric;const $=JSON.stringify(B);return P.current!==$&&(P.current=$,_.current=B),_.current},[r]),J=v.useMemo(()=>({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:Q,disruptionMethod:a}),[e,t,n,Q,a]);v.useEffect(()=>{if(!(typeof Worker>"u")&&!M&&i)return N.current||(N.current=new Worker(new URL(""+new URL(""+new URL("statsWorker-CnZv1iOF-DQjNc1Zf.js",import.meta.url).href,import.meta.url).href,import.meta.url),{type:"module"}),N.current.onmessage=B=>{var $;(($=B.data)==null?void 0:$.type)==="result"&&(s(B.data.result),typeof B.data.computeId=="number"?c(B.data.computeId):c(te=>te+1),typeof B.data.logCount=="number"&&f(B.data.logCount),typeof B.data.token=="number"&&m(B.data.token),typeof B.data.completedAt=="number"&&y(B.data.completedAt),typeof B.data.flushId=="number"&&g(B.data.flushId))},N.current.onerror=B=>{var $;console.warn("[StatsWorker] Worker error. Falling back to main thread.",B),($=N.current)==null||$.terminate(),N.current=null,O(!0)},N.current.onmessageerror=B=>{var $;console.warn("[StatsWorker] Worker message error. Falling back to main thread.",B),($=N.current)==null||$.terminate(),N.current=null,O(!0)},C.current!==null&&N.current.postMessage({type:"flush",flushId:C.current})),()=>{var B;(B=N.current)==null||B.terminate(),N.current=null}},[M,i]),v.useEffect(()=>{var B;if(!(!N.current||M||!i))try{b.current+=1,S(b.current),N.current.postMessage({type:"reset",token:b.current}),N.current.postMessage({type:"settings",payload:{precomputedStats:t,mvpWeights:n,statsViewSettings:Q,disruptionMethod:a}}),R.current&&(window.clearTimeout(R.current),R.current=null);let $=0;const te=()=>{if(!N.current)return;const k=5;for(let E=0;E<k&&$<e.length;E+=1,$+=1)N.current.postMessage({type:"log",payload:e[$]});$<e.length?R.current=window.setTimeout(te,0):(R.current=null,N.current.postMessage({type:"flush"}))};te()}catch($){console.warn("[StatsWorker] Failed to postMessage payload. Falling back to main thread.",$),(B=N.current)==null||B.terminate(),N.current=null,O(!0)}},[J,e,t,n,Q,a,i]);const re=v.useMemo(()=>!M&&typeof Worker<"u"&&i?null:ev({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:Q,disruptionMethod:a}),[M,e,t,n,Q,a,i]),he=v.useMemo(()=>{if(!M&&typeof Worker<"u"&&i)return"worker";const B=e[0],$=e[e.length-1];return JSON.stringify({logCount:e.length,firstLogPath:(B==null?void 0:B.filePath)||(B==null?void 0:B.name)||"",lastLogPath:($==null?void 0:$.filePath)||($==null?void 0:$.name)||"",precomputedTotal:Number((t==null?void 0:t.total)||0),precomputedUpdatedAt:String((t==null?void 0:t.updatedAt)||""),disruptionMethod:a||null,settingsKey:P.current})},[M,i,e,t,a]);return v.useEffect(()=>{!M&&typeof Worker<"u"&&i||I.current!==he&&(I.current=he,c(B=>B+1),f(e.length),m(b.current),y(Date.now()))},[he,M,e.length,i]),{result:M||typeof Worker>"u"||!i?re??ev({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:Q,disruptionMethod:a}):o,computeTick:l,lastComputedLogCount:d,lastComputedToken:p,activeToken:w,lastComputedAt:h,lastComputedFlushId:x,requestFlush:()=>{const B=Date.now();return C.current=B,N.current&&!M&&N.current.postMessage({type:"flush",flushId:B}),B}}},Z8=e=>({apmSpecBuckets:v.useMemo(()=>{const t=new Map,n=new Map((e.skillOptions||[]).map(i=>[i.id,i])),r=new Map,a=(i,o)=>{if(r.has(o))return r.get(o);const s=n.get(o);let l=!1;return s&&typeof s.autoAttack=="boolean"?l=s.autoAttack:l=aB(i),r.set(o,l),l};return(e.players||[]).forEach(i=>{const o=(i==null?void 0:i.profession)||"Unknown";let s=t.get(o);s||(s={profession:o,players:[],playerRows:[],totalActiveSeconds:0,totalCasts:0,totalAutoCasts:0,skills:[],skillMap:new Map},t.set(o,s)),s.players.push(i);const l=Number((i==null?void 0:i.totalActiveSeconds)||0),c=Number.isFinite(l)&&l>0?l:0;s.totalActiveSeconds+=c;let d=0,f=0;const p=i&&typeof i.skillTotals=="object"&&i.skillTotals!==null?i.skillTotals:{};Object.entries(p).forEach(([S,C])=>{const N=Number(C);if(!Number.isFinite(N)||N<=0)return;const M=n.get(S),O=(M==null?void 0:M.name)||S,R=M==null?void 0:M.icon,P=a(O,S);d+=N,P&&(f+=N);let _=s.skillMap.get(S);_||(_={id:S,name:O,icon:R,totalCasts:0,playerCounts:new Map},s.skillMap.set(S,_)),!_.icon&&R&&(_.icon=R),_.totalCasts+=N;const I=(i==null?void 0:i.key)||`${(i==null?void 0:i.account)||"Unknown"}|${o}`;_.playerCounts.set(I,N)}),s.totalCasts+=d,s.totalAutoCasts+=f;const m=c/60,h=m>0?d/m:0,y=Math.max(0,d-f),x=m>0?y/m:0,g=c>0?d/c:0,b=c>0?y/c:0,w={key:(i==null?void 0:i.key)||`${(i==null?void 0:i.account)||"Unknown"}|${o}`,account:(i==null?void 0:i.account)||"Unknown",displayName:(i==null?void 0:i.displayName)||(i==null?void 0:i.account)||"Unknown",profession:o,professionList:Array.isArray(i==null?void 0:i.professionList)?i.professionList:[o],logs:Number((i==null?void 0:i.logs)||0),totalActiveSeconds:c,totalCasts:d,totalAutoCasts:f,apm:h,apmNoAuto:x,aps:g,apsNoAuto:b};s.playerRows.push(w)}),t.forEach(i=>{i.playerRows.sort((c,d)=>d.apm-c.apm);const o=Number(i.totalActiveSeconds||0),s=o>0?o/60:0,l=Math.max(0,Number(i.totalCasts||0)-Number(i.totalAutoCasts||0));i.totalApm=s>0?Number(i.totalCasts||0)/s:0,i.totalApmNoAuto=s>0?l/s:0,i.totalAps=o>0?Number(i.totalCasts||0)/o:0,i.totalApsNoAuto=o>0?l/o:0,i.skills=Array.from(i.skillMap.values()).map(c=>{const d=i.playerRows.map(h=>{var y;const x=Number(((y=c.playerCounts)==null?void 0:y.get(h.key))||0);if(!Number.isFinite(x)||x<=0)return null;const g=Number(h.totalActiveSeconds||0),b=g>0?x/(g/60):0,w=g>0?x/g:0;return{...h,count:x,apm:b,aps:w}}).filter(Boolean).sort((h,y)=>y.apm-h.apm||String(h.displayName||"").localeCompare(String(y.displayName||""))),f=Number(c.totalCasts||0),p=o>0?f/o:0,m=s>0?f/s:0;return{...c,playerRows:d,totalCasts:f,totalCastsPerSecond:p,totalApm:m}}).sort((c,d)=>d.totalCasts-c.totalCasts)}),Array.from(t.values()).sort((i,o)=>i.profession.localeCompare(o.profession))},[e])}),eU=({skillUsageData:e,selectedSkillId:t,selectedPlayers:n,skillUsageView:r})=>{const a=v.useMemo(()=>{const d=new Map;return e.players.forEach(f=>d.set(f.key,f)),d},[e.players]),i=v.useMemo(()=>{const d=new Map;if(!t)return d;const f=r==="perSecond";return e.players.forEach(p=>{const m=p.skillTotals[t]||0;if(m===0)return;let h=m;if(f){const y=p.totalActiveSeconds||1;h=y>0?m/y:0}d.set(p.key,h)}),d},[e.players,t,r]),o=v.useMemo(()=>t?Array.from(i.entries()).map(([d,f])=>{const p=a.get(d);return{key:d,name:(p==null?void 0:p.displayName)||d,profession:(p==null?void 0:p.profession)||"Unknown",value:f}}).sort((d,f)=>f.value-d.value):[],[i,a,t]),{chartData:s,maxY:l}=v.useMemo(()=>{if(!t)return{chartData:[],maxY:0};let d=0;const f=r==="perSecond";return{chartData:e.logRecords.map((p,m)=>{const h=p.skillEntries[t];if(!h)return null;const y={index:m,name:p.label,shortLabel:p.label,fullLabel:p.label,timestamp:p.timestamp};let x=!1,g=!1;if(Object.entries(h.players).forEach(([b,w])=>{var S;if(n.size>0&&!n.has(b))return;let C=w;if(f){const N=((S=p.playerActiveSeconds)==null?void 0:S[b])||0;C=N>0?w/N:0}y[b]=C,C>d&&(d=C),x=!0,g=!0}),n.size>0){if(!g)return null}else if(!x)return null;return n.forEach(b=>{y[b]===void 0&&(y[b]=0)}),y}).filter(p=>p!==null),maxY:d}},[e.logRecords,t,n,r]),c=v.useMemo(()=>{const d={};return e.players.forEach(f=>{const p=f.profession||"Unknown";d[p]||(d[p]=[]),d[p].push(f)}),Object.entries(d).map(([f,p])=>({profession:f,players:p.sort((m,h)=>m.displayName.localeCompare(h.displayName))})).sort((f,p)=>f.profession.localeCompare(p.profession))},[e.players]);return{playerMapByKey:a,playerTotalsForSkill:i,skillBarData:o,skillChartData:s,skillChartMaxY:l,groupedSkillUsagePlayers:c}};function NO(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=NO(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function jn(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=NO(e))&&(r&&(r+=" "),r+=t);return r}var tU=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function M1(e){if(typeof e!="string")return!1;var t=tU;return t.includes(e)}var nU=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],rU=new Set(nU);function jO(e){return typeof e!="string"?!1:rU.has(e)}function CO(e){return typeof e=="string"&&e.startsWith("data-")}function Vi(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(jO(n)||CO(n))&&(t[n]=e[n]);return t}function Lu(e){if(e==null)return null;if(v.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Vi(t)}return typeof e=="object"&&!Array.isArray(e)?Vi(e):null}function $a(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(jO(n)||CO(n)||M1(n))&&(t[n]=e[n]);return t}function aU(e){return e==null?null:v.isValidElement(e)?$a(e.props):typeof e=="object"&&!Array.isArray(e)?$a(e):null}var iU=["children","width","height","viewBox","className","style","title","desc"];function Xb(){return Xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xb.apply(null,arguments)}function oU(e,t){if(e==null)return{};var n,r,a=sU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function sU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var A1=v.forwardRef((e,t)=>{var{children:n,width:r,height:a,viewBox:i,className:o,style:s,title:l,desc:c}=e,d=oU(e,iU),f=i||{width:r,height:a,x:0,y:0},p=jn("recharts-surface",o);return v.createElement("svg",Xb({},$a(d),{className:p,width:r,height:a,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),v.createElement("title",null,l),v.createElement("desc",null,c),n)}),lU=["children","className"];function Jb(){return Jb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jb.apply(null,arguments)}function cU(e,t){if(e==null)return{};var n,r,a=uU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function uU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ni=v.forwardRef((e,t)=>{var{children:n,className:r}=e,a=cU(e,lU),i=jn("recharts-layer",r);return v.createElement("g",Jb({className:i},$a(a),{ref:t}),n)}),MO=v.createContext(null),dU=()=>v.useContext(MO);function Gn(e){return function(){return e}}const AO=Math.cos,Lh=Math.sin,ho=Math.sqrt,Rh=Math.PI,c0=2*Rh,Qb=Math.PI,Zb=2*Qb,Ul=1e-6,fU=Zb-Ul;function PO(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function pU(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return PO;const n=10**t;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class mU{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?PO:pU(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,i,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,r,a,i){if(t=+t,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,l=r-t,c=a-n,d=o-t,f=s-n,p=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>Ul)if(!(Math.abs(f*l-c*d)>Ul)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-o,h=a-s,y=l*l+c*c,x=m*m+h*h,g=Math.sqrt(y),b=Math.sqrt(p),w=i*Math.tan((Qb-Math.acos((y+p-x)/(2*g*b)))/2),S=w/b,C=w/g;Math.abs(S-1)>Ul&&this._append`L${t+S*d},${n+S*f}`,this._append`A${i},${i},0,0,${+(f*m>d*h)},${this._x1=t+C*l},${this._y1=n+C*c}`}}arc(t,n,r,a,i,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(a),l=r*Math.sin(a),c=t+s,d=n+l,f=1^o,p=o?a-i:i-a;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>Ul||Math.abs(this._y1-d)>Ul)&&this._append`L${c},${d}`,r&&(p<0&&(p=p%Zb+Zb),p>fU?this._append`A${r},${r},0,1,${f},${t-s},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=d}`:p>Ul&&this._append`A${r},${r},0,${+(p>=Qb)},${f},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function P1(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new mU(t)}function E1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function EO(e){this._context=e}EO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function u0(e){return new EO(e)}function TO(e){return e[0]}function OO(e){return e[1]}function DO(e,t){var n=Gn(!0),r=null,a=u0,i=null,o=P1(s);e=typeof e=="function"?e:e===void 0?TO:Gn(e),t=typeof t=="function"?t:t===void 0?OO:Gn(t);function s(l){var c,d=(l=E1(l)).length,f,p=!1,m;for(r==null&&(i=a(m=o())),c=0;c<=d;++c)!(c<d&&n(f=l[c],c,l))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(f,c,l),+t(f,c,l));if(m)return i=null,m+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Gn(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Gn(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Gn(!!l),s):n},s.curve=function(l){return arguments.length?(a=l,r!=null&&(i=a(r)),s):a},s.context=function(l){return arguments.length?(l==null?r=i=null:i=a(r=l),s):r},s}function hm(e,t,n){var r=null,a=Gn(!0),i=null,o=u0,s=null,l=P1(c);e=typeof e=="function"?e:e===void 0?TO:Gn(+e),t=typeof t=="function"?t:Gn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?OO:Gn(+n);function c(f){var p,m,h,y=(f=E1(f)).length,x,g=!1,b,w=new Array(y),S=new Array(y);for(i==null&&(s=o(b=l())),p=0;p<=y;++p){if(!(p<y&&a(x=f[p],p,f))===g)if(g=!g)m=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=p-1;h>=m;--h)s.point(w[h],S[h]);s.lineEnd(),s.areaEnd()}g&&(w[p]=+e(x,p,f),S[p]=+t(x,p,f),s.point(r?+r(x,p,f):w[p],n?+n(x,p,f):S[p]))}if(b)return s=null,b+""||null}function d(){return DO().defined(a).curve(o).context(i)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Gn(+f),r=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Gn(+f),c):e},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Gn(+f),c):r},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Gn(+f),n=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Gn(+f),c):t},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Gn(+f),c):n},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(n)},c.lineX1=function(){return d().x(r).y(t)},c.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Gn(!!f),c):a},c.curve=function(f){return arguments.length?(o=f,i!=null&&(s=o(i)),c):o},c.context=function(f){return arguments.length?(f==null?i=s=null:s=o(i=f),c):i},c}class IO{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function hU(e){return new IO(e,!0)}function gU(e){return new IO(e,!1)}const T1={draw(e,t){const n=ho(t/Rh);e.moveTo(n,0),e.arc(0,0,n,0,c0)}},yU={draw(e,t){const n=ho(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},_O=ho(1/3),vU=_O*2,bU={draw(e,t){const n=ho(t/vU),r=n*_O;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},xU={draw(e,t){const n=ho(t),r=-n/2;e.rect(r,r,n,n)}},wU=.8908130915292852,FO=Lh(Rh/10)/Lh(7*Rh/10),kU=Lh(c0/10)*FO,SU=-AO(c0/10)*FO,NU={draw(e,t){const n=ho(t*wU),r=kU*n,a=SU*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){const o=c0*i/5,s=AO(o),l=Lh(o);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*a,l*r+s*a)}e.closePath()}},tv=ho(3),jU={draw(e,t){const n=-ho(t/(tv*3));e.moveTo(0,n*2),e.lineTo(-tv*n,-n),e.lineTo(tv*n,-n),e.closePath()}},Mi=-.5,Ai=ho(3)/2,ex=1/ho(12),CU=(ex/2+1)*3,MU={draw(e,t){const n=ho(t/CU),r=n/2,a=n*ex,i=r,o=n*ex+n,s=-i,l=o;e.moveTo(r,a),e.lineTo(i,o),e.lineTo(s,l),e.lineTo(Mi*r-Ai*a,Ai*r+Mi*a),e.lineTo(Mi*i-Ai*o,Ai*i+Mi*o),e.lineTo(Mi*s-Ai*l,Ai*s+Mi*l),e.lineTo(Mi*r+Ai*a,Mi*a-Ai*r),e.lineTo(Mi*i+Ai*o,Mi*o-Ai*i),e.lineTo(Mi*s+Ai*l,Mi*l-Ai*s),e.closePath()}};function AU(e,t){let n=null,r=P1(a);e=typeof e=="function"?e:Gn(e||T1),t=typeof t=="function"?t:Gn(t===void 0?64:+t);function a(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Gn(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Gn(+i),a):t},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function $h(){}function zh(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function LO(e){this._context=e}LO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function PU(e){return new LO(e)}function RO(e){this._context=e}RO.prototype={areaStart:$h,areaEnd:$h,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:zh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function EU(e){return new RO(e)}function $O(e){this._context=e}$O.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:zh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function TU(e){return new $O(e)}function zO(e){this._context=e}zO.prototype={areaStart:$h,areaEnd:$h,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function OU(e){return new zO(e)}function ej(e){return e<0?-1:1}function tj(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),s=(i*a+o*r)/(r+a);return(ej(i)+ej(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function nj(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function nv(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-r)/3;e._context.bezierCurveTo(r+s,a+s*t,i-s,o-s*n,i,o)}function Bh(e){this._context=e}Bh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:nv(this,this._t0,nj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,nv(this,nj(this,n=tj(this,e,t)),n);break;default:nv(this,this._t0,n=tj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function BO(e){this._context=new UO(e)}(BO.prototype=Object.create(Bh.prototype)).point=function(e,t){Bh.prototype.point.call(this,t,e)};function UO(e){this._context=e}UO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}};function DU(e){return new Bh(e)}function IU(e){return new BO(e)}function VO(e){this._context=e}VO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=rj(e),a=rj(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function rj(e){var t,n=e.length-1,r,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function _U(e){return new VO(e)}function d0(e,t){this._context=e,this._t=t}d0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function FU(e){return new d0(e,.5)}function LU(e){return new d0(e,0)}function RU(e){return new d0(e,1)}function yc(e,t){if((o=e.length)>1)for(var n=1,r,a,i=e[t[0]],o,s=i.length;n<o;++n)for(a=i,i=e[t[n]],r=0;r<s;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function tx(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function $U(e,t){return e[t]}function zU(e){const t=[];return t.key=e,t}function BU(){var e=Gn([]),t=tx,n=yc,r=$U;function a(i){var o=Array.from(e.apply(this,arguments),zU),s,l=o.length,c=-1,d;for(const f of i)for(s=0,++c;s<l;++s)(o[s][c]=[0,+r(f,o[s].key,c,i)]).data=f;for(s=0,d=E1(t(o));s<l;++s)o[d[s]].index=s;return n(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Gn(Array.from(i)),a):e},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:Gn(+i),a):r},a.order=function(i){return arguments.length?(t=i==null?tx:typeof i=="function"?i:Gn(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(n=i??yc,a):n},a}function UU(e,t){if((r=e.length)>0){for(var n,r,a=0,i=e[0].length,o;a<i;++a){for(o=n=0;n<r;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<r;++n)e[n][a][1]/=o}yc(e,t)}}function VU(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,i=r.length;n<i;++n){for(var o=0,s=0;o<a;++o)s+=e[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}yc(e,t)}}function HU(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,i,o;r<i;++r){for(var s=0,l=0,c=0;s<o;++s){for(var d=e[t[s]],f=d[r][1]||0,p=d[r-1][1]||0,m=(f-p)/2,h=0;h<s;++h){var y=e[t[h]],x=y[r][1]||0,g=y[r-1][1]||0;m+=x-g}l+=f,c+=m*f}a[r-1][1]+=a[r-1][0]=n,l&&(n-=c/l)}a[r-1][1]+=a[r-1][0]=n,yc(e,t)}}var f0={},HO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(HO);var O1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(O1);var p0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(p0);var m0={},WO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(WO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WO,n=p0;function r(a){if(Array.isArray(a))return a.map(n.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],o=a.length;if(o===0)return i;let s=0,l="",c="",d=!1;for(a.charCodeAt(0)===46&&(i.push(""),s++);s<o;){const f=a[s];c?f==="\\"&&s+1<o?(s++,l+=a[s]):f===c?c="":l+=f:d?f==='"'||f==="'"?c=f:f==="]"?(d=!1,i.push(l),l=""):l+=f:f==="["?(d=!0,l&&(i.push(l),l="")):f==="."?l&&(i.push(l),l=""):l+=f,s++}return l&&i.push(l),i}e.toPath=r})(m0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HO,n=O1,r=p0,a=m0;function i(s,l,c){if(s==null)return c;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return c;const d=s[l];return d===void 0?n.isDeepKey(l)?i(s,a.toPath(l),c):c:d}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const d=s[l];return d===void 0?c:d}default:{if(Array.isArray(l))return o(s,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return c;const d=s[l];return d===void 0?c:d}}}function o(s,l,c){if(l.length===0)return c;let d=s;for(let f=0;f<l.length;f++){if(d==null||t.isUnsafeProperty(l[f]))return c;d=d[l[f]]}return d===void 0?c:d}e.get=i})(f0);var WU=f0.get;const vc=mo(WU);var qU=4;function rl(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:qU,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function br(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((a,i,o)=>{var s=n[o-1];return typeof s=="string"?a+s+i:s!==void 0?a+rl(s)+i:a+i},"")}var Ca=e=>e===0?0:e>0?1:-1,Ro=e=>typeof e=="number"&&e!=+e,gs=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,kt=e=>(typeof e=="number"||e instanceof Number)&&!Ro(e),$o=e=>kt(e)||typeof e=="string",KU=0,Tf=e=>{var t=++KU;return"".concat(e||"").concat(t)},zi=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!kt(e)&&typeof e!="string")return n;var a;if(gs(e)){if(t==null)return n;var i=e.indexOf("%");a=t*parseFloat(e.slice(0,i))/100}else a=+e;return Ro(a)&&(a=n),r&&t!=null&&a>t&&(a=t),a},qO=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function ja(e,t,n){return kt(e)&&kt(t)?rl(e+n*(t-e)):t}function KO(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):vc(r,t))===n)}var Gr=e=>e===null||typeof e>"u",sp=e=>Gr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function YU(e){return e!=null}function lp(){}var GU=["type","size","sizeType"];function nx(){return nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nx.apply(null,arguments)}function aj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ij(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aj(Object(n),!0).forEach(function(r){XU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XU(e,t,n){return(t=JU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JU(e){var t=QU(e,"string");return typeof t=="symbol"?t:t+""}function QU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZU(e,t){if(e==null)return{};var n,r,a=e7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function e7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var YO={symbolCircle:T1,symbolCross:yU,symbolDiamond:bU,symbolSquare:xU,symbolStar:NU,symbolTriangle:jU,symbolWye:MU},t7=Math.PI/180,n7=e=>{var t="symbol".concat(sp(e));return YO[t]||T1},r7=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*t7;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},a7=(e,t)=>{YO["symbol".concat(sp(e))]=t},D1=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,a=ZU(e,GU),i=ij(ij({},a),{},{type:t,size:n,sizeType:r}),o="circle";typeof t=="string"&&(o=t);var s=()=>{var p=n7(o),m=AU().type(p).size(r7(n,r,o)),h=m();if(h!==null)return h},{className:l,cx:c,cy:d}=i,f=$a(i);return kt(c)&&kt(d)&&kt(n)?v.createElement("path",nx({},f,{className:jn("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(d,")"),d:s()})):null};D1.registerSymbol=a7;var GO=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,I1=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{M1(a)&&(r[a]=i=>n[a](n,i))}),r},i7=(e,t,n)=>r=>(e(t,n,r),null),_1=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(a=>{var i=e[a];M1(a)&&typeof i=="function"&&(r||(r={}),r[a]=i7(i,t,n))}),r};function oj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function o7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oj(Object(n),!0).forEach(function(r){s7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function s7(e,t,n){return(t=l7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l7(e){var t=c7(e,"string");return typeof t=="symbol"?t:t+""}function c7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xr(e,t){var n=o7({},e),r=t,a=Object.keys(t),i=a.reduce((o,s)=>(o[s]===void 0&&r[s]!==void 0&&(o[s]=r[s]),o),n);return i}function Uh(){return Uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uh.apply(null,arguments)}function sj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function u7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sj(Object(n),!0).forEach(function(r){d7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function d7(e,t,n){return(t=f7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f7(e){var t=p7(e,"string");return typeof t=="symbol"?t:t+""}function p7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oi=32,m7={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function h7(e){var{data:t,iconType:n,inactiveColor:r}=e,a=Oi/2,i=Oi/6,o=Oi/3,s=t.inactive?r:t.color,l=n??t.type;if(l==="none")return null;if(l==="plainline"){var c;return v.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:(c=t.payload)===null||c===void 0?void 0:c.strokeDasharray,x1:0,y1:a,x2:Oi,y2:a,className:"recharts-legend-icon"})}if(l==="line")return v.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(Oi,"M").concat(2*o,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(l==="rect")return v.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(Oi/8,"h").concat(Oi,"v").concat(Oi*3/4,"h").concat(-Oi,"z"),className:"recharts-legend-icon"});if(v.isValidElement(t.legendIcon)){var d=u7({},t);return delete d.legendIcon,v.cloneElement(t.legendIcon,d)}return v.createElement(D1,{fill:s,cx:a,cy:a,size:Oi,sizeType:"diameter",type:l})}function g7(e){var{payload:t,iconSize:n,layout:r,formatter:a,inactiveColor:i,iconType:o}=e,s={x:0,y:0,width:Oi,height:Oi},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var p=d.formatter||a,m=jn({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var h=d.inactive?i:d.color,y=p?p(d.value,d,f):d.value;return v.createElement("li",Uh({className:m,style:l,key:"legend-item-".concat(f)},_1(e,d,f)),v.createElement(A1,{width:n,height:n,viewBox:s,style:c,"aria-label":"".concat(y," legend icon")},v.createElement(h7,{data:d,iconType:o,inactiveColor:i})),v.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},y))})}var y7=e=>{var t=Xr(e,m7),{payload:n,layout:r,align:a}=t;if(!n||!n.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?a:"left"};return v.createElement("ul",{className:"recharts-default-legend",style:i},v.createElement(g7,Uh({},t,{payload:n})))},XO={},JO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const a=new Map;for(let i=0;i<n.length;i++){const o=n[i],s=r(o,i,n);a.has(s)||a.set(s,o)}return Array.from(a.values())}e.uniqBy=t})(JO);var QO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...a){return n.apply(this,a.slice(0,r))}}e.ary=t})(QO);var F1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(F1);var ZO={},h0={},eD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(eD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eD;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(h0);var tD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(tD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h0,n=tD;function r(a){return n.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=r})(ZO);var nD={},rD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f0;function n(r){return function(a){return t.get(a,r)}}e.property=n})(rD);var aD={},L1={},iD={},R1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(R1);var $1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})($1);var z1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(z1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R1,n=$1,r=z1;function a(d,f,p){return typeof p!="function"?a(d,f,()=>{}):i(d,f,function m(h,y,x,g,b,w){const S=p(h,y,x,g,b,w);return S!==void 0?!!S:i(h,y,m,w)},new Map)}function i(d,f,p,m){if(f===d)return!0;switch(typeof f){case"object":return o(d,f,p,m);case"function":return Object.keys(f).length>0?i(d,{...f},p,m):r.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:r.isEqualsSameValueZero(d,f)}}function o(d,f,p,m){if(f==null)return!0;if(Array.isArray(f))return l(d,f,p,m);if(f instanceof Map)return s(d,f,p,m);if(f instanceof Set)return c(d,f,p,m);const h=Object.keys(f);if(d==null||n.isPrimitive(d))return h.length===0;if(h.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let y=0;y<h.length;y++){const x=h[y];if(!n.isPrimitive(d)&&!(x in d)||f[x]===void 0&&d[x]!==void 0||f[x]===null&&d[x]!==null||!p(d[x],f[x],x,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function s(d,f,p,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[h,y]of f.entries()){const x=d.get(h);if(p(x,y,h,d,f,m)===!1)return!1}return!0}function l(d,f,p,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const h=new Set;for(let y=0;y<f.length;y++){const x=f[y];let g=!1;for(let b=0;b<d.length;b++){if(h.has(b))continue;const w=d[b];let S=!1;if(p(w,x,y,d,f,m)&&(S=!0),S){h.add(b),g=!0;break}}if(!g)return!1}return!0}function c(d,f,p,m){return f.size===0?!0:d instanceof Set?l([...d],[...f],p,m):!1}e.isMatchWith=a,e.isSetMatch=c})(iD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iD;function n(r,a){return t.isMatchWith(r,a,()=>{})}e.isMatch=n})(L1);var oD={},B1={},sD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(sD);var g0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(g0);var U1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",s="[object Date]",l="[object Map]",c="[object Set]",d="[object Array]",f="[object Function]",p="[object ArrayBuffer]",m="[object Object]",h="[object Error]",y="[object DataView]",x="[object Uint8Array]",g="[object Uint8ClampedArray]",b="[object Uint16Array]",w="[object Uint32Array]",S="[object BigUint64Array]",C="[object Int8Array]",N="[object Int16Array]",M="[object Int32Array]",O="[object BigInt64Array]",R="[object Float32Array]",P="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=p,e.arrayTag=d,e.bigInt64ArrayTag=O,e.bigUint64ArrayTag=S,e.booleanTag=a,e.dataViewTag=y,e.dateTag=s,e.errorTag=h,e.float32ArrayTag=R,e.float64ArrayTag=P,e.functionTag=f,e.int16ArrayTag=N,e.int32ArrayTag=M,e.int8ArrayTag=C,e.mapTag=l,e.numberTag=r,e.objectTag=m,e.regexpTag=t,e.setTag=c,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=b,e.uint32ArrayTag=w,e.uint8ArrayTag=x,e.uint8ClampedArrayTag=g})(U1);var lD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(lD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sD,n=g0,r=U1,a=$1,i=lD;function o(d,f){return s(d,void 0,d,new Map,f)}function s(d,f,p,m=new Map,h=void 0){const y=h==null?void 0:h(d,f,p,m);if(y!==void 0)return y;if(a.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const x=new Array(d.length);m.set(d,x);for(let g=0;g<d.length;g++)x[g]=s(d[g],g,p,m,h);return Object.hasOwn(d,"index")&&(x.index=d.index),Object.hasOwn(d,"input")&&(x.input=d.input),x}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const x=new RegExp(d.source,d.flags);return x.lastIndex=d.lastIndex,x}if(d instanceof Map){const x=new Map;m.set(d,x);for(const[g,b]of d)x.set(g,s(b,g,p,m,h));return x}if(d instanceof Set){const x=new Set;m.set(d,x);for(const g of d)x.add(s(g,void 0,p,m,h));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const x=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,x);for(let g=0;g<d.length;g++)x[g]=s(d[g],g,p,m,h);return x}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const x=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,x),l(x,d,p,m,h),x}if(typeof File<"u"&&d instanceof File){const x=new File([d],d.name,{type:d.type});return m.set(d,x),l(x,d,p,m,h),x}if(typeof Blob<"u"&&d instanceof Blob){const x=new Blob([d],{type:d.type});return m.set(d,x),l(x,d,p,m,h),x}if(d instanceof Error){const x=new d.constructor;return m.set(d,x),x.message=d.message,x.name=d.name,x.stack=d.stack,x.cause=d.cause,l(x,d,p,m,h),x}if(d instanceof Boolean){const x=new Boolean(d.valueOf());return m.set(d,x),l(x,d,p,m,h),x}if(d instanceof Number){const x=new Number(d.valueOf());return m.set(d,x),l(x,d,p,m,h),x}if(d instanceof String){const x=new String(d.valueOf());return m.set(d,x),l(x,d,p,m,h),x}if(typeof d=="object"&&c(d)){const x=Object.create(Object.getPrototypeOf(d));return m.set(d,x),l(x,d,p,m,h),x}return d}function l(d,f,p=d,m,h){const y=[...Object.keys(f),...t.getSymbols(f)];for(let x=0;x<y.length;x++){const g=y[x],b=Object.getOwnPropertyDescriptor(d,g);(b==null||b.writable)&&(d[g]=s(f[g],g,p,m,h))}}function c(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=s,e.copyProperties=l})(B1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B1;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(oD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L1,n=oD;function r(a){return a=n.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=r})(aD);var cD={},uD={},dD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B1,n=g0,r=U1;function a(i,o){return t.cloneDeepWith(i,(s,l,c,d)=>{const f=o==null?void 0:o(s,l,c,d);if(f!==void 0)return f;if(typeof i=="object"){if(n.getTag(i)===r.objectTag&&typeof i.constructor!="function"){const p={};return d.set(i,p),t.copyProperties(p,i,c,d),p}switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(p,i),p}case r.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}}})}e.cloneDeepWith=a})(dD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dD;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(uD);var fD={},V1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(V1);var pD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g0;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(pD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O1,n=V1,r=pD,a=m0;function i(o,s){let l;if(Array.isArray(s)?l=s:typeof s=="string"&&t.isDeepKey(s)&&(o==null?void 0:o[s])==null?l=a.toPath(s):l=[s],l.length===0)return!1;let c=o;for(let d=0;d<l.length;d++){const f=l[d];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}e.has=i})(fD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L1,n=p0,r=uD,a=f0,i=fD;function o(s,l){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=n.toKey(s);break}}return l=r.cloneDeep(l),function(c){const d=a.get(c,s);return d===void 0?i.has(c,s):l===void 0?d===void 0:t.isMatch(d,l)}}e.matchesProperty=o})(cD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F1,n=rD,r=aD,a=cD;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=i})(nD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JO,n=QO,r=F1,a=ZO,i=nD;function o(s,l=r.identity){return a.isArrayLikeObject(s)?t.uniqBy(Array.from(s),n.ary(i.iteratee(l),1)):[]}e.uniqBy=o})(XO);var v7=XO.uniqBy;const lj=mo(v7);function mD(e,t,n){return t===!0?lj(e,n):typeof t=="function"?lj(e,t):e}var hD={exports:{}},gD={},yD={exports:{}},vD={};/**
* @license React
* use-sync-external-store-shim.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Ru=v;function b7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var x7=typeof Object.is=="function"?Object.is:b7,w7=Ru.useState,k7=Ru.useEffect,S7=Ru.useLayoutEffect,N7=Ru.useDebugValue;function j7(e,t){var n=t(),r=w7({inst:{value:n,getSnapshot:t}}),a=r[0].inst,i=r[1];return S7(function(){a.value=n,a.getSnapshot=t,rv(a)&&i({inst:a})},[e,n,t]),k7(function(){return rv(a)&&i({inst:a}),e(function(){rv(a)&&i({inst:a})})},[e]),N7(n),n}function rv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!x7(e,n)}catch{return!0}}function C7(e,t){return t()}var M7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?C7:j7;vD.useSyncExternalStore=Ru.useSyncExternalStore!==void 0?Ru.useSyncExternalStore:M7;yD.exports=vD;var A7=yD.exports;/**
* @license React
* use-sync-external-store-shim/with-selector.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var y0=v,P7=A7;function E7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var T7=typeof Object.is=="function"?Object.is:E7,O7=P7.useSyncExternalStore,D7=y0.useRef,I7=y0.useEffect,_7=y0.useMemo,F7=y0.useDebugValue;gD.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var i=D7(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=_7(function(){function l(m){if(!c){if(c=!0,d=m,m=r(m),a!==void 0&&o.hasValue){var h=o.value;if(a(h,m))return f=h}return f=m}if(h=f,T7(d,m))return h;var y=r(m);return a!==void 0&&a(h,y)?(d=m,h):(d=m,f=y)}var c=!1,d,f,p=n===void 0?null:n;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,n,r,a]);var s=O7(e,i[0],i[1]);return I7(function(){o.hasValue=!0,o.value=s},[s]),F7(s),s};hD.exports=gD;var L7=hD.exports,H1=v.createContext(null),R7=e=>e,qn=()=>{var e=v.useContext(H1);return e?e.store.dispatch:R7},Qm=()=>{},$7=()=>Qm,z7=(e,t)=>e===t;function xt(e){var t=v.useContext(H1);return L7.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:$7,t?t.store.getState:Qm,t?t.store.getState:Qm,t?e:Qm,z7)}function B7(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function U7(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function V7(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var cj=e=>Array.isArray(e)?e:[e];function H7(e){const t=Array.isArray(e[0])?e[0]:e;return V7(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function W7(e,t){const n=[],{length:r}=e;for(let a=0;a<r;a++)n.push(e[a].apply(null,t));return n}var q7=class{constructor(e){this.value=e}deref(){return this.value}},K7=typeof WeakRef<"u"?WeakRef:q7,Y7=0,uj=1;function gm(){return{s:Y7,v:void 0,o:null,p:null}}function bD(e,t={}){let n=gm();const{resultEqualityCheck:r}=t;let a,i=0;function o(){var s;let l=n;const{length:c}=arguments;for(let p=0,m=c;p<m;p++){const h=arguments[p];if(typeof h=="function"||typeof h=="object"&&h!==null){let y=l.o;y===null&&(l.o=y=new WeakMap);const x=y.get(h);x===void 0?(l=gm(),y.set(h,l)):l=x}else{let y=l.p;y===null&&(l.p=y=new Map);const x=y.get(h);x===void 0?(l=gm(),y.set(h,l)):l=x}}const d=l;let f;if(l.s===uj)f=l.v;else if(f=e.apply(null,arguments),i++,r){const p=((s=a==null?void 0:a.deref)==null?void 0:s.call(a))??a;p!=null&&r(p,f)&&(f=p,i!==0&&i--),a=typeof f=="object"&&f!==null||typeof f=="function"?new K7(f):f}return d.s=uj,d.v=f,f}return o.clearCache=()=>{n=gm(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function G7(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...a)=>{let i=0,o=0,s,l={},c=a.pop();typeof c=="object"&&(l=c,c=a.pop()),B7(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...n,...l},{memoize:f,memoizeOptions:p=[],argsMemoize:m=bD,argsMemoizeOptions:h=[]}=d,y=cj(p),x=cj(h),g=H7(a),b=f(function(){return i++,c.apply(null,arguments)},...y),w=m(function(){o++;const S=W7(g,arguments);return s=b.apply(null,S),s},...x);return Object.assign(w,{resultFunc:c,memoizedResultFunc:b,dependencies:g,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var ce=G7(bD),X7=Object.assign((e,t=ce)=>{U7(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((i,o,s)=>(i[n[s]]=o,i),{}))},{withTypes:()=>X7}),xD={},wD={},kD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,i)=>{if(r!==a){const o=t(r),s=t(a);if(o===s&&o===0){if(r<a)return i==="desc"?1:-1;if(r>a)return i==="desc"?-1:1}return i==="desc"?s-o:o-s}return 0};e.compareValues=n})(kD);var SD={},W1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(W1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W1,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(r.test(i)||!n.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(SD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kD,n=SD,r=m0;function a(i,o,s,l){if(i==null)return[];s=l?void 0:s,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(p=>String(p));const c=(p,m)=>{let h=p;for(let y=0;y<m.length&&h!=null;++y)h=h[m[y]];return h},d=(p,m)=>m==null||p==null?m:typeof p=="object"&&"key"in p?Object.hasOwn(m,p.key)?m[p.key]:c(m,p.path):typeof p=="function"?p(m):Array.isArray(p)?c(m,p):typeof m=="object"?m[p]:m,f=o.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return i.map(p=>({original:p,criteria:f.map(m=>d(m,p))})).slice().sort((p,m)=>{for(let h=0;h<f.length;h++){const y=t.compareValues(p.criteria[h],m.criteria[h],s[h]);if(y!==0)return y}return 0}).map(p=>p.original)}e.orderBy=a})(wD);var ND={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const a=[],i=Math.floor(r),o=(s,l)=>{for(let c=0;c<s.length;c++){const d=s[c];Array.isArray(d)&&l<i?o(d,l+1):a.push(d)}};return o(n,0),a}e.flatten=t})(ND);var q1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V1,n=h0,r=R1,a=z1;function i(o,s,l){return r.isObject(l)&&(typeof s=="number"&&n.isArrayLike(l)&&t.isIndex(s)&&s<l.length||typeof s=="string"&&s in l)?a.isEqualsSameValueZero(l[s],o):!1}e.isIterateeCall=i})(q1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wD,n=ND,r=q1;function a(i,...o){const s=o.length;return s>1&&r.isIterateeCall(i,o[0],o[1])?o=[]:s>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,n.flatten(o),["asc"])}e.sortBy=a})(xD);var J7=xD.sortBy;const v0=mo(J7);var jD=e=>e.legend.settings,Q7=e=>e.legend.size,Z7=e=>e.legend.payload,eV=ce([Z7,jD],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?v0(r,n):r});function tV(){return xt(eV)}var ym=1;function CD(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=v.useState({height:0,left:0,top:0,width:0}),r=v.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>ym||Math.abs(o.left-t.left)>ym||Math.abs(o.top-t.top)>ym||Math.abs(o.width-t.width)>ym)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function ua(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var nV=typeof Symbol=="function"&&Symbol.observable||"@@observable",dj=nV,av=()=>Math.random().toString(36).substring(7).split("").join("."),rV={INIT:`@@redux/INIT${av()}`,REPLACE:`@@redux/REPLACE${av()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${av()}`},Vh=rV;function K1(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function MD(e,t,n){if(typeof e!="function")throw new Error(ua(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ua(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ua(1));return n(MD)(e,t)}let r=e,a=t,i=new Map,o=i,s=0,l=!1;function c(){o===i&&(o=new Map,i.forEach((y,x)=>{o.set(x,y)}))}function d(){if(l)throw new Error(ua(3));return a}function f(y){if(typeof y!="function")throw new Error(ua(4));if(l)throw new Error(ua(5));let x=!0;c();const g=s++;return o.set(g,y),function(){if(x){if(l)throw new Error(ua(6));x=!1,c(),o.delete(g),i=null}}}function p(y){if(!K1(y))throw new Error(ua(7));if(typeof y.type>"u")throw new Error(ua(8));if(typeof y.type!="string")throw new Error(ua(17));if(l)throw new Error(ua(9));try{l=!0,a=r(a,y)}finally{l=!1}return(i=o).forEach(x=>{x()}),y}function m(y){if(typeof y!="function")throw new Error(ua(10));r=y,p({type:Vh.REPLACE})}function h(){const y=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(ua(11));function g(){const b=x;b.next&&b.next(d())}return g(),{unsubscribe:y(g)}},[dj](){return this}}}return p({type:Vh.INIT}),{dispatch:p,subscribe:f,getState:d,replaceReducer:m,[dj]:h}}function aV(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Vh.INIT})>"u")throw new Error(ua(12));if(typeof n(void 0,{type:Vh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ua(13))})}function AD(e){const t=Object.keys(e),n={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let a;try{aV(n)}catch(i){a=i}return function(i={},o){if(a)throw a;let s=!1;const l={};for(let c=0;c<r.length;c++){const d=r[c],f=n[d],p=i[d],m=f(p,o);if(typeof m>"u")throw o&&o.type,new Error(ua(14));l[d]=m,s=s||m!==p}return s=s||r.length!==Object.keys(i).length,s?l:i}}function Hh(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function iV(...e){return t=>(n,r)=>{const a=t(n,r);let i=()=>{throw new Error(ua(15))};const o={getState:a.getState,dispatch:(l,...c)=>i(l,...c)},s=e.map(l=>l(o));return i=Hh(...s)(a.dispatch),{...a,dispatch:i}}}function PD(e){return K1(e)&&"type"in e&&typeof e.type=="string"}var ED=Symbol.for("immer-nothing"),fj=Symbol.for("immer-draftable"),za=Symbol.for("immer-state");function to(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var hi=Object,$u=hi.getPrototypeOf,Wh="constructor",b0="prototype",rx="configurable",qh="enumerable",Zm="writable",Of="value",ys=e=>!!e&&!!e[za];function uo(e){var t;return e?TD(e)||w0(e)||!!e[fj]||!!((t=e[Wh])!=null&&t[fj])||k0(e)||S0(e):!1}var oV=hi[b0][Wh].toString(),pj=new WeakMap;function TD(e){if(!e||!Y1(e))return!1;const t=$u(e);if(t===null||t===hi[b0])return!0;const n=hi.hasOwnProperty.call(t,Wh)&&t[Wh];if(n===Object)return!0;if(!Zc(n))return!1;let r=pj.get(n);return r===void 0&&(r=Function.toString.call(n),pj.set(n,r)),r===oV}function x0(e,t,n=!0){cp(e)===0?(n?Reflect.ownKeys(e):hi.keys(e)).forEach(r=>{t(r,e[r],e)}):e.forEach((r,a)=>t(a,r,e))}function cp(e){const t=e[za];return t?t.type_:w0(e)?1:k0(e)?2:S0(e)?3:0}var mj=(e,t,n=cp(e))=>n===2?e.has(t):hi[b0].hasOwnProperty.call(e,t),ax=(e,t,n=cp(e))=>n===2?e.get(t):e[t],Kh=(e,t,n,r=cp(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function sV(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var w0=Array.isArray,k0=e=>e instanceof Map,S0=e=>e instanceof Set,Y1=e=>typeof e=="object",Zc=e=>typeof e=="function",iv=e=>typeof e=="boolean";function lV(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Qo=e=>e.copy_||e.base_,G1=e=>e.modified_?e.copy_:e.base_;function ix(e,t){if(k0(e))return new Map(e);if(S0(e))return new Set(e);if(w0(e))return Array[b0].slice.call(e);const n=TD(e);if(t===!0||t==="class_only"&&!n){const r=hi.getOwnPropertyDescriptors(e);delete r[za];let a=Reflect.ownKeys(r);for(let i=0;i<a.length;i++){const o=a[i],s=r[o];s[Zm]===!1&&(s[Zm]=!0,s[rx]=!0),(s.get||s.set)&&(r[o]={[rx]:!0,[Zm]:!0,[qh]:s[qh],[Of]:e[o]})}return hi.create($u(e),r)}else{const r=$u(e);if(r!==null&&n)return{...e};const a=hi.create(r);return hi.assign(a,e)}}function X1(e,t=!1){return N0(e)||ys(e)||!uo(e)||(cp(e)>1&&hi.defineProperties(e,{set:vm,add:vm,clear:vm,delete:vm}),hi.freeze(e),t&&x0(e,(n,r)=>{X1(r,!0)},!1)),e}function cV(){to(2)}var vm={[Of]:cV};function N0(e){return e===null||!Y1(e)?!0:hi.isFrozen(e)}var Yh="MapSet",ox="Patches",hj="ArrayMethods",OD={};function bc(e){const t=OD[e];return t||to(0,e),t}var gj=e=>!!OD[e],Df,DD=()=>Df,uV=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:gj(Yh)?bc(Yh):void 0,arrayMethodsPlugin_:gj(hj)?bc(hj):void 0});function yj(e,t){t&&(e.patchPlugin_=bc(ox),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function sx(e){lx(e),e.drafts_.forEach(dV),e.drafts_=null}function lx(e){e===Df&&(Df=e.parent_)}var vj=e=>Df=uV(Df,e);function dV(e){const t=e[za];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function bj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[za].modified_&&(sx(t),to(4)),uo(e)&&(e=xj(t,e));const{patchPlugin_:r}=t;r&&r.generateReplacementPatches_(n[za].base_,e,t)}else e=xj(t,n);return fV(t,e,!0),sx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==ED?e:void 0}function xj(e,t){if(N0(t))return t;const n=t[za];if(!n)return Gh(t,e.handledSet_,e);if(!j0(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);FD(n,e)}return n.copy_}function fV(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&X1(t,n)}function ID(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var j0=(e,t)=>e.scope_===t,pV=[];function _D(e,t,n,r){const a=Qo(e),i=e.type_;if(r!==void 0&&ax(a,r,i)===t){Kh(a,r,n,i);return}if(!e.draftLocations_){const s=e.draftLocations_=new Map;x0(a,(l,c)=>{if(ys(c)){const d=s.get(c)||[];d.push(l),s.set(c,d)}})}const o=e.draftLocations_.get(t)??pV;for(const s of o)Kh(a,s,n,i)}function mV(e,t,n){e.callbacks_.push(function(r){var a;const i=t;if(!i||!j0(i,r))return;(a=r.mapSetPlugin_)==null||a.fixSetContents(i);const o=G1(i);_D(e,i.draft_??i,o,n),FD(i,r)})}function FD(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:r}=t;if(r){const a=r.getPath(e);a&&r.generatePatches_(e,a,t)}ID(e)}}function hV(e,t,n){const{scope_:r}=e;if(ys(n)){const a=n[za];j0(a,r)&&a.callbacks_.push(function(){eh(e);const i=G1(a);_D(e,n,i,t)})}else uo(n)&&e.callbacks_.push(function(){const a=Qo(e);e.type_===3?a.has(n)&&Gh(n,r.handledSet_,r):ax(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Gh(ax(e.copy_,t,e.type_),r.handledSet_,r)})}function Gh(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||ys(e)||t.has(e)||!uo(e)||N0(e)||(t.add(e),x0(e,(r,a)=>{if(ys(a)){const i=a[za];if(j0(i,n)){const o=G1(i);Kh(e,r,o,e.type_),ID(i)}}else uo(a)&&Gh(a,t,n)})),e}function gV(e,t){const n=w0(e),r={type_:n?1:0,scope_:t?t.scope_:DD(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=r,i=Xh;n&&(a=[r],i=If);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return r.draft_=s,r.revoke_=o,[s,r]}var Xh={get(e,t){if(t===za)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const a=Qo(e);if(!mj(a,t,e.type_))return yV(e,a,t);const i=a[t];if(e.finalized_||!uo(i)||r&&e.operationMethod&&n!=null&&n.isMutatingArrayMethod(e.operationMethod)&&lV(t))return i;if(i===ov(e.base_,t)){eh(e);const o=e.type_===1?+t:t,s=ux(e.scope_,i,e,o);return e.copy_[o]=s}return i},has(e,t){return t in Qo(e)},ownKeys(e){return Reflect.ownKeys(Qo(e))},set(e,t,n){const r=LD(Qo(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=ov(Qo(e),t),i=a==null?void 0:a[za];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(sV(n,a)&&(n!==void 0||mj(e.base_,t,e.type_)))return!0;eh(e),cx(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),hV(e,t,n)),!0},deleteProperty(e,t){return eh(e),ov(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),cx(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Qo(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[Zm]:!0,[rx]:e.type_!==1||t!=="length",[qh]:r[qh],[Of]:n[t]}},defineProperty(){to(11)},getPrototypeOf(e){return $u(e.base_)},setPrototypeOf(){to(12)}},If={};for(let e in Xh){let t=Xh[e];If[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}If.deleteProperty=function(e,t){return If.set.call(this,e,t,void 0)};If.set=function(e,t,n){return Xh.set.call(this,e[0],t,n,e[0])};function ov(e,t){const n=e[za];return(n?Qo(n):e)[t]}function yV(e,t,n){var r;const a=LD(t,n);return a?Of in a?a[Of]:(r=a.get)==null?void 0:r.call(e.draft_):void 0}function LD(e,t){if(!(t in e))return;let n=$u(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=$u(n)}}function cx(e){e.modified_||(e.modified_=!0,e.parent_&&cx(e.parent_))}function eh(e){e.copy_||(e.assigned_=new Map,e.copy_=ix(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var vV=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,n,r)=>{if(Zc(t)&&!Zc(n)){const i=n;n=t;const o=this;return function(s=i,...l){return o.produce(s,c=>n.call(this,c,...l))}}Zc(n)||to(6),r!==void 0&&!Zc(r)&&to(7);let a;if(uo(t)){const i=vj(this),o=ux(i,t,void 0);let s=!0;try{a=n(o),s=!1}finally{s?sx(i):lx(i)}return yj(i,r),bj(a,i)}else if(!t||!Y1(t)){if(a=n(t),a===void 0&&(a=t),a===ED&&(a=void 0),this.autoFreeze_&&X1(a,!0),r){const i=[],o=[];bc(ox).generateReplacementPatches_(t,a,{patches_:i,inversePatches_:o}),r(i,o)}return a}else to(1,t)},this.produceWithPatches=(t,n)=>{if(Zc(t))return(i,...o)=>this.produceWithPatches(i,s=>t(s,...o));let r,a;return[this.produce(t,n,(i,o)=>{r=i,a=o}),r,a]},iv(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),iv(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),iv(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){uo(e)||to(8),ys(e)&&(e=oo(e));const t=vj(this),n=ux(t,e,void 0);return n[za].isManual_=!0,lx(t),n}finishDraft(e,t){const n=e&&e[za];(!n||!n.isManual_)&&to(9);const{scope_:r}=n;return yj(r,t),bj(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const r=bc(ox).applyPatches_;return ys(e)?r(e,t):this.produce(e,a=>r(a,t))}};function ux(e,t,n,r){const[a,i]=k0(t)?bc(Yh).proxyMap_(t,n):S0(t)?bc(Yh).proxySet_(t,n):gV(t,n);return((n==null?void 0:n.scope_)??DD()).drafts_.push(a),i.callbacks_=(n==null?void 0:n.callbacks_)??[],i.key_=r,n&&r!==void 0?mV(n,i,r):i.callbacks_.push(function(o){var s;(s=o.mapSetPlugin_)==null||s.fixSetContents(i);const{patchPlugin_:l}=o;i.modified_&&l&&l.generatePatches_(i,[],o)}),a}function oo(e){return ys(e)||to(10,e),RD(e)}function RD(e){if(!uo(e)||N0(e))return e;const t=e[za];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=ix(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=ix(e,!0);return x0(n,(a,i)=>{Kh(n,a,RD(i))},r),t&&(t.finalized_=!1),n}var bV=new vV,$D=bV.produce;function zD(e){return({dispatch:t,getState:n})=>r=>a=>typeof a=="function"?a(t,n,e):r(a)}var xV=zD(),wV=zD,kV=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Hh:Hh.apply(null,arguments)};function Hi(e,t){function n(...r){if(t){let a=t(...r);if(!a)throw new Error(yi(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>PD(r)&&r.type===e,n}var BD=class Ud extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Ud.prototype)}static get[Symbol.species](){return Ud}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Ud(...t[0].concat(this)):new Ud(...t.concat(this))}};function wj(e){return uo(e)?$D(e,()=>{}):e}function bm(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function SV(e){return typeof e=="boolean"}var NV=()=>function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:a=!0}=e??{};let i=new BD;return t&&(SV(t)?i.push(xV):i.push(wV(t.extraArgument))),i},UD="RTK_autoBatch",ir=()=>e=>({payload:e,meta:{[UD]:!0}}),kj=e=>t=>{setTimeout(t,e)},VD=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let a=!0,i=!1,o=!1;const s=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:kj(10):e.type==="callback"?e.queueNotification:kj(e.timeout),c=()=>{o=!1,i&&(i=!1,s.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>a&&d(),p=r.subscribe(f);return s.add(d),()=>{p(),s.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[UD]),i=!a,i&&(o||(o=!0,l(c))),r.dispatch(d)}finally{a=!0}}})},jV=e=>function(t){const{autoBatch:n=!0}=t??{};let r=new BD(e);return n&&r.push(VD(typeof n=="object"?n:void 0)),r};function CV(e){const t=NV(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let s;if(typeof n=="function")s=n;else if(K1(n))s=AD(n);else throw new Error(yi(1));let l;typeof r=="function"?l=r(t):l=t();let c=Hh;a&&(c=kV({trace:!1,...typeof a=="object"&&a}));const d=iV(...l),f=jV(d);let p=typeof o=="function"?o(f):f();const m=c(...p);return MD(s,i,m)}function HD(e){const t={},n=[];let r;const a={addCase(i,o){const s=typeof i=="string"?i:i.type;if(!s)throw new Error(yi(28));if(s in t)throw new Error(yi(29));return t[s]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return n.push({matcher:i,reducer:o}),a},addDefaultCase(i){return r=i,a}};return e(a),[t,n,r]}function MV(e){return typeof e=="function"}function AV(e,t){let[n,r,a]=HD(t),i;if(MV(e))i=()=>wj(e());else{const s=wj(e);i=()=>s}function o(s=i(),l){let c=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[a]),c.reduce((d,f)=>{if(f)if(ys(d)){const p=f(d,l);return p===void 0?d:p}else{if(uo(d))return $D(d,p=>f(p,l));{const p=f(d,l);if(p===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return d},s)}return o.getInitialState=i,o}var PV="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",EV=(e=21)=>{let t="",n=e;for(;n--;)t+=PV[Math.random()*64|0];return t},TV=Symbol.for("rtk-slice-createasyncthunk");function OV(e,t){return`${e}/${t}`}function DV({creators:e}={}){var t;const n=(t=e==null?void 0:e.asyncThunk)==null?void 0:t[TV];return function(r){const{name:a,reducerPath:i=a}=r;if(!a)throw new Error(yi(11));const o=(typeof r.reducers=="function"?r.reducers(_V()):r.reducers)||{},s=Object.keys(o),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(w,S){const C=typeof w=="string"?w:w.type;if(!C)throw new Error(yi(12));if(C in l.sliceCaseReducersByType)throw new Error(yi(13));return l.sliceCaseReducersByType[C]=S,c},addMatcher(w,S){return l.sliceMatchers.push({matcher:w,reducer:S}),c},exposeAction(w,S){return l.actionCreators[w]=S,c},exposeCaseReducer(w,S){return l.sliceCaseReducersByName[w]=S,c}};s.forEach(w=>{const S=o[w],C={reducerName:w,type:OV(a,w),createNotation:typeof r.reducers=="function"};LV(S)?$V(C,S,c,n):FV(C,S,c)});function d(){const[w={},S=[],C=void 0]=typeof r.extraReducers=="function"?HD(r.extraReducers):[r.extraReducers],N={...w,...l.sliceCaseReducersByType};return AV(r.initialState,M=>{for(let O in N)M.addCase(O,N[O]);for(let O of l.sliceMatchers)M.addMatcher(O.matcher,O.reducer);for(let O of S)M.addMatcher(O.matcher,O.reducer);C&&M.addDefaultCase(C)})}const f=w=>w,p=new Map,m=new WeakMap;let h;function y(w,S){return h||(h=d()),h(w,S)}function x(){return h||(h=d()),h.getInitialState()}function g(w,S=!1){function C(M){let O=M[w];return typeof O>"u"&&S&&(O=bm(m,C,x)),O}function N(M=f){const O=bm(p,S,()=>new WeakMap);return bm(O,M,()=>{const R={};for(const[P,_]of Object.entries(r.selectors??{}))R[P]=IV(_,M,()=>bm(m,M,x),S);return R})}return{reducerPath:w,getSelectors:N,get selectors(){return N(C)},selectSlice:C}}const b={name:a,reducer:y,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:x,...g(i),injectInto(w,{reducerPath:S,...C}={}){const N=S??i;return w.inject({reducerPath:N,reducer:y},C),{...b,...g(N,!0)}}};return b}}function IV(e,t,n,r){function a(i,...o){let s=t(i);return typeof s>"u"&&r&&(s=n()),e(s,...o)}return a.unwrapped=e,a}var ai=DV();function _V(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function FV({type:e,reducerName:t,createNotation:n},r,a){let i,o;if("reducer"in r){if(n&&!RV(r))throw new Error(yi(17));i=r.reducer,o=r.prepare}else i=r;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?Hi(e,o):Hi(e))}function LV(e){return e._reducerDefinitionType==="asyncThunk"}function RV(e){return e._reducerDefinitionType==="reducerWithPrepare"}function $V({type:e,reducerName:t},n,r,a){if(!a)throw new Error(yi(18));const{payloadCreator:i,fulfilled:o,pending:s,rejected:l,settled:c,options:d}=n,f=a(e,i,d);r.exposeAction(t,f),o&&r.addCase(f.fulfilled,o),s&&r.addCase(f.pending,s),l&&r.addCase(f.rejected,l),c&&r.addMatcher(f.settled,c),r.exposeCaseReducer(t,{fulfilled:o||xm,pending:s||xm,rejected:l||xm,settled:c||xm})}function xm(){}var zV="task",WD="listener",qD="completed",J1="cancelled",BV=`task-${J1}`,UV=`task-${qD}`,dx=`${WD}-${J1}`,VV=`${WD}-${qD}`,C0=class{constructor(e){T2(this,"name","TaskAbortError"),T2(this,"message"),this.code=e,this.message=`${zV} ${J1} (reason: ${e})`}},Q1=(e,t)=>{if(typeof e!="function")throw new TypeError(yi(32))},Jh=()=>{},KD=(e,t=Jh)=>(e.catch(t),e),YD=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),lc=e=>{if(e.aborted)throw new C0(e.reason)};function GD(e,t){let n=Jh;return new Promise((r,a)=>{const i=()=>a(new C0(e.reason));if(e.aborted){i();return}n=YD(e,i),t.finally(()=>n()).then(r,a)}).finally(()=>{n=Jh})}var HV=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof C0?"cancelled":"rejected",error:n}}finally{t==null||t()}},Qh=e=>t=>KD(GD(e,t).then(n=>(lc(e),n))),XD=e=>{const t=Qh(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:ju}=Object,Sj={},M0="listenerMiddleware",WV=(e,t)=>{const n=r=>YD(e,()=>r.abort(e.reason));return(r,a)=>{Q1(r);const i=new AbortController;n(i);const o=HV(async()=>{lc(e),lc(i.signal);const s=await r({pause:Qh(i.signal),delay:XD(i.signal),signal:i.signal});return lc(i.signal),s},()=>i.abort(UV));return a!=null&&a.autoJoin&&t.push(o.catch(Jh)),{result:Qh(e)(o),cancel(){i.abort(BV)}}}},qV=(e,t)=>{const n=async(r,a)=>{lc(t);let i=()=>{};const o=[new Promise((s,l)=>{let c=e({predicate:r,effect:(d,f)=>{f.unsubscribe(),s([d,f.getState(),f.getOriginalState()])}});i=()=>{c(),l()}})];a!=null&&o.push(new Promise(s=>setTimeout(s,a,null)));try{const s=await GD(t,Promise.race(o));return lc(t),s}finally{i()}};return(r,a)=>KD(n(r,a))},JD=e=>{let{type:t,actionCreator:n,matcher:r,predicate:a,effect:i}=e;if(t)a=Hi(t).match;else if(n)t=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(yi(21));return Q1(i),{predicate:a,type:t,effect:i}},QD=ju(e=>{const{type:t,predicate:n,effect:r}=JD(e);return{id:EV(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(yi(22))}}},{withTypes:()=>QD}),Nj=(e,t)=>{const{type:n,effect:r,predicate:a}=JD(t);return Array.from(e.values()).find(i=>(typeof n=="string"?i.type===n:i.predicate===a)&&i.effect===r)},fx=e=>{e.pending.forEach(t=>{t.abort(dx)})},KV=(e,t)=>()=>{for(const n of t.keys())fx(n);e.clear()},jj=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},ZD=ju(Hi(`${M0}/add`),{withTypes:()=>ZD}),YV=Hi(`${M0}/removeAll`),e3=ju(Hi(`${M0}/remove`),{withTypes:()=>e3}),GV=(...e)=>{console.error(`${M0}/error`,...e)},up=(e={})=>{const t=new Map,n=new Map,r=p=>{const m=n.get(p)??0;n.set(p,m+1)},a=p=>{const m=n.get(p)??1;m===1?n.delete(p):n.set(p,m-1)},{extra:i,onError:o=GV}=e;Q1(o);const s=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),m=>{p.unsubscribe(),m!=null&&m.cancelActive&&fx(p)}),l=p=>{const m=Nj(t,p)??QD(p);return s(m)};ju(l,{withTypes:()=>l});const c=p=>{const m=Nj(t,p);return m&&(m.unsubscribe(),p.cancelActive&&fx(m)),!!m};ju(c,{withTypes:()=>c});const d=async(p,m,h,y)=>{const x=new AbortController,g=qV(l,x.signal),b=[];try{p.pending.add(x),r(p),await Promise.resolve(p.effect(m,ju({},h,{getOriginalState:y,condition:(w,S)=>g(w,S).then(Boolean),take:g,delay:XD(x.signal),pause:Qh(x.signal),extra:i,signal:x.signal,fork:WV(x.signal,b),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((w,S,C)=>{w!==x&&(w.abort(dx),C.delete(w))})},cancel:()=>{x.abort(dx),p.pending.delete(x)},throwIfCancelled:()=>{lc(x.signal)}})))}catch(w){w instanceof C0||jj(o,w,{raisedBy:"effect"})}finally{await Promise.all(b),x.abort(VV),a(p),p.pending.delete(x)}},f=KV(t,n);return{middleware:p=>m=>h=>{if(!PD(h))return m(h);if(ZD.match(h))return l(h.payload);if(YV.match(h)){f();return}if(e3.match(h))return c(h.payload);let y=p.getState();const x=()=>{if(y===Sj)throw new Error(yi(23));return y};let g;try{if(g=m(h),t.size>0){const b=p.getState(),w=Array.from(t.values());for(const S of w){let C=!1;try{C=S.predicate(h,b,y)}catch(N){C=!1,jj(o,N,{raisedBy:"predicate"})}C&&d(S,h,p,x)}}}finally{y=Sj}return g},startListening:l,stopListening:c,clearListeners:f}};function yi(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var XV={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},t3=ai({name:"chartLayout",initialState:XV,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,a,i;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:JV,setLayout:QV,setChartSize:ZV,setScale:e9}=t3.actions,t9=t3.reducer;function n3(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Hr(e){return Number.isFinite(e)}function zo(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Cj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function pu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cj(Object(n),!0).forEach(function(r){n9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function n9(e,t,n){return(t=r9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r9(e){var t=a9(e,"string");return typeof t=="symbol"?t:t+""}function a9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qn(e,t,n){return Gr(e)||Gr(t)?n:$o(t)?vc(e,t,n):typeof t=="function"?t(e):n}var i9=(e,t,n)=>{if(t&&n){var{width:r,height:a}=n,{align:i,verticalAlign:o,layout:s}=t;if((s==="vertical"||s==="horizontal"&&o==="middle")&&i!=="center"&&kt(e[i]))return pu(pu({},e),{},{[i]:e[i]+(r||0)});if((s==="horizontal"||s==="vertical"&&i==="center")&&o!=="middle"&&kt(e[o]))return pu(pu({},e),{},{[o]:e[o]+(a||0)})}return e},Nl=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",r3=(e,t,n,r)=>{if(r)return e.map(s=>s.coordinate);var a,i,o=e.map(s=>(s.coordinate===t&&(a=!0),s.coordinate===n&&(i=!0),s.coordinate));return a||o.push(t),i||o.push(n),o},a3=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:a,range:i,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:c,tickCount:d,ticks:f,niceTicks:p,axisType:m}=e;if(!o)return null;var h=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,y=a==="category"&&o.bandwidth?o.bandwidth()/h:0;if(y=m==="angleAxis"&&i&&i.length>=2?Ca(i[0]-i[1])*2*y:y,f||p){var x=(f||p||[]).map((g,b)=>{var w=r?r.indexOf(g):g;return{coordinate:o(w)+y,value:g,offset:y,index:b}});return x.filter(g=>!Ro(g.coordinate))}return l&&c?c.map((g,b)=>({coordinate:o(g)+y,value:g,index:b,offset:y})):o.ticks&&d!=null?o.ticks(d).map((g,b)=>({coordinate:o(g)+y,value:g,offset:y,index:b})):o.domain().map((g,b)=>({coordinate:o(g)+y,value:r?r[g]:g,index:b,offset:y}))},Mj=1e-4,o9=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),a=Math.min(r[0],r[1])-Mj,i=Math.max(r[0],r[1])+Mj,o=e(t[0]),s=e(t[n-1]);(o<a||o>i||s<a||s>i)&&e.domain([t[0],t[n-1]])}},s9=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var i=0,o=0,s=0;s<n;++s){var l=e[s],c=l==null?void 0:l[a];if(c!=null){var d=c[1],f=c[0],p=Ro(d)?f:d;p>=0?(c[0]=i,c[1]=i+p,i=d):(c[0]=o,c[1]=o+p,o=d)}}}},l9=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var i=0,o=0;o<n;++o){var s=e[o],l=s==null?void 0:s[a];if(l!=null){var c=Ro(l[1])?l[0]:l[1];c>=0?(l[0]=i,l[1]=i+c,i=l[1]):(l[0]=0,l[1]=0)}}}},c9={sign:s9,expand:UU,none:yc,silhouette:VU,wiggle:HU,positive:l9},u9=(e,t,n)=>{var r,a=(r=c9[n])!==null&&r!==void 0?r:yc,i=BU().keys(t).value((s,l)=>Number(Qn(s,l,0))).order(tx).offset(a),o=i(e);return o.forEach((s,l)=>{s.forEach((c,d)=>{var f=Qn(e[d],t[l],0);Array.isArray(f)&&f.length===2&&kt(f[0])&&kt(f[1])&&(c[0]=f[0],c[1]=f[1])})}),o};function Aj(e){var{axis:t,ticks:n,bandSize:r,entry:a,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Gr(a[t.dataKey])){var s=KO(n,"value",a[t.dataKey]);if(s)return s.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var l=Qn(a,Gr(o)?t.dataKey:o);return Gr(l)?null:t.scale(l)}var d9=e=>{var t=e.flat(2).filter(kt);return[Math.min(...t),Math.max(...t)]},f9=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],p9=(e,t,n)=>{if(e!=null)return f9(Object.keys(e).reduce((r,a)=>{var i=e[a];if(!i)return r;var{stackedData:o}=i,s=o.reduce((l,c)=>{var d=n3(c,t,n),f=d9(d);return!Hr(f[0])||!Hr(f[1])?l:[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]))},Pj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ej=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,px=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=v0(t,d=>d.coordinate),i=1/0,o=1,s=a.length;o<s;o++){var l=a[o],c=a[o-1];i=Math.min(((l==null?void 0:l.coordinate)||0)-((c==null?void 0:c.coordinate)||0),i)}return i===1/0?0:i}return n?void 0:0};function Tj(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:a,name:i}=e;return pu(pu({},t),{},{dataKey:n,payload:r,value:a,name:i})}function A0(e,t){if(e)return String(e);if(typeof t=="string")return t}var m9=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},h9=(e,t)=>t==="centric"?e.angle:e.radius,Ns=e=>e.layout.width,js=e=>e.layout.height,g9=e=>e.layout.scale,i3=e=>e.layout.margin,P0=ce(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),E0=ce(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),o3="data-recharts-item-index",s3="data-recharts-item-id",dp=60;function Oj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function wm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Oj(Object(n),!0).forEach(function(r){y9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function y9(e,t,n){return(t=v9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v9(e){var t=b9(e,"string");return typeof t=="symbol"?t:t+""}function b9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var x9=e=>e.brush.height;function w9(e){var t=E0(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:dp;return n+a}return n},0)}function k9(e){var t=E0(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:dp;return n+a}return n},0)}function S9(e){var t=P0(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function N9(e){var t=P0(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var oa=ce([Ns,js,i3,x9,w9,k9,S9,N9,jD,Q7],(e,t,n,r,a,i,o,s,l,c)=>{var d={left:(n.left||0)+a,right:(n.right||0)+i},f={top:(n.top||0)+o,bottom:(n.bottom||0)+s},p=wm(wm({},f),d),m=p.bottom;p.bottom+=r,p=i9(p,l,c);var h=e-p.left-p.right,y=t-p.top-p.bottom;return wm(wm({brushBottom:m},p),{},{width:Math.max(h,0),height:Math.max(y,0)})}),j9=ce(oa,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),l3=ce(Ns,js,(e,t)=>({x:0,y:0,width:e,height:t})),C9=v.createContext(null),ii=()=>v.useContext(C9)!=null,T0=e=>e.brush,O0=ce([T0,oa,i3],(e,t,n)=>({height:e.height,x:kt(e.x)?e.x:t.left,y:kt(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:kt(e.width)?e.width:t.width})),c3={},u3={},d3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:a,edges:i}={}){let o,s=null;const l=i!=null&&i.includes("leading"),c=i==null||i.includes("trailing"),d=()=>{s!==null&&(n.apply(o,s),o=void 0,s=null)},f=()=>{c&&d(),y()};let p=null;const m=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,f()},r)},h=()=>{p!==null&&(clearTimeout(p),p=null)},y=()=>{h(),o=void 0,s=null},x=()=>{d()},g=function(...b){if(a!=null&&a.aborted)return;o=this,s=b;const w=p==null;m(),l&&w&&d()};return g.schedule=m,g.cancel=y,g.flush=x,a==null||a.addEventListener("abort",y,{once:!0}),g}e.debounce=t})(d3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d3;function n(r,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:s=!0,maxWait:l}=i,c=Array(2);o&&(c[0]="leading"),s&&(c[1]="trailing");let d,f=null;const p=t.debounce(function(...y){d=r.apply(this,y),f=null},a,{edges:c}),m=function(...y){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(d=r.apply(this,y),f=Date.now(),p.cancel(),p.schedule(),d):(p.apply(this,y),d)},h=()=>(p.flush(),d);return m.cancel=p.cancel,m.flush=h,m}e.debounce=n})(u3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u3;function n(r,a=0,i={}){const{leading:o=!0,trailing:s=!0}=i;return t.debounce(r,a,{leading:o,maxWait:a,trailing:s})}e.throttle=n})(c3);var M9=c3.throttle;const A9=mo(M9);var Zh=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(t===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(t===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var i=0;console.warn(t.replace(/%s/g,()=>r[i++]))}},f3=(e,t,n)=>{var{width:r="100%",height:a="100%",aspect:i,maxHeight:o}=n,s=gs(r)?e:Number(r),l=gs(a)?t:Number(a);return i&&i>0&&(s?l=s/i:l&&(s=l*i),o&&l!=null&&l>o&&(l=o)),{calculatedWidth:s,calculatedHeight:l}},P9={width:0,height:0,overflow:"visible"},E9={width:0,overflowX:"visible"},T9={height:0,overflowY:"visible"},O9={},D9=e=>{var{width:t,height:n}=e,r=gs(t),a=gs(n);return r&&a?P9:r?E9:a?T9:O9};function I9(e){var{width:t,height:n,aspect:r}=e,a=t,i=n;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=r&&r>0?void 0:"100%":i===void 0&&(i=r&&r>0?void 0:"100%"),{width:a,height:i}}function mx(){return mx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mx.apply(null,arguments)}function Dj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ij(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dj(Object(n),!0).forEach(function(r){_9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _9(e,t,n){return(t=F9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F9(e){var t=L9(e,"string");return typeof t=="symbol"?t:t+""}function L9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p3=v.createContext({width:-1,height:-1});function R9(e){return zo(e.width)&&zo(e.height)}function m3(e){var{children:t,width:n,height:r}=e,a=v.useMemo(()=>({width:n,height:r}),[n,r]);return R9(a)?v.createElement(p3.Provider,{value:a},t):null}var Z1=()=>v.useContext(p3),$9=v.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a,height:i,minWidth:o=0,minHeight:s,maxHeight:l,children:c,debounce:d=0,id:f,className:p,onResize:m,style:h={}}=e,y=v.useRef(null),x=v.useRef();x.current=m,v.useImperativeHandle(t,()=>y.current);var[g,b]=v.useState({containerWidth:r.width,containerHeight:r.height}),w=v.useCallback((O,R)=>{b(P=>{var _=Math.round(O),I=Math.round(R);return P.containerWidth===_&&P.containerHeight===I?P:{containerWidth:_,containerHeight:I}})},[]);v.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return lp;var O=I=>{var Q,{width:J,height:re}=I[0].contentRect;w(J,re),(Q=x.current)===null||Q===void 0||Q.call(x,J,re)};d>0&&(O=A9(O,d,{trailing:!0,leading:!1}));var R=new ResizeObserver(O),{width:P,height:_}=y.current.getBoundingClientRect();return w(P,_),R.observe(y.current),()=>{R.disconnect()}},[w,d]);var{containerWidth:S,containerHeight:C}=g;Zh(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:N,calculatedHeight:M}=f3(S,C,{width:a,height:i,aspect:n,maxHeight:l});return Zh(N!=null&&N>0||M!=null&&M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,M,a,i,o,s,n),v.createElement("div",{id:f?"".concat(f):void 0,className:jn("recharts-responsive-container",p),style:Ij(Ij({},h),{},{width:a,height:i,minWidth:o,minHeight:s,maxHeight:l}),ref:y},v.createElement("div",{style:D9({width:a,height:i})},v.createElement(m3,{width:N,height:M},c)))}),xc=v.forwardRef((e,t)=>{var n=Z1();if(zo(n.width)&&zo(n.height))return e.children;var{width:r,height:a}=I9({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=f3(void 0,void 0,{width:r,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return kt(i)&&kt(o)?v.createElement(m3,{width:i,height:o},e.children):v.createElement($9,mx({},e,{width:r,height:a,ref:t}))});function h3(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var D0=()=>{var e,t=ii(),n=xt(j9),r=xt(O0),a=(e=xt(T0))===null||e===void 0?void 0:e.padding;return!t||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},z9={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},g3=()=>{var e;return(e=xt(oa))!==null&&e!==void 0?e:z9},ek=()=>xt(Ns),tk=()=>xt(js),B9=()=>xt(e=>e.layout.margin),On=e=>e.layout.layoutType,fp=()=>xt(On),U9=()=>{var e=fp();return e!==void 0},I0=e=>{var t=qn(),n=ii(),{width:r,height:a}=e,i=Z1(),o=r,s=a;return i&&(o=i.width>0?i.width:r,s=i.height>0?i.height:a),v.useEffect(()=>{!n&&zo(o)&&zo(s)&&t(ZV({width:o,height:s}))},[t,n,o,s]),null},y3=Symbol.for("immer-nothing"),_j=Symbol.for("immer-draftable"),xi=Symbol.for("immer-state");function no(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var _f=Object.getPrototypeOf;function zu(e){return!!e&&!!e[xi]}function wc(e){var t;return e?v3(e)||Array.isArray(e)||!!e[_j]||!!((t=e.constructor)!=null&&t[_j])||pp(e)||F0(e):!1}var V9=Object.prototype.constructor.toString(),Fj=new WeakMap;function v3(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=Fj.get(n);return r===void 0&&(r=Function.toString.call(n),Fj.set(n,r)),r===V9}function eg(e,t,n=!0){_0(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(r=>{t(r,e[r],e)}):e.forEach((r,a)=>t(a,r,e))}function _0(e){const t=e[xi];return t?t.type_:Array.isArray(e)?1:pp(e)?2:F0(e)?3:0}function hx(e,t){return _0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function b3(e,t,n){const r=_0(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function H9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function pp(e){return e instanceof Map}function F0(e){return e instanceof Set}function Vl(e){return e.copy_||e.base_}function gx(e,t){if(pp(e))return new Map(e);if(F0(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=v3(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[xi];let a=Reflect.ownKeys(r);for(let i=0;i<a.length;i++){const o=a[i],s=r[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(_f(e),r)}else{const r=_f(e);if(r!==null&&n)return{...e};const a=Object.create(r);return Object.assign(a,e)}}function nk(e,t=!1){return L0(e)||zu(e)||!wc(e)||(_0(e)>1&&Object.defineProperties(e,{set:km,add:km,clear:km,delete:km}),Object.freeze(e),t&&Object.values(e).forEach(n=>nk(n,!0))),e}function W9(){no(2)}var km={value:W9};function L0(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var q9={};function kc(e){const t=q9[e];return t||no(0,e),t}var Ff;function x3(){return Ff}function K9(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Lj(e,t){t&&(kc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function yx(e){vx(e),e.drafts_.forEach(Y9),e.drafts_=null}function vx(e){e===Ff&&(Ff=e.parent_)}function Rj(e){return Ff=K9(Ff,e)}function Y9(e){const t=e[xi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function $j(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[xi].modified_&&(yx(t),no(4)),wc(e)&&(e=tg(t,e),t.parent_||ng(t,e)),t.patches_&&kc("Patches").generateReplacementPatches_(n[xi].base_,e,t.patches_,t.inversePatches_)):e=tg(t,n,[]),yx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==y3?e:void 0}function tg(e,t,n){if(L0(t))return t;const r=e.immer_.shouldUseStrictIteration(),a=t[xi];if(!a)return eg(t,(i,o)=>zj(e,a,t,i,o,n),r),t;if(a.scope_!==e)return t;if(!a.modified_)return ng(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let o=i,s=!1;a.type_===3&&(o=new Set(i),i.clear(),s=!0),eg(o,(l,c)=>zj(e,a,i,l,c,n,s),r),ng(e,i,!1),n&&e.patches_&&kc("Patches").generatePatches_(a,n,e.patches_,e.inversePatches_)}return a.copy_}function zj(e,t,n,r,a,i,o){if(a==null||typeof a!="object"&&!o)return;const s=L0(a);if(!(s&&!o)){if(zu(a)){const l=i&&t&&t.type_!==3&&!hx(t.assigned_,r)?i.concat(r):void 0,c=tg(e,a,l);if(b3(n,r,c),zu(c))e.canAutoFreeze_=!1;else return}else o&&n.add(a);if(wc(a)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===a&&s)return;tg(e,a),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(pp(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&ng(e,a)}}}function ng(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&nk(t,n)}function G9(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:x3(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,i=rk;n&&(a=[r],i=Lf);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return r.draft_=s,r.revoke_=o,s}var rk={get(e,t){if(t===xi)return e;const n=Vl(e);if(!hx(n,t))return X9(e,n,t);const r=n[t];return e.finalized_||!wc(r)?r:r===sv(e.base_,t)?(lv(e),e.copy_[t]=xx(r,e)):r},has(e,t){return t in Vl(e)},ownKeys(e){return Reflect.ownKeys(Vl(e))},set(e,t,n){const r=w3(Vl(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=sv(Vl(e),t),i=a==null?void 0:a[xi];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(H9(n,a)&&(n!==void 0||hx(e.base_,t)))return!0;lv(e),bx(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return sv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,lv(e),bx(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Vl(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){no(11)},getPrototypeOf(e){return _f(e.base_)},setPrototypeOf(){no(12)}},Lf={};eg(rk,(e,t)=>{Lf[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Lf.deleteProperty=function(e,t){return Lf.set.call(this,e,t,void 0)};Lf.set=function(e,t,n){return rk.set.call(this,e[0],t,n,e[0])};function sv(e,t){const n=e[xi];return(n?Vl(n):e)[t]}function X9(e,t,n){var r;const a=w3(t,n);return a?"value"in a?a.value:(r=a.get)==null?void 0:r.call(e.draft_):void 0}function w3(e,t){if(!(t in e))return;let n=_f(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=_f(n)}}function bx(e){e.modified_||(e.modified_=!0,e.parent_&&bx(e.parent_))}function lv(e){e.copy_||(e.copy_=gx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var J9=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const o=this;return function(s=i,...l){return o.produce(s,c=>n.call(this,c,...l))}}typeof n!="function"&&no(6),r!==void 0&&typeof r!="function"&&no(7);let a;if(wc(t)){const i=Rj(this),o=xx(t,void 0);let s=!0;try{a=n(o),s=!1}finally{s?yx(i):vx(i)}return Lj(i,r),$j(a,i)}else if(!t||typeof t!="object"){if(a=n(t),a===void 0&&(a=t),a===y3&&(a=void 0),this.autoFreeze_&&nk(a,!0),r){const i=[],o=[];kc("Patches").generateReplacementPatches_(t,a,i,o),r(i,o)}return a}else no(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(i,...o)=>this.produceWithPatches(i,s=>t(s,...o));let r,a;return[this.produce(t,n,(i,o)=>{r=i,a=o}),r,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){wc(e)||no(8),zu(e)&&(e=Q9(e));const t=Rj(this),n=xx(e,void 0);return n[xi].isManual_=!0,vx(t),n}finishDraft(e,t){const n=e&&e[xi];(!n||!n.isManual_)&&no(9);const{scope_:r}=n;return Lj(r,t),$j(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const r=kc("Patches").applyPatches_;return zu(e)?r(e,t):this.produce(e,a=>r(a,t))}};function xx(e,t){const n=pp(e)?kc("MapSet").proxyMap_(e,t):F0(e)?kc("MapSet").proxySet_(e,t):G9(e,t);return(t?t.scope_:x3()).drafts_.push(n),n}function Q9(e){return zu(e)||no(10,e),k3(e)}function k3(e){if(!wc(e)||L0(e))return e;const t=e[xi];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=gx(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=gx(e,!0);return eg(n,(a,i)=>{b3(n,a,k3(i))},r),t&&(t.finalized_=!1),n}var Z9=new J9;Z9.produce;var eH={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},S3=ai({name:"legend",initialState:eH,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:ir()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,a=oo(e).payload.indexOf(n);a>-1&&(e.payload[a]=r)},prepare:ir()},removeLegendPayload:{reducer(e,t){var n=oo(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:ir()}}}),{setLegendSize:Bj,setLegendSettings:tH,addLegendPayload:N3,replaceLegendPayload:j3,removeLegendPayload:C3}=S3.actions,nH=S3.reducer,rH=["contextPayload"];function wx(){return wx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wx.apply(null,arguments)}function Uj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Bu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Uj(Object(n),!0).forEach(function(r){aH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aH(e,t,n){return(t=iH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iH(e){var t=oH(e,"string");return typeof t=="symbol"?t:t+""}function oH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sH(e,t){if(e==null)return{};var n,r,a=lH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function lH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function cH(e){return e.value}function uH(e){var{contextPayload:t}=e,n=sH(e,rH),r=mD(t,e.payloadUniqBy,cH),a=Bu(Bu({},n),{},{payload:r});return v.isValidElement(e.content)?v.cloneElement(e.content,a):typeof e.content=="function"?v.createElement(e.content,a):v.createElement(y7,a)}function dH(e,t,n,r,a,i){var{layout:o,align:s,verticalAlign:l}=t,c,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(s==="center"&&o==="vertical"?c={left:((r||0)-i.width)/2}:c=s==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?d={top:((a||0)-i.height)/2}:d=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Bu(Bu({},c),d)}function fH(e){var t=qn();return v.useEffect(()=>{t(tH(e))},[t,e]),null}function pH(e){var t=qn();return v.useEffect(()=>(t(Bj(e)),()=>{t(Bj({width:0,height:0}))}),[t,e]),null}function mH(e,t,n,r){return e==="vertical"&&kt(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var hH={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function M3(e){var t=Xr(e,hH),n=tV(),r=dU(),a=B9(),{width:i,height:o,wrapperStyle:s,portal:l}=t,[c,d]=CD([n]),f=ek(),p=tk();if(f==null||p==null)return null;var m=f-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),h=mH(t.layout,o,i,m),y=l?s:Bu(Bu({position:"absolute",width:(h==null?void 0:h.width)||i||"auto",height:(h==null?void 0:h.height)||o||"auto"},dH(s,t,a,f,p,c)),s),x=l??r;if(x==null||n==null)return null;var g=v.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:d},v.createElement(fH,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&v.createElement(pH,{width:c.width,height:c.height}),v.createElement(uH,wx({},t,h,{margin:a,chartWidth:f,chartHeight:p,contextPayload:n})));return Zu.createPortal(g,x)}M3.displayName="Legend";function kx(){return kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kx.apply(null,arguments)}function Vj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vj(Object(n),!0).forEach(function(r){gH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gH(e,t,n){return(t=yH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yH(e){var t=vH(e,"string");return typeof t=="symbol"?t:t+""}function vH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bH(e){return Array.isArray(e)&&$o(e[0])&&$o(e[1])?e.join(" ~ "):e}var xH=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:i,formatter:o,itemSorter:s,wrapperClassName:l,labelClassName:c,label:d,labelFormatter:f,accessibilityLayer:p=!1}=e,m=()=>{if(i&&i.length){var C={padding:0,margin:0},N=(s?v0(i,s):i).map((M,O)=>{if(M.type==="none")return null;var R=M.formatter||o||bH,{value:P,name:_}=M,I=P,Q=_;if(R){var J=R(P,_,M,O,i);if(Array.isArray(J))[I,Q]=J;else if(J!=null)I=J;else return null}var re=cv({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},r);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:re},$o(Q)?v.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,$o(Q)?v.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,v.createElement("span",{className:"recharts-tooltip-item-value"},I),v.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:C},N)}return null},h=cv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),y=cv({margin:0},a),x=!Gr(d),g=x?d:"",b=jn("recharts-default-tooltip",l),w=jn("recharts-tooltip-label",c);x&&f&&i!==void 0&&i!==null&&(g=f(d,i));var S=p?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",kx({className:b,style:h},S),v.createElement("p",{className:w,style:y},v.isValidElement(g)?g:"".concat(g)),m())},jd="recharts-tooltip-wrapper",wH={visibility:"hidden"};function kH(e){var{coordinate:t,translateX:n,translateY:r}=e;return jn(jd,{["".concat(jd,"-right")]:kt(n)&&t&&kt(t.x)&&n>=t.x,["".concat(jd,"-left")]:kt(n)&&t&&kt(t.x)&&n<t.x,["".concat(jd,"-bottom")]:kt(r)&&t&&kt(t.y)&&r>=t.y,["".concat(jd,"-top")]:kt(r)&&t&&kt(t.y)&&r<t.y})}function Hj(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:c}=e;if(i&&kt(i[r]))return i[r];var d=n[r]-s-(a>0?a:0),f=n[r]+a;if(t[r])return o[r]?d:f;var p=l[r];if(p==null)return 0;if(o[r]){var m=d,h=p;return m<h?Math.max(f,p):Math.max(d,p)}if(c==null)return 0;var y=f+s,x=p+c;return y>x?Math.max(d,p):Math.max(f,p)}function SH(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function NH(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:s,viewBox:l}=e,c,d,f;return o.height>0&&o.width>0&&n?(d=Hj({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=Hj({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=SH({translateX:d,translateY:f,useTranslate3d:s})):c=wH,{cssProperties:c,cssClasses:kH({translateX:d,translateY:f,coordinate:n})}}function Wj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Sm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wj(Object(n),!0).forEach(function(r){Sx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sx(e,t,n){return(t=jH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jH(e){var t=CH(e,"string");return typeof t=="symbol"?t:t+""}function CH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class MH extends v.PureComponent{constructor(){super(...arguments),Sx(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Sx(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:i,coordinate:o,hasPayload:s,isAnimationActive:l,offset:c,position:d,reverseDirection:f,useTranslate3d:p,viewBox:m,wrapperStyle:h,lastBoundingBox:y,innerRef:x,hasPortalFromProps:g}=this.props,{cssClasses:b,cssProperties:w}=NH({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:c,position:d,reverseDirection:f,tooltipBox:{height:y.height,width:y.width},useTranslate3d:p,viewBox:m}),S=g?{}:Sm(Sm({transition:l&&t?"transform ".concat(r,"ms ").concat(a):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),C=Sm(Sm({},S),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},h);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:C,ref:x},i)}}var A3=()=>{var e;return(e=xt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Nx(){return Nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nx.apply(null,arguments)}function qj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Kj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qj(Object(n),!0).forEach(function(r){AH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AH(e,t,n){return(t=PH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PH(e){var t=EH(e,"string");return typeof t=="symbol"?t:t+""}function EH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yj={curveBasisClosed:EU,curveBasisOpen:TU,curveBasis:PU,curveBumpX:hU,curveBumpY:gU,curveLinearClosed:OU,curveLinear:u0,curveMonotoneX:DU,curveMonotoneY:IU,curveNatural:_U,curveStep:FU,curveStepAfter:RU,curveStepBefore:LU},rg=e=>Hr(e.x)&&Hr(e.y),Gj=e=>e.base!=null&&rg(e.base)&&rg(e),Cd=e=>e.x,Md=e=>e.y,TH=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(sp(e));return(n==="curveMonotone"||n==="curveBump")&&t?Yj["".concat(n).concat(t==="vertical"?"Y":"X")]:Yj[n]||u0},OH=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:a,connectNulls:i=!1}=e,o=TH(t,a),s=i?n.filter(rg):n,l;if(Array.isArray(r)){var c=n.map((m,h)=>Kj(Kj({},m),{},{base:r[h]}));a==="vertical"?l=hm().y(Md).x1(Cd).x0(m=>m.base.x):l=hm().x(Cd).y1(Md).y0(m=>m.base.y);var d=l.defined(Gj).curve(o),f=i?c.filter(Gj):c;return d(f)}a==="vertical"&&kt(r)?l=hm().y(Md).x1(Cd).x0(r):kt(r)?l=hm().x(Cd).y1(Md).y0(r):l=DO().x(Cd).y(Md);var p=l.defined(rg).curve(o);return p(s)},ak=e=>{var{className:t,points:n,path:r,pathRef:a}=e,i=fp();if((!n||!n.length)&&!r)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},s=n&&n.length?OH(o):r;return v.createElement("path",Nx({},Vi(e),I1(e),{className:jn("recharts-curve",t),d:s===null?void 0:s,ref:a}))},DH=["x","y","top","left","width","height","className"];function jx(){return jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jx.apply(null,arguments)}function Xj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function IH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xj(Object(n),!0).forEach(function(r){_H(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _H(e,t,n){return(t=FH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FH(e){var t=LH(e,"string");return typeof t=="symbol"?t:t+""}function LH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RH(e,t){if(e==null)return{};var n,r,a=$H(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function $H(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var zH=(e,t,n,r,a,i)=>"M".concat(e,",").concat(a,"v").concat(r,"M").concat(i,",").concat(t,"h").concat(n),BH=e=>{var{x:t=0,y:n=0,top:r=0,left:a=0,width:i=0,height:o=0,className:s}=e,l=RH(e,DH),c=IH({x:t,y:n,top:r,left:a,width:i,height:o},l);return!kt(t)||!kt(n)||!kt(i)||!kt(o)||!kt(r)||!kt(a)?null:v.createElement("path",jx({},$a(c),{className:jn("recharts-cross",s),d:zH(t,n,i,o,r,a)}))};function UH(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function Jj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Qj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jj(Object(n),!0).forEach(function(r){VH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VH(e,t,n){return(t=HH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HH(e){var t=WH(e,"string");return typeof t=="symbol"?t:t+""}function WH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qH=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),P3=(e,t,n)=>e.map(r=>"".concat(qH(r)," ").concat(t,"ms ").concat(n)).join(","),KH=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(a=>r.includes(a))),Rf=(e,t)=>Object.keys(t).reduce((n,r)=>Qj(Qj({},n),{},{[r]:e(r,t[r])}),{});function Zj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Kr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zj(Object(n),!0).forEach(function(r){YH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YH(e,t,n){return(t=GH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GH(e){var t=XH(e,"string");return typeof t=="symbol"?t:t+""}function XH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ag=(e,t,n)=>e+(t-e)*n,Cx=e=>{var{from:t,to:n}=e;return t!==n},E3=(e,t,n)=>{var r=Rf((a,i)=>{if(Cx(i)){var[o,s]=e(i.from,i.to,i.velocity);return Kr(Kr({},i),{},{from:o,velocity:s})}return i},t);return n<1?Rf((a,i)=>Cx(i)&&r[a]!=null?Kr(Kr({},i),{},{velocity:ag(i.velocity,r[a].velocity,n),from:ag(i.from,r[a].from,n)}):i,t):E3(e,r,n-1)};function JH(e,t,n,r,a,i){var o,s=r.reduce((p,m)=>Kr(Kr({},p),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),l=()=>Rf((p,m)=>m.from,s),c=()=>!Object.values(s).filter(Cx).length,d=null,f=p=>{o||(o=p);var m=p-o,h=m/n.dt;s=E3(n,s,h),a(Kr(Kr(Kr({},e),t),l())),o=p,c()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{var p;(p=d)===null||p===void 0||p()})}function QH(e,t,n,r,a,i,o){var s=null,l=a.reduce((f,p)=>{var m=e[p],h=t[p];return m==null||h==null?f:Kr(Kr({},f),{},{[p]:[m,h]})},{}),c,d=f=>{c||(c=f);var p=(f-c)/r,m=Rf((y,x)=>ag(...x,n(p)),l);if(i(Kr(Kr(Kr({},e),t),m)),p<1)s=o.setTimeout(d);else{var h=Rf((y,x)=>ag(...x,n(1)),l);i(Kr(Kr(Kr({},e),t),h))}};return()=>(s=o.setTimeout(d),()=>{var f;(f=s)===null||f===void 0||f()})}const ZH=(e,t,n,r,a,i)=>{var o=KH(e,t);return n==null?()=>(a(Kr(Kr({},e),t)),()=>{}):n.isStepper===!0?JH(e,t,n,o,a,i):QH(e,t,n,r,o,a,i)};var ig=1e-4,T3=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],O3=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),eC=(e,t)=>n=>{var r=T3(e,t);return O3(r,n)},eW=(e,t)=>n=>{var r=T3(e,t),a=[...r.map((i,o)=>i*o).slice(1),0];return O3(a,n)},tW=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var a=r.map(i=>parseFloat(i));return[a[0],a[1],a[2],a[3]]},nW=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length===1)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var r=tW(t[0]);if(r)return r}}return t.length===4?t:[0,0,1,1]},rW=(e,t,n,r)=>{var a=eC(e,n),i=eC(t,r),o=eW(e,n),s=c=>c>1?1:c<0?0:c,l=c=>{for(var d=c>1?1:c,f=d,p=0;p<8;++p){var m=a(f)-d,h=o(f);if(Math.abs(m-d)<ig||h<ig)return i(f);f=s(f-m/h)}return i(f)};return l.isStepper=!1,l},tC=function(){return rW(...nW(...arguments))},aW=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:t=100,damping:n=8,dt:r=17}=e,a=(i,o,s)=>{var l=-(i-o)*t,c=s*n,d=s+(l-c)*r/1e3,f=s*r/1e3+i;return Math.abs(f-o)<ig&&Math.abs(d)<ig?[o,0]:[f,d]};return a.isStepper=!0,a.dt=r,a},iW=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return tC(e);case"spring":return aW();default:if(e.split("(")[0]==="cubic-bezier")return tC(e)}return typeof e=="function"?e:null};function oW(e){var t,n=()=>null,r=!1,a=null,i=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var s=o,[l,...c]=s;if(typeof l=="number"){a=e.setTimeout(i.bind(null,c),l);return}i(l),a=e.setTimeout(i.bind(null,c));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,a&&(a(),a=null),i(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class sW{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,i=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function lW(){return oW(new sW)}var cW=v.createContext(lW);function uW(e,t){var n=v.useContext(cW);return v.useMemo(()=>t??n(e),[e,t,n])}var dW=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),R0={isSsr:dW()},fW={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},nC={t:0},uv={t:1};function $0(e){var t=Xr(e,fW),{isActive:n,canBegin:r,duration:a,easing:i,begin:o,onAnimationEnd:s,onAnimationStart:l,children:c}=t,d=n==="auto"?!R0.isSsr:n,f=uW(t.animationId,t.animationManager),[p,m]=v.useState(d?nC:uv),h=v.useRef(null);return v.useEffect(()=>{d||m(uv)},[d]),v.useEffect(()=>{if(!d||!r)return lp;var y=ZH(nC,uv,iW(i),a,m,f.getTimeoutController()),x=()=>{h.current=y()};return f.start([l,o,x,a,s]),()=>{f.stop(),h.current&&h.current(),s()}},[d,r,a,i,o,l,s,f]),c(p.t)}function z0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=v.useRef(Tf(t)),r=v.useRef(e);return r.current!==e&&(n.current=Tf(t),r.current=e),n.current}var pW=["radius"],mW=["radius"],rC,aC,iC,oC,sC,lC,cC,uC,dC,fC;function pC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function mC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pC(Object(n),!0).forEach(function(r){hW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hW(e,t,n){return(t=gW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gW(e){var t=yW(e,"string");return typeof t=="symbol"?t:t+""}function yW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function og(){return og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},og.apply(null,arguments)}function hC(e,t){if(e==null)return{};var n,r,a=vW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function vW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Co(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var gC=(e,t,n,r,a)=>{var i=rl(n),o=rl(r),s=Math.min(Math.abs(i)/2,Math.abs(o)/2),l=o>=0?1:-1,c=i>=0?1:-1,d=o>=0&&i>=0||o<0&&i<0?1:0,f;if(s>0&&a instanceof Array){for(var p=[0,0,0,0],m=0,h=4;m<h;m++)p[m]=a[m]>s?s:a[m];f=br(rC||(rC=Co(["M",",",""])),e,t+l*p[0]),p[0]>0&&(f+=br(aC||(aC=Co(["A ",",",",0,0,",",",",",""])),p[0],p[0],d,e+c*p[0],t)),f+=br(iC||(iC=Co(["L ",",",""])),e+n-c*p[1],t),p[1]>0&&(f+=br(oC||(oC=Co(["A ",",",",0,0,",`,
        `,",",""])),p[1],p[1],d,e+n,t+l*p[1])),f+=br(sC||(sC=Co(["L ",",",""])),e+n,t+r-l*p[2]),p[2]>0&&(f+=br(lC||(lC=Co(["A ",",",",0,0,",`,
        `,",",""])),p[2],p[2],d,e+n-c*p[2],t+r)),f+=br(cC||(cC=Co(["L ",",",""])),e+c*p[3],t+r),p[3]>0&&(f+=br(uC||(uC=Co(["A ",",",",0,0,",`,
        `,",",""])),p[3],p[3],d,e,t+r-l*p[3])),f+="Z"}else if(s>0&&a===+a&&a>0){var y=Math.min(s,a);f=br(dC||(dC=Co(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+l*y,y,y,d,e+c*y,t,e+n-c*y,t,y,y,d,e+n,t+l*y,e+n,t+r-l*y,y,y,d,e+n-c*y,t+r,e+c*y,t+r,y,y,d,e,t+r-l*y)}else f=br(fC||(fC=Co(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return f},yC={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},D3=e=>{var t=Xr(e,yC),n=v.useRef(null),[r,a]=v.useState(-1);v.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var B=n.current.getTotalLength();B&&a(B)}catch{}},[]);var{x:i,y:o,width:s,height:l,radius:c,className:d}=t,{animationEasing:f,animationDuration:p,animationBegin:m,isAnimationActive:h,isUpdateAnimationActive:y}=t,x=v.useRef(s),g=v.useRef(l),b=v.useRef(i),w=v.useRef(o),S=v.useMemo(()=>({x:i,y:o,width:s,height:l,radius:c}),[i,o,s,l,c]),C=z0(S,"rectangle-");if(i!==+i||o!==+o||s!==+s||l!==+l||s===0||l===0)return null;var N=jn("recharts-rectangle",d);if(!y){var M=$a(t),{radius:O}=M,R=hC(M,pW);return v.createElement("path",og({},R,{x:rl(i),y:rl(o),width:rl(s),height:rl(l),radius:typeof c=="number"?c:void 0,className:N,d:gC(i,o,s,l,c)}))}var P=x.current,_=g.current,I=b.current,Q=w.current,J="0px ".concat(r===-1?1:r,"px"),re="".concat(r,"px 0px"),he=P3(["strokeDasharray"],p,typeof f=="string"?f:yC.animationEasing);return v.createElement($0,{animationId:C,key:C,canBegin:r>0,duration:p,easing:f,isActive:y,begin:m},B=>{var $=ja(P,s,B),te=ja(_,l,B),k=ja(I,i,B),E=ja(Q,o,B);n.current&&(x.current=$,g.current=te,b.current=k,w.current=E);var A;h?B>0?A={transition:he,strokeDasharray:re}:A={strokeDasharray:J}:A={strokeDasharray:re};var j=$a(t),{radius:z}=j,Y=hC(j,mW);return v.createElement("path",og({},Y,{radius:typeof c=="number"?c:void 0,className:N,d:gC(k,E,$,te,c),ref:n,style:mC(mC({},A),t.style)}))})};function vC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function bC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vC(Object(n),!0).forEach(function(r){bW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bW(e,t,n){return(t=xW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xW(e){var t=wW(e,"string");return typeof t=="symbol"?t:t+""}function wW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sg=Math.PI/180,kW=e=>e*180/Math.PI,Ur=(e,t,n,r)=>({x:e+Math.cos(-sg*r)*n,y:t+Math.sin(-sg*r)*n}),I3=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},SW=(e,t)=>{var{x:n,y:r}=e,{x:a,y:i}=t;return Math.sqrt((n-a)**2+(r-i)**2)},NW=(e,t)=>{var{x:n,y:r}=e,{cx:a,cy:i}=t,o=SW({x:n,y:r},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var s=(n-a)/o,l=Math.acos(s);return r>i&&(l=2*Math.PI-l),{radius:o,angle:kW(l),angleInRadian:l}},jW=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),a=Math.floor(n/360),i=Math.min(r,a);return{startAngle:t-i*360,endAngle:n-i*360}},CW=(e,t)=>{var{startAngle:n,endAngle:r}=t,a=Math.floor(n/360),i=Math.floor(r/360),o=Math.min(a,i);return e+o*360},MW=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:a,angle:i}=NW({x:n,y:r},t),{innerRadius:o,outerRadius:s}=t;if(a<o||a>s||a===0)return null;var{startAngle:l,endAngle:c}=jW(t),d=i,f;if(l<=c){for(;d>c;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=c}else{for(;d>l;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=l}return f?bC(bC({},t),{},{radius:a,angle:CW(d,t)}):null};function _3(e){var{cx:t,cy:n,radius:r,startAngle:a,endAngle:i}=e,o=Ur(t,n,r,a),s=Ur(t,n,r,i);return{points:[o,s],cx:t,cy:n,radius:r,startAngle:a,endAngle:i}}var xC,wC,kC,SC,NC,jC,CC;function Mx(){return Mx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mx.apply(null,arguments)}function Zl(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var AW=(e,t)=>{var n=Ca(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Nm=e=>{var{cx:t,cy:n,radius:r,angle:a,sign:i,isExternal:o,cornerRadius:s,cornerIsExternal:l}=e,c=s*(o?1:-1)+r,d=Math.asin(s/c)/sg,f=l?a:a+i*d,p=Ur(t,n,c,f),m=Ur(t,n,r,f),h=l?a-i*d:a,y=Ur(t,n,c*Math.cos(d*sg),h);return{center:p,circleTangency:m,lineTangency:y,theta:d}},F3=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:i,endAngle:o}=e,s=AW(i,o),l=i+s,c=Ur(t,n,a,i),d=Ur(t,n,a,l),f=br(xC||(xC=Zl(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),c.x,c.y,a,a,+(Math.abs(s)>180),+(i>l),d.x,d.y);if(r>0){var p=Ur(t,n,r,i),m=Ur(t,n,r,l);f+=br(wC||(wC=Zl(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,r,r,+(Math.abs(s)>180),+(i<=l),p.x,p.y)}else f+=br(kC||(kC=Zl(["L ",","," Z"])),t,n);return f},PW=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:c}=e,d=Ca(c-l),{circleTangency:f,lineTangency:p,theta:m}=Nm({cx:t,cy:n,radius:a,angle:l,sign:d,cornerRadius:i,cornerIsExternal:s}),{circleTangency:h,lineTangency:y,theta:x}=Nm({cx:t,cy:n,radius:a,angle:c,sign:-d,cornerRadius:i,cornerIsExternal:s}),g=s?Math.abs(l-c):Math.abs(l-c)-m-x;if(g<0)return o?br(SC||(SC=Zl(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),p.x,p.y,i,i,i*2,i,i,-i*2):F3({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:l,endAngle:c});var b=br(NC||(NC=Zl(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),p.x,p.y,i,i,+(d<0),f.x,f.y,a,a,+(g>180),+(d<0),h.x,h.y,i,i,+(d<0),y.x,y.y);if(r>0){var{circleTangency:w,lineTangency:S,theta:C}=Nm({cx:t,cy:n,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),{circleTangency:N,lineTangency:M,theta:O}=Nm({cx:t,cy:n,radius:r,angle:c,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),R=s?Math.abs(l-c):Math.abs(l-c)-C-O;if(R<0&&i===0)return"".concat(b,"L").concat(t,",").concat(n,"Z");b+=br(jC||(jC=Zl(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),M.x,M.y,i,i,+(d<0),N.x,N.y,r,r,+(R>180),+(d>0),w.x,w.y,i,i,+(d<0),S.x,S.y)}else b+=br(CC||(CC=Zl(["L",",","Z"])),t,n);return b},EW={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},L3=e=>{var t=Xr(e,EW),{cx:n,cy:r,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:d,className:f}=t;if(i<a||c===d)return null;var p=jn("recharts-sector",f),m=i-a,h=zi(o,m,0,!0),y;return h>0&&Math.abs(c-d)<360?y=PW({cx:n,cy:r,innerRadius:a,outerRadius:i,cornerRadius:Math.min(h,m/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:d}):y=F3({cx:n,cy:r,innerRadius:a,outerRadius:i,startAngle:c,endAngle:d}),v.createElement("path",Mx({},$a(t),{className:p,d:y}))};function TW(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(GO(t)){if(e==="centric"){var{cx:r,cy:a,innerRadius:i,outerRadius:o,angle:s}=t,l=Ur(r,a,i,s),c=Ur(r,a,o,s);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return _3(t)}}var R3={},$3={},z3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W1;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(z3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z3;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})($3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q1,n=$3;function r(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=n.toFinite(a),i===void 0?(i=a,a=0):i=n.toFinite(i),o=o===void 0?a<i?1:-1:n.toFinite(o);const s=Math.max(Math.ceil((i-a)/(o||1)),0),l=new Array(s);for(let c=0;c<s;c++)l[c]=a,a+=o;return l}e.range=r})(R3);var OW=R3.range;const B3=mo(OW);function pl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function DW(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ik(e){let t,n,r;e.length!==2?(t=pl,n=(s,l)=>pl(e(s),l),r=(s,l)=>e(s)-l):(t=e===pl||e===DW?e:IW,n=e,r=e);function a(s,l,c=0,d=s.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;n(s[f],l)<0?c=f+1:d=f}while(c<d)}return c}function i(s,l,c=0,d=s.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;n(s[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function o(s,l,c=0,d=s.length){const f=a(s,l,c,d-1);return f>c&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:a,center:o,right:i}}function IW(){return 0}function U3(e){return e===null?NaN:+e}function*_W(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const FW=ik(pl),mp=FW.right;ik(U3).center;class MC extends Map{constructor(t,n=$W){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(AC(this,t))}has(t){return super.has(AC(this,t))}set(t,n){return super.set(LW(this,t),n)}delete(t){return super.delete(RW(this,t))}}function AC({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function LW({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function RW({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function $W(e){return e!==null&&typeof e=="object"?e.valueOf():e}function zW(e=pl){if(e===pl)return V3;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function V3(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const BW=Math.sqrt(50),UW=Math.sqrt(10),VW=Math.sqrt(2);function lg(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=BW?10:i>=UW?5:i>=VW?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?lg(e,t,n*2):[s,l,c]}function Ax(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,i,o]=r?lg(t,e,n):lg(e,t,n);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(i-c)/-o;else for(let c=0;c<s;++c)l[c]=(i-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(a+c)/-o;else for(let c=0;c<s;++c)l[c]=(a+c)*o;return l}function Px(e,t,n){return t=+t,e=+e,n=+n,lg(e,t,n)[2]}function Ex(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?Px(t,e,n):Px(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function PC(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function EC(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function H3(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?V3:zW(a);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),m=Math.max(n,Math.floor(t-c*f/l+p)),h=Math.min(r,Math.floor(t+(l-c)*f/l+p));H3(e,t,m,h,a)}const i=e[t];let o=n,s=r;for(Ad(e,n,t),a(e[r],i)>0&&Ad(e,n,r);o<s;){for(Ad(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}a(e[n],i)===0?Ad(e,n,s):(++s,Ad(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Ad(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function HW(e,t,n){if(e=Float64Array.from(_W(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return EC(e);if(t>=1)return PC(e);var r,a=(r-1)*t,i=Math.floor(a),o=PC(H3(e,i).subarray(0,i+1)),s=EC(e.subarray(i+1));return o+(s-o)*(a-i)}}function WW(e,t,n=U3){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),o=+n(e[i],i,e),s=+n(e[i+1],i+1,e);return o+(s-o)*(a-i)}}function qW(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++r<a;)i[r]=e+r*n;return i}function qi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Cs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Tx=Symbol("implicit");function ok(){var e=new MC,t=[],n=[],r=Tx;function a(i){let o=e.get(i);if(o===void 0){if(r!==Tx)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new MC;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return ok(t,n).unknown(r)},qi.apply(a,arguments),a}function sk(){var e=ok().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,i,o,s=!1,l=0,c=0,d=.5;delete e.unknown;function f(){var p=t().length,m=a<r,h=m?a:r,y=m?r:a;i=(y-h)/Math.max(1,p-l+c*2),s&&(i=Math.floor(i)),h+=(y-h-i*(p-l))*d,o=i*(1-l),s&&(h=Math.round(h),o=Math.round(o));var x=qW(p).map(function(g){return h+i*g});return n(m?x.reverse():x)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([r,a]=p,r=+r,a=+a,f()):[r,a]},e.rangeRound=function(p){return[r,a]=p,r=+r,a=+a,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(p){return arguments.length?(s=!!p,f()):s},e.padding=function(p){return arguments.length?(l=Math.min(1,c=+p),f()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},e.paddingOuter=function(p){return arguments.length?(c=+p,f()):c},e.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},e.copy=function(){return sk(t(),[r,a]).round(s).paddingInner(l).paddingOuter(c).align(d)},qi.apply(f(),arguments)}function W3(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return W3(t())},e}function KW(){return W3(sk.apply(null,arguments).paddingInner(1))}function lk(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function q3(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function hp(){}var $f=.7,cg=1/$f,Cu="\\s*([+-]?\\d+)\\s*",zf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",YW=/^#([0-9a-f]{3,8})$/,GW=new RegExp(`^rgb\\(${Cu},${Cu},${Cu}\\)$`),XW=new RegExp(`^rgb\\(${Fo},${Fo},${Fo}\\)$`),JW=new RegExp(`^rgba\\(${Cu},${Cu},${Cu},${zf}\\)$`),QW=new RegExp(`^rgba\\(${Fo},${Fo},${Fo},${zf}\\)$`),ZW=new RegExp(`^hsl\\(${zf},${Fo},${Fo}\\)$`),eq=new RegExp(`^hsla\\(${zf},${Fo},${Fo},${zf}\\)$`),TC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};lk(hp,Bf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:OC,formatHex:OC,formatHex8:tq,formatHsl:nq,formatRgb:DC,toString:DC});function OC(){return this.rgb().formatHex()}function tq(){return this.rgb().formatHex8()}function nq(){return K3(this).formatHsl()}function DC(){return this.rgb().formatRgb()}function Bf(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=YW.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?IC(t):n===3?new Ja(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?jm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?jm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=GW.exec(e))?new Ja(t[1],t[2],t[3],1):(t=XW.exec(e))?new Ja(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=JW.exec(e))?jm(t[1],t[2],t[3],t[4]):(t=QW.exec(e))?jm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ZW.exec(e))?LC(t[1],t[2]/100,t[3]/100,1):(t=eq.exec(e))?LC(t[1],t[2]/100,t[3]/100,t[4]):TC.hasOwnProperty(e)?IC(TC[e]):e==="transparent"?new Ja(NaN,NaN,NaN,0):null}function IC(e){return new Ja(e>>16&255,e>>8&255,e&255,1)}function jm(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ja(e,t,n,r)}function rq(e){return e instanceof hp||(e=Bf(e)),e?(e=e.rgb(),new Ja(e.r,e.g,e.b,e.opacity)):new Ja}function Ox(e,t,n,r){return arguments.length===1?rq(e):new Ja(e,t,n,r??1)}function Ja(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}lk(Ja,Ox,q3(hp,{brighter(e){return e=e==null?cg:Math.pow(cg,e),new Ja(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?$f:Math.pow($f,e),new Ja(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ja(cc(this.r),cc(this.g),cc(this.b),ug(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_C,formatHex:_C,formatHex8:aq,formatRgb:FC,toString:FC}));function _C(){return`#${ec(this.r)}${ec(this.g)}${ec(this.b)}`}function aq(){return`#${ec(this.r)}${ec(this.g)}${ec(this.b)}${ec((isNaN(this.opacity)?1:this.opacity)*255)}`}function FC(){const e=ug(this.opacity);return`${e===1?"rgb(":"rgba("}${cc(this.r)}, ${cc(this.g)}, ${cc(this.b)}${e===1?")":`, ${e})`}`}function ug(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function cc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ec(e){return e=cc(e),(e<16?"0":"")+e.toString(16)}function LC(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ro(e,t,n,r)}function K3(e){if(e instanceof ro)return new ro(e.h,e.s,e.l,e.opacity);if(e instanceof hp||(e=Bf(e)),!e)return new ro;if(e instanceof ro)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,s=i-a,l=(i+a)/2;return s?(t===i?o=(n-r)/s+(n<r)*6:n===i?o=(r-t)/s+2:o=(t-n)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new ro(o,s,l,e.opacity)}function iq(e,t,n,r){return arguments.length===1?K3(e):new ro(e,t,n,r??1)}function ro(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}lk(ro,iq,q3(hp,{brighter(e){return e=e==null?cg:Math.pow(cg,e),new ro(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?$f:Math.pow($f,e),new ro(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Ja(dv(e>=240?e-240:e+120,a,r),dv(e,a,r),dv(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new ro(RC(this.h),Cm(this.s),Cm(this.l),ug(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ug(this.opacity);return`${e===1?"hsl(":"hsla("}${RC(this.h)}, ${Cm(this.s)*100}%, ${Cm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function RC(e){return e=(e||0)%360,e<0?e+360:e}function Cm(e){return Math.max(0,Math.min(1,e||0))}function dv(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const ck=e=>()=>e;function oq(e,t){return function(n){return e+n*t}}function sq(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function lq(e){return(e=+e)==1?Y3:function(t,n){return n-t?sq(t,n,e):ck(isNaN(t)?n:t)}}function Y3(e,t){var n=t-e;return n?oq(e,n):ck(isNaN(e)?t:e)}const $C=function e(t){var n=lq(t);function r(a,i){var o=n((a=Ox(a)).r,(i=Ox(i)).r),s=n(a.g,i.g),l=n(a.b,i.b),c=Y3(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=s(d),a.b=l(d),a.opacity=c(d),a+""}}return r.gamma=e,r}(1);function cq(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function uq(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function dq(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=ed(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(s){for(o=0;o<r;++o)i[o]=a[o](s);return i}}function fq(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function dg(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function pq(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=ed(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var Dx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fv=new RegExp(Dx.source,"g");function mq(e){return function(){return e}}function hq(e){return function(t){return e(t)+""}}function gq(e,t){var n=Dx.lastIndex=fv.lastIndex=0,r,a,i,o=-1,s=[],l=[];for(e=e+"",t=t+"";(r=Dx.exec(e))&&(a=fv.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),s[o]?s[o]+=i:s[++o]=i),(r=r[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,l.push({i:o,x:dg(r,a)})),n=fv.lastIndex;return n<t.length&&(i=t.slice(n),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?hq(l[0].x):mq(t):(t=l.length,function(c){for(var d=0,f;d<t;++d)s[(f=l[d]).i]=f.x(c);return s.join("")})}function ed(e,t){var n=typeof t,r;return t==null||n==="boolean"?ck(t):(n==="number"?dg:n==="string"?(r=Bf(t))?(t=r,$C):gq:t instanceof Bf?$C:t instanceof Date?fq:uq(t)?cq:Array.isArray(t)?dq:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?pq:dg)(e,t)}function uk(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function yq(e,t){t===void 0&&(t=e,e=ed);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[s](o-s)}}function vq(e){return function(){return e}}function fg(e){return+e}var zC=[0,1];function La(e){return e}function Ix(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:vq(isNaN(t)?NaN:.5)}function bq(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function xq(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=Ix(a,r),i=n(o,i)):(r=Ix(r,a),i=n(i,o)),function(s){return i(r(s))}}function wq(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=Ix(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(s){var l=mp(e,s,1,r)-1;return i[l](a[l](s))}}function gp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function B0(){var e=zC,t=zC,n=ed,r,a,i,o=La,s,l,c;function d(){var p=Math.min(e.length,t.length);return o!==La&&(o=bq(e[0],e[p-1])),s=p>2?wq:xq,l=c=null,f}function f(p){return p==null||isNaN(p=+p)?i:(l||(l=s(e.map(r),t,n)))(r(o(p)))}return f.invert=function(p){return o(a((c||(c=s(t,e.map(r),dg)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,fg),d()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),d()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),n=uk,d()},f.clamp=function(p){return arguments.length?(o=p?!0:La,d()):o!==La},f.interpolate=function(p){return arguments.length?(n=p,d()):n},f.unknown=function(p){return arguments.length?(i=p,f):i},function(p,m){return r=p,a=m,d()}}function dk(){return B0()(La,La)}function kq(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function pg(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Uu(e){return e=pg(Math.abs(e)),e?e[1]:NaN}function Sq(e,t){return function(n,r){for(var a=n.length,i=[],o=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),i.push(n.substring(a-=s,a+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function Nq(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var jq=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Uf(e){if(!(t=jq.exec(e)))throw new Error("invalid format: "+e);var t;return new fk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Uf.prototype=fk.prototype;function fk(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}fk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Cq(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var mg;function Mq(e,t){var n=pg(e,t);if(!n)return mg=void 0,e.toPrecision(t);var r=n[0],a=n[1],i=a-(mg=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+pg(e,Math.max(0,t+i-1))[0]}function BC(e,t){var n=pg(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const UC={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:kq,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>BC(e*100,t),r:BC,s:Mq,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function VC(e){return e}var HC=Array.prototype.map,WC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Aq(e){var t=e.grouping===void 0||e.thousands===void 0?VC:Sq(HC.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?VC:Nq(HC.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f,p){f=Uf(f);var m=f.fill,h=f.align,y=f.sign,x=f.symbol,g=f.zero,b=f.width,w=f.comma,S=f.precision,C=f.trim,N=f.type;N==="n"?(w=!0,N="g"):UC[N]||(S===void 0&&(S=12),C=!0,N="g"),(g||m==="0"&&h==="=")&&(g=!0,m="0",h="=");var M=(p&&p.prefix!==void 0?p.prefix:"")+(x==="$"?n:x==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():""),O=(x==="$"?r:/[%p]/.test(N)?o:"")+(p&&p.suffix!==void 0?p.suffix:""),R=UC[N],P=/[defgprs%]/.test(N);S=S===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function _(I){var Q=M,J=O,re,he,B;if(N==="c")J=R(I)+J,I="";else{I=+I;var $=I<0||1/I<0;if(I=isNaN(I)?l:R(Math.abs(I),S),C&&(I=Cq(I)),$&&+I==0&&y!=="+"&&($=!1),Q=($?y==="("?y:s:y==="-"||y==="("?"":y)+Q,J=(N==="s"&&!isNaN(I)&&mg!==void 0?WC[8+mg/3]:"")+J+($&&y==="("?")":""),P){for(re=-1,he=I.length;++re<he;)if(B=I.charCodeAt(re),48>B||B>57){J=(B===46?a+I.slice(re+1):I.slice(re))+J,I=I.slice(0,re);break}}}w&&!g&&(I=t(I,1/0));var te=Q.length+I.length+J.length,k=te<b?new Array(b-te+1).join(m):"";switch(w&&g&&(I=t(k+I,k.length?b-J.length:1/0),k=""),h){case"<":I=Q+I+J+k;break;case"=":I=Q+k+I+J;break;case"^":I=k.slice(0,te=k.length>>1)+Q+I+J+k.slice(te);break;default:I=k+Q+I+J;break}return i(I)}return _.toString=function(){return f+""},_}function d(f,p){var m=Math.max(-8,Math.min(8,Math.floor(Uu(p)/3)))*3,h=Math.pow(10,-m),y=c((f=Uf(f),f.type="f",f),{suffix:WC[8+m/3]});return function(x){return y(h*x)}}return{format:c,formatPrefix:d}}var Mm,pk,G3;Pq({thousands:",",grouping:[3],currency:["$",""]});function Pq(e){return Mm=Aq(e),pk=Mm.format,G3=Mm.formatPrefix,Mm}function Eq(e){return Math.max(0,-Uu(Math.abs(e)))}function Tq(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Uu(t)/3)))*3-Uu(Math.abs(e)))}function Oq(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Uu(t)-Uu(e))+1}function X3(e,t,n,r){var a=Ex(e,t,n),i;switch(r=Uf(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=Tq(a,o))&&(r.precision=i),G3(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=Oq(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=Eq(a))&&(r.precision=i-(r.type==="%")*2);break}}return pk(r)}function jl(e){var t=e.domain;return e.ticks=function(n){var r=t();return Ax(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return X3(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,o=r[a],s=r[i],l,c,d=10;for(s<o&&(c=o,o=s,s=c,c=a,a=i,i=c);d-- >0;){if(c=Px(o,s,n),c===l)return r[a]=o,r[i]=s,t(r);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function J3(){var e=dk();return e.copy=function(){return gp(e,J3())},qi.apply(e,arguments),jl(e)}function Q3(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,fg),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Q3(e).unknown(t)},e=arguments.length?Array.from(e,fg):[0,1],jl(n)}function Z3(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],i=e[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),e[n]=t.floor(a),e[r]=t.ceil(i),e}function qC(e){return Math.log(e)}function KC(e){return Math.exp(e)}function Dq(e){return-Math.log(-e)}function Iq(e){return-Math.exp(-e)}function _q(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Fq(e){return e===10?_q:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Lq(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function YC(e){return(t,n)=>-e(-t,n)}function mk(e){const t=e(qC,KC),n=t.domain;let r=10,a,i;function o(){return a=Lq(r),i=Fq(r),n()[0]<0?(a=YC(a),i=YC(i),e(Dq,Iq)):e(qC,KC),t}return t.base=function(s){return arguments.length?(r=+s,o()):r},t.domain=function(s){return arguments.length?(n(s),o()):n()},t.ticks=s=>{const l=n();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let p=a(c),m=a(d),h,y;const x=s==null?10:+s;let g=[];if(!(r%1)&&m-p<x){if(p=Math.floor(p),m=Math.ceil(m),c>0){for(;p<=m;++p)for(h=1;h<r;++h)if(y=p<0?h/i(-p):h*i(p),!(y<c)){if(y>d)break;g.push(y)}}else for(;p<=m;++p)for(h=r-1;h>=1;--h)if(y=p>0?h/i(-p):h*i(p),!(y<c)){if(y>d)break;g.push(y)}g.length*2<x&&(g=Ax(c,d,x))}else g=Ax(p,m,Math.min(m-p,x)).map(i);return f?g.reverse():g},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Uf(l)).precision==null&&(l.trim=!0),l=pk(l)),s===1/0)return l;const c=Math.max(1,r*s/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*r<r-.5&&(f*=r),f<=c?l(d):""}},t.nice=()=>n(Z3(n(),{floor:s=>i(Math.floor(a(s))),ceil:s=>i(Math.ceil(a(s)))})),t}function e4(){const e=mk(B0()).domain([1,10]);return e.copy=()=>gp(e,e4()).base(e.base()),qi.apply(e,arguments),e}function GC(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function XC(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function hk(e){var t=1,n=e(GC(t),XC(t));return n.constant=function(r){return arguments.length?e(GC(t=+r),XC(t)):t},jl(n)}function t4(){var e=hk(B0());return e.copy=function(){return gp(e,t4()).constant(e.constant())},qi.apply(e,arguments)}function JC(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Rq(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function $q(e){return e<0?-e*e:e*e}function gk(e){var t=e(La,La),n=1;function r(){return n===1?e(La,La):n===.5?e(Rq,$q):e(JC(n),JC(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},jl(t)}function yk(){var e=gk(B0());return e.copy=function(){return gp(e,yk()).exponent(e.exponent())},qi.apply(e,arguments),e}function zq(){return yk.apply(null,arguments).exponent(.5)}function QC(e){return Math.sign(e)*e*e}function Bq(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function n4(){var e=dk(),t=[0,1],n=!1,r;function a(i){var o=Bq(e(i));return isNaN(o)?r:n?Math.round(o):o}return a.invert=function(i){return e.invert(QC(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,fg)).map(QC)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return n4(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},qi.apply(a,arguments),jl(a)}function r4(){var e=[],t=[],n=[],r;function a(){var o=0,s=Math.max(1,t.length);for(n=new Array(s-1);++o<s;)n[o-1]=WW(e,o/s);return i}function i(o){return o==null||isNaN(o=+o)?r:t[mp(n,o)]}return i.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(pl),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return r4().domain(e).range(t).unknown(r)},qi.apply(i,arguments)}function a4(){var e=0,t=1,n=1,r=[.5],a=[0,1],i;function o(l){return l!=null&&l<=l?a[mp(r,l,0,n)]:i}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(n=(a=Array.from(l)).length-1,s()):a.slice()},o.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},o.unknown=function(l){return arguments.length&&(i=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return a4().domain([e,t]).range(a).unknown(i)},qi.apply(jl(o),arguments)}function i4(){var e=[.5],t=[0,1],n,r=1;function a(i){return i!=null&&i<=i?t[mp(e,i,0,r)]:n}return a.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return i4().domain(e).range(t).unknown(n)},qi.apply(a,arguments)}const pv=new Date,mv=new Date;function Jr(e,t,n,r){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{const l=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return l;let c;do l.push(c=new Date(+i)),t(i,s),e(i);while(c<i&&i<o);return l},a.filter=i=>Jr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!i(o););else for(;--s>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>(pv.setTime(+i),mv.setTime(+o),e(pv),e(mv),Math.floor(n(pv,mv))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const hg=Jr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);hg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Jr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):hg);hg.range;const as=1e3,Ri=as*60,is=Ri*60,vs=is*24,vk=vs*7,ZC=vs*30,hv=vs*365,tc=Jr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*as)},(e,t)=>(t-e)/as,e=>e.getUTCSeconds());tc.range;const bk=Jr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*as)},(e,t)=>{e.setTime(+e+t*Ri)},(e,t)=>(t-e)/Ri,e=>e.getMinutes());bk.range;const xk=Jr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ri)},(e,t)=>(t-e)/Ri,e=>e.getUTCMinutes());xk.range;const wk=Jr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*as-e.getMinutes()*Ri)},(e,t)=>{e.setTime(+e+t*is)},(e,t)=>(t-e)/is,e=>e.getHours());wk.range;const kk=Jr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*is)},(e,t)=>(t-e)/is,e=>e.getUTCHours());kk.range;const yp=Jr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ri)/vs,e=>e.getDate()-1);yp.range;const U0=Jr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/vs,e=>e.getUTCDate()-1);U0.range;const o4=Jr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/vs,e=>Math.floor(e/vs));o4.range;function Ec(e){return Jr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ri)/vk)}const V0=Ec(0),gg=Ec(1),Uq=Ec(2),Vq=Ec(3),Vu=Ec(4),Hq=Ec(5),Wq=Ec(6);V0.range;gg.range;Uq.range;Vq.range;Vu.range;Hq.range;Wq.range;function Tc(e){return Jr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/vk)}const H0=Tc(0),yg=Tc(1),qq=Tc(2),Kq=Tc(3),Hu=Tc(4),Yq=Tc(5),Gq=Tc(6);H0.range;yg.range;qq.range;Kq.range;Hu.range;Yq.range;Gq.range;const Sk=Jr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Sk.range;const Nk=Jr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Nk.range;const bs=Jr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());bs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Jr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});bs.range;const xs=Jr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());xs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Jr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});xs.range;function s4(e,t,n,r,a,i){const o=[[tc,1,as],[tc,5,5*as],[tc,15,15*as],[tc,30,30*as],[i,1,Ri],[i,5,5*Ri],[i,15,15*Ri],[i,30,30*Ri],[a,1,is],[a,3,3*is],[a,6,6*is],[a,12,12*is],[r,1,vs],[r,2,2*vs],[n,1,vk],[t,1,ZC],[t,3,3*ZC],[e,1,hv]];function s(c,d,f){const p=d<c;p&&([c,d]=[d,c]);const m=f&&typeof f.range=="function"?f:l(c,d,f),h=m?m.range(c,+d+1):[];return p?h.reverse():h}function l(c,d,f){const p=Math.abs(d-c)/f,m=ik(([,,x])=>x).right(o,p);if(m===o.length)return e.every(Ex(c/hv,d/hv,f));if(m===0)return hg.every(Math.max(Ex(c,d,f),1));const[h,y]=o[p/o[m-1][2]<o[m][2]/p?m-1:m];return h.every(y)}return[s,l]}const[Xq,Jq]=s4(xs,Nk,H0,o4,kk,xk),[Qq,Zq]=s4(bs,Sk,V0,yp,wk,bk);function gv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function yv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Pd(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function eK(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=Ed(a),d=Td(a),f=Ed(i),p=Td(i),m=Ed(o),h=Td(o),y=Ed(s),x=Td(s),g=Ed(l),b=Td(l),w={a:B,A:$,b:te,B:k,c:null,d:iM,e:iM,f:SK,g:DK,G:_K,H:xK,I:wK,j:kK,L:l4,m:NK,M:jK,p:E,q:A,Q:lM,s:cM,S:CK,u:MK,U:AK,V:PK,w:EK,W:TK,x:null,X:null,y:OK,Y:IK,Z:FK,"%":sM},S={a:j,A:z,b:Y,B:W,c:null,d:oM,e:oM,f:zK,g:XK,G:QK,H:LK,I:RK,j:$K,L:u4,m:BK,M:UK,p:q,q:G,Q:lM,s:cM,S:VK,u:HK,U:WK,V:qK,w:KK,W:YK,x:null,X:null,y:GK,Y:JK,Z:ZK,"%":sM},C={a:P,A:_,b:I,B:Q,c:J,d:rM,e:rM,f:gK,g:nM,G:tM,H:aM,I:aM,j:fK,L:hK,m:dK,M:pK,p:R,q:uK,Q:vK,s:bK,S:mK,u:iK,U:oK,V:sK,w:aK,W:lK,x:re,X:he,y:nM,Y:tM,Z:cK,"%":yK};w.x=N(n,w),w.X=N(r,w),w.c=N(t,w),S.x=N(n,S),S.X=N(r,S),S.c=N(t,S);function N(D,ee){return function(fe){var L=[],ne=-1,U=0,F=D.length,se,ye,Ye;for(fe instanceof Date||(fe=new Date(+fe));++ne<F;)D.charCodeAt(ne)===37&&(L.push(D.slice(U,ne)),(ye=eM[se=D.charAt(++ne)])!=null?se=D.charAt(++ne):ye=se==="e"?" ":"0",(Ye=ee[se])&&(se=Ye(fe,ye)),L.push(se),U=ne+1);return L.push(D.slice(U,ne)),L.join("")}}function M(D,ee){return function(fe){var L=Pd(1900,void 0,1),ne=O(L,D,fe+="",0),U,F;if(ne!=fe.length)return null;if("Q"in L)return new Date(L.Q);if("s"in L)return new Date(L.s*1e3+("L"in L?L.L:0));if(ee&&!("Z"in L)&&(L.Z=0),"p"in L&&(L.H=L.H%12+L.p*12),L.m===void 0&&(L.m="q"in L?L.q:0),"V"in L){if(L.V<1||L.V>53)return null;"w"in L||(L.w=1),"Z"in L?(U=yv(Pd(L.y,0,1)),F=U.getUTCDay(),U=F>4||F===0?yg.ceil(U):yg(U),U=U0.offset(U,(L.V-1)*7),L.y=U.getUTCFullYear(),L.m=U.getUTCMonth(),L.d=U.getUTCDate()+(L.w+6)%7):(U=gv(Pd(L.y,0,1)),F=U.getDay(),U=F>4||F===0?gg.ceil(U):gg(U),U=yp.offset(U,(L.V-1)*7),L.y=U.getFullYear(),L.m=U.getMonth(),L.d=U.getDate()+(L.w+6)%7)}else("W"in L||"U"in L)&&("w"in L||(L.w="u"in L?L.u%7:"W"in L?1:0),F="Z"in L?yv(Pd(L.y,0,1)).getUTCDay():gv(Pd(L.y,0,1)).getDay(),L.m=0,L.d="W"in L?(L.w+6)%7+L.W*7-(F+5)%7:L.w+L.U*7-(F+6)%7);return"Z"in L?(L.H+=L.Z/100|0,L.M+=L.Z%100,yv(L)):gv(L)}}function O(D,ee,fe,L){for(var ne=0,U=ee.length,F=fe.length,se,ye;ne<U;){if(L>=F)return-1;if(se=ee.charCodeAt(ne++),se===37){if(se=ee.charAt(ne++),ye=C[se in eM?ee.charAt(ne++):se],!ye||(L=ye(D,fe,L))<0)return-1}else if(se!=fe.charCodeAt(L++))return-1}return L}function R(D,ee,fe){var L=c.exec(ee.slice(fe));return L?(D.p=d.get(L[0].toLowerCase()),fe+L[0].length):-1}function P(D,ee,fe){var L=m.exec(ee.slice(fe));return L?(D.w=h.get(L[0].toLowerCase()),fe+L[0].length):-1}function _(D,ee,fe){var L=f.exec(ee.slice(fe));return L?(D.w=p.get(L[0].toLowerCase()),fe+L[0].length):-1}function I(D,ee,fe){var L=g.exec(ee.slice(fe));return L?(D.m=b.get(L[0].toLowerCase()),fe+L[0].length):-1}function Q(D,ee,fe){var L=y.exec(ee.slice(fe));return L?(D.m=x.get(L[0].toLowerCase()),fe+L[0].length):-1}function J(D,ee,fe){return O(D,t,ee,fe)}function re(D,ee,fe){return O(D,n,ee,fe)}function he(D,ee,fe){return O(D,r,ee,fe)}function B(D){return o[D.getDay()]}function $(D){return i[D.getDay()]}function te(D){return l[D.getMonth()]}function k(D){return s[D.getMonth()]}function E(D){return a[+(D.getHours()>=12)]}function A(D){return 1+~~(D.getMonth()/3)}function j(D){return o[D.getUTCDay()]}function z(D){return i[D.getUTCDay()]}function Y(D){return l[D.getUTCMonth()]}function W(D){return s[D.getUTCMonth()]}function q(D){return a[+(D.getUTCHours()>=12)]}function G(D){return 1+~~(D.getUTCMonth()/3)}return{format:function(D){var ee=N(D+="",w);return ee.toString=function(){return D},ee},parse:function(D){var ee=M(D+="",!1);return ee.toString=function(){return D},ee},utcFormat:function(D){var ee=N(D+="",S);return ee.toString=function(){return D},ee},utcParse:function(D){var ee=M(D+="",!0);return ee.toString=function(){return D},ee}}}var eM={"-":"",_:" ",0:"0"},sa=/^\s*\d+/,tK=/^%/,nK=/[\\^$*+?|[\]().{}]/g;function wn(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function rK(e){return e.replace(nK,"\\$&")}function Ed(e){return new RegExp("^(?:"+e.map(rK).join("|")+")","i")}function Td(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function aK(e,t,n){var r=sa.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function iK(e,t,n){var r=sa.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function oK(e,t,n){var r=sa.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function sK(e,t,n){var r=sa.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function lK(e,t,n){var r=sa.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function tM(e,t,n){var r=sa.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function nM(e,t,n){var r=sa.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function cK(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function uK(e,t,n){var r=sa.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function dK(e,t,n){var r=sa.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function rM(e,t,n){var r=sa.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function fK(e,t,n){var r=sa.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function aM(e,t,n){var r=sa.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function pK(e,t,n){var r=sa.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function mK(e,t,n){var r=sa.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function hK(e,t,n){var r=sa.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function gK(e,t,n){var r=sa.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function yK(e,t,n){var r=tK.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function vK(e,t,n){var r=sa.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function bK(e,t,n){var r=sa.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function iM(e,t){return wn(e.getDate(),t,2)}function xK(e,t){return wn(e.getHours(),t,2)}function wK(e,t){return wn(e.getHours()%12||12,t,2)}function kK(e,t){return wn(1+yp.count(bs(e),e),t,3)}function l4(e,t){return wn(e.getMilliseconds(),t,3)}function SK(e,t){return l4(e,t)+"000"}function NK(e,t){return wn(e.getMonth()+1,t,2)}function jK(e,t){return wn(e.getMinutes(),t,2)}function CK(e,t){return wn(e.getSeconds(),t,2)}function MK(e){var t=e.getDay();return t===0?7:t}function AK(e,t){return wn(V0.count(bs(e)-1,e),t,2)}function c4(e){var t=e.getDay();return t>=4||t===0?Vu(e):Vu.ceil(e)}function PK(e,t){return e=c4(e),wn(Vu.count(bs(e),e)+(bs(e).getDay()===4),t,2)}function EK(e){return e.getDay()}function TK(e,t){return wn(gg.count(bs(e)-1,e),t,2)}function OK(e,t){return wn(e.getFullYear()%100,t,2)}function DK(e,t){return e=c4(e),wn(e.getFullYear()%100,t,2)}function IK(e,t){return wn(e.getFullYear()%1e4,t,4)}function _K(e,t){var n=e.getDay();return e=n>=4||n===0?Vu(e):Vu.ceil(e),wn(e.getFullYear()%1e4,t,4)}function FK(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+wn(t/60|0,"0",2)+wn(t%60,"0",2)}function oM(e,t){return wn(e.getUTCDate(),t,2)}function LK(e,t){return wn(e.getUTCHours(),t,2)}function RK(e,t){return wn(e.getUTCHours()%12||12,t,2)}function $K(e,t){return wn(1+U0.count(xs(e),e),t,3)}function u4(e,t){return wn(e.getUTCMilliseconds(),t,3)}function zK(e,t){return u4(e,t)+"000"}function BK(e,t){return wn(e.getUTCMonth()+1,t,2)}function UK(e,t){return wn(e.getUTCMinutes(),t,2)}function VK(e,t){return wn(e.getUTCSeconds(),t,2)}function HK(e){var t=e.getUTCDay();return t===0?7:t}function WK(e,t){return wn(H0.count(xs(e)-1,e),t,2)}function d4(e){var t=e.getUTCDay();return t>=4||t===0?Hu(e):Hu.ceil(e)}function qK(e,t){return e=d4(e),wn(Hu.count(xs(e),e)+(xs(e).getUTCDay()===4),t,2)}function KK(e){return e.getUTCDay()}function YK(e,t){return wn(yg.count(xs(e)-1,e),t,2)}function GK(e,t){return wn(e.getUTCFullYear()%100,t,2)}function XK(e,t){return e=d4(e),wn(e.getUTCFullYear()%100,t,2)}function JK(e,t){return wn(e.getUTCFullYear()%1e4,t,4)}function QK(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Hu(e):Hu.ceil(e),wn(e.getUTCFullYear()%1e4,t,4)}function ZK(){return"+0000"}function sM(){return"%"}function lM(e){return+e}function cM(e){return Math.floor(+e/1e3)}var Yc,f4,p4;eY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function eY(e){return Yc=eK(e),f4=Yc.format,Yc.parse,p4=Yc.utcFormat,Yc.utcParse,Yc}function tY(e){return new Date(e)}function nY(e){return e instanceof Date?+e:+new Date(+e)}function jk(e,t,n,r,a,i,o,s,l,c){var d=dk(),f=d.invert,p=d.domain,m=c(".%L"),h=c(":%S"),y=c("%I:%M"),x=c("%I %p"),g=c("%a %d"),b=c("%b %d"),w=c("%B"),S=c("%Y");function C(N){return(l(N)<N?m:s(N)<N?h:o(N)<N?y:i(N)<N?x:r(N)<N?a(N)<N?g:b:n(N)<N?w:S)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?p(Array.from(N,nY)):p().map(tY)},d.ticks=function(N){var M=p();return e(M[0],M[M.length-1],N??10)},d.tickFormat=function(N,M){return M==null?C:c(M)},d.nice=function(N){var M=p();return(!N||typeof N.range!="function")&&(N=t(M[0],M[M.length-1],N??10)),N?p(Z3(M,N)):d},d.copy=function(){return gp(d,jk(e,t,n,r,a,i,o,s,l,c))},d}function rY(){return qi.apply(jk(Qq,Zq,bs,Sk,V0,yp,wk,bk,tc,f4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function aY(){return qi.apply(jk(Xq,Jq,xs,Nk,H0,U0,kk,xk,tc,p4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function W0(){var e=0,t=1,n,r,a,i,o=La,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:o(a===0?.5:(f=(i(f)-n)*a,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,n=i(e=+e),r=i(t=+t),a=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(o=f,c):o};function d(f){return function(p){var m,h;return arguments.length?([m,h]=p,o=f(m,h),c):[o(0),o(1)]}}return c.range=d(ed),c.rangeRound=d(uk),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return i=f,n=f(e),r=f(t),a=n===r?0:1/(r-n),c}}function Cl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function m4(){var e=jl(W0()(La));return e.copy=function(){return Cl(e,m4())},Cs.apply(e,arguments)}function h4(){var e=mk(W0()).domain([1,10]);return e.copy=function(){return Cl(e,h4()).base(e.base())},Cs.apply(e,arguments)}function g4(){var e=hk(W0());return e.copy=function(){return Cl(e,g4()).constant(e.constant())},Cs.apply(e,arguments)}function Ck(){var e=gk(W0());return e.copy=function(){return Cl(e,Ck()).exponent(e.exponent())},Cs.apply(e,arguments)}function iY(){return Ck.apply(null,arguments).exponent(.5)}function y4(){var e=[],t=La;function n(r){if(r!=null&&!isNaN(r=+r))return t((mp(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(pl),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,i)=>HW(e,i/r))},n.copy=function(){return y4(t).domain(e)},Cs.apply(n,arguments)}function q0(){var e=0,t=.5,n=1,r=1,a,i,o,s,l,c=La,d,f=!1,p;function m(y){return isNaN(y=+y)?p:(y=.5+((y=+d(y))-i)*(r*y<r*i?s:l),c(f?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([e,t,n]=y,a=d(e=+e),i=d(t=+t),o=d(n=+n),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),r=i<a?-1:1,m):[e,t,n]},m.clamp=function(y){return arguments.length?(f=!!y,m):f},m.interpolator=function(y){return arguments.length?(c=y,m):c};function h(y){return function(x){var g,b,w;return arguments.length?([g,b,w]=x,c=yq(y,[g,b,w]),m):[c(0),c(.5),c(1)]}}return m.range=h(ed),m.rangeRound=h(uk),m.unknown=function(y){return arguments.length?(p=y,m):p},function(y){return d=y,a=y(e),i=y(t),o=y(n),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),r=i<a?-1:1,m}}function v4(){var e=jl(q0()(La));return e.copy=function(){return Cl(e,v4())},Cs.apply(e,arguments)}function b4(){var e=mk(q0()).domain([.1,1,10]);return e.copy=function(){return Cl(e,b4()).base(e.base())},Cs.apply(e,arguments)}function x4(){var e=hk(q0());return e.copy=function(){return Cl(e,x4()).constant(e.constant())},Cs.apply(e,arguments)}function Mk(){var e=gk(q0());return e.copy=function(){return Cl(e,Mk()).exponent(e.exponent())},Cs.apply(e,arguments)}function oY(){return Mk.apply(null,arguments).exponent(.5)}const Vd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:sk,scaleDiverging:v4,scaleDivergingLog:b4,scaleDivergingPow:Mk,scaleDivergingSqrt:oY,scaleDivergingSymlog:x4,scaleIdentity:Q3,scaleImplicit:Tx,scaleLinear:J3,scaleLog:e4,scaleOrdinal:ok,scalePoint:KW,scalePow:yk,scaleQuantile:r4,scaleQuantize:a4,scaleRadial:n4,scaleSequential:m4,scaleSequentialLog:h4,scaleSequentialPow:Ck,scaleSequentialQuantile:y4,scaleSequentialSqrt:iY,scaleSequentialSymlog:g4,scaleSqrt:zq,scaleSymlog:t4,scaleThreshold:i4,scaleTime:rY,scaleUtc:aY,tickFormat:X3},Symbol.toStringTag,{value:"Module"}));var Ml=e=>e.chartData,Ak=ce([Ml],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Pk=(e,t,n,r)=>r?Ak(e):Ml(e);function yl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Hr(t)&&Hr(n))return!0}return!1}function uM(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function w4(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,a,i;if(Hr(n))a=n;else if(typeof n=="function")return;if(Hr(r))i=r;else if(typeof r=="function")return;var o=[a,i];if(yl(o))return o}}function sY(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(yl(r))return uM(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,s;if(a==="auto")t!=null&&(o=Math.min(...t));else if(kt(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&Pj.test(a)){var l=Pj.exec(a);if(l==null||l[1]==null||t==null)o=void 0;else{var c=+l[1];o=t[0]-c}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(s=Math.max(...t));else if(kt(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&Ej.test(i)){var d=Ej.exec(i);if(d==null||d[1]==null||t==null)s=void 0;else{var f=+d[1];s=t[1]+f}}else s=t==null?void 0:t[1];var p=[o,s];if(yl(p))return t==null?p:uM(p,t,n)}}}var td=1e9,lY={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Tk,sr=!0,Wi="[DecimalError] ",uc=Wi+"Invalid argument: ",Ek=Wi+"Exponent out of range: ",nd=Math.floor,Hl=Math.pow,cY=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,pi,ra=1e7,Xn=7,k4=9007199254740991,vg=nd(k4/Xn),ot={};ot.absoluteValue=ot.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ot.comparedTo=ot.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(r=i.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1};ot.decimalPlaces=ot.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Xn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};ot.dividedBy=ot.div=function(e){return ls(this,new this.constructor(e))};ot.dividedToIntegerBy=ot.idiv=function(e){var t=this,n=t.constructor;return _n(ls(t,new n(e),0,1),n.precision)};ot.equals=ot.eq=function(e){return!this.cmp(e)};ot.exponent=function(){return Vr(this)};ot.greaterThan=ot.gt=function(e){return this.cmp(e)>0};ot.greaterThanOrEqualTo=ot.gte=function(e){return this.cmp(e)>=0};ot.isInteger=ot.isint=function(){return this.e>this.d.length-2};ot.isNegative=ot.isneg=function(){return this.s<0};ot.isPositive=ot.ispos=function(){return this.s>0};ot.isZero=function(){return this.s===0};ot.lessThan=ot.lt=function(e){return this.cmp(e)<0};ot.lessThanOrEqualTo=ot.lte=function(e){return this.cmp(e)<1};ot.logarithm=ot.log=function(e){var t,n=this,r=n.constructor,a=r.precision,i=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(pi))throw Error(Wi+"NaN");if(n.s<1)throw Error(Wi+(n.s?"NaN":"-Infinity"));return n.eq(pi)?new r(0):(sr=!1,t=ls(Vf(n,i),Vf(e,i),i),sr=!0,_n(t,a))};ot.minus=ot.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?j4(t,e):S4(t,(e.s=-e.s,e))};ot.modulo=ot.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(Wi+"NaN");return n.s?(sr=!1,t=ls(n,e,0,1).times(e),sr=!0,n.minus(t)):_n(new r(n),a)};ot.naturalExponential=ot.exp=function(){return N4(this)};ot.naturalLogarithm=ot.ln=function(){return Vf(this)};ot.negated=ot.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ot.plus=ot.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?S4(t,e):j4(t,(e.s=-e.s,e))};ot.precision=ot.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(uc+e);if(t=Vr(a)+1,r=a.d.length-1,n=r*Xn+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};ot.squareRoot=ot.sqrt=function(){var e,t,n,r,a,i,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Wi+"NaN")}for(e=Vr(s),sr=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=Do(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=nd((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(a.toString()),n=l.precision,a=o=n+3;;)if(i=r,r=i.plus(ls(s,i,o+2)).times(.5),Do(i.d).slice(0,o)===(t=Do(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(_n(i,n+1,0),i.times(i).eq(s)){r=i;break}}else if(t!="9999")break;o+=4}return sr=!0,_n(r,n)};ot.times=ot.mul=function(e){var t,n,r,a,i,o,s,l,c,d=this,f=d.constructor,p=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,l=p.length,c=m.length,l<c&&(i=p,p=m,m=i,o=l,l=c,c=o),i=[],o=l+c,r=o;r--;)i.push(0);for(r=c;--r>=0;){for(t=0,a=l+r;a>r;)s=i[a]+m[r]*p[a-r-1]+t,i[a--]=s%ra|0,t=s/ra|0;i[a]=(i[a]+t)%ra|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,sr?_n(e,f.precision):e};ot.toDecimalPlaces=ot.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Bo(e,0,td),t===void 0?t=r.rounding:Bo(t,0,8),_n(n,e+Vr(n)+1,t))};ot.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=Sc(r,!0):(Bo(e,0,td),t===void 0?t=a.rounding:Bo(t,0,8),r=_n(new a(r),e+1,t),n=Sc(r,!0,e+1)),n};ot.toFixed=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?Sc(a):(Bo(e,0,td),t===void 0?t=i.rounding:Bo(t,0,8),r=_n(new i(a),e+Vr(a)+1,t),n=Sc(r.abs(),!1,e+Vr(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};ot.toInteger=ot.toint=function(){var e=this,t=e.constructor;return _n(new t(e),Vr(e)+1,t.rounding)};ot.toNumber=function(){return+this};ot.toPower=ot.pow=function(e){var t,n,r,a,i,o,s=this,l=s.constructor,c=12,d=+(e=new l(e));if(!e.s)return new l(pi);if(s=new l(s),!s.s){if(e.s<1)throw Error(Wi+"Infinity");return s}if(s.eq(pi))return s;if(r=l.precision,e.eq(pi))return _n(s,r);if(t=e.e,n=e.d.length-1,o=t>=n,i=s.s,o){if((n=d<0?-d:d)<=k4){for(a=new l(pi),t=Math.ceil(r/Xn+4),sr=!1;n%2&&(a=a.times(s),fM(a.d,t)),n=nd(n/2),n!==0;)s=s.times(s),fM(s.d,t);return sr=!0,e.s<0?new l(pi).div(a):_n(a,r)}}else if(i<0)throw Error(Wi+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,sr=!1,a=e.times(Vf(s,r+c)),sr=!0,a=N4(a),a.s=i,a};ot.toPrecision=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?(n=Vr(a),r=Sc(a,n<=i.toExpNeg||n>=i.toExpPos)):(Bo(e,1,td),t===void 0?t=i.rounding:Bo(t,0,8),a=_n(new i(a),e,t),n=Vr(a),r=Sc(a,e<=n||n<=i.toExpNeg,e)),r};ot.toSignificantDigits=ot.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Bo(e,1,td),t===void 0?t=r.rounding:Bo(t,0,8)),_n(new r(n),e,t)};ot.toString=ot.valueOf=ot.val=ot.toJSON=ot[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Vr(e),n=e.constructor;return Sc(e,t<=n.toExpNeg||t>=n.toExpPos)};function S4(e,t){var n,r,a,i,o,s,l,c,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),sr?_n(t,f):t;if(l=e.d,c=t.d,o=e.e,a=t.e,l=l.slice(),i=o-a,i){for(i<0?(r=l,i=-i,s=c.length):(r=c,a=o,s=l.length),o=Math.ceil(f/Xn),s=o>s?o+1:s+1,i>s&&(i=s,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(s=l.length,i=c.length,s-i<0&&(i=s,r=c,c=l,l=r),n=0;i;)n=(l[--i]=l[i]+c[i]+n)/ra|0,l[i]%=ra;for(n&&(l.unshift(n),++a),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=a,sr?_n(t,f):t}function Bo(e,t,n){if(e!==~~e||e<t||e>n)throw Error(uc+e)}function Do(e){var t,n,r,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)r=e[t]+"",n=Xn-r.length,n&&(i+=Ys(n)),i+=r;o=e[t],r=o+"",n=Xn-r.length,n&&(i+=Ys(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var ls=function(){function e(r,a){var i,o=0,s=r.length;for(r=r.slice();s--;)i=r[s]*a+o,r[s]=i%ra|0,o=i/ra|0;return o&&r.unshift(o),r}function t(r,a,i,o){var s,l;if(i!=o)l=i>o?1:-1;else for(s=l=0;s<i;s++)if(r[s]!=a[s]){l=r[s]>a[s]?1:-1;break}return l}function n(r,a,i){for(var o=0;i--;)r[i]-=o,o=r[i]<a[i]?1:0,r[i]=o*ra+r[i]-a[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,i,o){var s,l,c,d,f,p,m,h,y,x,g,b,w,S,C,N,M,O,R=r.constructor,P=r.s==a.s?1:-1,_=r.d,I=a.d;if(!r.s)return new R(r);if(!a.s)throw Error(Wi+"Division by zero");for(l=r.e-a.e,M=I.length,C=_.length,m=new R(P),h=m.d=[],c=0;I[c]==(_[c]||0);)++c;if(I[c]>(_[c]||0)&&--l,i==null?b=i=R.precision:o?b=i+(Vr(r)-Vr(a))+1:b=i,b<0)return new R(0);if(b=b/Xn+2|0,c=0,M==1)for(d=0,I=I[0],b++;(c<C||d)&&b--;c++)w=d*ra+(_[c]||0),h[c]=w/I|0,d=w%I|0;else{for(d=ra/(I[0]+1)|0,d>1&&(I=e(I,d),_=e(_,d),M=I.length,C=_.length),S=M,y=_.slice(0,M),x=y.length;x<M;)y[x++]=0;O=I.slice(),O.unshift(0),N=I[0],I[1]>=ra/2&&++N;do d=0,s=t(I,y,M,x),s<0?(g=y[0],M!=x&&(g=g*ra+(y[1]||0)),d=g/N|0,d>1?(d>=ra&&(d=ra-1),f=e(I,d),p=f.length,x=y.length,s=t(f,y,p,x),s==1&&(d--,n(f,M<p?O:I,p))):(d==0&&(s=d=1),f=I.slice()),p=f.length,p<x&&f.unshift(0),n(y,f,x),s==-1&&(x=y.length,s=t(I,y,M,x),s<1&&(d++,n(y,M<x?O:I,x))),x=y.length):s===0&&(d++,y=[0]),h[c++]=d,s&&y[0]?y[x++]=_[S]||0:(y=[_[S]],x=1);while((S++<C||y[0]!==void 0)&&b--)}return h[0]||h.shift(),m.e=l,_n(m,o?i+Vr(m)+1:i)}}();function N4(e,t){var n,r,a,i,o,s,l=0,c=0,d=e.constructor,f=d.precision;if(Vr(e)>16)throw Error(Ek+Vr(e));if(!e.s)return new d(pi);for(sr=!1,s=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(r=Math.log(Hl(2,c))/Math.LN10*2+5|0,s+=r,n=a=i=new d(pi),d.precision=s;;){if(a=_n(a.times(e),s),n=n.times(++l),o=i.plus(ls(a,n,s)),Do(o.d).slice(0,s)===Do(i.d).slice(0,s)){for(;c--;)i=_n(i.times(i),s);return d.precision=f,t==null?(sr=!0,_n(i,f)):i}i=o}}function Vr(e){for(var t=e.e*Xn,n=e.d[0];n>=10;n/=10)t++;return t}function vv(e,t,n){if(t>e.LN10.sd())throw sr=!0,n&&(e.precision=n),Error(Wi+"LN10 precision limit exceeded");return _n(new e(e.LN10),t)}function Ys(e){for(var t="";e--;)t+="0";return t}function Vf(e,t){var n,r,a,i,o,s,l,c,d,f=1,p=10,m=e,h=m.d,y=m.constructor,x=y.precision;if(m.s<1)throw Error(Wi+(m.s?"NaN":"-Infinity"));if(m.eq(pi))return new y(0);if(t==null?(sr=!1,c=x):c=t,m.eq(10))return t==null&&(sr=!0),vv(y,c);if(c+=p,y.precision=c,n=Do(h),r=n.charAt(0),i=Vr(m),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=Do(m.d),r=n.charAt(0),f++;i=Vr(m),r>1?(m=new y("0."+n),i++):m=new y(r+"."+n.slice(1))}else return l=vv(y,c+2,x).times(i+""),m=Vf(new y(r+"."+n.slice(1)),c-p).plus(l),y.precision=x,t==null?(sr=!0,_n(m,x)):m;for(s=o=m=ls(m.minus(pi),m.plus(pi),c),d=_n(m.times(m),c),a=3;;){if(o=_n(o.times(d),c),l=s.plus(ls(o,new y(a),c)),Do(l.d).slice(0,c)===Do(s.d).slice(0,c))return s=s.times(2),i!==0&&(s=s.plus(vv(y,c+2,x).times(i+""))),s=ls(s,new y(f),c),y.precision=x,t==null?(sr=!0,_n(s,x)):s;s=l,a+=2}}function dM(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=nd(n/Xn),e.d=[],r=(n+1)%Xn,n<0&&(r+=Xn),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=Xn;r<a;)e.d.push(+t.slice(r,r+=Xn));t=t.slice(r),r=Xn-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),sr&&(e.e>vg||e.e<-vg))throw Error(Ek+n)}else e.s=0,e.e=0,e.d=[0];return e}function _n(e,t,n){var r,a,i,o,s,l,c,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(r=t-o,r<0)r+=Xn,a=t,c=f[d=0];else{if(d=Math.ceil((r+1)/Xn),i=f.length,d>=i)return e;for(c=i=f[d],o=1;i>=10;i/=10)o++;r%=Xn,a=r-Xn+o}if(n!==void 0&&(i=Hl(10,o-a-1),s=c/i%10|0,l=t<0||f[d+1]!==void 0||c%i,l=n<4?(s||l)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?a>0?c/Hl(10,o-a):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(i=Vr(e),f.length=1,t=t-i-1,f[0]=Hl(10,(Xn-t%Xn)%Xn),e.e=nd(-t/Xn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,i=1,d--):(f.length=d+1,i=Hl(10,Xn-r),f[d]=a>0?(c/Hl(10,o-a)%Hl(10,a)|0)*i:0),l)for(;;)if(d==0){(f[0]+=i)==ra&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=ra)break;f[d--]=0,i=1}for(r=f.length;f[--r]===0;)f.pop();if(sr&&(e.e>vg||e.e<-vg))throw Error(Ek+Vr(e));return e}function j4(e,t){var n,r,a,i,o,s,l,c,d,f,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),sr?_n(t,m):t;if(l=e.d,f=t.d,r=t.e,c=e.e,l=l.slice(),o=c-r,o){for(d=o<0,d?(n=l,o=-o,s=f.length):(n=f,r=c,s=l.length),a=Math.max(Math.ceil(m/Xn),s)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=l.length,s=f.length,d=a<s,d&&(s=a),a=0;a<s;a++)if(l[a]!=f[a]){d=l[a]<f[a];break}o=0}for(d&&(n=l,l=f,f=n,t.s=-t.s),s=l.length,a=f.length-s;a>0;--a)l[s++]=0;for(a=f.length;a>o;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=ra-1;--l[i],l[a]+=ra}l[a]-=f[a]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,sr?_n(t,m):t):new p(0)}function Sc(e,t,n){var r,a=Vr(e),i=Do(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+Ys(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Ys(-a-1)+i,n&&(r=n-o)>0&&(i+=Ys(r))):a>=o?(i+=Ys(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+Ys(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=Ys(r))),e.s<0?"-"+i:i}function fM(e,t){if(e.length>t)return e.length=t,!0}function C4(e){var t,n,r;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(uc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return dM(o,i.toString())}else if(typeof i!="string")throw Error(uc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,cY.test(i))dM(o,i);else throw Error(uc+i)}if(a.prototype=ot,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=C4,a.config=a.set=uY,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function uY(e){if(!e||typeof e!="object")throw Error(Wi+"Object expected");var t,n,r,a=["precision",1,td,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(nd(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(uc+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(uc+n+": "+r);return this}var Tk=C4(lY);pi=new Tk(1);const An=Tk;var dY=e=>e,M4={},A4=e=>e===M4,pM=e=>function t(){return arguments.length===0||arguments.length===1&&A4(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},P4=(e,t)=>e===1?t:pM(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=r.filter(o=>o!==M4).length;return i>=e?t(...r):P4(e-i,pM(function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];var c=r.map(d=>A4(d)?s.shift():d);return t(...c,...s)}))}),fY=e=>P4(e.length,e),_x=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},pY=fY((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),mY=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return dY;var r=t.reverse(),a=r[0],i=r.slice(1);return function(){return i.reduce((o,s)=>s(o),a(...arguments))}};function E4(e){var t;return e===0?t=1:t=Math.floor(new An(e).abs().log(10).toNumber())+1,t}function T4(e,t,n){for(var r=new An(e),a=0,i=[];r.lt(t)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}var O4=e=>{var[t,n]=e,[r,a]=[t,n];return t>n&&([r,a]=[n,t]),[r,a]},D4=(e,t,n)=>{if(e.lte(0))return new An(0);var r=E4(e.toNumber()),a=new An(10).pow(r),i=e.div(a),o=r!==1?.05:.1,s=new An(Math.ceil(i.div(o).toNumber())).add(n).mul(o),l=s.mul(a);return t?new An(l.toNumber()):new An(Math.ceil(l.toNumber()))},hY=(e,t,n)=>{var r=new An(1),a=new An(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(r=new An(10).pow(E4(e)-1),a=new An(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new An(Math.floor(e)))}else e===0?a=new An(Math.floor((t-1)/2)):n||(a=new An(Math.floor(e)));var o=Math.floor((t-1)/2),s=mY(pY(l=>a.add(new An(l-o).mul(r)).toNumber()),_x);return s(0,t)},I4=function(e,t,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new An(0),tickMin:new An(0),tickMax:new An(0)};var i=D4(new An(t).sub(e).div(n-1),r,a),o;e<=0&&t>=0?o=new An(0):(o=new An(e).add(t).div(2),o=o.sub(new An(o).mod(i)));var s=Math.ceil(o.sub(e).div(i).toNumber()),l=Math.ceil(new An(t).sub(o).div(i).toNumber()),c=s+l+1;return c>n?I4(e,t,n,r,a+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:i,tickMin:o.sub(new An(s).mul(i)),tickMax:o.add(new An(l).mul(i))})},gY=function(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(r,2),[o,s]=O4([t,n]);if(o===-1/0||s===1/0){var l=s===1/0?[o,..._x(0,r-1).map(()=>1/0)]:[..._x(0,r-1).map(()=>-1/0),s];return t>n?l.reverse():l}if(o===s)return hY(o,r,a);var{step:c,tickMin:d,tickMax:f}=I4(o,s,i,a,0),p=T4(d,f.add(new An(.1).mul(c)),c);return t>n?p.reverse():p},yY=function(e,t){var[n,r]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=O4([n,r]);if(i===-1/0||o===1/0)return[n,r];if(i===o)return[i];var s=Math.max(t,2),l=D4(new An(o).sub(i).div(s-1),a,0),c=[...T4(new An(i),new An(o),l),o];return a===!1&&(c=c.map(d=>Math.round(d))),n>r?c.reverse():c},vY=e=>e.rootProps.barCategoryGap,vp=e=>e.rootProps.stackOffset,_4=e=>e.rootProps.reverseStackOrder,Ok=e=>e.options.chartName,Dk=e=>e.rootProps.syncId,F4=e=>e.rootProps.syncMethod,Ik=e=>e.options.eventEmitter,pa={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Zo={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},fi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},K0=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},bY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Zo.angleAxisId,includeHidden:!1,name:void 0,reversed:Zo.reversed,scale:Zo.scale,tick:Zo.tick,tickCount:void 0,ticks:void 0,type:Zo.type,unit:void 0},xY={allowDataOverflow:fi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:fi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:fi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:fi.scale,tick:fi.tick,tickCount:fi.tickCount,ticks:void 0,type:fi.type,unit:void 0},wY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Zo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Zo.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Zo.scale,tick:Zo.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},kY={allowDataOverflow:fi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:fi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:fi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:fi.scale,tick:fi.tick,tickCount:fi.tickCount,ticks:void 0,type:"category",unit:void 0},_k=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?wY:bY,Fk=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?kY:xY,Y0=e=>e.polarOptions,Lk=ce([Ns,js,oa],I3),L4=ce([Y0,Lk],(e,t)=>{if(e!=null)return zi(e.innerRadius,t,0)}),R4=ce([Y0,Lk],(e,t)=>{if(e!=null)return zi(e.outerRadius,t,t*.8)}),SY=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},$4=ce([Y0],SY);ce([_k,$4],K0);var z4=ce([Lk,L4,R4],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});ce([Fk,z4],K0);var B4=ce([On,Y0,L4,R4,Ns,js],(e,t,n,r,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:s,startAngle:l,endAngle:c}=t;return{cx:zi(o,a,a/2),cy:zi(s,i,i/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),lr=(e,t)=>t,bp=(e,t,n)=>n;function U4(e){return e==null?void 0:e.id}function V4(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=n,o=new Map;return e.forEach(s=>{var l,c=(l=s.data)!==null&&l!==void 0?l:r;if(!(c==null||c.length===0)){var d=U4(s);c.forEach((f,p)=>{var m=i==null||a?p:String(Qn(f,i,null)),h=Qn(f,s.dataKey,0),y;o.has(m)?y=o.get(m):y={},Object.assign(y,{[d]:h}),o.set(m,y)})}}),Array.from(o.values())}function Rk(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var G0=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function X0(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function NY(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Qr=e=>{var t=On(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},rd=e=>e.tooltip.settings.axisId;function mM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function bg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mM(Object(n),!0).forEach(function(r){jY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jY(e,t,n){return(t=CY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CY(e){var t=MY(e,"string");return typeof t=="symbol"?t:t+""}function MY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fx=[0,"auto"],ta={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},H4=(e,t)=>e.cartesianAxis.xAxis[t],Ms=(e,t)=>{var n=H4(e,t);return n??ta},na={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Fx,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:dp},W4=(e,t)=>e.cartesianAxis.yAxis[t],As=(e,t)=>{var n=W4(e,t);return n??na},AY={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},$k=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??AY},hr=(e,t,n)=>{switch(t){case"xAxis":return Ms(e,n);case"yAxis":return As(e,n);case"zAxis":return $k(e,n);case"angleAxis":return _k(e,n);case"radiusAxis":return Fk(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},PY=(e,t,n)=>{switch(t){case"xAxis":return Ms(e,n);case"yAxis":return As(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},xp=(e,t,n)=>{switch(t){case"xAxis":return Ms(e,n);case"yAxis":return As(e,n);case"angleAxis":return _k(e,n);case"radiusAxis":return Fk(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},q4=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function zk(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var K4=e=>e.graphicalItems.cartesianItems,EY=ce([lr,bp],zk),Bk=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),wp=ce([K4,hr,EY],Bk,{memoizeOptions:{resultEqualityCheck:X0}}),Y4=ce([wp],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Rk)),G4=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),TY=ce([wp],G4),Uk=e=>e.map(t=>t.data).filter(Boolean).flat(1),OY=ce([wp],Uk,{memoizeOptions:{resultEqualityCheck:X0}}),Vk=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=t;return e.length>0?e:n.slice(r,a+1)},Hk=ce([OY,Pk],Vk),Wk=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Qn(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(a=>({value:Qn(a,r)}))):e.map(r=>({value:r})),J0=ce([Hk,hr,wp],Wk);function X4(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function th(e){if($o(e)||e instanceof Date){var t=Number(e);if(Hr(t))return t}}function hM(e){if(Array.isArray(e)){var t=[th(e[0]),th(e[1])];return yl(t)?t:void 0}var n=th(e);if(n!=null)return[n,n]}function ws(e){return e.map(th).filter(YU)}function DY(e,t,n){return!n||typeof t!="number"||Ro(t)?[]:n.length?ws(n.flatMap(r=>{var a=Qn(e,r.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!Hr(i)||!Hr(o)))return[t-i,t+o]})):[]}var Zr=e=>{var t=Qr(e),n=rd(e);return xp(e,t,n)},kp=ce([Zr],e=>e==null?void 0:e.dataKey),IY=ce([Y4,Pk,Zr],V4),J4=(e,t,n,r)=>{var a={},i=t.reduce((o,s)=>{if(s.stackId==null)return o;var l=o[s.stackId];return l==null&&(l=[]),l.push(s),o[s.stackId]=l,o},a);return Object.fromEntries(Object.entries(i).map(o=>{var[s,l]=o,c=r?[...l].reverse():l,d=c.map(U4);return[s,{stackedData:u9(e,d,n),graphicalItems:c}]}))},_Y=ce([IY,Y4,vp,_4],J4),Q4=(e,t,n,r)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(r==null&&n!=="zAxis"){var o=p9(e,a,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},FY=ce([hr],e=>e.allowDataOverflow),qk=e=>{var t;if(e==null||!("domain"in e))return Fx;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=ws(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Fx},Kk=ce([hr],qk),Yk=ce([Kk,FY],w4),LY=ce([_Y,Ml,lr,Yk],Q4,{memoizeOptions:{resultEqualityCheck:G0}}),Q0=e=>e.errorBars,RY=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>X4(n,r)),xg=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);if(r.length!==0){var a=r.flat(),i=Math.min(...a),o=Math.max(...a);return[i,o]}},Gk=(e,t,n,r,a)=>{var i,o;if(n.length>0&&e.forEach(s=>{n.forEach(l=>{var c,d,f=(c=r[l.id])===null||c===void 0?void 0:c.filter(g=>X4(a,g)),p=Qn(s,(d=t.dataKey)!==null&&d!==void 0?d:l.dataKey),m=DY(s,p,f);if(m.length>=2){var h=Math.min(...m),y=Math.max(...m);(i==null||h<i)&&(i=h),(o==null||y>o)&&(o=y)}var x=hM(p);x!=null&&(i=i==null?x[0]:Math.min(i,x[0]),o=o==null?x[1]:Math.max(o,x[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(s=>{var l=hM(Qn(s,t.dataKey));l!=null&&(i=i==null?l[0]:Math.min(i,l[0]),o=o==null?l[1]:Math.max(o,l[1]))}),Hr(i)&&Hr(o))return[i,o]},$Y=ce([Hk,hr,TY,Q0,lr],Gk,{memoizeOptions:{resultEqualityCheck:G0}});function zY(e){var{value:t}=e;if($o(t)||t instanceof Date)return t}var BY=(e,t,n)=>{var r=e.map(zY).filter(a=>a!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&qO(r))?B3(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},Z4=e=>e.referenceElements.dots,ad=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),UY=ce([Z4,lr,bp],ad),eI=e=>e.referenceElements.areas,VY=ce([eI,lr,bp],ad),tI=e=>e.referenceElements.lines,HY=ce([tI,lr,bp],ad),nI=(e,t)=>{if(e!=null){var n=ws(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},WY=ce(UY,lr,nI),rI=(e,t)=>{if(e!=null){var n=ws(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},qY=ce([VY,lr],rI);function KY(e){var t;if(e.x!=null)return ws([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:ws(n)}function YY(e){var t;if(e.y!=null)return ws([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:ws(n)}var aI=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?KY(r):YY(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},GY=ce([HY,lr],aI),XY=ce(WY,GY,qY,(e,t,n)=>xg(e,n,t)),Xk=(e,t,n,r,a,i,o,s)=>{if(n!=null)return n;var l=o==="vertical"&&s==="xAxis"||o==="horizontal"&&s==="yAxis",c=l?xg(r,i,a):xg(i,a);return sY(t,c,e.allowDataOverflow)},JY=ce([hr,Kk,Yk,LY,$Y,XY,On,lr],Xk,{memoizeOptions:{resultEqualityCheck:G0}}),QY=[0,1],Jk=(e,t,n,r,a,i,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:s,type:l}=e,c=Nl(t,i);if(c&&s==null){var d;return B3(0,(d=n==null?void 0:n.length)!==null&&d!==void 0?d:0)}return l==="category"?BY(r,e,c):a==="expand"?QY:o}},Qk=ce([hr,On,Hk,J0,vp,lr,JY],Jk),iI=(e,t,n,r,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var s="scale".concat(sp(i));return s in Vd?s:"point"}}},id=ce([hr,On,q4,Ok,lr],iI);function ZY(e){if(e!=null){if(e in Vd)return Vd[e]();var t="scale".concat(sp(e));if(t in Vd)return Vd[t]()}}function Zk(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var a=ZY(t);if(a!=null){var i=a.domain(n).range(r);return o9(i),i}}}var eS=(e,t,n)=>{var r=qk(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&yl(e))return gY(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&yl(e))return yY(e,t.tickCount,t.allowDecimals)}},tS=ce([Qk,xp,id],eS),nS=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&yl(t)&&Array.isArray(n)&&n.length>0){var a=t[0],i=n[0],o=t[1],s=n[n.length-1];return[Math.min(a,i),Math.max(o,s)]}return t},eG=ce([hr,Qk,tS,lr],nS),tG=ce(J0,hr,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(ws(e.map(f=>f.value))).sort((f,p)=>f-p),a=r[0],i=r[r.length-1];if(a==null||i==null)return 1/0;var o=i-a;if(o===0)return 1/0;for(var s=0;s<r.length-1;s++){var l=r[s],c=r[s+1];if(!(l==null||c==null)){var d=c-l;n=Math.min(n,d)}}return n/o}}),oI=ce(tG,On,vY,oa,(e,t,n,r,a)=>a,(e,t,n,r,a)=>{if(!Hr(e))return 0;var i=t==="vertical"?r.height:r.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=zi(n,e*i),s=e*i/2;return s-o-(s-o)/i*o}return 0}),nG=(e,t,n)=>{var r=Ms(e,t);return r==null||typeof r.padding!="string"?0:oI(e,"xAxis",t,n,r.padding)},rG=(e,t,n)=>{var r=As(e,t);return r==null||typeof r.padding!="string"?0:oI(e,"yAxis",t,n,r.padding)},aG=ce(Ms,nG,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((n=a.left)!==null&&n!==void 0?n:0)+t,right:((r=a.right)!==null&&r!==void 0?r:0)+t}}),iG=ce(As,rG,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((n=a.top)!==null&&n!==void 0?n:0)+t,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+t}}),oG=ce([oa,aG,O0,T0,(e,t,n)=>n],(e,t,n,r,a)=>{var{padding:i}=r;return a?[i.left,n.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),sG=ce([oa,On,iG,O0,T0,(e,t,n)=>n],(e,t,n,r,a,i)=>{var{padding:o}=a;return i?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Sp=(e,t,n,r)=>{var a;switch(t){case"xAxis":return oG(e,n,r);case"yAxis":return sG(e,n,r);case"zAxis":return(a=$k(e,n))===null||a===void 0?void 0:a.range;case"angleAxis":return $4(e);case"radiusAxis":return z4(e,n);default:return}},sI=ce([hr,Sp],K0),Z0=ce([hr,id,eG,sI],Zk);ce([wp,Q0,lr],RY);function lI(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var ey=(e,t)=>t,ty=(e,t,n)=>n,lG=ce(P0,ey,ty,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(lI)),cG=ce(E0,ey,ty,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(lI)),cI=(e,t)=>({width:e.width,height:t.height}),uG=(e,t)=>{var n=typeof t.width=="number"?t.width:dp;return{width:n,height:e.height}},dG=ce(oa,Ms,cI),fG=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},pG=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},mG=ce(js,oa,lG,ey,ty,(e,t,n,r,a)=>{var i={},o;return n.forEach(s=>{var l=cI(t,s);o==null&&(o=fG(t,r,e));var c=r==="top"&&!a||r==="bottom"&&a;i[s.id]=o-Number(c)*l.height,o+=(c?-1:1)*l.height}),i}),hG=ce(Ns,oa,cG,ey,ty,(e,t,n,r,a)=>{var i={},o;return n.forEach(s=>{var l=uG(t,s);o==null&&(o=pG(t,r,e));var c=r==="left"&&!a||r==="right"&&a;i[s.id]=o-Number(c)*l.width,o+=(c?-1:1)*l.width}),i}),gG=(e,t)=>{var n=Ms(e,t);if(n!=null)return mG(e,n.orientation,n.mirror)},yG=ce([oa,Ms,gG,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n==null?void 0:n[r];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),vG=(e,t)=>{var n=As(e,t);if(n!=null)return hG(e,n.orientation,n.mirror)},bG=ce([oa,As,vG,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n==null?void 0:n[r];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),xG=ce(oa,As,(e,t)=>{var n=typeof t.width=="number"?t.width:dp;return{width:n,height:e.height}}),uI=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=n,s=Nl(e,r),l=t.map(c=>c.value);if(o&&s&&i==="category"&&a&&qO(l))return l}},rS=ce([On,J0,hr,lr],uI),dI=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:i}=n,o=Nl(e,r);if(o&&(a==="number"||i!=="auto"))return t.map(s=>s.value)}},aS=ce([On,J0,xp,lr],dI),gM=ce([On,PY,id,Z0,rS,aS,Sp,tS,lr],(e,t,n,r,a,i,o,s,l)=>{if(t!=null){var c=Nl(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:i,duplicateDomain:a,isCategorical:c,niceTicks:s,range:o,realScaleType:n,scale:r}}}),wG=(e,t,n,r,a,i,o,s,l)=>{if(!(t==null||r==null)){var c=Nl(e,l),{type:d,ticks:f,tickCount:p}=t,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,h=d==="category"&&r.bandwidth?r.bandwidth()/m:0;h=l==="angleAxis"&&i!=null&&i.length>=2?Ca(i[0]-i[1])*2*h:h;var y=f||a;if(y){var x=y.map((g,b)=>{var w=o?o.indexOf(g):g;return{index:b,coordinate:r(w)+h,value:g,offset:h}});return x.filter(g=>Hr(g.coordinate))}return c&&s?s.map((g,b)=>({coordinate:r(g)+h,value:g,index:b,offset:h})).filter(g=>Hr(g.coordinate)):r.ticks?r.ticks(p).map(g=>({coordinate:r(g)+h,value:g,offset:h})):r.domain().map((g,b)=>({coordinate:r(g)+h,value:o?o[g]:g,index:b,offset:h}))}},fI=ce([On,xp,id,Z0,tS,Sp,rS,aS,lr],wG),kG=(e,t,n,r,a,i,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var s=Nl(e,o),{tickCount:l}=t,c=0;return c=o==="angleAxis"&&(r==null?void 0:r.length)>=2?Ca(r[0]-r[1])*2*c:c,s&&i?i.map((d,f)=>({coordinate:n(d)+c,value:d,index:f,offset:c})):n.ticks?n.ticks(l).map(d=>({coordinate:n(d)+c,value:d,offset:c})):n.domain().map((d,f)=>({coordinate:n(d)+c,value:a?a[d]:d,index:f,offset:c}))}},pI=ce([On,xp,Z0,Sp,rS,aS,lr],kG),mI=ce(hr,Z0,(e,t)=>{if(!(e==null||t==null))return bg(bg({},e),{},{scale:t})}),SG=ce([hr,id,Qk,sI],Zk);ce((e,t,n)=>$k(e,n),SG,(e,t)=>{if(!(e==null||t==null))return bg(bg({},e),{},{scale:t})});var NG=ce([On,P0,E0],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),hI=e=>e.options.defaultTooltipEventType,gI=e=>e.options.validateTooltipEventTypes;function yI(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function iS(e,t){var n=hI(e),r=gI(e);return yI(t,n,r)}function jG(e){return xt(t=>iS(t,e))}var vI=(e,t)=>{var n,r=Number(t);if(!(Ro(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},CG=e=>e.tooltip.settings,Zs={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},MG={itemInteraction:{click:Zs,hover:Zs},axisInteraction:{click:Zs,hover:Zs},keyboardInteraction:Zs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},bI=ai({name:"tooltip",initialState:MG,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:ir()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,a=oo(e).tooltipItemPayloads.indexOf(n);a>-1&&(e.tooltipItemPayloads[a]=r)},prepare:ir()},removeTooltipEntrySettings:{reducer(e,t){var n=oo(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:ir()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:AG,replaceTooltipEntrySettings:PG,removeTooltipEntrySettings:EG,setTooltipSettingsState:TG,setActiveMouseOverItemIndex:xI,mouseLeaveItem:OG,mouseLeaveChart:wI,setActiveClickItemIndex:DG,setMouseOverAxisIndex:kI,setMouseClickAxisIndex:IG,setSyncInteraction:Lx,setKeyboardInteraction:Rx}=bI.actions,_G=bI.reducer;function yM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Am(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yM(Object(n),!0).forEach(function(r){FG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FG(e,t,n){return(t=LG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LG(e){var t=RG(e,"string");return typeof t=="symbol"?t:t+""}function RG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $G(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function zG(e){return e.index!=null}var SI=(e,t,n,r)=>{if(t==null)return Zs;var a=$G(e,t,n);if(a==null)return Zs;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(zG(a)){if(i)return Am(Am({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Am(Am({},Zs),{},{coordinate:a.coordinate})};function BG(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function UG(e,t){var n=BG(e),r=t[0],a=t[1];if(n===void 0)return!1;var i=Math.min(r,a),o=Math.max(r,a);return n>=i&&n<=o}function VG(e,t,n){if(n==null||t==null)return!0;var r=Qn(e,t);return r==null||!yl(n)?!0:UG(r,n)}var oS=(e,t,n,r)=>{var a=e==null?void 0:e.index;if(a==null)return null;var i=Number(a);if(!Hr(i))return a;var o=0,s=1/0;t.length>0&&(s=t.length-1);var l=Math.max(o,Math.min(i,s)),c=t[l];return c==null||VG(c,n,r)?String(l):null},NI=(e,t,n,r,a,i,o,s)=>{if(!(i==null||s==null)){var l=o[0],c=l==null?void 0:s(l.positions,i);if(c!=null)return c;var d=a==null?void 0:a[Number(i)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:d.coordinate}}}},jI=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(n==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&r!=null){var i=e.tooltipItemPayloads[0];return i!=null?[i]:[]}return e.tooltipItemPayloads.filter(o=>{var s;return((s=o.settings)===null||s===void 0?void 0:s.graphicalItemId)===a})},Np=e=>e.options.tooltipPayloadSearcher,od=e=>e.tooltip;function vM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function bM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vM(Object(n),!0).forEach(function(r){HG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HG(e,t,n){return(t=WG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WG(e){var t=qG(e,"string");return typeof t=="symbol"?t:t+""}function qG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KG(e,t){return e??t}var CI=(e,t,n,r,a,i,o)=>{if(!(t==null||i==null)){var{chartData:s,computedData:l,dataStartIndex:c,dataEndIndex:d}=n,f=[];return e.reduce((p,m)=>{var h,{dataDefinedOnItem:y,settings:x}=m,g=KG(y,s),b=Array.isArray(g)?n3(g,c,d):g,w=(h=x==null?void 0:x.dataKey)!==null&&h!==void 0?h:r,S=x==null?void 0:x.nameKey,C;if(r&&Array.isArray(b)&&!Array.isArray(b[0])&&o==="axis"?C=KO(b,r,a):C=i(b,t,l,S),Array.isArray(C))C.forEach(M=>{var O=bM(bM({},x),{},{name:M.name,unit:M.unit,color:void 0,fill:void 0});p.push(Tj({tooltipEntrySettings:O,dataKey:M.dataKey,payload:M.payload,value:Qn(M.payload,M.dataKey),name:M.name}))});else{var N;p.push(Tj({tooltipEntrySettings:x,dataKey:w,payload:C,value:Qn(C,w),name:(N=Qn(C,S))!==null&&N!==void 0?N:x==null?void 0:x.name}))}return p},f)}},sS=ce([Zr,On,q4,Ok,Qr],iI),YG=ce([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),GG=ce([Qr,rd],zk),sd=ce([YG,Zr,GG],Bk,{memoizeOptions:{resultEqualityCheck:X0}}),XG=ce([sd],e=>e.filter(Rk)),JG=ce([sd],Uk,{memoizeOptions:{resultEqualityCheck:X0}}),ld=ce([JG,Ml],Vk),QG=ce([XG,Ml,Zr],V4),lS=ce([ld,Zr,sd],Wk),MI=ce([Zr],qk),ZG=ce([Zr],e=>e.allowDataOverflow),AI=ce([MI,ZG],w4),eX=ce([sd],e=>e.filter(Rk)),tX=ce([QG,eX,vp,_4],J4),nX=ce([tX,Ml,Qr,AI],Q4),rX=ce([sd],G4),aX=ce([ld,Zr,rX,Q0,Qr],Gk,{memoizeOptions:{resultEqualityCheck:G0}}),iX=ce([Z4,Qr,rd],ad),oX=ce([iX,Qr],nI),sX=ce([eI,Qr,rd],ad),lX=ce([sX,Qr],rI),cX=ce([tI,Qr,rd],ad),uX=ce([cX,Qr],aI),dX=ce([oX,uX,lX],xg),fX=ce([Zr,MI,AI,nX,aX,dX,On,Qr],Xk),jp=ce([Zr,On,ld,lS,vp,Qr,fX],Jk),pX=ce([jp,Zr,sS],eS),mX=ce([Zr,jp,pX,Qr],nS),PI=e=>{var t=Qr(e),n=rd(e),r=!1;return Sp(e,t,n,r)},EI=ce([Zr,PI],K0),TI=ce([Zr,sS,mX,EI],Zk),hX=ce([On,lS,Zr,Qr],uI),gX=ce([On,lS,Zr,Qr],dI),yX=(e,t,n,r,a,i,o,s)=>{if(t){var{type:l}=t,c=Nl(e,s);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/d:0;return f=s==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Ca(a[0]-a[1])*2*f:f,c&&o?o.map((p,m)=>({coordinate:r(p)+f,value:p,index:m,offset:f})):r.domain().map((p,m)=>({coordinate:r(p)+f,value:i?i[p]:p,index:m,offset:f}))}}},Ps=ce([On,Zr,sS,TI,PI,hX,gX,Qr],yX),cS=ce([hI,gI,CG],(e,t,n)=>yI(n.shared,e,t)),OI=e=>e.tooltip.settings.trigger,uS=e=>e.tooltip.settings.defaultIndex,Cp=ce([od,cS,OI,uS],SI),Wu=ce([Cp,ld,kp,jp],oS),DI=ce([Ps,Wu],vI),II=ce([Cp],e=>{if(e)return e.dataKey}),vX=ce([Cp],e=>{if(e)return e.graphicalItemId}),_I=ce([od,cS,OI,uS],jI),bX=ce([Ns,js,On,oa,Ps,uS,_I,Np],NI),xX=ce([Cp,bX],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),wX=ce([Cp],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),kX=ce([_I,Wu,Ml,kp,DI,Np,cS],CI),SX=ce([kX],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function xM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function wM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xM(Object(n),!0).forEach(function(r){NX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NX(e,t,n){return(t=jX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jX(e){var t=CX(e,"string");return typeof t=="symbol"?t:t+""}function CX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MX=()=>xt(Zr),AX=()=>{var e=MX(),t=xt(Ps),n=xt(TI);return px(!e||!n?void 0:wM(wM({},e),{},{scale:n}),t)};function kM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Gc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kM(Object(n),!0).forEach(function(r){PX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PX(e,t,n){return(t=EX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EX(e){var t=TX(e,"string");return typeof t=="symbol"?t:t+""}function TX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OX=(e,t,n,r)=>{var a=t.find(i=>i&&i.index===n);if(a){if(e==="horizontal")return{x:a.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:a.coordinate}}return{x:0,y:0}},DX=(e,t,n,r)=>{var a=t.find(c=>c&&c.index===n);if(a){if(e==="centric"){var i=a.coordinate,{radius:o}=r;return Gc(Gc(Gc({},r),Ur(r.cx,r.cy,o,i)),{},{angle:i,radius:o})}var s=a.coordinate,{angle:l}=r;return Gc(Gc(Gc({},r),Ur(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function IX(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var FI=(e,t,n,r,a)=>{var i,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var s=0;s<o;s++){var l,c,d,f,p,m=s>0?(l=n[s-1])===null||l===void 0?void 0:l.coordinate:(c=n[o-1])===null||c===void 0?void 0:c.coordinate,h=(d=n[s])===null||d===void 0?void 0:d.coordinate,y=s>=o-1?(f=n[0])===null||f===void 0?void 0:f.coordinate:(p=n[s+1])===null||p===void 0?void 0:p.coordinate,x=void 0;if(!(m==null||h==null||y==null))if(Ca(h-m)!==Ca(y-h)){var g=[];if(Ca(y-h)===Ca(a[1]-a[0])){x=y;var b=h+a[1]-a[0];g[0]=Math.min(b,(b+m)/2),g[1]=Math.max(b,(b+m)/2)}else{x=m;var w=y+a[1]-a[0];g[0]=Math.min(h,(w+h)/2),g[1]=Math.max(h,(w+h)/2)}var S=[Math.min(h,(x+h)/2),Math.max(h,(x+h)/2)];if(e>S[0]&&e<=S[1]||e>=g[0]&&e<=g[1]){var C;return(C=n[s])===null||C===void 0?void 0:C.index}}else{var N=Math.min(m,y),M=Math.max(m,y);if(e>(N+h)/2&&e<=(M+h)/2){var O;return(O=n[s])===null||O===void 0?void 0:O.index}}}else if(t)for(var R=0;R<o;R++){var P=t[R];if(P!=null){var _=t[R+1],I=t[R-1];if(R===0&&_!=null&&e<=(P.coordinate+_.coordinate)/2||R===o-1&&I!=null&&e>(P.coordinate+I.coordinate)/2||R>0&&R<o-1&&I!=null&&_!=null&&e>(P.coordinate+I.coordinate)/2&&e<=(P.coordinate+_.coordinate)/2)return P.index}}return-1},_X=()=>xt(Ok),dS=(e,t)=>t,LI=(e,t,n)=>n,fS=(e,t,n,r)=>r,FX=ce(Ps,e=>v0(e,t=>t.coordinate)),pS=ce([od,dS,LI,fS],SI),mS=ce([pS,ld,kp,jp],oS),LX=(e,t,n)=>{if(t!=null){var r=od(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},RI=ce([od,dS,LI,fS],jI),wg=ce([Ns,js,On,oa,Ps,fS,RI,Np],NI),RX=ce([pS,wg],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),$I=ce([Ps,mS],vI),$X=ce([RI,mS,Ml,kp,$I,Np,dS],CI),zX=ce([pS,mS],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),BX=(e,t,n,r,a,i,o)=>{if(!(!e||!n||!r||!a)&&IX(e,o)){var s=m9(e,t),l=FI(s,i,a,n,r),c=OX(t,a,l,e);return{activeIndex:String(l),activeCoordinate:c}}},UX=(e,t,n,r,a,i,o)=>{if(!(!e||!r||!a||!i||!n)){var s=MW(e,n);if(s){var l=h9(s,t),c=FI(l,o,i,r,a),d=DX(t,i,c,s);return{activeIndex:String(c),activeCoordinate:d}}}},VX=(e,t,n,r,a,i,o,s)=>{if(!(!e||!t||!r||!a||!i))return t==="horizontal"||t==="vertical"?BX(e,t,r,a,i,o,s):UX(e,t,n,r,a,i,o)},HX=ce(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),WX=ce(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(pa)),n=Array.from(new Set(t));return n.sort((r,a)=>r-a)},{memoizeOptions:{resultEqualityCheck:NY}});function SM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function NM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SM(Object(n),!0).forEach(function(r){qX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qX(e,t,n){return(t=KX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KX(e){var t=YX(e,"string");return typeof t=="symbol"?t:t+""}function YX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GX={},XX={zIndexMap:Object.values(pa).reduce((e,t)=>NM(NM({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),GX)},JX=new Set(Object.values(pa));function QX(e){return JX.has(e)}var zI=ai({name:"zIndex",initialState:XX,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:ir()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!QX(n)&&delete e.zIndexMap[n])},prepare:ir()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:a}=t.payload;e.zIndexMap[n]?a?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:a?void 0:r,panoramaElement:a?r:void 0}},prepare:ir()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:ir()}}}),{registerZIndexPortal:ZX,unregisterZIndexPortal:eJ,registerZIndexPortalElement:tJ,unregisterZIndexPortalElement:nJ}=zI.actions,rJ=zI.reducer;function go(e){var{zIndex:t,children:n}=e,r=U9(),a=r&&t!==void 0&&t!==0,i=ii(),o=qn();v.useLayoutEffect(()=>a?(o(ZX({zIndex:t})),()=>{o(eJ({zIndex:t}))}):lp,[o,t,a]);var s=xt(l=>HX(l,t,i));return a?s?Zu.createPortal(n,s):null:n}function $x(){return $x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$x.apply(null,arguments)}function jM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Pm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jM(Object(n),!0).forEach(function(r){aJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aJ(e,t,n){return(t=iJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iJ(e){var t=oJ(e,"string");return typeof t=="symbol"?t:t+""}function oJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sJ(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return v.isValidElement(t)?v.cloneElement(t,r):v.createElement(n,r)}function lJ(e){var t,{coordinate:n,payload:r,index:a,offset:i,tooltipAxisBandSize:o,layout:s,cursor:l,tooltipEventType:c,chartName:d}=e,f=n,p=r,m=a;if(!l||!f||d!=="ScatterChart"&&c!=="axis")return null;var h,y,x;if(d==="ScatterChart")h=f,y=BH,x=pa.cursorLine;else if(d==="BarChart")h=UH(s,f,i,o),y=D3,x=pa.cursorRectangle;else if(s==="radial"&&GO(f)){var{cx:g,cy:b,radius:w,startAngle:S,endAngle:C}=_3(f);h={cx:g,cy:b,startAngle:S,endAngle:C,innerRadius:w,outerRadius:w},y=L3,x=pa.cursorLine}else h={points:TW(s,f,i)},y=ak,x=pa.cursorLine;var N=typeof l=="object"&&"className"in l?l.className:void 0,M=Pm(Pm(Pm(Pm({stroke:"#ccc",pointerEvents:"none"},i),h),Lu(l)),{},{payload:p,payloadIndex:m,className:jn("recharts-tooltip-cursor",N)});return v.createElement(go,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:x},v.createElement(sJ,{cursor:l,cursorComp:y,cursorProps:M}))}function cJ(e){var t=AX(),n=g3(),r=fp(),a=_X();return t==null||n==null||r==null||a==null?null:v.createElement(lJ,$x({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:a}))}var BI=v.createContext(null),uJ=()=>v.useContext(BI),UI={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function i(l,c,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||l,p),h=n?n+c:c;return l._events[h]?l._events[h].fn?l._events[h]=[l._events[h],m]:l._events[h].push(m):(l._events[h]=m,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],c,d;if(this._eventsCount===0)return l;for(d in c=this._events)t.call(c,d)&&l.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(c)):l},s.prototype.listeners=function(l){var c=n?n+l:l,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,p=d.length,m=new Array(p);f<p;f++)m[f]=d[f].fn;return m},s.prototype.listenerCount=function(l){var c=n?n+l:l,d=this._events[c];return d?d.fn?1:d.length:0},s.prototype.emit=function(l,c,d,f,p,m){var h=n?n+l:l;if(!this._events[h])return!1;var y=this._events[h],x=arguments.length,g,b;if(y.fn){switch(y.once&&this.removeListener(l,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,c),!0;case 3:return y.fn.call(y.context,c,d),!0;case 4:return y.fn.call(y.context,c,d,f),!0;case 5:return y.fn.call(y.context,c,d,f,p),!0;case 6:return y.fn.call(y.context,c,d,f,p,m),!0}for(b=1,g=new Array(x-1);b<x;b++)g[b-1]=arguments[b];y.fn.apply(y.context,g)}else{var w=y.length,S;for(b=0;b<w;b++)switch(y[b].once&&this.removeListener(l,y[b].fn,void 0,!0),x){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,c);break;case 3:y[b].fn.call(y[b].context,c,d);break;case 4:y[b].fn.call(y[b].context,c,d,f);break;default:if(!g)for(S=1,g=new Array(x-1);S<x;S++)g[S-1]=arguments[S];y[b].fn.apply(y[b].context,g)}}return!0},s.prototype.on=function(l,c,d){return i(this,l,c,d,!1)},s.prototype.once=function(l,c,d){return i(this,l,c,d,!0)},s.prototype.removeListener=function(l,c,d,f){var p=n?n+l:l;if(!this._events[p])return this;if(!c)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===c&&(!f||m.once)&&(!d||m.context===d)&&o(this,p);else{for(var h=0,y=[],x=m.length;h<x;h++)(m[h].fn!==c||f&&!m[h].once||d&&m[h].context!==d)&&y.push(m[h]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},s.prototype.removeAllListeners=function(l){var c;return l?(c=n?n+l:l,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(UI);var dJ=UI.exports;const fJ=mo(dJ);var Hf=new fJ,zx="recharts.syncEvent.tooltip",CM="recharts.syncEvent.brush";function VI(e,t){if(t){var n=Number.parseInt(t,10);if(!Ro(n))return e==null?void 0:e[n]}}var pJ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},HI=ai({name:"options",initialState:pJ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),mJ=HI.reducer,{createEventEmitter:hJ}=HI.actions;function gJ(e){return e.tooltip.syncInteraction}var yJ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},WI=ai({name:"chartData",initialState:yJ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:MM,setDataStartEndIndexes:vJ,setComputedData:tge}=WI.actions,bJ=WI.reducer,xJ=["x","y"];function AM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Xc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AM(Object(n),!0).forEach(function(r){wJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wJ(e,t,n){return(t=kJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kJ(e){var t=SJ(e,"string");return typeof t=="symbol"?t:t+""}function SJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NJ(e,t){if(e==null)return{};var n,r,a=jJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function jJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function CJ(){var e=xt(Dk),t=xt(Ik),n=qn(),r=xt(F4),a=xt(Ps),i=fp(),o=D0(),s=xt(l=>l.rootProps.className);v.useEffect(()=>{if(e==null)return lp;var l=(c,d,f)=>{if(t!==f&&e===c){if(r==="index"){var p;if(o&&d!==null&&d!==void 0&&(p=d.payload)!==null&&p!==void 0&&p.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:h,y}=m,x=NJ(m,xJ),{x:g,y:b,width:w,height:S}=d.payload.sourceViewBox,C=Xc(Xc({},x),{},{x:o.x+(w?(h-g)/w:0)*o.width,y:o.y+(S?(y-b)/S:0)*o.height});n(Xc(Xc({},d),{},{payload:Xc(Xc({},d.payload),{},{coordinate:C})}))}else n(d);return}if(a!=null){var N;if(typeof r=="function"){var M={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},O=r(a,M);N=a[O]}else r==="value"&&(N=a.find(he=>String(he.value)===d.payload.label));var{coordinate:R}=d.payload;if(N==null||d.payload.active===!1||R==null||o==null){n(Lx({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:P,y:_}=R,I=Math.min(P,o.x+o.width),Q=Math.min(_,o.y+o.height),J={x:i==="horizontal"?N.coordinate:I,y:i==="horizontal"?Q:N.coordinate},re=Lx({active:d.payload.active,coordinate:J,dataKey:d.payload.dataKey,index:String(N.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});n(re)}}};return Hf.on(zx,l),()=>{Hf.off(zx,l)}},[s,n,t,e,r,a,i,o])}function MJ(){var e=xt(Dk),t=xt(Ik),n=qn();v.useEffect(()=>{if(e==null)return lp;var r=(a,i,o)=>{t!==o&&e===a&&n(vJ(i))};return Hf.on(CM,r),()=>{Hf.off(CM,r)}},[n,t,e])}function AJ(){var e=qn();v.useEffect(()=>{e(hJ())},[e]),CJ(),MJ()}function PJ(e,t,n,r,a,i){var o=xt(m=>LX(m,e,t)),s=xt(Ik),l=xt(Dk),c=xt(F4),d=xt(gJ),f=d==null?void 0:d.active,p=D0();v.useEffect(()=>{if(!f&&l!=null&&s!=null){var m=Lx({active:i,coordinate:n,dataKey:o,index:a,label:typeof r=="number"?String(r):r,sourceViewBox:p,graphicalItemId:void 0});Hf.emit(zx,l,m,s)}},[f,n,o,a,r,s,l,c,i,p])}function PM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function EM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PM(Object(n),!0).forEach(function(r){EJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EJ(e,t,n){return(t=TJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TJ(e){var t=OJ(e,"string");return typeof t=="symbol"?t:t+""}function OJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DJ(e){return e.dataKey}function IJ(e,t){return v.isValidElement(e)?v.cloneElement(e,t):typeof e=="function"?v.createElement(e,t):v.createElement(xH,t)}var TM=[],_J={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Nc(e){var t,n,r=Xr(e,_J),{active:a,allowEscapeViewBox:i,animationDuration:o,animationEasing:s,content:l,filterNull:c,isAnimationActive:d,offset:f,payloadUniqBy:p,position:m,reverseDirection:h,useTranslate3d:y,wrapperStyle:x,cursor:g,shared:b,trigger:w,defaultIndex:S,portal:C,axisId:N}=r,M=qn(),O=typeof S=="number"?String(S):S;v.useEffect(()=>{M(TG({shared:b,trigger:w,axisId:N,active:a,defaultIndex:O}))},[M,b,w,N,a,O]);var R=D0(),P=A3(),_=jG(b),{activeIndex:I,isActive:Q}=(t=xt(q=>zX(q,_,w,O)))!==null&&t!==void 0?t:{},J=xt(q=>$X(q,_,w,O)),re=xt(q=>$I(q,_,w,O)),he=xt(q=>RX(q,_,w,O)),B=J,$=uJ(),te=(n=a??Q)!==null&&n!==void 0?n:!1,[k,E]=CD([B,te]),A=_==="axis"?re:void 0;PJ(_,w,he,A,I,te);var j=C??$;if(j==null||R==null||_==null)return null;var z=B??TM;te||(z=TM),c&&z.length&&(z=mD(z.filter(q=>q.value!=null&&(q.hide!==!0||r.includeHidden)),p,DJ));var Y=z.length>0,W=v.createElement(MH,{allowEscapeViewBox:i,animationDuration:o,animationEasing:s,isAnimationActive:d,active:te,coordinate:he,hasPayload:Y,offset:f,position:m,reverseDirection:h,useTranslate3d:y,viewBox:R,wrapperStyle:x,lastBoundingBox:k,innerRef:E,hasPortalFromProps:!!C},IJ(l,EM(EM({},r),{},{payload:z,label:A,active:te,activeIndex:I,coordinate:he,accessibilityLayer:P})));return v.createElement(v.Fragment,null,Zu.createPortal(W,j),te&&v.createElement(cJ,{cursor:g,tooltipEventType:_,coordinate:he,payload:z,index:I}))}var qu=e=>null;qu.displayName="Cell";function FJ(e,t,n){return(t=LJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LJ(e){var t=RJ(e,"string");return typeof t=="symbol"?t:t+""}function RJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class $J{constructor(t){FJ(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function OM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function zJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OM(Object(n),!0).forEach(function(r){BJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BJ(e,t,n){return(t=UJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UJ(e){var t=VJ(e,"string");return typeof t=="symbol"?t:t+""}function VJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HJ={cacheSize:2e3,enableCache:!0},qI=zJ({},HJ),DM=new $J(qI.cacheSize),WJ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},IM="recharts_measurement_span";function qJ(e,t){var n=t.fontSize||"",r=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(s)}var _M=(e,t)=>{try{var n=document.getElementById(IM);n||(n=document.createElement("span"),n.setAttribute("id",IM),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,WJ,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},ef=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||R0.isSsr)return{width:0,height:0};if(!qI.enableCache)return _M(e,t);var n=qJ(e,t),r=DM.get(n);if(r)return r;var a=_M(e,t);return DM.set(n,a),a},KI;function KJ(e,t,n){return(t=YJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YJ(e){var t=GJ(e,"string");return typeof t=="symbol"?t:t+""}function GJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,LM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,XJ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,JJ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,QJ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ZJ=["cm","mm","pt","pc","in","Q","px"];function eQ(e){return ZJ.includes(e)}var mu="NaN";function tQ(e,t){return e*QJ[t]}class fa{static parse(t){var n,[,r,a]=(n=JJ.exec(t))!==null&&n!==void 0?n:[];return r==null?fa.NaN:new fa(parseFloat(r),a??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Ro(t)&&(this.unit=""),n!==""&&!XJ.test(n)&&(this.num=NaN,this.unit=""),eQ(n)&&(this.num=tQ(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new fa(NaN,""):new fa(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new fa(NaN,""):new fa(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new fa(NaN,""):new fa(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new fa(NaN,""):new fa(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ro(this.num)}}KI=fa;KJ(fa,"NaN",new KI(NaN,""));function YI(e){if(e==null||e.includes(mu))return mu;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,a,i]=(n=FM.exec(t))!==null&&n!==void 0?n:[],o=fa.parse(r??""),s=fa.parse(i??""),l=a==="*"?o.multiply(s):o.divide(s);if(l.isNaN())return mu;t=t.replace(FM,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,d,f,p]=(c=LM.exec(t))!==null&&c!==void 0?c:[],m=fa.parse(d??""),h=fa.parse(p??""),y=f==="+"?m.add(h):m.subtract(h);if(y.isNaN())return mu;t=t.replace(LM,y.toString())}return t}var RM=/\(([^()]*)\)/;function nQ(e){for(var t=e,n;(n=RM.exec(t))!=null;){var[,r]=n;t=t.replace(RM,YI(r))}return t}function rQ(e){var t=e.replace(/\s+/g,"");return t=nQ(t),t=YI(t),t}function aQ(e){try{return rQ(e)}catch{return mu}}function bv(e){var t=aQ(e.slice(5,-1));return t===mu?"":t}var iQ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],oQ=["dx","dy","angle","className","breakAll"];function Bx(){return Bx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bx.apply(null,arguments)}function $M(e,t){if(e==null)return{};var n,r,a=sQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function sQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var GI=/[ \f\n\r\t\v\u2028\u2029]+/,XI=e=>{var{children:t,breakAll:n,style:r}=e;try{var a=[];Gr(t)||(n?a=t.toString().split(""):a=t.toString().split(GI));var i=a.map(s=>({word:s,width:ef(s,r).width})),o=n?0:ef("",r).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}};function lQ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var JI=(e,t,n,r)=>e.reduce((a,i)=>{var{word:o,width:s}=i,l=a[a.length-1];if(l&&s!=null&&(t==null||r||l.width+s+n<Number(t)))l.words.push(o),l.width+=s+n;else{var c={words:[o],width:s};a.push(c)}return a},[]),QI=e=>e.reduce((t,n)=>t.width>n.width?t:n),cQ="",zM=(e,t,n,r,a,i,o,s)=>{var l=e.slice(0,t),c=XI({breakAll:n,style:r,children:l+cQ});if(!c)return[!1,[]];var d=JI(c.wordsWithComputedWidth,i,o,s),f=d.length>a||QI(d).width>Number(i);return[f,d]},uQ=(e,t,n,r,a)=>{var{maxLines:i,children:o,style:s,breakAll:l}=e,c=kt(i),d=String(o),f=JI(t,r,n,a);if(!c||a)return f;var p=f.length>i||QI(f).width>Number(r);if(!p)return f;for(var m=0,h=d.length-1,y=0,x;m<=h&&y<=d.length-1;){var g=Math.floor((m+h)/2),b=g-1,[w,S]=zM(d,b,l,s,i,r,n,a),[C]=zM(d,g,l,s,i,r,n,a);if(!w&&!C&&(m=g+1),w&&C&&(h=g-1),!w&&C){x=S;break}y++}return x||f},BM=e=>{var t=Gr(e)?[]:e.toString().split(GI);return[{words:t,width:void 0}]},dQ=e=>{var{width:t,scaleToFit:n,children:r,style:a,breakAll:i,maxLines:o}=e;if((t||n)&&!R0.isSsr){var s,l,c=XI({breakAll:i,children:r,style:a});if(c){var{wordsWithComputedWidth:d,spaceWidth:f}=c;s=d,l=f}else return BM(r);return uQ({breakAll:i,children:r,maxLines:o,style:a},s,l,t,!!n)}return BM(r)},ZI="#808080",fQ={angle:0,breakAll:!1,capHeight:"0.71em",fill:ZI,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},ny=v.forwardRef((e,t)=>{var n=Xr(e,fQ),{x:r,y:a,lineHeight:i,capHeight:o,fill:s,scaleToFit:l,textAnchor:c,verticalAnchor:d}=n,f=$M(n,iQ),p=v.useMemo(()=>dQ({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:m,dy:h,angle:y,className:x,breakAll:g}=f,b=$M(f,oQ);if(!$o(r)||!$o(a)||p.length===0)return null;var w=Number(r)+(kt(m)?m:0),S=Number(a)+(kt(h)?h:0);if(!Hr(w)||!Hr(S))return null;var C;switch(d){case"start":C=bv("calc(".concat(o,")"));break;case"middle":C=bv("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:C=bv("calc(".concat(p.length-1," * -").concat(i,")"));break}var N=[];if(l){var M=p[0].width,{width:O}=f;N.push("scale(".concat(kt(O)&&kt(M)?O/M:1,")"))}return y&&N.push("rotate(".concat(y,", ").concat(w,", ").concat(S,")")),N.length&&(b.transform=N.join(" ")),v.createElement("text",Bx({},$a(b),{ref:t,x:w,y:S,className:jn("recharts-text",x),textAnchor:c,fill:s.includes("url")?ZI:s}),p.map((R,P)=>{var _=R.words.join(g?"":" ");return v.createElement("tspan",{x:w,dy:P===0?C:i,key:"".concat(_,"-").concat(P)},_)}))});ny.displayName="Text";var pQ=["labelRef"],mQ=["content"];function UM(e,t){if(e==null)return{};var n,r,a=hQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function hQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function VM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Pr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VM(Object(n),!0).forEach(function(r){gQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gQ(e,t,n){return(t=yQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yQ(e){var t=vQ(e,"string");return typeof t=="symbol"?t:t+""}function vQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function es(){return es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},es.apply(null,arguments)}var e_=v.createContext(null),bQ=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:a,width:i,height:o,children:s}=e,l=v.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:a,width:i,height:o}),[t,n,r,a,i,o]);return v.createElement(e_.Provider,{value:l},s)},t_=()=>{var e=v.useContext(e_),t=D0();return e||h3(t)},xQ=v.createContext(null),wQ=()=>{var e=v.useContext(xQ),t=xt(B4);return e||t},kQ=e=>{var{value:t,formatter:n}=e,r=Gr(e.children)?t:e.children;return typeof n=="function"?n(r):r},hS=e=>e!=null&&typeof e=="function",SQ=(e,t)=>{var n=Ca(t-e),r=Math.min(Math.abs(t-e),360);return n*r},NQ=(e,t,n,r,a)=>{var{offset:i,className:o}=e,{cx:s,cy:l,innerRadius:c,outerRadius:d,startAngle:f,endAngle:p,clockWise:m}=a,h=(c+d)/2,y=SQ(f,p),x=y>=0?1:-1,g,b;switch(t){case"insideStart":g=f+x*i,b=m;break;case"insideEnd":g=p-x*i,b=!m;break;case"end":g=p+x*i,b=m;break;default:throw new Error("Unsupported position ".concat(t))}b=y<=0?b:!b;var w=Ur(s,l,h,g),S=Ur(s,l,h,g+(b?1:-1)*359),C="M".concat(w.x,",").concat(w.y,`
    A`).concat(h,",").concat(h,",0,1,").concat(b?0:1,`,
    `).concat(S.x,",").concat(S.y),N=Gr(e.id)?Tf("recharts-radial-line-"):e.id;return v.createElement("text",es({},r,{dominantBaseline:"central",className:jn("recharts-radial-bar-label",o)}),v.createElement("defs",null,v.createElement("path",{id:N,d:C})),v.createElement("textPath",{xlinkHref:"#".concat(N)},n))},jQ=(e,t,n)=>{var{cx:r,cy:a,innerRadius:i,outerRadius:o,startAngle:s,endAngle:l}=e,c=(s+l)/2;if(n==="outside"){var{x:d,y:f}=Ur(r,a,o+t,c);return{x:d,y:f,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var p=(i+o)/2,{x:m,y:h}=Ur(r,a,p,c);return{x:m,y:h,textAnchor:"middle",verticalAnchor:"middle"}},Ux=e=>"cx"in e&&kt(e.cx),CQ=(e,t)=>{var{parentViewBox:n,offset:r,position:a}=e,i;n!=null&&!Ux(n)&&(i=n);var{x:o,y:s,upperWidth:l,lowerWidth:c,height:d}=t,f=o,p=o+(l-c)/2,m=(f+p)/2,h=(l+c)/2,y=f+l/2,x=d>=0?1:-1,g=x*r,b=x>0?"end":"start",w=x>0?"start":"end",S=l>=0?1:-1,C=S*r,N=S>0?"end":"start",M=S>0?"start":"end";if(a==="top"){var O={x:f+l/2,y:s-g,textAnchor:"middle",verticalAnchor:b};return Pr(Pr({},O),i?{height:Math.max(s-i.y,0),width:l}:{})}if(a==="bottom"){var R={x:p+c/2,y:s+d+g,textAnchor:"middle",verticalAnchor:w};return Pr(Pr({},R),i?{height:Math.max(i.y+i.height-(s+d),0),width:c}:{})}if(a==="left"){var P={x:m-C,y:s+d/2,textAnchor:N,verticalAnchor:"middle"};return Pr(Pr({},P),i?{width:Math.max(P.x-i.x,0),height:d}:{})}if(a==="right"){var _={x:m+h+C,y:s+d/2,textAnchor:M,verticalAnchor:"middle"};return Pr(Pr({},_),i?{width:Math.max(i.x+i.width-_.x,0),height:d}:{})}var I=i?{width:h,height:d}:{};return a==="insideLeft"?Pr({x:m+C,y:s+d/2,textAnchor:M,verticalAnchor:"middle"},I):a==="insideRight"?Pr({x:m+h-C,y:s+d/2,textAnchor:N,verticalAnchor:"middle"},I):a==="insideTop"?Pr({x:f+l/2,y:s+g,textAnchor:"middle",verticalAnchor:w},I):a==="insideBottom"?Pr({x:p+c/2,y:s+d-g,textAnchor:"middle",verticalAnchor:b},I):a==="insideTopLeft"?Pr({x:f+C,y:s+g,textAnchor:M,verticalAnchor:w},I):a==="insideTopRight"?Pr({x:f+l-C,y:s+g,textAnchor:N,verticalAnchor:w},I):a==="insideBottomLeft"?Pr({x:p+C,y:s+d-g,textAnchor:M,verticalAnchor:b},I):a==="insideBottomRight"?Pr({x:p+c-C,y:s+d-g,textAnchor:N,verticalAnchor:b},I):a&&typeof a=="object"&&(kt(a.x)||gs(a.x))&&(kt(a.y)||gs(a.y))?Pr({x:o+zi(a.x,h),y:s+zi(a.y,d),textAnchor:"end",verticalAnchor:"end"},I):Pr({x:y,y:s+d/2,textAnchor:"middle",verticalAnchor:"middle"},I)},MQ={angle:0,offset:5,zIndex:pa.label,position:"middle",textBreakAll:!1};function Gs(e){var t=Xr(e,MQ),{viewBox:n,position:r,value:a,children:i,content:o,className:s="",textBreakAll:l,labelRef:c}=t,d=wQ(),f=t_(),p=r==="center"?f:d??f,m,h,y;if(n==null?m=p:Ux(n)?m=n:m=h3(n),!m||Gr(a)&&Gr(i)&&!v.isValidElement(o)&&typeof o!="function")return null;var x=Pr(Pr({},t),{},{viewBox:m});if(v.isValidElement(o)){var{labelRef:g}=x,b=UM(x,pQ);return v.cloneElement(o,b)}if(typeof o=="function"){var{content:w}=x,S=UM(x,mQ);if(h=v.createElement(o,S),v.isValidElement(h))return h}else h=kQ(t);var C=$a(t);if(Ux(m)){if(r==="insideStart"||r==="insideEnd"||r==="end")return NQ(t,r,h,C,m);y=jQ(m,t.offset,t.position)}else y=CQ(t,m);return v.createElement(go,{zIndex:t.zIndex},v.createElement(ny,es({ref:c,className:jn("recharts-label",s)},C,y,{textAnchor:lQ(C.textAnchor)?C.textAnchor:y.textAnchor,breakAll:l}),h))}Gs.displayName="Label";var AQ=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?v.createElement(Gs,es({key:"label-implicit"},r)):$o(e)?v.createElement(Gs,es({key:"label-implicit",value:e},r)):v.isValidElement(e)?e.type===Gs?v.cloneElement(e,Pr({key:"label-implicit"},r)):v.createElement(Gs,es({key:"label-implicit",content:e},r)):hS(e)?v.createElement(Gs,es({key:"label-implicit",content:e},r)):e&&typeof e=="object"?v.createElement(Gs,es({},e,{key:"label-implicit"},r)):null};function PQ(e){var{label:t,labelRef:n}=e,r=t_();return AQ(t,r,n)||null}var n_={},r_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(r_);var a_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(a_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r_,n=a_,r=h0;function a(i){if(r.isArrayLike(i))return t.last(n.toArray(i))}e.last=a})(n_);var EQ=n_.last;const TQ=mo(EQ);var OQ=["valueAccessor"],DQ=["dataKey","clockWise","id","textBreakAll","zIndex"];function kg(){return kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kg.apply(null,arguments)}function HM(e,t){if(e==null)return{};var n,r,a=IQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function IQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var _Q=e=>Array.isArray(e.value)?TQ(e.value):e.value,i_=v.createContext(void 0),FQ=i_.Provider,o_=v.createContext(void 0),LQ=o_.Provider;function RQ(){return v.useContext(i_)}function $Q(){return v.useContext(o_)}function nh(e){var{valueAccessor:t=_Q}=e,n=HM(e,OQ),{dataKey:r,clockWise:a,id:i,textBreakAll:o,zIndex:s}=n,l=HM(n,DQ),c=RQ(),d=$Q(),f=c||d;return!f||!f.length?null:v.createElement(go,{zIndex:s??pa.label},v.createElement(ni,{className:"recharts-label-list"},f.map((p,m)=>{var h,y=Gr(r)?t(p,m):Qn(p&&p.payload,r),x=Gr(i)?{}:{id:"".concat(i,"-").concat(m)};return v.createElement(Gs,kg({key:"label-".concat(m)},$a(p),l,x,{fill:(h=n.fill)!==null&&h!==void 0?h:p.fill,parentViewBox:p.parentViewBox,value:y,textBreakAll:o,viewBox:p.viewBox,index:m,zIndex:0}))})))}nh.displayName="LabelList";function s_(e){var{label:t}=e;return t?t===!0?v.createElement(nh,{key:"labelList-implicit"}):v.isValidElement(t)||hS(t)?v.createElement(nh,{key:"labelList-implicit",content:t}):typeof t=="object"?v.createElement(nh,kg({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Vx(){return Vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vx.apply(null,arguments)}var l_=e=>{var{cx:t,cy:n,r,className:a}=e,i=jn("recharts-dot",a);return kt(t)&&kt(n)&&kt(r)?v.createElement("circle",Vx({},Vi(e),I1(e),{className:i,cx:t,cy:n,r})):null},c_=e=>e.graphicalItems.polarItems,zQ=ce([lr,bp],zk),ry=ce([c_,hr,zQ],Bk),BQ=ce([ry],Uk),ay=ce([BQ,Ak],Vk),UQ=ce([ay,hr,ry],Wk);ce([ay,hr,ry],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(a=>{var i,o=Qn(r,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Qn(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var WM=()=>{},VQ=ce([ay,hr,ry,Q0,lr],Gk),HQ=ce([hr,Kk,Yk,WM,VQ,WM,On,lr],Xk),u_=ce([hr,On,ay,UQ,vp,lr,HQ],Jk),WQ=ce([u_,hr,id],eS);ce([hr,u_,WQ,lr],nS);var qQ={radiusAxis:{},angleAxis:{}},d_=ai({name:"polarAxis",initialState:qQ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:nge,removeRadiusAxis:rge,addAngleAxis:age,removeAngleAxis:ige}=d_.actions,KQ=d_.reducer;function qM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function KM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qM(Object(n),!0).forEach(function(r){YQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YQ(e,t,n){return(t=GQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GQ(e){var t=XQ(e,"string");return typeof t=="symbol"?t:t+""}function XQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JQ=(e,t)=>t,gS=ce([c_,JQ],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),QQ=[],yS=(e,t,n)=>(n==null?void 0:n.length)===0?QQ:n,f_=ce([Ak,gS,yS],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=r,(!a||!a.length)&&n!=null&&(a=n.map(i=>KM(KM({},t.presentationProps),i.props))),a!=null)return a}}),ZQ=ce([f_,gS,yS],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,a)=>{var i,o=Qn(r,t.nameKey,t.name),s;return n!=null&&(i=n[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?s=n[a].props.fill:typeof r=="object"&&r!=null&&"fill"in r?s=r.fill:s=t.fill,{value:A0(o,t.dataKey),color:s,payload:r,type:t.legendType}})}),eZ=ce([f_,gS,yS,oa],(e,t,n,r)=>{if(!(t==null||e==null))return pee({offset:r,pieSettings:t,displayedData:e,cells:n})}),p_={exports:{}},Ln={};/** @license React v17.0.2
* react-is.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var iy=60103,oy=60106,Mp=60107,Ap=60108,Pp=60114,Ep=60109,Tp=60110,Op=60112,Dp=60113,vS=60120,Ip=60115,_p=60116,m_=60121,h_=60122,g_=60117,y_=60129,v_=60131;if(typeof Symbol=="function"&&Symbol.for){var ca=Symbol.for;iy=ca("react.element"),oy=ca("react.portal"),Mp=ca("react.fragment"),Ap=ca("react.strict_mode"),Pp=ca("react.profiler"),Ep=ca("react.provider"),Tp=ca("react.context"),Op=ca("react.forward_ref"),Dp=ca("react.suspense"),vS=ca("react.suspense_list"),Ip=ca("react.memo"),_p=ca("react.lazy"),m_=ca("react.block"),h_=ca("react.server.block"),g_=ca("react.fundamental"),y_=ca("react.debug_trace_mode"),v_=ca("react.legacy_hidden")}function yo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case iy:switch(e=e.type,e){case Mp:case Pp:case Ap:case Dp:case vS:return e;default:switch(e=e&&e.$$typeof,e){case Tp:case Op:case _p:case Ip:case Ep:return e;default:return t}}case oy:return t}}}var tZ=Ep,nZ=iy,rZ=Op,aZ=Mp,iZ=_p,oZ=Ip,sZ=oy,lZ=Pp,cZ=Ap,uZ=Dp;Ln.ContextConsumer=Tp;Ln.ContextProvider=tZ;Ln.Element=nZ;Ln.ForwardRef=rZ;Ln.Fragment=aZ;Ln.Lazy=iZ;Ln.Memo=oZ;Ln.Portal=sZ;Ln.Profiler=lZ;Ln.StrictMode=cZ;Ln.Suspense=uZ;Ln.isAsyncMode=function(){return!1};Ln.isConcurrentMode=function(){return!1};Ln.isContextConsumer=function(e){return yo(e)===Tp};Ln.isContextProvider=function(e){return yo(e)===Ep};Ln.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===iy};Ln.isForwardRef=function(e){return yo(e)===Op};Ln.isFragment=function(e){return yo(e)===Mp};Ln.isLazy=function(e){return yo(e)===_p};Ln.isMemo=function(e){return yo(e)===Ip};Ln.isPortal=function(e){return yo(e)===oy};Ln.isProfiler=function(e){return yo(e)===Pp};Ln.isStrictMode=function(e){return yo(e)===Ap};Ln.isSuspense=function(e){return yo(e)===Dp};Ln.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Mp||e===Pp||e===y_||e===Ap||e===Dp||e===vS||e===v_||typeof e=="object"&&e!==null&&(e.$$typeof===_p||e.$$typeof===Ip||e.$$typeof===Ep||e.$$typeof===Tp||e.$$typeof===Op||e.$$typeof===g_||e.$$typeof===m_||e[0]===h_)};Ln.typeOf=yo;p_.exports=Ln;var dZ=p_.exports,YM=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",GM=null,xv=null,b_=e=>{if(e===GM&&Array.isArray(xv))return xv;var t=[];return v.Children.forEach(e,n=>{Gr(n)||(dZ.isFragment(n)?t=t.concat(b_(n.props.children)):t.push(n))}),xv=t,GM=e,t};function x_(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(a=>YM(a)):r=[YM(t)],b_(e).forEach(a=>{var i=vc(a,"type.displayName")||vc(a,"type.name");i&&r.indexOf(i)!==-1&&n.push(a)}),n}var w_=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,k_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!((r=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&r.writable)?!1:n.toString()===`[object ${i}]`}let a=n;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(n)===a}e.isPlainObject=t})(k_);var fZ=k_.isPlainObject;const pZ=mo(fZ);var XM,JM,QM,ZM,eA;function tA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function nA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tA(Object(n),!0).forEach(function(r){mZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mZ(e,t,n){return(t=hZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hZ(e){var t=gZ(e,"string");return typeof t=="symbol"?t:t+""}function gZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sg(){return Sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sg.apply(null,arguments)}function Od(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var rA=(e,t,n,r,a)=>{var i=n-r,o;return o=br(XM||(XM=Od(["M ",",",""])),e,t),o+=br(JM||(JM=Od(["L ",",",""])),e+n,t),o+=br(QM||(QM=Od(["L ",",",""])),e+n-i/2,t+a),o+=br(ZM||(ZM=Od(["L ",",",""])),e+n-i/2-r,t+a),o+=br(eA||(eA=Od(["L ",","," Z"])),e,t),o},yZ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},vZ=e=>{var t=Xr(e,yZ),{x:n,y:r,upperWidth:a,lowerWidth:i,height:o,className:s}=t,{animationEasing:l,animationDuration:c,animationBegin:d,isUpdateAnimationActive:f}=t,p=v.useRef(null),[m,h]=v.useState(-1),y=v.useRef(a),x=v.useRef(i),g=v.useRef(o),b=v.useRef(n),w=v.useRef(r),S=z0(e,"trapezoid-");if(v.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var J=p.current.getTotalLength();J&&h(J)}catch{}},[]),n!==+n||r!==+r||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var C=jn("recharts-trapezoid",s);if(!f)return v.createElement("g",null,v.createElement("path",Sg({},$a(t),{className:C,d:rA(n,r,a,i,o)})));var N=y.current,M=x.current,O=g.current,R=b.current,P=w.current,_="0px ".concat(m===-1?1:m,"px"),I="".concat(m,"px 0px"),Q=P3(["strokeDasharray"],c,l);return v.createElement($0,{animationId:S,key:S,canBegin:m>0,duration:c,easing:l,isActive:f,begin:d},J=>{var re=ja(N,a,J),he=ja(M,i,J),B=ja(O,o,J),$=ja(R,n,J),te=ja(P,r,J);p.current&&(y.current=re,x.current=he,g.current=B,b.current=$,w.current=te);var k=J>0?{transition:Q,strokeDasharray:I}:{strokeDasharray:_};return v.createElement("path",Sg({},$a(t),{className:C,d:rA($,te,re,he,B),ref:p,style:nA(nA({},k),t.style)}))})},bZ=["option","shapeType","activeClassName"];function xZ(e,t){if(e==null)return{};var n,r,a=wZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function wZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function aA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ng(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aA(Object(n),!0).forEach(function(r){kZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kZ(e,t,n){return(t=SZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SZ(e){var t=NZ(e,"string");return typeof t=="symbol"?t:t+""}function NZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jZ(e,t){return Ng(Ng({},t),e)}function CZ(e,t){return e==="symbols"}function iA(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return v.createElement(D3,n);case"trapezoid":return v.createElement(vZ,n);case"sector":return v.createElement(L3,n);case"symbols":if(CZ(t))return v.createElement(D1,n);break;case"curve":return v.createElement(ak,n);default:return null}}function MZ(e){return v.isValidElement(e)?e.props:e}function S_(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,a=xZ(e,bZ),i;if(v.isValidElement(t))i=v.cloneElement(t,Ng(Ng({},a),MZ(t)));else if(typeof t=="function")i=t(a,a.index);else if(pZ(t)&&typeof t!="boolean"){var o=jZ(t,a);i=v.createElement(iA,{shapeType:n,elementProps:o})}else{var s=a;i=v.createElement(iA,{shapeType:n,elementProps:s})}return a.isActive?v.createElement(ni,{className:r},i):i}var AZ=(e,t,n)=>{var r=qn();return(a,i)=>o=>{e==null||e(a,i,o),r(xI({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}},PZ=e=>{var t=qn();return(n,r)=>a=>{e==null||e(n,r,a),t(OG())}},EZ=(e,t,n)=>{var r=qn();return(a,i)=>o=>{e==null||e(a,i,o),r(DG({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}};function N_(e){var{tooltipEntrySettings:t}=e,n=qn(),r=ii(),a=v.useRef(null);return v.useLayoutEffect(()=>{r||(a.current===null?n(AG(t)):a.current!==t&&n(PG({prev:a.current,next:t})),a.current=t)},[t,n,r]),v.useLayoutEffect(()=>()=>{a.current&&(n(EG(a.current)),a.current=null)},[n]),null}function TZ(e){var{legendPayload:t}=e,n=qn(),r=ii(),a=v.useRef(null);return v.useLayoutEffect(()=>{r||(a.current===null?n(N3(t)):a.current!==t&&n(j3({prev:a.current,next:t})),a.current=t)},[n,r,t]),v.useLayoutEffect(()=>()=>{a.current&&(n(C3(a.current)),a.current=null)},[n]),null}function OZ(e){var{legendPayload:t}=e,n=qn(),r=xt(On),a=v.useRef(null);return v.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(a.current===null?n(N3(t)):a.current!==t&&n(j3({prev:a.current,next:t})),a.current=t)},[n,r,t]),v.useLayoutEffect(()=>()=>{a.current&&(n(C3(a.current)),a.current=null)},[n]),null}var wv,DZ=()=>{var[e]=v.useState(()=>Tf("uid-"));return e},IZ=(wv=B6.useId)!==null&&wv!==void 0?wv:DZ;function _Z(e,t){var n=IZ();return t||(e?"".concat(e,"-").concat(n):n)}var FZ=v.createContext(void 0),j_=e=>{var{id:t,type:n,children:r}=e,a=_Z("recharts-".concat(n),t);return v.createElement(FZ.Provider,{value:a},r(a))},LZ={cartesianItems:[],polarItems:[]},C_=ai({name:"graphicalItems",initialState:LZ,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:ir()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,a=oo(e).cartesianItems.indexOf(n);a>-1&&(e.cartesianItems[a]=r)},prepare:ir()},removeCartesianGraphicalItem:{reducer(e,t){var n=oo(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:ir()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:ir()},removePolarGraphicalItem:{reducer(e,t){var n=oo(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:ir()}}}),{addCartesianGraphicalItem:RZ,replaceCartesianGraphicalItem:$Z,removeCartesianGraphicalItem:zZ,addPolarGraphicalItem:BZ,removePolarGraphicalItem:UZ}=C_.actions,VZ=C_.reducer,HZ=e=>{var t=qn(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(RZ(e)):n.current!==e&&t($Z({prev:n.current,next:e})),n.current=e},[t,e]),v.useLayoutEffect(()=>()=>{n.current&&(t(zZ(n.current)),n.current=null)},[t]),null},WZ=v.memo(HZ);function qZ(e){var t=qn();return v.useLayoutEffect(()=>(t(BZ(e)),()=>{t(UZ(e))}),[t,e]),null}var KZ=["key"],YZ=["onMouseEnter","onClick","onMouseLeave"],GZ=["id"],XZ=["id"];function oA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function wr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oA(Object(n),!0).forEach(function(r){JZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JZ(e,t,n){return(t=QZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QZ(e){var t=ZZ(e,"string");return typeof t=="symbol"?t:t+""}function ZZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vl(){return vl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vl.apply(null,arguments)}function sy(e,t){if(e==null)return{};var n,r,a=eee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function eee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function tee(e){var t=v.useMemo(()=>x_(e.children,qu),[e.children]),n=xt(r=>ZQ(r,e.id,t));return n==null?null:v.createElement(OZ,{legendPayload:n})}var nee=v.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:a,strokeWidth:i,fill:o,name:s,hide:l,tooltipType:c,id:d}=e,f={dataDefinedOnItem:r.map(p=>p.tooltipPayload),positions:r.map(p=>p.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:o,dataKey:t,nameKey:n,name:A0(s,t),hide:l,type:c,color:o,unit:"",graphicalItemId:d}};return v.createElement(N_,{tooltipEntrySettings:f})}),ree=(e,t)=>e>t?"start":e<t?"end":"middle",aee=(e,t,n)=>zi(typeof t=="function"?t(e):t,n,n*.8),iee=(e,t,n)=>{var{top:r,left:a,width:i,height:o}=t,s=I3(i,o),l=a+zi(e.cx,i,i/2),c=r+zi(e.cy,o,o/2),d=zi(e.innerRadius,s,0),f=aee(n,e.outerRadius,s),p=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:f,maxRadius:p}},oee=(e,t)=>{var n=Ca(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function see(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var lee=(e,t)=>{if(v.isValidElement(e))return v.cloneElement(e,t);if(typeof e=="function")return e(t);var n=jn("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,a=sy(t,KZ);return v.createElement(ak,vl({},a,{type:"linear",className:n}))},cee=(e,t,n)=>{if(v.isValidElement(e))return v.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),v.isValidElement(r)))return r;var a=jn("recharts-pie-label-text",see(e));return v.createElement(ny,vl({},t,{alignmentBaseline:"middle",className:a}),r)};function uee(e){var{sectors:t,props:n,showLabels:r}=e,{label:a,labelLine:i,dataKey:o}=n;if(!r||!a||!t)return null;var s=Vi(n),l=Lu(a),c=Lu(i),d=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,f=t.map((p,m)=>{var h=(p.startAngle+p.endAngle)/2,y=Ur(p.cx,p.cy,p.outerRadius+d,h),x=wr(wr(wr(wr({},s),p),{},{stroke:"none"},l),{},{index:m,textAnchor:ree(y.x,p.cx)},y),g=wr(wr(wr(wr({},s),p),{},{fill:"none",stroke:p.fill},c),{},{index:m,points:[Ur(p.cx,p.cy,p.outerRadius,h),y],key:"line"});return v.createElement(go,{zIndex:pa.label,key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(m)},v.createElement(ni,null,i&&lee(i,g),cee(a,x,Qn(p,o))))});return v.createElement(ni,{className:"recharts-pie-labels"},f)}function dee(e){var{sectors:t,props:n,showLabels:r}=e,{label:a}=n;return typeof a=="object"&&a!=null&&"position"in a?v.createElement(s_,{label:a}):v.createElement(uee,{sectors:t,props:n,showLabels:r})}function fee(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:a,shape:i,id:o}=e,s=xt(Wu),l=xt(II),c=xt(vX),{onMouseEnter:d,onClick:f,onMouseLeave:p}=a,m=sy(a,YZ),h=AZ(d,a.dataKey,o),y=PZ(p),x=EZ(f,a.dataKey,o);return t==null||t.length===0?null:v.createElement(v.Fragment,null,t.map((g,b)=>{if((g==null?void 0:g.startAngle)===0&&(g==null?void 0:g.endAngle)===0&&t.length!==1)return null;var w=c==null||c===o,S=String(b)===s&&(l==null||a.dataKey===l)&&w,C=s?r:null,N=n&&S?n:C,M=wr(wr({},g),{},{stroke:g.stroke,tabIndex:-1,[o3]:b,[s3]:o});return v.createElement(ni,vl({key:"sector-".concat(g==null?void 0:g.startAngle,"-").concat(g==null?void 0:g.endAngle,"-").concat(g.midAngle,"-").concat(b),tabIndex:-1,className:"recharts-pie-sector"},_1(m,g,b),{onMouseEnter:h(g,b),onMouseLeave:y(g,b),onClick:x(g,b)}),v.createElement(S_,vl({option:i??N,index:b,shapeType:"sector",isActive:S},M)))}))}function pee(e){var t,{pieSettings:n,displayedData:r,cells:a,offset:i}=e,{cornerRadius:o,startAngle:s,endAngle:l,dataKey:c,nameKey:d,tooltipType:f}=n,p=Math.abs(n.minAngle),m=oee(s,l),h=Math.abs(m),y=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,x=r.filter(N=>Qn(N,c,0)!==0).length,g=(h>=360?x:x-1)*y,b=h-x*p-g,w=r.reduce((N,M)=>{var O=Qn(M,c,0);return N+(kt(O)?O:0)},0),S;if(w>0){var C;S=r.map((N,M)=>{var O=Qn(N,c,0),R=Qn(N,d,M),P=iee(n,i,N),_=(kt(O)?O:0)/w,I,Q=wr(wr({},N),a&&a[M]&&a[M].props);M?I=C.endAngle+Ca(m)*y*(O!==0?1:0):I=s;var J=I+Ca(m)*((O!==0?p:0)+_*b),re=(I+J)/2,he=(P.innerRadius+P.outerRadius)/2,B=[{name:R,value:O,payload:Q,dataKey:c,type:f,graphicalItemId:n.id}],$=Ur(P.cx,P.cy,he,re);return C=wr(wr(wr(wr({},n.presentationProps),{},{percent:_,cornerRadius:typeof o=="string"?parseFloat(o):o,name:R,tooltipPayload:B,midAngle:re,middleRadius:he,tooltipPosition:$},Q),P),{},{value:O,dataKey:c,startAngle:I,endAngle:J,payload:Q,paddingAngle:Ca(m)*y}),C})}return S}function mee(e){var{showLabels:t,sectors:n,children:r}=e,a=v.useMemo(()=>!t||!n?[]:n.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[n,t]);return v.createElement(LQ,{value:t?a:void 0},r)}function hee(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:a,isAnimationActive:i,animationBegin:o,animationDuration:s,animationEasing:l,activeShape:c,inactiveShape:d,onAnimationStart:f,onAnimationEnd:p}=t,m=z0(t,"recharts-pie-"),h=n.current,[y,x]=v.useState(!1),g=v.useCallback(()=>{typeof p=="function"&&p(),x(!1)},[p]),b=v.useCallback(()=>{typeof f=="function"&&f(),x(!0)},[f]);return v.createElement(mee,{showLabels:!y,sectors:a},v.createElement($0,{animationId:m,begin:o,duration:s,isActive:i,easing:l,onAnimationStart:b,onAnimationEnd:g,key:m},w=>{var S=[],C=a&&a[0],N=C==null?void 0:C.startAngle;return a==null||a.forEach((M,O)=>{var R=h&&h[O],P=O>0?vc(M,"paddingAngle",0):0;if(R){var _=ja(R.endAngle-R.startAngle,M.endAngle-M.startAngle,w),I=wr(wr({},M),{},{startAngle:N+P,endAngle:N+_+P});S.push(I),N=I.endAngle}else{var{endAngle:Q,startAngle:J}=M,re=ja(0,Q-J,w),he=wr(wr({},M),{},{startAngle:N+P,endAngle:N+re+P});S.push(he),N=he.endAngle}}),n.current=S,v.createElement(ni,null,v.createElement(fee,{sectors:S,activeShape:c,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:r}))}),v.createElement(dee,{showLabels:!y,sectors:a,props:t}),t.children)}var gee={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:pa.area};function yee(e){var{id:t}=e,n=sy(e,GZ),{hide:r,className:a,rootTabIndex:i}=e,o=v.useMemo(()=>x_(e.children,qu),[e.children]),s=xt(d=>eZ(d,t,o)),l=v.useRef(null),c=jn("recharts-pie",a);return r||s==null?(l.current=null,v.createElement(ni,{tabIndex:i,className:c})):v.createElement(go,{zIndex:e.zIndex},v.createElement(nee,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:s,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),v.createElement(ni,{tabIndex:i,className:c},v.createElement(hee,{props:wr(wr({},n),{},{sectors:s}),previousSectorsRef:l,id:t})))}function jg(e){var t=Xr(e,gee),{id:n}=t,r=sy(t,XZ),a=Vi(r);return v.createElement(j_,{id:n,type:"pie"},i=>v.createElement(v.Fragment,null,v.createElement(qZ,{type:"pie",id:i,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),v.createElement(tee,vl({},r,{id:i})),v.createElement(yee,vl({},r,{id:i}))))}jg.displayName="Pie";var vee=["points"];function sA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function kv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sA(Object(n),!0).forEach(function(r){bee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bee(e,t,n){return(t=xee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xee(e){var t=wee(e,"string");return typeof t=="symbol"?t:t+""}function wee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cg(){return Cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cg.apply(null,arguments)}function kee(e,t){if(e==null)return{};var n,r,a=See(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function See(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Nee(e){var{option:t,dotProps:n,className:r}=e;if(v.isValidElement(t))return v.cloneElement(t,n);if(typeof t=="function")return t(n);var a=jn(r,typeof t!="boolean"?t.className:""),i=n??{},{points:o}=i,s=kee(i,vee);return v.createElement(l_,Cg({},s,{className:a}))}function jee(e,t){return e==null?!1:t?!0:e.length===1}function Cee(e){var{points:t,dot:n,className:r,dotClassName:a,dataKey:i,baseProps:o,needClip:s,clipPathId:l,zIndex:c=pa.scatter}=e;if(!jee(t,n))return null;var d=w_(n),f=aU(n),p=t.map((h,y)=>{var x,g,b=kv(kv(kv({r:3},o),f),{},{index:y,cx:(x=h.x)!==null&&x!==void 0?x:void 0,cy:(g=h.y)!==null&&g!==void 0?g:void 0,dataKey:i,value:h.value,payload:h.payload,points:t});return v.createElement(Nee,{key:"dot-".concat(y),option:n,dotProps:b,className:a})}),m={};return s&&l!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(l,")")),v.createElement(go,{zIndex:c},v.createElement(ni,Cg({className:r},m),p))}function lA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lA(Object(n),!0).forEach(function(r){Mee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mee(e,t,n){return(t=Aee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Aee(e){var t=Pee(e,"string");return typeof t=="symbol"?t:t+""}function Pee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Eee={xAxis:{},yAxis:{},zAxis:{}},M_=ai({name:"cartesianAxis",initialState:Eee,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:ir()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:ir()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:ir()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:ir()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:ir()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:ir()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:ir()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:ir()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:ir()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,a=e.yAxis[n];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&r===i[1]&&r!==a.width&&Math.abs(r-i[0])<=1)return;var o=[...i,r].slice(-3);e.yAxis[n]=cA(cA({},e.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:Tee,replaceXAxis:Oee,removeXAxis:Dee,addYAxis:Iee,replaceYAxis:_ee,removeYAxis:Fee,addZAxis:oge,replaceZAxis:sge,removeZAxis:lge,updateYAxisWidth:Lee}=M_.actions,Ree=M_.reducer,$ee=ce([oa],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),zee=ce([$ee,Ns,js],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),bS=()=>xt(zee),Bee=()=>xt(SX);function uA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Sv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uA(Object(n),!0).forEach(function(r){Uee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uee(e,t,n){return(t=Vee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vee(e){var t=Hee(e,"string");return typeof t=="symbol"?t:t+""}function Hee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wee=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:a,dataKey:i,clipPath:o}=e;if(a===!1||t.x==null||t.y==null)return null;var s={index:n,dataKey:i,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=Sv(Sv(Sv({},s),Lu(a)),I1(a)),c;return v.isValidElement(a)?c=v.cloneElement(a,l):typeof a=="function"?c=a(l):c=v.createElement(l_,l),v.createElement(ni,{className:"recharts-active-dot",clipPath:o},c)};function qee(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:a,clipPath:i,zIndex:o=pa.activeDot}=e,s=xt(Wu),l=Bee();if(t==null||l==null)return null;var c=t.find(d=>l.includes(d.payload));return Gr(c)?null:v.createElement(go,{zIndex:o},v.createElement(Wee,{point:c,childIndex:Number(s),mainColor:n,dataKey:a,activeDot:r,clipPath:i}))}var A_=e=>{var{chartData:t}=e,n=qn(),r=ii();return v.useEffect(()=>r?()=>{}:(n(MM(t)),()=>{n(MM(void 0))}),[t,n,r]),null},dA={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},P_=ai({name:"brush",initialState:dA,reducers:{setBrushSettings(e,t){return t.payload==null?dA:t.payload}}}),{setBrushSettings:cge}=P_.actions,Kee=P_.reducer;function Yee(e,t,n){return(t=Gee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gee(e){var t=Xee(e,"string");return typeof t=="symbol"?t:t+""}function Xee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class xS{static create(t){return new xS(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?t>=r&&t<=a:t>=a&&t<=r}}Yee(xS,"EPS",1e-4);function Jee(e){return(e%180+180)%180}var Qee=function(e){var{width:t,height:n}=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Jee(r),i=a*Math.PI/180,o=Math.atan(n/t),s=i>o&&i<Math.PI-o?n/Math.sin(i):t/Math.cos(i);return Math.abs(s)},Zee={dots:[],areas:[],lines:[]},E_=ai({name:"referenceElements",initialState:Zee,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=oo(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=oo(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=oo(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:uge,removeDot:dge,addArea:fge,removeArea:pge,addLine:mge,removeLine:hge}=E_.actions,ete=E_.reducer,tte=v.createContext(void 0),nte=e=>{var{children:t}=e,[n]=v.useState("".concat(Tf("recharts"),"-clip")),r=bS();if(r==null)return null;var{x:a,y:i,width:o,height:s}=r;return v.createElement(tte.Provider,{value:n},v.createElement("defs",null,v.createElement("clipPath",{id:n},v.createElement("rect",{x:a,y:i,height:s,width:o}))),t)};function T_(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var a=e[r];a!==void 0&&n.push(a)}return n}function rte(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Qee(r,n)}function ate(e,t,n){var r=n==="width",{x:a,y:i,width:o,height:s}=e;return t===1?{start:r?a:i,end:r?a+o:i+s}:{start:r?a+o:i+s,end:r?a:i}}function Wf(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-a)<=0}function ite(e,t){return T_(e,t+1)}function ote(e,t,n,r,a){for(var i=(r||[]).slice(),{start:o,end:s}=t,l=0,c=1,d=o,f=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:T_(r,c)};var h=l,y,x=()=>(y===void 0&&(y=n(m,h)),y),g=m.coordinate,b=l===0||Wf(e,g,x,d,s);b||(l=0,d=o,c+=1),b&&(d=g+e*(x()/2+a),l+=c)},p;c<=i.length;)if(p=f(),p)return p.v;return[]}function ste(e,t,n,r,a){var i=(r||[]).slice(),o=i.length;if(o===0)return[];for(var{start:s,end:l}=t,c=1;c<=o;c++){for(var d=(o-1)%c,f=s,p=!0,m=function(){var g=r[h],b=h,w,S=()=>(w===void 0&&(w=n(g,b)),w),C=g.coordinate,N=h===d||Wf(e,C,S,f,l);if(!N)return p=!1,1;N&&(f=C+e*(S()/2+a))},h=d;h<o&&!m();h+=c);if(p){for(var y=[],x=d;x<o;x+=c)y.push(r[x]);return y}}return[]}function fA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ka(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fA(Object(n),!0).forEach(function(r){lte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lte(e,t,n){return(t=cte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cte(e){var t=ute(e,"string");return typeof t=="symbol"?t:t+""}function ute(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dte(e,t,n,r,a){for(var i=(r||[]).slice(),o=i.length,{start:s}=t,{end:l}=t,c=function(f){var p=i[f],m,h=()=>(m===void 0&&(m=n(p,f)),m);if(f===o-1){var y=e*(p.coordinate+e*h()/2-l);i[f]=p=ka(ka({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate})}else i[f]=p=ka(ka({},p),{},{tickCoord:p.coordinate});if(p.tickCoord!=null){var x=Wf(e,p.tickCoord,h,s,l);x&&(l=p.tickCoord-e*(h()/2+a),i[f]=ka(ka({},p),{},{isShow:!0}))}},d=o-1;d>=0;d--)c(d);return i}function fte(e,t,n,r,a,i){var o=(r||[]).slice(),s=o.length,{start:l,end:c}=t;if(i){var d=r[s-1],f=n(d,s-1),p=e*(d.coordinate+e*f/2-c);if(o[s-1]=d=ka(ka({},d),{},{tickCoord:p>0?d.coordinate-p*e:d.coordinate}),d.tickCoord!=null){var m=Wf(e,d.tickCoord,()=>f,l,c);m&&(c=d.tickCoord-e*(f/2+a),o[s-1]=ka(ka({},d),{},{isShow:!0}))}}for(var h=i?s-1:s,y=function(g){var b=o[g],w,S=()=>(w===void 0&&(w=n(b,g)),w);if(g===0){var C=e*(b.coordinate-e*S()/2-l);o[g]=b=ka(ka({},b),{},{tickCoord:C<0?b.coordinate-C*e:b.coordinate})}else o[g]=b=ka(ka({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var N=Wf(e,b.tickCoord,S,l,c);N&&(l=b.tickCoord+e*(S()/2+a),o[g]=ka(ka({},b),{},{isShow:!0}))}},x=0;x<h;x++)y(x);return o}function wS(e,t,n){var{tick:r,ticks:a,viewBox:i,minTickGap:o,orientation:s,interval:l,tickFormatter:c,unit:d,angle:f}=e;if(!a||!a.length||!r)return[];if(kt(l)||R0.isSsr){var p;return(p=ite(a,kt(l)?l:0))!==null&&p!==void 0?p:[]}var m=[],h=s==="top"||s==="bottom"?"width":"height",y=d&&h==="width"?ef(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},x=(w,S)=>{var C=typeof c=="function"?c(w.value,S):w.value;return h==="width"?rte(ef(C,{fontSize:t,letterSpacing:n}),y,f):ef(C,{fontSize:t,letterSpacing:n})[h]},g=a.length>=2?Ca(a[1].coordinate-a[0].coordinate):1,b=ate(i,g,h);return l==="equidistantPreserveStart"?ote(g,b,x,a,o):l==="equidistantPreserveEnd"?ste(g,b,x,a,o):(l==="preserveStart"||l==="preserveStartEnd"?m=fte(g,b,x,a,o,l==="preserveStartEnd"):m=dte(g,b,x,a,o),m.filter(w=>w.isShow))}var pte=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var s=n?n.getBoundingClientRect().width:0,l=a+i,c=o+l+s+(n?r:0);return Math.round(c)}return 0},mte=["axisLine","width","height","className","hide","ticks","axisType"];function hte(e,t){if(e==null)return{};var n,r,a=gte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function gte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function jc(){return jc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jc.apply(null,arguments)}function pA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function zr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pA(Object(n),!0).forEach(function(r){yte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yte(e,t,n){return(t=vte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vte(e){var t=bte(e,"string");return typeof t=="symbol"?t:t+""}function bte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cs={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:pa.axis};function xte(e){var{x:t,y:n,width:r,height:a,orientation:i,mirror:o,axisLine:s,otherSvgProps:l}=e;if(!s)return null;var c=zr(zr(zr({},l),Vi(s)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!o||i==="bottom"&&o);c=zr(zr({},c),{},{x1:t,y1:n+d*a,x2:t+r,y2:n+d*a})}else{var f=+(i==="left"&&!o||i==="right"&&o);c=zr(zr({},c),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+a})}return v.createElement("line",jc({},c,{className:jn("recharts-cartesian-axis-line",vc(s,"className"))}))}function wte(e,t,n,r,a,i,o,s,l){var c,d,f,p,m,h,y=s?-1:1,x=e.tickSize||o,g=kt(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":c=d=e.coordinate,p=n+ +!s*a,f=p-y*x,h=f-y*l,m=g;break;case"left":f=p=e.coordinate,d=t+ +!s*r,c=d-y*x,m=c-y*l,h=g;break;case"right":f=p=e.coordinate,d=t+ +s*r,c=d+y*x,m=c+y*l,h=g;break;default:c=d=e.coordinate,p=n+ +s*a,f=p+y*x,h=f+y*l,m=g;break}return{line:{x1:c,y1:f,x2:d,y2:p},tick:{x:m,y:h}}}function kte(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Ste(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Nte(e){var{option:t,tickProps:n,value:r}=e,a,i=jn(n.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(t))a=v.cloneElement(t,zr(zr({},n),{},{className:i}));else if(typeof t=="function")a=t(zr(zr({},n),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=jn(o,t==null?void 0:t.className)),a=v.createElement(ny,jc({},n,{className:o}),r)}return a}var jte=v.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:a,stroke:i,tickFormatter:o,unit:s,padding:l,tickTextProps:c,orientation:d,mirror:f,x:p,y:m,width:h,height:y,tickSize:x,tickMargin:g,fontSize:b,letterSpacing:w,getTicksConfig:S,events:C,axisType:N}=e,M=wS(zr(zr({},S),{},{ticks:n}),b,w),O=kte(d,f),R=Ste(d,f),P=Vi(S),_=Lu(r),I={};typeof a=="object"&&(I=a);var Q=zr(zr({},P),{},{fill:"none"},I),J=M.map(B=>zr({entry:B},wte(B,p,m,h,y,d,x,f,g))),re=J.map(B=>{var{entry:$,line:te}=B;return v.createElement(ni,{className:"recharts-cartesian-axis-tick",key:"tick-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},a&&v.createElement("line",jc({},Q,te,{className:jn("recharts-cartesian-axis-tick-line",vc(a,"className"))})))}),he=J.map((B,$)=>{var{entry:te,tick:k}=B,E=zr(zr(zr(zr({textAnchor:O,verticalAnchor:R},P),{},{stroke:"none",fill:i},_),k),{},{index:$,payload:te,visibleTicksCount:M.length,tickFormatter:o,padding:l},c);return v.createElement(ni,jc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(te.value,"-").concat(te.coordinate,"-").concat(te.tickCoord)},_1(C,te,$)),r&&v.createElement(Nte,{option:r,tickProps:E,value:"".concat(typeof o=="function"?o(te.value,$):te.value).concat(s||"")}))});return v.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(N,"-ticks")},he.length>0&&v.createElement(go,{zIndex:pa.label},v.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(N,"-tick-labels"),ref:t},he)),re.length>0&&v.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(N,"-tick-lines")},re))}),Cte=v.forwardRef((e,t)=>{var{axisLine:n,width:r,height:a,className:i,hide:o,ticks:s,axisType:l}=e,c=hte(e,mte),[d,f]=v.useState(""),[p,m]=v.useState(""),h=v.useRef(null);v.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var x;return pte({ticks:h.current,label:(x=e.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var y=v.useCallback(x=>{if(x){var g=x.getElementsByClassName("recharts-cartesian-axis-tick-value");h.current=g;var b=g[0];if(b){var w=window.getComputedStyle(b),S=w.fontSize,C=w.letterSpacing;(S!==d||C!==p)&&(f(S),m(C))}}},[d,p]);return o||r!=null&&r<=0||a!=null&&a<=0?null:v.createElement(go,{zIndex:e.zIndex},v.createElement(ni,{className:jn("recharts-cartesian-axis",i)},v.createElement(xte,{x:e.x,y:e.y,width:r,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Vi(e)}),v.createElement(jte,{ref:y,axisType:l,events:c,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:p,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:s,unit:e.unit,width:e.width,x:e.x,y:e.y}),v.createElement(bQ,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},v.createElement(PQ,{label:e.label,labelRef:e.labelRef}),e.children)))}),kS=v.forwardRef((e,t)=>{var n=Xr(e,cs);return v.createElement(Cte,jc({},n,{ref:t}))});kS.displayName="CartesianAxis";var Mte=["x1","y1","x2","y2","key"],Ate=["offset"],Pte=["xAxisId","yAxisId"],Ete=["xAxisId","yAxisId"];function mA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Na(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mA(Object(n),!0).forEach(function(r){Tte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tte(e,t,n){return(t=Ote(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ote(e){var t=Dte(e,"string");return typeof t=="symbol"?t:t+""}function Dte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nc(){return nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nc.apply(null,arguments)}function Mg(e,t){if(e==null)return{};var n,r,a=Ite(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ite(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var _te=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:a,width:i,height:o,ry:s}=e;return v.createElement("rect",{x:r,y:a,ry:s,width:i,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function O_(e){var{option:t,lineItemProps:n}=e,r;if(v.isValidElement(t))r=v.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var a,{x1:i,y1:o,x2:s,y2:l,key:c}=n,d=Mg(n,Mte),f=(a=Vi(d))!==null&&a!==void 0?a:{},{offset:p}=f,m=Mg(f,Ate);r=v.createElement("line",nc({},m,{x1:i,y1:o,x2:s,y2:l,fill:"none",key:c}))}return r}function Fte(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,s=Mg(e,Pte),l=a.map((c,d)=>{var f=Na(Na({},s),{},{x1:t,y1:c,x2:t+n,y2:c,key:"line-".concat(d),index:d});return v.createElement(O_,{key:"line-".concat(d),option:r,lineItemProps:f})});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Lte(e){var{y:t,height:n,vertical:r=!0,verticalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,s=Mg(e,Ete),l=a.map((c,d)=>{var f=Na(Na({},s),{},{x1:c,y1:t,x2:c,y2:t+n,key:"line-".concat(d),index:d});return v.createElement(O_,{option:r,lineItemProps:f,key:"line-".concat(d)})});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Rte(e){var{horizontalFill:t,fillOpacity:n,x:r,y:a,width:i,height:o,horizontalPoints:s,horizontal:l=!0}=e;if(!l||!t||!t.length||s==null)return null;var c=s.map(f=>Math.round(f+a-a)).sort((f,p)=>f-p);a!==c[0]&&c.unshift(0);var d=c.map((f,p)=>{var m=!c[p+1],h=m?a+o-f:c[p+1]-f;if(h<=0)return null;var y=p%t.length;return v.createElement("rect",{key:"react-".concat(p),y:f,x:r,height:h,width:i,stroke:"none",fill:t[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function $te(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:a,y:i,width:o,height:s,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var c=l.map(f=>Math.round(f+a-a)).sort((f,p)=>f-p);a!==c[0]&&c.unshift(0);var d=c.map((f,p)=>{var m=!c[p+1],h=m?a+o-f:c[p+1]-f;if(h<=0)return null;var y=p%n.length;return v.createElement("rect",{key:"react-".concat(p),x:f,y:i,width:h,height:s,stroke:"none",fill:n[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var zte=(e,t)=>{var{xAxis:n,width:r,height:a,offset:i}=e;return r3(wS(Na(Na(Na({},cs),n),{},{ticks:a3(n),viewBox:{x:0,y:0,width:r,height:a}})),i.left,i.left+i.width,t)},Bte=(e,t)=>{var{yAxis:n,width:r,height:a,offset:i}=e;return r3(wS(Na(Na(Na({},cs),n),{},{ticks:a3(n),viewBox:{x:0,y:0,width:r,height:a}})),i.top,i.top+i.height,t)},Ute={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:pa.grid};function qf(e){var t=ek(),n=tk(),r=g3(),a=Na(Na({},Xr(e,Ute)),{},{x:kt(e.x)?e.x:r.left,y:kt(e.y)?e.y:r.top,width:kt(e.width)?e.width:r.width,height:kt(e.height)?e.height:r.height}),{xAxisId:i,yAxisId:o,x:s,y:l,width:c,height:d,syncWithTicks:f,horizontalValues:p,verticalValues:m}=a,h=ii(),y=xt(R=>gM(R,"xAxis",i,h)),x=xt(R=>gM(R,"yAxis",o,h));if(!zo(c)||!zo(d)||!kt(s)||!kt(l))return null;var g=a.verticalCoordinatesGenerator||zte,b=a.horizontalCoordinatesGenerator||Bte,{horizontalPoints:w,verticalPoints:S}=a;if((!w||!w.length)&&typeof b=="function"){var C=p&&p.length,N=b({yAxis:x?Na(Na({},x),{},{ticks:C?p:x.ticks}):void 0,width:t??c,height:n??d,offset:r},C?!0:f);Zh(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(w=N)}if((!S||!S.length)&&typeof g=="function"){var M=m&&m.length,O=g({xAxis:y?Na(Na({},y),{},{ticks:M?m:y.ticks}):void 0,width:t??c,height:n??d,offset:r},M?!0:f);Zh(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(S=O)}return v.createElement(go,{zIndex:a.zIndex},v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(_te,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),v.createElement(Rte,nc({},a,{horizontalPoints:w})),v.createElement($te,nc({},a,{verticalPoints:S})),v.createElement(Fte,nc({},a,{offset:r,horizontalPoints:w,xAxis:y,yAxis:x})),v.createElement(Lte,nc({},a,{offset:r,verticalPoints:S,xAxis:y,yAxis:x}))))}qf.displayName="CartesianGrid";var Vte={},D_=ai({name:"errorBars",initialState:Vte,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:a}=t.payload;e[n]&&(e[n]=e[n].map(i=>i.dataKey===r.dataKey&&i.direction===r.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:gge,replaceErrorBar:yge,removeErrorBar:vge}=D_.actions,Hte=D_.reducer,Wte=["children"];function qte(e,t){if(e==null)return{};var n,r,a=Kte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Kte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Yte={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Gte=v.createContext(Yte);function Xte(e){var{children:t}=e,n=qte(e,Wte);return v.createElement(Gte.Provider,{value:n},t)}function I_(e,t){var n,r,a=xt(c=>Ms(c,e)),i=xt(c=>As(c,t)),o=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:ta.allowDataOverflow,s=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:na.allowDataOverflow,l=o||s;return{needClip:l,needClipX:o,needClipY:s}}function Jte(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,a=bS(),{needClipX:i,needClipY:o,needClip:s}=I_(t,n);if(!s||!a)return null;var{x:l,y:c,width:d,height:f}=a;return v.createElement("clipPath",{id:"clipPath-".concat(r)},v.createElement("rect",{x:i?l:l-d/2,y:o?c:c-f/2,width:i?d:d*2,height:o?f:f*2}))}var __=(e,t,n,r)=>mI(e,"xAxis",t,r),F_=(e,t,n,r)=>pI(e,"xAxis",t,r),L_=(e,t,n,r)=>mI(e,"yAxis",n,r),R_=(e,t,n,r)=>pI(e,"yAxis",n,r),Qte=ce([On,__,L_,F_,R_],(e,t,n,r,a)=>Nl(e,"xAxis")?px(t,r,!1):px(n,a,!1)),Zte=(e,t,n,r,a)=>a;function ene(e){return e.type==="line"}var tne=ce([K4,Zte],(e,t)=>e.filter(ene).find(n=>n.id===t)),nne=ce([On,__,L_,F_,R_,tne,Qte,Pk],(e,t,n,r,a,i,o,s)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:d}=s;if(!(i==null||t==null||n==null||r==null||a==null||r.length===0||a.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:p}=i,m;if(p!=null&&p.length>0?m=p:m=l==null?void 0:l.slice(c,d+1),m!=null)return $ne({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataKey:f,bandSize:o,displayedData:m})}});function rne(e){var t=Lu(e),n=3,r=2;if(t!=null){var{r:a,strokeWidth:i}=t,o=Number(a),s=Number(i);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(s)||s<0)&&(s=r),{r:o,strokeWidth:s}}return{r:n,strokeWidth:r}}/**
* @license React
* use-sync-external-store-with-selector.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Fp=v;Fp.useSyncExternalStore;Fp.useRef;Fp.useEffect;Fp.useMemo;Fp.useDebugValue;function ane(e){e()}function ine(){let e=null,t=null;return{clear(){e=null,t=null},notify(){ane(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!r||e===null||(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var hA={notify(){},get:()=>[]};function one(e,t){let n,r=hA,a=0,i=!1;function o(y){d();const x=r.subscribe(y);let g=!1;return()=>{g||(g=!0,x(),f())}}function s(){r.notify()}function l(){h.onStateChange&&h.onStateChange()}function c(){return i}function d(){a++,n||(n=e.subscribe(l),r=ine())}function f(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=hA)}function p(){i||(i=!0,d())}function m(){i&&(i=!1,f())}const h={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:c,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>r};return h}var sne=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lne=sne(),cne=()=>typeof navigator<"u"&&navigator.product==="ReactNative",une=cne(),dne=()=>lne||une?v.useLayoutEffect:v.useEffect,fne=dne();function gA(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function pne(e,t){if(gA(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(t,n[a])||!gA(e[n[a]],t[n[a]]))return!1;return!0}var yA=Symbol.for("react-redux-context"),vA=typeof globalThis<"u"?globalThis:{};function mne(){if(!v.createContext)return{};const e=vA[yA]??(vA[yA]=new Map);let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var hne=mne();function gne(e){const{children:t,context:n,serverState:r,store:a}=e,i=v.useMemo(()=>{const l=one(a);return{store:a,subscription:l,getServerState:r?()=>r:void 0}},[a,r]),o=v.useMemo(()=>a.getState(),[a]);fne(()=>{const{subscription:l}=i;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==a.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[i,o]);const s=n||hne;return v.createElement(s.Provider,{value:i},t)}var yne=gne,vne=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function bne(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function SS(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(vne.has(r)){if(e[r]==null&&t[r]==null)continue;if(!pne(e[r],t[r]))return!1}else if(!bne(e[r],t[r]))return!1;return!0}var xne=["id"],wne=["type","layout","connectNulls","needClip","shape"],kne=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Kf(){return Kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kf.apply(null,arguments)}function bA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function To(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bA(Object(n),!0).forEach(function(r){Sne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sne(e,t,n){return(t=Nne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nne(e){var t=jne(e,"string");return typeof t=="symbol"?t:t+""}function jne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NS(e,t){if(e==null)return{};var n,r,a=Cne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Cne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Mne=e=>{var{dataKey:t,name:n,stroke:r,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:r,value:A0(n,t),payload:e}]},Ane=v.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:a,fill:i,name:o,hide:s,unit:l,tooltipType:c,id:d}=e,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:A0(o,t),hide:s,type:c,color:r,unit:l,graphicalItemId:d}};return v.createElement(N_,{tooltipEntrySettings:f})}),$_=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Pne(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],a=0;a<t;++a)r=[...r,...n];return r}var Ene=(e,t,n)=>{var r=n.reduce((f,p)=>f+p);if(!r)return $_(t,e);for(var a=Math.floor(e/r),i=e%r,o=t-e,s=[],l=0,c=0;l<n.length;c+=n[l],++l)if(c+n[l]>i){s=[...n.slice(0,l),i-c];break}var d=s.length%2===0?[0,o]:[o];return[...Pne(n,a),...s,...d].map(f=>"".concat(f,"px")).join(", ")};function Tne(e){var{clipPathId:t,points:n,props:r}=e,{dot:a,dataKey:i,needClip:o}=r,{id:s}=r,l=NS(r,xne),c=Vi(l);return v.createElement(Cee,{points:n,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:c,needClip:o,clipPathId:t})}function One(e){var{showLabels:t,children:n,points:r}=e,a=v.useMemo(()=>r==null?void 0:r.map(i=>{var o,s,l={x:(o=i.x)!==null&&o!==void 0?o:0,y:(s=i.y)!==null&&s!==void 0?s:0,width:0,lowerWidth:0,upperWidth:0,height:0};return To(To({},l),{},{value:i.value,payload:i.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return v.createElement(FQ,{value:t?a:void 0},n)}function xA(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:a,props:i}=e,{type:o,layout:s,connectNulls:l,needClip:c,shape:d}=i,f=NS(i,wne),p=To(To({},$a(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:r,type:o,layout:s,connectNulls:l,strokeDasharray:a??i.strokeDasharray});return v.createElement(v.Fragment,null,(r==null?void 0:r.length)>1&&v.createElement(S_,Kf({shapeType:"curve",option:d},p,{pathRef:n})),v.createElement(Tne,{points:r,clipPathId:t,props:i}))}function Dne(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Ine(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:s,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:f,animateNewValues:p,width:m,height:h,onAnimationEnd:y,onAnimationStart:x}=n,g=a.current,b=z0(o,"recharts-line-"),w=v.useRef(b),[S,C]=v.useState(!1),N=!S,M=v.useCallback(()=>{typeof y=="function"&&y(),C(!1)},[y]),O=v.useCallback(()=>{typeof x=="function"&&x(),C(!0)},[x]),R=Dne(r.current),P=v.useRef(0);w.current!==b&&(P.current=i.current,w.current=b);var _=P.current;return v.createElement(One,{points:o,showLabels:N},n.children,v.createElement($0,{animationId:b,begin:c,duration:d,isActive:l,easing:f,onAnimationEnd:M,onAnimationStart:O,key:b},I=>{var Q=ja(_,R+_,I),J=Math.min(Q,R),re;if(l)if(s){var he="".concat(s).split(/[,\s]+/gim).map(te=>parseFloat(te));re=Ene(J,R,he)}else re=$_(R,J);else re=s==null?void 0:String(s);if(I>0&&R>0&&(a.current=o,i.current=Math.max(i.current,J)),g){var B=g.length/o.length,$=I===1?o:o.map((te,k)=>{var E=Math.floor(k*B);if(g[E]){var A=g[E];return To(To({},te),{},{x:ja(A.x,te.x,I),y:ja(A.y,te.y,I)})}return p?To(To({},te),{},{x:ja(m*2,te.x,I),y:ja(h/2,te.y,I)}):To(To({},te),{},{x:te.x,y:te.y})});return a.current=$,v.createElement(xA,{props:n,points:$,clipPathId:t,pathRef:r,strokeDasharray:re})}return v.createElement(xA,{props:n,points:o,clipPathId:t,pathRef:r,strokeDasharray:re})}),v.createElement(s_,{label:n.label}))}function _ne(e){var{clipPathId:t,props:n}=e,r=v.useRef(null),a=v.useRef(0),i=v.useRef(null);return v.createElement(Ine,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:a,pathRef:i})}var Fne=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:Qn(e.payload,t)}};class Lne extends v.Component{render(){var{hide:t,dot:n,points:r,className:a,xAxisId:i,yAxisId:o,top:s,left:l,width:c,height:d,id:f,needClip:p,zIndex:m}=this.props;if(t)return null;var h=jn("recharts-line",a),y=f,{r:x,strokeWidth:g}=rne(n),b=w_(n),w=x*2+g,S=p?"url(#clipPath-".concat(b?"":"dots-").concat(y,")"):void 0;return v.createElement(go,{zIndex:m},v.createElement(ni,{className:h},p&&v.createElement("defs",null,v.createElement(Jte,{clipPathId:y,xAxisId:i,yAxisId:o}),!b&&v.createElement("clipPath",{id:"clipPath-dots-".concat(y)},v.createElement("rect",{x:l-w/2,y:s-w/2,width:c+w,height:d+w}))),v.createElement(Xte,{xAxisId:i,yAxisId:o,data:r,dataPointFormatter:Fne,errorBarOffset:0},v.createElement(_ne,{props:this.props,clipPathId:y}))),v.createElement(qee,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:S}))}}var z_={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:pa.line,type:"linear"};function Rne(e){var t=Xr(e,z_),{activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:s,dot:l,hide:c,isAnimationActive:d,label:f,legendType:p,xAxisId:m,yAxisId:h,id:y}=t,x=NS(t,kne),{needClip:g}=I_(m,h),b=bS(),w=fp(),S=ii(),C=xt(P=>nne(P,m,h,S,y));if(w!=="horizontal"&&w!=="vertical"||C==null||b==null)return null;var{height:N,width:M,x:O,y:R}=b;return v.createElement(Lne,Kf({},x,{id:y,connectNulls:s,dot:l,activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:i,animationEasing:o,isAnimationActive:d,hide:c,label:f,legendType:p,xAxisId:m,yAxisId:h,points:C,layout:w,height:N,width:M,left:O,top:R,needClip:g}))}function $ne(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:i,dataKey:o,bandSize:s,displayedData:l}=e;return l.map((c,d)=>{var f=Qn(c,o);if(t==="horizontal"){var p=Aj({axis:n,ticks:a,bandSize:s,entry:c,index:d}),m=Gr(f)?null:r.scale(f);return{x:p,y:m,value:f,payload:c}}var h=Gr(f)?null:n.scale(f),y=Aj({axis:r,ticks:i,bandSize:s,entry:c,index:d});return h==null||y==null?null:{x:h,y,value:f,payload:c}}).filter(Boolean)}function zne(e){var t=Xr(e,z_),n=ii();return v.createElement(j_,{id:t.id,type:"line"},r=>v.createElement(v.Fragment,null,v.createElement(TZ,{legendPayload:Mne(t)}),v.createElement(Ane,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),v.createElement(WZ,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),v.createElement(Rne,Kf({},t,{id:r}))))}var ts=v.memo(zne,SS);ts.displayName="Line";var Bne=["domain","range"],Une=["domain","range"];function wA(e,t){if(e==null)return{};var n,r,a=Vne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Vne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function kA(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function B_(e,t){if(e===t)return!0;var{domain:n,range:r}=e,a=wA(e,Bne),{domain:i,range:o}=t,s=wA(t,Une);return!kA(n,i)||!kA(r,o)?!1:SS(a,s)}var Hne=["dangerouslySetInnerHTML","ticks","scale"],Wne=["id","scale"];function Hx(){return Hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hx.apply(null,arguments)}function SA(e,t){if(e==null)return{};var n,r,a=qne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function qne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Kne(e){var t=qn(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(Tee(e)):n.current!==e&&t(Oee({prev:n.current,next:e})),n.current=e},[e,t]),v.useLayoutEffect(()=>()=>{n.current&&(t(Dee(n.current)),n.current=null)},[t]),null}var Yne=e=>{var{xAxisId:t,className:n}=e,r=xt(l3),a=ii(),i="xAxis",o=xt(g=>fI(g,i,t,a)),s=xt(g=>dG(g,t)),l=xt(g=>yG(g,t)),c=xt(g=>H4(g,t));if(s==null||l==null||c==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:p}=e,m=SA(e,Hne),{id:h,scale:y}=c,x=SA(c,Wne);return v.createElement(kS,Hx({},m,x,{x:l.x,y:l.y,width:s.width,height:s.height,className:jn("recharts-".concat(i," ").concat(i),n),viewBox:r,ticks:o,axisType:i}))},Gne={allowDataOverflow:ta.allowDataOverflow,allowDecimals:ta.allowDecimals,allowDuplicatedCategory:ta.allowDuplicatedCategory,angle:ta.angle,axisLine:cs.axisLine,height:ta.height,hide:!1,includeHidden:ta.includeHidden,interval:ta.interval,minTickGap:ta.minTickGap,mirror:ta.mirror,orientation:ta.orientation,padding:ta.padding,reversed:ta.reversed,scale:ta.scale,tick:ta.tick,tickCount:ta.tickCount,tickLine:cs.tickLine,tickSize:cs.tickSize,type:ta.type,xAxisId:0},Xne=e=>{var t=Xr(e,Gne);return v.createElement(v.Fragment,null,v.createElement(Kne,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),v.createElement(Yne,t))},Yf=v.memo(Xne,B_);Yf.displayName="XAxis";var Jne=["dangerouslySetInnerHTML","ticks","scale"],Qne=["id","scale"];function Wx(){return Wx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wx.apply(null,arguments)}function NA(e,t){if(e==null)return{};var n,r,a=Zne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Zne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ere(e){var t=qn(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(Iee(e)):n.current!==e&&t(_ee({prev:n.current,next:e})),n.current=e},[e,t]),v.useLayoutEffect(()=>()=>{n.current&&(t(Fee(n.current)),n.current=null)},[t]),null}var tre=e=>{var{yAxisId:t,className:n,width:r,label:a}=e,i=v.useRef(null),o=v.useRef(null),s=xt(l3),l=ii(),c=qn(),d="yAxis",f=xt(N=>xG(N,t)),p=xt(N=>bG(N,t)),m=xt(N=>fI(N,d,t,l)),h=xt(N=>W4(N,t));if(v.useLayoutEffect(()=>{if(!(r!=="auto"||!f||hS(a)||v.isValidElement(a)||h==null)){var N=i.current;if(N){var M=N.getCalculatedWidth();Math.round(f.width)!==Math.round(M)&&c(Lee({id:t,width:M}))}}},[m,f,c,a,t,r,h]),f==null||p==null||h==null)return null;var{dangerouslySetInnerHTML:y,ticks:x,scale:g}=e,b=NA(e,Jne),{id:w,scale:S}=h,C=NA(h,Qne);return v.createElement(kS,Wx({},b,C,{ref:i,labelRef:o,x:p.x,y:p.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:jn("recharts-".concat(d," ").concat(d),n),viewBox:s,ticks:m,axisType:d}))},nre={allowDataOverflow:na.allowDataOverflow,allowDecimals:na.allowDecimals,allowDuplicatedCategory:na.allowDuplicatedCategory,angle:na.angle,axisLine:cs.axisLine,hide:!1,includeHidden:na.includeHidden,interval:na.interval,minTickGap:na.minTickGap,mirror:na.mirror,orientation:na.orientation,padding:na.padding,reversed:na.reversed,scale:na.scale,tick:na.tick,tickCount:na.tickCount,tickLine:cs.tickLine,tickSize:cs.tickSize,type:na.type,width:na.width,yAxisId:0},rre=e=>{var t=Xr(e,nre);return v.createElement(v.Fragment,null,v.createElement(ere,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),v.createElement(tre,t))},Gf=v.memo(rre,B_);Gf.displayName="YAxis";var are=(e,t)=>t,jS=ce([are,On,B4,Qr,EI,Ps,FX,oa],VX),CS=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},U_=Hi("mouseClick"),V_=up();V_.startListening({actionCreator:U_,effect:(e,t)=>{var n=e.payload,r=jS(t.getState(),CS(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(IG({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var qx=Hi("mouseMove"),H_=up(),Em=null;H_.startListening({actionCreator:qx,effect:(e,t)=>{var n=e.payload;Em!==null&&cancelAnimationFrame(Em);var r=CS(n);Em=requestAnimationFrame(()=>{var a=t.getState(),i=iS(a,a.tooltip.settings.shared);if(i==="axis"){var o=jS(a,r);(o==null?void 0:o.activeIndex)!=null?t.dispatch(kI({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(wI())}Em=null})}});function ire(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var jA={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},W_=ai({name:"rootProps",initialState:jA,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:jA.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),ore=W_.reducer,{updateOptions:sre}=W_.actions,q_=ai({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:lre}=q_.actions,cre=q_.reducer,K_=Hi("keyDown"),Y_=Hi("focus"),MS=up();MS.startListening({actionCreator:K_,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=oS(a,ld(n),kp(n),jp(n)),s=o==null?-1:Number(o);if(!(!Number.isFinite(s)||s<0)){var l=Ps(n);if(i==="Enter"){var c=wg(n,"axis","hover",String(a.index));t.dispatch(Rx({active:!a.active,activeIndex:a.index,activeCoordinate:c}));return}var d=NG(n),f=d==="left-to-right"?1:-1,p=i==="ArrowRight"?1:-1,m=s+p*f;if(!(l==null||m>=l.length||m<0)){var h=wg(n,"axis","hover",String(m));t.dispatch(Rx({active:!0,activeIndex:m.toString(),activeCoordinate:h}))}}}}}});MS.startListening({actionCreator:Y_,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var i="0",o=wg(n,"axis","hover",String(i));t.dispatch(Rx({active:!0,activeIndex:i,activeCoordinate:o}))}}}});var Ei=Hi("externalEvent"),G_=up(),Nv=new Map;G_.startListening({actionCreator:Ei,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var a=r.type,i=Nv.get(a);i!==void 0&&cancelAnimationFrame(i);var o=requestAnimationFrame(()=>{try{var s=t.getState(),l={activeCoordinate:xX(s),activeDataKey:II(s),activeIndex:Wu(s),activeLabel:DI(s),activeTooltipIndex:Wu(s),isTooltipActive:wX(s)};n(l,r)}finally{Nv.delete(a)}});Nv.set(a,o)}}});var ure=ce([od],e=>e.tooltipItemPayloads),dre=ce([ure,Np,(e,t)=>t,(e,t,n)=>n],(e,t,n,r)=>{var a=e.find(s=>s.settings.graphicalItemId===r);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,n);return o}}}),X_=Hi("touchMove"),J_=up();J_.startListening({actionCreator:X_,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),a=iS(r,r.tooltip.settings.shared);if(a==="axis"){var i=n.touches[0];if(i==null)return;var o=jS(r,CS({clientX:i.clientX,clientY:i.clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(kI({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var s,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(o3),f=(s=c.getAttribute(s3))!==null&&s!==void 0?s:void 0,p=sd(r).find(y=>y.id===f);if(d==null||p==null||f==null)return;var{dataKey:m}=p,h=dre(r,d,f);t.dispatch(xI({activeDataKey:m,activeIndex:d,activeCoordinate:h,activeGraphicalItemId:f}))}}}});var fre=AD({brush:Kee,cartesianAxis:Ree,chartData:bJ,errorBars:Hte,graphicalItems:VZ,layout:t9,legend:nH,options:mJ,polarAxis:KQ,polarOptions:cre,referenceElements:ete,rootProps:ore,tooltip:_G,zIndex:rJ}),pre=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return CV({reducer:fre,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([V_.middleware,H_.middleware,MS.middleware,G_.middleware,J_.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(VD({type:"raf"}))},devTools:{serialize:{replacer:ire},name:"recharts-".concat(t)}})};function Q_(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,a=ii(),i=v.useRef(null);if(a)return n;i.current==null&&(i.current=pre(t,r));var o=H1;return v.createElement(yne,{context:o,store:i.current},n)}function mre(e){var{layout:t,margin:n}=e,r=qn(),a=ii();return v.useEffect(()=>{a||(r(QV(t)),r(JV(n)))},[r,a,t,n]),null}var Z_=v.memo(mre,SS);function eF(e){var t=qn();return v.useEffect(()=>{t(sre(e))},[t,e]),null}function CA(e){var{zIndex:t,isPanorama:n}=e,r=v.useRef(null),a=qn();return v.useLayoutEffect(()=>(r.current&&a(tJ({zIndex:t,element:r.current,isPanorama:n})),()=>{a(nJ({zIndex:t,isPanorama:n}))}),[a,t,n]),v.createElement("g",{tabIndex:-1,ref:r})}function MA(e){var{children:t,isPanorama:n}=e,r=xt(WX);if(!r||r.length===0)return t;var a=r.filter(o=>o<0),i=r.filter(o=>o>0);return v.createElement(v.Fragment,null,a.map(o=>v.createElement(CA,{key:o,zIndex:o,isPanorama:n})),t,i.map(o=>v.createElement(CA,{key:o,zIndex:o,isPanorama:n})))}var hre=["children"];function gre(e,t){if(e==null)return{};var n,r,a=yre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function yre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ag(){return Ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ag.apply(null,arguments)}var vre={width:"100%",height:"100%",display:"block"},bre=v.forwardRef((e,t)=>{var n=ek(),r=tk(),a=A3();if(!zo(n)||!zo(r))return null;var{children:i,otherAttributes:o,title:s,desc:l}=e,c,d;return o!=null&&(typeof o.tabIndex=="number"?c=o.tabIndex:c=a?0:void 0,typeof o.role=="string"?d=o.role:d=a?"application":void 0),v.createElement(A1,Ag({},o,{title:s,desc:l,role:d,tabIndex:c,width:n,height:r,style:vre,ref:t}),i)}),xre=e=>{var{children:t}=e,n=xt(O0);if(!n)return null;var{width:r,height:a,y:i,x:o}=n;return v.createElement(A1,{width:r,height:a,x:o,y:i},t)},AA=v.forwardRef((e,t)=>{var{children:n}=e,r=gre(e,hre),a=ii();return a?v.createElement(xre,null,v.createElement(MA,{isPanorama:!0},n)):v.createElement(bre,Ag({ref:t},r),v.createElement(MA,{isPanorama:!1},n))});function wre(){var e=qn(),[t,n]=v.useState(null),r=xt(g9);return v.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;Hr(i)&&i!==r&&e(e9(i))}},[t,e,r]),n}function PA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function kre(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PA(Object(n),!0).forEach(function(r){Sre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sre(e,t,n){return(t=Nre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nre(e){var t=jre(e,"string");return typeof t=="symbol"?t:t+""}function jre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cc(){return Cc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cc.apply(null,arguments)}var Cre=()=>(AJ(),null);function Pg(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Mre=v.forwardRef((e,t)=>{var n,r,a=v.useRef(null),[i,o]=v.useState({containerWidth:Pg((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Pg((r=e.style)===null||r===void 0?void 0:r.height)}),s=v.useCallback((c,d)=>{o(f=>{var p=Math.round(c),m=Math.round(d);return f.containerWidth===p&&f.containerHeight===m?f:{containerWidth:p,containerHeight:m}})},[]),l=v.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=c.getBoundingClientRect();s(d,f);var p=h=>{var{width:y,height:x}=h[0].contentRect;s(y,x)},m=new ResizeObserver(p);m.observe(c),a.current=m}},[t,s]);return v.useEffect(()=>()=>{var c=a.current;c!=null&&c.disconnect()},[s]),v.createElement(v.Fragment,null,v.createElement(I0,{width:i.containerWidth,height:i.containerHeight}),v.createElement("div",Cc({ref:l},e)))}),Are=v.forwardRef((e,t)=>{var{width:n,height:r}=e,[a,i]=v.useState({containerWidth:Pg(n),containerHeight:Pg(r)}),o=v.useCallback((l,c)=>{i(d=>{var f=Math.round(l),p=Math.round(c);return d.containerWidth===f&&d.containerHeight===p?d:{containerWidth:f,containerHeight:p}})},[]),s=v.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:c,height:d}=l.getBoundingClientRect();o(c,d)}},[t,o]);return v.createElement(v.Fragment,null,v.createElement(I0,{width:a.containerWidth,height:a.containerHeight}),v.createElement("div",Cc({ref:s},e)))}),Pre=v.forwardRef((e,t)=>{var{width:n,height:r}=e;return v.createElement(v.Fragment,null,v.createElement(I0,{width:n,height:r}),v.createElement("div",Cc({ref:t},e)))}),Ere=v.forwardRef((e,t)=>{var{width:n,height:r}=e;return gs(n)||gs(r)?v.createElement(Are,Cc({},e,{ref:t})):v.createElement(Pre,Cc({},e,{ref:t}))});function Tre(e){return e===!0?Mre:Ere}var Ore=v.forwardRef((e,t)=>{var{children:n,className:r,height:a,onClick:i,onContextMenu:o,onDoubleClick:s,onMouseDown:l,onMouseEnter:c,onMouseLeave:d,onMouseMove:f,onMouseUp:p,onTouchEnd:m,onTouchMove:h,onTouchStart:y,style:x,width:g,responsive:b,dispatchTouchEvents:w=!0}=e,S=v.useRef(null),C=qn(),[N,M]=v.useState(null),[O,R]=v.useState(null),P=wre(),_=Z1(),I=(_==null?void 0:_.width)>0?_.width:g,Q=(_==null?void 0:_.height)>0?_.height:a,J=v.useCallback(D=>{P(D),typeof t=="function"&&t(D),M(D),R(D),D!=null&&(S.current=D)},[P,t,M,R]),re=v.useCallback(D=>{C(U_(D)),C(Ei({handler:i,reactEvent:D}))},[C,i]),he=v.useCallback(D=>{C(qx(D)),C(Ei({handler:c,reactEvent:D}))},[C,c]),B=v.useCallback(D=>{C(wI()),C(Ei({handler:d,reactEvent:D}))},[C,d]),$=v.useCallback(D=>{C(qx(D)),C(Ei({handler:f,reactEvent:D}))},[C,f]),te=v.useCallback(()=>{C(Y_())},[C]),k=v.useCallback(D=>{C(K_(D.key))},[C]),E=v.useCallback(D=>{C(Ei({handler:o,reactEvent:D}))},[C,o]),A=v.useCallback(D=>{C(Ei({handler:s,reactEvent:D}))},[C,s]),j=v.useCallback(D=>{C(Ei({handler:l,reactEvent:D}))},[C,l]),z=v.useCallback(D=>{C(Ei({handler:p,reactEvent:D}))},[C,p]),Y=v.useCallback(D=>{C(Ei({handler:y,reactEvent:D}))},[C,y]),W=v.useCallback(D=>{w&&C(X_(D)),C(Ei({handler:h,reactEvent:D}))},[C,w,h]),q=v.useCallback(D=>{C(Ei({handler:m,reactEvent:D}))},[C,m]),G=Tre(b);return v.createElement(BI.Provider,{value:N},v.createElement(MO.Provider,{value:O},v.createElement(G,{width:I??(x==null?void 0:x.width),height:Q??(x==null?void 0:x.height),className:jn("recharts-wrapper",r),style:kre({position:"relative",cursor:"default",width:I,height:Q},x),onClick:re,onContextMenu:E,onDoubleClick:A,onFocus:te,onKeyDown:k,onMouseDown:j,onMouseEnter:he,onMouseLeave:B,onMouseMove:$,onMouseUp:z,onTouchEnd:q,onTouchMove:W,onTouchStart:Y,ref:J},v.createElement(Cre,null),n)))}),Dre=["width","height","responsive","children","className","style","compact","title","desc"];function Ire(e,t){if(e==null)return{};var n,r,a=_re(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function _re(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var tF=v.forwardRef((e,t)=>{var{width:n,height:r,responsive:a,children:i,className:o,style:s,compact:l,title:c,desc:d}=e,f=Ire(e,Dre),p=Vi(f);return l?v.createElement(v.Fragment,null,v.createElement(I0,{width:n,height:r}),v.createElement(AA,{otherAttributes:p,title:c,desc:d},i)):v.createElement(Ore,{className:o,style:s,width:n,height:r,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},v.createElement(AA,{otherAttributes:p,title:c,desc:d,ref:t},v.createElement(nte,null,i)))});function Kx(){return Kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kx.apply(null,arguments)}var Fre={top:5,right:5,bottom:5,left:5},Lre={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Fre,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Rre=v.forwardRef(function(e,t){var n,r=Xr(e.categoricalChartProps,Lre),{chartName:a,defaultTooltipEventType:i,validateTooltipEventTypes:o,tooltipPayloadSearcher:s,categoricalChartProps:l}=e,c={chartName:a,defaultTooltipEventType:i,validateTooltipEventTypes:o,tooltipPayloadSearcher:s,eventEmitter:void 0};return v.createElement(Q_,{preloadedState:{options:c},reduxStoreName:(n=l.id)!==null&&n!==void 0?n:a},v.createElement(A_,{chartData:l.data}),v.createElement(Z_,{layout:r.layout,margin:r.margin}),v.createElement(eF,{baseValue:r.baseValue,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),v.createElement(tF,Kx({},r,{ref:t})))}),$re=["axis"],Eg=v.forwardRef((e,t)=>v.createElement(Rre,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:$re,tooltipPayloadSearcher:VI,categoricalChartProps:e,ref:t}));function zre(e){var t=qn();return v.useEffect(()=>{t(lre(e))},[t,e]),null}var Bre=["layout"];function Yx(){return Yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yx.apply(null,arguments)}function Ure(e,t){if(e==null)return{};var n,r,a=Vre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Vre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Hre={top:5,right:5,bottom:5,left:5},nF={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Hre,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Wre=v.forwardRef(function(e,t){var n,r=Xr(e.categoricalChartProps,nF),{layout:a}=r,i=Ure(r,Bre),{chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:c}=e,d={chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return v.createElement(Q_,{preloadedState:{options:d},reduxStoreName:(n=r.id)!==null&&n!==void 0?n:o},v.createElement(A_,{chartData:r.data}),v.createElement(Z_,{layout:a,margin:r.margin}),v.createElement(eF,{baseValue:void 0,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),v.createElement(zre,{cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius}),v.createElement(tF,Yx({},i,{ref:t})))});function EA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function TA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EA(Object(n),!0).forEach(function(r){qre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qre(e,t,n){return(t=Kre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kre(e){var t=Yre(e,"string");return typeof t=="symbol"?t:t+""}function Yre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gre=["item"],Xre=TA(TA({},nF),{},{layout:"centric",startAngle:0,endAngle:360}),Gx=v.forwardRef((e,t)=>{var n=Xr(e,Xre);return v.createElement(Wre,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Gre,tooltipPayloadSearcher:VI,categoricalChartProps:n,ref:t})});const Pn=({value:e,options:t,onChange:n,className:r="",activeClassName:a,inactiveClassName:i})=>u.jsx("div",{className:`pill-toggle-group flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1 text-[10px] uppercase tracking-[0.25em] text-gray-400 ${r}`,children:t.map(o=>u.jsx("button",{type:"button",onClick:()=>n(o.value),className:`pill-toggle-option px-2.5 py-1 rounded-full transition-colors ${e===o.value?`pill-toggle-option--active ${a}`:i}`,children:o.label},o.value))}),OA="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",tf=new Map,Mu=new Map,Jre=async e=>{var t;if(!((t=window==null?void 0:window.electronAPI)!=null&&t.fetchImageAsDataUrl))return;const n=Array.from(new Set(e)).filter(r=>/^https?:\/\//i.test(r));await Promise.all(n.map(async r=>{if(tf.has(r)||Mu.has(r))return;const a=(async()=>{const i=await window.electronAPI.fetchImageAsDataUrl(r),o=i!=null&&i.success&&i.dataUrl?i.dataUrl:null;return o&&tf.set(r,o),o})();Mu.set(r,a);try{await a}finally{Mu.delete(r)}}))},Qre=e=>{const[t,n]=v.useState(()=>{var r;return e?!((r=window==null?void 0:window.electronAPI)!=null&&r.fetchImageAsDataUrl)||!/^https?:\/\//i.test(e)?e:tf.get(e)||OA:null});return v.useEffect(()=>{var r;if(!e){n(null);return}if(!((r=window==null?void 0:window.electronAPI)!=null&&r.fetchImageAsDataUrl)){n(e);return}if(!/^https?:\/\//i.test(e)){n(e);return}const a=tf.get(e);if(a){n(a);return}let i=!0;const o=Mu.get(e)||(async()=>{const s=await window.electronAPI.fetchImageAsDataUrl(e),l=s!=null&&s.success&&s.dataUrl?s.dataUrl:null;return l&&tf.set(e,l),l})();return Mu.set(e,o),o.then(s=>{if(i){if(s){n(s);return}n(OA)}}).finally(()=>{Mu.delete(e)}),()=>{i=!1}},[e]),t},Zre=(e,t,n,r)=>{const[a,i]=v.useState("bottom"),[o,s]=v.useState(0);return v.useEffect(()=>{if(!e)return;const l=requestAnimationFrame(()=>{const c=n.current,d=r.current;if(!c||!d)return;const f=c.getBoundingClientRect(),p=d.getBoundingClientRect(),m=(M=>{let O=(M==null?void 0:M.parentElement)||null;for(;O;){const R=window.getComputedStyle(O),P=`${R.overflow}${R.overflowY}${R.overflowX}`;if(/(auto|scroll|hidden)/.test(P))return O;O=O.parentElement}return null})(c),h=m?m.getBoundingClientRect():{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth},y=h.bottom-f.bottom,x=f.top-h.top,g=y<p.height+8&&x>y?"top":"bottom";i(g);const b=6,w=f.left+f.width/2,S=h.left+b+p.width/2,C=h.right-b-p.width/2,N=Math.min(Math.max(w,S),C);s(N-w)});return()=>cancelAnimationFrame(l)},[e,...t]),{placement:a,shiftX:o}},eae=(e,t=5)=>{const n=Object.entries(e).filter(([,a])=>a>0).sort((a,i)=>i[1]-a[1]||a[0].localeCompare(i[0])).map(([a,i])=>({profession:a,count:i})),r=[];for(let a=0;a<n.length;a+=t)r.push(n.slice(a,a+t));return r},rF=(e,t,n,r,a=8)=>{const[i,o]=v.useState({position:"fixed",top:-9999,left:-9999,transform:"translateX(-50%)"});return v.useEffect(()=>{if(!e)return;const s=()=>{const c=n.current,d=r.current;if(!c||!d)return;const f=c.getBoundingClientRect(),p=d.getBoundingClientRect(),m=window.innerHeight-f.bottom,h=f.top,y=m<p.height+a&&h>m?Math.max(a,f.top-p.height-a):Math.min(window.innerHeight-p.height-a,f.bottom+a),x=f.left+f.width/2,g=a+p.width/2,b=window.innerWidth-a-p.width/2,w=Math.min(Math.max(x,g),b);o({position:"fixed",top:y,left:w,transform:"translateX(-50%)"})},l=requestAnimationFrame(s);return window.addEventListener("scroll",s,!0),window.addEventListener("resize",s),()=>{cancelAnimationFrame(l),window.removeEventListener("scroll",s,!0),window.removeEventListener("resize",s)}},[e,a,...t]),i},tae=({profession:e,professionList:t,className:n="w-4 h-4 object-contain"})=>{const r=(t||[]).filter(Boolean),a=e==="Multi"&&r.length>0?r[0]:e,i=Ql(a||"Unknown"),o=r.length>1,[s,l]=v.useState(!1),c=v.useRef(null),d=v.useRef(null),f=`${n} object-contain`,{placement:p,shiftX:m}=Zre(s,[r.length,f],c,d),h=Array.from(new Set(r.map(b=>sc(b||"Unknown")))).slice(0,4),y=h.length>1?`conic-gradient(${h.map((b,w)=>`${b} ${w*360/h.length}deg ${(w+1)*360/h.length}deg`).join(", ")})`:h[0]||"#9ca3af";if(!i)return null;const x=p==="top"?"bottom-full mb-2":"top-full mt-2",g={transform:`translateX(calc(-50% + ${m}px))`};return u.jsxs("span",{ref:c,className:`relative inline-flex shrink-0 ${o?"group":""}`,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[u.jsx("img",{src:i,alt:a||"Unknown",className:`${f} shrink-0`}),o&&u.jsxs(u.Fragment,{children:[u.jsx("span",{"aria-hidden":"true",className:"absolute -top-0.5 -right-0.5 h-2.5 w-2.5 rounded-full ring-1 ring-[#10141b] shadow-[0_0_0_1px_rgba(255,255,255,0.08)]",style:{background:y},children:u.jsx("span",{className:"absolute inset-[0.7px] rounded-full bg-[#0f141c]/90"})}),u.jsxs("div",{ref:d,style:g,className:`absolute left-1/2 z-50 w-max rounded-md border border-white/10 bg-black/70 backdrop-blur-md px-2 py-1 text-[10px] text-gray-200 shadow-lg opacity-0 pointer-events-none transition-opacity ${x} ${s?"opacity-100":""}`,children:[u.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:"Multi"}),u.jsx("div",{className:"space-y-1",children:r.map(b=>{const w=Ql(b||"Unknown");return u.jsxs("div",{className:"flex items-center gap-1",children:[w?u.jsx("img",{src:w,alt:b||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,u.jsx("span",{className:"text-gray-100",children:b||"Unknown"})]},b)})})]})]})]})},nae=(e,t,n="w-4 h-4 object-contain")=>u.jsx(tae,{profession:e,professionList:t,className:n}),jv=({count:e,classCounts:t,label:n,className:r})=>{const a=eae(t||{}),i=e>0,[o,s]=v.useState(!1),l=v.useRef(null),c=v.useRef(null),d=rF(o,[a.length,e],l,c);return u.jsxs("span",{ref:l,className:`relative inline-flex items-center justify-end ${i?"group cursor-help":""}`,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[u.jsx("span",{className:r,children:e}),i&&typeof document<"u"&&Zu.createPortal(u.jsxs("div",{ref:c,style:d,className:`z-[9999] w-max rounded-md border border-white/10 bg-black/70 backdrop-blur-md px-2 py-1 text-[10px] text-gray-200 shadow-lg opacity-0 pointer-events-none transition-opacity ${o?"opacity-100":""}`,children:[u.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:n}),a.length>0?u.jsx("div",{className:"grid grid-flow-col auto-cols-fr gap-2",children:a.map((f,p)=>u.jsx("div",{className:"space-y-1",children:f.map(({profession:m,count:h})=>{const y=Ql(m||"Unknown");return u.jsxs("div",{className:"flex items-center gap-1",children:[y?u.jsx("img",{src:y,alt:m||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,u.jsx("span",{className:"text-gray-100",children:m||"Unknown"}),u.jsx("span",{className:"text-gray-400",children:""}),u.jsx("span",{className:"text-gray-200",children:h})]},m)})},`${n}-col-${p}`))}):u.jsx("div",{className:"text-[10px] text-gray-500 italic",children:"No class data available"})]}),document.body)]})},Sr=({name:e,iconUrl:t,className:n="",iconClassName:r="h-4 w-4",textClassName:a=""})=>{const i=Qre(t);return u.jsxs("span",{className:`inline-flex items-center gap-2 min-w-0 ${n}`,children:[i?u.jsx("img",{src:i,alt:e,className:`${r} shrink-0`}):null,u.jsx("span",{className:`truncate ${a}`,children:e})]})},DA=({value:e,label:t,items:n,className:r})=>{const a=n.length>0,[i,o]=v.useState(!1),s=v.useRef(null),l=v.useRef(null),c=rF(i,[n.length],s,l);return u.jsxs("span",{ref:s,className:`relative inline-flex items-center justify-end ${a?"group cursor-help":""} ${r||""}`,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[u.jsx("span",{children:e}),a&&typeof document<"u"&&Zu.createPortal(u.jsxs("div",{ref:l,style:c,className:`z-[9999] w-64 rounded-md border border-white/10 bg-black/70 px-3 py-2 text-[10px] text-gray-200 shadow-lg backdrop-blur-md opacity-0 pointer-events-none transition-opacity ${i?"opacity-100":""}`,children:[u.jsx("div",{className:"text-[9px] uppercase tracking-wider text-amber-200 mb-1",children:t}),u.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1",children:n.map(d=>u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsx("span",{className:"truncate text-gray-100",children:u.jsx(Sr,{name:d.name,iconUrl:d.iconUrl,iconClassName:"h-6 w-6"})}),u.jsx("span",{className:"text-gray-300 font-mono",children:d.value})]},d.name))})]}),document.body)]})},rae=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,selectedPlayers:s,setSelectedPlayers:l,removeSelectedPlayer:c,playerMapByKey:d,groupedSkillUsagePlayers:f,expandedSkillUsageClass:p,setExpandedSkillUsageClass:m,togglePlayerSelection:h,skillUsagePlayerFilter:y,setSkillUsagePlayerFilter:x,skillUsageView:g,setSkillUsageView:b,skillUsageData:w,skillUsageSkillFilter:S,setSkillUsageSkillFilter:C,selectedSkillId:N,setSelectedSkillId:M,skillBarData:O,selectedSkillName:R,selectedSkillIcon:P,skillUsageReady:_,skillUsageAvailable:I,isSkillUsagePerSecond:Q,skillChartData:J,skillChartMaxY:re,playerTotalsForSkill:he,hoveredSkillPlayer:B,setHoveredSkillPlayer:$,getLineStrokeColor:te,getLineDashForPlayer:k,formatSkillUsageValue:E,renderProfessionIcon:A})=>u.jsxs("div",{id:"skill-usage","data-section-visible":a("skill-usage"),"data-section-first":i("skill-usage"),className:o("skill-usage",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${e==="skill-usage"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[u.jsxs("div",{className:e==="skill-usage"?"pr-10 md:pr-0":"",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(g1,{className:"w-5 h-5 text-cyan-400"}),"Skill Usage Tracker"]}),u.jsx("p",{className:"text-xs text-gray-400",children:"Compare how often squad members cast a skill and drill into the timeline breakdown."})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Pn,{value:g,onChange:b,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[w.logRecords.length," ",w.logRecords.length===1?"log":"logs"]}),u.jsx("button",{type:"button",onClick:()=>e==="skill-usage"?r():n("skill-usage"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="skill-usage"?"absolute top-2 right-2 md:static":""}`,"aria-label":e==="skill-usage"?"Close Skill Usage":"Expand Skill Usage",title:e==="skill-usage"?"Close":"Expand",children:e==="skill-usage"?u.jsx(Va,{className:"w-4 h-4"}):u.jsx(Ni,{className:"w-4 h-4"})})]})]}),s.length>0&&u.jsxs("div",{className:"flex items-center gap-2 pb-2 overflow-x-auto pr-1 -mx-1 px-1",children:[u.jsx("button",{type:"button",onClick:()=>l([]),className:"shrink-0 px-3 py-1 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:"Clear All"}),s.map(j=>{const z=d.get(j);return z?u.jsxs("span",{className:"flex items-center gap-1 rounded-full border border-cyan-400/40 bg-cyan-500/10 px-3 py-1 text-xs text-cyan-200 shrink-0",children:[u.jsx("span",{className:"truncate max-w-[140px]",children:z.displayName}),u.jsxs("span",{className:"text-[10px] text-cyan-200/70",children:[z.logs," ",z.logs===1?"log":"logs"]}),u.jsx("button",{type:"button",onClick:()=>c(z.key),className:"rounded-full p-1 text-cyan-200 hover:bg-white/20",children:u.jsx(sO,{className:"w-3 h-3"})})]},z.key):null})]}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Squad Players"}),u.jsx("input",{type:"search",value:y,onChange:j=>x(j.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),u.jsx("div",{className:"skill-usage-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:f.length===0?u.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No squad players match the filter"}):f.map(j=>{const z=p===j.profession,Y=j.players.map(q=>q.key),W=Y.length>0&&Y.every(q=>s.includes(q));return u.jsxs("div",{className:"border-b border-white/5 last:border-b-0",children:[u.jsx("button",{type:"button",onClick:()=>{if(z){m(null);return}m(j.profession)},className:`skill-usage-player-list-item w-full px-3 py-2 text-left transition-colors ${z?"bg-white/10":"hover:bg-white/5"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[A(j.profession,void 0,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:j.profession})]}),u.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[u.jsxs("span",{className:"text-[10px]",children:[j.players.length,"p"]}),z?u.jsx(Jl,{className:"w-3.5 h-3.5"}):u.jsx(uB,{className:"w-3.5 h-3.5"})]})]})}),z&&u.jsxs("div",{className:"pb-2",children:[u.jsxs("div",{className:"px-6 pt-1 pb-2 flex items-center justify-between text-[11px] text-gray-400",children:[u.jsxs("span",{children:[j.players.length," ",j.players.length===1?"player":"players"]}),u.jsx("button",{type:"button",onClick:()=>{l(q=>{if(W)return q.filter(D=>!Y.includes(D));const G=new Set(q);return Y.forEach(D=>G.add(D)),Array.from(G)})},className:"skill-usage-player-list-item px-2 py-0.5 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:W?"Clear All":"Select All"})]}),j.players.map(q=>{const G=s.includes(q.key);return u.jsx("button",{type:"button",onClick:()=>h(q.key),className:`skill-usage-player-list-item w-full border-b border-white/5 px-6 py-2 text-left transition-colors last:border-b-0 ${G?"border-cyan-400 bg-cyan-500/10 text-white":"border-transparent hover:border-white/10 hover:bg-white/5"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:q.displayName}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:[q.account,"  ",q.profession,"  ",q.logs," ",q.logs===1?"log":"logs"]})]}),G&&u.jsx(aO,{className:"w-4 h-4 text-cyan-300"})]})},q.key)})]})]},j.profession)})})]}),u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Skill Totals"}),u.jsx("div",{className:"text-[11px] text-gray-500",children:s.length>0?`${s.length} player${s.length===1?"":"s"}  ${Q?"casts/sec":"total casts"}`:"Select players"})]}),u.jsx("input",{type:"search",value:S,onChange:j=>C(j.target.value),placeholder:"Filter skill names",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),u.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/20 p-0.5 flex-1 min-h-0",children:s.length===0?u.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"Select squad players to see the skills they cast."}):O.length===0?u.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"No skill casts found for the selected players."}):(()=>{const j=O.reduce((z,Y)=>Math.max(z,Y.total),0)||1;return u.jsx("div",{className:"space-y-0.5 h-full overflow-y-auto pr-0.5",children:O.map((z,Y)=>{const W=Math.min(100,z.total/j*100),q=N===z.skillId;return u.jsxs("button",{type:"button",onClick:()=>M(z.skillId),className:`w-full space-y-1 rounded-lg border px-2 py-1.5 text-left transition-colors ${q?"border-white/60 bg-white/10":"border-white/10 bg-white/5 hover:border-white/30 hover:bg-white/10"}`,children:[u.jsxs("div",{className:"flex items-center justify-between text-sm text-white min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-400",children:`#${Y+1}`}),u.jsx(Sr,{name:z.name,iconUrl:z.icon,iconClassName:"h-6 w-6",className:"min-w-0 flex-1 max-w-[58vw] sm:max-w-none",textClassName:"font-semibold"})]}),u.jsx("span",{className:"text-cyan-200 font-mono text-xs shrink-0",children:E(z.total)})]}),u.jsx("div",{className:"h-1 w-full rounded-full bg-white/10",children:u.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${W}%`,backgroundColor:z.color}})})]},z.skillId)})})})()})]})]}),u.jsx("div",{className:"space-y-3",children:_?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-4 rounded-2xl bg-black/50 p-4 mt-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:R?u.jsx(Sr,{name:R,iconUrl:P,iconClassName:"h-6 w-6"}):"Selected Skill Usage"}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:["(",Q?"casts per second":"casts per log",")"]})]}),u.jsx(xc,{width:"100%",height:250,children:u.jsxs(Eg,{data:J,children:[u.jsx(qf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Yf,{dataKey:"index",type:"number",tick:{fill:"#e2e8f0",fontSize:10},interval:0,tickFormatter:j=>{const z=J[j],Y=String((z==null?void 0:z.shortLabel)??j);return Y.length>20?`${Y.slice(0,20)}`:Y}}),u.jsx(Gf,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,re)],allowDecimals:!1}),u.jsx(Nc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},content:({active:j,payload:z,label:Y})=>{var W;if(!j||!z||z.length===0)return null;const q=[...z].sort((ee,fe)=>(fe.value||0)-(ee.value||0)),G=q[0],D=((W=G==null?void 0:G.payload)==null?void 0:W.fullLabel)||Y;return u.jsxs("div",{className:"rounded-lg bg-slate-900/95 border border-white/10 px-3 py-2 shadow-xl",children:[u.jsx("div",{className:"text-sm text-white mb-1",children:D}),u.jsx("div",{className:"space-y-1",children:q.map(ee=>{const fe=String(ee.name||""),L=d.get(fe),ne=(L==null?void 0:L.displayName)||fe||"Player",U=E(Number(ee.value||0)),F=ee.color||"#38bdf8";return u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"truncate",style:{color:F},children:ne}),u.jsx("span",{className:"text-gray-200 font-mono",children:U})]},`${ne}-${U}`)})})]})}}),s.map(j=>{const z=B.includes(j),Y=B.length>0,W=te(j,z,Y),q=k(j),G=B.length>0&&!z;return u.jsx(ts,{dataKey:j,stroke:W,strokeWidth:z?4:3,strokeDasharray:q,opacity:G?.6:1,dot:!1,isAnimationActive:s.length<=16,animationDuration:420,animationEasing:"ease-out"},j)})]})})]}),s.length>0&&u.jsxs("div",{className:"rounded-2xl bg-black/40 border border-white/10 p-4 space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.4em] text-gray-400",children:"Selected Players"}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[s.length," ",s.length===1?"player":"players"]})]}),u.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:[...s].sort((j,z)=>(he.get(z)||0)-(he.get(j)||0)).map(j=>{const z=d.get(j),Y=he.get(j)??0,W=B.includes(j),q=B.length>0,G=te(j,W,q);return u.jsxs("button",{type:"button",onClick:()=>{$(D=>D.includes(j)?D.filter(ee=>ee!==j):[...D,j])},className:`w-full rounded-2xl border bg-white/5 p-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-left transition cursor-pointer focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/70 min-w-0 ${W?"border-white/40 bg-white/10":"border-white/10 hover:border-white/30 hover:bg-white/10"}`,"aria-pressed":W,children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("svg",{className:"h-2 w-6",viewBox:"0 0 24 4","aria-hidden":"true",children:u.jsx("line",{x1:"0",y1:"2",x2:"24",y2:"2",stroke:G,strokeWidth:"2",strokeDasharray:k(j),strokeLinecap:"round"})}),A(z==null?void 0:z.profession,z==null?void 0:z.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.4em] text-gray-400",children:"Player"}),u.jsx("div",{className:"font-semibold text-white truncate",children:(z==null?void 0:z.displayName)||j}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:[(z==null?void 0:z.logs)??0," ",((z==null?void 0:z.logs)??0)===1?"log":"logs"]})]})]}),u.jsx("div",{className:"text-2xl sm:text-3xl font-black text-white font-mono self-end sm:self-auto shrink-0",children:E(Y)})]},j)})})]})]}):u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 mt-2 text-center text-xs text-gray-400",children:I?"Pick one skill and up to two players to visualize their usage over time.":"Upload or highlight logs with rotation data to enable the skill usage tracker."})})]}),aae=({containerRef:e,className:t=""})=>{const n=v.useRef(null),[r,a]=v.useState(0),[i,o]=v.useState(0),s=v.useRef(!1),l=v.useRef(0),c=v.useRef(0);v.useLayoutEffect(()=>{const p=e.current;if(!p)return;let m=0;const h=()=>{const{scrollWidth:w,clientWidth:S,scrollLeft:C}=p,N=w>S,M=n.current,O=(M==null?void 0:M.clientWidth)||0;if(!O){m=window.requestAnimationFrame(h);return}if(!N){a(O),o(0);return}const R=S/w,P=Math.max(20,Math.floor(O*R)),_=w-S,I=Math.max(0,O-P),Q=_>0?Math.floor(C/_*I):0;a(P),o(Q)};h();const y=()=>h(),x=new ResizeObserver(h);x.observe(p);const g=p.firstElementChild;g instanceof HTMLElement&&x.observe(g),n.current&&x.observe(n.current);const b=new MutationObserver(()=>h());return b.observe(p,{childList:!0,subtree:!0,attributes:!0}),window.addEventListener("resize",h),p.addEventListener("scroll",y),()=>{m&&window.cancelAnimationFrame(m),x.disconnect(),b.disconnect(),window.removeEventListener("resize",h),p.removeEventListener("scroll",y)}},[e]),v.useEffect(()=>{const p=h=>{if(!s.current)return;const y=n.current,x=e.current;if(!y||!x)return;const g=y.getBoundingClientRect(),b=h.clientX-l.current,w=Math.max(0,g.width-r),S=Math.min(w,Math.max(0,c.current+b)),C=x.scrollWidth-x.clientWidth,N=w>0?S/w*C:0;x.scrollLeft=N},m=()=>{s.current=!1};return window.addEventListener("pointermove",p),window.addEventListener("pointerup",m),()=>{window.removeEventListener("pointermove",p),window.removeEventListener("pointerup",m)}},[e,r]);const d=p=>{const m=n.current,h=e.current;if(!m||!h||r<=0)return;const y=m.getBoundingClientRect(),x=p.clientX-y.left,g=Math.max(0,y.width-r),b=Math.min(g,Math.max(0,x-r/2)),w=h.scrollWidth-h.clientWidth;h.scrollLeft=g>0?b/g*w:0},f=p=>{r<=0||(s.current=!0,l.current=p.clientX,c.current=i,p.currentTarget.setPointerCapture(p.pointerId))};return u.jsx("div",{className:`scroll-scrubber ${t}`,children:u.jsx("div",{ref:n,className:"scroll-scrubber__track",onClick:d,children:u.jsx("div",{className:"scroll-scrubber__thumb",style:{width:`${r}px`,transform:`translateX(${i}px)`},onPointerDown:f})})})},fo=({title:e,subtitle:t,controls:n,columns:r,rows:a,sortColumnId:i,sortDirection:o="desc",onSortColumn:s,className:l=""})=>{const c=v.useRef(null),d=["minmax(170px, max-content)",...r.map(f=>`minmax(${f.minWidth??60}px, max-content)`)].join(" ");return u.jsxs("div",{className:`dense-table ${l}`,children:[(e||t)&&u.jsxs("div",{className:"dense-table__header",children:[e&&u.jsx("div",{className:"dense-table__title",children:e}),t&&u.jsx("div",{className:"dense-table__subtitle",children:t})]}),n&&u.jsx("div",{className:"dense-table__controls",children:n}),u.jsx("div",{ref:c,className:"dense-table__scroll",children:u.jsxs("div",{className:"dense-table__grid",style:{gridTemplateColumns:d},children:[u.jsx("div",{className:"dense-table__head dense-table__head--sticky dense-table__head--pinned",children:u.jsx("div",{className:"dense-table__head-inner",children:"Player"})}),r.map(f=>{const p=!!s,m=i===f.id?o==="desc"?"":"":null;return u.jsx("div",{className:`dense-table__head ${f.align==="right"?"dense-table__cell--right":""}`,style:f.minWidth?{minWidth:f.minWidth}:void 0,children:p?u.jsxs("button",{type:"button",onClick:()=>s==null?void 0:s(f.id),className:"dense-table__head-inner",children:[u.jsx("span",{className:"truncate",children:f.label}),m&&u.jsx("span",{className:"text-[10px] text-slate-200",children:m})]}):u.jsx("div",{className:"dense-table__head-inner",children:f.label})},f.id)}),a.map(f=>u.jsxs("div",{className:"dense-table__row",children:[u.jsx("div",{className:"dense-table__cell dense-table__cell--label dense-table__cell--pinned",children:f.label}),r.map(p=>u.jsx("div",{className:`dense-table__cell ${p.align==="right"?"dense-table__cell--right":""}`,children:f.values[p.id]??"-"},`${f.id}-${p.id}`))]},f.id))]})}),u.jsx(aae,{containerRef:c})]})},po=({options:e,selectedIds:t,placeholder:n="Search...",onSelect:r,className:a=""})=>{const[i,o]=v.useState(""),[s,l]=v.useState(!1),[c,d]=v.useState(0),f=v.useRef(null),p=v.useRef(null),m=v.useRef(new Map);v.useEffect(()=>{const g=b=>{f.current&&(f.current.contains(b.target)||l(!1))};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const h=v.useMemo(()=>{const g=i.trim().toLowerCase();return g?e.filter(b=>b.label.toLowerCase().includes(g)).slice(0,50):e.slice(0,50)},[e,i]),y=v.useMemo(()=>{const g=new Map;return h.forEach((b,w)=>{g.set(`${b.type}-${b.id}`,w)}),g},[h]),x=v.useMemo(()=>{const g=h.filter(w=>w.type==="column"),b=h.filter(w=>w.type==="player");return{columns:g,players:b}},[h]);return v.useEffect(()=>{if(s){if(h.length===0){d(0);return}d(g=>Math.min(Math.max(g,0),h.length-1))}},[h,s]),v.useEffect(()=>{if(!s)return;const g=h[c];if(!g)return;const b=`${g.type}-${g.id}`,w=m.current.get(b);w&&p.current&&w.scrollIntoView({block:"nearest"})},[c,h,s]),u.jsxs("div",{ref:f,className:`relative ${a}`,children:[u.jsx("input",{value:i,onChange:g=>{o(g.target.value),l(!0)},onKeyDown:g=>{if(!s&&(g.key==="ArrowDown"||g.key==="ArrowUp")){l(!0);return}if(s)if(g.key==="ArrowDown"){if(g.preventDefault(),h.length===0)return;d(b=>(b+1)%h.length)}else if(g.key==="ArrowUp"){if(g.preventDefault(),h.length===0)return;d(b=>(b-1+h.length)%h.length)}else if(g.key==="Enter"){g.preventDefault();const b=h[c];if(!b)return;r(b),o(""),l(!1)}else g.key==="Escape"&&(g.preventDefault(),l(!1))},onFocus:()=>l(!0),placeholder:n,className:"w-full sm:w-64 bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none"}),s&&u.jsx("div",{className:"absolute z-30 mt-2 w-64 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:h.length===0?u.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No matches"}):u.jsxs("div",{ref:p,className:"max-h-60 overflow-y-auto space-y-2 pr-1",children:[x.columns.length>0&&u.jsxs("div",{children:[u.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Columns"}),x.columns.map(g=>{const b=(t==null?void 0:t.has(`${g.type}:${g.id}`))??!1;return u.jsx("button",{type:"button",ref:w=>{m.current.set(`${g.type}-${g.id}`,w)},onClick:()=>{r(g),o(""),l(!1)},onMouseEnter:()=>{const w=y.get(`${g.type}-${g.id}`);typeof w=="number"&&d(w)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${c===y.get(`${g.type}-${g.id}`)?"bg-white/10 border-white/10":""} ${b?"bg-white/15 border-white/20":""}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[g.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:g.icon}):null,u.jsx("span",{className:"truncate",children:g.label})]})},`${g.type}-${g.id}`)})]}),x.players.length>0&&u.jsxs("div",{children:[u.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Players"}),x.players.map(g=>{const b=(t==null?void 0:t.has(`${g.type}:${g.id}`))??!1;return u.jsx("button",{type:"button",ref:w=>{m.current.set(`${g.type}-${g.id}`,w)},onClick:()=>{r(g),o(""),l(!1)},onMouseEnter:()=>{const w=y.get(`${g.type}-${g.id}`);typeof w=="number"&&d(w)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${c===y.get(`${g.type}-${g.id}`)?"bg-white/10 border-white/10":""} ${b?"bg-white/15 border-white/20":""}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[g.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:g.icon}):null,u.jsx("span",{className:"truncate",children:g.label})]})},`${g.type}-${g.id}`)})]})]})})]})},fr=({options:e,selectedIds:t,onToggle:n,onClear:r,className:a="",buttonLabel:i="Columns",buttonIcon:o})=>{const[s,l]=v.useState(!1),c=v.useRef(null),d=new Set(t);return v.useEffect(()=>{const f=p=>{c.current&&(c.current.contains(p.target)||l(!1))};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]),u.jsxs("div",{ref:c,className:`relative ${a}`,children:[u.jsxs("button",{type:"button",onClick:()=>l(f=>!f),className:"flex items-center gap-2 rounded-lg border border-white/10 bg-white/5 px-3 py-1 text-xs font-semibold text-gray-300 hover:text-white hover:border-white/30 transition-colors",children:[o?u.jsx("span",{className:"h-3.5 w-3.5 text-gray-400",children:o}):null,u.jsx("span",{children:i}),t.length>0&&u.jsx("span",{className:"rounded-full bg-white/10 px-2 py-0.5 text-[10px] text-gray-200",children:t.length})]}),s&&u.jsxs("div",{className:"absolute z-20 mt-2 w-56 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between px-2 pb-2 text-[11px] uppercase tracking-widest text-gray-500",children:[u.jsx("span",{children:"Filter Columns"}),u.jsx("button",{type:"button",onClick:r,className:"text-gray-400 hover:text-white",children:"Clear"})]}),u.jsx("div",{className:"max-h-56 overflow-y-auto space-y-1 pr-1",children:e.length===0?u.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No columns"}):e.map(f=>u.jsx("button",{type:"button",onClick:()=>n(f.id),className:`w-full text-left px-2 py-1.5 rounded-lg border transition-colors ${d.has(f.id)?"bg-white/10 border-white/20 text-white":"border-transparent text-gray-300 hover:bg-white/5 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`h-2.5 w-2.5 rounded-full border ${d.has(f.id)?"bg-emerald-400/80 border-emerald-300":"border-gray-500"}`}),f.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center shrink-0",children:f.icon}):null,u.jsx("span",{className:"truncate max-w-[140px]",children:f.label})]})},f.id))})]})]})},iae=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,sidebarListClass:s,apmSpecAvailable:l,skillUsageAvailable:c,apmSpecTables:d,activeApmSpec:f,setActiveApmSpec:p,expandedApmSpec:m,setExpandedApmSpec:h,activeApmSkillId:y,setActiveApmSkillId:x,ALL_SKILLS_KEY:g,apmSkillSearch:b,setApmSkillSearch:w,activeApmSpecTable:S,activeApmSkill:C,isAllApmSkills:N,apmView:M,setApmView:O,formatApmValue:R,formatCastRateValue:P,formatCastCountValue:_,renderProfessionIcon:I})=>{var Q;const[J,re]=v.useState({key:"apm",dir:"desc"}),he=e==="apm-stats",[B,$]=v.useState({columnId:"",dir:"desc"}),[te,k]=v.useState([]),[E,A]=v.useState([]),[j,z]=v.useState({}),Y=he?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${s} max-h-72 overflow-y-auto`,W=G=>{re(D=>({key:G,dir:D.key===G&&D.dir==="desc"?"asc":"desc"}))},q=v.useMemo(()=>{const G=[...(S==null?void 0:S.playerRows)||[]];return G.sort((D,ee)=>{const fe=J.key==="apm"?Number(M==="perSecond"?D.aps:D.apm):Number(M==="perSecond"?D.apsNoAuto:D.apmNoAuto),L=J.key==="apm"?Number(M==="perSecond"?ee.aps:ee.apm):Number(M==="perSecond"?ee.apsNoAuto:ee.apmNoAuto);return(J.dir==="desc"?L-fe:fe-L)||String(D.displayName||"").localeCompare(String(ee.displayName||""))}),G},[S,J,M]);return u.jsxs("div",{id:"apm-stats","data-section-visible":a("apm-stats"),"data-section-first":i("apm-stats"),className:o("apm-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="apm-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(x1,{className:"w-5 h-5 text-emerald-300"}),"APM Breakdown"]}),u.jsxs("div",{className:"flex items-center gap-3 relative",children:[u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[d.length," ",d.length===1?"spec":"specs"]}),u.jsx("button",{type:"button",onClick:()=>e==="apm-stats"?r():n("apm-stats"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="apm-stats"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="apm-stats"?"Close APM Breakdown":"Expand APM Breakdown",title:e==="apm-stats"?"Close":"Expand",children:e==="apm-stats"?u.jsx(Va,{className:"w-4 h-4"}):u.jsx(Ni,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:e==="apm-stats"?"flex-1 min-h-0 flex flex-col":"",children:l?u.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="apm-stats"?"flex-1 min-h-0 h-full":""}`,children:[u.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="apm-stats"?"h-full":""}`,children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Elite Specs"}),u.jsx("div",{className:"mb-2",children:u.jsx("input",{type:"text",value:b,onChange:G=>w(G.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"})}),u.jsx("div",{className:Y,children:d.map(G=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const D=f!==G.profession;p(G.profession),h(D?G.profession:m===G.profession?null:G.profession),D&&(x(g),k([]),A([]))},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${f===G.profession?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[I(G.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:G.profession})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:u.jsxs("span",{className:"text-[10px]",children:[G.players.length,"p"]})})]})}),!he&&m===G.profession&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:j[G.profession]||"",onChange:D=>{const ee=D.target.value;z(fe=>({...fe,[G.profession]:ee}))},placeholder:"Filter this spec...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"}),u.jsx("button",{type:"button",onClick:()=>{p(G.profession),x(g)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===G.profession&&N?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Skills"}),(G.skills||[]).filter(D=>{const ee=(j[G.profession]||"").trim().toLowerCase();return ee?String(D.name||"").toLowerCase().includes(ee):!0}).map(D=>u.jsx("button",{type:"button",onClick:()=>{p(G.profession),x(D.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===G.profession&&y===D.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:D.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[D.icon?u.jsx("img",{src:D.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate",children:D.name})]})},D.id)),(G.skills||[]).filter(D=>{const ee=(j[G.profession]||"").trim().toLowerCase();return ee?String(D.name||"").toLowerCase().includes(ee):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},G.profession))})]}),u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="apm-stats"?"flex flex-col min-h-0":""}`,children:S?u.jsxs("div",{className:e==="apm-stats"?"flex flex-col min-h-0":"",children:[he&&(()=>{const G=S.skills||[],D=(S.playerRows||[]).map(ne=>({id:ne.key,label:ne.displayName||ne.account||ne.key,icon:I(ne.profession,ne.professionList,"w-3 h-3")})),ee=G.map(ne=>({id:ne.id,label:ne.name,icon:ne.icon?u.jsx("img",{src:ne.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),fe=[...G.map(ne=>({id:ne.id,label:ne.name,type:"column",icon:ne.icon?u.jsx("img",{src:ne.icon,alt:"",className:"h-4 w-4"}):void 0})),...(S.playerRows||[]).map(ne=>({id:ne.key,label:ne.displayName||ne.account||ne.key,type:"player",icon:I(ne.profession,ne.professionList,"w-3 h-3")}))],L=new Set([...te.map(ne=>`column:${ne}`),...E.map(ne=>`player:${ne}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"APM"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(po,{options:fe,selectedIds:L,onSelect:ne=>{ne.type==="column"?k(U=>U.includes(ne.id)?U.filter(F=>F!==ne.id):[...U,ne.id]):A(U=>U.includes(ne.id)?U.filter(F=>F!==ne.id):[...U,ne.id])},className:"w-full sm:w-64"}),u.jsx(fr,{options:ee,selectedIds:te,onToggle:ne=>{k(U=>U.includes(ne)?U.filter(F=>F!==ne):[...U,ne])},onClear:()=>k([]),buttonLabel:"Columns",buttonIcon:u.jsx(co,{className:"h-3.5 w-3.5"})}),u.jsx(fr,{options:D,selectedIds:E,onToggle:ne=>{A(U=>U.includes(ne)?U.filter(F=>F!==ne):[...U,ne])},onClear:()=>A([]),buttonLabel:"Players",buttonIcon:u.jsx(kr,{className:"h-3.5 w-3.5"})}),u.jsx(Pn,{value:M,onChange:O,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(te.length>0||E.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{k([]),A([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),te.map(ne=>{var U;const F=((U=G.find(se=>se.id===ne))==null?void 0:U.name)||ne;return u.jsxs("button",{type:"button",onClick:()=>k(se=>se.filter(ye=>ye!==ne)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:F}),u.jsx("span",{className:"text-gray-400",children:""})]},ne)}),E.map(ne=>{var U;const F=((U=D.find(se=>se.id===ne))==null?void 0:U.label)||ne;return u.jsxs("button",{type:"button",onClick:()=>A(se=>se.filter(ye=>ye!==ne)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:F}),u.jsx("span",{className:"text-gray-400",children:""})]},ne)})]})]})})(),he?(()=>{var G,D;const ee=S.skills||[],fe=te.length>0?ee.filter(F=>te.includes(F.id)):ee,L=E.length>0?(S.playerRows||[]).filter(F=>E.includes(F.key)):S.playerRows||[];if(ee.length===0)return u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No skills available for this class."});const ne=((G=fe.find(F=>F.id===B.columnId))==null?void 0:G.id)||((D=fe[0])==null?void 0:D.id)||"",U=[...L].map(F=>{const se={},ye={};return fe.forEach(Ye=>{var le;const Ve=Number(((le=Ye.playerCounts)==null?void 0:le.get(F.key))||0),De=M==="perSecond"?Ve/Math.max(1,F.totalActiveSeconds||0):Ve;ye[Ye.id]=De,se[Ye.id]=M==="perSecond"?P(De):_(De)}),{row:F,values:se,numericValues:ye}}).sort((F,se)=>{const ye=F.numericValues[ne]??0,Ye=se.numericValues[ne]??0;return(B.dir==="desc"?Ye-ye:ye-Ye)||String(F.row.displayName||"").localeCompare(String(se.row.displayName||""))});return u.jsx(fo,{title:"APM - Dense View",subtitle:"Skills",sortColumnId:ne,sortDirection:B.dir,onSortColumn:F=>{$(se=>({columnId:F,dir:se.columnId===F&&se.dir==="desc"?"asc":"desc"}))},columns:fe.map(F=>({id:F.id,label:u.jsx(Sr,{name:F.name,iconUrl:F.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:U.map((F,se)=>({id:`${S.profession}-${F.row.key}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:se+1}),I(F.row.profession,F.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:F.row.displayName})]}),values:F.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"min-w-0 text-sm font-semibold text-gray-200",children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[I(S.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:S.profession}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),N||!C?u.jsx("span",{className:"truncate",children:"All Skills"}):u.jsx(Sr,{name:C.name,iconUrl:C.icon,iconClassName:"h-5 w-5"})]})}),u.jsx("div",{className:"text-[11px] text-gray-500",children:N||!C?`${((Q=S.playerRows)==null?void 0:Q.length)||0} players`:`${(C==null?void 0:C.totalCasts)??0} casts`})]}),N||!C?u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.7fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>W("apm"),className:`text-right transition-colors ${J.key==="apm"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[M==="perSecond"?"APS":"APM",J.key==="apm"?J.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>W("apmNoAuto"),className:`text-right transition-colors ${J.key==="apmNoAuto"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[M==="perSecond"?"APS":"APM"," (No Auto)",J.key==="apmNoAuto"?J.dir==="desc"?" ":" ":""]})]}):u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.4fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsx("div",{className:"text-right",children:"Casts"}),u.jsx("div",{className:"text-right",children:M==="perSecond"?"APS":"APM"})]})]}),N||!C?u.jsx(u.Fragment,{children:u.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:q.map((G,D)=>u.jsxs("div",{className:"grid grid-cols-[1.6fr_0.7fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${D+1}`}),I(G.profession,G.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:G.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:R(M==="perSecond"?G.aps:G.apm)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:R(M==="perSecond"?G.apsNoAuto:G.apmNoAuto)})]},`${S.profession}-all-${G.key}`))})}):u.jsx(u.Fragment,{children:u.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:((C==null?void 0:C.playerRows)||[]).length===0?u.jsx("div",{className:"px-4 py-8 text-center text-sm text-gray-500 italic border-t border-white/5",children:"No player rows available for this skill."}):((C==null?void 0:C.playerRows)||[]).map((G,D)=>u.jsxs("div",{className:"grid grid-cols-[1.4fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${D+1}`}),I(G.profession,G.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:G.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:_(Number(G.count||0))}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:R(Number(M==="perSecond"?G.aps||0:G.apm||0))})]},`${S.profession}-${C.id}-${G.key}`))})})]})]}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select an elite spec to view APM details"})})]}):u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:c?"No APM data available for the current selection.":"Upload or highlight logs with rotation data to enable the APM table."})})]})},oae=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,sidebarListClass:s,viewMode:l,setViewMode:c,playerSkillBreakdowns:d,classSkillBreakdowns:f,activePlayerKey:p,setActivePlayerKey:m,expandedPlayerKey:h,setExpandedPlayerKey:y,activePlayerSkillId:x,setActivePlayerSkillId:g,activeClassKey:b,setActiveClassKey:w,expandedClassKey:S,setExpandedClassKey:C,activeClassSkillId:N,setActiveClassSkillId:M,skillSearch:O,setSkillSearch:R,activePlayerBreakdown:P,activePlayerSkill:_,activeClassBreakdown:I,activeClassSkill:Q,renderProfessionIcon:J})=>{const re=d.length,he=((P==null?void 0:P.skills)||[]).reduce((U,F)=>U+(F.damage||0),0),B=(I==null?void 0:I.players)||[],[$,te]=v.useState({key:"down",dir:"desc"}),k=e==="player-breakdown",[E,A]=v.useState([]),[j,z]=v.useState([]),[Y,W]=v.useState({columnId:"",dir:"desc"}),[q,G]=v.useState({}),[D,ee]=v.useState({}),fe=k?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${s} max-h-72 overflow-y-auto`,L=v.useMemo(()=>{if(!I||!Q)return B;const U=[...B];return U.sort((F,se)=>{var ye,Ye;const le=(ye=F.skillMap)==null?void 0:ye[Q.id],Ve=(Ye=se.skillMap)==null?void 0:Ye[Q.id],De=Number((le==null?void 0:le.downContribution)||0),pt=Number((Ve==null?void 0:Ve.downContribution)||0),Ht=Number((le==null?void 0:le.damage)||0),yn=Number((Ve==null?void 0:Ve.damage)||0),Or=F.totalFightMs>0?Ht/(F.totalFightMs/1e3):0,de=se.totalFightMs>0?yn/(se.totalFightMs/1e3):0;let Ce=0;return $.key==="down"&&(Ce=De-pt),$.key==="damage"&&(Ce=Ht-yn),$.key==="dps"&&(Ce=Or-de),$.dir==="asc"?Ce:-Ce}),U},[I,B,Q,$]),ne=U=>{te(F=>F.key!==U?{key:U,dir:"desc"}:{key:U,dir:F.dir==="desc"?"asc":"desc"})};return u.jsxs("div",{id:"player-breakdown","data-section-visible":a("player-breakdown"),"data-section-first":i("player-breakdown"),className:o("player-breakdown",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="player-breakdown"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(y1,{className:"w-5 h-5 text-sky-300"}),"Player Breakdown"]}),u.jsxs("div",{className:"flex items-center gap-3 relative",children:[u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[re," ",re===1?"player":"players"]}),u.jsx("button",{type:"button",onClick:()=>e==="player-breakdown"?r():n("player-breakdown"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="player-breakdown"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="player-breakdown"?"Close Player Breakdown":"Expand Player Breakdown",title:e==="player-breakdown"?"Close":"Expand",children:e==="player-breakdown"?u.jsx(Va,{className:"w-4 h-4"}):u.jsx(Ni,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:e==="player-breakdown"?"flex-1 min-h-0 flex flex-col":"",children:d.length===0?u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:"No player skill damage data available for the current selection."}):u.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="player-breakdown"?"flex-1 min-h-0 h-full":""}`,children:[u.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="player-breakdown"?"h-full":""}`,children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:k?"Squad Classes":l==="player"?"Squad Players":"Squad Classes"}),!k&&u.jsx("div",{className:"flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"player",label:"Player"},{id:"class",label:"Class"}].map(U=>{const F=l===U.id;return u.jsx("button",{type:"button",onClick:()=>c(U.id),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${F?"bg-sky-500/30 text-sky-100":"text-gray-400 hover:text-white"}`,children:U.label},U.id)})})]}),u.jsx("div",{className:"mb-2",children:u.jsx("input",{type:"text",value:O,onChange:U=>R(U.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"})}),u.jsx("div",{className:fe,children:(k?"class":l)==="player"?d.map(U=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const F=p!==U.key;F&&(g(null),A([]),z([])),m(U.key),y(F?U.key:h===U.key?null:U.key)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${p===U.key?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:U.displayName,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[J(U.profession,U.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate min-w-0",children:U.displayName})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400 shrink-0",children:u.jsxs("span",{className:"text-[10px] whitespace-nowrap",children:[U.skills.length," skills"]})})]})}),!k&&h===U.key&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:q[U.key]||"",onChange:F=>{const se=F.target.value;G(ye=>({...ye,[U.key]:se}))},placeholder:"Filter this player's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),U.skills.filter(F=>{const se=(q[U.key]||"").trim().toLowerCase();return se?String(F.name||"").toLowerCase().includes(se):!0}).map(F=>u.jsx("button",{type:"button",onClick:()=>{m(U.key),g(F.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${p===U.key&&x===F.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:F.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[F.icon?u.jsx("img",{src:F.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate",children:F.name})]})},F.id)),U.skills.filter(F=>{const se=(q[U.key]||"").trim().toLowerCase();return se?String(F.name||"").toLowerCase().includes(se):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},U.key)):f.map(U=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const F=b!==U.profession;F&&(M(null),A([]),z([])),w(U.profession),C(F?U.profession:S===U.profession?null:U.profession)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${b===U.profession?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[J(U.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:U.profession})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:u.jsxs("span",{className:"text-[10px]",children:[U.players.length,"p"]})})]})}),!k&&S===U.profession&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:D[U.profession]||"",onChange:F=>{const se=F.target.value;ee(ye=>({...ye,[U.profession]:se}))},placeholder:"Filter this class's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),U.skills.filter(F=>{const se=(D[U.profession]||"").trim().toLowerCase();return se?String(F.name||"").toLowerCase().includes(se):!0}).map(F=>u.jsx("button",{type:"button",onClick:()=>{w(U.profession),M(F.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${b===U.profession&&N===F.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:F.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[F.icon?u.jsx("img",{src:F.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate",children:F.name})]})},F.id)),U.skills.filter(F=>{const se=(D[U.profession]||"").trim().toLowerCase();return se?String(F.name||"").toLowerCase().includes(se):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},U.profession))})]}),u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="player-breakdown"?"flex flex-col min-h-0":""}`,children:(k?"class":l)==="player"?!P||!k&&!_?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a player and skill to view breakdown details"}):u.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[k&&(()=>{const U=P.skills||[],F=d.map(le=>({id:le.key,label:le.displayName||le.key,icon:J(le.profession,le.professionList,"w-3 h-3")})),se=U.map(le=>({id:le.id,label:le.name,icon:le.icon?u.jsx("img",{src:le.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),ye=[...U.map(le=>({id:le.id,label:le.name,type:"column",icon:le.icon?u.jsx("img",{src:le.icon,alt:"",className:"h-4 w-4"}):void 0})),...d.map(le=>({id:le.key,label:le.displayName||le.key,type:"player",icon:J(le.profession,le.professionList,"w-3 h-3")}))],Ye=new Set([...E.map(le=>`column:${le}`),...j.map(le=>`player:${le}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Player Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(po,{options:ye,selectedIds:Ye,onSelect:le=>{le.type==="column"?A(Ve=>Ve.includes(le.id)?Ve.filter(De=>De!==le.id):[...Ve,le.id]):z(Ve=>Ve.includes(le.id)?Ve.filter(De=>De!==le.id):[...Ve,le.id])},className:"w-full sm:w-64"}),u.jsx(fr,{options:se,selectedIds:E,onToggle:le=>{A(Ve=>Ve.includes(le)?Ve.filter(De=>De!==le):[...Ve,le])},onClear:()=>A([]),buttonLabel:"Columns",buttonIcon:u.jsx(co,{className:"h-3.5 w-3.5"})}),u.jsx(fr,{options:F,selectedIds:j,onToggle:le=>{z(Ve=>Ve.includes(le)?Ve.filter(De=>De!==le):[...Ve,le])},onClear:()=>z([]),buttonLabel:"Players",buttonIcon:u.jsx(kr,{className:"h-3.5 w-3.5"})})]}),(E.length>0||j.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{A([]),z([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),E.map(le=>{var Ve;const De=((Ve=U.find(pt=>pt.id===le))==null?void 0:Ve.name)||le;return u.jsxs("button",{type:"button",onClick:()=>A(pt=>pt.filter(Ht=>Ht!==le)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:De}),u.jsx("span",{className:"text-gray-400",children:""})]},le)}),j.map(le=>{var Ve;const De=((Ve=F.find(pt=>pt.id===le))==null?void 0:Ve.label)||le;return u.jsxs("button",{type:"button",onClick:()=>z(pt=>pt.filter(Ht=>Ht!==le)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:De}),u.jsx("span",{className:"text-gray-400",children:""})]},le)})]})]})})(),k?(()=>{var U,F;const se=P.skills||[],ye=E.length>0?se.filter(De=>E.includes(De.id)):se,Ye=j.length>0?d.filter(De=>j.includes(De.key)):d,le=((U=ye.find(De=>De.id===Y.columnId))==null?void 0:U.id)||((F=ye[0])==null?void 0:F.id)||"",Ve=Ye.map(De=>{const pt={},Ht={};return ye.forEach(yn=>{var Or;const de=(Or=De.skillMap)==null?void 0:Or[yn.id],Ce=Number((de==null?void 0:de.damage)||0);Ht[yn.id]=Ce,pt[yn.id]=Hs(Ce)}),{player:De,values:pt,numericValues:Ht}}).sort((De,pt)=>{const Ht=De.numericValues[le]??0,yn=pt.numericValues[le]??0;return(Y.dir==="desc"?yn-Ht:Ht-yn)||String(De.player.displayName||"").localeCompare(String(pt.player.displayName||""))});return u.jsx(fo,{title:"Player Breakdown - Dense View",subtitle:"Damage",sortColumnId:le,sortDirection:Y.dir,onSortColumn:De=>{W(pt=>({columnId:De,dir:pt.columnId===De&&pt.dir==="desc"?"asc":"desc"}))},columns:ye.map(De=>({id:De.id,label:u.jsx(Sr,{name:De.name,iconUrl:De.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:Ve.map((De,pt)=>({id:`${De.player.key}-${pt}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:pt+1}),J(De.player.profession,De.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:De.player.displayName})]}),values:De.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:u.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[J(P.profession,P.professionList,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:P.displayName}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),u.jsx("div",{className:"text-sm font-semibold text-gray-200 truncate",children:u.jsx(Sr,{name:(_==null?void 0:_.name)||"",iconUrl:_==null?void 0:_.icon,iconClassName:"h-6 w-6"})})]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[P.skills.length," skills | ",Hs(he)," total damage"]})]})}),u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.2fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Metric"}),u.jsx("div",{className:"text-right",children:"Value"})]})]}),u.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:[{label:"Down Contribution",value:Hs((_==null?void 0:_.downContribution)||0)},{label:"Total Damage",value:Hs((_==null?void 0:_.damage)||0)},{label:"DPS",value:Ti(P.totalFightMs>0?((_==null?void 0:_.damage)||0)/(P.totalFightMs/1e3):0,1)}].map(U=>u.jsxs("div",{className:"grid grid-cols-[1.2fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"font-semibold text-white",children:U.label}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:U.value})]},U.label))})]})]}):!I||!k&&!Q?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a class and skill to view breakdown details"}):u.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[k&&(()=>{const U=I.skills||[],F=B.map(le=>({id:le.key,label:le.displayName||le.key,icon:J(le.profession,le.professionList,"w-3 h-3")})),se=U.map(le=>({id:le.id,label:le.name,icon:le.icon?u.jsx("img",{src:le.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),ye=[...U.map(le=>({id:le.id,label:le.name,type:"column",icon:le.icon?u.jsx("img",{src:le.icon,alt:"",className:"h-4 w-4"}):void 0})),...B.map(le=>({id:le.key,label:le.displayName||le.key,type:"player",icon:J(le.profession,le.professionList,"w-3 h-3")}))],Ye=new Set([...E.map(le=>`column:${le}`),...j.map(le=>`player:${le}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Class Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(po,{options:ye,selectedIds:Ye,onSelect:le=>{le.type==="column"?A(Ve=>Ve.includes(le.id)?Ve.filter(De=>De!==le.id):[...Ve,le.id]):z(Ve=>Ve.includes(le.id)?Ve.filter(De=>De!==le.id):[...Ve,le.id])},className:"w-full sm:w-64"}),u.jsx(fr,{options:se,selectedIds:E,onToggle:le=>{A(Ve=>Ve.includes(le)?Ve.filter(De=>De!==le):[...Ve,le])},onClear:()=>A([]),buttonLabel:"Columns",buttonIcon:u.jsx(co,{className:"h-3.5 w-3.5"})}),u.jsx(fr,{options:F,selectedIds:j,onToggle:le=>{z(Ve=>Ve.includes(le)?Ve.filter(De=>De!==le):[...Ve,le])},onClear:()=>z([]),buttonLabel:"Players",buttonIcon:u.jsx(kr,{className:"h-3.5 w-3.5"})})]}),(E.length>0||j.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{A([]),z([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),E.map(le=>{var Ve;const De=((Ve=U.find(pt=>pt.id===le))==null?void 0:Ve.name)||le;return u.jsxs("button",{type:"button",onClick:()=>A(pt=>pt.filter(Ht=>Ht!==le)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:De}),u.jsx("span",{className:"text-gray-400",children:""})]},le)}),j.map(le=>{var Ve;const De=((Ve=F.find(pt=>pt.id===le))==null?void 0:Ve.label)||le;return u.jsxs("button",{type:"button",onClick:()=>z(pt=>pt.filter(Ht=>Ht!==le)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:De}),u.jsx("span",{className:"text-gray-400",children:""})]},le)})]})]})})(),k?(()=>{var U,F;const se=I.skills||[],ye=E.length>0?se.filter(De=>E.includes(De.id)):se,Ye=j.length>0?B.filter(De=>j.includes(De.key)):B,le=((U=ye.find(De=>De.id===Y.columnId))==null?void 0:U.id)||((F=ye[0])==null?void 0:F.id)||"",Ve=Ye.map(De=>{const pt={},Ht={};return ye.forEach(yn=>{var Or;const de=(Or=De.skillMap)==null?void 0:Or[yn.id],Ce=Number((de==null?void 0:de.damage)||0);Ht[yn.id]=Ce,pt[yn.id]=Hs(Ce)}),{player:De,values:pt,numericValues:Ht}}).sort((De,pt)=>{const Ht=De.numericValues[le]??0,yn=pt.numericValues[le]??0;return(Y.dir==="desc"?yn-Ht:Ht-yn)||String(De.player.displayName||"").localeCompare(String(pt.player.displayName||""))});return u.jsx(fo,{title:"Class Breakdown - Dense View",subtitle:"Damage",sortColumnId:le,sortDirection:Y.dir,onSortColumn:De=>{W(pt=>({columnId:De,dir:pt.columnId===De&&pt.dir==="desc"?"asc":"desc"}))},columns:ye.map(De=>({id:De.id,label:u.jsx(Sr,{name:De.name,iconUrl:De.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:Ve.map((De,pt)=>({id:`${De.player.key}-${pt}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:pt+1}),J(De.player.profession,De.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:De.player.displayName})]}),values:De.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:u.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[J(I.profession,void 0,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:I.profession}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),u.jsx("div",{className:"text-sm font-semibold text-gray-200 truncate",children:u.jsx(Sr,{name:(Q==null?void 0:Q.name)||"",iconUrl:Q==null?void 0:Q.icon,iconClassName:"h-6 w-6"})})]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[B.length," players | ",I.skills.length," skills"]})]})}),u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>ne("down"),className:`text-right flex items-center justify-end gap-1 transition-colors ${$.key==="down"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Down Contrib",u.jsx("span",{className:"text-[10px]",children:$.key==="down"?$.dir==="desc"?"":"":""})]}),u.jsxs("button",{type:"button",onClick:()=>ne("damage"),className:`text-right flex items-center justify-end gap-1 transition-colors ${$.key==="damage"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage",u.jsx("span",{className:"text-[10px]",children:$.key==="damage"?$.dir==="desc"?"":"":""})]}),u.jsxs("button",{type:"button",onClick:()=>ne("dps"),className:`text-right flex items-center justify-end gap-1 transition-colors ${$.key==="dps"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["DPS",u.jsx("span",{className:"text-[10px]",children:$.key==="dps"?$.dir==="desc"?"":"":""})]})]})]}),u.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:L.map(U=>{var F;const se=(F=U.skillMap)==null?void 0:F[(Q==null?void 0:Q.id)||""],ye=Number((se==null?void 0:se.downContribution)||0),Ye=Number((se==null?void 0:se.damage)||0),le=U.totalFightMs>0?Ye/(U.totalFightMs/1e3):0;return u.jsxs("div",{className:"grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[J(U.profession,U.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:U.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:Hs(ye)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:Hs(Ye)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:Ti(le,1)})]},`${I.profession}-${U.key}`)})})]})]})})]})})]})},aF=({className:e})=>u.jsx(kB,{className:e,style:{transform:"rotate(45deg)"}}),Es=({expanded:e,className:t="",sidebarClassName:n="",contentClassName:r="",sidebar:a,content:i})=>u.jsxs("div",{className:`stats-table-layout grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e?"flex-1 min-h-0 h-full":""} ${t}`,children:[u.jsx("div",{className:`stats-table-layout__sidebar ${n}`,children:a}),u.jsx("div",{className:`stats-table-layout__content ${r}`,children:i})]}),Ts=({header:e,columns:t,rows:n,expanded:r,maxHeightClass:a="max-h-80"})=>u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"stats-table-shell__header",children:e}),u.jsx("div",{className:"stats-table-shell__columns",children:t})]}),u.jsx("div",{className:`stats-table-shell__rows ${r?"flex-1 min-h-0 overflow-y-auto":`${a} overflow-y-auto`}`,children:n})]}),sae=({stats:e,OFFENSE_METRICS:t,roundCountStats:n,offenseSearch:r,setOffenseSearch:a,activeOffenseStat:i,setActiveOffenseStat:o,offenseViewMode:s,setOffenseViewMode:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:p,openExpandedSection:m,closeExpandedSection:h,isSectionVisible:y,isFirstVisibleSection:x,sectionClass:g,sidebarListClass:b})=>{var w;const[S,C]=v.useState({key:"value",dir:"desc"}),[N,M]=v.useState({columnId:((w=t[0])==null?void 0:w.id)||"value",dir:"desc"}),O=f==="offense-detailed",[R,P]=v.useState([]),[_,I]=v.useState([]),Q=t.filter(k=>k.label.toLowerCase().includes(r.trim().toLowerCase())),J=t.map(k=>({id:k.id,label:k.label})),re=J.filter(k=>k.label.toLowerCase().includes(r.trim().toLowerCase())),he=R.length>0?t.filter(k=>R.includes(k.id)):t,B=Array.from(new Map(e.offensePlayers.map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:d(k.profession,k.professionList,"w-3 h-3")})),$=new Set([...R.map(k=>`column:${k}`),..._.map(k=>`player:${k}`)]),te=k=>{C(E=>({key:k,dir:E.key===k&&E.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"offense-detailed","data-section-visible":y("offense-detailed"),"data-section-first":x("offense-detailed"),className:g("offense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="offense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(aF,{className:"w-5 h-5 text-rose-300"}),"Offenses - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>f==="offense-detailed"?h():m("offense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="offense-detailed"?"Close Offense Detailed":"Expand Offense Detailed",title:f==="offense-detailed"?"Close":"Expand",children:f==="offense-detailed"?u.jsx(Va,{className:"w-4 h-4"}):u.jsx(Ni,{className:"w-4 h-4"})})]}),e.offensePlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No offensive stats available"}):O?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(po,{options:[...J.map(k=>({...k,type:"column"})),...B.map(k=>({...k,type:"player"}))],onSelect:k=>{k.type==="column"?P(E=>E.includes(k.id)?E.filter(A=>A!==k.id):[...E,k.id]):I(E=>E.includes(k.id)?E.filter(A=>A!==k.id):[...E,k.id])},selectedIds:$,className:"w-full sm:w-64"}),u.jsx(fr,{options:re,selectedIds:R,onToggle:k=>{P(E=>E.includes(k)?E.filter(A=>A!==k):[...E,k])},onClear:()=>P([]),buttonIcon:u.jsx(co,{className:"h-3.5 w-3.5"})}),u.jsx(fr,{options:B,selectedIds:_,onToggle:k=>{I(E=>E.includes(k)?E.filter(A=>A!==k):[...E,k])},onClear:()=>I([]),buttonLabel:"Players",buttonIcon:u.jsx(kr,{className:"h-3.5 w-3.5"})}),u.jsx(Pn,{value:s,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(R.length>0||_.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{P([]),I([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),R.map(k=>{var E;const A=((E=J.find(j=>j.id===k))==null?void 0:E.label)||k;return u.jsxs("button",{type:"button",onClick:()=>P(j=>j.filter(z=>z!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:A}),u.jsx("span",{className:"text-gray-400",children:""})]},k)}),_.map(k=>u.jsxs("button",{type:"button",onClick:()=>I(E=>E.filter(A=>A!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:k}),u.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:Q.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No offensive stats match this filter"}):(()=>{var k,E;const A=q=>Math.max(1,(q.totalFightMs||0)/1e3),j=(q,G,D)=>{var ee,fe,L,ne,U;if(G==="downContributionPercent"){const F=((ee=q.offenseTotals)==null?void 0:ee.downContribution)||0,se=((fe=q.offenseTotals)==null?void 0:fe.damage)||0;return se>0?F/se*100:0}if(D.isRate){const F=((L=q.offenseRateWeights)==null?void 0:L[G])||0,se=((ne=q.offenseTotals)==null?void 0:ne[G])||0;return F>0?se/F*100:0}return((U=q.offenseTotals)==null?void 0:U[G])||0},z=(q,G)=>{const D=n&&!G.isPercent&&s==="total"?0:2,ee=c(q,D);return G.isPercent?`${ee}%`:ee},Y=((k=he.find(q=>q.id===N.columnId))==null?void 0:k.id)||((E=he[0])==null?void 0:E.id)||"",W=[...e.offensePlayers].filter(q=>_.length===0||_.includes(q.account)).map(q=>{const G={},D={};return he.forEach(ee=>{const fe=j(q,ee.id,ee),L=s==="total"||ee.isPercent||ee.isRate?fe:s==="per1s"?fe/A(q):fe*60/A(q);D[ee.id]=L,G[ee.id]=z(L,ee)}),{row:q,values:G,numericValues:D}}).sort((q,G)=>{const D=q.numericValues[Y]??0,ee=G.numericValues[Y]??0;return(N.dir==="desc"?ee-D:D-ee)||String(q.row.account||"").localeCompare(String(G.row.account||""))});return u.jsx(fo,{title:"Offense - Dense View",subtitle:"Offensive",sortColumnId:Y,sortDirection:N.dir,onSortColumn:q=>{M(G=>({columnId:q,dir:G.columnId===q&&G.dir==="desc"?"asc":"desc"}))},columns:he.map(q=>({id:q.id,label:q.label,align:"right",minWidth:90})),rows:W.map((q,G)=>({id:`${q.row.account}-${G}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:G+1}),d(q.row.profession,q.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:q.row.account})]}),values:q.values}))})})()})]}):u.jsx(Es,{expanded:f==="offense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="offense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="offense-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),u.jsx("input",{value:r,onChange:k=>a(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${b} ${f==="offense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:Q.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No offensive stats match this filter"}):Q.map(k=>u.jsx("button",{onClick:()=>o(k.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===k.id?"bg-rose-500/20 text-rose-200 border-rose-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:k.label},k.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const k=t.find(Y=>Y.id===i)||t[0],E=Y=>Math.max(1,(Y.totalFightMs||0)/1e3),A=Y=>{var W,q,G,D,ee;if(k.id==="downContributionPercent"){const fe=((W=Y.offenseTotals)==null?void 0:W.downContribution)||0,L=((q=Y.offenseTotals)==null?void 0:q.damage)||0;return L>0?fe/L*100:0}if(k.isRate){const fe=((G=Y.offenseRateWeights)==null?void 0:G[k.id])||0,L=((D=Y.offenseTotals)==null?void 0:D[k.id])||0;return fe>0?L/fe*100:0}return((ee=Y.offenseTotals)==null?void 0:ee[k.id])||0},j=Y=>{const W=n&&!k.isPercent&&s==="total"?0:2,q=c(Y,W);return k.isPercent?`${q}%`:q},z=[...e.offensePlayers].map(Y=>({...Y,total:A(Y),per1s:k.isPercent||k.isRate?A(Y):A(Y)/E(Y),per60s:k.isPercent||k.isRate?A(Y):A(Y)*60/E(Y)})).sort((Y,W)=>{const q=S.key==="fightTime"?Number(Y.totalFightMs||0):Number(s==="total"?Y.total:s==="per1s"?Y.per1s:Y.per60s),G=S.key==="fightTime"?Number(W.totalFightMs||0):Number(s==="total"?W.total:s==="per1s"?W.per1s:W.per60s);return(S.dir==="desc"?G-q:q-G)||Y.account.localeCompare(W.account)});return u.jsx(Ts,{expanded:f==="offense-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:k.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Offensive"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex items-center justify-end gap-2 px-4 py-2 bg-white/5",children:u.jsx(Pn,{value:s,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>te("value"),className:`text-right transition-colors ${S.key==="value"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",S.key==="value"?S.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>te("fightTime"),className:`text-right transition-colors ${S.key==="fightTime"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",S.key==="fightTime"?S.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:z.map((Y,W)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:W+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(Y.profession,Y.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Y.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const q=s==="total"?Y.total:s==="per1s"?Y.per1s:Y.per60s;return j(q)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:Y.totalFightMs?`${(Y.totalFightMs/1e3).toFixed(1)}s`:"-"})]},`${k.id}-${Y.account}-${W}`))})})})()})})]})},lae=({conditionSummary:e,conditionPlayers:t,conditionSearch:n,setConditionSearch:r,activeConditionName:a,setActiveConditionName:i,conditionDirection:o,setConditionDirection:s,conditionGridClass:l,effectiveConditionSort:c,setConditionSort:d,showConditionDamage:f,renderProfessionIcon:p,expandedSection:m,expandedSectionClosing:h,openExpandedSection:y,closeExpandedSection:x,isSectionVisible:g,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:S})=>{var C;const N=m==="conditions-outgoing",[M,O]=v.useState([]),[R,P]=v.useState([]),[_,I]=v.useState({columnId:"all",dir:"desc"}),Q=k=>{if(!k)return 0;if(o!=="outgoing"){const z=Number(k.applicationsFromUptime);return Number.isFinite(z)&&z>0?z:Number(k.applications||0)}const E=Number(k.applicationsFromUptime);if(Number.isFinite(E)&&E>0)return E;const A=Number(k.applicationsFromBuffsActive);if(Number.isFinite(A)&&A>0)return A;const j=Number(k.applicationsFromBuffs);return Number.isFinite(j)&&j>0?j:Number(k.applications||0)},J=[...e||[]].sort((k,E)=>(E.damage||0)-(k.damage||0)),re=J.filter(k=>k.name.toLowerCase().includes(n.trim().toLowerCase())),he=re.map(k=>({id:k.name,label:k.name,icon:k.icon?u.jsx("img",{src:k.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),B=M.length>0?J.filter(k=>M.includes(k.name)):J,$=Array.from(new Map((t||[]).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:p(k.profession,k.professionList,"w-3 h-3")})),te=new Set([...M.map(k=>`column:${k}`),...R.map(k=>`player:${k}`)]);return u.jsxs("div",{id:"conditions-outgoing","data-section-visible":g("conditions-outgoing"),"data-section-first":b("conditions-outgoing"),className:w("conditions-outgoing",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="conditions-outgoing"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(o0,{className:"w-5 h-5 text-amber-300"}),"Conditions"]}),u.jsx("button",{type:"button",onClick:()=>m==="conditions-outgoing"?x():y("conditions-outgoing"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="conditions-outgoing"?"Close Outgoing Conditions":"Expand Outgoing Conditions",title:m==="conditions-outgoing"?"Close":"Expand",children:m==="conditions-outgoing"?u.jsx(Va,{className:"w-4 h-4"}):u.jsx(Ni,{className:"w-4 h-4"})})]}),e&&e.length>0?N?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(po,{options:[...J.map(k=>({id:k.name,label:k.name,type:"column"})),...$.map(k=>({...k,type:"player"}))],onSelect:k=>{k.type==="column"?O(E=>E.includes(k.id)?E.filter(A=>A!==k.id):[...E,k.id]):P(E=>E.includes(k.id)?E.filter(A=>A!==k.id):[...E,k.id])},selectedIds:te,className:"w-full sm:w-64"}),u.jsx(fr,{options:he,selectedIds:M,onToggle:k=>{O(E=>E.includes(k)?E.filter(A=>A!==k):[...E,k])},onClear:()=>O([]),buttonIcon:u.jsx(co,{className:"h-3.5 w-3.5"})}),u.jsx(fr,{options:$,selectedIds:R,onToggle:k=>{P(E=>E.includes(k)?E.filter(A=>A!==k):[...E,k])},onClear:()=>P([]),buttonLabel:"Players",buttonIcon:u.jsx(kr,{className:"h-3.5 w-3.5"})}),u.jsx(Pn,{value:o,onChange:s,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),f&&u.jsx(Pn,{value:c.key,onChange:k=>d({key:k,dir:"desc"}),options:[{value:"applications",label:"Applications"},{value:"damage",label:"Damage"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:re.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No conditions match this filter"}):(()=>{const k=c.key,E=[{id:"all",label:"All Conditions",icon:null},...B],A=(t||[]).filter(Y=>R.length===0||R.includes(Y.account)).map(Y=>{const W=Y.conditions||{},q={},G={};return E.forEach(D=>{if(D.id==="all"||D.name==="All Conditions"){const L=Object.values(W).reduce((U,F)=>{const se=Q(F);return U.applications+=Number(se||0),U.damage+=Number((F==null?void 0:F.damage)||0),U},{applications:0,damage:0}),ne=k==="applications"?L.applications:L.damage;G.all=ne||0,q.all=Math.round(ne||0).toLocaleString();return}const ee=W[D.name],fe=k==="applications"?Q(ee):Number((ee==null?void 0:ee.damage)||0);G[D.name]=Number(fe||0),q[D.name]=Math.round(fe||0).toLocaleString()}),{player:Y,values:q,numericValues:G}}).filter(Y=>Object.values(Y.values).some(W=>W!=="0")),j=["all",...B.map(Y=>Y.name)].includes(_.columnId)?_.columnId:"all",z=[...A].sort((Y,W)=>{const q=Y.numericValues[j]??0,G=W.numericValues[j]??0;return(_.dir==="desc"?G-q:q-G)||String(Y.player.account||"").localeCompare(String(W.player.account||""))});return u.jsx(fo,{title:"Conditions - Dense View",subtitle:k==="applications"?"Applications":"Damage",sortColumnId:j,sortDirection:_.dir,onSortColumn:Y=>{I(W=>({columnId:Y,dir:W.columnId===Y&&W.dir==="desc"?"asc":"desc"}))},columns:[{id:"all",label:"All",align:"right",minWidth:90},...B.map(Y=>({id:Y.name,label:u.jsx(Sr,{name:Y.name,iconUrl:Y.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90}))],rows:z.map((Y,W)=>({id:`${Y.player.account}-${W}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:W+1}),p(Y.player.profession,Y.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Y.player.account})]}),values:Y.values}))})})()}),(M.length>0||R.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{O([]),P([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),M.map(k=>u.jsxs("button",{type:"button",onClick:()=>O(E=>E.filter(A=>A!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:k}),u.jsx("span",{className:"text-gray-400",children:""})]},k)),R.map(k=>u.jsxs("button",{type:"button",onClick:()=>P(E=>E.filter(A=>A!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:k}),u.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}):u.jsx(Es,{expanded:m==="conditions-outgoing",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="conditions-outgoing"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="conditions-outgoing"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),u.jsx("input",{value:n,onChange:k=>r(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${S} ${m==="conditions-outgoing"?"max-h-none flex-1 min-h-0":""}`,children:re.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No conditions match this filter"}):u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:()=>i("all"),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a==="all"?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Conditions"}),re.map(k=>u.jsx("button",{type:"button",onClick:()=>i(k.name),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===k.name?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Sr,{name:k.name,iconUrl:k.icon,iconClassName:"h-5 w-5"})},k.name))]})})]}),content:u.jsx(Ts,{expanded:m==="conditions-outgoing",header:u.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:a==="all"?"All Conditions":u.jsx(Sr,{name:a,iconUrl:(C=e.find(k=>k.name===a))==null?void 0:C.icon,iconClassName:"h-5 w-5"})}),u.jsxs("div",{className:"flex flex-col items-end gap-2 text-right ml-auto mt-2",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Squad Totals"}),u.jsx(Pn,{value:o,onChange:s,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),columns:u.jsxs("div",{className:`grid ${l} text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2`,children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>{d({key:"applications",dir:c.key==="applications"&&c.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${c.key==="applications"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Applications ",c.key==="applications"?c.dir==="desc"?"":"":""]}),f?u.jsxs("button",{type:"button",onClick:()=>{d({key:"damage",dir:c.key==="damage"&&c.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${c.key==="damage"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage ",c.key==="damage"?c.dir==="desc"?"":"":""]}):null]}),rows:u.jsx(u.Fragment,{children:(()=>{const k=(t||[]).map(E=>{const A=E.conditions||{};if(a==="all"){const z=Object.values(A).reduce((Y,W)=>{const q=Q(W);return Y.applications+=Number(q||0),Y.damage+=Number((W==null?void 0:W.damage)||0),Y},{applications:0,damage:0});return{...E,applications:z.applications,damage:z.damage}}const j=A[a];return{...E,applications:Q(j),damage:Number((j==null?void 0:j.damage)||0)}}).filter(E=>E.applications>0||E.damage>0).sort((E,A)=>{const j=c.key==="applications"?E.applications||0:E.damage||0,z=c.key==="applications"?A.applications||0:A.damage||0,Y=c.dir==="desc"?z-j:j-z;if(Y!==0)return Y;const W=c.key==="applications"?(A.damage||0)-(E.damage||0):(A.applications||0)-(E.applications||0);return W!==0?W:String(E.account||"").localeCompare(String(A.account||""))});return k.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No condition data available"}):k.map((E,A)=>{var j;const z=E.conditions||{};let Y={};a==="all"?Object.values(z).forEach(L=>{const ne=(L==null?void 0:L.skills)||{};Object.values(ne).forEach(U=>{const F=(U==null?void 0:U.name)||"Unknown",se=Number((U==null?void 0:U.hits)||0),ye=Number((U==null?void 0:U.damage)||0);if((!Number.isFinite(se)||se<=0)&&(!Number.isFinite(ye)||ye<=0))return;const Ye=Y[F]||{name:F,hits:0,damage:0,icon:U==null?void 0:U.icon};Ye.hits+=Number.isFinite(se)?se:0,Ye.damage+=Number.isFinite(ye)?ye:0,!Ye.icon&&U!=null&&U.icon&&(Ye.icon=U.icon),Y[F]=Ye})}):Y=((j=z[a])==null?void 0:j.skills)||{};const W=Object.values(Y).filter(L=>Number.isFinite(L.hits)&&L.hits>0).sort((L,ne)=>ne.hits-L.hits||L.name.localeCompare(ne.name)),q=Object.values(Y).filter(L=>Number.isFinite(L.damage)&&L.damage>0).sort((L,ne)=>ne.damage-L.damage||L.name.localeCompare(ne.name)),G=a==="all"&&W.length>0,D=a==="all"&&q.length>0,ee=Math.round(E.applications||0).toLocaleString(),fe=Math.round(E.damage||0).toLocaleString();return u.jsxs("div",{className:`grid ${l} px-4 py-2 text-sm text-gray-200 border-t border-white/5`,children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:A+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[p(E.profession,E.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:E.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:G?u.jsx(DA,{value:ee,label:"Condition Sources",items:W.map(L=>({name:L.name,iconUrl:L.icon,value:Math.round(L.hits).toLocaleString()})),className:"justify-end"}):ee}),f?u.jsx("div",{className:"text-right font-mono text-gray-300",children:D?u.jsx(DA,{value:fe,label:"Condition Damage Sources",items:q.map(L=>({name:L.name,iconUrl:L.icon,value:Math.round(L.damage).toLocaleString()})),className:"justify-end"}):fe}):null]},`${E.account}-${A}`)})})()})})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No condition data available"})]})},cae=({stats:e,activeBoonCategory:t,setActiveBoonCategory:n,activeBoonMetric:r,setActiveBoonMetric:a,activeBoonTab:i,setActiveBoonTab:o,activeBoonTable:s,filteredBoonTables:l,boonSearch:c,setBoonSearch:d,formatBoonMetricDisplay:f,getBoonMetricValue:p,renderProfessionIcon:m,roundCountStats:h,expandedSection:y,expandedSectionClosing:x,openExpandedSection:g,closeExpandedSection:b,isSectionVisible:w,isFirstVisibleSection:S,sectionClass:C,sidebarListClass:N})=>{const[M,O]=v.useState({key:"value",dir:"desc"}),[R,P]=v.useState({columnId:"",dir:"desc"}),_=y==="boon-output",[I,Q]=v.useState([]),[J,re]=v.useState([]),he=e.boonTables||[],B=I.length>0?he.filter(A=>I.includes(A.id)):he,$=l.map(A=>({id:A.id,label:A.name,icon:A.icon?u.jsx("img",{src:A.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),te=Array.from(new Map((e.boonTables||[]).flatMap(A=>A.rows||[]).filter(A=>A.account).map(A=>[A.account,A])).values()).map(A=>({id:A.account,label:A.account,icon:m(A.profession,A.professionList,"w-3 h-3")})),k=new Set([...I.map(A=>`column:${A}`),...J.map(A=>`player:${A}`)]),E=A=>{O(j=>({key:A,dir:j.key===A&&j.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"boon-output","data-section-visible":w("boon-output"),"data-section-first":S("boon-output"),className:C("boon-output",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${y==="boon-output"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${x?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(w1,{className:"w-5 h-5 text-cyan-400"}),"Boon Output"]}),u.jsx("button",{type:"button",onClick:()=>y==="boon-output"?b():g("boon-output"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":y==="boon-output"?"Close Boon Output":"Expand Boon Output",title:y==="boon-output"?"Close":"Expand",children:y==="boon-output"?u.jsx(Va,{className:"w-4 h-4"}):u.jsx(Ni,{className:"w-4 h-4"})})]}),e.boonTables.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No boon data available"}):_?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(po,{options:[...he.map(A=>({id:A.id,label:A.name,type:"column"})),...Array.from(new Map((e.boonTables||[]).flatMap(A=>A.rows||[]).filter(A=>A.account).map(A=>[A.account,A])).values()).map(A=>({id:A.account,label:A.account,type:"player",icon:m(A.profession,A.professionList,"w-3 h-3")}))],onSelect:A=>{A.type==="column"?Q(j=>j.includes(A.id)?j.filter(z=>z!==A.id):[...j,A.id]):re(j=>j.includes(A.id)?j.filter(z=>z!==A.id):[...j,A.id])},selectedIds:k,className:"w-full sm:w-64"}),u.jsx(fr,{options:$,selectedIds:I,onToggle:A=>{Q(j=>j.includes(A)?j.filter(z=>z!==A):[...j,A])},onClear:()=>Q([]),buttonIcon:u.jsx(co,{className:"h-3.5 w-3.5"})}),u.jsx(fr,{options:te,selectedIds:J,onToggle:A=>{re(j=>j.includes(A)?j.filter(z=>z!==A):[...j,A])},onClear:()=>re([]),buttonLabel:"Players",buttonIcon:u.jsx(kr,{className:"h-3.5 w-3.5"})}),u.jsx(Pn,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(Pn,{value:r,onChange:a,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(I.length>0||J.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{Q([]),re([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),I.map(A=>{var j;const z=((j=he.find(Y=>Y.id===A))==null?void 0:j.name)||A;return u.jsxs("button",{type:"button",onClick:()=>Q(Y=>Y.filter(W=>W!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:z}),u.jsx("span",{className:"text-gray-400",children:""})]},A)}),J.map(A=>u.jsxs("button",{type:"button",onClick:()=>re(j=>j.filter(z=>z!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:A}),u.jsx("span",{className:"text-gray-400",children:""})]},A))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:he.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No boons match this filter"}):(()=>{var A,j;const z=B,Y=((A=z.find(D=>D.id===R.columnId))==null?void 0:A.id)||(i&&z.some(D=>D.id===i)?i:void 0)||((j=z[0])==null?void 0:j.id)||"",W=new Map,q=new Map;z.forEach(D=>{const ee=new Map;D.rows.forEach(fe=>{const L=fe.account||fe.name||fe.id;L&&(ee.set(L,fe),q.has(L)||q.set(L,fe))}),W.set(D.id,ee)});const G=Array.from(q.entries()).filter(([D])=>J.length===0||J.includes(String(D))).map(([D,ee])=>{const fe={};return z.forEach(L=>{var ne;const U=(ne=W.get(L.id))==null?void 0:ne.get(D);fe[L.id]=U?f(U,t,L.stacking,r,{roundCountStats:h}):"-"}),{key:D,row:ee,values:fe}}).sort((D,ee)=>{var fe,L;if(!Y)return String(D.key).localeCompare(String(ee.key));const ne=z.find(Ye=>Ye.id===Y),U=ne?(fe=W.get(ne.id))==null?void 0:fe.get(D.key):null,F=ne?(L=W.get(ne.id))==null?void 0:L.get(ee.key):null,se=U?p(U,t,ne==null?void 0:ne.stacking,r):0,ye=F?p(F,t,ne==null?void 0:ne.stacking,r):0;return(R.dir==="desc"?ye-se:se-ye)||String(D.key).localeCompare(String(ee.key))});return u.jsx(fo,{title:"Boon Output - Dense View",subtitle:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`,sortColumnId:Y,sortDirection:R.dir,onSortColumn:D=>{P(ee=>({columnId:D,dir:ee.columnId===D&&ee.dir==="desc"?"asc":"desc"}))},columns:z.map(D=>({id:D.id,label:u.jsx(Sr,{name:D.name,iconUrl:D.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:G.map((D,ee)=>({id:`${D.key}-${ee}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:ee+1}),m(D.row.profession,D.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:D.row.account||D.row.name||D.key})]}),values:D.values}))})})()})]}):u.jsx(Es,{expanded:y==="boon-output",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${y==="boon-output"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${y==="boon-output"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),u.jsx("input",{value:c,onChange:A=>d(A.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${N} ${y==="boon-output"?"max-h-none flex-1 min-h-0":""}`,children:l.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No boons match this filter"}):l.map(A=>u.jsx("button",{onClick:()=>o(A.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===A.id?"bg-blue-500/20 text-blue-200 border-blue-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Sr,{name:A.name,iconUrl:A.icon,iconClassName:"h-3.5 w-3.5"})},A.id))})]}),content:s?u.jsx(Ts,{expanded:y==="boon-output",maxHeightClass:"max-h-64",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(Sr,{name:s.name,iconUrl:s.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`})]}),columns:u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-start gap-2 px-4 py-2 bg-white/5",children:[u.jsx(Pn,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(Pn,{value:r,onChange:a,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],className:"sm:ml-auto",activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>E("value"),className:`text-right transition-colors ${M.key==="value"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:[r==="total"?"Total":r==="average"?"Gen/Sec":"Uptime",M.key==="value"?M.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>E("fightTime"),className:`text-right transition-colors ${M.key==="fightTime"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",M.key==="fightTime"?M.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:[...s.rows].sort((A,j)=>(()=>{const z=M.key==="fightTime"?Number(A.activeTimeMs||0):p(A,t,s.stacking,r),Y=M.key==="fightTime"?Number(j.activeTimeMs||0):p(j,t,s.stacking,r);return(M.dir==="desc"?Y-z:z-Y)||String(A.account||"").localeCompare(String(j.account||""))})()).map((A,j)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:j+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[m(A.profession,A.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:A.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:f(A,t,s.stacking,r,{roundCountStats:h})}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:A.activeTimeMs?`${(A.activeTimeMs/1e3).toFixed(1)}s`:"-"})]},`${s.id}-${A.account}-${j}`))})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a boon to view details"})})]})},uae=({stats:e,DEFENSE_METRICS:t,defenseSearch:n,setDefenseSearch:r,activeDefenseStat:a,setActiveDefenseStat:i,defenseViewMode:o,setDefenseViewMode:s,roundCountStats:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:p,openExpandedSection:m,closeExpandedSection:h,isSectionVisible:y,isFirstVisibleSection:x,sectionClass:g,sidebarListClass:b})=>{var w;const[S,C]=v.useState({key:"value",dir:"desc"}),[N,M]=v.useState({columnId:((w=t[0])==null?void 0:w.id)||"value",dir:"desc"}),O=f==="defense-detailed",[R,P]=v.useState([]),[_,I]=v.useState([]),Q=t.filter(k=>k.label.toLowerCase().includes(n.trim().toLowerCase())),J=t.map(k=>({id:k.id,label:k.label})),re=J.filter(k=>k.label.toLowerCase().includes(n.trim().toLowerCase())),he=R.length>0?t.filter(k=>R.includes(k.id)):t,B=Array.from(new Map(e.defensePlayers.map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:d(k.profession,k.professionList,"w-3 h-3")})),$=new Set([...R.map(k=>`column:${k}`),..._.map(k=>`player:${k}`)]),te=k=>{C(E=>({key:k,dir:E.key===k&&E.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"defense-detailed","data-section-visible":y("defense-detailed"),"data-section-first":x("defense-detailed"),className:g("defense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="defense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Fu,{className:"w-5 h-5 text-sky-300"}),"Defenses - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>f==="defense-detailed"?h():m("defense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="defense-detailed"?"Close Defense Detailed":"Expand Defense Detailed",title:f==="defense-detailed"?"Close":"Expand",children:f==="defense-detailed"?u.jsx(Va,{className:"w-4 h-4"}):u.jsx(Ni,{className:"w-4 h-4"})})]}),e.defensePlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No defensive stats available"}):O?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(po,{options:[...J.map(k=>({...k,type:"column"})),...B.map(k=>({...k,type:"player"}))],onSelect:k=>{k.type==="column"?P(E=>E.includes(k.id)?E.filter(A=>A!==k.id):[...E,k.id]):I(E=>E.includes(k.id)?E.filter(A=>A!==k.id):[...E,k.id])},selectedIds:$,className:"w-full sm:w-64"}),u.jsx(fr,{options:re,selectedIds:R,onToggle:k=>{P(E=>E.includes(k)?E.filter(A=>A!==k):[...E,k])},onClear:()=>P([]),buttonIcon:u.jsx(co,{className:"h-3.5 w-3.5"})}),u.jsx(fr,{options:B,selectedIds:_,onToggle:k=>{I(E=>E.includes(k)?E.filter(A=>A!==k):[...E,k])},onClear:()=>I([]),buttonLabel:"Players",buttonIcon:u.jsx(kr,{className:"h-3.5 w-3.5"})}),u.jsx(Pn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(R.length>0||_.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{P([]),I([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),R.map(k=>{var E;const A=((E=J.find(j=>j.id===k))==null?void 0:E.label)||k;return u.jsxs("button",{type:"button",onClick:()=>P(j=>j.filter(z=>z!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:A}),u.jsx("span",{className:"text-gray-400",children:""})]},k)}),_.map(k=>u.jsxs("button",{type:"button",onClick:()=>I(E=>E.filter(A=>A!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:k}),u.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:Q.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No defensive stats match this filter"}):(()=>{var k,E;const A=W=>Math.max(1,(W.activeMs||0)/1e3),j=(W,q)=>{const G=q.isPercent,D=c(W,l&&!G&&o==="total"?0:2);return G?`${D}%`:D},z=((k=he.find(W=>W.id===N.columnId))==null?void 0:k.id)||((E=he[0])==null?void 0:E.id)||"",Y=[...e.defensePlayers].filter(W=>_.length===0||_.includes(W.account)).map(W=>{const q={},G={};return he.forEach(D=>{var ee;const fe=((ee=W.defenseTotals)==null?void 0:ee[D.id])||0,L=D.isPercent,ne=o==="total"||L?fe:o==="per1s"?fe/A(W):fe*60/A(W);G[D.id]=ne,q[D.id]=j(ne,D)}),{row:W,values:q,numericValues:G}}).sort((W,q)=>{const G=W.numericValues[z]??0,D=q.numericValues[z]??0;return(N.dir==="desc"?D-G:G-D)||String(W.row.account||"").localeCompare(String(q.row.account||""))});return u.jsx(fo,{title:"Defense - Dense View",subtitle:"Defensive",sortColumnId:z,sortDirection:N.dir,onSortColumn:W=>{M(q=>({columnId:W,dir:q.columnId===W&&q.dir==="desc"?"asc":"desc"}))},columns:he.map(W=>({id:W.id,label:W.label,align:"right",minWidth:90})),rows:Y.map((W,q)=>({id:`${W.row.account}-${q}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:q+1}),d(W.row.profession,W.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:W.row.account})]}),values:W.values}))})})()})]}):u.jsx(Es,{expanded:f==="defense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="defense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="defense-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),u.jsx("input",{value:n,onChange:k=>r(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${b} ${f==="defense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:Q.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No defensive stats match this filter"}):Q.map(k=>u.jsx("button",{onClick:()=>i(k.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===k.id?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:k.label},k.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const k=t.find(j=>j.id===a)||t[0],E=j=>Math.max(1,(j.activeMs||0)/1e3),A=[...e.defensePlayers].map(j=>{var z,Y,W;return{...j,total:((z=j.defenseTotals)==null?void 0:z[k.id])||0,per1s:(((Y=j.defenseTotals)==null?void 0:Y[k.id])||0)/E(j),per60s:(((W=j.defenseTotals)==null?void 0:W[k.id])||0)*60/E(j)}}).sort((j,z)=>{const Y=S.key==="fightTime"?Number(j.activeMs||0):Number(o==="total"?j.total:o==="per1s"?j.per1s:j.per60s),W=S.key==="fightTime"?Number(z.activeMs||0):Number(o==="total"?z.total:o==="per1s"?z.per1s:z.per60s);return(S.dir==="desc"?W-Y:Y-W)||j.account.localeCompare(z.account)});return u.jsx(Ts,{expanded:f==="defense-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:k.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Defensive"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5",children:u.jsx(Pn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>te("value"),className:`text-right transition-colors ${S.key==="value"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",S.key==="value"?S.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>te("fightTime"),className:`text-right transition-colors ${S.key==="fightTime"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",S.key==="fightTime"?S.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:A.map((j,z)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:z+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(j.profession,j.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:j.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const Y=o==="total"?j.total:o==="per1s"?j.per1s:j.per60s;return c(Y,l&&o==="total"?0:2)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:j.activeMs?`${(j.activeMs/1e3).toFixed(1)}s`:"-"})]},`${k.id}-${j.account}-${z}`))})})})()})})]})},dae=({stats:e,DAMAGE_MITIGATION_METRICS:t,damageMitigationSearch:n,setDamageMitigationSearch:r,activeDamageMitigationStat:a,setActiveDamageMitigationStat:i,damageMitigationViewMode:o,setDamageMitigationViewMode:s,damageMitigationScope:l,setDamageMitigationScope:c,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:p,expandedSection:m,expandedSectionClosing:h,openExpandedSection:y,closeExpandedSection:x,isSectionVisible:g,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:S})=>{var C,N;const M=((C=t.find(L=>L.id==="totalMitigation"))==null?void 0:C.id)||((N=t[0])==null?void 0:N.id)||"totalMitigation",[O,R]=v.useState({key:"value",dir:"desc"}),[P,_]=v.useState({columnId:M,dir:"desc"}),I=m==="defense-mitigation",[Q,J]=v.useState([]),[re,he]=v.useState([]),[B,$]=v.useState([]),te=e.damageMitigationPlayers||[],k=e.damageMitigationMinions||[],E=l==="minions"?k:te,A=te.length>0||k.length>0,j=t.filter(L=>L.label.toLowerCase().includes(n.trim().toLowerCase())),z=t.map(L=>({id:L.id,label:L.label})),Y=z.filter(L=>L.label.toLowerCase().includes(n.trim().toLowerCase())),W=Q.length>0?t.filter(L=>Q.includes(L.id)):t,q=Array.from(new Map(E.map(L=>[L.account,L])).values()).map(L=>({id:L.account,label:L.account,icon:p(L.profession,L.professionList,"w-3 h-3")})),G=Array.from(new Map(k.map(L=>[L.minion,L])).values()).filter(L=>L==null?void 0:L.minion).map(L=>({id:String(L.minion),label:String(L.minion)})),D=new Set([...Q.map(L=>`column:${L}`),...re.map(L=>`player:${L}`)]),ee=L=>{R(ne=>({key:L,dir:ne.key===L&&ne.dir==="desc"?"asc":"desc"}))},fe=L=>f(L,d&&o==="total"?0:2);return u.jsxs("div",{id:"defense-mitigation","data-section-visible":g("defense-mitigation"),"data-section-first":b("defense-mitigation"),className:w("defense-mitigation",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="defense-mitigation"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(k1,{className:"w-5 h-5 text-emerald-300"}),"Defenses - Damage Mitigation"]}),u.jsx("button",{type:"button",onClick:()=>m==="defense-mitigation"?x():y("defense-mitigation"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="defense-mitigation"?"Close Damage Mitigation":"Expand Damage Mitigation",title:m==="defense-mitigation"?"Close":"Expand",children:m==="defense-mitigation"?u.jsx(Va,{className:"w-4 h-4"}):u.jsx(Ni,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"text-xs text-amber-200/80 italic mb-3",children:"Damage mitigation is an estimate based on enemy skill damage averages and avoidance events (block/evade/miss/invuln/interrupted). Use it for relative comparison rather than exact prevention totals."}),A?I?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(po,{options:[...z.map(L=>({...L,type:"column"})),...q.map(L=>({...L,type:"player"}))],onSelect:L=>{L.type==="column"?J(ne=>ne.includes(L.id)?ne.filter(U=>U!==L.id):[...ne,L.id]):he(ne=>ne.includes(L.id)?ne.filter(U=>U!==L.id):[...ne,L.id])},selectedIds:D,className:"w-full sm:w-64"}),u.jsx(fr,{options:Y,selectedIds:Q,onToggle:L=>{J(ne=>ne.includes(L)?ne.filter(U=>U!==L):[...ne,L])},onClear:()=>J([]),buttonIcon:u.jsx(co,{className:"h-3.5 w-3.5"})}),u.jsx(fr,{options:q,selectedIds:re,onToggle:L=>{he(ne=>ne.includes(L)?ne.filter(U=>U!==L):[...ne,L])},onClear:()=>he([]),buttonLabel:"Players",buttonIcon:u.jsx(kr,{className:"h-3.5 w-3.5"})}),l==="minions"&&u.jsx(fr,{options:G,selectedIds:B,onToggle:L=>{$(ne=>ne.includes(L)?ne.filter(U=>U!==L):[...ne,L])},onClear:()=>$([]),buttonLabel:"Minions"}),u.jsx(Pn,{value:l,onChange:c,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(Pn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(Q.length>0||re.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{J([]),he([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),Q.map(L=>{var ne;const U=((ne=z.find(F=>F.id===L))==null?void 0:ne.label)||L;return u.jsxs("button",{type:"button",onClick:()=>J(F=>F.filter(se=>se!==L)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:U}),u.jsx("span",{className:"text-gray-400",children:""})]},L)}),re.map(L=>u.jsxs("button",{type:"button",onClick:()=>he(ne=>ne.filter(U=>U!==L)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:L}),u.jsx("span",{className:"text-gray-400",children:""})]},L))]}),l==="minions"&&B.length>0&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>$([]),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear Minions"}),B.map(L=>u.jsxs("button",{type:"button",onClick:()=>$(ne=>ne.filter(U=>U!==L)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:L}),u.jsx("span",{className:"text-gray-400",children:""})]},L))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:E.length===0?u.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):j.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No mitigation stats match this filter"}):(()=>{var L,ne;const U=ye=>Math.max(1,(ye.activeMs||0)/1e3),F=((L=W.find(ye=>ye.id===P.columnId))==null?void 0:L.id)||((ne=W[0])==null?void 0:ne.id)||"",se=[...E].filter(ye=>re.length===0||re.includes(ye.account)).filter(ye=>l!=="minions"||!B.length?!0:B.includes(String(ye.minion||""))).map(ye=>{const Ye={},le={};return W.forEach(Ve=>{var De;const pt=((De=ye.mitigationTotals)==null?void 0:De[Ve.id])||0,Ht=o==="total"?pt:o==="per1s"?pt/U(ye):pt*60/U(ye);le[Ve.id]=Ht,Ye[Ve.id]=fe(Ht)}),{row:ye,values:Ye,numericValues:le}}).sort((ye,Ye)=>{const le=ye.numericValues[F]??0,Ve=Ye.numericValues[F]??0;return(P.dir==="desc"?Ve-le:le-Ve)||String(ye.row.account||"").localeCompare(String(Ye.row.account||""))});return u.jsx(fo,{title:"Damage Mitigation - Dense View",subtitle:"Defensive",sortColumnId:F,sortDirection:P.dir,onSortColumn:ye=>{_(Ye=>({columnId:ye,dir:Ye.columnId===ye&&Ye.dir==="desc"?"asc":"desc"}))},columns:W.map(ye=>({id:ye.id,label:ye.label,align:"right",minWidth:90})),rows:se.map((ye,Ye)=>({id:`${ye.row.account}-${ye.row.minion||"player"}-${Ye}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:Ye+1}),p(ye.row.profession,ye.row.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"truncate",children:ye.row.account}),ye.row.minion&&u.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:ye.row.minion})]})]}),values:ye.values}))})})()})]}):u.jsx(Es,{expanded:m==="defense-mitigation",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="defense-mitigation"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="defense-mitigation"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),u.jsx("input",{value:n,onChange:L=>r(L.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2 mt-2"}),u.jsx("div",{className:`${S} ${m==="defense-mitigation"?"max-h-none flex-1 min-h-0":""}`,children:j.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No mitigation stats match this filter"}):j.map(L=>u.jsx("button",{onClick:()=>i(L.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===L.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:L.label},L.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const L=t.find(F=>F.id===a)||t[0],ne=F=>Math.max(1,(F.activeMs||0)/1e3),U=[...E].map(F=>{var se,ye,Ye;return{...F,total:((se=F.mitigationTotals)==null?void 0:se[L.id])||0,per1s:(((ye=F.mitigationTotals)==null?void 0:ye[L.id])||0)/ne(F),per60s:(((Ye=F.mitigationTotals)==null?void 0:Ye[L.id])||0)*60/ne(F)}}).filter(F=>l!=="minions"||!B.length?!0:B.includes(String(F.minion||""))).sort((F,se)=>{const ye=O.key==="fightTime"?Number(F.activeMs||0):Number(o==="total"?F.total:o==="per1s"?F.per1s:F.per60s),Ye=O.key==="fightTime"?Number(se.activeMs||0):Number(o==="total"?se.total:o==="per1s"?se.per1s:se.per60s);return(O.dir==="desc"?Ye-ye:ye-Ye)||F.account.localeCompare(se.account)});return u.jsx(Ts,{expanded:m==="defense-mitigation",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:L.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Mitigation"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"px-4 py-2 bg-white/5",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Pn,{value:l,onChange:c,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx("div",{className:"ml-auto",children:u.jsx(Pn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})})]})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>ee("value"),className:`text-right transition-colors ${O.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",O.key==="value"?O.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>ee("fightTime"),className:`text-right transition-colors ${O.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",O.key==="fightTime"?O.dir==="desc"?" ":" ":""]})]})]}),rows:U.length===0?u.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):u.jsx(u.Fragment,{children:U.map((F,se)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:se+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[p(F.profession,F.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"truncate",children:F.account}),F.minion&&u.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:F.minion})]})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const ye=o==="total"?F.total:o==="per1s"?F.per1s:F.per60s;return fe(ye)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:F.activeMs?`${(F.activeMs/1e3).toFixed(1)}s`:"-"})]},`${L.id}-${F.account}-${F.minion||"player"}-${se}`))})})})()})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No damage mitigation stats available"})]})},fae=({stats:e,SUPPORT_METRICS:t,supportSearch:n,setSupportSearch:r,activeSupportStat:a,setActiveSupportStat:i,supportViewMode:o,setSupportViewMode:s,cleanseScope:l,setCleanseScope:c,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:p,expandedSection:m,expandedSectionClosing:h,openExpandedSection:y,closeExpandedSection:x,isSectionVisible:g,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:S})=>{var C;const[N,M]=v.useState({key:"value",dir:"desc"}),[O,R]=v.useState({columnId:((C=t[0])==null?void 0:C.id)||"value",dir:"desc"}),P=m==="support-detailed",[_,I]=v.useState([]),[Q,J]=v.useState([]),re=t.filter(A=>A.label.toLowerCase().includes(n.trim().toLowerCase())),he=t.map(A=>({id:A.id,label:A.label})),B=he.filter(A=>A.label.toLowerCase().includes(n.trim().toLowerCase())),$=_.length>0?t.filter(A=>_.includes(A.id)):t,te=Array.from(new Map(e.supportPlayers.map(A=>[A.account,A])).values()).map(A=>({id:A.account,label:A.account,icon:p(A.profession,A.professionList,"w-3 h-3")})),k=new Set([..._.map(A=>`column:${A}`),...Q.map(A=>`player:${A}`)]),E=A=>{M(j=>({key:A,dir:j.key===A&&j.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"support-detailed","data-section-visible":g("support-detailed"),"data-section-first":b("support-detailed"),className:w("support-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="support-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(b1,{className:"w-5 h-5 text-emerald-300"}),"Support - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>m==="support-detailed"?x():y("support-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="support-detailed"?"Close Support Detailed":"Expand Support Detailed",title:m==="support-detailed"?"Close":"Expand",children:m==="support-detailed"?u.jsx(Va,{className:"w-4 h-4"}):u.jsx(Ni,{className:"w-4 h-4"})})]}),e.supportPlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No support stats available"}):P?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(po,{options:[...he.map(A=>({...A,type:"column"})),...te.map(A=>({...A,type:"player"}))],onSelect:A=>{A.type==="column"?I(j=>j.includes(A.id)?j.filter(z=>z!==A.id):[...j,A.id]):J(j=>j.includes(A.id)?j.filter(z=>z!==A.id):[...j,A.id])},selectedIds:k,className:"w-full sm:w-64"}),u.jsx(fr,{options:B,selectedIds:_,onToggle:A=>{I(j=>j.includes(A)?j.filter(z=>z!==A):[...j,A])},onClear:()=>I([]),buttonIcon:u.jsx(co,{className:"h-3.5 w-3.5"})}),u.jsx(fr,{options:te,selectedIds:Q,onToggle:A=>{J(j=>j.includes(A)?j.filter(z=>z!==A):[...j,A])},onClear:()=>J([]),buttonLabel:"Players",buttonIcon:u.jsx(kr,{className:"h-3.5 w-3.5"})}),u.jsx(Pn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),a==="condiCleanse"&&u.jsx(Pn,{value:l,onChange:c,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(_.length>0||Q.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{I([]),J([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),_.map(A=>{var j;const z=((j=he.find(Y=>Y.id===A))==null?void 0:j.label)||A;return u.jsxs("button",{type:"button",onClick:()=>I(Y=>Y.filter(W=>W!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:z}),u.jsx("span",{className:"text-gray-400",children:""})]},A)}),Q.map(A=>u.jsxs("button",{type:"button",onClick:()=>J(j=>j.filter(z=>z!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:A}),u.jsx("span",{className:"text-gray-400",children:""})]},A))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:re.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No support stats match this filter"}):(()=>{var A,j;const z=(D,ee)=>{var fe,L,ne;if(ee==="condiCleanse"){const U=((fe=D.supportTotals)==null?void 0:fe.condiCleanse)||0,F=((L=D.supportTotals)==null?void 0:L.condiCleanseSelf)||0;return l==="all"?U+F:U}return((ne=D.supportTotals)==null?void 0:ne[ee])||0},Y=D=>Math.max(1,(D.activeMs||0)/1e3),W=(D,ee)=>{const fe=D.isTime?1:d&&o==="total"?0:2;return f(ee,fe)},q=((A=$.find(D=>D.id===O.columnId))==null?void 0:A.id)||((j=$[0])==null?void 0:j.id)||"",G=[...e.supportPlayers].filter(D=>Q.length===0||Q.includes(D.account)).map(D=>{const ee={},fe={};return $.forEach(L=>{const ne=z(D,L.id),U=o==="total"?ne:o==="per1s"?ne/Y(D):ne*60/Y(D);fe[L.id]=U,ee[L.id]=W(L,U)}),{row:D,values:ee,numericValues:fe}}).sort((D,ee)=>{const fe=D.numericValues[q]??0,L=ee.numericValues[q]??0;return(O.dir==="desc"?L-fe:fe-L)||String(D.row.account||"").localeCompare(String(ee.row.account||""))});return u.jsx(fo,{title:"Support - Dense View",subtitle:"Support",sortColumnId:q,sortDirection:O.dir,onSortColumn:D=>{R(ee=>({columnId:D,dir:ee.columnId===D&&ee.dir==="desc"?"asc":"desc"}))},columns:$.map(D=>({id:D.id,label:D.label,align:"right",minWidth:90})),rows:G.map((D,ee)=>({id:`${D.row.account}-${ee}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:ee+1}),p(D.row.profession,D.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:D.row.account})]}),values:D.values}))})})()})]}):u.jsx(Es,{expanded:m==="support-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="support-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="support-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),u.jsx("input",{value:n,onChange:A=>r(A.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${S} ${m==="support-detailed"?"max-h-none flex-1 min-h-0":""}`,children:re.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No support stats match this filter"}):re.map(A=>u.jsx("button",{onClick:()=>i(A.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===A.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:A.label},A.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const A=t.find(W=>W.id===a)||t[0],j=W=>{var q,G,D;if(A.id==="condiCleanse"){const ee=((q=W.supportTotals)==null?void 0:q.condiCleanse)||0,fe=((G=W.supportTotals)==null?void 0:G.condiCleanseSelf)||0;return l==="all"?ee+fe:ee}return((D=W.supportTotals)==null?void 0:D[A.id])||0},z=W=>Math.max(1,(W.activeMs||0)/1e3),Y=[...e.supportPlayers].map(W=>({...W,total:j(W),per1s:j(W)/z(W),per60s:j(W)*60/z(W)})).sort((W,q)=>{const G=N.key==="fightTime"?Number(W.activeMs||0):Number(o==="total"?W.total:o==="per1s"?W.per1s:W.per60s),D=N.key==="fightTime"?Number(q.activeMs||0):Number(o==="total"?q.total:o==="per1s"?q.per1s:q.per60s);return(N.dir==="desc"?D-G:G-D)||W.account.localeCompare(q.account)});return u.jsx(Ts,{expanded:m==="support-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:A.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Support"})]}),columns:u.jsxs(u.Fragment,{children:[A.id==="condiCleanse"?u.jsxs("div",{className:"flex flex-wrap items-center gap-2 px-4 py-2 bg-white/5",children:[u.jsx(Pn,{value:l,onChange:c,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(Pn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],className:"sm:ml-auto",activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}):u.jsx("div",{className:"flex flex-wrap items-center justify-start sm:justify-end px-4 py-2 bg-white/5",children:u.jsx(Pn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>E("value"),className:`text-right transition-colors ${N.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",N.key==="value"?N.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>E("fightTime"),className:`text-right transition-colors ${N.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",N.key==="fightTime"?N.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:Y.map((W,q)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:q+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[p(W.profession,W.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:W.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const G=o==="total"?W.total:o==="per1s"?W.per1s:W.per60s,D=A.isTime?1:d&&o==="total"?0:2;return f(G,D)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:W.activeMs?`${(W.activeMs/1e3).toFixed(1)}s`:"-"})]},`${A.id}-${W.account}-${q}`))})})})()})})]})},pae=({stats:e,HEALING_METRICS:t,activeHealingMetric:n,setActiveHealingMetric:r,healingCategory:a,setHealingCategory:i,activeResUtilitySkill:o,setActiveResUtilitySkill:s,skillUsageData:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:p,openExpandedSection:m,closeExpandedSection:h,isSectionVisible:y,isFirstVisibleSection:x,sectionClass:g})=>{var b;const[w,S]=v.useState({key:"value",dir:"desc"}),[C,N]=v.useState({columnId:((b=t[0])==null?void 0:b.id)||"value",dir:"desc"}),M=f==="healing-stats",[O,R]=v.useState([]),[P,_]=v.useState([]),I=Array.from(new Map(e.healingPlayers.map(B=>[B.account,B])).values()).map(B=>({id:B.account,label:B.account,icon:d(B.profession,B.professionList,"w-3 h-3")})),Q=new Set([...P.map(B=>`column:${B}`),...O.map(B=>`player:${B}`)]),J=t.map(B=>({id:B.id,label:B.label})),re=P.length>0?t.filter(B=>P.includes(B.id)):t,he=B=>{S($=>({key:B,dir:$.key===B&&$.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"healing-stats","data-section-visible":y("healing-stats"),"data-section-first":x("healing-stats"),className:g("healing-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="healing-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(nO,{className:"w-5 h-5 text-lime-300"}),"Healing Stats"]}),u.jsx("button",{type:"button",onClick:()=>f==="healing-stats"?h():m("healing-stats"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="healing-stats"?"Close Healing Stats":"Expand Healing Stats",title:f==="healing-stats"?"Close":"Expand",children:f==="healing-stats"?u.jsx(Va,{className:"w-4 h-4"}):u.jsx(Ni,{className:"w-4 h-4"})})]}),e.healingPlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No healing stats available"}):M?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(po,{options:[...J.map(B=>({...B,type:"column"})),...I.map(B=>({...B,type:"player"}))],onSelect:B=>{B.type==="column"?_($=>$.includes(B.id)?$.filter(te=>te!==B.id):[...$,B.id]):R($=>$.includes(B.id)?$.filter(te=>te!==B.id):[...$,B.id])},selectedIds:Q,className:"w-full sm:w-64"}),u.jsx(Pn,{value:a,onChange:i,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(fr,{options:J,selectedIds:P,onToggle:B=>{_($=>$.includes(B)?$.filter(te=>te!==B):[...$,B])},onClear:()=>_([]),buttonIcon:u.jsx(co,{className:"h-3.5 w-3.5"})}),u.jsx(Pn,{value:o,onChange:s,options:[{value:"all",label:"All Res Utility"},...(l.resUtilitySkills||[]).map(B=>({value:B.id,label:B.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(fr,{options:I,selectedIds:O,onToggle:B=>{R($=>$.includes(B)?$.filter(te=>te!==B):[...$,B])},onClear:()=>R([]),buttonLabel:"Players",buttonIcon:u.jsx(kr,{className:"h-3.5 w-3.5"})})]}),(P.length>0||O.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{_([]),R([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),P.map(B=>{var $;const te=(($=J.find(k=>k.id===B))==null?void 0:$.label)||B;return u.jsxs("button",{type:"button",onClick:()=>_(k=>k.filter(E=>E!==B)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:te}),u.jsx("span",{className:"text-gray-400",children:""})]},B)}),O.map(B=>u.jsxs("button",{type:"button",onClick:()=>R($=>$.filter(te=>te!==B)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:B}),u.jsx("span",{className:"text-gray-400",children:""})]},B))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:(()=>{var B,$;const te=j=>Math.max(1,(j.activeMs||0)/1e3),k=j=>{const z=j.baseField==="resUtility",Y=z||a==="total"?"":a==="offSquad"?"offSquad":a;return z?o==="all"?"resUtility":`resUtility_${o}`:Y?`${Y}${j.baseField[0].toUpperCase()}${j.baseField.slice(1)}`:j.baseField},E=[...e.healingPlayers].filter(j=>O.length===0||O.includes(j.account)).filter(j=>Object.values(j.healingTotals||{}).some(z=>Number(z)>0)).map(j=>{const z={},Y={};return re.forEach(W=>{var q;const G=k(W),D=Number(((q=j.healingTotals)==null?void 0:q[G])??0),ee=W.perSecond?D/te(j):D;Y[W.id]=ee,z[W.id]=c(ee,W.decimals)}),{row:j,values:z,numericValues:Y}}).sort((j,z)=>{var Y,W;const q=((Y=re.find(ee=>ee.id===C.columnId))==null?void 0:Y.id)||((W=re[0])==null?void 0:W.id)||"",G=j.numericValues[q]??0,D=z.numericValues[q]??0;return(C.dir==="desc"?D-G:G-D)||String(j.row.account||"").localeCompare(String(z.row.account||""))}),A=((B=re.find(j=>j.id===C.columnId))==null?void 0:B.id)||(($=re[0])==null?void 0:$.id)||"";return u.jsx(fo,{title:"Healing - Dense View",subtitle:"Healing",sortColumnId:A,sortDirection:C.dir,onSortColumn:j=>{N(z=>({columnId:j,dir:z.columnId===j&&z.dir==="desc"?"asc":"desc"}))},columns:re.map(j=>({id:j.id,label:j.label,align:"right",minWidth:90})),rows:E.map((j,z)=>({id:`${j.row.account}-${z}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:z+1}),d(j.row.profession,j.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:j.row.account})]}),values:j.values}))})})()})]}):u.jsx(Es,{expanded:f==="healing-stats",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="healing-stats"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="healing-stats"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),u.jsx("div",{className:"flex-1 overflow-y-auto space-y-1 pr-1",children:t.map(B=>u.jsx("button",{onClick:()=>r(B.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${n===B.id?"bg-lime-500/20 text-lime-200 border-lime-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:B.label},B.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const B=t.find(j=>j.id===n)||t[0],$=B.baseField==="resUtility",te=j=>Math.max(1,(j.activeMs||0)/1e3),k=$||a==="total"?"":a==="offSquad"?"offSquad":a,E=$?o==="all"?"resUtility":`resUtility_${o}`:k?`${k}${B.baseField[0].toUpperCase()}${B.baseField.slice(1)}`:B.baseField,A=[...e.healingPlayers].filter(j=>Object.values(j.healingTotals||{}).some(z=>Number(z)>0)).map(j=>{var z;const Y=Number(((z=j.healingTotals)==null?void 0:z[E])??0),W=B.perSecond?Y/te(j):Y;return{...j,value:W}}).sort((j,z)=>{const Y=w.key==="fightTime"?Number(j.activeMs||0):Number(j.value||0),W=w.key==="fightTime"?Number(z.activeMs||0):Number(z.value||0);return(w.dir==="desc"?W-Y:Y-W)||j.account.localeCompare(z.account)});return u.jsx(Ts,{expanded:f==="healing-stats",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:B.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Healing"})]}),columns:u.jsxs(u.Fragment,{children:[$&&u.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5 flex-wrap",children:u.jsx(Pn,{value:o,onChange:s,options:[{value:"all",label:"All"},...(l.resUtilitySkills||[]).map(j=>({value:j.id,label:j.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),!$&&u.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5",children:u.jsx(Pn,{value:a,onChange:i,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>he("value"),className:`text-right transition-colors ${w.key==="value"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:[B.label,w.key==="value"?w.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>he("fightTime"),className:`text-right transition-colors ${w.key==="fightTime"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",w.key==="fightTime"?w.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:A.length===0?u.jsx("div",{className:"px-4 py-6 text-sm text-gray-500 italic",children:"No healing data for this view"}):A.map((j,z)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:z+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(j.profession,j.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:j.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:c(j.value,B.decimals)}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:j.activeMs?`${(j.activeMs/1e3).toFixed(1)}s`:"-"})]},`${B.id}-${j.account}-${z}`))})})})()})})]})},mae=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}`:e:"",hae=({stats:e,specialSearch:t,setSpecialSearch:n,filteredSpecialTables:r,activeSpecialTab:a,setActiveSpecialTab:i,activeSpecialTable:o,formatWithCommas:s,renderProfessionIcon:l,expandedSection:c,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:p,isSectionVisible:m,isFirstVisibleSection:h,sectionClass:y,sidebarListClass:x})=>{const[g,b]=v.useState("total"),[w,S]=v.useState("desc"),[C,N]=v.useState({columnId:"",dir:"desc"}),M=c==="special-buffs",[O,R]=v.useState([]),[P,_]=v.useState([]),I=e.specialTables||[],Q=O.length>0?I.filter(k=>O.includes(k.id)):I,J=r.map(k=>({id:k.id,label:k.name,icon:k.icon?u.jsx("img",{src:k.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),re=Array.from(new Map((e.specialTables||[]).flatMap(k=>k.rows||[]).filter(k=>k.account).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:l(k.profession,k.professionList,"w-3 h-3")})),he=new Set([...O.map(k=>`column:${k}`),...P.map(k=>`player:${k}`)]),B=v.useMemo(()=>{if(!(o!=null&&o.rows))return[];const k=[...o.rows];return k.sort((E,A)=>{const j=Number((E==null?void 0:E[g])??0),z=Number((A==null?void 0:A[g])??0),Y=w==="desc"?z-j:j-z;return Y!==0?Y:String((E==null?void 0:E.account)||"").localeCompare(String((A==null?void 0:A.account)||""))}),k},[o,g,w]),$=k=>{if(g===k){S(E=>E==="desc"?"asc":"desc");return}b(k),S("desc")},te=k=>g!==k?"":w==="desc"?" ":" ";return u.jsxs("div",{id:"special-buffs","data-section-visible":m("special-buffs"),"data-section-first":h("special-buffs"),className:y("special-buffs",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${c==="special-buffs"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(s0,{className:"w-5 h-5 text-purple-300"}),"Special Buffs"]}),u.jsx("button",{type:"button",onClick:()=>c==="special-buffs"?p():f("special-buffs"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":c==="special-buffs"?"Close Special Buffs":"Expand Special Buffs",title:c==="special-buffs"?"Close":"Expand",children:c==="special-buffs"?u.jsx(Va,{className:"w-4 h-4"}):u.jsx(Ni,{className:"w-4 h-4"})})]}),e.specialTables.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No special buff data available"}):M?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(po,{options:[...I.map(k=>({id:k.id,label:k.name,type:"column"})),...Array.from(new Map((e.specialTables||[]).flatMap(k=>k.rows||[]).filter(k=>k.account).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,type:"player",icon:l(k.profession,k.professionList,"w-3 h-3")}))],onSelect:k=>{k.type==="column"?R(E=>E.includes(k.id)?E.filter(A=>A!==k.id):[...E,k.id]):_(E=>E.includes(k.id)?E.filter(A=>A!==k.id):[...E,k.id])},selectedIds:he,className:"w-full sm:w-64"}),u.jsx(fr,{options:J,selectedIds:O,onToggle:k=>{R(E=>E.includes(k)?E.filter(A=>A!==k):[...E,k])},onClear:()=>R([]),buttonIcon:u.jsx(co,{className:"h-3.5 w-3.5"})}),u.jsx(fr,{options:re,selectedIds:P,onToggle:k=>{_(E=>E.includes(k)?E.filter(A=>A!==k):[...E,k])},onClear:()=>_([]),buttonLabel:"Players",buttonIcon:u.jsx(kr,{className:"h-3.5 w-3.5"})}),u.jsx(Pn,{value:g,onChange:k=>b(k),options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"},{value:"duration",label:"Fight Time"}],activeClassName:"bg-purple-500/20 text-purple-200 border border-purple-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(O.length>0||P.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{R([]),_([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),O.map(k=>{var E;const A=((E=I.find(j=>j.id===k))==null?void 0:E.name)||k;return u.jsxs("button",{type:"button",onClick:()=>R(j=>j.filter(z=>z!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:A}),u.jsx("span",{className:"text-gray-400",children:""})]},k)}),P.map(k=>u.jsxs("button",{type:"button",onClick:()=>_(E=>E.filter(A=>A!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:k}),u.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:I.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No special buffs match this filter"}):(()=>{var k,E;const A=Q,j=new Map,z=new Map;A.forEach(G=>{const D=new Map;G.rows.forEach(ee=>{const fe=ee.account||ee.name||ee.id;fe&&(D.set(fe,ee),z.has(fe)||z.set(fe,ee))}),j.set(G.id,D)});const Y=Array.from(z.entries()).filter(([G])=>P.length===0||P.includes(String(G))).map(([G,D])=>{const ee={},fe={};return A.forEach(L=>{var ne;const U=(ne=j.get(L.id))==null?void 0:ne.get(G);if(!U){ee[L.id]="-",fe[L.id]=0;return}if(g==="duration"){ee[L.id]=U.duration?`${U.duration.toFixed(1)}s`:"-",fe[L.id]=Number(U.duration||0);return}const F=g==="total"?U.total:U.perSecond,se=g==="total"?0:1;fe[L.id]=Number(F||0),ee[L.id]=s(F||0,se)}),{key:G,row:D,values:ee,numericValues:fe}}),W=((k=A.find(G=>G.id===C.columnId))==null?void 0:k.id)||(a&&A.some(G=>G.id===a)?a:void 0)||((E=A[0])==null?void 0:E.id)||"",q=[...Y].sort((G,D)=>{if(!W)return String(G.key).localeCompare(String(D.key));const ee=G.numericValues[W]??0,fe=D.numericValues[W]??0;return(C.dir==="desc"?fe-ee:ee-fe)||String(G.key).localeCompare(String(D.key))});return u.jsx(fo,{title:"Special Buffs - Dense View",subtitle:"Totals",sortColumnId:W,sortDirection:C.dir,onSortColumn:G=>{N(D=>({columnId:G,dir:D.columnId===G&&D.dir==="desc"?"asc":"desc"}))},columns:A.map(G=>({id:G.id,label:u.jsx(Sr,{name:G.name,iconUrl:G.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:q.map((G,D)=>({id:`${G.key}-${D}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:D+1}),l(G.row.profession,G.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:G.row.account||G.row.name||G.key})]}),values:G.values}))})})()})]}):u.jsx(Es,{expanded:c==="special-buffs",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${c==="special-buffs"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${c==="special-buffs"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),u.jsx("input",{value:t,onChange:k=>n(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${x} ${c==="special-buffs"?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No special buffs match this filter"}):r.map(k=>u.jsx("button",{onClick:()=>i(k.id),title:k.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===k.id?"bg-purple-500/20 text-purple-200 border-purple-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Sr,{name:mae(k.name),iconUrl:k.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},k.id))})]}),content:u.jsx(u.Fragment,{children:o?u.jsx(Ts,{expanded:c==="special-buffs",maxHeightClass:"max-h-64",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(Sr,{name:o.name,iconUrl:o.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Totals"})]}),columns:u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>$("total"),className:`text-right transition-colors ${g==="total"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Total",te("total")]}),u.jsxs("button",{type:"button",onClick:()=>$("perSecond"),className:`text-right transition-colors ${g==="perSecond"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Per Sec",te("perSecond")]}),u.jsxs("button",{type:"button",onClick:()=>$("duration"),className:`text-right transition-colors ${g==="duration"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",te("duration")]})]}),rows:u.jsx(u.Fragment,{children:B.map((k,E)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:E+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(k.profession,k.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:k.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:Math.round(k.total).toLocaleString()}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:s(k.perSecond,1)}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:k.duration?`${k.duration.toFixed(1)}s`:"-"})]},`${o.id}-${k.account}-${E}`))})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a special buff to view details"})})})]})},gae=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}...`:e:"",yae=({hasSigilRelicTables:e,sigilRelicSearch:t,setSigilRelicSearch:n,filteredSigilRelicTables:r,activeSigilRelicTab:a,setActiveSigilRelicTab:i,activeSigilRelicTable:o,formatWithCommas:s,renderProfessionIcon:l,expandedSection:c,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:p,isSectionVisible:m,isFirstVisibleSection:h,sectionClass:y,sidebarListClass:x})=>{const[g,b]=v.useState("desc"),w=c==="sigil-relic-uptime",S=v.useMemo(()=>{if(!(o!=null&&o.rows))return[];const C=[...o.rows];return C.sort((N,M)=>{const O=Number((N==null?void 0:N.uptimePerSecond)??(N==null?void 0:N.perSecond)??0),R=Number((M==null?void 0:M.uptimePerSecond)??(M==null?void 0:M.perSecond)??0),P=g==="desc"?R-O:O-R;return P!==0?P:String((N==null?void 0:N.account)||"").localeCompare(String((M==null?void 0:M.account)||""))}),C},[o,g]);return u.jsxs("div",{id:"sigil-relic-uptime","data-section-visible":m("sigil-relic-uptime"),"data-section-first":h("sigil-relic-uptime"),className:y("sigil-relic-uptime",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${c==="sigil-relic-uptime"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(S1,{className:"w-5 h-5 text-fuchsia-300"}),"Sigil/Relic Uptime"]}),u.jsx("button",{type:"button",onClick:()=>c==="sigil-relic-uptime"?p():f("sigil-relic-uptime"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":c==="sigil-relic-uptime"?"Close Sigil/Relic Uptime":"Expand Sigil/Relic Uptime",title:c==="sigil-relic-uptime"?"Close":"Expand",children:c==="sigil-relic-uptime"?u.jsx(Va,{className:"w-4 h-4"}):u.jsx(Ni,{className:"w-4 h-4"})})]}),e?u.jsx(Es,{expanded:w,sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${w?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${w?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Sigil/Relic"}),u.jsx("input",{value:t,onChange:C=>n(C.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${x} ${w?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No sigil/relic entries match this filter"}):r.map(C=>u.jsx("button",{onClick:()=>i(C.id),title:C.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===C.id?"bg-fuchsia-500/20 text-fuchsia-200 border-fuchsia-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(Sr,{name:gae(C.name),iconUrl:C.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},C.id))})]}),content:u.jsx(u.Fragment,{children:o?u.jsx(Ts,{expanded:w,maxHeightClass:"max-h-72",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(Sr,{name:o.name,iconUrl:o.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Uptime"})]}),columns:u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>b(C=>C==="desc"?"asc":"desc"),className:"text-right transition-colors text-gray-400 hover:text-gray-200",children:["Uptime ",g==="desc"?"":""]})]}),rows:u.jsx(u.Fragment,{children:S.map((C,N)=>{const M=Number(C.uptimePerSecond??C.perSecond??0)*100;return u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:N+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(C.profession,C.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:C.account})]}),u.jsxs("div",{className:"text-right font-mono text-gray-300",children:[s(M,1),"%"]})]},`${o.id}-${C.account}-${N}`)})})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a sigil/relic to view uptime"})})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No sigil/relic uptime data available"})]})},vae=({stats:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>u.jsxs(u.Fragment,{children:[u.jsx("div",{id:"kdr",className:"scroll-mt-24"}),u.jsxs("div",{id:"overview","data-section-visible":t("overview"),"data-section-first":n("overview"),className:r("overview","grid grid-cols-1 md:grid-cols-2 gap-4 scroll-mt-24"),children:[u.jsx("div",{className:"overview-card overview-card--green bg-gradient-to-br from-green-500/20 to-emerald-900/20 border border-green-500/30 rounded-2xl px-5 py-4",children:u.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.avgSquadSize}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Avg Squad"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-black text-green-300 leading-none",children:e.wins}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/50 mt-1",children:"Victories"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.squadKDR}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Squad KDR"})]})]})}),u.jsx("div",{className:"overview-card overview-card--red bg-gradient-to-br from-red-500/20 to-rose-900/20 border border-red-500/30 rounded-2xl px-5 py-4",children:u.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.avgEnemies}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Avg Enemies"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-black text-red-300 leading-none",children:e.losses}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/50 mt-1",children:"Defeats"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.enemyKDR}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Enemy KDR"})]})]})})]})]}),bae=({stats:e,fightBreakdownTab:t,setFightBreakdownTab:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>{var o;const s=v.useMemo(()=>{const c=new Map;return(Array.isArray(e==null?void 0:e.fightBreakdown)?e.fightBreakdown:[]).forEach(d=>{(Array.isArray(d==null?void 0:d.teamBreakdown)?d.teamBreakdown:[]).forEach(f=>{const p=String((f==null?void 0:f.teamId)??"").trim(),m=Number((f==null?void 0:f.count)||0);!p||!Number.isFinite(m)||m<=0||c.set(p,(c.get(p)||0)+m)})}),Array.from(c.entries()).sort((d,f)=>{const p=f[1]-d[1];return p!==0?p:d[0].localeCompare(f[0],void 0,{numeric:!0})}).map(([d])=>d)},[e==null?void 0:e.fightBreakdown]),l=c=>{const d=c==null?void 0:c.timestamp;let f=0;if(typeof d=="number")f=d>1e12?d:d*1e3;else if(typeof d=="string"&&d.trim()){const y=Number(d);if(Number.isFinite(y)&&y>0)f=y>1e12?y:y*1e3;else{const x=Date.parse(d);Number.isFinite(x)&&x>0&&(f=x)}}const p=f>0?new Date(f).toLocaleDateString(void 0,{month:"2-digit",day:"2-digit"})+" "+new Date(f).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"}):"--",m=(c==null?void 0:c.mapName)||(c==null?void 0:c.map)||"Unknown Map",h=String(m).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim();return`${p}  ${h}`};return u.jsx("div",{id:"fight-breakdown","data-section-visible":r("fight-breakdown"),"data-section-first":a("fight-breakdown"),className:i("fight-breakdown","mt-6 stats-share-exclude"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:items-center sm:justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-200",children:"Fight Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(Pn,{value:t,onChange:n,options:[{value:"sizes",label:"Sizes"},{value:"outcomes",label:"Outcome"},{value:"damage",label:"Damage"},{value:"barrier",label:"Barrier"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsxs("span",{className:"text-[10px] uppercase tracking-widest text-gray-500 sm:ml-1 w-full sm:w-auto",children:[((o=e.fightBreakdown)==null?void 0:o.length)||0," Fights"]})]})]}),(e.fightBreakdown||[]).length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight data available"}):u.jsx("div",{className:"overflow-x-auto",children:u.jsx("div",{className:"max-h-[360px] overflow-y-auto",children:u.jsxs("table",{className:"w-full text-xs table-auto min-w-[720px]",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-right py-2 px-2 w-8",children:"#"}),u.jsx("th",{className:"text-left py-2 px-3 w-[240px]",children:"Report"}),u.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Duration"}),u.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Outcome"}),t==="sizes"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Squad"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemies"}),s.length===0?u.jsx("th",{className:"text-right py-2 px-3",children:"Teams"}):s.map(c=>u.jsx("th",{className:"text-right py-2 px-3",children:`Team ${c}`},c))]}),t==="outcomes"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Down"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Dead"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Revived"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Rallies"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Downs"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Deaths"})]}),t==="damage"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Outgoing Dmg"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Incoming Dmg"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]}),t==="barrier"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",title:"Incoming damage mitigated by your squad's barrier",children:"Barrier Absorption"}),u.jsx("th",{className:"text-right py-2 px-3",title:"Outgoing damage mitigated by enemy barrier",children:"Enemy Barrier Absorption"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})]})}),u.jsx("tbody",{children:(e.fightBreakdown||[]).map((c,d)=>u.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[u.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-500 w-8",children:d+1}),u.jsx("td",{className:"py-2 px-3 w-[240px]",children:c.permalink?u.jsx("button",{onClick:()=>{var f;c.permalink&&(f=window.electronAPI)!=null&&f.openExternal?window.electronAPI.openExternal(c.permalink):c.permalink&&window.open(c.permalink,"_blank")},className:"text-cyan-300 hover:text-cyan-200 underline underline-offset-2 block truncate",children:l(c)}):u.jsx("span",{className:"text-gray-500",children:"Pending"})}),u.jsx("td",{className:"py-2 px-3 text-gray-200 w-20",children:c.duration||"--:--"}),u.jsx("td",{className:`py-2 px-3 font-semibold ${c.isWin?"text-emerald-300":"text-red-300"}`,children:c.isWin?"Win":"Loss"}),t==="sizes"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(jv,{count:c.squadCount??0,classCounts:c.squadClassCountsFight,label:"Squad Classes",className:"text-gray-200"})}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(jv,{count:c.allyCount??0,classCounts:c.allyClassCountsFight,label:"Ally Classes",className:"text-gray-200"})}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(jv,{count:c.enemyCount??0,classCounts:c.enemyClassCounts,label:"Enemy Classes",className:"text-gray-200"})}),s.length===0?u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:"0"}):s.map(f=>{const p=(Array.isArray(c.teamBreakdown)?c.teamBreakdown:[]).find(m=>String((m==null?void 0:m.teamId)??"")===f);return u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:Number((p==null?void 0:p.count)||0)},f)})]}),t==="outcomes"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesDown??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesDead??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesRevived??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.rallies??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.enemyDowns??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.enemyDeaths??0})]}),t==="damage"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.totalOutgoingDamage||0).toLocaleString()}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.totalIncomingDamage||0).toLocaleString()}),(()=>{const f=Number((c.totalOutgoingDamage||0)-(c.totalIncomingDamage||0));return u.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-red-300":"text-emerald-300"}`,children:f.toLocaleString()})})()]}),t==="barrier"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.incomingBarrierAbsorbed||0).toLocaleString()}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.outgoingBarrierAbsorbed||0).toLocaleString()}),(()=>{const f=Number((c.outgoingBarrierAbsorbed||0)-(c.incomingBarrierAbsorbed||0));return u.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-emerald-300":"text-red-300"}`,children:f.toLocaleString()})})()]})]},c.id||`${c.label}-${d}`))})]})})})]})})},IA={red:{bg:"bg-red-500/20",text:"text-red-400"},yellow:{bg:"bg-yellow-500/20",text:"text-yellow-400"},green:{bg:"bg-green-500/20",text:"text-green-400"},purple:{bg:"bg-purple-500/20",text:"text-purple-400"},blue:{bg:"bg-blue-500/20",text:"text-blue-400"},pink:{bg:"bg-pink-500/20",text:"text-pink-400"},cyan:{bg:"bg-cyan-500/20",text:"text-cyan-400"},indigo:{bg:"bg-indigo-500/20",text:"text-indigo-400"}},xae=({icon:e,title:t,data:n,color:r,unit:a="",onClick:i,active:o,rows:s,formatValue:l,renderProfessionIcon:c})=>{const d=IA[r]||IA.blue,f=(n==null?void 0:n.value)??0,p=l?l(f):Math.round(f).toLocaleString();return u.jsxs("div",{role:"button",tabIndex:0,onClick:i,onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),i==null||i())},className:`bg-white/5 border border-white/10 rounded-xl p-4 flex flex-col gap-3 group hover:bg-white/10 transition-colors cursor-pointer ${o?"ring-1 ring-white/20":""}`,children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:`p-3 rounded-lg ${d.bg} ${d.text} shrink-0`,children:u.jsx(e,{className:"w-6 h-6"})}),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("div",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider truncate",children:t}),u.jsxs("div",{className:"text-2xl font-bold text-white mt-0.5 break-words",children:[p," ",u.jsx("span",{className:"text-sm font-normal text-gray-500",children:a})]})]})]}),u.jsxs("div",{className:"flex flex-col border-t border-white/5 pt-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c((n==null?void 0:n.profession)||"Unknown",n==null?void 0:n.professionList,"w-4 h-4"),u.jsx("div",{className:"text-sm font-medium text-blue-300 truncate",children:(n==null?void 0:n.player)||"-"})]}),u.jsx("div",{className:"text-xs text-gray-500 truncate",children:n!=null&&n.count?`${n.count} logs`:"-"})]}),o&&u.jsxs("div",{className:"mt-3 stats-share-exclude",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-200 mb-2",children:t}),s!=null&&s.length?u.jsx("div",{className:"max-h-56 overflow-y-auto pr-1 space-y-1",children:s.map(m=>u.jsxs("div",{className:"flex items-center gap-2 min-w-0 text-xs text-gray-300",children:[u.jsx("div",{className:"w-6 shrink-0 text-right text-gray-500",children:m.rank}),u.jsx("div",{className:"shrink-0",children:c(m.profession,m.professionList,"w-4 h-4")}),u.jsx("div",{className:"flex-1 min-w-0 truncate",children:m.account}),u.jsx("div",{className:"shrink-0 text-gray-400 font-mono",children:l?l(m.value):m.value})]},`${t}-${m.rank}-${m.account}`))}):u.jsx("div",{className:"text-xs text-gray-500 italic",children:"No data available"})]})]})},wae=(e,t)=>{const n=(Array.isArray(e)?e:[]).map(i=>({...i,value:Number((i==null?void 0:i.value)??0)})).filter(i=>Number.isFinite(i.value)).sort((i,o)=>{const s=t?o.value-i.value:i.value-o.value;return s!==0?s:String((i==null?void 0:i.account)||"").localeCompare(String((o==null?void 0:o.account)||""))});let r=null,a=0;return n.map((i,o)=>((r===null||i.value!==r)&&(a=o+1,r=i.value),{...i,rank:a}))},_A=(e,t)=>{if(typeof e=="number"&&Number.isFinite(e))return t(e);if(typeof e=="string"){const n=Number(e.replace(/,/g,"").trim());return Number.isFinite(n)?t(n):e}return"--"},kae=({stats:e,showTopStats:t,showMvp:n,topStatsMode:r,expandedLeader:a,setExpandedLeader:i,formatTopStatValue:o,formatWithCommas:s,isMvpStatEnabled:l,renderProfessionIcon:c,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:p})=>t?u.jsxs("div",{id:"top-players","data-section-visible":d("top-players"),"data-section-first":f("top-players"),className:p("top-players","scroll-mt-24"),children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(oc,{className:"w-5 h-5 text-yellow-400"}),"Top Players (Total Accumulated Stats)"]}),n&&u.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[minmax(0,1.6fr)_minmax(0,0.9fr)] gap-3 mb-6",children:[u.jsxs("div",{className:"mvp-card mvp-card--gold border border-yellow-500/30 rounded-2xl p-3 relative overflow-hidden group flex items-center",children:[u.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-yellow-500/10 blur-[80px] rounded-full pointer-events-none group-hover:bg-yellow-500/20 transition-all"}),u.jsxs("div",{className:"flex items-center gap-5 relative z-10 w-full",children:[u.jsx("div",{className:"hidden sm:flex items-center justify-center w-20 h-20 rounded-full bg-yellow-500/20 border border-yellow-500/30 shadow-[0_0_20px_rgba(234,179,8,0.2)]",children:u.jsx(fB,{className:"w-10 h-10 text-yellow-400"})}),u.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(s0,{className:"w-4 h-4 text-yellow-400 animate-pulse"}),u.jsx("span",{className:"text-yellow-400 font-bold uppercase tracking-widest text-xs",children:"Squad MVP"})]}),u.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-white mb-2 flex flex-wrap items-center gap-2 sm:gap-3",children:[u.jsx("span",{className:"min-w-0 max-w-full truncate",children:e.mvp.account}),c(e.mvp.profession,e.mvp.professionList,"w-6 h-6"),u.jsx("span",{className:"text-sm sm:text-lg font-medium text-yellow-200/70 bg-white/5 px-2 py-0.5 rounded border border-yellow-500/20 max-w-full truncate",children:e.mvp.profession})]}),u.jsxs("p",{className:"text-yellow-200/80 italic flex items-center gap-2 mb-2",children:[u.jsx(Ih,{className:"w-4 h-4 text-yellow-400 fill-yellow-500/40"}),'"',e.mvp.reason,'"']}),u.jsx("div",{className:"mt-auto flex flex-wrap gap-2",children:e.mvp.topStats&&e.mvp.topStats.filter(m=>l(m.name)).map((m,h)=>u.jsxs("div",{className:"inline-flex items-baseline gap-2 px-2.5 py-0.5 bg-yellow-500/10 border border-yellow-500/30 rounded-full text-[11px] leading-none",children:[u.jsx("span",{className:"text-yellow-200 font-bold",children:m.name}),u.jsx("span",{className:"text-yellow-50 font-mono tabular-nums",children:_A(m.val,o)})]},h))})]}),u.jsxs("div",{className:"hidden lg:block text-right",children:[u.jsx("div",{className:"text-yellow-500/40 font-mono text-sm uppercase tracking-wider font-bold",children:"Contribution Score"}),u.jsx("div",{className:"text-4xl font-black text-yellow-500/80",children:e.mvp.score>0?e.mvp.score.toFixed(1):"-"}),u.jsxs("div",{className:"text-xs text-yellow-500/30 font-mono mt-1",children:["Avg: ",e.avgMvpScore.toFixed(1)]})]})]})]}),u.jsx("div",{className:"grid grid-cols-2 xl:grid-cols-1 gap-3",children:[{label:"Silver",data:e.silver},{label:"Bronze",data:e.bronze}].map(m=>{var h,y,x,g,b;return u.jsxs("div",{className:`mvp-card mvp-card--${m.label.toLowerCase()} border border-white/10 rounded-2xl p-3 relative overflow-hidden group flex flex-col`,children:[u.jsx("div",{className:`absolute top-0 right-0 w-48 h-48 rounded-full blur-[70px] pointer-events-none transition-all ${m.label==="Silver"?"bg-slate-300/15 group-hover:bg-slate-300/25":"bg-orange-400/15 group-hover:bg-orange-400/25"}`}),u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsxs("div",{className:`text-xs uppercase tracking-widest font-semibold ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:[m.label," MVP"]}),u.jsx("div",{className:"text-xs text-gray-500 font-mono",children:(h=m.data)!=null&&h.score?m.data.score.toFixed(1):"-"})]}),u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.data&&c(m.data.profession,m.data.professionList,"w-6 h-6"),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("div",{className:`text-base font-semibold ${m.label==="Silver"?"text-slate-100":"text-orange-100"} truncate`,children:((y=m.data)==null?void 0:y.account)||""}),u.jsx("div",{className:`text-xs ${m.label==="Silver"?"text-slate-300/70":"text-orange-200/70"} truncate`,children:((x=m.data)==null?void 0:x.profession)||"Unknown"})]})]}),(b=(g=m.data)==null?void 0:g.topStats)!=null&&b.some(w=>l(w.name))?u.jsx("div",{className:`mt-auto flex flex-wrap items-center gap-2 text-[10px] ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:m.data.topStats.filter(w=>l(w.name)).map((w,S)=>u.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full border leading-none ${m.label==="Silver"?"bg-slate-400/10 border-slate-300/30":"bg-orange-500/10 border-orange-400/30"}`,children:[u.jsx("span",{className:"leading-none",children:w.name}),u.jsx("span",{className:"tabular-nums leading-none",children:_A(w.val,o)})]},S))}):null]},m.label)})})]}),(()=>{const m=r==="perSecond",h=m&&e.topStatsPerSecond?e.topStatsPerSecond:e,y=m&&e.topStatsLeaderboardsPerSecond?e.topStatsLeaderboardsPerSecond:e.leaderboards,x=m?"":"Total ",g=m?" /s":"",b=[{icon:gB,title:`Down Contribution${g}`,data:h.maxDownContrib,color:"red",statKey:"downContrib",higherIsBetter:!0},{icon:Fu,title:`${x}Barrier${g}`,data:h.maxBarrier,color:"yellow",statKey:"barrier",higherIsBetter:!0},{icon:nO,title:`${x}Healing${g}`,data:h.maxHealing,color:"green",statKey:"healing",higherIsBetter:!0},{icon:NB,title:`${x}Dodges${g}`,data:h.maxDodges,color:"cyan",statKey:"dodges",higherIsBetter:!0},{icon:Af,title:`${x}Strips${g}`,data:h.maxStrips,color:"purple",statKey:"strips",higherIsBetter:!0},{icon:mB,title:`${x}Cleanses${g}`,data:h.maxCleanses,color:"blue",statKey:"cleanses",higherIsBetter:!0},{icon:hB,title:`${x}CC${g}`,data:h.maxCC,color:"pink",statKey:"cc",higherIsBetter:!0},{icon:oO,title:`${x}Stab Gen${g}`,data:h.maxStab,color:"cyan",statKey:"stability",higherIsBetter:!0},{icon:dB,title:"Closest to Tag",data:h.closestToTag,color:"indigo",unit:"dist",statKey:"closestToTag",higherIsBetter:!1}],w=S=>!m||!Number.isFinite(S)?o(S):s(S,2);return u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:b.map(S=>{var C,N,M,O;const R=a==="all",P=wae((y==null?void 0:y[S.statKey])||[],S.higherIsBetter),_=P[0],I=_?{...S.data,value:Number(_.value||0),player:_.account||((C=S.data)==null?void 0:C.player)||"-",count:_.count||((N=S.data)==null?void 0:N.count)||0,profession:_.profession||((M=S.data)==null?void 0:M.profession)||"Unknown",professionList:_.professionList||((O=S.data)==null?void 0:O.professionList)||[]}:S.data;return u.jsx(xae,{...S,data:I,active:R,onClick:()=>i(Q=>Q==="all"?null:"all"),rows:P,formatValue:w,renderProfessionIcon:c},S.statKey)})})})()]}):null,Sae=({stats:e,topSkillsMetric:t,onTopSkillsMetricChange:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>{const o=(t||e.topSkillsMetric)==="downContribution"?"downContribution":"damage",s=o==="downContribution",l=s?"Down Contrib":"Damage",c=o,d=Array.isArray(e.topSkillsByDamage)?e.topSkillsByDamage:null,f=Array.isArray(e.topSkillsByDownContribution)?e.topSkillsByDownContribution:null,p=v.useMemo(()=>s&&f?f:!s&&d?d:[...Array.isArray(e.topSkills)?e.topSkills:[]].sort((y,x)=>{const g=Number((y==null?void 0:y[c])||0);return Number((x==null?void 0:x[c])||0)-g||Number((x==null?void 0:x.hits)||0)-Number((y==null?void 0:y.hits)||0)||String((y==null?void 0:y.name)||"").localeCompare(String((x==null?void 0:x.name)||""))}),[s,d,f,e.topSkills,c]),m=v.useMemo(()=>Math.max(1,...p.map(y=>Number((y==null?void 0:y[c])||0))),[p,c]),h=typeof n=="function";return u.jsxs("div",{"data-section-visible":r("top-skills-outgoing"),"data-section-first":a("top-skills-outgoing"),className:i("top-skills-outgoing","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"),children:[u.jsxs("div",{id:"top-skills-outgoing","data-section-visible":r("top-skills-outgoing"),className:i("top-skills-outgoing","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(h1,{className:"w-5 h-5 text-orange-400"}),"Top Outgoing Skills"]}),u.jsx("div",{className:"text-xs text-gray-500 mt-1",children:l})]}),h&&u.jsx("div",{className:"pill-toggle-group flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"damage",label:"Damage"},{id:"downContribution",label:"Down Contrib"}].map(y=>{const x=(t||e.topSkillsMetric)===y.id;return u.jsx("button",{type:"button",onClick:()=>n==null?void 0:n(y.id),className:`pill-toggle-option px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${x?"pill-toggle-option--active bg-orange-500/30 text-orange-200":"text-gray-400 hover:text-white"}`,children:y.label},y.id)})})]}),u.jsxs("div",{className:"max-h-80 overflow-y-auto space-y-4",children:[p.map((y,x)=>u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",x+1]}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex justify-between items-center text-sm mb-1 leading-tight h-8",children:[u.jsx("span",{className:"text-white font-bold",children:u.jsx(Sr,{name:y.name,iconUrl:y.icon,iconClassName:"h-6 w-6",className:"min-w-0 max-w-[180px] sm:max-w-[240px]",textClassName:"truncate leading-none"})}),u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:"text-orange-400 font-mono font-bold",children:Math.round(y[c]||0).toLocaleString()}),u.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",y.hits.toLocaleString()," hits)"]})]})]}),u.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-orange-500 rounded-full",style:{width:`${Number(y[c]||0)/m*100}%`}})})]})]},`outgoing-${y.name||"unknown"}-${x}`)),p.length===0&&u.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No skill data available"})]})]}),u.jsxs("div",{id:"top-skills-incoming","data-section-visible":r("top-skills-incoming"),className:i("top-skills-incoming","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[u.jsx("div",{className:"flex items-center justify-between mb-6",children:u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(sB,{className:"w-5 h-5 text-red-500"}),"Top Incoming Skills"]}),u.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Damage"})]})}),u.jsxs("div",{className:"max-h-80 overflow-y-auto space-y-4",children:[(e.topIncomingSkills||[]).map((y,x)=>{var g;return u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",x+1]}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex justify-between items-center text-sm mb-1 leading-tight h-8",children:[u.jsx("span",{className:"text-white font-bold",children:u.jsx(Sr,{name:y.name,iconUrl:y.icon,iconClassName:"h-6 w-6",className:"min-w-0 max-w-[180px] sm:max-w-[240px]",textClassName:"truncate leading-none"})}),u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:"text-red-400 font-mono font-bold",children:Math.round(y.damage).toLocaleString()}),u.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",y.hits.toLocaleString()," hits)"]})]})]}),u.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${y.damage/(((g=e.topIncomingSkills[0])==null?void 0:g.damage)||1)*100}%`}})})]})]},`incoming-${y.name||"unknown"}-${x}`)}),e.topIncomingSkills.length===0&&u.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No incoming damage data available"})]})]})]})},Nae=({sortedSquadClassData:e,sortedEnemyClassData:t,getProfessionIconPath:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>{const o=r("squad-composition");return u.jsxs("div",{id:"squad-composition","data-section-visible":o,"data-section-first":a("squad-composition"),className:i("squad-composition","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8 page-break-avoid"),children:[u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(kr,{className:"w-5 h-5 text-green-400"}),"Classes"]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[u.jsx("div",{className:"h-[240px] sm:h-full",children:u.jsx(xc,{width:"100%",height:"100%",children:u.jsxs(Gx,{children:[u.jsx(jg,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:e.map((s,l)=>u.jsx(qu,{fill:s.color,stroke:"rgba(0,0,0,0.5)"},`cell-${l}`))}),u.jsx(Nc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-squad-pie-${o?"visible":"hidden"}`)}),u.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:u.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:e.map(s=>u.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[u.jsx("span",{className:"inline-block w-3 h-3 rounded-sm",style:{backgroundColor:s.color}}),n(s.name)?u.jsx("img",{src:n(s.name),alt:s.name,className:"w-4 h-4 shrink-0 object-contain"}):u.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),u.jsx("span",{className:"min-w-0 truncate",children:s.name}),u.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",s.value,")"]})]},s.name))})})]})]}),u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(o0,{className:"w-5 h-5 text-red-400"}),"Enemy Composition"]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[u.jsx("div",{className:"h-[240px] sm:h-full",children:u.jsx(xc,{width:"100%",height:"100%",children:u.jsxs(Gx,{children:[u.jsx(jg,{data:t,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:t.map((s,l)=>u.jsx(qu,{fill:s.color,stroke:"rgba(0,0,0,0.5)"},`cell-${l}`))}),u.jsx(Nc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-enemy-pie-${o?"visible":"hidden"}`)}),u.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:u.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:t.map(s=>u.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[u.jsx("span",{className:"inline-block w-3 h-3 rounded-sm",style:{backgroundColor:s.color}}),n(s.name)?u.jsx("img",{src:n(s.name),alt:s.name,className:"w-4 h-4 shrink-0 object-contain"}):u.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),u.jsx("span",{className:"min-w-0 truncate",children:s.name}),u.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",s.value,")"]})]},s.name))})})]})]})]})},jae=({timelineData:e,timelineFriendlyScope:t,setTimelineFriendlyScope:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>u.jsxs("div",{id:"timeline","data-section-visible":r("timeline"),"data-section-first":a("timeline"),className:i("timeline","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(kr,{className:"w-5 h-5 text-green-400"}),"Squad vs Enemy Size"]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-widest text-gray-500",children:[u.jsx("span",{className:"text-gray-400",children:"Friendly Count"}),u.jsx("div",{className:"flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1",children:[{value:"squad",label:"Squad"},{value:"squadAllies",label:"Squad + Allies"}].map(o=>u.jsx("button",{type:"button",onClick:()=>n(o.value),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${t===o.value?"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40":"border border-transparent text-gray-400 hover:text-gray-200"}`,children:o.label},o.value))})]})]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-10",children:"No timeline data available"}):u.jsx("div",{className:"h-[260px] w-full",children:u.jsx(xc,{width:"100%",height:"100%",children:u.jsxs(Eg,{data:e,margin:{top:10,right:24,left:0,bottom:0},children:[u.jsx(qf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Yf,{dataKey:"index",tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"}}),u.jsx(Gf,{tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"},width:36}),u.jsx(Nc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},labelFormatter:(o,s)=>{var l;const c=(l=s==null?void 0:s[0])==null?void 0:l.payload;return c!=null&&c.label?`Log ${c.index}  ${c.label}`:`Log ${o}`},formatter:(o,s)=>[o,s==="friendly"?t==="squad"?"Squad":"Squad + Allies":"Enemies"]}),u.jsx(ts,{type:"monotone",dataKey:t==="squad"?"squadCount":"friendlyCount",name:"friendly",stroke:"#22c55e",strokeWidth:2,dot:{r:3,fill:"#22c55e"},activeDot:{r:5}}),u.jsx(ts,{type:"monotone",dataKey:"enemies",stroke:"#ef4444",strokeWidth:2,dot:{r:3,fill:"#ef4444"},activeDot:{r:5}})]})})})]}),Cae=({mapData:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>u.jsxs("div",{id:"map-distribution","data-section-visible":t("map-distribution"),"data-section-first":n("map-distribution"),className:r("map-distribution","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(v1,{className:"w-5 h-5 text-blue-400"}),"Map Distribution"]}),u.jsx("div",{className:"h-[260px] sm:h-[300px] w-full",children:u.jsx(xc,{width:"100%",height:"100%",children:u.jsxs(Gx,{children:[u.jsx(jg,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:5,dataKey:"value",children:e.map((a,i)=>u.jsx(qu,{fill:a.color,stroke:"rgba(0,0,0,0.5)"},`cell-${i}`))}),u.jsx(Nc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}}),u.jsx(M3,{verticalAlign:"bottom",height:36,payload:e.map(a=>({id:a.name,type:"square",value:a.name,color:a.color,payload:a})),formatter:(a,i)=>u.jsxs("span",{className:"text-gray-300 font-medium ml-1",children:[a," ",u.jsxs("span",{className:"text-gray-500",children:["(",i.payload.value,")"]})]})})]})})})]}),FA=({sectionId:e="spike-damage",title:t="Spike Damage",subtitle:n="Select one player to chart their highest damage burst per fight.",listTitle:r="Squad Players",searchPlaceholder:a="Search player or account",titleIconClassName:i="text-rose-300",expandedSection:o,expandedSectionClosing:s,openExpandedSection:l,closeExpandedSection:c,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:p,spikePlayerFilter:m,setSpikePlayerFilter:h,groupedSpikePlayers:y,spikeMode:x,setSpikeMode:g,selectedSpikePlayerKey:b,setSelectedSpikePlayerKey:w,selectedSpikePlayer:S,spikeChartData:C,spikeChartMaxY:N,selectedSpikeFightIndex:M,setSelectedSpikeFightIndex:O,spikeDrilldownTitle:R,spikeDrilldownData:P,spikeDrilldownDownIndices:_,spikeDrilldownDeathIndices:I,spikeFightSkillRows:Q=[],spikeFightSkillTitle:J="Skill Damage (Selected Fight)",formatWithCommas:re,renderProfessionIcon:he})=>{const[B,$]=v.useState(null),[te,k]=v.useState(null),E=F=>String(F||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),A=o===e,j=S?sc(S.profession):"#fda4af",z=x==="hit"?"Highest Damage":x==="1s"?"1s Burst":x==="5s"?"5s Burst":"30s Burst",Y=F=>x==="hit"?F.peakHit:x==="1s"?F.peak1s:x==="5s"?F.peak5s:F.peak30s,W=y.flatMap(F=>F.players.map(se=>({...se,groupProfession:F.profession}))).sort((F,se)=>{const ye=Y(se)-Y(F);return ye!==0?ye:F.displayName.localeCompare(se.displayName)}),q=C.reduce((F,se)=>!F||se.damage>F.damage?se:F,null),G=F=>{if(!Number.isFinite(F)||F<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(F))}catch{return""}},D=P.reduce((F,se)=>Math.max(F,Number(se.value||0)),0),ee=Math.max(1,D),fe=new Set(_),L=new Set(I),ne=P.map((F,se)=>({...F,downMarker:fe.has(se)?Math.max(Number(F.value||0),ee*.88):null,deathMarker:L.has(se)?Math.max(Number(F.value||0),ee*.96):null})),U=F=>se=>{const ye=Number(se==null?void 0:se.cx),Ye=Number(se==null?void 0:se.cy),le=Number(se==null?void 0:se.index);if(!Number.isFinite(ye)||!Number.isFinite(Ye)||!Number.isFinite(le))return null;const Ve=(se==null?void 0:se.payload)||{},De=F==="down"?Ve==null?void 0:Ve.downMarker:Ve==null?void 0:Ve.deathMarker;if(!Number.isFinite(Number(De)))return null;const pt=`${F}-${le}`,Ht=B===pt,yn=F==="down"?"#facc15":"#ef4444",Or=F==="down"?"#fde047":"#f87171";return u.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onMouseEnter:()=>{$(pt),k({x:ye,y:Ye,kind:F,label:String((Ve==null?void 0:Ve.label)||"")})},onMouseLeave:()=>{$(de=>de===pt?null:de),k(de=>(de==null?void 0:de.kind)===F&&(de==null?void 0:de.label)===String((Ve==null?void 0:Ve.label)||"")?null:de)},children:[u.jsx("circle",{cx:ye,cy:Ye,r:Ht?10:7,fill:Or,opacity:Ht?.35:.18}),u.jsx("circle",{cx:ye,cy:Ye,r:Ht?7:5.5,fill:yn,stroke:"#0f172a",strokeWidth:Ht?2.25:1.75})]})};return u.jsxs("div",{id:e,"data-section-visible":d(e),"data-section-first":f(e),className:p(e,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${A?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${s?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[u.jsxs("div",{className:A?"pr-10 md:pr-0":"",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Af,{className:`w-5 h-5 ${i}`}),t]}),u.jsx("p",{className:"text-xs text-gray-400",children:n})]}),u.jsxs("div",{className:`flex items-center gap-3 ${A?"pr-10 md:pr-0":""}`,children:[u.jsx(Pn,{value:x,onChange:F=>g(F),options:[{value:"hit",label:"Highest Damage"},{value:"1s",label:"1s"},{value:"5s",label:"5s"},{value:"30s",label:"30s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx("button",{type:"button",onClick:()=>A?c():l(e),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${A?"absolute top-2 right-2 md:static":""}`,"aria-label":A?`Close ${t}`:`Expand ${t}`,title:A?"Close":"Expand",children:A?u.jsx(Va,{className:"w-4 h-4"}):u.jsx(Ni,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:r}),u.jsx("input",{type:"search",value:m,onChange:F=>h(F.target.value),placeholder:a,className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-rose-400 focus:outline-none"}),u.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:W.length===0?u.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No players match the filter."}):u.jsx("div",{className:"p-1.5 space-y-1",children:W.map(F=>{const se=b===F.key;return u.jsx("button",{type:"button",onClick:()=>w(F.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${se?"border-rose-300/60 bg-rose-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[he(F.profession,void 0,"w-3.5 h-3.5"),u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:F.displayName}),u.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:F.groupProfession})]}),u.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[F.characterName||F.displayName,"  ",F.logs," ",F.logs===1?"fight":"fights"]})]}),u.jsx("div",{className:"text-xs font-mono text-rose-200 shrink-0",children:re(Y(F)||0,0)})]})},F.key)})})})]}),u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:["Per Fight ",z]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[C.length," ",C.length===1?"fight":"fights"]})]}),u.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!S||C.length===0?u.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view burst damage by fight."}):u.jsx(xc,{width:"100%",height:"100%",children:u.jsxs(Eg,{data:C,onClick:F=>{const se=Number(F==null?void 0:F.activeTooltipIndex);Number.isFinite(se)&&O(M===se?null:se)},children:[u.jsx(qf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Yf,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),u.jsx(Gf,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,N)],tickFormatter:F=>re(F,0)}),u.jsx(Nc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(F,se)=>[re(Number(F||0),0),String(se||"")],labelFormatter:(F,se)=>{var ye;const Ye=(ye=se==null?void 0:se[0])==null?void 0:ye.payload;if(!Ye)return"";const le=E(Ye.fullLabel||"");return x==="hit"&&Ye.skillName?`${le}  ${Ye.skillName}`:le}}),u.jsx(ts,{type:"monotone",dataKey:"damage",name:S.displayName,stroke:j,strokeWidth:3,dot:F=>{var se;const ye=Number((se=F==null?void 0:F.payload)==null?void 0:se.index);if(!Number.isFinite(ye))return null;const Ye=M===ye;return u.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:le=>{le.stopPropagation(),O(Ye?null:ye)},children:[u.jsx("circle",{cx:F.cx,cy:F.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),u.jsx("circle",{cx:F.cx,cy:F.cy,r:Ye?4:3,fill:j,stroke:Ye?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:Ye?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),u.jsx(ts,{type:"monotone",dataKey:"maxDamage",name:"Fight Max",stroke:"rgba(148,163,184,0.8)",strokeWidth:2,strokeDasharray:"6 4",dot:!1,activeDot:!1})]})})})]})]}),S&&u.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Player"}),u.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[he(S.profession,S.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:S.displayName})]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:x==="hit"?"Peak Highest Skill Damage":`Peak ${z}`}),u.jsx("div",{className:"mt-1 text-lg font-black text-rose-200 font-mono",children:re(Y(S)||0,0)})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:x==="hit"?"Peak Skill / Fight":"Peak Fight"}),u.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const F=E((q==null?void 0:q.fullLabel)||S.peakFightLabel||"N/A"),se=G(Number((q==null?void 0:q.timestamp)||0)),ye=se?`${se} - ${F}`:F;return x!=="hit"?ye:S.peakSkillName?`${S.peakSkillName}  ${ye}`:ye})()})]})]}),S&&M!==null&&u.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:R}),u.jsx("button",{type:"button",onClick:()=>O(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),u.jsx("div",{className:"h-[220px] relative",children:P.length===0?u.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):u.jsxs(u.Fragment,{children:[u.jsx(xc,{width:"100%",height:"100%",children:u.jsxs(Eg,{data:ne,children:[u.jsx(qf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Yf,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),u.jsx(Gf,{tick:{fill:"#e2e8f0",fontSize:10},tickFormatter:F=>re(F,0)}),u.jsx(Nc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(F,se)=>{const ye=String(se||"");return ye==="Down"?["Downed","Event"]:ye==="Death"?["Dead","Event"]:[re(Number(F||0),0),"Damage"]},labelFormatter:F=>String(F||"")}),u.jsx(ts,{type:"monotone",dataKey:"value",name:"Damage",stroke:j,strokeWidth:2.5,dot:x==="hit"?{r:2}:!1,activeDot:{r:4}}),u.jsx(ts,{type:"linear",dataKey:"downMarker",name:"Down",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:U("down")}),u.jsx(ts,{type:"linear",dataKey:"deathMarker",name:"Death",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:U("death")})]})}),te&&u.jsxs("div",{className:"pointer-events-none absolute z-20 rounded-md border border-white/15 bg-[#101722] px-2 py-1 text-xs shadow-xl",style:{left:`${Math.max(8,te.x)}px`,top:`${Math.max(8,te.y-38)}px`,transform:"translate(-50%, -100%)"},children:[u.jsx("div",{className:`${te.kind==="down"?"text-yellow-300":"text-red-300"} font-semibold`,children:te.kind==="down"?"Down":"Death"}),u.jsx("div",{className:"text-gray-300",children:te.label})]})]})})]}),S&&M!==null&&u.jsxs("div",{className:`mt-4 transition-all duration-300 ${Q.length>0?"opacity-100 translate-y-0":"opacity-90"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:J}),u.jsxs("div",{className:"text-[10px] uppercase tracking-[0.2em] text-gray-500",children:[Q.length," ",Q.length===1?"skill":"skills"]})]}),Q.length===0?u.jsx("div",{className:"text-xs text-gray-500 italic py-4",children:"No skill-level breakdown available for this fight."}):u.jsxs("div",{className:"incoming-skill-table-container rounded-lg border border-white/10 bg-black/35 overflow-hidden",children:[u.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2 text-[10px] uppercase tracking-[0.25em] text-gray-400 border-b border-white/10",children:[u.jsx("div",{children:"Skill"}),u.jsx("div",{className:"text-right",children:"Damage"}),u.jsx("div",{className:"text-right",children:"Hits"})]}),u.jsx("div",{className:"max-h-[260px] overflow-y-auto",children:Q.map((F,se)=>u.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2 text-sm text-gray-200 border-b border-white/[0.05] last:border-b-0",children:[u.jsxs("div",{className:"min-w-0 flex items-center gap-2",children:[F.icon?u.jsx("img",{src:F.icon,alt:"",loading:"lazy",className:"w-4 h-4 rounded-sm border border-white/[0.16] bg-black/40 flex-shrink-0"}):u.jsx("div",{className:"w-4 h-4 rounded-sm border border-white/[0.14] bg-white/[0.06] flex-shrink-0"}),u.jsx("div",{className:"truncate",title:F.skillName,children:F.skillName})]}),u.jsx("div",{className:"text-right font-mono text-rose-200",children:re(Number(F.damage||0),0)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:re(Number(F.hits||0),0)})]},`${F.skillName}-${se}`))})]})]})]})},Mae=10,Cv=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),a=t%60;return n>0?`${n}h ${String(r).padStart(2,"0")}m`:r>0?`${r}m ${String(a).padStart(2,"0")}s`:`${a}s`},Aae=({attendanceRows:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:a})=>{const[i,o]=v.useState(""),[s,l]=v.useState("squad"),[c,d]=v.useState("desc"),f=i.trim().toLowerCase(),p=v.useMemo(()=>{const y=e.filter(g=>{if(!f)return!0;const b=String(g.account||"").toLowerCase(),w=(g.characterNames||[]).join(" ").toLowerCase(),S=(g.classTimes||[]).map(C=>String(C.profession||"").toLowerCase()).join(" ");return b.includes(f)||w.includes(f)||S.includes(f)}),x=g=>Number(s==="fight"?g.combatTimeMs??g.squadTimeMs??0:g.squadTimeMs??0);return[...y].sort((g,b)=>{const w=x(b)-x(g);return w!==0?c==="desc"?w:-w:String(g.account||"").localeCompare(String(b.account||""))})},[e,f,c,s]),m=y=>{if(s===y){d(x=>x==="desc"?"asc":"desc");return}l(y),d("desc")},h=p.length>Mae;return u.jsx("section",{id:"attendance-ledger","data-section-visible":n("attendance-ledger"),"data-section-first":r("attendance-ledger"),className:a("attendance-ledger","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Mf,{className:"w-5 h-5 text-amber-300"}),"Attendance Ledger"]}),u.jsxs("span",{className:"inline-flex items-center rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] uppercase tracking-widest text-gray-300",children:[e.length," Joined"]})]}),u.jsx("input",{value:i,onChange:y=>o(y.target.value),placeholder:"Search account, character, or class...",className:"w-full sm:w-[320px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"})]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No attendance data available."}):u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${h?"max-h-[30rem] overflow-y-auto":""}`,children:u.jsxs("table",{className:"w-full text-xs table-auto min-w-full border-separate border-spacing-0",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Account"}),u.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Character(s)"}),u.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Classes Played"}),u.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:u.jsxs("button",{type:"button",onClick:()=>m("fight"),className:`transition-colors whitespace-nowrap ${s==="fight"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Fight Time",s==="fight"?c==="desc"?" ":" ":""]})}),u.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:u.jsxs("button",{type:"button",onClick:()=>m("squad"),className:`transition-colors whitespace-nowrap ${s==="squad"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Squad Time",s==="squad"?c==="desc"?" ":" ":""]})})]})}),u.jsxs("tbody",{children:[p.map(y=>u.jsxs("tr",{className:"border-t border-white/5 align-top hover:bg-white/5",children:[u.jsx("td",{className:"py-2 px-4 text-gray-100 font-medium whitespace-nowrap",children:y.account}),u.jsx("td",{className:"py-2 px-4 text-gray-300",children:y.characterNames.length>0?y.characterNames.join(", "):"-"}),u.jsx("td",{className:"py-2 px-4",children:u.jsx("div",{className:"flex flex-wrap gap-1.5",children:y.classTimes.length>0?y.classTimes.map(x=>u.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] text-gray-200",children:[t(x.profession)?u.jsx("img",{src:t(x.profession),alt:x.profession,className:"w-3.5 h-3.5 object-contain"}):null,u.jsx("span",{children:x.profession}),u.jsx("span",{className:"text-gray-400",children:Cv(x.timeMs)})]},`${y.account}-${x.profession}`)):u.jsx("span",{className:"text-gray-500",children:"-"})})}),u.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:Cv(Number(y.combatTimeMs??y.squadTimeMs??0))}),u.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:Cv(y.squadTimeMs)})]},y.account)),p.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:5,className:"py-6 text-center text-gray-500 italic",children:"No attendance rows match your search."})})]})]})})]})})},Pae=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},Eae=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:a})=>{const[i,o]=v.useState(null),[s,l]=v.useState(""),c=s.trim().toLowerCase(),d=op("svg/commander_tag.svg");v.useEffect(()=>{if(e.length===0){i!==null&&o(null);return}(!i||!e.some(m=>m.id===i))&&o(e[0].id)},[e,i]);const f=v.useMemo(()=>e.find(m=>m.id===i)||null,[e,i]),p=m=>{if(!c)return!1;const h=String(m.account||"").toLowerCase(),y=String(m.characterName||"").toLowerCase(),x=String(m.profession||"").toLowerCase();return h.includes(c)||y.includes(c)||x.includes(c)};return u.jsx("section",{id:"squad-comp-fight","data-section-visible":n("squad-comp-fight"),"data-section-first":r("squad-comp-fight"),className:a("squad-comp-fight","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 squad-comp-shell",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(kr,{className:"w-5 h-5 text-cyan-300"}),"Squad Comp By Fight"]}),u.jsx("div",{className:"mb-4",children:u.jsx("input",{value:s,onChange:m=>l(m.target.value),placeholder:"Search player or class (highlight matches)...",className:"w-full sm:w-[360px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"})}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No squad composition data available."}):u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[u.jsxs("aside",{className:"squad-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),u.jsx("div",{className:"space-y-1 pr-1 max-h-[560px] xl:max-h-[720px] overflow-y-auto",children:e.map(m=>{const h=m.id===i;return u.jsxs("button",{onClick:()=>o(m.id),className:`squad-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${h?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100 squad-comp-fight-nav-item--active":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:m.label}),u.jsx("div",{className:"text-xs font-semibold truncate",children:m.mapName||"Unknown Map"}),u.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[m.duration||"--:--","  ",Pae(m.timestamp)]})]},m.id)})})]}),u.jsx("div",{className:"rounded-xl border border-white/10 bg-gradient-to-b from-slate-950/55 to-slate-900/45 p-3 squad-comp-board",children:f?u.jsx("div",{className:"space-y-2.5",children:f.parties.map(m=>u.jsxs("div",{className:"squad-comp-party-row grid grid-cols-[40px_minmax(0,1fr)] gap-2 rounded-xl border border-white/10 bg-black/25 p-2",children:[u.jsxs("div",{className:"squad-comp-party-badge rounded-lg border border-white/15 bg-slate-900/80 text-center py-2",children:[u.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-500",children:"P"}),u.jsx("div",{className:"text-base font-bold text-gray-100 leading-none",children:m.party>0?m.party:"-"})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-1 min-w-0",children:m.players.map((h,y)=>(()=>{const x=p(h);return u.jsxs("div",{className:`squad-comp-player-tile rounded-md border border-emerald-300/20 bg-gradient-to-b from-emerald-500/30 to-emerald-700/25 px-2 py-1.5 min-w-0 transition-all ${x?"ring-2 ring-cyan-300/70 border-cyan-300/60 shadow-[0_0_20px_rgba(34,211,238,0.25)]":""} ${h.isCommander?"relative overflow-hidden":""}`,children:[h.isCommander?u.jsx("img",{src:d,alt:"","aria-hidden":"true",className:"absolute -right-2 -bottom-2 w-12 h-12 object-contain opacity-20 brightness-75 pointer-events-none"}):null,u.jsxs("div",{className:"grid grid-cols-[18px_minmax(0,1fr)] grid-rows-2 gap-x-2 items-center min-w-0",children:[u.jsx("div",{className:"row-span-2 flex items-center justify-center",children:t(h.profession)?u.jsx("img",{src:t(h.profession),alt:h.profession,className:"squad-comp-player-icon w-5 h-5 object-contain shrink-0 opacity-95"}):u.jsx("span",{className:"squad-comp-player-icon inline-block w-5 h-5 rounded-sm border border-white/15"})}),u.jsx("div",{className:"squad-comp-player-account text-[11px] font-semibold text-emerald-50 truncate min-w-0 flex items-center gap-1",title:h.account,children:u.jsx("span",{className:"truncate min-w-0",children:h.account})}),u.jsx("div",{className:"squad-comp-player-character text-[10px] text-emerald-100/80 truncate min-w-0",title:h.characterName||"Unknown",children:h.characterName||"Unknown"})]})]},`${f.id}-${m.party}-${h.account}-${y}`)})())})]},`${f.id}-party-${m.party}`))}):u.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},Tae=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},Oae=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:a})=>{const[i,o]=v.useState(null);v.useEffect(()=>{if(e.length===0){i!==null&&o(null);return}(!i||!e.some(c=>c.id===i))&&o(e[0].id)},[e,i]);const s=v.useMemo(()=>e.find(c=>c.id===i)||null,[e,i]),l=v.useMemo(()=>s!=null&&s.enemyClassCounts?Object.entries(s.enemyClassCounts).map(([c,d])=>({profession:c,count:Number(d||0)})).filter(c=>c.count>0).sort((c,d)=>d.count-c.count||c.profession.localeCompare(d.profession)):[],[s]);return u.jsx("section",{id:"fight-comp","data-section-visible":n("fight-comp"),"data-section-first":r("fight-comp"),className:a("fight-comp","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"fight-comp-shell bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(nl,{className:"w-5 h-5 text-cyan-300"}),"Fight Comp"]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight composition data available."}):u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[u.jsxs("aside",{className:"fight-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 self-start",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),u.jsx("div",{className:"space-y-1 pr-1 max-h-[320px] overflow-y-auto",children:e.map(c=>{const d=c.id===i;return u.jsxs("button",{onClick:()=>o(c.id),className:`fight-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${d?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:c.label}),u.jsx("div",{className:"text-xs font-semibold truncate",children:c.mapName||"Unknown Map"}),u.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[c.duration||"--:--","  ",Tae(c.timestamp)]})]},c.id)})})]}),u.jsx("div",{className:"fight-comp-board rounded-xl border border-white/10 bg-black/30 p-2.5 overflow-hidden",children:s?u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[minmax(0,1fr)_minmax(0,0.78fr)] gap-2.5 min-w-0",children:[u.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[u.jsx("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Squad Parties"}),u.jsx("div",{className:"p-2 rounded-lg border border-white/10 bg-white/[0.03] divide-y divide-white/10",children:s.parties.map(c=>{const d=Array.isArray(c.players)&&c.players.length>0?c.players.map(f=>({profession:String((f==null?void 0:f.profession)||"Unknown"),account:String((f==null?void 0:f.account)||""),characterName:String((f==null?void 0:f.characterName)||"")})).filter(f=>f.profession&&f.profession!=="Unknown").sort((f,p)=>f.profession.localeCompare(p.profession)||f.characterName.localeCompare(p.characterName)||f.account.localeCompare(p.account)):Object.entries(c.classCounts||{}).flatMap(([f,p])=>Array.from({length:Math.max(0,Number(p||0))},()=>({profession:String(f),account:"",characterName:""}))).filter(f=>f.profession&&f.profession!=="Unknown").sort((f,p)=>f.profession.localeCompare(p.profession));return u.jsxs("div",{className:"fight-comp-row grid grid-cols-[36px_minmax(0,1fr)] gap-1.5 items-center px-1.5 py-1 first:pt-0 last:pb-0",children:[u.jsx("div",{className:"fight-comp-party-badge text-[10px] font-semibold uppercase tracking-widest text-gray-300 text-center rounded-md border border-white/10 bg-black/20 py-0.5",children:c.party>0?`P${c.party}`:"Unk"}),u.jsx("div",{className:"flex flex-wrap gap-x-1.5 gap-y-1",children:d.length>0?d.map((f,p)=>u.jsx("span",{title:f.characterName||f.account?`${f.profession}  ${f.characterName||"Unknown"} (${f.account||"Unknown"})`:f.profession,className:"fight-comp-class-icon fight-comp-class-icon--squad inline-flex items-center justify-center",children:t(f.profession)?u.jsx("img",{src:t(f.profession),alt:f.profession,className:"w-3.5 h-3.5 object-contain"}):u.jsx("span",{className:"inline-block w-3.5 h-3.5 rounded-sm border border-white/15"})},`${s.id}-party-${c.party}-${f.profession}-${f.account||f.characterName||p}-${p}`)):u.jsx("span",{className:"text-gray-500 text-[11px]",children:"-"})})]},`${s.id}-party-${c.party}`)})})]}),u.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[u.jsx("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Enemy Classes"}),u.jsx("div",{className:"p-2",children:l.length>0?u.jsx("div",{className:"flex flex-wrap gap-1",children:l.map(c=>u.jsxs("div",{className:"fight-comp-row inline-flex items-center gap-1 rounded-lg border border-white/10 bg-white/[0.03] px-1.5 py-0.5",children:[u.jsx("span",{className:"fight-comp-class-icon inline-flex items-center justify-center rounded-md border border-white/10 bg-black/20 px-1 py-0.5",title:c.profession,children:t(c.profession)?u.jsx("img",{src:t(c.profession),alt:c.profession,className:"w-3 h-3 object-contain"}):u.jsx("span",{className:"inline-block w-3 h-3 rounded-sm border border-white/15"})}),u.jsx("span",{className:"text-[10px] font-mono text-gray-200",children:c.count})]},`${s.id}-enemy-${c.profession}`))}):u.jsx("div",{className:"py-6 text-center text-gray-500 italic text-sm",children:"No enemy class data"})})]})]}):u.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},Dae=({embedded:e,dashboardTitle:t,totalLogs:n,onBack:r,devMockAvailable:a,devMockUploadState:i,onDevMockUpload:o,uploadingWeb:s,onWebUpload:l,sharing:c,canShareDiscord:d,onShare:f})=>{const p=c||!d,m=d?"":"Select a Discord webhook to enable sharing.";return u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-3 shrink-0 px-2",children:[u.jsxs("div",{className:"flex items-start gap-3 sm:items-center sm:gap-4",children:[!e&&u.jsx("button",{onClick:r,className:"p-2 rounded-full bg-white/5 border border-white/10 hover:bg-white/10 transition-colors text-gray-400 hover:text-white",children:u.jsx(rO,{className:"w-6 h-6"})}),u.jsxs("div",{className:"space-y-0",children:[u.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-white flex items-center gap-2",children:[u.jsx(oc,{className:"w-6 h-6 text-yellow-500"}),t||"Statistics Dashboard"]}),u.jsxs("p",{className:"text-gray-400 text-[11px] sm:text-xs",children:["Performance across ",n," uploaded logs"]})]})]}),!e&&u.jsxs("div",{className:"flex items-center gap-3",children:[a&&u.jsxs("button",{onClick:o,disabled:i.uploading,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 bg-amber-500/15 text-amber-200 border border-amber-500/30 hover:bg-amber-500/25",children:[u.jsx(s0,{className:"w-4 h-4"}),i.uploading?"Building...":"Dev Mock Upload"]}),u.jsxs("button",{onClick:l,disabled:s,className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:[u.jsx(SB,{className:"w-4 h-4"}),s?"Uploading...":"Upload to Web"]}),u.jsxs("div",{className:"relative group",title:m,children:[u.jsxs("button",{onClick:f,disabled:p,"aria-disabled":p,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(xB,{className:"w-4 h-4"}),c?"Sharing...":"Share to Discord"]}),!d&&u.jsx("div",{className:"pointer-events-none absolute right-0 top-full mt-2 w-56 rounded-md border border-white/10 bg-black/90 px-2 py-1 text-[11px] text-gray-200 opacity-0 shadow-lg transition-opacity group-hover:opacity-100 z-50",children:"Select a Discord webhook to enable sharing."})]})]})]})},Iae=({embedded:e,webUploadMessage:t,webUploadUrl:n,webUploadBuildStatus:r,webCopyStatus:a,setWebCopyStatus:i})=>{if(e||!t)return null;const o=n||t.replace(/^Uploaded:\s*/i,"").trim(),[s,l]=v.useState("idle"),c=(()=>{if(!o)return null;try{const d=new URL(o),f=d.searchParams.get("report");if(!f||!d.hostname.endsWith("github.io"))return null;const p=d.pathname.match(/^\/([^/]+\.github\.io)(\/|$)/i),m=(p==null?void 0:p[1])||"";return!m||m.toLowerCase()!==d.hostname.toLowerCase()?null:`${d.origin}/?report=${f}`}catch{return null}})();return u.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[u.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[u.jsx("span",{className:"uppercase tracking-widest text-[10px] text-cyan-300/70",children:"Uploaded"}),u.jsx("button",{onClick:()=>{var d;o&&(d=window.electronAPI)!=null&&d.openExternal&&window.electronAPI.openExternal(o)},className:"text-cyan-200 hover:text-cyan-100 underline underline-offset-2",children:o}),r!=="idle"&&u.jsxs("span",{className:`ml-2 text-[10px] px-2 py-0.5 rounded-full border inline-flex items-center gap-1 ${r==="built"?"bg-emerald-500/20 text-emerald-300 border-emerald-500/40":r==="errored"?"bg-red-500/20 text-red-300 border-red-500/40":r==="unknown"?"bg-white/5 text-gray-400 border-white/10":"bg-cyan-500/20 text-cyan-200 border-cyan-500/40"}`,children:[(r==="checking"||r==="building")&&u.jsx(vB,{className:"w-3 h-3 animate-spin"}),r==="built"&&u.jsx(aO,{className:"w-3 h-3"}),r==="errored"&&u.jsx(sO,{className:"w-3 h-3"}),r==="built"?"Build ready":r==="errored"?"Build failed":r==="unknown"?"Build status unknown":"Building"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>{o&&(navigator.clipboard.writeText(o),i("copied"),setTimeout(()=>i("idle"),1200))},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:a==="copied"?"Copied":"Copy URL"}),c&&u.jsx("button",{onClick:()=>{navigator.clipboard.writeText(c),l("copied"),setTimeout(()=>l("idle"),1200)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:s==="copied"?"Copied":"Copy Short"})]})]})},_ae=({embedded:e,devMockAvailable:t,devMockUploadState:n})=>e||!t||!n.message?null:u.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[u.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[u.jsx("span",{className:"uppercase tracking-widest text-[10px] text-amber-300/70",children:"Dev Mock"}),n.url?u.jsx("button",{onClick:()=>{var r;const a=n.url;a&&(r=window.electronAPI)!=null&&r.openExternal&&window.electronAPI.openExternal(a)},className:"text-amber-200 hover:text-amber-100 underline underline-offset-2",children:n.url}):u.jsx("span",{className:"text-gray-300",children:n.message})]}),n.url&&u.jsx("button",{onClick:()=>{var r;const a=n.url;a&&(r=window.electronAPI)!=null&&r.openExternal&&window.electronAPI.openExternal(a)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:"Open in Browser"})]}),Fae=({embedded:e,uiTheme:t="classic",mobileNavOpen:n,setMobileNavOpen:r,tocGroups:a,tocItems:i,activeNavId:o,scrollToSection:s,stepSection:l})=>{var c;const d=t==="matte",f=t==="modern",p=t==="crt",m=d?"rounded-2xl border border-white/10 bg-[#222629] shadow-[-4px_-4px_8px_rgba(255,255,255,0.03),6px_6px_12px_rgba(0,0,0,0.45)]":p?"rounded-sm border border-green-400/35 bg-[#07110c]":f?"rounded-2xl border border-white/15 bg-[#1b2430]":"rounded-2xl border border-white/25 bg-white/5 backdrop-blur-2xl shadow-[0_24px_65px_rgba(0,0,0,0.55)]",h=d?"rounded-xl bg-[#2a2e31] border border-white/10 text-[10px] uppercase tracking-widest text-gray-200 shadow-[inset_1px_1px_2px_rgba(255,255,255,0.04),inset_-1px_-1px_2px_rgba(0,0,0,0.35)]":p?"rounded-sm bg-[#0b1a12] border border-green-400/35 text-[10px] uppercase tracking-widest text-green-200":f?"rounded-xl bg-[#202830] border border-white/10 text-[10px] uppercase tracking-widest text-gray-200":"rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",y=d?"w-full max-w-sm max-h-[68vh] rounded-2xl p-4 border border-white/15 bg-[#222629] flex flex-col overflow-hidden":p?"w-full max-w-sm max-h-[68vh] rounded-sm p-4 border border-green-400/35 bg-[#07110c] flex flex-col overflow-hidden":f?"w-full max-w-sm max-h-[68vh] rounded-2xl p-4 border border-white/20 bg-[#1f252b] flex flex-col overflow-hidden":"w-full max-w-sm max-h-[68vh] rounded-2xl p-4 border border-white/20 bg-white/5 shadow-[0_22px_60px_rgba(0,0,0,0.55)] backdrop-blur-2xl flex flex-col overflow-hidden",[x,g]=v.useState({});return v.useEffect(()=>{a.length!==0&&g(b=>{if(Object.keys(b).length>0)return b;const w={};return a.forEach((S,C)=>{w[S.id]=C===0}),w})},[a]),v.useEffect(()=>{const b=a.find(w=>w.items.some(S=>S.id===o));b&&g(w=>w[b.id]?w:{...w,[b.id]:!0})},[o,a]),e?null:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:`fixed inset-0 z-40 bg-black/60 transition-opacity ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>r(!1)}),u.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50",children:u.jsxs("div",{className:`flex items-center justify-between gap-2 px-3 py-1.5 ${m}`,children:[u.jsxs("button",{onClick:()=>l(-1),className:`flex items-center gap-2 px-3 py-1.5 ${h}`,children:[u.jsx(Jl,{className:"w-4 h-4 rotate-90 text-[color:var(--accent)]"}),"Prev"]}),u.jsxs("button",{onClick:()=>r(b=>!b),className:`flex items-center gap-2 px-4 py-1.5 ${h}`,children:[u.jsx("span",{className:"truncate max-w-[160px]",children:((c=i.find(b=>b.id===o))==null?void 0:c.label)||"Sections"}),u.jsx(Jl,{className:`w-4 h-4 text-[color:var(--accent)] transition-transform ${n?"rotate-180":""}`})]}),u.jsxs("button",{onClick:()=>l(1),className:`flex items-center gap-2 px-3 py-1.5 ${h}`,children:["Next",u.jsx(Jl,{className:"w-4 h-4 -rotate-90 text-[color:var(--accent)]"})]})]})}),n&&u.jsx("div",{"data-stats-mobile-nav":"overlay",className:"fixed inset-0 z-50 flex items-center justify-center px-4",onClick:b=>{b.target===b.currentTarget&&r(!1)},children:u.jsxs("div",{"data-stats-mobile-nav":"panel",className:y,children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.3em] text-gray-400",children:"Jump to"}),u.jsx("button",{onClick:()=>r(!1),className:"p-1.5 rounded-lg hover:bg-white/10 text-gray-300 hover:text-white transition-colors","aria-label":"Close navigation",children:u.jsx(Va,{className:"w-4 h-4"})})]}),u.jsx("div",{"data-stats-mobile-nav":"list",className:"flex-1 min-h-0 overflow-y-auto overscroll-contain touch-pan-y -mx-4 px-4 pb-8",onWheel:b=>b.stopPropagation(),onTouchMove:b=>b.stopPropagation(),children:u.jsx("div",{className:"space-y-3",children:a.map(b=>{const w=b.icon,S=x[b.id]??!1,C=b.items.some(N=>N.id===o);return u.jsxs("div",{className:"space-y-1",children:[u.jsxs("button",{onClick:()=>g(N=>({...N,[b.id]:!S})),className:`w-full text-left flex items-center gap-2 px-2 py-2 rounded-lg border transition-colors ${C?"bg-white/10 border-white/15 text-white":"bg-white/5 border-white/10 text-gray-200 hover:bg-white/[0.08]"}`,children:[u.jsx("span",{className:"flex items-center justify-center w-6 h-6",children:u.jsx(w,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"})}),u.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-[0.18em] truncate",children:b.label}),u.jsx(Jl,{className:`ml-auto w-4 h-4 text-gray-300 transition-transform ${S?"rotate-180":""}`})]}),S&&u.jsx("div",{className:"space-y-1 pl-2",children:b.items.map(N=>{const M=N.icon,O=N.id===o;return u.jsxs("button",{onClick:()=>s(N.id),className:`stats-nav-entry stats-nav-entry--item w-full text-left flex items-center gap-2 px-2 py-2 text-gray-200 transition-colors min-w-0 rounded-md ${O?"bg-white/10":"hover:bg-white/[0.03]"}`,children:[u.jsx("span",{className:"flex items-center justify-center w-6 h-6",children:u.jsx(M,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"})}),u.jsx("span",{className:"text-[13px] font-medium truncate min-w-0",children:N.label})]},N.id)})})]},b.id)})})})]})})]})},Mo="space-y-1 pr-1 max-h-72 overflow-y-auto",Lae=new Set(["Vulnerability","Weakness","Blind","Chill","Cripple","Slow","Taunt","Fear","Immobilize"]),Rae=["overview","fight-breakdown","top-players","top-skills-outgoing","squad-composition","attendance-ledger","squad-comp-fight","fight-comp","timeline","map-distribution","boon-output","offense-detailed","spike-damage","conditions-outgoing","defense-detailed","incoming-strike-damage","support-detailed","healing-stats","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"];function $ae({logs:e,onBack:t,mvpWeights:n,statsViewSettings:r,onStatsViewSettingsChange:a,webUploadState:i,onWebUpload:o,disruptionMethod:s,precomputedStats:l,embedded:c=!1,sectionVisibility:d,dashboardTitle:f,uiTheme:p,canShareDiscord:m=!0,aggregationResult:h}){var y,x;const g=n||wO,b=r||Gb,w=i||H8,S=b.showTopStats,C=b.showMvp,N=b.roundCountStats,M=b.topStatsMode||"total",[O,R]=v.useState(b.topSkillsMetric||"damage"),P=(a?b.topSkillsMetric:O)||"damage",_=w.uploading,I=w.message,Q=w.url,J=w.buildStatus,re=!c&&!1,he=!!h,{result:B}=Q8({logs:he?[]:e,precomputedStats:he?void 0:l,mvpWeights:n,statsViewSettings:r,disruptionMethod:s}),$=h||B,{stats:te,skillUsageData:k}=$,E=v.useMemo(()=>{var K,oe,pe,We,we,Ze;const ie=te&&typeof te=="object"?te:{},qe=be=>Array.isArray(be)?be:[],un=be=>be&&typeof be=="object"?be:{},$e=(be,St)=>be&&typeof be=="object"?be:St,Tt={value:0,player:"-",profession:"Unknown",professionList:[],count:0},Ft={account:"-",profession:"Unknown",professionList:[],reason:"",topStats:[],score:0},dn={...ie,total:Number(ie.total||0),timelineData:qe(ie.timelineData),mapData:qe(ie.mapData),fightBreakdown:qe(ie.fightBreakdown),topSkills:qe(ie.topSkills),topIncomingSkills:qe(ie.topIncomingSkills),leaderboards:un(ie.leaderboards),topStatsPerSecond:un(ie.topStatsPerSecond),topStatsLeaderboardsPerSecond:un(ie.topStatsLeaderboardsPerSecond),maxDownContrib:$e(ie.maxDownContrib,Tt),maxBarrier:$e(ie.maxBarrier,Tt),maxHealing:$e(ie.maxHealing,Tt),maxDodges:$e(ie.maxDodges,Tt),maxStrips:$e(ie.maxStrips,Tt),maxCleanses:$e(ie.maxCleanses,Tt),maxCC:$e(ie.maxCC,Tt),maxStab:$e(ie.maxStab,Tt),closestToTag:$e(ie.closestToTag,Tt),mvp:{...Ft,...un(ie.mvp),topStats:qe((K=ie==null?void 0:ie.mvp)==null?void 0:K.topStats)},silver:$e(ie.silver,Ft),bronze:$e(ie.bronze,Ft),avgMvpScore:Number(ie.avgMvpScore||0),offensePlayers:qe(ie.offensePlayers),defensePlayers:qe(ie.defensePlayers),damageMitigationPlayers:qe(ie.damageMitigationPlayers),damageMitigationMinions:qe(ie.damageMitigationMinions),supportPlayers:qe(ie.supportPlayers),healingPlayers:qe(ie.healingPlayers),boonTables:qe(ie.boonTables),specialTables:qe(ie.specialTables),outgoingConditionSummary:qe(ie.outgoingConditionSummary),outgoingConditionPlayers:qe(ie.outgoingConditionPlayers),incomingConditionSummary:qe(ie.incomingConditionSummary),incomingConditionPlayers:qe(ie.incomingConditionPlayers),squadClassData:qe(ie.squadClassData),enemyClassData:qe(ie.enemyClassData),attendanceData:qe(ie.attendanceData),squadCompByFight:qe(ie.squadCompByFight),playerSkillBreakdowns:qe(ie.playerSkillBreakdowns)},ut=qe((oe=dn.leaderboards)==null?void 0:oe.downContrib).map(be=>({...be,value:Number((be==null?void 0:be.value)??0)})).filter(be=>Number.isFinite(be.value)).sort((be,St)=>St.value-be.value||String((be==null?void 0:be.account)||"").localeCompare(String((St==null?void 0:St.account)||"")))[0];return ut&&(dn.maxDownContrib={...dn.maxDownContrib||{},value:Number(ut.value||0),player:String(ut.account||((pe=dn.maxDownContrib)==null?void 0:pe.player)||"-"),count:Number(ut.count||((We=dn.maxDownContrib)==null?void 0:We.count)||0),profession:String(ut.profession||((we=dn.maxDownContrib)==null?void 0:we.profession)||"Unknown"),professionList:Array.isArray(ut.professionList)?ut.professionList:((Ze=dn.maxDownContrib)==null?void 0:Ze.professionList)||[]}),dn},[te]);v.useEffect(()=>{var K;if(!((K=window==null?void 0:window.electronAPI)!=null&&K.fetchImageAsDataUrl))return;const oe=new Set,pe=We=>{if(We){if(typeof We=="string"){/^https?:\/\//i.test(We)&&oe.add(We);return}if(Array.isArray(We)){We.forEach(pe);return}typeof We=="object"&&Object.entries(We).forEach(([we,Ze])=>{if((we==="icon"||we==="iconUrl")&&typeof Ze=="string"){/^https?:\/\//i.test(Ze)&&oe.add(Ze);return}pe(Ze)})}};pe(E),oe.size>0&&Jre(Array.from(oe))},[E]);const A=v.useMemo(()=>{const K=(l==null?void 0:l.skillUsageData)??k;return{logRecords:Array.isArray(K==null?void 0:K.logRecords)?K.logRecords:[],players:Array.isArray(K==null?void 0:K.players)?K.players:[],skillOptions:Array.isArray(K==null?void 0:K.skillOptions)?K.skillOptions:[],resUtilitySkills:Array.isArray(K==null?void 0:K.resUtilitySkills)?K.resUtilitySkills:[]}},[k,l==null?void 0:l.skillUsageData]),j=A.players.length>0;v.useEffect(()=>{a||R(b.topSkillsMetric||"damage")},[b.topSkillsMetric,a]);const z=K=>{if(a){a({...b,topSkillsMetric:K});return}R(K)},{mobileNavOpen:Y,setMobileNavOpen:W,activeNavId:q,scrollContainerRef:G,tocGroups:D,tocItems:ee,scrollToSection:fe,stepSection:L}=CB(c),{devMockUploadState:ne,webCopyStatus:U,setWebCopyStatus:F,handleWebUpload:se,handleDevMockUpload:ye}=MB({logs:e,stats:E,skillUsageData:A,activeStatsViewSettings:r||Gb,uiTheme:p||"classic",embedded:c,onWebUpload:o}),{sharing:Ye,handleShare:le}=w8(c),Ve={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},De=K=>{const oe=Ve[K];return oe?g[oe]>0:!0},[pt,Ht]=v.useState(null),[yn,Or]=v.useState(null),[de,Ce]=v.useState("totalBuffs"),[Pt,Wt]=v.useState("total"),[pn,Wr]=v.useState(""),[Nr,Rn]=v.useState(null),[ga,Dr]=v.useState(""),[Qt,sn]=v.useState(null),[Ir,bn]=v.useState(""),[jr,Cr]=v.useState(""),[Vo,dd]=v.useState(""),[Ds,_c]=v.useState(""),[Fc,El]=v.useState(""),[Ho,H]=v.useState(""),[ue,Ae]=v.useState(""),[Ge,Dt]=v.useState("outgoing"),[Et,st]=v.useState(""),[kn,Tn]=v.useState("damage"),[Mr,xn]=v.useState("damageTaken"),[Ie,dt]=v.useState("totalMitigation"),[Zt,Yt]=v.useState("all"),[$n,Ea]=v.useState({key:"damage",dir:"desc"}),_r=!(Zt!=="all"&&Lae.has(Zt)),Wo=_r?"grid-cols-[0.4fr_1.6fr_1fr_1fr]":"grid-cols-[0.4fr_1.6fr_1fr]",fd=_r?$n:{key:"applications",dir:$n.key==="applications"?$n.dir:"desc"},[wy,ky]=v.useState("condiCleanse"),[Sy,T]=v.useState("healing"),[V,ae]=v.useState("total"),[Me,X]=v.useState("all"),[Pe,Oe]=v.useState("total"),[ft,wt]=v.useState("total"),[gt,Bt]=v.useState("total"),[Mn,Dn]=v.useState("total"),[Je,Xe]=v.useState("all"),[mt,Ut]=v.useState("squad"),[Gt,ve]=v.useState("player"),[Ne,Se]=v.useState(""),[Fe,me]=v.useState(""),[je,Le]=v.useState(null),[lt,ct]=v.useState([]),[Re,mn]=v.useState(null),[en,In]=v.useState(null),[hn,nn]=v.useState("hit"),[Z,Ue]=v.useState(null),[He,Ct]=v.useState(null),[xe,Qe]=v.useState("hit"),[yt,et]=v.useState([]),[at,Vt]=v.useState(null),[ht,tt]=v.useState(!1),$t=v.useRef(null),[vt,rn]=v.useState("sizes"),[At,Mt]=v.useState("total"),Te=At==="perSecond",[ge,bt]=v.useState(null),[jt,tn]=v.useState("total"),[ln,Ar]=v.useState(null),[ea,ji]=v.useState(null),[la,Is]=v.useState(null),[_s,vo]=v.useState(""),[bo,Lc]=v.useState(null),[Rc,$c]=v.useState(null),[Ta,Fs]=v.useState(null),[xo,zc]=v.useState(""),[Ee,Ke]=v.useState("player"),[rt,Rt]=v.useState(null),[Sn,er]=v.useState(null),[Nn,Kn]=v.useState(null),{apmSpecBuckets:cn}=Z8(A),gr=E.playerSkillBreakdowns||[],wo=v.useMemo(()=>{const K=new Map;return gr.forEach(oe=>K.set(oe.key,oe)),K},[gr]),si=v.useMemo(()=>{const K=new Map;return gr.forEach(oe=>{const pe=oe.profession||"Unknown";K.has(pe)||K.set(pe,{profession:pe,players:[],skills:new Map});const We=K.get(pe);We.players.push(oe),oe.skills.forEach(we=>{var Ze;const ie=We.skills.get(we.id)||{...we,damage:0,downContribution:0};ie.damage+=Number(we.damage||0),ie.downContribution+=Number(we.downContribution||0),!ie.icon&&we.icon&&(ie.icon=we.icon),(Ze=ie.name)!=null&&Ze.startsWith("Skill ")&&!we.name.startsWith("Skill ")&&(ie.name=we.name),We.skills.set(we.id,ie)})}),Array.from(K.values()).map(oe=>{const pe=Array.from(oe.skills.values()).sort((we,Ze)=>Ze.damage-we.damage),We=pe.reduce((we,Ze)=>(we[Ze.id]=Ze,we),{});return{profession:oe.profession,players:oe.players,skills:pe,skillMap:We}}).sort((oe,pe)=>oe.profession.localeCompare(pe.profession))},[gr]),li=bo&&wo.get(bo)||null,Hp=li&&Ta&&((y=li.skillMap)==null?void 0:y[Ta])||null,Tl=v.useMemo(()=>{const K=new Map;return si.forEach(oe=>K.set(oe.profession,oe)),K},[si]),Ki=rt&&Tl.get(rt)||null,Wp=Ki&&Nn&&((x=Ki.skillMap)==null?void 0:x[Nn])||null,zn=v.useMemo(()=>{const K=be=>String(be||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),oe=be=>K(be).toLowerCase().split(/[^a-z0-9]+/i).map(St=>St.trim()).filter(Boolean).map(St=>St.length>3&&St.endsWith("s")?St.slice(0,-1):St),pe=(be,St)=>{const Be=K(be),Bn=K(St);if(!Bn)return Be;if(!Be)return Bn;const Fr=oe(Be),Un=oe(Bn),yr=new Set(Fr),Cn=new Set(Un),qa=Un.length>0&&Un.every(Lt=>yr.has(Lt)),Ot=Fr.length>0&&Fr.every(Lt=>Cn.has(Lt));return qa||Ot?Be:`${Be} - ${Bn}`},We=be=>{if(be==null||be==="")return 0;if(typeof be=="number")return!Number.isFinite(be)||be<=0?0:be>1e12?be:be*1e3;if(be instanceof Date){const yr=be.getTime();return Number.isFinite(yr)&&yr>0?yr:0}const St=String(be).trim();if(!St)return 0;const Be=Number(St);if(Number.isFinite(Be)&&Be>0)return Be>1e12?Be:Be*1e3;const Bn=Date.parse(St);if(Number.isFinite(Bn)&&Bn>0)return Bn;const Fr=St.replace(/([+-]\d{2})$/,"$1:00"),Un=Date.parse(Fr);return Number.isFinite(Un)&&Un>0?Un:0},we=(be,St)=>We((be==null?void 0:be.uploadTime)??(St==null?void 0:St.uploadTime)??(be==null?void 0:be.timeStartStd)??(be==null?void 0:be.timeStart)??(be==null?void 0:be.timeEndStd)??(be==null?void 0:be.timeEnd)),Ze=E==null?void 0:E.spikeDamage,ie=Array.isArray(Ze==null?void 0:Ze.fights)?Ze.fights:[],qe=Array.isArray(Ze==null?void 0:Ze.players)?Ze.players:[],un=ie.some(be=>(be!=null&&be.values&&typeof be.values=="object"?Object.values(be.values):[]).some(St=>St&&typeof St=="object"&&(Number(St.burst1s||0)>0||Number(St.burst5s||0)>0||Number(St.burst30s||0)>0)))||qe.some(be=>Number((be==null?void 0:be.peak1s)||0)>0||Number((be==null?void 0:be.peak5s)||0)>0||Number((be==null?void 0:be.peak30s)||0)>0);if((ie.length>0||qe.length>0)&&(un||e.length===0)){const be=ie.map((Be,Bn)=>{const Fr=Be!=null&&Be.values&&typeof Be.values=="object"?Be.values:{},Un={};return Object.entries(Fr).forEach(([yr,Cn])=>{if(Cn&&typeof Cn=="object"){const qa=Number(Cn.damage||0);Un[yr]={hit:Number(Cn.hit??qa),burst1s:Number(Cn.burst1s||0),burst5s:Number(Cn.burst5s||0),burst30s:Number(Cn.burst30s||0),skillName:String(Cn.skillName||""),buckets5s:Array.isArray(Cn.buckets5s)?Cn.buckets5s.map(Ot=>Number(Ot||0)):void 0,downIndices5s:Array.isArray(Cn.downIndices5s)?Cn.downIndices5s.map(Ot=>Number(Ot)).filter(Ot=>Number.isFinite(Ot)&&Ot>=0):void 0,deathIndices5s:Array.isArray(Cn.deathIndices5s)?Cn.deathIndices5s.map(Ot=>Number(Ot)).filter(Ot=>Number.isFinite(Ot)&&Ot>=0):void 0,skillRows:Array.isArray(Cn.skillRows)?Cn.skillRows.map(Ot=>({skillName:String((Ot==null?void 0:Ot.skillName)||(Ot==null?void 0:Ot.name)||"Unknown Skill"),damage:Number((Ot==null?void 0:Ot.damage)||0),hits:Number((Ot==null?void 0:Ot.hits)||0),icon:typeof(Ot==null?void 0:Ot.icon)=="string"?Ot.icon:void 0})).filter(Ot=>Number.isFinite(Ot.damage)&&Ot.damage>0):void 0};return}Un[yr]={hit:Number(Cn||0),burst1s:0,burst5s:0,burst30s:0,skillName:""}}),{id:String((Be==null?void 0:Be.id)||`fight-${Bn+1}`),shortLabel:String((Be==null?void 0:Be.shortLabel)||`F${Bn+1}`),fullLabel:K((Be==null?void 0:Be.fullLabel)||`Fight ${Bn+1}`),timestamp:Number((Be==null?void 0:Be.timestamp)||0),values:Un,maxHit:Number((Be==null?void 0:Be.maxHit)??(Be==null?void 0:Be.maxDamage)??0),max1s:Number((Be==null?void 0:Be.max1s)||0),max5s:Number((Be==null?void 0:Be.max5s)||0),max30s:Number((Be==null?void 0:Be.max30s)||0)}}),St=qe.map(Be=>({key:String((Be==null?void 0:Be.key)||""),account:String((Be==null?void 0:Be.account)||"Unknown"),displayName:String((Be==null?void 0:Be.displayName)||(Be==null?void 0:Be.account)||"Unknown"),characterName:String((Be==null?void 0:Be.characterName)||(Be==null?void 0:Be.name)||(Be==null?void 0:Be.character_name)||(Be==null?void 0:Be.display_name)||""),profession:String((Be==null?void 0:Be.profession)||"Unknown"),professionList:Array.isArray(Be==null?void 0:Be.professionList)?Be.professionList.map(Bn=>String(Bn)):[],logs:Number((Be==null?void 0:Be.logs)||0),peakHit:Number((Be==null?void 0:Be.peakHit)||0),peak1s:Number((Be==null?void 0:Be.peak1s)||0),peak5s:Number((Be==null?void 0:Be.peak5s)||0),peak30s:Number((Be==null?void 0:Be.peak30s)||0),peakFightLabel:K((Be==null?void 0:Be.peakFightLabel)||""),peakSkillName:String((Be==null?void 0:Be.peakSkillName)||"")}));return{fights:be,players:St}}const $e=(be,St)=>{const Be=(St==null?void 0:St.skillMap)||{},Bn=(St==null?void 0:St.buffMap)||{};let Fr=0,Un="";const yr=Ot=>{const Lt=Number(Ot);if(!Number.isFinite(Lt))return String(Ot||"Unknown Skill");const Nt=(Be==null?void 0:Be[`s${Lt}`])||(Be==null?void 0:Be[`${Lt}`]);if(Nt!=null&&Nt.name)return String(Nt.name);const Xt=(Bn==null?void 0:Bn[`b${Lt}`])||(Bn==null?void 0:Bn[`${Lt}`]);return Xt!=null&&Xt.name?String(Xt.name):`Skill ${Lt}`},Cn=Ot=>{if(!Ot||typeof Ot!="object")return;const Lt=[Number(Ot.max),Number(Ot.maxDamage),Number(Ot.maxHit)].filter(Xt=>Number.isFinite(Xt)),Nt=Lt.length>0?Math.max(...Lt):0;Nt>Fr&&(Fr=Nt,Un=yr(Ot.id))};let qa=!1;return Array.isArray(be==null?void 0:be.targetDamageDist)&&be.targetDamageDist.forEach(Ot=>{Array.isArray(Ot)&&Ot.forEach(Lt=>{Array.isArray(Lt)&&Lt.forEach(Nt=>{qa=!0,Cn(Nt)})})}),(!qa||Fr<=0)&&Array.isArray(be==null?void 0:be.totalDamageDist)&&be.totalDamageDist.forEach(Ot=>{Array.isArray(Ot)&&Ot.forEach(Lt=>Cn(Lt))}),{peak:Fr,skillName:Un||"Unknown Skill"}},Tt=(be,St)=>{const Be=Lt=>{if(!Array.isArray(Lt)||Lt.length===0)return[];const Nt=[];for(let Xt=0;Xt<Lt.length;Xt+=1){const vr=Number(Lt[Xt]||0),rr=Xt>0?Number(Lt[Xt-1]||0):0;Nt.push(Math.max(0,vr-rr))}return Nt},Bn=(Lt,Nt)=>{if(!Array.isArray(Lt)||Lt.length===0||Nt<=0)return 0;let Xt=0,vr=0;for(let rr=0;rr<Lt.length;rr+=1)Xt+=Number(Lt[rr]||0),rr>=Nt&&(Xt-=Number(Lt[rr-Nt]||0)),rr>=Nt-1&&Xt>vr&&(vr=Xt);return Math.max(0,vr)},Fr=Lt=>{if(!Array.isArray(Lt))return[];const Nt=Lt.reduce((vr,rr)=>Math.max(vr,Array.isArray(rr)?rr.length:0),0);if(Nt<=0)return[];const Xt=new Array(Nt).fill(0);return Lt.forEach(vr=>{if(Array.isArray(vr))for(let rr=0;rr<Nt;rr+=1)Xt[rr]+=Number(vr[rr]||0)}),Xt},Un=Lt=>Array.isArray(Lt)?Lt.map(Nt=>Number(Nt||0)):null,yr=(Lt=>{if(!Array.isArray(Lt)||Lt.length===0)return null;const Nt=Lt[0];if(!Array.isArray(Nt))return null;if(Array.isArray(Nt[0])&&Array.isArray(Nt[0][0]))return Fr(Nt);if(Array.isArray(Nt[0])&&!Array.isArray(Nt[0][0])){const Xt=Lt.map(vr=>Un(Array.isArray(vr)?vr[0]:null)).filter(vr=>Array.isArray(vr)&&vr.length>0);if(Xt.length>0)return Fr(Xt)}return null})(be==null?void 0:be.targetDamage1S),Cn=Array.isArray(be==null?void 0:be.damage1S)&&Array.isArray(be.damage1S[0])?be.damage1S[0]:null,qa=yr||(Array.isArray(Cn)?Cn.map(Lt=>Number(Lt||0)):[]),Ot=Be(qa);return Bn(Ot,St)},Ft=[],dn=new Map;e.forEach(be=>{const St=be==null?void 0:be.details;if(!St)return;const Be=Ft.length+1,Bn=K(St.fightName||be.fightName||`Fight ${Be}`),Fr=St.zone||St.mapName||St.map||St.location||"",Un=pe(Bn,String(Fr||"")),yr={};(Array.isArray(St.players)?St.players:[]).forEach(Nt=>{if(Nt!=null&&Nt.notInSquad)return;const Xt=String((Nt==null?void 0:Nt.account)||(Nt==null?void 0:Nt.name)||"Unknown"),vr=String((Nt==null?void 0:Nt.character_name)||(Nt==null?void 0:Nt.display_name)||(Nt==null?void 0:Nt.name)||""),rr=String((Nt==null?void 0:Nt.profession)||"Unknown"),Il=`${Xt}|${rr}`,$s=$e(Nt,St),zs=Number($s.peak||0),_l=Number(Tt(Nt,1)||0),Uc=Number(Tt(Nt,5)||0),Vc=Number(Tt(Nt,30)||0);yr[Il]={hit:zs,burst1s:_l,burst5s:Uc,burst30s:Vc,skillName:$s.skillName};const Lr=dn.get(Il)||{key:Il,account:Xt,displayName:Xt,characterName:vr,profession:rr,professionList:[rr],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Lr.logs+=1,Lr.professionList.includes(rr)||Lr.professionList.push(rr),!Lr.characterName&&vr&&(Lr.characterName=vr),zs>Lr.peakHit&&(Lr.peakHit=zs,Lr.peakFightLabel=Un,Lr.peakSkillName=$s.skillName),_l>Lr.peak1s&&(Lr.peak1s=_l),Uc>Lr.peak5s&&(Lr.peak5s=Uc),Vc>Lr.peak30s&&(Lr.peak30s=Vc),dn.set(Il,Lr)});const Cn=Object.values(yr).reduce((Nt,Xt)=>Math.max(Nt,Number((Xt==null?void 0:Xt.hit)||0)),0),qa=Object.values(yr).reduce((Nt,Xt)=>Math.max(Nt,Number((Xt==null?void 0:Xt.burst1s)||0)),0),Ot=Object.values(yr).reduce((Nt,Xt)=>Math.max(Nt,Number((Xt==null?void 0:Xt.burst5s)||0)),0),Lt=Object.values(yr).reduce((Nt,Xt)=>Math.max(Nt,Number((Xt==null?void 0:Xt.burst30s)||0)),0);Ft.push({id:be.filePath||be.id||`fight-${Be}`,shortLabel:`F${Be}`,fullLabel:Un,timestamp:we(St,be),values:yr,maxHit:Cn,max1s:qa,max5s:Ot,max30s:Lt})});const ut=Array.from(dn.values()).sort((be,St)=>St.peakHit!==be.peakHit?St.peakHit-be.peakHit:be.displayName.localeCompare(St.displayName));return{fights:Ft,players:ut}},[e,E]),ya=v.useMemo(()=>{const K=ie=>String(ie||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),oe=E==null?void 0:E.incomingStrikeDamage,pe=Array.isArray(oe==null?void 0:oe.fights)?oe.fights:[],We=Array.isArray(oe==null?void 0:oe.players)?oe.players:[];if(pe.length===0&&We.length===0)return{fights:[],players:[]};const we=pe.map((ie,qe)=>{const un=ie!=null&&ie.values&&typeof ie.values=="object"?ie.values:{},$e={};return Object.entries(un).forEach(([Tt,Ft])=>{if(Ft&&typeof Ft=="object"){const dn=Number(Ft.damage||0);$e[Tt]={hit:Number(Ft.hit??dn),burst1s:Number(Ft.burst1s||0),burst5s:Number(Ft.burst5s||0),burst30s:Number(Ft.burst30s||0),skillName:String(Ft.skillName||""),buckets5s:Array.isArray(Ft.buckets5s)?Ft.buckets5s.map(ut=>Number(ut||0)):void 0,downIndices5s:Array.isArray(Ft.downIndices5s)?Ft.downIndices5s.map(ut=>Number(ut)).filter(ut=>Number.isFinite(ut)&&ut>=0):void 0,deathIndices5s:Array.isArray(Ft.deathIndices5s)?Ft.deathIndices5s.map(ut=>Number(ut)).filter(ut=>Number.isFinite(ut)&&ut>=0):void 0,skillRows:Array.isArray(Ft.skillRows)?Ft.skillRows.map(ut=>({skillName:String((ut==null?void 0:ut.skillName)||(ut==null?void 0:ut.name)||"Unknown Skill"),damage:Number((ut==null?void 0:ut.damage)||0),hits:Number((ut==null?void 0:ut.hits)||0),icon:typeof(ut==null?void 0:ut.icon)=="string"?ut.icon:void 0})).filter(ut=>Number.isFinite(ut.damage)&&ut.damage>0):void 0};return}$e[Tt]={hit:Number(Ft||0),burst1s:0,burst5s:0,burst30s:0,skillName:""}}),{id:String((ie==null?void 0:ie.id)||`fight-${qe+1}`),shortLabel:String((ie==null?void 0:ie.shortLabel)||`F${qe+1}`),fullLabel:K((ie==null?void 0:ie.fullLabel)||`Fight ${qe+1}`),timestamp:Number((ie==null?void 0:ie.timestamp)||0),values:$e,maxHit:Number((ie==null?void 0:ie.maxHit)??(ie==null?void 0:ie.maxDamage)??0),max1s:Number((ie==null?void 0:ie.max1s)||0),max5s:Number((ie==null?void 0:ie.max5s)||0),max30s:Number((ie==null?void 0:ie.max30s)||0)}}),Ze=We.map(ie=>({key:String((ie==null?void 0:ie.key)||""),account:String((ie==null?void 0:ie.account)||"Unknown"),displayName:String((ie==null?void 0:ie.displayName)||(ie==null?void 0:ie.account)||"Unknown"),characterName:String((ie==null?void 0:ie.characterName)||(ie==null?void 0:ie.name)||(ie==null?void 0:ie.character_name)||(ie==null?void 0:ie.display_name)||""),profession:String((ie==null?void 0:ie.profession)||"Unknown"),professionList:Array.isArray(ie==null?void 0:ie.professionList)?ie.professionList.map(qe=>String(qe)):[],logs:Number((ie==null?void 0:ie.logs)||0),peakHit:Number((ie==null?void 0:ie.peakHit)||0),peak1s:Number((ie==null?void 0:ie.peak1s)||0),peak5s:Number((ie==null?void 0:ie.peak5s)||0),peak30s:Number((ie==null?void 0:ie.peak30s)||0),peakFightLabel:K((ie==null?void 0:ie.peakFightLabel)||""),peakSkillName:String((ie==null?void 0:ie.peakSkillName)||"")}));return{fights:we,players:Ze}},[E]),qo=v.useMemo(()=>{const K=new Map;return zn.players.forEach(oe=>K.set(oe.key,oe)),K},[zn.players]),Ci=v.useMemo(()=>{const K=we=>hn==="hit"?we.peakHit:hn==="1s"?we.peak1s:hn==="5s"?we.peak5s:we.peak30s,oe=Ho.trim().toLowerCase(),pe=oe?zn.players.filter(we=>we.displayName.toLowerCase().includes(oe)||we.account.toLowerCase().includes(oe)||we.profession.toLowerCase().includes(oe)):zn.players,We=new Map;return pe.forEach(we=>{const Ze=we.profession||"Unknown",ie=We.get(Ze)||[];ie.push(we),We.set(Ze,ie)}),Array.from(We.entries()).map(([we,Ze])=>({profession:we,players:[...Ze].sort((ie,qe)=>K(qe)-K(ie)||ie.displayName.localeCompare(qe.displayName))})).sort((we,Ze)=>we.profession.localeCompare(Ze.profession))},[zn.players,Ho,hn]),Ls=Re&&qo.get(Re)||null,Oa=v.useMemo(()=>{if(!Re)return[];const K=pe=>pe?Number(hn==="hit"?pe.hit||0:hn==="1s"?pe.burst1s||0:hn==="5s"?pe.burst5s||0:pe.burst30s||0):0,oe=pe=>Number(hn==="hit"?pe.maxHit||0:hn==="1s"?pe.max1s||0:hn==="5s"?pe.max5s||0:pe.max30s||0);return zn.fights.map((pe,We)=>{var we;return{index:We,fightId:pe.id,shortLabel:pe.shortLabel,fullLabel:pe.fullLabel,timestamp:Number(pe.timestamp||0),damage:K(pe.values[Re]),maxDamage:oe(pe),skillName:String(((we=pe.values[Re])==null?void 0:we.skillName)||"")}})},[zn.fights,Re,hn]),Ha=v.useMemo(()=>{const K=Oa.reduce((pe,We)=>Math.max(pe,Number(We.damage||0)),0),oe=Oa.reduce((pe,We)=>Math.max(pe,Number(We.maxDamage||0)),0);return Math.max(1,K,oe)},[Oa]),ko=v.useMemo(()=>{var K,oe,pe,We,we,Ze,ie,qe,un;const $e=en===null?null:Oa.find(ke=>ke.index===en)||null;if(!$e||!Re)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const Tt=zn.fights.find((ke,nt)=>String(ke.id||"")===String($e.fightId||"")||nt===$e.index)||null,[Ft,dn]=Re.split("|"),ut=e.find(ke=>String((ke==null?void 0:ke.filePath)||(ke==null?void 0:ke.id)||"")===String($e.fightId||"")),be=ut==null?void 0:ut.details,St=ke=>Array.isArray(ke)?ke.map(nt=>Array.isArray(nt)?[Number(nt[0]),Number(nt[1])]:nt&&typeof nt=="object"?[Number(nt.time),Number(nt.value)]:null).filter(nt=>!!nt&&Number.isFinite(nt[0])&&nt[0]>=0):[],Be=ke=>String(ke||"").trim().toLowerCase(),Bn=Be(Ft),Fr=Be(dn),Un=qo.get(Re),yr=new Set([Be(Un==null?void 0:Un.displayName),Be(Un==null?void 0:Un.characterName),Be(Un==null?void 0:Un.account)].filter(Boolean)),Cn=Array.isArray(be==null?void 0:be.players)&&((K=be.players.map(ke=>{const nt=Be(ke==null?void 0:ke.account),qt=Be(ke==null?void 0:ke.name),Vn=Be(ke==null?void 0:ke.profession),fn=!!nt&&nt===Bn,ar=!!qt&&(qt===Bn||yr.has(qt)),Gi=!!nt&&yr.has(nt),Bs=!Fr||Vn===Fr;let Xi=0;return fn&&(Xi+=100),ar&&(Xi+=90),Gi&&(Xi+=80),Bs&&(Xi+=20),{player:ke,score:Xi}}).filter(ke=>ke.score>0).sort((ke,nt)=>nt.score-ke.score)[0])==null?void 0:K.player)||null,qa=(()=>{const ke=Cn==null?void 0:Cn.combatReplayData;return Array.isArray(ke)?ke.filter(nt=>nt&&typeof nt=="object"):ke&&typeof ke=="object"?[ke]:[]})(),Ot=qa.flatMap(ke=>St(ke==null?void 0:ke.down).map(([nt])=>nt)),Lt=qa.flatMap(ke=>St(ke==null?void 0:ke.dead).map(([nt])=>nt)),Nt=qa.map(ke=>Number(ke==null?void 0:ke.start)).filter(ke=>Number.isFinite(ke)&&ke>=0),Xt=Array.isArray(be==null?void 0:be.players)?be.players.flatMap(ke=>{const nt=ke==null?void 0:ke.combatReplayData;return Array.isArray(nt)?nt.map(qt=>Number(qt==null?void 0:qt.start)):[Number(nt==null?void 0:nt.start)]}).filter(ke=>Number.isFinite(ke)&&ke>=0).reduce((ke,nt)=>Math.min(ke,nt),Number.POSITIVE_INFINITY):Number.POSITIVE_INFINITY,vr=[0,Number((be==null?void 0:be.logStartOffset)||0),...Nt,Number.isFinite(Xt)?Xt:0].filter(ke=>Number.isFinite(ke)&&ke>=0),rr=ke=>{const nt=Math.max(0,Math.floor(Number(ke||0)/1e3)),qt=Math.floor(nt/5)*5;return`${qt}s-${qt+5}s`},Il=(ke,nt)=>{if(ke.length===0||nt.length===0)return[];const qt=nt.length*5e3,Vn=cr=>cr.reduce((No,Wc)=>Wc>=0&&Wc<=qt+2e3?No+1:No,0),fn=[],ar=ke.map(cr=>Number(cr||0)).filter(cr=>Number.isFinite(cr)&&cr>=0);if(ar.length===0)return[];fn.push(ar);const Gi=ar.reduce((cr,No)=>Math.max(cr,No),0),Bs=ar.reduce((cr,No)=>Math.min(cr,No),Number.POSITIVE_INFINITY);Gi>qt*20&&fn.push(ar.map(cr=>cr/1e3)),Gi<=qt*2&&Bs>=0&&Gi>0&&Gi<Math.max(120,nt.length*5+10)&&fn.push(ar.map(cr=>cr*1e3));let Xi=ar,A2=0,P2=-1;return fn.forEach(cr=>{const No=new Set(vr),Wc=cr.reduce((Fl,Cy)=>Math.min(Fl,Cy),Number.POSITIVE_INFINITY);if(Number.isFinite(Wc)&&qt>0&&Wc>qt){const Fl=Math.floor(Wc/qt)*qt;No.add(Fl),No.add(Math.max(0,Fl-qt))}No.forEach(Fl=>{const Cy=cr.map(k6=>k6-Fl),E2=Vn(Cy);E2>P2&&(P2=E2,A2=Fl,Xi=cr)})}),Xi.map(cr=>cr-A2).filter(cr=>Number.isFinite(cr)&&cr>=0)},$s=(ke,nt)=>{if(ke.length===0||nt.length===0)return[];const qt=Il(nt,ke),Vn=new Map;ke.forEach(ar=>{const Gi=/^(\d+)s-/.exec(String(ar));if(!Gi)return;const Bs=Number(Gi[1]);Number.isFinite(Bs)&&Vn.set(Bs,ar)});const fn=[];return qt.forEach(ar=>{const Gi=Math.max(0,Math.floor(Number(ar||0)/1e3)),Bs=Math.floor(Gi/5)*5,Xi=Vn.get(Bs)||rr(ar);ke.includes(Xi)&&fn.push(Xi)}),Array.from(new Set(fn))},zs=(ke,nt)=>{if(ke<=0||nt.length===0)return[];const qt=Array.from({length:ke},(fn,ar)=>`${ar*5}s-${(ar+1)*5}s`),Vn=Il(nt,qt).map(fn=>Math.floor(Math.max(0,Number(fn||0))/5e3)).filter(fn=>Number.isFinite(fn)&&fn>=0&&fn<ke);return Array.from(new Set(Vn))},_l=Array.isArray((pe=(oe=Tt==null?void 0:Tt.values)==null?void 0:oe[Re])==null?void 0:pe.buckets5s)?((we=(We=Tt==null?void 0:Tt.values)==null?void 0:We[Re])==null?void 0:we.buckets5s)||[]:[],Uc=Array.isArray((ie=(Ze=Tt==null?void 0:Tt.values)==null?void 0:Ze[Re])==null?void 0:ie.downIndices5s)?Tt.values[Re].downIndices5s.map(ke=>Number(ke)).filter(ke=>Number.isFinite(ke)&&ke>=0):[],Vc=Array.isArray((un=(qe=Tt==null?void 0:Tt.values)==null?void 0:qe[Re])==null?void 0:un.deathIndices5s)?Tt.values[Re].deathIndices5s.map(ke=>Number(ke)).filter(ke=>Number.isFinite(ke)&&ke>=0):[];if(_l.length>0){const ke=Math.max(0,Math.ceil(Number((be==null?void 0:be.durationMS)||0)/5e3)),nt=Math.max(_l.length,ke),qt=Array.from({length:nt},(fn,ar)=>({label:`${ar*5}s-${(ar+1)*5}s`,value:Number(_l[ar]||0)})),Vn=qt.map(fn=>fn.label);return{title:`Fight Breakdown - ${$e.shortLabel||"Fight"} (5s Damage Buckets)`,data:qt,downLabels:$s(Vn,Ot),deathLabels:$s(Vn,Lt),downIndices:Uc.length>0?Uc.filter(fn=>fn<qt.length):zs(qt.length,Ot),deathIndices:Vc.length>0?Vc.filter(fn=>fn<qt.length):zs(qt.length,Lt)}}const Lr=$e.shortLabel||"Fight";if(!be||!Array.isArray(be.players))return{title:`Fight Breakdown - ${Lr}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const N2=be.players.find(ke=>String((ke==null?void 0:ke.account)||(ke==null?void 0:ke.name)||"Unknown")===Ft&&String((ke==null?void 0:ke.profession)||"Unknown")===dn);if(!N2)return{title:`Fight Breakdown - ${Lr}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const Hc=N2,h6=ke=>{if(!Array.isArray(ke)||ke.length===0)return[];const nt=[];for(let qt=0;qt<ke.length;qt+=1){const Vn=Number(ke[qt]||0),fn=qt>0?Number(ke[qt-1]||0):0;nt.push(Math.max(0,Vn-fn))}return nt},j2=ke=>{if(!Array.isArray(ke))return[];const nt=ke.reduce((Vn,fn)=>Math.max(Vn,Array.isArray(fn)?fn.length:0),0);if(nt<=0)return[];const qt=new Array(nt).fill(0);return ke.forEach(Vn=>{if(Array.isArray(Vn))for(let fn=0;fn<nt;fn+=1)qt[fn]+=Number(Vn[fn]||0)}),qt},g6=ke=>Array.isArray(ke)?ke.map(nt=>Number(nt||0)):null,y6=(ke=>{if(!Array.isArray(ke)||ke.length===0)return null;const nt=ke[0];if(!Array.isArray(nt))return null;if(Array.isArray(nt[0])&&Array.isArray(nt[0][0]))return j2(nt);if(Array.isArray(nt[0])&&!Array.isArray(nt[0][0])){const qt=ke.map(Vn=>g6(Array.isArray(Vn)?Vn[0]:null)).filter(Vn=>Array.isArray(Vn)&&Vn.length>0);if(qt.length>0)return j2(qt)}return null})(Hc==null?void 0:Hc.targetDamage1S),C2=Array.isArray(Hc==null?void 0:Hc.damage1S)&&Array.isArray(Hc.damage1S[0])?Hc.damage1S[0]:null,v6=y6||(Array.isArray(C2)?C2.map(ke=>Number(ke||0)):[]),jy=h6(v6),md=5,b6=Math.max(0,Math.ceil(Number((be==null?void 0:be.durationMS)||0)/(md*1e3))),x6=Math.max(0,Math.ceil(jy.length/md)),w6=Math.max(b6,x6),hd=[];for(let ke=0;ke<w6;ke+=1){const nt=ke*md,qt=Math.min(nt+md,jy.length),Vn=jy.slice(nt,qt).reduce((fn,ar)=>fn+Number(ar||0),0);hd.push({label:`${nt}s-${nt+md}s`,value:Vn})}const M2=hd.map(ke=>ke.label);return{title:`Fight Breakdown - ${Lr} (5s Damage Buckets)`,data:hd,downLabels:$s(M2,Ot),deathLabels:$s(M2,Lt),downIndices:zs(hd.length,Ot),deathIndices:zs(hd.length,Lt)}},[en,Oa,Re,e,zn.fights,qo]),Ko=v.useMemo(()=>{const K=new Map;return ya.players.forEach(oe=>K.set(oe.key,oe)),K},[ya.players]),Ol=v.useMemo(()=>{const K=we=>xe==="hit"?we.peakHit:xe==="1s"?we.peak1s:xe==="5s"?we.peak5s:we.peak30s,oe=ue.trim().toLowerCase(),pe=oe?ya.players.filter(we=>we.displayName.toLowerCase().includes(oe)||we.account.toLowerCase().includes(oe)||we.profession.toLowerCase().includes(oe)):ya.players,We=new Map;return pe.forEach(we=>{const Ze=we.profession||"Unknown",ie=We.get(Ze)||[];ie.push(we),We.set(Ze,ie)}),Array.from(We.entries()).map(([we,Ze])=>({profession:we,players:[...Ze].sort((ie,qe)=>K(qe)-K(ie)||ie.displayName.localeCompare(qe.displayName))})).sort((we,Ze)=>we.profession.localeCompare(Ze.profession))},[ya.players,ue,xe]),Dl=Z&&Ko.get(Z)||null,So=v.useMemo(()=>{if(!Z)return[];const K=pe=>pe?Number(xe==="hit"?pe.hit||0:xe==="1s"?pe.burst1s||0:xe==="5s"?pe.burst5s||0:pe.burst30s||0):0,oe=pe=>Number(xe==="hit"?pe.maxHit||0:xe==="1s"?pe.max1s||0:xe==="5s"?pe.max5s||0:pe.max30s||0);return ya.fights.map((pe,We)=>{var we;return{index:We,fightId:pe.id,shortLabel:pe.shortLabel,fullLabel:pe.fullLabel,timestamp:Number(pe.timestamp||0),damage:K(pe.values[Z]),maxDamage:oe(pe),skillName:String(((we=pe.values[Z])==null?void 0:we.skillName)||"")}})},[ya.fights,Z,xe]),TR=v.useMemo(()=>{const K=So.reduce((pe,We)=>Math.max(pe,Number(We.damage||0)),0),oe=So.reduce((pe,We)=>Math.max(pe,Number(We.maxDamage||0)),0);return Math.max(1,K,oe)},[So]),qp=v.useMemo(()=>{var K,oe,pe,We,we,Ze,ie,qe;const un=He===null?null:So.find(ut=>ut.index===He)||null;if(!un||!Z)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const $e=ya.fights.find((ut,be)=>String(ut.id||"")===String(un.fightId||"")||be===un.index)||null,Tt=Array.isArray((oe=(K=$e==null?void 0:$e.values)==null?void 0:K[Z])==null?void 0:oe.buckets5s)?((We=(pe=$e==null?void 0:$e.values)==null?void 0:pe[Z])==null?void 0:We.buckets5s)||[]:[],Ft=Array.isArray((Ze=(we=$e==null?void 0:$e.values)==null?void 0:we[Z])==null?void 0:Ze.downIndices5s)?$e.values[Z].downIndices5s.map(ut=>Number(ut)).filter(ut=>Number.isFinite(ut)&&ut>=0):[],dn=Array.isArray((qe=(ie=$e==null?void 0:$e.values)==null?void 0:ie[Z])==null?void 0:qe.deathIndices5s)?$e.values[Z].deathIndices5s.map(ut=>Number(ut)).filter(ut=>Number.isFinite(ut)&&ut>=0):[];if(Tt.length>0){const ut=Tt.map((be,St)=>({label:`${St*5}s-${(St+1)*5}s`,value:Number(be||0)}));return{title:`Fight Breakdown - ${un.shortLabel||"Fight"} (5s Damage Buckets)`,data:ut,downLabels:[],deathLabels:[],downIndices:Ft.filter(be=>be<ut.length),deathIndices:dn.filter(be=>be<ut.length)}}return{title:`Fight Breakdown - ${un.shortLabel||"Fight"}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]}},[He,So,Z,ya.fights]),OR=v.useMemo(()=>{var K,oe;if(He===null||!Z)return[];const pe=So.find(we=>we.index===He);if(!pe)return[];const We=ya.fights.find((we,Ze)=>String(we.id||"")===String(pe.fightId||"")||Ze===pe.index);return[...((oe=(K=We==null?void 0:We.values)==null?void 0:K[Z])==null?void 0:oe.skillRows)||[]].filter(we=>Number((we==null?void 0:we.damage)||0)>0).sort((we,Ze)=>Number(Ze.damage||0)-Number(we.damage||0)).slice(0,30)},[He,Z,So,ya.fights]),DR=v.useMemo(()=>{var K,oe;if(en===null||!Re)return[];const pe=Oa.find(we=>we.index===en);if(!pe)return[];const We=zn.fights.find((we,Ze)=>String(we.id||"")===String(pe.fightId||"")||Ze===pe.index);return[...((oe=(K=We==null?void 0:We.values)==null?void 0:K[Re])==null?void 0:oe.skillRows)||[]].filter(we=>Number((we==null?void 0:we.damage)||0)>0).sort((we,Ze)=>Number(Ze.damage||0)-Number(we.damage||0)).slice(0,30)},[en,Re,Oa,zn.fights]);v.useEffect(()=>{if(gr.length===0){bo!==null&&Lc(null),Ta!==null&&Fs(null);return}if(!bo||!wo.has(bo)){const K=gr[0].key;Lc(K),$c(null)}},[gr,wo,bo,Ta]),v.useEffect(()=>{if(!li||li.skills.length===0){Ta!==null&&Fs(null);return}const K=li.skills.some(oe=>oe.id===Ta);(!Ta||!K)&&Fs(li.skills[0].id)},[li,Ta]),v.useEffect(()=>{if(si.length===0){rt!==null&&Rt(null),Nn!==null&&Kn(null);return}if(!rt||!Tl.has(rt)){const K=si[0].profession;Rt(K),er(null)}},[si,Tl,rt,Nn]),v.useEffect(()=>{if(!Ki||Ki.skills.length===0){Nn!==null&&Kn(null);return}const K=Ki.skills.some(oe=>oe.id===Nn);(!Nn||!K)&&Kn(Ki.skills[0].id)},[Ki,Nn]),v.useEffect(()=>{if(zn.players.length===0){Re!==null&&mn(null);return}(!Re||!qo.has(Re))&&Re!==null&&mn(null)},[zn.players,qo,Re]),v.useEffect(()=>{In(null)},[Re,hn]),v.useEffect(()=>{en!==null&&(Oa.some(K=>K.index===en)||In(null))},[Oa,en]),v.useEffect(()=>{if(ya.players.length===0){Z!==null&&Ue(null);return}(!Z||!Ko.has(Z))&&Z!==null&&Ue(null)},[ya.players,Ko,Z]),v.useEffect(()=>{Ct(null)},[Z,xe]),v.useEffect(()=>{He!==null&&(So.some(K=>K.index===He)||Ct(null))},[So,He]);const IR=v.useMemo(()=>new Set(lt),[lt]),{playerMapByKey:Yo,playerTotalsForSkill:Bc,skillChartData:_R,skillChartMaxY:FR,groupedSkillUsagePlayers:LR}=eU({skillUsageData:A,selectedSkillId:je,selectedPlayers:IR,skillUsageView:At==="perSecond"?"perSecond":"total"}),m2=v.useMemo(()=>{const K=new Map,oe=Ze=>{Ze.forEach(ie=>{const qe=Qc(ie==null?void 0:ie.name)||(ie==null?void 0:ie.name);qe&&ie!=null&&ie.icon&&!K.has(qe)&&K.set(qe,ie.icon)})},pe=Ze=>{Ze.forEach(ie=>{Object.entries((ie==null?void 0:ie.conditions)||{}).forEach(([qe,un])=>{const $e=Qc(qe)||qe;un!=null&&un.icon&&!K.has($e)&&K.set($e,un.icon)})})},We=Ze=>{const ie=new Map;return Ze.forEach(qe=>{const un=Qc(qe==null?void 0:qe.name)||(qe==null?void 0:qe.name);if(!un)return;const $e=ie.get(un)||{name:un,icon:(qe==null?void 0:qe.icon)||K.get(un)||mm(un),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0};$e.applications+=Number((qe==null?void 0:qe.applications)||0),$e.damage+=Number((qe==null?void 0:qe.damage)||0),qe!=null&&qe.applicationsFromUptime&&($e.applicationsFromUptime+=Number(qe.applicationsFromUptime||0)),qe!=null&&qe.applicationsFromBuffs&&($e.applicationsFromBuffs+=Number(qe.applicationsFromBuffs||0)),qe!=null&&qe.applicationsFromBuffsActive&&($e.applicationsFromBuffsActive+=Number(qe.applicationsFromBuffsActive||0)),!$e.icon&&qe!=null&&qe.icon&&($e.icon=qe.icon),$e.icon||($e.icon=mm(un)),ie.set(un,$e)}),Array.from(ie.values())},we=Ze=>Ze.map(ie=>{const qe={};return Object.entries((ie==null?void 0:ie.conditions)||{}).forEach(([un,$e])=>{const Tt=Qc(un)||un;if(!Tt)return;const Ft=qe[Tt]||{icon:($e==null?void 0:$e.icon)||K.get(Tt)||mm(Tt),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0,skills:{}};Ft.applications+=Number(($e==null?void 0:$e.applications)||0),Ft.damage+=Number(($e==null?void 0:$e.damage)||0),$e!=null&&$e.applicationsFromUptime&&(Ft.applicationsFromUptime+=Number($e.applicationsFromUptime||0)),$e!=null&&$e.applicationsFromBuffs&&(Ft.applicationsFromBuffs+=Number($e.applicationsFromBuffs||0)),$e!=null&&$e.applicationsFromBuffsActive&&(Ft.applicationsFromBuffsActive+=Number($e.applicationsFromBuffsActive||0)),!Ft.icon&&$e!=null&&$e.icon&&(Ft.icon=$e.icon),Ft.icon||(Ft.icon=mm(Tt)),Object.values(($e==null?void 0:$e.skills)||{}).forEach(dn=>{const ut=(dn==null?void 0:dn.name)||"Unknown",be=Ft.skills[ut]||{name:ut,hits:0,damage:0,icon:dn==null?void 0:dn.icon};be.hits+=Number((dn==null?void 0:dn.hits)||0),be.damage+=Number((dn==null?void 0:dn.damage)||0),!be.icon&&dn!=null&&dn.icon&&(be.icon=dn.icon),Ft.skills[ut]=be}),qe[Tt]=Ft}),{...ie,conditions:qe}});return(Ze,ie)=>(oe(Ze),pe(ie),{summary:We(Ze),players:we(ie)})},[]),h2=Ge==="outgoing"?E.outgoingConditionSummary:E.incomingConditionSummary,g2=Ge==="outgoing"?E.outgoingConditionPlayers:E.incomingConditionPlayers,{summary:Kp,players:RR}=v.useMemo(()=>m2(h2||[],g2||[]),[m2,h2,g2]);v.useEffect(()=>{if(Zt==="all"||Kp.some(oe=>oe.name===Zt))return;const K=Qc(Zt);K&&Kp.some(oe=>oe.name===K)?Yt(K):Yt("all")},[Zt,Kp,Yt]);const $R=v.useMemo(()=>{const K={};return Bc.forEach((oe,pe)=>{const We=Yo.get(pe);if(!We)return;const we=We.profession;(!K[we]||oe>K[we])&&(K[we]=oe)}),K},[Bc,Yo]),It=v.useCallback(K=>d?d(K):!0,[d]),tr=v.useCallback((K,oe)=>{const pe=It(K);return d?`${oe} ${pe?"":"hidden"}`:`${oe} transition-[opacity,transform] duration-700 ease-in-out ${pe?"opacity-100 translate-y-0 max-h-[99999px]":"opacity-0 -translate-y-2 max-h-0 h-0 min-h-0 overflow-hidden pointer-events-none p-0 !p-0 m-0 !mb-0 !mt-0 border-0 !border-0 border-transparent"}`},[It,d]),y2=v.useMemo(()=>Rae.find(K=>It(K))||null,[It]),nr=v.useCallback(K=>K===y2,[y2]),zR=v.useMemo(()=>{const K=new Map,oe=new Map;return lt.forEach(pe=>{const We=Yo.get(pe);if(!We)return;const we=Bc.get(pe)??0,Ze=oe.get(We.profession)||[];Ze.push({key:pe,total:we}),oe.set(We.profession,Ze)}),oe.forEach(pe=>{pe.sort((We,we)=>we.total-We.total),pe.forEach((We,we)=>{K.set(We.key,we)})}),K},[lt,Yo,Bc]),v2=["0","12 3","8 3","6 3","4 3","2 3"],BR=K=>{const oe=Yo.get(K),pe=sc((oe==null?void 0:oe.profession)||""),We=Bc.get(K)??0,we=oe!=null&&oe.profession&&$R[oe.profession]||1,Ze=.35+(we>0?We/we:1)*.65;return Yp(pe,Ze)},UR=K=>{const oe=zR.get(K)??0;return v2[oe%v2.length]},VR=(K,oe,pe)=>{if(!pe)return BR(K);const We=Yo.get(K),we=sc((We==null?void 0:We.profession)||"");return oe?Yp(we,1.2):Yp(we,.5)},Yp=(K,oe)=>{const pe=K.replace("#","");if(pe.length!==6)return K;const We=$e=>Math.max(0,Math.min(255,$e)),we=$e=>Number.parseInt(pe.slice($e,$e+2),16),Ze=$e=>We(Math.round($e)).toString(16).padStart(2,"0"),ie=we(0),qe=we(2),un=we(4);return`#${Ze(ie*oe)}${Ze(qe*oe)}${Ze(un*oe)}`},b2=v.useMemo(()=>{const K=new Map;return A.skillOptions.forEach(oe=>{K.set(oe.id,{name:oe.name,icon:oe.icon})}),K},[A.skillOptions]),pd=v.useMemo(()=>{var K;if(lt.length===0)return[];const oe=new Map,pe=new Map;let We=0;lt.forEach($e=>{const Tt=Yo.get($e);if(!Tt)return;We+=Tt.totalActiveSeconds||0,Object.entries(Tt.skillTotals||{}).forEach(([dn,ut])=>{oe.set(dn,(oe.get(dn)||0)+Number(ut||0))});const Ft=Tt.profession||"Unknown";pe.set(Ft,(pe.get(Ft)||0)+(Tt.totalActiveSeconds||0))});const we=Fe.trim().toLowerCase(),Ze=At==="perSecond",ie=((K=Array.from(pe.entries()).sort(($e,Tt)=>Tt[1]-$e[1])[0])==null?void 0:K[0])||"Unknown",qe=sc(ie),un="#64748b";return Array.from(oe.entries()).map(([$e,Tt])=>{const Ft=b2.get($e),dn=(Ft==null?void 0:Ft.name)||$e,ut=Ze&&We>0?Tt/We:Tt;return{skillId:$e,name:dn,icon:Ft==null?void 0:Ft.icon,total:ut}}).filter($e=>$e.total>0&&(!we||$e.name.toLowerCase().includes(we))).sort(($e,Tt)=>Tt.total-$e.total).map(($e,Tt)=>({...$e,color:Tt===0?qe:Yp(qe,.85-Math.min(Tt*.06,.4))||un}))},[lt,Yo,Fe,At,b2]);v.useEffect(()=>{if(pd.length===0){je!==null&&Le(null);return}(!je||!pd.some(K=>K.skillId===je))&&Le(pd[0].skillId)},[pd,je,Le]);const Gp=A.skillOptions.find(K=>K.id===je),HR=(Gp==null?void 0:Gp.name)||"",WR=(Gp==null?void 0:Gp.icon)||null,qR=j&&!!je&&lt.length>0,Xp="__all__",KR=j&&cn.length>0,Rs=v.useMemo(()=>cn.find(K=>K.profession===ln)??null,[cn,ln]),YR=la===Xp,GR=v.useMemo(()=>{var K;return((K=Rs==null?void 0:Rs.skills)==null?void 0:K.find(oe=>oe.id===la))??null},[Rs,la]);v.useEffect(()=>{if(cn.length===0){ln!==null&&Ar(null),ea!==null&&ji(null);return}if(!ln||!cn.some(K=>K.profession===ln)){const K=cn[0].profession;Ar(K),ji(null)}},[cn,ln,ea]),v.useEffect(()=>{if(!Rs||Rs.skills.length===0){la!==null&&Is(null);return}const K=Rs.skills.some(oe=>oe.id===la);(!la||!K&&la!==Xp)&&Is(Xp)},[Rs,la]);const XR=K=>{ct(oe=>oe.includes(K)?oe.filter(pe=>pe!==K):[...oe,K])},JR=K=>{ct(oe=>oe.filter(pe=>pe!==K))},QR=v.useMemo(()=>{const K=pn.trim().toLowerCase(),oe=E.boonTables||[];return K?oe.filter(pe=>pe.name.toLowerCase().includes(K)):oe},[E.boonTables,pn]),ZR=v.useMemo(()=>yn?(E.boonTables||[]).find(K=>K.id===yn)??null:null,[E.boonTables,yn]),e6=v.useMemo(()=>{const K=ga.trim().toLowerCase(),oe=[...E.specialTables||[]].sort((pe,We)=>pe.name.localeCompare(We.name));return K?oe.filter(pe=>pe.name.toLowerCase().includes(K)):oe},[E.specialTables,ga]),Yi=v.useMemo(()=>[...E.specialTables||[]].filter(K=>/\b(sigil|relic)\b/i.test(String((K==null?void 0:K.name)||""))).sort((K,oe)=>K.name.localeCompare(oe.name)),[E.specialTables]),t6=v.useMemo(()=>{const K=Ir.trim().toLowerCase();return K?Yi.filter(oe=>oe.name.toLowerCase().includes(K)):Yi},[Yi,Ir]),n6=v.useMemo(()=>Nr?(E.specialTables||[]).find(K=>K.id===Nr)??null:null,[E.specialTables,Nr]),r6=v.useMemo(()=>Qt?Yi.find(K=>K.id===Qt)??null:null,[Yi,Qt]);v.useEffect(()=>{!E.boonTables||E.boonTables.length===0||(!yn||!E.boonTables.some(K=>K.id===yn))&&Or(E.boonTables[0].id)},[E.boonTables,yn]),v.useEffect(()=>{!E.specialTables||E.specialTables.length===0||(!Nr||!E.specialTables.some(K=>K.id===Nr))&&Rn(E.specialTables[0].id)},[E.specialTables,Nr]),v.useEffect(()=>{if(!Yi||Yi.length===0){Qt!==null&&sn(null);return}(!Qt||!Yi.some(K=>K.id===Qt))&&sn(Yi[0].id)},[Yi,Qt]),v.useEffect(()=>{const K=()=>{const pe=window.getSelection();pe&&pe.rangeCount>0&&pe.removeAllRanges()},oe=pe=>{var We;const we=pe.target;(We=we==null?void 0:we.closest)!=null&&We.call(we,".recharts-wrapper")&&(pe.preventDefault(),K())};return document.addEventListener("selectstart",oe),document.addEventListener("mousedown",oe),document.addEventListener("mousemove",oe),document.addEventListener("dragstart",oe),()=>{document.removeEventListener("selectstart",oe),document.removeEventListener("mousedown",oe),document.removeEventListener("mousemove",oe),document.removeEventListener("dragstart",oe)}},[]);const Wa=K=>{$t.current&&(window.clearTimeout($t.current),$t.current=null),tt(!1),Vt(K)},va=()=>{at&&($t.current&&window.clearTimeout($t.current),tt(!0),$t.current=window.setTimeout(()=>{Vt(null),tt(!1),$t.current=null},160))};v.useEffect(()=>{if(!at)return;const K=We=>{We.key==="Escape"&&va()},oe=document.body.style.overflow,pe=document.documentElement.style.overflow;return document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",window.addEventListener("keydown",K),()=>{window.removeEventListener("keydown",K),document.body.style.overflow=oe,document.documentElement.style.overflow=pe}},[at]);const x2=(K,oe)=>{const pe=((oe==null?void 0:oe.value)||0)-((K==null?void 0:K.value)||0);return pe!==0?pe:String((K==null?void 0:K.name)||"").localeCompare(String((oe==null?void 0:oe.name)||""))},w2=Array.isArray(E==null?void 0:E.squadClassData)?E.squadClassData:[],k2=Array.isArray(E==null?void 0:E.enemyClassData)?E.enemyClassData:[],a6=Array.isArray(E==null?void 0:E.attendanceData)?E.attendanceData:[],Ny=Array.isArray(E==null?void 0:E.squadCompByFight)?E.squadCompByFight:[],S2=Array.isArray(E==null?void 0:E.fightBreakdown)?E.fightBreakdown:[],i6=v.useMemo(()=>{const K=new Map;return S2.forEach(oe=>{const pe=String((oe==null?void 0:oe.id)||"");pe&&K.set(pe,oe)}),Ny.map(oe=>{const pe=K.get(String((oe==null?void 0:oe.id)||""))||null;return{...oe,enemyClassCounts:(pe==null?void 0:pe.enemyClassCounts)||{}}})},[Ny,S2]),o6=v.useMemo(()=>[...w2].sort(x2),[w2]),s6=v.useMemo(()=>[...k2].sort(x2),[k2]),l6=c?"stats-view min-h-screen flex flex-col p-0 w-full max-w-none":"stats-view h-full flex flex-col p-1 w-full max-w-none overflow-hidden",c6=c?`stats-sections space-y-0 min-h-0 px-3 pb-3 pt-3 sm:px-4 sm:pb-4 sm:pt-4 rounded-xl border border-white/5 ${at?"":"backdrop-blur-xl"}`:`flex-1 overflow-y-auto pr-2 space-y-6 min-h-0 border border-white/5 p-4 rounded-xl ${at?"":"backdrop-blur-2xl"}`,u6=c&&p!=="matte"?{backgroundColor:"rgba(3, 7, 18, 0.75)",backgroundImage:"linear-gradient(160deg, rgba(var(--accent-rgb), 0.12), rgba(var(--accent-rgb), 0.04) 70%)"}:void 0,d6=K=>At==="perSecond"?K.toFixed(1):Math.round(K).toLocaleString(),f6=K=>K.toFixed(1),p6=K=>Math.round(K).toLocaleString(),m6=K=>typeof K=="number"&&Number.isFinite(K)?K.toFixed(1):"0.0",Da=nae;return u.jsxs("div",{className:l6,children:[at&&u.jsx("div",{className:`fixed inset-0 z-40 bg-black/70 backdrop-blur-md modal-backdrop ${ht?"modal-backdrop-exit":"modal-backdrop-enter"}`,onClick:va}),u.jsx(Dae,{embedded:c,dashboardTitle:f,totalLogs:E.total,onBack:t,devMockAvailable:re,devMockUploadState:ne,onDevMockUpload:ye,uploadingWeb:_,onWebUpload:se,sharing:Ye,canShareDiscord:m,onShare:le}),u.jsx(Iae,{embedded:c,webUploadMessage:I,webUploadUrl:Q,webUploadBuildStatus:J,webCopyStatus:U,setWebCopyStatus:F}),u.jsx(_ae,{embedded:c,devMockAvailable:re,devMockUploadState:ne}),u.jsx("div",{className:c?"":"flex-1 min-h-0 flex",children:u.jsxs("div",{id:"stats-dashboard-container",ref:G,className:`${c6} ${c?"":"flex-1"}`,style:u6,children:[u.jsxs(u.Fragment,{children:[It("overview")&&u.jsx(vae,{stats:E,isSectionVisible:It,isFirstVisibleSection:nr,sectionClass:tr}),It("fight-breakdown")&&u.jsx(bae,{stats:E,fightBreakdownTab:vt,setFightBreakdownTab:rn,isSectionVisible:It,isFirstVisibleSection:nr,sectionClass:tr}),It("top-players")&&u.jsx(kae,{stats:E,showTopStats:S,showMvp:C,topStatsMode:M,expandedLeader:pt,setExpandedLeader:Ht,formatTopStatValue:Hs,formatWithCommas:Ti,isMvpStatEnabled:De,renderProfessionIcon:Da,isSectionVisible:It,isFirstVisibleSection:nr,sectionClass:tr}),It("top-skills-outgoing")&&u.jsx(Sae,{stats:E,topSkillsMetric:P,onTopSkillsMetricChange:z,isSectionVisible:It,isFirstVisibleSection:nr,sectionClass:tr}),It("squad-composition")&&u.jsx(Nae,{sortedSquadClassData:o6,sortedEnemyClassData:s6,getProfessionIconPath:Ql,isSectionVisible:It,isFirstVisibleSection:nr,sectionClass:tr}),It("attendance-ledger")&&u.jsx(Aae,{attendanceRows:a6,getProfessionIconPath:Ql,isSectionVisible:It,isFirstVisibleSection:nr,sectionClass:tr}),It("squad-comp-fight")&&u.jsx(Eae,{fights:Ny,getProfessionIconPath:Ql,isSectionVisible:It,isFirstVisibleSection:nr,sectionClass:tr}),It("fight-comp")&&u.jsx(Oae,{fights:i6,getProfessionIconPath:Ql,isSectionVisible:It,isFirstVisibleSection:nr,sectionClass:tr}),It("timeline")&&u.jsx(jae,{timelineData:E.timelineData,timelineFriendlyScope:mt,setTimelineFriendlyScope:Ut,isSectionVisible:It,isFirstVisibleSection:nr,sectionClass:tr}),It("map-distribution")&&u.jsx(Cae,{mapData:E.mapData,isSectionVisible:It,isFirstVisibleSection:nr,sectionClass:tr}),It("offense-detailed")&&u.jsx(sae,{stats:E,OFFENSE_METRICS:JT,roundCountStats:N,offenseSearch:jr,setOffenseSearch:Cr,activeOffenseStat:kn,setActiveOffenseStat:Tn,offenseViewMode:Pe,setOffenseViewMode:Oe,formatWithCommas:Ti,renderProfessionIcon:Da,expandedSection:at,expandedSectionClosing:ht,openExpandedSection:Wa,closeExpandedSection:va,isSectionVisible:It,isFirstVisibleSection:nr,sectionClass:tr,sidebarListClass:Mo}),It("player-breakdown")&&u.jsx(oae,{expandedSection:at,expandedSectionClosing:ht,openExpandedSection:Wa,closeExpandedSection:va,isSectionVisible:It,isFirstVisibleSection:nr,sectionClass:tr,sidebarListClass:Mo,viewMode:Ee,setViewMode:Ke,playerSkillBreakdowns:gr,classSkillBreakdowns:si,activePlayerKey:bo,setActivePlayerKey:Lc,expandedPlayerKey:Rc,setExpandedPlayerKey:$c,activePlayerSkillId:Ta,setActivePlayerSkillId:Fs,activeClassKey:rt,setActiveClassKey:Rt,expandedClassKey:Sn,setExpandedClassKey:er,activeClassSkillId:Nn,setActiveClassSkillId:Kn,skillSearch:xo,setSkillSearch:zc,activePlayerBreakdown:li,activePlayerSkill:Hp,activeClassBreakdown:Ki,activeClassSkill:Wp,renderProfessionIcon:Da}),It("spike-damage")&&u.jsx(FA,{expandedSection:at,expandedSectionClosing:ht,openExpandedSection:Wa,closeExpandedSection:va,isSectionVisible:It,isFirstVisibleSection:nr,sectionClass:tr,spikePlayerFilter:Ho,setSpikePlayerFilter:H,groupedSpikePlayers:Ci,spikeMode:hn,setSpikeMode:nn,selectedSpikePlayerKey:Re,setSelectedSpikePlayerKey:mn,selectedSpikePlayer:Ls,spikeChartData:Oa,spikeChartMaxY:Ha,selectedSpikeFightIndex:en,setSelectedSpikeFightIndex:In,spikeDrilldownTitle:ko.title,spikeDrilldownData:ko.data,spikeDrilldownDownIndices:ko.downIndices,spikeDrilldownDeathIndices:ko.deathIndices,spikeFightSkillRows:DR,spikeFightSkillTitle:"Outgoing Skill Damage (Selected Fight)",formatWithCommas:Ti,renderProfessionIcon:Da}),It("conditions-outgoing")&&u.jsx(lae,{conditionSummary:Kp,conditionPlayers:RR,conditionSearch:Fc,setConditionSearch:El,activeConditionName:Zt,setActiveConditionName:Yt,conditionDirection:Ge,setConditionDirection:Dt,conditionGridClass:Wo,effectiveConditionSort:fd,setConditionSort:Ea,showConditionDamage:_r,renderProfessionIcon:Da,expandedSection:at,expandedSectionClosing:ht,openExpandedSection:Wa,closeExpandedSection:va,isSectionVisible:It,isFirstVisibleSection:nr,sectionClass:tr,sidebarListClass:Mo}),It("defense-detailed")&&u.jsx(uae,{stats:E,DEFENSE_METRICS:QT,defenseSearch:Vo,setDefenseSearch:dd,activeDefenseStat:Mr,setActiveDefenseStat:xn,defenseViewMode:ft,setDefenseViewMode:wt,roundCountStats:N,formatWithCommas:Ti,renderProfessionIcon:Da,expandedSection:at,expandedSectionClosing:ht,openExpandedSection:Wa,closeExpandedSection:va,isSectionVisible:It,isFirstVisibleSection:nr,sectionClass:tr,sidebarListClass:Mo}),It("incoming-strike-damage")&&u.jsx(FA,{sectionId:"incoming-strike-damage",title:"Incoming Strike Damage",subtitle:"Select one enemy class to chart incoming strike pressure per fight.",listTitle:"Enemy Classes",searchPlaceholder:"Search enemy class",titleIconClassName:"text-cyan-300",expandedSection:at,expandedSectionClosing:ht,openExpandedSection:Wa,closeExpandedSection:va,isSectionVisible:It,isFirstVisibleSection:nr,sectionClass:tr,spikePlayerFilter:ue,setSpikePlayerFilter:Ae,groupedSpikePlayers:Ol,spikeMode:xe,setSpikeMode:Qe,selectedSpikePlayerKey:Z,setSelectedSpikePlayerKey:Ue,selectedSpikePlayer:Dl,spikeChartData:So,spikeChartMaxY:TR,selectedSpikeFightIndex:He,setSelectedSpikeFightIndex:Ct,spikeDrilldownTitle:qp.title,spikeDrilldownData:qp.data,spikeDrilldownDownIndices:qp.downIndices,spikeDrilldownDeathIndices:qp.deathIndices,spikeFightSkillRows:OR,spikeFightSkillTitle:"Incoming Skill Damage (Selected Fight)",formatWithCommas:Ti,renderProfessionIcon:Da}),It("defense-mitigation")&&u.jsx(dae,{stats:E,DAMAGE_MITIGATION_METRICS:Zz,damageMitigationSearch:Ds,setDamageMitigationSearch:_c,activeDamageMitigationStat:Ie,setActiveDamageMitigationStat:dt,damageMitigationViewMode:gt,setDamageMitigationViewMode:Bt,damageMitigationScope:Gt,setDamageMitigationScope:ve,roundCountStats:N,formatWithCommas:Ti,renderProfessionIcon:Da,expandedSection:at,expandedSectionClosing:ht,openExpandedSection:Wa,closeExpandedSection:va,isSectionVisible:It,isFirstVisibleSection:nr,sectionClass:tr,sidebarListClass:Mo}),It("boon-output")&&u.jsx(cae,{stats:E,activeBoonCategory:de,setActiveBoonCategory:K=>Ce(K),activeBoonMetric:Pt,setActiveBoonMetric:Wt,activeBoonTab:yn,setActiveBoonTab:Or,activeBoonTable:ZR,filteredBoonTables:QR,boonSearch:pn,setBoonSearch:Wr,formatBoonMetricDisplay:N8,getBoonMetricValue:bO,renderProfessionIcon:Da,roundCountStats:N,expandedSection:at,expandedSectionClosing:ht,openExpandedSection:Wa,closeExpandedSection:va,isSectionVisible:It,isFirstVisibleSection:nr,sectionClass:tr,sidebarListClass:Mo}),It("support-detailed")&&u.jsx(fae,{stats:E,SUPPORT_METRICS:ZT,supportSearch:Et,setSupportSearch:st,activeSupportStat:wy,setActiveSupportStat:ky,supportViewMode:Mn,setSupportViewMode:Dn,cleanseScope:Je,setCleanseScope:Xe,roundCountStats:N,formatWithCommas:Ti,renderProfessionIcon:Da,expandedSection:at,expandedSectionClosing:ht,openExpandedSection:Wa,closeExpandedSection:va,isSectionVisible:It,isFirstVisibleSection:nr,sectionClass:tr,sidebarListClass:Mo}),It("healing-stats")&&u.jsx(pae,{stats:E,HEALING_METRICS:eB,activeHealingMetric:Sy,setActiveHealingMetric:T,healingCategory:V,setHealingCategory:ae,activeResUtilitySkill:Me,setActiveResUtilitySkill:X,skillUsageData:A,formatWithCommas:Ti,renderProfessionIcon:Da,expandedSection:at,expandedSectionClosing:ht,openExpandedSection:Wa,closeExpandedSection:va,isSectionVisible:It,isFirstVisibleSection:nr,sectionClass:tr}),It("special-buffs")&&u.jsx(hae,{stats:E,specialSearch:ga,setSpecialSearch:Dr,filteredSpecialTables:e6,activeSpecialTab:Nr,setActiveSpecialTab:Rn,activeSpecialTable:n6,formatWithCommas:Ti,renderProfessionIcon:Da,expandedSection:at,expandedSectionClosing:ht,openExpandedSection:Wa,closeExpandedSection:va,isSectionVisible:It,isFirstVisibleSection:nr,sectionClass:tr,sidebarListClass:Mo}),It("sigil-relic-uptime")&&u.jsx(yae,{hasSigilRelicTables:Yi.length>0,sigilRelicSearch:Ir,setSigilRelicSearch:bn,filteredSigilRelicTables:t6,activeSigilRelicTab:Qt,setActiveSigilRelicTab:sn,activeSigilRelicTable:r6,formatWithCommas:Ti,renderProfessionIcon:Da,expandedSection:at,expandedSectionClosing:ht,openExpandedSection:Wa,closeExpandedSection:va,isSectionVisible:It,isFirstVisibleSection:nr,sectionClass:tr,sidebarListClass:Mo}),It("skill-usage")&&u.jsx(rae,{expandedSection:at,expandedSectionClosing:ht,openExpandedSection:Wa,closeExpandedSection:va,isSectionVisible:It,isFirstVisibleSection:nr,sectionClass:tr,selectedPlayers:lt,setSelectedPlayers:ct,removeSelectedPlayer:JR,playerMapByKey:Yo,groupedSkillUsagePlayers:LR,expandedSkillUsageClass:ge,setExpandedSkillUsageClass:bt,togglePlayerSelection:XR,skillUsagePlayerFilter:Ne,setSkillUsagePlayerFilter:Se,skillUsageView:At,setSkillUsageView:Mt,skillUsageData:A,skillUsageSkillFilter:Fe,setSkillUsageSkillFilter:me,selectedSkillId:je,setSelectedSkillId:Le,skillBarData:pd,selectedSkillName:HR,selectedSkillIcon:WR,skillUsageReady:qR,skillUsageAvailable:j,isSkillUsagePerSecond:Te,skillChartData:_R,skillChartMaxY:FR,playerTotalsForSkill:Bc,hoveredSkillPlayer:yt,setHoveredSkillPlayer:et,getLineStrokeColor:VR,getLineDashForPlayer:UR,formatSkillUsageValue:d6,renderProfessionIcon:Da}),It("apm-stats")&&u.jsx(iae,{expandedSection:at,expandedSectionClosing:ht,openExpandedSection:Wa,closeExpandedSection:va,isSectionVisible:It,isFirstVisibleSection:nr,sectionClass:tr,sidebarListClass:Mo,apmSpecAvailable:KR,skillUsageAvailable:j,apmSpecTables:cn,activeApmSpec:ln,setActiveApmSpec:Ar,expandedApmSpec:ea,setExpandedApmSpec:ji,activeApmSkillId:la,setActiveApmSkillId:Is,ALL_SKILLS_KEY:Xp,apmSkillSearch:_s,setApmSkillSearch:vo,activeApmSpecTable:Rs,activeApmSkill:GR,isAllApmSkills:YR,apmView:jt,setApmView:tn,formatApmValue:m6,formatCastRateValue:f6,formatCastCountValue:p6,renderProfessionIcon:Da})]}),!c&&u.jsx("div",{className:"h-24","aria-hidden":"true"})]})}),u.jsx(Fae,{embedded:c,uiTheme:p,mobileNavOpen:Y,setMobileNavOpen:W,tocGroups:D,tocItems:ee,activeNavId:q,scrollToSection:fe,stepSection:L})]})}const zae="Arcane",Bae="CRT",rh="MatteSlate",ah={id:zae,label:"Arcane",rgb:"136, 116, 255",pattern:"radial-gradient(at 0% 0%, hsla(250, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(220, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 65%, 20%, 1) 0, transparent 70%)"},Uae={id:rh,label:"Matte Slate",rgb:"93, 163, 194",pattern:"linear-gradient(to bottom, #222629, #222629)"},Vae=[ah,{id:"Amethyst",label:"Amethyst",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(270, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(260, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 60%, 30%, 1) 0, transparent 70%)"},{id:"Aurora",label:"Aurora",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(160, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 75%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 85%, 15%, 1) 0, transparent 70%)"},{id:"Autumn",label:"Autumn",rgb:"180, 130, 70",pattern:"radial-gradient(at 0% 0%, hsla(30, 65%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 60%, 15%, 1) 0, transparent 70%)"},{id:"Berry",label:"Berry",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(300, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 60%, 25%, 1) 0, transparent 70%)"},{id:"Bubblegum",label:"Bubblegum",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 85%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 75%, 20%, 1) 0, transparent 70%)"},{id:"Cherry",label:"Cherry",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(340, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(0, 60%, 25%, 1) 0, transparent 70%)"},{id:"Cobalt",label:"Cobalt",rgb:"59, 130, 246",pattern:"radial-gradient(at 0% 0%, hsla(220, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 15%, 1) 0, transparent 70%)"},{id:"Coffee",label:"Coffee",rgb:"253, 186, 116",pattern:"radial-gradient(at 0% 0%, hsla(25, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(35, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(30, 50%, 22%, 1) 0, transparent 70%)"},{id:"Cyberpunk",label:"Cyberpunk",rgb:"232, 121, 249",pattern:"radial-gradient(at 0% 0%, hsla(290, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 25%, 1) 0, transparent 70%)"},{id:"Dark Pearl",label:"Dark Pearl",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 30%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 40%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 30%, 25%, 1) 0, transparent 70%)"},{id:"Deep Space",label:"Deep Space",rgb:"99, 102, 241",pattern:"radial-gradient(at 0% 0%, hsla(245, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(300, 70%, 18%, 1) 0, transparent 70%)"},{id:"Electric Storm",label:"Electric Storm",rgb:"56, 189, 248",pattern:"radial-gradient(at 0% 0%, hsla(200, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(180, 80%, 20%, 1) 0, transparent 70%)"},{id:"Emerald",label:"Emerald",rgb:"52, 211, 153",pattern:"radial-gradient(at 0% 0%, hsla(150, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 70%, 25%, 1) 0, transparent 70%)"},{id:"Forest",label:"Forest",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(150, 70%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(120, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 80%, 18%, 1) 0, transparent 70%)"},{id:"Glacier",label:"Glacier",rgb:"125, 211, 252",pattern:"radial-gradient(at 0% 0%, hsla(190, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(210, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 30%, 1) 0, transparent 70%)"},{id:"Gold",label:"Gold",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(40, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 70%, 25%, 1) 0, transparent 70%)"},{id:"Jungle",label:"Jungle",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(145, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(175, 70%, 18%, 1) 0, transparent 70%)"},{id:"Lavender",label:"Lavender",rgb:"167, 139, 250",pattern:"radial-gradient(at 0% 0%, hsla(250, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(290, 50%, 30%, 1) 0, transparent 70%)"},{id:"Mermaid",label:"Mermaid",rgb:"45, 212, 191",pattern:"radial-gradient(at 0% 0%, hsla(175, 75%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 20%, 1) 0, transparent 70%)"},{id:"Midnight",label:"Midnight",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(260, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(320, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 60%, 20%, 1) 0, transparent 70%)"},{id:"Mint",label:"Mint",rgb:"110, 231, 183",pattern:"radial-gradient(at 0% 0%, hsla(160, 60%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(170, 50%, 25%, 1) 0, transparent 70%)"},{id:"Nebula",label:"Nebula",rgb:"196, 181, 253",pattern:"radial-gradient(at 0% 0%, hsla(260, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(310, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 60%, 25%, 1) 0, transparent 70%)"},{id:"Neon Nights",label:"Neon Nights",rgb:"236, 72, 153",pattern:"radial-gradient(at 0% 0%, hsla(330, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 95%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 80%, 18%, 1) 0, transparent 70%)"},{id:"Obsidian",label:"Obsidian",rgb:"226, 232, 240",pattern:"radial-gradient(at 0% 0%, hsla(0, 0%, 5%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 10%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 20%, 15%, 1) 0, transparent 70%)"},{id:"Ocean",label:"Ocean",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(210, 70%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 22%, 1) 0, transparent 70%)"},{id:"Royal",label:"Royal",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 60%, 30%, 1) 0, transparent 70%)"},{id:"Ruby",label:"Ruby",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 70%, 25%, 1) 0, transparent 70%)"},{id:"Sapphire",label:"Sapphire",rgb:"96, 165, 250",pattern:"radial-gradient(at 0% 0%, hsla(220, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(230, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 70%, 25%, 1) 0, transparent 70%)"},{id:"Shadow",label:"Shadow",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 20%, 10%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 10%, 20%, 1) 0, transparent 70%)"},{id:"Slate",label:"Slate",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(210, 30%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 40%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 30%, 30%, 1) 0, transparent 70%)"},{id:"Sunrise",label:"Sunrise",rgb:"251, 113, 133",pattern:"radial-gradient(at 0% 0%, hsla(350, 75%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 18%, 1) 0, transparent 70%)"},{id:"Sunset",label:"Sunset",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(10, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(330, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 50%, 25%, 1) 0, transparent 70%)"},{id:"Toxic",label:"Toxic",rgb:"163, 230, 53",pattern:"radial-gradient(at 0% 0%, hsla(100, 90%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(90, 90%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(120, 80%, 18%, 1) 0, transparent 70%)"},{id:"Tropics",label:"Tropics",rgb:"20, 184, 166",pattern:"radial-gradient(at 0% 0%, hsla(170, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(15, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 75%, 20%, 1) 0, transparent 70%)"},{id:"Ultraviolet",label:"Ultraviolet",rgb:"139, 92, 246",pattern:"radial-gradient(at 0% 0%, hsla(265, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 80%, 20%, 1) 0, transparent 70%)"},{id:"Vaporwave",label:"Vaporwave",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(280, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(170, 90%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 30%, 1) 0, transparent 70%)"},{id:"Volcano",label:"Volcano",rgb:"239, 68, 68",pattern:"radial-gradient(at 0% 0%, hsla(0, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(25, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(350, 75%, 15%, 1) 0, transparent 70%)"},{id:"Wildfire",label:"Wildfire",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(25, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 80%, 15%, 1) 0, transparent 70%)"}],Hae={id:Bae,label:"CRT Hacker",rgb:"87, 255, 154",pattern:"radial-gradient(circle at 12% 10%, rgba(44, 120, 78, 0.42), transparent 60%), radial-gradient(circle at 88% 22%, rgba(22, 86, 52, 0.38), transparent 62%), linear-gradient(180deg, rgba(5, 12, 8, 0.92), rgba(3, 7, 6, 0.98))"},Dd=[...Vae,Hae,Uae];function Wae(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const qae=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Kae=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Yae={};function LA(e,t){return(Yae.jsx?Kae:qae).test(e)}const Gae=/[ \t\n\f\r]/g;function Xae(e){return typeof e=="object"?e.type==="text"?RA(e.value):!1:RA(e)}function RA(e){return e.replace(Gae,"")===""}class Lp{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Lp.prototype.normal={};Lp.prototype.property={};Lp.prototype.space=void 0;function iF(e,t){const n={},r={};for(const a of e)Object.assign(n,a.property),Object.assign(r,a.normal);return new Lp(n,r,t)}function Xx(e){return e.toLowerCase()}class oi{constructor(t,n){this.attribute=n,this.property=t}}oi.prototype.attribute="";oi.prototype.booleanish=!1;oi.prototype.boolean=!1;oi.prototype.commaOrSpaceSeparated=!1;oi.prototype.commaSeparated=!1;oi.prototype.defined=!1;oi.prototype.mustUseProperty=!1;oi.prototype.number=!1;oi.prototype.overloadedBoolean=!1;oi.prototype.property="";oi.prototype.spaceSeparated=!1;oi.prototype.space=void 0;let Jae=0;const Jt=Oc(),$r=Oc(),Jx=Oc(),ze=Oc(),Hn=Oc(),Au=Oc(),ui=Oc();function Oc(){return 2**++Jae}const Qx=Object.freeze(Object.defineProperty({__proto__:null,boolean:Jt,booleanish:$r,commaOrSpaceSeparated:ui,commaSeparated:Au,number:ze,overloadedBoolean:Jx,spaceSeparated:Hn},Symbol.toStringTag,{value:"Module"})),Mv=Object.keys(Qx);class AS extends oi{constructor(t,n,r,a){let i=-1;if(super(t,n),$A(this,"space",a),typeof r=="number")for(;++i<Mv.length;){const o=Mv[i];$A(this,Mv[i],(r&Qx[o])===Qx[o])}}}AS.prototype.defined=!0;function $A(e,t,n){n&&(e[t]=n)}function cd(e){const t={},n={};for(const[r,a]of Object.entries(e.properties)){const i=new AS(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[Xx(r)]=r,n[Xx(i.attribute)]=r}return new Lp(t,n,e.space)}const oF=cd({properties:{ariaActiveDescendant:null,ariaAtomic:$r,ariaAutoComplete:null,ariaBusy:$r,ariaChecked:$r,ariaColCount:ze,ariaColIndex:ze,ariaColSpan:ze,ariaControls:Hn,ariaCurrent:null,ariaDescribedBy:Hn,ariaDetails:null,ariaDisabled:$r,ariaDropEffect:Hn,ariaErrorMessage:null,ariaExpanded:$r,ariaFlowTo:Hn,ariaGrabbed:$r,ariaHasPopup:null,ariaHidden:$r,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Hn,ariaLevel:ze,ariaLive:null,ariaModal:$r,ariaMultiLine:$r,ariaMultiSelectable:$r,ariaOrientation:null,ariaOwns:Hn,ariaPlaceholder:null,ariaPosInSet:ze,ariaPressed:$r,ariaReadOnly:$r,ariaRelevant:null,ariaRequired:$r,ariaRoleDescription:Hn,ariaRowCount:ze,ariaRowIndex:ze,ariaRowSpan:ze,ariaSelected:$r,ariaSetSize:ze,ariaSort:null,ariaValueMax:ze,ariaValueMin:ze,ariaValueNow:ze,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function sF(e,t){return t in e?e[t]:t}function lF(e,t){return sF(e,t.toLowerCase())}const Qae=cd({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Au,acceptCharset:Hn,accessKey:Hn,action:null,allow:null,allowFullScreen:Jt,allowPaymentRequest:Jt,allowUserMedia:Jt,alt:null,as:null,async:Jt,autoCapitalize:null,autoComplete:Hn,autoFocus:Jt,autoPlay:Jt,blocking:Hn,capture:null,charSet:null,checked:Jt,cite:null,className:Hn,cols:ze,colSpan:null,content:null,contentEditable:$r,controls:Jt,controlsList:Hn,coords:ze|Au,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Jt,defer:Jt,dir:null,dirName:null,disabled:Jt,download:Jx,draggable:$r,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Jt,formTarget:null,headers:Hn,height:ze,hidden:Jx,high:ze,href:null,hrefLang:null,htmlFor:Hn,httpEquiv:Hn,id:null,imageSizes:null,imageSrcSet:null,inert:Jt,inputMode:null,integrity:null,is:null,isMap:Jt,itemId:null,itemProp:Hn,itemRef:Hn,itemScope:Jt,itemType:Hn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Jt,low:ze,manifest:null,max:null,maxLength:ze,media:null,method:null,min:null,minLength:ze,multiple:Jt,muted:Jt,name:null,nonce:null,noModule:Jt,noValidate:Jt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Jt,optimum:ze,pattern:null,ping:Hn,placeholder:null,playsInline:Jt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Jt,referrerPolicy:null,rel:Hn,required:Jt,reversed:Jt,rows:ze,rowSpan:ze,sandbox:Hn,scope:null,scoped:Jt,seamless:Jt,selected:Jt,shadowRootClonable:Jt,shadowRootDelegatesFocus:Jt,shadowRootMode:null,shape:null,size:ze,sizes:null,slot:null,span:ze,spellCheck:$r,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ze,step:null,style:null,tabIndex:ze,target:null,title:null,translate:null,type:null,typeMustMatch:Jt,useMap:null,value:$r,width:ze,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Hn,axis:null,background:null,bgColor:null,border:ze,borderColor:null,bottomMargin:ze,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Jt,declare:Jt,event:null,face:null,frame:null,frameBorder:null,hSpace:ze,leftMargin:ze,link:null,longDesc:null,lowSrc:null,marginHeight:ze,marginWidth:ze,noResize:Jt,noHref:Jt,noShade:Jt,noWrap:Jt,object:null,profile:null,prompt:null,rev:null,rightMargin:ze,rules:null,scheme:null,scrolling:$r,standby:null,summary:null,text:null,topMargin:ze,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ze,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Jt,disableRemotePlayback:Jt,prefix:null,property:null,results:ze,security:null,unselectable:null},space:"html",transform:lF}),Zae=cd({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ui,accentHeight:ze,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ze,amplitude:ze,arabicForm:null,ascent:ze,attributeName:null,attributeType:null,azimuth:ze,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ze,by:null,calcMode:null,capHeight:ze,className:Hn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ze,diffuseConstant:ze,direction:null,display:null,dur:null,divisor:ze,dominantBaseline:null,download:Jt,dx:null,dy:null,edgeMode:null,editable:null,elevation:ze,enableBackground:null,end:null,event:null,exponent:ze,externalResourcesRequired:null,fill:null,fillOpacity:ze,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Au,g2:Au,glyphName:Au,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ze,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ze,horizOriginX:ze,horizOriginY:ze,id:null,ideographic:ze,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ze,k:ze,k1:ze,k2:ze,k3:ze,k4:ze,kernelMatrix:ui,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ze,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ze,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ze,overlineThickness:ze,paintOrder:null,panose1:null,path:null,pathLength:ze,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Hn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ze,pointsAtY:ze,pointsAtZ:ze,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ui,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ui,rev:ui,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ui,requiredFeatures:ui,requiredFonts:ui,requiredFormats:ui,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ze,specularExponent:ze,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ze,strikethroughThickness:ze,string:null,stroke:null,strokeDashArray:ui,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ze,strokeOpacity:ze,strokeWidth:null,style:null,surfaceScale:ze,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ui,tabIndex:ze,tableValues:null,target:null,targetX:ze,targetY:ze,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ui,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ze,underlineThickness:ze,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ze,values:null,vAlphabetic:ze,vMathematical:ze,vectorEffect:null,vHanging:ze,vIdeographic:ze,version:null,vertAdvY:ze,vertOriginX:ze,vertOriginY:ze,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ze,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:sF}),cF=cd({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),uF=cd({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:lF}),dF=cd({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),eie={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},tie=/[A-Z]/g,zA=/-[a-z]/g,nie=/^data[-\w.:]+$/i;function rie(e,t){const n=Xx(t);let r=t,a=oi;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&nie.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(zA,iie);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!zA.test(i)){let o=i.replace(tie,aie);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}a=AS}return new a(r,t)}function aie(e){return"-"+e.toLowerCase()}function iie(e){return e.charAt(1).toUpperCase()}const oie=iF([oF,Qae,cF,uF,dF],"html"),PS=iF([oF,Zae,cF,uF,dF],"svg");function sie(e){return e.join(" ").trim()}var ES={},BA=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,lie=/\n/g,cie=/^\s*/,uie=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,die=/^:\s*/,fie=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,pie=/^[;\s]*/,mie=/^\s+|\s+$/g,hie=`
`,UA="/",VA="*",Kl="",gie="comment",yie="declaration";function vie(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function a(h){var y=h.match(lie);y&&(n+=y.length);var x=h.lastIndexOf(hie);r=~x?h.length-x:r+h.length}function i(){var h={line:n,column:r};return function(y){return y.position=new o(h),c(),y}}function o(h){this.start=h,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function s(h){var y=new Error(t.source+":"+n+":"+r+": "+h);if(y.reason=h,y.filename=t.source,y.line=n,y.column=r,y.source=e,!t.silent)throw y}function l(h){var y=h.exec(e);if(y){var x=y[0];return a(x),e=e.slice(x.length),y}}function c(){l(cie)}function d(h){var y;for(h=h||[];y=f();)y!==!1&&h.push(y);return h}function f(){var h=i();if(!(UA!=e.charAt(0)||VA!=e.charAt(1))){for(var y=2;Kl!=e.charAt(y)&&(VA!=e.charAt(y)||UA!=e.charAt(y+1));)++y;if(y+=2,Kl===e.charAt(y-1))return s("End of comment missing");var x=e.slice(2,y-2);return r+=2,a(x),e=e.slice(y),r+=2,h({type:gie,comment:x})}}function p(){var h=i(),y=l(uie);if(y){if(f(),!l(die))return s("property missing ':'");var x=l(fie),g=h({type:yie,property:HA(y[0].replace(BA,Kl)),value:x?HA(x[0].replace(BA,Kl)):Kl});return l(pie),g}}function m(){var h=[];d(h);for(var y;y=p();)y!==!1&&(h.push(y),d(h));return h}return c(),m()}function HA(e){return e?e.replace(mie,Kl):Kl}var bie=vie,xie=ch&&ch.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ES,"__esModule",{value:!0});ES.default=kie;const wie=xie(bie);function kie(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,wie.default)(e),a=typeof t=="function";return r.forEach(i=>{if(i.type!=="declaration")return;const{property:o,value:s}=i;a?t(o,s,i):s&&(n=n||{},n[o]=s)}),n}var ly={};Object.defineProperty(ly,"__esModule",{value:!0});ly.camelCase=void 0;var Sie=/^--[a-zA-Z0-9_-]+$/,Nie=/-([a-z])/g,jie=/^[^-]+$/,Cie=/^-(webkit|moz|ms|o|khtml)-/,Mie=/^-(ms)-/,Aie=function(e){return!e||jie.test(e)||Sie.test(e)},Pie=function(e,t){return t.toUpperCase()},WA=function(e,t){return"".concat(t,"-")},Eie=function(e,t){return t===void 0&&(t={}),Aie(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Mie,WA):e=e.replace(Cie,WA),e.replace(Nie,Pie))};ly.camelCase=Eie;var Tie=ch&&ch.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Oie=Tie(ES),Die=ly;function Zx(e,t){var n={};return!e||typeof e!="string"||(0,Oie.default)(e,function(r,a){r&&a&&(n[(0,Die.camelCase)(r,t)]=a)}),n}Zx.default=Zx;var Iie=Zx;const _ie=mo(Iie),fF=pF("end"),TS=pF("start");function pF(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Fie(e){const t=TS(e),n=fF(e);if(t&&n)return{start:t,end:n}}function nf(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?qA(e.position):"start"in e||"end"in e?qA(e):"line"in e||"column"in e?ew(e):""}function ew(e){return KA(e&&e.line)+":"+KA(e&&e.column)}function qA(e){return ew(e&&e.start)+"-"+ew(e&&e.end)}function KA(e){return e&&typeof e=="number"?e:1}class Pa extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",i={},o=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof t=="string"?a=t:!i.cause&&t&&(o=!0,a=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?i.ruleId=r:(i.source=r.slice(0,l),i.ruleId=r.slice(l+1))}if(!i.place&&i.ancestors&&i.ancestors){const l=i.ancestors[i.ancestors.length-1];l&&(i.place=l.position)}const s=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=s?s.line:void 0,this.name=nf(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=o&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Pa.prototype.file="";Pa.prototype.name="";Pa.prototype.reason="";Pa.prototype.message="";Pa.prototype.stack="";Pa.prototype.column=void 0;Pa.prototype.line=void 0;Pa.prototype.ancestors=void 0;Pa.prototype.cause=void 0;Pa.prototype.fatal=void 0;Pa.prototype.place=void 0;Pa.prototype.ruleId=void 0;Pa.prototype.source=void 0;const OS={}.hasOwnProperty,Lie=new Map,Rie=/[A-Z]/g,$ie=new Set(["table","tbody","thead","tfoot","tr"]),zie=new Set(["td","th"]),mF="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Bie(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Gie(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Yie(n,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?PS:oie,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=hF(a,e,void 0);return i&&typeof i!="string"?i:a.create(e,a.Fragment,{children:i||void 0},void 0)}function hF(e,t,n){if(t.type==="element")return Uie(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Vie(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Wie(e,t,n);if(t.type==="mdxjsEsm")return Hie(e,t);if(t.type==="root")return qie(e,t,n);if(t.type==="text")return Kie(e,t)}function Uie(e,t,n){const r=e.schema;let a=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=PS,e.schema=a),e.ancestors.push(t);const i=yF(e,t.tagName,!1),o=Xie(e,t);let s=IS(e,t);return $ie.has(t.tagName)&&(s=s.filter(function(l){return typeof l=="string"?!Xae(l):!0})),gF(e,o,i,t),DS(o,s),e.ancestors.pop(),e.schema=r,e.create(t,i,o,n)}function Vie(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}Xf(e,t.position)}function Hie(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Xf(e,t.position)}function Wie(e,t,n){const r=e.schema;let a=r;t.name==="svg"&&r.space==="html"&&(a=PS,e.schema=a),e.ancestors.push(t);const i=t.name===null?e.Fragment:yF(e,t.name,!0),o=Jie(e,t),s=IS(e,t);return gF(e,o,i,t),DS(o,s),e.ancestors.pop(),e.schema=r,e.create(t,i,o,n)}function qie(e,t,n){const r={};return DS(r,IS(e,t)),e.create(t,e.Fragment,r,n)}function Kie(e,t){return t.value}function gF(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function DS(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Yie(e,t,n){return r;function r(a,i,o,s){const l=Array.isArray(o.children)?n:t;return s?l(i,o,s):l(i,o)}}function Gie(e,t){return n;function n(r,a,i,o){const s=Array.isArray(i.children),l=TS(r);return t(a,i,o,s,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function Xie(e,t){const n={};let r,a;for(a in t.properties)if(a!=="children"&&OS.call(t.properties,a)){const i=Qie(e,a,t.properties[a]);if(i){const[o,s]=i;e.tableCellAlignToStyle&&o==="align"&&typeof s=="string"&&zie.has(t.tagName)?r=s:n[o]=s}}if(r){const i=n.style||(n.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Jie(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const i=a.expression;i.type;const o=i.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else Xf(e,t.position);else{const a=r.name;let i;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,i=e.evaluater.evaluateExpression(o.expression)}else Xf(e,t.position);else i=r.value===null?!0:r.value;n[a]=i}return n}function IS(e,t){const n=[];let r=-1;const a=e.passKeys?new Map:Lie;for(;++r<t.children.length;){const i=t.children[r];let o;if(e.passKeys){const l=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(l){const c=a.get(l)||0;o=l+"-"+c,a.set(l,c+1)}}const s=hF(e,i,o);s!==void 0&&n.push(s)}return n}function Qie(e,t,n){const r=rie(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Wae(n):sie(n)),r.property==="style"){let a=typeof n=="object"?n:Zie(e,String(n));return e.stylePropertyNameCase==="css"&&(a=eoe(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&r.space?eie[r.property]||r.property:r.attribute,n]}}function Zie(e,t){try{return _ie(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,a=new Pa("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=mF+"#cannot-parse-style-attribute",a}}function yF(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let i=-1,o;for(;++i<a.length;){const s=LA(a[i])?{type:"Identifier",name:a[i]}:{type:"Literal",value:a[i]};o=o?{type:"MemberExpression",object:o,property:s,computed:!!(i&&s.type==="Literal"),optional:!1}:s}r=o}else r=LA(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const a=r.value;return OS.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(r);Xf(e)}function Xf(e,t){const n=new Pa("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=mF+"#cannot-handle-mdx-estrees-without-createevaluater",n}function eoe(e){const t={};let n;for(n in e)OS.call(e,n)&&(t[toe(n)]=e[n]);return t}function toe(e){let t=e.replace(Rie,noe);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function noe(e){return"-"+e.toLowerCase()}const Av={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},roe={};function _S(e,t){const n=roe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return vF(e,r,a)}function vF(e,t,n){if(aoe(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return YA(e.children,t,n)}return Array.isArray(e)?YA(e,t,n):""}function YA(e,t,n){const r=[];let a=-1;for(;++a<e.length;)r[a]=vF(e[a],t,n);return r.join("")}function aoe(e){return!!(e&&typeof e=="object")}const GA=document.createElement("i");function FS(e){const t="&"+e+";";GA.innerHTML=t;const n=GA.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function vi(e,t,n,r){const a=e.length;let i=0,o;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);i<r.length;)o=r.slice(i,i+1e4),o.unshift(t,0),e.splice(...o),i+=1e4,t+=1e4}function Fi(e,t){return e.length>0?(vi(e,e.length,0,t),e):t}const XA={}.hasOwnProperty;function bF(e){const t={};let n=-1;for(;++n<e.length;)ioe(t,e[n]);return t}function ioe(e,t){let n;for(n in t){const r=(XA.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let i;if(a)for(i in a){XA.call(r,i)||(r[i]=[]);const o=a[i];ooe(r[i],Array.isArray(o)?o:o?[o]:[])}}}function ooe(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);vi(e,0,0,r)}function xF(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function so(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Fa=Al(/[A-Za-z]/),Ma=Al(/[\dA-Za-z]/),soe=Al(/[#-'*+\--9=?A-Z^-~]/);function Tg(e){return e!==null&&(e<32||e===127)}const tw=Al(/\d/),loe=Al(/[\dA-Fa-f]/),coe=Al(/[!-/:-@[-`{-~]/);function _t(e){return e!==null&&e<-2}function Fn(e){return e!==null&&(e<0||e===32)}function an(e){return e===-2||e===-1||e===32}const cy=Al(new RegExp("\\p{P}|\\p{S}","u")),Mc=Al(/\s/);function Al(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function ud(e){const t=[];let n=-1,r=0,a=0;for(;++n<e.length;){const i=e.charCodeAt(n);let o="";if(i===37&&Ma(e.charCodeAt(n+1))&&Ma(e.charCodeAt(n+2)))a=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(o=String.fromCharCode(i));else if(i>55295&&i<57344){const s=e.charCodeAt(n+1);i<56320&&s>56319&&s<57344?(o=String.fromCharCode(i,s),a=1):o=""}else o=String.fromCharCode(i);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+a+1,o=""),a&&(n+=a,a=0)}return t.join("")+e.slice(r)}function gn(e,t,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let i=0;return o;function o(l){return an(l)?(e.enter(n),s(l)):t(l)}function s(l){return an(l)&&i++<a?(e.consume(l),s):(e.exit(n),t(l))}}const uoe={tokenize:doe};function doe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,a);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),gn(e,t,"linePrefix")}function a(s){return e.enter("paragraph"),i(s)}function i(s){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(s)}function o(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return _t(s)?(e.consume(s),e.exit("chunkText"),i):(e.consume(s),o)}}const foe={tokenize:poe},JA={tokenize:moe};function poe(e){const t=this,n=[];let r=0,a,i,o;return s;function s(w){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,l,c)(w)}return c(w)}function l(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&b();const S=t.events.length;let C=S,N;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){N=t.events[C][1].end;break}g(r);let M=S;for(;M<t.events.length;)t.events[M][1].end={...N},M++;return vi(t.events,C+1,0,t.events.slice(S)),t.events.length=M,c(w)}return s(w)}function c(w){if(r===n.length){if(!a)return p(w);if(a.currentConstruct&&a.currentConstruct.concrete)return h(w);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(JA,d,f)(w)}function d(w){return a&&b(),g(r),p(w)}function f(w){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,h(w)}function p(w){return t.containerState={},e.attempt(JA,m,h)(w)}function m(w){return r++,n.push([t.currentConstruct,t.containerState]),p(w)}function h(w){if(w===null){a&&b(),g(0),e.consume(w);return}return a=a||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:i}),y(w)}function y(w){if(w===null){x(e.exit("chunkFlow"),!0),g(0),e.consume(w);return}return _t(w)?(e.consume(w),x(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(w),y)}function x(w,S){const C=t.sliceStream(w);if(S&&C.push(null),w.previous=i,i&&(i.next=w),i=w,a.defineSkip(w.start),a.write(C),t.parser.lazy[w.start.line]){let N=a.events.length;for(;N--;)if(a.events[N][1].start.offset<o&&(!a.events[N][1].end||a.events[N][1].end.offset>o))return;const M=t.events.length;let O=M,R,P;for(;O--;)if(t.events[O][0]==="exit"&&t.events[O][1].type==="chunkFlow"){if(R){P=t.events[O][1].end;break}R=!0}for(g(r),N=M;N<t.events.length;)t.events[N][1].end={...P},N++;vi(t.events,O+1,0,t.events.slice(M)),t.events.length=N}}function g(w){let S=n.length;for(;S-- >w;){const C=n[S];t.containerState=C[1],C[0].exit.call(t,e)}n.length=w}function b(){a.write([null]),i=void 0,a=void 0,t.containerState._closeFlow=void 0}}function moe(e,t,n){return gn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Ku(e){if(e===null||Fn(e)||Mc(e))return 1;if(cy(e))return 2}function uy(e,t,n){const r=[];let a=-1;for(;++a<e.length;){const i=e[a].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const nw={name:"attention",resolveAll:hoe,tokenize:goe};function hoe(e,t){let n=-1,r,a,i,o,s,l,c,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},p={...e[n][1].start};QA(f,-l),QA(p,l),o={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},s={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:p},i={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},a={type:l>1?"strong":"emphasis",start:{...o.start},end:{...s.end}},e[r][1].end={...o.start},e[n][1].start={...s.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=Fi(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=Fi(c,[["enter",a,t],["enter",o,t],["exit",o,t],["enter",i,t]]),c=Fi(c,uy(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=Fi(c,[["exit",i,t],["enter",s,t],["exit",s,t],["exit",a,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,c=Fi(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,vi(e,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function goe(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=Ku(r);let i;return o;function o(l){return i=l,e.enter("attentionSequence"),s(l)}function s(l){if(l===i)return e.consume(l),s;const c=e.exit("attentionSequence"),d=Ku(l),f=!d||d===2&&a||n.includes(l),p=!a||a===2&&d||n.includes(r);return c._open=!!(i===42?f:f&&(a||!p)),c._close=!!(i===42?p:p&&(d||!f)),t(l)}}function QA(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const yoe={name:"autolink",tokenize:voe};function voe(e,t,n){let r=0;return a;function a(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(m){return Fa(m)?(e.consume(m),o):m===64?n(m):c(m)}function o(m){return m===43||m===45||m===46||Ma(m)?(r=1,s(m)):c(m)}function s(m){return m===58?(e.consume(m),r=0,l):(m===43||m===45||m===46||Ma(m))&&r++<32?(e.consume(m),s):(r=0,c(m))}function l(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||Tg(m)?n(m):(e.consume(m),l)}function c(m){return m===64?(e.consume(m),d):soe(m)?(e.consume(m),c):n(m)}function d(m){return Ma(m)?f(m):n(m)}function f(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):p(m)}function p(m){if((m===45||Ma(m))&&r++<63){const h=m===45?p:f;return e.consume(m),h}return n(m)}}const Rp={partial:!0,tokenize:boe};function boe(e,t,n){return r;function r(i){return an(i)?gn(e,a,"linePrefix")(i):a(i)}function a(i){return i===null||_t(i)?t(i):n(i)}}const wF={continuation:{tokenize:woe},exit:koe,name:"blockQuote",tokenize:xoe};function xoe(e,t,n){const r=this;return a;function a(o){if(o===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),i}return n(o)}function i(o){return an(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function woe(e,t,n){const r=this;return a;function a(o){return an(o)?gn(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):i(o)}function i(o){return e.attempt(wF,t,n)(o)}}function koe(e){e.exit("blockQuote")}const kF={name:"characterEscape",tokenize:Soe};function Soe(e,t,n){return r;function r(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),a}function a(i){return coe(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}const SF={name:"characterReference",tokenize:Noe};function Noe(e,t,n){const r=this;let a=0,i,o;return s;function s(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),i=31,o=Ma,d(f))}function c(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,o=loe,d):(e.enter("characterReferenceValue"),i=7,o=tw,d(f))}function d(f){if(f===59&&a){const p=e.exit("characterReferenceValue");return o===Ma&&!FS(r.sliceSerialize(p))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&a++<i?(e.consume(f),d):n(f)}}const ZA={partial:!0,tokenize:Coe},eP={concrete:!0,name:"codeFenced",tokenize:joe};function joe(e,t,n){const r=this,a={partial:!0,tokenize:C};let i=0,o=0,s;return l;function l(N){return c(N)}function c(N){const M=r.events[r.events.length-1];return i=M&&M[1].type==="linePrefix"?M[2].sliceSerialize(M[1],!0).length:0,s=N,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(N)}function d(N){return N===s?(o++,e.consume(N),d):o<3?n(N):(e.exit("codeFencedFenceSequence"),an(N)?gn(e,f,"whitespace")(N):f(N))}function f(N){return N===null||_t(N)?(e.exit("codeFencedFence"),r.interrupt?t(N):e.check(ZA,y,S)(N)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(N))}function p(N){return N===null||_t(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(N)):an(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),gn(e,m,"whitespace")(N)):N===96&&N===s?n(N):(e.consume(N),p)}function m(N){return N===null||_t(N)?f(N):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),h(N))}function h(N){return N===null||_t(N)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(N)):N===96&&N===s?n(N):(e.consume(N),h)}function y(N){return e.attempt(a,S,x)(N)}function x(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),g}function g(N){return i>0&&an(N)?gn(e,b,"linePrefix",i+1)(N):b(N)}function b(N){return N===null||_t(N)?e.check(ZA,y,S)(N):(e.enter("codeFlowValue"),w(N))}function w(N){return N===null||_t(N)?(e.exit("codeFlowValue"),b(N)):(e.consume(N),w)}function S(N){return e.exit("codeFenced"),t(N)}function C(N,M,O){let R=0;return P;function P(re){return N.enter("lineEnding"),N.consume(re),N.exit("lineEnding"),_}function _(re){return N.enter("codeFencedFence"),an(re)?gn(N,I,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(re):I(re)}function I(re){return re===s?(N.enter("codeFencedFenceSequence"),Q(re)):O(re)}function Q(re){return re===s?(R++,N.consume(re),Q):R>=o?(N.exit("codeFencedFenceSequence"),an(re)?gn(N,J,"whitespace")(re):J(re)):O(re)}function J(re){return re===null||_t(re)?(N.exit("codeFencedFence"),M(re)):O(re)}}}function Coe(e,t,n){const r=this;return a;function a(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i)}function i(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const Pv={name:"codeIndented",tokenize:Aoe},Moe={partial:!0,tokenize:Poe};function Aoe(e,t,n){const r=this;return a;function a(c){return e.enter("codeIndented"),gn(e,i,"linePrefix",5)(c)}function i(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):_t(c)?e.attempt(Moe,o,l)(c):(e.enter("codeFlowValue"),s(c))}function s(c){return c===null||_t(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),s)}function l(c){return e.exit("codeIndented"),t(c)}}function Poe(e,t,n){const r=this;return a;function a(o){return r.parser.lazy[r.now().line]?n(o):_t(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):gn(e,i,"linePrefix",5)(o)}function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):_t(o)?a(o):n(o)}}const Eoe={name:"codeText",previous:Ooe,resolve:Toe,tokenize:Doe};function Toe(e){let t=e.length-4,n=3,r,a;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)a===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(a=r):(r===t||e[r][1].type==="lineEnding")&&(e[a][1].type="codeTextData",r!==a+2&&(e[a][1].end=e[r-1][1].end,e.splice(a+2,r-a-2),t-=r-a-2,r=a+2),a=void 0);return e}function Ooe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Doe(e,t,n){let r=0,a,i;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),s(f)}function s(f){return f===96?(e.consume(f),r++,s):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(i=e.enter("codeTextSequence"),a=0,d(f)):_t(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||_t(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),c)}function d(f){return f===96?(e.consume(f),a++,d):a===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(i.type="codeTextData",c(f))}}class Ioe{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const a=n||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&Id(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Id(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Id(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Id(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Id(this.left,n.reverse())}}}function Id(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function NF(e){const t={};let n=-1,r,a,i,o,s,l,c;const d=new Ioe(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,i=0,i<l.length&&l[i][1].type==="lineEndingBlank"&&(i+=2),i<l.length&&l[i][1].type==="content"))for(;++i<l.length&&l[i][1].type!=="content";)l[i][1].type==="chunkText"&&(l[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,_oe(d,n)),n=t[n],c=!0);else if(r[1]._container){for(i=n,a=void 0;i--;)if(o=d.get(i),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(a&&(d.get(a)[1].type="lineEndingBlank"),o[1].type="lineEnding",a=i);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;a&&(r[1].end={...d.get(a)[1].start},s=d.slice(a,n),s.unshift(r),d.splice(a,n-a+1,s))}}return vi(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function _oe(e,t){const n=e.get(t)[1],r=e.get(t)[2];let a=t-1;const i=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const s=o.events,l=[],c={};let d,f,p=-1,m=n,h=0,y=0;const x=[y];for(;m;){for(;e.get(++a)[1]!==m;);i.push(a),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),f&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++p<s.length;)s[p][0]==="exit"&&s[p-1][0]==="enter"&&s[p][1].type===s[p-1][1].type&&s[p][1].start.line!==s[p][1].end.line&&(y=p+1,x.push(y),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):x.pop(),p=x.length;p--;){const g=s.slice(x[p],x[p+1]),b=i.pop();l.push([b,b+g.length-1]),e.splice(b,2,g)}for(l.reverse(),p=-1;++p<l.length;)c[h+l[p][0]]=h+l[p][1],h+=l[p][1]-l[p][0]-1;return c}const Foe={resolve:Roe,tokenize:$oe},Loe={partial:!0,tokenize:zoe};function Roe(e){return NF(e),e}function $oe(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),a(s)}function a(s){return s===null?i(s):_t(s)?e.check(Loe,o,i)(s):(e.consume(s),a)}function i(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function o(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function zoe(e,t,n){const r=this;return a;function a(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),gn(e,i,"linePrefix")}function i(o){if(o===null||_t(o))return n(o);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function jF(e,t,n,r,a,i,o,s,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(g){return g===60?(e.enter(r),e.enter(a),e.enter(i),e.consume(g),e.exit(i),p):g===null||g===32||g===41||Tg(g)?n(g):(e.enter(r),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),y(g))}function p(g){return g===62?(e.enter(i),e.consume(g),e.exit(i),e.exit(a),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),m(g))}function m(g){return g===62?(e.exit("chunkString"),e.exit(s),p(g)):g===null||g===60||_t(g)?n(g):(e.consume(g),g===92?h:m)}function h(g){return g===60||g===62||g===92?(e.consume(g),m):m(g)}function y(g){return!d&&(g===null||g===41||Fn(g))?(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(r),t(g)):d<c&&g===40?(e.consume(g),d++,y):g===41?(e.consume(g),d--,y):g===null||g===32||g===40||Tg(g)?n(g):(e.consume(g),g===92?x:y)}function x(g){return g===40||g===41||g===92?(e.consume(g),y):y(g)}}function CF(e,t,n,r,a,i){const o=this;let s=0,l;return c;function c(m){return e.enter(r),e.enter(a),e.consume(m),e.exit(a),e.enter(i),d}function d(m){return s>999||m===null||m===91||m===93&&!l||m===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?n(m):m===93?(e.exit(i),e.enter(a),e.consume(m),e.exit(a),e.exit(r),t):_t(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||_t(m)||s++>999?(e.exit("chunkString"),d(m)):(e.consume(m),l||(l=!an(m)),m===92?p:f)}function p(m){return m===91||m===92||m===93?(e.consume(m),s++,f):f(m)}}function MF(e,t,n,r,a,i){let o;return s;function s(p){return p===34||p===39||p===40?(e.enter(r),e.enter(a),e.consume(p),e.exit(a),o=p===40?41:p,l):n(p)}function l(p){return p===o?(e.enter(a),e.consume(p),e.exit(a),e.exit(r),t):(e.enter(i),c(p))}function c(p){return p===o?(e.exit(i),l(o)):p===null?n(p):_t(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),gn(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===o||p===null||_t(p)?(e.exit("chunkString"),c(p)):(e.consume(p),p===92?f:d)}function f(p){return p===o||p===92?(e.consume(p),d):d(p)}}function rf(e,t){let n;return r;function r(a){return _t(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n=!0,r):an(a)?gn(e,r,n?"linePrefix":"lineSuffix")(a):t(a)}}const Boe={name:"definition",tokenize:Voe},Uoe={partial:!0,tokenize:Hoe};function Voe(e,t,n){const r=this;let a;return i;function i(m){return e.enter("definition"),o(m)}function o(m){return CF.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function s(m){return a=so(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),l):n(m)}function l(m){return Fn(m)?rf(e,c)(m):c(m)}function c(m){return jF(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(Uoe,f,f)(m)}function f(m){return an(m)?gn(e,p,"whitespace")(m):p(m)}function p(m){return m===null||_t(m)?(e.exit("definition"),r.parser.defined.push(a),t(m)):n(m)}}function Hoe(e,t,n){return r;function r(s){return Fn(s)?rf(e,a)(s):n(s)}function a(s){return MF(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function i(s){return an(s)?gn(e,o,"whitespace")(s):o(s)}function o(s){return s===null||_t(s)?t(s):n(s)}}const Woe={name:"hardBreakEscape",tokenize:qoe};function qoe(e,t,n){return r;function r(i){return e.enter("hardBreakEscape"),e.consume(i),a}function a(i){return _t(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}const Koe={name:"headingAtx",resolve:Yoe,tokenize:Goe};function Yoe(e,t){let n=e.length-2,r=3,a,i;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(a={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},i={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},vi(e,r,n-r+1,[["enter",a,t],["enter",i,t],["exit",i,t],["exit",a,t]])),e}function Goe(e,t,n){let r=0;return a;function a(d){return e.enter("atxHeading"),i(d)}function i(d){return e.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(e.consume(d),o):d===null||Fn(d)?(e.exit("atxHeadingSequence"),s(d)):n(d)}function s(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||_t(d)?(e.exit("atxHeading"),t(d)):an(d)?gn(e,s,"whitespace")(d):(e.enter("atxHeadingText"),c(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),s(d))}function c(d){return d===null||d===35||Fn(d)?(e.exit("atxHeadingText"),s(d)):(e.consume(d),c)}}const Xoe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],tP=["pre","script","style","textarea"],Joe={concrete:!0,name:"htmlFlow",resolveTo:ese,tokenize:tse},Qoe={partial:!0,tokenize:rse},Zoe={partial:!0,tokenize:nse};function ese(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function tse(e,t,n){const r=this;let a,i,o,s,l;return c;function c(j){return d(j)}function d(j){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(j),f}function f(j){return j===33?(e.consume(j),p):j===47?(e.consume(j),i=!0,y):j===63?(e.consume(j),a=3,r.interrupt?t:k):Fa(j)?(e.consume(j),o=String.fromCharCode(j),x):n(j)}function p(j){return j===45?(e.consume(j),a=2,m):j===91?(e.consume(j),a=5,s=0,h):Fa(j)?(e.consume(j),a=4,r.interrupt?t:k):n(j)}function m(j){return j===45?(e.consume(j),r.interrupt?t:k):n(j)}function h(j){const z="CDATA[";return j===z.charCodeAt(s++)?(e.consume(j),s===z.length?r.interrupt?t:I:h):n(j)}function y(j){return Fa(j)?(e.consume(j),o=String.fromCharCode(j),x):n(j)}function x(j){if(j===null||j===47||j===62||Fn(j)){const z=j===47,Y=o.toLowerCase();return!z&&!i&&tP.includes(Y)?(a=1,r.interrupt?t(j):I(j)):Xoe.includes(o.toLowerCase())?(a=6,z?(e.consume(j),g):r.interrupt?t(j):I(j)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(j):i?b(j):w(j))}return j===45||Ma(j)?(e.consume(j),o+=String.fromCharCode(j),x):n(j)}function g(j){return j===62?(e.consume(j),r.interrupt?t:I):n(j)}function b(j){return an(j)?(e.consume(j),b):P(j)}function w(j){return j===47?(e.consume(j),P):j===58||j===95||Fa(j)?(e.consume(j),S):an(j)?(e.consume(j),w):P(j)}function S(j){return j===45||j===46||j===58||j===95||Ma(j)?(e.consume(j),S):C(j)}function C(j){return j===61?(e.consume(j),N):an(j)?(e.consume(j),C):w(j)}function N(j){return j===null||j===60||j===61||j===62||j===96?n(j):j===34||j===39?(e.consume(j),l=j,M):an(j)?(e.consume(j),N):O(j)}function M(j){return j===l?(e.consume(j),l=null,R):j===null||_t(j)?n(j):(e.consume(j),M)}function O(j){return j===null||j===34||j===39||j===47||j===60||j===61||j===62||j===96||Fn(j)?C(j):(e.consume(j),O)}function R(j){return j===47||j===62||an(j)?w(j):n(j)}function P(j){return j===62?(e.consume(j),_):n(j)}function _(j){return j===null||_t(j)?I(j):an(j)?(e.consume(j),_):n(j)}function I(j){return j===45&&a===2?(e.consume(j),he):j===60&&a===1?(e.consume(j),B):j===62&&a===4?(e.consume(j),E):j===63&&a===3?(e.consume(j),k):j===93&&a===5?(e.consume(j),te):_t(j)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(Qoe,A,Q)(j)):j===null||_t(j)?(e.exit("htmlFlowData"),Q(j)):(e.consume(j),I)}function Q(j){return e.check(Zoe,J,A)(j)}function J(j){return e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),re}function re(j){return j===null||_t(j)?Q(j):(e.enter("htmlFlowData"),I(j))}function he(j){return j===45?(e.consume(j),k):I(j)}function B(j){return j===47?(e.consume(j),o="",$):I(j)}function $(j){if(j===62){const z=o.toLowerCase();return tP.includes(z)?(e.consume(j),E):I(j)}return Fa(j)&&o.length<8?(e.consume(j),o+=String.fromCharCode(j),$):I(j)}function te(j){return j===93?(e.consume(j),k):I(j)}function k(j){return j===62?(e.consume(j),E):j===45&&a===2?(e.consume(j),k):I(j)}function E(j){return j===null||_t(j)?(e.exit("htmlFlowData"),A(j)):(e.consume(j),E)}function A(j){return e.exit("htmlFlow"),t(j)}}function nse(e,t,n){const r=this;return a;function a(o){return _t(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):n(o)}function i(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function rse(e,t,n){return r;function r(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(Rp,t,n)}}const ase={name:"htmlText",tokenize:ise};function ise(e,t,n){const r=this;let a,i,o;return s;function s(k){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(k),l}function l(k){return k===33?(e.consume(k),c):k===47?(e.consume(k),C):k===63?(e.consume(k),w):Fa(k)?(e.consume(k),O):n(k)}function c(k){return k===45?(e.consume(k),d):k===91?(e.consume(k),i=0,h):Fa(k)?(e.consume(k),b):n(k)}function d(k){return k===45?(e.consume(k),m):n(k)}function f(k){return k===null?n(k):k===45?(e.consume(k),p):_t(k)?(o=f,B(k)):(e.consume(k),f)}function p(k){return k===45?(e.consume(k),m):f(k)}function m(k){return k===62?he(k):k===45?p(k):f(k)}function h(k){const E="CDATA[";return k===E.charCodeAt(i++)?(e.consume(k),i===E.length?y:h):n(k)}function y(k){return k===null?n(k):k===93?(e.consume(k),x):_t(k)?(o=y,B(k)):(e.consume(k),y)}function x(k){return k===93?(e.consume(k),g):y(k)}function g(k){return k===62?he(k):k===93?(e.consume(k),g):y(k)}function b(k){return k===null||k===62?he(k):_t(k)?(o=b,B(k)):(e.consume(k),b)}function w(k){return k===null?n(k):k===63?(e.consume(k),S):_t(k)?(o=w,B(k)):(e.consume(k),w)}function S(k){return k===62?he(k):w(k)}function C(k){return Fa(k)?(e.consume(k),N):n(k)}function N(k){return k===45||Ma(k)?(e.consume(k),N):M(k)}function M(k){return _t(k)?(o=M,B(k)):an(k)?(e.consume(k),M):he(k)}function O(k){return k===45||Ma(k)?(e.consume(k),O):k===47||k===62||Fn(k)?R(k):n(k)}function R(k){return k===47?(e.consume(k),he):k===58||k===95||Fa(k)?(e.consume(k),P):_t(k)?(o=R,B(k)):an(k)?(e.consume(k),R):he(k)}function P(k){return k===45||k===46||k===58||k===95||Ma(k)?(e.consume(k),P):_(k)}function _(k){return k===61?(e.consume(k),I):_t(k)?(o=_,B(k)):an(k)?(e.consume(k),_):R(k)}function I(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),a=k,Q):_t(k)?(o=I,B(k)):an(k)?(e.consume(k),I):(e.consume(k),J)}function Q(k){return k===a?(e.consume(k),a=void 0,re):k===null?n(k):_t(k)?(o=Q,B(k)):(e.consume(k),Q)}function J(k){return k===null||k===34||k===39||k===60||k===61||k===96?n(k):k===47||k===62||Fn(k)?R(k):(e.consume(k),J)}function re(k){return k===47||k===62||Fn(k)?R(k):n(k)}function he(k){return k===62?(e.consume(k),e.exit("htmlTextData"),e.exit("htmlText"),t):n(k)}function B(k){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),$}function $(k){return an(k)?gn(e,te,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):te(k)}function te(k){return e.enter("htmlTextData"),o(k)}}const LS={name:"labelEnd",resolveAll:cse,resolveTo:use,tokenize:dse},ose={tokenize:fse},sse={tokenize:pse},lse={tokenize:mse};function cse(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",t+=a}}return e.length!==n.length&&vi(e,0,e.length,n),e}function use(e,t){let n=e.length,r=0,a,i,o,s;for(;n--;)if(a=e[n][1],i){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(i=n,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(o=n);const l={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[i][1].start},end:{...e[o][1].end}},d={type:"labelText",start:{...e[i+r+2][1].end},end:{...e[o-2][1].start}};return s=[["enter",l,t],["enter",c,t]],s=Fi(s,e.slice(i+1,i+r+3)),s=Fi(s,[["enter",d,t]]),s=Fi(s,uy(t.parser.constructs.insideSpan.null,e.slice(i+r+4,o-3),t)),s=Fi(s,[["exit",d,t],e[o-2],e[o-1],["exit",c,t]]),s=Fi(s,e.slice(o+1)),s=Fi(s,[["exit",l,t]]),vi(e,i,e.length,s),e}function dse(e,t,n){const r=this;let a=r.events.length,i,o;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){i=r.events[a][1];break}return s;function s(p){return i?i._inactive?f(p):(o=r.parser.defined.includes(so(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),l):n(p)}function l(p){return p===40?e.attempt(ose,d,o?d:f)(p):p===91?e.attempt(sse,d,o?c:f)(p):o?d(p):f(p)}function c(p){return e.attempt(lse,d,f)(p)}function d(p){return t(p)}function f(p){return i._balanced=!0,n(p)}}function fse(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),a}function a(f){return Fn(f)?rf(e,i)(f):i(f)}function i(f){return f===41?d(f):jF(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return Fn(f)?rf(e,l)(f):d(f)}function s(f){return n(f)}function l(f){return f===34||f===39||f===40?MF(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function c(f){return Fn(f)?rf(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function pse(e,t,n){const r=this;return a;function a(s){return CF.call(r,e,i,o,"reference","referenceMarker","referenceString")(s)}function i(s){return r.parser.defined.includes(so(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function o(s){return n(s)}}function mse(e,t,n){return r;function r(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),a}function a(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}const hse={name:"labelStartImage",resolveAll:LS.resolveAll,tokenize:gse};function gse(e,t,n){const r=this;return a;function a(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),i}function i(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),o):n(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const yse={name:"labelStartLink",resolveAll:LS.resolveAll,tokenize:vse};function vse(e,t,n){const r=this;return a;function a(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),i}function i(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const Ev={name:"lineEnding",tokenize:bse};function bse(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),gn(e,t,"linePrefix")}}const ih={name:"thematicBreak",tokenize:xse};function xse(e,t,n){let r=0,a;return i;function i(c){return e.enter("thematicBreak"),o(c)}function o(c){return a=c,s(c)}function s(c){return c===a?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||_t(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===a?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),an(c)?gn(e,s,"whitespace")(c):s(c))}}const Ya={continuation:{tokenize:Nse},exit:Cse,name:"list",tokenize:Sse},wse={partial:!0,tokenize:Mse},kse={partial:!0,tokenize:jse};function Sse(e,t,n){const r=this,a=r.events[r.events.length-1];let i=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,o=0;return s;function s(m){const h=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(h==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:tw(m)){if(r.containerState.type||(r.containerState.type=h,e.enter(h,{_container:!0})),h==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(ih,n,c)(m):c(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(m)}return n(m)}function l(m){return tw(m)&&++o<10?(e.consume(m),l):(!r.interrupt||o<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),c(m)):n(m)}function c(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(Rp,r.interrupt?n:d,e.attempt(wse,p,f))}function d(m){return r.containerState.initialBlankLine=!0,i++,p(m)}function f(m){return an(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function Nse(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Rp,a,i);function a(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,gn(e,t,"listItemIndent",r.containerState.size+1)(s)}function i(s){return r.containerState.furtherBlankLines||!an(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(kse,t,o)(s))}function o(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,gn(e,e.attempt(Ya,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function jse(e,t,n){const r=this;return gn(e,a,"listItemIndent",r.containerState.size+1);function a(i){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(i):n(i)}}function Cse(e){e.exit(this.containerState.type)}function Mse(e,t,n){const r=this;return gn(e,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(i){const o=r.events[r.events.length-1];return!an(i)&&o&&o[1].type==="listItemPrefixWhitespace"?t(i):n(i)}}const nP={name:"setextUnderline",resolveTo:Ase,tokenize:Pse};function Ase(e,t){let n=e.length,r,a,i;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(a=n)}else e[n][1].type==="content"&&e.splice(n,1),!i&&e[n][1].type==="definition"&&(i=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",i?(e.splice(a,0,["enter",o,t]),e.splice(i+1,0,["exit",e[r][1],t]),e[r][1].end={...e[i][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function Pse(e,t,n){const r=this;let a;return i;function i(c){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),a=c,o(c)):n(c)}function o(c){return e.enter("setextHeadingLineSequence"),s(c)}function s(c){return c===a?(e.consume(c),s):(e.exit("setextHeadingLineSequence"),an(c)?gn(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||_t(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const Ese={tokenize:Tse};function Tse(e){const t=this,n=e.attempt(Rp,r,e.attempt(this.parser.constructs.flowInitial,a,gn(e,e.attempt(this.parser.constructs.flow,a,e.attempt(Foe,a)),"linePrefix")));return n;function r(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function a(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Ose={resolveAll:PF()},Dse=AF("string"),Ise=AF("text");function AF(e){return{resolveAll:PF(e==="text"?_se:void 0),tokenize:t};function t(n){const r=this,a=this.parser.constructs[e],i=n.attempt(a,o,s);return o;function o(d){return c(d)?i(d):s(d)}function s(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return c(d)?(n.exit("data"),i(d)):(n.consume(d),l)}function c(d){if(d===null)return!0;const f=a[d];let p=-1;if(f)for(;++p<f.length;){const m=f[p];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function PF(e){return t;function t(n,r){let a=-1,i;for(;++a<=n.length;)i===void 0?n[a]&&n[a][1].type==="data"&&(i=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==i+2&&(n[i][1].end=n[a-1][1].end,n.splice(i+2,a-i-2),a=i+2),i=void 0);return e?e(n,r):n}}function _se(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],a=t.sliceStream(r);let i=a.length,o=-1,s=0,l;for(;i--;){const c=a[i];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(c===-2)l=!0,s++;else if(c!==-1){i++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(s=0),s){const c={type:n===e.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?o:r.start._bufferIndex+o,_index:r.start._index+i,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const Fse={42:Ya,43:Ya,45:Ya,48:Ya,49:Ya,50:Ya,51:Ya,52:Ya,53:Ya,54:Ya,55:Ya,56:Ya,57:Ya,62:wF},Lse={91:Boe},Rse={[-2]:Pv,[-1]:Pv,32:Pv},$se={35:Koe,42:ih,45:[nP,ih],60:Joe,61:nP,95:ih,96:eP,126:eP},zse={38:SF,92:kF},Bse={[-5]:Ev,[-4]:Ev,[-3]:Ev,33:hse,38:SF,42:nw,60:[yoe,ase],91:yse,92:[Woe,kF],93:LS,95:nw,96:Eoe},Use={null:[nw,Ose]},Vse={null:[42,95]},Hse={null:[]},Wse=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Vse,contentInitial:Lse,disable:Hse,document:Fse,flow:$se,flowInitial:Rse,insideSpan:Use,string:zse,text:Bse},Symbol.toStringTag,{value:"Module"}));function qse(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},i=[];let o=[],s=[];const l={attempt:M(C),check:M(N),consume:b,enter:w,exit:S,interrupt:M(N,{interrupt:!0})},c={code:null,containerState:{},defineSkip:y,events:[],now:h,parser:e,previous:null,sliceSerialize:p,sliceStream:m,write:f};let d=t.tokenize.call(c,l);return t.resolveAll&&i.push(t),c;function f(_){return o=Fi(o,_),x(),o[o.length-1]!==null?[]:(O(t,0),c.events=uy(i,c.events,c),c.events)}function p(_,I){return Yse(m(_),I)}function m(_){return Kse(o,_)}function h(){const{_bufferIndex:_,_index:I,line:Q,column:J,offset:re}=r;return{_bufferIndex:_,_index:I,line:Q,column:J,offset:re}}function y(_){a[_.line]=_.column,P()}function x(){let _;for(;r._index<o.length;){const I=o[r._index];if(typeof I=="string")for(_=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===_&&r._bufferIndex<I.length;)g(I.charCodeAt(r._bufferIndex));else g(I)}}function g(_){d=d(_)}function b(_){_t(_)?(r.line++,r.column=1,r.offset+=_===-3?2:1,P()):_!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=_}function w(_,I){const Q=I||{};return Q.type=_,Q.start=h(),c.events.push(["enter",Q,c]),s.push(Q),Q}function S(_){const I=s.pop();return I.end=h(),c.events.push(["exit",I,c]),I}function C(_,I){O(_,I.from)}function N(_,I){I.restore()}function M(_,I){return Q;function Q(J,re,he){let B,$,te,k;return Array.isArray(J)?A(J):"tokenize"in J?A([J]):E(J);function E(W){return q;function q(G){const D=G!==null&&W[G],ee=G!==null&&W.null,fe=[...Array.isArray(D)?D:D?[D]:[],...Array.isArray(ee)?ee:ee?[ee]:[]];return A(fe)(G)}}function A(W){return B=W,$=0,W.length===0?he:j(W[$])}function j(W){return q;function q(G){return k=R(),te=W,W.partial||(c.currentConstruct=W),W.name&&c.parser.constructs.disable.null.includes(W.name)?Y():W.tokenize.call(I?Object.assign(Object.create(c),I):c,l,z,Y)(G)}}function z(W){return _(te,k),re}function Y(W){return k.restore(),++$<B.length?j(B[$]):he}}}function O(_,I){_.resolveAll&&!i.includes(_)&&i.push(_),_.resolve&&vi(c.events,I,c.events.length-I,_.resolve(c.events.slice(I),c)),_.resolveTo&&(c.events=_.resolveTo(c.events,c))}function R(){const _=h(),I=c.previous,Q=c.currentConstruct,J=c.events.length,re=Array.from(s);return{from:J,restore:he};function he(){r=_,c.previous=I,c.currentConstruct=Q,c.events.length=J,s=re,P()}}function P(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function Kse(e,t){const n=t.start._index,r=t.start._bufferIndex,a=t.end._index,i=t.end._bufferIndex;let o;if(n===a)o=[e[n].slice(r,i)];else{if(o=e.slice(n,a),r>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(r):o.shift()}i>0&&o.push(e[a].slice(0,i))}return o}function Yse(e,t){let n=-1;const r=[];let a;for(;++n<e.length;){const i=e[n];let o;if(typeof i=="string")o=i;else switch(i){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&a)continue;o=" ";break}default:o=String.fromCharCode(i)}a=i===-2,r.push(o)}return r.join("")}function Gse(e){const t={constructs:bF([Wse,...(e||{}).extensions||[]]),content:n(uoe),defined:[],document:n(foe),flow:n(Ese),lazy:{},string:n(Dse),text:n(Ise)};return t;function n(r){return a;function a(i){return qse(t,r,i)}}}function Xse(e){for(;!NF(e););return e}const rP=/[\0\t\n\r]/g;function Jse(){let e=1,t="",n=!0,r;return a;function a(i,o,s){const l=[];let c,d,f,p,m;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(o||void 0).decode(i)),f=0,t="",n&&(i.charCodeAt(0)===65279&&f++,n=void 0);f<i.length;){if(rP.lastIndex=f,c=rP.exec(i),p=c&&c.index!==void 0?c.index:i.length,m=i.charCodeAt(p),!c){t=i.slice(f);break}if(m===10&&f===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<p&&(l.push(i.slice(f,p)),e+=p-f),m){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=p+1}return s&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const Qse=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Zse(e){return e.replace(Qse,ele)}function ele(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const r=n.charCodeAt(1),a=r===120||r===88;return xF(n.slice(a?2:1),a?16:10)}return FS(n)||e}const EF={}.hasOwnProperty;function tle(e,t,n){return typeof t!="string"&&(n=t,t=void 0),nle(n)(Xse(Gse(n).document().write(Jse()(e,t,!0))))}function nle(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(le),autolinkProtocol:R,autolinkEmail:R,atxHeading:i(F),blockQuote:i(ee),characterEscape:R,characterReference:R,codeFenced:i(fe),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:i(fe,o),codeText:i(L,o),codeTextData:R,data:R,codeFlowValue:R,definition:i(ne),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:i(U),hardBreakEscape:i(se),hardBreakTrailing:i(se),htmlFlow:i(ye,o),htmlFlowData:R,htmlText:i(ye,o),htmlTextData:R,image:i(Ye),label:o,link:i(le),listItem:i(De),listItemValue:p,listOrdered:i(Ve,f),listUnordered:i(Ve),paragraph:i(pt),reference:j,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:i(F),strong:i(Ht),thematicBreak:i(Or)},exit:{atxHeading:l(),atxHeadingSequence:C,autolink:l(),autolinkEmail:D,autolinkProtocol:G,blockQuote:l(),characterEscapeValue:P,characterReferenceMarkerHexadecimal:Y,characterReferenceMarkerNumeric:Y,characterReferenceValue:W,characterReference:q,codeFenced:l(x),codeFencedFence:y,codeFencedFenceInfo:m,codeFencedFenceMeta:h,codeFlowValue:P,codeIndented:l(g),codeText:l(re),codeTextData:P,data:P,definition:l(),definitionDestinationString:S,definitionLabelString:b,definitionTitleString:w,emphasis:l(),hardBreakEscape:l(I),hardBreakTrailing:l(I),htmlFlow:l(Q),htmlFlowData:P,htmlText:l(J),htmlTextData:P,image:l(B),label:te,labelText:$,lineEnding:_,link:l(he),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:z,resourceDestinationString:k,resourceTitleString:E,resource:A,setextHeading:l(O),setextHeadingLineSequence:M,setextHeadingText:N,strong:l(),thematicBreak:l()}};TF(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(de){let Ce={type:"root",children:[]};const Pt={stack:[Ce],tokenStack:[],config:t,enter:s,exit:c,buffer:o,resume:d,data:n},Wt=[];let pn=-1;for(;++pn<de.length;)if(de[pn][1].type==="listOrdered"||de[pn][1].type==="listUnordered")if(de[pn][0]==="enter")Wt.push(pn);else{const Wr=Wt.pop();pn=a(de,Wr,pn)}for(pn=-1;++pn<de.length;){const Wr=t[de[pn][0]];EF.call(Wr,de[pn][1].type)&&Wr[de[pn][1].type].call(Object.assign({sliceSerialize:de[pn][2].sliceSerialize},Pt),de[pn][1])}if(Pt.tokenStack.length>0){const Wr=Pt.tokenStack[Pt.tokenStack.length-1];(Wr[1]||aP).call(Pt,void 0,Wr[0])}for(Ce.position={start:Vs(de.length>0?de[0][1].start:{line:1,column:1,offset:0}),end:Vs(de.length>0?de[de.length-2][1].end:{line:1,column:1,offset:0})},pn=-1;++pn<t.transforms.length;)Ce=t.transforms[pn](Ce)||Ce;return Ce}function a(de,Ce,Pt){let Wt=Ce-1,pn=-1,Wr=!1,Nr,Rn,ga,Dr;for(;++Wt<=Pt;){const Qt=de[Wt];switch(Qt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Qt[0]==="enter"?pn++:pn--,Dr=void 0;break}case"lineEndingBlank":{Qt[0]==="enter"&&(Nr&&!Dr&&!pn&&!ga&&(ga=Wt),Dr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Dr=void 0}if(!pn&&Qt[0]==="enter"&&Qt[1].type==="listItemPrefix"||pn===-1&&Qt[0]==="exit"&&(Qt[1].type==="listUnordered"||Qt[1].type==="listOrdered")){if(Nr){let sn=Wt;for(Rn=void 0;sn--;){const Ir=de[sn];if(Ir[1].type==="lineEnding"||Ir[1].type==="lineEndingBlank"){if(Ir[0]==="exit")continue;Rn&&(de[Rn][1].type="lineEndingBlank",Wr=!0),Ir[1].type="lineEnding",Rn=sn}else if(!(Ir[1].type==="linePrefix"||Ir[1].type==="blockQuotePrefix"||Ir[1].type==="blockQuotePrefixWhitespace"||Ir[1].type==="blockQuoteMarker"||Ir[1].type==="listItemIndent"))break}ga&&(!Rn||ga<Rn)&&(Nr._spread=!0),Nr.end=Object.assign({},Rn?de[Rn][1].start:Qt[1].end),de.splice(Rn||Wt,0,["exit",Nr,Qt[2]]),Wt++,Pt++}if(Qt[1].type==="listItemPrefix"){const sn={type:"listItem",_spread:!1,start:Object.assign({},Qt[1].start),end:void 0};Nr=sn,de.splice(Wt,0,["enter",sn,Qt[2]]),Wt++,Pt++,ga=void 0,Dr=!0}}}return de[Ce][1]._spread=Wr,Pt}function i(de,Ce){return Pt;function Pt(Wt){s.call(this,de(Wt),Wt),Ce&&Ce.call(this,Wt)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(de,Ce,Pt){this.stack[this.stack.length-1].children.push(de),this.stack.push(de),this.tokenStack.push([Ce,Pt||void 0]),de.position={start:Vs(Ce.start),end:void 0}}function l(de){return Ce;function Ce(Pt){de&&de.call(this,Pt),c.call(this,Pt)}}function c(de,Ce){const Pt=this.stack.pop(),Wt=this.tokenStack.pop();if(Wt)Wt[0].type!==de.type&&(Ce?Ce.call(this,de,Wt[0]):(Wt[1]||aP).call(this,de,Wt[0]));else throw new Error("Cannot close `"+de.type+"` ("+nf({start:de.start,end:de.end})+"): its not open");Pt.position.end=Vs(de.end)}function d(){return _S(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function p(de){if(this.data.expectingFirstListItemValue){const Ce=this.stack[this.stack.length-2];Ce.start=Number.parseInt(this.sliceSerialize(de),10),this.data.expectingFirstListItemValue=void 0}}function m(){const de=this.resume(),Ce=this.stack[this.stack.length-1];Ce.lang=de}function h(){const de=this.resume(),Ce=this.stack[this.stack.length-1];Ce.meta=de}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const de=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=de.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function g(){const de=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=de.replace(/(\r?\n|\r)$/g,"")}function b(de){const Ce=this.resume(),Pt=this.stack[this.stack.length-1];Pt.label=Ce,Pt.identifier=so(this.sliceSerialize(de)).toLowerCase()}function w(){const de=this.resume(),Ce=this.stack[this.stack.length-1];Ce.title=de}function S(){const de=this.resume(),Ce=this.stack[this.stack.length-1];Ce.url=de}function C(de){const Ce=this.stack[this.stack.length-1];if(!Ce.depth){const Pt=this.sliceSerialize(de).length;Ce.depth=Pt}}function N(){this.data.setextHeadingSlurpLineEnding=!0}function M(de){const Ce=this.stack[this.stack.length-1];Ce.depth=this.sliceSerialize(de).codePointAt(0)===61?1:2}function O(){this.data.setextHeadingSlurpLineEnding=void 0}function R(de){const Ce=this.stack[this.stack.length-1].children;let Pt=Ce[Ce.length-1];(!Pt||Pt.type!=="text")&&(Pt=yn(),Pt.position={start:Vs(de.start),end:void 0},Ce.push(Pt)),this.stack.push(Pt)}function P(de){const Ce=this.stack.pop();Ce.value+=this.sliceSerialize(de),Ce.position.end=Vs(de.end)}function _(de){const Ce=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Pt=Ce.children[Ce.children.length-1];Pt.position.end=Vs(de.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Ce.type)&&(R.call(this,de),P.call(this,de))}function I(){this.data.atHardBreak=!0}function Q(){const de=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=de}function J(){const de=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=de}function re(){const de=this.resume(),Ce=this.stack[this.stack.length-1];Ce.value=de}function he(){const de=this.stack[this.stack.length-1];if(this.data.inReference){const Ce=this.data.referenceType||"shortcut";de.type+="Reference",de.referenceType=Ce,delete de.url,delete de.title}else delete de.identifier,delete de.label;this.data.referenceType=void 0}function B(){const de=this.stack[this.stack.length-1];if(this.data.inReference){const Ce=this.data.referenceType||"shortcut";de.type+="Reference",de.referenceType=Ce,delete de.url,delete de.title}else delete de.identifier,delete de.label;this.data.referenceType=void 0}function $(de){const Ce=this.sliceSerialize(de),Pt=this.stack[this.stack.length-2];Pt.label=Zse(Ce),Pt.identifier=so(Ce).toLowerCase()}function te(){const de=this.stack[this.stack.length-1],Ce=this.resume(),Pt=this.stack[this.stack.length-1];if(this.data.inReference=!0,Pt.type==="link"){const Wt=de.children;Pt.children=Wt}else Pt.alt=Ce}function k(){const de=this.resume(),Ce=this.stack[this.stack.length-1];Ce.url=de}function E(){const de=this.resume(),Ce=this.stack[this.stack.length-1];Ce.title=de}function A(){this.data.inReference=void 0}function j(){this.data.referenceType="collapsed"}function z(de){const Ce=this.resume(),Pt=this.stack[this.stack.length-1];Pt.label=Ce,Pt.identifier=so(this.sliceSerialize(de)).toLowerCase(),this.data.referenceType="full"}function Y(de){this.data.characterReferenceType=de.type}function W(de){const Ce=this.sliceSerialize(de),Pt=this.data.characterReferenceType;let Wt;Pt?(Wt=xF(Ce,Pt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Wt=FS(Ce);const pn=this.stack[this.stack.length-1];pn.value+=Wt}function q(de){const Ce=this.stack.pop();Ce.position.end=Vs(de.end)}function G(de){P.call(this,de);const Ce=this.stack[this.stack.length-1];Ce.url=this.sliceSerialize(de)}function D(de){P.call(this,de);const Ce=this.stack[this.stack.length-1];Ce.url="mailto:"+this.sliceSerialize(de)}function ee(){return{type:"blockquote",children:[]}}function fe(){return{type:"code",lang:null,meta:null,value:""}}function L(){return{type:"inlineCode",value:""}}function ne(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function U(){return{type:"emphasis",children:[]}}function F(){return{type:"heading",depth:0,children:[]}}function se(){return{type:"break"}}function ye(){return{type:"html",value:""}}function Ye(){return{type:"image",title:null,url:"",alt:null}}function le(){return{type:"link",title:null,url:"",children:[]}}function Ve(de){return{type:"list",ordered:de.type==="listOrdered",start:null,spread:de._spread,children:[]}}function De(de){return{type:"listItem",spread:de._spread,checked:null,children:[]}}function pt(){return{type:"paragraph",children:[]}}function Ht(){return{type:"strong",children:[]}}function yn(){return{type:"text",value:""}}function Or(){return{type:"thematicBreak"}}}function Vs(e){return{line:e.line,column:e.column,offset:e.offset}}function TF(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?TF(e,r):rle(e,r)}}function rle(e,t){let n;for(n in t)if(EF.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function aP(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+nf({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+nf({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+nf({start:t.start,end:t.end})+") is still open")}function ale(e){const t=this;t.parser=n;function n(r){return tle(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function ile(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function ole(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function sle(e,t){const n=t.value?t.value+`
`:"",r={},a=t.lang?t.lang.split(/\s+/):[];a.length>0&&(r.className=["language-"+a[0]]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function lle(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function cle(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ule(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),a=ud(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);let o,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=i+1,s+=1,e.footnoteCounts.set(r,s);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function dle(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function fle(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function OF(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const a=e.all(t),i=a[0];i&&i.type==="text"?i.value="["+i.value:a.unshift({type:"text",value:"["});const o=a[a.length-1];return o&&o.type==="text"?o.value+=r:a.push({type:"text",value:r}),a}function ple(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return OF(e,t);const a={src:ud(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,i),e.applyData(t,i)}function mle(e,t){const n={src:ud(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function hle(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function gle(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return OF(e,t);const a={href:ud(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function yle(e,t){const n={href:ud(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function vle(e,t,n){const r=e.all(t),a=n?ble(n):DF(t),i={},o=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const d=r[s];(a||s!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!a?o.push(...d.children):o.push(d)}const l=r[r.length-1];l&&(a||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:i,children:o};return e.patch(t,c),e.applyData(t,c)}function ble(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=DF(n[r])}return t}function DF(e){return e.spread??e.children.length>1}function xle(e,t){const n={},r=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++a<r.length;){const o=r[a];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)}function wle(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function kle(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Sle(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Nle(e,t){const n=e.all(t),r=n.shift(),a=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),a.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=TS(t.children[1]),l=fF(t.children[t.children.length-1]);s&&l&&(o.position={start:s,end:l}),a.push(o)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,i),e.applyData(t,i)}function jle(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",i=n&&n.type==="table"?n.align:void 0,o=i?i.length:t.children.length;let s=-1;const l=[];for(;++s<o;){const d=t.children[s],f={},p=i?i[s]:void 0;p&&(f.align=p);let m={type:"element",tagName:a,properties:f,children:[]};d&&(m.children=e.all(d),e.patch(d,m),m=e.applyData(d,m)),l.push(m)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,c),e.applyData(t,c)}function Cle(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const iP=9,oP=32;function Mle(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),a=0;const i=[];for(;r;)i.push(sP(t.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(t);return i.push(sP(t.slice(a),a>0,!1)),i.join("")}function sP(e,t,n){let r=0,a=e.length;if(t){let i=e.codePointAt(r);for(;i===iP||i===oP;)r++,i=e.codePointAt(r)}if(n){let i=e.codePointAt(a-1);for(;i===iP||i===oP;)a--,i=e.codePointAt(a-1)}return a>r?e.slice(r,a):""}function Ale(e,t){const n={type:"text",value:Mle(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Ple(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Ele={blockquote:ile,break:ole,code:sle,delete:lle,emphasis:cle,footnoteReference:ule,heading:dle,html:fle,imageReference:ple,image:mle,inlineCode:hle,linkReference:gle,link:yle,listItem:vle,list:xle,paragraph:wle,root:kle,strong:Sle,table:Nle,tableCell:Cle,tableRow:jle,text:Ale,thematicBreak:Ple,toml:Tm,yaml:Tm,definition:Tm,footnoteDefinition:Tm};function Tm(){}const IF=-1,dy=0,af=1,Og=2,RS=3,$S=4,zS=5,BS=6,_F=7,FF=8,lP=typeof self=="object"?self:globalThis,Tle=(e,t)=>{const n=(a,i)=>(e.set(i,a),a),r=a=>{if(e.has(a))return e.get(a);const[i,o]=t[a];switch(i){case dy:case IF:return n(o,a);case af:{const s=n([],a);for(const l of o)s.push(r(l));return s}case Og:{const s=n({},a);for(const[l,c]of o)s[r(l)]=r(c);return s}case RS:return n(new Date(o),a);case $S:{const{source:s,flags:l}=o;return n(new RegExp(s,l),a)}case zS:{const s=n(new Map,a);for(const[l,c]of o)s.set(r(l),r(c));return s}case BS:{const s=n(new Set,a);for(const l of o)s.add(r(l));return s}case _F:{const{name:s,message:l}=o;return n(new lP[s](l),a)}case FF:return n(BigInt(o),a);case"BigInt":return n(Object(BigInt(o)),a);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:s}=new Uint8Array(o);return n(new DataView(s),o)}}return n(new lP[i](o),a)};return r},cP=e=>Tle(new Map,e)(0),Jc="",{toString:Ole}={},{keys:Dle}=Object,_d=e=>{const t=typeof e;if(t!=="object"||!e)return[dy,t];const n=Ole.call(e).slice(8,-1);switch(n){case"Array":return[af,Jc];case"Object":return[Og,Jc];case"Date":return[RS,Jc];case"RegExp":return[$S,Jc];case"Map":return[zS,Jc];case"Set":return[BS,Jc];case"DataView":return[af,n]}return n.includes("Array")?[af,n]:n.includes("Error")?[_F,n]:[Og,n]},Om=([e,t])=>e===dy&&(t==="function"||t==="symbol"),Ile=(e,t,n,r)=>{const a=(o,s)=>{const l=r.push(o)-1;return n.set(s,l),l},i=o=>{if(n.has(o))return n.get(o);let[s,l]=_d(o);switch(s){case dy:{let d=o;switch(l){case"bigint":s=FF,d=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return a([IF],o)}return a([s,d],o)}case af:{if(l){let p=o;return l==="DataView"?p=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(o)),a([l,[...p]],o)}const d=[],f=a([s,d],o);for(const p of o)d.push(i(p));return f}case Og:{if(l)switch(l){case"BigInt":return a([l,o.toString()],o);case"Boolean":case"Number":case"String":return a([l,o.valueOf()],o)}if(t&&"toJSON"in o)return i(o.toJSON());const d=[],f=a([s,d],o);for(const p of Dle(o))(e||!Om(_d(o[p])))&&d.push([i(p),i(o[p])]);return f}case RS:return a([s,o.toISOString()],o);case $S:{const{source:d,flags:f}=o;return a([s,{source:d,flags:f}],o)}case zS:{const d=[],f=a([s,d],o);for(const[p,m]of o)(e||!(Om(_d(p))||Om(_d(m))))&&d.push([i(p),i(m)]);return f}case BS:{const d=[],f=a([s,d],o);for(const p of o)(e||!Om(_d(p)))&&d.push(i(p));return f}}const{message:c}=o;return a([s,{name:l,message:c}],o)};return i},uP=(e,{json:t,lossy:n}={})=>{const r=[];return Ile(!(t||n),!!t,new Map,r)(e),r},Dg=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?cP(uP(e,t)):structuredClone(e):(e,t)=>cP(uP(e,t));function _le(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Fle(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Lle(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||_le,r=e.options.footnoteBackLabel||Fle,a=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const d=e.all(c),f=String(c.identifier).toUpperCase(),p=ud(f.toLowerCase());let m=0;const h=[],y=e.footnoteCounts.get(f);for(;y!==void 0&&++m<=y;){h.length>0&&h.push({type:"text",value:" "});let b=typeof n=="string"?n:n(l,m);typeof b=="string"&&(b={type:"text",value:b}),h.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const x=d[d.length-1];if(x&&x.type==="element"&&x.tagName==="p"){const b=x.children[x.children.length-1];b&&b.type==="text"?b.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...h)}else d.push(...h);const g={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(d,!0)};e.patch(c,g),s.push(g)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...Dg(o),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const fy=function(e){if(e==null)return Ble;if(typeof e=="function")return py(e);if(typeof e=="object")return Array.isArray(e)?Rle(e):$le(e);if(typeof e=="string")return zle(e);throw new Error("Expected function, string, or object as test")};function Rle(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=fy(e[n]);return py(r);function r(...a){let i=-1;for(;++i<t.length;)if(t[i].apply(this,a))return!0;return!1}}function $le(e){const t=e;return py(n);function n(r){const a=r;let i;for(i in e)if(a[i]!==t[i])return!1;return!0}}function zle(e){return py(t);function t(n){return n&&n.type===e}}function py(e){return t;function t(n,r,a){return!!(Ule(n)&&e.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function Ble(){return!0}function Ule(e){return e!==null&&typeof e=="object"&&"type"in e}const LF=[],Vle=!0,rw=!1,Hle="skip";function RF(e,t,n,r){let a;typeof t=="function"&&typeof n!="function"?(r=n,n=t):a=t;const i=fy(a),o=r?-1:1;s(e,void 0,[])();function s(l,c,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return p;function p(){let m=LF,h,y,x;if((!t||i(l,c,d[d.length-1]||void 0))&&(m=Wle(n(l,d)),m[0]===rw))return m;if("children"in l&&l.children){const g=l;if(g.children&&m[0]!==Hle)for(y=(r?g.children.length:-1)+o,x=d.concat(g);y>-1&&y<g.children.length;){const b=g.children[y];if(h=s(b,y,x)(),h[0]===rw)return h;y=typeof h[1]=="number"?h[1]:y+o}}return m}}}function Wle(e){return Array.isArray(e)?e:typeof e=="number"?[Vle,e]:e==null?LF:[e]}function US(e,t,n,r){let a,i,o;typeof t=="function"&&typeof n!="function"?(i=void 0,o=t,a=n):(i=t,o=n,a=r),RF(e,i,s,a);function s(l,c){const d=c[c.length-1],f=d?d.children.indexOf(l):void 0;return o(l,f,d)}}const aw={}.hasOwnProperty,qle={};function Kle(e,t){const n=t||qle,r=new Map,a=new Map,i=new Map,o={...Ele,...n.handlers},s={all:c,applyData:Gle,definitionById:r,footnoteById:a,footnoteCounts:i,footnoteOrder:[],handlers:o,one:l,options:n,patch:Yle,wrap:Jle};return US(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:a,p=String(d.identifier).toUpperCase();f.has(p)||f.set(p,d)}}),s;function l(d,f){const p=d.type,m=s.handlers[p];if(aw.call(s.handlers,p)&&m)return m(s,d,f);if(s.options.passThrough&&s.options.passThrough.includes(p)){if("children"in d){const{children:h,...y}=d,x=Dg(y);return x.children=s.all(d),x}return Dg(d)}return(s.options.unknownHandler||Xle)(s,d,f)}function c(d){const f=[];if("children"in d){const p=d.children;let m=-1;for(;++m<p.length;){const h=s.one(p[m],d);if(h){if(m&&p[m-1].type==="break"&&(!Array.isArray(h)&&h.type==="text"&&(h.value=dP(h.value)),!Array.isArray(h)&&h.type==="element")){const y=h.children[0];y&&y.type==="text"&&(y.value=dP(y.value))}Array.isArray(h)?f.push(...h):f.push(h)}}}return f}}function Yle(e,t){e.position&&(t.position=Fie(e))}function Gle(e,t){let n=t;if(e&&e.data){const r=e.data.hName,a=e.data.hChildren,i=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&i&&Object.assign(n.properties,Dg(i)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function Xle(e,t){const n=t.data||{},r="value"in t&&!(aw.call(n,"hProperties")||aw.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Jle(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function dP(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function fP(e,t){const n=Kle(e,t),r=n.one(e,void 0),a=Lle(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&i.children.push({type:"text",value:`
`},a),i}function Qle(e,t){return e&&"run"in e?async function(n,r){const a=fP(n,{file:r,...t});await e.run(a,r)}:function(n,r){return fP(n,{file:r,...e||t})}}function pP(e){if(e)throw e}var oh=Object.prototype.hasOwnProperty,$F=Object.prototype.toString,mP=Object.defineProperty,hP=Object.getOwnPropertyDescriptor,gP=function(e){return typeof Array.isArray=="function"?Array.isArray(e):$F.call(e)==="[object Array]"},yP=function(e){if(!e||$F.call(e)!=="[object Object]")return!1;var t=oh.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&oh.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!n)return!1;var r;for(r in e);return typeof r>"u"||oh.call(e,r)},vP=function(e,t){mP&&t.name==="__proto__"?mP(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},bP=function(e,t){if(t==="__proto__")if(oh.call(e,t)){if(hP)return hP(e,t).value}else return;return e[t]},Zle=function e(){var t,n,r,a,i,o,s=arguments[0],l=1,c=arguments.length,d=!1;for(typeof s=="boolean"&&(d=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<c;++l)if(t=arguments[l],t!=null)for(n in t)r=bP(s,n),a=bP(t,n),s!==a&&(d&&a&&(yP(a)||(i=gP(a)))?(i?(i=!1,o=r&&gP(r)?r:[]):o=r&&yP(r)?r:{},vP(s,{name:n,newValue:e(d,o,a)})):typeof a<"u"&&vP(s,{name:n,newValue:a}));return s};const Tv=mo(Zle);function iw(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function ece(){const e=[],t={run:n,use:r};return t;function n(...a){let i=-1;const o=a.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...a);function s(l,...c){const d=e[++i];let f=-1;if(l){o(l);return}for(;++f<a.length;)(c[f]===null||c[f]===void 0)&&(c[f]=a[f]);a=c,d?tce(d,s)(...c):o(null,...c)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function tce(e,t){let n;return r;function r(...o){const s=e.length>o.length;let l;s&&o.push(a);try{l=e.apply(this,o)}catch(c){const d=c;if(s&&n)throw d;return a(d)}s||(l&&l.then&&typeof l.then=="function"?l.then(i,a):l instanceof Error?a(l):i(l))}function a(o,...s){n||(n=!0,t(o,...s))}function i(o){a(null,o)}}const Eo={basename:nce,dirname:rce,extname:ace,join:ice,sep:"/"};function nce(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');$p(e);let n=0,r=-1,a=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(i){n=a+1;break}}else r<0&&(i=!0,r=a+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,s=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(i){n=a+1;break}}else o<0&&(i=!0,o=a+1),s>-1&&(e.codePointAt(a)===t.codePointAt(s--)?s<0&&(r=a):(s=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function rce(e){if($p(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function ace(e){$p(e);let t=e.length,n=-1,r=0,a=-1,i=0,o;for(;t--;){const s=e.codePointAt(t);if(s===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),s===46?a<0?a=t:i!==1&&(i=1):a>-1&&(i=-1)}return a<0||n<0||i===0||i===1&&a===n-1&&a===r+1?"":e.slice(a,n)}function ice(...e){let t=-1,n;for(;++t<e.length;)$p(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":oce(n)}function oce(e){$p(e);const t=e.codePointAt(0)===47;let n=sce(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function sce(e,t){let n="",r=0,a=-1,i=0,o=-1,s,l;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(a===o-1||i===1))if(a!==o-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),a=o,i=0;continue}}else if(n.length>0){n="",r=0,a=o,i=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(a+1,o):n=e.slice(a+1,o),r=o-a-1;a=o,i=0}else s===46&&i>-1?i++:i=-1}return n}function $p(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const lce={cwd:cce};function cce(){return"/"}function ow(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function uce(e){if(typeof e=="string")e=new URL(e);else if(!ow(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return dce(e)}function dce(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const Ov=["history","path","basename","stem","extname","dirname"];class zF{constructor(t){let n;t?ow(t)?n={path:t}:typeof t=="string"||fce(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":lce.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Ov.length;){const i=Ov[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let a;for(a in n)Ov.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?Eo.basename(this.path):void 0}set basename(t){Iv(t,"basename"),Dv(t,"basename"),this.path=Eo.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Eo.dirname(this.path):void 0}set dirname(t){xP(this.basename,"dirname"),this.path=Eo.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Eo.extname(this.path):void 0}set extname(t){if(Dv(t,"extname"),xP(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Eo.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){ow(t)&&(t=uce(t)),Iv(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Eo.basename(this.path,this.extname):void 0}set stem(t){Iv(t,"stem"),Dv(t,"stem"),this.path=Eo.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const a=this.message(t,n,r);throw a.fatal=!0,a}info(t,n,r){const a=this.message(t,n,r);return a.fatal=void 0,a}message(t,n,r){const a=new Pa(t,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Dv(e,t){if(e&&e.includes(Eo.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Eo.sep+"`")}function Iv(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function xP(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function fce(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const pce=function(e){const t=this.constructor.prototype,n=t[e],r=function(){return n.apply(r,arguments)};return Object.setPrototypeOf(r,t),r},mce={}.hasOwnProperty;class VS extends pce{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=ece()}copy(){const t=new VS;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Tv(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Lv("data",this.frozen),this.namespace[t]=n,this):mce.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Lv("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(t,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Dm(t),r=this.parser||this.Parser;return _v("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),_v("process",this.parser||this.Parser),Fv("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(i,o){const s=Dm(t),l=r.parse(s);r.run(l,s,function(d,f,p){if(d||!f||!p)return c(d);const m=f,h=r.stringify(m,p);yce(h)?p.value=h:p.result=h,c(d,p)});function c(d,f){d||!f?o(d):i?i(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),_v("processSync",this.parser||this.Parser),Fv("processSync",this.compiler||this.Compiler),this.process(t,a),kP("processSync","process",n),r;function a(i,o){n=!0,pP(i),r=o}}run(t,n,r){wP(t),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(o,s){const l=Dm(n);a.run(t,l,c);function c(d,f,p){const m=f||t;d?s(d):o?o(m):r(void 0,m,p)}}}runSync(t,n){let r=!1,a;return this.run(t,n,i),kP("runSync","run",r),a;function i(o,s){pP(o),a=s,r=!0}}stringify(t,n){this.freeze();const r=Dm(n),a=this.compiler||this.Compiler;return Fv("stringify",a),wP(t),a(t,r)}use(t,...n){const r=this.attachers,a=this.namespace;if(Lv("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...f]=c;l(d,f)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(c.plugins),c.settings&&(a.settings=Tv(!0,a.settings,c.settings))}function s(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const f=c[d];i(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,d){let f=-1,p=-1;for(;++f<r.length;)if(r[f][0]===c){p=f;break}if(p===-1)r.push([c,...d]);else if(d.length>0){let[m,...h]=d;const y=r[p][1];iw(y)&&iw(m)&&(m=Tv(!0,y,m)),r[p]=[c,m,...h]}}}}const hce=new VS().freeze();function _v(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Fv(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Lv(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function wP(e){if(!iw(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function kP(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Dm(e){return gce(e)?e:new zF(e)}function gce(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function yce(e){return typeof e=="string"||vce(e)}function vce(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const bce="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",SP=[],NP={allowDangerousHtml:!0},xce=/^(https?|ircs?|mailto|xmpp)$/i,wce=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function kce(e){const t=Sce(e),n=Nce(e);return jce(t.runSync(t.parse(n),n),e)}function Sce(e){const t=e.rehypePlugins||SP,n=e.remarkPlugins||SP,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...NP}:NP;return hce().use(ale).use(n).use(Qle,r).use(t)}function Nce(e){const t=e.children||"",n=new zF;return typeof t=="string"&&(n.value=t),n}function jce(e,t){const n=t.allowedElements,r=t.allowElement,a=t.components,i=t.disallowedElements,o=t.skipHtml,s=t.unwrapDisallowed,l=t.urlTransform||Cce;for(const d of wce)Object.hasOwn(t,d.from)&&""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+bce+d.id;return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),US(e,c),Bie(e,{Fragment:u.Fragment,components:a,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function c(d,f,p){if(d.type==="raw"&&p&&typeof f=="number")return o?p.children.splice(f,1):p.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let m;for(m in Av)if(Object.hasOwn(Av,m)&&Object.hasOwn(d.properties,m)){const h=d.properties[m],y=Av[m];(y===null||y.includes(d.tagName))&&(d.properties[m]=l(String(h||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):i?i.includes(d.tagName):!1;if(!m&&r&&typeof f=="number"&&(m=!r(d,f,p)),m&&p&&typeof f=="number")return s&&d.children?p.children.splice(f,1,...d.children):p.children.splice(f,1),f}}}function Cce(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||n!==-1&&t>n||r!==-1&&t>r||xce.test(e.slice(0,t))?e:""}function jP(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,a=n.indexOf(t);for(;a!==-1;)r++,a=n.indexOf(t,a+t.length);return r}function Mce(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Ace(e,t,n){const r=fy((n||{}).ignore||[]),a=Pce(t);let i=-1;for(;++i<a.length;)RF(e,"text",o);function o(l,c){let d=-1,f;for(;++d<c.length;){const p=c[d],m=f?f.children:void 0;if(r(p,m?m.indexOf(p):void 0,f))return;f=p}if(f)return s(l,c)}function s(l,c){const d=c[c.length-1],f=a[i][0],p=a[i][1];let m=0;const h=d.children.indexOf(l);let y=!1,x=[];f.lastIndex=0;let g=f.exec(l.value);for(;g;){const b=g.index,w={index:g.index,input:g.input,stack:[...c,l]};let S=p(...g,w);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?f.lastIndex=b+1:(m!==b&&x.push({type:"text",value:l.value.slice(m,b)}),Array.isArray(S)?x.push(...S):S&&x.push(S),m=b+g[0].length,y=!0),!f.global)break;g=f.exec(l.value)}return y?(m<l.value.length&&x.push({type:"text",value:l.value.slice(m)}),d.children.splice(h,1,...x)):x=[l],h+x.length}}function Pce(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const a=n[r];t.push([Ece(a[0]),Tce(a[1])])}return t}function Ece(e){return typeof e=="string"?new RegExp(Mce(e),"g"):e}function Tce(e){return typeof e=="function"?e:function(){return e}}const Rv="phrasing",$v=["autolink","link","image","label"];function Oce(){return{transforms:[$ce],enter:{literalAutolink:Ice,literalAutolinkEmail:zv,literalAutolinkHttp:zv,literalAutolinkWww:zv},exit:{literalAutolink:Rce,literalAutolinkEmail:Lce,literalAutolinkHttp:_ce,literalAutolinkWww:Fce}}}function Dce(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Rv,notInConstruct:$v},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Rv,notInConstruct:$v},{character:":",before:"[ps]",after:"\\/",inConstruct:Rv,notInConstruct:$v}]}}function Ice(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function zv(e){this.config.enter.autolinkProtocol.call(this,e)}function _ce(e){this.config.exit.autolinkProtocol.call(this,e)}function Fce(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Lce(e){this.config.exit.autolinkEmail.call(this,e)}function Rce(e){this.exit(e)}function $ce(e){Ace(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,zce],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Bce]],{ignore:["link","linkReference"]})}function zce(e,t,n,r,a){let i="";if(!BF(a)||(/^w/i.test(t)&&(n=t+n,t="",i="http://"),!Uce(n)))return!1;const o=Vce(n+r);if(!o[0])return!1;const s={type:"link",title:null,url:i+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[s,{type:"text",value:o[1]}]:s}function Bce(e,t,n,r){return!BF(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function Uce(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function Vce(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const a=jP(e,"(");let i=jP(e,")");for(;r!==-1&&a>i;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),i++;return[e,n]}function BF(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Mc(n)||cy(n))&&(!t||n!==47)}UF.peek=Qce;function Hce(){this.buffer()}function Wce(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function qce(){this.buffer()}function Kce(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Yce(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=so(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Gce(e){this.exit(e)}function Xce(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=so(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Jce(e){this.exit(e)}function Qce(){return"["}function UF(e,t,n,r){const a=n.createTracker(r);let i=a.move("[^");const o=n.enter("footnoteReference"),s=n.enter("reference");return i+=a.move(n.safe(n.associationId(e),{after:"]",before:i})),s(),o(),i+=a.move("]"),i}function Zce(){return{enter:{gfmFootnoteCallString:Hce,gfmFootnoteCall:Wce,gfmFootnoteDefinitionLabelString:qce,gfmFootnoteDefinition:Kce},exit:{gfmFootnoteCallString:Yce,gfmFootnoteCall:Gce,gfmFootnoteDefinitionLabelString:Xce,gfmFootnoteDefinition:Jce}}}function eue(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:UF},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,a,i,o){const s=i.createTracker(o);let l=s.move("[^");const c=i.enter("footnoteDefinition"),d=i.enter("label");return l+=s.move(i.safe(i.associationId(r),{before:l,after:"]"})),d(),l+=s.move("]:"),r.children&&r.children.length>0&&(s.shift(4),l+=s.move((t?`
`:" ")+i.indentLines(i.containerFlow(r,s.current()),t?VF:tue))),c(),l}}function tue(e,t,n){return t===0?e:VF(e,t,n)}function VF(e,t,n){return(n?"":"    ")+e}const nue=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];HF.peek=sue;function rue(){return{canContainEols:["delete"],enter:{strikethrough:iue},exit:{strikethrough:oue}}}function aue(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:nue}],handlers:{delete:HF}}}function iue(e){this.enter({type:"delete",children:[]},e)}function oue(e){this.exit(e)}function HF(e,t,n,r){const a=n.createTracker(r),i=n.enter("strikethrough");let o=a.move("~~");return o+=n.containerPhrasing(e,{...a.current(),before:o,after:"~"}),o+=a.move("~~"),i(),o}function sue(){return"~"}function lue(e){return e.length}function cue(e,t){const n=t||{},r=(n.align||[]).concat(),a=n.stringLength||lue,i=[],o=[],s=[],l=[];let c=0,d=-1;for(;++d<e.length;){const y=[],x=[];let g=-1;for(e[d].length>c&&(c=e[d].length);++g<e[d].length;){const b=uue(e[d][g]);if(n.alignDelimiters!==!1){const w=a(b);x[g]=w,(l[g]===void 0||w>l[g])&&(l[g]=w)}y.push(b)}o[d]=y,s[d]=x}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<c;)i[f]=CP(r[f]);else{const y=CP(r);for(;++f<c;)i[f]=y}f=-1;const p=[],m=[];for(;++f<c;){const y=i[f];let x="",g="";y===99?(x=":",g=":"):y===108?x=":":y===114&&(g=":");let b=n.alignDelimiters===!1?1:Math.max(1,l[f]-x.length-g.length);const w=x+"-".repeat(b)+g;n.alignDelimiters!==!1&&(b=x.length+b+g.length,b>l[f]&&(l[f]=b),m[f]=b),p[f]=w}o.splice(1,0,p),s.splice(1,0,m),d=-1;const h=[];for(;++d<o.length;){const y=o[d],x=s[d];f=-1;const g=[];for(;++f<c;){const b=y[f]||"";let w="",S="";if(n.alignDelimiters!==!1){const C=l[f]-(x[f]||0),N=i[f];N===114?w=" ".repeat(C):N===99?C%2?(w=" ".repeat(C/2+.5),S=" ".repeat(C/2-.5)):(w=" ".repeat(C/2),S=w):S=" ".repeat(C)}n.delimiterStart!==!1&&!f&&g.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&b==="")&&(n.delimiterStart!==!1||f)&&g.push(" "),n.alignDelimiters!==!1&&g.push(w),g.push(b),n.alignDelimiters!==!1&&g.push(S),n.padding!==!1&&g.push(" "),(n.delimiterEnd!==!1||f!==c-1)&&g.push("|")}h.push(n.delimiterEnd===!1?g.join("").replace(/ +$/,""):g.join(""))}return h.join(`
`)}function uue(e){return e==null?"":String(e)}function CP(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function due(e,t,n,r){const a=n.enter("blockquote"),i=n.createTracker(r);i.move("> "),i.shift(2);const o=n.indentLines(n.containerFlow(e,i.current()),fue);return a(),o}function fue(e,t,n){return">"+(n?"":" ")+e}function pue(e,t){return MP(e,t.inConstruct,!0)&&!MP(e,t.notInConstruct,!1)}function MP(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function AP(e,t,n,r){let a=-1;for(;++a<n.unsafe.length;)if(n.unsafe[a].character===`
`&&pue(n.stack,n.unsafe[a]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function mue(e,t){const n=String(e);let r=n.indexOf(t),a=r,i=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===a?++i>o&&(o=i):i=1,a=r+t.length,r=n.indexOf(t,a);return o}function hue(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function gue(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function yue(e,t,n,r){const a=gue(n),i=e.value||"",o=a==="`"?"GraveAccent":"Tilde";if(hue(e,n)){const f=n.enter("codeIndented"),p=n.indentLines(i,vue);return f(),p}const s=n.createTracker(r),l=a.repeat(Math.max(mue(i,a)+1,3)),c=n.enter("codeFenced");let d=s.move(l);if(e.lang){const f=n.enter(`codeFencedLang${o}`);d+=s.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...s.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${o}`);d+=s.move(" "),d+=s.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...s.current()})),f()}return d+=s.move(`
`),i&&(d+=s.move(i+`
`)),d+=s.move(l),c(),d}function vue(e,t,n){return(n?"":"    ")+e}function HS(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function bue(e,t,n,r){const a=HS(n),i=a==='"'?"Quote":"Apostrophe",o=n.enter("definition");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...l.current()}))),s(),e.title&&(s=n.enter(`title${i}`),c+=l.move(" "+a),c+=l.move(n.safe(e.title,{before:c,after:a,...l.current()})),c+=l.move(a),s()),o(),c}function xue(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Jf(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Ig(e,t,n){const r=Ku(e),a=Ku(t);return r===void 0?a===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}WF.peek=wue;function WF(e,t,n,r){const a=xue(n),i=n.enter("emphasis"),o=n.createTracker(r),s=o.move(a);let l=o.move(n.containerPhrasing(e,{after:a,before:s,...o.current()}));const c=l.charCodeAt(0),d=Ig(r.before.charCodeAt(r.before.length-1),c,a);d.inside&&(l=Jf(c)+l.slice(1));const f=l.charCodeAt(l.length-1),p=Ig(r.after.charCodeAt(0),f,a);p.inside&&(l=l.slice(0,-1)+Jf(f));const m=o.move(a);return i(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},s+l+m}function wue(e,t,n){return n.options.emphasis||"*"}function kue(e,t){let n=!1;return US(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,rw}),!!((!e.depth||e.depth<3)&&_S(e)&&(t.options.setext||n))}function Sue(e,t,n,r){const a=Math.max(Math.min(6,e.depth||1),1),i=n.createTracker(r);if(kue(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),p=n.containerPhrasing(e,{...i.current(),before:`
`,after:`
`});return f(),d(),p+`
`+(a===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const o="#".repeat(a),s=n.enter("headingAtx"),l=n.enter("phrasing");i.move(o+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...i.current()});return/^[\t ]/.test(c)&&(c=Jf(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,n.options.closeAtx&&(c+=" "+o),l(),s(),c}qF.peek=Nue;function qF(e){return e.value||""}function Nue(){return"<"}KF.peek=jue;function KF(e,t,n,r){const a=HS(n),i=a==='"'?"Quote":"Apostrophe",o=n.enter("image");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),s(),e.title&&(s=n.enter(`title${i}`),c+=l.move(" "+a),c+=l.move(n.safe(e.title,{before:c,after:a,...l.current()})),c+=l.move(a),s()),c+=l.move(")"),o(),c}function jue(){return"!"}YF.peek=Cue;function YF(e,t,n,r){const a=e.referenceType,i=n.enter("imageReference");let o=n.enter("label");const s=n.createTracker(r);let l=s.move("![");const c=n.safe(e.alt,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return o(),n.stack=d,i(),a==="full"||!c||c!==f?l+=s.move(f+"]"):a==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function Cue(){return"!"}GF.peek=Mue;function GF(e,t,n){let r=e.value||"",a="`",i=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(r);)a+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++i<n.unsafe.length;){const o=n.unsafe[i],s=n.compilePattern(o);let l;if(o.atBreak)for(;l=s.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return a+r+a}function Mue(){return"`"}function XF(e,t){const n=_S(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}JF.peek=Aue;function JF(e,t,n,r){const a=HS(n),i=a==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let s,l;if(XF(e,n)){const d=n.stack;n.stack=[],s=n.enter("autolink");let f=o.move("<");return f+=o.move(n.containerPhrasing(e,{before:f,after:">",...o.current()})),f+=o.move(">"),s(),n.stack=d,f}s=n.enter("link"),l=n.enter("label");let c=o.move("[");return c+=o.move(n.containerPhrasing(e,{before:c,after:"](",...o.current()})),c+=o.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(n.safe(e.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(l=n.enter("destinationRaw"),c+=o.move(n.safe(e.url,{before:c,after:e.title?" ":")",...o.current()}))),l(),e.title&&(l=n.enter(`title${i}`),c+=o.move(" "+a),c+=o.move(n.safe(e.title,{before:c,after:a,...o.current()})),c+=o.move(a),l()),c+=o.move(")"),s(),c}function Aue(e,t,n){return XF(e,n)?"<":"["}QF.peek=Pue;function QF(e,t,n,r){const a=e.referenceType,i=n.enter("linkReference");let o=n.enter("label");const s=n.createTracker(r);let l=s.move("[");const c=n.containerPhrasing(e,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return o(),n.stack=d,i(),a==="full"||!c||c!==f?l+=s.move(f+"]"):a==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function Pue(){return"["}function WS(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Eue(e){const t=WS(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Tue(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function ZF(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Oue(e,t,n,r){const a=n.enter("list"),i=n.bulletCurrent;let o=e.ordered?Tue(n):WS(n);const s=e.ordered?o==="."?")":".":Eue(n);let l=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),ZF(n)===o&&d){let f=-1;for(;++f<e.children.length;){const p=e.children[f];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=s),n.bulletCurrent=o;const c=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=i,a(),c}function Due(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Iue(e,t,n,r){const a=Due(n);let i=n.bulletCurrent||WS(n);t&&t.type==="list"&&t.ordered&&(i=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+i);let o=i.length+1;(a==="tab"||a==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const s=n.createTracker(r);s.move(i+" ".repeat(o-i.length)),s.shift(o);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,s.current()),d);return l(),c;function d(f,p,m){return p?(m?"":" ".repeat(o))+f:(m?i:i+" ".repeat(o-i.length))+f}}function _ue(e,t,n,r){const a=n.enter("paragraph"),i=n.enter("phrasing"),o=n.containerPhrasing(e,r);return i(),a(),o}const Fue=fy(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Lue(e,t,n,r){return(e.children.some(function(a){return Fue(a)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function Rue(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}eL.peek=$ue;function eL(e,t,n,r){const a=Rue(n),i=n.enter("strong"),o=n.createTracker(r),s=o.move(a+a);let l=o.move(n.containerPhrasing(e,{after:a,before:s,...o.current()}));const c=l.charCodeAt(0),d=Ig(r.before.charCodeAt(r.before.length-1),c,a);d.inside&&(l=Jf(c)+l.slice(1));const f=l.charCodeAt(l.length-1),p=Ig(r.after.charCodeAt(0),f,a);p.inside&&(l=l.slice(0,-1)+Jf(f));const m=o.move(a+a);return i(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},s+l+m}function $ue(e,t,n){return n.options.strong||"*"}function zue(e,t,n,r){return n.safe(e.value,r)}function Bue(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function Uue(e,t,n){const r=(ZF(n)+(n.options.ruleSpaces?" ":"")).repeat(Bue(n));return n.options.ruleSpaces?r.slice(0,-1):r}const tL={blockquote:due,break:AP,code:yue,definition:bue,emphasis:WF,hardBreak:AP,heading:Sue,html:qF,image:KF,imageReference:YF,inlineCode:GF,link:JF,linkReference:QF,list:Oue,listItem:Iue,paragraph:_ue,root:Lue,strong:eL,text:zue,thematicBreak:Uue};function Vue(){return{enter:{table:Hue,tableData:PP,tableHeader:PP,tableRow:que},exit:{codeText:Kue,table:Wue,tableData:Bv,tableHeader:Bv,tableRow:Bv}}}function Hue(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function Wue(e){this.exit(e),this.data.inTable=void 0}function que(e){this.enter({type:"tableRow",children:[]},e)}function Bv(e){this.exit(e)}function PP(e){this.enter({type:"tableCell",children:[]},e)}function Kue(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Yue));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function Yue(e,t){return t==="|"?t:e}function Gue(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,a=t.stringLength,i=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:o,tableCell:l,tableRow:s}};function o(m,h,y,x){return c(d(m,y,x),m.align)}function s(m,h,y,x){const g=f(m,y,x),b=c([g]);return b.slice(0,b.indexOf(`
`))}function l(m,h,y,x){const g=y.enter("tableCell"),b=y.enter("phrasing"),w=y.containerPhrasing(m,{...x,before:i,after:i});return b(),g(),w}function c(m,h){return cue(m,{align:h,alignDelimiters:r,padding:n,stringLength:a})}function d(m,h,y){const x=m.children;let g=-1;const b=[],w=h.enter("table");for(;++g<x.length;)b[g]=f(x[g],h,y);return w(),b}function f(m,h,y){const x=m.children;let g=-1;const b=[],w=h.enter("tableRow");for(;++g<x.length;)b[g]=l(x[g],m,h,y);return w(),b}function p(m,h,y){let x=tL.inlineCode(m,h,y);return y.stack.includes("tableCell")&&(x=x.replace(/\|/g,"\\$&")),x}}function Xue(){return{exit:{taskListCheckValueChecked:EP,taskListCheckValueUnchecked:EP,paragraph:Que}}}function Jue(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Zue}}}function EP(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function Que(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const a=t.children;let i=-1,o;for(;++i<a.length;){const s=a[i];if(s.type==="paragraph"){o=s;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function Zue(e,t,n,r){const a=e.children[0],i=typeof e.checked=="boolean"&&a&&a.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",s=n.createTracker(r);i&&s.move(o);let l=tL.listItem(e,t,n,{...r,...s.current()});return i&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(d){return d+o}}function ede(){return[Oce(),Zce(),rue(),Vue(),Xue()]}function tde(e){return{extensions:[Dce(),eue(e),aue(),Gue(e),Jue()]}}const nde={tokenize:lde,partial:!0},nL={tokenize:cde,partial:!0},rL={tokenize:ude,partial:!0},aL={tokenize:dde,partial:!0},rde={tokenize:fde,partial:!0},iL={name:"wwwAutolink",tokenize:ode,previous:sL},oL={name:"protocolAutolink",tokenize:sde,previous:lL},Os={name:"emailAutolink",tokenize:ide,previous:cL},Uo={};function ade(){return{text:Uo}}let Ll=48;for(;Ll<123;)Uo[Ll]=Os,Ll++,Ll===58?Ll=65:Ll===91&&(Ll=97);Uo[43]=Os;Uo[45]=Os;Uo[46]=Os;Uo[95]=Os;Uo[72]=[Os,oL];Uo[104]=[Os,oL];Uo[87]=[Os,iL];Uo[119]=[Os,iL];function ide(e,t,n){const r=this;let a,i;return o;function o(f){return!sw(f)||!cL.call(r,r.previous)||qS(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(f))}function s(f){return sw(f)?(e.consume(f),s):f===64?(e.consume(f),l):n(f)}function l(f){return f===46?e.check(rde,d,c)(f):f===45||f===95||Ma(f)?(i=!0,e.consume(f),l):d(f)}function c(f){return e.consume(f),a=!0,l}function d(f){return i&&a&&Fa(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function ode(e,t,n){const r=this;return a;function a(o){return o!==87&&o!==119||!sL.call(r,r.previous)||qS(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(nde,e.attempt(nL,e.attempt(rL,i),n),n)(o))}function i(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function sde(e,t,n){const r=this;let a="",i=!1;return o;function o(f){return(f===72||f===104)&&lL.call(r,r.previous)&&!qS(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),a+=String.fromCodePoint(f),e.consume(f),s):n(f)}function s(f){if(Fa(f)&&a.length<5)return a+=String.fromCodePoint(f),e.consume(f),s;if(f===58){const p=a.toLowerCase();if(p==="http"||p==="https")return e.consume(f),l}return n(f)}function l(f){return f===47?(e.consume(f),i?c:(i=!0,l)):n(f)}function c(f){return f===null||Tg(f)||Fn(f)||Mc(f)||cy(f)?n(f):e.attempt(nL,e.attempt(rL,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function lde(e,t,n){let r=0;return a;function a(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),a):o===46&&r===3?(e.consume(o),i):n(o)}function i(o){return o===null?n(o):t(o)}}function cde(e,t,n){let r,a,i;return o;function o(c){return c===46||c===95?e.check(aL,l,s)(c):c===null||Fn(c)||Mc(c)||c!==45&&cy(c)?l(c):(i=!0,e.consume(c),o)}function s(c){return c===95?r=!0:(a=r,r=void 0),e.consume(c),o}function l(c){return a||r||!i?n(c):t(c)}}function ude(e,t){let n=0,r=0;return a;function a(o){return o===40?(n++,e.consume(o),a):o===41&&r<n?i(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(aL,t,i)(o):o===null||Fn(o)||Mc(o)?t(o):(e.consume(o),a)}function i(o){return o===41&&r++,e.consume(o),a}}function dde(e,t,n){return r;function r(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(e.consume(s),r):s===38?(e.consume(s),i):s===93?(e.consume(s),a):s===60||s===null||Fn(s)||Mc(s)?t(s):n(s)}function a(s){return s===null||s===40||s===91||Fn(s)||Mc(s)?t(s):r(s)}function i(s){return Fa(s)?o(s):n(s)}function o(s){return s===59?(e.consume(s),r):Fa(s)?(e.consume(s),o):n(s)}}function fde(e,t,n){return r;function r(i){return e.consume(i),a}function a(i){return Ma(i)?n(i):t(i)}}function sL(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Fn(e)}function lL(e){return!Fa(e)}function cL(e){return!(e===47||sw(e))}function sw(e){return e===43||e===45||e===46||e===95||Ma(e)}function qS(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const pde={tokenize:wde,partial:!0};function mde(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:vde,continuation:{tokenize:bde},exit:xde}},text:{91:{name:"gfmFootnoteCall",tokenize:yde},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:hde,resolveTo:gde}}}}function hde(e,t,n){const r=this;let a=r.events.length;const i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;a--;){const l=r.events[a][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return s;function s(l){if(!o||!o._balanced)return n(l);const c=so(r.sliceSerialize({start:o.end,end:r.now()}));return c.codePointAt(0)!==94||!i.includes(c.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function gde(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},s=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",a,t],["exit",a,t],["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...s),e}function yde(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i=0,o;return s;function s(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(f){if(i>999||f===93&&!o||f===null||f===91||Fn(f))return n(f);if(f===93){e.exit("chunkString");const p=e.exit("gfmFootnoteCallString");return a.includes(so(r.sliceSerialize(p)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return Fn(f)||(o=!0),i++,e.consume(f),f===92?d:c}function d(f){return f===91||f===92||f===93?(e.consume(f),i++,c):c(f)}}function vde(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i,o=0,s;return l;function l(h){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(h){return h===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(h)}function d(h){if(o>999||h===93&&!s||h===null||h===91||Fn(h))return n(h);if(h===93){e.exit("chunkString");const y=e.exit("gfmFootnoteDefinitionLabelString");return i=so(r.sliceSerialize(y)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),p}return Fn(h)||(s=!0),o++,e.consume(h),h===92?f:d}function f(h){return h===91||h===92||h===93?(e.consume(h),o++,d):d(h)}function p(h){return h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),a.includes(i)||a.push(i),gn(e,m,"gfmFootnoteDefinitionWhitespace")):n(h)}function m(h){return t(h)}}function bde(e,t,n){return e.check(Rp,t,e.attempt(pde,t,n))}function xde(e){e.exit("gfmFootnoteDefinition")}function wde(e,t,n){const r=this;return gn(e,a,"gfmFootnoteDefinitionIndent",5);function a(i){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(i):n(i)}}function kde(e){let t=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:a,resolveAll:r};return t==null&&(t=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function r(i,o){let s=-1;for(;++s<i.length;)if(i[s][0]==="enter"&&i[s][1].type==="strikethroughSequenceTemporary"&&i[s][1]._close){let l=s;for(;l--;)if(i[l][0]==="exit"&&i[l][1].type==="strikethroughSequenceTemporary"&&i[l][1]._open&&i[s][1].end.offset-i[s][1].start.offset===i[l][1].end.offset-i[l][1].start.offset){i[s][1].type="strikethroughSequence",i[l][1].type="strikethroughSequence";const c={type:"strikethrough",start:Object.assign({},i[l][1].start),end:Object.assign({},i[s][1].end)},d={type:"strikethroughText",start:Object.assign({},i[l][1].end),end:Object.assign({},i[s][1].start)},f=[["enter",c,o],["enter",i[l][1],o],["exit",i[l][1],o],["enter",d,o]],p=o.parser.constructs.insideSpan.null;p&&vi(f,f.length,0,uy(p,i.slice(l+1,s),o)),vi(f,f.length,0,[["exit",d,o],["enter",i[s][1],o],["exit",i[s][1],o],["exit",c,o]]),vi(i,l-1,s-l+3,f),s=l+f.length-2;break}}for(s=-1;++s<i.length;)i[s][1].type==="strikethroughSequenceTemporary"&&(i[s][1].type="data");return i}function a(i,o,s){const l=this.previous,c=this.events;let d=0;return f;function f(m){return l===126&&c[c.length-1][1].type!=="characterEscape"?s(m):(i.enter("strikethroughSequenceTemporary"),p(m))}function p(m){const h=Ku(l);if(m===126)return d>1?s(m):(i.consume(m),d++,p);if(d<2&&!t)return s(m);const y=i.exit("strikethroughSequenceTemporary"),x=Ku(m);return y._open=!x||x===2&&!!h,y._close=!h||h===2&&!!x,o(m)}}}class Sde{constructor(){this.map=[]}add(t,n,r){Nde(this,t,n,r)}consume(t){if(this.map.sort(function(i,o){return i[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let a=r.pop();for(;a;){for(const i of a)t.push(i);a=r.pop()}this.map.length=0}}function Nde(e,t,n,r){let a=0;if(!(n===0&&r.length===0)){for(;a<e.map.length;){if(e.map[a][0]===t){e.map[a][1]+=n,e.map[a][2].push(...r);return}a+=1}e.map.push([t,n,r])}}function jde(e,t){let n=!1;const r=[];for(;t<e.length;){const a=e[t];if(n){if(a[0]==="enter")a[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const i=r.length-1;r[i]=r[i]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function Cde(){return{flow:{null:{name:"table",tokenize:Mde,resolveAll:Ade}}}}function Mde(e,t,n){const r=this;let a=0,i=0,o;return s;function s(P){let _=r.events.length-1;for(;_>-1;){const J=r.events[_][1].type;if(J==="lineEnding"||J==="linePrefix")_--;else break}const I=_>-1?r.events[_][1].type:null,Q=I==="tableHead"||I==="tableRow"?N:l;return Q===N&&r.parser.lazy[r.now().line]?n(P):Q(P)}function l(P){return e.enter("tableHead"),e.enter("tableRow"),c(P)}function c(P){return P===124||(o=!0,i+=1),d(P)}function d(P){return P===null?n(P):_t(P)?i>1?(i=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),m):n(P):an(P)?gn(e,d,"whitespace")(P):(i+=1,o&&(o=!1,a+=1),P===124?(e.enter("tableCellDivider"),e.consume(P),e.exit("tableCellDivider"),o=!0,d):(e.enter("data"),f(P)))}function f(P){return P===null||P===124||Fn(P)?(e.exit("data"),d(P)):(e.consume(P),P===92?p:f)}function p(P){return P===92||P===124?(e.consume(P),f):f(P)}function m(P){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(P):(e.enter("tableDelimiterRow"),o=!1,an(P)?gn(e,h,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):h(P))}function h(P){return P===45||P===58?x(P):P===124?(o=!0,e.enter("tableCellDivider"),e.consume(P),e.exit("tableCellDivider"),y):C(P)}function y(P){return an(P)?gn(e,x,"whitespace")(P):x(P)}function x(P){return P===58?(i+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(P),e.exit("tableDelimiterMarker"),g):P===45?(i+=1,g(P)):P===null||_t(P)?S(P):C(P)}function g(P){return P===45?(e.enter("tableDelimiterFiller"),b(P)):C(P)}function b(P){return P===45?(e.consume(P),b):P===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(P),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(P))}function w(P){return an(P)?gn(e,S,"whitespace")(P):S(P)}function S(P){return P===124?h(P):P===null||_t(P)?!o||a!==i?C(P):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(P)):C(P)}function C(P){return n(P)}function N(P){return e.enter("tableRow"),M(P)}function M(P){return P===124?(e.enter("tableCellDivider"),e.consume(P),e.exit("tableCellDivider"),M):P===null||_t(P)?(e.exit("tableRow"),t(P)):an(P)?gn(e,M,"whitespace")(P):(e.enter("data"),O(P))}function O(P){return P===null||P===124||Fn(P)?(e.exit("data"),M(P)):(e.consume(P),P===92?R:O)}function R(P){return P===92||P===124?(e.consume(P),O):O(P)}}function Ade(e,t){let n=-1,r=!0,a=0,i=[0,0,0,0],o=[0,0,0,0],s=!1,l=0,c,d,f;const p=new Sde;for(;++n<e.length;){const m=e[n],h=m[1];m[0]==="enter"?h.type==="tableHead"?(s=!1,l!==0&&(TP(p,t,l,c,d),d=void 0,l=0),c={type:"table",start:Object.assign({},h.start),end:Object.assign({},h.end)},p.add(n,0,[["enter",c,t]])):h.type==="tableRow"||h.type==="tableDelimiterRow"?(r=!0,f=void 0,i=[0,0,0,0],o=[0,n+1,0,0],s&&(s=!1,d={type:"tableBody",start:Object.assign({},h.start),end:Object.assign({},h.end)},p.add(n,0,[["enter",d,t]])),a=h.type==="tableDelimiterRow"?2:d?3:1):a&&(h.type==="data"||h.type==="tableDelimiterMarker"||h.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(i[1]!==0&&(o[0]=o[1],f=Im(p,t,i,a,void 0,f),i=[0,0,0,0]),o[2]=n)):h.type==="tableCellDivider"&&(r?r=!1:(i[1]!==0&&(o[0]=o[1],f=Im(p,t,i,a,void 0,f)),i=o,o=[i[1],n,0,0])):h.type==="tableHead"?(s=!0,l=n):h.type==="tableRow"||h.type==="tableDelimiterRow"?(l=n,i[1]!==0?(o[0]=o[1],f=Im(p,t,i,a,n,f)):o[1]!==0&&(f=Im(p,t,o,a,n,f)),a=0):a&&(h.type==="data"||h.type==="tableDelimiterMarker"||h.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&TP(p,t,l,c,d),p.consume(t.events),n=-1;++n<t.events.length;){const m=t.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=jde(t.events,n))}return e}function Im(e,t,n,r,a,i){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",s="tableContent";n[0]!==0&&(i.end=Object.assign({},eu(t.events,n[0])),e.add(n[0],0,[["exit",i,t]]));const l=eu(t.events,n[1]);if(i={type:o,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",i,t]]),n[2]!==0){const c=eu(t.events,n[2]),d=eu(t.events,n[3]),f={type:s,start:Object.assign({},c),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const p=t.events[n[2]],m=t.events[n[3]];if(p[1].end=Object.assign({},m[1].end),p[1].type="chunkText",p[1].contentType="text",n[3]>n[2]+1){const h=n[2]+1,y=n[3]-n[2]-1;e.add(h,y,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return a!==void 0&&(i.end=Object.assign({},eu(t.events,a)),e.add(a,0,[["exit",i,t]]),i=void 0),i}function TP(e,t,n,r,a){const i=[],o=eu(t.events,n);a&&(a.end=Object.assign({},o),i.push(["exit",a,t])),r.end=Object.assign({},o),i.push(["exit",r,t]),e.add(n+1,0,i)}function eu(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const Pde={name:"tasklistCheck",tokenize:Tde};function Ede(){return{text:{91:Pde}}}function Tde(e,t,n){const r=this;return a;function a(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),i)}function i(l){return Fn(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):n(l)}function s(l){return _t(l)?t(l):an(l)?e.check({tokenize:Ode},t,n)(l):n(l)}}function Ode(e,t,n){return gn(e,r,"whitespace");function r(a){return a===null?n(a):t(a)}}function Dde(e){return bF([ade(),mde(),kde(e),Cde(),Ede()])}const Ide={};function _de(e){const t=this,n=e||Ide,r=t.data(),a=r.micromarkExtensions||(r.micromarkExtensions=[]),i=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);a.push(Dde(n)),i.push(ede()),o.push(tde(n))}const Uv='# Combat Metrics Spec\n\nThis document describes the project-defined combat metrics used in the UI,\nDiscord summaries, and aggregate stats. The intent is to define the metrics\nindependently from any third-party implementation while staying consistent\nwith EI JSON inputs. It also records the exact fields and aggregation rules\nso the stats dashboard, Discord, and cards produce identical values.\n\nSpec version: `v5` (see `src/shared/metrics-methods.json`).\n\n## Input Contract (EI JSON)\n\nAll metrics are derived from the EI JSON payload produced by dps.report. The\nminimum fields consumed are:\n\n- `players[*].dpsAll[0].damage`, `players[*].dpsAll[0].dps`, `players[*].dpsAll[0].breakbarDamage`\n- `players[*].defenses[0].damageTaken`, `deadCount`, `downCount`,\n  `missedCount`, `blockedCount`, `evadedCount`, `dodgeCount`,\n  `receivedCrowdControl`, `receivedCrowdControlDuration`,\n  `boonStrips`, `boonStripsTime`\n- `players[*].support[0].condiCleanse`, `condiCleanseSelf`, `boonStrips`,\n  `boonStripsTime`, `resurrects`\n- `players[*].statsAll[0].stackDist`, `players[*].statsAll[0].distToCom`\n- `players[*].statsTargets[*][0].downContribution`, `killed`, `downed`,\n  `againstDownedCount`\n- `players[*].extHealingStats.outgoingHealingAllies`\n- `players[*].extBarrierStats.outgoingBarrierAllies`\n- `players[*].totalDamageDist`, `players[*].targetDamageDist`, `players[*].totalDamageTaken`\n- `players[*].damage1S`, `players[*].targetDamage1S`,\n  `players[*].powerDamageTaken1S`, `players[*].targetPowerDamage1S`\n- `players[*].activeTimes`\n- `players[*].rotation`\n- `players[*].buffUptimes`\n- `players[*].selfBuffs`, `players[*].groupBuffs`, `players[*].squadBuffs`\n- `players[*].selfBuffsActive`, `players[*].groupBuffsActive`, `players[*].squadBuffsActive`\n- `players[*].group`\n- `buffMap`, `skillMap`, and `durationMS` for stability generation, boon output, and skill labeling\n- `targets[*].buffs[*].statesPerSource` when available for condition application counts\n- `details.fightName`, `details.uploadTime` (or `details.timeStartStd` / `details.timeStart` fallback),\n  `details.zone`/`mapName`/`map`/`location`, `details.success`,\n  `details.targets`, `details.durationMS`\n- `targets[*].totalDamageDist`, `targets[*].powerDamage1S`, `targets[*].damage1S`,\n  `targets[*].enemyPlayer`, `targets[*].isFake`, `targets[*].profession`\n\nIf any of these are missing, the metric falls back to `0` as defined below.\n\n## Crowd Control & Strips Methodology\n\nThe app supports three user-selectable methodologies (default: `count`),\nconfigured in `src/shared/metrics-methods.json`:\n\n1. **Count Events** (`count`)  \n   Uses EI summary counts for CC/strips. Best for stable, comparable totals.\n\n2. **Duration (Seconds)** (`duration`)  \n   Uses EI summary durations (converted to seconds). Best for impact-weighted\n   totals, but units are time not event counts.\n\n3. **Tiered Impact** (`tiered`)  \n   Uses average duration per event to apply tiered weights. Best for balancing\n   short vs long control with a simple, configurable heuristic.\n\nThese methodologies apply to:\n- Outgoing CC totals\n- Incoming CC totals\n- Incoming strips totals\n\n## Outgoing Crowd Control\n\nFor each player:\n- `count`: `statsAll[0].appliedCrowdControl`\n- `duration`: `statsAll[0].appliedCrowdControlDuration / 1000`\n- `tiered`: `appliedCrowdControl * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/combatMetrics.ts` (computeOutgoingCrowdControl).\n\n## Incoming Strips and Crowd Control\n\nFor each player:\n- Incoming CC uses `defenses[0].receivedCrowdControl` and\n  `defenses[0].receivedCrowdControlDuration`.\n- Incoming strips use `defenses[0].boonStrips` and `defenses[0].boonStripsTime`.\n\nMethod application is the same as outgoing CC (count/duration/tiered).\n\nImplementation: `src/shared/combatMetrics.ts` (computeIncomingDisruptions).\n\n## Cleanses\n\n`cleanses = support[0].condiCleanse + support[0].condiCleanseSelf`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerCleanses).\n\nUI note: the Support table can display either **All** (condiCleanse + condiCleanseSelf) or **Squad** (condiCleanse only) via the cleanse-scope toggle. Discord and top summaries use **All**.\n\n## Strips\n\n`strips` uses the configured methodology:\n- `count`: `support[0].boonStrips`\n- `duration`: `support[0].boonStripsTime / 1000`\n- `tiered`: `boonStrips * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerStrips).\n\n## Down Contribution\n\nDown contribution is the sum of `statsTargets[*][0].downContribution` across\nall targets for the player.\n\nImplementation: `src/shared/combatMetrics.ts` (computeDownContribution).\n\n## Squad Barrier and Squad Healing\n\nSquad barrier and healing sum all phases of `extBarrierStats.outgoingBarrierAllies`\nand `extHealingStats.outgoingHealingAllies` respectively.\n\nImplementation: `src/shared/combatMetrics.ts` (computeSquadBarrier, computeSquadHealing).\n\n## Stability Generation\n\nStability generation uses the EI buff data via `getPlayerBoonGenerationMs`\nand writes `player.stabGeneration` in seconds.\n\nImplementation: `src/shared/combatMetrics.ts` (applySquadStabilityGeneration).\n\n## Damage and DPS\n\n`damage = dpsAll[0].damage`  \n`dps = dpsAll[0].dps`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamage, getPlayerDps).\n\n## Breakbar Damage\n\n`breakbarDamage = dpsAll[0].breakbarDamage`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerBreakbarDamage).\n\n## Incoming Damage (Taken)\n\n`damageTaken = defenses[0].damageTaken`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamageTaken).\n\nIncoming damage per skill (incoming damage distribution) is derived from\n`players[*].totalDamageTaken[*]` entries and summed across players for the\nsquad view. This total can be large for siege skills because it aggregates\nall hits and all players (and across multiple logs when viewing aggregates).\n\n## Damage Mitigation (Player + Minion)\n\nDamage mitigation is an **estimate** of avoided damage based on enemy skill\ndamage averages and avoidance events (block/evade/miss/invuln/interrupted).\nIt is intended for relative comparisons between players/minions and logs, not\nas a literal damage prevented total.\n\n### Inputs Used\n\nPer-log data sources:\n\n- Enemy damage distribution: `targets[*].totalDamageDist[0]`\n- Player avoided events: `players[*].totalDamageTaken[0]`\n- Minion avoided events: `players[*].minions[*].totalDamageTakenDist[0]`\n- Skill names: `skillMap` / `buffMap` (for UI labels only)\n\n### Enemy Skill Damage Averages\n\nFor each skill id across **all logs in the aggregation**:\n\n1. Gather `totalDamage` and `connectedHits` from every targets\n   `totalDamageDist[0]` entry with the same `id`.\n2. Compute:\n   - `avgDamage = sum(totalDamage) / sum(connectedHits)`\n   - `minDamage = average(entry.min over all occurrences)`\n\nThese averages are computed **once for the aggregation window** and used for\nall player/minion mitigation calculations.\n\n### Avoided Damage Per Skill (Formula)\n\nFor a given skill id `S` with enemy averages `avgDamage` and `minDamage`:\n\n```\navoidCount = blocked + evaded + missed + invulned + interrupted\navoidDamage = (glanced * avgDamage / 2) + (avoidCount * avgDamage)\nminAvoidDamage = (glanced * minDamage / 2) + (avoidCount * minDamage)\n```\n\nNotes:\n- `glanced` is treated as half damage.\n- If `connectedHits` for the enemy skill is `0`, the skill is excluded from\n  mitigation totals (both avoid and min avoid).\n\n### Player Mitigation Aggregation\n\nFor each player (account key):\n\n1. Sum avoidance counts **per skill id** across all logs:\n   - `hits`, `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`.\n2. For each skill id, compute `avoidDamage` / `minAvoidDamage` using the global\n   enemy averages (above).\n3. **Include only skills with `avoidDamage > 0`** in totals.\n4. Totals are the sum of:\n   - `totalHits` (from `hits`)\n   - `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`\n   - `totalMitigation` (sum of avoidDamage)\n   - `minMitigation` (sum of minAvoidDamage)\n\n### Minion Mitigation Aggregation\n\nFor each minion (player account + minion name):\n\n1. Sum avoidance counts **per skill id** across all logs using\n   `minion.totalDamageTakenDist[0]`.\n2. Use the **same enemy averages** (from targets).\n3. Compute totals using the same formula and inclusion rules as player\n   mitigation.\n\nMinion names are normalized by:\n- Removing `"Juvenile "` prefix.\n- Converting names containing `"UNKNOWN"` to `"Unknown"`.\n\n### Field Mapping in UI\n\nThe Damage Mitigation table uses the following totals:\n\n- `Total Hits`  summed `hits` for included skills\n- `Evaded`, `Blocked`, `Glanced`, `Missed`, `Invulned`, `Interrupted`\n- `Damage Mitigation`  `totalMitigation`\n- `Min Damage Mitigation`  `minMitigation`\n\n### Why This Diverges From Some External Tools\n\nSome tools compute mitigation differently (e.g., per-log accumulation with\nrunning averages, name-based skill bucketing, or repeated adding across logs).\nThis spec intentionally computes **one consistent estimate** across all logs\nusing **global enemy averages** and **per-skill cumulative counts**, which\navoids log-count bias.\n\n### Known Limitations\n\n- If a skills `connectedHits` is zero in targets data, mitigation for that\n  skill is excluded.\n- Some skills share names across different ids; we bucket by **skill id** to\n  avoid collisions.\n- Enemy damage averages are computed from `targets[*].totalDamageDist[0]` and\n  can be skewed by target mix, fake targets, or atypical fights.\n\n### How-To: Validate Against Raw EI JSON\n\n1. Choose a player or minion and a specific skill id from:\n   - `players[*].totalDamageTaken[0]` or `minions[*].totalDamageTakenDist[0]`.\n2. Compute counts: `blocked`, `evaded`, `glanced`, `missed`, `invulned`,\n   `interrupted`, `hits`.\n3. Compute enemy averages from all logs `targets[*].totalDamageDist[0]` for\n   the same skill id.\n4. Apply the formula above and verify the per-skill avoided damage.\n5. Sum over skills with `avoidDamage > 0` to confirm table totals.\n\n### How-To: Debug Mismatches\n\n1. Confirm the same log set is being aggregated.\n2. Verify skill ids match (name collisions can hide differences).\n3. Check if the target data includes the skill id with non-zero\n   `connectedHits`.\n4. Validate that minion names are normalized (`Juvenile` prefix removed).\n5. Compare against a single skill id first, then widen to all skills.\n\n## Conditions (Outgoing + Incoming)\n\nOutgoing condition totals are derived from `players[*].totalDamageDist[*]`\nentries whose resolved skill name maps to a condition label (see\n`CONDITION_NAME_MAP`). For each matching entry:\n\n- `applications` uses `connectedHits` when available, otherwise falls back to\n  `hits` (needed for non-damaging conditions like blind/slow/fear).\n- `damage` uses `totalDamage`.\n\nTotals are aggregated per player and across the squad. The UI can filter to a\nsingle condition or show the all-conditions rollup.\n\nIncoming condition totals are derived from `players[*].totalDamageTaken[*]`\nentries whose resolved skill/buff ID maps to a condition. For each matching\nentry:\n\n- `applications` uses `hits`.\n- `damage` uses `totalDamage`.\n\n### Current Condition Labels (Normalization)\n\nCondition detection normalizes skill/buff names to the following labels. Only\nthese are counted as conditions:\n\n- Bleeding\n- Burning\n- Confusion\n- Poison\n- Torment\n- Vulnerability\n- Weakness\n- Blind\n- Cripple\n- Chill\n- Immobilize\n- Slow\n- Fear\n- Taunt\n\nNotes:\n- The matcher lowercases and trims names, then maps variants like `crippled`\n   `Cripple` and `chilled`  `Chill`.\n- If a skill/buff name does not normalize to one of the labels above, it is\n  excluded from condition totals.\n\n### Limitation (Hosted JSON)\n\nAccurate application counts for non-damaging conditions (e.g., vulnerability,\nweakness, blind, slow) require target buff state timelines\n(`targets[*].buffs[*].statesPerSource`). If hosted JSON lacks this data (common\nin older logs or trimmed outputs), the app falls back to damage distribution\n(`totalDamageDist`) hit counts, which can significantly under-count\napplications for those conditions.\n\n### Condition Application Counting (States Per Source)\n\nWhen `targets[*].buffs[*].statesPerSource` is available, the app computes two\nseparate application counts per condition:\n\n- **Stack Delta Applications (`applicationsFromBuffs`)**  \n  Counts the **sum of positive stack increases** across the states timeline.\n  Example timeline: `0  1  3  2  5` contributes `+1 +2 +3 = 6`.  \n  This aligns with the technical definition of applications as **stacks\n  actually added**.\n\n- **Active State Entries (`applicationsFromBuffsActive`)**  \n  Counts **each non-zero state entry** (each time the state updates while the\n  condition is active). This tracks **how often the buff state changed while\n  active**, which often matches external tooling that counts active segments,\n  but can **over-count** true applications for stacking conditions.\n\n**Tradeoffs:**\n- *Stack delta* is closer to how many stacks were applied but can be lower\n  than tools that count refreshes/active entries.\n- *Active entries* better match some log combiner views but can overstate\n  application counts when stacks are refreshed without adding stacks.\n\n## Deaths / Downs (Taken)\n\n`deaths = defenses[0].deadCount`  \n`downsTaken = defenses[0].downCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDeaths, getPlayerDownsTaken).\n\n## Dodges / Misses / Blocks / Evades (Taken)\n\n`dodges = defenses[0].dodgeCount`  \n`missed = defenses[0].missedCount`  \n`blocked = defenses[0].blockedCount`  \n`evaded = defenses[0].evadedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts`\n(getPlayerDodges, getPlayerMissed, getPlayerBlocked, getPlayerEvaded).\n\n## Resurrects\n\n`resurrects = support[0].resurrects`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerResurrects).\n\n## Distance to Tag\n\n`distanceToTag = statsAll[0].distToCom` if present; otherwise use\n`statsAll[0].stackDist`. If both are missing but combat replay positions are\navailable, compute the average distance to the commander tag over the\navailable timeline. Otherwise `0`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDistanceToTag).\n\n## Kills / Downs / Against Downed (Target Stats)\n\nFor each player, aggregate from `statsTargets[*][0]`:\n\n- `killed`\n- `downed`\n- `againstDownedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getTargetStatTotal).\n\n## Skill Usage Tracker (Rotation Casts)\n\nSkill usage is derived from each player\'s `rotation` entries in EI JSON. For\neach rotation skill entry:\n- `castCount = rotationSkill.skills.length`\n- `skillId = s{rotationSkill.id}`\n- Counts are aggregated per player per log and summed across logs for totals.\n\nThe Skill Usage Tracker supports two display modes:\n- **Total**: raw cast counts per player (per log in the timeline).\n- **Per Second**: cast rate using active time, where\n  `activeSeconds = players[*].activeTimes[0] / 1000` when available, otherwise\n  `durationMS / 1000` from the log details.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (skill usage tracker aggregation).\n\n## APM Breakdown\n\nAPM is derived from the Skill Usage Tracker data (rotation casts). For each\nplayer:\n- `totalCasts = sum(rotationSkill.skills.length)`\n- `apm = totalCasts / (activeSeconds / 60)`\n- `aps = totalCasts / activeSeconds`\n- Auto-attack counts are excluded for the "No Auto" variants.\n\nThe APM Breakdown groups players by profession and aggregates per-skill cast\ncounts across the group.\n\nImplementation: `src/renderer/stats/hooks/useApmStats.ts`.\n\n## Player Skill Breakdown (Damage / Down Contribution / DPS)\n\nPer-player skill damage breakdown is built from the same damage distribution\ninputs as Top Skills (see below):\n- Outgoing skill damage uses `targetDamageDist` (default) or `totalDamageDist`\n  based on settings.\n- Each entry contributes `totalDamage` and `downContribution`.\n\nFor each player and skill:\n- `totalDamage = sum(entry.totalDamage)`\n- `downContribution = sum(entry.downContribution)`\n- `dps = totalDamage / (totalFightSeconds)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Top Skills (Outgoing / Incoming)\n\nTop Outgoing Skills are derived from the squad-wide aggregation of\n`targetDamageDist` (default) or `totalDamageDist` entries:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.connectedHits)`\n- `downContribution = sum(entry.downContribution)`\n\nWhen using target-based outgoing aggregation, total-distribution supplementation\nis mode-sensitive:\n- non-detailed logs (`detailedWvW !== true`): missing/under-reported target\n  skill ids may be supplemented from `totalDamageDist` deltas\n- detailed WvW logs (`detailedWvW === true`): supplementation from\n  `totalDamageDist` is disabled to avoid known outlier max/damage artifacts\n  observed in some EI exports\n\nTop Incoming Skills are derived from `totalDamageTaken`:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.hits)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Boon Output\n\nBoon output tables are computed from player boon generation data:\n- `selfBuffs`, `groupBuffs`, `squadBuffs` (and their `Active` variants)\n- `buffMap` for name/icon/stacking metadata\n- `durationMS`, `activeTimes`, and `group` for normalization\n\nImplementation: `src/shared/boonGeneration.ts`.\n\n## Special Buffs\n\nSpecial (non-boon) buff tables are computed from `buffUptimes` using\n`buffMap` classification and icon metadata. Durations are normalized by\n`activeTimes` and `durationMS`.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n### Sigil/Relic Uptime (Other Metrics)\n\nThe `Sigil/Relic Uptime` section is derived from `specialTables` and filtered\nto entries whose buff name matches `sigil` or `relic` (case-insensitive).\n\n#### Data source and eligibility\n\nFor each squad player and each non-boon buff in `players[*].buffUptimes`:\n\n- Buff metadata source:\n  - `details.buffMap[b{id}]` (fallback `details.buffMap[id]`)\n- Include only:\n  - non-boons (`classification !== "Boon"`)\n  - rows with valid positive uptime signal:\n    - `buffData[0].uptime > 0` or `buffData[0].presence > 0`\n\n#### Two parallel measures stored for each row\n\n1. **Stack/Intensity measure** (`total`, `perSecond`)\n   - used by the generic Special Buffs table\n   - formula:\n     - if stacking buff: `uptimeFactor = uptimeRaw`\n     - else: `uptimeFactor = uptimeRaw / 100`\n     - `totalMs += uptimeFactor * activeMs`\n   - output:\n     - `total = totalMs / 1000`\n     - `perSecond = totalMs / durationMs`\n\n2. **True uptime percentage measure** (`uptimePerSecond`)\n   - used by `Sigil/Relic Uptime`\n   - formula:\n     - non-stacking buff:\n       - `uptimePctRaw = uptimeRaw`\n     - stacking buff:\n       - `uptimePctRaw = presenceRaw`\n     - clamp to percentage domain:\n       - `uptimePct = clamp(uptimePctRaw, 0, 100) / 100`\n     - accumulate:\n       - `uptimeMs += uptimePct * activeMs`\n   - final denominator:\n     - `fullPlayerDurationMs = player.supportActiveMs`\n     - `uptimePerSecond = uptimeMs / fullPlayerDurationMs`\n   - rendered as:\n     - `Uptime% = uptimePerSecond * 100`\n\n#### Why this is the accuracy model\n\nThis method intentionally uses the **same activity window in numerator and\ndenominator** (player active time):\n\n- Numerator:\n  - uptime milliseconds accumulated from each fight over player active time\n- Denominator:\n  - total player active time across selected fights\n\nThat produces a direct interpretation:\n\n- "Percent of the time this player was active that this sigil/relic effect was\n  present."\n\nFor stacking gear buffs, `presence` is used for percent uptime because\n`uptime` on stacking buffs represents average stack intensity, not time-up\npercentage. This avoids under/over-reporting caused by treating stack-average\nas uptime%.\n\n## Offense / Defense / Support / Healing Tables\n\nDetailed tables aggregate the per-player totals defined in:\n- `src/renderer/stats/statsMetrics.ts` (metric definitions)\n- `src/shared/dashboardMetrics.ts` (per-player metric extraction)\n- `src/renderer/stats/computeStatsAggregation.ts` (aggregation)\n\n## Spike Damage\n\nSpike Damage has four modes:\n- `hit`: highest single skill hit in a fight\n- `1s`: highest rolling 1-second damage burst in a fight\n- `5s`: highest rolling 5-second damage burst in a fight\n- `30s`: highest rolling 30-second damage burst in a fight\n\n### Player Identity\n\nPer-fight player keys are resolved as:\n- `key = "${account}|${profession}"`\n- `account = player.account || player.name || "Unknown"`\n- `profession = player.profession || "Unknown"`\n\nThis same key is used to join:\n- player list\n- per-fight values\n- selected-player chart/drilldown\n\n### Highest Single Hit (`hit`)\n\nFor each squad player (`!notInSquad`), the highest single-hit value is scanned\nfrom damage distributions (skill maps used for names).\n\nValue:\n- candidate fields per entry:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- no inferred single-hit estimate is used (for example,\n  `totalDamage / connectedHits` is intentionally excluded)\n\nSource priority:\n- primary: `targetDamageDist`\n- fallback: `totalDamageDist` only when no target entries are present (or no\n  positive peak was found from target entries)\n\nDetailed WvW safeguard:\n- for logs with `detailedWvW === true`, target-side data is treated as the\n  authoritative source for spike-hit computations whenever present, because\n  some logs can contain total-distribution outlier maxima that are inconsistent\n  with target-distribution entries.\n\nSkill label:\n- `skillName` from `skillMap`/`buffMap` by id fallback (`Unknown Skill` if missing)\n\n### Rolling Burst (`1s` / `5s`)\n\nBurst uses per-second **delta** damage:\n1. Build cumulative damage for phase 0:\n   - prefer aggregated target phase 0 from `targetDamage1S` when available\n   - fallback to `damage1S[0]`\n2. Convert cumulative -> per-second deltas:\n   - `delta[i] = max(0, cumulative[i] - cumulative[i-1])` (`i=0` uses prev `0`)\n3. Compute rolling windows:\n- `burst1s = max(sum(delta[i..i]))`\n- `burst5s = max(sum(delta[i..i+4]))`\n- `burst30s = max(sum(delta[i..i+29]))`\n\nImplementation includes support for EI shape variants:\n- Shape A: `[phase][target][time]`\n- Shape B: `[target][phase][time]`\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses the corresponding max series as the dashed reference line.\n\n### Drilldown (5s Buckets)\n\nSelected fight drilldown is always rendered as 5-second buckets.\n\nBucket source:\n- preferred: precomputed `buckets5s`\n- fallback: recompute from selected player per-second delta series\n\nBucket value:\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count:\n- extended to full fight duration (`ceil(durationMS / 5000)`) so trailing\n  down/death events are representable even if damage is zero late-fight.\n\n### Down / Death Markers\n\nMarker events are read from `combatReplayData`:\n- supports both replay object and segmented replay-array forms\n- uses `down` and `dead` arrays\n\nTimestamp normalization:\n- handles mixed encodings (ms/seconds/large scales) and offset baselines\n  using replay starts/global starts/log offsets\n- selects the shift/scale that maximizes in-range alignment with fight buckets\n\nMarker placement:\n- convert normalized time to bucket index:\n  - `index = floor(timeMs / 5000)`\n- constrain to visible drilldown bucket range\n- render:\n  - down marker: yellow\n  - death marker: red\n\nWeb report parity:\n- precomputed spike payload stores marker indices as:\n  - `downIndices5s`\n  - `deathIndices5s`\n- embedded/web mode can render markers without raw `logs` by consuming these fields.\n\nImplementation:\n- Aggregation/precompute: `src/renderer/stats/computeStatsAggregation.ts`\n- Runtime selection/drilldown + fallbacks: `src/renderer/StatsView.tsx`\n- Chart rendering/interaction: `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Incoming Strike Damage\n\nIncoming Strike Damage mirrors Spike Damage interactions (same chart modes,\nselection, drilldown, animations, and fight navigation) but changes the data\nsource and grouping:\n\n- grouped by **enemy class** (`targets[*].profession`) instead of squad player\n- uses **incoming strike timelines** and target damage distributions\n- selected-fight expansion includes a **skill-level incoming strike table**\n\n### Identity and Grouping\n\nPer-fight keys are enemy profession labels:\n\n- `key = resolveProfessionLabel(target.profession || target.name || target.id)`\n- fallback key: `"Unknown"`\n\nAll enemy targets in a fight that resolve to the same profession are merged\ninto one class bucket for that fight.\n\n### Damage Modes (`hit`, `1s`, `5s`, `30s`)\n\nModes are defined the same way as Spike Damage:\n\n- `hit`: highest single incoming strike hit seen in the class bucket\n- `1s`: highest rolling 1-second incoming strike burst\n- `5s`: highest rolling 5-second incoming strike burst\n- `30s`: highest rolling 30-second incoming strike burst\n\n`hit` source:\n\n- scan target strike distributions (`totalDamageDist`) and keep max of:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- ignore `indirectDamage` entries\n\n### Incoming Timeline Construction\n\nFor each enemy target, incoming strike series is built with the following\npriority:\n\n1. Squad-attributed incoming-vs-target cumulative strike:\n   - sum `players[*].targetPowerDamage1S[targetIndex]` across all squad players\n2. Fallback target timeline:\n   - `targets[targetIndex].powerDamage1S`\n3. Final fallback:\n   - `targets[targetIndex].damage1S`\n\nEach chosen cumulative series is converted to per-second deltas:\n\n- `delta[i] = max(0, cumulative[i] - cumulative[i-1])`\n- `delta[0] = max(0, cumulative[0])`\n\nClass series is then:\n\n- sum of target delta series for all targets in that class\n\nBurst windows are computed from class per-second deltas with the same rolling\nwindow logic used by Spike Damage.\n\n### Timeline Fallback When Target Timelines Are Missing\n\nIf enemy target timelines are empty/unusable for a fight:\n\n1. Build squad incoming strike series from `players[*].powerDamageTaken1S`\n   (cumulative -> per-second deltas).\n2. Compute enemy class counts from `targets[*]` (enemy player targets only).\n3. Distribute squad incoming per-second totals across classes proportionally by\n   class count in that fight.\n\nThis preserves non-zero burst/drilldown behavior for logs lacking complete\ntarget timeline detail.\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses its corresponding fight max as the dashed reference\nseries in the chart.\n\n### Fight Drilldown (5s Buckets)\n\nSelected-fight drilldown is 5-second buckets from class per-second deltas:\n\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count extends to at least `ceil(durationMS / 5000)` so late-fight\nmarker events can still be shown even when trailing bucket damage is zero.\n\nDown/death markers use replay event times from squad players and are converted\nto indices with the same normalization/indexing logic as Spike Damage\n(ms/sec scaling, offset hints, then `floor(timeMs / 5000)` clamp).\n\n### Selected Fight Skill Table (Incoming Skill Damage)\n\nThe expanded table for the selected fight/class is generated from enemy target\nstrike distributions:\n\n1. For each target in the selected class:\n   - read `target.totalDamageDist` entries\n   - ignore `indirectDamage`\n2. Resolve each skill id via:\n   - `skillMap[s{id}]`, then `skillMap[id]`\n   - fallback `buffMap[b{id}]`, then `buffMap[id]`\n3. Aggregate per skill name:\n   - `damage += entry.totalDamage`\n   - `hits += entry.connectedHits || entry.hits`\n   - preserve first available icon URL\n4. Sort desc by damage and keep top rows for rendering.\n\n### Why Some Skill Names Can Look Off-Class\n\nSkill names in incoming strike tables are tied to damage event ids in EI\ndamage distributions, not to profession skill catalogs. Because of that,\noff-class-looking names can appear in a class bucket (for example via\nreflected/returned projectiles, transformed skills, or attribution context).\nThis is expected under the current event-id attribution model.\n\n### Implementation\n\n- Aggregation/precompute:\n  - `src/renderer/stats/computeStatsAggregation.ts` (`incomingStrikeDamage`)\n- Runtime selection/drilldown/table rows:\n  - `src/renderer/StatsView.tsx`\n- UI rendering (card, chart, drilldown, skill table):\n  - `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Timeline / Map Distribution / Fight Breakdown\n\nThese sections use log-level metadata:\n- `details.uploadTime`, `details.durationMS`, `details.success`\n- `details.targets` (enemy counts, fake target filtering)\n- `details.zone`/`mapName`/`map`/`location`/`fightName` for map labels\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Squad Composition\n\nSquad composition is derived from each player\'s resolved profession name\nand aggregated across logs.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Attendance Ledger\n\nAttendance is computed from squad-player participation across all valid logs.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, account/name/profession/group)\n- `players[*].activeTimes[0]`\n- `details.durationMS` (fallback when active time is missing)\n\n### Player Inclusion\n\n- Include only squad players: `!player.notInSquad`.\n- Player key for aggregation is:\n  - `player.account` when present and not `"Unknown"`\n  - otherwise `player.name`\n\n### Time Aggregation\n\nPer squad player entry:\n\n- `activeMs = players[*].activeTimes[0]` when numeric, else `details.durationMS || 0`\n- `combatTimeMs[player] += activeMs`\n- if profession is known:\n  - `professionTimeMs[player][profession] += activeMs`\n\nAlso track appearance window per player:\n\n- `firstSeenFightTs`: earliest fight timestamp where player appears in squad\n- `lastSeenFightTs`: latest fight timestamp where player appears in squad\n- `lastSeenFightDurationMs`: duration of that latest fight\n\nFinal elapsed squad time:\n\n- `squadTimeMs = max(0, (lastSeenFightTs + lastSeenFightDurationMs) - firstSeenFightTs)`\n- fallback to `combatTimeMs` when timestamps are unavailable\n\nCharacter names shown in attendance are the unique set of `player.name` values\nseen for that player key.\n\n### Row Shape / Sorting\n\nFor each aggregated player:\n\n- `account`: aggregation key\n- `characterNames`: unique character names, sorted ascending\n- `classTimes`: entries from `professionTimeMs`, filtered to\n  - `profession !== "Unknown"`\n  - `timeMs > 0`\n- `combatTimeMs`: total active combat time\n- `squadTimeMs`: elapsed time between first seen fight start and last seen fight end\n\nRows are sorted by:\n1. `squadTimeMs` descending\n2. `account` ascending\n\nRows with `account` missing/`"Unknown"` are excluded from final output.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`attendanceData`).\n\n## Squad Comp By Fight\n\nThis section provides per-fight party-line roster composition.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, group, account/name/profession)\n- `details.durationMS`\n- fight metadata/time fields used by `resolveFightTimestamp` and `resolveMapName`\n\n### Fight Ordering\n\nFights are sorted by resolved fight timestamp ascending:\n\n- `uploadTime`\n- fallback: `timeStartStd`, `timeStart`, `timeEndStd`, `timeEnd`\n\n### Party Assignment\n\nFor each squad player (`!player.notInSquad`) in a fight:\n\n- `party = Number(player.group)` when finite and `> 0`, else `0` (`Unassigned`)\n- profession label is normalized via `resolveProfessionLabel(...)`\n\nPer party:\n\n- append player row `{ account, characterName, profession }`\n- increment `classCounts[profession] += 1`\n\n### Party / Player Sorting\n\nWithin each party:\n\n- players are sorted by `profession`, then `account` ascending\n\nParty rows are sorted by:\n1. party number ascending for `1..n`\n2. party `0` (`Unassigned`) last\n\n### Output Shape\n\nPer fight:\n\n- `id`: file/log id fallback chain\n- `label`: `F{index+1}` in timestamp-sorted order\n- `timestamp`: resolved fight timestamp\n- `mapName`: resolved map name\n- `duration`: `formatDurationMs(details.durationMS)`\n- `parties`: sorted party rows with class counts and account list\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`squadCompByFight`).\n\n## Top Stats / MVP\n\nTop stats are computed by ranking the leaderboards for key metrics (down\ncontribution, barrier, healing, cleanses, strips, stability, CC, etc).\nMVP scoring uses weighted ratios against these leaderboards and is configured\nvia `statsViewSettings` + `mvpWeights`.\n\nParticipation is computed as `logsJoined` (number of logs where the player\nappears in the squad).\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Known Caveats\n\n- EI JSON versions can add/remove fields; missing fields always fall back to `0`.\n- `distToCom` and `stackDist` are not guaranteed to exist in every log; `distanceToTag` may be `0`.\n- Incoming CC/strips use weighted skill mappings; mismatches can occur if EI changes skill ids or hit accounting.\n- Stability generation depends on buff metadata presence (`buffMap`) and correct `durationMS`.\n- Damage uses `dpsAll[0].damage` (player total) rather than summing per-target totals, which may differ when targets are filtered or merged.\n- Skill usage totals are raw cast counts unless the per-second view is selected; missing `activeTimes` falls back to log duration for rate calculations.\n- Some detailed WvW EI exports may contain outlier values in `totalDamageDist`\n  (notably `max` on specific skill rows). Spike-hit and target-mode outgoing\n  aggregations prefer/anchor to `targetDamageDist` to reduce false outliers.\n\n## Manifest & Field Usage\n\nThe dev dataset manifest is generated by the app when exporting logs. It is\nstored as `dev/datasets/<dataset>/manifest.json` and contains:\n\n- `id`: log id or generated id\n- `filePath`: relative path to the log JSON\n- `fightName`\n- `encounterDuration`\n- `uploadTime`\n- `timeStart`\n- `timeStartStd`\n- `durationMS`\n- `success`\n- `playerCount`\n- `squadCount`\n- `nonSquadCount`\n\nStats calculations **do not** use the manifest fields directly; the manifest\nis used for listing logs and metadata only. All computations are derived from\nthe EI JSON log payload fields listed in the **Input Contract** and the\nsections above.\n',uL=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),my=v.createContext({}),KS=v.createContext(null),hy=typeof document<"u",Fde=hy?v.useLayoutEffect:v.useEffect,dL=v.createContext({strict:!1}),YS=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Lde="framerAppearId",fL="data-"+YS(Lde);function Rde(e,t,n,r){const{visualElement:a}=v.useContext(my),i=v.useContext(dL),o=v.useContext(KS),s=v.useContext(uL).reducedMotion,l=v.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:a,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:s}));const c=l.current;v.useInsertionEffect(()=>{c&&c.update(n,o)});const d=v.useRef(!!(n[fL]&&!window.HandoffComplete));return Fde(()=>{c&&(c.render(),d.current&&c.animationState&&c.animationState.animateChanges())}),v.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function hu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function $de(e,t,n){return v.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):hu(n)&&(n.current=r))},[t])}function Qf(e){return typeof e=="string"||Array.isArray(e)}function gy(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const GS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],XS=["initial",...GS];function yy(e){return gy(e.animate)||XS.some(t=>Qf(e[t]))}function pL(e){return!!(yy(e)||e.variants)}function zde(e,t){if(yy(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Qf(n)?n:void 0,animate:Qf(r)?r:void 0}}return e.inherit!==!1?t:{}}function Bde(e){const{initial:t,animate:n}=zde(e,v.useContext(my));return v.useMemo(()=>({initial:t,animate:n}),[OP(t),OP(n)])}function OP(e){return Array.isArray(e)?e.join(" "):e}const DP={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Zf={};for(const e in DP)Zf[e]={isEnabled:t=>DP[e].some(n=>!!t[n])};function Ude(e){for(const t in e)Zf[t]={...Zf[t],...e[t]}}const mL=v.createContext({}),hL=v.createContext({}),Vde=Symbol.for("motionComponentSymbol");function Hde({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:a}){e&&Ude(e);function i(s,l){let c;const d={...v.useContext(uL),...s,layoutId:Wde(s)},{isStatic:f}=d,p=Bde(s),m=r(s,f);if(!f&&hy){p.visualElement=Rde(a,m,d,t);const h=v.useContext(hL),y=v.useContext(dL).strict;p.visualElement&&(c=p.visualElement.loadFeatures(d,y,e,h))}return v.createElement(my.Provider,{value:p},c&&p.visualElement?v.createElement(c,{visualElement:p.visualElement,...d}):null,n(a,s,$de(m,p.visualElement,l),m,f,p.visualElement))}const o=v.forwardRef(i);return o[Vde]=a,o}function Wde({layoutId:e}){const t=v.useContext(mL).id;return t&&e!==void 0?t+"-"+e:e}function qde(e){function t(r,a={}){return Hde(e(r,a))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,a)=>(n.has(a)||n.set(a,t(a)),n.get(a))})}const Kde=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function JS(e){return typeof e!="string"||e.includes("-")?!1:!!(Kde.indexOf(e)>-1||/[A-Z]/.test(e))}const _g={};function Yde(e){Object.assign(_g,e)}const zp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Dc=new Set(zp);function gL(e,{layout:t,layoutId:n}){return Dc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!_g[e]||e==="opacity")}const ri=e=>!!(e&&e.getVelocity),Gde={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Xde=zp.length;function Jde(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,a){let i="";for(let o=0;o<Xde;o++){const s=zp[o];if(e[s]!==void 0){const l=Gde[s]||s;i+=`${l}(${e[s]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),a?i=a(e,r?"":i):n&&r&&(i="none"),i}const yL=e=>t=>typeof t=="string"&&t.startsWith(e),vL=yL("--"),lw=yL("var(--"),Qde=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Zde=(e,t)=>t&&typeof e=="number"?t.transform(e):e,bl=(e,t,n)=>Math.min(Math.max(n,e),t),Ic={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},of={...Ic,transform:e=>bl(0,1,e)},_m={...Ic,default:1},sf=e=>Math.round(e*1e5)/1e5,vy=/(-)?([\d]*\.?[\d])+/g,bL=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,efe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Bp(e){return typeof e=="string"}const Up=e=>({test:t=>Bp(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ws=Up("deg"),Lo=Up("%"),zt=Up("px"),tfe=Up("vh"),nfe=Up("vw"),IP={...Lo,parse:e=>Lo.parse(e)/100,transform:e=>Lo.transform(e*100)},_P={...Ic,transform:Math.round},xL={borderWidth:zt,borderTopWidth:zt,borderRightWidth:zt,borderBottomWidth:zt,borderLeftWidth:zt,borderRadius:zt,radius:zt,borderTopLeftRadius:zt,borderTopRightRadius:zt,borderBottomRightRadius:zt,borderBottomLeftRadius:zt,width:zt,maxWidth:zt,height:zt,maxHeight:zt,size:zt,top:zt,right:zt,bottom:zt,left:zt,padding:zt,paddingTop:zt,paddingRight:zt,paddingBottom:zt,paddingLeft:zt,margin:zt,marginTop:zt,marginRight:zt,marginBottom:zt,marginLeft:zt,rotate:Ws,rotateX:Ws,rotateY:Ws,rotateZ:Ws,scale:_m,scaleX:_m,scaleY:_m,scaleZ:_m,skew:Ws,skewX:Ws,skewY:Ws,distance:zt,translateX:zt,translateY:zt,translateZ:zt,x:zt,y:zt,z:zt,perspective:zt,transformPerspective:zt,opacity:of,originX:IP,originY:IP,originZ:zt,zIndex:_P,fillOpacity:of,strokeOpacity:of,numOctaves:_P};function QS(e,t,n,r){const{style:a,vars:i,transform:o,transformOrigin:s}=e;let l=!1,c=!1,d=!0;for(const f in t){const p=t[f];if(vL(f)){i[f]=p;continue}const m=xL[f],h=Zde(p,m);if(Dc.has(f)){if(l=!0,o[f]=h,!d)continue;p!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(c=!0,s[f]=h):a[f]=h}if(t.transform||(l||r?a.transform=Jde(e.transform,n,d,r):a.transform&&(a.transform="none")),c){const{originX:f="50%",originY:p="50%",originZ:m=0}=s;a.transformOrigin=`${f} ${p} ${m}`}}const ZS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function wL(e,t,n){for(const r in t)!ri(t[r])&&!gL(r,n)&&(e[r]=t[r])}function rfe({transformTemplate:e},t,n){return v.useMemo(()=>{const r=ZS();return QS(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function afe(e,t,n){const r=e.style||{},a={};return wL(a,r,e),Object.assign(a,rfe(e,t,n)),e.transformValues?e.transformValues(a):a}function ife(e,t,n){const r={},a=afe(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=a,r}const ofe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Fg(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||ofe.has(e)}let kL=e=>!Fg(e);function sfe(e){e&&(kL=t=>t.startsWith("on")?!Fg(t):e(t))}try{sfe(require("@emotion/is-prop-valid").default)}catch{}function lfe(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(kL(a)||n===!0&&Fg(a)||!t&&!Fg(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}function FP(e,t,n){return typeof e=="string"?e:zt.transform(t+n*e)}function cfe(e,t,n){const r=FP(t,e.x,e.width),a=FP(n,e.y,e.height);return`${r} ${a}`}const ufe={offset:"stroke-dashoffset",array:"stroke-dasharray"},dfe={offset:"strokeDashoffset",array:"strokeDasharray"};function ffe(e,t,n=1,r=0,a=!0){e.pathLength=1;const i=a?ufe:dfe;e[i.offset]=zt.transform(-r);const o=zt.transform(t),s=zt.transform(n);e[i.array]=`${o} ${s}`}function e2(e,{attrX:t,attrY:n,attrScale:r,originX:a,originY:i,pathLength:o,pathSpacing:s=1,pathOffset:l=0,...c},d,f,p){if(QS(e,c,d,p),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:h,dimensions:y}=e;m.transform&&(y&&(h.transform=m.transform),delete m.transform),y&&(a!==void 0||i!==void 0||h.transform)&&(h.transformOrigin=cfe(y,a!==void 0?a:.5,i!==void 0?i:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&ffe(m,o,s,l,!1)}const SL=()=>({...ZS(),attrs:{}}),t2=e=>typeof e=="string"&&e.toLowerCase()==="svg";function pfe(e,t,n,r){const a=v.useMemo(()=>{const i=SL();return e2(i,t,{enableHardwareAcceleration:!1},t2(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};wL(i,e.style,e),a.style={...i,...a.style}}return a}function mfe(e=!1){return(t,n,r,{latestValues:a},i)=>{const o=(JS(t)?pfe:ife)(n,a,i,t),s={...lfe(n,typeof t=="string",e),...o,ref:r},{children:l}=n,c=v.useMemo(()=>ri(l)?l.get():l,[l]);return v.createElement(t,{...s,children:c})}}function NL(e,{style:t,vars:n},r,a){Object.assign(e.style,t,a&&a.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const jL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function CL(e,t,n,r){NL(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(jL.has(a)?a:YS(a),t.attrs[a])}function n2(e,t){const{style:n}=e,r={};for(const a in n)(ri(n[a])||t.style&&ri(t.style[a])||gL(a,e))&&(r[a]=n[a]);return r}function ML(e,t){const n=n2(e,t);for(const r in e)if(ri(e[r])||ri(t[r])){const a=zp.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[a]=e[r]}return n}function r2(e,t,n,r={},a={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,a)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,a)),t}function hfe(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const Lg=e=>Array.isArray(e),gfe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),yfe=e=>Lg(e)?e[e.length-1]||0:e;function sh(e){const t=ri(e)?e.get():e;return gfe(t)?t.toValue():t}function vfe({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,a,i){const o={latestValues:bfe(r,a,i,e),renderState:t()};return n&&(o.mount=s=>n(r,s,o)),o}const AL=e=>(t,n)=>{const r=v.useContext(my),a=v.useContext(KS),i=()=>vfe(e,t,r,a);return n?i():hfe(i)};function bfe(e,t,n,r){const a={},i=r(e,{});for(const p in i)a[p]=sh(i[p]);let{initial:o,animate:s}=e;const l=yy(e),c=pL(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),s===void 0&&(s=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?s:o;return f&&typeof f!="boolean"&&!gy(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const m=r2(e,p);if(!m)return;const{transitionEnd:h,transition:y,...x}=m;for(const g in x){let b=x[g];if(Array.isArray(b)){const w=d?b.length-1:0;b=b[w]}b!==null&&(a[g]=b)}for(const g in h)a[g]=h[g]}),a}const Tr=e=>e;class LP{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function xfe(e){let t=new LP,n=new LP,r=0,a=!1,i=!1;const o=new WeakSet,s={schedule:(l,c=!1,d=!1)=>{const f=d&&a,p=f?t:n;return c&&o.add(l),p.add(l)&&f&&a&&(r=t.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(a){i=!0;return}if(a=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let c=0;c<r;c++){const d=t.order[c];d(l),o.has(d)&&(s.schedule(d),e())}a=!1,i&&(i=!1,s.process(l))}};return s}const Fm=["prepare","read","update","preRender","render","postRender"],wfe=40;function kfe(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=Fm.reduce((c,d)=>(c[d]=xfe(()=>n=!0),c),{}),o=c=>i[c].process(a),s=()=>{const c=performance.now();n=!1,a.delta=r?1e3/60:Math.max(Math.min(c-a.timestamp,wfe),1),a.timestamp=c,a.isProcessing=!0,Fm.forEach(o),a.isProcessing=!1,n&&t&&(r=!1,e(s))},l=()=>{n=!0,r=!0,a.isProcessing||e(s)};return{schedule:Fm.reduce((c,d)=>{const f=i[d];return c[d]=(p,m=!1,h=!1)=>(n||l(),f.schedule(p,m,h)),c},{}),cancel:c=>Fm.forEach(d=>i[d].cancel(c)),state:a,steps:i}}const{schedule:Zn,cancel:ks,state:wa,steps:Vv}=kfe(typeof requestAnimationFrame<"u"?requestAnimationFrame:Tr,!0),Sfe={useVisualState:AL({scrapeMotionValuesFromProps:ML,createRenderState:SL,onMount:(e,t,{renderState:n,latestValues:r})=>{Zn.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Zn.render(()=>{e2(n,r,{enableHardwareAcceleration:!1},t2(t.tagName),e.transformTemplate),CL(t,n)})}})},Nfe={useVisualState:AL({scrapeMotionValuesFromProps:n2,createRenderState:ZS})};function jfe(e,{forwardMotionProps:t=!1},n,r){return{...JS(e)?Sfe:Nfe,preloadedFeatures:n,useRender:mfe(t),createVisualElement:r,Component:e}}function os(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const PL=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function by(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Cfe=e=>t=>PL(t)&&e(t,by(t));function us(e,t,n,r){return os(e,t,Cfe(n),r)}const Mfe=(e,t)=>n=>t(e(n)),ml=(...e)=>e.reduce(Mfe);function EL(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const RP=EL("dragHorizontal"),$P=EL("dragVertical");function TL(e){let t=!1;if(e==="y")t=$P();else if(e==="x")t=RP();else{const n=RP(),r=$P();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function OL(){const e=TL(!0);return e?(e(),!1):!0}class Pl{constructor(t){this.isMounted=!1,this.node=t}update(){}}function zP(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),a=(i,o)=>{if(i.pointerType==="touch"||OL())return;const s=e.getProps();e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",t),s[r]&&Zn.update(()=>s[r](i,o))};return us(e.current,n,a,{passive:!e.getProps()[r]})}class Afe extends Pl{mount(){this.unmount=ml(zP(this.node,!0),zP(this.node,!1))}unmount(){}}class Pfe extends Pl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ml(os(this.node.current,"focus",()=>this.onFocus()),os(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const DL=(e,t)=>t?e===t?!0:DL(e,t.parentElement):!1;function Hv(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,by(n))}class Efe extends Pl{constructor(){super(...arguments),this.removeStartListeners=Tr,this.removeEndListeners=Tr,this.removeAccessibleListeners=Tr,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=us(window,"pointerup",(o,s)=>{if(!this.checkPressEnd())return;const{onTap:l,onTapCancel:c,globalTapTarget:d}=this.node.getProps();Zn.update(()=>{!d&&!DL(this.node.current,o.target)?c&&c(o,s):l&&l(o,s)})},{passive:!(r.onTap||r.onPointerUp)}),i=us(window,"pointercancel",(o,s)=>this.cancelPress(o,s),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=ml(a,i),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=s=>{s.key!=="Enter"||!this.checkPressEnd()||Hv("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&Zn.update(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=os(this.node.current,"keyup",o),Hv("down",(s,l)=>{this.startPress(s,l)})},n=os(this.node.current,"keydown",t),r=()=>{this.isPressing&&Hv("cancel",(i,o)=>this.cancelPress(i,o))},a=os(this.node.current,"blur",r);this.removeAccessibleListeners=ml(n,a)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Zn.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!OL()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Zn.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=us(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=os(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ml(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const cw=new WeakMap,Wv=new WeakMap,Tfe=e=>{const t=cw.get(e.target);t&&t(e)},Ofe=e=>{e.forEach(Tfe)};function Dfe({root:e,...t}){const n=e||document;Wv.has(n)||Wv.set(n,{});const r=Wv.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(Ofe,{root:e,...t})),r[a]}function Ife(e,t,n){const r=Dfe(t);return cw.set(e,n),r.observe(e),()=>{cw.delete(e),r.unobserve(e)}}const _fe={some:0,all:1};class Ffe extends Pl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:_fe[a]},s=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=c?d:f;p&&p(l)};return Ife(this.node.current,o,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Lfe(t,n))&&this.startObserver()}unmount(){}}function Lfe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Rfe={inView:{Feature:Ffe},tap:{Feature:Efe},focus:{Feature:Pfe},hover:{Feature:Afe}};function IL(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function $fe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function zfe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function xy(e,t,n){const r=e.getProps();return r2(r,t,n!==void 0?n:r.custom,$fe(e),zfe(e))}let a2=Tr;const dc=e=>e*1e3,ds=e=>e/1e3,Bfe={current:!1},_L=e=>Array.isArray(e)&&typeof e[0]=="number";function FL(e){return!!(!e||typeof e=="string"&&LL[e]||_L(e)||Array.isArray(e)&&e.every(FL))}const Hd=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,LL={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Hd([0,.65,.55,1]),circOut:Hd([.55,0,1,.45]),backIn:Hd([.31,.01,.66,-.59]),backOut:Hd([.33,1.53,.69,.99])};function RL(e){if(e)return _L(e)?Hd(e):Array.isArray(e)?e.map(RL):LL[e]}function Ufe(e,t,n,{delay:r=0,duration:a,repeat:i=0,repeatType:o="loop",ease:s,times:l}={}){const c={[t]:n};l&&(c.offset=l);const d=RL(s);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:r,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function Vfe(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const $L=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Hfe=1e-7,Wfe=12;function qfe(e,t,n,r,a){let i,o,s=0;do o=t+(n-t)/2,i=$L(o,r,a)-e,i>0?n=o:t=o;while(Math.abs(i)>Hfe&&++s<Wfe);return o}function Vp(e,t,n,r){if(e===t&&n===r)return Tr;const a=i=>qfe(i,0,1,e,n);return i=>i===0||i===1?i:$L(a(i),t,r)}const Kfe=Vp(.42,0,1,1),Yfe=Vp(0,0,.58,1),zL=Vp(.42,0,.58,1),Gfe=e=>Array.isArray(e)&&typeof e[0]!="number",BL=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,UL=e=>t=>1-e(1-t),i2=e=>1-Math.sin(Math.acos(e)),VL=UL(i2),Xfe=BL(i2),HL=Vp(.33,1.53,.69,.99),o2=UL(HL),Jfe=BL(o2),Qfe=e=>(e*=2)<1?.5*o2(e):.5*(2-Math.pow(2,-10*(e-1))),Zfe={linear:Tr,easeIn:Kfe,easeInOut:zL,easeOut:Yfe,circIn:i2,circInOut:Xfe,circOut:VL,backIn:o2,backInOut:Jfe,backOut:HL,anticipate:Qfe},BP=e=>{if(Array.isArray(e)){a2(e.length===4);const[t,n,r,a]=e;return Vp(t,n,r,a)}else if(typeof e=="string")return Zfe[e];return e},s2=(e,t)=>n=>!!(Bp(n)&&efe.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),WL=(e,t,n)=>r=>{if(!Bp(r))return r;const[a,i,o,s]=r.match(vy);return{[e]:parseFloat(a),[t]:parseFloat(i),[n]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},epe=e=>bl(0,255,e),qv={...Ic,transform:e=>Math.round(epe(e))},rc={test:s2("rgb","red"),parse:WL("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+qv.transform(e)+", "+qv.transform(t)+", "+qv.transform(n)+", "+sf(of.transform(r))+")"};function tpe(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const uw={test:s2("#"),parse:tpe,transform:rc.transform},gu={test:s2("hsl","hue"),parse:WL("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Lo.transform(sf(t))+", "+Lo.transform(sf(n))+", "+sf(of.transform(r))+")"},Ia={test:e=>rc.test(e)||uw.test(e)||gu.test(e),parse:e=>rc.test(e)?rc.parse(e):gu.test(e)?gu.parse(e):uw.parse(e),transform:e=>Bp(e)?e:e.hasOwnProperty("red")?rc.transform(e):gu.transform(e)},dr=(e,t,n)=>-n*e+n*t+e;function Kv(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function npe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,i=0,o=0;if(!t)a=i=o=n;else{const s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;a=Kv(l,s,e+1/3),i=Kv(l,s,e),o=Kv(l,s,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const Yv=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},rpe=[uw,rc,gu],ape=e=>rpe.find(t=>t.test(e));function UP(e){const t=ape(e);let n=t.parse(e);return t===gu&&(n=npe(n)),n}const qL=(e,t)=>{const n=UP(e),r=UP(t),a={...n};return i=>(a.red=Yv(n.red,r.red,i),a.green=Yv(n.green,r.green,i),a.blue=Yv(n.blue,r.blue,i),a.alpha=dr(n.alpha,r.alpha,i),rc.transform(a))};function ipe(e){var t,n;return isNaN(e)&&Bp(e)&&(((t=e.match(vy))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(bL))===null||n===void 0?void 0:n.length)||0)>0}const KL={regex:Qde,countKey:"Vars",token:"${v}",parse:Tr},YL={regex:bL,countKey:"Colors",token:"${c}",parse:Ia.parse},GL={regex:vy,countKey:"Numbers",token:"${n}",parse:Ic.parse};function Gv(e,{regex:t,countKey:n,token:r,parse:a}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(a)))}function Rg(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Gv(n,KL),Gv(n,YL),Gv(n,GL),n}function XL(e){return Rg(e).values}function JL(e){const{values:t,numColors:n,numVars:r,tokenised:a}=Rg(e),i=t.length;return o=>{let s=a;for(let l=0;l<i;l++)l<r?s=s.replace(KL.token,o[l]):l<r+n?s=s.replace(YL.token,Ia.transform(o[l])):s=s.replace(GL.token,sf(o[l]));return s}}const ope=e=>typeof e=="number"?0:e;function spe(e){const t=XL(e);return JL(e)(t.map(ope))}const xl={test:ipe,parse:XL,createTransformer:JL,getAnimatableNone:spe},QL=(e,t)=>n=>`${n>0?t:e}`;function ZL(e,t){return typeof e=="number"?n=>dr(e,t,n):Ia.test(e)?qL(e,t):e.startsWith("var(")?QL(e,t):tR(e,t)}const eR=(e,t)=>{const n=[...e],r=n.length,a=e.map((i,o)=>ZL(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=a[o](i);return n}},lpe=(e,t)=>{const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=ZL(e[a],t[a]));return a=>{for(const i in r)n[i]=r[i](a);return n}},tR=(e,t)=>{const n=xl.createTransformer(t),r=Rg(e),a=Rg(t);return r.numVars===a.numVars&&r.numColors===a.numColors&&r.numNumbers>=a.numNumbers?ml(eR(r.values,a.values),n):QL(e,t)},ep=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},VP=(e,t)=>n=>dr(e,t,n);function cpe(e){return typeof e=="number"?VP:typeof e=="string"?Ia.test(e)?qL:tR:Array.isArray(e)?eR:typeof e=="object"?lpe:VP}function upe(e,t,n){const r=[],a=n||cpe(e[0]),i=e.length-1;for(let o=0;o<i;o++){let s=a(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Tr:t;s=ml(l,s)}r.push(s)}return r}function nR(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const i=e.length;if(a2(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=upe(t,r,a),s=o.length,l=c=>{let d=0;if(s>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const f=ep(e[d],e[d+1],c);return o[d](f)};return n?c=>l(bl(e[0],e[i-1],c)):l}function dpe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=ep(0,t,r);e.push(dr(n,1,a))}}function fpe(e){const t=[0];return dpe(t,e.length-1),t}function ppe(e,t){return e.map(n=>n*t)}function mpe(e,t){return e.map(()=>t||zL).splice(0,e.length-1)}function $g({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=Gfe(r)?r.map(BP):BP(r),i={done:!1,value:t[0]},o=ppe(n&&n.length===t.length?n:fpe(t),e),s=nR(o,t,{ease:Array.isArray(a)?a:mpe(t,a)});return{calculatedDuration:e,next:l=>(i.value=s(l),i.done=l>=e,i)}}function rR(e,t){return t?e*(1e3/t):0}const hpe=5;function aR(e,t,n){const r=Math.max(t-hpe,0);return rR(n-e(r),t-r)}const Xv=.001,gpe=.01,ype=10,vpe=.05,bpe=1;function xpe({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let a,i,o=1-t;o=bl(vpe,bpe,o),e=bl(gpe,ype,ds(e)),o<1?(a=c=>{const d=c*o,f=d*e,p=d-n,m=dw(c,o),h=Math.exp(-f);return Xv-p/m*h},i=c=>{const d=c*o*e,f=d*n+n,p=Math.pow(o,2)*Math.pow(c,2)*e,m=Math.exp(-d),h=dw(Math.pow(c,2),o);return(-a(c)+Xv>0?-1:1)*((f-p)*m)/h}):(a=c=>{const d=Math.exp(-c*e),f=(c-n)*e+1;return-Xv+d*f},i=c=>{const d=Math.exp(-c*e),f=(n-c)*(e*e);return d*f});const s=5/e,l=kpe(a,i,s);if(e=dc(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:e}}}const wpe=12;function kpe(e,t,n){let r=n;for(let a=1;a<wpe;a++)r=r-e(r)/t(r);return r}function dw(e,t){return e*Math.sqrt(1-t*t)}const Spe=["duration","bounce"],Npe=["stiffness","damping","mass"];function HP(e,t){return t.some(n=>e[n]!==void 0)}function jpe(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!HP(e,Npe)&&HP(e,Spe)){const n=xpe(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function iR({keyframes:e,restDelta:t,restSpeed:n,...r}){const a=e[0],i=e[e.length-1],o={done:!1,value:a},{stiffness:s,damping:l,mass:c,duration:d,velocity:f,isResolvedFromDuration:p}=jpe({...r,velocity:-ds(r.velocity||0)}),m=f||0,h=l/(2*Math.sqrt(s*c)),y=i-a,x=ds(Math.sqrt(s/c)),g=Math.abs(y)<5;n||(n=g?.01:2),t||(t=g?.005:.5);let b;if(h<1){const w=dw(x,h);b=S=>{const C=Math.exp(-h*x*S);return i-C*((m+h*x*y)/w*Math.sin(w*S)+y*Math.cos(w*S))}}else if(h===1)b=w=>i-Math.exp(-x*w)*(y+(m+x*y)*w);else{const w=x*Math.sqrt(h*h-1);b=S=>{const C=Math.exp(-h*x*S),N=Math.min(w*S,300);return i-C*((m+h*x*y)*Math.sinh(N)+w*y*Math.cosh(N))/w}}return{calculatedDuration:p&&d||null,next:w=>{const S=b(w);if(p)o.done=w>=d;else{let C=m;w!==0&&(h<1?C=aR(b,w,S):C=0);const N=Math.abs(C)<=n,M=Math.abs(i-S)<=t;o.done=N&&M}return o.value=o.done?i:S,o}}}function WP({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:s,max:l,restDelta:c=.5,restSpeed:d}){const f=e[0],p={done:!1,value:f},m=O=>s!==void 0&&O<s||l!==void 0&&O>l,h=O=>s===void 0?l:l===void 0||Math.abs(s-O)<Math.abs(l-O)?s:l;let y=n*t;const x=f+y,g=o===void 0?x:o(x);g!==x&&(y=g-f);const b=O=>-y*Math.exp(-O/r),w=O=>g+b(O),S=O=>{const R=b(O),P=w(O);p.done=Math.abs(R)<=c,p.value=p.done?g:P};let C,N;const M=O=>{m(p.value)&&(C=O,N=iR({keyframes:[p.value,h(p.value)],velocity:aR(w,O,p.value),damping:a,stiffness:i,restDelta:c,restSpeed:d}))};return M(0),{calculatedDuration:null,next:O=>{let R=!1;return!N&&C===void 0&&(R=!0,S(O),M(O)),C!==void 0&&O>C?N.next(O-C):(!R&&S(O),p)}}}const Cpe=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Zn.update(t,!0),stop:()=>ks(t),now:()=>wa.isProcessing?wa.timestamp:performance.now()}},qP=2e4;function KP(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<qP;)t+=n,r=e.next(t);return t>=qP?1/0:t}const Mpe={decay:WP,inertia:WP,tween:$g,keyframes:$g,spring:iR};function zg({autoplay:e=!0,delay:t=0,driver:n=Cpe,keyframes:r,type:a="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop",onPlay:l,onStop:c,onComplete:d,onUpdate:f,...p}){let m=1,h=!1,y,x;const g=()=>{x=new Promise(E=>{y=E})};g();let b;const w=Mpe[a]||$g;let S;w!==$g&&typeof r[0]!="number"&&(S=nR([0,100],r,{clamp:!1}),r=[0,100]);const C=w({...p,keyframes:r});let N;s==="mirror"&&(N=w({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let M="idle",O=null,R=null,P=null;C.calculatedDuration===null&&i&&(C.calculatedDuration=KP(C));const{calculatedDuration:_}=C;let I=1/0,Q=1/0;_!==null&&(I=_+o,Q=I*(i+1)-o);let J=0;const re=E=>{if(R===null)return;m>0&&(R=Math.min(R,E)),m<0&&(R=Math.min(E-Q/m,R)),O!==null?J=O:J=Math.round(E-R)*m;const A=J-t*(m>=0?1:-1),j=m>=0?A<0:A>Q;J=Math.max(A,0),M==="finished"&&O===null&&(J=Q);let z=J,Y=C;if(i){const D=Math.min(J,Q)/I;let ee=Math.floor(D),fe=D%1;!fe&&D>=1&&(fe=1),fe===1&&ee--,ee=Math.min(ee,i+1),ee%2&&(s==="reverse"?(fe=1-fe,o&&(fe-=o/I)):s==="mirror"&&(Y=N)),z=bl(0,1,fe)*I}const W=j?{done:!1,value:r[0]}:Y.next(z);S&&(W.value=S(W.value));let{done:q}=W;!j&&_!==null&&(q=m>=0?J>=Q:J<=0);const G=O===null&&(M==="finished"||M==="running"&&q);return f&&f(W.value),G&&$(),W},he=()=>{b&&b.stop(),b=void 0},B=()=>{M="idle",he(),y(),g(),R=P=null},$=()=>{M="finished",d&&d(),he(),y()},te=()=>{if(h)return;b||(b=n(re));const E=b.now();l&&l(),O!==null?R=E-O:(!R||M==="finished")&&(R=E),M==="finished"&&g(),P=R,O=null,M="running",b.start()};e&&te();const k={then(E,A){return x.then(E,A)},get time(){return ds(J)},set time(E){E=dc(E),J=E,O!==null||!b||m===0?O=E:R=b.now()-E/m},get duration(){const E=C.calculatedDuration===null?KP(C):C.calculatedDuration;return ds(E)},get speed(){return m},set speed(E){E===m||!b||(m=E,k.time=ds(J))},get state(){return M},play:te,pause:()=>{M="paused",O=J},stop:()=>{h=!0,M!=="idle"&&(M="idle",c&&c(),B())},cancel:()=>{P!==null&&re(P),B()},complete:()=>{M="finished"},sample:E=>(R=0,re(E))};return k}function Ape(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ppe=Ape(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Epe=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Lm=10,Tpe=2e4,Ope=(e,t)=>t.type==="spring"||e==="backgroundColor"||!FL(t.ease);function Dpe(e,t,{onUpdate:n,onComplete:r,...a}){if(!(Ppe()&&Epe.has(t)&&!a.repeatDelay&&a.repeatType!=="mirror"&&a.damping!==0&&a.type!=="inertia"))return!1;let i=!1,o,s,l=!1;const c=()=>{s=new Promise(g=>{o=g})};c();let{keyframes:d,duration:f=300,ease:p,times:m}=a;if(Ope(t,a)){const g=zg({...a,repeat:0,delay:0});let b={done:!1,value:d[0]};const w=[];let S=0;for(;!b.done&&S<Tpe;)b=g.sample(S),w.push(b.value),S+=Lm;m=void 0,d=w,f=S-Lm,p="linear"}const h=Ufe(e.owner.current,t,d,{...a,duration:f,ease:p,times:m}),y=()=>{l=!1,h.cancel()},x=()=>{l=!0,Zn.update(y),o(),c()};return h.onfinish=()=>{l||(e.set(Vfe(d,a)),r&&r(),x())},{then(g,b){return s.then(g,b)},attachTimeline(g){return h.timeline=g,h.onfinish=null,Tr},get time(){return ds(h.currentTime||0)},set time(g){h.currentTime=dc(g)},get speed(){return h.playbackRate},set speed(g){h.playbackRate=g},get duration(){return ds(f)},play:()=>{i||(h.play(),ks(y))},pause:()=>h.pause(),stop:()=>{if(i=!0,h.playState==="idle")return;const{currentTime:g}=h;if(g){const b=zg({...a,autoplay:!1});e.setWithVelocity(b.sample(g-Lm).value,b.sample(g).value,Lm)}x()},complete:()=>{l||h.finish()},cancel:x}}function Ipe({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const a=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Tr,pause:Tr,stop:Tr,then:i=>(i(),Promise.resolve()),cancel:Tr,complete:Tr});return t?zg({keyframes:[0,1],duration:0,delay:t,onComplete:a}):a()}const _pe={type:"spring",stiffness:500,damping:25,restSpeed:10},Fpe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Lpe={type:"keyframes",duration:.8},Rpe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$pe=(e,{keyframes:t})=>t.length>2?Lpe:Dc.has(e)?e.startsWith("scale")?Fpe(t[1]):_pe:Rpe,fw=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(xl.test(t)||t==="0")&&!t.startsWith("url(")),zpe=new Set(["brightness","contrast","saturate","opacity"]);function Bpe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(vy)||[];if(!r)return e;const a=n.replace(r,"");let i=zpe.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+a+")"}const Upe=/([a-z-]*)\(.*?\)/g,pw={...xl,getAnimatableNone:e=>{const t=e.match(Upe);return t?t.map(Bpe).join(" "):e}},Vpe={...xL,color:Ia,backgroundColor:Ia,outlineColor:Ia,fill:Ia,stroke:Ia,borderColor:Ia,borderTopColor:Ia,borderRightColor:Ia,borderBottomColor:Ia,borderLeftColor:Ia,filter:pw,WebkitFilter:pw},l2=e=>Vpe[e];function oR(e,t){let n=l2(e);return n!==pw&&(n=xl),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const sR=e=>/^0[^.\s]+$/.test(e);function Hpe(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||sR(e)}function Wpe(e,t,n,r){const a=fw(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:e.get();let s;const l=[];for(let c=0;c<i.length;c++)i[c]===null&&(i[c]=c===0?o:i[c-1]),Hpe(i[c])&&l.push(c),typeof i[c]=="string"&&i[c]!=="none"&&i[c]!=="0"&&(s=i[c]);if(a&&l.length&&s)for(let c=0;c<l.length;c++){const d=l[c];i[d]=oR(t,s)}return i}function qpe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:s,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function c2(e,t){return e[t]||e.default||e}const Kpe={skipAnimations:!1},u2=(e,t,n,r={})=>a=>{const i=c2(r,e)||{},o=i.delay||r.delay||0;let{elapsed:s=0}=r;s=s-dc(o);const l=Wpe(t,e,n,i),c=l[0],d=l[l.length-1],f=fw(e,c),p=fw(e,d);let m={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-s,onUpdate:h=>{t.set(h),i.onUpdate&&i.onUpdate(h)},onComplete:()=>{a(),i.onComplete&&i.onComplete()}};if(qpe(i)||(m={...m,...$pe(e,m)}),m.duration&&(m.duration=dc(m.duration)),m.repeatDelay&&(m.repeatDelay=dc(m.repeatDelay)),!f||!p||Bfe.current||i.type===!1||Kpe.skipAnimations)return Ipe(m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const h=Dpe(t,e,m);if(h)return h}return zg(m)};function Bg(e){return!!(ri(e)&&e.add)}const lR=e=>/^\-?\d*\.?\d+$/.test(e);function d2(e,t){e.indexOf(t)===-1&&e.push(t)}function f2(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class p2{constructor(){this.subscriptions=[]}add(t){return d2(this.subscriptions,t),()=>f2(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ype=e=>!isNaN(parseFloat(e));class Gpe{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,a=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=wa;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,Zn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Zn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=Ype(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new p2);const r=this.events[t].add(n);return t==="change"?()=>{r(),Zn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?rR(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Yu(e,t){return new Gpe(e,t)}const cR=e=>t=>t.test(e),Xpe={test:e=>e==="auto",parse:e=>e},uR=[Ic,zt,Lo,Ws,nfe,tfe,Xpe],Fd=e=>uR.find(cR(e)),Jpe=[...uR,Ia,xl],Qpe=e=>Jpe.find(cR(e));function Zpe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Yu(n))}function eme(e,t){const n=xy(e,t);let{transitionEnd:r={},transition:a={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const s=yfe(i[o]);Zpe(e,o,s)}}function tme(e,t,n){var r,a;const i=Object.keys(t).filter(s=>!e.hasValue(s)),o=i.length;if(o)for(let s=0;s<o;s++){const l=i[s],c=t[l];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(a=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&a!==void 0?a:t[l]),d!=null&&(typeof d=="string"&&(lR(d)||sR(d))?d=parseFloat(d):!Qpe(d)&&xl.test(c)&&(d=oR(l,c)),e.addValue(l,Yu(d,{owner:e})),n[l]===void 0&&(n[l]=d),d!==null&&e.setBaseTarget(l,d))}}function nme(e,t){return t?(t[e]||t.default||t).from:void 0}function rme(e,t,n){const r={};for(const a in e){const i=nme(a,t);if(i!==void 0)r[a]=i;else{const o=n.getValue(a);o&&(r[a]=o.get())}}return r}function ame({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function ime(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function dR(e,t,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...s}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(i=r);const c=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const f in s){const p=e.getValue(f),m=s[f];if(!p||m===void 0||d&&ame(d,f))continue;const h={delay:n,elapsed:0,...c2(i||{},f)};if(window.HandoffAppearAnimations){const g=e.getProps()[fL];if(g){const b=window.HandoffAppearAnimations(g,f,p,Zn);b!==null&&(h.elapsed=b,h.isHandoff=!0)}}let y=!h.isHandoff&&!ime(p,m);if(h.type==="spring"&&(p.getVelocity()||h.velocity)&&(y=!1),p.animation&&(y=!1),y)continue;p.start(u2(f,p,m,e.shouldReduceMotion&&Dc.has(f)?{type:!1}:h));const x=p.animation;Bg(l)&&(l.add(f),x.then(()=>l.remove(f))),c.push(x)}return o&&Promise.all(c).then(()=>{o&&eme(e,o)}),c}function mw(e,t,n={}){const r=xy(e,t,n.custom);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const i=r?()=>Promise.all(dR(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=a;return ome(e,t,c+l,d,f,n)}:()=>Promise.resolve(),{when:s}=a;if(s){const[l,c]=s==="beforeChildren"?[i,o]:[o,i];return l().then(()=>c())}else return Promise.all([i(),o(n.delay)])}function ome(e,t,n=0,r=0,a=1,i){const o=[],s=(e.variantChildren.size-1)*r,l=a===1?(c=0)=>c*r:(c=0)=>s-c*r;return Array.from(e.variantChildren).sort(sme).forEach((c,d)=>{c.notify("AnimationStart",t),o.push(mw(c,t,{...i,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(o)}function sme(e,t){return e.sortNodePosition(t)}function lme(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(i=>mw(e,i,n));r=Promise.all(a)}else if(typeof t=="string")r=mw(e,t,n);else{const a=typeof t=="function"?xy(e,t,n.custom):t;r=Promise.all(dR(e,a,n))}return r.then(()=>e.notify("AnimationComplete",t))}const cme=[...GS].reverse(),ume=GS.length;function dme(e){return t=>Promise.all(t.map(({animation:n,options:r})=>lme(e,n,r)))}function fme(e){let t=dme(e);const n=mme();let r=!0;const a=(l,c)=>{const d=xy(e,c);if(d){const{transition:f,transitionEnd:p,...m}=d;l={...l,...m,...p}}return l};function i(l){t=l(e)}function o(l,c){const d=e.getProps(),f=e.getVariantContext(!0)||{},p=[],m=new Set;let h={},y=1/0;for(let g=0;g<ume;g++){const b=cme[g],w=n[b],S=d[b]!==void 0?d[b]:f[b],C=Qf(S),N=b===c?w.isActive:null;N===!1&&(y=g);let M=S===f[b]&&S!==d[b]&&C;if(M&&r&&e.manuallyAnimateOnMount&&(M=!1),w.protectedKeys={...h},!w.isActive&&N===null||!S&&!w.prevProp||gy(S)||typeof S=="boolean")continue;let O=pme(w.prevProp,S)||b===c&&w.isActive&&!M&&C||g>y&&C,R=!1;const P=Array.isArray(S)?S:[S];let _=P.reduce(a,{});N===!1&&(_={});const{prevResolvedValues:I={}}=w,Q={...I,..._},J=re=>{O=!0,m.has(re)&&(R=!0,m.delete(re)),w.needsAnimating[re]=!0};for(const re in Q){const he=_[re],B=I[re];if(h.hasOwnProperty(re))continue;let $=!1;Lg(he)&&Lg(B)?$=!IL(he,B):$=he!==B,$?he!==void 0?J(re):m.add(re):he!==void 0&&m.has(re)?J(re):w.protectedKeys[re]=!0}w.prevProp=S,w.prevResolvedValues=_,w.isActive&&(h={...h,..._}),r&&e.blockInitialAnimation&&(O=!1),O&&(!M||R)&&p.push(...P.map(re=>({animation:re,options:{type:b,...l}})))}if(m.size){const g={};m.forEach(b=>{const w=e.getBaseTarget(b);w!==void 0&&(g[b]=w)}),p.push({animation:g})}let x=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(x=!1),r=!1,x?t(p):Promise.resolve()}function s(l,c,d){var f;if(n[l].isActive===c)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var h;return(h=m.animationState)===null||h===void 0?void 0:h.setActive(l,c)}),n[l].isActive=c;const p=o(d,l);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:o,setActive:s,setAnimateFunction:i,getState:()=>n}}function pme(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!IL(t,e):!1}function Rl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function mme(){return{animate:Rl(!0),whileInView:Rl(),whileHover:Rl(),whileTap:Rl(),whileDrag:Rl(),whileFocus:Rl(),exit:Rl()}}class hme extends Pl{constructor(t){super(t),t.animationState||(t.animationState=fme(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),gy(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let gme=0;class yme extends Pl{constructor(){super(...arguments),this.id=gme++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const vme={animation:{Feature:hme},exit:{Feature:yme}},YP=(e,t)=>Math.abs(e-t);function bme(e,t){const n=YP(e.x,t.x),r=YP(e.y,t.y);return Math.sqrt(n**2+r**2)}class fR{constructor(t,n,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Qv(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=bme(f.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:h}=f,{timestamp:y}=wa;this.history.push({...h,timestamp:y});const{onStart:x,onMove:g}=this.handlers;p||(x&&x(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Jv(p,this.transformPagePoint),Zn.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:m,onSessionEnd:h,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Qv(f.type==="pointercancel"?this.lastMoveEventInfo:Jv(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,x),h&&h(f,x)},!PL(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=a||window;const o=by(t),s=Jv(o,this.transformPagePoint),{point:l}=s,{timestamp:c}=wa;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(t,Qv(s,this.history)),this.removeListeners=ml(us(this.contextWindow,"pointermove",this.handlePointerMove),us(this.contextWindow,"pointerup",this.handlePointerUp),us(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ks(this.updatePoint)}}function Jv(e,t){return t?{point:t(e.point)}:e}function GP(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Qv({point:e},t){return{point:e,delta:GP(e,pR(t)),offset:GP(e,xme(t)),velocity:wme(t,.1)}}function xme(e){return e[0]}function pR(e){return e[e.length-1]}function wme(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=pR(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>dc(t)));)n--;if(!r)return{x:0,y:0};const i=ds(a.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-r.x)/i,y:(a.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function wi(e){return e.max-e.min}function hw(e,t=0,n=.01){return Math.abs(e-t)<=n}function XP(e,t,n,r=.5){e.origin=r,e.originPoint=dr(t.min,t.max,e.origin),e.scale=wi(n)/wi(t),(hw(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=dr(n.min,n.max,e.origin)-e.originPoint,(hw(e.translate)||isNaN(e.translate))&&(e.translate=0)}function lf(e,t,n,r){XP(e.x,t.x,n.x,r?r.originX:void 0),XP(e.y,t.y,n.y,r?r.originY:void 0)}function JP(e,t,n){e.min=n.min+t.min,e.max=e.min+wi(t)}function kme(e,t,n){JP(e.x,t.x,n.x),JP(e.y,t.y,n.y)}function QP(e,t,n){e.min=t.min-n.min,e.max=e.min+wi(t)}function cf(e,t,n){QP(e.x,t.x,n.x),QP(e.y,t.y,n.y)}function Sme(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?dr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?dr(n,e,r.max):Math.min(e,n)),e}function ZP(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Nme(e,{top:t,left:n,bottom:r,right:a}){return{x:ZP(e.x,n,a),y:ZP(e.y,t,r)}}function eE(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function jme(e,t){return{x:eE(e.x,t.x),y:eE(e.y,t.y)}}function Cme(e,t){let n=.5;const r=wi(e),a=wi(t);return a>r?n=ep(t.min,t.max-r,e.min):r>a&&(n=ep(e.min,e.max-a,t.min)),bl(0,1,n)}function Mme(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const gw=.35;function Ame(e=gw){return e===!1?e=0:e===!0&&(e=gw),{x:tE(e,"left","right"),y:tE(e,"top","bottom")}}function tE(e,t,n){return{min:nE(e,t),max:nE(e,n)}}function nE(e,t){return typeof e=="number"?e:e[t]||0}const rE=()=>({translate:0,scale:1,origin:0,originPoint:0}),yu=()=>({x:rE(),y:rE()}),aE=()=>({min:0,max:0}),Rr=()=>({x:aE(),y:aE()});function Di(e){return[e("x"),e("y")]}function mR({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Pme({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Eme(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Zv(e){return e===void 0||e===1}function yw({scale:e,scaleX:t,scaleY:n}){return!Zv(e)||!Zv(t)||!Zv(n)}function Wl(e){return yw(e)||hR(e)||e.z||e.rotate||e.rotateX||e.rotateY}function hR(e){return iE(e.x)||iE(e.y)}function iE(e){return e&&e!=="0%"}function Ug(e,t,n){const r=e-n,a=t*r;return n+a}function oE(e,t,n,r,a){return a!==void 0&&(e=Ug(e,a,r)),Ug(e,n,r)+t}function vw(e,t=0,n=1,r,a){e.min=oE(e.min,t,n,r,a),e.max=oE(e.max,t,n,r,a)}function gR(e,{x:t,y:n}){vw(e.x,t.translate,t.scale,t.originPoint),vw(e.y,n.translate,n.scale,n.originPoint)}function Tme(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let i,o;for(let s=0;s<a;s++){i=n[s],o=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&vu(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,gR(e,o)),r&&Wl(i.latestValues)&&vu(e,i.latestValues))}t.x=sE(t.x),t.y=sE(t.y)}function sE(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Xs(e,t){e.min=e.min+t,e.max=e.max+t}function lE(e,t,[n,r,a]){const i=t[a]!==void 0?t[a]:.5,o=dr(e.min,e.max,i);vw(e,t[n],t[r],o,t.scale)}const Ome=["x","scaleX","originX"],Dme=["y","scaleY","originY"];function vu(e,t){lE(e.x,t,Ome),lE(e.y,t,Dme)}function yR(e,t){return mR(Eme(e.getBoundingClientRect(),t))}function Ime(e,t,n){const r=yR(e,n),{scroll:a}=t;return a&&(Xs(r.x,a.offset.x),Xs(r.y,a.offset.y)),r}const vR=({current:e})=>e?e.ownerDocument.defaultView:null,_me=new WeakMap;class Fme{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Rr(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(by(d,"page").point)},i=(d,f)=>{const{drag:p,dragPropagation:m,onDragStart:h}=this.getProps();if(p&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=TL(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Di(x=>{let g=this.getAxisMotionValue(x).get()||0;if(Lo.test(g)){const{projection:b}=this.visualElement;if(b&&b.layout){const w=b.layout.layoutBox[x];w&&(g=wi(w)*(parseFloat(g)/100))}}this.originPoint[x]=g}),h&&Zn.update(()=>h(d,f),!1,!0);const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:h,onDrag:y}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:x}=f;if(m&&this.currentDirection===null){this.currentDirection=Lme(x),this.currentDirection!==null&&h&&h(this.currentDirection);return}this.updateAxis("x",f.point,x),this.updateAxis("y",f.point,x),this.visualElement.render(),y&&y(d,f)},s=(d,f)=>this.stop(d,f),l=()=>Di(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new fR(t,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:s,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:vR(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&Zn.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!Rm(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=Sme(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&hu(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=Nme(a.layoutBox,n):this.constraints=!1,this.elastic=Ame(r),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Di(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=Mme(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!hu(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=Ime(r,a.root,this.visualElement.getTransformPagePoint());let o=jme(a.layout.layoutBox,i);if(n){const s=n(Pme(o));this.hasMutatedConstraints=!!s,s&&(o=mR(s))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},c=Di(d=>{if(!Rm(d,n,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const p=a?200:1e6,m=a?40:1e7,h={type:"inertia",velocity:r?t[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,h)});return Promise.all(c).then(s)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(u2(t,r,0,n))}stopAnimation(){Di(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Di(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps();return r[n]||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Di(n=>{const{drag:r}=this.getProps();if(!Rm(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(n);if(a&&a.layout){const{min:o,max:s}=a.layout.layoutBox[n];i.set(t[n]-dr(o,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!hu(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Di(o=>{const s=this.getAxisMotionValue(o);if(s){const l=s.get();a[o]=Cme({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Di(o=>{if(!Rm(o,t,null))return;const s=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];s.set(dr(l,c,a[o]))})}addListeners(){if(!this.visualElement.current)return;_me.set(this.visualElement,this);const t=this.visualElement.current,n=us(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();hu(l)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),r();const o=os(window,"resize",()=>this.scalePositionWithinConstraints()),s=a.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Di(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=gw,dragMomentum:s=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:s}}}function Rm(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Lme(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Rme extends Pl{constructor(t){super(t),this.removeGroupControls=Tr,this.removeListeners=Tr,this.controls=new Fme(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Tr}unmount(){this.removeGroupControls(),this.removeListeners()}}const cE=e=>(t,n)=>{e&&Zn.update(()=>e(t,n))};class $me extends Pl{constructor(){super(...arguments),this.removePointerDownListener=Tr}onPointerDown(t){this.session=new fR(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:vR(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:cE(t),onStart:cE(n),onMove:r,onEnd:(i,o)=>{delete this.session,a&&Zn.update(()=>a(i,o))}}}mount(){this.removePointerDownListener=us(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function zme(){const e=v.useContext(KS);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,a=v.useId();return v.useEffect(()=>r(a),[]),!t&&n?[!1,()=>n&&n(a)]:[!0]}const lh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function uE(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ld={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(zt.test(e))e=parseFloat(e);else return e;const n=uE(e,t.target.x),r=uE(e,t.target.y);return`${n}% ${r}%`}},Bme={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=xl.parse(e);if(a.length>5)return r;const i=xl.createTransformer(e),o=typeof a[0]!="number"?1:0,s=n.x.scale*t.x,l=n.y.scale*t.y;a[0+o]/=s,a[1+o]/=l;const c=dr(s,l,.5);return typeof a[2+o]=="number"&&(a[2+o]/=c),typeof a[3+o]=="number"&&(a[3+o]/=c),i(a)}};class Ume extends Hg.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:i}=t;Yde(Vme),i&&(n.group&&n.group.add(i),r&&r.register&&a&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),lh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,a||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Zn.postRender(()=>{const s=o.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function bR(e){const[t,n]=zme(),r=v.useContext(mL);return Hg.createElement(Ume,{...e,layoutGroup:r,switchLayoutGroup:v.useContext(hL),isPresent:t,safeToRemove:n})}const Vme={borderRadius:{...Ld,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ld,borderTopRightRadius:Ld,borderBottomLeftRadius:Ld,borderBottomRightRadius:Ld,boxShadow:Bme},xR=["TopLeft","TopRight","BottomLeft","BottomRight"],Hme=xR.length,dE=e=>typeof e=="string"?parseFloat(e):e,fE=e=>typeof e=="number"||zt.test(e);function Wme(e,t,n,r,a,i){a?(e.opacity=dr(0,n.opacity!==void 0?n.opacity:1,qme(r)),e.opacityExit=dr(t.opacity!==void 0?t.opacity:1,0,Kme(r))):i&&(e.opacity=dr(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Hme;o++){const s=`border${xR[o]}Radius`;let l=pE(t,s),c=pE(n,s);l===void 0&&c===void 0||(l||(l=0),c||(c=0),l===0||c===0||fE(l)===fE(c)?(e[s]=Math.max(dr(dE(l),dE(c),r),0),(Lo.test(c)||Lo.test(l))&&(e[s]+="%")):e[s]=c)}(t.rotate||n.rotate)&&(e.rotate=dr(t.rotate||0,n.rotate||0,r))}function pE(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const qme=wR(0,.5,VL),Kme=wR(.5,.95,Tr);function wR(e,t,n){return r=>r<e?0:r>t?1:n(ep(e,t,r))}function mE(e,t){e.min=t.min,e.max=t.max}function Pi(e,t){mE(e.x,t.x),mE(e.y,t.y)}function hE(e,t,n,r,a){return e-=t,e=Ug(e,1/n,r),a!==void 0&&(e=Ug(e,1/a,r)),e}function Yme(e,t=0,n=1,r=.5,a,i=e,o=e){if(Lo.test(t)&&(t=parseFloat(t),t=dr(o.min,o.max,t/100)-o.min),typeof t!="number")return;let s=dr(i.min,i.max,r);e===i&&(s-=t),e.min=hE(e.min,t,n,s,a),e.max=hE(e.max,t,n,s,a)}function gE(e,t,[n,r,a],i,o){Yme(e,t[n],t[r],t[a],t.scale,i,o)}const Gme=["x","scaleX","originX"],Xme=["y","scaleY","originY"];function yE(e,t,n,r){gE(e.x,t,Gme,n?n.x:void 0,r?r.x:void 0),gE(e.y,t,Xme,n?n.y:void 0,r?r.y:void 0)}function vE(e){return e.translate===0&&e.scale===1}function kR(e){return vE(e.x)&&vE(e.y)}function Jme(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function SR(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function bE(e){return wi(e.x)/wi(e.y)}class Qme{constructor(){this.members=[]}add(t){d2(this.members,t),t.scheduleRender()}remove(t){if(f2(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function xE(e,t,n){let r="";const a=e.x.translate/t.x,i=e.y.translate/t.y;if((a||i)&&(r=`translate3d(${a}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:c,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,s=e.y.scale*t.y;return(o!==1||s!==1)&&(r+=`scale(${o}, ${s})`),r||"none"}const Zme=(e,t)=>e.depth-t.depth;class ehe{constructor(){this.children=[],this.isDirty=!1}add(t){d2(this.children,t),this.isDirty=!0}remove(t){f2(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Zme),this.isDirty=!1,this.children.forEach(t)}}function the(e,t){const n=performance.now(),r=({timestamp:a})=>{const i=a-n;i>=t&&(ks(r),e(i-t))};return Zn.read(r,!0),()=>ks(r)}function nhe(e){window.MotionDebug&&window.MotionDebug.record(e)}function rhe(e){return e instanceof SVGElement&&e.tagName!=="svg"}function ahe(e,t,n){const r=ri(e)?e:Yu(e);return r.start(u2("",r,t,n)),r.animation}const wE=["","X","Y","Z"],ihe={visibility:"hidden"},kE=1e3;let ohe=0;const ql={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function NR({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(i={},o=t==null?void 0:t()){this.id=ohe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ql.totalNodes=ql.resolvedTargetDeltas=ql.recalculatedProjection=0,this.nodes.forEach(che),this.nodes.forEach(mhe),this.nodes.forEach(hhe),this.nodes.forEach(uhe),nhe(ql)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let s=0;s<this.path.length;s++)this.path[s].shouldResetTransform=!0;this.root===this&&(this.nodes=new ehe)}addEventListener(i,o){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new p2),this.eventHandlers.get(i).add(o)}notifyListeners(i,...o){const s=this.eventHandlers.get(i);s&&s.notify(...o)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=rhe(i),this.instance=i;const{layoutId:s,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(l||s)&&(this.isLayoutDirty=!0),e){let d;const f=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=the(f,250),lh.hasAnimatedSinceResize&&(lh.hasAnimatedSinceResize=!1,this.nodes.forEach(NE))})}s&&this.root.registerSharedNode(s,this),this.options.animate!==!1&&c&&(s||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const h=this.options.transition||c.getDefaultTransition()||xhe,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=c.getProps(),g=!this.targetLayout||!SR(this.targetLayout,m)||p,b=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||f&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,b);const w={...c2(h,"layout"),onPlay:y,onComplete:x};(c.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else f||NE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ks(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ghe),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:s}=this.options;if(o===void 0&&!s)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(SE);return}this.isUpdating||this.nodes.forEach(fhe),this.isUpdating=!1,this.nodes.forEach(phe),this.nodes.forEach(she),this.nodes.forEach(lhe),this.clearAllSnapshots();const i=performance.now();wa.delta=bl(0,1e3/60,i-wa.timestamp),wa.timestamp=i,wa.isProcessing=!0,Vv.update.process(wa),Vv.preRender.process(wa),Vv.render.process(wa),wa.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(dhe),this.sharedNodes.forEach(yhe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Zn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Zn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let s=0;s<this.path.length;s++)this.path[s].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Rr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!a)return;const i=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!kR(this.projectionDelta),s=this.getTransformTemplate(),l=s?s(this.latestValues,""):void 0,c=l!==this.prevTransformTemplateValue;i&&(o||Wl(this.latestValues)||c)&&(a(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const o=this.measurePageBox();let s=this.removeElementScroll(o);return i&&(s=this.removeTransform(s)),whe(s),{animationId:this.root.animationId,measuredBox:o,layoutBox:s,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return Rr();const o=i.measureViewportBox(),{scroll:s}=this.root;return s&&(Xs(o.x,s.offset.x),Xs(o.y,s.offset.y)),o}removeElementScroll(i){const o=Rr();Pi(o,i);for(let s=0;s<this.path.length;s++){const l=this.path[s],{scroll:c,options:d}=l;if(l!==this.root&&c&&d.layoutScroll){if(c.isRoot){Pi(o,i);const{scroll:f}=this.root;f&&(Xs(o.x,-f.offset.x),Xs(o.y,-f.offset.y))}Xs(o.x,c.offset.x),Xs(o.y,c.offset.y)}}return o}applyTransform(i,o=!1){const s=Rr();Pi(s,i);for(let l=0;l<this.path.length;l++){const c=this.path[l];!o&&c.options.layoutScroll&&c.scroll&&c!==c.root&&vu(s,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Wl(c.latestValues)&&vu(s,c.latestValues)}return Wl(this.latestValues)&&vu(s,this.latestValues),s}removeTransform(i){const o=Rr();Pi(o,i);for(let s=0;s<this.path.length;s++){const l=this.path[s];if(!l.instance||!Wl(l.latestValues))continue;yw(l.latestValues)&&l.updateSnapshot();const c=Rr(),d=l.measurePageBox();Pi(c,d),yE(o,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,c)}return Wl(this.latestValues)&&yE(o,this.latestValues),o}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==wa.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var o;const s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==s;if(!(i||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:c,layoutId:d}=this.options;if(!(!this.layout||!(c||d))){if(this.resolvedRelativeTargetAt=wa.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rr(),this.relativeTargetOrigin=Rr(),cf(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Pi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Rr(),this.targetWithTransforms=Rr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),kme(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Pi(this.target,this.layout.layoutBox),gR(this.target,this.targetDelta)):Pi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rr(),this.relativeTargetOrigin=Rr(),cf(this.relativeTargetOrigin,this.target,f.target),Pi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ql.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||yw(this.parent.latestValues)||hR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const o=this.getLead(),s=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(l=!1),s&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===wa.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;Pi(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;Tme(this.layoutCorrected,this.treeScale,this.path,s),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:m}=o;if(!m){this.projectionTransform&&(this.projectionDelta=yu(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=yu(),this.projectionDeltaWithTransform=yu());const h=this.projectionTransform;lf(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=xE(this.projectionDelta,this.treeScale),(this.projectionTransform!==h||this.treeScale.x!==f||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),ql.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,o=!1){const s=this.snapshot,l=s?s.latestValues:{},c={...this.latestValues},d=yu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=Rr(),p=s?s.source:void 0,m=this.layout?this.layout.source:void 0,h=p!==m,y=this.getStack(),x=!y||y.members.length<=1,g=!!(h&&!x&&this.options.crossfade===!0&&!this.path.some(bhe));this.animationProgress=0;let b;this.mixTargetDelta=w=>{const S=w/1e3;jE(d.x,i.x,S),jE(d.y,i.y,S),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(cf(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),vhe(this.relativeTarget,this.relativeTargetOrigin,f,S),b&&Jme(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Rr()),Pi(b,this.relativeTarget)),h&&(this.animationValues=c,Wme(c,l,this.latestValues,S,g,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ks(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Zn.update(()=>{lh.hasAnimatedSinceResize=!0,this.currentAnimation=ahe(0,kE,{...i,onUpdate:o=>{this.mixTargetDelta(o),i.onUpdate&&i.onUpdate(o)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(kE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:o,target:s,layout:l,latestValues:c}=i;if(!(!o||!s||!l)){if(this!==i&&this.layout&&l&&jR(this.options.animationType,this.layout.layoutBox,l.layoutBox)){s=this.target||Rr();const d=wi(this.layout.layoutBox.x);s.x.min=i.target.x.min,s.x.max=s.x.min+d;const f=wi(this.layout.layoutBox.y);s.y.min=i.target.y.min,s.y.max=s.y.min+f}Pi(o,s),vu(o,c),lf(this.projectionDeltaWithTransform,this.layoutCorrected,o,c)}}registerSharedNode(i,o){this.sharedNodes.has(i)||this.sharedNodes.set(i,new Qme),this.sharedNodes.get(i).add(o);const s=o.options.initialPromotionConfig;o.promote({transition:s?s.transition:void 0,preserveFollowOpacity:s&&s.shouldPreserveFollowOpacity?s.shouldPreserveFollowOpacity(o):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:o}=this.options;return o?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:o}=this.options;return o?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:o,preserveFollowOpacity:s}={}){const l=this.getStack();l&&l.promote(this,s),i&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetRotation(){const{visualElement:i}=this.options;if(!i)return;let o=!1;const{latestValues:s}=i;if((s.rotate||s.rotateX||s.rotateY||s.rotateZ)&&(o=!0),!o)return;const l={};for(let c=0;c<wE.length;c++){const d="rotate"+wE[c];s[d]&&(l[d]=s[d],i.setStaticValue(d,0))}i.render();for(const c in l)i.setStaticValue(c,l[c]);i.scheduleRender()}getProjectionStyles(i){var o,s;if(!this.instance||this.isSVG)return;if(!this.isVisible)return ihe;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=sh(i==null?void 0:i.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const h={};return this.options.layoutId&&(h.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,h.pointerEvents=sh(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!Wl(this.latestValues)&&(h.transform=c?c({},""):"none",this.hasProjected=!1),h}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),l.transform=xE(this.projectionDeltaWithTransform,this.treeScale,f),c&&(l.transform=c(f,l.transform));const{x:p,y:m}=this.projectionDelta;l.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,d.animationValues?l.opacity=d===this?(s=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&s!==void 0?s:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:l.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const h in _g){if(f[h]===void 0)continue;const{correct:y,applyTo:x}=_g[h],g=l.transform==="none"?f[h]:y(f[h],d);if(x){const b=x.length;for(let w=0;w<b;w++)l[x[w]]=g}else l[h]=g}return this.options.layoutId&&(l.pointerEvents=d===this?sh(i==null?void 0:i.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var o;return(o=i.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(SE),this.root.sharedNodes.clear()}}}function she(e){e.updateLayout()}function lhe(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?Di(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=wi(p);p.min=r[f].min,p.max=p.min+m}):jR(i,n.layoutBox,r)&&Di(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=wi(r[f]);p.max=p.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const s=yu();lf(s,r,n.layoutBox);const l=yu();o?lf(l,e.applyTransform(a,!0),n.measuredBox):lf(l,r,n.layoutBox);const c=!kR(s);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const h=Rr();cf(h,n.layoutBox,p.layoutBox);const y=Rr();cf(y,r,m.layoutBox),SR(h,y)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=h,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:s,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function che(e){ql.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function uhe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function dhe(e){e.clearSnapshot()}function SE(e){e.clearMeasurements()}function fhe(e){e.isLayoutDirty=!1}function phe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function NE(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function mhe(e){e.resolveTargetDelta()}function hhe(e){e.calcProjection()}function ghe(e){e.resetRotation()}function yhe(e){e.removeLeadSnapshot()}function jE(e,t,n){e.translate=dr(t.translate,0,n),e.scale=dr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function CE(e,t,n,r){e.min=dr(t.min,n.min,r),e.max=dr(t.max,n.max,r)}function vhe(e,t,n,r){CE(e.x,t.x,n.x,r),CE(e.y,t.y,n.y,r)}function bhe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const xhe={duration:.45,ease:[.4,0,.1,1]},ME=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),AE=ME("applewebkit/")&&!ME("chrome/")?Math.round:Tr;function PE(e){e.min=AE(e.min),e.max=AE(e.max)}function whe(e){PE(e.x),PE(e.y)}function jR(e,t,n){return e==="position"||e==="preserve-aspect"&&!hw(bE(t),bE(n),.2)}const khe=NR({attachResizeListener:(e,t)=>os(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),eb={current:void 0},CR=NR({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!eb.current){const e=new khe({});e.mount(window),e.setOptions({layoutScroll:!0}),eb.current=e}return eb.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),She={pan:{Feature:$me},drag:{Feature:Rme,ProjectionNode:CR,MeasureLayout:bR}},Nhe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function jhe(e){const t=Nhe.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function bw(e,t,n=1){const[r,a]=jhe(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return lR(o)?parseFloat(o):o}else return lw(a)?bw(a,t,n+1):a}function Che(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(a=>{const i=a.get();if(!lw(i))return;const o=bw(i,r);o&&a.set(o)});for(const a in t){const i=t[a];if(!lw(i))continue;const o=bw(i,r);o&&(t[a]=o,n||(n={}),n[a]===void 0&&(n[a]=i))}return{target:t,transitionEnd:n}}const Mhe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),MR=e=>Mhe.has(e),Ahe=e=>Object.keys(e).some(MR),EE=e=>e===Ic||e===zt,TE=(e,t)=>parseFloat(e.split(", ")[t]),OE=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const a=r.match(/^matrix3d\((.+)\)$/);if(a)return TE(a[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?TE(i[1],e):0}},Phe=new Set(["x","y","z"]),Ehe=zp.filter(e=>!Phe.has(e));function The(e){const t=[];return Ehe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Gu={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:OE(4,13),y:OE(5,14)};Gu.translateX=Gu.x;Gu.translateY=Gu.y;const Ohe=(e,t,n)=>{const r=t.measureViewportBox(),a=t.current,i=getComputedStyle(a),{display:o}=i,s={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(c=>{s[c]=Gu[c](r,i)}),t.render();const l=t.measureViewportBox();return n.forEach(c=>{const d=t.getValue(c);d&&d.jump(s[c]),e[c]=Gu[c](l,i)}),e},Dhe=(e,t,n={},r={})=>{t={...t},r={...r};const a=Object.keys(t).filter(MR);let i=[],o=!1;const s=[];if(a.forEach(l=>{const c=e.getValue(l);if(!e.hasValue(l))return;let d=n[l],f=Fd(d);const p=t[l];let m;if(Lg(p)){const h=p.length,y=p[0]===null?1:0;d=p[y],f=Fd(d);for(let x=y;x<h&&p[x]!==null;x++)m?a2(Fd(p[x])===m):m=Fd(p[x])}else m=Fd(p);if(f!==m)if(EE(f)&&EE(m)){const h=c.get();typeof h=="string"&&c.set(parseFloat(h)),typeof p=="string"?t[l]=parseFloat(p):Array.isArray(p)&&m===zt&&(t[l]=p.map(parseFloat))}else f!=null&&f.transform&&m!=null&&m.transform&&(d===0||p===0)?d===0?c.set(m.transform(d)):t[l]=f.transform(p):(o||(i=The(e),o=!0),s.push(l),r[l]=r[l]!==void 0?r[l]:t[l],c.jump(p))}),s.length){const l=s.indexOf("height")>=0?window.pageYOffset:null,c=Ohe(t,e,s);return i.length&&i.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),hy&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:t,transitionEnd:r}};function Ihe(e,t,n,r){return Ahe(t)?Dhe(e,t,n,r):{target:t,transitionEnd:r}}const _he=(e,t,n,r)=>{const a=Che(e,t,r);return t=a.target,r=a.transitionEnd,Ihe(e,t,n,r)},xw={current:null},AR={current:!1};function Fhe(){if(AR.current=!0,!!hy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>xw.current=e.matches;e.addListener(t),t()}else xw.current=!1}function Lhe(e,t,n){const{willChange:r}=t;for(const a in t){const i=t[a],o=n[a];if(ri(i))e.addValue(a,i),Bg(r)&&r.add(a);else if(ri(o))e.addValue(a,Yu(i,{owner:e})),Bg(r)&&r.remove(a);else if(o!==i)if(e.hasValue(a)){const s=e.getValue(a);!s.hasAnimated&&s.set(i)}else{const s=e.getStaticValue(a);e.addValue(a,Yu(s!==void 0?s:i,{owner:e}))}}for(const a in n)t[a]===void 0&&e.removeValue(a);return t}const DE=new WeakMap,PR=Object.keys(Zf),Rhe=PR.length,IE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],$he=XS.length;class zhe{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Zn.render(this.render,!1,!0);const{latestValues:s,renderState:l}=i;this.latestValues=s,this.baseTarget={...s},this.initialValues=n.initial?{...s}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.isControllingVariants=yy(n),this.isVariantNode=pL(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const p=d[f];s[f]!==void 0&&ri(p)&&(p.set(s[f],!1),Bg(c)&&c.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,DE.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),AR.current||Fhe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){DE.delete(this.current),this.projection&&this.projection.unmount(),ks(this.notifyUpdate),ks(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Dc.has(t),a=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Zn.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{a(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,a,i){let o,s;for(let l=0;l<Rhe;l++){const c=PR[l],{isEnabled:d,Feature:f,ProjectionNode:p,MeasureLayout:m}=Zf[c];p&&(o=p),d(n)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),m&&(s=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:d,dragConstraints:f,layoutScroll:p,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!d||f&&hu(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:m})}return s}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Rr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<IE.length;r++){const a=IE[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i=t["on"+a];i&&(this.propEventSubscriptions[a]=this.on(a,i))}this.prevMotionValues=Lhe(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<$he;r++){const a=XS[r],i=this.props[a];(Qf(i)||i===!1)&&(n[a]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Yu(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,a=typeof r=="string"||typeof r=="object"?(n=r2(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!ri(i)?i:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new p2),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class ER extends zhe{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:a},i){let o=rme(r,t||{},this);if(a&&(n&&(n=a(n)),r&&(r=a(r)),o&&(o=a(o))),i){tme(this,r,o);const s=_he(this,r,o,n);n=s.transitionEnd,r=s.target}return{transition:t,transitionEnd:n,...r}}}function Bhe(e){return window.getComputedStyle(e)}class Uhe extends ER{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Dc.has(n)){const r=l2(n);return r&&r.default||0}else{const r=Bhe(t),a=(vL(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return yR(t,n)}build(t,n,r,a){QS(t,n,r,a.transformTemplate)}scrapeMotionValuesFromProps(t,n){return n2(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ri(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,a){NL(t,n,r,a)}}class Vhe extends ER{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Dc.has(n)){const r=l2(n);return r&&r.default||0}return n=jL.has(n)?n:YS(n),t.getAttribute(n)}measureInstanceViewportBox(){return Rr()}scrapeMotionValuesFromProps(t,n){return ML(t,n)}build(t,n,r,a){e2(t,n,r,this.isSVGTag,a.transformTemplate)}renderInstance(t,n,r,a){CL(t,n,r,a)}mount(t){this.isSVGTag=t2(t.tagName),super.mount(t)}}const Hhe=(e,t)=>JS(e)?new Vhe(t,{enableHardwareAcceleration:!1}):new Uhe(t,{enableHardwareAcceleration:!0}),Whe={layout:{ProjectionNode:CR,MeasureLayout:bR}},qhe={...vme,...Rfe,...She,...Whe},Ao=qde((e,t)=>jfe(e,t,qhe,Hhe));function Khe({isOpen:e,onClose:t,searchValue:n,searchFocused:r,searchResults:a,onSearchChange:i,onSearchFocus:o,onSearchBlur:s,onSearchEnter:l,onSearchResultMouseDown:c,renderHighlightedMatch:d,searchRef:f,tocItems:p,activeTocId:m,onTocClick:h,contentRef:y,children:x}){return e?u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-lg",onClick:g=>g.target===g.currentTarget&&t(),children:u.jsxs("div",{className:"proof-of-work-modal relative w-full max-w-4xl bg-[#10151b]/95 border border-white/10 rounded-xl shadow-[0_20px_60px_rgba(0,0,0,0.55)] p-6 overflow-hidden",children:[u.jsxs("div",{className:"pointer-events-none absolute inset-0 opacity-60",children:[u.jsx("div",{className:"absolute -top-24 -right-24 h-56 w-56 rounded-full bg-cyan-500/8 blur-3xl"}),u.jsx("div",{className:"absolute -bottom-24 -left-16 h-64 w-64 rounded-full bg-slate-500/10 blur-3xl"})]}),u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-cyan-300/70",children:"Proof of Work"}),u.jsx("div",{className:"text-xl font-semibold text-white mt-1",children:"Metrics Specification"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"relative",ref:f,children:[u.jsx("input",{type:"text",value:n,onChange:g=>i(g.target.value),onFocus:o,onBlur:g=>s(g.relatedTarget),onKeyDown:g=>{g.key==="Enter"&&l()},placeholder:"Search spec...",className:"proof-of-work-search w-56 rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/30"}),r&&a.length>0&&n.trim().length>=2&&u.jsx("div",{className:"proof-of-work-search-results absolute right-0 mt-2 w-80 max-h-64 overflow-y-auto rounded-lg border border-white/10 bg-[#0d1218]/95 shadow-2xl z-10",children:a.map((g,b)=>u.jsxs("button",{className:"w-full text-left px-3 py-2 text-xs text-gray-200 hover:bg-white/10 border-b border-white/5 last:border-b-0",onMouseDown:w=>{w.preventDefault(),c(g)},children:[u.jsx("div",{className:"text-[10px] uppercase tracking-wide text-gray-500 mb-1",children:g.section}),u.jsx("div",{className:"truncate",children:d(g.text,n)})]},`${g.hitId}-${b}-${g.text}`))})]}),u.jsx("button",{onClick:t,className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":"Close proof of work",children:u.jsx(Va,{className:"w-5 h-5"})})]})]}),u.jsx("div",{className:"h-[65vh]",children:u.jsxs("div",{className:"grid grid-cols-[230px_1fr] gap-4 h-full min-h-0",children:[u.jsxs("div",{className:"proof-of-work-sidebar h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-white/5 p-3",children:[u.jsx("div",{className:"proof-of-work-toc-header text-[10px] uppercase tracking-[0.3em] text-gray-400 mb-2",children:"On This Page"}),u.jsxs("div",{className:"space-y-1",children:[p.length===0&&u.jsx("div",{className:"px-2 py-1 text-[11px] text-gray-500",children:"Loading sections"}),p.map((g,b)=>{const w=g.id===m;return u.jsxs("button",{"data-toc-active":w?"true":"false",className:`proof-of-work-toc-item ${g.level===1?"proof-of-work-toc-item--l1":g.level===2?"proof-of-work-toc-item--l2":"proof-of-work-toc-item--l3"} w-full text-left flex items-center gap-2 min-w-0 transition-colors ${w?"proof-of-work-toc-item--active !text-cyan-300 hover:!text-cyan-300":g.level===1?"text-white hover:text-white":"text-gray-400 hover:text-gray-200"}`,onClick:()=>h(g),children:[u.jsx("span",{className:`proof-of-work-toc-dot ${w?"!bg-cyan-300":""}`,"aria-hidden":"true"}),u.jsx("span",{className:"proof-of-work-toc-label text-[13px] font-medium truncate min-w-0",children:g.text})]},`${g.id}-${g.level}-${b}`)})]})]}),u.jsx("div",{className:"proof-of-work-content h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-black/30 p-4",ref:y,id:"metrics-spec-content",children:u.jsx("div",{className:"space-y-4 text-sm text-gray-200",children:x})})]})})]})}):null}const $l="border border-white/10 rounded-2xl shadow-xl backdrop-blur-md glass-card",tb="arcbridge_web_theme_override",_E="__default__",Yhe=e=>{if(typeof document>"u")return null;const t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=document.cookie.match(new RegExp(`(?:^|; )${t}=([^;]*)`));if(!n)return null;try{return decodeURIComponent(n[1])}catch{return n[1]}},Ghe=(e,t,n=365)=>{if(typeof document>"u")return;const r=Math.max(0,Math.floor(n*24*60*60));document.cookie=`${e}=${encodeURIComponent(t)}; Max-Age=${r}; Path=/; SameSite=Lax`},Xhe=e=>{typeof document>"u"||(document.cookie=`${e}=; Max-Age=0; Path=/; SameSite=Lax`)},FE=(e,t)=>{try{const n=new Date(e),r=new Date(t);return Number.isNaN(n.getTime())||Number.isNaN(r.getTime())?"":`${n.toLocaleString()} - ${r.toLocaleString()}`}catch{return""}},Jhe=e=>{const t=new Date(e);if(Number.isNaN(t.getTime()))return"Raid";const n=`${t.getMonth()+1}/${t.getDate()}/${String(t.getFullYear()).slice(-2)}`,r=t.toLocaleDateString(void 0,{weekday:"long"}),a=t.getHours();let i="Night";return a>=5&&a<12?i="Morning":a>=12&&a<17?i="Afternoon":a>=17&&a<21&&(i="Evening"),`${n} - ${r} ${i} Raid`},LE=e=>e.toLowerCase().trim().replace(/\[(.*?)\]\(.*?\)/g,"$1").replace(/`([^`]+)`/g,"$1").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),Qhe=({slices:e})=>{const t=2*Math.PI*18,n=e.reduce((a,i)=>a+(i.value||0),0);let r=0;return u.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",children:[u.jsx("circle",{cx:"24",cy:"24",r:18,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),e.map((a,i)=>{const o=a.value||0,s=n>0?o/n*t:0,l=`${s} ${t-s}`,c=t-r;return r+=s,u.jsx("circle",{cx:"24",cy:"24",r:18,stroke:a.color,strokeWidth:"6",fill:"none",strokeLinecap:"butt",strokeDasharray:l,strokeDashoffset:c,transform:"rotate(-90 24 24)"},`${i}-${a.color}`)})]})},Zhe=({value:e})=>{const t=typeof e=="number"?Math.min(Math.max(e,0),1):null,n=18,r=2*Math.PI*n,a=t===null?r:r-t*r;return u.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",children:[u.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),u.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(16,185,129,0.9)",strokeWidth:"6",fill:"none",strokeLinecap:"round",strokeDasharray:r,strokeDashoffset:a,transform:"rotate(-90 24 24)"}),u.jsx("text",{x:"24",y:"27",textAnchor:"middle",fontSize:"10",fill:"#e2e8f0",children:t===null?"--":`${Math.round(t*100)}%`})]})};function ege(){var e;const[t,n]=v.useState(null),[r,a]=v.useState(null),[i,o]=v.useState(null),[s,l]=v.useState(null),[c,d]=v.useState(""),[f,p]=v.useState(null),[m,h]=v.useState(null),[y,x]=v.useState(!1),[g,b]=v.useState(!1),[w,S]=v.useState("classic"),[C,N]=v.useState("classic"),[M,O]=v.useState(ah.id),[R,P]=v.useState(null),[_,I]=v.useState(!1),[Q,J]=v.useState(!1),[re,he]=v.useState(""),[B,$]=v.useState(""),[te,k]=v.useState([]),[E,A]=v.useState(!1),[j,z]=v.useState("overview"),[Y,W]=v.useState({overview:!0,roster:!1,offense:!1,defense:!1,other:!1}),q=v.useRef(null),G=v.useRef(null),D=v.useRef(null),ee=v.useRef(null),fe=v.useRef(null),L=v.useRef(new Map),ne=v.useRef(null),U=v.useRef(null),F=v.useMemo(()=>{let H=window.location.pathname||"/";const ue=/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host);return H.endsWith("/index.html")&&(H=H.slice(0,-11)),H.includes("/reports/")&&(H=H.replace(/\/reports\/[^/]+\/?$/,"")),ue&&(H=H.replace(/^\/web\/web(?=\/|$)/,"/web")),H.endsWith("/")||(H=`${H}/`),H},[]),se=v.useMemo(()=>/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/"),[]),ye=v.useMemo(()=>{const H=[F,"./","/"],ue=[];return H.forEach(Ae=>{let Ge=Ae||"/";Ge!=="./"&&!Ge.endsWith("/")&&(Ge=`${Ge}/`),ue.includes(Ge)||ue.push(Ge)}),ue},[F,se]),[Ye,le]=v.useState(ye[0]||"/"),Ve=H=>{var ue;return typeof H=="string"||typeof H=="number"?String(H):Array.isArray(H)?H.map(Ve).join(""):H&&typeof H=="object"&&"props"in H?Ve((ue=H.props)==null?void 0:ue.children):""},De=H=>{const ue=LE(H||"section")||"section",Ae=L.current,Ge=(Ae.get(ue)??0)+1;return Ae.set(ue,Ge),Ge===1?ue:`${ue}-${Ge}`},pt=v.useMemo(()=>{const H=Uv.split(`
`),ue=new Map,Ae=[],Ge=Dt=>{const Et=LE(Dt||"section")||"section",st=(ue.get(Et)??0)+1;return ue.set(Et,st),st===1?Et:`${Et}-${st}`};for(const Dt of H){const Et=/^(#{1,3})\s+(.*)\s*$/.exec(Dt);if(!Et)continue;const st=Et[1].length,kn=Et[2].trim();kn&&Ae.push({level:st,text:kn,id:Ge(kn)})}return Ae},[Uv]),Ht=(H,ue)=>{const Ae=H==="./"?"./":H.endsWith("/")?H:`${H}/`,Ge=String(ue||"").replace(/^\/+/,"");return`${Ae}${Ge}`};v.useEffect(()=>{const H=Yhe(tb);if(H)try{const ue=JSON.parse(H),Ae=typeof(ue==null?void 0:ue.themeId)=="string"?ue.themeId:null;Ae&&Dd.some(Ge=>Ge.id===Ae)&&P(Ae)}catch{}},[]),v.useEffect(()=>{const H=R||M,ue=Dd.find(Ae=>Ae.id===H)||ah;p(ue)},[R,M]),v.useEffect(()=>{if(!R){S(C);return}if(R===rh){S("matte");return}if(R==="CRT"){S("crt");return}S("classic")},[R,C]),v.useEffect(()=>{le(ye[0]||"/");let H=!0;return(async()=>{for(const ue of ye)try{if((await fetch(Ht(ue,"ui-theme.json"),{cache:"no-store"})).ok){H&&le(ue);return}}catch{}})(),()=>{H=!1}},[ye]);const yn=(H,ue)=>{const Ae=ue.trim();if(!Ae)return H;const Ge=H.toLowerCase(),Dt=Ae.toLowerCase(),Et=Ge.indexOf(Dt);if(Et===-1)return H;const st=H.slice(0,Et),kn=H.slice(Et,Et+Ae.length),Tn=H.slice(Et+Ae.length);return u.jsxs(u.Fragment,{children:[st,u.jsx("mark",{className:"rounded bg-cyan-500/30 px-1 text-cyan-100",children:kn}),Tn]})},Or=(H,ue)=>{const Ae=G.current;if(!Ae)return;let Ge=Ae.querySelector(`[data-search-hit="${H}"]`);if(!Ge&&ue){const Dt=ue.trim().replace(/\s+/g," "),Et=Array.from(Ae.querySelectorAll("h1, h2, h3, p, li, code"));Ge=Et.find(st=>(st.textContent||"").trim().replace(/\s+/g," ")===Dt)||null,Ge||(Ge=Et.find(st=>(st.textContent||"").toLowerCase().includes(Dt.toLowerCase()))||null)}Ge&&requestAnimationFrame(()=>{const Dt=Ae.getBoundingClientRect(),Et=Ge.getBoundingClientRect(),st=Math.max(0,Ae.scrollTop+(Et.top-Dt.top)-12);Ae.scrollTop=st,Ge.classList.add("ring-2","ring-cyan-400/70","bg-cyan-500/10"),fe.current&&window.clearTimeout(fe.current),fe.current=window.setTimeout(()=>{Ge.classList.remove("ring-2","ring-cyan-400/70","bg-cyan-500/10")},1600)})},de=H=>{const ue=G.current,Ae=H.trim().toLowerCase();if(!ue||Ae.length<2){k([]);return}const Ge=Array.from(ue.querySelectorAll("h1, h2, h3, p, li, code"));Ge.forEach(st=>st.removeAttribute("data-search-hit"));const Dt=[];let Et=0;Ge.forEach((st,kn)=>{const Tn=(st.textContent||"").trim();if(Tn&&Tn.toLowerCase().includes(Ae)){let Mr="";for(let xn=kn;xn>=0;xn-=1){const Ie=Ge[xn];if(Ie&&["H1","H2","H3"].includes(Ie.tagName)){Mr=(Ie.textContent||"").trim();break}}st.setAttribute("data-search-hit",String(Et)),Dt.push({index:kn,text:Tn,section:Mr||"Unlabeled Section",hitId:Et}),Et+=1}}),k(Dt.slice(0,12))};v.useEffect(()=>{var H;if(!Q)return;he(((H=pt[0])==null?void 0:H.id)||"");const ue=Ae=>{var Ge;const Dt=Ae.target;Dt&&((Ge=D.current)!=null&&Ge.contains(Dt)||(A(!1),k([])))};return window.addEventListener("mousedown",ue),()=>{window.removeEventListener("mousedown",ue)}},[Q,pt]),v.useEffect(()=>{if(!Q){he("");return}const H=G.current;if(!H)return;let ue=0;const Ae=()=>{var Dt;const Et=Array.from(H.querySelectorAll("[data-heading-id]"));if(Et.length===0)return;const st=H.getBoundingClientRect().top+18,kn=Et.map((Zt,Yt)=>({index:Yt,id:Zt.dataset.headingId||Zt.id||"",top:Zt.getBoundingClientRect().top})).filter(Zt=>!!Zt.id);if(kn.length===0)return;let Tn=0,Mr=!1;for(const Zt of kn){if(Zt.top<=st){Tn=Zt.index,Mr=!0;continue}Mr||(Tn=Zt.index);break}H.scrollTop+H.clientHeight>=H.scrollHeight-2&&(Tn=Math.max(0,kn.length-1));const xn=pt[Tn],Ie=((Dt=kn[Tn])==null?void 0:Dt.id)||"",dt=(xn==null?void 0:xn.id)||Ie;dt&&he(dt)};Ae();const Ge=()=>{ue&&cancelAnimationFrame(ue),ue=requestAnimationFrame(Ae)};return H.addEventListener("scroll",Ge,{passive:!0}),window.addEventListener("resize",Ge),()=>{ue&&cancelAnimationFrame(ue),H.removeEventListener("scroll",Ge),window.removeEventListener("resize",Ge)}},[Q,pt]);const Ce=v.useMemo(()=>[{id:"overview",label:"Overview",icon:yB,sectionIds:["overview","kdr","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","timeline","map-distribution","squad-composition"],items:[{id:"kdr",label:"KDR",icon:oc},{id:"fight-breakdown",label:"Fight Breakdown",icon:nl},{id:"top-players",label:"Top Players",icon:oc},{id:"top-skills-outgoing",label:"Top Skills",icon:h1},{id:"squad-composition",label:"Classes",icon:kr},{id:"timeline",label:"Squad vs Enemy Size",icon:kr},{id:"map-distribution",label:"Map Distribution",icon:v1}]},{id:"roster",label:"Roster Intel",icon:Mf,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance",icon:Mf},{id:"squad-comp-fight",label:"Squad Comp",icon:kr},{id:"fight-comp",label:"Fight Comp",icon:nl}]},{id:"offense",label:"Offensive Stats",icon:nl,sectionIds:["offense-detailed","player-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:aF},{id:"player-breakdown",label:"Player Breakdown",icon:y1},{id:"spike-damage",label:"Spike Damage",icon:Af},{id:"conditions-outgoing",label:"Conditions",icon:o0}]},{id:"defense",label:"Defensive Stats",icon:Fu,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","boon-output","support-detailed","healing-stats"],items:[{id:"defense-detailed",label:"Defense Detailed",icon:Fu},{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:Af},{id:"defense-mitigation",label:"Damage Mitigation",icon:k1},{id:"boon-output",label:"Boon Output",icon:w1},{id:"support-detailed",label:"Support Detailed",icon:b1},{id:"healing-stats",label:"Healing Stats",icon:iO}]},{id:"other",label:"Other Metrics",icon:s0,sectionIds:["special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"special-buffs",label:"Special Buffs",icon:Ih},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:S1},{id:"skill-usage",label:"Skill Usage",icon:g1},{id:"apm-stats",label:"APM Breakdown",icon:x1}]}],[]),Pt=v.useMemo(()=>{const H=new Map;return Ce.forEach(ue=>{H.set(ue.id.toLowerCase(),ue.id),(ue.sectionIds||[]).forEach(Ae=>H.set(String(Ae).toLowerCase(),ue.id)),(ue.items||[]).forEach(Ae=>H.set(String(Ae.id).toLowerCase(),ue.id))}),H.set("report-top","overview"),H.set("overview","overview"),H.set("kdr","overview"),H},[Ce]),Wt=v.useMemo(()=>Ce.find(H=>H.id===j)||Ce[0],[Ce,j]),pn=v.useMemo(()=>{const H=((Wt==null?void 0:Wt.sectionIds)||((Wt==null?void 0:Wt.items)||[]).map(ue=>ue.id)).map(ue=>ue==="kdr"?"overview":ue);return new Set(H)},[Wt]),Wr=H=>{if(H==="report-top")return window.scrollTo({top:0,behavior:"smooth"}),history.replaceState&&history.replaceState(null,"","#report-top"),!0;const ue=H==="kdr"?"overview":H,Ae=ue==="overview"&&H!=="kdr"?"report-top":ue,Ge=document.getElementById(Ae);if(!Ge||Ge.getAttribute("data-section-visible")==="false"||!Ge.offsetParent)return!1;const Dt=Ge.getBoundingClientRect();if(Dt.height<=0)return!1;let Et=0;if(Ae==="stats-view-top"){const kn=document.getElementById("report-top");kn&&(Et=kn.getBoundingClientRect().height+12)}const st=Dt.top+window.scrollY-12-Et;return window.scrollTo({top:Math.max(0,st),behavior:"smooth"}),history.replaceState&&history.replaceState(null,"",`#${Ae}`),!0},Nr=(H,ue=0)=>{Wr(H)||ue>=12||window.setTimeout(()=>{requestAnimationFrame(()=>Nr(H,ue+1))},40)};v.useEffect(()=>{if(!t)return;const H=requestAnimationFrame(()=>{Array.from(document.querySelectorAll("[data-nav-submenu-content]")).forEach(ue=>{ue.scrollHeight})});return()=>cancelAnimationFrame(H)},[t]),v.useEffect(()=>{const H=ne.current;if(!H)return;let ue=0;const Ae=()=>{if(Wr(H)){ne.current=null;return}if(ue+=1,ue>=20){ne.current=null;return}window.setTimeout(()=>requestAnimationFrame(Ae),40)};requestAnimationFrame(Ae)},[j]),v.useEffect(()=>{const H=()=>{const ue=(window.location.hash||"").replace(/^#/,"").trim();if(!ue)return;let Ae=ue;try{Ae=decodeURIComponent(ue)}catch{Ae=ue}const Ge=Ae.toLowerCase(),Dt=Pt.get(Ge);Dt&&(z(Dt),W(()=>{const Et={};return Ce.forEach(st=>{Et[st.id]=st.id===Dt}),Et}),ne.current=Ge==="report-top"?"kdr":Ge)};return H(),window.addEventListener("hashchange",H),()=>{window.removeEventListener("hashchange",H)}},[Pt,Ce]);const Rn=w==="matte",ga=f??ah,Dr=ga.rgb,Qt=Rn?"#d8e1eb":"var(--accent)",sn={"--accent":`rgb(${Dr})`,"--accent-rgb":Dr,"--accent-soft":`rgba(${Dr}, 0.32)`,"--accent-strong":`rgba(${Dr}, 0.95)`,"--accent-border":`rgba(${Dr}, 0.4)`,"--accent-glow":`rgba(${Dr}, 0.18)`,"--accent-glow-soft":`rgba(${Dr}, 0.08)`},Ir=w==="modern"||w==="matte",bn=ga.pattern?Rn?void 0:Ir?`linear-gradient(180deg, rgba(14, 18, 26, 0.72), rgba(18, 24, 34, 0.78)), ${ga.pattern}`:ga.pattern:void 0,jr=Rn?{backgroundImage:"none",backgroundColor:"var(--bg-card)"}:{backgroundImage:Ir?"linear-gradient(135deg, rgba(var(--accent-rgb), 0.2), rgba(var(--accent-rgb), 0.06) 70%)":"linear-gradient(135deg, rgba(var(--accent-rgb), 0.26), rgba(var(--accent-rgb), 0.08) 70%)"};v.useEffect(()=>{var H;let ue=!0;const Ae=new URLSearchParams(window.location.search).get("report")||((H=window.location.pathname.match(/\/reports\/([^/]+)\/?$/))==null?void 0:H[1])||null,Ge=Ae?`${F}reports/${Ae}/report.json`:`${F}report.json`;Ae&&l(Ge);const Dt=st=>{var kn,Tn,Mr;const xn=new Set((((kn=st==null?void 0:st.meta)==null?void 0:kn.commanders)||[]).map(dt=>String(dt)));if(xn.size===0)return st;const Ie=st.stats;return(Tn=Ie==null?void 0:Ie.leaderboards)!=null&&Tn.closestToTag&&(Ie.leaderboards.closestToTag=Ie.leaderboards.closestToTag.map(dt=>xn.has(String(dt==null?void 0:dt.account))?{...dt,value:0}:dt)),(Mr=Ie==null?void 0:Ie.closestToTag)!=null&&Mr.player&&xn.has(String(Ie.closestToTag.player))&&(Ie.closestToTag={...Ie.closestToTag,value:0}),st},Et=st=>{var kn,Tn,Mr,xn,Ie;const dt=st==null?void 0:st.stats;if(!dt||typeof dt!="object")return st;const Zt=Array.isArray((kn=dt==null?void 0:dt.leaderboards)==null?void 0:kn.downContrib)?dt.leaderboards.downContrib:[];if(!Zt.length)return st;const Yt=Zt.map($n=>({...$n,value:Number(($n==null?void 0:$n.value)??0)})).filter($n=>Number.isFinite($n.value)).sort(($n,Ea)=>Ea.value-$n.value||String(($n==null?void 0:$n.account)||"").localeCompare(String((Ea==null?void 0:Ea.account)||"")))[0];return Yt&&(dt.maxDownContrib={...dt.maxDownContrib||{},value:Number(Yt.value||0),player:String(Yt.account||((Tn=dt.maxDownContrib)==null?void 0:Tn.player)||"-"),count:Number(Yt.count||((Mr=dt.maxDownContrib)==null?void 0:Mr.count)||0),profession:String(Yt.profession||((xn=dt.maxDownContrib)==null?void 0:xn.profession)||"Unknown"),professionList:Array.isArray(Yt.professionList)?Yt.professionList:((Ie=dt.maxDownContrib)==null?void 0:Ie.professionList)||[]}),st};return fetch(Ge,{cache:"no-store"}).then(st=>st.ok?st.json():Promise.reject()).then(st=>{var kn,Tn,Mr;if(!ue)return;const xn=Et(Dt(st));n(xn);const Ie=(kn=xn==null?void 0:xn.stats)==null?void 0:kn.uiTheme;Ie==="modern"||Ie==="classic"||Ie==="crt"||Ie==="matte"?N(Ie):((Tn=xn==null?void 0:xn.stats)==null?void 0:Tn.webThemeId)===rh&&N("matte"),typeof((Mr=xn==null?void 0:xn.stats)==null?void 0:Mr.webThemeId)=="string"&&xn.stats.webThemeId&&O(xn.stats.webThemeId)}).catch(()=>{if(Ae){if(!ue)return;o("Report not found yet. It may still be deploying.")}fetch(`${F}reports/index.json`,{cache:"no-store"}).then(st=>st.ok?st.json():Promise.reject()).then(st=>{ue&&a(Array.isArray(st)?st:[])}).catch(()=>{ue&&o("No report data found.")})}),()=>{ue=!1}},[F]),v.useEffect(()=>{if(t){const H=t.meta.dateLabel||FE(t.meta.dateStart,t.meta.dateEnd);document.title=H?`ArcBridge  ${t.meta.title}  ${H}`:`ArcBridge  ${t.meta.title}`;return}document.title="ArcBridge Reports"},[t]),v.useEffect(()=>{var H;const ue=(H=t==null?void 0:t.stats)==null?void 0:H.webThemeId;typeof ue=="string"&&ue&&O(ue)},[t]),v.useEffect(()=>{const H=document.body;H.classList.add("web-report"),H.classList.remove("theme-classic","theme-modern","theme-crt","theme-matte"),Rn?H.classList.add("theme-matte"):w==="modern"?H.classList.add("theme-modern"):w==="crt"?H.classList.add("theme-crt"):H.classList.add("theme-classic")},[w,Rn]),v.useEffect(()=>{var H;if(se&&(H=t==null?void 0:t.stats)!=null&&H.webThemeId)return;let ue=!0;return fetch(Ht(Ye,"theme.json"),{cache:"no-store"}).then(Ae=>Ae.ok?Ae.json():Promise.reject()).then(Ae=>{ue&&typeof(Ae==null?void 0:Ae.id)=="string"&&Ae.id&&O(Ae.id)}).catch(()=>{}),()=>{ue=!1}},[Ye,se,t]),v.useEffect(()=>{var H,ue;const Ae=(H=t==null?void 0:t.stats)==null?void 0:H.webThemeId,Ge=(ue=t==null?void 0:t.stats)==null?void 0:ue.uiTheme;if((Ge==="modern"||Ge==="classic"||Ge==="crt"||Ge==="matte")&&!(Ae===rh&&Ge!=="matte"||Ae==="CRT"&&Ge!=="crt"))return;let Dt=!0;return fetch(Ht(Ye,"ui-theme.json"),{cache:"no-store"}).then(Et=>Et.ok?Et.json():Promise.reject()).then(Et=>{if(!Dt)return;const st=Et==null?void 0:Et.theme;(st==="modern"||st==="classic"||st==="crt"||st==="matte")&&N(st)}).catch(()=>{}),()=>{Dt=!1}},[Ye,t]),v.useEffect(()=>{let H=!0;return fetch(Ht(Ye,"logo.json"),{cache:"no-store"}).then(ue=>ue.ok?ue.json():Promise.reject()).then(ue=>{if(!H)return;const Ae="svg/ArcBridge.svg",Ge=ue!=null&&ue.path?String(ue.path):Ae,Dt=ue!=null&&ue.updatedAt?String(ue.updatedAt):"",Et=Ht(Ye,Ge),st=Dt?`${Et}?v=${encodeURIComponent(Dt)}`:Et;h(st),x(!(ue!=null&&ue.path)||Ge===Ae)}).catch(()=>{H&&(h(null),x(!1))}),()=>{H=!1}},[Ye]);const Cr=v.useMemo(()=>r?[...r].sort((H,ue)=>{const Ae=new Date(H.dateEnd||H.dateStart).getTime();return new Date(ue.dateEnd||ue.dateStart).getTime()-Ae}):[],[r]),Vo=v.useMemo(()=>{if(!Cr.length)return[];const H=c.trim().toLowerCase();return H?Cr.filter(ue=>{var Ae;const Ge=((Ae=ue.commanders)==null?void 0:Ae.join(" "))||"";return`${ue.title} ${Ge} ${ue.dateLabel}`.toLowerCase().includes(H)}):Cr},[Cr,c]),dd=H=>{if(!H){Xhe(tb);return}Ghe(tb,JSON.stringify({themeId:H}))},Ds=H=>{const ue=H===_E?null:H;ue&&!Dd.some(Ae=>Ae.id===ue)||(P(ue),dd(ue),I(!1))};v.useEffect(()=>{const H=Ae=>{ee.current&&(ee.current.contains(Ae.target)||I(!1))},ue=Ae=>{Ae.key==="Escape"&&I(!1)};return window.addEventListener("mousedown",H),window.addEventListener("keydown",ue),()=>{window.removeEventListener("mousedown",H),window.removeEventListener("keydown",ue)}},[]),v.useEffect(()=>()=>{U.current!==null&&(cancelAnimationFrame(U.current),U.current=null)},[]);const _c=v.useMemo(()=>{if(!R)return"Default";const H=Dd.find(ue=>ue.id===R);return(H==null?void 0:H.label)||"Default"},[R]),Fc=u.jsxs("div",{className:"relative flex items-center gap-2",ref:ee,children:[u.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-400 whitespace-nowrap",children:"Theme"}),u.jsxs("button",{type:"button",onClick:()=>I(H=>!H),className:"w-[152px] inline-flex items-center justify-between gap-2 rounded-full border px-3 py-1 text-[9px] uppercase tracking-widest text-white transition-colors focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--accent-border)"},children:[u.jsx("span",{className:"truncate text-left",children:_c}),u.jsx("span",{className:`transition-transform ${_?"rotate-180":""}`,children:""})]}),_&&u.jsxs("div",{className:"absolute right-0 bottom-[calc(100%+6px)] z-20 w-[240px] overflow-y-auto rounded-xl border shadow-2xl backdrop-blur-xl",style:{maxHeight:"240px",backgroundColor:"color-mix(in srgb, var(--bg-card) 92%, black)",borderColor:"var(--accent-border)"},children:[u.jsx("button",{type:"button",onClick:()=>Ds(_E),className:"w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] text-gray-200 hover:bg-white/10 transition-colors",children:"Default"}),Dd.map(H=>u.jsx("button",{type:"button",onClick:()=>Ds(H.id),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${R===H.id?"text-[color:var(--accent)]":"text-gray-200"}`,children:H.label},H.id))]})]}),El=u.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-[11px] text-gray-500",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-2",children:[u.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.35em] text-gray-400",children:"Legal Notice"}),u.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[u.jsx("div",{className:"min-w-[160px]",children:Fc}),u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"GitHub"}),u.jsx("a",{href:"https://discord.gg/UjzMXMGXEg",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Discord"}),u.jsx("a",{href:"#proof-of-work",onClick:H=>{H.preventDefault(),J(!0)},className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Proof of Work"})]})]}),u.jsx("p",{children:"ArcBridge is free software by harasho: you can redistribute it and/or modify it under the terms of the GNU General Public License v3.0 only. This program comes with ABSOLUTELY NO WARRANTY."}),u.jsxs("p",{className:"mt-2",children:["Class Icons, artwork, and skill icons are created and owned by Arenanet as detailed in their"," ",u.jsx("a",{href:"https://www.arena.net/en/legal/content-terms-of-use",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"Content Terms of Use"}),". I do not own or profit from this work in any way. Assets were obtained from asset packs distributed by Arenanet. The official statement from the Content Terms of Use:"]}),u.jsx("p",{className:"mt-2",children:" ArenaNet LLC. All rights reserved. NCSOFT, ArenaNet, Guild Wars, Guild Wars 2, GW2, Heart of Thorns, Path of Fire, End of Dragons, Secrets of the Obscure, Janthir Wilds, Visions of Eternity, and all associated logos, designs, and composite marks are trademarks or registered trademarks of NCSOFT Corporation. All other trademarks are the property of their respective owners."}),u.jsxs("p",{className:"mt-2",children:["See the"," ",u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/LICENSE",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"LICENSE"})," ","and"," ",u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/THIRD_PARTY_NOTICES.md",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"THIRD_PARTY_NOTICES.md"})," ","files for full terms and upstream attributions."]})]}),Ho=u.jsxs(Khe,{isOpen:Q,onClose:()=>J(!1),searchValue:B,searchFocused:E,searchResults:te,onSearchChange:H=>{$(H),requestAnimationFrame(()=>de(H))},onSearchFocus:()=>{A(!0),requestAnimationFrame(()=>de(B))},onSearchBlur:H=>{var ue;H&&(ue=D.current)!=null&&ue.contains(H)||A(!1)},onSearchEnter:()=>{te.length>0&&Or(te[0].hitId,te[0].text)},onSearchResultMouseDown:H=>{A(!0),Or(H.hitId,H.text)},renderHighlightedMatch:yn,searchRef:D,tocItems:pt,activeTocId:re,onTocClick:H=>{const ue=G.current;if(!ue)return;let Ae=ue.querySelector(`[data-heading-id="${H.id}"]`);if(!Ae){const Ge=H.text.trim().replace(/\s+/g," ");Ae=Array.from(ue.querySelectorAll("h1, h2, h3")).find(Dt=>(Dt.textContent||"").trim().replace(/\s+/g," ")===Ge)||null}Ae&&(he(H.id),requestAnimationFrame(()=>{const Ge=ue.getBoundingClientRect(),Dt=Ae.getBoundingClientRect(),Et=ue.scrollTop+(Dt.top-Ge.top)-12;ue.scrollTop=Math.max(0,Et)}))},contentRef:G,children:[(L.current=new Map,null),u.jsx(kce,{remarkPlugins:[_de],components:{h1:({children:H})=>{const ue=Ve(H),Ae=De(ue);return u.jsx("h1",{id:Ae,"data-heading-id":Ae,className:"text-2xl font-bold text-white scroll-mt-6",children:H})},h2:({children:H})=>{const ue=Ve(H),Ae=De(ue);return u.jsx("h2",{id:Ae,"data-heading-id":Ae,className:"text-xl font-semibold text-white scroll-mt-6",children:H})},h3:({children:H})=>{const ue=Ve(H),Ae=De(ue);return u.jsx("h3",{id:Ae,"data-heading-id":Ae,className:"text-lg font-semibold text-white scroll-mt-6",children:H})},p:({children:H})=>u.jsx("p",{className:"leading-6 text-gray-200",children:H}),ul:({children:H})=>u.jsx("ul",{className:"list-disc pl-5 space-y-1 text-gray-200",children:H}),ol:({children:H})=>u.jsx("ol",{className:"list-decimal pl-5 space-y-1 text-gray-200",children:H}),li:({children:H})=>u.jsx("li",{className:"leading-6",children:H}),blockquote:({children:H})=>u.jsx("blockquote",{className:"border-l-2 border-blue-400/40 pl-4 text-gray-300 italic",children:H}),a:({href:H,children:ue})=>u.jsx("a",{className:"text-blue-300 hover:text-blue-200 underline underline-offset-2",href:H,target:"_blank",rel:"noreferrer",children:ue}),table:({children:H})=>u.jsx("div",{className:"overflow-x-auto rounded-xl border border-white/10 bg-black/30",children:u.jsx("table",{className:"w-full border-collapse text-left text-sm",children:H})}),th:({children:H})=>u.jsx("th",{className:"border-b border-white/10 bg-white/5 px-3 py-2 text-xs uppercase tracking-wide text-gray-300",children:H}),td:({children:H})=>u.jsx("td",{className:"border-b border-white/10 px-3 py-2 text-gray-200",children:H}),pre:({children:H})=>u.jsx("pre",{className:"overflow-x-auto rounded-xl bg-black/40 p-4 text-xs text-blue-100",children:H}),code:H=>{const{inline:ue,children:Ae}=H;return ue===!0?u.jsx("code",{className:"rounded bg-black/40 px-1.5 py-0.5 text-[11px] text-blue-200",children:Ae}):u.jsx("code",{className:"whitespace-pre-wrap text-blue-100",children:Ae})}},children:Uv})]});if(t){const H=Ht(Ye,"svg/ArcBridge.svg"),ue=()=>{U.current!==null&&(cancelAnimationFrame(U.current),U.current=null);const Ie=window.scrollY||window.pageYOffset||0;if(Ie<=1){window.scrollTo({top:0,behavior:"auto"});return}const dt=320,Zt=performance.now(),Yt=$n=>{const Ea=$n-Zt,_r=Math.min(1,Ea/dt),Wo=1-Math.pow(1-_r,3),fd=Math.max(0,Math.round(Ie*(1-Wo)));window.scrollTo({top:fd,behavior:"auto"}),_r<1?U.current=requestAnimationFrame(Yt):(U.current=null,window.scrollTo({top:0,behavior:"auto"}))};U.current=requestAnimationFrame(Yt)},Ae=Ie=>{W(()=>{const dt={};return Ce.forEach(Zt=>{dt[Zt.id]=Zt.id===Ie}),dt})},Ge=Ie=>{ne.current=null,z(Ie),ue()},Dt=Ie=>{if(!Y[Ie]){Ae(Ie),Ge(Ie);return}if(Ie!==j){Ge(Ie);return}W(dt=>({...dt,[Ie]:!1}))},Et=(Ie,dt)=>{Y[Ie]||Ae(Ie);const Zt=Ie===j;Zt||(ne.current=dt,z(Ie),requestAnimationFrame(()=>Nr(dt))),Zt&&requestAnimationFrame(()=>Nr(dt))},st=Ie=>{const dt=Ie.currentTarget;if(!(dt.scrollHeight>dt.clientHeight)){window.scrollBy({top:Ie.deltaY,behavior:"auto"}),Ie.preventDefault();return}const Zt=dt.scrollTop<=0,Yt=dt.scrollTop+dt.clientHeight>=dt.scrollHeight-1;(Zt&&Ie.deltaY<0||Yt&&Ie.deltaY>0)&&(window.scrollBy({top:Ie.deltaY,behavior:"auto"}),Ie.preventDefault())},kn=Ie=>{const dt=q.current;if(!dt)return;const Zt=Ie.target;if(!Zt||!dt.contains(Zt))return;let Yt=Zt;for(;Yt&&Yt!==dt;){const $n=window.getComputedStyle(Yt).overflowY;if(($n==="auto"||$n==="scroll")&&Yt.scrollHeight>Yt.clientHeight+1){const Ea=Yt.scrollTop<=0,_r=Yt.scrollTop+Yt.clientHeight>=Yt.scrollHeight-1;(Ie.deltaY<0&&Ea||Ie.deltaY>0&&_r)&&(window.scrollBy({top:Ie.deltaY,behavior:"auto"}),Ie.preventDefault());return}Yt=Yt.parentElement}},Tn=Ie=>{const dt=Math.max(0,6-Ie);return{accordionDuration:.5+dt*.07,itemDuration:.34+dt*.035,stagger:.05+dt*.01,delayChildren:.06+dt*.015}},Mr=Ie=>{const dt=Tn(Ie);return{open:{transition:{staggerChildren:dt.stagger,delayChildren:dt.delayChildren}},closed:{transition:{staggerChildren:Math.max(.02,dt.stagger*.7),staggerDirection:-1}}}},xn={open:{opacity:1,y:0},closed:{opacity:0,y:-2}};return u.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:Rn?"var(--bg-base)":Ir?"#0f141c":"#0f172a",backgroundImage:Rn?"none":bn,...sn},children:[!Rn&&u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),u.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),u.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),u.jsx("div",{className:`fixed inset-0 z-20 bg-black/40 backdrop-blur-sm transition-opacity lg:hidden ${g?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>b(!1)}),u.jsx("aside",{className:`fixed z-30 top-0 bottom-0 w-64 max-w-[80vw] transition-transform duration-300 lg:hidden ${g?"translate-x-0":"-translate-x-full"}`,children:u.jsxs("div",{className:"h-full bg-white/5 border-r border-white/10 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.45)] flex flex-col",children:[u.jsxs("div",{className:"px-5 pt-6 pb-4 flex items-center justify-between",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"Contents"}),u.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-white transition-colors","aria-label":"Close table of contents",children:""})]}),u.jsx("div",{className:"px-5 pb-4",children:u.jsxs("a",{href:"./",className:"w-full inline-flex items-center gap-3 px-4 py-2.5 rounded-xl bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[u.jsx("span",{className:"h-8 w-8 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:u.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[u.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),u.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})}),u.jsx("nav",{className:"px-3 pb-6 space-y-3 text-sm overflow-y-auto [overflow-anchor:none]",onWheel:st,children:Ce.map(Ie=>{const dt=Ie.icon,Zt=Ie.id===j,Yt=!!Y[Ie.id],$n=Tn(Ie.items.length),Ea=Mr(Ie.items.length);return u.jsxs(Ao.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[u.jsxs("button",{onClick:()=>Dt(Ie.id),className:`w-full text-left flex items-center gap-3 px-3 py-2 rounded-lg border transition-colors ${Zt?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(dt,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"text-[11px] uppercase tracking-[0.22em] whitespace-nowrap",children:Ie.label}),u.jsx(Ao.span,{className:"ml-auto inline-flex",animate:{rotate:Yt?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:u.jsx(Jl,{className:"w-4 h-4 text-gray-300"})})]}),u.jsx(Ao.div,{initial:!1,animate:Yt?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:$n.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:u.jsx(Ao.div,{variants:Ea,initial:!1,animate:Yt?"open":"closed",className:"space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:Ie.items.map(_r=>{const Wo=_r.icon;return u.jsxs(Ao.button,{variants:xn,transition:{duration:$n.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>{Et(Ie.id,_r.id),b(!1)},className:"w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-md text-[12px] text-gray-200 border border-transparent hover:border-white/10 hover:bg-white/10 transition-colors transform-gpu",children:[u.jsx(Wo,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),_r.label]},_r.id)})})},`${Ie.id}-submenu-mobile`)]},Ie.id)})})]})}),u.jsx("aside",{className:"hidden lg:flex fixed inset-y-0 left-0 w-64 border-r border-white/10 bg-white/5 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.5)] z-20",children:u.jsxs("div",{className:"flex flex-col w-full",children:[u.jsx("div",{className:"px-6 pt-6 pb-5",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"h-10 w-10 rounded-2xl border border-white/20",style:{backgroundColor:Qt,maskImage:`url(${H})`,WebkitMaskImage:`url(${H})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"65%",WebkitMaskSize:"65%"},"aria-label":"ArcBridge logo"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"ArcBridge Reports"}),u.jsx("div",{className:"text-sm font-semibold text-white",children:"Navigation"})]})]})}),u.jsx("nav",{className:"px-4 space-y-4 text-sm flex-1 overflow-y-auto [overflow-anchor:none]",onWheel:st,children:Ce.map(Ie=>{const dt=Ie.icon,Zt=Ie.id===j,Yt=!!Y[Ie.id],$n=Tn(Ie.items.length),Ea=Mr(Ie.items.length);return u.jsxs(Ao.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[u.jsxs("button",{onClick:()=>Dt(Ie.id),className:`w-full text-left flex items-center gap-3 px-3 py-2.5 rounded-xl border transition-colors ${Zt?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(dt,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"text-[11px] uppercase tracking-[0.22em] whitespace-nowrap",children:Ie.label}),u.jsx(Ao.span,{className:"ml-auto inline-flex",animate:{rotate:Yt?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:u.jsx(Jl,{className:"w-4 h-4 text-gray-300"})})]}),u.jsx(Ao.div,{initial:!1,animate:Yt?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:$n.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:u.jsx(Ao.div,{variants:Ea,initial:!1,animate:Yt?"open":"closed",className:"space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:Ie.items.map(_r=>{const Wo=_r.icon;return u.jsxs(Ao.button,{variants:xn,transition:{duration:$n.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>Et(Ie.id,_r.id),className:"w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-lg text-[12px] text-gray-200 border border-transparent hover:border-white/10 hover:bg-white/10 transition-colors transform-gpu",children:[u.jsx(Wo,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),_r.label]},_r.id)})})},`${Ie.id}-submenu-desktop`)]},Ie.id)})}),u.jsx("div",{className:"border-t border-white/10",children:u.jsxs("a",{href:"./",className:"w-full inline-flex items-center gap-3 px-6 py-4 bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[u.jsx("span",{className:"h-9 w-9 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:u.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[u.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),u.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})})]})}),u.jsxs("div",{className:"max-w-[1600px] mx-1 sm:mx-2 lg:mx-auto px-4 pt-3 pb-5 sm:px-6 sm:pt-4 sm:pb-6 lg:pl-[17rem] lg:pr-10 mobile-bottom-pad",children:[u.jsx("div",{className:`${$l} p-5 sm:p-6 mb-6 mx-1 sm:mx-1 lg:mx-0`,style:jr,children:u.jsxs("div",{className:"flex flex-col gap-4 sm:gap-5 lg:flex-row lg:items-center lg:justify-between",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 text-center sm:text-left",children:[m&&(y?u.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:Qt,maskImage:`url(${m})`,WebkitMaskImage:`url(${m})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):u.jsx("img",{src:m,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge Log Report"}),u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-1",children:t.meta.title}),u.jsx("div",{className:"text-xs sm:text-sm text-gray-400 mt-2",children:t.meta.dateLabel||FE(t.meta.dateStart,t.meta.dateEnd)})]})]}),u.jsxs("button",{onClick:()=>b(!0),className:"hidden sm:flex lg:hidden px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-xs uppercase tracking-widest text-gray-300 hover:border-white/30 transition-colors items-center gap-2",children:[u.jsx(UN,{className:"w-4 h-4"}),"Contents"]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:flex sm:flex-wrap sm:overflow-visible pr-1 sm:pr-2",children:[u.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 inline-flex items-center gap-2 min-w-0 justify-start",children:[u.jsx(cB,{className:"w-4 h-4 text-[color:var(--accent)]"}),t.meta.dateLabel||"Log Range"]}),u.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[u.jsx(kr,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"truncate",children:t.meta.commanders.length?t.meta.commanders.join(", "):"No Commanders"})]}),u.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[u.jsx(oO,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Report ",t.meta.appVersion?`v${t.meta.appVersion}`:"build"]})]})]})}),u.jsxs("div",{className:"sm:hidden mb-4",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400 mb-2",children:"Jump to"}),u.jsx("div",{className:"flex gap-2 overflow-x-auto pr-2 pb-1 snap-x snap-mandatory",children:((Wt==null?void 0:Wt.items)||[]).map(Ie=>{const dt=Ie.icon;return u.jsxs("button",{onClick:()=>Et((Wt==null?void 0:Wt.id)||"overview",Ie.id),className:"group flex items-center gap-2 px-3 py-2 rounded-full text-[10px] uppercase tracking-widest text-gray-200 whitespace-nowrap border border-white/15 bg-gradient-to-br from-white/10 via-white/5 to-transparent shadow-[0_10px_25px_rgba(0,0,0,0.35)] backdrop-blur-xl transition-all duration-200 hover:-translate-y-0.5 hover:border-[color:var(--accent-border)] hover:shadow-[0_18px_35px_rgba(0,0,0,0.45)] active:translate-y-0 active:scale-[0.98] snap-start",children:[u.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-white/10 border border-white/10 group-hover:border-[color:var(--accent-border)] group-hover:bg-[color:var(--accent-glow)] transition-colors",children:u.jsx(dt,{className:"w-3 h-3 text-[color:var(--accent)]"})}),Ie.label]},`chip-${Ie.id}`)})})]}),u.jsx("div",{ref:q,onWheelCapture:kn,className:"flex-1 min-w-0",children:u.jsx("div",{id:"stats-view-top",children:u.jsx($ae,{logs:[],onBack:()=>{},mvpWeights:void 0,precomputedStats:t.stats,statsViewSettings:(e=t.stats)==null?void 0:e.statsViewSettings,embedded:!0,uiTheme:w,sectionVisibility:Ie=>pn.has(Ie),dashboardTitle:`Statistics Dashboard - ${(Wt==null?void 0:Wt.label)||"Overview"}`})})}),u.jsx("div",{className:"mt-10",children:El})]}),u.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-30 sm:hidden mobile-action-bar",children:u.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-2xl bg-slate-950/70 border border-white/15 backdrop-blur-xl px-3 py-2 shadow-[0_20px_50px_rgba(0,0,0,0.45)]",children:[u.jsxs("a",{href:"./",className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(rO,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Back"]}),u.jsxs("button",{onClick:()=>b(!0),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(UN,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Contents"]}),u.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(lB,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Top"]})]})}),Ho]})}return u.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:Rn?"var(--bg-base)":Ir?"#0f141c":"#0f172a",backgroundImage:Rn?"none":bn,...sn},children:[!Rn&&u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),u.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),u.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),u.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 pt-4 pb-8 sm:px-6 sm:pt-5 sm:pb-10",children:[u.jsxs("div",{id:"report-list-container",className:"rounded-2xl border border-white/5 bg-black/20 p-4 sm:p-6",children:[u.jsxs("div",{id:"report-top",className:`${$l} p-5 sm:p-6 mb-6 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between`,style:jr,children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 min-h-[56px] text-center sm:text-left",children:[m&&(y?u.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:Qt,maskImage:`url(${m})`,WebkitMaskImage:`url(${m})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):u.jsx("img",{src:m,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge"}),u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-2",children:"Command Reports"}),u.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"Select a report to view the full stats dashboard."})]})]}),u.jsx("div",{className:"flex flex-col sm:flex-row sm:items-end gap-3",children:u.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300",children:[Vo.length," Reports"]})})]}),u.jsxs("div",{className:`${$l} px-4 py-3 mb-6 flex flex-col md:flex-row gap-3 md:items-center md:justify-between`,style:jr,children:[u.jsx("input",{type:"search",value:c,onChange:H=>d(H.target.value),placeholder:"Search reports, commanders, or date...",className:"w-full md:flex-1 bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-sm text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]"}),u.jsxs("div",{className:"text-[11px] sm:text-xs text-gray-400",children:["Showing ",u.jsx("span",{className:"text-[color:var(--accent)]",children:Vo.length})," of"," ",u.jsx("span",{className:"text-[color:var(--accent)]",children:Cr.length})]})]}),i&&u.jsxs("div",{className:"mb-6 rounded-2xl border border-amber-400/40 bg-amber-500/10 px-6 py-5 text-amber-100 shadow-xl backdrop-blur-md",style:jr,children:[u.jsx("div",{className:"text-sm uppercase tracking-widest text-amber-200/70",children:"Warning"}),u.jsx("div",{className:"mt-2 text-base font-semibold text-white",children:i}),s&&u.jsxs("div",{className:"text-xs text-amber-100/80 mt-2",children:["Looking for: ",u.jsx("span",{className:"text-amber-50",children:s})]})]}),!i&&!r&&u.jsx("div",{className:`${$l} p-6 text-gray-300`,style:jr,children:"Loading reports..."}),Vo.length>0&&u.jsx("div",{className:"flex flex-col gap-3",children:Vo.map(H=>{var ue,Ae,Ge,Dt;return u.jsx("a",{href:H.url,className:`${$l} px-5 py-4 hover:border-[color:var(--accent-border)] transition-colors group`,style:jr,children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-4",children:[u.jsxs("div",{className:"min-w-0 block text-left",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-widest text-gray-400",children:H.dateLabel}),u.jsx("div",{className:"text-base sm:text-lg font-semibold mt-1 truncate",children:Jhe(H.dateStart)}),u.jsxs("div",{className:"text-xs text-gray-400 mt-1 flex items-center gap-2",children:[u.jsx(kr,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"truncate",children:H.commanders.length?H.commanders.join(", "):"No Commanders"})]})]}),u.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3 sm:gap-4 sm:mt-0 mt-2 w-full sm:w-auto",children:[u.jsx("div",{className:"flex flex-col items-center gap-1 text-[10px] text-gray-400",children:(ue=H.summary)!=null&&ue.mapSlices&&H.summary.mapSlices.length>0?u.jsxs(u.Fragment,{children:[u.jsx(Qhe,{slices:H.summary.mapSlices}),u.jsx("span",{className:"uppercase tracking-widest",children:"Maps"})]}):u.jsxs(u.Fragment,{children:[u.jsx(Zhe,{value:(Ae=H.summary)==null?void 0:Ae.borderlandsPct}),u.jsx("span",{className:"uppercase tracking-widest",children:"Borderlands"})]})}),u.jsxs("div",{className:"flex flex-col items-end gap-1",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:"Avg Squad / Enemy"}),u.jsxs("div",{className:"text-sm text-white font-semibold",children:[((Ge=H.summary)==null?void 0:Ge.avgSquadSize)??"--"," / ",((Dt=H.summary)==null?void 0:Dt.avgEnemySize)??"--"]})]}),u.jsx(pB,{className:"w-5 h-5 text-[color:var(--accent)] opacity-60 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity"})]})]})},H.id)})}),!i&&r&&Cr.length===0&&u.jsx("div",{className:`${$l} p-6 text-gray-300`,style:jr,children:"No reports uploaded yet."}),!i&&r&&Cr.length>0&&Vo.length===0&&u.jsx("div",{className:`${$l} p-6 text-gray-300`,style:jr,children:"No reports match your search."})]}),u.jsx("div",{className:"mt-8",children:El})]}),Ho]})}document.documentElement.classList.add("web-report");document.body.classList.add("web-report");nb.createRoot(document.getElementById("root")).render(u.jsx(Hg.StrictMode,{children:u.jsx(ege,{})}));
