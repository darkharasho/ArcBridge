(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var LR=Object.defineProperty,FR=(e,t,n)=>t in e?LR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,b2=(e,t,n)=>FR(e,typeof t!="symbol"?t+"":t,n);function $R(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();var qh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $D={exports:{}},M0={},RD={exports:{}},gn={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Ap=Symbol.for("react.element"),RR=Symbol.for("react.portal"),BR=Symbol.for("react.fragment"),zR=Symbol.for("react.strict_mode"),UR=Symbol.for("react.profiler"),VR=Symbol.for("react.provider"),WR=Symbol.for("react.context"),HR=Symbol.for("react.forward_ref"),qR=Symbol.for("react.suspense"),KR=Symbol.for("react.memo"),GR=Symbol.for("react.lazy"),x2=Symbol.iterator;function YR(e){return e===null||typeof e!="object"?null:(e=x2&&e[x2]||e["@@iterator"],typeof e=="function"?e:null)}var BD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zD=Object.assign,UD={};function Sd(e,t,n){this.props=e,this.context=t,this.refs=UD,this.updater=n||BD}Sd.prototype.isReactComponent={};Sd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Sd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function VD(){}VD.prototype=Sd.prototype;function c1(e,t,n){this.props=e,this.context=t,this.refs=UD,this.updater=n||BD}var u1=c1.prototype=new VD;u1.constructor=c1;zD(u1,Sd.prototype);u1.isPureReactComponent=!0;var w2=Array.isArray,WD=Object.prototype.hasOwnProperty,d1={current:null},HD={key:!0,ref:!0,__self:!0,__source:!0};function qD(e,t,n){var r,a={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)WD.call(t,r)&&!HD.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(s===1)a.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];a.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)a[r]===void 0&&(a[r]=s[r]);return{$$typeof:Ap,type:e,key:i,ref:o,props:a,_owner:d1.current}}function QR(e,t){return{$$typeof:Ap,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function f1(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ap}function XR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var k2=/\/+/g;function pv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?XR(""+e.key):t.toString(36)}function kh(e,t,n,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ap:case RR:o=!0}}if(o)return o=e,a=a(o),e=r===""?"."+pv(o,0):r,w2(a)?(n="",e!=null&&(n=e.replace(k2,"$&/")+"/"),kh(a,t,n,"",function(u){return u})):a!=null&&(f1(a)&&(a=QR(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(k2,"$&/")+"/")+e)),t.push(a)),1;if(o=0,r=r===""?".":r+":",w2(e))for(var s=0;s<e.length;s++){i=e[s];var l=r+pv(i,s);o+=kh(i,t,n,l,a)}else if(l=YR(e),typeof l=="function")for(e=l.call(e),s=0;!(i=e.next()).done;)i=i.value,l=r+pv(i,s++),o+=kh(i,t,n,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Tm(e,t,n){if(e==null)return e;var r=[],a=0;return kh(e,r,"","",function(i){return t.call(n,i,a++)}),r}function JR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qa={current:null},Sh={transition:null},ZR={ReactCurrentDispatcher:Qa,ReactCurrentBatchConfig:Sh,ReactCurrentOwner:d1};function KD(){throw Error("act(...) is not supported in production builds of React.")}gn.Children={map:Tm,forEach:function(e,t,n){Tm(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Tm(e,function(){t++}),t},toArray:function(e){return Tm(e,function(t){return t})||[]},only:function(e){if(!f1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};gn.Component=Sd;gn.Fragment=BR;gn.Profiler=UR;gn.PureComponent=c1;gn.StrictMode=zR;gn.Suspense=qR;gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZR;gn.act=KD;gn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=zD({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=d1.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)WD.call(t,l)&&!HD.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Ap,type:e.type,key:a,ref:i,props:r,_owner:o}};gn.createContext=function(e){return e={$$typeof:WR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:VR,_context:e},e.Consumer=e};gn.createElement=qD;gn.createFactory=function(e){var t=qD.bind(null,e);return t.type=e,t};gn.createRef=function(){return{current:null}};gn.forwardRef=function(e){return{$$typeof:HR,render:e}};gn.isValidElement=f1;gn.lazy=function(e){return{$$typeof:GR,_payload:{_status:-1,_result:e},_init:JR}};gn.memo=function(e,t){return{$$typeof:KR,type:e,compare:t===void 0?null:t}};gn.startTransition=function(e){var t=Sh.transition;Sh.transition={};try{e()}finally{Sh.transition=t}};gn.unstable_act=KD;gn.useCallback=function(e,t){return Qa.current.useCallback(e,t)};gn.useContext=function(e){return Qa.current.useContext(e)};gn.useDebugValue=function(){};gn.useDeferredValue=function(e){return Qa.current.useDeferredValue(e)};gn.useEffect=function(e,t){return Qa.current.useEffect(e,t)};gn.useId=function(){return Qa.current.useId()};gn.useImperativeHandle=function(e,t,n){return Qa.current.useImperativeHandle(e,t,n)};gn.useInsertionEffect=function(e,t){return Qa.current.useInsertionEffect(e,t)};gn.useLayoutEffect=function(e,t){return Qa.current.useLayoutEffect(e,t)};gn.useMemo=function(e,t){return Qa.current.useMemo(e,t)};gn.useReducer=function(e,t,n){return Qa.current.useReducer(e,t,n)};gn.useRef=function(e){return Qa.current.useRef(e)};gn.useState=function(e){return Qa.current.useState(e)};gn.useSyncExternalStore=function(e,t,n){return Qa.current.useSyncExternalStore(e,t,n)};gn.useTransition=function(){return Qa.current.useTransition()};gn.version="18.3.1";RD.exports=gn;var g=RD.exports;const A0=Mo(g),eB=$R({__proto__:null,default:A0},[g]);/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var tB=g,nB=Symbol.for("react.element"),rB=Symbol.for("react.fragment"),aB=Object.prototype.hasOwnProperty,iB=tB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oB={key:!0,ref:!0,__self:!0,__source:!0};function GD(e,t,n){var r,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)aB.call(t,r)&&!oB.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:nB,type:e,key:i,ref:o,props:a,_owner:iB.current}}M0.Fragment=rB;M0.jsx=GD;M0.jsxs=GD;$D.exports=M0;var c=$D.exports,Bb={},YD={exports:{}},Ti={},QD={exports:{}},XD={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(e){function t(H,V){var k=H.length;H.push(V);e:for(;0<k;){var z=k-1>>>1,T=H[z];if(0<a(T,V))H[z]=V,H[k]=T,k=z;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var V=H[0],k=H.pop();if(k!==V){H[0]=k;e:for(var z=0,T=H.length,C=T>>>1;z<C;){var $=2*(z+1)-1,U=H[$],J=$+1,le=H[J];if(0>a(U,k))J<T&&0>a(le,U)?(H[z]=le,H[J]=k,z=J):(H[z]=U,H[$]=k,z=$);else if(J<T&&0>a(le,k))H[z]=le,H[J]=k,z=J;else break e}}return V}function a(H,V){var k=H.sortIndex-V.sortIndex;return k!==0?k:H.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],u=[],d=1,f=null,p=3,m=!1,h=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(H){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=H)r(u),V.sortIndex=V.expirationTime,t(l,V);else break;V=n(u)}}function S(H){if(v=!1,w(H),!h)if(n(l)!==null)h=!0,ve(j);else{var V=n(u);V!==null&&ne(S,V.startTime-H)}}function j(H,V){h=!1,v&&(v=!1,y(P),P=-1),m=!0;var k=p;try{for(w(V),f=n(l);f!==null&&(!(f.expirationTime>V)||H&&!I());){var z=f.callback;if(typeof z=="function"){f.callback=null,p=f.priorityLevel;var T=z(f.expirationTime<=V);V=e.unstable_now(),typeof T=="function"?f.callback=T:f===n(l)&&r(l),w(V)}else r(l);f=n(l)}if(f!==null)var C=!0;else{var $=n(u);$!==null&&ne(S,$.startTime-V),C=!1}return C}finally{f=null,p=k,m=!1}}var N=!1,M=null,P=-1,B=5,E=-1;function I(){return!(e.unstable_now()-E<B)}function O(){if(M!==null){var H=e.unstable_now();E=H;var V=!0;try{V=M(!0,H)}finally{V?K():(N=!1,M=null)}}else N=!1}var K;if(typeof x=="function")K=function(){x(O)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,oe=Q.port2;Q.port1.onmessage=O,K=function(){oe.postMessage(null)}}else K=function(){b(O,0)};function ve(H){M=H,N||(N=!0,K())}function ne(H,V){P=b(function(){H(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){h||m||(h=!0,ve(j))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(H){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var k=p;p=V;try{return H()}finally{p=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,V){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var k=p;p=H;try{return V()}finally{p=k}},e.unstable_scheduleCallback=function(H,V,k){var z=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?z+k:z):k=z,H){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=k+T,H={id:d++,callback:V,priorityLevel:H,startTime:k,expirationTime:T,sortIndex:-1},k>z?(H.sortIndex=k,t(u,H),n(l)===null&&H===n(u)&&(v?(y(P),P=-1):v=!0,ne(S,k-z))):(H.sortIndex=T,t(l,H),h||m||(h=!0,ve(j))),H},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(H){var V=p;return function(){var k=p;p=V;try{return H.apply(this,arguments)}finally{p=k}}}})(XD);QD.exports=XD;var sB=QD.exports;/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var lB=g,Ei=sB;function tt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var JD=new Set,zf={};function Zc(e,t){td(e,t),td(e+"Capture",t)}function td(e,t){for(zf[e]=t,e=0;e<t.length;e++)JD.add(t[e])}var Ps=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zb=Object.prototype.hasOwnProperty,cB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,S2={},N2={};function uB(e){return zb.call(N2,e)?!0:zb.call(S2,e)?!1:cB.test(e)?N2[e]=!0:(S2[e]=!0,!1)}function dB(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function fB(e,t,n,r){if(t===null||typeof t>"u"||dB(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Xa(e,t,n,r,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Na={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Na[e]=new Xa(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Na[t]=new Xa(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Na[e]=new Xa(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Na[e]=new Xa(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Na[e]=new Xa(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Na[e]=new Xa(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Na[e]=new Xa(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Na[e]=new Xa(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Na[e]=new Xa(e,5,!1,e.toLowerCase(),null,!1,!1)});var p1=/[\-:]([a-z])/g;function m1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(p1,m1);Na[t]=new Xa(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(p1,m1);Na[t]=new Xa(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(p1,m1);Na[t]=new Xa(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Na[e]=new Xa(e,1,!1,e.toLowerCase(),null,!1,!1)});Na.xlinkHref=new Xa("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Na[e]=new Xa(e,1,!1,e.toLowerCase(),null,!0,!0)});function h1(e,t,n,r){var a=Na.hasOwnProperty(t)?Na[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(fB(t,n,a,r)&&(n=null),r||a===null?uB(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ws=lB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Om=Symbol.for("react.element"),Mu=Symbol.for("react.portal"),Au=Symbol.for("react.fragment"),g1=Symbol.for("react.strict_mode"),Ub=Symbol.for("react.profiler"),ZD=Symbol.for("react.provider"),eP=Symbol.for("react.context"),y1=Symbol.for("react.forward_ref"),Vb=Symbol.for("react.suspense"),Wb=Symbol.for("react.suspense_list"),v1=Symbol.for("react.memo"),fl=Symbol.for("react.lazy"),tP=Symbol.for("react.offscreen"),j2=Symbol.iterator;function Hd(e){return e===null||typeof e!="object"?null:(e=j2&&e[j2]||e["@@iterator"],typeof e=="function"?e:null)}var Sr=Object.assign,mv;function pf(e){if(mv===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);mv=t&&t[1]||""}return`
`+mv+e}var hv=!1;function gv(e,t){if(!e||hv)return"";hv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=r.stack.split(`
`),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(o!==1||s!==1)do if(o--,s--,0>s||a[o]!==i[s]){var l=`
`+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{hv=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?pf(e):""}function pB(e){switch(e.tag){case 5:return pf(e.type);case 16:return pf("Lazy");case 13:return pf("Suspense");case 19:return pf("SuspenseList");case 0:case 2:case 15:return e=gv(e.type,!1),e;case 11:return e=gv(e.type.render,!1),e;case 1:return e=gv(e.type,!0),e;default:return""}}function Hb(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Au:return"Fragment";case Mu:return"Portal";case Ub:return"Profiler";case g1:return"StrictMode";case Vb:return"Suspense";case Wb:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case eP:return(e.displayName||"Context")+".Consumer";case ZD:return(e._context.displayName||"Context")+".Provider";case y1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case v1:return t=e.displayName||null,t!==null?t:Hb(e.type)||"Memo";case fl:t=e._payload,e=e._init;try{return Hb(e(t))}catch{}}return null}function mB(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hb(t);case 8:return t===g1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ll(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function nP(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function hB(e){var t=nP(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Im(e){e._valueTracker||(e._valueTracker=hB(e))}function rP(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=nP(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Kh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function qb(e,t){var n=t.checked;return Sr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function C2(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ll(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function aP(e,t){t=t.checked,t!=null&&h1(e,"checked",t,!1)}function Kb(e,t){aP(e,t);var n=Ll(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Gb(e,t.type,n):t.hasOwnProperty("defaultValue")&&Gb(e,t.type,Ll(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function M2(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Gb(e,t,n){(t!=="number"||Kh(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var mf=Array.isArray;function Hu(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ll(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Yb(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(tt(91));return Sr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function A2(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(tt(92));if(mf(n)){if(1<n.length)throw Error(tt(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ll(n)}}function iP(e,t){var n=Ll(t.value),r=Ll(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function E2(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function oP(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qb(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?oP(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var _m,sP=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(_m=_m||document.createElement("div"),_m.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_m.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Uf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var kf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gB=["Webkit","ms","Moz","O"];Object.keys(kf).forEach(function(e){gB.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),kf[t]=kf[e]})});function lP(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||kf.hasOwnProperty(e)&&kf[e]?(""+t).trim():t+"px"}function cP(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=lP(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var yB=Sr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xb(e,t){if(t){if(yB[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(tt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(tt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(tt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(tt(62))}}function Jb(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zb=null;function b1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ex=null,qu=null,Ku=null;function D2(e){if(e=Pp(e)){if(typeof ex!="function")throw Error(tt(280));var t=e.stateNode;t&&(t=O0(t),ex(e.stateNode,e.type,t))}}function uP(e){qu?Ku?Ku.push(e):Ku=[e]:qu=e}function dP(){if(qu){var e=qu,t=Ku;if(Ku=qu=null,D2(e),t)for(e=0;e<t.length;e++)D2(t[e])}}function fP(e,t){return e(t)}function pP(){}var yv=!1;function mP(e,t,n){if(yv)return e(t,n);yv=!0;try{return fP(e,t,n)}finally{yv=!1,(qu!==null||Ku!==null)&&(pP(),dP())}}function Vf(e,t){var n=e.stateNode;if(n===null)return null;var r=O0(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(tt(231,t,typeof n));return n}var tx=!1;if(Ps)try{var qd={};Object.defineProperty(qd,"passive",{get:function(){tx=!0}}),window.addEventListener("test",qd,qd),window.removeEventListener("test",qd,qd)}catch{tx=!1}function vB(e,t,n,r,a,i,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Sf=!1,Gh=null,Yh=!1,nx=null,bB={onError:function(e){Sf=!0,Gh=e}};function xB(e,t,n,r,a,i,o,s,l){Sf=!1,Gh=null,vB.apply(bB,arguments)}function wB(e,t,n,r,a,i,o,s,l){if(xB.apply(this,arguments),Sf){if(Sf){var u=Gh;Sf=!1,Gh=null}else throw Error(tt(198));Yh||(Yh=!0,nx=u)}}function eu(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function hP(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function P2(e){if(eu(e)!==e)throw Error(tt(188))}function kB(e){var t=e.alternate;if(!t){if(t=eu(e),t===null)throw Error(tt(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return P2(a),e;if(i===r)return P2(a),t;i=i.sibling}throw Error(tt(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o){for(s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o)throw Error(tt(189))}}if(n.alternate!==r)throw Error(tt(190))}if(n.tag!==3)throw Error(tt(188));return n.stateNode.current===n?e:t}function gP(e){return e=kB(e),e!==null?yP(e):null}function yP(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=yP(e);if(t!==null)return t;e=e.sibling}return null}var vP=Ei.unstable_scheduleCallback,T2=Ei.unstable_cancelCallback,SB=Ei.unstable_shouldYield,NB=Ei.unstable_requestPaint,Tr=Ei.unstable_now,jB=Ei.unstable_getCurrentPriorityLevel,x1=Ei.unstable_ImmediatePriority,bP=Ei.unstable_UserBlockingPriority,Qh=Ei.unstable_NormalPriority,CB=Ei.unstable_LowPriority,xP=Ei.unstable_IdlePriority,E0=null,Qo=null;function MB(e){if(Qo&&typeof Qo.onCommitFiberRoot=="function")try{Qo.onCommitFiberRoot(E0,e,void 0,(e.current.flags&128)===128)}catch{}}var yo=Math.clz32?Math.clz32:DB,AB=Math.log,EB=Math.LN2;function DB(e){return e>>>=0,e===0?32:31-(AB(e)/EB|0)|0}var Lm=64,Fm=4194304;function hf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xh(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~a;s!==0?r=hf(s):(i&=o,i!==0&&(r=hf(i)))}else o=n&~a,o!==0?r=hf(o):i!==0&&(r=hf(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-yo(t),a=1<<n,r|=e[n],t&=~a;return r}function PB(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function TB(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-yo(i),s=1<<o,l=a[o];l===-1?(!(s&n)||s&r)&&(a[o]=PB(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}function rx(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wP(){var e=Lm;return Lm<<=1,!(Lm&4194240)&&(Lm=64),e}function vv(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ep(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-yo(t),e[t]=n}function OB(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-yo(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}function w1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-yo(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var $n=0;function kP(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var SP,k1,NP,jP,CP,ax=!1,$m=[],Nl=null,jl=null,Cl=null,Wf=new Map,Hf=new Map,yl=[],IB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function O2(e,t){switch(e){case"focusin":case"focusout":Nl=null;break;case"dragenter":case"dragleave":jl=null;break;case"mouseover":case"mouseout":Cl=null;break;case"pointerover":case"pointerout":Wf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hf.delete(t.pointerId)}}function Kd(e,t,n,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Pp(t),t!==null&&k1(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function _B(e,t,n,r,a){switch(t){case"focusin":return Nl=Kd(Nl,e,t,n,r,a),!0;case"dragenter":return jl=Kd(jl,e,t,n,r,a),!0;case"mouseover":return Cl=Kd(Cl,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return Wf.set(i,Kd(Wf.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Hf.set(i,Kd(Hf.get(i)||null,e,t,n,r,a)),!0}return!1}function MP(e){var t=bc(e.target);if(t!==null){var n=eu(t);if(n!==null){if(t=n.tag,t===13){if(t=hP(n),t!==null){e.blockedOn=t,CP(e.priority,function(){NP(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Nh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ix(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Zb=r,n.target.dispatchEvent(r),Zb=null}else return t=Pp(n),t!==null&&k1(t),e.blockedOn=n,!1;t.shift()}return!0}function I2(e,t,n){Nh(e)&&n.delete(t)}function LB(){ax=!1,Nl!==null&&Nh(Nl)&&(Nl=null),jl!==null&&Nh(jl)&&(jl=null),Cl!==null&&Nh(Cl)&&(Cl=null),Wf.forEach(I2),Hf.forEach(I2)}function Gd(e,t){e.blockedOn===t&&(e.blockedOn=null,ax||(ax=!0,Ei.unstable_scheduleCallback(Ei.unstable_NormalPriority,LB)))}function qf(e){function t(a){return Gd(a,e)}if(0<$m.length){Gd($m[0],e);for(var n=1;n<$m.length;n++){var r=$m[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Nl!==null&&Gd(Nl,e),jl!==null&&Gd(jl,e),Cl!==null&&Gd(Cl,e),Wf.forEach(t),Hf.forEach(t),n=0;n<yl.length;n++)r=yl[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<yl.length&&(n=yl[0],n.blockedOn===null);)MP(n),n.blockedOn===null&&yl.shift()}var Gu=Ws.ReactCurrentBatchConfig,Jh=!0;function FB(e,t,n,r){var a=$n,i=Gu.transition;Gu.transition=null;try{$n=1,S1(e,t,n,r)}finally{$n=a,Gu.transition=i}}function $B(e,t,n,r){var a=$n,i=Gu.transition;Gu.transition=null;try{$n=4,S1(e,t,n,r)}finally{$n=a,Gu.transition=i}}function S1(e,t,n,r){if(Jh){var a=ix(e,t,n,r);if(a===null)Av(e,t,r,Zh,n),O2(e,r);else if(_B(a,e,t,n,r))r.stopPropagation();else if(O2(e,r),t&4&&-1<IB.indexOf(e)){for(;a!==null;){var i=Pp(a);if(i!==null&&SP(i),i=ix(e,t,n,r),i===null&&Av(e,t,r,Zh,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else Av(e,t,r,null,n)}}var Zh=null;function ix(e,t,n,r){if(Zh=null,e=b1(r),e=bc(e),e!==null)if(t=eu(e),t===null)e=null;else if(n=t.tag,n===13){if(e=hP(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zh=e,null}function AP(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jB()){case x1:return 1;case bP:return 4;case Qh:case CB:return 16;case xP:return 536870912;default:return 16}default:return 16}}var xl=null,N1=null,jh=null;function EP(){if(jh)return jh;var e,t=N1,n=t.length,r,a="value"in xl?xl.value:xl.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===a[i-r];r++);return jh=a.slice(e,1<r?1-r:void 0)}function Ch(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Rm(){return!0}function _2(){return!1}function Oi(e){function t(n,r,a,i,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Rm:_2,this.isPropagationStopped=_2,this}return Sr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Rm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Rm)},persist:function(){},isPersistent:Rm}),t}var Nd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},j1=Oi(Nd),Dp=Sr({},Nd,{view:0,detail:0}),RB=Oi(Dp),bv,xv,Yd,D0=Sr({},Dp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:C1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yd&&(Yd&&e.type==="mousemove"?(bv=e.screenX-Yd.screenX,xv=e.screenY-Yd.screenY):xv=bv=0,Yd=e),bv)},movementY:function(e){return"movementY"in e?e.movementY:xv}}),L2=Oi(D0),BB=Sr({},D0,{dataTransfer:0}),zB=Oi(BB),UB=Sr({},Dp,{relatedTarget:0}),wv=Oi(UB),VB=Sr({},Nd,{animationName:0,elapsedTime:0,pseudoElement:0}),WB=Oi(VB),HB=Sr({},Nd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qB=Oi(HB),KB=Sr({},Nd,{data:0}),F2=Oi(KB),GB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XB(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=QB[e])?!!t[e]:!1}function C1(){return XB}var JB=Sr({},Dp,{key:function(e){if(e.key){var t=GB[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ch(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?YB[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:C1,charCode:function(e){return e.type==="keypress"?Ch(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ch(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ZB=Oi(JB),ez=Sr({},D0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$2=Oi(ez),tz=Sr({},Dp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:C1}),nz=Oi(tz),rz=Sr({},Nd,{propertyName:0,elapsedTime:0,pseudoElement:0}),az=Oi(rz),iz=Sr({},D0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),oz=Oi(iz),sz=[9,13,27,32],M1=Ps&&"CompositionEvent"in window,Nf=null;Ps&&"documentMode"in document&&(Nf=document.documentMode);var lz=Ps&&"TextEvent"in window&&!Nf,DP=Ps&&(!M1||Nf&&8<Nf&&11>=Nf),R2=" ",B2=!1;function PP(e,t){switch(e){case"keyup":return sz.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function TP(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Eu=!1;function cz(e,t){switch(e){case"compositionend":return TP(t);case"keypress":return t.which!==32?null:(B2=!0,R2);case"textInput":return e=t.data,e===R2&&B2?null:e;default:return null}}function uz(e,t){if(Eu)return e==="compositionend"||!M1&&PP(e,t)?(e=EP(),jh=N1=xl=null,Eu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return DP&&t.locale!=="ko"?null:t.data;default:return null}}var dz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function z2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!dz[e.type]:t==="textarea"}function OP(e,t,n,r){uP(r),t=eg(t,"onChange"),0<t.length&&(n=new j1("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var jf=null,Kf=null;function fz(e){WP(e,0)}function P0(e){var t=Tu(e);if(rP(t))return e}function pz(e,t){if(e==="change")return t}var IP=!1;if(Ps){var kv;if(Ps){var Sv="oninput"in document;if(!Sv){var U2=document.createElement("div");U2.setAttribute("oninput","return;"),Sv=typeof U2.oninput=="function"}kv=Sv}else kv=!1;IP=kv&&(!document.documentMode||9<document.documentMode)}function V2(){jf&&(jf.detachEvent("onpropertychange",_P),Kf=jf=null)}function _P(e){if(e.propertyName==="value"&&P0(Kf)){var t=[];OP(t,Kf,e,b1(e)),mP(fz,t)}}function mz(e,t,n){e==="focusin"?(V2(),jf=t,Kf=n,jf.attachEvent("onpropertychange",_P)):e==="focusout"&&V2()}function hz(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return P0(Kf)}function gz(e,t){if(e==="click")return P0(t)}function yz(e,t){if(e==="input"||e==="change")return P0(t)}function vz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wo=typeof Object.is=="function"?Object.is:vz;function Gf(e,t){if(wo(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!zb.call(t,a)||!wo(e[a],t[a]))return!1}return!0}function W2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function H2(e,t){var n=W2(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=W2(n)}}function LP(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?LP(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function FP(){for(var e=window,t=Kh();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Kh(e.document)}return t}function A1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function bz(e){var t=FP(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&LP(n.ownerDocument.documentElement,n)){if(r!==null&&A1(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=H2(n,i);var o=H2(n,r);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xz=Ps&&"documentMode"in document&&11>=document.documentMode,Du=null,ox=null,Cf=null,sx=!1;function q2(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sx||Du==null||Du!==Kh(r)||(r=Du,"selectionStart"in r&&A1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Cf&&Gf(Cf,r)||(Cf=r,r=eg(ox,"onSelect"),0<r.length&&(t=new j1("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Du)))}function Bm(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Pu={animationend:Bm("Animation","AnimationEnd"),animationiteration:Bm("Animation","AnimationIteration"),animationstart:Bm("Animation","AnimationStart"),transitionend:Bm("Transition","TransitionEnd")},Nv={},$P={};Ps&&($P=document.createElement("div").style,"AnimationEvent"in window||(delete Pu.animationend.animation,delete Pu.animationiteration.animation,delete Pu.animationstart.animation),"TransitionEvent"in window||delete Pu.transitionend.transition);function T0(e){if(Nv[e])return Nv[e];if(!Pu[e])return e;var t=Pu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in $P)return Nv[e]=t[n];return e}var RP=T0("animationend"),BP=T0("animationiteration"),zP=T0("animationstart"),UP=T0("transitionend"),VP=new Map,K2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ul(e,t){VP.set(e,t),Zc(t,[e])}for(var jv=0;jv<K2.length;jv++){var Cv=K2[jv],wz=Cv.toLowerCase(),kz=Cv[0].toUpperCase()+Cv.slice(1);Ul(wz,"on"+kz)}Ul(RP,"onAnimationEnd");Ul(BP,"onAnimationIteration");Ul(zP,"onAnimationStart");Ul("dblclick","onDoubleClick");Ul("focusin","onFocus");Ul("focusout","onBlur");Ul(UP,"onTransitionEnd");td("onMouseEnter",["mouseout","mouseover"]);td("onMouseLeave",["mouseout","mouseover"]);td("onPointerEnter",["pointerout","pointerover"]);td("onPointerLeave",["pointerout","pointerover"]);Zc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sz=new Set("cancel close invalid load scroll toggle".split(" ").concat(gf));function G2(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,wB(r,t,void 0,e),e.currentTarget=null}function WP(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;G2(a,s,u),i=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;G2(a,s,u),i=l}}}if(Yh)throw e=nx,Yh=!1,nx=null,e}function ir(e,t){var n=t[fx];n===void 0&&(n=t[fx]=new Set);var r=e+"__bubble";n.has(r)||(HP(t,e,2,!1),n.add(r))}function Mv(e,t,n){var r=0;t&&(r|=4),HP(n,e,r,t)}var zm="_reactListening"+Math.random().toString(36).slice(2);function Yf(e){if(!e[zm]){e[zm]=!0,JD.forEach(function(n){n!=="selectionchange"&&(Sz.has(n)||Mv(n,!1,e),Mv(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zm]||(t[zm]=!0,Mv("selectionchange",!1,t))}}function HP(e,t,n,r){switch(AP(t)){case 1:var a=FB;break;case 4:a=$B;break;default:a=S1}n=a.bind(null,t,n,e),a=void 0,!tx||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Av(e,t,n,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===a||s.nodeType===8&&s.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;o=o.return}for(;s!==null;){if(o=bc(s),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}s=s.parentNode}}r=r.return}mP(function(){var u=i,d=b1(n),f=[];e:{var p=VP.get(e);if(p!==void 0){var m=j1,h=e;switch(e){case"keypress":if(Ch(n)===0)break e;case"keydown":case"keyup":m=ZB;break;case"focusin":h="focus",m=wv;break;case"focusout":h="blur",m=wv;break;case"beforeblur":case"afterblur":m=wv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=L2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=zB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=nz;break;case RP:case BP:case zP:m=WB;break;case UP:m=az;break;case"scroll":m=RB;break;case"wheel":m=oz;break;case"copy":case"cut":case"paste":m=qB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=$2}var v=(t&4)!==0,b=!v&&e==="scroll",y=v?p!==null?p+"Capture":null:p;v=[];for(var x=u,w;x!==null;){w=x;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,y!==null&&(S=Vf(x,y),S!=null&&v.push(Qf(x,S,w)))),b)break;x=x.return}0<v.length&&(p=new m(p,h,null,n,d),f.push({event:p,listeners:v}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==Zb&&(h=n.relatedTarget||n.fromElement)&&(bc(h)||h[Ts]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(h=n.relatedTarget||n.toElement,m=u,h=h?bc(h):null,h!==null&&(b=eu(h),h!==b||h.tag!==5&&h.tag!==6)&&(h=null)):(m=null,h=u),m!==h)){if(v=L2,S="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=$2,S="onPointerLeave",y="onPointerEnter",x="pointer"),b=m==null?p:Tu(m),w=h==null?p:Tu(h),p=new v(S,x+"leave",m,n,d),p.target=b,p.relatedTarget=w,S=null,bc(d)===u&&(v=new v(y,x+"enter",h,n,d),v.target=w,v.relatedTarget=b,S=v),b=S,m&&h)t:{for(v=m,y=h,x=0,w=v;w;w=vu(w))x++;for(w=0,S=y;S;S=vu(S))w++;for(;0<x-w;)v=vu(v),x--;for(;0<w-x;)y=vu(y),w--;for(;x--;){if(v===y||y!==null&&v===y.alternate)break t;v=vu(v),y=vu(y)}v=null}else v=null;m!==null&&Y2(f,p,m,v,!1),h!==null&&b!==null&&Y2(f,b,h,v,!0)}}e:{if(p=u?Tu(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var j=pz;else if(z2(p))if(IP)j=yz;else{j=hz;var N=mz}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(j=gz);if(j&&(j=j(e,u))){OP(f,j,n,d);break e}N&&N(e,p,u),e==="focusout"&&(N=p._wrapperState)&&N.controlled&&p.type==="number"&&Gb(p,"number",p.value)}switch(N=u?Tu(u):window,e){case"focusin":(z2(N)||N.contentEditable==="true")&&(Du=N,ox=u,Cf=null);break;case"focusout":Cf=ox=Du=null;break;case"mousedown":sx=!0;break;case"contextmenu":case"mouseup":case"dragend":sx=!1,q2(f,n,d);break;case"selectionchange":if(xz)break;case"keydown":case"keyup":q2(f,n,d)}var M;if(M1)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Eu?PP(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(DP&&n.locale!=="ko"&&(Eu||P!=="onCompositionStart"?P==="onCompositionEnd"&&Eu&&(M=EP()):(xl=d,N1="value"in xl?xl.value:xl.textContent,Eu=!0)),N=eg(u,P),0<N.length&&(P=new F2(P,e,null,n,d),f.push({event:P,listeners:N}),M?P.data=M:(M=TP(n),M!==null&&(P.data=M)))),(M=lz?cz(e,n):uz(e,n))&&(u=eg(u,"onBeforeInput"),0<u.length&&(d=new F2("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=M))}WP(f,t)})}function Qf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function eg(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Vf(e,n),i!=null&&r.unshift(Qf(e,i,a)),i=Vf(e,t),i!=null&&r.push(Qf(e,i,a))),e=e.return}return r}function vu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Y2(e,t,n,r,a){for(var i=t._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,a?(l=Vf(n,i),l!=null&&o.unshift(Qf(n,l,s))):a||(l=Vf(n,i),l!=null&&o.push(Qf(n,l,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Nz=/\r\n?/g,jz=/\u0000|\uFFFD/g;function Q2(e){return(typeof e=="string"?e:""+e).replace(Nz,`
`).replace(jz,"")}function Um(e,t,n){if(t=Q2(t),Q2(e)!==t&&n)throw Error(tt(425))}function tg(){}var lx=null,cx=null;function ux(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var dx=typeof setTimeout=="function"?setTimeout:void 0,Cz=typeof clearTimeout=="function"?clearTimeout:void 0,X2=typeof Promise=="function"?Promise:void 0,Mz=typeof queueMicrotask=="function"?queueMicrotask:typeof X2<"u"?function(e){return X2.resolve(null).then(e).catch(Az)}:dx;function Az(e){setTimeout(function(){throw e})}function Ev(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),qf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);qf(t)}function Ml(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function J2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var jd=Math.random().toString(36).slice(2),Go="__reactFiber$"+jd,Xf="__reactProps$"+jd,Ts="__reactContainer$"+jd,fx="__reactEvents$"+jd,Ez="__reactListeners$"+jd,Dz="__reactHandles$"+jd;function bc(e){var t=e[Go];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ts]||n[Go]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=J2(e);e!==null;){if(n=e[Go])return n;e=J2(e)}return t}e=n,n=e.parentNode}return null}function Pp(e){return e=e[Go]||e[Ts],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Tu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(tt(33))}function O0(e){return e[Xf]||null}var px=[],Ou=-1;function Vl(e){return{current:e}}function lr(e){0>Ou||(e.current=px[Ou],px[Ou]=null,Ou--)}function tr(e,t){Ou++,px[Ou]=e.current,e.current=t}var Fl={},$a=Vl(Fl),ai=Vl(!1),_c=Fl;function nd(e,t){var n=e.type.contextTypes;if(!n)return Fl;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ii(e){return e=e.childContextTypes,e!=null}function ng(){lr(ai),lr($a)}function Z2(e,t,n){if($a.current!==Fl)throw Error(tt(168));tr($a,t),tr(ai,n)}function qP(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(tt(108,mB(e)||"Unknown",a));return Sr({},n,r)}function rg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fl,_c=$a.current,tr($a,e),tr(ai,ai.current),!0}function ej(e,t,n){var r=e.stateNode;if(!r)throw Error(tt(169));n?(e=qP(e,t,_c),r.__reactInternalMemoizedMergedChildContext=e,lr(ai),lr($a),tr($a,e)):lr(ai),tr(ai,n)}var gs=null,I0=!1,Dv=!1;function KP(e){gs===null?gs=[e]:gs.push(e)}function Pz(e){I0=!0,KP(e)}function Wl(){if(!Dv&&gs!==null){Dv=!0;var e=0,t=$n;try{var n=gs;for($n=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}gs=null,I0=!1}catch(a){throw gs!==null&&(gs=gs.slice(e+1)),vP(x1,Wl),a}finally{$n=t,Dv=!1}}return null}var Iu=[],_u=0,ag=null,ig=0,Wi=[],Hi=0,Lc=null,xs=1,ws="";function dc(e,t){Iu[_u++]=ig,Iu[_u++]=ag,ag=e,ig=t}function GP(e,t,n){Wi[Hi++]=xs,Wi[Hi++]=ws,Wi[Hi++]=Lc,Lc=e;var r=xs;e=ws;var a=32-yo(r)-1;r&=~(1<<a),n+=1;var i=32-yo(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,xs=1<<32-yo(t)+a|n<<a|r,ws=i+e}else xs=1<<i|n<<a|r,ws=e}function E1(e){e.return!==null&&(dc(e,1),GP(e,1,0))}function D1(e){for(;e===ag;)ag=Iu[--_u],Iu[_u]=null,ig=Iu[--_u],Iu[_u]=null;for(;e===Lc;)Lc=Wi[--Hi],Wi[Hi]=null,ws=Wi[--Hi],Wi[Hi]=null,xs=Wi[--Hi],Wi[Hi]=null}var Ci=null,Ni=null,fr=!1,po=null;function YP(e,t){var n=Gi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function tj(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ci=e,Ni=Ml(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ci=e,Ni=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Lc!==null?{id:xs,overflow:ws}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Gi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ci=e,Ni=null,!0):!1;default:return!1}}function mx(e){return(e.mode&1)!==0&&(e.flags&128)===0}function hx(e){if(fr){var t=Ni;if(t){var n=t;if(!tj(e,t)){if(mx(e))throw Error(tt(418));t=Ml(n.nextSibling);var r=Ci;t&&tj(e,t)?YP(r,n):(e.flags=e.flags&-4097|2,fr=!1,Ci=e)}}else{if(mx(e))throw Error(tt(418));e.flags=e.flags&-4097|2,fr=!1,Ci=e}}}function nj(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ci=e}function Vm(e){if(e!==Ci)return!1;if(!fr)return nj(e),fr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ux(e.type,e.memoizedProps)),t&&(t=Ni)){if(mx(e))throw QP(),Error(tt(418));for(;t;)YP(e,t),t=Ml(t.nextSibling)}if(nj(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(tt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ni=Ml(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ni=null}}else Ni=Ci?Ml(e.stateNode.nextSibling):null;return!0}function QP(){for(var e=Ni;e;)e=Ml(e.nextSibling)}function rd(){Ni=Ci=null,fr=!1}function P1(e){po===null?po=[e]:po.push(e)}var Tz=Ws.ReactCurrentBatchConfig;function Qd(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(tt(309));var r=n.stateNode}if(!r)throw Error(tt(147,e));var a=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var s=a.refs;o===null?delete s[i]:s[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(tt(284));if(!n._owner)throw Error(tt(290,e))}return e}function Wm(e,t){throw e=Object.prototype.toString.call(t),Error(tt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rj(e){var t=e._init;return t(e._payload)}function XP(e){function t(y,x){if(e){var w=y.deletions;w===null?(y.deletions=[x],y.flags|=16):w.push(x)}}function n(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function r(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function a(y,x){return y=Pl(y,x),y.index=0,y.sibling=null,y}function i(y,x,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<x?(y.flags|=2,x):w):(y.flags|=2,x)):(y.flags|=1048576,x)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function s(y,x,w,S){return x===null||x.tag!==6?(x=Fv(w,y.mode,S),x.return=y,x):(x=a(x,w),x.return=y,x)}function l(y,x,w,S){var j=w.type;return j===Au?d(y,x,w.props.children,S,w.key):x!==null&&(x.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===fl&&rj(j)===x.type)?(S=a(x,w.props),S.ref=Qd(y,x,w),S.return=y,S):(S=Oh(w.type,w.key,w.props,null,y.mode,S),S.ref=Qd(y,x,w),S.return=y,S)}function u(y,x,w,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=$v(w,y.mode,S),x.return=y,x):(x=a(x,w.children||[]),x.return=y,x)}function d(y,x,w,S,j){return x===null||x.tag!==7?(x=Ec(w,y.mode,S,j),x.return=y,x):(x=a(x,w),x.return=y,x)}function f(y,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Fv(""+x,y.mode,w),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Om:return w=Oh(x.type,x.key,x.props,null,y.mode,w),w.ref=Qd(y,null,x),w.return=y,w;case Mu:return x=$v(x,y.mode,w),x.return=y,x;case fl:var S=x._init;return f(y,S(x._payload),w)}if(mf(x)||Hd(x))return x=Ec(x,y.mode,w,null),x.return=y,x;Wm(y,x)}return null}function p(y,x,w,S){var j=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:s(y,x,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Om:return w.key===j?l(y,x,w,S):null;case Mu:return w.key===j?u(y,x,w,S):null;case fl:return j=w._init,p(y,x,j(w._payload),S)}if(mf(w)||Hd(w))return j!==null?null:d(y,x,w,S,null);Wm(y,w)}return null}function m(y,x,w,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(w)||null,s(x,y,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Om:return y=y.get(S.key===null?w:S.key)||null,l(x,y,S,j);case Mu:return y=y.get(S.key===null?w:S.key)||null,u(x,y,S,j);case fl:var N=S._init;return m(y,x,w,N(S._payload),j)}if(mf(S)||Hd(S))return y=y.get(w)||null,d(x,y,S,j,null);Wm(x,S)}return null}function h(y,x,w,S){for(var j=null,N=null,M=x,P=x=0,B=null;M!==null&&P<w.length;P++){M.index>P?(B=M,M=null):B=M.sibling;var E=p(y,M,w[P],S);if(E===null){M===null&&(M=B);break}e&&M&&E.alternate===null&&t(y,M),x=i(E,x,P),N===null?j=E:N.sibling=E,N=E,M=B}if(P===w.length)return n(y,M),fr&&dc(y,P),j;if(M===null){for(;P<w.length;P++)M=f(y,w[P],S),M!==null&&(x=i(M,x,P),N===null?j=M:N.sibling=M,N=M);return fr&&dc(y,P),j}for(M=r(y,M);P<w.length;P++)B=m(M,y,P,w[P],S),B!==null&&(e&&B.alternate!==null&&M.delete(B.key===null?P:B.key),x=i(B,x,P),N===null?j=B:N.sibling=B,N=B);return e&&M.forEach(function(I){return t(y,I)}),fr&&dc(y,P),j}function v(y,x,w,S){var j=Hd(w);if(typeof j!="function")throw Error(tt(150));if(w=j.call(w),w==null)throw Error(tt(151));for(var N=j=null,M=x,P=x=0,B=null,E=w.next();M!==null&&!E.done;P++,E=w.next()){M.index>P?(B=M,M=null):B=M.sibling;var I=p(y,M,E.value,S);if(I===null){M===null&&(M=B);break}e&&M&&I.alternate===null&&t(y,M),x=i(I,x,P),N===null?j=I:N.sibling=I,N=I,M=B}if(E.done)return n(y,M),fr&&dc(y,P),j;if(M===null){for(;!E.done;P++,E=w.next())E=f(y,E.value,S),E!==null&&(x=i(E,x,P),N===null?j=E:N.sibling=E,N=E);return fr&&dc(y,P),j}for(M=r(y,M);!E.done;P++,E=w.next())E=m(M,y,P,E.value,S),E!==null&&(e&&E.alternate!==null&&M.delete(E.key===null?P:E.key),x=i(E,x,P),N===null?j=E:N.sibling=E,N=E);return e&&M.forEach(function(O){return t(y,O)}),fr&&dc(y,P),j}function b(y,x,w,S){if(typeof w=="object"&&w!==null&&w.type===Au&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Om:e:{for(var j=w.key,N=x;N!==null;){if(N.key===j){if(j=w.type,j===Au){if(N.tag===7){n(y,N.sibling),x=a(N,w.props.children),x.return=y,y=x;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===fl&&rj(j)===N.type){n(y,N.sibling),x=a(N,w.props),x.ref=Qd(y,N,w),x.return=y,y=x;break e}n(y,N);break}else t(y,N);N=N.sibling}w.type===Au?(x=Ec(w.props.children,y.mode,S,w.key),x.return=y,y=x):(S=Oh(w.type,w.key,w.props,null,y.mode,S),S.ref=Qd(y,x,w),S.return=y,y=S)}return o(y);case Mu:e:{for(N=w.key;x!==null;){if(x.key===N)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){n(y,x.sibling),x=a(x,w.children||[]),x.return=y,y=x;break e}else{n(y,x);break}else t(y,x);x=x.sibling}x=$v(w,y.mode,S),x.return=y,y=x}return o(y);case fl:return N=w._init,b(y,x,N(w._payload),S)}if(mf(w))return h(y,x,w,S);if(Hd(w))return v(y,x,w,S);Wm(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(n(y,x.sibling),x=a(x,w),x.return=y,y=x):(n(y,x),x=Fv(w,y.mode,S),x.return=y,y=x),o(y)):n(y,x)}return b}var ad=XP(!0),JP=XP(!1),og=Vl(null),sg=null,Lu=null,T1=null;function O1(){T1=Lu=sg=null}function I1(e){var t=og.current;lr(og),e._currentValue=t}function gx(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Yu(e,t){sg=e,T1=Lu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ni=!0),e.firstContext=null)}function Ji(e){var t=e._currentValue;if(T1!==e)if(e={context:e,memoizedValue:t,next:null},Lu===null){if(sg===null)throw Error(tt(308));Lu=e,sg.dependencies={lanes:0,firstContext:e}}else Lu=Lu.next=e;return t}var xc=null;function _1(e){xc===null?xc=[e]:xc.push(e)}function ZP(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,_1(t)):(n.next=a.next,a.next=n),t.interleaved=n,Os(e,r)}function Os(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var pl=!1;function L1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eT(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Cs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Al(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Mn&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Os(e,n)}return a=r.interleaved,a===null?(t.next=t,_1(r)):(t.next=a.next,a.next=t),r.interleaved=t,Os(e,n)}function Mh(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,w1(e,n)}}function aj(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function lg(e,t,n,r){var a=e.updateQueue;pl=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=l))}if(i!==null){var f=a.baseState;o=0,d=u=l=null,s=i;do{var p=s.lane,m=s.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,v=s;switch(p=t,m=n,v.tag){case 1:if(h=v.payload,typeof h=="function"){f=h.call(m,f,p);break e}f=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=v.payload,p=typeof h=="function"?h.call(m,f,p):h,p==null)break e;f=Sr({},f,p);break e;case 2:pl=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,p=a.effects,p===null?a.effects=[s]:p.push(s))}else m={eventTime:m,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=m,l=f):d=d.next=m,o|=p;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;p=s,s=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(!0);if(d===null&&(l=f),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);$c|=o,e.lanes=o,e.memoizedState=f}}function ij(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(tt(191,a));a.call(r)}}}var Tp={},Xo=Vl(Tp),Jf=Vl(Tp),Zf=Vl(Tp);function wc(e){if(e===Tp)throw Error(tt(174));return e}function F1(e,t){switch(tr(Zf,t),tr(Jf,e),tr(Xo,Tp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Qb(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Qb(t,e)}lr(Xo),tr(Xo,t)}function id(){lr(Xo),lr(Jf),lr(Zf)}function tT(e){wc(Zf.current);var t=wc(Xo.current),n=Qb(t,e.type);t!==n&&(tr(Jf,e),tr(Xo,n))}function $1(e){Jf.current===e&&(lr(Xo),lr(Jf))}var vr=Vl(0);function cg(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Pv=[];function R1(){for(var e=0;e<Pv.length;e++)Pv[e]._workInProgressVersionPrimary=null;Pv.length=0}var Ah=Ws.ReactCurrentDispatcher,Tv=Ws.ReactCurrentBatchConfig,Fc=0,kr=null,Yr=null,sa=null,ug=!1,Mf=!1,ep=0,Oz=0;function Ea(){throw Error(tt(321))}function B1(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!wo(e[n],t[n]))return!1;return!0}function z1(e,t,n,r,a,i){if(Fc=i,kr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ah.current=e===null||e.memoizedState===null?Fz:$z,e=n(r,a),Mf){i=0;do{if(Mf=!1,ep=0,25<=i)throw Error(tt(301));i+=1,sa=Yr=null,t.updateQueue=null,Ah.current=Rz,e=n(r,a)}while(Mf)}if(Ah.current=dg,t=Yr!==null&&Yr.next!==null,Fc=0,sa=Yr=kr=null,ug=!1,t)throw Error(tt(300));return e}function U1(){var e=ep!==0;return ep=0,e}function Ho(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sa===null?kr.memoizedState=sa=e:sa=sa.next=e,sa}function Zi(){if(Yr===null){var e=kr.alternate;e=e!==null?e.memoizedState:null}else e=Yr.next;var t=sa===null?kr.memoizedState:sa.next;if(t!==null)sa=t,Yr=e;else{if(e===null)throw Error(tt(310));Yr=e,e={memoizedState:Yr.memoizedState,baseState:Yr.baseState,baseQueue:Yr.baseQueue,queue:Yr.queue,next:null},sa===null?kr.memoizedState=sa=e:sa=sa.next=e}return sa}function tp(e,t){return typeof t=="function"?t(e):t}function Ov(e){var t=Zi(),n=t.queue;if(n===null)throw Error(tt(311));n.lastRenderedReducer=e;var r=Yr,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var s=o=null,l=null,u=i;do{var d=u.lane;if((Fc&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,o=r):l=l.next=f,kr.lanes|=d,$c|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=s,wo(r,t.memoizedState)||(ni=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do i=a.lane,kr.lanes|=i,$c|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Iv(e){var t=Zi(),n=t.queue;if(n===null)throw Error(tt(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);wo(i,t.memoizedState)||(ni=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function nT(){}function rT(e,t){var n=kr,r=Zi(),a=t(),i=!wo(r.memoizedState,a);if(i&&(r.memoizedState=a,ni=!0),r=r.queue,V1(oT.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||sa!==null&&sa.memoizedState.tag&1){if(n.flags|=2048,np(9,iT.bind(null,n,r,a,t),void 0,null),la===null)throw Error(tt(349));Fc&30||aT(n,t,a)}return a}function aT(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=kr.updateQueue,t===null?(t={lastEffect:null,stores:null},kr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function iT(e,t,n,r){t.value=n,t.getSnapshot=r,sT(t)&&lT(e)}function oT(e,t,n){return n(function(){sT(t)&&lT(e)})}function sT(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!wo(e,n)}catch{return!0}}function lT(e){var t=Os(e,1);t!==null&&vo(t,e,1,-1)}function oj(e){var t=Ho();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tp,lastRenderedState:e},t.queue=e,e=e.dispatch=Lz.bind(null,kr,e),[t.memoizedState,e]}function np(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=kr.updateQueue,t===null?(t={lastEffect:null,stores:null},kr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function cT(){return Zi().memoizedState}function Eh(e,t,n,r){var a=Ho();kr.flags|=e,a.memoizedState=np(1|t,n,void 0,r===void 0?null:r)}function _0(e,t,n,r){var a=Zi();r=r===void 0?null:r;var i=void 0;if(Yr!==null){var o=Yr.memoizedState;if(i=o.destroy,r!==null&&B1(r,o.deps)){a.memoizedState=np(t,n,i,r);return}}kr.flags|=e,a.memoizedState=np(1|t,n,i,r)}function sj(e,t){return Eh(8390656,8,e,t)}function V1(e,t){return _0(2048,8,e,t)}function uT(e,t){return _0(4,2,e,t)}function dT(e,t){return _0(4,4,e,t)}function fT(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pT(e,t,n){return n=n!=null?n.concat([e]):null,_0(4,4,fT.bind(null,t,e),n)}function W1(){}function mT(e,t){var n=Zi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&B1(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function hT(e,t){var n=Zi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&B1(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function gT(e,t,n){return Fc&21?(wo(n,t)||(n=wP(),kr.lanes|=n,$c|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ni=!0),e.memoizedState=n)}function Iz(e,t){var n=$n;$n=n!==0&&4>n?n:4,e(!0);var r=Tv.transition;Tv.transition={};try{e(!1),t()}finally{$n=n,Tv.transition=r}}function yT(){return Zi().memoizedState}function _z(e,t,n){var r=Dl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},vT(e))bT(t,n);else if(n=ZP(e,t,n,r),n!==null){var a=Ka();vo(n,e,r,a),xT(n,t,r)}}function Lz(e,t,n){var r=Dl(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(vT(e))bT(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,s=i(o,n);if(a.hasEagerState=!0,a.eagerState=s,wo(s,o)){var l=t.interleaved;l===null?(a.next=a,_1(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}n=ZP(e,t,a,r),n!==null&&(a=Ka(),vo(n,e,r,a),xT(n,t,r))}}function vT(e){var t=e.alternate;return e===kr||t!==null&&t===kr}function bT(e,t){Mf=ug=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function xT(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,w1(e,n)}}var dg={readContext:Ji,useCallback:Ea,useContext:Ea,useEffect:Ea,useImperativeHandle:Ea,useInsertionEffect:Ea,useLayoutEffect:Ea,useMemo:Ea,useReducer:Ea,useRef:Ea,useState:Ea,useDebugValue:Ea,useDeferredValue:Ea,useTransition:Ea,useMutableSource:Ea,useSyncExternalStore:Ea,useId:Ea,unstable_isNewReconciler:!1},Fz={readContext:Ji,useCallback:function(e,t){return Ho().memoizedState=[e,t===void 0?null:t],e},useContext:Ji,useEffect:sj,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Eh(4194308,4,fT.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Eh(4194308,4,e,t)},useInsertionEffect:function(e,t){return Eh(4,2,e,t)},useMemo:function(e,t){var n=Ho();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ho();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=_z.bind(null,kr,e),[r.memoizedState,e]},useRef:function(e){var t=Ho();return e={current:e},t.memoizedState=e},useState:oj,useDebugValue:W1,useDeferredValue:function(e){return Ho().memoizedState=e},useTransition:function(){var e=oj(!1),t=e[0];return e=Iz.bind(null,e[1]),Ho().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=kr,a=Ho();if(fr){if(n===void 0)throw Error(tt(407));n=n()}else{if(n=t(),la===null)throw Error(tt(349));Fc&30||aT(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,sj(oT.bind(null,r,i,e),[e]),r.flags|=2048,np(9,iT.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Ho(),t=la.identifierPrefix;if(fr){var n=ws,r=xs;n=(r&~(1<<32-yo(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ep++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Oz++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$z={readContext:Ji,useCallback:mT,useContext:Ji,useEffect:V1,useImperativeHandle:pT,useInsertionEffect:uT,useLayoutEffect:dT,useMemo:hT,useReducer:Ov,useRef:cT,useState:function(){return Ov(tp)},useDebugValue:W1,useDeferredValue:function(e){var t=Zi();return gT(t,Yr.memoizedState,e)},useTransition:function(){var e=Ov(tp)[0],t=Zi().memoizedState;return[e,t]},useMutableSource:nT,useSyncExternalStore:rT,useId:yT,unstable_isNewReconciler:!1},Rz={readContext:Ji,useCallback:mT,useContext:Ji,useEffect:V1,useImperativeHandle:pT,useInsertionEffect:uT,useLayoutEffect:dT,useMemo:hT,useReducer:Iv,useRef:cT,useState:function(){return Iv(tp)},useDebugValue:W1,useDeferredValue:function(e){var t=Zi();return Yr===null?t.memoizedState=e:gT(t,Yr.memoizedState,e)},useTransition:function(){var e=Iv(tp)[0],t=Zi().memoizedState;return[e,t]},useMutableSource:nT,useSyncExternalStore:rT,useId:yT,unstable_isNewReconciler:!1};function uo(e,t){if(e&&e.defaultProps){t=Sr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function yx(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Sr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var L0={isMounted:function(e){return(e=e._reactInternals)?eu(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ka(),a=Dl(e),i=Cs(r,a);i.payload=t,n!=null&&(i.callback=n),t=Al(e,i,a),t!==null&&(vo(t,e,a,r),Mh(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ka(),a=Dl(e),i=Cs(r,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Al(e,i,a),t!==null&&(vo(t,e,a,r),Mh(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ka(),r=Dl(e),a=Cs(n,r);a.tag=2,t!=null&&(a.callback=t),t=Al(e,a,r),t!==null&&(vo(t,e,r,n),Mh(t,e,r))}};function lj(e,t,n,r,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Gf(n,r)||!Gf(a,i):!0}function wT(e,t,n){var r=!1,a=Fl,i=t.contextType;return typeof i=="object"&&i!==null?i=Ji(i):(a=ii(t)?_c:$a.current,r=t.contextTypes,i=(r=r!=null)?nd(e,a):Fl),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=L0,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function cj(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&L0.enqueueReplaceState(t,t.state,null)}function vx(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},L1(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Ji(i):(i=ii(t)?_c:$a.current,a.context=nd(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(yx(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&L0.enqueueReplaceState(a,a.state,null),lg(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function od(e,t){try{var n="",r=t;do n+=pB(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function _v(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function bx(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Bz=typeof WeakMap=="function"?WeakMap:Map;function kT(e,t,n){n=Cs(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){pg||(pg=!0,Ax=r),bx(e,t)},n}function ST(e,t,n){n=Cs(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){bx(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){bx(e,t),typeof r!="function"&&(El===null?El=new Set([this]):El.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function uj(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Bz;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=e8.bind(null,e,t,n),t.then(e,e))}function dj(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fj(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Cs(-1,1),t.tag=2,Al(n,t,1))),n.lanes|=1),e)}var zz=Ws.ReactCurrentOwner,ni=!1;function Wa(e,t,n,r){t.child=e===null?JP(t,null,n,r):ad(t,e.child,n,r)}function pj(e,t,n,r,a){n=n.render;var i=t.ref;return Yu(t,a),r=z1(e,t,n,r,i,a),n=U1(),e!==null&&!ni?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Is(e,t,a)):(fr&&n&&E1(t),t.flags|=1,Wa(e,t,r,a),t.child)}function mj(e,t,n,r,a){if(e===null){var i=n.type;return typeof i=="function"&&!J1(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,NT(e,t,i,r,a)):(e=Oh(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Gf,n(o,r)&&e.ref===t.ref)return Is(e,t,a)}return t.flags|=1,e=Pl(i,r),e.ref=t.ref,e.return=t,t.child=e}function NT(e,t,n,r,a){if(e!==null){var i=e.memoizedProps;if(Gf(i,r)&&e.ref===t.ref)if(ni=!1,t.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(ni=!0);else return t.lanes=e.lanes,Is(e,t,a)}return xx(e,t,n,r,a)}function jT(e,t,n){var r=t.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},tr($u,wi),wi|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,tr($u,wi),wi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,tr($u,wi),wi|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,tr($u,wi),wi|=r;return Wa(e,t,a,n),t.child}function CT(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xx(e,t,n,r,a){var i=ii(n)?_c:$a.current;return i=nd(t,i),Yu(t,a),n=z1(e,t,n,r,i,a),r=U1(),e!==null&&!ni?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Is(e,t,a)):(fr&&r&&E1(t),t.flags|=1,Wa(e,t,n,a),t.child)}function hj(e,t,n,r,a){if(ii(n)){var i=!0;rg(t)}else i=!1;if(Yu(t,a),t.stateNode===null)Dh(e,t),wT(t,n,r),vx(t,n,r,a),r=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ji(u):(u=ii(n)?_c:$a.current,u=nd(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==u)&&cj(t,o,r,u),pl=!1;var p=t.memoizedState;o.state=p,lg(t,r,o,a),l=t.memoizedState,s!==r||p!==l||ai.current||pl?(typeof d=="function"&&(yx(t,n,d,r),l=t.memoizedState),(s=pl||lj(t,n,s,r,p,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,eT(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:uo(t.type,s),o.props=u,f=t.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ji(l):(l=ii(n)?_c:$a.current,l=nd(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||p!==l)&&cj(t,o,r,l),pl=!1,p=t.memoizedState,o.state=p,lg(t,r,o,a);var h=t.memoizedState;s!==f||p!==h||ai.current||pl?(typeof m=="function"&&(yx(t,n,m,r),h=t.memoizedState),(u=pl||lj(t,n,u,r,p,h,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,h,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,h,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return wx(e,t,n,r,i,a)}function wx(e,t,n,r,a,i){CT(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return a&&ej(t,n,!1),Is(e,t,i);r=t.stateNode,zz.current=t;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=ad(t,e.child,null,i),t.child=ad(t,null,s,i)):Wa(e,t,s,i),t.memoizedState=r.state,a&&ej(t,n,!0),t.child}function MT(e){var t=e.stateNode;t.pendingContext?Z2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Z2(e,t.context,!1),F1(e,t.containerInfo)}function gj(e,t,n,r,a){return rd(),P1(a),t.flags|=256,Wa(e,t,n,r),t.child}var kx={dehydrated:null,treeContext:null,retryLane:0};function Sx(e){return{baseLanes:e,cachePool:null,transitions:null}}function AT(e,t,n){var r=t.pendingProps,a=vr.current,i=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(a&2)!==0),s?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),tr(vr,a&1),e===null)return hx(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=R0(o,r,0,null),e=Ec(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Sx(n),t.memoizedState=kx,e):H1(t,o));if(a=e.memoizedState,a!==null&&(s=a.dehydrated,s!==null))return Uz(e,t,o,r,s,a,n);if(i){i=r.fallback,o=t.mode,a=e.child,s=a.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Pl(a,l),r.subtreeFlags=a.subtreeFlags&14680064),s!==null?i=Pl(s,i):(i=Ec(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Sx(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=kx,r}return i=e.child,e=i.sibling,r=Pl(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function H1(e,t){return t=R0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Hm(e,t,n,r){return r!==null&&P1(r),ad(t,e.child,null,n),e=H1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Uz(e,t,n,r,a,i,o){if(n)return t.flags&256?(t.flags&=-257,r=_v(Error(tt(422))),Hm(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=R0({mode:"visible",children:r.children},a,0,null),i=Ec(i,a,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&ad(t,e.child,null,o),t.child.memoizedState=Sx(o),t.memoizedState=kx,i);if(!(t.mode&1))return Hm(e,t,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var s=r.dgst;return r=s,i=Error(tt(419)),r=_v(i,r,void 0),Hm(e,t,o,r)}if(s=(o&e.childLanes)!==0,ni||s){if(r=la,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Os(e,a),vo(r,e,a,-1))}return X1(),r=_v(Error(tt(421))),Hm(e,t,o,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=t8.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Ni=Ml(a.nextSibling),Ci=t,fr=!0,po=null,e!==null&&(Wi[Hi++]=xs,Wi[Hi++]=ws,Wi[Hi++]=Lc,xs=e.id,ws=e.overflow,Lc=t),t=H1(t,r.children),t.flags|=4096,t)}function yj(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),gx(e.return,t,n)}function Lv(e,t,n,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function ET(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(Wa(e,t,r.children,n),r=vr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yj(e,n,t);else if(e.tag===19)yj(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(tr(vr,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&cg(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Lv(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&cg(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Lv(t,!0,n,null,i);break;case"together":Lv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Dh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Is(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),$c|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(tt(153));if(t.child!==null){for(e=t.child,n=Pl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Pl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Vz(e,t,n){switch(t.tag){case 3:MT(t),rd();break;case 5:tT(t);break;case 1:ii(t.type)&&rg(t);break;case 4:F1(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;tr(og,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(tr(vr,vr.current&1),t.flags|=128,null):n&t.child.childLanes?AT(e,t,n):(tr(vr,vr.current&1),e=Is(e,t,n),e!==null?e.sibling:null);tr(vr,vr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ET(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),tr(vr,vr.current),r)break;return null;case 22:case 23:return t.lanes=0,jT(e,t,n)}return Is(e,t,n)}var DT,Nx,PT,TT;DT=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Nx=function(){};PT=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,wc(Xo.current);var i=null;switch(n){case"input":a=qb(e,a),r=qb(e,r),i=[];break;case"select":a=Sr({},a,{value:void 0}),r=Sr({},r,{value:void 0}),i=[];break;case"textarea":a=Yb(e,a),r=Yb(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=tg)}Xb(n,r);var o;n=null;for(u in a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var s=a[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zf.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(s=a!=null?a[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zf.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ir("scroll",e),i||s===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};TT=function(e,t,n,r){n!==r&&(t.flags|=4)};function Xd(e,t){if(!fr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Da(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Wz(e,t,n){var r=t.pendingProps;switch(D1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Da(t),null;case 1:return ii(t.type)&&ng(),Da(t),null;case 3:return r=t.stateNode,id(),lr(ai),lr($a),R1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Vm(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,po!==null&&(Px(po),po=null))),Nx(e,t),Da(t),null;case 5:$1(t);var a=wc(Zf.current);if(n=t.type,e!==null&&t.stateNode!=null)PT(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(tt(166));return Da(t),null}if(e=wc(Xo.current),Vm(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Go]=t,r[Xf]=i,e=(t.mode&1)!==0,n){case"dialog":ir("cancel",r),ir("close",r);break;case"iframe":case"object":case"embed":ir("load",r);break;case"video":case"audio":for(a=0;a<gf.length;a++)ir(gf[a],r);break;case"source":ir("error",r);break;case"img":case"image":case"link":ir("error",r),ir("load",r);break;case"details":ir("toggle",r);break;case"input":C2(r,i),ir("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ir("invalid",r);break;case"textarea":A2(r,i),ir("invalid",r)}Xb(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];o==="children"?typeof s=="string"?r.textContent!==s&&(i.suppressHydrationWarning!==!0&&Um(r.textContent,s,e),a=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(i.suppressHydrationWarning!==!0&&Um(r.textContent,s,e),a=["children",""+s]):zf.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&ir("scroll",r)}switch(n){case"input":Im(r),M2(r,i,!0);break;case"textarea":Im(r),E2(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=tg)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=oP(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Go]=t,e[Xf]=r,DT(e,t,!1,!1),t.stateNode=e;e:{switch(o=Jb(n,r),n){case"dialog":ir("cancel",e),ir("close",e),a=r;break;case"iframe":case"object":case"embed":ir("load",e),a=r;break;case"video":case"audio":for(a=0;a<gf.length;a++)ir(gf[a],e);a=r;break;case"source":ir("error",e),a=r;break;case"img":case"image":case"link":ir("error",e),ir("load",e),a=r;break;case"details":ir("toggle",e),a=r;break;case"input":C2(e,r),a=qb(e,r),ir("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=Sr({},r,{value:void 0}),ir("invalid",e);break;case"textarea":A2(e,r),a=Yb(e,r),ir("invalid",e);break;default:a=r}Xb(n,a),s=a;for(i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="style"?cP(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&sP(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Uf(e,l):typeof l=="number"&&Uf(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(zf.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ir("scroll",e):l!=null&&h1(e,i,l,o))}switch(n){case"input":Im(e),M2(e,r,!1);break;case"textarea":Im(e),E2(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ll(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Hu(e,!!r.multiple,i,!1):r.defaultValue!=null&&Hu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=tg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Da(t),null;case 6:if(e&&t.stateNode!=null)TT(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(tt(166));if(n=wc(Zf.current),wc(Xo.current),Vm(t)){if(r=t.stateNode,n=t.memoizedProps,r[Go]=t,(i=r.nodeValue!==n)&&(e=Ci,e!==null))switch(e.tag){case 3:Um(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Um(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Go]=t,t.stateNode=r}return Da(t),null;case 13:if(lr(vr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(fr&&Ni!==null&&t.mode&1&&!(t.flags&128))QP(),rd(),t.flags|=98560,i=!1;else if(i=Vm(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(tt(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(tt(317));i[Go]=t}else rd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Da(t),i=!1}else po!==null&&(Px(po),po=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||vr.current&1?Xr===0&&(Xr=3):X1())),t.updateQueue!==null&&(t.flags|=4),Da(t),null);case 4:return id(),Nx(e,t),e===null&&Yf(t.stateNode.containerInfo),Da(t),null;case 10:return I1(t.type._context),Da(t),null;case 17:return ii(t.type)&&ng(),Da(t),null;case 19:if(lr(vr),i=t.memoizedState,i===null)return Da(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Xd(i,!1);else{if(Xr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=cg(e),o!==null){for(t.flags|=128,Xd(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return tr(vr,vr.current&1|2),t.child}e=e.sibling}i.tail!==null&&Tr()>sd&&(t.flags|=128,r=!0,Xd(i,!1),t.lanes=4194304)}else{if(!r)if(e=cg(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Xd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!fr)return Da(t),null}else 2*Tr()-i.renderingStartTime>sd&&n!==1073741824&&(t.flags|=128,r=!0,Xd(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Tr(),t.sibling=null,n=vr.current,tr(vr,r?n&1|2:n&1),t):(Da(t),null);case 22:case 23:return Q1(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?wi&1073741824&&(Da(t),t.subtreeFlags&6&&(t.flags|=8192)):Da(t),null;case 24:return null;case 25:return null}throw Error(tt(156,t.tag))}function Hz(e,t){switch(D1(t),t.tag){case 1:return ii(t.type)&&ng(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return id(),lr(ai),lr($a),R1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $1(t),null;case 13:if(lr(vr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(tt(340));rd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return lr(vr),null;case 4:return id(),null;case 10:return I1(t.type._context),null;case 22:case 23:return Q1(),null;case 24:return null;default:return null}}var qm=!1,Oa=!1,qz=typeof WeakSet=="function"?WeakSet:Set,Nt=null;function Fu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Cr(e,t,r)}else n.current=null}function OT(e,t,n){try{n()}catch(r){Cr(e,t,r)}}var vj=!1;function Kz(e,t){if(lx=Jh,e=FP(),A1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(s=o+a),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===n&&++u===a&&(s=o),p===i&&++d===r&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(cx={focusedElem:e,selectionRange:n},Jh=!1,Nt=t;Nt!==null;)if(t=Nt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Nt=e;else for(;Nt!==null;){t=Nt;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var v=h.memoizedProps,b=h.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:uo(t.type,v),b);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(tt(163))}}catch(S){Cr(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,Nt=e;break}Nt=t.return}return h=vj,vj=!1,h}function Af(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&OT(t,n,i)}a=a.next}while(a!==r)}}function F0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function jx(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function IT(e){var t=e.alternate;t!==null&&(e.alternate=null,IT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Go],delete t[Xf],delete t[fx],delete t[Ez],delete t[Dz])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _T(e){return e.tag===5||e.tag===3||e.tag===4}function bj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_T(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cx(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=tg));else if(r!==4&&(e=e.child,e!==null))for(Cx(e,t,n),e=e.sibling;e!==null;)Cx(e,t,n),e=e.sibling}function Mx(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Mx(e,t,n),e=e.sibling;e!==null;)Mx(e,t,n),e=e.sibling}var ba=null,fo=!1;function ll(e,t,n){for(n=n.child;n!==null;)LT(e,t,n),n=n.sibling}function LT(e,t,n){if(Qo&&typeof Qo.onCommitFiberUnmount=="function")try{Qo.onCommitFiberUnmount(E0,n)}catch{}switch(n.tag){case 5:Oa||Fu(n,t);case 6:var r=ba,a=fo;ba=null,ll(e,t,n),ba=r,fo=a,ba!==null&&(fo?(e=ba,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ba.removeChild(n.stateNode));break;case 18:ba!==null&&(fo?(e=ba,n=n.stateNode,e.nodeType===8?Ev(e.parentNode,n):e.nodeType===1&&Ev(e,n),qf(e)):Ev(ba,n.stateNode));break;case 4:r=ba,a=fo,ba=n.stateNode.containerInfo,fo=!0,ll(e,t,n),ba=r,fo=a;break;case 0:case 11:case 14:case 15:if(!Oa&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&OT(n,t,o),a=a.next}while(a!==r)}ll(e,t,n);break;case 1:if(!Oa&&(Fu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Cr(n,t,s)}ll(e,t,n);break;case 21:ll(e,t,n);break;case 22:n.mode&1?(Oa=(r=Oa)||n.memoizedState!==null,ll(e,t,n),Oa=r):ll(e,t,n);break;default:ll(e,t,n)}}function xj(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new qz),t.forEach(function(r){var a=n8.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function co(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:ba=s.stateNode,fo=!1;break e;case 3:ba=s.stateNode.containerInfo,fo=!0;break e;case 4:ba=s.stateNode.containerInfo,fo=!0;break e}s=s.return}if(ba===null)throw Error(tt(160));LT(i,o,a),ba=null,fo=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(u){Cr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)FT(t,e),t=t.sibling}function FT(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(co(t,e),zo(e),r&4){try{Af(3,e,e.return),F0(3,e)}catch(v){Cr(e,e.return,v)}try{Af(5,e,e.return)}catch(v){Cr(e,e.return,v)}}break;case 1:co(t,e),zo(e),r&512&&n!==null&&Fu(n,n.return);break;case 5:if(co(t,e),zo(e),r&512&&n!==null&&Fu(n,n.return),e.flags&32){var a=e.stateNode;try{Uf(a,"")}catch(v){Cr(e,e.return,v)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&i.type==="radio"&&i.name!=null&&aP(a,i),Jb(s,o);var u=Jb(s,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?cP(a,f):d==="dangerouslySetInnerHTML"?sP(a,f):d==="children"?Uf(a,f):h1(a,d,f,u)}switch(s){case"input":Kb(a,i);break;case"textarea":iP(a,i);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Hu(a,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?Hu(a,!!i.multiple,i.defaultValue,!0):Hu(a,!!i.multiple,i.multiple?[]:"",!1))}a[Xf]=i}catch(v){Cr(e,e.return,v)}}break;case 6:if(co(t,e),zo(e),r&4){if(e.stateNode===null)throw Error(tt(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(v){Cr(e,e.return,v)}}break;case 3:if(co(t,e),zo(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qf(t.containerInfo)}catch(v){Cr(e,e.return,v)}break;case 4:co(t,e),zo(e);break;case 13:co(t,e),zo(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(G1=Tr())),r&4&&xj(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Oa=(u=Oa)||d,co(t,e),Oa=u):co(t,e),zo(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Nt=e,d=e.child;d!==null;){for(f=Nt=d;Nt!==null;){switch(p=Nt,m=p.child,p.tag){case 0:case 11:case 14:case 15:Af(4,p,p.return);break;case 1:Fu(p,p.return);var h=p.stateNode;if(typeof h.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(v){Cr(r,n,v)}}break;case 5:Fu(p,p.return);break;case 22:if(p.memoizedState!==null){kj(f);continue}}m!==null?(m.return=p,Nt=m):kj(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=lP("display",o))}catch(v){Cr(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Cr(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:co(t,e),zo(e),r&4&&xj(e);break;case 21:break;default:co(t,e),zo(e)}}function zo(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(_T(n)){var r=n;break e}n=n.return}throw Error(tt(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(Uf(a,""),r.flags&=-33);var i=bj(e);Mx(e,i,a);break;case 3:case 4:var o=r.stateNode.containerInfo,s=bj(e);Cx(e,s,o);break;default:throw Error(tt(161))}}catch(l){Cr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Gz(e,t,n){Nt=e,$T(e)}function $T(e,t,n){for(var r=(e.mode&1)!==0;Nt!==null;){var a=Nt,i=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||qm;if(!o){var s=a.alternate,l=s!==null&&s.memoizedState!==null||Oa;s=qm;var u=Oa;if(qm=o,(Oa=l)&&!u)for(Nt=a;Nt!==null;)o=Nt,l=o.child,o.tag===22&&o.memoizedState!==null?Sj(a):l!==null?(l.return=o,Nt=l):Sj(a);for(;i!==null;)Nt=i,$T(i),i=i.sibling;Nt=a,qm=s,Oa=u}wj(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Nt=i):wj(e)}}function wj(e){for(;Nt!==null;){var t=Nt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Oa||F0(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Oa)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:uo(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&ij(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ij(t,o,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&qf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(tt(163))}Oa||t.flags&512&&jx(t)}catch(p){Cr(t,t.return,p)}}if(t===e){Nt=null;break}if(n=t.sibling,n!==null){n.return=t.return,Nt=n;break}Nt=t.return}}function kj(e){for(;Nt!==null;){var t=Nt;if(t===e){Nt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Nt=n;break}Nt=t.return}}function Sj(e){for(;Nt!==null;){var t=Nt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{F0(4,t)}catch(l){Cr(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(l){Cr(t,a,l)}}var i=t.return;try{jx(t)}catch(l){Cr(t,i,l)}break;case 5:var o=t.return;try{jx(t)}catch(l){Cr(t,o,l)}}}catch(l){Cr(t,t.return,l)}if(t===e){Nt=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Nt=s;break}Nt=t.return}}var Yz=Math.ceil,fg=Ws.ReactCurrentDispatcher,q1=Ws.ReactCurrentOwner,Qi=Ws.ReactCurrentBatchConfig,Mn=0,la=null,zr=null,Sa=0,wi=0,$u=Vl(0),Xr=0,rp=null,$c=0,$0=0,K1=0,Ef=null,ti=null,G1=0,sd=1/0,hs=null,pg=!1,Ax=null,El=null,Km=!1,wl=null,mg=0,Df=0,Ex=null,Ph=-1,Th=0;function Ka(){return Mn&6?Tr():Ph!==-1?Ph:Ph=Tr()}function Dl(e){return e.mode&1?Mn&2&&Sa!==0?Sa&-Sa:Tz.transition!==null?(Th===0&&(Th=wP()),Th):(e=$n,e!==0||(e=window.event,e=e===void 0?16:AP(e.type)),e):1}function vo(e,t,n,r){if(50<Df)throw Df=0,Ex=null,Error(tt(185));Ep(e,n,r),(!(Mn&2)||e!==la)&&(e===la&&(!(Mn&2)&&($0|=n),Xr===4&&vl(e,Sa)),oi(e,r),n===1&&Mn===0&&!(t.mode&1)&&(sd=Tr()+500,I0&&Wl()))}function oi(e,t){var n=e.callbackNode;TB(e,t);var r=Xh(e,e===la?Sa:0);if(r===0)n!==null&&T2(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&T2(n),t===1)e.tag===0?Pz(Nj.bind(null,e)):KP(Nj.bind(null,e)),Mz(function(){!(Mn&6)&&Wl()}),n=null;else{switch(kP(r)){case 1:n=x1;break;case 4:n=bP;break;case 16:n=Qh;break;case 536870912:n=xP;break;default:n=Qh}n=qT(n,RT.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function RT(e,t){if(Ph=-1,Th=0,Mn&6)throw Error(tt(327));var n=e.callbackNode;if(Qu()&&e.callbackNode!==n)return null;var r=Xh(e,e===la?Sa:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=hg(e,r);else{t=r;var a=Mn;Mn|=2;var i=zT();(la!==e||Sa!==t)&&(hs=null,sd=Tr()+500,Ac(e,t));do try{Jz();break}catch(s){BT(e,s)}while(!0);O1(),fg.current=i,Mn=a,zr!==null?t=0:(la=null,Sa=0,t=Xr)}if(t!==0){if(t===2&&(a=rx(e),a!==0&&(r=a,t=Dx(e,a))),t===1)throw n=rp,Ac(e,0),vl(e,r),oi(e,Tr()),n;if(t===6)vl(e,r);else{if(a=e.current.alternate,!(r&30)&&!Qz(a)&&(t=hg(e,r),t===2&&(i=rx(e),i!==0&&(r=i,t=Dx(e,i))),t===1))throw n=rp,Ac(e,0),vl(e,r),oi(e,Tr()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(tt(345));case 2:fc(e,ti,hs);break;case 3:if(vl(e,r),(r&130023424)===r&&(t=G1+500-Tr(),10<t)){if(Xh(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){Ka(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=dx(fc.bind(null,e,ti,hs),t);break}fc(e,ti,hs);break;case 4:if(vl(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-yo(r);i=1<<o,o=t[o],o>a&&(a=o),r&=~i}if(r=a,r=Tr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Yz(r/1960))-r,10<r){e.timeoutHandle=dx(fc.bind(null,e,ti,hs),r);break}fc(e,ti,hs);break;case 5:fc(e,ti,hs);break;default:throw Error(tt(329))}}}return oi(e,Tr()),e.callbackNode===n?RT.bind(null,e):null}function Dx(e,t){var n=Ef;return e.current.memoizedState.isDehydrated&&(Ac(e,t).flags|=256),e=hg(e,t),e!==2&&(t=ti,ti=n,t!==null&&Px(t)),e}function Px(e){ti===null?ti=e:ti.push.apply(ti,e)}function Qz(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!wo(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vl(e,t){for(t&=~K1,t&=~$0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-yo(t),r=1<<n;e[n]=-1,t&=~r}}function Nj(e){if(Mn&6)throw Error(tt(327));Qu();var t=Xh(e,0);if(!(t&1))return oi(e,Tr()),null;var n=hg(e,t);if(e.tag!==0&&n===2){var r=rx(e);r!==0&&(t=r,n=Dx(e,r))}if(n===1)throw n=rp,Ac(e,0),vl(e,t),oi(e,Tr()),n;if(n===6)throw Error(tt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fc(e,ti,hs),oi(e,Tr()),null}function Y1(e,t){var n=Mn;Mn|=1;try{return e(t)}finally{Mn=n,Mn===0&&(sd=Tr()+500,I0&&Wl())}}function Rc(e){wl!==null&&wl.tag===0&&!(Mn&6)&&Qu();var t=Mn;Mn|=1;var n=Qi.transition,r=$n;try{if(Qi.transition=null,$n=1,e)return e()}finally{$n=r,Qi.transition=n,Mn=t,!(Mn&6)&&Wl()}}function Q1(){wi=$u.current,lr($u)}function Ac(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Cz(n)),zr!==null)for(n=zr.return;n!==null;){var r=n;switch(D1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ng();break;case 3:id(),lr(ai),lr($a),R1();break;case 5:$1(r);break;case 4:id();break;case 13:lr(vr);break;case 19:lr(vr);break;case 10:I1(r.type._context);break;case 22:case 23:Q1()}n=n.return}if(la=e,zr=e=Pl(e.current,null),Sa=wi=t,Xr=0,rp=null,K1=$0=$c=0,ti=Ef=null,xc!==null){for(t=0;t<xc.length;t++)if(n=xc[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,r.next=o}n.pending=r}xc=null}return e}function BT(e,t){do{var n=zr;try{if(O1(),Ah.current=dg,ug){for(var r=kr.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}ug=!1}if(Fc=0,sa=Yr=kr=null,Mf=!1,ep=0,q1.current=null,n===null||n.return===null){Xr=1,rp=t,zr=null;break}e:{var i=e,o=n.return,s=n,l=t;if(t=Sa,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=dj(o);if(m!==null){m.flags&=-257,fj(m,o,s,i,t),m.mode&1&&uj(i,u,t),t=m,l=u;var h=t.updateQueue;if(h===null){var v=new Set;v.add(l),t.updateQueue=v}else h.add(l);break e}else{if(!(t&1)){uj(i,u,t),X1();break e}l=Error(tt(426))}}else if(fr&&s.mode&1){var b=dj(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),fj(b,o,s,i,t),P1(od(l,s));break e}}i=l=od(l,s),Xr!==4&&(Xr=2),Ef===null?Ef=[i]:Ef.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=kT(i,l,t);aj(i,y);break e;case 1:s=l;var x=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(El===null||!El.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=ST(i,s,t);aj(i,S);break e}}i=i.return}while(i!==null)}VT(n)}catch(j){t=j,zr===n&&n!==null&&(zr=n=n.return);continue}break}while(!0)}function zT(){var e=fg.current;return fg.current=dg,e===null?dg:e}function X1(){(Xr===0||Xr===3||Xr===2)&&(Xr=4),la===null||!($c&268435455)&&!($0&268435455)||vl(la,Sa)}function hg(e,t){var n=Mn;Mn|=2;var r=zT();(la!==e||Sa!==t)&&(hs=null,Ac(e,t));do try{Xz();break}catch(a){BT(e,a)}while(!0);if(O1(),Mn=n,fg.current=r,zr!==null)throw Error(tt(261));return la=null,Sa=0,Xr}function Xz(){for(;zr!==null;)UT(zr)}function Jz(){for(;zr!==null&&!SB();)UT(zr)}function UT(e){var t=HT(e.alternate,e,wi);e.memoizedProps=e.pendingProps,t===null?VT(e):zr=t,q1.current=null}function VT(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Hz(n,t),n!==null){n.flags&=32767,zr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Xr=6,zr=null;return}}else if(n=Wz(n,t,wi),n!==null){zr=n;return}if(t=t.sibling,t!==null){zr=t;return}zr=t=e}while(t!==null);Xr===0&&(Xr=5)}function fc(e,t,n){var r=$n,a=Qi.transition;try{Qi.transition=null,$n=1,Zz(e,t,n,r)}finally{Qi.transition=a,$n=r}return null}function Zz(e,t,n,r){do Qu();while(wl!==null);if(Mn&6)throw Error(tt(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(tt(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(OB(e,i),e===la&&(zr=la=null,Sa=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Km||(Km=!0,qT(Qh,function(){return Qu(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Qi.transition,Qi.transition=null;var o=$n;$n=1;var s=Mn;Mn|=4,q1.current=null,Kz(e,n),FT(n,e),bz(cx),Jh=!!lx,cx=lx=null,e.current=n,Gz(n),NB(),Mn=s,$n=o,Qi.transition=i}else e.current=n;if(Km&&(Km=!1,wl=e,mg=a),i=e.pendingLanes,i===0&&(El=null),MB(n.stateNode),oi(e,Tr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(pg)throw pg=!1,e=Ax,Ax=null,e;return mg&1&&e.tag!==0&&Qu(),i=e.pendingLanes,i&1?e===Ex?Df++:(Df=0,Ex=e):Df=0,Wl(),null}function Qu(){if(wl!==null){var e=kP(mg),t=Qi.transition,n=$n;try{if(Qi.transition=null,$n=16>e?16:e,wl===null)var r=!1;else{if(e=wl,wl=null,mg=0,Mn&6)throw Error(tt(331));var a=Mn;for(Mn|=4,Nt=e.current;Nt!==null;){var i=Nt,o=i.child;if(Nt.flags&16){var s=i.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(Nt=u;Nt!==null;){var d=Nt;switch(d.tag){case 0:case 11:case 15:Af(8,d,i)}var f=d.child;if(f!==null)f.return=d,Nt=f;else for(;Nt!==null;){d=Nt;var p=d.sibling,m=d.return;if(IT(d),d===u){Nt=null;break}if(p!==null){p.return=m,Nt=p;break}Nt=m}}}var h=i.alternate;if(h!==null){var v=h.child;if(v!==null){h.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}Nt=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Nt=o;else e:for(;Nt!==null;){if(i=Nt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Af(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Nt=y;break e}Nt=i.return}}var x=e.current;for(Nt=x;Nt!==null;){o=Nt;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Nt=w;else e:for(o=x;Nt!==null;){if(s=Nt,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:F0(9,s)}}catch(j){Cr(s,s.return,j)}if(s===o){Nt=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,Nt=S;break e}Nt=s.return}}if(Mn=a,Wl(),Qo&&typeof Qo.onPostCommitFiberRoot=="function")try{Qo.onPostCommitFiberRoot(E0,e)}catch{}r=!0}return r}finally{$n=n,Qi.transition=t}}return!1}function jj(e,t,n){t=od(n,t),t=kT(e,t,1),e=Al(e,t,1),t=Ka(),e!==null&&(Ep(e,1,t),oi(e,t))}function Cr(e,t,n){if(e.tag===3)jj(e,e,n);else for(;t!==null;){if(t.tag===3){jj(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(El===null||!El.has(r))){e=od(n,e),e=ST(t,e,1),t=Al(t,e,1),e=Ka(),t!==null&&(Ep(t,1,e),oi(t,e));break}}t=t.return}}function e8(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ka(),e.pingedLanes|=e.suspendedLanes&n,la===e&&(Sa&n)===n&&(Xr===4||Xr===3&&(Sa&130023424)===Sa&&500>Tr()-G1?Ac(e,0):K1|=n),oi(e,t)}function WT(e,t){t===0&&(e.mode&1?(t=Fm,Fm<<=1,!(Fm&130023424)&&(Fm=4194304)):t=1);var n=Ka();e=Os(e,t),e!==null&&(Ep(e,t,n),oi(e,n))}function t8(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),WT(e,n)}function n8(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(tt(314))}r!==null&&r.delete(t),WT(e,n)}var HT;HT=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ai.current)ni=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ni=!1,Vz(e,t,n);ni=!!(e.flags&131072)}else ni=!1,fr&&t.flags&1048576&&GP(t,ig,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Dh(e,t),e=t.pendingProps;var a=nd(t,$a.current);Yu(t,n),a=z1(null,t,r,e,a,n);var i=U1();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ii(r)?(i=!0,rg(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,L1(t),a.updater=L0,t.stateNode=a,a._reactInternals=t,vx(t,r,e,n),t=wx(null,t,r,!0,i,n)):(t.tag=0,fr&&i&&E1(t),Wa(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Dh(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=a8(r),e=uo(r,e),a){case 0:t=xx(null,t,r,e,n);break e;case 1:t=hj(null,t,r,e,n);break e;case 11:t=pj(null,t,r,e,n);break e;case 14:t=mj(null,t,r,uo(r.type,e),n);break e}throw Error(tt(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:uo(r,a),xx(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:uo(r,a),hj(e,t,r,a,n);case 3:e:{if(MT(t),e===null)throw Error(tt(387));r=t.pendingProps,i=t.memoizedState,a=i.element,eT(e,t),lg(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=od(Error(tt(423)),t),t=gj(e,t,r,n,a);break e}else if(r!==a){a=od(Error(tt(424)),t),t=gj(e,t,r,n,a);break e}else for(Ni=Ml(t.stateNode.containerInfo.firstChild),Ci=t,fr=!0,po=null,n=JP(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(rd(),r===a){t=Is(e,t,n);break e}Wa(e,t,r,n)}t=t.child}return t;case 5:return tT(t),e===null&&hx(t),r=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,ux(r,a)?o=null:i!==null&&ux(r,i)&&(t.flags|=32),CT(e,t),Wa(e,t,o,n),t.child;case 6:return e===null&&hx(t),null;case 13:return AT(e,t,n);case 4:return F1(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ad(t,null,r,n):Wa(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:uo(r,a),pj(e,t,r,a,n);case 7:return Wa(e,t,t.pendingProps,n),t.child;case 8:return Wa(e,t,t.pendingProps.children,n),t.child;case 12:return Wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,tr(og,r._currentValue),r._currentValue=o,i!==null)if(wo(i.value,o)){if(i.children===a.children&&!ai.current){t=Is(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){o=i.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Cs(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),gx(i.return,n,t),s.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(tt(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),gx(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Wa(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Yu(t,n),a=Ji(a),r=r(a),t.flags|=1,Wa(e,t,r,n),t.child;case 14:return r=t.type,a=uo(r,t.pendingProps),a=uo(r.type,a),mj(e,t,r,a,n);case 15:return NT(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:uo(r,a),Dh(e,t),t.tag=1,ii(r)?(e=!0,rg(t)):e=!1,Yu(t,n),wT(t,r,a),vx(t,r,a,n),wx(null,t,r,!0,e,n);case 19:return ET(e,t,n);case 22:return jT(e,t,n)}throw Error(tt(156,t.tag))};function qT(e,t){return vP(e,t)}function r8(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gi(e,t,n,r){return new r8(e,t,n,r)}function J1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function a8(e){if(typeof e=="function")return J1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===y1)return 11;if(e===v1)return 14}return 2}function Pl(e,t){var n=e.alternate;return n===null?(n=Gi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oh(e,t,n,r,a,i){var o=2;if(r=e,typeof e=="function")J1(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Au:return Ec(n.children,a,i,t);case g1:o=8,a|=8;break;case Ub:return e=Gi(12,n,t,a|2),e.elementType=Ub,e.lanes=i,e;case Vb:return e=Gi(13,n,t,a),e.elementType=Vb,e.lanes=i,e;case Wb:return e=Gi(19,n,t,a),e.elementType=Wb,e.lanes=i,e;case tP:return R0(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ZD:o=10;break e;case eP:o=9;break e;case y1:o=11;break e;case v1:o=14;break e;case fl:o=16,r=null;break e}throw Error(tt(130,e==null?e:typeof e,""))}return t=Gi(o,n,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function Ec(e,t,n,r){return e=Gi(7,e,r,t),e.lanes=n,e}function R0(e,t,n,r){return e=Gi(22,e,r,t),e.elementType=tP,e.lanes=n,e.stateNode={isHidden:!1},e}function Fv(e,t,n){return e=Gi(6,e,null,t),e.lanes=n,e}function $v(e,t,n){return t=Gi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function i8(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vv(0),this.expirationTimes=vv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vv(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Z1(e,t,n,r,a,i,o,s,l){return e=new i8(e,t,n,s,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Gi(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},L1(i),e}function o8(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mu,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function KT(e){if(!e)return Fl;e=e._reactInternals;e:{if(eu(e)!==e||e.tag!==1)throw Error(tt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ii(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(tt(171))}if(e.tag===1){var n=e.type;if(ii(n))return qP(e,n,t)}return t}function GT(e,t,n,r,a,i,o,s,l){return e=Z1(n,r,!0,e,a,i,o,s,l),e.context=KT(null),n=e.current,r=Ka(),a=Dl(n),i=Cs(r,a),i.callback=t??null,Al(n,i,a),e.current.lanes=a,Ep(e,a,r),oi(e,r),e}function B0(e,t,n,r){var a=t.current,i=Ka(),o=Dl(a);return n=KT(n),t.context===null?t.context=n:t.pendingContext=n,t=Cs(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Al(a,t,o),e!==null&&(vo(e,a,o,i),Mh(e,a,o)),o}function gg(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Cj(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ek(e,t){Cj(e,t),(e=e.alternate)&&Cj(e,t)}function s8(){return null}var YT=typeof reportError=="function"?reportError:function(e){console.error(e)};function tk(e){this._internalRoot=e}z0.prototype.render=tk.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(tt(409));B0(e,t,null,null)};z0.prototype.unmount=tk.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rc(function(){B0(null,e,null,null)}),t[Ts]=null}};function z0(e){this._internalRoot=e}z0.prototype.unstable_scheduleHydration=function(e){if(e){var t=jP();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yl.length&&t!==0&&t<yl[n].priority;n++);yl.splice(n,0,e),n===0&&MP(e)}};function nk(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function U0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Mj(){}function l8(e,t,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var u=gg(o);i.call(u)}}var o=GT(t,r,e,0,null,!1,!1,"",Mj);return e._reactRootContainer=o,e[Ts]=o.current,Yf(e.nodeType===8?e.parentNode:e),Rc(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var s=r;r=function(){var u=gg(l);s.call(u)}}var l=Z1(e,0,!1,null,null,!1,!1,"",Mj);return e._reactRootContainer=l,e[Ts]=l.current,Yf(e.nodeType===8?e.parentNode:e),Rc(function(){B0(t,l,n,r)}),l}function V0(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var s=a;a=function(){var l=gg(o);s.call(l)}}B0(t,o,e,a)}else o=l8(n,t,e,a,r);return gg(o)}SP=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=hf(t.pendingLanes);n!==0&&(w1(t,n|1),oi(t,Tr()),!(Mn&6)&&(sd=Tr()+500,Wl()))}break;case 13:Rc(function(){var r=Os(e,1);if(r!==null){var a=Ka();vo(r,e,1,a)}}),ek(e,1)}};k1=function(e){if(e.tag===13){var t=Os(e,134217728);if(t!==null){var n=Ka();vo(t,e,134217728,n)}ek(e,134217728)}};NP=function(e){if(e.tag===13){var t=Dl(e),n=Os(e,t);if(n!==null){var r=Ka();vo(n,e,t,r)}ek(e,t)}};jP=function(){return $n};CP=function(e,t){var n=$n;try{return $n=e,t()}finally{$n=n}};ex=function(e,t,n){switch(t){case"input":if(Kb(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=O0(r);if(!a)throw Error(tt(90));rP(r),Kb(r,a)}}}break;case"textarea":iP(e,n);break;case"select":t=n.value,t!=null&&Hu(e,!!n.multiple,t,!1)}};fP=Y1;pP=Rc;var c8={usingClientEntryPoint:!1,Events:[Pp,Tu,O0,uP,dP,Y1]},Jd={findFiberByHostInstance:bc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},u8={bundleType:Jd.bundleType,version:Jd.version,rendererPackageName:Jd.rendererPackageName,rendererConfig:Jd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ws.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=gP(e),e===null?null:e.stateNode},findFiberByHostInstance:Jd.findFiberByHostInstance||s8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gm.isDisabled&&Gm.supportsFiber)try{E0=Gm.inject(u8),Qo=Gm}catch{}}Ti.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c8;Ti.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nk(t))throw Error(tt(200));return o8(e,t,null,n)};Ti.createRoot=function(e,t){if(!nk(e))throw Error(tt(299));var n=!1,r="",a=YT;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Z1(e,1,!1,null,null,n,!1,r,a),e[Ts]=t.current,Yf(e.nodeType===8?e.parentNode:e),new tk(t)};Ti.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(tt(188)):(e=Object.keys(e).join(","),Error(tt(268,e)));return e=gP(t),e=e===null?null:e.stateNode,e};Ti.flushSync=function(e){return Rc(e)};Ti.hydrate=function(e,t,n){if(!U0(t))throw Error(tt(200));return V0(null,e,t,!0,n)};Ti.hydrateRoot=function(e,t,n){if(!nk(e))throw Error(tt(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",o=YT;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=GT(t,null,e,1,n??null,a,!1,i,o),e[Ts]=t.current,Yf(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new z0(t)};Ti.render=function(e,t,n){if(!U0(t))throw Error(tt(200));return V0(null,e,t,!1,n)};Ti.unmountComponentAtNode=function(e){if(!U0(e))throw Error(tt(40));return e._reactRootContainer?(Rc(function(){V0(null,null,e,!1,function(){e._reactRootContainer=null,e[Ts]=null})}),!0):!1};Ti.unstable_batchedUpdates=Y1;Ti.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!U0(n))throw Error(tt(200));if(e==null||e._reactInternals===void 0)throw Error(tt(38));return V0(e,t,n,!1,r)};Ti.version="18.3.1-next-f1338f8080-20240426";function QT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(QT)}catch(e){console.error(e)}}QT(),YD.exports=Ti;var Cd=YD.exports,Aj=Cd;Bb.createRoot=Aj.createRoot,Bb.hydrateRoot=Aj.hydrateRoot;const d8=new Set(["Vulnerability","Weakness","Blind","Cripple","Chill","Immobilize","Slow","Fear","Taunt"]),XT=[{id:"damage",label:"Damage",field:"damage",source:"dpsAll"},{id:"directDmg",label:"Direct Damage",field:"directDmg",source:"statsTargets"},{id:"connectedDamageCount",label:"Connected Damage Count",field:"connectedDamageCount",source:"statsTargets"},{id:"connectedDirectDamageCount",label:"Connected Direct Damage Count",field:"connectedDirectDamageCount",source:"statsTargets"},{id:"battleStandardHits",label:"Battle Standard Tracking"},{id:"criticalRate",label:"Critical Rate",field:"criticalRate",isRate:!0,isPercent:!0,denomField:"critableDirectDamageCount",source:"statsTargets"},{id:"criticalDmg",label:"Critical Damage",field:"criticalDmg",source:"statsTargets"},{id:"flankingRate",label:"Flanking Rate",field:"flankingRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"glanceRate",label:"Glance Rate",field:"glanceRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"missed",label:"Missed",field:"missed",source:"statsTargets"},{id:"evaded",label:"Evaded (enemy)",field:"evaded",source:"statsTargets"},{id:"blocked",label:"Blocked (enemy)",field:"blocked",source:"statsTargets"},{id:"interrupts",label:"Interrupts",field:"interrupts",source:"statsTargets"},{id:"invulned",label:"Invulned",field:"invulned",source:"statsTargets"},{id:"killed",label:"Killed",field:"killed",source:"statsTargets"},{id:"downed",label:"Downed",field:"downed",source:"statsTargets"},{id:"downContribution",label:"Down Contribution",field:"downContribution",source:"statsTargets"},{id:"downContributionPercent",label:"Down Contribution %",isRate:!0,isPercent:!0},{id:"againstDownedDamage",label:"Against Downed Damage",field:"againstDownedDamage",source:"statsTargets"},{id:"appliedCrowdControl",label:"Applied CC",field:"appliedCrowdControl",source:"statsTargets"},{id:"appliedCrowdControlDuration",label:"Applied CC Duration",field:"appliedCrowdControlDuration",source:"statsTargets"},{id:"appliedCrowdControlDownContribution",label:"Applied CC Down Contribution",field:"appliedCrowdControlDownContribution",source:"statsTargets"},{id:"appliedCrowdControlDurationDownContribution",label:"Applied CC Duration Down Contribution",field:"appliedCrowdControlDurationDownContribution",source:"statsTargets"},{id:"boonStrips",label:"Boon Strips",field:"boonStrips",source:"support"}],JT=[{id:"damageTaken",label:"Damage Taken",field:"damageTaken"},{id:"minionDamageTaken",label:"Minion Damage Taken"},{id:"damageTakenCount",label:"Damage Taken Count",field:"damageTakenCount"},{id:"conditionDamageTaken",label:"Condition Damage Taken",field:"conditionDamageTaken"},{id:"conditionDamageTakenCount",label:"Condition Damage Taken Count",field:"conditionDamageTakenCount"},{id:"powerDamageTaken",label:"Power Damage Taken",field:"powerDamageTaken"},{id:"powerDamageTakenCount",label:"Power Damage Taken Count",field:"powerDamageTakenCount"},{id:"downedDamageTaken",label:"Downed Damage Taken",field:"downedDamageTaken"},{id:"downedDamageTakenCount",label:"Downed Damage Taken Count",field:"downedDamageTakenCount"},{id:"damageBarrier",label:"Damage Barrier",field:"damageBarrier"},{id:"damageBarrierCount",label:"Damage Barrier Count",field:"damageBarrierCount"},{id:"blockedCount",label:"Blocked Count",field:"blockedCount"},{id:"evadedCount",label:"Evaded Count",field:"evadedCount"},{id:"missedCount",label:"Missed Count",field:"missedCount"},{id:"dodgeCount",label:"Dodge Count",field:"dodgeCount"},{id:"invulnedCount",label:"Invulnerable Count",field:"invulnedCount"},{id:"interruptedCount",label:"Interrupted Count",field:"interruptedCount"},{id:"downCount",label:"Down Count",field:"downCount"},{id:"deadCount",label:"Death Count",field:"deadCount"},{id:"boonStrips",label:"Boon Strips (Incoming)",field:"boonStrips"},{id:"conditionCleanses",label:"Cleanses (Incoming)",field:"conditionCleanses"},{id:"receivedCrowdControl",label:"Crowd Control (Incoming)",field:"receivedCrowdControl"}],f8=[{id:"totalHits",label:"Total Hits"},{id:"evaded",label:"Evaded"},{id:"blocked",label:"Blocked"},{id:"glanced",label:"Glanced"},{id:"missed",label:"Missed"},{id:"invulned",label:"Invulned"},{id:"interrupted",label:"Interrupted"},{id:"totalMitigation",label:"Damage Mitigation"},{id:"minMitigation",label:"Min Damage Mitigation"}],ZT=[{id:"condiCleanse",label:"Condition Cleanses",field:"condiCleanse"},{id:"condiCleanseTime",label:"Condition Cleanse Time",field:"condiCleanseTime",isTime:!0},{id:"condiCleanseSelf",label:"Condition Cleanse Self",field:"condiCleanseSelf"},{id:"condiCleanseTimeSelf",label:"Condition Cleanse Time Self",field:"condiCleanseTimeSelf",isTime:!0},{id:"boonStrips",label:"Boon Strips",field:"boonStrips"},{id:"boonStripsTime",label:"Boon Strips Time",field:"boonStripsTime",isTime:!0},{id:"boonStripDownContribution",label:"Boon Strip Down Contribution",field:"boonStripDownContribution"},{id:"boonStripDownContributionTime",label:"Boon Strip Down Contribution Time",field:"boonStripDownContributionTime",isTime:!0},{id:"stunBreak",label:"Stun Breaks",field:"stunBreak"},{id:"removedStunDuration",label:"Removed Stun Duration",field:"removedStunDuration",isTime:!0},{id:"resurrects",label:"Resurrects",field:"resurrects"},{id:"resurrectTime",label:"Resurrect Time",field:"resurrectTime",isTime:!0}],p8=[{id:"healing",label:"Healing",baseField:"healing",perSecond:!1,decimals:0},{id:"healingPerSecond",label:"Healing Per Second",baseField:"healing",perSecond:!0,decimals:2},{id:"barrier",label:"Barrier",baseField:"barrier",perSecond:!1,decimals:0},{id:"barrierPerSecond",label:"Barrier Per Second",baseField:"barrier",perSecond:!0,decimals:2},{id:"downedHealing",label:"Downed Healing",baseField:"downedHealing",perSecond:!1,decimals:0},{id:"downedHealingPerSecond",label:"Downed Healing Per Second",baseField:"downedHealing",perSecond:!0,decimals:1},{id:"resUtility",label:"Resurrect Utility",baseField:"resUtility",perSecond:!1,decimals:0}],m8=["battle standard","glyph of renewal","glyph of the stars","illusion of life","spirit of nature","nature spirit","search and rescue","signet of mercy"],h8=new Set([10244]),g8=(e,t)=>{var n;if(h8.has(e))return!0;const r=(t==null?void 0:t[`s${e}`])||(t==null?void 0:t[`${e}`]),a=((n=r==null?void 0:r.name)==null?void 0:n.toLowerCase())||"";return m8.some(i=>a.includes(i))},y8=e=>{const t=e.toLowerCase();return t.includes("autoattack")||t.includes("auto attack")},Ym=e=>{if(!e||!Number.isFinite(e))return"--:--";const t=Math.max(0,Math.round(e/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),a=t%60;return n>0?`${n}:${String(r).padStart(2,"0")}:${String(a).padStart(2,"0")}`:`${r}:${String(a).padStart(2,"0")}`},e3=()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia("(max-width: 640px)").matches,t3=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e),n=e<0?"-":"";if(t>=1e6){const r=(t/1e6).toFixed(2).replace(/\.?0+$/,"");return`${n}${r}m`}if(t>=1e4){const r=(t/1e3).toFixed(0);return`${n}${r}k`}return`${e.toLocaleString()}`},xa=(e,t=2)=>Number.isFinite(e)?e3()&&Math.abs(e)>=1e4?t3(e):e.toLocaleString(void 0,{minimumFractionDigits:t,maximumFractionDigits:t}):"--",ul=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e);return e3()&&t>=1e4?t3(e):t>=1e6?`${(e/1e6).toFixed(2).replace(/\.?0+$/,"")}m`:Math.round(e).toLocaleString()};var v8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const b8=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Zt=(e,t)=>{const n=g.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:s,...l},u)=>g.createElement("svg",{ref:u,...v8,width:a,height:a,stroke:r,strokeWidth:o?Number(i)*24/Number(a):i,className:`lucide lucide-${b8(e)}`,...l},[...t.map(([d,f])=>g.createElement(d,f)),...(Array.isArray(s)?s:[s])||[]]));return n.displayName=`${e}`,n},n3=Zt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),x8=Zt("ArrowBigDown",[["path",{d:"M15 6v6h4l-7 7-7-7h4V6h6z",key:"1thax2"}]]),rk=Zt("ArrowBigUp",[["path",{d:"M9 18v-6H5l7-7 7 7h-4v6H9z",key:"1x06kx"}]]),r3=Zt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),w8=Zt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),ak=Zt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),k8=Zt("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),a3=Zt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Tx=Zt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),S8=Zt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),ko=Zt("Columns",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"12",x2:"12",y1:"3",y2:"21",key:"1efggb"}]]),N8=Zt("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]),j8=Zt("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),C8=Zt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),M8=Zt("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),ap=Zt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),A8=Zt("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),ik=Zt("GitCompareArrows",[["circle",{cx:"5",cy:"6",r:"3",key:"1qnov2"}],["path",{d:"M12 6h5a2 2 0 0 1 2 2v7",key:"1yj91y"}],["path",{d:"m15 9-3-3 3-3",key:"1lwv8l"}],["circle",{cx:"19",cy:"18",r:"3",key:"1qljk2"}],["path",{d:"M12 18H7a2 2 0 0 1-2-2V9",key:"16sdep"}],["path",{d:"m9 15 3 3-3 3",key:"1m3kbl"}]]),E8=Zt("Hammer",[["path",{d:"m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9",key:"1afvon"}],["path",{d:"M17.64 15 22 10.64",key:"zsji6s"}],["path",{d:"m20.91 11.7-1.25-1.25c-.6-.6-.93-1.4-.93-2.25v-.86L16.01 4.6a5.56 5.56 0 0 0-3.94-1.64H9l.92.82A6.18 6.18 0 0 1 12 8.4v1.56l2 2h2.47l2.26 1.91",key:"lehyy1"}]]),i3=Zt("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]),D8=Zt("HelpingHand",[["path",{d:"m3 15 5.12-5.12A3 3 0 0 1 10.24 9H13a2 2 0 1 1 0 4h-2.5m4-.68 4.17-4.89a1.88 1.88 0 0 1 2.92 2.36l-4.2 5.94A3 3 0 0 1 14.96 17H9.83a2 2 0 0 0-1.42.59L7 19",key:"nitrv7"}],["path",{d:"m2 14 6 6",key:"g6j1uo"}]]),ok=Zt("Keyboard",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",ry:"2",key:"15u882"}],["path",{d:"M6 8h.001",key:"1ej0i3"}],["path",{d:"M10 8h.001",key:"1x2st2"}],["path",{d:"M14 8h.001",key:"1vkmyp"}],["path",{d:"M18 8h.001",key:"kfsenl"}],["path",{d:"M8 12h.001",key:"1sjpby"}],["path",{d:"M12 12h.001",key:"al75ts"}],["path",{d:"M16 12h.001",key:"931bgk"}],["path",{d:"M7 16h10",key:"wp8him"}]]),P8=Zt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),sk=Zt("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]),T8=Zt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),lk=Zt("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),Ra=Zt("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),Ej=Zt("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]),O8=Zt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),I8=Zt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),_8=Zt("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),o3=Zt("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),ld=Zt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),W0=Zt("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]),H0=Zt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),yg=Zt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),L8=Zt("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]),kl=Zt("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]),Dc=Zt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),F8=Zt("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),Ar=Zt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),$8=Zt("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]),s3=Zt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),ja=Zt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ip=Zt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),ck=({className:e})=>c.jsx(O8,{className:e,strokeWidth:3.2}),Op=e=>{if(typeof window<"u"&&(window.location.pathname||"").includes("/web/web/"))return`../${e.replace(/^\/+/,"")}`;const t="./",n=t.endsWith("/")?t:`${t}/`,r=e.replace(/^\/+/,"");return`${n}${r}`},uk=({className:e=""})=>{const t=Op("svg/custom-icons/mouse.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},ks=({className:e=""})=>{const t=Op("svg/custom-icons/gw2_boon.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},dk=({className:e=""})=>{const t=Op("svg/custom-icons/dam_mit.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},fk=({className:e=""})=>{const t=Op("svg/custom-icons/gw2_sigil.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},R8=[{id:"overview",label:"Overview",icon:Dc,sectionIds:["overview","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","squad-composition","timeline","map-distribution"],items:[{id:"overview",label:"Overview",icon:Dc},{id:"fight-breakdown",label:"Fight Breakdown",icon:kl},{id:"top-players",label:"Top Players",icon:Dc},{id:"top-skills-outgoing",label:"Top Skills",icon:rk},{id:"squad-composition",label:"Classes",icon:Ar},{id:"timeline",label:"Squad vs Enemy",icon:Ar},{id:"map-distribution",label:"Map Distribution",icon:lk}]},{id:"roster",label:"Roster Intel",icon:ap,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance Ledger",icon:ap},{id:"squad-comp-fight",label:"Squad Comp by Fight",icon:Ar},{id:"fight-comp",label:"Fight Comp",icon:kl}]},{id:"offense",label:"Offensive Stats",icon:kl,sectionIds:["offense-detailed","player-breakdown","damage-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:kl},{id:"player-breakdown",label:"Player Breakdown",icon:sk},{id:"damage-breakdown",label:"Damage Breakdown",icon:ak},{id:"spike-damage",label:"Spike Damage",icon:ip},{id:"conditions-outgoing",label:"Conditions",icon:W0}]},{id:"defense",label:"Defensive Stats",icon:ld,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","boon-output","boon-timeline","support-detailed","healing-stats"],items:[{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:_8},{id:"defense-detailed",label:"Defense Detailed",icon:ld},{id:"defense-mitigation",label:"Damage Mitigation",icon:dk},{id:"boon-output",label:"Boon Output",icon:ks},{id:"boon-timeline",label:"Boon Timeline",icon:ks},{id:"support-detailed",label:"Support Detailed",icon:ck},{id:"healing-stats",label:"Healing Stats",icon:i3}]},{id:"other",label:"Other Metrics",icon:yg,sectionIds:["fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"fight-diff-mode",label:"Fight Comparison",icon:ik},{id:"special-buffs",label:"Special Buffs",icon:yg},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:fk},{id:"skill-usage",label:"Skill Usage",icon:ok},{id:"apm-stats",label:"APM Breakdown",icon:uk}]}],B8=(e,t=!0,n=!1)=>{const[r,a]=g.useState(!1),[i,o]=g.useState("overview"),s=g.useRef(null),l=g.useRef(null),u=g.useRef(0),d=g.useMemo(()=>R8,[]),f=g.useMemo(()=>d.flatMap(h=>h.items),[d]),p=h=>{const v=h==="kdr"?"overview":h,b=s.current,y=document.getElementById(v);if(b&&y){const x=b.getBoundingClientRect(),w=y.getBoundingClientRect().top-x.top+b.scrollTop,S=Math.max(0,b.scrollHeight-b.clientHeight),j=Math.min(Math.max(w-16,0),S);b.scrollTo({top:j,behavior:"smooth"}),o(v)}else y&&(y.scrollIntoView({behavior:"smooth",block:"start"}),o(v));a(!1)};g.useEffect(()=>{if(e||n)return;const h=v=>{if(n)return;const b=s.current;if(!b)return;const y=v.target;if(!(y instanceof Element&&y.closest("[data-stats-mobile-nav]"))&&!(y instanceof Node&&b.contains(y))&&v.deltaY!==0&&!(b.scrollHeight<=b.clientHeight)){if(u.current+=v.deltaY,l.current===null){const x=()=>{const w=u.current;if(Math.abs(w)<.5){u.current=0,l.current=null;return}const S=w*.2;u.current=w-S,b.scrollBy({top:S,behavior:"auto"}),l.current=requestAnimationFrame(x)};l.current=requestAnimationFrame(x)}v.preventDefault()}};return window.addEventListener("wheel",h,{passive:!1}),()=>{window.removeEventListener("wheel",h),l.current!==null&&(cancelAnimationFrame(l.current),l.current=null),u.current=0}},[e,n]);const m=h=>{var v;const b=Math.max(0,f.findIndex(w=>w.id===i)),y=Math.min(Math.max(b+h,0),f.length-1),x=(v=f[y])==null?void 0:v.id;x&&p(x)};return g.useEffect(()=>{if(!t||n)return;const h=s.current;if(!h)return;let v=0;const b=()=>{var x;const w=h.getBoundingClientRect().top;let S=((x=f[0])==null?void 0:x.id)||"overview";f.forEach(j=>{const N=document.getElementById(j.id);N&&N.getBoundingClientRect().top-w<=24&&(S=j.id)}),o(j=>j===S?j:S)},y=()=>{v&&cancelAnimationFrame(v),v=requestAnimationFrame(b)};return b(),h.addEventListener("scroll",y,{passive:!0}),window.addEventListener("resize",y),()=>{v&&cancelAnimationFrame(v),h.removeEventListener("scroll",y),window.removeEventListener("resize",y)}},[f,t,n]),{mobileNavOpen:r,setMobileNavOpen:a,activeNavId:i,setActiveNavId:o,scrollContainerRef:s,tocGroups:d,tocItems:f,scrollToSection:p,stepSection:m}},Dj=["selfBuffs","groupBuffs","squadBuffs"],ms=(e,t,n=0)=>t?e/t:n,Pj=e=>e!=null&&e.classification?e.classification==="Boon":!0,l3=e=>`b${e}`,z8=(e,t)=>{const n=Array.isArray(e==null?void 0:e.activeTimes)?e.activeTimes:[],r=typeof n[0]=="number"?n[0]:0;return r>0?r:t},c3=(e,t,n,r,a,i,o)=>{const s=e==="selfBuffs"?1:Math.max(e==="groupBuffs"?i-1:o-1,0);return!s||!a?{generationMs:0,wastedMs:0}:t?{generationMs:n*a*s,wastedMs:r*a*s}:{generationMs:n/100*a*s,wastedMs:r/100*a*s}},U8=(e,t,n)=>{const r=e.activeTimeMs||1,a=e.numFights||1,i=e.groupSupported||1,o=e.squadSupported||1,s=e.categories.selfBuffs,l=e.categories.squadBuffs,u=t==="totalBuffs"?{generationMs:s.generationMs+l.generationMs,wastedMs:s.wastedMs+l.wastedMs}:e.categories[t],d=u.generationMs,f=u.wastedMs;let p=1;t==="groupBuffs"?p=ms(i-a,a,1):t==="squadBuffs"?p=ms(o-a,a,1):t==="totalBuffs"&&(p=o);let m=0,h=0;if(t==="selfBuffs")m=n?ms(d,r):ms(d,r)*100,h=n?ms(f,r):ms(f,r)*100;else{const v=ms(d,r)/(p||1),b=ms(f,r)/(p||1);m=n?v:v*100,h=n?b:b*100}return{generationMs:d,wastedMs:f,uptimeRaw:m,wastedRaw:h}},u3=(e,t,n,r)=>{const{generationMs:a,uptimeRaw:i}=U8(e,t,n),o=e.activeTimeMs||1;return r==="total"?a/1e3:r==="average"?ms(a,o):i},V8=(e,t,n,r,a)=>{const i=u3(e,t,n,r),o=r==="uptime"&&!n,s=r==="average",l=a!=null&&a.roundCountStats&&!o&&!s?0:2,u=i.toLocaleString(void 0,{minimumFractionDigits:l,maximumFractionDigits:l});return o?`${u}%`:u},W8=e=>{const t=new Map,n=new Map;return e.forEach(r=>{const a=r.details;if(!a)return;const i=a.durationMS||0,o=a.buffMap||{};Object.entries(o).forEach(([d,f])=>{if(!t.has(d)){t.set(d,f);return}const p=t.get(d)||{},m={name:p.name||f.name,stacking:p.stacking??f.stacking,icon:p.icon||f.icon,classification:p.classification||f.classification};t.set(d,m)});const s=(a.players||[]).filter(d=>!d.notInSquad),l=s.length,u=new Map;s.forEach(d=>{const f=d.group??0;u.set(f,(u.get(f)||0)+1)}),s.forEach(d=>{const f=d.account||d.name||d.character_name||"Unknown",p=d.profession||"Unknown",m=d.group??0,h=u.get(m)||1,v=z8(d,i);n.has(f)||n.set(f,{account:f,profession:p,professions:new Set,professionTimeMs:{},activeTimeMs:0,numFights:0,groupSupported:0,squadSupported:0,boons:{}});const b=n.get(f);b.profession=p,p!=="Unknown"&&(b.professions.add(p),b.professionTimeMs[p]=(b.professionTimeMs[p]||0)+v),b.activeTimeMs+=v,b.numFights+=1,b.groupSupported+=h,b.squadSupported+=l,Dj.forEach(y=>{(d[y]||[]).forEach(x=>{var w,S,j,N;if(typeof(x==null?void 0:x.id)!="number")return;const M=l3(x.id),P=o[M];if(!Pj(P))return;const B=(P==null?void 0:P.stacking)??!1,E=((S=(w=x.buffData)==null?void 0:w[0])==null?void 0:S.generation)??0,I=((N=(j=x.buffData)==null?void 0:j[0])==null?void 0:N.wasted)??0,{generationMs:O,wastedMs:K}=c3(y,B,E,I,i,h,l);!O&&!K||(t.has(M)||t.set(M,P||{}),b.boons[M]||(b.boons[M]={selfBuffs:{generationMs:0,wastedMs:0},groupBuffs:{generationMs:0,wastedMs:0},squadBuffs:{generationMs:0,wastedMs:0}}),b.boons[M][y].generationMs+=O,b.boons[M][y].wastedMs+=K)})})})}),{boonTables:Array.from(t.keys()).filter(r=>Pj(t.get(r))).map(r=>{const a=t.get(r)||{},i=[];return n.forEach(o=>{var s;const l=o.boons[r];if(!l||!Dj.some(f=>l[f].generationMs>0||l[f].wastedMs>0))return;const u=Array.from(o.professions||[]).filter(f=>f&&f!=="Unknown");let d=o.profession;if(u.length>0){d=u[0];let f=((s=o.professionTimeMs)==null?void 0:s[d])||0;u.forEach(p=>{var m;const h=((m=o.professionTimeMs)==null?void 0:m[p])||0;h>f&&(f=h,d=p)})}i.push({account:o.account,profession:d||"Unknown",professionList:u,activeTimeMs:o.activeTimeMs||1,numFights:o.numFights||1,groupSupported:o.groupSupported||1,squadSupported:o.squadSupported||1,categories:{selfBuffs:{...l.selfBuffs},groupBuffs:{...l.groupBuffs},squadBuffs:{...l.squadBuffs}}})}),{id:r,name:a.name||r,icon:a.icon,stacking:a.stacking??!1,rows:i}}).filter(r=>r.rows.length>0)}},Ox=(e,t,n,r,a,i,o={})=>{var s,l,u,d;const f=((e==null?void 0:e[t])||[]).find(b=>b.id===n);if(!f)return{generationMs:0,wastedMs:0};const p=o[l3(n)],m=(p==null?void 0:p.stacking)??!1,h=((l=(s=f.buffData)==null?void 0:s[0])==null?void 0:l.generation)??0,v=((d=(u=f.buffData)==null?void 0:u[0])==null?void 0:d.wasted)??0;return c3(t,m,h,v,r,a,i)},H8={tiered:{tiers:{shortMs:500,mediumMs:1500,weights:{short:.5,medium:1,long:2}}}},q8={methods:H8},K8=q8,pk="count",G8=e=>(e||0)/1e3,Y8=(e,t)=>{var n;if(!e)return 0;const r=(n=K8.methods.tiered)==null?void 0:n.tiers;if(!r)return e;const a=t/Math.max(e,1);return a<=r.shortMs?e*r.weights.short:a<=r.mediumMs?e*r.weights.medium:e*r.weights.long},d3=(e,t,n)=>n==="duration"?G8(t):n==="tiered"?Y8(e,t):e;function Q8(e,t=pk){var n;const r=(n=e.statsAll)==null?void 0:n[0],a=Number((r==null?void 0:r.appliedCrowdControl)??0),i=Number((r==null?void 0:r.appliedCrowdControlDuration)??0);return d3(a,i,t)}function X8(e,t){const n=(t==null?void 0:t.durationMS)||0,r=(t==null?void 0:t.buffMap)||{},a=e.filter(s=>!s.notInSquad),i=a.length,o=new Map;a.forEach(s=>{const l=s.group??0;o.set(l,(o.get(l)||0)+1)}),a.forEach(s=>{const l=o.get(s.group??0)||1,u=Ox(s,"selfBuffs",1122,n,l,i,r),d=Ox(s,"squadBuffs",1122,n,l,i,r);s.stabGeneration=(u.generationMs+d.generationMs)/1e3})}function J8(e){if(!e.statsTargets)return 0;let t=0;for(const n of e.statsTargets)n&&n.length>0&&(t+=n[0].downContribution||0);return t}function Z8(e){if(!e.extBarrierStats||!e.extBarrierStats.outgoingBarrierAllies)return 0;let t=0;for(const n of e.extBarrierStats.outgoingBarrierAllies)if(n)for(const r of n)r&&(t+=r.barrier||0);return t}function eU(e){if(!e.extHealingStats||!e.extHealingStats.outgoingHealingAllies)return 0;let t=0;for(const n of e.extHealingStats.outgoingHealingAllies)if(n)for(const r of n)r&&(t+=r.healing||0);return t}const Tj=e=>{var t,n,r,a;return(((n=(t=e.support)==null?void 0:t[0])==null?void 0:n.condiCleanse)||0)+(((a=(r=e.support)==null?void 0:r[0])==null?void 0:a.condiCleanseSelf)||0)},Oj=(e,t=pk)=>{var n;const r=(n=e.support)==null?void 0:n[0],a=Number((r==null?void 0:r.boonStrips)??0),i=Number((r==null?void 0:r.boonStripsTime)??0);return d3(a,i,t)},Ij=e=>J8(e),_j=e=>eU(e),Lj=e=>Z8(e),Fj=(e,t=pk)=>Q8(e,t),tU=(e,t)=>X8(e,t),nU="count",f3={downContribution:1,healing:1,cleanses:1,strips:1,stability:1,cc:.7,revives:.7,distanceToTag:.7,participation:.7,dodging:.4,dps:.2,damage:.2},Ix={showTopStats:!0,showMvp:!0,roundCountStats:!1,topStatsMode:"total",topSkillDamageSource:"target",topSkillsMetric:"damage"},rU={uploading:!1,message:null,url:null,buildStatus:"idle"},$j=new Map([["bleeding","Bleeding"],["burning","Burning"],["confusion","Confusion"],["poison","Poison"],["torment","Torment"],["vulnerability","Vulnerability"],["weakness","Weakness"],["weakened","Weakness"],["blind","Blind"],["blinded","Blind"],["blinding","Blind"],["cripple","Cripple"],["crippled","Cripple"],["chill","Chill"],["chilled","Chill"],["immob","Immobilize"],["immobile","Immobilize"],["immobilized","Immobilize"],["slow","Slow"],["slowed","Slow"],["fear","Fear"],["feared","Fear"],["taunt","Taunt"],["taunted","Taunt"]]),p3={Blind:"https://render.guildwars2.com/file/09770136BB76FD0DBE1CC4267DEED54774CB20F6/102837.png",Chill:"https://render.guildwars2.com/file/28C4EC547A3516AF0242E826772DA43A5EAC3DF3/102839.png",Cripple:"https://render.guildwars2.com/file/070325E519C178D502A8160523766070D30C0C19/102838.png",Fear:"https://render.guildwars2.com/file/30307A6E766D74B6EB09EDA12A4A2DE50E4D76F4/102869.png",Immobilize:"https://render.guildwars2.com/file/397A613651BFCA2832B6469CE34735580A2C120E/102844.png",Slow:"https://render.guildwars2.com/file/F60D1EF5271D7B9319610855676D320CD25F01C6/961397.png",Taunt:"https://render.guildwars2.com/file/02EED459AD65FAF7DF32A260E479C625070841B9/1228472.png",Vulnerability:"https://render.guildwars2.com/file/3A394C1A0A3257EB27A44842DDEEF0DF000E1241/102850.png",Weakness:"https://render.guildwars2.com/file/6CB0E64AF9AA292E332A38C1770CE577E2CDE0E8/102853.png"},Qm=e=>{if(e)return p3[e]},op=e=>{if(!e)return null;const t=e.trim().toLowerCase(),n=$j.get(t);if(n)return n;const r=t.split(/[^a-z]+/).filter(Boolean);for(const a of r){const i=$j.get(a);if(i)return i}return null},Nu=e=>op(e),m3=e=>{const t=new Map;return e&&(Object.values(e).forEach(n=>{if(!(n!=null&&n.icon)||!(n!=null&&n.name))return;const r=op(n.name);r&&(t.has(r)||t.set(r,n.icon))}),Object.entries(p3).forEach(([n,r])=>{t.has(n)||t.set(n,r)})),t},Ih=(e,t,n)=>{var r;if(t&&n){const a=(r=n[`b${t}`])==null?void 0:r.name,i=op(a);if(i)return i}return e?op(e):null},aU=e=>{const t=(e==null?void 0:e.account)||"Unknown";return t&&t!=="Unknown"?t:(e==null?void 0:e.name)||"Unknown"},iU=e=>{if(!e||e.length===0)return 0;let t=0,n=null;return e.forEach(r=>{const a=Number(r[1]??0);if(Number.isFinite(a)){if(n===null){n=a;return}a>n&&(t+=a-n),n=a}}),t},oU=e=>{if(!e||e.length===0)return 0;let t=0;return e.forEach(n=>{const r=Number(n[0]??0),a=Number(n[1]??0);Number.isFinite(a)&&r!==0&&a>0&&(t+=1)}),t},sU=e=>{const{players:t,targets:n,skillMap:r,buffMap:a}=e,i=e.getPlayerKey||aU,o=m3(a),s={},l={};t.forEach(m=>{if(m!=null&&m.notInSquad)return;const h=i(m);h&&(s[h]||(s[h]={}),m!=null&&m.totalDamageDist&&m.totalDamageDist.forEach(v=>{v&&v.forEach(b=>{if(!b.id)return;let y=`Skill ${b.id}`,x;r&&(r[`s${b.id}`]?(y=r[`s${b.id}`].name||y,x=r[`s${b.id}`].icon||x):r[`${b.id}`]&&(y=r[`${b.id}`].name||y,x=r[`${b.id}`].icon||x));const w=Ih(y,b.id,a);if(!w)return;const S=a==null?void 0:a[`b${b.id}`],j=S==null?void 0:S.name,N=o.get(w)||(S==null?void 0:S.icon),M=y.startsWith("Skill ")?j||w:y,P=x||(S==null?void 0:S.icon),B=Number(b.connectedHits??0),E=Number(b.hits??0),I=B>0?B:E,O=Number(b.totalDamage??0);if(!Number.isFinite(I)&&!Number.isFinite(O))return;const K=l[w]||{name:w,icon:N,applications:0,damage:0};K.applications+=Number.isFinite(I)?I:0,K.damage+=Number.isFinite(O)?O:0,!K.icon&&N&&(K.icon=N),l[w]=K;const Q=s[h][w]||{icon:N,applications:0,damage:0,skills:{}};Q.applications+=Number.isFinite(I)?I:0,Q.damage+=Number.isFinite(O)?O:0;const oe=Q.skills[M]||{name:M,hits:0,damage:0,icon:P};oe.hits+=Number.isFinite(I)?I:0,oe.damage+=Number.isFinite(O)?O:0,!oe.icon&&P&&(oe.icon=P),Q.skills[M]=oe,!Q.icon&&N&&(Q.icon=N),s[h][w]=Q})}))});const u=new Map;t.forEach(m=>{if(m!=null&&m.notInSquad)return;const h=i(m);h&&m!=null&&m.name&&u.set(m.name,h)});let d=0,f=0,p=0;return n.forEach(m=>{m!=null&&m.buffs&&m.buffs.forEach(h=>{const v=Number(h==null?void 0:h.id);if(!Number.isFinite(v))return;const b=a==null?void 0:a[`b${v}`],y=op(b==null?void 0:b.name);if(!y||b!=null&&b.classification&&b.classification!=="Condition")return;const x=y;if(!x)return;const w=h.statesPerSource||{};p+=1,Object.entries(w).forEach(([S,j])=>{var N;const M=u.get(S);if(!M)return;f+=1;const P=iU(j),B=oU(j);d+=P;const E=((N=s[M])==null?void 0:N[x])||{applications:0,damage:0,skills:{}};E.applicationsFromBuffs=(E.applicationsFromBuffs||0)+P,E.applicationsFromBuffsActive=(E.applicationsFromBuffsActive||0)+B,s[M]=s[M]||{},s[M][x]=E;const I=l[x]||{name:x,applications:0,damage:0};I.applicationsFromBuffs=(I.applicationsFromBuffs||0)+P,I.applicationsFromBuffsActive=(I.applicationsFromBuffsActive||0)+B,l[x]=I})})}),Object.values(s).forEach(m=>{Object.values(m).forEach(h=>{typeof h.applicationsFromBuffs=="number"&&(h.applications=h.applicationsFromBuffs)})}),Object.values(l).forEach(m=>{typeof m.applicationsFromBuffs=="number"&&(m.applications=m.applicationsFromBuffs)}),{playerConditions:s,summary:l,meta:{buffStateApplicationsTotal:d,targetBuffEntriesSeen:p,buffStateSourcesSeen:f}}},Bc={Guardian:"#72C1D9",Dragonhunter:"#72C1D9",Firebrand:"#72C1D9",Willbender:"#72C1D9",Revenant:"#D16E5A",Herald:"#D16E5A",Renegade:"#D16E5A",Vindicator:"#D16E5A",Warrior:"#FFD166",Berserker:"#FFD166",Spellbreaker:"#FFD166",Bladesworn:"#FFD166",Engineer:"#D09C59",Scrapper:"#D09C59",Holosmith:"#D09C59",Mechanist:"#D09C59",Ranger:"#8CDC82",Druid:"#8CDC82",Soulbeast:"#8CDC82",Untamed:"#8CDC82",Thief:"#C08F95",Daredevil:"#C08F95",Deadeye:"#C08F95",Specter:"#C08F95",Elementalist:"#F68A87",Tempest:"#F68A87",Weaver:"#F68A87",Catalyst:"#F68A87",Mesmer:"#B679D5",Chronomancer:"#B679D5",Mirage:"#B679D5",Virtuoso:"#B679D5",Necromancer:"#52A76F",Reaper:"#52A76F",Scourge:"#52A76F",Harbinger:"#52A76F",Ritualist:"#52A76F",Luminary:"#72C1D9",Conduit:"#D16E5A",Paragon:"#FFD166",Amalgam:"#D09C59",Galeshot:"#8CDC82",Antiquary:"#C08F95",Evoker:"#F68A87",Troubadour:"#B679D5",Unknown:"#64748B"},lU={Guardian:"Guardian",Dragonhunter:"Guardian",Firebrand:"Guardian",Willbender:"Guardian",Revenant:"Revenant",Herald:"Revenant",Renegade:"Revenant",Vindicator:"Revenant",Warrior:"Warrior",Berserker:"Warrior",Spellbreaker:"Warrior",Bladesworn:"Warrior",Engineer:"Engineer",Scrapper:"Engineer",Holosmith:"Engineer",Mechanist:"Engineer",Ranger:"Ranger",Druid:"Ranger",Soulbeast:"Ranger",Untamed:"Ranger",Thief:"Thief",Daredevil:"Thief",Deadeye:"Thief",Specter:"Thief",Elementalist:"Elementalist",Tempest:"Elementalist",Weaver:"Elementalist",Catalyst:"Elementalist",Mesmer:"Mesmer",Chronomancer:"Mesmer",Mirage:"Mesmer",Virtuoso:"Mesmer",Necromancer:"Necromancer",Reaper:"Necromancer",Scourge:"Necromancer",Harbinger:"Necromancer",Ritualist:"Necromancer",Luminary:"Guardian",Conduit:"Revenant",Paragon:"Warrior",Amalgam:"Engineer",Galeshot:"Ranger",Antiquary:"Thief",Evoker:"Elementalist",Troubadour:"Mesmer",Unknown:"Unknown"};function Tl(e){return Bc[e]||Bc.Unknown}function cU(e){return e?lU[e]||e:"Unknown"}function kc(e){if(!e)return null;const t=typeof window<"u"&&/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/")?"/svg/class-icons":"./svg/class-icons",n=Bc[e]?e:null;if(n&&n!=="Unknown")return`${t}/${n}.svg`;const r=cU(e);return r&&r!=="Unknown"?`${t}/${r}.svg`:null}const uU=e=>{if(e==null||e==="")return 0;if(typeof e=="number")return!Number.isFinite(e)||e<=0?0:e>1e12?e:e*1e3;if(e instanceof Date){const o=e.getTime();return Number.isFinite(o)&&o>0?o:0}const t=String(e).trim();if(!t)return 0;const n=Number(t);if(Number.isFinite(n)&&n>0)return n>1e12?n:n*1e3;const r=Date.parse(t);if(Number.isFinite(r)&&r>0)return r;const a=t.replace(/([+-]\d{2})$/,"$1:00"),i=Date.parse(a);return Number.isFinite(i)&&i>0?i:0},ga=(e,t)=>uU((e==null?void 0:e.uploadTime)??(t==null?void 0:t.uploadTime)??(e==null?void 0:e.timeStartStd)??(e==null?void 0:e.timeStart)??(e==null?void 0:e.timeEndStd)??(e==null?void 0:e.timeEnd)??(e==null?void 0:e.timeStartText)??(e==null?void 0:e.timeEndText)),_h=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:a,includePlayerSkillMap:i})=>{const o=m=>{var h;return(Array.isArray((h=m==null?void 0:m.details)==null?void 0:h.players)?m.details.players:[]).length>0},s=e.filter(m=>o(m)),l=r||Ix,u=n||f3,d=m=>{if(!m||typeof m!="object")return m;const h=Array.isArray(m.fightBreakdown)?m.fightBreakdown:null;if(!h||h.length===0)return m;const v=j=>Array.isArray(j)&&j.some(N=>N&&Number(N.count)>0),b=new Map,y=new Map;e.forEach(j=>{var N;const M=(j==null?void 0:j.filePath)||(j==null?void 0:j.id);M&&b.set(String(M),j);const P=(j==null?void 0:j.permalink)||((N=j==null?void 0:j.details)==null?void 0:N.permalink);typeof P=="string"&&P.trim()&&y.set(P.trim(),j)});const x=h.map(j=>{var N;if(!j||typeof j!="object")return j;const M=j.id?String(j.id):"",P=typeof j.permalink=="string"?j.permalink.trim():"",B=(M?b.get(M):void 0)||(P?y.get(P):void 0);if(!B)return j;let E=j;if(Number(j.timestamp)<=0){const O=ga(B==null?void 0:B.details,B);O&&(E={...E,timestamp:O})}const I=(N=B==null?void 0:B.details)==null?void 0:N.teamBreakdown;return v(I)&&(E={...E,teamBreakdown:I}),E}),w=Array.isArray(m.fightDiffMode)?m.fightDiffMode:[],S=w.some(j=>Array.isArray(j==null?void 0:j.targetFocus)&&j.targetFocus.some(N=>Number((N==null?void 0:N.damage)||0)>0||Number((N==null?void 0:N.hits)||0)>0))?w:x.map((j,N)=>{const M=j&&typeof j.enemyClassCounts=="object"&&j.enemyClassCounts?j.enemyClassCounts:{},P=Object.entries(M).map(([H,V])=>({label:String(H||"Unknown"),count:Number(V||0)})).filter(H=>H.count>0).sort((H,V)=>V.count-H.count||H.label.localeCompare(V.label)),B=P.reduce((H,V)=>H+V.count,0),E=P.map(H=>({label:H.label,damage:H.count,hits:0,share:B>0?H.count/B:0})),I=Number((j==null?void 0:j.enemyDowns)||0),O=Number((j==null?void 0:j.enemyDeaths)||0),K=Number((j==null?void 0:j.alliesDown)||0),Q=Number((j==null?void 0:j.alliesDead)||0),oe=Number((j==null?void 0:j.totalOutgoingDamage)||0),ve=Number((j==null?void 0:j.totalIncomingDamage)||0),ne=[{metricId:"winFlag",metricLabel:"Win (1) / Loss (0)",higherIsBetter:!0,value:j!=null&&j.isWin?1:0},{metricId:"squadCount",metricLabel:"Squad Size",higherIsBetter:!0,value:Number((j==null?void 0:j.squadCount)||0)},{metricId:"enemyCount",metricLabel:"Enemy Count",higherIsBetter:!1,value:Number((j==null?void 0:j.enemyCount)||0)},{metricId:"squadKdr",metricLabel:"Squad KDR",higherIsBetter:!0,value:Q>0?O/Q:O},{metricId:"enemyDeaths",metricLabel:"Enemy Deaths",higherIsBetter:!0,value:O},{metricId:"enemyDowns",metricLabel:"Enemy Downs",higherIsBetter:!0,value:I},{metricId:"squadDeaths",metricLabel:"Squad Deaths",higherIsBetter:!1,value:Q},{metricId:"squadDowns",metricLabel:"Squad Downs",higherIsBetter:!1,value:K},{metricId:"damageDelta",metricLabel:"Damage Delta",higherIsBetter:!0,value:oe-ve},{metricId:"outgoingDamage",metricLabel:"Outgoing Damage",higherIsBetter:!0,value:oe},{metricId:"incomingDamage",metricLabel:"Incoming Damage",higherIsBetter:!1,value:ve},{metricId:"barrierIncomingAbsorb",metricLabel:"Barrier Absorption (Incoming)",higherIsBetter:!0,value:Number((j==null?void 0:j.incomingBarrierAbsorbed)||0)},{metricId:"enemyBarrierAbsorb",metricLabel:"Enemy Barrier Absorption",higherIsBetter:!1,value:Number((j==null?void 0:j.outgoingBarrierAbsorbed)||0)},{metricId:"alliesRevived",metricLabel:"Allies Revived (Players)",higherIsBetter:!0,value:Number((j==null?void 0:j.alliesRevived)||0)}];return{id:String((j==null?void 0:j.id)||`fight-${N+1}`),shortLabel:`F${N+1}`,fullLabel:`${String((j==null?void 0:j.mapName)||(j==null?void 0:j.label)||"Unknown Map")}  ${String((j==null?void 0:j.duration)||"--:--")}`,mapName:String((j==null?void 0:j.mapName)||""),timestamp:Number((j==null?void 0:j.timestamp)||0),duration:String((j==null?void 0:j.duration)||"--:--"),isWin:!!(j!=null&&j.isWin),targetFocus:E,squadMetrics:ne}});return{...m,fightBreakdown:x,fightDiffMode:S}},f=(()=>{if(t)return d(t);const m=a||nU,h=i!==!1,v=l.topSkillDamageSource||"target",b=l.topSkillsMetric||"damage",y=s.length;let x=0,w=0,S=0,j=0,N=0,M=0,P=0,B=0;const E=A=>{const L=((A==null?void 0:A.players)||[]).filter(ke=>!ke.notInSquad);let Y=0,te=0,ue=0,Fe=0;return L.forEach(ke=>{var mt;const St=(mt=ke.defenses)==null?void 0:mt[0];if(!St)return;const Lt=Number(St.downCount||0),At=Number(St.deadCount||0);Y+=Lt+At,ue+=At}),L.forEach(ke=>{!ke.statsTargets||ke.statsTargets.length===0||ke.statsTargets.forEach(mt=>{const St=mt==null?void 0:mt[0];if(!St)return;const Lt=Number(St.downed||0),At=Number(St.killed||0);te+=Lt+At,Fe+=At})}),{squadDownsDeaths:Y,enemyDownsDeaths:te,squadDeaths:ue,enemyDeaths:Fe}},I=A=>{const{squadDownsDeaths:L,enemyDownsDeaths:Y}=E(A);return L>0||Y>0?Y>L:typeof(A==null?void 0:A.success)=="boolean"?A.success:!1},O=new Map,K=new Set(["boonStripsTime","condiCleanseTime","condiCleanseTimeSelf"]),Q={},oe={},ve=new Map,ne={},H={},V={},k=new Map,z=new Map,T=new Set(Object.keys(Bc)),C=Object.keys(Bc).filter(A=>A&&A!=="Unknown").sort((A,L)=>L.length-A.length),$=["Guardian","Revenant","Warrior","Engineer","Ranger","Thief","Elementalist","Mesmer","Necromancer"],U=A=>{if(!A)return"Unknown";const L=String(A).replace(/\s*\([^)]*\)\s*$/,"").replace(/\s*\[[^\]]*\]\s*$/,"").replace(/\s\d+$/,"").trim();if(T.has(L))return L;const Y=L.toLowerCase();for(const te of C)if(Y.includes(te.toLowerCase()))return te;return $.find(te=>Y.includes(te.toLowerCase()))||L||"Unknown"},J=A=>A!=null&&A.classification?A.classification==="Boon":!0,le=new Map,G=new Map,_=()=>({totalHits:0,blocked:0,evaded:0,glanced:0,missed:0,invulned:0,interrupted:0,totalMitigation:0,minMitigation:0}),R=A=>{const L=Number(A);return Number.isFinite(L)?L:0},Z=A=>{const L=String(A).split("|"),Y=L[0]||"Unknown",te=U(L[1]||"Unknown"),ue=L[2]||Y||"Unknown";return{name:Y,profession:te,account:ue}},F=(A,L,Y)=>{let te=A.get(L);return te?Y.profession&&!te.professionList.includes(Y.profession)&&te.professionList.push(Y.profession):(te={account:Y.account,name:Y.name,profession:Y.profession,professionList:Y.profession?[Y.profession]:[],activeMs:0,mitigationTotals:_()},A.set(L,te)),te},se=(A,L,Y)=>{let te=A.get(L);return te?Y.profession&&!te.professionList.includes(Y.profession)&&te.professionList.push(Y.profession):(te={account:Y.account,name:Y.name,profession:Y.profession,professionList:Y.profession?[Y.profession]:[],activeMs:0,mitigationTotals:_(),minion:Y.minion},A.set(L,te)),te},fe=(A,L)=>{A.totalHits+=R((L==null?void 0:L.skill_hits)??(L==null?void 0:L.skillHits)),A.blocked+=R(L==null?void 0:L.blocked),A.evaded+=R(L==null?void 0:L.evaded),A.glanced+=R(L==null?void 0:L.glanced),A.missed+=R(L==null?void 0:L.missed),A.invulned+=R(L==null?void 0:L.invulned),A.interrupted+=R(L==null?void 0:L.interrupted),A.totalMitigation+=R((L==null?void 0:L.avoided_damage)??(L==null?void 0:L.avoidedDamage)),A.minMitigation+=R((L==null?void 0:L.min_avoided_damage)??(L==null?void 0:L.minAvoidedDamage))},q=A=>Object.values(A).some(L=>L>0),de=new Map,Ee=A=>{const L=de.get(A);if(!L)return{hasSkill:!1,avg:1,min:1,hits:0};const Y=L.connectedHits||0,te=Y>0?L.totalDamage/Y:0,ue=L.minCount>0?L.minTotal/L.minCount:0;return{hasSkill:!0,avg:te,min:ue,hits:Y}},st=new Map,De=new Map,ae=(A,L,Y)=>{const te=A.get(L)||_();return te.totalHits+=Y.totalHits,te.blocked+=Y.blocked,te.evaded+=Y.evaded,te.glanced+=Y.glanced,te.missed+=Y.missed,te.invulned+=Y.invulned,te.interrupted+=Y.interrupted,A.set(L,te),te};s.forEach(A=>{const L=A.details;L&&(L.targets||[]).forEach(Y=>{const te=(Y==null?void 0:Y.totalDamageDist)||[],ue=Array.isArray(te)?te[0]:null;ue==null||ue.forEach(Fe=>{if(!(Fe!=null&&Fe.id))return;const ke=Number(Fe.id),mt=de.get(ke)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};mt.totalDamage+=Number(Fe.totalDamage||0),mt.connectedHits+=Number(Fe.connectedHits||0);const St=Number.isFinite(Number(Fe.min))?Number(Fe.min):0;mt.minTotal+=St,mt.minCount+=1,de.set(ke,mt)})})}),s.forEach(A=>{var L,Y;const te=A.details;if(!te)return;const ue=te.players,Fe=te.targets||[],ke=te.combatReplayMetaData||{},mt=(ke==null?void 0:ke.inchToPixel)>0?ke.inchToPixel:1,St=(ke==null?void 0:ke.pollingRate)>0?ke.pollingRate:1,Lt=5e3,At=ce=>Array.isArray(ce)?ce.map($e=>Array.isArray($e)?[Number($e[0]),Number($e[1])]:null).filter($e=>!!$e&&Number.isFinite($e[0])):[];let Ge=[],Le=te.durationMS||0,lt=!1;const Ce=ue.find(ce=>(ce==null?void 0:ce.hasCommanderTag)&&!(ce!=null&&ce.notInSquad));(L=Ce==null?void 0:Ce.combatReplayData)!=null&&L.positions&&(Ge=Ce.combatReplayData.positions,At(Ce.combatReplayData.dead).forEach(([ce])=>{ce>0&&(lt=!0,Le=Math.min(Le,ce))}));const Je=ce=>{var $e;const Ve=($e=ce.statsAll)==null?void 0:$e[0];if((Ve==null?void 0:Ve.distToCom)!==void 0&&(Ve==null?void 0:Ve.distToCom)!=="Infinity")return Math.round(Number(Ve.distToCom));if((Ve==null?void 0:Ve.stackDist)!==void 0)return Math.round(Number(Ve.stackDist))||0;if(ce.hasCommanderTag)return 0;const yt=ce.combatReplayData;if(!(yt!=null&&yt.positions)||!Ge.length)return 0;const ft=yt.positions,Re=At(yt.dead),Ze=At(yt.down),Ne=Math.floor((yt.start||0)/St);let Be=0;if(Re.length&&Ze.length)for(const[dt]of Re){if(dt<0)continue;const ct=Math.max(0,Math.floor(dt/St))-Ne;for(const[Te,it]of Ze){if(dt!==it)continue;const gt=lt&&Te>Le?Math.max(1,Math.floor(Le/St)):ct,kt=Math.max(0,Math.min(gt,ft.length,Ge.length));if(kt<=0)continue;let fn=0;for(let an=0;an<kt;an++){const[ln,Qe]=ft[an],[Hn,Yt]=Ge[an];fn+=Math.hypot(ln-Hn,Qe-Yt)}Be=Math.round(fn/kt/mt)}}return Be},at=ue.filter(ce=>!ce.notInSquad);S+=at.length,j+=Fe.filter(ce=>!ce.isFake).length,tU(ue,{durationMS:te.durationMS,buffMap:te.buffMap});const{squadDeaths:wt,enemyDeaths:Me}=E(te);N+=wt,M+=Me,B+=wt,P+=Me,I(te)?x++:w++;const Oe=te.skillMap?Number((Y=Object.keys(te.skillMap).find(ce=>{var $e,Ve;return((Ve=($e=te.skillMap)==null?void 0:$e[ce])==null?void 0:Ve.name)==="Battle Standard"}))==null?void 0:Y.replace(/^s/,"")):null;ue.forEach((ce,$e)=>{var Ve,yt,ft,Re,Ze,Ne,Be,dt,ct,Te,it,gt,kt;if(ce.notInSquad)return;const fn=ce.account||"Unknown",an=fn!=="Unknown"?fn:ce.name||"Unknown",ln=ce.name||"Unknown";O.has(an)||O.set(an,{name:ln,account:an,characterNames:new Set,downContrib:0,cleanses:0,strips:0,stab:0,healing:0,barrier:0,cc:0,logsJoined:0,totalDist:0,distCount:0,dodges:0,downs:0,deaths:0,totalFightMs:0,offenseTotals:{},offenseRateWeights:{},defenseActiveMs:0,defenseTotals:{},defenseMinionDamageTaken:{},supportActiveMs:0,supportTotals:{},healingActiveMs:0,healingTotals:{},profession:ce.profession||"Unknown",professions:new Set,professionTimeMs:{},squadActiveMs:0,firstSeenFightTs:0,lastSeenFightTs:0,lastSeenFightDurationMs:0,isCommander:!1,damage:0,dps:0,revives:0,outgoingConditions:{},incomingConditions:{}});const Qe=O.get(an);if(ce.hasCommanderTag&&(Qe.isCommander=!0),ln!=="Unknown"&&Qe.characterNames.add(String(ln)),ce.profession&&ce.profession!=="Unknown"){Qe.profession=ce.profession,Qe.professions.add(ce.profession);const qe=Array.isArray(ce.activeTimes)&&typeof ce.activeTimes[0]=="number"?ce.activeTimes[0]:te.durationMS||0;Qe.professionTimeMs[ce.profession]=(Qe.professionTimeMs[ce.profession]||0)+qe}Qe.logsJoined++,Qe.downContrib+=Ij(ce),Qe.cleanses+=Tj(ce),Qe.strips+=Oj(ce,m),Qe.healing+=_j(ce),Qe.barrier+=Lj(ce),Qe.cc+=Fj(ce,m),Qe.stab+=ce.stabGeneration||0;const Hn=Je(ce);Hn<=Lt&&(Qe.totalDist+=Hn,Qe.distCount++),(Ve=ce.defenses)!=null&&Ve[0]&&(Qe.dodges+=ce.defenses[0].dodgeCount||0,Qe.downs+=ce.defenses[0].downCount||0,Qe.deaths+=ce.defenses[0].deadCount||0),te.durationMS&&(Qe.totalFightMs+=te.durationMS);const Yt=Array.isArray(ce.activeTimes)&&typeof ce.activeTimes[0]=="number"?ce.activeTimes[0]:te.durationMS||0;Qe.squadActiveMs+=Yt;const yn=ga(te,A),Bn=Number((te==null?void 0:te.durationMS)||0);if(yn>0&&((Qe.firstSeenFightTs<=0||yn<Qe.firstSeenFightTs)&&(Qe.firstSeenFightTs=yn),Qe.lastSeenFightTs<=0||yn>Qe.lastSeenFightTs?(Qe.lastSeenFightTs=yn,Qe.lastSeenFightDurationMs=Bn):yn===Qe.lastSeenFightTs&&Bn>Qe.lastSeenFightDurationMs&&(Qe.lastSeenFightDurationMs=Bn)),Qe.defenseActiveMs+=Yt,Qe.supportActiveMs+=Yt,Qe.healingActiveMs+=Yt,Array.isArray(ce.buffUptimes)&&ce.buffUptimes.length>0&&ce.buffUptimes.forEach(qe=>{var ze,Se,Xe,vt,en,on;if(typeof(qe==null?void 0:qe.id)!="number")return;const jn=`b${qe.id}`,Qt=((ze=te.buffMap)==null?void 0:ze[jn])||((Se=te.buffMap)==null?void 0:Se[String(qe.id)]);if(!Qt||J(Qt))return;const Un=Number(((vt=(Xe=qe.buffData)==null?void 0:Xe[0])==null?void 0:vt.uptime)??0),Ua=Number(((on=(en=qe.buffData)==null?void 0:en[0])==null?void 0:on.presence)??0);if((!Number.isFinite(Un)||Un<=0)&&(!Number.isFinite(Ua)||Ua<=0))return;const Fi=(Qt==null?void 0:Qt.stacking)??!1,cu=(Fi?Number.isFinite(Un)?Un:0:Number.isFinite(Un)?Un/100:0)*Yt,ym=Fi?Ua:Un,$d=Math.min(Math.max(Number.isFinite(ym)?ym:0,0),100)/100*Yt,vm=Number.isFinite(cu)&&cu>0,Io=Number.isFinite($d)&&$d>0;if(!vm&&!Io)return;const Aa=Nu(Qt==null?void 0:Qt.name);if(Aa&&d8.has(Aa)&&(!(Qt!=null&&Qt.classification)||Qt.classification==="Condition")){const du=cu/1e3,Za=Qt==null?void 0:Qt.icon,mi=ne[Aa]||{name:Aa,icon:Za,applications:0,damage:0};mi.applicationsFromUptime=(mi.applicationsFromUptime||0)+du,!mi.icon&&Za&&(mi.icon=Za),ne[Aa]=mi;const ss=Qe.outgoingConditions[Aa]||{applications:0,damage:0,skills:{},icon:Za};ss.applicationsFromUptime=(ss.applicationsFromUptime||0)+du,!ss.icon&&Za&&(ss.icon=Za),Qe.outgoingConditions[Aa]=ss;const nc=H[Aa]||{name:Aa,icon:Za,applications:0,damage:0};nc.applicationsFromUptime=(nc.applicationsFromUptime||0)+du,!nc.icon&&Za&&(nc.icon=Za),H[Aa]=nc;const nl=Qe.incomingConditions[Aa]||{applications:0,damage:0,skills:{},icon:Za};nl.applicationsFromUptime=(nl.applicationsFromUptime||0)+du,!nl.icon&&Za&&(nl.icon=Za),Qe.incomingConditions[Aa]=nl}k.has(jn)||k.set(jn,{name:Qt==null?void 0:Qt.name,stacking:Fi,icon:Qt==null?void 0:Qt.icon}),z.has(jn)||z.set(jn,new Map);const uu=z.get(jn),tc=Qe.account||ce.account||ce.name||"Unknown";let Lr=uu.get(tc);Lr||(Lr={account:tc,profession:Qe.profession||ce.profession||"Unknown",professions:new Set,professionTimeMs:{},totalMs:0,uptimeMs:0,durationMs:0},uu.set(tc,Lr));const _o=ce.profession||Qe.profession;_o&&_o!=="Unknown"&&(Lr.professions.add(_o),Lr.professionTimeMs[_o]=(Lr.professionTimeMs[_o]||0)+Yt,Lr.profession=_o),Lr.totalMs+=vm?cu:0,Lr.uptimeMs+=Io?$d:0,Lr.durationMs+=Yt}),(yt=ce.defenses)!=null&&yt[0]){const qe=Se=>{let Xe=String(Se||"Unknown").replace(/^Juvenile\s+/i,"")||"Unknown";return Xe.toUpperCase().includes("UNKNOWN")&&(Xe="Unknown"),Xe},ze=(()=>{const Se=Array.isArray(ce==null?void 0:ce.minions)?ce.minions:[];if(Se.length===0)return{total:0,byMinion:{}};let Xe=0;const vt={};return Se.forEach(en=>{const on=Array.isArray(en==null?void 0:en.totalDamageTakenDist)?en.totalDamageTakenDist:[],jn=Array.isArray(on[0])?on[0]:[],Qt=qe(en==null?void 0:en.name);jn.forEach(Un=>{const Ua=Number((Un==null?void 0:Un.totalDamage)??(Un==null?void 0:Un.damageTaken)??0);Number.isFinite(Ua)&&(Xe+=Ua,vt[Qt]=(vt[Qt]||0)+Ua)})}),{total:Xe,byMinion:vt}})();ze.byMinion&&typeof ze.byMinion=="object"&&Object.entries(ze.byMinion).forEach(([Se,Xe])=>{const vt=Number(Xe||0);!Number.isFinite(vt)||vt<=0||(Qe.defenseMinionDamageTaken[Se]=(Qe.defenseMinionDamageTaken[Se]||0)+vt)}),JT.forEach(Se=>{const Xe=Se.id==="minionDamageTaken"?ze.total:Number(ce.defenses[0][Se.field]??0);Number.isFinite(Xe)&&(Qe.defenseTotals[Se.id]=(Qe.defenseTotals[Se.id]||0)+Xe)})}(ft=ce.support)!=null&&ft[0]&&ZT.forEach(qe=>{let ze=Number(ce.support[0][qe.field]??0);Number.isFinite(ze)&&(K.has(qe.field)&&ze>999999&&(ze=0),Qe.supportTotals[qe.id]=(Qe.supportTotals[qe.id]||0)+ze)});const yr=(qe,ze)=>{Number.isFinite(ze)&&(Qe.healingTotals[qe]=(Qe.healingTotals[qe]||0)+ze)},Rt=(qe,ze)=>Array.isArray(qe)?qe.reduce((Se,Xe)=>Se+Number((Xe==null?void 0:Xe[ze])??0),0):0,ra=(qe,ze,Se)=>{if(!Number.isFinite(Se)||Se<=0)return;const Xe=ue[ze],vt=ze===$e,en=Xe==null?void 0:Xe.notInSquad,on=!en,jn=on&&(Xe==null?void 0:Xe.group)!=null&&Xe.group===ce.group;yr(qe,Se),on&&yr(`squad${qe[0].toUpperCase()}${qe.slice(1)}`,Se),jn&&yr(`group${qe[0].toUpperCase()}${qe.slice(1)}`,Se),vt&&yr(`self${qe[0].toUpperCase()}${qe.slice(1)}`,Se),en&&yr(`offSquad${qe[0].toUpperCase()}${qe.slice(1)}`,Se)};if(Array.isArray(ce.rotation)){let qe=0;ce.rotation.forEach(ze=>{var Se;if(!(ze!=null&&ze.id)||!g8(ze.id,te.skillMap))return;const Xe=((Se=ze.skills)==null?void 0:Se.length)||0;Xe>0&&(qe+=Xe,yr(`resUtility_s${ze.id}`,Xe))}),qe>0&&yr("resUtility",qe)}const qn=(Re=ce.extHealingStats)==null?void 0:Re.outgoingHealingAllies;Array.isArray(qn)&&qn.forEach((qe,ze)=>{const Se=Rt(qe,"healing"),Xe=Rt(qe,"downedHealing");ra("healing",ze,Se),ra("downedHealing",ze,Xe)});const Ja=(Ze=ce.extBarrierStats)==null?void 0:Ze.outgoingBarrierAllies;Array.isArray(Ja)&&Ja.forEach((qe,ze)=>{const Se=Rt(qe,"barrier");ra("barrier",ze,Se)});const zn=(Ne=ce.statsAll)==null?void 0:Ne[0],os=(Be=ce.dpsAll)==null?void 0:Be[0],qr=(dt=ce.support)==null?void 0:dt[0];if(XT.forEach(qe=>{if(qe.id==="downContributionPercent"||!qe.field)return;let ze=0,Se=0;qe.source==="dpsAll"&&os?ze=Number(os[qe.field]??0):qe.source==="statsAll"&&zn?(ze=Number(zn[qe.field]??0),Se=Number(zn[qe.denomField||qe.weightField||"connectedDamageCount"]??0)):qe.source==="support"&&qr?ze=Number(qr[qe.field]??0):ce.statsTargets&&ce.statsTargets.forEach(Xe=>{Xe!=null&&Xe[0]&&(ze+=Number(Xe[0][qe.field]??0),Se+=Number(Xe[0][qe.denomField||qe.weightField||"connectedDamageCount"]??0))}),Number.isFinite(ze)&&(Qe.offenseTotals[qe.id]=(Qe.offenseTotals[qe.id]||0)+ze,qe.isRate&&Se>0&&(Qe.offenseRateWeights[qe.id]=(Qe.offenseRateWeights[qe.id]||0)+Se))}),ce.targetDamageDist&&Number.isFinite(Oe)){const qe=ce.targetDamageDist.flatMap(ze=>ze||[]).flatMap(ze=>ze||[]).reduce((ze,Se)=>Se!=null&&Se.id&&Se.id===Oe?ze+((Se==null?void 0:Se.connectedHits)||0):ze,0);Qe.offenseTotals.battleStandardHits=(Qe.offenseTotals.battleStandardHits||0)+qe}Qe.revives+=((Te=(ct=ce.support)==null?void 0:ct[0])==null?void 0:Te.resurrects)||0,os&&(Qe.damage+=os.damage||0,Qe.dps+=os.dps||0);const lu=qe=>{var ze,Se,Xe,vt;let en=`Skill ${qe.id}`;const on=((ze=te.skillMap)==null?void 0:ze[`s${qe.id}`])||((Se=te.skillMap)==null?void 0:Se[`${qe.id}`]);let jn=on==null?void 0:on.icon;if(on!=null&&on.name&&(en=on.name),en.startsWith("Skill ")){const Qt=Ih(en,qe.id,te.buffMap);Qt&&(en=Qt,jn=((vt=(Xe=te.buffMap)==null?void 0:Xe[`b${qe.id}`])==null?void 0:vt.icon)||jn)}return{name:en,icon:jn}},Tn=qe=>{if(!(qe!=null&&qe.id))return;const{name:ze,icon:Se}=lu(qe);Q[qe.id]||(Q[qe.id]={name:ze,icon:Se,damage:0,hits:0,downContribution:0}),Q[qe.id].name.startsWith("Skill ")&&!ze.startsWith("Skill ")&&(Q[qe.id].name=ze),!Q[qe.id].icon&&Se&&(Q[qe.id].icon=Se),Q[qe.id].damage+=qe.totalDamage,Q[qe.id].hits+=qe.connectedHits,Q[qe.id].downContribution+=Number(qe.downContribution||0)},Li=ce.account||ce.name||"Unknown",_r=ce.profession||"Unknown",oo=`${Li}|${_r}`;let _n=ve.get(oo);_n||(_n={key:oo,account:Li,displayName:Li,profession:_r,professionList:[_r],totalFightMs:0,skills:new Map},ve.set(oo,_n)),_n.professionList.includes(_r)||_n.professionList.push(_r),_n.totalFightMs+=te.durationMS||0;const tl=qe=>{if(!(qe!=null&&qe.id))return;const{name:ze,icon:Se}=lu(qe),Xe=`s${qe.id}`;let vt=_n.skills.get(Xe);vt||(vt={id:Xe,name:ze,icon:Se,damage:0,downContribution:0},_n.skills.set(Xe,vt)),vt.name.startsWith("Skill ")&&!ze.startsWith("Skill ")&&(vt.name=ze),!vt.icon&&Se&&(vt.icon=Se),vt.damage+=Number(qe.totalDamage||0),vt.downContribution+=Number(qe.downContribution||0)};if(v==="total")(it=ce.totalDamageDist)==null||it.forEach(qe=>{qe==null||qe.forEach(ze=>{Tn(ze),tl(ze)})});else{const qe=new Map;(gt=ce.targetDamageDist)==null||gt.forEach(ze=>{ze==null||ze.forEach(Se=>{Se==null||Se.forEach(Xe=>{const vt=Number(Xe==null?void 0:Xe.id);if(Number.isFinite(vt)){const en=qe.get(vt)||{damage:0,hits:0,downContribution:0};en.damage+=Number((Xe==null?void 0:Xe.totalDamage)||0),en.hits+=Number((Xe==null?void 0:Xe.connectedHits)||0),en.downContribution+=Number((Xe==null?void 0:Xe.downContribution)||0),qe.set(vt,en)}Tn(Xe),tl(Xe)})})}),!(te!=null&&te.detailedWvW)&&((kt=ce.totalDamageDist)==null||kt.forEach(ze=>{ze==null||ze.forEach(Se=>{const Xe=Number(Se==null?void 0:Se.id);if(!Number.isFinite(Xe))return;const vt=qe.get(Xe);if(!vt){Tn(Se),tl(Se);return}const en=Number((Se==null?void 0:Se.totalDamage)||0),on=Number((Se==null?void 0:Se.connectedHits)||0),jn=Number((Se==null?void 0:Se.downContribution)||0),Qt=en-Number(vt.damage||0),Un=on-Number(vt.hits||0),Ua=jn-Number(vt.downContribution||0);if(Qt<=0&&Un<=0&&Ua<=0)return;const Fi={...Se,totalDamage:Math.max(0,Qt),connectedHits:Math.max(0,Un),downContribution:Math.max(0,Ua)};Tn(Fi),tl(Fi)})}))}ce.totalDamageTaken&&ce.totalDamageTaken.forEach(qe=>{qe==null||qe.forEach(ze=>{var Se,Xe,vt,en;if(!(ze!=null&&ze.id))return;let on=`Skill ${ze.id}`;const jn=((Se=te.skillMap)==null?void 0:Se[`s${ze.id}`])||((Xe=te.skillMap)==null?void 0:Xe[`${ze.id}`]);let Qt=jn==null?void 0:jn.icon;if(jn!=null&&jn.name&&(on=jn.name),on.startsWith("Skill ")){const Un=Ih(on,ze.id,te.buffMap);Un&&(on=Un,Qt=((en=(vt=te.buffMap)==null?void 0:vt[`b${ze.id}`])==null?void 0:en.icon)||Qt)}oe[ze.id]||(oe[ze.id]={name:on,icon:Qt,damage:0,hits:0}),(!oe[ze.id].name.startsWith("Skill ")||on.startsWith("Skill "))&&(oe[ze.id].name=on),!oe[ze.id].icon&&Qt&&(oe[ze.id].icon=Qt),oe[ze.id].damage+=ze.totalDamage,oe[ze.id].hits+=ze.hits})})}),Fe.forEach(ce=>{if(ce!=null&&ce.isFake)return;const $e=U((ce==null?void 0:ce.profession)||(ce==null?void 0:ce.name)||(ce==null?void 0:ce.id));$e&&(V[$e]=(V[$e]||0)+1)});const Ae=sU({players:ue,targets:Fe,skillMap:te.skillMap,buffMap:te.buffMap,getPlayerKey:ce=>ce.account&&ce.account!=="Unknown"?ce.account:ce.name||null}),Pe=m3(te.buffMap);Object.entries(Ae.playerConditions).forEach(([ce,$e])=>{const Ve=O.get(ce);Ve&&Object.entries($e).forEach(([yt,ft])=>{const Re=Ve.outgoingConditions[yt]||{applications:0,damage:0,skills:{},icon:ft.icon};Re.applications+=Number(ft.applications||0),Re.damage+=Number(ft.damage||0),ft.applicationsFromBuffs&&(Re.applicationsFromBuffs=(Re.applicationsFromBuffs||0)+ft.applicationsFromBuffs),ft.applicationsFromBuffsActive&&(Re.applicationsFromBuffsActive=(Re.applicationsFromBuffsActive||0)+ft.applicationsFromBuffsActive),Object.entries(ft.skills||{}).forEach(([Ze,Ne])=>{const Be=Re.skills[Ze]||{name:Ne.name,hits:0,damage:0,icon:Ne.icon};Be.hits+=Number(Ne.hits||0),Be.damage+=Number(Ne.damage||0),!Be.icon&&Ne.icon&&(Be.icon=Ne.icon),Re.skills[Ze]=Be}),!Re.icon&&ft.icon&&(Re.icon=ft.icon),Ve.outgoingConditions[yt]=Re})}),Object.entries(Ae.summary).forEach(([ce,$e])=>{const Ve=ne[ce]||{name:$e.name||ce,icon:$e.icon,applications:0,damage:0};Ve.applications+=Number($e.applications||0),Ve.damage+=Number($e.damage||0),$e.applicationsFromBuffs&&(Ve.applicationsFromBuffs=(Ve.applicationsFromBuffs||0)+$e.applicationsFromBuffs),$e.applicationsFromBuffsActive&&(Ve.applicationsFromBuffsActive=(Ve.applicationsFromBuffsActive||0)+$e.applicationsFromBuffsActive),!Ve.icon&&$e.icon&&(Ve.icon=$e.icon),ne[ce]=Ve}),at.forEach(ce=>{const $e=ce.account&&ce.account!=="Unknown"?ce.account:ce.name||"Unknown",Ve=O.get($e);!Ve||!ce.totalDamageTaken||ce.totalDamageTaken.forEach(yt=>yt==null?void 0:yt.forEach(ft=>{var Re,Ze,Ne,Be,dt,ct;if(!(ft!=null&&ft.id))return;let Te=`Skill ${ft.id}`;const it=((Re=te.skillMap)==null?void 0:Re[`s${ft.id}`])||((Ze=te.skillMap)==null?void 0:Ze[`${ft.id}`]);it!=null&&it.name&&(Te=it.name);const gt=Ih(Te,ft.id,te.buffMap);if(!gt)return;const kt=(Be=(Ne=te.buffMap)==null?void 0:Ne[`b${ft.id}`])==null?void 0:Be.name,fn=Pe.get(gt)||((ct=(dt=te.buffMap)==null?void 0:dt[`b${ft.id}`])==null?void 0:ct.icon),an=(it==null?void 0:it.icon)||fn;Te.startsWith("Skill ")&&(kt||gt)&&(Te=kt||gt);const ln=Number(ft.hits??0),Qe=Number(ft.totalDamage??0),Hn=H[gt]||{name:gt,icon:fn,applications:0,damage:0};Hn.applications+=Number.isFinite(ln)?ln:0,Hn.damage+=Number.isFinite(Qe)?Qe:0,!Hn.icon&&fn&&(Hn.icon=fn),H[gt]=Hn;const Yt=Ve.incomingConditions[gt]||{applications:0,damage:0,skills:{},icon:fn};Yt.applications+=Number.isFinite(ln)?ln:0,Yt.damage+=Number.isFinite(Qe)?Qe:0;const yn=Yt.skills[Te]||{name:Te,hits:0,damage:0,icon:an};yn.hits+=Number.isFinite(ln)?ln:0,yn.damage+=Number.isFinite(Qe)?Qe:0,!yn.icon&&an&&(yn.icon=an),Yt.skills[Te]=yn,!Yt.icon&&fn&&(Yt.icon=fn),Ve.incomingConditions[gt]=Yt}))});const Ye=te.player_damage_mitigation||te.playerDamageMitigation,pe=Ye&&typeof Ye=="object"&&Object.keys(Ye).length>0;pe&&Object.entries(Ye).forEach(([ce,$e])=>{if(!$e||typeof $e!="object")return;const Ve=Z(ce),yt=F(le,Ve.account,Ve);Object.values($e).forEach(ft=>{R((ft==null?void 0:ft.avoided_damage)??(ft==null?void 0:ft.avoidedDamage))<=0||fe(yt.mitigationTotals,ft)})});const Ue=te.player_minion_damage_mitigation||te.playerMinionDamageMitigation,et=Ue&&typeof Ue=="object"&&Object.keys(Ue).length>0;et&&Object.entries(Ue).forEach(([ce,$e])=>{if(!$e||typeof $e!="object")return;const Ve=Z(ce);Object.entries($e).forEach(([yt,ft])=>{if(!ft||typeof ft!="object")return;const Re=`${Ve.account}::${yt}`,Ze=se(G,Re,{...Ve,minion:String(yt||"Unknown")});Object.values(ft).forEach(Ne=>{fe(Ze.mitigationTotals,Ne)})})}),(!pe||!et)&&(pe||at.forEach(ce=>{const $e=(ce==null?void 0:ce.totalDamageTaken)||[];if(!Array.isArray($e)||$e.length===0)return;const Ve=ce.account||ce.name||"Unknown",yt={account:Ve,name:ce.name||Ve,profession:U(ce.profession||"Unknown")};F(le,Ve,yt);const ft=Array.isArray($e)?$e[0]:null;ft==null||ft.forEach(Re=>{if(!(Re!=null&&Re.id))return;const Ze=R(Re.blocked),Ne=R(Re.evaded),Be=R(Re.glance??Re.glanced),dt=R(Re.missed),ct=R(Re.invulned),Te=R(Re.interrupted),it=R(Re.hits??Re.connectedHits),gt=Number(Re.id);ae(st,`${Ve}::${gt}`,{totalHits:it,blocked:Ze,evaded:Ne,glanced:Be,missed:dt,invulned:ct,interrupted:Te})})}),et||at.forEach(ce=>{const $e=(ce==null?void 0:ce.minions)||[];if(!Array.isArray($e)||$e.length===0)return;const Ve=ce.account||ce.name||"Unknown",yt={account:Ve,name:ce.name||Ve,profession:U(ce.profession||"Unknown")};$e.forEach(ft=>{const Re=(ft==null?void 0:ft.totalDamageTakenDist)||[];if(!Array.isArray(Re)||Re.length===0)return;let Ze=String((ft==null?void 0:ft.name)||"Unknown").replace(/^Juvenile\s+/i,"")||"Unknown";Ze.toUpperCase().includes("UNKNOWN")&&(Ze="Unknown");const Ne=`${Ve}::${Ze}`;se(G,Ne,{...yt,minion:Ze});const Be=Array.isArray(Re)?Re[0]:null;Be==null||Be.forEach(dt=>{if(!(dt!=null&&dt.id))return;const ct=R(dt.blocked),Te=R(dt.evaded),it=R(dt.glance??dt.glanced),gt=R(dt.missed),kt=R(dt.invulned),fn=R(dt.interrupted),an=R(dt.hits??dt.connectedHits),ln=Number(dt.id);ae(De,`${Ne}::${ln}`,{totalHits:an,blocked:ct,evaded:Te,glanced:it,missed:gt,invulned:kt,interrupted:fn})})})}))});const Ie=(A,L)=>{const Y=new Map,te=ue=>{let Fe=Y.get(ue);return Fe||(Fe=_(),Y.set(ue,Fe)),Fe};L.forEach((ue,Fe)=>{const ke=Fe.lastIndexOf("::"),mt=ke>-1?Fe.slice(0,ke):Fe,St=ke>-1?Number(Fe.slice(ke+2)):Number.NaN,Lt=Number.isFinite(St)?Ee(St):{hasSkill:!1,avg:0,min:0,hits:0};if(!Lt.hasSkill||Lt.hits<=0)return;const At=Lt.avg,Ge=Lt.min,Le=ue.glanced*At/2+(ue.blocked+ue.evaded+ue.missed+ue.invulned+ue.interrupted)*At,lt=ue.glanced*Ge/2+(ue.blocked+ue.evaded+ue.missed+ue.invulned+ue.interrupted)*Ge;if(Le<=0)return;const Ce=te(mt);Ce.totalHits+=ue.totalHits,Ce.blocked+=ue.blocked,Ce.evaded+=ue.evaded,Ce.glanced+=ue.glanced,Ce.missed+=ue.missed,Ce.invulned+=ue.invulned,Ce.interrupted+=ue.interrupted,Ce.totalMitigation+=Le,Ce.minMitigation+=lt}),A.forEach((ue,Fe)=>{const ke=Y.get(Fe)||_();ue.mitigationTotals.totalHits=ke.totalHits,ue.mitigationTotals.blocked=ke.blocked,ue.mitigationTotals.evaded=ke.evaded,ue.mitigationTotals.glanced=ke.glanced,ue.mitigationTotals.missed=ke.missed,ue.mitigationTotals.invulned=ke.invulned,ue.mitigationTotals.interrupted=ke.interrupted,ue.mitigationTotals.totalMitigation=ke.totalMitigation,ue.mitigationTotals.minMitigation=ke.minMitigation})};Ie(le,st),Ie(G,De);const ee=y>0?Math.round(S/y):0,ht=y>0?Math.round(j/y):0,Pt=N>0?(M/N).toFixed(2):M>0?"":"0.00",Rn=P>0?(B/P).toFixed(2):B>0?"":"0.00",be=(A,L)=>{const Y=A.filter(Fe=>Number.isFinite(Fe.value)&&(L?Fe.value>0:Fe.value>=0)).sort((Fe,ke)=>{const mt=L?ke.value-Fe.value:Fe.value-ke.value;return mt!==0?mt:Fe.account.localeCompare(ke.account)});let te=null,ue=0;return Y.map((Fe,ke)=>((te===null||Fe.value!==te)&&(ue=ke+1,te=Fe.value),{rank:ue,...Fe}))},We=Array.from(O.values()).map(A=>{const L=Array.from(A.professions).filter(Y=>Y!=="Unknown");if(A.professionList=L,L.length>0){let Y=L[0],te=A.professionTimeMs[Y]||0;L.forEach(ue=>{const Fe=A.professionTimeMs[ue]||0;Fe>te&&(te=Fe,Y=ue)}),A.profession=Y}return{key:A.account,stat:A}}),Tt=A=>{const L=O.get(A.account);if(!L){const ue=A.professionList.length>0?A.professionList:A.profession?[A.profession]:[];return{...A,professionList:ue}}const Y=L.professionList&&L.professionList.length>0?L.professionList:Array.from(L.professions||[]).filter(ue=>ue&&ue!=="Unknown"),te=L.profession||A.profession;return{...A,profession:te,professionList:Y.length>0?Y:te?[te]:[],activeMs:L.defenseActiveMs||L.totalFightMs||A.activeMs}},rn=Array.from(le.values()).map(Tt).filter(A=>q(A.mitigationTotals)).sort((A,L)=>A.account.localeCompare(L.account)),sn=Array.from(G.values()).map(Tt).filter(A=>A.mitigationTotals.totalMitigation>0).sort((A,L)=>{const Y=A.account.localeCompare(L.account);return Y!==0?Y:String(A.minion||"").localeCompare(String(L.minion||""))}),hr=(A,L)=>{switch(L){case"downContrib":return A.downContrib;case"barrier":return A.barrier;case"healing":return A.healing;case"dodges":return A.dodges;case"strips":return A.strips;case"cleanses":return A.cleanses;case"cc":return A.cc;case"stability":return A.stab;case"revives":return A.revives;case"dps":return A.dps;case"damage":return A.damage;case"participation":return A.logsJoined;case"closestToTag":return!A.isCommander&&A.distCount>0?A.totalDist/A.distCount:Number.POSITIVE_INFINITY;default:return 0}},Jn=(A,L)=>be(We.map(({stat:Y})=>({account:Y.account,profession:Y.profession,professionList:Y.professionList,value:hr(Y,A),count:Y.logsJoined})),L),dn={downContrib:Jn("downContrib",!0),barrier:Jn("barrier",!0),healing:Jn("healing",!0),dodges:Jn("dodges",!0),strips:Jn("strips",!0),cleanses:Jn("cleanses",!0),cc:Jn("cc",!0),stability:Jn("stability",!0),revives:Jn("revives",!0),participation:Jn("participation",!0),dps:Jn("dps",!0),damage:Jn("damage",!0),closestToTag:Jn("closestToTag",!1).filter(A=>Number.isFinite(A.value))},Ca={downContrib:"downContrib",barrier:"barrier",healing:"healing",dodges:"dodges",strips:"strips",cleanses:"cleanses",cc:"cc",stability:"stability",closestToTag:"closestToTag"},pn=A=>{const L=A==null?void 0:A[0];return{value:(L==null?void 0:L.value)??0,player:(L==null?void 0:L.account)??"-",count:(L==null?void 0:L.count)??0,profession:(L==null?void 0:L.profession)??"Unknown",professionList:(L==null?void 0:L.professionList)??[]}},In={maxDownContrib:pn([]),maxBarrier:pn([]),maxHealing:pn([]),maxDodges:pn([]),maxStrips:pn([]),maxCleanses:pn([]),maxCC:pn([]),maxStab:pn([]),closestToTag:pn([])},gr={},An=(A,L)=>{if(L==="closestToTag")return hr(A,L);const Y=Math.max(1,(A.totalFightMs||0)/1e3);return hr(A,L)/Y};Object.values(Ca).forEach(A=>{const L=A!=="closestToTag";gr[A]=be(We.map(({stat:Y})=>({account:Y.account,profession:Y.profession,professionList:Y.professionList,value:An(Y,A),count:Y.logsJoined})),L)}),In.maxDownContrib=pn(gr.downContrib),In.maxBarrier=pn(gr.barrier),In.maxHealing=pn(gr.healing),In.maxDodges=pn(gr.dodges),In.maxStrips=pn(gr.strips),In.maxCleanses=pn(gr.cleanses),In.maxCC=pn(gr.cc),In.maxStab=pn(gr.stability),In.closestToTag=pn(gr.closestToTag);const Xl={maxDownContrib:pn(dn.downContrib),maxBarrier:pn(dn.barrier),maxHealing:pn(dn.healing),maxDodges:pn(dn.dodges),maxStrips:pn(dn.strips),maxCleanses:pn(dn.cleanses),maxCC:pn(dn.cc),maxStab:pn(dn.stability),closestToTag:pn(dn.closestToTag)};let da={player:"None",account:"None",score:-1,profession:"Unknown",professionList:[],color:"#64748b",topStats:[]},Ir,ou,Jl=0;if(l!=null&&l.showMvp){const A={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},L=Fe=>{const ke=A[Fe];return ke?Number(u[ke]||0)>0:!1},Y=[],te=Fe=>[...Fe||[]].filter(ke=>L(ke==null?void 0:ke.name)).sort((ke,mt)=>mt.ratio-ke.ratio||ke.rank-mt.rank||ke.name.localeCompare(mt.name)).slice(0,3),ue=Fe=>{var ke;if(!Fe)return;const mt=te(Fe.contribs);return{...Fe,player:Fe.name,reason:((ke=mt[0])==null?void 0:ke.name)||"Top Performance",topStats:mt}};We.forEach(({stat:Fe})=>{let ke=0;const mt=[],St=(Lt,At,Ge,Le,lt=!0)=>{var Ce,Je;if(Ge<=0)return;const at=((Ce=At[0])==null?void 0:Ce.value)||0;if(at&&Number.isFinite(Lt)&&(lt?Lt>0:Lt<Number.POSITIVE_INFINITY)){const wt=lt?Lt/at:at/Lt;ke+=wt*Ge;const Me=((Je=At.find(Oe=>Oe.account===Fe.account))==null?void 0:Je.rank)||0;mt.push({name:Le,ratio:wt,val:Lt.toLocaleString(),rank:Me})}};St(Fe.downContrib,dn.downContrib,u.downContribution,"Down Contribution"),St(Fe.healing,dn.healing,u.healing,"Healing"),St(Fe.cleanses,dn.cleanses,u.cleanses,"Cleanses"),St(Fe.strips,dn.strips,u.strips,"Strips"),St(Fe.stab,dn.stability,u.stability,"Stability"),St(Fe.cc,dn.cc,u.cc,"CC"),St(Fe.revives,dn.revives,u.revives,"Revives"),St(hr(Fe,"closestToTag"),dn.closestToTag,u.distanceToTag,"Distance to Tag",!1),St(Fe.logsJoined,dn.participation,u.participation,"Participation"),St(Fe.dodges,dn.dodges,u.dodging,"Dodging"),St(Fe.dps,dn.dps,u.dps,"DPS"),St(Fe.damage,dn.damage,u.damage,"Damage"),Y.push({...Fe,score:ke,contribs:mt.filter(Lt=>L(Lt.name))})}),Y.sort((Fe,ke)=>ke.score-Fe.score),Y[0]&&Y[0].score>0&&(da=ue(Y[0])||da),Ir=ue(Y[1]),ou=ue(Y[2]),Jl=Y.length>0?Y.reduce((Fe,ke)=>Fe+ke.score,0)/Y.length:0}const Po=Object.values(Q).sort((A,L)=>L.damage-A.damage||L.hits-A.hits||String(A.name||"").localeCompare(String(L.name||""))).slice(0,25),Ma=Object.values(Q).sort((A,L)=>L.downContribution-A.downContribution||L.hits-A.hits||String(A.name||"").localeCompare(String(L.name||""))).slice(0,25),ao=b==="downContribution"?Ma:Po,fa=Object.values(oe).sort((A,L)=>L.damage-A.damage).slice(0,25),Hr=A=>{const L=String(A).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),Y=L.match(/^(Red|Blue|Green)\s+(?:Alpine|Desert)?\s*Borderlands$/i);return Y?`${Y[1]} Borderlands`:L||"Unknown"},za=(A,L)=>Hr((A==null?void 0:A.zone)||(A==null?void 0:A.mapName)||(A==null?void 0:A.map)||(A==null?void 0:A.location)||(A==null?void 0:A.fightName)||(L==null?void 0:L.fightName)||(L==null?void 0:L.encounterName)||"Unknown"),pa=(A,L)=>{const Y=(L==null?void 0:L.permalink)||(A==null?void 0:A.permalink);if(typeof Y=="string"&&Y.trim().length>0)return Y.trim();const te=A==null?void 0:A.uploadLinks;if(!Array.isArray(te))return"";for(const ue of te){if(typeof ue=="string"&&ue.trim().length>0)return ue.trim();if(ue&&typeof ue=="object"){const Fe=ue.permalink||ue.link||ue.url||ue.reportLink;if(typeof Fe=="string"&&Fe.trim().length>0)return Fe.trim()}}return""},Zs=(A,L)=>{const Y=Number((A==null?void 0:A.durationMS)||0);return Y>0?Ym(Y):(typeof(L==null?void 0:L.encounterDuration)=="string"?L.encounterDuration.trim():"")||"--:--"},is=(A,L)=>{if((Array.isArray(A==null?void 0:A.players)?A.players:[]).length>0)return I(A);if(typeof(A==null?void 0:A.success)=="boolean")return A.success;const Y=L==null?void 0:L.dashboardSummary;if(Y&&typeof Y=="object"){if(Y.isWin===!0)return!0;if(Y.isWin===!1)return!1}return null},Ii=(A,L)=>{var Y,te;const ue=ga((Y=A.log)==null?void 0:Y.details,A.log),Fe=ga((te=L.log)==null?void 0:te.details,L.log),ke=ue>0,mt=Fe>0;return ke&&mt&&ue!==Fe?ue-Fe:ke!==mt?ke?-1:1:A.originalIndex-L.originalIndex},Zn=e.map((A,L)=>({log:A,originalIndex:L})).sort(Ii),io=Zn.filter(({log:A})=>o(A)),To={};s.forEach(A=>{const L=za(A==null?void 0:A.details,A);To[L]=(To[L]||0)+1});const Zl=Object.entries(To).map(([A,L])=>{const Y=String(A).trim(),te=/eternal battlegrounds|^ebg$/i.test(Y);let ue="#64748b";return te?ue="#ffffff":/red/i.test(Y)?ue="#ef4444":/blue/i.test(Y)?ue="#3b82f6":/green/i.test(Y)&&(ue="#22c55e"),{name:A,value:L,color:ue}}).sort((A,L)=>L.value-A.value),{boonTables:_i}=W8(s),su=(()=>{const A=Ge=>String(Ge||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),L=Ge=>A(Ge).toLowerCase().split(/[^a-z0-9]+/i).map(Le=>Le.trim()).filter(Boolean).map(Le=>Le.length>3&&Le.endsWith("s")?Le.slice(0,-1):Le),Y=(Ge,Le)=>{const lt=A(Ge),Ce=A(Le);if(!Ce)return lt;if(!lt)return Ce;const Je=L(lt),at=L(Ce),wt=new Set(Je),Me=new Set(at),Oe=at.length>0&&at.every(Pe=>wt.has(Pe)),Ae=Je.length>0&&Je.every(Pe=>Me.has(Pe));return Oe||Ae?lt:`${lt} - ${Ce}`},te=new Map,ue=(Ge,Le)=>{if(!te.has(Ge))te.set(Ge,{id:Ge,name:String((Le==null?void 0:Le.name)||Ge),icon:Le==null?void 0:Le.icon,stacking:!!(Le!=null&&Le.stacking),players:new Map,fights:[]});else if(Le){const lt=te.get(Ge);(!lt.name||lt.name===Ge)&&Le!=null&&Le.name&&(lt.name=String(Le.name)),!lt.icon&&Le!=null&&Le.icon&&(lt.icon=String(Le.icon)),!lt.stacking&&Le!=null&&Le.stacking&&(lt.stacking=!0)}return te.get(Ge)},Fe=Ge=>Array.isArray(Ge)?Ge.map(Le=>Array.isArray(Le)?[Number(Le[0]),Number(Le[1])]:Le&&typeof Le=="object"?[Number(Le.time),Number(Le.value)]:null).filter(Le=>!!Le&&Number.isFinite(Le[0])&&Number.isFinite(Le[1])&&Le[0]>=0).sort((Le,lt)=>Le[0]-lt[0]):[],ke=(Ge,Le,lt)=>{const Ce=Ge.get(Le)||[];Ce.length<lt&&(Ce.length=lt);for(let Je=0;Je<lt;Je+=1)Number.isFinite(Ce[Je])||(Ce[Je]=0);return Ge.set(Le,Ce),Ce},mt=(Ge,Le,lt,Ce,Je)=>{if(!Le||Le==="__all__"||Ce<=0)return;const at=Fe(lt);if(at.length===0)return;const wt=ke(Ge,Le,Ce),Me=Math.max(1,Number(Je||0),Ce*5e3),Oe=pe=>Math.max(0,Math.min(Me,Number(pe||0))),Ae=(pe,Ue,et)=>{if(!Number.isFinite(et)||et<=0)return;let ce=Oe(pe);const $e=Oe(Ue);if(!($e<=ce))for(;ce<$e;){const Ve=Math.max(0,Math.min(Ce-1,Math.floor(ce/5e3))),yt=Math.min($e,(Ve+1)*5e3),ft=Math.max(0,yt-ce);ft>0&&(wt[Ve]=Number(wt[Ve]||0)+ft*et),ce=yt}};let Pe=Oe(at[0][0]),Ye=Math.max(0,Number(at[0][1]||0));for(let pe=1;pe<at.length;pe+=1){const[Ue,et]=at[pe],ce=Oe(Ue);Ae(Pe,ce,Ye),Pe=ce,Ye=Math.max(0,Number(et||0))}Ae(Pe,Me,Ye)},St=(Ge,Le,lt)=>{const Ce=Array.from({length:lt},(wt,Me)=>Number((Ge==null?void 0:Ge[Me])||0)),Je=Ce.reduce((wt,Me)=>wt+Number(Me||0),0);if(!Number.isFinite(Le)||Le<=0)return Ce.map(()=>0);if(!Number.isFinite(Je)||Je<=0){const wt=Le/Math.max(1,lt);return Ce.map(()=>wt)}const at=Le/Je;return Ce.map(wt=>Number(wt||0)*at)},Lt=()=>({selfBuffs:0,groupBuffs:0,squadBuffs:0,totalBuffs:0}),At=(Ge,Le,lt)=>{const Ce=Math.max(0,Number(lt||0));Ce&&(Ge[Le]=Number(Ge[Le]||0)+Ce,(Le==="selfBuffs"||Le==="squadBuffs")&&(Ge.totalBuffs=Number(Ge.totalBuffs||0)+Ce))};return s.map(Ge=>({log:Ge,ts:ga(Ge==null?void 0:Ge.details,Ge)})).sort((Ge,Le)=>Ge.ts-Le.ts).forEach(({log:Ge},Le)=>{const lt=Ge==null?void 0:Ge.details;if(!lt)return;const Ce=(Array.isArray(lt.players)?lt.players:[]).filter($e=>!($e!=null&&$e.notInSquad)),Je=Ce.length;if(Je<=0)return;const at=Math.max(0,Number((lt==null?void 0:lt.durationMS)||0)),wt=Math.max(1,Math.ceil(Math.max(1,at)/5e3)),Me=lt!=null&&lt.buffMap&&typeof lt.buffMap=="object"?lt.buffMap:{},Oe=new Map,Ae=new Map;Ce.forEach($e=>{const Ve=Number(($e==null?void 0:$e.group)??0);Ae.set(Ve,(Ae.get(Ve)||0)+1);const yt=String(($e==null?void 0:$e.account)||($e==null?void 0:$e.name)||"Unknown");[$e==null?void 0:$e.name,$e==null?void 0:$e.display_name,$e==null?void 0:$e.character_name,$e==null?void 0:$e.account].map(ft=>String(ft||"").trim()).filter(Boolean).forEach(ft=>Oe.set(ft,yt))});const Pe=A(lt.fightName||Ge.fightName||`Fight ${Le+1}`),Ye=za(lt,Ge),pe=Y(Pe,String(Ye||"")),Ue=new Map,et=new Map,ce=new Map;Ce.forEach($e=>{const Ve=String(($e==null?void 0:$e.account)||($e==null?void 0:$e.name)||"Unknown"),yt=String(($e==null?void 0:$e.profession)||"Unknown"),ft=Ve,Re=Number(($e==null?void 0:$e.group)??0),Ze=Math.max(1,Number(Ae.get(Re)||1));["selfBuffs","groupBuffs","squadBuffs"].forEach(Ne=>{(Array.isArray($e==null?void 0:$e[Ne])?$e[Ne]:[]).forEach(Be=>{var dt;const ct=Number(Be==null?void 0:Be.id);if(!Number.isFinite(ct))return;const Te=`b${ct}`,it=Me[Te]||{},gt=String((it==null?void 0:it.classification)||"");if(gt&&gt!=="Boon")return;const kt=Number(((dt=Ox($e,Ne,ct,at,Ze,Je,Me))==null?void 0:dt.generationMs)||0);if(!Number.isFinite(kt)||kt<=0)return;const fn=ue(Te,it),an=fn.players.get(ft)||{key:ft,account:Ve,displayName:Ve,profession:yt,professionList:yt&&yt!=="Unknown"?[yt]:[],logs:0,totals:Lt()};yt&&yt!=="Unknown"&&!an.professionList.includes(yt)&&an.professionList.push(yt),(!an.profession||an.profession==="Unknown")&&yt&&yt!=="Unknown"&&(an.profession=yt);const ln=ce.get(Te)||new Set;ln.has(ft)||(ln.add(ft),an.logs+=1,ce.set(Te,ln)),At(an.totals,Ne,kt),fn.players.set(ft,an);const Qe=fn.players.get("__all__")||{key:"__all__",account:"All",displayName:"All",profession:"All",professionList:[],logs:0,totals:Lt()};At(Qe.totals,Ne,kt),fn.players.set("__all__",Qe);const Hn=Ue.get(Te)||new Map,Yt=Hn.get(ft)||Lt();At(Yt,Ne,kt),Hn.set(ft,Yt);const yn=Hn.get("__all__")||Lt();At(yn,Ne,kt),Hn.set("__all__",yn),Ue.set(Te,Hn);const Bn=Array.isArray($e==null?void 0:$e.buffUptimes)?$e.buffUptimes.find(Rt=>Number(Rt==null?void 0:Rt.id)===ct):null,yr=Bn!=null&&Bn.statesPerSource&&typeof Bn.statesPerSource=="object"?Bn.statesPerSource:null;if(yr){const Rt=et.get(Te)||new Map;Object.entries(yr).forEach(([ra,qn])=>{const Ja=Oe.get(String(ra||"").trim());Ja&&mt(Rt,Ja,qn,wt,at)}),et.set(Te,Rt)}})})}),Ue.forEach(($e,Ve)=>{const yt=te.get(Ve);if(!yt)return;const ft=et.get(Ve)||new Map,Re={};let Ze=Array.from({length:wt},()=>0),Ne=0;$e.forEach((Te,it)=>{const gt={selfBuffs:Number((Te==null?void 0:Te.selfBuffs)||0),groupBuffs:Number((Te==null?void 0:Te.groupBuffs)||0),squadBuffs:Number((Te==null?void 0:Te.squadBuffs)||0),totalBuffs:Number((Te==null?void 0:Te.totalBuffs)||0)},kt=Math.max(0,Number(gt.totalBuffs||0));if(!Number.isFinite(kt)||kt<=0)return;const fn=ft.get(it)||[],an=St(fn,kt,wt);Re[it]={total:kt,totals:gt,bucketWeights5s:Array.from({length:wt},(ln,Qe)=>Number(fn[Qe]||0)),buckets5s:an},it!=="__all__"&&(kt>Ne&&(Ne=kt),Ze=Ze.map((ln,Qe)=>Number(ln||0)+Number(an[Qe]||0)))});const Be=$e.get("__all__"),dt=Number((Be==null?void 0:Be.totalBuffs)||0);if(dt>0&&(Re.__all__={total:dt,totals:{selfBuffs:Number((Be==null?void 0:Be.selfBuffs)||0),groupBuffs:Number((Be==null?void 0:Be.groupBuffs)||0),squadBuffs:Number((Be==null?void 0:Be.squadBuffs)||0),totalBuffs:Number((Be==null?void 0:Be.totalBuffs)||0)},bucketWeights5s:Array.from({length:wt},(Te,it)=>Number((ft.get("__all__")||[])[it]||0)),buckets5s:Ze.some(Te=>Number(Te||0)>0)?Ze:St(ft.get("__all__")||[],dt,wt)}),Object.keys(Re).length===0)return;const ct=yt.players.get("__all__");ct&&(ct.logs+=1,yt.players.set("__all__",ct)),yt.fights.push({id:Ge.filePath||Ge.id||`fight-${Le+1}`,shortLabel:`F${Le+1}`,fullLabel:pe,timestamp:ga(lt,Ge),durationMs:at,values:Re,maxTotal:Ne})})}),Array.from(te.values()).map(Ge=>({id:Ge.id,name:Ge.name||Ge.id,icon:Ge.icon,stacking:Ge.stacking,players:Array.from(Ge.players.values()).sort((Le,lt)=>{var Ce,Je;if(Le.key==="__all__")return-1;if(lt.key==="__all__")return 1;const at=Number(((Ce=lt.totals)==null?void 0:Ce.totalBuffs)||0)-Number(((Je=Le.totals)==null?void 0:Je.totalBuffs)||0);return at!==0?at:String(Le.displayName||"").localeCompare(String(lt.displayName||""))}),fights:[...Ge.fights].sort((Le,lt)=>Le.timestamp>0&&lt.timestamp>0&&Le.timestamp!==lt.timestamp?Le.timestamp-lt.timestamp:Le.shortLabel.localeCompare(lt.shortLabel,void 0,{numeric:!0}))})).filter(Ge=>Ge.players.length>0&&Ge.fights.length>0).sort((Ge,Le)=>String(Ge.name||"").localeCompare(String(Le.name||"")))})(),ec=Zn.map(({log:A})=>{const L=A==null?void 0:A.details,Y=Array.isArray(L==null?void 0:L.players)?L.players:[],te=Array.isArray(L==null?void 0:L.targets)?L.targets:[],ue=A!=null&&A.dashboardSummary&&typeof A.dashboardSummary=="object"?A.dashboardSummary:null,Fe=Y.filter(Le=>!Le.notInSquad),ke=te.filter(Le=>!Le.isFake),mt=Math.max(0,Number((ue==null?void 0:ue.squadCount)||0)),St=Math.max(0,Number((ue==null?void 0:ue.enemyCount)||0)),Lt=Fe.length>0?Fe.length:mt,At=ke.length>0?ke.length:St,Ge=Y.length>0?Y.length:Lt;return{timestamp:ga(L,A),squadCount:Lt,friendlyCount:Ge,enemies:At,isWin:is(L,A)}}).map((A,L)=>({...A,index:L+1,label:`Log ${L+1}`})),el={};Array.from(O.values()).forEach(A=>{A.profession&&A.profession!=="Unknown"&&(el[A.profession]=(el[A.profession]||0)+1)});const pi=Object.entries(el).map(([A,L])=>({name:A,value:L,color:Tl(A)})).sort((A,L)=>L.value-A.value),Oo={};Object.keys(V).length===0&&s.forEach(A=>{var L,Y;(Y=(L=A.details)==null?void 0:L.targets)==null||Y.forEach(te=>{if(te.isFake)return;const ue=te.profession&&te.profession!=="Unknown"?te.profession:te.name||te.id||"Unknown",Fe=U(ue);Oo[Fe]=(Oo[Fe]||0)+1})});const X=Object.keys(V).length>0?V:Oo,ye=Object.entries(X).map(([A,L])=>({name:A,value:L,color:Tl(A)})).sort((A,L)=>L.value-A.value),He=Zn.map(({log:A},L)=>{const Y=A==null?void 0:A.details,te=Array.isArray(Y==null?void 0:Y.players)?Y.players:[],ue=te.filter(pe=>!pe.notInSquad),Fe=te.filter(pe=>pe.notInSquad),ke=(Array.isArray(Y==null?void 0:Y.targets)?Y.targets:[]).filter(pe=>!pe.isFake),mt=A!=null&&A.dashboardSummary&&typeof A.dashboardSummary=="object"?A.dashboardSummary:null,St=ue.reduce((pe,Ue)=>{var et,ce;return pe+(((ce=(et=Ue.dpsAll)==null?void 0:et[0])==null?void 0:ce.damage)||0)},0),Lt=ue.reduce((pe,Ue)=>{var et,ce;return pe+(((ce=(et=Ue.defenses)==null?void 0:et[0])==null?void 0:ce.damageTaken)||0)},0),{enemyDeaths:At,enemyDownsDeaths:Ge}=E(Y),Le=is(Y,A),lt=ga(Y,A),Ce=za(Y,A),Je=pe=>{if(!pe||typeof pe!="object")return;const Ue=pe.teamID??pe.teamId??pe.team??pe.teamColor??pe.team_color;if(Ue!=null)return Ue;const et=Object.keys(pe).find(ce=>/^team/i.test(ce));return et?pe[et]:void 0},at=(pe,Ue)=>{const et={};return pe.forEach(ce=>{const $e=Ue(ce),Ve=U($e);Ve&&(et[Ve]=(et[Ve]||0)+1)}),et},wt=at(ue,pe=>(pe==null?void 0:pe.profession)||(pe==null?void 0:pe.name)),Me=at(Fe,pe=>(pe==null?void 0:pe.profession)||(pe==null?void 0:pe.name)),Oe=at(ke,pe=>(pe==null?void 0:pe.profession)||(pe==null?void 0:pe.name)||(pe==null?void 0:pe.id)),Ae=new Set;ue.forEach(pe=>{const Ue=Je(pe);Ue!=null&&Ae.add(String(Ue))});const Pe=new Map;ke.forEach(pe=>{if((pe==null?void 0:pe.enemyPlayer)===!1)return;const Ue=Je(pe);if(Ue==null)return;const et=String(Ue);Ae.has(et)||Pe.set(et,(Pe.get(et)||0)+1)});const Ye=Array.from(Pe.entries()).sort((pe,Ue)=>{const et=Ue[1]-pe[1];return et!==0?et:pe[0].localeCompare(Ue[0],void 0,{numeric:!0})}).slice(0,3).map(([pe,Ue])=>({teamId:pe,count:Ue}));return{id:A.filePath||`fight-${L}`,label:A.encounterName||`Fight ${L+1}`,permalink:pa(Y,A),timestamp:lt,mapName:Ce,duration:Zs(Y,A),isWin:Le,squadCount:ue.length>0?ue.length:Math.max(0,Number((mt==null?void 0:mt.squadCount)||0)),allyCount:Fe.length,enemyCount:ke.length>0?ke.length:Math.max(0,Number((mt==null?void 0:mt.enemyCount)||0)),teamBreakdown:Ye,alliesDown:ue.reduce((pe,Ue)=>{var et,ce;return pe+(((ce=(et=Ue.defenses)==null?void 0:et[0])==null?void 0:ce.downCount)||0)},0),alliesDead:ue.length>0?ue.reduce((pe,Ue)=>{var et,ce;return pe+(((ce=(et=Ue.defenses)==null?void 0:et[0])==null?void 0:ce.deadCount)||0)},0):Math.max(0,Number((mt==null?void 0:mt.squadDeaths)||0)),alliesRevived:ue.reduce((pe,Ue)=>{var et,ce;return Number(((ce=(et=Ue.statsAll)==null?void 0:et[0])==null?void 0:ce.saved)||0)>0?pe+1:pe},0),rallies:0,enemyDeaths:ke.length>0||ue.length>0?At:Math.max(0,Number((mt==null?void 0:mt.enemyDeaths)||0)),enemyDowns:Math.max(0,Ge-At),totalOutgoingDamage:St,totalIncomingDamage:Lt,incomingBarrierAbsorbed:ue.reduce((pe,Ue)=>{var et,ce;return pe+(((ce=(et=Ue.defenses)==null?void 0:et[0])==null?void 0:ce.damageBarrier)||0)},0),outgoingBarrierAbsorbed:ue.reduce((pe,Ue)=>{var et;const ce=(et=Ue.extBarrierStats)==null?void 0:et.outgoingBarrier;if(!Array.isArray(ce))return pe;let $e=0;return ce.forEach(Ve=>{if(Array.isArray(Ve)){Ve.forEach(yt=>{$e+=Number((yt==null?void 0:yt.barrier)||0)});return}$e+=Number((Ve==null?void 0:Ve.barrier)||0)}),pe+$e},0),squadClassCountsFight:wt,allyClassCountsFight:Me,enemyClassCounts:Oe}}),pt=io.map(({log:A},L)=>{const Y=A.details;if(!Y)return null;const te=(Array.isArray(Y.players)?Y.players:[]).filter(Ne=>!Ne.notInSquad),ue=Array.isArray(Y.targets)?Y.targets:[],Fe=ga(Y,A),ke=za(Y,A),mt=Number(Y.durationMS||0),{squadDownsDeaths:St,enemyDownsDeaths:Lt,squadDeaths:At,enemyDeaths:Ge}=E(Y),Le=new Map,lt=(Ne,Be,dt)=>{const ct=Le.get(Ne)||{label:Ne,damage:0,hits:0};ct.damage+=Be,ct.hits+=dt,Le.set(Ne,ct)};if(te.forEach(Ne=>{(Array.isArray(Ne==null?void 0:Ne.statsTargets)?Ne.statsTargets:[]).forEach((Be,dt)=>{const ct=Array.isArray(Be)?Be[0]:Be,Te=Number((ct==null?void 0:ct.damage)??(ct==null?void 0:ct.totalDmg)??(ct==null?void 0:ct.connectedDmg)??0),it=Number((ct==null?void 0:ct.connectedHits)??(ct==null?void 0:ct.connectedDamageCount)??(ct==null?void 0:ct.hits)??0);if(Te<=0&&it<=0)return;const gt=ue[dt];if(gt!=null&&gt.isFake)return;const kt=(gt==null?void 0:gt.profession)||(gt==null?void 0:gt.name)||(gt==null?void 0:gt.id)||`Target ${dt+1}`,fn=U(kt);lt(fn||String(kt),Te,it)})}),Le.size===0){const Ne=new Map,Be=dt=>{if(!Array.isArray(dt)||dt.length===0)return[];const ct=dt[0];if(Array.isArray(ct)&&Array.isArray(ct[0])){if(typeof ct[0][0]=="number")return ct;if(Array.isArray(ct[0])&&typeof ct[0][0]=="number")return dt.map(Te=>Array.isArray(Te)?Te[0]||[]:[])}return[]};te.forEach(dt=>{Be(dt==null?void 0:dt.targetDamage1S).forEach((ct,Te)=>{if(!Array.isArray(ct)||ct.length===0)return;const it=ct.map(kt=>Number(kt)).filter(kt=>Number.isFinite(kt)&&kt>=0);if(it.length===0)return;const gt=Math.max(0,it[it.length-1]||0);gt<=0||Ne.set(Te,(Ne.get(Te)||0)+gt)})}),Ne.forEach((dt,ct)=>{if(dt<=0)return;const Te=ue[ct];if(Te!=null&&Te.isFake)return;const it=(Te==null?void 0:Te.profession)||(Te==null?void 0:Te.name)||(Te==null?void 0:Te.id)||`Target ${ct+1}`,gt=U(it);lt(gt||String(it),dt,0)})}if(Le.size===0&&ue.forEach((Ne,Be)=>{if(Ne!=null&&Ne.isFake)return;const dt=Array.isArray(Ne==null?void 0:Ne.totalDamageTaken)?Ne.totalDamageTaken:Array.isArray(Ne==null?void 0:Ne.totalDamageDist)?Ne.totalDamageDist:[];let ct=0,Te=0;if(dt.forEach(kt=>{ct+=Number((kt==null?void 0:kt.totalDamage)||(kt==null?void 0:kt.damage)||0),Te+=Number((kt==null?void 0:kt.connectedHits)||(kt==null?void 0:kt.hits)||0)}),ct<=0&&Number((Ne==null?void 0:Ne.damageTaken)||0)>0&&(ct=Number(Ne.damageTaken||0)),ct<=0&&Te<=0)return;const it=(Ne==null?void 0:Ne.profession)||(Ne==null?void 0:Ne.name)||(Ne==null?void 0:Ne.id)||`Target ${Be+1}`,gt=U(it);lt(gt||String(it),ct,Te)}),Le.size===0){const Ne=new Map;ue.forEach((Be,dt)=>{if(Be!=null&&Be.isFake)return;const ct=(Be==null?void 0:Be.profession)||(Be==null?void 0:Be.name)||(Be==null?void 0:Be.id)||`Target ${dt+1}`,Te=U(ct)||String(ct);Ne.set(Te,(Ne.get(Te)||0)+1)}),Ne.forEach((Be,dt)=>{Be>0&&lt(dt,Be,0)})}const Ce=Array.from(Le.values()).sort((Ne,Be)=>Be.damage-Ne.damage||Be.hits-Ne.hits||Ne.label.localeCompare(Be.label)),Je=Ce.reduce((Ne,Be)=>Ne+Be.damage,0),at=Ce.map(Ne=>({label:Ne.label,damage:Ne.damage,hits:Ne.hits,share:Je>0?Ne.damage/Je:0})),wt=ue.filter(Ne=>!(Ne!=null&&Ne.isFake)).length,Me=te.length,Oe=te.reduce((Ne,Be)=>{var dt,ct;return Ne+Number(((ct=(dt=Be==null?void 0:Be.dpsAll)==null?void 0:dt[0])==null?void 0:ct.damage)||0)},0),Ae=te.reduce((Ne,Be)=>{var dt,ct;return Ne+Number(((ct=(dt=Be==null?void 0:Be.defenses)==null?void 0:dt[0])==null?void 0:ct.damageTaken)||0)},0),Pe=te.reduce((Ne,Be)=>{var dt,ct;return Ne+Number(((ct=(dt=Be==null?void 0:Be.defenses)==null?void 0:dt[0])==null?void 0:ct.damageBarrier)||0)},0),Ye=te.reduce((Ne,Be)=>{var dt;const ct=(dt=Be==null?void 0:Be.extBarrierStats)==null?void 0:dt.outgoingBarrier;if(!Array.isArray(ct))return Ne;let Te=0;return ct.forEach(it=>{Array.isArray(it)?it.forEach(gt=>{Te+=Number((gt==null?void 0:gt.barrier)||0)}):Te+=Number((it==null?void 0:it.barrier)||0)}),Ne+Te},0),pe=te.reduce((Ne,Be)=>{var dt,ct;return Number(((ct=(dt=Be==null?void 0:Be.statsAll)==null?void 0:dt[0])==null?void 0:ct.saved)||0)>0?Ne+1:Ne},0),Ue=te.reduce((Ne,Be)=>Ne+Number(Tj(Be)||0),0),et=te.reduce((Ne,Be)=>Ne+Number(Oj(Be)||0),0),ce=te.reduce((Ne,Be)=>Ne+Number((Be==null?void 0:Be.stabGeneration)||0),0),$e=te.reduce((Ne,Be)=>Ne+Number(_j(Be)||0),0),Ve=te.reduce((Ne,Be)=>Ne+Number(Lj(Be)||0),0),yt=te.reduce((Ne,Be)=>Ne+Number(Fj(Be)||0),0),ft=te.reduce((Ne,Be)=>Ne+Number(Ij(Be)||0),0),Re=At>0?Ge/At:Ge,Ze=[{metricId:"winFlag",metricLabel:"Win (1) / Loss (0)",higherIsBetter:!0,value:I(Y)?1:0},{metricId:"squadCount",metricLabel:"Squad Size",higherIsBetter:!0,value:Me},{metricId:"enemyCount",metricLabel:"Enemy Count",higherIsBetter:!1,value:wt},{metricId:"squadKdr",metricLabel:"Squad KDR",higherIsBetter:!0,value:Re},{metricId:"enemyDeaths",metricLabel:"Enemy Deaths",higherIsBetter:!0,value:Ge},{metricId:"enemyDowns",metricLabel:"Enemy Downs",higherIsBetter:!0,value:Math.max(0,Lt-Ge)},{metricId:"squadDeaths",metricLabel:"Squad Deaths",higherIsBetter:!1,value:At},{metricId:"squadDowns",metricLabel:"Squad Downs",higherIsBetter:!1,value:Math.max(0,St-At)},{metricId:"damageDelta",metricLabel:"Damage Delta",higherIsBetter:!0,value:Oe-Ae},{metricId:"outgoingDamage",metricLabel:"Outgoing Damage",higherIsBetter:!0,value:Oe},{metricId:"incomingDamage",metricLabel:"Incoming Damage",higherIsBetter:!1,value:Ae},{metricId:"cleanses",metricLabel:"Squad Cleanses",higherIsBetter:!0,value:Ue},{metricId:"strips",metricLabel:"Squad Strips",higherIsBetter:!0,value:et},{metricId:"stability",metricLabel:"Squad Stability",higherIsBetter:!0,value:ce},{metricId:"healing",metricLabel:"Squad Healing",higherIsBetter:!0,value:$e},{metricId:"barrierOut",metricLabel:"Squad Barrier Out",higherIsBetter:!0,value:Ve},{metricId:"barrierIncomingAbsorb",metricLabel:"Barrier Absorption (Incoming)",higherIsBetter:!0,value:Pe},{metricId:"enemyBarrierAbsorb",metricLabel:"Enemy Barrier Absorption",higherIsBetter:!1,value:Ye},{metricId:"cc",metricLabel:"Squad CC",higherIsBetter:!0,value:yt},{metricId:"downContrib",metricLabel:"Squad Down Contribution",higherIsBetter:!0,value:ft},{metricId:"alliesRevived",metricLabel:"Allies Revived (Players)",higherIsBetter:!0,value:pe}];return{id:A.filePath||A.id||`fight-${L+1}`,shortLabel:`F${L+1}`,fullLabel:`${ke||A.encounterName||"Unknown Map"}  ${Ym(mt)}`,mapName:ke,timestamp:Fe,duration:Ym(mt),isWin:I(Y),targetFocus:at,squadMetrics:Ze}}).filter(Boolean),Gt=Array.from(O.values()).map(A=>{const L=Object.entries(A.professionTimeMs||{}).map(([Y,te])=>({profession:Y,timeMs:Number(te||0)})).filter(Y=>Y.profession&&Y.profession!=="Unknown"&&Y.timeMs>0).sort((Y,te)=>{const ue=te.timeMs-Y.timeMs;return ue!==0?ue:Y.profession.localeCompare(te.profession)});return{account:A.account||"Unknown",characterNames:Array.from(A.characterNames||[]).filter(Boolean).sort((Y,te)=>Y.localeCompare(te)),classTimes:L,combatTimeMs:Number(A.squadActiveMs||A.totalFightMs||0),squadTimeMs:(()=>{const Y=Number(A.firstSeenFightTs||0),te=Number(A.lastSeenFightTs||0),ue=Math.max(0,Number(A.lastSeenFightDurationMs||0));return Y>0&&te>0?Math.max(0,te+ue-Y):Number(A.squadActiveMs||A.totalFightMs||0)})()}}).filter(A=>A.account&&A.account!=="Unknown").sort((A,L)=>{const Y=L.squadTimeMs-A.squadTimeMs;return Y!==0?Y:String(A.account).localeCompare(String(L.account))}),It=s.map(A=>A).sort((A,L)=>ga(A.details,A)-ga(L.details,L)).map((A,L)=>{const Y=A==null?void 0:A.details,te=Array.isArray(Y==null?void 0:Y.players)?Y.players.filter(ke=>!(ke!=null&&ke.notInSquad)):[],ue=new Map;te.forEach(ke=>{const mt=Number(ke==null?void 0:ke.group),St=Number.isFinite(mt)&&mt>0?mt:0;ue.has(St)||ue.set(St,{party:St,players:[],classCounts:{}});const Lt=U((ke==null?void 0:ke.profession)||(ke==null?void 0:ke.name)||"Unknown"),At=String((ke==null?void 0:ke.account)||"Unknown"),Ge=String((ke==null?void 0:ke.name)||(ke==null?void 0:ke.character_name)||""),Le=!!(ke!=null&&ke.hasCommanderTag),lt=ue.get(St);lt.players.push({account:At,characterName:Ge,profession:Lt,isCommander:Le}),lt.classCounts[Lt]=(lt.classCounts[Lt]||0)+1});const Fe=Array.from(ue.values()).map(ke=>({...ke,players:ke.players.sort((mt,St)=>{const Lt=+!!St.isCommander-+!!mt.isCommander;if(Lt!==0)return Lt;const At=String(mt.profession).localeCompare(String(St.profession));return At!==0?At:String(mt.account).localeCompare(String(St.account))})})).sort((ke,mt)=>ke.party===0&&mt.party!==0?1:mt.party===0&&ke.party!==0?-1:ke.party-mt.party);return{id:String((A==null?void 0:A.filePath)||(A==null?void 0:A.id)||`fight-${L+1}`),label:`F${L+1}`,timestamp:ga(Y,A),mapName:za(Y,A),duration:Ym(Number((Y==null?void 0:Y.durationMS)||0)),parties:Fe}}),Ct=(A,L)=>{const Y=(L==null?void 0:L.skillMap)||{},te=(L==null?void 0:L.buffMap)||{};let ue=0,Fe=0,ke="";const mt=At=>{const Ge=Number(At);if(!Number.isFinite(Ge))return String(At||"Unknown Skill");const Le=(Y==null?void 0:Y[`s${Ge}`])||(Y==null?void 0:Y[`${Ge}`]);if(Le!=null&&Le.name)return String(Le.name);const lt=(te==null?void 0:te[`b${Ge}`])||(te==null?void 0:te[`${Ge}`]);return lt!=null&&lt.name?String(lt.name):`Skill ${Ge}`},St=At=>{if(!At||typeof At!="object")return;const Ge=[Number(At.max),Number(At.maxDamage),Number(At.maxHit)].filter(Ce=>Number.isFinite(Ce)),Le=Ge.length>0?Math.max(...Ge):0;Le>ue&&(ue=Le,ke=mt(At.id));const lt=Number(At.downContribution||0);lt>Fe&&(Fe=lt)};let Lt=!1;return Array.isArray(A==null?void 0:A.targetDamageDist)&&A.targetDamageDist.forEach(At=>{Array.isArray(At)&&At.forEach(Ge=>{Array.isArray(Ge)&&Ge.forEach(Le=>{Lt=!0,St(Le)})})}),(!Lt||ue<=0)&&Array.isArray(A==null?void 0:A.totalDamageDist)&&A.totalDamageDist.forEach(At=>{Array.isArray(At)&&At.forEach(Ge=>St(Ge))}),{peak:ue,peakDownContribution:Fe,skillName:ke||"Unknown Skill"}},mn=(()=>{const A=Ce=>String(Ce||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),L=Ce=>A(Ce).toLowerCase().split(/[^a-z0-9]+/i).map(Je=>Je.trim()).filter(Boolean).map(Je=>Je.length>3&&Je.endsWith("s")?Je.slice(0,-1):Je),Y=(Ce,Je)=>{const at=A(Ce),wt=A(Je);if(!wt)return at;if(!at)return wt;const Me=L(at),Oe=L(wt),Ae=new Set(Me),Pe=new Set(Oe),Ye=Oe.length>0&&Oe.every(Ue=>Ae.has(Ue)),pe=Me.length>0&&Me.every(Ue=>Pe.has(Ue));return Ye||pe?at:`${at} - ${wt}`},te=[],ue=new Map,Fe=Ce=>{const Je=Pe=>{if(!Array.isArray(Pe)||Pe.length===0)return[];const Ye=[];for(let pe=0;pe<Pe.length;pe+=1){const Ue=Number(Pe[pe]||0),et=pe>0?Number(Pe[pe-1]||0):0;Ye.push(Math.max(0,Ue-et))}return Ye},at=Pe=>{if(!Array.isArray(Pe))return[];const Ye=Pe.reduce((Ue,et)=>Math.max(Ue,Array.isArray(et)?et.length:0),0);if(Ye<=0)return[];const pe=new Array(Ye).fill(0);return Pe.forEach(Ue=>{if(Array.isArray(Ue))for(let et=0;et<Ye;et+=1)pe[et]+=Number(Ue[et]||0)}),pe},wt=Pe=>Array.isArray(Pe)?Pe.map(Ye=>Number(Ye||0)):null,Me=(Pe=>{if(!Array.isArray(Pe)||Pe.length===0)return null;const Ye=Pe[0];if(!Array.isArray(Ye))return null;if(Array.isArray(Ye[0])&&Array.isArray(Ye[0][0]))return at(Ye);if(Array.isArray(Ye[0])&&!Array.isArray(Ye[0][0])){const pe=Pe.map(Ue=>wt(Array.isArray(Ue)?Ue[0]:null)).filter(Ue=>Array.isArray(Ue)&&Ue.length>0);if(pe.length>0)return at(pe)}return null})(Ce==null?void 0:Ce.targetDamage1S),Oe=Array.isArray(Ce==null?void 0:Ce.damage1S)&&Array.isArray(Ce.damage1S[0])?Ce.damage1S[0]:null,Ae=Me||(Array.isArray(Oe)?Oe.map(Pe=>Number(Pe||0)):[]);return Je(Ae)},ke=(Ce,Je)=>{if(!Array.isArray(Ce)||Ce.length===0||Je<=0)return 0;let at=0,wt=0;for(let Me=0;Me<Ce.length;Me+=1)at+=Number(Ce[Me]||0),Me>=Je&&(at-=Number(Ce[Me-Je]||0)),Me>=Je-1&&at>wt&&(wt=at);return Math.max(0,wt)},mt=(Ce,Je)=>{if(!Array.isArray(Ce)||Ce.length===0||Je<=0)return[];const at=[];for(let wt=0;wt<Ce.length;wt+=Je){const Me=Math.min(wt+Je,Ce.length),Oe=Ce.slice(wt,Me).reduce((Ae,Pe)=>Ae+Number(Pe||0),0);at.push(Oe)}return at},St=(Ce,Je)=>{let at=0,wt=0;const Me=new Map,Oe=Ae=>{if(!Ae||typeof Ae!="object"||Ae.indirectDamage)return;const Pe=Number(Ae.totalDamage||0),Ye=Number(Ae.downContribution||0);!Number.isFinite(Pe)&&!Number.isFinite(Ye)||(at+=Number.isFinite(Pe)?Pe:0,wt+=Number.isFinite(Ye)?Ye:0)};return Array.isArray(Ce==null?void 0:Ce.targetDamageDist)&&Ce.targetDamageDist.forEach(Ae=>{Array.isArray(Ae)&&Ae.forEach(Pe=>{Array.isArray(Pe)&&Pe.forEach(Ye=>{const pe=Number(Ye==null?void 0:Ye.id);if(Number.isFinite(pe)){const Ue=Me.get(pe)||{damage:0,downContribution:0};Ue.damage+=Number((Ye==null?void 0:Ye.totalDamage)||0),Ue.downContribution+=Number((Ye==null?void 0:Ye.downContribution)||0),Me.set(pe,Ue)}Oe(Ye)})})}),!(Je!=null&&Je.detailedWvW)&&Array.isArray(Ce==null?void 0:Ce.totalDamageDist)&&Ce.totalDamageDist.forEach(Ae=>{Array.isArray(Ae)&&Ae.forEach(Pe=>{const Ye=Number(Pe==null?void 0:Pe.id);if(!Number.isFinite(Ye)){Oe(Pe);return}const pe=Me.get(Ye);if(!pe){Oe(Pe);return}const Ue=Number((Pe==null?void 0:Pe.totalDamage)||0)-Number(pe.damage||0),et=Number((Pe==null?void 0:Pe.downContribution)||0)-Number(pe.downContribution||0);Ue<=0&&et<=0||Oe({...Pe,totalDamage:Math.max(0,Ue),downContribution:Math.max(0,et)})})}),{damageTotal:Math.max(0,at),downContributionTotal:Math.max(0,wt)}},Lt=(Ce,Je)=>{const at=Number(Ce);if(!Number.isFinite(at))return{name:String(Ce||"Unknown Skill"),icon:void 0};const wt=(Je==null?void 0:Je.skillMap)||{},Me=(Je==null?void 0:Je.buffMap)||{},Oe=(wt==null?void 0:wt[`s${at}`])||(wt==null?void 0:wt[`${at}`]);if(Oe!=null&&Oe.name)return{name:String(Oe.name),icon:Oe==null?void 0:Oe.icon};const Ae=(Me==null?void 0:Me[`b${at}`])||(Me==null?void 0:Me[`${at}`]);return Ae!=null&&Ae.name?{name:String(Ae.name),icon:Ae==null?void 0:Ae.icon}:{name:`Skill ${at}`,icon:void 0}},At=Ce=>Array.isArray(Ce)?Ce.map(Je=>Array.isArray(Je)?[Number(Je[0]),Number(Je[1])]:Je&&typeof Je=="object"?[Number(Je.time),Number(Je.value)]:null).filter(Je=>!!Je&&Number.isFinite(Je[0])&&Je[0]>=0):[],Ge=(Ce,Je,at,wt,Me)=>{if(!Ce.length||wt<=0)return[];const Oe=Math.max(wt*5e3,Me||0),Ae=Ve=>Ve.reduce((yt,ft)=>ft>=0&&ft<=Oe+2e3?yt+1:yt,0),Pe=Ce.map(Ve=>Number(Ve||0)).filter(Ve=>Number.isFinite(Ve)&&Ve>=0);if(!Pe.length)return[];const Ye=[Pe],pe=Pe.reduce((Ve,yt)=>Math.max(Ve,yt),0),Ue=Pe.reduce((Ve,yt)=>Math.min(Ve,yt),Number.POSITIVE_INFINITY);pe>Oe*20&&Ye.push(Pe.map(Ve=>Ve/1e3)),pe<=Oe*2&&Ue>=0&&pe>0&&pe<Math.max(120,wt*5+10)&&Ye.push(Pe.map(Ve=>Ve*1e3));let et=Pe,ce=0,$e=-1;return Ye.forEach(Ve=>{const yt=Ve.reduce((Re,Ze)=>Math.min(Re,Ze),Number.POSITIVE_INFINITY),ft=new Set([0,...Je,...at]);if(Number.isFinite(yt)&&Oe>0&&yt>Oe){const Re=Math.floor(yt/Oe)*Oe;ft.add(Re),ft.add(Math.max(0,Re-Oe))}ft.forEach(Re=>{const Ze=Ve.map(Be=>Be-Re),Ne=Ae(Ze);Ne>$e&&($e=Ne,ce=Re,et=Ve)})}),et.map(Ve=>Ve-ce).filter(Ve=>Number.isFinite(Ve)&&Ve>=0)},Le=(Ce,Je,at,wt,Me)=>{const Oe=Ge(Ce,Je,at,wt,Me);return Array.from(new Set(Oe.map(Ae=>Math.floor(Ae/5e3)).filter(Ae=>Number.isFinite(Ae)&&Ae>=0&&Ae<wt)))};s.map(Ce=>({log:Ce,ts:ga(Ce==null?void 0:Ce.details,Ce)})).sort((Ce,Je)=>Ce.ts-Je.ts).forEach(({log:Ce},Je)=>{const at=Ce==null?void 0:Ce.details;if(!at)return;const wt=A(at.fightName||Ce.fightName||`Fight ${Je+1}`),Me=za(at,Ce),Oe=Y(wt,String(Me||"")),Ae={},Pe=Array.isArray(at.players)?at.players:[],Ye=Pe.flatMap(Re=>{const Ze=Re==null?void 0:Re.combatReplayData;return Array.isArray(Ze)?Ze.map(Ne=>Number(Ne==null?void 0:Ne.start)):[Number(Ze==null?void 0:Ze.start)]}).filter(Re=>Number.isFinite(Re)&&Re>=0);Pe.forEach(Re=>{if(Re!=null&&Re.notInSquad)return;const Ze=String((Re==null?void 0:Re.account)||(Re==null?void 0:Re.name)||"Unknown"),Ne=String((Re==null?void 0:Re.character_name)||(Re==null?void 0:Re.display_name)||(Re==null?void 0:Re.name)||""),Be=String((Re==null?void 0:Re.profession)||"Unknown"),dt=`${Ze}|${Be}`,ct=Ct(Re,at),Te=Number(ct.peak||0),it=Number(ct.peakDownContribution||0),gt=Fe(Re),{damageTotal:kt,downContributionTotal:fn}=St(Re,at),an=kt>0?Math.min(1,Math.max(0,fn/kt)):0,ln=gt.map(Se=>Number(Se||0)*an),Qe=Number(ke(gt,1)||0),Hn=Number(ke(gt,5)||0),Yt=Number(ke(gt,30)||0),yn=Number(ke(ln,1)||0),Bn=Number(ke(ln,5)||0),yr=Number(ke(ln,30)||0),Rt=Math.max(0,Math.ceil(Number((at==null?void 0:at.durationMS)||0)/5e3)),ra=Math.max(0,Math.ceil(gt.length/5)),qn=Math.max(0,Math.ceil(ln.length/5)),Ja=Math.max(Rt,ra,qn),zn=mt(gt,5),os=mt(ln,5),qr=Array.from({length:Ja},(Se,Xe)=>Number(zn[Xe]||0)),lu=Array.from({length:Ja},(Se,Xe)=>Number(os[Xe]||0)),Tn=new Map,Li=Se=>{if(!Se||typeof Se!="object"||Se.indirectDamage)return;const Xe=Number(Se.totalDamage||0),vt=Number(Se.downContribution||0);if((!Number.isFinite(Xe)||Xe<=0)&&(!Number.isFinite(vt)||vt<=0))return;const en=Number(Se.connectedHits||Se.hits||0),on=Lt(Se.id,at),jn=on.name,Qt=Tn.get(jn)||{skillName:jn,damage:0,downContribution:0,hits:0,icon:on.icon};Qt.damage+=Number.isFinite(Xe)?Xe:0,Qt.downContribution+=Number.isFinite(vt)?vt:0,Qt.hits+=Number.isFinite(en)?en:0,!Qt.icon&&on.icon&&(Qt.icon=on.icon),Tn.set(jn,Qt)},_r=new Map;Array.isArray(Re==null?void 0:Re.targetDamageDist)&&Re.targetDamageDist.forEach(Se=>{Array.isArray(Se)&&Se.forEach(Xe=>{Array.isArray(Xe)&&Xe.forEach(vt=>{const en=Number(vt==null?void 0:vt.id),on=Number((vt==null?void 0:vt.totalDamage)||0),jn=Number((vt==null?void 0:vt.downContribution)||0);if(Number.isFinite(en)){const Qt=_r.get(en)||{damage:0,downContribution:0,hits:0};Qt.damage+=Number.isFinite(on)?on:0,Qt.downContribution+=Number.isFinite(jn)?jn:0,Qt.hits+=Number((vt==null?void 0:vt.connectedHits)||(vt==null?void 0:vt.hits)||0),_r.set(en,Qt)}Li(vt)})})}),!(at!=null&&at.detailedWvW)&&Array.isArray(Re==null?void 0:Re.totalDamageDist)&&Re.totalDamageDist.forEach(Se=>{Array.isArray(Se)&&Se.forEach(Xe=>{const vt=Number(Xe==null?void 0:Xe.id);if(!Number.isFinite(vt)){Li(Xe);return}const en=_r.get(vt);if(!en){Li(Xe);return}const on=Number((Xe==null?void 0:Xe.totalDamage)||0),jn=Number((Xe==null?void 0:Xe.downContribution)||0),Qt=Number((Xe==null?void 0:Xe.connectedHits)||(Xe==null?void 0:Xe.hits)||0),Un=on-Number(en.damage||0),Ua=jn-Number(en.downContribution||0),Fi=Qt-Number(en.hits||0);Un<=0&&Ua<=0&&Fi<=0||Li({...Xe,totalDamage:Math.max(0,Un),downContribution:Math.max(0,Ua),connectedHits:Math.max(0,Fi),hits:Math.max(0,Fi)})})});const oo=(()=>{const Se=Re==null?void 0:Re.combatReplayData;return Array.isArray(Se)?Se.filter(Xe=>Xe&&typeof Xe=="object"):Se&&typeof Se=="object"?[Se]:[]})(),_n=oo.map(Se=>Number(Se==null?void 0:Se.start)).filter(Se=>Number.isFinite(Se)&&Se>=0),tl=oo.flatMap(Se=>At(Se==null?void 0:Se.down).map(([Xe])=>Number(Xe||0))),qe=oo.flatMap(Se=>At(Se==null?void 0:Se.dead).map(([Xe])=>Number(Xe||0)));Ae[dt]={hit:Te,burst1s:Qe,burst5s:Hn,burst30s:Yt,hitDown:it,burst1sDown:yn,burst5sDown:Bn,burst30sDown:yr,skillName:ct.skillName,buckets5s:qr,buckets5sDown:lu,downIndices5s:Le(tl,_n,Ye,Ja,Number((at==null?void 0:at.durationMS)||0)),deathIndices5s:Le(qe,_n,Ye,Ja,Number((at==null?void 0:at.durationMS)||0)),skillRows:Array.from(Tn.values()).sort((Se,Xe)=>Xe.damage-Se.damage).slice(0,50)};const ze=ue.get(dt)||{key:dt,account:Ze,displayName:Ze,characterName:Ne,profession:Be,professionList:[Be],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakHitDown:0,peak1sDown:0,peak5sDown:0,peak30sDown:0,peakFightLabel:"",peakSkillName:""};ze.logs+=1,ze.professionList.includes(Be)||ze.professionList.push(Be),!ze.characterName&&Ne&&(ze.characterName=Ne),Te>ze.peakHit&&(ze.peakHit=Te,ze.peakFightLabel=Oe,ze.peakSkillName=ct.skillName),Qe>ze.peak1s&&(ze.peak1s=Qe),Hn>ze.peak5s&&(ze.peak5s=Hn),Yt>ze.peak30s&&(ze.peak30s=Yt),it>ze.peakHitDown&&(ze.peakHitDown=it),yn>ze.peak1sDown&&(ze.peak1sDown=yn),Bn>ze.peak5sDown&&(ze.peak5sDown=Bn),yr>ze.peak30sDown&&(ze.peak30sDown=yr),ue.set(dt,ze)});const pe=Object.values(Ae).reduce((Re,Ze)=>Math.max(Re,Number((Ze==null?void 0:Ze.hit)||0)),0),Ue=Object.values(Ae).reduce((Re,Ze)=>Math.max(Re,Number((Ze==null?void 0:Ze.burst1s)||0)),0),et=Object.values(Ae).reduce((Re,Ze)=>Math.max(Re,Number((Ze==null?void 0:Ze.burst5s)||0)),0),ce=Object.values(Ae).reduce((Re,Ze)=>Math.max(Re,Number((Ze==null?void 0:Ze.burst30s)||0)),0),$e=Object.values(Ae).reduce((Re,Ze)=>Math.max(Re,Number((Ze==null?void 0:Ze.hitDown)||0)),0),Ve=Object.values(Ae).reduce((Re,Ze)=>Math.max(Re,Number((Ze==null?void 0:Ze.burst1sDown)||0)),0),yt=Object.values(Ae).reduce((Re,Ze)=>Math.max(Re,Number((Ze==null?void 0:Ze.burst5sDown)||0)),0),ft=Object.values(Ae).reduce((Re,Ze)=>Math.max(Re,Number((Ze==null?void 0:Ze.burst30sDown)||0)),0);te.push({id:Ce.filePath||Ce.id||`fight-${Je+1}`,shortLabel:`F${Je+1}`,fullLabel:Oe,timestamp:ga(at,Ce),values:Ae,maxHit:pe,max1s:Ue,max5s:et,max30s:ce,maxHitDown:$e,max1sDown:Ve,max5sDown:yt,max30sDown:ft})});const lt=Array.from(ue.values()).sort((Ce,Je)=>Je.peakHit!==Ce.peakHit?Je.peakHit-Ce.peakHit:Ce.displayName.localeCompare(Je.displayName));return{fights:te,players:lt}})(),Nn=(()=>{const A=Me=>String(Me||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),L=Me=>A(Me).toLowerCase().split(/[^a-z0-9]+/i).map(Oe=>Oe.trim()).filter(Boolean).map(Oe=>Oe.length>3&&Oe.endsWith("s")?Oe.slice(0,-1):Oe),Y=(Me,Oe)=>{const Ae=A(Me),Pe=A(Oe);if(!Pe)return Ae;if(!Ae)return Pe;const Ye=L(Ae),pe=L(Pe),Ue=new Set(Ye),et=new Set(pe),ce=pe.length>0&&pe.every(Ve=>Ue.has(Ve)),$e=Ye.length>0&&Ye.every(Ve=>et.has(Ve));return ce||$e?Ae:`${Ae} - ${Pe}`},te=[],ue=new Map,Fe=(Me,Oe)=>{const Ae=Number(Me);if(!Number.isFinite(Ae))return{name:String(Me||"Unknown Skill"),icon:void 0};const Pe=(Oe==null?void 0:Oe.skillMap)||{},Ye=(Oe==null?void 0:Oe.buffMap)||{},pe=(Pe==null?void 0:Pe[`s${Ae}`])||(Pe==null?void 0:Pe[`${Ae}`]);if(pe!=null&&pe.name)return{name:String(pe.name),icon:pe==null?void 0:pe.icon};const Ue=(Ye==null?void 0:Ye[`b${Ae}`])||(Ye==null?void 0:Ye[`${Ae}`]);return Ue!=null&&Ue.name?{name:String(Ue.name),icon:Ue==null?void 0:Ue.icon}:{name:`Skill ${Ae}`,icon:void 0}},ke=(Me,Oe)=>{let Ae=0,Pe="";const Ye=pe=>{if(!pe||typeof pe!="object"||pe.indirectDamage)return;const Ue=[Number(pe.max),Number(pe.maxDamage),Number(pe.maxHit)].filter(ce=>Number.isFinite(ce)),et=Ue.length>0?Math.max(...Ue):0;et>Ae&&(Ae=et,Pe=Fe(pe.id,Oe).name)};return Array.isArray(Me==null?void 0:Me.totalDamageDist)&&Me.totalDamageDist.forEach(pe=>{Array.isArray(pe)&&pe.forEach(Ue=>Ye(Ue))}),Array.isArray(Me==null?void 0:Me.targetDamageDist)&&Me.targetDamageDist.forEach(pe=>{Array.isArray(pe)&&pe.forEach(Ue=>{Array.isArray(Ue)&&Ue.forEach(et=>Ye(et))})}),{peak:Ae,skillName:Pe||"Unknown Skill"}},mt=Me=>{if(!Array.isArray(Me)||Me.length===0)return[];const Oe=[];for(let Ae=0;Ae<Me.length;Ae+=1){const Pe=Number(Me[Ae]||0),Ye=Ae>0?Number(Me[Ae-1]||0):0;Oe.push(Math.max(0,Pe-Ye))}return Oe},St=Me=>{if(!Array.isArray(Me)||Me.length===0)return[];const Oe=Me.reduce((Pe,Ye)=>Math.max(Pe,Array.isArray(Ye)?Ye.length:0),0);if(Oe<=0)return[];const Ae=new Array(Oe).fill(0);return Me.forEach(Pe=>{if(Array.isArray(Pe))for(let Ye=0;Ye<Oe;Ye+=1)Ae[Ye]+=Number(Pe[Ye]||0)}),Ae},Lt=Me=>{if(!Array.isArray(Me)||Me.length===0)return[];const Oe=Me[0];if(typeof Oe=="number")return Me.map(Ae=>Number(Ae||0));if(Array.isArray(Oe)&&Oe.length>0){if(typeof Oe[0]=="number")return Oe.map(Ae=>Number(Ae||0));if(Array.isArray(Oe[0])){const Ae=Oe.map(Pe=>Array.isArray(Pe)?Pe.map(Ye=>Number(Ye||0)):null).filter(Pe=>Array.isArray(Pe)&&Pe.length>0);if(Ae.length>0)return St(Ae)}}return[]},At=Me=>{const Oe=Lt(Me==null?void 0:Me.powerDamage1S),Ae=Lt(Me==null?void 0:Me.damage1S),Pe=Oe.length>0?Oe:Ae;return mt(Pe)},Ge=(Me,Oe)=>{const Ae=Me==null?void 0:Me.targetPowerDamage1S;if(!Array.isArray(Ae)||!Array.isArray(Ae[Oe]))return[];const Pe=Ae[Oe];if(!Array.isArray(Pe)||Pe.length===0)return[];if(typeof Pe[0]=="number")return Pe.map(Ye=>Number(Ye||0));if(Array.isArray(Pe[0])&&!Array.isArray(Pe[0][0]))return Pe[0].map(Ye=>Number(Ye||0));if(Array.isArray(Pe[0])&&Array.isArray(Pe[0][0])){const Ye=Pe[0].map(pe=>Array.isArray(pe)?pe.map(Ue=>Number(Ue||0)):null).filter(pe=>Array.isArray(pe)&&pe.length>0);return St(Ye)}return[]},Le=(Me,Oe)=>{if(!Array.isArray(Me)||Me.length===0||Oe<=0)return 0;let Ae=0,Pe=0;for(let Ye=0;Ye<Me.length;Ye+=1)Ae+=Number(Me[Ye]||0),Ye>=Oe&&(Ae-=Number(Me[Ye-Oe]||0)),Ye>=Oe-1&&Ae>Pe&&(Pe=Ae);return Math.max(0,Pe)},lt=(Me,Oe)=>{if(!Array.isArray(Me)||Me.length===0||Oe<=0)return[];const Ae=[];for(let Pe=0;Pe<Me.length;Pe+=Oe){const Ye=Math.min(Pe+Oe,Me.length),pe=Me.slice(Pe,Ye).reduce((Ue,et)=>Ue+Number(et||0),0);Ae.push(pe)}return Ae},Ce=Me=>Array.isArray(Me)?Me.map(Oe=>Array.isArray(Oe)?[Number(Oe[0]),Number(Oe[1])]:Oe&&typeof Oe=="object"?[Number(Oe.time),Number(Oe.value)]:null).filter(Oe=>!!Oe&&Number.isFinite(Oe[0])&&Oe[0]>=0):[],Je=(Me,Oe,Ae,Pe,Ye)=>{if(!Me.length||Pe<=0)return[];const pe=Math.max(Pe*5e3,Ye||0),Ue=Ze=>Ze.reduce((Ne,Be)=>Be>=0&&Be<=pe+2e3?Ne+1:Ne,0),et=Me.map(Ze=>Number(Ze||0)).filter(Ze=>Number.isFinite(Ze)&&Ze>=0);if(!et.length)return[];const ce=[et],$e=et.reduce((Ze,Ne)=>Math.max(Ze,Ne),0),Ve=et.reduce((Ze,Ne)=>Math.min(Ze,Ne),Number.POSITIVE_INFINITY);$e>pe*20&&ce.push(et.map(Ze=>Ze/1e3)),$e<=pe*2&&Ve>=0&&$e>0&&$e<Math.max(120,Pe*5+10)&&ce.push(et.map(Ze=>Ze*1e3));let yt=et,ft=0,Re=-1;return ce.forEach(Ze=>{const Ne=Ze.reduce((dt,ct)=>Math.min(dt,ct),Number.POSITIVE_INFINITY),Be=new Set([0,...Oe,...Ae]);if(Number.isFinite(Ne)&&pe>0&&Ne>pe){const dt=Math.floor(Ne/pe)*pe;Be.add(dt),Be.add(Math.max(0,dt-pe))}Be.forEach(dt=>{const ct=Ze.map(it=>it-dt),Te=Ue(ct);Te>Re&&(Re=Te,ft=dt,yt=Ze)})}),yt.map(Ze=>Ze-ft).filter(Ze=>Number.isFinite(Ze)&&Ze>=0)},at=(Me,Oe,Ae,Pe,Ye)=>{const pe=Je(Me,Oe,Ae,Pe,Ye);return Array.from(new Set(pe.map(Ue=>Math.floor(Ue/5e3)).filter(Ue=>Number.isFinite(Ue)&&Ue>=0&&Ue<Pe)))};s.map(Me=>({log:Me,ts:ga(Me==null?void 0:Me.details,Me)})).sort((Me,Oe)=>Me.ts-Oe.ts).forEach(({log:Me},Oe)=>{const Ae=Me==null?void 0:Me.details;if(!Ae)return;const Pe=A(Ae.fightName||Me.fightName||`Fight ${Oe+1}`),Ye=za(Ae,Me),pe=Y(Pe,String(Ye||"")),Ue={},et=(Array.isArray(Ae.players)?Ae.players:[]).filter(Te=>!(Te!=null&&Te.notInSquad)),ce=et.flatMap(Te=>{const it=Te==null?void 0:Te.combatReplayData;return Array.isArray(it)?it.map(gt=>Number(gt==null?void 0:gt.start)):[Number(it==null?void 0:it.start)]}).filter(Te=>Number.isFinite(Te)&&Te>=0),$e=et.flatMap(Te=>{const it=Te==null?void 0:Te.combatReplayData;return(Array.isArray(it)?it:it?[it]:[]).flatMap(gt=>Ce(gt==null?void 0:gt.down).map(([kt])=>Number(kt||0)))}),Ve=et.flatMap(Te=>{const it=Te==null?void 0:Te.combatReplayData;return(Array.isArray(it)?it:it?[it]:[]).flatMap(gt=>Ce(gt==null?void 0:gt.dead).map(([kt])=>Number(kt||0)))}),yt=new Map,ft=new Map,Re=new Map;(Array.isArray(Ae.targets)?Ae.targets:[]).forEach((Te,it)=>{if(!Te||Te.isFake||!Te.enemyPlayer)return;const gt=U((Te==null?void 0:Te.profession)||(Te==null?void 0:Te.name)||(Te==null?void 0:Te.id))||"Unknown";Re.set(gt,(Re.get(gt)||0)+1);const kt=ft.get(gt)||new Map;Array.isArray(Te==null?void 0:Te.totalDamageDist)&&Te.totalDamageDist.forEach(Yt=>{Array.isArray(Yt)&&Yt.forEach(yn=>{if(!yn||typeof yn!="object"||yn.indirectDamage)return;const Bn=Number(yn.totalDamage||0);if(!Number.isFinite(Bn)||Bn<=0)return;const yr=Number(yn.connectedHits||yn.hits||0),Rt=Fe(yn.id,Ae),ra=Rt.name,qn=kt.get(ra)||{skillName:ra,damage:0,hits:0,icon:Rt.icon};qn.damage+=Bn,qn.hits+=Number.isFinite(yr)?yr:0,!qn.icon&&Rt.icon&&(qn.icon=Rt.icon),kt.set(ra,qn)})}),ft.set(gt,kt);const fn=St(et.map(Yt=>Ge(Yt,it))),an=fn.length>0?mt(fn):At(Te),ln=ke(Te,Ae);let Qe=yt.get(gt);Qe||(Qe={perSecond:[],hit:0,skillName:""},yt.set(gt,Qe)),an.length>Qe.perSecond.length&&(Qe.perSecond.length=an.length);for(let Yt=0;Yt<an.length;Yt+=1)Qe.perSecond[Yt]=Number(Qe.perSecond[Yt]||0)+Number(an[Yt]||0);const Hn=Number(ln.peak||0);Hn>Qe.hit&&(Qe.hit=Hn,Qe.skillName=ln.skillName||"Unknown Skill")});const Ze=Array.from(yt.values()).some(Te=>Array.isArray(Te.perSecond)&&Te.perSecond.some(it=>Number(it||0)>0));if(yt.size===0||!Ze){const Te=St(et.map(gt=>{const kt=Lt(gt==null?void 0:gt.powerDamageTaken1S);return mt(kt)})),it=Array.from(Re.values()).reduce((gt,kt)=>gt+Number(kt||0),0);Te.length>0&&it>0&&Re.forEach((gt,kt)=>{const fn=Number(gt||0)/it,an=Te.map(Qe=>Number(Qe||0)*fn),ln=yt.get(kt);yt.set(kt,{perSecond:an,hit:Number((ln==null?void 0:ln.hit)||0),skillName:String((ln==null?void 0:ln.skillName)||"")})})}yt.forEach((Te,it)=>{var gt;const kt=it,fn=Number(Te.hit||0),an=Number(Le(Te.perSecond,1)||0),ln=Number(Le(Te.perSecond,5)||0),Qe=Number(Le(Te.perSecond,30)||0),Hn=Math.max(0,Math.ceil(Number((Ae==null?void 0:Ae.durationMS)||0)/5e3)),Yt=Math.max(0,Math.ceil(Te.perSecond.length/5)),yn=Math.max(Hn,Yt),Bn=lt(Te.perSecond,5),yr=Array.from({length:yn},(ra,qn)=>Number(Bn[qn]||0));Ue[kt]={hit:fn,burst1s:an,burst5s:ln,burst30s:Qe,skillName:Te.skillName||"Unknown Skill",buckets5s:yr,downIndices5s:at($e,[],ce,yn,Number((Ae==null?void 0:Ae.durationMS)||0)),deathIndices5s:at(Ve,[],ce,yn,Number((Ae==null?void 0:Ae.durationMS)||0)),skillRows:Array.from(((gt=ft.get(it))==null?void 0:gt.values())||[]).sort((ra,qn)=>qn.damage-ra.damage).slice(0,50)};const Rt=ue.get(kt)||{key:kt,account:it,displayName:it,characterName:"",profession:it,professionList:[it],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Rt.logs+=1,fn>Rt.peakHit&&(Rt.peakHit=fn,Rt.peakFightLabel=pe,Rt.peakSkillName=Te.skillName||"Unknown Skill"),an>Rt.peak1s&&(Rt.peak1s=an),ln>Rt.peak5s&&(Rt.peak5s=ln),Qe>Rt.peak30s&&(Rt.peak30s=Qe),ue.set(kt,Rt)});const Ne=Object.values(Ue).reduce((Te,it)=>Math.max(Te,Number((it==null?void 0:it.hit)||0)),0),Be=Object.values(Ue).reduce((Te,it)=>Math.max(Te,Number((it==null?void 0:it.burst1s)||0)),0),dt=Object.values(Ue).reduce((Te,it)=>Math.max(Te,Number((it==null?void 0:it.burst5s)||0)),0),ct=Object.values(Ue).reduce((Te,it)=>Math.max(Te,Number((it==null?void 0:it.burst30s)||0)),0);te.push({id:Me.filePath||Me.id||`fight-${Oe+1}`,shortLabel:`F${Oe+1}`,fullLabel:pe,timestamp:ga(Ae,Me),values:Ue,maxHit:Ne,max1s:Be,max5s:dt,max30s:ct})});const wt=Array.from(ue.values()).sort((Me,Oe)=>Oe.peakHit!==Me.peakHit?Oe.peakHit-Me.peakHit:Me.displayName.localeCompare(Oe.displayName));return{fights:te,players:wt}})(),Er=Array.from(z.entries()).map(([A,L])=>{const Y=k.get(A)||{},te=Array.from(L.values()).map(ue=>{var Fe,ke;const mt=Array.from(ue.professions||[]).filter(Ce=>Ce&&Ce!=="Unknown");let St=ue.profession||"Unknown";if(mt.length>0){St=mt[0];let Ce=((Fe=ue.professionTimeMs)==null?void 0:Fe[St])||0;mt.forEach(Je=>{var at;const wt=((at=ue.professionTimeMs)==null?void 0:at[Je])||0;wt>Ce&&(Ce=wt,St=Je)})}const Lt=ue.durationMs||0,At=ue.totalMs/1e3,Ge=Lt>0?ue.totalMs/Lt:0,Le=((ke=O.get(ue.account))==null?void 0:ke.supportActiveMs)||Lt,lt=Le>0?ue.uptimeMs/Le:0;return{account:ue.account,profession:St,professionList:mt,total:At,perSecond:Ge,uptimePerSecond:lt,duration:Lt/1e3}}).filter(ue=>ue.total>0||ue.perSecond>0);return{id:A,name:Y.name||A,icon:Y.icon,rows:te}}).filter(A=>A.rows.length>0),rr=Array.from(ve.values()).map(A=>{const L=Array.from(A.skills.values()).sort((te,ue)=>ue.damage-te.damage),Y={key:A.key,account:A.account,displayName:A.displayName,profession:A.profession,professionList:A.professionList,totalFightMs:A.totalFightMs,skills:L};return h&&(Y.skillMap=L.reduce((te,ue)=>(te[ue.id]=ue,te),{})),Y}).sort((A,L)=>A.displayName.localeCompare(L.displayName));return{total:y,wins:x,losses:w,avgSquadSize:ee,avgEnemies:ht,squadKDR:Pt,enemyKDR:Rn,totalSquadKills:M,totalSquadDeaths:N,totalEnemyKills:B,totalEnemyDeaths:P,leaderboards:dn,...Xl,outgoingConditionSummary:Object.values(ne).sort((A,L)=>L.damage-A.damage),incomingConditionSummary:Object.values(H).sort((A,L)=>L.damage-A.damage),outgoingConditionPlayers:Array.from(O.values()).map(A=>({account:A.account,profession:A.profession,professionList:A.professionList,conditions:A.outgoingConditions})),incomingConditionPlayers:Array.from(O.values()).map(A=>({account:A.account,profession:A.profession,professionList:A.professionList,conditions:A.incomingConditions})),topSkills:ao,topIncomingSkills:fa,topSkillsByDamage:Po,topSkillsByDownContribution:Ma,playerSkillBreakdowns:rr,topSkillsMetric:b,mapData:Zl,timelineData:ec,boonTables:_i,boonTimeline:su,offensePlayers:Array.from(O.values()).map(A=>({account:A.account,profession:A.profession,professionList:A.professionList,offenseTotals:A.offenseTotals,offenseRateWeights:A.offenseRateWeights,totalFightMs:A.totalFightMs})),defensePlayers:Array.from(O.values()).map(A=>({account:A.account,profession:A.profession,professionList:A.professionList,defenseTotals:A.defenseTotals,activeMs:A.defenseActiveMs,minionDamageTakenByMinion:A.defenseMinionDamageTaken})),damageMitigationPlayers:rn,damageMitigationMinions:sn,supportPlayers:Array.from(O.values()).map(A=>({account:A.account,profession:A.profession,professionList:A.professionList,supportTotals:A.supportTotals,activeMs:A.supportActiveMs})),healingPlayers:Array.from(O.values()).map(A=>({account:A.account,profession:A.profession,professionList:A.professionList,healingTotals:A.healingTotals,activeMs:A.healingActiveMs})),mvp:da,silver:Ir,bronze:ou,squadClassData:pi,enemyClassData:ye,fightBreakdown:He,fightDiffMode:pt,attendanceData:Gt,squadCompByFight:It,spikeDamage:mn,incomingStrikeDamage:Nn,specialTables:Er,topStatsPerSecond:In,topStatsLeaderboardsPerSecond:gr,avgMvpScore:Jl}})(),p=(()=>{const m=new Map,h=new Map,v=[],b=new Map,y=new Map;s.forEach(w=>{const S=w.details;if(!S)return;const j=S.skillMap||{},N=S.fightName||"Log",M=ga(S,w)||Date.now(),P={id:w.filePath||w.id||N,label:N,timestamp:M,skillEntries:{},playerActiveSeconds:{},durationSeconds:S.durationMS?S.durationMS/1e3:0};(S.players||[]).forEach(B=>{if(B.notInSquad)return;const E=B.account||B.name||"Unknown",I=B.profession||"Unknown",O=`${E}|${I}`;let K=h.get(O);K||(K={key:O,account:E,displayName:E,profession:I,professionList:[I],logs:0,totalActiveSeconds:0,skillTotals:{}},h.set(O,K)),K.logs++;const Q=(Array.isArray(B.activeTimes)?B.activeTimes[0]:0)/1e3;K.totalActiveSeconds=(K.totalActiveSeconds||0)+Q,P.playerActiveSeconds[O]=Q,(B.rotation||[]).forEach(oe=>{var ve,ne,H;if(!(oe!=null&&oe.id))return;const V=((ve=oe.skills)==null?void 0:ve.length)||0;if(V<=0)return;const k=`s${oe.id}`,z=((ne=j[k])==null?void 0:ne.name)||`Skill ${oe.id}`,T=(H=j[k])==null?void 0:H.icon;K.skillTotals[k]=(K.skillTotals[k]||0)+V,m.set(k,(m.get(k)||0)+V),b.set(k,z),T&&!y.has(k)&&y.set(k,T),P.skillEntries[k]||(P.skillEntries[k]={name:z,icon:T,players:{}}),!P.skillEntries[k].icon&&T&&(P.skillEntries[k].icon=T),P.skillEntries[k].players[O]=(P.skillEntries[k].players[O]||0)+V})}),v.push(P)});const x=Array.from(m.entries()).map(([w,S])=>({id:w,name:b.get(w)||w,total:S,icon:y.get(w)})).sort((w,S)=>S.total-w.total);return{logRecords:v,players:Array.from(h.values()),skillOptions:x,resUtilitySkills:[]}})();return{validLogs:s,stats:f,skillUsageData:p}},dU=({logs:e,stats:t,skillUsageData:n,activeStatsViewSettings:r,uiTheme:a,embedded:i,onWebUpload:o})=>{const[s,l]=g.useState({uploading:!1,message:null,url:null}),[u,d]=g.useState("idle"),f=()=>{const m=new Set;let h=null,v=null;e.forEach(M=>{const P=M.details;if(!P)return;const B=P.timeStartStd||P.timeStart||P.uploadTime||M.uploadTime,E=P.timeEndStd||P.timeEnd||P.uploadTime||M.uploadTime,I=B?new Date(B):null,O=E?new Date(E):null;I&&!Number.isNaN(I.getTime())&&(!h||I<h)&&(h=I),O&&!Number.isNaN(O.getTime())&&(!v||O>v)&&(v=O),(P.players||[]).forEach(K=>{if(!(K!=null&&K.notInSquad)&&K!=null&&K.hasCommanderTag){const Q=(K==null?void 0:K.name)||(K==null?void 0:K.account)||"Unknown";m.add(Q)}})});const b=Array.from(m).sort((M,P)=>M.localeCompare(P)),y=h||new Date,x=v||y,w=y.toISOString(),S=x.toISOString(),j=`${y.toLocaleString()} - ${x.toLocaleString()}`,N=M=>String(M).padStart(2,"0");return{id:`${y.getFullYear()}${N(y.getMonth()+1)}${N(y.getDate())}-${N(y.getHours())}${N(y.getMinutes())}${N(y.getSeconds())}-${Math.random().toString(36).slice(2,6)}`,title:b.length?b.join(", "):"Unknown Commander",commanders:b,dateStart:w,dateEnd:S,dateLabel:j,generatedAt:new Date().toISOString()}},p=()=>{var m;const h={...t,skillUsageData:n,statsViewSettings:r,uiTheme:a};if(Array.isArray(h.fightDiffMode)&&h.fightDiffMode.length>0||!Array.isArray(e)||e.length===0)return h;try{const v=_h({logs:e,statsViewSettings:r}),b=(m=v==null?void 0:v.stats)==null?void 0:m.fightDiffMode;if(Array.isArray(b)&&b.length>0)return{...h,fightDiffMode:b}}catch{}return h};return{devMockUploadState:s,setDevMockUploadState:l,webCopyStatus:u,setWebCopyStatus:d,handleWebUpload:async()=>{if(!i&&o)try{const m=f(),h=p();await o({meta:m,stats:h})}catch(m){console.error("[StatsView] Web upload failed:",m)}},handleDevMockUpload:async()=>{var m;if(!(i||!((m=window.electronAPI)!=null&&m.mockWebReport))){l({uploading:!0,message:"Preparing local report...",url:null});try{const h=f(),v=p(),b=await window.electronAPI.mockWebReport({meta:h,stats:v});b!=null&&b.success?l({uploading:!1,message:"Local report ready.",url:b.url||null}):l({uploading:!1,message:(b==null?void 0:b.error)||"Local report failed.",url:null})}catch(h){l({uploading:!1,message:(h==null?void 0:h.message)||"Local report failed.",url:null})}}}}};function fU(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),a=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(a),t&&(r.href=t),a.href=e,a.href}const pU=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function Ol(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}let Zd=null;function h3(e={}){return Zd||(e.includeStyleProperties?(Zd=e.includeStyleProperties,Zd):(Zd=Ol(window.getComputedStyle(document.documentElement)),Zd))}function vg(e,t){const n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function mU(e){const t=vg(e,"border-left-width"),n=vg(e,"border-right-width");return e.clientWidth+t+n}function hU(e){const t=vg(e,"border-top-width"),n=vg(e,"border-bottom-width");return e.clientHeight+t+n}function g3(e,t={}){const n=t.width||mU(e),r=t.height||hU(e);return{width:n,height:r}}function gU(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const bi=16384;function yU(e){(e.width>bi||e.height>bi)&&(e.width>bi&&e.height>bi?e.width>e.height?(e.height*=bi/e.width,e.width=bi):(e.width*=bi/e.height,e.height=bi):e.width>bi?(e.height*=bi/e.width,e.width=bi):(e.width*=bi/e.height,e.height=bi))}function bg(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function vU(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function bU(e,t,n){const r="http://www.w3.org/2000/svg",a=document.createElementNS(r,"svg"),i=document.createElementNS(r,"foreignObject");return a.setAttribute("width",`${t}`),a.setAttribute("height",`${n}`),a.setAttribute("viewBox",`0 0 ${t} ${n}`),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("externalResourcesRequired","true"),a.appendChild(i),i.appendChild(e),vU(a)}const si=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||si(n,t)};function xU(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function wU(e,t){return h3(t).map(n=>{const r=e.getPropertyValue(n),a=e.getPropertyPriority(n);return`${n}: ${r}${a?" !important":""};`}).join(" ")}function kU(e,t,n,r){const a=`.${e}:${t}`,i=n.cssText?xU(n):wU(n,r);return document.createTextNode(`${a}{${i}}`)}function Rj(e,t,n,r){const a=window.getComputedStyle(e,n),i=a.getPropertyValue("content");if(i===""||i==="none")return;const o=pU();try{t.className=`${t.className} ${o}`}catch{return}const s=document.createElement("style");s.appendChild(kU(o,n,a,r)),t.appendChild(s)}function SU(e,t,n){Rj(e,t,":before",n),Rj(e,t,":after",n)}const Bj="application/font-woff",zj="image/jpeg",NU={woff:Bj,woff2:Bj,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:zj,jpeg:zj,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function jU(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function mk(e){const t=jU(e).toLowerCase();return NU[t]||""}function CU(e){return e.split(/,/)[1]}function _x(e){return e.search(/^(data:)/)!==-1}function MU(e,t){return`data:${t};base64,${e}`}async function y3(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const a=await r.blob();return new Promise((i,o)=>{const s=new FileReader;s.onerror=o,s.onloadend=()=>{try{i(n({res:r,result:s.result}))}catch(l){o(l)}},s.readAsDataURL(a)})}const Rv={};function AU(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function hk(e,t,n){const r=AU(e,t,n.includeQueryParams);if(Rv[r]!=null)return Rv[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let a;try{const i=await y3(e,n.fetchRequestInit,({res:o,result:s})=>(t||(t=o.headers.get("Content-Type")||""),CU(s)));a=MU(i,t)}catch(i){a=n.imagePlaceholder||"";let o=`Failed to fetch resource: ${e}`;i&&(o=typeof i=="string"?i:i.message),o&&console.warn(o)}return Rv[r]=a,a}async function EU(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):bg(t)}async function DU(e,t){if(e.currentSrc){const i=document.createElement("canvas"),o=i.getContext("2d");i.width=e.clientWidth,i.height=e.clientHeight,o==null||o.drawImage(e,0,0,i.width,i.height);const s=i.toDataURL();return bg(s)}const n=e.poster,r=mk(n),a=await hk(n,r,t);return bg(a)}async function PU(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await q0(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function TU(e,t){return si(e,HTMLCanvasElement)?EU(e):si(e,HTMLVideoElement)?DU(e,t):si(e,HTMLIFrameElement)?PU(e,t):e.cloneNode(v3(e))}const OU=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",v3=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function IU(e,t,n){var r,a;if(v3(t))return t;let i=[];return OU(e)&&e.assignedNodes?i=Ol(e.assignedNodes()):si(e,HTMLIFrameElement)&&!((r=e.contentDocument)===null||r===void 0)&&r.body?i=Ol(e.contentDocument.body.childNodes):i=Ol(((a=e.shadowRoot)!==null&&a!==void 0?a:e).childNodes),i.length===0||si(e,HTMLVideoElement)||await i.reduce((o,s)=>o.then(()=>q0(s,n)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function _U(e,t,n){const r=t.style;if(!r)return;const a=window.getComputedStyle(e);a.cssText?(r.cssText=a.cssText,r.transformOrigin=a.transformOrigin):h3(n).forEach(i=>{let o=a.getPropertyValue(i);i==="font-size"&&o.endsWith("px")&&(o=`${Math.floor(parseFloat(o.substring(0,o.length-2)))-.1}px`),si(e,HTMLIFrameElement)&&i==="display"&&o==="inline"&&(o="block"),i==="d"&&t.getAttribute("d")&&(o=`path(${t.getAttribute("d")})`),r.setProperty(i,o,a.getPropertyPriority(i))})}function LU(e,t){si(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),si(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function FU(e,t){if(si(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(a=>e.value===a.getAttribute("value"));r&&r.setAttribute("selected","")}}function $U(e,t,n){return si(t,Element)&&(_U(e,t,n),SU(e,t,n),LU(e,t),FU(e,t)),t}async function RU(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let i=0;i<n.length;i++){const o=n[i].getAttribute("xlink:href");if(o){const s=e.querySelector(o),l=document.querySelector(o);!s&&l&&!r[o]&&(r[o]=await q0(l,t,!0))}}const a=Object.values(r);if(a.length){const i="http://www.w3.org/1999/xhtml",o=document.createElementNS(i,"svg");o.setAttribute("xmlns",i),o.style.position="absolute",o.style.width="0",o.style.height="0",o.style.overflow="hidden",o.style.display="none";const s=document.createElementNS(i,"defs");o.appendChild(s);for(let l=0;l<a.length;l++)s.appendChild(a[l]);e.appendChild(o)}return e}async function q0(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>TU(r,t)).then(r=>IU(e,r,t)).then(r=>$U(e,r,t)).then(r=>RU(r,t))}const b3=/url\((['"]?)([^'"]+?)\1\)/g,BU=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,zU=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function UU(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function VU(e){const t=[];return e.replace(b3,(n,r,a)=>(t.push(a),n)),t.filter(n=>!_x(n))}async function WU(e,t,n,r,a){try{const i=n?fU(t,n):t,o=mk(t);let s;return a||(s=await hk(i,o,r)),e.replace(UU(t),`$1${s}$3`)}catch{}return e}function HU(e,{preferredFontFormat:t}){return t?e.replace(zU,n=>{for(;;){const[r,,a]=BU.exec(n)||[];if(!a)return"";if(a===t)return`src: ${r};`}}):e}function x3(e){return e.search(b3)!==-1}async function w3(e,t,n){if(!x3(e))return e;const r=HU(e,n);return VU(r).reduce((a,i)=>a.then(o=>WU(o,i,t,n)),Promise.resolve(r))}async function bu(e,t,n){var r;const a=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(a){const i=await w3(a,null,n);return t.style.setProperty(e,i,t.style.getPropertyPriority(e)),!0}return!1}async function qU(e,t){await bu("background",e,t)||await bu("background-image",e,t),await bu("mask",e,t)||await bu("-webkit-mask",e,t)||await bu("mask-image",e,t)||await bu("-webkit-mask-image",e,t)}async function KU(e,t){const n=si(e,HTMLImageElement);if(!(n&&!_x(e.src))&&!(si(e,SVGImageElement)&&!_x(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,a=await hk(r,mk(r),t);await new Promise((i,o)=>{e.onload=i,e.onerror=t.onImageErrorHandler?(...l)=>{try{i(t.onImageErrorHandler(...l))}catch(u){o(u)}}:o;const s=e;s.decode&&(s.decode=i),s.loading==="lazy"&&(s.loading="eager"),n?(e.srcset="",e.src=a):e.href.baseVal=a})}async function GU(e,t){const n=Ol(e.childNodes).map(r=>k3(r,t));await Promise.all(n).then(()=>e)}async function k3(e,t){si(e,Element)&&(await qU(e,t),await KU(e,t),await GU(e,t))}function YU(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(a=>{n[a]=r[a]}),e}const Uj={};async function Vj(e){let t=Uj[e];if(t!=null)return t;const n=await(await fetch(e)).text();return t={url:e,cssText:n},Uj[e]=t,t}async function Wj(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,a=(n.match(/url\([^)]+\)/g)||[]).map(async i=>{let o=i.replace(r,"$1");return o.startsWith("https://")||(o=new URL(o,e.url).href),y3(o,t.fetchRequestInit,({result:s})=>(n=n.replace(i,`url(${s})`),[i,s]))});return Promise.all(a).then(()=>n)}function Hj(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const a=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=a.exec(r);if(l===null)break;t.push(l[0])}r=r.replace(a,"");const i=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,o="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",s=new RegExp(o,"gi");for(;;){let l=i.exec(r);if(l===null){if(l=s.exec(r),l===null)break;i.lastIndex=s.lastIndex}else s.lastIndex=i.lastIndex;t.push(l[0])}return t}async function QU(e,t){const n=[],r=[];return e.forEach(a=>{if("cssRules"in a)try{Ol(a.cssRules||[]).forEach((i,o)=>{if(i.type===CSSRule.IMPORT_RULE){let s=o+1;const l=i.href,u=Vj(l).then(d=>Wj(d,t)).then(d=>Hj(d).forEach(f=>{try{a.insertRule(f,f.startsWith("@import")?s+=1:a.cssRules.length)}catch(p){console.error("Error inserting rule from remote css",{rule:f,error:p})}})).catch(d=>{console.error("Error loading remote css",d.toString())});r.push(u)}})}catch(i){const o=e.find(s=>s.href==null)||document.styleSheets[0];a.href!=null&&r.push(Vj(a.href).then(s=>Wj(s,t)).then(s=>Hj(s).forEach(l=>{o.insertRule(l,o.cssRules.length)})).catch(s=>{console.error("Error loading remote stylesheet",s)})),console.error("Error inlining remote css file",i)}}),Promise.all(r).then(()=>(e.forEach(a=>{if("cssRules"in a)try{Ol(a.cssRules||[]).forEach(i=>{n.push(i)})}catch(i){console.error(`Error while reading CSS rules from ${a.href}`,i)}}),n))}function XU(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>x3(t.style.getPropertyValue("src")))}async function JU(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=Ol(e.ownerDocument.styleSheets),r=await QU(n,t);return XU(r)}function S3(e){return e.trim().replace(/["']/g,"")}function ZU(e){const t=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(a=>{t.add(S3(a))}),Array.from(r.children).forEach(a=>{a instanceof HTMLElement&&n(a)})}return n(e),t}async function eV(e,t){const n=await JU(e,t),r=ZU(e);return(await Promise.all(n.filter(a=>r.has(S3(a.style.fontFamily))).map(a=>{const i=a.parentStyleSheet?a.parentStyleSheet.href:null;return w3(a.cssText,i,t)}))).join(`
`)}async function tV(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await eV(e,t);if(n){const r=document.createElement("style"),a=document.createTextNode(n);r.appendChild(a),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function nV(e,t={}){const{width:n,height:r}=g3(e,t),a=await q0(e,t,!0);return await tV(a,t),await k3(a,t),YU(a,t),await bU(a,n,r)}async function rV(e,t={}){const{width:n,height:r}=g3(e,t),a=await nV(e,t),i=await bg(a),o=document.createElement("canvas"),s=o.getContext("2d"),l=t.pixelRatio||gU(),u=t.canvasWidth||n,d=t.canvasHeight||r;return o.width=u*l,o.height=d*l,t.skipAutoScale||yU(o),o.style.width=`${u}`,o.style.height=`${d}`,t.backgroundColor&&(s.fillStyle=t.backgroundColor,s.fillRect(0,0,o.width,o.height)),s.drawImage(i,0,0,o.width,o.height),o}async function aV(e,t={}){return(await rV(e,t)).toDataURL()}const iV=e=>{const[t,n]=g.useState(!1),r=async i=>{var o;if(!((o=window.electronAPI)!=null&&o.fetchImageAsDataUrl))return i();const s=window.fetch.bind(window),l=globalThis.fetch.bind(globalThis),u=async(d,f)=>{const p=typeof d=="string"?d:d instanceof URL?d.toString():d.url;if(/^https?:\/\//i.test(p)){const m=await window.electronAPI.fetchImageAsDataUrl(p);if(m!=null&&m.success&&m.dataUrl)return s(m.dataUrl)}return s(d,f)};window.fetch=u,globalThis.fetch=u;try{return await i()}finally{window.fetch=s,globalThis.fetch=l}},a=async i=>{var o;if(!((o=window.electronAPI)!=null&&o.fetchImageAsDataUrl))return()=>{};const s=new Map,l=[],u=async p=>{if(s.has(p))return s.get(p)||null;const m=await window.electronAPI.fetchImageAsDataUrl(p);return m!=null&&m.success&&m.dataUrl?(s.set(p,m.dataUrl),m.dataUrl):(s.set(p,""),null)},d=Array.from(i.querySelectorAll("img"));await Promise.all(d.map(async p=>{var m;const h=p.currentSrc||p.src;if(!h||h.startsWith("data:")||h.startsWith("blob:")||h.startsWith("file:"))return;const v=await u(h);if(!v)return;const b=p.src,y=p.srcset;p.src=v,p.srcset="",l.push(()=>{p.src=b,p.srcset=y});try{await((m=p.decode)==null?void 0:m.call(p))}catch{}}));const f=Array.from(i.querySelectorAll("*"));return await Promise.all(f.map(async p=>{const m=window.getComputedStyle(p).backgroundImage;if(!m||m==="none"||!m.includes("url("))return;const h=Array.from(m.matchAll(/url\(["']?(https?:\/\/[^"')]+)["']?\)/g));if(!h.length)return;let v=m,b=!1;for(const x of h){const w=x[1];if(!w)continue;const S=await u(w);S&&(v=v.replace(x[0],`url("${S}")`),b=!0)}if(!b)return;const y=p.style.backgroundImage;p.style.backgroundImage=v,l.push(()=>{p.style.backgroundImage=y})})),()=>{l.forEach(p=>p())}};return{sharing:t,setSharing:n,handleShare:async()=>{var i;if(e||!((i=window.electronAPI)!=null&&i.sendStatsScreenshot))return;n(!0);const o=document.getElementById("stats-dashboard-container");if(o)try{await new Promise(p=>setTimeout(p,100));const s=Array.from(o.querySelectorAll(".stats-share-exclude"));o.classList.add("stats-share-mode"),s.forEach(p=>{p.dataset.prevDisplay=p.style.display,p.style.display="none"});let l;const u=await a(o);try{const p=o.scrollWidth,m=o.scrollHeight;l=await r(()=>aV(o,{backgroundColor:"#10141b",quality:.95,pixelRatio:2,cacheBust:!0,width:p,height:m,style:{overflow:"visible",maxHeight:"none",height:"auto"}}))}finally{u(),o.classList.remove("stats-share-mode"),s.forEach(p=>{p.style.display=p.dataset.prevDisplay||"",delete p.dataset.prevDisplay})}const d=await(await(await fetch(l)).blob()).arrayBuffer(),f=new Uint8Array(d);window.electronAPI.sendStatsScreenshot(f)}catch(s){console.error("Failed to capture stats:",s)}setTimeout(()=>n(!1),2e3)}}},yf=(e,t)=>{const n={};return t.forEach(r=>{e&&Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}),n},oV=e=>!!(e&&e.__statsPruned===!0),qj=(e,t)=>{if(!e||typeof e!="object")return e;const n={};return Object.entries(e).forEach(([r,a])=>{if(!a||typeof a!="object")return;const i={};typeof a.name=="string"&&(i.name=a.name),typeof a.icon=="string"&&(i.icon=a.icon),t!=null&&t.includeClassification&&typeof a.classification=="string"&&(i.classification=a.classification),t!=null&&t.includeStacking&&(typeof a.stacking=="boolean"?i.stacking=a.stacking:typeof a.stacking=="number"&&(i.stacking=!!a.stacking)),Object.keys(i).length>0&&(n[r]=i)}),n},Kj=e=>{var t;const n=(t=e==null?void 0:e.statsAll)==null?void 0:t[0];return!n||typeof n!="object"?!1:n.distToCom!==void 0&&n.distToCom!=="Infinity"||n.stackDist!==void 0},sV=(e,t)=>{const n=r=>{if(!r||typeof r!="object")return null;const a=yf(r,["start","down","dead"]);return t&&Array.isArray(r.positions)&&(a.positions=r.positions),a};return Array.isArray(e)?e.map(r=>n(r)).filter(r=>!!r):e&&typeof e=="object"?n(e):e},Gj=e=>{if(!e||typeof e!="object")return e;const t=yf(e,["players","targets","durationMS","uploadTime","timeStart","timeStartStd","timeEnd","timeEndStd","fightName","zone","mapName","map","location","permalink","uploadLinks","success","teamBreakdown","teamCounts","combatReplayMetaData","skillMap","buffMap","encounterDuration","player_damage_mitigation","player_minion_damage_mitigation","playerDamageMitigation","playerMinionDamageMitigation"]);if(t.skillMap=qj(t.skillMap,{includeClassification:!1,includeStacking:!1}),t.buffMap=qj(t.buffMap,{includeClassification:!0,includeStacking:!0}),Array.isArray(t.players)){const n=e.players,r=n.filter(a=>!(a!=null&&a.notInSquad)).some(a=>!(a!=null&&a.hasCommanderTag)&&!Kj(a));t.players=n.map(a=>{const i=yf(a,["name","display_name","character_name","profession","elite_spec","group","dpsAll","statsAll","dpsTargets","statsTargets","defenses","support","rotation","extHealingStats","extBarrierStats","squadBuffVolumes","selfBuffs","groupBuffs","squadBuffs","selfBuffsActive","groupBuffsActive","squadBuffsActive","buffUptimes","totalDamageDist","targetDamageDist","damage1S","targetDamage1S","powerDamageTaken1S","targetPowerDamage1S","totalDamageTaken","totalDamageTakenDist","hasCommanderTag","notInSquad","account","activeTimes","teamID","teamId","team","teamColor","team_color"]),o=Array.isArray(a==null?void 0:a.minions)?a.minions:[];i.minions=o.map(l=>yf(l,["name","totalDamageTakenDist"]));const s=r&&((a==null?void 0:a.hasCommanderTag)&&!(a!=null&&a.notInSquad)||!(a!=null&&a.notInSquad)&&!Kj(a));return i.combatReplayData=sV(a==null?void 0:a.combatReplayData,s),i})}return Array.isArray(t.targets)&&(t.targets=t.targets.map(n=>yf(n,["id","name","isFake","dpsAll","statsAll","defenses","totalHealth","healthPercentBurned","enemyPlayer","totalDamageDist","totalDamageTaken","totalDamageTakenDist","damageTaken","powerDamage1S","damage1S","profession","teamID","teamId","team","teamColor","team_color"]))),t},lV=e=>{if(!e||typeof e!="object"||oV(e))return e;const t={...e};return e.details?t.details=Gj(e.details):t.details=Gj(e),t.__statsPruned=!0,t},cV=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:a})=>{const i=e.length>8,[o,s]=g.useState(()=>_h(typeof Worker<"u"&&i?{logs:[],precomputedStats:void 0,mvpWeights:n,statsViewSettings:r,disruptionMethod:a}:{logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:a})),[l,u]=g.useState(0),[d,f]=g.useState(0),[p,m]=g.useState(0),[h,v]=g.useState(0),[b,y]=g.useState(null),x=g.useRef(0),[w,S]=g.useState(0),j=g.useRef(null),N=g.useRef(null),[M,P]=g.useState(!1),B=g.useRef(null),E=g.useRef(null),I=g.useRef(0),O=g.useRef(0),K=g.useRef(new Map),Q=g.useRef(""),oe=g.useRef(void 0),ve=g.useRef(""),ne=g.useRef(0),[H,V]=g.useState({active:!1,phase:"idle",streamed:0,total:0,startedAt:0,completedAt:0}),[k,z]=g.useState(null),T=g.useRef(0),C=()=>{if(B.current!==null&&(window.clearTimeout(B.current),B.current=null),E.current!==null){const R=window.cancelIdleCallback;typeof R=="function"&&R(E.current),E.current=null}},$=(R,Z)=>{const F=String((R==null?void 0:R.filePath)||(R==null?void 0:R.id)||`idx-${Z}`),se=R!=null&&R.details&&typeof R.details=="object"?R.details:null,fe=K.current.get(F);if(fe&&(se&&fe.sourceDetails===se||!se&&fe.sourceLog===R))return fe.pruned;const q=lV(R);return K.current.set(F,{sourceLog:R,sourceDetails:se,pruned:q}),q},U=g.useMemo(()=>{if(!r){Q.current="",oe.current=void 0;return}const R={...r};delete R.topSkillsMetric;const Z=JSON.stringify(R);return Q.current!==Z&&(Q.current=Z,oe.current=R),oe.current},[r]);g.useEffect(()=>{if(!(typeof Worker>"u")&&!M&&i)return N.current||(N.current=new Worker(new URL(""+new URL(""+new URL("statsWorker-BiuKDpJI-C1HHkBRC.js",import.meta.url).href,import.meta.url).href,import.meta.url),{type:"module"}),N.current.onmessage=R=>{var Z;if(((Z=R.data)==null?void 0:Z.type)==="result"){const F=typeof R.data.token=="number"?R.data.token:null;if(F!==null&&F!==x.current)return;g.startTransition(()=>{var se;s(R.data.result),typeof R.data.computeId=="number"?u(R.data.computeId):u(Ee=>Ee+1),typeof R.data.logCount=="number"&&f(R.data.logCount),typeof R.data.token=="number"&&m(R.data.token),typeof R.data.completedAt=="number"&&v(R.data.completedAt),typeof R.data.flushId=="number"&&y(R.data.flushId);const fe=F===null||F===x.current,q=ne.current,de=typeof R.data.logCount=="number"?R.data.logCount:0;if(fe){const Ee=typeof R.data.completedAt=="number"?R.data.completedAt:Date.now(),st=((se=R.data)==null?void 0:se.diagnostics)||{},De=Math.max(0,Number(st.computeMs||0)),ae=T.current>0?T.current:Ee,Ie=Math.max(0,Ee-ae),ee=Math.max(0,Ie-De);z({mode:"worker",logsInPayload:Number(st.logsInPayload||R.data.logCount||0),streamedLogs:Number(R.data.logCount||0),totalLogs:q,startedAt:ae,completedAt:Ee,streamMs:ee,computeMs:De,totalMs:Ie,flushId:typeof R.data.flushId=="number"?R.data.flushId:null,transferStripStats:st.transferStripStats,counts:st.counts,expectedLogCount:Number(st.expectedLogCount||0),droppedLogMessages:Number(st.droppedLogMessages||0)})}fe&&de>=q&&V(Ee=>({...Ee,active:q>0,phase:q>0?"settled":"idle",streamed:q,total:q,completedAt:typeof R.data.completedAt=="number"?R.data.completedAt:Date.now()}))})}},N.current.onerror=R=>{var Z;console.warn("[StatsWorker] Worker error. Falling back to main thread.",R),(Z=N.current)==null||Z.terminate(),N.current=null,P(!0)},N.current.onmessageerror=R=>{var Z;console.warn("[StatsWorker] Worker message error. Falling back to main thread.",R),(Z=N.current)==null||Z.terminate(),N.current=null,P(!0)},j.current!==null&&N.current.postMessage({type:"flush",flushId:j.current,token:x.current})),()=>{var R;O.current+=1,C(),(R=N.current)==null||R.terminate(),N.current=null}},[M,i]),g.useEffect(()=>{var R;if(!N.current||M||!i)return;const Z=O.current+1;O.current=Z;let F=!1;try{ne.current=e.length,T.current=Date.now(),z(null),V({active:e.length>0,phase:e.length>0?"streaming":"idle",streamed:0,total:e.length,startedAt:Date.now(),completedAt:0});const se=x.current+1;x.current=se,S(se);const fe=new Set;e.forEach((ae,Ie)=>{fe.add(String((ae==null?void 0:ae.filePath)||(ae==null?void 0:ae.id)||`idx-${Ie}`))}),K.current.forEach((ae,Ie)=>{fe.has(Ie)||K.current.delete(Ie)}),C(),N.current.postMessage({type:"reset",token:se,totalLogs:e.length}),N.current.postMessage({type:"settings",token:se,payload:{precomputedStats:t,mvpWeights:n,statsViewSettings:U,disruptionMethod:a}});let q=0;const de=e.length,Ee=(ae,Ie=!1)=>{const ee=performance.now();if(!Ie&&ee-I.current<120&&q<de)return;I.current=ee;const ht=Math.min(q,de);V(Pt=>Pt.active===de>0&&Pt.phase===ae&&Pt.streamed===ht&&Pt.total===de?Pt:{...Pt,active:de>0,phase:ae,streamed:ht,total:de})},st=()=>{if(F||O.current!==Z||!N.current)return;const ae=window.requestIdleCallback;if(typeof ae=="function"){E.current=ae(Ie=>{E.current=null,De(Ie)},{timeout:120});return}B.current=window.setTimeout(()=>{B.current=null,De()},0)},De=ae=>{if(F||O.current!==Z||!N.current)return;const Ie=!!(ae&&typeof ae.timeRemaining=="function"),ee=Ie?Math.max(0,Number(ae.timeRemaining()||0)):0,ht=Ie?ee>12?4:ee>7?2:1:1;let Pt=0;for(;Pt<ht&&q<de;)N.current.postMessage({type:"log",token:se,payload:$(e[q],q)}),q+=1,Pt+=1;q<de?(Ee("streaming"),st()):(Ee("computing",!0),N.current.postMessage({type:"flush",token:se}))};I.current=0,de<=0?(Ee("computing",!0),N.current.postMessage({type:"flush",token:se})):(Ee("streaming",!0),st())}catch(se){console.warn("[StatsWorker] Failed to postMessage payload. Falling back to main thread.",se),C(),(R=N.current)==null||R.terminate(),N.current=null,P(!0),V({active:!1,phase:"idle",streamed:0,total:0,startedAt:0,completedAt:0}),z(null)}return()=>{F=!0,C()}},[e,t,n,U,a,i,M]);const J=g.useMemo(()=>{if(!M&&typeof Worker<"u"&&i)return null;const R=Date.now(),Z=performance.now(),F=_h({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:U,disruptionMethod:a}),se=Math.max(0,performance.now()-Z),fe=Date.now();return{result:F,computeMs:se,startedAt:R,completedAt:fe}},[M,e,t,n,U,a,i]),le=g.useMemo(()=>{if(!M&&typeof Worker<"u"&&i)return"worker";const R=e[0],Z=e[e.length-1];return JSON.stringify({logCount:e.length,firstLogPath:(R==null?void 0:R.filePath)||(R==null?void 0:R.name)||"",lastLogPath:(Z==null?void 0:Z.filePath)||(Z==null?void 0:Z.name)||"",precomputedTotal:Number((t==null?void 0:t.total)||0),precomputedUpdatedAt:String((t==null?void 0:t.updatedAt)||""),disruptionMethod:a||null,settingsKey:Q.current})},[M,i,e,t,a]);g.useEffect(()=>{if(!M&&typeof Worker<"u"&&i||ve.current===le)return;ve.current=le,u(Z=>Z+1),f(e.length),m(x.current);const R=Date.now();v(R),z({mode:"fallback",logsInPayload:e.length,streamedLogs:e.length,totalLogs:e.length,startedAt:(J==null?void 0:J.startedAt)||R,completedAt:R,streamMs:0,computeMs:Math.max(0,Number((J==null?void 0:J.computeMs)||0)),totalMs:Math.max(0,Number((J==null?void 0:J.computeMs)||0)),flushId:null})},[le,J,M,e.length,i]);const G=M||typeof Worker>"u"||!i?(J==null?void 0:J.result)??_h({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:U,disruptionMethod:a}):o,_=!M&&typeof Worker<"u"&&i?H:{active:!1,phase:"idle",streamed:e.length,total:e.length,startedAt:0,completedAt:Date.now()};return{result:G,computeTick:l,lastComputedLogCount:d,lastComputedToken:p,activeToken:w,lastComputedAt:h,lastComputedFlushId:b,aggregationProgress:_,aggregationDiagnostics:k,requestFlush:()=>{const R=Date.now();return j.current=R,N.current&&!M&&N.current.postMessage({type:"flush",flushId:R,token:x.current}),R}}},uV=e=>({apmSpecBuckets:g.useMemo(()=>{const t=new Map,n=new Map((e.skillOptions||[]).map(i=>[i.id,i])),r=new Map,a=(i,o)=>{if(r.has(o))return r.get(o);const s=n.get(o);let l=!1;return s&&typeof s.autoAttack=="boolean"?l=s.autoAttack:l=y8(i),r.set(o,l),l};return(e.players||[]).forEach(i=>{const o=(i==null?void 0:i.profession)||"Unknown";let s=t.get(o);s||(s={profession:o,players:[],playerRows:[],totalActiveSeconds:0,totalCasts:0,totalAutoCasts:0,skills:[],skillMap:new Map},t.set(o,s)),s.players.push(i);const l=Number((i==null?void 0:i.totalActiveSeconds)||0),u=Number.isFinite(l)&&l>0?l:0;s.totalActiveSeconds+=u;let d=0,f=0;const p=i&&typeof i.skillTotals=="object"&&i.skillTotals!==null?i.skillTotals:{};Object.entries(p).forEach(([S,j])=>{const N=Number(j);if(!Number.isFinite(N)||N<=0)return;const M=n.get(S),P=(M==null?void 0:M.name)||S,B=M==null?void 0:M.icon,E=a(P,S);d+=N,E&&(f+=N);let I=s.skillMap.get(S);I||(I={id:S,name:P,icon:B,totalCasts:0,playerCounts:new Map},s.skillMap.set(S,I)),!I.icon&&B&&(I.icon=B),I.totalCasts+=N;const O=(i==null?void 0:i.key)||`${(i==null?void 0:i.account)||"Unknown"}|${o}`;I.playerCounts.set(O,N)}),s.totalCasts+=d,s.totalAutoCasts+=f;const m=u/60,h=m>0?d/m:0,v=Math.max(0,d-f),b=m>0?v/m:0,y=u>0?d/u:0,x=u>0?v/u:0,w={key:(i==null?void 0:i.key)||`${(i==null?void 0:i.account)||"Unknown"}|${o}`,account:(i==null?void 0:i.account)||"Unknown",displayName:(i==null?void 0:i.displayName)||(i==null?void 0:i.account)||"Unknown",profession:o,professionList:Array.isArray(i==null?void 0:i.professionList)?i.professionList:[o],logs:Number((i==null?void 0:i.logs)||0),totalActiveSeconds:u,totalCasts:d,totalAutoCasts:f,apm:h,apmNoAuto:b,aps:y,apsNoAuto:x};s.playerRows.push(w)}),t.forEach(i=>{i.playerRows.sort((u,d)=>d.apm-u.apm);const o=Number(i.totalActiveSeconds||0),s=o>0?o/60:0,l=Math.max(0,Number(i.totalCasts||0)-Number(i.totalAutoCasts||0));i.totalApm=s>0?Number(i.totalCasts||0)/s:0,i.totalApmNoAuto=s>0?l/s:0,i.totalAps=o>0?Number(i.totalCasts||0)/o:0,i.totalApsNoAuto=o>0?l/o:0,i.skills=Array.from(i.skillMap.values()).map(u=>{const d=i.playerRows.map(h=>{var v;const b=Number(((v=u.playerCounts)==null?void 0:v.get(h.key))||0);if(!Number.isFinite(b)||b<=0)return null;const y=Number(h.totalActiveSeconds||0),x=y>0?b/(y/60):0,w=y>0?b/y:0;return{...h,count:b,apm:x,aps:w}}).filter(Boolean).sort((h,v)=>v.apm-h.apm||String(h.displayName||"").localeCompare(String(v.displayName||""))),f=Number(u.totalCasts||0),p=o>0?f/o:0,m=s>0?f/s:0;return{...u,playerRows:d,totalCasts:f,totalCastsPerSecond:p,totalApm:m}}).sort((u,d)=>d.totalCasts-u.totalCasts)}),Array.from(t.values()).sort((i,o)=>i.profession.localeCompare(o.profession))},[e])}),dV=({skillUsageData:e,selectedSkillId:t,selectedPlayers:n,skillUsageView:r})=>{const a=g.useMemo(()=>{const d=new Map;return e.players.forEach(f=>d.set(f.key,f)),d},[e.players]),i=g.useMemo(()=>{const d=new Map;if(!t)return d;const f=r==="perSecond";return e.players.forEach(p=>{const m=p.skillTotals[t]||0;if(m===0)return;let h=m;if(f){const v=p.totalActiveSeconds||1;h=v>0?m/v:0}d.set(p.key,h)}),d},[e.players,t,r]),o=g.useMemo(()=>t?Array.from(i.entries()).map(([d,f])=>{const p=a.get(d);return{key:d,name:(p==null?void 0:p.displayName)||d,profession:(p==null?void 0:p.profession)||"Unknown",value:f}}).sort((d,f)=>f.value-d.value):[],[i,a,t]),{chartData:s,maxY:l}=g.useMemo(()=>{if(!t)return{chartData:[],maxY:0};let d=0;const f=r==="perSecond";return{chartData:e.logRecords.map((p,m)=>{const h=p.skillEntries[t];if(!h)return null;const v={index:m,name:p.label,shortLabel:p.label,fullLabel:p.label,timestamp:p.timestamp};let b=!1,y=!1;if(Object.entries(h.players).forEach(([x,w])=>{var S;if(n.size>0&&!n.has(x))return;let j=w;if(f){const N=((S=p.playerActiveSeconds)==null?void 0:S[x])||0;j=N>0?w/N:0}v[x]=j,j>d&&(d=j),b=!0,y=!0}),n.size>0){if(!y)return null}else if(!b)return null;return n.forEach(x=>{v[x]===void 0&&(v[x]=0)}),v}).filter(p=>p!==null),maxY:d}},[e.logRecords,t,n,r]),u=g.useMemo(()=>{const d={};return e.players.forEach(f=>{const p=f.profession||"Unknown";d[p]||(d[p]=[]),d[p].push(f)}),Object.entries(d).map(([f,p])=>({profession:f,players:p.sort((m,h)=>m.displayName.localeCompare(h.displayName))})).sort((f,p)=>f.profession.localeCompare(p.profession))},[e.players]);return{playerMapByKey:a,playerTotalsForSkill:i,skillBarData:o,skillChartData:s,skillChartMaxY:l,groupedSkillUsagePlayers:u}};function N3(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=N3(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Pn(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=N3(e))&&(r&&(r+=" "),r+=t);return r}var fV=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function gk(e){if(typeof e!="string")return!1;var t=fV;return t.includes(e)}var pV=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],mV=new Set(pV);function j3(e){return typeof e!="string"?!1:mV.has(e)}function C3(e){return typeof e=="string"&&e.startsWith("data-")}function eo(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(j3(n)||C3(n))&&(t[n]=e[n]);return t}function cd(e){if(e==null)return null;if(g.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return eo(t)}return typeof e=="object"&&!Array.isArray(e)?eo(e):null}function Ga(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(j3(n)||C3(n)||gk(n))&&(t[n]=e[n]);return t}function hV(e){return e==null?null:g.isValidElement(e)?Ga(e.props):typeof e=="object"&&!Array.isArray(e)?Ga(e):null}var gV=["children","width","height","viewBox","className","style","title","desc"];function Lx(){return Lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lx.apply(null,arguments)}function yV(e,t){if(e==null)return{};var n,r,a=vV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function vV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var yk=g.forwardRef((e,t)=>{var{children:n,width:r,height:a,viewBox:i,className:o,style:s,title:l,desc:u}=e,d=yV(e,gV),f=i||{width:r,height:a,x:0,y:0},p=Pn("recharts-surface",o);return g.createElement("svg",Lx({},Ga(d),{className:p,width:r,height:a,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),g.createElement("title",null,l),g.createElement("desc",null,u),n)}),bV=["children","className"];function Fx(){return Fx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fx.apply(null,arguments)}function xV(e,t){if(e==null)return{};var n,r,a=wV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function wV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var li=g.forwardRef((e,t)=>{var{children:n,className:r}=e,a=xV(e,bV),i=Pn("recharts-layer",r);return g.createElement("g",Fx({className:i},Ga(a),{ref:t}),n)}),M3=g.createContext(null),kV=()=>g.useContext(M3);function or(e){return function(){return e}}const A3=Math.cos,xg=Math.sin,Ao=Math.sqrt,wg=Math.PI,K0=2*wg,$x=Math.PI,Rx=2*$x,pc=1e-6,SV=Rx-pc;function E3(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function NV(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return E3;const n=10**t;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class jV{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?E3:NV(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,i,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,r,a,i){if(t=+t,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,l=r-t,u=a-n,d=o-t,f=s-n,p=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>pc)if(!(Math.abs(f*l-u*d)>pc)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-o,h=a-s,v=l*l+u*u,b=m*m+h*h,y=Math.sqrt(v),x=Math.sqrt(p),w=i*Math.tan(($x-Math.acos((v+p-b)/(2*y*x)))/2),S=w/x,j=w/y;Math.abs(S-1)>pc&&this._append`L${t+S*d},${n+S*f}`,this._append`A${i},${i},0,0,${+(f*m>d*h)},${this._x1=t+j*l},${this._y1=n+j*u}`}}arc(t,n,r,a,i,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(a),l=r*Math.sin(a),u=t+s,d=n+l,f=1^o,p=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>pc||Math.abs(this._y1-d)>pc)&&this._append`L${u},${d}`,r&&(p<0&&(p=p%Rx+Rx),p>SV?this._append`A${r},${r},0,1,${f},${t-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:p>pc&&this._append`A${r},${r},0,${+(p>=$x)},${f},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function vk(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new jV(t)}function bk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function D3(e){this._context=e}D3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function G0(e){return new D3(e)}function P3(e){return e[0]}function T3(e){return e[1]}function O3(e,t){var n=or(!0),r=null,a=G0,i=null,o=vk(s);e=typeof e=="function"?e:e===void 0?P3:or(e),t=typeof t=="function"?t:t===void 0?T3:or(t);function s(l){var u,d=(l=bk(l)).length,f,p=!1,m;for(r==null&&(i=a(m=o())),u=0;u<=d;++u)!(u<d&&n(f=l[u],u,l))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(f,u,l),+t(f,u,l));if(m)return i=null,m+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:or(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:or(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:or(!!l),s):n},s.curve=function(l){return arguments.length?(a=l,r!=null&&(i=a(r)),s):a},s.context=function(l){return arguments.length?(l==null?r=i=null:i=a(r=l),s):r},s}function Xm(e,t,n){var r=null,a=or(!0),i=null,o=G0,s=null,l=vk(u);e=typeof e=="function"?e:e===void 0?P3:or(+e),t=typeof t=="function"?t:or(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?T3:or(+n);function u(f){var p,m,h,v=(f=bk(f)).length,b,y=!1,x,w=new Array(v),S=new Array(v);for(i==null&&(s=o(x=l())),p=0;p<=v;++p){if(!(p<v&&a(b=f[p],p,f))===y)if(y=!y)m=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=p-1;h>=m;--h)s.point(w[h],S[h]);s.lineEnd(),s.areaEnd()}y&&(w[p]=+e(b,p,f),S[p]=+t(b,p,f),s.point(r?+r(b,p,f):w[p],n?+n(b,p,f):S[p]))}if(x)return s=null,x+""||null}function d(){return O3().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:or(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:or(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:or(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:or(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:or(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:or(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(r).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:or(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(s=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=s=null:s=o(i=f),u):i},u}class I3{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function CV(e){return new I3(e,!0)}function MV(e){return new I3(e,!1)}const xk={draw(e,t){const n=Ao(t/wg);e.moveTo(n,0),e.arc(0,0,n,0,K0)}},AV={draw(e,t){const n=Ao(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},_3=Ao(1/3),EV=_3*2,DV={draw(e,t){const n=Ao(t/EV),r=n*_3;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},PV={draw(e,t){const n=Ao(t),r=-n/2;e.rect(r,r,n,n)}},TV=.8908130915292852,L3=xg(wg/10)/xg(7*wg/10),OV=xg(K0/10)*L3,IV=-A3(K0/10)*L3,_V={draw(e,t){const n=Ao(t*TV),r=OV*n,a=IV*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){const o=K0*i/5,s=A3(o),l=xg(o);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*a,l*r+s*a)}e.closePath()}},Bv=Ao(3),LV={draw(e,t){const n=-Ao(t/(Bv*3));e.moveTo(0,n*2),e.lineTo(-Bv*n,-n),e.lineTo(Bv*n,-n),e.closePath()}},$i=-.5,Ri=Ao(3)/2,Bx=1/Ao(12),FV=(Bx/2+1)*3,$V={draw(e,t){const n=Ao(t/FV),r=n/2,a=n*Bx,i=r,o=n*Bx+n,s=-i,l=o;e.moveTo(r,a),e.lineTo(i,o),e.lineTo(s,l),e.lineTo($i*r-Ri*a,Ri*r+$i*a),e.lineTo($i*i-Ri*o,Ri*i+$i*o),e.lineTo($i*s-Ri*l,Ri*s+$i*l),e.lineTo($i*r+Ri*a,$i*a-Ri*r),e.lineTo($i*i+Ri*o,$i*o-Ri*i),e.lineTo($i*s+Ri*l,$i*l-Ri*s),e.closePath()}};function RV(e,t){let n=null,r=vk(a);e=typeof e=="function"?e:or(e||xk),t=typeof t=="function"?t:or(t===void 0?64:+t);function a(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:or(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:or(+i),a):t},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function kg(){}function Sg(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function F3(e){this._context=e}F3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Sg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Sg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function BV(e){return new F3(e)}function $3(e){this._context=e}$3.prototype={areaStart:kg,areaEnd:kg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Sg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function zV(e){return new $3(e)}function R3(e){this._context=e}R3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Sg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function UV(e){return new R3(e)}function B3(e){this._context=e}B3.prototype={areaStart:kg,areaEnd:kg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function VV(e){return new B3(e)}function Yj(e){return e<0?-1:1}function Qj(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),s=(i*a+o*r)/(r+a);return(Yj(i)+Yj(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function Xj(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function zv(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-r)/3;e._context.bezierCurveTo(r+s,a+s*t,i-s,o-s*n,i,o)}function Ng(e){this._context=e}Ng.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:zv(this,this._t0,Xj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,zv(this,Xj(this,n=Qj(this,e,t)),n);break;default:zv(this,this._t0,n=Qj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function z3(e){this._context=new U3(e)}(z3.prototype=Object.create(Ng.prototype)).point=function(e,t){Ng.prototype.point.call(this,t,e)};function U3(e){this._context=e}U3.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}};function WV(e){return new Ng(e)}function HV(e){return new z3(e)}function V3(e){this._context=e}V3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=Jj(e),a=Jj(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Jj(e){var t,n=e.length-1,r,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function qV(e){return new V3(e)}function Y0(e,t){this._context=e,this._t=t}Y0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function KV(e){return new Y0(e,.5)}function GV(e){return new Y0(e,0)}function YV(e){return new Y0(e,1)}function zc(e,t){if((o=e.length)>1)for(var n=1,r,a,i=e[t[0]],o,s=i.length;n<o;++n)for(a=i,i=e[t[n]],r=0;r<s;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function zx(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function QV(e,t){return e[t]}function XV(e){const t=[];return t.key=e,t}function JV(){var e=or([]),t=zx,n=zc,r=QV;function a(i){var o=Array.from(e.apply(this,arguments),XV),s,l=o.length,u=-1,d;for(const f of i)for(s=0,++u;s<l;++s)(o[s][u]=[0,+r(f,o[s].key,u,i)]).data=f;for(s=0,d=bk(t(o));s<l;++s)o[d[s]].index=s;return n(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:or(Array.from(i)),a):e},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:or(+i),a):r},a.order=function(i){return arguments.length?(t=i==null?zx:typeof i=="function"?i:or(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(n=i??zc,a):n},a}function ZV(e,t){if((r=e.length)>0){for(var n,r,a=0,i=e[0].length,o;a<i;++a){for(o=n=0;n<r;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<r;++n)e[n][a][1]/=o}zc(e,t)}}function e7(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,i=r.length;n<i;++n){for(var o=0,s=0;o<a;++o)s+=e[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}zc(e,t)}}function t7(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,i,o;r<i;++r){for(var s=0,l=0,u=0;s<o;++s){for(var d=e[t[s]],f=d[r][1]||0,p=d[r-1][1]||0,m=(f-p)/2,h=0;h<s;++h){var v=e[t[h]],b=v[r][1]||0,y=v[r-1][1]||0;m+=b-y}l+=f,u+=m*f}a[r-1][1]+=a[r-1][0]=n,l&&(n-=u/l)}a[r-1][1]+=a[r-1][0]=n,zc(e,t)}}var Q0={},W3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(W3);var wk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(wk);var X0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(X0);var J0={},H3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(H3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H3,n=X0;function r(a){if(Array.isArray(a))return a.map(n.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],o=a.length;if(o===0)return i;let s=0,l="",u="",d=!1;for(a.charCodeAt(0)===46&&(i.push(""),s++);s<o;){const f=a[s];u?f==="\\"&&s+1<o?(s++,l+=a[s]):f===u?u="":l+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,i.push(l),l=""):l+=f:f==="["?(d=!0,l&&(i.push(l),l="")):f==="."?l&&(i.push(l),l=""):l+=f,s++}return l&&i.push(l),i}e.toPath=r})(J0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W3,n=wk,r=X0,a=J0;function i(s,l,u){if(s==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const d=s[l];return d===void 0?n.isDeepKey(l)?i(s,a.toPath(l),u):u:d}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const d=s[l];return d===void 0?u:d}default:{if(Array.isArray(l))return o(s,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const d=s[l];return d===void 0?u:d}}}function o(s,l,u){if(l.length===0)return u;let d=s;for(let f=0;f<l.length;f++){if(d==null||t.isUnsafeProperty(l[f]))return u;d=d[l[f]]}return d===void 0?u:d}e.get=i})(Q0);var n7=Q0.get;const Uc=Mo(n7);var r7=4;function Sl(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r7,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function jr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((a,i,o)=>{var s=n[o-1];return typeof s=="string"?a+s+i:s!==void 0?a+Sl(s)+i:a+i},"")}var La=e=>e===0?0:e>0?1:-1,es=e=>typeof e=="number"&&e!=+e,_s=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Dt=e=>(typeof e=="number"||e instanceof Number)&&!es(e),ts=e=>Dt(e)||typeof e=="string",a7=0,sp=e=>{var t=++a7;return"".concat(e||"").concat(t)},Xi=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Dt(e)&&typeof e!="string")return n;var a;if(_s(e)){if(t==null)return n;var i=e.indexOf("%");a=t*parseFloat(e.slice(0,i))/100}else a=+e;return es(a)&&(a=n),r&&t!=null&&a>t&&(a=t),a},q3=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function _a(e,t,n){return Dt(e)&&Dt(t)?Sl(e+n*(t-e)):t}function K3(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Uc(r,t))===n)}var Jr=e=>e===null||typeof e>"u",Ip=e=>Jr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function i7(e){return e!=null}function _p(){}var o7=["type","size","sizeType"];function Ux(){return Ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ux.apply(null,arguments)}function Zj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function eC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zj(Object(n),!0).forEach(function(r){s7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function s7(e,t,n){return(t=l7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l7(e){var t=c7(e,"string");return typeof t=="symbol"?t:t+""}function c7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u7(e,t){if(e==null)return{};var n,r,a=d7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function d7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var G3={symbolCircle:xk,symbolCross:AV,symbolDiamond:DV,symbolSquare:PV,symbolStar:_V,symbolTriangle:LV,symbolWye:$V},f7=Math.PI/180,p7=e=>{var t="symbol".concat(Ip(e));return G3[t]||xk},m7=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*f7;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},h7=(e,t)=>{G3["symbol".concat(Ip(e))]=t},kk=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,a=u7(e,o7),i=eC(eC({},a),{},{type:t,size:n,sizeType:r}),o="circle";typeof t=="string"&&(o=t);var s=()=>{var p=p7(o),m=RV().type(p).size(m7(n,r,o)),h=m();if(h!==null)return h},{className:l,cx:u,cy:d}=i,f=Ga(i);return Dt(u)&&Dt(d)&&Dt(n)?g.createElement("path",Ux({},f,{className:Pn("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(d,")"),d:s()})):null};kk.registerSymbol=h7;var Y3=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Sk=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(g.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{gk(a)&&(r[a]=i=>n[a](n,i))}),r},g7=(e,t,n)=>r=>(e(t,n,r),null),Nk=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(a=>{var i=e[a];gk(a)&&typeof i=="function"&&(r||(r={}),r[a]=g7(i,t,n))}),r};function tC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function y7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tC(Object(n),!0).forEach(function(r){v7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function v7(e,t,n){return(t=b7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b7(e){var t=x7(e,"string");return typeof t=="symbol"?t:t+""}function x7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zr(e,t){var n=y7({},e),r=t,a=Object.keys(t),i=a.reduce((o,s)=>(o[s]===void 0&&r[s]!==void 0&&(o[s]=r[s]),o),n);return i}function jg(){return jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jg.apply(null,arguments)}function nC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function w7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nC(Object(n),!0).forEach(function(r){k7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function k7(e,t,n){return(t=S7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S7(e){var t=N7(e,"string");return typeof t=="symbol"?t:t+""}function N7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ui=32,j7={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function C7(e){var{data:t,iconType:n,inactiveColor:r}=e,a=Ui/2,i=Ui/6,o=Ui/3,s=t.inactive?r:t.color,l=n??t.type;if(l==="none")return null;if(l==="plainline"){var u;return g.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:a,x2:Ui,y2:a,className:"recharts-legend-icon"})}if(l==="line")return g.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(Ui,"M").concat(2*o,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(l==="rect")return g.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(Ui/8,"h").concat(Ui,"v").concat(Ui*3/4,"h").concat(-Ui,"z"),className:"recharts-legend-icon"});if(g.isValidElement(t.legendIcon)){var d=w7({},t);return delete d.legendIcon,g.cloneElement(t.legendIcon,d)}return g.createElement(kk,{fill:s,cx:a,cy:a,size:Ui,sizeType:"diameter",type:l})}function M7(e){var{payload:t,iconSize:n,layout:r,formatter:a,inactiveColor:i,iconType:o}=e,s={x:0,y:0,width:Ui,height:Ui},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var p=d.formatter||a,m=Pn({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var h=d.inactive?i:d.color,v=p?p(d.value,d,f):d.value;return g.createElement("li",jg({className:m,style:l,key:"legend-item-".concat(f)},Nk(e,d,f)),g.createElement(yk,{width:n,height:n,viewBox:s,style:u,"aria-label":"".concat(v," legend icon")},g.createElement(C7,{data:d,iconType:o,inactiveColor:i})),g.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},v))})}var A7=e=>{var t=Zr(e,j7),{payload:n,layout:r,align:a}=t;if(!n||!n.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?a:"left"};return g.createElement("ul",{className:"recharts-default-legend",style:i},g.createElement(M7,jg({},t,{payload:n})))},Q3={},X3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const a=new Map;for(let i=0;i<n.length;i++){const o=n[i],s=r(o,i,n);a.has(s)||a.set(s,o)}return Array.from(a.values())}e.uniqBy=t})(X3);var J3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...a){return n.apply(this,a.slice(0,r))}}e.ary=t})(J3);var jk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(jk);var Z3={},Z0={},eO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(eO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eO;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(Z0);var tO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(tO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Z0,n=tO;function r(a){return n.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=r})(Z3);var nO={},rO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q0;function n(r){return function(a){return t.get(a,r)}}e.property=n})(rO);var aO={},Ck={},iO={},Mk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(Mk);var Ak={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(Ak);var Ek={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(Ek);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mk,n=Ak,r=Ek;function a(d,f,p){return typeof p!="function"?a(d,f,()=>{}):i(d,f,function m(h,v,b,y,x,w){const S=p(h,v,b,y,x,w);return S!==void 0?!!S:i(h,v,m,w)},new Map)}function i(d,f,p,m){if(f===d)return!0;switch(typeof f){case"object":return o(d,f,p,m);case"function":return Object.keys(f).length>0?i(d,{...f},p,m):r.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:r.isEqualsSameValueZero(d,f)}}function o(d,f,p,m){if(f==null)return!0;if(Array.isArray(f))return l(d,f,p,m);if(f instanceof Map)return s(d,f,p,m);if(f instanceof Set)return u(d,f,p,m);const h=Object.keys(f);if(d==null||n.isPrimitive(d))return h.length===0;if(h.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let v=0;v<h.length;v++){const b=h[v];if(!n.isPrimitive(d)&&!(b in d)||f[b]===void 0&&d[b]!==void 0||f[b]===null&&d[b]!==null||!p(d[b],f[b],b,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function s(d,f,p,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[h,v]of f.entries()){const b=d.get(h);if(p(b,v,h,d,f,m)===!1)return!1}return!0}function l(d,f,p,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const h=new Set;for(let v=0;v<f.length;v++){const b=f[v];let y=!1;for(let x=0;x<d.length;x++){if(h.has(x))continue;const w=d[x];let S=!1;if(p(w,b,v,d,f,m)&&(S=!0),S){h.add(x),y=!0;break}}if(!y)return!1}return!0}function u(d,f,p,m){return f.size===0?!0:d instanceof Set?l([...d],[...f],p,m):!1}e.isMatchWith=a,e.isSetMatch=u})(iO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iO;function n(r,a){return t.isMatchWith(r,a,()=>{})}e.isMatch=n})(Ck);var oO={},Dk={},sO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(sO);var ey={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(ey);var Pk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",s="[object Date]",l="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",p="[object ArrayBuffer]",m="[object Object]",h="[object Error]",v="[object DataView]",b="[object Uint8Array]",y="[object Uint8ClampedArray]",x="[object Uint16Array]",w="[object Uint32Array]",S="[object BigUint64Array]",j="[object Int8Array]",N="[object Int16Array]",M="[object Int32Array]",P="[object BigInt64Array]",B="[object Float32Array]",E="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=p,e.arrayTag=d,e.bigInt64ArrayTag=P,e.bigUint64ArrayTag=S,e.booleanTag=a,e.dataViewTag=v,e.dateTag=s,e.errorTag=h,e.float32ArrayTag=B,e.float64ArrayTag=E,e.functionTag=f,e.int16ArrayTag=N,e.int32ArrayTag=M,e.int8ArrayTag=j,e.mapTag=l,e.numberTag=r,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=x,e.uint32ArrayTag=w,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=y})(Pk);var lO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(lO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sO,n=ey,r=Pk,a=Ak,i=lO;function o(d,f){return s(d,void 0,d,new Map,f)}function s(d,f,p,m=new Map,h=void 0){const v=h==null?void 0:h(d,f,p,m);if(v!==void 0)return v;if(a.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const b=new Array(d.length);m.set(d,b);for(let y=0;y<d.length;y++)b[y]=s(d[y],y,p,m,h);return Object.hasOwn(d,"index")&&(b.index=d.index),Object.hasOwn(d,"input")&&(b.input=d.input),b}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const b=new RegExp(d.source,d.flags);return b.lastIndex=d.lastIndex,b}if(d instanceof Map){const b=new Map;m.set(d,b);for(const[y,x]of d)b.set(y,s(x,y,p,m,h));return b}if(d instanceof Set){const b=new Set;m.set(d,b);for(const y of d)b.add(s(y,void 0,p,m,h));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const b=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,b);for(let y=0;y<d.length;y++)b[y]=s(d[y],y,p,m,h);return b}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const b=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,b),l(b,d,p,m,h),b}if(typeof File<"u"&&d instanceof File){const b=new File([d],d.name,{type:d.type});return m.set(d,b),l(b,d,p,m,h),b}if(typeof Blob<"u"&&d instanceof Blob){const b=new Blob([d],{type:d.type});return m.set(d,b),l(b,d,p,m,h),b}if(d instanceof Error){const b=new d.constructor;return m.set(d,b),b.message=d.message,b.name=d.name,b.stack=d.stack,b.cause=d.cause,l(b,d,p,m,h),b}if(d instanceof Boolean){const b=new Boolean(d.valueOf());return m.set(d,b),l(b,d,p,m,h),b}if(d instanceof Number){const b=new Number(d.valueOf());return m.set(d,b),l(b,d,p,m,h),b}if(d instanceof String){const b=new String(d.valueOf());return m.set(d,b),l(b,d,p,m,h),b}if(typeof d=="object"&&u(d)){const b=Object.create(Object.getPrototypeOf(d));return m.set(d,b),l(b,d,p,m,h),b}return d}function l(d,f,p=d,m,h){const v=[...Object.keys(f),...t.getSymbols(f)];for(let b=0;b<v.length;b++){const y=v[b],x=Object.getOwnPropertyDescriptor(d,y);(x==null||x.writable)&&(d[y]=s(f[y],y,p,m,h))}}function u(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=s,e.copyProperties=l})(Dk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dk;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(oO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ck,n=oO;function r(a){return a=n.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=r})(aO);var cO={},uO={},dO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dk,n=ey,r=Pk;function a(i,o){return t.cloneDeepWith(i,(s,l,u,d)=>{const f=o==null?void 0:o(s,l,u,d);if(f!==void 0)return f;if(typeof i=="object"){if(n.getTag(i)===r.objectTag&&typeof i.constructor!="function"){const p={};return d.set(i,p),t.copyProperties(p,i,u,d),p}switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(p,i),p}case r.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}}})}e.cloneDeepWith=a})(dO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dO;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(uO);var fO={},Tk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Tk);var pO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ey;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(pO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wk,n=Tk,r=pO,a=J0;function i(o,s){let l;if(Array.isArray(s)?l=s:typeof s=="string"&&t.isDeepKey(s)&&(o==null?void 0:o[s])==null?l=a.toPath(s):l=[s],l.length===0)return!1;let u=o;for(let d=0;d<l.length;d++){const f=l[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=i})(fO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ck,n=X0,r=uO,a=Q0,i=fO;function o(s,l){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=n.toKey(s);break}}return l=r.cloneDeep(l),function(u){const d=a.get(u,s);return d===void 0?i.has(u,s):l===void 0?d===void 0:t.isMatch(d,l)}}e.matchesProperty=o})(cO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jk,n=rO,r=aO,a=cO;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=i})(nO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X3,n=J3,r=jk,a=Z3,i=nO;function o(s,l=r.identity){return a.isArrayLikeObject(s)?t.uniqBy(Array.from(s),n.ary(i.iteratee(l),1)):[]}e.uniqBy=o})(Q3);var E7=Q3.uniqBy;const rC=Mo(E7);function mO(e,t,n){return t===!0?rC(e,n):typeof t=="function"?rC(e,t):e}var hO={exports:{}},gO={},yO={exports:{}},vO={};/**
* @license React
* use-sync-external-store-shim.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var ud=g;function D7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var P7=typeof Object.is=="function"?Object.is:D7,T7=ud.useState,O7=ud.useEffect,I7=ud.useLayoutEffect,_7=ud.useDebugValue;function L7(e,t){var n=t(),r=T7({inst:{value:n,getSnapshot:t}}),a=r[0].inst,i=r[1];return I7(function(){a.value=n,a.getSnapshot=t,Uv(a)&&i({inst:a})},[e,n,t]),O7(function(){return Uv(a)&&i({inst:a}),e(function(){Uv(a)&&i({inst:a})})},[e]),_7(n),n}function Uv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!P7(e,n)}catch{return!0}}function F7(e,t){return t()}var $7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?F7:L7;vO.useSyncExternalStore=ud.useSyncExternalStore!==void 0?ud.useSyncExternalStore:$7;yO.exports=vO;var R7=yO.exports;/**
* @license React
* use-sync-external-store-shim/with-selector.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var ty=g,B7=R7;function z7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var U7=typeof Object.is=="function"?Object.is:z7,V7=B7.useSyncExternalStore,W7=ty.useRef,H7=ty.useEffect,q7=ty.useMemo,K7=ty.useDebugValue;gO.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var i=W7(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=q7(function(){function l(m){if(!u){if(u=!0,d=m,m=r(m),a!==void 0&&o.hasValue){var h=o.value;if(a(h,m))return f=h}return f=m}if(h=f,U7(d,m))return h;var v=r(m);return a!==void 0&&a(h,v)?(d=m,h):(d=m,f=v)}var u=!1,d,f,p=n===void 0?null:n;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,n,r,a]);var s=V7(e,i[0],i[1]);return H7(function(){o.hasValue=!0,o.value=s},[s]),K7(s),s};hO.exports=gO;var G7=hO.exports,Ok=g.createContext(null),Y7=e=>e,nr=()=>{var e=g.useContext(Ok);return e?e.store.dispatch:Y7},Lh=()=>{},Q7=()=>Lh,X7=(e,t)=>e===t;function Et(e){var t=g.useContext(Ok);return G7.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Q7,t?t.store.getState:Lh,t?t.store.getState:Lh,t?e:Lh,X7)}function J7(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Z7(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function e9(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var aC=e=>Array.isArray(e)?e:[e];function t9(e){const t=Array.isArray(e[0])?e[0]:e;return e9(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function n9(e,t){const n=[],{length:r}=e;for(let a=0;a<r;a++)n.push(e[a].apply(null,t));return n}var r9=class{constructor(e){this.value=e}deref(){return this.value}},a9=typeof WeakRef<"u"?WeakRef:r9,i9=0,iC=1;function Jm(){return{s:i9,v:void 0,o:null,p:null}}function bO(e,t={}){let n=Jm();const{resultEqualityCheck:r}=t;let a,i=0;function o(){var s;let l=n;const{length:u}=arguments;for(let p=0,m=u;p<m;p++){const h=arguments[p];if(typeof h=="function"||typeof h=="object"&&h!==null){let v=l.o;v===null&&(l.o=v=new WeakMap);const b=v.get(h);b===void 0?(l=Jm(),v.set(h,l)):l=b}else{let v=l.p;v===null&&(l.p=v=new Map);const b=v.get(h);b===void 0?(l=Jm(),v.set(h,l)):l=b}}const d=l;let f;if(l.s===iC)f=l.v;else if(f=e.apply(null,arguments),i++,r){const p=((s=a==null?void 0:a.deref)==null?void 0:s.call(a))??a;p!=null&&r(p,f)&&(f=p,i!==0&&i--),a=typeof f=="object"&&f!==null||typeof f=="function"?new a9(f):f}return d.s=iC,d.v=f,f}return o.clearCache=()=>{n=Jm(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function o9(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...a)=>{let i=0,o=0,s,l={},u=a.pop();typeof u=="object"&&(l=u,u=a.pop()),J7(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...n,...l},{memoize:f,memoizeOptions:p=[],argsMemoize:m=bO,argsMemoizeOptions:h=[]}=d,v=aC(p),b=aC(h),y=t9(a),x=f(function(){return i++,u.apply(null,arguments)},...v),w=m(function(){o++;const S=n9(y,arguments);return s=x.apply(null,S),s},...b);return Object.assign(w,{resultFunc:u,memoizedResultFunc:x,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var he=o9(bO),s9=Object.assign((e,t=he)=>{Z7(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((i,o,s)=>(i[n[s]]=o,i),{}))},{withTypes:()=>s9}),xO={},wO={},kO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,i)=>{if(r!==a){const o=t(r),s=t(a);if(o===s&&o===0){if(r<a)return i==="desc"?1:-1;if(r>a)return i==="desc"?-1:1}return i==="desc"?s-o:o-s}return 0};e.compareValues=n})(kO);var SO={},Ik={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Ik);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ik,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(r.test(i)||!n.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(SO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kO,n=SO,r=J0;function a(i,o,s,l){if(i==null)return[];s=l?void 0:s,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(p=>String(p));const u=(p,m)=>{let h=p;for(let v=0;v<m.length&&h!=null;++v)h=h[m[v]];return h},d=(p,m)=>m==null||p==null?m:typeof p=="object"&&"key"in p?Object.hasOwn(m,p.key)?m[p.key]:u(m,p.path):typeof p=="function"?p(m):Array.isArray(p)?u(m,p):typeof m=="object"?m[p]:m,f=o.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return i.map(p=>({original:p,criteria:f.map(m=>d(m,p))})).slice().sort((p,m)=>{for(let h=0;h<f.length;h++){const v=t.compareValues(p.criteria[h],m.criteria[h],s[h]);if(v!==0)return v}return 0}).map(p=>p.original)}e.orderBy=a})(wO);var NO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const a=[],i=Math.floor(r),o=(s,l)=>{for(let u=0;u<s.length;u++){const d=s[u];Array.isArray(d)&&l<i?o(d,l+1):a.push(d)}};return o(n,0),a}e.flatten=t})(NO);var _k={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tk,n=Z0,r=Mk,a=Ek;function i(o,s,l){return r.isObject(l)&&(typeof s=="number"&&n.isArrayLike(l)&&t.isIndex(s)&&s<l.length||typeof s=="string"&&s in l)?a.isEqualsSameValueZero(l[s],o):!1}e.isIterateeCall=i})(_k);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wO,n=NO,r=_k;function a(i,...o){const s=o.length;return s>1&&r.isIterateeCall(i,o[0],o[1])?o=[]:s>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,n.flatten(o),["asc"])}e.sortBy=a})(xO);var l9=xO.sortBy;const ny=Mo(l9);var jO=e=>e.legend.settings,c9=e=>e.legend.size,u9=e=>e.legend.payload,d9=he([u9,jO],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?ny(r,n):r});function f9(){return Et(d9)}var Zm=1;function CO(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=g.useState({height:0,left:0,top:0,width:0}),r=g.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>Zm||Math.abs(o.left-t.left)>Zm||Math.abs(o.top-t.top)>Zm||Math.abs(o.width-t.width)>Zm)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function va(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var p9=typeof Symbol=="function"&&Symbol.observable||"@@observable",oC=p9,Vv=()=>Math.random().toString(36).substring(7).split("").join("."),m9={INIT:`@@redux/INIT${Vv()}`,REPLACE:`@@redux/REPLACE${Vv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Vv()}`},Cg=m9;function Lk(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function MO(e,t,n){if(typeof e!="function")throw new Error(va(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(va(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(va(1));return n(MO)(e,t)}let r=e,a=t,i=new Map,o=i,s=0,l=!1;function u(){o===i&&(o=new Map,i.forEach((v,b)=>{o.set(b,v)}))}function d(){if(l)throw new Error(va(3));return a}function f(v){if(typeof v!="function")throw new Error(va(4));if(l)throw new Error(va(5));let b=!0;u();const y=s++;return o.set(y,v),function(){if(b){if(l)throw new Error(va(6));b=!1,u(),o.delete(y),i=null}}}function p(v){if(!Lk(v))throw new Error(va(7));if(typeof v.type>"u")throw new Error(va(8));if(typeof v.type!="string")throw new Error(va(17));if(l)throw new Error(va(9));try{l=!0,a=r(a,v)}finally{l=!1}return(i=o).forEach(b=>{b()}),v}function m(v){if(typeof v!="function")throw new Error(va(10));r=v,p({type:Cg.REPLACE})}function h(){const v=f;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(va(11));function y(){const x=b;x.next&&x.next(d())}return y(),{unsubscribe:v(y)}},[oC](){return this}}}return p({type:Cg.INIT}),{dispatch:p,subscribe:f,getState:d,replaceReducer:m,[oC]:h}}function h9(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Cg.INIT})>"u")throw new Error(va(12));if(typeof n(void 0,{type:Cg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(va(13))})}function AO(e){const t=Object.keys(e),n={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let a;try{h9(n)}catch(i){a=i}return function(i={},o){if(a)throw a;let s=!1;const l={};for(let u=0;u<r.length;u++){const d=r[u],f=n[d],p=i[d],m=f(p,o);if(typeof m>"u")throw o&&o.type,new Error(va(14));l[d]=m,s=s||m!==p}return s=s||r.length!==Object.keys(i).length,s?l:i}}function Mg(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function g9(...e){return t=>(n,r)=>{const a=t(n,r);let i=()=>{throw new Error(va(15))};const o={getState:a.getState,dispatch:(l,...u)=>i(l,...u)},s=e.map(l=>l(o));return i=Mg(...s)(a.dispatch),{...a,dispatch:i}}}function EO(e){return Lk(e)&&"type"in e&&typeof e.type=="string"}var DO=Symbol.for("immer-nothing"),sC=Symbol.for("immer-draftable"),Ya=Symbol.for("immer-state");function mo(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ji=Object,dd=ji.getPrototypeOf,Ag="constructor",ry="prototype",Vx="configurable",Eg="enumerable",Fh="writable",lp="value",Ls=e=>!!e&&!!e[Ya];function So(e){var t;return e?PO(e)||iy(e)||!!e[sC]||!!((t=e[Ag])!=null&&t[sC])||oy(e)||sy(e):!1}var y9=ji[ry][Ag].toString(),lC=new WeakMap;function PO(e){if(!e||!Fk(e))return!1;const t=dd(e);if(t===null||t===ji[ry])return!0;const n=ji.hasOwnProperty.call(t,Ag)&&t[Ag];if(n===Object)return!0;if(!ju(n))return!1;let r=lC.get(n);return r===void 0&&(r=Function.toString.call(n),lC.set(n,r)),r===y9}function ay(e,t,n=!0){Lp(e)===0?(n?Reflect.ownKeys(e):ji.keys(e)).forEach(r=>{t(r,e[r],e)}):e.forEach((r,a)=>t(a,r,e))}function Lp(e){const t=e[Ya];return t?t.type_:iy(e)?1:oy(e)?2:sy(e)?3:0}var cC=(e,t,n=Lp(e))=>n===2?e.has(t):ji[ry].hasOwnProperty.call(e,t),Wx=(e,t,n=Lp(e))=>n===2?e.get(t):e[t],Dg=(e,t,n,r=Lp(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function v9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var iy=Array.isArray,oy=e=>e instanceof Map,sy=e=>e instanceof Set,Fk=e=>typeof e=="object",ju=e=>typeof e=="function",Wv=e=>typeof e=="boolean";function b9(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var ys=e=>e.copy_||e.base_,$k=e=>e.modified_?e.copy_:e.base_;function Hx(e,t){if(oy(e))return new Map(e);if(sy(e))return new Set(e);if(iy(e))return Array[ry].slice.call(e);const n=PO(e);if(t===!0||t==="class_only"&&!n){const r=ji.getOwnPropertyDescriptors(e);delete r[Ya];let a=Reflect.ownKeys(r);for(let i=0;i<a.length;i++){const o=a[i],s=r[o];s[Fh]===!1&&(s[Fh]=!0,s[Vx]=!0),(s.get||s.set)&&(r[o]={[Vx]:!0,[Fh]:!0,[Eg]:s[Eg],[lp]:e[o]})}return ji.create(dd(e),r)}else{const r=dd(e);if(r!==null&&n)return{...e};const a=ji.create(r);return ji.assign(a,e)}}function Rk(e,t=!1){return ly(e)||Ls(e)||!So(e)||(Lp(e)>1&&ji.defineProperties(e,{set:eh,add:eh,clear:eh,delete:eh}),ji.freeze(e),t&&ay(e,(n,r)=>{Rk(r,!0)},!1)),e}function x9(){mo(2)}var eh={[lp]:x9};function ly(e){return e===null||!Fk(e)?!0:ji.isFrozen(e)}var Pg="MapSet",qx="Patches",uC="ArrayMethods",TO={};function Vc(e){const t=TO[e];return t||mo(0,e),t}var dC=e=>!!TO[e],cp,OO=()=>cp,w9=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:dC(Pg)?Vc(Pg):void 0,arrayMethodsPlugin_:dC(uC)?Vc(uC):void 0});function fC(e,t){t&&(e.patchPlugin_=Vc(qx),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Kx(e){Gx(e),e.drafts_.forEach(k9),e.drafts_=null}function Gx(e){e===cp&&(cp=e.parent_)}var pC=e=>cp=w9(cp,e);function k9(e){const t=e[Ya];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function mC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Ya].modified_&&(Kx(t),mo(4)),So(e)&&(e=hC(t,e));const{patchPlugin_:r}=t;r&&r.generateReplacementPatches_(n[Ya].base_,e,t)}else e=hC(t,n);return S9(t,e,!0),Kx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==DO?e:void 0}function hC(e,t){if(ly(t))return t;const n=t[Ya];if(!n)return Tg(t,e.handledSet_,e);if(!cy(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);LO(n,e)}return n.copy_}function S9(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Rk(t,n)}function IO(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var cy=(e,t)=>e.scope_===t,N9=[];function _O(e,t,n,r){const a=ys(e),i=e.type_;if(r!==void 0&&Wx(a,r,i)===t){Dg(a,r,n,i);return}if(!e.draftLocations_){const s=e.draftLocations_=new Map;ay(a,(l,u)=>{if(Ls(u)){const d=s.get(u)||[];d.push(l),s.set(u,d)}})}const o=e.draftLocations_.get(t)??N9;for(const s of o)Dg(a,s,n,i)}function j9(e,t,n){e.callbacks_.push(function(r){var a;const i=t;if(!i||!cy(i,r))return;(a=r.mapSetPlugin_)==null||a.fixSetContents(i);const o=$k(i);_O(e,i.draft_??i,o,n),LO(i,r)})}function LO(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:r}=t;if(r){const a=r.getPath(e);a&&r.generatePatches_(e,a,t)}IO(e)}}function C9(e,t,n){const{scope_:r}=e;if(Ls(n)){const a=n[Ya];cy(a,r)&&a.callbacks_.push(function(){$h(e);const i=$k(a);_O(e,n,i,t)})}else So(n)&&e.callbacks_.push(function(){const a=ys(e);e.type_===3?a.has(n)&&Tg(n,r.handledSet_,r):Wx(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Tg(Wx(e.copy_,t,e.type_),r.handledSet_,r)})}function Tg(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ls(e)||t.has(e)||!So(e)||ly(e)||(t.add(e),ay(e,(r,a)=>{if(Ls(a)){const i=a[Ya];if(cy(i,n)){const o=$k(i);Dg(e,r,o,e.type_),IO(i)}}else So(a)&&Tg(a,t,n)})),e}function M9(e,t){const n=iy(e),r={type_:n?1:0,scope_:t?t.scope_:OO(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=r,i=Og;n&&(a=[r],i=up);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return r.draft_=s,r.revoke_=o,[s,r]}var Og={get(e,t){if(t===Ya)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const a=ys(e);if(!cC(a,t,e.type_))return A9(e,a,t);const i=a[t];if(e.finalized_||!So(i)||r&&e.operationMethod&&n!=null&&n.isMutatingArrayMethod(e.operationMethod)&&b9(t))return i;if(i===Hv(e.base_,t)){$h(e);const o=e.type_===1?+t:t,s=Qx(e.scope_,i,e,o);return e.copy_[o]=s}return i},has(e,t){return t in ys(e)},ownKeys(e){return Reflect.ownKeys(ys(e))},set(e,t,n){const r=FO(ys(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=Hv(ys(e),t),i=a==null?void 0:a[Ya];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(v9(n,a)&&(n!==void 0||cC(e.base_,t,e.type_)))return!0;$h(e),Yx(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),C9(e,t,n)),!0},deleteProperty(e,t){return $h(e),Hv(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Yx(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ys(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[Fh]:!0,[Vx]:e.type_!==1||t!=="length",[Eg]:r[Eg],[lp]:n[t]}},defineProperty(){mo(11)},getPrototypeOf(e){return dd(e.base_)},setPrototypeOf(){mo(12)}},up={};for(let e in Og){let t=Og[e];up[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}up.deleteProperty=function(e,t){return up.set.call(this,e,t,void 0)};up.set=function(e,t,n){return Og.set.call(this,e[0],t,n,e[0])};function Hv(e,t){const n=e[Ya];return(n?ys(n):e)[t]}function A9(e,t,n){var r;const a=FO(t,n);return a?lp in a?a[lp]:(r=a.get)==null?void 0:r.call(e.draft_):void 0}function FO(e,t){if(!(t in e))return;let n=dd(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=dd(n)}}function Yx(e){e.modified_||(e.modified_=!0,e.parent_&&Yx(e.parent_))}function $h(e){e.copy_||(e.assigned_=new Map,e.copy_=Hx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var E9=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,n,r)=>{if(ju(t)&&!ju(n)){const i=n;n=t;const o=this;return function(s=i,...l){return o.produce(s,u=>n.call(this,u,...l))}}ju(n)||mo(6),r!==void 0&&!ju(r)&&mo(7);let a;if(So(t)){const i=pC(this),o=Qx(i,t,void 0);let s=!0;try{a=n(o),s=!1}finally{s?Kx(i):Gx(i)}return fC(i,r),mC(a,i)}else if(!t||!Fk(t)){if(a=n(t),a===void 0&&(a=t),a===DO&&(a=void 0),this.autoFreeze_&&Rk(a,!0),r){const i=[],o=[];Vc(qx).generateReplacementPatches_(t,a,{patches_:i,inversePatches_:o}),r(i,o)}return a}else mo(1,t)},this.produceWithPatches=(t,n)=>{if(ju(t))return(i,...o)=>this.produceWithPatches(i,s=>t(s,...o));let r,a;return[this.produce(t,n,(i,o)=>{r=i,a=o}),r,a]},Wv(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),Wv(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),Wv(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){So(e)||mo(8),Ls(e)&&(e=bo(e));const t=pC(this),n=Qx(t,e,void 0);return n[Ya].isManual_=!0,Gx(t),n}finishDraft(e,t){const n=e&&e[Ya];(!n||!n.isManual_)&&mo(9);const{scope_:r}=n;return fC(r,t),mC(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const r=Vc(qx).applyPatches_;return Ls(e)?r(e,t):this.produce(e,a=>r(a,t))}};function Qx(e,t,n,r){const[a,i]=oy(t)?Vc(Pg).proxyMap_(t,n):sy(t)?Vc(Pg).proxySet_(t,n):M9(t,n);return((n==null?void 0:n.scope_)??OO()).drafts_.push(a),i.callbacks_=(n==null?void 0:n.callbacks_)??[],i.key_=r,n&&r!==void 0?j9(n,i,r):i.callbacks_.push(function(o){var s;(s=o.mapSetPlugin_)==null||s.fixSetContents(i);const{patchPlugin_:l}=o;i.modified_&&l&&l.generatePatches_(i,[],o)}),a}function bo(e){return Ls(e)||mo(10,e),$O(e)}function $O(e){if(!So(e)||ly(e))return e;const t=e[Ya];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Hx(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Hx(e,!0);return ay(n,(a,i)=>{Dg(n,a,$O(i))},r),t&&(t.finalized_=!1),n}var D9=new E9,RO=D9.produce;function BO(e){return({dispatch:t,getState:n})=>r=>a=>typeof a=="function"?a(t,n,e):r(a)}var P9=BO(),T9=BO,O9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Mg:Mg.apply(null,arguments)};function to(e,t){function n(...r){if(t){let a=t(...r);if(!a)throw new Error(Mi(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>EO(r)&&r.type===e,n}var zO=class vf extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,vf.prototype)}static get[Symbol.species](){return vf}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new vf(...t[0].concat(this)):new vf(...t.concat(this))}};function gC(e){return So(e)?RO(e,()=>{}):e}function th(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function I9(e){return typeof e=="boolean"}var _9=()=>function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:a=!0}=e??{};let i=new zO;return t&&(I9(t)?i.push(P9):i.push(T9(t.extraArgument))),i},UO="RTK_autoBatch",dr=()=>e=>({payload:e,meta:{[UO]:!0}}),yC=e=>t=>{setTimeout(t,e)},VO=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let a=!0,i=!1,o=!1;const s=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:yC(10):e.type==="callback"?e.queueNotification:yC(e.timeout),u=()=>{o=!1,i&&(i=!1,s.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>a&&d(),p=r.subscribe(f);return s.add(d),()=>{p(),s.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[UO]),i=!a,i&&(o||(o=!0,l(u))),r.dispatch(d)}finally{a=!0}}})},L9=e=>function(t){const{autoBatch:n=!0}=t??{};let r=new zO(e);return n&&r.push(VO(typeof n=="object"?n:void 0)),r};function F9(e){const t=_9(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let s;if(typeof n=="function")s=n;else if(Lk(n))s=AO(n);else throw new Error(Mi(1));let l;typeof r=="function"?l=r(t):l=t();let u=Mg;a&&(u=O9({trace:!1,...typeof a=="object"&&a}));const d=g9(...l),f=L9(d);let p=typeof o=="function"?o(f):f();const m=u(...p);return MO(s,i,m)}function WO(e){const t={},n=[];let r;const a={addCase(i,o){const s=typeof i=="string"?i:i.type;if(!s)throw new Error(Mi(28));if(s in t)throw new Error(Mi(29));return t[s]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return n.push({matcher:i,reducer:o}),a},addDefaultCase(i){return r=i,a}};return e(a),[t,n,r]}function $9(e){return typeof e=="function"}function R9(e,t){let[n,r,a]=WO(t),i;if($9(e))i=()=>gC(e());else{const s=gC(e);i=()=>s}function o(s=i(),l){let u=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(Ls(d)){const p=f(d,l);return p===void 0?d:p}else{if(So(d))return RO(d,p=>f(p,l));{const p=f(d,l);if(p===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return d},s)}return o.getInitialState=i,o}var B9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",z9=(e=21)=>{let t="",n=e;for(;n--;)t+=B9[Math.random()*64|0];return t},U9=Symbol.for("rtk-slice-createasyncthunk");function V9(e,t){return`${e}/${t}`}function W9({creators:e}={}){var t;const n=(t=e==null?void 0:e.asyncThunk)==null?void 0:t[U9];return function(r){const{name:a,reducerPath:i=a}=r;if(!a)throw new Error(Mi(11));const o=(typeof r.reducers=="function"?r.reducers(q9()):r.reducers)||{},s=Object.keys(o),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(w,S){const j=typeof w=="string"?w:w.type;if(!j)throw new Error(Mi(12));if(j in l.sliceCaseReducersByType)throw new Error(Mi(13));return l.sliceCaseReducersByType[j]=S,u},addMatcher(w,S){return l.sliceMatchers.push({matcher:w,reducer:S}),u},exposeAction(w,S){return l.actionCreators[w]=S,u},exposeCaseReducer(w,S){return l.sliceCaseReducersByName[w]=S,u}};s.forEach(w=>{const S=o[w],j={reducerName:w,type:V9(a,w),createNotation:typeof r.reducers=="function"};G9(S)?Q9(j,S,u,n):K9(j,S,u)});function d(){const[w={},S=[],j=void 0]=typeof r.extraReducers=="function"?WO(r.extraReducers):[r.extraReducers],N={...w,...l.sliceCaseReducersByType};return R9(r.initialState,M=>{for(let P in N)M.addCase(P,N[P]);for(let P of l.sliceMatchers)M.addMatcher(P.matcher,P.reducer);for(let P of S)M.addMatcher(P.matcher,P.reducer);j&&M.addDefaultCase(j)})}const f=w=>w,p=new Map,m=new WeakMap;let h;function v(w,S){return h||(h=d()),h(w,S)}function b(){return h||(h=d()),h.getInitialState()}function y(w,S=!1){function j(M){let P=M[w];return typeof P>"u"&&S&&(P=th(m,j,b)),P}function N(M=f){const P=th(p,S,()=>new WeakMap);return th(P,M,()=>{const B={};for(const[E,I]of Object.entries(r.selectors??{}))B[E]=H9(I,M,()=>th(m,M,b),S);return B})}return{reducerPath:w,getSelectors:N,get selectors(){return N(j)},selectSlice:j}}const x={name:a,reducer:v,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:b,...y(i),injectInto(w,{reducerPath:S,...j}={}){const N=S??i;return w.inject({reducerPath:N,reducer:v},j),{...x,...y(N,!0)}}};return x}}function H9(e,t,n,r){function a(i,...o){let s=t(i);return typeof s>"u"&&r&&(s=n()),e(s,...o)}return a.unwrapped=e,a}var ui=W9();function q9(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function K9({type:e,reducerName:t,createNotation:n},r,a){let i,o;if("reducer"in r){if(n&&!Y9(r))throw new Error(Mi(17));i=r.reducer,o=r.prepare}else i=r;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?to(e,o):to(e))}function G9(e){return e._reducerDefinitionType==="asyncThunk"}function Y9(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Q9({type:e,reducerName:t},n,r,a){if(!a)throw new Error(Mi(18));const{payloadCreator:i,fulfilled:o,pending:s,rejected:l,settled:u,options:d}=n,f=a(e,i,d);r.exposeAction(t,f),o&&r.addCase(f.fulfilled,o),s&&r.addCase(f.pending,s),l&&r.addCase(f.rejected,l),u&&r.addMatcher(f.settled,u),r.exposeCaseReducer(t,{fulfilled:o||nh,pending:s||nh,rejected:l||nh,settled:u||nh})}function nh(){}var X9="task",HO="listener",qO="completed",Bk="cancelled",J9=`task-${Bk}`,Z9=`task-${qO}`,Xx=`${HO}-${Bk}`,eW=`${HO}-${qO}`,uy=class{constructor(e){b2(this,"name","TaskAbortError"),b2(this,"message"),this.code=e,this.message=`${X9} ${Bk} (reason: ${e})`}},zk=(e,t)=>{if(typeof e!="function")throw new TypeError(Mi(32))},Ig=()=>{},KO=(e,t=Ig)=>(e.catch(t),e),GO=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Pc=e=>{if(e.aborted)throw new uy(e.reason)};function YO(e,t){let n=Ig;return new Promise((r,a)=>{const i=()=>a(new uy(e.reason));if(e.aborted){i();return}n=GO(e,i),t.finally(()=>n()).then(r,a)}).finally(()=>{n=Ig})}var tW=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof uy?"cancelled":"rejected",error:n}}finally{t==null||t()}},_g=e=>t=>KO(YO(e,t).then(n=>(Pc(e),n))),QO=e=>{const t=_g(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Xu}=Object,vC={},dy="listenerMiddleware",nW=(e,t)=>{const n=r=>GO(e,()=>r.abort(e.reason));return(r,a)=>{zk(r);const i=new AbortController;n(i);const o=tW(async()=>{Pc(e),Pc(i.signal);const s=await r({pause:_g(i.signal),delay:QO(i.signal),signal:i.signal});return Pc(i.signal),s},()=>i.abort(Z9));return a!=null&&a.autoJoin&&t.push(o.catch(Ig)),{result:_g(e)(o),cancel(){i.abort(J9)}}}},rW=(e,t)=>{const n=async(r,a)=>{Pc(t);let i=()=>{};const o=[new Promise((s,l)=>{let u=e({predicate:r,effect:(d,f)=>{f.unsubscribe(),s([d,f.getState(),f.getOriginalState()])}});i=()=>{u(),l()}})];a!=null&&o.push(new Promise(s=>setTimeout(s,a,null)));try{const s=await YO(t,Promise.race(o));return Pc(t),s}finally{i()}};return(r,a)=>KO(n(r,a))},XO=e=>{let{type:t,actionCreator:n,matcher:r,predicate:a,effect:i}=e;if(t)a=to(t).match;else if(n)t=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(Mi(21));return zk(i),{predicate:a,type:t,effect:i}},JO=Xu(e=>{const{type:t,predicate:n,effect:r}=XO(e);return{id:z9(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Mi(22))}}},{withTypes:()=>JO}),bC=(e,t)=>{const{type:n,effect:r,predicate:a}=XO(t);return Array.from(e.values()).find(i=>(typeof n=="string"?i.type===n:i.predicate===a)&&i.effect===r)},Jx=e=>{e.pending.forEach(t=>{t.abort(Xx)})},aW=(e,t)=>()=>{for(const n of t.keys())Jx(n);e.clear()},xC=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},ZO=Xu(to(`${dy}/add`),{withTypes:()=>ZO}),iW=to(`${dy}/removeAll`),e4=Xu(to(`${dy}/remove`),{withTypes:()=>e4}),oW=(...e)=>{console.error(`${dy}/error`,...e)},Fp=(e={})=>{const t=new Map,n=new Map,r=p=>{const m=n.get(p)??0;n.set(p,m+1)},a=p=>{const m=n.get(p)??1;m===1?n.delete(p):n.set(p,m-1)},{extra:i,onError:o=oW}=e;zk(o);const s=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),m=>{p.unsubscribe(),m!=null&&m.cancelActive&&Jx(p)}),l=p=>{const m=bC(t,p)??JO(p);return s(m)};Xu(l,{withTypes:()=>l});const u=p=>{const m=bC(t,p);return m&&(m.unsubscribe(),p.cancelActive&&Jx(m)),!!m};Xu(u,{withTypes:()=>u});const d=async(p,m,h,v)=>{const b=new AbortController,y=rW(l,b.signal),x=[];try{p.pending.add(b),r(p),await Promise.resolve(p.effect(m,Xu({},h,{getOriginalState:v,condition:(w,S)=>y(w,S).then(Boolean),take:y,delay:QO(b.signal),pause:_g(b.signal),extra:i,signal:b.signal,fork:nW(b.signal,x),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((w,S,j)=>{w!==b&&(w.abort(Xx),j.delete(w))})},cancel:()=>{b.abort(Xx),p.pending.delete(b)},throwIfCancelled:()=>{Pc(b.signal)}})))}catch(w){w instanceof uy||xC(o,w,{raisedBy:"effect"})}finally{await Promise.all(x),b.abort(eW),a(p),p.pending.delete(b)}},f=aW(t,n);return{middleware:p=>m=>h=>{if(!EO(h))return m(h);if(ZO.match(h))return l(h.payload);if(iW.match(h)){f();return}if(e4.match(h))return u(h.payload);let v=p.getState();const b=()=>{if(v===vC)throw new Error(Mi(23));return v};let y;try{if(y=m(h),t.size>0){const x=p.getState(),w=Array.from(t.values());for(const S of w){let j=!1;try{j=S.predicate(h,x,v)}catch(N){j=!1,xC(o,N,{raisedBy:"predicate"})}j&&d(S,h,p,b)}}}finally{v=vC}return y},startListening:l,stopListening:u,clearListeners:f}};function Mi(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var sW={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},t4=ui({name:"chartLayout",initialState:sW,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,a,i;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:lW,setLayout:cW,setChartSize:uW,setScale:dW}=t4.actions,fW=t4.reducer;function n4(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Wr(e){return Number.isFinite(e)}function ns(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function wC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ru(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wC(Object(n),!0).forEach(function(r){pW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pW(e,t,n){return(t=mW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mW(e){var t=hW(e,"string");return typeof t=="symbol"?t:t+""}function hW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cr(e,t,n){return Jr(e)||Jr(t)?n:ts(t)?Uc(e,t,n):typeof t=="function"?t(e):n}var gW=(e,t,n)=>{if(t&&n){var{width:r,height:a}=n,{align:i,verticalAlign:o,layout:s}=t;if((s==="vertical"||s==="horizontal"&&o==="middle")&&i!=="center"&&Dt(e[i]))return Ru(Ru({},e),{},{[i]:e[i]+(r||0)});if((s==="horizontal"||s==="vertical"&&i==="center")&&o!=="middle"&&Dt(e[o]))return Ru(Ru({},e),{},{[o]:e[o]+(a||0)})}return e},Hl=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",r4=(e,t,n,r)=>{if(r)return e.map(s=>s.coordinate);var a,i,o=e.map(s=>(s.coordinate===t&&(a=!0),s.coordinate===n&&(i=!0),s.coordinate));return a||o.push(t),i||o.push(n),o},a4=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:a,range:i,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:p,axisType:m}=e;if(!o)return null;var h=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,v=a==="category"&&o.bandwidth?o.bandwidth()/h:0;if(v=m==="angleAxis"&&i&&i.length>=2?La(i[0]-i[1])*2*v:v,f||p){var b=(f||p||[]).map((y,x)=>{var w=r?r.indexOf(y):y;return{coordinate:o(w)+v,value:y,offset:v,index:x}});return b.filter(y=>!es(y.coordinate))}return l&&u?u.map((y,x)=>({coordinate:o(y)+v,value:y,index:x,offset:v})):o.ticks&&d!=null?o.ticks(d).map((y,x)=>({coordinate:o(y)+v,value:y,offset:v,index:x})):o.domain().map((y,x)=>({coordinate:o(y)+v,value:r?r[y]:y,index:x,offset:v}))},kC=1e-4,yW=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),a=Math.min(r[0],r[1])-kC,i=Math.max(r[0],r[1])+kC,o=e(t[0]),s=e(t[n-1]);(o<a||o>i||s<a||s>i)&&e.domain([t[0],t[n-1]])}},vW=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var i=0,o=0,s=0;s<n;++s){var l=e[s],u=l==null?void 0:l[a];if(u!=null){var d=u[1],f=u[0],p=es(d)?f:d;p>=0?(u[0]=i,u[1]=i+p,i=d):(u[0]=o,u[1]=o+p,o=d)}}}},bW=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var i=0,o=0;o<n;++o){var s=e[o],l=s==null?void 0:s[a];if(l!=null){var u=es(l[1])?l[0]:l[1];u>=0?(l[0]=i,l[1]=i+u,i=l[1]):(l[0]=0,l[1]=0)}}}},xW={sign:vW,expand:ZV,none:zc,silhouette:e7,wiggle:t7,positive:bW},wW=(e,t,n)=>{var r,a=(r=xW[n])!==null&&r!==void 0?r:zc,i=JV().keys(t).value((s,l)=>Number(cr(s,l,0))).order(zx).offset(a),o=i(e);return o.forEach((s,l)=>{s.forEach((u,d)=>{var f=cr(e[d],t[l],0);Array.isArray(f)&&f.length===2&&Dt(f[0])&&Dt(f[1])&&(u[0]=f[0],u[1]=f[1])})}),o};function SC(e){var{axis:t,ticks:n,bandSize:r,entry:a,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Jr(a[t.dataKey])){var s=K3(n,"value",a[t.dataKey]);if(s)return s.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var l=cr(a,Jr(o)?t.dataKey:o);return Jr(l)?null:t.scale(l)}var kW=e=>{var t=e.flat(2).filter(Dt);return[Math.min(...t),Math.max(...t)]},SW=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],NW=(e,t,n)=>{if(e!=null)return SW(Object.keys(e).reduce((r,a)=>{var i=e[a];if(!i)return r;var{stackedData:o}=i,s=o.reduce((l,u)=>{var d=n4(u,t,n),f=kW(d);return!Wr(f[0])||!Wr(f[1])?l:[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]))},NC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Zx=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=ny(t,d=>d.coordinate),i=1/0,o=1,s=a.length;o<s;o++){var l=a[o],u=a[o-1];i=Math.min(((l==null?void 0:l.coordinate)||0)-((u==null?void 0:u.coordinate)||0),i)}return i===1/0?0:i}return n?void 0:0};function CC(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:a,name:i}=e;return Ru(Ru({},t),{},{dataKey:n,payload:r,value:a,name:i})}function fy(e,t){if(e)return String(e);if(typeof t=="string")return t}var jW=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},CW=(e,t)=>t==="centric"?e.angle:e.radius,Hs=e=>e.layout.width,qs=e=>e.layout.height,MW=e=>e.layout.scale,i4=e=>e.layout.margin,py=he(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),my=he(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),o4="data-recharts-item-index",s4="data-recharts-item-id",$p=60;function MC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function rh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MC(Object(n),!0).forEach(function(r){AW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AW(e,t,n){return(t=EW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EW(e){var t=DW(e,"string");return typeof t=="symbol"?t:t+""}function DW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PW=e=>e.brush.height;function TW(e){var t=my(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:$p;return n+a}return n},0)}function OW(e){var t=my(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:$p;return n+a}return n},0)}function IW(e){var t=py(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function _W(e){var t=py(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var ca=he([Hs,qs,i4,PW,TW,OW,IW,_W,jO,c9],(e,t,n,r,a,i,o,s,l,u)=>{var d={left:(n.left||0)+a,right:(n.right||0)+i},f={top:(n.top||0)+o,bottom:(n.bottom||0)+s},p=rh(rh({},f),d),m=p.bottom;p.bottom+=r,p=gW(p,l,u);var h=e-p.left-p.right,v=t-p.top-p.bottom;return rh(rh({brushBottom:m},p),{},{width:Math.max(h,0),height:Math.max(v,0)})}),LW=he(ca,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),l4=he(Hs,qs,(e,t)=>({x:0,y:0,width:e,height:t})),FW=g.createContext(null),di=()=>g.useContext(FW)!=null,hy=e=>e.brush,gy=he([hy,ca,i4],(e,t,n)=>({height:e.height,x:Dt(e.x)?e.x:t.left,y:Dt(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:Dt(e.width)?e.width:t.width})),c4={},u4={},d4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:a,edges:i}={}){let o,s=null;const l=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{s!==null&&(n.apply(o,s),o=void 0,s=null)},f=()=>{u&&d(),v()};let p=null;const m=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,f()},r)},h=()=>{p!==null&&(clearTimeout(p),p=null)},v=()=>{h(),o=void 0,s=null},b=()=>{d()},y=function(...x){if(a!=null&&a.aborted)return;o=this,s=x;const w=p==null;m(),l&&w&&d()};return y.schedule=m,y.cancel=v,y.flush=b,a==null||a.addEventListener("abort",v,{once:!0}),y}e.debounce=t})(d4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d4;function n(r,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:s=!0,maxWait:l}=i,u=Array(2);o&&(u[0]="leading"),s&&(u[1]="trailing");let d,f=null;const p=t.debounce(function(...v){d=r.apply(this,v),f=null},a,{edges:u}),m=function(...v){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(d=r.apply(this,v),f=Date.now(),p.cancel(),p.schedule(),d):(p.apply(this,v),d)},h=()=>(p.flush(),d);return m.cancel=p.cancel,m.flush=h,m}e.debounce=n})(u4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u4;function n(r,a=0,i={}){const{leading:o=!0,trailing:s=!0}=i;return t.debounce(r,a,{leading:o,maxWait:a,trailing:s})}e.throttle=n})(c4);var $W=c4.throttle;const RW=Mo($W);var Lg=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(t===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(t===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var i=0;console.warn(t.replace(/%s/g,()=>r[i++]))}},f4=(e,t,n)=>{var{width:r="100%",height:a="100%",aspect:i,maxHeight:o}=n,s=_s(r)?e:Number(r),l=_s(a)?t:Number(a);return i&&i>0&&(s?l=s/i:l&&(s=l*i),o&&l!=null&&l>o&&(l=o)),{calculatedWidth:s,calculatedHeight:l}},BW={width:0,height:0,overflow:"visible"},zW={width:0,overflowX:"visible"},UW={height:0,overflowY:"visible"},VW={},WW=e=>{var{width:t,height:n}=e,r=_s(t),a=_s(n);return r&&a?BW:r?zW:a?UW:VW};function HW(e){var{width:t,height:n,aspect:r}=e,a=t,i=n;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=r&&r>0?void 0:"100%":i===void 0&&(i=r&&r>0?void 0:"100%"),{width:a,height:i}}function ew(){return ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ew.apply(null,arguments)}function AC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function EC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AC(Object(n),!0).forEach(function(r){qW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qW(e,t,n){return(t=KW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KW(e){var t=GW(e,"string");return typeof t=="symbol"?t:t+""}function GW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p4=g.createContext({width:-1,height:-1});function YW(e){return ns(e.width)&&ns(e.height)}function m4(e){var{children:t,width:n,height:r}=e,a=g.useMemo(()=>({width:n,height:r}),[n,r]);return YW(a)?g.createElement(p4.Provider,{value:a},t):null}var Uk=()=>g.useContext(p4),QW=g.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a,height:i,minWidth:o=0,minHeight:s,maxHeight:l,children:u,debounce:d=0,id:f,className:p,onResize:m,style:h={}}=e,v=g.useRef(null),b=g.useRef();b.current=m,g.useImperativeHandle(t,()=>v.current);var[y,x]=g.useState({containerWidth:r.width,containerHeight:r.height}),w=g.useCallback((P,B)=>{x(E=>{var I=Math.round(P),O=Math.round(B);return E.containerWidth===I&&E.containerHeight===O?E:{containerWidth:I,containerHeight:O}})},[]);g.useEffect(()=>{if(v.current==null||typeof ResizeObserver>"u")return _p;var P=O=>{var K,{width:Q,height:oe}=O[0].contentRect;w(Q,oe),(K=b.current)===null||K===void 0||K.call(b,Q,oe)};d>0&&(P=RW(P,d,{trailing:!0,leading:!1}));var B=new ResizeObserver(P),{width:E,height:I}=v.current.getBoundingClientRect();return w(E,I),B.observe(v.current),()=>{B.disconnect()}},[w,d]);var{containerWidth:S,containerHeight:j}=y;Lg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:N,calculatedHeight:M}=f4(S,j,{width:a,height:i,aspect:n,maxHeight:l});return Lg(N!=null&&N>0||M!=null&&M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,M,a,i,o,s,n),g.createElement("div",{id:f?"".concat(f):void 0,className:Pn("recharts-responsive-container",p),style:EC(EC({},h),{},{width:a,height:i,minWidth:o,minHeight:s,maxHeight:l}),ref:v},g.createElement("div",{style:WW({width:a,height:i})},g.createElement(m4,{width:N,height:M},u)))}),Fs=g.forwardRef((e,t)=>{var n=Uk();if(ns(n.width)&&ns(n.height))return e.children;var{width:r,height:a}=HW({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=f4(void 0,void 0,{width:r,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return Dt(i)&&Dt(o)?g.createElement(m4,{width:i,height:o},e.children):g.createElement(QW,ew({},e,{width:r,height:a,ref:t}))});function h4(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var yy=()=>{var e,t=di(),n=Et(LW),r=Et(gy),a=(e=Et(hy))===null||e===void 0?void 0:e.padding;return!t||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},XW={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},g4=()=>{var e;return(e=Et(ca))!==null&&e!==void 0?e:XW},Vk=()=>Et(Hs),Wk=()=>Et(qs),JW=()=>Et(e=>e.layout.margin),Wn=e=>e.layout.layoutType,Rp=()=>Et(Wn),ZW=()=>{var e=Rp();return e!==void 0},vy=e=>{var t=nr(),n=di(),{width:r,height:a}=e,i=Uk(),o=r,s=a;return i&&(o=i.width>0?i.width:r,s=i.height>0?i.height:a),g.useEffect(()=>{!n&&ns(o)&&ns(s)&&t(uW({width:o,height:s}))},[t,n,o,s]),null},y4=Symbol.for("immer-nothing"),DC=Symbol.for("immer-draftable"),Di=Symbol.for("immer-state");function ho(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var dp=Object.getPrototypeOf;function fd(e){return!!e&&!!e[Di]}function Wc(e){var t;return e?v4(e)||Array.isArray(e)||!!e[DC]||!!((t=e.constructor)!=null&&t[DC])||Bp(e)||xy(e):!1}var eH=Object.prototype.constructor.toString(),PC=new WeakMap;function v4(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=PC.get(n);return r===void 0&&(r=Function.toString.call(n),PC.set(n,r)),r===eH}function Fg(e,t,n=!0){by(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(r=>{t(r,e[r],e)}):e.forEach((r,a)=>t(a,r,e))}function by(e){const t=e[Di];return t?t.type_:Array.isArray(e)?1:Bp(e)?2:xy(e)?3:0}function tw(e,t){return by(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function b4(e,t,n){const r=by(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function tH(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Bp(e){return e instanceof Map}function xy(e){return e instanceof Set}function mc(e){return e.copy_||e.base_}function nw(e,t){if(Bp(e))return new Map(e);if(xy(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=v4(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Di];let a=Reflect.ownKeys(r);for(let i=0;i<a.length;i++){const o=a[i],s=r[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(dp(e),r)}else{const r=dp(e);if(r!==null&&n)return{...e};const a=Object.create(r);return Object.assign(a,e)}}function Hk(e,t=!1){return wy(e)||fd(e)||!Wc(e)||(by(e)>1&&Object.defineProperties(e,{set:ah,add:ah,clear:ah,delete:ah}),Object.freeze(e),t&&Object.values(e).forEach(n=>Hk(n,!0))),e}function nH(){ho(2)}var ah={value:nH};function wy(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var rH={};function Hc(e){const t=rH[e];return t||ho(0,e),t}var fp;function x4(){return fp}function aH(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function TC(e,t){t&&(Hc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function rw(e){aw(e),e.drafts_.forEach(iH),e.drafts_=null}function aw(e){e===fp&&(fp=e.parent_)}function OC(e){return fp=aH(fp,e)}function iH(e){const t=e[Di];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function IC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Di].modified_&&(rw(t),ho(4)),Wc(e)&&(e=$g(t,e),t.parent_||Rg(t,e)),t.patches_&&Hc("Patches").generateReplacementPatches_(n[Di].base_,e,t.patches_,t.inversePatches_)):e=$g(t,n,[]),rw(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==y4?e:void 0}function $g(e,t,n){if(wy(t))return t;const r=e.immer_.shouldUseStrictIteration(),a=t[Di];if(!a)return Fg(t,(i,o)=>_C(e,a,t,i,o,n),r),t;if(a.scope_!==e)return t;if(!a.modified_)return Rg(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let o=i,s=!1;a.type_===3&&(o=new Set(i),i.clear(),s=!0),Fg(o,(l,u)=>_C(e,a,i,l,u,n,s),r),Rg(e,i,!1),n&&e.patches_&&Hc("Patches").generatePatches_(a,n,e.patches_,e.inversePatches_)}return a.copy_}function _C(e,t,n,r,a,i,o){if(a==null||typeof a!="object"&&!o)return;const s=wy(a);if(!(s&&!o)){if(fd(a)){const l=i&&t&&t.type_!==3&&!tw(t.assigned_,r)?i.concat(r):void 0,u=$g(e,a,l);if(b4(n,r,u),fd(u))e.canAutoFreeze_=!1;else return}else o&&n.add(a);if(Wc(a)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===a&&s)return;$g(e,a),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Bp(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Rg(e,a)}}}function Rg(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Hk(t,n)}function oH(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:x4(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,i=qk;n&&(a=[r],i=pp);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return r.draft_=s,r.revoke_=o,s}var qk={get(e,t){if(t===Di)return e;const n=mc(e);if(!tw(n,t))return sH(e,n,t);const r=n[t];return e.finalized_||!Wc(r)?r:r===qv(e.base_,t)?(Kv(e),e.copy_[t]=ow(r,e)):r},has(e,t){return t in mc(e)},ownKeys(e){return Reflect.ownKeys(mc(e))},set(e,t,n){const r=w4(mc(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=qv(mc(e),t),i=a==null?void 0:a[Di];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(tH(n,a)&&(n!==void 0||tw(e.base_,t)))return!0;Kv(e),iw(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return qv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Kv(e),iw(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=mc(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){ho(11)},getPrototypeOf(e){return dp(e.base_)},setPrototypeOf(){ho(12)}},pp={};Fg(qk,(e,t)=>{pp[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});pp.deleteProperty=function(e,t){return pp.set.call(this,e,t,void 0)};pp.set=function(e,t,n){return qk.set.call(this,e[0],t,n,e[0])};function qv(e,t){const n=e[Di];return(n?mc(n):e)[t]}function sH(e,t,n){var r;const a=w4(t,n);return a?"value"in a?a.value:(r=a.get)==null?void 0:r.call(e.draft_):void 0}function w4(e,t){if(!(t in e))return;let n=dp(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=dp(n)}}function iw(e){e.modified_||(e.modified_=!0,e.parent_&&iw(e.parent_))}function Kv(e){e.copy_||(e.copy_=nw(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var lH=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const o=this;return function(s=i,...l){return o.produce(s,u=>n.call(this,u,...l))}}typeof n!="function"&&ho(6),r!==void 0&&typeof r!="function"&&ho(7);let a;if(Wc(t)){const i=OC(this),o=ow(t,void 0);let s=!0;try{a=n(o),s=!1}finally{s?rw(i):aw(i)}return TC(i,r),IC(a,i)}else if(!t||typeof t!="object"){if(a=n(t),a===void 0&&(a=t),a===y4&&(a=void 0),this.autoFreeze_&&Hk(a,!0),r){const i=[],o=[];Hc("Patches").generateReplacementPatches_(t,a,i,o),r(i,o)}return a}else ho(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(i,...o)=>this.produceWithPatches(i,s=>t(s,...o));let r,a;return[this.produce(t,n,(i,o)=>{r=i,a=o}),r,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Wc(e)||ho(8),fd(e)&&(e=cH(e));const t=OC(this),n=ow(e,void 0);return n[Di].isManual_=!0,aw(t),n}finishDraft(e,t){const n=e&&e[Di];(!n||!n.isManual_)&&ho(9);const{scope_:r}=n;return TC(r,t),IC(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const r=Hc("Patches").applyPatches_;return fd(e)?r(e,t):this.produce(e,a=>r(a,t))}};function ow(e,t){const n=Bp(e)?Hc("MapSet").proxyMap_(e,t):xy(e)?Hc("MapSet").proxySet_(e,t):oH(e,t);return(t?t.scope_:x4()).drafts_.push(n),n}function cH(e){return fd(e)||ho(10,e),k4(e)}function k4(e){if(!Wc(e)||wy(e))return e;const t=e[Di];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=nw(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=nw(e,!0);return Fg(n,(a,i)=>{b4(n,a,k4(i))},r),t&&(t.finalized_=!1),n}var uH=new lH;uH.produce;var dH={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},S4=ui({name:"legend",initialState:dH,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:dr()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,a=bo(e).payload.indexOf(n);a>-1&&(e.payload[a]=r)},prepare:dr()},removeLegendPayload:{reducer(e,t){var n=bo(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:dr()}}}),{setLegendSize:LC,setLegendSettings:fH,addLegendPayload:N4,replaceLegendPayload:j4,removeLegendPayload:C4}=S4.actions,pH=S4.reducer,mH=["contextPayload"];function sw(){return sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sw.apply(null,arguments)}function FC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function pd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FC(Object(n),!0).forEach(function(r){hH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hH(e,t,n){return(t=gH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gH(e){var t=yH(e,"string");return typeof t=="symbol"?t:t+""}function yH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vH(e,t){if(e==null)return{};var n,r,a=bH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function bH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function xH(e){return e.value}function wH(e){var{contextPayload:t}=e,n=vH(e,mH),r=mO(t,e.payloadUniqBy,xH),a=pd(pd({},n),{},{payload:r});return g.isValidElement(e.content)?g.cloneElement(e.content,a):typeof e.content=="function"?g.createElement(e.content,a):g.createElement(A7,a)}function kH(e,t,n,r,a,i){var{layout:o,align:s,verticalAlign:l}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(s==="center"&&o==="vertical"?u={left:((r||0)-i.width)/2}:u=s==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?d={top:((a||0)-i.height)/2}:d=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),pd(pd({},u),d)}function SH(e){var t=nr();return g.useEffect(()=>{t(fH(e))},[t,e]),null}function NH(e){var t=nr();return g.useEffect(()=>(t(LC(e)),()=>{t(LC({width:0,height:0}))}),[t,e]),null}function jH(e,t,n,r){return e==="vertical"&&Dt(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var CH={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function M4(e){var t=Zr(e,CH),n=f9(),r=kV(),a=JW(),{width:i,height:o,wrapperStyle:s,portal:l}=t,[u,d]=CO([n]),f=Vk(),p=Wk();if(f==null||p==null)return null;var m=f-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),h=jH(t.layout,o,i,m),v=l?s:pd(pd({position:"absolute",width:(h==null?void 0:h.width)||i||"auto",height:(h==null?void 0:h.height)||o||"auto"},kH(s,t,a,f,p,u)),s),b=l??r;if(b==null||n==null)return null;var y=g.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:d},g.createElement(SH,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&g.createElement(NH,{width:u.width,height:u.height}),g.createElement(wH,sw({},t,h,{margin:a,chartWidth:f,chartHeight:p,contextPayload:n})));return Cd.createPortal(y,b)}M4.displayName="Legend";function lw(){return lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lw.apply(null,arguments)}function $C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Gv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$C(Object(n),!0).forEach(function(r){MH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$C(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MH(e,t,n){return(t=AH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AH(e){var t=EH(e,"string");return typeof t=="symbol"?t:t+""}function EH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DH(e){return Array.isArray(e)&&ts(e[0])&&ts(e[1])?e.join(" ~ "):e}var PH=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:i,formatter:o,itemSorter:s,wrapperClassName:l,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:p=!1}=e,m=()=>{if(i&&i.length){var j={padding:0,margin:0},N=(s?ny(i,s):i).map((M,P)=>{if(M.type==="none")return null;var B=M.formatter||o||DH,{value:E,name:I}=M,O=E,K=I;if(B){var Q=B(E,I,M,P,i);if(Array.isArray(Q))[O,K]=Q;else if(Q!=null)O=Q;else return null}var oe=Gv({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},r);return g.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:oe},ts(K)?g.createElement("span",{className:"recharts-tooltip-item-name"},K):null,ts(K)?g.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,g.createElement("span",{className:"recharts-tooltip-item-value"},O),g.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return g.createElement("ul",{className:"recharts-tooltip-item-list",style:j},N)}return null},h=Gv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),v=Gv({margin:0},a),b=!Jr(d),y=b?d:"",x=Pn("recharts-default-tooltip",l),w=Pn("recharts-tooltip-label",u);b&&f&&i!==void 0&&i!==null&&(y=f(d,i));var S=p?{role:"status","aria-live":"assertive"}:{};return g.createElement("div",lw({className:x,style:h},S),g.createElement("p",{className:w,style:v},g.isValidElement(y)?y:"".concat(y)),m())},ef="recharts-tooltip-wrapper",TH={visibility:"hidden"};function OH(e){var{coordinate:t,translateX:n,translateY:r}=e;return Pn(ef,{["".concat(ef,"-right")]:Dt(n)&&t&&Dt(t.x)&&n>=t.x,["".concat(ef,"-left")]:Dt(n)&&t&&Dt(t.x)&&n<t.x,["".concat(ef,"-bottom")]:Dt(r)&&t&&Dt(t.y)&&r>=t.y,["".concat(ef,"-top")]:Dt(r)&&t&&Dt(t.y)&&r<t.y})}function RC(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:u}=e;if(i&&Dt(i[r]))return i[r];var d=n[r]-s-(a>0?a:0),f=n[r]+a;if(t[r])return o[r]?d:f;var p=l[r];if(p==null)return 0;if(o[r]){var m=d,h=p;return m<h?Math.max(f,p):Math.max(d,p)}if(u==null)return 0;var v=f+s,b=p+u;return v>b?Math.max(d,p):Math.max(f,p)}function IH(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function _H(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:s,viewBox:l}=e,u,d,f;return o.height>0&&o.width>0&&n?(d=RC({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=RC({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=IH({translateX:d,translateY:f,useTranslate3d:s})):u=TH,{cssProperties:u,cssClasses:OH({translateX:d,translateY:f,coordinate:n})}}function BC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ih(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BC(Object(n),!0).forEach(function(r){cw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cw(e,t,n){return(t=LH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LH(e){var t=FH(e,"string");return typeof t=="symbol"?t:t+""}function FH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class $H extends g.PureComponent{constructor(){super(...arguments),cw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),cw(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:i,coordinate:o,hasPayload:s,isAnimationActive:l,offset:u,position:d,reverseDirection:f,useTranslate3d:p,viewBox:m,wrapperStyle:h,lastBoundingBox:v,innerRef:b,hasPortalFromProps:y}=this.props,{cssClasses:x,cssProperties:w}=_H({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:v.height,width:v.width},useTranslate3d:p,viewBox:m}),S=y?{}:ih(ih({transition:l&&t?"transform ".concat(r,"ms ").concat(a):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),j=ih(ih({},S),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},h);return g.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:x,style:j,ref:b},i)}}var A4=()=>{var e;return(e=Et(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function uw(){return uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uw.apply(null,arguments)}function zC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function UC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zC(Object(n),!0).forEach(function(r){RH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RH(e,t,n){return(t=BH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BH(e){var t=zH(e,"string");return typeof t=="symbol"?t:t+""}function zH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VC={curveBasisClosed:zV,curveBasisOpen:UV,curveBasis:BV,curveBumpX:CV,curveBumpY:MV,curveLinearClosed:VV,curveLinear:G0,curveMonotoneX:WV,curveMonotoneY:HV,curveNatural:qV,curveStep:KV,curveStepAfter:YV,curveStepBefore:GV},Bg=e=>Wr(e.x)&&Wr(e.y),WC=e=>e.base!=null&&Bg(e.base)&&Bg(e),tf=e=>e.x,nf=e=>e.y,UH=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Ip(e));return(n==="curveMonotone"||n==="curveBump")&&t?VC["".concat(n).concat(t==="vertical"?"Y":"X")]:VC[n]||G0},VH=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:a,connectNulls:i=!1}=e,o=UH(t,a),s=i?n.filter(Bg):n,l;if(Array.isArray(r)){var u=n.map((m,h)=>UC(UC({},m),{},{base:r[h]}));a==="vertical"?l=Xm().y(nf).x1(tf).x0(m=>m.base.x):l=Xm().x(tf).y1(nf).y0(m=>m.base.y);var d=l.defined(WC).curve(o),f=i?u.filter(WC):u;return d(f)}a==="vertical"&&Dt(r)?l=Xm().y(nf).x1(tf).x0(r):Dt(r)?l=Xm().x(tf).y1(nf).y0(r):l=O3().x(tf).y(nf);var p=l.defined(Bg).curve(o);return p(s)},Kk=e=>{var{className:t,points:n,path:r,pathRef:a}=e,i=Rp();if((!n||!n.length)&&!r)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},s=n&&n.length?VH(o):r;return g.createElement("path",uw({},eo(e),Sk(e),{className:Pn("recharts-curve",t),d:s===null?void 0:s,ref:a}))},WH=["x","y","top","left","width","height","className"];function dw(){return dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dw.apply(null,arguments)}function HC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function HH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HC(Object(n),!0).forEach(function(r){qH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qH(e,t,n){return(t=KH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KH(e){var t=GH(e,"string");return typeof t=="symbol"?t:t+""}function GH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YH(e,t){if(e==null)return{};var n,r,a=QH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function QH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var XH=(e,t,n,r,a,i)=>"M".concat(e,",").concat(a,"v").concat(r,"M").concat(i,",").concat(t,"h").concat(n),JH=e=>{var{x:t=0,y:n=0,top:r=0,left:a=0,width:i=0,height:o=0,className:s}=e,l=YH(e,WH),u=HH({x:t,y:n,top:r,left:a,width:i,height:o},l);return!Dt(t)||!Dt(n)||!Dt(i)||!Dt(o)||!Dt(r)||!Dt(a)?null:g.createElement("path",dw({},Ga(u),{className:Pn("recharts-cross",s),d:XH(t,n,i,o,r,a)}))};function ZH(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function qC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function KC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qC(Object(n),!0).forEach(function(r){eq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eq(e,t,n){return(t=tq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tq(e){var t=nq(e,"string");return typeof t=="symbol"?t:t+""}function nq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rq=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),E4=(e,t,n)=>e.map(r=>"".concat(rq(r)," ").concat(t,"ms ").concat(n)).join(","),aq=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(a=>r.includes(a))),mp=(e,t)=>Object.keys(t).reduce((n,r)=>KC(KC({},n),{},{[r]:e(r,t[r])}),{});function GC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Qr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GC(Object(n),!0).forEach(function(r){iq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iq(e,t,n){return(t=oq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oq(e){var t=sq(e,"string");return typeof t=="symbol"?t:t+""}function sq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zg=(e,t,n)=>e+(t-e)*n,fw=e=>{var{from:t,to:n}=e;return t!==n},D4=(e,t,n)=>{var r=mp((a,i)=>{if(fw(i)){var[o,s]=e(i.from,i.to,i.velocity);return Qr(Qr({},i),{},{from:o,velocity:s})}return i},t);return n<1?mp((a,i)=>fw(i)&&r[a]!=null?Qr(Qr({},i),{},{velocity:zg(i.velocity,r[a].velocity,n),from:zg(i.from,r[a].from,n)}):i,t):D4(e,r,n-1)};function lq(e,t,n,r,a,i){var o,s=r.reduce((p,m)=>Qr(Qr({},p),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),l=()=>mp((p,m)=>m.from,s),u=()=>!Object.values(s).filter(fw).length,d=null,f=p=>{o||(o=p);var m=p-o,h=m/n.dt;s=D4(n,s,h),a(Qr(Qr(Qr({},e),t),l())),o=p,u()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{var p;(p=d)===null||p===void 0||p()})}function cq(e,t,n,r,a,i,o){var s=null,l=a.reduce((f,p)=>{var m=e[p],h=t[p];return m==null||h==null?f:Qr(Qr({},f),{},{[p]:[m,h]})},{}),u,d=f=>{u||(u=f);var p=(f-u)/r,m=mp((v,b)=>zg(...b,n(p)),l);if(i(Qr(Qr(Qr({},e),t),m)),p<1)s=o.setTimeout(d);else{var h=mp((v,b)=>zg(...b,n(1)),l);i(Qr(Qr(Qr({},e),t),h))}};return()=>(s=o.setTimeout(d),()=>{var f;(f=s)===null||f===void 0||f()})}const uq=(e,t,n,r,a,i)=>{var o=aq(e,t);return n==null?()=>(a(Qr(Qr({},e),t)),()=>{}):n.isStepper===!0?lq(e,t,n,o,a,i):cq(e,t,n,r,o,a,i)};var Ug=1e-4,P4=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],T4=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),YC=(e,t)=>n=>{var r=P4(e,t);return T4(r,n)},dq=(e,t)=>n=>{var r=P4(e,t),a=[...r.map((i,o)=>i*o).slice(1),0];return T4(a,n)},fq=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var a=r.map(i=>parseFloat(i));return[a[0],a[1],a[2],a[3]]},pq=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length===1)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var r=fq(t[0]);if(r)return r}}return t.length===4?t:[0,0,1,1]},mq=(e,t,n,r)=>{var a=YC(e,n),i=YC(t,r),o=dq(e,n),s=u=>u>1?1:u<0?0:u,l=u=>{for(var d=u>1?1:u,f=d,p=0;p<8;++p){var m=a(f)-d,h=o(f);if(Math.abs(m-d)<Ug||h<Ug)return i(f);f=s(f-m/h)}return i(f)};return l.isStepper=!1,l},QC=function(){return mq(...pq(...arguments))},hq=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:t=100,damping:n=8,dt:r=17}=e,a=(i,o,s)=>{var l=-(i-o)*t,u=s*n,d=s+(l-u)*r/1e3,f=s*r/1e3+i;return Math.abs(f-o)<Ug&&Math.abs(d)<Ug?[o,0]:[f,d]};return a.isStepper=!0,a.dt=r,a},gq=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return QC(e);case"spring":return hq();default:if(e.split("(")[0]==="cubic-bezier")return QC(e)}return typeof e=="function"?e:null};function yq(e){var t,n=()=>null,r=!1,a=null,i=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var s=o,[l,...u]=s;if(typeof l=="number"){a=e.setTimeout(i.bind(null,u),l);return}i(l),a=e.setTimeout(i.bind(null,u));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,a&&(a(),a=null),i(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class vq{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,i=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function bq(){return yq(new vq)}var xq=g.createContext(bq);function wq(e,t){var n=g.useContext(xq);return g.useMemo(()=>t??n(e),[e,t,n])}var kq=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ky={isSsr:kq()},Sq={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},XC={t:0},Yv={t:1};function Sy(e){var t=Zr(e,Sq),{isActive:n,canBegin:r,duration:a,easing:i,begin:o,onAnimationEnd:s,onAnimationStart:l,children:u}=t,d=n==="auto"?!ky.isSsr:n,f=wq(t.animationId,t.animationManager),[p,m]=g.useState(d?XC:Yv),h=g.useRef(null);return g.useEffect(()=>{d||m(Yv)},[d]),g.useEffect(()=>{if(!d||!r)return _p;var v=uq(XC,Yv,gq(i),a,m,f.getTimeoutController()),b=()=>{h.current=v()};return f.start([l,o,b,a,s]),()=>{f.stop(),h.current&&h.current(),s()}},[d,r,a,i,o,l,s,f]),u(p.t)}function Ny(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=g.useRef(sp(t)),r=g.useRef(e);return r.current!==e&&(n.current=sp(t),r.current=e),n.current}var Nq=["radius"],jq=["radius"],JC,ZC,eM,tM,nM,rM,aM,iM,oM,sM;function lM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lM(Object(n),!0).forEach(function(r){Cq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cq(e,t,n){return(t=Mq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mq(e){var t=Aq(e,"string");return typeof t=="symbol"?t:t+""}function Aq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vg(){return Vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vg.apply(null,arguments)}function uM(e,t){if(e==null)return{};var n,r,a=Eq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Eq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Uo(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var dM=(e,t,n,r,a)=>{var i=Sl(n),o=Sl(r),s=Math.min(Math.abs(i)/2,Math.abs(o)/2),l=o>=0?1:-1,u=i>=0?1:-1,d=o>=0&&i>=0||o<0&&i<0?1:0,f;if(s>0&&a instanceof Array){for(var p=[0,0,0,0],m=0,h=4;m<h;m++)p[m]=a[m]>s?s:a[m];f=jr(JC||(JC=Uo(["M",",",""])),e,t+l*p[0]),p[0]>0&&(f+=jr(ZC||(ZC=Uo(["A ",",",",0,0,",",",",",""])),p[0],p[0],d,e+u*p[0],t)),f+=jr(eM||(eM=Uo(["L ",",",""])),e+n-u*p[1],t),p[1]>0&&(f+=jr(tM||(tM=Uo(["A ",",",",0,0,",`,
        `,",",""])),p[1],p[1],d,e+n,t+l*p[1])),f+=jr(nM||(nM=Uo(["L ",",",""])),e+n,t+r-l*p[2]),p[2]>0&&(f+=jr(rM||(rM=Uo(["A ",",",",0,0,",`,
        `,",",""])),p[2],p[2],d,e+n-u*p[2],t+r)),f+=jr(aM||(aM=Uo(["L ",",",""])),e+u*p[3],t+r),p[3]>0&&(f+=jr(iM||(iM=Uo(["A ",",",",0,0,",`,
        `,",",""])),p[3],p[3],d,e,t+r-l*p[3])),f+="Z"}else if(s>0&&a===+a&&a>0){var v=Math.min(s,a);f=jr(oM||(oM=Uo(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+l*v,v,v,d,e+u*v,t,e+n-u*v,t,v,v,d,e+n,t+l*v,e+n,t+r-l*v,v,v,d,e+n-u*v,t+r,e+u*v,t+r,v,v,d,e,t+r-l*v)}else f=jr(sM||(sM=Uo(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return f},fM={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},O4=e=>{var t=Zr(e,fM),n=g.useRef(null),[r,a]=g.useState(-1);g.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var ne=n.current.getTotalLength();ne&&a(ne)}catch{}},[]);var{x:i,y:o,width:s,height:l,radius:u,className:d}=t,{animationEasing:f,animationDuration:p,animationBegin:m,isAnimationActive:h,isUpdateAnimationActive:v}=t,b=g.useRef(s),y=g.useRef(l),x=g.useRef(i),w=g.useRef(o),S=g.useMemo(()=>({x:i,y:o,width:s,height:l,radius:u}),[i,o,s,l,u]),j=Ny(S,"rectangle-");if(i!==+i||o!==+o||s!==+s||l!==+l||s===0||l===0)return null;var N=Pn("recharts-rectangle",d);if(!v){var M=Ga(t),{radius:P}=M,B=uM(M,Nq);return g.createElement("path",Vg({},B,{x:Sl(i),y:Sl(o),width:Sl(s),height:Sl(l),radius:typeof u=="number"?u:void 0,className:N,d:dM(i,o,s,l,u)}))}var E=b.current,I=y.current,O=x.current,K=w.current,Q="0px ".concat(r===-1?1:r,"px"),oe="".concat(r,"px 0px"),ve=E4(["strokeDasharray"],p,typeof f=="string"?f:fM.animationEasing);return g.createElement(Sy,{animationId:j,key:j,canBegin:r>0,duration:p,easing:f,isActive:v,begin:m},ne=>{var H=_a(E,s,ne),V=_a(I,l,ne),k=_a(O,i,ne),z=_a(K,o,ne);n.current&&(b.current=H,y.current=V,x.current=k,w.current=z);var T;h?ne>0?T={transition:ve,strokeDasharray:oe}:T={strokeDasharray:Q}:T={strokeDasharray:oe};var C=Ga(t),{radius:$}=C,U=uM(C,jq);return g.createElement("path",Vg({},U,{radius:typeof u=="number"?u:void 0,className:N,d:dM(k,z,H,V,u),ref:n,style:cM(cM({},T),t.style)}))})};function pM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function mM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pM(Object(n),!0).forEach(function(r){Dq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dq(e,t,n){return(t=Pq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pq(e){var t=Tq(e,"string");return typeof t=="symbol"?t:t+""}function Tq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wg=Math.PI/180,Oq=e=>e*180/Math.PI,Ur=(e,t,n,r)=>({x:e+Math.cos(-Wg*r)*n,y:t+Math.sin(-Wg*r)*n}),I4=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},Iq=(e,t)=>{var{x:n,y:r}=e,{x:a,y:i}=t;return Math.sqrt((n-a)**2+(r-i)**2)},_q=(e,t)=>{var{x:n,y:r}=e,{cx:a,cy:i}=t,o=Iq({x:n,y:r},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var s=(n-a)/o,l=Math.acos(s);return r>i&&(l=2*Math.PI-l),{radius:o,angle:Oq(l),angleInRadian:l}},Lq=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),a=Math.floor(n/360),i=Math.min(r,a);return{startAngle:t-i*360,endAngle:n-i*360}},Fq=(e,t)=>{var{startAngle:n,endAngle:r}=t,a=Math.floor(n/360),i=Math.floor(r/360),o=Math.min(a,i);return e+o*360},$q=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:a,angle:i}=_q({x:n,y:r},t),{innerRadius:o,outerRadius:s}=t;if(a<o||a>s||a===0)return null;var{startAngle:l,endAngle:u}=Lq(t),d=i,f;if(l<=u){for(;d>u;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=u}else{for(;d>l;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=l}return f?mM(mM({},t),{},{radius:a,angle:Fq(d,t)}):null};function _4(e){var{cx:t,cy:n,radius:r,startAngle:a,endAngle:i}=e,o=Ur(t,n,r,a),s=Ur(t,n,r,i);return{points:[o,s],cx:t,cy:n,radius:r,startAngle:a,endAngle:i}}var hM,gM,yM,vM,bM,xM,wM;function pw(){return pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pw.apply(null,arguments)}function Sc(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Rq=(e,t)=>{var n=La(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},oh=e=>{var{cx:t,cy:n,radius:r,angle:a,sign:i,isExternal:o,cornerRadius:s,cornerIsExternal:l}=e,u=s*(o?1:-1)+r,d=Math.asin(s/u)/Wg,f=l?a:a+i*d,p=Ur(t,n,u,f),m=Ur(t,n,r,f),h=l?a-i*d:a,v=Ur(t,n,u*Math.cos(d*Wg),h);return{center:p,circleTangency:m,lineTangency:v,theta:d}},L4=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:i,endAngle:o}=e,s=Rq(i,o),l=i+s,u=Ur(t,n,a,i),d=Ur(t,n,a,l),f=jr(hM||(hM=Sc(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,a,a,+(Math.abs(s)>180),+(i>l),d.x,d.y);if(r>0){var p=Ur(t,n,r,i),m=Ur(t,n,r,l);f+=jr(gM||(gM=Sc(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,r,r,+(Math.abs(s)>180),+(i<=l),p.x,p.y)}else f+=jr(yM||(yM=Sc(["L ",","," Z"])),t,n);return f},Bq=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:u}=e,d=La(u-l),{circleTangency:f,lineTangency:p,theta:m}=oh({cx:t,cy:n,radius:a,angle:l,sign:d,cornerRadius:i,cornerIsExternal:s}),{circleTangency:h,lineTangency:v,theta:b}=oh({cx:t,cy:n,radius:a,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:s}),y=s?Math.abs(l-u):Math.abs(l-u)-m-b;if(y<0)return o?jr(vM||(vM=Sc(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),p.x,p.y,i,i,i*2,i,i,-i*2):L4({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:l,endAngle:u});var x=jr(bM||(bM=Sc(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),p.x,p.y,i,i,+(d<0),f.x,f.y,a,a,+(y>180),+(d<0),h.x,h.y,i,i,+(d<0),v.x,v.y);if(r>0){var{circleTangency:w,lineTangency:S,theta:j}=oh({cx:t,cy:n,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),{circleTangency:N,lineTangency:M,theta:P}=oh({cx:t,cy:n,radius:r,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),B=s?Math.abs(l-u):Math.abs(l-u)-j-P;if(B<0&&i===0)return"".concat(x,"L").concat(t,",").concat(n,"Z");x+=jr(xM||(xM=Sc(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),M.x,M.y,i,i,+(d<0),N.x,N.y,r,r,+(B>180),+(d>0),w.x,w.y,i,i,+(d<0),S.x,S.y)}else x+=jr(wM||(wM=Sc(["L",",","Z"])),t,n);return x},zq={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},F4=e=>{var t=Zr(e,zq),{cx:n,cy:r,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:d,className:f}=t;if(i<a||u===d)return null;var p=Pn("recharts-sector",f),m=i-a,h=Xi(o,m,0,!0),v;return h>0&&Math.abs(u-d)<360?v=Bq({cx:n,cy:r,innerRadius:a,outerRadius:i,cornerRadius:Math.min(h,m/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:d}):v=L4({cx:n,cy:r,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d}),g.createElement("path",pw({},Ga(t),{className:p,d:v}))};function Uq(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(Y3(t)){if(e==="centric"){var{cx:r,cy:a,innerRadius:i,outerRadius:o,angle:s}=t,l=Ur(r,a,i,s),u=Ur(r,a,o,s);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return _4(t)}}var $4={},R4={},B4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ik;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(B4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B4;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(R4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_k,n=R4;function r(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=n.toFinite(a),i===void 0?(i=a,a=0):i=n.toFinite(i),o=o===void 0?a<i?1:-1:n.toFinite(o);const s=Math.max(Math.ceil((i-a)/(o||1)),0),l=new Array(s);for(let u=0;u<s;u++)l[u]=a,a+=o;return l}e.range=r})($4);var Vq=$4.range;const z4=Mo(Vq);function Il(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Wq(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Gk(e){let t,n,r;e.length!==2?(t=Il,n=(s,l)=>Il(e(s),l),r=(s,l)=>e(s)-l):(t=e===Il||e===Wq?e:Hq,n=e,r=e);function a(s,l,u=0,d=s.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;n(s[f],l)<0?u=f+1:d=f}while(u<d)}return u}function i(s,l,u=0,d=s.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;n(s[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function o(s,l,u=0,d=s.length){const f=a(s,l,u,d-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:a,center:o,right:i}}function Hq(){return 0}function U4(e){return e===null?NaN:+e}function*qq(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const Kq=Gk(Il),zp=Kq.right;Gk(U4).center;class kM extends Map{constructor(t,n=Qq){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(SM(this,t))}has(t){return super.has(SM(this,t))}set(t,n){return super.set(Gq(this,t),n)}delete(t){return super.delete(Yq(this,t))}}function SM({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Gq({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Yq({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Qq(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Xq(e=Il){if(e===Il)return V4;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function V4(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Jq=Math.sqrt(50),Zq=Math.sqrt(10),eK=Math.sqrt(2);function Hg(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=Jq?10:i>=Zq?5:i>=eK?2:1;let s,l,u;return a<0?(u=Math.pow(10,-a)/o,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,a)*o,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=n&&n<2?Hg(e,t,n*2):[s,l,u]}function mw(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,i,o]=r?Hg(t,e,n):Hg(e,t,n);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(i-u)/-o;else for(let u=0;u<s;++u)l[u]=(i-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(a+u)/-o;else for(let u=0;u<s;++u)l[u]=(a+u)*o;return l}function hw(e,t,n){return t=+t,e=+e,n=+n,Hg(e,t,n)[2]}function gw(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?hw(t,e,n):hw(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function NM(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function jM(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function W4(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?V4:Xq(a);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(t-u*f/l+p)),h=Math.min(r,Math.floor(t+(l-u)*f/l+p));W4(e,t,m,h,a)}const i=e[t];let o=n,s=r;for(rf(e,n,t),a(e[r],i)>0&&rf(e,n,r);o<s;){for(rf(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}a(e[n],i)===0?rf(e,n,s):(++s,rf(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function rf(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function tK(e,t,n){if(e=Float64Array.from(qq(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return jM(e);if(t>=1)return NM(e);var r,a=(r-1)*t,i=Math.floor(a),o=NM(W4(e,i).subarray(0,i+1)),s=jM(e.subarray(i+1));return o+(s-o)*(a-i)}}function nK(e,t,n=U4){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),o=+n(e[i],i,e),s=+n(e[i+1],i+1,e);return o+(s-o)*(a-i)}}function rK(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++r<a;)i[r]=e+r*n;return i}function ro(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ks(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const yw=Symbol("implicit");function Yk(){var e=new kM,t=[],n=[],r=yw;function a(i){let o=e.get(i);if(o===void 0){if(r!==yw)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new kM;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return Yk(t,n).unknown(r)},ro.apply(a,arguments),a}function Qk(){var e=Yk().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,i,o,s=!1,l=0,u=0,d=.5;delete e.unknown;function f(){var p=t().length,m=a<r,h=m?a:r,v=m?r:a;i=(v-h)/Math.max(1,p-l+u*2),s&&(i=Math.floor(i)),h+=(v-h-i*(p-l))*d,o=i*(1-l),s&&(h=Math.round(h),o=Math.round(o));var b=rK(p).map(function(y){return h+i*y});return n(m?b.reverse():b)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([r,a]=p,r=+r,a=+a,f()):[r,a]},e.rangeRound=function(p){return[r,a]=p,r=+r,a=+a,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(p){return arguments.length?(s=!!p,f()):s},e.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),f()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},e.paddingOuter=function(p){return arguments.length?(u=+p,f()):u},e.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},e.copy=function(){return Qk(t(),[r,a]).round(s).paddingInner(l).paddingOuter(u).align(d)},ro.apply(f(),arguments)}function H4(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return H4(t())},e}function aK(){return H4(Qk.apply(null,arguments).paddingInner(1))}function Xk(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function q4(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Up(){}var hp=.7,qg=1/hp,Ju="\\s*([+-]?\\d+)\\s*",gp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Jo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",iK=/^#([0-9a-f]{3,8})$/,oK=new RegExp(`^rgb\\(${Ju},${Ju},${Ju}\\)$`),sK=new RegExp(`^rgb\\(${Jo},${Jo},${Jo}\\)$`),lK=new RegExp(`^rgba\\(${Ju},${Ju},${Ju},${gp}\\)$`),cK=new RegExp(`^rgba\\(${Jo},${Jo},${Jo},${gp}\\)$`),uK=new RegExp(`^hsl\\(${gp},${Jo},${Jo}\\)$`),dK=new RegExp(`^hsla\\(${gp},${Jo},${Jo},${gp}\\)$`),CM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Xk(Up,yp,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:MM,formatHex:MM,formatHex8:fK,formatHsl:pK,formatRgb:AM,toString:AM});function MM(){return this.rgb().formatHex()}function fK(){return this.rgb().formatHex8()}function pK(){return K4(this).formatHsl()}function AM(){return this.rgb().formatRgb()}function yp(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=iK.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?EM(t):n===3?new ri(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?sh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?sh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=oK.exec(e))?new ri(t[1],t[2],t[3],1):(t=sK.exec(e))?new ri(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=lK.exec(e))?sh(t[1],t[2],t[3],t[4]):(t=cK.exec(e))?sh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=uK.exec(e))?TM(t[1],t[2]/100,t[3]/100,1):(t=dK.exec(e))?TM(t[1],t[2]/100,t[3]/100,t[4]):CM.hasOwnProperty(e)?EM(CM[e]):e==="transparent"?new ri(NaN,NaN,NaN,0):null}function EM(e){return new ri(e>>16&255,e>>8&255,e&255,1)}function sh(e,t,n,r){return r<=0&&(e=t=n=NaN),new ri(e,t,n,r)}function mK(e){return e instanceof Up||(e=yp(e)),e?(e=e.rgb(),new ri(e.r,e.g,e.b,e.opacity)):new ri}function vw(e,t,n,r){return arguments.length===1?mK(e):new ri(e,t,n,r??1)}function ri(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Xk(ri,vw,q4(Up,{brighter(e){return e=e==null?qg:Math.pow(qg,e),new ri(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?hp:Math.pow(hp,e),new ri(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ri(Tc(this.r),Tc(this.g),Tc(this.b),Kg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:DM,formatHex:DM,formatHex8:hK,formatRgb:PM,toString:PM}));function DM(){return`#${Nc(this.r)}${Nc(this.g)}${Nc(this.b)}`}function hK(){return`#${Nc(this.r)}${Nc(this.g)}${Nc(this.b)}${Nc((isNaN(this.opacity)?1:this.opacity)*255)}`}function PM(){const e=Kg(this.opacity);return`${e===1?"rgb(":"rgba("}${Tc(this.r)}, ${Tc(this.g)}, ${Tc(this.b)}${e===1?")":`, ${e})`}`}function Kg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Tc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Nc(e){return e=Tc(e),(e<16?"0":"")+e.toString(16)}function TM(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new go(e,t,n,r)}function K4(e){if(e instanceof go)return new go(e.h,e.s,e.l,e.opacity);if(e instanceof Up||(e=yp(e)),!e)return new go;if(e instanceof go)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,s=i-a,l=(i+a)/2;return s?(t===i?o=(n-r)/s+(n<r)*6:n===i?o=(r-t)/s+2:o=(t-n)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new go(o,s,l,e.opacity)}function gK(e,t,n,r){return arguments.length===1?K4(e):new go(e,t,n,r??1)}function go(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Xk(go,gK,q4(Up,{brighter(e){return e=e==null?qg:Math.pow(qg,e),new go(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?hp:Math.pow(hp,e),new go(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new ri(Qv(e>=240?e-240:e+120,a,r),Qv(e,a,r),Qv(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new go(OM(this.h),lh(this.s),lh(this.l),Kg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Kg(this.opacity);return`${e===1?"hsl(":"hsla("}${OM(this.h)}, ${lh(this.s)*100}%, ${lh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function OM(e){return e=(e||0)%360,e<0?e+360:e}function lh(e){return Math.max(0,Math.min(1,e||0))}function Qv(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Jk=e=>()=>e;function yK(e,t){return function(n){return e+n*t}}function vK(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function bK(e){return(e=+e)==1?G4:function(t,n){return n-t?vK(t,n,e):Jk(isNaN(t)?n:t)}}function G4(e,t){var n=t-e;return n?yK(e,n):Jk(isNaN(e)?t:e)}const IM=function e(t){var n=bK(t);function r(a,i){var o=n((a=vw(a)).r,(i=vw(i)).r),s=n(a.g,i.g),l=n(a.b,i.b),u=G4(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=s(d),a.b=l(d),a.opacity=u(d),a+""}}return r.gamma=e,r}(1);function xK(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function wK(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function kK(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=Md(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(s){for(o=0;o<r;++o)i[o]=a[o](s);return i}}function SK(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Gg(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function NK(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=Md(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var bw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xv=new RegExp(bw.source,"g");function jK(e){return function(){return e}}function CK(e){return function(t){return e(t)+""}}function MK(e,t){var n=bw.lastIndex=Xv.lastIndex=0,r,a,i,o=-1,s=[],l=[];for(e=e+"",t=t+"";(r=bw.exec(e))&&(a=Xv.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),s[o]?s[o]+=i:s[++o]=i),(r=r[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,l.push({i:o,x:Gg(r,a)})),n=Xv.lastIndex;return n<t.length&&(i=t.slice(n),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?CK(l[0].x):jK(t):(t=l.length,function(u){for(var d=0,f;d<t;++d)s[(f=l[d]).i]=f.x(u);return s.join("")})}function Md(e,t){var n=typeof t,r;return t==null||n==="boolean"?Jk(t):(n==="number"?Gg:n==="string"?(r=yp(t))?(t=r,IM):MK:t instanceof yp?IM:t instanceof Date?SK:wK(t)?xK:Array.isArray(t)?kK:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?NK:Gg)(e,t)}function Zk(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function AK(e,t){t===void 0&&(t=e,e=Md);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[s](o-s)}}function EK(e){return function(){return e}}function Yg(e){return+e}var _M=[0,1];function qa(e){return e}function xw(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:EK(isNaN(t)?NaN:.5)}function DK(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function PK(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=xw(a,r),i=n(o,i)):(r=xw(r,a),i=n(i,o)),function(s){return i(r(s))}}function TK(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=xw(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(s){var l=zp(e,s,1,r)-1;return i[l](a[l](s))}}function Vp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function jy(){var e=_M,t=_M,n=Md,r,a,i,o=qa,s,l,u;function d(){var p=Math.min(e.length,t.length);return o!==qa&&(o=DK(e[0],e[p-1])),s=p>2?TK:PK,l=u=null,f}function f(p){return p==null||isNaN(p=+p)?i:(l||(l=s(e.map(r),t,n)))(r(o(p)))}return f.invert=function(p){return o(a((u||(u=s(t,e.map(r),Gg)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,Yg),d()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),d()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),n=Zk,d()},f.clamp=function(p){return arguments.length?(o=p?!0:qa,d()):o!==qa},f.interpolate=function(p){return arguments.length?(n=p,d()):n},f.unknown=function(p){return arguments.length?(i=p,f):i},function(p,m){return r=p,a=m,d()}}function eS(){return jy()(qa,qa)}function OK(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Qg(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function md(e){return e=Qg(Math.abs(e)),e?e[1]:NaN}function IK(e,t){return function(n,r){for(var a=n.length,i=[],o=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),i.push(n.substring(a-=s,a+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function _K(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var LK=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function vp(e){if(!(t=LK.exec(e)))throw new Error("invalid format: "+e);var t;return new tS({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}vp.prototype=tS.prototype;function tS(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}tS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function FK(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var Xg;function $K(e,t){var n=Qg(e,t);if(!n)return Xg=void 0,e.toPrecision(t);var r=n[0],a=n[1],i=a-(Xg=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Qg(e,Math.max(0,t+i-1))[0]}function LM(e,t){var n=Qg(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const FM={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:OK,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>LM(e*100,t),r:LM,s:$K,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function $M(e){return e}var RM=Array.prototype.map,BM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function RK(e){var t=e.grouping===void 0||e.thousands===void 0?$M:IK(RM.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?$M:_K(RM.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f,p){f=vp(f);var m=f.fill,h=f.align,v=f.sign,b=f.symbol,y=f.zero,x=f.width,w=f.comma,S=f.precision,j=f.trim,N=f.type;N==="n"?(w=!0,N="g"):FM[N]||(S===void 0&&(S=12),j=!0,N="g"),(y||m==="0"&&h==="=")&&(y=!0,m="0",h="=");var M=(p&&p.prefix!==void 0?p.prefix:"")+(b==="$"?n:b==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():""),P=(b==="$"?r:/[%p]/.test(N)?o:"")+(p&&p.suffix!==void 0?p.suffix:""),B=FM[N],E=/[defgprs%]/.test(N);S=S===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function I(O){var K=M,Q=P,oe,ve,ne;if(N==="c")Q=B(O)+Q,O="";else{O=+O;var H=O<0||1/O<0;if(O=isNaN(O)?l:B(Math.abs(O),S),j&&(O=FK(O)),H&&+O==0&&v!=="+"&&(H=!1),K=(H?v==="("?v:s:v==="-"||v==="("?"":v)+K,Q=(N==="s"&&!isNaN(O)&&Xg!==void 0?BM[8+Xg/3]:"")+Q+(H&&v==="("?")":""),E){for(oe=-1,ve=O.length;++oe<ve;)if(ne=O.charCodeAt(oe),48>ne||ne>57){Q=(ne===46?a+O.slice(oe+1):O.slice(oe))+Q,O=O.slice(0,oe);break}}}w&&!y&&(O=t(O,1/0));var V=K.length+O.length+Q.length,k=V<x?new Array(x-V+1).join(m):"";switch(w&&y&&(O=t(k+O,k.length?x-Q.length:1/0),k=""),h){case"<":O=K+O+Q+k;break;case"=":O=K+k+O+Q;break;case"^":O=k.slice(0,V=k.length>>1)+K+O+Q+k.slice(V);break;default:O=k+K+O+Q;break}return i(O)}return I.toString=function(){return f+""},I}function d(f,p){var m=Math.max(-8,Math.min(8,Math.floor(md(p)/3)))*3,h=Math.pow(10,-m),v=u((f=vp(f),f.type="f",f),{suffix:BM[8+m/3]});return function(b){return v(h*b)}}return{format:u,formatPrefix:d}}var ch,nS,Y4;BK({thousands:",",grouping:[3],currency:["$",""]});function BK(e){return ch=RK(e),nS=ch.format,Y4=ch.formatPrefix,ch}function zK(e){return Math.max(0,-md(Math.abs(e)))}function UK(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(md(t)/3)))*3-md(Math.abs(e)))}function VK(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,md(t)-md(e))+1}function Q4(e,t,n,r){var a=gw(e,t,n),i;switch(r=vp(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=UK(a,o))&&(r.precision=i),Y4(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=VK(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=zK(a))&&(r.precision=i-(r.type==="%")*2);break}}return nS(r)}function ql(e){var t=e.domain;return e.ticks=function(n){var r=t();return mw(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return Q4(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,o=r[a],s=r[i],l,u,d=10;for(s<o&&(u=o,o=s,s=u,u=a,a=i,i=u);d-- >0;){if(u=hw(o,s,n),u===l)return r[a]=o,r[i]=s,t(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function X4(){var e=eS();return e.copy=function(){return Vp(e,X4())},ro.apply(e,arguments),ql(e)}function J4(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Yg),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return J4(e).unknown(t)},e=arguments.length?Array.from(e,Yg):[0,1],ql(n)}function Z4(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],i=e[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),e[n]=t.floor(a),e[r]=t.ceil(i),e}function zM(e){return Math.log(e)}function UM(e){return Math.exp(e)}function WK(e){return-Math.log(-e)}function HK(e){return-Math.exp(-e)}function qK(e){return isFinite(e)?+("1e"+e):e<0?0:e}function KK(e){return e===10?qK:e===Math.E?Math.exp:t=>Math.pow(e,t)}function GK(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function VM(e){return(t,n)=>-e(-t,n)}function rS(e){const t=e(zM,UM),n=t.domain;let r=10,a,i;function o(){return a=GK(r),i=KK(r),n()[0]<0?(a=VM(a),i=VM(i),e(WK,HK)):e(zM,UM),t}return t.base=function(s){return arguments.length?(r=+s,o()):r},t.domain=function(s){return arguments.length?(n(s),o()):n()},t.ticks=s=>{const l=n();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let p=a(u),m=a(d),h,v;const b=s==null?10:+s;let y=[];if(!(r%1)&&m-p<b){if(p=Math.floor(p),m=Math.ceil(m),u>0){for(;p<=m;++p)for(h=1;h<r;++h)if(v=p<0?h/i(-p):h*i(p),!(v<u)){if(v>d)break;y.push(v)}}else for(;p<=m;++p)for(h=r-1;h>=1;--h)if(v=p>0?h/i(-p):h*i(p),!(v<u)){if(v>d)break;y.push(v)}y.length*2<b&&(y=mw(u,d,b))}else y=mw(p,m,Math.min(m-p,b)).map(i);return f?y.reverse():y},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=vp(l)).precision==null&&(l.trim=!0),l=nS(l)),s===1/0)return l;const u=Math.max(1,r*s/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*r<r-.5&&(f*=r),f<=u?l(d):""}},t.nice=()=>n(Z4(n(),{floor:s=>i(Math.floor(a(s))),ceil:s=>i(Math.ceil(a(s)))})),t}function eI(){const e=rS(jy()).domain([1,10]);return e.copy=()=>Vp(e,eI()).base(e.base()),ro.apply(e,arguments),e}function WM(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function HM(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function aS(e){var t=1,n=e(WM(t),HM(t));return n.constant=function(r){return arguments.length?e(WM(t=+r),HM(t)):t},ql(n)}function tI(){var e=aS(jy());return e.copy=function(){return Vp(e,tI()).constant(e.constant())},ro.apply(e,arguments)}function qM(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function YK(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function QK(e){return e<0?-e*e:e*e}function iS(e){var t=e(qa,qa),n=1;function r(){return n===1?e(qa,qa):n===.5?e(YK,QK):e(qM(n),qM(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},ql(t)}function oS(){var e=iS(jy());return e.copy=function(){return Vp(e,oS()).exponent(e.exponent())},ro.apply(e,arguments),e}function XK(){return oS.apply(null,arguments).exponent(.5)}function KM(e){return Math.sign(e)*e*e}function JK(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function nI(){var e=eS(),t=[0,1],n=!1,r;function a(i){var o=JK(e(i));return isNaN(o)?r:n?Math.round(o):o}return a.invert=function(i){return e.invert(KM(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Yg)).map(KM)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return nI(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},ro.apply(a,arguments),ql(a)}function rI(){var e=[],t=[],n=[],r;function a(){var o=0,s=Math.max(1,t.length);for(n=new Array(s-1);++o<s;)n[o-1]=nK(e,o/s);return i}function i(o){return o==null||isNaN(o=+o)?r:t[zp(n,o)]}return i.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Il),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return rI().domain(e).range(t).unknown(r)},ro.apply(i,arguments)}function aI(){var e=0,t=1,n=1,r=[.5],a=[0,1],i;function o(l){return l!=null&&l<=l?a[zp(r,l,0,n)]:i}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(n=(a=Array.from(l)).length-1,s()):a.slice()},o.invertExtent=function(l){var u=a.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(i=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return aI().domain([e,t]).range(a).unknown(i)},ro.apply(ql(o),arguments)}function iI(){var e=[.5],t=[0,1],n,r=1;function a(i){return i!=null&&i<=i?t[zp(e,i,0,r)]:n}return a.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return iI().domain(e).range(t).unknown(n)},ro.apply(a,arguments)}const Jv=new Date,Zv=new Date;function ea(e,t,n,r){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{const l=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return l;let u;do l.push(u=new Date(+i)),t(i,s),e(i);while(u<i&&i<o);return l},a.filter=i=>ea(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!i(o););else for(;--s>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>(Jv.setTime(+i),Zv.setTime(+o),e(Jv),e(Zv),Math.floor(n(Jv,Zv))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Jg=ea(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Jg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ea(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Jg);Jg.range;const Ss=1e3,Yi=Ss*60,Ns=Yi*60,$s=Ns*24,sS=$s*7,GM=$s*30,eb=$s*365,jc=ea(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ss)},(e,t)=>(t-e)/Ss,e=>e.getUTCSeconds());jc.range;const lS=ea(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ss)},(e,t)=>{e.setTime(+e+t*Yi)},(e,t)=>(t-e)/Yi,e=>e.getMinutes());lS.range;const cS=ea(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Yi)},(e,t)=>(t-e)/Yi,e=>e.getUTCMinutes());cS.range;const uS=ea(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ss-e.getMinutes()*Yi)},(e,t)=>{e.setTime(+e+t*Ns)},(e,t)=>(t-e)/Ns,e=>e.getHours());uS.range;const dS=ea(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ns)},(e,t)=>(t-e)/Ns,e=>e.getUTCHours());dS.range;const Wp=ea(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Yi)/$s,e=>e.getDate()-1);Wp.range;const Cy=ea(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/$s,e=>e.getUTCDate()-1);Cy.range;const oI=ea(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/$s,e=>Math.floor(e/$s));oI.range;function tu(e){return ea(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Yi)/sS)}const My=tu(0),Zg=tu(1),ZK=tu(2),eG=tu(3),hd=tu(4),tG=tu(5),nG=tu(6);My.range;Zg.range;ZK.range;eG.range;hd.range;tG.range;nG.range;function nu(e){return ea(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/sS)}const Ay=nu(0),e0=nu(1),rG=nu(2),aG=nu(3),gd=nu(4),iG=nu(5),oG=nu(6);Ay.range;e0.range;rG.range;aG.range;gd.range;iG.range;oG.range;const fS=ea(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());fS.range;const pS=ea(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());pS.range;const Rs=ea(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Rs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ea(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Rs.range;const Bs=ea(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Bs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ea(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Bs.range;function sI(e,t,n,r,a,i){const o=[[jc,1,Ss],[jc,5,5*Ss],[jc,15,15*Ss],[jc,30,30*Ss],[i,1,Yi],[i,5,5*Yi],[i,15,15*Yi],[i,30,30*Yi],[a,1,Ns],[a,3,3*Ns],[a,6,6*Ns],[a,12,12*Ns],[r,1,$s],[r,2,2*$s],[n,1,sS],[t,1,GM],[t,3,3*GM],[e,1,eb]];function s(u,d,f){const p=d<u;p&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:l(u,d,f),h=m?m.range(u,+d+1):[];return p?h.reverse():h}function l(u,d,f){const p=Math.abs(d-u)/f,m=Gk(([,,b])=>b).right(o,p);if(m===o.length)return e.every(gw(u/eb,d/eb,f));if(m===0)return Jg.every(Math.max(gw(u,d,f),1));const[h,v]=o[p/o[m-1][2]<o[m][2]/p?m-1:m];return h.every(v)}return[s,l]}const[sG,lG]=sI(Bs,pS,Ay,oI,dS,cS),[cG,uG]=sI(Rs,fS,My,Wp,uS,lS);function tb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function nb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function af(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function dG(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,u=of(a),d=sf(a),f=of(i),p=sf(i),m=of(o),h=sf(o),v=of(s),b=sf(s),y=of(l),x=sf(l),w={a:ne,A:H,b:V,B:k,c:null,d:eA,e:eA,f:IG,g:WG,G:qG,H:PG,I:TG,j:OG,L:lI,m:_G,M:LG,p:z,q:T,Q:rA,s:aA,S:FG,u:$G,U:RG,V:BG,w:zG,W:UG,x:null,X:null,y:VG,Y:HG,Z:KG,"%":nA},S={a:C,A:$,b:U,B:J,c:null,d:tA,e:tA,f:XG,g:sY,G:cY,H:GG,I:YG,j:QG,L:uI,m:JG,M:ZG,p:le,q:G,Q:rA,s:aA,S:eY,u:tY,U:nY,V:rY,w:aY,W:iY,x:null,X:null,y:oY,Y:lY,Z:uY,"%":nA},j={a:E,A:I,b:O,B:K,c:Q,d:JM,e:JM,f:MG,g:XM,G:QM,H:ZM,I:ZM,j:SG,L:CG,m:kG,M:NG,p:B,q:wG,Q:EG,s:DG,S:jG,u:gG,U:yG,V:vG,w:hG,W:bG,x:oe,X:ve,y:XM,Y:QM,Z:xG,"%":AG};w.x=N(n,w),w.X=N(r,w),w.c=N(t,w),S.x=N(n,S),S.X=N(r,S),S.c=N(t,S);function N(_,R){return function(Z){var F=[],se=-1,fe=0,q=_.length,de,Ee,st;for(Z instanceof Date||(Z=new Date(+Z));++se<q;)_.charCodeAt(se)===37&&(F.push(_.slice(fe,se)),(Ee=YM[de=_.charAt(++se)])!=null?de=_.charAt(++se):Ee=de==="e"?" ":"0",(st=R[de])&&(de=st(Z,Ee)),F.push(de),fe=se+1);return F.push(_.slice(fe,se)),F.join("")}}function M(_,R){return function(Z){var F=af(1900,void 0,1),se=P(F,_,Z+="",0),fe,q;if(se!=Z.length)return null;if("Q"in F)return new Date(F.Q);if("s"in F)return new Date(F.s*1e3+("L"in F?F.L:0));if(R&&!("Z"in F)&&(F.Z=0),"p"in F&&(F.H=F.H%12+F.p*12),F.m===void 0&&(F.m="q"in F?F.q:0),"V"in F){if(F.V<1||F.V>53)return null;"w"in F||(F.w=1),"Z"in F?(fe=nb(af(F.y,0,1)),q=fe.getUTCDay(),fe=q>4||q===0?e0.ceil(fe):e0(fe),fe=Cy.offset(fe,(F.V-1)*7),F.y=fe.getUTCFullYear(),F.m=fe.getUTCMonth(),F.d=fe.getUTCDate()+(F.w+6)%7):(fe=tb(af(F.y,0,1)),q=fe.getDay(),fe=q>4||q===0?Zg.ceil(fe):Zg(fe),fe=Wp.offset(fe,(F.V-1)*7),F.y=fe.getFullYear(),F.m=fe.getMonth(),F.d=fe.getDate()+(F.w+6)%7)}else("W"in F||"U"in F)&&("w"in F||(F.w="u"in F?F.u%7:"W"in F?1:0),q="Z"in F?nb(af(F.y,0,1)).getUTCDay():tb(af(F.y,0,1)).getDay(),F.m=0,F.d="W"in F?(F.w+6)%7+F.W*7-(q+5)%7:F.w+F.U*7-(q+6)%7);return"Z"in F?(F.H+=F.Z/100|0,F.M+=F.Z%100,nb(F)):tb(F)}}function P(_,R,Z,F){for(var se=0,fe=R.length,q=Z.length,de,Ee;se<fe;){if(F>=q)return-1;if(de=R.charCodeAt(se++),de===37){if(de=R.charAt(se++),Ee=j[de in YM?R.charAt(se++):de],!Ee||(F=Ee(_,Z,F))<0)return-1}else if(de!=Z.charCodeAt(F++))return-1}return F}function B(_,R,Z){var F=u.exec(R.slice(Z));return F?(_.p=d.get(F[0].toLowerCase()),Z+F[0].length):-1}function E(_,R,Z){var F=m.exec(R.slice(Z));return F?(_.w=h.get(F[0].toLowerCase()),Z+F[0].length):-1}function I(_,R,Z){var F=f.exec(R.slice(Z));return F?(_.w=p.get(F[0].toLowerCase()),Z+F[0].length):-1}function O(_,R,Z){var F=y.exec(R.slice(Z));return F?(_.m=x.get(F[0].toLowerCase()),Z+F[0].length):-1}function K(_,R,Z){var F=v.exec(R.slice(Z));return F?(_.m=b.get(F[0].toLowerCase()),Z+F[0].length):-1}function Q(_,R,Z){return P(_,t,R,Z)}function oe(_,R,Z){return P(_,n,R,Z)}function ve(_,R,Z){return P(_,r,R,Z)}function ne(_){return o[_.getDay()]}function H(_){return i[_.getDay()]}function V(_){return l[_.getMonth()]}function k(_){return s[_.getMonth()]}function z(_){return a[+(_.getHours()>=12)]}function T(_){return 1+~~(_.getMonth()/3)}function C(_){return o[_.getUTCDay()]}function $(_){return i[_.getUTCDay()]}function U(_){return l[_.getUTCMonth()]}function J(_){return s[_.getUTCMonth()]}function le(_){return a[+(_.getUTCHours()>=12)]}function G(_){return 1+~~(_.getUTCMonth()/3)}return{format:function(_){var R=N(_+="",w);return R.toString=function(){return _},R},parse:function(_){var R=M(_+="",!1);return R.toString=function(){return _},R},utcFormat:function(_){var R=N(_+="",S);return R.toString=function(){return _},R},utcParse:function(_){var R=M(_+="",!0);return R.toString=function(){return _},R}}}var YM={"-":"",_:" ",0:"0"},ua=/^\s*\d+/,fG=/^%/,pG=/[\\^$*+?|[\]().{}]/g;function Dn(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function mG(e){return e.replace(pG,"\\$&")}function of(e){return new RegExp("^(?:"+e.map(mG).join("|")+")","i")}function sf(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function hG(e,t,n){var r=ua.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function gG(e,t,n){var r=ua.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function yG(e,t,n){var r=ua.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function vG(e,t,n){var r=ua.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function bG(e,t,n){var r=ua.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function QM(e,t,n){var r=ua.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function XM(e,t,n){var r=ua.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function xG(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function wG(e,t,n){var r=ua.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function kG(e,t,n){var r=ua.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function JM(e,t,n){var r=ua.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function SG(e,t,n){var r=ua.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function ZM(e,t,n){var r=ua.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function NG(e,t,n){var r=ua.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function jG(e,t,n){var r=ua.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function CG(e,t,n){var r=ua.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function MG(e,t,n){var r=ua.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function AG(e,t,n){var r=fG.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function EG(e,t,n){var r=ua.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function DG(e,t,n){var r=ua.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function eA(e,t){return Dn(e.getDate(),t,2)}function PG(e,t){return Dn(e.getHours(),t,2)}function TG(e,t){return Dn(e.getHours()%12||12,t,2)}function OG(e,t){return Dn(1+Wp.count(Rs(e),e),t,3)}function lI(e,t){return Dn(e.getMilliseconds(),t,3)}function IG(e,t){return lI(e,t)+"000"}function _G(e,t){return Dn(e.getMonth()+1,t,2)}function LG(e,t){return Dn(e.getMinutes(),t,2)}function FG(e,t){return Dn(e.getSeconds(),t,2)}function $G(e){var t=e.getDay();return t===0?7:t}function RG(e,t){return Dn(My.count(Rs(e)-1,e),t,2)}function cI(e){var t=e.getDay();return t>=4||t===0?hd(e):hd.ceil(e)}function BG(e,t){return e=cI(e),Dn(hd.count(Rs(e),e)+(Rs(e).getDay()===4),t,2)}function zG(e){return e.getDay()}function UG(e,t){return Dn(Zg.count(Rs(e)-1,e),t,2)}function VG(e,t){return Dn(e.getFullYear()%100,t,2)}function WG(e,t){return e=cI(e),Dn(e.getFullYear()%100,t,2)}function HG(e,t){return Dn(e.getFullYear()%1e4,t,4)}function qG(e,t){var n=e.getDay();return e=n>=4||n===0?hd(e):hd.ceil(e),Dn(e.getFullYear()%1e4,t,4)}function KG(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Dn(t/60|0,"0",2)+Dn(t%60,"0",2)}function tA(e,t){return Dn(e.getUTCDate(),t,2)}function GG(e,t){return Dn(e.getUTCHours(),t,2)}function YG(e,t){return Dn(e.getUTCHours()%12||12,t,2)}function QG(e,t){return Dn(1+Cy.count(Bs(e),e),t,3)}function uI(e,t){return Dn(e.getUTCMilliseconds(),t,3)}function XG(e,t){return uI(e,t)+"000"}function JG(e,t){return Dn(e.getUTCMonth()+1,t,2)}function ZG(e,t){return Dn(e.getUTCMinutes(),t,2)}function eY(e,t){return Dn(e.getUTCSeconds(),t,2)}function tY(e){var t=e.getUTCDay();return t===0?7:t}function nY(e,t){return Dn(Ay.count(Bs(e)-1,e),t,2)}function dI(e){var t=e.getUTCDay();return t>=4||t===0?gd(e):gd.ceil(e)}function rY(e,t){return e=dI(e),Dn(gd.count(Bs(e),e)+(Bs(e).getUTCDay()===4),t,2)}function aY(e){return e.getUTCDay()}function iY(e,t){return Dn(e0.count(Bs(e)-1,e),t,2)}function oY(e,t){return Dn(e.getUTCFullYear()%100,t,2)}function sY(e,t){return e=dI(e),Dn(e.getUTCFullYear()%100,t,2)}function lY(e,t){return Dn(e.getUTCFullYear()%1e4,t,4)}function cY(e,t){var n=e.getUTCDay();return e=n>=4||n===0?gd(e):gd.ceil(e),Dn(e.getUTCFullYear()%1e4,t,4)}function uY(){return"+0000"}function nA(){return"%"}function rA(e){return+e}function aA(e){return Math.floor(+e/1e3)}var xu,fI,pI;dY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function dY(e){return xu=dG(e),fI=xu.format,xu.parse,pI=xu.utcFormat,xu.utcParse,xu}function fY(e){return new Date(e)}function pY(e){return e instanceof Date?+e:+new Date(+e)}function mS(e,t,n,r,a,i,o,s,l,u){var d=eS(),f=d.invert,p=d.domain,m=u(".%L"),h=u(":%S"),v=u("%I:%M"),b=u("%I %p"),y=u("%a %d"),x=u("%b %d"),w=u("%B"),S=u("%Y");function j(N){return(l(N)<N?m:s(N)<N?h:o(N)<N?v:i(N)<N?b:r(N)<N?a(N)<N?y:x:n(N)<N?w:S)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?p(Array.from(N,pY)):p().map(fY)},d.ticks=function(N){var M=p();return e(M[0],M[M.length-1],N??10)},d.tickFormat=function(N,M){return M==null?j:u(M)},d.nice=function(N){var M=p();return(!N||typeof N.range!="function")&&(N=t(M[0],M[M.length-1],N??10)),N?p(Z4(M,N)):d},d.copy=function(){return Vp(d,mS(e,t,n,r,a,i,o,s,l,u))},d}function mY(){return ro.apply(mS(cG,uG,Rs,fS,My,Wp,uS,lS,jc,fI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function hY(){return ro.apply(mS(sG,lG,Bs,pS,Ay,Cy,dS,cS,jc,pI).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ey(){var e=0,t=1,n,r,a,i,o=qa,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(a===0?.5:(f=(i(f)-n)*a,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=i(e=+e),r=i(t=+t),a=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(p){var m,h;return arguments.length?([m,h]=p,o=f(m,h),u):[o(0),o(1)]}}return u.range=d(Md),u.rangeRound=d(Zk),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return i=f,n=f(e),r=f(t),a=n===r?0:1/(r-n),u}}function Kl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function mI(){var e=ql(Ey()(qa));return e.copy=function(){return Kl(e,mI())},Ks.apply(e,arguments)}function hI(){var e=rS(Ey()).domain([1,10]);return e.copy=function(){return Kl(e,hI()).base(e.base())},Ks.apply(e,arguments)}function gI(){var e=aS(Ey());return e.copy=function(){return Kl(e,gI()).constant(e.constant())},Ks.apply(e,arguments)}function hS(){var e=iS(Ey());return e.copy=function(){return Kl(e,hS()).exponent(e.exponent())},Ks.apply(e,arguments)}function gY(){return hS.apply(null,arguments).exponent(.5)}function yI(){var e=[],t=qa;function n(r){if(r!=null&&!isNaN(r=+r))return t((zp(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Il),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,i)=>tK(e,i/r))},n.copy=function(){return yI(t).domain(e)},Ks.apply(n,arguments)}function Dy(){var e=0,t=.5,n=1,r=1,a,i,o,s,l,u=qa,d,f=!1,p;function m(v){return isNaN(v=+v)?p:(v=.5+((v=+d(v))-i)*(r*v<r*i?s:l),u(f?Math.max(0,Math.min(1,v)):v))}m.domain=function(v){return arguments.length?([e,t,n]=v,a=d(e=+e),i=d(t=+t),o=d(n=+n),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),r=i<a?-1:1,m):[e,t,n]},m.clamp=function(v){return arguments.length?(f=!!v,m):f},m.interpolator=function(v){return arguments.length?(u=v,m):u};function h(v){return function(b){var y,x,w;return arguments.length?([y,x,w]=b,u=AK(v,[y,x,w]),m):[u(0),u(.5),u(1)]}}return m.range=h(Md),m.rangeRound=h(Zk),m.unknown=function(v){return arguments.length?(p=v,m):p},function(v){return d=v,a=v(e),i=v(t),o=v(n),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),r=i<a?-1:1,m}}function vI(){var e=ql(Dy()(qa));return e.copy=function(){return Kl(e,vI())},Ks.apply(e,arguments)}function bI(){var e=rS(Dy()).domain([.1,1,10]);return e.copy=function(){return Kl(e,bI()).base(e.base())},Ks.apply(e,arguments)}function xI(){var e=aS(Dy());return e.copy=function(){return Kl(e,xI()).constant(e.constant())},Ks.apply(e,arguments)}function gS(){var e=iS(Dy());return e.copy=function(){return Kl(e,gS()).exponent(e.exponent())},Ks.apply(e,arguments)}function yY(){return gS.apply(null,arguments).exponent(.5)}const bf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Qk,scaleDiverging:vI,scaleDivergingLog:bI,scaleDivergingPow:gS,scaleDivergingSqrt:yY,scaleDivergingSymlog:xI,scaleIdentity:J4,scaleImplicit:yw,scaleLinear:X4,scaleLog:eI,scaleOrdinal:Yk,scalePoint:aK,scalePow:oS,scaleQuantile:rI,scaleQuantize:aI,scaleRadial:nI,scaleSequential:mI,scaleSequentialLog:hI,scaleSequentialPow:hS,scaleSequentialQuantile:yI,scaleSequentialSqrt:gY,scaleSequentialSymlog:gI,scaleSqrt:XK,scaleSymlog:tI,scaleThreshold:iI,scaleTime:mY,scaleUtc:hY,tickFormat:Q4},Symbol.toStringTag,{value:"Module"}));var Gl=e=>e.chartData,yS=he([Gl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),vS=(e,t,n,r)=>r?yS(e):Gl(e);function $l(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Wr(t)&&Wr(n))return!0}return!1}function iA(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function wI(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,a,i;if(Wr(n))a=n;else if(typeof n=="function")return;if(Wr(r))i=r;else if(typeof r=="function")return;var o=[a,i];if($l(o))return o}}function vY(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if($l(r))return iA(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,s;if(a==="auto")t!=null&&(o=Math.min(...t));else if(Dt(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&NC.test(a)){var l=NC.exec(a);if(l==null||l[1]==null||t==null)o=void 0;else{var u=+l[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(s=Math.max(...t));else if(Dt(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&jC.test(i)){var d=jC.exec(i);if(d==null||d[1]==null||t==null)s=void 0;else{var f=+d[1];s=t[1]+f}}else s=t==null?void 0:t[1];var p=[o,s];if($l(p))return t==null?p:iA(p,t,n)}}}var Ad=1e9,bY={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},xS,pr=!0,no="[DecimalError] ",Oc=no+"Invalid argument: ",bS=no+"Exponent out of range: ",Ed=Math.floor,hc=Math.pow,xY=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Si,oa=1e7,sr=7,kI=9007199254740991,t0=Ed(kI/sr),jt={};jt.absoluteValue=jt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};jt.comparedTo=jt.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(r=i.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1};jt.decimalPlaces=jt.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*sr;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};jt.dividedBy=jt.div=function(e){return Ms(this,new this.constructor(e))};jt.dividedToIntegerBy=jt.idiv=function(e){var t=this,n=t.constructor;return Yn(Ms(t,new n(e),0,1),n.precision)};jt.equals=jt.eq=function(e){return!this.cmp(e)};jt.exponent=function(){return Vr(this)};jt.greaterThan=jt.gt=function(e){return this.cmp(e)>0};jt.greaterThanOrEqualTo=jt.gte=function(e){return this.cmp(e)>=0};jt.isInteger=jt.isint=function(){return this.e>this.d.length-2};jt.isNegative=jt.isneg=function(){return this.s<0};jt.isPositive=jt.ispos=function(){return this.s>0};jt.isZero=function(){return this.s===0};jt.lessThan=jt.lt=function(e){return this.cmp(e)<0};jt.lessThanOrEqualTo=jt.lte=function(e){return this.cmp(e)<1};jt.logarithm=jt.log=function(e){var t,n=this,r=n.constructor,a=r.precision,i=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Si))throw Error(no+"NaN");if(n.s<1)throw Error(no+(n.s?"NaN":"-Infinity"));return n.eq(Si)?new r(0):(pr=!1,t=Ms(bp(n,i),bp(e,i),i),pr=!0,Yn(t,a))};jt.minus=jt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?jI(t,e):SI(t,(e.s=-e.s,e))};jt.modulo=jt.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(no+"NaN");return n.s?(pr=!1,t=Ms(n,e,0,1).times(e),pr=!0,n.minus(t)):Yn(new r(n),a)};jt.naturalExponential=jt.exp=function(){return NI(this)};jt.naturalLogarithm=jt.ln=function(){return bp(this)};jt.negated=jt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};jt.plus=jt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?SI(t,e):jI(t,(e.s=-e.s,e))};jt.precision=jt.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Oc+e);if(t=Vr(a)+1,r=a.d.length-1,n=r*sr+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};jt.squareRoot=jt.sqrt=function(){var e,t,n,r,a,i,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(no+"NaN")}for(e=Vr(s),pr=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=Yo(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Ed((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(a.toString()),n=l.precision,a=o=n+3;;)if(i=r,r=i.plus(Ms(s,i,o+2)).times(.5),Yo(i.d).slice(0,o)===(t=Yo(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Yn(i,n+1,0),i.times(i).eq(s)){r=i;break}}else if(t!="9999")break;o+=4}return pr=!0,Yn(r,n)};jt.times=jt.mul=function(e){var t,n,r,a,i,o,s,l,u,d=this,f=d.constructor,p=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,l=p.length,u=m.length,l<u&&(i=p,p=m,m=i,o=l,l=u,u=o),i=[],o=l+u,r=o;r--;)i.push(0);for(r=u;--r>=0;){for(t=0,a=l+r;a>r;)s=i[a]+m[r]*p[a-r-1]+t,i[a--]=s%oa|0,t=s/oa|0;i[a]=(i[a]+t)%oa|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,pr?Yn(e,f.precision):e};jt.toDecimalPlaces=jt.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(rs(e,0,Ad),t===void 0?t=r.rounding:rs(t,0,8),Yn(n,e+Vr(n)+1,t))};jt.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=qc(r,!0):(rs(e,0,Ad),t===void 0?t=a.rounding:rs(t,0,8),r=Yn(new a(r),e+1,t),n=qc(r,!0,e+1)),n};jt.toFixed=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?qc(a):(rs(e,0,Ad),t===void 0?t=i.rounding:rs(t,0,8),r=Yn(new i(a),e+Vr(a)+1,t),n=qc(r.abs(),!1,e+Vr(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};jt.toInteger=jt.toint=function(){var e=this,t=e.constructor;return Yn(new t(e),Vr(e)+1,t.rounding)};jt.toNumber=function(){return+this};jt.toPower=jt.pow=function(e){var t,n,r,a,i,o,s=this,l=s.constructor,u=12,d=+(e=new l(e));if(!e.s)return new l(Si);if(s=new l(s),!s.s){if(e.s<1)throw Error(no+"Infinity");return s}if(s.eq(Si))return s;if(r=l.precision,e.eq(Si))return Yn(s,r);if(t=e.e,n=e.d.length-1,o=t>=n,i=s.s,o){if((n=d<0?-d:d)<=kI){for(a=new l(Si),t=Math.ceil(r/sr+4),pr=!1;n%2&&(a=a.times(s),sA(a.d,t)),n=Ed(n/2),n!==0;)s=s.times(s),sA(s.d,t);return pr=!0,e.s<0?new l(Si).div(a):Yn(a,r)}}else if(i<0)throw Error(no+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,pr=!1,a=e.times(bp(s,r+u)),pr=!0,a=NI(a),a.s=i,a};jt.toPrecision=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?(n=Vr(a),r=qc(a,n<=i.toExpNeg||n>=i.toExpPos)):(rs(e,1,Ad),t===void 0?t=i.rounding:rs(t,0,8),a=Yn(new i(a),e,t),n=Vr(a),r=qc(a,e<=n||n<=i.toExpNeg,e)),r};jt.toSignificantDigits=jt.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(rs(e,1,Ad),t===void 0?t=r.rounding:rs(t,0,8)),Yn(new r(n),e,t)};jt.toString=jt.valueOf=jt.val=jt.toJSON=jt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Vr(e),n=e.constructor;return qc(e,t<=n.toExpNeg||t>=n.toExpPos)};function SI(e,t){var n,r,a,i,o,s,l,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),pr?Yn(t,f):t;if(l=e.d,u=t.d,o=e.e,a=t.e,l=l.slice(),i=o-a,i){for(i<0?(r=l,i=-i,s=u.length):(r=u,a=o,s=l.length),o=Math.ceil(f/sr),s=o>s?o+1:s+1,i>s&&(i=s,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(s=l.length,i=u.length,s-i<0&&(i=s,r=u,u=l,l=r),n=0;i;)n=(l[--i]=l[i]+u[i]+n)/oa|0,l[i]%=oa;for(n&&(l.unshift(n),++a),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=a,pr?Yn(t,f):t}function rs(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Oc+e)}function Yo(e){var t,n,r,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)r=e[t]+"",n=sr-r.length,n&&(i+=ml(n)),i+=r;o=e[t],r=o+"",n=sr-r.length,n&&(i+=ml(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Ms=function(){function e(r,a){var i,o=0,s=r.length;for(r=r.slice();s--;)i=r[s]*a+o,r[s]=i%oa|0,o=i/oa|0;return o&&r.unshift(o),r}function t(r,a,i,o){var s,l;if(i!=o)l=i>o?1:-1;else for(s=l=0;s<i;s++)if(r[s]!=a[s]){l=r[s]>a[s]?1:-1;break}return l}function n(r,a,i){for(var o=0;i--;)r[i]-=o,o=r[i]<a[i]?1:0,r[i]=o*oa+r[i]-a[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,i,o){var s,l,u,d,f,p,m,h,v,b,y,x,w,S,j,N,M,P,B=r.constructor,E=r.s==a.s?1:-1,I=r.d,O=a.d;if(!r.s)return new B(r);if(!a.s)throw Error(no+"Division by zero");for(l=r.e-a.e,M=O.length,j=I.length,m=new B(E),h=m.d=[],u=0;O[u]==(I[u]||0);)++u;if(O[u]>(I[u]||0)&&--l,i==null?x=i=B.precision:o?x=i+(Vr(r)-Vr(a))+1:x=i,x<0)return new B(0);if(x=x/sr+2|0,u=0,M==1)for(d=0,O=O[0],x++;(u<j||d)&&x--;u++)w=d*oa+(I[u]||0),h[u]=w/O|0,d=w%O|0;else{for(d=oa/(O[0]+1)|0,d>1&&(O=e(O,d),I=e(I,d),M=O.length,j=I.length),S=M,v=I.slice(0,M),b=v.length;b<M;)v[b++]=0;P=O.slice(),P.unshift(0),N=O[0],O[1]>=oa/2&&++N;do d=0,s=t(O,v,M,b),s<0?(y=v[0],M!=b&&(y=y*oa+(v[1]||0)),d=y/N|0,d>1?(d>=oa&&(d=oa-1),f=e(O,d),p=f.length,b=v.length,s=t(f,v,p,b),s==1&&(d--,n(f,M<p?P:O,p))):(d==0&&(s=d=1),f=O.slice()),p=f.length,p<b&&f.unshift(0),n(v,f,b),s==-1&&(b=v.length,s=t(O,v,M,b),s<1&&(d++,n(v,M<b?P:O,b))),b=v.length):s===0&&(d++,v=[0]),h[u++]=d,s&&v[0]?v[b++]=I[S]||0:(v=[I[S]],b=1);while((S++<j||v[0]!==void 0)&&x--)}return h[0]||h.shift(),m.e=l,Yn(m,o?i+Vr(m)+1:i)}}();function NI(e,t){var n,r,a,i,o,s,l=0,u=0,d=e.constructor,f=d.precision;if(Vr(e)>16)throw Error(bS+Vr(e));if(!e.s)return new d(Si);for(pr=!1,s=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(r=Math.log(hc(2,u))/Math.LN10*2+5|0,s+=r,n=a=i=new d(Si),d.precision=s;;){if(a=Yn(a.times(e),s),n=n.times(++l),o=i.plus(Ms(a,n,s)),Yo(o.d).slice(0,s)===Yo(i.d).slice(0,s)){for(;u--;)i=Yn(i.times(i),s);return d.precision=f,t==null?(pr=!0,Yn(i,f)):i}i=o}}function Vr(e){for(var t=e.e*sr,n=e.d[0];n>=10;n/=10)t++;return t}function rb(e,t,n){if(t>e.LN10.sd())throw pr=!0,n&&(e.precision=n),Error(no+"LN10 precision limit exceeded");return Yn(new e(e.LN10),t)}function ml(e){for(var t="";e--;)t+="0";return t}function bp(e,t){var n,r,a,i,o,s,l,u,d,f=1,p=10,m=e,h=m.d,v=m.constructor,b=v.precision;if(m.s<1)throw Error(no+(m.s?"NaN":"-Infinity"));if(m.eq(Si))return new v(0);if(t==null?(pr=!1,u=b):u=t,m.eq(10))return t==null&&(pr=!0),rb(v,u);if(u+=p,v.precision=u,n=Yo(h),r=n.charAt(0),i=Vr(m),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=Yo(m.d),r=n.charAt(0),f++;i=Vr(m),r>1?(m=new v("0."+n),i++):m=new v(r+"."+n.slice(1))}else return l=rb(v,u+2,b).times(i+""),m=bp(new v(r+"."+n.slice(1)),u-p).plus(l),v.precision=b,t==null?(pr=!0,Yn(m,b)):m;for(s=o=m=Ms(m.minus(Si),m.plus(Si),u),d=Yn(m.times(m),u),a=3;;){if(o=Yn(o.times(d),u),l=s.plus(Ms(o,new v(a),u)),Yo(l.d).slice(0,u)===Yo(s.d).slice(0,u))return s=s.times(2),i!==0&&(s=s.plus(rb(v,u+2,b).times(i+""))),s=Ms(s,new v(f),u),v.precision=b,t==null?(pr=!0,Yn(s,b)):s;s=l,a+=2}}function oA(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=Ed(n/sr),e.d=[],r=(n+1)%sr,n<0&&(r+=sr),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=sr;r<a;)e.d.push(+t.slice(r,r+=sr));t=t.slice(r),r=sr-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),pr&&(e.e>t0||e.e<-t0))throw Error(bS+n)}else e.s=0,e.e=0,e.d=[0];return e}function Yn(e,t,n){var r,a,i,o,s,l,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(r=t-o,r<0)r+=sr,a=t,u=f[d=0];else{if(d=Math.ceil((r+1)/sr),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;r%=sr,a=r-sr+o}if(n!==void 0&&(i=hc(10,o-a-1),s=u/i%10|0,l=t<0||f[d+1]!==void 0||u%i,l=n<4?(s||l)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?a>0?u/hc(10,o-a):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(i=Vr(e),f.length=1,t=t-i-1,f[0]=hc(10,(sr-t%sr)%sr),e.e=Ed(-t/sr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,i=1,d--):(f.length=d+1,i=hc(10,sr-r),f[d]=a>0?(u/hc(10,o-a)%hc(10,a)|0)*i:0),l)for(;;)if(d==0){(f[0]+=i)==oa&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=oa)break;f[d--]=0,i=1}for(r=f.length;f[--r]===0;)f.pop();if(pr&&(e.e>t0||e.e<-t0))throw Error(bS+Vr(e));return e}function jI(e,t){var n,r,a,i,o,s,l,u,d,f,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),pr?Yn(t,m):t;if(l=e.d,f=t.d,r=t.e,u=e.e,l=l.slice(),o=u-r,o){for(d=o<0,d?(n=l,o=-o,s=f.length):(n=f,r=u,s=l.length),a=Math.max(Math.ceil(m/sr),s)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=l.length,s=f.length,d=a<s,d&&(s=a),a=0;a<s;a++)if(l[a]!=f[a]){d=l[a]<f[a];break}o=0}for(d&&(n=l,l=f,f=n,t.s=-t.s),s=l.length,a=f.length-s;a>0;--a)l[s++]=0;for(a=f.length;a>o;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=oa-1;--l[i],l[a]+=oa}l[a]-=f[a]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,pr?Yn(t,m):t):new p(0)}function qc(e,t,n){var r,a=Vr(e),i=Yo(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+ml(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+ml(-a-1)+i,n&&(r=n-o)>0&&(i+=ml(r))):a>=o?(i+=ml(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+ml(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=ml(r))),e.s<0?"-"+i:i}function sA(e,t){if(e.length>t)return e.length=t,!0}function CI(e){var t,n,r;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Oc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return oA(o,i.toString())}else if(typeof i!="string")throw Error(Oc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,xY.test(i))oA(o,i);else throw Error(Oc+i)}if(a.prototype=jt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=CI,a.config=a.set=wY,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function wY(e){if(!e||typeof e!="object")throw Error(no+"Object expected");var t,n,r,a=["precision",1,Ad,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(Ed(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(Oc+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Oc+n+": "+r);return this}var xS=CI(bY);Si=new xS(1);const Fn=xS;var kY=e=>e,MI={},AI=e=>e===MI,lA=e=>function t(){return arguments.length===0||arguments.length===1&&AI(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},EI=(e,t)=>e===1?t:lA(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=r.filter(o=>o!==MI).length;return i>=e?t(...r):EI(e-i,lA(function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];var u=r.map(d=>AI(d)?s.shift():d);return t(...u,...s)}))}),SY=e=>EI(e.length,e),ww=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},NY=SY((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),jY=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return kY;var r=t.reverse(),a=r[0],i=r.slice(1);return function(){return i.reduce((o,s)=>s(o),a(...arguments))}};function DI(e){var t;return e===0?t=1:t=Math.floor(new Fn(e).abs().log(10).toNumber())+1,t}function PI(e,t,n){for(var r=new Fn(e),a=0,i=[];r.lt(t)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}var TI=e=>{var[t,n]=e,[r,a]=[t,n];return t>n&&([r,a]=[n,t]),[r,a]},OI=(e,t,n)=>{if(e.lte(0))return new Fn(0);var r=DI(e.toNumber()),a=new Fn(10).pow(r),i=e.div(a),o=r!==1?.05:.1,s=new Fn(Math.ceil(i.div(o).toNumber())).add(n).mul(o),l=s.mul(a);return t?new Fn(l.toNumber()):new Fn(Math.ceil(l.toNumber()))},CY=(e,t,n)=>{var r=new Fn(1),a=new Fn(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(r=new Fn(10).pow(DI(e)-1),a=new Fn(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new Fn(Math.floor(e)))}else e===0?a=new Fn(Math.floor((t-1)/2)):n||(a=new Fn(Math.floor(e)));var o=Math.floor((t-1)/2),s=jY(NY(l=>a.add(new Fn(l-o).mul(r)).toNumber()),ww);return s(0,t)},II=function(e,t,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Fn(0),tickMin:new Fn(0),tickMax:new Fn(0)};var i=OI(new Fn(t).sub(e).div(n-1),r,a),o;e<=0&&t>=0?o=new Fn(0):(o=new Fn(e).add(t).div(2),o=o.sub(new Fn(o).mod(i)));var s=Math.ceil(o.sub(e).div(i).toNumber()),l=Math.ceil(new Fn(t).sub(o).div(i).toNumber()),u=s+l+1;return u>n?II(e,t,n,r,a+1):(u<n&&(l=t>0?l+(n-u):l,s=t>0?s:s+(n-u)),{step:i,tickMin:o.sub(new Fn(s).mul(i)),tickMax:o.add(new Fn(l).mul(i))})},MY=function(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(r,2),[o,s]=TI([t,n]);if(o===-1/0||s===1/0){var l=s===1/0?[o,...ww(0,r-1).map(()=>1/0)]:[...ww(0,r-1).map(()=>-1/0),s];return t>n?l.reverse():l}if(o===s)return CY(o,r,a);var{step:u,tickMin:d,tickMax:f}=II(o,s,i,a,0),p=PI(d,f.add(new Fn(.1).mul(u)),u);return t>n?p.reverse():p},AY=function(e,t){var[n,r]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=TI([n,r]);if(i===-1/0||o===1/0)return[n,r];if(i===o)return[i];var s=Math.max(t,2),l=OI(new Fn(o).sub(i).div(s-1),a,0),u=[...PI(new Fn(i),new Fn(o),l),o];return a===!1&&(u=u.map(d=>Math.round(d))),n>r?u.reverse():u},EY=e=>e.rootProps.barCategoryGap,Hp=e=>e.rootProps.stackOffset,_I=e=>e.rootProps.reverseStackOrder,wS=e=>e.options.chartName,kS=e=>e.rootProps.syncId,LI=e=>e.rootProps.syncMethod,SS=e=>e.options.eventEmitter,ka={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},vs={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ki={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Py=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},DY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:vs.angleAxisId,includeHidden:!1,name:void 0,reversed:vs.reversed,scale:vs.scale,tick:vs.tick,tickCount:void 0,ticks:void 0,type:vs.type,unit:void 0},PY={allowDataOverflow:ki.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ki.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ki.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ki.scale,tick:ki.tick,tickCount:ki.tickCount,ticks:void 0,type:ki.type,unit:void 0},TY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:vs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:vs.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:vs.scale,tick:vs.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},OY={allowDataOverflow:ki.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ki.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ki.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ki.scale,tick:ki.tick,tickCount:ki.tickCount,ticks:void 0,type:"category",unit:void 0},NS=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?TY:DY,jS=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?OY:PY,Ty=e=>e.polarOptions,CS=he([Hs,qs,ca],I4),FI=he([Ty,CS],(e,t)=>{if(e!=null)return Xi(e.innerRadius,t,0)}),$I=he([Ty,CS],(e,t)=>{if(e!=null)return Xi(e.outerRadius,t,t*.8)}),IY=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},RI=he([Ty],IY);he([NS,RI],Py);var BI=he([CS,FI,$I],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});he([jS,BI],Py);var zI=he([Wn,Ty,FI,$I,Hs,qs],(e,t,n,r,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:s,startAngle:l,endAngle:u}=t;return{cx:Xi(o,a,a/2),cy:Xi(s,i,i/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}}),mr=(e,t)=>t,qp=(e,t,n)=>n;function UI(e){return e==null?void 0:e.id}function VI(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=n,o=new Map;return e.forEach(s=>{var l,u=(l=s.data)!==null&&l!==void 0?l:r;if(!(u==null||u.length===0)){var d=UI(s);u.forEach((f,p)=>{var m=i==null||a?p:String(cr(f,i,null)),h=cr(f,s.dataKey,0),v;o.has(m)?v=o.get(m):v={},Object.assign(v,{[d]:h}),o.set(m,v)})}}),Array.from(o.values())}function MS(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Oy=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Iy(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function _Y(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var ta=e=>{var t=Wn(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Dd=e=>e.tooltip.settings.axisId;function cA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function n0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cA(Object(n),!0).forEach(function(r){LY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LY(e,t,n){return(t=FY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FY(e){var t=$Y(e,"string");return typeof t=="symbol"?t:t+""}function $Y(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kw=[0,"auto"],aa={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},WI=(e,t)=>e.cartesianAxis.xAxis[t],Gs=(e,t)=>{var n=WI(e,t);return n??aa},ia={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:kw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:$p},HI=(e,t)=>e.cartesianAxis.yAxis[t],Ys=(e,t)=>{var n=HI(e,t);return n??ia},RY={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},AS=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??RY},Nr=(e,t,n)=>{switch(t){case"xAxis":return Gs(e,n);case"yAxis":return Ys(e,n);case"zAxis":return AS(e,n);case"angleAxis":return NS(e,n);case"radiusAxis":return jS(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},BY=(e,t,n)=>{switch(t){case"xAxis":return Gs(e,n);case"yAxis":return Ys(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Kp=(e,t,n)=>{switch(t){case"xAxis":return Gs(e,n);case"yAxis":return Ys(e,n);case"angleAxis":return NS(e,n);case"radiusAxis":return jS(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},qI=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function ES(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var KI=e=>e.graphicalItems.cartesianItems,zY=he([mr,qp],ES),DS=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Gp=he([KI,Nr,zY],DS,{memoizeOptions:{resultEqualityCheck:Iy}}),GI=he([Gp],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(MS)),YI=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),UY=he([Gp],YI),PS=e=>e.map(t=>t.data).filter(Boolean).flat(1),VY=he([Gp],PS,{memoizeOptions:{resultEqualityCheck:Iy}}),TS=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=t;return e.length>0?e:n.slice(r,a+1)},OS=he([VY,vS],TS),IS=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:cr(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(a=>({value:cr(a,r)}))):e.map(r=>({value:r})),_y=he([OS,Nr,Gp],IS);function QI(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Rh(e){if(ts(e)||e instanceof Date){var t=Number(e);if(Wr(t))return t}}function uA(e){if(Array.isArray(e)){var t=[Rh(e[0]),Rh(e[1])];return $l(t)?t:void 0}var n=Rh(e);if(n!=null)return[n,n]}function zs(e){return e.map(Rh).filter(i7)}function WY(e,t,n){return!n||typeof t!="number"||es(t)?[]:n.length?zs(n.flatMap(r=>{var a=cr(e,r.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!Wr(i)||!Wr(o)))return[t-i,t+o]})):[]}var na=e=>{var t=ta(e),n=Dd(e);return Kp(e,t,n)},Yp=he([na],e=>e==null?void 0:e.dataKey),HY=he([GI,vS,na],VI),XI=(e,t,n,r)=>{var a={},i=t.reduce((o,s)=>{if(s.stackId==null)return o;var l=o[s.stackId];return l==null&&(l=[]),l.push(s),o[s.stackId]=l,o},a);return Object.fromEntries(Object.entries(i).map(o=>{var[s,l]=o,u=r?[...l].reverse():l,d=u.map(UI);return[s,{stackedData:wW(e,d,n),graphicalItems:u}]}))},qY=he([HY,GI,Hp,_I],XI),JI=(e,t,n,r)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(r==null&&n!=="zAxis"){var o=NW(e,a,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},KY=he([Nr],e=>e.allowDataOverflow),_S=e=>{var t;if(e==null||!("domain"in e))return kw;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=zs(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:kw},LS=he([Nr],_S),FS=he([LS,KY],wI),GY=he([qY,Gl,mr,FS],JI,{memoizeOptions:{resultEqualityCheck:Oy}}),Ly=e=>e.errorBars,YY=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>QI(n,r)),r0=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);if(r.length!==0){var a=r.flat(),i=Math.min(...a),o=Math.max(...a);return[i,o]}},$S=(e,t,n,r,a)=>{var i,o;if(n.length>0&&e.forEach(s=>{n.forEach(l=>{var u,d,f=(u=r[l.id])===null||u===void 0?void 0:u.filter(y=>QI(a,y)),p=cr(s,(d=t.dataKey)!==null&&d!==void 0?d:l.dataKey),m=WY(s,p,f);if(m.length>=2){var h=Math.min(...m),v=Math.max(...m);(i==null||h<i)&&(i=h),(o==null||v>o)&&(o=v)}var b=uA(p);b!=null&&(i=i==null?b[0]:Math.min(i,b[0]),o=o==null?b[1]:Math.max(o,b[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(s=>{var l=uA(cr(s,t.dataKey));l!=null&&(i=i==null?l[0]:Math.min(i,l[0]),o=o==null?l[1]:Math.max(o,l[1]))}),Wr(i)&&Wr(o))return[i,o]},QY=he([OS,Nr,UY,Ly,mr],$S,{memoizeOptions:{resultEqualityCheck:Oy}});function XY(e){var{value:t}=e;if(ts(t)||t instanceof Date)return t}var JY=(e,t,n)=>{var r=e.map(XY).filter(a=>a!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&q3(r))?z4(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},ZI=e=>e.referenceElements.dots,Pd=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),ZY=he([ZI,mr,qp],Pd),e_=e=>e.referenceElements.areas,eQ=he([e_,mr,qp],Pd),t_=e=>e.referenceElements.lines,tQ=he([t_,mr,qp],Pd),n_=(e,t)=>{if(e!=null){var n=zs(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},nQ=he(ZY,mr,n_),r_=(e,t)=>{if(e!=null){var n=zs(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},rQ=he([eQ,mr],r_);function aQ(e){var t;if(e.x!=null)return zs([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:zs(n)}function iQ(e){var t;if(e.y!=null)return zs([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:zs(n)}var a_=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?aQ(r):iQ(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},oQ=he([tQ,mr],a_),sQ=he(nQ,oQ,rQ,(e,t,n)=>r0(e,n,t)),RS=(e,t,n,r,a,i,o,s)=>{if(n!=null)return n;var l=o==="vertical"&&s==="xAxis"||o==="horizontal"&&s==="yAxis",u=l?r0(r,i,a):r0(i,a);return vY(t,u,e.allowDataOverflow)},lQ=he([Nr,LS,FS,GY,QY,sQ,Wn,mr],RS,{memoizeOptions:{resultEqualityCheck:Oy}}),cQ=[0,1],BS=(e,t,n,r,a,i,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:s,type:l}=e,u=Hl(t,i);if(u&&s==null){var d;return z4(0,(d=n==null?void 0:n.length)!==null&&d!==void 0?d:0)}return l==="category"?JY(r,e,u):a==="expand"?cQ:o}},zS=he([Nr,Wn,OS,_y,Hp,mr,lQ],BS),i_=(e,t,n,r,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var s="scale".concat(Ip(i));return s in bf?s:"point"}}},Td=he([Nr,Wn,qI,wS,mr],i_);function uQ(e){if(e!=null){if(e in bf)return bf[e]();var t="scale".concat(Ip(e));if(t in bf)return bf[t]()}}function US(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var a=uQ(t);if(a!=null){var i=a.domain(n).range(r);return yW(i),i}}}var VS=(e,t,n)=>{var r=_S(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&$l(e))return MY(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&$l(e))return AY(e,t.tickCount,t.allowDecimals)}},WS=he([zS,Kp,Td],VS),HS=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&$l(t)&&Array.isArray(n)&&n.length>0){var a=t[0],i=n[0],o=t[1],s=n[n.length-1];return[Math.min(a,i),Math.max(o,s)]}return t},dQ=he([Nr,zS,WS,mr],HS),fQ=he(_y,Nr,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(zs(e.map(f=>f.value))).sort((f,p)=>f-p),a=r[0],i=r[r.length-1];if(a==null||i==null)return 1/0;var o=i-a;if(o===0)return 1/0;for(var s=0;s<r.length-1;s++){var l=r[s],u=r[s+1];if(!(l==null||u==null)){var d=u-l;n=Math.min(n,d)}}return n/o}}),o_=he(fQ,Wn,EY,ca,(e,t,n,r,a)=>a,(e,t,n,r,a)=>{if(!Wr(e))return 0;var i=t==="vertical"?r.height:r.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=Xi(n,e*i),s=e*i/2;return s-o-(s-o)/i*o}return 0}),pQ=(e,t,n)=>{var r=Gs(e,t);return r==null||typeof r.padding!="string"?0:o_(e,"xAxis",t,n,r.padding)},mQ=(e,t,n)=>{var r=Ys(e,t);return r==null||typeof r.padding!="string"?0:o_(e,"yAxis",t,n,r.padding)},hQ=he(Gs,pQ,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((n=a.left)!==null&&n!==void 0?n:0)+t,right:((r=a.right)!==null&&r!==void 0?r:0)+t}}),gQ=he(Ys,mQ,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((n=a.top)!==null&&n!==void 0?n:0)+t,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+t}}),yQ=he([ca,hQ,gy,hy,(e,t,n)=>n],(e,t,n,r,a)=>{var{padding:i}=r;return a?[i.left,n.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),vQ=he([ca,Wn,gQ,gy,hy,(e,t,n)=>n],(e,t,n,r,a,i)=>{var{padding:o}=a;return i?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Qp=(e,t,n,r)=>{var a;switch(t){case"xAxis":return yQ(e,n,r);case"yAxis":return vQ(e,n,r);case"zAxis":return(a=AS(e,n))===null||a===void 0?void 0:a.range;case"angleAxis":return RI(e);case"radiusAxis":return BI(e,n);default:return}},s_=he([Nr,Qp],Py),Fy=he([Nr,Td,dQ,s_],US);he([Gp,Ly,mr],YY);function l_(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var $y=(e,t)=>t,Ry=(e,t,n)=>n,bQ=he(py,$y,Ry,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(l_)),xQ=he(my,$y,Ry,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(l_)),c_=(e,t)=>({width:e.width,height:t.height}),wQ=(e,t)=>{var n=typeof t.width=="number"?t.width:$p;return{width:n,height:e.height}},kQ=he(ca,Gs,c_),SQ=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},NQ=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},jQ=he(qs,ca,bQ,$y,Ry,(e,t,n,r,a)=>{var i={},o;return n.forEach(s=>{var l=c_(t,s);o==null&&(o=SQ(t,r,e));var u=r==="top"&&!a||r==="bottom"&&a;i[s.id]=o-Number(u)*l.height,o+=(u?-1:1)*l.height}),i}),CQ=he(Hs,ca,xQ,$y,Ry,(e,t,n,r,a)=>{var i={},o;return n.forEach(s=>{var l=wQ(t,s);o==null&&(o=NQ(t,r,e));var u=r==="left"&&!a||r==="right"&&a;i[s.id]=o-Number(u)*l.width,o+=(u?-1:1)*l.width}),i}),MQ=(e,t)=>{var n=Gs(e,t);if(n!=null)return jQ(e,n.orientation,n.mirror)},AQ=he([ca,Gs,MQ,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n==null?void 0:n[r];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),EQ=(e,t)=>{var n=Ys(e,t);if(n!=null)return CQ(e,n.orientation,n.mirror)},DQ=he([ca,Ys,EQ,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n==null?void 0:n[r];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),PQ=he(ca,Ys,(e,t)=>{var n=typeof t.width=="number"?t.width:$p;return{width:n,height:e.height}}),u_=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=n,s=Hl(e,r),l=t.map(u=>u.value);if(o&&s&&i==="category"&&a&&q3(l))return l}},qS=he([Wn,_y,Nr,mr],u_),d_=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:i}=n,o=Hl(e,r);if(o&&(a==="number"||i!=="auto"))return t.map(s=>s.value)}},KS=he([Wn,_y,Kp,mr],d_),dA=he([Wn,BY,Td,Fy,qS,KS,Qp,WS,mr],(e,t,n,r,a,i,o,s,l)=>{if(t!=null){var u=Hl(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:i,duplicateDomain:a,isCategorical:u,niceTicks:s,range:o,realScaleType:n,scale:r}}}),TQ=(e,t,n,r,a,i,o,s,l)=>{if(!(t==null||r==null)){var u=Hl(e,l),{type:d,ticks:f,tickCount:p}=t,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,h=d==="category"&&r.bandwidth?r.bandwidth()/m:0;h=l==="angleAxis"&&i!=null&&i.length>=2?La(i[0]-i[1])*2*h:h;var v=f||a;if(v){var b=v.map((y,x)=>{var w=o?o.indexOf(y):y;return{index:x,coordinate:r(w)+h,value:y,offset:h}});return b.filter(y=>Wr(y.coordinate))}return u&&s?s.map((y,x)=>({coordinate:r(y)+h,value:y,index:x,offset:h})).filter(y=>Wr(y.coordinate)):r.ticks?r.ticks(p).map(y=>({coordinate:r(y)+h,value:y,offset:h})):r.domain().map((y,x)=>({coordinate:r(y)+h,value:o?o[y]:y,index:x,offset:h}))}},f_=he([Wn,Kp,Td,Fy,WS,Qp,qS,KS,mr],TQ),OQ=(e,t,n,r,a,i,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var s=Hl(e,o),{tickCount:l}=t,u=0;return u=o==="angleAxis"&&(r==null?void 0:r.length)>=2?La(r[0]-r[1])*2*u:u,s&&i?i.map((d,f)=>({coordinate:n(d)+u,value:d,index:f,offset:u})):n.ticks?n.ticks(l).map(d=>({coordinate:n(d)+u,value:d,offset:u})):n.domain().map((d,f)=>({coordinate:n(d)+u,value:a?a[d]:d,index:f,offset:u}))}},p_=he([Wn,Kp,Fy,Qp,qS,KS,mr],OQ),m_=he(Nr,Fy,(e,t)=>{if(!(e==null||t==null))return n0(n0({},e),{},{scale:t})}),IQ=he([Nr,Td,zS,s_],US);he((e,t,n)=>AS(e,n),IQ,(e,t)=>{if(!(e==null||t==null))return n0(n0({},e),{},{scale:t})});var _Q=he([Wn,py,my],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),h_=e=>e.options.defaultTooltipEventType,g_=e=>e.options.validateTooltipEventTypes;function y_(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function GS(e,t){var n=h_(e),r=g_(e);return y_(t,n,r)}function LQ(e){return Et(t=>GS(t,e))}var v_=(e,t)=>{var n,r=Number(t);if(!(es(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},FQ=e=>e.tooltip.settings,bl={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},$Q={itemInteraction:{click:bl,hover:bl},axisInteraction:{click:bl,hover:bl},keyboardInteraction:bl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},b_=ui({name:"tooltip",initialState:$Q,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:dr()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,a=bo(e).tooltipItemPayloads.indexOf(n);a>-1&&(e.tooltipItemPayloads[a]=r)},prepare:dr()},removeTooltipEntrySettings:{reducer(e,t){var n=bo(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:dr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:RQ,replaceTooltipEntrySettings:BQ,removeTooltipEntrySettings:zQ,setTooltipSettingsState:UQ,setActiveMouseOverItemIndex:x_,mouseLeaveItem:VQ,mouseLeaveChart:w_,setActiveClickItemIndex:WQ,setMouseOverAxisIndex:k_,setMouseClickAxisIndex:HQ,setSyncInteraction:Sw,setKeyboardInteraction:Nw}=b_.actions,qQ=b_.reducer;function fA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function uh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fA(Object(n),!0).forEach(function(r){KQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KQ(e,t,n){return(t=GQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GQ(e){var t=YQ(e,"string");return typeof t=="symbol"?t:t+""}function YQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QQ(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function XQ(e){return e.index!=null}var S_=(e,t,n,r)=>{if(t==null)return bl;var a=QQ(e,t,n);if(a==null)return bl;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(XQ(a)){if(i)return uh(uh({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return uh(uh({},bl),{},{coordinate:a.coordinate})};function JQ(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function ZQ(e,t){var n=JQ(e),r=t[0],a=t[1];if(n===void 0)return!1;var i=Math.min(r,a),o=Math.max(r,a);return n>=i&&n<=o}function eX(e,t,n){if(n==null||t==null)return!0;var r=cr(e,t);return r==null||!$l(n)?!0:ZQ(r,n)}var YS=(e,t,n,r)=>{var a=e==null?void 0:e.index;if(a==null)return null;var i=Number(a);if(!Wr(i))return a;var o=0,s=1/0;t.length>0&&(s=t.length-1);var l=Math.max(o,Math.min(i,s)),u=t[l];return u==null||eX(u,n,r)?String(l):null},N_=(e,t,n,r,a,i,o,s)=>{if(!(i==null||s==null)){var l=o[0],u=l==null?void 0:s(l.positions,i);if(u!=null)return u;var d=a==null?void 0:a[Number(i)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:d.coordinate}}}},j_=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(n==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&r!=null){var i=e.tooltipItemPayloads[0];return i!=null?[i]:[]}return e.tooltipItemPayloads.filter(o=>{var s;return((s=o.settings)===null||s===void 0?void 0:s.graphicalItemId)===a})},Xp=e=>e.options.tooltipPayloadSearcher,Od=e=>e.tooltip;function pA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function mA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pA(Object(n),!0).forEach(function(r){tX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tX(e,t,n){return(t=nX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nX(e){var t=rX(e,"string");return typeof t=="symbol"?t:t+""}function rX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aX(e,t){return e??t}var C_=(e,t,n,r,a,i,o)=>{if(!(t==null||i==null)){var{chartData:s,computedData:l,dataStartIndex:u,dataEndIndex:d}=n,f=[];return e.reduce((p,m)=>{var h,{dataDefinedOnItem:v,settings:b}=m,y=aX(v,s),x=Array.isArray(y)?n4(y,u,d):y,w=(h=b==null?void 0:b.dataKey)!==null&&h!==void 0?h:r,S=b==null?void 0:b.nameKey,j;if(r&&Array.isArray(x)&&!Array.isArray(x[0])&&o==="axis"?j=K3(x,r,a):j=i(x,t,l,S),Array.isArray(j))j.forEach(M=>{var P=mA(mA({},b),{},{name:M.name,unit:M.unit,color:void 0,fill:void 0});p.push(CC({tooltipEntrySettings:P,dataKey:M.dataKey,payload:M.payload,value:cr(M.payload,M.dataKey),name:M.name}))});else{var N;p.push(CC({tooltipEntrySettings:b,dataKey:w,payload:j,value:cr(j,w),name:(N=cr(j,S))!==null&&N!==void 0?N:b==null?void 0:b.name}))}return p},f)}},QS=he([na,Wn,qI,wS,ta],i_),iX=he([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),oX=he([ta,Dd],ES),Id=he([iX,na,oX],DS,{memoizeOptions:{resultEqualityCheck:Iy}}),sX=he([Id],e=>e.filter(MS)),lX=he([Id],PS,{memoizeOptions:{resultEqualityCheck:Iy}}),_d=he([lX,Gl],TS),cX=he([sX,Gl,na],VI),XS=he([_d,na,Id],IS),M_=he([na],_S),uX=he([na],e=>e.allowDataOverflow),A_=he([M_,uX],wI),dX=he([Id],e=>e.filter(MS)),fX=he([cX,dX,Hp,_I],XI),pX=he([fX,Gl,ta,A_],JI),mX=he([Id],YI),hX=he([_d,na,mX,Ly,ta],$S,{memoizeOptions:{resultEqualityCheck:Oy}}),gX=he([ZI,ta,Dd],Pd),yX=he([gX,ta],n_),vX=he([e_,ta,Dd],Pd),bX=he([vX,ta],r_),xX=he([t_,ta,Dd],Pd),wX=he([xX,ta],a_),kX=he([yX,wX,bX],r0),SX=he([na,M_,A_,pX,hX,kX,Wn,ta],RS),Jp=he([na,Wn,_d,XS,Hp,ta,SX],BS),NX=he([Jp,na,QS],VS),jX=he([na,Jp,NX,ta],HS),E_=e=>{var t=ta(e),n=Dd(e),r=!1;return Qp(e,t,n,r)},D_=he([na,E_],Py),P_=he([na,QS,jX,D_],US),CX=he([Wn,XS,na,ta],u_),MX=he([Wn,XS,na,ta],d_),AX=(e,t,n,r,a,i,o,s)=>{if(t){var{type:l}=t,u=Hl(e,s);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/d:0;return f=s==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?La(a[0]-a[1])*2*f:f,u&&o?o.map((p,m)=>({coordinate:r(p)+f,value:p,index:m,offset:f})):r.domain().map((p,m)=>({coordinate:r(p)+f,value:i?i[p]:p,index:m,offset:f}))}}},Qs=he([Wn,na,QS,P_,E_,CX,MX,ta],AX),JS=he([h_,g_,FQ],(e,t,n)=>y_(n.shared,e,t)),T_=e=>e.tooltip.settings.trigger,ZS=e=>e.tooltip.settings.defaultIndex,Zp=he([Od,JS,T_,ZS],S_),yd=he([Zp,_d,Yp,Jp],YS),O_=he([Qs,yd],v_),I_=he([Zp],e=>{if(e)return e.dataKey}),EX=he([Zp],e=>{if(e)return e.graphicalItemId}),__=he([Od,JS,T_,ZS],j_),DX=he([Hs,qs,Wn,ca,Qs,ZS,__,Xp],N_),PX=he([Zp,DX],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),TX=he([Zp],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),OX=he([__,yd,Gl,Yp,O_,Xp,JS],C_),IX=he([OX],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function hA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function gA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hA(Object(n),!0).forEach(function(r){_X(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _X(e,t,n){return(t=LX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LX(e){var t=FX(e,"string");return typeof t=="symbol"?t:t+""}function FX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $X=()=>Et(na),RX=()=>{var e=$X(),t=Et(Qs),n=Et(P_);return Zx(!e||!n?void 0:gA(gA({},e),{},{scale:n}),t)};function yA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function wu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yA(Object(n),!0).forEach(function(r){BX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BX(e,t,n){return(t=zX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zX(e){var t=UX(e,"string");return typeof t=="symbol"?t:t+""}function UX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VX=(e,t,n,r)=>{var a=t.find(i=>i&&i.index===n);if(a){if(e==="horizontal")return{x:a.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:a.coordinate}}return{x:0,y:0}},WX=(e,t,n,r)=>{var a=t.find(u=>u&&u.index===n);if(a){if(e==="centric"){var i=a.coordinate,{radius:o}=r;return wu(wu(wu({},r),Ur(r.cx,r.cy,o,i)),{},{angle:i,radius:o})}var s=a.coordinate,{angle:l}=r;return wu(wu(wu({},r),Ur(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function HX(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var L_=(e,t,n,r,a)=>{var i,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var s=0;s<o;s++){var l,u,d,f,p,m=s>0?(l=n[s-1])===null||l===void 0?void 0:l.coordinate:(u=n[o-1])===null||u===void 0?void 0:u.coordinate,h=(d=n[s])===null||d===void 0?void 0:d.coordinate,v=s>=o-1?(f=n[0])===null||f===void 0?void 0:f.coordinate:(p=n[s+1])===null||p===void 0?void 0:p.coordinate,b=void 0;if(!(m==null||h==null||v==null))if(La(h-m)!==La(v-h)){var y=[];if(La(v-h)===La(a[1]-a[0])){b=v;var x=h+a[1]-a[0];y[0]=Math.min(x,(x+m)/2),y[1]=Math.max(x,(x+m)/2)}else{b=m;var w=v+a[1]-a[0];y[0]=Math.min(h,(w+h)/2),y[1]=Math.max(h,(w+h)/2)}var S=[Math.min(h,(b+h)/2),Math.max(h,(b+h)/2)];if(e>S[0]&&e<=S[1]||e>=y[0]&&e<=y[1]){var j;return(j=n[s])===null||j===void 0?void 0:j.index}}else{var N=Math.min(m,v),M=Math.max(m,v);if(e>(N+h)/2&&e<=(M+h)/2){var P;return(P=n[s])===null||P===void 0?void 0:P.index}}}else if(t)for(var B=0;B<o;B++){var E=t[B];if(E!=null){var I=t[B+1],O=t[B-1];if(B===0&&I!=null&&e<=(E.coordinate+I.coordinate)/2||B===o-1&&O!=null&&e>(E.coordinate+O.coordinate)/2||B>0&&B<o-1&&O!=null&&I!=null&&e>(E.coordinate+O.coordinate)/2&&e<=(E.coordinate+I.coordinate)/2)return E.index}}return-1},qX=()=>Et(wS),eN=(e,t)=>t,F_=(e,t,n)=>n,tN=(e,t,n,r)=>r,KX=he(Qs,e=>ny(e,t=>t.coordinate)),nN=he([Od,eN,F_,tN],S_),rN=he([nN,_d,Yp,Jp],YS),GX=(e,t,n)=>{if(t!=null){var r=Od(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},$_=he([Od,eN,F_,tN],j_),a0=he([Hs,qs,Wn,ca,Qs,tN,$_,Xp],N_),YX=he([nN,a0],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),R_=he([Qs,rN],v_),QX=he([$_,rN,Gl,Yp,R_,Xp,eN],C_),XX=he([nN,rN],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),JX=(e,t,n,r,a,i,o)=>{if(!(!e||!n||!r||!a)&&HX(e,o)){var s=jW(e,t),l=L_(s,i,a,n,r),u=VX(t,a,l,e);return{activeIndex:String(l),activeCoordinate:u}}},ZX=(e,t,n,r,a,i,o)=>{if(!(!e||!r||!a||!i||!n)){var s=$q(e,n);if(s){var l=CW(s,t),u=L_(l,o,i,r,a),d=WX(t,i,u,s);return{activeIndex:String(u),activeCoordinate:d}}}},eJ=(e,t,n,r,a,i,o,s)=>{if(!(!e||!t||!r||!a||!i))return t==="horizontal"||t==="vertical"?JX(e,t,r,a,i,o,s):ZX(e,t,n,r,a,i,o)},tJ=he(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),nJ=he(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(ka)),n=Array.from(new Set(t));return n.sort((r,a)=>r-a)},{memoizeOptions:{resultEqualityCheck:_Y}});function vA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function bA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vA(Object(n),!0).forEach(function(r){rJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rJ(e,t,n){return(t=aJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aJ(e){var t=iJ(e,"string");return typeof t=="symbol"?t:t+""}function iJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oJ={},sJ={zIndexMap:Object.values(ka).reduce((e,t)=>bA(bA({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),oJ)},lJ=new Set(Object.values(ka));function cJ(e){return lJ.has(e)}var B_=ui({name:"zIndex",initialState:sJ,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:dr()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!cJ(n)&&delete e.zIndexMap[n])},prepare:dr()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:a}=t.payload;e.zIndexMap[n]?a?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:a?void 0:r,panoramaElement:a?r:void 0}},prepare:dr()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:dr()}}}),{registerZIndexPortal:uJ,unregisterZIndexPortal:dJ,registerZIndexPortalElement:fJ,unregisterZIndexPortalElement:pJ}=B_.actions,mJ=B_.reducer;function Eo(e){var{zIndex:t,children:n}=e,r=ZW(),a=r&&t!==void 0&&t!==0,i=di(),o=nr();g.useLayoutEffect(()=>a?(o(uJ({zIndex:t})),()=>{o(dJ({zIndex:t}))}):_p,[o,t,a]);var s=Et(l=>tJ(l,t,i));return a?s?Cd.createPortal(n,s):null:n}function jw(){return jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jw.apply(null,arguments)}function xA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function dh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xA(Object(n),!0).forEach(function(r){hJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hJ(e,t,n){return(t=gJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gJ(e){var t=yJ(e,"string");return typeof t=="symbol"?t:t+""}function yJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vJ(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return g.isValidElement(t)?g.cloneElement(t,r):g.createElement(n,r)}function bJ(e){var t,{coordinate:n,payload:r,index:a,offset:i,tooltipAxisBandSize:o,layout:s,cursor:l,tooltipEventType:u,chartName:d}=e,f=n,p=r,m=a;if(!l||!f||d!=="ScatterChart"&&u!=="axis")return null;var h,v,b;if(d==="ScatterChart")h=f,v=JH,b=ka.cursorLine;else if(d==="BarChart")h=ZH(s,f,i,o),v=O4,b=ka.cursorRectangle;else if(s==="radial"&&Y3(f)){var{cx:y,cy:x,radius:w,startAngle:S,endAngle:j}=_4(f);h={cx:y,cy:x,startAngle:S,endAngle:j,innerRadius:w,outerRadius:w},v=F4,b=ka.cursorLine}else h={points:Uq(s,f,i)},v=Kk,b=ka.cursorLine;var N=typeof l=="object"&&"className"in l?l.className:void 0,M=dh(dh(dh(dh({stroke:"#ccc",pointerEvents:"none"},i),h),cd(l)),{},{payload:p,payloadIndex:m,className:Pn("recharts-tooltip-cursor",N)});return g.createElement(Eo,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:b},g.createElement(vJ,{cursor:l,cursorComp:v,cursorProps:M}))}function xJ(e){var t=RX(),n=g4(),r=Rp(),a=qX();return t==null||n==null||r==null||a==null?null:g.createElement(bJ,jw({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:a}))}var z_=g.createContext(null),wJ=()=>g.useContext(z_),U_={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function i(l,u,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||l,p),h=n?n+u:u;return l._events[h]?l._events[h].fn?l._events[h]=[l._events[h],m]:l._events[h].push(m):(l._events[h]=m,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],u,d;if(this._eventsCount===0)return l;for(d in u=this._events)t.call(u,d)&&l.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},s.prototype.listeners=function(l){var u=n?n+l:l,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,p=d.length,m=new Array(p);f<p;f++)m[f]=d[f].fn;return m},s.prototype.listenerCount=function(l){var u=n?n+l:l,d=this._events[u];return d?d.fn?1:d.length:0},s.prototype.emit=function(l,u,d,f,p,m){var h=n?n+l:l;if(!this._events[h])return!1;var v=this._events[h],b=arguments.length,y,x;if(v.fn){switch(v.once&&this.removeListener(l,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,d),!0;case 4:return v.fn.call(v.context,u,d,f),!0;case 5:return v.fn.call(v.context,u,d,f,p),!0;case 6:return v.fn.call(v.context,u,d,f,p,m),!0}for(x=1,y=new Array(b-1);x<b;x++)y[x-1]=arguments[x];v.fn.apply(v.context,y)}else{var w=v.length,S;for(x=0;x<w;x++)switch(v[x].once&&this.removeListener(l,v[x].fn,void 0,!0),b){case 1:v[x].fn.call(v[x].context);break;case 2:v[x].fn.call(v[x].context,u);break;case 3:v[x].fn.call(v[x].context,u,d);break;case 4:v[x].fn.call(v[x].context,u,d,f);break;default:if(!y)for(S=1,y=new Array(b-1);S<b;S++)y[S-1]=arguments[S];v[x].fn.apply(v[x].context,y)}}return!0},s.prototype.on=function(l,u,d){return i(this,l,u,d,!1)},s.prototype.once=function(l,u,d){return i(this,l,u,d,!0)},s.prototype.removeListener=function(l,u,d,f){var p=n?n+l:l;if(!this._events[p])return this;if(!u)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!f||m.once)&&(!d||m.context===d)&&o(this,p);else{for(var h=0,v=[],b=m.length;h<b;h++)(m[h].fn!==u||f&&!m[h].once||d&&m[h].context!==d)&&v.push(m[h]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},s.prototype.removeAllListeners=function(l){var u;return l?(u=n?n+l:l,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(U_);var kJ=U_.exports;const SJ=Mo(kJ);var xp=new SJ,Cw="recharts.syncEvent.tooltip",wA="recharts.syncEvent.brush";function V_(e,t){if(t){var n=Number.parseInt(t,10);if(!es(n))return e==null?void 0:e[n]}}var NJ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},W_=ui({name:"options",initialState:NJ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),jJ=W_.reducer,{createEventEmitter:CJ}=W_.actions;function MJ(e){return e.tooltip.syncInteraction}var AJ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},H_=ui({name:"chartData",initialState:AJ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:kA,setDataStartEndIndexes:EJ,setComputedData:y0e}=H_.actions,DJ=H_.reducer,PJ=["x","y"];function SA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ku(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SA(Object(n),!0).forEach(function(r){TJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TJ(e,t,n){return(t=OJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OJ(e){var t=IJ(e,"string");return typeof t=="symbol"?t:t+""}function IJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _J(e,t){if(e==null)return{};var n,r,a=LJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function LJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function FJ(){var e=Et(kS),t=Et(SS),n=nr(),r=Et(LI),a=Et(Qs),i=Rp(),o=yy(),s=Et(l=>l.rootProps.className);g.useEffect(()=>{if(e==null)return _p;var l=(u,d,f)=>{if(t!==f&&e===u){if(r==="index"){var p;if(o&&d!==null&&d!==void 0&&(p=d.payload)!==null&&p!==void 0&&p.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:h,y:v}=m,b=_J(m,PJ),{x:y,y:x,width:w,height:S}=d.payload.sourceViewBox,j=ku(ku({},b),{},{x:o.x+(w?(h-y)/w:0)*o.width,y:o.y+(S?(v-x)/S:0)*o.height});n(ku(ku({},d),{},{payload:ku(ku({},d.payload),{},{coordinate:j})}))}else n(d);return}if(a!=null){var N;if(typeof r=="function"){var M={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},P=r(a,M);N=a[P]}else r==="value"&&(N=a.find(ve=>String(ve.value)===d.payload.label));var{coordinate:B}=d.payload;if(N==null||d.payload.active===!1||B==null||o==null){n(Sw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:E,y:I}=B,O=Math.min(E,o.x+o.width),K=Math.min(I,o.y+o.height),Q={x:i==="horizontal"?N.coordinate:O,y:i==="horizontal"?K:N.coordinate},oe=Sw({active:d.payload.active,coordinate:Q,dataKey:d.payload.dataKey,index:String(N.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});n(oe)}}};return xp.on(Cw,l),()=>{xp.off(Cw,l)}},[s,n,t,e,r,a,i,o])}function $J(){var e=Et(kS),t=Et(SS),n=nr();g.useEffect(()=>{if(e==null)return _p;var r=(a,i,o)=>{t!==o&&e===a&&n(EJ(i))};return xp.on(wA,r),()=>{xp.off(wA,r)}},[n,t,e])}function RJ(){var e=nr();g.useEffect(()=>{e(CJ())},[e]),FJ(),$J()}function BJ(e,t,n,r,a,i){var o=Et(m=>GX(m,e,t)),s=Et(SS),l=Et(kS),u=Et(LI),d=Et(MJ),f=d==null?void 0:d.active,p=yy();g.useEffect(()=>{if(!f&&l!=null&&s!=null){var m=Sw({active:i,coordinate:n,dataKey:o,index:a,label:typeof r=="number"?String(r):r,sourceViewBox:p,graphicalItemId:void 0});xp.emit(Cw,l,m,s)}},[f,n,o,a,r,s,l,u,i,p])}function NA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function jA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NA(Object(n),!0).forEach(function(r){zJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zJ(e,t,n){return(t=UJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UJ(e){var t=VJ(e,"string");return typeof t=="symbol"?t:t+""}function VJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WJ(e){return e.dataKey}function HJ(e,t){return g.isValidElement(e)?g.cloneElement(e,t):typeof e=="function"?g.createElement(e,t):g.createElement(PH,t)}var CA=[],qJ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Us(e){var t,n,r=Zr(e,qJ),{active:a,allowEscapeViewBox:i,animationDuration:o,animationEasing:s,content:l,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:p,position:m,reverseDirection:h,useTranslate3d:v,wrapperStyle:b,cursor:y,shared:x,trigger:w,defaultIndex:S,portal:j,axisId:N}=r,M=nr(),P=typeof S=="number"?String(S):S;g.useEffect(()=>{M(UQ({shared:x,trigger:w,axisId:N,active:a,defaultIndex:P}))},[M,x,w,N,a,P]);var B=yy(),E=A4(),I=LQ(x),{activeIndex:O,isActive:K}=(t=Et(le=>XX(le,I,w,P)))!==null&&t!==void 0?t:{},Q=Et(le=>QX(le,I,w,P)),oe=Et(le=>R_(le,I,w,P)),ve=Et(le=>YX(le,I,w,P)),ne=Q,H=wJ(),V=(n=a??K)!==null&&n!==void 0?n:!1,[k,z]=CO([ne,V]),T=I==="axis"?oe:void 0;BJ(I,w,ve,T,O,V);var C=j??H;if(C==null||B==null||I==null)return null;var $=ne??CA;V||($=CA),u&&$.length&&($=mO($.filter(le=>le.value!=null&&(le.hide!==!0||r.includeHidden)),p,WJ));var U=$.length>0,J=g.createElement($H,{allowEscapeViewBox:i,animationDuration:o,animationEasing:s,isAnimationActive:d,active:V,coordinate:ve,hasPayload:U,offset:f,position:m,reverseDirection:h,useTranslate3d:v,viewBox:B,wrapperStyle:b,lastBoundingBox:k,innerRef:z,hasPortalFromProps:!!j},HJ(l,jA(jA({},r),{},{payload:$,label:T,active:V,activeIndex:O,coordinate:ve,accessibilityLayer:E})));return g.createElement(g.Fragment,null,Cd.createPortal(J,C),V&&g.createElement(xJ,{cursor:y,tooltipEventType:I,coordinate:ve,payload:$,index:O}))}var vd=e=>null;vd.displayName="Cell";function KJ(e,t,n){return(t=GJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GJ(e){var t=YJ(e,"string");return typeof t=="symbol"?t:t+""}function YJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class QJ{constructor(t){KJ(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function MA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function XJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MA(Object(n),!0).forEach(function(r){JJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JJ(e,t,n){return(t=ZJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZJ(e){var t=eZ(e,"string");return typeof t=="symbol"?t:t+""}function eZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tZ={cacheSize:2e3,enableCache:!0},q_=XJ({},tZ),AA=new QJ(q_.cacheSize),nZ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},EA="recharts_measurement_span";function rZ(e,t){var n=t.fontSize||"",r=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(s)}var DA=(e,t)=>{try{var n=document.getElementById(EA);n||(n=document.createElement("span"),n.setAttribute("id",EA),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,nZ,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Pf=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ky.isSsr)return{width:0,height:0};if(!q_.enableCache)return DA(e,t);var n=rZ(e,t),r=AA.get(n);if(r)return r;var a=DA(e,t);return AA.set(n,a),a},K_;function aZ(e,t,n){return(t=iZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iZ(e){var t=oZ(e,"string");return typeof t=="symbol"?t:t+""}function oZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,TA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,lZ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,cZ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},uZ=["cm","mm","pt","pc","in","Q","px"];function dZ(e){return uZ.includes(e)}var Bu="NaN";function fZ(e,t){return e*cZ[t]}class wa{static parse(t){var n,[,r,a]=(n=lZ.exec(t))!==null&&n!==void 0?n:[];return r==null?wa.NaN:new wa(parseFloat(r),a??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,es(t)&&(this.unit=""),n!==""&&!sZ.test(n)&&(this.num=NaN,this.unit=""),dZ(n)&&(this.num=fZ(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new wa(NaN,""):new wa(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new wa(NaN,""):new wa(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wa(NaN,""):new wa(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wa(NaN,""):new wa(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return es(this.num)}}K_=wa;aZ(wa,"NaN",new K_(NaN,""));function G_(e){if(e==null||e.includes(Bu))return Bu;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,a,i]=(n=PA.exec(t))!==null&&n!==void 0?n:[],o=wa.parse(r??""),s=wa.parse(i??""),l=a==="*"?o.multiply(s):o.divide(s);if(l.isNaN())return Bu;t=t.replace(PA,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,p]=(u=TA.exec(t))!==null&&u!==void 0?u:[],m=wa.parse(d??""),h=wa.parse(p??""),v=f==="+"?m.add(h):m.subtract(h);if(v.isNaN())return Bu;t=t.replace(TA,v.toString())}return t}var OA=/\(([^()]*)\)/;function pZ(e){for(var t=e,n;(n=OA.exec(t))!=null;){var[,r]=n;t=t.replace(OA,G_(r))}return t}function mZ(e){var t=e.replace(/\s+/g,"");return t=pZ(t),t=G_(t),t}function hZ(e){try{return mZ(e)}catch{return Bu}}function ab(e){var t=hZ(e.slice(5,-1));return t===Bu?"":t}var gZ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],yZ=["dx","dy","angle","className","breakAll"];function Mw(){return Mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mw.apply(null,arguments)}function IA(e,t){if(e==null)return{};var n,r,a=vZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function vZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Y_=/[ \f\n\r\t\v\u2028\u2029]+/,Q_=e=>{var{children:t,breakAll:n,style:r}=e;try{var a=[];Jr(t)||(n?a=t.toString().split(""):a=t.toString().split(Y_));var i=a.map(s=>({word:s,width:Pf(s,r).width})),o=n?0:Pf("",r).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}};function bZ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var X_=(e,t,n,r)=>e.reduce((a,i)=>{var{word:o,width:s}=i,l=a[a.length-1];if(l&&s!=null&&(t==null||r||l.width+s+n<Number(t)))l.words.push(o),l.width+=s+n;else{var u={words:[o],width:s};a.push(u)}return a},[]),J_=e=>e.reduce((t,n)=>t.width>n.width?t:n),xZ="",_A=(e,t,n,r,a,i,o,s)=>{var l=e.slice(0,t),u=Q_({breakAll:n,style:r,children:l+xZ});if(!u)return[!1,[]];var d=X_(u.wordsWithComputedWidth,i,o,s),f=d.length>a||J_(d).width>Number(i);return[f,d]},wZ=(e,t,n,r,a)=>{var{maxLines:i,children:o,style:s,breakAll:l}=e,u=Dt(i),d=String(o),f=X_(t,r,n,a);if(!u||a)return f;var p=f.length>i||J_(f).width>Number(r);if(!p)return f;for(var m=0,h=d.length-1,v=0,b;m<=h&&v<=d.length-1;){var y=Math.floor((m+h)/2),x=y-1,[w,S]=_A(d,x,l,s,i,r,n,a),[j]=_A(d,y,l,s,i,r,n,a);if(!w&&!j&&(m=y+1),w&&j&&(h=y-1),!w&&j){b=S;break}v++}return b||f},LA=e=>{var t=Jr(e)?[]:e.toString().split(Y_);return[{words:t,width:void 0}]},kZ=e=>{var{width:t,scaleToFit:n,children:r,style:a,breakAll:i,maxLines:o}=e;if((t||n)&&!ky.isSsr){var s,l,u=Q_({breakAll:i,children:r,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;s=d,l=f}else return LA(r);return wZ({breakAll:i,children:r,maxLines:o,style:a},s,l,t,!!n)}return LA(r)},Z_="#808080",SZ={angle:0,breakAll:!1,capHeight:"0.71em",fill:Z_,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},By=g.forwardRef((e,t)=>{var n=Zr(e,SZ),{x:r,y:a,lineHeight:i,capHeight:o,fill:s,scaleToFit:l,textAnchor:u,verticalAnchor:d}=n,f=IA(n,gZ),p=g.useMemo(()=>kZ({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:m,dy:h,angle:v,className:b,breakAll:y}=f,x=IA(f,yZ);if(!ts(r)||!ts(a)||p.length===0)return null;var w=Number(r)+(Dt(m)?m:0),S=Number(a)+(Dt(h)?h:0);if(!Wr(w)||!Wr(S))return null;var j;switch(d){case"start":j=ab("calc(".concat(o,")"));break;case"middle":j=ab("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:j=ab("calc(".concat(p.length-1," * -").concat(i,")"));break}var N=[];if(l){var M=p[0].width,{width:P}=f;N.push("scale(".concat(Dt(P)&&Dt(M)?P/M:1,")"))}return v&&N.push("rotate(".concat(v,", ").concat(w,", ").concat(S,")")),N.length&&(x.transform=N.join(" ")),g.createElement("text",Mw({},Ga(x),{ref:t,x:w,y:S,className:Pn("recharts-text",b),textAnchor:u,fill:s.includes("url")?Z_:s}),p.map((B,E)=>{var I=B.words.join(y?"":" ");return g.createElement("tspan",{x:w,dy:E===0?j:i,key:"".concat(I,"-").concat(E)},I)}))});By.displayName="Text";var NZ=["labelRef"],jZ=["content"];function FA(e,t){if(e==null)return{};var n,r,a=CZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function CZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function $A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Pr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$A(Object(n),!0).forEach(function(r){MZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$A(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MZ(e,t,n){return(t=AZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AZ(e){var t=EZ(e,"string");return typeof t=="symbol"?t:t+""}function EZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bs(){return bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bs.apply(null,arguments)}var eL=g.createContext(null),DZ=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:a,width:i,height:o,children:s}=e,l=g.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:a,width:i,height:o}),[t,n,r,a,i,o]);return g.createElement(eL.Provider,{value:l},s)},tL=()=>{var e=g.useContext(eL),t=yy();return e||h4(t)},PZ=g.createContext(null),TZ=()=>{var e=g.useContext(PZ),t=Et(zI);return e||t},OZ=e=>{var{value:t,formatter:n}=e,r=Jr(e.children)?t:e.children;return typeof n=="function"?n(r):r},aN=e=>e!=null&&typeof e=="function",IZ=(e,t)=>{var n=La(t-e),r=Math.min(Math.abs(t-e),360);return n*r},_Z=(e,t,n,r,a)=>{var{offset:i,className:o}=e,{cx:s,cy:l,innerRadius:u,outerRadius:d,startAngle:f,endAngle:p,clockWise:m}=a,h=(u+d)/2,v=IZ(f,p),b=v>=0?1:-1,y,x;switch(t){case"insideStart":y=f+b*i,x=m;break;case"insideEnd":y=p-b*i,x=!m;break;case"end":y=p+b*i,x=m;break;default:throw new Error("Unsupported position ".concat(t))}x=v<=0?x:!x;var w=Ur(s,l,h,y),S=Ur(s,l,h,y+(x?1:-1)*359),j="M".concat(w.x,",").concat(w.y,`
    A`).concat(h,",").concat(h,",0,1,").concat(x?0:1,`,
    `).concat(S.x,",").concat(S.y),N=Jr(e.id)?sp("recharts-radial-line-"):e.id;return g.createElement("text",bs({},r,{dominantBaseline:"central",className:Pn("recharts-radial-bar-label",o)}),g.createElement("defs",null,g.createElement("path",{id:N,d:j})),g.createElement("textPath",{xlinkHref:"#".concat(N)},n))},LZ=(e,t,n)=>{var{cx:r,cy:a,innerRadius:i,outerRadius:o,startAngle:s,endAngle:l}=e,u=(s+l)/2;if(n==="outside"){var{x:d,y:f}=Ur(r,a,o+t,u);return{x:d,y:f,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var p=(i+o)/2,{x:m,y:h}=Ur(r,a,p,u);return{x:m,y:h,textAnchor:"middle",verticalAnchor:"middle"}},Aw=e=>"cx"in e&&Dt(e.cx),FZ=(e,t)=>{var{parentViewBox:n,offset:r,position:a}=e,i;n!=null&&!Aw(n)&&(i=n);var{x:o,y:s,upperWidth:l,lowerWidth:u,height:d}=t,f=o,p=o+(l-u)/2,m=(f+p)/2,h=(l+u)/2,v=f+l/2,b=d>=0?1:-1,y=b*r,x=b>0?"end":"start",w=b>0?"start":"end",S=l>=0?1:-1,j=S*r,N=S>0?"end":"start",M=S>0?"start":"end";if(a==="top"){var P={x:f+l/2,y:s-y,textAnchor:"middle",verticalAnchor:x};return Pr(Pr({},P),i?{height:Math.max(s-i.y,0),width:l}:{})}if(a==="bottom"){var B={x:p+u/2,y:s+d+y,textAnchor:"middle",verticalAnchor:w};return Pr(Pr({},B),i?{height:Math.max(i.y+i.height-(s+d),0),width:u}:{})}if(a==="left"){var E={x:m-j,y:s+d/2,textAnchor:N,verticalAnchor:"middle"};return Pr(Pr({},E),i?{width:Math.max(E.x-i.x,0),height:d}:{})}if(a==="right"){var I={x:m+h+j,y:s+d/2,textAnchor:M,verticalAnchor:"middle"};return Pr(Pr({},I),i?{width:Math.max(i.x+i.width-I.x,0),height:d}:{})}var O=i?{width:h,height:d}:{};return a==="insideLeft"?Pr({x:m+j,y:s+d/2,textAnchor:M,verticalAnchor:"middle"},O):a==="insideRight"?Pr({x:m+h-j,y:s+d/2,textAnchor:N,verticalAnchor:"middle"},O):a==="insideTop"?Pr({x:f+l/2,y:s+y,textAnchor:"middle",verticalAnchor:w},O):a==="insideBottom"?Pr({x:p+u/2,y:s+d-y,textAnchor:"middle",verticalAnchor:x},O):a==="insideTopLeft"?Pr({x:f+j,y:s+y,textAnchor:M,verticalAnchor:w},O):a==="insideTopRight"?Pr({x:f+l-j,y:s+y,textAnchor:N,verticalAnchor:w},O):a==="insideBottomLeft"?Pr({x:p+j,y:s+d-y,textAnchor:M,verticalAnchor:x},O):a==="insideBottomRight"?Pr({x:p+u-j,y:s+d-y,textAnchor:N,verticalAnchor:x},O):a&&typeof a=="object"&&(Dt(a.x)||_s(a.x))&&(Dt(a.y)||_s(a.y))?Pr({x:o+Xi(a.x,h),y:s+Xi(a.y,d),textAnchor:"end",verticalAnchor:"end"},O):Pr({x:v,y:s+d/2,textAnchor:"middle",verticalAnchor:"middle"},O)},$Z={angle:0,offset:5,zIndex:ka.label,position:"middle",textBreakAll:!1};function hl(e){var t=Zr(e,$Z),{viewBox:n,position:r,value:a,children:i,content:o,className:s="",textBreakAll:l,labelRef:u}=t,d=TZ(),f=tL(),p=r==="center"?f:d??f,m,h,v;if(n==null?m=p:Aw(n)?m=n:m=h4(n),!m||Jr(a)&&Jr(i)&&!g.isValidElement(o)&&typeof o!="function")return null;var b=Pr(Pr({},t),{},{viewBox:m});if(g.isValidElement(o)){var{labelRef:y}=b,x=FA(b,NZ);return g.cloneElement(o,x)}if(typeof o=="function"){var{content:w}=b,S=FA(b,jZ);if(h=g.createElement(o,S),g.isValidElement(h))return h}else h=OZ(t);var j=Ga(t);if(Aw(m)){if(r==="insideStart"||r==="insideEnd"||r==="end")return _Z(t,r,h,j,m);v=LZ(m,t.offset,t.position)}else v=FZ(t,m);return g.createElement(Eo,{zIndex:t.zIndex},g.createElement(By,bs({ref:u,className:Pn("recharts-label",s)},j,v,{textAnchor:bZ(j.textAnchor)?j.textAnchor:v.textAnchor,breakAll:l}),h))}hl.displayName="Label";var RZ=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?g.createElement(hl,bs({key:"label-implicit"},r)):ts(e)?g.createElement(hl,bs({key:"label-implicit",value:e},r)):g.isValidElement(e)?e.type===hl?g.cloneElement(e,Pr({key:"label-implicit"},r)):g.createElement(hl,bs({key:"label-implicit",content:e},r)):aN(e)?g.createElement(hl,bs({key:"label-implicit",content:e},r)):e&&typeof e=="object"?g.createElement(hl,bs({},e,{key:"label-implicit"},r)):null};function BZ(e){var{label:t,labelRef:n}=e,r=tL();return RZ(t,r,n)||null}var nL={},rL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(rL);var aL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(aL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rL,n=aL,r=Z0;function a(i){if(r.isArrayLike(i))return t.last(n.toArray(i))}e.last=a})(nL);var zZ=nL.last;const UZ=Mo(zZ);var VZ=["valueAccessor"],WZ=["dataKey","clockWise","id","textBreakAll","zIndex"];function i0(){return i0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i0.apply(null,arguments)}function RA(e,t){if(e==null)return{};var n,r,a=HZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function HZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var qZ=e=>Array.isArray(e.value)?UZ(e.value):e.value,iL=g.createContext(void 0),KZ=iL.Provider,oL=g.createContext(void 0),GZ=oL.Provider;function YZ(){return g.useContext(iL)}function QZ(){return g.useContext(oL)}function Bh(e){var{valueAccessor:t=qZ}=e,n=RA(e,VZ),{dataKey:r,clockWise:a,id:i,textBreakAll:o,zIndex:s}=n,l=RA(n,WZ),u=YZ(),d=QZ(),f=u||d;return!f||!f.length?null:g.createElement(Eo,{zIndex:s??ka.label},g.createElement(li,{className:"recharts-label-list"},f.map((p,m)=>{var h,v=Jr(r)?t(p,m):cr(p&&p.payload,r),b=Jr(i)?{}:{id:"".concat(i,"-").concat(m)};return g.createElement(hl,i0({key:"label-".concat(m)},Ga(p),l,b,{fill:(h=n.fill)!==null&&h!==void 0?h:p.fill,parentViewBox:p.parentViewBox,value:v,textBreakAll:o,viewBox:p.viewBox,index:m,zIndex:0}))})))}Bh.displayName="LabelList";function sL(e){var{label:t}=e;return t?t===!0?g.createElement(Bh,{key:"labelList-implicit"}):g.isValidElement(t)||aN(t)?g.createElement(Bh,{key:"labelList-implicit",content:t}):typeof t=="object"?g.createElement(Bh,i0({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Ew(){return Ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ew.apply(null,arguments)}var lL=e=>{var{cx:t,cy:n,r,className:a}=e,i=Pn("recharts-dot",a);return Dt(t)&&Dt(n)&&Dt(r)?g.createElement("circle",Ew({},eo(e),Sk(e),{className:i,cx:t,cy:n,r})):null},cL=e=>e.graphicalItems.polarItems,XZ=he([mr,qp],ES),zy=he([cL,Nr,XZ],DS),JZ=he([zy],PS),Uy=he([JZ,yS],TS),ZZ=he([Uy,Nr,zy],IS);he([Uy,Nr,zy],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(a=>{var i,o=cr(r,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:cr(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var BA=()=>{},eee=he([Uy,Nr,zy,Ly,mr],$S),tee=he([Nr,LS,FS,BA,eee,BA,Wn,mr],RS),uL=he([Nr,Wn,Uy,ZZ,Hp,mr,tee],BS),nee=he([uL,Nr,Td],VS);he([Nr,uL,nee,mr],HS);var ree={radiusAxis:{},angleAxis:{}},dL=ui({name:"polarAxis",initialState:ree,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:v0e,removeRadiusAxis:b0e,addAngleAxis:x0e,removeAngleAxis:w0e}=dL.actions,aee=dL.reducer;function zA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function UA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zA(Object(n),!0).forEach(function(r){iee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iee(e,t,n){return(t=oee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oee(e){var t=see(e,"string");return typeof t=="symbol"?t:t+""}function see(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lee=(e,t)=>t,iN=he([cL,lee],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),cee=[],oN=(e,t,n)=>(n==null?void 0:n.length)===0?cee:n,fL=he([yS,iN,oN],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=r,(!a||!a.length)&&n!=null&&(a=n.map(i=>UA(UA({},t.presentationProps),i.props))),a!=null)return a}}),uee=he([fL,iN,oN],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,a)=>{var i,o=cr(r,t.nameKey,t.name),s;return n!=null&&(i=n[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?s=n[a].props.fill:typeof r=="object"&&r!=null&&"fill"in r?s=r.fill:s=t.fill,{value:fy(o,t.dataKey),color:s,payload:r,type:t.legendType}})}),dee=he([fL,iN,oN,ca],(e,t,n,r)=>{if(!(t==null||e==null))return Nte({offset:r,pieSettings:t,displayedData:e,cells:n})}),pL={exports:{}},Xn={};/** @license React v17.0.2
* react-is.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Vy=60103,Wy=60106,em=60107,tm=60108,nm=60114,rm=60109,am=60110,im=60112,om=60113,sN=60120,sm=60115,lm=60116,mL=60121,hL=60122,gL=60117,yL=60129,vL=60131;if(typeof Symbol=="function"&&Symbol.for){var ya=Symbol.for;Vy=ya("react.element"),Wy=ya("react.portal"),em=ya("react.fragment"),tm=ya("react.strict_mode"),nm=ya("react.profiler"),rm=ya("react.provider"),am=ya("react.context"),im=ya("react.forward_ref"),om=ya("react.suspense"),sN=ya("react.suspense_list"),sm=ya("react.memo"),lm=ya("react.lazy"),mL=ya("react.block"),hL=ya("react.server.block"),gL=ya("react.fundamental"),yL=ya("react.debug_trace_mode"),vL=ya("react.legacy_hidden")}function Do(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Vy:switch(e=e.type,e){case em:case nm:case tm:case om:case sN:return e;default:switch(e=e&&e.$$typeof,e){case am:case im:case lm:case sm:case rm:return e;default:return t}}case Wy:return t}}}var fee=rm,pee=Vy,mee=im,hee=em,gee=lm,yee=sm,vee=Wy,bee=nm,xee=tm,wee=om;Xn.ContextConsumer=am;Xn.ContextProvider=fee;Xn.Element=pee;Xn.ForwardRef=mee;Xn.Fragment=hee;Xn.Lazy=gee;Xn.Memo=yee;Xn.Portal=vee;Xn.Profiler=bee;Xn.StrictMode=xee;Xn.Suspense=wee;Xn.isAsyncMode=function(){return!1};Xn.isConcurrentMode=function(){return!1};Xn.isContextConsumer=function(e){return Do(e)===am};Xn.isContextProvider=function(e){return Do(e)===rm};Xn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Vy};Xn.isForwardRef=function(e){return Do(e)===im};Xn.isFragment=function(e){return Do(e)===em};Xn.isLazy=function(e){return Do(e)===lm};Xn.isMemo=function(e){return Do(e)===sm};Xn.isPortal=function(e){return Do(e)===Wy};Xn.isProfiler=function(e){return Do(e)===nm};Xn.isStrictMode=function(e){return Do(e)===tm};Xn.isSuspense=function(e){return Do(e)===om};Xn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===em||e===nm||e===yL||e===tm||e===om||e===sN||e===vL||typeof e=="object"&&e!==null&&(e.$$typeof===lm||e.$$typeof===sm||e.$$typeof===rm||e.$$typeof===am||e.$$typeof===im||e.$$typeof===gL||e.$$typeof===mL||e[0]===hL)};Xn.typeOf=Do;pL.exports=Xn;var kee=pL.exports,VA=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",WA=null,ib=null,bL=e=>{if(e===WA&&Array.isArray(ib))return ib;var t=[];return g.Children.forEach(e,n=>{Jr(n)||(kee.isFragment(n)?t=t.concat(bL(n.props.children)):t.push(n))}),ib=t,WA=e,t};function xL(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(a=>VA(a)):r=[VA(t)],bL(e).forEach(a=>{var i=Uc(a,"type.displayName")||Uc(a,"type.name");i&&r.indexOf(i)!==-1&&n.push(a)}),n}var wL=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,kL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!((r=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&r.writable)?!1:n.toString()===`[object ${i}]`}let a=n;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(n)===a}e.isPlainObject=t})(kL);var See=kL.isPlainObject;const Nee=Mo(See);var HA,qA,KA,GA,YA;function QA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function XA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QA(Object(n),!0).forEach(function(r){jee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jee(e,t,n){return(t=Cee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cee(e){var t=Mee(e,"string");return typeof t=="symbol"?t:t+""}function Mee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o0(){return o0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o0.apply(null,arguments)}function lf(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var JA=(e,t,n,r,a)=>{var i=n-r,o;return o=jr(HA||(HA=lf(["M ",",",""])),e,t),o+=jr(qA||(qA=lf(["L ",",",""])),e+n,t),o+=jr(KA||(KA=lf(["L ",",",""])),e+n-i/2,t+a),o+=jr(GA||(GA=lf(["L ",",",""])),e+n-i/2-r,t+a),o+=jr(YA||(YA=lf(["L ",","," Z"])),e,t),o},Aee={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Eee=e=>{var t=Zr(e,Aee),{x:n,y:r,upperWidth:a,lowerWidth:i,height:o,className:s}=t,{animationEasing:l,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,p=g.useRef(null),[m,h]=g.useState(-1),v=g.useRef(a),b=g.useRef(i),y=g.useRef(o),x=g.useRef(n),w=g.useRef(r),S=Ny(e,"trapezoid-");if(g.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var Q=p.current.getTotalLength();Q&&h(Q)}catch{}},[]),n!==+n||r!==+r||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var j=Pn("recharts-trapezoid",s);if(!f)return g.createElement("g",null,g.createElement("path",o0({},Ga(t),{className:j,d:JA(n,r,a,i,o)})));var N=v.current,M=b.current,P=y.current,B=x.current,E=w.current,I="0px ".concat(m===-1?1:m,"px"),O="".concat(m,"px 0px"),K=E4(["strokeDasharray"],u,l);return g.createElement(Sy,{animationId:S,key:S,canBegin:m>0,duration:u,easing:l,isActive:f,begin:d},Q=>{var oe=_a(N,a,Q),ve=_a(M,i,Q),ne=_a(P,o,Q),H=_a(B,n,Q),V=_a(E,r,Q);p.current&&(v.current=oe,b.current=ve,y.current=ne,x.current=H,w.current=V);var k=Q>0?{transition:K,strokeDasharray:O}:{strokeDasharray:I};return g.createElement("path",o0({},Ga(t),{className:j,d:JA(H,V,oe,ve,ne),ref:p,style:XA(XA({},k),t.style)}))})},Dee=["option","shapeType","activeClassName"];function Pee(e,t){if(e==null)return{};var n,r,a=Tee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Tee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ZA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function s0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZA(Object(n),!0).forEach(function(r){Oee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Oee(e,t,n){return(t=Iee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iee(e){var t=_ee(e,"string");return typeof t=="symbol"?t:t+""}function _ee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lee(e,t){return s0(s0({},t),e)}function Fee(e,t){return e==="symbols"}function e5(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return g.createElement(O4,n);case"trapezoid":return g.createElement(Eee,n);case"sector":return g.createElement(F4,n);case"symbols":if(Fee(t))return g.createElement(kk,n);break;case"curve":return g.createElement(Kk,n);default:return null}}function $ee(e){return g.isValidElement(e)?e.props:e}function SL(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,a=Pee(e,Dee),i;if(g.isValidElement(t))i=g.cloneElement(t,s0(s0({},a),$ee(t)));else if(typeof t=="function")i=t(a,a.index);else if(Nee(t)&&typeof t!="boolean"){var o=Lee(t,a);i=g.createElement(e5,{shapeType:n,elementProps:o})}else{var s=a;i=g.createElement(e5,{shapeType:n,elementProps:s})}return a.isActive?g.createElement(li,{className:r},i):i}var Ree=(e,t,n)=>{var r=nr();return(a,i)=>o=>{e==null||e(a,i,o),r(x_({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}},Bee=e=>{var t=nr();return(n,r)=>a=>{e==null||e(n,r,a),t(VQ())}},zee=(e,t,n)=>{var r=nr();return(a,i)=>o=>{e==null||e(a,i,o),r(WQ({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}};function NL(e){var{tooltipEntrySettings:t}=e,n=nr(),r=di(),a=g.useRef(null);return g.useLayoutEffect(()=>{r||(a.current===null?n(RQ(t)):a.current!==t&&n(BQ({prev:a.current,next:t})),a.current=t)},[t,n,r]),g.useLayoutEffect(()=>()=>{a.current&&(n(zQ(a.current)),a.current=null)},[n]),null}function Uee(e){var{legendPayload:t}=e,n=nr(),r=di(),a=g.useRef(null);return g.useLayoutEffect(()=>{r||(a.current===null?n(N4(t)):a.current!==t&&n(j4({prev:a.current,next:t})),a.current=t)},[n,r,t]),g.useLayoutEffect(()=>()=>{a.current&&(n(C4(a.current)),a.current=null)},[n]),null}function Vee(e){var{legendPayload:t}=e,n=nr(),r=Et(Wn),a=g.useRef(null);return g.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(a.current===null?n(N4(t)):a.current!==t&&n(j4({prev:a.current,next:t})),a.current=t)},[n,r,t]),g.useLayoutEffect(()=>()=>{a.current&&(n(C4(a.current)),a.current=null)},[n]),null}var ob,Wee=()=>{var[e]=g.useState(()=>sp("uid-"));return e},Hee=(ob=eB.useId)!==null&&ob!==void 0?ob:Wee;function qee(e,t){var n=Hee();return t||(e?"".concat(e,"-").concat(n):n)}var Kee=g.createContext(void 0),jL=e=>{var{id:t,type:n,children:r}=e,a=qee("recharts-".concat(n),t);return g.createElement(Kee.Provider,{value:a},r(a))},Gee={cartesianItems:[],polarItems:[]},CL=ui({name:"graphicalItems",initialState:Gee,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:dr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,a=bo(e).cartesianItems.indexOf(n);a>-1&&(e.cartesianItems[a]=r)},prepare:dr()},removeCartesianGraphicalItem:{reducer(e,t){var n=bo(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:dr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:dr()},removePolarGraphicalItem:{reducer(e,t){var n=bo(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:dr()}}}),{addCartesianGraphicalItem:Yee,replaceCartesianGraphicalItem:Qee,removeCartesianGraphicalItem:Xee,addPolarGraphicalItem:Jee,removePolarGraphicalItem:Zee}=CL.actions,ete=CL.reducer,tte=e=>{var t=nr(),n=g.useRef(null);return g.useLayoutEffect(()=>{n.current===null?t(Yee(e)):n.current!==e&&t(Qee({prev:n.current,next:e})),n.current=e},[t,e]),g.useLayoutEffect(()=>()=>{n.current&&(t(Xee(n.current)),n.current=null)},[t]),null},nte=g.memo(tte);function rte(e){var t=nr();return g.useLayoutEffect(()=>(t(Jee(e)),()=>{t(Zee(e))}),[t,e]),null}var ate=["key"],ite=["onMouseEnter","onClick","onMouseLeave"],ote=["id"],ste=["id"];function t5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Mr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t5(Object(n),!0).forEach(function(r){lte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lte(e,t,n){return(t=cte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cte(e){var t=ute(e,"string");return typeof t=="symbol"?t:t+""}function ute(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rl(){return Rl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rl.apply(null,arguments)}function Hy(e,t){if(e==null)return{};var n,r,a=dte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function dte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function fte(e){var t=g.useMemo(()=>xL(e.children,vd),[e.children]),n=Et(r=>uee(r,e.id,t));return n==null?null:g.createElement(Vee,{legendPayload:n})}var pte=g.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:a,strokeWidth:i,fill:o,name:s,hide:l,tooltipType:u,id:d}=e,f={dataDefinedOnItem:r.map(p=>p.tooltipPayload),positions:r.map(p=>p.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:o,dataKey:t,nameKey:n,name:fy(s,t),hide:l,type:u,color:o,unit:"",graphicalItemId:d}};return g.createElement(NL,{tooltipEntrySettings:f})}),mte=(e,t)=>e>t?"start":e<t?"end":"middle",hte=(e,t,n)=>Xi(typeof t=="function"?t(e):t,n,n*.8),gte=(e,t,n)=>{var{top:r,left:a,width:i,height:o}=t,s=I4(i,o),l=a+Xi(e.cx,i,i/2),u=r+Xi(e.cy,o,o/2),d=Xi(e.innerRadius,s,0),f=hte(n,e.outerRadius,s),p=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:l,cy:u,innerRadius:d,outerRadius:f,maxRadius:p}},yte=(e,t)=>{var n=La(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function vte(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var bte=(e,t)=>{if(g.isValidElement(e))return g.cloneElement(e,t);if(typeof e=="function")return e(t);var n=Pn("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,a=Hy(t,ate);return g.createElement(Kk,Rl({},a,{type:"linear",className:n}))},xte=(e,t,n)=>{if(g.isValidElement(e))return g.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),g.isValidElement(r)))return r;var a=Pn("recharts-pie-label-text",vte(e));return g.createElement(By,Rl({},t,{alignmentBaseline:"middle",className:a}),r)};function wte(e){var{sectors:t,props:n,showLabels:r}=e,{label:a,labelLine:i,dataKey:o}=n;if(!r||!a||!t)return null;var s=eo(n),l=cd(a),u=cd(i),d=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,f=t.map((p,m)=>{var h=(p.startAngle+p.endAngle)/2,v=Ur(p.cx,p.cy,p.outerRadius+d,h),b=Mr(Mr(Mr(Mr({},s),p),{},{stroke:"none"},l),{},{index:m,textAnchor:mte(v.x,p.cx)},v),y=Mr(Mr(Mr(Mr({},s),p),{},{fill:"none",stroke:p.fill},u),{},{index:m,points:[Ur(p.cx,p.cy,p.outerRadius,h),v],key:"line"});return g.createElement(Eo,{zIndex:ka.label,key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(m)},g.createElement(li,null,i&&bte(i,y),xte(a,b,cr(p,o))))});return g.createElement(li,{className:"recharts-pie-labels"},f)}function kte(e){var{sectors:t,props:n,showLabels:r}=e,{label:a}=n;return typeof a=="object"&&a!=null&&"position"in a?g.createElement(sL,{label:a}):g.createElement(wte,{sectors:t,props:n,showLabels:r})}function Ste(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:a,shape:i,id:o}=e,s=Et(yd),l=Et(I_),u=Et(EX),{onMouseEnter:d,onClick:f,onMouseLeave:p}=a,m=Hy(a,ite),h=Ree(d,a.dataKey,o),v=Bee(p),b=zee(f,a.dataKey,o);return t==null||t.length===0?null:g.createElement(g.Fragment,null,t.map((y,x)=>{if((y==null?void 0:y.startAngle)===0&&(y==null?void 0:y.endAngle)===0&&t.length!==1)return null;var w=u==null||u===o,S=String(x)===s&&(l==null||a.dataKey===l)&&w,j=s?r:null,N=n&&S?n:j,M=Mr(Mr({},y),{},{stroke:y.stroke,tabIndex:-1,[o4]:x,[s4]:o});return g.createElement(li,Rl({key:"sector-".concat(y==null?void 0:y.startAngle,"-").concat(y==null?void 0:y.endAngle,"-").concat(y.midAngle,"-").concat(x),tabIndex:-1,className:"recharts-pie-sector"},Nk(m,y,x),{onMouseEnter:h(y,x),onMouseLeave:v(y,x),onClick:b(y,x)}),g.createElement(SL,Rl({option:i??N,index:x,shapeType:"sector",isActive:S},M)))}))}function Nte(e){var t,{pieSettings:n,displayedData:r,cells:a,offset:i}=e,{cornerRadius:o,startAngle:s,endAngle:l,dataKey:u,nameKey:d,tooltipType:f}=n,p=Math.abs(n.minAngle),m=yte(s,l),h=Math.abs(m),v=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,b=r.filter(N=>cr(N,u,0)!==0).length,y=(h>=360?b:b-1)*v,x=h-b*p-y,w=r.reduce((N,M)=>{var P=cr(M,u,0);return N+(Dt(P)?P:0)},0),S;if(w>0){var j;S=r.map((N,M)=>{var P=cr(N,u,0),B=cr(N,d,M),E=gte(n,i,N),I=(Dt(P)?P:0)/w,O,K=Mr(Mr({},N),a&&a[M]&&a[M].props);M?O=j.endAngle+La(m)*v*(P!==0?1:0):O=s;var Q=O+La(m)*((P!==0?p:0)+I*x),oe=(O+Q)/2,ve=(E.innerRadius+E.outerRadius)/2,ne=[{name:B,value:P,payload:K,dataKey:u,type:f,graphicalItemId:n.id}],H=Ur(E.cx,E.cy,ve,oe);return j=Mr(Mr(Mr(Mr({},n.presentationProps),{},{percent:I,cornerRadius:typeof o=="string"?parseFloat(o):o,name:B,tooltipPayload:ne,midAngle:oe,middleRadius:ve,tooltipPosition:H},K),E),{},{value:P,dataKey:u,startAngle:O,endAngle:Q,payload:K,paddingAngle:La(m)*v}),j})}return S}function jte(e){var{showLabels:t,sectors:n,children:r}=e,a=g.useMemo(()=>!t||!n?[]:n.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[n,t]);return g.createElement(GZ,{value:t?a:void 0},r)}function Cte(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:a,isAnimationActive:i,animationBegin:o,animationDuration:s,animationEasing:l,activeShape:u,inactiveShape:d,onAnimationStart:f,onAnimationEnd:p}=t,m=Ny(t,"recharts-pie-"),h=n.current,[v,b]=g.useState(!1),y=g.useCallback(()=>{typeof p=="function"&&p(),b(!1)},[p]),x=g.useCallback(()=>{typeof f=="function"&&f(),b(!0)},[f]);return g.createElement(jte,{showLabels:!v,sectors:a},g.createElement(Sy,{animationId:m,begin:o,duration:s,isActive:i,easing:l,onAnimationStart:x,onAnimationEnd:y,key:m},w=>{var S=[],j=a&&a[0],N=j==null?void 0:j.startAngle;return a==null||a.forEach((M,P)=>{var B=h&&h[P],E=P>0?Uc(M,"paddingAngle",0):0;if(B){var I=_a(B.endAngle-B.startAngle,M.endAngle-M.startAngle,w),O=Mr(Mr({},M),{},{startAngle:N+E,endAngle:N+I+E});S.push(O),N=O.endAngle}else{var{endAngle:K,startAngle:Q}=M,oe=_a(0,K-Q,w),ve=Mr(Mr({},M),{},{startAngle:N+E,endAngle:N+oe+E});S.push(ve),N=ve.endAngle}}),n.current=S,g.createElement(li,null,g.createElement(Ste,{sectors:S,activeShape:u,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:r}))}),g.createElement(kte,{showLabels:!v,sectors:a,props:t}),t.children)}var Mte={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:ka.area};function Ate(e){var{id:t}=e,n=Hy(e,ote),{hide:r,className:a,rootTabIndex:i}=e,o=g.useMemo(()=>xL(e.children,vd),[e.children]),s=Et(d=>dee(d,t,o)),l=g.useRef(null),u=Pn("recharts-pie",a);return r||s==null?(l.current=null,g.createElement(li,{tabIndex:i,className:u})):g.createElement(Eo,{zIndex:e.zIndex},g.createElement(pte,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:s,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),g.createElement(li,{tabIndex:i,className:u},g.createElement(Cte,{props:Mr(Mr({},n),{},{sectors:s}),previousSectorsRef:l,id:t})))}function l0(e){var t=Zr(e,Mte),{id:n}=t,r=Hy(t,ste),a=eo(r);return g.createElement(jL,{id:n,type:"pie"},i=>g.createElement(g.Fragment,null,g.createElement(rte,{type:"pie",id:i,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),g.createElement(fte,Rl({},r,{id:i})),g.createElement(Ate,Rl({},r,{id:i}))))}l0.displayName="Pie";var Ete=["points"];function n5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function sb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n5(Object(n),!0).forEach(function(r){Dte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dte(e,t,n){return(t=Pte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pte(e){var t=Tte(e,"string");return typeof t=="symbol"?t:t+""}function Tte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c0(){return c0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c0.apply(null,arguments)}function Ote(e,t){if(e==null)return{};var n,r,a=Ite(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ite(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function _te(e){var{option:t,dotProps:n,className:r}=e;if(g.isValidElement(t))return g.cloneElement(t,n);if(typeof t=="function")return t(n);var a=Pn(r,typeof t!="boolean"?t.className:""),i=n??{},{points:o}=i,s=Ote(i,Ete);return g.createElement(lL,c0({},s,{className:a}))}function Lte(e,t){return e==null?!1:t?!0:e.length===1}function Fte(e){var{points:t,dot:n,className:r,dotClassName:a,dataKey:i,baseProps:o,needClip:s,clipPathId:l,zIndex:u=ka.scatter}=e;if(!Lte(t,n))return null;var d=wL(n),f=hV(n),p=t.map((h,v)=>{var b,y,x=sb(sb(sb({r:3},o),f),{},{index:v,cx:(b=h.x)!==null&&b!==void 0?b:void 0,cy:(y=h.y)!==null&&y!==void 0?y:void 0,dataKey:i,value:h.value,payload:h.payload,points:t});return g.createElement(_te,{key:"dot-".concat(v),option:n,dotProps:x,className:a})}),m={};return s&&l!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(l,")")),g.createElement(Eo,{zIndex:u},g.createElement(li,c0({className:r},m),p))}function r5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function a5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r5(Object(n),!0).forEach(function(r){$te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $te(e,t,n){return(t=Rte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rte(e){var t=Bte(e,"string");return typeof t=="symbol"?t:t+""}function Bte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zte={xAxis:{},yAxis:{},zAxis:{}},ML=ui({name:"cartesianAxis",initialState:zte,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:dr()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:dr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:dr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:dr()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:dr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:dr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:dr()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:dr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:dr()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,a=e.yAxis[n];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&r===i[1]&&r!==a.width&&Math.abs(r-i[0])<=1)return;var o=[...i,r].slice(-3);e.yAxis[n]=a5(a5({},e.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:Ute,replaceXAxis:Vte,removeXAxis:Wte,addYAxis:Hte,replaceYAxis:qte,removeYAxis:Kte,addZAxis:k0e,replaceZAxis:S0e,removeZAxis:N0e,updateYAxisWidth:Gte}=ML.actions,Yte=ML.reducer,Qte=he([ca],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Xte=he([Qte,Hs,qs],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),lN=()=>Et(Xte),Jte=()=>Et(IX);function i5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function lb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i5(Object(n),!0).forEach(function(r){Zte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zte(e,t,n){return(t=ene(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ene(e){var t=tne(e,"string");return typeof t=="symbol"?t:t+""}function tne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nne=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:a,dataKey:i,clipPath:o}=e;if(a===!1||t.x==null||t.y==null)return null;var s={index:n,dataKey:i,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=lb(lb(lb({},s),cd(a)),Sk(a)),u;return g.isValidElement(a)?u=g.cloneElement(a,l):typeof a=="function"?u=a(l):u=g.createElement(lL,l),g.createElement(li,{className:"recharts-active-dot",clipPath:o},u)};function rne(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:a,clipPath:i,zIndex:o=ka.activeDot}=e,s=Et(yd),l=Jte();if(t==null||l==null)return null;var u=t.find(d=>l.includes(d.payload));return Jr(u)?null:g.createElement(Eo,{zIndex:o},g.createElement(nne,{point:u,childIndex:Number(s),mainColor:n,dataKey:a,activeDot:r,clipPath:i}))}var AL=e=>{var{chartData:t}=e,n=nr(),r=di();return g.useEffect(()=>r?()=>{}:(n(kA(t)),()=>{n(kA(void 0))}),[t,n,r]),null},o5={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},EL=ui({name:"brush",initialState:o5,reducers:{setBrushSettings(e,t){return t.payload==null?o5:t.payload}}}),{setBrushSettings:j0e}=EL.actions,ane=EL.reducer;function ine(e,t,n){return(t=one(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function one(e){var t=sne(e,"string");return typeof t=="symbol"?t:t+""}function sne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class cN{static create(t){return new cN(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?t>=r&&t<=a:t>=a&&t<=r}}ine(cN,"EPS",1e-4);function lne(e){return(e%180+180)%180}var cne=function(e){var{width:t,height:n}=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=lne(r),i=a*Math.PI/180,o=Math.atan(n/t),s=i>o&&i<Math.PI-o?n/Math.sin(i):t/Math.cos(i);return Math.abs(s)},une={dots:[],areas:[],lines:[]},DL=ui({name:"referenceElements",initialState:une,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=bo(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=bo(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=bo(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:C0e,removeDot:M0e,addArea:A0e,removeArea:E0e,addLine:D0e,removeLine:P0e}=DL.actions,dne=DL.reducer,fne=g.createContext(void 0),pne=e=>{var{children:t}=e,[n]=g.useState("".concat(sp("recharts"),"-clip")),r=lN();if(r==null)return null;var{x:a,y:i,width:o,height:s}=r;return g.createElement(fne.Provider,{value:n},g.createElement("defs",null,g.createElement("clipPath",{id:n},g.createElement("rect",{x:a,y:i,height:s,width:o}))),t)};function PL(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var a=e[r];a!==void 0&&n.push(a)}return n}function mne(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return cne(r,n)}function hne(e,t,n){var r=n==="width",{x:a,y:i,width:o,height:s}=e;return t===1?{start:r?a:i,end:r?a+o:i+s}:{start:r?a+o:i+s,end:r?a:i}}function wp(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-a)<=0}function gne(e,t){return PL(e,t+1)}function yne(e,t,n,r,a){for(var i=(r||[]).slice(),{start:o,end:s}=t,l=0,u=1,d=o,f=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:PL(r,u)};var h=l,v,b=()=>(v===void 0&&(v=n(m,h)),v),y=m.coordinate,x=l===0||wp(e,y,b,d,s);x||(l=0,d=o,u+=1),x&&(d=y+e*(b()/2+a),l+=u)},p;u<=i.length;)if(p=f(),p)return p.v;return[]}function vne(e,t,n,r,a){var i=(r||[]).slice(),o=i.length;if(o===0)return[];for(var{start:s,end:l}=t,u=1;u<=o;u++){for(var d=(o-1)%u,f=s,p=!0,m=function(){var y=r[h],x=h,w,S=()=>(w===void 0&&(w=n(y,x)),w),j=y.coordinate,N=h===d||wp(e,j,S,f,l);if(!N)return p=!1,1;N&&(f=j+e*(S()/2+a))},h=d;h<o&&!m();h+=u);if(p){for(var v=[],b=d;b<o;b+=u)v.push(r[b]);return v}}return[]}function s5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ta(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s5(Object(n),!0).forEach(function(r){bne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bne(e,t,n){return(t=xne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xne(e){var t=wne(e,"string");return typeof t=="symbol"?t:t+""}function wne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kne(e,t,n,r,a){for(var i=(r||[]).slice(),o=i.length,{start:s}=t,{end:l}=t,u=function(f){var p=i[f],m,h=()=>(m===void 0&&(m=n(p,f)),m);if(f===o-1){var v=e*(p.coordinate+e*h()/2-l);i[f]=p=Ta(Ta({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else i[f]=p=Ta(Ta({},p),{},{tickCoord:p.coordinate});if(p.tickCoord!=null){var b=wp(e,p.tickCoord,h,s,l);b&&(l=p.tickCoord-e*(h()/2+a),i[f]=Ta(Ta({},p),{},{isShow:!0}))}},d=o-1;d>=0;d--)u(d);return i}function Sne(e,t,n,r,a,i){var o=(r||[]).slice(),s=o.length,{start:l,end:u}=t;if(i){var d=r[s-1],f=n(d,s-1),p=e*(d.coordinate+e*f/2-u);if(o[s-1]=d=Ta(Ta({},d),{},{tickCoord:p>0?d.coordinate-p*e:d.coordinate}),d.tickCoord!=null){var m=wp(e,d.tickCoord,()=>f,l,u);m&&(u=d.tickCoord-e*(f/2+a),o[s-1]=Ta(Ta({},d),{},{isShow:!0}))}}for(var h=i?s-1:s,v=function(y){var x=o[y],w,S=()=>(w===void 0&&(w=n(x,y)),w);if(y===0){var j=e*(x.coordinate-e*S()/2-l);o[y]=x=Ta(Ta({},x),{},{tickCoord:j<0?x.coordinate-j*e:x.coordinate})}else o[y]=x=Ta(Ta({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var N=wp(e,x.tickCoord,S,l,u);N&&(l=x.tickCoord+e*(S()/2+a),o[y]=Ta(Ta({},x),{},{isShow:!0}))}},b=0;b<h;b++)v(b);return o}function uN(e,t,n){var{tick:r,ticks:a,viewBox:i,minTickGap:o,orientation:s,interval:l,tickFormatter:u,unit:d,angle:f}=e;if(!a||!a.length||!r)return[];if(Dt(l)||ky.isSsr){var p;return(p=gne(a,Dt(l)?l:0))!==null&&p!==void 0?p:[]}var m=[],h=s==="top"||s==="bottom"?"width":"height",v=d&&h==="width"?Pf(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},b=(w,S)=>{var j=typeof u=="function"?u(w.value,S):w.value;return h==="width"?mne(Pf(j,{fontSize:t,letterSpacing:n}),v,f):Pf(j,{fontSize:t,letterSpacing:n})[h]},y=a.length>=2?La(a[1].coordinate-a[0].coordinate):1,x=hne(i,y,h);return l==="equidistantPreserveStart"?yne(y,x,b,a,o):l==="equidistantPreserveEnd"?vne(y,x,b,a,o):(l==="preserveStart"||l==="preserveStartEnd"?m=Sne(y,x,b,a,o,l==="preserveStartEnd"):m=kne(y,x,b,a,o),m.filter(w=>w.isShow))}var Nne=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var s=n?n.getBoundingClientRect().width:0,l=a+i,u=o+l+s+(n?r:0);return Math.round(u)}return 0},jne=["axisLine","width","height","className","hide","ticks","axisType"];function Cne(e,t){if(e==null)return{};var n,r,a=Mne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Mne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Kc(){return Kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kc.apply(null,arguments)}function l5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Br(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l5(Object(n),!0).forEach(function(r){Ane(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ane(e,t,n){return(t=Ene(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ene(e){var t=Dne(e,"string");return typeof t=="symbol"?t:t+""}function Dne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var As={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:ka.axis};function Pne(e){var{x:t,y:n,width:r,height:a,orientation:i,mirror:o,axisLine:s,otherSvgProps:l}=e;if(!s)return null;var u=Br(Br(Br({},l),eo(s)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!o||i==="bottom"&&o);u=Br(Br({},u),{},{x1:t,y1:n+d*a,x2:t+r,y2:n+d*a})}else{var f=+(i==="left"&&!o||i==="right"&&o);u=Br(Br({},u),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+a})}return g.createElement("line",Kc({},u,{className:Pn("recharts-cartesian-axis-line",Uc(s,"className"))}))}function Tne(e,t,n,r,a,i,o,s,l){var u,d,f,p,m,h,v=s?-1:1,b=e.tickSize||o,y=Dt(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":u=d=e.coordinate,p=n+ +!s*a,f=p-v*b,h=f-v*l,m=y;break;case"left":f=p=e.coordinate,d=t+ +!s*r,u=d-v*b,m=u-v*l,h=y;break;case"right":f=p=e.coordinate,d=t+ +s*r,u=d+v*b,m=u+v*l,h=y;break;default:u=d=e.coordinate,p=n+ +s*a,f=p+v*b,h=f+v*l,m=y;break}return{line:{x1:u,y1:f,x2:d,y2:p},tick:{x:m,y:h}}}function One(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Ine(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function _ne(e){var{option:t,tickProps:n,value:r}=e,a,i=Pn(n.className,"recharts-cartesian-axis-tick-value");if(g.isValidElement(t))a=g.cloneElement(t,Br(Br({},n),{},{className:i}));else if(typeof t=="function")a=t(Br(Br({},n),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Pn(o,t==null?void 0:t.className)),a=g.createElement(By,Kc({},n,{className:o}),r)}return a}var Lne=g.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:a,stroke:i,tickFormatter:o,unit:s,padding:l,tickTextProps:u,orientation:d,mirror:f,x:p,y:m,width:h,height:v,tickSize:b,tickMargin:y,fontSize:x,letterSpacing:w,getTicksConfig:S,events:j,axisType:N}=e,M=uN(Br(Br({},S),{},{ticks:n}),x,w),P=One(d,f),B=Ine(d,f),E=eo(S),I=cd(r),O={};typeof a=="object"&&(O=a);var K=Br(Br({},E),{},{fill:"none"},O),Q=M.map(ne=>Br({entry:ne},Tne(ne,p,m,h,v,d,b,f,y))),oe=Q.map(ne=>{var{entry:H,line:V}=ne;return g.createElement(li,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},a&&g.createElement("line",Kc({},K,V,{className:Pn("recharts-cartesian-axis-tick-line",Uc(a,"className"))})))}),ve=Q.map((ne,H)=>{var{entry:V,tick:k}=ne,z=Br(Br(Br(Br({textAnchor:P,verticalAnchor:B},E),{},{stroke:"none",fill:i},I),k),{},{index:H,payload:V,visibleTicksCount:M.length,tickFormatter:o,padding:l},u);return g.createElement(li,Kc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(V.value,"-").concat(V.coordinate,"-").concat(V.tickCoord)},Nk(j,V,H)),r&&g.createElement(_ne,{option:r,tickProps:z,value:"".concat(typeof o=="function"?o(V.value,H):V.value).concat(s||"")}))});return g.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(N,"-ticks")},ve.length>0&&g.createElement(Eo,{zIndex:ka.label},g.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(N,"-tick-labels"),ref:t},ve)),oe.length>0&&g.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(N,"-tick-lines")},oe))}),Fne=g.forwardRef((e,t)=>{var{axisLine:n,width:r,height:a,className:i,hide:o,ticks:s,axisType:l}=e,u=Cne(e,jne),[d,f]=g.useState(""),[p,m]=g.useState(""),h=g.useRef(null);g.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var b;return Nne({ticks:h.current,label:(b=e.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var v=g.useCallback(b=>{if(b){var y=b.getElementsByClassName("recharts-cartesian-axis-tick-value");h.current=y;var x=y[0];if(x){var w=window.getComputedStyle(x),S=w.fontSize,j=w.letterSpacing;(S!==d||j!==p)&&(f(S),m(j))}}},[d,p]);return o||r!=null&&r<=0||a!=null&&a<=0?null:g.createElement(Eo,{zIndex:e.zIndex},g.createElement(li,{className:Pn("recharts-cartesian-axis",i)},g.createElement(Pne,{x:e.x,y:e.y,width:r,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:eo(e)}),g.createElement(Lne,{ref:v,axisType:l,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:p,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:s,unit:e.unit,width:e.width,x:e.x,y:e.y}),g.createElement(DZ,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},g.createElement(BZ,{label:e.label,labelRef:e.labelRef}),e.children)))}),dN=g.forwardRef((e,t)=>{var n=Zr(e,As);return g.createElement(Fne,Kc({},n,{ref:t}))});dN.displayName="CartesianAxis";var $ne=["x1","y1","x2","y2","key"],Rne=["offset"],Bne=["xAxisId","yAxisId"],zne=["xAxisId","yAxisId"];function c5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ia(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c5(Object(n),!0).forEach(function(r){Une(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Une(e,t,n){return(t=Vne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vne(e){var t=Wne(e,"string");return typeof t=="symbol"?t:t+""}function Wne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cc(){return Cc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cc.apply(null,arguments)}function u0(e,t){if(e==null)return{};var n,r,a=Hne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Hne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var qne=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:a,width:i,height:o,ry:s}=e;return g.createElement("rect",{x:r,y:a,ry:s,width:i,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function TL(e){var{option:t,lineItemProps:n}=e,r;if(g.isValidElement(t))r=g.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var a,{x1:i,y1:o,x2:s,y2:l,key:u}=n,d=u0(n,$ne),f=(a=eo(d))!==null&&a!==void 0?a:{},{offset:p}=f,m=u0(f,Rne);r=g.createElement("line",Cc({},m,{x1:i,y1:o,x2:s,y2:l,fill:"none",key:u}))}return r}function Kne(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,s=u0(e,Bne),l=a.map((u,d)=>{var f=Ia(Ia({},s),{},{x1:t,y1:u,x2:t+n,y2:u,key:"line-".concat(d),index:d});return g.createElement(TL,{key:"line-".concat(d),option:r,lineItemProps:f})});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Gne(e){var{y:t,height:n,vertical:r=!0,verticalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,s=u0(e,zne),l=a.map((u,d)=>{var f=Ia(Ia({},s),{},{x1:u,y1:t,x2:u,y2:t+n,key:"line-".concat(d),index:d});return g.createElement(TL,{option:r,lineItemProps:f,key:"line-".concat(d)})});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Yne(e){var{horizontalFill:t,fillOpacity:n,x:r,y:a,width:i,height:o,horizontalPoints:s,horizontal:l=!0}=e;if(!l||!t||!t.length||s==null)return null;var u=s.map(f=>Math.round(f+a-a)).sort((f,p)=>f-p);a!==u[0]&&u.unshift(0);var d=u.map((f,p)=>{var m=!u[p+1],h=m?a+o-f:u[p+1]-f;if(h<=0)return null;var v=p%t.length;return g.createElement("rect",{key:"react-".concat(p),y:f,x:r,height:h,width:i,stroke:"none",fill:t[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Qne(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:a,y:i,width:o,height:s,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var u=l.map(f=>Math.round(f+a-a)).sort((f,p)=>f-p);a!==u[0]&&u.unshift(0);var d=u.map((f,p)=>{var m=!u[p+1],h=m?a+o-f:u[p+1]-f;if(h<=0)return null;var v=p%n.length;return g.createElement("rect",{key:"react-".concat(p),x:f,y:i,width:h,height:s,stroke:"none",fill:n[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Xne=(e,t)=>{var{xAxis:n,width:r,height:a,offset:i}=e;return r4(uN(Ia(Ia(Ia({},As),n),{},{ticks:a4(n),viewBox:{x:0,y:0,width:r,height:a}})),i.left,i.left+i.width,t)},Jne=(e,t)=>{var{yAxis:n,width:r,height:a,offset:i}=e;return r4(uN(Ia(Ia(Ia({},As),n),{},{ticks:a4(n),viewBox:{x:0,y:0,width:r,height:a}})),i.top,i.top+i.height,t)},Zne={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:ka.grid};function Gc(e){var t=Vk(),n=Wk(),r=g4(),a=Ia(Ia({},Zr(e,Zne)),{},{x:Dt(e.x)?e.x:r.left,y:Dt(e.y)?e.y:r.top,width:Dt(e.width)?e.width:r.width,height:Dt(e.height)?e.height:r.height}),{xAxisId:i,yAxisId:o,x:s,y:l,width:u,height:d,syncWithTicks:f,horizontalValues:p,verticalValues:m}=a,h=di(),v=Et(B=>dA(B,"xAxis",i,h)),b=Et(B=>dA(B,"yAxis",o,h));if(!ns(u)||!ns(d)||!Dt(s)||!Dt(l))return null;var y=a.verticalCoordinatesGenerator||Xne,x=a.horizontalCoordinatesGenerator||Jne,{horizontalPoints:w,verticalPoints:S}=a;if((!w||!w.length)&&typeof x=="function"){var j=p&&p.length,N=x({yAxis:b?Ia(Ia({},b),{},{ticks:j?p:b.ticks}):void 0,width:t??u,height:n??d,offset:r},j?!0:f);Lg(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(w=N)}if((!S||!S.length)&&typeof y=="function"){var M=m&&m.length,P=y({xAxis:v?Ia(Ia({},v),{},{ticks:M?m:v.ticks}):void 0,width:t??u,height:n??d,offset:r},M?!0:f);Lg(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(S=P)}return g.createElement(Eo,{zIndex:a.zIndex},g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement(qne,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),g.createElement(Yne,Cc({},a,{horizontalPoints:w})),g.createElement(Qne,Cc({},a,{verticalPoints:S})),g.createElement(Kne,Cc({},a,{offset:r,horizontalPoints:w,xAxis:v,yAxis:b})),g.createElement(Gne,Cc({},a,{offset:r,verticalPoints:S,xAxis:v,yAxis:b}))))}Gc.displayName="CartesianGrid";var ere={},OL=ui({name:"errorBars",initialState:ere,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:a}=t.payload;e[n]&&(e[n]=e[n].map(i=>i.dataKey===r.dataKey&&i.direction===r.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:T0e,replaceErrorBar:O0e,removeErrorBar:I0e}=OL.actions,tre=OL.reducer,nre=["children"];function rre(e,t){if(e==null)return{};var n,r,a=are(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function are(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ire={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ore=g.createContext(ire);function sre(e){var{children:t}=e,n=rre(e,nre);return g.createElement(ore.Provider,{value:n},t)}function IL(e,t){var n,r,a=Et(u=>Gs(u,e)),i=Et(u=>Ys(u,t)),o=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:aa.allowDataOverflow,s=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:ia.allowDataOverflow,l=o||s;return{needClip:l,needClipX:o,needClipY:s}}function lre(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,a=lN(),{needClipX:i,needClipY:o,needClip:s}=IL(t,n);if(!s||!a)return null;var{x:l,y:u,width:d,height:f}=a;return g.createElement("clipPath",{id:"clipPath-".concat(r)},g.createElement("rect",{x:i?l:l-d/2,y:o?u:u-f/2,width:i?d:d*2,height:o?f:f*2}))}var _L=(e,t,n,r)=>m_(e,"xAxis",t,r),LL=(e,t,n,r)=>p_(e,"xAxis",t,r),FL=(e,t,n,r)=>m_(e,"yAxis",n,r),$L=(e,t,n,r)=>p_(e,"yAxis",n,r),cre=he([Wn,_L,FL,LL,$L],(e,t,n,r,a)=>Hl(e,"xAxis")?Zx(t,r,!1):Zx(n,a,!1)),ure=(e,t,n,r,a)=>a;function dre(e){return e.type==="line"}var fre=he([KI,ure],(e,t)=>e.filter(dre).find(n=>n.id===t)),pre=he([Wn,_L,FL,LL,$L,fre,cre,vS],(e,t,n,r,a,i,o,s)=>{var{chartData:l,dataStartIndex:u,dataEndIndex:d}=s;if(!(i==null||t==null||n==null||r==null||a==null||r.length===0||a.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:p}=i,m;if(p!=null&&p.length>0?m=p:m=l==null?void 0:l.slice(u,d+1),m!=null)return Qre({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataKey:f,bandSize:o,displayedData:m})}});function mre(e){var t=cd(e),n=3,r=2;if(t!=null){var{r:a,strokeWidth:i}=t,o=Number(a),s=Number(i);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(s)||s<0)&&(s=r),{r:o,strokeWidth:s}}return{r:n,strokeWidth:r}}/**
* @license React
* use-sync-external-store-with-selector.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var cm=g;cm.useSyncExternalStore;cm.useRef;cm.useEffect;cm.useMemo;cm.useDebugValue;function hre(e){e()}function gre(){let e=null,t=null;return{clear(){e=null,t=null},notify(){hre(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!r||e===null||(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var u5={notify(){},get:()=>[]};function yre(e,t){let n,r=u5,a=0,i=!1;function o(v){d();const b=r.subscribe(v);let y=!1;return()=>{y||(y=!0,b(),f())}}function s(){r.notify()}function l(){h.onStateChange&&h.onStateChange()}function u(){return i}function d(){a++,n||(n=e.subscribe(l),r=gre())}function f(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=u5)}function p(){i||(i=!0,d())}function m(){i&&(i=!1,f())}const h={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:u,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>r};return h}var vre=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bre=vre(),xre=()=>typeof navigator<"u"&&navigator.product==="ReactNative",wre=xre(),kre=()=>bre||wre?g.useLayoutEffect:g.useEffect,Sre=kre();function d5(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Nre(e,t){if(d5(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(t,n[a])||!d5(e[n[a]],t[n[a]]))return!1;return!0}var f5=Symbol.for("react-redux-context"),p5=typeof globalThis<"u"?globalThis:{};function jre(){if(!g.createContext)return{};const e=p5[f5]??(p5[f5]=new Map);let t=e.get(g.createContext);return t||(t=g.createContext(null),e.set(g.createContext,t)),t}var Cre=jre();function Mre(e){const{children:t,context:n,serverState:r,store:a}=e,i=g.useMemo(()=>{const l=yre(a);return{store:a,subscription:l,getServerState:r?()=>r:void 0}},[a,r]),o=g.useMemo(()=>a.getState(),[a]);Sre(()=>{const{subscription:l}=i;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==a.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[i,o]);const s=n||Cre;return g.createElement(s.Provider,{value:i},t)}var Are=Mre,Ere=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Dre(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function fN(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(Ere.has(r)){if(e[r]==null&&t[r]==null)continue;if(!Nre(e[r],t[r]))return!1}else if(!Dre(e[r],t[r]))return!1;return!0}var Pre=["id"],Tre=["type","layout","connectNulls","needClip","shape"],Ore=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function kp(){return kp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kp.apply(null,arguments)}function m5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ko(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m5(Object(n),!0).forEach(function(r){Ire(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ire(e,t,n){return(t=_re(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _re(e){var t=Lre(e,"string");return typeof t=="symbol"?t:t+""}function Lre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pN(e,t){if(e==null)return{};var n,r,a=Fre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Fre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $re=e=>{var{dataKey:t,name:n,stroke:r,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:r,value:fy(n,t),payload:e}]},Rre=g.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:a,fill:i,name:o,hide:s,unit:l,tooltipType:u,id:d}=e,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:fy(o,t),hide:s,type:u,color:r,unit:l,graphicalItemId:d}};return g.createElement(NL,{tooltipEntrySettings:f})}),RL=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Bre(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],a=0;a<t;++a)r=[...r,...n];return r}var zre=(e,t,n)=>{var r=n.reduce((f,p)=>f+p);if(!r)return RL(t,e);for(var a=Math.floor(e/r),i=e%r,o=t-e,s=[],l=0,u=0;l<n.length;u+=n[l],++l)if(u+n[l]>i){s=[...n.slice(0,l),i-u];break}var d=s.length%2===0?[0,o]:[o];return[...Bre(n,a),...s,...d].map(f=>"".concat(f,"px")).join(", ")};function Ure(e){var{clipPathId:t,points:n,props:r}=e,{dot:a,dataKey:i,needClip:o}=r,{id:s}=r,l=pN(r,Pre),u=eo(l);return g.createElement(Fte,{points:n,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:u,needClip:o,clipPathId:t})}function Vre(e){var{showLabels:t,children:n,points:r}=e,a=g.useMemo(()=>r==null?void 0:r.map(i=>{var o,s,l={x:(o=i.x)!==null&&o!==void 0?o:0,y:(s=i.y)!==null&&s!==void 0?s:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ko(Ko({},l),{},{value:i.value,payload:i.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return g.createElement(KZ,{value:t?a:void 0},n)}function h5(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:a,props:i}=e,{type:o,layout:s,connectNulls:l,needClip:u,shape:d}=i,f=pN(i,Tre),p=Ko(Ko({},Ga(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:r,type:o,layout:s,connectNulls:l,strokeDasharray:a??i.strokeDasharray});return g.createElement(g.Fragment,null,(r==null?void 0:r.length)>1&&g.createElement(SL,kp({shapeType:"curve",option:d},p,{pathRef:n})),g.createElement(Ure,{points:r,clipPathId:t,props:i}))}function Wre(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Hre(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:s,isAnimationActive:l,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:p,width:m,height:h,onAnimationEnd:v,onAnimationStart:b}=n,y=a.current,x=Ny(o,"recharts-line-"),w=g.useRef(x),[S,j]=g.useState(!1),N=!S,M=g.useCallback(()=>{typeof v=="function"&&v(),j(!1)},[v]),P=g.useCallback(()=>{typeof b=="function"&&b(),j(!0)},[b]),B=Wre(r.current),E=g.useRef(0);w.current!==x&&(E.current=i.current,w.current=x);var I=E.current;return g.createElement(Vre,{points:o,showLabels:N},n.children,g.createElement(Sy,{animationId:x,begin:u,duration:d,isActive:l,easing:f,onAnimationEnd:M,onAnimationStart:P,key:x},O=>{var K=_a(I,B+I,O),Q=Math.min(K,B),oe;if(l)if(s){var ve="".concat(s).split(/[,\s]+/gim).map(V=>parseFloat(V));oe=zre(Q,B,ve)}else oe=RL(B,Q);else oe=s==null?void 0:String(s);if(O>0&&B>0&&(a.current=o,i.current=Math.max(i.current,Q)),y){var ne=y.length/o.length,H=O===1?o:o.map((V,k)=>{var z=Math.floor(k*ne);if(y[z]){var T=y[z];return Ko(Ko({},V),{},{x:_a(T.x,V.x,O),y:_a(T.y,V.y,O)})}return p?Ko(Ko({},V),{},{x:_a(m*2,V.x,O),y:_a(h/2,V.y,O)}):Ko(Ko({},V),{},{x:V.x,y:V.y})});return a.current=H,g.createElement(h5,{props:n,points:H,clipPathId:t,pathRef:r,strokeDasharray:oe})}return g.createElement(h5,{props:n,points:o,clipPathId:t,pathRef:r,strokeDasharray:oe})}),g.createElement(sL,{label:n.label}))}function qre(e){var{clipPathId:t,props:n}=e,r=g.useRef(null),a=g.useRef(0),i=g.useRef(null);return g.createElement(Hre,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:a,pathRef:i})}var Kre=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:cr(e.payload,t)}};class Gre extends g.Component{render(){var{hide:t,dot:n,points:r,className:a,xAxisId:i,yAxisId:o,top:s,left:l,width:u,height:d,id:f,needClip:p,zIndex:m}=this.props;if(t)return null;var h=Pn("recharts-line",a),v=f,{r:b,strokeWidth:y}=mre(n),x=wL(n),w=b*2+y,S=p?"url(#clipPath-".concat(x?"":"dots-").concat(v,")"):void 0;return g.createElement(Eo,{zIndex:m},g.createElement(li,{className:h},p&&g.createElement("defs",null,g.createElement(lre,{clipPathId:v,xAxisId:i,yAxisId:o}),!x&&g.createElement("clipPath",{id:"clipPath-dots-".concat(v)},g.createElement("rect",{x:l-w/2,y:s-w/2,width:u+w,height:d+w}))),g.createElement(sre,{xAxisId:i,yAxisId:o,data:r,dataPointFormatter:Kre,errorBarOffset:0},g.createElement(qre,{props:this.props,clipPathId:v}))),g.createElement(rne,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:S}))}}var BL={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:ka.line,type:"linear"};function Yre(e){var t=Zr(e,BL),{activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:s,dot:l,hide:u,isAnimationActive:d,label:f,legendType:p,xAxisId:m,yAxisId:h,id:v}=t,b=pN(t,Ore),{needClip:y}=IL(m,h),x=lN(),w=Rp(),S=di(),j=Et(E=>pre(E,m,h,S,v));if(w!=="horizontal"&&w!=="vertical"||j==null||x==null)return null;var{height:N,width:M,x:P,y:B}=x;return g.createElement(Gre,kp({},b,{id:v,connectNulls:s,dot:l,activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:i,animationEasing:o,isAnimationActive:d,hide:u,label:f,legendType:p,xAxisId:m,yAxisId:h,points:j,layout:w,height:N,width:M,left:P,top:B,needClip:y}))}function Qre(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:i,dataKey:o,bandSize:s,displayedData:l}=e;return l.map((u,d)=>{var f=cr(u,o);if(t==="horizontal"){var p=SC({axis:n,ticks:a,bandSize:s,entry:u,index:d}),m=Jr(f)?null:r.scale(f);return{x:p,y:m,value:f,payload:u}}var h=Jr(f)?null:n.scale(f),v=SC({axis:r,ticks:i,bandSize:s,entry:u,index:d});return h==null||v==null?null:{x:h,y:v,value:f,payload:u}}).filter(Boolean)}function Xre(e){var t=Zr(e,BL),n=di();return g.createElement(jL,{id:t.id,type:"line"},r=>g.createElement(g.Fragment,null,g.createElement(Uee,{legendPayload:$re(t)}),g.createElement(Rre,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),g.createElement(nte,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),g.createElement(Yre,kp({},t,{id:r}))))}var Ki=g.memo(Xre,fN);Ki.displayName="Line";var Jre=["domain","range"],Zre=["domain","range"];function g5(e,t){if(e==null)return{};var n,r,a=eae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function eae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function y5(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function zL(e,t){if(e===t)return!0;var{domain:n,range:r}=e,a=g5(e,Jre),{domain:i,range:o}=t,s=g5(t,Zre);return!y5(n,i)||!y5(r,o)?!1:fN(a,s)}var tae=["dangerouslySetInnerHTML","ticks","scale"],nae=["id","scale"];function Dw(){return Dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dw.apply(null,arguments)}function v5(e,t){if(e==null)return{};var n,r,a=rae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function rae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function aae(e){var t=nr(),n=g.useRef(null);return g.useLayoutEffect(()=>{n.current===null?t(Ute(e)):n.current!==e&&t(Vte({prev:n.current,next:e})),n.current=e},[e,t]),g.useLayoutEffect(()=>()=>{n.current&&(t(Wte(n.current)),n.current=null)},[t]),null}var iae=e=>{var{xAxisId:t,className:n}=e,r=Et(l4),a=di(),i="xAxis",o=Et(y=>f_(y,i,t,a)),s=Et(y=>kQ(y,t)),l=Et(y=>AQ(y,t)),u=Et(y=>WI(y,t));if(s==null||l==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:p}=e,m=v5(e,tae),{id:h,scale:v}=u,b=v5(u,nae);return g.createElement(dN,Dw({},m,b,{x:l.x,y:l.y,width:s.width,height:s.height,className:Pn("recharts-".concat(i," ").concat(i),n),viewBox:r,ticks:o,axisType:i}))},oae={allowDataOverflow:aa.allowDataOverflow,allowDecimals:aa.allowDecimals,allowDuplicatedCategory:aa.allowDuplicatedCategory,angle:aa.angle,axisLine:As.axisLine,height:aa.height,hide:!1,includeHidden:aa.includeHidden,interval:aa.interval,minTickGap:aa.minTickGap,mirror:aa.mirror,orientation:aa.orientation,padding:aa.padding,reversed:aa.reversed,scale:aa.scale,tick:aa.tick,tickCount:aa.tickCount,tickLine:As.tickLine,tickSize:As.tickSize,type:aa.type,xAxisId:0},sae=e=>{var t=Zr(e,oae);return g.createElement(g.Fragment,null,g.createElement(aae,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),g.createElement(iae,t))},Yc=g.memo(sae,zL);Yc.displayName="XAxis";var lae=["dangerouslySetInnerHTML","ticks","scale"],cae=["id","scale"];function Pw(){return Pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pw.apply(null,arguments)}function b5(e,t){if(e==null)return{};var n,r,a=uae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function uae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function dae(e){var t=nr(),n=g.useRef(null);return g.useLayoutEffect(()=>{n.current===null?t(Hte(e)):n.current!==e&&t(qte({prev:n.current,next:e})),n.current=e},[e,t]),g.useLayoutEffect(()=>()=>{n.current&&(t(Kte(n.current)),n.current=null)},[t]),null}var fae=e=>{var{yAxisId:t,className:n,width:r,label:a}=e,i=g.useRef(null),o=g.useRef(null),s=Et(l4),l=di(),u=nr(),d="yAxis",f=Et(N=>PQ(N,t)),p=Et(N=>DQ(N,t)),m=Et(N=>f_(N,d,t,l)),h=Et(N=>HI(N,t));if(g.useLayoutEffect(()=>{if(!(r!=="auto"||!f||aN(a)||g.isValidElement(a)||h==null)){var N=i.current;if(N){var M=N.getCalculatedWidth();Math.round(f.width)!==Math.round(M)&&u(Gte({id:t,width:M}))}}},[m,f,u,a,t,r,h]),f==null||p==null||h==null)return null;var{dangerouslySetInnerHTML:v,ticks:b,scale:y}=e,x=b5(e,lae),{id:w,scale:S}=h,j=b5(h,cae);return g.createElement(dN,Pw({},x,j,{ref:i,labelRef:o,x:p.x,y:p.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:Pn("recharts-".concat(d," ").concat(d),n),viewBox:s,ticks:m,axisType:d}))},pae={allowDataOverflow:ia.allowDataOverflow,allowDecimals:ia.allowDecimals,allowDuplicatedCategory:ia.allowDuplicatedCategory,angle:ia.angle,axisLine:As.axisLine,hide:!1,includeHidden:ia.includeHidden,interval:ia.interval,minTickGap:ia.minTickGap,mirror:ia.mirror,orientation:ia.orientation,padding:ia.padding,reversed:ia.reversed,scale:ia.scale,tick:ia.tick,tickCount:ia.tickCount,tickLine:As.tickLine,tickSize:As.tickSize,type:ia.type,width:ia.width,yAxisId:0},mae=e=>{var t=Zr(e,pae);return g.createElement(g.Fragment,null,g.createElement(dae,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),g.createElement(fae,t))},Qc=g.memo(mae,zL);Qc.displayName="YAxis";var hae=(e,t)=>t,mN=he([hae,Wn,zI,ta,D_,Qs,KX,ca],eJ),hN=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},UL=to("mouseClick"),VL=Fp();VL.startListening({actionCreator:UL,effect:(e,t)=>{var n=e.payload,r=mN(t.getState(),hN(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(HQ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Tw=to("mouseMove"),WL=Fp(),fh=null;WL.startListening({actionCreator:Tw,effect:(e,t)=>{var n=e.payload;fh!==null&&cancelAnimationFrame(fh);var r=hN(n);fh=requestAnimationFrame(()=>{var a=t.getState(),i=GS(a,a.tooltip.settings.shared);if(i==="axis"){var o=mN(a,r);(o==null?void 0:o.activeIndex)!=null?t.dispatch(k_({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(w_())}fh=null})}});function gae(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var x5={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},HL=ui({name:"rootProps",initialState:x5,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:x5.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),yae=HL.reducer,{updateOptions:vae}=HL.actions,qL=ui({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:bae}=qL.actions,xae=qL.reducer,KL=to("keyDown"),GL=to("focus"),gN=Fp();gN.startListening({actionCreator:KL,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=YS(a,_d(n),Yp(n),Jp(n)),s=o==null?-1:Number(o);if(!(!Number.isFinite(s)||s<0)){var l=Qs(n);if(i==="Enter"){var u=a0(n,"axis","hover",String(a.index));t.dispatch(Nw({active:!a.active,activeIndex:a.index,activeCoordinate:u}));return}var d=_Q(n),f=d==="left-to-right"?1:-1,p=i==="ArrowRight"?1:-1,m=s+p*f;if(!(l==null||m>=l.length||m<0)){var h=a0(n,"axis","hover",String(m));t.dispatch(Nw({active:!0,activeIndex:m.toString(),activeCoordinate:h}))}}}}}});gN.startListening({actionCreator:GL,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var i="0",o=a0(n,"axis","hover",String(i));t.dispatch(Nw({active:!0,activeIndex:i,activeCoordinate:o}))}}}});var zi=to("externalEvent"),YL=Fp(),cb=new Map;YL.startListening({actionCreator:zi,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var a=r.type,i=cb.get(a);i!==void 0&&cancelAnimationFrame(i);var o=requestAnimationFrame(()=>{try{var s=t.getState(),l={activeCoordinate:PX(s),activeDataKey:I_(s),activeIndex:yd(s),activeLabel:O_(s),activeTooltipIndex:yd(s),isTooltipActive:TX(s)};n(l,r)}finally{cb.delete(a)}});cb.set(a,o)}}});var wae=he([Od],e=>e.tooltipItemPayloads),kae=he([wae,Xp,(e,t)=>t,(e,t,n)=>n],(e,t,n,r)=>{var a=e.find(s=>s.settings.graphicalItemId===r);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,n);return o}}}),QL=to("touchMove"),XL=Fp();XL.startListening({actionCreator:QL,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),a=GS(r,r.tooltip.settings.shared);if(a==="axis"){var i=n.touches[0];if(i==null)return;var o=mN(r,hN({clientX:i.clientX,clientY:i.clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(k_({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var s,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(o4),f=(s=u.getAttribute(s4))!==null&&s!==void 0?s:void 0,p=Id(r).find(v=>v.id===f);if(d==null||p==null||f==null)return;var{dataKey:m}=p,h=kae(r,d,f);t.dispatch(x_({activeDataKey:m,activeIndex:d,activeCoordinate:h,activeGraphicalItemId:f}))}}}});var Sae=AO({brush:ane,cartesianAxis:Yte,chartData:DJ,errorBars:tre,graphicalItems:ete,layout:fW,legend:pH,options:jJ,polarAxis:aee,polarOptions:xae,referenceElements:dne,rootProps:yae,tooltip:qQ,zIndex:mJ}),Nae=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return F9({reducer:Sae,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([VL.middleware,WL.middleware,gN.middleware,YL.middleware,XL.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(VO({type:"raf"}))},devTools:{serialize:{replacer:gae},name:"recharts-".concat(t)}})};function JL(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,a=di(),i=g.useRef(null);if(a)return n;i.current==null&&(i.current=Nae(t,r));var o=Ok;return g.createElement(Are,{context:o,store:i.current},n)}function jae(e){var{layout:t,margin:n}=e,r=nr(),a=di();return g.useEffect(()=>{a||(r(cW(t)),r(lW(n)))},[r,a,t,n]),null}var ZL=g.memo(jae,fN);function eF(e){var t=nr();return g.useEffect(()=>{t(vae(e))},[t,e]),null}function w5(e){var{zIndex:t,isPanorama:n}=e,r=g.useRef(null),a=nr();return g.useLayoutEffect(()=>(r.current&&a(fJ({zIndex:t,element:r.current,isPanorama:n})),()=>{a(pJ({zIndex:t,isPanorama:n}))}),[a,t,n]),g.createElement("g",{tabIndex:-1,ref:r})}function k5(e){var{children:t,isPanorama:n}=e,r=Et(nJ);if(!r||r.length===0)return t;var a=r.filter(o=>o<0),i=r.filter(o=>o>0);return g.createElement(g.Fragment,null,a.map(o=>g.createElement(w5,{key:o,zIndex:o,isPanorama:n})),t,i.map(o=>g.createElement(w5,{key:o,zIndex:o,isPanorama:n})))}var Cae=["children"];function Mae(e,t){if(e==null)return{};var n,r,a=Aae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Aae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function d0(){return d0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d0.apply(null,arguments)}var Eae={width:"100%",height:"100%",display:"block"},Dae=g.forwardRef((e,t)=>{var n=Vk(),r=Wk(),a=A4();if(!ns(n)||!ns(r))return null;var{children:i,otherAttributes:o,title:s,desc:l}=e,u,d;return o!=null&&(typeof o.tabIndex=="number"?u=o.tabIndex:u=a?0:void 0,typeof o.role=="string"?d=o.role:d=a?"application":void 0),g.createElement(yk,d0({},o,{title:s,desc:l,role:d,tabIndex:u,width:n,height:r,style:Eae,ref:t}),i)}),Pae=e=>{var{children:t}=e,n=Et(gy);if(!n)return null;var{width:r,height:a,y:i,x:o}=n;return g.createElement(yk,{width:r,height:a,x:o,y:i},t)},S5=g.forwardRef((e,t)=>{var{children:n}=e,r=Mae(e,Cae),a=di();return a?g.createElement(Pae,null,g.createElement(k5,{isPanorama:!0},n)):g.createElement(Dae,d0({ref:t},r),g.createElement(k5,{isPanorama:!1},n))});function Tae(){var e=nr(),[t,n]=g.useState(null),r=Et(MW);return g.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;Wr(i)&&i!==r&&e(dW(i))}},[t,e,r]),n}function N5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Oae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N5(Object(n),!0).forEach(function(r){Iae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Iae(e,t,n){return(t=_ae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _ae(e){var t=Lae(e,"string");return typeof t=="symbol"?t:t+""}function Lae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xc(){return Xc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xc.apply(null,arguments)}var Fae=()=>(RJ(),null);function f0(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var $ae=g.forwardRef((e,t)=>{var n,r,a=g.useRef(null),[i,o]=g.useState({containerWidth:f0((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:f0((r=e.style)===null||r===void 0?void 0:r.height)}),s=g.useCallback((u,d)=>{o(f=>{var p=Math.round(u),m=Math.round(d);return f.containerWidth===p&&f.containerHeight===m?f:{containerWidth:p,containerHeight:m}})},[]),l=g.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();s(d,f);var p=h=>{var{width:v,height:b}=h[0].contentRect;s(v,b)},m=new ResizeObserver(p);m.observe(u),a.current=m}},[t,s]);return g.useEffect(()=>()=>{var u=a.current;u!=null&&u.disconnect()},[s]),g.createElement(g.Fragment,null,g.createElement(vy,{width:i.containerWidth,height:i.containerHeight}),g.createElement("div",Xc({ref:l},e)))}),Rae=g.forwardRef((e,t)=>{var{width:n,height:r}=e,[a,i]=g.useState({containerWidth:f0(n),containerHeight:f0(r)}),o=g.useCallback((l,u)=>{i(d=>{var f=Math.round(l),p=Math.round(u);return d.containerWidth===f&&d.containerHeight===p?d:{containerWidth:f,containerHeight:p}})},[]),s=g.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:u,height:d}=l.getBoundingClientRect();o(u,d)}},[t,o]);return g.createElement(g.Fragment,null,g.createElement(vy,{width:a.containerWidth,height:a.containerHeight}),g.createElement("div",Xc({ref:s},e)))}),Bae=g.forwardRef((e,t)=>{var{width:n,height:r}=e;return g.createElement(g.Fragment,null,g.createElement(vy,{width:n,height:r}),g.createElement("div",Xc({ref:t},e)))}),zae=g.forwardRef((e,t)=>{var{width:n,height:r}=e;return _s(n)||_s(r)?g.createElement(Rae,Xc({},e,{ref:t})):g.createElement(Bae,Xc({},e,{ref:t}))});function Uae(e){return e===!0?$ae:zae}var Vae=g.forwardRef((e,t)=>{var{children:n,className:r,height:a,onClick:i,onContextMenu:o,onDoubleClick:s,onMouseDown:l,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:p,onTouchEnd:m,onTouchMove:h,onTouchStart:v,style:b,width:y,responsive:x,dispatchTouchEvents:w=!0}=e,S=g.useRef(null),j=nr(),[N,M]=g.useState(null),[P,B]=g.useState(null),E=Tae(),I=Uk(),O=(I==null?void 0:I.width)>0?I.width:y,K=(I==null?void 0:I.height)>0?I.height:a,Q=g.useCallback(_=>{E(_),typeof t=="function"&&t(_),M(_),B(_),_!=null&&(S.current=_)},[E,t,M,B]),oe=g.useCallback(_=>{j(UL(_)),j(zi({handler:i,reactEvent:_}))},[j,i]),ve=g.useCallback(_=>{j(Tw(_)),j(zi({handler:u,reactEvent:_}))},[j,u]),ne=g.useCallback(_=>{j(w_()),j(zi({handler:d,reactEvent:_}))},[j,d]),H=g.useCallback(_=>{j(Tw(_)),j(zi({handler:f,reactEvent:_}))},[j,f]),V=g.useCallback(()=>{j(GL())},[j]),k=g.useCallback(_=>{j(KL(_.key))},[j]),z=g.useCallback(_=>{j(zi({handler:o,reactEvent:_}))},[j,o]),T=g.useCallback(_=>{j(zi({handler:s,reactEvent:_}))},[j,s]),C=g.useCallback(_=>{j(zi({handler:l,reactEvent:_}))},[j,l]),$=g.useCallback(_=>{j(zi({handler:p,reactEvent:_}))},[j,p]),U=g.useCallback(_=>{j(zi({handler:v,reactEvent:_}))},[j,v]),J=g.useCallback(_=>{w&&j(QL(_)),j(zi({handler:h,reactEvent:_}))},[j,w,h]),le=g.useCallback(_=>{j(zi({handler:m,reactEvent:_}))},[j,m]),G=Uae(x);return g.createElement(z_.Provider,{value:N},g.createElement(M3.Provider,{value:P},g.createElement(G,{width:O??(b==null?void 0:b.width),height:K??(b==null?void 0:b.height),className:Pn("recharts-wrapper",r),style:Oae({position:"relative",cursor:"default",width:O,height:K},b),onClick:oe,onContextMenu:z,onDoubleClick:T,onFocus:V,onKeyDown:k,onMouseDown:C,onMouseEnter:ve,onMouseLeave:ne,onMouseMove:H,onMouseUp:$,onTouchEnd:le,onTouchMove:J,onTouchStart:U,ref:Q},g.createElement(Fae,null),n)))}),Wae=["width","height","responsive","children","className","style","compact","title","desc"];function Hae(e,t){if(e==null)return{};var n,r,a=qae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function qae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var tF=g.forwardRef((e,t)=>{var{width:n,height:r,responsive:a,children:i,className:o,style:s,compact:l,title:u,desc:d}=e,f=Hae(e,Wae),p=eo(f);return l?g.createElement(g.Fragment,null,g.createElement(vy,{width:n,height:r}),g.createElement(S5,{otherAttributes:p,title:u,desc:d},i)):g.createElement(Vae,{className:o,style:s,width:n,height:r,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},g.createElement(S5,{otherAttributes:p,title:u,desc:d,ref:t},g.createElement(pne,null,i)))});function Ow(){return Ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ow.apply(null,arguments)}var Kae={top:5,right:5,bottom:5,left:5},Gae={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Kae,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Yae=g.forwardRef(function(e,t){var n,r=Zr(e.categoricalChartProps,Gae),{chartName:a,defaultTooltipEventType:i,validateTooltipEventTypes:o,tooltipPayloadSearcher:s,categoricalChartProps:l}=e,u={chartName:a,defaultTooltipEventType:i,validateTooltipEventTypes:o,tooltipPayloadSearcher:s,eventEmitter:void 0};return g.createElement(JL,{preloadedState:{options:u},reduxStoreName:(n=l.id)!==null&&n!==void 0?n:a},g.createElement(AL,{chartData:l.data}),g.createElement(ZL,{layout:r.layout,margin:r.margin}),g.createElement(eF,{baseValue:r.baseValue,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),g.createElement(tF,Ow({},r,{ref:t})))}),Qae=["axis"],bd=g.forwardRef((e,t)=>g.createElement(Yae,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Qae,tooltipPayloadSearcher:V_,categoricalChartProps:e,ref:t}));function Xae(e){var t=nr();return g.useEffect(()=>{t(bae(e))},[t,e]),null}var Jae=["layout"];function Iw(){return Iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Iw.apply(null,arguments)}function Zae(e,t){if(e==null)return{};var n,r,a=eie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function eie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var tie={top:5,right:5,bottom:5,left:5},nF={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:tie,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},nie=g.forwardRef(function(e,t){var n,r=Zr(e.categoricalChartProps,nF),{layout:a}=r,i=Zae(r,Jae),{chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:u}=e,d={chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return g.createElement(JL,{preloadedState:{options:d},reduxStoreName:(n=r.id)!==null&&n!==void 0?n:o},g.createElement(AL,{chartData:r.data}),g.createElement(ZL,{layout:a,margin:r.margin}),g.createElement(eF,{baseValue:void 0,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),g.createElement(Xae,{cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius}),g.createElement(tF,Iw({},i,{ref:t})))});function j5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function C5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j5(Object(n),!0).forEach(function(r){rie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rie(e,t,n){return(t=aie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aie(e){var t=iie(e,"string");return typeof t=="symbol"?t:t+""}function iie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oie=["item"],sie=C5(C5({},nF),{},{layout:"centric",startAngle:0,endAngle:360}),_w=g.forwardRef((e,t)=>{var n=Zr(e,sie);return g.createElement(nie,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:oie,tooltipPayloadSearcher:V_,categoricalChartProps:n,ref:t})});const kn=({value:e,options:t,onChange:n,className:r="",activeClassName:a,inactiveClassName:i})=>c.jsx("div",{className:`pill-toggle-group flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1 text-[10px] uppercase tracking-[0.25em] text-gray-400 ${r}`,children:t.map(o=>c.jsx("button",{type:"button",onClick:()=>n(o.value),className:`pill-toggle-option px-2.5 py-1 rounded-full transition-colors ${e===o.value?`pill-toggle-option--active ${a}`:i}`,children:o.label},o.value))}),M5="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",Tf=new Map,Zu=new Map,lie=async e=>{var t;if(!((t=window==null?void 0:window.electronAPI)!=null&&t.fetchImageAsDataUrl))return;const n=Array.from(new Set(e)).filter(r=>/^https?:\/\//i.test(r));await Promise.all(n.map(async r=>{if(Tf.has(r)||Zu.has(r))return;const a=(async()=>{const i=await window.electronAPI.fetchImageAsDataUrl(r),o=i!=null&&i.success&&i.dataUrl?i.dataUrl:null;return o&&Tf.set(r,o),o})();Zu.set(r,a);try{await a}finally{Zu.delete(r)}}))},cie=e=>{const[t,n]=g.useState(()=>{var r;return e?!((r=window==null?void 0:window.electronAPI)!=null&&r.fetchImageAsDataUrl)||!/^https?:\/\//i.test(e)?e:Tf.get(e)||M5:null});return g.useEffect(()=>{var r;if(!e){n(null);return}if(!((r=window==null?void 0:window.electronAPI)!=null&&r.fetchImageAsDataUrl)){n(e);return}if(!/^https?:\/\//i.test(e)){n(e);return}const a=Tf.get(e);if(a){n(a);return}let i=!0;const o=Zu.get(e)||(async()=>{const s=await window.electronAPI.fetchImageAsDataUrl(e),l=s!=null&&s.success&&s.dataUrl?s.dataUrl:null;return l&&Tf.set(e,l),l})();return Zu.set(e,o),o.then(s=>{if(i){if(s){n(s);return}n(M5)}}).finally(()=>{Zu.delete(e)}),()=>{i=!1}},[e]),t},uie=(e,t,n,r)=>{const[a,i]=g.useState("bottom"),[o,s]=g.useState(0);return g.useEffect(()=>{if(!e)return;const l=requestAnimationFrame(()=>{const u=n.current,d=r.current;if(!u||!d)return;const f=u.getBoundingClientRect(),p=d.getBoundingClientRect(),m=(M=>{let P=(M==null?void 0:M.parentElement)||null;for(;P;){const B=window.getComputedStyle(P),E=`${B.overflow}${B.overflowY}${B.overflowX}`;if(/(auto|scroll|hidden)/.test(E))return P;P=P.parentElement}return null})(u),h=m?m.getBoundingClientRect():{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth},v=h.bottom-f.bottom,b=f.top-h.top,y=v<p.height+8&&b>v?"top":"bottom";i(y);const x=6,w=f.left+f.width/2,S=h.left+x+p.width/2,j=h.right-x-p.width/2,N=Math.min(Math.max(w,S),j);s(N-w)});return()=>cancelAnimationFrame(l)},[e,...t]),{placement:a,shiftX:o}},die=(e,t=5)=>{const n=Object.entries(e).filter(([,a])=>a>0).sort((a,i)=>i[1]-a[1]||a[0].localeCompare(i[0])).map(([a,i])=>({profession:a,count:i})),r=[];for(let a=0;a<n.length;a+=t)r.push(n.slice(a,a+t));return r},rF=(e,t,n,r,a=8)=>{const[i,o]=g.useState({position:"fixed",top:-9999,left:-9999,transform:"translateX(-50%)"});return g.useEffect(()=>{if(!e)return;const s=()=>{const u=n.current,d=r.current;if(!u||!d)return;const f=u.getBoundingClientRect(),p=d.getBoundingClientRect(),m=window.innerHeight-f.bottom,h=f.top,v=m<p.height+a&&h>m?Math.max(a,f.top-p.height-a):Math.min(window.innerHeight-p.height-a,f.bottom+a),b=f.left+f.width/2,y=a+p.width/2,x=window.innerWidth-a-p.width/2,w=Math.min(Math.max(b,y),x);o({position:"fixed",top:v,left:w,transform:"translateX(-50%)"})},l=requestAnimationFrame(s);return window.addEventListener("scroll",s,!0),window.addEventListener("resize",s),()=>{cancelAnimationFrame(l),window.removeEventListener("scroll",s,!0),window.removeEventListener("resize",s)}},[e,a,...t]),i},fie=({profession:e,professionList:t,className:n="w-4 h-4 object-contain"})=>{const r=(t||[]).filter(Boolean),a=e==="Multi"&&r.length>0?r[0]:e,i=kc(a||"Unknown"),o=r.length>1,[s,l]=g.useState(!1),u=g.useRef(null),d=g.useRef(null),f=`${n} object-contain`,{placement:p,shiftX:m}=uie(s,[r.length,f],u,d),h=Array.from(new Set(r.map(x=>Tl(x||"Unknown")))).slice(0,4),v=h.length>1?`conic-gradient(${h.map((x,w)=>`${x} ${w*360/h.length}deg ${(w+1)*360/h.length}deg`).join(", ")})`:h[0]||"#9ca3af";if(!i)return null;const b=p==="top"?"bottom-full mb-2":"top-full mt-2",y={transform:`translateX(calc(-50% + ${m}px))`};return c.jsxs("span",{ref:u,className:`relative inline-flex shrink-0 ${o?"group":""}`,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[c.jsx("img",{src:i,alt:a||"Unknown",className:`${f} shrink-0`}),o&&c.jsxs(c.Fragment,{children:[c.jsx("span",{"aria-hidden":"true",className:"absolute -top-0.5 -right-0.5 h-2.5 w-2.5 rounded-full ring-1 ring-[#10141b] shadow-[0_0_0_1px_rgba(255,255,255,0.08)]",style:{background:v},children:c.jsx("span",{className:"absolute inset-[0.7px] rounded-full bg-[#0f141c]/55"})}),c.jsxs("div",{ref:d,style:y,className:`profession-multi-tooltip absolute left-1/2 z-50 w-max rounded-md border border-white/10 bg-black/70 px-2 py-1 text-[10px] text-gray-200 shadow-lg pointer-events-none ${b} ${s?"block":"hidden"}`,children:[c.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:"Multi"}),c.jsx("div",{className:"space-y-1",children:r.map(x=>{const w=kc(x||"Unknown");return c.jsxs("div",{className:"flex items-center gap-1",children:[w?c.jsx("img",{src:w,alt:x||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,c.jsx("span",{className:"text-gray-100",children:x||"Unknown"})]},x)})})]})]})]})},pie=(e,t,n="w-4 h-4 object-contain")=>c.jsx(fie,{profession:e,professionList:t,className:n}),ub=({count:e,classCounts:t,label:n,className:r})=>{const a=die(t||{}),i=e>0,[o,s]=g.useState(!1),l=g.useRef(null),u=g.useRef(null),d=rF(o,[a.length,e],l,u);return c.jsxs("span",{ref:l,className:`relative inline-flex items-center justify-end ${i?"group cursor-help":""}`,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[c.jsx("span",{className:r,children:e}),i&&typeof document<"u"&&Cd.createPortal(c.jsxs("div",{ref:u,style:d,className:`count-class-tooltip z-[9999] w-max rounded-md border border-white/10 bg-black/70 px-2 py-1 text-[10px] text-gray-200 shadow-lg pointer-events-none ${o?"block":"hidden"}`,children:[c.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:n}),a.length>0?c.jsx("div",{className:"grid grid-flow-col auto-cols-fr gap-2",children:a.map((f,p)=>c.jsx("div",{className:"space-y-1",children:f.map(({profession:m,count:h})=>{const v=kc(m||"Unknown");return c.jsxs("div",{className:"flex items-center gap-1",children:[v?c.jsx("img",{src:v,alt:m||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,c.jsx("span",{className:"text-gray-100",children:m||"Unknown"}),c.jsx("span",{className:"text-gray-400",children:""}),c.jsx("span",{className:"text-gray-200",children:h})]},m)})},`${n}-col-${p}`))}):c.jsx("div",{className:"text-[10px] text-gray-500 italic",children:"No class data available"})]}),document.body)]})},xr=({name:e,iconUrl:t,className:n="",iconClassName:r="h-4 w-4",textClassName:a="",truncateText:i=!0})=>{const o=cie(t);return c.jsxs("span",{className:`inline-flex items-center gap-2 min-w-0 ${n}`,children:[o?c.jsx("img",{src:o,alt:e,className:`${r} shrink-0`}):null,c.jsx("span",{className:`${i?"truncate":""} ${a}`,children:e})]})},A5=({value:e,label:t,items:n,className:r})=>{const a=n.length>0,[i,o]=g.useState(!1),s=g.useRef(null),l=g.useRef(null),u=rF(i,[n.length],s,l);return c.jsxs("span",{ref:s,className:`relative inline-flex items-center justify-end ${a?"group cursor-help":""} ${r||""}`,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[c.jsx("span",{children:e}),a&&typeof document<"u"&&Cd.createPortal(c.jsxs("div",{ref:l,style:u,className:`skill-breakdown-tooltip z-[9999] w-64 rounded-md border border-white/10 bg-black/70 px-3 py-2 text-[10px] text-gray-200 shadow-lg pointer-events-none ${i?"block":"hidden"}`,children:[c.jsx("div",{className:"text-[9px] uppercase tracking-wider text-amber-200 mb-1",children:t}),c.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1",children:n.map(d=>c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsx("span",{className:"truncate text-gray-100",children:c.jsx(xr,{name:d.name,iconUrl:d.iconUrl,iconClassName:"h-6 w-6"})}),c.jsx("span",{className:"text-gray-300 font-mono",children:d.value})]},d.name))})]}),document.body)]})},mie=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,selectedPlayers:s,setSelectedPlayers:l,removeSelectedPlayer:u,playerMapByKey:d,groupedSkillUsagePlayers:f,expandedSkillUsageClass:p,setExpandedSkillUsageClass:m,togglePlayerSelection:h,skillUsagePlayerFilter:v,setSkillUsagePlayerFilter:b,skillUsageView:y,setSkillUsageView:x,skillUsageData:w,skillUsageSkillFilter:S,setSkillUsageSkillFilter:j,selectedSkillId:N,setSelectedSkillId:M,skillBarData:P,selectedSkillName:B,selectedSkillIcon:E,skillUsageReady:I,skillUsageAvailable:O,isSkillUsagePerSecond:K,skillChartData:Q,skillChartMaxY:oe,playerTotalsForSkill:ve,hoveredSkillPlayer:ne,setHoveredSkillPlayer:H,getLineStrokeColor:V,getLineDashForPlayer:k,formatSkillUsageValue:z,renderProfessionIcon:T})=>c.jsxs("div",{id:"skill-usage","data-section-visible":a("skill-usage"),"data-section-first":i("skill-usage"),className:o("skill-usage",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${e==="skill-usage"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[c.jsxs("div",{className:e==="skill-usage"?"pr-10 md:pr-0":"",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(ok,{className:"w-5 h-5 text-cyan-400"}),"Skill Usage Tracker"]}),c.jsx("p",{className:"text-xs text-gray-400",children:"Compare how often squad members cast a skill and drill into the timeline breakdown."})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(kn,{value:y,onChange:x,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[w.logRecords.length," ",w.logRecords.length===1?"log":"logs"]}),c.jsx("button",{type:"button",onClick:()=>e==="skill-usage"?r():n("skill-usage"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="skill-usage"?"absolute top-2 right-2 md:static":""}`,"aria-label":e==="skill-usage"?"Close Skill Usage":"Expand Skill Usage",title:e==="skill-usage"?"Close":"Expand",children:e==="skill-usage"?c.jsx(ja,{className:"w-4 h-4"}):c.jsx(Ra,{className:"w-4 h-4"})})]})]}),s.length>0&&c.jsxs("div",{className:"flex items-center gap-2 pb-2 overflow-x-auto pr-1 -mx-1 px-1",children:[c.jsx("button",{type:"button",onClick:()=>l([]),className:"shrink-0 px-3 py-1 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:"Clear All"}),s.map(C=>{const $=d.get(C);return $?c.jsxs("span",{className:"flex items-center gap-1 rounded-full border border-cyan-400/40 bg-cyan-500/10 px-3 py-1 text-xs text-cyan-200 shrink-0",children:[c.jsx("span",{className:"truncate max-w-[140px]",children:$.displayName}),c.jsxs("span",{className:"text-[10px] text-cyan-200/70",children:[$.logs," ",$.logs===1?"log":"logs"]}),c.jsx("button",{type:"button",onClick:()=>u($.key),className:"rounded-full p-1 text-cyan-200 hover:bg-white/20",children:c.jsx(s3,{className:"w-3 h-3"})})]},$.key):null})]}),c.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Squad Players"}),c.jsx("input",{type:"search",value:v,onChange:C=>b(C.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),c.jsx("div",{className:"skill-usage-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:f.length===0?c.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No squad players match the filter"}):f.map(C=>{const $=p===C.profession,U=C.players.map(le=>le.key),J=U.length>0&&U.every(le=>s.includes(le));return c.jsxs("div",{className:"border-b border-white/5 last:border-b-0",children:[c.jsx("button",{type:"button",onClick:()=>{if($){m(null);return}m(C.profession)},className:`skill-usage-player-list-item w-full px-3 py-2 text-left transition-colors ${$?"bg-white/10":"hover:bg-white/5"}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[T(C.profession,void 0,"w-4 h-4"),c.jsx("div",{className:"text-sm font-semibold truncate text-white",children:C.profession})]}),c.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[c.jsxs("span",{className:"text-[10px]",children:[C.players.length,"p"]}),$?c.jsx(Tx,{className:"w-3.5 h-3.5"}):c.jsx(S8,{className:"w-3.5 h-3.5"})]})]})}),$&&c.jsxs("div",{className:"pb-2",children:[c.jsxs("div",{className:"px-6 pt-1 pb-2 flex items-center justify-between text-[11px] text-gray-400",children:[c.jsxs("span",{children:[C.players.length," ",C.players.length===1?"player":"players"]}),c.jsx("button",{type:"button",onClick:()=>{l(le=>{if(J)return le.filter(_=>!U.includes(_));const G=new Set(le);return U.forEach(_=>G.add(_)),Array.from(G)})},className:"skill-usage-player-list-item px-2 py-0.5 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:J?"Clear All":"Select All"})]}),C.players.map(le=>{const G=s.includes(le.key);return c.jsx("button",{type:"button",onClick:()=>h(le.key),className:`skill-usage-player-list-item w-full border-b border-white/5 px-6 py-2 text-left transition-colors last:border-b-0 ${G?"border-cyan-400 bg-cyan-500/10 text-white":"border-transparent hover:border-white/10 hover:bg-white/5"}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-semibold truncate text-white",children:le.displayName}),c.jsxs("div",{className:"text-[11px] text-gray-400",children:[le.account,"  ",le.profession,"  ",le.logs," ",le.logs===1?"log":"logs"]})]}),G&&c.jsx(a3,{className:"w-4 h-4 text-cyan-300"})]})},le.key)})]})]},C.profession)})})]}),c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Skill Totals"}),c.jsx("div",{className:"text-[11px] text-gray-500",children:s.length>0?`${s.length} player${s.length===1?"":"s"}  ${K?"casts/sec":"total casts"}`:"Select players"})]}),c.jsx("input",{type:"search",value:S,onChange:C=>j(C.target.value),placeholder:"Filter skill names",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),c.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/20 p-0.5 flex-1 min-h-0",children:s.length===0?c.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"Select squad players to see the skills they cast."}):P.length===0?c.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"No skill casts found for the selected players."}):(()=>{const C=P.reduce(($,U)=>Math.max($,U.total),0)||1;return c.jsx("div",{className:"space-y-0.5 h-full overflow-y-auto pr-0.5",children:P.map(($,U)=>{const J=Math.min(100,$.total/C*100),le=N===$.skillId;return c.jsxs("button",{type:"button",onClick:()=>M($.skillId),className:`w-full space-y-1 rounded-lg border px-2 py-1.5 text-left transition-colors ${le?"border-white/60 bg-white/10":"border-white/10 bg-white/5 hover:border-white/30 hover:bg-white/10"}`,children:[c.jsxs("div",{className:"flex items-center justify-between text-sm text-white min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[c.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-400",children:`#${U+1}`}),c.jsx(xr,{name:$.name,iconUrl:$.icon,iconClassName:"h-6 w-6",className:"min-w-0 flex-1 max-w-[58vw] sm:max-w-none",textClassName:"font-semibold"})]}),c.jsx("span",{className:"text-cyan-200 font-mono text-xs shrink-0",children:z($.total)})]}),c.jsx("div",{className:"h-1 w-full rounded-full bg-white/10",children:c.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${J}%`,backgroundColor:$.color}})})]},$.skillId)})})})()})]})]}),c.jsx("div",{className:"space-y-3",children:I?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-4 rounded-2xl bg-black/50 p-4 mt-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:B?c.jsx(xr,{name:B,iconUrl:E,iconClassName:"h-6 w-6"}):"Selected Skill Usage"}),c.jsxs("div",{className:"text-[11px] text-gray-400",children:["(",K?"casts per second":"casts per log",")"]})]}),c.jsx(Fs,{width:"100%",height:250,children:c.jsxs(bd,{data:Q,children:[c.jsx(Gc,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Yc,{dataKey:"index",type:"number",tick:{fill:"#e2e8f0",fontSize:10},interval:0,tickFormatter:C=>{const $=Q[C],U=String(($==null?void 0:$.shortLabel)??C);return U.length>20?`${U.slice(0,20)}`:U}}),c.jsx(Qc,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,oe)],allowDecimals:!1}),c.jsx(Us,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},content:({active:C,payload:$,label:U})=>{var J;if(!C||!$||$.length===0)return null;const le=[...$].sort((R,Z)=>(Z.value||0)-(R.value||0)),G=le[0],_=((J=G==null?void 0:G.payload)==null?void 0:J.fullLabel)||U;return c.jsxs("div",{className:"rounded-lg bg-slate-900/95 border border-white/10 px-3 py-2 shadow-xl",children:[c.jsx("div",{className:"text-sm text-white mb-1",children:_}),c.jsx("div",{className:"space-y-1",children:le.map(R=>{const Z=String(R.name||""),F=d.get(Z),se=(F==null?void 0:F.displayName)||Z||"Player",fe=z(Number(R.value||0)),q=R.color||"#38bdf8";return c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"truncate",style:{color:q},children:se}),c.jsx("span",{className:"text-gray-200 font-mono",children:fe})]},`${se}-${fe}`)})})]})}}),s.map(C=>{const $=ne.includes(C),U=ne.length>0,J=V(C,$,U),le=k(C),G=ne.length>0&&!$;return c.jsx(Ki,{dataKey:C,stroke:J,strokeWidth:$?4:3,strokeDasharray:le,opacity:G?.6:1,dot:!1,isAnimationActive:s.length<=16,animationDuration:420,animationEasing:"ease-out"},C)})]})})]}),s.length>0&&c.jsxs("div",{className:"rounded-2xl bg-black/40 border border-white/10 p-4 space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"text-xs uppercase tracking-[0.4em] text-gray-400",children:"Selected Players"}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[s.length," ",s.length===1?"player":"players"]})]}),c.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:[...s].sort((C,$)=>(ve.get($)||0)-(ve.get(C)||0)).map(C=>{const $=d.get(C),U=ve.get(C)??0,J=ne.includes(C),le=ne.length>0,G=V(C,J,le);return c.jsxs("button",{type:"button",onClick:()=>{H(_=>_.includes(C)?_.filter(R=>R!==C):[..._,C])},className:`w-full rounded-2xl border bg-white/5 p-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-left transition cursor-pointer focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/70 min-w-0 ${J?"border-white/40 bg-white/10":"border-white/10 hover:border-white/30 hover:bg-white/10"}`,"aria-pressed":J,children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("svg",{className:"h-2 w-6",viewBox:"0 0 24 4","aria-hidden":"true",children:c.jsx("line",{x1:"0",y1:"2",x2:"24",y2:"2",stroke:G,strokeWidth:"2",strokeDasharray:k(C),strokeLinecap:"round"})}),T($==null?void 0:$.profession,$==null?void 0:$.professionList,"w-4 h-4"),c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.4em] text-gray-400",children:"Player"}),c.jsx("div",{className:"font-semibold text-white truncate",children:($==null?void 0:$.displayName)||C}),c.jsxs("div",{className:"text-[11px] text-gray-400",children:[($==null?void 0:$.logs)??0," ",(($==null?void 0:$.logs)??0)===1?"log":"logs"]})]})]}),c.jsx("div",{className:"text-2xl sm:text-3xl font-black text-white font-mono self-end sm:self-auto shrink-0",children:z(U)})]},C)})})]})]}):c.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 mt-2 text-center text-xs text-gray-400",children:O?"Pick one skill and up to two players to visualize their usage over time.":"Upload or highlight logs with rotation data to enable the skill usage tracker."})})]}),hie=({containerRef:e,className:t=""})=>{const n=g.useRef(null),[r,a]=g.useState(0),[i,o]=g.useState(0),s=g.useRef(!1),l=g.useRef(0),u=g.useRef(0);g.useLayoutEffect(()=>{const p=e.current;if(!p)return;let m=0;const h=()=>{const{scrollWidth:w,clientWidth:S,scrollLeft:j}=p,N=w>S,M=n.current,P=(M==null?void 0:M.clientWidth)||0;if(!P){m=window.requestAnimationFrame(h);return}if(!N){a(P),o(0);return}const B=S/w,E=Math.max(20,Math.floor(P*B)),I=w-S,O=Math.max(0,P-E),K=I>0?Math.floor(j/I*O):0;a(E),o(K)};h();const v=()=>h(),b=new ResizeObserver(h);b.observe(p);const y=p.firstElementChild;y instanceof HTMLElement&&b.observe(y),n.current&&b.observe(n.current);const x=new MutationObserver(()=>h());return x.observe(p,{childList:!0,subtree:!0,attributes:!0}),window.addEventListener("resize",h),p.addEventListener("scroll",v),()=>{m&&window.cancelAnimationFrame(m),b.disconnect(),x.disconnect(),window.removeEventListener("resize",h),p.removeEventListener("scroll",v)}},[e]),g.useEffect(()=>{const p=h=>{if(!s.current)return;const v=n.current,b=e.current;if(!v||!b)return;const y=v.getBoundingClientRect(),x=h.clientX-l.current,w=Math.max(0,y.width-r),S=Math.min(w,Math.max(0,u.current+x)),j=b.scrollWidth-b.clientWidth,N=w>0?S/w*j:0;b.scrollLeft=N},m=()=>{s.current=!1};return window.addEventListener("pointermove",p),window.addEventListener("pointerup",m),()=>{window.removeEventListener("pointermove",p),window.removeEventListener("pointerup",m)}},[e,r]);const d=p=>{const m=n.current,h=e.current;if(!m||!h||r<=0)return;const v=m.getBoundingClientRect(),b=p.clientX-v.left,y=Math.max(0,v.width-r),x=Math.min(y,Math.max(0,b-r/2)),w=h.scrollWidth-h.clientWidth;h.scrollLeft=y>0?x/y*w:0},f=p=>{r<=0||(s.current=!0,l.current=p.clientX,u.current=i,p.currentTarget.setPointerCapture(p.pointerId))};return c.jsx("div",{className:`scroll-scrubber ${t}`,children:c.jsx("div",{ref:n,className:"scroll-scrubber__track",onClick:d,children:c.jsx("div",{className:"scroll-scrubber__thumb",style:{width:`${r}px`,transform:`translateX(${i}px)`},onPointerDown:f})})})},No=({title:e,subtitle:t,controls:n,columns:r,rows:a,sortColumnId:i,sortDirection:o="desc",onSortColumn:s,className:l=""})=>{const u=g.useRef(null),d=["minmax(170px, max-content)",...r.map(f=>`minmax(${f.minWidth??60}px, max-content)`)].join(" ");return c.jsxs("div",{className:`dense-table ${l}`,children:[(e||t)&&c.jsxs("div",{className:"dense-table__header",children:[e&&c.jsx("div",{className:"dense-table__title",children:e}),t&&c.jsx("div",{className:"dense-table__subtitle",children:t})]}),n&&c.jsx("div",{className:"dense-table__controls",children:n}),c.jsx("div",{ref:u,className:"dense-table__scroll",children:c.jsxs("div",{className:"dense-table__grid",style:{gridTemplateColumns:d},children:[c.jsx("div",{className:"dense-table__head dense-table__head--sticky dense-table__head--pinned",children:c.jsx("div",{className:"dense-table__head-inner",children:"Player"})}),r.map(f=>{const p=!!s,m=i===f.id?o==="desc"?"":"":null;return c.jsx("div",{className:`dense-table__head ${f.align==="right"?"dense-table__cell--right":""}`,style:f.minWidth?{minWidth:f.minWidth}:void 0,children:p?c.jsxs("button",{type:"button",onClick:()=>s==null?void 0:s(f.id),className:"dense-table__head-inner",children:[c.jsx("span",{className:"truncate",children:f.label}),m&&c.jsx("span",{className:"text-[10px] text-slate-200",children:m})]}):c.jsx("div",{className:"dense-table__head-inner",children:f.label})},f.id)}),a.map(f=>c.jsxs("div",{className:"dense-table__row",children:[c.jsx("div",{className:"dense-table__cell dense-table__cell--label dense-table__cell--pinned",children:f.label}),r.map(p=>c.jsx("div",{className:`dense-table__cell ${p.align==="right"?"dense-table__cell--right":""}`,children:f.values[p.id]??"-"},`${f.id}-${p.id}`))]},f.id))]})}),c.jsx(hie,{containerRef:u})]})},jo=({options:e,selectedIds:t,placeholder:n="Search...",onSelect:r,className:a=""})=>{const[i,o]=g.useState(""),[s,l]=g.useState(!1),[u,d]=g.useState(0),f=g.useRef(null),p=g.useRef(null),m=g.useRef(new Map);g.useEffect(()=>{const y=x=>{f.current&&(f.current.contains(x.target)||l(!1))};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]);const h=g.useMemo(()=>{const y=i.trim().toLowerCase();return y?e.filter(x=>x.label.toLowerCase().includes(y)).slice(0,50):e.slice(0,50)},[e,i]),v=g.useMemo(()=>{const y=new Map;return h.forEach((x,w)=>{y.set(`${x.type}-${x.id}`,w)}),y},[h]),b=g.useMemo(()=>{const y=h.filter(w=>w.type==="column"),x=h.filter(w=>w.type==="player");return{columns:y,players:x}},[h]);return g.useEffect(()=>{if(s){if(h.length===0){d(0);return}d(y=>Math.min(Math.max(y,0),h.length-1))}},[h,s]),g.useEffect(()=>{if(!s)return;const y=h[u];if(!y)return;const x=`${y.type}-${y.id}`,w=m.current.get(x);w&&p.current&&w.scrollIntoView({block:"nearest"})},[u,h,s]),c.jsxs("div",{ref:f,className:`relative ${a}`,children:[c.jsx("input",{value:i,onChange:y=>{o(y.target.value),l(!0)},onKeyDown:y=>{if(!s&&(y.key==="ArrowDown"||y.key==="ArrowUp")){l(!0);return}if(s)if(y.key==="ArrowDown"){if(y.preventDefault(),h.length===0)return;d(x=>(x+1)%h.length)}else if(y.key==="ArrowUp"){if(y.preventDefault(),h.length===0)return;d(x=>(x-1+h.length)%h.length)}else if(y.key==="Enter"){y.preventDefault();const x=h[u];if(!x)return;r(x),o(""),l(!1)}else y.key==="Escape"&&(y.preventDefault(),l(!1))},onFocus:()=>l(!0),placeholder:n,className:"w-full sm:w-64 bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none"}),s&&c.jsx("div",{className:"absolute z-30 mt-2 w-64 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:h.length===0?c.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No matches"}):c.jsxs("div",{ref:p,className:"max-h-60 overflow-y-auto space-y-2 pr-1",children:[b.columns.length>0&&c.jsxs("div",{children:[c.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Columns"}),b.columns.map(y=>{const x=(t==null?void 0:t.has(`${y.type}:${y.id}`))??!1;return c.jsx("button",{type:"button",ref:w=>{m.current.set(`${y.type}-${y.id}`,w)},onClick:()=>{r(y),o(""),l(!1)},onMouseEnter:()=>{const w=v.get(`${y.type}-${y.id}`);typeof w=="number"&&d(w)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${u===v.get(`${y.type}-${y.id}`)?"bg-white/10 border-white/10":""} ${x?"bg-white/15 border-white/20":""}`,children:c.jsxs("div",{className:"flex items-center gap-2",children:[y.icon?c.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:y.icon}):null,c.jsx("span",{className:"truncate",children:y.label})]})},`${y.type}-${y.id}`)})]}),b.players.length>0&&c.jsxs("div",{children:[c.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Players"}),b.players.map(y=>{const x=(t==null?void 0:t.has(`${y.type}:${y.id}`))??!1;return c.jsx("button",{type:"button",ref:w=>{m.current.set(`${y.type}-${y.id}`,w)},onClick:()=>{r(y),o(""),l(!1)},onMouseEnter:()=>{const w=v.get(`${y.type}-${y.id}`);typeof w=="number"&&d(w)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${u===v.get(`${y.type}-${y.id}`)?"bg-white/10 border-white/10":""} ${x?"bg-white/15 border-white/20":""}`,children:c.jsxs("div",{className:"flex items-center gap-2",children:[y.icon?c.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:y.icon}):null,c.jsx("span",{className:"truncate",children:y.label})]})},`${y.type}-${y.id}`)})]})]})})]})},wr=({options:e,selectedIds:t,onToggle:n,onClear:r,className:a="",buttonLabel:i="Columns",buttonIcon:o})=>{const[s,l]=g.useState(!1),u=g.useRef(null),d=new Set(t);return g.useEffect(()=>{const f=p=>{u.current&&(u.current.contains(p.target)||l(!1))};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]),c.jsxs("div",{ref:u,className:`relative ${a}`,children:[c.jsxs("button",{type:"button",onClick:()=>l(f=>!f),className:"flex items-center gap-2 rounded-lg border border-white/10 bg-white/5 px-3 py-1 text-xs font-semibold text-gray-300 hover:text-white hover:border-white/30 transition-colors",children:[o?c.jsx("span",{className:"h-3.5 w-3.5 text-gray-400",children:o}):null,c.jsx("span",{children:i}),t.length>0&&c.jsx("span",{className:"rounded-full bg-white/10 px-2 py-0.5 text-[10px] text-gray-200",children:t.length})]}),s&&c.jsxs("div",{className:"absolute z-20 mt-2 w-56 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:[c.jsxs("div",{className:"flex items-center justify-between px-2 pb-2 text-[11px] uppercase tracking-widest text-gray-500",children:[c.jsx("span",{children:"Filter Columns"}),c.jsx("button",{type:"button",onClick:r,className:"text-gray-400 hover:text-white",children:"Clear"})]}),c.jsx("div",{className:"max-h-56 overflow-y-auto space-y-1 pr-1",children:e.length===0?c.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No columns"}):e.map(f=>c.jsx("button",{type:"button",onClick:()=>n(f.id),className:`w-full text-left px-2 py-1.5 rounded-lg border transition-colors ${d.has(f.id)?"bg-white/10 border-white/20 text-white":"border-transparent text-gray-300 hover:bg-white/5 hover:text-white"}`,children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:`h-2.5 w-2.5 rounded-full border ${d.has(f.id)?"bg-emerald-400/80 border-emerald-300":"border-gray-500"}`}),f.icon?c.jsx("span",{className:"flex h-4 w-4 items-center justify-center shrink-0",children:f.icon}):null,c.jsx("span",{className:"truncate max-w-[140px]",children:f.label})]})},f.id))})]})]})},gie=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,sidebarListClass:s,apmSpecAvailable:l,skillUsageAvailable:u,apmSpecTables:d,activeApmSpec:f,setActiveApmSpec:p,expandedApmSpec:m,setExpandedApmSpec:h,activeApmSkillId:v,setActiveApmSkillId:b,ALL_SKILLS_KEY:y,apmSkillSearch:x,setApmSkillSearch:w,activeApmSpecTable:S,activeApmSkill:j,isAllApmSkills:N,apmView:M,setApmView:P,formatApmValue:B,formatCastRateValue:E,formatCastCountValue:I,renderProfessionIcon:O})=>{var K;const[Q,oe]=g.useState({key:"apm",dir:"desc"}),ve=e==="apm-stats",[ne,H]=g.useState({columnId:"",dir:"desc"}),[V,k]=g.useState([]),[z,T]=g.useState([]),[C,$]=g.useState({}),U=ve?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${s} max-h-72 overflow-y-auto`,J=G=>{oe(_=>({key:G,dir:_.key===G&&_.dir==="desc"?"asc":"desc"}))},le=g.useMemo(()=>{const G=[...(S==null?void 0:S.playerRows)||[]];return G.sort((_,R)=>{const Z=Q.key==="apm"?Number(M==="perSecond"?_.aps:_.apm):Number(M==="perSecond"?_.apsNoAuto:_.apmNoAuto),F=Q.key==="apm"?Number(M==="perSecond"?R.aps:R.apm):Number(M==="perSecond"?R.apsNoAuto:R.apmNoAuto);return(Q.dir==="desc"?F-Z:Z-F)||String(_.displayName||"").localeCompare(String(R.displayName||""))}),G},[S,Q,M]);return c.jsxs("div",{id:"apm-stats","data-section-visible":a("apm-stats"),"data-section-first":i("apm-stats"),className:o("apm-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="apm-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(uk,{className:"w-5 h-5 text-emerald-300"}),"APM Breakdown"]}),c.jsxs("div",{className:"flex items-center gap-3 relative",children:[c.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[d.length," ",d.length===1?"spec":"specs"]}),c.jsx("button",{type:"button",onClick:()=>e==="apm-stats"?r():n("apm-stats"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="apm-stats"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="apm-stats"?"Close APM Breakdown":"Expand APM Breakdown",title:e==="apm-stats"?"Close":"Expand",children:e==="apm-stats"?c.jsx(ja,{className:"w-4 h-4"}):c.jsx(Ra,{className:"w-4 h-4"})})]})]}),c.jsx("div",{className:e==="apm-stats"?"flex-1 min-h-0 flex flex-col":"",children:l?c.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="apm-stats"?"flex-1 min-h-0 h-full":""}`,children:[c.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="apm-stats"?"h-full":""}`,children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Elite Specs"}),c.jsx("div",{className:"mb-2",children:c.jsx("input",{type:"text",value:x,onChange:G=>w(G.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"})}),c.jsx("div",{className:U,children:d.map(G=>c.jsxs("div",{className:"space-y-1",children:[c.jsx("button",{onClick:()=>{const _=f!==G.profession;p(G.profession),h(_?G.profession:m===G.profession?null:G.profession),_&&(b(y),k([]),T([]))},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${f===G.profession?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[O(G.profession,void 0,"w-4 h-4"),c.jsx("span",{className:"truncate",children:G.profession})]}),c.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:c.jsxs("span",{className:"text-[10px]",children:[G.players.length,"p"]})})]})}),!ve&&m===G.profession&&c.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[c.jsx("input",{type:"text",value:C[G.profession]||"",onChange:_=>{const R=_.target.value;$(Z=>({...Z,[G.profession]:R}))},placeholder:"Filter this spec...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"}),c.jsx("button",{type:"button",onClick:()=>{p(G.profession),b(y)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===G.profession&&N?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Skills"}),(G.skills||[]).filter(_=>{const R=(C[G.profession]||"").trim().toLowerCase();return R?String(_.name||"").toLowerCase().includes(R):!0}).map(_=>c.jsx("button",{type:"button",onClick:()=>{p(G.profession),b(_.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===G.profession&&v===_.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:_.name,children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[_.icon?c.jsx("img",{src:_.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,c.jsx("span",{className:"truncate",children:_.name})]})},_.id)),(G.skills||[]).filter(_=>{const R=(C[G.profession]||"").trim().toLowerCase();return R?String(_.name||"").toLowerCase().includes(R):!0}).length===0&&c.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},G.profession))})]}),c.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="apm-stats"?"flex flex-col min-h-0":""}`,children:S?c.jsxs("div",{className:e==="apm-stats"?"flex flex-col min-h-0":"",children:[ve&&(()=>{const G=S.skills||[],_=(S.playerRows||[]).map(se=>({id:se.key,label:se.displayName||se.account||se.key,icon:O(se.profession,se.professionList,"w-3 h-3")})),R=G.map(se=>({id:se.id,label:se.name,icon:se.icon?c.jsx("img",{src:se.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),Z=[...G.map(se=>({id:se.id,label:se.name,type:"column",icon:se.icon?c.jsx("img",{src:se.icon,alt:"",className:"h-4 w-4"}):void 0})),...(S.playerRows||[]).map(se=>({id:se.key,label:se.displayName||se.account||se.key,type:"player",icon:O(se.profession,se.professionList,"w-3 h-3")}))],F=new Set([...V.map(se=>`column:${se}`),...z.map(se=>`player:${se}`)]);return c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"APM"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(jo,{options:Z,selectedIds:F,onSelect:se=>{se.type==="column"?k(fe=>fe.includes(se.id)?fe.filter(q=>q!==se.id):[...fe,se.id]):T(fe=>fe.includes(se.id)?fe.filter(q=>q!==se.id):[...fe,se.id])},className:"w-full sm:w-64"}),c.jsx(wr,{options:R,selectedIds:V,onToggle:se=>{k(fe=>fe.includes(se)?fe.filter(q=>q!==se):[...fe,se])},onClear:()=>k([]),buttonLabel:"Columns",buttonIcon:c.jsx(ko,{className:"h-3.5 w-3.5"})}),c.jsx(wr,{options:_,selectedIds:z,onToggle:se=>{T(fe=>fe.includes(se)?fe.filter(q=>q!==se):[...fe,se])},onClear:()=>T([]),buttonLabel:"Players",buttonIcon:c.jsx(Ar,{className:"h-3.5 w-3.5"})}),c.jsx(kn,{value:M,onChange:P,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(V.length>0||z.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{k([]),T([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),V.map(se=>{var fe;const q=((fe=G.find(de=>de.id===se))==null?void 0:fe.name)||se;return c.jsxs("button",{type:"button",onClick:()=>k(de=>de.filter(Ee=>Ee!==se)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:q}),c.jsx("span",{className:"text-gray-400",children:""})]},se)}),z.map(se=>{var fe;const q=((fe=_.find(de=>de.id===se))==null?void 0:fe.label)||se;return c.jsxs("button",{type:"button",onClick:()=>T(de=>de.filter(Ee=>Ee!==se)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:q}),c.jsx("span",{className:"text-gray-400",children:""})]},se)})]})]})})(),ve?(()=>{var G,_;const R=S.skills||[],Z=V.length>0?R.filter(q=>V.includes(q.id)):R,F=z.length>0?(S.playerRows||[]).filter(q=>z.includes(q.key)):S.playerRows||[];if(R.length===0)return c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No skills available for this class."});const se=((G=Z.find(q=>q.id===ne.columnId))==null?void 0:G.id)||((_=Z[0])==null?void 0:_.id)||"",fe=[...F].map(q=>{const de={},Ee={};return Z.forEach(st=>{var De;const ae=Number(((De=st.playerCounts)==null?void 0:De.get(q.key))||0),Ie=M==="perSecond"?ae/Math.max(1,q.totalActiveSeconds||0):ae;Ee[st.id]=Ie,de[st.id]=M==="perSecond"?E(Ie):I(Ie)}),{row:q,values:de,numericValues:Ee}}).sort((q,de)=>{const Ee=q.numericValues[se]??0,st=de.numericValues[se]??0;return(ne.dir==="desc"?st-Ee:Ee-st)||String(q.row.displayName||"").localeCompare(String(de.row.displayName||""))});return c.jsx(No,{title:"APM - Dense View",subtitle:"Skills",sortColumnId:se,sortDirection:ne.dir,onSortColumn:q=>{H(de=>({columnId:q,dir:de.columnId===q&&de.dir==="desc"?"asc":"desc"}))},columns:Z.map(q=>({id:q.id,label:c.jsx(xr,{name:q.name,iconUrl:q.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:fe.map((q,de)=>({id:`${S.profession}-${q.row.key}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:de+1}),O(q.row.profession,q.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:q.row.displayName})]}),values:q.values}))})})():c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"stats-table-shell__head-stack",children:[c.jsxs("div",{className:"flex items-center justify-between gap-2 px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"min-w-0 text-sm font-semibold text-gray-200",children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[O(S.profession,void 0,"w-4 h-4"),c.jsx("span",{className:"truncate",children:S.profession}),c.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),N||!j?c.jsx("span",{className:"truncate",children:"All Skills"}):c.jsx(xr,{name:j.name,iconUrl:j.icon,iconClassName:"h-5 w-5"})]})}),c.jsx("div",{className:"text-[11px] text-gray-500",children:N||!j?`${((K=S.playerRows)==null?void 0:K.length)||0} players`:`${(j==null?void 0:j.totalCasts)??0} casts`})]}),N||!j?c.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.7fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>J("apm"),className:`text-right transition-colors ${Q.key==="apm"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[M==="perSecond"?"APS":"APM",Q.key==="apm"?Q.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>J("apmNoAuto"),className:`text-right transition-colors ${Q.key==="apmNoAuto"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[M==="perSecond"?"APS":"APM"," (No Auto)",Q.key==="apmNoAuto"?Q.dir==="desc"?" ":" ":""]})]}):c.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.4fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{children:"Player"}),c.jsx("div",{className:"text-right",children:"Casts"}),c.jsx("div",{className:"text-right",children:M==="perSecond"?"APS":"APM"})]})]}),N||!j?c.jsx(c.Fragment,{children:c.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:le.map((G,_)=>c.jsxs("div",{className:"grid grid-cols-[1.6fr_0.7fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${_+1}`}),O(G.profession,G.professionList,"w-4 h-4"),c.jsx("div",{className:"min-w-0",children:c.jsx("div",{className:"font-semibold text-white truncate",children:G.displayName})})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:B(M==="perSecond"?G.aps:G.apm)}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:B(M==="perSecond"?G.apsNoAuto:G.apmNoAuto)})]},`${S.profession}-all-${G.key}`))})}):c.jsx(c.Fragment,{children:c.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:((j==null?void 0:j.playerRows)||[]).length===0?c.jsx("div",{className:"px-4 py-8 text-center text-sm text-gray-500 italic border-t border-white/5",children:"No player rows available for this skill."}):((j==null?void 0:j.playerRows)||[]).map((G,_)=>c.jsxs("div",{className:"grid grid-cols-[1.4fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${_+1}`}),O(G.profession,G.professionList,"w-4 h-4"),c.jsx("div",{className:"min-w-0",children:c.jsx("div",{className:"font-semibold text-white truncate",children:G.displayName})})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:I(Number(G.count||0))}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:B(Number(M==="perSecond"?G.aps||0:G.apm||0))})]},`${S.profession}-${j.id}-${G.key}`))})})]})]}):c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select an elite spec to view APM details"})})]}):c.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:u?"No APM data available for the current selection.":"Upload or highlight logs with rotation data to enable the APM table."})})]})},yie=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,sidebarListClass:s,viewMode:l,setViewMode:u,playerSkillBreakdowns:d,classSkillBreakdowns:f,activePlayerKey:p,setActivePlayerKey:m,expandedPlayerKey:h,setExpandedPlayerKey:v,activePlayerSkillId:b,setActivePlayerSkillId:y,activeClassKey:x,setActiveClassKey:w,expandedClassKey:S,setExpandedClassKey:j,activeClassSkillId:N,setActiveClassSkillId:M,skillSearch:P,setSkillSearch:B,activePlayerBreakdown:E,activePlayerSkill:I,activeClassBreakdown:O,activeClassSkill:K,renderProfessionIcon:Q})=>{const oe=d.length,ve=((E==null?void 0:E.skills)||[]).reduce((q,de)=>q+(de.damage||0),0),ne=(O==null?void 0:O.players)||[],[H,V]=g.useState({key:"down",dir:"desc"}),k=e==="player-breakdown",[z,T]=g.useState([]),[C,$]=g.useState([]),[U,J]=g.useState({columnId:"",dir:"desc"}),[le,G]=g.useState({}),[_,R]=g.useState({}),Z=(q,de)=>{var Ee;return de&&(((Ee=q.skillMap)==null?void 0:Ee[de])||q.skills.find(De=>De.id===de))||null},F=k?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${s} max-h-72 overflow-y-auto`,se=g.useMemo(()=>{if(!O||!K)return ne;const q=[...ne];return q.sort((de,Ee)=>{const st=Z(de,K.id),De=Z(Ee,K.id),ae=Number((st==null?void 0:st.downContribution)||0),Ie=Number((De==null?void 0:De.downContribution)||0),ee=Number((st==null?void 0:st.damage)||0),ht=Number((De==null?void 0:De.damage)||0),Pt=de.totalFightMs>0?ee/(de.totalFightMs/1e3):0,Rn=Ee.totalFightMs>0?ht/(Ee.totalFightMs/1e3):0;let be=0;return H.key==="down"&&(be=ae-Ie),H.key==="damage"&&(be=ee-ht),H.key==="dps"&&(be=Pt-Rn),H.dir==="asc"?be:-be}),q},[O,ne,K,H]),fe=q=>{V(de=>de.key!==q?{key:q,dir:"desc"}:{key:q,dir:de.dir==="desc"?"asc":"desc"})};return c.jsxs("div",{id:"player-breakdown","data-section-visible":a("player-breakdown"),"data-section-first":i("player-breakdown"),className:o("player-breakdown",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="player-breakdown"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(sk,{className:"w-5 h-5 text-sky-300"}),"Player Breakdown"]}),c.jsxs("div",{className:"flex items-center gap-3 relative",children:[c.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[oe," ",oe===1?"player":"players"]}),c.jsx("button",{type:"button",onClick:()=>e==="player-breakdown"?r():n("player-breakdown"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="player-breakdown"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="player-breakdown"?"Close Player Breakdown":"Expand Player Breakdown",title:e==="player-breakdown"?"Close":"Expand",children:e==="player-breakdown"?c.jsx(ja,{className:"w-4 h-4"}):c.jsx(Ra,{className:"w-4 h-4"})})]})]}),c.jsx("div",{className:e==="player-breakdown"?"flex-1 min-h-0 flex flex-col":"",children:d.length===0?c.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:"No player skill damage data available for the current selection."}):c.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="player-breakdown"?"flex-1 min-h-0 h-full":""}`,children:[c.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="player-breakdown"?"h-full":""}`,children:[c.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:k?"Squad Classes":l==="player"?"Squad Players":"Squad Classes"}),!k&&c.jsx("div",{className:"flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"player",label:"Player"},{id:"class",label:"Class"}].map(q=>{const de=l===q.id;return c.jsx("button",{type:"button",onClick:()=>u(q.id),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${de?"bg-sky-500/30 text-sky-100":"text-gray-400 hover:text-white"}`,children:q.label},q.id)})})]}),c.jsx("div",{className:"mb-2",children:c.jsx("input",{type:"text",value:P,onChange:q=>B(q.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"})}),c.jsx("div",{className:F,children:(k?"class":l)==="player"?d.map(q=>c.jsxs("div",{className:"space-y-1",children:[c.jsx("button",{onClick:()=>{const de=p!==q.key;de&&(y(null),T([]),$([])),m(q.key),v(de?q.key:h===q.key?null:q.key)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${p===q.key?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:q.displayName,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Q(q.profession,q.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate min-w-0",children:q.displayName})]}),c.jsx("div",{className:"flex items-center gap-2 text-gray-400 shrink-0",children:c.jsxs("span",{className:"text-[10px] whitespace-nowrap",children:[q.skills.length," skills"]})})]})}),!k&&h===q.key&&c.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[c.jsx("input",{type:"text",value:le[q.key]||"",onChange:de=>{const Ee=de.target.value;G(st=>({...st,[q.key]:Ee}))},placeholder:"Filter this player's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),q.skills.filter(de=>{const Ee=(le[q.key]||"").trim().toLowerCase();return Ee?String(de.name||"").toLowerCase().includes(Ee):!0}).map(de=>c.jsx("button",{type:"button",onClick:()=>{m(q.key),y(de.id)},className:`w-full min-h-[30px] text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${p===q.key&&b===de.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:de.name,children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[de.icon?c.jsx("img",{src:de.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,c.jsx("span",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",children:de.name})]})},de.id)),q.skills.filter(de=>{const Ee=(le[q.key]||"").trim().toLowerCase();return Ee?String(de.name||"").toLowerCase().includes(Ee):!0}).length===0&&c.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},q.key)):f.map(q=>c.jsxs("div",{className:"space-y-1",children:[c.jsx("button",{onClick:()=>{const de=x!==q.profession;de&&(M(null),T([]),$([])),w(q.profession),j(de?q.profession:S===q.profession?null:q.profession)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${x===q.profession?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Q(q.profession,void 0,"w-4 h-4"),c.jsx("span",{className:"truncate",children:q.profession})]}),c.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:c.jsxs("span",{className:"text-[10px]",children:[q.players.length,"p"]})})]})}),!k&&S===q.profession&&c.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[c.jsx("input",{type:"text",value:_[q.profession]||"",onChange:de=>{const Ee=de.target.value;R(st=>({...st,[q.profession]:Ee}))},placeholder:"Filter this class's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),q.skills.filter(de=>{const Ee=(_[q.profession]||"").trim().toLowerCase();return Ee?String(de.name||"").toLowerCase().includes(Ee):!0}).map(de=>c.jsx("button",{type:"button",onClick:()=>{w(q.profession),M(de.id)},className:`w-full min-h-[30px] text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${x===q.profession&&N===de.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:de.name,children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[de.icon?c.jsx("img",{src:de.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,c.jsx("span",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",children:de.name})]})},de.id)),q.skills.filter(de=>{const Ee=(_[q.profession]||"").trim().toLowerCase();return Ee?String(de.name||"").toLowerCase().includes(Ee):!0}).length===0&&c.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},q.profession))})]}),c.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="player-breakdown"?"flex flex-col min-h-0":""}`,children:(k?"class":l)==="player"?!E||!k&&!I?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a player and skill to view breakdown details"}):c.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[k&&(()=>{const q=E.skills||[],de=d.map(ae=>({id:ae.key,label:ae.displayName||ae.key,icon:Q(ae.profession,ae.professionList,"w-3 h-3")})),Ee=q.map(ae=>({id:ae.id,label:ae.name,icon:ae.icon?c.jsx("img",{src:ae.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),st=[...q.map(ae=>({id:ae.id,label:ae.name,type:"column",icon:ae.icon?c.jsx("img",{src:ae.icon,alt:"",className:"h-4 w-4"}):void 0})),...d.map(ae=>({id:ae.key,label:ae.displayName||ae.key,type:"player",icon:Q(ae.profession,ae.professionList,"w-3 h-3")}))],De=new Set([...z.map(ae=>`column:${ae}`),...C.map(ae=>`player:${ae}`)]);return c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Player Breakdown"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(jo,{options:st,selectedIds:De,onSelect:ae=>{ae.type==="column"?T(Ie=>Ie.includes(ae.id)?Ie.filter(ee=>ee!==ae.id):[...Ie,ae.id]):$(Ie=>Ie.includes(ae.id)?Ie.filter(ee=>ee!==ae.id):[...Ie,ae.id])},className:"w-full sm:w-64"}),c.jsx(wr,{options:Ee,selectedIds:z,onToggle:ae=>{T(Ie=>Ie.includes(ae)?Ie.filter(ee=>ee!==ae):[...Ie,ae])},onClear:()=>T([]),buttonLabel:"Columns",buttonIcon:c.jsx(ko,{className:"h-3.5 w-3.5"})}),c.jsx(wr,{options:de,selectedIds:C,onToggle:ae=>{$(Ie=>Ie.includes(ae)?Ie.filter(ee=>ee!==ae):[...Ie,ae])},onClear:()=>$([]),buttonLabel:"Players",buttonIcon:c.jsx(Ar,{className:"h-3.5 w-3.5"})})]}),(z.length>0||C.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{T([]),$([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),z.map(ae=>{var Ie;const ee=((Ie=q.find(ht=>ht.id===ae))==null?void 0:Ie.name)||ae;return c.jsxs("button",{type:"button",onClick:()=>T(ht=>ht.filter(Pt=>Pt!==ae)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:ee}),c.jsx("span",{className:"text-gray-400",children:""})]},ae)}),C.map(ae=>{var Ie;const ee=((Ie=de.find(ht=>ht.id===ae))==null?void 0:Ie.label)||ae;return c.jsxs("button",{type:"button",onClick:()=>$(ht=>ht.filter(Pt=>Pt!==ae)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:ee}),c.jsx("span",{className:"text-gray-400",children:""})]},ae)})]})]})})(),k?(()=>{var q,de;const Ee=E.skills||[],st=z.length>0?Ee.filter(ee=>z.includes(ee.id)):Ee,De=C.length>0?d.filter(ee=>C.includes(ee.key)):d,ae=((q=st.find(ee=>ee.id===U.columnId))==null?void 0:q.id)||((de=st[0])==null?void 0:de.id)||"",Ie=De.map(ee=>{const ht={},Pt={};return st.forEach(Rn=>{const be=Z(ee,Rn.id),We=Number((be==null?void 0:be.damage)||0);Pt[Rn.id]=We,ht[Rn.id]=ul(We)}),{player:ee,values:ht,numericValues:Pt}}).sort((ee,ht)=>{const Pt=ee.numericValues[ae]??0,Rn=ht.numericValues[ae]??0;return(U.dir==="desc"?Rn-Pt:Pt-Rn)||String(ee.player.displayName||"").localeCompare(String(ht.player.displayName||""))});return c.jsx(No,{title:"Player Breakdown - Dense View",subtitle:"Damage",sortColumnId:ae,sortDirection:U.dir,onSortColumn:ee=>{J(ht=>({columnId:ee,dir:ht.columnId===ee&&ht.dir==="desc"?"asc":"desc"}))},columns:st.map(ee=>({id:ee.id,label:c.jsx(xr,{name:ee.name,iconUrl:ee.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:Ie.map((ee,ht)=>({id:`${ee.player.key}-${ht}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:ht+1}),Q(ee.player.profession,ee.player.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:ee.player.displayName})]}),values:ee.values}))})})():c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"stats-table-shell__head-stack",children:[c.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:c.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-wrap",children:[Q(E.profession,E.professionList,"w-4 h-4"),c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:E.displayName}),c.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),c.jsx("div",{className:"text-sm font-semibold text-gray-200 min-w-0",children:c.jsx(xr,{name:(I==null?void 0:I.name)||"",iconUrl:I==null?void 0:I.icon,iconClassName:"h-6 w-6",truncateText:!1,textClassName:"whitespace-normal break-words"})})]}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[E.skills.length," skills | ",ul(ve)," total damage"]})]})}),c.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.2fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{children:"Metric"}),c.jsx("div",{className:"text-right",children:"Value"})]})]}),c.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:[{label:"Down Contribution",value:ul((I==null?void 0:I.downContribution)||0)},{label:"Total Damage",value:ul((I==null?void 0:I.damage)||0)},{label:"DPS",value:xa(E.totalFightMs>0?((I==null?void 0:I.damage)||0)/(E.totalFightMs/1e3):0,1)}].map(q=>c.jsxs("div",{className:"grid grid-cols-[1.2fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"font-semibold text-white",children:q.label}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:q.value})]},q.label))})]})]}):!O||!k&&!K?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a class and skill to view breakdown details"}):c.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[k&&(()=>{const q=O.skills||[],de=ne.map(ae=>({id:ae.key,label:ae.displayName||ae.key,icon:Q(ae.profession,ae.professionList,"w-3 h-3")})),Ee=q.map(ae=>({id:ae.id,label:ae.name,icon:ae.icon?c.jsx("img",{src:ae.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),st=[...q.map(ae=>({id:ae.id,label:ae.name,type:"column",icon:ae.icon?c.jsx("img",{src:ae.icon,alt:"",className:"h-4 w-4"}):void 0})),...ne.map(ae=>({id:ae.key,label:ae.displayName||ae.key,type:"player",icon:Q(ae.profession,ae.professionList,"w-3 h-3")}))],De=new Set([...z.map(ae=>`column:${ae}`),...C.map(ae=>`player:${ae}`)]);return c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Class Breakdown"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(jo,{options:st,selectedIds:De,onSelect:ae=>{ae.type==="column"?T(Ie=>Ie.includes(ae.id)?Ie.filter(ee=>ee!==ae.id):[...Ie,ae.id]):$(Ie=>Ie.includes(ae.id)?Ie.filter(ee=>ee!==ae.id):[...Ie,ae.id])},className:"w-full sm:w-64"}),c.jsx(wr,{options:Ee,selectedIds:z,onToggle:ae=>{T(Ie=>Ie.includes(ae)?Ie.filter(ee=>ee!==ae):[...Ie,ae])},onClear:()=>T([]),buttonLabel:"Columns",buttonIcon:c.jsx(ko,{className:"h-3.5 w-3.5"})}),c.jsx(wr,{options:de,selectedIds:C,onToggle:ae=>{$(Ie=>Ie.includes(ae)?Ie.filter(ee=>ee!==ae):[...Ie,ae])},onClear:()=>$([]),buttonLabel:"Players",buttonIcon:c.jsx(Ar,{className:"h-3.5 w-3.5"})})]}),(z.length>0||C.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{T([]),$([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),z.map(ae=>{var Ie;const ee=((Ie=q.find(ht=>ht.id===ae))==null?void 0:Ie.name)||ae;return c.jsxs("button",{type:"button",onClick:()=>T(ht=>ht.filter(Pt=>Pt!==ae)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:ee}),c.jsx("span",{className:"text-gray-400",children:""})]},ae)}),C.map(ae=>{var Ie;const ee=((Ie=de.find(ht=>ht.id===ae))==null?void 0:Ie.label)||ae;return c.jsxs("button",{type:"button",onClick:()=>$(ht=>ht.filter(Pt=>Pt!==ae)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:ee}),c.jsx("span",{className:"text-gray-400",children:""})]},ae)})]})]})})(),k?(()=>{var q,de;const Ee=O.skills||[],st=z.length>0?Ee.filter(ee=>z.includes(ee.id)):Ee,De=C.length>0?ne.filter(ee=>C.includes(ee.key)):ne,ae=((q=st.find(ee=>ee.id===U.columnId))==null?void 0:q.id)||((de=st[0])==null?void 0:de.id)||"",Ie=De.map(ee=>{const ht={},Pt={};return st.forEach(Rn=>{const be=Z(ee,Rn.id),We=Number((be==null?void 0:be.damage)||0);Pt[Rn.id]=We,ht[Rn.id]=ul(We)}),{player:ee,values:ht,numericValues:Pt}}).sort((ee,ht)=>{const Pt=ee.numericValues[ae]??0,Rn=ht.numericValues[ae]??0;return(U.dir==="desc"?Rn-Pt:Pt-Rn)||String(ee.player.displayName||"").localeCompare(String(ht.player.displayName||""))});return c.jsx(No,{title:"Class Breakdown - Dense View",subtitle:"Damage",sortColumnId:ae,sortDirection:U.dir,onSortColumn:ee=>{J(ht=>({columnId:ee,dir:ht.columnId===ee&&ht.dir==="desc"?"asc":"desc"}))},columns:st.map(ee=>({id:ee.id,label:c.jsx(xr,{name:ee.name,iconUrl:ee.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:Ie.map((ee,ht)=>({id:`${ee.player.key}-${ht}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:ht+1}),Q(ee.player.profession,ee.player.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:ee.player.displayName})]}),values:ee.values}))})})():c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"stats-table-shell__head-stack",children:[c.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:c.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-wrap",children:[Q(O.profession,void 0,"w-4 h-4"),c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:O.profession}),c.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),c.jsx("div",{className:"text-sm font-semibold text-gray-200 min-w-0",children:c.jsx(xr,{name:(K==null?void 0:K.name)||"",iconUrl:K==null?void 0:K.icon,iconClassName:"h-6 w-6",truncateText:!1,textClassName:"whitespace-normal break-words"})})]}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[ne.length," players | ",O.skills.length," skills"]})]})}),c.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>fe("down"),className:`text-right flex items-center justify-end gap-1 transition-colors ${H.key==="down"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Down Contrib",c.jsx("span",{className:"text-[10px]",children:H.key==="down"?H.dir==="desc"?"":"":""})]}),c.jsxs("button",{type:"button",onClick:()=>fe("damage"),className:`text-right flex items-center justify-end gap-1 transition-colors ${H.key==="damage"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage",c.jsx("span",{className:"text-[10px]",children:H.key==="damage"?H.dir==="desc"?"":"":""})]}),c.jsxs("button",{type:"button",onClick:()=>fe("dps"),className:`text-right flex items-center justify-end gap-1 transition-colors ${H.key==="dps"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["DPS",c.jsx("span",{className:"text-[10px]",children:H.key==="dps"?H.dir==="desc"?"":"":""})]})]})]}),c.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:se.map(q=>{const de=Z(q,(K==null?void 0:K.id)||""),Ee=Number((de==null?void 0:de.downContribution)||0),st=Number((de==null?void 0:de.damage)||0),De=q.totalFightMs>0?st/(q.totalFightMs/1e3):0;return c.jsxs("div",{className:"grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Q(q.profession,q.professionList,"w-4 h-4"),c.jsx("div",{className:"min-w-0",children:c.jsx("div",{className:"font-semibold text-white truncate",children:q.displayName})})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:ul(Ee)}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:ul(st)}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:xa(De,1)})]},`${O.profession}-${q.key}`)})})]})]})})]})})]})},vie=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,playerSkillBreakdowns:s,renderProfessionIcon:l})=>{const u="damage-breakdown",d=e===u,[f,p]=g.useState("damage"),[m,h]=g.useState(""),[v,b]=g.useState(null),y=M=>Number(f==="damage"?M.damage||0:M.downContribution||0),x=M=>(M.skills||[]).reduce((P,B)=>P+y(B),0),w=g.useMemo(()=>{const M=m.trim().toLowerCase();return[...M?s.filter(P=>String(P.displayName||"").toLowerCase().includes(M)||String(P.account||"").toLowerCase().includes(M)||String(P.profession||"").toLowerCase().includes(M)):s].sort((P,B)=>{const E=x(B)-x(P);return E!==0?E:String(P.displayName||"").localeCompare(String(B.displayName||""))})},[s,m,f]),S=g.useMemo(()=>v&&w.find(M=>M.key===v)||null,[w,v]),j=g.useMemo(()=>S?[...S.skills||[]].filter(M=>y(M)>0).sort((M,P)=>y(P)-y(M)).map(M=>({...M,value:y(M)})):[],[S,f]),N=g.useMemo(()=>S?x(S):0,[S,f]);return g.useEffect(()=>{if(w.length===0){v!==null&&b(null);return}v&&!w.some(M=>M.key===v)&&b(null)},[w,v]),c.jsxs("div",{id:u,"data-section-visible":a(u),"data-section-first":i(u),className:o(u,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${d?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[c.jsxs("div",{className:d?"pr-10 md:pr-0":"",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(ak,{className:"w-5 h-5 text-sky-300"}),"Damage Breakdown"]}),c.jsx("p",{className:"text-xs text-gray-400",children:"Select one player to view total skill contribution for the selected metric."})]}),c.jsxs("div",{className:`flex items-center gap-3 ${d?"pr-10 md:pr-0":""}`,children:[c.jsx(kn,{value:f,onChange:M=>p(M),options:[{value:"damage",label:"Damage"},{value:"downContribution",label:"Down Contrib"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx("button",{type:"button",onClick:()=>d?r():n(u),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${d?"absolute top-2 right-2 md:static":""}`,"aria-label":d?"Close Damage Breakdown":"Expand Damage Breakdown",title:d?"Close":"Expand",children:d?c.jsx(ja,{className:"w-4 h-4"}):c.jsx(Ra,{className:"w-4 h-4"})})]})]}),s.length===0?c.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:"No player skill damage data available for the current selection."}):c.jsxs("div",{className:"grid gap-4 lg:grid-cols-[280px_1fr] items-stretch",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 h-[360px]",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-3",children:"Squad Players"}),c.jsx("div",{className:"mb-2",children:c.jsx("input",{type:"search",value:m,onChange:M=>h(M.target.value),placeholder:"Search player or account",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"})}),c.jsx("div",{className:"space-y-1 pr-1 flex-1 min-h-0 overflow-y-auto",children:w.length===0?c.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No players match the filter."}):w.map(M=>{const P=v===M.key;return c.jsx("button",{type:"button",onClick:()=>b(M.key),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${P?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(M.profession,M.professionList,"w-3.5 h-3.5"),c.jsx("div",{className:"truncate min-w-0",children:M.displayName})]}),c.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[(M.skills||[]).length," ",(M.skills||[]).length===1?"skill":"skills"]})]}),c.jsx("div",{className:"text-xs font-mono text-sky-200 shrink-0",children:xa(x(M),0)})]})},M.key)})})]}),c.jsx("div",{className:"space-y-2 flex flex-col h-[360px]",children:c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table flex-1 min-h-0 flex flex-col",children:S?c.jsxs("div",{className:"h-full flex flex-col",children:[c.jsxs("div",{className:"stats-table-shell__head-stack",children:[c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"min-w-0 text-sm text-gray-200",children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("span",{className:"text-[10px] uppercase tracking-[0.25em] text-gray-400 shrink-0",children:"Skill Totals /"}),l(S.profession,S.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate font-semibold",children:S.displayName})]})}),c.jsxs("div",{className:"text-xs text-gray-400 uppercase tracking-[0.18em]",children:[f==="damage"?"Damage":"Down Contrib"," / ",j.length," ",j.length===1?"skill":"skills"]})]}),c.jsxs("div",{className:"stats-table-column-header grid grid-cols-[2fr_0.8fr_0.7fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{children:"Skill"}),c.jsx("div",{className:"text-right",children:f==="damage"?"Damage":"Down Contrib"}),c.jsx("div",{className:"text-right",children:"% Total"})]})]}),c.jsx("div",{className:"stats-table-shell__rows flex-1 min-h-0 overflow-y-auto",children:j.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No skill totals for this player and metric."}):j.map((M,P)=>c.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.7fr] gap-2 px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"min-w-0",children:c.jsx(xr,{name:M.name,iconUrl:M.icon,iconClassName:"h-4 w-4"})}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:xa(Number(M.value||0),0)}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:N>0?`${xa(Number(M.value||0)/N*100,1)}%`:"0.0%"})]},`${M.id}-${P}`))})]}):c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view skill totals."})})})]})]})},bie=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,boonSearch:s,setBoonSearch:l,boons:u,activeBoonId:d,setActiveBoonId:f,timelineScope:p,setTimelineScope:m,playerFilter:h,setPlayerFilter:v,players:b,selectedPlayerKey:y,setSelectedPlayerKey:x,selectedPlayer:w,chartData:S,chartMaxY:j,selectedFightIndex:N,setSelectedFightIndex:M,drilldownTitle:P,drilldownData:B,formatWithCommas:E,renderProfessionIcon:I})=>{const O="boon-timeline",K=e===O,Q=w!=null&&w.profession&&w.profession!=="All"?Tl(w.profession):"#22d3ee",oe=p==="selfBuffs"?"Self":p==="groupBuffs"?"Group":p==="squadBuffs"?"Squad":"All",ve=V=>String(V||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),ne=S.reduce((V,k)=>!V||k.total>V.total?k:V,null),H=V=>{if(!Number.isFinite(V)||V<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(V))}catch{return""}};return c.jsxs("div",{id:O,"data-section-visible":a(O),"data-section-first":i(O),className:o(O,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${K?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[c.jsxs("div",{className:K?"pr-10 md:pr-0":"",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(ks,{className:"w-5 h-5 text-cyan-300"}),"Boon Timeline"]}),c.jsx("p",{className:"text-xs text-gray-400",children:"Select a boon, then a player (or All) to chart generation totals by fight and 5-second buckets."})]}),c.jsx("button",{type:"button",onClick:()=>K?r():n(O),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${K?"absolute top-2 right-2 md:static":""}`,"aria-label":K?"Close Boon Timeline":"Expand Boon Timeline",title:K?"Close":"Expand",children:K?c.jsx(ja,{className:"w-4 h-4"}):c.jsx(Ra,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"mb-4 rounded-2xl border border-white/10 bg-black/30 p-3",children:[c.jsxs("div",{className:"flex flex-col gap-2 lg:flex-row lg:items-center lg:justify-between",children:[c.jsx("input",{type:"search",value:s,onChange:V=>l(V.target.value),placeholder:"Search boon",className:"w-full lg:w-72 rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[u.length," ",u.length===1?"boon":"boons"]})]}),c.jsx("div",{className:"mt-2",children:c.jsx(kn,{value:p,onChange:V=>m(V),options:[{value:"selfBuffs",label:"Self"},{value:"squadBuffs",label:"Squad"},{value:"groupBuffs",label:"Group"},{value:"totalBuffs",label:"All"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),c.jsx("div",{className:"mt-2 max-h-28 overflow-y-auto rounded-xl border border-white/10 bg-black/20 p-1.5",children:u.length===0?c.jsx("div",{className:"px-3 py-2 text-xs text-gray-500 italic",children:"No boons match this filter."}):c.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.map(V=>{const k=d===V.id;return c.jsxs("button",{type:"button",onClick:()=>f(V.id),className:`inline-flex items-center gap-1.5 rounded-full border px-2.5 py-1 text-xs transition-colors ${k?"border-cyan-300/60 bg-cyan-500/15 text-cyan-100":"border-white/10 bg-white/[0.03] text-gray-300 hover:border-white/20 hover:text-white"}`,children:[V.icon?c.jsx("img",{src:V.icon,alt:"",className:"h-3.5 w-3.5 object-contain",loading:"lazy"}):c.jsx(ks,{className:"h-3.5 w-3.5 text-cyan-300"}),c.jsx("span",{children:V.name})]},V.id)})})})]}),c.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Boon Sources"}),c.jsx("input",{type:"search",value:h,onChange:V=>v(V.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),c.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:b.length===0?c.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"Select a boon to view player generation."}):c.jsx("div",{className:"p-1.5 space-y-1",children:b.map(V=>{const k=y===V.key;return c.jsx("button",{type:"button",onClick:()=>x(V.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${k?"border-cyan-300/60 bg-cyan-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[V.key==="__all__"?c.jsx(ks,{className:"w-3.5 h-3.5 text-cyan-300"}):I(V.profession,V.professionList,"w-3.5 h-3.5"),c.jsx("div",{className:"text-sm font-semibold truncate text-white",children:V.displayName}),V.profession!=="All"&&c.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:V.profession})]}),c.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[V.logs," ",V.logs===1?"fight":"fights"]})]}),c.jsx("div",{className:"text-xs font-mono text-cyan-200 shrink-0",children:E((V.total||0)/1e3,0)})]})},V.key)})})})]}),c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:["Per Fight ",oe," Generation"]}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[S.length," ",S.length===1?"fight":"fights"]})]}),c.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!w||S.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view boon generation by fight."}):c.jsx(Fs,{width:"100%",height:"100%",children:c.jsxs(bd,{data:S,onClick:V=>{const k=Number(V==null?void 0:V.activeTooltipIndex);Number.isFinite(k)&&M(N===k?null:k)},children:[c.jsx(Gc,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Yc,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(Qc,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,j)],tickFormatter:V=>E(V/1e3,0)}),c.jsx(Us,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(V,k)=>[E(Number(V||0)/1e3,0),String(k||"")],labelFormatter:(V,k)=>{var z;const T=(z=k==null?void 0:k[0])==null?void 0:z.payload;return ve(String((T==null?void 0:T.fullLabel)||""))}}),c.jsx(Ki,{type:"monotone",dataKey:"total",name:w.displayName,stroke:Q,strokeWidth:3,dot:V=>{var k;const z=Number((k=V==null?void 0:V.payload)==null?void 0:k.index);if(!Number.isFinite(z))return null;const T=N===z;return c.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:C=>{C.stopPropagation(),M(T?null:z)},children:[c.jsx("circle",{cx:V.cx,cy:V.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),c.jsx("circle",{cx:V.cx,cy:V.cy,r:T?4:3,fill:Q,stroke:T?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:T?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),c.jsx(Ki,{type:"monotone",dataKey:"maxTotal",name:"Fight Max",stroke:"rgba(148,163,184,0.8)",strokeWidth:2,strokeDasharray:"6 4",dot:!1,activeDot:!1})]})})})]})]}),w&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Source"}),c.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[w.key==="__all__"?c.jsx(ks,{className:"w-4 h-4 text-cyan-300"}):I(w.profession,w.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:w.displayName})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Peak Fight Generation"}),c.jsx("div",{className:"mt-1 text-lg font-black text-cyan-200 font-mono",children:E(Number((ne==null?void 0:ne.total)||0)/1e3,0)})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Peak Fight"}),c.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const V=ve((ne==null?void 0:ne.fullLabel)||"N/A"),k=H(Number((ne==null?void 0:ne.timestamp)||0));return k?`${k} - ${V}`:V})()})]})]}),w&&N!==null&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:P}),c.jsx("button",{type:"button",onClick:()=>M(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),c.jsx("div",{className:"h-[220px] relative",children:B.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):c.jsx(Fs,{width:"100%",height:"100%",children:c.jsxs(bd,{data:B,children:[c.jsx(Gc,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Yc,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(Qc,{tick:{fill:"#e2e8f0",fontSize:10},tickFormatter:V=>E(V/1e3,0)}),c.jsx(Us,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:V=>[E(Number(V||0)/1e3,0),"Generation"],labelFormatter:V=>String(V||"")}),c.jsx(Ki,{type:"monotone",dataKey:"value",name:"Generation",stroke:Q,strokeWidth:2.5,dot:{r:2},activeDot:{r:4}})]})})})]})]})},aF=({className:e})=>c.jsx(L8,{className:e,style:{transform:"rotate(45deg)"}}),Xs=({expanded:e,className:t="",sidebarClassName:n="",contentClassName:r="",sidebar:a,content:i})=>c.jsxs("div",{className:`stats-table-layout grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e?"flex-1 min-h-0 h-full":""} ${t}`,children:[c.jsx("div",{className:`stats-table-layout__sidebar ${n}`,children:a}),c.jsx("div",{className:`stats-table-layout__content ${r}`,children:i})]}),Co=({header:e,columns:t,rows:n,expanded:r,maxHeightClass:a="max-h-80"})=>c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"stats-table-shell__head-stack",children:[c.jsx("div",{className:"stats-table-shell__header",children:e}),c.jsx("div",{className:"stats-table-shell__columns",children:t})]}),c.jsx("div",{className:`stats-table-shell__rows ${r?"flex-1 min-h-0 overflow-y-auto":`${a} overflow-y-auto`}`,children:n})]}),xie=({stats:e,OFFENSE_METRICS:t,roundCountStats:n,offenseSearch:r,setOffenseSearch:a,activeOffenseStat:i,setActiveOffenseStat:o,offenseViewMode:s,setOffenseViewMode:l,formatWithCommas:u,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:p,openExpandedSection:m,closeExpandedSection:h,isSectionVisible:v,isFirstVisibleSection:b,sectionClass:y,sidebarListClass:x})=>{var w;const[S,j]=g.useState({key:"value",dir:"desc"}),[N,M]=g.useState({columnId:((w=t[0])==null?void 0:w.id)||"value",dir:"desc"}),P=f==="offense-detailed",[B,E]=g.useState([]),[I,O]=g.useState([]),K=t.filter(k=>k.label.toLowerCase().includes(r.trim().toLowerCase())),Q=t.map(k=>({id:k.id,label:k.label})),oe=Q.filter(k=>k.label.toLowerCase().includes(r.trim().toLowerCase())),ve=B.length>0?t.filter(k=>B.includes(k.id)):t,ne=Array.from(new Map(e.offensePlayers.map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:d(k.profession,k.professionList,"w-3 h-3")})),H=new Set([...B.map(k=>`column:${k}`),...I.map(k=>`player:${k}`)]),V=k=>{j(z=>({key:k,dir:z.key===k&&z.dir==="desc"?"asc":"desc"}))};return c.jsxs("div",{id:"offense-detailed","data-section-visible":v("offense-detailed"),"data-section-first":b("offense-detailed"),className:y("offense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="offense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(aF,{className:"w-5 h-5 text-rose-300"}),"Offenses - Detailed"]}),c.jsx("button",{type:"button",onClick:()=>f==="offense-detailed"?h():m("offense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="offense-detailed"?"Close Offense Detailed":"Expand Offense Detailed",title:f==="offense-detailed"?"Close":"Expand",children:f==="offense-detailed"?c.jsx(ja,{className:"w-4 h-4"}):c.jsx(Ra,{className:"w-4 h-4"})})]}),e.offensePlayers.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No offensive stats available"}):P?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(jo,{options:[...Q.map(k=>({...k,type:"column"})),...ne.map(k=>({...k,type:"player"}))],onSelect:k=>{k.type==="column"?E(z=>z.includes(k.id)?z.filter(T=>T!==k.id):[...z,k.id]):O(z=>z.includes(k.id)?z.filter(T=>T!==k.id):[...z,k.id])},selectedIds:H,className:"w-full sm:w-64"}),c.jsx(wr,{options:oe,selectedIds:B,onToggle:k=>{E(z=>z.includes(k)?z.filter(T=>T!==k):[...z,k])},onClear:()=>E([]),buttonIcon:c.jsx(ko,{className:"h-3.5 w-3.5"})}),c.jsx(wr,{options:ne,selectedIds:I,onToggle:k=>{O(z=>z.includes(k)?z.filter(T=>T!==k):[...z,k])},onClear:()=>O([]),buttonLabel:"Players",buttonIcon:c.jsx(Ar,{className:"h-3.5 w-3.5"})}),c.jsx(kn,{value:s,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(B.length>0||I.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{E([]),O([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),B.map(k=>{var z;const T=((z=Q.find(C=>C.id===k))==null?void 0:z.label)||k;return c.jsxs("button",{type:"button",onClick:()=>E(C=>C.filter($=>$!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:T}),c.jsx("span",{className:"text-gray-400",children:""})]},k)}),I.map(k=>c.jsxs("button",{type:"button",onClick:()=>O(z=>z.filter(T=>T!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:k}),c.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:K.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No offensive stats match this filter"}):(()=>{var k,z;const T=le=>Math.max(1,(le.totalFightMs||0)/1e3),C=(le,G,_)=>{var R,Z,F,se,fe;if(G==="downContributionPercent"){const q=((R=le.offenseTotals)==null?void 0:R.downContribution)||0,de=((Z=le.offenseTotals)==null?void 0:Z.damage)||0;return de>0?q/de*100:0}if(_.isRate){const q=((F=le.offenseRateWeights)==null?void 0:F[G])||0,de=((se=le.offenseTotals)==null?void 0:se[G])||0;return q>0?de/q*100:0}return((fe=le.offenseTotals)==null?void 0:fe[G])||0},$=(le,G)=>{const _=n&&!G.isPercent&&s==="total"?0:2,R=u(le,_);return G.isPercent?`${R}%`:R},U=((k=ve.find(le=>le.id===N.columnId))==null?void 0:k.id)||((z=ve[0])==null?void 0:z.id)||"",J=[...e.offensePlayers].filter(le=>I.length===0||I.includes(le.account)).map(le=>{const G={},_={};return ve.forEach(R=>{const Z=C(le,R.id,R),F=s==="total"||R.isPercent||R.isRate?Z:s==="per1s"?Z/T(le):Z*60/T(le);_[R.id]=F,G[R.id]=$(F,R)}),{row:le,values:G,numericValues:_}}).sort((le,G)=>{const _=le.numericValues[U]??0,R=G.numericValues[U]??0;return(N.dir==="desc"?R-_:_-R)||String(le.row.account||"").localeCompare(String(G.row.account||""))});return c.jsx(No,{title:"Offense - Dense View",subtitle:"Offensive",sortColumnId:U,sortDirection:N.dir,onSortColumn:le=>{M(G=>({columnId:le,dir:G.columnId===le&&G.dir==="desc"?"asc":"desc"}))},columns:ve.map(le=>({id:le.id,label:le.label,align:"right",minWidth:90})),rows:J.map((le,G)=>({id:`${le.row.account}-${G}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:G+1}),d(le.row.profession,le.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:le.row.account})]}),values:le.values}))})})()})]}):c.jsx(Xs,{expanded:f==="offense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="offense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="offense-detailed"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),c.jsx("input",{value:r,onChange:k=>a(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${x} ${f==="offense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:K.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No offensive stats match this filter"}):K.map(k=>c.jsx("button",{onClick:()=>o(k.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===k.id?"bg-rose-500/20 text-rose-200 border-rose-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:k.label},k.id))})]}),content:c.jsx(c.Fragment,{children:(()=>{const k=t.find(U=>U.id===i)||t[0],z=U=>Math.max(1,(U.totalFightMs||0)/1e3),T=U=>{var J,le,G,_,R;if(k.id==="downContributionPercent"){const Z=((J=U.offenseTotals)==null?void 0:J.downContribution)||0,F=((le=U.offenseTotals)==null?void 0:le.damage)||0;return F>0?Z/F*100:0}if(k.isRate){const Z=((G=U.offenseRateWeights)==null?void 0:G[k.id])||0,F=((_=U.offenseTotals)==null?void 0:_[k.id])||0;return Z>0?F/Z*100:0}return((R=U.offenseTotals)==null?void 0:R[k.id])||0},C=U=>{const J=n&&!k.isPercent&&s==="total"?0:2,le=u(U,J);return k.isPercent?`${le}%`:le},$=[...e.offensePlayers].map(U=>({...U,total:T(U),per1s:k.isPercent||k.isRate?T(U):T(U)/z(U),per60s:k.isPercent||k.isRate?T(U):T(U)*60/z(U)})).sort((U,J)=>{const le=S.key==="fightTime"?Number(U.totalFightMs||0):Number(s==="total"?U.total:s==="per1s"?U.per1s:U.per60s),G=S.key==="fightTime"?Number(J.totalFightMs||0):Number(s==="total"?J.total:s==="per1s"?J.per1s:J.per60s);return(S.dir==="desc"?G-le:le-G)||U.account.localeCompare(J.account)});return c.jsx(Co,{expanded:f==="offense-detailed",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:k.label}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Offensive"})]}),columns:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"flex items-center justify-end gap-2 px-4 py-2 bg-white/5",children:c.jsx(kn,{value:s,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>V("value"),className:`text-right transition-colors ${S.key==="value"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",S.key==="value"?S.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>V("fightTime"),className:`text-right transition-colors ${S.key==="fightTime"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",S.key==="fightTime"?S.dir==="desc"?" ":" ":""]})]})]}),rows:c.jsx(c.Fragment,{children:$.map((U,J)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:J+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(U.profession,U.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:U.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const le=s==="total"?U.total:s==="per1s"?U.per1s:U.per60s;return C(le)})()}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:U.totalFightMs?`${(U.totalFightMs/1e3).toFixed(1)}s`:"-"})]},`${k.id}-${U.account}-${J}`))})})})()})})]})},wie=({conditionSummary:e,conditionPlayers:t,conditionSearch:n,setConditionSearch:r,activeConditionName:a,setActiveConditionName:i,conditionDirection:o,setConditionDirection:s,conditionGridClass:l,effectiveConditionSort:u,setConditionSort:d,showConditionDamage:f,renderProfessionIcon:p,expandedSection:m,expandedSectionClosing:h,openExpandedSection:v,closeExpandedSection:b,isSectionVisible:y,isFirstVisibleSection:x,sectionClass:w,sidebarListClass:S})=>{var j;const N=m==="conditions-outgoing",[M,P]=g.useState([]),[B,E]=g.useState([]),[I,O]=g.useState({columnId:"all",dir:"desc"}),K=k=>{if(!k)return 0;if(o!=="outgoing"){const $=Number(k.applicationsFromUptime);return Number.isFinite($)&&$>0?$:Number(k.applications||0)}const z=Number(k.applicationsFromUptime);if(Number.isFinite(z)&&z>0)return z;const T=Number(k.applicationsFromBuffsActive);if(Number.isFinite(T)&&T>0)return T;const C=Number(k.applicationsFromBuffs);return Number.isFinite(C)&&C>0?C:Number(k.applications||0)},Q=[...e||[]].sort((k,z)=>(z.damage||0)-(k.damage||0)),oe=Q.filter(k=>k.name.toLowerCase().includes(n.trim().toLowerCase())),ve=oe.map(k=>({id:k.name,label:k.name,icon:k.icon?c.jsx("img",{src:k.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),ne=M.length>0?Q.filter(k=>M.includes(k.name)):Q,H=Array.from(new Map((t||[]).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:p(k.profession,k.professionList,"w-3 h-3")})),V=new Set([...M.map(k=>`column:${k}`),...B.map(k=>`player:${k}`)]);return c.jsxs("div",{id:"conditions-outgoing","data-section-visible":y("conditions-outgoing"),"data-section-first":x("conditions-outgoing"),className:w("conditions-outgoing",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="conditions-outgoing"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(W0,{className:"w-5 h-5 text-amber-300"}),"Conditions"]}),c.jsx("button",{type:"button",onClick:()=>m==="conditions-outgoing"?b():v("conditions-outgoing"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="conditions-outgoing"?"Close Outgoing Conditions":"Expand Outgoing Conditions",title:m==="conditions-outgoing"?"Close":"Expand",children:m==="conditions-outgoing"?c.jsx(ja,{className:"w-4 h-4"}):c.jsx(Ra,{className:"w-4 h-4"})})]}),e&&e.length>0?N?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(jo,{options:[...Q.map(k=>({id:k.name,label:k.name,type:"column"})),...H.map(k=>({...k,type:"player"}))],onSelect:k=>{k.type==="column"?P(z=>z.includes(k.id)?z.filter(T=>T!==k.id):[...z,k.id]):E(z=>z.includes(k.id)?z.filter(T=>T!==k.id):[...z,k.id])},selectedIds:V,className:"w-full sm:w-64"}),c.jsx(wr,{options:ve,selectedIds:M,onToggle:k=>{P(z=>z.includes(k)?z.filter(T=>T!==k):[...z,k])},onClear:()=>P([]),buttonIcon:c.jsx(ko,{className:"h-3.5 w-3.5"})}),c.jsx(wr,{options:H,selectedIds:B,onToggle:k=>{E(z=>z.includes(k)?z.filter(T=>T!==k):[...z,k])},onClear:()=>E([]),buttonLabel:"Players",buttonIcon:c.jsx(Ar,{className:"h-3.5 w-3.5"})}),c.jsx(kn,{value:o,onChange:s,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),f&&c.jsx(kn,{value:u.key,onChange:k=>d({key:k,dir:"desc"}),options:[{value:"applications",label:"Applications"},{value:"damage",label:"Damage"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:oe.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No conditions match this filter"}):(()=>{const k=u.key,z=[{id:"all",label:"All Conditions",icon:null},...ne],T=(t||[]).filter(U=>B.length===0||B.includes(U.account)).map(U=>{const J=U.conditions||{},le={},G={};return z.forEach(_=>{if(_.id==="all"||_.name==="All Conditions"){const F=Object.values(J).reduce((fe,q)=>{const de=K(q);return fe.applications+=Number(de||0),fe.damage+=Number((q==null?void 0:q.damage)||0),fe},{applications:0,damage:0}),se=k==="applications"?F.applications:F.damage;G.all=se||0,le.all=Math.round(se||0).toLocaleString();return}const R=J[_.name],Z=k==="applications"?K(R):Number((R==null?void 0:R.damage)||0);G[_.name]=Number(Z||0),le[_.name]=Math.round(Z||0).toLocaleString()}),{player:U,values:le,numericValues:G}}).filter(U=>Object.values(U.values).some(J=>J!=="0")),C=["all",...ne.map(U=>U.name)].includes(I.columnId)?I.columnId:"all",$=[...T].sort((U,J)=>{const le=U.numericValues[C]??0,G=J.numericValues[C]??0;return(I.dir==="desc"?G-le:le-G)||String(U.player.account||"").localeCompare(String(J.player.account||""))});return c.jsx(No,{title:"Conditions - Dense View",subtitle:k==="applications"?"Applications":"Damage",sortColumnId:C,sortDirection:I.dir,onSortColumn:U=>{O(J=>({columnId:U,dir:J.columnId===U&&J.dir==="desc"?"asc":"desc"}))},columns:[{id:"all",label:"All",align:"right",minWidth:90},...ne.map(U=>({id:U.name,label:c.jsx(xr,{name:U.name,iconUrl:U.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90}))],rows:$.map((U,J)=>({id:`${U.player.account}-${J}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:J+1}),p(U.player.profession,U.player.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:U.player.account})]}),values:U.values}))})})()}),(M.length>0||B.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{P([]),E([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),M.map(k=>c.jsxs("button",{type:"button",onClick:()=>P(z=>z.filter(T=>T!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:k}),c.jsx("span",{className:"text-gray-400",children:""})]},k)),B.map(k=>c.jsxs("button",{type:"button",onClick:()=>E(z=>z.filter(T=>T!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:k}),c.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}):c.jsx(Xs,{expanded:m==="conditions-outgoing",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="conditions-outgoing"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="conditions-outgoing"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),c.jsx("input",{value:n,onChange:k=>r(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${S} ${m==="conditions-outgoing"?"max-h-none flex-1 min-h-0":""}`,children:oe.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No conditions match this filter"}):c.jsxs(c.Fragment,{children:[c.jsx("button",{type:"button",onClick:()=>i("all"),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a==="all"?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Conditions"}),oe.map(k=>c.jsx("button",{type:"button",onClick:()=>i(k.name),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===k.name?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsx(xr,{name:k.name,iconUrl:k.icon,iconClassName:"h-5 w-5"})},k.name))]})})]}),content:c.jsx(Co,{expanded:m==="conditions-outgoing",header:c.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:a==="all"?"All Conditions":c.jsx(xr,{name:a,iconUrl:(j=e.find(k=>k.name===a))==null?void 0:j.icon,iconClassName:"h-5 w-5"})}),c.jsxs("div",{className:"flex flex-col items-end gap-2 text-right ml-auto mt-2",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Squad Totals"}),c.jsx(kn,{value:o,onChange:s,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),columns:c.jsxs("div",{className:`grid ${l} text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2`,children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>{d({key:"applications",dir:u.key==="applications"&&u.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${u.key==="applications"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Applications ",u.key==="applications"?u.dir==="desc"?"":"":""]}),f?c.jsxs("button",{type:"button",onClick:()=>{d({key:"damage",dir:u.key==="damage"&&u.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${u.key==="damage"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage ",u.key==="damage"?u.dir==="desc"?"":"":""]}):null]}),rows:c.jsx(c.Fragment,{children:(()=>{const k=(t||[]).map(z=>{const T=z.conditions||{};if(a==="all"){const $=Object.values(T).reduce((U,J)=>{const le=K(J);return U.applications+=Number(le||0),U.damage+=Number((J==null?void 0:J.damage)||0),U},{applications:0,damage:0});return{...z,applications:$.applications,damage:$.damage}}const C=T[a];return{...z,applications:K(C),damage:Number((C==null?void 0:C.damage)||0)}}).filter(z=>z.applications>0||z.damage>0).sort((z,T)=>{const C=u.key==="applications"?z.applications||0:z.damage||0,$=u.key==="applications"?T.applications||0:T.damage||0,U=u.dir==="desc"?$-C:C-$;if(U!==0)return U;const J=u.key==="applications"?(T.damage||0)-(z.damage||0):(T.applications||0)-(z.applications||0);return J!==0?J:String(z.account||"").localeCompare(String(T.account||""))});return k.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No condition data available"}):k.map((z,T)=>{var C;const $=z.conditions||{};let U={};a==="all"?Object.values($).forEach(F=>{const se=(F==null?void 0:F.skills)||{};Object.values(se).forEach(fe=>{const q=(fe==null?void 0:fe.name)||"Unknown",de=Number((fe==null?void 0:fe.hits)||0),Ee=Number((fe==null?void 0:fe.damage)||0);if((!Number.isFinite(de)||de<=0)&&(!Number.isFinite(Ee)||Ee<=0))return;const st=U[q]||{name:q,hits:0,damage:0,icon:fe==null?void 0:fe.icon};st.hits+=Number.isFinite(de)?de:0,st.damage+=Number.isFinite(Ee)?Ee:0,!st.icon&&fe!=null&&fe.icon&&(st.icon=fe.icon),U[q]=st})}):U=((C=$[a])==null?void 0:C.skills)||{};const J=Object.values(U).filter(F=>Number.isFinite(F.hits)&&F.hits>0).sort((F,se)=>se.hits-F.hits||F.name.localeCompare(se.name)),le=Object.values(U).filter(F=>Number.isFinite(F.damage)&&F.damage>0).sort((F,se)=>se.damage-F.damage||F.name.localeCompare(se.name)),G=a==="all"&&J.length>0,_=a==="all"&&le.length>0,R=Math.round(z.applications||0).toLocaleString(),Z=Math.round(z.damage||0).toLocaleString();return c.jsxs("div",{className:`grid ${l} px-4 py-2 text-sm text-gray-200 border-t border-white/5`,children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:T+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[p(z.profession,z.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:z.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:G?c.jsx(A5,{value:R,label:"Condition Sources",items:J.map(F=>({name:F.name,iconUrl:F.icon,value:Math.round(F.hits).toLocaleString()})),className:"justify-end"}):R}),f?c.jsx("div",{className:"text-right font-mono text-gray-300",children:_?c.jsx(A5,{value:Z,label:"Condition Damage Sources",items:le.map(F=>({name:F.name,iconUrl:F.icon,value:Math.round(F.damage).toLocaleString()})),className:"justify-end"}):Z}):null]},`${z.account}-${T}`)})})()})})}):c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No condition data available"})]})},kie=({stats:e,activeBoonCategory:t,setActiveBoonCategory:n,activeBoonMetric:r,setActiveBoonMetric:a,activeBoonTab:i,setActiveBoonTab:o,activeBoonTable:s,filteredBoonTables:l,boonSearch:u,setBoonSearch:d,formatBoonMetricDisplay:f,getBoonMetricValue:p,renderProfessionIcon:m,roundCountStats:h,expandedSection:v,expandedSectionClosing:b,openExpandedSection:y,closeExpandedSection:x,isSectionVisible:w,isFirstVisibleSection:S,sectionClass:j,sidebarListClass:N})=>{const[M,P]=g.useState({key:"value",dir:"desc"}),[B,E]=g.useState({columnId:"",dir:"desc"}),I=v==="boon-output",[O,K]=g.useState([]),[Q,oe]=g.useState([]),ve=e.boonTables||[],ne=O.length>0?ve.filter(T=>O.includes(T.id)):ve,H=l.map(T=>({id:T.id,label:T.name,icon:T.icon?c.jsx("img",{src:T.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),V=Array.from(new Map((e.boonTables||[]).flatMap(T=>T.rows||[]).filter(T=>T.account).map(T=>[T.account,T])).values()).map(T=>({id:T.account,label:T.account,icon:m(T.profession,T.professionList,"w-3 h-3")})),k=new Set([...O.map(T=>`column:${T}`),...Q.map(T=>`player:${T}`)]),z=T=>{P(C=>({key:T,dir:C.key===T&&C.dir==="desc"?"asc":"desc"}))};return c.jsxs("div",{id:"boon-output","data-section-visible":w("boon-output"),"data-section-first":S("boon-output"),className:j("boon-output",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${v==="boon-output"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${b?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(ks,{className:"w-5 h-5 text-cyan-400"}),"Boon Output"]}),c.jsx("button",{type:"button",onClick:()=>v==="boon-output"?x():y("boon-output"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":v==="boon-output"?"Close Boon Output":"Expand Boon Output",title:v==="boon-output"?"Close":"Expand",children:v==="boon-output"?c.jsx(ja,{className:"w-4 h-4"}):c.jsx(Ra,{className:"w-4 h-4"})})]}),e.boonTables.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No boon data available"}):I?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(jo,{options:[...ve.map(T=>({id:T.id,label:T.name,type:"column"})),...Array.from(new Map((e.boonTables||[]).flatMap(T=>T.rows||[]).filter(T=>T.account).map(T=>[T.account,T])).values()).map(T=>({id:T.account,label:T.account,type:"player",icon:m(T.profession,T.professionList,"w-3 h-3")}))],onSelect:T=>{T.type==="column"?K(C=>C.includes(T.id)?C.filter($=>$!==T.id):[...C,T.id]):oe(C=>C.includes(T.id)?C.filter($=>$!==T.id):[...C,T.id])},selectedIds:k,className:"w-full sm:w-64"}),c.jsx(wr,{options:H,selectedIds:O,onToggle:T=>{K(C=>C.includes(T)?C.filter($=>$!==T):[...C,T])},onClear:()=>K([]),buttonIcon:c.jsx(ko,{className:"h-3.5 w-3.5"})}),c.jsx(wr,{options:V,selectedIds:Q,onToggle:T=>{oe(C=>C.includes(T)?C.filter($=>$!==T):[...C,T])},onClear:()=>oe([]),buttonLabel:"Players",buttonIcon:c.jsx(Ar,{className:"h-3.5 w-3.5"})}),c.jsx(kn,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(kn,{value:r,onChange:a,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(O.length>0||Q.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{K([]),oe([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),O.map(T=>{var C;const $=((C=ve.find(U=>U.id===T))==null?void 0:C.name)||T;return c.jsxs("button",{type:"button",onClick:()=>K(U=>U.filter(J=>J!==T)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:$}),c.jsx("span",{className:"text-gray-400",children:""})]},T)}),Q.map(T=>c.jsxs("button",{type:"button",onClick:()=>oe(C=>C.filter($=>$!==T)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:T}),c.jsx("span",{className:"text-gray-400",children:""})]},T))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ve.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No boons match this filter"}):(()=>{var T,C;const $=ne,U=((T=$.find(_=>_.id===B.columnId))==null?void 0:T.id)||(i&&$.some(_=>_.id===i)?i:void 0)||((C=$[0])==null?void 0:C.id)||"",J=new Map,le=new Map;$.forEach(_=>{const R=new Map;_.rows.forEach(Z=>{const F=Z.account||Z.name||Z.id;F&&(R.set(F,Z),le.has(F)||le.set(F,Z))}),J.set(_.id,R)});const G=Array.from(le.entries()).filter(([_])=>Q.length===0||Q.includes(String(_))).map(([_,R])=>{const Z={};return $.forEach(F=>{var se;const fe=(se=J.get(F.id))==null?void 0:se.get(_);Z[F.id]=fe?f(fe,t,F.stacking,r,{roundCountStats:h}):"-"}),{key:_,row:R,values:Z}}).sort((_,R)=>{var Z,F;if(!U)return String(_.key).localeCompare(String(R.key));const se=$.find(st=>st.id===U),fe=se?(Z=J.get(se.id))==null?void 0:Z.get(_.key):null,q=se?(F=J.get(se.id))==null?void 0:F.get(R.key):null,de=fe?p(fe,t,se==null?void 0:se.stacking,r):0,Ee=q?p(q,t,se==null?void 0:se.stacking,r):0;return(B.dir==="desc"?Ee-de:de-Ee)||String(_.key).localeCompare(String(R.key))});return c.jsx(No,{title:"Boon Output - Dense View",subtitle:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`,sortColumnId:U,sortDirection:B.dir,onSortColumn:_=>{E(R=>({columnId:_,dir:R.columnId===_&&R.dir==="desc"?"asc":"desc"}))},columns:$.map(_=>({id:_.id,label:c.jsx(xr,{name:_.name,iconUrl:_.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:G.map((_,R)=>({id:`${_.key}-${R}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:R+1}),m(_.row.profession,_.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:_.row.account||_.row.name||_.key})]}),values:_.values}))})})()})]}):c.jsx(Xs,{expanded:v==="boon-output",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${v==="boon-output"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${v==="boon-output"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),c.jsx("input",{value:u,onChange:T=>d(T.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${N} ${v==="boon-output"?"max-h-none flex-1 min-h-0":""}`,children:l.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No boons match this filter"}):l.map(T=>c.jsx("button",{onClick:()=>o(T.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===T.id?"bg-blue-500/20 text-blue-200 border-blue-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsx(xr,{name:T.name,iconUrl:T.icon,iconClassName:"h-3.5 w-3.5"})},T.id))})]}),content:s?c.jsx(Co,{expanded:v==="boon-output",maxHeightClass:"max-h-64",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:c.jsx(xr,{name:s.name,iconUrl:s.icon,iconClassName:"h-4 w-4"})}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`})]}),columns:c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-start gap-2 px-4 py-2 bg-white/5",children:[c.jsx(kn,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(kn,{value:r,onChange:a,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],className:"sm:ml-auto",activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>z("value"),className:`text-right transition-colors ${M.key==="value"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:[r==="total"?"Total":r==="average"?"Gen/Sec":"Uptime",M.key==="value"?M.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>z("fightTime"),className:`text-right transition-colors ${M.key==="fightTime"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",M.key==="fightTime"?M.dir==="desc"?" ":" ":""]})]})]}),rows:c.jsx(c.Fragment,{children:[...s.rows].sort((T,C)=>(()=>{const $=M.key==="fightTime"?Number(T.activeTimeMs||0):p(T,t,s.stacking,r),U=M.key==="fightTime"?Number(C.activeTimeMs||0):p(C,t,s.stacking,r);return(M.dir==="desc"?U-$:$-U)||String(T.account||"").localeCompare(String(C.account||""))})()).map((T,C)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:C+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[m(T.profession,T.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:T.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:f(T,t,s.stacking,r,{roundCountStats:h})}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:T.activeTimeMs?`${(T.activeTimeMs/1e3).toFixed(1)}s`:"-"})]},`${s.id}-${T.account}-${C}`))})}):c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a boon to view details"})})]})},Sie=({stats:e,DEFENSE_METRICS:t,defenseSearch:n,setDefenseSearch:r,activeDefenseStat:a,setActiveDefenseStat:i,defenseViewMode:o,setDefenseViewMode:s,roundCountStats:l,formatWithCommas:u,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:p,openExpandedSection:m,closeExpandedSection:h,isSectionVisible:v,isFirstVisibleSection:b,sectionClass:y,sidebarListClass:x})=>{var w;const[S,j]=g.useState({key:"value",dir:"desc"}),[N,M]=g.useState("combined"),[P,B]=g.useState({columnId:((w=t[0])==null?void 0:w.id)||"value",dir:"desc"}),E=f==="defense-detailed",[I,O]=g.useState([]),[K,Q]=g.useState([]),oe=t.filter($=>$.label.toLowerCase().includes(n.trim().toLowerCase())),ve=t.map($=>({id:$.id,label:$.label})),ne=ve.filter($=>$.label.toLowerCase().includes(n.trim().toLowerCase())),H=I.length>0?t.filter($=>I.includes($.id)):t,V=Array.from(new Map(e.defensePlayers.map($=>[$.account,$])).values()).map($=>({id:$.account,label:$.account,icon:d($.profession,$.professionList,"w-3 h-3")})),k=new Set([...I.map($=>`column:${$}`),...K.map($=>`player:${$}`)]),z=$=>{j(U=>({key:$,dir:U.key===$&&U.dir==="desc"?"asc":"desc"}))},T=$=>$==="minionDamageTaken",C=($,U)=>U==="combined"?$.map(J=>({...J,minionList:Object.entries((J==null?void 0:J.minionDamageTakenByMinion)||{}).filter(([,le])=>Number(le||0)>0).sort((le,G)=>Number(G[1]||0)-Number(le[1]||0)).map(([le])=>String(le))})):$.flatMap(J=>{const le=Object.entries((J==null?void 0:J.minionDamageTakenByMinion)||{}).filter(([,G])=>Number(G||0)>0).sort((G,_)=>Number(_[1]||0)-Number(G[1]||0));return le.length===0?[]:le.map(([G,_])=>({...J,minionName:String(G),defenseTotals:{...J.defenseTotals||{},minionDamageTaken:Number(_||0)}}))});return c.jsxs("div",{id:"defense-detailed","data-section-visible":v("defense-detailed"),"data-section-first":b("defense-detailed"),className:y("defense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="defense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(ld,{className:"w-5 h-5 text-sky-300"}),"Defenses - Detailed"]}),c.jsx("button",{type:"button",onClick:()=>f==="defense-detailed"?h():m("defense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="defense-detailed"?"Close Defense Detailed":"Expand Defense Detailed",title:f==="defense-detailed"?"Close":"Expand",children:f==="defense-detailed"?c.jsx(ja,{className:"w-4 h-4"}):c.jsx(Ra,{className:"w-4 h-4"})})]}),e.defensePlayers.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No defensive stats available"}):E?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(jo,{options:[...ve.map($=>({...$,type:"column"})),...V.map($=>({...$,type:"player"}))],onSelect:$=>{$.type==="column"?O(U=>U.includes($.id)?U.filter(J=>J!==$.id):[...U,$.id]):Q(U=>U.includes($.id)?U.filter(J=>J!==$.id):[...U,$.id])},selectedIds:k,className:"w-full sm:w-64"}),c.jsx(wr,{options:ne,selectedIds:I,onToggle:$=>{O(U=>U.includes($)?U.filter(J=>J!==$):[...U,$])},onClear:()=>O([]),buttonIcon:c.jsx(ko,{className:"h-3.5 w-3.5"})}),c.jsx(wr,{options:V,selectedIds:K,onToggle:$=>{Q(U=>U.includes($)?U.filter(J=>J!==$):[...U,$])},onClear:()=>Q([]),buttonLabel:"Players",buttonIcon:c.jsx(Ar,{className:"h-3.5 w-3.5"})}),c.jsx(kn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),H.some($=>T($.id))&&c.jsx(kn,{value:N,onChange:$=>M($),options:[{value:"combined",label:"Combined"},{value:"separate",label:"Separate"}],activeClassName:"bg-indigo-500/20 text-indigo-200 border border-indigo-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(I.length>0||K.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{O([]),Q([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),I.map($=>{var U;const J=((U=ve.find(le=>le.id===$))==null?void 0:U.label)||$;return c.jsxs("button",{type:"button",onClick:()=>O(le=>le.filter(G=>G!==$)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:J}),c.jsx("span",{className:"text-gray-400",children:""})]},$)}),K.map($=>c.jsxs("button",{type:"button",onClick:()=>Q(U=>U.filter(J=>J!==$)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:$}),c.jsx("span",{className:"text-gray-400",children:""})]},$))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:oe.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No defensive stats match this filter"}):(()=>{var $,U;const J=Z=>Math.max(1,(Z.activeMs||0)/1e3),le=(Z,F)=>{const se=F.isPercent,fe=u(Z,l&&!se&&o==="total"?0:2);return se?`${fe}%`:fe},G=(($=H.find(Z=>Z.id===P.columnId))==null?void 0:$.id)||((U=H[0])==null?void 0:U.id)||"",_=[...e.defensePlayers].filter(Z=>K.length===0||K.includes(Z.account)),R=[...H.some(Z=>T(Z.id))?C(_,N):_].map(Z=>{const F={},se={};return H.forEach(fe=>{var q;const de=((q=Z.defenseTotals)==null?void 0:q[fe.id])||0,Ee=fe.isPercent,st=o==="total"||Ee?de:o==="per1s"?de/J(Z):de*60/J(Z);se[fe.id]=st,F[fe.id]=le(st,fe)}),{row:Z,values:F,numericValues:se}}).sort((Z,F)=>{const se=Z.numericValues[G]??0,fe=F.numericValues[G]??0;return(P.dir==="desc"?fe-se:se-fe)||String(Z.row.account||"").localeCompare(String(F.row.account||""))});return c.jsx(No,{title:"Defense - Dense View",subtitle:"Defensive",sortColumnId:G,sortDirection:P.dir,onSortColumn:Z=>{B(F=>({columnId:Z,dir:F.columnId===Z&&F.dir==="desc"?"asc":"desc"}))},columns:H.map(Z=>({id:Z.id,label:Z.label,align:"right",minWidth:90})),rows:R.map((Z,F)=>({id:`${Z.row.account}-${F}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:F+1}),d(Z.row.profession,Z.row.professionList,"w-4 h-4"),c.jsxs("span",{className:"min-w-0 flex flex-col",children:[c.jsx("span",{className:"truncate",children:Z.row.account}),N==="combined"&&Array.isArray(Z.row.minionList)&&Z.row.minionList.length>0&&c.jsx("span",{className:"truncate text-[10px] text-gray-500",children:Z.row.minionList.join(", ")}),N==="separate"&&Z.row.minionName&&c.jsx("span",{className:"truncate text-[10px] text-gray-400",children:Z.row.minionName})]})]}),values:Z.values}))})})()})]}):c.jsx(Xs,{expanded:f==="defense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="defense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="defense-detailed"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),c.jsx("input",{value:n,onChange:$=>r($.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${x} ${f==="defense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:oe.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No defensive stats match this filter"}):oe.map($=>c.jsx("button",{onClick:()=>i($.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===$.id?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:$.label},$.id))})]}),content:c.jsx(c.Fragment,{children:(()=>{const $=t.find(G=>G.id===a)||t[0],U=G=>Math.max(1,(G.activeMs||0)/1e3),J=[...e.defensePlayers],le=[...T($.id)?C(J,N):J].map(G=>{var _,R,Z;return{...G,total:((_=G.defenseTotals)==null?void 0:_[$.id])||0,per1s:(((R=G.defenseTotals)==null?void 0:R[$.id])||0)/U(G),per60s:(((Z=G.defenseTotals)==null?void 0:Z[$.id])||0)*60/U(G)}}).sort((G,_)=>{const R=S.key==="fightTime"?Number(G.activeMs||0):Number(o==="total"?G.total:o==="per1s"?G.per1s:G.per60s),Z=S.key==="fightTime"?Number(_.activeMs||0):Number(o==="total"?_.total:o==="per1s"?_.per1s:_.per60s);return(S.dir==="desc"?Z-R:R-Z)||G.account.localeCompare(_.account)});return c.jsx(Co,{expanded:f==="defense-detailed",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:$.label}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Defensive"})]}),columns:c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:`flex items-center px-4 py-2 bg-white/5 ${T($.id)?"justify-between":"justify-end"}`,children:[T($.id)&&c.jsx(kn,{value:N,onChange:G=>M(G),options:[{value:"combined",label:"Combined"},{value:"separate",label:"Separate"}],activeClassName:"bg-indigo-500/20 text-indigo-200 border border-indigo-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx("div",{className:"flex flex-wrap items-center justify-end gap-2",children:c.jsx(kn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})})]}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>z("value"),className:`text-right transition-colors ${S.key==="value"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",S.key==="value"?S.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>z("fightTime"),className:`text-right transition-colors ${S.key==="fightTime"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",S.key==="fightTime"?S.dir==="desc"?" ":" ":""]})]})]}),rows:c.jsx(c.Fragment,{children:le.map((G,_)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:_+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(G.profession,G.professionList,"w-4 h-4"),c.jsxs("span",{className:"min-w-0 flex flex-col",children:[c.jsx("span",{className:"truncate",children:G.account}),T($.id)&&N==="combined"&&Array.isArray(G.minionList)&&G.minionList.length>0&&c.jsx("span",{className:"truncate text-[10px] text-gray-500",children:G.minionList.join(", ")}),T($.id)&&N==="separate"&&G.minionName&&c.jsx("span",{className:"truncate text-[10px] text-gray-400",children:G.minionName})]})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const R=o==="total"?G.total:o==="per1s"?G.per1s:G.per60s;return u(R,l&&o==="total"?0:2)})()}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:G.activeMs?`${(G.activeMs/1e3).toFixed(1)}s`:"-"})]},`${$.id}-${G.account}-${_}`))})})})()})})]})},Nie=({stats:e,DAMAGE_MITIGATION_METRICS:t,damageMitigationSearch:n,setDamageMitigationSearch:r,activeDamageMitigationStat:a,setActiveDamageMitigationStat:i,damageMitigationViewMode:o,setDamageMitigationViewMode:s,damageMitigationScope:l,setDamageMitigationScope:u,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:p,expandedSection:m,expandedSectionClosing:h,openExpandedSection:v,closeExpandedSection:b,isSectionVisible:y,isFirstVisibleSection:x,sectionClass:w,sidebarListClass:S})=>{var j,N;const M=((j=t.find(F=>F.id==="totalMitigation"))==null?void 0:j.id)||((N=t[0])==null?void 0:N.id)||"totalMitigation",[P,B]=g.useState({key:"value",dir:"desc"}),[E,I]=g.useState({columnId:M,dir:"desc"}),O=m==="defense-mitigation",[K,Q]=g.useState([]),[oe,ve]=g.useState([]),[ne,H]=g.useState([]),V=e.damageMitigationPlayers||[],k=e.damageMitigationMinions||[],z=l==="minions"?k:V,T=V.length>0||k.length>0,C=t.filter(F=>F.label.toLowerCase().includes(n.trim().toLowerCase())),$=t.map(F=>({id:F.id,label:F.label})),U=$.filter(F=>F.label.toLowerCase().includes(n.trim().toLowerCase())),J=K.length>0?t.filter(F=>K.includes(F.id)):t,le=Array.from(new Map(z.map(F=>[F.account,F])).values()).map(F=>({id:F.account,label:F.account,icon:p(F.profession,F.professionList,"w-3 h-3")})),G=Array.from(new Map(k.map(F=>[F.minion,F])).values()).filter(F=>F==null?void 0:F.minion).map(F=>({id:String(F.minion),label:String(F.minion)})),_=new Set([...K.map(F=>`column:${F}`),...oe.map(F=>`player:${F}`)]),R=F=>{B(se=>({key:F,dir:se.key===F&&se.dir==="desc"?"asc":"desc"}))},Z=F=>f(F,d&&o==="total"?0:2);return c.jsxs("div",{id:"defense-mitigation","data-section-visible":y("defense-mitigation"),"data-section-first":x("defense-mitigation"),className:w("defense-mitigation",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="defense-mitigation"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(dk,{className:"w-5 h-5 text-emerald-300"}),"Defenses - Damage Mitigation"]}),c.jsx("button",{type:"button",onClick:()=>m==="defense-mitigation"?b():v("defense-mitigation"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="defense-mitigation"?"Close Damage Mitigation":"Expand Damage Mitigation",title:m==="defense-mitigation"?"Close":"Expand",children:m==="defense-mitigation"?c.jsx(ja,{className:"w-4 h-4"}):c.jsx(Ra,{className:"w-4 h-4"})})]}),c.jsx("div",{className:"text-xs text-amber-200/80 italic mb-3",children:"Damage mitigation is an estimate based on enemy skill damage averages and avoidance events (block/evade/miss/invuln/interrupted). Use it for relative comparison rather than exact prevention totals."}),T?O?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(jo,{options:[...$.map(F=>({...F,type:"column"})),...le.map(F=>({...F,type:"player"}))],onSelect:F=>{F.type==="column"?Q(se=>se.includes(F.id)?se.filter(fe=>fe!==F.id):[...se,F.id]):ve(se=>se.includes(F.id)?se.filter(fe=>fe!==F.id):[...se,F.id])},selectedIds:_,className:"w-full sm:w-64"}),c.jsx(wr,{options:U,selectedIds:K,onToggle:F=>{Q(se=>se.includes(F)?se.filter(fe=>fe!==F):[...se,F])},onClear:()=>Q([]),buttonIcon:c.jsx(ko,{className:"h-3.5 w-3.5"})}),c.jsx(wr,{options:le,selectedIds:oe,onToggle:F=>{ve(se=>se.includes(F)?se.filter(fe=>fe!==F):[...se,F])},onClear:()=>ve([]),buttonLabel:"Players",buttonIcon:c.jsx(Ar,{className:"h-3.5 w-3.5"})}),l==="minions"&&c.jsx(wr,{options:G,selectedIds:ne,onToggle:F=>{H(se=>se.includes(F)?se.filter(fe=>fe!==F):[...se,F])},onClear:()=>H([]),buttonLabel:"Minions"}),c.jsx(kn,{value:l,onChange:u,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(kn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(K.length>0||oe.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{Q([]),ve([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),K.map(F=>{var se;const fe=((se=$.find(q=>q.id===F))==null?void 0:se.label)||F;return c.jsxs("button",{type:"button",onClick:()=>Q(q=>q.filter(de=>de!==F)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:fe}),c.jsx("span",{className:"text-gray-400",children:""})]},F)}),oe.map(F=>c.jsxs("button",{type:"button",onClick:()=>ve(se=>se.filter(fe=>fe!==F)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:F}),c.jsx("span",{className:"text-gray-400",children:""})]},F))]}),l==="minions"&&ne.length>0&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>H([]),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear Minions"}),ne.map(F=>c.jsxs("button",{type:"button",onClick:()=>H(se=>se.filter(fe=>fe!==F)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:F}),c.jsx("span",{className:"text-gray-400",children:""})]},F))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:z.length===0?c.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):C.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No mitigation stats match this filter"}):(()=>{var F,se;const fe=Ee=>Math.max(1,(Ee.activeMs||0)/1e3),q=((F=J.find(Ee=>Ee.id===E.columnId))==null?void 0:F.id)||((se=J[0])==null?void 0:se.id)||"",de=[...z].filter(Ee=>oe.length===0||oe.includes(Ee.account)).filter(Ee=>l!=="minions"||!ne.length?!0:ne.includes(String(Ee.minion||""))).map(Ee=>{const st={},De={};return J.forEach(ae=>{var Ie;const ee=((Ie=Ee.mitigationTotals)==null?void 0:Ie[ae.id])||0,ht=o==="total"?ee:o==="per1s"?ee/fe(Ee):ee*60/fe(Ee);De[ae.id]=ht,st[ae.id]=Z(ht)}),{row:Ee,values:st,numericValues:De}}).sort((Ee,st)=>{const De=Ee.numericValues[q]??0,ae=st.numericValues[q]??0;return(E.dir==="desc"?ae-De:De-ae)||String(Ee.row.account||"").localeCompare(String(st.row.account||""))});return c.jsx(No,{title:"Damage Mitigation - Dense View",subtitle:"Defensive",sortColumnId:q,sortDirection:E.dir,onSortColumn:Ee=>{I(st=>({columnId:Ee,dir:st.columnId===Ee&&st.dir==="desc"?"asc":"desc"}))},columns:J.map(Ee=>({id:Ee.id,label:Ee.label,align:"right",minWidth:90})),rows:de.map((Ee,st)=>({id:`${Ee.row.account}-${Ee.row.minion||"player"}-${st}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:st+1}),p(Ee.row.profession,Ee.row.professionList,"w-4 h-4"),c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"truncate",children:Ee.row.account}),Ee.row.minion&&c.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:Ee.row.minion})]})]}),values:Ee.values}))})})()})]}):c.jsx(Xs,{expanded:m==="defense-mitigation",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="defense-mitigation"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="defense-mitigation"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),c.jsx("input",{value:n,onChange:F=>r(F.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2 mt-2"}),c.jsx("div",{className:`${S} ${m==="defense-mitigation"?"max-h-none flex-1 min-h-0":""}`,children:C.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No mitigation stats match this filter"}):C.map(F=>c.jsx("button",{onClick:()=>i(F.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===F.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:F.label},F.id))})]}),content:c.jsx(c.Fragment,{children:(()=>{const F=t.find(q=>q.id===a)||t[0],se=q=>Math.max(1,(q.activeMs||0)/1e3),fe=[...z].map(q=>{var de,Ee,st;return{...q,total:((de=q.mitigationTotals)==null?void 0:de[F.id])||0,per1s:(((Ee=q.mitigationTotals)==null?void 0:Ee[F.id])||0)/se(q),per60s:(((st=q.mitigationTotals)==null?void 0:st[F.id])||0)*60/se(q)}}).filter(q=>l!=="minions"||!ne.length?!0:ne.includes(String(q.minion||""))).sort((q,de)=>{const Ee=P.key==="fightTime"?Number(q.activeMs||0):Number(o==="total"?q.total:o==="per1s"?q.per1s:q.per60s),st=P.key==="fightTime"?Number(de.activeMs||0):Number(o==="total"?de.total:o==="per1s"?de.per1s:de.per60s);return(P.dir==="desc"?st-Ee:Ee-st)||q.account.localeCompare(de.account)});return c.jsx(Co,{expanded:m==="defense-mitigation",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:F.label}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Mitigation"})]}),columns:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"px-4 py-2 bg-white/5",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(kn,{value:l,onChange:u,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx("div",{className:"ml-auto",children:c.jsx(kn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})})]})}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>R("value"),className:`text-right transition-colors ${P.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",P.key==="value"?P.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>R("fightTime"),className:`text-right transition-colors ${P.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",P.key==="fightTime"?P.dir==="desc"?" ":" ":""]})]})]}),rows:fe.length===0?c.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):c.jsx(c.Fragment,{children:fe.map((q,de)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:de+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[p(q.profession,q.professionList,"w-4 h-4"),c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"truncate",children:q.account}),q.minion&&c.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:q.minion})]})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const Ee=o==="total"?q.total:o==="per1s"?q.per1s:q.per60s;return Z(Ee)})()}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:q.activeMs?`${(q.activeMs/1e3).toFixed(1)}s`:"-"})]},`${F.id}-${q.account}-${q.minion||"player"}-${de}`))})})})()})}):c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No damage mitigation stats available"})]})},jie=({stats:e,SUPPORT_METRICS:t,supportSearch:n,setSupportSearch:r,activeSupportStat:a,setActiveSupportStat:i,supportViewMode:o,setSupportViewMode:s,cleanseScope:l,setCleanseScope:u,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:p,expandedSection:m,expandedSectionClosing:h,openExpandedSection:v,closeExpandedSection:b,isSectionVisible:y,isFirstVisibleSection:x,sectionClass:w,sidebarListClass:S})=>{var j;const[N,M]=g.useState({key:"value",dir:"desc"}),[P,B]=g.useState({columnId:((j=t[0])==null?void 0:j.id)||"value",dir:"desc"}),E=m==="support-detailed",[I,O]=g.useState([]),[K,Q]=g.useState([]),oe=t.filter(T=>T.label.toLowerCase().includes(n.trim().toLowerCase())),ve=t.map(T=>({id:T.id,label:T.label})),ne=ve.filter(T=>T.label.toLowerCase().includes(n.trim().toLowerCase())),H=I.length>0?t.filter(T=>I.includes(T.id)):t,V=Array.from(new Map(e.supportPlayers.map(T=>[T.account,T])).values()).map(T=>({id:T.account,label:T.account,icon:p(T.profession,T.professionList,"w-3 h-3")})),k=new Set([...I.map(T=>`column:${T}`),...K.map(T=>`player:${T}`)]),z=T=>{M(C=>({key:T,dir:C.key===T&&C.dir==="desc"?"asc":"desc"}))};return c.jsxs("div",{id:"support-detailed","data-section-visible":y("support-detailed"),"data-section-first":x("support-detailed"),className:w("support-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="support-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(ck,{className:"w-5 h-5 text-emerald-300"}),"Support - Detailed"]}),c.jsx("button",{type:"button",onClick:()=>m==="support-detailed"?b():v("support-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="support-detailed"?"Close Support Detailed":"Expand Support Detailed",title:m==="support-detailed"?"Close":"Expand",children:m==="support-detailed"?c.jsx(ja,{className:"w-4 h-4"}):c.jsx(Ra,{className:"w-4 h-4"})})]}),e.supportPlayers.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No support stats available"}):E?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(jo,{options:[...ve.map(T=>({...T,type:"column"})),...V.map(T=>({...T,type:"player"}))],onSelect:T=>{T.type==="column"?O(C=>C.includes(T.id)?C.filter($=>$!==T.id):[...C,T.id]):Q(C=>C.includes(T.id)?C.filter($=>$!==T.id):[...C,T.id])},selectedIds:k,className:"w-full sm:w-64"}),c.jsx(wr,{options:ne,selectedIds:I,onToggle:T=>{O(C=>C.includes(T)?C.filter($=>$!==T):[...C,T])},onClear:()=>O([]),buttonIcon:c.jsx(ko,{className:"h-3.5 w-3.5"})}),c.jsx(wr,{options:V,selectedIds:K,onToggle:T=>{Q(C=>C.includes(T)?C.filter($=>$!==T):[...C,T])},onClear:()=>Q([]),buttonLabel:"Players",buttonIcon:c.jsx(Ar,{className:"h-3.5 w-3.5"})}),c.jsx(kn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),a==="condiCleanse"&&c.jsx(kn,{value:l,onChange:u,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(I.length>0||K.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{O([]),Q([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),I.map(T=>{var C;const $=((C=ve.find(U=>U.id===T))==null?void 0:C.label)||T;return c.jsxs("button",{type:"button",onClick:()=>O(U=>U.filter(J=>J!==T)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:$}),c.jsx("span",{className:"text-gray-400",children:""})]},T)}),K.map(T=>c.jsxs("button",{type:"button",onClick:()=>Q(C=>C.filter($=>$!==T)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:T}),c.jsx("span",{className:"text-gray-400",children:""})]},T))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:oe.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No support stats match this filter"}):(()=>{var T,C;const $=(_,R)=>{var Z,F,se;if(R==="condiCleanse"){const fe=((Z=_.supportTotals)==null?void 0:Z.condiCleanse)||0,q=((F=_.supportTotals)==null?void 0:F.condiCleanseSelf)||0;return l==="all"?fe+q:fe}return((se=_.supportTotals)==null?void 0:se[R])||0},U=_=>Math.max(1,(_.activeMs||0)/1e3),J=(_,R)=>{const Z=_.isTime?1:d&&o==="total"?0:2;return f(R,Z)},le=((T=H.find(_=>_.id===P.columnId))==null?void 0:T.id)||((C=H[0])==null?void 0:C.id)||"",G=[...e.supportPlayers].filter(_=>K.length===0||K.includes(_.account)).map(_=>{const R={},Z={};return H.forEach(F=>{const se=$(_,F.id),fe=o==="total"?se:o==="per1s"?se/U(_):se*60/U(_);Z[F.id]=fe,R[F.id]=J(F,fe)}),{row:_,values:R,numericValues:Z}}).sort((_,R)=>{const Z=_.numericValues[le]??0,F=R.numericValues[le]??0;return(P.dir==="desc"?F-Z:Z-F)||String(_.row.account||"").localeCompare(String(R.row.account||""))});return c.jsx(No,{title:"Support - Dense View",subtitle:"Support",sortColumnId:le,sortDirection:P.dir,onSortColumn:_=>{B(R=>({columnId:_,dir:R.columnId===_&&R.dir==="desc"?"asc":"desc"}))},columns:H.map(_=>({id:_.id,label:_.label,align:"right",minWidth:90})),rows:G.map((_,R)=>({id:`${_.row.account}-${R}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:R+1}),p(_.row.profession,_.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:_.row.account})]}),values:_.values}))})})()})]}):c.jsx(Xs,{expanded:m==="support-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="support-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="support-detailed"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),c.jsx("input",{value:n,onChange:T=>r(T.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${S} ${m==="support-detailed"?"max-h-none flex-1 min-h-0":""}`,children:oe.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No support stats match this filter"}):oe.map(T=>c.jsx("button",{onClick:()=>i(T.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===T.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:T.label},T.id))})]}),content:c.jsx(c.Fragment,{children:(()=>{const T=t.find(J=>J.id===a)||t[0],C=J=>{var le,G,_;if(T.id==="condiCleanse"){const R=((le=J.supportTotals)==null?void 0:le.condiCleanse)||0,Z=((G=J.supportTotals)==null?void 0:G.condiCleanseSelf)||0;return l==="all"?R+Z:R}return((_=J.supportTotals)==null?void 0:_[T.id])||0},$=J=>Math.max(1,(J.activeMs||0)/1e3),U=[...e.supportPlayers].map(J=>({...J,total:C(J),per1s:C(J)/$(J),per60s:C(J)*60/$(J)})).sort((J,le)=>{const G=N.key==="fightTime"?Number(J.activeMs||0):Number(o==="total"?J.total:o==="per1s"?J.per1s:J.per60s),_=N.key==="fightTime"?Number(le.activeMs||0):Number(o==="total"?le.total:o==="per1s"?le.per1s:le.per60s);return(N.dir==="desc"?_-G:G-_)||J.account.localeCompare(le.account)});return c.jsx(Co,{expanded:m==="support-detailed",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:T.label}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Support"})]}),columns:c.jsxs(c.Fragment,{children:[T.id==="condiCleanse"?c.jsxs("div",{className:"flex flex-wrap items-center gap-2 px-4 py-2 bg-white/5",children:[c.jsx(kn,{value:l,onChange:u,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(kn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],className:"sm:ml-auto",activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}):c.jsx("div",{className:"flex flex-wrap items-center justify-start sm:justify-end px-4 py-2 bg-white/5",children:c.jsx(kn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>z("value"),className:`text-right transition-colors ${N.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",N.key==="value"?N.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>z("fightTime"),className:`text-right transition-colors ${N.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",N.key==="fightTime"?N.dir==="desc"?" ":" ":""]})]})]}),rows:c.jsx(c.Fragment,{children:U.map((J,le)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:le+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[p(J.profession,J.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:J.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const G=o==="total"?J.total:o==="per1s"?J.per1s:J.per60s,_=T.isTime?1:d&&o==="total"?0:2;return f(G,_)})()}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:J.activeMs?`${(J.activeMs/1e3).toFixed(1)}s`:"-"})]},`${T.id}-${J.account}-${le}`))})})})()})})]})},Cie=({stats:e,HEALING_METRICS:t,activeHealingMetric:n,setActiveHealingMetric:r,healingCategory:a,setHealingCategory:i,activeResUtilitySkill:o,setActiveResUtilitySkill:s,skillUsageData:l,formatWithCommas:u,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:p,openExpandedSection:m,closeExpandedSection:h,isSectionVisible:v,isFirstVisibleSection:b,sectionClass:y})=>{var x;const[w,S]=g.useState({key:"value",dir:"desc"}),[j,N]=g.useState({columnId:((x=t[0])==null?void 0:x.id)||"value",dir:"desc"}),M=f==="healing-stats",[P,B]=g.useState([]),[E,I]=g.useState([]),O=Array.from(new Map(e.healingPlayers.map(ne=>[ne.account,ne])).values()).map(ne=>({id:ne.account,label:ne.account,icon:d(ne.profession,ne.professionList,"w-3 h-3")})),K=new Set([...E.map(ne=>`column:${ne}`),...P.map(ne=>`player:${ne}`)]),Q=t.map(ne=>({id:ne.id,label:ne.label})),oe=E.length>0?t.filter(ne=>E.includes(ne.id)):t,ve=ne=>{S(H=>({key:ne,dir:H.key===ne&&H.dir==="desc"?"asc":"desc"}))};return c.jsxs("div",{id:"healing-stats","data-section-visible":v("healing-stats"),"data-section-first":b("healing-stats"),className:y("healing-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="healing-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(n3,{className:"w-5 h-5 text-lime-300"}),"Healing Stats"]}),c.jsx("button",{type:"button",onClick:()=>f==="healing-stats"?h():m("healing-stats"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="healing-stats"?"Close Healing Stats":"Expand Healing Stats",title:f==="healing-stats"?"Close":"Expand",children:f==="healing-stats"?c.jsx(ja,{className:"w-4 h-4"}):c.jsx(Ra,{className:"w-4 h-4"})})]}),e.healingPlayers.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No healing stats available"}):M?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(jo,{options:[...Q.map(ne=>({...ne,type:"column"})),...O.map(ne=>({...ne,type:"player"}))],onSelect:ne=>{ne.type==="column"?I(H=>H.includes(ne.id)?H.filter(V=>V!==ne.id):[...H,ne.id]):B(H=>H.includes(ne.id)?H.filter(V=>V!==ne.id):[...H,ne.id])},selectedIds:K,className:"w-full sm:w-64"}),c.jsx(kn,{value:a,onChange:i,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(wr,{options:Q,selectedIds:E,onToggle:ne=>{I(H=>H.includes(ne)?H.filter(V=>V!==ne):[...H,ne])},onClear:()=>I([]),buttonIcon:c.jsx(ko,{className:"h-3.5 w-3.5"})}),c.jsx(kn,{value:o,onChange:s,options:[{value:"all",label:"All Res Utility"},...(l.resUtilitySkills||[]).map(ne=>({value:ne.id,label:ne.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(wr,{options:O,selectedIds:P,onToggle:ne=>{B(H=>H.includes(ne)?H.filter(V=>V!==ne):[...H,ne])},onClear:()=>B([]),buttonLabel:"Players",buttonIcon:c.jsx(Ar,{className:"h-3.5 w-3.5"})})]}),(E.length>0||P.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{I([]),B([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),E.map(ne=>{var H;const V=((H=Q.find(k=>k.id===ne))==null?void 0:H.label)||ne;return c.jsxs("button",{type:"button",onClick:()=>I(k=>k.filter(z=>z!==ne)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:V}),c.jsx("span",{className:"text-gray-400",children:""})]},ne)}),P.map(ne=>c.jsxs("button",{type:"button",onClick:()=>B(H=>H.filter(V=>V!==ne)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:ne}),c.jsx("span",{className:"text-gray-400",children:""})]},ne))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:(()=>{var ne,H;const V=C=>Math.max(1,(C.activeMs||0)/1e3),k=C=>{const $=C.baseField==="resUtility",U=$||a==="total"?"":a==="offSquad"?"offSquad":a;return $?o==="all"?"resUtility":`resUtility_${o}`:U?`${U}${C.baseField[0].toUpperCase()}${C.baseField.slice(1)}`:C.baseField},z=[...e.healingPlayers].filter(C=>P.length===0||P.includes(C.account)).filter(C=>Object.values(C.healingTotals||{}).some($=>Number($)>0)).map(C=>{const $={},U={};return oe.forEach(J=>{var le;const G=k(J),_=Number(((le=C.healingTotals)==null?void 0:le[G])??0),R=J.perSecond?_/V(C):_;U[J.id]=R,$[J.id]=u(R,J.decimals)}),{row:C,values:$,numericValues:U}}).sort((C,$)=>{var U,J;const le=((U=oe.find(R=>R.id===j.columnId))==null?void 0:U.id)||((J=oe[0])==null?void 0:J.id)||"",G=C.numericValues[le]??0,_=$.numericValues[le]??0;return(j.dir==="desc"?_-G:G-_)||String(C.row.account||"").localeCompare(String($.row.account||""))}),T=((ne=oe.find(C=>C.id===j.columnId))==null?void 0:ne.id)||((H=oe[0])==null?void 0:H.id)||"";return c.jsx(No,{title:"Healing - Dense View",subtitle:"Healing",sortColumnId:T,sortDirection:j.dir,onSortColumn:C=>{N($=>({columnId:C,dir:$.columnId===C&&$.dir==="desc"?"asc":"desc"}))},columns:oe.map(C=>({id:C.id,label:C.label,align:"right",minWidth:90})),rows:z.map((C,$)=>({id:`${C.row.account}-${$}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:$+1}),d(C.row.profession,C.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:C.row.account})]}),values:C.values}))})})()})]}):c.jsx(Xs,{expanded:f==="healing-stats",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="healing-stats"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="healing-stats"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),c.jsx("div",{className:"flex-1 overflow-y-auto space-y-1 pr-1",children:t.map(ne=>c.jsx("button",{onClick:()=>r(ne.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${n===ne.id?"bg-lime-500/20 text-lime-200 border-lime-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:ne.label},ne.id))})]}),content:c.jsx(c.Fragment,{children:(()=>{const ne=t.find(C=>C.id===n)||t[0],H=ne.baseField==="resUtility",V=C=>Math.max(1,(C.activeMs||0)/1e3),k=H||a==="total"?"":a==="offSquad"?"offSquad":a,z=H?o==="all"?"resUtility":`resUtility_${o}`:k?`${k}${ne.baseField[0].toUpperCase()}${ne.baseField.slice(1)}`:ne.baseField,T=[...e.healingPlayers].filter(C=>Object.values(C.healingTotals||{}).some($=>Number($)>0)).map(C=>{var $;const U=Number((($=C.healingTotals)==null?void 0:$[z])??0),J=ne.perSecond?U/V(C):U;return{...C,value:J}}).sort((C,$)=>{const U=w.key==="fightTime"?Number(C.activeMs||0):Number(C.value||0),J=w.key==="fightTime"?Number($.activeMs||0):Number($.value||0);return(w.dir==="desc"?J-U:U-J)||C.account.localeCompare($.account)});return c.jsx(Co,{expanded:f==="healing-stats",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:ne.label}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Healing"})]}),columns:c.jsxs(c.Fragment,{children:[H&&c.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5 flex-wrap",children:c.jsx(kn,{value:o,onChange:s,options:[{value:"all",label:"All"},...(l.resUtilitySkills||[]).map(C=>({value:C.id,label:C.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),!H&&c.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5",children:c.jsx(kn,{value:a,onChange:i,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>ve("value"),className:`text-right transition-colors ${w.key==="value"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:[ne.label,w.key==="value"?w.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>ve("fightTime"),className:`text-right transition-colors ${w.key==="fightTime"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",w.key==="fightTime"?w.dir==="desc"?" ":" ":""]})]})]}),rows:c.jsx(c.Fragment,{children:T.length===0?c.jsx("div",{className:"px-4 py-6 text-sm text-gray-500 italic",children:"No healing data for this view"}):T.map((C,$)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:$+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(C.profession,C.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:C.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:u(C.value,ne.decimals)}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:C.activeMs?`${(C.activeMs/1e3).toFixed(1)}s`:"-"})]},`${ne.id}-${C.account}-${$}`))})})})()})})]})},Mie=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}`:e:"",Aie=({stats:e,specialSearch:t,setSpecialSearch:n,filteredSpecialTables:r,activeSpecialTab:a,setActiveSpecialTab:i,activeSpecialTable:o,formatWithCommas:s,renderProfessionIcon:l,expandedSection:u,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:p,isSectionVisible:m,isFirstVisibleSection:h,sectionClass:v,sidebarListClass:b})=>{const[y,x]=g.useState("total"),[w,S]=g.useState("desc"),[j,N]=g.useState({columnId:"",dir:"desc"}),M=u==="special-buffs",[P,B]=g.useState([]),[E,I]=g.useState([]),O=e.specialTables||[],K=P.length>0?O.filter(k=>P.includes(k.id)):O,Q=r.map(k=>({id:k.id,label:k.name,icon:k.icon?c.jsx("img",{src:k.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),oe=Array.from(new Map((e.specialTables||[]).flatMap(k=>k.rows||[]).filter(k=>k.account).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:l(k.profession,k.professionList,"w-3 h-3")})),ve=new Set([...P.map(k=>`column:${k}`),...E.map(k=>`player:${k}`)]),ne=g.useMemo(()=>{if(!(o!=null&&o.rows))return[];const k=[...o.rows];return k.sort((z,T)=>{const C=Number((z==null?void 0:z[y])??0),$=Number((T==null?void 0:T[y])??0),U=w==="desc"?$-C:C-$;return U!==0?U:String((z==null?void 0:z.account)||"").localeCompare(String((T==null?void 0:T.account)||""))}),k},[o,y,w]),H=k=>{if(y===k){S(z=>z==="desc"?"asc":"desc");return}x(k),S("desc")},V=k=>y!==k?"":w==="desc"?" ":" ";return c.jsxs("div",{id:"special-buffs","data-section-visible":m("special-buffs"),"data-section-first":h("special-buffs"),className:v("special-buffs",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${u==="special-buffs"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(H0,{className:"w-5 h-5 text-purple-300"}),"Special Buffs"]}),c.jsx("button",{type:"button",onClick:()=>u==="special-buffs"?p():f("special-buffs"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":u==="special-buffs"?"Close Special Buffs":"Expand Special Buffs",title:u==="special-buffs"?"Close":"Expand",children:u==="special-buffs"?c.jsx(ja,{className:"w-4 h-4"}):c.jsx(Ra,{className:"w-4 h-4"})})]}),e.specialTables.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No special buff data available"}):M?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(jo,{options:[...O.map(k=>({id:k.id,label:k.name,type:"column"})),...Array.from(new Map((e.specialTables||[]).flatMap(k=>k.rows||[]).filter(k=>k.account).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,type:"player",icon:l(k.profession,k.professionList,"w-3 h-3")}))],onSelect:k=>{k.type==="column"?B(z=>z.includes(k.id)?z.filter(T=>T!==k.id):[...z,k.id]):I(z=>z.includes(k.id)?z.filter(T=>T!==k.id):[...z,k.id])},selectedIds:ve,className:"w-full sm:w-64"}),c.jsx(wr,{options:Q,selectedIds:P,onToggle:k=>{B(z=>z.includes(k)?z.filter(T=>T!==k):[...z,k])},onClear:()=>B([]),buttonIcon:c.jsx(ko,{className:"h-3.5 w-3.5"})}),c.jsx(wr,{options:oe,selectedIds:E,onToggle:k=>{I(z=>z.includes(k)?z.filter(T=>T!==k):[...z,k])},onClear:()=>I([]),buttonLabel:"Players",buttonIcon:c.jsx(Ar,{className:"h-3.5 w-3.5"})}),c.jsx(kn,{value:y,onChange:k=>x(k),options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"},{value:"duration",label:"Fight Time"}],activeClassName:"bg-purple-500/20 text-purple-200 border border-purple-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(P.length>0||E.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{B([]),I([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),P.map(k=>{var z;const T=((z=O.find(C=>C.id===k))==null?void 0:z.name)||k;return c.jsxs("button",{type:"button",onClick:()=>B(C=>C.filter($=>$!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:T}),c.jsx("span",{className:"text-gray-400",children:""})]},k)}),E.map(k=>c.jsxs("button",{type:"button",onClick:()=>I(z=>z.filter(T=>T!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:k}),c.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:O.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No special buffs match this filter"}):(()=>{var k,z;const T=K,C=new Map,$=new Map;T.forEach(G=>{const _=new Map;G.rows.forEach(R=>{const Z=R.account||R.name||R.id;Z&&(_.set(Z,R),$.has(Z)||$.set(Z,R))}),C.set(G.id,_)});const U=Array.from($.entries()).filter(([G])=>E.length===0||E.includes(String(G))).map(([G,_])=>{const R={},Z={};return T.forEach(F=>{var se;const fe=(se=C.get(F.id))==null?void 0:se.get(G);if(!fe){R[F.id]="-",Z[F.id]=0;return}if(y==="duration"){R[F.id]=fe.duration?`${fe.duration.toFixed(1)}s`:"-",Z[F.id]=Number(fe.duration||0);return}const q=y==="total"?fe.total:fe.perSecond,de=y==="total"?0:1;Z[F.id]=Number(q||0),R[F.id]=s(q||0,de)}),{key:G,row:_,values:R,numericValues:Z}}),J=((k=T.find(G=>G.id===j.columnId))==null?void 0:k.id)||(a&&T.some(G=>G.id===a)?a:void 0)||((z=T[0])==null?void 0:z.id)||"",le=[...U].sort((G,_)=>{if(!J)return String(G.key).localeCompare(String(_.key));const R=G.numericValues[J]??0,Z=_.numericValues[J]??0;return(j.dir==="desc"?Z-R:R-Z)||String(G.key).localeCompare(String(_.key))});return c.jsx(No,{title:"Special Buffs - Dense View",subtitle:"Totals",sortColumnId:J,sortDirection:j.dir,onSortColumn:G=>{N(_=>({columnId:G,dir:_.columnId===G&&_.dir==="desc"?"asc":"desc"}))},columns:T.map(G=>({id:G.id,label:c.jsx(xr,{name:G.name,iconUrl:G.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:le.map((G,_)=>({id:`${G.key}-${_}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:_+1}),l(G.row.profession,G.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:G.row.account||G.row.name||G.key})]}),values:G.values}))})})()})]}):c.jsx(Xs,{expanded:u==="special-buffs",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${u==="special-buffs"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${u==="special-buffs"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),c.jsx("input",{value:t,onChange:k=>n(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${b} ${u==="special-buffs"?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No special buffs match this filter"}):r.map(k=>c.jsx("button",{onClick:()=>i(k.id),title:k.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===k.id?"bg-purple-500/20 text-purple-200 border-purple-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsx(xr,{name:Mie(k.name),iconUrl:k.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},k.id))})]}),content:c.jsx(c.Fragment,{children:o?c.jsx(Co,{expanded:u==="special-buffs",maxHeightClass:"max-h-64",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:c.jsx(xr,{name:o.name,iconUrl:o.icon,iconClassName:"h-4 w-4"})}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Totals"})]}),columns:c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>H("total"),className:`text-right transition-colors ${y==="total"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Total",V("total")]}),c.jsxs("button",{type:"button",onClick:()=>H("perSecond"),className:`text-right transition-colors ${y==="perSecond"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Per Sec",V("perSecond")]}),c.jsxs("button",{type:"button",onClick:()=>H("duration"),className:`text-right transition-colors ${y==="duration"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",V("duration")]})]}),rows:c.jsx(c.Fragment,{children:ne.map((k,z)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:z+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(k.profession,k.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:k.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:Math.round(k.total).toLocaleString()}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:s(k.perSecond,1)}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:k.duration?`${k.duration.toFixed(1)}s`:"-"})]},`${o.id}-${k.account}-${z}`))})}):c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a special buff to view details"})})})]})},Eie=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}...`:e:"",Die=({hasSigilRelicTables:e,sigilRelicSearch:t,setSigilRelicSearch:n,filteredSigilRelicTables:r,activeSigilRelicTab:a,setActiveSigilRelicTab:i,activeSigilRelicTable:o,formatWithCommas:s,renderProfessionIcon:l,expandedSection:u,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:p,isSectionVisible:m,isFirstVisibleSection:h,sectionClass:v,sidebarListClass:b})=>{const[y,x]=g.useState("desc"),w=u==="sigil-relic-uptime",S=g.useMemo(()=>{if(!(o!=null&&o.rows))return[];const j=[...o.rows];return j.sort((N,M)=>{const P=Number((N==null?void 0:N.uptimePerSecond)??(N==null?void 0:N.perSecond)??0),B=Number((M==null?void 0:M.uptimePerSecond)??(M==null?void 0:M.perSecond)??0),E=y==="desc"?B-P:P-B;return E!==0?E:String((N==null?void 0:N.account)||"").localeCompare(String((M==null?void 0:M.account)||""))}),j},[o,y]);return c.jsxs("div",{id:"sigil-relic-uptime","data-section-visible":m("sigil-relic-uptime"),"data-section-first":h("sigil-relic-uptime"),className:v("sigil-relic-uptime",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${u==="sigil-relic-uptime"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(fk,{className:"w-5 h-5 text-fuchsia-300"}),"Sigil/Relic Uptime"]}),c.jsx("button",{type:"button",onClick:()=>u==="sigil-relic-uptime"?p():f("sigil-relic-uptime"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":u==="sigil-relic-uptime"?"Close Sigil/Relic Uptime":"Expand Sigil/Relic Uptime",title:u==="sigil-relic-uptime"?"Close":"Expand",children:u==="sigil-relic-uptime"?c.jsx(ja,{className:"w-4 h-4"}):c.jsx(Ra,{className:"w-4 h-4"})})]}),e?c.jsx(Xs,{expanded:w,sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${w?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${w?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Sigil/Relic"}),c.jsx("input",{value:t,onChange:j=>n(j.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${b} ${w?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No sigil/relic entries match this filter"}):r.map(j=>c.jsx("button",{onClick:()=>i(j.id),title:j.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===j.id?"bg-fuchsia-500/20 text-fuchsia-200 border-fuchsia-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsx(xr,{name:Eie(j.name),iconUrl:j.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},j.id))})]}),content:c.jsx(c.Fragment,{children:o?c.jsx(Co,{expanded:w,maxHeightClass:"max-h-72",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:c.jsx(xr,{name:o.name,iconUrl:o.icon,iconClassName:"h-4 w-4"})}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Uptime"})]}),columns:c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>x(j=>j==="desc"?"asc":"desc"),className:"text-right transition-colors text-gray-400 hover:text-gray-200",children:["Uptime ",y==="desc"?"":""]})]}),rows:c.jsx(c.Fragment,{children:S.map((j,N)=>{const M=Number(j.uptimePerSecond??j.perSecond??0)*100;return c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:N+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(j.profession,j.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:j.account})]}),c.jsxs("div",{className:"text-right font-mono text-gray-300",children:[s(M,1),"%"]})]},`${o.id}-${j.account}-${N}`)})})}):c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a sigil/relic to view uptime"})})}):c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No sigil/relic uptime data available"})]})},Pie=({stats:e,formatWithCommas:t,expandedSection:n,expandedSectionClosing:r,openExpandedSection:a,closeExpandedSection:i,isSectionVisible:o,isFirstVisibleSection:s,sectionClass:l})=>{const u=Array.isArray(e==null?void 0:e.fightDiffMode)?e.fightDiffMode:[],d=!Array.isArray(e==null?void 0:e.fightDiffMode)&&Array.isArray(e==null?void 0:e.fightBreakdown)&&e.fightBreakdown.length>0,[f,p]=g.useState(""),[m,h]=g.useState(""),[v,b]=g.useState(null);g.useEffect(()=>{var I,O,K;if(u.length===0){p(""),h("");return}const Q=String(((I=u[0])==null?void 0:I.id)||""),oe=String(((O=u[1])==null?void 0:O.id)||((K=u[0])==null?void 0:K.id)||"");p(ve=>ve&&u.some(ne=>String(ne.id)===ve)?ve:Q),h(ve=>ve&&u.some(ne=>String(ne.id)===ve)?ve:oe)},[u]);const y=g.useMemo(()=>u.find(I=>String(I.id)===String(f))||null,[u,f]),x=g.useMemo(()=>u.find(I=>String(I.id)===String(m))||null,[u,m]),w=g.useMemo(()=>{if(!y||!x)return[];const I=new Map,O=(K,Q,oe,ve)=>{const ne=String(K||"Unknown"),H=I.get(ne)||{label:ne,aDamage:0,aShare:0,bDamage:0,bShare:0};Q==="a"?(H.aDamage=Number(oe||0),H.aShare=Number(ve||0)):(H.bDamage=Number(oe||0),H.bShare=Number(ve||0)),I.set(ne,H)};return(y.targetFocus||[]).forEach(K=>O(K.label,"a",K.damage,K.share)),(x.targetFocus||[]).forEach(K=>O(K.label,"b",K.damage,K.share)),Array.from(I.values()).map(K=>({...K,shareDelta:K.bShare-K.aShare})).sort((K,Q)=>Math.abs(Q.shareDelta)-Math.abs(K.shareDelta)||Q.bDamage+Q.aDamage-(K.bDamage+K.aDamage))},[y,x]),S=g.useMemo(()=>{if(!v)return w;const I=v.direction==="asc"?1:-1,O=v.key;return[...w].sort((K,Q)=>{const oe=(Number(K[O])-Number(Q[O]))*I;return oe!==0?oe:K.label.localeCompare(Q.label)})},[w,v]),j=g.useMemo(()=>{if(!y||!x)return[];const I=new Map((y.squadMetrics||[]).map(K=>[K.metricId,K])),O=new Map((x.squadMetrics||[]).map(K=>[K.metricId,K]));return Array.from(new Set([...I.keys(),...O.keys()])).map(K=>{const Q=I.get(K),oe=O.get(K),ve=!!((Q==null?void 0:Q.higherIsBetter)??(oe==null?void 0:oe.higherIsBetter)??!0),ne=Number((Q==null?void 0:Q.value)||0),H=Number((oe==null?void 0:oe.value)||0);return{metricId:K,metricLabel:String((Q==null?void 0:Q.metricLabel)||(oe==null?void 0:oe.metricLabel)||K),higherIsBetter:ve,a:Q,b:oe,delta:H-ne}})},[y,x]),N=I=>`${t((Number(I)||0)*100,1)}%`,M=I=>I==="squadKdr"?2:0,P=I=>{b(O=>!O||O.key!==I?{key:I,direction:"desc"}:{key:I,direction:O.direction==="desc"?"asc":"desc"})},B=I=>(v==null?void 0:v.key)===I?v.direction==="desc"?" ":" ":"",E=I=>`fight-diff-sort-button transition-colors whitespace-nowrap ${(v==null?void 0:v.key)===I?"text-indigo-200":"text-gray-400 hover:text-gray-200"}`;return c.jsxs("div",{id:"fight-diff-mode","data-section-visible":o("fight-diff-mode"),"data-section-first":s("fight-diff-mode"),className:l("fight-diff-mode",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${n==="fight-diff-mode"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${r?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(ik,{className:"w-5 h-5 text-indigo-300"}),"Fight Comparison"]}),c.jsx("button",{type:"button",onClick:()=>n==="fight-diff-mode"?i():a("fight-diff-mode"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":n==="fight-diff-mode"?"Close Fight Comparison":"Expand Fight Comparison",title:n==="fight-diff-mode"?"Close":"Expand",children:n==="fight-diff-mode"?c.jsx(ja,{className:"w-4 h-4"}):c.jsx(Ra,{className:"w-4 h-4"})})]}),d?c.jsxs("div",{className:"text-center text-gray-400 py-8 space-y-1",children:[c.jsx("div",{className:"font-semibold text-gray-200",children:"Fight Comparison data is missing in this dataset."}),c.jsx("div",{className:"text-sm text-gray-500",children:"Regenerate the stats/report with a build that includes Fight Comparison."})]}):u.length<2?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"Need at least two fights to compare."}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[c.jsxs("label",{className:"text-xs uppercase tracking-widest text-gray-400",children:["Fight A",c.jsx("select",{className:"fight-diff-select mt-2 w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-100 focus:outline-none",value:f,onChange:I=>p(I.target.value),children:u.map(I=>c.jsxs("option",{value:I.id,children:[I.shortLabel," - ",I.fullLabel]},`fight-a-${I.id}`))})]}),c.jsxs("label",{className:"text-xs uppercase tracking-widest text-gray-400",children:["Fight B",c.jsx("select",{className:"fight-diff-select mt-2 w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-100 focus:outline-none",value:m,onChange:I=>h(I.target.value),children:u.map(I=>c.jsxs("option",{value:I.id,children:[I.shortLabel," - ",I.fullLabel]},`fight-b-${I.id}`))})]})]}),c.jsxs("div",{className:"bg-indigo-500/10 border border-indigo-300/20 rounded-xl px-4 py-3 text-xs text-indigo-100/90 space-y-1",children:[c.jsx("div",{className:"uppercase tracking-widest text-[10px] text-indigo-200/80",children:"How Target Focus Works"}),c.jsxs("div",{children:["Target focus compares how your squad distributed damage ",c.jsx("span",{className:"font-semibold",children:"to"})," enemy professions between two fights (it is not damage ",c.jsx("span",{className:"font-semibold",children:"from"})," those professions)."]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-semibold",children:"Share"})," is the percent of your squad's total enemy-player damage that landed on that profession in that fight.",c.jsx("span",{className:"font-semibold",children:" Share Delta"})," is ",c.jsx("span",{className:"font-semibold",children:"Fight B - Fight A"}),"."]})]}),c.jsx("div",{className:"stats-table-layout__content bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:c.jsx(Co,{expanded:n==="fight-diff-mode",maxHeightClass:"max-h-96",header:c.jsx("div",{className:"bg-white/5 px-4 py-3 text-xs uppercase tracking-widest text-gray-400",children:"Target Focus Comparison"}),columns:w.length>0?c.jsx("div",{className:"bg-white/5 overflow-x-auto",children:c.jsxs("table",{className:"w-full min-w-[700px] table-fixed text-xs",children:[c.jsxs("colgroup",{children:[c.jsx("col",{className:"w-[220px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"})]}),c.jsx("thead",{children:c.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[c.jsx("th",{className:"text-left py-2 px-3",children:"Target"}),c.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:c.jsxs("button",{type:"button",className:E("aDamage"),onClick:()=>P("aDamage"),children:[y==null?void 0:y.shortLabel," Damage",B("aDamage")]})}),c.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:c.jsxs("button",{type:"button",className:E("aShare"),onClick:()=>P("aShare"),children:[y==null?void 0:y.shortLabel," Share",B("aShare")]})}),c.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:c.jsxs("button",{type:"button",className:E("bDamage"),onClick:()=>P("bDamage"),children:[x==null?void 0:x.shortLabel," Damage",B("bDamage")]})}),c.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:c.jsxs("button",{type:"button",className:E("bShare"),onClick:()=>P("bShare"),children:[x==null?void 0:x.shortLabel," Share",B("bShare")]})}),c.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:c.jsxs("button",{type:"button",className:E("shareDelta"),onClick:()=>P("shareDelta"),children:["Share Delta",B("shareDelta")]})})]})})]})}):null,rows:w.length>0?c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full min-w-[700px] table-fixed text-xs",children:[c.jsxs("colgroup",{children:[c.jsx("col",{className:"w-[220px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"})]}),c.jsx("tbody",{children:S.map(I=>c.jsxs("tr",{className:"border-t border-white/5",children:[c.jsx("td",{className:"py-2 px-3 text-gray-200",children:I.label}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(I.aDamage,0)}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-300",children:N(I.aShare)}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(I.bDamage,0)}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-300",children:N(I.bShare)}),c.jsxs("td",{className:`py-2 px-3 text-right font-mono ${I.shareDelta>=0?"text-emerald-300":"text-red-300"}`,children:[I.shareDelta>=0?"+":"",N(I.shareDelta)]})]},`focus-${I.label}`))})]})}):c.jsxs("div",{className:"px-4 py-8 text-center text-gray-400 text-sm space-y-1",children:[c.jsx("div",{className:"italic",children:"No target focus data for selected fights."}),c.jsx("div",{className:"text-xs text-gray-500",children:"Usually this means the fights were uploaded without Detailed WvW enemy slices, or the report was generated from an older build."})]})})}),c.jsx("div",{className:"stats-table-layout__content bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:c.jsx(Co,{expanded:n==="fight-diff-mode",maxHeightClass:"max-h-none",header:c.jsx("div",{className:"bg-white/5 px-4 py-3 text-xs uppercase tracking-widest text-gray-400",children:"Squad Metric Comparison"}),columns:j.length>0?c.jsx("div",{className:"bg-white/5 overflow-x-auto",children:c.jsxs("table",{className:"w-full min-w-[680px] table-fixed text-xs",children:[c.jsxs("colgroup",{children:[c.jsx("col",{className:"w-[320px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"})]}),c.jsx("thead",{children:c.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[c.jsx("th",{className:"text-left py-2 px-3",children:"Metric"}),c.jsxs("th",{className:"text-right py-2 px-3",children:[y==null?void 0:y.shortLabel," Value"]}),c.jsxs("th",{className:"text-right py-2 px-3",children:[x==null?void 0:x.shortLabel," Value"]}),c.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})})]})}):null,rows:j.length>0?c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full min-w-[680px] table-fixed text-xs",children:[c.jsxs("colgroup",{children:[c.jsx("col",{className:"w-[320px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"})]}),c.jsx("tbody",{children:j.map(I=>{var O,K;const Q=I.higherIsBetter?I.delta>=0:I.delta<=0,oe=M(I.metricId);return c.jsxs("tr",{className:"border-t border-white/5",children:[c.jsx("td",{className:"py-2 px-3 text-gray-200",children:I.metricLabel}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(Number(((O=I.a)==null?void 0:O.value)||0),oe)}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(Number(((K=I.b)==null?void 0:K.value)||0),oe)}),c.jsxs("td",{className:`py-2 px-3 text-right font-mono ${Q?"text-emerald-300":"text-red-300"}`,children:[I.delta>0?"+":"",t(I.delta,oe)]})]},`performer-${I.metricId}`)})})]})}):c.jsx("div",{className:"px-4 py-8 text-center text-gray-500 italic text-sm",children:"No squad metric data for selected fights."})})})]})]})},Tie=({stats:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>c.jsxs(c.Fragment,{children:[c.jsx("div",{id:"kdr",className:"scroll-mt-24"}),c.jsxs("div",{id:"overview","data-section-visible":t("overview"),"data-section-first":n("overview"),className:r("overview","grid grid-cols-1 md:grid-cols-2 gap-4 scroll-mt-24"),children:[c.jsx("div",{className:"overview-card overview-card--green bg-gradient-to-br from-green-500/20 to-emerald-900/20 border border-green-500/30 rounded-2xl px-5 py-4",children:c.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.avgSquadSize}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Avg Squad"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-3xl font-black text-green-300 leading-none",children:e.wins}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/50 mt-1",children:"Victories"})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.squadKDR}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Squad KDR"})]})]})}),c.jsx("div",{className:"overview-card overview-card--red bg-gradient-to-br from-red-500/20 to-rose-900/20 border border-red-500/30 rounded-2xl px-5 py-4",children:c.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.avgEnemies}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Avg Enemies"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-3xl font-black text-red-300 leading-none",children:e.losses}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/50 mt-1",children:"Defeats"})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.enemyKDR}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Enemy KDR"})]})]})})]})]}),Oie=({stats:e,fightBreakdownTab:t,setFightBreakdownTab:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>{var o;const s=g.useMemo(()=>{const u=new Map;return(Array.isArray(e==null?void 0:e.fightBreakdown)?e.fightBreakdown:[]).forEach(d=>{(Array.isArray(d==null?void 0:d.teamBreakdown)?d.teamBreakdown:[]).forEach(f=>{const p=String((f==null?void 0:f.teamId)??"").trim(),m=Number((f==null?void 0:f.count)||0);!p||!Number.isFinite(m)||m<=0||u.set(p,(u.get(p)||0)+m)})}),Array.from(u.entries()).sort((d,f)=>{const p=f[1]-d[1];return p!==0?p:d[0].localeCompare(f[0],void 0,{numeric:!0})}).map(([d])=>d)},[e==null?void 0:e.fightBreakdown]),l=u=>{const d=u==null?void 0:u.timestamp;let f=0;if(typeof d=="number")f=d>1e12?d:d*1e3;else if(typeof d=="string"&&d.trim()){const v=Number(d);if(Number.isFinite(v)&&v>0)f=v>1e12?v:v*1e3;else{const b=Date.parse(d);Number.isFinite(b)&&b>0&&(f=b)}}const p=f>0?new Date(f).toLocaleDateString(void 0,{month:"2-digit",day:"2-digit"})+" "+new Date(f).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"}):"--",m=(u==null?void 0:u.mapName)||(u==null?void 0:u.map)||"Unknown Map",h=String(m).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim();return`${p}  ${h}`};return c.jsx("div",{id:"fight-breakdown","data-section-visible":r("fight-breakdown"),"data-section-first":a("fight-breakdown"),className:i("fight-breakdown","mt-6 stats-share-exclude"),children:c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:items-center sm:justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-200",children:"Fight Breakdown"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(kn,{value:t,onChange:n,options:[{value:"sizes",label:"Sizes"},{value:"outcomes",label:"Outcome"},{value:"damage",label:"Damage"},{value:"barrier",label:"Barrier"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsxs("span",{className:"text-[10px] uppercase tracking-widest text-gray-500 sm:ml-1 w-full sm:w-auto",children:[((o=e.fightBreakdown)==null?void 0:o.length)||0," Fights"]})]})]}),(e.fightBreakdown||[]).length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight data available"}):c.jsx("div",{className:"overflow-x-auto",children:c.jsx("div",{className:"max-h-[360px] overflow-y-auto",children:c.jsxs("table",{className:"w-full text-xs table-auto min-w-[720px]",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[c.jsx("th",{className:"text-right py-2 px-2 w-8",children:"#"}),c.jsx("th",{className:"text-left py-2 px-3 w-[240px]",children:"Report"}),c.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Duration"}),c.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Outcome"}),t==="sizes"&&c.jsxs(c.Fragment,{children:[c.jsx("th",{className:"text-right py-2 px-3",children:"Squad"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Allies"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Enemies"}),s.length===0?c.jsx("th",{className:"text-right py-2 px-3",children:"Teams"}):s.map(u=>c.jsx("th",{className:"text-right py-2 px-3",children:`Team ${u}`},u))]}),t==="outcomes"&&c.jsxs(c.Fragment,{children:[c.jsx("th",{className:"text-right py-2 px-3",children:"Allies Down"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Allies Dead"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Allies Revived"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Rallies"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Downs"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Deaths"})]}),t==="damage"&&c.jsxs(c.Fragment,{children:[c.jsx("th",{className:"text-right py-2 px-3",children:"Outgoing Dmg"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Incoming Dmg"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]}),t==="barrier"&&c.jsxs(c.Fragment,{children:[c.jsx("th",{className:"text-right py-2 px-3",title:"Incoming damage mitigated by your squad's barrier",children:"Barrier Absorption"}),c.jsx("th",{className:"text-right py-2 px-3",title:"Outgoing damage mitigated by enemy barrier",children:"Enemy Barrier Absorption"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})]})}),c.jsx("tbody",{children:(e.fightBreakdown||[]).map((u,d)=>c.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[c.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-500 w-8",children:d+1}),c.jsx("td",{className:"py-2 px-3 w-[240px]",children:u.permalink?c.jsx("button",{onClick:()=>{var f;u.permalink&&(f=window.electronAPI)!=null&&f.openExternal?window.electronAPI.openExternal(u.permalink):u.permalink&&window.open(u.permalink,"_blank")},className:"text-cyan-300 hover:text-cyan-200 underline underline-offset-2 block truncate",children:l(u)}):c.jsx("span",{className:"text-gray-500",children:"Pending"})}),c.jsx("td",{className:"py-2 px-3 text-gray-200 w-20",children:u.duration||"--:--"}),c.jsx("td",{className:`py-2 px-3 font-semibold ${u.isWin===!0?"text-emerald-300":u.isWin===!1?"text-red-300":"text-amber-200"}`,children:u.isWin===!0?"Win":u.isWin===!1?"Loss":"Unknown"}),t==="sizes"&&c.jsxs(c.Fragment,{children:[c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.jsx(ub,{count:u.squadCount??0,classCounts:u.squadClassCountsFight,label:"Squad Classes",className:"text-gray-200"})}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.jsx(ub,{count:u.allyCount??0,classCounts:u.allyClassCountsFight,label:"Ally Classes",className:"text-gray-200"})}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.jsx(ub,{count:u.enemyCount??0,classCounts:u.enemyClassCounts,label:"Enemy Classes",className:"text-gray-200"})}),s.length===0?c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:"0"}):s.map(f=>{const p=(Array.isArray(u.teamBreakdown)?u.teamBreakdown:[]).find(m=>String((m==null?void 0:m.teamId)??"")===f);return c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:Number((p==null?void 0:p.count)||0)},f)})]}),t==="outcomes"&&c.jsxs(c.Fragment,{children:[c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.alliesDown??0}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.alliesDead??0}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.alliesRevived??0}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.rallies??0}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.enemyDowns??0}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.enemyDeaths??0})]}),t==="damage"&&c.jsxs(c.Fragment,{children:[c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(u.totalOutgoingDamage||0).toLocaleString()}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(u.totalIncomingDamage||0).toLocaleString()}),(()=>{const f=Number((u.totalOutgoingDamage||0)-(u.totalIncomingDamage||0));return c.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-red-300":"text-emerald-300"}`,children:f.toLocaleString()})})()]}),t==="barrier"&&c.jsxs(c.Fragment,{children:[c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(u.incomingBarrierAbsorbed||0).toLocaleString()}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(u.outgoingBarrierAbsorbed||0).toLocaleString()}),(()=>{const f=Number((u.outgoingBarrierAbsorbed||0)-(u.incomingBarrierAbsorbed||0));return c.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-emerald-300":"text-red-300"}`,children:f.toLocaleString()})})()]})]},u.id||`${u.label}-${d}`))})]})})})]})})},E5={red:{bg:"bg-red-500/20",text:"text-red-400"},yellow:{bg:"bg-yellow-500/20",text:"text-yellow-400"},green:{bg:"bg-green-500/20",text:"text-green-400"},purple:{bg:"bg-purple-500/20",text:"text-purple-400"},blue:{bg:"bg-blue-500/20",text:"text-blue-400"},pink:{bg:"bg-pink-500/20",text:"text-pink-400"},cyan:{bg:"bg-cyan-500/20",text:"text-cyan-400"},indigo:{bg:"bg-indigo-500/20",text:"text-indigo-400"}},Iie=({icon:e,title:t,data:n,color:r,unit:a="",onClick:i,active:o,rows:s,formatValue:l,renderProfessionIcon:u})=>{const d=E5[r]||E5.blue,f=(n==null?void 0:n.value)??0,p=l?l(f):Math.round(f).toLocaleString();return c.jsxs("div",{role:"button",tabIndex:0,onClick:i,onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),i==null||i())},className:`bg-white/5 border border-white/10 rounded-xl p-4 flex flex-col gap-3 group hover:bg-white/10 transition-colors cursor-pointer ${o?"ring-1 ring-white/20":""}`,children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:`p-3 rounded-lg ${d.bg} ${d.text} shrink-0`,children:c.jsx(e,{className:"w-6 h-6"})}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("div",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider truncate",children:t}),c.jsxs("div",{className:"text-2xl font-bold text-white mt-0.5 break-words",children:[p," ",c.jsx("span",{className:"text-sm font-normal text-gray-500",children:a})]})]})]}),c.jsxs("div",{className:"flex flex-col border-t border-white/5 pt-2",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u((n==null?void 0:n.profession)||"Unknown",n==null?void 0:n.professionList,"w-4 h-4"),c.jsx("div",{className:"text-sm font-medium text-blue-300 truncate",children:(n==null?void 0:n.player)||"-"})]}),c.jsx("div",{className:"text-xs text-gray-500 truncate",children:n!=null&&n.count?`${n.count} logs`:"-"})]}),o&&c.jsxs("div",{className:"mt-3 stats-share-exclude",children:[c.jsx("div",{className:"text-xs font-semibold text-gray-200 mb-2",children:t}),s!=null&&s.length?c.jsx("div",{className:"max-h-56 overflow-y-auto pr-1 space-y-1",children:s.map(m=>c.jsxs("div",{className:"flex items-center gap-2 min-w-0 text-xs text-gray-300",children:[c.jsx("div",{className:"w-6 shrink-0 text-right text-gray-500",children:m.rank}),c.jsx("div",{className:"shrink-0",children:u(m.profession,m.professionList,"w-4 h-4")}),c.jsx("div",{className:"flex-1 min-w-0 truncate",children:m.account}),c.jsx("div",{className:"shrink-0 text-gray-400 font-mono",children:l?l(m.value):m.value})]},`${t}-${m.rank}-${m.account}`))}):c.jsx("div",{className:"text-xs text-gray-500 italic",children:"No data available"})]})]})},_ie=(e,t)=>{const n=(Array.isArray(e)?e:[]).map(i=>({...i,value:Number((i==null?void 0:i.value)??0)})).filter(i=>Number.isFinite(i.value)).sort((i,o)=>{const s=t?o.value-i.value:i.value-o.value;return s!==0?s:String((i==null?void 0:i.account)||"").localeCompare(String((o==null?void 0:o.account)||""))});let r=null,a=0;return n.map((i,o)=>((r===null||i.value!==r)&&(a=o+1,r=i.value),{...i,rank:a}))},D5=(e,t)=>{if(typeof e=="number"&&Number.isFinite(e))return t(e);if(typeof e=="string"){const n=Number(e.replace(/,/g,"").trim());return Number.isFinite(n)?t(n):e}return"--"},Lie=({stats:e,showTopStats:t,showMvp:n,topStatsMode:r,expandedLeader:a,setExpandedLeader:i,formatTopStatValue:o,formatWithCommas:s,isMvpStatEnabled:l,renderProfessionIcon:u,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:p})=>t?c.jsxs("div",{id:"top-players","data-section-visible":d("top-players"),"data-section-first":f("top-players"),className:p("top-players","scroll-mt-24"),children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[c.jsx(Dc,{className:"w-5 h-5 text-yellow-400"}),"Top Players (Total Accumulated Stats)"]}),n&&c.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[minmax(0,1.6fr)_minmax(0,0.9fr)] gap-3 mb-6",children:[c.jsxs("div",{className:"mvp-card mvp-card--gold border border-yellow-500/30 rounded-2xl p-3 relative overflow-hidden group flex items-center",children:[c.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-yellow-500/10 blur-[80px] rounded-full pointer-events-none group-hover:bg-yellow-500/20 transition-all"}),c.jsxs("div",{className:"flex items-center gap-5 relative z-10 w-full",children:[c.jsx("div",{className:"hidden sm:flex items-center justify-center w-20 h-20 rounded-full bg-yellow-500/20 border border-yellow-500/30 shadow-[0_0_20px_rgba(234,179,8,0.2)]",children:c.jsx(j8,{className:"w-10 h-10 text-yellow-400"})}),c.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(H0,{className:"w-4 h-4 text-yellow-400 animate-pulse"}),c.jsx("span",{className:"text-yellow-400 font-bold uppercase tracking-widest text-xs",children:"Squad MVP"})]}),c.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-white mb-2 flex flex-wrap items-center gap-2 sm:gap-3",children:[c.jsx("span",{className:"min-w-0 max-w-full truncate",children:e.mvp.account}),u(e.mvp.profession,e.mvp.professionList,"w-6 h-6"),c.jsx("span",{className:"text-sm sm:text-lg font-medium text-yellow-200/70 bg-white/5 px-2 py-0.5 rounded border border-yellow-500/20 max-w-full truncate",children:e.mvp.profession})]}),c.jsxs("p",{className:"text-yellow-200/80 italic flex items-center gap-2 mb-2",children:[c.jsx(yg,{className:"w-4 h-4 text-yellow-400 fill-yellow-500/40"}),'"',e.mvp.reason,'"']}),c.jsx("div",{className:"mt-auto flex flex-wrap gap-2",children:e.mvp.topStats&&e.mvp.topStats.filter(m=>l(m.name)).map((m,h)=>c.jsxs("div",{className:"inline-flex items-baseline gap-2 px-2.5 py-0.5 bg-yellow-500/10 border border-yellow-500/30 rounded-full text-[11px] leading-none",children:[c.jsx("span",{className:"text-yellow-200 font-bold",children:m.name}),c.jsx("span",{className:"text-yellow-50 font-mono tabular-nums",children:D5(m.val,o)})]},h))})]}),c.jsxs("div",{className:"hidden lg:block text-right",children:[c.jsx("div",{className:"text-yellow-500/40 font-mono text-sm uppercase tracking-wider font-bold",children:"Contribution Score"}),c.jsx("div",{className:"text-4xl font-black text-yellow-500/80",children:e.mvp.score>0?e.mvp.score.toFixed(1):"-"}),c.jsxs("div",{className:"text-xs text-yellow-500/30 font-mono mt-1",children:["Avg: ",e.avgMvpScore.toFixed(1)]})]})]})]}),c.jsx("div",{className:"grid grid-cols-2 xl:grid-cols-1 gap-3",children:[{label:"Silver",data:e.silver},{label:"Bronze",data:e.bronze}].map(m=>{var h,v,b,y,x;return c.jsxs("div",{className:`mvp-card mvp-card--${m.label.toLowerCase()} border border-white/10 rounded-2xl p-3 relative overflow-hidden group flex flex-col`,children:[c.jsx("div",{className:`absolute top-0 right-0 w-48 h-48 rounded-full blur-[70px] pointer-events-none transition-all ${m.label==="Silver"?"bg-slate-300/15 group-hover:bg-slate-300/25":"bg-orange-400/15 group-hover:bg-orange-400/25"}`}),c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsxs("div",{className:`text-xs uppercase tracking-widest font-semibold ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:[m.label," MVP"]}),c.jsx("div",{className:"text-xs text-gray-500 font-mono",children:(h=m.data)!=null&&h.score?m.data.score.toFixed(1):"-"})]}),c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.data&&u(m.data.profession,m.data.professionList,"w-6 h-6"),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("div",{className:`text-base font-semibold ${m.label==="Silver"?"text-slate-100":"text-orange-100"} truncate`,children:((v=m.data)==null?void 0:v.account)||""}),c.jsx("div",{className:`text-xs ${m.label==="Silver"?"text-slate-300/70":"text-orange-200/70"} truncate`,children:((b=m.data)==null?void 0:b.profession)||"Unknown"})]})]}),(x=(y=m.data)==null?void 0:y.topStats)!=null&&x.some(w=>l(w.name))?c.jsx("div",{className:`mt-auto flex flex-wrap items-center gap-2 text-[10px] ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:m.data.topStats.filter(w=>l(w.name)).map((w,S)=>c.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full border leading-none ${m.label==="Silver"?"bg-slate-400/10 border-slate-300/30":"bg-orange-500/10 border-orange-400/30"}`,children:[c.jsx("span",{className:"leading-none",children:w.name}),c.jsx("span",{className:"tabular-nums leading-none",children:D5(w.val,o)})]},S))}):null]},m.label)})})]}),(()=>{const m=r==="perSecond",h=m&&e.topStatsPerSecond?e.topStatsPerSecond:e,v=m&&e.topStatsLeaderboardsPerSecond?e.topStatsLeaderboardsPerSecond:e.leaderboards,b=m?"":"Total ",y=m?" /s":"",x=[{icon:D8,title:`Down Contribution${y}`,data:h.maxDownContrib,color:"red",statKey:"downContrib",higherIsBetter:!0},{icon:ld,title:`${b}Barrier${y}`,data:h.maxBarrier,color:"yellow",statKey:"barrier",higherIsBetter:!0},{icon:n3,title:`${b}Healing${y}`,data:h.maxHealing,color:"green",statKey:"healing",higherIsBetter:!0},{icon:$8,title:`${b}Dodges${y}`,data:h.maxDodges,color:"cyan",statKey:"dodges",higherIsBetter:!0},{icon:ip,title:`${b}Strips${y}`,data:h.maxStrips,color:"purple",statKey:"strips",higherIsBetter:!0},{icon:A8,title:`${b}Cleanses${y}`,data:h.maxCleanses,color:"blue",statKey:"cleanses",higherIsBetter:!0},{icon:E8,title:`${b}CC${y}`,data:h.maxCC,color:"pink",statKey:"cc",higherIsBetter:!0},{icon:o3,title:`${b}Stab Gen${y}`,data:h.maxStab,color:"cyan",statKey:"stability",higherIsBetter:!0},{icon:N8,title:"Closest to Tag",data:h.closestToTag,color:"indigo",unit:"dist",statKey:"closestToTag",higherIsBetter:!1}],w=S=>!m||!Number.isFinite(S)?o(S):s(S,2);return c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:x.map(S=>{var j,N,M,P;const B=a==="all",E=_ie((v==null?void 0:v[S.statKey])||[],S.higherIsBetter),I=E[0],O=I?{...S.data,value:Number(I.value||0),player:I.account||((j=S.data)==null?void 0:j.player)||"-",count:I.count||((N=S.data)==null?void 0:N.count)||0,profession:I.profession||((M=S.data)==null?void 0:M.profession)||"Unknown",professionList:I.professionList||((P=S.data)==null?void 0:P.professionList)||[]}:S.data;return c.jsx(Iie,{...S,data:O,active:B,onClick:()=>i(K=>K==="all"?null:"all"),rows:E,formatValue:w,renderProfessionIcon:u},S.statKey)})})})()]}):null,Fie=({stats:e,topSkillsMetric:t,onTopSkillsMetricChange:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>{const o=(t||e.topSkillsMetric)==="downContribution"?"downContribution":"damage",s=o==="downContribution",l=s?"Down Contrib":"Damage",u=o,d=Array.isArray(e.topSkillsByDamage)?e.topSkillsByDamage:null,f=Array.isArray(e.topSkillsByDownContribution)?e.topSkillsByDownContribution:null,p=g.useMemo(()=>s&&f?f:!s&&d?d:[...Array.isArray(e.topSkills)?e.topSkills:[]].sort((v,b)=>{const y=Number((v==null?void 0:v[u])||0);return Number((b==null?void 0:b[u])||0)-y||Number((b==null?void 0:b.hits)||0)-Number((v==null?void 0:v.hits)||0)||String((v==null?void 0:v.name)||"").localeCompare(String((b==null?void 0:b.name)||""))}),[s,d,f,e.topSkills,u]),m=g.useMemo(()=>Math.max(1,...p.map(v=>Number((v==null?void 0:v[u])||0))),[p,u]),h=typeof n=="function";return c.jsxs("div",{"data-section-visible":r("top-skills-outgoing"),"data-section-first":a("top-skills-outgoing"),className:i("top-skills-outgoing","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"),children:[c.jsxs("div",{id:"top-skills-outgoing","data-section-visible":r("top-skills-outgoing"),className:i("top-skills-outgoing","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(rk,{className:"top-skills-outgoing-icon w-5 h-5 text-orange-400"}),"Top Outgoing Skills"]}),c.jsx("div",{className:"text-xs text-gray-500 mt-1",children:l})]}),h&&c.jsx("div",{className:"pill-toggle-group flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"damage",label:"Damage"},{id:"downContribution",label:"Down Contrib"}].map(v=>{const b=(t||e.topSkillsMetric)===v.id;return c.jsx("button",{type:"button",onClick:()=>n==null?void 0:n(v.id),className:`pill-toggle-option px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${b?"pill-toggle-option--active bg-orange-500/30 text-orange-200":"text-gray-400 hover:text-white"}`,children:v.label},v.id)})})]}),c.jsxs("div",{className:"max-h-80 overflow-y-auto overflow-x-hidden space-y-4",children:[p.map((v,b)=>c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",b+1]}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm mb-1 py-0.5 leading-normal",children:[c.jsx("span",{className:"text-white font-bold flex-1 min-w-0 py-[1px]",children:c.jsx(xr,{name:v.name,iconUrl:v.icon,iconClassName:"h-6 w-6",className:"min-w-0",textClassName:"truncate leading-[1.5] pt-[1px] pb-[2px]"})}),c.jsxs("div",{className:"text-right shrink-0",children:[c.jsx("span",{className:"top-skills-outgoing-value text-orange-400 font-mono font-bold",children:Math.round(v[u]||0).toLocaleString()}),c.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",v.hits.toLocaleString()," hits)"]})]})]}),c.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:c.jsx("div",{className:"top-skills-outgoing-bar h-full bg-orange-500 rounded-full",style:{width:`${Number(v[u]||0)/m*100}%`}})})]})]},`outgoing-${v.name||"unknown"}-${b}`)),p.length===0&&c.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No skill data available"})]})]}),c.jsxs("div",{id:"top-skills-incoming","data-section-visible":r("top-skills-incoming"),className:i("top-skills-incoming","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[c.jsx("div",{className:"flex items-center justify-between mb-6",children:c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(x8,{className:"w-5 h-5 text-red-500"}),"Top Incoming Skills"]}),c.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Damage"})]})}),c.jsxs("div",{className:"max-h-80 overflow-y-auto overflow-x-hidden space-y-4",children:[(e.topIncomingSkills||[]).map((v,b)=>{var y;return c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",b+1]}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm mb-1 py-0.5 leading-normal",children:[c.jsx("span",{className:"text-white font-bold flex-1 min-w-0 py-[1px]",children:c.jsx(xr,{name:v.name,iconUrl:v.icon,iconClassName:"h-6 w-6",className:"min-w-0",textClassName:"truncate leading-[1.5] pt-[1px] pb-[2px]"})}),c.jsxs("div",{className:"text-right shrink-0",children:[c.jsx("span",{className:"text-red-400 font-mono font-bold",children:Math.round(v.damage).toLocaleString()}),c.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",v.hits.toLocaleString()," hits)"]})]})]}),c.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${v.damage/(((y=e.topIncomingSkills[0])==null?void 0:y.damage)||1)*100}%`}})})]})]},`incoming-${v.name||"unknown"}-${b}`)}),e.topIncomingSkills.length===0&&c.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No incoming damage data available"})]})]})]})},$ie=({sortedSquadClassData:e,sortedEnemyClassData:t,getProfessionIconPath:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>{const o=r("squad-composition");return c.jsxs("div",{id:"squad-composition","data-section-visible":o,"data-section-first":a("squad-composition"),className:i("squad-composition","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8 page-break-avoid"),children:[c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[c.jsx(Ar,{className:"w-5 h-5 text-green-400"}),"Classes"]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[c.jsx("div",{className:"h-[240px] sm:h-full",children:c.jsx(Fs,{width:"100%",height:"100%",children:c.jsxs(_w,{children:[c.jsx(l0,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:e.map((s,l)=>c.jsx(vd,{fill:s.color,stroke:"rgba(0,0,0,0.5)"},`cell-${l}`))}),c.jsx(Us,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-squad-pie-${o?"visible":"hidden"}`)}),c.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:c.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:e.map(s=>c.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[c.jsx("span",{className:"squad-comp-legend-swatch inline-block w-3 h-3 rounded-sm",style:{backgroundColor:s.color}}),n(s.name)?c.jsx("img",{src:n(s.name),alt:s.name,className:"w-4 h-4 shrink-0 object-contain"}):c.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),c.jsx("span",{className:"min-w-0 truncate",children:s.name}),c.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",s.value,")"]})]},s.name))})})]})]}),c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[c.jsx(W0,{className:"w-5 h-5 text-red-400"}),"Enemy Composition"]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[c.jsx("div",{className:"h-[240px] sm:h-full",children:c.jsx(Fs,{width:"100%",height:"100%",children:c.jsxs(_w,{children:[c.jsx(l0,{data:t,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:t.map((s,l)=>c.jsx(vd,{fill:s.color,stroke:"rgba(0,0,0,0.5)"},`cell-${l}`))}),c.jsx(Us,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-enemy-pie-${o?"visible":"hidden"}`)}),c.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:c.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:t.map(s=>c.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[c.jsx("span",{className:"squad-comp-legend-swatch inline-block w-3 h-3 rounded-sm",style:{backgroundColor:s.color}}),n(s.name)?c.jsx("img",{src:n(s.name),alt:s.name,className:"w-4 h-4 shrink-0 object-contain"}):c.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),c.jsx("span",{className:"min-w-0 truncate",children:s.name}),c.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",s.value,")"]})]},s.name))})})]})]})]})},Rie=({timelineData:e,timelineFriendlyScope:t,setTimelineFriendlyScope:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>c.jsxs("div",{id:"timeline","data-section-visible":r("timeline"),"data-section-first":a("timeline"),className:i("timeline","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Ar,{className:"w-5 h-5 text-green-400"}),"Squad vs Enemy Size"]}),c.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-widest text-gray-500",children:[c.jsx("span",{className:"text-gray-400",children:"Friendly Count"}),c.jsx("div",{className:"flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1",children:[{value:"squad",label:"Squad"},{value:"squadAllies",label:"Squad + Allies"}].map(o=>c.jsx("button",{type:"button",onClick:()=>n(o.value),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${t===o.value?"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40":"border border-transparent text-gray-400 hover:text-gray-200"}`,children:o.label},o.value))})]})]}),e.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-10",children:"No timeline data available"}):c.jsx("div",{className:"h-[260px] w-full",children:c.jsx(Fs,{width:"100%",height:"100%",children:c.jsxs(bd,{data:e,margin:{top:10,right:24,left:0,bottom:0},children:[c.jsx(Gc,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Yc,{dataKey:"index",tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"}}),c.jsx(Qc,{tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"},width:36}),c.jsx(Us,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},labelFormatter:(o,s)=>{var l;const u=(l=s==null?void 0:s[0])==null?void 0:l.payload,d=(u==null?void 0:u.isWin)===!0?"Win":(u==null?void 0:u.isWin)===!1?"Loss":"Unknown";return`${typeof(u==null?void 0:u.label)=="string"&&u.label.trim().length>0?u.label:`Log ${o}`}  ${d}`},formatter:(o,s)=>[o,s==="friendly"?t==="squad"?"Squad":"Squad + Allies":"Enemies"]}),c.jsx(Ki,{type:"monotone",dataKey:t==="squad"?"squadCount":"friendlyCount",name:"friendly",stroke:"#22c55e",strokeWidth:2,dot:{r:3,fill:"#22c55e"},activeDot:{r:5}}),c.jsx(Ki,{type:"monotone",dataKey:"enemies",stroke:"#ef4444",strokeWidth:2,dot:{r:3,fill:"#ef4444"},activeDot:{r:5}})]})})})]}),Bie=({mapData:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>c.jsxs("div",{id:"map-distribution","data-section-visible":t("map-distribution"),"data-section-first":n("map-distribution"),className:r("map-distribution","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[c.jsx(lk,{className:"w-5 h-5 text-blue-400"}),"Map Distribution"]}),c.jsx("div",{className:"h-[260px] sm:h-[300px] w-full",children:c.jsx(Fs,{width:"100%",height:"100%",children:c.jsxs(_w,{children:[c.jsx(l0,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:5,dataKey:"value",children:e.map((a,i)=>c.jsx(vd,{fill:a.color,stroke:"rgba(0,0,0,0.5)"},`cell-${i}`))}),c.jsx(Us,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}}),c.jsx(M4,{verticalAlign:"bottom",height:36,payload:e.map(a=>({id:a.name,type:"square",value:a.name,color:a.color,payload:a})),formatter:(a,i)=>c.jsxs("span",{className:"text-gray-300 font-medium ml-1",children:[a," ",c.jsxs("span",{className:"text-gray-500",children:["(",i.payload.value,")"]})]})})]})})})]}),P5=({sectionId:e="spike-damage",title:t="Spike Damage",subtitle:n="Select one player to chart their highest damage burst per fight.",listTitle:r="Squad Players",searchPlaceholder:a="Search player or account",titleIconClassName:i="text-rose-300",expandedSection:o,expandedSectionClosing:s,openExpandedSection:l,closeExpandedSection:u,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:p,spikePlayerFilter:m,setSpikePlayerFilter:h,groupedSpikePlayers:v,spikeMode:b,setSpikeMode:y,damageBasis:x="all",setDamageBasis:w,showDamageBasisToggle:S=!1,selectedSpikePlayerKey:j,setSelectedSpikePlayerKey:N,selectedSpikePlayer:M,spikeChartData:P,spikeChartMaxY:B,selectedSpikeFightIndex:E,setSelectedSpikeFightIndex:I,spikeDrilldownTitle:O,spikeDrilldownData:K,spikeDrilldownDownIndices:Q,spikeDrilldownDeathIndices:oe,spikeFightSkillRows:ve=[],spikeFightSkillTitle:ne="Skill Damage (Selected Fight)",formatWithCommas:H,renderProfessionIcon:V})=>{const[k,z]=g.useState(null),[T,C]=g.useState(null),$=De=>String(De||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),U=o===e,J=M?Tl(M.profession):"#fda4af",le=x==="downContribution",G=b==="hit"?le?"Highest Down Contribution":"Highest Damage":b==="1s"?"1s Burst":b==="5s"?"5s Burst":"30s Burst",_=De=>b==="hit"?le?De.peakHitDown:De.peakHit:b==="1s"?le?De.peak1sDown:De.peak1s:b==="5s"?le?De.peak5sDown:De.peak5s:le?De.peak30sDown:De.peak30s,R=v.flatMap(De=>De.players.map(ae=>({...ae,groupProfession:De.profession}))).sort((De,ae)=>{const Ie=_(ae)-_(De);return Ie!==0?Ie:De.displayName.localeCompare(ae.displayName)}),Z=P.reduce((De,ae)=>!De||ae.damage>De.damage?ae:De,null),F=De=>{if(!Number.isFinite(De)||De<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(De))}catch{return""}},se=K.reduce((De,ae)=>Math.max(De,Number(ae.value||0)),0),fe=Math.max(1,se),q=new Set(Q),de=new Set(oe),Ee=K.map((De,ae)=>({...De,downMarker:q.has(ae)?Math.max(Number(De.value||0),fe*.88):null,deathMarker:de.has(ae)?Math.max(Number(De.value||0),fe*.96):null})),st=De=>ae=>{const Ie=Number(ae==null?void 0:ae.cx),ee=Number(ae==null?void 0:ae.cy),ht=Number(ae==null?void 0:ae.index);if(!Number.isFinite(Ie)||!Number.isFinite(ee)||!Number.isFinite(ht))return null;const Pt=(ae==null?void 0:ae.payload)||{},Rn=De==="down"?Pt==null?void 0:Pt.downMarker:Pt==null?void 0:Pt.deathMarker;if(!Number.isFinite(Number(Rn)))return null;const be=`${De}-${ht}`,We=k===be,Tt=De==="down"?"#facc15":"#ef4444",rn=De==="down"?"#fde047":"#f87171";return c.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onMouseEnter:()=>{z(be),C({x:Ie,y:ee,kind:De,label:String((Pt==null?void 0:Pt.label)||"")})},onMouseLeave:()=>{z(sn=>sn===be?null:sn),C(sn=>(sn==null?void 0:sn.kind)===De&&(sn==null?void 0:sn.label)===String((Pt==null?void 0:Pt.label)||"")?null:sn)},children:[c.jsx("circle",{cx:Ie,cy:ee,r:We?10:7,fill:rn,opacity:We?.35:.18}),c.jsx("circle",{cx:Ie,cy:ee,r:We?7:5.5,fill:Tt,stroke:"#0f172a",strokeWidth:We?2.25:1.75})]})};return c.jsxs("div",{id:e,"data-section-visible":d(e),"data-section-first":f(e),className:p(e,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${U?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${s?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[c.jsxs("div",{className:U?"pr-10 md:pr-0":"",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(ip,{className:`w-5 h-5 ${i}`}),t]}),c.jsx("p",{className:"text-xs text-gray-400",children:n})]}),c.jsxs("div",{className:`flex items-center gap-3 ${U?"pr-10 md:pr-0":""}`,children:[S&&w&&c.jsx(kn,{value:x,onChange:De=>w(De),options:[{value:"all",label:"Damage"},{value:"downContribution",label:"Down Contrib"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(kn,{value:b,onChange:De=>y(De),options:[{value:"hit",label:"Highest Damage"},{value:"1s",label:"1s"},{value:"5s",label:"5s"},{value:"30s",label:"30s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx("button",{type:"button",onClick:()=>U?u():l(e),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${U?"absolute top-2 right-2 md:static":""}`,"aria-label":U?`Close ${t}`:`Expand ${t}`,title:U?"Close":"Expand",children:U?c.jsx(ja,{className:"w-4 h-4"}):c.jsx(Ra,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:r}),c.jsx("input",{type:"search",value:m,onChange:De=>h(De.target.value),placeholder:a,className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-rose-400 focus:outline-none"}),c.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:R.length===0?c.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No players match the filter."}):c.jsx("div",{className:"p-1.5 space-y-1",children:R.map(De=>{const ae=j===De.key;return c.jsx("button",{type:"button",onClick:()=>N(De.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${ae?"border-rose-300/60 bg-rose-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[V(De.profession,void 0,"w-3.5 h-3.5"),c.jsx("div",{className:"text-sm font-semibold truncate text-white",children:De.displayName}),c.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:De.groupProfession})]}),c.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[De.characterName||De.displayName,"  ",De.logs," ",De.logs===1?"fight":"fights"]})]}),c.jsx("div",{className:"text-xs font-mono text-rose-200 shrink-0",children:H(_(De)||0,0)})]})},De.key)})})})]}),c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:["Per Fight ",G]}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[P.length," ",P.length===1?"fight":"fights"]})]}),c.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!M||P.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view burst values by fight."}):c.jsx(Fs,{width:"100%",height:"100%",children:c.jsxs(bd,{data:P,onClick:De=>{const ae=Number(De==null?void 0:De.activeTooltipIndex);Number.isFinite(ae)&&I(E===ae?null:ae)},children:[c.jsx(Gc,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Yc,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(Qc,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,B)],tickFormatter:De=>H(De,0)}),c.jsx(Us,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(De,ae)=>[H(Number(De||0),0),String(ae||"")],labelFormatter:(De,ae)=>{var Ie;const ee=(Ie=ae==null?void 0:ae[0])==null?void 0:Ie.payload;if(!ee)return"";const ht=$(ee.fullLabel||"");return b==="hit"&&ee.skillName?`${ht}  ${ee.skillName}`:ht}}),c.jsx(Ki,{type:"monotone",dataKey:"damage",name:M.displayName,stroke:J,strokeWidth:3,dot:De=>{var ae;const Ie=Number((ae=De==null?void 0:De.payload)==null?void 0:ae.index);if(!Number.isFinite(Ie))return null;const ee=E===Ie;return c.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:ht=>{ht.stopPropagation(),I(ee?null:Ie)},children:[c.jsx("circle",{cx:De.cx,cy:De.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),c.jsx("circle",{cx:De.cx,cy:De.cy,r:ee?4:3,fill:J,stroke:ee?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:ee?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),c.jsx(Ki,{type:"monotone",dataKey:"maxDamage",name:"Fight Max",stroke:"rgba(148,163,184,0.8)",strokeWidth:2,strokeDasharray:"6 4",dot:!1,activeDot:!1})]})})})]})]}),M&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Player"}),c.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[V(M.profession,M.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:M.displayName})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:b==="hit"?le?"Peak Highest Skill Down Contribution":"Peak Highest Skill Damage":`Peak ${G}`}),c.jsx("div",{className:"mt-1 text-lg font-black text-rose-200 font-mono",children:H(_(M)||0,0)})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:b==="hit"?"Peak Skill / Fight":"Peak Fight"}),c.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const De=$((Z==null?void 0:Z.fullLabel)||M.peakFightLabel||"N/A"),ae=F(Number((Z==null?void 0:Z.timestamp)||0)),Ie=ae?`${ae} - ${De}`:De;return b!=="hit"?Ie:M.peakSkillName?`${M.peakSkillName}  ${Ie}`:Ie})()})]})]}),M&&E!==null&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:O}),c.jsx("button",{type:"button",onClick:()=>I(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),c.jsx("div",{className:"h-[220px] relative",children:K.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):c.jsxs(c.Fragment,{children:[c.jsx(Fs,{width:"100%",height:"100%",children:c.jsxs(bd,{data:Ee,children:[c.jsx(Gc,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Yc,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(Qc,{tick:{fill:"#e2e8f0",fontSize:10},tickFormatter:De=>H(De,0)}),c.jsx(Us,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(De,ae)=>{const Ie=String(ae||"");return Ie==="Down"?["Downed","Event"]:Ie==="Death"?["Dead","Event"]:[H(Number(De||0),0),"Damage"]},labelFormatter:De=>String(De||"")}),c.jsx(Ki,{type:"monotone",dataKey:"value",name:"Damage",stroke:J,strokeWidth:2.5,dot:b==="hit"?{r:2}:!1,activeDot:{r:4}}),c.jsx(Ki,{type:"linear",dataKey:"downMarker",name:"Down",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:st("down")}),c.jsx(Ki,{type:"linear",dataKey:"deathMarker",name:"Death",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:st("death")})]})}),T&&c.jsxs("div",{className:"pointer-events-none absolute z-20 rounded-md border border-white/15 bg-[#101722] px-2 py-1 text-xs shadow-xl",style:{left:`${Math.max(8,T.x)}px`,top:`${Math.max(8,T.y-38)}px`,transform:"translate(-50%, -100%)"},children:[c.jsx("div",{className:`${T.kind==="down"?"text-yellow-300":"text-red-300"} font-semibold`,children:T.kind==="down"?"Down":"Death"}),c.jsx("div",{className:"text-gray-300",children:T.label})]})]})})]}),M&&E!==null&&c.jsx("div",{className:`mt-4 transition-all duration-300 ${ve.length>0?"opacity-100 translate-y-0":"opacity-90"}`,children:(()=>{const De=Ie=>Number(le?Ie.downContribution||0:Ie.damage||0),ae=[...ve].filter(Ie=>De(Ie)>0).sort((Ie,ee)=>De(ee)-De(Ie)||Number(ee.hits||0)-Number(Ie.hits||0)).slice(0,30);return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:ne}),c.jsxs("div",{className:"text-[10px] uppercase tracking-[0.2em] text-gray-500",children:[ae.length," ",ae.length===1?"skill":"skills"]})]}),ae.length===0?c.jsx("div",{className:"text-xs text-gray-500 italic py-4",children:"No skill-level breakdown available for this fight."}):c.jsxs("div",{className:"incoming-skill-table-container rounded-lg border border-white/10 bg-black/35 overflow-hidden",children:[c.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2 text-[10px] uppercase tracking-[0.25em] text-gray-400 border-b border-white/10",children:[c.jsx("div",{children:"Skill"}),c.jsx("div",{className:"text-right",children:le?"Down Contrib":"Damage"}),c.jsx("div",{className:"text-right",children:"Hits"})]}),c.jsx("div",{className:"max-h-[260px] overflow-y-auto",children:ae.map((Ie,ee)=>c.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2.5 text-sm text-gray-200 border-b border-white/[0.05] last:border-b-0",children:[c.jsxs("div",{className:"min-w-0 flex items-center gap-2",children:[Ie.icon?c.jsx("img",{src:Ie.icon,alt:"",loading:"lazy",className:"w-4 h-4 rounded-sm border border-white/[0.16] bg-black/40 flex-shrink-0"}):c.jsx("div",{className:"w-4 h-4 rounded-sm border border-white/[0.14] bg-white/[0.06] flex-shrink-0"}),c.jsx("div",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",title:Ie.skillName,children:Ie.skillName})]}),c.jsx("div",{className:"text-right font-mono text-rose-200",children:H(Number(le?Ie.downContribution||0:Ie.damage||0),0)}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:H(Number(Ie.hits||0),0)})]},`${Ie.skillName}-${ee}`))})]})]})})()})]})},zie=10,ph=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),a=t%60;return n>0?`${n}h ${String(r).padStart(2,"0")}m`:r>0?`${r}m ${String(a).padStart(2,"0")}s`:`${a}s`},T5=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3));return String(t)},Uie=e=>{const t=e.replace(/\r?\n/g," ").trim();return/[",\n]/.test(t)?`"${t.replace(/"/g,'""')}"`:t},Vie=({attendanceRows:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:a})=>{const[i,o]=g.useState(""),[s,l]=g.useState("squad"),[u,d]=g.useState("desc"),f=i.trim().toLowerCase(),p=g.useMemo(()=>{const b=e.filter(x=>{if(!f)return!0;const w=String(x.account||"").toLowerCase(),S=(x.characterNames||[]).join(" ").toLowerCase(),j=(x.classTimes||[]).map(N=>String(N.profession||"").toLowerCase()).join(" ");return w.includes(f)||S.includes(f)||j.includes(f)}),y=x=>Number(s==="fight"?x.combatTimeMs??x.squadTimeMs??0:x.squadTimeMs??0);return[...b].sort((x,w)=>{const S=y(w)-y(x);return S!==0?u==="desc"?S:-S:String(x.account||"").localeCompare(String(w.account||""))})},[e,f,u,s]),m=b=>{if(s===b){d(y=>y==="desc"?"asc":"desc");return}l(b),d("desc")},h=p.length>zie,v=()=>{const b=["Account","Characters","Classes Played","Total Fight Time (seconds)","Total Squad Time (seconds)"],y=p.map(M=>{const P=(M.classTimes||[]).map(B=>`${B.profession} (${ph(B.timeMs)})`).join("; ");return[M.account||"",(M.characterNames||[]).join(", "),P,T5(Number(M.combatTimeMs??M.squadTimeMs??0)),T5(M.squadTimeMs)]}),x=[b,...y].map(M=>M.map(P=>Uie(String(P??""))).join(",")).join(`
`),w=new Blob([x],{type:"text/csv;charset=utf-8;"}),S=URL.createObjectURL(w),j=document.createElement("a"),N=new Date().toISOString().slice(0,19).replace(/[:T]/g,"-");j.href=S,j.download=`attendance-ledger-${N}.csv`,document.body.appendChild(j),j.click(),document.body.removeChild(j),URL.revokeObjectURL(S)};return c.jsx("section",{id:"attendance-ledger","data-section-visible":n("attendance-ledger"),"data-section-first":r("attendance-ledger"),className:a("attendance-ledger","mb-8 page-break-avoid"),children:c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(ap,{className:"w-5 h-5 text-amber-300"}),"Attendance Ledger"]}),c.jsxs("span",{className:"inline-flex items-center rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] uppercase tracking-widest text-gray-300",children:[e.length," Joined"]})]}),c.jsxs("div",{className:"flex w-full sm:w-auto items-center gap-2",children:[c.jsx("input",{value:i,onChange:b=>o(b.target.value),placeholder:"Search account, character, or class...",className:"w-full sm:w-[320px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"}),c.jsxs("button",{type:"button",onClick:v,className:"inline-flex items-center gap-1.5 rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-xs text-gray-200 hover:text-white hover:border-white/30 transition-colors whitespace-nowrap",children:[c.jsx(C8,{className:"w-3.5 h-3.5"}),"Export CSV"]})]})]}),e.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No attendance data available."}):c.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${h?"max-h-[30rem] overflow-y-auto":""}`,children:c.jsxs("table",{className:"w-full text-xs table-auto min-w-full border-separate border-spacing-0",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[c.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Account"}),c.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Character(s)"}),c.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Classes Played"}),c.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:c.jsxs("button",{type:"button",onClick:()=>m("fight"),className:`transition-colors whitespace-nowrap ${s==="fight"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Fight Time",s==="fight"?u==="desc"?" ":" ":""]})}),c.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:c.jsxs("button",{type:"button",onClick:()=>m("squad"),className:`transition-colors whitespace-nowrap ${s==="squad"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Squad Time",s==="squad"?u==="desc"?" ":" ":""]})})]})}),c.jsxs("tbody",{children:[p.map(b=>c.jsxs("tr",{className:"border-t border-white/5 align-top hover:bg-white/5",children:[c.jsx("td",{className:"py-2 px-4 text-gray-100 font-medium whitespace-nowrap",children:b.account}),c.jsx("td",{className:"py-2 px-4 text-gray-300",children:b.characterNames.length>0?b.characterNames.join(", "):"-"}),c.jsx("td",{className:"py-2 px-4",children:c.jsx("div",{className:"flex flex-wrap gap-1.5",children:b.classTimes.length>0?b.classTimes.map(y=>c.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] text-gray-200",children:[t(y.profession)?c.jsx("img",{src:t(y.profession),alt:y.profession,className:"w-3.5 h-3.5 object-contain"}):null,c.jsx("span",{children:y.profession}),c.jsx("span",{className:"text-gray-400",children:ph(y.timeMs)})]},`${b.account}-${y.profession}`)):c.jsx("span",{className:"text-gray-500",children:"-"})})}),c.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:ph(Number(b.combatTimeMs??b.squadTimeMs??0))}),c.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:ph(b.squadTimeMs)})]},b.account)),p.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"py-6 text-center text-gray-500 italic",children:"No attendance rows match your search."})})]})]})})]})})},Wie=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},Hie=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:a})=>{const[i,o]=g.useState(null),[s,l]=g.useState(""),u=s.trim().toLowerCase(),d=Op("svg/commander_tag.svg");g.useEffect(()=>{if(e.length===0){i!==null&&o(null);return}(!i||!e.some(m=>m.id===i))&&o(e[0].id)},[e,i]);const f=g.useMemo(()=>e.find(m=>m.id===i)||null,[e,i]),p=m=>{if(!u)return!1;const h=String(m.account||"").toLowerCase(),v=String(m.characterName||"").toLowerCase(),b=String(m.profession||"").toLowerCase();return h.includes(u)||v.includes(u)||b.includes(u)};return c.jsx("section",{id:"squad-comp-fight","data-section-visible":n("squad-comp-fight"),"data-section-first":r("squad-comp-fight"),className:a("squad-comp-fight","mb-8 page-break-avoid"),children:c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 squad-comp-shell",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[c.jsx(Ar,{className:"w-5 h-5 text-cyan-300"}),"Squad Comp By Fight"]}),c.jsx("div",{className:"mb-4",children:c.jsx("input",{value:s,onChange:m=>l(m.target.value),placeholder:"Search player or class (highlight matches)...",className:"w-full sm:w-[360px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"})}),e.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No squad composition data available."}):c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[c.jsxs("aside",{className:"squad-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),c.jsx("div",{className:"space-y-1 pr-1 max-h-[560px] xl:max-h-[720px] overflow-y-auto",children:e.map(m=>{const h=m.id===i;return c.jsxs("button",{onClick:()=>o(m.id),className:`squad-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${h?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100 squad-comp-fight-nav-item--active":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[c.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:m.label}),c.jsx("div",{className:"text-xs font-semibold truncate",children:m.mapName||"Unknown Map"}),c.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[m.duration||"--:--","  ",Wie(m.timestamp)]})]},m.id)})})]}),c.jsx("div",{className:"rounded-xl border border-white/10 bg-gradient-to-b from-slate-950/55 to-slate-900/45 p-3 squad-comp-board",children:f?c.jsx("div",{className:"space-y-2.5",children:f.parties.map(m=>c.jsxs("div",{className:"squad-comp-party-row grid grid-cols-[40px_minmax(0,1fr)] gap-2 rounded-xl border border-white/10 bg-black/25 p-2",children:[c.jsxs("div",{className:"squad-comp-party-badge rounded-lg border border-white/15 bg-slate-900/80 text-center py-2",children:[c.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-500",children:"P"}),c.jsx("div",{className:"text-base font-bold text-gray-100 leading-none",children:m.party>0?m.party:"-"})]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-1 min-w-0",children:m.players.map((h,v)=>(()=>{const b=p(h);return c.jsxs("div",{className:`squad-comp-player-tile rounded-md border border-emerald-300/20 bg-gradient-to-b from-emerald-500/30 to-emerald-700/25 px-2 py-1.5 min-w-0 transition-all ${b?"ring-2 ring-cyan-300/70 border-cyan-300/60 shadow-[0_0_20px_rgba(34,211,238,0.25)]":""} ${h.isCommander?"relative overflow-hidden":""}`,children:[h.isCommander?c.jsx("img",{src:d,alt:"","aria-hidden":"true",className:"absolute -right-2 -bottom-2 w-12 h-12 object-contain opacity-20 brightness-75 pointer-events-none"}):null,c.jsxs("div",{className:"grid grid-cols-[18px_minmax(0,1fr)] grid-rows-2 gap-x-2 items-center min-w-0",children:[c.jsx("div",{className:"row-span-2 flex items-center justify-center",children:t(h.profession)?c.jsx("img",{src:t(h.profession),alt:h.profession,className:"squad-comp-player-icon w-5 h-5 object-contain shrink-0 opacity-95"}):c.jsx("span",{className:"squad-comp-player-icon inline-block w-5 h-5 rounded-sm border border-white/15"})}),c.jsx("div",{className:"squad-comp-player-account text-[11px] font-semibold text-emerald-50 truncate min-w-0 flex items-center gap-1",title:h.account,children:c.jsx("span",{className:"truncate min-w-0",children:h.account})}),c.jsx("div",{className:"squad-comp-player-character text-[10px] text-emerald-100/80 truncate min-w-0",title:h.characterName||"Unknown",children:h.characterName||"Unknown"})]})]},`${f.id}-${m.party}-${h.account}-${v}`)})())})]},`${f.id}-party-${m.party}`))}):c.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},qie=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},Kie=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:a})=>{const[i,o]=g.useState(null);g.useEffect(()=>{if(e.length===0){i!==null&&o(null);return}(!i||!e.some(u=>u.id===i))&&o(e[0].id)},[e,i]);const s=g.useMemo(()=>e.find(u=>u.id===i)||null,[e,i]),l=g.useMemo(()=>s!=null&&s.enemyClassCounts?Object.entries(s.enemyClassCounts).map(([u,d])=>({profession:u,count:Number(d||0)})).filter(u=>u.count>0).sort((u,d)=>d.count-u.count||u.profession.localeCompare(d.profession)):[],[s]);return c.jsx("section",{id:"fight-comp","data-section-visible":n("fight-comp"),"data-section-first":r("fight-comp"),className:a("fight-comp","mb-8 page-break-avoid"),children:c.jsxs("div",{className:"fight-comp-shell bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[c.jsx(kl,{className:"w-5 h-5 text-cyan-300"}),"Fight Comp"]}),e.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight composition data available."}):c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[c.jsxs("aside",{className:"fight-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 self-start",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),c.jsx("div",{className:"space-y-1 pr-1 max-h-[320px] overflow-y-auto",children:e.map(u=>{const d=u.id===i;return c.jsxs("button",{onClick:()=>o(u.id),className:`fight-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${d?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[c.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:u.label}),c.jsx("div",{className:"text-xs font-semibold truncate",children:u.mapName||"Unknown Map"}),c.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[u.duration||"--:--","  ",qie(u.timestamp)]})]},u.id)})})]}),c.jsx("div",{className:"fight-comp-board rounded-xl border border-white/10 bg-black/30 p-2.5 overflow-hidden",children:s?c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[minmax(0,1fr)_minmax(0,0.78fr)] gap-2.5 min-w-0",children:[c.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[c.jsx("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Squad Parties"}),c.jsx("div",{className:"p-2 rounded-lg border border-white/10 bg-white/[0.03] divide-y divide-white/10",children:s.parties.map(u=>{const d=Array.isArray(u.players)&&u.players.length>0?u.players.map(f=>({profession:String((f==null?void 0:f.profession)||"Unknown"),account:String((f==null?void 0:f.account)||""),characterName:String((f==null?void 0:f.characterName)||"")})).filter(f=>f.profession&&f.profession!=="Unknown").sort((f,p)=>f.profession.localeCompare(p.profession)||f.characterName.localeCompare(p.characterName)||f.account.localeCompare(p.account)):Object.entries(u.classCounts||{}).flatMap(([f,p])=>Array.from({length:Math.max(0,Number(p||0))},()=>({profession:String(f),account:"",characterName:""}))).filter(f=>f.profession&&f.profession!=="Unknown").sort((f,p)=>f.profession.localeCompare(p.profession));return c.jsxs("div",{className:"fight-comp-row grid grid-cols-[36px_minmax(0,1fr)] gap-1.5 items-center px-1.5 py-1 first:pt-0 last:pb-0",children:[c.jsx("div",{className:"fight-comp-party-badge text-[10px] font-semibold uppercase tracking-widest text-gray-300 text-center rounded-md border border-white/10 bg-black/20 py-0.5",children:u.party>0?`P${u.party}`:"Unk"}),c.jsx("div",{className:"flex flex-wrap gap-x-1.5 gap-y-1",children:d.length>0?d.map((f,p)=>c.jsx("span",{title:f.characterName||f.account?`${f.profession}  ${f.characterName||"Unknown"} (${f.account||"Unknown"})`:f.profession,className:"fight-comp-class-icon fight-comp-class-icon--squad inline-flex items-center justify-center",children:t(f.profession)?c.jsx("img",{src:t(f.profession),alt:f.profession,className:"w-3.5 h-3.5 object-contain"}):c.jsx("span",{className:"inline-block w-3.5 h-3.5 rounded-sm border border-white/15"})},`${s.id}-party-${u.party}-${f.profession}-${f.account||f.characterName||p}-${p}`)):c.jsx("span",{className:"text-gray-500 text-[11px]",children:"-"})})]},`${s.id}-party-${u.party}`)})})]}),c.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[c.jsx("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Enemy Classes"}),c.jsx("div",{className:"p-2",children:l.length>0?c.jsx("div",{className:"flex flex-wrap gap-1",children:l.map(u=>c.jsxs("div",{className:"fight-comp-row inline-flex items-center gap-1 rounded-lg border border-white/10 bg-white/[0.03] px-1.5 py-0.5",children:[c.jsx("span",{className:"fight-comp-class-icon inline-flex items-center justify-center rounded-md border border-white/10 bg-black/20 px-1 py-0.5",title:u.profession,children:t(u.profession)?c.jsx("img",{src:t(u.profession),alt:u.profession,className:"w-3 h-3 object-contain"}):c.jsx("span",{className:"inline-block w-3 h-3 rounded-sm border border-white/15"})}),c.jsx("span",{className:"text-[10px] font-mono text-gray-200",children:u.count})]},`${s.id}-enemy-${u.profession}`))}):c.jsx("div",{className:"py-6 text-center text-gray-500 italic text-sm",children:"No enemy class data"})})]})]}):c.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},Gie=({embedded:e,dashboardTitle:t,totalLogs:n,onBack:r,devMockAvailable:a,devMockUploadState:i,onDevMockUpload:o,uploadingWeb:s,onWebUpload:l,sharing:u,canShareDiscord:d,onShare:f})=>{const p=u||!d,m=d?"":"Select a Discord webhook to enable sharing.";return c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-3 shrink-0 px-2",children:[c.jsxs("div",{className:"flex items-start gap-3 sm:items-center sm:gap-4",children:[!e&&c.jsx("button",{onClick:r,className:"p-2 rounded-full bg-white/5 border border-white/10 hover:bg-white/10 transition-colors text-gray-400 hover:text-white",children:c.jsx(r3,{className:"w-6 h-6"})}),c.jsxs("div",{className:"space-y-0",children:[c.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-white flex items-center gap-2",children:[c.jsx(Dc,{className:"w-6 h-6 text-yellow-500"}),t||"Statistics Dashboard"]}),c.jsxs("p",{className:"text-gray-400 text-[11px] sm:text-xs",children:["Performance across ",n," uploaded logs"]})]})]}),!e&&c.jsxs("div",{className:"flex items-center gap-3",children:[a&&c.jsxs("button",{onClick:o,disabled:i.uploading,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 bg-amber-500/15 text-amber-200 border border-amber-500/30 hover:bg-amber-500/25",children:[c.jsx(H0,{className:"w-4 h-4"}),i.uploading?"Building...":"Dev Mock Upload"]}),c.jsxs("button",{onClick:l,disabled:s,className:"stats-action-upload flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:[c.jsx(F8,{className:"w-4 h-4"}),s?"Uploading...":"Upload to Web"]}),c.jsxs("div",{className:"relative group",title:m,children:[c.jsxs("button",{onClick:f,disabled:p,"aria-disabled":p,className:"stats-action-discord flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(I8,{className:"w-4 h-4"}),u?"Sharing...":"Share to Discord"]}),!d&&c.jsx("div",{className:"stats-share-tooltip pointer-events-none absolute right-0 top-full mt-2 w-56 rounded-md border border-white/10 bg-black/90 px-2 py-1 text-[11px] text-gray-200 opacity-0 shadow-lg transition-opacity group-hover:opacity-100 z-50",children:"Select a Discord webhook to enable sharing."})]})]})]})},Yie=({embedded:e,webUploadMessage:t,webUploadUrl:n,webUploadBuildStatus:r,webCopyStatus:a,setWebCopyStatus:i})=>{if(e||!t)return null;const o=n||t.replace(/^Uploaded:\s*/i,"").trim(),[s,l]=g.useState("idle"),u=(()=>{if(!o)return null;try{const d=new URL(o),f=d.searchParams.get("report");if(!f||!d.hostname.endsWith("github.io"))return null;const p=d.pathname.match(/^\/([^/]+\.github\.io)(\/|$)/i),m=(p==null?void 0:p[1])||"";return!m||m.toLowerCase()!==d.hostname.toLowerCase()?null:`${d.origin}/?report=${f}`}catch{return null}})();return c.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[c.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[c.jsx("span",{className:"uppercase tracking-widest text-[10px] text-cyan-300/70",children:"Uploaded"}),c.jsx("button",{onClick:()=>{var d;o&&(d=window.electronAPI)!=null&&d.openExternal&&window.electronAPI.openExternal(o)},className:"text-cyan-200 hover:text-cyan-100 underline underline-offset-2",children:o}),r!=="idle"&&c.jsxs("span",{className:`ml-2 text-[10px] px-2 py-0.5 rounded-full border inline-flex items-center gap-1 ${r==="built"?"bg-emerald-500/20 text-emerald-300 border-emerald-500/40":r==="errored"?"bg-red-500/20 text-red-300 border-red-500/40":r==="unknown"?"bg-white/5 text-gray-400 border-white/10":"bg-cyan-500/20 text-cyan-200 border-cyan-500/40"}`,children:[(r==="checking"||r==="building")&&c.jsx(T8,{className:"w-3 h-3 animate-spin"}),r==="built"&&c.jsx(a3,{className:"w-3 h-3"}),r==="errored"&&c.jsx(s3,{className:"w-3 h-3"}),r==="built"?"Build ready":r==="errored"?"Build failed":r==="unknown"?"Build status unknown":"Building"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>{o&&(navigator.clipboard.writeText(o),i("copied"),setTimeout(()=>i("idle"),1200))},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:a==="copied"?"Copied":"Copy URL"}),u&&c.jsx("button",{onClick:()=>{navigator.clipboard.writeText(u),l("copied"),setTimeout(()=>l("idle"),1200)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:s==="copied"?"Copied":"Copy Short"})]})]})},Qie=({embedded:e,devMockAvailable:t,devMockUploadState:n})=>e||!t||!n.message?null:c.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[c.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[c.jsx("span",{className:"uppercase tracking-widest text-[10px] text-amber-300/70",children:"Dev Mock"}),n.url?c.jsx("button",{onClick:()=>{var r;const a=n.url;a&&(r=window.electronAPI)!=null&&r.openExternal&&window.electronAPI.openExternal(a)},className:"text-amber-200 hover:text-amber-100 underline underline-offset-2",children:n.url}):c.jsx("span",{className:"text-gray-300",children:n.message})]}),n.url&&c.jsx("button",{onClick:()=>{var r;const a=n.url;a&&(r=window.electronAPI)!=null&&r.openExternal&&window.electronAPI.openExternal(a)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:"Open in Browser"})]}),Vo="space-y-1 pr-1 max-h-72 overflow-y-auto",Xie=new Set(["Vulnerability","Weakness","Blind","Chill","Cripple","Slow","Taunt","Fear","Immobilize"]),Jie=["overview","fight-breakdown","top-players","top-skills-outgoing","squad-composition","attendance-ledger","squad-comp-fight","fight-comp","timeline","map-distribution","boon-output","boon-timeline","offense-detailed","player-breakdown","damage-breakdown","spike-damage","conditions-outgoing","defense-detailed","incoming-strike-damage","support-detailed","healing-stats","fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],O5={logRecords:[],players:[],skillOptions:[],resUtilitySkills:[]},db=[];function Zie({logs:e,onBack:t,mvpWeights:n,statsViewSettings:r,onStatsViewSettingsChange:a,webUploadState:i,onWebUpload:o,disruptionMethod:s,precomputedStats:l,embedded:u=!1,sectionVisibility:d,dashboardTitle:f,uiTheme:p,canShareDiscord:m=!0,statsDataProgress:h,aggregationResult:v}){var b,y;const x=n||f3,w=r||Ix,S=i||rU,j=w.showTopStats,N=w.showMvp,M=w.roundCountStats,P=w.topStatsMode||"total",[B,E]=g.useState(w.topSkillsMetric||"damage"),I=(a?w.topSkillsMetric:B)||"damage",O=S.uploading,K=S.message,Q=S.url,oe=S.buildStatus,ve=!u&&!1,[ne,H]=g.useState(!0),V=g.useCallback(D=>d?d(D):!0,[d]),k=!!v,{result:z,aggregationProgress:T,aggregationDiagnostics:C}=cV({logs:k?[]:e,precomputedStats:k?void 0:l,mvpWeights:n,statsViewSettings:r,disruptionMethod:s}),$=v||z,U=(v==null?void 0:v.aggregationProgress)||T,J=(v==null?void 0:v.aggregationDiagnostics)||C,{stats:le,skillUsageData:G}=$,_=g.useMemo(()=>{const D=Math.max(0,Number((h==null?void 0:h.total)||e.length||0)),W=Math.min(D,Math.max(0,Number((h==null?void 0:h.pending)||0))),ie=Math.min(D,Math.max(0,Number((h==null?void 0:h.processed)||D-W))),ge=Math.max(0,Number((h==null?void 0:h.unavailable)||0));if(h!=null&&h.active&&D>0&&W>0){const Ke=D>0?Math.max(1,Math.min(99,Math.round(ie/D*100))):0,Ft=ge>0?`  ${ge} unavailable`:"";return{active:!0,phaseLabel:"Loading fight details",progressText:`${ie} of ${D} fights prepared${Ft}`,progressPercent:Ke}}if(D>0&&ge>=D)return{active:!0,phaseLabel:"Fight details unavailable",progressText:`${ge} of ${D} fights could not be loaded from dps.report`,progressPercent:100};if(D>0&&e.length===0)return{active:!0,phaseLabel:"Preparing fights for stats",progressText:"Syncing uploaded fights into the stats dashboard",progressPercent:5};const me=Math.max(0,Number((U==null?void 0:U.total)||e.length||0));if(!(U!=null&&U.active&&(U==null?void 0:U.phase)!=="idle"&&(U==null?void 0:U.phase)!=="settled"&&me>0))return{active:!1,phaseLabel:"",progressText:"",progressPercent:0};const nt=Math.min(Math.max(Number((U==null?void 0:U.streamed)||0),0),me),re=(U==null?void 0:U.phase)==="streaming"?"Loading fight data":"Finalizing squad stats",xe=(U==null?void 0:U.phase)==="streaming"?`${nt} of ${me} fights loaded`:"All fights loaded  calculating final totals",ut=(U==null?void 0:U.phase)==="streaming"?Math.max(1,Math.min(99,Math.round(nt/me*100))):99;return{active:!0,phaseLabel:re,progressText:xe,progressPercent:ut}},[h,U,e.length]),R=g.useMemo(()=>{if(!J)return"";const D=ge=>{const me=Math.max(0,Number(ge||0));return me>=1e4?`${(me/1e3).toFixed(1)}s`:me>=1e3?`${(me/1e3).toFixed(2)}s`:`${Math.round(me)}ms`},W=[`Load ${D(J.streamMs)}`,`Calculate ${D(J.computeMs)}`,`Total ${D(J.totalMs)}`],ie=J.transferStripStats;if(J.mode==="worker"&&ie){const ge=Number(ie.spikeSkillRowsRemoved||0),me=Number(ie.incomingSkillRowsRemoved||0),nt=Number(ie.playerSkillMapsRemoved||0),re=ge+me+nt;re>0&&W.push(`Cleaned up ${re.toLocaleString()} temporary records`)}return J.mode==="worker"&&Number(J.droppedLogMessages||0)>0&&W.push(`Skipped ${Number(J.droppedLogMessages||0)} outdated updates`),W.join("  ")},[J]),Z=_.active,F=_.phaseLabel,se=_.progressText,fe=Z&&_.progressPercent<100;g.useEffect(()=>{if(Z){H(!1);return}let D=!1;const W=()=>{D||H(!0)},ie=window.requestIdleCallback;let ge=null;return typeof ie=="function"?ge=ie(()=>W(),{timeout:220}):ge=window.setTimeout(W,60),()=>{if(D=!0,ge!==null)if(typeof ie=="function"){const me=window.cancelIdleCallback;typeof me=="function"&&me(ge)}else window.clearTimeout(ge)}},[Z]);const q=ne&&!Z,de=q&&(V("top-skills-outgoing")||V("player-breakdown")||V("damage-breakdown")),Ee=q&&V("skill-usage"),st=q&&V("apm-stats"),De=q&&V("spike-damage"),ae=q&&V("incoming-strike-damage"),Ie=q&&V("conditions-outgoing"),ee=g.useMemo(()=>{var D,W,ie,ge,me,nt;const re=le&&typeof le=="object"?le:{},xe=Ht=>Array.isArray(Ht)?Ht:[],ut=Ht=>Ht&&typeof Ht=="object"?Ht:{},Ke=(Ht,$t)=>Ht&&typeof Ht=="object"?Ht:$t,Ft={value:0,player:"-",profession:"Unknown",professionList:[],count:0},vn={account:"-",profession:"Unknown",professionList:[],reason:"",topStats:[],score:0},xt={...re,total:Number(re.total||0),timelineData:xe(re.timelineData),mapData:xe(re.mapData),fightBreakdown:xe(re.fightBreakdown),topSkills:xe(re.topSkills),topIncomingSkills:xe(re.topIncomingSkills),leaderboards:ut(re.leaderboards),topStatsPerSecond:ut(re.topStatsPerSecond),topStatsLeaderboardsPerSecond:ut(re.topStatsLeaderboardsPerSecond),maxDownContrib:Ke(re.maxDownContrib,Ft),maxBarrier:Ke(re.maxBarrier,Ft),maxHealing:Ke(re.maxHealing,Ft),maxDodges:Ke(re.maxDodges,Ft),maxStrips:Ke(re.maxStrips,Ft),maxCleanses:Ke(re.maxCleanses,Ft),maxCC:Ke(re.maxCC,Ft),maxStab:Ke(re.maxStab,Ft),closestToTag:Ke(re.closestToTag,Ft),mvp:{...vn,...ut(re.mvp),topStats:xe((D=re==null?void 0:re.mvp)==null?void 0:D.topStats)},silver:Ke(re.silver,vn),bronze:Ke(re.bronze,vn),avgMvpScore:Number(re.avgMvpScore||0),offensePlayers:xe(re.offensePlayers),defensePlayers:xe(re.defensePlayers),damageMitigationPlayers:xe(re.damageMitigationPlayers),damageMitigationMinions:xe(re.damageMitigationMinions),supportPlayers:xe(re.supportPlayers),healingPlayers:xe(re.healingPlayers),boonTables:xe(re.boonTables),boonTimeline:xe(re.boonTimeline),specialTables:xe(re.specialTables),outgoingConditionSummary:xe(re.outgoingConditionSummary),outgoingConditionPlayers:xe(re.outgoingConditionPlayers),incomingConditionSummary:xe(re.incomingConditionSummary),incomingConditionPlayers:xe(re.incomingConditionPlayers),squadClassData:xe(re.squadClassData),enemyClassData:xe(re.enemyClassData),attendanceData:xe(re.attendanceData),squadCompByFight:xe(re.squadCompByFight),fightDiffMode:xe(re.fightDiffMode),playerSkillBreakdowns:xe(re.playerSkillBreakdowns)},Bt=xe((W=xt.leaderboards)==null?void 0:W.downContrib).map(Ht=>({...Ht,value:Number((Ht==null?void 0:Ht.value)??0)})).filter(Ht=>Number.isFinite(Ht.value)).sort((Ht,$t)=>$t.value-Ht.value||String((Ht==null?void 0:Ht.account)||"").localeCompare(String(($t==null?void 0:$t.account)||"")))[0];return Bt&&(xt.maxDownContrib={...xt.maxDownContrib||{},value:Number(Bt.value||0),player:String(Bt.account||((ie=xt.maxDownContrib)==null?void 0:ie.player)||"-"),count:Number(Bt.count||((ge=xt.maxDownContrib)==null?void 0:ge.count)||0),profession:String(Bt.profession||((me=xt.maxDownContrib)==null?void 0:me.profession)||"Unknown"),professionList:Array.isArray(Bt.professionList)?Bt.professionList:((nt=xt.maxDownContrib)==null?void 0:nt.professionList)||[]}),xt},[le]);g.useEffect(()=>{var D;if(!((D=window==null?void 0:window.electronAPI)!=null&&D.fetchImageAsDataUrl)||Z)return;let W=!1;const ie=()=>{if(W)return;const nt=new Set,re=ut=>{typeof ut=="string"&&/^https?:\/\//i.test(ut)&&nt.add(ut)},xe=ut=>{ut.forEach(Ke=>{re(Ke==null?void 0:Ke.icon),re(Ke==null?void 0:Ke.iconUrl)})};xe(Array.isArray(ee==null?void 0:ee.topSkills)?ee.topSkills:[]),xe(Array.isArray(ee==null?void 0:ee.topIncomingSkills)?ee.topIncomingSkills:[]),xe(Array.isArray(ee==null?void 0:ee.topSkillsByDamage)?ee.topSkillsByDamage:[]),xe(Array.isArray(ee==null?void 0:ee.topSkillsByDownContribution)?ee.topSkillsByDownContribution:[]),xe(Array.isArray(ee==null?void 0:ee.outgoingConditionSummary)?ee.outgoingConditionSummary:[]),xe(Array.isArray(ee==null?void 0:ee.incomingConditionSummary)?ee.incomingConditionSummary:[]),(Array.isArray(ee==null?void 0:ee.boonTables)?ee.boonTables:[]).forEach(ut=>{re(ut==null?void 0:ut.icon)}),(Array.isArray(ee==null?void 0:ee.specialTables)?ee.specialTables:[]).forEach(ut=>{re(ut==null?void 0:ut.icon)}),de&&(Array.isArray(ee==null?void 0:ee.playerSkillBreakdowns)?ee.playerSkillBreakdowns:[]).forEach(ut=>{const Ke=Array.isArray(ut==null?void 0:ut.skills)?ut.skills:[];xe(Ke)}),nt.size>0&&lie(Array.from(nt))},ge=window.requestIdleCallback;let me=null;return typeof ge=="function"?me=ge(()=>ie(),{timeout:500}):me=window.setTimeout(ie,120),()=>{if(W=!0,me!==null)if(typeof ge=="function"){const nt=window.cancelIdleCallback;typeof nt=="function"&&nt(me)}else window.clearTimeout(me)}},[ee,Z,de]);const ht=g.useMemo(()=>{const D=(l==null?void 0:l.skillUsageData)??G;return{logRecords:Array.isArray(D==null?void 0:D.logRecords)?D.logRecords:[],players:Array.isArray(D==null?void 0:D.players)?D.players:[],skillOptions:Array.isArray(D==null?void 0:D.skillOptions)?D.skillOptions:[],resUtilitySkills:Array.isArray(D==null?void 0:D.resUtilitySkills)?D.resUtilitySkills:[]}},[G,l==null?void 0:l.skillUsageData]),Pt=ht.players.length>0;g.useEffect(()=>{a||E(w.topSkillsMetric||"damage")},[w.topSkillsMetric,a]);const Rn=D=>{if(a){a({...w,topSkillsMetric:D});return}E(D)},{scrollContainerRef:be}=B8(u,!0,fe),{devMockUploadState:We,webCopyStatus:Tt,setWebCopyStatus:rn,handleWebUpload:sn,handleDevMockUpload:hr}=dU({logs:e,stats:ee,skillUsageData:ht,activeStatsViewSettings:r||Ix,uiTheme:p||"classic",embedded:u,onWebUpload:o}),{sharing:Jn,handleShare:dn}=iV(u),Ca={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},pn=D=>{const W=Ca[D];return W?x[W]>0:!0},[In,gr]=g.useState(null),[An,Xl]=g.useState(null),[da,Ir]=g.useState("totalBuffs"),[ou,Jl]=g.useState("total"),[Po,Ma]=g.useState(""),[ao,fa]=g.useState(""),[Hr,za]=g.useState(null),[pa,Zs]=g.useState("squadBuffs"),[is,Ii]=g.useState(""),[Zn,io]=g.useState(null),[To,Zl]=g.useState(null),[_i,su]=g.useState(null),[ec,el]=g.useState(""),[pi,Oo]=g.useState(null),[X,ye]=g.useState(""),[He,pt]=g.useState(""),[Gt,It]=g.useState(""),[Ct,mn]=g.useState(""),[Nn,Er]=g.useState(""),[rr,A]=g.useState(""),[L,Y]=g.useState(""),[te,ue]=g.useState("outgoing"),[Fe,ke]=g.useState(""),[mt,St]=g.useState("damage"),[Lt,At]=g.useState("damageTaken"),[Ge,Le]=g.useState("totalMitigation"),[lt,Ce]=g.useState("all"),[Je,at]=g.useState({key:"damage",dir:"desc"}),wt=!(lt!=="all"&&Xie.has(lt)),Me=wt?"grid-cols-[0.4fr_1.6fr_1fr_1fr]":"grid-cols-[0.4fr_1.6fr_1fr]",Oe=wt?Je:{key:"applications",dir:Je.key==="applications"?Je.dir:"desc"},[Ae,Pe]=g.useState("condiCleanse"),[Ye,pe]=g.useState("healing"),[Ue,et]=g.useState("total"),[ce,$e]=g.useState("all"),[Ve,yt]=g.useState("total"),[ft,Re]=g.useState("total"),[Ze,Ne]=g.useState("total"),[Be,dt]=g.useState("total"),[ct,Te]=g.useState("all"),[it,gt]=g.useState("squad"),[kt,fn]=g.useState("player"),[an,ln]=g.useState(""),[Qe,Hn]=g.useState(""),[Yt,yn]=g.useState(null),[Bn,yr]=g.useState([]),[Rt,ra]=g.useState(null),[qn,Ja]=g.useState(null),[zn,os]=g.useState("hit"),[qr,lu]=g.useState("all"),[Tn,Li]=g.useState(null),[_r,oo]=g.useState(null),[_n,tl]=g.useState("hit"),[qe,ze]=g.useState([]),[Se,Xe]=g.useState(null),[vt,en]=g.useState(!1),on=g.useRef(null),[jn,Qt]=g.useState("sizes"),[Un,Ua]=g.useState("total"),Fi=Un==="perSecond",[cu,ym]=g.useState(null),[$d,vm]=g.useState("total"),[Io,Aa]=g.useState(null),[uu,tc]=g.useState(null),[Lr,_o]=g.useState(null),[du,Za]=g.useState(""),[mi,ss]=g.useState(null),[nc,nl]=g.useState(null),[Lo,bm]=g.useState(null),[T6,O6]=g.useState(""),[I6,_6]=g.useState("player"),[rc,iv]=g.useState(null),[L6,a2]=g.useState(null),[ls,xm]=g.useState(null),F6=st?ht:O5,{apmSpecBuckets:rl}=uV(F6),cs=g.useMemo(()=>de?ee.playerSkillBreakdowns||[]:db,[de,ee.playerSkillBreakdowns]),ov=g.useMemo(()=>{const D=new Map;return cs.forEach(W=>D.set(W.key,W)),D},[cs]),fu=g.useMemo(()=>{const D=new Map;return cs.forEach(W=>{const ie=W.profession||"Unknown";D.has(ie)||D.set(ie,{profession:ie,players:[],skills:new Map});const ge=D.get(ie);ge.players.push(W),W.skills.forEach(me=>{var nt;const re=ge.skills.get(me.id)||{...me,damage:0,downContribution:0};re.damage+=Number(me.damage||0),re.downContribution+=Number(me.downContribution||0),!re.icon&&me.icon&&(re.icon=me.icon),(nt=re.name)!=null&&nt.startsWith("Skill ")&&!me.name.startsWith("Skill ")&&(re.name=me.name),ge.skills.set(me.id,re)})}),Array.from(D.values()).map(W=>{const ie=Array.from(W.skills.values()).sort((me,nt)=>nt.damage-me.damage),ge=ie.reduce((me,nt)=>(me[nt.id]=nt,me),{});return{profession:W.profession,players:W.players,skills:ie,skillMap:ge}}).sort((W,ie)=>W.profession.localeCompare(ie.profession))},[cs]),us=mi&&ov.get(mi)||null,$6=us&&Lo&&(((b=us.skillMap)==null?void 0:b[Lo])||us.skills.find(D=>D.id===Lo))||null,sv=g.useMemo(()=>{const D=new Map;return fu.forEach(W=>D.set(W.profession,W)),D},[fu]),al=rc&&sv.get(rc)||null,R6=al&&ls&&((y=al.skillMap)==null?void 0:y[ls])||null,wm=(D,W)=>{if(!W)return null;const ie=Number(W.index);if(Number.isInteger(ie)&&ie>=0&&ie<D.length)return D[ie]||null;const ge=String(W.fightId||"").trim();return ge&&D.find(me=>String((me==null?void 0:me.id)||"").trim()===ge)||null},il=D=>{if(D&&typeof D=="object"){const W=Number((D==null?void 0:D.damage)||0),ie=Array.isArray(D==null?void 0:D.skillRows)?D.skillRows:void 0,ge=(ie||[]).reduce((me,nt)=>me+Number((nt==null?void 0:nt.downContribution)||0),0);return{hit:Number((D==null?void 0:D.hit)??W),burst1s:Number((D==null?void 0:D.burst1s)||0),burst5s:Number((D==null?void 0:D.burst5s)||0),burst30s:Number((D==null?void 0:D.burst30s)||0),hitDown:Number((D==null?void 0:D.hitDown)||ge||0),burst1sDown:Number((D==null?void 0:D.burst1sDown)||0),burst5sDown:Number((D==null?void 0:D.burst5sDown)||0),burst30sDown:Number((D==null?void 0:D.burst30sDown)||0),skillName:String((D==null?void 0:D.skillName)||""),buckets5s:Array.isArray(D==null?void 0:D.buckets5s)?D.buckets5s:void 0,buckets5sDown:Array.isArray(D==null?void 0:D.buckets5sDown)?D.buckets5sDown:void 0,downIndices5s:Array.isArray(D==null?void 0:D.downIndices5s)?D.downIndices5s:void 0,deathIndices5s:Array.isArray(D==null?void 0:D.deathIndices5s)?D.deathIndices5s:void 0,skillRows:ie}}return{hit:Number(D||0),burst1s:0,burst5s:0,burst30s:0,hitDown:0,burst1sDown:0,burst5sDown:0,burst30sDown:0,skillName:"",buckets5s:void 0,buckets5sDown:void 0,downIndices5s:void 0,deathIndices5s:void 0,skillRows:void 0}},hi=g.useMemo(()=>{if(!De)return{fights:[],players:[]};const D=we=>String(we||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),W=we=>D(we).toLowerCase().split(/[^a-z0-9]+/i).map(rt=>rt.trim()).filter(Boolean).map(rt=>rt.length>3&&rt.endsWith("s")?rt.slice(0,-1):rt),ie=(we,rt)=>{const je=D(we),zt=D(rt);if(!zt)return je;if(!je)return zt;const Xt=W(je),En=W(zt),tn=new Set(Xt),Mt=new Set(En),cn=En.length>0&&En.every(Jt=>tn.has(Jt)),Ln=Xt.length>0&&Xt.every(Jt=>Mt.has(Jt));return cn||Ln?je:`${je} - ${zt}`},ge=we=>{if(we==null||we==="")return 0;if(typeof we=="number")return!Number.isFinite(we)||we<=0?0:we>1e12?we:we*1e3;if(we instanceof Date){const tn=we.getTime();return Number.isFinite(tn)&&tn>0?tn:0}const rt=String(we).trim();if(!rt)return 0;const je=Number(rt);if(Number.isFinite(je)&&je>0)return je>1e12?je:je*1e3;const zt=Date.parse(rt);if(Number.isFinite(zt)&&zt>0)return zt;const Xt=rt.replace(/([+-]\d{2})$/,"$1:00"),En=Date.parse(Xt);return Number.isFinite(En)&&En>0?En:0},me=(we,rt)=>ge((we==null?void 0:we.uploadTime)??(rt==null?void 0:rt.uploadTime)??(we==null?void 0:we.timeStartStd)??(we==null?void 0:we.timeStart)??(we==null?void 0:we.timeEndStd)??(we==null?void 0:we.timeEnd)),nt=ee==null?void 0:ee.spikeDamage,re=Array.isArray(nt==null?void 0:nt.fights)?nt.fights:[],xe=Array.isArray(nt==null?void 0:nt.players)?nt.players:[],ut=re.some(we=>(we!=null&&we.values&&typeof we.values=="object"?Object.values(we.values):[]).some(rt=>rt&&typeof rt=="object"&&(Number(rt.burst1s||0)>0||Number(rt.burst5s||0)>0||Number(rt.burst30s||0)>0)))||xe.some(we=>Number((we==null?void 0:we.peak1s)||0)>0||Number((we==null?void 0:we.peak5s)||0)>0||Number((we==null?void 0:we.peak30s)||0)>0),Ke=re.some(we=>(we!=null&&we.values&&typeof we.values=="object"?Object.values(we.values):[]).some(rt=>rt&&typeof rt=="object"&&(Number(rt.hitDown||0)>0||Number(rt.burst1sDown||0)>0||Number(rt.burst5sDown||0)>0||Number(rt.burst30sDown||0)>0)))||xe.some(we=>Number((we==null?void 0:we.peakHitDown)||0)>0||Number((we==null?void 0:we.peak1sDown)||0)>0||Number((we==null?void 0:we.peak5sDown)||0)>0||Number((we==null?void 0:we.peak30sDown)||0)>0);if((re.length>0||xe.length>0)&&(ut||e.length===0)&&(qr!=="downContribution"||Ke||e.length===0)){const we=re.map((je,zt)=>{const Xt=je!=null&&je.values&&typeof je.values=="object"?je.values:{};return{id:String((je==null?void 0:je.id)||`fight-${zt+1}`),shortLabel:String((je==null?void 0:je.shortLabel)||`F${zt+1}`),fullLabel:D((je==null?void 0:je.fullLabel)||`Fight ${zt+1}`),timestamp:Number((je==null?void 0:je.timestamp)||0),values:Xt,maxHit:Number((je==null?void 0:je.maxHit)??(je==null?void 0:je.maxDamage)??0),max1s:Number((je==null?void 0:je.max1s)||0),max5s:Number((je==null?void 0:je.max5s)||0),max30s:Number((je==null?void 0:je.max30s)||0),maxHitDown:Number((je==null?void 0:je.maxHitDown)||0),max1sDown:Number((je==null?void 0:je.max1sDown)||0),max5sDown:Number((je==null?void 0:je.max5sDown)||0),max30sDown:Number((je==null?void 0:je.max30sDown)||0)}}),rt=xe.map(je=>({key:String((je==null?void 0:je.key)||""),account:String((je==null?void 0:je.account)||"Unknown"),displayName:String((je==null?void 0:je.displayName)||(je==null?void 0:je.account)||"Unknown"),characterName:String((je==null?void 0:je.characterName)||(je==null?void 0:je.name)||(je==null?void 0:je.character_name)||(je==null?void 0:je.display_name)||""),profession:String((je==null?void 0:je.profession)||"Unknown"),professionList:Array.isArray(je==null?void 0:je.professionList)?je.professionList.map(zt=>String(zt)):[],logs:Number((je==null?void 0:je.logs)||0),peakHit:Number((je==null?void 0:je.peakHit)||0),peak1s:Number((je==null?void 0:je.peak1s)||0),peak5s:Number((je==null?void 0:je.peak5s)||0),peak30s:Number((je==null?void 0:je.peak30s)||0),peakHitDown:Number((je==null?void 0:je.peakHitDown)||0),peak1sDown:Number((je==null?void 0:je.peak1sDown)||0),peak5sDown:Number((je==null?void 0:je.peak5sDown)||0),peak30sDown:Number((je==null?void 0:je.peak30sDown)||0),peakFightLabel:D((je==null?void 0:je.peakFightLabel)||""),peakSkillName:String((je==null?void 0:je.peakSkillName)||"")}));return{fights:we,players:rt}}const Ft=(we,rt)=>{const je=(rt==null?void 0:rt.skillMap)||{},zt=(rt==null?void 0:rt.buffMap)||{};let Xt=0,En=0,tn="";const Mt=Jt=>{const Cn=Number(Jt);if(!Number.isFinite(Cn))return String(Jt||"Unknown Skill");const vi=(je==null?void 0:je[`s${Cn}`])||(je==null?void 0:je[`${Cn}`]);if(vi!=null&&vi.name)return String(vi.name);const Dr=(zt==null?void 0:zt[`b${Cn}`])||(zt==null?void 0:zt[`${Cn}`]);return Dr!=null&&Dr.name?String(Dr.name):`Skill ${Cn}`},cn=Jt=>{if(!Jt||typeof Jt!="object")return;const Cn=[Number(Jt.max),Number(Jt.maxDamage),Number(Jt.maxHit)].filter(Ud=>Number.isFinite(Ud)),vi=Cn.length>0?Math.max(...Cn):0;vi>Xt&&(Xt=vi,tn=Mt(Jt.id));const Dr=Number(Jt.downContribution||0);Dr>En&&(En=Dr)};let Ln=!1;return Array.isArray(we==null?void 0:we.targetDamageDist)&&we.targetDamageDist.forEach(Jt=>{Array.isArray(Jt)&&Jt.forEach(Cn=>{Array.isArray(Cn)&&Cn.forEach(vi=>{Ln=!0,cn(vi)})})}),(!Ln||Xt<=0)&&Array.isArray(we==null?void 0:we.totalDamageDist)&&we.totalDamageDist.forEach(Jt=>{Array.isArray(Jt)&&Jt.forEach(Cn=>cn(Cn))}),{peak:Xt,peakDownContribution:En,skillName:tn||"Unknown Skill"}},vn=we=>{const rt=Mt=>{if(!Array.isArray(Mt)||Mt.length===0)return[];const cn=[];for(let Ln=0;Ln<Mt.length;Ln+=1){const Jt=Number(Mt[Ln]||0),Cn=Ln>0?Number(Mt[Ln-1]||0):0;cn.push(Math.max(0,Jt-Cn))}return cn},je=Mt=>{if(!Array.isArray(Mt))return[];const cn=Mt.reduce((Jt,Cn)=>Math.max(Jt,Array.isArray(Cn)?Cn.length:0),0);if(cn<=0)return[];const Ln=new Array(cn).fill(0);return Mt.forEach(Jt=>{if(Array.isArray(Jt))for(let Cn=0;Cn<cn;Cn+=1)Ln[Cn]+=Number(Jt[Cn]||0)}),Ln},zt=Mt=>Array.isArray(Mt)?Mt.map(cn=>Number(cn||0)):null,Xt=(Mt=>{if(!Array.isArray(Mt)||Mt.length===0)return null;const cn=Mt[0];if(!Array.isArray(cn))return null;if(Array.isArray(cn[0])&&Array.isArray(cn[0][0]))return je(cn);if(Array.isArray(cn[0])&&!Array.isArray(cn[0][0])){const Ln=Mt.map(Jt=>zt(Array.isArray(Jt)?Jt[0]:null)).filter(Jt=>Array.isArray(Jt)&&Jt.length>0);if(Ln.length>0)return je(Ln)}return null})(we==null?void 0:we.targetDamage1S),En=Array.isArray(we==null?void 0:we.damage1S)&&Array.isArray(we.damage1S[0])?we.damage1S[0]:null,tn=Xt||(Array.isArray(En)?En.map(Mt=>Number(Mt||0)):[]);return rt(tn)},xt=(we,rt)=>{if(!Array.isArray(we)||we.length===0||rt<=0)return 0;let je=0,zt=0;for(let Xt=0;Xt<we.length;Xt+=1)je+=Number(we[Xt]||0),Xt>=rt&&(je-=Number(we[Xt-rt]||0)),Xt>=rt-1&&je>zt&&(zt=je);return Math.max(0,zt)},Bt=(we,rt)=>{if(!Array.isArray(we)||we.length===0||rt<=0)return[];const je=[];for(let zt=0;zt<we.length;zt+=rt){const Xt=Math.min(zt+rt,we.length),En=we.slice(zt,Xt).reduce((tn,Mt)=>tn+Number(Mt||0),0);je.push(En)}return je},Ht=(we,rt)=>{let je=0,zt=0;const Xt=new Map,En=tn=>{if(!tn||typeof tn!="object"||tn.indirectDamage)return;const Mt=Number(tn.totalDamage||0),cn=Number(tn.downContribution||0);!Number.isFinite(Mt)&&!Number.isFinite(cn)||(je+=Number.isFinite(Mt)?Mt:0,zt+=Number.isFinite(cn)?cn:0)};return Array.isArray(we==null?void 0:we.targetDamageDist)&&we.targetDamageDist.forEach(tn=>{Array.isArray(tn)&&tn.forEach(Mt=>{Array.isArray(Mt)&&Mt.forEach(cn=>{const Ln=Number(cn==null?void 0:cn.id);if(Number.isFinite(Ln)){const Jt=Xt.get(Ln)||{damage:0,downContribution:0};Jt.damage+=Number((cn==null?void 0:cn.totalDamage)||0),Jt.downContribution+=Number((cn==null?void 0:cn.downContribution)||0),Xt.set(Ln,Jt)}En(cn)})})}),!(rt!=null&&rt.detailedWvW)&&Array.isArray(we==null?void 0:we.totalDamageDist)&&we.totalDamageDist.forEach(tn=>{Array.isArray(tn)&&tn.forEach(Mt=>{const cn=Number(Mt==null?void 0:Mt.id);if(!Number.isFinite(cn)){En(Mt);return}const Ln=Xt.get(cn);if(!Ln){En(Mt);return}const Jt=Number((Mt==null?void 0:Mt.totalDamage)||0)-Number(Ln.damage||0),Cn=Number((Mt==null?void 0:Mt.downContribution)||0)-Number(Ln.downContribution||0);Jt<=0&&Cn<=0||En({...Mt,totalDamage:Math.max(0,Jt),downContribution:Math.max(0,Cn)})})}),{damageTotal:Math.max(0,je),downContributionTotal:Math.max(0,zt)}},$t=[],_t=new Map;e.forEach(we=>{const rt=we==null?void 0:we.details;if(!rt)return;const je=$t.length+1,zt=D(rt.fightName||we.fightName||`Fight ${je}`),Xt=rt.zone||rt.mapName||rt.map||rt.location||"",En=ie(zt,String(Xt||"")),tn={};(Array.isArray(rt.players)?rt.players:[]).forEach(bn=>{if(bn!=null&&bn.notInSquad)return;const On=String((bn==null?void 0:bn.account)||(bn==null?void 0:bn.name)||"Unknown"),Vd=String((bn==null?void 0:bn.character_name)||(bn==null?void 0:bn.display_name)||(bn==null?void 0:bn.name)||""),ac=String((bn==null?void 0:bn.profession)||"Unknown"),ic=`${On}|${ac}`,hu=Ft(bn,rt),gu=Number(hu.peak||0),Wd=Number(hu.peakDownContribution||0),Ro=vn(bn),{damageTotal:sl,downContributionTotal:uv}=Ht(bn,rt),dv=sl>0?Math.min(1,Math.max(0,uv/sl)):0,oc=Ro.map(Bo=>Number(Bo||0)*dv),ps=Number(xt(Ro,1)||0),yu=Number(xt(Ro,5)||0),_e=Number(xt(Ro,30)||0),bt=Number(xt(oc,1)||0),Wt=Number(xt(oc,5)||0),xn=Number(xt(oc,30)||0),qt=Math.max(0,Math.ceil(Number((rt==null?void 0:rt.durationMS)||0)/5e3)),nn=Math.max(0,Math.ceil(Ro.length/5)),Vn=Math.max(0,Math.ceil(oc.length/5)),Gr=Math.max(qt,nn,Vn),Fr=Bt(Ro,5),sc=Bt(oc,5),Pm=Array.from({length:Gr},(Bo,lo)=>Number(Fr[lo]||0)),ar=Array.from({length:Gr},(Bo,lo)=>Number(sc[lo]||0));tn[ic]={hit:gu,burst1s:ps,burst5s:yu,burst30s:_e,hitDown:Wd,burst1sDown:bt,burst5sDown:Wt,burst30sDown:xn,skillName:hu.skillName,buckets5s:Pm,buckets5sDown:ar};const wn=_t.get(ic)||{key:ic,account:On,displayName:On,characterName:Vd,profession:ac,professionList:[ac],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakHitDown:0,peak1sDown:0,peak5sDown:0,peak30sDown:0,peakFightLabel:"",peakSkillName:""};wn.logs+=1,wn.professionList.includes(ac)||wn.professionList.push(ac),!wn.characterName&&Vd&&(wn.characterName=Vd),gu>wn.peakHit&&(wn.peakHit=gu,wn.peakFightLabel=En,wn.peakSkillName=hu.skillName),ps>wn.peak1s&&(wn.peak1s=ps),yu>wn.peak5s&&(wn.peak5s=yu),_e>wn.peak30s&&(wn.peak30s=_e),Wd>wn.peakHitDown&&(wn.peakHitDown=Wd),bt>wn.peak1sDown&&(wn.peak1sDown=bt),Wt>wn.peak5sDown&&(wn.peak5sDown=Wt),xn>wn.peak30sDown&&(wn.peak30sDown=xn),_t.set(ic,wn)});const Mt=Object.values(tn).reduce((bn,On)=>Math.max(bn,Number((On==null?void 0:On.hit)||0)),0),cn=Object.values(tn).reduce((bn,On)=>Math.max(bn,Number((On==null?void 0:On.burst1s)||0)),0),Ln=Object.values(tn).reduce((bn,On)=>Math.max(bn,Number((On==null?void 0:On.burst5s)||0)),0),Jt=Object.values(tn).reduce((bn,On)=>Math.max(bn,Number((On==null?void 0:On.burst30s)||0)),0),Cn=Object.values(tn).reduce((bn,On)=>Math.max(bn,Number((On==null?void 0:On.hitDown)||0)),0),vi=Object.values(tn).reduce((bn,On)=>Math.max(bn,Number((On==null?void 0:On.burst1sDown)||0)),0),Dr=Object.values(tn).reduce((bn,On)=>Math.max(bn,Number((On==null?void 0:On.burst5sDown)||0)),0),Ud=Object.values(tn).reduce((bn,On)=>Math.max(bn,Number((On==null?void 0:On.burst30sDown)||0)),0);$t.push({id:we.filePath||we.id||`fight-${je}`,shortLabel:`F${je}`,fullLabel:En,timestamp:me(rt,we),values:tn,maxHit:Mt,max1s:cn,max5s:Ln,max30s:Jt,maxHitDown:Cn,max1sDown:vi,max5sDown:Dr,max30sDown:Ud})});const Ut=Array.from(_t.values()).sort((we,rt)=>rt.peakHit!==we.peakHit?rt.peakHit-we.peakHit:we.displayName.localeCompare(rt.displayName));return{fights:$t,players:Ut}},[e,ee,De,qr]),gi=g.useMemo(()=>{if(!ae)return{fights:[],players:[]};const D=re=>String(re||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),W=ee==null?void 0:ee.incomingStrikeDamage,ie=Array.isArray(W==null?void 0:W.fights)?W.fights:[],ge=Array.isArray(W==null?void 0:W.players)?W.players:[];if(ie.length===0&&ge.length===0)return{fights:[],players:[]};const me=ie.map((re,xe)=>{const ut=re!=null&&re.values&&typeof re.values=="object"?re.values:{};return{id:String((re==null?void 0:re.id)||`fight-${xe+1}`),shortLabel:String((re==null?void 0:re.shortLabel)||`F${xe+1}`),fullLabel:D((re==null?void 0:re.fullLabel)||`Fight ${xe+1}`),timestamp:Number((re==null?void 0:re.timestamp)||0),values:ut,maxHit:Number((re==null?void 0:re.maxHit)??(re==null?void 0:re.maxDamage)??0),max1s:Number((re==null?void 0:re.max1s)||0),max5s:Number((re==null?void 0:re.max5s)||0),max30s:Number((re==null?void 0:re.max30s)||0),maxHitDown:Number((re==null?void 0:re.maxHitDown)||0),max1sDown:Number((re==null?void 0:re.max1sDown)||0),max5sDown:Number((re==null?void 0:re.max5sDown)||0),max30sDown:Number((re==null?void 0:re.max30sDown)||0)}}),nt=ge.map(re=>({key:String((re==null?void 0:re.key)||""),account:String((re==null?void 0:re.account)||"Unknown"),displayName:String((re==null?void 0:re.displayName)||(re==null?void 0:re.account)||"Unknown"),characterName:String((re==null?void 0:re.characterName)||(re==null?void 0:re.name)||(re==null?void 0:re.character_name)||(re==null?void 0:re.display_name)||""),profession:String((re==null?void 0:re.profession)||"Unknown"),professionList:Array.isArray(re==null?void 0:re.professionList)?re.professionList.map(xe=>String(xe)):[],logs:Number((re==null?void 0:re.logs)||0),peakHit:Number((re==null?void 0:re.peakHit)||0),peak1s:Number((re==null?void 0:re.peak1s)||0),peak5s:Number((re==null?void 0:re.peak5s)||0),peak30s:Number((re==null?void 0:re.peak30s)||0),peakHitDown:Number((re==null?void 0:re.peakHitDown)||0),peak1sDown:Number((re==null?void 0:re.peak1sDown)||0),peak5sDown:Number((re==null?void 0:re.peak5sDown)||0),peak30sDown:Number((re==null?void 0:re.peak30sDown)||0),peakFightLabel:D((re==null?void 0:re.peakFightLabel)||""),peakSkillName:String((re==null?void 0:re.peakSkillName)||"")}));return{fights:me,players:nt}},[ee,ae]),Rd=g.useMemo(()=>{const D=new Map;return hi.players.forEach(W=>D.set(W.key,W)),D},[hi.players]),B6=g.useMemo(()=>{const D=me=>qr==="downContribution"?zn==="hit"?me.peakHitDown:zn==="1s"?me.peak1sDown:zn==="5s"?me.peak5sDown:me.peak30sDown:zn==="hit"?me.peakHit:zn==="1s"?me.peak1s:zn==="5s"?me.peak5s:me.peak30s,W=rr.trim().toLowerCase(),ie=W?hi.players.filter(me=>me.displayName.toLowerCase().includes(W)||me.account.toLowerCase().includes(W)||me.profession.toLowerCase().includes(W)):hi.players,ge=new Map;return ie.forEach(me=>{const nt=me.profession||"Unknown",re=ge.get(nt)||[];re.push(me),ge.set(nt,re)}),Array.from(ge.entries()).map(([me,nt])=>({profession:me,players:[...nt].sort((re,xe)=>D(xe)-D(re)||re.displayName.localeCompare(xe.displayName))})).sort((me,nt)=>me.profession.localeCompare(nt.profession))},[hi.players,rr,zn,qr]),z6=Rt&&Rd.get(Rt)||null,Fo=g.useMemo(()=>{if(!Rt)return[];const D=ie=>ie?Number(qr==="downContribution"?zn==="hit"?ie.hitDown||0:zn==="1s"?ie.burst1sDown||0:zn==="5s"?ie.burst5sDown||0:ie.burst30sDown||0:zn==="hit"?ie.hit||0:zn==="1s"?ie.burst1s||0:zn==="5s"?ie.burst5s||0:ie.burst30s||0):0,W=ie=>Number(qr==="downContribution"?zn==="hit"?ie.maxHitDown||0:zn==="1s"?ie.max1sDown||0:zn==="5s"?ie.max5sDown||0:ie.max30sDown||0:zn==="hit"?ie.maxHit||0:zn==="1s"?ie.max1s||0:zn==="5s"?ie.max5s||0:ie.max30s||0);return hi.fights.map((ie,ge)=>({index:ge,fightId:ie.id,shortLabel:ie.shortLabel,fullLabel:ie.fullLabel,timestamp:Number(ie.timestamp||0),damage:D(il(ie.values[Rt])),maxDamage:W(ie),skillName:String(il(ie.values[Rt]).skillName||"")}))},[hi.fights,Rt,zn,qr]),U6=g.useMemo(()=>{const D=Fo.reduce((ie,ge)=>Math.max(ie,Number(ge.damage||0)),0),W=Fo.reduce((ie,ge)=>Math.max(ie,Number(ge.maxDamage||0)),0);return Math.max(1,D,W)},[Fo]),km=g.useMemo(()=>{var D,W;const ie=qn===null?null:Fo.find(_e=>_e.index===qn)||null;if(!ie||!Rt)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const ge=wm(hi.fights,ie),[me,nt]=Rt.split("|"),re=e.find(_e=>String((_e==null?void 0:_e.filePath)||(_e==null?void 0:_e.id)||"")===String(ie.fightId||"")),xe=re==null?void 0:re.details,ut=_e=>Array.isArray(_e)?_e.map(bt=>Array.isArray(bt)?[Number(bt[0]),Number(bt[1])]:bt&&typeof bt=="object"?[Number(bt.time),Number(bt.value)]:null).filter(bt=>!!bt&&Number.isFinite(bt[0])&&bt[0]>=0):[],Ke=_e=>String(_e||"").trim().toLowerCase(),Ft=Ke(me),vn=Ke(nt),xt=Rd.get(Rt),Bt=new Set([Ke(xt==null?void 0:xt.displayName),Ke(xt==null?void 0:xt.characterName),Ke(xt==null?void 0:xt.account)].filter(Boolean)),Ht=Array.isArray(xe==null?void 0:xe.players)&&((D=xe.players.map(_e=>{const bt=Ke(_e==null?void 0:_e.account),Wt=Ke(_e==null?void 0:_e.name),xn=Ke(_e==null?void 0:_e.profession),qt=!!bt&&bt===Ft,nn=!!Wt&&(Wt===Ft||Bt.has(Wt)),Vn=!!bt&&Bt.has(bt),Gr=!vn||xn===vn;let Fr=0;return qt&&(Fr+=100),nn&&(Fr+=90),Vn&&(Fr+=80),Gr&&(Fr+=20),{player:_e,score:Fr}}).filter(_e=>_e.score>0).sort((_e,bt)=>bt.score-_e.score)[0])==null?void 0:D.player)||null,$t=(()=>{const _e=Ht==null?void 0:Ht.combatReplayData;return Array.isArray(_e)?_e.filter(bt=>bt&&typeof bt=="object"):_e&&typeof _e=="object"?[_e]:[]})(),_t=$t.flatMap(_e=>ut(_e==null?void 0:_e.down).map(([bt])=>bt)),Ut=$t.flatMap(_e=>ut(_e==null?void 0:_e.dead).map(([bt])=>bt)),we=$t.map(_e=>Number(_e==null?void 0:_e.start)).filter(_e=>Number.isFinite(_e)&&_e>=0),rt=Array.isArray(xe==null?void 0:xe.players)?xe.players.flatMap(_e=>{const bt=_e==null?void 0:_e.combatReplayData;return Array.isArray(bt)?bt.map(Wt=>Number(Wt==null?void 0:Wt.start)):[Number(bt==null?void 0:bt.start)]}).filter(_e=>Number.isFinite(_e)&&_e>=0).reduce((_e,bt)=>Math.min(_e,bt),Number.POSITIVE_INFINITY):Number.POSITIVE_INFINITY,je=[0,Number((xe==null?void 0:xe.logStartOffset)||0),...we,Number.isFinite(rt)?rt:0].filter(_e=>Number.isFinite(_e)&&_e>=0),zt=_e=>{const bt=Math.max(0,Math.floor(Number(_e||0)/1e3)),Wt=Math.floor(bt/5)*5;return`${Wt}s-${Wt+5}s`},Xt=(_e,bt)=>{if(_e.length===0||bt.length===0)return[];const Wt=bt.length*5e3,xn=ar=>ar.reduce((wn,Bo)=>Bo>=0&&Bo<=Wt+2e3?wn+1:wn,0),qt=[],nn=_e.map(ar=>Number(ar||0)).filter(ar=>Number.isFinite(ar)&&ar>=0);if(nn.length===0)return[];qt.push(nn);const Vn=nn.reduce((ar,wn)=>Math.max(ar,wn),0),Gr=nn.reduce((ar,wn)=>Math.min(ar,wn),Number.POSITIVE_INFINITY);Vn>Wt*20&&qt.push(nn.map(ar=>ar/1e3)),Vn<=Wt*2&&Gr>=0&&Vn>0&&Vn<Math.max(120,bt.length*5+10)&&qt.push(nn.map(ar=>ar*1e3));let Fr=nn,sc=0,Pm=-1;return qt.forEach(ar=>{const wn=new Set(je),Bo=ar.reduce((lo,fv)=>Math.min(lo,fv),Number.POSITIVE_INFINITY);if(Number.isFinite(Bo)&&Wt>0&&Bo>Wt){const lo=Math.floor(Bo/Wt)*Wt;wn.add(lo),wn.add(Math.max(0,lo-Wt))}wn.forEach(lo=>{const fv=ar.map(_R=>_R-lo),v2=xn(fv);v2>Pm&&(Pm=v2,sc=lo,Fr=ar)})}),Fr.map(ar=>ar-sc).filter(ar=>Number.isFinite(ar)&&ar>=0)},En=(_e,bt)=>{if(_e.length===0||bt.length===0)return[];const Wt=Xt(bt,_e),xn=new Map;_e.forEach(nn=>{const Vn=/^(\d+)s-/.exec(String(nn));if(!Vn)return;const Gr=Number(Vn[1]);Number.isFinite(Gr)&&xn.set(Gr,nn)});const qt=[];return Wt.forEach(nn=>{const Vn=Math.max(0,Math.floor(Number(nn||0)/1e3)),Gr=Math.floor(Vn/5)*5,Fr=xn.get(Gr)||zt(nn);_e.includes(Fr)&&qt.push(Fr)}),Array.from(new Set(qt))},tn=(_e,bt)=>{if(_e<=0||bt.length===0)return[];const Wt=Array.from({length:_e},(qt,nn)=>`${nn*5}s-${(nn+1)*5}s`),xn=Xt(bt,Wt).map(qt=>Math.floor(Math.max(0,Number(qt||0))/5e3)).filter(qt=>Number.isFinite(qt)&&qt>=0&&qt<_e);return Array.from(new Set(xn))},Mt=il((W=ge==null?void 0:ge.values)==null?void 0:W[Rt]),cn=qr==="downContribution"?Array.isArray(Mt==null?void 0:Mt.buckets5sDown)?(Mt==null?void 0:Mt.buckets5sDown)||[]:[]:Array.isArray(Mt==null?void 0:Mt.buckets5s)?(Mt==null?void 0:Mt.buckets5s)||[]:[],Ln=Array.isArray(Mt==null?void 0:Mt.downIndices5s)?Mt.downIndices5s.map(_e=>Number(_e)).filter(_e=>Number.isFinite(_e)&&_e>=0):[],Jt=Array.isArray(Mt==null?void 0:Mt.deathIndices5s)?Mt.deathIndices5s.map(_e=>Number(_e)).filter(_e=>Number.isFinite(_e)&&_e>=0):[];if(cn.length>0){const _e=Math.max(0,Math.ceil(Number((xe==null?void 0:xe.durationMS)||0)/5e3)),bt=Math.max(cn.length,_e),Wt=Array.from({length:bt},(qt,nn)=>({label:`${nn*5}s-${(nn+1)*5}s`,value:Number(cn[nn]||0)})),xn=Wt.map(qt=>qt.label);return{title:`Fight Breakdown - ${ie.shortLabel||"Fight"} (5s ${qr==="downContribution"?"Down Contribution":"Damage"} Buckets)`,data:Wt,downLabels:En(xn,_t),deathLabels:En(xn,Ut),downIndices:Ln.length>0?Ln.filter(qt=>qt<Wt.length):tn(Wt.length,_t),deathIndices:Jt.length>0?Jt.filter(qt=>qt<Wt.length):tn(Wt.length,Ut)}}const Cn=ie.shortLabel||"Fight";if(!xe||!Array.isArray(xe.players))return{title:`Fight Breakdown - ${Cn}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const vi=xe.players.find(_e=>String((_e==null?void 0:_e.account)||(_e==null?void 0:_e.name)||"Unknown")===me&&String((_e==null?void 0:_e.profession)||"Unknown")===nt);if(!vi)return{title:`Fight Breakdown - ${Cn}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const Dr=vi,Ud=()=>{let _e=0,bt=0;const Wt=new Map,xn=qt=>{if(!qt||typeof qt!="object"||qt.indirectDamage)return;const nn=Number(qt.totalDamage||0),Vn=Number(qt.downContribution||0);!Number.isFinite(nn)&&!Number.isFinite(Vn)||(_e+=Number.isFinite(nn)?nn:0,bt+=Number.isFinite(Vn)?Vn:0)};return Array.isArray(Dr==null?void 0:Dr.targetDamageDist)&&Dr.targetDamageDist.forEach(qt=>{Array.isArray(qt)&&qt.forEach(nn=>{Array.isArray(nn)&&nn.forEach(Vn=>{const Gr=Number(Vn==null?void 0:Vn.id);if(Number.isFinite(Gr)){const Fr=Wt.get(Gr)||{damage:0,downContribution:0};Fr.damage+=Number((Vn==null?void 0:Vn.totalDamage)||0),Fr.downContribution+=Number((Vn==null?void 0:Vn.downContribution)||0),Wt.set(Gr,Fr)}xn(Vn)})})}),!(xe!=null&&xe.detailedWvW)&&Array.isArray(Dr==null?void 0:Dr.totalDamageDist)&&Dr.totalDamageDist.forEach(qt=>{Array.isArray(qt)&&qt.forEach(nn=>{const Vn=Number(nn==null?void 0:nn.id);if(!Number.isFinite(Vn)){xn(nn);return}const Gr=Wt.get(Vn);if(!Gr){xn(nn);return}const Fr=Number((nn==null?void 0:nn.totalDamage)||0)-Number(Gr.damage||0),sc=Number((nn==null?void 0:nn.downContribution)||0)-Number(Gr.downContribution||0);Fr<=0&&sc<=0||xn({...nn,totalDamage:Math.max(0,Fr),downContribution:Math.max(0,sc)})})}),_e<=0?0:Math.min(1,Math.max(0,bt/_e))},bn=_e=>{if(!Array.isArray(_e)||_e.length===0)return[];const bt=[];for(let Wt=0;Wt<_e.length;Wt+=1){const xn=Number(_e[Wt]||0),qt=Wt>0?Number(_e[Wt-1]||0):0;bt.push(Math.max(0,xn-qt))}return bt},On=_e=>{if(!Array.isArray(_e))return[];const bt=_e.reduce((xn,qt)=>Math.max(xn,Array.isArray(qt)?qt.length:0),0);if(bt<=0)return[];const Wt=new Array(bt).fill(0);return _e.forEach(xn=>{if(Array.isArray(xn))for(let qt=0;qt<bt;qt+=1)Wt[qt]+=Number(xn[qt]||0)}),Wt},Vd=_e=>Array.isArray(_e)?_e.map(bt=>Number(bt||0)):null,ac=(_e=>{if(!Array.isArray(_e)||_e.length===0)return null;const bt=_e[0];if(!Array.isArray(bt))return null;if(Array.isArray(bt[0])&&Array.isArray(bt[0][0]))return On(bt);if(Array.isArray(bt[0])&&!Array.isArray(bt[0][0])){const Wt=_e.map(xn=>Vd(Array.isArray(xn)?xn[0]:null)).filter(xn=>Array.isArray(xn)&&xn.length>0);if(Wt.length>0)return On(Wt)}return null})(Dr==null?void 0:Dr.targetDamage1S),ic=Array.isArray(Dr==null?void 0:Dr.damage1S)&&Array.isArray(Dr.damage1S[0])?Dr.damage1S[0]:null,hu=ac||(Array.isArray(ic)?ic.map(_e=>Number(_e||0)):[]),gu=bn(hu),Wd=Ud(),Ro=qr==="downContribution"?gu.map(_e=>Number(_e||0)*Wd):gu,sl=5,uv=Math.max(0,Math.ceil(Number((xe==null?void 0:xe.durationMS)||0)/(sl*1e3))),dv=Math.max(0,Math.ceil(Ro.length/sl)),oc=Math.max(uv,dv),ps=[];for(let _e=0;_e<oc;_e+=1){const bt=_e*sl,Wt=Math.min(bt+sl,Ro.length),xn=Ro.slice(bt,Wt).reduce((qt,nn)=>qt+Number(nn||0),0);ps.push({label:`${bt}s-${bt+sl}s`,value:xn})}const yu=ps.map(_e=>_e.label);return{title:`Fight Breakdown - ${Cn} (5s ${qr==="downContribution"?"Down Contribution":"Damage"} Buckets)`,data:ps,downLabels:En(yu,_t),deathLabels:En(yu,Ut),downIndices:tn(ps.length,_t),deathIndices:tn(ps.length,Ut)}},[qn,Fo,Rt,e,hi.fights,Rd,qr]),lv=g.useMemo(()=>{const D=new Map;return gi.players.forEach(W=>D.set(W.key,W)),D},[gi.players]),V6=g.useMemo(()=>{const D=me=>_n==="hit"?me.peakHit:_n==="1s"?me.peak1s:_n==="5s"?me.peak5s:me.peak30s,W=L.trim().toLowerCase(),ie=W?gi.players.filter(me=>me.displayName.toLowerCase().includes(W)||me.account.toLowerCase().includes(W)||me.profession.toLowerCase().includes(W)):gi.players,ge=new Map;return ie.forEach(me=>{const nt=me.profession||"Unknown",re=ge.get(nt)||[];re.push(me),ge.set(nt,re)}),Array.from(ge.entries()).map(([me,nt])=>({profession:me,players:[...nt].sort((re,xe)=>D(xe)-D(re)||re.displayName.localeCompare(xe.displayName))})).sort((me,nt)=>me.profession.localeCompare(nt.profession))},[gi.players,L,_n]),W6=Tn&&lv.get(Tn)||null,$o=g.useMemo(()=>{if(!Tn)return[];const D=ie=>ie?Number(_n==="hit"?ie.hit||0:_n==="1s"?ie.burst1s||0:_n==="5s"?ie.burst5s||0:ie.burst30s||0):0,W=ie=>Number(_n==="hit"?ie.maxHit||0:_n==="1s"?ie.max1s||0:_n==="5s"?ie.max5s||0:ie.max30s||0);return gi.fights.map((ie,ge)=>({index:ge,fightId:ie.id,shortLabel:ie.shortLabel,fullLabel:ie.fullLabel,timestamp:Number(ie.timestamp||0),damage:D(il(ie.values[Tn])),maxDamage:W(ie),skillName:String(il(ie.values[Tn]).skillName||"")}))},[gi.fights,Tn,_n]),H6=g.useMemo(()=>{const D=$o.reduce((ie,ge)=>Math.max(ie,Number(ge.damage||0)),0),W=$o.reduce((ie,ge)=>Math.max(ie,Number(ge.maxDamage||0)),0);return Math.max(1,D,W)},[$o]),Sm=g.useMemo(()=>{var D;const W=_r===null?null:$o.find(ut=>ut.index===_r)||null;if(!W||!Tn)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const ie=wm(gi.fights,W),ge=il((D=ie==null?void 0:ie.values)==null?void 0:D[Tn]),me=Array.isArray(ge==null?void 0:ge.buckets5s)?(ge==null?void 0:ge.buckets5s)||[]:[],nt=Array.isArray(ge==null?void 0:ge.downIndices5s)?ge.downIndices5s.map(ut=>Number(ut)).filter(ut=>Number.isFinite(ut)&&ut>=0):[],re=Array.isArray(ge==null?void 0:ge.deathIndices5s)?ge.deathIndices5s.map(ut=>Number(ut)).filter(ut=>Number.isFinite(ut)&&ut>=0):[];if(me.length>0){const ut=me.map((Ke,Ft)=>({label:`${Ft*5}s-${(Ft+1)*5}s`,value:Number(Ke||0)}));return{title:`Fight Breakdown - ${W.shortLabel||"Fight"} (5s Damage Buckets)`,data:ut,downLabels:[],deathLabels:[],downIndices:nt.filter(Ke=>Ke<ut.length),deathIndices:re.filter(Ke=>Ke<ut.length)}}const xe=Number(_n==="hit"?ge.hit||0:_n==="1s"?ge.burst1s||0:_n==="5s"?ge.burst5s||0:ge.burst30s||0);return xe>0?{title:`Fight Breakdown - ${W.shortLabel||"Fight"} (Estimated)`,data:[{label:"0s-5s",value:xe}],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]}:{title:`Fight Breakdown - ${W.shortLabel||"Fight"}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]}},[_r,$o,Tn,gi.fights,_n]),q6=g.useMemo(()=>{var D;if(_r===null||!Tn)return[];const W=$o.find(ut=>ut.index===_r);if(!W)return[];const ie=wm(gi.fights,W),ge=il((D=ie==null?void 0:ie.values)==null?void 0:D[Tn]),me=[...(ge==null?void 0:ge.skillRows)||[]].filter(ut=>Number((ut==null?void 0:ut.damage)||0)>0||Number((ut==null?void 0:ut.downContribution)||0)>0).sort((ut,Ke)=>Number(Ke.damage||0)-Number(ut.damage||0)).slice(0,30);if(me.length>0)return me;const nt=e.find(ut=>String((ut==null?void 0:ut.filePath)||(ut==null?void 0:ut.id)||"")===String(W.fightId||"")),re=nt==null?void 0:nt.details;if(re&&Tn){const ut=new Set(Object.keys(Bc)),Ke=Object.keys(Bc).filter($t=>$t&&$t!=="Unknown").sort(($t,_t)=>_t.length-$t.length),Ft=["Guardian","Revenant","Warrior","Engineer","Ranger","Thief","Elementalist","Mesmer","Necromancer"],vn=$t=>{if(!$t)return"Unknown";const _t=String($t).replace(/\s*\([^)]*\)\s*$/,"").replace(/\s*\[[^\]]*\]\s*$/,"").replace(/\s\d+$/,"").trim();if(ut.has(_t))return _t;const Ut=_t.toLowerCase();for(const we of Ke)if(Ut.includes(we.toLowerCase()))return we;return Ft.find(we=>Ut.includes(we.toLowerCase()))||_t||"Unknown"},xt=$t=>{const _t=Number($t);if(!Number.isFinite(_t))return{name:String($t||"Unknown Skill"),icon:void 0};const Ut=(re==null?void 0:re.skillMap)||{},we=(re==null?void 0:re.buffMap)||{},rt=(Ut==null?void 0:Ut[`s${_t}`])||(Ut==null?void 0:Ut[`${_t}`]);if(rt!=null&&rt.name)return{name:String(rt.name),icon:rt==null?void 0:rt.icon};const je=(we==null?void 0:we[`b${_t}`])||(we==null?void 0:we[`${_t}`]);return je!=null&&je.name?{name:String(je.name),icon:je==null?void 0:je.icon}:{name:`Skill ${_t}`,icon:void 0}},Bt=new Map;(Array.isArray(re==null?void 0:re.targets)?re.targets:[]).forEach($t=>{!$t||$t.isFake||$t.enemyPlayer===!1||vn(($t==null?void 0:$t.profession)||($t==null?void 0:$t.name)||($t==null?void 0:$t.id))!==Tn||Array.isArray($t==null?void 0:$t.totalDamageDist)&&$t.totalDamageDist.forEach(_t=>{Array.isArray(_t)&&_t.forEach(Ut=>{if(!Ut||typeof Ut!="object"||Ut.indirectDamage)return;const we=Number(Ut.totalDamage||0);if(!Number.isFinite(we)||we<=0)return;const rt=Number(Ut.connectedHits||Ut.hits||0),je=xt(Ut.id),zt=je.name,Xt=Bt.get(zt)||{skillName:zt,damage:0,hits:0,icon:je.icon};Xt.damage+=we,Xt.hits+=Number.isFinite(rt)?rt:0,!Xt.icon&&je.icon&&(Xt.icon=je.icon),Bt.set(zt,Xt)})})});const Ht=Array.from(Bt.values()).filter($t=>Number(($t==null?void 0:$t.damage)||0)>0).sort(($t,_t)=>Number(_t.damage||0)-Number($t.damage||0)).slice(0,30);if(Ht.length>0)return Ht}const xe=Number((ge==null?void 0:ge.hit)||0);return xe<=0?me:[{skillName:String((ge==null?void 0:ge.skillName)||"Unknown Skill"),damage:xe,hits:1,icon:void 0}]},[_r,Tn,$o,gi.fights,e]),K6=g.useMemo(()=>{var D;if(qn===null||!Rt)return[];const W=Fo.find(xe=>xe.index===qn);if(!W)return[];const ie=wm(hi.fights,W),ge=il((D=ie==null?void 0:ie.values)==null?void 0:D[Rt]),me=[...(ge==null?void 0:ge.skillRows)||[]].filter(xe=>Number((xe==null?void 0:xe.damage)||0)>0||Number((xe==null?void 0:xe.downContribution)||0)>0).sort((xe,ut)=>Number(ut.damage||0)-Number(xe.damage||0)).slice(0,30);if(me.length>0)return me;const nt=e.find(xe=>String((xe==null?void 0:xe.filePath)||(xe==null?void 0:xe.id)||"")===String(W.fightId||"")),re=nt==null?void 0:nt.details;if(re&&Rt){const[xe,ut]=Rt.split("|"),Ke=xt=>{const Bt=Number(xt);if(!Number.isFinite(Bt))return{name:String(xt||"Unknown Skill"),icon:void 0};const Ht=(re==null?void 0:re.skillMap)||{},$t=(re==null?void 0:re.buffMap)||{},_t=(Ht==null?void 0:Ht[`s${Bt}`])||(Ht==null?void 0:Ht[`${Bt}`]);if(_t!=null&&_t.name)return{name:String(_t.name),icon:_t==null?void 0:_t.icon};const Ut=($t==null?void 0:$t[`b${Bt}`])||($t==null?void 0:$t[`${Bt}`]);return Ut!=null&&Ut.name?{name:String(Ut.name),icon:Ut==null?void 0:Ut.icon}:{name:`Skill ${Bt}`,icon:void 0}},Ft=new Map,vn=(Array.isArray(re==null?void 0:re.players)?re.players:[]).find(xt=>{if(xt!=null&&xt.notInSquad)return!1;const Bt=String((xt==null?void 0:xt.account)||(xt==null?void 0:xt.name)||""),Ht=String((xt==null?void 0:xt.profession)||"Unknown"),$t=Bt===String(xe||""),_t=Ht===String(ut||"");return $t&&_t})||null;if(vn){const xt=vn,Bt=_t=>{if(!_t||typeof _t!="object"||_t.indirectDamage)return;const Ut=Number(_t.totalDamage||0),we=Number(_t.downContribution||0);if((!Number.isFinite(Ut)||Ut<=0)&&(!Number.isFinite(we)||we<=0))return;const rt=Number(_t.connectedHits||_t.hits||0),je=Ke(_t.id),zt=Ft.get(je.name)||{skillName:je.name,damage:0,downContribution:0,hits:0,icon:je.icon};zt.damage+=Number.isFinite(Ut)?Ut:0,zt.downContribution+=Number.isFinite(we)?we:0,zt.hits+=Number.isFinite(rt)?rt:0,!zt.icon&&je.icon&&(zt.icon=je.icon),Ft.set(je.name,zt)},Ht=new Map;Array.isArray(xt==null?void 0:xt.targetDamageDist)&&xt.targetDamageDist.forEach(_t=>{Array.isArray(_t)&&_t.forEach(Ut=>{Array.isArray(Ut)&&Ut.forEach(we=>{const rt=Number(we==null?void 0:we.id),je=Number((we==null?void 0:we.totalDamage)||0),zt=Number((we==null?void 0:we.downContribution)||0);if(Number.isFinite(rt)){const Xt=Ht.get(rt)||{damage:0,downContribution:0,hits:0};Xt.damage+=Number.isFinite(je)?je:0,Xt.downContribution+=Number.isFinite(zt)?zt:0,Xt.hits+=Number((we==null?void 0:we.connectedHits)||(we==null?void 0:we.hits)||0),Ht.set(rt,Xt)}Bt(we)})})}),!(re!=null&&re.detailedWvW)&&Array.isArray(xt==null?void 0:xt.totalDamageDist)&&xt.totalDamageDist.forEach(_t=>{Array.isArray(_t)&&_t.forEach(Ut=>{const we=Number(Ut==null?void 0:Ut.id);if(!Number.isFinite(we)){Bt(Ut);return}const rt=Ht.get(we);if(!rt){Bt(Ut);return}const je=Number((Ut==null?void 0:Ut.totalDamage)||0),zt=Number((Ut==null?void 0:Ut.downContribution)||0),Xt=Number((Ut==null?void 0:Ut.connectedHits)||(Ut==null?void 0:Ut.hits)||0),En=je-Number(rt.damage||0),tn=zt-Number(rt.downContribution||0),Mt=Xt-Number(rt.hits||0);En<=0&&tn<=0&&Mt<=0||Bt({...Ut,totalDamage:Math.max(0,En),downContribution:Math.max(0,tn),connectedHits:Math.max(0,Mt),hits:Math.max(0,Mt)})})});const $t=Array.from(Ft.values()).filter(_t=>Number((_t==null?void 0:_t.damage)||0)>0||Number((_t==null?void 0:_t.downContribution)||0)>0).sort((_t,Ut)=>Number(Ut.damage||0)-Number(_t.damage||0)).slice(0,30);if($t.length>0)return $t}}return me},[qn,Rt,Fo,hi.fights,e]);g.useEffect(()=>{if(cs.length===0){mi!==null&&ss(null),Lo!==null&&bm(null);return}if(!mi||!ov.has(mi)){const D=cs[0].key;ss(D),nl(null)}},[cs,ov,mi,Lo]),g.useEffect(()=>{if(!us||us.skills.length===0){Lo!==null&&bm(null);return}const D=us.skills.some(W=>W.id===Lo);(!Lo||!D)&&bm(us.skills[0].id)},[us,Lo]),g.useEffect(()=>{if(fu.length===0){rc!==null&&iv(null),ls!==null&&xm(null);return}if(!rc||!sv.has(rc)){const D=fu[0].profession;iv(D),a2(null)}},[fu,sv,rc,ls]),g.useEffect(()=>{if(!al||al.skills.length===0){ls!==null&&xm(null);return}const D=al.skills.some(W=>W.id===ls);(!ls||!D)&&xm(al.skills[0].id)},[al,ls]),g.useEffect(()=>{if(hi.players.length===0){Rt!==null&&ra(null);return}(!Rt||!Rd.has(Rt))&&Rt!==null&&ra(null)},[hi.players,Rd,Rt]),g.useEffect(()=>{Ja(null)},[Rt,zn,qr]),g.useEffect(()=>{qn!==null&&(Fo.some(D=>D.index===qn)||Ja(null))},[Fo,qn]),g.useEffect(()=>{if(gi.players.length===0){Tn!==null&&Li(null);return}(!Tn||!lv.has(Tn))&&Tn!==null&&Li(null)},[gi.players,lv,Tn]),g.useEffect(()=>{oo(null)},[Tn,_n]),g.useEffect(()=>{_r!==null&&($o.some(D=>D.index===_r)||oo(null))},[$o,_r]);const G6=g.useMemo(()=>new Set(Bn),[Bn]),Nm=Ee?ht:O5,{playerMapByKey:ds,playerTotalsForSkill:pu,skillChartData:Y6,skillChartMaxY:Q6,groupedSkillUsagePlayers:X6}=dV({skillUsageData:Nm,selectedSkillId:Yt,selectedPlayers:G6,skillUsageView:Un==="perSecond"?"perSecond":"total"}),i2=g.useMemo(()=>{const D=new Map,W=nt=>{nt.forEach(re=>{const xe=Nu(re==null?void 0:re.name)||(re==null?void 0:re.name);xe&&re!=null&&re.icon&&!D.has(xe)&&D.set(xe,re.icon)})},ie=nt=>{nt.forEach(re=>{Object.entries((re==null?void 0:re.conditions)||{}).forEach(([xe,ut])=>{const Ke=Nu(xe)||xe;ut!=null&&ut.icon&&!D.has(Ke)&&D.set(Ke,ut.icon)})})},ge=nt=>{const re=new Map;return nt.forEach(xe=>{const ut=Nu(xe==null?void 0:xe.name)||(xe==null?void 0:xe.name);if(!ut)return;const Ke=re.get(ut)||{name:ut,icon:(xe==null?void 0:xe.icon)||D.get(ut)||Qm(ut),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0};Ke.applications+=Number((xe==null?void 0:xe.applications)||0),Ke.damage+=Number((xe==null?void 0:xe.damage)||0),xe!=null&&xe.applicationsFromUptime&&(Ke.applicationsFromUptime+=Number(xe.applicationsFromUptime||0)),xe!=null&&xe.applicationsFromBuffs&&(Ke.applicationsFromBuffs+=Number(xe.applicationsFromBuffs||0)),xe!=null&&xe.applicationsFromBuffsActive&&(Ke.applicationsFromBuffsActive+=Number(xe.applicationsFromBuffsActive||0)),!Ke.icon&&xe!=null&&xe.icon&&(Ke.icon=xe.icon),Ke.icon||(Ke.icon=Qm(ut)),re.set(ut,Ke)}),Array.from(re.values())},me=nt=>nt.map(re=>{const xe={};return Object.entries((re==null?void 0:re.conditions)||{}).forEach(([ut,Ke])=>{const Ft=Nu(ut)||ut;if(!Ft)return;const vn=xe[Ft]||{icon:(Ke==null?void 0:Ke.icon)||D.get(Ft)||Qm(Ft),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0,skills:{}};vn.applications+=Number((Ke==null?void 0:Ke.applications)||0),vn.damage+=Number((Ke==null?void 0:Ke.damage)||0),Ke!=null&&Ke.applicationsFromUptime&&(vn.applicationsFromUptime+=Number(Ke.applicationsFromUptime||0)),Ke!=null&&Ke.applicationsFromBuffs&&(vn.applicationsFromBuffs+=Number(Ke.applicationsFromBuffs||0)),Ke!=null&&Ke.applicationsFromBuffsActive&&(vn.applicationsFromBuffsActive+=Number(Ke.applicationsFromBuffsActive||0)),!vn.icon&&Ke!=null&&Ke.icon&&(vn.icon=Ke.icon),vn.icon||(vn.icon=Qm(Ft)),Object.values((Ke==null?void 0:Ke.skills)||{}).forEach(xt=>{const Bt=(xt==null?void 0:xt.name)||"Unknown",Ht=vn.skills[Bt]||{name:Bt,hits:0,damage:0,icon:xt==null?void 0:xt.icon};Ht.hits+=Number((xt==null?void 0:xt.hits)||0),Ht.damage+=Number((xt==null?void 0:xt.damage)||0),!Ht.icon&&xt!=null&&xt.icon&&(Ht.icon=xt.icon),vn.skills[Bt]=Ht}),xe[Ft]=vn}),{...re,conditions:xe}});return(nt,re)=>(W(nt),ie(re),{summary:ge(nt),players:me(re)})},[]),o2=Ie?te==="outgoing"?ee.outgoingConditionSummary:ee.incomingConditionSummary:db,s2=Ie?te==="outgoing"?ee.outgoingConditionPlayers:ee.incomingConditionPlayers:db,{summary:jm,players:J6}=g.useMemo(()=>i2(o2||[],s2||[]),[i2,o2,s2]);g.useEffect(()=>{if(!Ie||lt==="all"||jm.some(W=>W.name===lt))return;const D=Nu(lt);D&&jm.some(W=>W.name===D)?Ce(D):Ce("all")},[lt,jm,Ce,Ie]);const Z6=g.useMemo(()=>{const D={};return pu.forEach((W,ie)=>{const ge=ds.get(ie);if(!ge)return;const me=ge.profession;(!D[me]||W>D[me])&&(D[me]=W)}),D},[pu,ds]),Ot=V,Kn=g.useCallback((D,W)=>{const ie=Ot(D);return d?`${W} ${ie?"":"hidden"}`:`${W} transition-[opacity,transform] duration-700 ease-in-out ${ie?"opacity-100 translate-y-0 max-h-[99999px]":"opacity-0 -translate-y-2 max-h-0 h-0 min-h-0 overflow-hidden pointer-events-none p-0 !p-0 m-0 !mb-0 !mt-0 border-0 !border-0 border-transparent"}`},[Ot,d]),l2=g.useMemo(()=>Jie.find(D=>Ot(D))||null,[Ot]),Gn=g.useCallback(D=>D===l2,[l2]),eR=g.useMemo(()=>{const D=new Map,W=new Map;return Bn.forEach(ie=>{const ge=ds.get(ie);if(!ge)return;const me=pu.get(ie)??0,nt=W.get(ge.profession)||[];nt.push({key:ie,total:me}),W.set(ge.profession,nt)}),W.forEach(ie=>{ie.sort((ge,me)=>me.total-ge.total),ie.forEach((ge,me)=>{D.set(ge.key,me)})}),D},[Bn,ds,pu]),c2=["0","12 3","8 3","6 3","4 3","2 3"],tR=D=>{const W=ds.get(D),ie=Tl((W==null?void 0:W.profession)||""),ge=pu.get(D)??0,me=W!=null&&W.profession&&Z6[W.profession]||1,nt=.35+(me>0?ge/me:1)*.65;return Cm(ie,nt)},nR=D=>{const W=eR.get(D)??0;return c2[W%c2.length]},rR=(D,W,ie)=>{if(!ie)return tR(D);const ge=ds.get(D),me=Tl((ge==null?void 0:ge.profession)||"");return W?Cm(me,1.2):Cm(me,.5)},Cm=(D,W)=>{const ie=D.replace("#","");if(ie.length!==6)return D;const ge=Ke=>Math.max(0,Math.min(255,Ke)),me=Ke=>Number.parseInt(ie.slice(Ke,Ke+2),16),nt=Ke=>ge(Math.round(Ke)).toString(16).padStart(2,"0"),re=me(0),xe=me(2),ut=me(4);return`#${nt(re*W)}${nt(xe*W)}${nt(ut*W)}`},u2=g.useMemo(()=>{const D=new Map;return Nm.skillOptions.forEach(W=>{D.set(W.id,{name:W.name,icon:W.icon})}),D},[Nm.skillOptions]),Bd=g.useMemo(()=>{var D;if(Bn.length===0)return[];const W=new Map,ie=new Map;let ge=0;Bn.forEach(Ke=>{const Ft=ds.get(Ke);if(!Ft)return;ge+=Ft.totalActiveSeconds||0,Object.entries(Ft.skillTotals||{}).forEach(([xt,Bt])=>{W.set(xt,(W.get(xt)||0)+Number(Bt||0))});const vn=Ft.profession||"Unknown";ie.set(vn,(ie.get(vn)||0)+(Ft.totalActiveSeconds||0))});const me=Qe.trim().toLowerCase(),nt=Un==="perSecond",re=((D=Array.from(ie.entries()).sort((Ke,Ft)=>Ft[1]-Ke[1])[0])==null?void 0:D[0])||"Unknown",xe=Tl(re),ut="#64748b";return Array.from(W.entries()).map(([Ke,Ft])=>{const vn=u2.get(Ke),xt=(vn==null?void 0:vn.name)||Ke,Bt=nt&&ge>0?Ft/ge:Ft;return{skillId:Ke,name:xt,icon:vn==null?void 0:vn.icon,total:Bt}}).filter(Ke=>Ke.total>0&&(!me||Ke.name.toLowerCase().includes(me))).sort((Ke,Ft)=>Ft.total-Ke.total).map((Ke,Ft)=>({...Ke,color:Ft===0?xe:Cm(xe,.85-Math.min(Ft*.06,.4))||ut}))},[Bn,ds,Qe,Un,u2]);g.useEffect(()=>{if(Ee){if(Bd.length===0){Yt!==null&&yn(null);return}(!Yt||!Bd.some(D=>D.skillId===Yt))&&yn(Bd[0].skillId)}},[Bd,Yt,yn,Ee]);const Mm=Nm.skillOptions.find(D=>D.id===Yt),aR=(Mm==null?void 0:Mm.name)||"",iR=(Mm==null?void 0:Mm.icon)||null,oR=Pt&&!!Yt&&Bn.length>0,Am="__all__",sR=Pt&&rl.length>0,ol=g.useMemo(()=>rl.find(D=>D.profession===Io)??null,[rl,Io]),lR=Lr===Am,cR=g.useMemo(()=>{var D;return((D=ol==null?void 0:ol.skills)==null?void 0:D.find(W=>W.id===Lr))??null},[ol,Lr]);g.useEffect(()=>{if(rl.length===0){Io!==null&&Aa(null),uu!==null&&tc(null);return}if(!Io||!rl.some(D=>D.profession===Io)){const D=rl[0].profession;Aa(D),tc(null)}},[rl,Io,uu]),g.useEffect(()=>{if(!ol||ol.skills.length===0){Lr!==null&&_o(null);return}const D=ol.skills.some(W=>W.id===Lr);(!Lr||!D&&Lr!==Am)&&_o(Am)},[ol,Lr]);const uR=D=>{yr(W=>W.includes(D)?W.filter(ie=>ie!==D):[...W,D])},dR=D=>{yr(W=>W.filter(ie=>ie!==D))},fR=g.useMemo(()=>{const D=Po.trim().toLowerCase(),W=ee.boonTables||[];return D?W.filter(ie=>ie.name.toLowerCase().includes(D)):W},[ee.boonTables,Po]),pR=g.useMemo(()=>An?(ee.boonTables||[]).find(D=>D.id===An)??null:null,[ee.boonTables,An]),Em=D=>{var W,ie,ge,me;return{selfBuffs:D!=null&&D.totals&&typeof D.totals=="object"?Number(((W=D==null?void 0:D.totals)==null?void 0:W.selfBuffs)||0):0,groupBuffs:D!=null&&D.totals&&typeof D.totals=="object"?Number(((ie=D==null?void 0:D.totals)==null?void 0:ie.groupBuffs)||0):0,squadBuffs:D!=null&&D.totals&&typeof D.totals=="object"?Number(((ge=D==null?void 0:D.totals)==null?void 0:ge.squadBuffs)||0):Number((D==null?void 0:D.total)||0),totalBuffs:D!=null&&D.totals&&typeof D.totals=="object"?Number((((me=D==null?void 0:D.totals)==null?void 0:me.totalBuffs)??(D==null?void 0:D.total))||0):Number((D==null?void 0:D.total)||0)}},zd=(D,W)=>{const ie=Em(D),ge=Number((ie==null?void 0:ie[W])||0);return Number.isFinite(ge)?Math.max(0,ge):0},d2=pa==="selfBuffs"?"Self":pa==="groupBuffs"?"Group":pa==="squadBuffs"?"Squad":"All",fs=g.useMemo(()=>(Array.isArray(ee==null?void 0:ee.boonTimeline)?ee.boonTimeline:[]).map(D=>({id:String((D==null?void 0:D.id)||""),name:String((D==null?void 0:D.name)||(D==null?void 0:D.id)||"Unknown Boon"),icon:typeof(D==null?void 0:D.icon)=="string"?D.icon:void 0,stacking:!!(D!=null&&D.stacking),players:(Array.isArray(D==null?void 0:D.players)?D.players:[]).map(W=>({key:String((W==null?void 0:W.key)||""),account:String((W==null?void 0:W.account)||(W==null?void 0:W.displayName)||"Unknown"),displayName:String((W==null?void 0:W.displayName)||(W==null?void 0:W.account)||"Unknown"),profession:String((W==null?void 0:W.profession)||"Unknown"),professionList:Array.isArray(W==null?void 0:W.professionList)?W.professionList.map(ie=>String(ie||"")):[],logs:Number((W==null?void 0:W.logs)||0),totals:Em(W)})),fights:(Array.isArray(D==null?void 0:D.fights)?D.fights:[]).map((W,ie)=>({id:String((W==null?void 0:W.id)||`fight-${ie+1}`),shortLabel:String((W==null?void 0:W.shortLabel)||`F${ie+1}`),fullLabel:String((W==null?void 0:W.fullLabel)||`Fight ${ie+1}`),timestamp:Number((W==null?void 0:W.timestamp)||0),durationMs:Number((W==null?void 0:W.durationMs)||0),maxTotal:Number((W==null?void 0:W.maxTotal)||0),values:W!=null&&W.values&&typeof W.values=="object"?Object.fromEntries(Object.entries(W.values).map(([ge,me])=>[String(ge||""),{total:Number((me==null?void 0:me.total)||0),totals:Em(me),bucketWeights5s:Array.isArray(me==null?void 0:me.bucketWeights5s)?me.bucketWeights5s.map(nt=>Number(nt||0)):[],buckets5s:Array.isArray(me==null?void 0:me.buckets5s)?me.buckets5s.map(nt=>Number(nt||0)):[]}])):{}}))})).filter(D=>D.id&&D.players.length>0&&D.fights.length>0),[ee.boonTimeline]),mR=g.useMemo(()=>{const D=ao.trim().toLowerCase();return D?fs.filter(W=>String((W==null?void 0:W.name)||"").toLowerCase().includes(D)):fs},[fs,ao]),yi=g.useMemo(()=>Hr&&fs.find(D=>D.id===Hr)||null,[fs,Hr]),Dm=g.useMemo(()=>[...Array.isArray(yi==null?void 0:yi.players)?yi.players:[]].map(D=>({...D,total:zd(D,pa)})).sort((D,W)=>Number(W.total||0)-Number(D.total||0)||String(D.displayName||"").localeCompare(String(W.displayName||""))),[yi,pa]),hR=g.useMemo(()=>{const D=Dm,W=is.trim().toLowerCase();return W?D.filter(ie=>String((ie==null?void 0:ie.displayName)||"").toLowerCase().includes(W)||String((ie==null?void 0:ie.account)||"").toLowerCase().includes(W)||String((ie==null?void 0:ie.profession)||"").toLowerCase().includes(W)):D},[Dm,is]),gR=g.useMemo(()=>{const D=new Map;return Dm.forEach(W=>{D.set(String((W==null?void 0:W.key)||""),W)}),D},[Dm]),yR=Zn&&gR.get(Zn)||null,mu=g.useMemo(()=>!yi||!Zn?[]:(yi.fights||[]).map((D,W)=>{var ie;const ge=(ie=D==null?void 0:D.values)==null?void 0:ie[Zn],me=Object.entries(D!=null&&D.values&&typeof D.values=="object"?D.values:{}).filter(([nt])=>String(nt||"")!=="__all__").reduce((nt,[,re])=>Math.max(nt,zd(re,pa)),0);return{index:W,fightId:String((D==null?void 0:D.id)||""),shortLabel:String((D==null?void 0:D.shortLabel)||`F${W+1}`),fullLabel:String((D==null?void 0:D.fullLabel)||`Fight ${W+1}`),timestamp:Number((D==null?void 0:D.timestamp)||0),total:zd(ge,pa),maxTotal:me>0?me:Number((D==null?void 0:D.maxTotal)||0)}}),[yi,Zn,pa]),vR=g.useMemo(()=>{const D=mu.reduce((ie,ge)=>Math.max(ie,Number((ge==null?void 0:ge.total)||0)),0),W=mu.reduce((ie,ge)=>Math.max(ie,Number((ge==null?void 0:ge.maxTotal)||0)),0);return Math.max(1,D,W)},[mu]),f2=g.useMemo(()=>{var D;const W=To===null?null:mu.find(xt=>xt.index===To)||null;if(!W||!yi||!Zn)return{title:"Fight Breakdown",data:[]};const ie=yi.fights[W.index],ge=((D=ie==null?void 0:ie.values)==null?void 0:D[Zn])||{total:0,totals:{selfBuffs:0,groupBuffs:0,squadBuffs:0,totalBuffs:0},bucketWeights5s:[],buckets5s:[]},me=zd(ge,pa),nt=Array.isArray(ge==null?void 0:ge.bucketWeights5s)?ge.bucketWeights5s:[],re=Array.isArray(ge==null?void 0:ge.buckets5s)?ge.buckets5s:[],xe=Math.max(nt.length,re.length,Math.ceil(Math.max(0,Number((ie==null?void 0:ie.durationMs)||0))/5e3),1),ut=Array.from({length:xe},(xt,Bt)=>Number(nt[Bt]||0)),Ke=ut.reduce((xt,Bt)=>xt+Number(Bt||0),0);let Ft=[];if(Ke>0){const xt=me>0?me/Ke:0;Ft=ut.map(Bt=>Number(Bt||0)*xt)}else if(re.length>0){const xt=Array.from({length:xe},(Bt,Ht)=>Number(re[Ht]||0));if(pa==="totalBuffs"||!(ge!=null&&ge.totals))Ft=xt;else{const Bt=zd({totals:Em(ge)},"totalBuffs"),Ht=Bt>0?me/Bt:0;Ft=xt.map($t=>Number($t||0)*Ht)}}else{const xt=me>0?me/Math.max(1,xe):0;Ft=Array.from({length:xe},()=>xt)}const vn=Array.from({length:xe},(xt,Bt)=>({label:`${Bt*5}s-${(Bt+1)*5}s`,value:Number(Ft[Bt]||0)}));return{title:`Fight Breakdown - ${W.shortLabel||"Fight"} (5s ${d2} Generation Buckets)`,data:vn}},[To,mu,yi,Zn,pa,d2]),bR=g.useMemo(()=>{const D=ec.trim().toLowerCase(),W=[...ee.specialTables||[]].sort((ie,ge)=>ie.name.localeCompare(ge.name));return D?W.filter(ie=>ie.name.toLowerCase().includes(D)):W},[ee.specialTables,ec]),so=g.useMemo(()=>[...ee.specialTables||[]].filter(D=>/\b(sigil|relic)\b/i.test(String((D==null?void 0:D.name)||""))).sort((D,W)=>D.name.localeCompare(W.name)),[ee.specialTables]),xR=g.useMemo(()=>{const D=X.trim().toLowerCase();return D?so.filter(W=>W.name.toLowerCase().includes(D)):so},[so,X]),wR=g.useMemo(()=>_i?(ee.specialTables||[]).find(D=>D.id===_i)??null:null,[ee.specialTables,_i]),kR=g.useMemo(()=>pi?so.find(D=>D.id===pi)??null:null,[so,pi]);g.useEffect(()=>{!ee.boonTables||ee.boonTables.length===0||(!An||!ee.boonTables.some(D=>D.id===An))&&Xl(ee.boonTables[0].id)},[ee.boonTables,An]),g.useEffect(()=>{if(fs.length===0){Hr!==null&&za(null);return}(!Hr||!fs.some(D=>D.id===Hr))&&za(fs[0].id)},[fs,Hr]),g.useEffect(()=>{var D;const W=(yi==null?void 0:yi.players)||[];if(W.length===0){Zn!==null&&io(null);return}const ie=((D=W.find(ge=>ge.key==="__all__"))==null?void 0:D.key)||W[0].key;(!Zn||!W.some(ge=>ge.key===Zn))&&io(ie)},[yi,Zn]),g.useEffect(()=>{Zl(null)},[Hr,Zn]),g.useEffect(()=>{!ee.specialTables||ee.specialTables.length===0||(!_i||!ee.specialTables.some(D=>D.id===_i))&&su(ee.specialTables[0].id)},[ee.specialTables,_i]),g.useEffect(()=>{if(!so||so.length===0){pi!==null&&Oo(null);return}(!pi||!so.some(D=>D.id===pi))&&Oo(so[0].id)},[so,pi]),g.useEffect(()=>{const D=()=>{const ie=window.getSelection();ie&&ie.rangeCount>0&&ie.removeAllRanges()},W=ie=>{var ge;const me=ie.target;(ge=me==null?void 0:me.closest)!=null&&ge.call(me,".recharts-wrapper")&&(ie.preventDefault(),D())};return document.addEventListener("selectstart",W),document.addEventListener("mousedown",W),document.addEventListener("mousemove",W),document.addEventListener("dragstart",W),()=>{document.removeEventListener("selectstart",W),document.removeEventListener("mousedown",W),document.removeEventListener("mousemove",W),document.removeEventListener("dragstart",W)}},[]);const ma=D=>{on.current&&(window.clearTimeout(on.current),on.current=null),en(!1),Xe(D)},Kr=()=>{Se&&(on.current&&window.clearTimeout(on.current),en(!0),on.current=window.setTimeout(()=>{Xe(null),en(!1),on.current=null},160))};g.useEffect(()=>{if(!Se)return;const D=ge=>{ge.key==="Escape"&&Kr()},W=document.body.style.overflow,ie=document.documentElement.style.overflow;return document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",window.addEventListener("keydown",D),()=>{window.removeEventListener("keydown",D),document.body.style.overflow=W,document.documentElement.style.overflow=ie}},[Se]);const p2=(D,W)=>{const ie=((W==null?void 0:W.value)||0)-((D==null?void 0:D.value)||0);return ie!==0?ie:String((D==null?void 0:D.name)||"").localeCompare(String((W==null?void 0:W.name)||""))},m2=Array.isArray(ee==null?void 0:ee.squadClassData)?ee.squadClassData:[],h2=Array.isArray(ee==null?void 0:ee.enemyClassData)?ee.enemyClassData:[],SR=Array.isArray(ee==null?void 0:ee.attendanceData)?ee.attendanceData:[],cv=Array.isArray(ee==null?void 0:ee.squadCompByFight)?ee.squadCompByFight:[],g2=Array.isArray(ee==null?void 0:ee.fightBreakdown)?ee.fightBreakdown:[],NR=g.useMemo(()=>{const D=new Map;return g2.forEach(W=>{const ie=String((W==null?void 0:W.id)||"");ie&&D.set(ie,W)}),cv.map(W=>{const ie=D.get(String((W==null?void 0:W.id)||""))||null;return{...W,enemyClassCounts:(ie==null?void 0:ie.enemyClassCounts)||{}}})},[cv,g2]),jR=g.useMemo(()=>[...m2].sort(p2),[m2]),CR=g.useMemo(()=>[...h2].sort(p2),[h2]),MR=u?"stats-view min-h-screen flex flex-col p-0 w-full max-w-none":"stats-view h-full flex flex-col p-1 w-full max-w-none overflow-hidden",AR=u?`stats-sections space-y-0 min-h-0 px-3 pb-3 pt-3 sm:px-4 sm:pb-4 sm:pt-4 rounded-xl border border-white/5 ${Se?"":"backdrop-blur-xl"}`:`flex-1 overflow-y-auto pr-2 space-y-6 min-h-0 border border-white/5 p-4 rounded-xl ${Se?"":"backdrop-blur-2xl"}`,y2=u&&p!=="matte"&&p!=="kinetic"?{backgroundColor:"rgba(3, 7, 18, 0.75)",backgroundImage:"linear-gradient(160deg, rgba(var(--accent-rgb), 0.12), rgba(var(--accent-rgb), 0.04) 70%)"}:u&&p==="kinetic"?{backgroundColor:"var(--bg-elevated)",backgroundImage:"none"}:void 0,ER=fe?{...y2||{},overflowY:"hidden"}:y2,DR=D=>Un==="perSecond"?D.toFixed(1):Math.round(D).toLocaleString(),PR=D=>D.toFixed(1),TR=D=>Math.round(D).toLocaleString(),OR=D=>typeof D=="number"&&Number.isFinite(D)?D.toFixed(1):"0.0",IR=Math.max(Math.max(0,Number(ee.total||0)),Math.max(0,Number(e.length||0)),Math.max(0,Number((h==null?void 0:h.total)||0))),ha=pie;return c.jsxs("div",{className:MR,children:[Se&&c.jsx("div",{className:`fixed inset-0 z-40 bg-black/70 backdrop-blur-md modal-backdrop ${vt?"modal-backdrop-exit":"modal-backdrop-enter"}`,onClick:Kr}),c.jsx(Gie,{embedded:u,dashboardTitle:f,totalLogs:IR,onBack:t,devMockAvailable:ve,devMockUploadState:We,onDevMockUpload:hr,uploadingWeb:O,onWebUpload:sn,sharing:Jn,canShareDiscord:m,onShare:dn}),c.jsx(Yie,{embedded:u,webUploadMessage:K,webUploadUrl:Q,webUploadBuildStatus:oe,webCopyStatus:Tt,setWebCopyStatus:rn}),c.jsx(Qie,{embedded:u,devMockAvailable:ve,devMockUploadState:We}),Z&&c.jsxs("div",{className:"stats-settling-banner mb-3 rounded-xl border px-4 py-3 text-xs",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3",children:[c.jsx("div",{className:"stats-settling-banner__title font-semibold",children:F}),c.jsx("div",{className:"stats-settling-banner__meta text-[11px]",children:se})]}),_.active&&c.jsx("div",{className:"stats-settling-banner__track mt-2 h-1.5 overflow-hidden rounded-full",children:c.jsx("div",{className:"stats-settling-banner__bar h-full rounded-full transition-all duration-300",style:{width:`${_.progressPercent}%`}})}),R&&c.jsx("div",{className:"stats-settling-banner__meta mt-2 text-[11px] opacity-80",children:R})]}),c.jsxs("div",{className:`${u?"":"flex-1 min-h-0 flex"} relative ${fe?"stats-dashboard-loading-shell":""}`,children:[c.jsxs("div",{id:"stats-dashboard-container",ref:be,className:`${AR} ${u?"":"flex-1"} ${fe?"stats-dashboard-scroll-lock":""}`,style:ER,children:[c.jsxs(c.Fragment,{children:[Ot("overview")&&c.jsx(Tie,{stats:ee,isSectionVisible:Ot,isFirstVisibleSection:Gn,sectionClass:Kn}),Ot("fight-breakdown")&&c.jsx(Oie,{stats:ee,fightBreakdownTab:jn,setFightBreakdownTab:Qt,isSectionVisible:Ot,isFirstVisibleSection:Gn,sectionClass:Kn}),Ot("top-players")&&c.jsx(Lie,{stats:ee,showTopStats:j,showMvp:N,topStatsMode:P,expandedLeader:In,setExpandedLeader:gr,formatTopStatValue:ul,formatWithCommas:xa,isMvpStatEnabled:pn,renderProfessionIcon:ha,isSectionVisible:Ot,isFirstVisibleSection:Gn,sectionClass:Kn}),Ot("top-skills-outgoing")&&c.jsx(Fie,{stats:ee,topSkillsMetric:I,onTopSkillsMetricChange:Rn,isSectionVisible:Ot,isFirstVisibleSection:Gn,sectionClass:Kn}),Ot("squad-composition")&&c.jsx($ie,{sortedSquadClassData:jR,sortedEnemyClassData:CR,getProfessionIconPath:kc,isSectionVisible:Ot,isFirstVisibleSection:Gn,sectionClass:Kn}),Ot("attendance-ledger")&&c.jsx(Vie,{attendanceRows:SR,getProfessionIconPath:kc,isSectionVisible:Ot,isFirstVisibleSection:Gn,sectionClass:Kn}),Ot("squad-comp-fight")&&c.jsx(Hie,{fights:cv,getProfessionIconPath:kc,isSectionVisible:Ot,isFirstVisibleSection:Gn,sectionClass:Kn}),Ot("fight-comp")&&c.jsx(Kie,{fights:NR,getProfessionIconPath:kc,isSectionVisible:Ot,isFirstVisibleSection:Gn,sectionClass:Kn}),Ot("timeline")&&c.jsx(Rie,{timelineData:ee.timelineData,timelineFriendlyScope:it,setTimelineFriendlyScope:gt,isSectionVisible:Ot,isFirstVisibleSection:Gn,sectionClass:Kn}),Ot("map-distribution")&&c.jsx(Bie,{mapData:ee.mapData,isSectionVisible:Ot,isFirstVisibleSection:Gn,sectionClass:Kn}),Ot("offense-detailed")&&c.jsx(xie,{stats:ee,OFFENSE_METRICS:XT,roundCountStats:M,offenseSearch:He,setOffenseSearch:pt,activeOffenseStat:mt,setActiveOffenseStat:St,offenseViewMode:Ve,setOffenseViewMode:yt,formatWithCommas:xa,renderProfessionIcon:ha,expandedSection:Se,expandedSectionClosing:vt,openExpandedSection:ma,closeExpandedSection:Kr,isSectionVisible:Ot,isFirstVisibleSection:Gn,sectionClass:Kn,sidebarListClass:Vo}),Ot("player-breakdown")&&c.jsx(yie,{expandedSection:Se,expandedSectionClosing:vt,openExpandedSection:ma,closeExpandedSection:Kr,isSectionVisible:Ot,isFirstVisibleSection:Gn,sectionClass:Kn,sidebarListClass:Vo,viewMode:I6,setViewMode:_6,playerSkillBreakdowns:cs,classSkillBreakdowns:fu,activePlayerKey:mi,setActivePlayerKey:ss,expandedPlayerKey:nc,setExpandedPlayerKey:nl,activePlayerSkillId:Lo,setActivePlayerSkillId:bm,activeClassKey:rc,setActiveClassKey:iv,expandedClassKey:L6,setExpandedClassKey:a2,activeClassSkillId:ls,setActiveClassSkillId:xm,skillSearch:T6,setSkillSearch:O6,activePlayerBreakdown:us,activePlayerSkill:$6,activeClassBreakdown:al,activeClassSkill:R6,renderProfessionIcon:ha}),Ot("damage-breakdown")&&c.jsx(vie,{expandedSection:Se,expandedSectionClosing:vt,openExpandedSection:ma,closeExpandedSection:Kr,isSectionVisible:Ot,isFirstVisibleSection:Gn,sectionClass:Kn,playerSkillBreakdowns:cs,renderProfessionIcon:ha}),Ot("spike-damage")&&c.jsx(P5,{expandedSection:Se,expandedSectionClosing:vt,openExpandedSection:ma,closeExpandedSection:Kr,isSectionVisible:Ot,isFirstVisibleSection:Gn,sectionClass:Kn,spikePlayerFilter:rr,setSpikePlayerFilter:A,groupedSpikePlayers:B6,spikeMode:zn,setSpikeMode:os,damageBasis:qr,setDamageBasis:lu,showDamageBasisToggle:!0,selectedSpikePlayerKey:Rt,setSelectedSpikePlayerKey:ra,selectedSpikePlayer:z6,spikeChartData:Fo,spikeChartMaxY:U6,selectedSpikeFightIndex:qn,setSelectedSpikeFightIndex:Ja,spikeDrilldownTitle:km.title,spikeDrilldownData:km.data,spikeDrilldownDownIndices:km.downIndices,spikeDrilldownDeathIndices:km.deathIndices,spikeFightSkillRows:K6,spikeFightSkillTitle:"Outgoing Skill Damage (Selected Fight)",formatWithCommas:xa,renderProfessionIcon:ha}),Ot("conditions-outgoing")&&c.jsx(wie,{conditionSummary:jm,conditionPlayers:J6,conditionSearch:Nn,setConditionSearch:Er,activeConditionName:lt,setActiveConditionName:Ce,conditionDirection:te,setConditionDirection:ue,conditionGridClass:Me,effectiveConditionSort:Oe,setConditionSort:at,showConditionDamage:wt,renderProfessionIcon:ha,expandedSection:Se,expandedSectionClosing:vt,openExpandedSection:ma,closeExpandedSection:Kr,isSectionVisible:Ot,isFirstVisibleSection:Gn,sectionClass:Kn,sidebarListClass:Vo}),Ot("defense-detailed")&&c.jsx(Sie,{stats:ee,DEFENSE_METRICS:JT,defenseSearch:Gt,setDefenseSearch:It,activeDefenseStat:Lt,setActiveDefenseStat:At,defenseViewMode:ft,setDefenseViewMode:Re,roundCountStats:M,formatWithCommas:xa,renderProfessionIcon:ha,expandedSection:Se,expandedSectionClosing:vt,openExpandedSection:ma,closeExpandedSection:Kr,isSectionVisible:Ot,isFirstVisibleSection:Gn,sectionClass:Kn,sidebarListClass:Vo}),Ot("incoming-strike-damage")&&c.jsx(P5,{sectionId:"incoming-strike-damage",title:"Incoming Strike Damage",subtitle:"Select one enemy class to chart incoming strike pressure per fight.",listTitle:"Enemy Classes",searchPlaceholder:"Search enemy class",titleIconClassName:"text-cyan-300",expandedSection:Se,expandedSectionClosing:vt,openExpandedSection:ma,closeExpandedSection:Kr,isSectionVisible:Ot,isFirstVisibleSection:Gn,sectionClass:Kn,spikePlayerFilter:L,setSpikePlayerFilter:Y,groupedSpikePlayers:V6,spikeMode:_n,setSpikeMode:tl,selectedSpikePlayerKey:Tn,setSelectedSpikePlayerKey:Li,selectedSpikePlayer:W6,spikeChartData:$o,spikeChartMaxY:H6,selectedSpikeFightIndex:_r,setSelectedSpikeFightIndex:oo,spikeDrilldownTitle:Sm.title,spikeDrilldownData:Sm.data,spikeDrilldownDownIndices:Sm.downIndices,spikeDrilldownDeathIndices:Sm.deathIndices,spikeFightSkillRows:q6,spikeFightSkillTitle:"Incoming Skill Damage (Selected Fight)",formatWithCommas:xa,renderProfessionIcon:ha}),Ot("defense-mitigation")&&c.jsx(Nie,{stats:ee,DAMAGE_MITIGATION_METRICS:f8,damageMitigationSearch:Ct,setDamageMitigationSearch:mn,activeDamageMitigationStat:Ge,setActiveDamageMitigationStat:Le,damageMitigationViewMode:Ze,setDamageMitigationViewMode:Ne,damageMitigationScope:kt,setDamageMitigationScope:fn,roundCountStats:M,formatWithCommas:xa,renderProfessionIcon:ha,expandedSection:Se,expandedSectionClosing:vt,openExpandedSection:ma,closeExpandedSection:Kr,isSectionVisible:Ot,isFirstVisibleSection:Gn,sectionClass:Kn,sidebarListClass:Vo}),Ot("boon-output")&&c.jsx(kie,{stats:ee,activeBoonCategory:da,setActiveBoonCategory:D=>Ir(D),activeBoonMetric:ou,setActiveBoonMetric:Jl,activeBoonTab:An,setActiveBoonTab:Xl,activeBoonTable:pR,filteredBoonTables:fR,boonSearch:Po,setBoonSearch:Ma,formatBoonMetricDisplay:V8,getBoonMetricValue:u3,renderProfessionIcon:ha,roundCountStats:M,expandedSection:Se,expandedSectionClosing:vt,openExpandedSection:ma,closeExpandedSection:Kr,isSectionVisible:Ot,isFirstVisibleSection:Gn,sectionClass:Kn,sidebarListClass:Vo}),Ot("boon-timeline")&&c.jsx(bie,{expandedSection:Se,expandedSectionClosing:vt,openExpandedSection:ma,closeExpandedSection:Kr,isSectionVisible:Ot,isFirstVisibleSection:Gn,sectionClass:Kn,boonSearch:ao,setBoonSearch:fa,boons:mR,activeBoonId:Hr,setActiveBoonId:za,timelineScope:pa,setTimelineScope:Zs,playerFilter:is,setPlayerFilter:Ii,players:hR,selectedPlayerKey:Zn,setSelectedPlayerKey:io,selectedPlayer:yR,chartData:mu,chartMaxY:vR,selectedFightIndex:To,setSelectedFightIndex:Zl,drilldownTitle:f2.title,drilldownData:f2.data,formatWithCommas:xa,renderProfessionIcon:ha}),Ot("support-detailed")&&c.jsx(jie,{stats:ee,SUPPORT_METRICS:ZT,supportSearch:Fe,setSupportSearch:ke,activeSupportStat:Ae,setActiveSupportStat:Pe,supportViewMode:Be,setSupportViewMode:dt,cleanseScope:ct,setCleanseScope:Te,roundCountStats:M,formatWithCommas:xa,renderProfessionIcon:ha,expandedSection:Se,expandedSectionClosing:vt,openExpandedSection:ma,closeExpandedSection:Kr,isSectionVisible:Ot,isFirstVisibleSection:Gn,sectionClass:Kn,sidebarListClass:Vo}),Ot("healing-stats")&&c.jsx(Cie,{stats:ee,HEALING_METRICS:p8,activeHealingMetric:Ye,setActiveHealingMetric:pe,healingCategory:Ue,setHealingCategory:et,activeResUtilitySkill:ce,setActiveResUtilitySkill:$e,skillUsageData:ht,formatWithCommas:xa,renderProfessionIcon:ha,expandedSection:Se,expandedSectionClosing:vt,openExpandedSection:ma,closeExpandedSection:Kr,isSectionVisible:Ot,isFirstVisibleSection:Gn,sectionClass:Kn}),Ot("fight-diff-mode")&&c.jsx(Pie,{stats:ee,formatWithCommas:xa,expandedSection:Se,expandedSectionClosing:vt,openExpandedSection:ma,closeExpandedSection:Kr,isSectionVisible:Ot,isFirstVisibleSection:Gn,sectionClass:Kn}),Ot("special-buffs")&&c.jsx(Aie,{stats:ee,specialSearch:ec,setSpecialSearch:el,filteredSpecialTables:bR,activeSpecialTab:_i,setActiveSpecialTab:su,activeSpecialTable:wR,formatWithCommas:xa,renderProfessionIcon:ha,expandedSection:Se,expandedSectionClosing:vt,openExpandedSection:ma,closeExpandedSection:Kr,isSectionVisible:Ot,isFirstVisibleSection:Gn,sectionClass:Kn,sidebarListClass:Vo}),Ot("sigil-relic-uptime")&&c.jsx(Die,{hasSigilRelicTables:so.length>0,sigilRelicSearch:X,setSigilRelicSearch:ye,filteredSigilRelicTables:xR,activeSigilRelicTab:pi,setActiveSigilRelicTab:Oo,activeSigilRelicTable:kR,formatWithCommas:xa,renderProfessionIcon:ha,expandedSection:Se,expandedSectionClosing:vt,openExpandedSection:ma,closeExpandedSection:Kr,isSectionVisible:Ot,isFirstVisibleSection:Gn,sectionClass:Kn,sidebarListClass:Vo}),Ot("skill-usage")&&c.jsx(mie,{expandedSection:Se,expandedSectionClosing:vt,openExpandedSection:ma,closeExpandedSection:Kr,isSectionVisible:Ot,isFirstVisibleSection:Gn,sectionClass:Kn,selectedPlayers:Bn,setSelectedPlayers:yr,removeSelectedPlayer:dR,playerMapByKey:ds,groupedSkillUsagePlayers:X6,expandedSkillUsageClass:cu,setExpandedSkillUsageClass:ym,togglePlayerSelection:uR,skillUsagePlayerFilter:an,setSkillUsagePlayerFilter:ln,skillUsageView:Un,setSkillUsageView:Ua,skillUsageData:ht,skillUsageSkillFilter:Qe,setSkillUsageSkillFilter:Hn,selectedSkillId:Yt,setSelectedSkillId:yn,skillBarData:Bd,selectedSkillName:aR,selectedSkillIcon:iR,skillUsageReady:oR,skillUsageAvailable:Pt,isSkillUsagePerSecond:Fi,skillChartData:Y6,skillChartMaxY:Q6,playerTotalsForSkill:pu,hoveredSkillPlayer:qe,setHoveredSkillPlayer:ze,getLineStrokeColor:rR,getLineDashForPlayer:nR,formatSkillUsageValue:DR,renderProfessionIcon:ha}),Ot("apm-stats")&&c.jsx(gie,{expandedSection:Se,expandedSectionClosing:vt,openExpandedSection:ma,closeExpandedSection:Kr,isSectionVisible:Ot,isFirstVisibleSection:Gn,sectionClass:Kn,sidebarListClass:Vo,apmSpecAvailable:sR,skillUsageAvailable:Pt,apmSpecTables:rl,activeApmSpec:Io,setActiveApmSpec:Aa,expandedApmSpec:uu,setExpandedApmSpec:tc,activeApmSkillId:Lr,setActiveApmSkillId:_o,ALL_SKILLS_KEY:Am,apmSkillSearch:du,setApmSkillSearch:Za,activeApmSpecTable:ol,activeApmSkill:cR,isAllApmSkills:lR,apmView:$d,setApmView:vm,formatApmValue:OR,formatCastRateValue:PR,formatCastCountValue:TR,renderProfessionIcon:ha})]}),!u&&c.jsx("div",{className:"h-24","aria-hidden":"true"})]}),fe&&c.jsx("div",{className:"stats-dashboard-loading-overlay","aria-hidden":"true"})]})]})}const eoe="Arcane",yN="CRT",p0="MatteSlate",m0="KineticPaper",Of="KineticPaperDark",zh={id:eoe,label:"Arcane",rgb:"136, 116, 255",pattern:"radial-gradient(at 0% 0%, hsla(250, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(220, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 65%, 20%, 1) 0, transparent 70%)"},toe={id:p0,label:"Matte Slate",rgb:"93, 163, 194",pattern:"linear-gradient(to bottom, #222629, #222629)"},noe={id:m0,label:"Kinetic Paper",rgb:"154, 133, 99",pattern:"linear-gradient(to bottom, #e9e3d8, #e9e3d8)"},roe={id:Of,label:"Kinetic Paper (Dark)",rgb:"142, 155, 214",pattern:"linear-gradient(to bottom, #2b3048, #2b3048)"},aoe=[zh,{id:"Amethyst",label:"Amethyst",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(270, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(260, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 60%, 30%, 1) 0, transparent 70%)"},{id:"Aurora",label:"Aurora",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(160, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 75%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 85%, 15%, 1) 0, transparent 70%)"},{id:"Autumn",label:"Autumn",rgb:"180, 130, 70",pattern:"radial-gradient(at 0% 0%, hsla(30, 65%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 60%, 15%, 1) 0, transparent 70%)"},{id:"Berry",label:"Berry",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(300, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 60%, 25%, 1) 0, transparent 70%)"},{id:"Bubblegum",label:"Bubblegum",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 85%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 75%, 20%, 1) 0, transparent 70%)"},{id:"Cherry",label:"Cherry",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(340, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(0, 60%, 25%, 1) 0, transparent 70%)"},{id:"Cobalt",label:"Cobalt",rgb:"59, 130, 246",pattern:"radial-gradient(at 0% 0%, hsla(220, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 15%, 1) 0, transparent 70%)"},{id:"Coffee",label:"Coffee",rgb:"253, 186, 116",pattern:"radial-gradient(at 0% 0%, hsla(25, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(35, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(30, 50%, 22%, 1) 0, transparent 70%)"},{id:"Cyberpunk",label:"Cyberpunk",rgb:"232, 121, 249",pattern:"radial-gradient(at 0% 0%, hsla(290, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 25%, 1) 0, transparent 70%)"},{id:"Dark Pearl",label:"Dark Pearl",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 30%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 40%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 30%, 25%, 1) 0, transparent 70%)"},{id:"Deep Space",label:"Deep Space",rgb:"99, 102, 241",pattern:"radial-gradient(at 0% 0%, hsla(245, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(300, 70%, 18%, 1) 0, transparent 70%)"},{id:"Electric Storm",label:"Electric Storm",rgb:"56, 189, 248",pattern:"radial-gradient(at 0% 0%, hsla(200, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(180, 80%, 20%, 1) 0, transparent 70%)"},{id:"Emerald",label:"Emerald",rgb:"52, 211, 153",pattern:"radial-gradient(at 0% 0%, hsla(150, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 70%, 25%, 1) 0, transparent 70%)"},{id:"Forest",label:"Forest",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(150, 70%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(120, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 80%, 18%, 1) 0, transparent 70%)"},{id:"Glacier",label:"Glacier",rgb:"125, 211, 252",pattern:"radial-gradient(at 0% 0%, hsla(190, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(210, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 30%, 1) 0, transparent 70%)"},{id:"Gold",label:"Gold",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(40, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 70%, 25%, 1) 0, transparent 70%)"},{id:"Jungle",label:"Jungle",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(145, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(175, 70%, 18%, 1) 0, transparent 70%)"},{id:"Lavender",label:"Lavender",rgb:"167, 139, 250",pattern:"radial-gradient(at 0% 0%, hsla(250, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(290, 50%, 30%, 1) 0, transparent 70%)"},{id:"Mermaid",label:"Mermaid",rgb:"45, 212, 191",pattern:"radial-gradient(at 0% 0%, hsla(175, 75%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 20%, 1) 0, transparent 70%)"},{id:"Midnight",label:"Midnight",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(260, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(320, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 60%, 20%, 1) 0, transparent 70%)"},{id:"Mint",label:"Mint",rgb:"110, 231, 183",pattern:"radial-gradient(at 0% 0%, hsla(160, 60%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(170, 50%, 25%, 1) 0, transparent 70%)"},{id:"Nebula",label:"Nebula",rgb:"196, 181, 253",pattern:"radial-gradient(at 0% 0%, hsla(260, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(310, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 60%, 25%, 1) 0, transparent 70%)"},{id:"Neon Nights",label:"Neon Nights",rgb:"236, 72, 153",pattern:"radial-gradient(at 0% 0%, hsla(330, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 95%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 80%, 18%, 1) 0, transparent 70%)"},{id:"Obsidian",label:"Obsidian",rgb:"226, 232, 240",pattern:"radial-gradient(at 0% 0%, hsla(0, 0%, 5%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 10%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 20%, 15%, 1) 0, transparent 70%)"},{id:"Ocean",label:"Ocean",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(210, 70%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 22%, 1) 0, transparent 70%)"},{id:"Royal",label:"Royal",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 60%, 30%, 1) 0, transparent 70%)"},{id:"Ruby",label:"Ruby",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 70%, 25%, 1) 0, transparent 70%)"},{id:"Sapphire",label:"Sapphire",rgb:"96, 165, 250",pattern:"radial-gradient(at 0% 0%, hsla(220, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(230, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 70%, 25%, 1) 0, transparent 70%)"},{id:"Shadow",label:"Shadow",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 20%, 10%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 10%, 20%, 1) 0, transparent 70%)"},{id:"Slate",label:"Slate",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(210, 30%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 40%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 30%, 30%, 1) 0, transparent 70%)"},{id:"Sunrise",label:"Sunrise",rgb:"251, 113, 133",pattern:"radial-gradient(at 0% 0%, hsla(350, 75%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 18%, 1) 0, transparent 70%)"},{id:"Sunset",label:"Sunset",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(10, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(330, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 50%, 25%, 1) 0, transparent 70%)"},{id:"Toxic",label:"Toxic",rgb:"163, 230, 53",pattern:"radial-gradient(at 0% 0%, hsla(100, 90%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(90, 90%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(120, 80%, 18%, 1) 0, transparent 70%)"},{id:"Tropics",label:"Tropics",rgb:"20, 184, 166",pattern:"radial-gradient(at 0% 0%, hsla(170, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(15, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 75%, 20%, 1) 0, transparent 70%)"},{id:"Ultraviolet",label:"Ultraviolet",rgb:"139, 92, 246",pattern:"radial-gradient(at 0% 0%, hsla(265, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 80%, 20%, 1) 0, transparent 70%)"},{id:"Vaporwave",label:"Vaporwave",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(280, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(170, 90%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 30%, 1) 0, transparent 70%)"},{id:"Volcano",label:"Volcano",rgb:"239, 68, 68",pattern:"radial-gradient(at 0% 0%, hsla(0, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(25, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(350, 75%, 15%, 1) 0, transparent 70%)"},{id:"Wildfire",label:"Wildfire",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(25, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 80%, 15%, 1) 0, transparent 70%)"}],ioe={id:yN,label:"CRT Hacker",rgb:"87, 255, 154",pattern:"radial-gradient(circle at 12% 10%, rgba(44, 120, 78, 0.42), transparent 60%), radial-gradient(circle at 88% 22%, rgba(22, 86, 52, 0.38), transparent 62%), linear-gradient(180deg, rgba(5, 12, 8, 0.92), rgba(3, 7, 6, 0.98))"},xf=[...aoe,ioe,toe,noe,roe];function ooe(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const soe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,loe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,coe={};function I5(e,t){return(coe.jsx?loe:soe).test(e)}const uoe=/[ \t\n\f\r]/g;function doe(e){return typeof e=="object"?e.type==="text"?_5(e.value):!1:_5(e)}function _5(e){return e.replace(uoe,"")===""}class um{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}um.prototype.normal={};um.prototype.property={};um.prototype.space=void 0;function iF(e,t){const n={},r={};for(const a of e)Object.assign(n,a.property),Object.assign(r,a.normal);return new um(n,r,t)}function Lw(e){return e.toLowerCase()}class fi{constructor(t,n){this.attribute=n,this.property=t}}fi.prototype.attribute="";fi.prototype.booleanish=!1;fi.prototype.boolean=!1;fi.prototype.commaOrSpaceSeparated=!1;fi.prototype.commaSeparated=!1;fi.prototype.defined=!1;fi.prototype.mustUseProperty=!1;fi.prototype.number=!1;fi.prototype.overloadedBoolean=!1;fi.prototype.property="";fi.prototype.spaceSeparated=!1;fi.prototype.space=void 0;let foe=0;const un=ru(),Rr=ru(),Fw=ru(),ot=ru(),er=ru(),ed=ru(),xi=ru();function ru(){return 2**++foe}const $w=Object.freeze(Object.defineProperty({__proto__:null,boolean:un,booleanish:Rr,commaOrSpaceSeparated:xi,commaSeparated:ed,number:ot,overloadedBoolean:Fw,spaceSeparated:er},Symbol.toStringTag,{value:"Module"})),fb=Object.keys($w);class vN extends fi{constructor(t,n,r,a){let i=-1;if(super(t,n),L5(this,"space",a),typeof r=="number")for(;++i<fb.length;){const o=fb[i];L5(this,fb[i],(r&$w[o])===$w[o])}}}vN.prototype.defined=!0;function L5(e,t,n){n&&(e[t]=n)}function Ld(e){const t={},n={};for(const[r,a]of Object.entries(e.properties)){const i=new vN(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[Lw(r)]=r,n[Lw(i.attribute)]=r}return new um(t,n,e.space)}const oF=Ld({properties:{ariaActiveDescendant:null,ariaAtomic:Rr,ariaAutoComplete:null,ariaBusy:Rr,ariaChecked:Rr,ariaColCount:ot,ariaColIndex:ot,ariaColSpan:ot,ariaControls:er,ariaCurrent:null,ariaDescribedBy:er,ariaDetails:null,ariaDisabled:Rr,ariaDropEffect:er,ariaErrorMessage:null,ariaExpanded:Rr,ariaFlowTo:er,ariaGrabbed:Rr,ariaHasPopup:null,ariaHidden:Rr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:er,ariaLevel:ot,ariaLive:null,ariaModal:Rr,ariaMultiLine:Rr,ariaMultiSelectable:Rr,ariaOrientation:null,ariaOwns:er,ariaPlaceholder:null,ariaPosInSet:ot,ariaPressed:Rr,ariaReadOnly:Rr,ariaRelevant:null,ariaRequired:Rr,ariaRoleDescription:er,ariaRowCount:ot,ariaRowIndex:ot,ariaRowSpan:ot,ariaSelected:Rr,ariaSetSize:ot,ariaSort:null,ariaValueMax:ot,ariaValueMin:ot,ariaValueNow:ot,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function sF(e,t){return t in e?e[t]:t}function lF(e,t){return sF(e,t.toLowerCase())}const poe=Ld({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ed,acceptCharset:er,accessKey:er,action:null,allow:null,allowFullScreen:un,allowPaymentRequest:un,allowUserMedia:un,alt:null,as:null,async:un,autoCapitalize:null,autoComplete:er,autoFocus:un,autoPlay:un,blocking:er,capture:null,charSet:null,checked:un,cite:null,className:er,cols:ot,colSpan:null,content:null,contentEditable:Rr,controls:un,controlsList:er,coords:ot|ed,crossOrigin:null,data:null,dateTime:null,decoding:null,default:un,defer:un,dir:null,dirName:null,disabled:un,download:Fw,draggable:Rr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:un,formTarget:null,headers:er,height:ot,hidden:Fw,high:ot,href:null,hrefLang:null,htmlFor:er,httpEquiv:er,id:null,imageSizes:null,imageSrcSet:null,inert:un,inputMode:null,integrity:null,is:null,isMap:un,itemId:null,itemProp:er,itemRef:er,itemScope:un,itemType:er,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:un,low:ot,manifest:null,max:null,maxLength:ot,media:null,method:null,min:null,minLength:ot,multiple:un,muted:un,name:null,nonce:null,noModule:un,noValidate:un,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:un,optimum:ot,pattern:null,ping:er,placeholder:null,playsInline:un,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:un,referrerPolicy:null,rel:er,required:un,reversed:un,rows:ot,rowSpan:ot,sandbox:er,scope:null,scoped:un,seamless:un,selected:un,shadowRootClonable:un,shadowRootDelegatesFocus:un,shadowRootMode:null,shape:null,size:ot,sizes:null,slot:null,span:ot,spellCheck:Rr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ot,step:null,style:null,tabIndex:ot,target:null,title:null,translate:null,type:null,typeMustMatch:un,useMap:null,value:Rr,width:ot,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:er,axis:null,background:null,bgColor:null,border:ot,borderColor:null,bottomMargin:ot,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:un,declare:un,event:null,face:null,frame:null,frameBorder:null,hSpace:ot,leftMargin:ot,link:null,longDesc:null,lowSrc:null,marginHeight:ot,marginWidth:ot,noResize:un,noHref:un,noShade:un,noWrap:un,object:null,profile:null,prompt:null,rev:null,rightMargin:ot,rules:null,scheme:null,scrolling:Rr,standby:null,summary:null,text:null,topMargin:ot,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ot,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:un,disableRemotePlayback:un,prefix:null,property:null,results:ot,security:null,unselectable:null},space:"html",transform:lF}),moe=Ld({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:xi,accentHeight:ot,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ot,amplitude:ot,arabicForm:null,ascent:ot,attributeName:null,attributeType:null,azimuth:ot,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ot,by:null,calcMode:null,capHeight:ot,className:er,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ot,diffuseConstant:ot,direction:null,display:null,dur:null,divisor:ot,dominantBaseline:null,download:un,dx:null,dy:null,edgeMode:null,editable:null,elevation:ot,enableBackground:null,end:null,event:null,exponent:ot,externalResourcesRequired:null,fill:null,fillOpacity:ot,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ed,g2:ed,glyphName:ed,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ot,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ot,horizOriginX:ot,horizOriginY:ot,id:null,ideographic:ot,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ot,k:ot,k1:ot,k2:ot,k3:ot,k4:ot,kernelMatrix:xi,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ot,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ot,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ot,overlineThickness:ot,paintOrder:null,panose1:null,path:null,pathLength:ot,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:er,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ot,pointsAtY:ot,pointsAtZ:ot,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:xi,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:xi,rev:xi,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:xi,requiredFeatures:xi,requiredFonts:xi,requiredFormats:xi,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ot,specularExponent:ot,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ot,strikethroughThickness:ot,string:null,stroke:null,strokeDashArray:xi,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ot,strokeOpacity:ot,strokeWidth:null,style:null,surfaceScale:ot,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:xi,tabIndex:ot,tableValues:null,target:null,targetX:ot,targetY:ot,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:xi,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ot,underlineThickness:ot,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ot,values:null,vAlphabetic:ot,vMathematical:ot,vectorEffect:null,vHanging:ot,vIdeographic:ot,version:null,vertAdvY:ot,vertOriginX:ot,vertOriginY:ot,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ot,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:sF}),cF=Ld({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),uF=Ld({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:lF}),dF=Ld({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),hoe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},goe=/[A-Z]/g,F5=/-[a-z]/g,yoe=/^data[-\w.:]+$/i;function voe(e,t){const n=Lw(t);let r=t,a=fi;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&yoe.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(F5,xoe);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!F5.test(i)){let o=i.replace(goe,boe);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}a=vN}return new a(r,t)}function boe(e){return"-"+e.toLowerCase()}function xoe(e){return e.charAt(1).toUpperCase()}const woe=iF([oF,poe,cF,uF,dF],"html"),bN=iF([oF,moe,cF,uF,dF],"svg");function koe(e){return e.join(" ").trim()}var xN={},$5=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Soe=/\n/g,Noe=/^\s*/,joe=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Coe=/^:\s*/,Moe=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Aoe=/^[;\s]*/,Eoe=/^\s+|\s+$/g,Doe=`
`,R5="/",B5="*",vc="",Poe="comment",Toe="declaration";function Ooe(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function a(h){var v=h.match(Soe);v&&(n+=v.length);var b=h.lastIndexOf(Doe);r=~b?h.length-b:r+h.length}function i(){var h={line:n,column:r};return function(v){return v.position=new o(h),u(),v}}function o(h){this.start=h,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function s(h){var v=new Error(t.source+":"+n+":"+r+": "+h);if(v.reason=h,v.filename=t.source,v.line=n,v.column=r,v.source=e,!t.silent)throw v}function l(h){var v=h.exec(e);if(v){var b=v[0];return a(b),e=e.slice(b.length),v}}function u(){l(Noe)}function d(h){var v;for(h=h||[];v=f();)v!==!1&&h.push(v);return h}function f(){var h=i();if(!(R5!=e.charAt(0)||B5!=e.charAt(1))){for(var v=2;vc!=e.charAt(v)&&(B5!=e.charAt(v)||R5!=e.charAt(v+1));)++v;if(v+=2,vc===e.charAt(v-1))return s("End of comment missing");var b=e.slice(2,v-2);return r+=2,a(b),e=e.slice(v),r+=2,h({type:Poe,comment:b})}}function p(){var h=i(),v=l(joe);if(v){if(f(),!l(Coe))return s("property missing ':'");var b=l(Moe),y=h({type:Toe,property:z5(v[0].replace($5,vc)),value:b?z5(b[0].replace($5,vc)):vc});return l(Aoe),y}}function m(){var h=[];d(h);for(var v;v=p();)v!==!1&&(h.push(v),d(h));return h}return u(),m()}function z5(e){return e?e.replace(Eoe,vc):vc}var Ioe=Ooe,_oe=qh&&qh.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xN,"__esModule",{value:!0});xN.default=Foe;const Loe=_oe(Ioe);function Foe(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,Loe.default)(e),a=typeof t=="function";return r.forEach(i=>{if(i.type!=="declaration")return;const{property:o,value:s}=i;a?t(o,s,i):s&&(n=n||{},n[o]=s)}),n}var qy={};Object.defineProperty(qy,"__esModule",{value:!0});qy.camelCase=void 0;var $oe=/^--[a-zA-Z0-9_-]+$/,Roe=/-([a-z])/g,Boe=/^[^-]+$/,zoe=/^-(webkit|moz|ms|o|khtml)-/,Uoe=/^-(ms)-/,Voe=function(e){return!e||Boe.test(e)||$oe.test(e)},Woe=function(e,t){return t.toUpperCase()},U5=function(e,t){return"".concat(t,"-")},Hoe=function(e,t){return t===void 0&&(t={}),Voe(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Uoe,U5):e=e.replace(zoe,U5),e.replace(Roe,Woe))};qy.camelCase=Hoe;var qoe=qh&&qh.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Koe=qoe(xN),Goe=qy;function Rw(e,t){var n={};return!e||typeof e!="string"||(0,Koe.default)(e,function(r,a){r&&a&&(n[(0,Goe.camelCase)(r,t)]=a)}),n}Rw.default=Rw;var Yoe=Rw;const Qoe=Mo(Yoe),fF=pF("end"),wN=pF("start");function pF(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Xoe(e){const t=wN(e),n=fF(e);if(t&&n)return{start:t,end:n}}function If(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?V5(e.position):"start"in e||"end"in e?V5(e):"line"in e||"column"in e?Bw(e):""}function Bw(e){return W5(e&&e.line)+":"+W5(e&&e.column)}function V5(e){return Bw(e&&e.start)+"-"+Bw(e&&e.end)}function W5(e){return e&&typeof e=="number"?e:1}class Ba extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",i={},o=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof t=="string"?a=t:!i.cause&&t&&(o=!0,a=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?i.ruleId=r:(i.source=r.slice(0,l),i.ruleId=r.slice(l+1))}if(!i.place&&i.ancestors&&i.ancestors){const l=i.ancestors[i.ancestors.length-1];l&&(i.place=l.position)}const s=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=s?s.line:void 0,this.name=If(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=o&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ba.prototype.file="";Ba.prototype.name="";Ba.prototype.reason="";Ba.prototype.message="";Ba.prototype.stack="";Ba.prototype.column=void 0;Ba.prototype.line=void 0;Ba.prototype.ancestors=void 0;Ba.prototype.cause=void 0;Ba.prototype.fatal=void 0;Ba.prototype.place=void 0;Ba.prototype.ruleId=void 0;Ba.prototype.source=void 0;const kN={}.hasOwnProperty,Joe=new Map,Zoe=/[A-Z]/g,ese=new Set(["table","tbody","thead","tfoot","tr"]),tse=new Set(["td","th"]),mF="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function nse(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=use(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=cse(n,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?bN:woe,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=hF(a,e,void 0);return i&&typeof i!="string"?i:a.create(e,a.Fragment,{children:i||void 0},void 0)}function hF(e,t,n){if(t.type==="element")return rse(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return ase(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return ose(e,t,n);if(t.type==="mdxjsEsm")return ise(e,t);if(t.type==="root")return sse(e,t,n);if(t.type==="text")return lse(e,t)}function rse(e,t,n){const r=e.schema;let a=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=bN,e.schema=a),e.ancestors.push(t);const i=yF(e,t.tagName,!1),o=dse(e,t);let s=NN(e,t);return ese.has(t.tagName)&&(s=s.filter(function(l){return typeof l=="string"?!doe(l):!0})),gF(e,o,i,t),SN(o,s),e.ancestors.pop(),e.schema=r,e.create(t,i,o,n)}function ase(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}Sp(e,t.position)}function ise(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Sp(e,t.position)}function ose(e,t,n){const r=e.schema;let a=r;t.name==="svg"&&r.space==="html"&&(a=bN,e.schema=a),e.ancestors.push(t);const i=t.name===null?e.Fragment:yF(e,t.name,!0),o=fse(e,t),s=NN(e,t);return gF(e,o,i,t),SN(o,s),e.ancestors.pop(),e.schema=r,e.create(t,i,o,n)}function sse(e,t,n){const r={};return SN(r,NN(e,t)),e.create(t,e.Fragment,r,n)}function lse(e,t){return t.value}function gF(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function SN(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function cse(e,t,n){return r;function r(a,i,o,s){const l=Array.isArray(o.children)?n:t;return s?l(i,o,s):l(i,o)}}function use(e,t){return n;function n(r,a,i,o){const s=Array.isArray(i.children),l=wN(r);return t(a,i,o,s,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function dse(e,t){const n={};let r,a;for(a in t.properties)if(a!=="children"&&kN.call(t.properties,a)){const i=pse(e,a,t.properties[a]);if(i){const[o,s]=i;e.tableCellAlignToStyle&&o==="align"&&typeof s=="string"&&tse.has(t.tagName)?r=s:n[o]=s}}if(r){const i=n.style||(n.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function fse(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const i=a.expression;i.type;const o=i.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else Sp(e,t.position);else{const a=r.name;let i;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,i=e.evaluater.evaluateExpression(o.expression)}else Sp(e,t.position);else i=r.value===null?!0:r.value;n[a]=i}return n}function NN(e,t){const n=[];let r=-1;const a=e.passKeys?new Map:Joe;for(;++r<t.children.length;){const i=t.children[r];let o;if(e.passKeys){const l=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(l){const u=a.get(l)||0;o=l+"-"+u,a.set(l,u+1)}}const s=hF(e,i,o);s!==void 0&&n.push(s)}return n}function pse(e,t,n){const r=voe(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?ooe(n):koe(n)),r.property==="style"){let a=typeof n=="object"?n:mse(e,String(n));return e.stylePropertyNameCase==="css"&&(a=hse(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&r.space?hoe[r.property]||r.property:r.attribute,n]}}function mse(e,t){try{return Qoe(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,a=new Ba("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=mF+"#cannot-parse-style-attribute",a}}function yF(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let i=-1,o;for(;++i<a.length;){const s=I5(a[i])?{type:"Identifier",name:a[i]}:{type:"Literal",value:a[i]};o=o?{type:"MemberExpression",object:o,property:s,computed:!!(i&&s.type==="Literal"),optional:!1}:s}r=o}else r=I5(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const a=r.value;return kN.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(r);Sp(e)}function Sp(e,t){const n=new Ba("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=mF+"#cannot-handle-mdx-estrees-without-createevaluater",n}function hse(e){const t={};let n;for(n in e)kN.call(e,n)&&(t[gse(n)]=e[n]);return t}function gse(e){let t=e.replace(Zoe,yse);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function yse(e){return"-"+e.toLowerCase()}const pb={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},vse={};function jN(e,t){const n=vse,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return vF(e,r,a)}function vF(e,t,n){if(bse(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return H5(e.children,t,n)}return Array.isArray(e)?H5(e,t,n):""}function H5(e,t,n){const r=[];let a=-1;for(;++a<e.length;)r[a]=vF(e[a],t,n);return r.join("")}function bse(e){return!!(e&&typeof e=="object")}const q5=document.createElement("i");function CN(e){const t="&"+e+";";q5.innerHTML=t;const n=q5.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Ai(e,t,n,r){const a=e.length;let i=0,o;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);i<r.length;)o=r.slice(i,i+1e4),o.unshift(t,0),e.splice(...o),i+=1e4,t+=1e4}function qi(e,t){return e.length>0?(Ai(e,e.length,0,t),e):t}const K5={}.hasOwnProperty;function bF(e){const t={};let n=-1;for(;++n<e.length;)xse(t,e[n]);return t}function xse(e,t){let n;for(n in t){const r=(K5.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let i;if(a)for(i in a){K5.call(r,i)||(r[i]=[]);const o=a[i];wse(r[i],Array.isArray(o)?o:o?[o]:[])}}}function wse(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Ai(e,0,0,r)}function xF(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function xo(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ha=Yl(/[A-Za-z]/),Fa=Yl(/[\dA-Za-z]/),kse=Yl(/[#-'*+\--9=?A-Z^-~]/);function h0(e){return e!==null&&(e<32||e===127)}const zw=Yl(/\d/),Sse=Yl(/[\dA-Fa-f]/),Nse=Yl(/[!-/:-@[-`{-~]/);function Vt(e){return e!==null&&e<-2}function Qn(e){return e!==null&&(e<0||e===32)}function hn(e){return e===-2||e===-1||e===32}const Ky=Yl(new RegExp("\\p{P}|\\p{S}","u")),Jc=Yl(/\s/);function Yl(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Fd(e){const t=[];let n=-1,r=0,a=0;for(;++n<e.length;){const i=e.charCodeAt(n);let o="";if(i===37&&Fa(e.charCodeAt(n+1))&&Fa(e.charCodeAt(n+2)))a=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(o=String.fromCharCode(i));else if(i>55295&&i<57344){const s=e.charCodeAt(n+1);i<56320&&s>56319&&s<57344?(o=String.fromCharCode(i,s),a=1):o=""}else o=String.fromCharCode(i);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+a+1,o=""),a&&(n+=a,a=0)}return t.join("")+e.slice(r)}function Sn(e,t,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let i=0;return o;function o(l){return hn(l)?(e.enter(n),s(l)):t(l)}function s(l){return hn(l)&&i++<a?(e.consume(l),s):(e.exit(n),t(l))}}const jse={tokenize:Cse};function Cse(e){const t=e.attempt(this.parser.constructs.contentInitial,r,a);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Sn(e,t,"linePrefix")}function a(s){return e.enter("paragraph"),i(s)}function i(s){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(s)}function o(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return Vt(s)?(e.consume(s),e.exit("chunkText"),i):(e.consume(s),o)}}const Mse={tokenize:Ase},G5={tokenize:Ese};function Ase(e){const t=this,n=[];let r=0,a,i,o;return s;function s(w){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,l,u)(w)}return u(w)}function l(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&x();const S=t.events.length;let j=S,N;for(;j--;)if(t.events[j][0]==="exit"&&t.events[j][1].type==="chunkFlow"){N=t.events[j][1].end;break}y(r);let M=S;for(;M<t.events.length;)t.events[M][1].end={...N},M++;return Ai(t.events,j+1,0,t.events.slice(S)),t.events.length=M,u(w)}return s(w)}function u(w){if(r===n.length){if(!a)return p(w);if(a.currentConstruct&&a.currentConstruct.concrete)return h(w);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(G5,d,f)(w)}function d(w){return a&&x(),y(r),p(w)}function f(w){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,h(w)}function p(w){return t.containerState={},e.attempt(G5,m,h)(w)}function m(w){return r++,n.push([t.currentConstruct,t.containerState]),p(w)}function h(w){if(w===null){a&&x(),y(0),e.consume(w);return}return a=a||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:i}),v(w)}function v(w){if(w===null){b(e.exit("chunkFlow"),!0),y(0),e.consume(w);return}return Vt(w)?(e.consume(w),b(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(w),v)}function b(w,S){const j=t.sliceStream(w);if(S&&j.push(null),w.previous=i,i&&(i.next=w),i=w,a.defineSkip(w.start),a.write(j),t.parser.lazy[w.start.line]){let N=a.events.length;for(;N--;)if(a.events[N][1].start.offset<o&&(!a.events[N][1].end||a.events[N][1].end.offset>o))return;const M=t.events.length;let P=M,B,E;for(;P--;)if(t.events[P][0]==="exit"&&t.events[P][1].type==="chunkFlow"){if(B){E=t.events[P][1].end;break}B=!0}for(y(r),N=M;N<t.events.length;)t.events[N][1].end={...E},N++;Ai(t.events,P+1,0,t.events.slice(M)),t.events.length=N}}function y(w){let S=n.length;for(;S-- >w;){const j=n[S];t.containerState=j[1],j[0].exit.call(t,e)}n.length=w}function x(){a.write([null]),i=void 0,a=void 0,t.containerState._closeFlow=void 0}}function Ese(e,t,n){return Sn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function xd(e){if(e===null||Qn(e)||Jc(e))return 1;if(Ky(e))return 2}function Gy(e,t,n){const r=[];let a=-1;for(;++a<e.length;){const i=e[a].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const Uw={name:"attention",resolveAll:Dse,tokenize:Pse};function Dse(e,t){let n=-1,r,a,i,o,s,l,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},p={...e[n][1].start};Y5(f,-l),Y5(p,l),o={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},s={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:p},i={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},a={type:l>1?"strong":"emphasis",start:{...o.start},end:{...s.end}},e[r][1].end={...o.start},e[n][1].start={...s.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=qi(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=qi(u,[["enter",a,t],["enter",o,t],["exit",o,t],["enter",i,t]]),u=qi(u,Gy(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=qi(u,[["exit",i,t],["enter",s,t],["exit",s,t],["exit",a,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=qi(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Ai(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Pse(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=xd(r);let i;return o;function o(l){return i=l,e.enter("attentionSequence"),s(l)}function s(l){if(l===i)return e.consume(l),s;const u=e.exit("attentionSequence"),d=xd(l),f=!d||d===2&&a||n.includes(l),p=!a||a===2&&d||n.includes(r);return u._open=!!(i===42?f:f&&(a||!p)),u._close=!!(i===42?p:p&&(d||!f)),t(l)}}function Y5(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Tse={name:"autolink",tokenize:Ose};function Ose(e,t,n){let r=0;return a;function a(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(m){return Ha(m)?(e.consume(m),o):m===64?n(m):u(m)}function o(m){return m===43||m===45||m===46||Fa(m)?(r=1,s(m)):u(m)}function s(m){return m===58?(e.consume(m),r=0,l):(m===43||m===45||m===46||Fa(m))&&r++<32?(e.consume(m),s):(r=0,u(m))}function l(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||h0(m)?n(m):(e.consume(m),l)}function u(m){return m===64?(e.consume(m),d):kse(m)?(e.consume(m),u):n(m)}function d(m){return Fa(m)?f(m):n(m)}function f(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):p(m)}function p(m){if((m===45||Fa(m))&&r++<63){const h=m===45?p:f;return e.consume(m),h}return n(m)}}const dm={partial:!0,tokenize:Ise};function Ise(e,t,n){return r;function r(i){return hn(i)?Sn(e,a,"linePrefix")(i):a(i)}function a(i){return i===null||Vt(i)?t(i):n(i)}}const wF={continuation:{tokenize:Lse},exit:Fse,name:"blockQuote",tokenize:_se};function _se(e,t,n){const r=this;return a;function a(o){if(o===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),i}return n(o)}function i(o){return hn(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function Lse(e,t,n){const r=this;return a;function a(o){return hn(o)?Sn(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):i(o)}function i(o){return e.attempt(wF,t,n)(o)}}function Fse(e){e.exit("blockQuote")}const kF={name:"characterEscape",tokenize:$se};function $se(e,t,n){return r;function r(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),a}function a(i){return Nse(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}const SF={name:"characterReference",tokenize:Rse};function Rse(e,t,n){const r=this;let a=0,i,o;return s;function s(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),i=31,o=Fa,d(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,o=Sse,d):(e.enter("characterReferenceValue"),i=7,o=zw,d(f))}function d(f){if(f===59&&a){const p=e.exit("characterReferenceValue");return o===Fa&&!CN(r.sliceSerialize(p))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&a++<i?(e.consume(f),d):n(f)}}const Q5={partial:!0,tokenize:zse},X5={concrete:!0,name:"codeFenced",tokenize:Bse};function Bse(e,t,n){const r=this,a={partial:!0,tokenize:j};let i=0,o=0,s;return l;function l(N){return u(N)}function u(N){const M=r.events[r.events.length-1];return i=M&&M[1].type==="linePrefix"?M[2].sliceSerialize(M[1],!0).length:0,s=N,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(N)}function d(N){return N===s?(o++,e.consume(N),d):o<3?n(N):(e.exit("codeFencedFenceSequence"),hn(N)?Sn(e,f,"whitespace")(N):f(N))}function f(N){return N===null||Vt(N)?(e.exit("codeFencedFence"),r.interrupt?t(N):e.check(Q5,v,S)(N)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(N))}function p(N){return N===null||Vt(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(N)):hn(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Sn(e,m,"whitespace")(N)):N===96&&N===s?n(N):(e.consume(N),p)}function m(N){return N===null||Vt(N)?f(N):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),h(N))}function h(N){return N===null||Vt(N)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(N)):N===96&&N===s?n(N):(e.consume(N),h)}function v(N){return e.attempt(a,S,b)(N)}function b(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),y}function y(N){return i>0&&hn(N)?Sn(e,x,"linePrefix",i+1)(N):x(N)}function x(N){return N===null||Vt(N)?e.check(Q5,v,S)(N):(e.enter("codeFlowValue"),w(N))}function w(N){return N===null||Vt(N)?(e.exit("codeFlowValue"),x(N)):(e.consume(N),w)}function S(N){return e.exit("codeFenced"),t(N)}function j(N,M,P){let B=0;return E;function E(oe){return N.enter("lineEnding"),N.consume(oe),N.exit("lineEnding"),I}function I(oe){return N.enter("codeFencedFence"),hn(oe)?Sn(N,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(oe):O(oe)}function O(oe){return oe===s?(N.enter("codeFencedFenceSequence"),K(oe)):P(oe)}function K(oe){return oe===s?(B++,N.consume(oe),K):B>=o?(N.exit("codeFencedFenceSequence"),hn(oe)?Sn(N,Q,"whitespace")(oe):Q(oe)):P(oe)}function Q(oe){return oe===null||Vt(oe)?(N.exit("codeFencedFence"),M(oe)):P(oe)}}}function zse(e,t,n){const r=this;return a;function a(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i)}function i(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const mb={name:"codeIndented",tokenize:Vse},Use={partial:!0,tokenize:Wse};function Vse(e,t,n){const r=this;return a;function a(u){return e.enter("codeIndented"),Sn(e,i,"linePrefix",5)(u)}function i(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?l(u):Vt(u)?e.attempt(Use,o,l)(u):(e.enter("codeFlowValue"),s(u))}function s(u){return u===null||Vt(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),s)}function l(u){return e.exit("codeIndented"),t(u)}}function Wse(e,t,n){const r=this;return a;function a(o){return r.parser.lazy[r.now().line]?n(o):Vt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):Sn(e,i,"linePrefix",5)(o)}function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):Vt(o)?a(o):n(o)}}const Hse={name:"codeText",previous:Kse,resolve:qse,tokenize:Gse};function qse(e){let t=e.length-4,n=3,r,a;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)a===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(a=r):(r===t||e[r][1].type==="lineEnding")&&(e[a][1].type="codeTextData",r!==a+2&&(e[a][1].end=e[r-1][1].end,e.splice(a+2,r-a-2),t-=r-a-2,r=a+2),a=void 0);return e}function Kse(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Gse(e,t,n){let r=0,a,i;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),s(f)}function s(f){return f===96?(e.consume(f),r++,s):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(i=e.enter("codeTextSequence"),a=0,d(f)):Vt(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||Vt(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),u)}function d(f){return f===96?(e.consume(f),a++,d):a===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(i.type="codeTextData",u(f))}}class Yse{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const a=n||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&cf(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),cf(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),cf(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);cf(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);cf(this.left,n.reverse())}}}function cf(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function NF(e){const t={};let n=-1,r,a,i,o,s,l,u;const d=new Yse(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,i=0,i<l.length&&l[i][1].type==="lineEndingBlank"&&(i+=2),i<l.length&&l[i][1].type==="content"))for(;++i<l.length&&l[i][1].type!=="content";)l[i][1].type==="chunkText"&&(l[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Qse(d,n)),n=t[n],u=!0);else if(r[1]._container){for(i=n,a=void 0;i--;)if(o=d.get(i),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(a&&(d.get(a)[1].type="lineEndingBlank"),o[1].type="lineEnding",a=i);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;a&&(r[1].end={...d.get(a)[1].start},s=d.slice(a,n),s.unshift(r),d.splice(a,n-a+1,s))}}return Ai(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function Qse(e,t){const n=e.get(t)[1],r=e.get(t)[2];let a=t-1;const i=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const s=o.events,l=[],u={};let d,f,p=-1,m=n,h=0,v=0;const b=[v];for(;m;){for(;e.get(++a)[1]!==m;);i.push(a),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),f&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++p<s.length;)s[p][0]==="exit"&&s[p-1][0]==="enter"&&s[p][1].type===s[p-1][1].type&&s[p][1].start.line!==s[p][1].end.line&&(v=p+1,b.push(v),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):b.pop(),p=b.length;p--;){const y=s.slice(b[p],b[p+1]),x=i.pop();l.push([x,x+y.length-1]),e.splice(x,2,y)}for(l.reverse(),p=-1;++p<l.length;)u[h+l[p][0]]=h+l[p][1],h+=l[p][1]-l[p][0]-1;return u}const Xse={resolve:Zse,tokenize:ele},Jse={partial:!0,tokenize:tle};function Zse(e){return NF(e),e}function ele(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),a(s)}function a(s){return s===null?i(s):Vt(s)?e.check(Jse,o,i)(s):(e.consume(s),a)}function i(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function o(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function tle(e,t,n){const r=this;return a;function a(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Sn(e,i,"linePrefix")}function i(o){if(o===null||Vt(o))return n(o);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function jF(e,t,n,r,a,i,o,s,l){const u=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(y){return y===60?(e.enter(r),e.enter(a),e.enter(i),e.consume(y),e.exit(i),p):y===null||y===32||y===41||h0(y)?n(y):(e.enter(r),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),v(y))}function p(y){return y===62?(e.enter(i),e.consume(y),e.exit(i),e.exit(a),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),m(y))}function m(y){return y===62?(e.exit("chunkString"),e.exit(s),p(y)):y===null||y===60||Vt(y)?n(y):(e.consume(y),y===92?h:m)}function h(y){return y===60||y===62||y===92?(e.consume(y),m):m(y)}function v(y){return!d&&(y===null||y===41||Qn(y))?(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(r),t(y)):d<u&&y===40?(e.consume(y),d++,v):y===41?(e.consume(y),d--,v):y===null||y===32||y===40||h0(y)?n(y):(e.consume(y),y===92?b:v)}function b(y){return y===40||y===41||y===92?(e.consume(y),v):v(y)}}function CF(e,t,n,r,a,i){const o=this;let s=0,l;return u;function u(m){return e.enter(r),e.enter(a),e.consume(m),e.exit(a),e.enter(i),d}function d(m){return s>999||m===null||m===91||m===93&&!l||m===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?n(m):m===93?(e.exit(i),e.enter(a),e.consume(m),e.exit(a),e.exit(r),t):Vt(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||Vt(m)||s++>999?(e.exit("chunkString"),d(m)):(e.consume(m),l||(l=!hn(m)),m===92?p:f)}function p(m){return m===91||m===92||m===93?(e.consume(m),s++,f):f(m)}}function MF(e,t,n,r,a,i){let o;return s;function s(p){return p===34||p===39||p===40?(e.enter(r),e.enter(a),e.consume(p),e.exit(a),o=p===40?41:p,l):n(p)}function l(p){return p===o?(e.enter(a),e.consume(p),e.exit(a),e.exit(r),t):(e.enter(i),u(p))}function u(p){return p===o?(e.exit(i),l(o)):p===null?n(p):Vt(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),Sn(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===o||p===null||Vt(p)?(e.exit("chunkString"),u(p)):(e.consume(p),p===92?f:d)}function f(p){return p===o||p===92?(e.consume(p),d):d(p)}}function _f(e,t){let n;return r;function r(a){return Vt(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n=!0,r):hn(a)?Sn(e,r,n?"linePrefix":"lineSuffix")(a):t(a)}}const nle={name:"definition",tokenize:ale},rle={partial:!0,tokenize:ile};function ale(e,t,n){const r=this;let a;return i;function i(m){return e.enter("definition"),o(m)}function o(m){return CF.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function s(m){return a=xo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),l):n(m)}function l(m){return Qn(m)?_f(e,u)(m):u(m)}function u(m){return jF(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(rle,f,f)(m)}function f(m){return hn(m)?Sn(e,p,"whitespace")(m):p(m)}function p(m){return m===null||Vt(m)?(e.exit("definition"),r.parser.defined.push(a),t(m)):n(m)}}function ile(e,t,n){return r;function r(s){return Qn(s)?_f(e,a)(s):n(s)}function a(s){return MF(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function i(s){return hn(s)?Sn(e,o,"whitespace")(s):o(s)}function o(s){return s===null||Vt(s)?t(s):n(s)}}const ole={name:"hardBreakEscape",tokenize:sle};function sle(e,t,n){return r;function r(i){return e.enter("hardBreakEscape"),e.consume(i),a}function a(i){return Vt(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}const lle={name:"headingAtx",resolve:cle,tokenize:ule};function cle(e,t){let n=e.length-2,r=3,a,i;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(a={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},i={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Ai(e,r,n-r+1,[["enter",a,t],["enter",i,t],["exit",i,t],["exit",a,t]])),e}function ule(e,t,n){let r=0;return a;function a(d){return e.enter("atxHeading"),i(d)}function i(d){return e.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(e.consume(d),o):d===null||Qn(d)?(e.exit("atxHeadingSequence"),s(d)):n(d)}function s(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||Vt(d)?(e.exit("atxHeading"),t(d)):hn(d)?Sn(e,s,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),s(d))}function u(d){return d===null||d===35||Qn(d)?(e.exit("atxHeadingText"),s(d)):(e.consume(d),u)}}const dle=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],J5=["pre","script","style","textarea"],fle={concrete:!0,name:"htmlFlow",resolveTo:hle,tokenize:gle},ple={partial:!0,tokenize:vle},mle={partial:!0,tokenize:yle};function hle(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function gle(e,t,n){const r=this;let a,i,o,s,l;return u;function u(C){return d(C)}function d(C){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(C),f}function f(C){return C===33?(e.consume(C),p):C===47?(e.consume(C),i=!0,v):C===63?(e.consume(C),a=3,r.interrupt?t:k):Ha(C)?(e.consume(C),o=String.fromCharCode(C),b):n(C)}function p(C){return C===45?(e.consume(C),a=2,m):C===91?(e.consume(C),a=5,s=0,h):Ha(C)?(e.consume(C),a=4,r.interrupt?t:k):n(C)}function m(C){return C===45?(e.consume(C),r.interrupt?t:k):n(C)}function h(C){const $="CDATA[";return C===$.charCodeAt(s++)?(e.consume(C),s===$.length?r.interrupt?t:O:h):n(C)}function v(C){return Ha(C)?(e.consume(C),o=String.fromCharCode(C),b):n(C)}function b(C){if(C===null||C===47||C===62||Qn(C)){const $=C===47,U=o.toLowerCase();return!$&&!i&&J5.includes(U)?(a=1,r.interrupt?t(C):O(C)):dle.includes(o.toLowerCase())?(a=6,$?(e.consume(C),y):r.interrupt?t(C):O(C)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(C):i?x(C):w(C))}return C===45||Fa(C)?(e.consume(C),o+=String.fromCharCode(C),b):n(C)}function y(C){return C===62?(e.consume(C),r.interrupt?t:O):n(C)}function x(C){return hn(C)?(e.consume(C),x):E(C)}function w(C){return C===47?(e.consume(C),E):C===58||C===95||Ha(C)?(e.consume(C),S):hn(C)?(e.consume(C),w):E(C)}function S(C){return C===45||C===46||C===58||C===95||Fa(C)?(e.consume(C),S):j(C)}function j(C){return C===61?(e.consume(C),N):hn(C)?(e.consume(C),j):w(C)}function N(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(e.consume(C),l=C,M):hn(C)?(e.consume(C),N):P(C)}function M(C){return C===l?(e.consume(C),l=null,B):C===null||Vt(C)?n(C):(e.consume(C),M)}function P(C){return C===null||C===34||C===39||C===47||C===60||C===61||C===62||C===96||Qn(C)?j(C):(e.consume(C),P)}function B(C){return C===47||C===62||hn(C)?w(C):n(C)}function E(C){return C===62?(e.consume(C),I):n(C)}function I(C){return C===null||Vt(C)?O(C):hn(C)?(e.consume(C),I):n(C)}function O(C){return C===45&&a===2?(e.consume(C),ve):C===60&&a===1?(e.consume(C),ne):C===62&&a===4?(e.consume(C),z):C===63&&a===3?(e.consume(C),k):C===93&&a===5?(e.consume(C),V):Vt(C)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(ple,T,K)(C)):C===null||Vt(C)?(e.exit("htmlFlowData"),K(C)):(e.consume(C),O)}function K(C){return e.check(mle,Q,T)(C)}function Q(C){return e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),oe}function oe(C){return C===null||Vt(C)?K(C):(e.enter("htmlFlowData"),O(C))}function ve(C){return C===45?(e.consume(C),k):O(C)}function ne(C){return C===47?(e.consume(C),o="",H):O(C)}function H(C){if(C===62){const $=o.toLowerCase();return J5.includes($)?(e.consume(C),z):O(C)}return Ha(C)&&o.length<8?(e.consume(C),o+=String.fromCharCode(C),H):O(C)}function V(C){return C===93?(e.consume(C),k):O(C)}function k(C){return C===62?(e.consume(C),z):C===45&&a===2?(e.consume(C),k):O(C)}function z(C){return C===null||Vt(C)?(e.exit("htmlFlowData"),T(C)):(e.consume(C),z)}function T(C){return e.exit("htmlFlow"),t(C)}}function yle(e,t,n){const r=this;return a;function a(o){return Vt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):n(o)}function i(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function vle(e,t,n){return r;function r(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(dm,t,n)}}const ble={name:"htmlText",tokenize:xle};function xle(e,t,n){const r=this;let a,i,o;return s;function s(k){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(k),l}function l(k){return k===33?(e.consume(k),u):k===47?(e.consume(k),j):k===63?(e.consume(k),w):Ha(k)?(e.consume(k),P):n(k)}function u(k){return k===45?(e.consume(k),d):k===91?(e.consume(k),i=0,h):Ha(k)?(e.consume(k),x):n(k)}function d(k){return k===45?(e.consume(k),m):n(k)}function f(k){return k===null?n(k):k===45?(e.consume(k),p):Vt(k)?(o=f,ne(k)):(e.consume(k),f)}function p(k){return k===45?(e.consume(k),m):f(k)}function m(k){return k===62?ve(k):k===45?p(k):f(k)}function h(k){const z="CDATA[";return k===z.charCodeAt(i++)?(e.consume(k),i===z.length?v:h):n(k)}function v(k){return k===null?n(k):k===93?(e.consume(k),b):Vt(k)?(o=v,ne(k)):(e.consume(k),v)}function b(k){return k===93?(e.consume(k),y):v(k)}function y(k){return k===62?ve(k):k===93?(e.consume(k),y):v(k)}function x(k){return k===null||k===62?ve(k):Vt(k)?(o=x,ne(k)):(e.consume(k),x)}function w(k){return k===null?n(k):k===63?(e.consume(k),S):Vt(k)?(o=w,ne(k)):(e.consume(k),w)}function S(k){return k===62?ve(k):w(k)}function j(k){return Ha(k)?(e.consume(k),N):n(k)}function N(k){return k===45||Fa(k)?(e.consume(k),N):M(k)}function M(k){return Vt(k)?(o=M,ne(k)):hn(k)?(e.consume(k),M):ve(k)}function P(k){return k===45||Fa(k)?(e.consume(k),P):k===47||k===62||Qn(k)?B(k):n(k)}function B(k){return k===47?(e.consume(k),ve):k===58||k===95||Ha(k)?(e.consume(k),E):Vt(k)?(o=B,ne(k)):hn(k)?(e.consume(k),B):ve(k)}function E(k){return k===45||k===46||k===58||k===95||Fa(k)?(e.consume(k),E):I(k)}function I(k){return k===61?(e.consume(k),O):Vt(k)?(o=I,ne(k)):hn(k)?(e.consume(k),I):B(k)}function O(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),a=k,K):Vt(k)?(o=O,ne(k)):hn(k)?(e.consume(k),O):(e.consume(k),Q)}function K(k){return k===a?(e.consume(k),a=void 0,oe):k===null?n(k):Vt(k)?(o=K,ne(k)):(e.consume(k),K)}function Q(k){return k===null||k===34||k===39||k===60||k===61||k===96?n(k):k===47||k===62||Qn(k)?B(k):(e.consume(k),Q)}function oe(k){return k===47||k===62||Qn(k)?B(k):n(k)}function ve(k){return k===62?(e.consume(k),e.exit("htmlTextData"),e.exit("htmlText"),t):n(k)}function ne(k){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),H}function H(k){return hn(k)?Sn(e,V,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):V(k)}function V(k){return e.enter("htmlTextData"),o(k)}}const MN={name:"labelEnd",resolveAll:Nle,resolveTo:jle,tokenize:Cle},wle={tokenize:Mle},kle={tokenize:Ale},Sle={tokenize:Ele};function Nle(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",t+=a}}return e.length!==n.length&&Ai(e,0,e.length,n),e}function jle(e,t){let n=e.length,r=0,a,i,o,s;for(;n--;)if(a=e[n][1],i){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(i=n,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(o=n);const l={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[i][1].start},end:{...e[o][1].end}},d={type:"labelText",start:{...e[i+r+2][1].end},end:{...e[o-2][1].start}};return s=[["enter",l,t],["enter",u,t]],s=qi(s,e.slice(i+1,i+r+3)),s=qi(s,[["enter",d,t]]),s=qi(s,Gy(t.parser.constructs.insideSpan.null,e.slice(i+r+4,o-3),t)),s=qi(s,[["exit",d,t],e[o-2],e[o-1],["exit",u,t]]),s=qi(s,e.slice(o+1)),s=qi(s,[["exit",l,t]]),Ai(e,i,e.length,s),e}function Cle(e,t,n){const r=this;let a=r.events.length,i,o;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){i=r.events[a][1];break}return s;function s(p){return i?i._inactive?f(p):(o=r.parser.defined.includes(xo(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),l):n(p)}function l(p){return p===40?e.attempt(wle,d,o?d:f)(p):p===91?e.attempt(kle,d,o?u:f)(p):o?d(p):f(p)}function u(p){return e.attempt(Sle,d,f)(p)}function d(p){return t(p)}function f(p){return i._balanced=!0,n(p)}}function Mle(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),a}function a(f){return Qn(f)?_f(e,i)(f):i(f)}function i(f){return f===41?d(f):jF(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return Qn(f)?_f(e,l)(f):d(f)}function s(f){return n(f)}function l(f){return f===34||f===39||f===40?MF(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function u(f){return Qn(f)?_f(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function Ale(e,t,n){const r=this;return a;function a(s){return CF.call(r,e,i,o,"reference","referenceMarker","referenceString")(s)}function i(s){return r.parser.defined.includes(xo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function o(s){return n(s)}}function Ele(e,t,n){return r;function r(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),a}function a(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}const Dle={name:"labelStartImage",resolveAll:MN.resolveAll,tokenize:Ple};function Ple(e,t,n){const r=this;return a;function a(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),i}function i(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),o):n(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const Tle={name:"labelStartLink",resolveAll:MN.resolveAll,tokenize:Ole};function Ole(e,t,n){const r=this;return a;function a(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),i}function i(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const hb={name:"lineEnding",tokenize:Ile};function Ile(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Sn(e,t,"linePrefix")}}const Uh={name:"thematicBreak",tokenize:_le};function _le(e,t,n){let r=0,a;return i;function i(u){return e.enter("thematicBreak"),o(u)}function o(u){return a=u,s(u)}function s(u){return u===a?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||Vt(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===a?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),hn(u)?Sn(e,s,"whitespace")(u):s(u))}}const ei={continuation:{tokenize:Rle},exit:zle,name:"list",tokenize:$le},Lle={partial:!0,tokenize:Ule},Fle={partial:!0,tokenize:Ble};function $le(e,t,n){const r=this,a=r.events[r.events.length-1];let i=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,o=0;return s;function s(m){const h=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(h==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:zw(m)){if(r.containerState.type||(r.containerState.type=h,e.enter(h,{_container:!0})),h==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(Uh,n,u)(m):u(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(m)}return n(m)}function l(m){return zw(m)&&++o<10?(e.consume(m),l):(!r.interrupt||o<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),u(m)):n(m)}function u(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(dm,r.interrupt?n:d,e.attempt(Lle,p,f))}function d(m){return r.containerState.initialBlankLine=!0,i++,p(m)}function f(m){return hn(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function Rle(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(dm,a,i);function a(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Sn(e,t,"listItemIndent",r.containerState.size+1)(s)}function i(s){return r.containerState.furtherBlankLines||!hn(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Fle,t,o)(s))}function o(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,Sn(e,e.attempt(ei,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function Ble(e,t,n){const r=this;return Sn(e,a,"listItemIndent",r.containerState.size+1);function a(i){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(i):n(i)}}function zle(e){e.exit(this.containerState.type)}function Ule(e,t,n){const r=this;return Sn(e,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(i){const o=r.events[r.events.length-1];return!hn(i)&&o&&o[1].type==="listItemPrefixWhitespace"?t(i):n(i)}}const Z5={name:"setextUnderline",resolveTo:Vle,tokenize:Wle};function Vle(e,t){let n=e.length,r,a,i;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(a=n)}else e[n][1].type==="content"&&e.splice(n,1),!i&&e[n][1].type==="definition"&&(i=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",i?(e.splice(a,0,["enter",o,t]),e.splice(i+1,0,["exit",e[r][1],t]),e[r][1].end={...e[i][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function Wle(e,t,n){const r=this;let a;return i;function i(u){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),a=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),s(u)}function s(u){return u===a?(e.consume(u),s):(e.exit("setextHeadingLineSequence"),hn(u)?Sn(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||Vt(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const Hle={tokenize:qle};function qle(e){const t=this,n=e.attempt(dm,r,e.attempt(this.parser.constructs.flowInitial,a,Sn(e,e.attempt(this.parser.constructs.flow,a,e.attempt(Xse,a)),"linePrefix")));return n;function r(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function a(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Kle={resolveAll:EF()},Gle=AF("string"),Yle=AF("text");function AF(e){return{resolveAll:EF(e==="text"?Qle:void 0),tokenize:t};function t(n){const r=this,a=this.parser.constructs[e],i=n.attempt(a,o,s);return o;function o(d){return u(d)?i(d):s(d)}function s(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return u(d)?(n.exit("data"),i(d)):(n.consume(d),l)}function u(d){if(d===null)return!0;const f=a[d];let p=-1;if(f)for(;++p<f.length;){const m=f[p];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function EF(e){return t;function t(n,r){let a=-1,i;for(;++a<=n.length;)i===void 0?n[a]&&n[a][1].type==="data"&&(i=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==i+2&&(n[i][1].end=n[a-1][1].end,n.splice(i+2,a-i-2),a=i+2),i=void 0);return e?e(n,r):n}}function Qle(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],a=t.sliceStream(r);let i=a.length,o=-1,s=0,l;for(;i--;){const u=a[i];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(u===-2)l=!0,s++;else if(u!==-1){i++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(s=0),s){const u={type:n===e.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?o:r.start._bufferIndex+o,_index:r.start._index+i,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const Xle={42:ei,43:ei,45:ei,48:ei,49:ei,50:ei,51:ei,52:ei,53:ei,54:ei,55:ei,56:ei,57:ei,62:wF},Jle={91:nle},Zle={[-2]:mb,[-1]:mb,32:mb},ece={35:lle,42:Uh,45:[Z5,Uh],60:fle,61:Z5,95:Uh,96:X5,126:X5},tce={38:SF,92:kF},nce={[-5]:hb,[-4]:hb,[-3]:hb,33:Dle,38:SF,42:Uw,60:[Tse,ble],91:Tle,92:[ole,kF],93:MN,95:Uw,96:Hse},rce={null:[Uw,Kle]},ace={null:[42,95]},ice={null:[]},oce=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:ace,contentInitial:Jle,disable:ice,document:Xle,flow:ece,flowInitial:Zle,insideSpan:rce,string:tce,text:nce},Symbol.toStringTag,{value:"Module"}));function sce(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},i=[];let o=[],s=[];const l={attempt:M(j),check:M(N),consume:x,enter:w,exit:S,interrupt:M(N,{interrupt:!0})},u={code:null,containerState:{},defineSkip:v,events:[],now:h,parser:e,previous:null,sliceSerialize:p,sliceStream:m,write:f};let d=t.tokenize.call(u,l);return t.resolveAll&&i.push(t),u;function f(I){return o=qi(o,I),b(),o[o.length-1]!==null?[]:(P(t,0),u.events=Gy(i,u.events,u),u.events)}function p(I,O){return cce(m(I),O)}function m(I){return lce(o,I)}function h(){const{_bufferIndex:I,_index:O,line:K,column:Q,offset:oe}=r;return{_bufferIndex:I,_index:O,line:K,column:Q,offset:oe}}function v(I){a[I.line]=I.column,E()}function b(){let I;for(;r._index<o.length;){const O=o[r._index];if(typeof O=="string")for(I=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===I&&r._bufferIndex<O.length;)y(O.charCodeAt(r._bufferIndex));else y(O)}}function y(I){d=d(I)}function x(I){Vt(I)?(r.line++,r.column=1,r.offset+=I===-3?2:1,E()):I!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=I}function w(I,O){const K=O||{};return K.type=I,K.start=h(),u.events.push(["enter",K,u]),s.push(K),K}function S(I){const O=s.pop();return O.end=h(),u.events.push(["exit",O,u]),O}function j(I,O){P(I,O.from)}function N(I,O){O.restore()}function M(I,O){return K;function K(Q,oe,ve){let ne,H,V,k;return Array.isArray(Q)?T(Q):"tokenize"in Q?T([Q]):z(Q);function z(J){return le;function le(G){const _=G!==null&&J[G],R=G!==null&&J.null,Z=[...Array.isArray(_)?_:_?[_]:[],...Array.isArray(R)?R:R?[R]:[]];return T(Z)(G)}}function T(J){return ne=J,H=0,J.length===0?ve:C(J[H])}function C(J){return le;function le(G){return k=B(),V=J,J.partial||(u.currentConstruct=J),J.name&&u.parser.constructs.disable.null.includes(J.name)?U():J.tokenize.call(O?Object.assign(Object.create(u),O):u,l,$,U)(G)}}function $(J){return I(V,k),oe}function U(J){return k.restore(),++H<ne.length?C(ne[H]):ve}}}function P(I,O){I.resolveAll&&!i.includes(I)&&i.push(I),I.resolve&&Ai(u.events,O,u.events.length-O,I.resolve(u.events.slice(O),u)),I.resolveTo&&(u.events=I.resolveTo(u.events,u))}function B(){const I=h(),O=u.previous,K=u.currentConstruct,Q=u.events.length,oe=Array.from(s);return{from:Q,restore:ve};function ve(){r=I,u.previous=O,u.currentConstruct=K,u.events.length=Q,s=oe,E()}}function E(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function lce(e,t){const n=t.start._index,r=t.start._bufferIndex,a=t.end._index,i=t.end._bufferIndex;let o;if(n===a)o=[e[n].slice(r,i)];else{if(o=e.slice(n,a),r>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(r):o.shift()}i>0&&o.push(e[a].slice(0,i))}return o}function cce(e,t){let n=-1;const r=[];let a;for(;++n<e.length;){const i=e[n];let o;if(typeof i=="string")o=i;else switch(i){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&a)continue;o=" ";break}default:o=String.fromCharCode(i)}a=i===-2,r.push(o)}return r.join("")}function uce(e){const t={constructs:bF([oce,...(e||{}).extensions||[]]),content:n(jse),defined:[],document:n(Mse),flow:n(Hle),lazy:{},string:n(Gle),text:n(Yle)};return t;function n(r){return a;function a(i){return sce(t,r,i)}}}function dce(e){for(;!NF(e););return e}const eE=/[\0\t\n\r]/g;function fce(){let e=1,t="",n=!0,r;return a;function a(i,o,s){const l=[];let u,d,f,p,m;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(o||void 0).decode(i)),f=0,t="",n&&(i.charCodeAt(0)===65279&&f++,n=void 0);f<i.length;){if(eE.lastIndex=f,u=eE.exec(i),p=u&&u.index!==void 0?u.index:i.length,m=i.charCodeAt(p),!u){t=i.slice(f);break}if(m===10&&f===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<p&&(l.push(i.slice(f,p)),e+=p-f),m){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=p+1}return s&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const pce=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function mce(e){return e.replace(pce,hce)}function hce(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const r=n.charCodeAt(1),a=r===120||r===88;return xF(n.slice(a?2:1),a?16:10)}return CN(n)||e}const DF={}.hasOwnProperty;function gce(e,t,n){return typeof t!="string"&&(n=t,t=void 0),yce(n)(dce(uce(n).document().write(fce()(e,t,!0))))}function yce(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(De),autolinkProtocol:B,autolinkEmail:B,atxHeading:i(q),blockQuote:i(R),characterEscape:B,characterReference:B,codeFenced:i(Z),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:i(Z,o),codeText:i(F,o),codeTextData:B,data:B,codeFlowValue:B,definition:i(se),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:i(fe),hardBreakEscape:i(de),hardBreakTrailing:i(de),htmlFlow:i(Ee,o),htmlFlowData:B,htmlText:i(Ee,o),htmlTextData:B,image:i(st),label:o,link:i(De),listItem:i(Ie),listItemValue:p,listOrdered:i(ae,f),listUnordered:i(ae),paragraph:i(ee),reference:C,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:i(q),strong:i(ht),thematicBreak:i(Rn)},exit:{atxHeading:l(),atxHeadingSequence:j,autolink:l(),autolinkEmail:_,autolinkProtocol:G,blockQuote:l(),characterEscapeValue:E,characterReferenceMarkerHexadecimal:U,characterReferenceMarkerNumeric:U,characterReferenceValue:J,characterReference:le,codeFenced:l(b),codeFencedFence:v,codeFencedFenceInfo:m,codeFencedFenceMeta:h,codeFlowValue:E,codeIndented:l(y),codeText:l(oe),codeTextData:E,data:E,definition:l(),definitionDestinationString:S,definitionLabelString:x,definitionTitleString:w,emphasis:l(),hardBreakEscape:l(O),hardBreakTrailing:l(O),htmlFlow:l(K),htmlFlowData:E,htmlText:l(Q),htmlTextData:E,image:l(ne),label:V,labelText:H,lineEnding:I,link:l(ve),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:$,resourceDestinationString:k,resourceTitleString:z,resource:T,setextHeading:l(P),setextHeadingLineSequence:M,setextHeadingText:N,strong:l(),thematicBreak:l()}};PF(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(be){let We={type:"root",children:[]};const Tt={stack:[We],tokenStack:[],config:t,enter:s,exit:u,buffer:o,resume:d,data:n},rn=[];let sn=-1;for(;++sn<be.length;)if(be[sn][1].type==="listOrdered"||be[sn][1].type==="listUnordered")if(be[sn][0]==="enter")rn.push(sn);else{const hr=rn.pop();sn=a(be,hr,sn)}for(sn=-1;++sn<be.length;){const hr=t[be[sn][0]];DF.call(hr,be[sn][1].type)&&hr[be[sn][1].type].call(Object.assign({sliceSerialize:be[sn][2].sliceSerialize},Tt),be[sn][1])}if(Tt.tokenStack.length>0){const hr=Tt.tokenStack[Tt.tokenStack.length-1];(hr[1]||tE).call(Tt,void 0,hr[0])}for(We.position={start:cl(be.length>0?be[0][1].start:{line:1,column:1,offset:0}),end:cl(be.length>0?be[be.length-2][1].end:{line:1,column:1,offset:0})},sn=-1;++sn<t.transforms.length;)We=t.transforms[sn](We)||We;return We}function a(be,We,Tt){let rn=We-1,sn=-1,hr=!1,Jn,dn,Ca,pn;for(;++rn<=Tt;){const In=be[rn];switch(In[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{In[0]==="enter"?sn++:sn--,pn=void 0;break}case"lineEndingBlank":{In[0]==="enter"&&(Jn&&!pn&&!sn&&!Ca&&(Ca=rn),pn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:pn=void 0}if(!sn&&In[0]==="enter"&&In[1].type==="listItemPrefix"||sn===-1&&In[0]==="exit"&&(In[1].type==="listUnordered"||In[1].type==="listOrdered")){if(Jn){let gr=rn;for(dn=void 0;gr--;){const An=be[gr];if(An[1].type==="lineEnding"||An[1].type==="lineEndingBlank"){if(An[0]==="exit")continue;dn&&(be[dn][1].type="lineEndingBlank",hr=!0),An[1].type="lineEnding",dn=gr}else if(!(An[1].type==="linePrefix"||An[1].type==="blockQuotePrefix"||An[1].type==="blockQuotePrefixWhitespace"||An[1].type==="blockQuoteMarker"||An[1].type==="listItemIndent"))break}Ca&&(!dn||Ca<dn)&&(Jn._spread=!0),Jn.end=Object.assign({},dn?be[dn][1].start:In[1].end),be.splice(dn||rn,0,["exit",Jn,In[2]]),rn++,Tt++}if(In[1].type==="listItemPrefix"){const gr={type:"listItem",_spread:!1,start:Object.assign({},In[1].start),end:void 0};Jn=gr,be.splice(rn,0,["enter",gr,In[2]]),rn++,Tt++,Ca=void 0,pn=!0}}}return be[We][1]._spread=hr,Tt}function i(be,We){return Tt;function Tt(rn){s.call(this,be(rn),rn),We&&We.call(this,rn)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(be,We,Tt){this.stack[this.stack.length-1].children.push(be),this.stack.push(be),this.tokenStack.push([We,Tt||void 0]),be.position={start:cl(We.start),end:void 0}}function l(be){return We;function We(Tt){be&&be.call(this,Tt),u.call(this,Tt)}}function u(be,We){const Tt=this.stack.pop(),rn=this.tokenStack.pop();if(rn)rn[0].type!==be.type&&(We?We.call(this,be,rn[0]):(rn[1]||tE).call(this,be,rn[0]));else throw new Error("Cannot close `"+be.type+"` ("+If({start:be.start,end:be.end})+"): its not open");Tt.position.end=cl(be.end)}function d(){return jN(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function p(be){if(this.data.expectingFirstListItemValue){const We=this.stack[this.stack.length-2];We.start=Number.parseInt(this.sliceSerialize(be),10),this.data.expectingFirstListItemValue=void 0}}function m(){const be=this.resume(),We=this.stack[this.stack.length-1];We.lang=be}function h(){const be=this.resume(),We=this.stack[this.stack.length-1];We.meta=be}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const be=this.resume(),We=this.stack[this.stack.length-1];We.value=be.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const be=this.resume(),We=this.stack[this.stack.length-1];We.value=be.replace(/(\r?\n|\r)$/g,"")}function x(be){const We=this.resume(),Tt=this.stack[this.stack.length-1];Tt.label=We,Tt.identifier=xo(this.sliceSerialize(be)).toLowerCase()}function w(){const be=this.resume(),We=this.stack[this.stack.length-1];We.title=be}function S(){const be=this.resume(),We=this.stack[this.stack.length-1];We.url=be}function j(be){const We=this.stack[this.stack.length-1];if(!We.depth){const Tt=this.sliceSerialize(be).length;We.depth=Tt}}function N(){this.data.setextHeadingSlurpLineEnding=!0}function M(be){const We=this.stack[this.stack.length-1];We.depth=this.sliceSerialize(be).codePointAt(0)===61?1:2}function P(){this.data.setextHeadingSlurpLineEnding=void 0}function B(be){const We=this.stack[this.stack.length-1].children;let Tt=We[We.length-1];(!Tt||Tt.type!=="text")&&(Tt=Pt(),Tt.position={start:cl(be.start),end:void 0},We.push(Tt)),this.stack.push(Tt)}function E(be){const We=this.stack.pop();We.value+=this.sliceSerialize(be),We.position.end=cl(be.end)}function I(be){const We=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Tt=We.children[We.children.length-1];Tt.position.end=cl(be.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(We.type)&&(B.call(this,be),E.call(this,be))}function O(){this.data.atHardBreak=!0}function K(){const be=this.resume(),We=this.stack[this.stack.length-1];We.value=be}function Q(){const be=this.resume(),We=this.stack[this.stack.length-1];We.value=be}function oe(){const be=this.resume(),We=this.stack[this.stack.length-1];We.value=be}function ve(){const be=this.stack[this.stack.length-1];if(this.data.inReference){const We=this.data.referenceType||"shortcut";be.type+="Reference",be.referenceType=We,delete be.url,delete be.title}else delete be.identifier,delete be.label;this.data.referenceType=void 0}function ne(){const be=this.stack[this.stack.length-1];if(this.data.inReference){const We=this.data.referenceType||"shortcut";be.type+="Reference",be.referenceType=We,delete be.url,delete be.title}else delete be.identifier,delete be.label;this.data.referenceType=void 0}function H(be){const We=this.sliceSerialize(be),Tt=this.stack[this.stack.length-2];Tt.label=mce(We),Tt.identifier=xo(We).toLowerCase()}function V(){const be=this.stack[this.stack.length-1],We=this.resume(),Tt=this.stack[this.stack.length-1];if(this.data.inReference=!0,Tt.type==="link"){const rn=be.children;Tt.children=rn}else Tt.alt=We}function k(){const be=this.resume(),We=this.stack[this.stack.length-1];We.url=be}function z(){const be=this.resume(),We=this.stack[this.stack.length-1];We.title=be}function T(){this.data.inReference=void 0}function C(){this.data.referenceType="collapsed"}function $(be){const We=this.resume(),Tt=this.stack[this.stack.length-1];Tt.label=We,Tt.identifier=xo(this.sliceSerialize(be)).toLowerCase(),this.data.referenceType="full"}function U(be){this.data.characterReferenceType=be.type}function J(be){const We=this.sliceSerialize(be),Tt=this.data.characterReferenceType;let rn;Tt?(rn=xF(We,Tt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):rn=CN(We);const sn=this.stack[this.stack.length-1];sn.value+=rn}function le(be){const We=this.stack.pop();We.position.end=cl(be.end)}function G(be){E.call(this,be);const We=this.stack[this.stack.length-1];We.url=this.sliceSerialize(be)}function _(be){E.call(this,be);const We=this.stack[this.stack.length-1];We.url="mailto:"+this.sliceSerialize(be)}function R(){return{type:"blockquote",children:[]}}function Z(){return{type:"code",lang:null,meta:null,value:""}}function F(){return{type:"inlineCode",value:""}}function se(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function fe(){return{type:"emphasis",children:[]}}function q(){return{type:"heading",depth:0,children:[]}}function de(){return{type:"break"}}function Ee(){return{type:"html",value:""}}function st(){return{type:"image",title:null,url:"",alt:null}}function De(){return{type:"link",title:null,url:"",children:[]}}function ae(be){return{type:"list",ordered:be.type==="listOrdered",start:null,spread:be._spread,children:[]}}function Ie(be){return{type:"listItem",spread:be._spread,checked:null,children:[]}}function ee(){return{type:"paragraph",children:[]}}function ht(){return{type:"strong",children:[]}}function Pt(){return{type:"text",value:""}}function Rn(){return{type:"thematicBreak"}}}function cl(e){return{line:e.line,column:e.column,offset:e.offset}}function PF(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?PF(e,r):vce(e,r)}}function vce(e,t){let n;for(n in t)if(DF.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function tE(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+If({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+If({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+If({start:t.start,end:t.end})+") is still open")}function bce(e){const t=this;t.parser=n;function n(r){return gce(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function xce(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function wce(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function kce(e,t){const n=t.value?t.value+`
`:"",r={},a=t.lang?t.lang.split(/\s+/):[];a.length>0&&(r.className=["language-"+a[0]]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function Sce(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Nce(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function jce(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),a=Fd(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);let o,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=i+1,s+=1,e.footnoteCounts.set(r,s);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function Cce(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Mce(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function TF(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const a=e.all(t),i=a[0];i&&i.type==="text"?i.value="["+i.value:a.unshift({type:"text",value:"["});const o=a[a.length-1];return o&&o.type==="text"?o.value+=r:a.push({type:"text",value:r}),a}function Ace(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return TF(e,t);const a={src:Fd(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,i),e.applyData(t,i)}function Ece(e,t){const n={src:Fd(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function Dce(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function Pce(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return TF(e,t);const a={href:Fd(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function Tce(e,t){const n={href:Fd(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Oce(e,t,n){const r=e.all(t),a=n?Ice(n):OF(t),i={},o=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const d=r[s];(a||s!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!a?o.push(...d.children):o.push(d)}const l=r[r.length-1];l&&(a||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:i,children:o};return e.patch(t,u),e.applyData(t,u)}function Ice(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=OF(n[r])}return t}function OF(e){return e.spread??e.children.length>1}function _ce(e,t){const n={},r=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++a<r.length;){const o=r[a];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)}function Lce(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Fce(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function $ce(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Rce(e,t){const n=e.all(t),r=n.shift(),a=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),a.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=wN(t.children[1]),l=fF(t.children[t.children.length-1]);s&&l&&(o.position={start:s,end:l}),a.push(o)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,i),e.applyData(t,i)}function Bce(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",i=n&&n.type==="table"?n.align:void 0,o=i?i.length:t.children.length;let s=-1;const l=[];for(;++s<o;){const d=t.children[s],f={},p=i?i[s]:void 0;p&&(f.align=p);let m={type:"element",tagName:a,properties:f,children:[]};d&&(m.children=e.all(d),e.patch(d,m),m=e.applyData(d,m)),l.push(m)}const u={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,u),e.applyData(t,u)}function zce(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const nE=9,rE=32;function Uce(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),a=0;const i=[];for(;r;)i.push(aE(t.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(t);return i.push(aE(t.slice(a),a>0,!1)),i.join("")}function aE(e,t,n){let r=0,a=e.length;if(t){let i=e.codePointAt(r);for(;i===nE||i===rE;)r++,i=e.codePointAt(r)}if(n){let i=e.codePointAt(a-1);for(;i===nE||i===rE;)a--,i=e.codePointAt(a-1)}return a>r?e.slice(r,a):""}function Vce(e,t){const n={type:"text",value:Uce(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Wce(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Hce={blockquote:xce,break:wce,code:kce,delete:Sce,emphasis:Nce,footnoteReference:jce,heading:Cce,html:Mce,imageReference:Ace,image:Ece,inlineCode:Dce,linkReference:Pce,link:Tce,listItem:Oce,list:_ce,paragraph:Lce,root:Fce,strong:$ce,table:Rce,tableCell:zce,tableRow:Bce,text:Vce,thematicBreak:Wce,toml:mh,yaml:mh,definition:mh,footnoteDefinition:mh};function mh(){}const IF=-1,Yy=0,Lf=1,g0=2,AN=3,EN=4,DN=5,PN=6,_F=7,LF=8,iE=typeof self=="object"?self:globalThis,qce=(e,t)=>{const n=(a,i)=>(e.set(i,a),a),r=a=>{if(e.has(a))return e.get(a);const[i,o]=t[a];switch(i){case Yy:case IF:return n(o,a);case Lf:{const s=n([],a);for(const l of o)s.push(r(l));return s}case g0:{const s=n({},a);for(const[l,u]of o)s[r(l)]=r(u);return s}case AN:return n(new Date(o),a);case EN:{const{source:s,flags:l}=o;return n(new RegExp(s,l),a)}case DN:{const s=n(new Map,a);for(const[l,u]of o)s.set(r(l),r(u));return s}case PN:{const s=n(new Set,a);for(const l of o)s.add(r(l));return s}case _F:{const{name:s,message:l}=o;return n(new iE[s](l),a)}case LF:return n(BigInt(o),a);case"BigInt":return n(Object(BigInt(o)),a);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:s}=new Uint8Array(o);return n(new DataView(s),o)}}return n(new iE[i](o),a)};return r},oE=e=>qce(new Map,e)(0),Su="",{toString:Kce}={},{keys:Gce}=Object,uf=e=>{const t=typeof e;if(t!=="object"||!e)return[Yy,t];const n=Kce.call(e).slice(8,-1);switch(n){case"Array":return[Lf,Su];case"Object":return[g0,Su];case"Date":return[AN,Su];case"RegExp":return[EN,Su];case"Map":return[DN,Su];case"Set":return[PN,Su];case"DataView":return[Lf,n]}return n.includes("Array")?[Lf,n]:n.includes("Error")?[_F,n]:[g0,n]},hh=([e,t])=>e===Yy&&(t==="function"||t==="symbol"),Yce=(e,t,n,r)=>{const a=(o,s)=>{const l=r.push(o)-1;return n.set(s,l),l},i=o=>{if(n.has(o))return n.get(o);let[s,l]=uf(o);switch(s){case Yy:{let d=o;switch(l){case"bigint":s=LF,d=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return a([IF],o)}return a([s,d],o)}case Lf:{if(l){let p=o;return l==="DataView"?p=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(o)),a([l,[...p]],o)}const d=[],f=a([s,d],o);for(const p of o)d.push(i(p));return f}case g0:{if(l)switch(l){case"BigInt":return a([l,o.toString()],o);case"Boolean":case"Number":case"String":return a([l,o.valueOf()],o)}if(t&&"toJSON"in o)return i(o.toJSON());const d=[],f=a([s,d],o);for(const p of Gce(o))(e||!hh(uf(o[p])))&&d.push([i(p),i(o[p])]);return f}case AN:return a([s,o.toISOString()],o);case EN:{const{source:d,flags:f}=o;return a([s,{source:d,flags:f}],o)}case DN:{const d=[],f=a([s,d],o);for(const[p,m]of o)(e||!(hh(uf(p))||hh(uf(m))))&&d.push([i(p),i(m)]);return f}case PN:{const d=[],f=a([s,d],o);for(const p of o)(e||!hh(uf(p)))&&d.push(i(p));return f}}const{message:u}=o;return a([s,{name:l,message:u}],o)};return i},sE=(e,{json:t,lossy:n}={})=>{const r=[];return Yce(!(t||n),!!t,new Map,r)(e),r},y0=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?oE(sE(e,t)):structuredClone(e):(e,t)=>oE(sE(e,t));function Qce(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Xce(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Jce(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Qce,r=e.options.footnoteBackLabel||Xce,a=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const d=e.all(u),f=String(u.identifier).toUpperCase(),p=Fd(f.toLowerCase());let m=0;const h=[],v=e.footnoteCounts.get(f);for(;v!==void 0&&++m<=v;){h.length>0&&h.push({type:"text",value:" "});let x=typeof n=="string"?n:n(l,m);typeof x=="string"&&(x={type:"text",value:x}),h.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const b=d[d.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const x=b.children[b.children.length-1];x&&x.type==="text"?x.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...h)}else d.push(...h);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(d,!0)};e.patch(u,y),s.push(y)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...y0(o),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const Qy=function(e){if(e==null)return nue;if(typeof e=="function")return Xy(e);if(typeof e=="object")return Array.isArray(e)?Zce(e):eue(e);if(typeof e=="string")return tue(e);throw new Error("Expected function, string, or object as test")};function Zce(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Qy(e[n]);return Xy(r);function r(...a){let i=-1;for(;++i<t.length;)if(t[i].apply(this,a))return!0;return!1}}function eue(e){const t=e;return Xy(n);function n(r){const a=r;let i;for(i in e)if(a[i]!==t[i])return!1;return!0}}function tue(e){return Xy(t);function t(n){return n&&n.type===e}}function Xy(e){return t;function t(n,r,a){return!!(rue(n)&&e.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function nue(){return!0}function rue(e){return e!==null&&typeof e=="object"&&"type"in e}const FF=[],aue=!0,Vw=!1,iue="skip";function $F(e,t,n,r){let a;typeof t=="function"&&typeof n!="function"?(r=n,n=t):a=t;const i=Qy(a),o=r?-1:1;s(e,void 0,[])();function s(l,u,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return p;function p(){let m=FF,h,v,b;if((!t||i(l,u,d[d.length-1]||void 0))&&(m=oue(n(l,d)),m[0]===Vw))return m;if("children"in l&&l.children){const y=l;if(y.children&&m[0]!==iue)for(v=(r?y.children.length:-1)+o,b=d.concat(y);v>-1&&v<y.children.length;){const x=y.children[v];if(h=s(x,v,b)(),h[0]===Vw)return h;v=typeof h[1]=="number"?h[1]:v+o}}return m}}}function oue(e){return Array.isArray(e)?e:typeof e=="number"?[aue,e]:e==null?FF:[e]}function TN(e,t,n,r){let a,i,o;typeof t=="function"&&typeof n!="function"?(i=void 0,o=t,a=n):(i=t,o=n,a=r),$F(e,i,s,a);function s(l,u){const d=u[u.length-1],f=d?d.children.indexOf(l):void 0;return o(l,f,d)}}const Ww={}.hasOwnProperty,sue={};function lue(e,t){const n=t||sue,r=new Map,a=new Map,i=new Map,o={...Hce,...n.handlers},s={all:u,applyData:uue,definitionById:r,footnoteById:a,footnoteCounts:i,footnoteOrder:[],handlers:o,one:l,options:n,patch:cue,wrap:fue};return TN(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:a,p=String(d.identifier).toUpperCase();f.has(p)||f.set(p,d)}}),s;function l(d,f){const p=d.type,m=s.handlers[p];if(Ww.call(s.handlers,p)&&m)return m(s,d,f);if(s.options.passThrough&&s.options.passThrough.includes(p)){if("children"in d){const{children:h,...v}=d,b=y0(v);return b.children=s.all(d),b}return y0(d)}return(s.options.unknownHandler||due)(s,d,f)}function u(d){const f=[];if("children"in d){const p=d.children;let m=-1;for(;++m<p.length;){const h=s.one(p[m],d);if(h){if(m&&p[m-1].type==="break"&&(!Array.isArray(h)&&h.type==="text"&&(h.value=lE(h.value)),!Array.isArray(h)&&h.type==="element")){const v=h.children[0];v&&v.type==="text"&&(v.value=lE(v.value))}Array.isArray(h)?f.push(...h):f.push(h)}}}return f}}function cue(e,t){e.position&&(t.position=Xoe(e))}function uue(e,t){let n=t;if(e&&e.data){const r=e.data.hName,a=e.data.hChildren,i=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&i&&Object.assign(n.properties,y0(i)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function due(e,t){const n=t.data||{},r="value"in t&&!(Ww.call(n,"hProperties")||Ww.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function fue(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function lE(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function cE(e,t){const n=lue(e,t),r=n.one(e,void 0),a=Jce(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&i.children.push({type:"text",value:`
`},a),i}function pue(e,t){return e&&"run"in e?async function(n,r){const a=cE(n,{file:r,...t});await e.run(a,r)}:function(n,r){return cE(n,{file:r,...e||t})}}function uE(e){if(e)throw e}var Vh=Object.prototype.hasOwnProperty,RF=Object.prototype.toString,dE=Object.defineProperty,fE=Object.getOwnPropertyDescriptor,pE=function(e){return typeof Array.isArray=="function"?Array.isArray(e):RF.call(e)==="[object Array]"},mE=function(e){if(!e||RF.call(e)!=="[object Object]")return!1;var t=Vh.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&Vh.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!n)return!1;var r;for(r in e);return typeof r>"u"||Vh.call(e,r)},hE=function(e,t){dE&&t.name==="__proto__"?dE(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},gE=function(e,t){if(t==="__proto__")if(Vh.call(e,t)){if(fE)return fE(e,t).value}else return;return e[t]},mue=function e(){var t,n,r,a,i,o,s=arguments[0],l=1,u=arguments.length,d=!1;for(typeof s=="boolean"&&(d=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)r=gE(s,n),a=gE(t,n),s!==a&&(d&&a&&(mE(a)||(i=pE(a)))?(i?(i=!1,o=r&&pE(r)?r:[]):o=r&&mE(r)?r:{},hE(s,{name:n,newValue:e(d,o,a)})):typeof a<"u"&&hE(s,{name:n,newValue:a}));return s};const gb=Mo(mue);function Hw(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function hue(){const e=[],t={run:n,use:r};return t;function n(...a){let i=-1;const o=a.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...a);function s(l,...u){const d=e[++i];let f=-1;if(l){o(l);return}for(;++f<a.length;)(u[f]===null||u[f]===void 0)&&(u[f]=a[f]);a=u,d?gue(d,s)(...u):o(null,...u)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function gue(e,t){let n;return r;function r(...o){const s=e.length>o.length;let l;s&&o.push(a);try{l=e.apply(this,o)}catch(u){const d=u;if(s&&n)throw d;return a(d)}s||(l&&l.then&&typeof l.then=="function"?l.then(i,a):l instanceof Error?a(l):i(l))}function a(o,...s){n||(n=!0,t(o,...s))}function i(o){a(null,o)}}const qo={basename:yue,dirname:vue,extname:bue,join:xue,sep:"/"};function yue(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');fm(e);let n=0,r=-1,a=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(i){n=a+1;break}}else r<0&&(i=!0,r=a+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,s=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(i){n=a+1;break}}else o<0&&(i=!0,o=a+1),s>-1&&(e.codePointAt(a)===t.codePointAt(s--)?s<0&&(r=a):(s=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function vue(e){if(fm(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function bue(e){fm(e);let t=e.length,n=-1,r=0,a=-1,i=0,o;for(;t--;){const s=e.codePointAt(t);if(s===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),s===46?a<0?a=t:i!==1&&(i=1):a>-1&&(i=-1)}return a<0||n<0||i===0||i===1&&a===n-1&&a===r+1?"":e.slice(a,n)}function xue(...e){let t=-1,n;for(;++t<e.length;)fm(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":wue(n)}function wue(e){fm(e);const t=e.codePointAt(0)===47;let n=kue(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function kue(e,t){let n="",r=0,a=-1,i=0,o=-1,s,l;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(a===o-1||i===1))if(a!==o-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),a=o,i=0;continue}}else if(n.length>0){n="",r=0,a=o,i=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(a+1,o):n=e.slice(a+1,o),r=o-a-1;a=o,i=0}else s===46&&i>-1?i++:i=-1}return n}function fm(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Sue={cwd:Nue};function Nue(){return"/"}function qw(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function jue(e){if(typeof e=="string")e=new URL(e);else if(!qw(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Cue(e)}function Cue(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const yb=["history","path","basename","stem","extname","dirname"];class BF{constructor(t){let n;t?qw(t)?n={path:t}:typeof t=="string"||Mue(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":Sue.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<yb.length;){const i=yb[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let a;for(a in n)yb.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?qo.basename(this.path):void 0}set basename(t){bb(t,"basename"),vb(t,"basename"),this.path=qo.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?qo.dirname(this.path):void 0}set dirname(t){yE(this.basename,"dirname"),this.path=qo.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?qo.extname(this.path):void 0}set extname(t){if(vb(t,"extname"),yE(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=qo.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){qw(t)&&(t=jue(t)),bb(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?qo.basename(this.path,this.extname):void 0}set stem(t){bb(t,"stem"),vb(t,"stem"),this.path=qo.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const a=this.message(t,n,r);throw a.fatal=!0,a}info(t,n,r){const a=this.message(t,n,r);return a.fatal=void 0,a}message(t,n,r){const a=new Ba(t,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function vb(e,t){if(e&&e.includes(qo.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+qo.sep+"`")}function bb(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function yE(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Mue(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Aue=function(e){const t=this.constructor.prototype,n=t[e],r=function(){return n.apply(r,arguments)};return Object.setPrototypeOf(r,t),r},Eue={}.hasOwnProperty;class ON extends Aue{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=hue()}copy(){const t=new ON;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(gb(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(kb("data",this.frozen),this.namespace[t]=n,this):Eue.call(this.namespace,t)&&this.namespace[t]||void 0:t?(kb("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(t,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=gh(t),r=this.parser||this.Parser;return xb("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),xb("process",this.parser||this.Parser),wb("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(i,o){const s=gh(t),l=r.parse(s);r.run(l,s,function(d,f,p){if(d||!f||!p)return u(d);const m=f,h=r.stringify(m,p);Tue(h)?p.value=h:p.result=h,u(d,p)});function u(d,f){d||!f?o(d):i?i(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),xb("processSync",this.parser||this.Parser),wb("processSync",this.compiler||this.Compiler),this.process(t,a),bE("processSync","process",n),r;function a(i,o){n=!0,uE(i),r=o}}run(t,n,r){vE(t),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(o,s){const l=gh(n);a.run(t,l,u);function u(d,f,p){const m=f||t;d?s(d):o?o(m):r(void 0,m,p)}}}runSync(t,n){let r=!1,a;return this.run(t,n,i),bE("runSync","run",r),a;function i(o,s){uE(o),a=s,r=!0}}stringify(t,n){this.freeze();const r=gh(n),a=this.compiler||this.Compiler;return wb("stringify",a),vE(t),a(t,r)}use(t,...n){const r=this.attachers,a=this.namespace;if(kb("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...f]=u;l(d,f)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(u.plugins),u.settings&&(a.settings=gb(!0,a.settings,u.settings))}function s(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const f=u[d];i(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,d){let f=-1,p=-1;for(;++f<r.length;)if(r[f][0]===u){p=f;break}if(p===-1)r.push([u,...d]);else if(d.length>0){let[m,...h]=d;const v=r[p][1];Hw(v)&&Hw(m)&&(m=gb(!0,v,m)),r[p]=[u,m,...h]}}}}const Due=new ON().freeze();function xb(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function wb(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function kb(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function vE(e){if(!Hw(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function bE(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function gh(e){return Pue(e)?e:new BF(e)}function Pue(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Tue(e){return typeof e=="string"||Oue(e)}function Oue(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Iue="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",xE=[],wE={allowDangerousHtml:!0},_ue=/^(https?|ircs?|mailto|xmpp)$/i,Lue=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Fue(e){const t=$ue(e),n=Rue(e);return Bue(t.runSync(t.parse(n),n),e)}function $ue(e){const t=e.rehypePlugins||xE,n=e.remarkPlugins||xE,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...wE}:wE;return Due().use(bce).use(n).use(pue,r).use(t)}function Rue(e){const t=e.children||"",n=new BF;return typeof t=="string"&&(n.value=t),n}function Bue(e,t){const n=t.allowedElements,r=t.allowElement,a=t.components,i=t.disallowedElements,o=t.skipHtml,s=t.unwrapDisallowed,l=t.urlTransform||zue;for(const d of Lue)Object.hasOwn(t,d.from)&&""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+Iue+d.id;return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),TN(e,u),nse(e,{Fragment:c.Fragment,components:a,ignoreInvalidStyle:!0,jsx:c.jsx,jsxs:c.jsxs,passKeys:!0,passNode:!0});function u(d,f,p){if(d.type==="raw"&&p&&typeof f=="number")return o?p.children.splice(f,1):p.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let m;for(m in pb)if(Object.hasOwn(pb,m)&&Object.hasOwn(d.properties,m)){const h=d.properties[m],v=pb[m];(v===null||v.includes(d.tagName))&&(d.properties[m]=l(String(h||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):i?i.includes(d.tagName):!1;if(!m&&r&&typeof f=="number"&&(m=!r(d,f,p)),m&&p&&typeof f=="number")return s&&d.children?p.children.splice(f,1,...d.children):p.children.splice(f,1),f}}}function zue(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||n!==-1&&t>n||r!==-1&&t>r||_ue.test(e.slice(0,t))?e:""}function kE(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,a=n.indexOf(t);for(;a!==-1;)r++,a=n.indexOf(t,a+t.length);return r}function Uue(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Vue(e,t,n){const r=Qy((n||{}).ignore||[]),a=Wue(t);let i=-1;for(;++i<a.length;)$F(e,"text",o);function o(l,u){let d=-1,f;for(;++d<u.length;){const p=u[d],m=f?f.children:void 0;if(r(p,m?m.indexOf(p):void 0,f))return;f=p}if(f)return s(l,u)}function s(l,u){const d=u[u.length-1],f=a[i][0],p=a[i][1];let m=0;const h=d.children.indexOf(l);let v=!1,b=[];f.lastIndex=0;let y=f.exec(l.value);for(;y;){const x=y.index,w={index:y.index,input:y.input,stack:[...u,l]};let S=p(...y,w);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?f.lastIndex=x+1:(m!==x&&b.push({type:"text",value:l.value.slice(m,x)}),Array.isArray(S)?b.push(...S):S&&b.push(S),m=x+y[0].length,v=!0),!f.global)break;y=f.exec(l.value)}return v?(m<l.value.length&&b.push({type:"text",value:l.value.slice(m)}),d.children.splice(h,1,...b)):b=[l],h+b.length}}function Wue(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const a=n[r];t.push([Hue(a[0]),que(a[1])])}return t}function Hue(e){return typeof e=="string"?new RegExp(Uue(e),"g"):e}function que(e){return typeof e=="function"?e:function(){return e}}const Sb="phrasing",Nb=["autolink","link","image","label"];function Kue(){return{transforms:[ede],enter:{literalAutolink:Yue,literalAutolinkEmail:jb,literalAutolinkHttp:jb,literalAutolinkWww:jb},exit:{literalAutolink:Zue,literalAutolinkEmail:Jue,literalAutolinkHttp:Que,literalAutolinkWww:Xue}}}function Gue(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Sb,notInConstruct:Nb},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Sb,notInConstruct:Nb},{character:":",before:"[ps]",after:"\\/",inConstruct:Sb,notInConstruct:Nb}]}}function Yue(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function jb(e){this.config.enter.autolinkProtocol.call(this,e)}function Que(e){this.config.exit.autolinkProtocol.call(this,e)}function Xue(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Jue(e){this.config.exit.autolinkEmail.call(this,e)}function Zue(e){this.exit(e)}function ede(e){Vue(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,tde],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),nde]],{ignore:["link","linkReference"]})}function tde(e,t,n,r,a){let i="";if(!zF(a)||(/^w/i.test(t)&&(n=t+n,t="",i="http://"),!rde(n)))return!1;const o=ade(n+r);if(!o[0])return!1;const s={type:"link",title:null,url:i+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[s,{type:"text",value:o[1]}]:s}function nde(e,t,n,r){return!zF(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function rde(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function ade(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const a=kE(e,"(");let i=kE(e,")");for(;r!==-1&&a>i;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),i++;return[e,n]}function zF(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Jc(n)||Ky(n))&&(!t||n!==47)}UF.peek=pde;function ide(){this.buffer()}function ode(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function sde(){this.buffer()}function lde(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function cde(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=xo(this.sliceSerialize(e)).toLowerCase(),n.label=t}function ude(e){this.exit(e)}function dde(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=xo(this.sliceSerialize(e)).toLowerCase(),n.label=t}function fde(e){this.exit(e)}function pde(){return"["}function UF(e,t,n,r){const a=n.createTracker(r);let i=a.move("[^");const o=n.enter("footnoteReference"),s=n.enter("reference");return i+=a.move(n.safe(n.associationId(e),{after:"]",before:i})),s(),o(),i+=a.move("]"),i}function mde(){return{enter:{gfmFootnoteCallString:ide,gfmFootnoteCall:ode,gfmFootnoteDefinitionLabelString:sde,gfmFootnoteDefinition:lde},exit:{gfmFootnoteCallString:cde,gfmFootnoteCall:ude,gfmFootnoteDefinitionLabelString:dde,gfmFootnoteDefinition:fde}}}function hde(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:UF},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,a,i,o){const s=i.createTracker(o);let l=s.move("[^");const u=i.enter("footnoteDefinition"),d=i.enter("label");return l+=s.move(i.safe(i.associationId(r),{before:l,after:"]"})),d(),l+=s.move("]:"),r.children&&r.children.length>0&&(s.shift(4),l+=s.move((t?`
`:" ")+i.indentLines(i.containerFlow(r,s.current()),t?VF:gde))),u(),l}}function gde(e,t,n){return t===0?e:VF(e,t,n)}function VF(e,t,n){return(n?"":"    ")+e}const yde=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];WF.peek=kde;function vde(){return{canContainEols:["delete"],enter:{strikethrough:xde},exit:{strikethrough:wde}}}function bde(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:yde}],handlers:{delete:WF}}}function xde(e){this.enter({type:"delete",children:[]},e)}function wde(e){this.exit(e)}function WF(e,t,n,r){const a=n.createTracker(r),i=n.enter("strikethrough");let o=a.move("~~");return o+=n.containerPhrasing(e,{...a.current(),before:o,after:"~"}),o+=a.move("~~"),i(),o}function kde(){return"~"}function Sde(e){return e.length}function Nde(e,t){const n=t||{},r=(n.align||[]).concat(),a=n.stringLength||Sde,i=[],o=[],s=[],l=[];let u=0,d=-1;for(;++d<e.length;){const v=[],b=[];let y=-1;for(e[d].length>u&&(u=e[d].length);++y<e[d].length;){const x=jde(e[d][y]);if(n.alignDelimiters!==!1){const w=a(x);b[y]=w,(l[y]===void 0||w>l[y])&&(l[y]=w)}v.push(x)}o[d]=v,s[d]=b}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<u;)i[f]=SE(r[f]);else{const v=SE(r);for(;++f<u;)i[f]=v}f=-1;const p=[],m=[];for(;++f<u;){const v=i[f];let b="",y="";v===99?(b=":",y=":"):v===108?b=":":v===114&&(y=":");let x=n.alignDelimiters===!1?1:Math.max(1,l[f]-b.length-y.length);const w=b+"-".repeat(x)+y;n.alignDelimiters!==!1&&(x=b.length+x+y.length,x>l[f]&&(l[f]=x),m[f]=x),p[f]=w}o.splice(1,0,p),s.splice(1,0,m),d=-1;const h=[];for(;++d<o.length;){const v=o[d],b=s[d];f=-1;const y=[];for(;++f<u;){const x=v[f]||"";let w="",S="";if(n.alignDelimiters!==!1){const j=l[f]-(b[f]||0),N=i[f];N===114?w=" ".repeat(j):N===99?j%2?(w=" ".repeat(j/2+.5),S=" ".repeat(j/2-.5)):(w=" ".repeat(j/2),S=w):S=" ".repeat(j)}n.delimiterStart!==!1&&!f&&y.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&x==="")&&(n.delimiterStart!==!1||f)&&y.push(" "),n.alignDelimiters!==!1&&y.push(w),y.push(x),n.alignDelimiters!==!1&&y.push(S),n.padding!==!1&&y.push(" "),(n.delimiterEnd!==!1||f!==u-1)&&y.push("|")}h.push(n.delimiterEnd===!1?y.join("").replace(/ +$/,""):y.join(""))}return h.join(`
`)}function jde(e){return e==null?"":String(e)}function SE(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function Cde(e,t,n,r){const a=n.enter("blockquote"),i=n.createTracker(r);i.move("> "),i.shift(2);const o=n.indentLines(n.containerFlow(e,i.current()),Mde);return a(),o}function Mde(e,t,n){return">"+(n?"":" ")+e}function Ade(e,t){return NE(e,t.inConstruct,!0)&&!NE(e,t.notInConstruct,!1)}function NE(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function jE(e,t,n,r){let a=-1;for(;++a<n.unsafe.length;)if(n.unsafe[a].character===`
`&&Ade(n.stack,n.unsafe[a]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function Ede(e,t){const n=String(e);let r=n.indexOf(t),a=r,i=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===a?++i>o&&(o=i):i=1,a=r+t.length,r=n.indexOf(t,a);return o}function Dde(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function Pde(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function Tde(e,t,n,r){const a=Pde(n),i=e.value||"",o=a==="`"?"GraveAccent":"Tilde";if(Dde(e,n)){const f=n.enter("codeIndented"),p=n.indentLines(i,Ode);return f(),p}const s=n.createTracker(r),l=a.repeat(Math.max(Ede(i,a)+1,3)),u=n.enter("codeFenced");let d=s.move(l);if(e.lang){const f=n.enter(`codeFencedLang${o}`);d+=s.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...s.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${o}`);d+=s.move(" "),d+=s.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...s.current()})),f()}return d+=s.move(`
`),i&&(d+=s.move(i+`
`)),d+=s.move(l),u(),d}function Ode(e,t,n){return(n?"":"    ")+e}function IN(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Ide(e,t,n,r){const a=IN(n),i=a==='"'?"Quote":"Apostrophe",o=n.enter("definition");let s=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(e),{before:u,after:"]",...l.current()})),u+=l.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(s=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...l.current()}))),s(),e.title&&(s=n.enter(`title${i}`),u+=l.move(" "+a),u+=l.move(n.safe(e.title,{before:u,after:a,...l.current()})),u+=l.move(a),s()),o(),u}function _de(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Np(e){return"&#x"+e.toString(16).toUpperCase()+";"}function v0(e,t,n){const r=xd(e),a=xd(t);return r===void 0?a===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}HF.peek=Lde;function HF(e,t,n,r){const a=_de(n),i=n.enter("emphasis"),o=n.createTracker(r),s=o.move(a);let l=o.move(n.containerPhrasing(e,{after:a,before:s,...o.current()}));const u=l.charCodeAt(0),d=v0(r.before.charCodeAt(r.before.length-1),u,a);d.inside&&(l=Np(u)+l.slice(1));const f=l.charCodeAt(l.length-1),p=v0(r.after.charCodeAt(0),f,a);p.inside&&(l=l.slice(0,-1)+Np(f));const m=o.move(a);return i(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},s+l+m}function Lde(e,t,n){return n.options.emphasis||"*"}function Fde(e,t){let n=!1;return TN(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Vw}),!!((!e.depth||e.depth<3)&&jN(e)&&(t.options.setext||n))}function $de(e,t,n,r){const a=Math.max(Math.min(6,e.depth||1),1),i=n.createTracker(r);if(Fde(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),p=n.containerPhrasing(e,{...i.current(),before:`
`,after:`
`});return f(),d(),p+`
`+(a===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const o="#".repeat(a),s=n.enter("headingAtx"),l=n.enter("phrasing");i.move(o+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...i.current()});return/^[\t ]/.test(u)&&(u=Np(u.charCodeAt(0))+u.slice(1)),u=u?o+" "+u:o,n.options.closeAtx&&(u+=" "+o),l(),s(),u}qF.peek=Rde;function qF(e){return e.value||""}function Rde(){return"<"}KF.peek=Bde;function KF(e,t,n,r){const a=IN(n),i=a==='"'?"Quote":"Apostrophe",o=n.enter("image");let s=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(e.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(s=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":")",...l.current()}))),s(),e.title&&(s=n.enter(`title${i}`),u+=l.move(" "+a),u+=l.move(n.safe(e.title,{before:u,after:a,...l.current()})),u+=l.move(a),s()),u+=l.move(")"),o(),u}function Bde(){return"!"}GF.peek=zde;function GF(e,t,n,r){const a=e.referenceType,i=n.enter("imageReference");let o=n.enter("label");const s=n.createTracker(r);let l=s.move("![");const u=n.safe(e.alt,{before:l,after:"]",...s.current()});l+=s.move(u+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return o(),n.stack=d,i(),a==="full"||!u||u!==f?l+=s.move(f+"]"):a==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function zde(){return"!"}YF.peek=Ude;function YF(e,t,n){let r=e.value||"",a="`",i=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(r);)a+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++i<n.unsafe.length;){const o=n.unsafe[i],s=n.compilePattern(o);let l;if(o.atBreak)for(;l=s.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return a+r+a}function Ude(){return"`"}function QF(e,t){const n=jN(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}XF.peek=Vde;function XF(e,t,n,r){const a=IN(n),i=a==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let s,l;if(QF(e,n)){const d=n.stack;n.stack=[],s=n.enter("autolink");let f=o.move("<");return f+=o.move(n.containerPhrasing(e,{before:f,after:">",...o.current()})),f+=o.move(">"),s(),n.stack=d,f}s=n.enter("link"),l=n.enter("label");let u=o.move("[");return u+=o.move(n.containerPhrasing(e,{before:u,after:"](",...o.current()})),u+=o.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(n.safe(e.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(l=n.enter("destinationRaw"),u+=o.move(n.safe(e.url,{before:u,after:e.title?" ":")",...o.current()}))),l(),e.title&&(l=n.enter(`title${i}`),u+=o.move(" "+a),u+=o.move(n.safe(e.title,{before:u,after:a,...o.current()})),u+=o.move(a),l()),u+=o.move(")"),s(),u}function Vde(e,t,n){return QF(e,n)?"<":"["}JF.peek=Wde;function JF(e,t,n,r){const a=e.referenceType,i=n.enter("linkReference");let o=n.enter("label");const s=n.createTracker(r);let l=s.move("[");const u=n.containerPhrasing(e,{before:l,after:"]",...s.current()});l+=s.move(u+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return o(),n.stack=d,i(),a==="full"||!u||u!==f?l+=s.move(f+"]"):a==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function Wde(){return"["}function _N(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Hde(e){const t=_N(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function qde(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function ZF(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Kde(e,t,n,r){const a=n.enter("list"),i=n.bulletCurrent;let o=e.ordered?qde(n):_N(n);const s=e.ordered?o==="."?")":".":Hde(n);let l=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),ZF(n)===o&&d){let f=-1;for(;++f<e.children.length;){const p=e.children[f];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=s),n.bulletCurrent=o;const u=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=i,a(),u}function Gde(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Yde(e,t,n,r){const a=Gde(n);let i=n.bulletCurrent||_N(n);t&&t.type==="list"&&t.ordered&&(i=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+i);let o=i.length+1;(a==="tab"||a==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const s=n.createTracker(r);s.move(i+" ".repeat(o-i.length)),s.shift(o);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,s.current()),d);return l(),u;function d(f,p,m){return p?(m?"":" ".repeat(o))+f:(m?i:i+" ".repeat(o-i.length))+f}}function Qde(e,t,n,r){const a=n.enter("paragraph"),i=n.enter("phrasing"),o=n.containerPhrasing(e,r);return i(),a(),o}const Xde=Qy(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Jde(e,t,n,r){return(e.children.some(function(a){return Xde(a)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function Zde(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}e$.peek=efe;function e$(e,t,n,r){const a=Zde(n),i=n.enter("strong"),o=n.createTracker(r),s=o.move(a+a);let l=o.move(n.containerPhrasing(e,{after:a,before:s,...o.current()}));const u=l.charCodeAt(0),d=v0(r.before.charCodeAt(r.before.length-1),u,a);d.inside&&(l=Np(u)+l.slice(1));const f=l.charCodeAt(l.length-1),p=v0(r.after.charCodeAt(0),f,a);p.inside&&(l=l.slice(0,-1)+Np(f));const m=o.move(a+a);return i(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},s+l+m}function efe(e,t,n){return n.options.strong||"*"}function tfe(e,t,n,r){return n.safe(e.value,r)}function nfe(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function rfe(e,t,n){const r=(ZF(n)+(n.options.ruleSpaces?" ":"")).repeat(nfe(n));return n.options.ruleSpaces?r.slice(0,-1):r}const t$={blockquote:Cde,break:jE,code:Tde,definition:Ide,emphasis:HF,hardBreak:jE,heading:$de,html:qF,image:KF,imageReference:GF,inlineCode:YF,link:XF,linkReference:JF,list:Kde,listItem:Yde,paragraph:Qde,root:Jde,strong:e$,text:tfe,thematicBreak:rfe};function afe(){return{enter:{table:ife,tableData:CE,tableHeader:CE,tableRow:sfe},exit:{codeText:lfe,table:ofe,tableData:Cb,tableHeader:Cb,tableRow:Cb}}}function ife(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function ofe(e){this.exit(e),this.data.inTable=void 0}function sfe(e){this.enter({type:"tableRow",children:[]},e)}function Cb(e){this.exit(e)}function CE(e){this.enter({type:"tableCell",children:[]},e)}function lfe(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,cfe));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function cfe(e,t){return t==="|"?t:e}function ufe(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,a=t.stringLength,i=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:o,tableCell:l,tableRow:s}};function o(m,h,v,b){return u(d(m,v,b),m.align)}function s(m,h,v,b){const y=f(m,v,b),x=u([y]);return x.slice(0,x.indexOf(`
`))}function l(m,h,v,b){const y=v.enter("tableCell"),x=v.enter("phrasing"),w=v.containerPhrasing(m,{...b,before:i,after:i});return x(),y(),w}function u(m,h){return Nde(m,{align:h,alignDelimiters:r,padding:n,stringLength:a})}function d(m,h,v){const b=m.children;let y=-1;const x=[],w=h.enter("table");for(;++y<b.length;)x[y]=f(b[y],h,v);return w(),x}function f(m,h,v){const b=m.children;let y=-1;const x=[],w=h.enter("tableRow");for(;++y<b.length;)x[y]=l(b[y],m,h,v);return w(),x}function p(m,h,v){let b=t$.inlineCode(m,h,v);return v.stack.includes("tableCell")&&(b=b.replace(/\|/g,"\\$&")),b}}function dfe(){return{exit:{taskListCheckValueChecked:ME,taskListCheckValueUnchecked:ME,paragraph:pfe}}}function ffe(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:mfe}}}function ME(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function pfe(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const a=t.children;let i=-1,o;for(;++i<a.length;){const s=a[i];if(s.type==="paragraph"){o=s;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function mfe(e,t,n,r){const a=e.children[0],i=typeof e.checked=="boolean"&&a&&a.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",s=n.createTracker(r);i&&s.move(o);let l=t$.listItem(e,t,n,{...r,...s.current()});return i&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(d){return d+o}}function hfe(){return[Kue(),mde(),vde(),afe(),dfe()]}function gfe(e){return{extensions:[Gue(),hde(e),bde(),ufe(e),ffe()]}}const yfe={tokenize:Sfe,partial:!0},n$={tokenize:Nfe,partial:!0},r$={tokenize:jfe,partial:!0},a$={tokenize:Cfe,partial:!0},vfe={tokenize:Mfe,partial:!0},i$={name:"wwwAutolink",tokenize:wfe,previous:s$},o$={name:"protocolAutolink",tokenize:kfe,previous:l$},Js={name:"emailAutolink",tokenize:xfe,previous:c$},as={};function bfe(){return{text:as}}let lc=48;for(;lc<123;)as[lc]=Js,lc++,lc===58?lc=65:lc===91&&(lc=97);as[43]=Js;as[45]=Js;as[46]=Js;as[95]=Js;as[72]=[Js,o$];as[104]=[Js,o$];as[87]=[Js,i$];as[119]=[Js,i$];function xfe(e,t,n){const r=this;let a,i;return o;function o(f){return!Kw(f)||!c$.call(r,r.previous)||LN(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(f))}function s(f){return Kw(f)?(e.consume(f),s):f===64?(e.consume(f),l):n(f)}function l(f){return f===46?e.check(vfe,d,u)(f):f===45||f===95||Fa(f)?(i=!0,e.consume(f),l):d(f)}function u(f){return e.consume(f),a=!0,l}function d(f){return i&&a&&Ha(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function wfe(e,t,n){const r=this;return a;function a(o){return o!==87&&o!==119||!s$.call(r,r.previous)||LN(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(yfe,e.attempt(n$,e.attempt(r$,i),n),n)(o))}function i(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function kfe(e,t,n){const r=this;let a="",i=!1;return o;function o(f){return(f===72||f===104)&&l$.call(r,r.previous)&&!LN(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),a+=String.fromCodePoint(f),e.consume(f),s):n(f)}function s(f){if(Ha(f)&&a.length<5)return a+=String.fromCodePoint(f),e.consume(f),s;if(f===58){const p=a.toLowerCase();if(p==="http"||p==="https")return e.consume(f),l}return n(f)}function l(f){return f===47?(e.consume(f),i?u:(i=!0,l)):n(f)}function u(f){return f===null||h0(f)||Qn(f)||Jc(f)||Ky(f)?n(f):e.attempt(n$,e.attempt(r$,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function Sfe(e,t,n){let r=0;return a;function a(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),a):o===46&&r===3?(e.consume(o),i):n(o)}function i(o){return o===null?n(o):t(o)}}function Nfe(e,t,n){let r,a,i;return o;function o(u){return u===46||u===95?e.check(a$,l,s)(u):u===null||Qn(u)||Jc(u)||u!==45&&Ky(u)?l(u):(i=!0,e.consume(u),o)}function s(u){return u===95?r=!0:(a=r,r=void 0),e.consume(u),o}function l(u){return a||r||!i?n(u):t(u)}}function jfe(e,t){let n=0,r=0;return a;function a(o){return o===40?(n++,e.consume(o),a):o===41&&r<n?i(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(a$,t,i)(o):o===null||Qn(o)||Jc(o)?t(o):(e.consume(o),a)}function i(o){return o===41&&r++,e.consume(o),a}}function Cfe(e,t,n){return r;function r(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(e.consume(s),r):s===38?(e.consume(s),i):s===93?(e.consume(s),a):s===60||s===null||Qn(s)||Jc(s)?t(s):n(s)}function a(s){return s===null||s===40||s===91||Qn(s)||Jc(s)?t(s):r(s)}function i(s){return Ha(s)?o(s):n(s)}function o(s){return s===59?(e.consume(s),r):Ha(s)?(e.consume(s),o):n(s)}}function Mfe(e,t,n){return r;function r(i){return e.consume(i),a}function a(i){return Fa(i)?n(i):t(i)}}function s$(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Qn(e)}function l$(e){return!Ha(e)}function c$(e){return!(e===47||Kw(e))}function Kw(e){return e===43||e===45||e===46||e===95||Fa(e)}function LN(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const Afe={tokenize:Lfe,partial:!0};function Efe(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Ofe,continuation:{tokenize:Ife},exit:_fe}},text:{91:{name:"gfmFootnoteCall",tokenize:Tfe},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Dfe,resolveTo:Pfe}}}}function Dfe(e,t,n){const r=this;let a=r.events.length;const i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;a--;){const l=r.events[a][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return s;function s(l){if(!o||!o._balanced)return n(l);const u=xo(r.sliceSerialize({start:o.end,end:r.now()}));return u.codePointAt(0)!==94||!i.includes(u.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function Pfe(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},s=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",a,t],["exit",a,t],["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...s),e}function Tfe(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i=0,o;return s;function s(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(f){if(i>999||f===93&&!o||f===null||f===91||Qn(f))return n(f);if(f===93){e.exit("chunkString");const p=e.exit("gfmFootnoteCallString");return a.includes(xo(r.sliceSerialize(p)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return Qn(f)||(o=!0),i++,e.consume(f),f===92?d:u}function d(f){return f===91||f===92||f===93?(e.consume(f),i++,u):u(f)}}function Ofe(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i,o=0,s;return l;function l(h){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(h){return h===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(h)}function d(h){if(o>999||h===93&&!s||h===null||h===91||Qn(h))return n(h);if(h===93){e.exit("chunkString");const v=e.exit("gfmFootnoteDefinitionLabelString");return i=xo(r.sliceSerialize(v)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),p}return Qn(h)||(s=!0),o++,e.consume(h),h===92?f:d}function f(h){return h===91||h===92||h===93?(e.consume(h),o++,d):d(h)}function p(h){return h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),a.includes(i)||a.push(i),Sn(e,m,"gfmFootnoteDefinitionWhitespace")):n(h)}function m(h){return t(h)}}function Ife(e,t,n){return e.check(dm,t,e.attempt(Afe,t,n))}function _fe(e){e.exit("gfmFootnoteDefinition")}function Lfe(e,t,n){const r=this;return Sn(e,a,"gfmFootnoteDefinitionIndent",5);function a(i){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(i):n(i)}}function Ffe(e){let t=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:a,resolveAll:r};return t==null&&(t=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function r(i,o){let s=-1;for(;++s<i.length;)if(i[s][0]==="enter"&&i[s][1].type==="strikethroughSequenceTemporary"&&i[s][1]._close){let l=s;for(;l--;)if(i[l][0]==="exit"&&i[l][1].type==="strikethroughSequenceTemporary"&&i[l][1]._open&&i[s][1].end.offset-i[s][1].start.offset===i[l][1].end.offset-i[l][1].start.offset){i[s][1].type="strikethroughSequence",i[l][1].type="strikethroughSequence";const u={type:"strikethrough",start:Object.assign({},i[l][1].start),end:Object.assign({},i[s][1].end)},d={type:"strikethroughText",start:Object.assign({},i[l][1].end),end:Object.assign({},i[s][1].start)},f=[["enter",u,o],["enter",i[l][1],o],["exit",i[l][1],o],["enter",d,o]],p=o.parser.constructs.insideSpan.null;p&&Ai(f,f.length,0,Gy(p,i.slice(l+1,s),o)),Ai(f,f.length,0,[["exit",d,o],["enter",i[s][1],o],["exit",i[s][1],o],["exit",u,o]]),Ai(i,l-1,s-l+3,f),s=l+f.length-2;break}}for(s=-1;++s<i.length;)i[s][1].type==="strikethroughSequenceTemporary"&&(i[s][1].type="data");return i}function a(i,o,s){const l=this.previous,u=this.events;let d=0;return f;function f(m){return l===126&&u[u.length-1][1].type!=="characterEscape"?s(m):(i.enter("strikethroughSequenceTemporary"),p(m))}function p(m){const h=xd(l);if(m===126)return d>1?s(m):(i.consume(m),d++,p);if(d<2&&!t)return s(m);const v=i.exit("strikethroughSequenceTemporary"),b=xd(m);return v._open=!b||b===2&&!!h,v._close=!h||h===2&&!!b,o(m)}}}class $fe{constructor(){this.map=[]}add(t,n,r){Rfe(this,t,n,r)}consume(t){if(this.map.sort(function(i,o){return i[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let a=r.pop();for(;a;){for(const i of a)t.push(i);a=r.pop()}this.map.length=0}}function Rfe(e,t,n,r){let a=0;if(!(n===0&&r.length===0)){for(;a<e.map.length;){if(e.map[a][0]===t){e.map[a][1]+=n,e.map[a][2].push(...r);return}a+=1}e.map.push([t,n,r])}}function Bfe(e,t){let n=!1;const r=[];for(;t<e.length;){const a=e[t];if(n){if(a[0]==="enter")a[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const i=r.length-1;r[i]=r[i]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function zfe(){return{flow:{null:{name:"table",tokenize:Ufe,resolveAll:Vfe}}}}function Ufe(e,t,n){const r=this;let a=0,i=0,o;return s;function s(E){let I=r.events.length-1;for(;I>-1;){const Q=r.events[I][1].type;if(Q==="lineEnding"||Q==="linePrefix")I--;else break}const O=I>-1?r.events[I][1].type:null,K=O==="tableHead"||O==="tableRow"?N:l;return K===N&&r.parser.lazy[r.now().line]?n(E):K(E)}function l(E){return e.enter("tableHead"),e.enter("tableRow"),u(E)}function u(E){return E===124||(o=!0,i+=1),d(E)}function d(E){return E===null?n(E):Vt(E)?i>1?(i=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),m):n(E):hn(E)?Sn(e,d,"whitespace")(E):(i+=1,o&&(o=!1,a+=1),E===124?(e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),o=!0,d):(e.enter("data"),f(E)))}function f(E){return E===null||E===124||Qn(E)?(e.exit("data"),d(E)):(e.consume(E),E===92?p:f)}function p(E){return E===92||E===124?(e.consume(E),f):f(E)}function m(E){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(E):(e.enter("tableDelimiterRow"),o=!1,hn(E)?Sn(e,h,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):h(E))}function h(E){return E===45||E===58?b(E):E===124?(o=!0,e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),v):j(E)}function v(E){return hn(E)?Sn(e,b,"whitespace")(E):b(E)}function b(E){return E===58?(i+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(E),e.exit("tableDelimiterMarker"),y):E===45?(i+=1,y(E)):E===null||Vt(E)?S(E):j(E)}function y(E){return E===45?(e.enter("tableDelimiterFiller"),x(E)):j(E)}function x(E){return E===45?(e.consume(E),x):E===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(E),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(E))}function w(E){return hn(E)?Sn(e,S,"whitespace")(E):S(E)}function S(E){return E===124?h(E):E===null||Vt(E)?!o||a!==i?j(E):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(E)):j(E)}function j(E){return n(E)}function N(E){return e.enter("tableRow"),M(E)}function M(E){return E===124?(e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),M):E===null||Vt(E)?(e.exit("tableRow"),t(E)):hn(E)?Sn(e,M,"whitespace")(E):(e.enter("data"),P(E))}function P(E){return E===null||E===124||Qn(E)?(e.exit("data"),M(E)):(e.consume(E),E===92?B:P)}function B(E){return E===92||E===124?(e.consume(E),P):P(E)}}function Vfe(e,t){let n=-1,r=!0,a=0,i=[0,0,0,0],o=[0,0,0,0],s=!1,l=0,u,d,f;const p=new $fe;for(;++n<e.length;){const m=e[n],h=m[1];m[0]==="enter"?h.type==="tableHead"?(s=!1,l!==0&&(AE(p,t,l,u,d),d=void 0,l=0),u={type:"table",start:Object.assign({},h.start),end:Object.assign({},h.end)},p.add(n,0,[["enter",u,t]])):h.type==="tableRow"||h.type==="tableDelimiterRow"?(r=!0,f=void 0,i=[0,0,0,0],o=[0,n+1,0,0],s&&(s=!1,d={type:"tableBody",start:Object.assign({},h.start),end:Object.assign({},h.end)},p.add(n,0,[["enter",d,t]])),a=h.type==="tableDelimiterRow"?2:d?3:1):a&&(h.type==="data"||h.type==="tableDelimiterMarker"||h.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(i[1]!==0&&(o[0]=o[1],f=yh(p,t,i,a,void 0,f),i=[0,0,0,0]),o[2]=n)):h.type==="tableCellDivider"&&(r?r=!1:(i[1]!==0&&(o[0]=o[1],f=yh(p,t,i,a,void 0,f)),i=o,o=[i[1],n,0,0])):h.type==="tableHead"?(s=!0,l=n):h.type==="tableRow"||h.type==="tableDelimiterRow"?(l=n,i[1]!==0?(o[0]=o[1],f=yh(p,t,i,a,n,f)):o[1]!==0&&(f=yh(p,t,o,a,n,f)),a=0):a&&(h.type==="data"||h.type==="tableDelimiterMarker"||h.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&AE(p,t,l,u,d),p.consume(t.events),n=-1;++n<t.events.length;){const m=t.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=Bfe(t.events,n))}return e}function yh(e,t,n,r,a,i){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",s="tableContent";n[0]!==0&&(i.end=Object.assign({},Cu(t.events,n[0])),e.add(n[0],0,[["exit",i,t]]));const l=Cu(t.events,n[1]);if(i={type:o,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",i,t]]),n[2]!==0){const u=Cu(t.events,n[2]),d=Cu(t.events,n[3]),f={type:s,start:Object.assign({},u),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const p=t.events[n[2]],m=t.events[n[3]];if(p[1].end=Object.assign({},m[1].end),p[1].type="chunkText",p[1].contentType="text",n[3]>n[2]+1){const h=n[2]+1,v=n[3]-n[2]-1;e.add(h,v,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return a!==void 0&&(i.end=Object.assign({},Cu(t.events,a)),e.add(a,0,[["exit",i,t]]),i=void 0),i}function AE(e,t,n,r,a){const i=[],o=Cu(t.events,n);a&&(a.end=Object.assign({},o),i.push(["exit",a,t])),r.end=Object.assign({},o),i.push(["exit",r,t]),e.add(n+1,0,i)}function Cu(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const Wfe={name:"tasklistCheck",tokenize:qfe};function Hfe(){return{text:{91:Wfe}}}function qfe(e,t,n){const r=this;return a;function a(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),i)}function i(l){return Qn(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):n(l)}function s(l){return Vt(l)?t(l):hn(l)?e.check({tokenize:Kfe},t,n)(l):n(l)}}function Kfe(e,t,n){return Sn(e,r,"whitespace");function r(a){return a===null?n(a):t(a)}}function Gfe(e){return bF([bfe(),Efe(),Ffe(e),zfe(),Hfe()])}const Yfe={};function Qfe(e){const t=this,n=e||Yfe,r=t.data(),a=r.micromarkExtensions||(r.micromarkExtensions=[]),i=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);a.push(Gfe(n)),i.push(hfe()),o.push(gfe(n))}const Mb='# Combat Metrics Spec\n\nThis document describes the project-defined combat metrics used in the UI,\nDiscord summaries, and aggregate stats. The intent is to define the metrics\nindependently from any third-party implementation while staying consistent\nwith EI JSON inputs. It also records the exact fields and aggregation rules\nso the stats dashboard, Discord, and cards produce identical values.\n\nSpec version: `v5` (see `src/shared/metrics-methods.json`).\n\n## Input Contract (EI JSON)\n\nAll metrics are derived from the EI JSON payload produced by dps.report. The\nminimum fields consumed are:\n\n- `players[*].dpsAll[0].damage`, `players[*].dpsAll[0].dps`, `players[*].dpsAll[0].breakbarDamage`\n- `players[*].defenses[0].damageTaken`, `deadCount`, `downCount`,\n  `missedCount`, `blockedCount`, `evadedCount`, `dodgeCount`,\n  `receivedCrowdControl`, `receivedCrowdControlDuration`,\n  `boonStrips`, `boonStripsTime`\n- `players[*].minions[*].totalDamageTakenDist[0][*].totalDamage` (fallback:\n  `damageTaken`) for minion incoming damage totals\n- `players[*].support[0].condiCleanse`, `condiCleanseSelf`, `boonStrips`,\n  `boonStripsTime`, `resurrects`\n- `players[*].statsAll[0].stackDist`, `players[*].statsAll[0].distToCom`\n- `players[*].statsTargets[*][0].downContribution`, `killed`, `downed`,\n  `againstDownedCount`\n- `players[*].extHealingStats.outgoingHealingAllies`\n- `players[*].extBarrierStats.outgoingBarrierAllies`\n- `players[*].totalDamageDist`, `players[*].targetDamageDist`, `players[*].totalDamageTaken`\n- `players[*].damage1S`, `players[*].targetDamage1S`,\n  `players[*].powerDamageTaken1S`, `players[*].targetPowerDamage1S`\n- `players[*].activeTimes`\n- `players[*].rotation`\n- `players[*].buffUptimes`\n- `players[*].selfBuffs`, `players[*].groupBuffs`, `players[*].squadBuffs`\n- `players[*].selfBuffsActive`, `players[*].groupBuffsActive`, `players[*].squadBuffsActive`\n- `players[*].group`\n- `buffMap`, `skillMap`, and `durationMS` for stability generation, boon output, and skill labeling\n- `targets[*].buffs[*].statesPerSource` when available for condition application counts\n- `details.fightName`, `details.uploadTime` (or `details.timeStartStd` / `details.timeStart` fallback),\n  `details.zone`/`mapName`/`map`/`location`, `details.success`,\n  `details.targets`, `details.durationMS`\n- `targets[*].totalDamageDist`, `targets[*].powerDamage1S`, `targets[*].damage1S`,\n  `targets[*].enemyPlayer`, `targets[*].isFake`, `targets[*].profession`\n\nIf any of these are missing, the metric falls back to `0` as defined below.\n\n## Crowd Control & Strips Methodology\n\nThe app supports three user-selectable methodologies (default: `count`),\nconfigured in `src/shared/metrics-methods.json`:\n\n1. **Count Events** (`count`)  \n   Uses EI summary counts for CC/strips. Best for stable, comparable totals.\n\n2. **Duration (Seconds)** (`duration`)  \n   Uses EI summary durations (converted to seconds). Best for impact-weighted\n   totals, but units are time not event counts.\n\n3. **Tiered Impact** (`tiered`)  \n   Uses average duration per event to apply tiered weights. Best for balancing\n   short vs long control with a simple, configurable heuristic.\n\nThese methodologies apply to:\n- Outgoing CC totals\n- Incoming CC totals\n- Incoming strips totals\n\n## Outgoing Crowd Control\n\nFor each player:\n- `count`: `statsAll[0].appliedCrowdControl`\n- `duration`: `statsAll[0].appliedCrowdControlDuration / 1000`\n- `tiered`: `appliedCrowdControl * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/combatMetrics.ts` (computeOutgoingCrowdControl).\n\n## Incoming Strips and Crowd Control\n\nFor each player:\n- Incoming CC uses `defenses[0].receivedCrowdControl` and\n  `defenses[0].receivedCrowdControlDuration`.\n- Incoming strips use `defenses[0].boonStrips` and `defenses[0].boonStripsTime`.\n\nMethod application is the same as outgoing CC (count/duration/tiered).\n\nImplementation: `src/shared/combatMetrics.ts` (computeIncomingDisruptions).\n\n## Cleanses\n\n`cleanses = support[0].condiCleanse + support[0].condiCleanseSelf`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerCleanses).\n\nUI note: the Support table can display either **All** (condiCleanse + condiCleanseSelf) or **Squad** (condiCleanse only) via the cleanse-scope toggle. Discord and top summaries use **All**.\n\n## Strips\n\n`strips` uses the configured methodology:\n- `count`: `support[0].boonStrips`\n- `duration`: `support[0].boonStripsTime / 1000`\n- `tiered`: `boonStrips * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerStrips).\n\n## Down Contribution\n\nDown contribution is the sum of `statsTargets[*][0].downContribution` across\nall targets for the player.\n\nImplementation: `src/shared/combatMetrics.ts` (computeDownContribution).\n\n## Squad Barrier and Squad Healing\n\nSquad barrier and healing sum all phases of `extBarrierStats.outgoingBarrierAllies`\nand `extHealingStats.outgoingHealingAllies` respectively.\n\nImplementation: `src/shared/combatMetrics.ts` (computeSquadBarrier, computeSquadHealing).\n\n## Stability Generation\n\nStability generation uses the EI buff data via `getPlayerBoonGenerationMs`\nand writes `player.stabGeneration` in seconds.\n\nImplementation: `src/shared/combatMetrics.ts` (applySquadStabilityGeneration).\n\n## Damage and DPS\n\n`damage = dpsAll[0].damage`  \n`dps = dpsAll[0].dps`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamage, getPlayerDps).\n\n## Breakbar Damage\n\n`breakbarDamage = dpsAll[0].breakbarDamage`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerBreakbarDamage).\n\n## Incoming Damage (Taken)\n\n`damageTaken = defenses[0].damageTaken`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamageTaken).\n\nIncoming damage per skill (incoming damage distribution) is derived from\n`players[*].totalDamageTaken[*]` entries and summed across players for the\nsquad view. This total can be large for siege skills because it aggregates\nall hits and all players (and across multiple logs when viewing aggregates).\n\n## Damage Mitigation (Player + Minion)\n\nDamage mitigation is an **estimate** of avoided damage based on enemy skill\ndamage averages and avoidance events (block/evade/miss/invuln/interrupted).\nIt is intended for relative comparisons between players/minions and logs, not\nas a literal damage prevented total.\n\n### Inputs Used\n\nPer-log data sources:\n\n- Enemy damage distribution: `targets[*].totalDamageDist[0]`\n- Player avoided events: `players[*].totalDamageTaken[0]`\n- Minion avoided events: `players[*].minions[*].totalDamageTakenDist[0]`\n- Skill names: `skillMap` / `buffMap` (for UI labels only)\n\n### Enemy Skill Damage Averages\n\nFor each skill id across **all logs in the aggregation**:\n\n1. Gather `totalDamage` and `connectedHits` from every targets\n   `totalDamageDist[0]` entry with the same `id`.\n2. Compute:\n   - `avgDamage = sum(totalDamage) / sum(connectedHits)`\n   - `minDamage = average(entry.min over all occurrences)`\n\nThese averages are computed **once for the aggregation window** and used for\nall player/minion mitigation calculations.\n\n### Avoided Damage Per Skill (Formula)\n\nFor a given skill id `S` with enemy averages `avgDamage` and `minDamage`:\n\n```\navoidCount = blocked + evaded + missed + invulned + interrupted\navoidDamage = (glanced * avgDamage / 2) + (avoidCount * avgDamage)\nminAvoidDamage = (glanced * minDamage / 2) + (avoidCount * minDamage)\n```\n\nNotes:\n- `glanced` is treated as half damage.\n- If `connectedHits` for the enemy skill is `0`, the skill is excluded from\n  mitigation totals (both avoid and min avoid).\n\n### Player Mitigation Aggregation\n\nFor each player (account key):\n\n1. Sum avoidance counts **per skill id** across all logs:\n   - `hits`, `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`.\n2. For each skill id, compute `avoidDamage` / `minAvoidDamage` using the global\n   enemy averages (above).\n3. **Include only skills with `avoidDamage > 0`** in totals.\n4. Totals are the sum of:\n   - `totalHits` (from `hits`)\n   - `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`\n   - `totalMitigation` (sum of avoidDamage)\n   - `minMitigation` (sum of minAvoidDamage)\n\n### Minion Mitigation Aggregation\n\nFor each minion (player account + minion name):\n\n1. Sum avoidance counts **per skill id** across all logs using\n   `minion.totalDamageTakenDist[0]`.\n2. Use the **same enemy averages** (from targets).\n3. Compute totals using the same formula and inclusion rules as player\n   mitigation.\n\nMinion names are normalized by:\n- Removing `"Juvenile "` prefix.\n- Converting names containing `"UNKNOWN"` to `"Unknown"`.\n\n### Field Mapping in UI\n\nThe Damage Mitigation table uses the following totals:\n\n- `Total Hits`  summed `hits` for included skills\n- `Evaded`, `Blocked`, `Glanced`, `Missed`, `Invulned`, `Interrupted`\n- `Damage Mitigation`  `totalMitigation`\n- `Min Damage Mitigation`  `minMitigation`\n\n### Why This Diverges From Some External Tools\n\nSome tools compute mitigation differently (e.g., per-log accumulation with\nrunning averages, name-based skill bucketing, or repeated adding across logs).\nThis spec intentionally computes **one consistent estimate** across all logs\nusing **global enemy averages** and **per-skill cumulative counts**, which\navoids log-count bias.\n\n### Known Limitations\n\n- If a skills `connectedHits` is zero in targets data, mitigation for that\n  skill is excluded.\n- Some skills share names across different ids; we bucket by **skill id** to\n  avoid collisions.\n- Enemy damage averages are computed from `targets[*].totalDamageDist[0]` and\n  can be skewed by target mix, fake targets, or atypical fights.\n\n### How-To: Validate Against Raw EI JSON\n\n1. Choose a player or minion and a specific skill id from:\n   - `players[*].totalDamageTaken[0]` or `minions[*].totalDamageTakenDist[0]`.\n2. Compute counts: `blocked`, `evaded`, `glanced`, `missed`, `invulned`,\n   `interrupted`, `hits`.\n3. Compute enemy averages from all logs `targets[*].totalDamageDist[0]` for\n   the same skill id.\n4. Apply the formula above and verify the per-skill avoided damage.\n5. Sum over skills with `avoidDamage > 0` to confirm table totals.\n\n### How-To: Debug Mismatches\n\n1. Confirm the same log set is being aggregated.\n2. Verify skill ids match (name collisions can hide differences).\n3. Check if the target data includes the skill id with non-zero\n   `connectedHits`.\n4. Validate that minion names are normalized (`Juvenile` prefix removed).\n5. Compare against a single skill id first, then widen to all skills.\n\n## Conditions (Outgoing + Incoming)\n\nOutgoing condition totals are derived from `players[*].totalDamageDist[*]`\nentries whose resolved skill name maps to a condition label (see\n`CONDITION_NAME_MAP`). For each matching entry:\n\n- `applications` uses `connectedHits` when available, otherwise falls back to\n  `hits` (needed for non-damaging conditions like blind/slow/fear).\n- `damage` uses `totalDamage`.\n\nTotals are aggregated per player and across the squad. The UI can filter to a\nsingle condition or show the all-conditions rollup.\n\nIncoming condition totals are derived from `players[*].totalDamageTaken[*]`\nentries whose resolved skill/buff ID maps to a condition. For each matching\nentry:\n\n- `applications` uses `hits`.\n- `damage` uses `totalDamage`.\n\n### Current Condition Labels (Normalization)\n\nCondition detection normalizes skill/buff names to the following labels. Only\nthese are counted as conditions:\n\n- Bleeding\n- Burning\n- Confusion\n- Poison\n- Torment\n- Vulnerability\n- Weakness\n- Blind\n- Cripple\n- Chill\n- Immobilize\n- Slow\n- Fear\n- Taunt\n\nNotes:\n- The matcher lowercases and trims names, then maps variants like `crippled`\n   `Cripple` and `chilled`  `Chill`.\n- If a skill/buff name does not normalize to one of the labels above, it is\n  excluded from condition totals.\n\n### Limitation (Hosted JSON)\n\nAccurate application counts for non-damaging conditions (e.g., vulnerability,\nweakness, blind, slow) require target buff state timelines\n(`targets[*].buffs[*].statesPerSource`). If hosted JSON lacks this data (common\nin older logs or trimmed outputs), the app falls back to damage distribution\n(`totalDamageDist`) hit counts, which can significantly under-count\napplications for those conditions.\n\n### Condition Application Counting (States Per Source)\n\nWhen `targets[*].buffs[*].statesPerSource` is available, the app computes two\nseparate application counts per condition:\n\n- **Stack Delta Applications (`applicationsFromBuffs`)**  \n  Counts the **sum of positive stack increases** across the states timeline.\n  Example timeline: `0  1  3  2  5` contributes `+1 +2 +3 = 6`.  \n  This aligns with the technical definition of applications as **stacks\n  actually added**.\n\n- **Active State Entries (`applicationsFromBuffsActive`)**  \n  Counts **each non-zero state entry** (each time the state updates while the\n  condition is active). This tracks **how often the buff state changed while\n  active**, which often matches external tooling that counts active segments,\n  but can **over-count** true applications for stacking conditions.\n\n**Tradeoffs:**\n- *Stack delta* is closer to how many stacks were applied but can be lower\n  than tools that count refreshes/active entries.\n- *Active entries* better match some log combiner views but can overstate\n  application counts when stacks are refreshed without adding stacks.\n\n## Deaths / Downs (Taken)\n\n`deaths = defenses[0].deadCount`  \n`downsTaken = defenses[0].downCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDeaths, getPlayerDownsTaken).\n\n## Dodges / Misses / Blocks / Evades (Taken)\n\n`dodges = defenses[0].dodgeCount`  \n`missed = defenses[0].missedCount`  \n`blocked = defenses[0].blockedCount`  \n`evaded = defenses[0].evadedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts`\n(getPlayerDodges, getPlayerMissed, getPlayerBlocked, getPlayerEvaded).\n\n## Resurrects\n\n`resurrects = support[0].resurrects`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerResurrects).\n\n## Distance to Tag\n\n`distanceToTag = statsAll[0].distToCom` if present; otherwise use\n`statsAll[0].stackDist`. If both are missing but combat replay positions are\navailable, compute the average distance to the commander tag over the\navailable timeline. Otherwise `0`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDistanceToTag).\n\n## Kills / Downs / Against Downed (Target Stats)\n\nFor each player, aggregate from `statsTargets[*][0]`:\n\n- `killed`\n- `downed`\n- `againstDownedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getTargetStatTotal).\n\n## Skill Usage Tracker (Rotation Casts)\n\nSkill usage is derived from each player\'s `rotation` entries in EI JSON. For\neach rotation skill entry:\n- `castCount = rotationSkill.skills.length`\n- `skillId = s{rotationSkill.id}`\n- Counts are aggregated per player per log and summed across logs for totals.\n\nThe Skill Usage Tracker supports two display modes:\n- **Total**: raw cast counts per player (per log in the timeline).\n- **Per Second**: cast rate using active time, where\n  `activeSeconds = players[*].activeTimes[0] / 1000` when available, otherwise\n  `durationMS / 1000` from the log details.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (skill usage tracker aggregation).\n\n## APM Breakdown\n\nAPM is derived from the Skill Usage Tracker data (rotation casts). For each\nplayer:\n- `totalCasts = sum(rotationSkill.skills.length)`\n- `apm = totalCasts / (activeSeconds / 60)`\n- `aps = totalCasts / activeSeconds`\n- Auto-attack counts are excluded for the "No Auto" variants.\n\nThe APM Breakdown groups players by profession and aggregates per-skill cast\ncounts across the group.\n\nImplementation: `src/renderer/stats/hooks/useApmStats.ts`.\n\n## Player Skill Breakdown (Damage / Down Contribution / DPS)\n\nPer-player skill damage breakdown is built from the same damage distribution\ninputs as Top Skills (see below):\n- Outgoing skill damage uses `targetDamageDist` (default) or `totalDamageDist`\n  based on settings.\n- Each entry contributes `totalDamage` and `downContribution`.\n\nFor each player and skill:\n- `totalDamage = sum(entry.totalDamage)`\n- `downContribution = sum(entry.downContribution)`\n- `dps = totalDamage / (totalFightSeconds)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Top Skills (Outgoing / Incoming)\n\nTop Outgoing Skills are derived from the squad-wide aggregation of\n`targetDamageDist` (default) or `totalDamageDist` entries:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.connectedHits)`\n- `downContribution = sum(entry.downContribution)`\n\nWhen using target-based outgoing aggregation, total-distribution supplementation\nis mode-sensitive:\n- non-detailed logs (`detailedWvW !== true`): missing/under-reported target\n  skill ids may be supplemented from `totalDamageDist` deltas\n- detailed WvW logs (`detailedWvW === true`): supplementation from\n  `totalDamageDist` is disabled to avoid known outlier max/damage artifacts\n  observed in some EI exports\n\nTop Incoming Skills are derived from `totalDamageTaken`:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.hits)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Boon Output\n\nBoon output tables are computed from player boon generation data:\n- `selfBuffs`, `groupBuffs`, `squadBuffs` (and their `Active` variants)\n- `buffMap` for name/icon/stacking metadata\n- `durationMS`, `activeTimes`, and `group` for normalization\n\nImplementation: `src/shared/boonGeneration.ts`.\n\n### Boon Timeline (Defense)\n\nThe Boon Timeline section uses the same generation foundation as Boon Output\nwith **Total** semantics:\n\n- Per-player per-boon totals use:\n  - `selfBuffs + squadBuffs`\n  - `groupBuffs` is intentionally excluded to avoid double counting\n    (group is a subset of squad in this model)\n- Scope toggle:\n  - `Self` = `selfBuffs`\n  - `Squad` = `squadBuffs` (default)\n  - `Group` = `groupBuffs`\n  - `All` = `selfBuffs + squadBuffs` (`totalBuffs`)\n\nFor each fight and boon:\n\n1. Compute player total generation milliseconds:\n   - stacking boons:\n     - `generationMs = generation * durationMs * recipientCount`\n   - non-stacking boons:\n     - `generationMs = (generation / 100) * durationMs * recipientCount`\n   - where:\n     - `recipientCount = 1` for self\n     - `recipientCount = squadCount - 1` for squad\n\n2. Build 5-second bucket shape from `buffUptimes[*].statesPerSource`:\n   - integrate source state value over time (time-weighted area) into each 5s bucket\n   - this yields relative bucket weights (not final totals)\n\n3. Scale bucket weights to the player fight total from step 1:\n   - `bucketValue = bucketWeight * (fightTotal / sum(bucketWeights))`\n   - fallback when timeline weights are unavailable: uniform distribution across buckets\n\nUnits shown in the UI are **boon-seconds** (`generationMs / 1000`), aggregated\nacross recipients. Because this is recipient-aggregated generation, 5s bucket\nvalues can exceed `5` and may be large for stacking boons or `All`-player view.\n\nTimeline player identity is account-level (`account`) to match Boon Output row\ngrouping across profession swaps.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`,\n`src/renderer/StatsView.tsx`.\n\n## Special Buffs\n\nSpecial (non-boon) buff tables are computed from `buffUptimes` using\n`buffMap` classification and icon metadata. Durations are normalized by\n`activeTimes` and `durationMS`.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n### Sigil/Relic Uptime (Other Metrics)\n\nThe `Sigil/Relic Uptime` section is derived from `specialTables` and filtered\nto entries whose buff name matches `sigil` or `relic` (case-insensitive).\n\n#### Data source and eligibility\n\nFor each squad player and each non-boon buff in `players[*].buffUptimes`:\n\n- Buff metadata source:\n  - `details.buffMap[b{id}]` (fallback `details.buffMap[id]`)\n- Include only:\n  - non-boons (`classification !== "Boon"`)\n  - rows with valid positive uptime signal:\n    - `buffData[0].uptime > 0` or `buffData[0].presence > 0`\n\n#### Two parallel measures stored for each row\n\n1. **Stack/Intensity measure** (`total`, `perSecond`)\n   - used by the generic Special Buffs table\n   - formula:\n     - if stacking buff: `uptimeFactor = uptimeRaw`\n     - else: `uptimeFactor = uptimeRaw / 100`\n     - `totalMs += uptimeFactor * activeMs`\n   - output:\n     - `total = totalMs / 1000`\n     - `perSecond = totalMs / durationMs`\n\n2. **True uptime percentage measure** (`uptimePerSecond`)\n   - used by `Sigil/Relic Uptime`\n   - formula:\n     - non-stacking buff:\n       - `uptimePctRaw = uptimeRaw`\n     - stacking buff:\n       - `uptimePctRaw = presenceRaw`\n     - clamp to percentage domain:\n       - `uptimePct = clamp(uptimePctRaw, 0, 100) / 100`\n     - accumulate:\n       - `uptimeMs += uptimePct * activeMs`\n   - final denominator:\n     - `fullPlayerDurationMs = player.supportActiveMs`\n     - `uptimePerSecond = uptimeMs / fullPlayerDurationMs`\n   - rendered as:\n     - `Uptime% = uptimePerSecond * 100`\n\n#### Why this is the accuracy model\n\nThis method intentionally uses the **same activity window in numerator and\ndenominator** (player active time):\n\n- Numerator:\n  - uptime milliseconds accumulated from each fight over player active time\n- Denominator:\n  - total player active time across selected fights\n\nThat produces a direct interpretation:\n\n- "Percent of the time this player was active that this sigil/relic effect was\n  present."\n\nFor stacking gear buffs, `presence` is used for percent uptime because\n`uptime` on stacking buffs represents average stack intensity, not time-up\npercentage. This avoids under/over-reporting caused by treating stack-average\nas uptime%.\n\n### Fight Comparison (Other Metrics)\n\n`Fight Comparison` compares two selected fights using two focused views:\n\n1. `Target Focus Comparison`\n- Aggregates squad outgoing damage into enemy profession buckets using\n  `players[*].statsTargets[targetIndex][0].damage`.\n- Target labels are resolved from `targets[targetIndex]` with profession-first\n  fallback (`profession -> name -> id`).\n- Per fight, each target bucket includes:\n  - `damage`\n  - `hits`\n  - `share = damage / totalTargetDamage`\n- Comparison table uses the union of target buckets and highlights\n  `shareDelta = fightB.share - fightA.share`.\n\n2. `Squad Metric Comparison`\n- Compares squad-level fight aggregates instead of individual player leaders.\n- Includes broad outcome/pressure/support metrics, including:\n  - win flag, squad size, enemy count, squad KDR\n  - enemy deaths/downs, squad deaths/downs\n  - outgoing/incoming damage and damage delta\n  - cleanses, strips, stability, healing, barrier out\n  - incoming barrier absorption, enemy barrier absorption\n  - squad CC, down contribution, revived players\n- Delta shown is `fightB.value - fightA.value`; color semantics account for\n  metric direction (`higherIsBetter`).\n\nImplementation:\n- aggregation payload build: `src/renderer/stats/computeStatsAggregation.ts` (`fightDiffMode`)\n- section rendering: `src/renderer/stats/sections/FightDiffModeSection.tsx`\n\n## Offense / Defense / Support / Healing Tables\n\nDetailed tables aggregate the per-player totals defined in:\n- `src/renderer/stats/statsMetrics.ts` (metric definitions)\n- `src/shared/dashboardMetrics.ts` (per-player metric extraction)\n- `src/renderer/stats/computeStatsAggregation.ts` (aggregation)\n\nDefense Detailed includes a derived metric:\n- `Minion Damage Taken`:\n  sum `players[*].minions[*].totalDamageTakenDist[0][*].totalDamage`, with\n  fallback to `damageTaken` when `totalDamage` is absent.\n\n## Spike Damage\n\nSpike Damage has four modes:\n- `hit`: highest single skill hit in a fight\n- `1s`: highest rolling 1-second damage burst in a fight\n- `5s`: highest rolling 5-second damage burst in a fight\n- `30s`: highest rolling 30-second damage burst in a fight\n\n### Player Identity\n\nPer-fight player keys are resolved as:\n- `key = "${account}|${profession}"`\n- `account = player.account || player.name || "Unknown"`\n- `profession = player.profession || "Unknown"`\n\nThis same key is used to join:\n- player list\n- per-fight values\n- selected-player chart/drilldown\n\n### Highest Single Hit (`hit`)\n\nFor each squad player (`!notInSquad`), the highest single-hit value is scanned\nfrom damage distributions (skill maps used for names).\n\nValue:\n- candidate fields per entry:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- no inferred single-hit estimate is used (for example,\n  `totalDamage / connectedHits` is intentionally excluded)\n\nSource priority:\n- primary: `targetDamageDist`\n- fallback: `totalDamageDist` only when no target entries are present (or no\n  positive peak was found from target entries)\n\nDetailed WvW safeguard:\n- for logs with `detailedWvW === true`, target-side data is treated as the\n  authoritative source for spike-hit computations whenever present, because\n  some logs can contain total-distribution outlier maxima that are inconsistent\n  with target-distribution entries.\n\nSkill label:\n- `skillName` from `skillMap`/`buffMap` by id fallback (`Unknown Skill` if missing)\n\n### Rolling Burst (`1s` / `5s`)\n\nBurst uses per-second **delta** damage:\n1. Build cumulative damage for phase 0:\n   - prefer aggregated target phase 0 from `targetDamage1S` when available\n   - fallback to `damage1S[0]`\n2. Convert cumulative -> per-second deltas:\n   - `delta[i] = max(0, cumulative[i] - cumulative[i-1])` (`i=0` uses prev `0`)\n3. Compute rolling windows:\n- `burst1s = max(sum(delta[i..i]))`\n- `burst5s = max(sum(delta[i..i+4]))`\n- `burst30s = max(sum(delta[i..i+29]))`\n\nImplementation includes support for EI shape variants:\n- Shape A: `[phase][target][time]`\n- Shape B: `[target][phase][time]`\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses the corresponding max series as the dashed reference line.\n\n### Drilldown (5s Buckets)\n\nSelected fight drilldown is always rendered as 5-second buckets.\n\nBucket source:\n- preferred: precomputed `buckets5s`\n- fallback: recompute from selected player per-second delta series\n\nBucket value:\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count:\n- extended to full fight duration (`ceil(durationMS / 5000)`) so trailing\n  down/death events are representable even if damage is zero late-fight.\n\n### Down / Death Markers\n\nMarker events are read from `combatReplayData`:\n- supports both replay object and segmented replay-array forms\n- uses `down` and `dead` arrays\n\nTimestamp normalization:\n- handles mixed encodings (ms/seconds/large scales) and offset baselines\n  using replay starts/global starts/log offsets\n- selects the shift/scale that maximizes in-range alignment with fight buckets\n\nMarker placement:\n- convert normalized time to bucket index:\n  - `index = floor(timeMs / 5000)`\n- constrain to visible drilldown bucket range\n- render:\n  - down marker: yellow\n  - death marker: red\n\nWeb report parity:\n- precomputed spike payload stores marker indices as:\n  - `downIndices5s`\n  - `deathIndices5s`\n- embedded/web mode can render markers without raw `logs` by consuming these fields.\n\nImplementation:\n- Aggregation/precompute: `src/renderer/stats/computeStatsAggregation.ts`\n- Runtime selection/drilldown + fallbacks: `src/renderer/StatsView.tsx`\n- Chart rendering/interaction: `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Incoming Strike Damage\n\nIncoming Strike Damage mirrors Spike Damage interactions (same chart modes,\nselection, drilldown, animations, and fight navigation) but changes the data\nsource and grouping:\n\n- grouped by **enemy class** (`targets[*].profession`) instead of squad player\n- uses **incoming strike timelines** and target damage distributions\n- selected-fight expansion includes a **skill-level incoming strike table**\n\n### Identity and Grouping\n\nPer-fight keys are enemy profession labels:\n\n- `key = resolveProfessionLabel(target.profession || target.name || target.id)`\n- fallback key: `"Unknown"`\n\nAll enemy targets in a fight that resolve to the same profession are merged\ninto one class bucket for that fight.\n\n### Damage Modes (`hit`, `1s`, `5s`, `30s`)\n\nModes are defined the same way as Spike Damage:\n\n- `hit`: highest single incoming strike hit seen in the class bucket\n- `1s`: highest rolling 1-second incoming strike burst\n- `5s`: highest rolling 5-second incoming strike burst\n- `30s`: highest rolling 30-second incoming strike burst\n\n`hit` source:\n\n- scan target strike distributions (`totalDamageDist`) and keep max of:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- ignore `indirectDamage` entries\n\n### Incoming Timeline Construction\n\nFor each enemy target, incoming strike series is built with the following\npriority:\n\n1. Squad-attributed incoming-vs-target cumulative strike:\n   - sum `players[*].targetPowerDamage1S[targetIndex]` across all squad players\n2. Fallback target timeline:\n   - `targets[targetIndex].powerDamage1S`\n3. Final fallback:\n   - `targets[targetIndex].damage1S`\n\nEach chosen cumulative series is converted to per-second deltas:\n\n- `delta[i] = max(0, cumulative[i] - cumulative[i-1])`\n- `delta[0] = max(0, cumulative[0])`\n\nClass series is then:\n\n- sum of target delta series for all targets in that class\n\nBurst windows are computed from class per-second deltas with the same rolling\nwindow logic used by Spike Damage.\n\n### Timeline Fallback When Target Timelines Are Missing\n\nIf enemy target timelines are empty/unusable for a fight:\n\n1. Build squad incoming strike series from `players[*].powerDamageTaken1S`\n   (cumulative -> per-second deltas).\n2. Compute enemy class counts from `targets[*]` (enemy player targets only).\n3. Distribute squad incoming per-second totals across classes proportionally by\n   class count in that fight.\n\nThis preserves non-zero burst/drilldown behavior for logs lacking complete\ntarget timeline detail.\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses its corresponding fight max as the dashed reference\nseries in the chart.\n\n### Fight Drilldown (5s Buckets)\n\nSelected-fight drilldown is 5-second buckets from class per-second deltas:\n\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count extends to at least `ceil(durationMS / 5000)` so late-fight\nmarker events can still be shown even when trailing bucket damage is zero.\n\nDown/death markers use replay event times from squad players and are converted\nto indices with the same normalization/indexing logic as Spike Damage\n(ms/sec scaling, offset hints, then `floor(timeMs / 5000)` clamp).\n\n### Selected Fight Skill Table (Incoming Skill Damage)\n\nThe expanded table for the selected fight/class is generated from enemy target\nstrike distributions:\n\n1. For each target in the selected class:\n   - read `target.totalDamageDist` entries\n   - ignore `indirectDamage`\n2. Resolve each skill id via:\n   - `skillMap[s{id}]`, then `skillMap[id]`\n   - fallback `buffMap[b{id}]`, then `buffMap[id]`\n3. Aggregate per skill name:\n   - `damage += entry.totalDamage`\n   - `hits += entry.connectedHits || entry.hits`\n   - preserve first available icon URL\n4. Sort desc by damage and keep top rows for rendering.\n\n### Why Some Skill Names Can Look Off-Class\n\nSkill names in incoming strike tables are tied to damage event ids in EI\ndamage distributions, not to profession skill catalogs. Because of that,\noff-class-looking names can appear in a class bucket (for example via\nreflected/returned projectiles, transformed skills, or attribution context).\nThis is expected under the current event-id attribution model.\n\n### Implementation\n\n- Aggregation/precompute:\n  - `src/renderer/stats/computeStatsAggregation.ts` (`incomingStrikeDamage`)\n- Runtime selection/drilldown/table rows:\n  - `src/renderer/StatsView.tsx`\n- UI rendering (card, chart, drilldown, skill table):\n  - `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Timeline / Map Distribution / Fight Breakdown\n\nThese sections use log-level metadata:\n- `details.uploadTime`, `details.durationMS`, `details.success`\n- `details.targets` (enemy counts, fake target filtering)\n- `details.zone`/`mapName`/`map`/`location`/`fightName` for map labels\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Squad Composition\n\nSquad composition is derived from each player\'s resolved profession name\nand aggregated across logs.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Attendance Ledger\n\nAttendance is computed from squad-player participation across all valid logs.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, account/name/profession/group)\n- `players[*].activeTimes[0]`\n- `details.durationMS` (fallback when active time is missing)\n\n### Player Inclusion\n\n- Include only squad players: `!player.notInSquad`.\n- Player key for aggregation is:\n  - `player.account` when present and not `"Unknown"`\n  - otherwise `player.name`\n\n### Time Aggregation\n\nPer squad player entry:\n\n- `activeMs = players[*].activeTimes[0]` when numeric, else `details.durationMS || 0`\n- `combatTimeMs[player] += activeMs`\n- if profession is known:\n  - `professionTimeMs[player][profession] += activeMs`\n\nAlso track appearance window per player:\n\n- `firstSeenFightTs`: earliest fight timestamp where player appears in squad\n- `lastSeenFightTs`: latest fight timestamp where player appears in squad\n- `lastSeenFightDurationMs`: duration of that latest fight\n\nFinal elapsed squad time:\n\n- `squadTimeMs = max(0, (lastSeenFightTs + lastSeenFightDurationMs) - firstSeenFightTs)`\n- fallback to `combatTimeMs` when timestamps are unavailable\n\nCharacter names shown in attendance are the unique set of `player.name` values\nseen for that player key.\n\n### Row Shape / Sorting\n\nFor each aggregated player:\n\n- `account`: aggregation key\n- `characterNames`: unique character names, sorted ascending\n- `classTimes`: entries from `professionTimeMs`, filtered to\n  - `profession !== "Unknown"`\n  - `timeMs > 0`\n- `combatTimeMs`: total active combat time\n- `squadTimeMs`: elapsed time between first seen fight start and last seen fight end\n\nRows are sorted by:\n1. `squadTimeMs` descending\n2. `account` ascending\n\nRows with `account` missing/`"Unknown"` are excluded from final output.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`attendanceData`).\n\n## Squad Comp By Fight\n\nThis section provides per-fight party-line roster composition.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, group, account/name/profession)\n- `details.durationMS`\n- fight metadata/time fields used by `resolveFightTimestamp` and `resolveMapName`\n\n### Fight Ordering\n\nFights are sorted by resolved fight timestamp ascending:\n\n- `uploadTime`\n- fallback: `timeStartStd`, `timeStart`, `timeEndStd`, `timeEnd`\n\n### Party Assignment\n\nFor each squad player (`!player.notInSquad`) in a fight:\n\n- `party = Number(player.group)` when finite and `> 0`, else `0` (`Unassigned`)\n- profession label is normalized via `resolveProfessionLabel(...)`\n\nPer party:\n\n- append player row `{ account, characterName, profession }`\n- increment `classCounts[profession] += 1`\n\n### Party / Player Sorting\n\nWithin each party:\n\n- players are sorted by `profession`, then `account` ascending\n\nParty rows are sorted by:\n1. party number ascending for `1..n`\n2. party `0` (`Unassigned`) last\n\n### Output Shape\n\nPer fight:\n\n- `id`: file/log id fallback chain\n- `label`: `F{index+1}` in timestamp-sorted order\n- `timestamp`: resolved fight timestamp\n- `mapName`: resolved map name\n- `duration`: `formatDurationMs(details.durationMS)`\n- `parties`: sorted party rows with class counts and account list\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`squadCompByFight`).\n\n## Top Stats / MVP\n\nTop stats are computed by ranking the leaderboards for key metrics (down\ncontribution, barrier, healing, cleanses, strips, stability, CC, etc).\nMVP scoring uses weighted ratios against these leaderboards and is configured\nvia `statsViewSettings` + `mvpWeights`.\n\nParticipation is computed as `logsJoined` (number of logs where the player\nappears in the squad).\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Known Caveats\n\n- EI JSON versions can add/remove fields; missing fields always fall back to `0`.\n- `distToCom` and `stackDist` are not guaranteed to exist in every log; `distanceToTag` may be `0`.\n- Incoming CC/strips use weighted skill mappings; mismatches can occur if EI changes skill ids or hit accounting.\n- Stability generation depends on buff metadata presence (`buffMap`) and correct `durationMS`.\n- Damage uses `dpsAll[0].damage` (player total) rather than summing per-target totals, which may differ when targets are filtered or merged.\n- Skill usage totals are raw cast counts unless the per-second view is selected; missing `activeTimes` falls back to log duration for rate calculations.\n- Some detailed WvW EI exports may contain outlier values in `totalDamageDist`\n  (notably `max` on specific skill rows). Spike-hit and target-mode outgoing\n  aggregations prefer/anchor to `targetDamageDist` to reduce false outliers.\n\n## Manifest & Field Usage\n\nThe dev dataset manifest is generated by the app when exporting logs. It is\nstored as `dev/datasets/<dataset>/manifest.json` and contains:\n\n- `id`: log id or generated id\n- `filePath`: relative path to the log JSON\n- `fightName`\n- `encounterDuration`\n- `uploadTime`\n- `timeStart`\n- `timeStartStd`\n- `durationMS`\n- `success`\n- `playerCount`\n- `squadCount`\n- `nonSquadCount`\n\nStats calculations **do not** use the manifest fields directly; the manifest\nis used for listing logs and metadata only. All computations are derived from\nthe EI JSON log payload fields listed in the **Input Contract** and the\nsections above.\n',u$=g.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Jy=g.createContext({}),FN=g.createContext(null),Zy=typeof document<"u",Xfe=Zy?g.useLayoutEffect:g.useEffect,d$=g.createContext({strict:!1}),$N=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Jfe="framerAppearId",f$="data-"+$N(Jfe);function Zfe(e,t,n,r){const{visualElement:a}=g.useContext(Jy),i=g.useContext(d$),o=g.useContext(FN),s=g.useContext(u$).reducedMotion,l=g.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:a,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:s}));const u=l.current;g.useInsertionEffect(()=>{u&&u.update(n,o)});const d=g.useRef(!!(n[f$]&&!window.HandoffComplete));return Xfe(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),g.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function zu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function epe(e,t,n){return g.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):zu(n)&&(n.current=r))},[t])}function jp(e){return typeof e=="string"||Array.isArray(e)}function ev(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const RN=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],BN=["initial",...RN];function tv(e){return ev(e.animate)||BN.some(t=>jp(e[t]))}function p$(e){return!!(tv(e)||e.variants)}function tpe(e,t){if(tv(e)){const{initial:n,animate:r}=e;return{initial:n===!1||jp(n)?n:void 0,animate:jp(r)?r:void 0}}return e.inherit!==!1?t:{}}function npe(e){const{initial:t,animate:n}=tpe(e,g.useContext(Jy));return g.useMemo(()=>({initial:t,animate:n}),[EE(t),EE(n)])}function EE(e){return Array.isArray(e)?e.join(" "):e}const DE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Cp={};for(const e in DE)Cp[e]={isEnabled:t=>DE[e].some(n=>!!t[n])};function rpe(e){for(const t in e)Cp[t]={...Cp[t],...e[t]}}const m$=g.createContext({}),h$=g.createContext({}),ape=Symbol.for("motionComponentSymbol");function ipe({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:a}){e&&rpe(e);function i(s,l){let u;const d={...g.useContext(u$),...s,layoutId:ope(s)},{isStatic:f}=d,p=npe(s),m=r(s,f);if(!f&&Zy){p.visualElement=Zfe(a,m,d,t);const h=g.useContext(h$),v=g.useContext(d$).strict;p.visualElement&&(u=p.visualElement.loadFeatures(d,v,e,h))}return g.createElement(Jy.Provider,{value:p},u&&p.visualElement?g.createElement(u,{visualElement:p.visualElement,...d}):null,n(a,s,epe(m,p.visualElement,l),m,f,p.visualElement))}const o=g.forwardRef(i);return o[ape]=a,o}function ope({layoutId:e}){const t=g.useContext(m$).id;return t&&e!==void 0?t+"-"+e:e}function spe(e){function t(r,a={}){return ipe(e(r,a))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,a)=>(n.has(a)||n.set(a,t(a)),n.get(a))})}const lpe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function zN(e){return typeof e!="string"||e.includes("-")?!1:!!(lpe.indexOf(e)>-1||/[A-Z]/.test(e))}const b0={};function cpe(e){Object.assign(b0,e)}const pm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],au=new Set(pm);function g$(e,{layout:t,layoutId:n}){return au.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!b0[e]||e==="opacity")}const ci=e=>!!(e&&e.getVelocity),upe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},dpe=pm.length;function fpe(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,a){let i="";for(let o=0;o<dpe;o++){const s=pm[o];if(e[s]!==void 0){const l=upe[s]||s;i+=`${l}(${e[s]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),a?i=a(e,r?"":i):n&&r&&(i="none"),i}const y$=e=>t=>typeof t=="string"&&t.startsWith(e),v$=y$("--"),Gw=y$("var(--"),ppe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,mpe=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Bl=(e,t,n)=>Math.min(Math.max(n,e),t),iu={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ff={...iu,transform:e=>Bl(0,1,e)},vh={...iu,default:1},$f=e=>Math.round(e*1e5)/1e5,nv=/(-)?([\d]*\.?[\d])+/g,b$=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,hpe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function mm(e){return typeof e=="string"}const hm=e=>({test:t=>mm(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),dl=hm("deg"),Zo=hm("%"),Kt=hm("px"),gpe=hm("vh"),ype=hm("vw"),PE={...Zo,parse:e=>Zo.parse(e)/100,transform:e=>Zo.transform(e*100)},TE={...iu,transform:Math.round},x$={borderWidth:Kt,borderTopWidth:Kt,borderRightWidth:Kt,borderBottomWidth:Kt,borderLeftWidth:Kt,borderRadius:Kt,radius:Kt,borderTopLeftRadius:Kt,borderTopRightRadius:Kt,borderBottomRightRadius:Kt,borderBottomLeftRadius:Kt,width:Kt,maxWidth:Kt,height:Kt,maxHeight:Kt,size:Kt,top:Kt,right:Kt,bottom:Kt,left:Kt,padding:Kt,paddingTop:Kt,paddingRight:Kt,paddingBottom:Kt,paddingLeft:Kt,margin:Kt,marginTop:Kt,marginRight:Kt,marginBottom:Kt,marginLeft:Kt,rotate:dl,rotateX:dl,rotateY:dl,rotateZ:dl,scale:vh,scaleX:vh,scaleY:vh,scaleZ:vh,skew:dl,skewX:dl,skewY:dl,distance:Kt,translateX:Kt,translateY:Kt,translateZ:Kt,x:Kt,y:Kt,z:Kt,perspective:Kt,transformPerspective:Kt,opacity:Ff,originX:PE,originY:PE,originZ:Kt,zIndex:TE,fillOpacity:Ff,strokeOpacity:Ff,numOctaves:TE};function UN(e,t,n,r){const{style:a,vars:i,transform:o,transformOrigin:s}=e;let l=!1,u=!1,d=!0;for(const f in t){const p=t[f];if(v$(f)){i[f]=p;continue}const m=x$[f],h=mpe(p,m);if(au.has(f)){if(l=!0,o[f]=h,!d)continue;p!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,s[f]=h):a[f]=h}if(t.transform||(l||r?a.transform=fpe(e.transform,n,d,r):a.transform&&(a.transform="none")),u){const{originX:f="50%",originY:p="50%",originZ:m=0}=s;a.transformOrigin=`${f} ${p} ${m}`}}const VN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function w$(e,t,n){for(const r in t)!ci(t[r])&&!g$(r,n)&&(e[r]=t[r])}function vpe({transformTemplate:e},t,n){return g.useMemo(()=>{const r=VN();return UN(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function bpe(e,t,n){const r=e.style||{},a={};return w$(a,r,e),Object.assign(a,vpe(e,t,n)),e.transformValues?e.transformValues(a):a}function xpe(e,t,n){const r={},a=bpe(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=a,r}const wpe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function x0(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||wpe.has(e)}let k$=e=>!x0(e);function kpe(e){e&&(k$=t=>t.startsWith("on")?!x0(t):e(t))}try{kpe(require("@emotion/is-prop-valid").default)}catch{}function Spe(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(k$(a)||n===!0&&x0(a)||!t&&!x0(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}function OE(e,t,n){return typeof e=="string"?e:Kt.transform(t+n*e)}function Npe(e,t,n){const r=OE(t,e.x,e.width),a=OE(n,e.y,e.height);return`${r} ${a}`}const jpe={offset:"stroke-dashoffset",array:"stroke-dasharray"},Cpe={offset:"strokeDashoffset",array:"strokeDasharray"};function Mpe(e,t,n=1,r=0,a=!0){e.pathLength=1;const i=a?jpe:Cpe;e[i.offset]=Kt.transform(-r);const o=Kt.transform(t),s=Kt.transform(n);e[i.array]=`${o} ${s}`}function WN(e,{attrX:t,attrY:n,attrScale:r,originX:a,originY:i,pathLength:o,pathSpacing:s=1,pathOffset:l=0,...u},d,f,p){if(UN(e,u,d,p),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:h,dimensions:v}=e;m.transform&&(v&&(h.transform=m.transform),delete m.transform),v&&(a!==void 0||i!==void 0||h.transform)&&(h.transformOrigin=Npe(v,a!==void 0?a:.5,i!==void 0?i:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&Mpe(m,o,s,l,!1)}const S$=()=>({...VN(),attrs:{}}),HN=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Ape(e,t,n,r){const a=g.useMemo(()=>{const i=S$();return WN(i,t,{enableHardwareAcceleration:!1},HN(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};w$(i,e.style,e),a.style={...i,...a.style}}return a}function Epe(e=!1){return(t,n,r,{latestValues:a},i)=>{const o=(zN(t)?Ape:xpe)(n,a,i,t),s={...Spe(n,typeof t=="string",e),...o,ref:r},{children:l}=n,u=g.useMemo(()=>ci(l)?l.get():l,[l]);return g.createElement(t,{...s,children:u})}}function N$(e,{style:t,vars:n},r,a){Object.assign(e.style,t,a&&a.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const j$=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function C$(e,t,n,r){N$(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(j$.has(a)?a:$N(a),t.attrs[a])}function qN(e,t){const{style:n}=e,r={};for(const a in n)(ci(n[a])||t.style&&ci(t.style[a])||g$(a,e))&&(r[a]=n[a]);return r}function M$(e,t){const n=qN(e,t);for(const r in e)if(ci(e[r])||ci(t[r])){const a=pm.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[a]=e[r]}return n}function KN(e,t,n,r={},a={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,a)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,a)),t}function Dpe(e){const t=g.useRef(null);return t.current===null&&(t.current=e()),t.current}const w0=e=>Array.isArray(e),Ppe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Tpe=e=>w0(e)?e[e.length-1]||0:e;function Wh(e){const t=ci(e)?e.get():e;return Ppe(t)?t.toValue():t}function Ope({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,a,i){const o={latestValues:Ipe(r,a,i,e),renderState:t()};return n&&(o.mount=s=>n(r,s,o)),o}const A$=e=>(t,n)=>{const r=g.useContext(Jy),a=g.useContext(FN),i=()=>Ope(e,t,r,a);return n?i():Dpe(i)};function Ipe(e,t,n,r){const a={},i=r(e,{});for(const p in i)a[p]=Wh(i[p]);let{initial:o,animate:s}=e;const l=tv(e),u=p$(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),s===void 0&&(s=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?s:o;return f&&typeof f!="boolean"&&!ev(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const m=KN(e,p);if(!m)return;const{transitionEnd:h,transition:v,...b}=m;for(const y in b){let x=b[y];if(Array.isArray(x)){const w=d?x.length-1:0;x=x[w]}x!==null&&(a[y]=x)}for(const y in h)a[y]=h[y]}),a}const Or=e=>e;class IE{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function _pe(e){let t=new IE,n=new IE,r=0,a=!1,i=!1;const o=new WeakSet,s={schedule:(l,u=!1,d=!1)=>{const f=d&&a,p=f?t:n;return u&&o.add(l),p.add(l)&&f&&a&&(r=t.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(a){i=!0;return}if(a=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(l),o.has(d)&&(s.schedule(d),e())}a=!1,i&&(i=!1,s.process(l))}};return s}const bh=["prepare","read","update","preRender","render","postRender"],Lpe=40;function Fpe(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=bh.reduce((u,d)=>(u[d]=_pe(()=>n=!0),u),{}),o=u=>i[u].process(a),s=()=>{const u=performance.now();n=!1,a.delta=r?1e3/60:Math.max(Math.min(u-a.timestamp,Lpe),1),a.timestamp=u,a.isProcessing=!0,bh.forEach(o),a.isProcessing=!1,n&&t&&(r=!1,e(s))},l=()=>{n=!0,r=!0,a.isProcessing||e(s)};return{schedule:bh.reduce((u,d)=>{const f=i[d];return u[d]=(p,m=!1,h=!1)=>(n||l(),f.schedule(p,m,h)),u},{}),cancel:u=>bh.forEach(d=>i[d].cancel(u)),state:a,steps:i}}const{schedule:ur,cancel:Vs,state:Pa,steps:Ab}=Fpe(typeof requestAnimationFrame<"u"?requestAnimationFrame:Or,!0),$pe={useVisualState:A$({scrapeMotionValuesFromProps:M$,createRenderState:S$,onMount:(e,t,{renderState:n,latestValues:r})=>{ur.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ur.render(()=>{WN(n,r,{enableHardwareAcceleration:!1},HN(t.tagName),e.transformTemplate),C$(t,n)})}})},Rpe={useVisualState:A$({scrapeMotionValuesFromProps:qN,createRenderState:VN})};function Bpe(e,{forwardMotionProps:t=!1},n,r){return{...zN(e)?$pe:Rpe,preloadedFeatures:n,useRender:Epe(t),createVisualElement:r,Component:e}}function js(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const E$=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function rv(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const zpe=e=>t=>E$(t)&&e(t,rv(t));function Es(e,t,n,r){return js(e,t,zpe(n),r)}const Upe=(e,t)=>n=>t(e(n)),_l=(...e)=>e.reduce(Upe);function D$(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const _E=D$("dragHorizontal"),LE=D$("dragVertical");function P$(e){let t=!1;if(e==="y")t=LE();else if(e==="x")t=_E();else{const n=_E(),r=LE();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function T$(){const e=P$(!0);return e?(e(),!1):!0}class Ql{constructor(t){this.isMounted=!1,this.node=t}update(){}}function FE(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),a=(i,o)=>{if(i.pointerType==="touch"||T$())return;const s=e.getProps();e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",t),s[r]&&ur.update(()=>s[r](i,o))};return Es(e.current,n,a,{passive:!e.getProps()[r]})}class Vpe extends Ql{mount(){this.unmount=_l(FE(this.node,!0),FE(this.node,!1))}unmount(){}}class Wpe extends Ql{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_l(js(this.node.current,"focus",()=>this.onFocus()),js(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const O$=(e,t)=>t?e===t?!0:O$(e,t.parentElement):!1;function Eb(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,rv(n))}class Hpe extends Ql{constructor(){super(...arguments),this.removeStartListeners=Or,this.removeEndListeners=Or,this.removeAccessibleListeners=Or,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=Es(window,"pointerup",(o,s)=>{if(!this.checkPressEnd())return;const{onTap:l,onTapCancel:u,globalTapTarget:d}=this.node.getProps();ur.update(()=>{!d&&!O$(this.node.current,o.target)?u&&u(o,s):l&&l(o,s)})},{passive:!(r.onTap||r.onPointerUp)}),i=Es(window,"pointercancel",(o,s)=>this.cancelPress(o,s),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=_l(a,i),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=s=>{s.key!=="Enter"||!this.checkPressEnd()||Eb("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&ur.update(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=js(this.node.current,"keyup",o),Eb("down",(s,l)=>{this.startPress(s,l)})},n=js(this.node.current,"keydown",t),r=()=>{this.isPressing&&Eb("cancel",(i,o)=>this.cancelPress(i,o))},a=js(this.node.current,"blur",r);this.removeAccessibleListeners=_l(n,a)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ur.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!T$()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ur.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Es(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=js(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=_l(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Yw=new WeakMap,Db=new WeakMap,qpe=e=>{const t=Yw.get(e.target);t&&t(e)},Kpe=e=>{e.forEach(qpe)};function Gpe({root:e,...t}){const n=e||document;Db.has(n)||Db.set(n,{});const r=Db.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(Kpe,{root:e,...t})),r[a]}function Ype(e,t,n){const r=Gpe(t);return Yw.set(e,n),r.observe(e),()=>{Yw.delete(e),r.unobserve(e)}}const Qpe={some:0,all:1};class Xpe extends Ql{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:Qpe[a]},s=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=u?d:f;p&&p(l)};return Ype(this.node.current,o,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Jpe(t,n))&&this.startObserver()}unmount(){}}function Jpe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Zpe={inView:{Feature:Xpe},tap:{Feature:Hpe},focus:{Feature:Wpe},hover:{Feature:Vpe}};function I$(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function eme(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function tme(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function av(e,t,n){const r=e.getProps();return KN(r,t,n!==void 0?n:r.custom,eme(e),tme(e))}let GN=Or;const Ic=e=>e*1e3,Ds=e=>e/1e3,nme={current:!1},_$=e=>Array.isArray(e)&&typeof e[0]=="number";function L$(e){return!!(!e||typeof e=="string"&&F$[e]||_$(e)||Array.isArray(e)&&e.every(L$))}const wf=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,F$={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wf([0,.65,.55,1]),circOut:wf([.55,0,1,.45]),backIn:wf([.31,.01,.66,-.59]),backOut:wf([.33,1.53,.69,.99])};function $$(e){if(e)return _$(e)?wf(e):Array.isArray(e)?e.map($$):F$[e]}function rme(e,t,n,{delay:r=0,duration:a,repeat:i=0,repeatType:o="loop",ease:s,times:l}={}){const u={[t]:n};l&&(u.offset=l);const d=$$(s);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function ame(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const R$=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,ime=1e-7,ome=12;function sme(e,t,n,r,a){let i,o,s=0;do o=t+(n-t)/2,i=R$(o,r,a)-e,i>0?n=o:t=o;while(Math.abs(i)>ime&&++s<ome);return o}function gm(e,t,n,r){if(e===t&&n===r)return Or;const a=i=>sme(i,0,1,e,n);return i=>i===0||i===1?i:R$(a(i),t,r)}const lme=gm(.42,0,1,1),cme=gm(0,0,.58,1),B$=gm(.42,0,.58,1),ume=e=>Array.isArray(e)&&typeof e[0]!="number",z$=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,U$=e=>t=>1-e(1-t),YN=e=>1-Math.sin(Math.acos(e)),V$=U$(YN),dme=z$(YN),W$=gm(.33,1.53,.69,.99),QN=U$(W$),fme=z$(QN),pme=e=>(e*=2)<1?.5*QN(e):.5*(2-Math.pow(2,-10*(e-1))),mme={linear:Or,easeIn:lme,easeInOut:B$,easeOut:cme,circIn:YN,circInOut:dme,circOut:V$,backIn:QN,backInOut:fme,backOut:W$,anticipate:pme},$E=e=>{if(Array.isArray(e)){GN(e.length===4);const[t,n,r,a]=e;return gm(t,n,r,a)}else if(typeof e=="string")return mme[e];return e},XN=(e,t)=>n=>!!(mm(n)&&hpe.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),H$=(e,t,n)=>r=>{if(!mm(r))return r;const[a,i,o,s]=r.match(nv);return{[e]:parseFloat(a),[t]:parseFloat(i),[n]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},hme=e=>Bl(0,255,e),Pb={...iu,transform:e=>Math.round(hme(e))},Mc={test:XN("rgb","red"),parse:H$("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Pb.transform(e)+", "+Pb.transform(t)+", "+Pb.transform(n)+", "+$f(Ff.transform(r))+")"};function gme(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const Qw={test:XN("#"),parse:gme,transform:Mc.transform},Uu={test:XN("hsl","hue"),parse:H$("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Zo.transform($f(t))+", "+Zo.transform($f(n))+", "+$f(Ff.transform(r))+")"},Va={test:e=>Mc.test(e)||Qw.test(e)||Uu.test(e),parse:e=>Mc.test(e)?Mc.parse(e):Uu.test(e)?Uu.parse(e):Qw.parse(e),transform:e=>mm(e)?e:e.hasOwnProperty("red")?Mc.transform(e):Uu.transform(e)},br=(e,t,n)=>-n*e+n*t+e;function Tb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function yme({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,i=0,o=0;if(!t)a=i=o=n;else{const s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;a=Tb(l,s,e+1/3),i=Tb(l,s,e),o=Tb(l,s,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const Ob=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},vme=[Qw,Mc,Uu],bme=e=>vme.find(t=>t.test(e));function RE(e){const t=bme(e);let n=t.parse(e);return t===Uu&&(n=yme(n)),n}const q$=(e,t)=>{const n=RE(e),r=RE(t),a={...n};return i=>(a.red=Ob(n.red,r.red,i),a.green=Ob(n.green,r.green,i),a.blue=Ob(n.blue,r.blue,i),a.alpha=br(n.alpha,r.alpha,i),Mc.transform(a))};function xme(e){var t,n;return isNaN(e)&&mm(e)&&(((t=e.match(nv))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(b$))===null||n===void 0?void 0:n.length)||0)>0}const K$={regex:ppe,countKey:"Vars",token:"${v}",parse:Or},G$={regex:b$,countKey:"Colors",token:"${c}",parse:Va.parse},Y$={regex:nv,countKey:"Numbers",token:"${n}",parse:iu.parse};function Ib(e,{regex:t,countKey:n,token:r,parse:a}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(a)))}function k0(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Ib(n,K$),Ib(n,G$),Ib(n,Y$),n}function Q$(e){return k0(e).values}function X$(e){const{values:t,numColors:n,numVars:r,tokenised:a}=k0(e),i=t.length;return o=>{let s=a;for(let l=0;l<i;l++)l<r?s=s.replace(K$.token,o[l]):l<r+n?s=s.replace(G$.token,Va.transform(o[l])):s=s.replace(Y$.token,$f(o[l]));return s}}const wme=e=>typeof e=="number"?0:e;function kme(e){const t=Q$(e);return X$(e)(t.map(wme))}const zl={test:xme,parse:Q$,createTransformer:X$,getAnimatableNone:kme},J$=(e,t)=>n=>`${n>0?t:e}`;function Z$(e,t){return typeof e=="number"?n=>br(e,t,n):Va.test(e)?q$(e,t):e.startsWith("var(")?J$(e,t):t6(e,t)}const e6=(e,t)=>{const n=[...e],r=n.length,a=e.map((i,o)=>Z$(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=a[o](i);return n}},Sme=(e,t)=>{const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=Z$(e[a],t[a]));return a=>{for(const i in r)n[i]=r[i](a);return n}},t6=(e,t)=>{const n=zl.createTransformer(t),r=k0(e),a=k0(t);return r.numVars===a.numVars&&r.numColors===a.numColors&&r.numNumbers>=a.numNumbers?_l(e6(r.values,a.values),n):J$(e,t)},Mp=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},BE=(e,t)=>n=>br(e,t,n);function Nme(e){return typeof e=="number"?BE:typeof e=="string"?Va.test(e)?q$:t6:Array.isArray(e)?e6:typeof e=="object"?Sme:BE}function jme(e,t,n){const r=[],a=n||Nme(e[0]),i=e.length-1;for(let o=0;o<i;o++){let s=a(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Or:t;s=_l(l,s)}r.push(s)}return r}function n6(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const i=e.length;if(GN(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=jme(t,r,a),s=o.length,l=u=>{let d=0;if(s>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=Mp(e[d],e[d+1],u);return o[d](f)};return n?u=>l(Bl(e[0],e[i-1],u)):l}function Cme(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=Mp(0,t,r);e.push(br(n,1,a))}}function Mme(e){const t=[0];return Cme(t,e.length-1),t}function Ame(e,t){return e.map(n=>n*t)}function Eme(e,t){return e.map(()=>t||B$).splice(0,e.length-1)}function S0({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=ume(r)?r.map($E):$E(r),i={done:!1,value:t[0]},o=Ame(n&&n.length===t.length?n:Mme(t),e),s=n6(o,t,{ease:Array.isArray(a)?a:Eme(t,a)});return{calculatedDuration:e,next:l=>(i.value=s(l),i.done=l>=e,i)}}function r6(e,t){return t?e*(1e3/t):0}const Dme=5;function a6(e,t,n){const r=Math.max(t-Dme,0);return r6(n-e(r),t-r)}const _b=.001,Pme=.01,Tme=10,Ome=.05,Ime=1;function _me({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let a,i,o=1-t;o=Bl(Ome,Ime,o),e=Bl(Pme,Tme,Ds(e)),o<1?(a=u=>{const d=u*o,f=d*e,p=d-n,m=Xw(u,o),h=Math.exp(-f);return _b-p/m*h},i=u=>{const d=u*o*e,f=d*n+n,p=Math.pow(o,2)*Math.pow(u,2)*e,m=Math.exp(-d),h=Xw(Math.pow(u,2),o);return(-a(u)+_b>0?-1:1)*((f-p)*m)/h}):(a=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-_b+d*f},i=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const s=5/e,l=Fme(a,i,s);if(e=Ic(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const Lme=12;function Fme(e,t,n){let r=n;for(let a=1;a<Lme;a++)r=r-e(r)/t(r);return r}function Xw(e,t){return e*Math.sqrt(1-t*t)}const $me=["duration","bounce"],Rme=["stiffness","damping","mass"];function zE(e,t){return t.some(n=>e[n]!==void 0)}function Bme(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!zE(e,Rme)&&zE(e,$me)){const n=_me(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function i6({keyframes:e,restDelta:t,restSpeed:n,...r}){const a=e[0],i=e[e.length-1],o={done:!1,value:a},{stiffness:s,damping:l,mass:u,duration:d,velocity:f,isResolvedFromDuration:p}=Bme({...r,velocity:-Ds(r.velocity||0)}),m=f||0,h=l/(2*Math.sqrt(s*u)),v=i-a,b=Ds(Math.sqrt(s/u)),y=Math.abs(v)<5;n||(n=y?.01:2),t||(t=y?.005:.5);let x;if(h<1){const w=Xw(b,h);x=S=>{const j=Math.exp(-h*b*S);return i-j*((m+h*b*v)/w*Math.sin(w*S)+v*Math.cos(w*S))}}else if(h===1)x=w=>i-Math.exp(-b*w)*(v+(m+b*v)*w);else{const w=b*Math.sqrt(h*h-1);x=S=>{const j=Math.exp(-h*b*S),N=Math.min(w*S,300);return i-j*((m+h*b*v)*Math.sinh(N)+w*v*Math.cosh(N))/w}}return{calculatedDuration:p&&d||null,next:w=>{const S=x(w);if(p)o.done=w>=d;else{let j=m;w!==0&&(h<1?j=a6(x,w,S):j=0);const N=Math.abs(j)<=n,M=Math.abs(i-S)<=t;o.done=N&&M}return o.value=o.done?i:S,o}}}function UE({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:s,max:l,restDelta:u=.5,restSpeed:d}){const f=e[0],p={done:!1,value:f},m=P=>s!==void 0&&P<s||l!==void 0&&P>l,h=P=>s===void 0?l:l===void 0||Math.abs(s-P)<Math.abs(l-P)?s:l;let v=n*t;const b=f+v,y=o===void 0?b:o(b);y!==b&&(v=y-f);const x=P=>-v*Math.exp(-P/r),w=P=>y+x(P),S=P=>{const B=x(P),E=w(P);p.done=Math.abs(B)<=u,p.value=p.done?y:E};let j,N;const M=P=>{m(p.value)&&(j=P,N=i6({keyframes:[p.value,h(p.value)],velocity:a6(w,P,p.value),damping:a,stiffness:i,restDelta:u,restSpeed:d}))};return M(0),{calculatedDuration:null,next:P=>{let B=!1;return!N&&j===void 0&&(B=!0,S(P),M(P)),j!==void 0&&P>j?N.next(P-j):(!B&&S(P),p)}}}const zme=e=>{const t=({timestamp:n})=>e(n);return{start:()=>ur.update(t,!0),stop:()=>Vs(t),now:()=>Pa.isProcessing?Pa.timestamp:performance.now()}},VE=2e4;function WE(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<VE;)t+=n,r=e.next(t);return t>=VE?1/0:t}const Ume={decay:UE,inertia:UE,tween:S0,keyframes:S0,spring:i6};function N0({autoplay:e=!0,delay:t=0,driver:n=zme,keyframes:r,type:a="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop",onPlay:l,onStop:u,onComplete:d,onUpdate:f,...p}){let m=1,h=!1,v,b;const y=()=>{b=new Promise(z=>{v=z})};y();let x;const w=Ume[a]||S0;let S;w!==S0&&typeof r[0]!="number"&&(S=n6([0,100],r,{clamp:!1}),r=[0,100]);const j=w({...p,keyframes:r});let N;s==="mirror"&&(N=w({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let M="idle",P=null,B=null,E=null;j.calculatedDuration===null&&i&&(j.calculatedDuration=WE(j));const{calculatedDuration:I}=j;let O=1/0,K=1/0;I!==null&&(O=I+o,K=O*(i+1)-o);let Q=0;const oe=z=>{if(B===null)return;m>0&&(B=Math.min(B,z)),m<0&&(B=Math.min(z-K/m,B)),P!==null?Q=P:Q=Math.round(z-B)*m;const T=Q-t*(m>=0?1:-1),C=m>=0?T<0:T>K;Q=Math.max(T,0),M==="finished"&&P===null&&(Q=K);let $=Q,U=j;if(i){const _=Math.min(Q,K)/O;let R=Math.floor(_),Z=_%1;!Z&&_>=1&&(Z=1),Z===1&&R--,R=Math.min(R,i+1),R%2&&(s==="reverse"?(Z=1-Z,o&&(Z-=o/O)):s==="mirror"&&(U=N)),$=Bl(0,1,Z)*O}const J=C?{done:!1,value:r[0]}:U.next($);S&&(J.value=S(J.value));let{done:le}=J;!C&&I!==null&&(le=m>=0?Q>=K:Q<=0);const G=P===null&&(M==="finished"||M==="running"&&le);return f&&f(J.value),G&&H(),J},ve=()=>{x&&x.stop(),x=void 0},ne=()=>{M="idle",ve(),v(),y(),B=E=null},H=()=>{M="finished",d&&d(),ve(),v()},V=()=>{if(h)return;x||(x=n(oe));const z=x.now();l&&l(),P!==null?B=z-P:(!B||M==="finished")&&(B=z),M==="finished"&&y(),E=B,P=null,M="running",x.start()};e&&V();const k={then(z,T){return b.then(z,T)},get time(){return Ds(Q)},set time(z){z=Ic(z),Q=z,P!==null||!x||m===0?P=z:B=x.now()-z/m},get duration(){const z=j.calculatedDuration===null?WE(j):j.calculatedDuration;return Ds(z)},get speed(){return m},set speed(z){z===m||!x||(m=z,k.time=Ds(Q))},get state(){return M},play:V,pause:()=>{M="paused",P=Q},stop:()=>{h=!0,M!=="idle"&&(M="idle",u&&u(),ne())},cancel:()=>{E!==null&&oe(E),ne()},complete:()=>{M="finished"},sample:z=>(B=0,oe(z))};return k}function Vme(e){let t;return()=>(t===void 0&&(t=e()),t)}const Wme=Vme(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Hme=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),xh=10,qme=2e4,Kme=(e,t)=>t.type==="spring"||e==="backgroundColor"||!L$(t.ease);function Gme(e,t,{onUpdate:n,onComplete:r,...a}){if(!(Wme()&&Hme.has(t)&&!a.repeatDelay&&a.repeatType!=="mirror"&&a.damping!==0&&a.type!=="inertia"))return!1;let i=!1,o,s,l=!1;const u=()=>{s=new Promise(y=>{o=y})};u();let{keyframes:d,duration:f=300,ease:p,times:m}=a;if(Kme(t,a)){const y=N0({...a,repeat:0,delay:0});let x={done:!1,value:d[0]};const w=[];let S=0;for(;!x.done&&S<qme;)x=y.sample(S),w.push(x.value),S+=xh;m=void 0,d=w,f=S-xh,p="linear"}const h=rme(e.owner.current,t,d,{...a,duration:f,ease:p,times:m}),v=()=>{l=!1,h.cancel()},b=()=>{l=!0,ur.update(v),o(),u()};return h.onfinish=()=>{l||(e.set(ame(d,a)),r&&r(),b())},{then(y,x){return s.then(y,x)},attachTimeline(y){return h.timeline=y,h.onfinish=null,Or},get time(){return Ds(h.currentTime||0)},set time(y){h.currentTime=Ic(y)},get speed(){return h.playbackRate},set speed(y){h.playbackRate=y},get duration(){return Ds(f)},play:()=>{i||(h.play(),Vs(v))},pause:()=>h.pause(),stop:()=>{if(i=!0,h.playState==="idle")return;const{currentTime:y}=h;if(y){const x=N0({...a,autoplay:!1});e.setWithVelocity(x.sample(y-xh).value,x.sample(y).value,xh)}b()},complete:()=>{l||h.finish()},cancel:b}}function Yme({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const a=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Or,pause:Or,stop:Or,then:i=>(i(),Promise.resolve()),cancel:Or,complete:Or});return t?N0({keyframes:[0,1],duration:0,delay:t,onComplete:a}):a()}const Qme={type:"spring",stiffness:500,damping:25,restSpeed:10},Xme=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Jme={type:"keyframes",duration:.8},Zme={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ehe=(e,{keyframes:t})=>t.length>2?Jme:au.has(e)?e.startsWith("scale")?Xme(t[1]):Qme:Zme,Jw=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(zl.test(t)||t==="0")&&!t.startsWith("url(")),the=new Set(["brightness","contrast","saturate","opacity"]);function nhe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(nv)||[];if(!r)return e;const a=n.replace(r,"");let i=the.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+a+")"}const rhe=/([a-z-]*)\(.*?\)/g,Zw={...zl,getAnimatableNone:e=>{const t=e.match(rhe);return t?t.map(nhe).join(" "):e}},ahe={...x$,color:Va,backgroundColor:Va,outlineColor:Va,fill:Va,stroke:Va,borderColor:Va,borderTopColor:Va,borderRightColor:Va,borderBottomColor:Va,borderLeftColor:Va,filter:Zw,WebkitFilter:Zw},JN=e=>ahe[e];function o6(e,t){let n=JN(e);return n!==Zw&&(n=zl),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const s6=e=>/^0[^.\s]+$/.test(e);function ihe(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||s6(e)}function ohe(e,t,n,r){const a=Jw(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:e.get();let s;const l=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?o:i[u-1]),ihe(i[u])&&l.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(s=i[u]);if(a&&l.length&&s)for(let u=0;u<l.length;u++){const d=l[u];i[d]=o6(t,s)}return i}function she({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:s,from:l,elapsed:u,...d}){return!!Object.keys(d).length}function ZN(e,t){return e[t]||e.default||e}const lhe={skipAnimations:!1},e2=(e,t,n,r={})=>a=>{const i=ZN(r,e)||{},o=i.delay||r.delay||0;let{elapsed:s=0}=r;s=s-Ic(o);const l=ohe(t,e,n,i),u=l[0],d=l[l.length-1],f=Jw(e,u),p=Jw(e,d);let m={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-s,onUpdate:h=>{t.set(h),i.onUpdate&&i.onUpdate(h)},onComplete:()=>{a(),i.onComplete&&i.onComplete()}};if(she(i)||(m={...m,...ehe(e,m)}),m.duration&&(m.duration=Ic(m.duration)),m.repeatDelay&&(m.repeatDelay=Ic(m.repeatDelay)),!f||!p||nme.current||i.type===!1||lhe.skipAnimations)return Yme(m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const h=Gme(t,e,m);if(h)return h}return N0(m)};function j0(e){return!!(ci(e)&&e.add)}const l6=e=>/^\-?\d*\.?\d+$/.test(e);function t2(e,t){e.indexOf(t)===-1&&e.push(t)}function n2(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class r2{constructor(){this.subscriptions=[]}add(t){return t2(this.subscriptions,t),()=>n2(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const che=e=>!isNaN(parseFloat(e));class uhe{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,a=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=Pa;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,ur.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ur.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=che(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new r2);const r=this.events[t].add(n);return t==="change"?()=>{r(),ur.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?r6(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function wd(e,t){return new uhe(e,t)}const c6=e=>t=>t.test(e),dhe={test:e=>e==="auto",parse:e=>e},u6=[iu,Kt,Zo,dl,ype,gpe,dhe],df=e=>u6.find(c6(e)),fhe=[...u6,Va,zl],phe=e=>fhe.find(c6(e));function mhe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,wd(n))}function hhe(e,t){const n=av(e,t);let{transitionEnd:r={},transition:a={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const s=Tpe(i[o]);mhe(e,o,s)}}function ghe(e,t,n){var r,a;const i=Object.keys(t).filter(s=>!e.hasValue(s)),o=i.length;if(o)for(let s=0;s<o;s++){const l=i[s],u=t[l];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(a=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&a!==void 0?a:t[l]),d!=null&&(typeof d=="string"&&(l6(d)||s6(d))?d=parseFloat(d):!phe(d)&&zl.test(u)&&(d=o6(l,u)),e.addValue(l,wd(d,{owner:e})),n[l]===void 0&&(n[l]=d),d!==null&&e.setBaseTarget(l,d))}}function yhe(e,t){return t?(t[e]||t.default||t).from:void 0}function vhe(e,t,n){const r={};for(const a in e){const i=yhe(a,t);if(i!==void 0)r[a]=i;else{const o=n.getValue(a);o&&(r[a]=o.get())}}return r}function bhe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function xhe(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function d6(e,t,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...s}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(i=r);const u=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const f in s){const p=e.getValue(f),m=s[f];if(!p||m===void 0||d&&bhe(d,f))continue;const h={delay:n,elapsed:0,...ZN(i||{},f)};if(window.HandoffAppearAnimations){const y=e.getProps()[f$];if(y){const x=window.HandoffAppearAnimations(y,f,p,ur);x!==null&&(h.elapsed=x,h.isHandoff=!0)}}let v=!h.isHandoff&&!xhe(p,m);if(h.type==="spring"&&(p.getVelocity()||h.velocity)&&(v=!1),p.animation&&(v=!1),v)continue;p.start(e2(f,p,m,e.shouldReduceMotion&&au.has(f)?{type:!1}:h));const b=p.animation;j0(l)&&(l.add(f),b.then(()=>l.remove(f))),u.push(b)}return o&&Promise.all(u).then(()=>{o&&hhe(e,o)}),u}function e1(e,t,n={}){const r=av(e,t,n.custom);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const i=r?()=>Promise.all(d6(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=a;return whe(e,t,u+l,d,f,n)}:()=>Promise.resolve(),{when:s}=a;if(s){const[l,u]=s==="beforeChildren"?[i,o]:[o,i];return l().then(()=>u())}else return Promise.all([i(),o(n.delay)])}function whe(e,t,n=0,r=0,a=1,i){const o=[],s=(e.variantChildren.size-1)*r,l=a===1?(u=0)=>u*r:(u=0)=>s-u*r;return Array.from(e.variantChildren).sort(khe).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(e1(u,t,{...i,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function khe(e,t){return e.sortNodePosition(t)}function She(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(i=>e1(e,i,n));r=Promise.all(a)}else if(typeof t=="string")r=e1(e,t,n);else{const a=typeof t=="function"?av(e,t,n.custom):t;r=Promise.all(d6(e,a,n))}return r.then(()=>e.notify("AnimationComplete",t))}const Nhe=[...RN].reverse(),jhe=RN.length;function Che(e){return t=>Promise.all(t.map(({animation:n,options:r})=>She(e,n,r)))}function Mhe(e){let t=Che(e);const n=Ehe();let r=!0;const a=(l,u)=>{const d=av(e,u);if(d){const{transition:f,transitionEnd:p,...m}=d;l={...l,...m,...p}}return l};function i(l){t=l(e)}function o(l,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},p=[],m=new Set;let h={},v=1/0;for(let y=0;y<jhe;y++){const x=Nhe[y],w=n[x],S=d[x]!==void 0?d[x]:f[x],j=jp(S),N=x===u?w.isActive:null;N===!1&&(v=y);let M=S===f[x]&&S!==d[x]&&j;if(M&&r&&e.manuallyAnimateOnMount&&(M=!1),w.protectedKeys={...h},!w.isActive&&N===null||!S&&!w.prevProp||ev(S)||typeof S=="boolean")continue;let P=Ahe(w.prevProp,S)||x===u&&w.isActive&&!M&&j||y>v&&j,B=!1;const E=Array.isArray(S)?S:[S];let I=E.reduce(a,{});N===!1&&(I={});const{prevResolvedValues:O={}}=w,K={...O,...I},Q=oe=>{P=!0,m.has(oe)&&(B=!0,m.delete(oe)),w.needsAnimating[oe]=!0};for(const oe in K){const ve=I[oe],ne=O[oe];if(h.hasOwnProperty(oe))continue;let H=!1;w0(ve)&&w0(ne)?H=!I$(ve,ne):H=ve!==ne,H?ve!==void 0?Q(oe):m.add(oe):ve!==void 0&&m.has(oe)?Q(oe):w.protectedKeys[oe]=!0}w.prevProp=S,w.prevResolvedValues=I,w.isActive&&(h={...h,...I}),r&&e.blockInitialAnimation&&(P=!1),P&&(!M||B)&&p.push(...E.map(oe=>({animation:oe,options:{type:x,...l}})))}if(m.size){const y={};m.forEach(x=>{const w=e.getBaseTarget(x);w!==void 0&&(y[x]=w)}),p.push({animation:y})}let b=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(b=!1),r=!1,b?t(p):Promise.resolve()}function s(l,u,d){var f;if(n[l].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var h;return(h=m.animationState)===null||h===void 0?void 0:h.setActive(l,u)}),n[l].isActive=u;const p=o(d,l);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:o,setActive:s,setAnimateFunction:i,getState:()=>n}}function Ahe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!I$(t,e):!1}function cc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ehe(){return{animate:cc(!0),whileInView:cc(),whileHover:cc(),whileTap:cc(),whileDrag:cc(),whileFocus:cc(),exit:cc()}}class Dhe extends Ql{constructor(t){super(t),t.animationState||(t.animationState=Mhe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),ev(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Phe=0;class The extends Ql{constructor(){super(...arguments),this.id=Phe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Ohe={animation:{Feature:Dhe},exit:{Feature:The}},HE=(e,t)=>Math.abs(e-t);function Ihe(e,t){const n=HE(e.x,t.x),r=HE(e.y,t.y);return Math.sqrt(n**2+r**2)}class f6{constructor(t,n,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Fb(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=Ihe(f.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:h}=f,{timestamp:v}=Pa;this.history.push({...h,timestamp:v});const{onStart:b,onMove:y}=this.handlers;p||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Lb(p,this.transformPagePoint),ur.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:m,onSessionEnd:h,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Fb(f.type==="pointercancel"?this.lastMoveEventInfo:Lb(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,b),h&&h(f,b)},!E$(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=a||window;const o=rv(t),s=Lb(o,this.transformPagePoint),{point:l}=s,{timestamp:u}=Pa;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,Fb(s,this.history)),this.removeListeners=_l(Es(this.contextWindow,"pointermove",this.handlePointerMove),Es(this.contextWindow,"pointerup",this.handlePointerUp),Es(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Vs(this.updatePoint)}}function Lb(e,t){return t?{point:t(e.point)}:e}function qE(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Fb({point:e},t){return{point:e,delta:qE(e,p6(t)),offset:qE(e,_he(t)),velocity:Lhe(t,.1)}}function _he(e){return e[0]}function p6(e){return e[e.length-1]}function Lhe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=p6(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>Ic(t)));)n--;if(!r)return{x:0,y:0};const i=Ds(a.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-r.x)/i,y:(a.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Pi(e){return e.max-e.min}function t1(e,t=0,n=.01){return Math.abs(e-t)<=n}function KE(e,t,n,r=.5){e.origin=r,e.originPoint=br(t.min,t.max,e.origin),e.scale=Pi(n)/Pi(t),(t1(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=br(n.min,n.max,e.origin)-e.originPoint,(t1(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Rf(e,t,n,r){KE(e.x,t.x,n.x,r?r.originX:void 0),KE(e.y,t.y,n.y,r?r.originY:void 0)}function GE(e,t,n){e.min=n.min+t.min,e.max=e.min+Pi(t)}function Fhe(e,t,n){GE(e.x,t.x,n.x),GE(e.y,t.y,n.y)}function YE(e,t,n){e.min=t.min-n.min,e.max=e.min+Pi(t)}function Bf(e,t,n){YE(e.x,t.x,n.x),YE(e.y,t.y,n.y)}function $he(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?br(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?br(n,e,r.max):Math.min(e,n)),e}function QE(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Rhe(e,{top:t,left:n,bottom:r,right:a}){return{x:QE(e.x,n,a),y:QE(e.y,t,r)}}function XE(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Bhe(e,t){return{x:XE(e.x,t.x),y:XE(e.y,t.y)}}function zhe(e,t){let n=.5;const r=Pi(e),a=Pi(t);return a>r?n=Mp(t.min,t.max-r,e.min):r>a&&(n=Mp(e.min,e.max-a,t.min)),Bl(0,1,n)}function Uhe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const n1=.35;function Vhe(e=n1){return e===!1?e=0:e===!0&&(e=n1),{x:JE(e,"left","right"),y:JE(e,"top","bottom")}}function JE(e,t,n){return{min:ZE(e,t),max:ZE(e,n)}}function ZE(e,t){return typeof e=="number"?e:e[t]||0}const eD=()=>({translate:0,scale:1,origin:0,originPoint:0}),Vu=()=>({x:eD(),y:eD()}),tD=()=>({min:0,max:0}),$r=()=>({x:tD(),y:tD()});function Vi(e){return[e("x"),e("y")]}function m6({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Whe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Hhe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function $b(e){return e===void 0||e===1}function r1({scale:e,scaleX:t,scaleY:n}){return!$b(e)||!$b(t)||!$b(n)}function gc(e){return r1(e)||h6(e)||e.z||e.rotate||e.rotateX||e.rotateY}function h6(e){return nD(e.x)||nD(e.y)}function nD(e){return e&&e!=="0%"}function C0(e,t,n){const r=e-n,a=t*r;return n+a}function rD(e,t,n,r,a){return a!==void 0&&(e=C0(e,a,r)),C0(e,n,r)+t}function a1(e,t=0,n=1,r,a){e.min=rD(e.min,t,n,r,a),e.max=rD(e.max,t,n,r,a)}function g6(e,{x:t,y:n}){a1(e.x,t.translate,t.scale,t.originPoint),a1(e.y,n.translate,n.scale,n.originPoint)}function qhe(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let i,o;for(let s=0;s<a;s++){i=n[s],o=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Wu(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,g6(e,o)),r&&gc(i.latestValues)&&Wu(e,i.latestValues))}t.x=aD(t.x),t.y=aD(t.y)}function aD(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function gl(e,t){e.min=e.min+t,e.max=e.max+t}function iD(e,t,[n,r,a]){const i=t[a]!==void 0?t[a]:.5,o=br(e.min,e.max,i);a1(e,t[n],t[r],o,t.scale)}const Khe=["x","scaleX","originX"],Ghe=["y","scaleY","originY"];function Wu(e,t){iD(e.x,t,Khe),iD(e.y,t,Ghe)}function y6(e,t){return m6(Hhe(e.getBoundingClientRect(),t))}function Yhe(e,t,n){const r=y6(e,n),{scroll:a}=t;return a&&(gl(r.x,a.offset.x),gl(r.y,a.offset.y)),r}const v6=({current:e})=>e?e.ownerDocument.defaultView:null,Qhe=new WeakMap;class Xhe{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$r(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(rv(d,"page").point)},i=(d,f)=>{const{drag:p,dragPropagation:m,onDragStart:h}=this.getProps();if(p&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=P$(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vi(b=>{let y=this.getAxisMotionValue(b).get()||0;if(Zo.test(y)){const{projection:x}=this.visualElement;if(x&&x.layout){const w=x.layout.layoutBox[b];w&&(y=Pi(w)*(parseFloat(y)/100))}}this.originPoint[b]=y}),h&&ur.update(()=>h(d,f),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:h,onDrag:v}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:b}=f;if(m&&this.currentDirection===null){this.currentDirection=Jhe(b),this.currentDirection!==null&&h&&h(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),v&&v(d,f)},s=(d,f)=>this.stop(d,f),l=()=>Vi(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new f6(t,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:s,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:v6(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&ur.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!wh(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=$he(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&zu(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=Rhe(a.layoutBox,n):this.constraints=!1,this.elastic=Vhe(r),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Vi(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=Uhe(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!zu(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=Yhe(r,a.root,this.visualElement.getTransformPagePoint());let o=Bhe(a.layout.layoutBox,i);if(n){const s=n(Whe(o));this.hasMutatedConstraints=!!s,s&&(o=m6(s))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},u=Vi(d=>{if(!wh(d,n,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const p=a?200:1e6,m=a?40:1e7,h={type:"inertia",velocity:r?t[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,h)});return Promise.all(u).then(s)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(e2(t,r,0,n))}stopAnimation(){Vi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Vi(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps();return r[n]||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Vi(n=>{const{drag:r}=this.getProps();if(!wh(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(n);if(a&&a.layout){const{min:o,max:s}=a.layout.layoutBox[n];i.set(t[n]-br(o,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!zu(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Vi(o=>{const s=this.getAxisMotionValue(o);if(s){const l=s.get();a[o]=zhe({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Vi(o=>{if(!wh(o,t,null))return;const s=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];s.set(br(l,u,a[o]))})}addListeners(){if(!this.visualElement.current)return;Qhe.set(this.visualElement,this);const t=this.visualElement.current,n=Es(t,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();zu(l)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),r();const o=js(window,"resize",()=>this.scalePositionWithinConstraints()),s=a.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Vi(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=n1,dragMomentum:s=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:s}}}function wh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Jhe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Zhe extends Ql{constructor(t){super(t),this.removeGroupControls=Or,this.removeListeners=Or,this.controls=new Xhe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Or}unmount(){this.removeGroupControls(),this.removeListeners()}}const oD=e=>(t,n)=>{e&&ur.update(()=>e(t,n))};class ege extends Ql{constructor(){super(...arguments),this.removePointerDownListener=Or}onPointerDown(t){this.session=new f6(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:v6(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:oD(t),onStart:oD(n),onMove:r,onEnd:(i,o)=>{delete this.session,a&&ur.update(()=>a(i,o))}}}mount(){this.removePointerDownListener=Es(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function tge(){const e=g.useContext(FN);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,a=g.useId();return g.useEffect(()=>r(a),[]),!t&&n?[!1,()=>n&&n(a)]:[!0]}const Hh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function sD(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ff={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Kt.test(e))e=parseFloat(e);else return e;const n=sD(e,t.target.x),r=sD(e,t.target.y);return`${n}% ${r}%`}},nge={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=zl.parse(e);if(a.length>5)return r;const i=zl.createTransformer(e),o=typeof a[0]!="number"?1:0,s=n.x.scale*t.x,l=n.y.scale*t.y;a[0+o]/=s,a[1+o]/=l;const u=br(s,l,.5);return typeof a[2+o]=="number"&&(a[2+o]/=u),typeof a[3+o]=="number"&&(a[3+o]/=u),i(a)}};class rge extends A0.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:i}=t;cpe(age),i&&(n.group&&n.group.add(i),r&&r.register&&a&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Hh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,a||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||ur.postRender(()=>{const s=o.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function b6(e){const[t,n]=tge(),r=g.useContext(m$);return A0.createElement(rge,{...e,layoutGroup:r,switchLayoutGroup:g.useContext(h$),isPresent:t,safeToRemove:n})}const age={borderRadius:{...ff,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ff,borderTopRightRadius:ff,borderBottomLeftRadius:ff,borderBottomRightRadius:ff,boxShadow:nge},x6=["TopLeft","TopRight","BottomLeft","BottomRight"],ige=x6.length,lD=e=>typeof e=="string"?parseFloat(e):e,cD=e=>typeof e=="number"||Kt.test(e);function oge(e,t,n,r,a,i){a?(e.opacity=br(0,n.opacity!==void 0?n.opacity:1,sge(r)),e.opacityExit=br(t.opacity!==void 0?t.opacity:1,0,lge(r))):i&&(e.opacity=br(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<ige;o++){const s=`border${x6[o]}Radius`;let l=uD(t,s),u=uD(n,s);l===void 0&&u===void 0||(l||(l=0),u||(u=0),l===0||u===0||cD(l)===cD(u)?(e[s]=Math.max(br(lD(l),lD(u),r),0),(Zo.test(u)||Zo.test(l))&&(e[s]+="%")):e[s]=u)}(t.rotate||n.rotate)&&(e.rotate=br(t.rotate||0,n.rotate||0,r))}function uD(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const sge=w6(0,.5,V$),lge=w6(.5,.95,Or);function w6(e,t,n){return r=>r<e?0:r>t?1:n(Mp(e,t,r))}function dD(e,t){e.min=t.min,e.max=t.max}function Bi(e,t){dD(e.x,t.x),dD(e.y,t.y)}function fD(e,t,n,r,a){return e-=t,e=C0(e,1/n,r),a!==void 0&&(e=C0(e,1/a,r)),e}function cge(e,t=0,n=1,r=.5,a,i=e,o=e){if(Zo.test(t)&&(t=parseFloat(t),t=br(o.min,o.max,t/100)-o.min),typeof t!="number")return;let s=br(i.min,i.max,r);e===i&&(s-=t),e.min=fD(e.min,t,n,s,a),e.max=fD(e.max,t,n,s,a)}function pD(e,t,[n,r,a],i,o){cge(e,t[n],t[r],t[a],t.scale,i,o)}const uge=["x","scaleX","originX"],dge=["y","scaleY","originY"];function mD(e,t,n,r){pD(e.x,t,uge,n?n.x:void 0,r?r.x:void 0),pD(e.y,t,dge,n?n.y:void 0,r?r.y:void 0)}function hD(e){return e.translate===0&&e.scale===1}function k6(e){return hD(e.x)&&hD(e.y)}function fge(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function S6(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function gD(e){return Pi(e.x)/Pi(e.y)}class pge{constructor(){this.members=[]}add(t){t2(this.members,t),t.scheduleRender()}remove(t){if(n2(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function yD(e,t,n){let r="";const a=e.x.translate/t.x,i=e.y.translate/t.y;if((a||i)&&(r=`translate3d(${a}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:u,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,s=e.y.scale*t.y;return(o!==1||s!==1)&&(r+=`scale(${o}, ${s})`),r||"none"}const mge=(e,t)=>e.depth-t.depth;class hge{constructor(){this.children=[],this.isDirty=!1}add(t){t2(this.children,t),this.isDirty=!0}remove(t){n2(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(mge),this.isDirty=!1,this.children.forEach(t)}}function gge(e,t){const n=performance.now(),r=({timestamp:a})=>{const i=a-n;i>=t&&(Vs(r),e(i-t))};return ur.read(r,!0),()=>Vs(r)}function yge(e){window.MotionDebug&&window.MotionDebug.record(e)}function vge(e){return e instanceof SVGElement&&e.tagName!=="svg"}function bge(e,t,n){const r=ci(e)?e:wd(e);return r.start(e2("",r,t,n)),r.animation}const vD=["","X","Y","Z"],xge={visibility:"hidden"},bD=1e3;let wge=0;const yc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function N6({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(i={},o=t==null?void 0:t()){this.id=wge++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,yc.totalNodes=yc.resolvedTargetDeltas=yc.recalculatedProjection=0,this.nodes.forEach(Nge),this.nodes.forEach(Ege),this.nodes.forEach(Dge),this.nodes.forEach(jge),yge(yc)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let s=0;s<this.path.length;s++)this.path[s].shouldResetTransform=!0;this.root===this&&(this.nodes=new hge)}addEventListener(i,o){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new r2),this.eventHandlers.get(i).add(o)}notifyListeners(i,...o){const s=this.eventHandlers.get(i);s&&s.notify(...o)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=vge(i),this.instance=i;const{layoutId:s,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(l||s)&&(this.isLayoutDirty=!0),e){let d;const f=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=gge(f,250),Hh.hasAnimatedSinceResize&&(Hh.hasAnimatedSinceResize=!1,this.nodes.forEach(wD))})}s&&this.root.registerSharedNode(s,this),this.options.animate!==!1&&u&&(s||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const h=this.options.transition||u.getDefaultTransition()||_ge,{onLayoutAnimationStart:v,onLayoutAnimationComplete:b}=u.getProps(),y=!this.targetLayout||!S6(this.targetLayout,m)||p,x=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,x);const w={...ZN(h,"layout"),onPlay:v,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else f||wD(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Vs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Pge),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:s}=this.options;if(o===void 0&&!s)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(xD);return}this.isUpdating||this.nodes.forEach(Mge),this.isUpdating=!1,this.nodes.forEach(Age),this.nodes.forEach(kge),this.nodes.forEach(Sge),this.clearAllSnapshots();const i=performance.now();Pa.delta=Bl(0,1e3/60,i-Pa.timestamp),Pa.timestamp=i,Pa.isProcessing=!0,Ab.update.process(Pa),Ab.preRender.process(Pa),Ab.render.process(Pa),Pa.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Cge),this.sharedNodes.forEach(Tge)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ur.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ur.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let s=0;s<this.path.length;s++)this.path[s].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=$r(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!a)return;const i=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!k6(this.projectionDelta),s=this.getTransformTemplate(),l=s?s(this.latestValues,""):void 0,u=l!==this.prevTransformTemplateValue;i&&(o||gc(this.latestValues)||u)&&(a(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const o=this.measurePageBox();let s=this.removeElementScroll(o);return i&&(s=this.removeTransform(s)),Lge(s),{animationId:this.root.animationId,measuredBox:o,layoutBox:s,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return $r();const o=i.measureViewportBox(),{scroll:s}=this.root;return s&&(gl(o.x,s.offset.x),gl(o.y,s.offset.y)),o}removeElementScroll(i){const o=$r();Bi(o,i);for(let s=0;s<this.path.length;s++){const l=this.path[s],{scroll:u,options:d}=l;if(l!==this.root&&u&&d.layoutScroll){if(u.isRoot){Bi(o,i);const{scroll:f}=this.root;f&&(gl(o.x,-f.offset.x),gl(o.y,-f.offset.y))}gl(o.x,u.offset.x),gl(o.y,u.offset.y)}}return o}applyTransform(i,o=!1){const s=$r();Bi(s,i);for(let l=0;l<this.path.length;l++){const u=this.path[l];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Wu(s,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),gc(u.latestValues)&&Wu(s,u.latestValues)}return gc(this.latestValues)&&Wu(s,this.latestValues),s}removeTransform(i){const o=$r();Bi(o,i);for(let s=0;s<this.path.length;s++){const l=this.path[s];if(!l.instance||!gc(l.latestValues))continue;r1(l.latestValues)&&l.updateSnapshot();const u=$r(),d=l.measurePageBox();Bi(u,d),mD(o,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,u)}return gc(this.latestValues)&&mD(o,this.latestValues),o}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Pa.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var o;const s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==s;if(!(i||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:u,layoutId:d}=this.options;if(!(!this.layout||!(u||d))){if(this.resolvedRelativeTargetAt=Pa.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$r(),this.relativeTargetOrigin=$r(),Bf(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Bi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=$r(),this.targetWithTransforms=$r()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Fhe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bi(this.target,this.layout.layoutBox),g6(this.target,this.targetDelta)):Bi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$r(),this.relativeTargetOrigin=$r(),Bf(this.relativeTargetOrigin,this.target,f.target),Bi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}yc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||r1(this.parent.latestValues)||h6(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const o=this.getLead(),s=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(l=!1),s&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Pa.timestamp&&(l=!1),l)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Bi(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;qhe(this.layoutCorrected,this.treeScale,this.path,s),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:m}=o;if(!m){this.projectionTransform&&(this.projectionDelta=Vu(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Vu(),this.projectionDeltaWithTransform=Vu());const h=this.projectionTransform;Rf(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=yD(this.projectionDelta,this.treeScale),(this.projectionTransform!==h||this.treeScale.x!==f||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),yc.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,o=!1){const s=this.snapshot,l=s?s.latestValues:{},u={...this.latestValues},d=Vu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=$r(),p=s?s.source:void 0,m=this.layout?this.layout.source:void 0,h=p!==m,v=this.getStack(),b=!v||v.members.length<=1,y=!!(h&&!b&&this.options.crossfade===!0&&!this.path.some(Ige));this.animationProgress=0;let x;this.mixTargetDelta=w=>{const S=w/1e3;kD(d.x,i.x,S),kD(d.y,i.y,S),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Bf(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Oge(this.relativeTarget,this.relativeTargetOrigin,f,S),x&&fge(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=$r()),Bi(x,this.relativeTarget)),h&&(this.animationValues=u,oge(u,l,this.latestValues,S,y,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Vs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ur.update(()=>{Hh.hasAnimatedSinceResize=!0,this.currentAnimation=bge(0,bD,{...i,onUpdate:o=>{this.mixTargetDelta(o),i.onUpdate&&i.onUpdate(o)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:o,target:s,layout:l,latestValues:u}=i;if(!(!o||!s||!l)){if(this!==i&&this.layout&&l&&j6(this.options.animationType,this.layout.layoutBox,l.layoutBox)){s=this.target||$r();const d=Pi(this.layout.layoutBox.x);s.x.min=i.target.x.min,s.x.max=s.x.min+d;const f=Pi(this.layout.layoutBox.y);s.y.min=i.target.y.min,s.y.max=s.y.min+f}Bi(o,s),Wu(o,u),Rf(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(i,o){this.sharedNodes.has(i)||this.sharedNodes.set(i,new pge),this.sharedNodes.get(i).add(o);const s=o.options.initialPromotionConfig;o.promote({transition:s?s.transition:void 0,preserveFollowOpacity:s&&s.shouldPreserveFollowOpacity?s.shouldPreserveFollowOpacity(o):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:o}=this.options;return o?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:o}=this.options;return o?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:o,preserveFollowOpacity:s}={}){const l=this.getStack();l&&l.promote(this,s),i&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetRotation(){const{visualElement:i}=this.options;if(!i)return;let o=!1;const{latestValues:s}=i;if((s.rotate||s.rotateX||s.rotateY||s.rotateZ)&&(o=!0),!o)return;const l={};for(let u=0;u<vD.length;u++){const d="rotate"+vD[u];s[d]&&(l[d]=s[d],i.setStaticValue(d,0))}i.render();for(const u in l)i.setStaticValue(u,l[u]);i.scheduleRender()}getProjectionStyles(i){var o,s;if(!this.instance||this.isSVG)return;if(!this.isVisible)return xge;const l={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=Wh(i==null?void 0:i.pointerEvents)||"",l.transform=u?u(this.latestValues,""):"none",l;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const h={};return this.options.layoutId&&(h.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,h.pointerEvents=Wh(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!gc(this.latestValues)&&(h.transform=u?u({},""):"none",this.hasProjected=!1),h}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),l.transform=yD(this.projectionDeltaWithTransform,this.treeScale,f),u&&(l.transform=u(f,l.transform));const{x:p,y:m}=this.projectionDelta;l.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,d.animationValues?l.opacity=d===this?(s=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&s!==void 0?s:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:l.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const h in b0){if(f[h]===void 0)continue;const{correct:v,applyTo:b}=b0[h],y=l.transform==="none"?f[h]:v(f[h],d);if(b){const x=b.length;for(let w=0;w<x;w++)l[b[w]]=y}else l[h]=y}return this.options.layoutId&&(l.pointerEvents=d===this?Wh(i==null?void 0:i.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var o;return(o=i.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(xD),this.root.sharedNodes.clear()}}}function kge(e){e.updateLayout()}function Sge(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?Vi(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=Pi(p);p.min=r[f].min,p.max=p.min+m}):j6(i,n.layoutBox,r)&&Vi(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=Pi(r[f]);p.max=p.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const s=Vu();Rf(s,r,n.layoutBox);const l=Vu();o?Rf(l,e.applyTransform(a,!0),n.measuredBox):Rf(l,r,n.layoutBox);const u=!k6(s);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const h=$r();Bf(h,n.layoutBox,p.layoutBox);const v=$r();Bf(v,r,m.layoutBox),S6(h,v)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=h,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:s,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Nge(e){yc.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function jge(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Cge(e){e.clearSnapshot()}function xD(e){e.clearMeasurements()}function Mge(e){e.isLayoutDirty=!1}function Age(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function wD(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Ege(e){e.resolveTargetDelta()}function Dge(e){e.calcProjection()}function Pge(e){e.resetRotation()}function Tge(e){e.removeLeadSnapshot()}function kD(e,t,n){e.translate=br(t.translate,0,n),e.scale=br(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function SD(e,t,n,r){e.min=br(t.min,n.min,r),e.max=br(t.max,n.max,r)}function Oge(e,t,n,r){SD(e.x,t.x,n.x,r),SD(e.y,t.y,n.y,r)}function Ige(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const _ge={duration:.45,ease:[.4,0,.1,1]},ND=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),jD=ND("applewebkit/")&&!ND("chrome/")?Math.round:Or;function CD(e){e.min=jD(e.min),e.max=jD(e.max)}function Lge(e){CD(e.x),CD(e.y)}function j6(e,t,n){return e==="position"||e==="preserve-aspect"&&!t1(gD(t),gD(n),.2)}const Fge=N6({attachResizeListener:(e,t)=>js(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Rb={current:void 0},C6=N6({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Rb.current){const e=new Fge({});e.mount(window),e.setOptions({layoutScroll:!0}),Rb.current=e}return Rb.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),$ge={pan:{Feature:ege},drag:{Feature:Zhe,ProjectionNode:C6,MeasureLayout:b6}},Rge=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Bge(e){const t=Rge.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function i1(e,t,n=1){const[r,a]=Bge(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return l6(o)?parseFloat(o):o}else return Gw(a)?i1(a,t,n+1):a}function zge(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(a=>{const i=a.get();if(!Gw(i))return;const o=i1(i,r);o&&a.set(o)});for(const a in t){const i=t[a];if(!Gw(i))continue;const o=i1(i,r);o&&(t[a]=o,n||(n={}),n[a]===void 0&&(n[a]=i))}return{target:t,transitionEnd:n}}const Uge=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),M6=e=>Uge.has(e),Vge=e=>Object.keys(e).some(M6),MD=e=>e===iu||e===Kt,AD=(e,t)=>parseFloat(e.split(", ")[t]),ED=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const a=r.match(/^matrix3d\((.+)\)$/);if(a)return AD(a[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?AD(i[1],e):0}},Wge=new Set(["x","y","z"]),Hge=pm.filter(e=>!Wge.has(e));function qge(e){const t=[];return Hge.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const kd={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:ED(4,13),y:ED(5,14)};kd.translateX=kd.x;kd.translateY=kd.y;const Kge=(e,t,n)=>{const r=t.measureViewportBox(),a=t.current,i=getComputedStyle(a),{display:o}=i,s={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{s[u]=kd[u](r,i)}),t.render();const l=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(s[u]),e[u]=kd[u](l,i)}),e},Gge=(e,t,n={},r={})=>{t={...t},r={...r};const a=Object.keys(t).filter(M6);let i=[],o=!1;const s=[];if(a.forEach(l=>{const u=e.getValue(l);if(!e.hasValue(l))return;let d=n[l],f=df(d);const p=t[l];let m;if(w0(p)){const h=p.length,v=p[0]===null?1:0;d=p[v],f=df(d);for(let b=v;b<h&&p[b]!==null;b++)m?GN(df(p[b])===m):m=df(p[b])}else m=df(p);if(f!==m)if(MD(f)&&MD(m)){const h=u.get();typeof h=="string"&&u.set(parseFloat(h)),typeof p=="string"?t[l]=parseFloat(p):Array.isArray(p)&&m===Kt&&(t[l]=p.map(parseFloat))}else f!=null&&f.transform&&m!=null&&m.transform&&(d===0||p===0)?d===0?u.set(m.transform(d)):t[l]=f.transform(p):(o||(i=qge(e),o=!0),s.push(l),r[l]=r[l]!==void 0?r[l]:t[l],u.jump(p))}),s.length){const l=s.indexOf("height")>=0?window.pageYOffset:null,u=Kge(t,e,s);return i.length&&i.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),Zy&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function Yge(e,t,n,r){return Vge(t)?Gge(e,t,n,r):{target:t,transitionEnd:r}}const Qge=(e,t,n,r)=>{const a=zge(e,t,r);return t=a.target,r=a.transitionEnd,Yge(e,t,n,r)},o1={current:null},A6={current:!1};function Xge(){if(A6.current=!0,!!Zy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>o1.current=e.matches;e.addListener(t),t()}else o1.current=!1}function Jge(e,t,n){const{willChange:r}=t;for(const a in t){const i=t[a],o=n[a];if(ci(i))e.addValue(a,i),j0(r)&&r.add(a);else if(ci(o))e.addValue(a,wd(i,{owner:e})),j0(r)&&r.remove(a);else if(o!==i)if(e.hasValue(a)){const s=e.getValue(a);!s.hasAnimated&&s.set(i)}else{const s=e.getStaticValue(a);e.addValue(a,wd(s!==void 0?s:i,{owner:e}))}}for(const a in n)t[a]===void 0&&e.removeValue(a);return t}const DD=new WeakMap,E6=Object.keys(Cp),Zge=E6.length,PD=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],e0e=BN.length;class t0e{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ur.render(this.render,!1,!0);const{latestValues:s,renderState:l}=i;this.latestValues=s,this.baseTarget={...s},this.initialValues=n.initial?{...s}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.isControllingVariants=tv(n),this.isVariantNode=p$(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const p=d[f];s[f]!==void 0&&ci(p)&&(p.set(s[f],!1),j0(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,DD.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),A6.current||Xge(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:o1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){DD.delete(this.current),this.projection&&this.projection.unmount(),Vs(this.notifyUpdate),Vs(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=au.has(t),a=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&ur.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{a(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,a,i){let o,s;for(let l=0;l<Zge;l++){const u=E6[l],{isEnabled:d,Feature:f,ProjectionNode:p,MeasureLayout:m}=Cp[u];p&&(o=p),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),m&&(s=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:d,dragConstraints:f,layoutScroll:p,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!d||f&&zu(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:m})}return s}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$r()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<PD.length;r++){const a=PD[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i=t["on"+a];i&&(this.propEventSubscriptions[a]=this.on(a,i))}this.prevMotionValues=Jge(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<e0e;r++){const a=BN[r],i=this.props[a];(jp(i)||i===!1)&&(n[a]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=wd(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,a=typeof r=="string"||typeof r=="object"?(n=KN(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!ci(i)?i:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new r2),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class D6 extends t0e{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:a},i){let o=vhe(r,t||{},this);if(a&&(n&&(n=a(n)),r&&(r=a(r)),o&&(o=a(o))),i){ghe(this,r,o);const s=Qge(this,r,o,n);n=s.transitionEnd,r=s.target}return{transition:t,transitionEnd:n,...r}}}function n0e(e){return window.getComputedStyle(e)}class r0e extends D6{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(au.has(n)){const r=JN(n);return r&&r.default||0}else{const r=n0e(t),a=(v$(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return y6(t,n)}build(t,n,r,a){UN(t,n,r,a.transformTemplate)}scrapeMotionValuesFromProps(t,n){return qN(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ci(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,a){N$(t,n,r,a)}}class a0e extends D6{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(au.has(n)){const r=JN(n);return r&&r.default||0}return n=j$.has(n)?n:$N(n),t.getAttribute(n)}measureInstanceViewportBox(){return $r()}scrapeMotionValuesFromProps(t,n){return M$(t,n)}build(t,n,r,a){WN(t,n,r,this.isSVGTag,a.transformTemplate)}renderInstance(t,n,r,a){C$(t,n,r,a)}mount(t){this.isSVGTag=HN(t.tagName),super.mount(t)}}const i0e=(e,t)=>zN(e)?new a0e(t,{enableHardwareAcceleration:!1}):new r0e(t,{enableHardwareAcceleration:!0}),o0e={layout:{ProjectionNode:C6,MeasureLayout:b6}},s0e={...Ohe,...Zpe,...$ge,...o0e},Wo=spe((e,t)=>Bpe(e,t,s0e,i0e));function l0e({isOpen:e,onClose:t,searchValue:n,searchFocused:r,searchResults:a,onSearchChange:i,onSearchFocus:o,onSearchBlur:s,onSearchEnter:l,onSearchResultMouseDown:u,renderHighlightedMatch:d,searchRef:f,tocItems:p,activeTocId:m,onTocClick:h,contentRef:v,children:b}){return e?c.jsx("div",{className:"app-modal-overlay fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-lg",onClick:y=>y.target===y.currentTarget&&t(),children:c.jsxs("div",{className:"app-modal-card proof-of-work-modal relative w-full max-w-4xl bg-[#10151b]/95 border border-white/10 rounded-xl shadow-[0_20px_60px_rgba(0,0,0,0.55)] p-6 overflow-hidden",children:[c.jsxs("div",{className:"pointer-events-none absolute inset-0 opacity-60",children:[c.jsx("div",{className:"absolute -top-24 -right-24 h-56 w-56 rounded-full bg-cyan-500/8 blur-3xl"}),c.jsx("div",{className:"absolute -bottom-24 -left-16 h-64 w-64 rounded-full bg-slate-500/10 blur-3xl"})]}),c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-cyan-300/70",children:"Proof of Work"}),c.jsx("div",{className:"text-xl font-semibold text-white mt-1",children:"Metrics Specification"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:"relative",ref:f,children:[c.jsx("input",{type:"text",value:n,onChange:y=>i(y.target.value),onFocus:o,onBlur:y=>s(y.relatedTarget),onKeyDown:y=>{y.key==="Enter"&&l()},placeholder:"Search spec...",className:"proof-of-work-search w-56 rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/30"}),r&&a.length>0&&n.trim().length>=2&&c.jsx("div",{className:"proof-of-work-search-results absolute right-0 mt-2 w-80 max-h-64 overflow-y-auto rounded-lg border border-white/10 bg-[#0d1218]/95 shadow-2xl z-10",children:a.map((y,x)=>c.jsxs("button",{className:"w-full text-left px-3 py-2 text-xs text-gray-200 hover:bg-white/10 border-b border-white/5 last:border-b-0",onMouseDown:w=>{w.preventDefault(),u(y)},children:[c.jsx("div",{className:"text-[10px] uppercase tracking-wide text-gray-500 mb-1",children:y.section}),c.jsx("div",{className:"truncate",children:d(y.text,n)})]},`${y.hitId}-${x}-${y.text}`))})]}),c.jsx("button",{onClick:t,className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":"Close proof of work",children:c.jsx(ja,{className:"w-5 h-5"})})]})]}),c.jsx("div",{className:"h-[65vh]",children:c.jsxs("div",{className:"grid grid-cols-[230px_1fr] gap-4 h-full min-h-0",children:[c.jsxs("div",{className:"proof-of-work-sidebar h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-white/5 p-3",children:[c.jsx("div",{className:"proof-of-work-toc-header text-[10px] uppercase tracking-[0.3em] text-gray-400 mb-2",children:"On This Page"}),c.jsxs("div",{className:"space-y-1",children:[p.length===0&&c.jsx("div",{className:"px-2 py-1 text-[11px] text-gray-500",children:"Loading sections"}),p.map((y,x)=>{const w=y.id===m;return c.jsxs("button",{"data-toc-active":w?"true":"false",className:`proof-of-work-toc-item ${y.level===1?"proof-of-work-toc-item--l1":y.level===2?"proof-of-work-toc-item--l2":"proof-of-work-toc-item--l3"} w-full text-left flex items-center gap-2 min-w-0 transition-colors ${w?"proof-of-work-toc-item--active !text-cyan-300 hover:!text-cyan-300":y.level===1?"text-white hover:text-white":"text-gray-400 hover:text-gray-200"}`,onClick:()=>h(y),children:[c.jsx("span",{className:`proof-of-work-toc-dot ${w?"!bg-cyan-300":""}`,"aria-hidden":"true"}),c.jsx("span",{className:"proof-of-work-toc-label text-[13px] font-medium truncate min-w-0",children:y.text})]},`${y.id}-${y.level}-${x}`)})]})]}),c.jsx("div",{className:"proof-of-work-content h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-black/30 p-4",ref:v,id:"metrics-spec-content",children:c.jsx("div",{className:"space-y-4 text-sm text-gray-200",children:b})})]})})]})}):null}const uc="border border-white/10 rounded-2xl shadow-xl backdrop-blur-md glass-card",s1="arcbridge_web_theme_override",TD="arcbridge_web_kinetic_font_override",OD="__default__",P6=e=>{if(typeof document>"u")return null;const t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=document.cookie.match(new RegExp(`(?:^|; )${t}=([^;]*)`));if(!n)return null;try{return decodeURIComponent(n[1])}catch{return n[1]}},ID=(e,t,n=365)=>{if(typeof document>"u")return;const r=Math.max(0,Math.floor(n*24*60*60));document.cookie=`${e}=${encodeURIComponent(t)}; Max-Age=${r}; Path=/; SameSite=Lax`},c0e=e=>{typeof document>"u"||(document.cookie=`${e}=; Max-Age=0; Path=/; SameSite=Lax`)},u0e=(e,t)=>{if(!e||!t)return e;try{const n=new URL(e,window.location.origin);return n.searchParams.set("themeId",t),/^https?:\/\//i.test(e)?n.toString():`${n.pathname}${n.search}${n.hash}`}catch{const n=e.includes("?")?"&":"?";return`${e}${n}themeId=${encodeURIComponent(t)}`}},d0e=(e,t,n)=>{const r=new URL(e);return r.searchParams.set("report",t||""),n&&r.searchParams.set("themeId",n),r.toString()},l1=e=>e?e===yN?!0:xf.some(t=>t.id===e):!1,f0e=()=>{const e=new URLSearchParams(window.location.search),t=e.get("themeId")||e.get("theme");if(t&&l1(t))return t;const n=P6(s1);if(!n)return null;try{const r=JSON.parse(n),a=typeof(r==null?void 0:r.themeId)=="string"?r.themeId:null;return a&&l1(a)?a:null}catch{return null}},_D=(e,t)=>e?e===p0?"matte":e===m0||e===Of?"kinetic":e===yN?"crt":t==="modern"||t==="classic"?t:"classic":t,LD=(e,t)=>{try{const n=new Date(e),r=new Date(t);return Number.isNaN(n.getTime())||Number.isNaN(r.getTime())?"":`${n.toLocaleString()} - ${r.toLocaleString()}`}catch{return""}},p0e=e=>{const t=new Date(e);if(Number.isNaN(t.getTime()))return"Raid";const n=`${t.getMonth()+1}/${t.getDate()}/${String(t.getFullYear()).slice(-2)}`,r=t.toLocaleDateString(void 0,{weekday:"long"}),a=t.getHours();let i="Night";return a>=5&&a<12?i="Morning":a>=12&&a<17?i="Afternoon":a>=17&&a<21&&(i="Evening"),`${n} - ${r} ${i} Raid`},FD=e=>e.toLowerCase().trim().replace(/\[(.*?)\]\(.*?\)/g,"$1").replace(/`([^`]+)`/g,"$1").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),m0e=({slices:e})=>{const t=2*Math.PI*18,n=e.reduce((a,i)=>a+(i.value||0),0);let r=0;return c.jsxs("svg",{className:"report-mini-donut",width:"48",height:"48",viewBox:"0 0 48 48",children:[c.jsx("circle",{cx:"24",cy:"24",r:18,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),e.map((a,i)=>{const o=a.value||0,s=n>0?o/n*t:0,l=`${s} ${t-s}`,u=t-r;return r+=s,c.jsx("circle",{cx:"24",cy:"24",r:18,stroke:a.color,strokeWidth:"6",fill:"none",strokeLinecap:"butt",strokeDasharray:l,strokeDashoffset:u,transform:"rotate(-90 24 24)"},`${i}-${a.color}`)})]})},h0e=({value:e})=>{const t=typeof e=="number"?Math.min(Math.max(e,0),1):null,n=18,r=2*Math.PI*n,a=t===null?r:r-t*r;return c.jsxs("svg",{className:"report-mini-donut",width:"48",height:"48",viewBox:"0 0 48 48",children:[c.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),c.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(16,185,129,0.9)",strokeWidth:"6",fill:"none",strokeLinecap:"round",strokeDasharray:r,strokeDashoffset:a,transform:"rotate(-90 24 24)"}),c.jsx("text",{x:"24",y:"27",textAnchor:"middle",fontSize:"10",fill:"#e2e8f0",children:t===null?"--":`${Math.round(t*100)}%`})]})};function g0e(){var e;const t=f0e(),[n,r]=g.useState(null),[a,i]=g.useState(null),[o,s]=g.useState(null),[l,u]=g.useState(null),[d,f]=g.useState(""),[p,m]=g.useState(null),[h,v]=g.useState(null),[b,y]=g.useState(!1),[x,w]=g.useState(!1),[S,j]=g.useState(()=>_D(t,"classic")),[N,M]=g.useState("classic"),[P,B]=g.useState(zh.id),[E,I]=g.useState(t),O=g.useMemo(()=>{const X=new URLSearchParams(window.location.search),ye=X.get("themeId")||X.get("theme");return ye&&l1(ye)?ye:null},[]),[K,Q]=g.useState("default"),[oe,ve]=g.useState(!1),[ne,H]=g.useState(!1),[V,k]=g.useState(!1),[z,T]=g.useState(""),[C,$]=g.useState(""),[U,J]=g.useState([]),[le,G]=g.useState(!1),[_,R]=g.useState("overview"),[Z,F]=g.useState("kdr"),[se,fe]=g.useState({overview:!0,roster:!1,offense:!1,defense:!1,other:!1}),q=g.useRef(null),de=g.useRef(null),Ee=g.useRef(null),st=g.useRef(null),De=g.useRef(null),ae=g.useRef(null),Ie=g.useRef(new Map),ee=g.useRef(null),ht=g.useRef(null),Pt=g.useMemo(()=>{let X=window.location.pathname||"/";const ye=/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host);return X.endsWith("/index.html")&&(X=X.slice(0,-11)),X.includes("/reports/")&&(X=X.replace(/\/reports\/[^/]+\/?$/,"")),ye&&(X=X.replace(/^\/web\/web(?=\/|$)/,"/web")),X.endsWith("/")||(X=`${X}/`),X},[]),Rn=g.useMemo(()=>new URL(Pt,window.location.origin).toString(),[Pt]),be=g.useMemo(()=>O?u0e(Rn,O):Rn,[O,Rn]),We=g.useMemo(()=>/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/"),[]),Tt=g.useMemo(()=>{const X=[Pt,"./","/"],ye=[];return X.forEach(He=>{let pt=He||"/";pt!=="./"&&!pt.endsWith("/")&&(pt=`${pt}/`),ye.includes(pt)||ye.push(pt)}),ye},[Pt,We]),[rn,sn]=g.useState(Tt[0]||"/"),hr=X=>{var ye;return typeof X=="string"||typeof X=="number"?String(X):Array.isArray(X)?X.map(hr).join(""):X&&typeof X=="object"&&"props"in X?hr((ye=X.props)==null?void 0:ye.children):""},Jn=X=>{const ye=FD(X||"section")||"section",He=Ie.current,pt=(He.get(ye)??0)+1;return He.set(ye,pt),pt===1?ye:`${ye}-${pt}`},dn=g.useMemo(()=>{const X=Mb.split(`
`),ye=new Map,He=[],pt=Gt=>{const It=FD(Gt||"section")||"section",Ct=(ye.get(It)??0)+1;return ye.set(It,Ct),Ct===1?It:`${It}-${Ct}`};for(const Gt of X){const It=/^(#{1,3})\s+(.*)\s*$/.exec(Gt);if(!It)continue;const Ct=It[1].length,mn=It[2].trim();mn&&He.push({level:Ct,text:mn,id:pt(mn)})}return He},[Mb]),Ca=(X,ye)=>{const He=X==="./"?"./":X.endsWith("/")?X:`${X}/`,pt=String(ye||"").replace(/^\/+/,"");return`${He}${pt}`};g.useEffect(()=>{const X=P6(TD);(X==="original"||X==="default")&&Q(X)},[]),g.useEffect(()=>{const X=E||P,ye=xf.find(He=>He.id===X)||zh;m(ye)},[E,P]),g.useEffect(()=>{if(!E){j(N);return}j(_D(E,N))},[E,N]),g.useEffect(()=>{sn(Tt[0]||"/");let X=!0;return(async()=>{for(const ye of Tt)try{if((await fetch(Ca(ye,"ui-theme.json"),{cache:"no-store"})).ok){X&&sn(ye);return}}catch{}})(),()=>{X=!1}},[Tt]);const pn=(X,ye)=>{const He=ye.trim();if(!He)return X;const pt=X.toLowerCase(),Gt=He.toLowerCase(),It=pt.indexOf(Gt);if(It===-1)return X;const Ct=X.slice(0,It),mn=X.slice(It,It+He.length),Nn=X.slice(It+He.length);return c.jsxs(c.Fragment,{children:[Ct,c.jsx("mark",{className:"rounded bg-cyan-500/30 px-1 text-cyan-100",children:mn}),Nn]})},In=(X,ye)=>{const He=de.current;if(!He)return;let pt=He.querySelector(`[data-search-hit="${X}"]`);if(!pt&&ye){const Gt=ye.trim().replace(/\s+/g," "),It=Array.from(He.querySelectorAll("h1, h2, h3, p, li, code"));pt=It.find(Ct=>(Ct.textContent||"").trim().replace(/\s+/g," ")===Gt)||null,pt||(pt=It.find(Ct=>(Ct.textContent||"").toLowerCase().includes(Gt.toLowerCase()))||null)}pt&&requestAnimationFrame(()=>{const Gt=He.getBoundingClientRect(),It=pt.getBoundingClientRect(),Ct=Math.max(0,He.scrollTop+(It.top-Gt.top)-12);He.scrollTop=Ct,pt.classList.add("ring-2","ring-cyan-400/70","bg-cyan-500/10"),ae.current&&window.clearTimeout(ae.current),ae.current=window.setTimeout(()=>{pt.classList.remove("ring-2","ring-cyan-400/70","bg-cyan-500/10")},1600)})},gr=X=>{const ye=de.current,He=X.trim().toLowerCase();if(!ye||He.length<2){J([]);return}const pt=Array.from(ye.querySelectorAll("h1, h2, h3, p, li, code"));pt.forEach(Ct=>Ct.removeAttribute("data-search-hit"));const Gt=[];let It=0;pt.forEach((Ct,mn)=>{const Nn=(Ct.textContent||"").trim();if(Nn&&Nn.toLowerCase().includes(He)){let Er="";for(let rr=mn;rr>=0;rr-=1){const A=pt[rr];if(A&&["H1","H2","H3"].includes(A.tagName)){Er=(A.textContent||"").trim();break}}Ct.setAttribute("data-search-hit",String(It)),Gt.push({index:mn,text:Nn,section:Er||"Unlabeled Section",hitId:It}),It+=1}}),J(Gt.slice(0,12))};g.useEffect(()=>{var X;if(!V)return;T(((X=dn[0])==null?void 0:X.id)||"");const ye=He=>{var pt;const Gt=He.target;Gt&&((pt=Ee.current)!=null&&pt.contains(Gt)||(G(!1),J([])))};return window.addEventListener("mousedown",ye),()=>{window.removeEventListener("mousedown",ye)}},[V,dn]),g.useEffect(()=>{if(!V){T("");return}const X=de.current;if(!X)return;let ye=0;const He=()=>{var Gt;const It=Array.from(X.querySelectorAll("[data-heading-id]"));if(It.length===0)return;const Ct=X.getBoundingClientRect().top+18,mn=It.map((Y,te)=>({index:te,id:Y.dataset.headingId||Y.id||"",top:Y.getBoundingClientRect().top})).filter(Y=>!!Y.id);if(mn.length===0)return;let Nn=0,Er=!1;for(const Y of mn){if(Y.top<=Ct){Nn=Y.index,Er=!0;continue}Er||(Nn=Y.index);break}X.scrollTop+X.clientHeight>=X.scrollHeight-2&&(Nn=Math.max(0,mn.length-1));const rr=dn[Nn],A=((Gt=mn[Nn])==null?void 0:Gt.id)||"",L=(rr==null?void 0:rr.id)||A;L&&T(L)};He();const pt=()=>{ye&&cancelAnimationFrame(ye),ye=requestAnimationFrame(He)};return X.addEventListener("scroll",pt,{passive:!0}),window.addEventListener("resize",pt),()=>{ye&&cancelAnimationFrame(ye),X.removeEventListener("scroll",pt),window.removeEventListener("resize",pt)}},[V,dn]);const An=g.useMemo(()=>[{id:"overview",label:"Overview",icon:P8,sectionIds:["overview","kdr","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","timeline","map-distribution","squad-composition"],items:[{id:"kdr",label:"KDR",icon:Dc},{id:"fight-breakdown",label:"Fight Breakdown",icon:kl},{id:"top-players",label:"Top Players",icon:Dc},{id:"top-skills-outgoing",label:"Top Skills",icon:rk},{id:"squad-composition",label:"Classes",icon:Ar},{id:"timeline",label:"Squad vs Enemy Size",icon:Ar},{id:"map-distribution",label:"Map Distribution",icon:lk}]},{id:"roster",label:"Roster Intel",icon:ap,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance",icon:ap},{id:"squad-comp-fight",label:"Squad Comp",icon:Ar},{id:"fight-comp",label:"Fight Comp",icon:kl}]},{id:"offense",label:"Offensive Stats",icon:kl,sectionIds:["offense-detailed","player-breakdown","damage-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:aF},{id:"player-breakdown",label:"Player Breakdown",icon:sk},{id:"damage-breakdown",label:"Damage Breakdown",icon:ak},{id:"spike-damage",label:"Spike Damage",icon:ip},{id:"conditions-outgoing",label:"Conditions",icon:W0}]},{id:"defense",label:"Defensive Stats",icon:ld,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","boon-output","boon-timeline","support-detailed","healing-stats"],items:[{id:"defense-detailed",label:"Defense Detailed",icon:ld},{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:ip},{id:"defense-mitigation",label:"Damage Mitigation",icon:dk},{id:"boon-output",label:"Boon Output",icon:ks},{id:"boon-timeline",label:"Boon Timeline",icon:ks},{id:"support-detailed",label:"Support Detailed",icon:ck},{id:"healing-stats",label:"Healing Stats",icon:i3}]},{id:"other",label:"Other Metrics",icon:H0,sectionIds:["fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"fight-diff-mode",label:"Fight Comparison",icon:ik},{id:"special-buffs",label:"Special Buffs",icon:yg},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:fk},{id:"skill-usage",label:"Skill Usage",icon:ok},{id:"apm-stats",label:"APM Breakdown",icon:uk}]}],[]),Xl=g.useMemo(()=>{const X=new Map;return An.forEach(ye=>{X.set(ye.id.toLowerCase(),ye.id),(ye.sectionIds||[]).forEach(He=>X.set(String(He).toLowerCase(),ye.id)),(ye.items||[]).forEach(He=>X.set(String(He.id).toLowerCase(),ye.id))}),X.set("report-top","overview"),X.set("overview","overview"),X.set("kdr","overview"),X},[An]),da=g.useMemo(()=>An.find(X=>X.id===_)||An[0],[An,_]),Ir=S==="kinetic",ou=g.useMemo(()=>{const X=((da==null?void 0:da.sectionIds)||((da==null?void 0:da.items)||[]).map(ye=>ye.id)).map(ye=>ye==="kdr"?"overview":ye);return new Set(X)},[da]),Jl=X=>{if(X==="report-top")return window.scrollTo({top:0,behavior:"smooth"}),history.replaceState&&history.replaceState(null,"","#report-top"),!0;const ye=X==="kdr"?"overview":X,He=ye==="overview"&&X!=="kdr"?"report-top":ye,pt=document.getElementById(He);if(!pt||pt.getAttribute("data-section-visible")==="false"||!pt.offsetParent)return!1;const Gt=pt.getBoundingClientRect();if(Gt.height<=0)return!1;let It=0;if(He==="stats-view-top"){const mn=document.getElementById("report-top");mn&&(It=mn.getBoundingClientRect().height+12)}const Ct=Gt.top+window.scrollY-12-It;return window.scrollTo({top:Math.max(0,Ct),behavior:"smooth"}),history.replaceState&&history.replaceState(null,"",`#${He}`),!0},Po=(X,ye=0)=>{Jl(X)||ye>=12||window.setTimeout(()=>{requestAnimationFrame(()=>Po(X,ye+1))},40)};g.useEffect(()=>{if(!n)return;const X=requestAnimationFrame(()=>{Array.from(document.querySelectorAll("[data-nav-submenu-content]")).forEach(ye=>{ye.scrollHeight})});return()=>cancelAnimationFrame(X)},[n]),g.useEffect(()=>{const X=ee.current;if(!X)return;let ye=0;const He=()=>{if(Jl(X)){ee.current=null;return}if(ye+=1,ye>=20){ee.current=null;return}window.setTimeout(()=>requestAnimationFrame(He),40)};requestAnimationFrame(He)},[_]),g.useEffect(()=>{const X=()=>{var ye,He;const pt=(window.location.hash||"").replace(/^#/,"").trim();if(!pt)return;let Gt=pt;try{Gt=decodeURIComponent(pt)}catch{Gt=pt}const It=Gt.toLowerCase(),Ct=Xl.get(It);if(Ct){if(R(Ct),fe(()=>{const mn={};return An.forEach(Nn=>{mn[Nn.id]=Nn.id===Ct}),mn}),It==="report-top")F("kdr");else{const mn=An.find(Nn=>Nn.id.toLowerCase()===It);F(((He=(ye=mn==null?void 0:mn.items)==null?void 0:ye[0])==null?void 0:He.id)||It)}ee.current=It==="report-top"?"kdr":It}};return X(),window.addEventListener("hashchange",X),()=>{window.removeEventListener("hashchange",X)}},[Xl,An]);const Ma=S==="matte",ao=p??zh,fa=Ir&&ao.id===Of,Hr=Ir?fa?"142, 155, 214":"90, 80, 68":ao.rgb,za=Ma?"#d8e1eb":Ir?fa?"#f0d8a9":"#24211d":"var(--accent)",pa={"--accent":`rgb(${Hr})`,"--accent-rgb":Hr,"--accent-soft":`rgba(${Hr}, ${Ir?fa?"0.22":"0.18":"0.32"})`,"--accent-strong":`rgba(${Hr}, ${Ir?fa?"0.86":"0.78":"0.95"})`,"--accent-border":`rgba(${Hr}, ${Ir?fa?"0.32":"0.22":"0.4"})`,"--accent-glow":`rgba(${Hr}, ${Ir?fa?"0.14":"0.08":"0.18"})`,"--accent-glow-soft":`rgba(${Hr}, ${Ir?fa?"0.08":"0.04":"0.08"})`},Zs=S==="modern"||S==="matte"||S==="kinetic",is=ao.pattern?Ma||Ir?void 0:Zs?`linear-gradient(180deg, rgba(14, 18, 26, 0.72), rgba(18, 24, 34, 0.78)), ${ao.pattern}`:ao.pattern:void 0,Ii=Ir?{backgroundImage:"none",backgroundColor:fa?"rgba(57, 64, 93, 0.9)":"rgba(220, 210, 196, 0.95)",borderColor:fa?"rgba(164, 177, 228, 0.28)":"rgba(78, 67, 56, 0.18)"}:Ma?{backgroundImage:"none",backgroundColor:"var(--bg-card)"}:{backgroundImage:Zs?"linear-gradient(135deg, rgba(var(--accent-rgb), 0.2), rgba(var(--accent-rgb), 0.06) 70%)":"linear-gradient(135deg, rgba(var(--accent-rgb), 0.26), rgba(var(--accent-rgb), 0.08) 70%)"};g.useEffect(()=>{var X;let ye=!0;const He=new URLSearchParams(window.location.search).get("report")||((X=window.location.pathname.match(/\/reports\/([^/]+)\/?$/))==null?void 0:X[1])||null,pt=He?`${Pt}reports/${He}/report.json`:`${Pt}report.json`;He&&u(pt);const Gt=Ct=>{var mn,Nn,Er;const rr=new Set((((mn=Ct==null?void 0:Ct.meta)==null?void 0:mn.commanders)||[]).map(L=>String(L)));if(rr.size===0)return Ct;const A=Ct.stats;return(Nn=A==null?void 0:A.leaderboards)!=null&&Nn.closestToTag&&(A.leaderboards.closestToTag=A.leaderboards.closestToTag.map(L=>rr.has(String(L==null?void 0:L.account))?{...L,value:0}:L)),(Er=A==null?void 0:A.closestToTag)!=null&&Er.player&&rr.has(String(A.closestToTag.player))&&(A.closestToTag={...A.closestToTag,value:0}),Ct},It=Ct=>{var mn,Nn,Er,rr,A;const L=Ct==null?void 0:Ct.stats;if(!L||typeof L!="object")return Ct;const Y=Array.isArray((mn=L==null?void 0:L.leaderboards)==null?void 0:mn.downContrib)?L.leaderboards.downContrib:[];if(!Y.length)return Ct;const te=Y.map(ue=>({...ue,value:Number((ue==null?void 0:ue.value)??0)})).filter(ue=>Number.isFinite(ue.value)).sort((ue,Fe)=>Fe.value-ue.value||String((ue==null?void 0:ue.account)||"").localeCompare(String((Fe==null?void 0:Fe.account)||"")))[0];return te&&(L.maxDownContrib={...L.maxDownContrib||{},value:Number(te.value||0),player:String(te.account||((Nn=L.maxDownContrib)==null?void 0:Nn.player)||"-"),count:Number(te.count||((Er=L.maxDownContrib)==null?void 0:Er.count)||0),profession:String(te.profession||((rr=L.maxDownContrib)==null?void 0:rr.profession)||"Unknown"),professionList:Array.isArray(te.professionList)?te.professionList:((A=L.maxDownContrib)==null?void 0:A.professionList)||[]}),Ct};return fetch(pt,{cache:"no-store"}).then(Ct=>Ct.ok?Ct.json():Promise.reject()).then(Ct=>{var mn,Nn,Er,rr,A;if(!ye)return;const L=It(Gt(Ct));if(r(L),!E){const Y=(mn=L==null?void 0:L.stats)==null?void 0:mn.uiTheme;Y==="modern"||Y==="classic"||Y==="crt"||Y==="matte"||Y==="kinetic"?M(Y):((Nn=L==null?void 0:L.stats)==null?void 0:Nn.webThemeId)===p0?M("matte"):(((Er=L==null?void 0:L.stats)==null?void 0:Er.webThemeId)===m0||((rr=L==null?void 0:L.stats)==null?void 0:rr.webThemeId)===Of)&&M("kinetic"),typeof((A=L==null?void 0:L.stats)==null?void 0:A.webThemeId)=="string"&&L.stats.webThemeId&&B(L.stats.webThemeId)}}).catch(()=>{if(He){if(!ye)return;s("Report not found yet. It may still be deploying.")}fetch(`${Pt}reports/index.json`,{cache:"no-store"}).then(Ct=>Ct.ok?Ct.json():Promise.reject()).then(Ct=>{ye&&i(Array.isArray(Ct)?Ct:[])}).catch(()=>{ye&&s("No report data found.")})}),()=>{ye=!1}},[Pt,E]),g.useEffect(()=>{if(n){const X=n.meta.dateLabel||LD(n.meta.dateStart,n.meta.dateEnd);document.title=X?`ArcBridge  ${n.meta.title}  ${X}`:`ArcBridge  ${n.meta.title}`;return}document.title="ArcBridge Reports"},[n]),g.useEffect(()=>{var X;if(E)return;const ye=(X=n==null?void 0:n.stats)==null?void 0:X.webThemeId;typeof ye=="string"&&ye&&B(ye)},[n,E]),g.useEffect(()=>{const X=document.body;X.classList.add("web-report"),X.classList.remove("theme-classic","theme-modern","theme-crt","theme-matte","theme-kinetic","theme-kinetic-dark","theme-kinetic-font-original"),Ma?X.classList.add("theme-matte"):S==="modern"?X.classList.add("theme-modern"):S==="crt"?X.classList.add("theme-crt"):S==="kinetic"?(X.classList.add("theme-kinetic"),fa&&X.classList.add("theme-kinetic-dark"),K==="original"&&X.classList.add("theme-kinetic-font-original")):X.classList.add("theme-classic")},[S,Ma,fa,K]),g.useEffect(()=>{var X;if(E||We&&(X=n==null?void 0:n.stats)!=null&&X.webThemeId)return;let ye=!0;return fetch(Ca(rn,"theme.json"),{cache:"no-store"}).then(He=>He.ok?He.json():Promise.reject()).then(He=>{ye&&typeof(He==null?void 0:He.id)=="string"&&He.id&&B(He.id)}).catch(()=>{}),()=>{ye=!1}},[rn,We,n,E]),g.useEffect(()=>{var X,ye;if(E)return;const He=(X=n==null?void 0:n.stats)==null?void 0:X.webThemeId,pt=(ye=n==null?void 0:n.stats)==null?void 0:ye.uiTheme;if((pt==="modern"||pt==="classic"||pt==="crt"||pt==="matte"||pt==="kinetic")&&!(He===p0&&pt!=="matte"||(He===m0||He===Of)&&pt!=="kinetic"||He==="CRT"&&pt!=="crt"))return;let Gt=!0;return fetch(Ca(rn,"ui-theme.json"),{cache:"no-store"}).then(It=>It.ok?It.json():Promise.reject()).then(It=>{if(!Gt)return;const Ct=It==null?void 0:It.theme;(Ct==="modern"||Ct==="classic"||Ct==="crt"||Ct==="matte"||Ct==="kinetic")&&M(Ct)}).catch(()=>{}),()=>{Gt=!1}},[rn,n,E]),g.useEffect(()=>{let X=!0;return fetch(Ca(rn,"logo.json"),{cache:"no-store"}).then(ye=>ye.ok?ye.json():Promise.reject()).then(ye=>{if(!X)return;const He="svg/ArcBridge.svg",pt=ye!=null&&ye.path?String(ye.path):He,Gt=ye!=null&&ye.updatedAt?String(ye.updatedAt):"",It=Ca(rn,pt),Ct=Gt?`${It}?v=${encodeURIComponent(Gt)}`:It;v(Ct),y(!(ye!=null&&ye.path)||pt===He)}).catch(()=>{X&&(v(null),y(!1))}),()=>{X=!1}},[rn]);const Zn=g.useMemo(()=>a?[...a].sort((X,ye)=>{const He=new Date(X.dateEnd||X.dateStart).getTime();return new Date(ye.dateEnd||ye.dateStart).getTime()-He}):[],[a]),io=g.useMemo(()=>{if(!Zn.length)return[];const X=d.trim().toLowerCase();return X?Zn.filter(ye=>{var He;const pt=((He=ye.commanders)==null?void 0:He.join(" "))||"";return`${ye.title} ${pt} ${ye.dateLabel}`.toLowerCase().includes(X)}):Zn},[Zn,d]),To=X=>{if(!X){c0e(s1);return}ID(s1,JSON.stringify({themeId:X}))},Zl=X=>{const ye=X===OD?null:X;ye&&!xf.some(He=>He.id===ye)||(I(ye),To(ye),ve(!1))},_i=X=>{Q(X),ID(TD,X),H(!1)};g.useEffect(()=>{const X=He=>{if(!st.current)return;const pt=He.target;st.current.contains(pt)||De.current&&De.current.contains(pt)||(ve(!1),H(!1))},ye=He=>{He.key==="Escape"&&(ve(!1),H(!1))};return window.addEventListener("mousedown",X),window.addEventListener("keydown",ye),()=>{window.removeEventListener("mousedown",X),window.removeEventListener("keydown",ye)}},[]),g.useEffect(()=>()=>{ht.current!==null&&(cancelAnimationFrame(ht.current),ht.current=null)},[]);const su=g.useMemo(()=>{if(!E)return"Default";const X=xf.find(ye=>ye.id===E);return(X==null?void 0:X.label)||"Default"},[E]),ec=c.jsxs("div",{className:"relative flex items-center gap-2",ref:st,children:[c.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-400 whitespace-nowrap",children:"Theme"}),c.jsxs("button",{type:"button",onClick:()=>ve(X=>!X),className:"w-[152px] inline-flex items-center justify-between gap-2 rounded-full border px-3 py-1 text-[9px] uppercase tracking-widest text-white transition-colors focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--accent-border)"},children:[c.jsx("span",{className:"truncate text-left",children:su}),c.jsx("span",{className:`transition-transform ${oe?"rotate-180":""}`,children:""})]}),oe&&c.jsxs("div",{className:"absolute right-0 bottom-[calc(100%+6px)] z-20 w-[240px] overflow-y-auto rounded-xl border shadow-2xl backdrop-blur-xl",style:{maxHeight:"240px",backgroundColor:"color-mix(in srgb, var(--bg-card) 92%, black)",borderColor:"var(--accent-border)"},children:[c.jsx("button",{type:"button",onClick:()=>Zl(OD),className:"w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] text-gray-200 hover:bg-white/10 transition-colors",children:"Default"}),xf.map(X=>c.jsx("button",{type:"button",onClick:()=>Zl(X.id),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${E===X.id?"text-[color:var(--accent)]":"text-gray-200"}`,children:X.label},X.id))]})]}),el=Ir?c.jsxs("div",{className:"relative flex items-center gap-2",ref:De,children:[c.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-400 whitespace-nowrap",children:"Font"}),c.jsxs("button",{type:"button",onClick:()=>H(X=>!X),className:"w-[152px] inline-flex items-center justify-between gap-2 rounded-full border px-3 py-1 text-[9px] uppercase tracking-widest text-white transition-colors focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--accent-border)"},children:[c.jsx("span",{className:"truncate text-left",children:K==="original"?"Original App":"Kinetic Default"}),c.jsx("span",{className:`transition-transform ${ne?"rotate-180":""}`,children:""})]}),ne&&c.jsxs("div",{className:"absolute right-0 bottom-[calc(100%+6px)] z-20 w-[240px] overflow-y-auto rounded-xl border shadow-2xl backdrop-blur-xl",style:{maxHeight:"180px",backgroundColor:"color-mix(in srgb, var(--bg-card) 92%, black)",borderColor:"var(--accent-border)"},children:[c.jsx("button",{type:"button",onClick:()=>_i("default"),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${K==="default"?"text-[color:var(--accent)]":"text-gray-200"}`,children:"Kinetic Default"}),c.jsx("button",{type:"button",onClick:()=>_i("original"),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${K==="original"?"text-[color:var(--accent)]":"text-gray-200"}`,children:"Original App"})]})]}):null,pi=c.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-[11px] text-gray-500",children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-2",children:[c.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.35em] text-gray-400",children:"Legal Notice"}),c.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[c.jsx("div",{className:"min-w-[160px]",children:ec}),el&&c.jsx("div",{className:"min-w-[160px]",children:el}),c.jsx("a",{href:"https://github.com/darkharasho/ArcBridge",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"GitHub"}),c.jsx("a",{href:"https://discord.gg/UjzMXMGXEg",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Discord"}),c.jsx("a",{href:"#proof-of-work",onClick:X=>{X.preventDefault(),k(!0)},className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Proof of Work"})]})]}),c.jsx("p",{children:"ArcBridge is free software by harasho: you can redistribute it and/or modify it under the terms of the GNU General Public License v3.0 only. This program comes with ABSOLUTELY NO WARRANTY."}),c.jsxs("p",{className:"mt-2",children:["Class Icons, artwork, and skill icons are created and owned by Arenanet as detailed in their"," ",c.jsx("a",{href:"https://www.arena.net/en/legal/content-terms-of-use",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"Content Terms of Use"}),". I do not own or profit from this work in any way. Assets were obtained from asset packs distributed by Arenanet. The official statement from the Content Terms of Use:"]}),c.jsx("p",{className:"mt-2",children:" ArenaNet LLC. All rights reserved. NCSOFT, ArenaNet, Guild Wars, Guild Wars 2, GW2, Heart of Thorns, Path of Fire, End of Dragons, Secrets of the Obscure, Janthir Wilds, Visions of Eternity, and all associated logos, designs, and composite marks are trademarks or registered trademarks of NCSOFT Corporation. All other trademarks are the property of their respective owners."}),c.jsxs("p",{className:"mt-2",children:["See the"," ",c.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/LICENSE",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"LICENSE"})," ","and"," ",c.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/THIRD_PARTY_NOTICES.md",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"THIRD_PARTY_NOTICES.md"})," ","files for full terms and upstream attributions."]})]}),Oo=c.jsxs(l0e,{isOpen:V,onClose:()=>k(!1),searchValue:C,searchFocused:le,searchResults:U,onSearchChange:X=>{$(X),requestAnimationFrame(()=>gr(X))},onSearchFocus:()=>{G(!0),requestAnimationFrame(()=>gr(C))},onSearchBlur:X=>{var ye;X&&(ye=Ee.current)!=null&&ye.contains(X)||G(!1)},onSearchEnter:()=>{U.length>0&&In(U[0].hitId,U[0].text)},onSearchResultMouseDown:X=>{G(!0),In(X.hitId,X.text)},renderHighlightedMatch:pn,searchRef:Ee,tocItems:dn,activeTocId:z,onTocClick:X=>{const ye=de.current;if(!ye)return;let He=ye.querySelector(`[data-heading-id="${X.id}"]`);if(!He){const pt=X.text.trim().replace(/\s+/g," ");He=Array.from(ye.querySelectorAll("h1, h2, h3")).find(Gt=>(Gt.textContent||"").trim().replace(/\s+/g," ")===pt)||null}He&&(T(X.id),requestAnimationFrame(()=>{const pt=ye.getBoundingClientRect(),Gt=He.getBoundingClientRect(),It=ye.scrollTop+(Gt.top-pt.top)-12;ye.scrollTop=Math.max(0,It)}))},contentRef:de,children:[(Ie.current=new Map,null),c.jsx(Fue,{remarkPlugins:[Qfe],components:{h1:({children:X})=>{const ye=hr(X),He=Jn(ye);return c.jsx("h1",{id:He,"data-heading-id":He,className:"text-2xl font-bold text-white scroll-mt-6",children:X})},h2:({children:X})=>{const ye=hr(X),He=Jn(ye);return c.jsx("h2",{id:He,"data-heading-id":He,className:"text-xl font-semibold text-white scroll-mt-6",children:X})},h3:({children:X})=>{const ye=hr(X),He=Jn(ye);return c.jsx("h3",{id:He,"data-heading-id":He,className:"text-lg font-semibold text-white scroll-mt-6",children:X})},p:({children:X})=>c.jsx("p",{className:"leading-6 text-gray-200",children:X}),ul:({children:X})=>c.jsx("ul",{className:"list-disc pl-5 space-y-1 text-gray-200",children:X}),ol:({children:X})=>c.jsx("ol",{className:"list-decimal pl-5 space-y-1 text-gray-200",children:X}),li:({children:X})=>c.jsx("li",{className:"leading-6",children:X}),blockquote:({children:X})=>c.jsx("blockquote",{className:"border-l-2 border-blue-400/40 pl-4 text-gray-300 italic",children:X}),a:({href:X,children:ye})=>c.jsx("a",{className:"text-blue-300 hover:text-blue-200 underline underline-offset-2",href:X,target:"_blank",rel:"noreferrer",children:ye}),table:({children:X})=>c.jsx("div",{className:"overflow-x-auto rounded-xl border border-white/10 bg-black/30",children:c.jsx("table",{className:"w-full border-collapse text-left text-sm",children:X})}),th:({children:X})=>c.jsx("th",{className:"border-b border-white/10 bg-white/5 px-3 py-2 text-xs uppercase tracking-wide text-gray-300",children:X}),td:({children:X})=>c.jsx("td",{className:"border-b border-white/10 px-3 py-2 text-gray-200",children:X}),pre:({children:X})=>c.jsx("pre",{className:"overflow-x-auto rounded-xl bg-black/40 p-4 text-xs text-blue-100",children:X}),code:X=>{const{inline:ye,children:He}=X;return ye===!0?c.jsx("code",{className:"rounded bg-black/40 px-1.5 py-0.5 text-[11px] text-blue-200",children:He}):c.jsx("code",{className:"whitespace-pre-wrap text-blue-100",children:He})}},children:Mb})]});if(n){const X=Ca(rn,"svg/ArcBridge.svg"),ye=()=>{ht.current!==null&&(cancelAnimationFrame(ht.current),ht.current=null);const A=window.scrollY||window.pageYOffset||0;if(A<=1){window.scrollTo({top:0,behavior:"auto"});return}const L=320,Y=performance.now(),te=ue=>{const Fe=ue-Y,ke=Math.min(1,Fe/L),mt=1-Math.pow(1-ke,3),St=Math.max(0,Math.round(A*(1-mt)));window.scrollTo({top:St,behavior:"auto"}),ke<1?ht.current=requestAnimationFrame(te):(ht.current=null,window.scrollTo({top:0,behavior:"auto"}))};ht.current=requestAnimationFrame(te)},He=A=>{fe(()=>{const L={};return An.forEach(Y=>{L[Y.id]=Y.id===A}),L})},pt=A=>{var L,Y;ee.current=null,R(A);const te=An.find(ue=>ue.id===A);F(((Y=(L=te==null?void 0:te.items)==null?void 0:L[0])==null?void 0:Y.id)||"kdr"),ye()},Gt=A=>{if(!se[A]){He(A),pt(A);return}if(A!==_){pt(A);return}fe(L=>({...L,[A]:!1}))},It=(A,L)=>{se[A]||He(A),F(L);const Y=A===_;Y||(ee.current=L,R(A),requestAnimationFrame(()=>Po(L))),Y&&requestAnimationFrame(()=>Po(L))},Ct=A=>{const L=A.currentTarget;if(!(L.scrollHeight>L.clientHeight)){window.scrollBy({top:A.deltaY,behavior:"auto"}),A.preventDefault();return}const Y=L.scrollTop<=0,te=L.scrollTop+L.clientHeight>=L.scrollHeight-1;(Y&&A.deltaY<0||te&&A.deltaY>0)&&(window.scrollBy({top:A.deltaY,behavior:"auto"}),A.preventDefault())},mn=A=>{const L=q.current;if(!L)return;const Y=A.target;if(!Y||!L.contains(Y))return;let te=Y;for(;te&&te!==L;){const ue=window.getComputedStyle(te).overflowY;if((ue==="auto"||ue==="scroll")&&te.scrollHeight>te.clientHeight+1){const Fe=te.scrollTop<=0,ke=te.scrollTop+te.clientHeight>=te.scrollHeight-1;(A.deltaY<0&&Fe||A.deltaY>0&&ke)&&(window.scrollBy({top:A.deltaY,behavior:"auto"}),A.preventDefault());return}te=te.parentElement}},Nn=A=>{const L=Math.max(0,6-A);return{accordionDuration:.5+L*.07,itemDuration:.34+L*.035,stagger:.05+L*.01,delayChildren:.06+L*.015}},Er=A=>{const L=Nn(A);return{open:{transition:{staggerChildren:L.stagger,delayChildren:L.delayChildren}},closed:{transition:{staggerChildren:Math.max(.02,L.stagger*.7),staggerDirection:-1}}}},rr={open:{opacity:1,y:0},closed:{opacity:0,y:-2}};return c.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:Ma?"var(--bg-base)":Ir?fa?"#2b3048":"#d8d1c5":Zs?"#0f141c":"#0f172a",backgroundImage:Ma?"none":is,...pa},children:[!Ma&&!Ir&&c.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[c.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),c.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),c.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),c.jsx("div",{className:`fixed inset-0 z-20 bg-black/40 backdrop-blur-sm transition-opacity lg:hidden ${x?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>w(!1)}),c.jsx("aside",{className:`fixed z-30 top-0 bottom-0 w-64 max-w-[80vw] transition-transform duration-300 lg:hidden ${x?"translate-x-0":"-translate-x-full"}`,children:c.jsxs("div",{className:"report-nav-sidebar h-full bg-white/5 border-r border-white/10 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.45)] flex flex-col",children:[c.jsxs("div",{className:"px-5 pt-6 pb-4 flex items-center justify-between",children:[c.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"Contents"}),c.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-white transition-colors","aria-label":"Close table of contents",children:""})]}),c.jsx("div",{className:"px-5 pb-4",children:c.jsxs("a",{href:be,className:"report-back-link w-full inline-flex items-center gap-3 px-4 py-2.5 rounded-xl bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[c.jsx("span",{className:"h-8 w-8 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:c.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[c.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),c.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})}),c.jsx("nav",{className:"px-3 pb-6 space-y-3 text-sm overflow-y-auto [overflow-anchor:none]",onWheel:Ct,children:An.map(A=>{const L=A.icon,Y=A.id===_,te=!!se[A.id],ue=Nn(A.items.length),Fe=Er(A.items.length);return c.jsxs(Wo.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[c.jsxs("button",{onClick:()=>Gt(A.id),className:`report-nav-group-btn w-full text-left flex items-center gap-3 px-3 py-2 rounded-lg border transition-colors ${Y?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[c.jsx(L,{className:"report-nav-group-icon w-4 h-4 text-[color:var(--accent)]"}),c.jsx("span",{className:"report-nav-group-label text-[11px] uppercase tracking-[0.22em] whitespace-nowrap min-w-0 truncate",children:A.label}),c.jsx(Wo.span,{className:"report-nav-chevron ml-auto inline-flex shrink-0",animate:{rotate:te?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:c.jsx(Tx,{className:"w-4 h-4 text-gray-300"})})]}),c.jsx(Wo.div,{initial:!1,animate:te?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:ue.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:c.jsx(Wo.div,{variants:Fe,initial:!1,animate:te?"open":"closed",className:"report-nav-submenu space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:A.items.map(ke=>{const mt=ke.icon;return c.jsxs(Wo.button,{variants:rr,transition:{duration:ue.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>{It(A.id,ke.id),w(!1)},className:`report-nav-item-btn w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-md text-[12px] border transition-colors transform-gpu ${Z===ke.id?"text-white border-white/20 bg-white/10":"text-gray-200 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[c.jsx(mt,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),ke.label]},ke.id)})})},`${A.id}-submenu-mobile`)]},A.id)})})]})}),c.jsx("aside",{className:"report-nav-sidebar hidden lg:flex fixed inset-y-0 left-0 w-64 border-r border-white/10 bg-white/5 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.5)] z-20",children:c.jsxs("div",{className:"flex flex-col w-full",children:[c.jsx("div",{className:"px-6 pt-6 pb-5",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"h-10 w-10 rounded-2xl border border-white/20",style:{backgroundColor:za,maskImage:`url(${X})`,WebkitMaskImage:`url(${X})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"65%",WebkitMaskSize:"65%"},"aria-label":"ArcBridge logo"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"ArcBridge Reports"}),c.jsx("div",{className:"text-sm font-semibold text-white",children:"Navigation"})]})]})}),c.jsx("nav",{className:"px-4 space-y-4 text-sm flex-1 overflow-y-auto [overflow-anchor:none]",onWheel:Ct,children:An.map(A=>{const L=A.icon,Y=A.id===_,te=!!se[A.id],ue=Nn(A.items.length),Fe=Er(A.items.length);return c.jsxs(Wo.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[c.jsxs("button",{onClick:()=>Gt(A.id),className:`report-nav-group-btn w-full text-left flex items-center gap-3 px-3 py-2.5 rounded-xl border transition-colors ${Y?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[c.jsx(L,{className:"report-nav-group-icon w-4 h-4 text-[color:var(--accent)]"}),c.jsx("span",{className:"report-nav-group-label text-[11px] uppercase tracking-[0.22em] whitespace-nowrap min-w-0 truncate",children:A.label}),c.jsx(Wo.span,{className:"report-nav-chevron ml-auto inline-flex shrink-0",animate:{rotate:te?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:c.jsx(Tx,{className:"w-4 h-4 text-gray-300"})})]}),c.jsx(Wo.div,{initial:!1,animate:te?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:ue.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:c.jsx(Wo.div,{variants:Fe,initial:!1,animate:te?"open":"closed",className:"report-nav-submenu space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:A.items.map(ke=>{const mt=ke.icon;return c.jsxs(Wo.button,{variants:rr,transition:{duration:ue.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>It(A.id,ke.id),className:`report-nav-item-btn w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-lg text-[12px] border transition-colors transform-gpu ${Z===ke.id?"text-white border-white/20 bg-white/10":"text-gray-200 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[c.jsx(mt,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),ke.label]},ke.id)})})},`${A.id}-submenu-desktop`)]},A.id)})}),c.jsx("div",{className:"border-t border-white/10",children:c.jsxs("a",{href:be,className:"report-back-link w-full inline-flex items-center gap-3 px-6 py-4 bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[c.jsx("span",{className:"h-9 w-9 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:c.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[c.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),c.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})})]})}),c.jsxs("div",{className:"max-w-[1600px] mx-1 sm:mx-2 lg:mx-auto px-4 pt-3 pb-5 sm:px-6 sm:pt-4 sm:pb-6 lg:pl-[17rem] lg:pr-10 mobile-bottom-pad",children:[c.jsx("div",{className:`${uc} p-5 sm:p-6 mb-6 mx-1 sm:mx-1 lg:mx-0`,style:Ii,children:c.jsxs("div",{className:"flex flex-col gap-4 sm:gap-5 lg:flex-row lg:items-center lg:justify-between",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 text-center sm:text-left",children:[h&&(b?c.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:za,maskImage:`url(${h})`,WebkitMaskImage:`url(${h})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):c.jsx("img",{src:h,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"report-brand-label text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge Log Report"}),c.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-1",children:n.meta.title}),c.jsx("div",{className:"text-xs sm:text-sm text-gray-400 mt-2",children:n.meta.dateLabel||LD(n.meta.dateStart,n.meta.dateEnd)})]})]}),c.jsxs("button",{onClick:()=>w(!0),className:"hidden sm:flex lg:hidden px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-xs uppercase tracking-widest text-gray-300 hover:border-white/30 transition-colors items-center gap-2",children:[c.jsx(Ej,{className:"w-4 h-4"}),"Contents"]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:flex sm:flex-wrap sm:overflow-visible pr-1 sm:pr-2",children:[c.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 inline-flex items-center gap-2 min-w-0 justify-start",children:[c.jsx(k8,{className:"w-4 h-4 text-[color:var(--accent)]"}),n.meta.dateLabel||"Log Range"]}),c.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[c.jsx(Ar,{className:"w-4 h-4 text-[color:var(--accent)]"}),c.jsx("span",{className:"truncate",children:n.meta.commanders.length?n.meta.commanders.join(", "):"No Commanders"})]}),c.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[c.jsx(o3,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Report ",n.meta.appVersion?`v${n.meta.appVersion}`:"build"]})]})]})}),c.jsxs("div",{className:"sm:hidden mb-4",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400 mb-2",children:"Jump to"}),c.jsx("div",{className:"flex gap-2 overflow-x-auto pr-2 pb-1 snap-x snap-mandatory",children:((da==null?void 0:da.items)||[]).map(A=>{const L=A.icon;return c.jsxs("button",{onClick:()=>It((da==null?void 0:da.id)||"overview",A.id),className:`group flex items-center gap-2 px-3 py-2 rounded-full text-[10px] uppercase tracking-widest whitespace-nowrap border bg-gradient-to-br shadow-[0_10px_25px_rgba(0,0,0,0.35)] backdrop-blur-xl transition-all duration-200 active:translate-y-0 active:scale-[0.98] snap-start ${Z===A.id?"text-white border-[color:var(--accent-border)] from-[color:var(--accent-glow)] via-white/10 to-transparent":"text-gray-200 border-white/15 from-white/10 via-white/5 to-transparent hover:-translate-y-0.5 hover:border-[color:var(--accent-border)] hover:shadow-[0_18px_35px_rgba(0,0,0,0.45)]"}`,children:[c.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-white/10 border border-white/10 group-hover:border-[color:var(--accent-border)] group-hover:bg-[color:var(--accent-glow)] transition-colors",children:c.jsx(L,{className:"w-3 h-3 text-[color:var(--accent)]"})}),A.label]},`chip-${A.id}`)})})]}),c.jsx("div",{ref:q,onWheelCapture:mn,className:"flex-1 min-w-0",children:c.jsx("div",{id:"stats-view-top",children:c.jsx(Zie,{logs:[],onBack:()=>{},mvpWeights:void 0,precomputedStats:n.stats,statsViewSettings:(e=n.stats)==null?void 0:e.statsViewSettings,embedded:!0,uiTheme:S,sectionVisibility:A=>ou.has(A),dashboardTitle:`Statistics Dashboard - ${(da==null?void 0:da.label)||"Overview"}`})})}),c.jsx("div",{className:"mt-10",children:pi})]}),c.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-30 sm:hidden mobile-action-bar",children:c.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-2xl bg-slate-950/70 border border-white/15 backdrop-blur-xl px-3 py-2 shadow-[0_20px_50px_rgba(0,0,0,0.45)]",children:[c.jsxs("a",{href:be,className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[c.jsx(r3,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Back"]}),c.jsxs("button",{onClick:()=>w(!0),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[c.jsx(Ej,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Contents"]}),c.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[c.jsx(w8,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Top"]})]})}),Oo]})}return c.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:Ma?"var(--bg-base)":Ir?fa?"#2b3048":"#d8d1c5":Zs?"#0f141c":"#0f172a",backgroundImage:Ma?"none":is,...pa},children:[!Ma&&!Ir&&c.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[c.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),c.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),c.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),c.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 pt-4 pb-8 sm:px-6 sm:pt-5 sm:pb-10",children:[c.jsxs("div",{id:"report-list-container",className:"rounded-2xl border border-white/5 bg-black/20 p-4 sm:p-6",children:[c.jsxs("div",{id:"report-top",className:`${uc} p-5 sm:p-6 mb-6 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between`,style:Ii,children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 min-h-[56px] text-center sm:text-left",children:[h&&(b?c.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:za,maskImage:`url(${h})`,WebkitMaskImage:`url(${h})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):c.jsx("img",{src:h,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge"}),c.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-2",children:"Command Reports"}),c.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"Select a report to view the full stats dashboard."})]})]}),c.jsx("div",{className:"flex flex-col sm:flex-row sm:items-end gap-3",children:c.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300",children:[io.length," Reports"]})})]}),c.jsxs("div",{className:`${uc} px-4 py-3 mb-6 flex flex-col md:flex-row gap-3 md:items-center md:justify-between`,style:Ii,children:[c.jsx("input",{type:"search",value:d,onChange:X=>f(X.target.value),placeholder:"Search reports, commanders, or date...",className:"w-full md:flex-1 bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-sm text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]"}),c.jsxs("div",{className:"text-[11px] sm:text-xs text-gray-400",children:["Showing ",c.jsx("span",{className:"text-[color:var(--accent)]",children:io.length})," of"," ",c.jsx("span",{className:"text-[color:var(--accent)]",children:Zn.length})]})]}),o&&c.jsxs("div",{className:"mb-6 rounded-2xl border border-amber-400/40 bg-amber-500/10 px-6 py-5 text-amber-100 shadow-xl backdrop-blur-md",style:Ii,children:[c.jsx("div",{className:"text-sm uppercase tracking-widest text-amber-200/70",children:"Warning"}),c.jsx("div",{className:"mt-2 text-base font-semibold text-white",children:o}),l&&c.jsxs("div",{className:"text-xs text-amber-100/80 mt-2",children:["Looking for: ",c.jsx("span",{className:"text-amber-50",children:l})]})]}),!o&&!a&&c.jsx("div",{className:`${uc} p-6 text-gray-300`,style:Ii,children:"Loading reports..."}),io.length>0&&c.jsx("div",{className:"flex flex-col gap-3",children:io.map(X=>{var ye,He,pt,Gt;return c.jsx("a",{href:d0e(Rn,X.id,O),className:`${uc} px-5 py-4 hover:border-[color:var(--accent-border)] transition-colors group`,style:Ii,children:c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-4",children:[c.jsxs("div",{className:"min-w-0 block text-left",children:[c.jsx("div",{className:"text-[11px] uppercase tracking-widest text-gray-400",children:X.dateLabel}),c.jsx("div",{className:"text-base sm:text-lg font-semibold mt-1 truncate",children:p0e(X.dateStart)}),c.jsxs("div",{className:"text-xs text-gray-400 mt-1 flex items-center gap-2",children:[c.jsx(Ar,{className:"w-4 h-4 text-[color:var(--accent)]"}),c.jsx("span",{className:"truncate",children:X.commanders.length?X.commanders.join(", "):"No Commanders"})]})]}),c.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3 sm:gap-4 sm:mt-0 mt-2 w-full sm:w-auto",children:[c.jsx("div",{className:"flex flex-col items-center gap-1 text-[10px] text-gray-400",children:(ye=X.summary)!=null&&ye.mapSlices&&X.summary.mapSlices.length>0?c.jsxs(c.Fragment,{children:[c.jsx(m0e,{slices:X.summary.mapSlices}),c.jsx("span",{className:"uppercase tracking-widest",children:"Maps"})]}):c.jsxs(c.Fragment,{children:[c.jsx(h0e,{value:(He=X.summary)==null?void 0:He.borderlandsPct}),c.jsx("span",{className:"uppercase tracking-widest",children:"Borderlands"})]})}),c.jsxs("div",{className:"flex flex-col items-end gap-1",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:"Avg Squad / Enemy"}),c.jsxs("div",{className:"text-sm text-white font-semibold",children:[((pt=X.summary)==null?void 0:pt.avgSquadSize)??"--"," / ",((Gt=X.summary)==null?void 0:Gt.avgEnemySize)??"--"]})]}),c.jsx(M8,{className:"w-5 h-5 text-[color:var(--accent)] opacity-60 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity"})]})]})},X.id)})}),!o&&a&&Zn.length===0&&c.jsx("div",{className:`${uc} p-6 text-gray-300`,style:Ii,children:"No reports uploaded yet."}),!o&&a&&Zn.length>0&&io.length===0&&c.jsx("div",{className:`${uc} p-6 text-gray-300`,style:Ii,children:"No reports match your search."})]}),c.jsx("div",{className:"mt-8",children:pi})]}),Oo]})}document.documentElement.classList.add("web-report");document.body.classList.add("web-report");Bb.createRoot(document.getElementById("root")).render(c.jsx(A0.StrictMode,{children:c.jsx(g0e,{})}));
