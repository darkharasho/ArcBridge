(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var x$=Object.defineProperty,w$=(e,t,n)=>t in e?x$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,P2=(e,t,n)=>w$(e,typeof t!="symbol"?t+"":t,n);function k$(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();var ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var FP={exports:{}},Rg={},$P={exports:{}},on={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Zf=Symbol.for("react.element"),S$=Symbol.for("react.portal"),N$=Symbol.for("react.fragment"),j$=Symbol.for("react.strict_mode"),C$=Symbol.for("react.profiler"),M$=Symbol.for("react.provider"),A$=Symbol.for("react.context"),E$=Symbol.for("react.forward_ref"),P$=Symbol.for("react.suspense"),T$=Symbol.for("react.memo"),D$=Symbol.for("react.lazy"),T2=Symbol.iterator;function O$(e){return e===null||typeof e!="object"?null:(e=T2&&e[T2]||e["@@iterator"],typeof e=="function"?e:null)}var RP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},BP=Object.assign,zP={};function Vu(e,t,n){this.props=e,this.context=t,this.refs=zP,this.updater=n||RP}Vu.prototype.isReactComponent={};Vu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Vu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function UP(){}UP.prototype=Vu.prototype;function xw(e,t,n){this.props=e,this.context=t,this.refs=zP,this.updater=n||RP}var ww=xw.prototype=new UP;ww.constructor=xw;BP(ww,Vu.prototype);ww.isPureReactComponent=!0;var D2=Array.isArray,VP=Object.prototype.hasOwnProperty,kw={current:null},HP={key:!0,ref:!0,__self:!0,__source:!0};function WP(e,t,n){var r,a={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)VP.call(t,r)&&!HP.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(s===1)a.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)a[r]===void 0&&(a[r]=s[r]);return{$$typeof:Zf,type:e,key:i,ref:o,props:a,_owner:kw.current}}function I$(e,t){return{$$typeof:Zf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Sw(e){return typeof e=="object"&&e!==null&&e.$$typeof===Zf}function _$(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var O2=/\/+/g;function Cy(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_$(""+e.key):t.toString(36)}function Im(e,t,n,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Zf:case S$:o=!0}}if(o)return o=e,a=a(o),e=r===""?"."+Cy(o,0):r,D2(a)?(n="",e!=null&&(n=e.replace(O2,"$&/")+"/"),Im(a,t,n,"",function(c){return c})):a!=null&&(Sw(a)&&(a=I$(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(O2,"$&/")+"/")+e)),t.push(a)),1;if(o=0,r=r===""?".":r+":",D2(e))for(var s=0;s<e.length;s++){i=e[s];var l=r+Cy(i,s);o+=Im(i,t,n,l,a)}else if(l=O$(e),typeof l=="function")for(e=l.call(e),s=0;!(i=e.next()).done;)i=i.value,l=r+Cy(i,s++),o+=Im(i,t,n,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function qp(e,t,n){if(e==null)return e;var r=[],a=0;return Im(e,r,"","",function(i){return t.call(n,i,a++)}),r}function L$(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $a={current:null},_m={transition:null},F$={ReactCurrentDispatcher:$a,ReactCurrentBatchConfig:_m,ReactCurrentOwner:kw};function qP(){throw Error("act(...) is not supported in production builds of React.")}on.Children={map:qp,forEach:function(e,t,n){qp(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return qp(e,function(){t++}),t},toArray:function(e){return qp(e,function(t){return t})||[]},only:function(e){if(!Sw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};on.Component=Vu;on.Fragment=N$;on.Profiler=C$;on.PureComponent=xw;on.StrictMode=j$;on.Suspense=P$;on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F$;on.act=qP;on.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=BP({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=kw.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)VP.call(t,l)&&!HP.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:Zf,type:e.type,key:a,ref:i,props:r,_owner:o}};on.createContext=function(e){return e={$$typeof:A$,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:M$,_context:e},e.Consumer=e};on.createElement=WP;on.createFactory=function(e){var t=WP.bind(null,e);return t.type=e,t};on.createRef=function(){return{current:null}};on.forwardRef=function(e){return{$$typeof:E$,render:e}};on.isValidElement=Sw;on.lazy=function(e){return{$$typeof:D$,_payload:{_status:-1,_result:e},_init:L$}};on.memo=function(e,t){return{$$typeof:T$,type:e,compare:t===void 0?null:t}};on.startTransition=function(e){var t=_m.transition;_m.transition={};try{e()}finally{_m.transition=t}};on.unstable_act=qP;on.useCallback=function(e,t){return $a.current.useCallback(e,t)};on.useContext=function(e){return $a.current.useContext(e)};on.useDebugValue=function(){};on.useDeferredValue=function(e){return $a.current.useDeferredValue(e)};on.useEffect=function(e,t){return $a.current.useEffect(e,t)};on.useId=function(){return $a.current.useId()};on.useImperativeHandle=function(e,t,n){return $a.current.useImperativeHandle(e,t,n)};on.useInsertionEffect=function(e,t){return $a.current.useInsertionEffect(e,t)};on.useLayoutEffect=function(e,t){return $a.current.useLayoutEffect(e,t)};on.useMemo=function(e,t){return $a.current.useMemo(e,t)};on.useReducer=function(e,t,n){return $a.current.useReducer(e,t,n)};on.useRef=function(e){return $a.current.useRef(e)};on.useState=function(e){return $a.current.useState(e)};on.useSyncExternalStore=function(e,t,n){return $a.current.useSyncExternalStore(e,t,n)};on.useTransition=function(){return $a.current.useTransition()};on.version="18.3.1";$P.exports=on;var v=$P.exports;const Bg=mo(v),$$=k$({__proto__:null,default:Bg},[v]);/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var R$=v,B$=Symbol.for("react.element"),z$=Symbol.for("react.fragment"),U$=Object.prototype.hasOwnProperty,V$=R$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,H$={key:!0,ref:!0,__self:!0,__source:!0};function KP(e,t,n){var r,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)U$.call(t,r)&&!H$.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:B$,type:e,key:i,ref:o,props:a,_owner:V$.current}}Rg.Fragment=z$;Rg.jsx=KP;Rg.jsxs=KP;FP.exports=Rg;var u=FP.exports,tb={},GP={exports:{}},xi={},YP={exports:{}},XP={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(e){function t(I,te){var k=I.length;I.push(te);e:for(;0<k;){var R=k-1>>>1,A=I[R];if(0<a(A,te))I[R]=te,I[k]=A,k=R;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var te=I[0],k=I.pop();if(k!==te){I[0]=k;e:for(var R=0,A=I.length,N=A>>>1;R<N;){var B=2*(R+1)-1,G=I[B],V=B+1,H=I[V];if(0>a(G,k))V<A&&0>a(H,G)?(I[R]=H,I[V]=k,R=V):(I[R]=G,I[B]=k,R=B);else if(V<A&&0>a(H,k))I[R]=H,I[V]=k,R=V;else break e}}return te}function a(I,te){var k=I.sortIndex-te.sortIndex;return k!==0?k:I.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],c=[],d=1,f=null,p=3,m=!1,h=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(I){for(var te=n(c);te!==null;){if(te.callback===null)r(c);else if(te.startTime<=I)r(c),te.sortIndex=te.expirationTime,t(l,te);else break;te=n(c)}}function S(I){if(y=!1,w(I),!h)if(n(l)!==null)h=!0,fe(C);else{var te=n(c);te!==null&&K(S,te.startTime-I)}}function C(I,te){h=!1,y&&(y=!1,g(P),P=-1),m=!0;var k=p;try{for(w(te),f=n(l);f!==null&&(!(f.expirationTime>te)||I&&!_());){var R=f.callback;if(typeof R=="function"){f.callback=null,p=f.priorityLevel;var A=R(f.expirationTime<=te);te=e.unstable_now(),typeof A=="function"?f.callback=A:f===n(l)&&r(l),w(te)}else r(l);f=n(l)}if(f!==null)var N=!0;else{var B=n(c);B!==null&&K(S,B.startTime-te),N=!1}return N}finally{f=null,p=k,m=!1}}var j=!1,M=null,P=-1,$=5,E=-1;function _(){return!(e.unstable_now()-E<$)}function D(){if(M!==null){var I=e.unstable_now();E=I;var te=!0;try{te=M(!0,I)}finally{te?J():(j=!1,M=null)}}else j=!1}var J;if(typeof b=="function")J=function(){b(D)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,Y=Q.port2;Q.port1.onmessage=D,J=function(){Y.postMessage(null)}}else J=function(){x(D,0)};function fe(I){M=I,j||(j=!0,J())}function K(I,te){P=x(function(){I(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){h||m||(h=!0,fe(C))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(I){switch(p){case 1:case 2:case 3:var te=3;break;default:te=p}var k=p;p=te;try{return I()}finally{p=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,te){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var k=p;p=I;try{return te()}finally{p=k}},e.unstable_scheduleCallback=function(I,te,k){var R=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?R+k:R):k=R,I){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=k+A,I={id:d++,callback:te,priorityLevel:I,startTime:k,expirationTime:A,sortIndex:-1},k>R?(I.sortIndex=k,t(c,I),n(l)===null&&I===n(c)&&(y?(g(P),P=-1):y=!0,K(S,k-R))):(I.sortIndex=A,t(l,I),h||m||(h=!0,fe(C))),I},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(I){var te=p;return function(){var k=p;p=te;try{return I.apply(this,arguments)}finally{p=k}}}})(XP);YP.exports=XP;var W$=YP.exports;/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var q$=v,yi=W$;function $e(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ZP=new Set,of={};function Cc(e,t){ku(e,t),ku(e+"Capture",t)}function ku(e,t){for(of[e]=t,e=0;e<t.length;e++)ZP.add(t[e])}var us=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nb=Object.prototype.hasOwnProperty,K$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I2={},_2={};function G$(e){return nb.call(_2,e)?!0:nb.call(I2,e)?!1:K$.test(e)?_2[e]=!0:(I2[e]=!0,!1)}function Y$(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function X$(e,t,n,r){if(t===null||typeof t>"u"||Y$(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ra(e,t,n,r,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var ma={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ma[e]=new Ra(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ma[t]=new Ra(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ma[e]=new Ra(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ma[e]=new Ra(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ma[e]=new Ra(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ma[e]=new Ra(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ma[e]=new Ra(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ma[e]=new Ra(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ma[e]=new Ra(e,5,!1,e.toLowerCase(),null,!1,!1)});var Nw=/[\-:]([a-z])/g;function jw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Nw,jw);ma[t]=new Ra(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Nw,jw);ma[t]=new Ra(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Nw,jw);ma[t]=new Ra(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ma[e]=new Ra(e,1,!1,e.toLowerCase(),null,!1,!1)});ma.xlinkHref=new Ra("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ma[e]=new Ra(e,1,!1,e.toLowerCase(),null,!0,!0)});function Cw(e,t,n,r){var a=ma.hasOwnProperty(t)?ma[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(X$(t,n,a,r)&&(n=null),r||a===null?G$(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ws=q$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kp=Symbol.for("react.element"),Gc=Symbol.for("react.portal"),Yc=Symbol.for("react.fragment"),Mw=Symbol.for("react.strict_mode"),rb=Symbol.for("react.profiler"),QP=Symbol.for("react.provider"),JP=Symbol.for("react.context"),Aw=Symbol.for("react.forward_ref"),ab=Symbol.for("react.suspense"),ib=Symbol.for("react.suspense_list"),Ew=Symbol.for("react.memo"),Vs=Symbol.for("react.lazy"),e5=Symbol.for("react.offscreen"),L2=Symbol.iterator;function dd(e){return e===null||typeof e!="object"?null:(e=L2&&e[L2]||e["@@iterator"],typeof e=="function"?e:null)}var pr=Object.assign,My;function Od(e){if(My===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);My=t&&t[1]||""}return`
`+My+e}var Ay=!1;function Ey(e,t){if(!e||Ay)return"";Ay=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),i=r.stack.split(`
`),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(o!==1||s!==1)do if(o--,s--,0>s||a[o]!==i[s]){var l=`
`+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{Ay=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Od(e):""}function Z$(e){switch(e.tag){case 5:return Od(e.type);case 16:return Od("Lazy");case 13:return Od("Suspense");case 19:return Od("SuspenseList");case 0:case 2:case 15:return e=Ey(e.type,!1),e;case 11:return e=Ey(e.type.render,!1),e;case 1:return e=Ey(e.type,!0),e;default:return""}}function ob(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Yc:return"Fragment";case Gc:return"Portal";case rb:return"Profiler";case Mw:return"StrictMode";case ab:return"Suspense";case ib:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case JP:return(e.displayName||"Context")+".Consumer";case QP:return(e._context.displayName||"Context")+".Provider";case Aw:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ew:return t=e.displayName||null,t!==null?t:ob(e.type)||"Memo";case Vs:t=e._payload,e=e._init;try{return ob(e(t))}catch{}}return null}function Q$(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ob(t);case 8:return t===Mw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function dl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function t5(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function J$(e){var t=t5(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gp(e){e._valueTracker||(e._valueTracker=J$(e))}function n5(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=t5(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ih(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function sb(e,t){var n=t.checked;return pr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function F2(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=dl(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function r5(e,t){t=t.checked,t!=null&&Cw(e,"checked",t,!1)}function lb(e,t){r5(e,t);var n=dl(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?cb(e,t.type,n):t.hasOwnProperty("defaultValue")&&cb(e,t.type,dl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function $2(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function cb(e,t,n){(t!=="number"||ih(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Id=Array.isArray;function fu(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dl(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function ub(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($e(91));return pr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function R2(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error($e(92));if(Id(n)){if(1<n.length)throw Error($e(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:dl(n)}}function a5(e,t){var n=dl(t.value),r=dl(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function B2(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function i5(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function db(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?i5(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Yp,o5=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Yp=Yp||document.createElement("div"),Yp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Yp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function sf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Bd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eR=["Webkit","ms","Moz","O"];Object.keys(Bd).forEach(function(e){eR.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bd[t]=Bd[e]})});function s5(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Bd.hasOwnProperty(e)&&Bd[e]?(""+t).trim():t+"px"}function l5(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=s5(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var tR=pr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fb(e,t){if(t){if(tR[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($e(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($e(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($e(61))}if(t.style!=null&&typeof t.style!="object")throw Error($e(62))}}function pb(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mb=null;function Pw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hb=null,pu=null,mu=null;function z2(e){if(e=ep(e)){if(typeof hb!="function")throw Error($e(280));var t=e.stateNode;t&&(t=Wg(t),hb(e.stateNode,e.type,t))}}function c5(e){pu?mu?mu.push(e):mu=[e]:pu=e}function u5(){if(pu){var e=pu,t=mu;if(mu=pu=null,z2(e),t)for(e=0;e<t.length;e++)z2(t[e])}}function d5(e,t){return e(t)}function f5(){}var Py=!1;function p5(e,t,n){if(Py)return e(t,n);Py=!0;try{return d5(e,t,n)}finally{Py=!1,(pu!==null||mu!==null)&&(f5(),u5())}}function lf(e,t){var n=e.stateNode;if(n===null)return null;var r=Wg(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error($e(231,t,typeof n));return n}var gb=!1;if(us)try{var fd={};Object.defineProperty(fd,"passive",{get:function(){gb=!0}}),window.addEventListener("test",fd,fd),window.removeEventListener("test",fd,fd)}catch{gb=!1}function nR(e,t,n,r,a,i,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var zd=!1,oh=null,sh=!1,yb=null,rR={onError:function(e){zd=!0,oh=e}};function aR(e,t,n,r,a,i,o,s,l){zd=!1,oh=null,nR.apply(rR,arguments)}function iR(e,t,n,r,a,i,o,s,l){if(aR.apply(this,arguments),zd){if(zd){var c=oh;zd=!1,oh=null}else throw Error($e(198));sh||(sh=!0,yb=c)}}function Mc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function m5(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function U2(e){if(Mc(e)!==e)throw Error($e(188))}function oR(e){var t=e.alternate;if(!t){if(t=Mc(e),t===null)throw Error($e(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return U2(a),e;if(i===r)return U2(a),t;i=i.sibling}throw Error($e(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o){for(s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o)throw Error($e(189))}}if(n.alternate!==r)throw Error($e(190))}if(n.tag!==3)throw Error($e(188));return n.stateNode.current===n?e:t}function h5(e){return e=oR(e),e!==null?g5(e):null}function g5(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=g5(e);if(t!==null)return t;e=e.sibling}return null}var y5=yi.unstable_scheduleCallback,V2=yi.unstable_cancelCallback,sR=yi.unstable_shouldYield,lR=yi.unstable_requestPaint,Mr=yi.unstable_now,cR=yi.unstable_getCurrentPriorityLevel,Tw=yi.unstable_ImmediatePriority,v5=yi.unstable_UserBlockingPriority,lh=yi.unstable_NormalPriority,uR=yi.unstable_LowPriority,b5=yi.unstable_IdlePriority,zg=null,Io=null;function dR(e){if(Io&&typeof Io.onCommitFiberRoot=="function")try{Io.onCommitFiberRoot(zg,e,void 0,(e.current.flags&128)===128)}catch{}}var ao=Math.clz32?Math.clz32:mR,fR=Math.log,pR=Math.LN2;function mR(e){return e>>>=0,e===0?32:31-(fR(e)/pR|0)|0}var Xp=64,Zp=4194304;function _d(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ch(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~a;s!==0?r=_d(s):(i&=o,i!==0&&(r=_d(i)))}else o=n&~a,o!==0?r=_d(o):i!==0&&(r=_d(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ao(t),a=1<<n,r|=e[n],t&=~a;return r}function hR(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gR(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ao(i),s=1<<o,l=a[o];l===-1?(!(s&n)||s&r)&&(a[o]=hR(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}function vb(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function x5(){var e=Xp;return Xp<<=1,!(Xp&4194240)&&(Xp=64),e}function Ty(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Qf(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ao(t),e[t]=n}function yR(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-ao(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}function Dw(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ao(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var An=0;function w5(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var k5,Ow,S5,N5,j5,bb=!1,Qp=[],el=null,tl=null,nl=null,cf=new Map,uf=new Map,Gs=[],vR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function H2(e,t){switch(e){case"focusin":case"focusout":el=null;break;case"dragenter":case"dragleave":tl=null;break;case"mouseover":case"mouseout":nl=null;break;case"pointerover":case"pointerout":cf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":uf.delete(t.pointerId)}}function pd(e,t,n,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=ep(t),t!==null&&Ow(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function bR(e,t,n,r,a){switch(t){case"focusin":return el=pd(el,e,t,n,r,a),!0;case"dragenter":return tl=pd(tl,e,t,n,r,a),!0;case"mouseover":return nl=pd(nl,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return cf.set(i,pd(cf.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,uf.set(i,pd(uf.get(i)||null,e,t,n,r,a)),!0}return!1}function C5(e){var t=ql(e.target);if(t!==null){var n=Mc(t);if(n!==null){if(t=n.tag,t===13){if(t=m5(n),t!==null){e.blockedOn=t,j5(e.priority,function(){S5(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Lm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=xb(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);mb=r,n.target.dispatchEvent(r),mb=null}else return t=ep(n),t!==null&&Ow(t),e.blockedOn=n,!1;t.shift()}return!0}function W2(e,t,n){Lm(e)&&n.delete(t)}function xR(){bb=!1,el!==null&&Lm(el)&&(el=null),tl!==null&&Lm(tl)&&(tl=null),nl!==null&&Lm(nl)&&(nl=null),cf.forEach(W2),uf.forEach(W2)}function md(e,t){e.blockedOn===t&&(e.blockedOn=null,bb||(bb=!0,yi.unstable_scheduleCallback(yi.unstable_NormalPriority,xR)))}function df(e){function t(a){return md(a,e)}if(0<Qp.length){md(Qp[0],e);for(var n=1;n<Qp.length;n++){var r=Qp[n];r.blockedOn===e&&(r.blockedOn=null)}}for(el!==null&&md(el,e),tl!==null&&md(tl,e),nl!==null&&md(nl,e),cf.forEach(t),uf.forEach(t),n=0;n<Gs.length;n++)r=Gs[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Gs.length&&(n=Gs[0],n.blockedOn===null);)C5(n),n.blockedOn===null&&Gs.shift()}var hu=ws.ReactCurrentBatchConfig,uh=!0;function wR(e,t,n,r){var a=An,i=hu.transition;hu.transition=null;try{An=1,Iw(e,t,n,r)}finally{An=a,hu.transition=i}}function kR(e,t,n,r){var a=An,i=hu.transition;hu.transition=null;try{An=4,Iw(e,t,n,r)}finally{An=a,hu.transition=i}}function Iw(e,t,n,r){if(uh){var a=xb(e,t,n,r);if(a===null)zy(e,t,r,dh,n),H2(e,r);else if(bR(a,e,t,n,r))r.stopPropagation();else if(H2(e,r),t&4&&-1<vR.indexOf(e)){for(;a!==null;){var i=ep(a);if(i!==null&&k5(i),i=xb(e,t,n,r),i===null&&zy(e,t,r,dh,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else zy(e,t,r,null,n)}}var dh=null;function xb(e,t,n,r){if(dh=null,e=Pw(r),e=ql(e),e!==null)if(t=Mc(e),t===null)e=null;else if(n=t.tag,n===13){if(e=m5(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return dh=e,null}function M5(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cR()){case Tw:return 1;case v5:return 4;case lh:case uR:return 16;case b5:return 536870912;default:return 16}default:return 16}}var Zs=null,_w=null,Fm=null;function A5(){if(Fm)return Fm;var e,t=_w,n=t.length,r,a="value"in Zs?Zs.value:Zs.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===a[i-r];r++);return Fm=a.slice(e,1<r?1-r:void 0)}function $m(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Jp(){return!0}function q2(){return!1}function wi(e){function t(n,r,a,i,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Jp:q2,this.isPropagationStopped=q2,this}return pr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Jp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Jp)},persist:function(){},isPersistent:Jp}),t}var Hu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lw=wi(Hu),Jf=pr({},Hu,{view:0,detail:0}),SR=wi(Jf),Dy,Oy,hd,Ug=pr({},Jf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hd&&(hd&&e.type==="mousemove"?(Dy=e.screenX-hd.screenX,Oy=e.screenY-hd.screenY):Oy=Dy=0,hd=e),Dy)},movementY:function(e){return"movementY"in e?e.movementY:Oy}}),K2=wi(Ug),NR=pr({},Ug,{dataTransfer:0}),jR=wi(NR),CR=pr({},Jf,{relatedTarget:0}),Iy=wi(CR),MR=pr({},Hu,{animationName:0,elapsedTime:0,pseudoElement:0}),AR=wi(MR),ER=pr({},Hu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),PR=wi(ER),TR=pr({},Hu,{data:0}),G2=wi(TR),DR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _R(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=IR[e])?!!t[e]:!1}function Fw(){return _R}var LR=pr({},Jf,{key:function(e){if(e.key){var t=DR[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$m(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?OR[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fw,charCode:function(e){return e.type==="keypress"?$m(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$m(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),FR=wi(LR),$R=pr({},Ug,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Y2=wi($R),RR=pr({},Jf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fw}),BR=wi(RR),zR=pr({},Hu,{propertyName:0,elapsedTime:0,pseudoElement:0}),UR=wi(zR),VR=pr({},Ug,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),HR=wi(VR),WR=[9,13,27,32],$w=us&&"CompositionEvent"in window,Ud=null;us&&"documentMode"in document&&(Ud=document.documentMode);var qR=us&&"TextEvent"in window&&!Ud,E5=us&&(!$w||Ud&&8<Ud&&11>=Ud),X2=" ",Z2=!1;function P5(e,t){switch(e){case"keyup":return WR.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function T5(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xc=!1;function KR(e,t){switch(e){case"compositionend":return T5(t);case"keypress":return t.which!==32?null:(Z2=!0,X2);case"textInput":return e=t.data,e===X2&&Z2?null:e;default:return null}}function GR(e,t){if(Xc)return e==="compositionend"||!$w&&P5(e,t)?(e=A5(),Fm=_w=Zs=null,Xc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return E5&&t.locale!=="ko"?null:t.data;default:return null}}var YR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Q2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!YR[e.type]:t==="textarea"}function D5(e,t,n,r){c5(r),t=fh(t,"onChange"),0<t.length&&(n=new Lw("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vd=null,ff=null;function XR(e){V5(e,0)}function Vg(e){var t=Jc(e);if(n5(t))return e}function ZR(e,t){if(e==="change")return t}var O5=!1;if(us){var _y;if(us){var Ly="oninput"in document;if(!Ly){var J2=document.createElement("div");J2.setAttribute("oninput","return;"),Ly=typeof J2.oninput=="function"}_y=Ly}else _y=!1;O5=_y&&(!document.documentMode||9<document.documentMode)}function eN(){Vd&&(Vd.detachEvent("onpropertychange",I5),ff=Vd=null)}function I5(e){if(e.propertyName==="value"&&Vg(ff)){var t=[];D5(t,ff,e,Pw(e)),p5(XR,t)}}function QR(e,t,n){e==="focusin"?(eN(),Vd=t,ff=n,Vd.attachEvent("onpropertychange",I5)):e==="focusout"&&eN()}function JR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vg(ff)}function eB(e,t){if(e==="click")return Vg(t)}function tB(e,t){if(e==="input"||e==="change")return Vg(t)}function nB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lo=typeof Object.is=="function"?Object.is:nB;function pf(e,t){if(lo(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!nb.call(t,a)||!lo(e[a],t[a]))return!1}return!0}function tN(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nN(e,t){var n=tN(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tN(n)}}function _5(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_5(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function L5(){for(var e=window,t=ih();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ih(e.document)}return t}function Rw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function rB(e){var t=L5(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&_5(n.ownerDocument.documentElement,n)){if(r!==null&&Rw(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=nN(n,i);var o=nN(n,r);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var aB=us&&"documentMode"in document&&11>=document.documentMode,Zc=null,wb=null,Hd=null,kb=!1;function rN(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kb||Zc==null||Zc!==ih(r)||(r=Zc,"selectionStart"in r&&Rw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hd&&pf(Hd,r)||(Hd=r,r=fh(wb,"onSelect"),0<r.length&&(t=new Lw("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Zc)))}function em(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Qc={animationend:em("Animation","AnimationEnd"),animationiteration:em("Animation","AnimationIteration"),animationstart:em("Animation","AnimationStart"),transitionend:em("Transition","TransitionEnd")},Fy={},F5={};us&&(F5=document.createElement("div").style,"AnimationEvent"in window||(delete Qc.animationend.animation,delete Qc.animationiteration.animation,delete Qc.animationstart.animation),"TransitionEvent"in window||delete Qc.transitionend.transition);function Hg(e){if(Fy[e])return Fy[e];if(!Qc[e])return e;var t=Qc[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in F5)return Fy[e]=t[n];return e}var $5=Hg("animationend"),R5=Hg("animationiteration"),B5=Hg("animationstart"),z5=Hg("transitionend"),U5=new Map,aN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yl(e,t){U5.set(e,t),Cc(t,[e])}for(var $y=0;$y<aN.length;$y++){var Ry=aN[$y],iB=Ry.toLowerCase(),oB=Ry[0].toUpperCase()+Ry.slice(1);yl(iB,"on"+oB)}yl($5,"onAnimationEnd");yl(R5,"onAnimationIteration");yl(B5,"onAnimationStart");yl("dblclick","onDoubleClick");yl("focusin","onFocus");yl("focusout","onBlur");yl(z5,"onTransitionEnd");ku("onMouseEnter",["mouseout","mouseover"]);ku("onMouseLeave",["mouseout","mouseover"]);ku("onPointerEnter",["pointerout","pointerover"]);ku("onPointerLeave",["pointerout","pointerover"]);Cc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ld="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sB=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ld));function iN(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,iR(r,t,void 0,e),e.currentTarget=null}function V5(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;iN(a,s,c),i=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,c=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;iN(a,s,c),i=l}}}if(sh)throw e=yb,sh=!1,yb=null,e}function Wn(e,t){var n=t[Mb];n===void 0&&(n=t[Mb]=new Set);var r=e+"__bubble";n.has(r)||(H5(t,e,2,!1),n.add(r))}function By(e,t,n){var r=0;t&&(r|=4),H5(n,e,r,t)}var tm="_reactListening"+Math.random().toString(36).slice(2);function mf(e){if(!e[tm]){e[tm]=!0,ZP.forEach(function(n){n!=="selectionchange"&&(sB.has(n)||By(n,!1,e),By(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[tm]||(t[tm]=!0,By("selectionchange",!1,t))}}function H5(e,t,n,r){switch(M5(t)){case 1:var a=wR;break;case 4:a=kR;break;default:a=Iw}n=a.bind(null,t,n,e),a=void 0,!gb||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function zy(e,t,n,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===a||s.nodeType===8&&s.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;o=o.return}for(;s!==null;){if(o=ql(s),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}s=s.parentNode}}r=r.return}p5(function(){var c=i,d=Pw(n),f=[];e:{var p=U5.get(e);if(p!==void 0){var m=Lw,h=e;switch(e){case"keypress":if($m(n)===0)break e;case"keydown":case"keyup":m=FR;break;case"focusin":h="focus",m=Iy;break;case"focusout":h="blur",m=Iy;break;case"beforeblur":case"afterblur":m=Iy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=K2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=jR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=BR;break;case $5:case R5:case B5:m=AR;break;case z5:m=UR;break;case"scroll":m=SR;break;case"wheel":m=HR;break;case"copy":case"cut":case"paste":m=PR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Y2}var y=(t&4)!==0,x=!y&&e==="scroll",g=y?p!==null?p+"Capture":null:p;y=[];for(var b=c,w;b!==null;){w=b;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,g!==null&&(S=lf(b,g),S!=null&&y.push(hf(b,S,w)))),x)break;b=b.return}0<y.length&&(p=new m(p,h,null,n,d),f.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==mb&&(h=n.relatedTarget||n.fromElement)&&(ql(h)||h[ds]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(h=n.relatedTarget||n.toElement,m=c,h=h?ql(h):null,h!==null&&(x=Mc(h),h!==x||h.tag!==5&&h.tag!==6)&&(h=null)):(m=null,h=c),m!==h)){if(y=K2,S="onMouseLeave",g="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(y=Y2,S="onPointerLeave",g="onPointerEnter",b="pointer"),x=m==null?p:Jc(m),w=h==null?p:Jc(h),p=new y(S,b+"leave",m,n,d),p.target=x,p.relatedTarget=w,S=null,ql(d)===c&&(y=new y(g,b+"enter",h,n,d),y.target=w,y.relatedTarget=x,S=y),x=S,m&&h)t:{for(y=m,g=h,b=0,w=y;w;w=Rc(w))b++;for(w=0,S=g;S;S=Rc(S))w++;for(;0<b-w;)y=Rc(y),b--;for(;0<w-b;)g=Rc(g),w--;for(;b--;){if(y===g||g!==null&&y===g.alternate)break t;y=Rc(y),g=Rc(g)}y=null}else y=null;m!==null&&oN(f,p,m,y,!1),h!==null&&x!==null&&oN(f,x,h,y,!0)}}e:{if(p=c?Jc(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var C=ZR;else if(Q2(p))if(O5)C=tB;else{C=JR;var j=QR}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=eB);if(C&&(C=C(e,c))){D5(f,C,n,d);break e}j&&j(e,p,c),e==="focusout"&&(j=p._wrapperState)&&j.controlled&&p.type==="number"&&cb(p,"number",p.value)}switch(j=c?Jc(c):window,e){case"focusin":(Q2(j)||j.contentEditable==="true")&&(Zc=j,wb=c,Hd=null);break;case"focusout":Hd=wb=Zc=null;break;case"mousedown":kb=!0;break;case"contextmenu":case"mouseup":case"dragend":kb=!1,rN(f,n,d);break;case"selectionchange":if(aB)break;case"keydown":case"keyup":rN(f,n,d)}var M;if($w)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Xc?P5(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(E5&&n.locale!=="ko"&&(Xc||P!=="onCompositionStart"?P==="onCompositionEnd"&&Xc&&(M=A5()):(Zs=d,_w="value"in Zs?Zs.value:Zs.textContent,Xc=!0)),j=fh(c,P),0<j.length&&(P=new G2(P,e,null,n,d),f.push({event:P,listeners:j}),M?P.data=M:(M=T5(n),M!==null&&(P.data=M)))),(M=qR?KR(e,n):GR(e,n))&&(c=fh(c,"onBeforeInput"),0<c.length&&(d=new G2("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=M))}V5(f,t)})}function hf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function fh(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=lf(e,n),i!=null&&r.unshift(hf(e,i,a)),i=lf(e,t),i!=null&&r.push(hf(e,i,a))),e=e.return}return r}function Rc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function oN(e,t,n,r,a){for(var i=t._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,a?(l=lf(n,i),l!=null&&o.unshift(hf(n,l,s))):a||(l=lf(n,i),l!=null&&o.push(hf(n,l,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var lB=/\r\n?/g,cB=/\u0000|\uFFFD/g;function sN(e){return(typeof e=="string"?e:""+e).replace(lB,`
`).replace(cB,"")}function nm(e,t,n){if(t=sN(t),sN(e)!==t&&n)throw Error($e(425))}function ph(){}var Sb=null,Nb=null;function jb(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Cb=typeof setTimeout=="function"?setTimeout:void 0,uB=typeof clearTimeout=="function"?clearTimeout:void 0,lN=typeof Promise=="function"?Promise:void 0,dB=typeof queueMicrotask=="function"?queueMicrotask:typeof lN<"u"?function(e){return lN.resolve(null).then(e).catch(fB)}:Cb;function fB(e){setTimeout(function(){throw e})}function Uy(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),df(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);df(t)}function rl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cN(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Wu=Math.random().toString(36).slice(2),Do="__reactFiber$"+Wu,gf="__reactProps$"+Wu,ds="__reactContainer$"+Wu,Mb="__reactEvents$"+Wu,pB="__reactListeners$"+Wu,mB="__reactHandles$"+Wu;function ql(e){var t=e[Do];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ds]||n[Do]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=cN(e);e!==null;){if(n=e[Do])return n;e=cN(e)}return t}e=n,n=e.parentNode}return null}function ep(e){return e=e[Do]||e[ds],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Jc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($e(33))}function Wg(e){return e[gf]||null}var Ab=[],eu=-1;function vl(e){return{current:e}}function Gn(e){0>eu||(e.current=Ab[eu],Ab[eu]=null,eu--)}function Un(e,t){eu++,Ab[eu]=e.current,e.current=t}var fl={},Aa=vl(fl),Za=vl(!1),uc=fl;function Su(e,t){var n=e.type.contextTypes;if(!n)return fl;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Qa(e){return e=e.childContextTypes,e!=null}function mh(){Gn(Za),Gn(Aa)}function uN(e,t,n){if(Aa.current!==fl)throw Error($e(168));Un(Aa,t),Un(Za,n)}function W5(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error($e(108,Q$(e)||"Unknown",a));return pr({},n,r)}function hh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fl,uc=Aa.current,Un(Aa,e),Un(Za,Za.current),!0}function dN(e,t,n){var r=e.stateNode;if(!r)throw Error($e(169));n?(e=W5(e,t,uc),r.__reactInternalMemoizedMergedChildContext=e,Gn(Za),Gn(Aa),Un(Aa,e)):Gn(Za),Un(Za,n)}var Yo=null,qg=!1,Vy=!1;function q5(e){Yo===null?Yo=[e]:Yo.push(e)}function hB(e){qg=!0,q5(e)}function bl(){if(!Vy&&Yo!==null){Vy=!0;var e=0,t=An;try{var n=Yo;for(An=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Yo=null,qg=!1}catch(a){throw Yo!==null&&(Yo=Yo.slice(e+1)),y5(Tw,bl),a}finally{An=t,Vy=!1}}return null}var tu=[],nu=0,gh=null,yh=0,Ii=[],_i=0,dc=null,es=1,ts="";function $l(e,t){tu[nu++]=yh,tu[nu++]=gh,gh=e,yh=t}function K5(e,t,n){Ii[_i++]=es,Ii[_i++]=ts,Ii[_i++]=dc,dc=e;var r=es;e=ts;var a=32-ao(r)-1;r&=~(1<<a),n+=1;var i=32-ao(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,es=1<<32-ao(t)+a|n<<a|r,ts=i+e}else es=1<<i|n<<a|r,ts=e}function Bw(e){e.return!==null&&($l(e,1),K5(e,1,0))}function zw(e){for(;e===gh;)gh=tu[--nu],tu[nu]=null,yh=tu[--nu],tu[nu]=null;for(;e===dc;)dc=Ii[--_i],Ii[_i]=null,ts=Ii[--_i],Ii[_i]=null,es=Ii[--_i],Ii[_i]=null}var mi=null,fi=null,ar=!1,eo=null;function G5(e,t){var n=Fi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function fN(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,mi=e,fi=rl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,mi=e,fi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=dc!==null?{id:es,overflow:ts}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Fi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,mi=e,fi=null,!0):!1;default:return!1}}function Eb(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Pb(e){if(ar){var t=fi;if(t){var n=t;if(!fN(e,t)){if(Eb(e))throw Error($e(418));t=rl(n.nextSibling);var r=mi;t&&fN(e,t)?G5(r,n):(e.flags=e.flags&-4097|2,ar=!1,mi=e)}}else{if(Eb(e))throw Error($e(418));e.flags=e.flags&-4097|2,ar=!1,mi=e}}}function pN(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mi=e}function rm(e){if(e!==mi)return!1;if(!ar)return pN(e),ar=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!jb(e.type,e.memoizedProps)),t&&(t=fi)){if(Eb(e))throw Y5(),Error($e(418));for(;t;)G5(e,t),t=rl(t.nextSibling)}if(pN(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($e(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){fi=rl(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}fi=null}}else fi=mi?rl(e.stateNode.nextSibling):null;return!0}function Y5(){for(var e=fi;e;)e=rl(e.nextSibling)}function Nu(){fi=mi=null,ar=!1}function Uw(e){eo===null?eo=[e]:eo.push(e)}var gB=ws.ReactCurrentBatchConfig;function gd(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($e(309));var r=n.stateNode}if(!r)throw Error($e(147,e));var a=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var s=a.refs;o===null?delete s[i]:s[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error($e(284));if(!n._owner)throw Error($e(290,e))}return e}function am(e,t){throw e=Object.prototype.toString.call(t),Error($e(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mN(e){var t=e._init;return t(e._payload)}function X5(e){function t(g,b){if(e){var w=g.deletions;w===null?(g.deletions=[b],g.flags|=16):w.push(b)}}function n(g,b){if(!e)return null;for(;b!==null;)t(g,b),b=b.sibling;return null}function r(g,b){for(g=new Map;b!==null;)b.key!==null?g.set(b.key,b):g.set(b.index,b),b=b.sibling;return g}function a(g,b){return g=sl(g,b),g.index=0,g.sibling=null,g}function i(g,b,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<b?(g.flags|=2,b):w):(g.flags|=2,b)):(g.flags|=1048576,b)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function s(g,b,w,S){return b===null||b.tag!==6?(b=Xy(w,g.mode,S),b.return=g,b):(b=a(b,w),b.return=g,b)}function l(g,b,w,S){var C=w.type;return C===Yc?d(g,b,w.props.children,S,w.key):b!==null&&(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Vs&&mN(C)===b.type)?(S=a(b,w.props),S.ref=gd(g,b,w),S.return=g,S):(S=Wm(w.type,w.key,w.props,null,g.mode,S),S.ref=gd(g,b,w),S.return=g,S)}function c(g,b,w,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=Zy(w,g.mode,S),b.return=g,b):(b=a(b,w.children||[]),b.return=g,b)}function d(g,b,w,S,C){return b===null||b.tag!==7?(b=rc(w,g.mode,S,C),b.return=g,b):(b=a(b,w),b.return=g,b)}function f(g,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Xy(""+b,g.mode,w),b.return=g,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Kp:return w=Wm(b.type,b.key,b.props,null,g.mode,w),w.ref=gd(g,null,b),w.return=g,w;case Gc:return b=Zy(b,g.mode,w),b.return=g,b;case Vs:var S=b._init;return f(g,S(b._payload),w)}if(Id(b)||dd(b))return b=rc(b,g.mode,w,null),b.return=g,b;am(g,b)}return null}function p(g,b,w,S){var C=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:s(g,b,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Kp:return w.key===C?l(g,b,w,S):null;case Gc:return w.key===C?c(g,b,w,S):null;case Vs:return C=w._init,p(g,b,C(w._payload),S)}if(Id(w)||dd(w))return C!==null?null:d(g,b,w,S,null);am(g,w)}return null}function m(g,b,w,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(w)||null,s(b,g,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Kp:return g=g.get(S.key===null?w:S.key)||null,l(b,g,S,C);case Gc:return g=g.get(S.key===null?w:S.key)||null,c(b,g,S,C);case Vs:var j=S._init;return m(g,b,w,j(S._payload),C)}if(Id(S)||dd(S))return g=g.get(w)||null,d(b,g,S,C,null);am(b,S)}return null}function h(g,b,w,S){for(var C=null,j=null,M=b,P=b=0,$=null;M!==null&&P<w.length;P++){M.index>P?($=M,M=null):$=M.sibling;var E=p(g,M,w[P],S);if(E===null){M===null&&(M=$);break}e&&M&&E.alternate===null&&t(g,M),b=i(E,b,P),j===null?C=E:j.sibling=E,j=E,M=$}if(P===w.length)return n(g,M),ar&&$l(g,P),C;if(M===null){for(;P<w.length;P++)M=f(g,w[P],S),M!==null&&(b=i(M,b,P),j===null?C=M:j.sibling=M,j=M);return ar&&$l(g,P),C}for(M=r(g,M);P<w.length;P++)$=m(M,g,P,w[P],S),$!==null&&(e&&$.alternate!==null&&M.delete($.key===null?P:$.key),b=i($,b,P),j===null?C=$:j.sibling=$,j=$);return e&&M.forEach(function(_){return t(g,_)}),ar&&$l(g,P),C}function y(g,b,w,S){var C=dd(w);if(typeof C!="function")throw Error($e(150));if(w=C.call(w),w==null)throw Error($e(151));for(var j=C=null,M=b,P=b=0,$=null,E=w.next();M!==null&&!E.done;P++,E=w.next()){M.index>P?($=M,M=null):$=M.sibling;var _=p(g,M,E.value,S);if(_===null){M===null&&(M=$);break}e&&M&&_.alternate===null&&t(g,M),b=i(_,b,P),j===null?C=_:j.sibling=_,j=_,M=$}if(E.done)return n(g,M),ar&&$l(g,P),C;if(M===null){for(;!E.done;P++,E=w.next())E=f(g,E.value,S),E!==null&&(b=i(E,b,P),j===null?C=E:j.sibling=E,j=E);return ar&&$l(g,P),C}for(M=r(g,M);!E.done;P++,E=w.next())E=m(M,g,P,E.value,S),E!==null&&(e&&E.alternate!==null&&M.delete(E.key===null?P:E.key),b=i(E,b,P),j===null?C=E:j.sibling=E,j=E);return e&&M.forEach(function(D){return t(g,D)}),ar&&$l(g,P),C}function x(g,b,w,S){if(typeof w=="object"&&w!==null&&w.type===Yc&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Kp:e:{for(var C=w.key,j=b;j!==null;){if(j.key===C){if(C=w.type,C===Yc){if(j.tag===7){n(g,j.sibling),b=a(j,w.props.children),b.return=g,g=b;break e}}else if(j.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Vs&&mN(C)===j.type){n(g,j.sibling),b=a(j,w.props),b.ref=gd(g,j,w),b.return=g,g=b;break e}n(g,j);break}else t(g,j);j=j.sibling}w.type===Yc?(b=rc(w.props.children,g.mode,S,w.key),b.return=g,g=b):(S=Wm(w.type,w.key,w.props,null,g.mode,S),S.ref=gd(g,b,w),S.return=g,g=S)}return o(g);case Gc:e:{for(j=w.key;b!==null;){if(b.key===j)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(g,b.sibling),b=a(b,w.children||[]),b.return=g,g=b;break e}else{n(g,b);break}else t(g,b);b=b.sibling}b=Zy(w,g.mode,S),b.return=g,g=b}return o(g);case Vs:return j=w._init,x(g,b,j(w._payload),S)}if(Id(w))return h(g,b,w,S);if(dd(w))return y(g,b,w,S);am(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(g,b.sibling),b=a(b,w),b.return=g,g=b):(n(g,b),b=Xy(w,g.mode,S),b.return=g,g=b),o(g)):n(g,b)}return x}var ju=X5(!0),Z5=X5(!1),vh=vl(null),bh=null,ru=null,Vw=null;function Hw(){Vw=ru=bh=null}function Ww(e){var t=vh.current;Gn(vh),e._currentValue=t}function Tb(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function gu(e,t){bh=e,Vw=ru=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ya=!0),e.firstContext=null)}function zi(e){var t=e._currentValue;if(Vw!==e)if(e={context:e,memoizedValue:t,next:null},ru===null){if(bh===null)throw Error($e(308));ru=e,bh.dependencies={lanes:0,firstContext:e}}else ru=ru.next=e;return t}var Kl=null;function qw(e){Kl===null?Kl=[e]:Kl.push(e)}function Q5(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,qw(t)):(n.next=a.next,a.next=n),t.interleaved=n,fs(e,r)}function fs(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Hs=!1;function Kw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function J5(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function is(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function al(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,gn&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,fs(e,n)}return a=r.interleaved,a===null?(t.next=t,qw(r)):(t.next=a.next,a.next=t),r.interleaved=t,fs(e,n)}function Rm(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Dw(e,n)}}function hN(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function xh(e,t,n,r){var a=e.updateQueue;Hs=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var l=s,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=a.baseState;o=0,d=c=l=null,s=i;do{var p=s.lane,m=s.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,y=s;switch(p=t,m=n,y.tag){case 1:if(h=y.payload,typeof h=="function"){f=h.call(m,f,p);break e}f=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=y.payload,p=typeof h=="function"?h.call(m,f,p):h,p==null)break e;f=pr({},f,p);break e;case 2:Hs=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,p=a.effects,p===null?a.effects=[s]:p.push(s))}else m={eventTime:m,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(c=d=m,l=f):d=d.next=m,o|=p;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;p=s,s=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(!0);if(d===null&&(l=f),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);pc|=o,e.lanes=o,e.memoizedState=f}}function gN(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error($e(191,a));a.call(r)}}}var tp={},_o=vl(tp),yf=vl(tp),vf=vl(tp);function Gl(e){if(e===tp)throw Error($e(174));return e}function Gw(e,t){switch(Un(vf,t),Un(yf,e),Un(_o,tp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:db(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=db(t,e)}Gn(_o),Un(_o,t)}function Cu(){Gn(_o),Gn(yf),Gn(vf)}function eT(e){Gl(vf.current);var t=Gl(_o.current),n=db(t,e.type);t!==n&&(Un(yf,e),Un(_o,n))}function Yw(e){yf.current===e&&(Gn(_o),Gn(yf))}var cr=vl(0);function wh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hy=[];function Xw(){for(var e=0;e<Hy.length;e++)Hy[e]._workInProgressVersionPrimary=null;Hy.length=0}var Bm=ws.ReactCurrentDispatcher,Wy=ws.ReactCurrentBatchConfig,fc=0,fr=null,Hr=null,ra=null,kh=!1,Wd=!1,bf=0,yB=0;function ba(){throw Error($e(321))}function Zw(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lo(e[n],t[n]))return!1;return!0}function Qw(e,t,n,r,a,i){if(fc=i,fr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Bm.current=e===null||e.memoizedState===null?wB:kB,e=n(r,a),Wd){i=0;do{if(Wd=!1,bf=0,25<=i)throw Error($e(301));i+=1,ra=Hr=null,t.updateQueue=null,Bm.current=SB,e=n(r,a)}while(Wd)}if(Bm.current=Sh,t=Hr!==null&&Hr.next!==null,fc=0,ra=Hr=fr=null,kh=!1,t)throw Error($e(300));return e}function Jw(){var e=bf!==0;return bf=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ra===null?fr.memoizedState=ra=e:ra=ra.next=e,ra}function Ui(){if(Hr===null){var e=fr.alternate;e=e!==null?e.memoizedState:null}else e=Hr.next;var t=ra===null?fr.memoizedState:ra.next;if(t!==null)ra=t,Hr=e;else{if(e===null)throw Error($e(310));Hr=e,e={memoizedState:Hr.memoizedState,baseState:Hr.baseState,baseQueue:Hr.baseQueue,queue:Hr.queue,next:null},ra===null?fr.memoizedState=ra=e:ra=ra.next=e}return ra}function xf(e,t){return typeof t=="function"?t(e):t}function qy(e){var t=Ui(),n=t.queue;if(n===null)throw Error($e(311));n.lastRenderedReducer=e;var r=Hr,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var s=o=null,l=null,c=i;do{var d=c.lane;if((fc&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=f,o=r):l=l.next=f,fr.lanes|=d,pc|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=s,lo(r,t.memoizedState)||(Ya=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do i=a.lane,fr.lanes|=i,pc|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ky(e){var t=Ui(),n=t.queue;if(n===null)throw Error($e(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);lo(i,t.memoizedState)||(Ya=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function tT(){}function nT(e,t){var n=fr,r=Ui(),a=t(),i=!lo(r.memoizedState,a);if(i&&(r.memoizedState=a,Ya=!0),r=r.queue,e1(iT.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ra!==null&&ra.memoizedState.tag&1){if(n.flags|=2048,wf(9,aT.bind(null,n,r,a,t),void 0,null),aa===null)throw Error($e(349));fc&30||rT(n,t,a)}return a}function rT(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=fr.updateQueue,t===null?(t={lastEffect:null,stores:null},fr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function aT(e,t,n,r){t.value=n,t.getSnapshot=r,oT(t)&&sT(e)}function iT(e,t,n){return n(function(){oT(t)&&sT(e)})}function oT(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lo(e,n)}catch{return!0}}function sT(e){var t=fs(e,1);t!==null&&io(t,e,1,-1)}function yN(e){var t=Eo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xf,lastRenderedState:e},t.queue=e,e=e.dispatch=xB.bind(null,fr,e),[t.memoizedState,e]}function wf(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=fr.updateQueue,t===null?(t={lastEffect:null,stores:null},fr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function lT(){return Ui().memoizedState}function zm(e,t,n,r){var a=Eo();fr.flags|=e,a.memoizedState=wf(1|t,n,void 0,r===void 0?null:r)}function Kg(e,t,n,r){var a=Ui();r=r===void 0?null:r;var i=void 0;if(Hr!==null){var o=Hr.memoizedState;if(i=o.destroy,r!==null&&Zw(r,o.deps)){a.memoizedState=wf(t,n,i,r);return}}fr.flags|=e,a.memoizedState=wf(1|t,n,i,r)}function vN(e,t){return zm(8390656,8,e,t)}function e1(e,t){return Kg(2048,8,e,t)}function cT(e,t){return Kg(4,2,e,t)}function uT(e,t){return Kg(4,4,e,t)}function dT(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fT(e,t,n){return n=n!=null?n.concat([e]):null,Kg(4,4,dT.bind(null,t,e),n)}function t1(){}function pT(e,t){var n=Ui();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Zw(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function mT(e,t){var n=Ui();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Zw(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function hT(e,t,n){return fc&21?(lo(n,t)||(n=x5(),fr.lanes|=n,pc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ya=!0),e.memoizedState=n)}function vB(e,t){var n=An;An=n!==0&&4>n?n:4,e(!0);var r=Wy.transition;Wy.transition={};try{e(!1),t()}finally{An=n,Wy.transition=r}}function gT(){return Ui().memoizedState}function bB(e,t,n){var r=ol(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yT(e))vT(t,n);else if(n=Q5(e,t,n,r),n!==null){var a=_a();io(n,e,r,a),bT(n,t,r)}}function xB(e,t,n){var r=ol(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yT(e))vT(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,s=i(o,n);if(a.hasEagerState=!0,a.eagerState=s,lo(s,o)){var l=t.interleaved;l===null?(a.next=a,qw(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}n=Q5(e,t,a,r),n!==null&&(a=_a(),io(n,e,r,a),bT(n,t,r))}}function yT(e){var t=e.alternate;return e===fr||t!==null&&t===fr}function vT(e,t){Wd=kh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function bT(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Dw(e,n)}}var Sh={readContext:zi,useCallback:ba,useContext:ba,useEffect:ba,useImperativeHandle:ba,useInsertionEffect:ba,useLayoutEffect:ba,useMemo:ba,useReducer:ba,useRef:ba,useState:ba,useDebugValue:ba,useDeferredValue:ba,useTransition:ba,useMutableSource:ba,useSyncExternalStore:ba,useId:ba,unstable_isNewReconciler:!1},wB={readContext:zi,useCallback:function(e,t){return Eo().memoizedState=[e,t===void 0?null:t],e},useContext:zi,useEffect:vN,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,zm(4194308,4,dT.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zm(4194308,4,e,t)},useInsertionEffect:function(e,t){return zm(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=bB.bind(null,fr,e),[r.memoizedState,e]},useRef:function(e){var t=Eo();return e={current:e},t.memoizedState=e},useState:yN,useDebugValue:t1,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=yN(!1),t=e[0];return e=vB.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=fr,a=Eo();if(ar){if(n===void 0)throw Error($e(407));n=n()}else{if(n=t(),aa===null)throw Error($e(349));fc&30||rT(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,vN(iT.bind(null,r,i,e),[e]),r.flags|=2048,wf(9,aT.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Eo(),t=aa.identifierPrefix;if(ar){var n=ts,r=es;n=(r&~(1<<32-ao(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=bf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=yB++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},kB={readContext:zi,useCallback:pT,useContext:zi,useEffect:e1,useImperativeHandle:fT,useInsertionEffect:cT,useLayoutEffect:uT,useMemo:mT,useReducer:qy,useRef:lT,useState:function(){return qy(xf)},useDebugValue:t1,useDeferredValue:function(e){var t=Ui();return hT(t,Hr.memoizedState,e)},useTransition:function(){var e=qy(xf)[0],t=Ui().memoizedState;return[e,t]},useMutableSource:tT,useSyncExternalStore:nT,useId:gT,unstable_isNewReconciler:!1},SB={readContext:zi,useCallback:pT,useContext:zi,useEffect:e1,useImperativeHandle:fT,useInsertionEffect:cT,useLayoutEffect:uT,useMemo:mT,useReducer:Ky,useRef:lT,useState:function(){return Ky(xf)},useDebugValue:t1,useDeferredValue:function(e){var t=Ui();return Hr===null?t.memoizedState=e:hT(t,Hr.memoizedState,e)},useTransition:function(){var e=Ky(xf)[0],t=Ui().memoizedState;return[e,t]},useMutableSource:tT,useSyncExternalStore:nT,useId:gT,unstable_isNewReconciler:!1};function Qi(e,t){if(e&&e.defaultProps){t=pr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Db(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:pr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Gg={isMounted:function(e){return(e=e._reactInternals)?Mc(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=_a(),a=ol(e),i=is(r,a);i.payload=t,n!=null&&(i.callback=n),t=al(e,i,a),t!==null&&(io(t,e,a,r),Rm(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=_a(),a=ol(e),i=is(r,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=al(e,i,a),t!==null&&(io(t,e,a,r),Rm(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=_a(),r=ol(e),a=is(n,r);a.tag=2,t!=null&&(a.callback=t),t=al(e,a,r),t!==null&&(io(t,e,r,n),Rm(t,e,r))}};function bN(e,t,n,r,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!pf(n,r)||!pf(a,i):!0}function xT(e,t,n){var r=!1,a=fl,i=t.contextType;return typeof i=="object"&&i!==null?i=zi(i):(a=Qa(t)?uc:Aa.current,r=t.contextTypes,i=(r=r!=null)?Su(e,a):fl),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Gg,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function xN(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Gg.enqueueReplaceState(t,t.state,null)}function Ob(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Kw(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=zi(i):(i=Qa(t)?uc:Aa.current,a.context=Su(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Db(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Gg.enqueueReplaceState(a,a.state,null),xh(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Mu(e,t){try{var n="",r=t;do n+=Z$(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Gy(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ib(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var NB=typeof WeakMap=="function"?WeakMap:Map;function wT(e,t,n){n=is(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){jh||(jh=!0,Vb=r),Ib(e,t)},n}function kT(e,t,n){n=is(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){Ib(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ib(e,t),typeof r!="function"&&(il===null?il=new Set([this]):il.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function wN(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new NB;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=$B.bind(null,e,t,n),t.then(e,e))}function kN(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function SN(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=is(-1,1),t.tag=2,al(n,t,1))),n.lanes|=1),e)}var jB=ws.ReactCurrentOwner,Ya=!1;function Da(e,t,n,r){t.child=e===null?Z5(t,null,n,r):ju(t,e.child,n,r)}function NN(e,t,n,r,a){n=n.render;var i=t.ref;return gu(t,a),r=Qw(e,t,n,r,i,a),n=Jw(),e!==null&&!Ya?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ps(e,t,a)):(ar&&n&&Bw(t),t.flags|=1,Da(e,t,r,a),t.child)}function jN(e,t,n,r,a){if(e===null){var i=n.type;return typeof i=="function"&&!c1(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,ST(e,t,i,r,a)):(e=Wm(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:pf,n(o,r)&&e.ref===t.ref)return ps(e,t,a)}return t.flags|=1,e=sl(i,r),e.ref=t.ref,e.return=t,t.child=e}function ST(e,t,n,r,a){if(e!==null){var i=e.memoizedProps;if(pf(i,r)&&e.ref===t.ref)if(Ya=!1,t.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(Ya=!0);else return t.lanes=e.lanes,ps(e,t,a)}return _b(e,t,n,r,a)}function NT(e,t,n){var r=t.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Un(iu,ci),ci|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Un(iu,ci),ci|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Un(iu,ci),ci|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Un(iu,ci),ci|=r;return Da(e,t,a,n),t.child}function jT(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _b(e,t,n,r,a){var i=Qa(n)?uc:Aa.current;return i=Su(t,i),gu(t,a),n=Qw(e,t,n,r,i,a),r=Jw(),e!==null&&!Ya?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ps(e,t,a)):(ar&&r&&Bw(t),t.flags|=1,Da(e,t,n,a),t.child)}function CN(e,t,n,r,a){if(Qa(n)){var i=!0;hh(t)}else i=!1;if(gu(t,a),t.stateNode===null)Um(e,t),xT(t,n,r),Ob(t,n,r,a),r=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=zi(c):(c=Qa(n)?uc:Aa.current,c=Su(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==c)&&xN(t,o,r,c),Hs=!1;var p=t.memoizedState;o.state=p,xh(t,r,o,a),l=t.memoizedState,s!==r||p!==l||Za.current||Hs?(typeof d=="function"&&(Db(t,n,d,r),l=t.memoizedState),(s=Hs||bN(t,n,s,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,J5(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Qi(t.type,s),o.props=c,f=t.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=zi(l):(l=Qa(n)?uc:Aa.current,l=Su(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||p!==l)&&xN(t,o,r,l),Hs=!1,p=t.memoizedState,o.state=p,xh(t,r,o,a);var h=t.memoizedState;s!==f||p!==h||Za.current||Hs?(typeof m=="function"&&(Db(t,n,m,r),h=t.memoizedState),(c=Hs||bN(t,n,c,r,p,h,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,h,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,h,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Lb(e,t,n,r,i,a)}function Lb(e,t,n,r,a,i){jT(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return a&&dN(t,n,!1),ps(e,t,i);r=t.stateNode,jB.current=t;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=ju(t,e.child,null,i),t.child=ju(t,null,s,i)):Da(e,t,s,i),t.memoizedState=r.state,a&&dN(t,n,!0),t.child}function CT(e){var t=e.stateNode;t.pendingContext?uN(e,t.pendingContext,t.pendingContext!==t.context):t.context&&uN(e,t.context,!1),Gw(e,t.containerInfo)}function MN(e,t,n,r,a){return Nu(),Uw(a),t.flags|=256,Da(e,t,n,r),t.child}var Fb={dehydrated:null,treeContext:null,retryLane:0};function $b(e){return{baseLanes:e,cachePool:null,transitions:null}}function MT(e,t,n){var r=t.pendingProps,a=cr.current,i=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(a&2)!==0),s?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Un(cr,a&1),e===null)return Pb(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Zg(o,r,0,null),e=rc(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=$b(n),t.memoizedState=Fb,e):n1(t,o));if(a=e.memoizedState,a!==null&&(s=a.dehydrated,s!==null))return CB(e,t,o,r,s,a,n);if(i){i=r.fallback,o=t.mode,a=e.child,s=a.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=sl(a,l),r.subtreeFlags=a.subtreeFlags&14680064),s!==null?i=sl(s,i):(i=rc(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?$b(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Fb,r}return i=e.child,e=i.sibling,r=sl(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function n1(e,t){return t=Zg({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function im(e,t,n,r){return r!==null&&Uw(r),ju(t,e.child,null,n),e=n1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function CB(e,t,n,r,a,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Gy(Error($e(422))),im(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Zg({mode:"visible",children:r.children},a,0,null),i=rc(i,a,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&ju(t,e.child,null,o),t.child.memoizedState=$b(o),t.memoizedState=Fb,i);if(!(t.mode&1))return im(e,t,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var s=r.dgst;return r=s,i=Error($e(419)),r=Gy(i,r,void 0),im(e,t,o,r)}if(s=(o&e.childLanes)!==0,Ya||s){if(r=aa,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,fs(e,a),io(r,e,a,-1))}return l1(),r=Gy(Error($e(421))),im(e,t,o,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=RB.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,fi=rl(a.nextSibling),mi=t,ar=!0,eo=null,e!==null&&(Ii[_i++]=es,Ii[_i++]=ts,Ii[_i++]=dc,es=e.id,ts=e.overflow,dc=t),t=n1(t,r.children),t.flags|=4096,t)}function AN(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Tb(e.return,t,n)}function Yy(e,t,n,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function AT(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(Da(e,t,r.children,n),r=cr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&AN(e,n,t);else if(e.tag===19)AN(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Un(cr,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&wh(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Yy(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&wh(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Yy(t,!0,n,null,i);break;case"together":Yy(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Um(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ps(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),pc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($e(153));if(t.child!==null){for(e=t.child,n=sl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=sl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function MB(e,t,n){switch(t.tag){case 3:CT(t),Nu();break;case 5:eT(t);break;case 1:Qa(t.type)&&hh(t);break;case 4:Gw(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Un(vh,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Un(cr,cr.current&1),t.flags|=128,null):n&t.child.childLanes?MT(e,t,n):(Un(cr,cr.current&1),e=ps(e,t,n),e!==null?e.sibling:null);Un(cr,cr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return AT(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Un(cr,cr.current),r)break;return null;case 22:case 23:return t.lanes=0,NT(e,t,n)}return ps(e,t,n)}var ET,Rb,PT,TT;ET=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Rb=function(){};PT=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Gl(_o.current);var i=null;switch(n){case"input":a=sb(e,a),r=sb(e,r),i=[];break;case"select":a=pr({},a,{value:void 0}),r=pr({},r,{value:void 0}),i=[];break;case"textarea":a=ub(e,a),r=ub(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ph)}fb(n,r);var o;n=null;for(c in a)if(!r.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var s=a[c];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(of.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(s=a!=null?a[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(of.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Wn("scroll",e),i||s===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};TT=function(e,t,n,r){n!==r&&(t.flags|=4)};function yd(e,t){if(!ar)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function xa(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function AB(e,t,n){var r=t.pendingProps;switch(zw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xa(t),null;case 1:return Qa(t.type)&&mh(),xa(t),null;case 3:return r=t.stateNode,Cu(),Gn(Za),Gn(Aa),Xw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(rm(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,eo!==null&&(qb(eo),eo=null))),Rb(e,t),xa(t),null;case 5:Yw(t);var a=Gl(vf.current);if(n=t.type,e!==null&&t.stateNode!=null)PT(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error($e(166));return xa(t),null}if(e=Gl(_o.current),rm(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Do]=t,r[gf]=i,e=(t.mode&1)!==0,n){case"dialog":Wn("cancel",r),Wn("close",r);break;case"iframe":case"object":case"embed":Wn("load",r);break;case"video":case"audio":for(a=0;a<Ld.length;a++)Wn(Ld[a],r);break;case"source":Wn("error",r);break;case"img":case"image":case"link":Wn("error",r),Wn("load",r);break;case"details":Wn("toggle",r);break;case"input":F2(r,i),Wn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Wn("invalid",r);break;case"textarea":R2(r,i),Wn("invalid",r)}fb(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];o==="children"?typeof s=="string"?r.textContent!==s&&(i.suppressHydrationWarning!==!0&&nm(r.textContent,s,e),a=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(i.suppressHydrationWarning!==!0&&nm(r.textContent,s,e),a=["children",""+s]):of.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Wn("scroll",r)}switch(n){case"input":Gp(r),$2(r,i,!0);break;case"textarea":Gp(r),B2(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ph)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=i5(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Do]=t,e[gf]=r,ET(e,t,!1,!1),t.stateNode=e;e:{switch(o=pb(n,r),n){case"dialog":Wn("cancel",e),Wn("close",e),a=r;break;case"iframe":case"object":case"embed":Wn("load",e),a=r;break;case"video":case"audio":for(a=0;a<Ld.length;a++)Wn(Ld[a],e);a=r;break;case"source":Wn("error",e),a=r;break;case"img":case"image":case"link":Wn("error",e),Wn("load",e),a=r;break;case"details":Wn("toggle",e),a=r;break;case"input":F2(e,r),a=sb(e,r),Wn("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=pr({},r,{value:void 0}),Wn("invalid",e);break;case"textarea":R2(e,r),a=ub(e,r),Wn("invalid",e);break;default:a=r}fb(n,a),s=a;for(i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="style"?l5(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&o5(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&sf(e,l):typeof l=="number"&&sf(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(of.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Wn("scroll",e):l!=null&&Cw(e,i,l,o))}switch(n){case"input":Gp(e),$2(e,r,!1);break;case"textarea":Gp(e),B2(e);break;case"option":r.value!=null&&e.setAttribute("value",""+dl(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?fu(e,!!r.multiple,i,!1):r.defaultValue!=null&&fu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=ph)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return xa(t),null;case 6:if(e&&t.stateNode!=null)TT(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error($e(166));if(n=Gl(vf.current),Gl(_o.current),rm(t)){if(r=t.stateNode,n=t.memoizedProps,r[Do]=t,(i=r.nodeValue!==n)&&(e=mi,e!==null))switch(e.tag){case 3:nm(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&nm(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Do]=t,t.stateNode=r}return xa(t),null;case 13:if(Gn(cr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ar&&fi!==null&&t.mode&1&&!(t.flags&128))Y5(),Nu(),t.flags|=98560,i=!1;else if(i=rm(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error($e(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($e(317));i[Do]=t}else Nu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xa(t),i=!1}else eo!==null&&(qb(eo),eo=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||cr.current&1?qr===0&&(qr=3):l1())),t.updateQueue!==null&&(t.flags|=4),xa(t),null);case 4:return Cu(),Rb(e,t),e===null&&mf(t.stateNode.containerInfo),xa(t),null;case 10:return Ww(t.type._context),xa(t),null;case 17:return Qa(t.type)&&mh(),xa(t),null;case 19:if(Gn(cr),i=t.memoizedState,i===null)return xa(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)yd(i,!1);else{if(qr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=wh(e),o!==null){for(t.flags|=128,yd(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Un(cr,cr.current&1|2),t.child}e=e.sibling}i.tail!==null&&Mr()>Au&&(t.flags|=128,r=!0,yd(i,!1),t.lanes=4194304)}else{if(!r)if(e=wh(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),yd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ar)return xa(t),null}else 2*Mr()-i.renderingStartTime>Au&&n!==1073741824&&(t.flags|=128,r=!0,yd(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Mr(),t.sibling=null,n=cr.current,Un(cr,r?n&1|2:n&1),t):(xa(t),null);case 22:case 23:return s1(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ci&1073741824&&(xa(t),t.subtreeFlags&6&&(t.flags|=8192)):xa(t),null;case 24:return null;case 25:return null}throw Error($e(156,t.tag))}function EB(e,t){switch(zw(t),t.tag){case 1:return Qa(t.type)&&mh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Cu(),Gn(Za),Gn(Aa),Xw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Yw(t),null;case 13:if(Gn(cr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($e(340));Nu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Gn(cr),null;case 4:return Cu(),null;case 10:return Ww(t.type._context),null;case 22:case 23:return s1(),null;case 24:return null;default:return null}}var om=!1,Sa=!1,PB=typeof WeakSet=="function"?WeakSet:Set,ot=null;function au(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xr(e,t,r)}else n.current=null}function DT(e,t,n){try{n()}catch(r){xr(e,t,r)}}var EN=!1;function TB(e,t){if(Sb=uh,e=L5(),Rw(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,c=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(s=o+a),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===n&&++c===a&&(s=o),p===i&&++d===r&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Nb={focusedElem:e,selectionRange:n},uh=!1,ot=t;ot!==null;)if(t=ot,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ot=e;else for(;ot!==null;){t=ot;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var y=h.memoizedProps,x=h.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:Qi(t.type,y),x);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($e(163))}}catch(S){xr(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,ot=e;break}ot=t.return}return h=EN,EN=!1,h}function qd(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&DT(t,n,i)}a=a.next}while(a!==r)}}function Yg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Bb(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function OT(e){var t=e.alternate;t!==null&&(e.alternate=null,OT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Do],delete t[gf],delete t[Mb],delete t[pB],delete t[mB])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function IT(e){return e.tag===5||e.tag===3||e.tag===4}function PN(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||IT(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zb(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ph));else if(r!==4&&(e=e.child,e!==null))for(zb(e,t,n),e=e.sibling;e!==null;)zb(e,t,n),e=e.sibling}function Ub(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ub(e,t,n),e=e.sibling;e!==null;)Ub(e,t,n),e=e.sibling}var ua=null,Ji=!1;function Rs(e,t,n){for(n=n.child;n!==null;)_T(e,t,n),n=n.sibling}function _T(e,t,n){if(Io&&typeof Io.onCommitFiberUnmount=="function")try{Io.onCommitFiberUnmount(zg,n)}catch{}switch(n.tag){case 5:Sa||au(n,t);case 6:var r=ua,a=Ji;ua=null,Rs(e,t,n),ua=r,Ji=a,ua!==null&&(Ji?(e=ua,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ua.removeChild(n.stateNode));break;case 18:ua!==null&&(Ji?(e=ua,n=n.stateNode,e.nodeType===8?Uy(e.parentNode,n):e.nodeType===1&&Uy(e,n),df(e)):Uy(ua,n.stateNode));break;case 4:r=ua,a=Ji,ua=n.stateNode.containerInfo,Ji=!0,Rs(e,t,n),ua=r,Ji=a;break;case 0:case 11:case 14:case 15:if(!Sa&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&DT(n,t,o),a=a.next}while(a!==r)}Rs(e,t,n);break;case 1:if(!Sa&&(au(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){xr(n,t,s)}Rs(e,t,n);break;case 21:Rs(e,t,n);break;case 22:n.mode&1?(Sa=(r=Sa)||n.memoizedState!==null,Rs(e,t,n),Sa=r):Rs(e,t,n);break;default:Rs(e,t,n)}}function TN(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new PB),t.forEach(function(r){var a=BB.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function Zi(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:ua=s.stateNode,Ji=!1;break e;case 3:ua=s.stateNode.containerInfo,Ji=!0;break e;case 4:ua=s.stateNode.containerInfo,Ji=!0;break e}s=s.return}if(ua===null)throw Error($e(160));_T(i,o,a),ua=null,Ji=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){xr(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)LT(t,e),t=t.sibling}function LT(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Zi(t,e),jo(e),r&4){try{qd(3,e,e.return),Yg(3,e)}catch(y){xr(e,e.return,y)}try{qd(5,e,e.return)}catch(y){xr(e,e.return,y)}}break;case 1:Zi(t,e),jo(e),r&512&&n!==null&&au(n,n.return);break;case 5:if(Zi(t,e),jo(e),r&512&&n!==null&&au(n,n.return),e.flags&32){var a=e.stateNode;try{sf(a,"")}catch(y){xr(e,e.return,y)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&i.type==="radio"&&i.name!=null&&r5(a,i),pb(s,o);var c=pb(s,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?l5(a,f):d==="dangerouslySetInnerHTML"?o5(a,f):d==="children"?sf(a,f):Cw(a,d,f,c)}switch(s){case"input":lb(a,i);break;case"textarea":a5(a,i);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?fu(a,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?fu(a,!!i.multiple,i.defaultValue,!0):fu(a,!!i.multiple,i.multiple?[]:"",!1))}a[gf]=i}catch(y){xr(e,e.return,y)}}break;case 6:if(Zi(t,e),jo(e),r&4){if(e.stateNode===null)throw Error($e(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(y){xr(e,e.return,y)}}break;case 3:if(Zi(t,e),jo(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{df(t.containerInfo)}catch(y){xr(e,e.return,y)}break;case 4:Zi(t,e),jo(e);break;case 13:Zi(t,e),jo(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(i1=Mr())),r&4&&TN(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Sa=(c=Sa)||d,Zi(t,e),Sa=c):Zi(t,e),jo(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(ot=e,d=e.child;d!==null;){for(f=ot=d;ot!==null;){switch(p=ot,m=p.child,p.tag){case 0:case 11:case 14:case 15:qd(4,p,p.return);break;case 1:au(p,p.return);var h=p.stateNode;if(typeof h.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(y){xr(r,n,y)}}break;case 5:au(p,p.return);break;case 22:if(p.memoizedState!==null){ON(f);continue}}m!==null?(m.return=p,ot=m):ON(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,c?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=s5("display",o))}catch(y){xr(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){xr(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Zi(t,e),jo(e),r&4&&TN(e);break;case 21:break;default:Zi(t,e),jo(e)}}function jo(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(IT(n)){var r=n;break e}n=n.return}throw Error($e(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(sf(a,""),r.flags&=-33);var i=PN(e);Ub(e,i,a);break;case 3:case 4:var o=r.stateNode.containerInfo,s=PN(e);zb(e,s,o);break;default:throw Error($e(161))}}catch(l){xr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function DB(e,t,n){ot=e,FT(e)}function FT(e,t,n){for(var r=(e.mode&1)!==0;ot!==null;){var a=ot,i=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||om;if(!o){var s=a.alternate,l=s!==null&&s.memoizedState!==null||Sa;s=om;var c=Sa;if(om=o,(Sa=l)&&!c)for(ot=a;ot!==null;)o=ot,l=o.child,o.tag===22&&o.memoizedState!==null?IN(a):l!==null?(l.return=o,ot=l):IN(a);for(;i!==null;)ot=i,FT(i),i=i.sibling;ot=a,om=s,Sa=c}DN(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,ot=i):DN(e)}}function DN(e){for(;ot!==null;){var t=ot;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Sa||Yg(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Sa)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:Qi(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&gN(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}gN(t,o,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&df(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($e(163))}Sa||t.flags&512&&Bb(t)}catch(p){xr(t,t.return,p)}}if(t===e){ot=null;break}if(n=t.sibling,n!==null){n.return=t.return,ot=n;break}ot=t.return}}function ON(e){for(;ot!==null;){var t=ot;if(t===e){ot=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ot=n;break}ot=t.return}}function IN(e){for(;ot!==null;){var t=ot;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Yg(4,t)}catch(l){xr(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(l){xr(t,a,l)}}var i=t.return;try{Bb(t)}catch(l){xr(t,i,l)}break;case 5:var o=t.return;try{Bb(t)}catch(l){xr(t,o,l)}}}catch(l){xr(t,t.return,l)}if(t===e){ot=null;break}var s=t.sibling;if(s!==null){s.return=t.return,ot=s;break}ot=t.return}}var OB=Math.ceil,Nh=ws.ReactCurrentDispatcher,r1=ws.ReactCurrentOwner,Ri=ws.ReactCurrentBatchConfig,gn=0,aa=null,Lr=null,pa=0,ci=0,iu=vl(0),qr=0,kf=null,pc=0,Xg=0,a1=0,Kd=null,Ga=null,i1=0,Au=1/0,Go=null,jh=!1,Vb=null,il=null,sm=!1,Qs=null,Ch=0,Gd=0,Hb=null,Vm=-1,Hm=0;function _a(){return gn&6?Mr():Vm!==-1?Vm:Vm=Mr()}function ol(e){return e.mode&1?gn&2&&pa!==0?pa&-pa:gB.transition!==null?(Hm===0&&(Hm=x5()),Hm):(e=An,e!==0||(e=window.event,e=e===void 0?16:M5(e.type)),e):1}function io(e,t,n,r){if(50<Gd)throw Gd=0,Hb=null,Error($e(185));Qf(e,n,r),(!(gn&2)||e!==aa)&&(e===aa&&(!(gn&2)&&(Xg|=n),qr===4&&Ys(e,pa)),Ja(e,r),n===1&&gn===0&&!(t.mode&1)&&(Au=Mr()+500,qg&&bl()))}function Ja(e,t){var n=e.callbackNode;gR(e,t);var r=ch(e,e===aa?pa:0);if(r===0)n!==null&&V2(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&V2(n),t===1)e.tag===0?hB(_N.bind(null,e)):q5(_N.bind(null,e)),dB(function(){!(gn&6)&&bl()}),n=null;else{switch(w5(r)){case 1:n=Tw;break;case 4:n=v5;break;case 16:n=lh;break;case 536870912:n=b5;break;default:n=lh}n=WT(n,$T.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function $T(e,t){if(Vm=-1,Hm=0,gn&6)throw Error($e(327));var n=e.callbackNode;if(yu()&&e.callbackNode!==n)return null;var r=ch(e,e===aa?pa:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Mh(e,r);else{t=r;var a=gn;gn|=2;var i=BT();(aa!==e||pa!==t)&&(Go=null,Au=Mr()+500,nc(e,t));do try{LB();break}catch(s){RT(e,s)}while(!0);Hw(),Nh.current=i,gn=a,Lr!==null?t=0:(aa=null,pa=0,t=qr)}if(t!==0){if(t===2&&(a=vb(e),a!==0&&(r=a,t=Wb(e,a))),t===1)throw n=kf,nc(e,0),Ys(e,r),Ja(e,Mr()),n;if(t===6)Ys(e,r);else{if(a=e.current.alternate,!(r&30)&&!IB(a)&&(t=Mh(e,r),t===2&&(i=vb(e),i!==0&&(r=i,t=Wb(e,i))),t===1))throw n=kf,nc(e,0),Ys(e,r),Ja(e,Mr()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error($e(345));case 2:Rl(e,Ga,Go);break;case 3:if(Ys(e,r),(r&130023424)===r&&(t=i1+500-Mr(),10<t)){if(ch(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){_a(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Cb(Rl.bind(null,e,Ga,Go),t);break}Rl(e,Ga,Go);break;case 4:if(Ys(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-ao(r);i=1<<o,o=t[o],o>a&&(a=o),r&=~i}if(r=a,r=Mr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*OB(r/1960))-r,10<r){e.timeoutHandle=Cb(Rl.bind(null,e,Ga,Go),r);break}Rl(e,Ga,Go);break;case 5:Rl(e,Ga,Go);break;default:throw Error($e(329))}}}return Ja(e,Mr()),e.callbackNode===n?$T.bind(null,e):null}function Wb(e,t){var n=Kd;return e.current.memoizedState.isDehydrated&&(nc(e,t).flags|=256),e=Mh(e,t),e!==2&&(t=Ga,Ga=n,t!==null&&qb(t)),e}function qb(e){Ga===null?Ga=e:Ga.push.apply(Ga,e)}function IB(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!lo(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ys(e,t){for(t&=~a1,t&=~Xg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ao(t),r=1<<n;e[n]=-1,t&=~r}}function _N(e){if(gn&6)throw Error($e(327));yu();var t=ch(e,0);if(!(t&1))return Ja(e,Mr()),null;var n=Mh(e,t);if(e.tag!==0&&n===2){var r=vb(e);r!==0&&(t=r,n=Wb(e,r))}if(n===1)throw n=kf,nc(e,0),Ys(e,t),Ja(e,Mr()),n;if(n===6)throw Error($e(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rl(e,Ga,Go),Ja(e,Mr()),null}function o1(e,t){var n=gn;gn|=1;try{return e(t)}finally{gn=n,gn===0&&(Au=Mr()+500,qg&&bl())}}function mc(e){Qs!==null&&Qs.tag===0&&!(gn&6)&&yu();var t=gn;gn|=1;var n=Ri.transition,r=An;try{if(Ri.transition=null,An=1,e)return e()}finally{An=r,Ri.transition=n,gn=t,!(gn&6)&&bl()}}function s1(){ci=iu.current,Gn(iu)}function nc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,uB(n)),Lr!==null)for(n=Lr.return;n!==null;){var r=n;switch(zw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&mh();break;case 3:Cu(),Gn(Za),Gn(Aa),Xw();break;case 5:Yw(r);break;case 4:Cu();break;case 13:Gn(cr);break;case 19:Gn(cr);break;case 10:Ww(r.type._context);break;case 22:case 23:s1()}n=n.return}if(aa=e,Lr=e=sl(e.current,null),pa=ci=t,qr=0,kf=null,a1=Xg=pc=0,Ga=Kd=null,Kl!==null){for(t=0;t<Kl.length;t++)if(n=Kl[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,r.next=o}n.pending=r}Kl=null}return e}function RT(e,t){do{var n=Lr;try{if(Hw(),Bm.current=Sh,kh){for(var r=fr.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}kh=!1}if(fc=0,ra=Hr=fr=null,Wd=!1,bf=0,r1.current=null,n===null||n.return===null){qr=1,kf=t,Lr=null;break}e:{var i=e,o=n.return,s=n,l=t;if(t=pa,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=kN(o);if(m!==null){m.flags&=-257,SN(m,o,s,i,t),m.mode&1&&wN(i,c,t),t=m,l=c;var h=t.updateQueue;if(h===null){var y=new Set;y.add(l),t.updateQueue=y}else h.add(l);break e}else{if(!(t&1)){wN(i,c,t),l1();break e}l=Error($e(426))}}else if(ar&&s.mode&1){var x=kN(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),SN(x,o,s,i,t),Uw(Mu(l,s));break e}}i=l=Mu(l,s),qr!==4&&(qr=2),Kd===null?Kd=[i]:Kd.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=wT(i,l,t);hN(i,g);break e;case 1:s=l;var b=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(il===null||!il.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=kT(i,s,t);hN(i,S);break e}}i=i.return}while(i!==null)}UT(n)}catch(C){t=C,Lr===n&&n!==null&&(Lr=n=n.return);continue}break}while(!0)}function BT(){var e=Nh.current;return Nh.current=Sh,e===null?Sh:e}function l1(){(qr===0||qr===3||qr===2)&&(qr=4),aa===null||!(pc&268435455)&&!(Xg&268435455)||Ys(aa,pa)}function Mh(e,t){var n=gn;gn|=2;var r=BT();(aa!==e||pa!==t)&&(Go=null,nc(e,t));do try{_B();break}catch(a){RT(e,a)}while(!0);if(Hw(),gn=n,Nh.current=r,Lr!==null)throw Error($e(261));return aa=null,pa=0,qr}function _B(){for(;Lr!==null;)zT(Lr)}function LB(){for(;Lr!==null&&!sR();)zT(Lr)}function zT(e){var t=HT(e.alternate,e,ci);e.memoizedProps=e.pendingProps,t===null?UT(e):Lr=t,r1.current=null}function UT(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=EB(n,t),n!==null){n.flags&=32767,Lr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qr=6,Lr=null;return}}else if(n=AB(n,t,ci),n!==null){Lr=n;return}if(t=t.sibling,t!==null){Lr=t;return}Lr=t=e}while(t!==null);qr===0&&(qr=5)}function Rl(e,t,n){var r=An,a=Ri.transition;try{Ri.transition=null,An=1,FB(e,t,n,r)}finally{Ri.transition=a,An=r}return null}function FB(e,t,n,r){do yu();while(Qs!==null);if(gn&6)throw Error($e(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error($e(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(yR(e,i),e===aa&&(Lr=aa=null,pa=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||sm||(sm=!0,WT(lh,function(){return yu(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ri.transition,Ri.transition=null;var o=An;An=1;var s=gn;gn|=4,r1.current=null,TB(e,n),LT(n,e),rB(Nb),uh=!!Sb,Nb=Sb=null,e.current=n,DB(n),lR(),gn=s,An=o,Ri.transition=i}else e.current=n;if(sm&&(sm=!1,Qs=e,Ch=a),i=e.pendingLanes,i===0&&(il=null),dR(n.stateNode),Ja(e,Mr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(jh)throw jh=!1,e=Vb,Vb=null,e;return Ch&1&&e.tag!==0&&yu(),i=e.pendingLanes,i&1?e===Hb?Gd++:(Gd=0,Hb=e):Gd=0,bl(),null}function yu(){if(Qs!==null){var e=w5(Ch),t=Ri.transition,n=An;try{if(Ri.transition=null,An=16>e?16:e,Qs===null)var r=!1;else{if(e=Qs,Qs=null,Ch=0,gn&6)throw Error($e(331));var a=gn;for(gn|=4,ot=e.current;ot!==null;){var i=ot,o=i.child;if(ot.flags&16){var s=i.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(ot=c;ot!==null;){var d=ot;switch(d.tag){case 0:case 11:case 15:qd(8,d,i)}var f=d.child;if(f!==null)f.return=d,ot=f;else for(;ot!==null;){d=ot;var p=d.sibling,m=d.return;if(OT(d),d===c){ot=null;break}if(p!==null){p.return=m,ot=p;break}ot=m}}}var h=i.alternate;if(h!==null){var y=h.child;if(y!==null){h.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}ot=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ot=o;else e:for(;ot!==null;){if(i=ot,i.flags&2048)switch(i.tag){case 0:case 11:case 15:qd(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,ot=g;break e}ot=i.return}}var b=e.current;for(ot=b;ot!==null;){o=ot;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ot=w;else e:for(o=b;ot!==null;){if(s=ot,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Yg(9,s)}}catch(C){xr(s,s.return,C)}if(s===o){ot=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,ot=S;break e}ot=s.return}}if(gn=a,bl(),Io&&typeof Io.onPostCommitFiberRoot=="function")try{Io.onPostCommitFiberRoot(zg,e)}catch{}r=!0}return r}finally{An=n,Ri.transition=t}}return!1}function LN(e,t,n){t=Mu(n,t),t=wT(e,t,1),e=al(e,t,1),t=_a(),e!==null&&(Qf(e,1,t),Ja(e,t))}function xr(e,t,n){if(e.tag===3)LN(e,e,n);else for(;t!==null;){if(t.tag===3){LN(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(il===null||!il.has(r))){e=Mu(n,e),e=kT(t,e,1),t=al(t,e,1),e=_a(),t!==null&&(Qf(t,1,e),Ja(t,e));break}}t=t.return}}function $B(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=_a(),e.pingedLanes|=e.suspendedLanes&n,aa===e&&(pa&n)===n&&(qr===4||qr===3&&(pa&130023424)===pa&&500>Mr()-i1?nc(e,0):a1|=n),Ja(e,t)}function VT(e,t){t===0&&(e.mode&1?(t=Zp,Zp<<=1,!(Zp&130023424)&&(Zp=4194304)):t=1);var n=_a();e=fs(e,t),e!==null&&(Qf(e,t,n),Ja(e,n))}function RB(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),VT(e,n)}function BB(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error($e(314))}r!==null&&r.delete(t),VT(e,n)}var HT;HT=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Za.current)Ya=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ya=!1,MB(e,t,n);Ya=!!(e.flags&131072)}else Ya=!1,ar&&t.flags&1048576&&K5(t,yh,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Um(e,t),e=t.pendingProps;var a=Su(t,Aa.current);gu(t,n),a=Qw(null,t,r,e,a,n);var i=Jw();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qa(r)?(i=!0,hh(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Kw(t),a.updater=Gg,t.stateNode=a,a._reactInternals=t,Ob(t,r,e,n),t=Lb(null,t,r,!0,i,n)):(t.tag=0,ar&&i&&Bw(t),Da(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Um(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=UB(r),e=Qi(r,e),a){case 0:t=_b(null,t,r,e,n);break e;case 1:t=CN(null,t,r,e,n);break e;case 11:t=NN(null,t,r,e,n);break e;case 14:t=jN(null,t,r,Qi(r.type,e),n);break e}throw Error($e(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Qi(r,a),_b(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Qi(r,a),CN(e,t,r,a,n);case 3:e:{if(CT(t),e===null)throw Error($e(387));r=t.pendingProps,i=t.memoizedState,a=i.element,J5(e,t),xh(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Mu(Error($e(423)),t),t=MN(e,t,r,n,a);break e}else if(r!==a){a=Mu(Error($e(424)),t),t=MN(e,t,r,n,a);break e}else for(fi=rl(t.stateNode.containerInfo.firstChild),mi=t,ar=!0,eo=null,n=Z5(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Nu(),r===a){t=ps(e,t,n);break e}Da(e,t,r,n)}t=t.child}return t;case 5:return eT(t),e===null&&Pb(t),r=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,jb(r,a)?o=null:i!==null&&jb(r,i)&&(t.flags|=32),jT(e,t),Da(e,t,o,n),t.child;case 6:return e===null&&Pb(t),null;case 13:return MT(e,t,n);case 4:return Gw(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ju(t,null,r,n):Da(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Qi(r,a),NN(e,t,r,a,n);case 7:return Da(e,t,t.pendingProps,n),t.child;case 8:return Da(e,t,t.pendingProps.children,n),t.child;case 12:return Da(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Un(vh,r._currentValue),r._currentValue=o,i!==null)if(lo(i.value,o)){if(i.children===a.children&&!Za.current){t=ps(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){o=i.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=is(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Tb(i.return,n,t),s.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error($e(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Tb(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Da(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,gu(t,n),a=zi(a),r=r(a),t.flags|=1,Da(e,t,r,n),t.child;case 14:return r=t.type,a=Qi(r,t.pendingProps),a=Qi(r.type,a),jN(e,t,r,a,n);case 15:return ST(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Qi(r,a),Um(e,t),t.tag=1,Qa(r)?(e=!0,hh(t)):e=!1,gu(t,n),xT(t,r,a),Ob(t,r,a,n),Lb(null,t,r,!0,e,n);case 19:return AT(e,t,n);case 22:return NT(e,t,n)}throw Error($e(156,t.tag))};function WT(e,t){return y5(e,t)}function zB(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fi(e,t,n,r){return new zB(e,t,n,r)}function c1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function UB(e){if(typeof e=="function")return c1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Aw)return 11;if(e===Ew)return 14}return 2}function sl(e,t){var n=e.alternate;return n===null?(n=Fi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wm(e,t,n,r,a,i){var o=2;if(r=e,typeof e=="function")c1(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Yc:return rc(n.children,a,i,t);case Mw:o=8,a|=8;break;case rb:return e=Fi(12,n,t,a|2),e.elementType=rb,e.lanes=i,e;case ab:return e=Fi(13,n,t,a),e.elementType=ab,e.lanes=i,e;case ib:return e=Fi(19,n,t,a),e.elementType=ib,e.lanes=i,e;case e5:return Zg(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case QP:o=10;break e;case JP:o=9;break e;case Aw:o=11;break e;case Ew:o=14;break e;case Vs:o=16,r=null;break e}throw Error($e(130,e==null?e:typeof e,""))}return t=Fi(o,n,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function rc(e,t,n,r){return e=Fi(7,e,r,t),e.lanes=n,e}function Zg(e,t,n,r){return e=Fi(22,e,r,t),e.elementType=e5,e.lanes=n,e.stateNode={isHidden:!1},e}function Xy(e,t,n){return e=Fi(6,e,null,t),e.lanes=n,e}function Zy(e,t,n){return t=Fi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function VB(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ty(0),this.expirationTimes=Ty(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ty(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function u1(e,t,n,r,a,i,o,s,l){return e=new VB(e,t,n,s,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Fi(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kw(i),e}function HB(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gc,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function qT(e){if(!e)return fl;e=e._reactInternals;e:{if(Mc(e)!==e||e.tag!==1)throw Error($e(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($e(171))}if(e.tag===1){var n=e.type;if(Qa(n))return W5(e,n,t)}return t}function KT(e,t,n,r,a,i,o,s,l){return e=u1(n,r,!0,e,a,i,o,s,l),e.context=qT(null),n=e.current,r=_a(),a=ol(n),i=is(r,a),i.callback=t??null,al(n,i,a),e.current.lanes=a,Qf(e,a,r),Ja(e,r),e}function Qg(e,t,n,r){var a=t.current,i=_a(),o=ol(a);return n=qT(n),t.context===null?t.context=n:t.pendingContext=n,t=is(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=al(a,t,o),e!==null&&(io(e,a,o,i),Rm(e,a,o)),o}function Ah(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function FN(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function d1(e,t){FN(e,t),(e=e.alternate)&&FN(e,t)}function WB(){return null}var GT=typeof reportError=="function"?reportError:function(e){console.error(e)};function f1(e){this._internalRoot=e}Jg.prototype.render=f1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($e(409));Qg(e,t,null,null)};Jg.prototype.unmount=f1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;mc(function(){Qg(null,e,null,null)}),t[ds]=null}};function Jg(e){this._internalRoot=e}Jg.prototype.unstable_scheduleHydration=function(e){if(e){var t=N5();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Gs.length&&t!==0&&t<Gs[n].priority;n++);Gs.splice(n,0,e),n===0&&C5(e)}};function p1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function e0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $N(){}function qB(e,t,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var c=Ah(o);i.call(c)}}var o=KT(t,r,e,0,null,!1,!1,"",$N);return e._reactRootContainer=o,e[ds]=o.current,mf(e.nodeType===8?e.parentNode:e),mc(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var s=r;r=function(){var c=Ah(l);s.call(c)}}var l=u1(e,0,!1,null,null,!1,!1,"",$N);return e._reactRootContainer=l,e[ds]=l.current,mf(e.nodeType===8?e.parentNode:e),mc(function(){Qg(t,l,n,r)}),l}function t0(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var s=a;a=function(){var l=Ah(o);s.call(l)}}Qg(t,o,e,a)}else o=qB(n,t,e,a,r);return Ah(o)}k5=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=_d(t.pendingLanes);n!==0&&(Dw(t,n|1),Ja(t,Mr()),!(gn&6)&&(Au=Mr()+500,bl()))}break;case 13:mc(function(){var r=fs(e,1);if(r!==null){var a=_a();io(r,e,1,a)}}),d1(e,1)}};Ow=function(e){if(e.tag===13){var t=fs(e,134217728);if(t!==null){var n=_a();io(t,e,134217728,n)}d1(e,134217728)}};S5=function(e){if(e.tag===13){var t=ol(e),n=fs(e,t);if(n!==null){var r=_a();io(n,e,t,r)}d1(e,t)}};N5=function(){return An};j5=function(e,t){var n=An;try{return An=e,t()}finally{An=n}};hb=function(e,t,n){switch(t){case"input":if(lb(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=Wg(r);if(!a)throw Error($e(90));n5(r),lb(r,a)}}}break;case"textarea":a5(e,n);break;case"select":t=n.value,t!=null&&fu(e,!!n.multiple,t,!1)}};d5=o1;f5=mc;var KB={usingClientEntryPoint:!1,Events:[ep,Jc,Wg,c5,u5,o1]},vd={findFiberByHostInstance:ql,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GB={bundleType:vd.bundleType,version:vd.version,rendererPackageName:vd.rendererPackageName,rendererConfig:vd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ws.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=h5(e),e===null?null:e.stateNode},findFiberByHostInstance:vd.findFiberByHostInstance||WB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lm.isDisabled&&lm.supportsFiber)try{zg=lm.inject(GB),Io=lm}catch{}}xi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KB;xi.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p1(t))throw Error($e(200));return HB(e,t,null,n)};xi.createRoot=function(e,t){if(!p1(e))throw Error($e(299));var n=!1,r="",a=GT;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=u1(e,1,!1,null,null,n,!1,r,a),e[ds]=t.current,mf(e.nodeType===8?e.parentNode:e),new f1(t)};xi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($e(188)):(e=Object.keys(e).join(","),Error($e(268,e)));return e=h5(t),e=e===null?null:e.stateNode,e};xi.flushSync=function(e){return mc(e)};xi.hydrate=function(e,t,n){if(!e0(t))throw Error($e(200));return t0(null,e,t,!0,n)};xi.hydrateRoot=function(e,t,n){if(!p1(e))throw Error($e(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",o=GT;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=KT(t,null,e,1,n??null,a,!1,i,o),e[ds]=t.current,mf(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Jg(t)};xi.render=function(e,t,n){if(!e0(t))throw Error($e(200));return t0(null,e,t,!1,n)};xi.unmountComponentAtNode=function(e){if(!e0(e))throw Error($e(40));return e._reactRootContainer?(mc(function(){t0(null,null,e,!1,function(){e._reactRootContainer=null,e[ds]=null})}),!0):!1};xi.unstable_batchedUpdates=o1;xi.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!e0(n))throw Error($e(200));if(e==null||e._reactInternals===void 0)throw Error($e(38));return t0(e,t,n,!1,r)};xi.version="18.3.1-next-f1338f8080-20240426";function YT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YT)}catch(e){console.error(e)}}YT(),GP.exports=xi;var qu=GP.exports,RN=qu;tb.createRoot=RN.createRoot,tb.hydrateRoot=RN.hydrateRoot;const YB=new Set(["Vulnerability","Weakness","Blind","Cripple","Chill","Immobilize","Slow","Fear","Taunt"]),XT=[{id:"damage",label:"Damage",field:"damage",source:"dpsAll"},{id:"directDmg",label:"Direct Damage",field:"directDmg",source:"statsTargets"},{id:"connectedDamageCount",label:"Connected Damage Count",field:"connectedDamageCount",source:"statsTargets"},{id:"connectedDirectDamageCount",label:"Connected Direct Damage Count",field:"connectedDirectDamageCount",source:"statsTargets"},{id:"battleStandardHits",label:"Battle Standard Tracking"},{id:"criticalRate",label:"Critical Rate",field:"criticalRate",isRate:!0,isPercent:!0,denomField:"critableDirectDamageCount",source:"statsTargets"},{id:"criticalDmg",label:"Critical Damage",field:"criticalDmg",source:"statsTargets"},{id:"flankingRate",label:"Flanking Rate",field:"flankingRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"glanceRate",label:"Glance Rate",field:"glanceRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"missed",label:"Missed",field:"missed",source:"statsTargets"},{id:"evaded",label:"Evaded (enemy)",field:"evaded",source:"statsTargets"},{id:"blocked",label:"Blocked (enemy)",field:"blocked",source:"statsTargets"},{id:"interrupts",label:"Interrupts",field:"interrupts",source:"statsTargets"},{id:"invulned",label:"Invulned",field:"invulned",source:"statsTargets"},{id:"killed",label:"Killed",field:"killed",source:"statsTargets"},{id:"downed",label:"Downed",field:"downed",source:"statsTargets"},{id:"downContribution",label:"Down Contribution",field:"downContribution",source:"statsTargets"},{id:"downContributionPercent",label:"Down Contribution %",isRate:!0,isPercent:!0},{id:"againstDownedDamage",label:"Against Downed Damage",field:"againstDownedDamage",source:"statsTargets"},{id:"appliedCrowdControl",label:"Applied CC",field:"appliedCrowdControl",source:"statsTargets"},{id:"appliedCrowdControlDuration",label:"Applied CC Duration",field:"appliedCrowdControlDuration",source:"statsTargets"},{id:"appliedCrowdControlDownContribution",label:"Applied CC Down Contribution",field:"appliedCrowdControlDownContribution",source:"statsTargets"},{id:"appliedCrowdControlDurationDownContribution",label:"Applied CC Duration Down Contribution",field:"appliedCrowdControlDurationDownContribution",source:"statsTargets"},{id:"boonStrips",label:"Boon Strips",field:"boonStrips",source:"support"}],ZT=[{id:"damageTaken",label:"Damage Taken",field:"damageTaken"},{id:"damageTakenCount",label:"Damage Taken Count",field:"damageTakenCount"},{id:"conditionDamageTaken",label:"Condition Damage Taken",field:"conditionDamageTaken"},{id:"conditionDamageTakenCount",label:"Condition Damage Taken Count",field:"conditionDamageTakenCount"},{id:"powerDamageTaken",label:"Power Damage Taken",field:"powerDamageTaken"},{id:"powerDamageTakenCount",label:"Power Damage Taken Count",field:"powerDamageTakenCount"},{id:"downedDamageTaken",label:"Downed Damage Taken",field:"downedDamageTaken"},{id:"downedDamageTakenCount",label:"Downed Damage Taken Count",field:"downedDamageTakenCount"},{id:"damageBarrier",label:"Damage Barrier",field:"damageBarrier"},{id:"damageBarrierCount",label:"Damage Barrier Count",field:"damageBarrierCount"},{id:"blockedCount",label:"Blocked Count",field:"blockedCount"},{id:"evadedCount",label:"Evaded Count",field:"evadedCount"},{id:"missedCount",label:"Missed Count",field:"missedCount"},{id:"dodgeCount",label:"Dodge Count",field:"dodgeCount"},{id:"invulnedCount",label:"Invulnerable Count",field:"invulnedCount"},{id:"interruptedCount",label:"Interrupted Count",field:"interruptedCount"},{id:"downCount",label:"Down Count",field:"downCount"},{id:"deadCount",label:"Death Count",field:"deadCount"},{id:"boonStrips",label:"Boon Strips (Incoming)",field:"boonStrips"},{id:"conditionCleanses",label:"Cleanses (Incoming)",field:"conditionCleanses"},{id:"receivedCrowdControl",label:"Crowd Control (Incoming)",field:"receivedCrowdControl"}],XB=[{id:"totalHits",label:"Total Hits"},{id:"evaded",label:"Evaded"},{id:"blocked",label:"Blocked"},{id:"glanced",label:"Glanced"},{id:"missed",label:"Missed"},{id:"invulned",label:"Invulned"},{id:"interrupted",label:"Interrupted"},{id:"totalMitigation",label:"Damage Mitigation"},{id:"minMitigation",label:"Min Damage Mitigation"}],QT=[{id:"condiCleanse",label:"Condition Cleanses",field:"condiCleanse"},{id:"condiCleanseTime",label:"Condition Cleanse Time",field:"condiCleanseTime",isTime:!0},{id:"condiCleanseSelf",label:"Condition Cleanse Self",field:"condiCleanseSelf"},{id:"condiCleanseTimeSelf",label:"Condition Cleanse Time Self",field:"condiCleanseTimeSelf",isTime:!0},{id:"boonStrips",label:"Boon Strips",field:"boonStrips"},{id:"boonStripsTime",label:"Boon Strips Time",field:"boonStripsTime",isTime:!0},{id:"boonStripDownContribution",label:"Boon Strip Down Contribution",field:"boonStripDownContribution"},{id:"boonStripDownContributionTime",label:"Boon Strip Down Contribution Time",field:"boonStripDownContributionTime",isTime:!0},{id:"stunBreak",label:"Stun Breaks",field:"stunBreak"},{id:"removedStunDuration",label:"Removed Stun Duration",field:"removedStunDuration",isTime:!0},{id:"resurrects",label:"Resurrects",field:"resurrects"},{id:"resurrectTime",label:"Resurrect Time",field:"resurrectTime",isTime:!0}],ZB=[{id:"healing",label:"Healing",baseField:"healing",perSecond:!1,decimals:0},{id:"healingPerSecond",label:"Healing Per Second",baseField:"healing",perSecond:!0,decimals:2},{id:"barrier",label:"Barrier",baseField:"barrier",perSecond:!1,decimals:0},{id:"barrierPerSecond",label:"Barrier Per Second",baseField:"barrier",perSecond:!0,decimals:2},{id:"downedHealing",label:"Downed Healing",baseField:"downedHealing",perSecond:!1,decimals:0},{id:"downedHealingPerSecond",label:"Downed Healing Per Second",baseField:"downedHealing",perSecond:!0,decimals:1},{id:"resUtility",label:"Resurrect Utility",baseField:"resUtility",perSecond:!1,decimals:0}],QB=["battle standard","glyph of renewal","glyph of the stars","illusion of life","spirit of nature","nature spirit","search and rescue","signet of mercy"],JB=new Set([10244]),ez=(e,t)=>{var n;if(JB.has(e))return!0;const r=(t==null?void 0:t[`s${e}`])||(t==null?void 0:t[`${e}`]),a=((n=r==null?void 0:r.name)==null?void 0:n.toLowerCase())||"";return QB.some(i=>a.includes(i))},tz=e=>{const t=e.toLowerCase();return t.includes("autoattack")||t.includes("auto attack")},BN=e=>{if(!e||!Number.isFinite(e))return"--:--";const t=Math.max(0,Math.round(e/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),a=t%60;return n>0?`${n}:${String(r).padStart(2,"0")}:${String(a).padStart(2,"0")}`:`${r}:${String(a).padStart(2,"0")}`},JT=()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia("(max-width: 640px)").matches,eD=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e),n=e<0?"-":"";if(t>=1e6){const r=(t/1e6).toFixed(2).replace(/\.?0+$/,"");return`${n}${r}m`}if(t>=1e4){const r=(t/1e3).toFixed(0);return`${n}${r}k`}return`${e.toLocaleString()}`},Ti=(e,t=2)=>Number.isFinite(e)?JT()&&Math.abs(e)>=1e4?eD(e):e.toLocaleString(void 0,{minimumFractionDigits:t,maximumFractionDigits:t}):"--",zs=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e);return JT()&&t>=1e4?eD(e):t>=1e6?`${(e/1e6).toFixed(2).replace(/\.?0+$/,"")}m`:Math.round(e).toLocaleString()};var nz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const rz=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Yt=(e,t)=>{const n=v.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:s,...l},c)=>v.createElement("svg",{ref:c,...nz,width:a,height:a,stroke:r,strokeWidth:o?Number(i)*24/Number(a):i,className:`lucide lucide-${rz(e)}`,...l},[...t.map(([d,f])=>v.createElement(d,f)),...(Array.isArray(s)?s:[s])||[]]));return n.displayName=`${e}`,n},tD=Yt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),az=Yt("ArrowBigDown",[["path",{d:"M15 6v6h4l-7 7-7-7h4V6h6z",key:"1thax2"}]]),m1=Yt("ArrowBigUp",[["path",{d:"M9 18v-6H5l7-7 7 7h-4v6H9z",key:"1x06kx"}]]),nD=Yt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),iz=Yt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),oz=Yt("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),rD=Yt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Yl=Yt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),sz=Yt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),co=Yt("Columns",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"12",x2:"12",y1:"3",y2:"21",key:"1efggb"}]]),lz=Yt("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]),cz=Yt("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),uz=Yt("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Sf=Yt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),dz=Yt("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),fz=Yt("Hammer",[["path",{d:"m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9",key:"1afvon"}],["path",{d:"M17.64 15 22 10.64",key:"zsji6s"}],["path",{d:"m20.91 11.7-1.25-1.25c-.6-.6-.93-1.4-.93-2.25v-.86L16.01 4.6a5.56 5.56 0 0 0-3.94-1.64H9l.92.82A6.18 6.18 0 0 1 12 8.4v1.56l2 2h2.47l2.26 1.91",key:"lehyy1"}]]),aD=Yt("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]),pz=Yt("HelpingHand",[["path",{d:"m3 15 5.12-5.12A3 3 0 0 1 10.24 9H13a2 2 0 1 1 0 4h-2.5m4-.68 4.17-4.89a1.88 1.88 0 0 1 2.92 2.36l-4.2 5.94A3 3 0 0 1 14.96 17H9.83a2 2 0 0 0-1.42.59L7 19",key:"nitrv7"}],["path",{d:"m2 14 6 6",key:"g6j1uo"}]]),h1=Yt("Keyboard",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",ry:"2",key:"15u882"}],["path",{d:"M6 8h.001",key:"1ej0i3"}],["path",{d:"M10 8h.001",key:"1x2st2"}],["path",{d:"M14 8h.001",key:"1vkmyp"}],["path",{d:"M18 8h.001",key:"kfsenl"}],["path",{d:"M8 12h.001",key:"1sjpby"}],["path",{d:"M12 12h.001",key:"al75ts"}],["path",{d:"M16 12h.001",key:"931bgk"}],["path",{d:"M7 16h10",key:"wp8him"}]]),mz=Yt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),g1=Yt("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]),hz=Yt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),y1=Yt("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),ki=Yt("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),zN=Yt("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]),gz=Yt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),yz=Yt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),vz=Yt("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),iD=Yt("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Eu=Yt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),n0=Yt("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]),r0=Yt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Eh=Yt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),bz=Yt("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]),Yd=Yt("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]),ac=Yt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),xz=Yt("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),Ar=Yt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),wz=Yt("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]),oD=Yt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Ba=Yt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Nf=Yt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),v1=({className:e})=>u.jsx(gz,{className:e,strokeWidth:3.2}),Ph=({className:e})=>u.jsx(bz,{className:e,style:{transform:"rotate(45deg)"}}),np=e=>{if(typeof window<"u"&&(window.location.pathname||"").includes("/web/web/"))return`../${e.replace(/^\/+/,"")}`;const t="./",n=t.endsWith("/")?t:`${t}/`,r=e.replace(/^\/+/,"");return`${n}${r}`},b1=({className:e=""})=>{const t=np("svg/custom-icons/mouse.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},x1=({className:e=""})=>{const t=np("svg/custom-icons/gw2_boon.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},w1=({className:e=""})=>{const t=np("svg/custom-icons/dam_mit.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},k1=({className:e=""})=>{const t=np("svg/custom-icons/gw2_sigil.svg");return u.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},kz=e=>{const[t,n]=v.useState(!1),[r,a]=v.useState("overview"),i=v.useRef(null),o=v.useRef(null),s=v.useRef(0),l=v.useMemo(()=>[{id:"overview",label:"Overview",icon:ac,items:[{id:"overview",label:"Overview",icon:ac},{id:"top-players",label:"Top Players",icon:ac},{id:"top-skills-outgoing",label:"Top Skills",icon:m1},{id:"timeline",label:"Squad vs Enemy",icon:Ar},{id:"map-distribution",label:"Map Distribution",icon:y1}]},{id:"roster",label:"Roster Intel",icon:Sf,items:[{id:"attendance-ledger",label:"Attendance Ledger",icon:Sf},{id:"squad-comp-fight",label:"Squad Comp by Fight",icon:Ar},{id:"fight-comp",label:"Fight Comp",icon:Yd}]},{id:"offense",label:"Offensive Stats",icon:Ph,items:[{id:"offense-detailed",label:"Offense Detailed",icon:Ph},{id:"player-breakdown",label:"Player Breakdown",icon:g1},{id:"spike-damage",label:"Spike Damage",icon:Nf},{id:"conditions-outgoing",label:"Conditions",icon:n0}]},{id:"defense",label:"Defensive Stats",icon:Eu,items:[{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:vz},{id:"defense-detailed",label:"Defense Detailed",icon:Eu},{id:"defense-mitigation",label:"Damage Mitigation",icon:w1},{id:"support-detailed",label:"Support Detailed",icon:v1},{id:"healing-stats",label:"Healing Stats",icon:aD},{id:"boon-output",label:"Boon Output",icon:x1}]},{id:"other",label:"Other Metrics",icon:Eh,items:[{id:"special-buffs",label:"Special Buffs",icon:Eh},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:k1},{id:"skill-usage",label:"Skill Usage",icon:h1},{id:"apm-stats",label:"APM Breakdown",icon:b1}]}],[]),c=v.useMemo(()=>l.flatMap(p=>p.items),[l]),d=p=>{const m=p==="kdr"?"overview":p,h=i.current,y=document.getElementById(m);if(h&&y){const x=h.getBoundingClientRect(),g=y.getBoundingClientRect().top-x.top+h.scrollTop,b=Math.max(0,h.scrollHeight-h.clientHeight),w=Math.min(Math.max(g-16,0),b);h.scrollTo({top:w,behavior:"smooth"}),a(m)}else y&&(y.scrollIntoView({behavior:"smooth",block:"start"}),a(m));n(!1)};v.useEffect(()=>{if(e)return;const p=m=>{const h=i.current;if(!h)return;const y=m.target;if(!(y instanceof Element&&y.closest("[data-stats-mobile-nav]"))&&!(y instanceof Node&&h.contains(y))&&m.deltaY!==0&&!(h.scrollHeight<=h.clientHeight)){if(s.current+=m.deltaY,o.current===null){const x=()=>{const g=s.current;if(Math.abs(g)<.5){s.current=0,o.current=null;return}const b=g*.2;s.current=g-b,h.scrollBy({top:b,behavior:"auto"}),o.current=requestAnimationFrame(x)};o.current=requestAnimationFrame(x)}m.preventDefault()}};return window.addEventListener("wheel",p,{passive:!1}),()=>{window.removeEventListener("wheel",p),o.current!==null&&(cancelAnimationFrame(o.current),o.current=null),s.current=0}},[e]);const f=p=>{var m;const h=Math.max(0,c.findIndex(g=>g.id===r)),y=Math.min(Math.max(h+p,0),c.length-1),x=(m=c[y])==null?void 0:m.id;x&&d(x)};return v.useEffect(()=>{const p=i.current;if(!p)return;let m=0;const h=()=>{var x;const g=p.getBoundingClientRect().top;let b=((x=c[0])==null?void 0:x.id)||"overview";c.forEach(w=>{const S=document.getElementById(w.id);S&&S.getBoundingClientRect().top-g<=24&&(b=w.id)}),a(w=>w===b?w:b)},y=()=>{m&&cancelAnimationFrame(m),m=requestAnimationFrame(h)};return h(),p.addEventListener("scroll",y,{passive:!0}),window.addEventListener("resize",y),()=>{m&&cancelAnimationFrame(m),p.removeEventListener("scroll",y),window.removeEventListener("resize",y)}},[c]),{mobileNavOpen:t,setMobileNavOpen:n,activeNavId:r,setActiveNavId:a,scrollContainerRef:i,tocGroups:l,tocItems:c,scrollToSection:d,stepSection:f}},Sz=({logs:e,stats:t,skillUsageData:n,activeStatsViewSettings:r,uiTheme:a,embedded:i,onWebUpload:o})=>{const[s,l]=v.useState({uploading:!1,message:null,url:null}),[c,d]=v.useState("idle"),f=()=>{const p=new Set;let m=null,h=null;e.forEach(j=>{const M=j.details;if(!M)return;const P=M.timeStartStd||M.timeStart||M.uploadTime||j.uploadTime,$=M.timeEndStd||M.timeEnd||M.uploadTime||j.uploadTime,E=P?new Date(P):null,_=$?new Date($):null;E&&!Number.isNaN(E.getTime())&&(!m||E<m)&&(m=E),_&&!Number.isNaN(_.getTime())&&(!h||_>h)&&(h=_),(M.players||[]).forEach(D=>{if(!(D!=null&&D.notInSquad)&&D!=null&&D.hasCommanderTag){const J=(D==null?void 0:D.name)||(D==null?void 0:D.account)||"Unknown";p.add(J)}})});const y=Array.from(p).sort((j,M)=>j.localeCompare(M)),x=m||new Date,g=h||x,b=x.toISOString(),w=g.toISOString(),S=`${x.toLocaleString()} - ${g.toLocaleString()}`,C=j=>String(j).padStart(2,"0");return{id:`${x.getFullYear()}${C(x.getMonth()+1)}${C(x.getDate())}-${C(x.getHours())}${C(x.getMinutes())}${C(x.getSeconds())}-${Math.random().toString(36).slice(2,6)}`,title:y.length?y.join(", "):"Unknown Commander",commanders:y,dateStart:b,dateEnd:w,dateLabel:S,generatedAt:new Date().toISOString()}};return{devMockUploadState:s,setDevMockUploadState:l,webCopyStatus:c,setWebCopyStatus:d,handleWebUpload:async()=>{if(!i&&o)try{const p=f();await o({meta:p,stats:{...t,skillUsageData:n,statsViewSettings:r,uiTheme:a||"classic"}})}catch(p){console.error("[StatsView] Web upload failed:",p)}},handleDevMockUpload:async()=>{var p;if(!(i||!((p=window.electronAPI)!=null&&p.mockWebReport))){l({uploading:!0,message:"Preparing local report...",url:null});try{const m=f(),h=await window.electronAPI.mockWebReport({meta:m,stats:{...t,skillUsageData:n,statsViewSettings:r,uiTheme:a||"classic"}});h!=null&&h.success?l({uploading:!1,message:"Local report ready.",url:h.url||null}):l({uploading:!1,message:(h==null?void 0:h.error)||"Local report failed.",url:null})}catch(m){l({uploading:!1,message:(m==null?void 0:m.message)||"Local report failed.",url:null})}}}}};function Nz(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),a=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(a),t&&(r.href=t),a.href=e,a.href}const jz=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function ll(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}let bd=null;function sD(e={}){return bd||(e.includeStyleProperties?(bd=e.includeStyleProperties,bd):(bd=ll(window.getComputedStyle(document.documentElement)),bd))}function Th(e,t){const n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function Cz(e){const t=Th(e,"border-left-width"),n=Th(e,"border-right-width");return e.clientWidth+t+n}function Mz(e){const t=Th(e,"border-top-width"),n=Th(e,"border-bottom-width");return e.clientHeight+t+n}function lD(e,t={}){const n=t.width||Cz(e),r=t.height||Mz(e);return{width:n,height:r}}function Az(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const si=16384;function Ez(e){(e.width>si||e.height>si)&&(e.width>si&&e.height>si?e.width>e.height?(e.height*=si/e.width,e.width=si):(e.width*=si/e.height,e.height=si):e.width>si?(e.height*=si/e.width,e.width=si):(e.width*=si/e.height,e.height=si))}function Dh(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function Pz(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function Tz(e,t,n){const r="http://www.w3.org/2000/svg",a=document.createElementNS(r,"svg"),i=document.createElementNS(r,"foreignObject");return a.setAttribute("width",`${t}`),a.setAttribute("height",`${n}`),a.setAttribute("viewBox",`0 0 ${t} ${n}`),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("externalResourcesRequired","true"),a.appendChild(i),i.appendChild(e),Pz(a)}const ei=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||ei(n,t)};function Dz(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function Oz(e,t){return sD(t).map(n=>{const r=e.getPropertyValue(n),a=e.getPropertyPriority(n);return`${n}: ${r}${a?" !important":""};`}).join(" ")}function Iz(e,t,n,r){const a=`.${e}:${t}`,i=n.cssText?Dz(n):Oz(n,r);return document.createTextNode(`${a}{${i}}`)}function UN(e,t,n,r){const a=window.getComputedStyle(e,n),i=a.getPropertyValue("content");if(i===""||i==="none")return;const o=jz();try{t.className=`${t.className} ${o}`}catch{return}const s=document.createElement("style");s.appendChild(Iz(o,n,a,r)),t.appendChild(s)}function _z(e,t,n){UN(e,t,":before",n),UN(e,t,":after",n)}const VN="application/font-woff",HN="image/jpeg",Lz={woff:VN,woff2:VN,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:HN,jpeg:HN,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function Fz(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function S1(e){const t=Fz(e).toLowerCase();return Lz[t]||""}function $z(e){return e.split(/,/)[1]}function Kb(e){return e.search(/^(data:)/)!==-1}function Rz(e,t){return`data:${t};base64,${e}`}async function cD(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const a=await r.blob();return new Promise((i,o)=>{const s=new FileReader;s.onerror=o,s.onloadend=()=>{try{i(n({res:r,result:s.result}))}catch(l){o(l)}},s.readAsDataURL(a)})}const Qy={};function Bz(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function N1(e,t,n){const r=Bz(e,t,n.includeQueryParams);if(Qy[r]!=null)return Qy[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let a;try{const i=await cD(e,n.fetchRequestInit,({res:o,result:s})=>(t||(t=o.headers.get("Content-Type")||""),$z(s)));a=Rz(i,t)}catch(i){a=n.imagePlaceholder||"";let o=`Failed to fetch resource: ${e}`;i&&(o=typeof i=="string"?i:i.message),o&&console.warn(o)}return Qy[r]=a,a}async function zz(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Dh(t)}async function Uz(e,t){if(e.currentSrc){const i=document.createElement("canvas"),o=i.getContext("2d");i.width=e.clientWidth,i.height=e.clientHeight,o==null||o.drawImage(e,0,0,i.width,i.height);const s=i.toDataURL();return Dh(s)}const n=e.poster,r=S1(n),a=await N1(n,r,t);return Dh(a)}async function Vz(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await a0(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function Hz(e,t){return ei(e,HTMLCanvasElement)?zz(e):ei(e,HTMLVideoElement)?Uz(e,t):ei(e,HTMLIFrameElement)?Vz(e,t):e.cloneNode(uD(e))}const Wz=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",uD=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function qz(e,t,n){var r,a;if(uD(t))return t;let i=[];return Wz(e)&&e.assignedNodes?i=ll(e.assignedNodes()):ei(e,HTMLIFrameElement)&&!((r=e.contentDocument)===null||r===void 0)&&r.body?i=ll(e.contentDocument.body.childNodes):i=ll(((a=e.shadowRoot)!==null&&a!==void 0?a:e).childNodes),i.length===0||ei(e,HTMLVideoElement)||await i.reduce((o,s)=>o.then(()=>a0(s,n)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function Kz(e,t,n){const r=t.style;if(!r)return;const a=window.getComputedStyle(e);a.cssText?(r.cssText=a.cssText,r.transformOrigin=a.transformOrigin):sD(n).forEach(i=>{let o=a.getPropertyValue(i);i==="font-size"&&o.endsWith("px")&&(o=`${Math.floor(parseFloat(o.substring(0,o.length-2)))-.1}px`),ei(e,HTMLIFrameElement)&&i==="display"&&o==="inline"&&(o="block"),i==="d"&&t.getAttribute("d")&&(o=`path(${t.getAttribute("d")})`),r.setProperty(i,o,a.getPropertyPriority(i))})}function Gz(e,t){ei(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),ei(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function Yz(e,t){if(ei(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(a=>e.value===a.getAttribute("value"));r&&r.setAttribute("selected","")}}function Xz(e,t,n){return ei(t,Element)&&(Kz(e,t,n),_z(e,t,n),Gz(e,t),Yz(e,t)),t}async function Zz(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let i=0;i<n.length;i++){const o=n[i].getAttribute("xlink:href");if(o){const s=e.querySelector(o),l=document.querySelector(o);!s&&l&&!r[o]&&(r[o]=await a0(l,t,!0))}}const a=Object.values(r);if(a.length){const i="http://www.w3.org/1999/xhtml",o=document.createElementNS(i,"svg");o.setAttribute("xmlns",i),o.style.position="absolute",o.style.width="0",o.style.height="0",o.style.overflow="hidden",o.style.display="none";const s=document.createElementNS(i,"defs");o.appendChild(s);for(let l=0;l<a.length;l++)s.appendChild(a[l]);e.appendChild(o)}return e}async function a0(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>Hz(r,t)).then(r=>qz(e,r,t)).then(r=>Xz(e,r,t)).then(r=>Zz(r,t))}const dD=/url\((['"]?)([^'"]+?)\1\)/g,Qz=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,Jz=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function e8(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function t8(e){const t=[];return e.replace(dD,(n,r,a)=>(t.push(a),n)),t.filter(n=>!Kb(n))}async function n8(e,t,n,r,a){try{const i=n?Nz(t,n):t,o=S1(t);let s;return a||(s=await N1(i,o,r)),e.replace(e8(t),`$1${s}$3`)}catch{}return e}function r8(e,{preferredFontFormat:t}){return t?e.replace(Jz,n=>{for(;;){const[r,,a]=Qz.exec(n)||[];if(!a)return"";if(a===t)return`src: ${r};`}}):e}function fD(e){return e.search(dD)!==-1}async function pD(e,t,n){if(!fD(e))return e;const r=r8(e,n);return t8(r).reduce((a,i)=>a.then(o=>n8(o,i,t,n)),Promise.resolve(r))}async function Bc(e,t,n){var r;const a=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(a){const i=await pD(a,null,n);return t.style.setProperty(e,i,t.style.getPropertyPriority(e)),!0}return!1}async function a8(e,t){await Bc("background",e,t)||await Bc("background-image",e,t),await Bc("mask",e,t)||await Bc("-webkit-mask",e,t)||await Bc("mask-image",e,t)||await Bc("-webkit-mask-image",e,t)}async function i8(e,t){const n=ei(e,HTMLImageElement);if(!(n&&!Kb(e.src))&&!(ei(e,SVGImageElement)&&!Kb(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,a=await N1(r,S1(r),t);await new Promise((i,o)=>{e.onload=i,e.onerror=t.onImageErrorHandler?(...l)=>{try{i(t.onImageErrorHandler(...l))}catch(c){o(c)}}:o;const s=e;s.decode&&(s.decode=i),s.loading==="lazy"&&(s.loading="eager"),n?(e.srcset="",e.src=a):e.href.baseVal=a})}async function o8(e,t){const n=ll(e.childNodes).map(r=>mD(r,t));await Promise.all(n).then(()=>e)}async function mD(e,t){ei(e,Element)&&(await a8(e,t),await i8(e,t),await o8(e,t))}function s8(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(a=>{n[a]=r[a]}),e}const WN={};async function qN(e){let t=WN[e];if(t!=null)return t;const n=await(await fetch(e)).text();return t={url:e,cssText:n},WN[e]=t,t}async function KN(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,a=(n.match(/url\([^)]+\)/g)||[]).map(async i=>{let o=i.replace(r,"$1");return o.startsWith("https://")||(o=new URL(o,e.url).href),cD(o,t.fetchRequestInit,({result:s})=>(n=n.replace(i,`url(${s})`),[i,s]))});return Promise.all(a).then(()=>n)}function GN(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const a=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=a.exec(r);if(l===null)break;t.push(l[0])}r=r.replace(a,"");const i=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,o="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",s=new RegExp(o,"gi");for(;;){let l=i.exec(r);if(l===null){if(l=s.exec(r),l===null)break;i.lastIndex=s.lastIndex}else s.lastIndex=i.lastIndex;t.push(l[0])}return t}async function l8(e,t){const n=[],r=[];return e.forEach(a=>{if("cssRules"in a)try{ll(a.cssRules||[]).forEach((i,o)=>{if(i.type===CSSRule.IMPORT_RULE){let s=o+1;const l=i.href,c=qN(l).then(d=>KN(d,t)).then(d=>GN(d).forEach(f=>{try{a.insertRule(f,f.startsWith("@import")?s+=1:a.cssRules.length)}catch(p){console.error("Error inserting rule from remote css",{rule:f,error:p})}})).catch(d=>{console.error("Error loading remote css",d.toString())});r.push(c)}})}catch(i){const o=e.find(s=>s.href==null)||document.styleSheets[0];a.href!=null&&r.push(qN(a.href).then(s=>KN(s,t)).then(s=>GN(s).forEach(l=>{o.insertRule(l,o.cssRules.length)})).catch(s=>{console.error("Error loading remote stylesheet",s)})),console.error("Error inlining remote css file",i)}}),Promise.all(r).then(()=>(e.forEach(a=>{if("cssRules"in a)try{ll(a.cssRules||[]).forEach(i=>{n.push(i)})}catch(i){console.error(`Error while reading CSS rules from ${a.href}`,i)}}),n))}function c8(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>fD(t.style.getPropertyValue("src")))}async function u8(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=ll(e.ownerDocument.styleSheets),r=await l8(n,t);return c8(r)}function hD(e){return e.trim().replace(/["']/g,"")}function d8(e){const t=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(a=>{t.add(hD(a))}),Array.from(r.children).forEach(a=>{a instanceof HTMLElement&&n(a)})}return n(e),t}async function f8(e,t){const n=await u8(e,t),r=d8(e);return(await Promise.all(n.filter(a=>r.has(hD(a.style.fontFamily))).map(a=>{const i=a.parentStyleSheet?a.parentStyleSheet.href:null;return pD(a.cssText,i,t)}))).join(`
`)}async function p8(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await f8(e,t);if(n){const r=document.createElement("style"),a=document.createTextNode(n);r.appendChild(a),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function m8(e,t={}){const{width:n,height:r}=lD(e,t),a=await a0(e,t,!0);return await p8(a,t),await mD(a,t),s8(a,t),await Tz(a,n,r)}async function h8(e,t={}){const{width:n,height:r}=lD(e,t),a=await m8(e,t),i=await Dh(a),o=document.createElement("canvas"),s=o.getContext("2d"),l=t.pixelRatio||Az(),c=t.canvasWidth||n,d=t.canvasHeight||r;return o.width=c*l,o.height=d*l,t.skipAutoScale||Ez(o),o.style.width=`${c}`,o.style.height=`${d}`,t.backgroundColor&&(s.fillStyle=t.backgroundColor,s.fillRect(0,0,o.width,o.height)),s.drawImage(i,0,0,o.width,o.height),o}async function g8(e,t={}){return(await h8(e,t)).toDataURL()}const y8=e=>{const[t,n]=v.useState(!1),r=async i=>{var o;if(!((o=window.electronAPI)!=null&&o.fetchImageAsDataUrl))return i();const s=window.fetch.bind(window),l=globalThis.fetch.bind(globalThis),c=async(d,f)=>{const p=typeof d=="string"?d:d instanceof URL?d.toString():d.url;if(/^https?:\/\//i.test(p)){const m=await window.electronAPI.fetchImageAsDataUrl(p);if(m!=null&&m.success&&m.dataUrl)return s(m.dataUrl)}return s(d,f)};window.fetch=c,globalThis.fetch=c;try{return await i()}finally{window.fetch=s,globalThis.fetch=l}},a=async i=>{var o;if(!((o=window.electronAPI)!=null&&o.fetchImageAsDataUrl))return()=>{};const s=new Map,l=[],c=async p=>{if(s.has(p))return s.get(p)||null;const m=await window.electronAPI.fetchImageAsDataUrl(p);return m!=null&&m.success&&m.dataUrl?(s.set(p,m.dataUrl),m.dataUrl):(s.set(p,""),null)},d=Array.from(i.querySelectorAll("img"));await Promise.all(d.map(async p=>{var m;const h=p.currentSrc||p.src;if(!h||h.startsWith("data:")||h.startsWith("blob:")||h.startsWith("file:"))return;const y=await c(h);if(!y)return;const x=p.src,g=p.srcset;p.src=y,p.srcset="",l.push(()=>{p.src=x,p.srcset=g});try{await((m=p.decode)==null?void 0:m.call(p))}catch{}}));const f=Array.from(i.querySelectorAll("*"));return await Promise.all(f.map(async p=>{const m=window.getComputedStyle(p).backgroundImage;if(!m||m==="none"||!m.includes("url("))return;const h=Array.from(m.matchAll(/url\(["']?(https?:\/\/[^"')]+)["']?\)/g));if(!h.length)return;let y=m,x=!1;for(const b of h){const w=b[1];if(!w)continue;const S=await c(w);S&&(y=y.replace(b[0],`url("${S}")`),x=!0)}if(!x)return;const g=p.style.backgroundImage;p.style.backgroundImage=y,l.push(()=>{p.style.backgroundImage=g})})),()=>{l.forEach(p=>p())}};return{sharing:t,setSharing:n,handleShare:async()=>{var i;if(e||!((i=window.electronAPI)!=null&&i.sendStatsScreenshot))return;n(!0);const o=document.getElementById("stats-dashboard-container");if(o)try{await new Promise(p=>setTimeout(p,100));const s=Array.from(o.querySelectorAll(".stats-share-exclude"));o.classList.add("stats-share-mode"),s.forEach(p=>{p.dataset.prevDisplay=p.style.display,p.style.display="none"});let l;const c=await a(o);try{const p=o.scrollWidth,m=o.scrollHeight;l=await r(()=>g8(o,{backgroundColor:"#10141b",quality:.95,pixelRatio:2,cacheBust:!0,width:p,height:m,style:{overflow:"visible",maxHeight:"none",height:"auto"}}))}finally{c(),o.classList.remove("stats-share-mode"),s.forEach(p=>{p.style.display=p.dataset.prevDisplay||"",delete p.dataset.prevDisplay})}const d=await(await(await fetch(l)).blob()).arrayBuffer(),f=new Uint8Array(d);window.electronAPI.sendStatsScreenshot(f)}catch(s){console.error("Failed to capture stats:",s)}setTimeout(()=>n(!1),2e3)}}},YN=["selfBuffs","groupBuffs","squadBuffs"],Ko=(e,t,n=0)=>t?e/t:n,XN=e=>e!=null&&e.classification?e.classification==="Boon":!0,gD=e=>`b${e}`,v8=(e,t)=>{const n=Array.isArray(e==null?void 0:e.activeTimes)?e.activeTimes:[],r=typeof n[0]=="number"?n[0]:0;return r>0?r:t},yD=(e,t,n,r,a,i,o)=>{const s=e==="selfBuffs"?1:Math.max(e==="groupBuffs"?i-1:o-1,0);return!s||!a?{generationMs:0,wastedMs:0}:t?{generationMs:n*a*s,wastedMs:r*a*s}:{generationMs:n/100*a*s,wastedMs:r/100*a*s}},b8=(e,t,n)=>{const r=e.activeTimeMs||1,a=e.numFights||1,i=e.groupSupported||1,o=e.squadSupported||1,s=e.categories.selfBuffs,l=e.categories.squadBuffs,c=t==="totalBuffs"?{generationMs:s.generationMs+l.generationMs,wastedMs:s.wastedMs+l.wastedMs}:e.categories[t],d=c.generationMs,f=c.wastedMs;let p=1;t==="groupBuffs"?p=Ko(i-a,a,1):t==="squadBuffs"?p=Ko(o-a,a,1):t==="totalBuffs"&&(p=o);let m=0,h=0;if(t==="selfBuffs")m=n?Ko(d,r):Ko(d,r)*100,h=n?Ko(f,r):Ko(f,r)*100;else{const y=Ko(d,r)/(p||1),x=Ko(f,r)/(p||1);m=n?y:y*100,h=n?x:x*100}return{generationMs:d,wastedMs:f,uptimeRaw:m,wastedRaw:h}},vD=(e,t,n,r)=>{const{generationMs:a,uptimeRaw:i}=b8(e,t,n),o=e.activeTimeMs||1;return r==="total"?a/1e3:r==="average"?Ko(a,o):i},x8=(e,t,n,r,a)=>{const i=vD(e,t,n,r),o=r==="uptime"&&!n,s=r==="average",l=a!=null&&a.roundCountStats&&!o&&!s?0:2,c=i.toLocaleString(void 0,{minimumFractionDigits:l,maximumFractionDigits:l});return o?`${c}%`:c},w8=e=>{const t=new Map,n=new Map;return e.forEach(r=>{const a=r.details;if(!a)return;const i=a.durationMS||0,o=a.buffMap||{};Object.entries(o).forEach(([d,f])=>{if(!t.has(d)){t.set(d,f);return}const p=t.get(d)||{},m={name:p.name||f.name,stacking:p.stacking??f.stacking,icon:p.icon||f.icon,classification:p.classification||f.classification};t.set(d,m)});const s=(a.players||[]).filter(d=>!d.notInSquad),l=s.length,c=new Map;s.forEach(d=>{const f=d.group??0;c.set(f,(c.get(f)||0)+1)}),s.forEach(d=>{const f=d.account||d.name||d.character_name||"Unknown",p=d.profession||"Unknown",m=d.group??0,h=c.get(m)||1,y=v8(d,i);n.has(f)||n.set(f,{account:f,profession:p,professions:new Set,professionTimeMs:{},activeTimeMs:0,numFights:0,groupSupported:0,squadSupported:0,boons:{}});const x=n.get(f);x.profession=p,p!=="Unknown"&&(x.professions.add(p),x.professionTimeMs[p]=(x.professionTimeMs[p]||0)+y),x.activeTimeMs+=y,x.numFights+=1,x.groupSupported+=h,x.squadSupported+=l,YN.forEach(g=>{(d[g]||[]).forEach(b=>{var w,S,C,j;if(typeof(b==null?void 0:b.id)!="number")return;const M=gD(b.id),P=o[M];if(!XN(P))return;const $=(P==null?void 0:P.stacking)??!1,E=((S=(w=b.buffData)==null?void 0:w[0])==null?void 0:S.generation)??0,_=((j=(C=b.buffData)==null?void 0:C[0])==null?void 0:j.wasted)??0,{generationMs:D,wastedMs:J}=yD(g,$,E,_,i,h,l);!D&&!J||(t.has(M)||t.set(M,P||{}),x.boons[M]||(x.boons[M]={selfBuffs:{generationMs:0,wastedMs:0},groupBuffs:{generationMs:0,wastedMs:0},squadBuffs:{generationMs:0,wastedMs:0}}),x.boons[M][g].generationMs+=D,x.boons[M][g].wastedMs+=J)})})})}),{boonTables:Array.from(t.keys()).filter(r=>XN(t.get(r))).map(r=>{const a=t.get(r)||{},i=[];return n.forEach(o=>{var s;const l=o.boons[r];if(!l||!YN.some(f=>l[f].generationMs>0||l[f].wastedMs>0))return;const c=Array.from(o.professions||[]).filter(f=>f&&f!=="Unknown");let d=o.profession;if(c.length>0){d=c[0];let f=((s=o.professionTimeMs)==null?void 0:s[d])||0;c.forEach(p=>{var m;const h=((m=o.professionTimeMs)==null?void 0:m[p])||0;h>f&&(f=h,d=p)})}i.push({account:o.account,profession:d||"Unknown",professionList:c,activeTimeMs:o.activeTimeMs||1,numFights:o.numFights||1,groupSupported:o.groupSupported||1,squadSupported:o.squadSupported||1,categories:{selfBuffs:{...l.selfBuffs},groupBuffs:{...l.groupBuffs},squadBuffs:{...l.squadBuffs}}})}),{id:r,name:a.name||r,icon:a.icon,stacking:a.stacking??!1,rows:i}}).filter(r=>r.rows.length>0)}},ZN=(e,t,n,r,a,i,o={})=>{var s,l,c,d;const f=((e==null?void 0:e[t])||[]).find(x=>x.id===n);if(!f)return{generationMs:0,wastedMs:0};const p=o[gD(n)],m=(p==null?void 0:p.stacking)??!1,h=((l=(s=f.buffData)==null?void 0:s[0])==null?void 0:l.generation)??0,y=((d=(c=f.buffData)==null?void 0:c[0])==null?void 0:d.wasted)??0;return yD(t,m,h,y,r,a,i)},k8={tiered:{tiers:{shortMs:500,mediumMs:1500,weights:{short:.5,medium:1,long:2}}}},S8={methods:k8},N8=S8,j1="count",j8=e=>(e||0)/1e3,C8=(e,t)=>{var n;if(!e)return 0;const r=(n=N8.methods.tiered)==null?void 0:n.tiers;if(!r)return e;const a=t/Math.max(e,1);return a<=r.shortMs?e*r.weights.short:a<=r.mediumMs?e*r.weights.medium:e*r.weights.long},bD=(e,t,n)=>n==="duration"?j8(t):n==="tiered"?C8(e,t):e;function M8(e,t=j1){var n;const r=(n=e.statsAll)==null?void 0:n[0],a=Number((r==null?void 0:r.appliedCrowdControl)??0),i=Number((r==null?void 0:r.appliedCrowdControlDuration)??0);return bD(a,i,t)}function A8(e,t){const n=(t==null?void 0:t.durationMS)||0,r=(t==null?void 0:t.buffMap)||{},a=e.filter(s=>!s.notInSquad),i=a.length,o=new Map;a.forEach(s=>{const l=s.group??0;o.set(l,(o.get(l)||0)+1)}),a.forEach(s=>{const l=o.get(s.group??0)||1,c=ZN(s,"selfBuffs",1122,n,l,i,r),d=ZN(s,"squadBuffs",1122,n,l,i,r);s.stabGeneration=(c.generationMs+d.generationMs)/1e3})}function E8(e){if(!e.statsTargets)return 0;let t=0;for(const n of e.statsTargets)n&&n.length>0&&(t+=n[0].downContribution||0);return t}function P8(e){if(!e.extBarrierStats||!e.extBarrierStats.outgoingBarrierAllies)return 0;let t=0;for(const n of e.extBarrierStats.outgoingBarrierAllies)if(n)for(const r of n)r&&(t+=r.barrier||0);return t}function T8(e){if(!e.extHealingStats||!e.extHealingStats.outgoingHealingAllies)return 0;let t=0;for(const n of e.extHealingStats.outgoingHealingAllies)if(n)for(const r of n)r&&(t+=r.healing||0);return t}const D8=e=>{var t,n,r,a;return(((n=(t=e.support)==null?void 0:t[0])==null?void 0:n.condiCleanse)||0)+(((a=(r=e.support)==null?void 0:r[0])==null?void 0:a.condiCleanseSelf)||0)},O8=(e,t=j1)=>{var n;const r=(n=e.support)==null?void 0:n[0],a=Number((r==null?void 0:r.boonStrips)??0),i=Number((r==null?void 0:r.boonStripsTime)??0);return bD(a,i,t)},I8=e=>E8(e),_8=e=>T8(e),L8=e=>P8(e),F8=(e,t=j1)=>M8(e,t),$8=(e,t)=>A8(e,t),R8="count",xD={downContribution:1,healing:1,cleanses:1,strips:1,stability:1,cc:.7,revives:.7,distanceToTag:.7,participation:.7,dodging:.4,dps:.2,damage:.2},Gb={showTopStats:!0,showMvp:!0,roundCountStats:!1,topStatsMode:"total",topSkillDamageSource:"target",topSkillsMetric:"damage"},B8={uploading:!1,message:null,url:null,buildStatus:"idle"},QN=new Map([["bleeding","Bleeding"],["burning","Burning"],["confusion","Confusion"],["poison","Poison"],["torment","Torment"],["vulnerability","Vulnerability"],["weakness","Weakness"],["weakened","Weakness"],["blind","Blind"],["blinded","Blind"],["blinding","Blind"],["cripple","Cripple"],["crippled","Cripple"],["chill","Chill"],["chilled","Chill"],["immob","Immobilize"],["immobile","Immobilize"],["immobilized","Immobilize"],["slow","Slow"],["slowed","Slow"],["fear","Fear"],["feared","Fear"],["taunt","Taunt"],["taunted","Taunt"]]),wD={Blind:"https://render.guildwars2.com/file/09770136BB76FD0DBE1CC4267DEED54774CB20F6/102837.png",Chill:"https://render.guildwars2.com/file/28C4EC547A3516AF0242E826772DA43A5EAC3DF3/102839.png",Cripple:"https://render.guildwars2.com/file/070325E519C178D502A8160523766070D30C0C19/102838.png",Fear:"https://render.guildwars2.com/file/30307A6E766D74B6EB09EDA12A4A2DE50E4D76F4/102869.png",Immobilize:"https://render.guildwars2.com/file/397A613651BFCA2832B6469CE34735580A2C120E/102844.png",Slow:"https://render.guildwars2.com/file/F60D1EF5271D7B9319610855676D320CD25F01C6/961397.png",Taunt:"https://render.guildwars2.com/file/02EED459AD65FAF7DF32A260E479C625070841B9/1228472.png",Vulnerability:"https://render.guildwars2.com/file/3A394C1A0A3257EB27A44842DDEEF0DF000E1241/102850.png",Weakness:"https://render.guildwars2.com/file/6CB0E64AF9AA292E332A38C1770CE577E2CDE0E8/102853.png"},cm=e=>{if(e)return wD[e]},jf=e=>{if(!e)return null;const t=e.trim().toLowerCase(),n=QN.get(t);if(n)return n;const r=t.split(/[^a-z]+/).filter(Boolean);for(const a of r){const i=QN.get(a);if(i)return i}return null},Wc=e=>jf(e),kD=e=>{const t=new Map;return e&&(Object.values(e).forEach(n=>{if(!(n!=null&&n.icon)||!(n!=null&&n.name))return;const r=jf(n.name);r&&(t.has(r)||t.set(r,n.icon))}),Object.entries(wD).forEach(([n,r])=>{t.has(n)||t.set(n,r)})),t},qm=(e,t,n)=>{var r;if(t&&n){const a=(r=n[`b${t}`])==null?void 0:r.name,i=jf(a);if(i)return i}return e?jf(e):null},z8=e=>{const t=(e==null?void 0:e.account)||"Unknown";return t&&t!=="Unknown"?t:(e==null?void 0:e.name)||"Unknown"},U8=e=>{if(!e||e.length===0)return 0;let t=0,n=null;return e.forEach(r=>{const a=Number(r[1]??0);if(Number.isFinite(a)){if(n===null){n=a;return}a>n&&(t+=a-n),n=a}}),t},V8=e=>{if(!e||e.length===0)return 0;let t=0;return e.forEach(n=>{const r=Number(n[0]??0),a=Number(n[1]??0);Number.isFinite(a)&&r!==0&&a>0&&(t+=1)}),t},H8=e=>{const{players:t,targets:n,skillMap:r,buffMap:a}=e,i=e.getPlayerKey||z8,o=kD(a),s={},l={};t.forEach(m=>{if(m!=null&&m.notInSquad)return;const h=i(m);h&&(s[h]||(s[h]={}),m!=null&&m.totalDamageDist&&m.totalDamageDist.forEach(y=>{y&&y.forEach(x=>{if(!x.id)return;let g=`Skill ${x.id}`,b;r&&(r[`s${x.id}`]?(g=r[`s${x.id}`].name||g,b=r[`s${x.id}`].icon||b):r[`${x.id}`]&&(g=r[`${x.id}`].name||g,b=r[`${x.id}`].icon||b));const w=qm(g,x.id,a);if(!w)return;const S=a==null?void 0:a[`b${x.id}`],C=S==null?void 0:S.name,j=o.get(w)||(S==null?void 0:S.icon),M=g.startsWith("Skill ")?C||w:g,P=b||(S==null?void 0:S.icon),$=Number(x.connectedHits??0),E=Number(x.hits??0),_=$>0?$:E,D=Number(x.totalDamage??0);if(!Number.isFinite(_)&&!Number.isFinite(D))return;const J=l[w]||{name:w,icon:j,applications:0,damage:0};J.applications+=Number.isFinite(_)?_:0,J.damage+=Number.isFinite(D)?D:0,!J.icon&&j&&(J.icon=j),l[w]=J;const Q=s[h][w]||{icon:j,applications:0,damage:0,skills:{}};Q.applications+=Number.isFinite(_)?_:0,Q.damage+=Number.isFinite(D)?D:0;const Y=Q.skills[M]||{name:M,hits:0,damage:0,icon:P};Y.hits+=Number.isFinite(_)?_:0,Y.damage+=Number.isFinite(D)?D:0,!Y.icon&&P&&(Y.icon=P),Q.skills[M]=Y,!Q.icon&&j&&(Q.icon=j),s[h][w]=Q})}))});const c=new Map;t.forEach(m=>{if(m!=null&&m.notInSquad)return;const h=i(m);h&&m!=null&&m.name&&c.set(m.name,h)});let d=0,f=0,p=0;return n.forEach(m=>{m!=null&&m.buffs&&m.buffs.forEach(h=>{const y=Number(h==null?void 0:h.id);if(!Number.isFinite(y))return;const x=a==null?void 0:a[`b${y}`],g=jf(x==null?void 0:x.name);if(!g||x!=null&&x.classification&&x.classification!=="Condition")return;const b=g;if(!b)return;const w=h.statesPerSource||{};p+=1,Object.entries(w).forEach(([S,C])=>{var j;const M=c.get(S);if(!M)return;f+=1;const P=U8(C),$=V8(C);d+=P;const E=((j=s[M])==null?void 0:j[b])||{applications:0,damage:0,skills:{}};E.applicationsFromBuffs=(E.applicationsFromBuffs||0)+P,E.applicationsFromBuffsActive=(E.applicationsFromBuffsActive||0)+$,s[M]=s[M]||{},s[M][b]=E;const _=l[b]||{name:b,applications:0,damage:0};_.applicationsFromBuffs=(_.applicationsFromBuffs||0)+P,_.applicationsFromBuffsActive=(_.applicationsFromBuffsActive||0)+$,l[b]=_})})}),Object.values(s).forEach(m=>{Object.values(m).forEach(h=>{typeof h.applicationsFromBuffs=="number"&&(h.applications=h.applicationsFromBuffs)})}),Object.values(l).forEach(m=>{typeof m.applicationsFromBuffs=="number"&&(m.applications=m.applicationsFromBuffs)}),{playerConditions:s,summary:l,meta:{buffStateApplicationsTotal:d,targetBuffEntriesSeen:p,buffStateSourcesSeen:f}}},Cf={Guardian:"#72C1D9",Dragonhunter:"#72C1D9",Firebrand:"#72C1D9",Willbender:"#72C1D9",Revenant:"#D16E5A",Herald:"#D16E5A",Renegade:"#D16E5A",Vindicator:"#D16E5A",Warrior:"#FFD166",Berserker:"#FFD166",Spellbreaker:"#FFD166",Bladesworn:"#FFD166",Engineer:"#D09C59",Scrapper:"#D09C59",Holosmith:"#D09C59",Mechanist:"#D09C59",Ranger:"#8CDC82",Druid:"#8CDC82",Soulbeast:"#8CDC82",Untamed:"#8CDC82",Thief:"#C08F95",Daredevil:"#C08F95",Deadeye:"#C08F95",Specter:"#C08F95",Elementalist:"#F68A87",Tempest:"#F68A87",Weaver:"#F68A87",Catalyst:"#F68A87",Mesmer:"#B679D5",Chronomancer:"#B679D5",Mirage:"#B679D5",Virtuoso:"#B679D5",Necromancer:"#52A76F",Reaper:"#52A76F",Scourge:"#52A76F",Harbinger:"#52A76F",Ritualist:"#52A76F",Luminary:"#72C1D9",Conduit:"#D16E5A",Paragon:"#FFD166",Amalgam:"#D09C59",Galeshot:"#8CDC82",Antiquary:"#C08F95",Evoker:"#F68A87",Troubadour:"#B679D5",Unknown:"#64748B"},W8={Guardian:"Guardian",Dragonhunter:"Guardian",Firebrand:"Guardian",Willbender:"Guardian",Revenant:"Revenant",Herald:"Revenant",Renegade:"Revenant",Vindicator:"Revenant",Warrior:"Warrior",Berserker:"Warrior",Spellbreaker:"Warrior",Bladesworn:"Warrior",Engineer:"Engineer",Scrapper:"Engineer",Holosmith:"Engineer",Mechanist:"Engineer",Ranger:"Ranger",Druid:"Ranger",Soulbeast:"Ranger",Untamed:"Ranger",Thief:"Thief",Daredevil:"Thief",Deadeye:"Thief",Specter:"Thief",Elementalist:"Elementalist",Tempest:"Elementalist",Weaver:"Elementalist",Catalyst:"Elementalist",Mesmer:"Mesmer",Chronomancer:"Mesmer",Mirage:"Mesmer",Virtuoso:"Mesmer",Necromancer:"Necromancer",Reaper:"Necromancer",Scourge:"Necromancer",Harbinger:"Necromancer",Ritualist:"Necromancer",Luminary:"Guardian",Conduit:"Revenant",Paragon:"Warrior",Amalgam:"Engineer",Galeshot:"Ranger",Antiquary:"Thief",Evoker:"Elementalist",Troubadour:"Mesmer",Unknown:"Unknown"};function ic(e){return Cf[e]||Cf.Unknown}function q8(e){return e?W8[e]||e:"Unknown"}function Xl(e){if(!e)return null;const t=typeof window<"u"&&/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/")?"/svg/class-icons":"./svg/class-icons",n=Cf[e]?e:null;if(n&&n!=="Unknown")return`${t}/${n}.svg`;const r=q8(e);return r&&r!=="Unknown"?`${t}/${r}.svg`:null}const K8=e=>{if(e==null||e==="")return 0;if(typeof e=="number")return!Number.isFinite(e)||e<=0?0:e>1e12?e:e*1e3;if(e instanceof Date){const o=e.getTime();return Number.isFinite(o)&&o>0?o:0}const t=String(e).trim();if(!t)return 0;const n=Number(t);if(Number.isFinite(n)&&n>0)return n>1e12?n:n*1e3;const r=Date.parse(t);if(Number.isFinite(r)&&r>0)return r;const a=t.replace(/([+-]\d{2})$/,"$1:00"),i=Date.parse(a);return Number.isFinite(i)&&i>0?i:0},qa=(e,t)=>K8((e==null?void 0:e.uploadTime)??(t==null?void 0:t.uploadTime)??(e==null?void 0:e.timeStartStd)??(e==null?void 0:e.timeStart)??(e==null?void 0:e.timeEndStd)??(e==null?void 0:e.timeEnd)??(e==null?void 0:e.timeStartText)??(e==null?void 0:e.timeEndText)),Jy=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:a})=>{const i=(()=>{const f=e.filter(p=>p.details&&p.details.players&&p.details.players.length>0);return console.log("[useStatsAggregation] Filtering logs:",{total:e.length,passed:f.length,statuses:e.map(p=>p.status),hasDetails:e.map(p=>!!p.details)}),f})(),o=r||Gb,s=n||xD,l=f=>{if(!f||typeof f!="object")return f;const p=Array.isArray(f.fightBreakdown)?f.fightBreakdown:null;if(!p||p.length===0)return f;const m=g=>Array.isArray(g)&&g.some(b=>b&&Number(b.count)>0),h=new Map,y=new Map;e.forEach(g=>{var b;const w=(g==null?void 0:g.filePath)||(g==null?void 0:g.id);w&&h.set(String(w),g);const S=(g==null?void 0:g.permalink)||((b=g==null?void 0:g.details)==null?void 0:b.permalink);typeof S=="string"&&S.trim()&&y.set(S.trim(),g)});const x=p.map(g=>{var b;if(!g||typeof g!="object")return g;const w=g.id?String(g.id):"",S=typeof g.permalink=="string"?g.permalink.trim():"",C=(w?h.get(w):void 0)||(S?y.get(S):void 0);if(!C)return g;let j=g;if(Number(g.timestamp)<=0){const P=qa(C==null?void 0:C.details,C);P&&(j={...j,timestamp:P})}const M=(b=C==null?void 0:C.details)==null?void 0:b.teamBreakdown;return m(M)&&(j={...j,teamBreakdown:M}),j});return{...f,fightBreakdown:x}},c=(()=>{if(t)return l(t);const f=a||R8,p=o.topSkillDamageSource||"target",m=o.topSkillsMetric||"damage",h=i.length;let y=0,x=0,g=0,b=0,w=0,S=0,C=0,j=0;const M=T=>{const U=((T==null?void 0:T.players)||[]).filter(Ie=>!Ie.notInSquad);let re=0,Ce=0,Z=0,Ne=0;return U.forEach(Ie=>{var ut;const bt=(ut=Ie.defenses)==null?void 0:ut[0];if(!bt)return;const ht=Number(bt.downCount||0),Vt=Number(bt.deadCount||0);re+=ht+Vt,Z+=Vt}),U.forEach(Ie=>{!Ie.statsTargets||Ie.statsTargets.length===0||Ie.statsTargets.forEach(ut=>{const bt=ut==null?void 0:ut[0];if(!bt)return;const ht=Number(bt.downed||0),Vt=Number(bt.killed||0);Ce+=ht+Vt,Ne+=Vt})}),{squadDownsDeaths:re,enemyDownsDeaths:Ce,squadDeaths:Z,enemyDeaths:Ne}},P=T=>{const{squadDownsDeaths:U,enemyDownsDeaths:re}=M(T);return U>0||re>0?re>U:typeof(T==null?void 0:T.success)=="boolean"?T.success:!1},$=new Map,E=new Set(["boonStripsTime","condiCleanseTime","condiCleanseTimeSelf"]),_={},D={},J=new Map,Q={},Y={},fe={},K=new Map,I=new Map,te=new Set(Object.keys(Cf)),k=Object.keys(Cf).filter(T=>T&&T!=="Unknown").sort((T,U)=>U.length-T.length),R=["Guardian","Revenant","Warrior","Engineer","Ranger","Thief","Elementalist","Mesmer","Necromancer"],A=T=>{if(!T)return"Unknown";const U=String(T).replace(/\s*\([^)]*\)\s*$/,"").replace(/\s*\[[^\]]*\]\s*$/,"").replace(/\s\d+$/,"").trim();if(te.has(U))return U;const re=U.toLowerCase();for(const Ce of k)if(re.includes(Ce.toLowerCase()))return Ce;return R.find(Ce=>re.includes(Ce.toLowerCase()))||U||"Unknown"},N=T=>T!=null&&T.classification?T.classification==="Boon":!0,B=new Map,G=new Map,V=()=>({totalHits:0,blocked:0,evaded:0,glanced:0,missed:0,invulned:0,interrupted:0,totalMitigation:0,minMitigation:0}),H=T=>{const U=Number(T);return Number.isFinite(U)?U:0},X=T=>{const U=String(T).split("|"),re=U[0]||"Unknown",Ce=A(U[1]||"Unknown"),Z=U[2]||re||"Unknown";return{name:re,profession:Ce,account:Z}},O=(T,U,re)=>{let Ce=T.get(U);return Ce?re.profession&&!Ce.professionList.includes(re.profession)&&Ce.professionList.push(re.profession):(Ce={account:re.account,name:re.name,profession:re.profession,professionList:re.profession?[re.profession]:[],activeMs:0,mitigationTotals:V()},T.set(U,Ce)),Ce},ee=(T,U,re)=>{let Ce=T.get(U);return Ce?re.profession&&!Ce.professionList.includes(re.profession)&&Ce.professionList.push(re.profession):(Ce={account:re.account,name:re.name,profession:re.profession,professionList:re.profession?[re.profession]:[],activeMs:0,mitigationTotals:V(),minion:re.minion},T.set(U,Ce)),Ce},me=(T,U)=>{T.totalHits+=H((U==null?void 0:U.skill_hits)??(U==null?void 0:U.skillHits)),T.blocked+=H(U==null?void 0:U.blocked),T.evaded+=H(U==null?void 0:U.evaded),T.glanced+=H(U==null?void 0:U.glanced),T.missed+=H(U==null?void 0:U.missed),T.invulned+=H(U==null?void 0:U.invulned),T.interrupted+=H(U==null?void 0:U.interrupted),T.totalMitigation+=H((U==null?void 0:U.avoided_damage)??(U==null?void 0:U.avoidedDamage)),T.minMitigation+=H((U==null?void 0:U.min_avoided_damage)??(U==null?void 0:U.minAvoidedDamage))},L=T=>Object.values(T).some(U=>U>0);console.log("[useStatsAggregation] Starting aggregation loop",{validLogsCount:i.length});const ne=(T,U,re)=>{var Ce,Z,Ne,Ie;const ut=`s${T}`;if((Ce=U==null?void 0:U[ut])!=null&&Ce.name)return U[ut].name;if((Z=U==null?void 0:U[String(T)])!=null&&Z.name)return U[String(T)].name;const bt=`b${T}`;return(Ne=re==null?void 0:re[bt])!=null&&Ne.name?re[bt].name:(Ie=re==null?void 0:re[String(T)])!=null&&Ie.name?re[String(T)].name:`Unknown Skill ${T}`},z=new Map,F=T=>{const U=z.get(T);if(!U)return{hasSkill:!1,avg:1,min:1,hits:0};const re=U.connectedHits||0,Ce=re>0?U.totalDamage/re:0,Z=U.minCount>0?U.minTotal/U.minCount:0;return{hasSkill:!0,avg:Ce,min:Z,hits:re}},oe="Ashtonlightstone.9145",ye="Illusionary Warden",Qe=[],le=[],qe=[],Pe=[],ct=new Map,en=new Map,En=(T,U,re)=>{const Ce=T.get(U)||V();return Ce.totalHits+=re.totalHits,Ce.blocked+=re.blocked,Ce.evaded+=re.evaded,Ce.glanced+=re.glanced,Ce.missed+=re.missed,Ce.invulned+=re.invulned,Ce.interrupted+=re.interrupted,T.set(U,Ce),Ce};i.forEach(T=>{const U=T.details;U&&(U.targets||[]).forEach(re=>{const Ce=(re==null?void 0:re.totalDamageDist)||[],Z=Array.isArray(Ce)?Ce[0]:null;Z==null||Z.forEach(Ne=>{if(!(Ne!=null&&Ne.id))return;const Ie=Number(Ne.id),ut=z.get(Ie)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};ut.totalDamage+=Number(Ne.totalDamage||0),ut.connectedHits+=Number(Ne.connectedHits||0);const bt=Number.isFinite(Number(Ne.min))?Number(Ne.min):0;ut.minTotal+=bt,ut.minCount+=1,z.set(Ie,ut)})})}),i.forEach((T,U)=>{var re,Ce;const Z=T.details;if(!Z)return;const Ne=Z.players;console.log(`[useStatsAggregation] Processing log ${U}:`,{playerCount:Ne==null?void 0:Ne.length,hasTargets:!!Z.targets,firstPlayer:Ne!=null&&Ne[0]?{account:Ne[0].account,notInSquad:Ne[0].notInSquad}:"none"});const Ie=Z.targets||[],ut=Z.skillMap||{},bt=Z.buffMap||{},ht=new Map,Vt=new Map;Ie.forEach(ae=>{const _e=(ae==null?void 0:ae.totalDamageDist)||[],Ze=Array.isArray(_e)?_e[0]:null;Ze==null||Ze.forEach(At=>{var Te;if(!(At!=null&&At.id))return;const Le=Number(At.id),gt=((Te=ut==null?void 0:ut[Le])==null?void 0:Te.name)||At.name||At.skillName||String(Le),Ve=ht.get(Le)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};Ve.totalDamage+=Number(At.totalDamage||0),Ve.connectedHits+=Number(At.connectedHits||0);const Lt=Number.isFinite(Number(At.min))?Number(At.min):0;Ve.minTotal+=Lt,Ve.minCount+=1,ht.set(Le,Ve);const It=Vt.get(gt)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};It.totalDamage+=Number(At.totalDamage||0),It.connectedHits+=Number(At.connectedHits||0);const Bt=Number.isFinite(Number(At.min))?Number(At.min):0;It.minTotal+=Bt,It.minCount+=1,Vt.set(gt,It)})});const jn=ae=>{const _e=ht.get(ae);if(!_e||_e.connectedHits<=0)return{avg:1,min:1};const Ze=_e.connectedHits>0?_e.totalDamage/_e.connectedHits:0,At=_e.minCount>0?_e.minTotal/_e.minCount:Ze;return{avg:Ze||1,min:At||1}},On=ae=>{const _e=Vt.get(ae);if(!_e||_e.connectedHits<=0)return{avg:1,min:1};const Ze=_e.connectedHits>0?_e.totalDamage/_e.connectedHits:0,At=_e.minCount>0?_e.minTotal/_e.minCount:Ze;return{avg:Ze||1,min:At||1}},Ye=Z.combatReplayMetaData||{},Ge=(Ye==null?void 0:Ye.inchToPixel)>0?Ye.inchToPixel:1,pt=(Ye==null?void 0:Ye.pollingRate)>0?Ye.pollingRate:1,Ht=5e3,Xt=ae=>Array.isArray(ae)?ae.map(_e=>Array.isArray(_e)?[Number(_e[0]),Number(_e[1])]:null).filter(_e=>!!_e&&Number.isFinite(_e[0])):[];let ve=[],je=Z.durationMS||0,be=!1;const Fe=Ne.find(ae=>(ae==null?void 0:ae.hasCommanderTag)&&!(ae!=null&&ae.notInSquad));(re=Fe==null?void 0:Fe.combatReplayData)!=null&&re.positions&&(ve=Fe.combatReplayData.positions,Xt(Fe.combatReplayData.dead).forEach(([ae])=>{ae>0&&(be=!0,je=Math.min(je,ae))}));const pe=ae=>{var _e;const Ze=(_e=ae.statsAll)==null?void 0:_e[0];if((Ze==null?void 0:Ze.distToCom)!==void 0&&(Ze==null?void 0:Ze.distToCom)!=="Infinity")return Math.round(Number(Ze.distToCom));if((Ze==null?void 0:Ze.stackDist)!==void 0)return Math.round(Number(Ze.stackDist))||0;if(ae.hasCommanderTag)return 0;const At=ae.combatReplayData;if(!(At!=null&&At.positions)||!ve.length)return 0;const Te=At.positions,Le=Xt(At.dead),gt=Xt(At.down),Ve=Math.floor((At.start||0)/pt);let Lt=0;if(Le.length&&gt.length)for(const[It]of Le){if(It<0)continue;const Bt=Math.max(0,Math.floor(It/pt))-Ve;for(const[at,zt]of gt){if(It!==zt)continue;const yt=be&&at>je?Math.max(1,Math.floor(je/pt)):Bt,rn=Math.max(0,Math.min(yt,Te.length,ve.length));if(rn<=0)continue;let Ft=0;for(let Mt=0;Mt<rn;Mt++){const[Oe,ge]=Te[Mt],[it,wt]=ve[Mt];Ft+=Math.hypot(Oe-it,ge-wt)}Lt=Math.round(Ft/rn/Ge)}}return Lt},Ee=Ne.filter(ae=>!ae.notInSquad);g+=Ee.length,b+=Ie.filter(ae=>!ae.isFake).length,$8(Ne,{durationMS:Z.durationMS,buffMap:Z.buffMap});const{squadDeaths:ke,enemyDeaths:xt}=M(Z);w+=ke,S+=xt,j+=ke,C+=xt,P(Z)?y++:x++;const et=Z.skillMap?Number((Ce=Object.keys(Z.skillMap).find(ae=>{var _e,Ze;return((Ze=(_e=Z.skillMap)==null?void 0:_e[ae])==null?void 0:Ze.name)==="Battle Standard"}))==null?void 0:Ce.replace(/^s/,"")):null;Ne.forEach((ae,_e)=>{var Ze,At,Te,Le,gt,Ve,Lt,It,Bt,at,zt,yt,rn;if(ae.notInSquad)return;const Ft=ae.account||"Unknown",Mt=Ft!=="Unknown"?Ft:ae.name||"Unknown",Oe=ae.name||"Unknown";$.has(Mt)||$.set(Mt,{name:Oe,account:Mt,characterNames:new Set,downContrib:0,cleanses:0,strips:0,stab:0,healing:0,barrier:0,cc:0,logsJoined:0,totalDist:0,distCount:0,dodges:0,downs:0,deaths:0,totalFightMs:0,offenseTotals:{},offenseRateWeights:{},defenseActiveMs:0,defenseTotals:{},supportActiveMs:0,supportTotals:{},healingActiveMs:0,healingTotals:{},profession:ae.profession||"Unknown",professions:new Set,professionTimeMs:{},squadActiveMs:0,firstSeenFightTs:0,lastSeenFightTs:0,lastSeenFightDurationMs:0,isCommander:!1,damage:0,dps:0,revives:0,outgoingConditions:{},incomingConditions:{}});const ge=$.get(Mt);if(ae.hasCommanderTag&&(ge.isCommander=!0),Oe!=="Unknown"&&ge.characterNames.add(String(Oe)),ae.profession&&ae.profession!=="Unknown"){ge.profession=ae.profession,ge.professions.add(ae.profession);const Ae=Array.isArray(ae.activeTimes)&&typeof ae.activeTimes[0]=="number"?ae.activeTimes[0]:Z.durationMS||0;ge.professionTimeMs[ae.profession]=(ge.professionTimeMs[ae.profession]||0)+Ae}ge.logsJoined++,ge.downContrib+=I8(ae),ge.cleanses+=D8(ae),ge.strips+=O8(ae,f),ge.healing+=_8(ae),ge.barrier+=L8(ae),ge.cc+=F8(ae,f),ge.stab+=ae.stabGeneration||0;const it=pe(ae);it<=Ht&&(ge.totalDist+=it,ge.distCount++),(Ze=ae.defenses)!=null&&Ze[0]&&(ge.dodges+=ae.defenses[0].dodgeCount||0,ge.downs+=ae.defenses[0].downCount||0,ge.deaths+=ae.defenses[0].deadCount||0),Z.durationMS&&(ge.totalFightMs+=Z.durationMS);const wt=Array.isArray(ae.activeTimes)&&typeof ae.activeTimes[0]=="number"?ae.activeTimes[0]:Z.durationMS||0;ge.squadActiveMs+=wt;const Zt=qa(Z,T),vn=Number((Z==null?void 0:Z.durationMS)||0);Zt>0&&((ge.firstSeenFightTs<=0||Zt<ge.firstSeenFightTs)&&(ge.firstSeenFightTs=Zt),ge.lastSeenFightTs<=0||Zt>ge.lastSeenFightTs?(ge.lastSeenFightTs=Zt,ge.lastSeenFightDurationMs=vn):Zt===ge.lastSeenFightTs&&vn>ge.lastSeenFightDurationMs&&(ge.lastSeenFightDurationMs=vn)),ge.defenseActiveMs+=wt,ge.supportActiveMs+=wt,ge.healingActiveMs+=wt,Array.isArray(ae.buffUptimes)&&ae.buffUptimes.length>0&&ae.buffUptimes.forEach(Ae=>{var Ke,mt,Ct,pn,kn,Sn;if(typeof(Ae==null?void 0:Ae.id)!="number")return;const Qn=`b${Ae.id}`,mn=((Ke=Z.buffMap)==null?void 0:Ke[Qn])||((mt=Z.buffMap)==null?void 0:mt[String(Ae.id)]);if(!mn||N(mn))return;const gr=Number(((pn=(Ct=Ae.buffData)==null?void 0:Ct[0])==null?void 0:pn.uptime)??0),Ds=Number(((Sn=(kn=Ae.buffData)==null?void 0:kn[0])==null?void 0:Sn.presence)??0);if((!Number.isFinite(gr)||gr<=0)&&(!Number.isFinite(Ds)||Ds<=0))return;const ko=(mn==null?void 0:mn.stacking)??!1,oi=(ko?Number.isFinite(gr)?gr:0:Number.isFinite(gr)?gr/100:0)*wt,Bp=ko?Ds:gr,sa=Math.min(Math.max(Number.isFinite(Bp)?Bp:0,0),100)/100*wt,ga=Number.isFinite(oi)&&oi>0,Os=Number.isFinite(sa)&&sa>0;if(!ga&&!Os)return;const za=Wc(mn==null?void 0:mn.name);if(za&&YB.has(za)&&(!(mn!=null&&mn.classification)||mn.classification==="Condition")){const Is=oi/1e3,Va=mn==null?void 0:mn.icon,Pl=Q[za]||{name:za,icon:Va,applications:0,damage:0};Pl.applicationsFromUptime=(Pl.applicationsFromUptime||0)+Is,!Pl.icon&&Va&&(Pl.icon=Va),Q[za]=Pl;const ya=ge.outgoingConditions[za]||{applications:0,damage:0,skills:{},icon:Va};ya.applicationsFromUptime=(ya.applicationsFromUptime||0)+Is,!ya.icon&&Va&&(ya.icon=Va),ge.outgoingConditions[za]=ya;const Tl=Y[za]||{name:za,icon:Va,applications:0,damage:0};Tl.applicationsFromUptime=(Tl.applicationsFromUptime||0)+Is,!Tl.icon&&Va&&(Tl.icon=Va),Y[za]=Tl;const So=ge.incomingConditions[za]||{applications:0,damage:0,skills:{},icon:Va};So.applicationsFromUptime=(So.applicationsFromUptime||0)+Is,!So.icon&&Va&&(So.icon=Va),ge.incomingConditions[za]=So}K.has(Qn)||K.set(Qn,{name:mn==null?void 0:mn.name,stacking:ko,icon:mn==null?void 0:mn.icon}),I.has(Qn)||I.set(Qn,new Map);const zp=I.get(Qn),Ua=ge.account||ae.account||ae.name||"Unknown";let Ci=zp.get(Ua);Ci||(Ci={account:Ua,profession:ge.profession||ae.profession||"Unknown",professions:new Set,professionTimeMs:{},totalMs:0,uptimeMs:0,durationMs:0},zp.set(Ua,Ci));const Ki=ae.profession||ge.profession;Ki&&Ki!=="Unknown"&&(Ci.professions.add(Ki),Ci.professionTimeMs[Ki]=(Ci.professionTimeMs[Ki]||0)+wt,Ci.profession=Ki),Ci.totalMs+=ga?oi:0,Ci.uptimeMs+=Os?sa:0,Ci.durationMs+=wt}),(At=ae.defenses)!=null&&At[0]&&ZT.forEach(Ae=>{const Ke=Number(ae.defenses[0][Ae.field]??0);Number.isFinite(Ke)&&(ge.defenseTotals[Ae.id]=(ge.defenseTotals[Ae.id]||0)+Ke)}),(Te=ae.support)!=null&&Te[0]&&QT.forEach(Ae=>{let Ke=Number(ae.support[0][Ae.field]??0);Number.isFinite(Ke)&&(E.has(Ae.field)&&Ke>999999&&(Ke=0),ge.supportTotals[Ae.id]=(ge.supportTotals[Ae.id]||0)+Ke)});const In=(Ae,Ke)=>{Number.isFinite(Ke)&&(ge.healingTotals[Ae]=(ge.healingTotals[Ae]||0)+Ke)},Jr=(Ae,Ke)=>Array.isArray(Ae)?Ae.reduce((mt,Ct)=>mt+Number((Ct==null?void 0:Ct[Ke])??0),0):0,vo=(Ae,Ke,mt)=>{if(!Number.isFinite(mt)||mt<=0)return;const Ct=Ne[Ke],pn=Ke===_e,kn=Ct==null?void 0:Ct.notInSquad,Sn=!kn,Qn=Sn&&(Ct==null?void 0:Ct.group)!=null&&Ct.group===ae.group;In(Ae,mt),Sn&&In(`squad${Ae[0].toUpperCase()}${Ae.slice(1)}`,mt),Qn&&In(`group${Ae[0].toUpperCase()}${Ae.slice(1)}`,mt),pn&&In(`self${Ae[0].toUpperCase()}${Ae.slice(1)}`,mt),kn&&In(`offSquad${Ae[0].toUpperCase()}${Ae.slice(1)}`,mt)};if(Array.isArray(ae.rotation)){let Ae=0;ae.rotation.forEach(Ke=>{var mt;if(!(Ke!=null&&Ke.id)||!ez(Ke.id,Z.skillMap))return;const Ct=((mt=Ke.skills)==null?void 0:mt.length)||0;Ct>0&&(Ae+=Ct,In(`resUtility_s${Ke.id}`,Ct))}),Ae>0&&In("resUtility",Ae)}const Ho=(Le=ae.extHealingStats)==null?void 0:Le.outgoingHealingAllies;Array.isArray(Ho)&&Ho.forEach((Ae,Ke)=>{const mt=Jr(Ae,"healing"),Ct=Jr(Ae,"downedHealing");vo("healing",Ke,mt),vo("downedHealing",Ke,Ct)});const Si=(gt=ae.extBarrierStats)==null?void 0:gt.outgoingBarrierAllies;Array.isArray(Si)&&Si.forEach((Ae,Ke)=>{const mt=Jr(Ae,"barrier");vo("barrier",Ke,mt)});const bo=(Ve=ae.statsAll)==null?void 0:Ve[0],xo=(Lt=ae.dpsAll)==null?void 0:Lt[0],id=(It=ae.support)==null?void 0:It[0];if(XT.forEach(Ae=>{if(Ae.id==="downContributionPercent"||!Ae.field)return;let Ke=0,mt=0;Ae.source==="dpsAll"&&xo?Ke=Number(xo[Ae.field]??0):Ae.source==="statsAll"&&bo?(Ke=Number(bo[Ae.field]??0),mt=Number(bo[Ae.denomField||Ae.weightField||"connectedDamageCount"]??0)):Ae.source==="support"&&id?Ke=Number(id[Ae.field]??0):ae.statsTargets&&ae.statsTargets.forEach(Ct=>{Ct!=null&&Ct[0]&&(Ke+=Number(Ct[0][Ae.field]??0),mt+=Number(Ct[0][Ae.denomField||Ae.weightField||"connectedDamageCount"]??0))}),Number.isFinite(Ke)&&(ge.offenseTotals[Ae.id]=(ge.offenseTotals[Ae.id]||0)+Ke,Ae.isRate&&mt>0&&(ge.offenseRateWeights[Ae.id]=(ge.offenseRateWeights[Ae.id]||0)+mt))}),ae.targetDamageDist&&Number.isFinite(et)){const Ae=ae.targetDamageDist.flatMap(Ke=>Ke||[]).flatMap(Ke=>Ke||[]).reduce((Ke,mt)=>mt!=null&&mt.id&&mt.id===et?Ke+((mt==null?void 0:mt.connectedHits)||0):Ke,0);ge.offenseTotals.battleStandardHits=(ge.offenseTotals.battleStandardHits||0)+Ae}ge.revives+=((at=(Bt=ae.support)==null?void 0:Bt[0])==null?void 0:at.resurrects)||0,xo&&(ge.damage+=xo.damage||0,ge.dps+=xo.dps||0);const Ni=Ae=>{var Ke,mt,Ct,pn;let kn=`Skill ${Ae.id}`;const Sn=((Ke=Z.skillMap)==null?void 0:Ke[`s${Ae.id}`])||((mt=Z.skillMap)==null?void 0:mt[`${Ae.id}`]);let Qn=Sn==null?void 0:Sn.icon;if(Sn!=null&&Sn.name&&(kn=Sn.name),kn.startsWith("Skill ")){const mn=qm(kn,Ae.id,Z.buffMap);mn&&(kn=mn,Qn=((pn=(Ct=Z.buffMap)==null?void 0:Ct[`b${Ae.id}`])==null?void 0:pn.icon)||Qn)}return{name:kn,icon:Qn}},Wo=Ae=>{if(!(Ae!=null&&Ae.id))return;const{name:Ke,icon:mt}=Ni(Ae);_[Ae.id]||(_[Ae.id]={name:Ke,icon:mt,damage:0,hits:0,downContribution:0}),_[Ae.id].name.startsWith("Skill ")&&!Ke.startsWith("Skill ")&&(_[Ae.id].name=Ke),!_[Ae.id].icon&&mt&&(_[Ae.id].icon=mt),_[Ae.id].damage+=Ae.totalDamage,_[Ae.id].hits+=Ae.connectedHits,_[Ae.id].downContribution+=Number(Ae.downContribution||0)},od=ae.account||ae.name||"Unknown",El=ae.profession||"Unknown",sd=`${od}|${El}`;let wo=J.get(sd);wo||(wo={key:sd,account:od,displayName:od,profession:El,professionList:[El],totalFightMs:0,skills:new Map},J.set(sd,wo)),wo.professionList.includes(El)||wo.professionList.push(El),wo.totalFightMs+=Z.durationMS||0;const ji=Ae=>{if(!(Ae!=null&&Ae.id))return;const{name:Ke,icon:mt}=Ni(Ae),Ct=`s${Ae.id}`;let pn=wo.skills.get(Ct);pn||(pn={id:Ct,name:Ke,icon:mt,damage:0,downContribution:0},wo.skills.set(Ct,pn)),pn.name.startsWith("Skill ")&&!Ke.startsWith("Skill ")&&(pn.name=Ke),!pn.icon&&mt&&(pn.icon=mt),pn.damage+=Number(Ae.totalDamage||0),pn.downContribution+=Number(Ae.downContribution||0)};if(p==="total")(zt=ae.totalDamageDist)==null||zt.forEach(Ae=>{Ae==null||Ae.forEach(Ke=>{Wo(Ke),ji(Ke)})});else{const Ae=new Map;(yt=ae.targetDamageDist)==null||yt.forEach(Ke=>{Ke==null||Ke.forEach(mt=>{mt==null||mt.forEach(Ct=>{const pn=Number(Ct==null?void 0:Ct.id);if(Number.isFinite(pn)){const kn=Ae.get(pn)||{damage:0,hits:0,downContribution:0};kn.damage+=Number((Ct==null?void 0:Ct.totalDamage)||0),kn.hits+=Number((Ct==null?void 0:Ct.connectedHits)||0),kn.downContribution+=Number((Ct==null?void 0:Ct.downContribution)||0),Ae.set(pn,kn)}Wo(Ct),ji(Ct)})})}),!(Z!=null&&Z.detailedWvW)&&((rn=ae.totalDamageDist)==null||rn.forEach(Ke=>{Ke==null||Ke.forEach(mt=>{const Ct=Number(mt==null?void 0:mt.id);if(!Number.isFinite(Ct))return;const pn=Ae.get(Ct);if(!pn){Wo(mt),ji(mt);return}const kn=Number((mt==null?void 0:mt.totalDamage)||0),Sn=Number((mt==null?void 0:mt.connectedHits)||0),Qn=Number((mt==null?void 0:mt.downContribution)||0),mn=kn-Number(pn.damage||0),gr=Sn-Number(pn.hits||0),Ds=Qn-Number(pn.downContribution||0);if(mn<=0&&gr<=0&&Ds<=0)return;const ko={...mt,totalDamage:Math.max(0,mn),connectedHits:Math.max(0,gr),downContribution:Math.max(0,Ds)};Wo(ko),ji(ko)})}))}ae.totalDamageTaken&&ae.totalDamageTaken.forEach(Ae=>{Ae==null||Ae.forEach(Ke=>{var mt,Ct,pn,kn;if(!(Ke!=null&&Ke.id))return;let Sn=`Skill ${Ke.id}`;const Qn=((mt=Z.skillMap)==null?void 0:mt[`s${Ke.id}`])||((Ct=Z.skillMap)==null?void 0:Ct[`${Ke.id}`]);let mn=Qn==null?void 0:Qn.icon;if(Qn!=null&&Qn.name&&(Sn=Qn.name),Sn.startsWith("Skill ")){const gr=qm(Sn,Ke.id,Z.buffMap);gr&&(Sn=gr,mn=((kn=(pn=Z.buffMap)==null?void 0:pn[`b${Ke.id}`])==null?void 0:kn.icon)||mn)}D[Ke.id]||(D[Ke.id]={name:Sn,icon:mn,damage:0,hits:0}),(!D[Ke.id].name.startsWith("Skill ")||Sn.startsWith("Skill "))&&(D[Ke.id].name=Sn),!D[Ke.id].icon&&mn&&(D[Ke.id].icon=mn),D[Ke.id].damage+=Ke.totalDamage,D[Ke.id].hits+=Ke.hits})})}),Ie.forEach(ae=>{if(ae!=null&&ae.isFake)return;const _e=A((ae==null?void 0:ae.profession)||(ae==null?void 0:ae.name)||(ae==null?void 0:ae.id));_e&&(fe[_e]=(fe[_e]||0)+1)});const nt=H8({players:Ne,targets:Ie,skillMap:Z.skillMap,buffMap:Z.buffMap,getPlayerKey:ae=>ae.account&&ae.account!=="Unknown"?ae.account:ae.name||null}),qt=kD(Z.buffMap);Object.entries(nt.playerConditions).forEach(([ae,_e])=>{const Ze=$.get(ae);Ze&&Object.entries(_e).forEach(([At,Te])=>{const Le=Ze.outgoingConditions[At]||{applications:0,damage:0,skills:{},icon:Te.icon};Le.applications+=Number(Te.applications||0),Le.damage+=Number(Te.damage||0),Te.applicationsFromBuffs&&(Le.applicationsFromBuffs=(Le.applicationsFromBuffs||0)+Te.applicationsFromBuffs),Te.applicationsFromBuffsActive&&(Le.applicationsFromBuffsActive=(Le.applicationsFromBuffsActive||0)+Te.applicationsFromBuffsActive),Object.entries(Te.skills||{}).forEach(([gt,Ve])=>{const Lt=Le.skills[gt]||{name:Ve.name,hits:0,damage:0,icon:Ve.icon};Lt.hits+=Number(Ve.hits||0),Lt.damage+=Number(Ve.damage||0),!Lt.icon&&Ve.icon&&(Lt.icon=Ve.icon),Le.skills[gt]=Lt}),!Le.icon&&Te.icon&&(Le.icon=Te.icon),Ze.outgoingConditions[At]=Le})}),Object.entries(nt.summary).forEach(([ae,_e])=>{const Ze=Q[ae]||{name:_e.name||ae,icon:_e.icon,applications:0,damage:0};Ze.applications+=Number(_e.applications||0),Ze.damage+=Number(_e.damage||0),_e.applicationsFromBuffs&&(Ze.applicationsFromBuffs=(Ze.applicationsFromBuffs||0)+_e.applicationsFromBuffs),_e.applicationsFromBuffsActive&&(Ze.applicationsFromBuffsActive=(Ze.applicationsFromBuffsActive||0)+_e.applicationsFromBuffsActive),!Ze.icon&&_e.icon&&(Ze.icon=_e.icon),Q[ae]=Ze}),Ee.forEach(ae=>{const _e=ae.account&&ae.account!=="Unknown"?ae.account:ae.name||"Unknown",Ze=$.get(_e);!Ze||!ae.totalDamageTaken||ae.totalDamageTaken.forEach(At=>At==null?void 0:At.forEach(Te=>{var Le,gt,Ve,Lt,It,Bt;if(!(Te!=null&&Te.id))return;let at=`Skill ${Te.id}`;const zt=((Le=Z.skillMap)==null?void 0:Le[`s${Te.id}`])||((gt=Z.skillMap)==null?void 0:gt[`${Te.id}`]);zt!=null&&zt.name&&(at=zt.name);const yt=qm(at,Te.id,Z.buffMap);if(!yt)return;const rn=(Lt=(Ve=Z.buffMap)==null?void 0:Ve[`b${Te.id}`])==null?void 0:Lt.name,Ft=qt.get(yt)||((Bt=(It=Z.buffMap)==null?void 0:It[`b${Te.id}`])==null?void 0:Bt.icon),Mt=(zt==null?void 0:zt.icon)||Ft;at.startsWith("Skill ")&&(rn||yt)&&(at=rn||yt);const Oe=Number(Te.hits??0),ge=Number(Te.totalDamage??0),it=Y[yt]||{name:yt,icon:Ft,applications:0,damage:0};it.applications+=Number.isFinite(Oe)?Oe:0,it.damage+=Number.isFinite(ge)?ge:0,!it.icon&&Ft&&(it.icon=Ft),Y[yt]=it;const wt=Ze.incomingConditions[yt]||{applications:0,damage:0,skills:{},icon:Ft};wt.applications+=Number.isFinite(Oe)?Oe:0,wt.damage+=Number.isFinite(ge)?ge:0;const Zt=wt.skills[at]||{name:at,hits:0,damage:0,icon:Mt};Zt.hits+=Number.isFinite(Oe)?Oe:0,Zt.damage+=Number.isFinite(ge)?ge:0,!Zt.icon&&Mt&&(Zt.icon=Mt),wt.skills[at]=Zt,!wt.icon&&Ft&&(wt.icon=Ft),Ze.incomingConditions[yt]=wt}))});const wn=Z.player_damage_mitigation||Z.playerDamageMitigation,Rt=wn&&typeof wn=="object"&&Object.keys(wn).length>0;Rt&&Object.entries(wn).forEach(([ae,_e])=>{if(!_e||typeof _e!="object")return;const Ze=X(ae),At=O(B,Ze.account,Ze);Object.values(_e).forEach(Te=>{H((Te==null?void 0:Te.avoided_damage)??(Te==null?void 0:Te.avoidedDamage))<=0||me(At.mitigationTotals,Te)})});const Zn=Z.player_minion_damage_mitigation||Z.playerMinionDamageMitigation,Ut=Zn&&typeof Zn=="object"&&Object.keys(Zn).length>0;Ut&&Object.entries(Zn).forEach(([ae,_e])=>{if(!_e||typeof _e!="object")return;const Ze=X(ae);Object.entries(_e).forEach(([At,Te])=>{if(!Te||typeof Te!="object")return;const Le=`${Ze.account}::${At}`,gt=ee(G,Le,{...Ze,minion:String(At||"Unknown")});Object.values(Te).forEach(Ve=>{me(gt.mitigationTotals,Ve)})})}),(!Rt||!Ut)&&(Rt||Ee.forEach(ae=>{const _e=(ae==null?void 0:ae.totalDamageTaken)||[];if(!Array.isArray(_e)||_e.length===0)return;const Ze=ae.account||ae.name||"Unknown",At={account:Ze,name:ae.name||Ze,profession:A(ae.profession||"Unknown")};O(B,Ze,At);const Te=Z.skillMap||{},Le=Z.buffMap||{},gt=Array.isArray(_e)?_e[0]:null;if(gt==null||gt.forEach(Ve=>{if(!(Ve!=null&&Ve.id))return;const Lt=H(Ve.blocked),It=H(Ve.evaded),Bt=H(Ve.glance??Ve.glanced),at=H(Ve.missed),zt=H(Ve.invulned),yt=H(Ve.interrupted),rn=H(Ve.hits??Ve.connectedHits),Ft=Number(Ve.id),Mt=ne(Ft,Te,Le);if(En(ct,`${Ze}::${Ft}`,{totalHits:rn,blocked:Lt,evaded:It,glanced:Bt,missed:at,invulned:zt,interrupted:yt}),Ze===oe){const Oe=z.get(Ft),ge=F(Ft),it=ge.hasSkill?ge.hits>0?ge.avg:0:1,wt=ge.hasSkill?ge.min||0:1,Zt=ge.hits>0?Bt*it/2+(Lt+It+at+zt+yt)*it:0,vn=ge.hits>0?Bt*wt/2+(Lt+It+at+zt+yt)*wt:0;qe.push({logId:T.filePath||T.id||U,skillId:Ve.id,skillName:Mt,blocked:Lt,evaded:It,glanced:Bt,missed:at,invulned:zt,interrupted:yt,totalAvoids:Lt+It+Bt+at+zt+yt,avg:it,min:wt,enemyHits:(Oe==null?void 0:Oe.connectedHits)??0,enemyTotalDmg:(Oe==null?void 0:Oe.totalDamage)??0,avoidDmg:Zt,avoidMinDmg:vn})}}),Ze===oe){const Ve=(Lt,It)=>{let Bt=0,at=0,zt=0;if(!Array.isArray(Lt))return{total:Bt,minTotal:at,hits:zt};for(const yt of Lt){if(!(yt!=null&&yt.id))continue;const rn=H(yt.blocked),Ft=H(yt.evaded),Mt=H(yt.glance??yt.glanced),Oe=H(yt.missed),ge=H(yt.invulned),it=H(yt.interrupted),wt=ne(Number(yt.id),ut,bt),Zt=It(Number(yt.id),wt);(Zt.hits??0)>0&&(Bt+=Mt*Zt.avg/2+(rn+Ft+Oe+ge+it)*Zt.avg,at+=Mt*Zt.min/2+(rn+Ft+Oe+ge+it)*Zt.min),zt+=H(yt.hits??yt.connectedHits)}return{total:Bt,minTotal:at,hits:zt}};Pe.push({logId:T.filePath||T.id||U,variant:"current_global_name_taken0",...Ve(gt,(Lt,It)=>{const Bt=F(Lt),at=Bt.hasSkill?Bt.hits>0?Bt.avg:0:1,zt=Bt.hasSkill?Bt.min||0:1;return{avg:at,min:zt,hits:Bt.hits}})})}}),Ut||Ee.forEach(ae=>{const _e=(ae==null?void 0:ae.minions)||[];if(!Array.isArray(_e)||_e.length===0)return;const Ze=ae.account||ae.name||"Unknown",At={account:Ze,name:ae.name||Ze,profession:A(ae.profession||"Unknown")},Te=Z.skillMap||{},Le=Z.buffMap||{};_e.forEach(gt=>{const Ve=(gt==null?void 0:gt.totalDamageTakenDist)||[];if(!Array.isArray(Ve)||Ve.length===0)return;let Lt=String((gt==null?void 0:gt.name)||"Unknown").replace(/^Juvenile\s+/i,"")||"Unknown";Lt.toUpperCase().includes("UNKNOWN")&&(Lt="Unknown");const It=`${Ze}::${Lt}`;ee(G,It,{...At,minion:Lt});const Bt=Array.isArray(Ve)?Ve[0]:null;if(Bt==null||Bt.forEach(at=>{if(!(at!=null&&at.id))return;const zt=H(at.blocked),yt=H(at.evaded),rn=H(at.glance??at.glanced),Ft=H(at.missed),Mt=H(at.invulned),Oe=H(at.interrupted),ge=H(at.hits??at.connectedHits),it=Number(at.id),wt=ne(it,Te,Le);if(En(en,`${It}::${it}`,{totalHits:ge,blocked:zt,evaded:yt,glanced:rn,missed:Ft,invulned:Mt,interrupted:Oe}),Ze===oe&&Lt===ye){const Zt=z.get(it),vn=F(it),In=vn.hasSkill?vn.hits>0?vn.avg:0:1,Jr=vn.hasSkill?vn.min||0:1,vo=vn.hits>0?rn*In/2+(zt+yt+Ft+Mt+Oe)*In:0,Ho=vn.hits>0?rn*Jr/2+(zt+yt+Ft+Mt+Oe)*Jr:0;Qe.push({logId:T.filePath||T.id||U,skillId:at.id,skillName:wt,blocked:zt,evaded:yt,glanced:rn,missed:Ft,invulned:Mt,interrupted:Oe,totalAvoids:zt+yt+rn+Ft+Mt+Oe,avg:In,min:Jr,enemyHits:(Zt==null?void 0:Zt.connectedHits)??0,enemyTotalDmg:(Zt==null?void 0:Zt.totalDamage)??0,avoidDmg:vo,avoidMinDmg:Ho})}}),Ze===oe&&Lt===ye){const at=(Ft,Mt)=>{let Oe=0,ge=0,it=0;if(!Array.isArray(Ft))return{total:Oe,minTotal:ge,hits:it};for(const wt of Ft){if(!(wt!=null&&wt.id))continue;const Zt=H(wt.blocked),vn=H(wt.evaded),In=H(wt.glance??wt.glanced),Jr=H(wt.missed),vo=H(wt.invulned),Ho=H(wt.interrupted),Si=ne(Number(wt.id),ut,bt),{avg:bo,min:xo}=Mt(Number(wt.id),Si);H(wt.hits??wt.connectedHits)>0&&(Oe+=In*bo/2+(Zt+vn+Jr+vo+Ho)*bo,ge+=In*xo/2+(Zt+vn+Jr+vo+Ho)*xo),it+=H(wt.hits??wt.connectedHits)}return{total:Oe,minTotal:ge,hits:it}},zt=Array.isArray(Ve)?Ve[0]||[]:[],yt=Array.isArray(Ve)?Ve.flat():[],rn=Array.isArray(gt==null?void 0:gt.totalDamageTaken)?gt.totalDamageTaken[0]||[]:[];le.push({logId:T.filePath||T.id||U,variant:"current_global_name_dist0",...at(zt,(Ft,Mt)=>{const Oe=F(Ft),ge=Oe.hasSkill?Oe.hits>0?Oe.avg:0:1,it=Oe.hasSkill&&Oe.min||0;return{avg:ge,min:it}})}),le.push({logId:T.filePath||T.id||U,variant:"local_name_dist0",...at(zt,(Ft,Mt)=>On(Mt))}),le.push({logId:T.filePath||T.id||U,variant:"local_id_dist0",...at(zt,Ft=>jn(Ft))}),le.push({logId:T.filePath||T.id||U,variant:"global_name_alllists",...at(yt,(Ft,Mt)=>{const Oe=F(Ft),ge=Oe.hasSkill?Oe.hits>0?Oe.avg:0:1,it=Oe.hasSkill&&Oe.min||0;return{avg:ge,min:it}})}),le.push({logId:T.filePath||T.id||U,variant:"global_name_taken0",...at(rn,(Ft,Mt)=>{const Oe=F(Ft),ge=Oe.hasSkill?Oe.hits>0?Oe.avg:0:1,it=Oe.hasSkill&&Oe.min||0;return{avg:ge,min:it}})})}})}))}),Qe.length>0&&(console.groupCollapsed("[Mitigation Debug] Ashtonlightstone.9145 / Illusionary Warden"),console.table(Qe),le.length>0&&console.table(le),console.groupEnd()),qe.length>0&&(console.groupCollapsed("[Mitigation Debug] Ashtonlightstone.9145 / Player"),console.table(qe),Pe.length>0&&console.table(Pe),console.groupEnd());const Br=(T,U)=>{const re=new Map,Ce=Z=>{let Ne=re.get(Z);return Ne||(Ne=V(),re.set(Z,Ne)),Ne};U.forEach((Z,Ne)=>{const Ie=Ne.lastIndexOf("::"),ut=Ie>-1?Ne.slice(0,Ie):Ne,bt=Ie>-1?Number(Ne.slice(Ie+2)):Number.NaN,ht=Number.isFinite(bt)?F(bt):{hasSkill:!1,avg:0,min:0,hits:0};if(!ht.hasSkill||ht.hits<=0)return;const Vt=ht.avg,jn=ht.min,On=Z.glanced*Vt/2+(Z.blocked+Z.evaded+Z.missed+Z.invulned+Z.interrupted)*Vt,Ye=Z.glanced*jn/2+(Z.blocked+Z.evaded+Z.missed+Z.invulned+Z.interrupted)*jn;if(On<=0)return;const Ge=Ce(ut);Ge.totalHits+=Z.totalHits,Ge.blocked+=Z.blocked,Ge.evaded+=Z.evaded,Ge.glanced+=Z.glanced,Ge.missed+=Z.missed,Ge.invulned+=Z.invulned,Ge.interrupted+=Z.interrupted,Ge.totalMitigation+=On,Ge.minMitigation+=Ye}),T.forEach((Z,Ne)=>{const Ie=re.get(Ne)||V();Z.mitigationTotals.totalHits=Ie.totalHits,Z.mitigationTotals.blocked=Ie.blocked,Z.mitigationTotals.evaded=Ie.evaded,Z.mitigationTotals.glanced=Ie.glanced,Z.mitigationTotals.missed=Ie.missed,Z.mitigationTotals.invulned=Ie.invulned,Z.mitigationTotals.interrupted=Ie.interrupted,Z.mitigationTotals.totalMitigation=Ie.totalMitigation,Z.mitigationTotals.minMitigation=Ie.minMitigation})};Br(B,ct),Br(G,en);const ue=h>0?Math.round(g/h):0,De=h>0?Math.round(b/h):0,dt=w>0?(S/w).toFixed(2):S>0?"":"0.00",tn=C>0?(j/C).toFixed(2):j>0?"":"0.00",fn=(T,U)=>{const re=T.filter(Ne=>Number.isFinite(Ne.value)&&(U?Ne.value>0:Ne.value>=0)).sort((Ne,Ie)=>{const ut=U?Ie.value-Ne.value:Ne.value-Ie.value;return ut!==0?ut:Ne.account.localeCompare(Ie.account)});let Ce=null,Z=0;return re.map((Ne,Ie)=>((Ce===null||Ne.value!==Ce)&&(Z=Ie+1,Ce=Ne.value),{rank:Z,...Ne}))},Sr=Array.from($.values()).map(T=>{const U=Array.from(T.professions).filter(re=>re!=="Unknown");if(T.professionList=U,U.length>0){let re=U[0],Ce=T.professionTimeMs[re]||0;U.forEach(Z=>{const Ne=T.professionTimeMs[Z]||0;Ne>Ce&&(Ce=Ne,re=Z)}),T.profession=re}return{key:T.account,stat:T}}),sr=T=>{const U=$.get(T.account);if(!U){const Z=T.professionList.length>0?T.professionList:T.profession?[T.profession]:[];return{...T,professionList:Z}}const re=U.professionList&&U.professionList.length>0?U.professionList:Array.from(U.professions||[]).filter(Z=>Z&&Z!=="Unknown"),Ce=U.profession||T.profession;return{...T,profession:Ce,professionList:re.length>0?re:Ce?[Ce]:[],activeMs:U.defenseActiveMs||U.totalFightMs||T.activeMs}},Hn=Array.from(B.values()).map(sr).filter(T=>L(T.mitigationTotals)).sort((T,U)=>T.account.localeCompare(U.account)),zr=Array.from(G.values()).map(sr).filter(T=>T.mitigationTotals.totalMitigation>0).sort((T,U)=>{const re=T.account.localeCompare(U.account);return re!==0?re:String(T.minion||"").localeCompare(String(U.minion||""))}),Qr=(T,U)=>{switch(U){case"downContrib":return T.downContrib;case"barrier":return T.barrier;case"healing":return T.healing;case"dodges":return T.dodges;case"strips":return T.strips;case"cleanses":return T.cleanses;case"cc":return T.cc;case"stability":return T.stab;case"revives":return T.revives;case"dps":return T.dps;case"damage":return T.damage;case"participation":return T.logsJoined;case"closestToTag":return!T.isCommander&&T.distCount>0?T.totalDist/T.distCount:Number.POSITIVE_INFINITY;default:return 0}},yn=(T,U)=>fn(Sr.map(({stat:re})=>({account:re.account,profession:re.profession,professionList:re.professionList,value:Qr(re,T),count:re.logsJoined})),U),sn={downContrib:yn("downContrib",!0),barrier:yn("barrier",!0),healing:yn("healing",!0),dodges:yn("dodges",!0),strips:yn("strips",!0),cleanses:yn("cleanses",!0),cc:yn("cc",!0),stability:yn("stability",!0),revives:yn("revives",!0),participation:yn("participation",!0),dps:yn("dps",!0),damage:yn("damage",!0),closestToTag:yn("closestToTag",!1).filter(T=>Number.isFinite(T.value))},ha={downContrib:"downContrib",barrier:"barrier",healing:"healing",dodges:"dodges",strips:"strips",cleanses:"cleanses",cc:"cc",stability:"stability",closestToTag:"closestToTag"},nn=T=>{const U=T==null?void 0:T[0];return{value:(U==null?void 0:U.value)??0,player:(U==null?void 0:U.account)??"-",count:(U==null?void 0:U.count)??0,profession:(U==null?void 0:U.profession)??"Unknown",professionList:(U==null?void 0:U.professionList)??[]}},Pr={maxDownContrib:nn([]),maxBarrier:nn([]),maxHealing:nn([]),maxDodges:nn([]),maxStrips:nn([]),maxCleanses:nn([]),maxCC:nn([]),maxStab:nn([]),closestToTag:nn([])},Ur={},ad=(T,U)=>{if(U==="closestToTag")return Qr(T,U);const re=Math.max(1,(T.totalFightMs||0)/1e3);return Qr(T,U)/re};Object.values(ha).forEach(T=>{const U=T!=="closestToTag";Ur[T]=fn(Sr.map(({stat:re})=>({account:re.account,profession:re.profession,professionList:re.professionList,value:ad(re,T),count:re.logsJoined})),U)}),Pr.maxDownContrib=nn(Ur.downContrib),Pr.maxBarrier=nn(Ur.barrier),Pr.maxHealing=nn(Ur.healing),Pr.maxDodges=nn(Ur.dodges),Pr.maxStrips=nn(Ur.strips),Pr.maxCleanses=nn(Ur.cleanses),Pr.maxCC=nn(Ur.cc),Pr.maxStab=nn(Ur.stability),Pr.closestToTag=nn(Ur.closestToTag);const Oc={maxDownContrib:nn(sn.downContrib),maxBarrier:nn(sn.barrier),maxHealing:nn(sn.healing),maxDodges:nn(sn.dodges),maxStrips:nn(sn.strips),maxCleanses:nn(sn.cleanses),maxCC:nn(sn.cc),maxStab:nn(sn.stability),closestToTag:nn(sn.closestToTag)};let Cl={player:"None",account:"None",score:-1,profession:"Unknown",professionList:[],color:"#64748b",topStats:[]},Ts,Ml,Vo=0;if(o!=null&&o.showMvp){const T={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},U=Ne=>{const Ie=T[Ne];return Ie?Number(s[Ie]||0)>0:!1},re=[],Ce=Ne=>[...Ne||[]].filter(Ie=>U(Ie==null?void 0:Ie.name)).sort((Ie,ut)=>ut.ratio-Ie.ratio||Ie.rank-ut.rank||Ie.name.localeCompare(ut.name)).slice(0,3),Z=Ne=>{var Ie;if(!Ne)return;const ut=Ce(Ne.contribs);return{...Ne,player:Ne.name,reason:((Ie=ut[0])==null?void 0:Ie.name)||"Top Performance",topStats:ut}};Sr.forEach(({stat:Ne})=>{let Ie=0;const ut=[],bt=(ht,Vt,jn,On,Ye=!0)=>{var Ge,pt;if(jn<=0)return;const Ht=((Ge=Vt[0])==null?void 0:Ge.value)||0;if(Ht&&Number.isFinite(ht)&&(Ye?ht>0:ht<Number.POSITIVE_INFINITY)){const Xt=Ye?ht/Ht:Ht/ht;Ie+=Xt*jn;const ve=((pt=Vt.find(je=>je.account===Ne.account))==null?void 0:pt.rank)||0;ut.push({name:On,ratio:Xt,val:ht.toLocaleString(),rank:ve})}};bt(Ne.downContrib,sn.downContrib,s.downContribution,"Down Contribution"),bt(Ne.healing,sn.healing,s.healing,"Healing"),bt(Ne.cleanses,sn.cleanses,s.cleanses,"Cleanses"),bt(Ne.strips,sn.strips,s.strips,"Strips"),bt(Ne.stab,sn.stability,s.stability,"Stability"),bt(Ne.cc,sn.cc,s.cc,"CC"),bt(Ne.revives,sn.revives,s.revives,"Revives"),bt(Qr(Ne,"closestToTag"),sn.closestToTag,s.distanceToTag,"Distance to Tag",!1),bt(Ne.logsJoined,sn.participation,s.participation,"Participation"),bt(Ne.dodges,sn.dodges,s.dodging,"Dodging"),bt(Ne.dps,sn.dps,s.dps,"DPS"),bt(Ne.damage,sn.damage,s.damage,"Damage"),re.push({...Ne,score:Ie,contribs:ut.filter(ht=>U(ht.name))})}),re.sort((Ne,Ie)=>Ie.score-Ne.score),re[0]&&re[0].score>0&&(Cl=Z(re[0])||Cl),Ts=Z(re[1]),Ml=Z(re[2]),Vo=re.length>0?re.reduce((Ne,Ie)=>Ne+Ie.score,0)/re.length:0}const W=Object.values(_).sort((T,U)=>U.damage-T.damage||U.hits-T.hits||String(T.name||"").localeCompare(String(U.name||""))).slice(0,25),ce=Object.values(_).sort((T,U)=>U.downContribution-T.downContribution||U.hits-T.hits||String(T.name||"").localeCompare(String(U.name||""))).slice(0,25),Me=m==="downContribution"?ce:W,Xe=Object.values(D).sort((T,U)=>U.damage-T.damage).slice(0,25),_t=T=>{const U=String(T).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),re=U.match(/^(Red|Blue|Green)\s+(?:Alpine|Desert)?\s*Borderlands$/i);return re?`${re[1]} Borderlands`:U||"Unknown"},jt=(T,U)=>_t((T==null?void 0:T.zone)||(T==null?void 0:T.mapName)||(T==null?void 0:T.map)||(T==null?void 0:T.location)||(T==null?void 0:T.fightName)||(U==null?void 0:U.fightName)||(U==null?void 0:U.encounterName)||"Unknown"),ft=(T,U)=>{const re=(U==null?void 0:U.permalink)||(T==null?void 0:T.permalink);if(typeof re=="string"&&re.trim().length>0)return re.trim();const Ce=T==null?void 0:T.uploadLinks;if(!Array.isArray(Ce))return"";for(const Z of Ce){if(typeof Z=="string"&&Z.trim().length>0)return Z.trim();if(Z&&typeof Z=="object"){const Ne=Z.permalink||Z.link||Z.url||Z.reportLink;if(typeof Ne=="string"&&Ne.trim().length>0)return Ne.trim()}}return""},un={};i.forEach(T=>{const U=jt(T==null?void 0:T.details,T);un[U]=(un[U]||0)+1});const Dn=Object.entries(un).map(([T,U])=>{const re=String(T).trim(),Ce=/eternal battlegrounds|^ebg$/i.test(re);let Z="#64748b";return Ce?Z="#ffffff":/red/i.test(re)?Z="#ef4444":/blue/i.test(re)?Z="#3b82f6":/green/i.test(re)&&(Z="#22c55e"),{name:T,value:U,color:Z}}).sort((T,U)=>U.value-T.value),{boonTables:Nr}=w8(i),Re=i.map((T,U)=>{var re,Ce;const Z=((re=T.details)==null?void 0:re.players)||[];return{index:U+1,label:`Log ${U+1}`,timestamp:qa(T.details,T),squadCount:Z.filter(Ne=>!Ne.notInSquad).length,friendlyCount:Z.length,enemies:((Ce=T.details)==null?void 0:Ce.targets).filter(Ne=>!Ne.isFake).length}}).sort((T,U)=>T.timestamp-U.timestamp),tt={};Array.from($.values()).forEach(T=>{T.profession&&T.profession!=="Unknown"&&(tt[T.profession]=(tt[T.profession]||0)+1)});const Wt=Object.entries(tt).map(([T,U])=>({name:T,value:U,color:ic(T)})).sort((T,U)=>U.value-T.value),Gt={};Object.keys(fe).length===0&&i.forEach(T=>{var U,re;(re=(U=T.details)==null?void 0:U.targets)==null||re.forEach(Ce=>{if(Ce.isFake)return;const Z=Ce.profession&&Ce.profession!=="Unknown"?Ce.profession:Ce.name||Ce.id||"Unknown",Ne=A(Z);Gt[Ne]=(Gt[Ne]||0)+1})});const hr=Object.keys(fe).length>0?fe:Gt,jr=Object.entries(hr).map(([T,U])=>({name:T,value:U,color:ic(T)})).sort((T,U)=>U.value-T.value),Vr=i.map((T,U)=>({log:T,originalIndex:U})).sort((T,U)=>qa(T.log.details,T.log)-qa(U.log.details,U.log)).map(({log:T},U)=>{const re=T.details;if(!re)return null;const Ce=re.players||[],Z=Ce.filter(pe=>!pe.notInSquad),Ne=Ce.filter(pe=>pe.notInSquad),Ie=(re.targets||[]).filter(pe=>!pe.isFake),ut=Z.reduce((pe,Ee)=>{var ke,xt;return pe+(((xt=(ke=Ee.dpsAll)==null?void 0:ke[0])==null?void 0:xt.damage)||0)},0),bt=Z.reduce((pe,Ee)=>{var ke,xt;return pe+(((xt=(ke=Ee.defenses)==null?void 0:ke[0])==null?void 0:xt.damageTaken)||0)},0),{enemyDeaths:ht,enemyDownsDeaths:Vt}=M(re),jn=P(re),On=qa(re,T),Ye=jt(re,T),Ge=pe=>{if(!pe||typeof pe!="object")return;const Ee=pe.teamID??pe.teamId??pe.team??pe.teamColor??pe.team_color;if(Ee!=null)return Ee;const ke=Object.keys(pe).find(xt=>/^team/i.test(xt));return ke?pe[ke]:void 0},pt=(pe,Ee)=>{const ke={};return pe.forEach(xt=>{const et=Ee(xt),nt=A(et);nt&&(ke[nt]=(ke[nt]||0)+1)}),ke},Ht=pt(Z,pe=>(pe==null?void 0:pe.profession)||(pe==null?void 0:pe.name)),Xt=pt(Ne,pe=>(pe==null?void 0:pe.profession)||(pe==null?void 0:pe.name)),ve=pt(Ie,pe=>(pe==null?void 0:pe.profession)||(pe==null?void 0:pe.name)||(pe==null?void 0:pe.id)),je=new Set;Z.forEach(pe=>{const Ee=Ge(pe);Ee!=null&&je.add(String(Ee))});const be=new Map;Ie.forEach(pe=>{if((pe==null?void 0:pe.enemyPlayer)===!1)return;const Ee=Ge(pe);if(Ee==null)return;const ke=String(Ee);je.has(ke)||be.set(ke,(be.get(ke)||0)+1)});const Fe=Array.from(be.entries()).sort((pe,Ee)=>{const ke=Ee[1]-pe[1];return ke!==0?ke:pe[0].localeCompare(Ee[0],void 0,{numeric:!0})}).slice(0,3).map(([pe,Ee])=>({teamId:pe,count:Ee}));return{id:T.filePath||`fight-${U}`,label:T.encounterName||`Fight ${U+1}`,permalink:ft(re,T),timestamp:On,mapName:Ye,duration:BN(re.durationMS),isWin:jn,squadCount:Z.length,allyCount:Ne.length,enemyCount:Ie.length,teamBreakdown:Fe,alliesDown:Z.reduce((pe,Ee)=>{var ke,xt;return pe+(((xt=(ke=Ee.defenses)==null?void 0:ke[0])==null?void 0:xt.downCount)||0)},0),alliesDead:Z.reduce((pe,Ee)=>{var ke,xt;return pe+(((xt=(ke=Ee.defenses)==null?void 0:ke[0])==null?void 0:xt.deadCount)||0)},0),alliesRevived:Z.reduce((pe,Ee)=>{var ke,xt;return Number(((xt=(ke=Ee.statsAll)==null?void 0:ke[0])==null?void 0:xt.saved)||0)>0?pe+1:pe},0),rallies:0,enemyDeaths:ht,enemyDowns:Math.max(0,Vt-ht),totalOutgoingDamage:ut,totalIncomingDamage:bt,incomingBarrierAbsorbed:Z.reduce((pe,Ee)=>{var ke,xt;return pe+(((xt=(ke=Ee.defenses)==null?void 0:ke[0])==null?void 0:xt.damageBarrier)||0)},0),outgoingBarrierAbsorbed:Z.reduce((pe,Ee)=>{var ke;const xt=(ke=Ee.extBarrierStats)==null?void 0:ke.outgoingBarrier;if(!Array.isArray(xt))return pe;let et=0;return xt.forEach(nt=>{if(Array.isArray(nt)){nt.forEach(qt=>{et+=Number((qt==null?void 0:qt.barrier)||0)});return}et+=Number((nt==null?void 0:nt.barrier)||0)}),pe+et},0),squadClassCountsFight:Ht,allyClassCountsFight:Xt,enemyClassCounts:ve}}).filter(Boolean),Al=Array.from($.values()).map(T=>{const U=Object.entries(T.professionTimeMs||{}).map(([re,Ce])=>({profession:re,timeMs:Number(Ce||0)})).filter(re=>re.profession&&re.profession!=="Unknown"&&re.timeMs>0).sort((re,Ce)=>{const Z=Ce.timeMs-re.timeMs;return Z!==0?Z:re.profession.localeCompare(Ce.profession)});return{account:T.account||"Unknown",characterNames:Array.from(T.characterNames||[]).filter(Boolean).sort((re,Ce)=>re.localeCompare(Ce)),classTimes:U,combatTimeMs:Number(T.squadActiveMs||T.totalFightMs||0),squadTimeMs:(()=>{const re=Number(T.firstSeenFightTs||0),Ce=Number(T.lastSeenFightTs||0),Z=Math.max(0,Number(T.lastSeenFightDurationMs||0));return re>0&&Ce>0?Math.max(0,Ce+Z-re):Number(T.squadActiveMs||T.totalFightMs||0)})()}}).filter(T=>T.account&&T.account!=="Unknown").sort((T,U)=>{const re=U.squadTimeMs-T.squadTimeMs;return re!==0?re:String(T.account).localeCompare(String(U.account))}),yy=i.map(T=>T).sort((T,U)=>qa(T.details,T)-qa(U.details,U)).map((T,U)=>{const re=T==null?void 0:T.details,Ce=Array.isArray(re==null?void 0:re.players)?re.players.filter(Ie=>!(Ie!=null&&Ie.notInSquad)):[],Z=new Map;Ce.forEach(Ie=>{const ut=Number(Ie==null?void 0:Ie.group),bt=Number.isFinite(ut)&&ut>0?ut:0;Z.has(bt)||Z.set(bt,{party:bt,players:[],classCounts:{}});const ht=A((Ie==null?void 0:Ie.profession)||(Ie==null?void 0:Ie.name)||"Unknown"),Vt=String((Ie==null?void 0:Ie.account)||"Unknown"),jn=String((Ie==null?void 0:Ie.name)||(Ie==null?void 0:Ie.character_name)||""),On=!!(Ie!=null&&Ie.hasCommanderTag),Ye=Z.get(bt);Ye.players.push({account:Vt,characterName:jn,profession:ht,isCommander:On}),Ye.classCounts[ht]=(Ye.classCounts[ht]||0)+1});const Ne=Array.from(Z.values()).map(Ie=>({...Ie,players:Ie.players.sort((ut,bt)=>{const ht=+!!bt.isCommander-+!!ut.isCommander;if(ht!==0)return ht;const Vt=String(ut.profession).localeCompare(String(bt.profession));return Vt!==0?Vt:String(ut.account).localeCompare(String(bt.account))})})).sort((Ie,ut)=>Ie.party===0&&ut.party!==0?1:ut.party===0&&Ie.party!==0?-1:Ie.party-ut.party);return{id:String((T==null?void 0:T.filePath)||(T==null?void 0:T.id)||`fight-${U+1}`),label:`F${U+1}`,timestamp:qa(re,T),mapName:jt(re,T),duration:BN(Number((re==null?void 0:re.durationMS)||0)),parties:Ne}}),vy=(T,U)=>{const re=(U==null?void 0:U.skillMap)||{},Ce=(U==null?void 0:U.buffMap)||{};let Z=0,Ne="";const Ie=ht=>{const Vt=Number(ht);if(!Number.isFinite(Vt))return String(ht||"Unknown Skill");const jn=(re==null?void 0:re[`s${Vt}`])||(re==null?void 0:re[`${Vt}`]);if(jn!=null&&jn.name)return String(jn.name);const On=(Ce==null?void 0:Ce[`b${Vt}`])||(Ce==null?void 0:Ce[`${Vt}`]);return On!=null&&On.name?String(On.name):`Skill ${Vt}`},ut=ht=>{if(!ht||typeof ht!="object")return;const Vt=[Number(ht.max),Number(ht.maxDamage),Number(ht.maxHit)].filter(On=>Number.isFinite(On)),jn=Vt.length>0?Math.max(...Vt):0;jn>Z&&(Z=jn,Ne=Ie(ht.id))};let bt=!1;return Array.isArray(T==null?void 0:T.targetDamageDist)&&T.targetDamageDist.forEach(ht=>{Array.isArray(ht)&&ht.forEach(Vt=>{Array.isArray(Vt)&&Vt.forEach(jn=>{bt=!0,ut(jn)})})}),(!bt||Z<=0)&&Array.isArray(T==null?void 0:T.totalDamageDist)&&T.totalDamageDist.forEach(ht=>{Array.isArray(ht)&&ht.forEach(Vt=>ut(Vt))}),{peak:Z,skillName:Ne||"Unknown Skill"}},by=(()=>{const T=Ye=>String(Ye||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),U=Ye=>T(Ye).toLowerCase().split(/[^a-z0-9]+/i).map(Ge=>Ge.trim()).filter(Boolean).map(Ge=>Ge.length>3&&Ge.endsWith("s")?Ge.slice(0,-1):Ge),re=(Ye,Ge)=>{const pt=T(Ye),Ht=T(Ge);if(!Ht)return pt;if(!pt)return Ht;const Xt=U(pt),ve=U(Ht),je=new Set(Xt),be=new Set(ve),Fe=ve.length>0&&ve.every(Ee=>je.has(Ee)),pe=Xt.length>0&&Xt.every(Ee=>be.has(Ee));return Fe||pe?pt:`${pt} - ${Ht}`},Ce=[],Z=new Map,Ne=Ye=>{const Ge=be=>{if(!Array.isArray(be)||be.length===0)return[];const Fe=[];for(let pe=0;pe<be.length;pe+=1){const Ee=Number(be[pe]||0),ke=pe>0?Number(be[pe-1]||0):0;Fe.push(Math.max(0,Ee-ke))}return Fe},pt=be=>{if(!Array.isArray(be))return[];const Fe=be.reduce((Ee,ke)=>Math.max(Ee,Array.isArray(ke)?ke.length:0),0);if(Fe<=0)return[];const pe=new Array(Fe).fill(0);return be.forEach(Ee=>{if(Array.isArray(Ee))for(let ke=0;ke<Fe;ke+=1)pe[ke]+=Number(Ee[ke]||0)}),pe},Ht=be=>Array.isArray(be)?be.map(Fe=>Number(Fe||0)):null,Xt=(be=>{if(!Array.isArray(be)||be.length===0)return null;const Fe=be[0];if(!Array.isArray(Fe))return null;if(Array.isArray(Fe[0])&&Array.isArray(Fe[0][0]))return pt(Fe);if(Array.isArray(Fe[0])&&!Array.isArray(Fe[0][0])){const pe=be.map(Ee=>Ht(Array.isArray(Ee)?Ee[0]:null)).filter(Ee=>Array.isArray(Ee)&&Ee.length>0);if(pe.length>0)return pt(pe)}return null})(Ye==null?void 0:Ye.targetDamage1S),ve=Array.isArray(Ye==null?void 0:Ye.damage1S)&&Array.isArray(Ye.damage1S[0])?Ye.damage1S[0]:null,je=Xt||(Array.isArray(ve)?ve.map(be=>Number(be||0)):[]);return Ge(je)},Ie=(Ye,Ge)=>{if(!Array.isArray(Ye)||Ye.length===0||Ge<=0)return 0;let pt=0,Ht=0;for(let Xt=0;Xt<Ye.length;Xt+=1)pt+=Number(Ye[Xt]||0),Xt>=Ge&&(pt-=Number(Ye[Xt-Ge]||0)),Xt>=Ge-1&&pt>Ht&&(Ht=pt);return Math.max(0,Ht)},ut=(Ye,Ge)=>{if(!Array.isArray(Ye)||Ye.length===0||Ge<=0)return[];const pt=[];for(let Ht=0;Ht<Ye.length;Ht+=Ge){const Xt=Math.min(Ht+Ge,Ye.length),ve=Ye.slice(Ht,Xt).reduce((je,be)=>je+Number(be||0),0);pt.push(ve)}return pt},bt=(Ye,Ge)=>{const pt=Number(Ye);if(!Number.isFinite(pt))return{name:String(Ye||"Unknown Skill"),icon:void 0};const Ht=(Ge==null?void 0:Ge.skillMap)||{},Xt=(Ge==null?void 0:Ge.buffMap)||{},ve=(Ht==null?void 0:Ht[`s${pt}`])||(Ht==null?void 0:Ht[`${pt}`]);if(ve!=null&&ve.name)return{name:String(ve.name),icon:ve==null?void 0:ve.icon};const je=(Xt==null?void 0:Xt[`b${pt}`])||(Xt==null?void 0:Xt[`${pt}`]);return je!=null&&je.name?{name:String(je.name),icon:je==null?void 0:je.icon}:{name:`Skill ${pt}`,icon:void 0}},ht=Ye=>Array.isArray(Ye)?Ye.map(Ge=>Array.isArray(Ge)?[Number(Ge[0]),Number(Ge[1])]:Ge&&typeof Ge=="object"?[Number(Ge.time),Number(Ge.value)]:null).filter(Ge=>!!Ge&&Number.isFinite(Ge[0])&&Ge[0]>=0):[],Vt=(Ye,Ge,pt,Ht,Xt)=>{if(!Ye.length||Ht<=0)return[];const ve=Math.max(Ht*5e3,Xt||0),je=nt=>nt.reduce((qt,wn)=>wn>=0&&wn<=ve+2e3?qt+1:qt,0),be=Ye.map(nt=>Number(nt||0)).filter(nt=>Number.isFinite(nt)&&nt>=0);if(!be.length)return[];const Fe=[be],pe=be.reduce((nt,qt)=>Math.max(nt,qt),0),Ee=be.reduce((nt,qt)=>Math.min(nt,qt),Number.POSITIVE_INFINITY);pe>ve*20&&Fe.push(be.map(nt=>nt/1e3)),pe<=ve*2&&Ee>=0&&pe>0&&pe<Math.max(120,Ht*5+10)&&Fe.push(be.map(nt=>nt*1e3));let ke=be,xt=0,et=-1;return Fe.forEach(nt=>{const qt=nt.reduce((Rt,Zn)=>Math.min(Rt,Zn),Number.POSITIVE_INFINITY),wn=new Set([0,...Ge,...pt]);if(Number.isFinite(qt)&&ve>0&&qt>ve){const Rt=Math.floor(qt/ve)*ve;wn.add(Rt),wn.add(Math.max(0,Rt-ve))}wn.forEach(Rt=>{const Zn=nt.map(ae=>ae-Rt),Ut=je(Zn);Ut>et&&(et=Ut,xt=Rt,ke=nt)})}),ke.map(nt=>nt-xt).filter(nt=>Number.isFinite(nt)&&nt>=0)},jn=(Ye,Ge,pt,Ht,Xt)=>{const ve=Vt(Ye,Ge,pt,Ht,Xt);return Array.from(new Set(ve.map(je=>Math.floor(je/5e3)).filter(je=>Number.isFinite(je)&&je>=0&&je<Ht)))};i.map(Ye=>({log:Ye,ts:qa(Ye==null?void 0:Ye.details,Ye)})).sort((Ye,Ge)=>Ye.ts-Ge.ts).forEach(({log:Ye},Ge)=>{const pt=Ye==null?void 0:Ye.details;if(!pt)return;const Ht=T(pt.fightName||Ye.fightName||`Fight ${Ge+1}`),Xt=jt(pt,Ye),ve=re(Ht,String(Xt||"")),je={},be=Array.isArray(pt.players)?pt.players:[],Fe=be.flatMap(et=>{const nt=et==null?void 0:et.combatReplayData;return Array.isArray(nt)?nt.map(qt=>Number(qt==null?void 0:qt.start)):[Number(nt==null?void 0:nt.start)]}).filter(et=>Number.isFinite(et)&&et>=0);be.forEach(et=>{if(et!=null&&et.notInSquad)return;const nt=String((et==null?void 0:et.account)||(et==null?void 0:et.name)||"Unknown"),qt=String((et==null?void 0:et.character_name)||(et==null?void 0:et.display_name)||(et==null?void 0:et.name)||""),wn=String((et==null?void 0:et.profession)||"Unknown"),Rt=`${nt}|${wn}`,Zn=vy(et,pt),Ut=Number(Zn.peak||0),ae=Ne(et),_e=Number(Ie(ae,1)||0),Ze=Number(Ie(ae,5)||0),At=Number(Ie(ae,30)||0),Te=Math.max(0,Math.ceil(Number((pt==null?void 0:pt.durationMS)||0)/5e3)),Le=Math.max(0,Math.ceil(ae.length/5)),gt=Math.max(Te,Le),Ve=ut(ae,5),Lt=Array.from({length:gt},(Oe,ge)=>Number(Ve[ge]||0)),It=new Map,Bt=Oe=>{if(!Oe||typeof Oe!="object"||Oe.indirectDamage)return;const ge=Number(Oe.totalDamage||0);if(!Number.isFinite(ge)||ge<=0)return;const it=Number(Oe.connectedHits||Oe.hits||0),wt=bt(Oe.id,pt),Zt=wt.name,vn=It.get(Zt)||{skillName:Zt,damage:0,hits:0,icon:wt.icon};vn.damage+=ge,vn.hits+=Number.isFinite(it)?it:0,!vn.icon&&wt.icon&&(vn.icon=wt.icon),It.set(Zt,vn)},at=new Map;Array.isArray(et==null?void 0:et.targetDamageDist)&&et.targetDamageDist.forEach(Oe=>{Array.isArray(Oe)&&Oe.forEach(ge=>{Array.isArray(ge)&&ge.forEach(it=>{const wt=Number(it==null?void 0:it.id),Zt=Number((it==null?void 0:it.totalDamage)||0);if(Number.isFinite(wt)){const vn=at.get(wt)||{damage:0,hits:0};vn.damage+=Number.isFinite(Zt)?Zt:0,vn.hits+=Number((it==null?void 0:it.connectedHits)||(it==null?void 0:it.hits)||0),at.set(wt,vn)}Bt(it)})})}),!(pt!=null&&pt.detailedWvW)&&Array.isArray(et==null?void 0:et.totalDamageDist)&&et.totalDamageDist.forEach(Oe=>{Array.isArray(Oe)&&Oe.forEach(ge=>{const it=Number(ge==null?void 0:ge.id);if(!Number.isFinite(it)){Bt(ge);return}const wt=at.get(it);if(!wt){Bt(ge);return}const Zt=Number((ge==null?void 0:ge.totalDamage)||0),vn=Number((ge==null?void 0:ge.connectedHits)||(ge==null?void 0:ge.hits)||0),In=Zt-Number(wt.damage||0),Jr=vn-Number(wt.hits||0);In<=0&&Jr<=0||Bt({...ge,totalDamage:Math.max(0,In),connectedHits:Math.max(0,Jr),hits:Math.max(0,Jr)})})});const zt=(()=>{const Oe=et==null?void 0:et.combatReplayData;return Array.isArray(Oe)?Oe.filter(ge=>ge&&typeof ge=="object"):Oe&&typeof Oe=="object"?[Oe]:[]})(),yt=zt.map(Oe=>Number(Oe==null?void 0:Oe.start)).filter(Oe=>Number.isFinite(Oe)&&Oe>=0),rn=zt.flatMap(Oe=>ht(Oe==null?void 0:Oe.down).map(([ge])=>Number(ge||0))),Ft=zt.flatMap(Oe=>ht(Oe==null?void 0:Oe.dead).map(([ge])=>Number(ge||0)));je[Rt]={hit:Ut,burst1s:_e,burst5s:Ze,burst30s:At,skillName:Zn.skillName,buckets5s:Lt,downIndices5s:jn(rn,yt,Fe,gt,Number((pt==null?void 0:pt.durationMS)||0)),deathIndices5s:jn(Ft,yt,Fe,gt,Number((pt==null?void 0:pt.durationMS)||0)),skillRows:Array.from(It.values()).sort((Oe,ge)=>ge.damage-Oe.damage).slice(0,50)};const Mt=Z.get(Rt)||{key:Rt,account:nt,displayName:nt,characterName:qt,profession:wn,professionList:[wn],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Mt.logs+=1,Mt.professionList.includes(wn)||Mt.professionList.push(wn),!Mt.characterName&&qt&&(Mt.characterName=qt),Ut>Mt.peakHit&&(Mt.peakHit=Ut,Mt.peakFightLabel=ve,Mt.peakSkillName=Zn.skillName),_e>Mt.peak1s&&(Mt.peak1s=_e),Ze>Mt.peak5s&&(Mt.peak5s=Ze),At>Mt.peak30s&&(Mt.peak30s=At),Z.set(Rt,Mt)});const pe=Object.values(je).reduce((et,nt)=>Math.max(et,Number((nt==null?void 0:nt.hit)||0)),0),Ee=Object.values(je).reduce((et,nt)=>Math.max(et,Number((nt==null?void 0:nt.burst1s)||0)),0),ke=Object.values(je).reduce((et,nt)=>Math.max(et,Number((nt==null?void 0:nt.burst5s)||0)),0),xt=Object.values(je).reduce((et,nt)=>Math.max(et,Number((nt==null?void 0:nt.burst30s)||0)),0);Ce.push({id:Ye.filePath||Ye.id||`fight-${Ge+1}`,shortLabel:`F${Ge+1}`,fullLabel:ve,timestamp:qa(pt,Ye),values:je,maxHit:pe,max1s:Ee,max5s:ke,max30s:xt})});const On=Array.from(Z.values()).sort((Ye,Ge)=>Ge.peakHit!==Ye.peakHit?Ge.peakHit-Ye.peakHit:Ye.displayName.localeCompare(Ge.displayName));return{fights:Ce,players:On}})(),xy=(()=>{const T=ve=>String(ve||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),U=ve=>T(ve).toLowerCase().split(/[^a-z0-9]+/i).map(je=>je.trim()).filter(Boolean).map(je=>je.length>3&&je.endsWith("s")?je.slice(0,-1):je),re=(ve,je)=>{const be=T(ve),Fe=T(je);if(!Fe)return be;if(!be)return Fe;const pe=U(be),Ee=U(Fe),ke=new Set(pe),xt=new Set(Ee),et=Ee.length>0&&Ee.every(qt=>ke.has(qt)),nt=pe.length>0&&pe.every(qt=>xt.has(qt));return et||nt?be:`${be} - ${Fe}`},Ce=[],Z=new Map,Ne=(ve,je)=>{const be=Number(ve);if(!Number.isFinite(be))return{name:String(ve||"Unknown Skill"),icon:void 0};const Fe=(je==null?void 0:je.skillMap)||{},pe=(je==null?void 0:je.buffMap)||{},Ee=(Fe==null?void 0:Fe[`s${be}`])||(Fe==null?void 0:Fe[`${be}`]);if(Ee!=null&&Ee.name)return{name:String(Ee.name),icon:Ee==null?void 0:Ee.icon};const ke=(pe==null?void 0:pe[`b${be}`])||(pe==null?void 0:pe[`${be}`]);return ke!=null&&ke.name?{name:String(ke.name),icon:ke==null?void 0:ke.icon}:{name:`Skill ${be}`,icon:void 0}},Ie=(ve,je)=>{let be=0,Fe="";const pe=Ee=>{if(!Ee||typeof Ee!="object"||Ee.indirectDamage)return;const ke=[Number(Ee.max),Number(Ee.maxDamage),Number(Ee.maxHit)].filter(et=>Number.isFinite(et)),xt=ke.length>0?Math.max(...ke):0;xt>be&&(be=xt,Fe=Ne(Ee.id,je).name)};return Array.isArray(ve==null?void 0:ve.totalDamageDist)&&ve.totalDamageDist.forEach(Ee=>{Array.isArray(Ee)&&Ee.forEach(ke=>pe(ke))}),Array.isArray(ve==null?void 0:ve.targetDamageDist)&&ve.targetDamageDist.forEach(Ee=>{Array.isArray(Ee)&&Ee.forEach(ke=>{Array.isArray(ke)&&ke.forEach(xt=>pe(xt))})}),{peak:be,skillName:Fe||"Unknown Skill"}},ut=ve=>{if(!Array.isArray(ve)||ve.length===0)return[];const je=[];for(let be=0;be<ve.length;be+=1){const Fe=Number(ve[be]||0),pe=be>0?Number(ve[be-1]||0):0;je.push(Math.max(0,Fe-pe))}return je},bt=ve=>{if(!Array.isArray(ve)||ve.length===0)return[];const je=ve.reduce((Fe,pe)=>Math.max(Fe,Array.isArray(pe)?pe.length:0),0);if(je<=0)return[];const be=new Array(je).fill(0);return ve.forEach(Fe=>{if(Array.isArray(Fe))for(let pe=0;pe<je;pe+=1)be[pe]+=Number(Fe[pe]||0)}),be},ht=ve=>{if(!Array.isArray(ve)||ve.length===0)return[];const je=ve[0];if(typeof je=="number")return ve.map(be=>Number(be||0));if(Array.isArray(je)&&je.length>0){if(typeof je[0]=="number")return je.map(be=>Number(be||0));if(Array.isArray(je[0])){const be=je.map(Fe=>Array.isArray(Fe)?Fe.map(pe=>Number(pe||0)):null).filter(Fe=>Array.isArray(Fe)&&Fe.length>0);if(be.length>0)return bt(be)}}return[]},Vt=ve=>{const je=ht(ve==null?void 0:ve.powerDamage1S),be=ht(ve==null?void 0:ve.damage1S),Fe=je.length>0?je:be;return ut(Fe)},jn=(ve,je)=>{const be=ve==null?void 0:ve.targetPowerDamage1S;if(!Array.isArray(be)||!Array.isArray(be[je]))return[];const Fe=be[je];if(!Array.isArray(Fe)||Fe.length===0)return[];if(typeof Fe[0]=="number")return Fe.map(pe=>Number(pe||0));if(Array.isArray(Fe[0])&&!Array.isArray(Fe[0][0]))return Fe[0].map(pe=>Number(pe||0));if(Array.isArray(Fe[0])&&Array.isArray(Fe[0][0])){const pe=Fe[0].map(Ee=>Array.isArray(Ee)?Ee.map(ke=>Number(ke||0)):null).filter(Ee=>Array.isArray(Ee)&&Ee.length>0);return bt(pe)}return[]},On=(ve,je)=>{if(!Array.isArray(ve)||ve.length===0||je<=0)return 0;let be=0,Fe=0;for(let pe=0;pe<ve.length;pe+=1)be+=Number(ve[pe]||0),pe>=je&&(be-=Number(ve[pe-je]||0)),pe>=je-1&&be>Fe&&(Fe=be);return Math.max(0,Fe)},Ye=(ve,je)=>{if(!Array.isArray(ve)||ve.length===0||je<=0)return[];const be=[];for(let Fe=0;Fe<ve.length;Fe+=je){const pe=Math.min(Fe+je,ve.length),Ee=ve.slice(Fe,pe).reduce((ke,xt)=>ke+Number(xt||0),0);be.push(Ee)}return be},Ge=ve=>Array.isArray(ve)?ve.map(je=>Array.isArray(je)?[Number(je[0]),Number(je[1])]:je&&typeof je=="object"?[Number(je.time),Number(je.value)]:null).filter(je=>!!je&&Number.isFinite(je[0])&&je[0]>=0):[],pt=(ve,je,be,Fe,pe)=>{if(!ve.length||Fe<=0)return[];const Ee=Math.max(Fe*5e3,pe||0),ke=Ut=>Ut.reduce((ae,_e)=>_e>=0&&_e<=Ee+2e3?ae+1:ae,0),xt=ve.map(Ut=>Number(Ut||0)).filter(Ut=>Number.isFinite(Ut)&&Ut>=0);if(!xt.length)return[];const et=[xt],nt=xt.reduce((Ut,ae)=>Math.max(Ut,ae),0),qt=xt.reduce((Ut,ae)=>Math.min(Ut,ae),Number.POSITIVE_INFINITY);nt>Ee*20&&et.push(xt.map(Ut=>Ut/1e3)),nt<=Ee*2&&qt>=0&&nt>0&&nt<Math.max(120,Fe*5+10)&&et.push(xt.map(Ut=>Ut*1e3));let wn=xt,Rt=0,Zn=-1;return et.forEach(Ut=>{const ae=Ut.reduce((Ze,At)=>Math.min(Ze,At),Number.POSITIVE_INFINITY),_e=new Set([0,...je,...be]);if(Number.isFinite(ae)&&Ee>0&&ae>Ee){const Ze=Math.floor(ae/Ee)*Ee;_e.add(Ze),_e.add(Math.max(0,Ze-Ee))}_e.forEach(Ze=>{const At=Ut.map(Le=>Le-Ze),Te=ke(At);Te>Zn&&(Zn=Te,Rt=Ze,wn=Ut)})}),wn.map(Ut=>Ut-Rt).filter(Ut=>Number.isFinite(Ut)&&Ut>=0)},Ht=(ve,je,be,Fe,pe)=>{const Ee=pt(ve,je,be,Fe,pe);return Array.from(new Set(Ee.map(ke=>Math.floor(ke/5e3)).filter(ke=>Number.isFinite(ke)&&ke>=0&&ke<Fe)))};i.map(ve=>({log:ve,ts:qa(ve==null?void 0:ve.details,ve)})).sort((ve,je)=>ve.ts-je.ts).forEach(({log:ve},je)=>{const be=ve==null?void 0:ve.details;if(!be)return;const Fe=T(be.fightName||ve.fightName||`Fight ${je+1}`),pe=jt(be,ve),Ee=re(Fe,String(pe||"")),ke={},xt=(Array.isArray(be.players)?be.players:[]).filter(Te=>!(Te!=null&&Te.notInSquad)),et=xt.flatMap(Te=>{const Le=Te==null?void 0:Te.combatReplayData;return Array.isArray(Le)?Le.map(gt=>Number(gt==null?void 0:gt.start)):[Number(Le==null?void 0:Le.start)]}).filter(Te=>Number.isFinite(Te)&&Te>=0),nt=xt.flatMap(Te=>{const Le=Te==null?void 0:Te.combatReplayData;return(Array.isArray(Le)?Le:Le?[Le]:[]).flatMap(gt=>Ge(gt==null?void 0:gt.down).map(([Ve])=>Number(Ve||0)))}),qt=xt.flatMap(Te=>{const Le=Te==null?void 0:Te.combatReplayData;return(Array.isArray(Le)?Le:Le?[Le]:[]).flatMap(gt=>Ge(gt==null?void 0:gt.dead).map(([Ve])=>Number(Ve||0)))}),wn=new Map,Rt=new Map,Zn=new Map;(Array.isArray(be.targets)?be.targets:[]).forEach((Te,Le)=>{if(!Te||Te.isFake||!Te.enemyPlayer)return;const gt=A((Te==null?void 0:Te.profession)||(Te==null?void 0:Te.name)||(Te==null?void 0:Te.id))||"Unknown";Zn.set(gt,(Zn.get(gt)||0)+1);const Ve=Rt.get(gt)||new Map;Array.isArray(Te==null?void 0:Te.totalDamageDist)&&Te.totalDamageDist.forEach(yt=>{Array.isArray(yt)&&yt.forEach(rn=>{if(!rn||typeof rn!="object"||rn.indirectDamage)return;const Ft=Number(rn.totalDamage||0);if(!Number.isFinite(Ft)||Ft<=0)return;const Mt=Number(rn.connectedHits||rn.hits||0),Oe=Ne(rn.id,be),ge=Oe.name,it=Ve.get(ge)||{skillName:ge,damage:0,hits:0,icon:Oe.icon};it.damage+=Ft,it.hits+=Number.isFinite(Mt)?Mt:0,!it.icon&&Oe.icon&&(it.icon=Oe.icon),Ve.set(ge,it)})}),Rt.set(gt,Ve);const Lt=bt(xt.map(yt=>jn(yt,Le))),It=Lt.length>0?ut(Lt):Vt(Te),Bt=Ie(Te,be);let at=wn.get(gt);at||(at={perSecond:[],hit:0,skillName:""},wn.set(gt,at)),It.length>at.perSecond.length&&(at.perSecond.length=It.length);for(let yt=0;yt<It.length;yt+=1)at.perSecond[yt]=Number(at.perSecond[yt]||0)+Number(It[yt]||0);const zt=Number(Bt.peak||0);zt>at.hit&&(at.hit=zt,at.skillName=Bt.skillName||"Unknown Skill")});const Ut=Array.from(wn.values()).some(Te=>Array.isArray(Te.perSecond)&&Te.perSecond.some(Le=>Number(Le||0)>0));if(wn.size===0||!Ut){const Te=bt(xt.map(gt=>{const Ve=ht(gt==null?void 0:gt.powerDamageTaken1S);return ut(Ve)})),Le=Array.from(Zn.values()).reduce((gt,Ve)=>gt+Number(Ve||0),0);Te.length>0&&Le>0&&Zn.forEach((gt,Ve)=>{const Lt=Number(gt||0)/Le,It=Te.map(at=>Number(at||0)*Lt),Bt=wn.get(Ve);wn.set(Ve,{perSecond:It,hit:Number((Bt==null?void 0:Bt.hit)||0),skillName:String((Bt==null?void 0:Bt.skillName)||"")})})}wn.forEach((Te,Le)=>{var gt;const Ve=Le,Lt=Number(Te.hit||0),It=Number(On(Te.perSecond,1)||0),Bt=Number(On(Te.perSecond,5)||0),at=Number(On(Te.perSecond,30)||0),zt=Math.max(0,Math.ceil(Number((be==null?void 0:be.durationMS)||0)/5e3)),yt=Math.max(0,Math.ceil(Te.perSecond.length/5)),rn=Math.max(zt,yt),Ft=Ye(Te.perSecond,5),Mt=Array.from({length:rn},(ge,it)=>Number(Ft[it]||0));ke[Ve]={hit:Lt,burst1s:It,burst5s:Bt,burst30s:at,skillName:Te.skillName||"Unknown Skill",buckets5s:Mt,downIndices5s:Ht(nt,[],et,rn,Number((be==null?void 0:be.durationMS)||0)),deathIndices5s:Ht(qt,[],et,rn,Number((be==null?void 0:be.durationMS)||0)),skillRows:Array.from(((gt=Rt.get(Le))==null?void 0:gt.values())||[]).sort((ge,it)=>it.damage-ge.damage).slice(0,50)};const Oe=Z.get(Ve)||{key:Ve,account:Le,displayName:Le,characterName:"",profession:Le,professionList:[Le],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Oe.logs+=1,Lt>Oe.peakHit&&(Oe.peakHit=Lt,Oe.peakFightLabel=Ee,Oe.peakSkillName=Te.skillName||"Unknown Skill"),It>Oe.peak1s&&(Oe.peak1s=It),Bt>Oe.peak5s&&(Oe.peak5s=Bt),at>Oe.peak30s&&(Oe.peak30s=at),Z.set(Ve,Oe)});const ae=Object.values(ke).reduce((Te,Le)=>Math.max(Te,Number((Le==null?void 0:Le.hit)||0)),0),_e=Object.values(ke).reduce((Te,Le)=>Math.max(Te,Number((Le==null?void 0:Le.burst1s)||0)),0),Ze=Object.values(ke).reduce((Te,Le)=>Math.max(Te,Number((Le==null?void 0:Le.burst5s)||0)),0),At=Object.values(ke).reduce((Te,Le)=>Math.max(Te,Number((Le==null?void 0:Le.burst30s)||0)),0);Ce.push({id:ve.filePath||ve.id||`fight-${je+1}`,shortLabel:`F${je+1}`,fullLabel:Ee,timestamp:qa(be,ve),values:ke,maxHit:ae,max1s:_e,max5s:Ze,max30s:At})});const Xt=Array.from(Z.values()).sort((ve,je)=>je.peakHit!==ve.peakHit?je.peakHit-ve.peakHit:ve.displayName.localeCompare(je.displayName));return{fights:Ce,players:Xt}})(),wy=Array.from(I.entries()).map(([T,U])=>{const re=K.get(T)||{},Ce=Array.from(U.values()).map(Z=>{var Ne,Ie;const ut=Array.from(Z.professions||[]).filter(Ge=>Ge&&Ge!=="Unknown");let bt=Z.profession||"Unknown";if(ut.length>0){bt=ut[0];let Ge=((Ne=Z.professionTimeMs)==null?void 0:Ne[bt])||0;ut.forEach(pt=>{var Ht;const Xt=((Ht=Z.professionTimeMs)==null?void 0:Ht[pt])||0;Xt>Ge&&(Ge=Xt,bt=pt)})}const ht=Z.durationMs||0,Vt=Z.totalMs/1e3,jn=ht>0?Z.totalMs/ht:0,On=((Ie=$.get(Z.account))==null?void 0:Ie.supportActiveMs)||ht,Ye=On>0?Z.uptimeMs/On:0;return{account:Z.account,profession:bt,professionList:ut,total:Vt,perSecond:jn,uptimePerSecond:Ye,duration:ht/1e3}}).filter(Z=>Z.total>0||Z.perSecond>0);return{id:T,name:re.name||T,icon:re.icon,rows:Ce}}).filter(T=>T.rows.length>0),ky=Array.from(J.values()).map(T=>{const U=Array.from(T.skills.values()).sort((Ce,Z)=>Z.damage-Ce.damage),re=U.reduce((Ce,Z)=>(Ce[Z.id]=Z,Ce),{});return{key:T.key,account:T.account,displayName:T.displayName,profession:T.profession,professionList:T.professionList,totalFightMs:T.totalFightMs,skills:U,skillMap:re}}).sort((T,U)=>T.displayName.localeCompare(U.displayName));return{total:h,wins:y,losses:x,avgSquadSize:ue,avgEnemies:De,squadKDR:dt,enemyKDR:tn,totalSquadKills:S,totalSquadDeaths:w,totalEnemyKills:j,totalEnemyDeaths:C,leaderboards:sn,...Oc,outgoingConditionSummary:Object.values(Q).sort((T,U)=>U.damage-T.damage),incomingConditionSummary:Object.values(Y).sort((T,U)=>U.damage-T.damage),outgoingConditionPlayers:Array.from($.values()).map(T=>({account:T.account,profession:T.profession,professionList:T.professionList,conditions:T.outgoingConditions})),incomingConditionPlayers:Array.from($.values()).map(T=>({account:T.account,profession:T.profession,professionList:T.professionList,conditions:T.incomingConditions})),topSkills:Me,topIncomingSkills:Xe,topSkillsByDamage:W,topSkillsByDownContribution:ce,playerSkillBreakdowns:ky,topSkillsMetric:m,mapData:Dn,timelineData:Re,boonTables:Nr,offensePlayers:Array.from($.values()).map(T=>({account:T.account,profession:T.profession,professionList:T.professionList,offenseTotals:T.offenseTotals,offenseRateWeights:T.offenseRateWeights,totalFightMs:T.totalFightMs})),defensePlayers:Array.from($.values()).map(T=>({account:T.account,profession:T.profession,professionList:T.professionList,defenseTotals:T.defenseTotals,activeMs:T.defenseActiveMs})),damageMitigationPlayers:Hn,damageMitigationMinions:zr,supportPlayers:Array.from($.values()).map(T=>({account:T.account,profession:T.profession,professionList:T.professionList,supportTotals:T.supportTotals,activeMs:T.supportActiveMs})),healingPlayers:Array.from($.values()).map(T=>({account:T.account,profession:T.profession,professionList:T.professionList,healingTotals:T.healingTotals,activeMs:T.healingActiveMs})),mvp:Cl,silver:Ts,bronze:Ml,squadClassData:Wt,enemyClassData:jr,fightBreakdown:Vr,attendanceData:Al,squadCompByFight:yy,spikeDamage:by,incomingStrikeDamage:xy,specialTables:wy,topStatsPerSecond:Pr,topStatsLeaderboardsPerSecond:Ur,avgMvpScore:Vo}})(),d=(()=>{const f=new Map,p=new Map,m=[],h=new Map,y=new Map;i.forEach(g=>{const b=g.details;if(!b)return;const w=b.skillMap||{},S=b.fightName||"Log",C=qa(b,g)||Date.now(),j={id:g.filePath||g.id||S,label:S,timestamp:C,skillEntries:{},playerActiveSeconds:{},durationSeconds:b.durationMS?b.durationMS/1e3:0};(b.players||[]).forEach(M=>{if(M.notInSquad)return;const P=M.account||M.name||"Unknown",$=M.profession||"Unknown",E=`${P}|${$}`;let _=p.get(E);_||(_={key:E,account:P,displayName:P,profession:$,professionList:[$],logs:0,totalActiveSeconds:0,skillTotals:{}},p.set(E,_)),_.logs++;const D=(Array.isArray(M.activeTimes)?M.activeTimes[0]:0)/1e3;_.totalActiveSeconds=(_.totalActiveSeconds||0)+D,j.playerActiveSeconds[E]=D,(M.rotation||[]).forEach(J=>{var Q,Y,fe;if(!(J!=null&&J.id))return;const K=((Q=J.skills)==null?void 0:Q.length)||0;if(K<=0)return;const I=`s${J.id}`,te=((Y=w[I])==null?void 0:Y.name)||`Skill ${J.id}`,k=(fe=w[I])==null?void 0:fe.icon;_.skillTotals[I]=(_.skillTotals[I]||0)+K,f.set(I,(f.get(I)||0)+K),h.set(I,te),k&&!y.has(I)&&y.set(I,k),j.skillEntries[I]||(j.skillEntries[I]={name:te,icon:k,players:{}}),!j.skillEntries[I].icon&&k&&(j.skillEntries[I].icon=k),j.skillEntries[I].players[E]=(j.skillEntries[I].players[E]||0)+K})}),m.push(j)});const x=Array.from(f.entries()).map(([g,b])=>({id:g,name:h.get(g)||g,total:b,icon:y.get(g)})).sort((g,b)=>b.total-g.total);return{logRecords:m,players:Array.from(p.values()),skillOptions:x,resUtilitySkills:[]}})();return{validLogs:i,stats:c,skillUsageData:d}},G8=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:a})=>{const[i,o]=v.useState(()=>Jy({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:a})),[s,l]=v.useState(0),[c,d]=v.useState(0),[f,p]=v.useState(0),[m,h]=v.useState(0),[y,x]=v.useState(null),g=v.useRef(0),[b,w]=v.useState(0),S=v.useRef(null),C=v.useRef(null),[j,M]=v.useState(!1),P=v.useRef(null),$=e.length<=8,E=v.useRef(""),_=v.useRef(void 0),D=v.useMemo(()=>{if(!r){E.current="",_.current=void 0;return}const Y={...r};delete Y.topSkillsMetric;const fe=JSON.stringify(Y);return E.current!==fe&&(E.current=fe,_.current=Y),_.current},[r]),J=v.useMemo(()=>({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:D,disruptionMethod:a}),[e,t,n,D,a]);v.useEffect(()=>{if(!(typeof Worker>"u")&&!j&&$)return C.current||(C.current=new Worker(new URL(""+new URL(""+new URL("statsWorker-u-QqHRja-D_bU3fcD.js",import.meta.url).href,import.meta.url).href,import.meta.url),{type:"module"}),C.current.onmessage=Y=>{var fe;((fe=Y.data)==null?void 0:fe.type)==="result"&&(o(Y.data.result),typeof Y.data.computeId=="number"?l(Y.data.computeId):l(K=>K+1),typeof Y.data.logCount=="number"&&d(Y.data.logCount),typeof Y.data.token=="number"&&p(Y.data.token),typeof Y.data.completedAt=="number"&&h(Y.data.completedAt),typeof Y.data.flushId=="number"&&x(Y.data.flushId))},C.current.onerror=Y=>{var fe;console.warn("[StatsWorker] Worker error. Falling back to main thread.",Y),(fe=C.current)==null||fe.terminate(),C.current=null,M(!0)},C.current.onmessageerror=Y=>{var fe;console.warn("[StatsWorker] Worker message error. Falling back to main thread.",Y),(fe=C.current)==null||fe.terminate(),C.current=null,M(!0)},S.current!==null&&C.current.postMessage({type:"flush",flushId:S.current})),()=>{var Y;(Y=C.current)==null||Y.terminate(),C.current=null}},[j,$]),v.useEffect(()=>{var Y;if(!(!C.current||j||!$))try{g.current+=1,w(g.current),C.current.postMessage({type:"reset",token:g.current}),C.current.postMessage({type:"settings",payload:{precomputedStats:t,mvpWeights:n,statsViewSettings:D,disruptionMethod:a}}),P.current&&(window.clearTimeout(P.current),P.current=null);let fe=0;const K=()=>{if(!C.current)return;const I=5;for(let te=0;te<I&&fe<e.length;te+=1,fe+=1)C.current.postMessage({type:"log",payload:e[fe]});fe<e.length?P.current=window.setTimeout(K,0):(P.current=null,C.current.postMessage({type:"flush"}))};K()}catch(fe){console.warn("[StatsWorker] Failed to postMessage payload. Falling back to main thread.",fe),(Y=C.current)==null||Y.terminate(),C.current=null,M(!0)}},[J,e,t,n,D,a,$]);const Q=v.useMemo(()=>!j&&typeof Worker<"u"&&$?null:Jy({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:D,disruptionMethod:a}),[j,e,t,n,D,a,$]);return v.useEffect(()=>{!j&&typeof Worker<"u"&&$||(l(Y=>Y+1),d(e.length),p(g.current),h(Date.now()))},[Q,j,e.length,$]),{result:j||typeof Worker>"u"||!$?Q??Jy({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:D,disruptionMethod:a}):i,computeTick:s,lastComputedLogCount:c,lastComputedToken:f,activeToken:b,lastComputedAt:m,lastComputedFlushId:y,requestFlush:()=>{const Y=Date.now();return S.current=Y,C.current&&!j&&C.current.postMessage({type:"flush",flushId:Y}),Y}}},Y8=e=>({apmSpecBuckets:v.useMemo(()=>{const t=new Map,n=new Map((e.skillOptions||[]).map(i=>[i.id,i])),r=new Map,a=(i,o)=>{if(r.has(o))return r.get(o);const s=n.get(o);let l=!1;return s&&typeof s.autoAttack=="boolean"?l=s.autoAttack:l=tz(i),r.set(o,l),l};return(e.players||[]).forEach(i=>{const o=(i==null?void 0:i.profession)||"Unknown";let s=t.get(o);s||(s={profession:o,players:[],playerRows:[],totalActiveSeconds:0,totalCasts:0,totalAutoCasts:0,skills:[],skillMap:new Map},t.set(o,s)),s.players.push(i);const l=Number((i==null?void 0:i.totalActiveSeconds)||0),c=Number.isFinite(l)&&l>0?l:0;s.totalActiveSeconds+=c;let d=0,f=0;const p=i&&typeof i.skillTotals=="object"&&i.skillTotals!==null?i.skillTotals:{};Object.entries(p).forEach(([S,C])=>{const j=Number(C);if(!Number.isFinite(j)||j<=0)return;const M=n.get(S),P=(M==null?void 0:M.name)||S,$=M==null?void 0:M.icon,E=a(P,S);d+=j,E&&(f+=j);let _=s.skillMap.get(S);_||(_={id:S,name:P,icon:$,totalCasts:0,playerCounts:new Map},s.skillMap.set(S,_)),!_.icon&&$&&(_.icon=$),_.totalCasts+=j;const D=(i==null?void 0:i.key)||`${(i==null?void 0:i.account)||"Unknown"}|${o}`;_.playerCounts.set(D,j)}),s.totalCasts+=d,s.totalAutoCasts+=f;const m=c/60,h=m>0?d/m:0,y=Math.max(0,d-f),x=m>0?y/m:0,g=c>0?d/c:0,b=c>0?y/c:0,w={key:(i==null?void 0:i.key)||`${(i==null?void 0:i.account)||"Unknown"}|${o}`,account:(i==null?void 0:i.account)||"Unknown",displayName:(i==null?void 0:i.displayName)||(i==null?void 0:i.account)||"Unknown",profession:o,professionList:Array.isArray(i==null?void 0:i.professionList)?i.professionList:[o],logs:Number((i==null?void 0:i.logs)||0),totalActiveSeconds:c,totalCasts:d,totalAutoCasts:f,apm:h,apmNoAuto:x,aps:g,apsNoAuto:b};s.playerRows.push(w)}),t.forEach(i=>{i.playerRows.sort((c,d)=>d.apm-c.apm);const o=Number(i.totalActiveSeconds||0),s=o>0?o/60:0,l=Math.max(0,Number(i.totalCasts||0)-Number(i.totalAutoCasts||0));i.totalApm=s>0?Number(i.totalCasts||0)/s:0,i.totalApmNoAuto=s>0?l/s:0,i.totalAps=o>0?Number(i.totalCasts||0)/o:0,i.totalApsNoAuto=o>0?l/o:0,i.skills=Array.from(i.skillMap.values()).map(c=>{const d=i.playerRows.map(h=>{var y;const x=Number(((y=c.playerCounts)==null?void 0:y.get(h.key))||0);if(!Number.isFinite(x)||x<=0)return null;const g=Number(h.totalActiveSeconds||0),b=g>0?x/(g/60):0,w=g>0?x/g:0;return{...h,count:x,apm:b,aps:w}}).filter(Boolean).sort((h,y)=>y.apm-h.apm||String(h.displayName||"").localeCompare(String(y.displayName||""))),f=Number(c.totalCasts||0),p=o>0?f/o:0,m=s>0?f/s:0;return{...c,playerRows:d,totalCasts:f,totalCastsPerSecond:p,totalApm:m}}).sort((c,d)=>d.totalCasts-c.totalCasts)}),Array.from(t.values()).sort((i,o)=>i.profession.localeCompare(o.profession))},[e])}),X8=({skillUsageData:e,selectedSkillId:t,selectedPlayers:n,skillUsageView:r})=>{const a=v.useMemo(()=>{const d=new Map;return e.players.forEach(f=>d.set(f.key,f)),d},[e.players]),i=v.useMemo(()=>{const d=new Map;if(!t)return d;const f=r==="perSecond";return e.players.forEach(p=>{const m=p.skillTotals[t]||0;if(m===0)return;let h=m;if(f){const y=p.totalActiveSeconds||1;h=y>0?m/y:0}d.set(p.key,h)}),d},[e.players,t,r]),o=v.useMemo(()=>t?Array.from(i.entries()).map(([d,f])=>{const p=a.get(d);return{key:d,name:(p==null?void 0:p.displayName)||d,profession:(p==null?void 0:p.profession)||"Unknown",value:f}}).sort((d,f)=>f.value-d.value):[],[i,a,t]),{chartData:s,maxY:l}=v.useMemo(()=>{if(!t)return{chartData:[],maxY:0};let d=0;const f=r==="perSecond";return{chartData:e.logRecords.map((p,m)=>{const h=p.skillEntries[t];if(!h)return null;const y={index:m,name:p.label,shortLabel:p.label,fullLabel:p.label,timestamp:p.timestamp};let x=!1,g=!1;if(Object.entries(h.players).forEach(([b,w])=>{var S;if(n.size>0&&!n.has(b))return;let C=w;if(f){const j=((S=p.playerActiveSeconds)==null?void 0:S[b])||0;C=j>0?w/j:0}y[b]=C,C>d&&(d=C),x=!0,g=!0}),n.size>0){if(!g)return null}else if(!x)return null;return n.forEach(b=>{y[b]===void 0&&(y[b]=0)}),y}).filter(p=>p!==null),maxY:d}},[e.logRecords,t,n,r]),c=v.useMemo(()=>{const d={};return e.players.forEach(f=>{const p=f.profession||"Unknown";d[p]||(d[p]=[]),d[p].push(f)}),Object.entries(d).map(([f,p])=>({profession:f,players:p.sort((m,h)=>m.displayName.localeCompare(h.displayName))})).sort((f,p)=>f.profession.localeCompare(p.profession))},[e.players]);return{playerMapByKey:a,playerTotalsForSkill:i,skillBarData:o,skillChartData:s,skillChartMaxY:l,groupedSkillUsagePlayers:c}};function SD(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=SD(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function xn(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=SD(e))&&(r&&(r+=" "),r+=t);return r}var Z8=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function C1(e){if(typeof e!="string")return!1;var t=Z8;return t.includes(e)}var Q8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],J8=new Set(Q8);function ND(e){return typeof e!="string"?!1:J8.has(e)}function jD(e){return typeof e=="string"&&e.startsWith("data-")}function Vi(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(ND(n)||jD(n))&&(t[n]=e[n]);return t}function Pu(e){if(e==null)return null;if(v.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Vi(t)}return typeof e=="object"&&!Array.isArray(e)?Vi(e):null}function La(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(ND(n)||jD(n)||C1(n))&&(t[n]=e[n]);return t}function eU(e){return e==null?null:v.isValidElement(e)?La(e.props):typeof e=="object"&&!Array.isArray(e)?La(e):null}var tU=["children","width","height","viewBox","className","style","title","desc"];function Yb(){return Yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yb.apply(null,arguments)}function nU(e,t){if(e==null)return{};var n,r,a=rU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function rU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var M1=v.forwardRef((e,t)=>{var{children:n,width:r,height:a,viewBox:i,className:o,style:s,title:l,desc:c}=e,d=nU(e,tU),f=i||{width:r,height:a,x:0,y:0},p=xn("recharts-surface",o);return v.createElement("svg",Yb({},La(d),{className:p,width:r,height:a,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),v.createElement("title",null,l),v.createElement("desc",null,c),n)}),aU=["children","className"];function Xb(){return Xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xb.apply(null,arguments)}function iU(e,t){if(e==null)return{};var n,r,a=oU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function oU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ti=v.forwardRef((e,t)=>{var{children:n,className:r}=e,a=iU(e,aU),i=xn("recharts-layer",r);return v.createElement("g",Xb({className:i},La(a),{ref:t}),n)}),CD=v.createContext(null),sU=()=>v.useContext(CD);function qn(e){return function(){return e}}const MD=Math.cos,Oh=Math.sin,ho=Math.sqrt,Ih=Math.PI,i0=2*Ih,Zb=Math.PI,Qb=2*Zb,Bl=1e-6,lU=Qb-Bl;function AD(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function cU(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return AD;const n=10**t;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class uU{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?AD:cU(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,i,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,r,a,i){if(t=+t,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,l=r-t,c=a-n,d=o-t,f=s-n,p=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>Bl)if(!(Math.abs(f*l-c*d)>Bl)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-o,h=a-s,y=l*l+c*c,x=m*m+h*h,g=Math.sqrt(y),b=Math.sqrt(p),w=i*Math.tan((Zb-Math.acos((y+p-x)/(2*g*b)))/2),S=w/b,C=w/g;Math.abs(S-1)>Bl&&this._append`L${t+S*d},${n+S*f}`,this._append`A${i},${i},0,0,${+(f*m>d*h)},${this._x1=t+C*l},${this._y1=n+C*c}`}}arc(t,n,r,a,i,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(a),l=r*Math.sin(a),c=t+s,d=n+l,f=1^o,p=o?a-i:i-a;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>Bl||Math.abs(this._y1-d)>Bl)&&this._append`L${c},${d}`,r&&(p<0&&(p=p%Qb+Qb),p>lU?this._append`A${r},${r},0,1,${f},${t-s},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=d}`:p>Bl&&this._append`A${r},${r},0,${+(p>=Zb)},${f},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function A1(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new uU(t)}function E1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ED(e){this._context=e}ED.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function o0(e){return new ED(e)}function PD(e){return e[0]}function TD(e){return e[1]}function DD(e,t){var n=qn(!0),r=null,a=o0,i=null,o=A1(s);e=typeof e=="function"?e:e===void 0?PD:qn(e),t=typeof t=="function"?t:t===void 0?TD:qn(t);function s(l){var c,d=(l=E1(l)).length,f,p=!1,m;for(r==null&&(i=a(m=o())),c=0;c<=d;++c)!(c<d&&n(f=l[c],c,l))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(f,c,l),+t(f,c,l));if(m)return i=null,m+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:qn(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:qn(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:qn(!!l),s):n},s.curve=function(l){return arguments.length?(a=l,r!=null&&(i=a(r)),s):a},s.context=function(l){return arguments.length?(l==null?r=i=null:i=a(r=l),s):r},s}function um(e,t,n){var r=null,a=qn(!0),i=null,o=o0,s=null,l=A1(c);e=typeof e=="function"?e:e===void 0?PD:qn(+e),t=typeof t=="function"?t:qn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?TD:qn(+n);function c(f){var p,m,h,y=(f=E1(f)).length,x,g=!1,b,w=new Array(y),S=new Array(y);for(i==null&&(s=o(b=l())),p=0;p<=y;++p){if(!(p<y&&a(x=f[p],p,f))===g)if(g=!g)m=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=p-1;h>=m;--h)s.point(w[h],S[h]);s.lineEnd(),s.areaEnd()}g&&(w[p]=+e(x,p,f),S[p]=+t(x,p,f),s.point(r?+r(x,p,f):w[p],n?+n(x,p,f):S[p]))}if(b)return s=null,b+""||null}function d(){return DD().defined(a).curve(o).context(i)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:qn(+f),r=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:qn(+f),c):e},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:qn(+f),c):r},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:qn(+f),n=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:qn(+f),c):t},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:qn(+f),c):n},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(n)},c.lineX1=function(){return d().x(r).y(t)},c.defined=function(f){return arguments.length?(a=typeof f=="function"?f:qn(!!f),c):a},c.curve=function(f){return arguments.length?(o=f,i!=null&&(s=o(i)),c):o},c.context=function(f){return arguments.length?(f==null?i=s=null:s=o(i=f),c):i},c}class OD{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function dU(e){return new OD(e,!0)}function fU(e){return new OD(e,!1)}const P1={draw(e,t){const n=ho(t/Ih);e.moveTo(n,0),e.arc(0,0,n,0,i0)}},pU={draw(e,t){const n=ho(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},ID=ho(1/3),mU=ID*2,hU={draw(e,t){const n=ho(t/mU),r=n*ID;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},gU={draw(e,t){const n=ho(t),r=-n/2;e.rect(r,r,n,n)}},yU=.8908130915292852,_D=Oh(Ih/10)/Oh(7*Ih/10),vU=Oh(i0/10)*_D,bU=-MD(i0/10)*_D,xU={draw(e,t){const n=ho(t*yU),r=vU*n,a=bU*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){const o=i0*i/5,s=MD(o),l=Oh(o);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*a,l*r+s*a)}e.closePath()}},ev=ho(3),wU={draw(e,t){const n=-ho(t/(ev*3));e.moveTo(0,n*2),e.lineTo(-ev*n,-n),e.lineTo(ev*n,-n),e.closePath()}},Mi=-.5,Ai=ho(3)/2,Jb=1/ho(12),kU=(Jb/2+1)*3,SU={draw(e,t){const n=ho(t/kU),r=n/2,a=n*Jb,i=r,o=n*Jb+n,s=-i,l=o;e.moveTo(r,a),e.lineTo(i,o),e.lineTo(s,l),e.lineTo(Mi*r-Ai*a,Ai*r+Mi*a),e.lineTo(Mi*i-Ai*o,Ai*i+Mi*o),e.lineTo(Mi*s-Ai*l,Ai*s+Mi*l),e.lineTo(Mi*r+Ai*a,Mi*a-Ai*r),e.lineTo(Mi*i+Ai*o,Mi*o-Ai*i),e.lineTo(Mi*s+Ai*l,Mi*l-Ai*s),e.closePath()}};function NU(e,t){let n=null,r=A1(a);e=typeof e=="function"?e:qn(e||P1),t=typeof t=="function"?t:qn(t===void 0?64:+t);function a(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:qn(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:qn(+i),a):t},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function _h(){}function Lh(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function LD(e){this._context=e}LD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Lh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Lh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function jU(e){return new LD(e)}function FD(e){this._context=e}FD.prototype={areaStart:_h,areaEnd:_h,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Lh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function CU(e){return new FD(e)}function $D(e){this._context=e}$D.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Lh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function MU(e){return new $D(e)}function RD(e){this._context=e}RD.prototype={areaStart:_h,areaEnd:_h,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function AU(e){return new RD(e)}function JN(e){return e<0?-1:1}function ej(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),s=(i*a+o*r)/(r+a);return(JN(i)+JN(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function tj(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function tv(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-r)/3;e._context.bezierCurveTo(r+s,a+s*t,i-s,o-s*n,i,o)}function Fh(e){this._context=e}Fh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:tv(this,this._t0,tj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,tv(this,tj(this,n=ej(this,e,t)),n);break;default:tv(this,this._t0,n=ej(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function BD(e){this._context=new zD(e)}(BD.prototype=Object.create(Fh.prototype)).point=function(e,t){Fh.prototype.point.call(this,t,e)};function zD(e){this._context=e}zD.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}};function EU(e){return new Fh(e)}function PU(e){return new BD(e)}function UD(e){this._context=e}UD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=nj(e),a=nj(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function nj(e){var t,n=e.length-1,r,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function TU(e){return new UD(e)}function s0(e,t){this._context=e,this._t=t}s0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function DU(e){return new s0(e,.5)}function OU(e){return new s0(e,0)}function IU(e){return new s0(e,1)}function hc(e,t){if((o=e.length)>1)for(var n=1,r,a,i=e[t[0]],o,s=i.length;n<o;++n)for(a=i,i=e[t[n]],r=0;r<s;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function ex(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function _U(e,t){return e[t]}function LU(e){const t=[];return t.key=e,t}function FU(){var e=qn([]),t=ex,n=hc,r=_U;function a(i){var o=Array.from(e.apply(this,arguments),LU),s,l=o.length,c=-1,d;for(const f of i)for(s=0,++c;s<l;++s)(o[s][c]=[0,+r(f,o[s].key,c,i)]).data=f;for(s=0,d=E1(t(o));s<l;++s)o[d[s]].index=s;return n(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:qn(Array.from(i)),a):e},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:qn(+i),a):r},a.order=function(i){return arguments.length?(t=i==null?ex:typeof i=="function"?i:qn(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(n=i??hc,a):n},a}function $U(e,t){if((r=e.length)>0){for(var n,r,a=0,i=e[0].length,o;a<i;++a){for(o=n=0;n<r;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<r;++n)e[n][a][1]/=o}hc(e,t)}}function RU(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,i=r.length;n<i;++n){for(var o=0,s=0;o<a;++o)s+=e[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}hc(e,t)}}function BU(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,i,o;r<i;++r){for(var s=0,l=0,c=0;s<o;++s){for(var d=e[t[s]],f=d[r][1]||0,p=d[r-1][1]||0,m=(f-p)/2,h=0;h<s;++h){var y=e[t[h]],x=y[r][1]||0,g=y[r-1][1]||0;m+=x-g}l+=f,c+=m*f}a[r-1][1]+=a[r-1][0]=n,l&&(n-=c/l)}a[r-1][1]+=a[r-1][0]=n,hc(e,t)}}var l0={},VD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(VD);var T1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(T1);var c0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(c0);var u0={},HD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(HD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HD,n=c0;function r(a){if(Array.isArray(a))return a.map(n.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],o=a.length;if(o===0)return i;let s=0,l="",c="",d=!1;for(a.charCodeAt(0)===46&&(i.push(""),s++);s<o;){const f=a[s];c?f==="\\"&&s+1<o?(s++,l+=a[s]):f===c?c="":l+=f:d?f==='"'||f==="'"?c=f:f==="]"?(d=!1,i.push(l),l=""):l+=f:f==="["?(d=!0,l&&(i.push(l),l="")):f==="."?l&&(i.push(l),l=""):l+=f,s++}return l&&i.push(l),i}e.toPath=r})(u0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VD,n=T1,r=c0,a=u0;function i(s,l,c){if(s==null)return c;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return c;const d=s[l];return d===void 0?n.isDeepKey(l)?i(s,a.toPath(l),c):c:d}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const d=s[l];return d===void 0?c:d}default:{if(Array.isArray(l))return o(s,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return c;const d=s[l];return d===void 0?c:d}}}function o(s,l,c){if(l.length===0)return c;let d=s;for(let f=0;f<l.length;f++){if(d==null||t.isUnsafeProperty(l[f]))return c;d=d[l[f]]}return d===void 0?c:d}e.get=i})(l0);var zU=l0.get;const gc=mo(zU);var UU=4;function Js(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:UU,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function br(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((a,i,o)=>{var s=n[o-1];return typeof s=="string"?a+s+i:s!==void 0?a+Js(s)+i:a+i},"")}var Ca=e=>e===0?0:e>0?1:-1,$o=e=>typeof e=="number"&&e!=+e,ms=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,kt=e=>(typeof e=="number"||e instanceof Number)&&!$o(e),Ro=e=>kt(e)||typeof e=="string",VU=0,Mf=e=>{var t=++VU;return"".concat(e||"").concat(t)},Bi=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!kt(e)&&typeof e!="string")return n;var a;if(ms(e)){if(t==null)return n;var i=e.indexOf("%");a=t*parseFloat(e.slice(0,i))/100}else a=+e;return $o(a)&&(a=n),r&&t!=null&&a>t&&(a=t),a},WD=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function ja(e,t,n){return kt(e)&&kt(t)?Js(e+n*(t-e)):t}function qD(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):gc(r,t))===n)}var Kr=e=>e===null||typeof e>"u",rp=e=>Kr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function HU(e){return e!=null}function ap(){}var WU=["type","size","sizeType"];function tx(){return tx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tx.apply(null,arguments)}function rj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function aj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rj(Object(n),!0).forEach(function(r){qU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qU(e,t,n){return(t=KU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KU(e){var t=GU(e,"string");return typeof t=="symbol"?t:t+""}function GU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YU(e,t){if(e==null)return{};var n,r,a=XU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function XU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var KD={symbolCircle:P1,symbolCross:pU,symbolDiamond:hU,symbolSquare:gU,symbolStar:xU,symbolTriangle:wU,symbolWye:SU},ZU=Math.PI/180,QU=e=>{var t="symbol".concat(rp(e));return KD[t]||P1},JU=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*ZU;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},e7=(e,t)=>{KD["symbol".concat(rp(e))]=t},D1=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,a=YU(e,WU),i=aj(aj({},a),{},{type:t,size:n,sizeType:r}),o="circle";typeof t=="string"&&(o=t);var s=()=>{var p=QU(o),m=NU().type(p).size(JU(n,r,o)),h=m();if(h!==null)return h},{className:l,cx:c,cy:d}=i,f=La(i);return kt(c)&&kt(d)&&kt(n)?v.createElement("path",tx({},f,{className:xn("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(d,")"),d:s()})):null};D1.registerSymbol=e7;var GD=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,O1=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{C1(a)&&(r[a]=i=>n[a](n,i))}),r},t7=(e,t,n)=>r=>(e(t,n,r),null),I1=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(a=>{var i=e[a];C1(a)&&typeof i=="function"&&(r||(r={}),r[a]=t7(i,t,n))}),r};function ij(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function n7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ij(Object(n),!0).forEach(function(r){r7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ij(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function r7(e,t,n){return(t=a7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a7(e){var t=i7(e,"string");return typeof t=="symbol"?t:t+""}function i7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gr(e,t){var n=n7({},e),r=t,a=Object.keys(t),i=a.reduce((o,s)=>(o[s]===void 0&&r[s]!==void 0&&(o[s]=r[s]),o),n);return i}function $h(){return $h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$h.apply(null,arguments)}function oj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function o7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oj(Object(n),!0).forEach(function(r){s7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function s7(e,t,n){return(t=l7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l7(e){var t=c7(e,"string");return typeof t=="symbol"?t:t+""}function c7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Di=32,u7={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function d7(e){var{data:t,iconType:n,inactiveColor:r}=e,a=Di/2,i=Di/6,o=Di/3,s=t.inactive?r:t.color,l=n??t.type;if(l==="none")return null;if(l==="plainline"){var c;return v.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:(c=t.payload)===null||c===void 0?void 0:c.strokeDasharray,x1:0,y1:a,x2:Di,y2:a,className:"recharts-legend-icon"})}if(l==="line")return v.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(Di,"M").concat(2*o,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(l==="rect")return v.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(Di/8,"h").concat(Di,"v").concat(Di*3/4,"h").concat(-Di,"z"),className:"recharts-legend-icon"});if(v.isValidElement(t.legendIcon)){var d=o7({},t);return delete d.legendIcon,v.cloneElement(t.legendIcon,d)}return v.createElement(D1,{fill:s,cx:a,cy:a,size:Di,sizeType:"diameter",type:l})}function f7(e){var{payload:t,iconSize:n,layout:r,formatter:a,inactiveColor:i,iconType:o}=e,s={x:0,y:0,width:Di,height:Di},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var p=d.formatter||a,m=xn({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var h=d.inactive?i:d.color,y=p?p(d.value,d,f):d.value;return v.createElement("li",$h({className:m,style:l,key:"legend-item-".concat(f)},I1(e,d,f)),v.createElement(M1,{width:n,height:n,viewBox:s,style:c,"aria-label":"".concat(y," legend icon")},v.createElement(d7,{data:d,iconType:o,inactiveColor:i})),v.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},y))})}var p7=e=>{var t=Gr(e,u7),{payload:n,layout:r,align:a}=t;if(!n||!n.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?a:"left"};return v.createElement("ul",{className:"recharts-default-legend",style:i},v.createElement(f7,$h({},t,{payload:n})))},YD={},XD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const a=new Map;for(let i=0;i<n.length;i++){const o=n[i],s=r(o,i,n);a.has(s)||a.set(s,o)}return Array.from(a.values())}e.uniqBy=t})(XD);var ZD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...a){return n.apply(this,a.slice(0,r))}}e.ary=t})(ZD);var _1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(_1);var QD={},d0={},JD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(JD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JD;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(d0);var eO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(eO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d0,n=eO;function r(a){return n.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=r})(QD);var tO={},nO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l0;function n(r){return function(a){return t.get(a,r)}}e.property=n})(nO);var rO={},L1={},aO={},F1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(F1);var $1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})($1);var R1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(R1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F1,n=$1,r=R1;function a(d,f,p){return typeof p!="function"?a(d,f,()=>{}):i(d,f,function m(h,y,x,g,b,w){const S=p(h,y,x,g,b,w);return S!==void 0?!!S:i(h,y,m,w)},new Map)}function i(d,f,p,m){if(f===d)return!0;switch(typeof f){case"object":return o(d,f,p,m);case"function":return Object.keys(f).length>0?i(d,{...f},p,m):r.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:r.isEqualsSameValueZero(d,f)}}function o(d,f,p,m){if(f==null)return!0;if(Array.isArray(f))return l(d,f,p,m);if(f instanceof Map)return s(d,f,p,m);if(f instanceof Set)return c(d,f,p,m);const h=Object.keys(f);if(d==null||n.isPrimitive(d))return h.length===0;if(h.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let y=0;y<h.length;y++){const x=h[y];if(!n.isPrimitive(d)&&!(x in d)||f[x]===void 0&&d[x]!==void 0||f[x]===null&&d[x]!==null||!p(d[x],f[x],x,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function s(d,f,p,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[h,y]of f.entries()){const x=d.get(h);if(p(x,y,h,d,f,m)===!1)return!1}return!0}function l(d,f,p,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const h=new Set;for(let y=0;y<f.length;y++){const x=f[y];let g=!1;for(let b=0;b<d.length;b++){if(h.has(b))continue;const w=d[b];let S=!1;if(p(w,x,y,d,f,m)&&(S=!0),S){h.add(b),g=!0;break}}if(!g)return!1}return!0}function c(d,f,p,m){return f.size===0?!0:d instanceof Set?l([...d],[...f],p,m):!1}e.isMatchWith=a,e.isSetMatch=c})(aO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aO;function n(r,a){return t.isMatchWith(r,a,()=>{})}e.isMatch=n})(L1);var iO={},B1={},oO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(oO);var f0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(f0);var z1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",s="[object Date]",l="[object Map]",c="[object Set]",d="[object Array]",f="[object Function]",p="[object ArrayBuffer]",m="[object Object]",h="[object Error]",y="[object DataView]",x="[object Uint8Array]",g="[object Uint8ClampedArray]",b="[object Uint16Array]",w="[object Uint32Array]",S="[object BigUint64Array]",C="[object Int8Array]",j="[object Int16Array]",M="[object Int32Array]",P="[object BigInt64Array]",$="[object Float32Array]",E="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=p,e.arrayTag=d,e.bigInt64ArrayTag=P,e.bigUint64ArrayTag=S,e.booleanTag=a,e.dataViewTag=y,e.dateTag=s,e.errorTag=h,e.float32ArrayTag=$,e.float64ArrayTag=E,e.functionTag=f,e.int16ArrayTag=j,e.int32ArrayTag=M,e.int8ArrayTag=C,e.mapTag=l,e.numberTag=r,e.objectTag=m,e.regexpTag=t,e.setTag=c,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=b,e.uint32ArrayTag=w,e.uint8ArrayTag=x,e.uint8ClampedArrayTag=g})(z1);var sO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(sO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oO,n=f0,r=z1,a=$1,i=sO;function o(d,f){return s(d,void 0,d,new Map,f)}function s(d,f,p,m=new Map,h=void 0){const y=h==null?void 0:h(d,f,p,m);if(y!==void 0)return y;if(a.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const x=new Array(d.length);m.set(d,x);for(let g=0;g<d.length;g++)x[g]=s(d[g],g,p,m,h);return Object.hasOwn(d,"index")&&(x.index=d.index),Object.hasOwn(d,"input")&&(x.input=d.input),x}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const x=new RegExp(d.source,d.flags);return x.lastIndex=d.lastIndex,x}if(d instanceof Map){const x=new Map;m.set(d,x);for(const[g,b]of d)x.set(g,s(b,g,p,m,h));return x}if(d instanceof Set){const x=new Set;m.set(d,x);for(const g of d)x.add(s(g,void 0,p,m,h));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const x=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,x);for(let g=0;g<d.length;g++)x[g]=s(d[g],g,p,m,h);return x}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const x=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,x),l(x,d,p,m,h),x}if(typeof File<"u"&&d instanceof File){const x=new File([d],d.name,{type:d.type});return m.set(d,x),l(x,d,p,m,h),x}if(typeof Blob<"u"&&d instanceof Blob){const x=new Blob([d],{type:d.type});return m.set(d,x),l(x,d,p,m,h),x}if(d instanceof Error){const x=new d.constructor;return m.set(d,x),x.message=d.message,x.name=d.name,x.stack=d.stack,x.cause=d.cause,l(x,d,p,m,h),x}if(d instanceof Boolean){const x=new Boolean(d.valueOf());return m.set(d,x),l(x,d,p,m,h),x}if(d instanceof Number){const x=new Number(d.valueOf());return m.set(d,x),l(x,d,p,m,h),x}if(d instanceof String){const x=new String(d.valueOf());return m.set(d,x),l(x,d,p,m,h),x}if(typeof d=="object"&&c(d)){const x=Object.create(Object.getPrototypeOf(d));return m.set(d,x),l(x,d,p,m,h),x}return d}function l(d,f,p=d,m,h){const y=[...Object.keys(f),...t.getSymbols(f)];for(let x=0;x<y.length;x++){const g=y[x],b=Object.getOwnPropertyDescriptor(d,g);(b==null||b.writable)&&(d[g]=s(f[g],g,p,m,h))}}function c(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=s,e.copyProperties=l})(B1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B1;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(iO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L1,n=iO;function r(a){return a=n.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=r})(rO);var lO={},cO={},uO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B1,n=f0,r=z1;function a(i,o){return t.cloneDeepWith(i,(s,l,c,d)=>{const f=o==null?void 0:o(s,l,c,d);if(f!==void 0)return f;if(typeof i=="object"){if(n.getTag(i)===r.objectTag&&typeof i.constructor!="function"){const p={};return d.set(i,p),t.copyProperties(p,i,c,d),p}switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(p,i),p}case r.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}}})}e.cloneDeepWith=a})(uO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uO;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(cO);var dO={},U1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(U1);var fO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f0;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(fO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T1,n=U1,r=fO,a=u0;function i(o,s){let l;if(Array.isArray(s)?l=s:typeof s=="string"&&t.isDeepKey(s)&&(o==null?void 0:o[s])==null?l=a.toPath(s):l=[s],l.length===0)return!1;let c=o;for(let d=0;d<l.length;d++){const f=l[d];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}e.has=i})(dO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L1,n=c0,r=cO,a=l0,i=dO;function o(s,l){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=n.toKey(s);break}}return l=r.cloneDeep(l),function(c){const d=a.get(c,s);return d===void 0?i.has(c,s):l===void 0?d===void 0:t.isMatch(d,l)}}e.matchesProperty=o})(lO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_1,n=nO,r=rO,a=lO;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=i})(tO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XD,n=ZD,r=_1,a=QD,i=tO;function o(s,l=r.identity){return a.isArrayLikeObject(s)?t.uniqBy(Array.from(s),n.ary(i.iteratee(l),1)):[]}e.uniqBy=o})(YD);var m7=YD.uniqBy;const sj=mo(m7);function pO(e,t,n){return t===!0?sj(e,n):typeof t=="function"?sj(e,t):e}var mO={exports:{}},hO={},gO={exports:{}},yO={};/**
* @license React
* use-sync-external-store-shim.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Tu=v;function h7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var g7=typeof Object.is=="function"?Object.is:h7,y7=Tu.useState,v7=Tu.useEffect,b7=Tu.useLayoutEffect,x7=Tu.useDebugValue;function w7(e,t){var n=t(),r=y7({inst:{value:n,getSnapshot:t}}),a=r[0].inst,i=r[1];return b7(function(){a.value=n,a.getSnapshot=t,nv(a)&&i({inst:a})},[e,n,t]),v7(function(){return nv(a)&&i({inst:a}),e(function(){nv(a)&&i({inst:a})})},[e]),x7(n),n}function nv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!g7(e,n)}catch{return!0}}function k7(e,t){return t()}var S7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?k7:w7;yO.useSyncExternalStore=Tu.useSyncExternalStore!==void 0?Tu.useSyncExternalStore:S7;gO.exports=yO;var N7=gO.exports;/**
* @license React
* use-sync-external-store-shim/with-selector.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var p0=v,j7=N7;function C7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var M7=typeof Object.is=="function"?Object.is:C7,A7=j7.useSyncExternalStore,E7=p0.useRef,P7=p0.useEffect,T7=p0.useMemo,D7=p0.useDebugValue;hO.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var i=E7(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=T7(function(){function l(m){if(!c){if(c=!0,d=m,m=r(m),a!==void 0&&o.hasValue){var h=o.value;if(a(h,m))return f=h}return f=m}if(h=f,M7(d,m))return h;var y=r(m);return a!==void 0&&a(h,y)?(d=m,h):(d=m,f=y)}var c=!1,d,f,p=n===void 0?null:n;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,n,r,a]);var s=A7(e,i[0],i[1]);return P7(function(){o.hasValue=!0,o.value=s},[s]),D7(s),s};mO.exports=hO;var O7=mO.exports,V1=v.createContext(null),I7=e=>e,Vn=()=>{var e=v.useContext(V1);return e?e.store.dispatch:I7},Km=()=>{},_7=()=>Km,L7=(e,t)=>e===t;function vt(e){var t=v.useContext(V1);return O7.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:_7,t?t.store.getState:Km,t?t.store.getState:Km,t?e:Km,L7)}function F7(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function $7(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function R7(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var lj=e=>Array.isArray(e)?e:[e];function B7(e){const t=Array.isArray(e[0])?e[0]:e;return R7(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function z7(e,t){const n=[],{length:r}=e;for(let a=0;a<r;a++)n.push(e[a].apply(null,t));return n}var U7=class{constructor(e){this.value=e}deref(){return this.value}},V7=typeof WeakRef<"u"?WeakRef:U7,H7=0,cj=1;function dm(){return{s:H7,v:void 0,o:null,p:null}}function vO(e,t={}){let n=dm();const{resultEqualityCheck:r}=t;let a,i=0;function o(){var s;let l=n;const{length:c}=arguments;for(let p=0,m=c;p<m;p++){const h=arguments[p];if(typeof h=="function"||typeof h=="object"&&h!==null){let y=l.o;y===null&&(l.o=y=new WeakMap);const x=y.get(h);x===void 0?(l=dm(),y.set(h,l)):l=x}else{let y=l.p;y===null&&(l.p=y=new Map);const x=y.get(h);x===void 0?(l=dm(),y.set(h,l)):l=x}}const d=l;let f;if(l.s===cj)f=l.v;else if(f=e.apply(null,arguments),i++,r){const p=((s=a==null?void 0:a.deref)==null?void 0:s.call(a))??a;p!=null&&r(p,f)&&(f=p,i!==0&&i--),a=typeof f=="object"&&f!==null||typeof f=="function"?new V7(f):f}return d.s=cj,d.v=f,f}return o.clearCache=()=>{n=dm(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function W7(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...a)=>{let i=0,o=0,s,l={},c=a.pop();typeof c=="object"&&(l=c,c=a.pop()),F7(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...n,...l},{memoize:f,memoizeOptions:p=[],argsMemoize:m=vO,argsMemoizeOptions:h=[]}=d,y=lj(p),x=lj(h),g=B7(a),b=f(function(){return i++,c.apply(null,arguments)},...y),w=m(function(){o++;const S=z7(g,arguments);return s=b.apply(null,S),s},...x);return Object.assign(w,{resultFunc:c,memoizedResultFunc:b,dependencies:g,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var de=W7(vO),q7=Object.assign((e,t=de)=>{$7(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((i,o,s)=>(i[n[s]]=o,i),{}))},{withTypes:()=>q7}),bO={},xO={},wO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,i)=>{if(r!==a){const o=t(r),s=t(a);if(o===s&&o===0){if(r<a)return i==="desc"?1:-1;if(r>a)return i==="desc"?-1:1}return i==="desc"?s-o:o-s}return 0};e.compareValues=n})(wO);var kO={},H1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(H1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H1,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(r.test(i)||!n.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(kO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wO,n=kO,r=u0;function a(i,o,s,l){if(i==null)return[];s=l?void 0:s,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(p=>String(p));const c=(p,m)=>{let h=p;for(let y=0;y<m.length&&h!=null;++y)h=h[m[y]];return h},d=(p,m)=>m==null||p==null?m:typeof p=="object"&&"key"in p?Object.hasOwn(m,p.key)?m[p.key]:c(m,p.path):typeof p=="function"?p(m):Array.isArray(p)?c(m,p):typeof m=="object"?m[p]:m,f=o.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return i.map(p=>({original:p,criteria:f.map(m=>d(m,p))})).slice().sort((p,m)=>{for(let h=0;h<f.length;h++){const y=t.compareValues(p.criteria[h],m.criteria[h],s[h]);if(y!==0)return y}return 0}).map(p=>p.original)}e.orderBy=a})(xO);var SO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const a=[],i=Math.floor(r),o=(s,l)=>{for(let c=0;c<s.length;c++){const d=s[c];Array.isArray(d)&&l<i?o(d,l+1):a.push(d)}};return o(n,0),a}e.flatten=t})(SO);var W1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=U1,n=d0,r=F1,a=R1;function i(o,s,l){return r.isObject(l)&&(typeof s=="number"&&n.isArrayLike(l)&&t.isIndex(s)&&s<l.length||typeof s=="string"&&s in l)?a.isEqualsSameValueZero(l[s],o):!1}e.isIterateeCall=i})(W1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xO,n=SO,r=W1;function a(i,...o){const s=o.length;return s>1&&r.isIterateeCall(i,o[0],o[1])?o=[]:s>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,n.flatten(o),["asc"])}e.sortBy=a})(bO);var K7=bO.sortBy;const m0=mo(K7);var NO=e=>e.legend.settings,G7=e=>e.legend.size,Y7=e=>e.legend.payload,X7=de([Y7,NO],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?m0(r,n):r});function Z7(){return vt(X7)}var fm=1;function jO(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=v.useState({height:0,left:0,top:0,width:0}),r=v.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>fm||Math.abs(o.left-t.left)>fm||Math.abs(o.top-t.top)>fm||Math.abs(o.width-t.width)>fm)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function ca(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Q7=typeof Symbol=="function"&&Symbol.observable||"@@observable",uj=Q7,rv=()=>Math.random().toString(36).substring(7).split("").join("."),J7={INIT:`@@redux/INIT${rv()}`,REPLACE:`@@redux/REPLACE${rv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${rv()}`},Rh=J7;function q1(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function CO(e,t,n){if(typeof e!="function")throw new Error(ca(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ca(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ca(1));return n(CO)(e,t)}let r=e,a=t,i=new Map,o=i,s=0,l=!1;function c(){o===i&&(o=new Map,i.forEach((y,x)=>{o.set(x,y)}))}function d(){if(l)throw new Error(ca(3));return a}function f(y){if(typeof y!="function")throw new Error(ca(4));if(l)throw new Error(ca(5));let x=!0;c();const g=s++;return o.set(g,y),function(){if(x){if(l)throw new Error(ca(6));x=!1,c(),o.delete(g),i=null}}}function p(y){if(!q1(y))throw new Error(ca(7));if(typeof y.type>"u")throw new Error(ca(8));if(typeof y.type!="string")throw new Error(ca(17));if(l)throw new Error(ca(9));try{l=!0,a=r(a,y)}finally{l=!1}return(i=o).forEach(x=>{x()}),y}function m(y){if(typeof y!="function")throw new Error(ca(10));r=y,p({type:Rh.REPLACE})}function h(){const y=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(ca(11));function g(){const b=x;b.next&&b.next(d())}return g(),{unsubscribe:y(g)}},[uj](){return this}}}return p({type:Rh.INIT}),{dispatch:p,subscribe:f,getState:d,replaceReducer:m,[uj]:h}}function eV(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Rh.INIT})>"u")throw new Error(ca(12));if(typeof n(void 0,{type:Rh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ca(13))})}function MO(e){const t=Object.keys(e),n={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let a;try{eV(n)}catch(i){a=i}return function(i={},o){if(a)throw a;let s=!1;const l={};for(let c=0;c<r.length;c++){const d=r[c],f=n[d],p=i[d],m=f(p,o);if(typeof m>"u")throw o&&o.type,new Error(ca(14));l[d]=m,s=s||m!==p}return s=s||r.length!==Object.keys(i).length,s?l:i}}function Bh(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function tV(...e){return t=>(n,r)=>{const a=t(n,r);let i=()=>{throw new Error(ca(15))};const o={getState:a.getState,dispatch:(l,...c)=>i(l,...c)},s=e.map(l=>l(o));return i=Bh(...s)(a.dispatch),{...a,dispatch:i}}}function AO(e){return q1(e)&&"type"in e&&typeof e.type=="string"}var EO=Symbol.for("immer-nothing"),dj=Symbol.for("immer-draftable"),Fa=Symbol.for("immer-state");function to(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var pi=Object,Du=pi.getPrototypeOf,zh="constructor",h0="prototype",nx="configurable",Uh="enumerable",Gm="writable",Af="value",hs=e=>!!e&&!!e[Fa];function uo(e){var t;return e?PO(e)||y0(e)||!!e[dj]||!!((t=e[zh])!=null&&t[dj])||v0(e)||b0(e):!1}var nV=pi[h0][zh].toString(),fj=new WeakMap;function PO(e){if(!e||!K1(e))return!1;const t=Du(e);if(t===null||t===pi[h0])return!0;const n=pi.hasOwnProperty.call(t,zh)&&t[zh];if(n===Object)return!0;if(!qc(n))return!1;let r=fj.get(n);return r===void 0&&(r=Function.toString.call(n),fj.set(n,r)),r===nV}function g0(e,t,n=!0){ip(e)===0?(n?Reflect.ownKeys(e):pi.keys(e)).forEach(r=>{t(r,e[r],e)}):e.forEach((r,a)=>t(a,r,e))}function ip(e){const t=e[Fa];return t?t.type_:y0(e)?1:v0(e)?2:b0(e)?3:0}var pj=(e,t,n=ip(e))=>n===2?e.has(t):pi[h0].hasOwnProperty.call(e,t),rx=(e,t,n=ip(e))=>n===2?e.get(t):e[t],Vh=(e,t,n,r=ip(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function rV(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var y0=Array.isArray,v0=e=>e instanceof Map,b0=e=>e instanceof Set,K1=e=>typeof e=="object",qc=e=>typeof e=="function",av=e=>typeof e=="boolean";function aV(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Xo=e=>e.copy_||e.base_,G1=e=>e.modified_?e.copy_:e.base_;function ax(e,t){if(v0(e))return new Map(e);if(b0(e))return new Set(e);if(y0(e))return Array[h0].slice.call(e);const n=PO(e);if(t===!0||t==="class_only"&&!n){const r=pi.getOwnPropertyDescriptors(e);delete r[Fa];let a=Reflect.ownKeys(r);for(let i=0;i<a.length;i++){const o=a[i],s=r[o];s[Gm]===!1&&(s[Gm]=!0,s[nx]=!0),(s.get||s.set)&&(r[o]={[nx]:!0,[Gm]:!0,[Uh]:s[Uh],[Af]:e[o]})}return pi.create(Du(e),r)}else{const r=Du(e);if(r!==null&&n)return{...e};const a=pi.create(r);return pi.assign(a,e)}}function Y1(e,t=!1){return x0(e)||hs(e)||!uo(e)||(ip(e)>1&&pi.defineProperties(e,{set:pm,add:pm,clear:pm,delete:pm}),pi.freeze(e),t&&g0(e,(n,r)=>{Y1(r,!0)},!1)),e}function iV(){to(2)}var pm={[Af]:iV};function x0(e){return e===null||!K1(e)?!0:pi.isFrozen(e)}var Hh="MapSet",ix="Patches",mj="ArrayMethods",TO={};function yc(e){const t=TO[e];return t||to(0,e),t}var hj=e=>!!TO[e],Ef,DO=()=>Ef,oV=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:hj(Hh)?yc(Hh):void 0,arrayMethodsPlugin_:hj(mj)?yc(mj):void 0});function gj(e,t){t&&(e.patchPlugin_=yc(ix),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ox(e){sx(e),e.drafts_.forEach(sV),e.drafts_=null}function sx(e){e===Ef&&(Ef=e.parent_)}var yj=e=>Ef=oV(Ef,e);function sV(e){const t=e[Fa];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function vj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Fa].modified_&&(ox(t),to(4)),uo(e)&&(e=bj(t,e));const{patchPlugin_:r}=t;r&&r.generateReplacementPatches_(n[Fa].base_,e,t)}else e=bj(t,n);return lV(t,e,!0),ox(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==EO?e:void 0}function bj(e,t){if(x0(t))return t;const n=t[Fa];if(!n)return Wh(t,e.handledSet_,e);if(!w0(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);_O(n,e)}return n.copy_}function lV(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Y1(t,n)}function OO(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var w0=(e,t)=>e.scope_===t,cV=[];function IO(e,t,n,r){const a=Xo(e),i=e.type_;if(r!==void 0&&rx(a,r,i)===t){Vh(a,r,n,i);return}if(!e.draftLocations_){const s=e.draftLocations_=new Map;g0(a,(l,c)=>{if(hs(c)){const d=s.get(c)||[];d.push(l),s.set(c,d)}})}const o=e.draftLocations_.get(t)??cV;for(const s of o)Vh(a,s,n,i)}function uV(e,t,n){e.callbacks_.push(function(r){var a;const i=t;if(!i||!w0(i,r))return;(a=r.mapSetPlugin_)==null||a.fixSetContents(i);const o=G1(i);IO(e,i.draft_??i,o,n),_O(i,r)})}function _O(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:r}=t;if(r){const a=r.getPath(e);a&&r.generatePatches_(e,a,t)}OO(e)}}function dV(e,t,n){const{scope_:r}=e;if(hs(n)){const a=n[Fa];w0(a,r)&&a.callbacks_.push(function(){Ym(e);const i=G1(a);IO(e,n,i,t)})}else uo(n)&&e.callbacks_.push(function(){const a=Xo(e);e.type_===3?a.has(n)&&Wh(n,r.handledSet_,r):rx(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Wh(rx(e.copy_,t,e.type_),r.handledSet_,r)})}function Wh(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||hs(e)||t.has(e)||!uo(e)||x0(e)||(t.add(e),g0(e,(r,a)=>{if(hs(a)){const i=a[Fa];if(w0(i,n)){const o=G1(i);Vh(e,r,o,e.type_),OO(i)}}else uo(a)&&Wh(a,t,n)})),e}function fV(e,t){const n=y0(e),r={type_:n?1:0,scope_:t?t.scope_:DO(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=r,i=qh;n&&(a=[r],i=Pf);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return r.draft_=s,r.revoke_=o,[s,r]}var qh={get(e,t){if(t===Fa)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const a=Xo(e);if(!pj(a,t,e.type_))return pV(e,a,t);const i=a[t];if(e.finalized_||!uo(i)||r&&e.operationMethod&&n!=null&&n.isMutatingArrayMethod(e.operationMethod)&&aV(t))return i;if(i===iv(e.base_,t)){Ym(e);const o=e.type_===1?+t:t,s=cx(e.scope_,i,e,o);return e.copy_[o]=s}return i},has(e,t){return t in Xo(e)},ownKeys(e){return Reflect.ownKeys(Xo(e))},set(e,t,n){const r=LO(Xo(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=iv(Xo(e),t),i=a==null?void 0:a[Fa];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(rV(n,a)&&(n!==void 0||pj(e.base_,t,e.type_)))return!0;Ym(e),lx(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),dV(e,t,n)),!0},deleteProperty(e,t){return Ym(e),iv(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),lx(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Xo(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[Gm]:!0,[nx]:e.type_!==1||t!=="length",[Uh]:r[Uh],[Af]:n[t]}},defineProperty(){to(11)},getPrototypeOf(e){return Du(e.base_)},setPrototypeOf(){to(12)}},Pf={};for(let e in qh){let t=qh[e];Pf[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}Pf.deleteProperty=function(e,t){return Pf.set.call(this,e,t,void 0)};Pf.set=function(e,t,n){return qh.set.call(this,e[0],t,n,e[0])};function iv(e,t){const n=e[Fa];return(n?Xo(n):e)[t]}function pV(e,t,n){var r;const a=LO(t,n);return a?Af in a?a[Af]:(r=a.get)==null?void 0:r.call(e.draft_):void 0}function LO(e,t){if(!(t in e))return;let n=Du(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Du(n)}}function lx(e){e.modified_||(e.modified_=!0,e.parent_&&lx(e.parent_))}function Ym(e){e.copy_||(e.assigned_=new Map,e.copy_=ax(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var mV=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,n,r)=>{if(qc(t)&&!qc(n)){const i=n;n=t;const o=this;return function(s=i,...l){return o.produce(s,c=>n.call(this,c,...l))}}qc(n)||to(6),r!==void 0&&!qc(r)&&to(7);let a;if(uo(t)){const i=yj(this),o=cx(i,t,void 0);let s=!0;try{a=n(o),s=!1}finally{s?ox(i):sx(i)}return gj(i,r),vj(a,i)}else if(!t||!K1(t)){if(a=n(t),a===void 0&&(a=t),a===EO&&(a=void 0),this.autoFreeze_&&Y1(a,!0),r){const i=[],o=[];yc(ix).generateReplacementPatches_(t,a,{patches_:i,inversePatches_:o}),r(i,o)}return a}else to(1,t)},this.produceWithPatches=(t,n)=>{if(qc(t))return(i,...o)=>this.produceWithPatches(i,s=>t(s,...o));let r,a;return[this.produce(t,n,(i,o)=>{r=i,a=o}),r,a]},av(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),av(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),av(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){uo(e)||to(8),hs(e)&&(e=oo(e));const t=yj(this),n=cx(t,e,void 0);return n[Fa].isManual_=!0,sx(t),n}finishDraft(e,t){const n=e&&e[Fa];(!n||!n.isManual_)&&to(9);const{scope_:r}=n;return gj(r,t),vj(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const r=yc(ix).applyPatches_;return hs(e)?r(e,t):this.produce(e,a=>r(a,t))}};function cx(e,t,n,r){const[a,i]=v0(t)?yc(Hh).proxyMap_(t,n):b0(t)?yc(Hh).proxySet_(t,n):fV(t,n);return((n==null?void 0:n.scope_)??DO()).drafts_.push(a),i.callbacks_=(n==null?void 0:n.callbacks_)??[],i.key_=r,n&&r!==void 0?uV(n,i,r):i.callbacks_.push(function(o){var s;(s=o.mapSetPlugin_)==null||s.fixSetContents(i);const{patchPlugin_:l}=o;i.modified_&&l&&l.generatePatches_(i,[],o)}),a}function oo(e){return hs(e)||to(10,e),FO(e)}function FO(e){if(!uo(e)||x0(e))return e;const t=e[Fa];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=ax(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=ax(e,!0);return g0(n,(a,i)=>{Vh(n,a,FO(i))},r),t&&(t.finalized_=!1),n}var hV=new mV,$O=hV.produce;function RO(e){return({dispatch:t,getState:n})=>r=>a=>typeof a=="function"?a(t,n,e):r(a)}var gV=RO(),yV=RO,vV=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Bh:Bh.apply(null,arguments)};function Hi(e,t){function n(...r){if(t){let a=t(...r);if(!a)throw new Error(hi(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>AO(r)&&r.type===e,n}var BO=class Fd extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Fd.prototype)}static get[Symbol.species](){return Fd}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Fd(...t[0].concat(this)):new Fd(...t.concat(this))}};function xj(e){return uo(e)?$O(e,()=>{}):e}function mm(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function bV(e){return typeof e=="boolean"}var xV=()=>function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:a=!0}=e??{};let i=new BO;return t&&(bV(t)?i.push(gV):i.push(yV(t.extraArgument))),i},zO="RTK_autoBatch",rr=()=>e=>({payload:e,meta:{[zO]:!0}}),wj=e=>t=>{setTimeout(t,e)},UO=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let a=!0,i=!1,o=!1;const s=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:wj(10):e.type==="callback"?e.queueNotification:wj(e.timeout),c=()=>{o=!1,i&&(i=!1,s.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>a&&d(),p=r.subscribe(f);return s.add(d),()=>{p(),s.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[zO]),i=!a,i&&(o||(o=!0,l(c))),r.dispatch(d)}finally{a=!0}}})},wV=e=>function(t){const{autoBatch:n=!0}=t??{};let r=new BO(e);return n&&r.push(UO(typeof n=="object"?n:void 0)),r};function kV(e){const t=xV(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let s;if(typeof n=="function")s=n;else if(q1(n))s=MO(n);else throw new Error(hi(1));let l;typeof r=="function"?l=r(t):l=t();let c=Bh;a&&(c=vV({trace:!1,...typeof a=="object"&&a}));const d=tV(...l),f=wV(d);let p=typeof o=="function"?o(f):f();const m=c(...p);return CO(s,i,m)}function VO(e){const t={},n=[];let r;const a={addCase(i,o){const s=typeof i=="string"?i:i.type;if(!s)throw new Error(hi(28));if(s in t)throw new Error(hi(29));return t[s]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return n.push({matcher:i,reducer:o}),a},addDefaultCase(i){return r=i,a}};return e(a),[t,n,r]}function SV(e){return typeof e=="function"}function NV(e,t){let[n,r,a]=VO(t),i;if(SV(e))i=()=>xj(e());else{const s=xj(e);i=()=>s}function o(s=i(),l){let c=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[a]),c.reduce((d,f)=>{if(f)if(hs(d)){const p=f(d,l);return p===void 0?d:p}else{if(uo(d))return $O(d,p=>f(p,l));{const p=f(d,l);if(p===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return d},s)}return o.getInitialState=i,o}var jV="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",CV=(e=21)=>{let t="",n=e;for(;n--;)t+=jV[Math.random()*64|0];return t},MV=Symbol.for("rtk-slice-createasyncthunk");function AV(e,t){return`${e}/${t}`}function EV({creators:e}={}){var t;const n=(t=e==null?void 0:e.asyncThunk)==null?void 0:t[MV];return function(r){const{name:a,reducerPath:i=a}=r;if(!a)throw new Error(hi(11));const o=(typeof r.reducers=="function"?r.reducers(TV()):r.reducers)||{},s=Object.keys(o),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(w,S){const C=typeof w=="string"?w:w.type;if(!C)throw new Error(hi(12));if(C in l.sliceCaseReducersByType)throw new Error(hi(13));return l.sliceCaseReducersByType[C]=S,c},addMatcher(w,S){return l.sliceMatchers.push({matcher:w,reducer:S}),c},exposeAction(w,S){return l.actionCreators[w]=S,c},exposeCaseReducer(w,S){return l.sliceCaseReducersByName[w]=S,c}};s.forEach(w=>{const S=o[w],C={reducerName:w,type:AV(a,w),createNotation:typeof r.reducers=="function"};OV(S)?_V(C,S,c,n):DV(C,S,c)});function d(){const[w={},S=[],C=void 0]=typeof r.extraReducers=="function"?VO(r.extraReducers):[r.extraReducers],j={...w,...l.sliceCaseReducersByType};return NV(r.initialState,M=>{for(let P in j)M.addCase(P,j[P]);for(let P of l.sliceMatchers)M.addMatcher(P.matcher,P.reducer);for(let P of S)M.addMatcher(P.matcher,P.reducer);C&&M.addDefaultCase(C)})}const f=w=>w,p=new Map,m=new WeakMap;let h;function y(w,S){return h||(h=d()),h(w,S)}function x(){return h||(h=d()),h.getInitialState()}function g(w,S=!1){function C(M){let P=M[w];return typeof P>"u"&&S&&(P=mm(m,C,x)),P}function j(M=f){const P=mm(p,S,()=>new WeakMap);return mm(P,M,()=>{const $={};for(const[E,_]of Object.entries(r.selectors??{}))$[E]=PV(_,M,()=>mm(m,M,x),S);return $})}return{reducerPath:w,getSelectors:j,get selectors(){return j(C)},selectSlice:C}}const b={name:a,reducer:y,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:x,...g(i),injectInto(w,{reducerPath:S,...C}={}){const j=S??i;return w.inject({reducerPath:j,reducer:y},C),{...b,...g(j,!0)}}};return b}}function PV(e,t,n,r){function a(i,...o){let s=t(i);return typeof s>"u"&&r&&(s=n()),e(s,...o)}return a.unwrapped=e,a}var ri=EV();function TV(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function DV({type:e,reducerName:t,createNotation:n},r,a){let i,o;if("reducer"in r){if(n&&!IV(r))throw new Error(hi(17));i=r.reducer,o=r.prepare}else i=r;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?Hi(e,o):Hi(e))}function OV(e){return e._reducerDefinitionType==="asyncThunk"}function IV(e){return e._reducerDefinitionType==="reducerWithPrepare"}function _V({type:e,reducerName:t},n,r,a){if(!a)throw new Error(hi(18));const{payloadCreator:i,fulfilled:o,pending:s,rejected:l,settled:c,options:d}=n,f=a(e,i,d);r.exposeAction(t,f),o&&r.addCase(f.fulfilled,o),s&&r.addCase(f.pending,s),l&&r.addCase(f.rejected,l),c&&r.addMatcher(f.settled,c),r.exposeCaseReducer(t,{fulfilled:o||hm,pending:s||hm,rejected:l||hm,settled:c||hm})}function hm(){}var LV="task",HO="listener",WO="completed",X1="cancelled",FV=`task-${X1}`,$V=`task-${WO}`,ux=`${HO}-${X1}`,RV=`${HO}-${WO}`,k0=class{constructor(e){P2(this,"name","TaskAbortError"),P2(this,"message"),this.code=e,this.message=`${LV} ${X1} (reason: ${e})`}},Z1=(e,t)=>{if(typeof e!="function")throw new TypeError(hi(32))},Kh=()=>{},qO=(e,t=Kh)=>(e.catch(t),e),KO=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),oc=e=>{if(e.aborted)throw new k0(e.reason)};function GO(e,t){let n=Kh;return new Promise((r,a)=>{const i=()=>a(new k0(e.reason));if(e.aborted){i();return}n=KO(e,i),t.finally(()=>n()).then(r,a)}).finally(()=>{n=Kh})}var BV=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof k0?"cancelled":"rejected",error:n}}finally{t==null||t()}},Gh=e=>t=>qO(GO(e,t).then(n=>(oc(e),n))),YO=e=>{const t=Gh(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:vu}=Object,kj={},S0="listenerMiddleware",zV=(e,t)=>{const n=r=>KO(e,()=>r.abort(e.reason));return(r,a)=>{Z1(r);const i=new AbortController;n(i);const o=BV(async()=>{oc(e),oc(i.signal);const s=await r({pause:Gh(i.signal),delay:YO(i.signal),signal:i.signal});return oc(i.signal),s},()=>i.abort($V));return a!=null&&a.autoJoin&&t.push(o.catch(Kh)),{result:Gh(e)(o),cancel(){i.abort(FV)}}}},UV=(e,t)=>{const n=async(r,a)=>{oc(t);let i=()=>{};const o=[new Promise((s,l)=>{let c=e({predicate:r,effect:(d,f)=>{f.unsubscribe(),s([d,f.getState(),f.getOriginalState()])}});i=()=>{c(),l()}})];a!=null&&o.push(new Promise(s=>setTimeout(s,a,null)));try{const s=await GO(t,Promise.race(o));return oc(t),s}finally{i()}};return(r,a)=>qO(n(r,a))},XO=e=>{let{type:t,actionCreator:n,matcher:r,predicate:a,effect:i}=e;if(t)a=Hi(t).match;else if(n)t=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(hi(21));return Z1(i),{predicate:a,type:t,effect:i}},ZO=vu(e=>{const{type:t,predicate:n,effect:r}=XO(e);return{id:CV(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(hi(22))}}},{withTypes:()=>ZO}),Sj=(e,t)=>{const{type:n,effect:r,predicate:a}=XO(t);return Array.from(e.values()).find(i=>(typeof n=="string"?i.type===n:i.predicate===a)&&i.effect===r)},dx=e=>{e.pending.forEach(t=>{t.abort(ux)})},VV=(e,t)=>()=>{for(const n of t.keys())dx(n);e.clear()},Nj=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},QO=vu(Hi(`${S0}/add`),{withTypes:()=>QO}),HV=Hi(`${S0}/removeAll`),JO=vu(Hi(`${S0}/remove`),{withTypes:()=>JO}),WV=(...e)=>{console.error(`${S0}/error`,...e)},op=(e={})=>{const t=new Map,n=new Map,r=p=>{const m=n.get(p)??0;n.set(p,m+1)},a=p=>{const m=n.get(p)??1;m===1?n.delete(p):n.set(p,m-1)},{extra:i,onError:o=WV}=e;Z1(o);const s=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),m=>{p.unsubscribe(),m!=null&&m.cancelActive&&dx(p)}),l=p=>{const m=Sj(t,p)??ZO(p);return s(m)};vu(l,{withTypes:()=>l});const c=p=>{const m=Sj(t,p);return m&&(m.unsubscribe(),p.cancelActive&&dx(m)),!!m};vu(c,{withTypes:()=>c});const d=async(p,m,h,y)=>{const x=new AbortController,g=UV(l,x.signal),b=[];try{p.pending.add(x),r(p),await Promise.resolve(p.effect(m,vu({},h,{getOriginalState:y,condition:(w,S)=>g(w,S).then(Boolean),take:g,delay:YO(x.signal),pause:Gh(x.signal),extra:i,signal:x.signal,fork:zV(x.signal,b),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((w,S,C)=>{w!==x&&(w.abort(ux),C.delete(w))})},cancel:()=>{x.abort(ux),p.pending.delete(x)},throwIfCancelled:()=>{oc(x.signal)}})))}catch(w){w instanceof k0||Nj(o,w,{raisedBy:"effect"})}finally{await Promise.all(b),x.abort(RV),a(p),p.pending.delete(x)}},f=VV(t,n);return{middleware:p=>m=>h=>{if(!AO(h))return m(h);if(QO.match(h))return l(h.payload);if(HV.match(h)){f();return}if(JO.match(h))return c(h.payload);let y=p.getState();const x=()=>{if(y===kj)throw new Error(hi(23));return y};let g;try{if(g=m(h),t.size>0){const b=p.getState(),w=Array.from(t.values());for(const S of w){let C=!1;try{C=S.predicate(h,b,y)}catch(j){C=!1,Nj(o,j,{raisedBy:"predicate"})}C&&d(S,h,p,x)}}}finally{y=kj}return g},startListening:l,stopListening:c,clearListeners:f}};function hi(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var qV={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},e3=ri({name:"chartLayout",initialState:qV,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,a,i;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:KV,setLayout:GV,setChartSize:YV,setScale:XV}=e3.actions,ZV=e3.reducer;function t3(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Rr(e){return Number.isFinite(e)}function Bo(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function jj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ou(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jj(Object(n),!0).forEach(function(r){QV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QV(e,t,n){return(t=JV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JV(e){var t=e9(e,"string");return typeof t=="symbol"?t:t+""}function e9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yn(e,t,n){return Kr(e)||Kr(t)?n:Ro(t)?gc(e,t,n):typeof t=="function"?t(e):n}var t9=(e,t,n)=>{if(t&&n){var{width:r,height:a}=n,{align:i,verticalAlign:o,layout:s}=t;if((s==="vertical"||s==="horizontal"&&o==="middle")&&i!=="center"&&kt(e[i]))return ou(ou({},e),{},{[i]:e[i]+(r||0)});if((s==="horizontal"||s==="vertical"&&i==="center")&&o!=="middle"&&kt(e[o]))return ou(ou({},e),{},{[o]:e[o]+(a||0)})}return e},xl=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",n3=(e,t,n,r)=>{if(r)return e.map(s=>s.coordinate);var a,i,o=e.map(s=>(s.coordinate===t&&(a=!0),s.coordinate===n&&(i=!0),s.coordinate));return a||o.push(t),i||o.push(n),o},r3=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:a,range:i,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:c,tickCount:d,ticks:f,niceTicks:p,axisType:m}=e;if(!o)return null;var h=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,y=a==="category"&&o.bandwidth?o.bandwidth()/h:0;if(y=m==="angleAxis"&&i&&i.length>=2?Ca(i[0]-i[1])*2*y:y,f||p){var x=(f||p||[]).map((g,b)=>{var w=r?r.indexOf(g):g;return{coordinate:o(w)+y,value:g,offset:y,index:b}});return x.filter(g=>!$o(g.coordinate))}return l&&c?c.map((g,b)=>({coordinate:o(g)+y,value:g,index:b,offset:y})):o.ticks&&d!=null?o.ticks(d).map((g,b)=>({coordinate:o(g)+y,value:g,offset:y,index:b})):o.domain().map((g,b)=>({coordinate:o(g)+y,value:r?r[g]:g,index:b,offset:y}))},Cj=1e-4,n9=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),a=Math.min(r[0],r[1])-Cj,i=Math.max(r[0],r[1])+Cj,o=e(t[0]),s=e(t[n-1]);(o<a||o>i||s<a||s>i)&&e.domain([t[0],t[n-1]])}},r9=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var i=0,o=0,s=0;s<n;++s){var l=e[s],c=l==null?void 0:l[a];if(c!=null){var d=c[1],f=c[0],p=$o(d)?f:d;p>=0?(c[0]=i,c[1]=i+p,i=d):(c[0]=o,c[1]=o+p,o=d)}}}},a9=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var i=0,o=0;o<n;++o){var s=e[o],l=s==null?void 0:s[a];if(l!=null){var c=$o(l[1])?l[0]:l[1];c>=0?(l[0]=i,l[1]=i+c,i=l[1]):(l[0]=0,l[1]=0)}}}},i9={sign:r9,expand:$U,none:hc,silhouette:RU,wiggle:BU,positive:a9},o9=(e,t,n)=>{var r,a=(r=i9[n])!==null&&r!==void 0?r:hc,i=FU().keys(t).value((s,l)=>Number(Yn(s,l,0))).order(ex).offset(a),o=i(e);return o.forEach((s,l)=>{s.forEach((c,d)=>{var f=Yn(e[d],t[l],0);Array.isArray(f)&&f.length===2&&kt(f[0])&&kt(f[1])&&(c[0]=f[0],c[1]=f[1])})}),o};function Mj(e){var{axis:t,ticks:n,bandSize:r,entry:a,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Kr(a[t.dataKey])){var s=qD(n,"value",a[t.dataKey]);if(s)return s.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var l=Yn(a,Kr(o)?t.dataKey:o);return Kr(l)?null:t.scale(l)}var s9=e=>{var t=e.flat(2).filter(kt);return[Math.min(...t),Math.max(...t)]},l9=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],c9=(e,t,n)=>{if(e!=null)return l9(Object.keys(e).reduce((r,a)=>{var i=e[a];if(!i)return r;var{stackedData:o}=i,s=o.reduce((l,c)=>{var d=t3(c,t,n),f=s9(d);return!Rr(f[0])||!Rr(f[1])?l:[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]))},Aj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ej=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fx=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=m0(t,d=>d.coordinate),i=1/0,o=1,s=a.length;o<s;o++){var l=a[o],c=a[o-1];i=Math.min(((l==null?void 0:l.coordinate)||0)-((c==null?void 0:c.coordinate)||0),i)}return i===1/0?0:i}return n?void 0:0};function Pj(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:a,name:i}=e;return ou(ou({},t),{},{dataKey:n,payload:r,value:a,name:i})}function N0(e,t){if(e)return String(e);if(typeof t=="string")return t}var u9=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},d9=(e,t)=>t==="centric"?e.angle:e.radius,ks=e=>e.layout.width,Ss=e=>e.layout.height,f9=e=>e.layout.scale,a3=e=>e.layout.margin,j0=de(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),C0=de(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),i3="data-recharts-item-index",o3="data-recharts-item-id",sp=60;function Tj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function gm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tj(Object(n),!0).forEach(function(r){p9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function p9(e,t,n){return(t=m9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m9(e){var t=h9(e,"string");return typeof t=="symbol"?t:t+""}function h9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var g9=e=>e.brush.height;function y9(e){var t=C0(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:sp;return n+a}return n},0)}function v9(e){var t=C0(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:sp;return n+a}return n},0)}function b9(e){var t=j0(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function x9(e){var t=j0(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var ia=de([ks,Ss,a3,g9,y9,v9,b9,x9,NO,G7],(e,t,n,r,a,i,o,s,l,c)=>{var d={left:(n.left||0)+a,right:(n.right||0)+i},f={top:(n.top||0)+o,bottom:(n.bottom||0)+s},p=gm(gm({},f),d),m=p.bottom;p.bottom+=r,p=t9(p,l,c);var h=e-p.left-p.right,y=t-p.top-p.bottom;return gm(gm({brushBottom:m},p),{},{width:Math.max(h,0),height:Math.max(y,0)})}),w9=de(ia,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),s3=de(ks,Ss,(e,t)=>({x:0,y:0,width:e,height:t})),k9=v.createContext(null),ai=()=>v.useContext(k9)!=null,M0=e=>e.brush,A0=de([M0,ia,a3],(e,t,n)=>({height:e.height,x:kt(e.x)?e.x:t.left,y:kt(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:kt(e.width)?e.width:t.width})),l3={},c3={},u3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:a,edges:i}={}){let o,s=null;const l=i!=null&&i.includes("leading"),c=i==null||i.includes("trailing"),d=()=>{s!==null&&(n.apply(o,s),o=void 0,s=null)},f=()=>{c&&d(),y()};let p=null;const m=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,f()},r)},h=()=>{p!==null&&(clearTimeout(p),p=null)},y=()=>{h(),o=void 0,s=null},x=()=>{d()},g=function(...b){if(a!=null&&a.aborted)return;o=this,s=b;const w=p==null;m(),l&&w&&d()};return g.schedule=m,g.cancel=y,g.flush=x,a==null||a.addEventListener("abort",y,{once:!0}),g}e.debounce=t})(u3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u3;function n(r,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:s=!0,maxWait:l}=i,c=Array(2);o&&(c[0]="leading"),s&&(c[1]="trailing");let d,f=null;const p=t.debounce(function(...y){d=r.apply(this,y),f=null},a,{edges:c}),m=function(...y){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(d=r.apply(this,y),f=Date.now(),p.cancel(),p.schedule(),d):(p.apply(this,y),d)},h=()=>(p.flush(),d);return m.cancel=p.cancel,m.flush=h,m}e.debounce=n})(c3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c3;function n(r,a=0,i={}){const{leading:o=!0,trailing:s=!0}=i;return t.debounce(r,a,{leading:o,maxWait:a,trailing:s})}e.throttle=n})(l3);var S9=l3.throttle;const N9=mo(S9);var Yh=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(t===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(t===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var i=0;console.warn(t.replace(/%s/g,()=>r[i++]))}},d3=(e,t,n)=>{var{width:r="100%",height:a="100%",aspect:i,maxHeight:o}=n,s=ms(r)?e:Number(r),l=ms(a)?t:Number(a);return i&&i>0&&(s?l=s/i:l&&(s=l*i),o&&l!=null&&l>o&&(l=o)),{calculatedWidth:s,calculatedHeight:l}},j9={width:0,height:0,overflow:"visible"},C9={width:0,overflowX:"visible"},M9={height:0,overflowY:"visible"},A9={},E9=e=>{var{width:t,height:n}=e,r=ms(t),a=ms(n);return r&&a?j9:r?C9:a?M9:A9};function P9(e){var{width:t,height:n,aspect:r}=e,a=t,i=n;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=r&&r>0?void 0:"100%":i===void 0&&(i=r&&r>0?void 0:"100%"),{width:a,height:i}}function px(){return px=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},px.apply(null,arguments)}function Dj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Oj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dj(Object(n),!0).forEach(function(r){T9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function T9(e,t,n){return(t=D9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D9(e){var t=O9(e,"string");return typeof t=="symbol"?t:t+""}function O9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f3=v.createContext({width:-1,height:-1});function I9(e){return Bo(e.width)&&Bo(e.height)}function p3(e){var{children:t,width:n,height:r}=e,a=v.useMemo(()=>({width:n,height:r}),[n,r]);return I9(a)?v.createElement(f3.Provider,{value:a},t):null}var Q1=()=>v.useContext(f3),_9=v.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a,height:i,minWidth:o=0,minHeight:s,maxHeight:l,children:c,debounce:d=0,id:f,className:p,onResize:m,style:h={}}=e,y=v.useRef(null),x=v.useRef();x.current=m,v.useImperativeHandle(t,()=>y.current);var[g,b]=v.useState({containerWidth:r.width,containerHeight:r.height}),w=v.useCallback((P,$)=>{b(E=>{var _=Math.round(P),D=Math.round($);return E.containerWidth===_&&E.containerHeight===D?E:{containerWidth:_,containerHeight:D}})},[]);v.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return ap;var P=D=>{var J,{width:Q,height:Y}=D[0].contentRect;w(Q,Y),(J=x.current)===null||J===void 0||J.call(x,Q,Y)};d>0&&(P=N9(P,d,{trailing:!0,leading:!1}));var $=new ResizeObserver(P),{width:E,height:_}=y.current.getBoundingClientRect();return w(E,_),$.observe(y.current),()=>{$.disconnect()}},[w,d]);var{containerWidth:S,containerHeight:C}=g;Yh(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:j,calculatedHeight:M}=d3(S,C,{width:a,height:i,aspect:n,maxHeight:l});return Yh(j!=null&&j>0||M!=null&&M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,j,M,a,i,o,s,n),v.createElement("div",{id:f?"".concat(f):void 0,className:xn("recharts-responsive-container",p),style:Oj(Oj({},h),{},{width:a,height:i,minWidth:o,minHeight:s,maxHeight:l}),ref:y},v.createElement("div",{style:E9({width:a,height:i})},v.createElement(p3,{width:j,height:M},c)))}),vc=v.forwardRef((e,t)=>{var n=Q1();if(Bo(n.width)&&Bo(n.height))return e.children;var{width:r,height:a}=P9({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=d3(void 0,void 0,{width:r,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return kt(i)&&kt(o)?v.createElement(p3,{width:i,height:o},e.children):v.createElement(_9,px({},e,{width:r,height:a,ref:t}))});function m3(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var E0=()=>{var e,t=ai(),n=vt(w9),r=vt(A0),a=(e=vt(M0))===null||e===void 0?void 0:e.padding;return!t||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},L9={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},h3=()=>{var e;return(e=vt(ia))!==null&&e!==void 0?e:L9},J1=()=>vt(ks),ek=()=>vt(Ss),F9=()=>vt(e=>e.layout.margin),Tn=e=>e.layout.layoutType,lp=()=>vt(Tn),$9=()=>{var e=lp();return e!==void 0},P0=e=>{var t=Vn(),n=ai(),{width:r,height:a}=e,i=Q1(),o=r,s=a;return i&&(o=i.width>0?i.width:r,s=i.height>0?i.height:a),v.useEffect(()=>{!n&&Bo(o)&&Bo(s)&&t(YV({width:o,height:s}))},[t,n,o,s]),null},g3=Symbol.for("immer-nothing"),Ij=Symbol.for("immer-draftable"),vi=Symbol.for("immer-state");function no(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Tf=Object.getPrototypeOf;function Ou(e){return!!e&&!!e[vi]}function bc(e){var t;return e?y3(e)||Array.isArray(e)||!!e[Ij]||!!((t=e.constructor)!=null&&t[Ij])||cp(e)||D0(e):!1}var R9=Object.prototype.constructor.toString(),_j=new WeakMap;function y3(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=_j.get(n);return r===void 0&&(r=Function.toString.call(n),_j.set(n,r)),r===R9}function Xh(e,t,n=!0){T0(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(r=>{t(r,e[r],e)}):e.forEach((r,a)=>t(a,r,e))}function T0(e){const t=e[vi];return t?t.type_:Array.isArray(e)?1:cp(e)?2:D0(e)?3:0}function mx(e,t){return T0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function v3(e,t,n){const r=T0(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function B9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function cp(e){return e instanceof Map}function D0(e){return e instanceof Set}function zl(e){return e.copy_||e.base_}function hx(e,t){if(cp(e))return new Map(e);if(D0(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=y3(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[vi];let a=Reflect.ownKeys(r);for(let i=0;i<a.length;i++){const o=a[i],s=r[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(Tf(e),r)}else{const r=Tf(e);if(r!==null&&n)return{...e};const a=Object.create(r);return Object.assign(a,e)}}function tk(e,t=!1){return O0(e)||Ou(e)||!bc(e)||(T0(e)>1&&Object.defineProperties(e,{set:ym,add:ym,clear:ym,delete:ym}),Object.freeze(e),t&&Object.values(e).forEach(n=>tk(n,!0))),e}function z9(){no(2)}var ym={value:z9};function O0(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var U9={};function xc(e){const t=U9[e];return t||no(0,e),t}var Df;function b3(){return Df}function V9(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Lj(e,t){t&&(xc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function gx(e){yx(e),e.drafts_.forEach(H9),e.drafts_=null}function yx(e){e===Df&&(Df=e.parent_)}function Fj(e){return Df=V9(Df,e)}function H9(e){const t=e[vi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function $j(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[vi].modified_&&(gx(t),no(4)),bc(e)&&(e=Zh(t,e),t.parent_||Qh(t,e)),t.patches_&&xc("Patches").generateReplacementPatches_(n[vi].base_,e,t.patches_,t.inversePatches_)):e=Zh(t,n,[]),gx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==g3?e:void 0}function Zh(e,t,n){if(O0(t))return t;const r=e.immer_.shouldUseStrictIteration(),a=t[vi];if(!a)return Xh(t,(i,o)=>Rj(e,a,t,i,o,n),r),t;if(a.scope_!==e)return t;if(!a.modified_)return Qh(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let o=i,s=!1;a.type_===3&&(o=new Set(i),i.clear(),s=!0),Xh(o,(l,c)=>Rj(e,a,i,l,c,n,s),r),Qh(e,i,!1),n&&e.patches_&&xc("Patches").generatePatches_(a,n,e.patches_,e.inversePatches_)}return a.copy_}function Rj(e,t,n,r,a,i,o){if(a==null||typeof a!="object"&&!o)return;const s=O0(a);if(!(s&&!o)){if(Ou(a)){const l=i&&t&&t.type_!==3&&!mx(t.assigned_,r)?i.concat(r):void 0,c=Zh(e,a,l);if(v3(n,r,c),Ou(c))e.canAutoFreeze_=!1;else return}else o&&n.add(a);if(bc(a)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===a&&s)return;Zh(e,a),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(cp(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Qh(e,a)}}}function Qh(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&tk(t,n)}function W9(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:b3(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,i=nk;n&&(a=[r],i=Of);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return r.draft_=s,r.revoke_=o,s}var nk={get(e,t){if(t===vi)return e;const n=zl(e);if(!mx(n,t))return q9(e,n,t);const r=n[t];return e.finalized_||!bc(r)?r:r===ov(e.base_,t)?(sv(e),e.copy_[t]=bx(r,e)):r},has(e,t){return t in zl(e)},ownKeys(e){return Reflect.ownKeys(zl(e))},set(e,t,n){const r=x3(zl(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=ov(zl(e),t),i=a==null?void 0:a[vi];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(B9(n,a)&&(n!==void 0||mx(e.base_,t)))return!0;sv(e),vx(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ov(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,sv(e),vx(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=zl(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){no(11)},getPrototypeOf(e){return Tf(e.base_)},setPrototypeOf(){no(12)}},Of={};Xh(nk,(e,t)=>{Of[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Of.deleteProperty=function(e,t){return Of.set.call(this,e,t,void 0)};Of.set=function(e,t,n){return nk.set.call(this,e[0],t,n,e[0])};function ov(e,t){const n=e[vi];return(n?zl(n):e)[t]}function q9(e,t,n){var r;const a=x3(t,n);return a?"value"in a?a.value:(r=a.get)==null?void 0:r.call(e.draft_):void 0}function x3(e,t){if(!(t in e))return;let n=Tf(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Tf(n)}}function vx(e){e.modified_||(e.modified_=!0,e.parent_&&vx(e.parent_))}function sv(e){e.copy_||(e.copy_=hx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var K9=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const o=this;return function(s=i,...l){return o.produce(s,c=>n.call(this,c,...l))}}typeof n!="function"&&no(6),r!==void 0&&typeof r!="function"&&no(7);let a;if(bc(t)){const i=Fj(this),o=bx(t,void 0);let s=!0;try{a=n(o),s=!1}finally{s?gx(i):yx(i)}return Lj(i,r),$j(a,i)}else if(!t||typeof t!="object"){if(a=n(t),a===void 0&&(a=t),a===g3&&(a=void 0),this.autoFreeze_&&tk(a,!0),r){const i=[],o=[];xc("Patches").generateReplacementPatches_(t,a,i,o),r(i,o)}return a}else no(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(i,...o)=>this.produceWithPatches(i,s=>t(s,...o));let r,a;return[this.produce(t,n,(i,o)=>{r=i,a=o}),r,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){bc(e)||no(8),Ou(e)&&(e=G9(e));const t=Fj(this),n=bx(e,void 0);return n[vi].isManual_=!0,yx(t),n}finishDraft(e,t){const n=e&&e[vi];(!n||!n.isManual_)&&no(9);const{scope_:r}=n;return Lj(r,t),$j(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const r=xc("Patches").applyPatches_;return Ou(e)?r(e,t):this.produce(e,a=>r(a,t))}};function bx(e,t){const n=cp(e)?xc("MapSet").proxyMap_(e,t):D0(e)?xc("MapSet").proxySet_(e,t):W9(e,t);return(t?t.scope_:b3()).drafts_.push(n),n}function G9(e){return Ou(e)||no(10,e),w3(e)}function w3(e){if(!bc(e)||O0(e))return e;const t=e[vi];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=hx(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=hx(e,!0);return Xh(n,(a,i)=>{v3(n,a,w3(i))},r),t&&(t.finalized_=!1),n}var Y9=new K9;Y9.produce;var X9={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},k3=ri({name:"legend",initialState:X9,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:rr()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,a=oo(e).payload.indexOf(n);a>-1&&(e.payload[a]=r)},prepare:rr()},removeLegendPayload:{reducer(e,t){var n=oo(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:rr()}}}),{setLegendSize:Bj,setLegendSettings:Z9,addLegendPayload:S3,replaceLegendPayload:N3,removeLegendPayload:j3}=k3.actions,Q9=k3.reducer,J9=["contextPayload"];function xx(){return xx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xx.apply(null,arguments)}function zj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Iu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zj(Object(n),!0).forEach(function(r){eH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eH(e,t,n){return(t=tH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tH(e){var t=nH(e,"string");return typeof t=="symbol"?t:t+""}function nH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rH(e,t){if(e==null)return{};var n,r,a=aH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function aH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function iH(e){return e.value}function oH(e){var{contextPayload:t}=e,n=rH(e,J9),r=pO(t,e.payloadUniqBy,iH),a=Iu(Iu({},n),{},{payload:r});return v.isValidElement(e.content)?v.cloneElement(e.content,a):typeof e.content=="function"?v.createElement(e.content,a):v.createElement(p7,a)}function sH(e,t,n,r,a,i){var{layout:o,align:s,verticalAlign:l}=t,c,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(s==="center"&&o==="vertical"?c={left:((r||0)-i.width)/2}:c=s==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?d={top:((a||0)-i.height)/2}:d=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Iu(Iu({},c),d)}function lH(e){var t=Vn();return v.useEffect(()=>{t(Z9(e))},[t,e]),null}function cH(e){var t=Vn();return v.useEffect(()=>(t(Bj(e)),()=>{t(Bj({width:0,height:0}))}),[t,e]),null}function uH(e,t,n,r){return e==="vertical"&&kt(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var dH={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function C3(e){var t=Gr(e,dH),n=Z7(),r=sU(),a=F9(),{width:i,height:o,wrapperStyle:s,portal:l}=t,[c,d]=jO([n]),f=J1(),p=ek();if(f==null||p==null)return null;var m=f-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),h=uH(t.layout,o,i,m),y=l?s:Iu(Iu({position:"absolute",width:(h==null?void 0:h.width)||i||"auto",height:(h==null?void 0:h.height)||o||"auto"},sH(s,t,a,f,p,c)),s),x=l??r;if(x==null||n==null)return null;var g=v.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:d},v.createElement(lH,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&v.createElement(cH,{width:c.width,height:c.height}),v.createElement(oH,xx({},t,h,{margin:a,chartWidth:f,chartHeight:p,contextPayload:n})));return qu.createPortal(g,x)}C3.displayName="Legend";function wx(){return wx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wx.apply(null,arguments)}function Uj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function lv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Uj(Object(n),!0).forEach(function(r){fH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fH(e,t,n){return(t=pH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pH(e){var t=mH(e,"string");return typeof t=="symbol"?t:t+""}function mH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hH(e){return Array.isArray(e)&&Ro(e[0])&&Ro(e[1])?e.join(" ~ "):e}var gH=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:i,formatter:o,itemSorter:s,wrapperClassName:l,labelClassName:c,label:d,labelFormatter:f,accessibilityLayer:p=!1}=e,m=()=>{if(i&&i.length){var C={padding:0,margin:0},j=(s?m0(i,s):i).map((M,P)=>{if(M.type==="none")return null;var $=M.formatter||o||hH,{value:E,name:_}=M,D=E,J=_;if($){var Q=$(E,_,M,P,i);if(Array.isArray(Q))[D,J]=Q;else if(Q!=null)D=Q;else return null}var Y=lv({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},r);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:Y},Ro(J)?v.createElement("span",{className:"recharts-tooltip-item-name"},J):null,Ro(J)?v.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,v.createElement("span",{className:"recharts-tooltip-item-value"},D),v.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:C},j)}return null},h=lv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),y=lv({margin:0},a),x=!Kr(d),g=x?d:"",b=xn("recharts-default-tooltip",l),w=xn("recharts-tooltip-label",c);x&&f&&i!==void 0&&i!==null&&(g=f(d,i));var S=p?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",wx({className:b,style:h},S),v.createElement("p",{className:w,style:y},v.isValidElement(g)?g:"".concat(g)),m())},xd="recharts-tooltip-wrapper",yH={visibility:"hidden"};function vH(e){var{coordinate:t,translateX:n,translateY:r}=e;return xn(xd,{["".concat(xd,"-right")]:kt(n)&&t&&kt(t.x)&&n>=t.x,["".concat(xd,"-left")]:kt(n)&&t&&kt(t.x)&&n<t.x,["".concat(xd,"-bottom")]:kt(r)&&t&&kt(t.y)&&r>=t.y,["".concat(xd,"-top")]:kt(r)&&t&&kt(t.y)&&r<t.y})}function Vj(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:c}=e;if(i&&kt(i[r]))return i[r];var d=n[r]-s-(a>0?a:0),f=n[r]+a;if(t[r])return o[r]?d:f;var p=l[r];if(p==null)return 0;if(o[r]){var m=d,h=p;return m<h?Math.max(f,p):Math.max(d,p)}if(c==null)return 0;var y=f+s,x=p+c;return y>x?Math.max(d,p):Math.max(f,p)}function bH(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function xH(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:s,viewBox:l}=e,c,d,f;return o.height>0&&o.width>0&&n?(d=Vj({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=Vj({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=bH({translateX:d,translateY:f,useTranslate3d:s})):c=yH,{cssProperties:c,cssClasses:vH({translateX:d,translateY:f,coordinate:n})}}function Hj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function vm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hj(Object(n),!0).forEach(function(r){kx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kx(e,t,n){return(t=wH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wH(e){var t=kH(e,"string");return typeof t=="symbol"?t:t+""}function kH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class SH extends v.PureComponent{constructor(){super(...arguments),kx(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),kx(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:i,coordinate:o,hasPayload:s,isAnimationActive:l,offset:c,position:d,reverseDirection:f,useTranslate3d:p,viewBox:m,wrapperStyle:h,lastBoundingBox:y,innerRef:x,hasPortalFromProps:g}=this.props,{cssClasses:b,cssProperties:w}=xH({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:c,position:d,reverseDirection:f,tooltipBox:{height:y.height,width:y.width},useTranslate3d:p,viewBox:m}),S=g?{}:vm(vm({transition:l&&t?"transform ".concat(r,"ms ").concat(a):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),C=vm(vm({},S),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},h);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:C,ref:x},i)}}var M3=()=>{var e;return(e=vt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Sx(){return Sx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sx.apply(null,arguments)}function Wj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function qj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wj(Object(n),!0).forEach(function(r){NH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NH(e,t,n){return(t=jH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jH(e){var t=CH(e,"string");return typeof t=="symbol"?t:t+""}function CH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kj={curveBasisClosed:CU,curveBasisOpen:MU,curveBasis:jU,curveBumpX:dU,curveBumpY:fU,curveLinearClosed:AU,curveLinear:o0,curveMonotoneX:EU,curveMonotoneY:PU,curveNatural:TU,curveStep:DU,curveStepAfter:IU,curveStepBefore:OU},Jh=e=>Rr(e.x)&&Rr(e.y),Gj=e=>e.base!=null&&Jh(e.base)&&Jh(e),wd=e=>e.x,kd=e=>e.y,MH=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(rp(e));return(n==="curveMonotone"||n==="curveBump")&&t?Kj["".concat(n).concat(t==="vertical"?"Y":"X")]:Kj[n]||o0},AH=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:a,connectNulls:i=!1}=e,o=MH(t,a),s=i?n.filter(Jh):n,l;if(Array.isArray(r)){var c=n.map((m,h)=>qj(qj({},m),{},{base:r[h]}));a==="vertical"?l=um().y(kd).x1(wd).x0(m=>m.base.x):l=um().x(wd).y1(kd).y0(m=>m.base.y);var d=l.defined(Gj).curve(o),f=i?c.filter(Gj):c;return d(f)}a==="vertical"&&kt(r)?l=um().y(kd).x1(wd).x0(r):kt(r)?l=um().x(wd).y1(kd).y0(r):l=DD().x(wd).y(kd);var p=l.defined(Jh).curve(o);return p(s)},rk=e=>{var{className:t,points:n,path:r,pathRef:a}=e,i=lp();if((!n||!n.length)&&!r)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},s=n&&n.length?AH(o):r;return v.createElement("path",Sx({},Vi(e),O1(e),{className:xn("recharts-curve",t),d:s===null?void 0:s,ref:a}))},EH=["x","y","top","left","width","height","className"];function Nx(){return Nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nx.apply(null,arguments)}function Yj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function PH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yj(Object(n),!0).forEach(function(r){TH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TH(e,t,n){return(t=DH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DH(e){var t=OH(e,"string");return typeof t=="symbol"?t:t+""}function OH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IH(e,t){if(e==null)return{};var n,r,a=_H(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function _H(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var LH=(e,t,n,r,a,i)=>"M".concat(e,",").concat(a,"v").concat(r,"M").concat(i,",").concat(t,"h").concat(n),FH=e=>{var{x:t=0,y:n=0,top:r=0,left:a=0,width:i=0,height:o=0,className:s}=e,l=IH(e,EH),c=PH({x:t,y:n,top:r,left:a,width:i,height:o},l);return!kt(t)||!kt(n)||!kt(i)||!kt(o)||!kt(r)||!kt(a)?null:v.createElement("path",Nx({},La(c),{className:xn("recharts-cross",s),d:LH(t,n,i,o,r,a)}))};function $H(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function Xj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Zj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xj(Object(n),!0).forEach(function(r){RH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RH(e,t,n){return(t=BH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BH(e){var t=zH(e,"string");return typeof t=="symbol"?t:t+""}function zH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UH=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),A3=(e,t,n)=>e.map(r=>"".concat(UH(r)," ").concat(t,"ms ").concat(n)).join(","),VH=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(a=>r.includes(a))),If=(e,t)=>Object.keys(t).reduce((n,r)=>Zj(Zj({},n),{},{[r]:e(r,t[r])}),{});function Qj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Wr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qj(Object(n),!0).forEach(function(r){HH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HH(e,t,n){return(t=WH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WH(e){var t=qH(e,"string");return typeof t=="symbol"?t:t+""}function qH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eg=(e,t,n)=>e+(t-e)*n,jx=e=>{var{from:t,to:n}=e;return t!==n},E3=(e,t,n)=>{var r=If((a,i)=>{if(jx(i)){var[o,s]=e(i.from,i.to,i.velocity);return Wr(Wr({},i),{},{from:o,velocity:s})}return i},t);return n<1?If((a,i)=>jx(i)&&r[a]!=null?Wr(Wr({},i),{},{velocity:eg(i.velocity,r[a].velocity,n),from:eg(i.from,r[a].from,n)}):i,t):E3(e,r,n-1)};function KH(e,t,n,r,a,i){var o,s=r.reduce((p,m)=>Wr(Wr({},p),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),l=()=>If((p,m)=>m.from,s),c=()=>!Object.values(s).filter(jx).length,d=null,f=p=>{o||(o=p);var m=p-o,h=m/n.dt;s=E3(n,s,h),a(Wr(Wr(Wr({},e),t),l())),o=p,c()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{var p;(p=d)===null||p===void 0||p()})}function GH(e,t,n,r,a,i,o){var s=null,l=a.reduce((f,p)=>{var m=e[p],h=t[p];return m==null||h==null?f:Wr(Wr({},f),{},{[p]:[m,h]})},{}),c,d=f=>{c||(c=f);var p=(f-c)/r,m=If((y,x)=>eg(...x,n(p)),l);if(i(Wr(Wr(Wr({},e),t),m)),p<1)s=o.setTimeout(d);else{var h=If((y,x)=>eg(...x,n(1)),l);i(Wr(Wr(Wr({},e),t),h))}};return()=>(s=o.setTimeout(d),()=>{var f;(f=s)===null||f===void 0||f()})}const YH=(e,t,n,r,a,i)=>{var o=VH(e,t);return n==null?()=>(a(Wr(Wr({},e),t)),()=>{}):n.isStepper===!0?KH(e,t,n,o,a,i):GH(e,t,n,r,o,a,i)};var tg=1e-4,P3=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],T3=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),Jj=(e,t)=>n=>{var r=P3(e,t);return T3(r,n)},XH=(e,t)=>n=>{var r=P3(e,t),a=[...r.map((i,o)=>i*o).slice(1),0];return T3(a,n)},ZH=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var a=r.map(i=>parseFloat(i));return[a[0],a[1],a[2],a[3]]},QH=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length===1)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var r=ZH(t[0]);if(r)return r}}return t.length===4?t:[0,0,1,1]},JH=(e,t,n,r)=>{var a=Jj(e,n),i=Jj(t,r),o=XH(e,n),s=c=>c>1?1:c<0?0:c,l=c=>{for(var d=c>1?1:c,f=d,p=0;p<8;++p){var m=a(f)-d,h=o(f);if(Math.abs(m-d)<tg||h<tg)return i(f);f=s(f-m/h)}return i(f)};return l.isStepper=!1,l},eC=function(){return JH(...QH(...arguments))},eW=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:t=100,damping:n=8,dt:r=17}=e,a=(i,o,s)=>{var l=-(i-o)*t,c=s*n,d=s+(l-c)*r/1e3,f=s*r/1e3+i;return Math.abs(f-o)<tg&&Math.abs(d)<tg?[o,0]:[f,d]};return a.isStepper=!0,a.dt=r,a},tW=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return eC(e);case"spring":return eW();default:if(e.split("(")[0]==="cubic-bezier")return eC(e)}return typeof e=="function"?e:null};function nW(e){var t,n=()=>null,r=!1,a=null,i=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var s=o,[l,...c]=s;if(typeof l=="number"){a=e.setTimeout(i.bind(null,c),l);return}i(l),a=e.setTimeout(i.bind(null,c));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,a&&(a(),a=null),i(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class rW{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,i=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function aW(){return nW(new rW)}var iW=v.createContext(aW);function oW(e,t){var n=v.useContext(iW);return v.useMemo(()=>t??n(e),[e,t,n])}var sW=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),I0={isSsr:sW()},lW={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},tC={t:0},cv={t:1};function _0(e){var t=Gr(e,lW),{isActive:n,canBegin:r,duration:a,easing:i,begin:o,onAnimationEnd:s,onAnimationStart:l,children:c}=t,d=n==="auto"?!I0.isSsr:n,f=oW(t.animationId,t.animationManager),[p,m]=v.useState(d?tC:cv),h=v.useRef(null);return v.useEffect(()=>{d||m(cv)},[d]),v.useEffect(()=>{if(!d||!r)return ap;var y=YH(tC,cv,tW(i),a,m,f.getTimeoutController()),x=()=>{h.current=y()};return f.start([l,o,x,a,s]),()=>{f.stop(),h.current&&h.current(),s()}},[d,r,a,i,o,l,s,f]),c(p.t)}function L0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=v.useRef(Mf(t)),r=v.useRef(e);return r.current!==e&&(n.current=Mf(t),r.current=e),n.current}var cW=["radius"],uW=["radius"],nC,rC,aC,iC,oC,sC,lC,cC,uC,dC;function fC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function pC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fC(Object(n),!0).forEach(function(r){dW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dW(e,t,n){return(t=fW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fW(e){var t=pW(e,"string");return typeof t=="symbol"?t:t+""}function pW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ng(){return ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ng.apply(null,arguments)}function mC(e,t){if(e==null)return{};var n,r,a=mW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function mW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Co(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var hC=(e,t,n,r,a)=>{var i=Js(n),o=Js(r),s=Math.min(Math.abs(i)/2,Math.abs(o)/2),l=o>=0?1:-1,c=i>=0?1:-1,d=o>=0&&i>=0||o<0&&i<0?1:0,f;if(s>0&&a instanceof Array){for(var p=[0,0,0,0],m=0,h=4;m<h;m++)p[m]=a[m]>s?s:a[m];f=br(nC||(nC=Co(["M",",",""])),e,t+l*p[0]),p[0]>0&&(f+=br(rC||(rC=Co(["A ",",",",0,0,",",",",",""])),p[0],p[0],d,e+c*p[0],t)),f+=br(aC||(aC=Co(["L ",",",""])),e+n-c*p[1],t),p[1]>0&&(f+=br(iC||(iC=Co(["A ",",",",0,0,",`,
        `,",",""])),p[1],p[1],d,e+n,t+l*p[1])),f+=br(oC||(oC=Co(["L ",",",""])),e+n,t+r-l*p[2]),p[2]>0&&(f+=br(sC||(sC=Co(["A ",",",",0,0,",`,
        `,",",""])),p[2],p[2],d,e+n-c*p[2],t+r)),f+=br(lC||(lC=Co(["L ",",",""])),e+c*p[3],t+r),p[3]>0&&(f+=br(cC||(cC=Co(["A ",",",",0,0,",`,
        `,",",""])),p[3],p[3],d,e,t+r-l*p[3])),f+="Z"}else if(s>0&&a===+a&&a>0){var y=Math.min(s,a);f=br(uC||(uC=Co(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+l*y,y,y,d,e+c*y,t,e+n-c*y,t,y,y,d,e+n,t+l*y,e+n,t+r-l*y,y,y,d,e+n-c*y,t+r,e+c*y,t+r,y,y,d,e,t+r-l*y)}else f=br(dC||(dC=Co(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return f},gC={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},D3=e=>{var t=Gr(e,gC),n=v.useRef(null),[r,a]=v.useState(-1);v.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var K=n.current.getTotalLength();K&&a(K)}catch{}},[]);var{x:i,y:o,width:s,height:l,radius:c,className:d}=t,{animationEasing:f,animationDuration:p,animationBegin:m,isAnimationActive:h,isUpdateAnimationActive:y}=t,x=v.useRef(s),g=v.useRef(l),b=v.useRef(i),w=v.useRef(o),S=v.useMemo(()=>({x:i,y:o,width:s,height:l,radius:c}),[i,o,s,l,c]),C=L0(S,"rectangle-");if(i!==+i||o!==+o||s!==+s||l!==+l||s===0||l===0)return null;var j=xn("recharts-rectangle",d);if(!y){var M=La(t),{radius:P}=M,$=mC(M,cW);return v.createElement("path",ng({},$,{x:Js(i),y:Js(o),width:Js(s),height:Js(l),radius:typeof c=="number"?c:void 0,className:j,d:hC(i,o,s,l,c)}))}var E=x.current,_=g.current,D=b.current,J=w.current,Q="0px ".concat(r===-1?1:r,"px"),Y="".concat(r,"px 0px"),fe=A3(["strokeDasharray"],p,typeof f=="string"?f:gC.animationEasing);return v.createElement(_0,{animationId:C,key:C,canBegin:r>0,duration:p,easing:f,isActive:y,begin:m},K=>{var I=ja(E,s,K),te=ja(_,l,K),k=ja(D,i,K),R=ja(J,o,K);n.current&&(x.current=I,g.current=te,b.current=k,w.current=R);var A;h?K>0?A={transition:fe,strokeDasharray:Y}:A={strokeDasharray:Q}:A={strokeDasharray:Y};var N=La(t),{radius:B}=N,G=mC(N,uW);return v.createElement("path",ng({},G,{radius:typeof c=="number"?c:void 0,className:j,d:hC(k,R,I,te,c),ref:n,style:pC(pC({},A),t.style)}))})};function yC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function vC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yC(Object(n),!0).forEach(function(r){hW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hW(e,t,n){return(t=gW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gW(e){var t=yW(e,"string");return typeof t=="symbol"?t:t+""}function yW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rg=Math.PI/180,vW=e=>e*180/Math.PI,Fr=(e,t,n,r)=>({x:e+Math.cos(-rg*r)*n,y:t+Math.sin(-rg*r)*n}),O3=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},bW=(e,t)=>{var{x:n,y:r}=e,{x:a,y:i}=t;return Math.sqrt((n-a)**2+(r-i)**2)},xW=(e,t)=>{var{x:n,y:r}=e,{cx:a,cy:i}=t,o=bW({x:n,y:r},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var s=(n-a)/o,l=Math.acos(s);return r>i&&(l=2*Math.PI-l),{radius:o,angle:vW(l),angleInRadian:l}},wW=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),a=Math.floor(n/360),i=Math.min(r,a);return{startAngle:t-i*360,endAngle:n-i*360}},kW=(e,t)=>{var{startAngle:n,endAngle:r}=t,a=Math.floor(n/360),i=Math.floor(r/360),o=Math.min(a,i);return e+o*360},SW=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:a,angle:i}=xW({x:n,y:r},t),{innerRadius:o,outerRadius:s}=t;if(a<o||a>s||a===0)return null;var{startAngle:l,endAngle:c}=wW(t),d=i,f;if(l<=c){for(;d>c;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=c}else{for(;d>l;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=l}return f?vC(vC({},t),{},{radius:a,angle:kW(d,t)}):null};function I3(e){var{cx:t,cy:n,radius:r,startAngle:a,endAngle:i}=e,o=Fr(t,n,r,a),s=Fr(t,n,r,i);return{points:[o,s],cx:t,cy:n,radius:r,startAngle:a,endAngle:i}}var bC,xC,wC,kC,SC,NC,jC;function Cx(){return Cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cx.apply(null,arguments)}function Zl(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var NW=(e,t)=>{var n=Ca(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},bm=e=>{var{cx:t,cy:n,radius:r,angle:a,sign:i,isExternal:o,cornerRadius:s,cornerIsExternal:l}=e,c=s*(o?1:-1)+r,d=Math.asin(s/c)/rg,f=l?a:a+i*d,p=Fr(t,n,c,f),m=Fr(t,n,r,f),h=l?a-i*d:a,y=Fr(t,n,c*Math.cos(d*rg),h);return{center:p,circleTangency:m,lineTangency:y,theta:d}},_3=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:i,endAngle:o}=e,s=NW(i,o),l=i+s,c=Fr(t,n,a,i),d=Fr(t,n,a,l),f=br(bC||(bC=Zl(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),c.x,c.y,a,a,+(Math.abs(s)>180),+(i>l),d.x,d.y);if(r>0){var p=Fr(t,n,r,i),m=Fr(t,n,r,l);f+=br(xC||(xC=Zl(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,r,r,+(Math.abs(s)>180),+(i<=l),p.x,p.y)}else f+=br(wC||(wC=Zl(["L ",","," Z"])),t,n);return f},jW=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:c}=e,d=Ca(c-l),{circleTangency:f,lineTangency:p,theta:m}=bm({cx:t,cy:n,radius:a,angle:l,sign:d,cornerRadius:i,cornerIsExternal:s}),{circleTangency:h,lineTangency:y,theta:x}=bm({cx:t,cy:n,radius:a,angle:c,sign:-d,cornerRadius:i,cornerIsExternal:s}),g=s?Math.abs(l-c):Math.abs(l-c)-m-x;if(g<0)return o?br(kC||(kC=Zl(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),p.x,p.y,i,i,i*2,i,i,-i*2):_3({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:l,endAngle:c});var b=br(SC||(SC=Zl(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),p.x,p.y,i,i,+(d<0),f.x,f.y,a,a,+(g>180),+(d<0),h.x,h.y,i,i,+(d<0),y.x,y.y);if(r>0){var{circleTangency:w,lineTangency:S,theta:C}=bm({cx:t,cy:n,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),{circleTangency:j,lineTangency:M,theta:P}=bm({cx:t,cy:n,radius:r,angle:c,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),$=s?Math.abs(l-c):Math.abs(l-c)-C-P;if($<0&&i===0)return"".concat(b,"L").concat(t,",").concat(n,"Z");b+=br(NC||(NC=Zl(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),M.x,M.y,i,i,+(d<0),j.x,j.y,r,r,+($>180),+(d>0),w.x,w.y,i,i,+(d<0),S.x,S.y)}else b+=br(jC||(jC=Zl(["L",",","Z"])),t,n);return b},CW={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},L3=e=>{var t=Gr(e,CW),{cx:n,cy:r,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:d,className:f}=t;if(i<a||c===d)return null;var p=xn("recharts-sector",f),m=i-a,h=Bi(o,m,0,!0),y;return h>0&&Math.abs(c-d)<360?y=jW({cx:n,cy:r,innerRadius:a,outerRadius:i,cornerRadius:Math.min(h,m/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:d}):y=_3({cx:n,cy:r,innerRadius:a,outerRadius:i,startAngle:c,endAngle:d}),v.createElement("path",Cx({},La(t),{className:p,d:y}))};function MW(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(GD(t)){if(e==="centric"){var{cx:r,cy:a,innerRadius:i,outerRadius:o,angle:s}=t,l=Fr(r,a,i,s),c=Fr(r,a,o,s);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return I3(t)}}var F3={},$3={},R3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H1;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(R3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R3;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})($3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W1,n=$3;function r(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=n.toFinite(a),i===void 0?(i=a,a=0):i=n.toFinite(i),o=o===void 0?a<i?1:-1:n.toFinite(o);const s=Math.max(Math.ceil((i-a)/(o||1)),0),l=new Array(s);for(let c=0;c<s;c++)l[c]=a,a+=o;return l}e.range=r})(F3);var AW=F3.range;const B3=mo(AW);function cl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function EW(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ak(e){let t,n,r;e.length!==2?(t=cl,n=(s,l)=>cl(e(s),l),r=(s,l)=>e(s)-l):(t=e===cl||e===EW?e:PW,n=e,r=e);function a(s,l,c=0,d=s.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;n(s[f],l)<0?c=f+1:d=f}while(c<d)}return c}function i(s,l,c=0,d=s.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;n(s[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function o(s,l,c=0,d=s.length){const f=a(s,l,c,d-1);return f>c&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:a,center:o,right:i}}function PW(){return 0}function z3(e){return e===null?NaN:+e}function*TW(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const DW=ak(cl),up=DW.right;ak(z3).center;class CC extends Map{constructor(t,n=_W){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(MC(this,t))}has(t){return super.has(MC(this,t))}set(t,n){return super.set(OW(this,t),n)}delete(t){return super.delete(IW(this,t))}}function MC({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function OW({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function IW({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function _W(e){return e!==null&&typeof e=="object"?e.valueOf():e}function LW(e=cl){if(e===cl)return U3;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function U3(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const FW=Math.sqrt(50),$W=Math.sqrt(10),RW=Math.sqrt(2);function ag(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=FW?10:i>=$W?5:i>=RW?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?ag(e,t,n*2):[s,l,c]}function Mx(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,i,o]=r?ag(t,e,n):ag(e,t,n);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(i-c)/-o;else for(let c=0;c<s;++c)l[c]=(i-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(a+c)/-o;else for(let c=0;c<s;++c)l[c]=(a+c)*o;return l}function Ax(e,t,n){return t=+t,e=+e,n=+n,ag(e,t,n)[2]}function Ex(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?Ax(t,e,n):Ax(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function AC(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function EC(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function V3(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?U3:LW(a);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),m=Math.max(n,Math.floor(t-c*f/l+p)),h=Math.min(r,Math.floor(t+(l-c)*f/l+p));V3(e,t,m,h,a)}const i=e[t];let o=n,s=r;for(Sd(e,n,t),a(e[r],i)>0&&Sd(e,n,r);o<s;){for(Sd(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}a(e[n],i)===0?Sd(e,n,s):(++s,Sd(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Sd(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function BW(e,t,n){if(e=Float64Array.from(TW(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return EC(e);if(t>=1)return AC(e);var r,a=(r-1)*t,i=Math.floor(a),o=AC(V3(e,i).subarray(0,i+1)),s=EC(e.subarray(i+1));return o+(s-o)*(a-i)}}function zW(e,t,n=z3){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),o=+n(e[i],i,e),s=+n(e[i+1],i+1,e);return o+(s-o)*(a-i)}}function UW(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++r<a;)i[r]=e+r*n;return i}function qi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ns(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Px=Symbol("implicit");function ik(){var e=new CC,t=[],n=[],r=Px;function a(i){let o=e.get(i);if(o===void 0){if(r!==Px)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new CC;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return ik(t,n).unknown(r)},qi.apply(a,arguments),a}function ok(){var e=ik().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,i,o,s=!1,l=0,c=0,d=.5;delete e.unknown;function f(){var p=t().length,m=a<r,h=m?a:r,y=m?r:a;i=(y-h)/Math.max(1,p-l+c*2),s&&(i=Math.floor(i)),h+=(y-h-i*(p-l))*d,o=i*(1-l),s&&(h=Math.round(h),o=Math.round(o));var x=UW(p).map(function(g){return h+i*g});return n(m?x.reverse():x)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([r,a]=p,r=+r,a=+a,f()):[r,a]},e.rangeRound=function(p){return[r,a]=p,r=+r,a=+a,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(p){return arguments.length?(s=!!p,f()):s},e.padding=function(p){return arguments.length?(l=Math.min(1,c=+p),f()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},e.paddingOuter=function(p){return arguments.length?(c=+p,f()):c},e.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},e.copy=function(){return ok(t(),[r,a]).round(s).paddingInner(l).paddingOuter(c).align(d)},qi.apply(f(),arguments)}function H3(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return H3(t())},e}function VW(){return H3(ok.apply(null,arguments).paddingInner(1))}function sk(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function W3(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function dp(){}var _f=.7,ig=1/_f,bu="\\s*([+-]?\\d+)\\s*",Lf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Lo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",HW=/^#([0-9a-f]{3,8})$/,WW=new RegExp(`^rgb\\(${bu},${bu},${bu}\\)$`),qW=new RegExp(`^rgb\\(${Lo},${Lo},${Lo}\\)$`),KW=new RegExp(`^rgba\\(${bu},${bu},${bu},${Lf}\\)$`),GW=new RegExp(`^rgba\\(${Lo},${Lo},${Lo},${Lf}\\)$`),YW=new RegExp(`^hsl\\(${Lf},${Lo},${Lo}\\)$`),XW=new RegExp(`^hsla\\(${Lf},${Lo},${Lo},${Lf}\\)$`),PC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};sk(dp,Ff,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:TC,formatHex:TC,formatHex8:ZW,formatHsl:QW,formatRgb:DC,toString:DC});function TC(){return this.rgb().formatHex()}function ZW(){return this.rgb().formatHex8()}function QW(){return q3(this).formatHsl()}function DC(){return this.rgb().formatRgb()}function Ff(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=HW.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?OC(t):n===3?new Xa(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?xm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?xm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=WW.exec(e))?new Xa(t[1],t[2],t[3],1):(t=qW.exec(e))?new Xa(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=KW.exec(e))?xm(t[1],t[2],t[3],t[4]):(t=GW.exec(e))?xm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=YW.exec(e))?LC(t[1],t[2]/100,t[3]/100,1):(t=XW.exec(e))?LC(t[1],t[2]/100,t[3]/100,t[4]):PC.hasOwnProperty(e)?OC(PC[e]):e==="transparent"?new Xa(NaN,NaN,NaN,0):null}function OC(e){return new Xa(e>>16&255,e>>8&255,e&255,1)}function xm(e,t,n,r){return r<=0&&(e=t=n=NaN),new Xa(e,t,n,r)}function JW(e){return e instanceof dp||(e=Ff(e)),e?(e=e.rgb(),new Xa(e.r,e.g,e.b,e.opacity)):new Xa}function Tx(e,t,n,r){return arguments.length===1?JW(e):new Xa(e,t,n,r??1)}function Xa(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}sk(Xa,Tx,W3(dp,{brighter(e){return e=e==null?ig:Math.pow(ig,e),new Xa(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?_f:Math.pow(_f,e),new Xa(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Xa(sc(this.r),sc(this.g),sc(this.b),og(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:IC,formatHex:IC,formatHex8:eq,formatRgb:_C,toString:_C}));function IC(){return`#${Ql(this.r)}${Ql(this.g)}${Ql(this.b)}`}function eq(){return`#${Ql(this.r)}${Ql(this.g)}${Ql(this.b)}${Ql((isNaN(this.opacity)?1:this.opacity)*255)}`}function _C(){const e=og(this.opacity);return`${e===1?"rgb(":"rgba("}${sc(this.r)}, ${sc(this.g)}, ${sc(this.b)}${e===1?")":`, ${e})`}`}function og(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function sc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ql(e){return e=sc(e),(e<16?"0":"")+e.toString(16)}function LC(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ro(e,t,n,r)}function q3(e){if(e instanceof ro)return new ro(e.h,e.s,e.l,e.opacity);if(e instanceof dp||(e=Ff(e)),!e)return new ro;if(e instanceof ro)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,s=i-a,l=(i+a)/2;return s?(t===i?o=(n-r)/s+(n<r)*6:n===i?o=(r-t)/s+2:o=(t-n)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new ro(o,s,l,e.opacity)}function tq(e,t,n,r){return arguments.length===1?q3(e):new ro(e,t,n,r??1)}function ro(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}sk(ro,tq,W3(dp,{brighter(e){return e=e==null?ig:Math.pow(ig,e),new ro(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?_f:Math.pow(_f,e),new ro(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Xa(uv(e>=240?e-240:e+120,a,r),uv(e,a,r),uv(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new ro(FC(this.h),wm(this.s),wm(this.l),og(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=og(this.opacity);return`${e===1?"hsl(":"hsla("}${FC(this.h)}, ${wm(this.s)*100}%, ${wm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function FC(e){return e=(e||0)%360,e<0?e+360:e}function wm(e){return Math.max(0,Math.min(1,e||0))}function uv(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const lk=e=>()=>e;function nq(e,t){return function(n){return e+n*t}}function rq(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function aq(e){return(e=+e)==1?K3:function(t,n){return n-t?rq(t,n,e):lk(isNaN(t)?n:t)}}function K3(e,t){var n=t-e;return n?nq(e,n):lk(isNaN(e)?t:e)}const $C=function e(t){var n=aq(t);function r(a,i){var o=n((a=Tx(a)).r,(i=Tx(i)).r),s=n(a.g,i.g),l=n(a.b,i.b),c=K3(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=s(d),a.b=l(d),a.opacity=c(d),a+""}}return r.gamma=e,r}(1);function iq(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function oq(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function sq(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=Ku(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(s){for(o=0;o<r;++o)i[o]=a[o](s);return i}}function lq(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function sg(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function cq(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=Ku(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var Dx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dv=new RegExp(Dx.source,"g");function uq(e){return function(){return e}}function dq(e){return function(t){return e(t)+""}}function fq(e,t){var n=Dx.lastIndex=dv.lastIndex=0,r,a,i,o=-1,s=[],l=[];for(e=e+"",t=t+"";(r=Dx.exec(e))&&(a=dv.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),s[o]?s[o]+=i:s[++o]=i),(r=r[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,l.push({i:o,x:sg(r,a)})),n=dv.lastIndex;return n<t.length&&(i=t.slice(n),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?dq(l[0].x):uq(t):(t=l.length,function(c){for(var d=0,f;d<t;++d)s[(f=l[d]).i]=f.x(c);return s.join("")})}function Ku(e,t){var n=typeof t,r;return t==null||n==="boolean"?lk(t):(n==="number"?sg:n==="string"?(r=Ff(t))?(t=r,$C):fq:t instanceof Ff?$C:t instanceof Date?lq:oq(t)?iq:Array.isArray(t)?sq:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?cq:sg)(e,t)}function ck(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function pq(e,t){t===void 0&&(t=e,e=Ku);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[s](o-s)}}function mq(e){return function(){return e}}function lg(e){return+e}var RC=[0,1];function Ia(e){return e}function Ox(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:mq(isNaN(t)?NaN:.5)}function hq(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function gq(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=Ox(a,r),i=n(o,i)):(r=Ox(r,a),i=n(i,o)),function(s){return i(r(s))}}function yq(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=Ox(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(s){var l=up(e,s,1,r)-1;return i[l](a[l](s))}}function fp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function F0(){var e=RC,t=RC,n=Ku,r,a,i,o=Ia,s,l,c;function d(){var p=Math.min(e.length,t.length);return o!==Ia&&(o=hq(e[0],e[p-1])),s=p>2?yq:gq,l=c=null,f}function f(p){return p==null||isNaN(p=+p)?i:(l||(l=s(e.map(r),t,n)))(r(o(p)))}return f.invert=function(p){return o(a((c||(c=s(t,e.map(r),sg)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,lg),d()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),d()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),n=ck,d()},f.clamp=function(p){return arguments.length?(o=p?!0:Ia,d()):o!==Ia},f.interpolate=function(p){return arguments.length?(n=p,d()):n},f.unknown=function(p){return arguments.length?(i=p,f):i},function(p,m){return r=p,a=m,d()}}function uk(){return F0()(Ia,Ia)}function vq(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function cg(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function _u(e){return e=cg(Math.abs(e)),e?e[1]:NaN}function bq(e,t){return function(n,r){for(var a=n.length,i=[],o=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),i.push(n.substring(a-=s,a+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function xq(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var wq=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $f(e){if(!(t=wq.exec(e)))throw new Error("invalid format: "+e);var t;return new dk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}$f.prototype=dk.prototype;function dk(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}dk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function kq(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var ug;function Sq(e,t){var n=cg(e,t);if(!n)return ug=void 0,e.toPrecision(t);var r=n[0],a=n[1],i=a-(ug=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+cg(e,Math.max(0,t+i-1))[0]}function BC(e,t){var n=cg(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const zC={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:vq,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>BC(e*100,t),r:BC,s:Sq,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function UC(e){return e}var VC=Array.prototype.map,HC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Nq(e){var t=e.grouping===void 0||e.thousands===void 0?UC:bq(VC.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?UC:xq(VC.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f,p){f=$f(f);var m=f.fill,h=f.align,y=f.sign,x=f.symbol,g=f.zero,b=f.width,w=f.comma,S=f.precision,C=f.trim,j=f.type;j==="n"?(w=!0,j="g"):zC[j]||(S===void 0&&(S=12),C=!0,j="g"),(g||m==="0"&&h==="=")&&(g=!0,m="0",h="=");var M=(p&&p.prefix!==void 0?p.prefix:"")+(x==="$"?n:x==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():""),P=(x==="$"?r:/[%p]/.test(j)?o:"")+(p&&p.suffix!==void 0?p.suffix:""),$=zC[j],E=/[defgprs%]/.test(j);S=S===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function _(D){var J=M,Q=P,Y,fe,K;if(j==="c")Q=$(D)+Q,D="";else{D=+D;var I=D<0||1/D<0;if(D=isNaN(D)?l:$(Math.abs(D),S),C&&(D=kq(D)),I&&+D==0&&y!=="+"&&(I=!1),J=(I?y==="("?y:s:y==="-"||y==="("?"":y)+J,Q=(j==="s"&&!isNaN(D)&&ug!==void 0?HC[8+ug/3]:"")+Q+(I&&y==="("?")":""),E){for(Y=-1,fe=D.length;++Y<fe;)if(K=D.charCodeAt(Y),48>K||K>57){Q=(K===46?a+D.slice(Y+1):D.slice(Y))+Q,D=D.slice(0,Y);break}}}w&&!g&&(D=t(D,1/0));var te=J.length+D.length+Q.length,k=te<b?new Array(b-te+1).join(m):"";switch(w&&g&&(D=t(k+D,k.length?b-Q.length:1/0),k=""),h){case"<":D=J+D+Q+k;break;case"=":D=J+k+D+Q;break;case"^":D=k.slice(0,te=k.length>>1)+J+D+Q+k.slice(te);break;default:D=k+J+D+Q;break}return i(D)}return _.toString=function(){return f+""},_}function d(f,p){var m=Math.max(-8,Math.min(8,Math.floor(_u(p)/3)))*3,h=Math.pow(10,-m),y=c((f=$f(f),f.type="f",f),{suffix:HC[8+m/3]});return function(x){return y(h*x)}}return{format:c,formatPrefix:d}}var km,fk,G3;jq({thousands:",",grouping:[3],currency:["$",""]});function jq(e){return km=Nq(e),fk=km.format,G3=km.formatPrefix,km}function Cq(e){return Math.max(0,-_u(Math.abs(e)))}function Mq(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_u(t)/3)))*3-_u(Math.abs(e)))}function Aq(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,_u(t)-_u(e))+1}function Y3(e,t,n,r){var a=Ex(e,t,n),i;switch(r=$f(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=Mq(a,o))&&(r.precision=i),G3(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=Aq(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=Cq(a))&&(r.precision=i-(r.type==="%")*2);break}}return fk(r)}function wl(e){var t=e.domain;return e.ticks=function(n){var r=t();return Mx(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return Y3(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,o=r[a],s=r[i],l,c,d=10;for(s<o&&(c=o,o=s,s=c,c=a,a=i,i=c);d-- >0;){if(c=Ax(o,s,n),c===l)return r[a]=o,r[i]=s,t(r);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function X3(){var e=uk();return e.copy=function(){return fp(e,X3())},qi.apply(e,arguments),wl(e)}function Z3(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,lg),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Z3(e).unknown(t)},e=arguments.length?Array.from(e,lg):[0,1],wl(n)}function Q3(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],i=e[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),e[n]=t.floor(a),e[r]=t.ceil(i),e}function WC(e){return Math.log(e)}function qC(e){return Math.exp(e)}function Eq(e){return-Math.log(-e)}function Pq(e){return-Math.exp(-e)}function Tq(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Dq(e){return e===10?Tq:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Oq(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function KC(e){return(t,n)=>-e(-t,n)}function pk(e){const t=e(WC,qC),n=t.domain;let r=10,a,i;function o(){return a=Oq(r),i=Dq(r),n()[0]<0?(a=KC(a),i=KC(i),e(Eq,Pq)):e(WC,qC),t}return t.base=function(s){return arguments.length?(r=+s,o()):r},t.domain=function(s){return arguments.length?(n(s),o()):n()},t.ticks=s=>{const l=n();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let p=a(c),m=a(d),h,y;const x=s==null?10:+s;let g=[];if(!(r%1)&&m-p<x){if(p=Math.floor(p),m=Math.ceil(m),c>0){for(;p<=m;++p)for(h=1;h<r;++h)if(y=p<0?h/i(-p):h*i(p),!(y<c)){if(y>d)break;g.push(y)}}else for(;p<=m;++p)for(h=r-1;h>=1;--h)if(y=p>0?h/i(-p):h*i(p),!(y<c)){if(y>d)break;g.push(y)}g.length*2<x&&(g=Mx(c,d,x))}else g=Mx(p,m,Math.min(m-p,x)).map(i);return f?g.reverse():g},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=$f(l)).precision==null&&(l.trim=!0),l=fk(l)),s===1/0)return l;const c=Math.max(1,r*s/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*r<r-.5&&(f*=r),f<=c?l(d):""}},t.nice=()=>n(Q3(n(),{floor:s=>i(Math.floor(a(s))),ceil:s=>i(Math.ceil(a(s)))})),t}function J3(){const e=pk(F0()).domain([1,10]);return e.copy=()=>fp(e,J3()).base(e.base()),qi.apply(e,arguments),e}function GC(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function YC(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function mk(e){var t=1,n=e(GC(t),YC(t));return n.constant=function(r){return arguments.length?e(GC(t=+r),YC(t)):t},wl(n)}function e4(){var e=mk(F0());return e.copy=function(){return fp(e,e4()).constant(e.constant())},qi.apply(e,arguments)}function XC(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Iq(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function _q(e){return e<0?-e*e:e*e}function hk(e){var t=e(Ia,Ia),n=1;function r(){return n===1?e(Ia,Ia):n===.5?e(Iq,_q):e(XC(n),XC(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},wl(t)}function gk(){var e=hk(F0());return e.copy=function(){return fp(e,gk()).exponent(e.exponent())},qi.apply(e,arguments),e}function Lq(){return gk.apply(null,arguments).exponent(.5)}function ZC(e){return Math.sign(e)*e*e}function Fq(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function t4(){var e=uk(),t=[0,1],n=!1,r;function a(i){var o=Fq(e(i));return isNaN(o)?r:n?Math.round(o):o}return a.invert=function(i){return e.invert(ZC(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,lg)).map(ZC)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return t4(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},qi.apply(a,arguments),wl(a)}function n4(){var e=[],t=[],n=[],r;function a(){var o=0,s=Math.max(1,t.length);for(n=new Array(s-1);++o<s;)n[o-1]=zW(e,o/s);return i}function i(o){return o==null||isNaN(o=+o)?r:t[up(n,o)]}return i.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(cl),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return n4().domain(e).range(t).unknown(r)},qi.apply(i,arguments)}function r4(){var e=0,t=1,n=1,r=[.5],a=[0,1],i;function o(l){return l!=null&&l<=l?a[up(r,l,0,n)]:i}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(n=(a=Array.from(l)).length-1,s()):a.slice()},o.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},o.unknown=function(l){return arguments.length&&(i=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return r4().domain([e,t]).range(a).unknown(i)},qi.apply(wl(o),arguments)}function a4(){var e=[.5],t=[0,1],n,r=1;function a(i){return i!=null&&i<=i?t[up(e,i,0,r)]:n}return a.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return a4().domain(e).range(t).unknown(n)},qi.apply(a,arguments)}const fv=new Date,pv=new Date;function Yr(e,t,n,r){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{const l=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return l;let c;do l.push(c=new Date(+i)),t(i,s),e(i);while(c<i&&i<o);return l},a.filter=i=>Yr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!i(o););else for(;--s>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>(fv.setTime(+i),pv.setTime(+o),e(fv),e(pv),Math.floor(n(fv,pv))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const dg=Yr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);dg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Yr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):dg);dg.range;const ns=1e3,$i=ns*60,rs=$i*60,gs=rs*24,yk=gs*7,QC=gs*30,mv=gs*365,Jl=Yr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ns)},(e,t)=>(t-e)/ns,e=>e.getUTCSeconds());Jl.range;const vk=Yr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ns)},(e,t)=>{e.setTime(+e+t*$i)},(e,t)=>(t-e)/$i,e=>e.getMinutes());vk.range;const bk=Yr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*$i)},(e,t)=>(t-e)/$i,e=>e.getUTCMinutes());bk.range;const xk=Yr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ns-e.getMinutes()*$i)},(e,t)=>{e.setTime(+e+t*rs)},(e,t)=>(t-e)/rs,e=>e.getHours());xk.range;const wk=Yr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*rs)},(e,t)=>(t-e)/rs,e=>e.getUTCHours());wk.range;const pp=Yr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*$i)/gs,e=>e.getDate()-1);pp.range;const $0=Yr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/gs,e=>e.getUTCDate()-1);$0.range;const i4=Yr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/gs,e=>Math.floor(e/gs));i4.range;function Ac(e){return Yr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*$i)/yk)}const R0=Ac(0),fg=Ac(1),$q=Ac(2),Rq=Ac(3),Lu=Ac(4),Bq=Ac(5),zq=Ac(6);R0.range;fg.range;$q.range;Rq.range;Lu.range;Bq.range;zq.range;function Ec(e){return Yr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/yk)}const B0=Ec(0),pg=Ec(1),Uq=Ec(2),Vq=Ec(3),Fu=Ec(4),Hq=Ec(5),Wq=Ec(6);B0.range;pg.range;Uq.range;Vq.range;Fu.range;Hq.range;Wq.range;const kk=Yr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());kk.range;const Sk=Yr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Sk.range;const ys=Yr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ys.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ys.range;const vs=Yr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());vs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});vs.range;function o4(e,t,n,r,a,i){const o=[[Jl,1,ns],[Jl,5,5*ns],[Jl,15,15*ns],[Jl,30,30*ns],[i,1,$i],[i,5,5*$i],[i,15,15*$i],[i,30,30*$i],[a,1,rs],[a,3,3*rs],[a,6,6*rs],[a,12,12*rs],[r,1,gs],[r,2,2*gs],[n,1,yk],[t,1,QC],[t,3,3*QC],[e,1,mv]];function s(c,d,f){const p=d<c;p&&([c,d]=[d,c]);const m=f&&typeof f.range=="function"?f:l(c,d,f),h=m?m.range(c,+d+1):[];return p?h.reverse():h}function l(c,d,f){const p=Math.abs(d-c)/f,m=ak(([,,x])=>x).right(o,p);if(m===o.length)return e.every(Ex(c/mv,d/mv,f));if(m===0)return dg.every(Math.max(Ex(c,d,f),1));const[h,y]=o[p/o[m-1][2]<o[m][2]/p?m-1:m];return h.every(y)}return[s,l]}const[qq,Kq]=o4(vs,Sk,B0,i4,wk,bk),[Gq,Yq]=o4(ys,kk,R0,pp,xk,vk);function hv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function gv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Nd(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Xq(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=jd(a),d=Cd(a),f=jd(i),p=Cd(i),m=jd(o),h=Cd(o),y=jd(s),x=Cd(s),g=jd(l),b=Cd(l),w={a:K,A:I,b:te,B:k,c:null,d:aM,e:aM,f:bK,g:EK,G:TK,H:gK,I:yK,j:vK,L:s4,m:xK,M:wK,p:R,q:A,Q:sM,s:lM,S:kK,u:SK,U:NK,V:jK,w:CK,W:MK,x:null,X:null,y:AK,Y:PK,Z:DK,"%":oM},S={a:N,A:B,b:G,B:V,c:null,d:iM,e:iM,f:LK,g:qK,G:GK,H:OK,I:IK,j:_K,L:c4,m:FK,M:$K,p:H,q:X,Q:sM,s:lM,S:RK,u:BK,U:zK,V:UK,w:VK,W:HK,x:null,X:null,y:WK,Y:KK,Z:YK,"%":oM},C={a:E,A:_,b:D,B:J,c:Q,d:nM,e:nM,f:fK,g:tM,G:eM,H:rM,I:rM,j:lK,L:dK,m:sK,M:cK,p:$,q:oK,Q:mK,s:hK,S:uK,u:tK,U:nK,V:rK,w:eK,W:aK,x:Y,X:fe,y:tM,Y:eM,Z:iK,"%":pK};w.x=j(n,w),w.X=j(r,w),w.c=j(t,w),S.x=j(n,S),S.X=j(r,S),S.c=j(t,S);function j(O,ee){return function(me){var L=[],ne=-1,z=0,F=O.length,oe,ye,Qe;for(me instanceof Date||(me=new Date(+me));++ne<F;)O.charCodeAt(ne)===37&&(L.push(O.slice(z,ne)),(ye=JC[oe=O.charAt(++ne)])!=null?oe=O.charAt(++ne):ye=oe==="e"?" ":"0",(Qe=ee[oe])&&(oe=Qe(me,ye)),L.push(oe),z=ne+1);return L.push(O.slice(z,ne)),L.join("")}}function M(O,ee){return function(me){var L=Nd(1900,void 0,1),ne=P(L,O,me+="",0),z,F;if(ne!=me.length)return null;if("Q"in L)return new Date(L.Q);if("s"in L)return new Date(L.s*1e3+("L"in L?L.L:0));if(ee&&!("Z"in L)&&(L.Z=0),"p"in L&&(L.H=L.H%12+L.p*12),L.m===void 0&&(L.m="q"in L?L.q:0),"V"in L){if(L.V<1||L.V>53)return null;"w"in L||(L.w=1),"Z"in L?(z=gv(Nd(L.y,0,1)),F=z.getUTCDay(),z=F>4||F===0?pg.ceil(z):pg(z),z=$0.offset(z,(L.V-1)*7),L.y=z.getUTCFullYear(),L.m=z.getUTCMonth(),L.d=z.getUTCDate()+(L.w+6)%7):(z=hv(Nd(L.y,0,1)),F=z.getDay(),z=F>4||F===0?fg.ceil(z):fg(z),z=pp.offset(z,(L.V-1)*7),L.y=z.getFullYear(),L.m=z.getMonth(),L.d=z.getDate()+(L.w+6)%7)}else("W"in L||"U"in L)&&("w"in L||(L.w="u"in L?L.u%7:"W"in L?1:0),F="Z"in L?gv(Nd(L.y,0,1)).getUTCDay():hv(Nd(L.y,0,1)).getDay(),L.m=0,L.d="W"in L?(L.w+6)%7+L.W*7-(F+5)%7:L.w+L.U*7-(F+6)%7);return"Z"in L?(L.H+=L.Z/100|0,L.M+=L.Z%100,gv(L)):hv(L)}}function P(O,ee,me,L){for(var ne=0,z=ee.length,F=me.length,oe,ye;ne<z;){if(L>=F)return-1;if(oe=ee.charCodeAt(ne++),oe===37){if(oe=ee.charAt(ne++),ye=C[oe in JC?ee.charAt(ne++):oe],!ye||(L=ye(O,me,L))<0)return-1}else if(oe!=me.charCodeAt(L++))return-1}return L}function $(O,ee,me){var L=c.exec(ee.slice(me));return L?(O.p=d.get(L[0].toLowerCase()),me+L[0].length):-1}function E(O,ee,me){var L=m.exec(ee.slice(me));return L?(O.w=h.get(L[0].toLowerCase()),me+L[0].length):-1}function _(O,ee,me){var L=f.exec(ee.slice(me));return L?(O.w=p.get(L[0].toLowerCase()),me+L[0].length):-1}function D(O,ee,me){var L=g.exec(ee.slice(me));return L?(O.m=b.get(L[0].toLowerCase()),me+L[0].length):-1}function J(O,ee,me){var L=y.exec(ee.slice(me));return L?(O.m=x.get(L[0].toLowerCase()),me+L[0].length):-1}function Q(O,ee,me){return P(O,t,ee,me)}function Y(O,ee,me){return P(O,n,ee,me)}function fe(O,ee,me){return P(O,r,ee,me)}function K(O){return o[O.getDay()]}function I(O){return i[O.getDay()]}function te(O){return l[O.getMonth()]}function k(O){return s[O.getMonth()]}function R(O){return a[+(O.getHours()>=12)]}function A(O){return 1+~~(O.getMonth()/3)}function N(O){return o[O.getUTCDay()]}function B(O){return i[O.getUTCDay()]}function G(O){return l[O.getUTCMonth()]}function V(O){return s[O.getUTCMonth()]}function H(O){return a[+(O.getUTCHours()>=12)]}function X(O){return 1+~~(O.getUTCMonth()/3)}return{format:function(O){var ee=j(O+="",w);return ee.toString=function(){return O},ee},parse:function(O){var ee=M(O+="",!1);return ee.toString=function(){return O},ee},utcFormat:function(O){var ee=j(O+="",S);return ee.toString=function(){return O},ee},utcParse:function(O){var ee=M(O+="",!0);return ee.toString=function(){return O},ee}}}var JC={"-":"",_:" ",0:"0"},oa=/^\s*\d+/,Zq=/^%/,Qq=/[\\^$*+?|[\]().{}]/g;function bn(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function Jq(e){return e.replace(Qq,"\\$&")}function jd(e){return new RegExp("^(?:"+e.map(Jq).join("|")+")","i")}function Cd(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function eK(e,t,n){var r=oa.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function tK(e,t,n){var r=oa.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function nK(e,t,n){var r=oa.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function rK(e,t,n){var r=oa.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function aK(e,t,n){var r=oa.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function eM(e,t,n){var r=oa.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function tM(e,t,n){var r=oa.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function iK(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function oK(e,t,n){var r=oa.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function sK(e,t,n){var r=oa.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function nM(e,t,n){var r=oa.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function lK(e,t,n){var r=oa.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function rM(e,t,n){var r=oa.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function cK(e,t,n){var r=oa.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function uK(e,t,n){var r=oa.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function dK(e,t,n){var r=oa.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function fK(e,t,n){var r=oa.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function pK(e,t,n){var r=Zq.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function mK(e,t,n){var r=oa.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function hK(e,t,n){var r=oa.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function aM(e,t){return bn(e.getDate(),t,2)}function gK(e,t){return bn(e.getHours(),t,2)}function yK(e,t){return bn(e.getHours()%12||12,t,2)}function vK(e,t){return bn(1+pp.count(ys(e),e),t,3)}function s4(e,t){return bn(e.getMilliseconds(),t,3)}function bK(e,t){return s4(e,t)+"000"}function xK(e,t){return bn(e.getMonth()+1,t,2)}function wK(e,t){return bn(e.getMinutes(),t,2)}function kK(e,t){return bn(e.getSeconds(),t,2)}function SK(e){var t=e.getDay();return t===0?7:t}function NK(e,t){return bn(R0.count(ys(e)-1,e),t,2)}function l4(e){var t=e.getDay();return t>=4||t===0?Lu(e):Lu.ceil(e)}function jK(e,t){return e=l4(e),bn(Lu.count(ys(e),e)+(ys(e).getDay()===4),t,2)}function CK(e){return e.getDay()}function MK(e,t){return bn(fg.count(ys(e)-1,e),t,2)}function AK(e,t){return bn(e.getFullYear()%100,t,2)}function EK(e,t){return e=l4(e),bn(e.getFullYear()%100,t,2)}function PK(e,t){return bn(e.getFullYear()%1e4,t,4)}function TK(e,t){var n=e.getDay();return e=n>=4||n===0?Lu(e):Lu.ceil(e),bn(e.getFullYear()%1e4,t,4)}function DK(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+bn(t/60|0,"0",2)+bn(t%60,"0",2)}function iM(e,t){return bn(e.getUTCDate(),t,2)}function OK(e,t){return bn(e.getUTCHours(),t,2)}function IK(e,t){return bn(e.getUTCHours()%12||12,t,2)}function _K(e,t){return bn(1+$0.count(vs(e),e),t,3)}function c4(e,t){return bn(e.getUTCMilliseconds(),t,3)}function LK(e,t){return c4(e,t)+"000"}function FK(e,t){return bn(e.getUTCMonth()+1,t,2)}function $K(e,t){return bn(e.getUTCMinutes(),t,2)}function RK(e,t){return bn(e.getUTCSeconds(),t,2)}function BK(e){var t=e.getUTCDay();return t===0?7:t}function zK(e,t){return bn(B0.count(vs(e)-1,e),t,2)}function u4(e){var t=e.getUTCDay();return t>=4||t===0?Fu(e):Fu.ceil(e)}function UK(e,t){return e=u4(e),bn(Fu.count(vs(e),e)+(vs(e).getUTCDay()===4),t,2)}function VK(e){return e.getUTCDay()}function HK(e,t){return bn(pg.count(vs(e)-1,e),t,2)}function WK(e,t){return bn(e.getUTCFullYear()%100,t,2)}function qK(e,t){return e=u4(e),bn(e.getUTCFullYear()%100,t,2)}function KK(e,t){return bn(e.getUTCFullYear()%1e4,t,4)}function GK(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Fu(e):Fu.ceil(e),bn(e.getUTCFullYear()%1e4,t,4)}function YK(){return"+0000"}function oM(){return"%"}function sM(e){return+e}function lM(e){return Math.floor(+e/1e3)}var zc,d4,f4;XK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function XK(e){return zc=Xq(e),d4=zc.format,zc.parse,f4=zc.utcFormat,zc.utcParse,zc}function ZK(e){return new Date(e)}function QK(e){return e instanceof Date?+e:+new Date(+e)}function Nk(e,t,n,r,a,i,o,s,l,c){var d=uk(),f=d.invert,p=d.domain,m=c(".%L"),h=c(":%S"),y=c("%I:%M"),x=c("%I %p"),g=c("%a %d"),b=c("%b %d"),w=c("%B"),S=c("%Y");function C(j){return(l(j)<j?m:s(j)<j?h:o(j)<j?y:i(j)<j?x:r(j)<j?a(j)<j?g:b:n(j)<j?w:S)(j)}return d.invert=function(j){return new Date(f(j))},d.domain=function(j){return arguments.length?p(Array.from(j,QK)):p().map(ZK)},d.ticks=function(j){var M=p();return e(M[0],M[M.length-1],j??10)},d.tickFormat=function(j,M){return M==null?C:c(M)},d.nice=function(j){var M=p();return(!j||typeof j.range!="function")&&(j=t(M[0],M[M.length-1],j??10)),j?p(Q3(M,j)):d},d.copy=function(){return fp(d,Nk(e,t,n,r,a,i,o,s,l,c))},d}function JK(){return qi.apply(Nk(Gq,Yq,ys,kk,R0,pp,xk,vk,Jl,d4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function eG(){return qi.apply(Nk(qq,Kq,vs,Sk,B0,$0,wk,bk,Jl,f4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function z0(){var e=0,t=1,n,r,a,i,o=Ia,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:o(a===0?.5:(f=(i(f)-n)*a,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,n=i(e=+e),r=i(t=+t),a=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(o=f,c):o};function d(f){return function(p){var m,h;return arguments.length?([m,h]=p,o=f(m,h),c):[o(0),o(1)]}}return c.range=d(Ku),c.rangeRound=d(ck),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return i=f,n=f(e),r=f(t),a=n===r?0:1/(r-n),c}}function kl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function p4(){var e=wl(z0()(Ia));return e.copy=function(){return kl(e,p4())},Ns.apply(e,arguments)}function m4(){var e=pk(z0()).domain([1,10]);return e.copy=function(){return kl(e,m4()).base(e.base())},Ns.apply(e,arguments)}function h4(){var e=mk(z0());return e.copy=function(){return kl(e,h4()).constant(e.constant())},Ns.apply(e,arguments)}function jk(){var e=hk(z0());return e.copy=function(){return kl(e,jk()).exponent(e.exponent())},Ns.apply(e,arguments)}function tG(){return jk.apply(null,arguments).exponent(.5)}function g4(){var e=[],t=Ia;function n(r){if(r!=null&&!isNaN(r=+r))return t((up(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(cl),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,i)=>BW(e,i/r))},n.copy=function(){return g4(t).domain(e)},Ns.apply(n,arguments)}function U0(){var e=0,t=.5,n=1,r=1,a,i,o,s,l,c=Ia,d,f=!1,p;function m(y){return isNaN(y=+y)?p:(y=.5+((y=+d(y))-i)*(r*y<r*i?s:l),c(f?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([e,t,n]=y,a=d(e=+e),i=d(t=+t),o=d(n=+n),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),r=i<a?-1:1,m):[e,t,n]},m.clamp=function(y){return arguments.length?(f=!!y,m):f},m.interpolator=function(y){return arguments.length?(c=y,m):c};function h(y){return function(x){var g,b,w;return arguments.length?([g,b,w]=x,c=pq(y,[g,b,w]),m):[c(0),c(.5),c(1)]}}return m.range=h(Ku),m.rangeRound=h(ck),m.unknown=function(y){return arguments.length?(p=y,m):p},function(y){return d=y,a=y(e),i=y(t),o=y(n),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),r=i<a?-1:1,m}}function y4(){var e=wl(U0()(Ia));return e.copy=function(){return kl(e,y4())},Ns.apply(e,arguments)}function v4(){var e=pk(U0()).domain([.1,1,10]);return e.copy=function(){return kl(e,v4()).base(e.base())},Ns.apply(e,arguments)}function b4(){var e=mk(U0());return e.copy=function(){return kl(e,b4()).constant(e.constant())},Ns.apply(e,arguments)}function Ck(){var e=hk(U0());return e.copy=function(){return kl(e,Ck()).exponent(e.exponent())},Ns.apply(e,arguments)}function nG(){return Ck.apply(null,arguments).exponent(.5)}const $d=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ok,scaleDiverging:y4,scaleDivergingLog:v4,scaleDivergingPow:Ck,scaleDivergingSqrt:nG,scaleDivergingSymlog:b4,scaleIdentity:Z3,scaleImplicit:Px,scaleLinear:X3,scaleLog:J3,scaleOrdinal:ik,scalePoint:VW,scalePow:gk,scaleQuantile:n4,scaleQuantize:r4,scaleRadial:t4,scaleSequential:p4,scaleSequentialLog:m4,scaleSequentialPow:jk,scaleSequentialQuantile:g4,scaleSequentialSqrt:tG,scaleSequentialSymlog:h4,scaleSqrt:Lq,scaleSymlog:e4,scaleThreshold:a4,scaleTime:JK,scaleUtc:eG,tickFormat:Y3},Symbol.toStringTag,{value:"Module"}));var Sl=e=>e.chartData,Mk=de([Sl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Ak=(e,t,n,r)=>r?Mk(e):Sl(e);function pl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Rr(t)&&Rr(n))return!0}return!1}function cM(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function x4(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,a,i;if(Rr(n))a=n;else if(typeof n=="function")return;if(Rr(r))i=r;else if(typeof r=="function")return;var o=[a,i];if(pl(o))return o}}function rG(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(pl(r))return cM(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,s;if(a==="auto")t!=null&&(o=Math.min(...t));else if(kt(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&Aj.test(a)){var l=Aj.exec(a);if(l==null||l[1]==null||t==null)o=void 0;else{var c=+l[1];o=t[0]-c}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(s=Math.max(...t));else if(kt(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&Ej.test(i)){var d=Ej.exec(i);if(d==null||d[1]==null||t==null)s=void 0;else{var f=+d[1];s=t[1]+f}}else s=t==null?void 0:t[1];var p=[o,s];if(pl(p))return t==null?p:cM(p,t,n)}}}var Gu=1e9,aG={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Pk,ir=!0,Wi="[DecimalError] ",lc=Wi+"Invalid argument: ",Ek=Wi+"Exponent out of range: ",Yu=Math.floor,Ul=Math.pow,iG=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,di,na=1e7,Kn=7,w4=9007199254740991,mg=Yu(w4/Kn),st={};st.absoluteValue=st.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};st.comparedTo=st.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(r=i.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1};st.decimalPlaces=st.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Kn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};st.dividedBy=st.div=function(e){return os(this,new this.constructor(e))};st.dividedToIntegerBy=st.idiv=function(e){var t=this,n=t.constructor;return _n(os(t,new n(e),0,1),n.precision)};st.equals=st.eq=function(e){return!this.cmp(e)};st.exponent=function(){return $r(this)};st.greaterThan=st.gt=function(e){return this.cmp(e)>0};st.greaterThanOrEqualTo=st.gte=function(e){return this.cmp(e)>=0};st.isInteger=st.isint=function(){return this.e>this.d.length-2};st.isNegative=st.isneg=function(){return this.s<0};st.isPositive=st.ispos=function(){return this.s>0};st.isZero=function(){return this.s===0};st.lessThan=st.lt=function(e){return this.cmp(e)<0};st.lessThanOrEqualTo=st.lte=function(e){return this.cmp(e)<1};st.logarithm=st.log=function(e){var t,n=this,r=n.constructor,a=r.precision,i=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(di))throw Error(Wi+"NaN");if(n.s<1)throw Error(Wi+(n.s?"NaN":"-Infinity"));return n.eq(di)?new r(0):(ir=!1,t=os(Rf(n,i),Rf(e,i),i),ir=!0,_n(t,a))};st.minus=st.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?N4(t,e):k4(t,(e.s=-e.s,e))};st.modulo=st.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(Wi+"NaN");return n.s?(ir=!1,t=os(n,e,0,1).times(e),ir=!0,n.minus(t)):_n(new r(n),a)};st.naturalExponential=st.exp=function(){return S4(this)};st.naturalLogarithm=st.ln=function(){return Rf(this)};st.negated=st.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};st.plus=st.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?k4(t,e):N4(t,(e.s=-e.s,e))};st.precision=st.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(lc+e);if(t=$r(a)+1,r=a.d.length-1,n=r*Kn+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};st.squareRoot=st.sqrt=function(){var e,t,n,r,a,i,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Wi+"NaN")}for(e=$r(s),ir=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=Oo(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Yu((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(a.toString()),n=l.precision,a=o=n+3;;)if(i=r,r=i.plus(os(s,i,o+2)).times(.5),Oo(i.d).slice(0,o)===(t=Oo(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(_n(i,n+1,0),i.times(i).eq(s)){r=i;break}}else if(t!="9999")break;o+=4}return ir=!0,_n(r,n)};st.times=st.mul=function(e){var t,n,r,a,i,o,s,l,c,d=this,f=d.constructor,p=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,l=p.length,c=m.length,l<c&&(i=p,p=m,m=i,o=l,l=c,c=o),i=[],o=l+c,r=o;r--;)i.push(0);for(r=c;--r>=0;){for(t=0,a=l+r;a>r;)s=i[a]+m[r]*p[a-r-1]+t,i[a--]=s%na|0,t=s/na|0;i[a]=(i[a]+t)%na|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,ir?_n(e,f.precision):e};st.toDecimalPlaces=st.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(zo(e,0,Gu),t===void 0?t=r.rounding:zo(t,0,8),_n(n,e+$r(n)+1,t))};st.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=wc(r,!0):(zo(e,0,Gu),t===void 0?t=a.rounding:zo(t,0,8),r=_n(new a(r),e+1,t),n=wc(r,!0,e+1)),n};st.toFixed=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?wc(a):(zo(e,0,Gu),t===void 0?t=i.rounding:zo(t,0,8),r=_n(new i(a),e+$r(a)+1,t),n=wc(r.abs(),!1,e+$r(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};st.toInteger=st.toint=function(){var e=this,t=e.constructor;return _n(new t(e),$r(e)+1,t.rounding)};st.toNumber=function(){return+this};st.toPower=st.pow=function(e){var t,n,r,a,i,o,s=this,l=s.constructor,c=12,d=+(e=new l(e));if(!e.s)return new l(di);if(s=new l(s),!s.s){if(e.s<1)throw Error(Wi+"Infinity");return s}if(s.eq(di))return s;if(r=l.precision,e.eq(di))return _n(s,r);if(t=e.e,n=e.d.length-1,o=t>=n,i=s.s,o){if((n=d<0?-d:d)<=w4){for(a=new l(di),t=Math.ceil(r/Kn+4),ir=!1;n%2&&(a=a.times(s),dM(a.d,t)),n=Yu(n/2),n!==0;)s=s.times(s),dM(s.d,t);return ir=!0,e.s<0?new l(di).div(a):_n(a,r)}}else if(i<0)throw Error(Wi+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,ir=!1,a=e.times(Rf(s,r+c)),ir=!0,a=S4(a),a.s=i,a};st.toPrecision=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?(n=$r(a),r=wc(a,n<=i.toExpNeg||n>=i.toExpPos)):(zo(e,1,Gu),t===void 0?t=i.rounding:zo(t,0,8),a=_n(new i(a),e,t),n=$r(a),r=wc(a,e<=n||n<=i.toExpNeg,e)),r};st.toSignificantDigits=st.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(zo(e,1,Gu),t===void 0?t=r.rounding:zo(t,0,8)),_n(new r(n),e,t)};st.toString=st.valueOf=st.val=st.toJSON=st[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=$r(e),n=e.constructor;return wc(e,t<=n.toExpNeg||t>=n.toExpPos)};function k4(e,t){var n,r,a,i,o,s,l,c,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),ir?_n(t,f):t;if(l=e.d,c=t.d,o=e.e,a=t.e,l=l.slice(),i=o-a,i){for(i<0?(r=l,i=-i,s=c.length):(r=c,a=o,s=l.length),o=Math.ceil(f/Kn),s=o>s?o+1:s+1,i>s&&(i=s,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(s=l.length,i=c.length,s-i<0&&(i=s,r=c,c=l,l=r),n=0;i;)n=(l[--i]=l[i]+c[i]+n)/na|0,l[i]%=na;for(n&&(l.unshift(n),++a),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=a,ir?_n(t,f):t}function zo(e,t,n){if(e!==~~e||e<t||e>n)throw Error(lc+e)}function Oo(e){var t,n,r,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)r=e[t]+"",n=Kn-r.length,n&&(i+=Ws(n)),i+=r;o=e[t],r=o+"",n=Kn-r.length,n&&(i+=Ws(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var os=function(){function e(r,a){var i,o=0,s=r.length;for(r=r.slice();s--;)i=r[s]*a+o,r[s]=i%na|0,o=i/na|0;return o&&r.unshift(o),r}function t(r,a,i,o){var s,l;if(i!=o)l=i>o?1:-1;else for(s=l=0;s<i;s++)if(r[s]!=a[s]){l=r[s]>a[s]?1:-1;break}return l}function n(r,a,i){for(var o=0;i--;)r[i]-=o,o=r[i]<a[i]?1:0,r[i]=o*na+r[i]-a[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,i,o){var s,l,c,d,f,p,m,h,y,x,g,b,w,S,C,j,M,P,$=r.constructor,E=r.s==a.s?1:-1,_=r.d,D=a.d;if(!r.s)return new $(r);if(!a.s)throw Error(Wi+"Division by zero");for(l=r.e-a.e,M=D.length,C=_.length,m=new $(E),h=m.d=[],c=0;D[c]==(_[c]||0);)++c;if(D[c]>(_[c]||0)&&--l,i==null?b=i=$.precision:o?b=i+($r(r)-$r(a))+1:b=i,b<0)return new $(0);if(b=b/Kn+2|0,c=0,M==1)for(d=0,D=D[0],b++;(c<C||d)&&b--;c++)w=d*na+(_[c]||0),h[c]=w/D|0,d=w%D|0;else{for(d=na/(D[0]+1)|0,d>1&&(D=e(D,d),_=e(_,d),M=D.length,C=_.length),S=M,y=_.slice(0,M),x=y.length;x<M;)y[x++]=0;P=D.slice(),P.unshift(0),j=D[0],D[1]>=na/2&&++j;do d=0,s=t(D,y,M,x),s<0?(g=y[0],M!=x&&(g=g*na+(y[1]||0)),d=g/j|0,d>1?(d>=na&&(d=na-1),f=e(D,d),p=f.length,x=y.length,s=t(f,y,p,x),s==1&&(d--,n(f,M<p?P:D,p))):(d==0&&(s=d=1),f=D.slice()),p=f.length,p<x&&f.unshift(0),n(y,f,x),s==-1&&(x=y.length,s=t(D,y,M,x),s<1&&(d++,n(y,M<x?P:D,x))),x=y.length):s===0&&(d++,y=[0]),h[c++]=d,s&&y[0]?y[x++]=_[S]||0:(y=[_[S]],x=1);while((S++<C||y[0]!==void 0)&&b--)}return h[0]||h.shift(),m.e=l,_n(m,o?i+$r(m)+1:i)}}();function S4(e,t){var n,r,a,i,o,s,l=0,c=0,d=e.constructor,f=d.precision;if($r(e)>16)throw Error(Ek+$r(e));if(!e.s)return new d(di);for(ir=!1,s=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(r=Math.log(Ul(2,c))/Math.LN10*2+5|0,s+=r,n=a=i=new d(di),d.precision=s;;){if(a=_n(a.times(e),s),n=n.times(++l),o=i.plus(os(a,n,s)),Oo(o.d).slice(0,s)===Oo(i.d).slice(0,s)){for(;c--;)i=_n(i.times(i),s);return d.precision=f,t==null?(ir=!0,_n(i,f)):i}i=o}}function $r(e){for(var t=e.e*Kn,n=e.d[0];n>=10;n/=10)t++;return t}function yv(e,t,n){if(t>e.LN10.sd())throw ir=!0,n&&(e.precision=n),Error(Wi+"LN10 precision limit exceeded");return _n(new e(e.LN10),t)}function Ws(e){for(var t="";e--;)t+="0";return t}function Rf(e,t){var n,r,a,i,o,s,l,c,d,f=1,p=10,m=e,h=m.d,y=m.constructor,x=y.precision;if(m.s<1)throw Error(Wi+(m.s?"NaN":"-Infinity"));if(m.eq(di))return new y(0);if(t==null?(ir=!1,c=x):c=t,m.eq(10))return t==null&&(ir=!0),yv(y,c);if(c+=p,y.precision=c,n=Oo(h),r=n.charAt(0),i=$r(m),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=Oo(m.d),r=n.charAt(0),f++;i=$r(m),r>1?(m=new y("0."+n),i++):m=new y(r+"."+n.slice(1))}else return l=yv(y,c+2,x).times(i+""),m=Rf(new y(r+"."+n.slice(1)),c-p).plus(l),y.precision=x,t==null?(ir=!0,_n(m,x)):m;for(s=o=m=os(m.minus(di),m.plus(di),c),d=_n(m.times(m),c),a=3;;){if(o=_n(o.times(d),c),l=s.plus(os(o,new y(a),c)),Oo(l.d).slice(0,c)===Oo(s.d).slice(0,c))return s=s.times(2),i!==0&&(s=s.plus(yv(y,c+2,x).times(i+""))),s=os(s,new y(f),c),y.precision=x,t==null?(ir=!0,_n(s,x)):s;s=l,a+=2}}function uM(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=Yu(n/Kn),e.d=[],r=(n+1)%Kn,n<0&&(r+=Kn),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=Kn;r<a;)e.d.push(+t.slice(r,r+=Kn));t=t.slice(r),r=Kn-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),ir&&(e.e>mg||e.e<-mg))throw Error(Ek+n)}else e.s=0,e.e=0,e.d=[0];return e}function _n(e,t,n){var r,a,i,o,s,l,c,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(r=t-o,r<0)r+=Kn,a=t,c=f[d=0];else{if(d=Math.ceil((r+1)/Kn),i=f.length,d>=i)return e;for(c=i=f[d],o=1;i>=10;i/=10)o++;r%=Kn,a=r-Kn+o}if(n!==void 0&&(i=Ul(10,o-a-1),s=c/i%10|0,l=t<0||f[d+1]!==void 0||c%i,l=n<4?(s||l)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?a>0?c/Ul(10,o-a):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(i=$r(e),f.length=1,t=t-i-1,f[0]=Ul(10,(Kn-t%Kn)%Kn),e.e=Yu(-t/Kn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,i=1,d--):(f.length=d+1,i=Ul(10,Kn-r),f[d]=a>0?(c/Ul(10,o-a)%Ul(10,a)|0)*i:0),l)for(;;)if(d==0){(f[0]+=i)==na&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=na)break;f[d--]=0,i=1}for(r=f.length;f[--r]===0;)f.pop();if(ir&&(e.e>mg||e.e<-mg))throw Error(Ek+$r(e));return e}function N4(e,t){var n,r,a,i,o,s,l,c,d,f,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),ir?_n(t,m):t;if(l=e.d,f=t.d,r=t.e,c=e.e,l=l.slice(),o=c-r,o){for(d=o<0,d?(n=l,o=-o,s=f.length):(n=f,r=c,s=l.length),a=Math.max(Math.ceil(m/Kn),s)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=l.length,s=f.length,d=a<s,d&&(s=a),a=0;a<s;a++)if(l[a]!=f[a]){d=l[a]<f[a];break}o=0}for(d&&(n=l,l=f,f=n,t.s=-t.s),s=l.length,a=f.length-s;a>0;--a)l[s++]=0;for(a=f.length;a>o;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=na-1;--l[i],l[a]+=na}l[a]-=f[a]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,ir?_n(t,m):t):new p(0)}function wc(e,t,n){var r,a=$r(e),i=Oo(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+Ws(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Ws(-a-1)+i,n&&(r=n-o)>0&&(i+=Ws(r))):a>=o?(i+=Ws(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+Ws(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=Ws(r))),e.s<0?"-"+i:i}function dM(e,t){if(e.length>t)return e.length=t,!0}function j4(e){var t,n,r;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(lc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return uM(o,i.toString())}else if(typeof i!="string")throw Error(lc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,iG.test(i))uM(o,i);else throw Error(lc+i)}if(a.prototype=st,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=j4,a.config=a.set=oG,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function oG(e){if(!e||typeof e!="object")throw Error(Wi+"Object expected");var t,n,r,a=["precision",1,Gu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(Yu(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(lc+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(lc+n+": "+r);return this}var Pk=j4(aG);di=new Pk(1);const Cn=Pk;var sG=e=>e,C4={},M4=e=>e===C4,fM=e=>function t(){return arguments.length===0||arguments.length===1&&M4(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},A4=(e,t)=>e===1?t:fM(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=r.filter(o=>o!==C4).length;return i>=e?t(...r):A4(e-i,fM(function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];var c=r.map(d=>M4(d)?s.shift():d);return t(...c,...s)}))}),lG=e=>A4(e.length,e),Ix=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},cG=lG((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),uG=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return sG;var r=t.reverse(),a=r[0],i=r.slice(1);return function(){return i.reduce((o,s)=>s(o),a(...arguments))}};function E4(e){var t;return e===0?t=1:t=Math.floor(new Cn(e).abs().log(10).toNumber())+1,t}function P4(e,t,n){for(var r=new Cn(e),a=0,i=[];r.lt(t)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}var T4=e=>{var[t,n]=e,[r,a]=[t,n];return t>n&&([r,a]=[n,t]),[r,a]},D4=(e,t,n)=>{if(e.lte(0))return new Cn(0);var r=E4(e.toNumber()),a=new Cn(10).pow(r),i=e.div(a),o=r!==1?.05:.1,s=new Cn(Math.ceil(i.div(o).toNumber())).add(n).mul(o),l=s.mul(a);return t?new Cn(l.toNumber()):new Cn(Math.ceil(l.toNumber()))},dG=(e,t,n)=>{var r=new Cn(1),a=new Cn(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(r=new Cn(10).pow(E4(e)-1),a=new Cn(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new Cn(Math.floor(e)))}else e===0?a=new Cn(Math.floor((t-1)/2)):n||(a=new Cn(Math.floor(e)));var o=Math.floor((t-1)/2),s=uG(cG(l=>a.add(new Cn(l-o).mul(r)).toNumber()),Ix);return s(0,t)},O4=function(e,t,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Cn(0),tickMin:new Cn(0),tickMax:new Cn(0)};var i=D4(new Cn(t).sub(e).div(n-1),r,a),o;e<=0&&t>=0?o=new Cn(0):(o=new Cn(e).add(t).div(2),o=o.sub(new Cn(o).mod(i)));var s=Math.ceil(o.sub(e).div(i).toNumber()),l=Math.ceil(new Cn(t).sub(o).div(i).toNumber()),c=s+l+1;return c>n?O4(e,t,n,r,a+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:i,tickMin:o.sub(new Cn(s).mul(i)),tickMax:o.add(new Cn(l).mul(i))})},fG=function(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(r,2),[o,s]=T4([t,n]);if(o===-1/0||s===1/0){var l=s===1/0?[o,...Ix(0,r-1).map(()=>1/0)]:[...Ix(0,r-1).map(()=>-1/0),s];return t>n?l.reverse():l}if(o===s)return dG(o,r,a);var{step:c,tickMin:d,tickMax:f}=O4(o,s,i,a,0),p=P4(d,f.add(new Cn(.1).mul(c)),c);return t>n?p.reverse():p},pG=function(e,t){var[n,r]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=T4([n,r]);if(i===-1/0||o===1/0)return[n,r];if(i===o)return[i];var s=Math.max(t,2),l=D4(new Cn(o).sub(i).div(s-1),a,0),c=[...P4(new Cn(i),new Cn(o),l),o];return a===!1&&(c=c.map(d=>Math.round(d))),n>r?c.reverse():c},mG=e=>e.rootProps.barCategoryGap,mp=e=>e.rootProps.stackOffset,I4=e=>e.rootProps.reverseStackOrder,Tk=e=>e.options.chartName,Dk=e=>e.rootProps.syncId,_4=e=>e.rootProps.syncMethod,Ok=e=>e.options.eventEmitter,fa={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Zo={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ui={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},V0=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},hG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Zo.angleAxisId,includeHidden:!1,name:void 0,reversed:Zo.reversed,scale:Zo.scale,tick:Zo.tick,tickCount:void 0,ticks:void 0,type:Zo.type,unit:void 0},gG={allowDataOverflow:ui.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ui.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ui.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ui.scale,tick:ui.tick,tickCount:ui.tickCount,ticks:void 0,type:ui.type,unit:void 0},yG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Zo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Zo.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Zo.scale,tick:Zo.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},vG={allowDataOverflow:ui.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ui.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ui.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ui.scale,tick:ui.tick,tickCount:ui.tickCount,ticks:void 0,type:"category",unit:void 0},Ik=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?yG:hG,_k=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?vG:gG,H0=e=>e.polarOptions,Lk=de([ks,Ss,ia],O3),L4=de([H0,Lk],(e,t)=>{if(e!=null)return Bi(e.innerRadius,t,0)}),F4=de([H0,Lk],(e,t)=>{if(e!=null)return Bi(e.outerRadius,t,t*.8)}),bG=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},$4=de([H0],bG);de([Ik,$4],V0);var R4=de([Lk,L4,F4],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});de([_k,R4],V0);var B4=de([Tn,H0,L4,F4,ks,Ss],(e,t,n,r,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:s,startAngle:l,endAngle:c}=t;return{cx:Bi(o,a,a/2),cy:Bi(s,i,i/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),or=(e,t)=>t,hp=(e,t,n)=>n;function z4(e){return e==null?void 0:e.id}function U4(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=n,o=new Map;return e.forEach(s=>{var l,c=(l=s.data)!==null&&l!==void 0?l:r;if(!(c==null||c.length===0)){var d=z4(s);c.forEach((f,p)=>{var m=i==null||a?p:String(Yn(f,i,null)),h=Yn(f,s.dataKey,0),y;o.has(m)?y=o.get(m):y={},Object.assign(y,{[d]:h}),o.set(m,y)})}}),Array.from(o.values())}function Fk(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var W0=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function q0(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function xG(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Xr=e=>{var t=Tn(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Xu=e=>e.tooltip.settings.axisId;function pM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function hg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pM(Object(n),!0).forEach(function(r){wG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wG(e,t,n){return(t=kG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kG(e){var t=SG(e,"string");return typeof t=="symbol"?t:t+""}function SG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _x=[0,"auto"],ea={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},V4=(e,t)=>e.cartesianAxis.xAxis[t],js=(e,t)=>{var n=V4(e,t);return n??ea},ta={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:_x,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:sp},H4=(e,t)=>e.cartesianAxis.yAxis[t],Cs=(e,t)=>{var n=H4(e,t);return n??ta},NG={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},$k=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??NG},mr=(e,t,n)=>{switch(t){case"xAxis":return js(e,n);case"yAxis":return Cs(e,n);case"zAxis":return $k(e,n);case"angleAxis":return Ik(e,n);case"radiusAxis":return _k(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},jG=(e,t,n)=>{switch(t){case"xAxis":return js(e,n);case"yAxis":return Cs(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},gp=(e,t,n)=>{switch(t){case"xAxis":return js(e,n);case"yAxis":return Cs(e,n);case"angleAxis":return Ik(e,n);case"radiusAxis":return _k(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},W4=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Rk(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var q4=e=>e.graphicalItems.cartesianItems,CG=de([or,hp],Rk),Bk=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),yp=de([q4,mr,CG],Bk,{memoizeOptions:{resultEqualityCheck:q0}}),K4=de([yp],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Fk)),G4=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),MG=de([yp],G4),zk=e=>e.map(t=>t.data).filter(Boolean).flat(1),AG=de([yp],zk,{memoizeOptions:{resultEqualityCheck:q0}}),Uk=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=t;return e.length>0?e:n.slice(r,a+1)},Vk=de([AG,Ak],Uk),Hk=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Yn(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(a=>({value:Yn(a,r)}))):e.map(r=>({value:r})),K0=de([Vk,mr,yp],Hk);function Y4(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Xm(e){if(Ro(e)||e instanceof Date){var t=Number(e);if(Rr(t))return t}}function mM(e){if(Array.isArray(e)){var t=[Xm(e[0]),Xm(e[1])];return pl(t)?t:void 0}var n=Xm(e);if(n!=null)return[n,n]}function bs(e){return e.map(Xm).filter(HU)}function EG(e,t,n){return!n||typeof t!="number"||$o(t)?[]:n.length?bs(n.flatMap(r=>{var a=Yn(e,r.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!Rr(i)||!Rr(o)))return[t-i,t+o]})):[]}var Zr=e=>{var t=Xr(e),n=Xu(e);return gp(e,t,n)},vp=de([Zr],e=>e==null?void 0:e.dataKey),PG=de([K4,Ak,Zr],U4),X4=(e,t,n,r)=>{var a={},i=t.reduce((o,s)=>{if(s.stackId==null)return o;var l=o[s.stackId];return l==null&&(l=[]),l.push(s),o[s.stackId]=l,o},a);return Object.fromEntries(Object.entries(i).map(o=>{var[s,l]=o,c=r?[...l].reverse():l,d=c.map(z4);return[s,{stackedData:o9(e,d,n),graphicalItems:c}]}))},TG=de([PG,K4,mp,I4],X4),Z4=(e,t,n,r)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(r==null&&n!=="zAxis"){var o=c9(e,a,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},DG=de([mr],e=>e.allowDataOverflow),Wk=e=>{var t;if(e==null||!("domain"in e))return _x;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=bs(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:_x},qk=de([mr],Wk),Kk=de([qk,DG],x4),OG=de([TG,Sl,or,Kk],Z4,{memoizeOptions:{resultEqualityCheck:W0}}),G0=e=>e.errorBars,IG=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>Y4(n,r)),gg=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);if(r.length!==0){var a=r.flat(),i=Math.min(...a),o=Math.max(...a);return[i,o]}},Gk=(e,t,n,r,a)=>{var i,o;if(n.length>0&&e.forEach(s=>{n.forEach(l=>{var c,d,f=(c=r[l.id])===null||c===void 0?void 0:c.filter(g=>Y4(a,g)),p=Yn(s,(d=t.dataKey)!==null&&d!==void 0?d:l.dataKey),m=EG(s,p,f);if(m.length>=2){var h=Math.min(...m),y=Math.max(...m);(i==null||h<i)&&(i=h),(o==null||y>o)&&(o=y)}var x=mM(p);x!=null&&(i=i==null?x[0]:Math.min(i,x[0]),o=o==null?x[1]:Math.max(o,x[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(s=>{var l=mM(Yn(s,t.dataKey));l!=null&&(i=i==null?l[0]:Math.min(i,l[0]),o=o==null?l[1]:Math.max(o,l[1]))}),Rr(i)&&Rr(o))return[i,o]},_G=de([Vk,mr,MG,G0,or],Gk,{memoizeOptions:{resultEqualityCheck:W0}});function LG(e){var{value:t}=e;if(Ro(t)||t instanceof Date)return t}var FG=(e,t,n)=>{var r=e.map(LG).filter(a=>a!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&WD(r))?B3(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},Q4=e=>e.referenceElements.dots,Zu=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),$G=de([Q4,or,hp],Zu),J4=e=>e.referenceElements.areas,RG=de([J4,or,hp],Zu),eI=e=>e.referenceElements.lines,BG=de([eI,or,hp],Zu),tI=(e,t)=>{if(e!=null){var n=bs(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},zG=de($G,or,tI),nI=(e,t)=>{if(e!=null){var n=bs(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},UG=de([RG,or],nI);function VG(e){var t;if(e.x!=null)return bs([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:bs(n)}function HG(e){var t;if(e.y!=null)return bs([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:bs(n)}var rI=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?VG(r):HG(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},WG=de([BG,or],rI),qG=de(zG,WG,UG,(e,t,n)=>gg(e,n,t)),Yk=(e,t,n,r,a,i,o,s)=>{if(n!=null)return n;var l=o==="vertical"&&s==="xAxis"||o==="horizontal"&&s==="yAxis",c=l?gg(r,i,a):gg(i,a);return rG(t,c,e.allowDataOverflow)},KG=de([mr,qk,Kk,OG,_G,qG,Tn,or],Yk,{memoizeOptions:{resultEqualityCheck:W0}}),GG=[0,1],Xk=(e,t,n,r,a,i,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:s,type:l}=e,c=xl(t,i);if(c&&s==null){var d;return B3(0,(d=n==null?void 0:n.length)!==null&&d!==void 0?d:0)}return l==="category"?FG(r,e,c):a==="expand"?GG:o}},Zk=de([mr,Tn,Vk,K0,mp,or,KG],Xk),aI=(e,t,n,r,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var s="scale".concat(rp(i));return s in $d?s:"point"}}},Qu=de([mr,Tn,W4,Tk,or],aI);function YG(e){if(e!=null){if(e in $d)return $d[e]();var t="scale".concat(rp(e));if(t in $d)return $d[t]()}}function Qk(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var a=YG(t);if(a!=null){var i=a.domain(n).range(r);return n9(i),i}}}var Jk=(e,t,n)=>{var r=Wk(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&pl(e))return fG(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&pl(e))return pG(e,t.tickCount,t.allowDecimals)}},eS=de([Zk,gp,Qu],Jk),tS=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&pl(t)&&Array.isArray(n)&&n.length>0){var a=t[0],i=n[0],o=t[1],s=n[n.length-1];return[Math.min(a,i),Math.max(o,s)]}return t},XG=de([mr,Zk,eS,or],tS),ZG=de(K0,mr,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(bs(e.map(f=>f.value))).sort((f,p)=>f-p),a=r[0],i=r[r.length-1];if(a==null||i==null)return 1/0;var o=i-a;if(o===0)return 1/0;for(var s=0;s<r.length-1;s++){var l=r[s],c=r[s+1];if(!(l==null||c==null)){var d=c-l;n=Math.min(n,d)}}return n/o}}),iI=de(ZG,Tn,mG,ia,(e,t,n,r,a)=>a,(e,t,n,r,a)=>{if(!Rr(e))return 0;var i=t==="vertical"?r.height:r.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=Bi(n,e*i),s=e*i/2;return s-o-(s-o)/i*o}return 0}),QG=(e,t,n)=>{var r=js(e,t);return r==null||typeof r.padding!="string"?0:iI(e,"xAxis",t,n,r.padding)},JG=(e,t,n)=>{var r=Cs(e,t);return r==null||typeof r.padding!="string"?0:iI(e,"yAxis",t,n,r.padding)},eY=de(js,QG,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((n=a.left)!==null&&n!==void 0?n:0)+t,right:((r=a.right)!==null&&r!==void 0?r:0)+t}}),tY=de(Cs,JG,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((n=a.top)!==null&&n!==void 0?n:0)+t,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+t}}),nY=de([ia,eY,A0,M0,(e,t,n)=>n],(e,t,n,r,a)=>{var{padding:i}=r;return a?[i.left,n.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),rY=de([ia,Tn,tY,A0,M0,(e,t,n)=>n],(e,t,n,r,a,i)=>{var{padding:o}=a;return i?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),bp=(e,t,n,r)=>{var a;switch(t){case"xAxis":return nY(e,n,r);case"yAxis":return rY(e,n,r);case"zAxis":return(a=$k(e,n))===null||a===void 0?void 0:a.range;case"angleAxis":return $4(e);case"radiusAxis":return R4(e,n);default:return}},oI=de([mr,bp],V0),Y0=de([mr,Qu,XG,oI],Qk);de([yp,G0,or],IG);function sI(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var X0=(e,t)=>t,Z0=(e,t,n)=>n,aY=de(j0,X0,Z0,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(sI)),iY=de(C0,X0,Z0,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(sI)),lI=(e,t)=>({width:e.width,height:t.height}),oY=(e,t)=>{var n=typeof t.width=="number"?t.width:sp;return{width:n,height:e.height}},sY=de(ia,js,lI),lY=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},cY=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},uY=de(Ss,ia,aY,X0,Z0,(e,t,n,r,a)=>{var i={},o;return n.forEach(s=>{var l=lI(t,s);o==null&&(o=lY(t,r,e));var c=r==="top"&&!a||r==="bottom"&&a;i[s.id]=o-Number(c)*l.height,o+=(c?-1:1)*l.height}),i}),dY=de(ks,ia,iY,X0,Z0,(e,t,n,r,a)=>{var i={},o;return n.forEach(s=>{var l=oY(t,s);o==null&&(o=cY(t,r,e));var c=r==="left"&&!a||r==="right"&&a;i[s.id]=o-Number(c)*l.width,o+=(c?-1:1)*l.width}),i}),fY=(e,t)=>{var n=js(e,t);if(n!=null)return uY(e,n.orientation,n.mirror)},pY=de([ia,js,fY,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n==null?void 0:n[r];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),mY=(e,t)=>{var n=Cs(e,t);if(n!=null)return dY(e,n.orientation,n.mirror)},hY=de([ia,Cs,mY,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n==null?void 0:n[r];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),gY=de(ia,Cs,(e,t)=>{var n=typeof t.width=="number"?t.width:sp;return{width:n,height:e.height}}),cI=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=n,s=xl(e,r),l=t.map(c=>c.value);if(o&&s&&i==="category"&&a&&WD(l))return l}},nS=de([Tn,K0,mr,or],cI),uI=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:i}=n,o=xl(e,r);if(o&&(a==="number"||i!=="auto"))return t.map(s=>s.value)}},rS=de([Tn,K0,gp,or],uI),hM=de([Tn,jG,Qu,Y0,nS,rS,bp,eS,or],(e,t,n,r,a,i,o,s,l)=>{if(t!=null){var c=xl(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:i,duplicateDomain:a,isCategorical:c,niceTicks:s,range:o,realScaleType:n,scale:r}}}),yY=(e,t,n,r,a,i,o,s,l)=>{if(!(t==null||r==null)){var c=xl(e,l),{type:d,ticks:f,tickCount:p}=t,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,h=d==="category"&&r.bandwidth?r.bandwidth()/m:0;h=l==="angleAxis"&&i!=null&&i.length>=2?Ca(i[0]-i[1])*2*h:h;var y=f||a;if(y){var x=y.map((g,b)=>{var w=o?o.indexOf(g):g;return{index:b,coordinate:r(w)+h,value:g,offset:h}});return x.filter(g=>Rr(g.coordinate))}return c&&s?s.map((g,b)=>({coordinate:r(g)+h,value:g,index:b,offset:h})).filter(g=>Rr(g.coordinate)):r.ticks?r.ticks(p).map(g=>({coordinate:r(g)+h,value:g,offset:h})):r.domain().map((g,b)=>({coordinate:r(g)+h,value:o?o[g]:g,index:b,offset:h}))}},dI=de([Tn,gp,Qu,Y0,eS,bp,nS,rS,or],yY),vY=(e,t,n,r,a,i,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var s=xl(e,o),{tickCount:l}=t,c=0;return c=o==="angleAxis"&&(r==null?void 0:r.length)>=2?Ca(r[0]-r[1])*2*c:c,s&&i?i.map((d,f)=>({coordinate:n(d)+c,value:d,index:f,offset:c})):n.ticks?n.ticks(l).map(d=>({coordinate:n(d)+c,value:d,offset:c})):n.domain().map((d,f)=>({coordinate:n(d)+c,value:a?a[d]:d,index:f,offset:c}))}},fI=de([Tn,gp,Y0,bp,nS,rS,or],vY),pI=de(mr,Y0,(e,t)=>{if(!(e==null||t==null))return hg(hg({},e),{},{scale:t})}),bY=de([mr,Qu,Zk,oI],Qk);de((e,t,n)=>$k(e,n),bY,(e,t)=>{if(!(e==null||t==null))return hg(hg({},e),{},{scale:t})});var xY=de([Tn,j0,C0],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),mI=e=>e.options.defaultTooltipEventType,hI=e=>e.options.validateTooltipEventTypes;function gI(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function aS(e,t){var n=mI(e),r=hI(e);return gI(t,n,r)}function wY(e){return vt(t=>aS(t,e))}var yI=(e,t)=>{var n,r=Number(t);if(!($o(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},kY=e=>e.tooltip.settings,Xs={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},SY={itemInteraction:{click:Xs,hover:Xs},axisInteraction:{click:Xs,hover:Xs},keyboardInteraction:Xs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},vI=ri({name:"tooltip",initialState:SY,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:rr()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,a=oo(e).tooltipItemPayloads.indexOf(n);a>-1&&(e.tooltipItemPayloads[a]=r)},prepare:rr()},removeTooltipEntrySettings:{reducer(e,t){var n=oo(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:rr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:NY,replaceTooltipEntrySettings:jY,removeTooltipEntrySettings:CY,setTooltipSettingsState:MY,setActiveMouseOverItemIndex:bI,mouseLeaveItem:AY,mouseLeaveChart:xI,setActiveClickItemIndex:EY,setMouseOverAxisIndex:wI,setMouseClickAxisIndex:PY,setSyncInteraction:Lx,setKeyboardInteraction:Fx}=vI.actions,TY=vI.reducer;function gM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Sm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gM(Object(n),!0).forEach(function(r){DY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DY(e,t,n){return(t=OY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OY(e){var t=IY(e,"string");return typeof t=="symbol"?t:t+""}function IY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _Y(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function LY(e){return e.index!=null}var kI=(e,t,n,r)=>{if(t==null)return Xs;var a=_Y(e,t,n);if(a==null)return Xs;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(LY(a)){if(i)return Sm(Sm({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Sm(Sm({},Xs),{},{coordinate:a.coordinate})};function FY(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function $Y(e,t){var n=FY(e),r=t[0],a=t[1];if(n===void 0)return!1;var i=Math.min(r,a),o=Math.max(r,a);return n>=i&&n<=o}function RY(e,t,n){if(n==null||t==null)return!0;var r=Yn(e,t);return r==null||!pl(n)?!0:$Y(r,n)}var iS=(e,t,n,r)=>{var a=e==null?void 0:e.index;if(a==null)return null;var i=Number(a);if(!Rr(i))return a;var o=0,s=1/0;t.length>0&&(s=t.length-1);var l=Math.max(o,Math.min(i,s)),c=t[l];return c==null||RY(c,n,r)?String(l):null},SI=(e,t,n,r,a,i,o,s)=>{if(!(i==null||s==null)){var l=o[0],c=l==null?void 0:s(l.positions,i);if(c!=null)return c;var d=a==null?void 0:a[Number(i)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:d.coordinate}}}},NI=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(n==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&r!=null){var i=e.tooltipItemPayloads[0];return i!=null?[i]:[]}return e.tooltipItemPayloads.filter(o=>{var s;return((s=o.settings)===null||s===void 0?void 0:s.graphicalItemId)===a})},xp=e=>e.options.tooltipPayloadSearcher,Ju=e=>e.tooltip;function yM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function vM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yM(Object(n),!0).forEach(function(r){BY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BY(e,t,n){return(t=zY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zY(e){var t=UY(e,"string");return typeof t=="symbol"?t:t+""}function UY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VY(e,t){return e??t}var jI=(e,t,n,r,a,i,o)=>{if(!(t==null||i==null)){var{chartData:s,computedData:l,dataStartIndex:c,dataEndIndex:d}=n,f=[];return e.reduce((p,m)=>{var h,{dataDefinedOnItem:y,settings:x}=m,g=VY(y,s),b=Array.isArray(g)?t3(g,c,d):g,w=(h=x==null?void 0:x.dataKey)!==null&&h!==void 0?h:r,S=x==null?void 0:x.nameKey,C;if(r&&Array.isArray(b)&&!Array.isArray(b[0])&&o==="axis"?C=qD(b,r,a):C=i(b,t,l,S),Array.isArray(C))C.forEach(M=>{var P=vM(vM({},x),{},{name:M.name,unit:M.unit,color:void 0,fill:void 0});p.push(Pj({tooltipEntrySettings:P,dataKey:M.dataKey,payload:M.payload,value:Yn(M.payload,M.dataKey),name:M.name}))});else{var j;p.push(Pj({tooltipEntrySettings:x,dataKey:w,payload:C,value:Yn(C,w),name:(j=Yn(C,S))!==null&&j!==void 0?j:x==null?void 0:x.name}))}return p},f)}},oS=de([Zr,Tn,W4,Tk,Xr],aI),HY=de([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),WY=de([Xr,Xu],Rk),ed=de([HY,Zr,WY],Bk,{memoizeOptions:{resultEqualityCheck:q0}}),qY=de([ed],e=>e.filter(Fk)),KY=de([ed],zk,{memoizeOptions:{resultEqualityCheck:q0}}),td=de([KY,Sl],Uk),GY=de([qY,Sl,Zr],U4),sS=de([td,Zr,ed],Hk),CI=de([Zr],Wk),YY=de([Zr],e=>e.allowDataOverflow),MI=de([CI,YY],x4),XY=de([ed],e=>e.filter(Fk)),ZY=de([GY,XY,mp,I4],X4),QY=de([ZY,Sl,Xr,MI],Z4),JY=de([ed],G4),eX=de([td,Zr,JY,G0,Xr],Gk,{memoizeOptions:{resultEqualityCheck:W0}}),tX=de([Q4,Xr,Xu],Zu),nX=de([tX,Xr],tI),rX=de([J4,Xr,Xu],Zu),aX=de([rX,Xr],nI),iX=de([eI,Xr,Xu],Zu),oX=de([iX,Xr],rI),sX=de([nX,oX,aX],gg),lX=de([Zr,CI,MI,QY,eX,sX,Tn,Xr],Yk),wp=de([Zr,Tn,td,sS,mp,Xr,lX],Xk),cX=de([wp,Zr,oS],Jk),uX=de([Zr,wp,cX,Xr],tS),AI=e=>{var t=Xr(e),n=Xu(e),r=!1;return bp(e,t,n,r)},EI=de([Zr,AI],V0),PI=de([Zr,oS,uX,EI],Qk),dX=de([Tn,sS,Zr,Xr],cI),fX=de([Tn,sS,Zr,Xr],uI),pX=(e,t,n,r,a,i,o,s)=>{if(t){var{type:l}=t,c=xl(e,s);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/d:0;return f=s==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Ca(a[0]-a[1])*2*f:f,c&&o?o.map((p,m)=>({coordinate:r(p)+f,value:p,index:m,offset:f})):r.domain().map((p,m)=>({coordinate:r(p)+f,value:i?i[p]:p,index:m,offset:f}))}}},Ms=de([Tn,Zr,oS,PI,AI,dX,fX,Xr],pX),lS=de([mI,hI,kY],(e,t,n)=>gI(n.shared,e,t)),TI=e=>e.tooltip.settings.trigger,cS=e=>e.tooltip.settings.defaultIndex,kp=de([Ju,lS,TI,cS],kI),$u=de([kp,td,vp,wp],iS),DI=de([Ms,$u],yI),OI=de([kp],e=>{if(e)return e.dataKey}),mX=de([kp],e=>{if(e)return e.graphicalItemId}),II=de([Ju,lS,TI,cS],NI),hX=de([ks,Ss,Tn,ia,Ms,cS,II,xp],SI),gX=de([kp,hX],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),yX=de([kp],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),vX=de([II,$u,Sl,vp,DI,xp,lS],jI),bX=de([vX],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function bM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bM(Object(n),!0).forEach(function(r){xX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xX(e,t,n){return(t=wX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wX(e){var t=kX(e,"string");return typeof t=="symbol"?t:t+""}function kX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SX=()=>vt(Zr),NX=()=>{var e=SX(),t=vt(Ms),n=vt(PI);return fx(!e||!n?void 0:xM(xM({},e),{},{scale:n}),t)};function wM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Uc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wM(Object(n),!0).forEach(function(r){jX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jX(e,t,n){return(t=CX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CX(e){var t=MX(e,"string");return typeof t=="symbol"?t:t+""}function MX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AX=(e,t,n,r)=>{var a=t.find(i=>i&&i.index===n);if(a){if(e==="horizontal")return{x:a.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:a.coordinate}}return{x:0,y:0}},EX=(e,t,n,r)=>{var a=t.find(c=>c&&c.index===n);if(a){if(e==="centric"){var i=a.coordinate,{radius:o}=r;return Uc(Uc(Uc({},r),Fr(r.cx,r.cy,o,i)),{},{angle:i,radius:o})}var s=a.coordinate,{angle:l}=r;return Uc(Uc(Uc({},r),Fr(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function PX(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var _I=(e,t,n,r,a)=>{var i,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var s=0;s<o;s++){var l,c,d,f,p,m=s>0?(l=n[s-1])===null||l===void 0?void 0:l.coordinate:(c=n[o-1])===null||c===void 0?void 0:c.coordinate,h=(d=n[s])===null||d===void 0?void 0:d.coordinate,y=s>=o-1?(f=n[0])===null||f===void 0?void 0:f.coordinate:(p=n[s+1])===null||p===void 0?void 0:p.coordinate,x=void 0;if(!(m==null||h==null||y==null))if(Ca(h-m)!==Ca(y-h)){var g=[];if(Ca(y-h)===Ca(a[1]-a[0])){x=y;var b=h+a[1]-a[0];g[0]=Math.min(b,(b+m)/2),g[1]=Math.max(b,(b+m)/2)}else{x=m;var w=y+a[1]-a[0];g[0]=Math.min(h,(w+h)/2),g[1]=Math.max(h,(w+h)/2)}var S=[Math.min(h,(x+h)/2),Math.max(h,(x+h)/2)];if(e>S[0]&&e<=S[1]||e>=g[0]&&e<=g[1]){var C;return(C=n[s])===null||C===void 0?void 0:C.index}}else{var j=Math.min(m,y),M=Math.max(m,y);if(e>(j+h)/2&&e<=(M+h)/2){var P;return(P=n[s])===null||P===void 0?void 0:P.index}}}else if(t)for(var $=0;$<o;$++){var E=t[$];if(E!=null){var _=t[$+1],D=t[$-1];if($===0&&_!=null&&e<=(E.coordinate+_.coordinate)/2||$===o-1&&D!=null&&e>(E.coordinate+D.coordinate)/2||$>0&&$<o-1&&D!=null&&_!=null&&e>(E.coordinate+D.coordinate)/2&&e<=(E.coordinate+_.coordinate)/2)return E.index}}return-1},TX=()=>vt(Tk),uS=(e,t)=>t,LI=(e,t,n)=>n,dS=(e,t,n,r)=>r,DX=de(Ms,e=>m0(e,t=>t.coordinate)),fS=de([Ju,uS,LI,dS],kI),pS=de([fS,td,vp,wp],iS),OX=(e,t,n)=>{if(t!=null){var r=Ju(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},FI=de([Ju,uS,LI,dS],NI),yg=de([ks,Ss,Tn,ia,Ms,dS,FI,xp],SI),IX=de([fS,yg],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),$I=de([Ms,pS],yI),_X=de([FI,pS,Sl,vp,$I,xp,uS],jI),LX=de([fS,pS],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),FX=(e,t,n,r,a,i,o)=>{if(!(!e||!n||!r||!a)&&PX(e,o)){var s=u9(e,t),l=_I(s,i,a,n,r),c=AX(t,a,l,e);return{activeIndex:String(l),activeCoordinate:c}}},$X=(e,t,n,r,a,i,o)=>{if(!(!e||!r||!a||!i||!n)){var s=SW(e,n);if(s){var l=d9(s,t),c=_I(l,o,i,r,a),d=EX(t,i,c,s);return{activeIndex:String(c),activeCoordinate:d}}}},RX=(e,t,n,r,a,i,o,s)=>{if(!(!e||!t||!r||!a||!i))return t==="horizontal"||t==="vertical"?FX(e,t,r,a,i,o,s):$X(e,t,n,r,a,i,o)},BX=de(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),zX=de(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(fa)),n=Array.from(new Set(t));return n.sort((r,a)=>r-a)},{memoizeOptions:{resultEqualityCheck:xG}});function kM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function SM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kM(Object(n),!0).forEach(function(r){UX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UX(e,t,n){return(t=VX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VX(e){var t=HX(e,"string");return typeof t=="symbol"?t:t+""}function HX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WX={},qX={zIndexMap:Object.values(fa).reduce((e,t)=>SM(SM({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),WX)},KX=new Set(Object.values(fa));function GX(e){return KX.has(e)}var RI=ri({name:"zIndex",initialState:qX,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:rr()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!GX(n)&&delete e.zIndexMap[n])},prepare:rr()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:a}=t.payload;e.zIndexMap[n]?a?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:a?void 0:r,panoramaElement:a?r:void 0}},prepare:rr()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:rr()}}}),{registerZIndexPortal:YX,unregisterZIndexPortal:XX,registerZIndexPortalElement:ZX,unregisterZIndexPortalElement:QX}=RI.actions,JX=RI.reducer;function go(e){var{zIndex:t,children:n}=e,r=$9(),a=r&&t!==void 0&&t!==0,i=ai(),o=Vn();v.useLayoutEffect(()=>a?(o(YX({zIndex:t})),()=>{o(XX({zIndex:t}))}):ap,[o,t,a]);var s=vt(l=>BX(l,t,i));return a?s?qu.createPortal(n,s):null:n}function $x(){return $x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$x.apply(null,arguments)}function NM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Nm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NM(Object(n),!0).forEach(function(r){eZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eZ(e,t,n){return(t=tZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tZ(e){var t=nZ(e,"string");return typeof t=="symbol"?t:t+""}function nZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rZ(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return v.isValidElement(t)?v.cloneElement(t,r):v.createElement(n,r)}function aZ(e){var t,{coordinate:n,payload:r,index:a,offset:i,tooltipAxisBandSize:o,layout:s,cursor:l,tooltipEventType:c,chartName:d}=e,f=n,p=r,m=a;if(!l||!f||d!=="ScatterChart"&&c!=="axis")return null;var h,y,x;if(d==="ScatterChart")h=f,y=FH,x=fa.cursorLine;else if(d==="BarChart")h=$H(s,f,i,o),y=D3,x=fa.cursorRectangle;else if(s==="radial"&&GD(f)){var{cx:g,cy:b,radius:w,startAngle:S,endAngle:C}=I3(f);h={cx:g,cy:b,startAngle:S,endAngle:C,innerRadius:w,outerRadius:w},y=L3,x=fa.cursorLine}else h={points:MW(s,f,i)},y=rk,x=fa.cursorLine;var j=typeof l=="object"&&"className"in l?l.className:void 0,M=Nm(Nm(Nm(Nm({stroke:"#ccc",pointerEvents:"none"},i),h),Pu(l)),{},{payload:p,payloadIndex:m,className:xn("recharts-tooltip-cursor",j)});return v.createElement(go,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:x},v.createElement(rZ,{cursor:l,cursorComp:y,cursorProps:M}))}function iZ(e){var t=NX(),n=h3(),r=lp(),a=TX();return t==null||n==null||r==null||a==null?null:v.createElement(aZ,$x({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:a}))}var BI=v.createContext(null),oZ=()=>v.useContext(BI),zI={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function i(l,c,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||l,p),h=n?n+c:c;return l._events[h]?l._events[h].fn?l._events[h]=[l._events[h],m]:l._events[h].push(m):(l._events[h]=m,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],c,d;if(this._eventsCount===0)return l;for(d in c=this._events)t.call(c,d)&&l.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(c)):l},s.prototype.listeners=function(l){var c=n?n+l:l,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,p=d.length,m=new Array(p);f<p;f++)m[f]=d[f].fn;return m},s.prototype.listenerCount=function(l){var c=n?n+l:l,d=this._events[c];return d?d.fn?1:d.length:0},s.prototype.emit=function(l,c,d,f,p,m){var h=n?n+l:l;if(!this._events[h])return!1;var y=this._events[h],x=arguments.length,g,b;if(y.fn){switch(y.once&&this.removeListener(l,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,c),!0;case 3:return y.fn.call(y.context,c,d),!0;case 4:return y.fn.call(y.context,c,d,f),!0;case 5:return y.fn.call(y.context,c,d,f,p),!0;case 6:return y.fn.call(y.context,c,d,f,p,m),!0}for(b=1,g=new Array(x-1);b<x;b++)g[b-1]=arguments[b];y.fn.apply(y.context,g)}else{var w=y.length,S;for(b=0;b<w;b++)switch(y[b].once&&this.removeListener(l,y[b].fn,void 0,!0),x){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,c);break;case 3:y[b].fn.call(y[b].context,c,d);break;case 4:y[b].fn.call(y[b].context,c,d,f);break;default:if(!g)for(S=1,g=new Array(x-1);S<x;S++)g[S-1]=arguments[S];y[b].fn.apply(y[b].context,g)}}return!0},s.prototype.on=function(l,c,d){return i(this,l,c,d,!1)},s.prototype.once=function(l,c,d){return i(this,l,c,d,!0)},s.prototype.removeListener=function(l,c,d,f){var p=n?n+l:l;if(!this._events[p])return this;if(!c)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===c&&(!f||m.once)&&(!d||m.context===d)&&o(this,p);else{for(var h=0,y=[],x=m.length;h<x;h++)(m[h].fn!==c||f&&!m[h].once||d&&m[h].context!==d)&&y.push(m[h]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},s.prototype.removeAllListeners=function(l){var c;return l?(c=n?n+l:l,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(zI);var sZ=zI.exports;const lZ=mo(sZ);var Bf=new lZ,Rx="recharts.syncEvent.tooltip",jM="recharts.syncEvent.brush";function UI(e,t){if(t){var n=Number.parseInt(t,10);if(!$o(n))return e==null?void 0:e[n]}}var cZ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},VI=ri({name:"options",initialState:cZ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),uZ=VI.reducer,{createEventEmitter:dZ}=VI.actions;function fZ(e){return e.tooltip.syncInteraction}var pZ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},HI=ri({name:"chartData",initialState:pZ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:CM,setDataStartEndIndexes:mZ,setComputedData:Zhe}=HI.actions,hZ=HI.reducer,gZ=["x","y"];function MM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Vc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MM(Object(n),!0).forEach(function(r){yZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yZ(e,t,n){return(t=vZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vZ(e){var t=bZ(e,"string");return typeof t=="symbol"?t:t+""}function bZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xZ(e,t){if(e==null)return{};var n,r,a=wZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function wZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function kZ(){var e=vt(Dk),t=vt(Ok),n=Vn(),r=vt(_4),a=vt(Ms),i=lp(),o=E0(),s=vt(l=>l.rootProps.className);v.useEffect(()=>{if(e==null)return ap;var l=(c,d,f)=>{if(t!==f&&e===c){if(r==="index"){var p;if(o&&d!==null&&d!==void 0&&(p=d.payload)!==null&&p!==void 0&&p.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:h,y}=m,x=xZ(m,gZ),{x:g,y:b,width:w,height:S}=d.payload.sourceViewBox,C=Vc(Vc({},x),{},{x:o.x+(w?(h-g)/w:0)*o.width,y:o.y+(S?(y-b)/S:0)*o.height});n(Vc(Vc({},d),{},{payload:Vc(Vc({},d.payload),{},{coordinate:C})}))}else n(d);return}if(a!=null){var j;if(typeof r=="function"){var M={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},P=r(a,M);j=a[P]}else r==="value"&&(j=a.find(fe=>String(fe.value)===d.payload.label));var{coordinate:$}=d.payload;if(j==null||d.payload.active===!1||$==null||o==null){n(Lx({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:E,y:_}=$,D=Math.min(E,o.x+o.width),J=Math.min(_,o.y+o.height),Q={x:i==="horizontal"?j.coordinate:D,y:i==="horizontal"?J:j.coordinate},Y=Lx({active:d.payload.active,coordinate:Q,dataKey:d.payload.dataKey,index:String(j.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});n(Y)}}};return Bf.on(Rx,l),()=>{Bf.off(Rx,l)}},[s,n,t,e,r,a,i,o])}function SZ(){var e=vt(Dk),t=vt(Ok),n=Vn();v.useEffect(()=>{if(e==null)return ap;var r=(a,i,o)=>{t!==o&&e===a&&n(mZ(i))};return Bf.on(jM,r),()=>{Bf.off(jM,r)}},[n,t,e])}function NZ(){var e=Vn();v.useEffect(()=>{e(dZ())},[e]),kZ(),SZ()}function jZ(e,t,n,r,a,i){var o=vt(m=>OX(m,e,t)),s=vt(Ok),l=vt(Dk),c=vt(_4),d=vt(fZ),f=d==null?void 0:d.active,p=E0();v.useEffect(()=>{if(!f&&l!=null&&s!=null){var m=Lx({active:i,coordinate:n,dataKey:o,index:a,label:typeof r=="number"?String(r):r,sourceViewBox:p,graphicalItemId:void 0});Bf.emit(Rx,l,m,s)}},[f,n,o,a,r,s,l,c,i,p])}function AM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function EM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AM(Object(n),!0).forEach(function(r){CZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CZ(e,t,n){return(t=MZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MZ(e){var t=AZ(e,"string");return typeof t=="symbol"?t:t+""}function AZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EZ(e){return e.dataKey}function PZ(e,t){return v.isValidElement(e)?v.cloneElement(e,t):typeof e=="function"?v.createElement(e,t):v.createElement(gH,t)}var PM=[],TZ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function kc(e){var t,n,r=Gr(e,TZ),{active:a,allowEscapeViewBox:i,animationDuration:o,animationEasing:s,content:l,filterNull:c,isAnimationActive:d,offset:f,payloadUniqBy:p,position:m,reverseDirection:h,useTranslate3d:y,wrapperStyle:x,cursor:g,shared:b,trigger:w,defaultIndex:S,portal:C,axisId:j}=r,M=Vn(),P=typeof S=="number"?String(S):S;v.useEffect(()=>{M(MY({shared:b,trigger:w,axisId:j,active:a,defaultIndex:P}))},[M,b,w,j,a,P]);var $=E0(),E=M3(),_=wY(b),{activeIndex:D,isActive:J}=(t=vt(H=>LX(H,_,w,P)))!==null&&t!==void 0?t:{},Q=vt(H=>_X(H,_,w,P)),Y=vt(H=>$I(H,_,w,P)),fe=vt(H=>IX(H,_,w,P)),K=Q,I=oZ(),te=(n=a??J)!==null&&n!==void 0?n:!1,[k,R]=jO([K,te]),A=_==="axis"?Y:void 0;jZ(_,w,fe,A,D,te);var N=C??I;if(N==null||$==null||_==null)return null;var B=K??PM;te||(B=PM),c&&B.length&&(B=pO(B.filter(H=>H.value!=null&&(H.hide!==!0||r.includeHidden)),p,EZ));var G=B.length>0,V=v.createElement(SH,{allowEscapeViewBox:i,animationDuration:o,animationEasing:s,isAnimationActive:d,active:te,coordinate:fe,hasPayload:G,offset:f,position:m,reverseDirection:h,useTranslate3d:y,viewBox:$,wrapperStyle:x,lastBoundingBox:k,innerRef:R,hasPortalFromProps:!!C},PZ(l,EM(EM({},r),{},{payload:B,label:A,active:te,activeIndex:D,coordinate:fe,accessibilityLayer:E})));return v.createElement(v.Fragment,null,qu.createPortal(V,N),te&&v.createElement(iZ,{cursor:g,tooltipEventType:_,coordinate:fe,payload:B,index:D}))}var Ru=e=>null;Ru.displayName="Cell";function DZ(e,t,n){return(t=OZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OZ(e){var t=IZ(e,"string");return typeof t=="symbol"?t:t+""}function IZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class _Z{constructor(t){DZ(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function TM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function LZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TM(Object(n),!0).forEach(function(r){FZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FZ(e,t,n){return(t=$Z(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $Z(e){var t=RZ(e,"string");return typeof t=="symbol"?t:t+""}function RZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BZ={cacheSize:2e3,enableCache:!0},WI=LZ({},BZ),DM=new _Z(WI.cacheSize),zZ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},OM="recharts_measurement_span";function UZ(e,t){var n=t.fontSize||"",r=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(s)}var IM=(e,t)=>{try{var n=document.getElementById(OM);n||(n=document.createElement("span"),n.setAttribute("id",OM),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,zZ,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Xd=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||I0.isSsr)return{width:0,height:0};if(!WI.enableCache)return IM(e,t);var n=UZ(e,t),r=DM.get(n);if(r)return r;var a=IM(e,t);return DM.set(n,a),a},qI;function VZ(e,t,n){return(t=HZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HZ(e){var t=WZ(e,"string");return typeof t=="symbol"?t:t+""}function WZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _M=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,LM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,KZ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,GZ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},YZ=["cm","mm","pt","pc","in","Q","px"];function XZ(e){return YZ.includes(e)}var su="NaN";function ZZ(e,t){return e*GZ[t]}class da{static parse(t){var n,[,r,a]=(n=KZ.exec(t))!==null&&n!==void 0?n:[];return r==null?da.NaN:new da(parseFloat(r),a??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,$o(t)&&(this.unit=""),n!==""&&!qZ.test(n)&&(this.num=NaN,this.unit=""),XZ(n)&&(this.num=ZZ(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new da(NaN,""):new da(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new da(NaN,""):new da(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new da(NaN,""):new da(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new da(NaN,""):new da(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return $o(this.num)}}qI=da;VZ(da,"NaN",new qI(NaN,""));function KI(e){if(e==null||e.includes(su))return su;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,a,i]=(n=_M.exec(t))!==null&&n!==void 0?n:[],o=da.parse(r??""),s=da.parse(i??""),l=a==="*"?o.multiply(s):o.divide(s);if(l.isNaN())return su;t=t.replace(_M,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,d,f,p]=(c=LM.exec(t))!==null&&c!==void 0?c:[],m=da.parse(d??""),h=da.parse(p??""),y=f==="+"?m.add(h):m.subtract(h);if(y.isNaN())return su;t=t.replace(LM,y.toString())}return t}var FM=/\(([^()]*)\)/;function QZ(e){for(var t=e,n;(n=FM.exec(t))!=null;){var[,r]=n;t=t.replace(FM,KI(r))}return t}function JZ(e){var t=e.replace(/\s+/g,"");return t=QZ(t),t=KI(t),t}function eQ(e){try{return JZ(e)}catch{return su}}function vv(e){var t=eQ(e.slice(5,-1));return t===su?"":t}var tQ=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],nQ=["dx","dy","angle","className","breakAll"];function Bx(){return Bx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bx.apply(null,arguments)}function $M(e,t){if(e==null)return{};var n,r,a=rQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function rQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var GI=/[ \f\n\r\t\v\u2028\u2029]+/,YI=e=>{var{children:t,breakAll:n,style:r}=e;try{var a=[];Kr(t)||(n?a=t.toString().split(""):a=t.toString().split(GI));var i=a.map(s=>({word:s,width:Xd(s,r).width})),o=n?0:Xd("",r).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}};function aQ(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var XI=(e,t,n,r)=>e.reduce((a,i)=>{var{word:o,width:s}=i,l=a[a.length-1];if(l&&s!=null&&(t==null||r||l.width+s+n<Number(t)))l.words.push(o),l.width+=s+n;else{var c={words:[o],width:s};a.push(c)}return a},[]),ZI=e=>e.reduce((t,n)=>t.width>n.width?t:n),iQ="",RM=(e,t,n,r,a,i,o,s)=>{var l=e.slice(0,t),c=YI({breakAll:n,style:r,children:l+iQ});if(!c)return[!1,[]];var d=XI(c.wordsWithComputedWidth,i,o,s),f=d.length>a||ZI(d).width>Number(i);return[f,d]},oQ=(e,t,n,r,a)=>{var{maxLines:i,children:o,style:s,breakAll:l}=e,c=kt(i),d=String(o),f=XI(t,r,n,a);if(!c||a)return f;var p=f.length>i||ZI(f).width>Number(r);if(!p)return f;for(var m=0,h=d.length-1,y=0,x;m<=h&&y<=d.length-1;){var g=Math.floor((m+h)/2),b=g-1,[w,S]=RM(d,b,l,s,i,r,n,a),[C]=RM(d,g,l,s,i,r,n,a);if(!w&&!C&&(m=g+1),w&&C&&(h=g-1),!w&&C){x=S;break}y++}return x||f},BM=e=>{var t=Kr(e)?[]:e.toString().split(GI);return[{words:t,width:void 0}]},sQ=e=>{var{width:t,scaleToFit:n,children:r,style:a,breakAll:i,maxLines:o}=e;if((t||n)&&!I0.isSsr){var s,l,c=YI({breakAll:i,children:r,style:a});if(c){var{wordsWithComputedWidth:d,spaceWidth:f}=c;s=d,l=f}else return BM(r);return oQ({breakAll:i,children:r,maxLines:o,style:a},s,l,t,!!n)}return BM(r)},QI="#808080",lQ={angle:0,breakAll:!1,capHeight:"0.71em",fill:QI,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Q0=v.forwardRef((e,t)=>{var n=Gr(e,lQ),{x:r,y:a,lineHeight:i,capHeight:o,fill:s,scaleToFit:l,textAnchor:c,verticalAnchor:d}=n,f=$M(n,tQ),p=v.useMemo(()=>sQ({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:m,dy:h,angle:y,className:x,breakAll:g}=f,b=$M(f,nQ);if(!Ro(r)||!Ro(a)||p.length===0)return null;var w=Number(r)+(kt(m)?m:0),S=Number(a)+(kt(h)?h:0);if(!Rr(w)||!Rr(S))return null;var C;switch(d){case"start":C=vv("calc(".concat(o,")"));break;case"middle":C=vv("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:C=vv("calc(".concat(p.length-1," * -").concat(i,")"));break}var j=[];if(l){var M=p[0].width,{width:P}=f;j.push("scale(".concat(kt(P)&&kt(M)?P/M:1,")"))}return y&&j.push("rotate(".concat(y,", ").concat(w,", ").concat(S,")")),j.length&&(b.transform=j.join(" ")),v.createElement("text",Bx({},La(b),{ref:t,x:w,y:S,className:xn("recharts-text",x),textAnchor:c,fill:s.includes("url")?QI:s}),p.map(($,E)=>{var _=$.words.join(g?"":" ");return v.createElement("tspan",{x:w,dy:E===0?C:i,key:"".concat(_,"-").concat(E)},_)}))});Q0.displayName="Text";var cQ=["labelRef"],uQ=["content"];function zM(e,t){if(e==null)return{};var n,r,a=dQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function dQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function UM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Cr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UM(Object(n),!0).forEach(function(r){fQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fQ(e,t,n){return(t=pQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pQ(e){var t=mQ(e,"string");return typeof t=="symbol"?t:t+""}function mQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qo(){return Qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qo.apply(null,arguments)}var JI=v.createContext(null),hQ=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:a,width:i,height:o,children:s}=e,l=v.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:a,width:i,height:o}),[t,n,r,a,i,o]);return v.createElement(JI.Provider,{value:l},s)},e_=()=>{var e=v.useContext(JI),t=E0();return e||m3(t)},gQ=v.createContext(null),yQ=()=>{var e=v.useContext(gQ),t=vt(B4);return e||t},vQ=e=>{var{value:t,formatter:n}=e,r=Kr(e.children)?t:e.children;return typeof n=="function"?n(r):r},mS=e=>e!=null&&typeof e=="function",bQ=(e,t)=>{var n=Ca(t-e),r=Math.min(Math.abs(t-e),360);return n*r},xQ=(e,t,n,r,a)=>{var{offset:i,className:o}=e,{cx:s,cy:l,innerRadius:c,outerRadius:d,startAngle:f,endAngle:p,clockWise:m}=a,h=(c+d)/2,y=bQ(f,p),x=y>=0?1:-1,g,b;switch(t){case"insideStart":g=f+x*i,b=m;break;case"insideEnd":g=p-x*i,b=!m;break;case"end":g=p+x*i,b=m;break;default:throw new Error("Unsupported position ".concat(t))}b=y<=0?b:!b;var w=Fr(s,l,h,g),S=Fr(s,l,h,g+(b?1:-1)*359),C="M".concat(w.x,",").concat(w.y,`
    A`).concat(h,",").concat(h,",0,1,").concat(b?0:1,`,
    `).concat(S.x,",").concat(S.y),j=Kr(e.id)?Mf("recharts-radial-line-"):e.id;return v.createElement("text",Qo({},r,{dominantBaseline:"central",className:xn("recharts-radial-bar-label",o)}),v.createElement("defs",null,v.createElement("path",{id:j,d:C})),v.createElement("textPath",{xlinkHref:"#".concat(j)},n))},wQ=(e,t,n)=>{var{cx:r,cy:a,innerRadius:i,outerRadius:o,startAngle:s,endAngle:l}=e,c=(s+l)/2;if(n==="outside"){var{x:d,y:f}=Fr(r,a,o+t,c);return{x:d,y:f,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var p=(i+o)/2,{x:m,y:h}=Fr(r,a,p,c);return{x:m,y:h,textAnchor:"middle",verticalAnchor:"middle"}},zx=e=>"cx"in e&&kt(e.cx),kQ=(e,t)=>{var{parentViewBox:n,offset:r,position:a}=e,i;n!=null&&!zx(n)&&(i=n);var{x:o,y:s,upperWidth:l,lowerWidth:c,height:d}=t,f=o,p=o+(l-c)/2,m=(f+p)/2,h=(l+c)/2,y=f+l/2,x=d>=0?1:-1,g=x*r,b=x>0?"end":"start",w=x>0?"start":"end",S=l>=0?1:-1,C=S*r,j=S>0?"end":"start",M=S>0?"start":"end";if(a==="top"){var P={x:f+l/2,y:s-g,textAnchor:"middle",verticalAnchor:b};return Cr(Cr({},P),i?{height:Math.max(s-i.y,0),width:l}:{})}if(a==="bottom"){var $={x:p+c/2,y:s+d+g,textAnchor:"middle",verticalAnchor:w};return Cr(Cr({},$),i?{height:Math.max(i.y+i.height-(s+d),0),width:c}:{})}if(a==="left"){var E={x:m-C,y:s+d/2,textAnchor:j,verticalAnchor:"middle"};return Cr(Cr({},E),i?{width:Math.max(E.x-i.x,0),height:d}:{})}if(a==="right"){var _={x:m+h+C,y:s+d/2,textAnchor:M,verticalAnchor:"middle"};return Cr(Cr({},_),i?{width:Math.max(i.x+i.width-_.x,0),height:d}:{})}var D=i?{width:h,height:d}:{};return a==="insideLeft"?Cr({x:m+C,y:s+d/2,textAnchor:M,verticalAnchor:"middle"},D):a==="insideRight"?Cr({x:m+h-C,y:s+d/2,textAnchor:j,verticalAnchor:"middle"},D):a==="insideTop"?Cr({x:f+l/2,y:s+g,textAnchor:"middle",verticalAnchor:w},D):a==="insideBottom"?Cr({x:p+c/2,y:s+d-g,textAnchor:"middle",verticalAnchor:b},D):a==="insideTopLeft"?Cr({x:f+C,y:s+g,textAnchor:M,verticalAnchor:w},D):a==="insideTopRight"?Cr({x:f+l-C,y:s+g,textAnchor:j,verticalAnchor:w},D):a==="insideBottomLeft"?Cr({x:p+C,y:s+d-g,textAnchor:M,verticalAnchor:b},D):a==="insideBottomRight"?Cr({x:p+c-C,y:s+d-g,textAnchor:j,verticalAnchor:b},D):a&&typeof a=="object"&&(kt(a.x)||ms(a.x))&&(kt(a.y)||ms(a.y))?Cr({x:o+Bi(a.x,h),y:s+Bi(a.y,d),textAnchor:"end",verticalAnchor:"end"},D):Cr({x:y,y:s+d/2,textAnchor:"middle",verticalAnchor:"middle"},D)},SQ={angle:0,offset:5,zIndex:fa.label,position:"middle",textBreakAll:!1};function qs(e){var t=Gr(e,SQ),{viewBox:n,position:r,value:a,children:i,content:o,className:s="",textBreakAll:l,labelRef:c}=t,d=yQ(),f=e_(),p=r==="center"?f:d??f,m,h,y;if(n==null?m=p:zx(n)?m=n:m=m3(n),!m||Kr(a)&&Kr(i)&&!v.isValidElement(o)&&typeof o!="function")return null;var x=Cr(Cr({},t),{},{viewBox:m});if(v.isValidElement(o)){var{labelRef:g}=x,b=zM(x,cQ);return v.cloneElement(o,b)}if(typeof o=="function"){var{content:w}=x,S=zM(x,uQ);if(h=v.createElement(o,S),v.isValidElement(h))return h}else h=vQ(t);var C=La(t);if(zx(m)){if(r==="insideStart"||r==="insideEnd"||r==="end")return xQ(t,r,h,C,m);y=wQ(m,t.offset,t.position)}else y=kQ(t,m);return v.createElement(go,{zIndex:t.zIndex},v.createElement(Q0,Qo({ref:c,className:xn("recharts-label",s)},C,y,{textAnchor:aQ(C.textAnchor)?C.textAnchor:y.textAnchor,breakAll:l}),h))}qs.displayName="Label";var NQ=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?v.createElement(qs,Qo({key:"label-implicit"},r)):Ro(e)?v.createElement(qs,Qo({key:"label-implicit",value:e},r)):v.isValidElement(e)?e.type===qs?v.cloneElement(e,Cr({key:"label-implicit"},r)):v.createElement(qs,Qo({key:"label-implicit",content:e},r)):mS(e)?v.createElement(qs,Qo({key:"label-implicit",content:e},r)):e&&typeof e=="object"?v.createElement(qs,Qo({},e,{key:"label-implicit"},r)):null};function jQ(e){var{label:t,labelRef:n}=e,r=e_();return NQ(t,r,n)||null}var t_={},n_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(n_);var r_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(r_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n_,n=r_,r=d0;function a(i){if(r.isArrayLike(i))return t.last(n.toArray(i))}e.last=a})(t_);var CQ=t_.last;const MQ=mo(CQ);var AQ=["valueAccessor"],EQ=["dataKey","clockWise","id","textBreakAll","zIndex"];function vg(){return vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vg.apply(null,arguments)}function VM(e,t){if(e==null)return{};var n,r,a=PQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function PQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var TQ=e=>Array.isArray(e.value)?MQ(e.value):e.value,a_=v.createContext(void 0),DQ=a_.Provider,i_=v.createContext(void 0),OQ=i_.Provider;function IQ(){return v.useContext(a_)}function _Q(){return v.useContext(i_)}function Zm(e){var{valueAccessor:t=TQ}=e,n=VM(e,AQ),{dataKey:r,clockWise:a,id:i,textBreakAll:o,zIndex:s}=n,l=VM(n,EQ),c=IQ(),d=_Q(),f=c||d;return!f||!f.length?null:v.createElement(go,{zIndex:s??fa.label},v.createElement(ti,{className:"recharts-label-list"},f.map((p,m)=>{var h,y=Kr(r)?t(p,m):Yn(p&&p.payload,r),x=Kr(i)?{}:{id:"".concat(i,"-").concat(m)};return v.createElement(qs,vg({key:"label-".concat(m)},La(p),l,x,{fill:(h=n.fill)!==null&&h!==void 0?h:p.fill,parentViewBox:p.parentViewBox,value:y,textBreakAll:o,viewBox:p.viewBox,index:m,zIndex:0}))})))}Zm.displayName="LabelList";function o_(e){var{label:t}=e;return t?t===!0?v.createElement(Zm,{key:"labelList-implicit"}):v.isValidElement(t)||mS(t)?v.createElement(Zm,{key:"labelList-implicit",content:t}):typeof t=="object"?v.createElement(Zm,vg({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Ux(){return Ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ux.apply(null,arguments)}var s_=e=>{var{cx:t,cy:n,r,className:a}=e,i=xn("recharts-dot",a);return kt(t)&&kt(n)&&kt(r)?v.createElement("circle",Ux({},Vi(e),O1(e),{className:i,cx:t,cy:n,r})):null},l_=e=>e.graphicalItems.polarItems,LQ=de([or,hp],Rk),J0=de([l_,mr,LQ],Bk),FQ=de([J0],zk),ey=de([FQ,Mk],Uk),$Q=de([ey,mr,J0],Hk);de([ey,mr,J0],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(a=>{var i,o=Yn(r,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Yn(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var HM=()=>{},RQ=de([ey,mr,J0,G0,or],Gk),BQ=de([mr,qk,Kk,HM,RQ,HM,Tn,or],Yk),c_=de([mr,Tn,ey,$Q,mp,or,BQ],Xk),zQ=de([c_,mr,Qu],Jk);de([mr,c_,zQ,or],tS);var UQ={radiusAxis:{},angleAxis:{}},u_=ri({name:"polarAxis",initialState:UQ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Qhe,removeRadiusAxis:Jhe,addAngleAxis:ege,removeAngleAxis:tge}=u_.actions,VQ=u_.reducer;function WM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function qM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WM(Object(n),!0).forEach(function(r){HQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HQ(e,t,n){return(t=WQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WQ(e){var t=qQ(e,"string");return typeof t=="symbol"?t:t+""}function qQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KQ=(e,t)=>t,hS=de([l_,KQ],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),GQ=[],gS=(e,t,n)=>(n==null?void 0:n.length)===0?GQ:n,d_=de([Mk,hS,gS],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=r,(!a||!a.length)&&n!=null&&(a=n.map(i=>qM(qM({},t.presentationProps),i.props))),a!=null)return a}}),YQ=de([d_,hS,gS],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,a)=>{var i,o=Yn(r,t.nameKey,t.name),s;return n!=null&&(i=n[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?s=n[a].props.fill:typeof r=="object"&&r!=null&&"fill"in r?s=r.fill:s=t.fill,{value:N0(o,t.dataKey),color:s,payload:r,type:t.legendType}})}),XQ=de([d_,hS,gS,ia],(e,t,n,r)=>{if(!(t==null||e==null))return cee({offset:r,pieSettings:t,displayedData:e,cells:n})}),f_={exports:{}},Fn={};/** @license React v17.0.2
* react-is.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var ty=60103,ny=60106,Sp=60107,Np=60108,jp=60114,Cp=60109,Mp=60110,Ap=60112,Ep=60113,yS=60120,Pp=60115,Tp=60116,p_=60121,m_=60122,h_=60117,g_=60129,y_=60131;if(typeof Symbol=="function"&&Symbol.for){var la=Symbol.for;ty=la("react.element"),ny=la("react.portal"),Sp=la("react.fragment"),Np=la("react.strict_mode"),jp=la("react.profiler"),Cp=la("react.provider"),Mp=la("react.context"),Ap=la("react.forward_ref"),Ep=la("react.suspense"),yS=la("react.suspense_list"),Pp=la("react.memo"),Tp=la("react.lazy"),p_=la("react.block"),m_=la("react.server.block"),h_=la("react.fundamental"),g_=la("react.debug_trace_mode"),y_=la("react.legacy_hidden")}function yo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ty:switch(e=e.type,e){case Sp:case jp:case Np:case Ep:case yS:return e;default:switch(e=e&&e.$$typeof,e){case Mp:case Ap:case Tp:case Pp:case Cp:return e;default:return t}}case ny:return t}}}var ZQ=Cp,QQ=ty,JQ=Ap,eJ=Sp,tJ=Tp,nJ=Pp,rJ=ny,aJ=jp,iJ=Np,oJ=Ep;Fn.ContextConsumer=Mp;Fn.ContextProvider=ZQ;Fn.Element=QQ;Fn.ForwardRef=JQ;Fn.Fragment=eJ;Fn.Lazy=tJ;Fn.Memo=nJ;Fn.Portal=rJ;Fn.Profiler=aJ;Fn.StrictMode=iJ;Fn.Suspense=oJ;Fn.isAsyncMode=function(){return!1};Fn.isConcurrentMode=function(){return!1};Fn.isContextConsumer=function(e){return yo(e)===Mp};Fn.isContextProvider=function(e){return yo(e)===Cp};Fn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ty};Fn.isForwardRef=function(e){return yo(e)===Ap};Fn.isFragment=function(e){return yo(e)===Sp};Fn.isLazy=function(e){return yo(e)===Tp};Fn.isMemo=function(e){return yo(e)===Pp};Fn.isPortal=function(e){return yo(e)===ny};Fn.isProfiler=function(e){return yo(e)===jp};Fn.isStrictMode=function(e){return yo(e)===Np};Fn.isSuspense=function(e){return yo(e)===Ep};Fn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Sp||e===jp||e===g_||e===Np||e===Ep||e===yS||e===y_||typeof e=="object"&&e!==null&&(e.$$typeof===Tp||e.$$typeof===Pp||e.$$typeof===Cp||e.$$typeof===Mp||e.$$typeof===Ap||e.$$typeof===h_||e.$$typeof===p_||e[0]===m_)};Fn.typeOf=yo;f_.exports=Fn;var sJ=f_.exports,KM=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",GM=null,bv=null,v_=e=>{if(e===GM&&Array.isArray(bv))return bv;var t=[];return v.Children.forEach(e,n=>{Kr(n)||(sJ.isFragment(n)?t=t.concat(v_(n.props.children)):t.push(n))}),bv=t,GM=e,t};function b_(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(a=>KM(a)):r=[KM(t)],v_(e).forEach(a=>{var i=gc(a,"type.displayName")||gc(a,"type.name");i&&r.indexOf(i)!==-1&&n.push(a)}),n}var x_=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,w_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!((r=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&r.writable)?!1:n.toString()===`[object ${i}]`}let a=n;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(n)===a}e.isPlainObject=t})(w_);var lJ=w_.isPlainObject;const cJ=mo(lJ);var YM,XM,ZM,QM,JM;function eA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function tA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eA(Object(n),!0).forEach(function(r){uJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uJ(e,t,n){return(t=dJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dJ(e){var t=fJ(e,"string");return typeof t=="symbol"?t:t+""}function fJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bg(){return bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bg.apply(null,arguments)}function Md(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var nA=(e,t,n,r,a)=>{var i=n-r,o;return o=br(YM||(YM=Md(["M ",",",""])),e,t),o+=br(XM||(XM=Md(["L ",",",""])),e+n,t),o+=br(ZM||(ZM=Md(["L ",",",""])),e+n-i/2,t+a),o+=br(QM||(QM=Md(["L ",",",""])),e+n-i/2-r,t+a),o+=br(JM||(JM=Md(["L ",","," Z"])),e,t),o},pJ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mJ=e=>{var t=Gr(e,pJ),{x:n,y:r,upperWidth:a,lowerWidth:i,height:o,className:s}=t,{animationEasing:l,animationDuration:c,animationBegin:d,isUpdateAnimationActive:f}=t,p=v.useRef(null),[m,h]=v.useState(-1),y=v.useRef(a),x=v.useRef(i),g=v.useRef(o),b=v.useRef(n),w=v.useRef(r),S=L0(e,"trapezoid-");if(v.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var Q=p.current.getTotalLength();Q&&h(Q)}catch{}},[]),n!==+n||r!==+r||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var C=xn("recharts-trapezoid",s);if(!f)return v.createElement("g",null,v.createElement("path",bg({},La(t),{className:C,d:nA(n,r,a,i,o)})));var j=y.current,M=x.current,P=g.current,$=b.current,E=w.current,_="0px ".concat(m===-1?1:m,"px"),D="".concat(m,"px 0px"),J=A3(["strokeDasharray"],c,l);return v.createElement(_0,{animationId:S,key:S,canBegin:m>0,duration:c,easing:l,isActive:f,begin:d},Q=>{var Y=ja(j,a,Q),fe=ja(M,i,Q),K=ja(P,o,Q),I=ja($,n,Q),te=ja(E,r,Q);p.current&&(y.current=Y,x.current=fe,g.current=K,b.current=I,w.current=te);var k=Q>0?{transition:J,strokeDasharray:D}:{strokeDasharray:_};return v.createElement("path",bg({},La(t),{className:C,d:nA(I,te,Y,fe,K),ref:p,style:tA(tA({},k),t.style)}))})},hJ=["option","shapeType","activeClassName"];function gJ(e,t){if(e==null)return{};var n,r,a=yJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function yJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function rA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rA(Object(n),!0).forEach(function(r){vJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vJ(e,t,n){return(t=bJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bJ(e){var t=xJ(e,"string");return typeof t=="symbol"?t:t+""}function xJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wJ(e,t){return xg(xg({},t),e)}function kJ(e,t){return e==="symbols"}function aA(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return v.createElement(D3,n);case"trapezoid":return v.createElement(mJ,n);case"sector":return v.createElement(L3,n);case"symbols":if(kJ(t))return v.createElement(D1,n);break;case"curve":return v.createElement(rk,n);default:return null}}function SJ(e){return v.isValidElement(e)?e.props:e}function k_(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,a=gJ(e,hJ),i;if(v.isValidElement(t))i=v.cloneElement(t,xg(xg({},a),SJ(t)));else if(typeof t=="function")i=t(a,a.index);else if(cJ(t)&&typeof t!="boolean"){var o=wJ(t,a);i=v.createElement(aA,{shapeType:n,elementProps:o})}else{var s=a;i=v.createElement(aA,{shapeType:n,elementProps:s})}return a.isActive?v.createElement(ti,{className:r},i):i}var NJ=(e,t,n)=>{var r=Vn();return(a,i)=>o=>{e==null||e(a,i,o),r(bI({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}},jJ=e=>{var t=Vn();return(n,r)=>a=>{e==null||e(n,r,a),t(AY())}},CJ=(e,t,n)=>{var r=Vn();return(a,i)=>o=>{e==null||e(a,i,o),r(EY({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}};function S_(e){var{tooltipEntrySettings:t}=e,n=Vn(),r=ai(),a=v.useRef(null);return v.useLayoutEffect(()=>{r||(a.current===null?n(NY(t)):a.current!==t&&n(jY({prev:a.current,next:t})),a.current=t)},[t,n,r]),v.useLayoutEffect(()=>()=>{a.current&&(n(CY(a.current)),a.current=null)},[n]),null}function MJ(e){var{legendPayload:t}=e,n=Vn(),r=ai(),a=v.useRef(null);return v.useLayoutEffect(()=>{r||(a.current===null?n(S3(t)):a.current!==t&&n(N3({prev:a.current,next:t})),a.current=t)},[n,r,t]),v.useLayoutEffect(()=>()=>{a.current&&(n(j3(a.current)),a.current=null)},[n]),null}function AJ(e){var{legendPayload:t}=e,n=Vn(),r=vt(Tn),a=v.useRef(null);return v.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(a.current===null?n(S3(t)):a.current!==t&&n(N3({prev:a.current,next:t})),a.current=t)},[n,r,t]),v.useLayoutEffect(()=>()=>{a.current&&(n(j3(a.current)),a.current=null)},[n]),null}var xv,EJ=()=>{var[e]=v.useState(()=>Mf("uid-"));return e},PJ=(xv=$$.useId)!==null&&xv!==void 0?xv:EJ;function TJ(e,t){var n=PJ();return t||(e?"".concat(e,"-").concat(n):n)}var DJ=v.createContext(void 0),N_=e=>{var{id:t,type:n,children:r}=e,a=TJ("recharts-".concat(n),t);return v.createElement(DJ.Provider,{value:a},r(a))},OJ={cartesianItems:[],polarItems:[]},j_=ri({name:"graphicalItems",initialState:OJ,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:rr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,a=oo(e).cartesianItems.indexOf(n);a>-1&&(e.cartesianItems[a]=r)},prepare:rr()},removeCartesianGraphicalItem:{reducer(e,t){var n=oo(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:rr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:rr()},removePolarGraphicalItem:{reducer(e,t){var n=oo(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:rr()}}}),{addCartesianGraphicalItem:IJ,replaceCartesianGraphicalItem:_J,removeCartesianGraphicalItem:LJ,addPolarGraphicalItem:FJ,removePolarGraphicalItem:$J}=j_.actions,RJ=j_.reducer,BJ=e=>{var t=Vn(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(IJ(e)):n.current!==e&&t(_J({prev:n.current,next:e})),n.current=e},[t,e]),v.useLayoutEffect(()=>()=>{n.current&&(t(LJ(n.current)),n.current=null)},[t]),null},zJ=v.memo(BJ);function UJ(e){var t=Vn();return v.useLayoutEffect(()=>(t(FJ(e)),()=>{t($J(e))}),[t,e]),null}var VJ=["key"],HJ=["onMouseEnter","onClick","onMouseLeave"],WJ=["id"],qJ=["id"];function iA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function wr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iA(Object(n),!0).forEach(function(r){KJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KJ(e,t,n){return(t=GJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GJ(e){var t=YJ(e,"string");return typeof t=="symbol"?t:t+""}function YJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ml(){return ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ml.apply(null,arguments)}function ry(e,t){if(e==null)return{};var n,r,a=XJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function XJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ZJ(e){var t=v.useMemo(()=>b_(e.children,Ru),[e.children]),n=vt(r=>YQ(r,e.id,t));return n==null?null:v.createElement(AJ,{legendPayload:n})}var QJ=v.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:a,strokeWidth:i,fill:o,name:s,hide:l,tooltipType:c,id:d}=e,f={dataDefinedOnItem:r.map(p=>p.tooltipPayload),positions:r.map(p=>p.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:o,dataKey:t,nameKey:n,name:N0(s,t),hide:l,type:c,color:o,unit:"",graphicalItemId:d}};return v.createElement(S_,{tooltipEntrySettings:f})}),JJ=(e,t)=>e>t?"start":e<t?"end":"middle",eee=(e,t,n)=>Bi(typeof t=="function"?t(e):t,n,n*.8),tee=(e,t,n)=>{var{top:r,left:a,width:i,height:o}=t,s=O3(i,o),l=a+Bi(e.cx,i,i/2),c=r+Bi(e.cy,o,o/2),d=Bi(e.innerRadius,s,0),f=eee(n,e.outerRadius,s),p=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:f,maxRadius:p}},nee=(e,t)=>{var n=Ca(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function ree(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var aee=(e,t)=>{if(v.isValidElement(e))return v.cloneElement(e,t);if(typeof e=="function")return e(t);var n=xn("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,a=ry(t,VJ);return v.createElement(rk,ml({},a,{type:"linear",className:n}))},iee=(e,t,n)=>{if(v.isValidElement(e))return v.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),v.isValidElement(r)))return r;var a=xn("recharts-pie-label-text",ree(e));return v.createElement(Q0,ml({},t,{alignmentBaseline:"middle",className:a}),r)};function oee(e){var{sectors:t,props:n,showLabels:r}=e,{label:a,labelLine:i,dataKey:o}=n;if(!r||!a||!t)return null;var s=Vi(n),l=Pu(a),c=Pu(i),d=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,f=t.map((p,m)=>{var h=(p.startAngle+p.endAngle)/2,y=Fr(p.cx,p.cy,p.outerRadius+d,h),x=wr(wr(wr(wr({},s),p),{},{stroke:"none"},l),{},{index:m,textAnchor:JJ(y.x,p.cx)},y),g=wr(wr(wr(wr({},s),p),{},{fill:"none",stroke:p.fill},c),{},{index:m,points:[Fr(p.cx,p.cy,p.outerRadius,h),y],key:"line"});return v.createElement(go,{zIndex:fa.label,key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(m)},v.createElement(ti,null,i&&aee(i,g),iee(a,x,Yn(p,o))))});return v.createElement(ti,{className:"recharts-pie-labels"},f)}function see(e){var{sectors:t,props:n,showLabels:r}=e,{label:a}=n;return typeof a=="object"&&a!=null&&"position"in a?v.createElement(o_,{label:a}):v.createElement(oee,{sectors:t,props:n,showLabels:r})}function lee(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:a,shape:i,id:o}=e,s=vt($u),l=vt(OI),c=vt(mX),{onMouseEnter:d,onClick:f,onMouseLeave:p}=a,m=ry(a,HJ),h=NJ(d,a.dataKey,o),y=jJ(p),x=CJ(f,a.dataKey,o);return t==null||t.length===0?null:v.createElement(v.Fragment,null,t.map((g,b)=>{if((g==null?void 0:g.startAngle)===0&&(g==null?void 0:g.endAngle)===0&&t.length!==1)return null;var w=c==null||c===o,S=String(b)===s&&(l==null||a.dataKey===l)&&w,C=s?r:null,j=n&&S?n:C,M=wr(wr({},g),{},{stroke:g.stroke,tabIndex:-1,[i3]:b,[o3]:o});return v.createElement(ti,ml({key:"sector-".concat(g==null?void 0:g.startAngle,"-").concat(g==null?void 0:g.endAngle,"-").concat(g.midAngle,"-").concat(b),tabIndex:-1,className:"recharts-pie-sector"},I1(m,g,b),{onMouseEnter:h(g,b),onMouseLeave:y(g,b),onClick:x(g,b)}),v.createElement(k_,ml({option:i??j,index:b,shapeType:"sector",isActive:S},M)))}))}function cee(e){var t,{pieSettings:n,displayedData:r,cells:a,offset:i}=e,{cornerRadius:o,startAngle:s,endAngle:l,dataKey:c,nameKey:d,tooltipType:f}=n,p=Math.abs(n.minAngle),m=nee(s,l),h=Math.abs(m),y=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,x=r.filter(j=>Yn(j,c,0)!==0).length,g=(h>=360?x:x-1)*y,b=h-x*p-g,w=r.reduce((j,M)=>{var P=Yn(M,c,0);return j+(kt(P)?P:0)},0),S;if(w>0){var C;S=r.map((j,M)=>{var P=Yn(j,c,0),$=Yn(j,d,M),E=tee(n,i,j),_=(kt(P)?P:0)/w,D,J=wr(wr({},j),a&&a[M]&&a[M].props);M?D=C.endAngle+Ca(m)*y*(P!==0?1:0):D=s;var Q=D+Ca(m)*((P!==0?p:0)+_*b),Y=(D+Q)/2,fe=(E.innerRadius+E.outerRadius)/2,K=[{name:$,value:P,payload:J,dataKey:c,type:f,graphicalItemId:n.id}],I=Fr(E.cx,E.cy,fe,Y);return C=wr(wr(wr(wr({},n.presentationProps),{},{percent:_,cornerRadius:typeof o=="string"?parseFloat(o):o,name:$,tooltipPayload:K,midAngle:Y,middleRadius:fe,tooltipPosition:I},J),E),{},{value:P,dataKey:c,startAngle:D,endAngle:Q,payload:J,paddingAngle:Ca(m)*y}),C})}return S}function uee(e){var{showLabels:t,sectors:n,children:r}=e,a=v.useMemo(()=>!t||!n?[]:n.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[n,t]);return v.createElement(OQ,{value:t?a:void 0},r)}function dee(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:a,isAnimationActive:i,animationBegin:o,animationDuration:s,animationEasing:l,activeShape:c,inactiveShape:d,onAnimationStart:f,onAnimationEnd:p}=t,m=L0(t,"recharts-pie-"),h=n.current,[y,x]=v.useState(!1),g=v.useCallback(()=>{typeof p=="function"&&p(),x(!1)},[p]),b=v.useCallback(()=>{typeof f=="function"&&f(),x(!0)},[f]);return v.createElement(uee,{showLabels:!y,sectors:a},v.createElement(_0,{animationId:m,begin:o,duration:s,isActive:i,easing:l,onAnimationStart:b,onAnimationEnd:g,key:m},w=>{var S=[],C=a&&a[0],j=C==null?void 0:C.startAngle;return a==null||a.forEach((M,P)=>{var $=h&&h[P],E=P>0?gc(M,"paddingAngle",0):0;if($){var _=ja($.endAngle-$.startAngle,M.endAngle-M.startAngle,w),D=wr(wr({},M),{},{startAngle:j+E,endAngle:j+_+E});S.push(D),j=D.endAngle}else{var{endAngle:J,startAngle:Q}=M,Y=ja(0,J-Q,w),fe=wr(wr({},M),{},{startAngle:j+E,endAngle:j+Y+E});S.push(fe),j=fe.endAngle}}),n.current=S,v.createElement(ti,null,v.createElement(lee,{sectors:S,activeShape:c,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:r}))}),v.createElement(see,{showLabels:!y,sectors:a,props:t}),t.children)}var fee={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:fa.area};function pee(e){var{id:t}=e,n=ry(e,WJ),{hide:r,className:a,rootTabIndex:i}=e,o=v.useMemo(()=>b_(e.children,Ru),[e.children]),s=vt(d=>XQ(d,t,o)),l=v.useRef(null),c=xn("recharts-pie",a);return r||s==null?(l.current=null,v.createElement(ti,{tabIndex:i,className:c})):v.createElement(go,{zIndex:e.zIndex},v.createElement(QJ,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:s,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),v.createElement(ti,{tabIndex:i,className:c},v.createElement(dee,{props:wr(wr({},n),{},{sectors:s}),previousSectorsRef:l,id:t})))}function wg(e){var t=Gr(e,fee),{id:n}=t,r=ry(t,qJ),a=Vi(r);return v.createElement(N_,{id:n,type:"pie"},i=>v.createElement(v.Fragment,null,v.createElement(UJ,{type:"pie",id:i,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),v.createElement(ZJ,ml({},r,{id:i})),v.createElement(pee,ml({},r,{id:i}))))}wg.displayName="Pie";var mee=["points"];function oA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function wv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oA(Object(n),!0).forEach(function(r){hee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hee(e,t,n){return(t=gee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gee(e){var t=yee(e,"string");return typeof t=="symbol"?t:t+""}function yee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kg(){return kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kg.apply(null,arguments)}function vee(e,t){if(e==null)return{};var n,r,a=bee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function bee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function xee(e){var{option:t,dotProps:n,className:r}=e;if(v.isValidElement(t))return v.cloneElement(t,n);if(typeof t=="function")return t(n);var a=xn(r,typeof t!="boolean"?t.className:""),i=n??{},{points:o}=i,s=vee(i,mee);return v.createElement(s_,kg({},s,{className:a}))}function wee(e,t){return e==null?!1:t?!0:e.length===1}function kee(e){var{points:t,dot:n,className:r,dotClassName:a,dataKey:i,baseProps:o,needClip:s,clipPathId:l,zIndex:c=fa.scatter}=e;if(!wee(t,n))return null;var d=x_(n),f=eU(n),p=t.map((h,y)=>{var x,g,b=wv(wv(wv({r:3},o),f),{},{index:y,cx:(x=h.x)!==null&&x!==void 0?x:void 0,cy:(g=h.y)!==null&&g!==void 0?g:void 0,dataKey:i,value:h.value,payload:h.payload,points:t});return v.createElement(xee,{key:"dot-".concat(y),option:n,dotProps:b,className:a})}),m={};return s&&l!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(l,")")),v.createElement(go,{zIndex:c},v.createElement(ti,kg({className:r},m),p))}function sA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function lA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sA(Object(n),!0).forEach(function(r){See(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function See(e,t,n){return(t=Nee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nee(e){var t=jee(e,"string");return typeof t=="symbol"?t:t+""}function jee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cee={xAxis:{},yAxis:{},zAxis:{}},C_=ri({name:"cartesianAxis",initialState:Cee,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:rr()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:rr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:rr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:rr()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:rr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:rr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:rr()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:rr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:rr()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,a=e.yAxis[n];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&r===i[1]&&r!==a.width&&Math.abs(r-i[0])<=1)return;var o=[...i,r].slice(-3);e.yAxis[n]=lA(lA({},e.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:Mee,replaceXAxis:Aee,removeXAxis:Eee,addYAxis:Pee,replaceYAxis:Tee,removeYAxis:Dee,addZAxis:nge,replaceZAxis:rge,removeZAxis:age,updateYAxisWidth:Oee}=C_.actions,Iee=C_.reducer,_ee=de([ia],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Lee=de([_ee,ks,Ss],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),vS=()=>vt(Lee),Fee=()=>vt(bX);function cA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function kv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cA(Object(n),!0).forEach(function(r){$ee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $ee(e,t,n){return(t=Ree(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ree(e){var t=Bee(e,"string");return typeof t=="symbol"?t:t+""}function Bee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zee=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:a,dataKey:i,clipPath:o}=e;if(a===!1||t.x==null||t.y==null)return null;var s={index:n,dataKey:i,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=kv(kv(kv({},s),Pu(a)),O1(a)),c;return v.isValidElement(a)?c=v.cloneElement(a,l):typeof a=="function"?c=a(l):c=v.createElement(s_,l),v.createElement(ti,{className:"recharts-active-dot",clipPath:o},c)};function Uee(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:a,clipPath:i,zIndex:o=fa.activeDot}=e,s=vt($u),l=Fee();if(t==null||l==null)return null;var c=t.find(d=>l.includes(d.payload));return Kr(c)?null:v.createElement(go,{zIndex:o},v.createElement(zee,{point:c,childIndex:Number(s),mainColor:n,dataKey:a,activeDot:r,clipPath:i}))}var M_=e=>{var{chartData:t}=e,n=Vn(),r=ai();return v.useEffect(()=>r?()=>{}:(n(CM(t)),()=>{n(CM(void 0))}),[t,n,r]),null},uA={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},A_=ri({name:"brush",initialState:uA,reducers:{setBrushSettings(e,t){return t.payload==null?uA:t.payload}}}),{setBrushSettings:ige}=A_.actions,Vee=A_.reducer;function Hee(e,t,n){return(t=Wee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wee(e){var t=qee(e,"string");return typeof t=="symbol"?t:t+""}function qee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class bS{static create(t){return new bS(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?t>=r&&t<=a:t>=a&&t<=r}}Hee(bS,"EPS",1e-4);function Kee(e){return(e%180+180)%180}var Gee=function(e){var{width:t,height:n}=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Kee(r),i=a*Math.PI/180,o=Math.atan(n/t),s=i>o&&i<Math.PI-o?n/Math.sin(i):t/Math.cos(i);return Math.abs(s)},Yee={dots:[],areas:[],lines:[]},E_=ri({name:"referenceElements",initialState:Yee,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=oo(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=oo(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=oo(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:oge,removeDot:sge,addArea:lge,removeArea:cge,addLine:uge,removeLine:dge}=E_.actions,Xee=E_.reducer,Zee=v.createContext(void 0),Qee=e=>{var{children:t}=e,[n]=v.useState("".concat(Mf("recharts"),"-clip")),r=vS();if(r==null)return null;var{x:a,y:i,width:o,height:s}=r;return v.createElement(Zee.Provider,{value:n},v.createElement("defs",null,v.createElement("clipPath",{id:n},v.createElement("rect",{x:a,y:i,height:s,width:o}))),t)};function P_(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var a=e[r];a!==void 0&&n.push(a)}return n}function Jee(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Gee(r,n)}function ete(e,t,n){var r=n==="width",{x:a,y:i,width:o,height:s}=e;return t===1?{start:r?a:i,end:r?a+o:i+s}:{start:r?a+o:i+s,end:r?a:i}}function zf(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-a)<=0}function tte(e,t){return P_(e,t+1)}function nte(e,t,n,r,a){for(var i=(r||[]).slice(),{start:o,end:s}=t,l=0,c=1,d=o,f=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:P_(r,c)};var h=l,y,x=()=>(y===void 0&&(y=n(m,h)),y),g=m.coordinate,b=l===0||zf(e,g,x,d,s);b||(l=0,d=o,c+=1),b&&(d=g+e*(x()/2+a),l+=c)},p;c<=i.length;)if(p=f(),p)return p.v;return[]}function rte(e,t,n,r,a){var i=(r||[]).slice(),o=i.length;if(o===0)return[];for(var{start:s,end:l}=t,c=1;c<=o;c++){for(var d=(o-1)%c,f=s,p=!0,m=function(){var g=r[h],b=h,w,S=()=>(w===void 0&&(w=n(g,b)),w),C=g.coordinate,j=h===d||zf(e,C,S,f,l);if(!j)return p=!1,1;j&&(f=C+e*(S()/2+a))},h=d;h<o&&!m();h+=c);if(p){for(var y=[],x=d;x<o;x+=c)y.push(r[x]);return y}}return[]}function dA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ka(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dA(Object(n),!0).forEach(function(r){ate(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ate(e,t,n){return(t=ite(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ite(e){var t=ote(e,"string");return typeof t=="symbol"?t:t+""}function ote(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ste(e,t,n,r,a){for(var i=(r||[]).slice(),o=i.length,{start:s}=t,{end:l}=t,c=function(f){var p=i[f],m,h=()=>(m===void 0&&(m=n(p,f)),m);if(f===o-1){var y=e*(p.coordinate+e*h()/2-l);i[f]=p=ka(ka({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate})}else i[f]=p=ka(ka({},p),{},{tickCoord:p.coordinate});if(p.tickCoord!=null){var x=zf(e,p.tickCoord,h,s,l);x&&(l=p.tickCoord-e*(h()/2+a),i[f]=ka(ka({},p),{},{isShow:!0}))}},d=o-1;d>=0;d--)c(d);return i}function lte(e,t,n,r,a,i){var o=(r||[]).slice(),s=o.length,{start:l,end:c}=t;if(i){var d=r[s-1],f=n(d,s-1),p=e*(d.coordinate+e*f/2-c);if(o[s-1]=d=ka(ka({},d),{},{tickCoord:p>0?d.coordinate-p*e:d.coordinate}),d.tickCoord!=null){var m=zf(e,d.tickCoord,()=>f,l,c);m&&(c=d.tickCoord-e*(f/2+a),o[s-1]=ka(ka({},d),{},{isShow:!0}))}}for(var h=i?s-1:s,y=function(g){var b=o[g],w,S=()=>(w===void 0&&(w=n(b,g)),w);if(g===0){var C=e*(b.coordinate-e*S()/2-l);o[g]=b=ka(ka({},b),{},{tickCoord:C<0?b.coordinate-C*e:b.coordinate})}else o[g]=b=ka(ka({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var j=zf(e,b.tickCoord,S,l,c);j&&(l=b.tickCoord+e*(S()/2+a),o[g]=ka(ka({},b),{},{isShow:!0}))}},x=0;x<h;x++)y(x);return o}function xS(e,t,n){var{tick:r,ticks:a,viewBox:i,minTickGap:o,orientation:s,interval:l,tickFormatter:c,unit:d,angle:f}=e;if(!a||!a.length||!r)return[];if(kt(l)||I0.isSsr){var p;return(p=tte(a,kt(l)?l:0))!==null&&p!==void 0?p:[]}var m=[],h=s==="top"||s==="bottom"?"width":"height",y=d&&h==="width"?Xd(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},x=(w,S)=>{var C=typeof c=="function"?c(w.value,S):w.value;return h==="width"?Jee(Xd(C,{fontSize:t,letterSpacing:n}),y,f):Xd(C,{fontSize:t,letterSpacing:n})[h]},g=a.length>=2?Ca(a[1].coordinate-a[0].coordinate):1,b=ete(i,g,h);return l==="equidistantPreserveStart"?nte(g,b,x,a,o):l==="equidistantPreserveEnd"?rte(g,b,x,a,o):(l==="preserveStart"||l==="preserveStartEnd"?m=lte(g,b,x,a,o,l==="preserveStartEnd"):m=ste(g,b,x,a,o),m.filter(w=>w.isShow))}var cte=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var s=n?n.getBoundingClientRect().width:0,l=a+i,c=o+l+s+(n?r:0);return Math.round(c)}return 0},ute=["axisLine","width","height","className","hide","ticks","axisType"];function dte(e,t){if(e==null)return{};var n,r,a=fte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function fte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Sc(){return Sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sc.apply(null,arguments)}function fA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fA(Object(n),!0).forEach(function(r){pte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pte(e,t,n){return(t=mte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mte(e){var t=hte(e,"string");return typeof t=="symbol"?t:t+""}function hte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ss={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:fa.axis};function gte(e){var{x:t,y:n,width:r,height:a,orientation:i,mirror:o,axisLine:s,otherSvgProps:l}=e;if(!s)return null;var c=_r(_r(_r({},l),Vi(s)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!o||i==="bottom"&&o);c=_r(_r({},c),{},{x1:t,y1:n+d*a,x2:t+r,y2:n+d*a})}else{var f=+(i==="left"&&!o||i==="right"&&o);c=_r(_r({},c),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+a})}return v.createElement("line",Sc({},c,{className:xn("recharts-cartesian-axis-line",gc(s,"className"))}))}function yte(e,t,n,r,a,i,o,s,l){var c,d,f,p,m,h,y=s?-1:1,x=e.tickSize||o,g=kt(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":c=d=e.coordinate,p=n+ +!s*a,f=p-y*x,h=f-y*l,m=g;break;case"left":f=p=e.coordinate,d=t+ +!s*r,c=d-y*x,m=c-y*l,h=g;break;case"right":f=p=e.coordinate,d=t+ +s*r,c=d+y*x,m=c+y*l,h=g;break;default:c=d=e.coordinate,p=n+ +s*a,f=p+y*x,h=f+y*l,m=g;break}return{line:{x1:c,y1:f,x2:d,y2:p},tick:{x:m,y:h}}}function vte(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function bte(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function xte(e){var{option:t,tickProps:n,value:r}=e,a,i=xn(n.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(t))a=v.cloneElement(t,_r(_r({},n),{},{className:i}));else if(typeof t=="function")a=t(_r(_r({},n),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=xn(o,t==null?void 0:t.className)),a=v.createElement(Q0,Sc({},n,{className:o}),r)}return a}var wte=v.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:a,stroke:i,tickFormatter:o,unit:s,padding:l,tickTextProps:c,orientation:d,mirror:f,x:p,y:m,width:h,height:y,tickSize:x,tickMargin:g,fontSize:b,letterSpacing:w,getTicksConfig:S,events:C,axisType:j}=e,M=xS(_r(_r({},S),{},{ticks:n}),b,w),P=vte(d,f),$=bte(d,f),E=Vi(S),_=Pu(r),D={};typeof a=="object"&&(D=a);var J=_r(_r({},E),{},{fill:"none"},D),Q=M.map(K=>_r({entry:K},yte(K,p,m,h,y,d,x,f,g))),Y=Q.map(K=>{var{entry:I,line:te}=K;return v.createElement(ti,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},a&&v.createElement("line",Sc({},J,te,{className:xn("recharts-cartesian-axis-tick-line",gc(a,"className"))})))}),fe=Q.map((K,I)=>{var{entry:te,tick:k}=K,R=_r(_r(_r(_r({textAnchor:P,verticalAnchor:$},E),{},{stroke:"none",fill:i},_),k),{},{index:I,payload:te,visibleTicksCount:M.length,tickFormatter:o,padding:l},c);return v.createElement(ti,Sc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(te.value,"-").concat(te.coordinate,"-").concat(te.tickCoord)},I1(C,te,I)),r&&v.createElement(xte,{option:r,tickProps:R,value:"".concat(typeof o=="function"?o(te.value,I):te.value).concat(s||"")}))});return v.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(j,"-ticks")},fe.length>0&&v.createElement(go,{zIndex:fa.label},v.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(j,"-tick-labels"),ref:t},fe)),Y.length>0&&v.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(j,"-tick-lines")},Y))}),kte=v.forwardRef((e,t)=>{var{axisLine:n,width:r,height:a,className:i,hide:o,ticks:s,axisType:l}=e,c=dte(e,ute),[d,f]=v.useState(""),[p,m]=v.useState(""),h=v.useRef(null);v.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var x;return cte({ticks:h.current,label:(x=e.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var y=v.useCallback(x=>{if(x){var g=x.getElementsByClassName("recharts-cartesian-axis-tick-value");h.current=g;var b=g[0];if(b){var w=window.getComputedStyle(b),S=w.fontSize,C=w.letterSpacing;(S!==d||C!==p)&&(f(S),m(C))}}},[d,p]);return o||r!=null&&r<=0||a!=null&&a<=0?null:v.createElement(go,{zIndex:e.zIndex},v.createElement(ti,{className:xn("recharts-cartesian-axis",i)},v.createElement(gte,{x:e.x,y:e.y,width:r,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Vi(e)}),v.createElement(wte,{ref:y,axisType:l,events:c,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:p,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:s,unit:e.unit,width:e.width,x:e.x,y:e.y}),v.createElement(hQ,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},v.createElement(jQ,{label:e.label,labelRef:e.labelRef}),e.children)))}),wS=v.forwardRef((e,t)=>{var n=Gr(e,ss);return v.createElement(kte,Sc({},n,{ref:t}))});wS.displayName="CartesianAxis";var Ste=["x1","y1","x2","y2","key"],Nte=["offset"],jte=["xAxisId","yAxisId"],Cte=["xAxisId","yAxisId"];function pA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Na(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pA(Object(n),!0).forEach(function(r){Mte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mte(e,t,n){return(t=Ate(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ate(e){var t=Ete(e,"string");return typeof t=="symbol"?t:t+""}function Ete(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ec(){return ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ec.apply(null,arguments)}function Sg(e,t){if(e==null)return{};var n,r,a=Pte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Pte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Tte=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:a,width:i,height:o,ry:s}=e;return v.createElement("rect",{x:r,y:a,ry:s,width:i,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function T_(e){var{option:t,lineItemProps:n}=e,r;if(v.isValidElement(t))r=v.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var a,{x1:i,y1:o,x2:s,y2:l,key:c}=n,d=Sg(n,Ste),f=(a=Vi(d))!==null&&a!==void 0?a:{},{offset:p}=f,m=Sg(f,Nte);r=v.createElement("line",ec({},m,{x1:i,y1:o,x2:s,y2:l,fill:"none",key:c}))}return r}function Dte(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,s=Sg(e,jte),l=a.map((c,d)=>{var f=Na(Na({},s),{},{x1:t,y1:c,x2:t+n,y2:c,key:"line-".concat(d),index:d});return v.createElement(T_,{key:"line-".concat(d),option:r,lineItemProps:f})});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Ote(e){var{y:t,height:n,vertical:r=!0,verticalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,s=Sg(e,Cte),l=a.map((c,d)=>{var f=Na(Na({},s),{},{x1:c,y1:t,x2:c,y2:t+n,key:"line-".concat(d),index:d});return v.createElement(T_,{option:r,lineItemProps:f,key:"line-".concat(d)})});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Ite(e){var{horizontalFill:t,fillOpacity:n,x:r,y:a,width:i,height:o,horizontalPoints:s,horizontal:l=!0}=e;if(!l||!t||!t.length||s==null)return null;var c=s.map(f=>Math.round(f+a-a)).sort((f,p)=>f-p);a!==c[0]&&c.unshift(0);var d=c.map((f,p)=>{var m=!c[p+1],h=m?a+o-f:c[p+1]-f;if(h<=0)return null;var y=p%t.length;return v.createElement("rect",{key:"react-".concat(p),y:f,x:r,height:h,width:i,stroke:"none",fill:t[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function _te(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:a,y:i,width:o,height:s,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var c=l.map(f=>Math.round(f+a-a)).sort((f,p)=>f-p);a!==c[0]&&c.unshift(0);var d=c.map((f,p)=>{var m=!c[p+1],h=m?a+o-f:c[p+1]-f;if(h<=0)return null;var y=p%n.length;return v.createElement("rect",{key:"react-".concat(p),x:f,y:i,width:h,height:s,stroke:"none",fill:n[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Lte=(e,t)=>{var{xAxis:n,width:r,height:a,offset:i}=e;return n3(xS(Na(Na(Na({},ss),n),{},{ticks:r3(n),viewBox:{x:0,y:0,width:r,height:a}})),i.left,i.left+i.width,t)},Fte=(e,t)=>{var{yAxis:n,width:r,height:a,offset:i}=e;return n3(xS(Na(Na(Na({},ss),n),{},{ticks:r3(n),viewBox:{x:0,y:0,width:r,height:a}})),i.top,i.top+i.height,t)},$te={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:fa.grid};function Uf(e){var t=J1(),n=ek(),r=h3(),a=Na(Na({},Gr(e,$te)),{},{x:kt(e.x)?e.x:r.left,y:kt(e.y)?e.y:r.top,width:kt(e.width)?e.width:r.width,height:kt(e.height)?e.height:r.height}),{xAxisId:i,yAxisId:o,x:s,y:l,width:c,height:d,syncWithTicks:f,horizontalValues:p,verticalValues:m}=a,h=ai(),y=vt($=>hM($,"xAxis",i,h)),x=vt($=>hM($,"yAxis",o,h));if(!Bo(c)||!Bo(d)||!kt(s)||!kt(l))return null;var g=a.verticalCoordinatesGenerator||Lte,b=a.horizontalCoordinatesGenerator||Fte,{horizontalPoints:w,verticalPoints:S}=a;if((!w||!w.length)&&typeof b=="function"){var C=p&&p.length,j=b({yAxis:x?Na(Na({},x),{},{ticks:C?p:x.ticks}):void 0,width:t??c,height:n??d,offset:r},C?!0:f);Yh(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j,"]")),Array.isArray(j)&&(w=j)}if((!S||!S.length)&&typeof g=="function"){var M=m&&m.length,P=g({xAxis:y?Na(Na({},y),{},{ticks:M?m:y.ticks}):void 0,width:t??c,height:n??d,offset:r},M?!0:f);Yh(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(S=P)}return v.createElement(go,{zIndex:a.zIndex},v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(Tte,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),v.createElement(Ite,ec({},a,{horizontalPoints:w})),v.createElement(_te,ec({},a,{verticalPoints:S})),v.createElement(Dte,ec({},a,{offset:r,horizontalPoints:w,xAxis:y,yAxis:x})),v.createElement(Ote,ec({},a,{offset:r,verticalPoints:S,xAxis:y,yAxis:x}))))}Uf.displayName="CartesianGrid";var Rte={},D_=ri({name:"errorBars",initialState:Rte,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:a}=t.payload;e[n]&&(e[n]=e[n].map(i=>i.dataKey===r.dataKey&&i.direction===r.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:fge,replaceErrorBar:pge,removeErrorBar:mge}=D_.actions,Bte=D_.reducer,zte=["children"];function Ute(e,t){if(e==null)return{};var n,r,a=Vte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Vte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Hte={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Wte=v.createContext(Hte);function qte(e){var{children:t}=e,n=Ute(e,zte);return v.createElement(Wte.Provider,{value:n},t)}function O_(e,t){var n,r,a=vt(c=>js(c,e)),i=vt(c=>Cs(c,t)),o=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:ea.allowDataOverflow,s=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:ta.allowDataOverflow,l=o||s;return{needClip:l,needClipX:o,needClipY:s}}function Kte(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,a=vS(),{needClipX:i,needClipY:o,needClip:s}=O_(t,n);if(!s||!a)return null;var{x:l,y:c,width:d,height:f}=a;return v.createElement("clipPath",{id:"clipPath-".concat(r)},v.createElement("rect",{x:i?l:l-d/2,y:o?c:c-f/2,width:i?d:d*2,height:o?f:f*2}))}var I_=(e,t,n,r)=>pI(e,"xAxis",t,r),__=(e,t,n,r)=>fI(e,"xAxis",t,r),L_=(e,t,n,r)=>pI(e,"yAxis",n,r),F_=(e,t,n,r)=>fI(e,"yAxis",n,r),Gte=de([Tn,I_,L_,__,F_],(e,t,n,r,a)=>xl(e,"xAxis")?fx(t,r,!1):fx(n,a,!1)),Yte=(e,t,n,r,a)=>a;function Xte(e){return e.type==="line"}var Zte=de([q4,Yte],(e,t)=>e.filter(Xte).find(n=>n.id===t)),Qte=de([Tn,I_,L_,__,F_,Zte,Gte,Ak],(e,t,n,r,a,i,o,s)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:d}=s;if(!(i==null||t==null||n==null||r==null||a==null||r.length===0||a.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:p}=i,m;if(p!=null&&p.length>0?m=p:m=l==null?void 0:l.slice(c,d+1),m!=null)return _ne({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataKey:f,bandSize:o,displayedData:m})}});function Jte(e){var t=Pu(e),n=3,r=2;if(t!=null){var{r:a,strokeWidth:i}=t,o=Number(a),s=Number(i);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(s)||s<0)&&(s=r),{r:o,strokeWidth:s}}return{r:n,strokeWidth:r}}/**
* @license React
* use-sync-external-store-with-selector.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Dp=v;Dp.useSyncExternalStore;Dp.useRef;Dp.useEffect;Dp.useMemo;Dp.useDebugValue;function ene(e){e()}function tne(){let e=null,t=null;return{clear(){e=null,t=null},notify(){ene(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!r||e===null||(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var mA={notify(){},get:()=>[]};function nne(e,t){let n,r=mA,a=0,i=!1;function o(y){d();const x=r.subscribe(y);let g=!1;return()=>{g||(g=!0,x(),f())}}function s(){r.notify()}function l(){h.onStateChange&&h.onStateChange()}function c(){return i}function d(){a++,n||(n=e.subscribe(l),r=tne())}function f(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=mA)}function p(){i||(i=!0,d())}function m(){i&&(i=!1,f())}const h={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:c,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>r};return h}var rne=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ane=rne(),ine=()=>typeof navigator<"u"&&navigator.product==="ReactNative",one=ine(),sne=()=>ane||one?v.useLayoutEffect:v.useEffect,lne=sne();function hA(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function cne(e,t){if(hA(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(t,n[a])||!hA(e[n[a]],t[n[a]]))return!1;return!0}var gA=Symbol.for("react-redux-context"),yA=typeof globalThis<"u"?globalThis:{};function une(){if(!v.createContext)return{};const e=yA[gA]??(yA[gA]=new Map);let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var dne=une();function fne(e){const{children:t,context:n,serverState:r,store:a}=e,i=v.useMemo(()=>{const l=nne(a);return{store:a,subscription:l,getServerState:r?()=>r:void 0}},[a,r]),o=v.useMemo(()=>a.getState(),[a]);lne(()=>{const{subscription:l}=i;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==a.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[i,o]);const s=n||dne;return v.createElement(s.Provider,{value:i},t)}var pne=fne,mne=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function hne(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function kS(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(mne.has(r)){if(e[r]==null&&t[r]==null)continue;if(!cne(e[r],t[r]))return!1}else if(!hne(e[r],t[r]))return!1;return!0}var gne=["id"],yne=["type","layout","connectNulls","needClip","shape"],vne=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Vf(){return Vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vf.apply(null,arguments)}function vA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function To(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vA(Object(n),!0).forEach(function(r){bne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bne(e,t,n){return(t=xne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xne(e){var t=wne(e,"string");return typeof t=="symbol"?t:t+""}function wne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SS(e,t){if(e==null)return{};var n,r,a=kne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function kne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Sne=e=>{var{dataKey:t,name:n,stroke:r,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:r,value:N0(n,t),payload:e}]},Nne=v.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:a,fill:i,name:o,hide:s,unit:l,tooltipType:c,id:d}=e,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:N0(o,t),hide:s,type:c,color:r,unit:l,graphicalItemId:d}};return v.createElement(S_,{tooltipEntrySettings:f})}),$_=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function jne(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],a=0;a<t;++a)r=[...r,...n];return r}var Cne=(e,t,n)=>{var r=n.reduce((f,p)=>f+p);if(!r)return $_(t,e);for(var a=Math.floor(e/r),i=e%r,o=t-e,s=[],l=0,c=0;l<n.length;c+=n[l],++l)if(c+n[l]>i){s=[...n.slice(0,l),i-c];break}var d=s.length%2===0?[0,o]:[o];return[...jne(n,a),...s,...d].map(f=>"".concat(f,"px")).join(", ")};function Mne(e){var{clipPathId:t,points:n,props:r}=e,{dot:a,dataKey:i,needClip:o}=r,{id:s}=r,l=SS(r,gne),c=Vi(l);return v.createElement(kee,{points:n,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:c,needClip:o,clipPathId:t})}function Ane(e){var{showLabels:t,children:n,points:r}=e,a=v.useMemo(()=>r==null?void 0:r.map(i=>{var o,s,l={x:(o=i.x)!==null&&o!==void 0?o:0,y:(s=i.y)!==null&&s!==void 0?s:0,width:0,lowerWidth:0,upperWidth:0,height:0};return To(To({},l),{},{value:i.value,payload:i.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return v.createElement(DQ,{value:t?a:void 0},n)}function bA(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:a,props:i}=e,{type:o,layout:s,connectNulls:l,needClip:c,shape:d}=i,f=SS(i,yne),p=To(To({},La(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:r,type:o,layout:s,connectNulls:l,strokeDasharray:a??i.strokeDasharray});return v.createElement(v.Fragment,null,(r==null?void 0:r.length)>1&&v.createElement(k_,Vf({shapeType:"curve",option:d},p,{pathRef:n})),v.createElement(Mne,{points:r,clipPathId:t,props:i}))}function Ene(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Pne(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:s,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:f,animateNewValues:p,width:m,height:h,onAnimationEnd:y,onAnimationStart:x}=n,g=a.current,b=L0(o,"recharts-line-"),w=v.useRef(b),[S,C]=v.useState(!1),j=!S,M=v.useCallback(()=>{typeof y=="function"&&y(),C(!1)},[y]),P=v.useCallback(()=>{typeof x=="function"&&x(),C(!0)},[x]),$=Ene(r.current),E=v.useRef(0);w.current!==b&&(E.current=i.current,w.current=b);var _=E.current;return v.createElement(Ane,{points:o,showLabels:j},n.children,v.createElement(_0,{animationId:b,begin:c,duration:d,isActive:l,easing:f,onAnimationEnd:M,onAnimationStart:P,key:b},D=>{var J=ja(_,$+_,D),Q=Math.min(J,$),Y;if(l)if(s){var fe="".concat(s).split(/[,\s]+/gim).map(te=>parseFloat(te));Y=Cne(Q,$,fe)}else Y=$_($,Q);else Y=s==null?void 0:String(s);if(D>0&&$>0&&(a.current=o,i.current=Math.max(i.current,Q)),g){var K=g.length/o.length,I=D===1?o:o.map((te,k)=>{var R=Math.floor(k*K);if(g[R]){var A=g[R];return To(To({},te),{},{x:ja(A.x,te.x,D),y:ja(A.y,te.y,D)})}return p?To(To({},te),{},{x:ja(m*2,te.x,D),y:ja(h/2,te.y,D)}):To(To({},te),{},{x:te.x,y:te.y})});return a.current=I,v.createElement(bA,{props:n,points:I,clipPathId:t,pathRef:r,strokeDasharray:Y})}return v.createElement(bA,{props:n,points:o,clipPathId:t,pathRef:r,strokeDasharray:Y})}),v.createElement(o_,{label:n.label}))}function Tne(e){var{clipPathId:t,props:n}=e,r=v.useRef(null),a=v.useRef(0),i=v.useRef(null);return v.createElement(Pne,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:a,pathRef:i})}var Dne=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:Yn(e.payload,t)}};class One extends v.Component{render(){var{hide:t,dot:n,points:r,className:a,xAxisId:i,yAxisId:o,top:s,left:l,width:c,height:d,id:f,needClip:p,zIndex:m}=this.props;if(t)return null;var h=xn("recharts-line",a),y=f,{r:x,strokeWidth:g}=Jte(n),b=x_(n),w=x*2+g,S=p?"url(#clipPath-".concat(b?"":"dots-").concat(y,")"):void 0;return v.createElement(go,{zIndex:m},v.createElement(ti,{className:h},p&&v.createElement("defs",null,v.createElement(Kte,{clipPathId:y,xAxisId:i,yAxisId:o}),!b&&v.createElement("clipPath",{id:"clipPath-dots-".concat(y)},v.createElement("rect",{x:l-w/2,y:s-w/2,width:c+w,height:d+w}))),v.createElement(qte,{xAxisId:i,yAxisId:o,data:r,dataPointFormatter:Dne,errorBarOffset:0},v.createElement(Tne,{props:this.props,clipPathId:y}))),v.createElement(Uee,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:S}))}}var R_={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:fa.line,type:"linear"};function Ine(e){var t=Gr(e,R_),{activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:s,dot:l,hide:c,isAnimationActive:d,label:f,legendType:p,xAxisId:m,yAxisId:h,id:y}=t,x=SS(t,vne),{needClip:g}=O_(m,h),b=vS(),w=lp(),S=ai(),C=vt(E=>Qte(E,m,h,S,y));if(w!=="horizontal"&&w!=="vertical"||C==null||b==null)return null;var{height:j,width:M,x:P,y:$}=b;return v.createElement(One,Vf({},x,{id:y,connectNulls:s,dot:l,activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:i,animationEasing:o,isAnimationActive:d,hide:c,label:f,legendType:p,xAxisId:m,yAxisId:h,points:C,layout:w,height:j,width:M,left:P,top:$,needClip:g}))}function _ne(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:i,dataKey:o,bandSize:s,displayedData:l}=e;return l.map((c,d)=>{var f=Yn(c,o);if(t==="horizontal"){var p=Mj({axis:n,ticks:a,bandSize:s,entry:c,index:d}),m=Kr(f)?null:r.scale(f);return{x:p,y:m,value:f,payload:c}}var h=Kr(f)?null:n.scale(f),y=Mj({axis:r,ticks:i,bandSize:s,entry:c,index:d});return h==null||y==null?null:{x:h,y,value:f,payload:c}}).filter(Boolean)}function Lne(e){var t=Gr(e,R_),n=ai();return v.createElement(N_,{id:t.id,type:"line"},r=>v.createElement(v.Fragment,null,v.createElement(MJ,{legendPayload:Sne(t)}),v.createElement(Nne,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),v.createElement(zJ,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),v.createElement(Ine,Vf({},t,{id:r}))))}var Jo=v.memo(Lne,kS);Jo.displayName="Line";var Fne=["domain","range"],$ne=["domain","range"];function xA(e,t){if(e==null)return{};var n,r,a=Rne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Rne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function wA(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function B_(e,t){if(e===t)return!0;var{domain:n,range:r}=e,a=xA(e,Fne),{domain:i,range:o}=t,s=xA(t,$ne);return!wA(n,i)||!wA(r,o)?!1:kS(a,s)}var Bne=["dangerouslySetInnerHTML","ticks","scale"],zne=["id","scale"];function Vx(){return Vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vx.apply(null,arguments)}function kA(e,t){if(e==null)return{};var n,r,a=Une(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Une(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Vne(e){var t=Vn(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(Mee(e)):n.current!==e&&t(Aee({prev:n.current,next:e})),n.current=e},[e,t]),v.useLayoutEffect(()=>()=>{n.current&&(t(Eee(n.current)),n.current=null)},[t]),null}var Hne=e=>{var{xAxisId:t,className:n}=e,r=vt(s3),a=ai(),i="xAxis",o=vt(g=>dI(g,i,t,a)),s=vt(g=>sY(g,t)),l=vt(g=>pY(g,t)),c=vt(g=>V4(g,t));if(s==null||l==null||c==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:p}=e,m=kA(e,Bne),{id:h,scale:y}=c,x=kA(c,zne);return v.createElement(wS,Vx({},m,x,{x:l.x,y:l.y,width:s.width,height:s.height,className:xn("recharts-".concat(i," ").concat(i),n),viewBox:r,ticks:o,axisType:i}))},Wne={allowDataOverflow:ea.allowDataOverflow,allowDecimals:ea.allowDecimals,allowDuplicatedCategory:ea.allowDuplicatedCategory,angle:ea.angle,axisLine:ss.axisLine,height:ea.height,hide:!1,includeHidden:ea.includeHidden,interval:ea.interval,minTickGap:ea.minTickGap,mirror:ea.mirror,orientation:ea.orientation,padding:ea.padding,reversed:ea.reversed,scale:ea.scale,tick:ea.tick,tickCount:ea.tickCount,tickLine:ss.tickLine,tickSize:ss.tickSize,type:ea.type,xAxisId:0},qne=e=>{var t=Gr(e,Wne);return v.createElement(v.Fragment,null,v.createElement(Vne,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),v.createElement(Hne,t))},Hf=v.memo(qne,B_);Hf.displayName="XAxis";var Kne=["dangerouslySetInnerHTML","ticks","scale"],Gne=["id","scale"];function Hx(){return Hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hx.apply(null,arguments)}function SA(e,t){if(e==null)return{};var n,r,a=Yne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Yne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Xne(e){var t=Vn(),n=v.useRef(null);return v.useLayoutEffect(()=>{n.current===null?t(Pee(e)):n.current!==e&&t(Tee({prev:n.current,next:e})),n.current=e},[e,t]),v.useLayoutEffect(()=>()=>{n.current&&(t(Dee(n.current)),n.current=null)},[t]),null}var Zne=e=>{var{yAxisId:t,className:n,width:r,label:a}=e,i=v.useRef(null),o=v.useRef(null),s=vt(s3),l=ai(),c=Vn(),d="yAxis",f=vt(j=>gY(j,t)),p=vt(j=>hY(j,t)),m=vt(j=>dI(j,d,t,l)),h=vt(j=>H4(j,t));if(v.useLayoutEffect(()=>{if(!(r!=="auto"||!f||mS(a)||v.isValidElement(a)||h==null)){var j=i.current;if(j){var M=j.getCalculatedWidth();Math.round(f.width)!==Math.round(M)&&c(Oee({id:t,width:M}))}}},[m,f,c,a,t,r,h]),f==null||p==null||h==null)return null;var{dangerouslySetInnerHTML:y,ticks:x,scale:g}=e,b=SA(e,Kne),{id:w,scale:S}=h,C=SA(h,Gne);return v.createElement(wS,Hx({},b,C,{ref:i,labelRef:o,x:p.x,y:p.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:xn("recharts-".concat(d," ").concat(d),n),viewBox:s,ticks:m,axisType:d}))},Qne={allowDataOverflow:ta.allowDataOverflow,allowDecimals:ta.allowDecimals,allowDuplicatedCategory:ta.allowDuplicatedCategory,angle:ta.angle,axisLine:ss.axisLine,hide:!1,includeHidden:ta.includeHidden,interval:ta.interval,minTickGap:ta.minTickGap,mirror:ta.mirror,orientation:ta.orientation,padding:ta.padding,reversed:ta.reversed,scale:ta.scale,tick:ta.tick,tickCount:ta.tickCount,tickLine:ss.tickLine,tickSize:ss.tickSize,type:ta.type,width:ta.width,yAxisId:0},Jne=e=>{var t=Gr(e,Qne);return v.createElement(v.Fragment,null,v.createElement(Xne,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),v.createElement(Zne,t))},Wf=v.memo(Jne,B_);Wf.displayName="YAxis";var ere=(e,t)=>t,NS=de([ere,Tn,B4,Xr,EI,Ms,DX,ia],RX),jS=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},z_=Hi("mouseClick"),U_=op();U_.startListening({actionCreator:z_,effect:(e,t)=>{var n=e.payload,r=NS(t.getState(),jS(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(PY({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Wx=Hi("mouseMove"),V_=op(),jm=null;V_.startListening({actionCreator:Wx,effect:(e,t)=>{var n=e.payload;jm!==null&&cancelAnimationFrame(jm);var r=jS(n);jm=requestAnimationFrame(()=>{var a=t.getState(),i=aS(a,a.tooltip.settings.shared);if(i==="axis"){var o=NS(a,r);(o==null?void 0:o.activeIndex)!=null?t.dispatch(wI({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(xI())}jm=null})}});function tre(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var NA={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},H_=ri({name:"rootProps",initialState:NA,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:NA.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),nre=H_.reducer,{updateOptions:rre}=H_.actions,W_=ri({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:are}=W_.actions,ire=W_.reducer,q_=Hi("keyDown"),K_=Hi("focus"),CS=op();CS.startListening({actionCreator:q_,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=iS(a,td(n),vp(n),wp(n)),s=o==null?-1:Number(o);if(!(!Number.isFinite(s)||s<0)){var l=Ms(n);if(i==="Enter"){var c=yg(n,"axis","hover",String(a.index));t.dispatch(Fx({active:!a.active,activeIndex:a.index,activeCoordinate:c}));return}var d=xY(n),f=d==="left-to-right"?1:-1,p=i==="ArrowRight"?1:-1,m=s+p*f;if(!(l==null||m>=l.length||m<0)){var h=yg(n,"axis","hover",String(m));t.dispatch(Fx({active:!0,activeIndex:m.toString(),activeCoordinate:h}))}}}}}});CS.startListening({actionCreator:K_,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var i="0",o=yg(n,"axis","hover",String(i));t.dispatch(Fx({active:!0,activeIndex:i,activeCoordinate:o}))}}}});var Pi=Hi("externalEvent"),G_=op(),Sv=new Map;G_.startListening({actionCreator:Pi,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var a=r.type,i=Sv.get(a);i!==void 0&&cancelAnimationFrame(i);var o=requestAnimationFrame(()=>{try{var s=t.getState(),l={activeCoordinate:gX(s),activeDataKey:OI(s),activeIndex:$u(s),activeLabel:DI(s),activeTooltipIndex:$u(s),isTooltipActive:yX(s)};n(l,r)}finally{Sv.delete(a)}});Sv.set(a,o)}}});var ore=de([Ju],e=>e.tooltipItemPayloads),sre=de([ore,xp,(e,t)=>t,(e,t,n)=>n],(e,t,n,r)=>{var a=e.find(s=>s.settings.graphicalItemId===r);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,n);return o}}}),Y_=Hi("touchMove"),X_=op();X_.startListening({actionCreator:Y_,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),a=aS(r,r.tooltip.settings.shared);if(a==="axis"){var i=n.touches[0];if(i==null)return;var o=NS(r,jS({clientX:i.clientX,clientY:i.clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(wI({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var s,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(i3),f=(s=c.getAttribute(o3))!==null&&s!==void 0?s:void 0,p=ed(r).find(y=>y.id===f);if(d==null||p==null||f==null)return;var{dataKey:m}=p,h=sre(r,d,f);t.dispatch(bI({activeDataKey:m,activeIndex:d,activeCoordinate:h,activeGraphicalItemId:f}))}}}});var lre=MO({brush:Vee,cartesianAxis:Iee,chartData:hZ,errorBars:Bte,graphicalItems:RJ,layout:ZV,legend:Q9,options:uZ,polarAxis:VQ,polarOptions:ire,referenceElements:Xee,rootProps:nre,tooltip:TY,zIndex:JX}),cre=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return kV({reducer:lre,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([U_.middleware,V_.middleware,CS.middleware,G_.middleware,X_.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(UO({type:"raf"}))},devTools:{serialize:{replacer:tre},name:"recharts-".concat(t)}})};function Z_(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,a=ai(),i=v.useRef(null);if(a)return n;i.current==null&&(i.current=cre(t,r));var o=V1;return v.createElement(pne,{context:o,store:i.current},n)}function ure(e){var{layout:t,margin:n}=e,r=Vn(),a=ai();return v.useEffect(()=>{a||(r(GV(t)),r(KV(n)))},[r,a,t,n]),null}var Q_=v.memo(ure,kS);function J_(e){var t=Vn();return v.useEffect(()=>{t(rre(e))},[t,e]),null}function jA(e){var{zIndex:t,isPanorama:n}=e,r=v.useRef(null),a=Vn();return v.useLayoutEffect(()=>(r.current&&a(ZX({zIndex:t,element:r.current,isPanorama:n})),()=>{a(QX({zIndex:t,isPanorama:n}))}),[a,t,n]),v.createElement("g",{tabIndex:-1,ref:r})}function CA(e){var{children:t,isPanorama:n}=e,r=vt(zX);if(!r||r.length===0)return t;var a=r.filter(o=>o<0),i=r.filter(o=>o>0);return v.createElement(v.Fragment,null,a.map(o=>v.createElement(jA,{key:o,zIndex:o,isPanorama:n})),t,i.map(o=>v.createElement(jA,{key:o,zIndex:o,isPanorama:n})))}var dre=["children"];function fre(e,t){if(e==null)return{};var n,r,a=pre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function pre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ng(){return Ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ng.apply(null,arguments)}var mre={width:"100%",height:"100%",display:"block"},hre=v.forwardRef((e,t)=>{var n=J1(),r=ek(),a=M3();if(!Bo(n)||!Bo(r))return null;var{children:i,otherAttributes:o,title:s,desc:l}=e,c,d;return o!=null&&(typeof o.tabIndex=="number"?c=o.tabIndex:c=a?0:void 0,typeof o.role=="string"?d=o.role:d=a?"application":void 0),v.createElement(M1,Ng({},o,{title:s,desc:l,role:d,tabIndex:c,width:n,height:r,style:mre,ref:t}),i)}),gre=e=>{var{children:t}=e,n=vt(A0);if(!n)return null;var{width:r,height:a,y:i,x:o}=n;return v.createElement(M1,{width:r,height:a,x:o,y:i},t)},MA=v.forwardRef((e,t)=>{var{children:n}=e,r=fre(e,dre),a=ai();return a?v.createElement(gre,null,v.createElement(CA,{isPanorama:!0},n)):v.createElement(hre,Ng({ref:t},r),v.createElement(CA,{isPanorama:!1},n))});function yre(){var e=Vn(),[t,n]=v.useState(null),r=vt(f9);return v.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;Rr(i)&&i!==r&&e(XV(i))}},[t,e,r]),n}function AA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function vre(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AA(Object(n),!0).forEach(function(r){bre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bre(e,t,n){return(t=xre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xre(e){var t=wre(e,"string");return typeof t=="symbol"?t:t+""}function wre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nc(){return Nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nc.apply(null,arguments)}var kre=()=>(NZ(),null);function jg(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Sre=v.forwardRef((e,t)=>{var n,r,a=v.useRef(null),[i,o]=v.useState({containerWidth:jg((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:jg((r=e.style)===null||r===void 0?void 0:r.height)}),s=v.useCallback((c,d)=>{o(f=>{var p=Math.round(c),m=Math.round(d);return f.containerWidth===p&&f.containerHeight===m?f:{containerWidth:p,containerHeight:m}})},[]),l=v.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=c.getBoundingClientRect();s(d,f);var p=h=>{var{width:y,height:x}=h[0].contentRect;s(y,x)},m=new ResizeObserver(p);m.observe(c),a.current=m}},[t,s]);return v.useEffect(()=>()=>{var c=a.current;c!=null&&c.disconnect()},[s]),v.createElement(v.Fragment,null,v.createElement(P0,{width:i.containerWidth,height:i.containerHeight}),v.createElement("div",Nc({ref:l},e)))}),Nre=v.forwardRef((e,t)=>{var{width:n,height:r}=e,[a,i]=v.useState({containerWidth:jg(n),containerHeight:jg(r)}),o=v.useCallback((l,c)=>{i(d=>{var f=Math.round(l),p=Math.round(c);return d.containerWidth===f&&d.containerHeight===p?d:{containerWidth:f,containerHeight:p}})},[]),s=v.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:c,height:d}=l.getBoundingClientRect();o(c,d)}},[t,o]);return v.createElement(v.Fragment,null,v.createElement(P0,{width:a.containerWidth,height:a.containerHeight}),v.createElement("div",Nc({ref:s},e)))}),jre=v.forwardRef((e,t)=>{var{width:n,height:r}=e;return v.createElement(v.Fragment,null,v.createElement(P0,{width:n,height:r}),v.createElement("div",Nc({ref:t},e)))}),Cre=v.forwardRef((e,t)=>{var{width:n,height:r}=e;return ms(n)||ms(r)?v.createElement(Nre,Nc({},e,{ref:t})):v.createElement(jre,Nc({},e,{ref:t}))});function Mre(e){return e===!0?Sre:Cre}var Are=v.forwardRef((e,t)=>{var{children:n,className:r,height:a,onClick:i,onContextMenu:o,onDoubleClick:s,onMouseDown:l,onMouseEnter:c,onMouseLeave:d,onMouseMove:f,onMouseUp:p,onTouchEnd:m,onTouchMove:h,onTouchStart:y,style:x,width:g,responsive:b,dispatchTouchEvents:w=!0}=e,S=v.useRef(null),C=Vn(),[j,M]=v.useState(null),[P,$]=v.useState(null),E=yre(),_=Q1(),D=(_==null?void 0:_.width)>0?_.width:g,J=(_==null?void 0:_.height)>0?_.height:a,Q=v.useCallback(O=>{E(O),typeof t=="function"&&t(O),M(O),$(O),O!=null&&(S.current=O)},[E,t,M,$]),Y=v.useCallback(O=>{C(z_(O)),C(Pi({handler:i,reactEvent:O}))},[C,i]),fe=v.useCallback(O=>{C(Wx(O)),C(Pi({handler:c,reactEvent:O}))},[C,c]),K=v.useCallback(O=>{C(xI()),C(Pi({handler:d,reactEvent:O}))},[C,d]),I=v.useCallback(O=>{C(Wx(O)),C(Pi({handler:f,reactEvent:O}))},[C,f]),te=v.useCallback(()=>{C(K_())},[C]),k=v.useCallback(O=>{C(q_(O.key))},[C]),R=v.useCallback(O=>{C(Pi({handler:o,reactEvent:O}))},[C,o]),A=v.useCallback(O=>{C(Pi({handler:s,reactEvent:O}))},[C,s]),N=v.useCallback(O=>{C(Pi({handler:l,reactEvent:O}))},[C,l]),B=v.useCallback(O=>{C(Pi({handler:p,reactEvent:O}))},[C,p]),G=v.useCallback(O=>{C(Pi({handler:y,reactEvent:O}))},[C,y]),V=v.useCallback(O=>{w&&C(Y_(O)),C(Pi({handler:h,reactEvent:O}))},[C,w,h]),H=v.useCallback(O=>{C(Pi({handler:m,reactEvent:O}))},[C,m]),X=Mre(b);return v.createElement(BI.Provider,{value:j},v.createElement(CD.Provider,{value:P},v.createElement(X,{width:D??(x==null?void 0:x.width),height:J??(x==null?void 0:x.height),className:xn("recharts-wrapper",r),style:vre({position:"relative",cursor:"default",width:D,height:J},x),onClick:Y,onContextMenu:R,onDoubleClick:A,onFocus:te,onKeyDown:k,onMouseDown:N,onMouseEnter:fe,onMouseLeave:K,onMouseMove:I,onMouseUp:B,onTouchEnd:H,onTouchMove:V,onTouchStart:G,ref:Q},v.createElement(kre,null),n)))}),Ere=["width","height","responsive","children","className","style","compact","title","desc"];function Pre(e,t){if(e==null)return{};var n,r,a=Tre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Tre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var eL=v.forwardRef((e,t)=>{var{width:n,height:r,responsive:a,children:i,className:o,style:s,compact:l,title:c,desc:d}=e,f=Pre(e,Ere),p=Vi(f);return l?v.createElement(v.Fragment,null,v.createElement(P0,{width:n,height:r}),v.createElement(MA,{otherAttributes:p,title:c,desc:d},i)):v.createElement(Are,{className:o,style:s,width:n,height:r,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},v.createElement(MA,{otherAttributes:p,title:c,desc:d,ref:t},v.createElement(Qee,null,i)))});function qx(){return qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qx.apply(null,arguments)}var Dre={top:5,right:5,bottom:5,left:5},Ore={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Dre,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Ire=v.forwardRef(function(e,t){var n,r=Gr(e.categoricalChartProps,Ore),{chartName:a,defaultTooltipEventType:i,validateTooltipEventTypes:o,tooltipPayloadSearcher:s,categoricalChartProps:l}=e,c={chartName:a,defaultTooltipEventType:i,validateTooltipEventTypes:o,tooltipPayloadSearcher:s,eventEmitter:void 0};return v.createElement(Z_,{preloadedState:{options:c},reduxStoreName:(n=l.id)!==null&&n!==void 0?n:a},v.createElement(M_,{chartData:l.data}),v.createElement(Q_,{layout:r.layout,margin:r.margin}),v.createElement(J_,{baseValue:r.baseValue,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),v.createElement(eL,qx({},r,{ref:t})))}),_re=["axis"],Cg=v.forwardRef((e,t)=>v.createElement(Ire,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:_re,tooltipPayloadSearcher:UI,categoricalChartProps:e,ref:t}));function Lre(e){var t=Vn();return v.useEffect(()=>{t(are(e))},[t,e]),null}var Fre=["layout"];function Kx(){return Kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kx.apply(null,arguments)}function $re(e,t){if(e==null)return{};var n,r,a=Rre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Rre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Bre={top:5,right:5,bottom:5,left:5},tL={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Bre,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},zre=v.forwardRef(function(e,t){var n,r=Gr(e.categoricalChartProps,tL),{layout:a}=r,i=$re(r,Fre),{chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:c}=e,d={chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return v.createElement(Z_,{preloadedState:{options:d},reduxStoreName:(n=r.id)!==null&&n!==void 0?n:o},v.createElement(M_,{chartData:r.data}),v.createElement(Q_,{layout:a,margin:r.margin}),v.createElement(J_,{baseValue:void 0,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),v.createElement(Lre,{cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius}),v.createElement(eL,Kx({},i,{ref:t})))});function EA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function PA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EA(Object(n),!0).forEach(function(r){Ure(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ure(e,t,n){return(t=Vre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vre(e){var t=Hre(e,"string");return typeof t=="symbol"?t:t+""}function Hre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wre=["item"],qre=PA(PA({},tL),{},{layout:"centric",startAngle:0,endAngle:360}),Gx=v.forwardRef((e,t)=>{var n=Gr(e,qre);return v.createElement(zre,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Wre,tooltipPayloadSearcher:UI,categoricalChartProps:n,ref:t})});const Mn=({value:e,options:t,onChange:n,className:r="",activeClassName:a,inactiveClassName:i})=>u.jsx("div",{className:`pill-toggle-group flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1 text-[10px] uppercase tracking-[0.25em] text-gray-400 ${r}`,children:t.map(o=>u.jsx("button",{type:"button",onClick:()=>n(o.value),className:`pill-toggle-option px-2.5 py-1 rounded-full transition-colors ${e===o.value?`pill-toggle-option--active ${a}`:i}`,children:o.label},o.value))}),TA="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",Zd=new Map,xu=new Map,Kre=async e=>{var t;if(!((t=window==null?void 0:window.electronAPI)!=null&&t.fetchImageAsDataUrl))return;const n=Array.from(new Set(e)).filter(r=>/^https?:\/\//i.test(r));await Promise.all(n.map(async r=>{if(Zd.has(r)||xu.has(r))return;const a=(async()=>{const i=await window.electronAPI.fetchImageAsDataUrl(r),o=i!=null&&i.success&&i.dataUrl?i.dataUrl:null;return o&&Zd.set(r,o),o})();xu.set(r,a);try{await a}finally{xu.delete(r)}}))},Gre=e=>{const[t,n]=v.useState(()=>{var r;return e?!((r=window==null?void 0:window.electronAPI)!=null&&r.fetchImageAsDataUrl)||!/^https?:\/\//i.test(e)?e:Zd.get(e)||TA:null});return v.useEffect(()=>{var r;if(!e){n(null);return}if(!((r=window==null?void 0:window.electronAPI)!=null&&r.fetchImageAsDataUrl)){n(e);return}if(!/^https?:\/\//i.test(e)){n(e);return}const a=Zd.get(e);if(a){n(a);return}let i=!0;const o=xu.get(e)||(async()=>{const s=await window.electronAPI.fetchImageAsDataUrl(e),l=s!=null&&s.success&&s.dataUrl?s.dataUrl:null;return l&&Zd.set(e,l),l})();return xu.set(e,o),o.then(s=>{if(i){if(s){n(s);return}n(TA)}}).finally(()=>{xu.delete(e)}),()=>{i=!1}},[e]),t},Yre=(e,t,n,r)=>{const[a,i]=v.useState("bottom"),[o,s]=v.useState(0);return v.useEffect(()=>{if(!e)return;const l=requestAnimationFrame(()=>{const c=n.current,d=r.current;if(!c||!d)return;const f=c.getBoundingClientRect(),p=d.getBoundingClientRect(),m=(M=>{let P=(M==null?void 0:M.parentElement)||null;for(;P;){const $=window.getComputedStyle(P),E=`${$.overflow}${$.overflowY}${$.overflowX}`;if(/(auto|scroll|hidden)/.test(E))return P;P=P.parentElement}return null})(c),h=m?m.getBoundingClientRect():{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth},y=h.bottom-f.bottom,x=f.top-h.top,g=y<p.height+8&&x>y?"top":"bottom";i(g);const b=6,w=f.left+f.width/2,S=h.left+b+p.width/2,C=h.right-b-p.width/2,j=Math.min(Math.max(w,S),C);s(j-w)});return()=>cancelAnimationFrame(l)},[e,...t]),{placement:a,shiftX:o}},Xre=(e,t=5)=>{const n=Object.entries(e).filter(([,a])=>a>0).sort((a,i)=>i[1]-a[1]||a[0].localeCompare(i[0])).map(([a,i])=>({profession:a,count:i})),r=[];for(let a=0;a<n.length;a+=t)r.push(n.slice(a,a+t));return r},nL=(e,t,n,r,a=8)=>{const[i,o]=v.useState({position:"fixed",top:-9999,left:-9999,transform:"translateX(-50%)"});return v.useEffect(()=>{if(!e)return;const s=()=>{const c=n.current,d=r.current;if(!c||!d)return;const f=c.getBoundingClientRect(),p=d.getBoundingClientRect(),m=window.innerHeight-f.bottom,h=f.top,y=m<p.height+a&&h>m?Math.max(a,f.top-p.height-a):Math.min(window.innerHeight-p.height-a,f.bottom+a),x=f.left+f.width/2,g=a+p.width/2,b=window.innerWidth-a-p.width/2,w=Math.min(Math.max(x,g),b);o({position:"fixed",top:y,left:w,transform:"translateX(-50%)"})},l=requestAnimationFrame(s);return window.addEventListener("scroll",s,!0),window.addEventListener("resize",s),()=>{cancelAnimationFrame(l),window.removeEventListener("scroll",s,!0),window.removeEventListener("resize",s)}},[e,a,...t]),i},Zre=({profession:e,professionList:t,className:n="w-4 h-4 object-contain"})=>{const r=(t||[]).filter(Boolean),a=e==="Multi"&&r.length>0?r[0]:e,i=Xl(a||"Unknown"),o=r.length>1,[s,l]=v.useState(!1),c=v.useRef(null),d=v.useRef(null),f=`${n} object-contain`,{placement:p,shiftX:m}=Yre(s,[r.length,f],c,d),h=Array.from(new Set(r.map(b=>ic(b||"Unknown")))).slice(0,4),y=h.length>1?`conic-gradient(${h.map((b,w)=>`${b} ${w*360/h.length}deg ${(w+1)*360/h.length}deg`).join(", ")})`:h[0]||"#9ca3af";if(!i)return null;const x=p==="top"?"bottom-full mb-2":"top-full mt-2",g={transform:`translateX(calc(-50% + ${m}px))`};return u.jsxs("span",{ref:c,className:`relative inline-flex shrink-0 ${o?"group":""}`,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[u.jsx("img",{src:i,alt:a||"Unknown",className:`${f} shrink-0`}),o&&u.jsxs(u.Fragment,{children:[u.jsx("span",{"aria-hidden":"true",className:"absolute -top-0.5 -right-0.5 h-2.5 w-2.5 rounded-full ring-1 ring-[#10141b] shadow-[0_0_0_1px_rgba(255,255,255,0.08)]",style:{background:y},children:u.jsx("span",{className:"absolute inset-[0.7px] rounded-full bg-[#0f141c]/90"})}),u.jsxs("div",{ref:d,style:g,className:`absolute left-1/2 z-50 w-max rounded-md border border-white/10 bg-black/70 backdrop-blur-md px-2 py-1 text-[10px] text-gray-200 shadow-lg opacity-0 pointer-events-none transition-opacity ${x} ${s?"opacity-100":""}`,children:[u.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:"Multi"}),u.jsx("div",{className:"space-y-1",children:r.map(b=>{const w=Xl(b||"Unknown");return u.jsxs("div",{className:"flex items-center gap-1",children:[w?u.jsx("img",{src:w,alt:b||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,u.jsx("span",{className:"text-gray-100",children:b||"Unknown"})]},b)})})]})]})]})},Qre=(e,t,n="w-4 h-4 object-contain")=>u.jsx(Zre,{profession:e,professionList:t,className:n}),Nv=({count:e,classCounts:t,label:n,className:r})=>{const a=Xre(t||{}),i=e>0,[o,s]=v.useState(!1),l=v.useRef(null),c=v.useRef(null),d=nL(o,[a.length,e],l,c);return u.jsxs("span",{ref:l,className:`relative inline-flex items-center justify-end ${i?"group cursor-help":""}`,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[u.jsx("span",{className:r,children:e}),i&&typeof document<"u"&&qu.createPortal(u.jsxs("div",{ref:c,style:d,className:`z-[9999] w-max rounded-md border border-white/10 bg-black/70 backdrop-blur-md px-2 py-1 text-[10px] text-gray-200 shadow-lg opacity-0 pointer-events-none transition-opacity ${o?"opacity-100":""}`,children:[u.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:n}),a.length>0?u.jsx("div",{className:"grid grid-flow-col auto-cols-fr gap-2",children:a.map((f,p)=>u.jsx("div",{className:"space-y-1",children:f.map(({profession:m,count:h})=>{const y=Xl(m||"Unknown");return u.jsxs("div",{className:"flex items-center gap-1",children:[y?u.jsx("img",{src:y,alt:m||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,u.jsx("span",{className:"text-gray-100",children:m||"Unknown"}),u.jsx("span",{className:"text-gray-400",children:""}),u.jsx("span",{className:"text-gray-200",children:h})]},m)})},`${n}-col-${p}`))}):u.jsx("div",{className:"text-[10px] text-gray-500 italic",children:"No class data available"})]}),document.body)]})},kr=({name:e,iconUrl:t,className:n="",iconClassName:r="h-4 w-4",textClassName:a=""})=>{const i=Gre(t);return u.jsxs("span",{className:`inline-flex items-center gap-2 min-w-0 ${n}`,children:[i?u.jsx("img",{src:i,alt:e,className:`${r} shrink-0`}):null,u.jsx("span",{className:`truncate ${a}`,children:e})]})},DA=({value:e,label:t,items:n,className:r})=>{const a=n.length>0,[i,o]=v.useState(!1),s=v.useRef(null),l=v.useRef(null),c=nL(i,[n.length],s,l);return u.jsxs("span",{ref:s,className:`relative inline-flex items-center justify-end ${a?"group cursor-help":""} ${r||""}`,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[u.jsx("span",{children:e}),a&&typeof document<"u"&&qu.createPortal(u.jsxs("div",{ref:l,style:c,className:`z-[9999] w-64 rounded-md border border-white/10 bg-black/70 px-3 py-2 text-[10px] text-gray-200 shadow-lg backdrop-blur-md opacity-0 pointer-events-none transition-opacity ${i?"opacity-100":""}`,children:[u.jsx("div",{className:"text-[9px] uppercase tracking-wider text-amber-200 mb-1",children:t}),u.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1",children:n.map(d=>u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsx("span",{className:"truncate text-gray-100",children:u.jsx(kr,{name:d.name,iconUrl:d.iconUrl,iconClassName:"h-6 w-6"})}),u.jsx("span",{className:"text-gray-300 font-mono",children:d.value})]},d.name))})]}),document.body)]})},Jre=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,selectedPlayers:s,setSelectedPlayers:l,removeSelectedPlayer:c,playerMapByKey:d,groupedSkillUsagePlayers:f,expandedSkillUsageClass:p,setExpandedSkillUsageClass:m,togglePlayerSelection:h,skillUsagePlayerFilter:y,setSkillUsagePlayerFilter:x,skillUsageView:g,setSkillUsageView:b,skillUsageData:w,skillUsageSkillFilter:S,setSkillUsageSkillFilter:C,selectedSkillId:j,setSelectedSkillId:M,skillBarData:P,selectedSkillName:$,selectedSkillIcon:E,skillUsageReady:_,skillUsageAvailable:D,isSkillUsagePerSecond:J,skillChartData:Q,skillChartMaxY:Y,playerTotalsForSkill:fe,hoveredSkillPlayer:K,setHoveredSkillPlayer:I,getLineStrokeColor:te,getLineDashForPlayer:k,formatSkillUsageValue:R,renderProfessionIcon:A})=>u.jsxs("div",{id:"skill-usage","data-section-visible":a("skill-usage"),"data-section-first":i("skill-usage"),className:o("skill-usage",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${e==="skill-usage"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[u.jsxs("div",{className:e==="skill-usage"?"pr-10 md:pr-0":"",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(h1,{className:"w-5 h-5 text-cyan-400"}),"Skill Usage Tracker"]}),u.jsx("p",{className:"text-xs text-gray-400",children:"Compare how often squad members cast a skill and drill into the timeline breakdown."})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Mn,{value:g,onChange:b,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[w.logRecords.length," ",w.logRecords.length===1?"log":"logs"]}),u.jsx("button",{type:"button",onClick:()=>e==="skill-usage"?r():n("skill-usage"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="skill-usage"?"absolute top-2 right-2 md:static":""}`,"aria-label":e==="skill-usage"?"Close Skill Usage":"Expand Skill Usage",title:e==="skill-usage"?"Close":"Expand",children:e==="skill-usage"?u.jsx(Ba,{className:"w-4 h-4"}):u.jsx(ki,{className:"w-4 h-4"})})]})]}),s.length>0&&u.jsxs("div",{className:"flex items-center gap-2 pb-2 overflow-x-auto pr-1 -mx-1 px-1",children:[u.jsx("button",{type:"button",onClick:()=>l([]),className:"shrink-0 px-3 py-1 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:"Clear All"}),s.map(N=>{const B=d.get(N);return B?u.jsxs("span",{className:"flex items-center gap-1 rounded-full border border-cyan-400/40 bg-cyan-500/10 px-3 py-1 text-xs text-cyan-200 shrink-0",children:[u.jsx("span",{className:"truncate max-w-[140px]",children:B.displayName}),u.jsxs("span",{className:"text-[10px] text-cyan-200/70",children:[B.logs," ",B.logs===1?"log":"logs"]}),u.jsx("button",{type:"button",onClick:()=>c(B.key),className:"rounded-full p-1 text-cyan-200 hover:bg-white/20",children:u.jsx(oD,{className:"w-3 h-3"})})]},B.key):null})]}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Squad Players"}),u.jsx("input",{type:"search",value:y,onChange:N=>x(N.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),u.jsx("div",{className:"skill-usage-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:f.length===0?u.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No squad players match the filter"}):f.map(N=>{const B=p===N.profession,G=N.players.map(H=>H.key),V=G.length>0&&G.every(H=>s.includes(H));return u.jsxs("div",{className:"border-b border-white/5 last:border-b-0",children:[u.jsx("button",{type:"button",onClick:()=>{if(B){m(null);return}m(N.profession)},className:`skill-usage-player-list-item w-full px-3 py-2 text-left transition-colors ${B?"bg-white/10":"hover:bg-white/5"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[A(N.profession,void 0,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:N.profession})]}),u.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[u.jsxs("span",{className:"text-[10px]",children:[N.players.length,"p"]}),B?u.jsx(Yl,{className:"w-3.5 h-3.5"}):u.jsx(sz,{className:"w-3.5 h-3.5"})]})]})}),B&&u.jsxs("div",{className:"pb-2",children:[u.jsxs("div",{className:"px-6 pt-1 pb-2 flex items-center justify-between text-[11px] text-gray-400",children:[u.jsxs("span",{children:[N.players.length," ",N.players.length===1?"player":"players"]}),u.jsx("button",{type:"button",onClick:()=>{l(H=>{if(V)return H.filter(O=>!G.includes(O));const X=new Set(H);return G.forEach(O=>X.add(O)),Array.from(X)})},className:"skill-usage-player-list-item px-2 py-0.5 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:V?"Clear All":"Select All"})]}),N.players.map(H=>{const X=s.includes(H.key);return u.jsx("button",{type:"button",onClick:()=>h(H.key),className:`skill-usage-player-list-item w-full border-b border-white/5 px-6 py-2 text-left transition-colors last:border-b-0 ${X?"border-cyan-400 bg-cyan-500/10 text-white":"border-transparent hover:border-white/10 hover:bg-white/5"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:H.displayName}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:[H.account,"  ",H.profession,"  ",H.logs," ",H.logs===1?"log":"logs"]})]}),X&&u.jsx(rD,{className:"w-4 h-4 text-cyan-300"})]})},H.key)})]})]},N.profession)})})]}),u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Skill Totals"}),u.jsx("div",{className:"text-[11px] text-gray-500",children:s.length>0?`${s.length} player${s.length===1?"":"s"}  ${J?"casts/sec":"total casts"}`:"Select players"})]}),u.jsx("input",{type:"search",value:S,onChange:N=>C(N.target.value),placeholder:"Filter skill names",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),u.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/20 p-0.5 flex-1 min-h-0",children:s.length===0?u.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"Select squad players to see the skills they cast."}):P.length===0?u.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"No skill casts found for the selected players."}):(()=>{const N=P.reduce((B,G)=>Math.max(B,G.total),0)||1;return u.jsx("div",{className:"space-y-0.5 h-full overflow-y-auto pr-0.5",children:P.map((B,G)=>{const V=Math.min(100,B.total/N*100),H=j===B.skillId;return u.jsxs("button",{type:"button",onClick:()=>M(B.skillId),className:`w-full space-y-1 rounded-lg border px-2 py-1.5 text-left transition-colors ${H?"border-white/60 bg-white/10":"border-white/10 bg-white/5 hover:border-white/30 hover:bg-white/10"}`,children:[u.jsxs("div",{className:"flex items-center justify-between text-sm text-white min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-400",children:`#${G+1}`}),u.jsx(kr,{name:B.name,iconUrl:B.icon,iconClassName:"h-6 w-6",className:"min-w-0 flex-1 max-w-[58vw] sm:max-w-none",textClassName:"font-semibold"})]}),u.jsx("span",{className:"text-cyan-200 font-mono text-xs shrink-0",children:R(B.total)})]}),u.jsx("div",{className:"h-1 w-full rounded-full bg-white/10",children:u.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${V}%`,backgroundColor:B.color}})})]},B.skillId)})})})()})]})]}),u.jsx("div",{className:"space-y-3",children:_?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-4 rounded-2xl bg-black/50 p-4 mt-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:$?u.jsx(kr,{name:$,iconUrl:E,iconClassName:"h-6 w-6"}):"Selected Skill Usage"}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:["(",J?"casts per second":"casts per log",")"]})]}),u.jsx(vc,{width:"100%",height:250,children:u.jsxs(Cg,{data:Q,children:[u.jsx(Uf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Hf,{dataKey:"index",type:"number",tick:{fill:"#e2e8f0",fontSize:10},interval:0,tickFormatter:N=>{const B=Q[N],G=String((B==null?void 0:B.shortLabel)??N);return G.length>20?`${G.slice(0,20)}`:G}}),u.jsx(Wf,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,Y)],allowDecimals:!1}),u.jsx(kc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},content:({active:N,payload:B,label:G})=>{var V;if(!N||!B||B.length===0)return null;const H=[...B].sort((ee,me)=>(me.value||0)-(ee.value||0)),X=H[0],O=((V=X==null?void 0:X.payload)==null?void 0:V.fullLabel)||G;return u.jsxs("div",{className:"rounded-lg bg-slate-900/95 border border-white/10 px-3 py-2 shadow-xl",children:[u.jsx("div",{className:"text-sm text-white mb-1",children:O}),u.jsx("div",{className:"space-y-1",children:H.map(ee=>{const me=String(ee.name||""),L=d.get(me),ne=(L==null?void 0:L.displayName)||me||"Player",z=R(Number(ee.value||0)),F=ee.color||"#38bdf8";return u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"truncate",style:{color:F},children:ne}),u.jsx("span",{className:"text-gray-200 font-mono",children:z})]},`${ne}-${z}`)})})]})}}),s.map(N=>{const B=K.includes(N),G=K.length>0,V=te(N,B,G),H=k(N),X=K.length>0&&!B;return u.jsx(Jo,{dataKey:N,stroke:V,strokeWidth:B?4:3,strokeDasharray:H,opacity:X?.6:1,dot:!1,isAnimationActive:!1},N)})]})})]}),s.length>0&&u.jsxs("div",{className:"rounded-2xl bg-black/40 border border-white/10 p-4 space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.4em] text-gray-400",children:"Selected Players"}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[s.length," ",s.length===1?"player":"players"]})]}),u.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:[...s].sort((N,B)=>(fe.get(B)||0)-(fe.get(N)||0)).map(N=>{const B=d.get(N),G=fe.get(N)??0,V=K.includes(N),H=K.length>0,X=te(N,V,H);return u.jsxs("button",{type:"button",onClick:()=>{I(O=>O.includes(N)?O.filter(ee=>ee!==N):[...O,N])},className:`w-full rounded-2xl border bg-white/5 p-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-left transition cursor-pointer focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/70 min-w-0 ${V?"border-white/40 bg-white/10":"border-white/10 hover:border-white/30 hover:bg-white/10"}`,"aria-pressed":V,children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("svg",{className:"h-2 w-6",viewBox:"0 0 24 4","aria-hidden":"true",children:u.jsx("line",{x1:"0",y1:"2",x2:"24",y2:"2",stroke:X,strokeWidth:"2",strokeDasharray:k(N),strokeLinecap:"round"})}),A(B==null?void 0:B.profession,B==null?void 0:B.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.4em] text-gray-400",children:"Player"}),u.jsx("div",{className:"font-semibold text-white truncate",children:(B==null?void 0:B.displayName)||N}),u.jsxs("div",{className:"text-[11px] text-gray-400",children:[(B==null?void 0:B.logs)??0," ",((B==null?void 0:B.logs)??0)===1?"log":"logs"]})]})]}),u.jsx("div",{className:"text-2xl sm:text-3xl font-black text-white font-mono self-end sm:self-auto shrink-0",children:R(G)})]},N)})})]})]}):u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 mt-2 text-center text-xs text-gray-400",children:D?"Pick one skill and up to two players to visualize their usage over time.":"Upload or highlight logs with rotation data to enable the skill usage tracker."})})]}),eae=({containerRef:e,className:t=""})=>{const n=v.useRef(null),[r,a]=v.useState(0),[i,o]=v.useState(0),s=v.useRef(!1),l=v.useRef(0),c=v.useRef(0);v.useLayoutEffect(()=>{const p=e.current;if(!p)return;let m=0;const h=()=>{const{scrollWidth:w,clientWidth:S,scrollLeft:C}=p,j=w>S,M=n.current,P=(M==null?void 0:M.clientWidth)||0;if(!P){m=window.requestAnimationFrame(h);return}if(!j){a(P),o(0);return}const $=S/w,E=Math.max(20,Math.floor(P*$)),_=w-S,D=Math.max(0,P-E),J=_>0?Math.floor(C/_*D):0;a(E),o(J)};h();const y=()=>h(),x=new ResizeObserver(h);x.observe(p);const g=p.firstElementChild;g instanceof HTMLElement&&x.observe(g),n.current&&x.observe(n.current);const b=new MutationObserver(()=>h());return b.observe(p,{childList:!0,subtree:!0,attributes:!0}),window.addEventListener("resize",h),p.addEventListener("scroll",y),()=>{m&&window.cancelAnimationFrame(m),x.disconnect(),b.disconnect(),window.removeEventListener("resize",h),p.removeEventListener("scroll",y)}},[e]),v.useEffect(()=>{const p=h=>{if(!s.current)return;const y=n.current,x=e.current;if(!y||!x)return;const g=y.getBoundingClientRect(),b=h.clientX-l.current,w=Math.max(0,g.width-r),S=Math.min(w,Math.max(0,c.current+b)),C=x.scrollWidth-x.clientWidth,j=w>0?S/w*C:0;x.scrollLeft=j},m=()=>{s.current=!1};return window.addEventListener("pointermove",p),window.addEventListener("pointerup",m),()=>{window.removeEventListener("pointermove",p),window.removeEventListener("pointerup",m)}},[e,r]);const d=p=>{const m=n.current,h=e.current;if(!m||!h||r<=0)return;const y=m.getBoundingClientRect(),x=p.clientX-y.left,g=Math.max(0,y.width-r),b=Math.min(g,Math.max(0,x-r/2)),w=h.scrollWidth-h.clientWidth;h.scrollLeft=g>0?b/g*w:0},f=p=>{r<=0||(s.current=!0,l.current=p.clientX,c.current=i,p.currentTarget.setPointerCapture(p.pointerId))};return u.jsx("div",{className:`scroll-scrubber ${t}`,children:u.jsx("div",{ref:n,className:"scroll-scrubber__track",onClick:d,children:u.jsx("div",{className:"scroll-scrubber__thumb",style:{width:`${r}px`,transform:`translateX(${i}px)`},onPointerDown:f})})})},fo=({title:e,subtitle:t,controls:n,columns:r,rows:a,sortColumnId:i,sortDirection:o="desc",onSortColumn:s,className:l=""})=>{const c=v.useRef(null),d=["minmax(170px, max-content)",...r.map(f=>`minmax(${f.minWidth??60}px, max-content)`)].join(" ");return u.jsxs("div",{className:`dense-table ${l}`,children:[(e||t)&&u.jsxs("div",{className:"dense-table__header",children:[e&&u.jsx("div",{className:"dense-table__title",children:e}),t&&u.jsx("div",{className:"dense-table__subtitle",children:t})]}),n&&u.jsx("div",{className:"dense-table__controls",children:n}),u.jsx("div",{ref:c,className:"dense-table__scroll",children:u.jsxs("div",{className:"dense-table__grid",style:{gridTemplateColumns:d},children:[u.jsx("div",{className:"dense-table__head dense-table__head--sticky dense-table__head--pinned",children:u.jsx("div",{className:"dense-table__head-inner",children:"Player"})}),r.map(f=>{const p=!!s,m=i===f.id?o==="desc"?"":"":null;return u.jsx("div",{className:`dense-table__head ${f.align==="right"?"dense-table__cell--right":""}`,style:f.minWidth?{minWidth:f.minWidth}:void 0,children:p?u.jsxs("button",{type:"button",onClick:()=>s==null?void 0:s(f.id),className:"dense-table__head-inner",children:[u.jsx("span",{className:"truncate",children:f.label}),m&&u.jsx("span",{className:"text-[10px] text-slate-200",children:m})]}):u.jsx("div",{className:"dense-table__head-inner",children:f.label})},f.id)}),a.map(f=>u.jsxs("div",{className:"dense-table__row",children:[u.jsx("div",{className:"dense-table__cell dense-table__cell--label dense-table__cell--pinned",children:f.label}),r.map(p=>u.jsx("div",{className:`dense-table__cell ${p.align==="right"?"dense-table__cell--right":""}`,children:f.values[p.id]??"-"},`${f.id}-${p.id}`))]},f.id))]})}),u.jsx(eae,{containerRef:c})]})},po=({options:e,selectedIds:t,placeholder:n="Search...",onSelect:r,className:a=""})=>{const[i,o]=v.useState(""),[s,l]=v.useState(!1),[c,d]=v.useState(0),f=v.useRef(null),p=v.useRef(null),m=v.useRef(new Map);v.useEffect(()=>{const g=b=>{f.current&&(f.current.contains(b.target)||l(!1))};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const h=v.useMemo(()=>{const g=i.trim().toLowerCase();return g?e.filter(b=>b.label.toLowerCase().includes(g)).slice(0,50):e.slice(0,50)},[e,i]),y=v.useMemo(()=>{const g=new Map;return h.forEach((b,w)=>{g.set(`${b.type}-${b.id}`,w)}),g},[h]),x=v.useMemo(()=>{const g=h.filter(w=>w.type==="column"),b=h.filter(w=>w.type==="player");return{columns:g,players:b}},[h]);return v.useEffect(()=>{if(s){if(h.length===0){d(0);return}d(g=>Math.min(Math.max(g,0),h.length-1))}},[h,s]),v.useEffect(()=>{if(!s)return;const g=h[c];if(!g)return;const b=`${g.type}-${g.id}`,w=m.current.get(b);w&&p.current&&w.scrollIntoView({block:"nearest"})},[c,h,s]),u.jsxs("div",{ref:f,className:`relative ${a}`,children:[u.jsx("input",{value:i,onChange:g=>{o(g.target.value),l(!0)},onKeyDown:g=>{if(!s&&(g.key==="ArrowDown"||g.key==="ArrowUp")){l(!0);return}if(s)if(g.key==="ArrowDown"){if(g.preventDefault(),h.length===0)return;d(b=>(b+1)%h.length)}else if(g.key==="ArrowUp"){if(g.preventDefault(),h.length===0)return;d(b=>(b-1+h.length)%h.length)}else if(g.key==="Enter"){g.preventDefault();const b=h[c];if(!b)return;r(b),o(""),l(!1)}else g.key==="Escape"&&(g.preventDefault(),l(!1))},onFocus:()=>l(!0),placeholder:n,className:"w-full sm:w-64 bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none"}),s&&u.jsx("div",{className:"absolute z-30 mt-2 w-64 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:h.length===0?u.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No matches"}):u.jsxs("div",{ref:p,className:"max-h-60 overflow-y-auto space-y-2 pr-1",children:[x.columns.length>0&&u.jsxs("div",{children:[u.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Columns"}),x.columns.map(g=>{const b=(t==null?void 0:t.has(`${g.type}:${g.id}`))??!1;return u.jsx("button",{type:"button",ref:w=>{m.current.set(`${g.type}-${g.id}`,w)},onClick:()=>{r(g),o(""),l(!1)},onMouseEnter:()=>{const w=y.get(`${g.type}-${g.id}`);typeof w=="number"&&d(w)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${c===y.get(`${g.type}-${g.id}`)?"bg-white/10 border-white/10":""} ${b?"bg-white/15 border-white/20":""}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[g.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:g.icon}):null,u.jsx("span",{className:"truncate",children:g.label})]})},`${g.type}-${g.id}`)})]}),x.players.length>0&&u.jsxs("div",{children:[u.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Players"}),x.players.map(g=>{const b=(t==null?void 0:t.has(`${g.type}:${g.id}`))??!1;return u.jsx("button",{type:"button",ref:w=>{m.current.set(`${g.type}-${g.id}`,w)},onClick:()=>{r(g),o(""),l(!1)},onMouseEnter:()=>{const w=y.get(`${g.type}-${g.id}`);typeof w=="number"&&d(w)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${c===y.get(`${g.type}-${g.id}`)?"bg-white/10 border-white/10":""} ${b?"bg-white/15 border-white/20":""}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[g.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:g.icon}):null,u.jsx("span",{className:"truncate",children:g.label})]})},`${g.type}-${g.id}`)})]})]})})]})},dr=({options:e,selectedIds:t,onToggle:n,onClear:r,className:a="",buttonLabel:i="Columns",buttonIcon:o})=>{const[s,l]=v.useState(!1),c=v.useRef(null),d=new Set(t);return v.useEffect(()=>{const f=p=>{c.current&&(c.current.contains(p.target)||l(!1))};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]),u.jsxs("div",{ref:c,className:`relative ${a}`,children:[u.jsxs("button",{type:"button",onClick:()=>l(f=>!f),className:"flex items-center gap-2 rounded-lg border border-white/10 bg-white/5 px-3 py-1 text-xs font-semibold text-gray-300 hover:text-white hover:border-white/30 transition-colors",children:[o?u.jsx("span",{className:"h-3.5 w-3.5 text-gray-400",children:o}):null,u.jsx("span",{children:i}),t.length>0&&u.jsx("span",{className:"rounded-full bg-white/10 px-2 py-0.5 text-[10px] text-gray-200",children:t.length})]}),s&&u.jsxs("div",{className:"absolute z-20 mt-2 w-56 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between px-2 pb-2 text-[11px] uppercase tracking-widest text-gray-500",children:[u.jsx("span",{children:"Filter Columns"}),u.jsx("button",{type:"button",onClick:r,className:"text-gray-400 hover:text-white",children:"Clear"})]}),u.jsx("div",{className:"max-h-56 overflow-y-auto space-y-1 pr-1",children:e.length===0?u.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No columns"}):e.map(f=>u.jsx("button",{type:"button",onClick:()=>n(f.id),className:`w-full text-left px-2 py-1.5 rounded-lg border transition-colors ${d.has(f.id)?"bg-white/10 border-white/20 text-white":"border-transparent text-gray-300 hover:bg-white/5 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`h-2.5 w-2.5 rounded-full border ${d.has(f.id)?"bg-emerald-400/80 border-emerald-300":"border-gray-500"}`}),f.icon?u.jsx("span",{className:"flex h-4 w-4 items-center justify-center shrink-0",children:f.icon}):null,u.jsx("span",{className:"truncate max-w-[140px]",children:f.label})]})},f.id))})]})]})},tae=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,sidebarListClass:s,apmSpecAvailable:l,skillUsageAvailable:c,apmSpecTables:d,activeApmSpec:f,setActiveApmSpec:p,expandedApmSpec:m,setExpandedApmSpec:h,activeApmSkillId:y,setActiveApmSkillId:x,ALL_SKILLS_KEY:g,apmSkillSearch:b,setApmSkillSearch:w,activeApmSpecTable:S,activeApmSkill:C,isAllApmSkills:j,apmView:M,setApmView:P,formatApmValue:$,formatCastRateValue:E,formatCastCountValue:_,renderProfessionIcon:D})=>{var J;const[Q,Y]=v.useState({key:"apm",dir:"desc"}),fe=e==="apm-stats",[K,I]=v.useState({columnId:"",dir:"desc"}),[te,k]=v.useState([]),[R,A]=v.useState([]),[N,B]=v.useState({}),G=fe?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${s} max-h-72 overflow-y-auto`,V=X=>{Y(O=>({key:X,dir:O.key===X&&O.dir==="desc"?"asc":"desc"}))},H=v.useMemo(()=>{const X=[...(S==null?void 0:S.playerRows)||[]];return X.sort((O,ee)=>{const me=Q.key==="apm"?Number(M==="perSecond"?O.aps:O.apm):Number(M==="perSecond"?O.apsNoAuto:O.apmNoAuto),L=Q.key==="apm"?Number(M==="perSecond"?ee.aps:ee.apm):Number(M==="perSecond"?ee.apsNoAuto:ee.apmNoAuto);return(Q.dir==="desc"?L-me:me-L)||String(O.displayName||"").localeCompare(String(ee.displayName||""))}),X},[S,Q,M]);return u.jsxs("div",{id:"apm-stats","data-section-visible":a("apm-stats"),"data-section-first":i("apm-stats"),className:o("apm-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="apm-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(b1,{className:"w-5 h-5 text-emerald-300"}),"APM Breakdown"]}),u.jsxs("div",{className:"flex items-center gap-3 relative",children:[u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[d.length," ",d.length===1?"spec":"specs"]}),u.jsx("button",{type:"button",onClick:()=>e==="apm-stats"?r():n("apm-stats"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="apm-stats"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="apm-stats"?"Close APM Breakdown":"Expand APM Breakdown",title:e==="apm-stats"?"Close":"Expand",children:e==="apm-stats"?u.jsx(Ba,{className:"w-4 h-4"}):u.jsx(ki,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:e==="apm-stats"?"flex-1 min-h-0 flex flex-col":"",children:l?u.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="apm-stats"?"flex-1 min-h-0 h-full":""}`,children:[u.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="apm-stats"?"h-full":""}`,children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Elite Specs"}),u.jsx("div",{className:"mb-2",children:u.jsx("input",{type:"text",value:b,onChange:X=>w(X.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"})}),u.jsx("div",{className:G,children:d.map(X=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const O=f!==X.profession;p(X.profession),h(O?X.profession:m===X.profession?null:X.profession),O&&(x(g),k([]),A([]))},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${f===X.profession?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[D(X.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:X.profession})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:u.jsxs("span",{className:"text-[10px]",children:[X.players.length,"p"]})})]})}),!fe&&m===X.profession&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:N[X.profession]||"",onChange:O=>{const ee=O.target.value;B(me=>({...me,[X.profession]:ee}))},placeholder:"Filter this spec...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"}),u.jsx("button",{type:"button",onClick:()=>{p(X.profession),x(g)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===X.profession&&j?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Skills"}),(X.skills||[]).filter(O=>{const ee=(N[X.profession]||"").trim().toLowerCase();return ee?String(O.name||"").toLowerCase().includes(ee):!0}).map(O=>u.jsx("button",{type:"button",onClick:()=>{p(X.profession),x(O.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===X.profession&&y===O.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:O.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[O.icon?u.jsx("img",{src:O.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate",children:O.name})]})},O.id)),(X.skills||[]).filter(O=>{const ee=(N[X.profession]||"").trim().toLowerCase();return ee?String(O.name||"").toLowerCase().includes(ee):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},X.profession))})]}),u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="apm-stats"?"flex flex-col min-h-0":""}`,children:S?u.jsxs("div",{className:e==="apm-stats"?"flex flex-col min-h-0":"",children:[fe&&(()=>{const X=S.skills||[],O=(S.playerRows||[]).map(ne=>({id:ne.key,label:ne.displayName||ne.account||ne.key,icon:D(ne.profession,ne.professionList,"w-3 h-3")})),ee=X.map(ne=>({id:ne.id,label:ne.name,icon:ne.icon?u.jsx("img",{src:ne.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),me=[...X.map(ne=>({id:ne.id,label:ne.name,type:"column",icon:ne.icon?u.jsx("img",{src:ne.icon,alt:"",className:"h-4 w-4"}):void 0})),...(S.playerRows||[]).map(ne=>({id:ne.key,label:ne.displayName||ne.account||ne.key,type:"player",icon:D(ne.profession,ne.professionList,"w-3 h-3")}))],L=new Set([...te.map(ne=>`column:${ne}`),...R.map(ne=>`player:${ne}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"APM"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(po,{options:me,selectedIds:L,onSelect:ne=>{ne.type==="column"?k(z=>z.includes(ne.id)?z.filter(F=>F!==ne.id):[...z,ne.id]):A(z=>z.includes(ne.id)?z.filter(F=>F!==ne.id):[...z,ne.id])},className:"w-full sm:w-64"}),u.jsx(dr,{options:ee,selectedIds:te,onToggle:ne=>{k(z=>z.includes(ne)?z.filter(F=>F!==ne):[...z,ne])},onClear:()=>k([]),buttonLabel:"Columns",buttonIcon:u.jsx(co,{className:"h-3.5 w-3.5"})}),u.jsx(dr,{options:O,selectedIds:R,onToggle:ne=>{A(z=>z.includes(ne)?z.filter(F=>F!==ne):[...z,ne])},onClear:()=>A([]),buttonLabel:"Players",buttonIcon:u.jsx(Ar,{className:"h-3.5 w-3.5"})}),u.jsx(Mn,{value:M,onChange:P,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(te.length>0||R.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{k([]),A([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),te.map(ne=>{var z;const F=((z=X.find(oe=>oe.id===ne))==null?void 0:z.name)||ne;return u.jsxs("button",{type:"button",onClick:()=>k(oe=>oe.filter(ye=>ye!==ne)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:F}),u.jsx("span",{className:"text-gray-400",children:""})]},ne)}),R.map(ne=>{var z;const F=((z=O.find(oe=>oe.id===ne))==null?void 0:z.label)||ne;return u.jsxs("button",{type:"button",onClick:()=>A(oe=>oe.filter(ye=>ye!==ne)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:F}),u.jsx("span",{className:"text-gray-400",children:""})]},ne)})]})]})})(),fe?(()=>{var X,O;const ee=S.skills||[],me=te.length>0?ee.filter(F=>te.includes(F.id)):ee,L=R.length>0?(S.playerRows||[]).filter(F=>R.includes(F.key)):S.playerRows||[];if(ee.length===0)return u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No skills available for this class."});const ne=((X=me.find(F=>F.id===K.columnId))==null?void 0:X.id)||((O=me[0])==null?void 0:O.id)||"",z=[...L].map(F=>{const oe={},ye={};return me.forEach(Qe=>{var le;const qe=Number(((le=Qe.playerCounts)==null?void 0:le.get(F.key))||0),Pe=M==="perSecond"?qe/Math.max(1,F.totalActiveSeconds||0):qe;ye[Qe.id]=Pe,oe[Qe.id]=M==="perSecond"?E(Pe):_(Pe)}),{row:F,values:oe,numericValues:ye}}).sort((F,oe)=>{const ye=F.numericValues[ne]??0,Qe=oe.numericValues[ne]??0;return(K.dir==="desc"?Qe-ye:ye-Qe)||String(F.row.displayName||"").localeCompare(String(oe.row.displayName||""))});return u.jsx(fo,{title:"APM - Dense View",subtitle:"Skills",sortColumnId:ne,sortDirection:K.dir,onSortColumn:F=>{I(oe=>({columnId:F,dir:oe.columnId===F&&oe.dir==="desc"?"asc":"desc"}))},columns:me.map(F=>({id:F.id,label:u.jsx(kr,{name:F.name,iconUrl:F.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:z.map((F,oe)=>({id:`${S.profession}-${F.row.key}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:oe+1}),D(F.row.profession,F.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:F.row.displayName})]}),values:F.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"min-w-0 text-sm font-semibold text-gray-200",children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[D(S.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:S.profession}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),j||!C?u.jsx("span",{className:"truncate",children:"All Skills"}):u.jsx(kr,{name:C.name,iconUrl:C.icon,iconClassName:"h-5 w-5"})]})}),u.jsx("div",{className:"text-[11px] text-gray-500",children:j||!C?`${((J=S.playerRows)==null?void 0:J.length)||0} players`:`${(C==null?void 0:C.totalCasts)??0} casts`})]}),j||!C?u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.7fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>V("apm"),className:`text-right transition-colors ${Q.key==="apm"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[M==="perSecond"?"APS":"APM",Q.key==="apm"?Q.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>V("apmNoAuto"),className:`text-right transition-colors ${Q.key==="apmNoAuto"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[M==="perSecond"?"APS":"APM"," (No Auto)",Q.key==="apmNoAuto"?Q.dir==="desc"?" ":" ":""]})]}):u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.4fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsx("div",{className:"text-right",children:"Casts"}),u.jsx("div",{className:"text-right",children:M==="perSecond"?"APS":"APM"})]})]}),j||!C?u.jsx(u.Fragment,{children:u.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:H.map((X,O)=>u.jsxs("div",{className:"grid grid-cols-[1.6fr_0.7fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${O+1}`}),D(X.profession,X.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:X.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:$(M==="perSecond"?X.aps:X.apm)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:$(M==="perSecond"?X.apsNoAuto:X.apmNoAuto)})]},`${S.profession}-all-${X.key}`))})}):u.jsx(u.Fragment,{children:u.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:((C==null?void 0:C.playerRows)||[]).length===0?u.jsx("div",{className:"px-4 py-8 text-center text-sm text-gray-500 italic border-t border-white/5",children:"No player rows available for this skill."}):((C==null?void 0:C.playerRows)||[]).map((X,O)=>u.jsxs("div",{className:"grid grid-cols-[1.4fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${O+1}`}),D(X.profession,X.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:X.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:_(Number(X.count||0))}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:$(Number(M==="perSecond"?X.aps||0:X.apm||0))})]},`${S.profession}-${C.id}-${X.key}`))})})]})]}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select an elite spec to view APM details"})})]}):u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:c?"No APM data available for the current selection.":"Upload or highlight logs with rotation data to enable the APM table."})})]})},nae=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,sidebarListClass:s,viewMode:l,setViewMode:c,playerSkillBreakdowns:d,classSkillBreakdowns:f,activePlayerKey:p,setActivePlayerKey:m,expandedPlayerKey:h,setExpandedPlayerKey:y,activePlayerSkillId:x,setActivePlayerSkillId:g,activeClassKey:b,setActiveClassKey:w,expandedClassKey:S,setExpandedClassKey:C,activeClassSkillId:j,setActiveClassSkillId:M,skillSearch:P,setSkillSearch:$,activePlayerBreakdown:E,activePlayerSkill:_,activeClassBreakdown:D,activeClassSkill:J,renderProfessionIcon:Q})=>{const Y=d.length,fe=((E==null?void 0:E.skills)||[]).reduce((z,F)=>z+(F.damage||0),0),K=(D==null?void 0:D.players)||[],[I,te]=v.useState({key:"down",dir:"desc"}),k=e==="player-breakdown",[R,A]=v.useState([]),[N,B]=v.useState([]),[G,V]=v.useState({columnId:"",dir:"desc"}),[H,X]=v.useState({}),[O,ee]=v.useState({}),me=k?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${s} max-h-72 overflow-y-auto`,L=v.useMemo(()=>{if(!D||!J)return K;const z=[...K];return z.sort((F,oe)=>{var ye,Qe;const le=(ye=F.skillMap)==null?void 0:ye[J.id],qe=(Qe=oe.skillMap)==null?void 0:Qe[J.id],Pe=Number((le==null?void 0:le.downContribution)||0),ct=Number((qe==null?void 0:qe.downContribution)||0),en=Number((le==null?void 0:le.damage)||0),En=Number((qe==null?void 0:qe.damage)||0),Br=F.totalFightMs>0?en/(F.totalFightMs/1e3):0,ue=oe.totalFightMs>0?En/(oe.totalFightMs/1e3):0;let De=0;return I.key==="down"&&(De=Pe-ct),I.key==="damage"&&(De=en-En),I.key==="dps"&&(De=Br-ue),I.dir==="asc"?De:-De}),z},[D,K,J,I]),ne=z=>{te(F=>F.key!==z?{key:z,dir:"desc"}:{key:z,dir:F.dir==="desc"?"asc":"desc"})};return u.jsxs("div",{id:"player-breakdown","data-section-visible":a("player-breakdown"),"data-section-first":i("player-breakdown"),className:o("player-breakdown",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="player-breakdown"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(g1,{className:"w-5 h-5 text-sky-300"}),"Player Breakdown"]}),u.jsxs("div",{className:"flex items-center gap-3 relative",children:[u.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[Y," ",Y===1?"player":"players"]}),u.jsx("button",{type:"button",onClick:()=>e==="player-breakdown"?r():n("player-breakdown"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="player-breakdown"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="player-breakdown"?"Close Player Breakdown":"Expand Player Breakdown",title:e==="player-breakdown"?"Close":"Expand",children:e==="player-breakdown"?u.jsx(Ba,{className:"w-4 h-4"}):u.jsx(ki,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:e==="player-breakdown"?"flex-1 min-h-0 flex flex-col":"",children:d.length===0?u.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:"No player skill damage data available for the current selection."}):u.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="player-breakdown"?"flex-1 min-h-0 h-full":""}`,children:[u.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="player-breakdown"?"h-full":""}`,children:[u.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:k?"Squad Classes":l==="player"?"Squad Players":"Squad Classes"}),!k&&u.jsx("div",{className:"flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"player",label:"Player"},{id:"class",label:"Class"}].map(z=>{const F=l===z.id;return u.jsx("button",{type:"button",onClick:()=>c(z.id),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${F?"bg-sky-500/30 text-sky-100":"text-gray-400 hover:text-white"}`,children:z.label},z.id)})})]}),u.jsx("div",{className:"mb-2",children:u.jsx("input",{type:"text",value:P,onChange:z=>$(z.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"})}),u.jsx("div",{className:me,children:(k?"class":l)==="player"?d.map(z=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const F=p!==z.key;F&&(g(null),A([]),B([])),m(z.key),y(F?z.key:h===z.key?null:z.key)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${p===z.key?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:z.displayName,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Q(z.profession,z.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate min-w-0",children:z.displayName})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400 shrink-0",children:u.jsxs("span",{className:"text-[10px] whitespace-nowrap",children:[z.skills.length," skills"]})})]})}),!k&&h===z.key&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:H[z.key]||"",onChange:F=>{const oe=F.target.value;X(ye=>({...ye,[z.key]:oe}))},placeholder:"Filter this player's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),z.skills.filter(F=>{const oe=(H[z.key]||"").trim().toLowerCase();return oe?String(F.name||"").toLowerCase().includes(oe):!0}).map(F=>u.jsx("button",{type:"button",onClick:()=>{m(z.key),g(F.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${p===z.key&&x===F.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:F.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[F.icon?u.jsx("img",{src:F.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate",children:F.name})]})},F.id)),z.skills.filter(F=>{const oe=(H[z.key]||"").trim().toLowerCase();return oe?String(F.name||"").toLowerCase().includes(oe):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},z.key)):f.map(z=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("button",{onClick:()=>{const F=b!==z.profession;F&&(M(null),A([]),B([])),w(z.profession),C(F?z.profession:S===z.profession?null:z.profession)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${b===z.profession?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Q(z.profession,void 0,"w-4 h-4"),u.jsx("span",{className:"truncate",children:z.profession})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:u.jsxs("span",{className:"text-[10px]",children:[z.players.length,"p"]})})]})}),!k&&S===z.profession&&u.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[u.jsx("input",{type:"text",value:O[z.profession]||"",onChange:F=>{const oe=F.target.value;ee(ye=>({...ye,[z.profession]:oe}))},placeholder:"Filter this class's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),z.skills.filter(F=>{const oe=(O[z.profession]||"").trim().toLowerCase();return oe?String(F.name||"").toLowerCase().includes(oe):!0}).map(F=>u.jsx("button",{type:"button",onClick:()=>{w(z.profession),M(F.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${b===z.profession&&j===F.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:F.name,children:u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[F.icon?u.jsx("img",{src:F.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,u.jsx("span",{className:"truncate",children:F.name})]})},F.id)),z.skills.filter(F=>{const oe=(O[z.profession]||"").trim().toLowerCase();return oe?String(F.name||"").toLowerCase().includes(oe):!0}).length===0&&u.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},z.profession))})]}),u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="player-breakdown"?"flex flex-col min-h-0":""}`,children:(k?"class":l)==="player"?!E||!k&&!_?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a player and skill to view breakdown details"}):u.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[k&&(()=>{const z=E.skills||[],F=d.map(le=>({id:le.key,label:le.displayName||le.key,icon:Q(le.profession,le.professionList,"w-3 h-3")})),oe=z.map(le=>({id:le.id,label:le.name,icon:le.icon?u.jsx("img",{src:le.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),ye=[...z.map(le=>({id:le.id,label:le.name,type:"column",icon:le.icon?u.jsx("img",{src:le.icon,alt:"",className:"h-4 w-4"}):void 0})),...d.map(le=>({id:le.key,label:le.displayName||le.key,type:"player",icon:Q(le.profession,le.professionList,"w-3 h-3")}))],Qe=new Set([...R.map(le=>`column:${le}`),...N.map(le=>`player:${le}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Player Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(po,{options:ye,selectedIds:Qe,onSelect:le=>{le.type==="column"?A(qe=>qe.includes(le.id)?qe.filter(Pe=>Pe!==le.id):[...qe,le.id]):B(qe=>qe.includes(le.id)?qe.filter(Pe=>Pe!==le.id):[...qe,le.id])},className:"w-full sm:w-64"}),u.jsx(dr,{options:oe,selectedIds:R,onToggle:le=>{A(qe=>qe.includes(le)?qe.filter(Pe=>Pe!==le):[...qe,le])},onClear:()=>A([]),buttonLabel:"Columns",buttonIcon:u.jsx(co,{className:"h-3.5 w-3.5"})}),u.jsx(dr,{options:F,selectedIds:N,onToggle:le=>{B(qe=>qe.includes(le)?qe.filter(Pe=>Pe!==le):[...qe,le])},onClear:()=>B([]),buttonLabel:"Players",buttonIcon:u.jsx(Ar,{className:"h-3.5 w-3.5"})})]}),(R.length>0||N.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{A([]),B([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),R.map(le=>{var qe;const Pe=((qe=z.find(ct=>ct.id===le))==null?void 0:qe.name)||le;return u.jsxs("button",{type:"button",onClick:()=>A(ct=>ct.filter(en=>en!==le)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Pe}),u.jsx("span",{className:"text-gray-400",children:""})]},le)}),N.map(le=>{var qe;const Pe=((qe=F.find(ct=>ct.id===le))==null?void 0:qe.label)||le;return u.jsxs("button",{type:"button",onClick:()=>B(ct=>ct.filter(en=>en!==le)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Pe}),u.jsx("span",{className:"text-gray-400",children:""})]},le)})]})]})})(),k?(()=>{var z,F;const oe=E.skills||[],ye=R.length>0?oe.filter(Pe=>R.includes(Pe.id)):oe,Qe=N.length>0?d.filter(Pe=>N.includes(Pe.key)):d,le=((z=ye.find(Pe=>Pe.id===G.columnId))==null?void 0:z.id)||((F=ye[0])==null?void 0:F.id)||"",qe=Qe.map(Pe=>{const ct={},en={};return ye.forEach(En=>{var Br;const ue=(Br=Pe.skillMap)==null?void 0:Br[En.id],De=Number((ue==null?void 0:ue.damage)||0);en[En.id]=De,ct[En.id]=zs(De)}),{player:Pe,values:ct,numericValues:en}}).sort((Pe,ct)=>{const en=Pe.numericValues[le]??0,En=ct.numericValues[le]??0;return(G.dir==="desc"?En-en:en-En)||String(Pe.player.displayName||"").localeCompare(String(ct.player.displayName||""))});return u.jsx(fo,{title:"Player Breakdown - Dense View",subtitle:"Damage",sortColumnId:le,sortDirection:G.dir,onSortColumn:Pe=>{V(ct=>({columnId:Pe,dir:ct.columnId===Pe&&ct.dir==="desc"?"asc":"desc"}))},columns:ye.map(Pe=>({id:Pe.id,label:u.jsx(kr,{name:Pe.name,iconUrl:Pe.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:qe.map((Pe,ct)=>({id:`${Pe.player.key}-${ct}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:ct+1}),Q(Pe.player.profession,Pe.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Pe.player.displayName})]}),values:Pe.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:u.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Q(E.profession,E.professionList,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:E.displayName}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),u.jsx("div",{className:"text-sm font-semibold text-gray-200 truncate",children:u.jsx(kr,{name:(_==null?void 0:_.name)||"",iconUrl:_==null?void 0:_.icon,iconClassName:"h-6 w-6"})})]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[E.skills.length," skills | ",zs(fe)," total damage"]})]})}),u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.2fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Metric"}),u.jsx("div",{className:"text-right",children:"Value"})]})]}),u.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:[{label:"Down Contribution",value:zs((_==null?void 0:_.downContribution)||0)},{label:"Total Damage",value:zs((_==null?void 0:_.damage)||0)},{label:"DPS",value:Ti(E.totalFightMs>0?((_==null?void 0:_.damage)||0)/(E.totalFightMs/1e3):0,1)}].map(z=>u.jsxs("div",{className:"grid grid-cols-[1.2fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"font-semibold text-white",children:z.label}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:z.value})]},z.label))})]})]}):!D||!k&&!J?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a class and skill to view breakdown details"}):u.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[k&&(()=>{const z=D.skills||[],F=K.map(le=>({id:le.key,label:le.displayName||le.key,icon:Q(le.profession,le.professionList,"w-3 h-3")})),oe=z.map(le=>({id:le.id,label:le.name,icon:le.icon?u.jsx("img",{src:le.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),ye=[...z.map(le=>({id:le.id,label:le.name,type:"column",icon:le.icon?u.jsx("img",{src:le.icon,alt:"",className:"h-4 w-4"}):void 0})),...K.map(le=>({id:le.key,label:le.displayName||le.key,type:"player",icon:Q(le.profession,le.professionList,"w-3 h-3")}))],Qe=new Set([...R.map(le=>`column:${le}`),...N.map(le=>`player:${le}`)]);return u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Class Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(po,{options:ye,selectedIds:Qe,onSelect:le=>{le.type==="column"?A(qe=>qe.includes(le.id)?qe.filter(Pe=>Pe!==le.id):[...qe,le.id]):B(qe=>qe.includes(le.id)?qe.filter(Pe=>Pe!==le.id):[...qe,le.id])},className:"w-full sm:w-64"}),u.jsx(dr,{options:oe,selectedIds:R,onToggle:le=>{A(qe=>qe.includes(le)?qe.filter(Pe=>Pe!==le):[...qe,le])},onClear:()=>A([]),buttonLabel:"Columns",buttonIcon:u.jsx(co,{className:"h-3.5 w-3.5"})}),u.jsx(dr,{options:F,selectedIds:N,onToggle:le=>{B(qe=>qe.includes(le)?qe.filter(Pe=>Pe!==le):[...qe,le])},onClear:()=>B([]),buttonLabel:"Players",buttonIcon:u.jsx(Ar,{className:"h-3.5 w-3.5"})})]}),(R.length>0||N.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{A([]),B([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),R.map(le=>{var qe;const Pe=((qe=z.find(ct=>ct.id===le))==null?void 0:qe.name)||le;return u.jsxs("button",{type:"button",onClick:()=>A(ct=>ct.filter(en=>en!==le)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Pe}),u.jsx("span",{className:"text-gray-400",children:""})]},le)}),N.map(le=>{var qe;const Pe=((qe=F.find(ct=>ct.id===le))==null?void 0:qe.label)||le;return u.jsxs("button",{type:"button",onClick:()=>B(ct=>ct.filter(en=>en!==le)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:Pe}),u.jsx("span",{className:"text-gray-400",children:""})]},le)})]})]})})(),k?(()=>{var z,F;const oe=D.skills||[],ye=R.length>0?oe.filter(Pe=>R.includes(Pe.id)):oe,Qe=N.length>0?K.filter(Pe=>N.includes(Pe.key)):K,le=((z=ye.find(Pe=>Pe.id===G.columnId))==null?void 0:z.id)||((F=ye[0])==null?void 0:F.id)||"",qe=Qe.map(Pe=>{const ct={},en={};return ye.forEach(En=>{var Br;const ue=(Br=Pe.skillMap)==null?void 0:Br[En.id],De=Number((ue==null?void 0:ue.damage)||0);en[En.id]=De,ct[En.id]=zs(De)}),{player:Pe,values:ct,numericValues:en}}).sort((Pe,ct)=>{const en=Pe.numericValues[le]??0,En=ct.numericValues[le]??0;return(G.dir==="desc"?En-en:en-En)||String(Pe.player.displayName||"").localeCompare(String(ct.player.displayName||""))});return u.jsx(fo,{title:"Class Breakdown - Dense View",subtitle:"Damage",sortColumnId:le,sortDirection:G.dir,onSortColumn:Pe=>{V(ct=>({columnId:Pe,dir:ct.columnId===Pe&&ct.dir==="desc"?"asc":"desc"}))},columns:ye.map(Pe=>({id:Pe.id,label:u.jsx(kr,{name:Pe.name,iconUrl:Pe.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:qe.map((Pe,ct)=>({id:`${Pe.player.key}-${ct}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:ct+1}),Q(Pe.player.profession,Pe.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:Pe.player.displayName})]}),values:Pe.values}))})})():u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:u.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Q(D.profession,void 0,"w-4 h-4"),u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:D.profession}),u.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),u.jsx("div",{className:"text-sm font-semibold text-gray-200 truncate",children:u.jsx(kr,{name:(J==null?void 0:J.name)||"",iconUrl:J==null?void 0:J.icon,iconClassName:"h-6 w-6"})})]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[K.length," players | ",D.skills.length," skills"]})]})}),u.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>ne("down"),className:`text-right flex items-center justify-end gap-1 transition-colors ${I.key==="down"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Down Contrib",u.jsx("span",{className:"text-[10px]",children:I.key==="down"?I.dir==="desc"?"":"":""})]}),u.jsxs("button",{type:"button",onClick:()=>ne("damage"),className:`text-right flex items-center justify-end gap-1 transition-colors ${I.key==="damage"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage",u.jsx("span",{className:"text-[10px]",children:I.key==="damage"?I.dir==="desc"?"":"":""})]}),u.jsxs("button",{type:"button",onClick:()=>ne("dps"),className:`text-right flex items-center justify-end gap-1 transition-colors ${I.key==="dps"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["DPS",u.jsx("span",{className:"text-[10px]",children:I.key==="dps"?I.dir==="desc"?"":"":""})]})]})]}),u.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:L.map(z=>{var F;const oe=(F=z.skillMap)==null?void 0:F[(J==null?void 0:J.id)||""],ye=Number((oe==null?void 0:oe.downContribution)||0),Qe=Number((oe==null?void 0:oe.damage)||0),le=z.totalFightMs>0?Qe/(z.totalFightMs/1e3):0;return u.jsxs("div",{className:"grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Q(z.profession,z.professionList,"w-4 h-4"),u.jsx("div",{className:"min-w-0",children:u.jsx("div",{className:"font-semibold text-white truncate",children:z.displayName})})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:zs(ye)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:zs(Qe)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:Ti(le,1)})]},`${D.profession}-${z.key}`)})})]})]})})]})})]})},As=({expanded:e,className:t="",sidebarClassName:n="",contentClassName:r="",sidebar:a,content:i})=>u.jsxs("div",{className:`stats-table-layout grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e?"flex-1 min-h-0 h-full":""} ${t}`,children:[u.jsx("div",{className:`stats-table-layout__sidebar ${n}`,children:a}),u.jsx("div",{className:`stats-table-layout__content ${r}`,children:i})]}),Es=({header:e,columns:t,rows:n,expanded:r,maxHeightClass:a="max-h-80"})=>u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"stats-table-shell__head-stack",children:[u.jsx("div",{className:"stats-table-shell__header",children:e}),u.jsx("div",{className:"stats-table-shell__columns",children:t})]}),u.jsx("div",{className:`stats-table-shell__rows ${r?"flex-1 min-h-0 overflow-y-auto":`${a} overflow-y-auto`}`,children:n})]}),rae=({stats:e,OFFENSE_METRICS:t,roundCountStats:n,offenseSearch:r,setOffenseSearch:a,activeOffenseStat:i,setActiveOffenseStat:o,offenseViewMode:s,setOffenseViewMode:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:p,openExpandedSection:m,closeExpandedSection:h,isSectionVisible:y,isFirstVisibleSection:x,sectionClass:g,sidebarListClass:b})=>{var w;const[S,C]=v.useState({key:"value",dir:"desc"}),[j,M]=v.useState({columnId:((w=t[0])==null?void 0:w.id)||"value",dir:"desc"}),P=f==="offense-detailed",[$,E]=v.useState([]),[_,D]=v.useState([]),J=t.filter(k=>k.label.toLowerCase().includes(r.trim().toLowerCase())),Q=t.map(k=>({id:k.id,label:k.label})),Y=Q.filter(k=>k.label.toLowerCase().includes(r.trim().toLowerCase())),fe=$.length>0?t.filter(k=>$.includes(k.id)):t,K=Array.from(new Map(e.offensePlayers.map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:d(k.profession,k.professionList,"w-3 h-3")})),I=new Set([...$.map(k=>`column:${k}`),..._.map(k=>`player:${k}`)]),te=k=>{C(R=>({key:k,dir:R.key===k&&R.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"offense-detailed","data-section-visible":y("offense-detailed"),"data-section-first":x("offense-detailed"),className:g("offense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="offense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Ph,{className:"w-5 h-5 text-rose-300"}),"Offenses - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>f==="offense-detailed"?h():m("offense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="offense-detailed"?"Close Offense Detailed":"Expand Offense Detailed",title:f==="offense-detailed"?"Close":"Expand",children:f==="offense-detailed"?u.jsx(Ba,{className:"w-4 h-4"}):u.jsx(ki,{className:"w-4 h-4"})})]}),e.offensePlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No offensive stats available"}):P?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(po,{options:[...Q.map(k=>({...k,type:"column"})),...K.map(k=>({...k,type:"player"}))],onSelect:k=>{k.type==="column"?E(R=>R.includes(k.id)?R.filter(A=>A!==k.id):[...R,k.id]):D(R=>R.includes(k.id)?R.filter(A=>A!==k.id):[...R,k.id])},selectedIds:I,className:"w-full sm:w-64"}),u.jsx(dr,{options:Y,selectedIds:$,onToggle:k=>{E(R=>R.includes(k)?R.filter(A=>A!==k):[...R,k])},onClear:()=>E([]),buttonIcon:u.jsx(co,{className:"h-3.5 w-3.5"})}),u.jsx(dr,{options:K,selectedIds:_,onToggle:k=>{D(R=>R.includes(k)?R.filter(A=>A!==k):[...R,k])},onClear:()=>D([]),buttonLabel:"Players",buttonIcon:u.jsx(Ar,{className:"h-3.5 w-3.5"})}),u.jsx(Mn,{value:s,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),($.length>0||_.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{E([]),D([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),$.map(k=>{var R;const A=((R=Q.find(N=>N.id===k))==null?void 0:R.label)||k;return u.jsxs("button",{type:"button",onClick:()=>E(N=>N.filter(B=>B!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:A}),u.jsx("span",{className:"text-gray-400",children:""})]},k)}),_.map(k=>u.jsxs("button",{type:"button",onClick:()=>D(R=>R.filter(A=>A!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:k}),u.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:J.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No offensive stats match this filter"}):(()=>{var k,R;const A=H=>Math.max(1,(H.totalFightMs||0)/1e3),N=(H,X,O)=>{var ee,me,L,ne,z;if(X==="downContributionPercent"){const F=((ee=H.offenseTotals)==null?void 0:ee.downContribution)||0,oe=((me=H.offenseTotals)==null?void 0:me.damage)||0;return oe>0?F/oe*100:0}if(O.isRate){const F=((L=H.offenseRateWeights)==null?void 0:L[X])||0,oe=((ne=H.offenseTotals)==null?void 0:ne[X])||0;return F>0?oe/F*100:0}return((z=H.offenseTotals)==null?void 0:z[X])||0},B=(H,X)=>{const O=n&&!X.isPercent&&s==="total"?0:2,ee=c(H,O);return X.isPercent?`${ee}%`:ee},G=((k=fe.find(H=>H.id===j.columnId))==null?void 0:k.id)||((R=fe[0])==null?void 0:R.id)||"",V=[...e.offensePlayers].filter(H=>_.length===0||_.includes(H.account)).map(H=>{const X={},O={};return fe.forEach(ee=>{const me=N(H,ee.id,ee),L=s==="total"||ee.isPercent||ee.isRate?me:s==="per1s"?me/A(H):me*60/A(H);O[ee.id]=L,X[ee.id]=B(L,ee)}),{row:H,values:X,numericValues:O}}).sort((H,X)=>{const O=H.numericValues[G]??0,ee=X.numericValues[G]??0;return(j.dir==="desc"?ee-O:O-ee)||String(H.row.account||"").localeCompare(String(X.row.account||""))});return u.jsx(fo,{title:"Offense - Dense View",subtitle:"Offensive",sortColumnId:G,sortDirection:j.dir,onSortColumn:H=>{M(X=>({columnId:H,dir:X.columnId===H&&X.dir==="desc"?"asc":"desc"}))},columns:fe.map(H=>({id:H.id,label:H.label,align:"right",minWidth:90})),rows:V.map((H,X)=>({id:`${H.row.account}-${X}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:X+1}),d(H.row.profession,H.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:H.row.account})]}),values:H.values}))})})()})]}):u.jsx(As,{expanded:f==="offense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="offense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="offense-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),u.jsx("input",{value:r,onChange:k=>a(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${b} ${f==="offense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:J.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No offensive stats match this filter"}):J.map(k=>u.jsx("button",{onClick:()=>o(k.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===k.id?"bg-rose-500/20 text-rose-200 border-rose-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:k.label},k.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const k=t.find(G=>G.id===i)||t[0],R=G=>Math.max(1,(G.totalFightMs||0)/1e3),A=G=>{var V,H,X,O,ee;if(k.id==="downContributionPercent"){const me=((V=G.offenseTotals)==null?void 0:V.downContribution)||0,L=((H=G.offenseTotals)==null?void 0:H.damage)||0;return L>0?me/L*100:0}if(k.isRate){const me=((X=G.offenseRateWeights)==null?void 0:X[k.id])||0,L=((O=G.offenseTotals)==null?void 0:O[k.id])||0;return me>0?L/me*100:0}return((ee=G.offenseTotals)==null?void 0:ee[k.id])||0},N=G=>{const V=n&&!k.isPercent&&s==="total"?0:2,H=c(G,V);return k.isPercent?`${H}%`:H},B=[...e.offensePlayers].map(G=>({...G,total:A(G),per1s:k.isPercent||k.isRate?A(G):A(G)/R(G),per60s:k.isPercent||k.isRate?A(G):A(G)*60/R(G)})).sort((G,V)=>{const H=S.key==="fightTime"?Number(G.totalFightMs||0):Number(s==="total"?G.total:s==="per1s"?G.per1s:G.per60s),X=S.key==="fightTime"?Number(V.totalFightMs||0):Number(s==="total"?V.total:s==="per1s"?V.per1s:V.per60s);return(S.dir==="desc"?X-H:H-X)||G.account.localeCompare(V.account)});return u.jsx(Es,{expanded:f==="offense-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:k.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Offensive"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex items-center justify-end gap-2 px-4 py-2 bg-white/5",children:u.jsx(Mn,{value:s,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>te("value"),className:`text-right transition-colors ${S.key==="value"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",S.key==="value"?S.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>te("fightTime"),className:`text-right transition-colors ${S.key==="fightTime"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",S.key==="fightTime"?S.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:B.map((G,V)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:V+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(G.profession,G.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:G.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const H=s==="total"?G.total:s==="per1s"?G.per1s:G.per60s;return N(H)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:G.totalFightMs?`${(G.totalFightMs/1e3).toFixed(1)}s`:"-"})]},`${k.id}-${G.account}-${V}`))})})})()})})]})},aae=({conditionSummary:e,conditionPlayers:t,conditionSearch:n,setConditionSearch:r,activeConditionName:a,setActiveConditionName:i,conditionDirection:o,setConditionDirection:s,conditionGridClass:l,effectiveConditionSort:c,setConditionSort:d,showConditionDamage:f,renderProfessionIcon:p,expandedSection:m,expandedSectionClosing:h,openExpandedSection:y,closeExpandedSection:x,isSectionVisible:g,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:S})=>{var C;const j=m==="conditions-outgoing",[M,P]=v.useState([]),[$,E]=v.useState([]),[_,D]=v.useState({columnId:"all",dir:"desc"}),J=k=>{if(!k)return 0;if(o!=="outgoing"){const B=Number(k.applicationsFromUptime);return Number.isFinite(B)&&B>0?B:Number(k.applications||0)}const R=Number(k.applicationsFromUptime);if(Number.isFinite(R)&&R>0)return R;const A=Number(k.applicationsFromBuffsActive);if(Number.isFinite(A)&&A>0)return A;const N=Number(k.applicationsFromBuffs);return Number.isFinite(N)&&N>0?N:Number(k.applications||0)},Q=[...e||[]].sort((k,R)=>(R.damage||0)-(k.damage||0)),Y=Q.filter(k=>k.name.toLowerCase().includes(n.trim().toLowerCase())),fe=Y.map(k=>({id:k.name,label:k.name,icon:k.icon?u.jsx("img",{src:k.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),K=M.length>0?Q.filter(k=>M.includes(k.name)):Q,I=Array.from(new Map((t||[]).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:p(k.profession,k.professionList,"w-3 h-3")})),te=new Set([...M.map(k=>`column:${k}`),...$.map(k=>`player:${k}`)]);return u.jsxs("div",{id:"conditions-outgoing","data-section-visible":g("conditions-outgoing"),"data-section-first":b("conditions-outgoing"),className:w("conditions-outgoing",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="conditions-outgoing"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(n0,{className:"w-5 h-5 text-amber-300"}),"Conditions"]}),u.jsx("button",{type:"button",onClick:()=>m==="conditions-outgoing"?x():y("conditions-outgoing"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="conditions-outgoing"?"Close Outgoing Conditions":"Expand Outgoing Conditions",title:m==="conditions-outgoing"?"Close":"Expand",children:m==="conditions-outgoing"?u.jsx(Ba,{className:"w-4 h-4"}):u.jsx(ki,{className:"w-4 h-4"})})]}),e&&e.length>0?j?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(po,{options:[...Q.map(k=>({id:k.name,label:k.name,type:"column"})),...I.map(k=>({...k,type:"player"}))],onSelect:k=>{k.type==="column"?P(R=>R.includes(k.id)?R.filter(A=>A!==k.id):[...R,k.id]):E(R=>R.includes(k.id)?R.filter(A=>A!==k.id):[...R,k.id])},selectedIds:te,className:"w-full sm:w-64"}),u.jsx(dr,{options:fe,selectedIds:M,onToggle:k=>{P(R=>R.includes(k)?R.filter(A=>A!==k):[...R,k])},onClear:()=>P([]),buttonIcon:u.jsx(co,{className:"h-3.5 w-3.5"})}),u.jsx(dr,{options:I,selectedIds:$,onToggle:k=>{E(R=>R.includes(k)?R.filter(A=>A!==k):[...R,k])},onClear:()=>E([]),buttonLabel:"Players",buttonIcon:u.jsx(Ar,{className:"h-3.5 w-3.5"})}),u.jsx(Mn,{value:o,onChange:s,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),f&&u.jsx(Mn,{value:c.key,onChange:k=>d({key:k,dir:"desc"}),options:[{value:"applications",label:"Applications"},{value:"damage",label:"Damage"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:Y.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No conditions match this filter"}):(()=>{const k=c.key,R=[{id:"all",label:"All Conditions",icon:null},...K],A=(t||[]).filter(G=>$.length===0||$.includes(G.account)).map(G=>{const V=G.conditions||{},H={},X={};return R.forEach(O=>{if(O.id==="all"||O.name==="All Conditions"){const L=Object.values(V).reduce((z,F)=>{const oe=J(F);return z.applications+=Number(oe||0),z.damage+=Number((F==null?void 0:F.damage)||0),z},{applications:0,damage:0}),ne=k==="applications"?L.applications:L.damage;X.all=ne||0,H.all=Math.round(ne||0).toLocaleString();return}const ee=V[O.name],me=k==="applications"?J(ee):Number((ee==null?void 0:ee.damage)||0);X[O.name]=Number(me||0),H[O.name]=Math.round(me||0).toLocaleString()}),{player:G,values:H,numericValues:X}}).filter(G=>Object.values(G.values).some(V=>V!=="0")),N=["all",...K.map(G=>G.name)].includes(_.columnId)?_.columnId:"all",B=[...A].sort((G,V)=>{const H=G.numericValues[N]??0,X=V.numericValues[N]??0;return(_.dir==="desc"?X-H:H-X)||String(G.player.account||"").localeCompare(String(V.player.account||""))});return u.jsx(fo,{title:"Conditions - Dense View",subtitle:k==="applications"?"Applications":"Damage",sortColumnId:N,sortDirection:_.dir,onSortColumn:G=>{D(V=>({columnId:G,dir:V.columnId===G&&V.dir==="desc"?"asc":"desc"}))},columns:[{id:"all",label:"All",align:"right",minWidth:90},...K.map(G=>({id:G.name,label:u.jsx(kr,{name:G.name,iconUrl:G.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90}))],rows:B.map((G,V)=>({id:`${G.player.account}-${V}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:V+1}),p(G.player.profession,G.player.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:G.player.account})]}),values:G.values}))})})()}),(M.length>0||$.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{P([]),E([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),M.map(k=>u.jsxs("button",{type:"button",onClick:()=>P(R=>R.filter(A=>A!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:k}),u.jsx("span",{className:"text-gray-400",children:""})]},k)),$.map(k=>u.jsxs("button",{type:"button",onClick:()=>E(R=>R.filter(A=>A!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:k}),u.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}):u.jsx(As,{expanded:m==="conditions-outgoing",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="conditions-outgoing"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="conditions-outgoing"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),u.jsx("input",{value:n,onChange:k=>r(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${S} ${m==="conditions-outgoing"?"max-h-none flex-1 min-h-0":""}`,children:Y.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No conditions match this filter"}):u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:()=>i("all"),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a==="all"?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Conditions"}),Y.map(k=>u.jsx("button",{type:"button",onClick:()=>i(k.name),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===k.name?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(kr,{name:k.name,iconUrl:k.icon,iconClassName:"h-5 w-5"})},k.name))]})})]}),content:u.jsx(Es,{expanded:m==="conditions-outgoing",header:u.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:a==="all"?"All Conditions":u.jsx(kr,{name:a,iconUrl:(C=e.find(k=>k.name===a))==null?void 0:C.icon,iconClassName:"h-5 w-5"})}),u.jsxs("div",{className:"flex flex-col items-end gap-2 text-right ml-auto mt-2",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Squad Totals"}),u.jsx(Mn,{value:o,onChange:s,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),columns:u.jsxs("div",{className:`grid ${l} text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2`,children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>{d({key:"applications",dir:c.key==="applications"&&c.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${c.key==="applications"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Applications ",c.key==="applications"?c.dir==="desc"?"":"":""]}),f?u.jsxs("button",{type:"button",onClick:()=>{d({key:"damage",dir:c.key==="damage"&&c.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${c.key==="damage"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage ",c.key==="damage"?c.dir==="desc"?"":"":""]}):null]}),rows:u.jsx(u.Fragment,{children:(()=>{const k=(t||[]).map(R=>{const A=R.conditions||{};if(a==="all"){const B=Object.values(A).reduce((G,V)=>{const H=J(V);return G.applications+=Number(H||0),G.damage+=Number((V==null?void 0:V.damage)||0),G},{applications:0,damage:0});return{...R,applications:B.applications,damage:B.damage}}const N=A[a];return{...R,applications:J(N),damage:Number((N==null?void 0:N.damage)||0)}}).filter(R=>R.applications>0||R.damage>0).sort((R,A)=>{const N=c.key==="applications"?R.applications||0:R.damage||0,B=c.key==="applications"?A.applications||0:A.damage||0,G=c.dir==="desc"?B-N:N-B;if(G!==0)return G;const V=c.key==="applications"?(A.damage||0)-(R.damage||0):(A.applications||0)-(R.applications||0);return V!==0?V:String(R.account||"").localeCompare(String(A.account||""))});return k.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No condition data available"}):k.map((R,A)=>{var N;const B=R.conditions||{};let G={};a==="all"?Object.values(B).forEach(L=>{const ne=(L==null?void 0:L.skills)||{};Object.values(ne).forEach(z=>{const F=(z==null?void 0:z.name)||"Unknown",oe=Number((z==null?void 0:z.hits)||0),ye=Number((z==null?void 0:z.damage)||0);if((!Number.isFinite(oe)||oe<=0)&&(!Number.isFinite(ye)||ye<=0))return;const Qe=G[F]||{name:F,hits:0,damage:0,icon:z==null?void 0:z.icon};Qe.hits+=Number.isFinite(oe)?oe:0,Qe.damage+=Number.isFinite(ye)?ye:0,!Qe.icon&&z!=null&&z.icon&&(Qe.icon=z.icon),G[F]=Qe})}):G=((N=B[a])==null?void 0:N.skills)||{};const V=Object.values(G).filter(L=>Number.isFinite(L.hits)&&L.hits>0).sort((L,ne)=>ne.hits-L.hits||L.name.localeCompare(ne.name)),H=Object.values(G).filter(L=>Number.isFinite(L.damage)&&L.damage>0).sort((L,ne)=>ne.damage-L.damage||L.name.localeCompare(ne.name)),X=a==="all"&&V.length>0,O=a==="all"&&H.length>0,ee=Math.round(R.applications||0).toLocaleString(),me=Math.round(R.damage||0).toLocaleString();return u.jsxs("div",{className:`grid ${l} px-4 py-2 text-sm text-gray-200 border-t border-white/5`,children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:A+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[p(R.profession,R.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:R.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:X?u.jsx(DA,{value:ee,label:"Condition Sources",items:V.map(L=>({name:L.name,iconUrl:L.icon,value:Math.round(L.hits).toLocaleString()})),className:"justify-end"}):ee}),f?u.jsx("div",{className:"text-right font-mono text-gray-300",children:O?u.jsx(DA,{value:me,label:"Condition Damage Sources",items:H.map(L=>({name:L.name,iconUrl:L.icon,value:Math.round(L.damage).toLocaleString()})),className:"justify-end"}):me}):null]},`${R.account}-${A}`)})})()})})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No condition data available"})]})},iae=({stats:e,activeBoonCategory:t,setActiveBoonCategory:n,activeBoonMetric:r,setActiveBoonMetric:a,activeBoonTab:i,setActiveBoonTab:o,activeBoonTable:s,filteredBoonTables:l,boonSearch:c,setBoonSearch:d,formatBoonMetricDisplay:f,getBoonMetricValue:p,renderProfessionIcon:m,roundCountStats:h,expandedSection:y,expandedSectionClosing:x,openExpandedSection:g,closeExpandedSection:b,isSectionVisible:w,isFirstVisibleSection:S,sectionClass:C,sidebarListClass:j})=>{const[M,P]=v.useState({key:"value",dir:"desc"}),[$,E]=v.useState({columnId:"",dir:"desc"}),_=y==="boon-output",[D,J]=v.useState([]),[Q,Y]=v.useState([]),fe=e.boonTables||[],K=D.length>0?fe.filter(A=>D.includes(A.id)):fe,I=l.map(A=>({id:A.id,label:A.name,icon:A.icon?u.jsx("img",{src:A.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),te=Array.from(new Map((e.boonTables||[]).flatMap(A=>A.rows||[]).filter(A=>A.account).map(A=>[A.account,A])).values()).map(A=>({id:A.account,label:A.account,icon:m(A.profession,A.professionList,"w-3 h-3")})),k=new Set([...D.map(A=>`column:${A}`),...Q.map(A=>`player:${A}`)]),R=A=>{P(N=>({key:A,dir:N.key===A&&N.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"boon-output","data-section-visible":w("boon-output"),"data-section-first":S("boon-output"),className:C("boon-output",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${y==="boon-output"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${x?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(x1,{className:"w-5 h-5 text-cyan-400"}),"Boon Output"]}),u.jsx("button",{type:"button",onClick:()=>y==="boon-output"?b():g("boon-output"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":y==="boon-output"?"Close Boon Output":"Expand Boon Output",title:y==="boon-output"?"Close":"Expand",children:y==="boon-output"?u.jsx(Ba,{className:"w-4 h-4"}):u.jsx(ki,{className:"w-4 h-4"})})]}),e.boonTables.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No boon data available"}):_?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(po,{options:[...fe.map(A=>({id:A.id,label:A.name,type:"column"})),...Array.from(new Map((e.boonTables||[]).flatMap(A=>A.rows||[]).filter(A=>A.account).map(A=>[A.account,A])).values()).map(A=>({id:A.account,label:A.account,type:"player",icon:m(A.profession,A.professionList,"w-3 h-3")}))],onSelect:A=>{A.type==="column"?J(N=>N.includes(A.id)?N.filter(B=>B!==A.id):[...N,A.id]):Y(N=>N.includes(A.id)?N.filter(B=>B!==A.id):[...N,A.id])},selectedIds:k,className:"w-full sm:w-64"}),u.jsx(dr,{options:I,selectedIds:D,onToggle:A=>{J(N=>N.includes(A)?N.filter(B=>B!==A):[...N,A])},onClear:()=>J([]),buttonIcon:u.jsx(co,{className:"h-3.5 w-3.5"})}),u.jsx(dr,{options:te,selectedIds:Q,onToggle:A=>{Y(N=>N.includes(A)?N.filter(B=>B!==A):[...N,A])},onClear:()=>Y([]),buttonLabel:"Players",buttonIcon:u.jsx(Ar,{className:"h-3.5 w-3.5"})}),u.jsx(Mn,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(Mn,{value:r,onChange:a,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(D.length>0||Q.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{J([]),Y([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),D.map(A=>{var N;const B=((N=fe.find(G=>G.id===A))==null?void 0:N.name)||A;return u.jsxs("button",{type:"button",onClick:()=>J(G=>G.filter(V=>V!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:B}),u.jsx("span",{className:"text-gray-400",children:""})]},A)}),Q.map(A=>u.jsxs("button",{type:"button",onClick:()=>Y(N=>N.filter(B=>B!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:A}),u.jsx("span",{className:"text-gray-400",children:""})]},A))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:fe.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No boons match this filter"}):(()=>{var A,N;const B=K,G=((A=B.find(O=>O.id===$.columnId))==null?void 0:A.id)||(i&&B.some(O=>O.id===i)?i:void 0)||((N=B[0])==null?void 0:N.id)||"",V=new Map,H=new Map;B.forEach(O=>{const ee=new Map;O.rows.forEach(me=>{const L=me.account||me.name||me.id;L&&(ee.set(L,me),H.has(L)||H.set(L,me))}),V.set(O.id,ee)});const X=Array.from(H.entries()).filter(([O])=>Q.length===0||Q.includes(String(O))).map(([O,ee])=>{const me={};return B.forEach(L=>{var ne;const z=(ne=V.get(L.id))==null?void 0:ne.get(O);me[L.id]=z?f(z,t,L.stacking,r,{roundCountStats:h}):"-"}),{key:O,row:ee,values:me}}).sort((O,ee)=>{var me,L;if(!G)return String(O.key).localeCompare(String(ee.key));const ne=B.find(Qe=>Qe.id===G),z=ne?(me=V.get(ne.id))==null?void 0:me.get(O.key):null,F=ne?(L=V.get(ne.id))==null?void 0:L.get(ee.key):null,oe=z?p(z,t,ne==null?void 0:ne.stacking,r):0,ye=F?p(F,t,ne==null?void 0:ne.stacking,r):0;return($.dir==="desc"?ye-oe:oe-ye)||String(O.key).localeCompare(String(ee.key))});return u.jsx(fo,{title:"Boon Output - Dense View",subtitle:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`,sortColumnId:G,sortDirection:$.dir,onSortColumn:O=>{E(ee=>({columnId:O,dir:ee.columnId===O&&ee.dir==="desc"?"asc":"desc"}))},columns:B.map(O=>({id:O.id,label:u.jsx(kr,{name:O.name,iconUrl:O.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:X.map((O,ee)=>({id:`${O.key}-${ee}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:ee+1}),m(O.row.profession,O.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:O.row.account||O.row.name||O.key})]}),values:O.values}))})})()})]}):u.jsx(As,{expanded:y==="boon-output",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${y==="boon-output"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${y==="boon-output"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),u.jsx("input",{value:c,onChange:A=>d(A.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${j} ${y==="boon-output"?"max-h-none flex-1 min-h-0":""}`,children:l.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No boons match this filter"}):l.map(A=>u.jsx("button",{onClick:()=>o(A.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===A.id?"bg-blue-500/20 text-blue-200 border-blue-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(kr,{name:A.name,iconUrl:A.icon,iconClassName:"h-3.5 w-3.5"})},A.id))})]}),content:s?u.jsx(Es,{expanded:y==="boon-output",maxHeightClass:"max-h-64",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(kr,{name:s.name,iconUrl:s.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`})]}),columns:u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-start gap-2 px-4 py-2 bg-white/5",children:[u.jsx(Mn,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(Mn,{value:r,onChange:a,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],className:"sm:ml-auto",activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>R("value"),className:`text-right transition-colors ${M.key==="value"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:[r==="total"?"Total":r==="average"?"Gen/Sec":"Uptime",M.key==="value"?M.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>R("fightTime"),className:`text-right transition-colors ${M.key==="fightTime"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",M.key==="fightTime"?M.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:[...s.rows].sort((A,N)=>(()=>{const B=M.key==="fightTime"?Number(A.activeTimeMs||0):p(A,t,s.stacking,r),G=M.key==="fightTime"?Number(N.activeTimeMs||0):p(N,t,s.stacking,r);return(M.dir==="desc"?G-B:B-G)||String(A.account||"").localeCompare(String(N.account||""))})()).map((A,N)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:N+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[m(A.profession,A.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:A.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:f(A,t,s.stacking,r,{roundCountStats:h})}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:A.activeTimeMs?`${(A.activeTimeMs/1e3).toFixed(1)}s`:"-"})]},`${s.id}-${A.account}-${N}`))})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a boon to view details"})})]})},oae=({stats:e,DEFENSE_METRICS:t,defenseSearch:n,setDefenseSearch:r,activeDefenseStat:a,setActiveDefenseStat:i,defenseViewMode:o,setDefenseViewMode:s,roundCountStats:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:p,openExpandedSection:m,closeExpandedSection:h,isSectionVisible:y,isFirstVisibleSection:x,sectionClass:g,sidebarListClass:b})=>{var w;const[S,C]=v.useState({key:"value",dir:"desc"}),[j,M]=v.useState({columnId:((w=t[0])==null?void 0:w.id)||"value",dir:"desc"}),P=f==="defense-detailed",[$,E]=v.useState([]),[_,D]=v.useState([]),J=t.filter(k=>k.label.toLowerCase().includes(n.trim().toLowerCase())),Q=t.map(k=>({id:k.id,label:k.label})),Y=Q.filter(k=>k.label.toLowerCase().includes(n.trim().toLowerCase())),fe=$.length>0?t.filter(k=>$.includes(k.id)):t,K=Array.from(new Map(e.defensePlayers.map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:d(k.profession,k.professionList,"w-3 h-3")})),I=new Set([...$.map(k=>`column:${k}`),..._.map(k=>`player:${k}`)]),te=k=>{C(R=>({key:k,dir:R.key===k&&R.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"defense-detailed","data-section-visible":y("defense-detailed"),"data-section-first":x("defense-detailed"),className:g("defense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="defense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Eu,{className:"w-5 h-5 text-sky-300"}),"Defenses - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>f==="defense-detailed"?h():m("defense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="defense-detailed"?"Close Defense Detailed":"Expand Defense Detailed",title:f==="defense-detailed"?"Close":"Expand",children:f==="defense-detailed"?u.jsx(Ba,{className:"w-4 h-4"}):u.jsx(ki,{className:"w-4 h-4"})})]}),e.defensePlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No defensive stats available"}):P?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(po,{options:[...Q.map(k=>({...k,type:"column"})),...K.map(k=>({...k,type:"player"}))],onSelect:k=>{k.type==="column"?E(R=>R.includes(k.id)?R.filter(A=>A!==k.id):[...R,k.id]):D(R=>R.includes(k.id)?R.filter(A=>A!==k.id):[...R,k.id])},selectedIds:I,className:"w-full sm:w-64"}),u.jsx(dr,{options:Y,selectedIds:$,onToggle:k=>{E(R=>R.includes(k)?R.filter(A=>A!==k):[...R,k])},onClear:()=>E([]),buttonIcon:u.jsx(co,{className:"h-3.5 w-3.5"})}),u.jsx(dr,{options:K,selectedIds:_,onToggle:k=>{D(R=>R.includes(k)?R.filter(A=>A!==k):[...R,k])},onClear:()=>D([]),buttonLabel:"Players",buttonIcon:u.jsx(Ar,{className:"h-3.5 w-3.5"})}),u.jsx(Mn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),($.length>0||_.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{E([]),D([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),$.map(k=>{var R;const A=((R=Q.find(N=>N.id===k))==null?void 0:R.label)||k;return u.jsxs("button",{type:"button",onClick:()=>E(N=>N.filter(B=>B!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:A}),u.jsx("span",{className:"text-gray-400",children:""})]},k)}),_.map(k=>u.jsxs("button",{type:"button",onClick:()=>D(R=>R.filter(A=>A!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:k}),u.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:J.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No defensive stats match this filter"}):(()=>{var k,R;const A=V=>Math.max(1,(V.activeMs||0)/1e3),N=(V,H)=>{const X=H.isPercent,O=c(V,l&&!X&&o==="total"?0:2);return X?`${O}%`:O},B=((k=fe.find(V=>V.id===j.columnId))==null?void 0:k.id)||((R=fe[0])==null?void 0:R.id)||"",G=[...e.defensePlayers].filter(V=>_.length===0||_.includes(V.account)).map(V=>{const H={},X={};return fe.forEach(O=>{var ee;const me=((ee=V.defenseTotals)==null?void 0:ee[O.id])||0,L=O.isPercent,ne=o==="total"||L?me:o==="per1s"?me/A(V):me*60/A(V);X[O.id]=ne,H[O.id]=N(ne,O)}),{row:V,values:H,numericValues:X}}).sort((V,H)=>{const X=V.numericValues[B]??0,O=H.numericValues[B]??0;return(j.dir==="desc"?O-X:X-O)||String(V.row.account||"").localeCompare(String(H.row.account||""))});return u.jsx(fo,{title:"Defense - Dense View",subtitle:"Defensive",sortColumnId:B,sortDirection:j.dir,onSortColumn:V=>{M(H=>({columnId:V,dir:H.columnId===V&&H.dir==="desc"?"asc":"desc"}))},columns:fe.map(V=>({id:V.id,label:V.label,align:"right",minWidth:90})),rows:G.map((V,H)=>({id:`${V.row.account}-${H}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:H+1}),d(V.row.profession,V.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:V.row.account})]}),values:V.values}))})})()})]}):u.jsx(As,{expanded:f==="defense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="defense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="defense-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),u.jsx("input",{value:n,onChange:k=>r(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${b} ${f==="defense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:J.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No defensive stats match this filter"}):J.map(k=>u.jsx("button",{onClick:()=>i(k.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===k.id?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:k.label},k.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const k=t.find(N=>N.id===a)||t[0],R=N=>Math.max(1,(N.activeMs||0)/1e3),A=[...e.defensePlayers].map(N=>{var B,G,V;return{...N,total:((B=N.defenseTotals)==null?void 0:B[k.id])||0,per1s:(((G=N.defenseTotals)==null?void 0:G[k.id])||0)/R(N),per60s:(((V=N.defenseTotals)==null?void 0:V[k.id])||0)*60/R(N)}}).sort((N,B)=>{const G=S.key==="fightTime"?Number(N.activeMs||0):Number(o==="total"?N.total:o==="per1s"?N.per1s:N.per60s),V=S.key==="fightTime"?Number(B.activeMs||0):Number(o==="total"?B.total:o==="per1s"?B.per1s:B.per60s);return(S.dir==="desc"?V-G:G-V)||N.account.localeCompare(B.account)});return u.jsx(Es,{expanded:f==="defense-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:k.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Defensive"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5",children:u.jsx(Mn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>te("value"),className:`text-right transition-colors ${S.key==="value"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",S.key==="value"?S.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>te("fightTime"),className:`text-right transition-colors ${S.key==="fightTime"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",S.key==="fightTime"?S.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:A.map((N,B)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:B+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(N.profession,N.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:N.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const G=o==="total"?N.total:o==="per1s"?N.per1s:N.per60s;return c(G,l&&o==="total"?0:2)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:N.activeMs?`${(N.activeMs/1e3).toFixed(1)}s`:"-"})]},`${k.id}-${N.account}-${B}`))})})})()})})]})},sae=({stats:e,DAMAGE_MITIGATION_METRICS:t,damageMitigationSearch:n,setDamageMitigationSearch:r,activeDamageMitigationStat:a,setActiveDamageMitigationStat:i,damageMitigationViewMode:o,setDamageMitigationViewMode:s,damageMitigationScope:l,setDamageMitigationScope:c,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:p,expandedSection:m,expandedSectionClosing:h,openExpandedSection:y,closeExpandedSection:x,isSectionVisible:g,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:S})=>{var C,j;const M=((C=t.find(L=>L.id==="totalMitigation"))==null?void 0:C.id)||((j=t[0])==null?void 0:j.id)||"totalMitigation",[P,$]=v.useState({key:"value",dir:"desc"}),[E,_]=v.useState({columnId:M,dir:"desc"}),D=m==="defense-mitigation",[J,Q]=v.useState([]),[Y,fe]=v.useState([]),[K,I]=v.useState([]),te=e.damageMitigationPlayers||[],k=e.damageMitigationMinions||[],R=l==="minions"?k:te,A=te.length>0||k.length>0,N=t.filter(L=>L.label.toLowerCase().includes(n.trim().toLowerCase())),B=t.map(L=>({id:L.id,label:L.label})),G=B.filter(L=>L.label.toLowerCase().includes(n.trim().toLowerCase())),V=J.length>0?t.filter(L=>J.includes(L.id)):t,H=Array.from(new Map(R.map(L=>[L.account,L])).values()).map(L=>({id:L.account,label:L.account,icon:p(L.profession,L.professionList,"w-3 h-3")})),X=Array.from(new Map(k.map(L=>[L.minion,L])).values()).filter(L=>L==null?void 0:L.minion).map(L=>({id:String(L.minion),label:String(L.minion)})),O=new Set([...J.map(L=>`column:${L}`),...Y.map(L=>`player:${L}`)]),ee=L=>{$(ne=>({key:L,dir:ne.key===L&&ne.dir==="desc"?"asc":"desc"}))},me=L=>f(L,d&&o==="total"?0:2);return u.jsxs("div",{id:"defense-mitigation","data-section-visible":g("defense-mitigation"),"data-section-first":b("defense-mitigation"),className:w("defense-mitigation",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="defense-mitigation"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(w1,{className:"w-5 h-5 text-emerald-300"}),"Defenses - Damage Mitigation"]}),u.jsx("button",{type:"button",onClick:()=>m==="defense-mitigation"?x():y("defense-mitigation"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="defense-mitigation"?"Close Damage Mitigation":"Expand Damage Mitigation",title:m==="defense-mitigation"?"Close":"Expand",children:m==="defense-mitigation"?u.jsx(Ba,{className:"w-4 h-4"}):u.jsx(ki,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"text-xs text-amber-200/80 italic mb-3",children:"Damage mitigation is an estimate based on enemy skill damage averages and avoidance events (block/evade/miss/invuln/interrupted). Use it for relative comparison rather than exact prevention totals."}),A?D?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(po,{options:[...B.map(L=>({...L,type:"column"})),...H.map(L=>({...L,type:"player"}))],onSelect:L=>{L.type==="column"?Q(ne=>ne.includes(L.id)?ne.filter(z=>z!==L.id):[...ne,L.id]):fe(ne=>ne.includes(L.id)?ne.filter(z=>z!==L.id):[...ne,L.id])},selectedIds:O,className:"w-full sm:w-64"}),u.jsx(dr,{options:G,selectedIds:J,onToggle:L=>{Q(ne=>ne.includes(L)?ne.filter(z=>z!==L):[...ne,L])},onClear:()=>Q([]),buttonIcon:u.jsx(co,{className:"h-3.5 w-3.5"})}),u.jsx(dr,{options:H,selectedIds:Y,onToggle:L=>{fe(ne=>ne.includes(L)?ne.filter(z=>z!==L):[...ne,L])},onClear:()=>fe([]),buttonLabel:"Players",buttonIcon:u.jsx(Ar,{className:"h-3.5 w-3.5"})}),l==="minions"&&u.jsx(dr,{options:X,selectedIds:K,onToggle:L=>{I(ne=>ne.includes(L)?ne.filter(z=>z!==L):[...ne,L])},onClear:()=>I([]),buttonLabel:"Minions"}),u.jsx(Mn,{value:l,onChange:c,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(Mn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(J.length>0||Y.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{Q([]),fe([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),J.map(L=>{var ne;const z=((ne=B.find(F=>F.id===L))==null?void 0:ne.label)||L;return u.jsxs("button",{type:"button",onClick:()=>Q(F=>F.filter(oe=>oe!==L)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:z}),u.jsx("span",{className:"text-gray-400",children:""})]},L)}),Y.map(L=>u.jsxs("button",{type:"button",onClick:()=>fe(ne=>ne.filter(z=>z!==L)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:L}),u.jsx("span",{className:"text-gray-400",children:""})]},L))]}),l==="minions"&&K.length>0&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>I([]),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear Minions"}),K.map(L=>u.jsxs("button",{type:"button",onClick:()=>I(ne=>ne.filter(z=>z!==L)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:L}),u.jsx("span",{className:"text-gray-400",children:""})]},L))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:R.length===0?u.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):N.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No mitigation stats match this filter"}):(()=>{var L,ne;const z=ye=>Math.max(1,(ye.activeMs||0)/1e3),F=((L=V.find(ye=>ye.id===E.columnId))==null?void 0:L.id)||((ne=V[0])==null?void 0:ne.id)||"",oe=[...R].filter(ye=>Y.length===0||Y.includes(ye.account)).filter(ye=>l!=="minions"||!K.length?!0:K.includes(String(ye.minion||""))).map(ye=>{const Qe={},le={};return V.forEach(qe=>{var Pe;const ct=((Pe=ye.mitigationTotals)==null?void 0:Pe[qe.id])||0,en=o==="total"?ct:o==="per1s"?ct/z(ye):ct*60/z(ye);le[qe.id]=en,Qe[qe.id]=me(en)}),{row:ye,values:Qe,numericValues:le}}).sort((ye,Qe)=>{const le=ye.numericValues[F]??0,qe=Qe.numericValues[F]??0;return(E.dir==="desc"?qe-le:le-qe)||String(ye.row.account||"").localeCompare(String(Qe.row.account||""))});return u.jsx(fo,{title:"Damage Mitigation - Dense View",subtitle:"Defensive",sortColumnId:F,sortDirection:E.dir,onSortColumn:ye=>{_(Qe=>({columnId:ye,dir:Qe.columnId===ye&&Qe.dir==="desc"?"asc":"desc"}))},columns:V.map(ye=>({id:ye.id,label:ye.label,align:"right",minWidth:90})),rows:oe.map((ye,Qe)=>({id:`${ye.row.account}-${ye.row.minion||"player"}-${Qe}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:Qe+1}),p(ye.row.profession,ye.row.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"truncate",children:ye.row.account}),ye.row.minion&&u.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:ye.row.minion})]})]}),values:ye.values}))})})()})]}):u.jsx(As,{expanded:m==="defense-mitigation",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="defense-mitigation"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="defense-mitigation"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),u.jsx("input",{value:n,onChange:L=>r(L.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2 mt-2"}),u.jsx("div",{className:`${S} ${m==="defense-mitigation"?"max-h-none flex-1 min-h-0":""}`,children:N.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No mitigation stats match this filter"}):N.map(L=>u.jsx("button",{onClick:()=>i(L.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===L.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:L.label},L.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const L=t.find(F=>F.id===a)||t[0],ne=F=>Math.max(1,(F.activeMs||0)/1e3),z=[...R].map(F=>{var oe,ye,Qe;return{...F,total:((oe=F.mitigationTotals)==null?void 0:oe[L.id])||0,per1s:(((ye=F.mitigationTotals)==null?void 0:ye[L.id])||0)/ne(F),per60s:(((Qe=F.mitigationTotals)==null?void 0:Qe[L.id])||0)*60/ne(F)}}).filter(F=>l!=="minions"||!K.length?!0:K.includes(String(F.minion||""))).sort((F,oe)=>{const ye=P.key==="fightTime"?Number(F.activeMs||0):Number(o==="total"?F.total:o==="per1s"?F.per1s:F.per60s),Qe=P.key==="fightTime"?Number(oe.activeMs||0):Number(o==="total"?oe.total:o==="per1s"?oe.per1s:oe.per60s);return(P.dir==="desc"?Qe-ye:ye-Qe)||F.account.localeCompare(oe.account)});return u.jsx(Es,{expanded:m==="defense-mitigation",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:L.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Mitigation"})]}),columns:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"px-4 py-2 bg-white/5",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Mn,{value:l,onChange:c,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx("div",{className:"ml-auto",children:u.jsx(Mn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})})]})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>ee("value"),className:`text-right transition-colors ${P.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",P.key==="value"?P.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>ee("fightTime"),className:`text-right transition-colors ${P.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",P.key==="fightTime"?P.dir==="desc"?" ":" ":""]})]})]}),rows:z.length===0?u.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):u.jsx(u.Fragment,{children:z.map((F,oe)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:oe+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[p(F.profession,F.professionList,"w-4 h-4"),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"truncate",children:F.account}),F.minion&&u.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:F.minion})]})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const ye=o==="total"?F.total:o==="per1s"?F.per1s:F.per60s;return me(ye)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:F.activeMs?`${(F.activeMs/1e3).toFixed(1)}s`:"-"})]},`${L.id}-${F.account}-${F.minion||"player"}-${oe}`))})})})()})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No damage mitigation stats available"})]})},lae=({stats:e,SUPPORT_METRICS:t,supportSearch:n,setSupportSearch:r,activeSupportStat:a,setActiveSupportStat:i,supportViewMode:o,setSupportViewMode:s,cleanseScope:l,setCleanseScope:c,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:p,expandedSection:m,expandedSectionClosing:h,openExpandedSection:y,closeExpandedSection:x,isSectionVisible:g,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:S})=>{var C;const[j,M]=v.useState({key:"value",dir:"desc"}),[P,$]=v.useState({columnId:((C=t[0])==null?void 0:C.id)||"value",dir:"desc"}),E=m==="support-detailed",[_,D]=v.useState([]),[J,Q]=v.useState([]),Y=t.filter(A=>A.label.toLowerCase().includes(n.trim().toLowerCase())),fe=t.map(A=>({id:A.id,label:A.label})),K=fe.filter(A=>A.label.toLowerCase().includes(n.trim().toLowerCase())),I=_.length>0?t.filter(A=>_.includes(A.id)):t,te=Array.from(new Map(e.supportPlayers.map(A=>[A.account,A])).values()).map(A=>({id:A.account,label:A.account,icon:p(A.profession,A.professionList,"w-3 h-3")})),k=new Set([..._.map(A=>`column:${A}`),...J.map(A=>`player:${A}`)]),R=A=>{M(N=>({key:A,dir:N.key===A&&N.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"support-detailed","data-section-visible":g("support-detailed"),"data-section-first":b("support-detailed"),className:w("support-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="support-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(v1,{className:"w-5 h-5 text-emerald-300"}),"Support - Detailed"]}),u.jsx("button",{type:"button",onClick:()=>m==="support-detailed"?x():y("support-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="support-detailed"?"Close Support Detailed":"Expand Support Detailed",title:m==="support-detailed"?"Close":"Expand",children:m==="support-detailed"?u.jsx(Ba,{className:"w-4 h-4"}):u.jsx(ki,{className:"w-4 h-4"})})]}),e.supportPlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No support stats available"}):E?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(po,{options:[...fe.map(A=>({...A,type:"column"})),...te.map(A=>({...A,type:"player"}))],onSelect:A=>{A.type==="column"?D(N=>N.includes(A.id)?N.filter(B=>B!==A.id):[...N,A.id]):Q(N=>N.includes(A.id)?N.filter(B=>B!==A.id):[...N,A.id])},selectedIds:k,className:"w-full sm:w-64"}),u.jsx(dr,{options:K,selectedIds:_,onToggle:A=>{D(N=>N.includes(A)?N.filter(B=>B!==A):[...N,A])},onClear:()=>D([]),buttonIcon:u.jsx(co,{className:"h-3.5 w-3.5"})}),u.jsx(dr,{options:te,selectedIds:J,onToggle:A=>{Q(N=>N.includes(A)?N.filter(B=>B!==A):[...N,A])},onClear:()=>Q([]),buttonLabel:"Players",buttonIcon:u.jsx(Ar,{className:"h-3.5 w-3.5"})}),u.jsx(Mn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),a==="condiCleanse"&&u.jsx(Mn,{value:l,onChange:c,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(_.length>0||J.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{D([]),Q([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),_.map(A=>{var N;const B=((N=fe.find(G=>G.id===A))==null?void 0:N.label)||A;return u.jsxs("button",{type:"button",onClick:()=>D(G=>G.filter(V=>V!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:B}),u.jsx("span",{className:"text-gray-400",children:""})]},A)}),J.map(A=>u.jsxs("button",{type:"button",onClick:()=>Q(N=>N.filter(B=>B!==A)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:A}),u.jsx("span",{className:"text-gray-400",children:""})]},A))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:Y.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No support stats match this filter"}):(()=>{var A,N;const B=(O,ee)=>{var me,L,ne;if(ee==="condiCleanse"){const z=((me=O.supportTotals)==null?void 0:me.condiCleanse)||0,F=((L=O.supportTotals)==null?void 0:L.condiCleanseSelf)||0;return l==="all"?z+F:z}return((ne=O.supportTotals)==null?void 0:ne[ee])||0},G=O=>Math.max(1,(O.activeMs||0)/1e3),V=(O,ee)=>{const me=O.isTime?1:d&&o==="total"?0:2;return f(ee,me)},H=((A=I.find(O=>O.id===P.columnId))==null?void 0:A.id)||((N=I[0])==null?void 0:N.id)||"",X=[...e.supportPlayers].filter(O=>J.length===0||J.includes(O.account)).map(O=>{const ee={},me={};return I.forEach(L=>{const ne=B(O,L.id),z=o==="total"?ne:o==="per1s"?ne/G(O):ne*60/G(O);me[L.id]=z,ee[L.id]=V(L,z)}),{row:O,values:ee,numericValues:me}}).sort((O,ee)=>{const me=O.numericValues[H]??0,L=ee.numericValues[H]??0;return(P.dir==="desc"?L-me:me-L)||String(O.row.account||"").localeCompare(String(ee.row.account||""))});return u.jsx(fo,{title:"Support - Dense View",subtitle:"Support",sortColumnId:H,sortDirection:P.dir,onSortColumn:O=>{$(ee=>({columnId:O,dir:ee.columnId===O&&ee.dir==="desc"?"asc":"desc"}))},columns:I.map(O=>({id:O.id,label:O.label,align:"right",minWidth:90})),rows:X.map((O,ee)=>({id:`${O.row.account}-${ee}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:ee+1}),p(O.row.profession,O.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:O.row.account})]}),values:O.values}))})})()})]}):u.jsx(As,{expanded:m==="support-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="support-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="support-detailed"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),u.jsx("input",{value:n,onChange:A=>r(A.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${S} ${m==="support-detailed"?"max-h-none flex-1 min-h-0":""}`,children:Y.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No support stats match this filter"}):Y.map(A=>u.jsx("button",{onClick:()=>i(A.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===A.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:A.label},A.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const A=t.find(V=>V.id===a)||t[0],N=V=>{var H,X,O;if(A.id==="condiCleanse"){const ee=((H=V.supportTotals)==null?void 0:H.condiCleanse)||0,me=((X=V.supportTotals)==null?void 0:X.condiCleanseSelf)||0;return l==="all"?ee+me:ee}return((O=V.supportTotals)==null?void 0:O[A.id])||0},B=V=>Math.max(1,(V.activeMs||0)/1e3),G=[...e.supportPlayers].map(V=>({...V,total:N(V),per1s:N(V)/B(V),per60s:N(V)*60/B(V)})).sort((V,H)=>{const X=j.key==="fightTime"?Number(V.activeMs||0):Number(o==="total"?V.total:o==="per1s"?V.per1s:V.per60s),O=j.key==="fightTime"?Number(H.activeMs||0):Number(o==="total"?H.total:o==="per1s"?H.per1s:H.per60s);return(j.dir==="desc"?O-X:X-O)||V.account.localeCompare(H.account)});return u.jsx(Es,{expanded:m==="support-detailed",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:A.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Support"})]}),columns:u.jsxs(u.Fragment,{children:[A.id==="condiCleanse"?u.jsxs("div",{className:"flex flex-wrap items-center gap-2 px-4 py-2 bg-white/5",children:[u.jsx(Mn,{value:l,onChange:c,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(Mn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],className:"sm:ml-auto",activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}):u.jsx("div",{className:"flex flex-wrap items-center justify-start sm:justify-end px-4 py-2 bg-white/5",children:u.jsx(Mn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>R("value"),className:`text-right transition-colors ${j.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",j.key==="value"?j.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>R("fightTime"),className:`text-right transition-colors ${j.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",j.key==="fightTime"?j.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:G.map((V,H)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:H+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[p(V.profession,V.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:V.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const X=o==="total"?V.total:o==="per1s"?V.per1s:V.per60s,O=A.isTime?1:d&&o==="total"?0:2;return f(X,O)})()}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:V.activeMs?`${(V.activeMs/1e3).toFixed(1)}s`:"-"})]},`${A.id}-${V.account}-${H}`))})})})()})})]})},cae=({stats:e,HEALING_METRICS:t,activeHealingMetric:n,setActiveHealingMetric:r,healingCategory:a,setHealingCategory:i,activeResUtilitySkill:o,setActiveResUtilitySkill:s,skillUsageData:l,formatWithCommas:c,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:p,openExpandedSection:m,closeExpandedSection:h,isSectionVisible:y,isFirstVisibleSection:x,sectionClass:g})=>{var b;const[w,S]=v.useState({key:"value",dir:"desc"}),[C,j]=v.useState({columnId:((b=t[0])==null?void 0:b.id)||"value",dir:"desc"}),M=f==="healing-stats",[P,$]=v.useState([]),[E,_]=v.useState([]),D=Array.from(new Map(e.healingPlayers.map(K=>[K.account,K])).values()).map(K=>({id:K.account,label:K.account,icon:d(K.profession,K.professionList,"w-3 h-3")})),J=new Set([...E.map(K=>`column:${K}`),...P.map(K=>`player:${K}`)]),Q=t.map(K=>({id:K.id,label:K.label})),Y=E.length>0?t.filter(K=>E.includes(K.id)):t,fe=K=>{S(I=>({key:K,dir:I.key===K&&I.dir==="desc"?"asc":"desc"}))};return u.jsxs("div",{id:"healing-stats","data-section-visible":y("healing-stats"),"data-section-first":x("healing-stats"),className:g("healing-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="healing-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(tD,{className:"w-5 h-5 text-lime-300"}),"Healing Stats"]}),u.jsx("button",{type:"button",onClick:()=>f==="healing-stats"?h():m("healing-stats"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="healing-stats"?"Close Healing Stats":"Expand Healing Stats",title:f==="healing-stats"?"Close":"Expand",children:f==="healing-stats"?u.jsx(Ba,{className:"w-4 h-4"}):u.jsx(ki,{className:"w-4 h-4"})})]}),e.healingPlayers.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No healing stats available"}):M?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(po,{options:[...Q.map(K=>({...K,type:"column"})),...D.map(K=>({...K,type:"player"}))],onSelect:K=>{K.type==="column"?_(I=>I.includes(K.id)?I.filter(te=>te!==K.id):[...I,K.id]):$(I=>I.includes(K.id)?I.filter(te=>te!==K.id):[...I,K.id])},selectedIds:J,className:"w-full sm:w-64"}),u.jsx(Mn,{value:a,onChange:i,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(dr,{options:Q,selectedIds:E,onToggle:K=>{_(I=>I.includes(K)?I.filter(te=>te!==K):[...I,K])},onClear:()=>_([]),buttonIcon:u.jsx(co,{className:"h-3.5 w-3.5"})}),u.jsx(Mn,{value:o,onChange:s,options:[{value:"all",label:"All Res Utility"},...(l.resUtilitySkills||[]).map(K=>({value:K.id,label:K.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx(dr,{options:D,selectedIds:P,onToggle:K=>{$(I=>I.includes(K)?I.filter(te=>te!==K):[...I,K])},onClear:()=>$([]),buttonLabel:"Players",buttonIcon:u.jsx(Ar,{className:"h-3.5 w-3.5"})})]}),(E.length>0||P.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{_([]),$([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),E.map(K=>{var I;const te=((I=Q.find(k=>k.id===K))==null?void 0:I.label)||K;return u.jsxs("button",{type:"button",onClick:()=>_(k=>k.filter(R=>R!==K)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:te}),u.jsx("span",{className:"text-gray-400",children:""})]},K)}),P.map(K=>u.jsxs("button",{type:"button",onClick:()=>$(I=>I.filter(te=>te!==K)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:K}),u.jsx("span",{className:"text-gray-400",children:""})]},K))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:(()=>{var K,I;const te=N=>Math.max(1,(N.activeMs||0)/1e3),k=N=>{const B=N.baseField==="resUtility",G=B||a==="total"?"":a==="offSquad"?"offSquad":a;return B?o==="all"?"resUtility":`resUtility_${o}`:G?`${G}${N.baseField[0].toUpperCase()}${N.baseField.slice(1)}`:N.baseField},R=[...e.healingPlayers].filter(N=>P.length===0||P.includes(N.account)).filter(N=>Object.values(N.healingTotals||{}).some(B=>Number(B)>0)).map(N=>{const B={},G={};return Y.forEach(V=>{var H;const X=k(V),O=Number(((H=N.healingTotals)==null?void 0:H[X])??0),ee=V.perSecond?O/te(N):O;G[V.id]=ee,B[V.id]=c(ee,V.decimals)}),{row:N,values:B,numericValues:G}}).sort((N,B)=>{var G,V;const H=((G=Y.find(ee=>ee.id===C.columnId))==null?void 0:G.id)||((V=Y[0])==null?void 0:V.id)||"",X=N.numericValues[H]??0,O=B.numericValues[H]??0;return(C.dir==="desc"?O-X:X-O)||String(N.row.account||"").localeCompare(String(B.row.account||""))}),A=((K=Y.find(N=>N.id===C.columnId))==null?void 0:K.id)||((I=Y[0])==null?void 0:I.id)||"";return u.jsx(fo,{title:"Healing - Dense View",subtitle:"Healing",sortColumnId:A,sortDirection:C.dir,onSortColumn:N=>{j(B=>({columnId:N,dir:B.columnId===N&&B.dir==="desc"?"asc":"desc"}))},columns:Y.map(N=>({id:N.id,label:N.label,align:"right",minWidth:90})),rows:R.map((N,B)=>({id:`${N.row.account}-${B}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:B+1}),d(N.row.profession,N.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:N.row.account})]}),values:N.values}))})})()})]}):u.jsx(As,{expanded:f==="healing-stats",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="healing-stats"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="healing-stats"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),u.jsx("div",{className:"flex-1 overflow-y-auto space-y-1 pr-1",children:t.map(K=>u.jsx("button",{onClick:()=>r(K.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${n===K.id?"bg-lime-500/20 text-lime-200 border-lime-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:K.label},K.id))})]}),content:u.jsx(u.Fragment,{children:(()=>{const K=t.find(N=>N.id===n)||t[0],I=K.baseField==="resUtility",te=N=>Math.max(1,(N.activeMs||0)/1e3),k=I||a==="total"?"":a==="offSquad"?"offSquad":a,R=I?o==="all"?"resUtility":`resUtility_${o}`:k?`${k}${K.baseField[0].toUpperCase()}${K.baseField.slice(1)}`:K.baseField,A=[...e.healingPlayers].filter(N=>Object.values(N.healingTotals||{}).some(B=>Number(B)>0)).map(N=>{var B;const G=Number(((B=N.healingTotals)==null?void 0:B[R])??0),V=K.perSecond?G/te(N):G;return{...N,value:V}}).sort((N,B)=>{const G=w.key==="fightTime"?Number(N.activeMs||0):Number(N.value||0),V=w.key==="fightTime"?Number(B.activeMs||0):Number(B.value||0);return(w.dir==="desc"?V-G:G-V)||N.account.localeCompare(B.account)});return u.jsx(Es,{expanded:f==="healing-stats",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:K.label}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Healing"})]}),columns:u.jsxs(u.Fragment,{children:[I&&u.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5 flex-wrap",children:u.jsx(Mn,{value:o,onChange:s,options:[{value:"all",label:"All"},...(l.resUtilitySkills||[]).map(N=>({value:N.id,label:N.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),!I&&u.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5",children:u.jsx(Mn,{value:a,onChange:i,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>fe("value"),className:`text-right transition-colors ${w.key==="value"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:[K.label,w.key==="value"?w.dir==="desc"?" ":" ":""]}),u.jsxs("button",{type:"button",onClick:()=>fe("fightTime"),className:`text-right transition-colors ${w.key==="fightTime"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",w.key==="fightTime"?w.dir==="desc"?" ":" ":""]})]})]}),rows:u.jsx(u.Fragment,{children:A.length===0?u.jsx("div",{className:"px-4 py-6 text-sm text-gray-500 italic",children:"No healing data for this view"}):A.map((N,B)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:B+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(N.profession,N.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:N.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:c(N.value,K.decimals)}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:N.activeMs?`${(N.activeMs/1e3).toFixed(1)}s`:"-"})]},`${K.id}-${N.account}-${B}`))})})})()})})]})},uae=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}`:e:"",dae=({stats:e,specialSearch:t,setSpecialSearch:n,filteredSpecialTables:r,activeSpecialTab:a,setActiveSpecialTab:i,activeSpecialTable:o,formatWithCommas:s,renderProfessionIcon:l,expandedSection:c,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:p,isSectionVisible:m,isFirstVisibleSection:h,sectionClass:y,sidebarListClass:x})=>{const[g,b]=v.useState("total"),[w,S]=v.useState("desc"),[C,j]=v.useState({columnId:"",dir:"desc"}),M=c==="special-buffs",[P,$]=v.useState([]),[E,_]=v.useState([]),D=e.specialTables||[],J=P.length>0?D.filter(k=>P.includes(k.id)):D,Q=r.map(k=>({id:k.id,label:k.name,icon:k.icon?u.jsx("img",{src:k.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),Y=Array.from(new Map((e.specialTables||[]).flatMap(k=>k.rows||[]).filter(k=>k.account).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:l(k.profession,k.professionList,"w-3 h-3")})),fe=new Set([...P.map(k=>`column:${k}`),...E.map(k=>`player:${k}`)]),K=v.useMemo(()=>{if(!(o!=null&&o.rows))return[];const k=[...o.rows];return k.sort((R,A)=>{const N=Number((R==null?void 0:R[g])??0),B=Number((A==null?void 0:A[g])??0),G=w==="desc"?B-N:N-B;return G!==0?G:String((R==null?void 0:R.account)||"").localeCompare(String((A==null?void 0:A.account)||""))}),k},[o,g,w]),I=k=>{if(g===k){S(R=>R==="desc"?"asc":"desc");return}b(k),S("desc")},te=k=>g!==k?"":w==="desc"?" ":" ";return u.jsxs("div",{id:"special-buffs","data-section-visible":m("special-buffs"),"data-section-first":h("special-buffs"),className:y("special-buffs",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${c==="special-buffs"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(r0,{className:"w-5 h-5 text-purple-300"}),"Special Buffs"]}),u.jsx("button",{type:"button",onClick:()=>c==="special-buffs"?p():f("special-buffs"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":c==="special-buffs"?"Close Special Buffs":"Expand Special Buffs",title:c==="special-buffs"?"Close":"Expand",children:c==="special-buffs"?u.jsx(Ba,{className:"w-4 h-4"}):u.jsx(ki,{className:"w-4 h-4"})})]}),e.specialTables.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No special buff data available"}):M?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(po,{options:[...D.map(k=>({id:k.id,label:k.name,type:"column"})),...Array.from(new Map((e.specialTables||[]).flatMap(k=>k.rows||[]).filter(k=>k.account).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,type:"player",icon:l(k.profession,k.professionList,"w-3 h-3")}))],onSelect:k=>{k.type==="column"?$(R=>R.includes(k.id)?R.filter(A=>A!==k.id):[...R,k.id]):_(R=>R.includes(k.id)?R.filter(A=>A!==k.id):[...R,k.id])},selectedIds:fe,className:"w-full sm:w-64"}),u.jsx(dr,{options:Q,selectedIds:P,onToggle:k=>{$(R=>R.includes(k)?R.filter(A=>A!==k):[...R,k])},onClear:()=>$([]),buttonIcon:u.jsx(co,{className:"h-3.5 w-3.5"})}),u.jsx(dr,{options:Y,selectedIds:E,onToggle:k=>{_(R=>R.includes(k)?R.filter(A=>A!==k):[...R,k])},onClear:()=>_([]),buttonLabel:"Players",buttonIcon:u.jsx(Ar,{className:"h-3.5 w-3.5"})}),u.jsx(Mn,{value:g,onChange:k=>b(k),options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"},{value:"duration",label:"Fight Time"}],activeClassName:"bg-purple-500/20 text-purple-200 border border-purple-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(P.length>0||E.length>0)&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{$([]),_([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),P.map(k=>{var R;const A=((R=D.find(N=>N.id===k))==null?void 0:R.name)||k;return u.jsxs("button",{type:"button",onClick:()=>$(N=>N.filter(B=>B!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:A}),u.jsx("span",{className:"text-gray-400",children:""})]},k)}),E.map(k=>u.jsxs("button",{type:"button",onClick:()=>_(R=>R.filter(A=>A!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[u.jsx("span",{children:k}),u.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),u.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:D.length===0?u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No special buffs match this filter"}):(()=>{var k,R;const A=J,N=new Map,B=new Map;A.forEach(X=>{const O=new Map;X.rows.forEach(ee=>{const me=ee.account||ee.name||ee.id;me&&(O.set(me,ee),B.has(me)||B.set(me,ee))}),N.set(X.id,O)});const G=Array.from(B.entries()).filter(([X])=>E.length===0||E.includes(String(X))).map(([X,O])=>{const ee={},me={};return A.forEach(L=>{var ne;const z=(ne=N.get(L.id))==null?void 0:ne.get(X);if(!z){ee[L.id]="-",me[L.id]=0;return}if(g==="duration"){ee[L.id]=z.duration?`${z.duration.toFixed(1)}s`:"-",me[L.id]=Number(z.duration||0);return}const F=g==="total"?z.total:z.perSecond,oe=g==="total"?0:1;me[L.id]=Number(F||0),ee[L.id]=s(F||0,oe)}),{key:X,row:O,values:ee,numericValues:me}}),V=((k=A.find(X=>X.id===C.columnId))==null?void 0:k.id)||(a&&A.some(X=>X.id===a)?a:void 0)||((R=A[0])==null?void 0:R.id)||"",H=[...G].sort((X,O)=>{if(!V)return String(X.key).localeCompare(String(O.key));const ee=X.numericValues[V]??0,me=O.numericValues[V]??0;return(C.dir==="desc"?me-ee:ee-me)||String(X.key).localeCompare(String(O.key))});return u.jsx(fo,{title:"Special Buffs - Dense View",subtitle:"Totals",sortColumnId:V,sortDirection:C.dir,onSortColumn:X=>{j(O=>({columnId:X,dir:O.columnId===X&&O.dir==="desc"?"asc":"desc"}))},columns:A.map(X=>({id:X.id,label:u.jsx(kr,{name:X.name,iconUrl:X.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:H.map((X,O)=>({id:`${X.key}-${O}`,label:u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-gray-500 font-mono",children:O+1}),l(X.row.profession,X.row.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:X.row.account||X.row.name||X.key})]}),values:X.values}))})})()})]}):u.jsx(As,{expanded:c==="special-buffs",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${c==="special-buffs"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${c==="special-buffs"?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),u.jsx("input",{value:t,onChange:k=>n(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${x} ${c==="special-buffs"?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No special buffs match this filter"}):r.map(k=>u.jsx("button",{onClick:()=>i(k.id),title:k.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===k.id?"bg-purple-500/20 text-purple-200 border-purple-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(kr,{name:uae(k.name),iconUrl:k.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},k.id))})]}),content:u.jsx(u.Fragment,{children:o?u.jsx(Es,{expanded:c==="special-buffs",maxHeightClass:"max-h-64",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(kr,{name:o.name,iconUrl:o.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Totals"})]}),columns:u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>I("total"),className:`text-right transition-colors ${g==="total"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Total",te("total")]}),u.jsxs("button",{type:"button",onClick:()=>I("perSecond"),className:`text-right transition-colors ${g==="perSecond"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Per Sec",te("perSecond")]}),u.jsxs("button",{type:"button",onClick:()=>I("duration"),className:`text-right transition-colors ${g==="duration"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",te("duration")]})]}),rows:u.jsx(u.Fragment,{children:K.map((k,R)=>u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:R+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(k.profession,k.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:k.account})]}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:Math.round(k.total).toLocaleString()}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:s(k.perSecond,1)}),u.jsx("div",{className:"text-right font-mono text-gray-400",children:k.duration?`${k.duration.toFixed(1)}s`:"-"})]},`${o.id}-${k.account}-${R}`))})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a special buff to view details"})})})]})},fae=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}...`:e:"",pae=({hasSigilRelicTables:e,sigilRelicSearch:t,setSigilRelicSearch:n,filteredSigilRelicTables:r,activeSigilRelicTab:a,setActiveSigilRelicTab:i,activeSigilRelicTable:o,formatWithCommas:s,renderProfessionIcon:l,expandedSection:c,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:p,isSectionVisible:m,isFirstVisibleSection:h,sectionClass:y,sidebarListClass:x})=>{const[g,b]=v.useState("desc"),w=c==="sigil-relic-uptime",S=v.useMemo(()=>{if(!(o!=null&&o.rows))return[];const C=[...o.rows];return C.sort((j,M)=>{const P=Number((j==null?void 0:j.uptimePerSecond)??(j==null?void 0:j.perSecond)??0),$=Number((M==null?void 0:M.uptimePerSecond)??(M==null?void 0:M.perSecond)??0),E=g==="desc"?$-P:P-$;return E!==0?E:String((j==null?void 0:j.account)||"").localeCompare(String((M==null?void 0:M.account)||""))}),C},[o,g]);return u.jsxs("div",{id:"sigil-relic-uptime","data-section-visible":m("sigil-relic-uptime"),"data-section-first":h("sigil-relic-uptime"),className:y("sigil-relic-uptime",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${c==="sigil-relic-uptime"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(k1,{className:"w-5 h-5 text-fuchsia-300"}),"Sigil/Relic Uptime"]}),u.jsx("button",{type:"button",onClick:()=>c==="sigil-relic-uptime"?p():f("sigil-relic-uptime"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":c==="sigil-relic-uptime"?"Close Sigil/Relic Uptime":"Expand Sigil/Relic Uptime",title:c==="sigil-relic-uptime"?"Close":"Expand",children:c==="sigil-relic-uptime"?u.jsx(Ba,{className:"w-4 h-4"}):u.jsx(ki,{className:"w-4 h-4"})})]}),e?u.jsx(As,{expanded:w,sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${w?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${w?"flex flex-col min-h-0":""}`,sidebar:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Sigil/Relic"}),u.jsx("input",{value:t,onChange:C=>n(C.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),u.jsx("div",{className:`${x} ${w?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No sigil/relic entries match this filter"}):r.map(C=>u.jsx("button",{onClick:()=>i(C.id),title:C.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===C.id?"bg-fuchsia-500/20 text-fuchsia-200 border-fuchsia-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:u.jsx(kr,{name:fae(C.name),iconUrl:C.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},C.id))})]}),content:u.jsx(u.Fragment,{children:o?u.jsx(Es,{expanded:w,maxHeightClass:"max-h-72",header:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[u.jsx("div",{className:"text-sm font-semibold text-gray-200",children:u.jsx(kr,{name:o.name,iconUrl:o.icon,iconClassName:"h-4 w-4"})}),u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Uptime"})]}),columns:u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[u.jsx("div",{className:"text-center",children:"#"}),u.jsx("div",{children:"Player"}),u.jsxs("button",{type:"button",onClick:()=>b(C=>C==="desc"?"asc":"desc"),className:"text-right transition-colors text-gray-400 hover:text-gray-200",children:["Uptime ",g==="desc"?"":""]})]}),rows:u.jsx(u.Fragment,{children:S.map((C,j)=>{const M=Number(C.uptimePerSecond??C.perSecond??0)*100;return u.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[u.jsx("div",{className:"text-center text-gray-500 font-mono",children:j+1}),u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(C.profession,C.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:C.account})]}),u.jsxs("div",{className:"text-right font-mono text-gray-300",children:[s(M,1),"%"]})]},`${o.id}-${C.account}-${j}`)})})}):u.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a sigil/relic to view uptime"})})}):u.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No sigil/relic uptime data available"})]})},mae=({stats:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>u.jsxs(u.Fragment,{children:[u.jsx("div",{id:"kdr",className:"scroll-mt-24"}),u.jsxs("div",{id:"overview","data-section-visible":t("overview"),"data-section-first":n("overview"),className:r("overview","grid grid-cols-1 md:grid-cols-2 gap-4 scroll-mt-24"),children:[u.jsx("div",{className:"overview-card overview-card--green bg-gradient-to-br from-green-500/20 to-emerald-900/20 border border-green-500/30 rounded-2xl px-5 py-4",children:u.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.avgSquadSize}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Avg Squad"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-black text-green-300 leading-none",children:e.wins}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/50 mt-1",children:"Victories"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.squadKDR}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Squad KDR"})]})]})}),u.jsx("div",{className:"overview-card overview-card--red bg-gradient-to-br from-red-500/20 to-rose-900/20 border border-red-500/30 rounded-2xl px-5 py-4",children:u.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[u.jsxs("div",{className:"text-left",children:[u.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.avgEnemies}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Avg Enemies"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl font-black text-red-300 leading-none",children:e.losses}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/50 mt-1",children:"Defeats"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.enemyKDR}),u.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Enemy KDR"})]})]})})]})]}),hae=({stats:e,fightBreakdownTab:t,setFightBreakdownTab:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>{var o;const s=v.useMemo(()=>{const c=new Map;return(Array.isArray(e==null?void 0:e.fightBreakdown)?e.fightBreakdown:[]).forEach(d=>{(Array.isArray(d==null?void 0:d.teamBreakdown)?d.teamBreakdown:[]).forEach(f=>{const p=String((f==null?void 0:f.teamId)??"").trim(),m=Number((f==null?void 0:f.count)||0);!p||!Number.isFinite(m)||m<=0||c.set(p,(c.get(p)||0)+m)})}),Array.from(c.entries()).sort((d,f)=>{const p=f[1]-d[1];return p!==0?p:d[0].localeCompare(f[0],void 0,{numeric:!0})}).map(([d])=>d)},[e==null?void 0:e.fightBreakdown]),l=c=>{const d=c==null?void 0:c.timestamp;let f=0;if(typeof d=="number")f=d>1e12?d:d*1e3;else if(typeof d=="string"&&d.trim()){const y=Number(d);if(Number.isFinite(y)&&y>0)f=y>1e12?y:y*1e3;else{const x=Date.parse(d);Number.isFinite(x)&&x>0&&(f=x)}}const p=f>0?new Date(f).toLocaleDateString(void 0,{month:"2-digit",day:"2-digit"})+" "+new Date(f).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"}):"--",m=(c==null?void 0:c.mapName)||(c==null?void 0:c.map)||"Unknown Map",h=String(m).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim();return`${p}  ${h}`};return u.jsx("div",{id:"fight-breakdown","data-section-visible":r("fight-breakdown"),"data-section-first":a("fight-breakdown"),className:i("fight-breakdown","mt-6 stats-share-exclude"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:items-center sm:justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-200",children:"Fight Breakdown"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx(Mn,{value:t,onChange:n,options:[{value:"sizes",label:"Sizes"},{value:"outcomes",label:"Outcome"},{value:"damage",label:"Damage"},{value:"barrier",label:"Barrier"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsxs("span",{className:"text-[10px] uppercase tracking-widest text-gray-500 sm:ml-1 w-full sm:w-auto",children:[((o=e.fightBreakdown)==null?void 0:o.length)||0," Fights"]})]})]}),(e.fightBreakdown||[]).length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight data available"}):u.jsx("div",{className:"overflow-x-auto",children:u.jsx("div",{className:"max-h-[360px] overflow-y-auto",children:u.jsxs("table",{className:"w-full text-xs table-auto min-w-[720px]",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-right py-2 px-2 w-8",children:"#"}),u.jsx("th",{className:"text-left py-2 px-3 w-[240px]",children:"Report"}),u.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Duration"}),u.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Outcome"}),t==="sizes"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Squad"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemies"}),s.length===0?u.jsx("th",{className:"text-right py-2 px-3",children:"Teams"}):s.map(c=>u.jsx("th",{className:"text-right py-2 px-3",children:`Team ${c}`},c))]}),t==="outcomes"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Down"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Dead"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Allies Revived"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Rallies"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Downs"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Deaths"})]}),t==="damage"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",children:"Outgoing Dmg"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Incoming Dmg"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]}),t==="barrier"&&u.jsxs(u.Fragment,{children:[u.jsx("th",{className:"text-right py-2 px-3",title:"Incoming damage mitigated by your squad's barrier",children:"Barrier Absorption"}),u.jsx("th",{className:"text-right py-2 px-3",title:"Outgoing damage mitigated by enemy barrier",children:"Enemy Barrier Absorption"}),u.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})]})}),u.jsx("tbody",{children:(e.fightBreakdown||[]).map((c,d)=>u.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[u.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-500 w-8",children:d+1}),u.jsx("td",{className:"py-2 px-3 w-[240px]",children:c.permalink?u.jsx("button",{onClick:()=>{var f;c.permalink&&(f=window.electronAPI)!=null&&f.openExternal?window.electronAPI.openExternal(c.permalink):c.permalink&&window.open(c.permalink,"_blank")},className:"text-cyan-300 hover:text-cyan-200 underline underline-offset-2 block truncate",children:l(c)}):u.jsx("span",{className:"text-gray-500",children:"Pending"})}),u.jsx("td",{className:"py-2 px-3 text-gray-200 w-20",children:c.duration||"--:--"}),u.jsx("td",{className:`py-2 px-3 font-semibold ${c.isWin?"text-emerald-300":"text-red-300"}`,children:c.isWin?"Win":"Loss"}),t==="sizes"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(Nv,{count:c.squadCount??0,classCounts:c.squadClassCountsFight,label:"Squad Classes",className:"text-gray-200"})}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(Nv,{count:c.allyCount??0,classCounts:c.allyClassCountsFight,label:"Ally Classes",className:"text-gray-200"})}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:u.jsx(Nv,{count:c.enemyCount??0,classCounts:c.enemyClassCounts,label:"Enemy Classes",className:"text-gray-200"})}),s.length===0?u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:"0"}):s.map(f=>{const p=(Array.isArray(c.teamBreakdown)?c.teamBreakdown:[]).find(m=>String((m==null?void 0:m.teamId)??"")===f);return u.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:Number((p==null?void 0:p.count)||0)},f)})]}),t==="outcomes"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesDown??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesDead??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.alliesRevived??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.rallies??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.enemyDowns??0}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.enemyDeaths??0})]}),t==="damage"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.totalOutgoingDamage||0).toLocaleString()}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.totalIncomingDamage||0).toLocaleString()}),(()=>{const f=Number((c.totalOutgoingDamage||0)-(c.totalIncomingDamage||0));return u.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-red-300":"text-emerald-300"}`,children:f.toLocaleString()})})()]}),t==="barrier"&&u.jsxs(u.Fragment,{children:[u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.incomingBarrierAbsorbed||0).toLocaleString()}),u.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(c.outgoingBarrierAbsorbed||0).toLocaleString()}),(()=>{const f=Number((c.outgoingBarrierAbsorbed||0)-(c.incomingBarrierAbsorbed||0));return u.jsx("td",{className:`py-2 px-3 text-right font-mono ${f<0?"text-emerald-300":"text-red-300"}`,children:f.toLocaleString()})})()]})]},c.id||`${c.label}-${d}`))})]})})})]})})},OA={red:{bg:"bg-red-500/20",text:"text-red-400"},yellow:{bg:"bg-yellow-500/20",text:"text-yellow-400"},green:{bg:"bg-green-500/20",text:"text-green-400"},purple:{bg:"bg-purple-500/20",text:"text-purple-400"},blue:{bg:"bg-blue-500/20",text:"text-blue-400"},pink:{bg:"bg-pink-500/20",text:"text-pink-400"},cyan:{bg:"bg-cyan-500/20",text:"text-cyan-400"},indigo:{bg:"bg-indigo-500/20",text:"text-indigo-400"}},gae=({icon:e,title:t,data:n,color:r,unit:a="",onClick:i,active:o,rows:s,formatValue:l,renderProfessionIcon:c})=>{const d=OA[r]||OA.blue,f=(n==null?void 0:n.value)??0,p=l?l(f):Math.round(f).toLocaleString();return u.jsxs("div",{role:"button",tabIndex:0,onClick:i,onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),i==null||i())},className:`bg-white/5 border border-white/10 rounded-xl p-4 flex flex-col gap-3 group hover:bg-white/10 transition-colors cursor-pointer ${o?"ring-1 ring-white/20":""}`,children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:`p-3 rounded-lg ${d.bg} ${d.text} shrink-0`,children:u.jsx(e,{className:"w-6 h-6"})}),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("div",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider truncate",children:t}),u.jsxs("div",{className:"text-2xl font-bold text-white mt-0.5 break-words",children:[p," ",u.jsx("span",{className:"text-sm font-normal text-gray-500",children:a})]})]})]}),u.jsxs("div",{className:"flex flex-col border-t border-white/5 pt-2",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c((n==null?void 0:n.profession)||"Unknown",n==null?void 0:n.professionList,"w-4 h-4"),u.jsx("div",{className:"text-sm font-medium text-blue-300 truncate",children:(n==null?void 0:n.player)||"-"})]}),u.jsx("div",{className:"text-xs text-gray-500 truncate",children:n!=null&&n.count?`${n.count} logs`:"-"})]}),o&&u.jsxs("div",{className:"mt-3 stats-share-exclude",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-200 mb-2",children:t}),s!=null&&s.length?u.jsx("div",{className:"max-h-56 overflow-y-auto pr-1 space-y-1",children:s.map(m=>u.jsxs("div",{className:"flex items-center gap-2 min-w-0 text-xs text-gray-300",children:[u.jsx("div",{className:"w-6 shrink-0 text-right text-gray-500",children:m.rank}),u.jsx("div",{className:"shrink-0",children:c(m.profession,m.professionList,"w-4 h-4")}),u.jsx("div",{className:"flex-1 min-w-0 truncate",children:m.account}),u.jsx("div",{className:"shrink-0 text-gray-400 font-mono",children:l?l(m.value):m.value})]},`${t}-${m.rank}-${m.account}`))}):u.jsx("div",{className:"text-xs text-gray-500 italic",children:"No data available"})]})]})},yae=(e,t)=>{const n=(Array.isArray(e)?e:[]).map(i=>({...i,value:Number((i==null?void 0:i.value)??0)})).filter(i=>Number.isFinite(i.value)).sort((i,o)=>{const s=t?o.value-i.value:i.value-o.value;return s!==0?s:String((i==null?void 0:i.account)||"").localeCompare(String((o==null?void 0:o.account)||""))});let r=null,a=0;return n.map((i,o)=>((r===null||i.value!==r)&&(a=o+1,r=i.value),{...i,rank:a}))},IA=(e,t)=>{if(typeof e=="number"&&Number.isFinite(e))return t(e);if(typeof e=="string"){const n=Number(e.replace(/,/g,"").trim());return Number.isFinite(n)?t(n):e}return"--"},vae=({stats:e,showTopStats:t,showMvp:n,topStatsMode:r,expandedLeader:a,setExpandedLeader:i,formatTopStatValue:o,formatWithCommas:s,isMvpStatEnabled:l,renderProfessionIcon:c,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:p})=>t?u.jsxs("div",{id:"top-players","data-section-visible":d("top-players"),"data-section-first":f("top-players"),className:p("top-players","scroll-mt-24"),children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(ac,{className:"w-5 h-5 text-yellow-400"}),"Top Players (Total Accumulated Stats)"]}),n&&u.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[minmax(0,1.6fr)_minmax(0,0.9fr)] gap-3 mb-6",children:[u.jsxs("div",{className:"mvp-card mvp-card--gold border border-yellow-500/30 rounded-2xl p-3 relative overflow-hidden group flex items-center",children:[u.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-yellow-500/10 blur-[80px] rounded-full pointer-events-none group-hover:bg-yellow-500/20 transition-all"}),u.jsxs("div",{className:"flex items-center gap-5 relative z-10 w-full",children:[u.jsx("div",{className:"hidden sm:flex items-center justify-center w-20 h-20 rounded-full bg-yellow-500/20 border border-yellow-500/30 shadow-[0_0_20px_rgba(234,179,8,0.2)]",children:u.jsx(cz,{className:"w-10 h-10 text-yellow-400"})}),u.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(r0,{className:"w-4 h-4 text-yellow-400 animate-pulse"}),u.jsx("span",{className:"text-yellow-400 font-bold uppercase tracking-widest text-xs",children:"Squad MVP"})]}),u.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-white mb-2 flex flex-wrap items-center gap-2 sm:gap-3",children:[u.jsx("span",{className:"min-w-0 max-w-full truncate",children:e.mvp.account}),c(e.mvp.profession,e.mvp.professionList,"w-6 h-6"),u.jsx("span",{className:"text-sm sm:text-lg font-medium text-yellow-200/70 bg-white/5 px-2 py-0.5 rounded border border-yellow-500/20 max-w-full truncate",children:e.mvp.profession})]}),u.jsxs("p",{className:"text-yellow-200/80 italic flex items-center gap-2 mb-2",children:[u.jsx(Eh,{className:"w-4 h-4 text-yellow-400 fill-yellow-500/40"}),'"',e.mvp.reason,'"']}),u.jsx("div",{className:"mt-auto flex flex-wrap gap-2",children:e.mvp.topStats&&e.mvp.topStats.filter(m=>l(m.name)).map((m,h)=>u.jsxs("div",{className:"inline-flex items-baseline gap-2 px-2.5 py-0.5 bg-yellow-500/10 border border-yellow-500/30 rounded-full text-[11px] leading-none",children:[u.jsx("span",{className:"text-yellow-200 font-bold",children:m.name}),u.jsx("span",{className:"text-yellow-50 font-mono tabular-nums",children:IA(m.val,o)})]},h))})]}),u.jsxs("div",{className:"hidden lg:block text-right",children:[u.jsx("div",{className:"text-yellow-500/40 font-mono text-sm uppercase tracking-wider font-bold",children:"Contribution Score"}),u.jsx("div",{className:"text-4xl font-black text-yellow-500/80",children:e.mvp.score>0?e.mvp.score.toFixed(1):"-"}),u.jsxs("div",{className:"text-xs text-yellow-500/30 font-mono mt-1",children:["Avg: ",e.avgMvpScore.toFixed(1)]})]})]})]}),u.jsx("div",{className:"grid grid-cols-2 xl:grid-cols-1 gap-3",children:[{label:"Silver",data:e.silver},{label:"Bronze",data:e.bronze}].map(m=>{var h,y,x,g,b;return u.jsxs("div",{className:`mvp-card mvp-card--${m.label.toLowerCase()} border border-white/10 rounded-2xl p-3 relative overflow-hidden group flex flex-col`,children:[u.jsx("div",{className:`absolute top-0 right-0 w-48 h-48 rounded-full blur-[70px] pointer-events-none transition-all ${m.label==="Silver"?"bg-slate-300/15 group-hover:bg-slate-300/25":"bg-orange-400/15 group-hover:bg-orange-400/25"}`}),u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsxs("div",{className:`text-xs uppercase tracking-widest font-semibold ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:[m.label," MVP"]}),u.jsx("div",{className:"text-xs text-gray-500 font-mono",children:(h=m.data)!=null&&h.score?m.data.score.toFixed(1):"-"})]}),u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.data&&c(m.data.profession,m.data.professionList,"w-6 h-6"),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("div",{className:`text-base font-semibold ${m.label==="Silver"?"text-slate-100":"text-orange-100"} truncate`,children:((y=m.data)==null?void 0:y.account)||""}),u.jsx("div",{className:`text-xs ${m.label==="Silver"?"text-slate-300/70":"text-orange-200/70"} truncate`,children:((x=m.data)==null?void 0:x.profession)||"Unknown"})]})]}),(b=(g=m.data)==null?void 0:g.topStats)!=null&&b.some(w=>l(w.name))?u.jsx("div",{className:`mt-auto flex flex-wrap items-center gap-2 text-[10px] ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:m.data.topStats.filter(w=>l(w.name)).map((w,S)=>u.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full border leading-none ${m.label==="Silver"?"bg-slate-400/10 border-slate-300/30":"bg-orange-500/10 border-orange-400/30"}`,children:[u.jsx("span",{className:"leading-none",children:w.name}),u.jsx("span",{className:"tabular-nums leading-none",children:IA(w.val,o)})]},S))}):null]},m.label)})})]}),(()=>{const m=r==="perSecond",h=m&&e.topStatsPerSecond?e.topStatsPerSecond:e,y=m&&e.topStatsLeaderboardsPerSecond?e.topStatsLeaderboardsPerSecond:e.leaderboards,x=m?"":"Total ",g=m?" /s":"",b=[{icon:pz,title:`Down Contribution${g}`,data:h.maxDownContrib,color:"red",statKey:"downContrib",higherIsBetter:!0},{icon:Eu,title:`${x}Barrier${g}`,data:h.maxBarrier,color:"yellow",statKey:"barrier",higherIsBetter:!0},{icon:tD,title:`${x}Healing${g}`,data:h.maxHealing,color:"green",statKey:"healing",higherIsBetter:!0},{icon:wz,title:`${x}Dodges${g}`,data:h.maxDodges,color:"cyan",statKey:"dodges",higherIsBetter:!0},{icon:Nf,title:`${x}Strips${g}`,data:h.maxStrips,color:"purple",statKey:"strips",higherIsBetter:!0},{icon:dz,title:`${x}Cleanses${g}`,data:h.maxCleanses,color:"blue",statKey:"cleanses",higherIsBetter:!0},{icon:fz,title:`${x}CC${g}`,data:h.maxCC,color:"pink",statKey:"cc",higherIsBetter:!0},{icon:iD,title:`${x}Stab Gen${g}`,data:h.maxStab,color:"cyan",statKey:"stability",higherIsBetter:!0},{icon:lz,title:"Closest to Tag",data:h.closestToTag,color:"indigo",unit:"dist",statKey:"closestToTag",higherIsBetter:!1}],w=S=>!m||!Number.isFinite(S)?o(S):s(S,2);return u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:b.map(S=>{var C,j,M,P;const $=a==="all",E=yae((y==null?void 0:y[S.statKey])||[],S.higherIsBetter),_=E[0],D=_?{...S.data,value:Number(_.value||0),player:_.account||((C=S.data)==null?void 0:C.player)||"-",count:_.count||((j=S.data)==null?void 0:j.count)||0,profession:_.profession||((M=S.data)==null?void 0:M.profession)||"Unknown",professionList:_.professionList||((P=S.data)==null?void 0:P.professionList)||[]}:S.data;return u.jsx(gae,{...S,data:D,active:$,onClick:()=>i(J=>J==="all"?null:"all"),rows:E,formatValue:w,renderProfessionIcon:c},S.statKey)})})})()]}):null,bae=({stats:e,topSkillsMetric:t,onTopSkillsMetricChange:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>{const o=(t||e.topSkillsMetric)==="downContribution"?"downContribution":"damage",s=o==="downContribution",l=s?"Down Contrib":"Damage",c=o,d=Array.isArray(e.topSkillsByDamage)?e.topSkillsByDamage:null,f=Array.isArray(e.topSkillsByDownContribution)?e.topSkillsByDownContribution:null,p=v.useMemo(()=>s&&f?f:!s&&d?d:[...Array.isArray(e.topSkills)?e.topSkills:[]].sort((y,x)=>{const g=Number((y==null?void 0:y[c])||0);return Number((x==null?void 0:x[c])||0)-g||Number((x==null?void 0:x.hits)||0)-Number((y==null?void 0:y.hits)||0)||String((y==null?void 0:y.name)||"").localeCompare(String((x==null?void 0:x.name)||""))}),[s,d,f,e.topSkills,c]),m=v.useMemo(()=>Math.max(1,...p.map(y=>Number((y==null?void 0:y[c])||0))),[p,c]),h=typeof n=="function";return u.jsxs("div",{"data-section-visible":r("top-skills-outgoing"),"data-section-first":a("top-skills-outgoing"),className:i("top-skills-outgoing","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"),children:[u.jsxs("div",{id:"top-skills-outgoing","data-section-visible":r("top-skills-outgoing"),className:i("top-skills-outgoing","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(m1,{className:"w-5 h-5 text-orange-400"}),"Top Outgoing Skills"]}),u.jsx("div",{className:"text-xs text-gray-500 mt-1",children:l})]}),h&&u.jsx("div",{className:"pill-toggle-group flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"damage",label:"Damage"},{id:"downContribution",label:"Down Contrib"}].map(y=>{const x=(t||e.topSkillsMetric)===y.id;return u.jsx("button",{type:"button",onClick:()=>n==null?void 0:n(y.id),className:`pill-toggle-option px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${x?"pill-toggle-option--active bg-orange-500/30 text-orange-200":"text-gray-400 hover:text-white"}`,children:y.label},y.id)})})]}),u.jsxs("div",{className:"max-h-80 overflow-y-auto space-y-4",children:[p.map((y,x)=>u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",x+1]}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex justify-between items-center text-sm mb-1 leading-tight h-8",children:[u.jsx("span",{className:"text-white font-bold",children:u.jsx(kr,{name:y.name,iconUrl:y.icon,iconClassName:"h-6 w-6",className:"min-w-0 max-w-[180px] sm:max-w-[240px]",textClassName:"truncate leading-none"})}),u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:"text-orange-400 font-mono font-bold",children:Math.round(y[c]||0).toLocaleString()}),u.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",y.hits.toLocaleString()," hits)"]})]})]}),u.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-orange-500 rounded-full",style:{width:`${Number(y[c]||0)/m*100}%`}})})]})]},`outgoing-${y.name||"unknown"}-${x}`)),p.length===0&&u.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No skill data available"})]})]}),u.jsxs("div",{id:"top-skills-incoming","data-section-visible":r("top-skills-incoming"),className:i("top-skills-incoming","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[u.jsx("div",{className:"flex items-center justify-between mb-6",children:u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(az,{className:"w-5 h-5 text-red-500"}),"Top Incoming Skills"]}),u.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Damage"})]})}),u.jsxs("div",{className:"max-h-80 overflow-y-auto space-y-4",children:[(e.topIncomingSkills||[]).map((y,x)=>{var g;return u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",x+1]}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex justify-between items-center text-sm mb-1 leading-tight h-8",children:[u.jsx("span",{className:"text-white font-bold",children:u.jsx(kr,{name:y.name,iconUrl:y.icon,iconClassName:"h-6 w-6",className:"min-w-0 max-w-[180px] sm:max-w-[240px]",textClassName:"truncate leading-none"})}),u.jsxs("div",{className:"text-right",children:[u.jsx("span",{className:"text-red-400 font-mono font-bold",children:Math.round(y.damage).toLocaleString()}),u.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",y.hits.toLocaleString()," hits)"]})]})]}),u.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${y.damage/(((g=e.topIncomingSkills[0])==null?void 0:g.damage)||1)*100}%`}})})]})]},`incoming-${y.name||"unknown"}-${x}`)}),e.topIncomingSkills.length===0&&u.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No incoming damage data available"})]})]})]})},xae=({sortedSquadClassData:e,sortedEnemyClassData:t,getProfessionIconPath:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>u.jsxs("div",{id:"squad-composition","data-section-visible":r("squad-composition"),"data-section-first":a("squad-composition"),className:i("squad-composition","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8 page-break-avoid"),children:[u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(Ar,{className:"w-5 h-5 text-green-400"}),"Classes"]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[u.jsx("div",{className:"h-[240px] sm:h-full",children:u.jsx(vc,{width:"100%",height:"100%",children:u.jsxs(Gx,{children:[u.jsx(wg,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:e.map((o,s)=>u.jsx(Ru,{fill:o.color,stroke:"rgba(0,0,0,0.5)"},`cell-${s}`))}),u.jsx(kc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})})}),u.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:u.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:e.map(o=>u.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[u.jsx("span",{className:"inline-block w-3 h-3 rounded-sm",style:{backgroundColor:o.color}}),n(o.name)?u.jsx("img",{src:n(o.name),alt:o.name,className:"w-4 h-4 shrink-0 object-contain"}):u.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),u.jsx("span",{className:"min-w-0 truncate",children:o.name}),u.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",o.value,")"]})]},o.name))})})]})]}),u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(n0,{className:"w-5 h-5 text-red-400"}),"Enemy Composition"]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[u.jsx("div",{className:"h-[240px] sm:h-full",children:u.jsx(vc,{width:"100%",height:"100%",children:u.jsxs(Gx,{children:[u.jsx(wg,{data:t,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:t.map((o,s)=>u.jsx(Ru,{fill:o.color,stroke:"rgba(0,0,0,0.5)"},`cell-${s}`))}),u.jsx(kc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})})}),u.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:u.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:t.map(o=>u.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[u.jsx("span",{className:"inline-block w-3 h-3 rounded-sm",style:{backgroundColor:o.color}}),n(o.name)?u.jsx("img",{src:n(o.name),alt:o.name,className:"w-4 h-4 shrink-0 object-contain"}):u.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),u.jsx("span",{className:"min-w-0 truncate",children:o.name}),u.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",o.value,")"]})]},o.name))})})]})]})]}),wae=({timelineData:e,timelineFriendlyScope:t,setTimelineFriendlyScope:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>u.jsxs("div",{id:"timeline","data-section-visible":r("timeline"),"data-section-first":a("timeline"),className:i("timeline","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Ar,{className:"w-5 h-5 text-green-400"}),"Squad vs Enemy Size"]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-widest text-gray-500",children:[u.jsx("span",{className:"text-gray-400",children:"Friendly Count"}),u.jsx("div",{className:"flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1",children:[{value:"squad",label:"Squad"},{value:"squadAllies",label:"Squad + Allies"}].map(o=>u.jsx("button",{type:"button",onClick:()=>n(o.value),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${t===o.value?"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40":"border border-transparent text-gray-400 hover:text-gray-200"}`,children:o.label},o.value))})]})]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-10",children:"No timeline data available"}):u.jsx("div",{className:"h-[260px] w-full",children:u.jsx(vc,{width:"100%",height:"100%",children:u.jsxs(Cg,{data:e,margin:{top:10,right:24,left:0,bottom:0},children:[u.jsx(Uf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Hf,{dataKey:"index",tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"}}),u.jsx(Wf,{tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"},width:36}),u.jsx(kc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},labelFormatter:(o,s)=>{var l;const c=(l=s==null?void 0:s[0])==null?void 0:l.payload;return c!=null&&c.label?`Log ${c.index}  ${c.label}`:`Log ${o}`},formatter:(o,s)=>[o,s==="friendly"?t==="squad"?"Squad":"Squad + Allies":"Enemies"]}),u.jsx(Jo,{type:"monotone",dataKey:t==="squad"?"squadCount":"friendlyCount",name:"friendly",stroke:"#22c55e",strokeWidth:2,dot:{r:3,fill:"#22c55e"},activeDot:{r:5}}),u.jsx(Jo,{type:"monotone",dataKey:"enemies",stroke:"#ef4444",strokeWidth:2,dot:{r:3,fill:"#ef4444"},activeDot:{r:5}})]})})})]}),kae=({mapData:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>u.jsxs("div",{id:"map-distribution","data-section-visible":t("map-distribution"),"data-section-first":n("map-distribution"),className:r("map-distribution","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[u.jsx(y1,{className:"w-5 h-5 text-blue-400"}),"Map Distribution"]}),u.jsx("div",{className:"h-[260px] sm:h-[300px] w-full",children:u.jsx(vc,{width:"100%",height:"100%",children:u.jsxs(Gx,{children:[u.jsx(wg,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:5,dataKey:"value",children:e.map((a,i)=>u.jsx(Ru,{fill:a.color,stroke:"rgba(0,0,0,0.5)"},`cell-${i}`))}),u.jsx(kc,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}}),u.jsx(C3,{verticalAlign:"bottom",height:36,payload:e.map(a=>({id:a.name,type:"square",value:a.name,color:a.color,payload:a})),formatter:(a,i)=>u.jsxs("span",{className:"text-gray-300 font-medium ml-1",children:[a," ",u.jsxs("span",{className:"text-gray-500",children:["(",i.payload.value,")"]})]})})]})})})]}),_A=({sectionId:e="spike-damage",title:t="Spike Damage",subtitle:n="Select one player to chart their highest damage burst per fight.",listTitle:r="Squad Players",searchPlaceholder:a="Search player or account",titleIconClassName:i="text-rose-300",expandedSection:o,expandedSectionClosing:s,openExpandedSection:l,closeExpandedSection:c,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:p,spikePlayerFilter:m,setSpikePlayerFilter:h,groupedSpikePlayers:y,spikeMode:x,setSpikeMode:g,selectedSpikePlayerKey:b,setSelectedSpikePlayerKey:w,selectedSpikePlayer:S,spikeChartData:C,spikeChartMaxY:j,selectedSpikeFightIndex:M,setSelectedSpikeFightIndex:P,spikeDrilldownTitle:$,spikeDrilldownData:E,spikeDrilldownDownIndices:_,spikeDrilldownDeathIndices:D,spikeFightSkillRows:J=[],spikeFightSkillTitle:Q="Skill Damage (Selected Fight)",formatWithCommas:Y,renderProfessionIcon:fe})=>{const[K,I]=v.useState(null),[te,k]=v.useState(null),R=F=>String(F||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),A=o===e,N=S?ic(S.profession):"#fda4af",B=x==="hit"?"Highest Damage":x==="1s"?"1s Burst":x==="5s"?"5s Burst":"30s Burst",G=F=>x==="hit"?F.peakHit:x==="1s"?F.peak1s:x==="5s"?F.peak5s:F.peak30s,V=y.flatMap(F=>F.players.map(oe=>({...oe,groupProfession:F.profession}))).sort((F,oe)=>{const ye=G(oe)-G(F);return ye!==0?ye:F.displayName.localeCompare(oe.displayName)}),H=C.reduce((F,oe)=>!F||oe.damage>F.damage?oe:F,null),X=F=>{if(!Number.isFinite(F)||F<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(F))}catch{return""}},O=E.reduce((F,oe)=>Math.max(F,Number(oe.value||0)),0),ee=Math.max(1,O),me=new Set(_),L=new Set(D),ne=E.map((F,oe)=>({...F,downMarker:me.has(oe)?Math.max(Number(F.value||0),ee*.88):null,deathMarker:L.has(oe)?Math.max(Number(F.value||0),ee*.96):null})),z=F=>oe=>{const ye=Number(oe==null?void 0:oe.cx),Qe=Number(oe==null?void 0:oe.cy),le=Number(oe==null?void 0:oe.index);if(!Number.isFinite(ye)||!Number.isFinite(Qe)||!Number.isFinite(le))return null;const qe=(oe==null?void 0:oe.payload)||{},Pe=F==="down"?qe==null?void 0:qe.downMarker:qe==null?void 0:qe.deathMarker;if(!Number.isFinite(Number(Pe)))return null;const ct=`${F}-${le}`,en=K===ct,En=F==="down"?"#facc15":"#ef4444",Br=F==="down"?"#fde047":"#f87171";return u.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onMouseEnter:()=>{I(ct),k({x:ye,y:Qe,kind:F,label:String((qe==null?void 0:qe.label)||"")})},onMouseLeave:()=>{I(ue=>ue===ct?null:ue),k(ue=>(ue==null?void 0:ue.kind)===F&&(ue==null?void 0:ue.label)===String((qe==null?void 0:qe.label)||"")?null:ue)},children:[u.jsx("circle",{cx:ye,cy:Qe,r:en?10:7,fill:Br,opacity:en?.35:.18}),u.jsx("circle",{cx:ye,cy:Qe,r:en?7:5.5,fill:En,stroke:"#0f172a",strokeWidth:en?2.25:1.75})]})};return u.jsxs("div",{id:e,"data-section-visible":d(e),"data-section-first":f(e),className:p(e,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${A?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${s?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[u.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[u.jsxs("div",{className:A?"pr-10 md:pr-0":"",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Nf,{className:`w-5 h-5 ${i}`}),t]}),u.jsx("p",{className:"text-xs text-gray-400",children:n})]}),u.jsxs("div",{className:`flex items-center gap-3 ${A?"pr-10 md:pr-0":""}`,children:[u.jsx(Mn,{value:x,onChange:F=>g(F),options:[{value:"hit",label:"Highest Damage"},{value:"1s",label:"1s"},{value:"5s",label:"5s"},{value:"30s",label:"30s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),u.jsx("button",{type:"button",onClick:()=>A?c():l(e),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${A?"absolute top-2 right-2 md:static":""}`,"aria-label":A?`Close ${t}`:`Expand ${t}`,title:A?"Close":"Expand",children:A?u.jsx(Ba,{className:"w-4 h-4"}):u.jsx(ki,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:r}),u.jsx("input",{type:"search",value:m,onChange:F=>h(F.target.value),placeholder:a,className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-rose-400 focus:outline-none"}),u.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:V.length===0?u.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No players match the filter."}):u.jsx("div",{className:"p-1.5 space-y-1",children:V.map(F=>{const oe=b===F.key;return u.jsx("button",{type:"button",onClick:()=>w(F.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${oe?"border-rose-300/60 bg-rose-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:u.jsxs("div",{className:"flex items-center justify-between gap-2",children:[u.jsxs("div",{className:"min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[fe(F.profession,void 0,"w-3.5 h-3.5"),u.jsx("div",{className:"text-sm font-semibold truncate text-white",children:F.displayName}),u.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:F.groupProfession})]}),u.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[F.characterName||F.displayName,"  ",F.logs," ",F.logs===1?"fight":"fights"]})]}),u.jsx("div",{className:"text-xs font-mono text-rose-200 shrink-0",children:Y(G(F)||0,0)})]})},F.key)})})})]}),u.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:["Per Fight ",B]}),u.jsxs("div",{className:"text-[11px] text-gray-500",children:[C.length," ",C.length===1?"fight":"fights"]})]}),u.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!S||C.length===0?u.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view burst damage by fight."}):u.jsx(vc,{width:"100%",height:"100%",children:u.jsxs(Cg,{data:C,onClick:F=>{const oe=Number(F==null?void 0:F.activeTooltipIndex);Number.isFinite(oe)&&P(M===oe?null:oe)},children:[u.jsx(Uf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Hf,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),u.jsx(Wf,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,j)],tickFormatter:F=>Y(F,0)}),u.jsx(kc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(F,oe)=>[Y(Number(F||0),0),String(oe||"")],labelFormatter:(F,oe)=>{var ye;const Qe=(ye=oe==null?void 0:oe[0])==null?void 0:ye.payload;if(!Qe)return"";const le=R(Qe.fullLabel||"");return x==="hit"&&Qe.skillName?`${le}  ${Qe.skillName}`:le}}),u.jsx(Jo,{type:"monotone",dataKey:"damage",name:S.displayName,stroke:N,strokeWidth:3,dot:F=>{var oe;const ye=Number((oe=F==null?void 0:F.payload)==null?void 0:oe.index);if(!Number.isFinite(ye))return null;const Qe=M===ye;return u.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:le=>{le.stopPropagation(),P(Qe?null:ye)},children:[u.jsx("circle",{cx:F.cx,cy:F.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),u.jsx("circle",{cx:F.cx,cy:F.cy,r:Qe?4:3,fill:N,stroke:Qe?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:Qe?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),u.jsx(Jo,{type:"monotone",dataKey:"maxDamage",name:"Fight Max",stroke:"rgba(148,163,184,0.8)",strokeWidth:2,strokeDasharray:"6 4",dot:!1,activeDot:!1})]})})})]})]}),S&&u.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Player"}),u.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[fe(S.profession,S.professionList,"w-4 h-4"),u.jsx("span",{className:"truncate",children:S.displayName})]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:x==="hit"?"Peak Highest Skill Damage":`Peak ${B}`}),u.jsx("div",{className:"mt-1 text-lg font-black text-rose-200 font-mono",children:Y(G(S)||0,0)})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:x==="hit"?"Peak Skill / Fight":"Peak Fight"}),u.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const F=R((H==null?void 0:H.fullLabel)||S.peakFightLabel||"N/A"),oe=X(Number((H==null?void 0:H.timestamp)||0)),ye=oe?`${oe} - ${F}`:F;return x!=="hit"?ye:S.peakSkillName?`${S.peakSkillName}  ${ye}`:ye})()})]})]}),S&&M!==null&&u.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:$}),u.jsx("button",{type:"button",onClick:()=>P(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),u.jsx("div",{className:"h-[220px] relative",children:E.length===0?u.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):u.jsxs(u.Fragment,{children:[u.jsx(vc,{width:"100%",height:"100%",children:u.jsxs(Cg,{data:ne,children:[u.jsx(Uf,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),u.jsx(Hf,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),u.jsx(Wf,{tick:{fill:"#e2e8f0",fontSize:10},tickFormatter:F=>Y(F,0)}),u.jsx(kc,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(F,oe)=>{const ye=String(oe||"");return ye==="Down"?["Downed","Event"]:ye==="Death"?["Dead","Event"]:[Y(Number(F||0),0),"Damage"]},labelFormatter:F=>String(F||"")}),u.jsx(Jo,{type:"monotone",dataKey:"value",name:"Damage",stroke:N,strokeWidth:2.5,dot:x==="hit"?{r:2}:!1,activeDot:{r:4}}),u.jsx(Jo,{type:"linear",dataKey:"downMarker",name:"Down",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:z("down")}),u.jsx(Jo,{type:"linear",dataKey:"deathMarker",name:"Death",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:z("death")})]})}),te&&u.jsxs("div",{className:"pointer-events-none absolute z-20 rounded-md border border-white/15 bg-[#101722] px-2 py-1 text-xs shadow-xl",style:{left:`${Math.max(8,te.x)}px`,top:`${Math.max(8,te.y-38)}px`,transform:"translate(-50%, -100%)"},children:[u.jsx("div",{className:`${te.kind==="down"?"text-yellow-300":"text-red-300"} font-semibold`,children:te.kind==="down"?"Down":"Death"}),u.jsx("div",{className:"text-gray-300",children:te.label})]})]})})]}),S&&M!==null&&u.jsxs("div",{className:`mt-4 transition-all duration-300 ${J.length>0?"opacity-100 translate-y-0":"opacity-90"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:Q}),u.jsxs("div",{className:"text-[10px] uppercase tracking-[0.2em] text-gray-500",children:[J.length," ",J.length===1?"skill":"skills"]})]}),J.length===0?u.jsx("div",{className:"text-xs text-gray-500 italic py-4",children:"No skill-level breakdown available for this fight."}):u.jsxs("div",{className:"incoming-skill-table-container rounded-lg border border-white/10 bg-black/35 overflow-hidden",children:[u.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2 text-[10px] uppercase tracking-[0.25em] text-gray-400 border-b border-white/10",children:[u.jsx("div",{children:"Skill"}),u.jsx("div",{className:"text-right",children:"Damage"}),u.jsx("div",{className:"text-right",children:"Hits"})]}),u.jsx("div",{className:"max-h-[260px] overflow-y-auto",children:J.map((F,oe)=>u.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2 text-sm text-gray-200 border-b border-white/[0.05] last:border-b-0",children:[u.jsxs("div",{className:"min-w-0 flex items-center gap-2",children:[F.icon?u.jsx("img",{src:F.icon,alt:"",loading:"lazy",className:"w-4 h-4 rounded-sm border border-white/[0.16] bg-black/40 flex-shrink-0"}):u.jsx("div",{className:"w-4 h-4 rounded-sm border border-white/[0.14] bg-white/[0.06] flex-shrink-0"}),u.jsx("div",{className:"truncate",title:F.skillName,children:F.skillName})]}),u.jsx("div",{className:"text-right font-mono text-rose-200",children:Y(Number(F.damage||0),0)}),u.jsx("div",{className:"text-right font-mono text-gray-300",children:Y(Number(F.hits||0),0)})]},`${F.skillName}-${oe}`))})]})]})]})},Sae=10,jv=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),a=t%60;return n>0?`${n}h ${String(r).padStart(2,"0")}m`:r>0?`${r}m ${String(a).padStart(2,"0")}s`:`${a}s`},Nae=({attendanceRows:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:a})=>{const[i,o]=v.useState(""),[s,l]=v.useState("squad"),[c,d]=v.useState("desc"),f=i.trim().toLowerCase(),p=v.useMemo(()=>{const y=e.filter(g=>{if(!f)return!0;const b=String(g.account||"").toLowerCase(),w=(g.characterNames||[]).join(" ").toLowerCase(),S=(g.classTimes||[]).map(C=>String(C.profession||"").toLowerCase()).join(" ");return b.includes(f)||w.includes(f)||S.includes(f)}),x=g=>Number(s==="fight"?g.combatTimeMs??g.squadTimeMs??0:g.squadTimeMs??0);return[...y].sort((g,b)=>{const w=x(b)-x(g);return w!==0?c==="desc"?w:-w:String(g.account||"").localeCompare(String(b.account||""))})},[e,f,c,s]),m=y=>{if(s===y){d(x=>x==="desc"?"asc":"desc");return}l(y),d("desc")},h=p.length>Sae;return u.jsx("section",{id:"attendance-ledger","data-section-visible":n("attendance-ledger"),"data-section-first":r("attendance-ledger"),className:a("attendance-ledger","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[u.jsx(Sf,{className:"w-5 h-5 text-amber-300"}),"Attendance Ledger"]}),u.jsxs("span",{className:"inline-flex items-center rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] uppercase tracking-widest text-gray-300",children:[e.length," Joined"]})]}),u.jsx("input",{value:i,onChange:y=>o(y.target.value),placeholder:"Search account, character, or class...",className:"w-full sm:w-[320px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"})]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No attendance data available."}):u.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${h?"max-h-[30rem] overflow-y-auto":""}`,children:u.jsxs("table",{className:"w-full text-xs table-auto min-w-[900px] border-separate border-spacing-0",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[u.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Account"}),u.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Character(s)"}),u.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Classes Played"}),u.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:u.jsxs("button",{type:"button",onClick:()=>m("fight"),className:`transition-colors ${s==="fight"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Fight Time",s==="fight"?c==="desc"?" ":" ":""]})}),u.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:u.jsxs("button",{type:"button",onClick:()=>m("squad"),className:`transition-colors ${s==="squad"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Squad Time",s==="squad"?c==="desc"?" ":" ":""]})})]})}),u.jsxs("tbody",{children:[p.map(y=>u.jsxs("tr",{className:"border-t border-white/5 align-top hover:bg-white/5",children:[u.jsx("td",{className:"py-2 px-4 text-gray-100 font-medium whitespace-nowrap",children:y.account}),u.jsx("td",{className:"py-2 px-4 text-gray-300",children:y.characterNames.length>0?y.characterNames.join(", "):"-"}),u.jsx("td",{className:"py-2 px-4",children:u.jsx("div",{className:"flex flex-wrap gap-1.5",children:y.classTimes.length>0?y.classTimes.map(x=>u.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] text-gray-200",children:[t(x.profession)?u.jsx("img",{src:t(x.profession),alt:x.profession,className:"w-3.5 h-3.5 object-contain"}):null,u.jsx("span",{children:x.profession}),u.jsx("span",{className:"text-gray-400",children:jv(x.timeMs)})]},`${y.account}-${x.profession}`)):u.jsx("span",{className:"text-gray-500",children:"-"})})}),u.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:jv(Number(y.combatTimeMs??y.squadTimeMs??0))}),u.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:jv(y.squadTimeMs)})]},y.account)),p.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:5,className:"py-6 text-center text-gray-500 italic",children:"No attendance rows match your search."})})]})]})})]})})},jae=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},Cae=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:a})=>{const[i,o]=v.useState(null),[s,l]=v.useState(""),c=s.trim().toLowerCase(),d=np("svg/commander_tag.svg");v.useEffect(()=>{if(e.length===0){i!==null&&o(null);return}(!i||!e.some(m=>m.id===i))&&o(e[0].id)},[e,i]);const f=v.useMemo(()=>e.find(m=>m.id===i)||null,[e,i]),p=m=>{if(!c)return!1;const h=String(m.account||"").toLowerCase(),y=String(m.characterName||"").toLowerCase(),x=String(m.profession||"").toLowerCase();return h.includes(c)||y.includes(c)||x.includes(c)};return u.jsx("section",{id:"squad-comp-fight","data-section-visible":n("squad-comp-fight"),"data-section-first":r("squad-comp-fight"),className:a("squad-comp-fight","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 squad-comp-shell",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(Ar,{className:"w-5 h-5 text-cyan-300"}),"Squad Comp By Fight"]}),u.jsx("div",{className:"mb-4",children:u.jsx("input",{value:s,onChange:m=>l(m.target.value),placeholder:"Search player or class (highlight matches)...",className:"w-full sm:w-[360px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"})}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No squad composition data available."}):u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[u.jsxs("aside",{className:"squad-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),u.jsx("div",{className:"space-y-1 pr-1 max-h-[560px] xl:max-h-[720px] overflow-y-auto",children:e.map(m=>{const h=m.id===i;return u.jsxs("button",{onClick:()=>o(m.id),className:`squad-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${h?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100 squad-comp-fight-nav-item--active":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:m.label}),u.jsx("div",{className:"text-xs font-semibold truncate",children:m.mapName||"Unknown Map"}),u.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[m.duration||"--:--","  ",jae(m.timestamp)]})]},m.id)})})]}),u.jsx("div",{className:"rounded-xl border border-white/10 bg-gradient-to-b from-slate-950/55 to-slate-900/45 p-3 squad-comp-board",children:f?u.jsx("div",{className:"space-y-2.5",children:f.parties.map(m=>u.jsxs("div",{className:"squad-comp-party-row grid grid-cols-[40px_minmax(0,1fr)] gap-2 rounded-xl border border-white/10 bg-black/25 p-2",children:[u.jsxs("div",{className:"squad-comp-party-badge rounded-lg border border-white/15 bg-slate-900/80 text-center py-2",children:[u.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-500",children:"P"}),u.jsx("div",{className:"text-base font-bold text-gray-100 leading-none",children:m.party>0?m.party:"-"})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-1 min-w-0",children:m.players.map((h,y)=>(()=>{const x=p(h);return u.jsxs("div",{className:`squad-comp-player-tile rounded-md border border-emerald-300/20 bg-gradient-to-b from-emerald-500/30 to-emerald-700/25 px-2 py-1.5 min-w-0 transition-all ${x?"ring-2 ring-cyan-300/70 border-cyan-300/60 shadow-[0_0_20px_rgba(34,211,238,0.25)]":""} ${h.isCommander?"relative overflow-hidden":""}`,children:[h.isCommander?u.jsx("img",{src:d,alt:"","aria-hidden":"true",className:"absolute -right-2 -bottom-2 w-12 h-12 object-contain opacity-20 brightness-75 pointer-events-none"}):null,u.jsxs("div",{className:"grid grid-cols-[18px_minmax(0,1fr)] grid-rows-2 gap-x-2 items-center min-w-0",children:[u.jsx("div",{className:"row-span-2 flex items-center justify-center",children:t(h.profession)?u.jsx("img",{src:t(h.profession),alt:h.profession,className:"squad-comp-player-icon w-5 h-5 object-contain shrink-0 opacity-95"}):u.jsx("span",{className:"squad-comp-player-icon inline-block w-5 h-5 rounded-sm border border-white/15"})}),u.jsx("div",{className:"squad-comp-player-account text-[11px] font-semibold text-emerald-50 truncate min-w-0 flex items-center gap-1",title:h.account,children:u.jsx("span",{className:"truncate min-w-0",children:h.account})}),u.jsx("div",{className:"squad-comp-player-character text-[10px] text-emerald-100/80 truncate min-w-0",title:h.characterName||"Unknown",children:h.characterName||"Unknown"})]})]},`${f.id}-${m.party}-${h.account}-${y}`)})())})]},`${f.id}-party-${m.party}`))}):u.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},Mae=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},Aae=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:a})=>{const[i,o]=v.useState(null);v.useEffect(()=>{if(e.length===0){i!==null&&o(null);return}(!i||!e.some(c=>c.id===i))&&o(e[0].id)},[e,i]);const s=v.useMemo(()=>e.find(c=>c.id===i)||null,[e,i]),l=v.useMemo(()=>s!=null&&s.enemyClassCounts?Object.entries(s.enemyClassCounts).map(([c,d])=>({profession:c,count:Number(d||0)})).filter(c=>c.count>0).sort((c,d)=>d.count-c.count||c.profession.localeCompare(d.profession)):[],[s]);return u.jsx("section",{id:"fight-comp","data-section-visible":n("fight-comp"),"data-section-first":r("fight-comp"),className:a("fight-comp","mb-8 page-break-avoid"),children:u.jsxs("div",{className:"fight-comp-shell bg-white/5 border border-white/10 rounded-2xl p-6",children:[u.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[u.jsx(Yd,{className:"w-5 h-5 text-cyan-300"}),"Fight Comp"]}),e.length===0?u.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight composition data available."}):u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[u.jsxs("aside",{className:"fight-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 self-start",children:[u.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),u.jsx("div",{className:"space-y-1 pr-1 max-h-[320px] overflow-y-auto",children:e.map(c=>{const d=c.id===i;return u.jsxs("button",{onClick:()=>o(c.id),className:`fight-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${d?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:c.label}),u.jsx("div",{className:"text-xs font-semibold truncate",children:c.mapName||"Unknown Map"}),u.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[c.duration||"--:--","  ",Mae(c.timestamp)]})]},c.id)})})]}),u.jsx("div",{className:"fight-comp-board rounded-xl border border-white/10 bg-black/30 p-3 overflow-x-auto",children:s?u.jsxs("div",{className:"grid grid-cols-2 gap-3 min-w-[640px]",children:[u.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[u.jsx("div",{className:"px-3 py-2 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Squad Parties"}),u.jsx("div",{className:"p-2 rounded-lg border border-white/10 bg-white/[0.03] divide-y divide-white/10",children:s.parties.map(c=>{const d=Array.isArray(c.players)&&c.players.length>0?c.players.map(f=>({profession:String((f==null?void 0:f.profession)||"Unknown"),account:String((f==null?void 0:f.account)||""),characterName:String((f==null?void 0:f.characterName)||"")})).filter(f=>f.profession&&f.profession!=="Unknown").sort((f,p)=>f.profession.localeCompare(p.profession)||f.characterName.localeCompare(p.characterName)||f.account.localeCompare(p.account)):Object.entries(c.classCounts||{}).flatMap(([f,p])=>Array.from({length:Math.max(0,Number(p||0))},()=>({profession:String(f),account:"",characterName:""}))).filter(f=>f.profession&&f.profession!=="Unknown").sort((f,p)=>f.profession.localeCompare(p.profession));return u.jsxs("div",{className:"fight-comp-row grid grid-cols-[42px_minmax(0,1fr)] gap-2 items-center px-2 py-1 first:pt-0 last:pb-0",children:[u.jsx("div",{className:"fight-comp-party-badge text-[10px] font-semibold uppercase tracking-widest text-gray-300 text-center rounded-md border border-white/10 bg-black/20 py-1",children:c.party>0?`P${c.party}`:"Unk"}),u.jsx("div",{className:"flex flex-wrap gap-x-2.5 gap-y-1",children:d.length>0?d.map((f,p)=>u.jsx("span",{title:f.characterName||f.account?`${f.profession}  ${f.characterName||"Unknown"} (${f.account||"Unknown"})`:f.profession,className:"fight-comp-class-icon fight-comp-class-icon--squad inline-flex items-center justify-center",children:t(f.profession)?u.jsx("img",{src:t(f.profession),alt:f.profession,className:"w-4 h-4 object-contain"}):u.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/15"})},`${s.id}-party-${c.party}-${f.profession}-${f.account||f.characterName||p}-${p}`)):u.jsx("span",{className:"text-gray-500 text-[11px]",children:"-"})})]},`${s.id}-party-${c.party}`)})})]}),u.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[u.jsx("div",{className:"px-3 py-2 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400",children:"Enemy Classes"}),u.jsx("div",{className:"p-2.5",children:l.length>0?u.jsx("div",{className:"flex flex-wrap gap-1.5",children:l.map(c=>u.jsxs("div",{className:"fight-comp-row inline-flex items-center gap-1.5 rounded-lg border border-white/10 bg-white/[0.03] px-2 py-1",children:[u.jsx("span",{className:"fight-comp-class-icon inline-flex items-center justify-center rounded-md border border-white/10 bg-black/20 px-1.5 py-1",title:c.profession,children:t(c.profession)?u.jsx("img",{src:t(c.profession),alt:c.profession,className:"w-3.5 h-3.5 object-contain"}):u.jsx("span",{className:"inline-block w-3.5 h-3.5 rounded-sm border border-white/15"})}),u.jsx("span",{className:"text-[11px] font-mono text-gray-200",children:c.count})]},`${s.id}-enemy-${c.profession}`))}):u.jsx("div",{className:"py-6 text-center text-gray-500 italic text-sm",children:"No enemy class data"})})]})]}):u.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},Eae=({embedded:e,dashboardTitle:t,totalLogs:n,onBack:r,devMockAvailable:a,devMockUploadState:i,onDevMockUpload:o,uploadingWeb:s,onWebUpload:l,sharing:c,canShareDiscord:d,onShare:f})=>{const p=c||!d,m=d?"":"Select a Discord webhook to enable sharing.";return u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-3 shrink-0 px-2",children:[u.jsxs("div",{className:"flex items-start gap-3 sm:items-center sm:gap-4",children:[!e&&u.jsx("button",{onClick:r,className:"p-2 rounded-full bg-white/5 border border-white/10 hover:bg-white/10 transition-colors text-gray-400 hover:text-white",children:u.jsx(nD,{className:"w-6 h-6"})}),u.jsxs("div",{className:"space-y-0",children:[u.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-white flex items-center gap-2",children:[u.jsx(ac,{className:"w-6 h-6 text-yellow-500"}),t||"Statistics Dashboard"]}),u.jsxs("p",{className:"text-gray-400 text-[11px] sm:text-xs",children:["Performance across ",n," uploaded logs"]})]})]}),!e&&u.jsxs("div",{className:"flex items-center gap-3",children:[a&&u.jsxs("button",{onClick:o,disabled:i.uploading,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 bg-amber-500/15 text-amber-200 border border-amber-500/30 hover:bg-amber-500/25",children:[u.jsx(r0,{className:"w-4 h-4"}),i.uploading?"Building...":"Dev Mock Upload"]}),u.jsxs("button",{onClick:l,disabled:s,className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:[u.jsx(xz,{className:"w-4 h-4"}),s?"Uploading...":"Upload to Web"]}),u.jsxs("div",{className:"relative group",title:m,children:[u.jsxs("button",{onClick:f,disabled:p,"aria-disabled":p,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(yz,{className:"w-4 h-4"}),c?"Sharing...":"Share to Discord"]}),!d&&u.jsx("div",{className:"pointer-events-none absolute right-0 top-full mt-2 w-56 rounded-md border border-white/10 bg-black/90 px-2 py-1 text-[11px] text-gray-200 opacity-0 shadow-lg transition-opacity group-hover:opacity-100 z-50",children:"Select a Discord webhook to enable sharing."})]})]})]})},Pae=({embedded:e,webUploadMessage:t,webUploadUrl:n,webUploadBuildStatus:r,webCopyStatus:a,setWebCopyStatus:i})=>{if(e||!t)return null;const o=n||t.replace(/^Uploaded:\s*/i,"").trim(),[s,l]=v.useState("idle"),c=(()=>{if(!o)return null;try{const d=new URL(o),f=d.searchParams.get("report");if(!f||!d.hostname.endsWith("github.io"))return null;const p=d.pathname.match(/^\/([^/]+\.github\.io)(\/|$)/i),m=(p==null?void 0:p[1])||"";return!m||m.toLowerCase()!==d.hostname.toLowerCase()?null:`${d.origin}/?report=${f}`}catch{return null}})();return u.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[u.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[u.jsx("span",{className:"uppercase tracking-widest text-[10px] text-cyan-300/70",children:"Uploaded"}),u.jsx("button",{onClick:()=>{var d;o&&(d=window.electronAPI)!=null&&d.openExternal&&window.electronAPI.openExternal(o)},className:"text-cyan-200 hover:text-cyan-100 underline underline-offset-2",children:o}),r!=="idle"&&u.jsxs("span",{className:`ml-2 text-[10px] px-2 py-0.5 rounded-full border inline-flex items-center gap-1 ${r==="built"?"bg-emerald-500/20 text-emerald-300 border-emerald-500/40":r==="errored"?"bg-red-500/20 text-red-300 border-red-500/40":r==="unknown"?"bg-white/5 text-gray-400 border-white/10":"bg-cyan-500/20 text-cyan-200 border-cyan-500/40"}`,children:[(r==="checking"||r==="building")&&u.jsx(hz,{className:"w-3 h-3 animate-spin"}),r==="built"&&u.jsx(rD,{className:"w-3 h-3"}),r==="errored"&&u.jsx(oD,{className:"w-3 h-3"}),r==="built"?"Build ready":r==="errored"?"Build failed":r==="unknown"?"Build status unknown":"Building"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>{o&&(navigator.clipboard.writeText(o),i("copied"),setTimeout(()=>i("idle"),1200))},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:a==="copied"?"Copied":"Copy URL"}),c&&u.jsx("button",{onClick:()=>{navigator.clipboard.writeText(c),l("copied"),setTimeout(()=>l("idle"),1200)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:s==="copied"?"Copied":"Copy Short"})]})]})},Tae=({embedded:e,devMockAvailable:t,devMockUploadState:n})=>e||!t||!n.message?null:u.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[u.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[u.jsx("span",{className:"uppercase tracking-widest text-[10px] text-amber-300/70",children:"Dev Mock"}),n.url?u.jsx("button",{onClick:()=>{var r;const a=n.url;a&&(r=window.electronAPI)!=null&&r.openExternal&&window.electronAPI.openExternal(a)},className:"text-amber-200 hover:text-amber-100 underline underline-offset-2",children:n.url}):u.jsx("span",{className:"text-gray-300",children:n.message})]}),n.url&&u.jsx("button",{onClick:()=>{var r;const a=n.url;a&&(r=window.electronAPI)!=null&&r.openExternal&&window.electronAPI.openExternal(a)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:"Open in Browser"})]}),Dae=({embedded:e,uiTheme:t="classic",mobileNavOpen:n,setMobileNavOpen:r,tocGroups:a,tocItems:i,activeNavId:o,scrollToSection:s,stepSection:l})=>{var c;const d=t==="matte",f=t==="modern",p=t==="crt",m=d?"rounded-2xl border border-white/10 bg-[#222629] shadow-[-4px_-4px_8px_rgba(255,255,255,0.03),6px_6px_12px_rgba(0,0,0,0.45)]":p?"rounded-sm border border-green-400/35 bg-[#07110c]":f?"rounded-2xl border border-white/15 bg-[#1b2430]":"rounded-2xl border border-white/25 bg-white/5 backdrop-blur-2xl shadow-[0_24px_65px_rgba(0,0,0,0.55)]",h=d?"rounded-xl bg-[#2a2e31] border border-white/10 text-[10px] uppercase tracking-widest text-gray-200 shadow-[inset_1px_1px_2px_rgba(255,255,255,0.04),inset_-1px_-1px_2px_rgba(0,0,0,0.35)]":p?"rounded-sm bg-[#0b1a12] border border-green-400/35 text-[10px] uppercase tracking-widest text-green-200":f?"rounded-xl bg-[#202830] border border-white/10 text-[10px] uppercase tracking-widest text-gray-200":"rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",y=d?"w-full max-w-sm max-h-[68vh] rounded-2xl p-4 border border-white/15 bg-[#222629] flex flex-col overflow-hidden":p?"w-full max-w-sm max-h-[68vh] rounded-sm p-4 border border-green-400/35 bg-[#07110c] flex flex-col overflow-hidden":f?"w-full max-w-sm max-h-[68vh] rounded-2xl p-4 border border-white/20 bg-[#1f252b] flex flex-col overflow-hidden":"w-full max-w-sm max-h-[68vh] rounded-2xl p-4 border border-white/20 bg-white/5 shadow-[0_22px_60px_rgba(0,0,0,0.55)] backdrop-blur-2xl flex flex-col overflow-hidden",[x,g]=v.useState({});return v.useEffect(()=>{a.length!==0&&g(b=>{if(Object.keys(b).length>0)return b;const w={};return a.forEach((S,C)=>{w[S.id]=C===0}),w})},[a]),v.useEffect(()=>{const b=a.find(w=>w.items.some(S=>S.id===o));b&&g(w=>({...w,[b.id]:!0}))},[o,a]),e?null:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:`fixed inset-0 z-40 bg-black/60 transition-opacity ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>r(!1)}),u.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50",children:u.jsxs("div",{className:`flex items-center justify-between gap-2 px-3 py-1.5 ${m}`,children:[u.jsxs("button",{onClick:()=>l(-1),className:`flex items-center gap-2 px-3 py-1.5 ${h}`,children:[u.jsx(Yl,{className:"w-4 h-4 rotate-90 text-[color:var(--accent)]"}),"Prev"]}),u.jsxs("button",{onClick:()=>r(b=>!b),className:`flex items-center gap-2 px-4 py-1.5 ${h}`,children:[u.jsx("span",{className:"truncate max-w-[160px]",children:((c=i.find(b=>b.id===o))==null?void 0:c.label)||"Sections"}),u.jsx(Yl,{className:`w-4 h-4 text-[color:var(--accent)] transition-transform ${n?"rotate-180":""}`})]}),u.jsxs("button",{onClick:()=>l(1),className:`flex items-center gap-2 px-3 py-1.5 ${h}`,children:["Next",u.jsx(Yl,{className:"w-4 h-4 -rotate-90 text-[color:var(--accent)]"})]})]})}),n&&u.jsx("div",{"data-stats-mobile-nav":"overlay",className:"fixed inset-0 z-50 flex items-center justify-center px-4",onClick:b=>{b.target===b.currentTarget&&r(!1)},children:u.jsxs("div",{"data-stats-mobile-nav":"panel",className:y,children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.3em] text-gray-400",children:"Jump to"}),u.jsx("button",{onClick:()=>r(!1),className:"p-1.5 rounded-lg hover:bg-white/10 text-gray-300 hover:text-white transition-colors","aria-label":"Close navigation",children:u.jsx(Ba,{className:"w-4 h-4"})})]}),u.jsx("div",{"data-stats-mobile-nav":"list",className:"flex-1 min-h-0 overflow-y-auto overscroll-contain touch-pan-y -mx-4 px-4 pb-8",onWheel:b=>b.stopPropagation(),onTouchMove:b=>b.stopPropagation(),children:u.jsx("div",{className:"space-y-3",children:a.map(b=>{const w=b.icon,S=x[b.id]??!1,C=b.items.some(j=>j.id===o);return u.jsxs("div",{className:"space-y-1",children:[u.jsxs("button",{onClick:()=>g(j=>({...j,[b.id]:!S})),className:`w-full text-left flex items-center gap-2 px-2 py-2 rounded-lg border transition-colors ${C?"bg-white/10 border-white/15 text-white":"bg-white/5 border-white/10 text-gray-200 hover:bg-white/[0.08]"}`,children:[u.jsx("span",{className:"flex items-center justify-center w-6 h-6",children:u.jsx(w,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"})}),u.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-[0.18em] truncate",children:b.label}),u.jsx(Yl,{className:`ml-auto w-4 h-4 text-gray-300 transition-transform ${S?"rotate-180":""}`})]}),S&&u.jsx("div",{className:"space-y-1 pl-2",children:b.items.map(j=>{const M=j.icon,P=j.id===o;return u.jsxs("button",{onClick:()=>s(j.id),className:`stats-nav-entry stats-nav-entry--item w-full text-left flex items-center gap-2 px-2 py-2 text-gray-200 transition-colors min-w-0 rounded-md ${P?"bg-white/10":"hover:bg-white/[0.03]"}`,children:[u.jsx("span",{className:"flex items-center justify-center w-6 h-6",children:u.jsx(M,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"})}),u.jsx("span",{className:"text-[13px] font-medium truncate min-w-0",children:j.label})]},j.id)})})]},b.id)})})})]})})]})},Mo="space-y-1 pr-1 max-h-72 overflow-y-auto",Oae=new Set(["Vulnerability","Weakness","Blind","Chill","Cripple","Slow","Taunt","Fear","Immobilize"]),Iae=["overview","fight-breakdown","top-players","top-skills-outgoing","squad-composition","attendance-ledger","squad-comp-fight","fight-comp","timeline","map-distribution","boon-output","offense-detailed","spike-damage","conditions-outgoing","defense-detailed","incoming-strike-damage","support-detailed","healing-stats","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"];function _ae({logs:e,onBack:t,mvpWeights:n,statsViewSettings:r,onStatsViewSettingsChange:a,webUploadState:i,onWebUpload:o,disruptionMethod:s,precomputedStats:l,embedded:c=!1,sectionVisibility:d,dashboardTitle:f,uiTheme:p,canShareDiscord:m=!0}){var h,y;const x=n||xD,g=r||Gb,b=i||B8,w=g.showTopStats,S=g.showMvp,C=g.roundCountStats,j=g.topStatsMode||"total",[M,P]=v.useState(g.topSkillsMetric||"damage"),$=(a?g.topSkillsMetric:M)||"damage",E=b.uploading,_=b.message,D=b.url,J=b.buildStatus,Q=!c&&!1,{result:Y}=G8({logs:e,precomputedStats:l,mvpWeights:n,statsViewSettings:r,disruptionMethod:s}),{stats:fe,skillUsageData:K}=Y,I=v.useMemo(()=>{var q,se,he,He,we,Je;const ie=fe&&typeof fe=="object"?fe:{},We=xe=>Array.isArray(xe)?xe:[],ln=xe=>xe&&typeof xe=="object"?xe:{},Be=(xe,St)=>xe&&typeof xe=="object"?xe:St,Et={value:0,player:"-",profession:"Unknown",professionList:[],count:0},Dt={account:"-",profession:"Unknown",professionList:[],reason:"",topStats:[],score:0},cn={...ie,total:Number(ie.total||0),timelineData:We(ie.timelineData),mapData:We(ie.mapData),fightBreakdown:We(ie.fightBreakdown),topSkills:We(ie.topSkills),topIncomingSkills:We(ie.topIncomingSkills),leaderboards:ln(ie.leaderboards),topStatsPerSecond:ln(ie.topStatsPerSecond),topStatsLeaderboardsPerSecond:ln(ie.topStatsLeaderboardsPerSecond),maxDownContrib:Be(ie.maxDownContrib,Et),maxBarrier:Be(ie.maxBarrier,Et),maxHealing:Be(ie.maxHealing,Et),maxDodges:Be(ie.maxDodges,Et),maxStrips:Be(ie.maxStrips,Et),maxCleanses:Be(ie.maxCleanses,Et),maxCC:Be(ie.maxCC,Et),maxStab:Be(ie.maxStab,Et),closestToTag:Be(ie.closestToTag,Et),mvp:{...Dt,...ln(ie.mvp),topStats:We((q=ie==null?void 0:ie.mvp)==null?void 0:q.topStats)},silver:Be(ie.silver,Dt),bronze:Be(ie.bronze,Dt),avgMvpScore:Number(ie.avgMvpScore||0),offensePlayers:We(ie.offensePlayers),defensePlayers:We(ie.defensePlayers),damageMitigationPlayers:We(ie.damageMitigationPlayers),damageMitigationMinions:We(ie.damageMitigationMinions),supportPlayers:We(ie.supportPlayers),healingPlayers:We(ie.healingPlayers),boonTables:We(ie.boonTables),specialTables:We(ie.specialTables),outgoingConditionSummary:We(ie.outgoingConditionSummary),outgoingConditionPlayers:We(ie.outgoingConditionPlayers),incomingConditionSummary:We(ie.incomingConditionSummary),incomingConditionPlayers:We(ie.incomingConditionPlayers),squadClassData:We(ie.squadClassData),enemyClassData:We(ie.enemyClassData),attendanceData:We(ie.attendanceData),squadCompByFight:We(ie.squadCompByFight),playerSkillBreakdowns:We(ie.playerSkillBreakdowns)},lt=We((se=cn.leaderboards)==null?void 0:se.downContrib).map(xe=>({...xe,value:Number((xe==null?void 0:xe.value)??0)})).filter(xe=>Number.isFinite(xe.value)).sort((xe,St)=>St.value-xe.value||String((xe==null?void 0:xe.account)||"").localeCompare(String((St==null?void 0:St.account)||"")))[0];return lt&&(cn.maxDownContrib={...cn.maxDownContrib||{},value:Number(lt.value||0),player:String(lt.account||((he=cn.maxDownContrib)==null?void 0:he.player)||"-"),count:Number(lt.count||((He=cn.maxDownContrib)==null?void 0:He.count)||0),profession:String(lt.profession||((we=cn.maxDownContrib)==null?void 0:we.profession)||"Unknown"),professionList:Array.isArray(lt.professionList)?lt.professionList:((Je=cn.maxDownContrib)==null?void 0:Je.professionList)||[]}),cn},[fe]);v.useEffect(()=>{var q;if(!((q=window==null?void 0:window.electronAPI)!=null&&q.fetchImageAsDataUrl))return;const se=new Set,he=He=>{if(He){if(typeof He=="string"){/^https?:\/\//i.test(He)&&se.add(He);return}if(Array.isArray(He)){He.forEach(he);return}typeof He=="object"&&Object.entries(He).forEach(([we,Je])=>{if((we==="icon"||we==="iconUrl")&&typeof Je=="string"){/^https?:\/\//i.test(Je)&&se.add(Je);return}he(Je)})}};he(I),se.size>0&&Kre(Array.from(se))},[I]);const te=v.useMemo(()=>{const q=(l==null?void 0:l.skillUsageData)??K;return{logRecords:Array.isArray(q==null?void 0:q.logRecords)?q.logRecords:[],players:Array.isArray(q==null?void 0:q.players)?q.players:[],skillOptions:Array.isArray(q==null?void 0:q.skillOptions)?q.skillOptions:[],resUtilitySkills:Array.isArray(q==null?void 0:q.resUtilitySkills)?q.resUtilitySkills:[]}},[K,l==null?void 0:l.skillUsageData]),k=te.players.length>0;v.useEffect(()=>{a||P(g.topSkillsMetric||"damage")},[g.topSkillsMetric,a]);const R=q=>{if(a){a({...g,topSkillsMetric:q});return}P(q)},{mobileNavOpen:A,setMobileNavOpen:N,activeNavId:B,scrollContainerRef:G,tocGroups:V,tocItems:H,scrollToSection:X,stepSection:O}=kz(c),{devMockUploadState:ee,webCopyStatus:me,setWebCopyStatus:L,handleWebUpload:ne,handleDevMockUpload:z}=Sz({logs:e,stats:I,skillUsageData:te,activeStatsViewSettings:r||Gb,uiTheme:p||"classic",embedded:c,onWebUpload:o}),{sharing:F,handleShare:oe}=y8(c),ye={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},Qe=q=>{const se=ye[q];return se?x[se]>0:!0},[le,qe]=v.useState(null),[Pe,ct]=v.useState(null),[en,En]=v.useState("totalBuffs"),[Br,ue]=v.useState("total"),[De,dt]=v.useState(""),[tn,fn]=v.useState(null),[Sr,sr]=v.useState(""),[Hn,zr]=v.useState(null),[Qr,yn]=v.useState(""),[sn,ha]=v.useState(""),[nn,Pr]=v.useState(""),[Ur,ad]=v.useState(""),[Oc,Cl]=v.useState(""),[Ts,Ml]=v.useState(""),[Vo,W]=v.useState(""),[ce,Me]=v.useState("outgoing"),[Xe,_t]=v.useState(""),[jt,ft]=v.useState("damage"),[un,Dn]=v.useState("damageTaken"),[Nr,Re]=v.useState("totalMitigation"),[tt,Wt]=v.useState("all"),[Gt,hr]=v.useState({key:"damage",dir:"desc"}),jr=!(tt!=="all"&&Oae.has(tt)),Vr=jr?"grid-cols-[0.4fr_1.6fr_1fr_1fr]":"grid-cols-[0.4fr_1.6fr_1fr]",Al=jr?Gt:{key:"applications",dir:Gt.key==="applications"?Gt.dir:"desc"},[yy,vy]=v.useState("condiCleanse"),[by,xy]=v.useState("healing"),[wy,ky]=v.useState("total"),[T,U]=v.useState("all"),[re,Ce]=v.useState("total"),[Z,Ne]=v.useState("total"),[Ie,ut]=v.useState("total"),[bt,ht]=v.useState("total"),[Vt,jn]=v.useState("all"),[On,Ye]=v.useState("squad"),[Ge,pt]=v.useState("player"),[Ht,Xt]=v.useState(""),[ve,je]=v.useState(""),[be,Fe]=v.useState(null),[pe,Ee]=v.useState([]),[ke,xt]=v.useState(null),[et,nt]=v.useState(null),[qt,wn]=v.useState("hit"),[Rt,Zn]=v.useState(null),[Ut,ae]=v.useState(null),[_e,Ze]=v.useState("hit"),[At,Te]=v.useState([]),[Le,gt]=v.useState(null),[Ve,Lt]=v.useState(!1),It=v.useRef(null),[Bt,at]=v.useState("sizes"),[zt,yt]=v.useState("total"),rn=zt==="perSecond",[Ft,Mt]=v.useState(null),[Oe,ge]=v.useState("total"),[it,wt]=v.useState(null),[Zt,vn]=v.useState(null),[In,Jr]=v.useState(null),[vo,Ho]=v.useState(""),[Si,bo]=v.useState(null),[xo,id]=v.useState(null),[Ni,Wo]=v.useState(null),[od,El]=v.useState(""),[sd,wo]=v.useState("player"),[ji,Ae]=v.useState(null),[Ke,mt]=v.useState(null),[Ct,pn]=v.useState(null),{apmSpecBuckets:kn}=Y8(te),Sn=I.playerSkillBreakdowns||[],Qn=v.useMemo(()=>{const q=new Map;return Sn.forEach(se=>q.set(se.key,se)),q},[Sn]),mn=v.useMemo(()=>{const q=new Map;return Sn.forEach(se=>{const he=se.profession||"Unknown";q.has(he)||q.set(he,{profession:he,players:[],skills:new Map});const He=q.get(he);He.players.push(se),se.skills.forEach(we=>{var Je;const ie=He.skills.get(we.id)||{...we,damage:0,downContribution:0};ie.damage+=Number(we.damage||0),ie.downContribution+=Number(we.downContribution||0),!ie.icon&&we.icon&&(ie.icon=we.icon),(Je=ie.name)!=null&&Je.startsWith("Skill ")&&!we.name.startsWith("Skill ")&&(ie.name=we.name),He.skills.set(we.id,ie)})}),Array.from(q.values()).map(se=>{const he=Array.from(se.skills.values()).sort((we,Je)=>Je.damage-we.damage),He=he.reduce((we,Je)=>(we[Je.id]=Je,we),{});return{profession:se.profession,players:se.players,skills:he,skillMap:He}}).sort((se,he)=>se.profession.localeCompare(he.profession))},[Sn]),gr=Si&&Qn.get(Si)||null,Ds=gr&&Ni&&((h=gr.skillMap)==null?void 0:h[Ni])||null,ko=v.useMemo(()=>{const q=new Map;return mn.forEach(se=>q.set(se.profession,se)),q},[mn]),oi=ji&&ko.get(ji)||null,Bp=oi&&Ct&&((y=oi.skillMap)==null?void 0:y[Ct])||null,sa=v.useMemo(()=>{const q=xe=>String(xe||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),se=xe=>q(xe).toLowerCase().split(/[^a-z0-9]+/i).map(St=>St.trim()).filter(Boolean).map(St=>St.length>3&&St.endsWith("s")?St.slice(0,-1):St),he=(xe,St)=>{const Ue=q(xe),$n=q(St);if(!$n)return Ue;if(!Ue)return $n;const Tr=se(Ue),Rn=se($n),yr=new Set(Tr),Nn=new Set(Rn),Wa=Rn.length>0&&Rn.every(Ot=>yr.has(Ot)),Pt=Tr.length>0&&Tr.every(Ot=>Nn.has(Ot));return Wa||Pt?Ue:`${Ue} - ${$n}`},He=xe=>{if(xe==null||xe==="")return 0;if(typeof xe=="number")return!Number.isFinite(xe)||xe<=0?0:xe>1e12?xe:xe*1e3;if(xe instanceof Date){const yr=xe.getTime();return Number.isFinite(yr)&&yr>0?yr:0}const St=String(xe).trim();if(!St)return 0;const Ue=Number(St);if(Number.isFinite(Ue)&&Ue>0)return Ue>1e12?Ue:Ue*1e3;const $n=Date.parse(St);if(Number.isFinite($n)&&$n>0)return $n;const Tr=St.replace(/([+-]\d{2})$/,"$1:00"),Rn=Date.parse(Tr);return Number.isFinite(Rn)&&Rn>0?Rn:0},we=(xe,St)=>He((xe==null?void 0:xe.uploadTime)??(St==null?void 0:St.uploadTime)??(xe==null?void 0:xe.timeStartStd)??(xe==null?void 0:xe.timeStart)??(xe==null?void 0:xe.timeEndStd)??(xe==null?void 0:xe.timeEnd)),Je=I==null?void 0:I.spikeDamage,ie=Array.isArray(Je==null?void 0:Je.fights)?Je.fights:[],We=Array.isArray(Je==null?void 0:Je.players)?Je.players:[],ln=ie.some(xe=>(xe!=null&&xe.values&&typeof xe.values=="object"?Object.values(xe.values):[]).some(St=>St&&typeof St=="object"&&(Number(St.burst1s||0)>0||Number(St.burst5s||0)>0||Number(St.burst30s||0)>0)))||We.some(xe=>Number((xe==null?void 0:xe.peak1s)||0)>0||Number((xe==null?void 0:xe.peak5s)||0)>0||Number((xe==null?void 0:xe.peak30s)||0)>0);if((ie.length>0||We.length>0)&&(ln||e.length===0)){const xe=ie.map((Ue,$n)=>{const Tr=Ue!=null&&Ue.values&&typeof Ue.values=="object"?Ue.values:{},Rn={};return Object.entries(Tr).forEach(([yr,Nn])=>{if(Nn&&typeof Nn=="object"){const Wa=Number(Nn.damage||0);Rn[yr]={hit:Number(Nn.hit??Wa),burst1s:Number(Nn.burst1s||0),burst5s:Number(Nn.burst5s||0),burst30s:Number(Nn.burst30s||0),skillName:String(Nn.skillName||""),buckets5s:Array.isArray(Nn.buckets5s)?Nn.buckets5s.map(Pt=>Number(Pt||0)):void 0,downIndices5s:Array.isArray(Nn.downIndices5s)?Nn.downIndices5s.map(Pt=>Number(Pt)).filter(Pt=>Number.isFinite(Pt)&&Pt>=0):void 0,deathIndices5s:Array.isArray(Nn.deathIndices5s)?Nn.deathIndices5s.map(Pt=>Number(Pt)).filter(Pt=>Number.isFinite(Pt)&&Pt>=0):void 0,skillRows:Array.isArray(Nn.skillRows)?Nn.skillRows.map(Pt=>({skillName:String((Pt==null?void 0:Pt.skillName)||(Pt==null?void 0:Pt.name)||"Unknown Skill"),damage:Number((Pt==null?void 0:Pt.damage)||0),hits:Number((Pt==null?void 0:Pt.hits)||0),icon:typeof(Pt==null?void 0:Pt.icon)=="string"?Pt.icon:void 0})).filter(Pt=>Number.isFinite(Pt.damage)&&Pt.damage>0):void 0};return}Rn[yr]={hit:Number(Nn||0),burst1s:0,burst5s:0,burst30s:0,skillName:""}}),{id:String((Ue==null?void 0:Ue.id)||`fight-${$n+1}`),shortLabel:String((Ue==null?void 0:Ue.shortLabel)||`F${$n+1}`),fullLabel:q((Ue==null?void 0:Ue.fullLabel)||`Fight ${$n+1}`),timestamp:Number((Ue==null?void 0:Ue.timestamp)||0),values:Rn,maxHit:Number((Ue==null?void 0:Ue.maxHit)??(Ue==null?void 0:Ue.maxDamage)??0),max1s:Number((Ue==null?void 0:Ue.max1s)||0),max5s:Number((Ue==null?void 0:Ue.max5s)||0),max30s:Number((Ue==null?void 0:Ue.max30s)||0)}}),St=We.map(Ue=>({key:String((Ue==null?void 0:Ue.key)||""),account:String((Ue==null?void 0:Ue.account)||"Unknown"),displayName:String((Ue==null?void 0:Ue.displayName)||(Ue==null?void 0:Ue.account)||"Unknown"),characterName:String((Ue==null?void 0:Ue.characterName)||(Ue==null?void 0:Ue.name)||(Ue==null?void 0:Ue.character_name)||(Ue==null?void 0:Ue.display_name)||""),profession:String((Ue==null?void 0:Ue.profession)||"Unknown"),professionList:Array.isArray(Ue==null?void 0:Ue.professionList)?Ue.professionList.map($n=>String($n)):[],logs:Number((Ue==null?void 0:Ue.logs)||0),peakHit:Number((Ue==null?void 0:Ue.peakHit)||0),peak1s:Number((Ue==null?void 0:Ue.peak1s)||0),peak5s:Number((Ue==null?void 0:Ue.peak5s)||0),peak30s:Number((Ue==null?void 0:Ue.peak30s)||0),peakFightLabel:q((Ue==null?void 0:Ue.peakFightLabel)||""),peakSkillName:String((Ue==null?void 0:Ue.peakSkillName)||"")}));return{fights:xe,players:St}}const Be=(xe,St)=>{const Ue=(St==null?void 0:St.skillMap)||{},$n=(St==null?void 0:St.buffMap)||{};let Tr=0,Rn="";const yr=Pt=>{const Ot=Number(Pt);if(!Number.isFinite(Ot))return String(Pt||"Unknown Skill");const Nt=(Ue==null?void 0:Ue[`s${Ot}`])||(Ue==null?void 0:Ue[`${Ot}`]);if(Nt!=null&&Nt.name)return String(Nt.name);const Qt=($n==null?void 0:$n[`b${Ot}`])||($n==null?void 0:$n[`${Ot}`]);return Qt!=null&&Qt.name?String(Qt.name):`Skill ${Ot}`},Nn=Pt=>{if(!Pt||typeof Pt!="object")return;const Ot=[Number(Pt.max),Number(Pt.maxDamage),Number(Pt.maxHit)].filter(Qt=>Number.isFinite(Qt)),Nt=Ot.length>0?Math.max(...Ot):0;Nt>Tr&&(Tr=Nt,Rn=yr(Pt.id))};let Wa=!1;return Array.isArray(xe==null?void 0:xe.targetDamageDist)&&xe.targetDamageDist.forEach(Pt=>{Array.isArray(Pt)&&Pt.forEach(Ot=>{Array.isArray(Ot)&&Ot.forEach(Nt=>{Wa=!0,Nn(Nt)})})}),(!Wa||Tr<=0)&&Array.isArray(xe==null?void 0:xe.totalDamageDist)&&xe.totalDamageDist.forEach(Pt=>{Array.isArray(Pt)&&Pt.forEach(Ot=>Nn(Ot))}),{peak:Tr,skillName:Rn||"Unknown Skill"}},Et=(xe,St)=>{const Ue=Ot=>{if(!Array.isArray(Ot)||Ot.length===0)return[];const Nt=[];for(let Qt=0;Qt<Ot.length;Qt+=1){const vr=Number(Ot[Qt]||0),tr=Qt>0?Number(Ot[Qt-1]||0):0;Nt.push(Math.max(0,vr-tr))}return Nt},$n=(Ot,Nt)=>{if(!Array.isArray(Ot)||Ot.length===0||Nt<=0)return 0;let Qt=0,vr=0;for(let tr=0;tr<Ot.length;tr+=1)Qt+=Number(Ot[tr]||0),tr>=Nt&&(Qt-=Number(Ot[tr-Nt]||0)),tr>=Nt-1&&Qt>vr&&(vr=Qt);return Math.max(0,vr)},Tr=Ot=>{if(!Array.isArray(Ot))return[];const Nt=Ot.reduce((vr,tr)=>Math.max(vr,Array.isArray(tr)?tr.length:0),0);if(Nt<=0)return[];const Qt=new Array(Nt).fill(0);return Ot.forEach(vr=>{if(Array.isArray(vr))for(let tr=0;tr<Nt;tr+=1)Qt[tr]+=Number(vr[tr]||0)}),Qt},Rn=Ot=>Array.isArray(Ot)?Ot.map(Nt=>Number(Nt||0)):null,yr=(Ot=>{if(!Array.isArray(Ot)||Ot.length===0)return null;const Nt=Ot[0];if(!Array.isArray(Nt))return null;if(Array.isArray(Nt[0])&&Array.isArray(Nt[0][0]))return Tr(Nt);if(Array.isArray(Nt[0])&&!Array.isArray(Nt[0][0])){const Qt=Ot.map(vr=>Rn(Array.isArray(vr)?vr[0]:null)).filter(vr=>Array.isArray(vr)&&vr.length>0);if(Qt.length>0)return Tr(Qt)}return null})(xe==null?void 0:xe.targetDamage1S),Nn=Array.isArray(xe==null?void 0:xe.damage1S)&&Array.isArray(xe.damage1S[0])?xe.damage1S[0]:null,Wa=yr||(Array.isArray(Nn)?Nn.map(Ot=>Number(Ot||0)):[]),Pt=Ue(Wa);return $n(Pt,St)},Dt=[],cn=new Map;e.forEach(xe=>{const St=xe==null?void 0:xe.details;if(!St)return;const Ue=Dt.length+1,$n=q(St.fightName||xe.fightName||`Fight ${Ue}`),Tr=St.zone||St.mapName||St.map||St.location||"",Rn=he($n,String(Tr||"")),yr={};(Array.isArray(St.players)?St.players:[]).forEach(Nt=>{if(Nt!=null&&Nt.notInSquad)return;const Qt=String((Nt==null?void 0:Nt.account)||(Nt==null?void 0:Nt.name)||"Unknown"),vr=String((Nt==null?void 0:Nt.character_name)||(Nt==null?void 0:Nt.display_name)||(Nt==null?void 0:Nt.name)||""),tr=String((Nt==null?void 0:Nt.profession)||"Unknown"),Dl=`${Qt}|${tr}`,Ls=Be(Nt,St),Fs=Number(Ls.peak||0),Ol=Number(Et(Nt,1)||0),_c=Number(Et(Nt,5)||0),Lc=Number(Et(Nt,30)||0);yr[Dl]={hit:Fs,burst1s:Ol,burst5s:_c,burst30s:Lc,skillName:Ls.skillName};const Dr=cn.get(Dl)||{key:Dl,account:Qt,displayName:Qt,characterName:vr,profession:tr,professionList:[tr],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Dr.logs+=1,Dr.professionList.includes(tr)||Dr.professionList.push(tr),!Dr.characterName&&vr&&(Dr.characterName=vr),Fs>Dr.peakHit&&(Dr.peakHit=Fs,Dr.peakFightLabel=Rn,Dr.peakSkillName=Ls.skillName),Ol>Dr.peak1s&&(Dr.peak1s=Ol),_c>Dr.peak5s&&(Dr.peak5s=_c),Lc>Dr.peak30s&&(Dr.peak30s=Lc),cn.set(Dl,Dr)});const Nn=Object.values(yr).reduce((Nt,Qt)=>Math.max(Nt,Number((Qt==null?void 0:Qt.hit)||0)),0),Wa=Object.values(yr).reduce((Nt,Qt)=>Math.max(Nt,Number((Qt==null?void 0:Qt.burst1s)||0)),0),Pt=Object.values(yr).reduce((Nt,Qt)=>Math.max(Nt,Number((Qt==null?void 0:Qt.burst5s)||0)),0),Ot=Object.values(yr).reduce((Nt,Qt)=>Math.max(Nt,Number((Qt==null?void 0:Qt.burst30s)||0)),0);Dt.push({id:xe.filePath||xe.id||`fight-${Ue}`,shortLabel:`F${Ue}`,fullLabel:Rn,timestamp:we(St,xe),values:yr,maxHit:Nn,max1s:Wa,max5s:Pt,max30s:Ot})});const lt=Array.from(cn.values()).sort((xe,St)=>St.peakHit!==xe.peakHit?St.peakHit-xe.peakHit:xe.displayName.localeCompare(St.displayName));return{fights:Dt,players:lt}},[e,I]),ga=v.useMemo(()=>{const q=ie=>String(ie||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),se=I==null?void 0:I.incomingStrikeDamage,he=Array.isArray(se==null?void 0:se.fights)?se.fights:[],He=Array.isArray(se==null?void 0:se.players)?se.players:[];if(he.length===0&&He.length===0)return{fights:[],players:[]};const we=he.map((ie,We)=>{const ln=ie!=null&&ie.values&&typeof ie.values=="object"?ie.values:{},Be={};return Object.entries(ln).forEach(([Et,Dt])=>{if(Dt&&typeof Dt=="object"){const cn=Number(Dt.damage||0);Be[Et]={hit:Number(Dt.hit??cn),burst1s:Number(Dt.burst1s||0),burst5s:Number(Dt.burst5s||0),burst30s:Number(Dt.burst30s||0),skillName:String(Dt.skillName||""),buckets5s:Array.isArray(Dt.buckets5s)?Dt.buckets5s.map(lt=>Number(lt||0)):void 0,downIndices5s:Array.isArray(Dt.downIndices5s)?Dt.downIndices5s.map(lt=>Number(lt)).filter(lt=>Number.isFinite(lt)&&lt>=0):void 0,deathIndices5s:Array.isArray(Dt.deathIndices5s)?Dt.deathIndices5s.map(lt=>Number(lt)).filter(lt=>Number.isFinite(lt)&&lt>=0):void 0,skillRows:Array.isArray(Dt.skillRows)?Dt.skillRows.map(lt=>({skillName:String((lt==null?void 0:lt.skillName)||(lt==null?void 0:lt.name)||"Unknown Skill"),damage:Number((lt==null?void 0:lt.damage)||0),hits:Number((lt==null?void 0:lt.hits)||0),icon:typeof(lt==null?void 0:lt.icon)=="string"?lt.icon:void 0})).filter(lt=>Number.isFinite(lt.damage)&&lt.damage>0):void 0};return}Be[Et]={hit:Number(Dt||0),burst1s:0,burst5s:0,burst30s:0,skillName:""}}),{id:String((ie==null?void 0:ie.id)||`fight-${We+1}`),shortLabel:String((ie==null?void 0:ie.shortLabel)||`F${We+1}`),fullLabel:q((ie==null?void 0:ie.fullLabel)||`Fight ${We+1}`),timestamp:Number((ie==null?void 0:ie.timestamp)||0),values:Be,maxHit:Number((ie==null?void 0:ie.maxHit)??(ie==null?void 0:ie.maxDamage)??0),max1s:Number((ie==null?void 0:ie.max1s)||0),max5s:Number((ie==null?void 0:ie.max5s)||0),max30s:Number((ie==null?void 0:ie.max30s)||0)}}),Je=He.map(ie=>({key:String((ie==null?void 0:ie.key)||""),account:String((ie==null?void 0:ie.account)||"Unknown"),displayName:String((ie==null?void 0:ie.displayName)||(ie==null?void 0:ie.account)||"Unknown"),characterName:String((ie==null?void 0:ie.characterName)||(ie==null?void 0:ie.name)||(ie==null?void 0:ie.character_name)||(ie==null?void 0:ie.display_name)||""),profession:String((ie==null?void 0:ie.profession)||"Unknown"),professionList:Array.isArray(ie==null?void 0:ie.professionList)?ie.professionList.map(We=>String(We)):[],logs:Number((ie==null?void 0:ie.logs)||0),peakHit:Number((ie==null?void 0:ie.peakHit)||0),peak1s:Number((ie==null?void 0:ie.peak1s)||0),peak5s:Number((ie==null?void 0:ie.peak5s)||0),peak30s:Number((ie==null?void 0:ie.peak30s)||0),peakFightLabel:q((ie==null?void 0:ie.peakFightLabel)||""),peakSkillName:String((ie==null?void 0:ie.peakSkillName)||"")}));return{fights:we,players:Je}},[I]),Os=v.useMemo(()=>{const q=new Map;return sa.players.forEach(se=>q.set(se.key,se)),q},[sa.players]),za=v.useMemo(()=>{const q=we=>qt==="hit"?we.peakHit:qt==="1s"?we.peak1s:qt==="5s"?we.peak5s:we.peak30s,se=Ts.trim().toLowerCase(),he=se?sa.players.filter(we=>we.displayName.toLowerCase().includes(se)||we.account.toLowerCase().includes(se)||we.profession.toLowerCase().includes(se)):sa.players,He=new Map;return he.forEach(we=>{const Je=we.profession||"Unknown",ie=He.get(Je)||[];ie.push(we),He.set(Je,ie)}),Array.from(He.entries()).map(([we,Je])=>({profession:we,players:[...Je].sort((ie,We)=>q(We)-q(ie)||ie.displayName.localeCompare(We.displayName))})).sort((we,Je)=>we.profession.localeCompare(Je.profession))},[sa.players,Ts,qt]),zp=ke&&Os.get(ke)||null,Ua=v.useMemo(()=>{if(!ke)return[];const q=he=>he?Number(qt==="hit"?he.hit||0:qt==="1s"?he.burst1s||0:qt==="5s"?he.burst5s||0:he.burst30s||0):0,se=he=>Number(qt==="hit"?he.maxHit||0:qt==="1s"?he.max1s||0:qt==="5s"?he.max5s||0:he.max30s||0);return sa.fights.map((he,He)=>{var we;return{index:He,fightId:he.id,shortLabel:he.shortLabel,fullLabel:he.fullLabel,timestamp:Number(he.timestamp||0),damage:q(he.values[ke]),maxDamage:se(he),skillName:String(((we=he.values[ke])==null?void 0:we.skillName)||"")}})},[sa.fights,ke,qt]),Ci=v.useMemo(()=>{const q=Ua.reduce((he,He)=>Math.max(he,Number(He.damage||0)),0),se=Ua.reduce((he,He)=>Math.max(he,Number(He.maxDamage||0)),0);return Math.max(1,q,se)},[Ua]),Ki=v.useMemo(()=>{var q,se,he,He,we,Je,ie,We,ln;const Be=et===null?null:Ua.find(Se=>Se.index===et)||null;if(!Be||!ke)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const Et=sa.fights.find((Se,rt)=>String(Se.id||"")===String(Be.fightId||"")||rt===Be.index)||null,[Dt,cn]=ke.split("|"),lt=e.find(Se=>String((Se==null?void 0:Se.filePath)||(Se==null?void 0:Se.id)||"")===String(Be.fightId||"")),xe=lt==null?void 0:lt.details,St=Se=>Array.isArray(Se)?Se.map(rt=>Array.isArray(rt)?[Number(rt[0]),Number(rt[1])]:rt&&typeof rt=="object"?[Number(rt.time),Number(rt.value)]:null).filter(rt=>!!rt&&Number.isFinite(rt[0])&&rt[0]>=0):[],Ue=Se=>String(Se||"").trim().toLowerCase(),$n=Ue(Dt),Tr=Ue(cn),Rn=Os.get(ke),yr=new Set([Ue(Rn==null?void 0:Rn.displayName),Ue(Rn==null?void 0:Rn.characterName),Ue(Rn==null?void 0:Rn.account)].filter(Boolean)),Nn=Array.isArray(xe==null?void 0:xe.players)&&((q=xe.players.map(Se=>{const rt=Ue(Se==null?void 0:Se.account),Kt=Ue(Se==null?void 0:Se.name),Bn=Ue(Se==null?void 0:Se.profession),dn=!!rt&&rt===$n,nr=!!Kt&&(Kt===$n||yr.has(Kt)),Yi=!!rt&&yr.has(rt),$s=!Tr||Bn===Tr;let Xi=0;return dn&&(Xi+=100),nr&&(Xi+=90),Yi&&(Xi+=80),$s&&(Xi+=20),{player:Se,score:Xi}}).filter(Se=>Se.score>0).sort((Se,rt)=>rt.score-Se.score)[0])==null?void 0:q.player)||null,Wa=(()=>{const Se=Nn==null?void 0:Nn.combatReplayData;return Array.isArray(Se)?Se.filter(rt=>rt&&typeof rt=="object"):Se&&typeof Se=="object"?[Se]:[]})(),Pt=Wa.flatMap(Se=>St(Se==null?void 0:Se.down).map(([rt])=>rt)),Ot=Wa.flatMap(Se=>St(Se==null?void 0:Se.dead).map(([rt])=>rt)),Nt=Wa.map(Se=>Number(Se==null?void 0:Se.start)).filter(Se=>Number.isFinite(Se)&&Se>=0),Qt=Array.isArray(xe==null?void 0:xe.players)?xe.players.flatMap(Se=>{const rt=Se==null?void 0:Se.combatReplayData;return Array.isArray(rt)?rt.map(Kt=>Number(Kt==null?void 0:Kt.start)):[Number(rt==null?void 0:rt.start)]}).filter(Se=>Number.isFinite(Se)&&Se>=0).reduce((Se,rt)=>Math.min(Se,rt),Number.POSITIVE_INFINITY):Number.POSITIVE_INFINITY,vr=[0,Number((xe==null?void 0:xe.logStartOffset)||0),...Nt,Number.isFinite(Qt)?Qt:0].filter(Se=>Number.isFinite(Se)&&Se>=0),tr=Se=>{const rt=Math.max(0,Math.floor(Number(Se||0)/1e3)),Kt=Math.floor(rt/5)*5;return`${Kt}s-${Kt+5}s`},Dl=(Se,rt)=>{if(Se.length===0||rt.length===0)return[];const Kt=rt.length*5e3,Bn=lr=>lr.reduce((No,$c)=>$c>=0&&$c<=Kt+2e3?No+1:No,0),dn=[],nr=Se.map(lr=>Number(lr||0)).filter(lr=>Number.isFinite(lr)&&lr>=0);if(nr.length===0)return[];dn.push(nr);const Yi=nr.reduce((lr,No)=>Math.max(lr,No),0),$s=nr.reduce((lr,No)=>Math.min(lr,No),Number.POSITIVE_INFINITY);Yi>Kt*20&&dn.push(nr.map(lr=>lr/1e3)),Yi<=Kt*2&&$s>=0&&Yi>0&&Yi<Math.max(120,rt.length*5+10)&&dn.push(nr.map(lr=>lr*1e3));let Xi=nr,M2=0,A2=-1;return dn.forEach(lr=>{const No=new Set(vr),$c=lr.reduce((Il,jy)=>Math.min(Il,jy),Number.POSITIVE_INFINITY);if(Number.isFinite($c)&&Kt>0&&$c>Kt){const Il=Math.floor($c/Kt)*Kt;No.add(Il),No.add(Math.max(0,Il-Kt))}No.forEach(Il=>{const jy=lr.map(b$=>b$-Il),E2=Bn(jy);E2>A2&&(A2=E2,M2=Il,Xi=lr)})}),Xi.map(lr=>lr-M2).filter(lr=>Number.isFinite(lr)&&lr>=0)},Ls=(Se,rt)=>{if(Se.length===0||rt.length===0)return[];const Kt=Dl(rt,Se),Bn=new Map;Se.forEach(nr=>{const Yi=/^(\d+)s-/.exec(String(nr));if(!Yi)return;const $s=Number(Yi[1]);Number.isFinite($s)&&Bn.set($s,nr)});const dn=[];return Kt.forEach(nr=>{const Yi=Math.max(0,Math.floor(Number(nr||0)/1e3)),$s=Math.floor(Yi/5)*5,Xi=Bn.get($s)||tr(nr);Se.includes(Xi)&&dn.push(Xi)}),Array.from(new Set(dn))},Fs=(Se,rt)=>{if(Se<=0||rt.length===0)return[];const Kt=Array.from({length:Se},(dn,nr)=>`${nr*5}s-${(nr+1)*5}s`),Bn=Dl(rt,Kt).map(dn=>Math.floor(Math.max(0,Number(dn||0))/5e3)).filter(dn=>Number.isFinite(dn)&&dn>=0&&dn<Se);return Array.from(new Set(Bn))},Ol=Array.isArray((he=(se=Et==null?void 0:Et.values)==null?void 0:se[ke])==null?void 0:he.buckets5s)?((we=(He=Et==null?void 0:Et.values)==null?void 0:He[ke])==null?void 0:we.buckets5s)||[]:[],_c=Array.isArray((ie=(Je=Et==null?void 0:Et.values)==null?void 0:Je[ke])==null?void 0:ie.downIndices5s)?Et.values[ke].downIndices5s.map(Se=>Number(Se)).filter(Se=>Number.isFinite(Se)&&Se>=0):[],Lc=Array.isArray((ln=(We=Et==null?void 0:Et.values)==null?void 0:We[ke])==null?void 0:ln.deathIndices5s)?Et.values[ke].deathIndices5s.map(Se=>Number(Se)).filter(Se=>Number.isFinite(Se)&&Se>=0):[];if(Ol.length>0){const Se=Math.max(0,Math.ceil(Number((xe==null?void 0:xe.durationMS)||0)/5e3)),rt=Math.max(Ol.length,Se),Kt=Array.from({length:rt},(dn,nr)=>({label:`${nr*5}s-${(nr+1)*5}s`,value:Number(Ol[nr]||0)})),Bn=Kt.map(dn=>dn.label);return{title:`Fight Breakdown - ${Be.shortLabel||"Fight"} (5s Damage Buckets)`,data:Kt,downLabels:Ls(Bn,Pt),deathLabels:Ls(Bn,Ot),downIndices:_c.length>0?_c.filter(dn=>dn<Kt.length):Fs(Kt.length,Pt),deathIndices:Lc.length>0?Lc.filter(dn=>dn<Kt.length):Fs(Kt.length,Ot)}}const Dr=Be.shortLabel||"Fight";if(!xe||!Array.isArray(xe.players))return{title:`Fight Breakdown - ${Dr}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const S2=xe.players.find(Se=>String((Se==null?void 0:Se.account)||(Se==null?void 0:Se.name)||"Unknown")===Dt&&String((Se==null?void 0:Se.profession)||"Unknown")===cn);if(!S2)return{title:`Fight Breakdown - ${Dr}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const Fc=S2,f$=Se=>{if(!Array.isArray(Se)||Se.length===0)return[];const rt=[];for(let Kt=0;Kt<Se.length;Kt+=1){const Bn=Number(Se[Kt]||0),dn=Kt>0?Number(Se[Kt-1]||0):0;rt.push(Math.max(0,Bn-dn))}return rt},N2=Se=>{if(!Array.isArray(Se))return[];const rt=Se.reduce((Bn,dn)=>Math.max(Bn,Array.isArray(dn)?dn.length:0),0);if(rt<=0)return[];const Kt=new Array(rt).fill(0);return Se.forEach(Bn=>{if(Array.isArray(Bn))for(let dn=0;dn<rt;dn+=1)Kt[dn]+=Number(Bn[dn]||0)}),Kt},p$=Se=>Array.isArray(Se)?Se.map(rt=>Number(rt||0)):null,m$=(Se=>{if(!Array.isArray(Se)||Se.length===0)return null;const rt=Se[0];if(!Array.isArray(rt))return null;if(Array.isArray(rt[0])&&Array.isArray(rt[0][0]))return N2(rt);if(Array.isArray(rt[0])&&!Array.isArray(rt[0][0])){const Kt=Se.map(Bn=>p$(Array.isArray(Bn)?Bn[0]:null)).filter(Bn=>Array.isArray(Bn)&&Bn.length>0);if(Kt.length>0)return N2(Kt)}return null})(Fc==null?void 0:Fc.targetDamage1S),j2=Array.isArray(Fc==null?void 0:Fc.damage1S)&&Array.isArray(Fc.damage1S[0])?Fc.damage1S[0]:null,h$=m$||(Array.isArray(j2)?j2.map(Se=>Number(Se||0)):[]),Ny=f$(h$),cd=5,g$=Math.max(0,Math.ceil(Number((xe==null?void 0:xe.durationMS)||0)/(cd*1e3))),y$=Math.max(0,Math.ceil(Ny.length/cd)),v$=Math.max(g$,y$),ud=[];for(let Se=0;Se<v$;Se+=1){const rt=Se*cd,Kt=Math.min(rt+cd,Ny.length),Bn=Ny.slice(rt,Kt).reduce((dn,nr)=>dn+Number(nr||0),0);ud.push({label:`${rt}s-${rt+cd}s`,value:Bn})}const C2=ud.map(Se=>Se.label);return{title:`Fight Breakdown - ${Dr} (5s Damage Buckets)`,data:ud,downLabels:Ls(C2,Pt),deathLabels:Ls(C2,Ot),downIndices:Fs(ud.length,Pt),deathIndices:Fs(ud.length,Ot)}},[et,Ua,ke,e,sa.fights,Os]),Is=v.useMemo(()=>{const q=new Map;return ga.players.forEach(se=>q.set(se.key,se)),q},[ga.players]),Va=v.useMemo(()=>{const q=we=>_e==="hit"?we.peakHit:_e==="1s"?we.peak1s:_e==="5s"?we.peak5s:we.peak30s,se=Vo.trim().toLowerCase(),he=se?ga.players.filter(we=>we.displayName.toLowerCase().includes(se)||we.account.toLowerCase().includes(se)||we.profession.toLowerCase().includes(se)):ga.players,He=new Map;return he.forEach(we=>{const Je=we.profession||"Unknown",ie=He.get(Je)||[];ie.push(we),He.set(Je,ie)}),Array.from(He.entries()).map(([we,Je])=>({profession:we,players:[...Je].sort((ie,We)=>q(We)-q(ie)||ie.displayName.localeCompare(We.displayName))})).sort((we,Je)=>we.profession.localeCompare(Je.profession))},[ga.players,Vo,_e]),Pl=Rt&&Is.get(Rt)||null,ya=v.useMemo(()=>{if(!Rt)return[];const q=he=>he?Number(_e==="hit"?he.hit||0:_e==="1s"?he.burst1s||0:_e==="5s"?he.burst5s||0:he.burst30s||0):0,se=he=>Number(_e==="hit"?he.maxHit||0:_e==="1s"?he.max1s||0:_e==="5s"?he.max5s||0:he.max30s||0);return ga.fights.map((he,He)=>{var we;return{index:He,fightId:he.id,shortLabel:he.shortLabel,fullLabel:he.fullLabel,timestamp:Number(he.timestamp||0),damage:q(he.values[Rt]),maxDamage:se(he),skillName:String(((we=he.values[Rt])==null?void 0:we.skillName)||"")}})},[ga.fights,Rt,_e]),Tl=v.useMemo(()=>{const q=ya.reduce((he,He)=>Math.max(he,Number(He.damage||0)),0),se=ya.reduce((he,He)=>Math.max(he,Number(He.maxDamage||0)),0);return Math.max(1,q,se)},[ya]),So=v.useMemo(()=>{var q,se,he,He,we,Je,ie,We;const ln=Ut===null?null:ya.find(lt=>lt.index===Ut)||null;if(!ln||!Rt)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const Be=ga.fights.find((lt,xe)=>String(lt.id||"")===String(ln.fightId||"")||xe===ln.index)||null,Et=Array.isArray((se=(q=Be==null?void 0:Be.values)==null?void 0:q[Rt])==null?void 0:se.buckets5s)?((He=(he=Be==null?void 0:Be.values)==null?void 0:he[Rt])==null?void 0:He.buckets5s)||[]:[],Dt=Array.isArray((Je=(we=Be==null?void 0:Be.values)==null?void 0:we[Rt])==null?void 0:Je.downIndices5s)?Be.values[Rt].downIndices5s.map(lt=>Number(lt)).filter(lt=>Number.isFinite(lt)&&lt>=0):[],cn=Array.isArray((We=(ie=Be==null?void 0:Be.values)==null?void 0:ie[Rt])==null?void 0:We.deathIndices5s)?Be.values[Rt].deathIndices5s.map(lt=>Number(lt)).filter(lt=>Number.isFinite(lt)&&lt>=0):[];if(Et.length>0){const lt=Et.map((xe,St)=>({label:`${St*5}s-${(St+1)*5}s`,value:Number(xe||0)}));return{title:`Fight Breakdown - ${ln.shortLabel||"Fight"} (5s Damage Buckets)`,data:lt,downLabels:[],deathLabels:[],downIndices:Dt.filter(xe=>xe<lt.length),deathIndices:cn.filter(xe=>xe<lt.length)}}return{title:`Fight Breakdown - ${ln.shortLabel||"Fight"}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]}},[Ut,ya,Rt,ga.fights]),E6=v.useMemo(()=>{var q,se;if(Ut===null||!Rt)return[];const he=ya.find(we=>we.index===Ut);if(!he)return[];const He=ga.fights.find((we,Je)=>String(we.id||"")===String(he.fightId||"")||Je===he.index);return[...((se=(q=He==null?void 0:He.values)==null?void 0:q[Rt])==null?void 0:se.skillRows)||[]].filter(we=>Number((we==null?void 0:we.damage)||0)>0).sort((we,Je)=>Number(Je.damage||0)-Number(we.damage||0)).slice(0,30)},[Ut,Rt,ya,ga.fights]),P6=v.useMemo(()=>{var q,se;if(et===null||!ke)return[];const he=Ua.find(we=>we.index===et);if(!he)return[];const He=sa.fights.find((we,Je)=>String(we.id||"")===String(he.fightId||"")||Je===he.index);return[...((se=(q=He==null?void 0:He.values)==null?void 0:q[ke])==null?void 0:se.skillRows)||[]].filter(we=>Number((we==null?void 0:we.damage)||0)>0).sort((we,Je)=>Number(Je.damage||0)-Number(we.damage||0)).slice(0,30)},[et,ke,Ua,sa.fights]);v.useEffect(()=>{if(Sn.length===0){Si!==null&&bo(null),Ni!==null&&Wo(null);return}if(!Si||!Qn.has(Si)){const q=Sn[0].key;bo(q),id(null)}},[Sn,Qn,Si,Ni]),v.useEffect(()=>{if(!gr||gr.skills.length===0){Ni!==null&&Wo(null);return}const q=gr.skills.some(se=>se.id===Ni);(!Ni||!q)&&Wo(gr.skills[0].id)},[gr,Ni]),v.useEffect(()=>{if(mn.length===0){ji!==null&&Ae(null),Ct!==null&&pn(null);return}if(!ji||!ko.has(ji)){const q=mn[0].profession;Ae(q),mt(null)}},[mn,ko,ji,Ct]),v.useEffect(()=>{if(!oi||oi.skills.length===0){Ct!==null&&pn(null);return}const q=oi.skills.some(se=>se.id===Ct);(!Ct||!q)&&pn(oi.skills[0].id)},[oi,Ct]),v.useEffect(()=>{if(sa.players.length===0){ke!==null&&xt(null);return}(!ke||!Os.has(ke))&&ke!==null&&xt(null)},[sa.players,Os,ke]),v.useEffect(()=>{nt(null)},[ke,qt]),v.useEffect(()=>{et!==null&&(Ua.some(q=>q.index===et)||nt(null))},[Ua,et]),v.useEffect(()=>{if(ga.players.length===0){Rt!==null&&Zn(null);return}(!Rt||!Is.has(Rt))&&Rt!==null&&Zn(null)},[ga.players,Is,Rt]),v.useEffect(()=>{ae(null)},[Rt,_e]),v.useEffect(()=>{Ut!==null&&(ya.some(q=>q.index===Ut)||ae(null))},[ya,Ut]);const T6=v.useMemo(()=>new Set(pe),[pe]),{playerMapByKey:qo,playerTotalsForSkill:Ic,skillChartData:D6,skillChartMaxY:O6,groupedSkillUsagePlayers:I6}=X8({skillUsageData:te,selectedSkillId:be,selectedPlayers:T6,skillUsageView:zt==="perSecond"?"perSecond":"total"}),p2=v.useMemo(()=>{const q=new Map,se=Je=>{Je.forEach(ie=>{const We=Wc(ie==null?void 0:ie.name)||(ie==null?void 0:ie.name);We&&ie!=null&&ie.icon&&!q.has(We)&&q.set(We,ie.icon)})},he=Je=>{Je.forEach(ie=>{Object.entries((ie==null?void 0:ie.conditions)||{}).forEach(([We,ln])=>{const Be=Wc(We)||We;ln!=null&&ln.icon&&!q.has(Be)&&q.set(Be,ln.icon)})})},He=Je=>{const ie=new Map;return Je.forEach(We=>{const ln=Wc(We==null?void 0:We.name)||(We==null?void 0:We.name);if(!ln)return;const Be=ie.get(ln)||{name:ln,icon:(We==null?void 0:We.icon)||q.get(ln)||cm(ln),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0};Be.applications+=Number((We==null?void 0:We.applications)||0),Be.damage+=Number((We==null?void 0:We.damage)||0),We!=null&&We.applicationsFromUptime&&(Be.applicationsFromUptime+=Number(We.applicationsFromUptime||0)),We!=null&&We.applicationsFromBuffs&&(Be.applicationsFromBuffs+=Number(We.applicationsFromBuffs||0)),We!=null&&We.applicationsFromBuffsActive&&(Be.applicationsFromBuffsActive+=Number(We.applicationsFromBuffsActive||0)),!Be.icon&&We!=null&&We.icon&&(Be.icon=We.icon),Be.icon||(Be.icon=cm(ln)),ie.set(ln,Be)}),Array.from(ie.values())},we=Je=>Je.map(ie=>{const We={};return Object.entries((ie==null?void 0:ie.conditions)||{}).forEach(([ln,Be])=>{const Et=Wc(ln)||ln;if(!Et)return;const Dt=We[Et]||{icon:(Be==null?void 0:Be.icon)||q.get(Et)||cm(Et),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0,skills:{}};Dt.applications+=Number((Be==null?void 0:Be.applications)||0),Dt.damage+=Number((Be==null?void 0:Be.damage)||0),Be!=null&&Be.applicationsFromUptime&&(Dt.applicationsFromUptime+=Number(Be.applicationsFromUptime||0)),Be!=null&&Be.applicationsFromBuffs&&(Dt.applicationsFromBuffs+=Number(Be.applicationsFromBuffs||0)),Be!=null&&Be.applicationsFromBuffsActive&&(Dt.applicationsFromBuffsActive+=Number(Be.applicationsFromBuffsActive||0)),!Dt.icon&&Be!=null&&Be.icon&&(Dt.icon=Be.icon),Dt.icon||(Dt.icon=cm(Et)),Object.values((Be==null?void 0:Be.skills)||{}).forEach(cn=>{const lt=(cn==null?void 0:cn.name)||"Unknown",xe=Dt.skills[lt]||{name:lt,hits:0,damage:0,icon:cn==null?void 0:cn.icon};xe.hits+=Number((cn==null?void 0:cn.hits)||0),xe.damage+=Number((cn==null?void 0:cn.damage)||0),!xe.icon&&cn!=null&&cn.icon&&(xe.icon=cn.icon),Dt.skills[lt]=xe}),We[Et]=Dt}),{...ie,conditions:We}});return(Je,ie)=>(se(Je),he(ie),{summary:He(Je),players:we(ie)})},[]),m2=ce==="outgoing"?I.outgoingConditionSummary:I.incomingConditionSummary,h2=ce==="outgoing"?I.outgoingConditionPlayers:I.incomingConditionPlayers,{summary:Up,players:_6}=v.useMemo(()=>p2(m2||[],h2||[]),[p2,m2,h2]);v.useEffect(()=>{if(tt==="all"||Up.some(se=>se.name===tt))return;const q=Wc(tt);q&&Up.some(se=>se.name===q)?Wt(q):Wt("all")},[tt,Up,Wt]);const L6=v.useMemo(()=>{const q={};return Ic.forEach((se,he)=>{const He=qo.get(he);if(!He)return;const we=He.profession;(!q[we]||se>q[we])&&(q[we]=se)}),q},[Ic,qo]),Pn=v.useCallback(q=>d?d(q):!0,[d]),Jn=v.useCallback((q,se)=>{const he=Pn(q);return`${se} transition-[opacity,transform] duration-700 ease-in-out ${he?"opacity-100 translate-y-0 max-h-[99999px]":"opacity-0 -translate-y-2 max-h-0 h-0 min-h-0 overflow-hidden pointer-events-none p-0 !p-0 m-0 !mb-0 !mt-0 border-0 !border-0 border-transparent"}`},[Pn]),g2=v.useMemo(()=>Iae.find(q=>Pn(q))||null,[Pn]),er=v.useCallback(q=>q===g2,[g2]),F6=v.useMemo(()=>{const q=new Map,se=new Map;return pe.forEach(he=>{const He=qo.get(he);if(!He)return;const we=Ic.get(he)??0,Je=se.get(He.profession)||[];Je.push({key:he,total:we}),se.set(He.profession,Je)}),se.forEach(he=>{he.sort((He,we)=>we.total-He.total),he.forEach((He,we)=>{q.set(He.key,we)})}),q},[pe,qo,Ic]),y2=["0","12 3","8 3","6 3","4 3","2 3"],$6=q=>{const se=qo.get(q),he=ic((se==null?void 0:se.profession)||""),He=Ic.get(q)??0,we=se!=null&&se.profession&&L6[se.profession]||1,Je=.35+(we>0?He/we:1)*.65;return Vp(he,Je)},R6=q=>{const se=F6.get(q)??0;return y2[se%y2.length]},B6=(q,se,he)=>{if(!he)return $6(q);const He=qo.get(q),we=ic((He==null?void 0:He.profession)||"");return se?Vp(we,1.2):Vp(we,.5)},Vp=(q,se)=>{const he=q.replace("#","");if(he.length!==6)return q;const He=Be=>Math.max(0,Math.min(255,Be)),we=Be=>Number.parseInt(he.slice(Be,Be+2),16),Je=Be=>He(Math.round(Be)).toString(16).padStart(2,"0"),ie=we(0),We=we(2),ln=we(4);return`#${Je(ie*se)}${Je(We*se)}${Je(ln*se)}`},v2=v.useMemo(()=>{const q=new Map;return te.skillOptions.forEach(se=>{q.set(se.id,{name:se.name,icon:se.icon})}),q},[te.skillOptions]),ld=v.useMemo(()=>{var q;if(pe.length===0)return[];const se=new Map,he=new Map;let He=0;pe.forEach(Be=>{const Et=qo.get(Be);if(!Et)return;He+=Et.totalActiveSeconds||0,Object.entries(Et.skillTotals||{}).forEach(([cn,lt])=>{se.set(cn,(se.get(cn)||0)+Number(lt||0))});const Dt=Et.profession||"Unknown";he.set(Dt,(he.get(Dt)||0)+(Et.totalActiveSeconds||0))});const we=ve.trim().toLowerCase(),Je=zt==="perSecond",ie=((q=Array.from(he.entries()).sort((Be,Et)=>Et[1]-Be[1])[0])==null?void 0:q[0])||"Unknown",We=ic(ie),ln="#64748b";return Array.from(se.entries()).map(([Be,Et])=>{const Dt=v2.get(Be),cn=(Dt==null?void 0:Dt.name)||Be,lt=Je&&He>0?Et/He:Et;return{skillId:Be,name:cn,icon:Dt==null?void 0:Dt.icon,total:lt}}).filter(Be=>Be.total>0&&(!we||Be.name.toLowerCase().includes(we))).sort((Be,Et)=>Et.total-Be.total).map((Be,Et)=>({...Be,color:Et===0?We:Vp(We,.85-Math.min(Et*.06,.4))||ln}))},[pe,qo,ve,zt,v2]);v.useEffect(()=>{if(ld.length===0){be!==null&&Fe(null);return}(!be||!ld.some(q=>q.skillId===be))&&Fe(ld[0].skillId)},[ld,be,Fe]);const Hp=te.skillOptions.find(q=>q.id===be),z6=(Hp==null?void 0:Hp.name)||"",U6=(Hp==null?void 0:Hp.icon)||null,V6=k&&!!be&&pe.length>0,Wp="__all__",H6=k&&kn.length>0,_s=v.useMemo(()=>kn.find(q=>q.profession===it)??null,[kn,it]),W6=In===Wp,q6=v.useMemo(()=>{var q;return((q=_s==null?void 0:_s.skills)==null?void 0:q.find(se=>se.id===In))??null},[_s,In]);v.useEffect(()=>{if(kn.length===0){it!==null&&wt(null),Zt!==null&&vn(null);return}if(!it||!kn.some(q=>q.profession===it)){const q=kn[0].profession;wt(q),vn(null)}},[kn,it,Zt]),v.useEffect(()=>{if(!_s||_s.skills.length===0){In!==null&&Jr(null);return}const q=_s.skills.some(se=>se.id===In);(!In||!q&&In!==Wp)&&Jr(Wp)},[_s,In]);const K6=q=>{Ee(se=>se.includes(q)?se.filter(he=>he!==q):[...se,q])},G6=q=>{Ee(se=>se.filter(he=>he!==q))},Y6=v.useMemo(()=>{const q=De.trim().toLowerCase(),se=I.boonTables||[];return q?se.filter(he=>he.name.toLowerCase().includes(q)):se},[I.boonTables,De]),X6=v.useMemo(()=>Pe?(I.boonTables||[]).find(q=>q.id===Pe)??null:null,[I.boonTables,Pe]),Z6=v.useMemo(()=>{const q=Sr.trim().toLowerCase(),se=[...I.specialTables||[]].sort((he,He)=>he.name.localeCompare(He.name));return q?se.filter(he=>he.name.toLowerCase().includes(q)):se},[I.specialTables,Sr]),Gi=v.useMemo(()=>[...I.specialTables||[]].filter(q=>/\b(sigil|relic)\b/i.test(String((q==null?void 0:q.name)||""))).sort((q,se)=>q.name.localeCompare(se.name)),[I.specialTables]),Q6=v.useMemo(()=>{const q=Qr.trim().toLowerCase();return q?Gi.filter(se=>se.name.toLowerCase().includes(q)):Gi},[Gi,Qr]),J6=v.useMemo(()=>tn?(I.specialTables||[]).find(q=>q.id===tn)??null:null,[I.specialTables,tn]),e$=v.useMemo(()=>Hn?Gi.find(q=>q.id===Hn)??null:null,[Gi,Hn]);v.useEffect(()=>{!I.boonTables||I.boonTables.length===0||(!Pe||!I.boonTables.some(q=>q.id===Pe))&&ct(I.boonTables[0].id)},[I.boonTables,Pe]),v.useEffect(()=>{!I.specialTables||I.specialTables.length===0||(!tn||!I.specialTables.some(q=>q.id===tn))&&fn(I.specialTables[0].id)},[I.specialTables,tn]),v.useEffect(()=>{if(!Gi||Gi.length===0){Hn!==null&&zr(null);return}(!Hn||!Gi.some(q=>q.id===Hn))&&zr(Gi[0].id)},[Gi,Hn]),v.useEffect(()=>{const q=()=>{const he=window.getSelection();he&&he.rangeCount>0&&he.removeAllRanges()},se=he=>{var He;const we=he.target;(He=we==null?void 0:we.closest)!=null&&He.call(we,".recharts-wrapper")&&(he.preventDefault(),q())};return document.addEventListener("selectstart",se),document.addEventListener("mousedown",se),document.addEventListener("mousemove",se),document.addEventListener("dragstart",se),()=>{document.removeEventListener("selectstart",se),document.removeEventListener("mousedown",se),document.removeEventListener("mousemove",se),document.removeEventListener("dragstart",se)}},[]);const Ha=q=>{It.current&&(window.clearTimeout(It.current),It.current=null),Lt(!1),gt(q)},va=()=>{Le&&(It.current&&window.clearTimeout(It.current),Lt(!0),It.current=window.setTimeout(()=>{gt(null),Lt(!1),It.current=null},160))};v.useEffect(()=>{if(!Le)return;const q=He=>{He.key==="Escape"&&va()},se=document.body.style.overflow,he=document.documentElement.style.overflow;return document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",window.addEventListener("keydown",q),()=>{window.removeEventListener("keydown",q),document.body.style.overflow=se,document.documentElement.style.overflow=he}},[Le]);const b2=(q,se)=>{const he=((se==null?void 0:se.value)||0)-((q==null?void 0:q.value)||0);return he!==0?he:String((q==null?void 0:q.name)||"").localeCompare(String((se==null?void 0:se.name)||""))},x2=Array.isArray(I==null?void 0:I.squadClassData)?I.squadClassData:[],w2=Array.isArray(I==null?void 0:I.enemyClassData)?I.enemyClassData:[],t$=Array.isArray(I==null?void 0:I.attendanceData)?I.attendanceData:[],Sy=Array.isArray(I==null?void 0:I.squadCompByFight)?I.squadCompByFight:[],k2=Array.isArray(I==null?void 0:I.fightBreakdown)?I.fightBreakdown:[],n$=v.useMemo(()=>{const q=new Map;return k2.forEach(se=>{const he=String((se==null?void 0:se.id)||"");he&&q.set(he,se)}),Sy.map(se=>{const he=q.get(String((se==null?void 0:se.id)||""))||null;return{...se,enemyClassCounts:(he==null?void 0:he.enemyClassCounts)||{}}})},[Sy,k2]),r$=v.useMemo(()=>[...x2].sort(b2),[x2]),a$=v.useMemo(()=>[...w2].sort(b2),[w2]),i$=c?"stats-view min-h-screen flex flex-col p-0 w-full max-w-none":"stats-view h-full flex flex-col p-1 w-full max-w-6xl mx-auto overflow-hidden",o$=c?`stats-sections space-y-0 min-h-0 px-3 pb-3 pt-3 sm:px-4 sm:pb-4 sm:pt-4 rounded-xl border border-white/5 ${Le?"":"backdrop-blur-xl"}`:`flex-1 overflow-y-auto pr-2 space-y-6 min-h-0 border border-white/5 p-4 rounded-xl ${Le?"":"backdrop-blur-2xl"}`,s$=c&&p!=="matte"?{backgroundColor:"rgba(3, 7, 18, 0.75)",backgroundImage:"linear-gradient(160deg, rgba(var(--accent-rgb), 0.12), rgba(var(--accent-rgb), 0.04) 70%)"}:void 0,l$=q=>zt==="perSecond"?q.toFixed(1):Math.round(q).toLocaleString(),c$=q=>q.toFixed(1),u$=q=>Math.round(q).toLocaleString(),d$=q=>typeof q=="number"&&Number.isFinite(q)?q.toFixed(1):"0.0",Pa=Qre;return u.jsxs("div",{className:i$,children:[Le&&u.jsx("div",{className:`fixed inset-0 z-40 bg-black/70 backdrop-blur-md modal-backdrop ${Ve?"modal-backdrop-exit":"modal-backdrop-enter"}`,onClick:va}),u.jsx(Eae,{embedded:c,dashboardTitle:f,totalLogs:I.total,onBack:t,devMockAvailable:Q,devMockUploadState:ee,onDevMockUpload:z,uploadingWeb:E,onWebUpload:ne,sharing:F,canShareDiscord:m,onShare:oe}),u.jsx(Pae,{embedded:c,webUploadMessage:_,webUploadUrl:D,webUploadBuildStatus:J,webCopyStatus:me,setWebCopyStatus:L}),u.jsx(Tae,{embedded:c,devMockAvailable:Q,devMockUploadState:ee}),u.jsx("div",{className:c?"":"flex-1 min-h-0 flex",children:u.jsxs("div",{id:"stats-dashboard-container",ref:G,className:`${o$} ${c?"":"flex-1"}`,style:s$,children:[u.jsxs(u.Fragment,{children:[u.jsx(mae,{stats:I,isSectionVisible:Pn,isFirstVisibleSection:er,sectionClass:Jn}),u.jsx(hae,{stats:I,fightBreakdownTab:Bt,setFightBreakdownTab:at,isSectionVisible:Pn,isFirstVisibleSection:er,sectionClass:Jn}),u.jsx(vae,{stats:I,showTopStats:w,showMvp:S,topStatsMode:j,expandedLeader:le,setExpandedLeader:qe,formatTopStatValue:zs,formatWithCommas:Ti,isMvpStatEnabled:Qe,renderProfessionIcon:Pa,isSectionVisible:Pn,isFirstVisibleSection:er,sectionClass:Jn}),u.jsx(bae,{stats:I,topSkillsMetric:$,onTopSkillsMetricChange:R,isSectionVisible:Pn,isFirstVisibleSection:er,sectionClass:Jn}),u.jsx(xae,{sortedSquadClassData:r$,sortedEnemyClassData:a$,getProfessionIconPath:Xl,isSectionVisible:Pn,isFirstVisibleSection:er,sectionClass:Jn}),u.jsx(Nae,{attendanceRows:t$,getProfessionIconPath:Xl,isSectionVisible:Pn,isFirstVisibleSection:er,sectionClass:Jn}),u.jsx(Cae,{fights:Sy,getProfessionIconPath:Xl,isSectionVisible:Pn,isFirstVisibleSection:er,sectionClass:Jn}),u.jsx(Aae,{fights:n$,getProfessionIconPath:Xl,isSectionVisible:Pn,isFirstVisibleSection:er,sectionClass:Jn}),u.jsx(wae,{timelineData:I.timelineData,timelineFriendlyScope:On,setTimelineFriendlyScope:Ye,isSectionVisible:Pn,isFirstVisibleSection:er,sectionClass:Jn}),u.jsx(kae,{mapData:I.mapData,isSectionVisible:Pn,isFirstVisibleSection:er,sectionClass:Jn}),u.jsx(rae,{stats:I,OFFENSE_METRICS:XT,roundCountStats:C,offenseSearch:sn,setOffenseSearch:ha,activeOffenseStat:jt,setActiveOffenseStat:ft,offenseViewMode:re,setOffenseViewMode:Ce,formatWithCommas:Ti,renderProfessionIcon:Pa,expandedSection:Le,expandedSectionClosing:Ve,openExpandedSection:Ha,closeExpandedSection:va,isSectionVisible:Pn,isFirstVisibleSection:er,sectionClass:Jn,sidebarListClass:Mo}),u.jsx(nae,{expandedSection:Le,expandedSectionClosing:Ve,openExpandedSection:Ha,closeExpandedSection:va,isSectionVisible:Pn,isFirstVisibleSection:er,sectionClass:Jn,sidebarListClass:Mo,viewMode:sd,setViewMode:wo,playerSkillBreakdowns:Sn,classSkillBreakdowns:mn,activePlayerKey:Si,setActivePlayerKey:bo,expandedPlayerKey:xo,setExpandedPlayerKey:id,activePlayerSkillId:Ni,setActivePlayerSkillId:Wo,activeClassKey:ji,setActiveClassKey:Ae,expandedClassKey:Ke,setExpandedClassKey:mt,activeClassSkillId:Ct,setActiveClassSkillId:pn,skillSearch:od,setSkillSearch:El,activePlayerBreakdown:gr,activePlayerSkill:Ds,activeClassBreakdown:oi,activeClassSkill:Bp,renderProfessionIcon:Pa}),u.jsx(_A,{expandedSection:Le,expandedSectionClosing:Ve,openExpandedSection:Ha,closeExpandedSection:va,isSectionVisible:Pn,isFirstVisibleSection:er,sectionClass:Jn,spikePlayerFilter:Ts,setSpikePlayerFilter:Ml,groupedSpikePlayers:za,spikeMode:qt,setSpikeMode:wn,selectedSpikePlayerKey:ke,setSelectedSpikePlayerKey:xt,selectedSpikePlayer:zp,spikeChartData:Ua,spikeChartMaxY:Ci,selectedSpikeFightIndex:et,setSelectedSpikeFightIndex:nt,spikeDrilldownTitle:Ki.title,spikeDrilldownData:Ki.data,spikeDrilldownDownIndices:Ki.downIndices,spikeDrilldownDeathIndices:Ki.deathIndices,spikeFightSkillRows:P6,spikeFightSkillTitle:"Outgoing Skill Damage (Selected Fight)",formatWithCommas:Ti,renderProfessionIcon:Pa}),u.jsx(aae,{conditionSummary:Up,conditionPlayers:_6,conditionSearch:Oc,setConditionSearch:Cl,activeConditionName:tt,setActiveConditionName:Wt,conditionDirection:ce,setConditionDirection:Me,conditionGridClass:Vr,effectiveConditionSort:Al,setConditionSort:hr,showConditionDamage:jr,renderProfessionIcon:Pa,expandedSection:Le,expandedSectionClosing:Ve,openExpandedSection:Ha,closeExpandedSection:va,isSectionVisible:Pn,isFirstVisibleSection:er,sectionClass:Jn,sidebarListClass:Mo}),u.jsx(oae,{stats:I,DEFENSE_METRICS:ZT,defenseSearch:nn,setDefenseSearch:Pr,activeDefenseStat:un,setActiveDefenseStat:Dn,defenseViewMode:Z,setDefenseViewMode:Ne,roundCountStats:C,formatWithCommas:Ti,renderProfessionIcon:Pa,expandedSection:Le,expandedSectionClosing:Ve,openExpandedSection:Ha,closeExpandedSection:va,isSectionVisible:Pn,isFirstVisibleSection:er,sectionClass:Jn,sidebarListClass:Mo}),u.jsx(_A,{sectionId:"incoming-strike-damage",title:"Incoming Strike Damage",subtitle:"Select one enemy class to chart incoming strike pressure per fight.",listTitle:"Enemy Classes",searchPlaceholder:"Search enemy class",titleIconClassName:"text-cyan-300",expandedSection:Le,expandedSectionClosing:Ve,openExpandedSection:Ha,closeExpandedSection:va,isSectionVisible:Pn,isFirstVisibleSection:er,sectionClass:Jn,spikePlayerFilter:Vo,setSpikePlayerFilter:W,groupedSpikePlayers:Va,spikeMode:_e,setSpikeMode:Ze,selectedSpikePlayerKey:Rt,setSelectedSpikePlayerKey:Zn,selectedSpikePlayer:Pl,spikeChartData:ya,spikeChartMaxY:Tl,selectedSpikeFightIndex:Ut,setSelectedSpikeFightIndex:ae,spikeDrilldownTitle:So.title,spikeDrilldownData:So.data,spikeDrilldownDownIndices:So.downIndices,spikeDrilldownDeathIndices:So.deathIndices,spikeFightSkillRows:E6,spikeFightSkillTitle:"Incoming Skill Damage (Selected Fight)",formatWithCommas:Ti,renderProfessionIcon:Pa}),u.jsx(sae,{stats:I,DAMAGE_MITIGATION_METRICS:XB,damageMitigationSearch:Ur,setDamageMitigationSearch:ad,activeDamageMitigationStat:Nr,setActiveDamageMitigationStat:Re,damageMitigationViewMode:Ie,setDamageMitigationViewMode:ut,damageMitigationScope:Ge,setDamageMitigationScope:pt,roundCountStats:C,formatWithCommas:Ti,renderProfessionIcon:Pa,expandedSection:Le,expandedSectionClosing:Ve,openExpandedSection:Ha,closeExpandedSection:va,isSectionVisible:Pn,isFirstVisibleSection:er,sectionClass:Jn,sidebarListClass:Mo}),u.jsx(iae,{stats:I,activeBoonCategory:en,setActiveBoonCategory:q=>En(q),activeBoonMetric:Br,setActiveBoonMetric:ue,activeBoonTab:Pe,setActiveBoonTab:ct,activeBoonTable:X6,filteredBoonTables:Y6,boonSearch:De,setBoonSearch:dt,formatBoonMetricDisplay:x8,getBoonMetricValue:vD,renderProfessionIcon:Pa,roundCountStats:C,expandedSection:Le,expandedSectionClosing:Ve,openExpandedSection:Ha,closeExpandedSection:va,isSectionVisible:Pn,isFirstVisibleSection:er,sectionClass:Jn,sidebarListClass:Mo}),u.jsx(lae,{stats:I,SUPPORT_METRICS:QT,supportSearch:Xe,setSupportSearch:_t,activeSupportStat:yy,setActiveSupportStat:vy,supportViewMode:bt,setSupportViewMode:ht,cleanseScope:Vt,setCleanseScope:jn,roundCountStats:C,formatWithCommas:Ti,renderProfessionIcon:Pa,expandedSection:Le,expandedSectionClosing:Ve,openExpandedSection:Ha,closeExpandedSection:va,isSectionVisible:Pn,isFirstVisibleSection:er,sectionClass:Jn,sidebarListClass:Mo}),u.jsx(cae,{stats:I,HEALING_METRICS:ZB,activeHealingMetric:by,setActiveHealingMetric:xy,healingCategory:wy,setHealingCategory:ky,activeResUtilitySkill:T,setActiveResUtilitySkill:U,skillUsageData:te,formatWithCommas:Ti,renderProfessionIcon:Pa,expandedSection:Le,expandedSectionClosing:Ve,openExpandedSection:Ha,closeExpandedSection:va,isSectionVisible:Pn,isFirstVisibleSection:er,sectionClass:Jn}),u.jsx(dae,{stats:I,specialSearch:Sr,setSpecialSearch:sr,filteredSpecialTables:Z6,activeSpecialTab:tn,setActiveSpecialTab:fn,activeSpecialTable:J6,formatWithCommas:Ti,renderProfessionIcon:Pa,expandedSection:Le,expandedSectionClosing:Ve,openExpandedSection:Ha,closeExpandedSection:va,isSectionVisible:Pn,isFirstVisibleSection:er,sectionClass:Jn,sidebarListClass:Mo}),u.jsx(pae,{hasSigilRelicTables:Gi.length>0,sigilRelicSearch:Qr,setSigilRelicSearch:yn,filteredSigilRelicTables:Q6,activeSigilRelicTab:Hn,setActiveSigilRelicTab:zr,activeSigilRelicTable:e$,formatWithCommas:Ti,renderProfessionIcon:Pa,expandedSection:Le,expandedSectionClosing:Ve,openExpandedSection:Ha,closeExpandedSection:va,isSectionVisible:Pn,isFirstVisibleSection:er,sectionClass:Jn,sidebarListClass:Mo}),u.jsx(Jre,{expandedSection:Le,expandedSectionClosing:Ve,openExpandedSection:Ha,closeExpandedSection:va,isSectionVisible:Pn,isFirstVisibleSection:er,sectionClass:Jn,selectedPlayers:pe,setSelectedPlayers:Ee,removeSelectedPlayer:G6,playerMapByKey:qo,groupedSkillUsagePlayers:I6,expandedSkillUsageClass:Ft,setExpandedSkillUsageClass:Mt,togglePlayerSelection:K6,skillUsagePlayerFilter:Ht,setSkillUsagePlayerFilter:Xt,skillUsageView:zt,setSkillUsageView:yt,skillUsageData:te,skillUsageSkillFilter:ve,setSkillUsageSkillFilter:je,selectedSkillId:be,setSelectedSkillId:Fe,skillBarData:ld,selectedSkillName:z6,selectedSkillIcon:U6,skillUsageReady:V6,skillUsageAvailable:k,isSkillUsagePerSecond:rn,skillChartData:D6,skillChartMaxY:O6,playerTotalsForSkill:Ic,hoveredSkillPlayer:At,setHoveredSkillPlayer:Te,getLineStrokeColor:B6,getLineDashForPlayer:R6,formatSkillUsageValue:l$,renderProfessionIcon:Pa}),u.jsx(tae,{expandedSection:Le,expandedSectionClosing:Ve,openExpandedSection:Ha,closeExpandedSection:va,isSectionVisible:Pn,isFirstVisibleSection:er,sectionClass:Jn,sidebarListClass:Mo,apmSpecAvailable:H6,skillUsageAvailable:k,apmSpecTables:kn,activeApmSpec:it,setActiveApmSpec:wt,expandedApmSpec:Zt,setExpandedApmSpec:vn,activeApmSkillId:In,setActiveApmSkillId:Jr,ALL_SKILLS_KEY:Wp,apmSkillSearch:vo,setApmSkillSearch:Ho,activeApmSpecTable:_s,activeApmSkill:q6,isAllApmSkills:W6,apmView:Oe,setApmView:ge,formatApmValue:d$,formatCastRateValue:c$,formatCastCountValue:u$,renderProfessionIcon:Pa})]}),!c&&u.jsx("div",{className:"h-24","aria-hidden":"true"})]})}),u.jsx(Dae,{embedded:c,uiTheme:p,mobileNavOpen:A,setMobileNavOpen:N,tocGroups:V,tocItems:H,activeNavId:B,scrollToSection:X,stepSection:O})]})}const Lae="Arcane",Fae="CRT",Qm="MatteSlate",Jm={id:Lae,label:"Arcane",rgb:"136, 116, 255",pattern:"radial-gradient(at 0% 0%, hsla(250, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(220, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 65%, 20%, 1) 0, transparent 70%)"},$ae={id:Qm,label:"Matte Slate",rgb:"93, 163, 194",pattern:"linear-gradient(to bottom, #222629, #222629)"},Rae=[Jm,{id:"Amethyst",label:"Amethyst",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(270, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(260, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 60%, 30%, 1) 0, transparent 70%)"},{id:"Aurora",label:"Aurora",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(160, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 75%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 85%, 15%, 1) 0, transparent 70%)"},{id:"Autumn",label:"Autumn",rgb:"180, 130, 70",pattern:"radial-gradient(at 0% 0%, hsla(30, 65%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 60%, 15%, 1) 0, transparent 70%)"},{id:"Berry",label:"Berry",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(300, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 60%, 25%, 1) 0, transparent 70%)"},{id:"Bubblegum",label:"Bubblegum",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 85%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 75%, 20%, 1) 0, transparent 70%)"},{id:"Cherry",label:"Cherry",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(340, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(0, 60%, 25%, 1) 0, transparent 70%)"},{id:"Cobalt",label:"Cobalt",rgb:"59, 130, 246",pattern:"radial-gradient(at 0% 0%, hsla(220, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 15%, 1) 0, transparent 70%)"},{id:"Coffee",label:"Coffee",rgb:"253, 186, 116",pattern:"radial-gradient(at 0% 0%, hsla(25, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(35, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(30, 50%, 22%, 1) 0, transparent 70%)"},{id:"Cyberpunk",label:"Cyberpunk",rgb:"232, 121, 249",pattern:"radial-gradient(at 0% 0%, hsla(290, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 25%, 1) 0, transparent 70%)"},{id:"Dark Pearl",label:"Dark Pearl",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 30%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 40%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 30%, 25%, 1) 0, transparent 70%)"},{id:"Deep Space",label:"Deep Space",rgb:"99, 102, 241",pattern:"radial-gradient(at 0% 0%, hsla(245, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(300, 70%, 18%, 1) 0, transparent 70%)"},{id:"Electric Storm",label:"Electric Storm",rgb:"56, 189, 248",pattern:"radial-gradient(at 0% 0%, hsla(200, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(180, 80%, 20%, 1) 0, transparent 70%)"},{id:"Emerald",label:"Emerald",rgb:"52, 211, 153",pattern:"radial-gradient(at 0% 0%, hsla(150, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 70%, 25%, 1) 0, transparent 70%)"},{id:"Forest",label:"Forest",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(150, 70%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(120, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 80%, 18%, 1) 0, transparent 70%)"},{id:"Glacier",label:"Glacier",rgb:"125, 211, 252",pattern:"radial-gradient(at 0% 0%, hsla(190, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(210, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 30%, 1) 0, transparent 70%)"},{id:"Gold",label:"Gold",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(40, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 70%, 25%, 1) 0, transparent 70%)"},{id:"Jungle",label:"Jungle",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(145, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(175, 70%, 18%, 1) 0, transparent 70%)"},{id:"Lavender",label:"Lavender",rgb:"167, 139, 250",pattern:"radial-gradient(at 0% 0%, hsla(250, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(290, 50%, 30%, 1) 0, transparent 70%)"},{id:"Mermaid",label:"Mermaid",rgb:"45, 212, 191",pattern:"radial-gradient(at 0% 0%, hsla(175, 75%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 20%, 1) 0, transparent 70%)"},{id:"Midnight",label:"Midnight",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(260, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(320, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 60%, 20%, 1) 0, transparent 70%)"},{id:"Mint",label:"Mint",rgb:"110, 231, 183",pattern:"radial-gradient(at 0% 0%, hsla(160, 60%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(170, 50%, 25%, 1) 0, transparent 70%)"},{id:"Nebula",label:"Nebula",rgb:"196, 181, 253",pattern:"radial-gradient(at 0% 0%, hsla(260, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(310, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 60%, 25%, 1) 0, transparent 70%)"},{id:"Neon Nights",label:"Neon Nights",rgb:"236, 72, 153",pattern:"radial-gradient(at 0% 0%, hsla(330, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 95%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 80%, 18%, 1) 0, transparent 70%)"},{id:"Obsidian",label:"Obsidian",rgb:"226, 232, 240",pattern:"radial-gradient(at 0% 0%, hsla(0, 0%, 5%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 10%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 20%, 15%, 1) 0, transparent 70%)"},{id:"Ocean",label:"Ocean",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(210, 70%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 22%, 1) 0, transparent 70%)"},{id:"Royal",label:"Royal",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 60%, 30%, 1) 0, transparent 70%)"},{id:"Ruby",label:"Ruby",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 70%, 25%, 1) 0, transparent 70%)"},{id:"Sapphire",label:"Sapphire",rgb:"96, 165, 250",pattern:"radial-gradient(at 0% 0%, hsla(220, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(230, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 70%, 25%, 1) 0, transparent 70%)"},{id:"Shadow",label:"Shadow",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 20%, 10%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 10%, 20%, 1) 0, transparent 70%)"},{id:"Slate",label:"Slate",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(210, 30%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 40%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 30%, 30%, 1) 0, transparent 70%)"},{id:"Sunrise",label:"Sunrise",rgb:"251, 113, 133",pattern:"radial-gradient(at 0% 0%, hsla(350, 75%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 18%, 1) 0, transparent 70%)"},{id:"Sunset",label:"Sunset",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(10, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(330, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 50%, 25%, 1) 0, transparent 70%)"},{id:"Toxic",label:"Toxic",rgb:"163, 230, 53",pattern:"radial-gradient(at 0% 0%, hsla(100, 90%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(90, 90%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(120, 80%, 18%, 1) 0, transparent 70%)"},{id:"Tropics",label:"Tropics",rgb:"20, 184, 166",pattern:"radial-gradient(at 0% 0%, hsla(170, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(15, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 75%, 20%, 1) 0, transparent 70%)"},{id:"Ultraviolet",label:"Ultraviolet",rgb:"139, 92, 246",pattern:"radial-gradient(at 0% 0%, hsla(265, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 80%, 20%, 1) 0, transparent 70%)"},{id:"Vaporwave",label:"Vaporwave",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(280, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(170, 90%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 30%, 1) 0, transparent 70%)"},{id:"Volcano",label:"Volcano",rgb:"239, 68, 68",pattern:"radial-gradient(at 0% 0%, hsla(0, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(25, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(350, 75%, 15%, 1) 0, transparent 70%)"},{id:"Wildfire",label:"Wildfire",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(25, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 80%, 15%, 1) 0, transparent 70%)"}],Bae={id:Fae,label:"CRT Hacker",rgb:"87, 255, 154",pattern:"radial-gradient(circle at 12% 10%, rgba(44, 120, 78, 0.42), transparent 60%), radial-gradient(circle at 88% 22%, rgba(22, 86, 52, 0.38), transparent 62%), linear-gradient(180deg, rgba(5, 12, 8, 0.92), rgba(3, 7, 6, 0.98))"},Ad=[...Rae,Bae,$ae];function zae(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Uae=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Vae=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Hae={};function LA(e,t){return(Hae.jsx?Vae:Uae).test(e)}const Wae=/[ \t\n\f\r]/g;function qae(e){return typeof e=="object"?e.type==="text"?FA(e.value):!1:FA(e)}function FA(e){return e.replace(Wae,"")===""}class Op{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Op.prototype.normal={};Op.prototype.property={};Op.prototype.space=void 0;function rL(e,t){const n={},r={};for(const a of e)Object.assign(n,a.property),Object.assign(r,a.normal);return new Op(n,r,t)}function Yx(e){return e.toLowerCase()}class ii{constructor(t,n){this.attribute=n,this.property=t}}ii.prototype.attribute="";ii.prototype.booleanish=!1;ii.prototype.boolean=!1;ii.prototype.commaOrSpaceSeparated=!1;ii.prototype.commaSeparated=!1;ii.prototype.defined=!1;ii.prototype.mustUseProperty=!1;ii.prototype.number=!1;ii.prototype.overloadedBoolean=!1;ii.prototype.property="";ii.prototype.spaceSeparated=!1;ii.prototype.space=void 0;let Kae=0;const Jt=Pc(),Ir=Pc(),Xx=Pc(),ze=Pc(),zn=Pc(),wu=Pc(),li=Pc();function Pc(){return 2**++Kae}const Zx=Object.freeze(Object.defineProperty({__proto__:null,boolean:Jt,booleanish:Ir,commaOrSpaceSeparated:li,commaSeparated:wu,number:ze,overloadedBoolean:Xx,spaceSeparated:zn},Symbol.toStringTag,{value:"Module"})),Cv=Object.keys(Zx);class MS extends ii{constructor(t,n,r,a){let i=-1;if(super(t,n),$A(this,"space",a),typeof r=="number")for(;++i<Cv.length;){const o=Cv[i];$A(this,Cv[i],(r&Zx[o])===Zx[o])}}}MS.prototype.defined=!0;function $A(e,t,n){n&&(e[t]=n)}function nd(e){const t={},n={};for(const[r,a]of Object.entries(e.properties)){const i=new MS(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[Yx(r)]=r,n[Yx(i.attribute)]=r}return new Op(t,n,e.space)}const aL=nd({properties:{ariaActiveDescendant:null,ariaAtomic:Ir,ariaAutoComplete:null,ariaBusy:Ir,ariaChecked:Ir,ariaColCount:ze,ariaColIndex:ze,ariaColSpan:ze,ariaControls:zn,ariaCurrent:null,ariaDescribedBy:zn,ariaDetails:null,ariaDisabled:Ir,ariaDropEffect:zn,ariaErrorMessage:null,ariaExpanded:Ir,ariaFlowTo:zn,ariaGrabbed:Ir,ariaHasPopup:null,ariaHidden:Ir,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:zn,ariaLevel:ze,ariaLive:null,ariaModal:Ir,ariaMultiLine:Ir,ariaMultiSelectable:Ir,ariaOrientation:null,ariaOwns:zn,ariaPlaceholder:null,ariaPosInSet:ze,ariaPressed:Ir,ariaReadOnly:Ir,ariaRelevant:null,ariaRequired:Ir,ariaRoleDescription:zn,ariaRowCount:ze,ariaRowIndex:ze,ariaRowSpan:ze,ariaSelected:Ir,ariaSetSize:ze,ariaSort:null,ariaValueMax:ze,ariaValueMin:ze,ariaValueNow:ze,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function iL(e,t){return t in e?e[t]:t}function oL(e,t){return iL(e,t.toLowerCase())}const Gae=nd({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:wu,acceptCharset:zn,accessKey:zn,action:null,allow:null,allowFullScreen:Jt,allowPaymentRequest:Jt,allowUserMedia:Jt,alt:null,as:null,async:Jt,autoCapitalize:null,autoComplete:zn,autoFocus:Jt,autoPlay:Jt,blocking:zn,capture:null,charSet:null,checked:Jt,cite:null,className:zn,cols:ze,colSpan:null,content:null,contentEditable:Ir,controls:Jt,controlsList:zn,coords:ze|wu,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Jt,defer:Jt,dir:null,dirName:null,disabled:Jt,download:Xx,draggable:Ir,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Jt,formTarget:null,headers:zn,height:ze,hidden:Xx,high:ze,href:null,hrefLang:null,htmlFor:zn,httpEquiv:zn,id:null,imageSizes:null,imageSrcSet:null,inert:Jt,inputMode:null,integrity:null,is:null,isMap:Jt,itemId:null,itemProp:zn,itemRef:zn,itemScope:Jt,itemType:zn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Jt,low:ze,manifest:null,max:null,maxLength:ze,media:null,method:null,min:null,minLength:ze,multiple:Jt,muted:Jt,name:null,nonce:null,noModule:Jt,noValidate:Jt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Jt,optimum:ze,pattern:null,ping:zn,placeholder:null,playsInline:Jt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Jt,referrerPolicy:null,rel:zn,required:Jt,reversed:Jt,rows:ze,rowSpan:ze,sandbox:zn,scope:null,scoped:Jt,seamless:Jt,selected:Jt,shadowRootClonable:Jt,shadowRootDelegatesFocus:Jt,shadowRootMode:null,shape:null,size:ze,sizes:null,slot:null,span:ze,spellCheck:Ir,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ze,step:null,style:null,tabIndex:ze,target:null,title:null,translate:null,type:null,typeMustMatch:Jt,useMap:null,value:Ir,width:ze,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:zn,axis:null,background:null,bgColor:null,border:ze,borderColor:null,bottomMargin:ze,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Jt,declare:Jt,event:null,face:null,frame:null,frameBorder:null,hSpace:ze,leftMargin:ze,link:null,longDesc:null,lowSrc:null,marginHeight:ze,marginWidth:ze,noResize:Jt,noHref:Jt,noShade:Jt,noWrap:Jt,object:null,profile:null,prompt:null,rev:null,rightMargin:ze,rules:null,scheme:null,scrolling:Ir,standby:null,summary:null,text:null,topMargin:ze,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ze,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Jt,disableRemotePlayback:Jt,prefix:null,property:null,results:ze,security:null,unselectable:null},space:"html",transform:oL}),Yae=nd({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:li,accentHeight:ze,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ze,amplitude:ze,arabicForm:null,ascent:ze,attributeName:null,attributeType:null,azimuth:ze,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ze,by:null,calcMode:null,capHeight:ze,className:zn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ze,diffuseConstant:ze,direction:null,display:null,dur:null,divisor:ze,dominantBaseline:null,download:Jt,dx:null,dy:null,edgeMode:null,editable:null,elevation:ze,enableBackground:null,end:null,event:null,exponent:ze,externalResourcesRequired:null,fill:null,fillOpacity:ze,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:wu,g2:wu,glyphName:wu,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ze,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ze,horizOriginX:ze,horizOriginY:ze,id:null,ideographic:ze,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ze,k:ze,k1:ze,k2:ze,k3:ze,k4:ze,kernelMatrix:li,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ze,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ze,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ze,overlineThickness:ze,paintOrder:null,panose1:null,path:null,pathLength:ze,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:zn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ze,pointsAtY:ze,pointsAtZ:ze,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:li,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:li,rev:li,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:li,requiredFeatures:li,requiredFonts:li,requiredFormats:li,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ze,specularExponent:ze,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ze,strikethroughThickness:ze,string:null,stroke:null,strokeDashArray:li,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ze,strokeOpacity:ze,strokeWidth:null,style:null,surfaceScale:ze,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:li,tabIndex:ze,tableValues:null,target:null,targetX:ze,targetY:ze,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:li,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ze,underlineThickness:ze,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ze,values:null,vAlphabetic:ze,vMathematical:ze,vectorEffect:null,vHanging:ze,vIdeographic:ze,version:null,vertAdvY:ze,vertOriginX:ze,vertOriginY:ze,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ze,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:iL}),sL=nd({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),lL=nd({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:oL}),cL=nd({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Xae={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Zae=/[A-Z]/g,RA=/-[a-z]/g,Qae=/^data[-\w.:]+$/i;function Jae(e,t){const n=Yx(t);let r=t,a=ii;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Qae.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(RA,tie);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!RA.test(i)){let o=i.replace(Zae,eie);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}a=MS}return new a(r,t)}function eie(e){return"-"+e.toLowerCase()}function tie(e){return e.charAt(1).toUpperCase()}const nie=rL([aL,Gae,sL,lL,cL],"html"),AS=rL([aL,Yae,sL,lL,cL],"svg");function rie(e){return e.join(" ").trim()}var ES={},BA=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,aie=/\n/g,iie=/^\s*/,oie=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,sie=/^:\s*/,lie=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,cie=/^[;\s]*/,uie=/^\s+|\s+$/g,die=`
`,zA="/",UA="*",Wl="",fie="comment",pie="declaration";function mie(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function a(h){var y=h.match(aie);y&&(n+=y.length);var x=h.lastIndexOf(die);r=~x?h.length-x:r+h.length}function i(){var h={line:n,column:r};return function(y){return y.position=new o(h),c(),y}}function o(h){this.start=h,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function s(h){var y=new Error(t.source+":"+n+":"+r+": "+h);if(y.reason=h,y.filename=t.source,y.line=n,y.column=r,y.source=e,!t.silent)throw y}function l(h){var y=h.exec(e);if(y){var x=y[0];return a(x),e=e.slice(x.length),y}}function c(){l(iie)}function d(h){var y;for(h=h||[];y=f();)y!==!1&&h.push(y);return h}function f(){var h=i();if(!(zA!=e.charAt(0)||UA!=e.charAt(1))){for(var y=2;Wl!=e.charAt(y)&&(UA!=e.charAt(y)||zA!=e.charAt(y+1));)++y;if(y+=2,Wl===e.charAt(y-1))return s("End of comment missing");var x=e.slice(2,y-2);return r+=2,a(x),e=e.slice(y),r+=2,h({type:fie,comment:x})}}function p(){var h=i(),y=l(oie);if(y){if(f(),!l(sie))return s("property missing ':'");var x=l(lie),g=h({type:pie,property:VA(y[0].replace(BA,Wl)),value:x?VA(x[0].replace(BA,Wl)):Wl});return l(cie),g}}function m(){var h=[];d(h);for(var y;y=p();)y!==!1&&(h.push(y),d(h));return h}return c(),m()}function VA(e){return e?e.replace(uie,Wl):Wl}var hie=mie,gie=ah&&ah.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ES,"__esModule",{value:!0});ES.default=vie;const yie=gie(hie);function vie(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,yie.default)(e),a=typeof t=="function";return r.forEach(i=>{if(i.type!=="declaration")return;const{property:o,value:s}=i;a?t(o,s,i):s&&(n=n||{},n[o]=s)}),n}var ay={};Object.defineProperty(ay,"__esModule",{value:!0});ay.camelCase=void 0;var bie=/^--[a-zA-Z0-9_-]+$/,xie=/-([a-z])/g,wie=/^[^-]+$/,kie=/^-(webkit|moz|ms|o|khtml)-/,Sie=/^-(ms)-/,Nie=function(e){return!e||wie.test(e)||bie.test(e)},jie=function(e,t){return t.toUpperCase()},HA=function(e,t){return"".concat(t,"-")},Cie=function(e,t){return t===void 0&&(t={}),Nie(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Sie,HA):e=e.replace(kie,HA),e.replace(xie,jie))};ay.camelCase=Cie;var Mie=ah&&ah.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Aie=Mie(ES),Eie=ay;function Qx(e,t){var n={};return!e||typeof e!="string"||(0,Aie.default)(e,function(r,a){r&&a&&(n[(0,Eie.camelCase)(r,t)]=a)}),n}Qx.default=Qx;var Pie=Qx;const Tie=mo(Pie),uL=dL("end"),PS=dL("start");function dL(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Die(e){const t=PS(e),n=uL(e);if(t&&n)return{start:t,end:n}}function Qd(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?WA(e.position):"start"in e||"end"in e?WA(e):"line"in e||"column"in e?Jx(e):""}function Jx(e){return qA(e&&e.line)+":"+qA(e&&e.column)}function WA(e){return Jx(e&&e.start)+"-"+Jx(e&&e.end)}function qA(e){return e&&typeof e=="number"?e:1}class Ea extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",i={},o=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof t=="string"?a=t:!i.cause&&t&&(o=!0,a=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?i.ruleId=r:(i.source=r.slice(0,l),i.ruleId=r.slice(l+1))}if(!i.place&&i.ancestors&&i.ancestors){const l=i.ancestors[i.ancestors.length-1];l&&(i.place=l.position)}const s=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=s?s.line:void 0,this.name=Qd(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=o&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ea.prototype.file="";Ea.prototype.name="";Ea.prototype.reason="";Ea.prototype.message="";Ea.prototype.stack="";Ea.prototype.column=void 0;Ea.prototype.line=void 0;Ea.prototype.ancestors=void 0;Ea.prototype.cause=void 0;Ea.prototype.fatal=void 0;Ea.prototype.place=void 0;Ea.prototype.ruleId=void 0;Ea.prototype.source=void 0;const TS={}.hasOwnProperty,Oie=new Map,Iie=/[A-Z]/g,_ie=new Set(["table","tbody","thead","tfoot","tr"]),Lie=new Set(["td","th"]),fL="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Fie(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Wie(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Hie(n,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?AS:nie,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=pL(a,e,void 0);return i&&typeof i!="string"?i:a.create(e,a.Fragment,{children:i||void 0},void 0)}function pL(e,t,n){if(t.type==="element")return $ie(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Rie(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return zie(e,t,n);if(t.type==="mdxjsEsm")return Bie(e,t);if(t.type==="root")return Uie(e,t,n);if(t.type==="text")return Vie(e,t)}function $ie(e,t,n){const r=e.schema;let a=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=AS,e.schema=a),e.ancestors.push(t);const i=hL(e,t.tagName,!1),o=qie(e,t);let s=OS(e,t);return _ie.has(t.tagName)&&(s=s.filter(function(l){return typeof l=="string"?!qae(l):!0})),mL(e,o,i,t),DS(o,s),e.ancestors.pop(),e.schema=r,e.create(t,i,o,n)}function Rie(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}qf(e,t.position)}function Bie(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);qf(e,t.position)}function zie(e,t,n){const r=e.schema;let a=r;t.name==="svg"&&r.space==="html"&&(a=AS,e.schema=a),e.ancestors.push(t);const i=t.name===null?e.Fragment:hL(e,t.name,!0),o=Kie(e,t),s=OS(e,t);return mL(e,o,i,t),DS(o,s),e.ancestors.pop(),e.schema=r,e.create(t,i,o,n)}function Uie(e,t,n){const r={};return DS(r,OS(e,t)),e.create(t,e.Fragment,r,n)}function Vie(e,t){return t.value}function mL(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function DS(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Hie(e,t,n){return r;function r(a,i,o,s){const l=Array.isArray(o.children)?n:t;return s?l(i,o,s):l(i,o)}}function Wie(e,t){return n;function n(r,a,i,o){const s=Array.isArray(i.children),l=PS(r);return t(a,i,o,s,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function qie(e,t){const n={};let r,a;for(a in t.properties)if(a!=="children"&&TS.call(t.properties,a)){const i=Gie(e,a,t.properties[a]);if(i){const[o,s]=i;e.tableCellAlignToStyle&&o==="align"&&typeof s=="string"&&Lie.has(t.tagName)?r=s:n[o]=s}}if(r){const i=n.style||(n.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Kie(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const i=a.expression;i.type;const o=i.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else qf(e,t.position);else{const a=r.name;let i;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,i=e.evaluater.evaluateExpression(o.expression)}else qf(e,t.position);else i=r.value===null?!0:r.value;n[a]=i}return n}function OS(e,t){const n=[];let r=-1;const a=e.passKeys?new Map:Oie;for(;++r<t.children.length;){const i=t.children[r];let o;if(e.passKeys){const l=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(l){const c=a.get(l)||0;o=l+"-"+c,a.set(l,c+1)}}const s=pL(e,i,o);s!==void 0&&n.push(s)}return n}function Gie(e,t,n){const r=Jae(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?zae(n):rie(n)),r.property==="style"){let a=typeof n=="object"?n:Yie(e,String(n));return e.stylePropertyNameCase==="css"&&(a=Xie(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&r.space?Xae[r.property]||r.property:r.attribute,n]}}function Yie(e,t){try{return Tie(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,a=new Ea("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=fL+"#cannot-parse-style-attribute",a}}function hL(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let i=-1,o;for(;++i<a.length;){const s=LA(a[i])?{type:"Identifier",name:a[i]}:{type:"Literal",value:a[i]};o=o?{type:"MemberExpression",object:o,property:s,computed:!!(i&&s.type==="Literal"),optional:!1}:s}r=o}else r=LA(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const a=r.value;return TS.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(r);qf(e)}function qf(e,t){const n=new Ea("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=fL+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Xie(e){const t={};let n;for(n in e)TS.call(e,n)&&(t[Zie(n)]=e[n]);return t}function Zie(e){let t=e.replace(Iie,Qie);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Qie(e){return"-"+e.toLowerCase()}const Mv={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Jie={};function IS(e,t){const n=Jie,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return gL(e,r,a)}function gL(e,t,n){if(eoe(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return KA(e.children,t,n)}return Array.isArray(e)?KA(e,t,n):""}function KA(e,t,n){const r=[];let a=-1;for(;++a<e.length;)r[a]=gL(e[a],t,n);return r.join("")}function eoe(e){return!!(e&&typeof e=="object")}const GA=document.createElement("i");function _S(e){const t="&"+e+";";GA.innerHTML=t;const n=GA.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function gi(e,t,n,r){const a=e.length;let i=0,o;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);i<r.length;)o=r.slice(i,i+1e4),o.unshift(t,0),e.splice(...o),i+=1e4,t+=1e4}function Li(e,t){return e.length>0?(gi(e,e.length,0,t),e):t}const YA={}.hasOwnProperty;function yL(e){const t={};let n=-1;for(;++n<e.length;)toe(t,e[n]);return t}function toe(e,t){let n;for(n in t){const r=(YA.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let i;if(a)for(i in a){YA.call(r,i)||(r[i]=[]);const o=a[i];noe(r[i],Array.isArray(o)?o:o?[o]:[])}}}function noe(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);gi(e,0,0,r)}function vL(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function so(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Oa=Nl(/[A-Za-z]/),Ma=Nl(/[\dA-Za-z]/),roe=Nl(/[#-'*+\--9=?A-Z^-~]/);function Mg(e){return e!==null&&(e<32||e===127)}const ew=Nl(/\d/),aoe=Nl(/[\dA-Fa-f]/),ioe=Nl(/[!-/:-@[-`{-~]/);function Tt(e){return e!==null&&e<-2}function Ln(e){return e!==null&&(e<0||e===32)}function an(e){return e===-2||e===-1||e===32}const iy=Nl(new RegExp("\\p{P}|\\p{S}","u")),jc=Nl(/\s/);function Nl(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function rd(e){const t=[];let n=-1,r=0,a=0;for(;++n<e.length;){const i=e.charCodeAt(n);let o="";if(i===37&&Ma(e.charCodeAt(n+1))&&Ma(e.charCodeAt(n+2)))a=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(o=String.fromCharCode(i));else if(i>55295&&i<57344){const s=e.charCodeAt(n+1);i<56320&&s>56319&&s<57344?(o=String.fromCharCode(i,s),a=1):o=""}else o=String.fromCharCode(i);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+a+1,o=""),a&&(n+=a,a=0)}return t.join("")+e.slice(r)}function hn(e,t,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let i=0;return o;function o(l){return an(l)?(e.enter(n),s(l)):t(l)}function s(l){return an(l)&&i++<a?(e.consume(l),s):(e.exit(n),t(l))}}const ooe={tokenize:soe};function soe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,a);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),hn(e,t,"linePrefix")}function a(s){return e.enter("paragraph"),i(s)}function i(s){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(s)}function o(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return Tt(s)?(e.consume(s),e.exit("chunkText"),i):(e.consume(s),o)}}const loe={tokenize:coe},XA={tokenize:uoe};function coe(e){const t=this,n=[];let r=0,a,i,o;return s;function s(w){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,l,c)(w)}return c(w)}function l(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&b();const S=t.events.length;let C=S,j;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){j=t.events[C][1].end;break}g(r);let M=S;for(;M<t.events.length;)t.events[M][1].end={...j},M++;return gi(t.events,C+1,0,t.events.slice(S)),t.events.length=M,c(w)}return s(w)}function c(w){if(r===n.length){if(!a)return p(w);if(a.currentConstruct&&a.currentConstruct.concrete)return h(w);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(XA,d,f)(w)}function d(w){return a&&b(),g(r),p(w)}function f(w){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,h(w)}function p(w){return t.containerState={},e.attempt(XA,m,h)(w)}function m(w){return r++,n.push([t.currentConstruct,t.containerState]),p(w)}function h(w){if(w===null){a&&b(),g(0),e.consume(w);return}return a=a||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:i}),y(w)}function y(w){if(w===null){x(e.exit("chunkFlow"),!0),g(0),e.consume(w);return}return Tt(w)?(e.consume(w),x(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(w),y)}function x(w,S){const C=t.sliceStream(w);if(S&&C.push(null),w.previous=i,i&&(i.next=w),i=w,a.defineSkip(w.start),a.write(C),t.parser.lazy[w.start.line]){let j=a.events.length;for(;j--;)if(a.events[j][1].start.offset<o&&(!a.events[j][1].end||a.events[j][1].end.offset>o))return;const M=t.events.length;let P=M,$,E;for(;P--;)if(t.events[P][0]==="exit"&&t.events[P][1].type==="chunkFlow"){if($){E=t.events[P][1].end;break}$=!0}for(g(r),j=M;j<t.events.length;)t.events[j][1].end={...E},j++;gi(t.events,P+1,0,t.events.slice(M)),t.events.length=j}}function g(w){let S=n.length;for(;S-- >w;){const C=n[S];t.containerState=C[1],C[0].exit.call(t,e)}n.length=w}function b(){a.write([null]),i=void 0,a=void 0,t.containerState._closeFlow=void 0}}function uoe(e,t,n){return hn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Bu(e){if(e===null||Ln(e)||jc(e))return 1;if(iy(e))return 2}function oy(e,t,n){const r=[];let a=-1;for(;++a<e.length;){const i=e[a].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const tw={name:"attention",resolveAll:doe,tokenize:foe};function doe(e,t){let n=-1,r,a,i,o,s,l,c,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},p={...e[n][1].start};ZA(f,-l),ZA(p,l),o={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},s={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:p},i={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},a={type:l>1?"strong":"emphasis",start:{...o.start},end:{...s.end}},e[r][1].end={...o.start},e[n][1].start={...s.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=Li(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=Li(c,[["enter",a,t],["enter",o,t],["exit",o,t],["enter",i,t]]),c=Li(c,oy(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=Li(c,[["exit",i,t],["enter",s,t],["exit",s,t],["exit",a,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,c=Li(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,gi(e,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function foe(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=Bu(r);let i;return o;function o(l){return i=l,e.enter("attentionSequence"),s(l)}function s(l){if(l===i)return e.consume(l),s;const c=e.exit("attentionSequence"),d=Bu(l),f=!d||d===2&&a||n.includes(l),p=!a||a===2&&d||n.includes(r);return c._open=!!(i===42?f:f&&(a||!p)),c._close=!!(i===42?p:p&&(d||!f)),t(l)}}function ZA(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const poe={name:"autolink",tokenize:moe};function moe(e,t,n){let r=0;return a;function a(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(m){return Oa(m)?(e.consume(m),o):m===64?n(m):c(m)}function o(m){return m===43||m===45||m===46||Ma(m)?(r=1,s(m)):c(m)}function s(m){return m===58?(e.consume(m),r=0,l):(m===43||m===45||m===46||Ma(m))&&r++<32?(e.consume(m),s):(r=0,c(m))}function l(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||Mg(m)?n(m):(e.consume(m),l)}function c(m){return m===64?(e.consume(m),d):roe(m)?(e.consume(m),c):n(m)}function d(m){return Ma(m)?f(m):n(m)}function f(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):p(m)}function p(m){if((m===45||Ma(m))&&r++<63){const h=m===45?p:f;return e.consume(m),h}return n(m)}}const Ip={partial:!0,tokenize:hoe};function hoe(e,t,n){return r;function r(i){return an(i)?hn(e,a,"linePrefix")(i):a(i)}function a(i){return i===null||Tt(i)?t(i):n(i)}}const bL={continuation:{tokenize:yoe},exit:voe,name:"blockQuote",tokenize:goe};function goe(e,t,n){const r=this;return a;function a(o){if(o===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),i}return n(o)}function i(o){return an(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function yoe(e,t,n){const r=this;return a;function a(o){return an(o)?hn(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):i(o)}function i(o){return e.attempt(bL,t,n)(o)}}function voe(e){e.exit("blockQuote")}const xL={name:"characterEscape",tokenize:boe};function boe(e,t,n){return r;function r(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),a}function a(i){return ioe(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}const wL={name:"characterReference",tokenize:xoe};function xoe(e,t,n){const r=this;let a=0,i,o;return s;function s(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),i=31,o=Ma,d(f))}function c(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,o=aoe,d):(e.enter("characterReferenceValue"),i=7,o=ew,d(f))}function d(f){if(f===59&&a){const p=e.exit("characterReferenceValue");return o===Ma&&!_S(r.sliceSerialize(p))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&a++<i?(e.consume(f),d):n(f)}}const QA={partial:!0,tokenize:koe},JA={concrete:!0,name:"codeFenced",tokenize:woe};function woe(e,t,n){const r=this,a={partial:!0,tokenize:C};let i=0,o=0,s;return l;function l(j){return c(j)}function c(j){const M=r.events[r.events.length-1];return i=M&&M[1].type==="linePrefix"?M[2].sliceSerialize(M[1],!0).length:0,s=j,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(j)}function d(j){return j===s?(o++,e.consume(j),d):o<3?n(j):(e.exit("codeFencedFenceSequence"),an(j)?hn(e,f,"whitespace")(j):f(j))}function f(j){return j===null||Tt(j)?(e.exit("codeFencedFence"),r.interrupt?t(j):e.check(QA,y,S)(j)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(j))}function p(j){return j===null||Tt(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(j)):an(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),hn(e,m,"whitespace")(j)):j===96&&j===s?n(j):(e.consume(j),p)}function m(j){return j===null||Tt(j)?f(j):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),h(j))}function h(j){return j===null||Tt(j)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(j)):j===96&&j===s?n(j):(e.consume(j),h)}function y(j){return e.attempt(a,S,x)(j)}function x(j){return e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),g}function g(j){return i>0&&an(j)?hn(e,b,"linePrefix",i+1)(j):b(j)}function b(j){return j===null||Tt(j)?e.check(QA,y,S)(j):(e.enter("codeFlowValue"),w(j))}function w(j){return j===null||Tt(j)?(e.exit("codeFlowValue"),b(j)):(e.consume(j),w)}function S(j){return e.exit("codeFenced"),t(j)}function C(j,M,P){let $=0;return E;function E(Y){return j.enter("lineEnding"),j.consume(Y),j.exit("lineEnding"),_}function _(Y){return j.enter("codeFencedFence"),an(Y)?hn(j,D,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Y):D(Y)}function D(Y){return Y===s?(j.enter("codeFencedFenceSequence"),J(Y)):P(Y)}function J(Y){return Y===s?($++,j.consume(Y),J):$>=o?(j.exit("codeFencedFenceSequence"),an(Y)?hn(j,Q,"whitespace")(Y):Q(Y)):P(Y)}function Q(Y){return Y===null||Tt(Y)?(j.exit("codeFencedFence"),M(Y)):P(Y)}}}function koe(e,t,n){const r=this;return a;function a(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i)}function i(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const Av={name:"codeIndented",tokenize:Noe},Soe={partial:!0,tokenize:joe};function Noe(e,t,n){const r=this;return a;function a(c){return e.enter("codeIndented"),hn(e,i,"linePrefix",5)(c)}function i(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):Tt(c)?e.attempt(Soe,o,l)(c):(e.enter("codeFlowValue"),s(c))}function s(c){return c===null||Tt(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),s)}function l(c){return e.exit("codeIndented"),t(c)}}function joe(e,t,n){const r=this;return a;function a(o){return r.parser.lazy[r.now().line]?n(o):Tt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):hn(e,i,"linePrefix",5)(o)}function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):Tt(o)?a(o):n(o)}}const Coe={name:"codeText",previous:Aoe,resolve:Moe,tokenize:Eoe};function Moe(e){let t=e.length-4,n=3,r,a;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)a===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(a=r):(r===t||e[r][1].type==="lineEnding")&&(e[a][1].type="codeTextData",r!==a+2&&(e[a][1].end=e[r-1][1].end,e.splice(a+2,r-a-2),t-=r-a-2,r=a+2),a=void 0);return e}function Aoe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Eoe(e,t,n){let r=0,a,i;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),s(f)}function s(f){return f===96?(e.consume(f),r++,s):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(i=e.enter("codeTextSequence"),a=0,d(f)):Tt(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||Tt(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),c)}function d(f){return f===96?(e.consume(f),a++,d):a===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(i.type="codeTextData",c(f))}}class Poe{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const a=n||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&Ed(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Ed(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Ed(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Ed(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Ed(this.left,n.reverse())}}}function Ed(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function kL(e){const t={};let n=-1,r,a,i,o,s,l,c;const d=new Poe(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,i=0,i<l.length&&l[i][1].type==="lineEndingBlank"&&(i+=2),i<l.length&&l[i][1].type==="content"))for(;++i<l.length&&l[i][1].type!=="content";)l[i][1].type==="chunkText"&&(l[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Toe(d,n)),n=t[n],c=!0);else if(r[1]._container){for(i=n,a=void 0;i--;)if(o=d.get(i),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(a&&(d.get(a)[1].type="lineEndingBlank"),o[1].type="lineEnding",a=i);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;a&&(r[1].end={...d.get(a)[1].start},s=d.slice(a,n),s.unshift(r),d.splice(a,n-a+1,s))}}return gi(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function Toe(e,t){const n=e.get(t)[1],r=e.get(t)[2];let a=t-1;const i=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const s=o.events,l=[],c={};let d,f,p=-1,m=n,h=0,y=0;const x=[y];for(;m;){for(;e.get(++a)[1]!==m;);i.push(a),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),f&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++p<s.length;)s[p][0]==="exit"&&s[p-1][0]==="enter"&&s[p][1].type===s[p-1][1].type&&s[p][1].start.line!==s[p][1].end.line&&(y=p+1,x.push(y),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):x.pop(),p=x.length;p--;){const g=s.slice(x[p],x[p+1]),b=i.pop();l.push([b,b+g.length-1]),e.splice(b,2,g)}for(l.reverse(),p=-1;++p<l.length;)c[h+l[p][0]]=h+l[p][1],h+=l[p][1]-l[p][0]-1;return c}const Doe={resolve:Ioe,tokenize:_oe},Ooe={partial:!0,tokenize:Loe};function Ioe(e){return kL(e),e}function _oe(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),a(s)}function a(s){return s===null?i(s):Tt(s)?e.check(Ooe,o,i)(s):(e.consume(s),a)}function i(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function o(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function Loe(e,t,n){const r=this;return a;function a(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),hn(e,i,"linePrefix")}function i(o){if(o===null||Tt(o))return n(o);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function SL(e,t,n,r,a,i,o,s,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(g){return g===60?(e.enter(r),e.enter(a),e.enter(i),e.consume(g),e.exit(i),p):g===null||g===32||g===41||Mg(g)?n(g):(e.enter(r),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),y(g))}function p(g){return g===62?(e.enter(i),e.consume(g),e.exit(i),e.exit(a),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),m(g))}function m(g){return g===62?(e.exit("chunkString"),e.exit(s),p(g)):g===null||g===60||Tt(g)?n(g):(e.consume(g),g===92?h:m)}function h(g){return g===60||g===62||g===92?(e.consume(g),m):m(g)}function y(g){return!d&&(g===null||g===41||Ln(g))?(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(r),t(g)):d<c&&g===40?(e.consume(g),d++,y):g===41?(e.consume(g),d--,y):g===null||g===32||g===40||Mg(g)?n(g):(e.consume(g),g===92?x:y)}function x(g){return g===40||g===41||g===92?(e.consume(g),y):y(g)}}function NL(e,t,n,r,a,i){const o=this;let s=0,l;return c;function c(m){return e.enter(r),e.enter(a),e.consume(m),e.exit(a),e.enter(i),d}function d(m){return s>999||m===null||m===91||m===93&&!l||m===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?n(m):m===93?(e.exit(i),e.enter(a),e.consume(m),e.exit(a),e.exit(r),t):Tt(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||Tt(m)||s++>999?(e.exit("chunkString"),d(m)):(e.consume(m),l||(l=!an(m)),m===92?p:f)}function p(m){return m===91||m===92||m===93?(e.consume(m),s++,f):f(m)}}function jL(e,t,n,r,a,i){let o;return s;function s(p){return p===34||p===39||p===40?(e.enter(r),e.enter(a),e.consume(p),e.exit(a),o=p===40?41:p,l):n(p)}function l(p){return p===o?(e.enter(a),e.consume(p),e.exit(a),e.exit(r),t):(e.enter(i),c(p))}function c(p){return p===o?(e.exit(i),l(o)):p===null?n(p):Tt(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),hn(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===o||p===null||Tt(p)?(e.exit("chunkString"),c(p)):(e.consume(p),p===92?f:d)}function f(p){return p===o||p===92?(e.consume(p),d):d(p)}}function Jd(e,t){let n;return r;function r(a){return Tt(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n=!0,r):an(a)?hn(e,r,n?"linePrefix":"lineSuffix")(a):t(a)}}const Foe={name:"definition",tokenize:Roe},$oe={partial:!0,tokenize:Boe};function Roe(e,t,n){const r=this;let a;return i;function i(m){return e.enter("definition"),o(m)}function o(m){return NL.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function s(m){return a=so(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),l):n(m)}function l(m){return Ln(m)?Jd(e,c)(m):c(m)}function c(m){return SL(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt($oe,f,f)(m)}function f(m){return an(m)?hn(e,p,"whitespace")(m):p(m)}function p(m){return m===null||Tt(m)?(e.exit("definition"),r.parser.defined.push(a),t(m)):n(m)}}function Boe(e,t,n){return r;function r(s){return Ln(s)?Jd(e,a)(s):n(s)}function a(s){return jL(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function i(s){return an(s)?hn(e,o,"whitespace")(s):o(s)}function o(s){return s===null||Tt(s)?t(s):n(s)}}const zoe={name:"hardBreakEscape",tokenize:Uoe};function Uoe(e,t,n){return r;function r(i){return e.enter("hardBreakEscape"),e.consume(i),a}function a(i){return Tt(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}const Voe={name:"headingAtx",resolve:Hoe,tokenize:Woe};function Hoe(e,t){let n=e.length-2,r=3,a,i;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(a={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},i={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},gi(e,r,n-r+1,[["enter",a,t],["enter",i,t],["exit",i,t],["exit",a,t]])),e}function Woe(e,t,n){let r=0;return a;function a(d){return e.enter("atxHeading"),i(d)}function i(d){return e.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(e.consume(d),o):d===null||Ln(d)?(e.exit("atxHeadingSequence"),s(d)):n(d)}function s(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||Tt(d)?(e.exit("atxHeading"),t(d)):an(d)?hn(e,s,"whitespace")(d):(e.enter("atxHeadingText"),c(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),s(d))}function c(d){return d===null||d===35||Ln(d)?(e.exit("atxHeadingText"),s(d)):(e.consume(d),c)}}const qoe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],eE=["pre","script","style","textarea"],Koe={concrete:!0,name:"htmlFlow",resolveTo:Xoe,tokenize:Zoe},Goe={partial:!0,tokenize:Joe},Yoe={partial:!0,tokenize:Qoe};function Xoe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Zoe(e,t,n){const r=this;let a,i,o,s,l;return c;function c(N){return d(N)}function d(N){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(N),f}function f(N){return N===33?(e.consume(N),p):N===47?(e.consume(N),i=!0,y):N===63?(e.consume(N),a=3,r.interrupt?t:k):Oa(N)?(e.consume(N),o=String.fromCharCode(N),x):n(N)}function p(N){return N===45?(e.consume(N),a=2,m):N===91?(e.consume(N),a=5,s=0,h):Oa(N)?(e.consume(N),a=4,r.interrupt?t:k):n(N)}function m(N){return N===45?(e.consume(N),r.interrupt?t:k):n(N)}function h(N){const B="CDATA[";return N===B.charCodeAt(s++)?(e.consume(N),s===B.length?r.interrupt?t:D:h):n(N)}function y(N){return Oa(N)?(e.consume(N),o=String.fromCharCode(N),x):n(N)}function x(N){if(N===null||N===47||N===62||Ln(N)){const B=N===47,G=o.toLowerCase();return!B&&!i&&eE.includes(G)?(a=1,r.interrupt?t(N):D(N)):qoe.includes(o.toLowerCase())?(a=6,B?(e.consume(N),g):r.interrupt?t(N):D(N)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(N):i?b(N):w(N))}return N===45||Ma(N)?(e.consume(N),o+=String.fromCharCode(N),x):n(N)}function g(N){return N===62?(e.consume(N),r.interrupt?t:D):n(N)}function b(N){return an(N)?(e.consume(N),b):E(N)}function w(N){return N===47?(e.consume(N),E):N===58||N===95||Oa(N)?(e.consume(N),S):an(N)?(e.consume(N),w):E(N)}function S(N){return N===45||N===46||N===58||N===95||Ma(N)?(e.consume(N),S):C(N)}function C(N){return N===61?(e.consume(N),j):an(N)?(e.consume(N),C):w(N)}function j(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(e.consume(N),l=N,M):an(N)?(e.consume(N),j):P(N)}function M(N){return N===l?(e.consume(N),l=null,$):N===null||Tt(N)?n(N):(e.consume(N),M)}function P(N){return N===null||N===34||N===39||N===47||N===60||N===61||N===62||N===96||Ln(N)?C(N):(e.consume(N),P)}function $(N){return N===47||N===62||an(N)?w(N):n(N)}function E(N){return N===62?(e.consume(N),_):n(N)}function _(N){return N===null||Tt(N)?D(N):an(N)?(e.consume(N),_):n(N)}function D(N){return N===45&&a===2?(e.consume(N),fe):N===60&&a===1?(e.consume(N),K):N===62&&a===4?(e.consume(N),R):N===63&&a===3?(e.consume(N),k):N===93&&a===5?(e.consume(N),te):Tt(N)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(Goe,A,J)(N)):N===null||Tt(N)?(e.exit("htmlFlowData"),J(N)):(e.consume(N),D)}function J(N){return e.check(Yoe,Q,A)(N)}function Q(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),Y}function Y(N){return N===null||Tt(N)?J(N):(e.enter("htmlFlowData"),D(N))}function fe(N){return N===45?(e.consume(N),k):D(N)}function K(N){return N===47?(e.consume(N),o="",I):D(N)}function I(N){if(N===62){const B=o.toLowerCase();return eE.includes(B)?(e.consume(N),R):D(N)}return Oa(N)&&o.length<8?(e.consume(N),o+=String.fromCharCode(N),I):D(N)}function te(N){return N===93?(e.consume(N),k):D(N)}function k(N){return N===62?(e.consume(N),R):N===45&&a===2?(e.consume(N),k):D(N)}function R(N){return N===null||Tt(N)?(e.exit("htmlFlowData"),A(N)):(e.consume(N),R)}function A(N){return e.exit("htmlFlow"),t(N)}}function Qoe(e,t,n){const r=this;return a;function a(o){return Tt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):n(o)}function i(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function Joe(e,t,n){return r;function r(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(Ip,t,n)}}const ese={name:"htmlText",tokenize:tse};function tse(e,t,n){const r=this;let a,i,o;return s;function s(k){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(k),l}function l(k){return k===33?(e.consume(k),c):k===47?(e.consume(k),C):k===63?(e.consume(k),w):Oa(k)?(e.consume(k),P):n(k)}function c(k){return k===45?(e.consume(k),d):k===91?(e.consume(k),i=0,h):Oa(k)?(e.consume(k),b):n(k)}function d(k){return k===45?(e.consume(k),m):n(k)}function f(k){return k===null?n(k):k===45?(e.consume(k),p):Tt(k)?(o=f,K(k)):(e.consume(k),f)}function p(k){return k===45?(e.consume(k),m):f(k)}function m(k){return k===62?fe(k):k===45?p(k):f(k)}function h(k){const R="CDATA[";return k===R.charCodeAt(i++)?(e.consume(k),i===R.length?y:h):n(k)}function y(k){return k===null?n(k):k===93?(e.consume(k),x):Tt(k)?(o=y,K(k)):(e.consume(k),y)}function x(k){return k===93?(e.consume(k),g):y(k)}function g(k){return k===62?fe(k):k===93?(e.consume(k),g):y(k)}function b(k){return k===null||k===62?fe(k):Tt(k)?(o=b,K(k)):(e.consume(k),b)}function w(k){return k===null?n(k):k===63?(e.consume(k),S):Tt(k)?(o=w,K(k)):(e.consume(k),w)}function S(k){return k===62?fe(k):w(k)}function C(k){return Oa(k)?(e.consume(k),j):n(k)}function j(k){return k===45||Ma(k)?(e.consume(k),j):M(k)}function M(k){return Tt(k)?(o=M,K(k)):an(k)?(e.consume(k),M):fe(k)}function P(k){return k===45||Ma(k)?(e.consume(k),P):k===47||k===62||Ln(k)?$(k):n(k)}function $(k){return k===47?(e.consume(k),fe):k===58||k===95||Oa(k)?(e.consume(k),E):Tt(k)?(o=$,K(k)):an(k)?(e.consume(k),$):fe(k)}function E(k){return k===45||k===46||k===58||k===95||Ma(k)?(e.consume(k),E):_(k)}function _(k){return k===61?(e.consume(k),D):Tt(k)?(o=_,K(k)):an(k)?(e.consume(k),_):$(k)}function D(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),a=k,J):Tt(k)?(o=D,K(k)):an(k)?(e.consume(k),D):(e.consume(k),Q)}function J(k){return k===a?(e.consume(k),a=void 0,Y):k===null?n(k):Tt(k)?(o=J,K(k)):(e.consume(k),J)}function Q(k){return k===null||k===34||k===39||k===60||k===61||k===96?n(k):k===47||k===62||Ln(k)?$(k):(e.consume(k),Q)}function Y(k){return k===47||k===62||Ln(k)?$(k):n(k)}function fe(k){return k===62?(e.consume(k),e.exit("htmlTextData"),e.exit("htmlText"),t):n(k)}function K(k){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),I}function I(k){return an(k)?hn(e,te,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):te(k)}function te(k){return e.enter("htmlTextData"),o(k)}}const LS={name:"labelEnd",resolveAll:ise,resolveTo:ose,tokenize:sse},nse={tokenize:lse},rse={tokenize:cse},ase={tokenize:use};function ise(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",t+=a}}return e.length!==n.length&&gi(e,0,e.length,n),e}function ose(e,t){let n=e.length,r=0,a,i,o,s;for(;n--;)if(a=e[n][1],i){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(i=n,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(o=n);const l={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[i][1].start},end:{...e[o][1].end}},d={type:"labelText",start:{...e[i+r+2][1].end},end:{...e[o-2][1].start}};return s=[["enter",l,t],["enter",c,t]],s=Li(s,e.slice(i+1,i+r+3)),s=Li(s,[["enter",d,t]]),s=Li(s,oy(t.parser.constructs.insideSpan.null,e.slice(i+r+4,o-3),t)),s=Li(s,[["exit",d,t],e[o-2],e[o-1],["exit",c,t]]),s=Li(s,e.slice(o+1)),s=Li(s,[["exit",l,t]]),gi(e,i,e.length,s),e}function sse(e,t,n){const r=this;let a=r.events.length,i,o;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){i=r.events[a][1];break}return s;function s(p){return i?i._inactive?f(p):(o=r.parser.defined.includes(so(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),l):n(p)}function l(p){return p===40?e.attempt(nse,d,o?d:f)(p):p===91?e.attempt(rse,d,o?c:f)(p):o?d(p):f(p)}function c(p){return e.attempt(ase,d,f)(p)}function d(p){return t(p)}function f(p){return i._balanced=!0,n(p)}}function lse(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),a}function a(f){return Ln(f)?Jd(e,i)(f):i(f)}function i(f){return f===41?d(f):SL(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return Ln(f)?Jd(e,l)(f):d(f)}function s(f){return n(f)}function l(f){return f===34||f===39||f===40?jL(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function c(f){return Ln(f)?Jd(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function cse(e,t,n){const r=this;return a;function a(s){return NL.call(r,e,i,o,"reference","referenceMarker","referenceString")(s)}function i(s){return r.parser.defined.includes(so(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function o(s){return n(s)}}function use(e,t,n){return r;function r(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),a}function a(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}const dse={name:"labelStartImage",resolveAll:LS.resolveAll,tokenize:fse};function fse(e,t,n){const r=this;return a;function a(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),i}function i(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),o):n(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const pse={name:"labelStartLink",resolveAll:LS.resolveAll,tokenize:mse};function mse(e,t,n){const r=this;return a;function a(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),i}function i(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const Ev={name:"lineEnding",tokenize:hse};function hse(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),hn(e,t,"linePrefix")}}const eh={name:"thematicBreak",tokenize:gse};function gse(e,t,n){let r=0,a;return i;function i(c){return e.enter("thematicBreak"),o(c)}function o(c){return a=c,s(c)}function s(c){return c===a?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||Tt(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===a?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),an(c)?hn(e,s,"whitespace")(c):s(c))}}const Ka={continuation:{tokenize:xse},exit:kse,name:"list",tokenize:bse},yse={partial:!0,tokenize:Sse},vse={partial:!0,tokenize:wse};function bse(e,t,n){const r=this,a=r.events[r.events.length-1];let i=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,o=0;return s;function s(m){const h=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(h==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:ew(m)){if(r.containerState.type||(r.containerState.type=h,e.enter(h,{_container:!0})),h==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(eh,n,c)(m):c(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(m)}return n(m)}function l(m){return ew(m)&&++o<10?(e.consume(m),l):(!r.interrupt||o<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),c(m)):n(m)}function c(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(Ip,r.interrupt?n:d,e.attempt(yse,p,f))}function d(m){return r.containerState.initialBlankLine=!0,i++,p(m)}function f(m){return an(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function xse(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Ip,a,i);function a(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,hn(e,t,"listItemIndent",r.containerState.size+1)(s)}function i(s){return r.containerState.furtherBlankLines||!an(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(vse,t,o)(s))}function o(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,hn(e,e.attempt(Ka,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function wse(e,t,n){const r=this;return hn(e,a,"listItemIndent",r.containerState.size+1);function a(i){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(i):n(i)}}function kse(e){e.exit(this.containerState.type)}function Sse(e,t,n){const r=this;return hn(e,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(i){const o=r.events[r.events.length-1];return!an(i)&&o&&o[1].type==="listItemPrefixWhitespace"?t(i):n(i)}}const tE={name:"setextUnderline",resolveTo:Nse,tokenize:jse};function Nse(e,t){let n=e.length,r,a,i;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(a=n)}else e[n][1].type==="content"&&e.splice(n,1),!i&&e[n][1].type==="definition"&&(i=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",i?(e.splice(a,0,["enter",o,t]),e.splice(i+1,0,["exit",e[r][1],t]),e[r][1].end={...e[i][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function jse(e,t,n){const r=this;let a;return i;function i(c){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),a=c,o(c)):n(c)}function o(c){return e.enter("setextHeadingLineSequence"),s(c)}function s(c){return c===a?(e.consume(c),s):(e.exit("setextHeadingLineSequence"),an(c)?hn(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||Tt(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const Cse={tokenize:Mse};function Mse(e){const t=this,n=e.attempt(Ip,r,e.attempt(this.parser.constructs.flowInitial,a,hn(e,e.attempt(this.parser.constructs.flow,a,e.attempt(Doe,a)),"linePrefix")));return n;function r(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function a(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Ase={resolveAll:ML()},Ese=CL("string"),Pse=CL("text");function CL(e){return{resolveAll:ML(e==="text"?Tse:void 0),tokenize:t};function t(n){const r=this,a=this.parser.constructs[e],i=n.attempt(a,o,s);return o;function o(d){return c(d)?i(d):s(d)}function s(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return c(d)?(n.exit("data"),i(d)):(n.consume(d),l)}function c(d){if(d===null)return!0;const f=a[d];let p=-1;if(f)for(;++p<f.length;){const m=f[p];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function ML(e){return t;function t(n,r){let a=-1,i;for(;++a<=n.length;)i===void 0?n[a]&&n[a][1].type==="data"&&(i=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==i+2&&(n[i][1].end=n[a-1][1].end,n.splice(i+2,a-i-2),a=i+2),i=void 0);return e?e(n,r):n}}function Tse(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],a=t.sliceStream(r);let i=a.length,o=-1,s=0,l;for(;i--;){const c=a[i];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(c===-2)l=!0,s++;else if(c!==-1){i++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(s=0),s){const c={type:n===e.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?o:r.start._bufferIndex+o,_index:r.start._index+i,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const Dse={42:Ka,43:Ka,45:Ka,48:Ka,49:Ka,50:Ka,51:Ka,52:Ka,53:Ka,54:Ka,55:Ka,56:Ka,57:Ka,62:bL},Ose={91:Foe},Ise={[-2]:Av,[-1]:Av,32:Av},_se={35:Voe,42:eh,45:[tE,eh],60:Koe,61:tE,95:eh,96:JA,126:JA},Lse={38:wL,92:xL},Fse={[-5]:Ev,[-4]:Ev,[-3]:Ev,33:dse,38:wL,42:tw,60:[poe,ese],91:pse,92:[zoe,xL],93:LS,95:tw,96:Coe},$se={null:[tw,Ase]},Rse={null:[42,95]},Bse={null:[]},zse=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Rse,contentInitial:Ose,disable:Bse,document:Dse,flow:_se,flowInitial:Ise,insideSpan:$se,string:Lse,text:Fse},Symbol.toStringTag,{value:"Module"}));function Use(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},i=[];let o=[],s=[];const l={attempt:M(C),check:M(j),consume:b,enter:w,exit:S,interrupt:M(j,{interrupt:!0})},c={code:null,containerState:{},defineSkip:y,events:[],now:h,parser:e,previous:null,sliceSerialize:p,sliceStream:m,write:f};let d=t.tokenize.call(c,l);return t.resolveAll&&i.push(t),c;function f(_){return o=Li(o,_),x(),o[o.length-1]!==null?[]:(P(t,0),c.events=oy(i,c.events,c),c.events)}function p(_,D){return Hse(m(_),D)}function m(_){return Vse(o,_)}function h(){const{_bufferIndex:_,_index:D,line:J,column:Q,offset:Y}=r;return{_bufferIndex:_,_index:D,line:J,column:Q,offset:Y}}function y(_){a[_.line]=_.column,E()}function x(){let _;for(;r._index<o.length;){const D=o[r._index];if(typeof D=="string")for(_=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===_&&r._bufferIndex<D.length;)g(D.charCodeAt(r._bufferIndex));else g(D)}}function g(_){d=d(_)}function b(_){Tt(_)?(r.line++,r.column=1,r.offset+=_===-3?2:1,E()):_!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=_}function w(_,D){const J=D||{};return J.type=_,J.start=h(),c.events.push(["enter",J,c]),s.push(J),J}function S(_){const D=s.pop();return D.end=h(),c.events.push(["exit",D,c]),D}function C(_,D){P(_,D.from)}function j(_,D){D.restore()}function M(_,D){return J;function J(Q,Y,fe){let K,I,te,k;return Array.isArray(Q)?A(Q):"tokenize"in Q?A([Q]):R(Q);function R(V){return H;function H(X){const O=X!==null&&V[X],ee=X!==null&&V.null,me=[...Array.isArray(O)?O:O?[O]:[],...Array.isArray(ee)?ee:ee?[ee]:[]];return A(me)(X)}}function A(V){return K=V,I=0,V.length===0?fe:N(V[I])}function N(V){return H;function H(X){return k=$(),te=V,V.partial||(c.currentConstruct=V),V.name&&c.parser.constructs.disable.null.includes(V.name)?G():V.tokenize.call(D?Object.assign(Object.create(c),D):c,l,B,G)(X)}}function B(V){return _(te,k),Y}function G(V){return k.restore(),++I<K.length?N(K[I]):fe}}}function P(_,D){_.resolveAll&&!i.includes(_)&&i.push(_),_.resolve&&gi(c.events,D,c.events.length-D,_.resolve(c.events.slice(D),c)),_.resolveTo&&(c.events=_.resolveTo(c.events,c))}function $(){const _=h(),D=c.previous,J=c.currentConstruct,Q=c.events.length,Y=Array.from(s);return{from:Q,restore:fe};function fe(){r=_,c.previous=D,c.currentConstruct=J,c.events.length=Q,s=Y,E()}}function E(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function Vse(e,t){const n=t.start._index,r=t.start._bufferIndex,a=t.end._index,i=t.end._bufferIndex;let o;if(n===a)o=[e[n].slice(r,i)];else{if(o=e.slice(n,a),r>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(r):o.shift()}i>0&&o.push(e[a].slice(0,i))}return o}function Hse(e,t){let n=-1;const r=[];let a;for(;++n<e.length;){const i=e[n];let o;if(typeof i=="string")o=i;else switch(i){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&a)continue;o=" ";break}default:o=String.fromCharCode(i)}a=i===-2,r.push(o)}return r.join("")}function Wse(e){const t={constructs:yL([zse,...(e||{}).extensions||[]]),content:n(ooe),defined:[],document:n(loe),flow:n(Cse),lazy:{},string:n(Ese),text:n(Pse)};return t;function n(r){return a;function a(i){return Use(t,r,i)}}}function qse(e){for(;!kL(e););return e}const nE=/[\0\t\n\r]/g;function Kse(){let e=1,t="",n=!0,r;return a;function a(i,o,s){const l=[];let c,d,f,p,m;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(o||void 0).decode(i)),f=0,t="",n&&(i.charCodeAt(0)===65279&&f++,n=void 0);f<i.length;){if(nE.lastIndex=f,c=nE.exec(i),p=c&&c.index!==void 0?c.index:i.length,m=i.charCodeAt(p),!c){t=i.slice(f);break}if(m===10&&f===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<p&&(l.push(i.slice(f,p)),e+=p-f),m){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=p+1}return s&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const Gse=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Yse(e){return e.replace(Gse,Xse)}function Xse(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const r=n.charCodeAt(1),a=r===120||r===88;return vL(n.slice(a?2:1),a?16:10)}return _S(n)||e}const AL={}.hasOwnProperty;function Zse(e,t,n){return typeof t!="string"&&(n=t,t=void 0),Qse(n)(qse(Wse(n).document().write(Kse()(e,t,!0))))}function Qse(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(le),autolinkProtocol:$,autolinkEmail:$,atxHeading:i(F),blockQuote:i(ee),characterEscape:$,characterReference:$,codeFenced:i(me),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:i(me,o),codeText:i(L,o),codeTextData:$,data:$,codeFlowValue:$,definition:i(ne),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:i(z),hardBreakEscape:i(oe),hardBreakTrailing:i(oe),htmlFlow:i(ye,o),htmlFlowData:$,htmlText:i(ye,o),htmlTextData:$,image:i(Qe),label:o,link:i(le),listItem:i(Pe),listItemValue:p,listOrdered:i(qe,f),listUnordered:i(qe),paragraph:i(ct),reference:N,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:i(F),strong:i(en),thematicBreak:i(Br)},exit:{atxHeading:l(),atxHeadingSequence:C,autolink:l(),autolinkEmail:O,autolinkProtocol:X,blockQuote:l(),characterEscapeValue:E,characterReferenceMarkerHexadecimal:G,characterReferenceMarkerNumeric:G,characterReferenceValue:V,characterReference:H,codeFenced:l(x),codeFencedFence:y,codeFencedFenceInfo:m,codeFencedFenceMeta:h,codeFlowValue:E,codeIndented:l(g),codeText:l(Y),codeTextData:E,data:E,definition:l(),definitionDestinationString:S,definitionLabelString:b,definitionTitleString:w,emphasis:l(),hardBreakEscape:l(D),hardBreakTrailing:l(D),htmlFlow:l(J),htmlFlowData:E,htmlText:l(Q),htmlTextData:E,image:l(K),label:te,labelText:I,lineEnding:_,link:l(fe),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:B,resourceDestinationString:k,resourceTitleString:R,resource:A,setextHeading:l(P),setextHeadingLineSequence:M,setextHeadingText:j,strong:l(),thematicBreak:l()}};EL(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ue){let De={type:"root",children:[]};const dt={stack:[De],tokenStack:[],config:t,enter:s,exit:c,buffer:o,resume:d,data:n},tn=[];let fn=-1;for(;++fn<ue.length;)if(ue[fn][1].type==="listOrdered"||ue[fn][1].type==="listUnordered")if(ue[fn][0]==="enter")tn.push(fn);else{const Sr=tn.pop();fn=a(ue,Sr,fn)}for(fn=-1;++fn<ue.length;){const Sr=t[ue[fn][0]];AL.call(Sr,ue[fn][1].type)&&Sr[ue[fn][1].type].call(Object.assign({sliceSerialize:ue[fn][2].sliceSerialize},dt),ue[fn][1])}if(dt.tokenStack.length>0){const Sr=dt.tokenStack[dt.tokenStack.length-1];(Sr[1]||rE).call(dt,void 0,Sr[0])}for(De.position={start:Bs(ue.length>0?ue[0][1].start:{line:1,column:1,offset:0}),end:Bs(ue.length>0?ue[ue.length-2][1].end:{line:1,column:1,offset:0})},fn=-1;++fn<t.transforms.length;)De=t.transforms[fn](De)||De;return De}function a(ue,De,dt){let tn=De-1,fn=-1,Sr=!1,sr,Hn,zr,Qr;for(;++tn<=dt;){const yn=ue[tn];switch(yn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{yn[0]==="enter"?fn++:fn--,Qr=void 0;break}case"lineEndingBlank":{yn[0]==="enter"&&(sr&&!Qr&&!fn&&!zr&&(zr=tn),Qr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Qr=void 0}if(!fn&&yn[0]==="enter"&&yn[1].type==="listItemPrefix"||fn===-1&&yn[0]==="exit"&&(yn[1].type==="listUnordered"||yn[1].type==="listOrdered")){if(sr){let sn=tn;for(Hn=void 0;sn--;){const ha=ue[sn];if(ha[1].type==="lineEnding"||ha[1].type==="lineEndingBlank"){if(ha[0]==="exit")continue;Hn&&(ue[Hn][1].type="lineEndingBlank",Sr=!0),ha[1].type="lineEnding",Hn=sn}else if(!(ha[1].type==="linePrefix"||ha[1].type==="blockQuotePrefix"||ha[1].type==="blockQuotePrefixWhitespace"||ha[1].type==="blockQuoteMarker"||ha[1].type==="listItemIndent"))break}zr&&(!Hn||zr<Hn)&&(sr._spread=!0),sr.end=Object.assign({},Hn?ue[Hn][1].start:yn[1].end),ue.splice(Hn||tn,0,["exit",sr,yn[2]]),tn++,dt++}if(yn[1].type==="listItemPrefix"){const sn={type:"listItem",_spread:!1,start:Object.assign({},yn[1].start),end:void 0};sr=sn,ue.splice(tn,0,["enter",sn,yn[2]]),tn++,dt++,zr=void 0,Qr=!0}}}return ue[De][1]._spread=Sr,dt}function i(ue,De){return dt;function dt(tn){s.call(this,ue(tn),tn),De&&De.call(this,tn)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(ue,De,dt){this.stack[this.stack.length-1].children.push(ue),this.stack.push(ue),this.tokenStack.push([De,dt||void 0]),ue.position={start:Bs(De.start),end:void 0}}function l(ue){return De;function De(dt){ue&&ue.call(this,dt),c.call(this,dt)}}function c(ue,De){const dt=this.stack.pop(),tn=this.tokenStack.pop();if(tn)tn[0].type!==ue.type&&(De?De.call(this,ue,tn[0]):(tn[1]||rE).call(this,ue,tn[0]));else throw new Error("Cannot close `"+ue.type+"` ("+Qd({start:ue.start,end:ue.end})+"): its not open");dt.position.end=Bs(ue.end)}function d(){return IS(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function p(ue){if(this.data.expectingFirstListItemValue){const De=this.stack[this.stack.length-2];De.start=Number.parseInt(this.sliceSerialize(ue),10),this.data.expectingFirstListItemValue=void 0}}function m(){const ue=this.resume(),De=this.stack[this.stack.length-1];De.lang=ue}function h(){const ue=this.resume(),De=this.stack[this.stack.length-1];De.meta=ue}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const ue=this.resume(),De=this.stack[this.stack.length-1];De.value=ue.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function g(){const ue=this.resume(),De=this.stack[this.stack.length-1];De.value=ue.replace(/(\r?\n|\r)$/g,"")}function b(ue){const De=this.resume(),dt=this.stack[this.stack.length-1];dt.label=De,dt.identifier=so(this.sliceSerialize(ue)).toLowerCase()}function w(){const ue=this.resume(),De=this.stack[this.stack.length-1];De.title=ue}function S(){const ue=this.resume(),De=this.stack[this.stack.length-1];De.url=ue}function C(ue){const De=this.stack[this.stack.length-1];if(!De.depth){const dt=this.sliceSerialize(ue).length;De.depth=dt}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function M(ue){const De=this.stack[this.stack.length-1];De.depth=this.sliceSerialize(ue).codePointAt(0)===61?1:2}function P(){this.data.setextHeadingSlurpLineEnding=void 0}function $(ue){const De=this.stack[this.stack.length-1].children;let dt=De[De.length-1];(!dt||dt.type!=="text")&&(dt=En(),dt.position={start:Bs(ue.start),end:void 0},De.push(dt)),this.stack.push(dt)}function E(ue){const De=this.stack.pop();De.value+=this.sliceSerialize(ue),De.position.end=Bs(ue.end)}function _(ue){const De=this.stack[this.stack.length-1];if(this.data.atHardBreak){const dt=De.children[De.children.length-1];dt.position.end=Bs(ue.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(De.type)&&($.call(this,ue),E.call(this,ue))}function D(){this.data.atHardBreak=!0}function J(){const ue=this.resume(),De=this.stack[this.stack.length-1];De.value=ue}function Q(){const ue=this.resume(),De=this.stack[this.stack.length-1];De.value=ue}function Y(){const ue=this.resume(),De=this.stack[this.stack.length-1];De.value=ue}function fe(){const ue=this.stack[this.stack.length-1];if(this.data.inReference){const De=this.data.referenceType||"shortcut";ue.type+="Reference",ue.referenceType=De,delete ue.url,delete ue.title}else delete ue.identifier,delete ue.label;this.data.referenceType=void 0}function K(){const ue=this.stack[this.stack.length-1];if(this.data.inReference){const De=this.data.referenceType||"shortcut";ue.type+="Reference",ue.referenceType=De,delete ue.url,delete ue.title}else delete ue.identifier,delete ue.label;this.data.referenceType=void 0}function I(ue){const De=this.sliceSerialize(ue),dt=this.stack[this.stack.length-2];dt.label=Yse(De),dt.identifier=so(De).toLowerCase()}function te(){const ue=this.stack[this.stack.length-1],De=this.resume(),dt=this.stack[this.stack.length-1];if(this.data.inReference=!0,dt.type==="link"){const tn=ue.children;dt.children=tn}else dt.alt=De}function k(){const ue=this.resume(),De=this.stack[this.stack.length-1];De.url=ue}function R(){const ue=this.resume(),De=this.stack[this.stack.length-1];De.title=ue}function A(){this.data.inReference=void 0}function N(){this.data.referenceType="collapsed"}function B(ue){const De=this.resume(),dt=this.stack[this.stack.length-1];dt.label=De,dt.identifier=so(this.sliceSerialize(ue)).toLowerCase(),this.data.referenceType="full"}function G(ue){this.data.characterReferenceType=ue.type}function V(ue){const De=this.sliceSerialize(ue),dt=this.data.characterReferenceType;let tn;dt?(tn=vL(De,dt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):tn=_S(De);const fn=this.stack[this.stack.length-1];fn.value+=tn}function H(ue){const De=this.stack.pop();De.position.end=Bs(ue.end)}function X(ue){E.call(this,ue);const De=this.stack[this.stack.length-1];De.url=this.sliceSerialize(ue)}function O(ue){E.call(this,ue);const De=this.stack[this.stack.length-1];De.url="mailto:"+this.sliceSerialize(ue)}function ee(){return{type:"blockquote",children:[]}}function me(){return{type:"code",lang:null,meta:null,value:""}}function L(){return{type:"inlineCode",value:""}}function ne(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function z(){return{type:"emphasis",children:[]}}function F(){return{type:"heading",depth:0,children:[]}}function oe(){return{type:"break"}}function ye(){return{type:"html",value:""}}function Qe(){return{type:"image",title:null,url:"",alt:null}}function le(){return{type:"link",title:null,url:"",children:[]}}function qe(ue){return{type:"list",ordered:ue.type==="listOrdered",start:null,spread:ue._spread,children:[]}}function Pe(ue){return{type:"listItem",spread:ue._spread,checked:null,children:[]}}function ct(){return{type:"paragraph",children:[]}}function en(){return{type:"strong",children:[]}}function En(){return{type:"text",value:""}}function Br(){return{type:"thematicBreak"}}}function Bs(e){return{line:e.line,column:e.column,offset:e.offset}}function EL(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?EL(e,r):Jse(e,r)}}function Jse(e,t){let n;for(n in t)if(AL.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function rE(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Qd({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Qd({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Qd({start:t.start,end:t.end})+") is still open")}function ele(e){const t=this;t.parser=n;function n(r){return Zse(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function tle(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function nle(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function rle(e,t){const n=t.value?t.value+`
`:"",r={},a=t.lang?t.lang.split(/\s+/):[];a.length>0&&(r.className=["language-"+a[0]]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function ale(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ile(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ole(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),a=rd(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);let o,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=i+1,s+=1,e.footnoteCounts.set(r,s);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function sle(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function lle(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function PL(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const a=e.all(t),i=a[0];i&&i.type==="text"?i.value="["+i.value:a.unshift({type:"text",value:"["});const o=a[a.length-1];return o&&o.type==="text"?o.value+=r:a.push({type:"text",value:r}),a}function cle(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return PL(e,t);const a={src:rd(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,i),e.applyData(t,i)}function ule(e,t){const n={src:rd(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function dle(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function fle(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return PL(e,t);const a={href:rd(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function ple(e,t){const n={href:rd(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function mle(e,t,n){const r=e.all(t),a=n?hle(n):TL(t),i={},o=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const d=r[s];(a||s!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!a?o.push(...d.children):o.push(d)}const l=r[r.length-1];l&&(a||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:i,children:o};return e.patch(t,c),e.applyData(t,c)}function hle(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=TL(n[r])}return t}function TL(e){return e.spread??e.children.length>1}function gle(e,t){const n={},r=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++a<r.length;){const o=r[a];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)}function yle(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function vle(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function ble(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function xle(e,t){const n=e.all(t),r=n.shift(),a=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),a.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=PS(t.children[1]),l=uL(t.children[t.children.length-1]);s&&l&&(o.position={start:s,end:l}),a.push(o)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,i),e.applyData(t,i)}function wle(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",i=n&&n.type==="table"?n.align:void 0,o=i?i.length:t.children.length;let s=-1;const l=[];for(;++s<o;){const d=t.children[s],f={},p=i?i[s]:void 0;p&&(f.align=p);let m={type:"element",tagName:a,properties:f,children:[]};d&&(m.children=e.all(d),e.patch(d,m),m=e.applyData(d,m)),l.push(m)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,c),e.applyData(t,c)}function kle(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const aE=9,iE=32;function Sle(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),a=0;const i=[];for(;r;)i.push(oE(t.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(t);return i.push(oE(t.slice(a),a>0,!1)),i.join("")}function oE(e,t,n){let r=0,a=e.length;if(t){let i=e.codePointAt(r);for(;i===aE||i===iE;)r++,i=e.codePointAt(r)}if(n){let i=e.codePointAt(a-1);for(;i===aE||i===iE;)a--,i=e.codePointAt(a-1)}return a>r?e.slice(r,a):""}function Nle(e,t){const n={type:"text",value:Sle(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function jle(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Cle={blockquote:tle,break:nle,code:rle,delete:ale,emphasis:ile,footnoteReference:ole,heading:sle,html:lle,imageReference:cle,image:ule,inlineCode:dle,linkReference:fle,link:ple,listItem:mle,list:gle,paragraph:yle,root:vle,strong:ble,table:xle,tableCell:kle,tableRow:wle,text:Nle,thematicBreak:jle,toml:Cm,yaml:Cm,definition:Cm,footnoteDefinition:Cm};function Cm(){}const DL=-1,sy=0,ef=1,Ag=2,FS=3,$S=4,RS=5,BS=6,OL=7,IL=8,sE=typeof self=="object"?self:globalThis,Mle=(e,t)=>{const n=(a,i)=>(e.set(i,a),a),r=a=>{if(e.has(a))return e.get(a);const[i,o]=t[a];switch(i){case sy:case DL:return n(o,a);case ef:{const s=n([],a);for(const l of o)s.push(r(l));return s}case Ag:{const s=n({},a);for(const[l,c]of o)s[r(l)]=r(c);return s}case FS:return n(new Date(o),a);case $S:{const{source:s,flags:l}=o;return n(new RegExp(s,l),a)}case RS:{const s=n(new Map,a);for(const[l,c]of o)s.set(r(l),r(c));return s}case BS:{const s=n(new Set,a);for(const l of o)s.add(r(l));return s}case OL:{const{name:s,message:l}=o;return n(new sE[s](l),a)}case IL:return n(BigInt(o),a);case"BigInt":return n(Object(BigInt(o)),a);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:s}=new Uint8Array(o);return n(new DataView(s),o)}}return n(new sE[i](o),a)};return r},lE=e=>Mle(new Map,e)(0),Hc="",{toString:Ale}={},{keys:Ele}=Object,Pd=e=>{const t=typeof e;if(t!=="object"||!e)return[sy,t];const n=Ale.call(e).slice(8,-1);switch(n){case"Array":return[ef,Hc];case"Object":return[Ag,Hc];case"Date":return[FS,Hc];case"RegExp":return[$S,Hc];case"Map":return[RS,Hc];case"Set":return[BS,Hc];case"DataView":return[ef,n]}return n.includes("Array")?[ef,n]:n.includes("Error")?[OL,n]:[Ag,n]},Mm=([e,t])=>e===sy&&(t==="function"||t==="symbol"),Ple=(e,t,n,r)=>{const a=(o,s)=>{const l=r.push(o)-1;return n.set(s,l),l},i=o=>{if(n.has(o))return n.get(o);let[s,l]=Pd(o);switch(s){case sy:{let d=o;switch(l){case"bigint":s=IL,d=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return a([DL],o)}return a([s,d],o)}case ef:{if(l){let p=o;return l==="DataView"?p=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(o)),a([l,[...p]],o)}const d=[],f=a([s,d],o);for(const p of o)d.push(i(p));return f}case Ag:{if(l)switch(l){case"BigInt":return a([l,o.toString()],o);case"Boolean":case"Number":case"String":return a([l,o.valueOf()],o)}if(t&&"toJSON"in o)return i(o.toJSON());const d=[],f=a([s,d],o);for(const p of Ele(o))(e||!Mm(Pd(o[p])))&&d.push([i(p),i(o[p])]);return f}case FS:return a([s,o.toISOString()],o);case $S:{const{source:d,flags:f}=o;return a([s,{source:d,flags:f}],o)}case RS:{const d=[],f=a([s,d],o);for(const[p,m]of o)(e||!(Mm(Pd(p))||Mm(Pd(m))))&&d.push([i(p),i(m)]);return f}case BS:{const d=[],f=a([s,d],o);for(const p of o)(e||!Mm(Pd(p)))&&d.push(i(p));return f}}const{message:c}=o;return a([s,{name:l,message:c}],o)};return i},cE=(e,{json:t,lossy:n}={})=>{const r=[];return Ple(!(t||n),!!t,new Map,r)(e),r},Eg=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?lE(cE(e,t)):structuredClone(e):(e,t)=>lE(cE(e,t));function Tle(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Dle(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Ole(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Tle,r=e.options.footnoteBackLabel||Dle,a=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const d=e.all(c),f=String(c.identifier).toUpperCase(),p=rd(f.toLowerCase());let m=0;const h=[],y=e.footnoteCounts.get(f);for(;y!==void 0&&++m<=y;){h.length>0&&h.push({type:"text",value:" "});let b=typeof n=="string"?n:n(l,m);typeof b=="string"&&(b={type:"text",value:b}),h.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const x=d[d.length-1];if(x&&x.type==="element"&&x.tagName==="p"){const b=x.children[x.children.length-1];b&&b.type==="text"?b.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...h)}else d.push(...h);const g={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(d,!0)};e.patch(c,g),s.push(g)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...Eg(o),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const ly=function(e){if(e==null)return Fle;if(typeof e=="function")return cy(e);if(typeof e=="object")return Array.isArray(e)?Ile(e):_le(e);if(typeof e=="string")return Lle(e);throw new Error("Expected function, string, or object as test")};function Ile(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=ly(e[n]);return cy(r);function r(...a){let i=-1;for(;++i<t.length;)if(t[i].apply(this,a))return!0;return!1}}function _le(e){const t=e;return cy(n);function n(r){const a=r;let i;for(i in e)if(a[i]!==t[i])return!1;return!0}}function Lle(e){return cy(t);function t(n){return n&&n.type===e}}function cy(e){return t;function t(n,r,a){return!!($le(n)&&e.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function Fle(){return!0}function $le(e){return e!==null&&typeof e=="object"&&"type"in e}const _L=[],Rle=!0,nw=!1,Ble="skip";function LL(e,t,n,r){let a;typeof t=="function"&&typeof n!="function"?(r=n,n=t):a=t;const i=ly(a),o=r?-1:1;s(e,void 0,[])();function s(l,c,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return p;function p(){let m=_L,h,y,x;if((!t||i(l,c,d[d.length-1]||void 0))&&(m=zle(n(l,d)),m[0]===nw))return m;if("children"in l&&l.children){const g=l;if(g.children&&m[0]!==Ble)for(y=(r?g.children.length:-1)+o,x=d.concat(g);y>-1&&y<g.children.length;){const b=g.children[y];if(h=s(b,y,x)(),h[0]===nw)return h;y=typeof h[1]=="number"?h[1]:y+o}}return m}}}function zle(e){return Array.isArray(e)?e:typeof e=="number"?[Rle,e]:e==null?_L:[e]}function zS(e,t,n,r){let a,i,o;typeof t=="function"&&typeof n!="function"?(i=void 0,o=t,a=n):(i=t,o=n,a=r),LL(e,i,s,a);function s(l,c){const d=c[c.length-1],f=d?d.children.indexOf(l):void 0;return o(l,f,d)}}const rw={}.hasOwnProperty,Ule={};function Vle(e,t){const n=t||Ule,r=new Map,a=new Map,i=new Map,o={...Cle,...n.handlers},s={all:c,applyData:Wle,definitionById:r,footnoteById:a,footnoteCounts:i,footnoteOrder:[],handlers:o,one:l,options:n,patch:Hle,wrap:Kle};return zS(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:a,p=String(d.identifier).toUpperCase();f.has(p)||f.set(p,d)}}),s;function l(d,f){const p=d.type,m=s.handlers[p];if(rw.call(s.handlers,p)&&m)return m(s,d,f);if(s.options.passThrough&&s.options.passThrough.includes(p)){if("children"in d){const{children:h,...y}=d,x=Eg(y);return x.children=s.all(d),x}return Eg(d)}return(s.options.unknownHandler||qle)(s,d,f)}function c(d){const f=[];if("children"in d){const p=d.children;let m=-1;for(;++m<p.length;){const h=s.one(p[m],d);if(h){if(m&&p[m-1].type==="break"&&(!Array.isArray(h)&&h.type==="text"&&(h.value=uE(h.value)),!Array.isArray(h)&&h.type==="element")){const y=h.children[0];y&&y.type==="text"&&(y.value=uE(y.value))}Array.isArray(h)?f.push(...h):f.push(h)}}}return f}}function Hle(e,t){e.position&&(t.position=Die(e))}function Wle(e,t){let n=t;if(e&&e.data){const r=e.data.hName,a=e.data.hChildren,i=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&i&&Object.assign(n.properties,Eg(i)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function qle(e,t){const n=t.data||{},r="value"in t&&!(rw.call(n,"hProperties")||rw.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Kle(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function uE(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function dE(e,t){const n=Vle(e,t),r=n.one(e,void 0),a=Ole(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&i.children.push({type:"text",value:`
`},a),i}function Gle(e,t){return e&&"run"in e?async function(n,r){const a=dE(n,{file:r,...t});await e.run(a,r)}:function(n,r){return dE(n,{file:r,...e||t})}}function fE(e){if(e)throw e}var th=Object.prototype.hasOwnProperty,FL=Object.prototype.toString,pE=Object.defineProperty,mE=Object.getOwnPropertyDescriptor,hE=function(e){return typeof Array.isArray=="function"?Array.isArray(e):FL.call(e)==="[object Array]"},gE=function(e){if(!e||FL.call(e)!=="[object Object]")return!1;var t=th.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&th.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!n)return!1;var r;for(r in e);return typeof r>"u"||th.call(e,r)},yE=function(e,t){pE&&t.name==="__proto__"?pE(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},vE=function(e,t){if(t==="__proto__")if(th.call(e,t)){if(mE)return mE(e,t).value}else return;return e[t]},Yle=function e(){var t,n,r,a,i,o,s=arguments[0],l=1,c=arguments.length,d=!1;for(typeof s=="boolean"&&(d=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<c;++l)if(t=arguments[l],t!=null)for(n in t)r=vE(s,n),a=vE(t,n),s!==a&&(d&&a&&(gE(a)||(i=hE(a)))?(i?(i=!1,o=r&&hE(r)?r:[]):o=r&&gE(r)?r:{},yE(s,{name:n,newValue:e(d,o,a)})):typeof a<"u"&&yE(s,{name:n,newValue:a}));return s};const Pv=mo(Yle);function aw(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Xle(){const e=[],t={run:n,use:r};return t;function n(...a){let i=-1;const o=a.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...a);function s(l,...c){const d=e[++i];let f=-1;if(l){o(l);return}for(;++f<a.length;)(c[f]===null||c[f]===void 0)&&(c[f]=a[f]);a=c,d?Zle(d,s)(...c):o(null,...c)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function Zle(e,t){let n;return r;function r(...o){const s=e.length>o.length;let l;s&&o.push(a);try{l=e.apply(this,o)}catch(c){const d=c;if(s&&n)throw d;return a(d)}s||(l&&l.then&&typeof l.then=="function"?l.then(i,a):l instanceof Error?a(l):i(l))}function a(o,...s){n||(n=!0,t(o,...s))}function i(o){a(null,o)}}const Po={basename:Qle,dirname:Jle,extname:ece,join:tce,sep:"/"};function Qle(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');_p(e);let n=0,r=-1,a=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(i){n=a+1;break}}else r<0&&(i=!0,r=a+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,s=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(i){n=a+1;break}}else o<0&&(i=!0,o=a+1),s>-1&&(e.codePointAt(a)===t.codePointAt(s--)?s<0&&(r=a):(s=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function Jle(e){if(_p(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function ece(e){_p(e);let t=e.length,n=-1,r=0,a=-1,i=0,o;for(;t--;){const s=e.codePointAt(t);if(s===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),s===46?a<0?a=t:i!==1&&(i=1):a>-1&&(i=-1)}return a<0||n<0||i===0||i===1&&a===n-1&&a===r+1?"":e.slice(a,n)}function tce(...e){let t=-1,n;for(;++t<e.length;)_p(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":nce(n)}function nce(e){_p(e);const t=e.codePointAt(0)===47;let n=rce(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function rce(e,t){let n="",r=0,a=-1,i=0,o=-1,s,l;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(a===o-1||i===1))if(a!==o-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),a=o,i=0;continue}}else if(n.length>0){n="",r=0,a=o,i=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(a+1,o):n=e.slice(a+1,o),r=o-a-1;a=o,i=0}else s===46&&i>-1?i++:i=-1}return n}function _p(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const ace={cwd:ice};function ice(){return"/"}function iw(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function oce(e){if(typeof e=="string")e=new URL(e);else if(!iw(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return sce(e)}function sce(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const Tv=["history","path","basename","stem","extname","dirname"];class $L{constructor(t){let n;t?iw(t)?n={path:t}:typeof t=="string"||lce(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":ace.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Tv.length;){const i=Tv[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let a;for(a in n)Tv.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?Po.basename(this.path):void 0}set basename(t){Ov(t,"basename"),Dv(t,"basename"),this.path=Po.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Po.dirname(this.path):void 0}set dirname(t){bE(this.basename,"dirname"),this.path=Po.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Po.extname(this.path):void 0}set extname(t){if(Dv(t,"extname"),bE(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Po.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){iw(t)&&(t=oce(t)),Ov(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Po.basename(this.path,this.extname):void 0}set stem(t){Ov(t,"stem"),Dv(t,"stem"),this.path=Po.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const a=this.message(t,n,r);throw a.fatal=!0,a}info(t,n,r){const a=this.message(t,n,r);return a.fatal=void 0,a}message(t,n,r){const a=new Ea(t,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Dv(e,t){if(e&&e.includes(Po.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Po.sep+"`")}function Ov(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function bE(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function lce(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const cce=function(e){const t=this.constructor.prototype,n=t[e],r=function(){return n.apply(r,arguments)};return Object.setPrototypeOf(r,t),r},uce={}.hasOwnProperty;class US extends cce{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Xle()}copy(){const t=new US;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Pv(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Lv("data",this.frozen),this.namespace[t]=n,this):uce.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Lv("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(t,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Am(t),r=this.parser||this.Parser;return Iv("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Iv("process",this.parser||this.Parser),_v("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(i,o){const s=Am(t),l=r.parse(s);r.run(l,s,function(d,f,p){if(d||!f||!p)return c(d);const m=f,h=r.stringify(m,p);pce(h)?p.value=h:p.result=h,c(d,p)});function c(d,f){d||!f?o(d):i?i(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),Iv("processSync",this.parser||this.Parser),_v("processSync",this.compiler||this.Compiler),this.process(t,a),wE("processSync","process",n),r;function a(i,o){n=!0,fE(i),r=o}}run(t,n,r){xE(t),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(o,s){const l=Am(n);a.run(t,l,c);function c(d,f,p){const m=f||t;d?s(d):o?o(m):r(void 0,m,p)}}}runSync(t,n){let r=!1,a;return this.run(t,n,i),wE("runSync","run",r),a;function i(o,s){fE(o),a=s,r=!0}}stringify(t,n){this.freeze();const r=Am(n),a=this.compiler||this.Compiler;return _v("stringify",a),xE(t),a(t,r)}use(t,...n){const r=this.attachers,a=this.namespace;if(Lv("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...f]=c;l(d,f)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(c.plugins),c.settings&&(a.settings=Pv(!0,a.settings,c.settings))}function s(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const f=c[d];i(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,d){let f=-1,p=-1;for(;++f<r.length;)if(r[f][0]===c){p=f;break}if(p===-1)r.push([c,...d]);else if(d.length>0){let[m,...h]=d;const y=r[p][1];aw(y)&&aw(m)&&(m=Pv(!0,y,m)),r[p]=[c,m,...h]}}}}const dce=new US().freeze();function Iv(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function _v(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Lv(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function xE(e){if(!aw(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function wE(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Am(e){return fce(e)?e:new $L(e)}function fce(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function pce(e){return typeof e=="string"||mce(e)}function mce(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const hce="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",kE=[],SE={allowDangerousHtml:!0},gce=/^(https?|ircs?|mailto|xmpp)$/i,yce=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function vce(e){const t=bce(e),n=xce(e);return wce(t.runSync(t.parse(n),n),e)}function bce(e){const t=e.rehypePlugins||kE,n=e.remarkPlugins||kE,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...SE}:SE;return dce().use(ele).use(n).use(Gle,r).use(t)}function xce(e){const t=e.children||"",n=new $L;return typeof t=="string"&&(n.value=t),n}function wce(e,t){const n=t.allowedElements,r=t.allowElement,a=t.components,i=t.disallowedElements,o=t.skipHtml,s=t.unwrapDisallowed,l=t.urlTransform||kce;for(const d of yce)Object.hasOwn(t,d.from)&&""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+hce+d.id;return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),zS(e,c),Fie(e,{Fragment:u.Fragment,components:a,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function c(d,f,p){if(d.type==="raw"&&p&&typeof f=="number")return o?p.children.splice(f,1):p.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let m;for(m in Mv)if(Object.hasOwn(Mv,m)&&Object.hasOwn(d.properties,m)){const h=d.properties[m],y=Mv[m];(y===null||y.includes(d.tagName))&&(d.properties[m]=l(String(h||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):i?i.includes(d.tagName):!1;if(!m&&r&&typeof f=="number"&&(m=!r(d,f,p)),m&&p&&typeof f=="number")return s&&d.children?p.children.splice(f,1,...d.children):p.children.splice(f,1),f}}}function kce(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||n!==-1&&t>n||r!==-1&&t>r||gce.test(e.slice(0,t))?e:""}function NE(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,a=n.indexOf(t);for(;a!==-1;)r++,a=n.indexOf(t,a+t.length);return r}function Sce(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Nce(e,t,n){const r=ly((n||{}).ignore||[]),a=jce(t);let i=-1;for(;++i<a.length;)LL(e,"text",o);function o(l,c){let d=-1,f;for(;++d<c.length;){const p=c[d],m=f?f.children:void 0;if(r(p,m?m.indexOf(p):void 0,f))return;f=p}if(f)return s(l,c)}function s(l,c){const d=c[c.length-1],f=a[i][0],p=a[i][1];let m=0;const h=d.children.indexOf(l);let y=!1,x=[];f.lastIndex=0;let g=f.exec(l.value);for(;g;){const b=g.index,w={index:g.index,input:g.input,stack:[...c,l]};let S=p(...g,w);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?f.lastIndex=b+1:(m!==b&&x.push({type:"text",value:l.value.slice(m,b)}),Array.isArray(S)?x.push(...S):S&&x.push(S),m=b+g[0].length,y=!0),!f.global)break;g=f.exec(l.value)}return y?(m<l.value.length&&x.push({type:"text",value:l.value.slice(m)}),d.children.splice(h,1,...x)):x=[l],h+x.length}}function jce(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const a=n[r];t.push([Cce(a[0]),Mce(a[1])])}return t}function Cce(e){return typeof e=="string"?new RegExp(Sce(e),"g"):e}function Mce(e){return typeof e=="function"?e:function(){return e}}const Fv="phrasing",$v=["autolink","link","image","label"];function Ace(){return{transforms:[_ce],enter:{literalAutolink:Pce,literalAutolinkEmail:Rv,literalAutolinkHttp:Rv,literalAutolinkWww:Rv},exit:{literalAutolink:Ice,literalAutolinkEmail:Oce,literalAutolinkHttp:Tce,literalAutolinkWww:Dce}}}function Ece(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Fv,notInConstruct:$v},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Fv,notInConstruct:$v},{character:":",before:"[ps]",after:"\\/",inConstruct:Fv,notInConstruct:$v}]}}function Pce(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Rv(e){this.config.enter.autolinkProtocol.call(this,e)}function Tce(e){this.config.exit.autolinkProtocol.call(this,e)}function Dce(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Oce(e){this.config.exit.autolinkEmail.call(this,e)}function Ice(e){this.exit(e)}function _ce(e){Nce(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Lce],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Fce]],{ignore:["link","linkReference"]})}function Lce(e,t,n,r,a){let i="";if(!RL(a)||(/^w/i.test(t)&&(n=t+n,t="",i="http://"),!$ce(n)))return!1;const o=Rce(n+r);if(!o[0])return!1;const s={type:"link",title:null,url:i+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[s,{type:"text",value:o[1]}]:s}function Fce(e,t,n,r){return!RL(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function $ce(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function Rce(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const a=NE(e,"(");let i=NE(e,")");for(;r!==-1&&a>i;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),i++;return[e,n]}function RL(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||jc(n)||iy(n))&&(!t||n!==47)}BL.peek=Gce;function Bce(){this.buffer()}function zce(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Uce(){this.buffer()}function Vce(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Hce(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=so(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Wce(e){this.exit(e)}function qce(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=so(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Kce(e){this.exit(e)}function Gce(){return"["}function BL(e,t,n,r){const a=n.createTracker(r);let i=a.move("[^");const o=n.enter("footnoteReference"),s=n.enter("reference");return i+=a.move(n.safe(n.associationId(e),{after:"]",before:i})),s(),o(),i+=a.move("]"),i}function Yce(){return{enter:{gfmFootnoteCallString:Bce,gfmFootnoteCall:zce,gfmFootnoteDefinitionLabelString:Uce,gfmFootnoteDefinition:Vce},exit:{gfmFootnoteCallString:Hce,gfmFootnoteCall:Wce,gfmFootnoteDefinitionLabelString:qce,gfmFootnoteDefinition:Kce}}}function Xce(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:BL},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,a,i,o){const s=i.createTracker(o);let l=s.move("[^");const c=i.enter("footnoteDefinition"),d=i.enter("label");return l+=s.move(i.safe(i.associationId(r),{before:l,after:"]"})),d(),l+=s.move("]:"),r.children&&r.children.length>0&&(s.shift(4),l+=s.move((t?`
`:" ")+i.indentLines(i.containerFlow(r,s.current()),t?zL:Zce))),c(),l}}function Zce(e,t,n){return t===0?e:zL(e,t,n)}function zL(e,t,n){return(n?"":"    ")+e}const Qce=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];UL.peek=rue;function Jce(){return{canContainEols:["delete"],enter:{strikethrough:tue},exit:{strikethrough:nue}}}function eue(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Qce}],handlers:{delete:UL}}}function tue(e){this.enter({type:"delete",children:[]},e)}function nue(e){this.exit(e)}function UL(e,t,n,r){const a=n.createTracker(r),i=n.enter("strikethrough");let o=a.move("~~");return o+=n.containerPhrasing(e,{...a.current(),before:o,after:"~"}),o+=a.move("~~"),i(),o}function rue(){return"~"}function aue(e){return e.length}function iue(e,t){const n=t||{},r=(n.align||[]).concat(),a=n.stringLength||aue,i=[],o=[],s=[],l=[];let c=0,d=-1;for(;++d<e.length;){const y=[],x=[];let g=-1;for(e[d].length>c&&(c=e[d].length);++g<e[d].length;){const b=oue(e[d][g]);if(n.alignDelimiters!==!1){const w=a(b);x[g]=w,(l[g]===void 0||w>l[g])&&(l[g]=w)}y.push(b)}o[d]=y,s[d]=x}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<c;)i[f]=jE(r[f]);else{const y=jE(r);for(;++f<c;)i[f]=y}f=-1;const p=[],m=[];for(;++f<c;){const y=i[f];let x="",g="";y===99?(x=":",g=":"):y===108?x=":":y===114&&(g=":");let b=n.alignDelimiters===!1?1:Math.max(1,l[f]-x.length-g.length);const w=x+"-".repeat(b)+g;n.alignDelimiters!==!1&&(b=x.length+b+g.length,b>l[f]&&(l[f]=b),m[f]=b),p[f]=w}o.splice(1,0,p),s.splice(1,0,m),d=-1;const h=[];for(;++d<o.length;){const y=o[d],x=s[d];f=-1;const g=[];for(;++f<c;){const b=y[f]||"";let w="",S="";if(n.alignDelimiters!==!1){const C=l[f]-(x[f]||0),j=i[f];j===114?w=" ".repeat(C):j===99?C%2?(w=" ".repeat(C/2+.5),S=" ".repeat(C/2-.5)):(w=" ".repeat(C/2),S=w):S=" ".repeat(C)}n.delimiterStart!==!1&&!f&&g.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&b==="")&&(n.delimiterStart!==!1||f)&&g.push(" "),n.alignDelimiters!==!1&&g.push(w),g.push(b),n.alignDelimiters!==!1&&g.push(S),n.padding!==!1&&g.push(" "),(n.delimiterEnd!==!1||f!==c-1)&&g.push("|")}h.push(n.delimiterEnd===!1?g.join("").replace(/ +$/,""):g.join(""))}return h.join(`
`)}function oue(e){return e==null?"":String(e)}function jE(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function sue(e,t,n,r){const a=n.enter("blockquote"),i=n.createTracker(r);i.move("> "),i.shift(2);const o=n.indentLines(n.containerFlow(e,i.current()),lue);return a(),o}function lue(e,t,n){return">"+(n?"":" ")+e}function cue(e,t){return CE(e,t.inConstruct,!0)&&!CE(e,t.notInConstruct,!1)}function CE(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function ME(e,t,n,r){let a=-1;for(;++a<n.unsafe.length;)if(n.unsafe[a].character===`
`&&cue(n.stack,n.unsafe[a]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function uue(e,t){const n=String(e);let r=n.indexOf(t),a=r,i=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===a?++i>o&&(o=i):i=1,a=r+t.length,r=n.indexOf(t,a);return o}function due(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function fue(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function pue(e,t,n,r){const a=fue(n),i=e.value||"",o=a==="`"?"GraveAccent":"Tilde";if(due(e,n)){const f=n.enter("codeIndented"),p=n.indentLines(i,mue);return f(),p}const s=n.createTracker(r),l=a.repeat(Math.max(uue(i,a)+1,3)),c=n.enter("codeFenced");let d=s.move(l);if(e.lang){const f=n.enter(`codeFencedLang${o}`);d+=s.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...s.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${o}`);d+=s.move(" "),d+=s.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...s.current()})),f()}return d+=s.move(`
`),i&&(d+=s.move(i+`
`)),d+=s.move(l),c(),d}function mue(e,t,n){return(n?"":"    ")+e}function VS(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function hue(e,t,n,r){const a=VS(n),i=a==='"'?"Quote":"Apostrophe",o=n.enter("definition");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...l.current()}))),s(),e.title&&(s=n.enter(`title${i}`),c+=l.move(" "+a),c+=l.move(n.safe(e.title,{before:c,after:a,...l.current()})),c+=l.move(a),s()),o(),c}function gue(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Kf(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Pg(e,t,n){const r=Bu(e),a=Bu(t);return r===void 0?a===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}VL.peek=yue;function VL(e,t,n,r){const a=gue(n),i=n.enter("emphasis"),o=n.createTracker(r),s=o.move(a);let l=o.move(n.containerPhrasing(e,{after:a,before:s,...o.current()}));const c=l.charCodeAt(0),d=Pg(r.before.charCodeAt(r.before.length-1),c,a);d.inside&&(l=Kf(c)+l.slice(1));const f=l.charCodeAt(l.length-1),p=Pg(r.after.charCodeAt(0),f,a);p.inside&&(l=l.slice(0,-1)+Kf(f));const m=o.move(a);return i(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},s+l+m}function yue(e,t,n){return n.options.emphasis||"*"}function vue(e,t){let n=!1;return zS(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,nw}),!!((!e.depth||e.depth<3)&&IS(e)&&(t.options.setext||n))}function bue(e,t,n,r){const a=Math.max(Math.min(6,e.depth||1),1),i=n.createTracker(r);if(vue(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),p=n.containerPhrasing(e,{...i.current(),before:`
`,after:`
`});return f(),d(),p+`
`+(a===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const o="#".repeat(a),s=n.enter("headingAtx"),l=n.enter("phrasing");i.move(o+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...i.current()});return/^[\t ]/.test(c)&&(c=Kf(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,n.options.closeAtx&&(c+=" "+o),l(),s(),c}HL.peek=xue;function HL(e){return e.value||""}function xue(){return"<"}WL.peek=wue;function WL(e,t,n,r){const a=VS(n),i=a==='"'?"Quote":"Apostrophe",o=n.enter("image");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),s(),e.title&&(s=n.enter(`title${i}`),c+=l.move(" "+a),c+=l.move(n.safe(e.title,{before:c,after:a,...l.current()})),c+=l.move(a),s()),c+=l.move(")"),o(),c}function wue(){return"!"}qL.peek=kue;function qL(e,t,n,r){const a=e.referenceType,i=n.enter("imageReference");let o=n.enter("label");const s=n.createTracker(r);let l=s.move("![");const c=n.safe(e.alt,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return o(),n.stack=d,i(),a==="full"||!c||c!==f?l+=s.move(f+"]"):a==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function kue(){return"!"}KL.peek=Sue;function KL(e,t,n){let r=e.value||"",a="`",i=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(r);)a+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++i<n.unsafe.length;){const o=n.unsafe[i],s=n.compilePattern(o);let l;if(o.atBreak)for(;l=s.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return a+r+a}function Sue(){return"`"}function GL(e,t){const n=IS(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}YL.peek=Nue;function YL(e,t,n,r){const a=VS(n),i=a==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let s,l;if(GL(e,n)){const d=n.stack;n.stack=[],s=n.enter("autolink");let f=o.move("<");return f+=o.move(n.containerPhrasing(e,{before:f,after:">",...o.current()})),f+=o.move(">"),s(),n.stack=d,f}s=n.enter("link"),l=n.enter("label");let c=o.move("[");return c+=o.move(n.containerPhrasing(e,{before:c,after:"](",...o.current()})),c+=o.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(n.safe(e.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(l=n.enter("destinationRaw"),c+=o.move(n.safe(e.url,{before:c,after:e.title?" ":")",...o.current()}))),l(),e.title&&(l=n.enter(`title${i}`),c+=o.move(" "+a),c+=o.move(n.safe(e.title,{before:c,after:a,...o.current()})),c+=o.move(a),l()),c+=o.move(")"),s(),c}function Nue(e,t,n){return GL(e,n)?"<":"["}XL.peek=jue;function XL(e,t,n,r){const a=e.referenceType,i=n.enter("linkReference");let o=n.enter("label");const s=n.createTracker(r);let l=s.move("[");const c=n.containerPhrasing(e,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return o(),n.stack=d,i(),a==="full"||!c||c!==f?l+=s.move(f+"]"):a==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function jue(){return"["}function HS(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Cue(e){const t=HS(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Mue(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function ZL(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Aue(e,t,n,r){const a=n.enter("list"),i=n.bulletCurrent;let o=e.ordered?Mue(n):HS(n);const s=e.ordered?o==="."?")":".":Cue(n);let l=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),ZL(n)===o&&d){let f=-1;for(;++f<e.children.length;){const p=e.children[f];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=s),n.bulletCurrent=o;const c=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=i,a(),c}function Eue(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Pue(e,t,n,r){const a=Eue(n);let i=n.bulletCurrent||HS(n);t&&t.type==="list"&&t.ordered&&(i=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+i);let o=i.length+1;(a==="tab"||a==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const s=n.createTracker(r);s.move(i+" ".repeat(o-i.length)),s.shift(o);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,s.current()),d);return l(),c;function d(f,p,m){return p?(m?"":" ".repeat(o))+f:(m?i:i+" ".repeat(o-i.length))+f}}function Tue(e,t,n,r){const a=n.enter("paragraph"),i=n.enter("phrasing"),o=n.containerPhrasing(e,r);return i(),a(),o}const Due=ly(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Oue(e,t,n,r){return(e.children.some(function(a){return Due(a)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function Iue(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}QL.peek=_ue;function QL(e,t,n,r){const a=Iue(n),i=n.enter("strong"),o=n.createTracker(r),s=o.move(a+a);let l=o.move(n.containerPhrasing(e,{after:a,before:s,...o.current()}));const c=l.charCodeAt(0),d=Pg(r.before.charCodeAt(r.before.length-1),c,a);d.inside&&(l=Kf(c)+l.slice(1));const f=l.charCodeAt(l.length-1),p=Pg(r.after.charCodeAt(0),f,a);p.inside&&(l=l.slice(0,-1)+Kf(f));const m=o.move(a+a);return i(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},s+l+m}function _ue(e,t,n){return n.options.strong||"*"}function Lue(e,t,n,r){return n.safe(e.value,r)}function Fue(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function $ue(e,t,n){const r=(ZL(n)+(n.options.ruleSpaces?" ":"")).repeat(Fue(n));return n.options.ruleSpaces?r.slice(0,-1):r}const JL={blockquote:sue,break:ME,code:pue,definition:hue,emphasis:VL,hardBreak:ME,heading:bue,html:HL,image:WL,imageReference:qL,inlineCode:KL,link:YL,linkReference:XL,list:Aue,listItem:Pue,paragraph:Tue,root:Oue,strong:QL,text:Lue,thematicBreak:$ue};function Rue(){return{enter:{table:Bue,tableData:AE,tableHeader:AE,tableRow:Uue},exit:{codeText:Vue,table:zue,tableData:Bv,tableHeader:Bv,tableRow:Bv}}}function Bue(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function zue(e){this.exit(e),this.data.inTable=void 0}function Uue(e){this.enter({type:"tableRow",children:[]},e)}function Bv(e){this.exit(e)}function AE(e){this.enter({type:"tableCell",children:[]},e)}function Vue(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Hue));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function Hue(e,t){return t==="|"?t:e}function Wue(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,a=t.stringLength,i=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:o,tableCell:l,tableRow:s}};function o(m,h,y,x){return c(d(m,y,x),m.align)}function s(m,h,y,x){const g=f(m,y,x),b=c([g]);return b.slice(0,b.indexOf(`
`))}function l(m,h,y,x){const g=y.enter("tableCell"),b=y.enter("phrasing"),w=y.containerPhrasing(m,{...x,before:i,after:i});return b(),g(),w}function c(m,h){return iue(m,{align:h,alignDelimiters:r,padding:n,stringLength:a})}function d(m,h,y){const x=m.children;let g=-1;const b=[],w=h.enter("table");for(;++g<x.length;)b[g]=f(x[g],h,y);return w(),b}function f(m,h,y){const x=m.children;let g=-1;const b=[],w=h.enter("tableRow");for(;++g<x.length;)b[g]=l(x[g],m,h,y);return w(),b}function p(m,h,y){let x=JL.inlineCode(m,h,y);return y.stack.includes("tableCell")&&(x=x.replace(/\|/g,"\\$&")),x}}function que(){return{exit:{taskListCheckValueChecked:EE,taskListCheckValueUnchecked:EE,paragraph:Gue}}}function Kue(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Yue}}}function EE(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function Gue(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const a=t.children;let i=-1,o;for(;++i<a.length;){const s=a[i];if(s.type==="paragraph"){o=s;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function Yue(e,t,n,r){const a=e.children[0],i=typeof e.checked=="boolean"&&a&&a.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",s=n.createTracker(r);i&&s.move(o);let l=JL.listItem(e,t,n,{...r,...s.current()});return i&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(d){return d+o}}function Xue(){return[Ace(),Yce(),Jce(),Rue(),que()]}function Zue(e){return{extensions:[Ece(),Xce(e),eue(),Wue(e),Kue()]}}const Que={tokenize:ade,partial:!0},eF={tokenize:ide,partial:!0},tF={tokenize:ode,partial:!0},nF={tokenize:sde,partial:!0},Jue={tokenize:lde,partial:!0},rF={name:"wwwAutolink",tokenize:nde,previous:iF},aF={name:"protocolAutolink",tokenize:rde,previous:oF},Ps={name:"emailAutolink",tokenize:tde,previous:sF},Uo={};function ede(){return{text:Uo}}let _l=48;for(;_l<123;)Uo[_l]=Ps,_l++,_l===58?_l=65:_l===91&&(_l=97);Uo[43]=Ps;Uo[45]=Ps;Uo[46]=Ps;Uo[95]=Ps;Uo[72]=[Ps,aF];Uo[104]=[Ps,aF];Uo[87]=[Ps,rF];Uo[119]=[Ps,rF];function tde(e,t,n){const r=this;let a,i;return o;function o(f){return!ow(f)||!sF.call(r,r.previous)||WS(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(f))}function s(f){return ow(f)?(e.consume(f),s):f===64?(e.consume(f),l):n(f)}function l(f){return f===46?e.check(Jue,d,c)(f):f===45||f===95||Ma(f)?(i=!0,e.consume(f),l):d(f)}function c(f){return e.consume(f),a=!0,l}function d(f){return i&&a&&Oa(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function nde(e,t,n){const r=this;return a;function a(o){return o!==87&&o!==119||!iF.call(r,r.previous)||WS(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Que,e.attempt(eF,e.attempt(tF,i),n),n)(o))}function i(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function rde(e,t,n){const r=this;let a="",i=!1;return o;function o(f){return(f===72||f===104)&&oF.call(r,r.previous)&&!WS(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),a+=String.fromCodePoint(f),e.consume(f),s):n(f)}function s(f){if(Oa(f)&&a.length<5)return a+=String.fromCodePoint(f),e.consume(f),s;if(f===58){const p=a.toLowerCase();if(p==="http"||p==="https")return e.consume(f),l}return n(f)}function l(f){return f===47?(e.consume(f),i?c:(i=!0,l)):n(f)}function c(f){return f===null||Mg(f)||Ln(f)||jc(f)||iy(f)?n(f):e.attempt(eF,e.attempt(tF,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function ade(e,t,n){let r=0;return a;function a(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),a):o===46&&r===3?(e.consume(o),i):n(o)}function i(o){return o===null?n(o):t(o)}}function ide(e,t,n){let r,a,i;return o;function o(c){return c===46||c===95?e.check(nF,l,s)(c):c===null||Ln(c)||jc(c)||c!==45&&iy(c)?l(c):(i=!0,e.consume(c),o)}function s(c){return c===95?r=!0:(a=r,r=void 0),e.consume(c),o}function l(c){return a||r||!i?n(c):t(c)}}function ode(e,t){let n=0,r=0;return a;function a(o){return o===40?(n++,e.consume(o),a):o===41&&r<n?i(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(nF,t,i)(o):o===null||Ln(o)||jc(o)?t(o):(e.consume(o),a)}function i(o){return o===41&&r++,e.consume(o),a}}function sde(e,t,n){return r;function r(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(e.consume(s),r):s===38?(e.consume(s),i):s===93?(e.consume(s),a):s===60||s===null||Ln(s)||jc(s)?t(s):n(s)}function a(s){return s===null||s===40||s===91||Ln(s)||jc(s)?t(s):r(s)}function i(s){return Oa(s)?o(s):n(s)}function o(s){return s===59?(e.consume(s),r):Oa(s)?(e.consume(s),o):n(s)}}function lde(e,t,n){return r;function r(i){return e.consume(i),a}function a(i){return Ma(i)?n(i):t(i)}}function iF(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Ln(e)}function oF(e){return!Oa(e)}function sF(e){return!(e===47||ow(e))}function ow(e){return e===43||e===45||e===46||e===95||Ma(e)}function WS(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const cde={tokenize:yde,partial:!0};function ude(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:mde,continuation:{tokenize:hde},exit:gde}},text:{91:{name:"gfmFootnoteCall",tokenize:pde},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:dde,resolveTo:fde}}}}function dde(e,t,n){const r=this;let a=r.events.length;const i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;a--;){const l=r.events[a][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return s;function s(l){if(!o||!o._balanced)return n(l);const c=so(r.sliceSerialize({start:o.end,end:r.now()}));return c.codePointAt(0)!==94||!i.includes(c.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function fde(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},s=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",a,t],["exit",a,t],["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...s),e}function pde(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i=0,o;return s;function s(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(f){if(i>999||f===93&&!o||f===null||f===91||Ln(f))return n(f);if(f===93){e.exit("chunkString");const p=e.exit("gfmFootnoteCallString");return a.includes(so(r.sliceSerialize(p)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return Ln(f)||(o=!0),i++,e.consume(f),f===92?d:c}function d(f){return f===91||f===92||f===93?(e.consume(f),i++,c):c(f)}}function mde(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i,o=0,s;return l;function l(h){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(h){return h===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(h)}function d(h){if(o>999||h===93&&!s||h===null||h===91||Ln(h))return n(h);if(h===93){e.exit("chunkString");const y=e.exit("gfmFootnoteDefinitionLabelString");return i=so(r.sliceSerialize(y)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),p}return Ln(h)||(s=!0),o++,e.consume(h),h===92?f:d}function f(h){return h===91||h===92||h===93?(e.consume(h),o++,d):d(h)}function p(h){return h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),a.includes(i)||a.push(i),hn(e,m,"gfmFootnoteDefinitionWhitespace")):n(h)}function m(h){return t(h)}}function hde(e,t,n){return e.check(Ip,t,e.attempt(cde,t,n))}function gde(e){e.exit("gfmFootnoteDefinition")}function yde(e,t,n){const r=this;return hn(e,a,"gfmFootnoteDefinitionIndent",5);function a(i){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(i):n(i)}}function vde(e){let t=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:a,resolveAll:r};return t==null&&(t=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function r(i,o){let s=-1;for(;++s<i.length;)if(i[s][0]==="enter"&&i[s][1].type==="strikethroughSequenceTemporary"&&i[s][1]._close){let l=s;for(;l--;)if(i[l][0]==="exit"&&i[l][1].type==="strikethroughSequenceTemporary"&&i[l][1]._open&&i[s][1].end.offset-i[s][1].start.offset===i[l][1].end.offset-i[l][1].start.offset){i[s][1].type="strikethroughSequence",i[l][1].type="strikethroughSequence";const c={type:"strikethrough",start:Object.assign({},i[l][1].start),end:Object.assign({},i[s][1].end)},d={type:"strikethroughText",start:Object.assign({},i[l][1].end),end:Object.assign({},i[s][1].start)},f=[["enter",c,o],["enter",i[l][1],o],["exit",i[l][1],o],["enter",d,o]],p=o.parser.constructs.insideSpan.null;p&&gi(f,f.length,0,oy(p,i.slice(l+1,s),o)),gi(f,f.length,0,[["exit",d,o],["enter",i[s][1],o],["exit",i[s][1],o],["exit",c,o]]),gi(i,l-1,s-l+3,f),s=l+f.length-2;break}}for(s=-1;++s<i.length;)i[s][1].type==="strikethroughSequenceTemporary"&&(i[s][1].type="data");return i}function a(i,o,s){const l=this.previous,c=this.events;let d=0;return f;function f(m){return l===126&&c[c.length-1][1].type!=="characterEscape"?s(m):(i.enter("strikethroughSequenceTemporary"),p(m))}function p(m){const h=Bu(l);if(m===126)return d>1?s(m):(i.consume(m),d++,p);if(d<2&&!t)return s(m);const y=i.exit("strikethroughSequenceTemporary"),x=Bu(m);return y._open=!x||x===2&&!!h,y._close=!h||h===2&&!!x,o(m)}}}class bde{constructor(){this.map=[]}add(t,n,r){xde(this,t,n,r)}consume(t){if(this.map.sort(function(i,o){return i[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let a=r.pop();for(;a;){for(const i of a)t.push(i);a=r.pop()}this.map.length=0}}function xde(e,t,n,r){let a=0;if(!(n===0&&r.length===0)){for(;a<e.map.length;){if(e.map[a][0]===t){e.map[a][1]+=n,e.map[a][2].push(...r);return}a+=1}e.map.push([t,n,r])}}function wde(e,t){let n=!1;const r=[];for(;t<e.length;){const a=e[t];if(n){if(a[0]==="enter")a[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const i=r.length-1;r[i]=r[i]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function kde(){return{flow:{null:{name:"table",tokenize:Sde,resolveAll:Nde}}}}function Sde(e,t,n){const r=this;let a=0,i=0,o;return s;function s(E){let _=r.events.length-1;for(;_>-1;){const Q=r.events[_][1].type;if(Q==="lineEnding"||Q==="linePrefix")_--;else break}const D=_>-1?r.events[_][1].type:null,J=D==="tableHead"||D==="tableRow"?j:l;return J===j&&r.parser.lazy[r.now().line]?n(E):J(E)}function l(E){return e.enter("tableHead"),e.enter("tableRow"),c(E)}function c(E){return E===124||(o=!0,i+=1),d(E)}function d(E){return E===null?n(E):Tt(E)?i>1?(i=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),m):n(E):an(E)?hn(e,d,"whitespace")(E):(i+=1,o&&(o=!1,a+=1),E===124?(e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),o=!0,d):(e.enter("data"),f(E)))}function f(E){return E===null||E===124||Ln(E)?(e.exit("data"),d(E)):(e.consume(E),E===92?p:f)}function p(E){return E===92||E===124?(e.consume(E),f):f(E)}function m(E){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(E):(e.enter("tableDelimiterRow"),o=!1,an(E)?hn(e,h,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):h(E))}function h(E){return E===45||E===58?x(E):E===124?(o=!0,e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),y):C(E)}function y(E){return an(E)?hn(e,x,"whitespace")(E):x(E)}function x(E){return E===58?(i+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(E),e.exit("tableDelimiterMarker"),g):E===45?(i+=1,g(E)):E===null||Tt(E)?S(E):C(E)}function g(E){return E===45?(e.enter("tableDelimiterFiller"),b(E)):C(E)}function b(E){return E===45?(e.consume(E),b):E===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(E),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(E))}function w(E){return an(E)?hn(e,S,"whitespace")(E):S(E)}function S(E){return E===124?h(E):E===null||Tt(E)?!o||a!==i?C(E):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(E)):C(E)}function C(E){return n(E)}function j(E){return e.enter("tableRow"),M(E)}function M(E){return E===124?(e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),M):E===null||Tt(E)?(e.exit("tableRow"),t(E)):an(E)?hn(e,M,"whitespace")(E):(e.enter("data"),P(E))}function P(E){return E===null||E===124||Ln(E)?(e.exit("data"),M(E)):(e.consume(E),E===92?$:P)}function $(E){return E===92||E===124?(e.consume(E),P):P(E)}}function Nde(e,t){let n=-1,r=!0,a=0,i=[0,0,0,0],o=[0,0,0,0],s=!1,l=0,c,d,f;const p=new bde;for(;++n<e.length;){const m=e[n],h=m[1];m[0]==="enter"?h.type==="tableHead"?(s=!1,l!==0&&(PE(p,t,l,c,d),d=void 0,l=0),c={type:"table",start:Object.assign({},h.start),end:Object.assign({},h.end)},p.add(n,0,[["enter",c,t]])):h.type==="tableRow"||h.type==="tableDelimiterRow"?(r=!0,f=void 0,i=[0,0,0,0],o=[0,n+1,0,0],s&&(s=!1,d={type:"tableBody",start:Object.assign({},h.start),end:Object.assign({},h.end)},p.add(n,0,[["enter",d,t]])),a=h.type==="tableDelimiterRow"?2:d?3:1):a&&(h.type==="data"||h.type==="tableDelimiterMarker"||h.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(i[1]!==0&&(o[0]=o[1],f=Em(p,t,i,a,void 0,f),i=[0,0,0,0]),o[2]=n)):h.type==="tableCellDivider"&&(r?r=!1:(i[1]!==0&&(o[0]=o[1],f=Em(p,t,i,a,void 0,f)),i=o,o=[i[1],n,0,0])):h.type==="tableHead"?(s=!0,l=n):h.type==="tableRow"||h.type==="tableDelimiterRow"?(l=n,i[1]!==0?(o[0]=o[1],f=Em(p,t,i,a,n,f)):o[1]!==0&&(f=Em(p,t,o,a,n,f)),a=0):a&&(h.type==="data"||h.type==="tableDelimiterMarker"||h.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&PE(p,t,l,c,d),p.consume(t.events),n=-1;++n<t.events.length;){const m=t.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=wde(t.events,n))}return e}function Em(e,t,n,r,a,i){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",s="tableContent";n[0]!==0&&(i.end=Object.assign({},Kc(t.events,n[0])),e.add(n[0],0,[["exit",i,t]]));const l=Kc(t.events,n[1]);if(i={type:o,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",i,t]]),n[2]!==0){const c=Kc(t.events,n[2]),d=Kc(t.events,n[3]),f={type:s,start:Object.assign({},c),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const p=t.events[n[2]],m=t.events[n[3]];if(p[1].end=Object.assign({},m[1].end),p[1].type="chunkText",p[1].contentType="text",n[3]>n[2]+1){const h=n[2]+1,y=n[3]-n[2]-1;e.add(h,y,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return a!==void 0&&(i.end=Object.assign({},Kc(t.events,a)),e.add(a,0,[["exit",i,t]]),i=void 0),i}function PE(e,t,n,r,a){const i=[],o=Kc(t.events,n);a&&(a.end=Object.assign({},o),i.push(["exit",a,t])),r.end=Object.assign({},o),i.push(["exit",r,t]),e.add(n+1,0,i)}function Kc(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const jde={name:"tasklistCheck",tokenize:Mde};function Cde(){return{text:{91:jde}}}function Mde(e,t,n){const r=this;return a;function a(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),i)}function i(l){return Ln(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):n(l)}function s(l){return Tt(l)?t(l):an(l)?e.check({tokenize:Ade},t,n)(l):n(l)}}function Ade(e,t,n){return hn(e,r,"whitespace");function r(a){return a===null?n(a):t(a)}}function Ede(e){return yL([ede(),ude(),vde(e),kde(),Cde()])}const Pde={};function Tde(e){const t=this,n=e||Pde,r=t.data(),a=r.micromarkExtensions||(r.micromarkExtensions=[]),i=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);a.push(Ede(n)),i.push(Xue()),o.push(Zue(n))}const zv='# Combat Metrics Spec\n\nThis document describes the project-defined combat metrics used in the UI,\nDiscord summaries, and aggregate stats. The intent is to define the metrics\nindependently from any third-party implementation while staying consistent\nwith EI JSON inputs. It also records the exact fields and aggregation rules\nso the stats dashboard, Discord, and cards produce identical values.\n\nSpec version: `v5` (see `src/shared/metrics-methods.json`).\n\n## Input Contract (EI JSON)\n\nAll metrics are derived from the EI JSON payload produced by dps.report. The\nminimum fields consumed are:\n\n- `players[*].dpsAll[0].damage`, `players[*].dpsAll[0].dps`, `players[*].dpsAll[0].breakbarDamage`\n- `players[*].defenses[0].damageTaken`, `deadCount`, `downCount`,\n  `missedCount`, `blockedCount`, `evadedCount`, `dodgeCount`,\n  `receivedCrowdControl`, `receivedCrowdControlDuration`,\n  `boonStrips`, `boonStripsTime`\n- `players[*].support[0].condiCleanse`, `condiCleanseSelf`, `boonStrips`,\n  `boonStripsTime`, `resurrects`\n- `players[*].statsAll[0].stackDist`, `players[*].statsAll[0].distToCom`\n- `players[*].statsTargets[*][0].downContribution`, `killed`, `downed`,\n  `againstDownedCount`\n- `players[*].extHealingStats.outgoingHealingAllies`\n- `players[*].extBarrierStats.outgoingBarrierAllies`\n- `players[*].totalDamageDist`, `players[*].targetDamageDist`, `players[*].totalDamageTaken`\n- `players[*].damage1S`, `players[*].targetDamage1S`,\n  `players[*].powerDamageTaken1S`, `players[*].targetPowerDamage1S`\n- `players[*].activeTimes`\n- `players[*].rotation`\n- `players[*].buffUptimes`\n- `players[*].selfBuffs`, `players[*].groupBuffs`, `players[*].squadBuffs`\n- `players[*].selfBuffsActive`, `players[*].groupBuffsActive`, `players[*].squadBuffsActive`\n- `players[*].group`\n- `buffMap`, `skillMap`, and `durationMS` for stability generation, boon output, and skill labeling\n- `targets[*].buffs[*].statesPerSource` when available for condition application counts\n- `details.fightName`, `details.uploadTime` (or `details.timeStartStd` / `details.timeStart` fallback),\n  `details.zone`/`mapName`/`map`/`location`, `details.success`,\n  `details.targets`, `details.durationMS`\n- `targets[*].totalDamageDist`, `targets[*].powerDamage1S`, `targets[*].damage1S`,\n  `targets[*].enemyPlayer`, `targets[*].isFake`, `targets[*].profession`\n\nIf any of these are missing, the metric falls back to `0` as defined below.\n\n## Crowd Control & Strips Methodology\n\nThe app supports three user-selectable methodologies (default: `count`),\nconfigured in `src/shared/metrics-methods.json`:\n\n1. **Count Events** (`count`)  \n   Uses EI summary counts for CC/strips. Best for stable, comparable totals.\n\n2. **Duration (Seconds)** (`duration`)  \n   Uses EI summary durations (converted to seconds). Best for impact-weighted\n   totals, but units are time not event counts.\n\n3. **Tiered Impact** (`tiered`)  \n   Uses average duration per event to apply tiered weights. Best for balancing\n   short vs long control with a simple, configurable heuristic.\n\nThese methodologies apply to:\n- Outgoing CC totals\n- Incoming CC totals\n- Incoming strips totals\n\n## Outgoing Crowd Control\n\nFor each player:\n- `count`: `statsAll[0].appliedCrowdControl`\n- `duration`: `statsAll[0].appliedCrowdControlDuration / 1000`\n- `tiered`: `appliedCrowdControl * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/combatMetrics.ts` (computeOutgoingCrowdControl).\n\n## Incoming Strips and Crowd Control\n\nFor each player:\n- Incoming CC uses `defenses[0].receivedCrowdControl` and\n  `defenses[0].receivedCrowdControlDuration`.\n- Incoming strips use `defenses[0].boonStrips` and `defenses[0].boonStripsTime`.\n\nMethod application is the same as outgoing CC (count/duration/tiered).\n\nImplementation: `src/shared/combatMetrics.ts` (computeIncomingDisruptions).\n\n## Cleanses\n\n`cleanses = support[0].condiCleanse + support[0].condiCleanseSelf`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerCleanses).\n\nUI note: the Support table can display either **All** (condiCleanse + condiCleanseSelf) or **Squad** (condiCleanse only) via the cleanse-scope toggle. Discord and top summaries use **All**.\n\n## Strips\n\n`strips` uses the configured methodology:\n- `count`: `support[0].boonStrips`\n- `duration`: `support[0].boonStripsTime / 1000`\n- `tiered`: `boonStrips * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerStrips).\n\n## Down Contribution\n\nDown contribution is the sum of `statsTargets[*][0].downContribution` across\nall targets for the player.\n\nImplementation: `src/shared/combatMetrics.ts` (computeDownContribution).\n\n## Squad Barrier and Squad Healing\n\nSquad barrier and healing sum all phases of `extBarrierStats.outgoingBarrierAllies`\nand `extHealingStats.outgoingHealingAllies` respectively.\n\nImplementation: `src/shared/combatMetrics.ts` (computeSquadBarrier, computeSquadHealing).\n\n## Stability Generation\n\nStability generation uses the EI buff data via `getPlayerBoonGenerationMs`\nand writes `player.stabGeneration` in seconds.\n\nImplementation: `src/shared/combatMetrics.ts` (applySquadStabilityGeneration).\n\n## Damage and DPS\n\n`damage = dpsAll[0].damage`  \n`dps = dpsAll[0].dps`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamage, getPlayerDps).\n\n## Breakbar Damage\n\n`breakbarDamage = dpsAll[0].breakbarDamage`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerBreakbarDamage).\n\n## Incoming Damage (Taken)\n\n`damageTaken = defenses[0].damageTaken`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamageTaken).\n\nIncoming damage per skill (incoming damage distribution) is derived from\n`players[*].totalDamageTaken[*]` entries and summed across players for the\nsquad view. This total can be large for siege skills because it aggregates\nall hits and all players (and across multiple logs when viewing aggregates).\n\n## Damage Mitigation (Player + Minion)\n\nDamage mitigation is an **estimate** of avoided damage based on enemy skill\ndamage averages and avoidance events (block/evade/miss/invuln/interrupted).\nIt is intended for relative comparisons between players/minions and logs, not\nas a literal damage prevented total.\n\n### Inputs Used\n\nPer-log data sources:\n\n- Enemy damage distribution: `targets[*].totalDamageDist[0]`\n- Player avoided events: `players[*].totalDamageTaken[0]`\n- Minion avoided events: `players[*].minions[*].totalDamageTakenDist[0]`\n- Skill names: `skillMap` / `buffMap` (for UI labels only)\n\n### Enemy Skill Damage Averages\n\nFor each skill id across **all logs in the aggregation**:\n\n1. Gather `totalDamage` and `connectedHits` from every targets\n   `totalDamageDist[0]` entry with the same `id`.\n2. Compute:\n   - `avgDamage = sum(totalDamage) / sum(connectedHits)`\n   - `minDamage = average(entry.min over all occurrences)`\n\nThese averages are computed **once for the aggregation window** and used for\nall player/minion mitigation calculations.\n\n### Avoided Damage Per Skill (Formula)\n\nFor a given skill id `S` with enemy averages `avgDamage` and `minDamage`:\n\n```\navoidCount = blocked + evaded + missed + invulned + interrupted\navoidDamage = (glanced * avgDamage / 2) + (avoidCount * avgDamage)\nminAvoidDamage = (glanced * minDamage / 2) + (avoidCount * minDamage)\n```\n\nNotes:\n- `glanced` is treated as half damage.\n- If `connectedHits` for the enemy skill is `0`, the skill is excluded from\n  mitigation totals (both avoid and min avoid).\n\n### Player Mitigation Aggregation\n\nFor each player (account key):\n\n1. Sum avoidance counts **per skill id** across all logs:\n   - `hits`, `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`.\n2. For each skill id, compute `avoidDamage` / `minAvoidDamage` using the global\n   enemy averages (above).\n3. **Include only skills with `avoidDamage > 0`** in totals.\n4. Totals are the sum of:\n   - `totalHits` (from `hits`)\n   - `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`\n   - `totalMitigation` (sum of avoidDamage)\n   - `minMitigation` (sum of minAvoidDamage)\n\n### Minion Mitigation Aggregation\n\nFor each minion (player account + minion name):\n\n1. Sum avoidance counts **per skill id** across all logs using\n   `minion.totalDamageTakenDist[0]`.\n2. Use the **same enemy averages** (from targets).\n3. Compute totals using the same formula and inclusion rules as player\n   mitigation.\n\nMinion names are normalized by:\n- Removing `"Juvenile "` prefix.\n- Converting names containing `"UNKNOWN"` to `"Unknown"`.\n\n### Field Mapping in UI\n\nThe Damage Mitigation table uses the following totals:\n\n- `Total Hits`  summed `hits` for included skills\n- `Evaded`, `Blocked`, `Glanced`, `Missed`, `Invulned`, `Interrupted`\n- `Damage Mitigation`  `totalMitigation`\n- `Min Damage Mitigation`  `minMitigation`\n\n### Why This Diverges From Some External Tools\n\nSome tools compute mitigation differently (e.g., per-log accumulation with\nrunning averages, name-based skill bucketing, or repeated adding across logs).\nThis spec intentionally computes **one consistent estimate** across all logs\nusing **global enemy averages** and **per-skill cumulative counts**, which\navoids log-count bias.\n\n### Known Limitations\n\n- If a skills `connectedHits` is zero in targets data, mitigation for that\n  skill is excluded.\n- Some skills share names across different ids; we bucket by **skill id** to\n  avoid collisions.\n- Enemy damage averages are computed from `targets[*].totalDamageDist[0]` and\n  can be skewed by target mix, fake targets, or atypical fights.\n\n### How-To: Validate Against Raw EI JSON\n\n1. Choose a player or minion and a specific skill id from:\n   - `players[*].totalDamageTaken[0]` or `minions[*].totalDamageTakenDist[0]`.\n2. Compute counts: `blocked`, `evaded`, `glanced`, `missed`, `invulned`,\n   `interrupted`, `hits`.\n3. Compute enemy averages from all logs `targets[*].totalDamageDist[0]` for\n   the same skill id.\n4. Apply the formula above and verify the per-skill avoided damage.\n5. Sum over skills with `avoidDamage > 0` to confirm table totals.\n\n### How-To: Debug Mismatches\n\n1. Confirm the same log set is being aggregated.\n2. Verify skill ids match (name collisions can hide differences).\n3. Check if the target data includes the skill id with non-zero\n   `connectedHits`.\n4. Validate that minion names are normalized (`Juvenile` prefix removed).\n5. Compare against a single skill id first, then widen to all skills.\n\n## Conditions (Outgoing + Incoming)\n\nOutgoing condition totals are derived from `players[*].totalDamageDist[*]`\nentries whose resolved skill name maps to a condition label (see\n`CONDITION_NAME_MAP`). For each matching entry:\n\n- `applications` uses `connectedHits` when available, otherwise falls back to\n  `hits` (needed for non-damaging conditions like blind/slow/fear).\n- `damage` uses `totalDamage`.\n\nTotals are aggregated per player and across the squad. The UI can filter to a\nsingle condition or show the all-conditions rollup.\n\nIncoming condition totals are derived from `players[*].totalDamageTaken[*]`\nentries whose resolved skill/buff ID maps to a condition. For each matching\nentry:\n\n- `applications` uses `hits`.\n- `damage` uses `totalDamage`.\n\n### Current Condition Labels (Normalization)\n\nCondition detection normalizes skill/buff names to the following labels. Only\nthese are counted as conditions:\n\n- Bleeding\n- Burning\n- Confusion\n- Poison\n- Torment\n- Vulnerability\n- Weakness\n- Blind\n- Cripple\n- Chill\n- Immobilize\n- Slow\n- Fear\n- Taunt\n\nNotes:\n- The matcher lowercases and trims names, then maps variants like `crippled`\n   `Cripple` and `chilled`  `Chill`.\n- If a skill/buff name does not normalize to one of the labels above, it is\n  excluded from condition totals.\n\n### Limitation (Hosted JSON)\n\nAccurate application counts for non-damaging conditions (e.g., vulnerability,\nweakness, blind, slow) require target buff state timelines\n(`targets[*].buffs[*].statesPerSource`). If hosted JSON lacks this data (common\nin older logs or trimmed outputs), the app falls back to damage distribution\n(`totalDamageDist`) hit counts, which can significantly under-count\napplications for those conditions.\n\n### Condition Application Counting (States Per Source)\n\nWhen `targets[*].buffs[*].statesPerSource` is available, the app computes two\nseparate application counts per condition:\n\n- **Stack Delta Applications (`applicationsFromBuffs`)**  \n  Counts the **sum of positive stack increases** across the states timeline.\n  Example timeline: `0  1  3  2  5` contributes `+1 +2 +3 = 6`.  \n  This aligns with the technical definition of applications as **stacks\n  actually added**.\n\n- **Active State Entries (`applicationsFromBuffsActive`)**  \n  Counts **each non-zero state entry** (each time the state updates while the\n  condition is active). This tracks **how often the buff state changed while\n  active**, which often matches external tooling that counts active segments,\n  but can **over-count** true applications for stacking conditions.\n\n**Tradeoffs:**\n- *Stack delta* is closer to how many stacks were applied but can be lower\n  than tools that count refreshes/active entries.\n- *Active entries* better match some log combiner views but can overstate\n  application counts when stacks are refreshed without adding stacks.\n\n## Deaths / Downs (Taken)\n\n`deaths = defenses[0].deadCount`  \n`downsTaken = defenses[0].downCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDeaths, getPlayerDownsTaken).\n\n## Dodges / Misses / Blocks / Evades (Taken)\n\n`dodges = defenses[0].dodgeCount`  \n`missed = defenses[0].missedCount`  \n`blocked = defenses[0].blockedCount`  \n`evaded = defenses[0].evadedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts`\n(getPlayerDodges, getPlayerMissed, getPlayerBlocked, getPlayerEvaded).\n\n## Resurrects\n\n`resurrects = support[0].resurrects`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerResurrects).\n\n## Distance to Tag\n\n`distanceToTag = statsAll[0].distToCom` if present; otherwise use\n`statsAll[0].stackDist`. If both are missing but combat replay positions are\navailable, compute the average distance to the commander tag over the\navailable timeline. Otherwise `0`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDistanceToTag).\n\n## Kills / Downs / Against Downed (Target Stats)\n\nFor each player, aggregate from `statsTargets[*][0]`:\n\n- `killed`\n- `downed`\n- `againstDownedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getTargetStatTotal).\n\n## Skill Usage Tracker (Rotation Casts)\n\nSkill usage is derived from each player\'s `rotation` entries in EI JSON. For\neach rotation skill entry:\n- `castCount = rotationSkill.skills.length`\n- `skillId = s{rotationSkill.id}`\n- Counts are aggregated per player per log and summed across logs for totals.\n\nThe Skill Usage Tracker supports two display modes:\n- **Total**: raw cast counts per player (per log in the timeline).\n- **Per Second**: cast rate using active time, where\n  `activeSeconds = players[*].activeTimes[0] / 1000` when available, otherwise\n  `durationMS / 1000` from the log details.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (skill usage tracker aggregation).\n\n## APM Breakdown\n\nAPM is derived from the Skill Usage Tracker data (rotation casts). For each\nplayer:\n- `totalCasts = sum(rotationSkill.skills.length)`\n- `apm = totalCasts / (activeSeconds / 60)`\n- `aps = totalCasts / activeSeconds`\n- Auto-attack counts are excluded for the "No Auto" variants.\n\nThe APM Breakdown groups players by profession and aggregates per-skill cast\ncounts across the group.\n\nImplementation: `src/renderer/stats/hooks/useApmStats.ts`.\n\n## Player Skill Breakdown (Damage / Down Contribution / DPS)\n\nPer-player skill damage breakdown is built from the same damage distribution\ninputs as Top Skills (see below):\n- Outgoing skill damage uses `targetDamageDist` (default) or `totalDamageDist`\n  based on settings.\n- Each entry contributes `totalDamage` and `downContribution`.\n\nFor each player and skill:\n- `totalDamage = sum(entry.totalDamage)`\n- `downContribution = sum(entry.downContribution)`\n- `dps = totalDamage / (totalFightSeconds)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Top Skills (Outgoing / Incoming)\n\nTop Outgoing Skills are derived from the squad-wide aggregation of\n`targetDamageDist` (default) or `totalDamageDist` entries:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.connectedHits)`\n- `downContribution = sum(entry.downContribution)`\n\nWhen using target-based outgoing aggregation, total-distribution supplementation\nis mode-sensitive:\n- non-detailed logs (`detailedWvW !== true`): missing/under-reported target\n  skill ids may be supplemented from `totalDamageDist` deltas\n- detailed WvW logs (`detailedWvW === true`): supplementation from\n  `totalDamageDist` is disabled to avoid known outlier max/damage artifacts\n  observed in some EI exports\n\nTop Incoming Skills are derived from `totalDamageTaken`:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.hits)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Boon Output\n\nBoon output tables are computed from player boon generation data:\n- `selfBuffs`, `groupBuffs`, `squadBuffs` (and their `Active` variants)\n- `buffMap` for name/icon/stacking metadata\n- `durationMS`, `activeTimes`, and `group` for normalization\n\nImplementation: `src/shared/boonGeneration.ts`.\n\n## Special Buffs\n\nSpecial (non-boon) buff tables are computed from `buffUptimes` using\n`buffMap` classification and icon metadata. Durations are normalized by\n`activeTimes` and `durationMS`.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n### Sigil/Relic Uptime (Other Metrics)\n\nThe `Sigil/Relic Uptime` section is derived from `specialTables` and filtered\nto entries whose buff name matches `sigil` or `relic` (case-insensitive).\n\n#### Data source and eligibility\n\nFor each squad player and each non-boon buff in `players[*].buffUptimes`:\n\n- Buff metadata source:\n  - `details.buffMap[b{id}]` (fallback `details.buffMap[id]`)\n- Include only:\n  - non-boons (`classification !== "Boon"`)\n  - rows with valid positive uptime signal:\n    - `buffData[0].uptime > 0` or `buffData[0].presence > 0`\n\n#### Two parallel measures stored for each row\n\n1. **Stack/Intensity measure** (`total`, `perSecond`)\n   - used by the generic Special Buffs table\n   - formula:\n     - if stacking buff: `uptimeFactor = uptimeRaw`\n     - else: `uptimeFactor = uptimeRaw / 100`\n     - `totalMs += uptimeFactor * activeMs`\n   - output:\n     - `total = totalMs / 1000`\n     - `perSecond = totalMs / durationMs`\n\n2. **True uptime percentage measure** (`uptimePerSecond`)\n   - used by `Sigil/Relic Uptime`\n   - formula:\n     - non-stacking buff:\n       - `uptimePctRaw = uptimeRaw`\n     - stacking buff:\n       - `uptimePctRaw = presenceRaw`\n     - clamp to percentage domain:\n       - `uptimePct = clamp(uptimePctRaw, 0, 100) / 100`\n     - accumulate:\n       - `uptimeMs += uptimePct * activeMs`\n   - final denominator:\n     - `fullPlayerDurationMs = player.supportActiveMs`\n     - `uptimePerSecond = uptimeMs / fullPlayerDurationMs`\n   - rendered as:\n     - `Uptime% = uptimePerSecond * 100`\n\n#### Why this is the accuracy model\n\nThis method intentionally uses the **same activity window in numerator and\ndenominator** (player active time):\n\n- Numerator:\n  - uptime milliseconds accumulated from each fight over player active time\n- Denominator:\n  - total player active time across selected fights\n\nThat produces a direct interpretation:\n\n- "Percent of the time this player was active that this sigil/relic effect was\n  present."\n\nFor stacking gear buffs, `presence` is used for percent uptime because\n`uptime` on stacking buffs represents average stack intensity, not time-up\npercentage. This avoids under/over-reporting caused by treating stack-average\nas uptime%.\n\n## Offense / Defense / Support / Healing Tables\n\nDetailed tables aggregate the per-player totals defined in:\n- `src/renderer/stats/statsMetrics.ts` (metric definitions)\n- `src/shared/dashboardMetrics.ts` (per-player metric extraction)\n- `src/renderer/stats/computeStatsAggregation.ts` (aggregation)\n\n## Spike Damage\n\nSpike Damage has four modes:\n- `hit`: highest single skill hit in a fight\n- `1s`: highest rolling 1-second damage burst in a fight\n- `5s`: highest rolling 5-second damage burst in a fight\n- `30s`: highest rolling 30-second damage burst in a fight\n\n### Player Identity\n\nPer-fight player keys are resolved as:\n- `key = "${account}|${profession}"`\n- `account = player.account || player.name || "Unknown"`\n- `profession = player.profession || "Unknown"`\n\nThis same key is used to join:\n- player list\n- per-fight values\n- selected-player chart/drilldown\n\n### Highest Single Hit (`hit`)\n\nFor each squad player (`!notInSquad`), the highest single-hit value is scanned\nfrom damage distributions (skill maps used for names).\n\nValue:\n- candidate fields per entry:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- no inferred single-hit estimate is used (for example,\n  `totalDamage / connectedHits` is intentionally excluded)\n\nSource priority:\n- primary: `targetDamageDist`\n- fallback: `totalDamageDist` only when no target entries are present (or no\n  positive peak was found from target entries)\n\nDetailed WvW safeguard:\n- for logs with `detailedWvW === true`, target-side data is treated as the\n  authoritative source for spike-hit computations whenever present, because\n  some logs can contain total-distribution outlier maxima that are inconsistent\n  with target-distribution entries.\n\nSkill label:\n- `skillName` from `skillMap`/`buffMap` by id fallback (`Unknown Skill` if missing)\n\n### Rolling Burst (`1s` / `5s`)\n\nBurst uses per-second **delta** damage:\n1. Build cumulative damage for phase 0:\n   - prefer aggregated target phase 0 from `targetDamage1S` when available\n   - fallback to `damage1S[0]`\n2. Convert cumulative -> per-second deltas:\n   - `delta[i] = max(0, cumulative[i] - cumulative[i-1])` (`i=0` uses prev `0`)\n3. Compute rolling windows:\n- `burst1s = max(sum(delta[i..i]))`\n- `burst5s = max(sum(delta[i..i+4]))`\n- `burst30s = max(sum(delta[i..i+29]))`\n\nImplementation includes support for EI shape variants:\n- Shape A: `[phase][target][time]`\n- Shape B: `[target][phase][time]`\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses the corresponding max series as the dashed reference line.\n\n### Drilldown (5s Buckets)\n\nSelected fight drilldown is always rendered as 5-second buckets.\n\nBucket source:\n- preferred: precomputed `buckets5s`\n- fallback: recompute from selected player per-second delta series\n\nBucket value:\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count:\n- extended to full fight duration (`ceil(durationMS / 5000)`) so trailing\n  down/death events are representable even if damage is zero late-fight.\n\n### Down / Death Markers\n\nMarker events are read from `combatReplayData`:\n- supports both replay object and segmented replay-array forms\n- uses `down` and `dead` arrays\n\nTimestamp normalization:\n- handles mixed encodings (ms/seconds/large scales) and offset baselines\n  using replay starts/global starts/log offsets\n- selects the shift/scale that maximizes in-range alignment with fight buckets\n\nMarker placement:\n- convert normalized time to bucket index:\n  - `index = floor(timeMs / 5000)`\n- constrain to visible drilldown bucket range\n- render:\n  - down marker: yellow\n  - death marker: red\n\nWeb report parity:\n- precomputed spike payload stores marker indices as:\n  - `downIndices5s`\n  - `deathIndices5s`\n- embedded/web mode can render markers without raw `logs` by consuming these fields.\n\nImplementation:\n- Aggregation/precompute: `src/renderer/stats/computeStatsAggregation.ts`\n- Runtime selection/drilldown + fallbacks: `src/renderer/StatsView.tsx`\n- Chart rendering/interaction: `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Incoming Strike Damage\n\nIncoming Strike Damage mirrors Spike Damage interactions (same chart modes,\nselection, drilldown, animations, and fight navigation) but changes the data\nsource and grouping:\n\n- grouped by **enemy class** (`targets[*].profession`) instead of squad player\n- uses **incoming strike timelines** and target damage distributions\n- selected-fight expansion includes a **skill-level incoming strike table**\n\n### Identity and Grouping\n\nPer-fight keys are enemy profession labels:\n\n- `key = resolveProfessionLabel(target.profession || target.name || target.id)`\n- fallback key: `"Unknown"`\n\nAll enemy targets in a fight that resolve to the same profession are merged\ninto one class bucket for that fight.\n\n### Damage Modes (`hit`, `1s`, `5s`, `30s`)\n\nModes are defined the same way as Spike Damage:\n\n- `hit`: highest single incoming strike hit seen in the class bucket\n- `1s`: highest rolling 1-second incoming strike burst\n- `5s`: highest rolling 5-second incoming strike burst\n- `30s`: highest rolling 30-second incoming strike burst\n\n`hit` source:\n\n- scan target strike distributions (`totalDamageDist`) and keep max of:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- ignore `indirectDamage` entries\n\n### Incoming Timeline Construction\n\nFor each enemy target, incoming strike series is built with the following\npriority:\n\n1. Squad-attributed incoming-vs-target cumulative strike:\n   - sum `players[*].targetPowerDamage1S[targetIndex]` across all squad players\n2. Fallback target timeline:\n   - `targets[targetIndex].powerDamage1S`\n3. Final fallback:\n   - `targets[targetIndex].damage1S`\n\nEach chosen cumulative series is converted to per-second deltas:\n\n- `delta[i] = max(0, cumulative[i] - cumulative[i-1])`\n- `delta[0] = max(0, cumulative[0])`\n\nClass series is then:\n\n- sum of target delta series for all targets in that class\n\nBurst windows are computed from class per-second deltas with the same rolling\nwindow logic used by Spike Damage.\n\n### Timeline Fallback When Target Timelines Are Missing\n\nIf enemy target timelines are empty/unusable for a fight:\n\n1. Build squad incoming strike series from `players[*].powerDamageTaken1S`\n   (cumulative -> per-second deltas).\n2. Compute enemy class counts from `targets[*]` (enemy player targets only).\n3. Distribute squad incoming per-second totals across classes proportionally by\n   class count in that fight.\n\nThis preserves non-zero burst/drilldown behavior for logs lacking complete\ntarget timeline detail.\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses its corresponding fight max as the dashed reference\nseries in the chart.\n\n### Fight Drilldown (5s Buckets)\n\nSelected-fight drilldown is 5-second buckets from class per-second deltas:\n\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count extends to at least `ceil(durationMS / 5000)` so late-fight\nmarker events can still be shown even when trailing bucket damage is zero.\n\nDown/death markers use replay event times from squad players and are converted\nto indices with the same normalization/indexing logic as Spike Damage\n(ms/sec scaling, offset hints, then `floor(timeMs / 5000)` clamp).\n\n### Selected Fight Skill Table (Incoming Skill Damage)\n\nThe expanded table for the selected fight/class is generated from enemy target\nstrike distributions:\n\n1. For each target in the selected class:\n   - read `target.totalDamageDist` entries\n   - ignore `indirectDamage`\n2. Resolve each skill id via:\n   - `skillMap[s{id}]`, then `skillMap[id]`\n   - fallback `buffMap[b{id}]`, then `buffMap[id]`\n3. Aggregate per skill name:\n   - `damage += entry.totalDamage`\n   - `hits += entry.connectedHits || entry.hits`\n   - preserve first available icon URL\n4. Sort desc by damage and keep top rows for rendering.\n\n### Why Some Skill Names Can Look Off-Class\n\nSkill names in incoming strike tables are tied to damage event ids in EI\ndamage distributions, not to profession skill catalogs. Because of that,\noff-class-looking names can appear in a class bucket (for example via\nreflected/returned projectiles, transformed skills, or attribution context).\nThis is expected under the current event-id attribution model.\n\n### Implementation\n\n- Aggregation/precompute:\n  - `src/renderer/stats/computeStatsAggregation.ts` (`incomingStrikeDamage`)\n- Runtime selection/drilldown/table rows:\n  - `src/renderer/StatsView.tsx`\n- UI rendering (card, chart, drilldown, skill table):\n  - `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Timeline / Map Distribution / Fight Breakdown\n\nThese sections use log-level metadata:\n- `details.uploadTime`, `details.durationMS`, `details.success`\n- `details.targets` (enemy counts, fake target filtering)\n- `details.zone`/`mapName`/`map`/`location`/`fightName` for map labels\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Squad Composition\n\nSquad composition is derived from each player\'s resolved profession name\nand aggregated across logs.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Attendance Ledger\n\nAttendance is computed from squad-player participation across all valid logs.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, account/name/profession/group)\n- `players[*].activeTimes[0]`\n- `details.durationMS` (fallback when active time is missing)\n\n### Player Inclusion\n\n- Include only squad players: `!player.notInSquad`.\n- Player key for aggregation is:\n  - `player.account` when present and not `"Unknown"`\n  - otherwise `player.name`\n\n### Time Aggregation\n\nPer squad player entry:\n\n- `activeMs = players[*].activeTimes[0]` when numeric, else `details.durationMS || 0`\n- `combatTimeMs[player] += activeMs`\n- if profession is known:\n  - `professionTimeMs[player][profession] += activeMs`\n\nAlso track appearance window per player:\n\n- `firstSeenFightTs`: earliest fight timestamp where player appears in squad\n- `lastSeenFightTs`: latest fight timestamp where player appears in squad\n- `lastSeenFightDurationMs`: duration of that latest fight\n\nFinal elapsed squad time:\n\n- `squadTimeMs = max(0, (lastSeenFightTs + lastSeenFightDurationMs) - firstSeenFightTs)`\n- fallback to `combatTimeMs` when timestamps are unavailable\n\nCharacter names shown in attendance are the unique set of `player.name` values\nseen for that player key.\n\n### Row Shape / Sorting\n\nFor each aggregated player:\n\n- `account`: aggregation key\n- `characterNames`: unique character names, sorted ascending\n- `classTimes`: entries from `professionTimeMs`, filtered to\n  - `profession !== "Unknown"`\n  - `timeMs > 0`\n- `combatTimeMs`: total active combat time\n- `squadTimeMs`: elapsed time between first seen fight start and last seen fight end\n\nRows are sorted by:\n1. `squadTimeMs` descending\n2. `account` ascending\n\nRows with `account` missing/`"Unknown"` are excluded from final output.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`attendanceData`).\n\n## Squad Comp By Fight\n\nThis section provides per-fight party-line roster composition.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, group, account/name/profession)\n- `details.durationMS`\n- fight metadata/time fields used by `resolveFightTimestamp` and `resolveMapName`\n\n### Fight Ordering\n\nFights are sorted by resolved fight timestamp ascending:\n\n- `uploadTime`\n- fallback: `timeStartStd`, `timeStart`, `timeEndStd`, `timeEnd`\n\n### Party Assignment\n\nFor each squad player (`!player.notInSquad`) in a fight:\n\n- `party = Number(player.group)` when finite and `> 0`, else `0` (`Unassigned`)\n- profession label is normalized via `resolveProfessionLabel(...)`\n\nPer party:\n\n- append player row `{ account, characterName, profession }`\n- increment `classCounts[profession] += 1`\n\n### Party / Player Sorting\n\nWithin each party:\n\n- players are sorted by `profession`, then `account` ascending\n\nParty rows are sorted by:\n1. party number ascending for `1..n`\n2. party `0` (`Unassigned`) last\n\n### Output Shape\n\nPer fight:\n\n- `id`: file/log id fallback chain\n- `label`: `F{index+1}` in timestamp-sorted order\n- `timestamp`: resolved fight timestamp\n- `mapName`: resolved map name\n- `duration`: `formatDurationMs(details.durationMS)`\n- `parties`: sorted party rows with class counts and account list\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`squadCompByFight`).\n\n## Top Stats / MVP\n\nTop stats are computed by ranking the leaderboards for key metrics (down\ncontribution, barrier, healing, cleanses, strips, stability, CC, etc).\nMVP scoring uses weighted ratios against these leaderboards and is configured\nvia `statsViewSettings` + `mvpWeights`.\n\nParticipation is computed as `logsJoined` (number of logs where the player\nappears in the squad).\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Known Caveats\n\n- EI JSON versions can add/remove fields; missing fields always fall back to `0`.\n- `distToCom` and `stackDist` are not guaranteed to exist in every log; `distanceToTag` may be `0`.\n- Incoming CC/strips use weighted skill mappings; mismatches can occur if EI changes skill ids or hit accounting.\n- Stability generation depends on buff metadata presence (`buffMap`) and correct `durationMS`.\n- Damage uses `dpsAll[0].damage` (player total) rather than summing per-target totals, which may differ when targets are filtered or merged.\n- Skill usage totals are raw cast counts unless the per-second view is selected; missing `activeTimes` falls back to log duration for rate calculations.\n- Some detailed WvW EI exports may contain outlier values in `totalDamageDist`\n  (notably `max` on specific skill rows). Spike-hit and target-mode outgoing\n  aggregations prefer/anchor to `targetDamageDist` to reduce false outliers.\n\n## Manifest & Field Usage\n\nThe dev dataset manifest is generated by the app when exporting logs. It is\nstored as `dev/datasets/<dataset>/manifest.json` and contains:\n\n- `id`: log id or generated id\n- `filePath`: relative path to the log JSON\n- `fightName`\n- `encounterDuration`\n- `uploadTime`\n- `timeStart`\n- `timeStartStd`\n- `durationMS`\n- `success`\n- `playerCount`\n- `squadCount`\n- `nonSquadCount`\n\nStats calculations **do not** use the manifest fields directly; the manifest\nis used for listing logs and metadata only. All computations are derived from\nthe EI JSON log payload fields listed in the **Input Contract** and the\nsections above.\n',lF=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),uy=v.createContext({}),qS=v.createContext(null),dy=typeof document<"u",Dde=dy?v.useLayoutEffect:v.useEffect,cF=v.createContext({strict:!1}),KS=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Ode="framerAppearId",uF="data-"+KS(Ode);function Ide(e,t,n,r){const{visualElement:a}=v.useContext(uy),i=v.useContext(cF),o=v.useContext(qS),s=v.useContext(lF).reducedMotion,l=v.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:a,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:s}));const c=l.current;v.useInsertionEffect(()=>{c&&c.update(n,o)});const d=v.useRef(!!(n[uF]&&!window.HandoffComplete));return Dde(()=>{c&&(c.render(),d.current&&c.animationState&&c.animationState.animateChanges())}),v.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function lu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function _de(e,t,n){return v.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):lu(n)&&(n.current=r))},[t])}function Gf(e){return typeof e=="string"||Array.isArray(e)}function fy(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const GS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],YS=["initial",...GS];function py(e){return fy(e.animate)||YS.some(t=>Gf(e[t]))}function dF(e){return!!(py(e)||e.variants)}function Lde(e,t){if(py(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Gf(n)?n:void 0,animate:Gf(r)?r:void 0}}return e.inherit!==!1?t:{}}function Fde(e){const{initial:t,animate:n}=Lde(e,v.useContext(uy));return v.useMemo(()=>({initial:t,animate:n}),[TE(t),TE(n)])}function TE(e){return Array.isArray(e)?e.join(" "):e}const DE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Yf={};for(const e in DE)Yf[e]={isEnabled:t=>DE[e].some(n=>!!t[n])};function $de(e){for(const t in e)Yf[t]={...Yf[t],...e[t]}}const fF=v.createContext({}),pF=v.createContext({}),Rde=Symbol.for("motionComponentSymbol");function Bde({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:a}){e&&$de(e);function i(s,l){let c;const d={...v.useContext(lF),...s,layoutId:zde(s)},{isStatic:f}=d,p=Fde(s),m=r(s,f);if(!f&&dy){p.visualElement=Ide(a,m,d,t);const h=v.useContext(pF),y=v.useContext(cF).strict;p.visualElement&&(c=p.visualElement.loadFeatures(d,y,e,h))}return v.createElement(uy.Provider,{value:p},c&&p.visualElement?v.createElement(c,{visualElement:p.visualElement,...d}):null,n(a,s,_de(m,p.visualElement,l),m,f,p.visualElement))}const o=v.forwardRef(i);return o[Rde]=a,o}function zde({layoutId:e}){const t=v.useContext(fF).id;return t&&e!==void 0?t+"-"+e:e}function Ude(e){function t(r,a={}){return Bde(e(r,a))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,a)=>(n.has(a)||n.set(a,t(a)),n.get(a))})}const Vde=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function XS(e){return typeof e!="string"||e.includes("-")?!1:!!(Vde.indexOf(e)>-1||/[A-Z]/.test(e))}const Tg={};function Hde(e){Object.assign(Tg,e)}const Lp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Tc=new Set(Lp);function mF(e,{layout:t,layoutId:n}){return Tc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Tg[e]||e==="opacity")}const ni=e=>!!(e&&e.getVelocity),Wde={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},qde=Lp.length;function Kde(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,a){let i="";for(let o=0;o<qde;o++){const s=Lp[o];if(e[s]!==void 0){const l=Wde[s]||s;i+=`${l}(${e[s]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),a?i=a(e,r?"":i):n&&r&&(i="none"),i}const hF=e=>t=>typeof t=="string"&&t.startsWith(e),gF=hF("--"),sw=hF("var(--"),Gde=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Yde=(e,t)=>t&&typeof e=="number"?t.transform(e):e,hl=(e,t,n)=>Math.min(Math.max(n,e),t),Dc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},tf={...Dc,transform:e=>hl(0,1,e)},Pm={...Dc,default:1},nf=e=>Math.round(e*1e5)/1e5,my=/(-)?([\d]*\.?[\d])+/g,yF=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Xde=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Fp(e){return typeof e=="string"}const $p=e=>({test:t=>Fp(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Us=$p("deg"),Fo=$p("%"),$t=$p("px"),Zde=$p("vh"),Qde=$p("vw"),OE={...Fo,parse:e=>Fo.parse(e)/100,transform:e=>Fo.transform(e*100)},IE={...Dc,transform:Math.round},vF={borderWidth:$t,borderTopWidth:$t,borderRightWidth:$t,borderBottomWidth:$t,borderLeftWidth:$t,borderRadius:$t,radius:$t,borderTopLeftRadius:$t,borderTopRightRadius:$t,borderBottomRightRadius:$t,borderBottomLeftRadius:$t,width:$t,maxWidth:$t,height:$t,maxHeight:$t,size:$t,top:$t,right:$t,bottom:$t,left:$t,padding:$t,paddingTop:$t,paddingRight:$t,paddingBottom:$t,paddingLeft:$t,margin:$t,marginTop:$t,marginRight:$t,marginBottom:$t,marginLeft:$t,rotate:Us,rotateX:Us,rotateY:Us,rotateZ:Us,scale:Pm,scaleX:Pm,scaleY:Pm,scaleZ:Pm,skew:Us,skewX:Us,skewY:Us,distance:$t,translateX:$t,translateY:$t,translateZ:$t,x:$t,y:$t,z:$t,perspective:$t,transformPerspective:$t,opacity:tf,originX:OE,originY:OE,originZ:$t,zIndex:IE,fillOpacity:tf,strokeOpacity:tf,numOctaves:IE};function ZS(e,t,n,r){const{style:a,vars:i,transform:o,transformOrigin:s}=e;let l=!1,c=!1,d=!0;for(const f in t){const p=t[f];if(gF(f)){i[f]=p;continue}const m=vF[f],h=Yde(p,m);if(Tc.has(f)){if(l=!0,o[f]=h,!d)continue;p!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(c=!0,s[f]=h):a[f]=h}if(t.transform||(l||r?a.transform=Kde(e.transform,n,d,r):a.transform&&(a.transform="none")),c){const{originX:f="50%",originY:p="50%",originZ:m=0}=s;a.transformOrigin=`${f} ${p} ${m}`}}const QS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function bF(e,t,n){for(const r in t)!ni(t[r])&&!mF(r,n)&&(e[r]=t[r])}function Jde({transformTemplate:e},t,n){return v.useMemo(()=>{const r=QS();return ZS(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function efe(e,t,n){const r=e.style||{},a={};return bF(a,r,e),Object.assign(a,Jde(e,t,n)),e.transformValues?e.transformValues(a):a}function tfe(e,t,n){const r={},a=efe(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=a,r}const nfe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Dg(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||nfe.has(e)}let xF=e=>!Dg(e);function rfe(e){e&&(xF=t=>t.startsWith("on")?!Dg(t):e(t))}try{rfe(require("@emotion/is-prop-valid").default)}catch{}function afe(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(xF(a)||n===!0&&Dg(a)||!t&&!Dg(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}function _E(e,t,n){return typeof e=="string"?e:$t.transform(t+n*e)}function ife(e,t,n){const r=_E(t,e.x,e.width),a=_E(n,e.y,e.height);return`${r} ${a}`}const ofe={offset:"stroke-dashoffset",array:"stroke-dasharray"},sfe={offset:"strokeDashoffset",array:"strokeDasharray"};function lfe(e,t,n=1,r=0,a=!0){e.pathLength=1;const i=a?ofe:sfe;e[i.offset]=$t.transform(-r);const o=$t.transform(t),s=$t.transform(n);e[i.array]=`${o} ${s}`}function JS(e,{attrX:t,attrY:n,attrScale:r,originX:a,originY:i,pathLength:o,pathSpacing:s=1,pathOffset:l=0,...c},d,f,p){if(ZS(e,c,d,p),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:h,dimensions:y}=e;m.transform&&(y&&(h.transform=m.transform),delete m.transform),y&&(a!==void 0||i!==void 0||h.transform)&&(h.transformOrigin=ife(y,a!==void 0?a:.5,i!==void 0?i:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&lfe(m,o,s,l,!1)}const wF=()=>({...QS(),attrs:{}}),e2=e=>typeof e=="string"&&e.toLowerCase()==="svg";function cfe(e,t,n,r){const a=v.useMemo(()=>{const i=wF();return JS(i,t,{enableHardwareAcceleration:!1},e2(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};bF(i,e.style,e),a.style={...i,...a.style}}return a}function ufe(e=!1){return(t,n,r,{latestValues:a},i)=>{const o=(XS(t)?cfe:tfe)(n,a,i,t),s={...afe(n,typeof t=="string",e),...o,ref:r},{children:l}=n,c=v.useMemo(()=>ni(l)?l.get():l,[l]);return v.createElement(t,{...s,children:c})}}function kF(e,{style:t,vars:n},r,a){Object.assign(e.style,t,a&&a.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const SF=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function NF(e,t,n,r){kF(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(SF.has(a)?a:KS(a),t.attrs[a])}function t2(e,t){const{style:n}=e,r={};for(const a in n)(ni(n[a])||t.style&&ni(t.style[a])||mF(a,e))&&(r[a]=n[a]);return r}function jF(e,t){const n=t2(e,t);for(const r in e)if(ni(e[r])||ni(t[r])){const a=Lp.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[a]=e[r]}return n}function n2(e,t,n,r={},a={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,a)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,a)),t}function dfe(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const Og=e=>Array.isArray(e),ffe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),pfe=e=>Og(e)?e[e.length-1]||0:e;function nh(e){const t=ni(e)?e.get():e;return ffe(t)?t.toValue():t}function mfe({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,a,i){const o={latestValues:hfe(r,a,i,e),renderState:t()};return n&&(o.mount=s=>n(r,s,o)),o}const CF=e=>(t,n)=>{const r=v.useContext(uy),a=v.useContext(qS),i=()=>mfe(e,t,r,a);return n?i():dfe(i)};function hfe(e,t,n,r){const a={},i=r(e,{});for(const p in i)a[p]=nh(i[p]);let{initial:o,animate:s}=e;const l=py(e),c=dF(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),s===void 0&&(s=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?s:o;return f&&typeof f!="boolean"&&!fy(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const m=n2(e,p);if(!m)return;const{transitionEnd:h,transition:y,...x}=m;for(const g in x){let b=x[g];if(Array.isArray(b)){const w=d?b.length-1:0;b=b[w]}b!==null&&(a[g]=b)}for(const g in h)a[g]=h[g]}),a}const Er=e=>e;class LE{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function gfe(e){let t=new LE,n=new LE,r=0,a=!1,i=!1;const o=new WeakSet,s={schedule:(l,c=!1,d=!1)=>{const f=d&&a,p=f?t:n;return c&&o.add(l),p.add(l)&&f&&a&&(r=t.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(a){i=!0;return}if(a=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let c=0;c<r;c++){const d=t.order[c];d(l),o.has(d)&&(s.schedule(d),e())}a=!1,i&&(i=!1,s.process(l))}};return s}const Tm=["prepare","read","update","preRender","render","postRender"],yfe=40;function vfe(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=Tm.reduce((c,d)=>(c[d]=gfe(()=>n=!0),c),{}),o=c=>i[c].process(a),s=()=>{const c=performance.now();n=!1,a.delta=r?1e3/60:Math.max(Math.min(c-a.timestamp,yfe),1),a.timestamp=c,a.isProcessing=!0,Tm.forEach(o),a.isProcessing=!1,n&&t&&(r=!1,e(s))},l=()=>{n=!0,r=!0,a.isProcessing||e(s)};return{schedule:Tm.reduce((c,d)=>{const f=i[d];return c[d]=(p,m=!1,h=!1)=>(n||l(),f.schedule(p,m,h)),c},{}),cancel:c=>Tm.forEach(d=>i[d].cancel(c)),state:a,steps:i}}const{schedule:Xn,cancel:xs,state:wa,steps:Uv}=vfe(typeof requestAnimationFrame<"u"?requestAnimationFrame:Er,!0),bfe={useVisualState:CF({scrapeMotionValuesFromProps:jF,createRenderState:wF,onMount:(e,t,{renderState:n,latestValues:r})=>{Xn.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Xn.render(()=>{JS(n,r,{enableHardwareAcceleration:!1},e2(t.tagName),e.transformTemplate),NF(t,n)})}})},xfe={useVisualState:CF({scrapeMotionValuesFromProps:t2,createRenderState:QS})};function wfe(e,{forwardMotionProps:t=!1},n,r){return{...XS(e)?bfe:xfe,preloadedFeatures:n,useRender:ufe(t),createVisualElement:r,Component:e}}function as(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const MF=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function hy(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const kfe=e=>t=>MF(t)&&e(t,hy(t));function ls(e,t,n,r){return as(e,t,kfe(n),r)}const Sfe=(e,t)=>n=>t(e(n)),ul=(...e)=>e.reduce(Sfe);function AF(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const FE=AF("dragHorizontal"),$E=AF("dragVertical");function EF(e){let t=!1;if(e==="y")t=$E();else if(e==="x")t=FE();else{const n=FE(),r=$E();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function PF(){const e=EF(!0);return e?(e(),!1):!0}class jl{constructor(t){this.isMounted=!1,this.node=t}update(){}}function RE(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),a=(i,o)=>{if(i.pointerType==="touch"||PF())return;const s=e.getProps();e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",t),s[r]&&Xn.update(()=>s[r](i,o))};return ls(e.current,n,a,{passive:!e.getProps()[r]})}class Nfe extends jl{mount(){this.unmount=ul(RE(this.node,!0),RE(this.node,!1))}unmount(){}}class jfe extends jl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ul(as(this.node.current,"focus",()=>this.onFocus()),as(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const TF=(e,t)=>t?e===t?!0:TF(e,t.parentElement):!1;function Vv(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,hy(n))}class Cfe extends jl{constructor(){super(...arguments),this.removeStartListeners=Er,this.removeEndListeners=Er,this.removeAccessibleListeners=Er,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=ls(window,"pointerup",(o,s)=>{if(!this.checkPressEnd())return;const{onTap:l,onTapCancel:c,globalTapTarget:d}=this.node.getProps();Xn.update(()=>{!d&&!TF(this.node.current,o.target)?c&&c(o,s):l&&l(o,s)})},{passive:!(r.onTap||r.onPointerUp)}),i=ls(window,"pointercancel",(o,s)=>this.cancelPress(o,s),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=ul(a,i),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=s=>{s.key!=="Enter"||!this.checkPressEnd()||Vv("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&Xn.update(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=as(this.node.current,"keyup",o),Vv("down",(s,l)=>{this.startPress(s,l)})},n=as(this.node.current,"keydown",t),r=()=>{this.isPressing&&Vv("cancel",(i,o)=>this.cancelPress(i,o))},a=as(this.node.current,"blur",r);this.removeAccessibleListeners=ul(n,a)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Xn.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!PF()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Xn.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=ls(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=as(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ul(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const lw=new WeakMap,Hv=new WeakMap,Mfe=e=>{const t=lw.get(e.target);t&&t(e)},Afe=e=>{e.forEach(Mfe)};function Efe({root:e,...t}){const n=e||document;Hv.has(n)||Hv.set(n,{});const r=Hv.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(Afe,{root:e,...t})),r[a]}function Pfe(e,t,n){const r=Efe(t);return lw.set(e,n),r.observe(e),()=>{lw.delete(e),r.unobserve(e)}}const Tfe={some:0,all:1};class Dfe extends jl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:Tfe[a]},s=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=c?d:f;p&&p(l)};return Pfe(this.node.current,o,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Ofe(t,n))&&this.startObserver()}unmount(){}}function Ofe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Ife={inView:{Feature:Dfe},tap:{Feature:Cfe},focus:{Feature:jfe},hover:{Feature:Nfe}};function DF(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function _fe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function Lfe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function gy(e,t,n){const r=e.getProps();return n2(r,t,n!==void 0?n:r.custom,_fe(e),Lfe(e))}let r2=Er;const cc=e=>e*1e3,cs=e=>e/1e3,Ffe={current:!1},OF=e=>Array.isArray(e)&&typeof e[0]=="number";function IF(e){return!!(!e||typeof e=="string"&&_F[e]||OF(e)||Array.isArray(e)&&e.every(IF))}const Rd=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,_F={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Rd([0,.65,.55,1]),circOut:Rd([.55,0,1,.45]),backIn:Rd([.31,.01,.66,-.59]),backOut:Rd([.33,1.53,.69,.99])};function LF(e){if(e)return OF(e)?Rd(e):Array.isArray(e)?e.map(LF):_F[e]}function $fe(e,t,n,{delay:r=0,duration:a,repeat:i=0,repeatType:o="loop",ease:s,times:l}={}){const c={[t]:n};l&&(c.offset=l);const d=LF(s);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:r,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function Rfe(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const FF=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Bfe=1e-7,zfe=12;function Ufe(e,t,n,r,a){let i,o,s=0;do o=t+(n-t)/2,i=FF(o,r,a)-e,i>0?n=o:t=o;while(Math.abs(i)>Bfe&&++s<zfe);return o}function Rp(e,t,n,r){if(e===t&&n===r)return Er;const a=i=>Ufe(i,0,1,e,n);return i=>i===0||i===1?i:FF(a(i),t,r)}const Vfe=Rp(.42,0,1,1),Hfe=Rp(0,0,.58,1),$F=Rp(.42,0,.58,1),Wfe=e=>Array.isArray(e)&&typeof e[0]!="number",RF=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,BF=e=>t=>1-e(1-t),a2=e=>1-Math.sin(Math.acos(e)),zF=BF(a2),qfe=RF(a2),UF=Rp(.33,1.53,.69,.99),i2=BF(UF),Kfe=RF(i2),Gfe=e=>(e*=2)<1?.5*i2(e):.5*(2-Math.pow(2,-10*(e-1))),Yfe={linear:Er,easeIn:Vfe,easeInOut:$F,easeOut:Hfe,circIn:a2,circInOut:qfe,circOut:zF,backIn:i2,backInOut:Kfe,backOut:UF,anticipate:Gfe},BE=e=>{if(Array.isArray(e)){r2(e.length===4);const[t,n,r,a]=e;return Rp(t,n,r,a)}else if(typeof e=="string")return Yfe[e];return e},o2=(e,t)=>n=>!!(Fp(n)&&Xde.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),VF=(e,t,n)=>r=>{if(!Fp(r))return r;const[a,i,o,s]=r.match(my);return{[e]:parseFloat(a),[t]:parseFloat(i),[n]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},Xfe=e=>hl(0,255,e),Wv={...Dc,transform:e=>Math.round(Xfe(e))},tc={test:o2("rgb","red"),parse:VF("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Wv.transform(e)+", "+Wv.transform(t)+", "+Wv.transform(n)+", "+nf(tf.transform(r))+")"};function Zfe(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const cw={test:o2("#"),parse:Zfe,transform:tc.transform},cu={test:o2("hsl","hue"),parse:VF("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Fo.transform(nf(t))+", "+Fo.transform(nf(n))+", "+nf(tf.transform(r))+")"},Ta={test:e=>tc.test(e)||cw.test(e)||cu.test(e),parse:e=>tc.test(e)?tc.parse(e):cu.test(e)?cu.parse(e):cw.parse(e),transform:e=>Fp(e)?e:e.hasOwnProperty("red")?tc.transform(e):cu.transform(e)},ur=(e,t,n)=>-n*e+n*t+e;function qv(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Qfe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,i=0,o=0;if(!t)a=i=o=n;else{const s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;a=qv(l,s,e+1/3),i=qv(l,s,e),o=qv(l,s,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const Kv=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},Jfe=[cw,tc,cu],epe=e=>Jfe.find(t=>t.test(e));function zE(e){const t=epe(e);let n=t.parse(e);return t===cu&&(n=Qfe(n)),n}const HF=(e,t)=>{const n=zE(e),r=zE(t),a={...n};return i=>(a.red=Kv(n.red,r.red,i),a.green=Kv(n.green,r.green,i),a.blue=Kv(n.blue,r.blue,i),a.alpha=ur(n.alpha,r.alpha,i),tc.transform(a))};function tpe(e){var t,n;return isNaN(e)&&Fp(e)&&(((t=e.match(my))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(yF))===null||n===void 0?void 0:n.length)||0)>0}const WF={regex:Gde,countKey:"Vars",token:"${v}",parse:Er},qF={regex:yF,countKey:"Colors",token:"${c}",parse:Ta.parse},KF={regex:my,countKey:"Numbers",token:"${n}",parse:Dc.parse};function Gv(e,{regex:t,countKey:n,token:r,parse:a}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(a)))}function Ig(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Gv(n,WF),Gv(n,qF),Gv(n,KF),n}function GF(e){return Ig(e).values}function YF(e){const{values:t,numColors:n,numVars:r,tokenised:a}=Ig(e),i=t.length;return o=>{let s=a;for(let l=0;l<i;l++)l<r?s=s.replace(WF.token,o[l]):l<r+n?s=s.replace(qF.token,Ta.transform(o[l])):s=s.replace(KF.token,nf(o[l]));return s}}const npe=e=>typeof e=="number"?0:e;function rpe(e){const t=GF(e);return YF(e)(t.map(npe))}const gl={test:tpe,parse:GF,createTransformer:YF,getAnimatableNone:rpe},XF=(e,t)=>n=>`${n>0?t:e}`;function ZF(e,t){return typeof e=="number"?n=>ur(e,t,n):Ta.test(e)?HF(e,t):e.startsWith("var(")?XF(e,t):JF(e,t)}const QF=(e,t)=>{const n=[...e],r=n.length,a=e.map((i,o)=>ZF(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=a[o](i);return n}},ape=(e,t)=>{const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=ZF(e[a],t[a]));return a=>{for(const i in r)n[i]=r[i](a);return n}},JF=(e,t)=>{const n=gl.createTransformer(t),r=Ig(e),a=Ig(t);return r.numVars===a.numVars&&r.numColors===a.numColors&&r.numNumbers>=a.numNumbers?ul(QF(r.values,a.values),n):XF(e,t)},Xf=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},UE=(e,t)=>n=>ur(e,t,n);function ipe(e){return typeof e=="number"?UE:typeof e=="string"?Ta.test(e)?HF:JF:Array.isArray(e)?QF:typeof e=="object"?ape:UE}function ope(e,t,n){const r=[],a=n||ipe(e[0]),i=e.length-1;for(let o=0;o<i;o++){let s=a(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Er:t;s=ul(l,s)}r.push(s)}return r}function e6(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const i=e.length;if(r2(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=ope(t,r,a),s=o.length,l=c=>{let d=0;if(s>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const f=Xf(e[d],e[d+1],c);return o[d](f)};return n?c=>l(hl(e[0],e[i-1],c)):l}function spe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=Xf(0,t,r);e.push(ur(n,1,a))}}function lpe(e){const t=[0];return spe(t,e.length-1),t}function cpe(e,t){return e.map(n=>n*t)}function upe(e,t){return e.map(()=>t||$F).splice(0,e.length-1)}function _g({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=Wfe(r)?r.map(BE):BE(r),i={done:!1,value:t[0]},o=cpe(n&&n.length===t.length?n:lpe(t),e),s=e6(o,t,{ease:Array.isArray(a)?a:upe(t,a)});return{calculatedDuration:e,next:l=>(i.value=s(l),i.done=l>=e,i)}}function t6(e,t){return t?e*(1e3/t):0}const dpe=5;function n6(e,t,n){const r=Math.max(t-dpe,0);return t6(n-e(r),t-r)}const Yv=.001,fpe=.01,ppe=10,mpe=.05,hpe=1;function gpe({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let a,i,o=1-t;o=hl(mpe,hpe,o),e=hl(fpe,ppe,cs(e)),o<1?(a=c=>{const d=c*o,f=d*e,p=d-n,m=uw(c,o),h=Math.exp(-f);return Yv-p/m*h},i=c=>{const d=c*o*e,f=d*n+n,p=Math.pow(o,2)*Math.pow(c,2)*e,m=Math.exp(-d),h=uw(Math.pow(c,2),o);return(-a(c)+Yv>0?-1:1)*((f-p)*m)/h}):(a=c=>{const d=Math.exp(-c*e),f=(c-n)*e+1;return-Yv+d*f},i=c=>{const d=Math.exp(-c*e),f=(n-c)*(e*e);return d*f});const s=5/e,l=vpe(a,i,s);if(e=cc(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:e}}}const ype=12;function vpe(e,t,n){let r=n;for(let a=1;a<ype;a++)r=r-e(r)/t(r);return r}function uw(e,t){return e*Math.sqrt(1-t*t)}const bpe=["duration","bounce"],xpe=["stiffness","damping","mass"];function VE(e,t){return t.some(n=>e[n]!==void 0)}function wpe(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!VE(e,xpe)&&VE(e,bpe)){const n=gpe(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function r6({keyframes:e,restDelta:t,restSpeed:n,...r}){const a=e[0],i=e[e.length-1],o={done:!1,value:a},{stiffness:s,damping:l,mass:c,duration:d,velocity:f,isResolvedFromDuration:p}=wpe({...r,velocity:-cs(r.velocity||0)}),m=f||0,h=l/(2*Math.sqrt(s*c)),y=i-a,x=cs(Math.sqrt(s/c)),g=Math.abs(y)<5;n||(n=g?.01:2),t||(t=g?.005:.5);let b;if(h<1){const w=uw(x,h);b=S=>{const C=Math.exp(-h*x*S);return i-C*((m+h*x*y)/w*Math.sin(w*S)+y*Math.cos(w*S))}}else if(h===1)b=w=>i-Math.exp(-x*w)*(y+(m+x*y)*w);else{const w=x*Math.sqrt(h*h-1);b=S=>{const C=Math.exp(-h*x*S),j=Math.min(w*S,300);return i-C*((m+h*x*y)*Math.sinh(j)+w*y*Math.cosh(j))/w}}return{calculatedDuration:p&&d||null,next:w=>{const S=b(w);if(p)o.done=w>=d;else{let C=m;w!==0&&(h<1?C=n6(b,w,S):C=0);const j=Math.abs(C)<=n,M=Math.abs(i-S)<=t;o.done=j&&M}return o.value=o.done?i:S,o}}}function HE({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:s,max:l,restDelta:c=.5,restSpeed:d}){const f=e[0],p={done:!1,value:f},m=P=>s!==void 0&&P<s||l!==void 0&&P>l,h=P=>s===void 0?l:l===void 0||Math.abs(s-P)<Math.abs(l-P)?s:l;let y=n*t;const x=f+y,g=o===void 0?x:o(x);g!==x&&(y=g-f);const b=P=>-y*Math.exp(-P/r),w=P=>g+b(P),S=P=>{const $=b(P),E=w(P);p.done=Math.abs($)<=c,p.value=p.done?g:E};let C,j;const M=P=>{m(p.value)&&(C=P,j=r6({keyframes:[p.value,h(p.value)],velocity:n6(w,P,p.value),damping:a,stiffness:i,restDelta:c,restSpeed:d}))};return M(0),{calculatedDuration:null,next:P=>{let $=!1;return!j&&C===void 0&&($=!0,S(P),M(P)),C!==void 0&&P>C?j.next(P-C):(!$&&S(P),p)}}}const kpe=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Xn.update(t,!0),stop:()=>xs(t),now:()=>wa.isProcessing?wa.timestamp:performance.now()}},WE=2e4;function qE(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<WE;)t+=n,r=e.next(t);return t>=WE?1/0:t}const Spe={decay:HE,inertia:HE,tween:_g,keyframes:_g,spring:r6};function Lg({autoplay:e=!0,delay:t=0,driver:n=kpe,keyframes:r,type:a="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop",onPlay:l,onStop:c,onComplete:d,onUpdate:f,...p}){let m=1,h=!1,y,x;const g=()=>{x=new Promise(R=>{y=R})};g();let b;const w=Spe[a]||_g;let S;w!==_g&&typeof r[0]!="number"&&(S=e6([0,100],r,{clamp:!1}),r=[0,100]);const C=w({...p,keyframes:r});let j;s==="mirror"&&(j=w({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let M="idle",P=null,$=null,E=null;C.calculatedDuration===null&&i&&(C.calculatedDuration=qE(C));const{calculatedDuration:_}=C;let D=1/0,J=1/0;_!==null&&(D=_+o,J=D*(i+1)-o);let Q=0;const Y=R=>{if($===null)return;m>0&&($=Math.min($,R)),m<0&&($=Math.min(R-J/m,$)),P!==null?Q=P:Q=Math.round(R-$)*m;const A=Q-t*(m>=0?1:-1),N=m>=0?A<0:A>J;Q=Math.max(A,0),M==="finished"&&P===null&&(Q=J);let B=Q,G=C;if(i){const O=Math.min(Q,J)/D;let ee=Math.floor(O),me=O%1;!me&&O>=1&&(me=1),me===1&&ee--,ee=Math.min(ee,i+1),ee%2&&(s==="reverse"?(me=1-me,o&&(me-=o/D)):s==="mirror"&&(G=j)),B=hl(0,1,me)*D}const V=N?{done:!1,value:r[0]}:G.next(B);S&&(V.value=S(V.value));let{done:H}=V;!N&&_!==null&&(H=m>=0?Q>=J:Q<=0);const X=P===null&&(M==="finished"||M==="running"&&H);return f&&f(V.value),X&&I(),V},fe=()=>{b&&b.stop(),b=void 0},K=()=>{M="idle",fe(),y(),g(),$=E=null},I=()=>{M="finished",d&&d(),fe(),y()},te=()=>{if(h)return;b||(b=n(Y));const R=b.now();l&&l(),P!==null?$=R-P:(!$||M==="finished")&&($=R),M==="finished"&&g(),E=$,P=null,M="running",b.start()};e&&te();const k={then(R,A){return x.then(R,A)},get time(){return cs(Q)},set time(R){R=cc(R),Q=R,P!==null||!b||m===0?P=R:$=b.now()-R/m},get duration(){const R=C.calculatedDuration===null?qE(C):C.calculatedDuration;return cs(R)},get speed(){return m},set speed(R){R===m||!b||(m=R,k.time=cs(Q))},get state(){return M},play:te,pause:()=>{M="paused",P=Q},stop:()=>{h=!0,M!=="idle"&&(M="idle",c&&c(),K())},cancel:()=>{E!==null&&Y(E),K()},complete:()=>{M="finished"},sample:R=>($=0,Y(R))};return k}function Npe(e){let t;return()=>(t===void 0&&(t=e()),t)}const jpe=Npe(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Cpe=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Dm=10,Mpe=2e4,Ape=(e,t)=>t.type==="spring"||e==="backgroundColor"||!IF(t.ease);function Epe(e,t,{onUpdate:n,onComplete:r,...a}){if(!(jpe()&&Cpe.has(t)&&!a.repeatDelay&&a.repeatType!=="mirror"&&a.damping!==0&&a.type!=="inertia"))return!1;let i=!1,o,s,l=!1;const c=()=>{s=new Promise(g=>{o=g})};c();let{keyframes:d,duration:f=300,ease:p,times:m}=a;if(Ape(t,a)){const g=Lg({...a,repeat:0,delay:0});let b={done:!1,value:d[0]};const w=[];let S=0;for(;!b.done&&S<Mpe;)b=g.sample(S),w.push(b.value),S+=Dm;m=void 0,d=w,f=S-Dm,p="linear"}const h=$fe(e.owner.current,t,d,{...a,duration:f,ease:p,times:m}),y=()=>{l=!1,h.cancel()},x=()=>{l=!0,Xn.update(y),o(),c()};return h.onfinish=()=>{l||(e.set(Rfe(d,a)),r&&r(),x())},{then(g,b){return s.then(g,b)},attachTimeline(g){return h.timeline=g,h.onfinish=null,Er},get time(){return cs(h.currentTime||0)},set time(g){h.currentTime=cc(g)},get speed(){return h.playbackRate},set speed(g){h.playbackRate=g},get duration(){return cs(f)},play:()=>{i||(h.play(),xs(y))},pause:()=>h.pause(),stop:()=>{if(i=!0,h.playState==="idle")return;const{currentTime:g}=h;if(g){const b=Lg({...a,autoplay:!1});e.setWithVelocity(b.sample(g-Dm).value,b.sample(g).value,Dm)}x()},complete:()=>{l||h.finish()},cancel:x}}function Ppe({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const a=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Er,pause:Er,stop:Er,then:i=>(i(),Promise.resolve()),cancel:Er,complete:Er});return t?Lg({keyframes:[0,1],duration:0,delay:t,onComplete:a}):a()}const Tpe={type:"spring",stiffness:500,damping:25,restSpeed:10},Dpe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Ope={type:"keyframes",duration:.8},Ipe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_pe=(e,{keyframes:t})=>t.length>2?Ope:Tc.has(e)?e.startsWith("scale")?Dpe(t[1]):Tpe:Ipe,dw=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(gl.test(t)||t==="0")&&!t.startsWith("url(")),Lpe=new Set(["brightness","contrast","saturate","opacity"]);function Fpe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(my)||[];if(!r)return e;const a=n.replace(r,"");let i=Lpe.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+a+")"}const $pe=/([a-z-]*)\(.*?\)/g,fw={...gl,getAnimatableNone:e=>{const t=e.match($pe);return t?t.map(Fpe).join(" "):e}},Rpe={...vF,color:Ta,backgroundColor:Ta,outlineColor:Ta,fill:Ta,stroke:Ta,borderColor:Ta,borderTopColor:Ta,borderRightColor:Ta,borderBottomColor:Ta,borderLeftColor:Ta,filter:fw,WebkitFilter:fw},s2=e=>Rpe[e];function a6(e,t){let n=s2(e);return n!==fw&&(n=gl),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const i6=e=>/^0[^.\s]+$/.test(e);function Bpe(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||i6(e)}function zpe(e,t,n,r){const a=dw(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:e.get();let s;const l=[];for(let c=0;c<i.length;c++)i[c]===null&&(i[c]=c===0?o:i[c-1]),Bpe(i[c])&&l.push(c),typeof i[c]=="string"&&i[c]!=="none"&&i[c]!=="0"&&(s=i[c]);if(a&&l.length&&s)for(let c=0;c<l.length;c++){const d=l[c];i[d]=a6(t,s)}return i}function Upe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:s,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function l2(e,t){return e[t]||e.default||e}const Vpe={skipAnimations:!1},c2=(e,t,n,r={})=>a=>{const i=l2(r,e)||{},o=i.delay||r.delay||0;let{elapsed:s=0}=r;s=s-cc(o);const l=zpe(t,e,n,i),c=l[0],d=l[l.length-1],f=dw(e,c),p=dw(e,d);let m={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-s,onUpdate:h=>{t.set(h),i.onUpdate&&i.onUpdate(h)},onComplete:()=>{a(),i.onComplete&&i.onComplete()}};if(Upe(i)||(m={...m,..._pe(e,m)}),m.duration&&(m.duration=cc(m.duration)),m.repeatDelay&&(m.repeatDelay=cc(m.repeatDelay)),!f||!p||Ffe.current||i.type===!1||Vpe.skipAnimations)return Ppe(m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const h=Epe(t,e,m);if(h)return h}return Lg(m)};function Fg(e){return!!(ni(e)&&e.add)}const o6=e=>/^\-?\d*\.?\d+$/.test(e);function u2(e,t){e.indexOf(t)===-1&&e.push(t)}function d2(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class f2{constructor(){this.subscriptions=[]}add(t){return u2(this.subscriptions,t),()=>d2(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Hpe=e=>!isNaN(parseFloat(e));class Wpe{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,a=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=wa;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,Xn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Xn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=Hpe(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new f2);const r=this.events[t].add(n);return t==="change"?()=>{r(),Xn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?t6(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zu(e,t){return new Wpe(e,t)}const s6=e=>t=>t.test(e),qpe={test:e=>e==="auto",parse:e=>e},l6=[Dc,$t,Fo,Us,Qde,Zde,qpe],Td=e=>l6.find(s6(e)),Kpe=[...l6,Ta,gl],Gpe=e=>Kpe.find(s6(e));function Ype(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,zu(n))}function Xpe(e,t){const n=gy(e,t);let{transitionEnd:r={},transition:a={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const s=pfe(i[o]);Ype(e,o,s)}}function Zpe(e,t,n){var r,a;const i=Object.keys(t).filter(s=>!e.hasValue(s)),o=i.length;if(o)for(let s=0;s<o;s++){const l=i[s],c=t[l];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(a=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&a!==void 0?a:t[l]),d!=null&&(typeof d=="string"&&(o6(d)||i6(d))?d=parseFloat(d):!Gpe(d)&&gl.test(c)&&(d=a6(l,c)),e.addValue(l,zu(d,{owner:e})),n[l]===void 0&&(n[l]=d),d!==null&&e.setBaseTarget(l,d))}}function Qpe(e,t){return t?(t[e]||t.default||t).from:void 0}function Jpe(e,t,n){const r={};for(const a in e){const i=Qpe(a,t);if(i!==void 0)r[a]=i;else{const o=n.getValue(a);o&&(r[a]=o.get())}}return r}function eme({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function tme(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function c6(e,t,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...s}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(i=r);const c=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const f in s){const p=e.getValue(f),m=s[f];if(!p||m===void 0||d&&eme(d,f))continue;const h={delay:n,elapsed:0,...l2(i||{},f)};if(window.HandoffAppearAnimations){const g=e.getProps()[uF];if(g){const b=window.HandoffAppearAnimations(g,f,p,Xn);b!==null&&(h.elapsed=b,h.isHandoff=!0)}}let y=!h.isHandoff&&!tme(p,m);if(h.type==="spring"&&(p.getVelocity()||h.velocity)&&(y=!1),p.animation&&(y=!1),y)continue;p.start(c2(f,p,m,e.shouldReduceMotion&&Tc.has(f)?{type:!1}:h));const x=p.animation;Fg(l)&&(l.add(f),x.then(()=>l.remove(f))),c.push(x)}return o&&Promise.all(c).then(()=>{o&&Xpe(e,o)}),c}function pw(e,t,n={}){const r=gy(e,t,n.custom);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const i=r?()=>Promise.all(c6(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=a;return nme(e,t,c+l,d,f,n)}:()=>Promise.resolve(),{when:s}=a;if(s){const[l,c]=s==="beforeChildren"?[i,o]:[o,i];return l().then(()=>c())}else return Promise.all([i(),o(n.delay)])}function nme(e,t,n=0,r=0,a=1,i){const o=[],s=(e.variantChildren.size-1)*r,l=a===1?(c=0)=>c*r:(c=0)=>s-c*r;return Array.from(e.variantChildren).sort(rme).forEach((c,d)=>{c.notify("AnimationStart",t),o.push(pw(c,t,{...i,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(o)}function rme(e,t){return e.sortNodePosition(t)}function ame(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(i=>pw(e,i,n));r=Promise.all(a)}else if(typeof t=="string")r=pw(e,t,n);else{const a=typeof t=="function"?gy(e,t,n.custom):t;r=Promise.all(c6(e,a,n))}return r.then(()=>e.notify("AnimationComplete",t))}const ime=[...GS].reverse(),ome=GS.length;function sme(e){return t=>Promise.all(t.map(({animation:n,options:r})=>ame(e,n,r)))}function lme(e){let t=sme(e);const n=ume();let r=!0;const a=(l,c)=>{const d=gy(e,c);if(d){const{transition:f,transitionEnd:p,...m}=d;l={...l,...m,...p}}return l};function i(l){t=l(e)}function o(l,c){const d=e.getProps(),f=e.getVariantContext(!0)||{},p=[],m=new Set;let h={},y=1/0;for(let g=0;g<ome;g++){const b=ime[g],w=n[b],S=d[b]!==void 0?d[b]:f[b],C=Gf(S),j=b===c?w.isActive:null;j===!1&&(y=g);let M=S===f[b]&&S!==d[b]&&C;if(M&&r&&e.manuallyAnimateOnMount&&(M=!1),w.protectedKeys={...h},!w.isActive&&j===null||!S&&!w.prevProp||fy(S)||typeof S=="boolean")continue;let P=cme(w.prevProp,S)||b===c&&w.isActive&&!M&&C||g>y&&C,$=!1;const E=Array.isArray(S)?S:[S];let _=E.reduce(a,{});j===!1&&(_={});const{prevResolvedValues:D={}}=w,J={...D,..._},Q=Y=>{P=!0,m.has(Y)&&($=!0,m.delete(Y)),w.needsAnimating[Y]=!0};for(const Y in J){const fe=_[Y],K=D[Y];if(h.hasOwnProperty(Y))continue;let I=!1;Og(fe)&&Og(K)?I=!DF(fe,K):I=fe!==K,I?fe!==void 0?Q(Y):m.add(Y):fe!==void 0&&m.has(Y)?Q(Y):w.protectedKeys[Y]=!0}w.prevProp=S,w.prevResolvedValues=_,w.isActive&&(h={...h,..._}),r&&e.blockInitialAnimation&&(P=!1),P&&(!M||$)&&p.push(...E.map(Y=>({animation:Y,options:{type:b,...l}})))}if(m.size){const g={};m.forEach(b=>{const w=e.getBaseTarget(b);w!==void 0&&(g[b]=w)}),p.push({animation:g})}let x=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(x=!1),r=!1,x?t(p):Promise.resolve()}function s(l,c,d){var f;if(n[l].isActive===c)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var h;return(h=m.animationState)===null||h===void 0?void 0:h.setActive(l,c)}),n[l].isActive=c;const p=o(d,l);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:o,setActive:s,setAnimateFunction:i,getState:()=>n}}function cme(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!DF(t,e):!1}function Ll(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ume(){return{animate:Ll(!0),whileInView:Ll(),whileHover:Ll(),whileTap:Ll(),whileDrag:Ll(),whileFocus:Ll(),exit:Ll()}}class dme extends jl{constructor(t){super(t),t.animationState||(t.animationState=lme(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),fy(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let fme=0;class pme extends jl{constructor(){super(...arguments),this.id=fme++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const mme={animation:{Feature:dme},exit:{Feature:pme}},KE=(e,t)=>Math.abs(e-t);function hme(e,t){const n=KE(e.x,t.x),r=KE(e.y,t.y);return Math.sqrt(n**2+r**2)}class u6{constructor(t,n,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Zv(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=hme(f.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:h}=f,{timestamp:y}=wa;this.history.push({...h,timestamp:y});const{onStart:x,onMove:g}=this.handlers;p||(x&&x(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Xv(p,this.transformPagePoint),Xn.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:m,onSessionEnd:h,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Zv(f.type==="pointercancel"?this.lastMoveEventInfo:Xv(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,x),h&&h(f,x)},!MF(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=a||window;const o=hy(t),s=Xv(o,this.transformPagePoint),{point:l}=s,{timestamp:c}=wa;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(t,Zv(s,this.history)),this.removeListeners=ul(ls(this.contextWindow,"pointermove",this.handlePointerMove),ls(this.contextWindow,"pointerup",this.handlePointerUp),ls(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),xs(this.updatePoint)}}function Xv(e,t){return t?{point:t(e.point)}:e}function GE(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Zv({point:e},t){return{point:e,delta:GE(e,d6(t)),offset:GE(e,gme(t)),velocity:yme(t,.1)}}function gme(e){return e[0]}function d6(e){return e[e.length-1]}function yme(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=d6(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>cc(t)));)n--;if(!r)return{x:0,y:0};const i=cs(a.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-r.x)/i,y:(a.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function bi(e){return e.max-e.min}function mw(e,t=0,n=.01){return Math.abs(e-t)<=n}function YE(e,t,n,r=.5){e.origin=r,e.originPoint=ur(t.min,t.max,e.origin),e.scale=bi(n)/bi(t),(mw(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=ur(n.min,n.max,e.origin)-e.originPoint,(mw(e.translate)||isNaN(e.translate))&&(e.translate=0)}function rf(e,t,n,r){YE(e.x,t.x,n.x,r?r.originX:void 0),YE(e.y,t.y,n.y,r?r.originY:void 0)}function XE(e,t,n){e.min=n.min+t.min,e.max=e.min+bi(t)}function vme(e,t,n){XE(e.x,t.x,n.x),XE(e.y,t.y,n.y)}function ZE(e,t,n){e.min=t.min-n.min,e.max=e.min+bi(t)}function af(e,t,n){ZE(e.x,t.x,n.x),ZE(e.y,t.y,n.y)}function bme(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ur(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ur(n,e,r.max):Math.min(e,n)),e}function QE(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function xme(e,{top:t,left:n,bottom:r,right:a}){return{x:QE(e.x,n,a),y:QE(e.y,t,r)}}function JE(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function wme(e,t){return{x:JE(e.x,t.x),y:JE(e.y,t.y)}}function kme(e,t){let n=.5;const r=bi(e),a=bi(t);return a>r?n=Xf(t.min,t.max-r,e.min):r>a&&(n=Xf(e.min,e.max-a,t.min)),hl(0,1,n)}function Sme(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const hw=.35;function Nme(e=hw){return e===!1?e=0:e===!0&&(e=hw),{x:eP(e,"left","right"),y:eP(e,"top","bottom")}}function eP(e,t,n){return{min:tP(e,t),max:tP(e,n)}}function tP(e,t){return typeof e=="number"?e:e[t]||0}const nP=()=>({translate:0,scale:1,origin:0,originPoint:0}),uu=()=>({x:nP(),y:nP()}),rP=()=>({min:0,max:0}),Or=()=>({x:rP(),y:rP()});function Oi(e){return[e("x"),e("y")]}function f6({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function jme({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Cme(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Qv(e){return e===void 0||e===1}function gw({scale:e,scaleX:t,scaleY:n}){return!Qv(e)||!Qv(t)||!Qv(n)}function Vl(e){return gw(e)||p6(e)||e.z||e.rotate||e.rotateX||e.rotateY}function p6(e){return aP(e.x)||aP(e.y)}function aP(e){return e&&e!=="0%"}function $g(e,t,n){const r=e-n,a=t*r;return n+a}function iP(e,t,n,r,a){return a!==void 0&&(e=$g(e,a,r)),$g(e,n,r)+t}function yw(e,t=0,n=1,r,a){e.min=iP(e.min,t,n,r,a),e.max=iP(e.max,t,n,r,a)}function m6(e,{x:t,y:n}){yw(e.x,t.translate,t.scale,t.originPoint),yw(e.y,n.translate,n.scale,n.originPoint)}function Mme(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let i,o;for(let s=0;s<a;s++){i=n[s],o=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&du(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,m6(e,o)),r&&Vl(i.latestValues)&&du(e,i.latestValues))}t.x=oP(t.x),t.y=oP(t.y)}function oP(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Ks(e,t){e.min=e.min+t,e.max=e.max+t}function sP(e,t,[n,r,a]){const i=t[a]!==void 0?t[a]:.5,o=ur(e.min,e.max,i);yw(e,t[n],t[r],o,t.scale)}const Ame=["x","scaleX","originX"],Eme=["y","scaleY","originY"];function du(e,t){sP(e.x,t,Ame),sP(e.y,t,Eme)}function h6(e,t){return f6(Cme(e.getBoundingClientRect(),t))}function Pme(e,t,n){const r=h6(e,n),{scroll:a}=t;return a&&(Ks(r.x,a.offset.x),Ks(r.y,a.offset.y)),r}const g6=({current:e})=>e?e.ownerDocument.defaultView:null,Tme=new WeakMap;class Dme{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Or(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(hy(d,"page").point)},i=(d,f)=>{const{drag:p,dragPropagation:m,onDragStart:h}=this.getProps();if(p&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=EF(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Oi(x=>{let g=this.getAxisMotionValue(x).get()||0;if(Fo.test(g)){const{projection:b}=this.visualElement;if(b&&b.layout){const w=b.layout.layoutBox[x];w&&(g=bi(w)*(parseFloat(g)/100))}}this.originPoint[x]=g}),h&&Xn.update(()=>h(d,f),!1,!0);const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:h,onDrag:y}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:x}=f;if(m&&this.currentDirection===null){this.currentDirection=Ome(x),this.currentDirection!==null&&h&&h(this.currentDirection);return}this.updateAxis("x",f.point,x),this.updateAxis("y",f.point,x),this.visualElement.render(),y&&y(d,f)},s=(d,f)=>this.stop(d,f),l=()=>Oi(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new u6(t,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:s,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:g6(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&Xn.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!Om(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=bme(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&lu(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=xme(a.layoutBox,n):this.constraints=!1,this.elastic=Nme(r),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Oi(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=Sme(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!lu(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=Pme(r,a.root,this.visualElement.getTransformPagePoint());let o=wme(a.layout.layoutBox,i);if(n){const s=n(jme(o));this.hasMutatedConstraints=!!s,s&&(o=f6(s))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},c=Oi(d=>{if(!Om(d,n,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const p=a?200:1e6,m=a?40:1e7,h={type:"inertia",velocity:r?t[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,h)});return Promise.all(c).then(s)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(c2(t,r,0,n))}stopAnimation(){Oi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Oi(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps();return r[n]||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Oi(n=>{const{drag:r}=this.getProps();if(!Om(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(n);if(a&&a.layout){const{min:o,max:s}=a.layout.layoutBox[n];i.set(t[n]-ur(o,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!lu(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Oi(o=>{const s=this.getAxisMotionValue(o);if(s){const l=s.get();a[o]=kme({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Oi(o=>{if(!Om(o,t,null))return;const s=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];s.set(ur(l,c,a[o]))})}addListeners(){if(!this.visualElement.current)return;Tme.set(this.visualElement,this);const t=this.visualElement.current,n=ls(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();lu(l)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),r();const o=as(window,"resize",()=>this.scalePositionWithinConstraints()),s=a.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Oi(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=hw,dragMomentum:s=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:s}}}function Om(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Ome(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Ime extends jl{constructor(t){super(t),this.removeGroupControls=Er,this.removeListeners=Er,this.controls=new Dme(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Er}unmount(){this.removeGroupControls(),this.removeListeners()}}const lP=e=>(t,n)=>{e&&Xn.update(()=>e(t,n))};class _me extends jl{constructor(){super(...arguments),this.removePointerDownListener=Er}onPointerDown(t){this.session=new u6(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:g6(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:lP(t),onStart:lP(n),onMove:r,onEnd:(i,o)=>{delete this.session,a&&Xn.update(()=>a(i,o))}}}mount(){this.removePointerDownListener=ls(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Lme(){const e=v.useContext(qS);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,a=v.useId();return v.useEffect(()=>r(a),[]),!t&&n?[!1,()=>n&&n(a)]:[!0]}const rh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function cP(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Dd={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if($t.test(e))e=parseFloat(e);else return e;const n=cP(e,t.target.x),r=cP(e,t.target.y);return`${n}% ${r}%`}},Fme={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=gl.parse(e);if(a.length>5)return r;const i=gl.createTransformer(e),o=typeof a[0]!="number"?1:0,s=n.x.scale*t.x,l=n.y.scale*t.y;a[0+o]/=s,a[1+o]/=l;const c=ur(s,l,.5);return typeof a[2+o]=="number"&&(a[2+o]/=c),typeof a[3+o]=="number"&&(a[3+o]/=c),i(a)}};class $me extends Bg.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:i}=t;Hde(Rme),i&&(n.group&&n.group.add(i),r&&r.register&&a&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),rh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,a||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Xn.postRender(()=>{const s=o.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function y6(e){const[t,n]=Lme(),r=v.useContext(fF);return Bg.createElement($me,{...e,layoutGroup:r,switchLayoutGroup:v.useContext(pF),isPresent:t,safeToRemove:n})}const Rme={borderRadius:{...Dd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Dd,borderTopRightRadius:Dd,borderBottomLeftRadius:Dd,borderBottomRightRadius:Dd,boxShadow:Fme},v6=["TopLeft","TopRight","BottomLeft","BottomRight"],Bme=v6.length,uP=e=>typeof e=="string"?parseFloat(e):e,dP=e=>typeof e=="number"||$t.test(e);function zme(e,t,n,r,a,i){a?(e.opacity=ur(0,n.opacity!==void 0?n.opacity:1,Ume(r)),e.opacityExit=ur(t.opacity!==void 0?t.opacity:1,0,Vme(r))):i&&(e.opacity=ur(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Bme;o++){const s=`border${v6[o]}Radius`;let l=fP(t,s),c=fP(n,s);l===void 0&&c===void 0||(l||(l=0),c||(c=0),l===0||c===0||dP(l)===dP(c)?(e[s]=Math.max(ur(uP(l),uP(c),r),0),(Fo.test(c)||Fo.test(l))&&(e[s]+="%")):e[s]=c)}(t.rotate||n.rotate)&&(e.rotate=ur(t.rotate||0,n.rotate||0,r))}function fP(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Ume=b6(0,.5,zF),Vme=b6(.5,.95,Er);function b6(e,t,n){return r=>r<e?0:r>t?1:n(Xf(e,t,r))}function pP(e,t){e.min=t.min,e.max=t.max}function Ei(e,t){pP(e.x,t.x),pP(e.y,t.y)}function mP(e,t,n,r,a){return e-=t,e=$g(e,1/n,r),a!==void 0&&(e=$g(e,1/a,r)),e}function Hme(e,t=0,n=1,r=.5,a,i=e,o=e){if(Fo.test(t)&&(t=parseFloat(t),t=ur(o.min,o.max,t/100)-o.min),typeof t!="number")return;let s=ur(i.min,i.max,r);e===i&&(s-=t),e.min=mP(e.min,t,n,s,a),e.max=mP(e.max,t,n,s,a)}function hP(e,t,[n,r,a],i,o){Hme(e,t[n],t[r],t[a],t.scale,i,o)}const Wme=["x","scaleX","originX"],qme=["y","scaleY","originY"];function gP(e,t,n,r){hP(e.x,t,Wme,n?n.x:void 0,r?r.x:void 0),hP(e.y,t,qme,n?n.y:void 0,r?r.y:void 0)}function yP(e){return e.translate===0&&e.scale===1}function x6(e){return yP(e.x)&&yP(e.y)}function Kme(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function w6(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function vP(e){return bi(e.x)/bi(e.y)}class Gme{constructor(){this.members=[]}add(t){u2(this.members,t),t.scheduleRender()}remove(t){if(d2(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function bP(e,t,n){let r="";const a=e.x.translate/t.x,i=e.y.translate/t.y;if((a||i)&&(r=`translate3d(${a}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:c,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,s=e.y.scale*t.y;return(o!==1||s!==1)&&(r+=`scale(${o}, ${s})`),r||"none"}const Yme=(e,t)=>e.depth-t.depth;class Xme{constructor(){this.children=[],this.isDirty=!1}add(t){u2(this.children,t),this.isDirty=!0}remove(t){d2(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Yme),this.isDirty=!1,this.children.forEach(t)}}function Zme(e,t){const n=performance.now(),r=({timestamp:a})=>{const i=a-n;i>=t&&(xs(r),e(i-t))};return Xn.read(r,!0),()=>xs(r)}function Qme(e){window.MotionDebug&&window.MotionDebug.record(e)}function Jme(e){return e instanceof SVGElement&&e.tagName!=="svg"}function ehe(e,t,n){const r=ni(e)?e:zu(e);return r.start(c2("",r,t,n)),r.animation}const xP=["","X","Y","Z"],the={visibility:"hidden"},wP=1e3;let nhe=0;const Hl={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function k6({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(i={},o=t==null?void 0:t()){this.id=nhe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Hl.totalNodes=Hl.resolvedTargetDeltas=Hl.recalculatedProjection=0,this.nodes.forEach(ihe),this.nodes.forEach(uhe),this.nodes.forEach(dhe),this.nodes.forEach(ohe),Qme(Hl)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let s=0;s<this.path.length;s++)this.path[s].shouldResetTransform=!0;this.root===this&&(this.nodes=new Xme)}addEventListener(i,o){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new f2),this.eventHandlers.get(i).add(o)}notifyListeners(i,...o){const s=this.eventHandlers.get(i);s&&s.notify(...o)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Jme(i),this.instance=i;const{layoutId:s,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(l||s)&&(this.isLayoutDirty=!0),e){let d;const f=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=Zme(f,250),rh.hasAnimatedSinceResize&&(rh.hasAnimatedSinceResize=!1,this.nodes.forEach(SP))})}s&&this.root.registerSharedNode(s,this),this.options.animate!==!1&&c&&(s||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const h=this.options.transition||c.getDefaultTransition()||ghe,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=c.getProps(),g=!this.targetLayout||!w6(this.targetLayout,m)||p,b=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||f&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,b);const w={...l2(h,"layout"),onPlay:y,onComplete:x};(c.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else f||SP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,xs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(fhe),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:s}=this.options;if(o===void 0&&!s)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(kP);return}this.isUpdating||this.nodes.forEach(lhe),this.isUpdating=!1,this.nodes.forEach(che),this.nodes.forEach(rhe),this.nodes.forEach(ahe),this.clearAllSnapshots();const i=performance.now();wa.delta=hl(0,1e3/60,i-wa.timestamp),wa.timestamp=i,wa.isProcessing=!0,Uv.update.process(wa),Uv.preRender.process(wa),Uv.render.process(wa),wa.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(she),this.sharedNodes.forEach(phe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Xn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Xn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let s=0;s<this.path.length;s++)this.path[s].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Or(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!a)return;const i=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!x6(this.projectionDelta),s=this.getTransformTemplate(),l=s?s(this.latestValues,""):void 0,c=l!==this.prevTransformTemplateValue;i&&(o||Vl(this.latestValues)||c)&&(a(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const o=this.measurePageBox();let s=this.removeElementScroll(o);return i&&(s=this.removeTransform(s)),yhe(s),{animationId:this.root.animationId,measuredBox:o,layoutBox:s,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return Or();const o=i.measureViewportBox(),{scroll:s}=this.root;return s&&(Ks(o.x,s.offset.x),Ks(o.y,s.offset.y)),o}removeElementScroll(i){const o=Or();Ei(o,i);for(let s=0;s<this.path.length;s++){const l=this.path[s],{scroll:c,options:d}=l;if(l!==this.root&&c&&d.layoutScroll){if(c.isRoot){Ei(o,i);const{scroll:f}=this.root;f&&(Ks(o.x,-f.offset.x),Ks(o.y,-f.offset.y))}Ks(o.x,c.offset.x),Ks(o.y,c.offset.y)}}return o}applyTransform(i,o=!1){const s=Or();Ei(s,i);for(let l=0;l<this.path.length;l++){const c=this.path[l];!o&&c.options.layoutScroll&&c.scroll&&c!==c.root&&du(s,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Vl(c.latestValues)&&du(s,c.latestValues)}return Vl(this.latestValues)&&du(s,this.latestValues),s}removeTransform(i){const o=Or();Ei(o,i);for(let s=0;s<this.path.length;s++){const l=this.path[s];if(!l.instance||!Vl(l.latestValues))continue;gw(l.latestValues)&&l.updateSnapshot();const c=Or(),d=l.measurePageBox();Ei(c,d),gP(o,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,c)}return Vl(this.latestValues)&&gP(o,this.latestValues),o}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==wa.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var o;const s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==s;if(!(i||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:c,layoutId:d}=this.options;if(!(!this.layout||!(c||d))){if(this.resolvedRelativeTargetAt=wa.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Or(),this.relativeTargetOrigin=Or(),af(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Ei(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Or(),this.targetWithTransforms=Or()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),vme(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ei(this.target,this.layout.layoutBox),m6(this.target,this.targetDelta)):Ei(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Or(),this.relativeTargetOrigin=Or(),af(this.relativeTargetOrigin,this.target,f.target),Ei(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Hl.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||gw(this.parent.latestValues)||p6(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const o=this.getLead(),s=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(l=!1),s&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===wa.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;Ei(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;Mme(this.layoutCorrected,this.treeScale,this.path,s),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:m}=o;if(!m){this.projectionTransform&&(this.projectionDelta=uu(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=uu(),this.projectionDeltaWithTransform=uu());const h=this.projectionTransform;rf(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=bP(this.projectionDelta,this.treeScale),(this.projectionTransform!==h||this.treeScale.x!==f||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),Hl.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,o=!1){const s=this.snapshot,l=s?s.latestValues:{},c={...this.latestValues},d=uu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=Or(),p=s?s.source:void 0,m=this.layout?this.layout.source:void 0,h=p!==m,y=this.getStack(),x=!y||y.members.length<=1,g=!!(h&&!x&&this.options.crossfade===!0&&!this.path.some(hhe));this.animationProgress=0;let b;this.mixTargetDelta=w=>{const S=w/1e3;NP(d.x,i.x,S),NP(d.y,i.y,S),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(af(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mhe(this.relativeTarget,this.relativeTargetOrigin,f,S),b&&Kme(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Or()),Ei(b,this.relativeTarget)),h&&(this.animationValues=c,zme(c,l,this.latestValues,S,g,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(xs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Xn.update(()=>{rh.hasAnimatedSinceResize=!0,this.currentAnimation=ehe(0,wP,{...i,onUpdate:o=>{this.mixTargetDelta(o),i.onUpdate&&i.onUpdate(o)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(wP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:o,target:s,layout:l,latestValues:c}=i;if(!(!o||!s||!l)){if(this!==i&&this.layout&&l&&S6(this.options.animationType,this.layout.layoutBox,l.layoutBox)){s=this.target||Or();const d=bi(this.layout.layoutBox.x);s.x.min=i.target.x.min,s.x.max=s.x.min+d;const f=bi(this.layout.layoutBox.y);s.y.min=i.target.y.min,s.y.max=s.y.min+f}Ei(o,s),du(o,c),rf(this.projectionDeltaWithTransform,this.layoutCorrected,o,c)}}registerSharedNode(i,o){this.sharedNodes.has(i)||this.sharedNodes.set(i,new Gme),this.sharedNodes.get(i).add(o);const s=o.options.initialPromotionConfig;o.promote({transition:s?s.transition:void 0,preserveFollowOpacity:s&&s.shouldPreserveFollowOpacity?s.shouldPreserveFollowOpacity(o):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:o}=this.options;return o?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:o}=this.options;return o?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:o,preserveFollowOpacity:s}={}){const l=this.getStack();l&&l.promote(this,s),i&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetRotation(){const{visualElement:i}=this.options;if(!i)return;let o=!1;const{latestValues:s}=i;if((s.rotate||s.rotateX||s.rotateY||s.rotateZ)&&(o=!0),!o)return;const l={};for(let c=0;c<xP.length;c++){const d="rotate"+xP[c];s[d]&&(l[d]=s[d],i.setStaticValue(d,0))}i.render();for(const c in l)i.setStaticValue(c,l[c]);i.scheduleRender()}getProjectionStyles(i){var o,s;if(!this.instance||this.isSVG)return;if(!this.isVisible)return the;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=nh(i==null?void 0:i.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const h={};return this.options.layoutId&&(h.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,h.pointerEvents=nh(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!Vl(this.latestValues)&&(h.transform=c?c({},""):"none",this.hasProjected=!1),h}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),l.transform=bP(this.projectionDeltaWithTransform,this.treeScale,f),c&&(l.transform=c(f,l.transform));const{x:p,y:m}=this.projectionDelta;l.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,d.animationValues?l.opacity=d===this?(s=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&s!==void 0?s:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:l.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const h in Tg){if(f[h]===void 0)continue;const{correct:y,applyTo:x}=Tg[h],g=l.transform==="none"?f[h]:y(f[h],d);if(x){const b=x.length;for(let w=0;w<b;w++)l[x[w]]=g}else l[h]=g}return this.options.layoutId&&(l.pointerEvents=d===this?nh(i==null?void 0:i.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var o;return(o=i.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(kP),this.root.sharedNodes.clear()}}}function rhe(e){e.updateLayout()}function ahe(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?Oi(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=bi(p);p.min=r[f].min,p.max=p.min+m}):S6(i,n.layoutBox,r)&&Oi(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=bi(r[f]);p.max=p.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const s=uu();rf(s,r,n.layoutBox);const l=uu();o?rf(l,e.applyTransform(a,!0),n.measuredBox):rf(l,r,n.layoutBox);const c=!x6(s);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const h=Or();af(h,n.layoutBox,p.layoutBox);const y=Or();af(y,r,m.layoutBox),w6(h,y)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=h,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:s,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function ihe(e){Hl.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function ohe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function she(e){e.clearSnapshot()}function kP(e){e.clearMeasurements()}function lhe(e){e.isLayoutDirty=!1}function che(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function SP(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function uhe(e){e.resolveTargetDelta()}function dhe(e){e.calcProjection()}function fhe(e){e.resetRotation()}function phe(e){e.removeLeadSnapshot()}function NP(e,t,n){e.translate=ur(t.translate,0,n),e.scale=ur(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function jP(e,t,n,r){e.min=ur(t.min,n.min,r),e.max=ur(t.max,n.max,r)}function mhe(e,t,n,r){jP(e.x,t.x,n.x,r),jP(e.y,t.y,n.y,r)}function hhe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const ghe={duration:.45,ease:[.4,0,.1,1]},CP=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),MP=CP("applewebkit/")&&!CP("chrome/")?Math.round:Er;function AP(e){e.min=MP(e.min),e.max=MP(e.max)}function yhe(e){AP(e.x),AP(e.y)}function S6(e,t,n){return e==="position"||e==="preserve-aspect"&&!mw(vP(t),vP(n),.2)}const vhe=k6({attachResizeListener:(e,t)=>as(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Jv={current:void 0},N6=k6({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Jv.current){const e=new vhe({});e.mount(window),e.setOptions({layoutScroll:!0}),Jv.current=e}return Jv.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),bhe={pan:{Feature:_me},drag:{Feature:Ime,ProjectionNode:N6,MeasureLayout:y6}},xhe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function whe(e){const t=xhe.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function vw(e,t,n=1){const[r,a]=whe(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return o6(o)?parseFloat(o):o}else return sw(a)?vw(a,t,n+1):a}function khe(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(a=>{const i=a.get();if(!sw(i))return;const o=vw(i,r);o&&a.set(o)});for(const a in t){const i=t[a];if(!sw(i))continue;const o=vw(i,r);o&&(t[a]=o,n||(n={}),n[a]===void 0&&(n[a]=i))}return{target:t,transitionEnd:n}}const She=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),j6=e=>She.has(e),Nhe=e=>Object.keys(e).some(j6),EP=e=>e===Dc||e===$t,PP=(e,t)=>parseFloat(e.split(", ")[t]),TP=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const a=r.match(/^matrix3d\((.+)\)$/);if(a)return PP(a[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?PP(i[1],e):0}},jhe=new Set(["x","y","z"]),Che=Lp.filter(e=>!jhe.has(e));function Mhe(e){const t=[];return Che.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Uu={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:TP(4,13),y:TP(5,14)};Uu.translateX=Uu.x;Uu.translateY=Uu.y;const Ahe=(e,t,n)=>{const r=t.measureViewportBox(),a=t.current,i=getComputedStyle(a),{display:o}=i,s={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(c=>{s[c]=Uu[c](r,i)}),t.render();const l=t.measureViewportBox();return n.forEach(c=>{const d=t.getValue(c);d&&d.jump(s[c]),e[c]=Uu[c](l,i)}),e},Ehe=(e,t,n={},r={})=>{t={...t},r={...r};const a=Object.keys(t).filter(j6);let i=[],o=!1;const s=[];if(a.forEach(l=>{const c=e.getValue(l);if(!e.hasValue(l))return;let d=n[l],f=Td(d);const p=t[l];let m;if(Og(p)){const h=p.length,y=p[0]===null?1:0;d=p[y],f=Td(d);for(let x=y;x<h&&p[x]!==null;x++)m?r2(Td(p[x])===m):m=Td(p[x])}else m=Td(p);if(f!==m)if(EP(f)&&EP(m)){const h=c.get();typeof h=="string"&&c.set(parseFloat(h)),typeof p=="string"?t[l]=parseFloat(p):Array.isArray(p)&&m===$t&&(t[l]=p.map(parseFloat))}else f!=null&&f.transform&&m!=null&&m.transform&&(d===0||p===0)?d===0?c.set(m.transform(d)):t[l]=f.transform(p):(o||(i=Mhe(e),o=!0),s.push(l),r[l]=r[l]!==void 0?r[l]:t[l],c.jump(p))}),s.length){const l=s.indexOf("height")>=0?window.pageYOffset:null,c=Ahe(t,e,s);return i.length&&i.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),dy&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:t,transitionEnd:r}};function Phe(e,t,n,r){return Nhe(t)?Ehe(e,t,n,r):{target:t,transitionEnd:r}}const The=(e,t,n,r)=>{const a=khe(e,t,r);return t=a.target,r=a.transitionEnd,Phe(e,t,n,r)},bw={current:null},C6={current:!1};function Dhe(){if(C6.current=!0,!!dy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>bw.current=e.matches;e.addListener(t),t()}else bw.current=!1}function Ohe(e,t,n){const{willChange:r}=t;for(const a in t){const i=t[a],o=n[a];if(ni(i))e.addValue(a,i),Fg(r)&&r.add(a);else if(ni(o))e.addValue(a,zu(i,{owner:e})),Fg(r)&&r.remove(a);else if(o!==i)if(e.hasValue(a)){const s=e.getValue(a);!s.hasAnimated&&s.set(i)}else{const s=e.getStaticValue(a);e.addValue(a,zu(s!==void 0?s:i,{owner:e}))}}for(const a in n)t[a]===void 0&&e.removeValue(a);return t}const DP=new WeakMap,M6=Object.keys(Yf),Ihe=M6.length,OP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],_he=YS.length;class Lhe{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Xn.render(this.render,!1,!0);const{latestValues:s,renderState:l}=i;this.latestValues=s,this.baseTarget={...s},this.initialValues=n.initial?{...s}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.isControllingVariants=py(n),this.isVariantNode=dF(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const p=d[f];s[f]!==void 0&&ni(p)&&(p.set(s[f],!1),Fg(c)&&c.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,DP.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),C6.current||Dhe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:bw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){DP.delete(this.current),this.projection&&this.projection.unmount(),xs(this.notifyUpdate),xs(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Tc.has(t),a=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Xn.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{a(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,a,i){let o,s;for(let l=0;l<Ihe;l++){const c=M6[l],{isEnabled:d,Feature:f,ProjectionNode:p,MeasureLayout:m}=Yf[c];p&&(o=p),d(n)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),m&&(s=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:d,dragConstraints:f,layoutScroll:p,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!d||f&&lu(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:m})}return s}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Or()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<OP.length;r++){const a=OP[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i=t["on"+a];i&&(this.propEventSubscriptions[a]=this.on(a,i))}this.prevMotionValues=Ohe(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<_he;r++){const a=YS[r],i=this.props[a];(Gf(i)||i===!1)&&(n[a]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=zu(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,a=typeof r=="string"||typeof r=="object"?(n=n2(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!ni(i)?i:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new f2),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class A6 extends Lhe{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:a},i){let o=Jpe(r,t||{},this);if(a&&(n&&(n=a(n)),r&&(r=a(r)),o&&(o=a(o))),i){Zpe(this,r,o);const s=The(this,r,o,n);n=s.transitionEnd,r=s.target}return{transition:t,transitionEnd:n,...r}}}function Fhe(e){return window.getComputedStyle(e)}class $he extends A6{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Tc.has(n)){const r=s2(n);return r&&r.default||0}else{const r=Fhe(t),a=(gF(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return h6(t,n)}build(t,n,r,a){ZS(t,n,r,a.transformTemplate)}scrapeMotionValuesFromProps(t,n){return t2(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ni(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,a){kF(t,n,r,a)}}class Rhe extends A6{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Tc.has(n)){const r=s2(n);return r&&r.default||0}return n=SF.has(n)?n:KS(n),t.getAttribute(n)}measureInstanceViewportBox(){return Or()}scrapeMotionValuesFromProps(t,n){return jF(t,n)}build(t,n,r,a){JS(t,n,r,this.isSVGTag,a.transformTemplate)}renderInstance(t,n,r,a){NF(t,n,r,a)}mount(t){this.isSVGTag=e2(t.tagName),super.mount(t)}}const Bhe=(e,t)=>XS(e)?new Rhe(t,{enableHardwareAcceleration:!1}):new $he(t,{enableHardwareAcceleration:!0}),zhe={layout:{ProjectionNode:N6,MeasureLayout:y6}},Uhe={...mme,...Ife,...bhe,...zhe},Ao=Ude((e,t)=>wfe(e,t,Uhe,Bhe));function Vhe({isOpen:e,onClose:t,searchValue:n,searchFocused:r,searchResults:a,onSearchChange:i,onSearchFocus:o,onSearchBlur:s,onSearchEnter:l,onSearchResultMouseDown:c,renderHighlightedMatch:d,searchRef:f,tocItems:p,activeTocId:m,onTocClick:h,contentRef:y,children:x}){return e?u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-lg",onClick:g=>g.target===g.currentTarget&&t(),children:u.jsxs("div",{className:"proof-of-work-modal relative w-full max-w-4xl bg-[#10151b]/95 border border-white/10 rounded-xl shadow-[0_20px_60px_rgba(0,0,0,0.55)] p-6 overflow-hidden",children:[u.jsxs("div",{className:"pointer-events-none absolute inset-0 opacity-60",children:[u.jsx("div",{className:"absolute -top-24 -right-24 h-56 w-56 rounded-full bg-cyan-500/8 blur-3xl"}),u.jsx("div",{className:"absolute -bottom-24 -left-16 h-64 w-64 rounded-full bg-slate-500/10 blur-3xl"})]}),u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-cyan-300/70",children:"Proof of Work"}),u.jsx("div",{className:"text-xl font-semibold text-white mt-1",children:"Metrics Specification"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"relative",ref:f,children:[u.jsx("input",{type:"text",value:n,onChange:g=>i(g.target.value),onFocus:o,onBlur:g=>s(g.relatedTarget),onKeyDown:g=>{g.key==="Enter"&&l()},placeholder:"Search spec...",className:"proof-of-work-search w-56 rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/30"}),r&&a.length>0&&n.trim().length>=2&&u.jsx("div",{className:"proof-of-work-search-results absolute right-0 mt-2 w-80 max-h-64 overflow-y-auto rounded-lg border border-white/10 bg-[#0d1218]/95 shadow-2xl z-10",children:a.map((g,b)=>u.jsxs("button",{className:"w-full text-left px-3 py-2 text-xs text-gray-200 hover:bg-white/10 border-b border-white/5 last:border-b-0",onMouseDown:w=>{w.preventDefault(),c(g)},children:[u.jsx("div",{className:"text-[10px] uppercase tracking-wide text-gray-500 mb-1",children:g.section}),u.jsx("div",{className:"truncate",children:d(g.text,n)})]},`${g.hitId}-${b}-${g.text}`))})]}),u.jsx("button",{onClick:t,className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":"Close proof of work",children:u.jsx(Ba,{className:"w-5 h-5"})})]})]}),u.jsx("div",{className:"h-[65vh]",children:u.jsxs("div",{className:"grid grid-cols-[230px_1fr] gap-4 h-full min-h-0",children:[u.jsxs("div",{className:"proof-of-work-sidebar h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-white/5 p-3",children:[u.jsx("div",{className:"proof-of-work-toc-header text-[10px] uppercase tracking-[0.3em] text-gray-400 mb-2",children:"On This Page"}),u.jsxs("div",{className:"space-y-1",children:[p.length===0&&u.jsx("div",{className:"px-2 py-1 text-[11px] text-gray-500",children:"Loading sections"}),p.map((g,b)=>{const w=g.id===m;return u.jsxs("button",{"data-toc-active":w?"true":"false",className:`proof-of-work-toc-item ${g.level===1?"proof-of-work-toc-item--l1":g.level===2?"proof-of-work-toc-item--l2":"proof-of-work-toc-item--l3"} w-full text-left flex items-center gap-2 min-w-0 transition-colors ${w?"proof-of-work-toc-item--active !text-cyan-300 hover:!text-cyan-300":g.level===1?"text-white hover:text-white":"text-gray-400 hover:text-gray-200"}`,onClick:()=>h(g),children:[u.jsx("span",{className:`proof-of-work-toc-dot ${w?"!bg-cyan-300":""}`,"aria-hidden":"true"}),u.jsx("span",{className:"proof-of-work-toc-label text-[13px] font-medium truncate min-w-0",children:g.text})]},`${g.id}-${g.level}-${b}`)})]})]}),u.jsx("div",{className:"proof-of-work-content h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-black/30 p-4",ref:y,id:"metrics-spec-content",children:u.jsx("div",{className:"space-y-4 text-sm text-gray-200",children:x})})]})})]})}):null}const Fl="border border-white/10 rounded-2xl shadow-xl backdrop-blur-md glass-card",eb="arcbridge_web_theme_override",IP="__default__",Hhe=e=>{if(typeof document>"u")return null;const t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=document.cookie.match(new RegExp(`(?:^|; )${t}=([^;]*)`));if(!n)return null;try{return decodeURIComponent(n[1])}catch{return n[1]}},Whe=(e,t,n=365)=>{if(typeof document>"u")return;const r=Math.max(0,Math.floor(n*24*60*60));document.cookie=`${e}=${encodeURIComponent(t)}; Max-Age=${r}; Path=/; SameSite=Lax`},qhe=e=>{typeof document>"u"||(document.cookie=`${e}=; Max-Age=0; Path=/; SameSite=Lax`)},_P=(e,t)=>{try{const n=new Date(e),r=new Date(t);return Number.isNaN(n.getTime())||Number.isNaN(r.getTime())?"":`${n.toLocaleString()} - ${r.toLocaleString()}`}catch{return""}},Khe=e=>{const t=new Date(e);if(Number.isNaN(t.getTime()))return"Raid";const n=`${t.getMonth()+1}/${t.getDate()}/${String(t.getFullYear()).slice(-2)}`,r=t.toLocaleDateString(void 0,{weekday:"long"}),a=t.getHours();let i="Night";return a>=5&&a<12?i="Morning":a>=12&&a<17?i="Afternoon":a>=17&&a<21&&(i="Evening"),`${n} - ${r} ${i} Raid`},LP=e=>e.toLowerCase().trim().replace(/\[(.*?)\]\(.*?\)/g,"$1").replace(/`([^`]+)`/g,"$1").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),Ghe=({slices:e})=>{const t=2*Math.PI*18,n=e.reduce((a,i)=>a+(i.value||0),0);let r=0;return u.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",children:[u.jsx("circle",{cx:"24",cy:"24",r:18,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),e.map((a,i)=>{const o=a.value||0,s=n>0?o/n*t:0,l=`${s} ${t-s}`,c=t-r;return r+=s,u.jsx("circle",{cx:"24",cy:"24",r:18,stroke:a.color,strokeWidth:"6",fill:"none",strokeLinecap:"butt",strokeDasharray:l,strokeDashoffset:c,transform:"rotate(-90 24 24)"},`${i}-${a.color}`)})]})},Yhe=({value:e})=>{const t=typeof e=="number"?Math.min(Math.max(e,0),1):null,n=18,r=2*Math.PI*n,a=t===null?r:r-t*r;return u.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",children:[u.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),u.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(16,185,129,0.9)",strokeWidth:"6",fill:"none",strokeLinecap:"round",strokeDasharray:r,strokeDashoffset:a,transform:"rotate(-90 24 24)"}),u.jsx("text",{x:"24",y:"27",textAnchor:"middle",fontSize:"10",fill:"#e2e8f0",children:t===null?"--":`${Math.round(t*100)}%`})]})};function Xhe(){var e;const[t,n]=v.useState(null),[r,a]=v.useState(null),[i,o]=v.useState(null),[s,l]=v.useState(null),[c,d]=v.useState(""),[f,p]=v.useState(null),[m,h]=v.useState(null),[y,x]=v.useState(!1),[g,b]=v.useState(!1),[w,S]=v.useState("classic"),[C,j]=v.useState("classic"),[M,P]=v.useState(Jm.id),[$,E]=v.useState(null),[_,D]=v.useState(!1),[J,Q]=v.useState(!1),[Y,fe]=v.useState(""),[K,I]=v.useState(""),[te,k]=v.useState([]),[R,A]=v.useState(!1),[N,B]=v.useState("overview"),[G,V]=v.useState({overview:!0,roster:!1,offense:!1,defense:!1,other:!1}),H=v.useRef(null),X=v.useRef(null),O=v.useRef(null),ee=v.useRef(null),me=v.useRef(null),L=v.useRef(new Map),ne=v.useRef(null),z=v.useMemo(()=>{let W=window.location.pathname||"/";const ce=/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host);return W.endsWith("/index.html")&&(W=W.slice(0,-11)),W.includes("/reports/")&&(W=W.replace(/\/reports\/[^/]+\/?$/,"")),ce&&(W=W.replace(/^\/web\/web(?=\/|$)/,"/web")),W.endsWith("/")||(W=`${W}/`),W},[]),F=v.useMemo(()=>/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/"),[]),oe=v.useMemo(()=>{const W=[z,"./","/"],ce=[];return W.forEach(Me=>{let Xe=Me||"/";Xe!=="./"&&!Xe.endsWith("/")&&(Xe=`${Xe}/`),ce.includes(Xe)||ce.push(Xe)}),ce},[z,F]),[ye,Qe]=v.useState(oe[0]||"/"),le=W=>{var ce;return typeof W=="string"||typeof W=="number"?String(W):Array.isArray(W)?W.map(le).join(""):W&&typeof W=="object"&&"props"in W?le((ce=W.props)==null?void 0:ce.children):""},qe=W=>{const ce=LP(W||"section")||"section",Me=L.current,Xe=(Me.get(ce)??0)+1;return Me.set(ce,Xe),Xe===1?ce:`${ce}-${Xe}`},Pe=v.useMemo(()=>{const W=zv.split(`
`),ce=new Map,Me=[],Xe=_t=>{const jt=LP(_t||"section")||"section",ft=(ce.get(jt)??0)+1;return ce.set(jt,ft),ft===1?jt:`${jt}-${ft}`};for(const _t of W){const jt=/^(#{1,3})\s+(.*)\s*$/.exec(_t);if(!jt)continue;const ft=jt[1].length,un=jt[2].trim();un&&Me.push({level:ft,text:un,id:Xe(un)})}return Me},[zv]),ct=(W,ce)=>{const Me=W==="./"?"./":W.endsWith("/")?W:`${W}/`,Xe=String(ce||"").replace(/^\/+/,"");return`${Me}${Xe}`};v.useEffect(()=>{const W=Hhe(eb);if(W)try{const ce=JSON.parse(W),Me=typeof(ce==null?void 0:ce.themeId)=="string"?ce.themeId:null;Me&&Ad.some(Xe=>Xe.id===Me)&&E(Me)}catch{}},[]),v.useEffect(()=>{const W=$||M,ce=Ad.find(Me=>Me.id===W)||Jm;p(ce)},[$,M]),v.useEffect(()=>{if(!$){S(C);return}if($===Qm){S("matte");return}if($==="CRT"){S("crt");return}S("classic")},[$,C]),v.useEffect(()=>{Qe(oe[0]||"/");let W=!0;return(async()=>{for(const ce of oe)try{if((await fetch(ct(ce,"ui-theme.json"),{cache:"no-store"})).ok){W&&Qe(ce);return}}catch{}})(),()=>{W=!1}},[oe]);const en=(W,ce)=>{const Me=ce.trim();if(!Me)return W;const Xe=W.toLowerCase(),_t=Me.toLowerCase(),jt=Xe.indexOf(_t);if(jt===-1)return W;const ft=W.slice(0,jt),un=W.slice(jt,jt+Me.length),Dn=W.slice(jt+Me.length);return u.jsxs(u.Fragment,{children:[ft,u.jsx("mark",{className:"rounded bg-cyan-500/30 px-1 text-cyan-100",children:un}),Dn]})},En=(W,ce)=>{const Me=X.current;if(!Me)return;let Xe=Me.querySelector(`[data-search-hit="${W}"]`);if(!Xe&&ce){const _t=ce.trim().replace(/\s+/g," "),jt=Array.from(Me.querySelectorAll("h1, h2, h3, p, li, code"));Xe=jt.find(ft=>(ft.textContent||"").trim().replace(/\s+/g," ")===_t)||null,Xe||(Xe=jt.find(ft=>(ft.textContent||"").toLowerCase().includes(_t.toLowerCase()))||null)}Xe&&requestAnimationFrame(()=>{const _t=Me.getBoundingClientRect(),jt=Xe.getBoundingClientRect(),ft=Math.max(0,Me.scrollTop+(jt.top-_t.top)-12);Me.scrollTop=ft,Xe.classList.add("ring-2","ring-cyan-400/70","bg-cyan-500/10"),me.current&&window.clearTimeout(me.current),me.current=window.setTimeout(()=>{Xe.classList.remove("ring-2","ring-cyan-400/70","bg-cyan-500/10")},1600)})},Br=W=>{const ce=X.current,Me=W.trim().toLowerCase();if(!ce||Me.length<2){k([]);return}const Xe=Array.from(ce.querySelectorAll("h1, h2, h3, p, li, code"));Xe.forEach(ft=>ft.removeAttribute("data-search-hit"));const _t=[];let jt=0;Xe.forEach((ft,un)=>{const Dn=(ft.textContent||"").trim();if(Dn&&Dn.toLowerCase().includes(Me)){let Nr="";for(let Re=un;Re>=0;Re-=1){const tt=Xe[Re];if(tt&&["H1","H2","H3"].includes(tt.tagName)){Nr=(tt.textContent||"").trim();break}}ft.setAttribute("data-search-hit",String(jt)),_t.push({index:un,text:Dn,section:Nr||"Unlabeled Section",hitId:jt}),jt+=1}}),k(_t.slice(0,12))};v.useEffect(()=>{var W;if(!J)return;fe(((W=Pe[0])==null?void 0:W.id)||"");const ce=Me=>{var Xe;const _t=Me.target;_t&&((Xe=O.current)!=null&&Xe.contains(_t)||(A(!1),k([])))};return window.addEventListener("mousedown",ce),()=>{window.removeEventListener("mousedown",ce)}},[J,Pe]),v.useEffect(()=>{if(!J){fe("");return}const W=X.current;if(!W)return;let ce=0;const Me=()=>{var _t;const jt=Array.from(W.querySelectorAll("[data-heading-id]"));if(jt.length===0)return;const ft=W.getBoundingClientRect().top+18,un=jt.map((Gt,hr)=>({index:hr,id:Gt.dataset.headingId||Gt.id||"",top:Gt.getBoundingClientRect().top})).filter(Gt=>!!Gt.id);if(un.length===0)return;let Dn=0,Nr=!1;for(const Gt of un){if(Gt.top<=ft){Dn=Gt.index,Nr=!0;continue}Nr||(Dn=Gt.index);break}W.scrollTop+W.clientHeight>=W.scrollHeight-2&&(Dn=Math.max(0,un.length-1));const Re=Pe[Dn],tt=((_t=un[Dn])==null?void 0:_t.id)||"",Wt=(Re==null?void 0:Re.id)||tt;Wt&&fe(Wt)};Me();const Xe=()=>{ce&&cancelAnimationFrame(ce),ce=requestAnimationFrame(Me)};return W.addEventListener("scroll",Xe,{passive:!0}),window.addEventListener("resize",Xe),()=>{ce&&cancelAnimationFrame(ce),W.removeEventListener("scroll",Xe),window.removeEventListener("resize",Xe)}},[J,Pe]);const ue=v.useMemo(()=>[{id:"overview",label:"Overview",icon:mz,sectionIds:["overview","kdr","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","timeline","map-distribution","squad-composition"],items:[{id:"kdr",label:"KDR",icon:ac},{id:"fight-breakdown",label:"Fight Breakdown",icon:Yd},{id:"top-players",label:"Top Players",icon:ac},{id:"top-skills-outgoing",label:"Top Skills",icon:m1},{id:"squad-composition",label:"Classes",icon:Ar},{id:"timeline",label:"Squad vs Enemy Size",icon:Ar},{id:"map-distribution",label:"Map Distribution",icon:y1}]},{id:"roster",label:"Roster Intel",icon:Sf,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance",icon:Sf},{id:"squad-comp-fight",label:"Squad Comp",icon:Ar},{id:"fight-comp",label:"Fight Comp",icon:Yd}]},{id:"offense",label:"Offensive Stats",icon:Yd,sectionIds:["offense-detailed","player-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:Ph},{id:"player-breakdown",label:"Player Breakdown",icon:g1},{id:"spike-damage",label:"Spike Damage",icon:Nf},{id:"conditions-outgoing",label:"Conditions",icon:n0}]},{id:"defense",label:"Defensive Stats",icon:Eu,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","boon-output","support-detailed","healing-stats"],items:[{id:"defense-detailed",label:"Defense Detailed",icon:Eu},{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:Nf},{id:"defense-mitigation",label:"Damage Mitigation",icon:w1},{id:"boon-output",label:"Boon Output",icon:x1},{id:"support-detailed",label:"Support Detailed",icon:v1},{id:"healing-stats",label:"Healing Stats",icon:aD}]},{id:"other",label:"Other Metrics",icon:r0,sectionIds:["special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"special-buffs",label:"Special Buffs",icon:Eh},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:k1},{id:"skill-usage",label:"Skill Usage",icon:h1},{id:"apm-stats",label:"APM Breakdown",icon:b1}]}],[]),De=v.useMemo(()=>{const W=new Map;return ue.forEach(ce=>{W.set(ce.id.toLowerCase(),ce.id),(ce.sectionIds||[]).forEach(Me=>W.set(String(Me).toLowerCase(),ce.id)),(ce.items||[]).forEach(Me=>W.set(String(Me.id).toLowerCase(),ce.id))}),W.set("report-top","overview"),W.set("overview","overview"),W.set("kdr","overview"),W},[ue]),dt=v.useMemo(()=>ue.find(W=>W.id===N)||ue[0],[ue,N]),tn=v.useMemo(()=>{const W=((dt==null?void 0:dt.sectionIds)||((dt==null?void 0:dt.items)||[]).map(ce=>ce.id)).map(ce=>ce==="kdr"?"overview":ce);return new Set(W)},[dt]),fn=W=>{const ce=W==="kdr"?"overview":W,Me=ce==="overview"?"report-top":ce,Xe=document.getElementById(Me);if(!Xe||Xe.getAttribute("data-section-visible")==="false"||!Xe.offsetParent)return!1;const _t=Xe.getBoundingClientRect();if(_t.height<=0)return!1;let jt=0;if(Me==="stats-view-top"){const un=document.getElementById("report-top");un&&(jt=un.getBoundingClientRect().height+12)}const ft=_t.top+window.scrollY-12-jt;return window.scrollTo({top:Math.max(0,ft),behavior:"smooth"}),history.replaceState&&history.replaceState(null,"",`#${Me}`),!0},Sr=(W,ce=0)=>{fn(W)||ce>=12||window.setTimeout(()=>{requestAnimationFrame(()=>Sr(W,ce+1))},40)};v.useEffect(()=>{if(!t)return;const W=requestAnimationFrame(()=>{Array.from(document.querySelectorAll("[data-nav-submenu-content]")).forEach(ce=>{ce.scrollHeight})});return()=>cancelAnimationFrame(W)},[t]),v.useEffect(()=>{const W=ne.current;if(!W)return;let ce=0;const Me=()=>{if(fn(W)){ne.current=null;return}if(ce+=1,ce>=20){ne.current=null;return}window.setTimeout(()=>requestAnimationFrame(Me),40)};requestAnimationFrame(Me)},[N]),v.useEffect(()=>{const W=()=>{const ce=(window.location.hash||"").replace(/^#/,"").trim();if(!ce)return;let Me=ce;try{Me=decodeURIComponent(ce)}catch{Me=ce}const Xe=Me.toLowerCase(),_t=De.get(Xe);_t&&(B(_t),V(()=>{const jt={};return ue.forEach(ft=>{jt[ft.id]=ft.id===_t}),jt}),ne.current=Xe==="report-top"?"kdr":Xe)};return W(),window.addEventListener("hashchange",W),()=>{window.removeEventListener("hashchange",W)}},[De,ue]);const sr=w==="matte",Hn=f??Jm,zr=Hn.rgb,Qr=sr?"#d8e1eb":"var(--accent)",yn={"--accent":`rgb(${zr})`,"--accent-rgb":zr,"--accent-soft":`rgba(${zr}, 0.32)`,"--accent-strong":`rgba(${zr}, 0.95)`,"--accent-border":`rgba(${zr}, 0.4)`,"--accent-glow":`rgba(${zr}, 0.18)`,"--accent-glow-soft":`rgba(${zr}, 0.08)`},sn=w==="modern"||w==="matte",ha=Hn.pattern?sr?void 0:sn?`linear-gradient(180deg, rgba(14, 18, 26, 0.72), rgba(18, 24, 34, 0.78)), ${Hn.pattern}`:Hn.pattern:void 0,nn=sr?{backgroundImage:"none",backgroundColor:"var(--bg-card)"}:{backgroundImage:sn?"linear-gradient(135deg, rgba(var(--accent-rgb), 0.2), rgba(var(--accent-rgb), 0.06) 70%)":"linear-gradient(135deg, rgba(var(--accent-rgb), 0.26), rgba(var(--accent-rgb), 0.08) 70%)"};v.useEffect(()=>{var W;let ce=!0;const Me=new URLSearchParams(window.location.search).get("report")||((W=window.location.pathname.match(/\/reports\/([^/]+)\/?$/))==null?void 0:W[1])||null,Xe=Me?`${z}reports/${Me}/report.json`:`${z}report.json`;Me&&l(Xe);const _t=ft=>{var un,Dn,Nr;const Re=new Set((((un=ft==null?void 0:ft.meta)==null?void 0:un.commanders)||[]).map(Wt=>String(Wt)));if(Re.size===0)return ft;const tt=ft.stats;return(Dn=tt==null?void 0:tt.leaderboards)!=null&&Dn.closestToTag&&(tt.leaderboards.closestToTag=tt.leaderboards.closestToTag.map(Wt=>Re.has(String(Wt==null?void 0:Wt.account))?{...Wt,value:0}:Wt)),(Nr=tt==null?void 0:tt.closestToTag)!=null&&Nr.player&&Re.has(String(tt.closestToTag.player))&&(tt.closestToTag={...tt.closestToTag,value:0}),ft},jt=ft=>{var un,Dn,Nr,Re,tt;const Wt=ft==null?void 0:ft.stats;if(!Wt||typeof Wt!="object")return ft;const Gt=Array.isArray((un=Wt==null?void 0:Wt.leaderboards)==null?void 0:un.downContrib)?Wt.leaderboards.downContrib:[];if(!Gt.length)return ft;const hr=Gt.map(jr=>({...jr,value:Number((jr==null?void 0:jr.value)??0)})).filter(jr=>Number.isFinite(jr.value)).sort((jr,Vr)=>Vr.value-jr.value||String((jr==null?void 0:jr.account)||"").localeCompare(String((Vr==null?void 0:Vr.account)||"")))[0];return hr&&(Wt.maxDownContrib={...Wt.maxDownContrib||{},value:Number(hr.value||0),player:String(hr.account||((Dn=Wt.maxDownContrib)==null?void 0:Dn.player)||"-"),count:Number(hr.count||((Nr=Wt.maxDownContrib)==null?void 0:Nr.count)||0),profession:String(hr.profession||((Re=Wt.maxDownContrib)==null?void 0:Re.profession)||"Unknown"),professionList:Array.isArray(hr.professionList)?hr.professionList:((tt=Wt.maxDownContrib)==null?void 0:tt.professionList)||[]}),ft};return fetch(Xe,{cache:"no-store"}).then(ft=>ft.ok?ft.json():Promise.reject()).then(ft=>{var un,Dn,Nr;if(!ce)return;const Re=jt(_t(ft));n(Re);const tt=(un=Re==null?void 0:Re.stats)==null?void 0:un.uiTheme;tt==="modern"||tt==="classic"||tt==="crt"||tt==="matte"?j(tt):((Dn=Re==null?void 0:Re.stats)==null?void 0:Dn.webThemeId)===Qm&&j("matte"),typeof((Nr=Re==null?void 0:Re.stats)==null?void 0:Nr.webThemeId)=="string"&&Re.stats.webThemeId&&P(Re.stats.webThemeId)}).catch(()=>{if(Me){if(!ce)return;o("Report not found yet. It may still be deploying.")}fetch(`${z}reports/index.json`,{cache:"no-store"}).then(ft=>ft.ok?ft.json():Promise.reject()).then(ft=>{ce&&a(Array.isArray(ft)?ft:[])}).catch(()=>{ce&&o("No report data found.")})}),()=>{ce=!1}},[z]),v.useEffect(()=>{if(t){const W=t.meta.dateLabel||_P(t.meta.dateStart,t.meta.dateEnd);document.title=W?`ArcBridge  ${t.meta.title}  ${W}`:`ArcBridge  ${t.meta.title}`;return}document.title="ArcBridge Reports"},[t]),v.useEffect(()=>{var W;const ce=(W=t==null?void 0:t.stats)==null?void 0:W.webThemeId;typeof ce=="string"&&ce&&P(ce)},[t]),v.useEffect(()=>{const W=document.body;W.classList.add("web-report"),W.classList.remove("theme-classic","theme-modern","theme-crt","theme-matte"),sr?W.classList.add("theme-matte"):w==="modern"?W.classList.add("theme-modern"):w==="crt"?W.classList.add("theme-crt"):W.classList.add("theme-classic")},[w,sr]),v.useEffect(()=>{var W;if(F&&(W=t==null?void 0:t.stats)!=null&&W.webThemeId)return;let ce=!0;return fetch(ct(ye,"theme.json"),{cache:"no-store"}).then(Me=>Me.ok?Me.json():Promise.reject()).then(Me=>{ce&&typeof(Me==null?void 0:Me.id)=="string"&&Me.id&&P(Me.id)}).catch(()=>{}),()=>{ce=!1}},[ye,F,t]),v.useEffect(()=>{var W,ce;const Me=(W=t==null?void 0:t.stats)==null?void 0:W.webThemeId,Xe=(ce=t==null?void 0:t.stats)==null?void 0:ce.uiTheme;if((Xe==="modern"||Xe==="classic"||Xe==="crt"||Xe==="matte")&&!(Me===Qm&&Xe!=="matte"||Me==="CRT"&&Xe!=="crt"))return;let _t=!0;return fetch(ct(ye,"ui-theme.json"),{cache:"no-store"}).then(jt=>jt.ok?jt.json():Promise.reject()).then(jt=>{if(!_t)return;const ft=jt==null?void 0:jt.theme;(ft==="modern"||ft==="classic"||ft==="crt"||ft==="matte")&&j(ft)}).catch(()=>{}),()=>{_t=!1}},[ye,t]),v.useEffect(()=>{let W=!0;return fetch(ct(ye,"logo.json"),{cache:"no-store"}).then(ce=>ce.ok?ce.json():Promise.reject()).then(ce=>{if(!W)return;const Me="svg/ArcBridge.svg",Xe=ce!=null&&ce.path?String(ce.path):Me,_t=ce!=null&&ce.updatedAt?String(ce.updatedAt):"",jt=ct(ye,Xe),ft=_t?`${jt}?v=${encodeURIComponent(_t)}`:jt;h(ft),x(!(ce!=null&&ce.path)||Xe===Me)}).catch(()=>{W&&(h(null),x(!1))}),()=>{W=!1}},[ye]);const Pr=v.useMemo(()=>r?[...r].sort((W,ce)=>{const Me=new Date(W.dateEnd||W.dateStart).getTime();return new Date(ce.dateEnd||ce.dateStart).getTime()-Me}):[],[r]),Ur=v.useMemo(()=>{if(!Pr.length)return[];const W=c.trim().toLowerCase();return W?Pr.filter(ce=>{var Me;const Xe=((Me=ce.commanders)==null?void 0:Me.join(" "))||"";return`${ce.title} ${Xe} ${ce.dateLabel}`.toLowerCase().includes(W)}):Pr},[Pr,c]),ad=W=>{if(!W){qhe(eb);return}Whe(eb,JSON.stringify({themeId:W}))},Oc=W=>{const ce=W===IP?null:W;ce&&!Ad.some(Me=>Me.id===ce)||(E(ce),ad(ce),D(!1))};v.useEffect(()=>{const W=Me=>{ee.current&&(ee.current.contains(Me.target)||D(!1))},ce=Me=>{Me.key==="Escape"&&D(!1)};return window.addEventListener("mousedown",W),window.addEventListener("keydown",ce),()=>{window.removeEventListener("mousedown",W),window.removeEventListener("keydown",ce)}},[]);const Cl=v.useMemo(()=>{if(!$)return"Default";const W=Ad.find(ce=>ce.id===$);return(W==null?void 0:W.label)||"Default"},[$]),Ts=u.jsxs("div",{className:"relative flex items-center gap-2",ref:ee,children:[u.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-400 whitespace-nowrap",children:"Theme"}),u.jsxs("button",{type:"button",onClick:()=>D(W=>!W),className:"w-[152px] inline-flex items-center justify-between gap-2 rounded-full border px-3 py-1 text-[9px] uppercase tracking-widest text-white transition-colors focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--accent-border)"},children:[u.jsx("span",{className:"truncate text-left",children:Cl}),u.jsx("span",{className:`transition-transform ${_?"rotate-180":""}`,children:""})]}),_&&u.jsxs("div",{className:"absolute right-0 bottom-[calc(100%+6px)] z-20 w-[240px] overflow-y-auto rounded-xl border shadow-2xl backdrop-blur-xl",style:{maxHeight:"240px",backgroundColor:"color-mix(in srgb, var(--bg-card) 92%, black)",borderColor:"var(--accent-border)"},children:[u.jsx("button",{type:"button",onClick:()=>Oc(IP),className:"w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] text-gray-200 hover:bg-white/10 transition-colors",children:"Default"}),Ad.map(W=>u.jsx("button",{type:"button",onClick:()=>Oc(W.id),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${$===W.id?"text-[color:var(--accent)]":"text-gray-200"}`,children:W.label},W.id))]})]}),Ml=u.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-[11px] text-gray-500",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-2",children:[u.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.35em] text-gray-400",children:"Legal Notice"}),u.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[u.jsx("div",{className:"min-w-[160px]",children:Ts}),u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"GitHub"}),u.jsx("a",{href:"https://discord.gg/UjzMXMGXEg",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Discord"}),u.jsx("a",{href:"#proof-of-work",onClick:W=>{W.preventDefault(),Q(!0)},className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Proof of Work"})]})]}),u.jsx("p",{children:"ArcBridge is free software by harasho: you can redistribute it and/or modify it under the terms of the GNU General Public License v3.0 only. This program comes with ABSOLUTELY NO WARRANTY."}),u.jsxs("p",{className:"mt-2",children:["Class Icons, artwork, and skill icons are created and owned by Arenanet as detailed in their"," ",u.jsx("a",{href:"https://www.arena.net/en/legal/content-terms-of-use",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"Content Terms of Use"}),". I do not own or profit from this work in any way. Assets were obtained from asset packs distributed by Arenanet. The official statement from the Content Terms of Use:"]}),u.jsx("p",{className:"mt-2",children:" ArenaNet LLC. All rights reserved. NCSOFT, ArenaNet, Guild Wars, Guild Wars 2, GW2, Heart of Thorns, Path of Fire, End of Dragons, Secrets of the Obscure, Janthir Wilds, Visions of Eternity, and all associated logos, designs, and composite marks are trademarks or registered trademarks of NCSOFT Corporation. All other trademarks are the property of their respective owners."}),u.jsxs("p",{className:"mt-2",children:["See the"," ",u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/LICENSE",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"LICENSE"})," ","and"," ",u.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/THIRD_PARTY_NOTICES.md",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"THIRD_PARTY_NOTICES.md"})," ","files for full terms and upstream attributions."]})]}),Vo=u.jsxs(Vhe,{isOpen:J,onClose:()=>Q(!1),searchValue:K,searchFocused:R,searchResults:te,onSearchChange:W=>{I(W),requestAnimationFrame(()=>Br(W))},onSearchFocus:()=>{A(!0),requestAnimationFrame(()=>Br(K))},onSearchBlur:W=>{var ce;W&&(ce=O.current)!=null&&ce.contains(W)||A(!1)},onSearchEnter:()=>{te.length>0&&En(te[0].hitId,te[0].text)},onSearchResultMouseDown:W=>{A(!0),En(W.hitId,W.text)},renderHighlightedMatch:en,searchRef:O,tocItems:Pe,activeTocId:Y,onTocClick:W=>{const ce=X.current;if(!ce)return;let Me=ce.querySelector(`[data-heading-id="${W.id}"]`);if(!Me){const Xe=W.text.trim().replace(/\s+/g," ");Me=Array.from(ce.querySelectorAll("h1, h2, h3")).find(_t=>(_t.textContent||"").trim().replace(/\s+/g," ")===Xe)||null}Me&&(fe(W.id),requestAnimationFrame(()=>{const Xe=ce.getBoundingClientRect(),_t=Me.getBoundingClientRect(),jt=ce.scrollTop+(_t.top-Xe.top)-12;ce.scrollTop=Math.max(0,jt)}))},contentRef:X,children:[(L.current=new Map,null),u.jsx(vce,{remarkPlugins:[Tde],components:{h1:({children:W})=>{const ce=le(W),Me=qe(ce);return u.jsx("h1",{id:Me,"data-heading-id":Me,className:"text-2xl font-bold text-white scroll-mt-6",children:W})},h2:({children:W})=>{const ce=le(W),Me=qe(ce);return u.jsx("h2",{id:Me,"data-heading-id":Me,className:"text-xl font-semibold text-white scroll-mt-6",children:W})},h3:({children:W})=>{const ce=le(W),Me=qe(ce);return u.jsx("h3",{id:Me,"data-heading-id":Me,className:"text-lg font-semibold text-white scroll-mt-6",children:W})},p:({children:W})=>u.jsx("p",{className:"leading-6 text-gray-200",children:W}),ul:({children:W})=>u.jsx("ul",{className:"list-disc pl-5 space-y-1 text-gray-200",children:W}),ol:({children:W})=>u.jsx("ol",{className:"list-decimal pl-5 space-y-1 text-gray-200",children:W}),li:({children:W})=>u.jsx("li",{className:"leading-6",children:W}),blockquote:({children:W})=>u.jsx("blockquote",{className:"border-l-2 border-blue-400/40 pl-4 text-gray-300 italic",children:W}),a:({href:W,children:ce})=>u.jsx("a",{className:"text-blue-300 hover:text-blue-200 underline underline-offset-2",href:W,target:"_blank",rel:"noreferrer",children:ce}),table:({children:W})=>u.jsx("div",{className:"overflow-x-auto rounded-xl border border-white/10 bg-black/30",children:u.jsx("table",{className:"w-full border-collapse text-left text-sm",children:W})}),th:({children:W})=>u.jsx("th",{className:"border-b border-white/10 bg-white/5 px-3 py-2 text-xs uppercase tracking-wide text-gray-300",children:W}),td:({children:W})=>u.jsx("td",{className:"border-b border-white/10 px-3 py-2 text-gray-200",children:W}),pre:({children:W})=>u.jsx("pre",{className:"overflow-x-auto rounded-xl bg-black/40 p-4 text-xs text-blue-100",children:W}),code:W=>{const{inline:ce,children:Me}=W;return ce===!0?u.jsx("code",{className:"rounded bg-black/40 px-1.5 py-0.5 text-[11px] text-blue-200",children:Me}):u.jsx("code",{className:"whitespace-pre-wrap text-blue-100",children:Me})}},children:zv})]});if(t){const W=ct(ye,"svg/ArcBridge.svg"),ce=Re=>{V(()=>{const tt={};return ue.forEach(Wt=>{tt[Wt.id]=Wt.id===Re}),tt})},Me=Re=>{ne.current=null,B(Re),window.scrollTo({top:0,behavior:"smooth"})},Xe=Re=>{if(!G[Re]){ce(Re),Me(Re);return}if(Re!==N){Me(Re);return}V(tt=>({...tt,[Re]:!1}))},_t=(Re,tt)=>{G[Re]||ce(Re);const Wt=Re===N;Wt||(ne.current=tt,B(Re),window.scrollTo({top:0,behavior:"auto"})),Wt&&requestAnimationFrame(()=>Sr(tt))},jt=Re=>{const tt=Re.currentTarget;if(!(tt.scrollHeight>tt.clientHeight)){window.scrollBy({top:Re.deltaY,behavior:"auto"}),Re.preventDefault();return}const Wt=tt.scrollTop<=0,Gt=tt.scrollTop+tt.clientHeight>=tt.scrollHeight-1;(Wt&&Re.deltaY<0||Gt&&Re.deltaY>0)&&(window.scrollBy({top:Re.deltaY,behavior:"auto"}),Re.preventDefault())},ft=Re=>{const tt=H.current;if(!tt)return;const Wt=Re.target;if(!Wt||!tt.contains(Wt))return;let Gt=Wt;for(;Gt&&Gt!==tt;){const hr=window.getComputedStyle(Gt).overflowY;if((hr==="auto"||hr==="scroll")&&Gt.scrollHeight>Gt.clientHeight+1){const jr=Gt.scrollTop<=0,Vr=Gt.scrollTop+Gt.clientHeight>=Gt.scrollHeight-1;(Re.deltaY<0&&jr||Re.deltaY>0&&Vr)&&(window.scrollBy({top:Re.deltaY,behavior:"auto"}),Re.preventDefault());return}Gt=Gt.parentElement}},un=Re=>{const tt=Math.max(0,6-Re);return{accordionDuration:.5+tt*.07,itemDuration:.34+tt*.035,stagger:.05+tt*.01,delayChildren:.06+tt*.015}},Dn=Re=>{const tt=un(Re);return{open:{transition:{staggerChildren:tt.stagger,delayChildren:tt.delayChildren}},closed:{transition:{staggerChildren:Math.max(.02,tt.stagger*.7),staggerDirection:-1}}}},Nr={open:{opacity:1,y:0},closed:{opacity:0,y:-2}};return u.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:sr?"var(--bg-base)":sn?"#0f141c":"#0f172a",backgroundImage:sr?"none":ha,...yn},children:[!sr&&u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),u.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),u.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),u.jsx("div",{className:`fixed inset-0 z-20 bg-black/40 backdrop-blur-sm transition-opacity lg:hidden ${g?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>b(!1)}),u.jsx("aside",{className:`fixed z-30 top-0 bottom-0 w-64 max-w-[80vw] transition-transform duration-300 lg:hidden ${g?"translate-x-0":"-translate-x-full"}`,children:u.jsxs("div",{className:"h-full bg-white/5 border-r border-white/10 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.45)] flex flex-col",children:[u.jsxs("div",{className:"px-5 pt-6 pb-4 flex items-center justify-between",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"Contents"}),u.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-white transition-colors","aria-label":"Close table of contents",children:""})]}),u.jsx("div",{className:"px-5 pb-4",children:u.jsxs("a",{href:"./",className:"w-full inline-flex items-center gap-3 px-4 py-2.5 rounded-xl bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[u.jsx("span",{className:"h-8 w-8 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:u.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[u.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),u.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})}),u.jsx("nav",{className:"px-3 pb-6 space-y-3 text-sm overflow-y-auto [overflow-anchor:none]",onWheel:jt,children:ue.map(Re=>{const tt=Re.icon,Wt=Re.id===N,Gt=!!G[Re.id],hr=un(Re.items.length),jr=Dn(Re.items.length);return u.jsxs(Ao.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[u.jsxs("button",{onClick:()=>Xe(Re.id),className:`w-full text-left flex items-center gap-3 px-3 py-2 rounded-lg border transition-colors ${Wt?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(tt,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"text-[11px] uppercase tracking-[0.22em] whitespace-nowrap",children:Re.label}),u.jsx(Ao.span,{className:"ml-auto inline-flex",animate:{rotate:Gt?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:u.jsx(Yl,{className:"w-4 h-4 text-gray-300"})})]}),u.jsx(Ao.div,{initial:!1,animate:Gt?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:hr.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:u.jsx(Ao.div,{variants:jr,initial:!1,animate:Gt?"open":"closed",className:"space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:Re.items.map(Vr=>{const Al=Vr.icon;return u.jsxs(Ao.button,{variants:Nr,transition:{duration:hr.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>{_t(Re.id,Vr.id),b(!1)},className:"w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-md text-[12px] text-gray-200 border border-transparent hover:border-white/10 hover:bg-white/10 transition-colors transform-gpu",children:[u.jsx(Al,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),Vr.label]},Vr.id)})})},`${Re.id}-submenu-mobile`)]},Re.id)})})]})}),u.jsx("aside",{className:"hidden lg:flex fixed inset-y-0 left-0 w-64 border-r border-white/10 bg-white/5 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.5)] z-20",children:u.jsxs("div",{className:"flex flex-col w-full",children:[u.jsx("div",{className:"px-6 pt-6 pb-5",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"h-10 w-10 rounded-2xl border border-white/20",style:{backgroundColor:Qr,maskImage:`url(${W})`,WebkitMaskImage:`url(${W})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"65%",WebkitMaskSize:"65%"},"aria-label":"ArcBridge logo"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"ArcBridge Reports"}),u.jsx("div",{className:"text-sm font-semibold text-white",children:"Navigation"})]})]})}),u.jsx("nav",{className:"px-4 space-y-4 text-sm flex-1 overflow-y-auto [overflow-anchor:none]",onWheel:jt,children:ue.map(Re=>{const tt=Re.icon,Wt=Re.id===N,Gt=!!G[Re.id],hr=un(Re.items.length),jr=Dn(Re.items.length);return u.jsxs(Ao.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-2",children:[u.jsxs("button",{onClick:()=>Xe(Re.id),className:`w-full text-left flex items-center gap-3 px-3 py-2.5 rounded-xl border transition-colors ${Wt?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[u.jsx(tt,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"text-[11px] uppercase tracking-[0.22em] whitespace-nowrap",children:Re.label}),u.jsx(Ao.span,{className:"ml-auto inline-flex",animate:{rotate:Gt?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:u.jsx(Yl,{className:"w-4 h-4 text-gray-300"})})]}),u.jsx(Ao.div,{initial:!1,animate:Gt?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:hr.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:u.jsx(Ao.div,{variants:jr,initial:!1,animate:Gt?"open":"closed",className:"space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:Re.items.map(Vr=>{const Al=Vr.icon;return u.jsxs(Ao.button,{variants:Nr,transition:{duration:hr.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>_t(Re.id,Vr.id),className:"w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-lg text-[12px] text-gray-200 border border-transparent hover:border-white/10 hover:bg-white/10 transition-colors transform-gpu",children:[u.jsx(Al,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),Vr.label]},Vr.id)})})},`${Re.id}-submenu-desktop`)]},Re.id)})}),u.jsx("div",{className:"border-t border-white/10",children:u.jsxs("a",{href:"./",className:"w-full inline-flex items-center gap-3 px-6 py-4 bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[u.jsx("span",{className:"h-9 w-9 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:u.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[u.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),u.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})})]})}),u.jsxs("div",{className:"max-w-[1600px] mx-1 sm:mx-2 lg:mx-auto px-4 pt-3 pb-5 sm:px-6 sm:pt-4 sm:pb-6 lg:pl-[17rem] lg:pr-10 mobile-bottom-pad",children:[u.jsx("div",{className:`${Fl} p-5 sm:p-6 mb-6 mx-1 sm:mx-1 lg:mx-0`,style:nn,children:u.jsxs("div",{className:"flex flex-col gap-4 sm:gap-5 lg:flex-row lg:items-center lg:justify-between",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 text-center sm:text-left",children:[m&&(y?u.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:Qr,maskImage:`url(${m})`,WebkitMaskImage:`url(${m})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):u.jsx("img",{src:m,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge Log Report"}),u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-1",children:t.meta.title}),u.jsx("div",{className:"text-xs sm:text-sm text-gray-400 mt-2",children:t.meta.dateLabel||_P(t.meta.dateStart,t.meta.dateEnd)})]})]}),u.jsxs("button",{onClick:()=>b(!0),className:"hidden sm:flex lg:hidden px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-xs uppercase tracking-widest text-gray-300 hover:border-white/30 transition-colors items-center gap-2",children:[u.jsx(zN,{className:"w-4 h-4"}),"Contents"]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:flex sm:flex-wrap sm:overflow-visible pr-1 sm:pr-2",children:[u.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 inline-flex items-center gap-2 min-w-0 justify-start",children:[u.jsx(oz,{className:"w-4 h-4 text-[color:var(--accent)]"}),t.meta.dateLabel||"Log Range"]}),u.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[u.jsx(Ar,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"truncate",children:t.meta.commanders.length?t.meta.commanders.join(", "):"No Commanders"})]}),u.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[u.jsx(iD,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Report ",t.meta.appVersion?`v${t.meta.appVersion}`:"build"]})]})]})}),u.jsxs("div",{className:"sm:hidden mb-4",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400 mb-2",children:"Jump to"}),u.jsx("div",{className:"flex gap-2 overflow-x-auto pr-2 pb-1 snap-x snap-mandatory",children:((dt==null?void 0:dt.items)||[]).map(Re=>{const tt=Re.icon;return u.jsxs("button",{onClick:()=>_t((dt==null?void 0:dt.id)||"overview",Re.id),className:"group flex items-center gap-2 px-3 py-2 rounded-full text-[10px] uppercase tracking-widest text-gray-200 whitespace-nowrap border border-white/15 bg-gradient-to-br from-white/10 via-white/5 to-transparent shadow-[0_10px_25px_rgba(0,0,0,0.35)] backdrop-blur-xl transition-all duration-200 hover:-translate-y-0.5 hover:border-[color:var(--accent-border)] hover:shadow-[0_18px_35px_rgba(0,0,0,0.45)] active:translate-y-0 active:scale-[0.98] snap-start",children:[u.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-white/10 border border-white/10 group-hover:border-[color:var(--accent-border)] group-hover:bg-[color:var(--accent-glow)] transition-colors",children:u.jsx(tt,{className:"w-3 h-3 text-[color:var(--accent)]"})}),Re.label]},`chip-${Re.id}`)})})]}),u.jsx("div",{ref:H,onWheelCapture:ft,className:"flex-1 min-w-0",children:u.jsx("div",{id:"stats-view-top",children:u.jsx(_ae,{logs:[],onBack:()=>{},mvpWeights:void 0,precomputedStats:t.stats,statsViewSettings:(e=t.stats)==null?void 0:e.statsViewSettings,embedded:!0,uiTheme:w,sectionVisibility:Re=>tn.has(Re),dashboardTitle:`Statistics Dashboard - ${(dt==null?void 0:dt.label)||"Overview"}`})})}),u.jsx("div",{className:"mt-10",children:Ml})]}),u.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-30 sm:hidden mobile-action-bar",children:u.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-2xl bg-slate-950/70 border border-white/15 backdrop-blur-xl px-3 py-2 shadow-[0_20px_50px_rgba(0,0,0,0.45)]",children:[u.jsxs("a",{href:"./",className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(nD,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Back"]}),u.jsxs("button",{onClick:()=>b(!0),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(zN,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Contents"]}),u.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[u.jsx(iz,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Top"]})]})}),Vo]})}return u.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:sr?"var(--bg-base)":sn?"#0f141c":"#0f172a",backgroundImage:sr?"none":ha,...yn},children:[!sr&&u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),u.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),u.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),u.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 pt-4 pb-8 sm:px-6 sm:pt-5 sm:pb-10",children:[u.jsxs("div",{id:"report-list-container",className:"rounded-2xl border border-white/5 bg-black/20 p-4 sm:p-6",children:[u.jsxs("div",{id:"report-top",className:`${Fl} p-5 sm:p-6 mb-6 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between`,style:nn,children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 min-h-[56px] text-center sm:text-left",children:[m&&(y?u.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:Qr,maskImage:`url(${m})`,WebkitMaskImage:`url(${m})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):u.jsx("img",{src:m,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge"}),u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-2",children:"Command Reports"}),u.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"Select a report to view the full stats dashboard."})]})]}),u.jsx("div",{className:"flex flex-col sm:flex-row sm:items-end gap-3",children:u.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300",children:[Ur.length," Reports"]})})]}),u.jsxs("div",{className:`${Fl} px-4 py-3 mb-6 flex flex-col md:flex-row gap-3 md:items-center md:justify-between`,style:nn,children:[u.jsx("input",{type:"search",value:c,onChange:W=>d(W.target.value),placeholder:"Search reports, commanders, or date...",className:"w-full md:flex-1 bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-sm text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]"}),u.jsxs("div",{className:"text-[11px] sm:text-xs text-gray-400",children:["Showing ",u.jsx("span",{className:"text-[color:var(--accent)]",children:Ur.length})," of"," ",u.jsx("span",{className:"text-[color:var(--accent)]",children:Pr.length})]})]}),i&&u.jsxs("div",{className:"mb-6 rounded-2xl border border-amber-400/40 bg-amber-500/10 px-6 py-5 text-amber-100 shadow-xl backdrop-blur-md",style:nn,children:[u.jsx("div",{className:"text-sm uppercase tracking-widest text-amber-200/70",children:"Warning"}),u.jsx("div",{className:"mt-2 text-base font-semibold text-white",children:i}),s&&u.jsxs("div",{className:"text-xs text-amber-100/80 mt-2",children:["Looking for: ",u.jsx("span",{className:"text-amber-50",children:s})]})]}),!i&&!r&&u.jsx("div",{className:`${Fl} p-6 text-gray-300`,style:nn,children:"Loading reports..."}),Ur.length>0&&u.jsx("div",{className:"flex flex-col gap-3",children:Ur.map(W=>{var ce,Me,Xe,_t;return u.jsx("a",{href:W.url,className:`${Fl} px-5 py-4 hover:border-[color:var(--accent-border)] transition-colors group`,style:nn,children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-4",children:[u.jsxs("div",{className:"min-w-0 block text-left",children:[u.jsx("div",{className:"text-[11px] uppercase tracking-widest text-gray-400",children:W.dateLabel}),u.jsx("div",{className:"text-base sm:text-lg font-semibold mt-1 truncate",children:Khe(W.dateStart)}),u.jsxs("div",{className:"text-xs text-gray-400 mt-1 flex items-center gap-2",children:[u.jsx(Ar,{className:"w-4 h-4 text-[color:var(--accent)]"}),u.jsx("span",{className:"truncate",children:W.commanders.length?W.commanders.join(", "):"No Commanders"})]})]}),u.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3 sm:gap-4 sm:mt-0 mt-2 w-full sm:w-auto",children:[u.jsx("div",{className:"flex flex-col items-center gap-1 text-[10px] text-gray-400",children:(ce=W.summary)!=null&&ce.mapSlices&&W.summary.mapSlices.length>0?u.jsxs(u.Fragment,{children:[u.jsx(Ghe,{slices:W.summary.mapSlices}),u.jsx("span",{className:"uppercase tracking-widest",children:"Maps"})]}):u.jsxs(u.Fragment,{children:[u.jsx(Yhe,{value:(Me=W.summary)==null?void 0:Me.borderlandsPct}),u.jsx("span",{className:"uppercase tracking-widest",children:"Borderlands"})]})}),u.jsxs("div",{className:"flex flex-col items-end gap-1",children:[u.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:"Avg Squad / Enemy"}),u.jsxs("div",{className:"text-sm text-white font-semibold",children:[((Xe=W.summary)==null?void 0:Xe.avgSquadSize)??"--"," / ",((_t=W.summary)==null?void 0:_t.avgEnemySize)??"--"]})]}),u.jsx(uz,{className:"w-5 h-5 text-[color:var(--accent)] opacity-60 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity"})]})]})},W.id)})}),!i&&r&&Pr.length===0&&u.jsx("div",{className:`${Fl} p-6 text-gray-300`,style:nn,children:"No reports uploaded yet."}),!i&&r&&Pr.length>0&&Ur.length===0&&u.jsx("div",{className:`${Fl} p-6 text-gray-300`,style:nn,children:"No reports match your search."})]}),u.jsx("div",{className:"mt-8",children:Ml})]}),Vo]})}document.documentElement.classList.add("web-report");document.body.classList.add("web-report");tb.createRoot(document.getElementById("root")).render(u.jsx(Bg.StrictMode,{children:u.jsx(Xhe,{})}));
